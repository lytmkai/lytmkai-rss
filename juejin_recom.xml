<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[MySQL æ•°æ®åº“ä¸­çš„é”æœ‰å“ªäº›ï¼Ÿä¸€ç¯‡æ–‡ç« ç»™ä½ è®²æ˜ç™½]]></title>    <link>https://juejin.cn/post/7603561363571081279</link>    <guid>https://juejin.cn/post/7603561363571081279</guid>    <pubDate>2026-02-06T09:42:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603561363571081279" data-draft-id="7603383059152257066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL æ•°æ®åº“ä¸­çš„é”æœ‰å“ªäº›ï¼Ÿä¸€ç¯‡æ–‡ç« ç»™ä½ è®²æ˜ç™½"/> <meta itemprop="keywords" content="æ•°æ®åº“,åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T09:42:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="chlk123"/> <meta itemprop="url" content="https://juejin.cn/user/502907612446611"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL æ•°æ®åº“ä¸­çš„é”æœ‰å“ªäº›ï¼Ÿä¸€ç¯‡æ–‡ç« ç»™ä½ è®²æ˜ç™½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/502907612446611/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    chlk123
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:42:43.000Z" title="Fri Feb 06 2026 09:42:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšåç«¯å¼€å‘çš„æœ‹å‹ä¸ç®¡æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿˜æ˜¯åœ¨çº¿ä¸Šç¯å¢ƒï¼Œäº¦æˆ–è€…æ˜¯é¢è¯•ä¸­ï¼Œå¤šå¤šå°‘å°‘è‚¯å®šéƒ½é‡è¿‡ MySQL é”ç›¸å…³çš„é—®é¢˜ã€‚</p>
<p>å…¶å®MySQLé”é—®é¢˜è¿˜æŒºå¸¸è§çš„ã€‚æ¯”å¦‚çº¿ä¸Šä¸šåŠ¡çªç„¶å¡é¡¿ã€çº¿ä¸Šçªç„¶å‡ºç°äº‹åŠ¡é˜»å¡ã€æ­»é”æŠ¥é”™ï¼Œè¿™äº›é—®é¢˜æŸ¥åˆ°æœ€åå‘ç°åŸºæœ¬éƒ½æ˜¯ MySQL é”å†²çªé—®é¢˜ã€‚æ˜¯ä¸æ˜¯æœ‰æ—¶å¬åˆ«äººè¯´èµ·è¡Œé”ã€è¡¨é”ï¼Œè‡ªå·±å´ä¸€å¤´é›¾æ°´ï¼Ÿè™½ç„¶MySQL é‡Œçš„é”çœ‹èµ·æ¥äº”èŠ±å…«é—¨ï¼Œä½†å…¶å® MySQL çš„é”è¯´å¤æ‚ä¹Ÿå¤æ‚ï¼Œè¯´ç®€å•å§ï¼Œç†æ¸…åˆ†ç±»é€»è¾‘å°±èƒ½ç†è§£äº†ã€‚</p>
<p>ä¸‹é¢ä¸€å¼ å›¾å‘Šè¯‰ä½ ä»ä¸åŒçš„ç»´åº¦ç†è§£MySQLçš„é”ã€‚
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7603657844071661622/image/generate_image_738bf643-f355-425f-8d50-90a210ecfd63.jpeg?sign=1801902147-8517affaaf-0-52f8cb31ae23fdfa0d60cac7bc10977803d639a456ff5d9e54aee206563e2f20" alt="image" loading="lazy"/></p>
<h2 data-id="heading-0">å…ˆä»åˆ†ç±»ç»´åº¦ç†æ¸…æ¥š</h2>
<p>MySQL çš„é”è¯´èµ·æ¥å¤æ‚ï¼Œä½†å…¶å®æŒ‰ä¸åŒç»´åº¦æ‹†åˆ†ä¸€ä¸‹å°±æ¸…æ™°å¤šäº†ã€‚å’±ä»¬å¯ä»¥ä»æœ€å¸¸ç”¨çš„å‡ ä¸ªåˆ†ç±»å¼€å§‹å±•å¼€è¯´ï¼š</p>
<h3 data-id="heading-1">1. æŒ‰é”å®šç²’åº¦åˆ†ï¼šè¡¨ã€è¡Œã€é¡µçº§é”</h3>
<p>è¿™åº”è¯¥æ˜¯æœ€ç›´è§‚çš„åˆ†ç±»äº†ï¼Œæ¯•ç«Ÿé”å®šçš„èŒƒå›´ç›´æ¥å½±å“å¹¶å‘æ€§èƒ½ã€‚</p>
<ul>
<li><strong>è¡¨çº§é”</strong>ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼Œä¹Ÿä¸ä¼šå‡ºç°æ­»é”ï¼Œä½†æ¶ä¸ä½é”å®šç²’åº¦å¤§å•Šï¼Œé”å†²çªæ¦‚ç‡ç›´æ¥æ‹‰æ»¡ï¼Œå¹¶å‘åº¦å°±é«˜ä¸èµ·æ¥äº†ã€‚åƒ MyISAM å¼•æ“å°±åªæ”¯æŒè¡¨é”ï¼ŒInnoDB åœ¨ç‰¹æ®Šæƒ…å†µï¼ˆæ¯”å¦‚å…¨è¡¨æ‰«ææ²¡ç”¨åˆ°ç´¢å¼•ï¼‰ä¸‹ä¹Ÿä¼šè§¦å‘è¡¨é”ã€‚</li>
<li><strong>è¡Œçº§é”</strong>ï¼šInnoDB çš„çœ‹å®¶æœ¬é¢†ï¼Œé”å®šç²’åº¦æœ€å°ï¼Œé”å†²çªæ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦è‡ªç„¶æœ€é«˜ã€‚ä½†æ˜¯å§ï¼Œå®ƒå¼€é”€å¤§ã€åŠ é”æ…¢ï¼Œè¿˜å®¹æ˜“å‡ºç°æ­»é”ï¼Œæ¯•ç«Ÿæ¯ä¸ªäº‹åŠ¡éƒ½ç›¯ç€ä¸åŒçš„è¡Œï¼Œä¸€ä¸å°å¿ƒå°±äº’ç›¸ç­‰å¯¹æ–¹é‡Šæ”¾é”äº†ã€‚</li>
<li><strong>é¡µçº§é”</strong>ï¼šè¿™ä¸ªç”¨å¾—ä¸å¤šï¼Œå¼€é”€å’ŒåŠ é”æ—¶é—´ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¹Ÿå°±ä¸€èˆ¬èˆ¬ï¼Œä¸»è¦æ˜¯ BDB å¼•æ“åœ¨ç”¨ï¼Œå’±ä»¬æ—¥å¸¸å¼€å‘æ¥è§¦å¾—å°‘ï¼Œäº†è§£å°±è¡Œã€‚</li>
</ul>
<h3 data-id="heading-2">2. æŒ‰é”çš„çº§åˆ«åˆ†ï¼šå…±äº«ã€æ’ä»–ã€æ„å‘é”å„å¸å…¶èŒ</h3>
<p>è¿™ä¸ªç»´åº¦æ˜¯å›´ç»•è¯»å†™æ“ä½œçš„æƒé™æ¥çš„ï¼Œæ ¸å¿ƒå°±æ˜¯è§£å†³ "èƒ½ä¸èƒ½åŒæ—¶è¯»"ã€"èƒ½ä¸èƒ½åŒæ—¶å†™" çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>å…±äº«é”ï¼ˆS é” / è¯»é”ï¼‰</strong>ï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¤šä¸ªäº‹åŠ¡å¯ä»¥åŒæ—¶åŠ çš„é”ï¼ŒåŠ äº†ä¹‹ååªèƒ½è¯»ä¸èƒ½æ”¹ã€‚æ¯”å¦‚æ‰§è¡Œ<code>select ... lock in share mode</code>ï¼Œå…¶ä»–äº‹åŠ¡ä¹Ÿèƒ½åŠ  S é”è¯»ï¼Œä½†æƒ³åŠ å†™é”å°±å¾—ç­‰äº†ã€‚</li>
<li><strong>æ’ä»–é”ï¼ˆX é” / å†™é”ï¼‰</strong>ï¼šè¿™å°±éœ¸é“å¤šäº†ï¼Œä¸€ä¸ªäº‹åŠ¡åŠ äº† X é”ï¼Œå…¶ä»–äº‹åŠ¡å•¥é”éƒ½åŠ ä¸äº†ï¼Œåªèƒ½ç­‰ç€ã€‚åƒ<code>update</code>ã€<code>delete</code>è¯­å¥ï¼ŒInnoDB ä¼šè‡ªåŠ¨ç»™æ¶‰åŠçš„è¡ŒåŠ  X é”ï¼Œ<code>select ... for update</code>ä¹Ÿèƒ½æ‰‹åŠ¨åŠ ã€‚</li>
<li><strong>æ„å‘é”ï¼ˆIS/IXï¼‰</strong>ï¼šè¿™ä¸ªæ˜¯ InnoDB ä¸ºäº†å¿«é€Ÿåˆ¤æ–­è¡¨ä¸­æœ‰æ²¡æœ‰è¡Œé”è€Œæçš„ "å‰ç½®é”"ã€‚æ¯”å¦‚ä½ è¦ç»™æŸè¡ŒåŠ  S é”ï¼Œå¾—å…ˆç»™è¡¨åŠ  IS æ„å‘å…±äº«é”ï¼›è¦åŠ  X é”ï¼Œå…ˆåŠ  IX æ„å‘æ’ä»–é”ã€‚è¿™æ ·å½“æœ‰äººæƒ³åŠ è¡¨é”çš„æ—¶å€™ï¼Œä¸ç”¨é€è¡Œæ£€æŸ¥æœ‰æ²¡æœ‰é”ï¼Œçœ‹ä¸€çœ¼æ„å‘é”å°±çŸ¥é“äº†ï¼Œçœäº†ä¸å°‘äº‹å„¿ã€‚</li>
</ul>
<h3 data-id="heading-3">3. å…¶ä»–å®ç”¨åˆ†ç±»</h3>
<p>é™¤äº†ä¸Šé¢ä¸¤ä¸ªæ ¸å¿ƒç»´åº¦ï¼Œè¿˜æœ‰å‡ ä¸ªåˆ†ç±»ä¹Ÿå¾—çŸ¥é“ï¼š</p>
<ul>
<li><strong>æŒ‰æ“ä½œåˆ’åˆ†</strong>ï¼šDML é”ï¼ˆé’ˆå¯¹æ•°æ®å¢åˆ æ”¹æŸ¥ï¼‰ã€DDL é”ï¼ˆé’ˆå¯¹è¡¨ç»“æ„ä¿®æ”¹ï¼‰ï¼Œæ¯”å¦‚æ‰§è¡Œ<code>alter table</code>çš„æ—¶å€™ï¼Œå°±ä¼šåŠ  DDL å†™é”ï¼Œé˜»å¡æ‰€æœ‰ DML æ“ä½œã€‚</li>
<li><strong>æŒ‰åŠ é”æ–¹å¼åˆ’åˆ†</strong>ï¼šè‡ªåŠ¨é”ï¼ˆæ¯”å¦‚ InnoDB æ‰§è¡Œ<code>update</code>è‡ªåŠ¨åŠ  X é”ï¼‰å’Œæ˜¾ç¤ºé”ï¼ˆæ¯”å¦‚æ‰‹åŠ¨æ‰§è¡Œ<code>lock tables</code>æˆ–è€…<code>select ... for update</code>ï¼‰ã€‚</li>
<li><strong>æŒ‰å¹¶å‘ç­–ç•¥åˆ’åˆ†</strong>ï¼šæ‚²è§‚é”å’Œä¹è§‚é”ã€‚æ‚²è§‚é”å°±æ˜¯é»˜è®¤è§‰å¾—ä¼šæœ‰å†²çªï¼Œå…ˆåŠ é”å†æ“ä½œï¼Œæ¯”å¦‚å‰é¢è¯´çš„ X é”ã€S é”ï¼›ä¹è§‚é”åˆ™æ˜¯é»˜è®¤æ²¡å†²çªï¼Œç”¨ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³æ¥æ§åˆ¶ï¼Œæ¯”å¦‚æ›´æ–°çš„æ—¶å€™åŠ ä¸ª<code>where version = 1</code>ï¼Œåªæœ‰ç‰ˆæœ¬åŒ¹é…æ‰æ›´æ–°ï¼Œé€‚åˆå¹¶å‘å†²çªå°‘çš„åœºæ™¯ã€‚</li>
</ul>
<h2 data-id="heading-4">å‡ ç§å…·ä½“çš„å¸¸ç”¨é”</h2>
<p>å…‰è¯´åˆ†ç±»å¤ªæŠ½è±¡ï¼Œå’±ä»¬å¯ä»¥çœ‹çœ‹å®é™…å¼€å‘ä¸­ç»å¸¸é‡åˆ°çš„é”ï¼š</p>
<h3 data-id="heading-5">å…¨å±€é”ï¼šé”æ•´ä¸ªæ•°æ®åº“å®ä¾‹</h3>
<p>å¬åå­—å°±çŸ¥é“èŒƒå›´æœ‰å¤šå¤§äº†ï¼Œæ‰§è¡Œ<code>flush tables with read lock</code>ï¼ˆFTWRLï¼‰å°±èƒ½ç»™æ•´ä¸ªåº“åŠ å…¨å±€è¯»é”ï¼ŒåŠ äº†ä¹‹åæ•´ä¸ªåº“å°±åªè¯»äº†ï¼Œå¢åˆ æ”¹ã€DDLã€äº‹åŠ¡æäº¤å…¨éƒ½ä¼šè¢«é˜»å¡ã€‚
è¿™ä¸ªé”ä¸»è¦ç”¨åœ¨å…¨åº“é€»è¾‘å¤‡ä»½çš„æ—¶å€™ï¼Œä½†è¦æ³¨æ„ï¼ŒInnoDB å¯ä»¥ç”¨<code>mysqldump --single-transaction</code>æ¥åšä¸€è‡´æ€§å¤‡ä»½ï¼Œä¸ç”¨åŠ å…¨å±€é”ï¼Œå› ä¸ºå®ƒä¼šå¯åŠ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œåˆ©ç”¨ MVCC æ‹¿åˆ°ä¸€è‡´æ€§è§†å›¾ã€‚ä½†æ˜¯å§ï¼Œå¦‚æœæ˜¯ MyISAM è¿™ç§ä¸æ”¯æŒäº‹åŠ¡çš„å¼•æ“ï¼Œé‚£è¿˜æ˜¯å¾—ç”¨ FTWRLã€‚
è¿™é‡Œè¦æä¸ªå‘ï¼Œåˆ«ç”¨<code>set global readonly = true</code>æ¥ä»£æ›¿ FTWRLï¼Œå› ä¸ºå¦‚æœå®¢æˆ·ç«¯å¼‚å¸¸æ–­å¼€ï¼ŒFTWRL ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼Œä½†<code>readonly</code>ä¸ä¼šï¼Œæä¸å¥½å°±æŠŠåº“ä¸€ç›´é”åœ¨é‚£å„¿äº†ã€‚</p>
<h3 data-id="heading-6">å…ƒæ•°æ®é”ï¼ˆMDLï¼‰ï¼šè¡¨ç»“æ„å®ˆæŠ¤è€…</h3>
<p>è¿™ä¸ªé”æ˜¯ InnoDB è‡ªåŠ¨åŠ çš„ï¼Œä½ ç”šè‡³æ„ŸçŸ¥ä¸åˆ°å®ƒçš„å­˜åœ¨ï¼Œä½†å®ƒå´å¾ˆé‡è¦ã€‚æ¯”å¦‚ä½ æ‰§è¡Œ<code>select</code>ã€<code>update</code>è¿™äº› DML æ“ä½œï¼ŒInnoDB ä¼šè‡ªåŠ¨åŠ  MDL è¯»é”ï¼›æ‰§è¡Œ<code>alter table</code>è¿™ç§ DDL æ“ä½œï¼Œä¼šåŠ  MDL å†™é”ã€‚
MDL è¯»é”ä¹‹é—´ä¸äº’æ–¥ï¼Œè¯»é”å’Œå†™é”ã€å†™é”å’Œå†™é”æ˜¯äº’æ–¥çš„ï¼Œè¿™æ ·å°±èƒ½é˜²æ­¢ä¸€ä¸ªäº‹åŠ¡åœ¨ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡çªç„¶æ”¹äº†è¡¨ç»“æ„ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚
è¿™é‡Œæœ‰ä¸ªå®¹æ˜“è¸©çš„å‘ï¼šMDL é”æ˜¯åœ¨äº‹åŠ¡å¼€å§‹æ—¶ç”³è¯·ï¼Œäº‹åŠ¡æäº¤åæ‰é‡Šæ”¾çš„ã€‚æ¯”å¦‚ä½ å¼€äº†ä¸€ä¸ªäº‹åŠ¡ï¼Œåªæ˜¯æ‰§è¡Œäº†ä¸€ä¸ª<code>select</code>ï¼Œè¿™æ—¶å€™åŠ äº† MDL è¯»é”ï¼Œç„¶åä½ ä¸€ç›´ä¸æäº¤äº‹åŠ¡ï¼Œè¿™æ—¶å€™åˆ«äººè¦æ‰§è¡Œ<code>alter table</code>å°±ä¼šè¢«å¡ä½ï¼Œç›´åˆ°ä½ æäº¤äº‹åŠ¡ã€‚æˆ‘ä¹‹å‰å°±ç¢°åˆ°è¿‡ä¸€æ¬¡ï¼Œæ’æŸ¥äº†åŠå¤©æ‰å‘ç°æ˜¯ä¸ªæ²¡æäº¤çš„äº‹åŠ¡å ç€ MDL é”ï¼ŒçœŸæ˜¯è¡€æ³ªæ•™è®­å•Š!
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7603657844071661622/image/generate_image_db188797-e78c-40ee-ae6e-9309322da893.jpeg?sign=1801902180-a920b589c9-0-61bff1382cf2d94872609d7fd3349f6f4f6f1ddd2cd13bb461bc3fa916bd2003" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">è¡Œçº§é”çš„ç»†åˆ†ï¼šè®°å½•é”ã€é—´éš™é”ã€ä¸´é”®é”</h3>
<p>InnoDB çš„è¡Œé”å…¶å®è¿˜æœ‰æ›´ç»†çš„åˆ’åˆ†ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¹»è¯»é—®é¢˜ï¼š</p>
<ul>
<li><strong>è®°å½•é”</strong>ï¼šå°±æ˜¯ç»™æŸä¸€è¡Œè®°å½•åŠ é”ï¼Œæ¯”å¦‚<code>update user set name = 'å¼ ä¸‰' where id = 1</code>ï¼Œå¦‚æœ id æ˜¯ä¸»é”®ï¼Œé‚£å°±æ˜¯ç»™ id=1 çš„è¿™è¡ŒåŠ è®°å½•é”ã€‚</li>
<li><strong>é—´éš™é”</strong>ï¼šè¿™ä¸ªæ˜¯ InnoDB åœ¨ RRï¼ˆå¯é‡å¤è¯»ï¼‰éš”ç¦»çº§åˆ«ä¸‹æ‰æœ‰çš„ï¼Œå®ƒé”ä½çš„æ˜¯ä¸¤ä¸ªç´¢å¼•è®°å½•ä¹‹é—´çš„é—´éš™ï¼Œæ¯”å¦‚è¡¨ä¸­ id æœ‰ 1ã€3ã€5ï¼Œæ‰§è¡Œ<code>select * from user where id between 1 and 5 for update</code>ï¼Œä¼šé”ä½ (1,3)ã€(3,5) è¿™ä¸¤ä¸ªé—´éš™ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨ä¸­é—´æ’å…¥ id=2 æˆ– 4 çš„è®°å½•ï¼Œè§£å†³å¹»è¯»é—®é¢˜ã€‚</li>
<li><strong>ä¸´é”®é”</strong>ï¼šè¿™ä¸ªæ˜¯è®°å½•é” + é—´éš™é”çš„ç»„åˆï¼Œé»˜è®¤æƒ…å†µä¸‹ InnoDB åœ¨ RR éš”ç¦»çº§åˆ«ä¸‹åŠ çš„è¡Œé”éƒ½æ˜¯ä¸´é”®é”ã€‚æ¯”å¦‚æ‰§è¡Œ<code>select * from user where id &gt; 3 for update</code>ï¼Œä¼šé”ä½ (3,5]ã€(5, +âˆ) è¿™äº›åŒºé—´ï¼Œæ—¢é”ä½äº†å­˜åœ¨çš„è®°å½•ï¼Œä¹Ÿé”ä½äº†å¯èƒ½æ’å…¥çš„é—´éš™ã€‚</li>
</ul>
<p><img src="https://coze-coding-project.tos.coze.site/coze_storage_7603657844071661622/image/generate_image_69f14d74-fee3-44bf-9607-fd38466ff54c.jpeg?sign=1801902160-0c1b954a34-0-dad0219fdee9363dfe53505b097bc986646edb0310e6d049b2edf17ad09a8dfe" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æœ€åèŠèŠé”çš„å‘å’Œä¼˜åŒ–å»ºè®®</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå†ç»™å¤§å®¶æå‡ ä¸ªæ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li><strong>è¡Œé”å˜è¡¨é”</strong>ï¼šInnoDB çš„è¡Œé”æ˜¯åŸºäºç´¢å¼•çš„ï¼Œå¦‚æœä½ çš„æŸ¥è¯¢æ²¡ç”¨åˆ°ç´¢å¼•ï¼Œæˆ–è€…ç´¢å¼•å¤±æ•ˆäº†ï¼Œé‚£ InnoDB å°±ä¼šé€€åŒ–æˆè¡¨é”ï¼Œæ¯”å¦‚<code>update user set name = 'å¼ ä¸‰' where name = 'æå››'</code>ï¼Œå¦‚æœ name æ²¡æœ‰ç´¢å¼•ï¼Œé‚£å°±æ˜¯å…¨è¡¨æ‰«æï¼ŒåŠ è¡¨é”ï¼Œå¹¶å‘ç¬é—´å°±æ²¡äº†ã€‚</li>
<li><strong>æ­»é”é—®é¢˜</strong>ï¼šè¡Œé”å®¹æ˜“å‡ºç°æ­»é”ï¼Œæ¯”å¦‚äº‹åŠ¡ A é”ä½äº†è¡Œ 1ï¼Œç­‰ç€è¡Œ 2ï¼›äº‹åŠ¡ B é”ä½äº†è¡Œ 2ï¼Œç­‰ç€è¡Œ 1ï¼Œè¿™å°±æ­»é”äº†ã€‚InnoDB é»˜è®¤ä¼šå¼€å¯æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åä¼šå›æ»šä»£ä»·å°çš„äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>innodb_lock_wait_timeout</code>è®¾ç½®ç­‰å¾…è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 50 ç§’ã€‚</li>
<li><strong>åˆç†é€‰æ‹©éš”ç¦»çº§åˆ«</strong>ï¼šå¦‚æœä½ çš„ä¸šåŠ¡èƒ½æ¥å—å¹»è¯»ï¼ŒæŠŠéš”ç¦»çº§åˆ«æ”¹æˆ RCï¼ˆè¯»å·²æäº¤ï¼‰ï¼Œé‚£ InnoDB å°±ä¸ä¼šç”¨é—´éš™é”å’Œä¸´é”®é”äº†ï¼Œèƒ½å‡å°‘é”å†²çªï¼Œæå‡å¹¶å‘æ€§èƒ½ã€‚</li>
</ol>
<p>å…¶å®å§ï¼ŒMySQL çš„é”è™½ç„¶å¤šï¼Œä½†åªè¦ç†æ¸…åˆ†ç±»ï¼Œç†è§£æ¯ç§é”çš„é€‚ç”¨åœºæ™¯å’Œåº•å±‚é€»è¾‘ï¼Œé‡åˆ°é—®é¢˜çš„æ—¶å€™å°±èƒ½å¿«é€Ÿå®šä½äº†ã€‚æ¯”å¦‚çº¿ä¸Šå‡ºç°é”ç­‰å¾…ï¼Œå…ˆçœ‹çœ‹æ˜¯è¡¨é”è¿˜æ˜¯è¡Œé”ï¼Œå†çœ‹çœ‹æ˜¯å“ªä¸ªäº‹åŠ¡å ç€é”ï¼Œä¸€æ­¥æ­¥æ’æŸ¥æ€»èƒ½è§£å†³çš„ã€‚</p>
<p>æœ€åæƒ³é—®ä¸‹ï¼Œä½ åœ¨å¼€å‘ä¸­é‡åˆ°è¿‡æœ€å¤´ç–¼çš„é”é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[BigInt ä¸ Number çš„çˆ±æ¨æƒ…ä»‡ï¼Œä¸ºä½•å¤§ä½¬éƒ½åŠä½ â€œèƒ½ç”¨ Number å°±åˆ«ç”¨ BigIntâ€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7603393977477447706</link>    <guid>https://juejin.cn/post/7603393977477447706</guid>    <pubDate>2026-02-06T09:50:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603393977477447706" data-draft-id="7603321550247346226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="BigInt ä¸ Number çš„çˆ±æ¨æƒ…ä»‡ï¼Œä¸ºä½•å¤§ä½¬éƒ½åŠä½ â€œèƒ½ç”¨ Number å°±åˆ«ç”¨ BigIntâ€ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T09:50:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gogo1121"/> <meta itemprop="url" content="https://juejin.cn/user/4162081326907051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            BigInt ä¸ Number çš„çˆ±æ¨æƒ…ä»‡ï¼Œä¸ºä½•å¤§ä½¬éƒ½åŠä½ â€œèƒ½ç”¨ Number å°±åˆ«ç”¨ BigIntâ€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4162081326907051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Gogo1121
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:50:29.000Z" title="Fri Feb 06 2026 09:50:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>æœ€è¿‘åœ¨å†™ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„ Bugã€‚</p>
<p>æ•°æ®åº“é‡Œçš„ User ID æ˜¯ <code>101092432494557966</code>ï¼Œä½†æ˜¯å‰ç«¯è¯·æ±‚å›æ¥çš„æ•°æ®é‡Œï¼ŒID ç«Ÿç„¶å˜æˆäº† <code>101092432494557970</code>ï¼</p>
<p>å°¾æ•°çš„ <code>66</code> å˜æˆäº† <code>70</code>ï¼Œå¯¼è‡´å‰ç«¯æ‹¿è¿™ä¸ª ID å»æŸ¥è¯¦æƒ…æ—¶ï¼Œç›´æ¥æŠ¥ 404 Not Foundã€‚</p>
<p>è¿™ç®€ç›´æ˜¯â€œçµå¼‚äº‹ä»¶â€ã€‚æŸ¥äº†ä¸€åœˆä»£ç ï¼Œå‘ç°ç½ªé­ç¥¸é¦–ç«Ÿç„¶æ˜¯ <strong>JavaScript çš„ Number ç±»å‹</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿæ¡ˆå‘ç°åœº</span>
<span class="hljs-keyword">const</span> dbId = <span class="hljs-number">101092432494557966n</span>; <span class="hljs-comment">// BigInt ä»æ•°æ®åº“å‡ºæ¥</span>
<span class="hljs-keyword">const</span> apiResponse = <span class="hljs-title class_">Number</span>(dbId); <span class="hljs-comment">// æ‰‹è´±è½¬æˆäº† Number</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(apiResponse); 
<span class="hljs-comment">// è¾“å‡º: 101092432494557970 ğŸ˜±</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè¿™å°±å¼•å‡ºäº†ä»Šå¤©çš„ä¸»è§’ï¼š<strong>BigInt</strong> ä¸ <strong>Number</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ” åŸç†å‰–æï¼šNumber çš„â€œå®‰å…¨åŒºâ€</h2>
<p>JavaScript çš„ <code>Number</code> ç±»å‹æœ¬è´¨ä¸Šæ˜¯ <strong>IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°</strong>ã€‚</p>
<p>å®ƒä¸æ˜¯æ— é™ç²¾åº¦çš„ï¼Œå®ƒåªæœ‰ <strong>53 ä¸ªäºŒè¿›åˆ¶ä½</strong> ç”¨æ¥å­˜å‚¨æœ‰æ•ˆæ•°å­—ï¼ˆå°¾æ•°ï¼‰ã€‚</p>
<h3 data-id="heading-1">1. å®‰å…¨æ•´æ•°èŒƒå›´</h3>
<p>JS èƒ½â€œç²¾å‡†â€è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ <code>Number.MAX_SAFE_INTEGER</code>ï¼Œå³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>53</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{53} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">53</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ã€‚</p>
<p>æ•°å€¼ä¸ºï¼š<strong>9,007,199,254,740,991</strong>ï¼ˆçº¦ 9 åƒä¸‡äº¿ï¼‰ã€‚</p>
<h3 data-id="heading-2">2. ç²¾åº¦ä¸¢å¤±çš„çœŸç›¸</h3>
<p>ä¸€æ—¦æ•°å­—è¶…è¿‡è¿™ä¸ªå®‰å…¨èŒƒå›´ï¼ˆæ¯”å¦‚ä¸Šé¢çš„ 18 ä½ IDï¼‰ï¼ŒNumber çš„â€œåˆ»åº¦å°ºâ€å°±ä¸å¤Ÿç”¨äº†ã€‚å®ƒæ— æ³•åˆ†è¾¨ <code>...966</code> å’Œ <code>...970</code> ä¹‹é—´çš„å¾®å°å·®åˆ«ï¼Œåªèƒ½è¿›è¡Œâ€œå››èˆäº”å…¥â€ï¼Œå¼ºåˆ¶å¯¹é½åˆ°æœ€è¿‘çš„ä¸€ä¸ªå¯è¡¨ç¤ºæ•°å€¼ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ çš„ ID ä¼šå˜å¼‚ã€‚</p>
<hr/>
<h2 data-id="heading-3">âš”ï¸ BigInt çš„æ•‘èµä¸â€œä¸‰å®—ç½ªâ€</h2>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES2020 æ¨å‡ºäº† <code>BigInt</code>ã€‚å®ƒå¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚</p>
<p>çœ‹èµ·æ¥å¾ˆç¾å¥½å¯¹å§ï¼Ÿæ•°æ®åº“é‡Œçš„ <code>bigint</code> å­—æ®µç›´æ¥æ˜ å°„æˆ JS çš„ <code>BigInt</code> å¥½åƒå¾ˆå®Œç¾ã€‚</p>
<p><strong>ä½†æ˜¯ï¼Œåœ¨å®é™…å·¥ç¨‹ä¸­ï¼ŒBigInt å…¶å®æ˜¯ä¸ªâ€œåˆºå¤´â€ã€‚</strong> å¾ˆå¤šèµ„æ·±å¼€å‘è€…çš„åŸåˆ™æ˜¯ï¼š<strong>é™¤éè¿«ä¸å¾—å·²ï¼Œå°½é‡ç”¨ Numberã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º BigInt æœ‰ä¸‰å¤§â€œå·¥ç¨‹ç—›ç‚¹â€ï¼š</p>
<h3 data-id="heading-4">ç—›ç‚¹ä¸€ï¼šJSON åºåˆ—åŒ–ç‚¸å¼¹ï¼ˆæœ€è‡´å‘½ï¼‰</h3>
<p>è¿™æ˜¯ Node.js/NestJS å¼€å‘ä¸­æœ€å®¹æ˜“è¸©çš„å‘ã€‚</p>
<p><strong><code>JSON.stringify</code> ä¸æ”¯æŒ BigIntï¼</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> user = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">100n</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"John"</span>
};

<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);
<span class="hljs-comment">// âŒ æŠ¥é”™: TypeError: Do not know how to serialize a BigInt</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¦‚æœä½ çš„æ¥å£ç›´æ¥è¿”å›äº†åŒ…å« BigInt çš„å¯¹è±¡ï¼Œæ•´ä¸ªè¯·æ±‚ä¼šç›´æ¥ 500 æŒ‚æ‰ã€‚ä½ å¿…é¡»æ‰‹åŠ¨å¤„ç†æ¯ä¸€ä¸ªå­—æ®µï¼Œæˆ–è€…é…ç½®å…¨å±€æ‹¦æˆªå™¨ï¼Œéå¸¸éº»çƒ¦ã€‚</p>
<h3 data-id="heading-5">ç—›ç‚¹äºŒï¼šç”Ÿæ€éš”ç¦»</h3>
<p>JavaScript ç”Ÿæ€ä¸­ 99% çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆLodash, Chart.js, Mathjs, Excel å¯¼å‡ºåº“ç­‰ï¼‰éƒ½æ˜¯åŸºäº <code>Number</code> è®¾è®¡çš„ã€‚</p>
<p>å¦‚æœä½ ä¼ ä¸€ä¸ª <code>BigInt</code> è¿›å»ï¼Œå®ƒä»¬å¤§æ¦‚ç‡ä¼šæŠ¥é”™ï¼Œæˆ–è€…è®¡ç®—å‡ºå¥‡æ€ªçš„ç»“æœã€‚ä¸ºäº†å…¼å®¹ï¼Œä½ ä¸å¾—ä¸è½¬æ¥è½¬å»ï¼Œä»£ç å†™å¾—åƒé€šå¿ƒç²‰ã€‚</p>
<h3 data-id="heading-6">ç—›ç‚¹ä¸‰ï¼šä¸¥è‹›çš„ç±»å‹è¿ç®—</h3>
<p>JS ä¸å…è®¸ BigInt å’Œ Number æ··åˆè¿ç®—ï¼Œå¿…é¡»æ˜¾å¼è½¬æ¢ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">money</span> = <span class="hljs-number">100</span>n<span class="hljs-comment">;</span>
const <span class="hljs-attr">tax</span> = <span class="hljs-number">0.1</span><span class="hljs-comment">;</span>

// âŒ æŠ¥é”™: Cannot mix BigInt and other types
const <span class="hljs-attr">total</span> = money + tax<span class="hljs-comment">; </span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™åœ¨ä¸šåŠ¡é€»è¾‘å¤æ‚çš„ä»£ç ä¸­ï¼Œä¼šå¢åŠ å¤§é‡çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<hr/>
<h2 data-id="heading-7">ğŸ’¡ æœ€ä½³å®è·µï¼šæ€ä¹ˆé€‰ï¼Ÿæ€ä¹ˆå­˜ï¼Ÿæ€ä¹ˆä¼ ï¼Ÿ</h2>
<p>æ—¢ç„¶ Number æœ‰ç²¾åº¦ä¸Šé™ï¼ŒBigInt åˆéš¾ç”¨ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­åˆ°åº•è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä»¥ä¸‹æ˜¯ç»è¿‡å®æˆ˜éªŒè¯çš„ <strong>â€œé»„é‡‘æ³•åˆ™â€</strong> ã€‚</p>
<h3 data-id="heading-8">1. ä»€ä¹ˆæ—¶å€™å¿…é¡»ç”¨ BigIntï¼Ÿ</h3>
<p>åªæœ‰æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œæ‰å¼•å…¥ BigIntï¼š</p>
<ul>
<li><strong>åˆ†å¸ƒå¼ ID (Snowflake)</strong> ï¼šå¦‚ Twitter é›ªèŠ±ç®—æ³•ç”Ÿæˆçš„ IDï¼ˆ18-19 ä½ï¼‰ï¼Œå¿…è¶… Number å®‰å…¨èŒƒå›´ã€‚</li>
<li><strong>é«˜ç²¾åº¦æ—¶é—´æˆ³</strong>ï¼šçº³ç§’çº§è®¡æ—¶ã€‚</li>
<li><strong>åŠ å¯†è´§å¸/é‡‘è</strong>ï¼šæ¶‰åŠæ¯”ç‰¹å¸ç­‰è¶…å¤§æ•°å€¼è®¡ç®—ã€‚</li>
</ul>
<h3 data-id="heading-9">2. ä»€ä¹ˆæ—¶å€™åšå†³ç”¨ Numberï¼Ÿ</h3>
<ul>
<li><strong>é‡‘é¢ï¼ˆåˆ†ï¼‰</strong> ï¼šåªè¦ä¸šåŠ¡ä¸è¶…è¿‡ <strong>9 åƒä¸‡äº¿</strong>ï¼ˆç›¸ä¿¡æˆ‘ï¼Œä½ å…¬å¸çš„ä¸šåŠ¡å¾ˆéš¾è¶…è¿‡è¿™ä¸ªæ•°ï¼‰ï¼Œå­˜â€œåˆ†â€ç”¨ Number ç»°ç»°æœ‰ä½™ã€‚</li>
<li><strong>æ™®é€šè‡ªå¢ ID</strong>ï¼šMySQL çš„è‡ªå¢ä¸»é”®ã€‚</li>
<li><strong>æ•°é‡ã€åº“å­˜ã€ç‚¹èµæ•°</strong>ã€‚</li>
</ul>
<p><strong>ç†ç”±</strong>ï¼šäº«å—åŸç”Ÿ JSON æ”¯æŒï¼Œäº«å—æè‡´çš„ CPU æµ®ç‚¹è¿ç®—é€Ÿåº¦ï¼Œå…¼å®¹æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<h3 data-id="heading-10">3. å·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆï¼ˆæ ¸å¿ƒï¼‰</h3>
<p>é’ˆå¯¹â€œID ç²¾åº¦ä¸¢å¤±â€å’Œâ€œJSON æŠ¥é”™â€é—®é¢˜ï¼Œæ ‡å‡†çš„è§£å†³é“¾è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>æ•°æ®åº“å±‚</strong>ï¼šå¿…é¡»ç”¨ <code>BIGINT</code> æˆ– <code>VARCHAR</code> å­˜å‚¨ï¼Œç¡®ä¿æºå¤´ä¸ä¸¢ã€‚</p>
</li>
<li>
<p><strong>åç«¯è®¡ç®—å±‚</strong>ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯ IDï¼šç”¨ <code>BigInt</code> æˆ– <code>String</code> ä¼ é€’ã€‚</li>
<li>å¦‚æœæ˜¯é‡‘é¢ï¼šç”¨ <code>Number</code> è®¡ç®—ï¼ˆåœ¨å®‰å…¨èŒƒå›´å†…ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¥å£è¿”å›å±‚ï¼ˆDTOï¼‰â€”â€” å…³é”®ä¸€æ­¥ï¼</strong></p>
</li>
</ul>
<p><strong>åƒä¸‡ä¸è¦æŠŠ BigInt ç›´æ¥ä¸¢ç»™å‰ç«¯ï¼</strong></p>
<p><strong>åƒä¸‡ä¸è¦æŠŠ BigInt è½¬æˆ Number ä¸¢ç»™å‰ç«¯ï¼</strong></p>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼šåœ¨è¿”å›ç»™å‰ç«¯çš„é‚£ä¸€åˆ»ï¼ŒæŠŠ <strong>å¤§æ•° ID è½¬æˆ String</strong>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// NestJS DTO ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Transform</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'class-transformer'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDto</span> {
  <span class="hljs-comment">// 1. æ•°æ®åº“é‡Œæ˜¯ BigInt</span>
  <span class="hljs-comment">// 2. è¿™é‡Œçš„ Transform è´Ÿè´£åœ¨åºåˆ—åŒ–ç»™å‰ç«¯æ—¶ï¼Œè½¬æˆ String</span>
  <span class="hljs-meta">@Transform</span>(<span class="hljs-function">(<span class="hljs-params">{ value }</span>) =&gt;</span> <span class="hljs-title class_">String</span>(value))
  <span class="hljs-attr">unionId</span>: <span class="hljs-built_in">string</span>; 

  <span class="hljs-comment">// é‡‘é¢å¦‚æœæ²¡è¶…é™ï¼Œç›´æ¥ç”¨ Number</span>
  <span class="hljs-attr">balance</span>: <span class="hljs-built_in">number</span>; 
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å‰ç«¯ JavaScript å¤„ç†å¤§æ•° ID çš„å”¯ä¸€æ ‡å‡†æ–¹æ¡ˆå°±æ˜¯ï¼š<strong>æŠŠå®ƒå½“å­—ç¬¦ä¸²å¤„ç†</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-11">ğŸ“ æ€»ç»“</h2>
<ol>
<li>
<p><strong>ç²¾åº¦é™·é˜±</strong>ï¼šè¶…è¿‡ 16 ä½çš„æ•°å­—ç”¨ <code>Number</code> å­˜ä¸€å®šä¼šä¸¢ç²¾åº¦ï¼ŒID ä¼šå˜å¼‚ã€‚</p>
</li>
<li>
<p><strong>åºåˆ—åŒ–å‘</strong>ï¼š<code>BigInt</code> æ— æ³•è¢« JSON åºåˆ—åŒ–ï¼Œä¼šå¯¼è‡´æ¥å£æŠ¥é”™ã€‚</p>
</li>
<li>
<p><strong>é€‰å‹åŸåˆ™</strong>ï¼š</p>
<ul>
<li><strong>èƒ½ç”¨ Number å°±ç”¨ Number</strong>ï¼ˆé‡‘é¢ã€è®¡æ•°ã€æ™®é€š IDï¼‰ã€‚</li>
<li><strong>è¶…é•¿ ID å¿…é¡»ç”¨ BigInt/String</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼ è¾“åŸåˆ™</strong>ï¼šåç«¯è®¡ç®—å¯ä»¥ç”¨ BigIntï¼Œä½†<strong>ç»™å‰ç«¯çš„æ•°æ®ï¼Œå¿…é¡»æ˜¯ String</strong>ã€‚</p>
</li>
</ol>
<p>ä»¥åå†çœ‹åˆ°åç«¯ä¼ å›æ¥çš„ ID å°¾æ•°ä¸å¯¹ï¼Œåˆ«çŠ¹è±«ï¼Œç›´æ¥å»æ£€æŸ¥æ˜¯ä¸æ˜¯ä¸­é—´æŸä¸€æ­¥è¢«å·å·è½¬æˆ <code>Number</code> äº†ï¼</p>
<hr/>
<p><em>è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œç‚¹èµæ”¶è—é˜²è¸©å‘ï¼</em> ğŸ‘</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šå¡æ•°æ®åˆ‡æ¢æµç¨‹]]></title>    <link>https://juejin.cn/post/7603359026711592970</link>    <guid>https://juejin.cn/post/7603359026711592970</guid>    <pubDate>2026-02-06T09:39:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603359026711592970" data-draft-id="7603359026711576586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šå¡æ•°æ®åˆ‡æ¢æµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T09:39:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šå¡æ•°æ®åˆ‡æ¢æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:39:01.000Z" title="Fri Feb 06 2026 09:39:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ï¸âƒ£ <strong>æ•´ä½“æµç¨‹æ¶æ„</strong></h2>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æ“ä½œï¼šåœ¨è®¾ç½®ä¸­é€‰æ‹©é»˜è®¤æ•°æ®å¡                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Settings<span class="hljs-selector-class">.Global</span><span class="hljs-selector-class">.putInt</span>(
                   â”‚ MULTI_SIM_DATA_CALL_SUBSCRIPTION, subId)
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SubscriptionManagerService ç›‘å¬ WatchedInt å˜åŒ–         â”‚
â”‚ mDefaultDataSubId<span class="hljs-selector-class">.set</span>(newValue)                         â”‚
â”‚ â†’ Settings<span class="hljs-selector-class">.Global</span> åŒæ­¥æ›´æ–°                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ mDefaultDataSubIdChangedRegistrants
                   â”‚ <span class="hljs-selector-class">.notifyRegistrants</span>()
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MultiSimSettingController                              â”‚
â”‚ EVENT_DEFAULT_DATA_SUBSCRIPTION_CHANGED                 â”‚
â”‚ â†’ <span class="hljs-built_in">onDefaultDataSettingChanged</span>()                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PhoneSwitcher                                           â”‚
â”‚ <span class="hljs-built_in">notifyDefaultDataSubChanged</span>()                           â”‚
â”‚ â†’ <span class="hljs-built_in">onEvaluate</span>() é‡æ–°è¯„ä¼°åº”è¯¥æ¿€æ´»å“ªäº› Modem              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                        â”‚
         â–¼                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ—§æ•°æ®å¡  â”‚        â”‚ æ–°æ•°æ®å¡       â”‚
    â”‚ åœç”¨      â”‚        â”‚ æ¿€æ´»           â”‚
    â”‚deactivateâ”‚        â”‚activate        â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â–¼                    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ setDataAllowedâ”‚  â”‚ setDataAllowed    â”‚
  â”‚ (false)       â”‚  â”‚ (true)            â”‚
  â”‚ â†’ RIL         â”‚  â”‚ â†’ RIL             â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â–¼                   â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ é‡Šæ”¾æ—§è¿æ¥    â”‚   â”‚ å»ºç«‹æ–°è¿æ¥        â”‚
  â”‚ PDP å»æ¿€æ´»    â”‚   â”‚ PDP æ¿€æ´»          â”‚
  â”‚ ç½‘ç»œæŒ‡ç¤º      â”‚   â”‚ ç½‘ç»œæŒ‡ç¤º          â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ConnectivityService     â”‚
    â”‚ æ›´æ–°é»˜è®¤ç½‘ç»œ            â”‚
    â”‚ åº”ç”¨åˆ‡æ¢ç½‘ç»œ            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-1">2ï¸âƒ£ <strong>è¯¦ç»†æ‰§è¡Œæ­¥éª¤</strong></h2>
<h3 data-id="heading-2"><strong>Step 1: ç”¨æˆ·è®¾ç½®å˜åŒ– (Settings å±‚)</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½ç½®ï¼šframeworks_opt_telephony/src/java/com/android/internal/telephony/</span>
<span class="hljs-comment">// subscription/SubscriptionManagerService.java:505-519</span>

mDefaultDataSubId = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WatchedInt</span>(
    Settings.Global.getInt(
        mContext.getContentResolver(),
        Settings.Global.MULTI_SIM_DATA_CALL_SUBSCRIPTION,  â—„â”€â”€â”€â”€ Key!
        SubscriptionManager.INVALID_SUBSCRIPTION_ID)) {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">set</span><span class="hljs-params">(<span class="hljs-type">int</span> newValue)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> mValue;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">super</span>.set(newValue)) {
            logl(<span class="hljs-string">"Default data subId changed from "</span> + oldValue + <span class="hljs-string">" to "</span> + newValue);
            <span class="hljs-comment">// åŒæ­¥æ›´æ–° Settings.Global</span>
            Settings.Global.putInt(mContext.getContentResolver(),
                    Settings.Global.MULTI_SIM_DATA_CALL_SUBSCRIPTION, newValue);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
};
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>WatchedInt</code> æ˜¯ä¸€ä¸ªè¢« "ç›‘è§†" çš„æ•´æ•°</li>
<li>å½“å€¼æ”¹å˜æ—¶ä¼šè‡ªåŠ¨è§¦å‘æ³¨å†Œçš„ registrant</li>
<li>åŒæ—¶åŒæ­¥æ›´æ–°åˆ° Settings.Global æ•°æ®åº“</li>
</ul>
<hr/>
<h3 data-id="heading-3"><strong>Step 2: MultiSimSettingController å“åº” (åè°ƒå™¨)</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½ç½®ï¼šMultiSimSettingController.java:319-350</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifyDefaultDataSubChanged</span><span class="hljs-params">()</span> {
    obtainMessage(EVENT_DEFAULT_DATA_SUBSCRIPTION_CHANGED).sendToTarget();
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
    <span class="hljs-keyword">switch</span> (msg.what) {
        <span class="hljs-keyword">case</span> EVENT_DEFAULT_DATA_SUBSCRIPTION_CHANGED:
            onDefaultDataSettingChanged();  â—„â”€â”€â”€â”€ å¤„ç†é»˜è®¤æ•°æ®å¡å˜åŒ–
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDefaultDataSettingChanged</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// éªŒè¯æ•°æ®å¡æœ‰æ•ˆæ€§</span>
    <span class="hljs-comment">// åŒæ­¥å…³è”è®¢é˜…çš„è®¾ç½®ï¼ˆå¦‚æ•°æ®æ¼«æ¸¸ï¼‰</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">defaultDataSubId</span> <span class="hljs-operator">=</span> mSubscriptionManagerService.getDefaultDataSubId();
    
    <span class="hljs-comment">// é€šçŸ¥ PhoneSwitcher</span>
    PhoneSwitcher.getInstance().notifyDefaultDataSubChanged();
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>åè°ƒå¤šå¼ å¡çš„è®¾ç½®</li>
<li>ç¡®ä¿åŒç»„è®¢é˜…çš„è®¾ç½®ä¸€è‡´</li>
<li>è§¦å‘ PhoneSwitcher çš„é‡æ–°è¯„ä¼°</li>
</ul>
<hr/>
<h3 data-id="heading-4"><strong>Step 3: PhoneSwitcher è¯„ä¼° (å†³ç­–ç‚¹) â­</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½ç½®ï¼šPhoneSwitcher.java:1430-1480</span>

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePreferredDataPhoneId</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¼˜å…ˆçº§å†³ç­–ï¼š</span>
    
    <span class="hljs-comment">// 1ï¸âƒ£ ç´§æ€¥æƒ…å†µï¼šä¼˜å…ˆçº§æœ€é«˜</span>
    <span class="hljs-keyword">if</span> (mEmergencyOverride != <span class="hljs-literal">null</span>) {
        mPreferredDataPhoneId = mEmergencyOverride.mPhoneId;
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// 2ï¸âƒ£ æœ‰é€šè¯æ—¶ï¼šå¦‚æœå¯ç”¨äº† "é€šè¯æœŸé—´æ•°æ®åˆ‡æ¢"</span>
    <span class="hljs-keyword">if</span> (isAnyVoiceCallActiveOnDevice() &amp;&amp; shouldSwitchDataDueToInCall()) {
        mPreferredDataPhoneId = mPhoneIdInVoiceCall;  <span class="hljs-comment">// åˆ‡æ¢åˆ°é€šè¯å¡</span>
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// 3ï¸âƒ£ è‡ªåŠ¨åˆ‡æ¢å»ºè®®ï¼šCBRS ç­‰</span>
    <span class="hljs-keyword">if</span> (mAutoSelectedDataSubId != DEFAULT_SUBSCRIPTION_ID) {
        mPreferredDataPhoneId = getPhoneIdBySubId(mAutoSelectedDataSubId);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// 4ï¸âƒ£ ç”¨æˆ·é€‰æ‹©çš„é»˜è®¤æ•°æ®å¡ï¼šæœ€ç»ˆæ–¹æ¡ˆ</span>
    <span class="hljs-keyword">if</span> (SubscriptionManager.isUsableSubIdValue(mPrimaryDataSubId)) {
        mPreferredDataPhoneId = mSubscriptionManagerService.getPhoneId(mPrimaryDataSubId);
    }
}

<span class="hljs-comment">// å…³é”®æ–¹æ³•ï¼šè¯„ä¼°æ˜¯å¦éœ€è¦æ”¹å˜æ¿€æ´»çš„ Modem</span>
<span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onEvaluate</span><span class="hljs-params">(<span class="hljs-type">boolean</span> requestsChanged, String evaluationReason)</span> {
    logl(<span class="hljs-string">"onEvaluate: "</span> + evaluationReason);
    
    <span class="hljs-keyword">if</span> (updatesIfPhoneInVoiceCallChanged()      â—„â”€â”€â”€â”€ é€šè¯çŠ¶æ€
        || updatesIfSubscriptionChanged()         â—„â”€â”€â”€â”€ è®¢é˜…å˜åŒ–
        || updatesIfActiveModemCountChanged()) {  â—„â”€â”€â”€â”€ Modem æ•°
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    updatePreferredDataPhoneId();  â—„â”€â”€â”€â”€ æ›´æ–°åå¥½æ•°æ® Modem
    
    <span class="hljs-comment">// ... è®¡ç®—åº”è¯¥æ¿€æ´»å“ªäº› Modem ...</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">phoneId</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; phoneId &lt; mActiveModemCount; phoneId++) {
        <span class="hljs-keyword">if</span> (!newActivePhones.contains(phoneId)) {
            deactivate(phoneId);   â—„â”€â”€â”€â”€ åœç”¨æ—§æ•°æ®å¡
        }
    }
    
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> phoneId : newActivePhones) {
        activate(phoneId);         â—„â”€â”€â”€â”€ æ¿€æ´»æ–°æ•°æ®å¡
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>å†³ç­–æµç¨‹</strong>ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š</p>
<ol>
<li><strong>ç´§æ€¥é€šè¯</strong> - å¿…é¡»ä¼˜å…ˆ</li>
<li><strong>æœ‰è¯­éŸ³é€šè¯ä¸”å¯ç”¨é€šè¯æœŸé—´æ•°æ®åˆ‡æ¢</strong> - é˜²æ­¢æ•°æ®ä¸¢å¤±</li>
<li><strong>è‡ªåŠ¨åˆ‡æ¢å»ºè®®</strong>ï¼ˆå¦‚ CBRSï¼‰</li>
<li><strong>ç”¨æˆ·é€‰æ‹©çš„é»˜è®¤æ•°æ®å¡</strong></li>
</ol>
<hr/>
<h3 data-id="heading-5"><strong>Step 4: åœç”¨/æ¿€æ´» Modem (æ‰§è¡Œå±‚)</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// PhoneSwitcher.java:1307-1322</span>

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">activate</span><span class="hljs-params">(<span class="hljs-type">int</span> phoneId)</span> {
    switchPhone(phoneId, <span class="hljs-literal">true</span>);
}

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deactivate</span><span class="hljs-params">(<span class="hljs-type">int</span> phoneId)</span> {
    switchPhone(phoneId, <span class="hljs-literal">false</span>);
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">switchPhone</span><span class="hljs-params">(<span class="hljs-type">int</span> phoneId, <span class="hljs-type">boolean</span> active)</span> {
    <span class="hljs-type">PhoneState</span> <span class="hljs-variable">state</span> <span class="hljs-operator">=</span> mPhoneStates[phoneId];
    <span class="hljs-keyword">if</span> (state.active == active) <span class="hljs-keyword">return</span>;  â—„â”€â”€â”€â”€ é¿å…é‡å¤æ“ä½œ
    
    state.active = active;
    logl((active ? <span class="hljs-string">"activate "</span> : <span class="hljs-string">"deactivate "</span>) + phoneId);
    state.lastRequested = System.currentTimeMillis();
    
    sendRilCommands(phoneId);  â—„â”€â”€â”€â”€ å‘é€ç»™ RIL
}

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendRilCommands</span><span class="hljs-params">(<span class="hljs-type">int</span> phoneId)</span> {
    <span class="hljs-keyword">if</span> (!SubscriptionManager.isValidPhoneId(phoneId)) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-type">Message</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> Message.obtain(<span class="hljs-built_in">this</span>, EVENT_MODEM_COMMAND_DONE, phoneId);
    
    <span class="hljs-keyword">if</span> (mActiveModemCount &gt; <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// è°ƒç”¨ RIL çš„ setDataAllowed</span>
        PhoneFactory.getPhone(phoneId)
            .mCi.setDataAllowed(isPhoneActive(phoneId), message);
                             â–²
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚
                 <span class="hljs-literal">true</span> (æ¿€æ´»)          <span class="hljs-literal">false</span> (åœç”¨)
    }
}
</code></pre>
<p><strong>å…³é”®ï¼šsetDataAllowed çš„å«ä¹‰</strong></p>
<ul>
<li><code>true</code> - å‘Šè¯‰ Modemï¼š"å…è®¸è¿™ä¸ª SIM å¡å»ºç«‹æ•°æ®è¿æ¥"</li>
<li><code>false</code> - å‘Šè¯‰ Modemï¼š"ç¦æ­¢è¿™ä¸ª SIM å¡å»ºç«‹æ•°æ®è¿æ¥"</li>
</ul>
<hr/>
<h3 data-id="heading-6"><strong>Step 5: RIL å¤„ç† (é€šä¿¡å±‚)</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// RIL.java:4166-4182</span>

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setDataAllowed</span><span class="hljs-params">(<span class="hljs-type">boolean</span> allowed, Message result)</span> {
    <span class="hljs-type">RadioDataProxy</span> <span class="hljs-variable">dataProxy</span> <span class="hljs-operator">=</span> getRadioServiceProxy(RadioDataProxy.class);
    <span class="hljs-keyword">if</span> (!canMakeRequest(<span class="hljs-string">"setDataAllowed"</span>, dataProxy, result, 
            RADIO_HAL_VERSION_1_4)) {
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-type">RILRequest</span> <span class="hljs-variable">rr</span> <span class="hljs-operator">=</span> obtainRequest(RIL_REQUEST_ALLOW_DATA, result, 
            mRILDefaultWorkSource);
    
    riljLog(rr.serialString() + <span class="hljs-string">"&gt; setDataAllowed allowed = "</span> + allowed);
    
    <span class="hljs-comment">// é€šè¿‡ HIDL/AIDL å‘é€ç»™ Radio HAL</span>
    radioServiceInvokeHelper(HAL_SERVICE_DATA, rr, <span class="hljs-string">"setDataAllowed"</span>, () -&gt; {
        dataProxy.setDataAllowed(rr.mSerial, allowed);
    });
}
</code></pre>
<hr/>
<h3 data-id="heading-7"><strong>Step 6: Modem å¤„ç† (ç¡¬ä»¶å±‚)</strong></h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// hardware_ril/libril/ril_service.cpp:2359-2363</span>

Return&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title function_">RadioImpl::setDataAllowed</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> serial, <span class="hljs-type">bool</span> allow)</span> {
    RLOGD(<span class="hljs-string">"setDataAllowed: serial %d"</span>, serial);
    
    <span class="hljs-comment">// å‘é€ RIL è¯·æ±‚åˆ° RIL daemon</span>
    dispatchInts(serial, mSlotId, RIL_REQUEST_ALLOW_DATA, 
            <span class="hljs-number">1</span>, BOOL_TO_INT(allow));
    <span class="hljs-keyword">return</span> Void();
}

<span class="hljs-comment">// Modem æ¥æ”¶åˆ°åï¼š</span>
<span class="hljs-comment">// - allow = true:  PDP æ¿€æ´»æ¡ä»¶æ»¡è¶³ï¼Œå¯åŠ¨è¿æ¥</span>
<span class="hljs-comment">// - allow = false: PDP åœç”¨ï¼Œé‡Šæ”¾è¿æ¥ï¼Œæ–­å¼€ç½‘ç»œ</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">3ï¸âƒ£ <strong>åˆ‡æ¢è¿‡ç¨‹ä¸­é¿å…ç½‘ç»œæ–­è¿çš„æ–¹æ¡ˆ</strong></h2>
<h3 data-id="heading-9"><strong>é—®é¢˜åˆ†æ</strong></h3>
<pre><code class="hljs language-makefile" lang="makefile">æ—¶é—´çº¿ï¼š
<span class="hljs-section">0ms:    ç”¨æˆ·åˆ‡æ¢ SIM å¡</span>
<span class="hljs-section">10ms:   æ—§ SIM å¡ â†’ setDataAllowed(false)</span>
<span class="hljs-section">20ms:   Modem é‡Šæ”¾æ—§è¿æ¥ âŒ ç½‘ç»œæ–­è¿ï¼ˆ&lt;1sï¼‰</span>
<span class="hljs-section">100ms:  æ–° SIM å¡ â†’ setDataAllowed(true)</span>
<span class="hljs-section">300ms:  æ–°è¿æ¥å»ºç«‹ âœ“ ç½‘ç»œæ¢å¤</span>

é—®é¢˜ï¼šä¸­é—´çš„ 80-280ms å†…æ²¡æœ‰æ•°æ®è¿æ¥ï¼
åº”ç”¨åœ¨è¿™æ®µæ—¶é—´çš„ä¼ è¾“ä¼šå¤±è´¥ã€‚
</code></pre>
<h3 data-id="heading-10"><strong>ä¼˜åŒ–æ–¹æ¡ˆ 1: å¿«é€Ÿåºåˆ—ï¼ˆå½“å‰å®ç°ï¼‰</strong></h3>
<pre><code class="hljs language-makefile" lang="makefile">ç‰¹ç‚¹ï¼šä¾èµ– Modem çš„å¿«é€Ÿå¤„ç†

æ—¶é—´çº¿ï¼š
<span class="hljs-section">0ms:    æ—§ setDataAllowed(false)  + æ–° setDataAllowed(true)</span>
        â†“ åŒæ­¥å‘å‡º (å‡ ä¹åŒæ—¶)
<span class="hljs-section">10ms:   Modem æ”¶åˆ°ä¸¤ä¸ªå‘½ä»¤</span>
<span class="hljs-section">20ms:   Modem åŒæ—¶å¤„ç†ï¼š</span>
        - æ—§è¿æ¥ DETACH
        - æ–°è¿æ¥ ATTACH
        è¿™ä¸ªç¬é—´ï¼Œæ–°è¿æ¥å¯èƒ½å·²ç»åˆå§‹åŒ–ï¼

ä¼˜ç‚¹ï¼šé€Ÿåº¦æœ€å¿«ï¼Œæ–­è¿æ—¶é—´ &lt; 100ms
ç¼ºç‚¹ï¼šä¾èµ– Modem å®ç°ï¼Œä¸åŒå‚å•†è¡Œä¸ºä¸åŒ
</code></pre>
<p><strong>ä»£ç å®ç°ï¼ˆæ¨èï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨ PhoneSwitcher ä¸­ä¿®æ”¹ switchPhone é€»è¾‘</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">switchPhoneOptimized</span><span class="hljs-params">(<span class="hljs-type">int</span> oldPhoneId, <span class="hljs-type">int</span> newPhoneId)</span> {
    <span class="hljs-comment">// åŒæ­¥å‘é€ä¸¤ä¸ªå‘½ä»¤ï¼Œè€Œä¸æ˜¯é¡ºåºå‘é€</span>
    <span class="hljs-type">Message</span> <span class="hljs-variable">message1</span> <span class="hljs-operator">=</span> Message.obtain(<span class="hljs-built_in">this</span>, EVENT_MODEM_COMMAND_DONE, oldPhoneId);
    <span class="hljs-type">Message</span> <span class="hljs-variable">message2</span> <span class="hljs-operator">=</span> Message.obtain(<span class="hljs-built_in">this</span>, EVENT_MODEM_COMMAND_DONE, newPhoneId);
    
    PhoneFactory.getPhone(oldPhoneId).mCi.setDataAllowed(<span class="hljs-literal">false</span>, message1);
    PhoneFactory.getPhone(newPhoneId).mCi.setDataAllowed(<span class="hljs-literal">true</span>, message2);
    
    logl(<span class="hljs-string">"Simultaneous switch: "</span> + oldPhoneId + <span class="hljs-string">" -&gt; "</span> + newPhoneId);
}
</code></pre>
<h3 data-id="heading-11"><strong>ä¼˜åŒ–æ–¹æ¡ˆ 2: å¸¦éªŒè¯çš„åˆ‡æ¢</strong></h3>
<pre><code class="hljs language-makefile" lang="makefile">ç‰¹ç‚¹ï¼šç¡®ä¿æ–°å¡ç½‘ç»œæœ‰æ•ˆåå†æ–­å¼€æ—§å¡

æµç¨‹ï¼š
<span class="hljs-section">0ms:    æ¿€æ´»æ–° SIM å¡ â†’ setDataAllowed(true)</span>
<span class="hljs-section">100ms:  ç­‰å¾… ConnectivityService éªŒè¯ç½‘ç»œ</span>
<span class="hljs-section">300ms:  éªŒè¯æˆåŠŸ âœ“</span>
<span class="hljs-section">400ms:  æ­¤æ—¶åœç”¨æ—§å¡ â†’ setDataAllowed(false)</span>

ä¼˜ç‚¹ï¼šä¿è¯ç½‘ç»œè¿ç»­æ€§ï¼Œæ— æ–­è¿
ç¼ºç‚¹ï¼šå»¶è¿Ÿå¢åŠ ï¼ˆé€šå¸¸ 400-500msï¼‰
       çŸ­æœŸå†…æœ‰ä¸¤ä¸ªè¿æ¥ï¼ˆè´¹ç”µï¼‰

å®ç°ä½ç½®ï¼šPhoneSwitcher.java
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ CellularNetworkValidator éªŒè¯ç½‘ç»œ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">switchPhoneWithValidation</span><span class="hljs-params">(<span class="hljs-type">int</span> oldPhoneId, <span class="hljs-type">int</span> newPhoneId)</span> {
    <span class="hljs-comment">// 1ï¸âƒ£ å…ˆæ¿€æ´»æ–°å¡</span>
    activate(newPhoneId);
    
    <span class="hljs-comment">// 2ï¸âƒ£ å¯åŠ¨ç½‘ç»œéªŒè¯</span>
    mValidator.validate(getSubIdByPhoneId(newPhoneId),
            <span class="hljs-literal">true</span>,  <span class="hljs-comment">// needValidation</span>
            DataSwitch.Reason.DATA_SWITCH_REASON_USER,
            (validated, subId) -&gt; {
                <span class="hljs-keyword">if</span> (validated) {
                    <span class="hljs-comment">// 3ï¸âƒ£ éªŒè¯æˆåŠŸï¼Œåœç”¨æ—§å¡</span>
                    logl(<span class="hljs-string">"Network validated, deactivating old phone: "</span> + oldPhoneId);
                    deactivate(oldPhoneId);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// âŒ éªŒè¯å¤±è´¥ï¼Œå›æ»šåˆ°æ—§å¡</span>
                    logl(<span class="hljs-string">"Validation failed, reverting to old phone: "</span> + oldPhoneId);
                    deactivate(newPhoneId);
                    activate(oldPhoneId);
                }
            });
}
</code></pre>
<h3 data-id="heading-12"><strong>ä¼˜åŒ–æ–¹æ¡ˆ 3: åº”ç”¨ç¼“å†²</strong></h3>
<pre><code class="hljs">åœ¨åº”ç”¨å±‚å®ç°ç¼“å†²ï¼Œå‡å°‘åˆ‡æ¢å½±å“ï¼š

1ï¸âƒ£ æ£€æµ‹åˆ°ç½‘ç»œåˆ‡æ¢ï¼ˆConnectivityManager.NetworkCallbackï¼‰
2ï¸âƒ£ ç¼“å†²å¾…å‘é€æ•°æ®ï¼ˆ100-300msï¼‰
3ï¸âƒ£ æ–°ç½‘ç»œå»ºç«‹åï¼Œå‘é€ç¼“å†²æ•°æ®
4ï¸âƒ£ æé«˜ç”¨æˆ·ä½“éªŒ

ä¼˜ç‚¹ï¼šå¯¹ç³»ç»Ÿæ— ä¾µå…¥ï¼Œåº”ç”¨è‡ªä¸»æ§åˆ¶
ç¼ºç‚¹ï¼šæ¯ä¸ªåº”ç”¨éƒ½éœ€è¦å®ç°
</code></pre>
<hr/>
<h2 data-id="heading-13">4ï¸âƒ£ <strong>åº”ç”¨æ­£åœ¨ä¼ è¾“æ•°æ®æ—¶çš„åˆ‡æ¢å¤„ç†</strong></h2>
<h3 data-id="heading-14"><strong>åœºæ™¯åˆ†æ</strong></h3>
<pre><code class="hljs language-makefile" lang="makefile">åº”ç”¨åœºæ™¯ï¼šç”¨æˆ·åœ¨ä¸‹è½½æ—¶åˆ‡æ¢ SIM å¡

æ—¶é—´çº¿ï¼š
<span class="hljs-section">0ms:    ä¸‹è½½ file.bin (SIM1, 10MB, è¿›åº¦ 30%)</span>
<span class="hljs-section">100ms:  ç”¨æˆ·åˆ‡æ¢åˆ° SIM2</span>
<span class="hljs-section">110ms:  æ—§è¿æ¥æ–­å¼€ âŒ</span>
<span class="hljs-section">120ms:  æ–°è¿æ¥å»ºç«‹</span>
<span class="hljs-section">130ms:  ä¸‹è½½ç»§ç»­ (ä»å¤´ï¼Ÿä»æ–­ç‚¹ï¼Ÿ)</span>

é—®é¢˜ï¼šè¿æ¥ä¸­æ–­ï¼Œä¸‹è½½æš‚åœç”šè‡³å¤±è´¥ï¼
</code></pre>
<h3 data-id="heading-15"><strong>Android ç³»ç»Ÿå¤„ç†æœºåˆ¶</strong></h3>
<pre><code class="hljs language-scss" lang="scss">ConnectivityService çš„è‡ªåŠ¨æ¢å¤ï¼š

äº‹ä»¶                    ç³»ç»Ÿè¡Œä¸º
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-number">1</span>. æ•°æ®è¿æ¥ä¸¢å¤±         DetectableConnectivityError
                        â†’ å›è°ƒåº”ç”¨ <span class="hljs-built_in">onLost</span>()
                        
<span class="hljs-number">2</span>. åº”ç”¨æ”¶åˆ° <span class="hljs-built_in">onLost</span>()    åº”è¯¥ï¼š
                        - æš‚åœæ‰€æœ‰æ•°æ®ä¼ è¾“
                        - ä¿å­˜è¿›åº¦ä¿¡æ¯
                        - ç­‰å¾…æ–°ç½‘ç»œ
                        
<span class="hljs-number">3</span>. æ–°ç½‘ç»œå¯ç”¨           <span class="hljs-built_in">onAvailable</span>()
                        â†’ åº”ç”¨æ¢å¤ä¼ è¾“ï¼ˆä»æ–­ç‚¹ï¼‰
                        
<span class="hljs-number">4</span>. ConnectivityManager
   <span class="hljs-built_in">validateNetwork</span>()     ç¡®ä¿æ–°ç½‘ç»œçœŸçš„å¯ç”¨
</code></pre>
<h3 data-id="heading-16"><strong>æ¨èçš„åº”ç”¨å¤„ç†æ–¹å¼</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½ç½®ï¼šåº”ç”¨ä»£ç </span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataDownloadManager</span>(context: Context) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> connectivityManager = 
        context.getSystemService&lt;ConnectivityManager&gt;()!!
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> networkCallback = <span class="hljs-keyword">object</span> : ConnectivityManager.NetworkCallback() {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onLost</span><span class="hljs-params">(network: <span class="hljs-type">Network</span>)</span></span> {
            <span class="hljs-comment">// 1ï¸âƒ£ æ£€æµ‹åˆ°ç½‘ç»œä¸¢å¤±</span>
            logg(<span class="hljs-string">"Network lost, pausing download"</span>)
            pauseAllDownloads()  <span class="hljs-comment">// æš‚åœä¸‹è½½</span>
            saveProgress()       <span class="hljs-comment">// ä¿å­˜è¿›åº¦</span>
        }
        
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAvailable</span><span class="hljs-params">(network: <span class="hljs-type">Network</span>)</span></span> {
            <span class="hljs-comment">// 2ï¸âƒ£ æ–°ç½‘ç»œå¯ç”¨</span>
            logg(<span class="hljs-string">"Network available, resuming download"</span>)
            resumeDownloads()    <span class="hljs-comment">// ä»æ–­ç‚¹æ¢å¤</span>
        }
        
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCapabilitiesChanged</span><span class="hljs-params">(
            network: <span class="hljs-type">Network</span>,
            caps: <span class="hljs-type">NetworkCapabilities</span>)</span></span> {
            <span class="hljs-comment">// 3ï¸âƒ£ æ£€æŸ¥ç½‘ç»œæ˜¯å¦å·²éªŒè¯</span>
            <span class="hljs-keyword">if</span> (caps.hasCapability(NET_CAPABILITY_VALIDATED)) {
                logg(<span class="hljs-string">"Network validated"</span>)
                <span class="hljs-comment">// ç°åœ¨å®‰å…¨å‘é€æ•°æ®</span>
            }
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startMonitoring</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> request = NetworkRequest.Builder()
            .addCapability(NET_CAPABILITY_INTERNET)
            .addCapability(NET_CAPABILITY_NOT_RESTRICTED)
            .build()
        
        connectivityManager.registerNetworkCallback(request, networkCallback)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">pauseAllDownloads</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// æš‚åœæ‰€æœ‰ä¸‹è½½ä»»åŠ¡</span>
        <span class="hljs-comment">// è®°å½•å½“å‰ä½ç½®</span>
        downloads.forEach { it.pause() }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">saveProgress</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ä¿å­˜è¿›åº¦åˆ°æ•°æ®åº“æˆ–æ–‡ä»¶</span>
        downloads.forEach { download -&gt;
            database.updateProgress(download.id, download.currentBytes)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">resumeDownloads</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ä»ä¿å­˜çš„æ–­ç‚¹æ¢å¤</span>
        downloads.forEach { download -&gt;
            <span class="hljs-keyword">val</span> savedProgress = database.getProgress(download.id)
            download.resume(savedProgress)
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-17">5ï¸âƒ£ <strong>ä¸¤å¼ å¡éƒ½æ˜¯ 4G æ—¶çš„åˆ‡æ¢å»¶è¿Ÿåˆ†æ</strong></h2>
<h3 data-id="heading-18"><strong>å»¶è¿Ÿæ¥æºåˆ†è§£</strong></h3>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤šå¡æ•°æ®åˆ‡æ¢æ€»å»¶è¿Ÿ = Î”t<span class="hljs-emphasis">_total                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Î”t_</span>total åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

<span class="hljs-bullet">1.</span> åº”ç”¨å±‚æ„ŸçŸ¥ (10-50ms) 
   Settings.Global å˜åŒ– â†’ SubscriptionManagerService

<span class="hljs-bullet">2.</span> MultiSimSettingController å¤„ç† (5-20ms)
   äº‹ä»¶åˆ†å‘ â†’ æœ‰æ•ˆæ€§æ ¡éªŒ

<span class="hljs-bullet">3.</span> PhoneSwitcher è¯„ä¼° (20-100ms) â­â­â­ æœ€é•¿
<span class="hljs-bullet">   -</span> onEvaluate() éå†æ‰€æœ‰ç½‘ç»œè¯·æ±‚
<span class="hljs-bullet">   -</span> æ›´æ–°æ‰€æœ‰ä¼˜å…ˆçº§
<span class="hljs-bullet">   -</span> å†³ç­–æ¿€æ´»/åœç”¨ Modem
   
<span class="hljs-bullet">4.</span> RIL å‘½ä»¤å‘é€ (5-10ms)
   Java â†’ C++ â†’ HIDL/AIDL æ¶ˆæ¯ä¼ é€’

<span class="hljs-bullet">5.</span> Modem DETACH (æ—§å¡) (200-500ms) â­â­â­ å…³é”®
<span class="hljs-bullet">   -</span> é€šçŸ¥ç½‘ç»œï¼ˆNWï¼šé‡Šæ”¾è¿æ¥ï¼‰
<span class="hljs-bullet">   -</span> ç­‰å¾…ç½‘ç»œç¡®è®¤
<span class="hljs-bullet">   -</span> å…³é—­ PDP ä¸Šä¸‹æ–‡
<span class="hljs-bullet">   -</span> ä¸¤å¼ éƒ½æ˜¯ 4G æ—¶ï¼Œè¿™é€šå¸¸å¾ˆå¿« (200-300ms)

<span class="hljs-bullet">6.</span> Modem ATTACH (æ–°å¡) (200-800ms) â­â­â­ æœ€ä¸ç¡®å®š
   ä¸¤å¼ å¡éƒ½æ˜¯ 4G æ—¶çš„å…³é”®ï¼š
   
   a) æœç½‘ (50-200ms)
<span class="hljs-bullet">      -</span> å¦‚æœå·²ç»é©»ç•™ï¼Œå¯èƒ½ 0-50ms
<span class="hljs-bullet">      -</span> å¦‚æœéœ€è¦æœç½‘ï¼Œå¯èƒ½ 100-200ms
<span class="hljs-code">      
   b) è®¤è¯/é™„ç€ (100-300ms)
      - MME/HSS è®¤è¯
      - GUTI åˆ†é…ç­‰
      
   c) PDN å»ºç«‹ (100-300ms)
      - PDP æ¿€æ´»
      - è·å– IP åœ°å€
      
   æ€»è®¡ï¼š200-800ms
   
   ä¸¤å¼  4G æ—¶ä¼˜åŒ–ï¼š
   - å¦‚æœä¸¤å¼ éƒ½å·²é©»ç•™ï¼šå¯é™è‡³ 200-300ms
   - å¦‚æœåˆ‡æ¢åˆ°ä¿¡å·å¼±çš„å¡ï¼šå¯èƒ½ 500-800ms
</span>
<span class="hljs-bullet">7.</span> ConnectivityService æ£€æµ‹ (0-100ms)
   onAvailable() å›è°ƒ

<span class="hljs-bullet">8.</span> åº”ç”¨æ„ŸçŸ¥ (0-1000ms+)
   å–å†³äºåº”ç”¨æ˜¯å¦ç›‘å¬ NetworkCallback

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æ€»åˆï¼ˆæœ€ä¼˜æƒ…å†µï¼‰ï¼š
10 + 5 + 50 + 5 + 250 + 250 + 50 + 100 = 720ms

æ€»åˆï¼ˆæœ€åæƒ…å†µï¼‰ï¼š
50 + 20 + 100 + 10 + 500 + 800 + 100 + 1000 = 2580ms

ä¸¤å¼  4G æ—¶çš„æœŸæœ›å€¼ï¼š500-800ms
</code></pre>
<h3 data-id="heading-19"><strong>å¯æ¥å—çš„å»¶è¿ŸåŸºå‡†</strong></h3>
<pre><code class="hljs language-markdown" lang="markdown">åº”ç”¨ç±»å‹               å¯æ¥å—å»¶è¿Ÿ        è¯´æ˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-bullet">1.</span> ç½‘é¡µæµè§ˆ            &lt; 3 ç§’           ç”¨æˆ·æ„ŸçŸ¥ä¸å¼º
<span class="hljs-bullet">2.</span> å®æ—¶é€šè¯(VoIP)      &lt; 1 ç§’           æ—¶å»¶æ•æ„Ÿï¼Œéœ€éªŒè¯
<span class="hljs-bullet">3.</span> åœ¨çº¿æ¸¸æˆ            &lt; 500ms          å…³é”®ï¼Œéœ€å›æ»šæœºåˆ¶
<span class="hljs-bullet">4.</span> è§†é¢‘æµæ’­æ”¾          &lt; 2 ç§’           éœ€ç¼“å†²ç­–ç•¥
<span class="hljs-bullet">5.</span> æ–‡ä»¶ä¸‹è½½            æ— é™åˆ¶           åº”ç”¨ç¼“å†²å¤„ç†
<span class="hljs-bullet">6.</span> çŸ­è§†é¢‘(æŠ–éŸ³)        &lt; 2 ç§’           ç”¨æˆ·å®¹å¿åº¦ä½

ç³»ç»Ÿæ¨èï¼š&lt; 1000ms (1ç§’)
</code></pre>
<h3 data-id="heading-20"><strong>ä¼˜åŒ–å»ºè®®ï¼ˆä¸¤å¼  4Gï¼‰</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ¡ˆ 1: é¢„é™„ç€ä¼˜åŒ–ï¼ˆæœ€æ¿€è¿›ï¼‰</span>
<span class="hljs-comment">// åœ¨åœç”¨æ—§å¡å‰ï¼Œæ–°å¡å·²å®Œå…¨é™„ç€</span>
<span class="hljs-comment">// ä¼˜ç‚¹ï¼š0ms æ–­è¿</span>
<span class="hljs-comment">// ç¼ºç‚¹ï¼šçŸ­æœŸä¸¤ä¸ªæ´»è·ƒè¿æ¥ï¼ˆè€—ç”µï¼‰</span>

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">optimizedSwitchWith4G</span><span class="hljs-params">(<span class="hljs-type">int</span> oldPhoneId, <span class="hljs-type">int</span> newPhoneId)</span> {
    <span class="hljs-comment">// ä¸éœ€è¦ç­‰å¾…éªŒè¯ï¼Œç›´æ¥æ¿€æ´»</span>
    logl(<span class="hljs-string">"4G â†’ 4G switch, using fast track"</span>);
    
    <span class="hljs-comment">// æ—¶åˆ» 0msï¼šæ¿€æ´»æ–°å¡ï¼ŒåŒæ—¶åœç”¨æ—§å¡ï¼ˆå¹¶å‘ï¼‰</span>
    PhoneFactory.getPhone(newPhoneId).mCi.setDataAllowed(<span class="hljs-literal">true</span>, msg1);
    PhoneFactory.getPhone(oldPhoneId).mCi.setDataAllowed(<span class="hljs-literal">false</span>, msg2);
    
    <span class="hljs-comment">// é¢„æœŸå»¶è¿Ÿï¼š200-300msï¼ˆçº¯ ATTACH æ—¶é—´ï¼‰</span>
}

<span class="hljs-comment">// æ–¹æ¡ˆ 2: ä¸²è”ä¼˜åŒ–ï¼ˆå¹³è¡¡ï¼‰</span>
<span class="hljs-comment">// æ–°å¡ ATTACH æˆåŠŸåå† DETACH æ—§å¡</span>

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">balancedSwitch4G</span><span class="hljs-params">(<span class="hljs-type">int</span> oldPhoneId, <span class="hljs-type">int</span> newPhoneId)</span> {
    PhoneFactory.getPhone(newPhoneId).mCi.setDataAllowed(<span class="hljs-literal">true</span>, 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleCallback</span><span class="hljs-params">()</span> {
                <span class="hljs-comment">// æ–°å¡é™„ç€æˆåŠŸ</span>
                logl(<span class="hljs-string">"New SIM attached, detaching old"</span>);
                PhoneFactory.getPhone(oldPhoneId)
                    .mCi.setDataAllowed(<span class="hljs-literal">false</span>, msg);
            }
        });
    
    <span class="hljs-comment">// é¢„æœŸå»¶è¿Ÿï¼š200-300ms (æ–°) + 200-300ms (æ—§) = 400-600ms</span>
    <span class="hljs-comment">// ä½†æä¾›äº† 100% çš„è¿ç»­æ€§ä¿éšœ</span>
}

<span class="hljs-comment">// æ–¹æ¡ˆ 3: éªŒè¯ä¼˜åŒ–ï¼ˆæœ€å®‰å…¨ï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validatedSwitch4G</span><span class="hljs-params">(<span class="hljs-type">int</span> oldPhoneId, <span class="hljs-type">int</span> newPhoneId)</span> {
    mValidator.setValidationCallback((validated, subId) -&gt; {
        <span class="hljs-keyword">if</span> (validated &amp;&amp; subId == getSubIdByPhoneId(newPhoneId)) {
            logl(<span class="hljs-string">"Network fully validated, safe to detach old"</span>);
            PhoneFactory.getPhone(oldPhoneId)
                .mCi.setDataAllowed(<span class="hljs-literal">false</span>, msg);
        }
    });
    
    <span class="hljs-comment">// é¢„æœŸå»¶è¿Ÿï¼š200-300ms (ATTACH) + 100-200ms (éªŒè¯) = 300-500ms</span>
    <span class="hljs-comment">// æœ€å¤§çš„å»¶è¿Ÿï¼Œä½†æä¾›æœ€å¼ºçš„ä¿éšœ</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-21">6ï¸âƒ£ <strong>æ€§èƒ½æŒ‡æ ‡ç›‘æ§</strong></h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç›‘æ§æ•°æ®åˆ‡æ¢å»¶è¿Ÿçš„å®ç°</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSwitchMetrics</span> {
    
    <span class="hljs-keyword">private</span> fun <span class="hljs-title function_">logSwitchEvent</span><span class="hljs-params">(
        oldSubId: Int,
        newSubId: Int,
        startTime: Long,
        endTime: Long
    )</span> {
        <span class="hljs-type">val</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> endTime - startTime
        
        <span class="hljs-title function_">logg</span><span class="hljs-params">(<span class="hljs-string">""</span><span class="hljs-string">"
            Data Switch Metrics:
            Old SubId: $oldSubId
            New SubId: $newSubId
            Duration: ${duration}ms
            Network Continuous: ${duration &lt; 1000}
            
            Recommendation:
            ${when {
                duration &lt; 300 -&gt; "</span>â­â­â­ Excellent<span class="hljs-string">"
                duration &lt; 500 -&gt; "</span>â­â­ Good<span class="hljs-string">"
                duration &lt; 1000 -&gt; "</span>â­ Acceptable<span class="hljs-string">"
                else -&gt; "</span>âŒ Poor - Review Modem<span class="hljs-string">"
            }}
        "</span><span class="hljs-string">""</span>.trimIndent()</span>)
        
        <span class="hljs-comment">// ä¸ŠæŠ¥åˆ° metrics ç³»ç»Ÿ</span>
        TelephonyMetrics.getInstance().writeDataSwitchEvent(
            mPhoneId,
            oldSubId,
            newSubId,
            duration,
            <span class="hljs-string">"success"</span>
        )
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-22">æ€»ç»“è¡¨æ ¼</h2>








































<table><thead><tr><th>æ–¹é¢</th><th>æŒ‡æ ‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸¤å¼  4G æœ€ä¼˜å»¶è¿Ÿ</strong></td><td>200-300ms</td><td>ä»… ATTACH æ—¶é—´</td></tr><tr><td><strong>æ¨èå»¶è¿Ÿ</strong></td><td>&lt; 1000ms</td><td>ç”¨æˆ·åŸºæœ¬æ— æ„Ÿ</td></tr><tr><td><strong>ä¸å¯æ¥å—å»¶è¿Ÿ</strong></td><td>&gt; 3000ms</td><td>éœ€è¦ä¼˜åŒ–ç³»ç»Ÿ</td></tr><tr><td><strong>å¯æ¥å—æ— ç½‘æ—¶é—´</strong></td><td>&lt; 500ms</td><td>å¤§å¤šæ•°åº”ç”¨å¯å®¹å¿</td></tr><tr><td><strong>å…³é”®ä¼˜åŒ–ç‚¹</strong></td><td>Modem ATTACH</td><td>å æ€»å»¶è¿Ÿ 30-50%</td></tr><tr><td><strong>æ¨èåˆ‡æ¢æ–¹æ¡ˆ</strong></td><td>éªŒè¯+ä¸²è”</td><td>å¹³è¡¡æ€§èƒ½å’Œå®‰å…¨</td></tr></tbody></table>
<p>è¿™å°±æ˜¯å®Œæ•´çš„<strong>å¤šå¡æ•°æ®åˆ‡æ¢æµç¨‹åŠä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»é‡å¤é€ è½®å­ï¼Ÿæˆ‘ä»¬ååèŠ±365å¤©ï¼Œç”¨Vue3å†™äº†æ¬¾AIååŒçš„Wordç¼–è¾‘å™¨]]></title>    <link>https://juejin.cn/post/7603563317040021567</link>    <guid>https://juejin.cn/post/7603563317040021567</guid>    <pubDate>2026-02-06T10:07:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603563317040021567" data-draft-id="7603587738159874111" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»é‡å¤é€ è½®å­ï¼Ÿæˆ‘ä»¬ååèŠ±365å¤©ï¼Œç”¨Vue3å†™äº†æ¬¾AIååŒçš„Wordç¼–è¾‘å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,GitHub"/> <meta itemprop="datePublished" content="2026-02-06T10:07:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å°å¤•"/> <meta itemprop="url" content="https://juejin.cn/user/3808363978429613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»é‡å¤é€ è½®å­ï¼Ÿæˆ‘ä»¬ååèŠ±365å¤©ï¼Œç”¨Vue3å†™äº†æ¬¾AIååŒçš„Wordç¼–è¾‘å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363978429613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å°å¤•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:07:56.000Z" title="Fri Feb 06 2026 10:07:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>psï¼šå¼€æºç‰ˆSDKå·²å‘å¸ƒï¼Œgithubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2Fjitword-sdk" target="_blank" title="https://github.com/MrXujiang/jitword-sdk" ref="nofollow noopener noreferrer">github.com/MrXujiang/jâ€¦</a></p>
<p>åˆåˆ°äº†æˆ‘ä»¬å®šæœŸAIåˆ›ä¸šå¤ç›˜çš„æ—¶é—´äº†ã€‚ä»Šå¤©å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œæˆ‘ä»¬å†³å®šèŠ±1å¹´æ—¶é—´æ‰“é€ AI Wordç¼–è¾‘å™¨çš„ç†ç”±ï¼Œä»¥åŠåšAIæ–‡æ¡£åˆ›ä¸šè¿‡ç¨‹ä¸­è¸©è¿‡çš„å‘ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7c968f333be4232825b9e88109835e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=a3vfTbhdrEH1thzUfy93HtKLvyk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆ"åå"è¦é€ ä¸ªWordè½®å­</h3>
<p>æˆ‘ä»¬ä¹‹æ‰€ä»¥ä¸‹å®šå†³å¿ƒåšè¿™ä»¶äº‹ï¼Œä¸»è¦æ˜¯å› ä¸ºå‰ä¸¤å¹´æˆ‘ä»¬çš„ä¸€ä¸ªäº§å“ï¼Œéœ€è¦é›†æˆwordèƒ½åŠ›å¯¹å¤–æœåŠ¡ï¼Œä½†æ˜¯æˆ‘ä»¬è°ƒç ”äº†ä¸€åœˆï¼Œå¾—åˆ°çš„ç»“è®ºæ˜¯ï¼š1. å¤§å‚çš„æ–‡æ¡£äº§å“é›†æˆæˆæœ¬è¿‡é«˜ï¼Œå¯¹å¤–å•†ä¸šåŒ–å—é™å¤´éƒ¨å¤§å‚åšçš„æ–‡æ¡£äº§å“ï¼Œè¦ä¹ˆæ˜¯æŒ‰æ¬¡ä»˜è´¹ï¼ˆå¹¶å‘æ¬¡æ•°ï¼‰ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/250035413bb04bbbb6635e4d472f3dd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=fpNuVcXMZr4M1ksBw9QRJpHZgwo%3D" alt="å›¾ç‰‡" loading="lazy"/>æ¯”å¦‚ä¸Šé¢è¿™å¼ ï¼Œå¦‚æœé«˜é¢‘ä½¿ç”¨ï¼Œæˆ‘ä»¬å›¢é˜Ÿç®—äº†ä¸€ç¬”è´¦ï¼Œæ¯å¹´apiçš„è°ƒç”¨åŸºæœ¬éƒ½è¦èŠ±10-20wå·¦å³ï¼Œæ›´åˆ«è¯´å¯¹å¤–ç»™å®¢æˆ·æœåŠ¡äº†ï¼Œé‚£æˆæœ¬åªæœ‰å¤§å…¬å¸èƒ½ç©äº†ã€‚å¦ä¸€æ–¹é¢ï¼Œå›½å†…Bç«¯å®¢æˆ·å¤§éƒ¨åˆ†çš„Saasåœºæ™¯éƒ½éœ€è¦ç§æœ‰åŒ–éƒ¨ç½²ï¼Œå›½ä¼äº‹ä¸šé‡‘èä¼ä¸šæ›´è¦æ±‚å†…ç½‘éƒ¨ç½²ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä¸å¯èƒ½é›†æˆå¤§å‚çš„SDKï¼Œè¿™æ¡å•†ä¸šæ¨¡å¼å·²ç»è¢«å µæ­»äº†ã€‚2. å¤§å‚çš„æ–‡æ¡£äº§å“æŠ€æœ¯å€ºè¿‡é‡ï¼Œæ‰©å±•åº¦å’Œå¼€æ”¾ç¨‹åº¦å—é™è¿™åŸºæœ¬ä¸Šæ˜¯è¡Œä¸šçš„å…±è¯†äº†ã€‚æ™®é€šä¼ä¸šåªèƒ½ç”¨å¤§å‚çš„ç³»ç»Ÿï¼Œå¦‚æœè¦å¼€å‘ï¼Œè¦ä¹ˆåŠ¨è¾„ç™¾ä¸‡ï¼Œè¦ä¹ˆå°±ç­‰â€œç­‰æ›´æ–°â€ã€‚ä½†æ˜¯æˆ‘ä»¬çš„AIæ–‡æ¡£åœºæ™¯ï¼Œå¹¶ä¸éœ€è¦å¾ˆå¤šå†—ä½™çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ä¿ç•™æœ€æ ¸å¿ƒçš„èƒ½åŠ›ï¼Œå…¶ä»–çš„æˆ‘ä»¬å¸Œæœ›å¼€å‘ç»™ä¼ä¸šè‡ªå®šä¹‰ã€‚åŒæ—¶ï¼Œç°æœ‰æ–‡æ¡£ç¼–è¾‘å™¨éƒ½æ˜¯"äº’è”ç½‘æ—¶ä»£çš„äº§ç‰©"ï¼Œä¸º"äººå†™ç»™äººçœ‹"è®¾è®¡ã€‚AIæ— æ³•çœŸæ­£ç†è§£æ–‡æ¡£ç»“æ„ï¼Œåªèƒ½å½“"é«˜çº§æœç´¢æ¡†"ã€‚æˆ‘ä»¬ç»“åˆè¿™ä¸¤å¹´AIçš„å‘å±•ï¼Œæ´å¯Ÿçš„ç»“æœæ˜¯ï¼šå†…å®¹åˆ›ä½œæ­£åœ¨ä»"äººé©±åŠ¨"è½¬å‘"äººæœºåä½œ"ï¼Œä½†å·¥å…·æ²¡æœ‰è·Ÿä¸Šã€‚æ‰€ä»¥ç»¼åˆä¸Šé¢åˆ†æï¼Œå†ç»“åˆæˆ‘ä»¬å›¢é˜Ÿå¤§å‚æ¶æ„å’Œæ–‡æ¡£äº§å“çš„ç ”å‘ç»éªŒï¼Œæˆ‘ä»¬æ¯…ç„¶å†³å®šè‡ªç ”ã€‚</p>
<h3 data-id="heading-1">365å¤©æˆ‘ä»¬åšäº†ä»€ä¹ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc3f8c610e2f44fb88d480ad8eaf1e9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=r3mRfY2H56GW%2FHQpHIAhhlyqC0k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯´å®è¯ï¼Œè§„åˆ’äº†1å¹´ï¼Œå…¶å®å¹¶ä¸æ˜¯å•çº¯çš„æ—¶é—´ç»´åº¦çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ‰“ç®—å°†Â JitWordÂ æ‰“é€ æˆä¸€ä¸ªæœªæ¥æˆ‘ä»¬Â all inÂ çš„ä¸€ä¸ªäº§å“é•¿é“¾è·¯çš„æ–¹å‘ï¼šåŸºäºJitWordçš„æ–‡æ¡£å¼•æ“ï¼Œæ‰©å±•å‡ºä¼ä¸šå…±å»ºç‰ˆï¼ŒJitOfficeåŠå…¬è½¯ä»¶ï¼ŒJitCloud AIäº‘æœåŠ¡ç”Ÿæ€ã€‚æ‰€ä»¥å¯èƒ½æœªæ¥1-2å¹´ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¼šæŒç»­æ·±è€•åœ¨â€œçŸ¥è¯†å†…å®¹ä¼ æ‰¿â€è¿™ä¸ªèµ›é“ã€‚</p>
<h4 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼Œæ¶æ„é‡æ„ï¼šä»"å¯Œæ–‡æœ¬"åˆ°"ç»“æ„åŒ–æ•°æ®"</h4>
<p>åœ¨åšÂ JitWordÂ ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹Â OfficeÂ æ–‡æ¡£åšäº†å¤§é‡çš„è°ƒç ”ï¼Œä»docxæ ¼å¼åˆ°æ–‡æ¡£çš„å¤æ‚æ“ä½œï¼Œéƒ½æ„å‘³ç€ä¼ ç»Ÿçš„å¯Œæ–‡æœ¬æ ¼å¼ï¼ˆhtmlï¼‰éš¾ä»¥é©¾é©­å¤æ‚çš„æ–‡æ¡£åœºæ™¯ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿè°ƒç ”äº†å¾ˆå¤šå¼€æºæ–¹æ¡ˆï¼Œæ¯”å¦‚ tiptapï¼Œquillï¼Œeditorjsç­‰ã€‚æœ€ç»ˆæˆ‘ä»¬é€‰æ‹©äº†tiptapçš„ä¸€ä¸ªæ—©æœŸç¨³å®šçš„ç‰ˆæœ¬ï¼Œä½œä¸ºæˆ‘ä»¬çš„åº•å±‚æ–‡æ¡£ç»„ä»¶ï¼Œå¹¶å¯¹ tiptap çš„æ¶æ„åšäº†ä¸Šå±‚çš„ä¼˜åŒ–ï¼Œå·²æ”¯æŒå¤æ‚çš„æ–‡æ¡£æ“ä½œã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬ç¬¬ä¸€ç‰ˆçš„æ–‡æ¡£è®¾è®¡æ¶æ„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0cdf6f0d5754273bcf5a1dce1ec2ea0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=8KPZ9gQAbJ5e8VdtuHCrODpZ3V0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶å®å•çº¯å®ç°ç±»ä¼¼Â OfficeÂ çš„UIç•Œé¢ï¼Œéš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œåªéœ€è¦èŠ±æ—¶é—´æ¥å¼€å‘ï¼Œæˆ‘ç›¸ä¿¡æ¯ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆéƒ½èƒ½å®ç°ï¼Œå…¶éš¾ç‚¹åœ¨äºï¼š</p>
<ul>
<li>å¦‚ä½•é«˜æ•ˆçš„åšæ–‡æ¡£è§£æï¼ˆéœ€è¦å¯¹docxè¿›è¡Œé«˜ç²¾åº¦æ ¼å¼è¿˜åŸï¼‰</li>
<li>å¦‚ä½•åŸºäºæ–‡æ¡£åšé«˜æ€§èƒ½ååŒï¼ˆæ”¯æŒå¤šäººååŒç¼–è¾‘ï¼‰</li>
<li>å¦‚ä½•åœ¨webæ–‡æ¡£å¤„ç†å¤æ‚å…¬å¼ç¼–è¾‘å’Œæ¸²æŸ“</li>
<li>å®ç°æ–‡æ¡£çš„å¤æ‚æ“ä½œï¼ˆåˆ’è¯è¯„è®ºï¼Œç‰ˆæœ¬å¯¹æ¯”ï¼Œé«˜çº§æ’ç‰ˆï¼Œåˆ†é¡µè§†å›¾ç­‰ï¼‰</li>
<li>å®ç°æ–‡æ¡£çš„æƒé™æ§åˆ¶å’Œé«˜æ€§èƒ½æ¸²æŸ“ï¼ˆ100w+å­—ç§’çº§æ¸²æŸ“ï¼‰</li>
</ul>
<p>ç­‰ç­‰ï¼Œæ¯ä¸€ä¸ªéª¨å¤´éƒ½æ¯”è¾ƒç¡¬ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æˆ‘ä»¬èŠ±å¤§é‡å®ç°è‡ªç ”ï¼Œæ¯”å¦‚ï¼š</p>
<p>åŸºäºæ–‡æ¡£åšé«˜æ€§èƒ½ååŒï¼ˆæ”¯æŒå¤šäººååŒç¼–è¾‘ï¼‰</p>
<p>ç›®å‰å¸‚é¢ä¸Šå…¶å®æœ‰äº›ååŒæ–¹æ¡ˆï¼Œæ¯”å¦‚CRDTç®—æ³•é©±åŠ¨çš„YJSï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿæ˜¯åŸºäºYJSå®ç°çš„æ–‡æ¡£ååŒç®—æ³•ã€‚ä½†æ˜¯å•çº¯ä½¿ç”¨Yjsï¼Œåªèƒ½å®ç°åŸºç¡€ååŒï¼Œåœ¨ååŒè¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦è€ƒè™‘å¾ˆå¤šå¤æ‚åœºæ™¯ï¼š</p>
<ol>
<li><strong>æ“ä½œå¯äº¤æ¢æ€§</strong>ä¸åŒç”¨æˆ·çš„æ“ä½œå¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œï¼Œæœ€ç»ˆç»“æœä¸€è‡´</li>
<li><strong>æ“ä½œå¯åˆå¹¶æ€§</strong>å¤šä¸ªæ“ä½œå¯ä»¥æ™ºèƒ½åˆå¹¶ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“</li>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>æ‰€æœ‰å®¢æˆ·ç«¯æœ€ç»ˆä¼šæ”¶æ•›åˆ°ç›¸åŒçš„æ–‡æ¡£çŠ¶æ€</li>
<li><strong>æ— éœ€ä¸­å¤®åè°ƒ</strong>ä¸ä¾èµ–ä¸­å¤®æœåŠ¡å™¨è¿›è¡Œå†²çªè§£å†³</li>
</ol>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬è®¾è®¡çš„ååŒæ“ä½œæµç¨‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28c6c8c06b4149e597eb04ff2e35f2e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=C9LIPYMBhVPSpts7v%2FqusAytdaA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ååŒç¼–è¾‘çš„æ€§èƒ½ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿåšäº†è¿›ä¸€æ­¥ç®—æ³•ä¼˜åŒ–ï¼Œä¿è¯æˆ‘ä»¬åœ¨æ™®é€šæœåŠ¡å™¨ä¸Šï¼ˆ2æ ¸4Gï¼‰ä¹Ÿèƒ½æ”¯æŒ10-50äººçš„é«˜æ•ˆååŒç¼–è¾‘ï¼Œå¦‚æœæ‰©å¤§æœåŠ¡å™¨æ€§èƒ½å’Œé›†ç¾¤ï¼Œæˆ‘ä»¬å°†æœ‰å¯èƒ½æ”¯æŒæ•°åƒä¸Šä¸‡äººçš„ååŒç¼–è¾‘ã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬çš„æ–‡æ¡£ååŒå’Œå­˜å‚¨æ¶æ„æ•°æ®æµï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c8ceb434ec448419584ca467a240d44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=nHApwU752iGZ7cXFPbVQt5bs1WQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ç°åœ¨webç«¯å¤„ç†å¤æ‚å…¬å¼ç¼–è¾‘å’Œæ¸²æŸ“</p>
<p>åŸºæœ¬ä¸Šå¸‚é¢ä¸Šçš„å¼€æºæ–¹æ¡ˆéƒ½è¾¾ä¸åˆ°æˆ‘ä»¬å¯¹å¤æ‚å…¬å¼çš„æè‡´è¿½æ±‚ï¼Œå¤§éƒ¨åˆ†æ˜¯è®©ç”¨æˆ·ç›´æ¥ç¼–è¾‘latexï¼Œä½†æ˜¯åˆ°äº†å¯¼å‡ºdocxåï¼Œå…¬å¼è¦ä¹ˆæ— æ³•å¯¼å‡ºï¼Œè¦ä¹ˆå¯¼å‡ºåæ— æ³•äºŒæ¬¡ç¼–è¾‘ã€‚</p>
<p>åŸºäºä¸Šé¢çš„ç—›ç‚¹ï¼Œæˆ‘ä»¬å¯¹docxæ–‡ä»¶åšäº†æ•°æ®ç»“æ„çš„åˆ†æå’Œç®—æ³•å±‚çš„å…¼å®¹ï¼ŒåŒæ—¶å¯¹ç”¨æˆ·ç¼–è¾‘å…¬å¼çš„ä½“éªŒä¹Ÿåšäº†è¿›ä¸€æ­¥å‡çº§ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b28bac938d7448fb0b52669e3f7eec9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=7Kj1imdkqyM6qDW%2FLN5v9DfmiHw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬æä¾›äº†æ•°å­¦å…¬å¼çš„ç¼–è¾‘é¢æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å®æ—¶ç¼–è¾‘å’Œé¢„è§ˆå…¬å¼ï¼ŒåŒæ—¶æˆ‘ä»¬å†…ç½®äº†100+é«˜é¢‘çš„æ•°å­¦å’Œç§‘ç ”å…¬å¼ï¼Œæ–¹ä¾¿å¤§å®¶æ›´å¿«é€Ÿçš„ç¼–å†™å¤æ‚å…¬å¼ã€‚</p>
<p>ä¸‹é¢æ˜¯æ¸²æŸ“åˆ°Â JitWordÂ ä¸­çš„å…¬å¼æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/210501a4476545b68709edab391c0c39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=U6sej6uA6sRS9jkpKyYGEdQt0Rc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ç›´æ¥å¯¼å‡ºå¸¦å¤æ‚å…¬å¼çš„æ–‡æ¡£ï¼Œå¹¶åœ¨Â wordÂ ä¸­äºŒæ¬¡ç¼–è¾‘ã€‚</p>
<p>æ–‡æ¡£çš„é«˜æ•ˆæ¸²æŸ“ï¼ˆ100wå­—ç§’çº§æ¸²æŸ“ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cd694d1a9694274a8caa8952a82878a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=hQv31Dznc0upvXxqzUXSu9K4BVo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸Šé¢æ˜¯æˆ‘ä»¬æ–‡æ¡£ä¸­æ¸²æŸ“äº†100wå­—çš„æ•ˆæœï¼Œç›®å‰æµ‹è¯•ä¸‹æ¥è¿˜æ˜¯å¯ä»¥ç¼–è¾‘æ–‡æ¡£ï¼Œåªæœ‰ç•¥å¾®çš„å»¶è¿Ÿã€‚</p>
<p>è¿™ä¸€ç»“æœå½’åŠŸäºæˆ‘ä»¬å¯¹æ–‡æ¡£æ€§èƒ½çš„æè‡´è¿½æ±‚ï¼Œåœ¨æ–‡æ¡£æ¸²æŸ“å±‚æˆ‘ä»¬åšäº†æè‡´çš„ä¼˜åŒ–ï¼Œå¹¶å…¨æ–¹é¢æµ‹è¯•äº†æ¸²æŸ“ååŒç¨³å®šæ€§èƒ½ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d351c797d3ee48d6a2e5d3b0a18b3684~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=jpoSwMsUcHsKFyuSjsGToqyk8u0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ç°æ–‡æ¡£çš„å¤æ‚æ“ä½œï¼ˆåˆ’è¯è¯„è®ºï¼Œç‰ˆæœ¬å¯¹æ¯”ï¼Œé«˜çº§æ’ç‰ˆï¼Œåˆ†é¡µè§†å›¾ç­‰ï¼‰</p>
<p>ä»»ä½•ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œéƒ½å¾ˆéš¾è‡ªå¸¦åˆ’è¯è¯„è®ºï¼Œç‰ˆæœ¬å¯¹æ¯”ï¼Œé«˜çº§æ’ç‰ˆï¼Œåˆ†é¡µè§†å›¾è¿™äº›é«˜çº§æ“ä½œåŠŸèƒ½ã€‚</p>
<p>æˆ‘ä»¬ç ”ç©¶è¿™äº›åŠŸèƒ½èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œä¹Ÿåœ¨æ¯ä¸ªæœˆä»¥2-3ä¸ªç‰ˆæœ¬çš„è¿­ä»£é€Ÿåº¦æ›´æ–°ç€JitWordã€‚</p>
<p>ç»ˆäºåœ¨2025å¹´åº•å®ç°äº†ä¸Šé¢æåˆ°çš„è¿™å‡ ä¸ªåŠŸèƒ½ï¼Œä¸‹é¢æˆ‘ä¹Ÿç»™å¤§å®¶ä¸€ä¸€ä»‹ç»ä¸€ä¸‹ã€‚</p>
<ol>
<li>åˆ’è¯è¯„è®º</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714a3af6670c4738bbf9e7953ff70b53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=LWjeITslk7bHKze33wZ2vjslVFQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶å¤§å®¶å¯ä¸è¦ä»¥ä¸ºæˆ‘ä»¬åªæ˜¯åšäº†åˆ’è¯è¯„è®ºåŠŸèƒ½ã€‚æˆ‘ä»¬åœ¨åˆ’è¯è¯„è®ºä¹‹åï¼Œè¿˜åšäº†é€šä¿¡æœºåˆ¶ï¼Œåœ¨å¤šäººååŒè¿‡ç¨‹ä¸­å¯ä»¥å®æ—¶é€šçŸ¥ç»™å…¶ä»–äººï¼Œè®©åä½œè€…å¯ä»¥ç¬¬ä¸€æ—¶é—´çœ‹åˆ°åˆ’è¯çš„å†…å®¹ï¼Œè¿™ä¸ªæµç¨‹æˆ‘ä»¬å®Œå…¨æ‰“é€šäº†ã€‚</p>
<ol start="2">
<li>ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2af625a2b4d2421184a9ef1a7dbc13fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=5c8cSgYGhhUqi28SFCBwabdIH00%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬çš„æ“ä½œä¼šå®šæœŸå­˜å‚¨ï¼Œå¯ä»¥ä¸€é”®æ¢å¤ï¼Œå¹¶æ”¯æŒç‰ˆæœ¬çš„å·®å¼‚å¯¹æ¯”ã€‚è¿™ä¸ªåŠŸèƒ½åŸºæœ¬ä¸Šä¹Ÿæ˜¯å¸‚é¢ä¸Šwebç«¯æ–‡æ¡£ç‹¬ä¸€ä»½çš„ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜åœ¨æŒç»­ä¼˜åŒ–ã€‚</p>
<ol start="3">
<li>åˆ†é¡µè§†å›¾åŠŸèƒ½</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1272cefcd6e44ee6ae1233b0c013d61d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=GjpE88XMMBumcRO0h%2FSNRYP%2FFJk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªåŠŸèƒ½æ˜¯æœ€éš¾å‘çš„ï¼Œä¸å®¹ç½®ç–‘ã€‚ä½†æ˜¯æˆ‘ä»¬èŠ±äº†2ä¸ªæœˆ all in è¿™ä¸ªåŠŸèƒ½ï¼Œç»ˆäºå®ç°äº†ç±»ä¼¼ word çš„åˆ†é¡µåŠŸèƒ½ã€‚å®ƒçš„éš¾ç‚¹åœ¨äºåˆ†é¡µä¹‹åå†…å®¹çš„æ’ç‰ˆå’Œä½ç½®è‡ªåŠ¨è®¡ç®—æœºåˆ¶ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„ js æ€§èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å„ç§æ€§èƒ½ä¼˜åŒ–çš„æ–¹å¼éƒ½ç”¨ä¸Šäº†ï¼Œç»“åˆæˆ‘ä»¬è®¾è®¡çš„ç‹¬æœ‰çš„domç»„ç»‡æ¨¡å¼ï¼Œç»ˆäºå®ç°äº†åˆ†é¡µèƒ½åŠ›ã€‚</p>
<p>å¤§å®¶å¯ä»¥åœ¨Â JitWord å…±å»ºç‰ˆä½“éªŒåˆ°åˆ†é¡µçš„åŠŸèƒ½ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜ä¼šæ”¯æŒé¡µçœ‰é¡µè„šåŠŸèƒ½ï¼Œå…¨é¢å¯¹æ ‡Â Officeã€‚</p>
<h4 data-id="heading-3">ç¬¬äºŒæ­¥ï¼ŒAIåä½œå¼•æ“ï¼šè®©æ–‡æ¡£"æ´»"èµ·æ¥</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/634d1de9f8a548febde3c2055b9cd8f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=ZjGbLfQrJvHjFsWwoJEiNocpRA8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸Šé¢æ˜¯æˆ‘ä»¬è®¾è®¡çš„Â AI NativeÂ é©±åŠ¨çš„æ¨¡å¼æ¶æ„ï¼Œä¿è¯æˆ‘ä»¬åœ¨æ–‡æ¡£ç¼–è¾‘çš„å…¨ç”Ÿå‘½å‘¨æœŸé‡Œï¼Œéƒ½èƒ½ä½“éªŒAIåˆ›ä½œçš„ä¹è¶£ã€‚</p>
<p>ä¸‹é¢æ˜¯æ¼”ç¤ºæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/200058913ded48029f40438f675d9314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=kkG%2FryVsDDhlVR5zww%2B8ixK5wSw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬é™¤äº†ç›´æ¥è®©AIåˆ›ä½œå†…å®¹ï¼Œè¿˜å¯ä»¥åŸºäºæ–‡æœ¬å’Œæ®µè½ï¼Œè¿›è¡ŒäºŒæ¬¡AIä¼˜åŒ–ï¼Œæ¯”å¦‚æ–‡æœ¬æ¶¦è‰²ï¼Œçº é”™ï¼Œç»­å†™ç­‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfd24db496274d5fbef315455238b6d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=A8N5N%2F1MoTEnN0PczeNx3akKsEc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€è¿‘æˆ‘ä»¬è¿˜è¿­ä»£ä¸Šçº¿äº†AIå…¬æ–‡åŠ©æ‰‹ï¼Œå¯ä»¥é€šè¿‡AIä¸€é”®ç”ŸæˆåˆåŒå’Œå…¬æ–‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d9f222858304e2f95f2406e5bb1d523~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=Y62ZGXAlvKcx9OGYeFU3%2BDE9ers%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1679d5973384d3d8549764c52681428~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=VIJZEIArqtiXehXWNLF3Tw8OecI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶åç»­ä¼šå®ç°æ›´å¤šå’ŒAIç»“åˆçš„åœºæ™¯ï¼Œæé«˜ç”¨æˆ·åŠå…¬çš„æ•ˆç‡ã€‚</p>
<h4 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼ŒVue3çš„æ‰§å¿µï¼šä¸ºä»€ä¹ˆæ­»ç£•Vueï¼Ÿ</h4>
<p>å¾ˆå¤šäººé—®ï¼šæ–‡æ¡£ç¼–è¾‘å™¨ä¸ºä»€ä¹ˆè¦å¼ºè°ƒVue3ï¼Ÿç”¨Reactä¸æ˜¯ç”Ÿæ€æ›´å¥½ï¼Ÿ</p>
<p>æˆ‘ä»¬çš„å›ç­”æ˜¯ï¼š<strong>å“åº”å¼æ€§èƒ½å†³å®šäº†AIåä½œçš„æµç•…åº¦</strong>ã€‚</p>
<p><strong>æŠ€æœ¯ç»†èŠ‚ï¼š</strong></p>
<ul>
<li><strong>Proxy-basedå“åº”å¼</strong>ï¼š10ä¸‡å­—ç¬¦æ–‡æ¡£çš„å®æ—¶åä½œï¼Œä¼ ç»Ÿ<code>Object.defineProperty</code>ä¼šå¡æˆPPTï¼ŒVue3çš„Proxyå®ç°äº†æ¯«ç§’çº§æ›´æ–°</li>
<li><strong>Composition API</strong>ï¼šAIå»ºè®®å¡ç‰‡ã€åä½œå…‰æ ‡ã€å…¬å¼æ¸²æŸ“å™¨â€¦â€¦è¿™äº›å¤æ‚ç»„ä»¶çš„ç»„åˆé€»è¾‘ï¼Œç”¨Composablesç®¡ç†æ¯”HOCæ¸…æ™°10å€</li>
<li><strong>Tree-shakingå‹å¥½</strong>ï¼šæœ€ç»ˆæ‰“åŒ…ä½“ç§¯æ¯”åŒç±»Reactæ–¹æ¡ˆå°40%ï¼ŒSaaSåµŒå…¥æ—¶å®¢æˆ·æ„ŸçŸ¥æ˜æ˜¾</li>
</ul>
<p><strong>ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ï¼š</strong></p>
<p>ä¸€ä¸ªå®¢æˆ·æŠŠæˆ‘ä»¬çš„äº§å“åµŒå…¥ä»–ä»¬çš„CRMç³»ç»Ÿï¼ŒåŸå…ˆç”¨çš„Reactæ–¹æ¡ˆé¦–å±åŠ è½½3.2sï¼Œæ›¿æ¢ä¸ºÂ JitWordÂ åé™åˆ°1.1sã€‚å®¢æˆ·CTOçš„åŸè¯ï¼š"<strong>ä½ ä»¬è¿™ä¸ªVue3ç‰ˆæœ¬ï¼Œè®©æˆ‘ä»¬çš„SaaSçœ‹èµ·æ¥åƒåŸç”Ÿåº”ç”¨ã€‚</strong> "</p>
<p>è¿™å°±æ˜¯"é€ è½®å­"çš„æ„ä¹‰ï¼š<strong>ä¸æ˜¯ä¸ºé€ è€Œé€ ï¼Œæ˜¯ä¸ºè·‘å¾—æ›´å¿«ã€‚</strong></p>
<p><strong>å¹¶ä¸”å›½äº§åŒ–ç¯å¢ƒï¼Œå¾ˆå¤šå®¢æˆ·éƒ½æ˜¯æ›´å€¾å‘ç”¨ Vue æŠ€æœ¯æ ˆï¼Œæ‰€ä»¥ç«™åœ¨å®¢æˆ·å’Œç”¨æˆ·ä½“éªŒçš„è§’åº¦ï¼Œæˆ‘ä»¬Vueçš„ç­–ç•¥æ˜¯å®Œå…¨ç»å¾—èµ·è€ƒéªŒçš„ã€‚</strong></p>
<h2 data-id="heading-5">æ‹’ç»è‡ªå—¨ï¼ŒæŒç»­æ‰“ç£¨åº”ç”¨åœºæ™¯</h2>
<p>æŠ€æœ¯äººæœ€å®¹æ˜“çŠ¯çš„é”™ï¼šæ‹¿ç€é”¤å­æ‰¾é’‰å­ã€‚</p>
<p>æˆ‘ä»¬èŠ±äº†ä¸¤ä¸ªæœˆæ—¶é—´ï¼ŒæŠŠäº§å“æ‰”åˆ°çœŸå®åœºæ™¯é‡ŒéªŒè¯ï¼Œæˆ‘ä»¬ä¸Šçº¿äº†æˆ‘ä»¬å¼€æºSDKï¼Œè®©å¤§å®¶å¯ä»¥é›†æˆåˆ°è‡ªå·±çš„çœŸå®é¡¹ç›®ä¸­æ¥ä½“éªŒï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61cae120bad14e6794b3ec1c119bc845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=Rol6Il4XpEMNHMHPj2%2BQanBdvwE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›®å‰æœ‰å„è¡Œå„ä¸šçš„å®¢æˆ·ç»™æˆ‘ä»¬åé¦ˆäº†å¤§é‡çš„å»ºè®®ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨æŒç»­æ’æœŸä¼˜åŒ–ï¼Œä¸‹é¢åˆ†äº«ä¸€ä¸‹æˆ‘ä»¬å†…éƒ¨çš„éœ€æ±‚åˆ—è¡¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a04b1c625d84216b3432ca23083da98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977276&amp;x-signature=Yf%2Buu65XpNIGSmtnBclkPpEzDHo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›®å‰å·²ç»æœ‰100å¤šä¸ªæˆ‘ä»¬è¯„ä¼°åè§‰å¾—éå¸¸æœ‰ä»·å€¼çš„åŠŸèƒ½ç‚¹ï¼Œåœ¨ä»Šå¹´çš„ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬ä¼šé™†ç»­ä¸Šçº¿ã€‚</p>
<p>å½“ç„¶å¤§å®¶æœ‰å¥½çš„å»ºè®®ï¼Œä¹Ÿæ¬¢è¿éšæ—¶äº¤æµåé¦ˆï½</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2Fjitword-sdk" target="_blank" title="https://github.com/MrXujiang/jitword-sdk" ref="nofollow noopener noreferrer">github.com/MrXujiang/jâ€¦</a></p>
<hr/>
<h2 data-id="heading-6">å¼€æºä¸å•†ä¸šåŒ–æ€è€ƒ</h2>
<p>å†™åˆ°è¿™é‡Œï¼Œå¿…é¡»å›ç­”é‚£ä¸ªæœ€å°–é”çš„é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>ä½ ä»¬æœ€åè¦å–é’±å—ï¼Ÿè¿˜æ˜¯è¯´åªæ˜¯æŠ€æœ¯æƒ…æ€€ï¼Ÿ</strong></p>
</blockquote>
<p>æˆ‘çš„ç­”æ¡ˆæ˜¯ï¼š<strong>éƒ¨åˆ†å¼€æºï¼Œå•†ä¸šé—­ç¯ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7">ä¸ºä»€ä¹ˆå¼€æºï¼Ÿ</h3>
<p>å¼€æºäº†åŸºç¡€çš„æ–‡æ¡£å¼•æ“SDKï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç»“æ„åŒ–æ–‡æ¡£æ¨¡å‹</li>
<li>Vue3ç»„ä»¶åŸºç¡€</li>
<li>å…¬å¼æ¸²æŸ“æ¨¡å—</li>
<li>docxå¯¼å…¥å¯¼å‡ºåŠŸèƒ½</li>
</ul>
<p><strong>ç›®çš„ä¸æ˜¯åšæ…ˆå–„ï¼Œæ˜¯å»ºç«‹æ ‡å‡†ã€‚</strong></p>
<p>å¦‚æœÂ JitWordÂ çš„æ–‡æ¡£æ¨¡å‹æˆä¸ºè¡Œä¸šäº‹å®æ ‡å‡†ï¼Œç¬¬ä¸‰æ–¹å¼€å‘è€…è‡ªç„¶ä¼šåŸºäºæˆ‘ä»¬çš„æ ¼å¼å¼€å‘æ’ä»¶ã€‚è¿™ç­‰äºç”¨ç¤¾åŒºåŠ›é‡å¸®æˆ‘ä»¬æ‰©å±•ç”Ÿæ€â€”â€”<strong>æ¯”æ‹›100ä¸ªäº§å“ç»ç†éƒ½æœ‰æ•ˆ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸ºä»€ä¹ˆä¿ç•™å•†ä¸šç‰ˆï¼Ÿ</h3>
<p>å•†ä¸šç‰ˆåŒ…å«ï¼š</p>
<ul>
<li>AIåä½œå¼•æ“ï¼ˆè°ƒç”¨å¤§æ¨¡å‹APIï¼Œæˆæœ¬æ•æ„Ÿï¼‰</li>
<li>ä¼ä¸šçº§åä½œåŠŸèƒ½ï¼ˆæƒé™ç®¡ç†ã€å®¡è®¡æ—¥å¿—ï¼‰</li>
<li>SaaSåµŒå…¥è§£å†³æ–¹æ¡ˆ</li>
</ul>
<p><strong>è¿™ä¸æ˜¯"å¼€æºç‰ˆé˜‰å‰²åŠŸèƒ½"ï¼Œæ˜¯"å¼€æºç‰ˆå®šä¹‰åŸºç¡€ï¼Œå•†ä¸šç‰ˆè§£å†³å¤æ‚é—®é¢˜"ã€‚</strong></p>
<p>ç±»æ¯”ï¼šAndroidå¼€æºï¼Œä½†GMSï¼ˆGoogleæœåŠ¡ï¼‰æ”¶è´¹ï¼›MySQLå¼€æºï¼Œä½†ä¼ä¸šç‰ˆæœ‰é«˜çº§ç›‘æ§ã€‚è¿™æ˜¯ç»è¿‡éªŒè¯çš„å•†ä¸šæ¨¡å¼ã€‚</p>
<p><strong>ä¸€ä¸ªåˆ›ä¸šè€…çš„å¦ç™½ï¼š</strong></p>
<p>æˆ‘ä»¬è€ƒè™‘è¿‡å®Œå…¨å¼€æºã€é æœåŠ¡å˜ç°ã€‚ä½†è¿‡å»ä¸€å¹´å’Œå‡ åå®¶ä¼ä¸šèŠè¿‡åï¼Œæˆ‘å‘ç°<strong>Bç«¯å®¢æˆ·çœŸæ­£ä»˜è´¹çš„ä¸æ˜¯"è½¯ä»¶"ï¼Œæ˜¯"ç¡®å®šæ€§"</strong> â€”â€”å‡ºäº†é—®é¢˜èƒ½æ‰¾åˆ°äººã€èƒ½ç­¾SLAã€èƒ½å®šåˆ¶å¼€å‘ã€‚è¿™äº›åªèƒ½é å•†ä¸šå›¢é˜Ÿæ”¯æ’‘ã€‚</p>
<p><strong>æ‰€ä»¥ï¼Œé€ è½®å­ä¸æ˜¯ç›®çš„ã€‚</strong></p>
<p><strong>è®©è½®å­è·‘å¾—æ›´å¿«ï¼Œè®©æ›´å¤šäººç”¨ä¸Šæ›´å¿«çš„è½®å­ï¼ŒåŒæ—¶è®©é€ è½®å­çš„äººèƒ½æŒç»­é€ ä¸‹å»â€”â€”è¿™æ‰æ˜¯ç›®çš„ã€‚</strong></p>
<hr/>
<p><strong>å…³äºä½œè€…</strong>ï¼šå‰å¤§å‚æŠ€æœ¯ä¸“å®¶ï¼Œç°Â JitWordÂ è”åˆåˆ›å§‹äººã€‚ç›¸ä¿¡AIæ—¶ä»£çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œåº”è¯¥ç”±æ‡‚äº§å“å’ŒæŠ€æœ¯çš„äººé‡æ–°åšä¸€éã€‚</p>
<p>æˆ‘ä»¬å›¢é˜Ÿå‡æ¥è‡ªä¸€çº¿ä¸­å¤§å‚ï¼Œèµ„æ·±å·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯ä¸“å®¶ï¼Œé…åˆ3ä¸ªAgentï¼Œå¼€å¯6äººåä½œçš„åˆ›ä¸šä¹‹æ—…ï½</p>
<p>å¦‚æœå¤§å®¶æœ‰å¥½çš„å»ºè®®ï¼Œæƒ³æ³•ï¼Œæ¬¢è¿ç•™è¨€åé¦ˆï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Telephony æ•°æ®æ¢å¤ä¸å®¹é”™æœºåˆ¶è¯¦è§£]]></title>    <link>https://juejin.cn/post/7603347438013579299</link>    <guid>https://juejin.cn/post/7603347438013579299</guid>    <pubDate>2026-02-06T09:43:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603347438013579299" data-draft-id="7603309951227576370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Telephony æ•°æ®æ¢å¤ä¸å®¹é”™æœºåˆ¶è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T09:43:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Telephony æ•°æ®æ¢å¤ä¸å®¹é”™æœºåˆ¶è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:43:45.000Z" title="Fri Feb 06 2026 09:43:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€æ•°æ®å¡æ­»æ£€æµ‹æœºåˆ¶</h3>
<h4 data-id="heading-1">1. æ£€æµ‹å±‚æ¬¡ç»“æ„</h4>
<pre><code class="hljs language-scss" lang="scss">ConnectivityService (ç½‘ç»œè¿æ¥æœåŠ¡)
    â†“
NetworkMonitor (ç½‘ç»œç›‘æ§)
    â†“ (æ£€æµ‹æ–¹æ³•)
  â”œâ”€ DNS Events (DNSè¶…æ—¶æ£€æµ‹)
  â”œâ”€ TCP Metrics (TCPå¤±è´¥ç‡æ£€æµ‹)
  â””â”€ IPv4/IPv6 æ¢é’ˆ (ICMP Reachability)
    â†“
æ•°æ®å¡æ­»åˆ¤å®š
    â†“
DataStallRecoveryManager (DSRM - æ•°æ®å¡æ­»æ¢å¤ç®¡ç†å™¨)
</code></pre>
<h4 data-id="heading-2">2. æ•°æ®å¡æ­»çš„å®šä¹‰</h4>
<p>æ ¹æ®ä»£ç æ³¨é‡Šï¼Œæ•°æ®å¡æ­»æ˜¯æŒ‡ï¼š</p>
<ul>
<li><strong>DNS äº‹ä»¶</strong>ï¼šè¿ç»­å¤šä¸ª DNS è¶…æ—¶</li>
<li><strong>TCP æŒ‡æ ‡</strong>ï¼šTCP åŒ…å¤±è´¥ç‡è¶…è¿‡é˜ˆå€¼</li>
<li><strong>ç½‘ç»œæ¢é’ˆå¤±è´¥</strong>ï¼šæ— æ³•åˆ°è¾¾ä»»ä½•ç½‘å…³/DNS æœåŠ¡å™¨</li>
</ul>
<p>è¿™äº›æŒ‡æ ‡ç”± <code>NetworkMonitor</code> å®æ—¶ç›‘æµ‹ï¼Œå½“æ¡ä»¶è§¦å‘æ—¶ï¼Œé€šè¿‡ä»¥ä¸‹è·¯å¾„ä¸ŠæŠ¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">NetworkMonitor
  â†’ ConnectivityService<span class="hljs-selector-class">.notifyDataStallSuspected</span>()
  â†’ DataStallRecoveryManager<span class="hljs-selector-class">.onInternetValidationStatusChanged</span>(NOT_VALID)
</code></pre>
<hr/>
<h3 data-id="heading-3">äºŒã€å››çº§é€’è¿›æ¢å¤æœºåˆ¶è¯¦è§£</h3>
<h4 data-id="heading-4">æ¢å¤æœºåˆ¶æ¦‚è§ˆå›¾</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®å¡æ­»è¢«æ£€æµ‹åˆ° (VALIDATION_STATUS_NOT_VALID)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Level <span class="hljs-number">0</span>           â”‚
        â”‚ GET_DATA_CALL_LIST â”‚  â† ä»…æŸ¥è¯¢ï¼Œä¸ä¿®æ”¹
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ (ç­‰å¾… <span class="hljs-number">180s</span>ï¼Œæ£€æŸ¥éªŒè¯çŠ¶æ€)
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Level <span class="hljs-number">1</span>           â”‚
        â”‚    CLEANUP         â”‚  â† è½»é‡çº§æ¢å¤ï¼Œä¸æ¶‰åŠ Radio
        â”‚(DEACTIVATE/SETUP)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ (ç­‰å¾… <span class="hljs-number">180s</span>ï¼Œæ£€æŸ¥éªŒè¯çŠ¶æ€)
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Level <span class="hljs-number">2</span>           â”‚
        â”‚  RADIO_RESTART     â”‚  â† ä¸­ç­‰çº§æ¢å¤ï¼Œæ¶‰åŠ Radio Power é‡å¯
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ (ç­‰å¾… <span class="hljs-number">180s</span>ï¼Œæ£€æŸ¥éªŒè¯çŠ¶æ€)
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Level <span class="hljs-number">3</span>           â”‚
        â”‚  RESET_MODEM       â”‚  â† æœ€ç»ˆæ¢å¤ï¼Œæ¶‰åŠ Modem é‡å¯
        â”‚(NV_RESET_CONFIG)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
        éªŒè¯é€šè¿‡æˆ–å·²å°è¯•æ‰€æœ‰æ­¥éª¤ â†’ å¤ä½åˆ°åˆå§‹çŠ¶æ€
</code></pre>
<h4 data-id="heading-5">2.1 Level 0: GET_DATA_CALL_LIST</h4>
<p><strong>ç›®çš„</strong>ï¼šæŸ¥è¯¢å½“å‰æ•°æ®è¿æ¥åˆ—è¡¨ï¼ŒåŒæ­¥ RIL å’Œ Framework çš„æ•°æ®è¿æ¥çŠ¶æ€</p>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">720</span>|    <span class="hljs-comment">/** Recovery Action: RECOVERY_ACTION_GET_DATA_CALL_LIST */</span>
<span class="hljs-number">721</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getDataCallList</span><span class="hljs-params">()</span> {
<span class="hljs-number">722</span>|        log(<span class="hljs-string">"getDataCallList: request data call list"</span>);
<span class="hljs-number">723</span>|        mWwanDataServiceManager.requestDataCallList(<span class="hljs-literal">null</span>);
<span class="hljs-number">724</span>|    }
</code></pre>
<p><strong>è°ƒç”¨é“¾</strong>ï¼š</p>
<ul>
<li><code>DataStallRecoveryManager.getDataCallList()</code></li>
<li>â†’ <code>DataServiceManager.requestDataCallList(Message)</code></li>
<li>â†’ <code>IDataService.requestDataCallList(int phoneId, IDataServiceCallback callback)</code> (AIDL)</li>
<li>â†’ Modem â†’ RIL è¿”å› <code>DataCallResponse[]</code></li>
</ul>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å½“ Framework è®¤ä¸ºæ•°æ®è¿æ¥å‡ºç°é—®é¢˜ï¼Œä½† Modem ç«¯å¯èƒ½æ­£å¸¸</li>
<li>é€šè¿‡ RIL_REQUEST_GET_DATA_CALL_LIST æŸ¥è¯¢å®é™…è¿æ¥çŠ¶æ€</li>
<li>å¯èƒ½å‘ç° IP åœ°å€æˆ– DNS æœåŠ¡å™¨ä¿¡æ¯åœ¨ Modem ç«¯å·²æ›´æ–°ï¼Œä½†æœªä¸ŠæŠ¥ç»™ Framework</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼šCarrierConfig <code>KEY_DATA_STALL_RECOVERY_TIMERS_LONG_ARRAY[0]</code> (é»˜è®¤ 180000ms = 3åˆ†é’Ÿ)</li>
<li>å¯è·³è¿‡ï¼šCarrierConfig <code>KEY_DATA_STALL_RECOVERY_SHOULD_SKIP_ARRAY[0]</code></li>
</ul>
<hr/>
<h4 data-id="heading-6">2.2 Level 1: CLEANUP</h4>
<p><strong>ç›®çš„</strong>ï¼šå®Œå…¨æ–­å¼€ç°æœ‰æ•°æ®è¿æ¥ï¼Œéšåé‡æ–°å»ºç«‹è¿æ¥ï¼ˆChannel é‡å»ºï¼‰</p>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">726</span>|    <span class="hljs-comment">/** Recovery Action: RECOVERY_ACTION_CLEANUP */</span>
<span class="hljs-number">727</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanUpDataNetwork</span><span class="hljs-params">()</span> {
<span class="hljs-number">728</span>|        log(<span class="hljs-string">"cleanUpDataNetwork: notify clean up data network"</span>);
<span class="hljs-number">729</span>|        mDataStallRecoveryManagerCallback.invokeFromExecutor(
<span class="hljs-number">730</span>|                mDataStallRecoveryManagerCallback::onDataStallReestablishInternet);
<span class="hljs-number">731</span>|    }
</code></pre>
<p><strong>è°ƒç”¨é“¾</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">DataStallRecoveryManager<span class="hljs-selector-class">.cleanUpDataNetwork</span>()
  â†’ DataNetworkController<span class="hljs-selector-class">.onDataStallReestablishInternet</span>()
    â†’ mDataNetworkList<span class="hljs-selector-class">.stream</span>()
        <span class="hljs-selector-class">.filter</span>(DataNetwork::isInternetSupported)
        <span class="hljs-selector-class">.forEach</span>(dataNetwork â†’ 
          dataNetwork.tearDown(TEAR_DOWN_REASON_DATA_STALL)
        )
          â†’ RIL_REQUEST_DEACTIVATE_DATA_CALL (æ‰€æœ‰ PDN)
          â†’ æ–­å¼€è¿æ¥åï¼Œç­‰å¾…ç½‘ç»œè¯·æ±‚é‡æ–°å»ºç«‹
          â†’ RIL_REQUEST_SETUP_DATA_CALL
</code></pre>
<p><strong>å…·ä½“æ­¥éª¤</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€ <span class="hljs-number">1</span>. æ–­å¼€æ‰€æœ‰äº’è”ç½‘æ•°æ®è¿æ¥ (DEACTIVATE_DATA_CALL)
â”‚     â”œâ”€ æ‰€æœ‰ <span class="hljs-built_in">isInternetSupported</span>() == true çš„ DataNetwork
â”‚     â”œâ”€ å‘é€ RIL_REQUEST_DEACTIVATE_DATA_CALL for each CID
â”‚     â””â”€ ç­‰å¾… Modem å›å¤ DEACTIVATE å“åº”
â”‚
â”œâ”€ <span class="hljs-number">2</span>. æ–­å¼€å®Œæˆåï¼Œunsatisfied network requests é‡æ–°è¯„ä¼°
â”‚     â””â”€ DataNetworkController æ£€æŸ¥æ˜¯å¦æœ‰å¾…æ»¡è¶³çš„ç½‘ç»œè¯·æ±‚
â”‚
â””â”€ <span class="hljs-number">3</span>. æ ¹æ®ç½‘ç»œè¯·æ±‚é‡æ–°å»ºç«‹è¿æ¥ (SETUP_DATA_CALL)
      â”œâ”€ å‘é€ RIL_REQUEST_SETUP_DATA_CALL
      â”œâ”€ å»ºç«‹æ–°çš„ PDN
      â””â”€ è·å–æ–°çš„ IPã€DNS ç­‰é“¾æ¥å±æ€§
</code></pre>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-3450|" lang="3450|">3451|        log("onDataStallReestablishInternet: Tear down data networks that support internet.");
3452|        // æ–­å¼€æ‰€æœ‰æ”¯æŒäº’è”ç½‘çš„æ•°æ®ç½‘ç»œ
3453|        mDataNetworkList.stream()
3454|            .filter(DataNetwork::isInternetSupported)
3455|            .forEach(dataNetwork -&gt; dataNetwork.tearDown(
3456|                DataNetwork.TEAR_DOWN_REASON_DATA_STALL));
3457|    }
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆ</strong>ï¼š</p>
<ul>
<li>æ–­å¼€-é‡å»ºå¯ä»¥æ¸…é™¤ Modem ä¸ Radio ä¹‹é—´çš„æ²Ÿé€šé”™è¯¯</li>
<li>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆå¦‚é“¾æ¥å±‚å¼‚å¸¸ï¼‰ï¼Œæ–­å¼€é‡å»ºå¯å¼ºåˆ¶ Modem é‡æ–°åå•†å‚æ•°</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼šCarrierConfig[1] (é»˜è®¤ 180000ms = 3åˆ†é’Ÿ)</li>
<li>å¯è·³è¿‡ï¼šCarrierConfig[1] (æŸäº›è¿è¥å•†çš„ç›¸åŒ APN æƒ…å†µ)</li>
</ul>
<hr/>
<h4 data-id="heading-7">2.3 Level 2: RADIO_RESTART</h4>
<p><strong>ç›®çš„</strong>ï¼šå…³é—­å†æ‰“å¼€ Radioï¼ˆä¸æ¶‰åŠ Modem é‡å¯ï¼‰ï¼Œå¼ºåˆ¶é‡æ–°æ³¨å†Œç½‘ç»œ</p>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">733</span>|    <span class="hljs-comment">/** Recovery Action: RECOVERY_ACTION_RADIO_RESTART */</span>
<span class="hljs-number">734</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">powerOffRadio</span><span class="hljs-params">()</span> {
<span class="hljs-number">735</span>|        log(<span class="hljs-string">"powerOffRadio: Restart radio"</span>);
<span class="hljs-number">736</span>|        mPhone.getServiceStateTracker().powerOffRadioSafely();
<span class="hljs-number">737</span>|    }
</code></pre>
<p><strong>è°ƒç”¨é“¾</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">DataStallRecoveryManager.powerOffRadio()
  â†’ ServiceStateTracker.powerOffRadioSafely()
    â†’ RIL_REQUEST_RADIO_POWER (<span class="hljs-attr">power</span> = <span class="hljs-literal">false</span>)
    â†’ (ç­‰å¾… Modem å“åº”ï¼Œå…³é—­ RF å‘å°„)
    â†’ <span class="hljs-section">[å»¶è¿Ÿ ~3 ç§’]</span>
    â†’ RIL_REQUEST_RADIO_POWER (<span class="hljs-attr">power</span> = <span class="hljs-literal">true</span>)
    â†’ (Modem é‡æ–°æ‰“å¼€ RFï¼Œå‘èµ·ç½‘ç»œæ³¨å†Œ)
    â†’ ServiceState ä» POWER_OFF â†’ SEARCHING â†’ IN_SERVICE
</code></pre>
<p><strong>çŠ¶æ€è½¬æ¢</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€ <span class="hljs-number">1</span>. Radio å…³é—­
â”‚     â””â”€ <span class="hljs-built_in">RIL_REQUEST_RADIO_POWER</span>(false)
â”‚        â†’ Modem å…³é—­ RF å‘å°„
â”‚        â†’ ServiceState â†’ POWER_OFF
â”‚
â”œâ”€ <span class="hljs-number">2</span>. <span class="hljs-selector-attr">[ç³»ç»Ÿç­‰å¾…ç‰©ç†é‡å¯]</span>
â”‚     â””â”€ ~<span class="hljs-number">100</span>-<span class="hljs-number">500ms</span> delay
â”‚
â”œâ”€ <span class="hljs-number">3</span>. Radio æ‰“å¼€
â”‚     â””â”€ <span class="hljs-built_in">RIL_REQUEST_RADIO_POWER</span>(true)
â”‚        â†’ Modem é‡æ–°æ‰“å¼€ RF
â”‚        â†’ é‡æ–°å‘èµ·ç½‘ç»œæ³¨å†Œè¿‡ç¨‹
â”‚
â””â”€ <span class="hljs-number">4</span>. ç½‘ç»œé‡æ–°æ³¨å†Œ
      â”œâ”€ CS domain attach (è¯­éŸ³)
      â”œâ”€ PS domain attach (æ•°æ®)
      â”œâ”€ è·å–æ–°çš„ä¿¡å·å‚æ•°ã€LAC/TACã€å°åŒºä¿¡æ¯
      â””â”€ é‡å»º PDP contextï¼ˆå¦‚æœéœ€è¦ï¼‰
</code></pre>
<p><strong>ä½•æ—¶è§¦å‘ Event_RADIO_STATE_CHANGED</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">377</span>|            <span class="hljs-keyword">case</span> EVENT_RADIO_STATE_CHANGED:
<span class="hljs-number">378</span>|                mRadioPowerState = mPhone.getRadioPowerState();
<span class="hljs-number">379</span>|                <span class="hljs-keyword">if</span> (mDataStalled) {
<span class="hljs-number">380</span>|                    <span class="hljs-comment">// åªåœ¨æ•°æ®å¡æ­»æ—¶è®°å½• Radio çŠ¶æ€æ”¹å˜</span>
<span class="hljs-number">381</span>|                    mRadioStateChangedDuringDataStall = <span class="hljs-literal">true</span>;
<span class="hljs-number">382</span>|                    ...
<span class="hljs-number">383</span>|                    setRecoveryAction(mLastAction);
<span class="hljs-number">384</span>|                }
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆ</strong>ï¼š</p>
<ul>
<li>RF å…³é—­å†æ‰“å¼€å¼ºåˆ¶ Modem é‡æ–°åˆå§‹åŒ– Radio æ ˆ</li>
<li>æ¸…é™¤å¯èƒ½çš„ä¿¡å·å¤„ç†è·¯å¾„ä¸Šçš„å¼‚å¸¸çŠ¶æ€</li>
<li>å¼ºåˆ¶é‡æ–°è·å–ç½‘ç»œå‚æ•°å’Œé™„ç€ä¿¡æ¯</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼šCarrierConfig[2] (é»˜è®¤ 180000ms = 3åˆ†é’Ÿ)</li>
<li>å¯è·³è¿‡ï¼šCarrierConfig[2]</li>
</ul>
<hr/>
<h4 data-id="heading-8">2.4 Level 3: RESET_MODEM</h4>
<p><strong>ç›®çš„</strong>ï¼šModem å…¨ç³»ç»Ÿé‡å¯ï¼Œæ¢å¤ Modem å›ºä»¶åˆ°åˆå§‹çŠ¶æ€</p>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">739</span>|    <span class="hljs-comment">/** Recovery Action: RECOVERY_ACTION_RESET_MODEM */</span>
<span class="hljs-number">740</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rebootModem</span><span class="hljs-params">()</span> {
<span class="hljs-number">741</span>|        log(<span class="hljs-string">"rebootModem: reboot modem"</span>);
<span class="hljs-number">742</span>|        mPhone.rebootModem(<span class="hljs-literal">null</span>);
<span class="hljs-number">743</span>|    }
</code></pre>
<p><strong>è°ƒç”¨é“¾</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">DataStallRecoveryManager<span class="hljs-selector-class">.rebootModem</span>()
  â†’ Phone<span class="hljs-selector-class">.rebootModem</span>(Message)
    â†’ RIL<span class="hljs-selector-class">.nvResetConfig</span>() æˆ–å…¶ä»– Modem é‡å¯å‘½ä»¤
      â†’ NV_RESET_CONFIG (å¯é€‰)
      â†’ MODEM_RESET (é€šè¿‡ SoC reset æˆ– watchdog)
</code></pre>
<p><strong>Modem é‡å¯è¿‡ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€ <span class="hljs-number">1</span>. å‘èµ· Modem é‡å¯è¯·æ±‚
â”‚     â””â”€ RIL_REQUEST_MODEM_RESET (AIDL)
â”‚        æˆ– NV_RESET_CONFIG
â”‚
â”œâ”€ <span class="hljs-number">2</span>. Modem æ–­ç”µæˆ–è¢« SoC å¼ºåˆ¶é‡ç½®
â”‚     â”œâ”€ Modem å›ºä»¶ç»ˆæ­¢æ‰€æœ‰è¿›ç¨‹
â”‚     â”œâ”€ æ‰€æœ‰çŠ¶æ€å˜é‡æ¸…ç©º
â”‚     â”œâ”€ æ— çº¿å°åŒºè¿æ¥æ–­å¼€
â”‚     â””â”€ PDN ä¸Šä¸‹æ–‡ä¸¢å¼ƒ
â”‚
â”œâ”€ <span class="hljs-number">3</span>. Modem é‡å¯ï¼ˆBoot &amp; Initializationï¼‰
â”‚     â”œâ”€ å›ºä»¶åŠ è½½å’Œåˆå§‹åŒ–
â”‚     â”œâ”€ ç¡¬ä»¶æ£€æµ‹
â”‚     â”œâ”€ NV Item é‡è½½
â”‚     â””â”€ ~<span class="hljs-number">5</span>-<span class="hljs-number">30</span> ç§’é‡å¯æ—¶é—´
â”‚
â””â”€ <span class="hljs-number">4</span>. Framework é‡æ–°åˆå§‹åŒ–
      â”œâ”€ ç›‘å¬ UNSOL_MODEM_RESTART indication
      â”œâ”€ ServiceState â†’ POWER_OFF â†’ SEARCHING â†’ IN_SERVICE
      â”œâ”€ é‡æ–°å»ºç«‹æ‰€æœ‰æ•°æ®è¿æ¥
      â””â”€ DataNetwork é‡æ–° SETUP_DATA_CALL
</code></pre>
<p><strong>å…³é”®æŒ‡ç¤º</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">hardware/radio/1.0/IRadioIndication.hal:
   oneway modemReset(RadioIndicationType <span class="hljs-built_in">type</span>, string reason);
   
å½“ Modem é‡å¯å®Œæˆæ—¶ï¼Œè¯¥ indication ä¼šè¢«ä¸ŠæŠ¥åˆ° Framework
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆ</strong>ï¼ˆæœ€åçš„æ‰‹æ®µï¼‰ï¼š</p>
<ul>
<li>Modem å›ºä»¶çº§åˆ«çš„å®Œå…¨æ¢å¤</li>
<li>æ¸…é™¤æ‰€æœ‰å¯èƒ½çš„ memory leakã€state machine å¼‚å¸¸</li>
<li>é‡æ–°åŠ è½½ NV Itemï¼ˆå¯èƒ½åŒ…å«æ•…éšœçš„é…ç½®ï¼‰</li>
</ul>
<p><strong>çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li><strong>æœ€ç»ˆæ¢å¤æ­¥éª¤</strong>ï¼šä»…åœ¨å…¶ä»–æ–¹å¼éƒ½å¤±è´¥åæ‰§è¡Œ</li>
<li><strong>æ— é™å»¶è¿Ÿ</strong>ï¼šè¾¾åˆ° RESET_MODEM åï¼Œå¦‚æœä»ç„¶å¤±è´¥ï¼Œåˆ™æ ‡è®° <code>mIsAttemptedAllSteps = true</code>ï¼Œåœæ­¢è¿›ä¸€æ­¥æ¢å¤</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼šCarrierConfig[3] (é»˜è®¤ 180000ms = 3åˆ†é’Ÿï¼Œå®é™…ä¸Šä¸å†å»¶è¿Ÿï¼Œå› ä¸ºæ˜¯æœ€åæ­¥éª¤)</li>
<li>å¯è·³è¿‡ï¼šCarrierConfig[3]</li>
</ul>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€æ¢å¤æ¡ä»¶åˆ¤æ–­ &amp; çº¦æŸæ¡ä»¶</h3>
<h4 data-id="heading-10">3.1 æ¢å¤æ˜¯å¦éœ€è¦çš„åˆ¤å®š (isRecoveryNeeded)</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">780</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isRecoveryNeeded</span><span class="hljs-params">(<span class="hljs-type">boolean</span> isNeedToCheckTimer)</span> {
<span class="hljs-number">781</span>|        <span class="hljs-comment">// Skip if network is invalid and recovery was not started yet</span>
<span class="hljs-number">782</span>|        <span class="hljs-keyword">if</span> (!mIsValidNetwork &amp;&amp; !isRecoveryAlreadyStarted()) {
<span class="hljs-number">783</span>|            logl(<span class="hljs-string">"skip when network still remains invalid..."</span>);
<span class="hljs-number">784</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† ç½‘ç»œä»ç„¶æ— æ•ˆï¼Œæ¢å¤å°šæœªå¼€å§‹</span>
<span class="hljs-number">785</span>|        }
<span class="hljs-number">786</span>|
<span class="hljs-number">787</span>|        <span class="hljs-comment">// Skip recovery if we have already attempted all steps.</span>
<span class="hljs-number">788</span>|        <span class="hljs-keyword">if</span> (mIsAttemptedAllSteps) {
<span class="hljs-number">789</span>|            logl(<span class="hljs-string">"skip retrying continue recovery action"</span>);
<span class="hljs-number">790</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† å·²å°è¯•æ‰€æœ‰æ­¥éª¤ï¼Œæ”¾å¼ƒ</span>
<span class="hljs-number">791</span>|        }
<span class="hljs-number">792</span>|
<span class="hljs-number">793</span>|        <span class="hljs-comment">// To avoid back to back recovery, wait for a grace period</span>
<span class="hljs-number">794</span>|        <span class="hljs-keyword">if</span> (getElapsedTimeSinceRecoveryMs() &lt; getDataStallRecoveryDelayMillis(mLastAction)
<span class="hljs-number">795</span>|                &amp;&amp; isNeedToCheckTimer) {
<span class="hljs-number">796</span>|            logl(<span class="hljs-string">"skip back to back data stall recovery"</span>);
<span class="hljs-number">797</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† è·ç¦»ä¸Šæ¬¡æ¢å¤æ—¶é—´ä¸è¶³ï¼Œé¿å…é¢‘ç¹è§¦å‘</span>
<span class="hljs-number">798</span>|        }
<span class="hljs-number">799</span>|
<span class="hljs-number">800</span>|        <span class="hljs-comment">// Skip recovery if it can cause a call to drop</span>
<span class="hljs-number">801</span>|        <span class="hljs-keyword">if</span> (mPhone.getState() != PhoneConstants.State.IDLE
<span class="hljs-number">802</span>|                &amp;&amp; getRecoveryAction() &gt; RECOVERY_ACTION_CLEANUP) {
<span class="hljs-number">803</span>|            logl(<span class="hljs-string">"skip data stall recovery as there is an active call"</span>);
<span class="hljs-number">804</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† é€šè¯ä¸­ï¼Œé¿å… RADIO_RESTART/RESET_MODEM</span>
<span class="hljs-number">805</span>|        }
<span class="hljs-number">806</span>|
<span class="hljs-number">807</span>|        <span class="hljs-comment">// Skip when poor signal strength</span>
<span class="hljs-number">808</span>|        <span class="hljs-keyword">if</span> (mPhone.getSignalStrength().getLevel() &lt;= CellSignalStrength.SIGNAL_STRENGTH_POOR) {
<span class="hljs-number">809</span>|            logl(<span class="hljs-string">"skip data stall recovery as in poor signal condition"</span>);
<span class="hljs-number">810</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† ä¿¡å·å¤ªå·®ï¼Œæ¢å¤æ— æ„ä¹‰</span>
<span class="hljs-number">811</span>|        }
<span class="hljs-number">812</span>|
<span class="hljs-number">813</span>|        <span class="hljs-keyword">if</span> (!mDataNetworkController.isInternetDataAllowed(...)) {
<span class="hljs-number">814</span>|            logl(<span class="hljs-string">"skip data stall recovery as data not allowed."</span>);
<span class="hljs-number">815</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† ç”¨æˆ·ç¦ç”¨äº†ç§»åŠ¨æ•°æ®æˆ–ç½‘ç»œç­–ç•¥ä¸å…è®¸</span>
<span class="hljs-number">816</span>|        }
<span class="hljs-number">817</span>|
<span class="hljs-number">818</span>|        <span class="hljs-keyword">if</span> (!mIsInternetNetworkConnected) {
<span class="hljs-number">819</span>|            logl(<span class="hljs-string">"skip data stall recovery as data not connected"</span>);
<span class="hljs-number">820</span>|            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// â† æ— äº’è”ç½‘è¿æ¥ï¼ˆå¯èƒ½æ˜¯ IWLAN ç­‰ï¼‰</span>
<span class="hljs-number">821</span>|        }
<span class="hljs-number">822</span>|        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// â† æ‰€æœ‰æ¡ä»¶æ»¡è¶³ï¼Œå…è®¸æ¢å¤</span>
<span class="hljs-number">823</span>|    }
</code></pre>
<h4 data-id="heading-11">æ¢å¤è§¦å‘çš„å®Œæ•´æµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">ConnectivityService ç½‘ç»œéªŒè¯å¤±è´¥
  â†“
<span class="hljs-built_in">onInternetValidationStatusChanged</span>(NOT_VALID)
  â†“
<span class="hljs-built_in">setNetworkValidationState</span>(false)  <span class="hljs-comment">// æ ‡è®° mDataStalled = true</span>
  â†“
<span class="hljs-built_in">isRecoveryNeeded</span>(true)?
  â”œâ”€ Yes â†’ å‘é€ EVENT_SEND_DATA_STALL_BROADCAST
  â”‚         â†“
  â”‚         <span class="hljs-selector-attr">[ç­‰å¾… DSRM_PREDICT_WAITING_MILLIS (1000ms)]</span>
  â”‚         â†“
  â”‚         <span class="hljs-built_in">doRecovery</span>() æ‰§è¡Œå½“å‰æ¢å¤åŠ¨ä½œ
  â”‚         â†“
  â”‚         <span class="hljs-built_in">startNetworkCheckTimer</span>(mLastAction)
  â”‚         â†“
  â”‚         <span class="hljs-selector-attr">[ç­‰å¾… getDataStallRecoveryDelayMillis(action) æ—¶é—´]</span>
  â”‚         â†“
  â”‚         è‡ªåŠ¨è§¦å‘ä¸‹ä¸€ä¸ª EVENT_SEND_DATA_STALL_BROADCAST
  â”‚
  â””â”€ No â†’ è®°å½•æ—¥å¿—ï¼Œç­‰å¾…ä¸‹æ¬¡ç½‘ç»œéªŒè¯
</code></pre>
<h4 data-id="heading-12">3.2 æ™ºèƒ½è·³è¿‡æ¢å¤æ­¥éª¤</h4>
<p>æŸäº›è¿è¥å•†é…ç½®å…è®¸è·³è¿‡ç‰¹å®šæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">620</span>|    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRecoveryAction</span><span class="hljs-params">(<span class="hljs-meta">@RecoveryAction</span> <span class="hljs-type">int</span> action)</span> {
<span class="hljs-number">621</span>|        ...
<span class="hljs-number">640</span>|        <span class="hljs-comment">// æ£€æŸ¥é…ç½®æ˜¯å¦éœ€è¦è·³è¿‡è¯¥æ­¥éª¤</span>
<span class="hljs-number">641</span>|        <span class="hljs-keyword">if</span> (shouldSkipRecoveryAction(mRecoveryAction)) {
<span class="hljs-number">642</span>|            <span class="hljs-keyword">switch</span> (mRecoveryAction) {
<span class="hljs-number">643</span>|                <span class="hljs-keyword">case</span> RECOVERY_ACTION_GET_DATA_CALL_LIST:
<span class="hljs-number">644</span>|                    setRecoveryAction(RECOVERY_ACTION_CLEANUP);  <span class="hljs-comment">// ç›´æ¥è·³åˆ° CLEANUP</span>
<span class="hljs-number">645</span>|                    <span class="hljs-keyword">break</span>;
<span class="hljs-number">646</span>|                <span class="hljs-keyword">case</span> RECOVERY_ACTION_CLEANUP:
<span class="hljs-number">647</span>|                    setRecoveryAction(RECOVERY_ACTION_RADIO_RESTART);  <span class="hljs-comment">// ç›´æ¥è·³åˆ° RADIO_RESTART</span>
<span class="hljs-number">648</span>|                    <span class="hljs-keyword">break</span>;
<span class="hljs-number">649</span>|                <span class="hljs-keyword">case</span> RECOVERY_ACTION_RADIO_RESTART:
<span class="hljs-number">650</span>|                    setRecoveryAction(RECOVERY_ACTION_RESET_MODEM);  <span class="hljs-comment">// ç›´æ¥è·³åˆ° RESET_MODEM</span>
<span class="hljs-number">651</span>|                    <span class="hljs-keyword">break</span>;
<span class="hljs-number">652</span>|                <span class="hljs-keyword">case</span> RECOVERY_ACTION_RESET_MODEM:
<span class="hljs-number">653</span>|                    resetAction();  <span class="hljs-comment">// æ”¾å¼ƒï¼Œå¤ä½</span>
<span class="hljs-number">654</span>|                    <span class="hljs-keyword">break</span>;
<span class="hljs-number">655</span>|            }
<span class="hljs-number">656</span>|        }
    ...
<span class="hljs-number">657</span>|    }
</code></pre>
<p><strong>ä½•æ—¶è·³è¿‡</strong>ï¼š</p>
<ul>
<li>æŸäº›è¿è¥å•†ä¸ºç›¸åŒ APNï¼ˆå¦‚åŒæ—¶ç”¨äºäº’è”ç½‘å’Œ IMS çš„ APNï¼‰</li>
<li>CLEANUP å¯èƒ½æ— æ•ˆï¼Œå› ä¸º Modem ä¸ä¼šæ–­å¼€</li>
<li>æ­¤æ—¶é…ç½®ä¼šç›´æ¥è·³åˆ° RADIO_RESTART</li>
</ul>
<hr/>
<h3 data-id="heading-13">å››ã€æ¢å¤æµç¨‹ä¸­çš„è®¡æ—¶å™¨ä¸çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-14">4.1 æ ¸å¿ƒçŠ¶æ€å˜é‡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">165</span>-<span class="hljs-number">166</span>|    <span class="hljs-meta">@RecoveryAction</span>
<span class="hljs-number">166</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mRecoveryAction;        <span class="hljs-comment">// å½“å‰æ¢å¤åŠ¨ä½œ</span>
<span class="hljs-number">183</span>|    <span class="hljs-meta">@RecoveryAction</span>
<span class="hljs-number">184</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mLastAction;             <span class="hljs-comment">// ä¸Šæ¬¡æ‰§è¡Œçš„æ¢å¤åŠ¨ä½œ</span>
<span class="hljs-number">173</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mRecoveryTriggered;  <span class="hljs-comment">// æ¢å¤æ˜¯å¦å·²è§¦å‘</span>
<span class="hljs-number">175</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mDataStalled;        <span class="hljs-comment">// æ˜¯å¦å¤„äºå¡æ­»çŠ¶æ€</span>
<span class="hljs-number">177</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mLastActionReported; <span class="hljs-comment">// ä¸Šæ¬¡åŠ¨ä½œæ˜¯å¦å·²ä¸ŠæŠ¥</span>
<span class="hljs-number">181</span>|    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> mDataStallStartMs;       <span class="hljs-comment">// å¡æ­»å¼€å§‹æ—¶é—´</span>
<span class="hljs-number">189</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mNetworkCheckTimerStarted;  <span class="hljs-comment">// è®¡æ—¶å™¨æ˜¯å¦å·²å¯åŠ¨</span>
<span class="hljs-number">190</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mRadioStateChangedDuringDataStall;  <span class="hljs-comment">// Radio çŠ¶æ€åœ¨å¡æ­»æœŸé—´æ˜¯å¦æ”¹å˜</span>
<span class="hljs-number">191</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mIsAirPlaneModeEnableDuringDataStall;  <span class="hljs-comment">// å¡æ­»æœŸé—´é£è¡Œæ¨¡å¼æ˜¯å¦å¯ç”¨</span>
<span class="hljs-number">195</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mMobileDataChangedToEnabledDuringDataStall;  <span class="hljs-comment">// å¡æ­»æœŸé—´ç§»åŠ¨æ•°æ®æ˜¯å¦ä»ç¦ç”¨å˜å¯ç”¨</span>
<span class="hljs-number">197</span>|    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mIsAttemptedAllSteps;  <span class="hljs-comment">// æ˜¯å¦å·²å°è¯•æ‰€æœ‰æ­¥éª¤</span>
</code></pre>
<h4 data-id="heading-15">4.2 è®¡æ—¶å™¨é€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">750</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startNetworkCheckTimer</span><span class="hljs-params">(<span class="hljs-meta">@RecoveryAction</span> <span class="hljs-type">int</span> action)</span> {
<span class="hljs-number">751</span>|        <span class="hljs-comment">// æœ€åä¸€æ­¥ï¼ˆRESET_MODEMï¼‰ä¸å†è®¾ç½®è®¡æ—¶å™¨</span>
<span class="hljs-number">752</span>|        <span class="hljs-keyword">if</span> (action == RECOVERY_ACTION_RESET_MODEM) <span class="hljs-keyword">return</span>;
<span class="hljs-number">753</span>|
<span class="hljs-number">754</span>|        <span class="hljs-keyword">if</span> (!mNetworkCheckTimerStarted) {
<span class="hljs-number">755</span>|            mNetworkCheckTimerStarted = <span class="hljs-literal">true</span>;
<span class="hljs-number">756</span>|            mTimeLastRecoveryStartMs = SystemClock.elapsedRealtime();
<span class="hljs-number">757</span>|            <span class="hljs-comment">// å‘é€å»¶è¿Ÿæ¶ˆæ¯ï¼Œè§¦å‘ä¸‹ä¸€æ¬¡æ¢å¤å°è¯•</span>
<span class="hljs-number">758</span>|            sendMessageDelayed(
<span class="hljs-number">759</span>|                    obtainMessage(EVENT_SEND_DATA_STALL_BROADCAST),
<span class="hljs-number">760</span>|                    getDataStallRecoveryDelayMillis(action));  <span class="hljs-comment">// é»˜è®¤ 3 åˆ†é’Ÿ</span>
<span class="hljs-number">761</span>|        }
<span class="hljs-number">762</span>|    }
</code></pre>
<p><strong>è®¡æ—¶æµç¨‹ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">æ—¶åˆ» T=<span class="hljs-number">0</span>
  â””â”€ æ£€æµ‹åˆ°æ•°æ®å¡æ­» (VALIDATION_STATUS_NOT_VALID)
     â””â”€ è§¦å‘ <span class="hljs-built_in">doRecovery</span>()
        â””â”€ æ‰§è¡Œ <span class="hljs-built_in">getDataCallList</span>()
        â””â”€ è®¾ç½®ä¸‹ä¸€åŠ¨ä½œï¼šmRecoveryAction = CLEANUP
        â””â”€ <span class="hljs-built_in">startNetworkCheckTimer</span>(GET_DATA_CALL_LIST)
           â””â”€ <span class="hljs-built_in">sendMessageDelayed</span>(..., <span class="hljs-number">180000ms</span>)

æ—¶åˆ» T=<span class="hljs-number">180s</span>
  â””â”€ ç½‘ç»œéªŒè¯å†æ¬¡å¤±è´¥
  â”‚  â””â”€ è§¦å‘ <span class="hljs-built_in">doRecovery</span>()
  â”‚     â””â”€ æ‰§è¡Œ <span class="hljs-built_in">cleanUpDataNetwork</span>()
  â”‚     â””â”€ è®¾ç½®ä¸‹ä¸€åŠ¨ä½œï¼šmRecoveryAction = RADIO_RESTART
  â”‚     â””â”€ <span class="hljs-built_in">startNetworkCheckTimer</span>(CLEANUP)
  â”‚        â””â”€ <span class="hljs-built_in">sendMessageDelayed</span>(..., <span class="hljs-number">180000ms</span>)
  â”‚
  â””â”€ æˆ–è€…ç½‘ç»œéªŒè¯æˆåŠŸ
     â””â”€ è§¦å‘ <span class="hljs-built_in">reset</span>()
        â””â”€ æ¢å¤åˆ°åˆå§‹çŠ¶æ€
        â””â”€ mDataStalled = false
        â””â”€ mRecoveryAction = GET_DATA_CALL_LIST
</code></pre>
<h4 data-id="heading-16">4.3 æ¢å¤æ¡ä»¶çš„åŠ¨æ€è°ƒæ•´</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">627</span>-<span class="hljs-number">639</span>|    <span class="hljs-keyword">if</span> (mMobileDataChangedToEnabledDuringDataStall
<span class="hljs-number">630</span>|            &amp;&amp; mRecoveryAction &lt; RECOVERY_ACTION_RADIO_RESTART) {
<span class="hljs-number">631</span>|        mRecoveryAction = RECOVERY_ACTION_RADIO_RESTART;  <span class="hljs-comment">// ç›´æ¥è·³åˆ°ç¬¬äºŒçº§</span>
<span class="hljs-number">632</span>|    }
<span class="hljs-number">633</span>|
<span class="hljs-number">634</span>|    <span class="hljs-keyword">if</span> (mRadioStateChangedDuringDataStall
<span class="hljs-number">636</span>|            &amp;&amp; mRadioPowerState == TelephonyManager.RADIO_POWER_ON) {
<span class="hljs-number">637</span>|        mRecoveryAction = RECOVERY_ACTION_RESET_MODEM;  <span class="hljs-comment">// ç›´æ¥è·³åˆ°ç¬¬ä¸‰çº§</span>
<span class="hljs-number">638</span>|    }
</code></pre>
<p><strong>å«ä¹‰</strong>ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·å¯ç”¨ç§»åŠ¨æ•°æ®</strong>ï¼ˆä»ç¦ç”¨å˜å¯ç”¨ï¼‰ï¼šè·³è¿‡ CLEANUPï¼Œç›´æ¥å°è¯• RADIO_RESTART</li>
<li><strong>Radio åœ¨å¡æ­»æœŸé—´é‡å¯</strong>ï¼šè¯´æ˜ç³»ç»Ÿå·²ç»æ‰§è¡Œäº† RADIO_RESTARTï¼Œç›´æ¥å°è¯• RESET_MODEM</li>
</ul>
<hr/>
<h3 data-id="heading-17">äº”ã€æŒ‡æ ‡å’Œè¯Šæ–­</h3>
<h4 data-id="heading-18">5.1 æ•°æ®å¡æ­»æ¢å¤ç»Ÿè®¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">693</span>-<span class="hljs-number">717</span>|    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">broadcastDataStallDetected</span><span class="hljs-params">(<span class="hljs-meta">@RecoveryAction</span> <span class="hljs-type">int</span> recoveryAction)</span> {
<span class="hljs-number">694</span>|        <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(TelephonyManager.ACTION_DATA_STALL_DETECTED);
<span class="hljs-number">697</span>|        intent.putExtra(TelephonyManager.EXTRA_RECOVERY_ACTION, recoveryAction);
<span class="hljs-number">699</span>|
<span class="hljs-number">700</span>|        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isRecovered</span> <span class="hljs-operator">=</span> !mDataStalled;
<span class="hljs-number">701</span>|        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (SystemClock.elapsedRealtime() - mDataStallStartMs);
<span class="hljs-number">702</span>|        <span class="hljs-meta">@RecoveredReason</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">reason</span> <span class="hljs-operator">=</span> getRecoveredReason(mIsValidNetwork);
<span class="hljs-number">703</span>|        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">durationOfAction</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) getDurationOfCurrentRecoveryMs();
<span class="hljs-number">704</span>|
<span class="hljs-number">710</span>|        <span class="hljs-type">Bundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> mStats.getDataStallRecoveryMetricsData(
<span class="hljs-number">711</span>|                recoveryAction, isRecovered, duration, reason, 
<span class="hljs-number">712</span>|                mValidationCount, mActionValidationCount, durationOfAction);
<span class="hljs-number">713</span>|        intent.putExtra(<span class="hljs-string">"EXTRA_DSRS_STATS_BUNDLE"</span>, bundle);
<span class="hljs-number">714</span>|
<span class="hljs-number">717</span>|        mPhone.getContext().sendBroadcast(intent, READ_PRIVILEGED_PHONE_STATE);
    }
</code></pre>
<p><strong>ä¸ŠæŠ¥çš„å…³é”®æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li><code>isRecovered</code>: æ˜¯å¦å·²æ¢å¤</li>
<li><code>duration</code>: ä»å¡æ­»å¼€å§‹åˆ°æ¢å¤çš„æ€»è€—æ—¶</li>
<li><code>reason</code>: æ¢å¤åŸå› ï¼ˆDSRMã€Modemã€Userã€Noneï¼‰</li>
<li><code>validationCount</code>: æ€»éªŒè¯æ¬¡æ•°</li>
<li><code>actionValidationCount</code>: å½“å‰åŠ¨ä½œçš„éªŒè¯æ¬¡æ•°</li>
<li><code>durationOfAction</code>: å½“å‰æ¢å¤åŠ¨ä½œçš„æ‰§è¡Œè€—æ—¶</li>
</ul>
<h4 data-id="heading-19">5.2 ConnectivityDiagnostics é›†æˆ</h4>
<p>æ•°æ®å¡æ­»æ¢å¤ç»Ÿè®¡ä¼šè·å–ä»¥ä¸‹è¯Šæ–­æ•°æ®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">185</span>-<span class="hljs-number">191</span>|    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDataStallSuspected</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> DataStallReport report)</span> {
<span class="hljs-number">186</span>|        <span class="hljs-type">PersistableBundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> report.getStallDetails();
<span class="hljs-number">187</span>|        mTcpMetricsCollectionPeriodMillis =
<span class="hljs-number">188</span>|            bundle.getInt(KEY_TCP_METRICS_COLLECTION_PERIOD_MILLIS);
<span class="hljs-number">189</span>|        mTcpPacketFailRate = bundle.getInt(KEY_TCP_PACKET_FAIL_RATE);
<span class="hljs-number">190</span>|        mDnsConsecutiveTimeouts = bundle.getInt(KEY_DNS_CONSECUTIVE_TIMEOUTS);
<span class="hljs-number">191</span>|    }
</code></pre>
<p><strong>è¯Šæ–­ä¿¡æ¯</strong>ï¼š</p>
<ul>
<li><strong>DNS è¿ç»­è¶…æ—¶æ•°</strong>ï¼šè¿ç»­ DNS æŸ¥è¯¢å¤±è´¥çš„æ¬¡æ•°</li>
<li><strong>TCP åŒ…å¤±è´¥ç‡</strong>ï¼šTCP åŒ…é€è¾¾å¤±è´¥çš„ç™¾åˆ†æ¯”</li>
<li><strong>TCP æŒ‡æ ‡æ”¶é›†å‘¨æœŸ</strong>ï¼šè¿™äº›æŒ‡æ ‡çš„ç»Ÿè®¡å‘¨æœŸ</li>
</ul>
<hr/>
<h3 data-id="heading-20">å…­ã€å®Œæ•´æµç¨‹å›¾</h3>
<pre><code class="hljs language-ini" lang="ini">æ•°æ®å¡æ­»åœºæ™¯
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: æ£€æµ‹é˜¶æ®µ                                             â”‚
â”‚ - NetworkMonitor ç›‘æµ‹åˆ° DNS è¶…æ—¶æˆ– TCP å¤±è´¥ç‡é«˜              â”‚
â”‚ - ConnectivityService é€šçŸ¥éªŒè¯å¤±è´¥                           â”‚
â”‚ - onInternetValidationStatusChanged(NOT_VALID)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: è§¦å‘æ£€æŸ¥                                             â”‚
â”‚ - <span class="hljs-attr">mDataStalled</span> = <span class="hljs-literal">true</span>                                        â”‚
â”‚ - isRecoveryNeeded() åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¢å¤æ¡ä»¶                    â”‚
â”‚   â”œâ”€ æœ‰æ´»è·ƒé€šè¯ï¼Ÿâ†’ è·³è¿‡é«˜çº§åˆ«æ¢å¤ (RADIO_RESTART+)          â”‚
â”‚   â”œâ”€ ç”¨æˆ·ç¦ç”¨æ•°æ®ï¼Ÿâ†’ æ”¾å¼ƒæ¢å¤                                â”‚
â”‚   â”œâ”€ ä¿¡å·å¤ªå·®ï¼Ÿâ†’ æ”¾å¼ƒæ¢å¤                                    â”‚
â”‚   â””â”€ å·²å°è¯•æ‰€æœ‰æ­¥éª¤ï¼Ÿâ†’ æ”¾å¼ƒæ¢å¤                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ æ¢å¤æ¡ä»¶æ»¡è¶³ï¼Ÿ         â”‚
          â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ YES     â”‚ NO
              â†“         â””â”€â†’ ç­‰å¾…ä¸‹æ¬¡éªŒè¯
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: æ¢å¤æ‰§è¡Œ (doRecovery)                                â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€ Action 0: GET_DATA_CALL_LIST                             â”‚
â”‚ â”‚  â””â”€ requestDataCallList() æŸ¥è¯¢æ•°æ®è¿æ¥åˆ—è¡¨                â”‚
â”‚ â”‚     â””â”€ <span class="hljs-section">[ç­‰å¾… 180s]</span>                                         â”‚
â”‚ â”‚
â”‚ â”œâ”€ Action 1: CLEANUP                                         â”‚
â”‚ â”‚  â””â”€ onDataStallReestablishInternet()                      â”‚
â”‚ â”‚     â”œâ”€ æ–­å¼€æ‰€æœ‰ Internet PDN (DEACTIVATE_DATA_CALL)       â”‚
â”‚ â”‚     â””â”€ ç­‰å¾…ç½‘ç»œè¯·æ±‚é‡å»º (SETUP_DATA_CALL)                â”‚
â”‚ â”‚        â””â”€ <span class="hljs-section">[ç­‰å¾… 180s]</span>                                      â”‚
â”‚ â”‚
â”‚ â”œâ”€ Action 2: RADIO_RESTART                                   â”‚
â”‚ â”‚  â””â”€ powerOffRadioSafely()                                 â”‚
â”‚ â”‚     â”œâ”€ RIL_REQUEST_RADIO_POWER(false) å…³é—­ RF             â”‚
â”‚ â”‚     â”œâ”€ <span class="hljs-section">[å»¶è¿Ÿ ~100-500ms]</span>                                   â”‚
â”‚ â”‚     â””â”€ RIL_REQUEST_RADIO_POWER(true) æ‰“å¼€ RF              â”‚
â”‚ â”‚        â””â”€ <span class="hljs-section">[ç­‰å¾… 180s æˆ–æ›´é•¿ï¼Œé‡æ–°æ³¨å†Œç½‘ç»œ]</span>                â”‚
â”‚ â”‚
â”‚ â””â”€ Action 3: RESET_MODEM                                     â”‚
â”‚    â””â”€ rebootModem()                                          â”‚
â”‚       â”œâ”€ RIL_REQUEST_MODEM_RESET                            â”‚
â”‚       â”œâ”€ Modem å®Œå…¨é‡å¯ (~5-30s)                            â”‚
â”‚       â”œâ”€ Framework ç›‘å¬ UNSOL_MODEM_RESTART                â”‚
â”‚       â””â”€ é‡å»ºæ‰€æœ‰æ•°æ®è¿æ¥                                    â”‚
â”‚          â””â”€ <span class="hljs-section">[ä¸å†ç­‰å¾…ï¼Œæ ‡è®° mIsAttemptedAllSteps = true]</span>    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: éªŒè¯ç»“æœ                                             â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€ éªŒè¯é€šè¿‡ (VALIDATION_STATUS_VALID)                       â”‚
â”‚ â”‚  â””â”€ reset() æ¢å¤åˆ°åˆå§‹çŠ¶æ€                                 â”‚
â”‚ â”‚     â”œâ”€ <span class="hljs-attr">mDataStalled</span> = <span class="hljs-literal">false</span>                               â”‚
â”‚ â”‚     â”œâ”€ <span class="hljs-attr">mRecoveryAction</span> = GET_DATA_CALL_LIST               â”‚
â”‚ â”‚     â”œâ”€ <span class="hljs-attr">mIsAttemptedAllSteps</span> = <span class="hljs-literal">false</span>                       â”‚
â”‚ â”‚     â””â”€ å‘é€ ACTION_DATA_STALL_DETECTED å¹¿æ’­               â”‚
â”‚ â”‚
â”‚ â””â”€ éªŒè¯ç»§ç»­å¤±è´¥                                              â”‚
â”‚    â””â”€ <span class="hljs-section">[å»¶è¿Ÿå]</span> è§¦å‘ä¸‹ä¸€çº§æ¢å¤                                â”‚
â”‚       æˆ– <span class="hljs-section">[å·²å°è¯•æ‰€æœ‰æ­¥éª¤]</span> æ”¾å¼ƒæ¢å¤                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-21">ä¸ƒã€å…³é”®é…ç½®é¡¹</h3>
<pre><code class="hljs language-ini" lang="ini">CarrierConfigManager.KEY_DATA_STALL_RECOVERY_TIMERS_LONG_ARRAY
â”œâ”€ <span class="hljs-section">[0]</span>: GET_DATA_CALL_LIST â†’ CLEANUP é—´éš” (é»˜è®¤ 180000ms)
â”œâ”€ <span class="hljs-section">[1]</span>: CLEANUP â†’ RADIO_RESTART é—´éš” (é»˜è®¤ 180000ms)
â”œâ”€ <span class="hljs-section">[2]</span>: RADIO_RESTART â†’ RESET_MODEM é—´éš” (é»˜è®¤ 180000ms)
â””â”€ <span class="hljs-section">[3]</span>: RESET_MODEM åçš„é—´éš” (é»˜è®¤ 180000msï¼Œå®é™…ä¸ç”¨)

CarrierConfigManager.KEY_DATA_STALL_RECOVERY_SHOULD_SKIP_ARRAY
â”œâ”€ <span class="hljs-section">[0]</span>: æ˜¯å¦è·³è¿‡ GET_DATA_CALL_LIST
â”œâ”€ <span class="hljs-section">[1]</span>: æ˜¯å¦è·³è¿‡ CLEANUP (æŸäº›ç›¸åŒ APN æƒ…å†µ)
â”œâ”€ <span class="hljs-section">[2]</span>: æ˜¯å¦è·³è¿‡ RADIO_RESTART
â””â”€ <span class="hljs-section">[3]</span>: æ˜¯å¦è·³è¿‡ RESET_MODEM

Settings.Global.DSRM_ENABLED_ACTIONS
â””â”€ "true,true,false,true" æ ¼å¼ï¼Œå…è®¸åŠ¨æ€ç¦ç”¨ç‰¹å®šæ¢å¤åŠ¨ä½œ

Settings.Global.DSRM_DURATION_MILLIS
â””â”€ "180000,180000,180000,180000" æ ¼å¼ï¼Œå…è®¸åŠ¨æ€è°ƒæ•´å»¶è¿Ÿ
</code></pre>
<hr/>
<h3 data-id="heading-22">å…«ã€æ€»ç»“</h3>
<p>æ•°æ®å¡æ­»æ¢å¤æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„<strong>å››çº§é€’è¿›å®¹é”™æœºåˆ¶</strong>ï¼š</p>








































<table><thead><tr><th>çº§åˆ«</th><th>åç§°</th><th>ä½œç”¨èŒƒå›´</th><th>é£é™©ç­‰çº§</th><th>æ¢å¤æ—¶é—´</th></tr></thead><tbody><tr><td>0</td><td>GET_DATA_CALL_LIST</td><td>çŠ¶æ€æŸ¥è¯¢ã€åŒæ­¥</td><td>æ— </td><td>&lt;1s</td></tr><tr><td>1</td><td>CLEANUP</td><td>è¿æ¥é‡å»ºã€Channel æ¸…ç†</td><td>ä½</td><td>&lt;10s</td></tr><tr><td>2</td><td>RADIO_RESTART</td><td>RF é‡å¯ã€é‡æ–°æ³¨å†Œ</td><td>ä¸­</td><td>~30-60s</td></tr><tr><td>3</td><td>RESET_MODEM</td><td>å®Œå…¨Modemé‡å¯</td><td>é«˜</td><td>~5-30s + é‡è¿</td></tr></tbody></table>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>âœ… <strong>æ¸è¿›å¼</strong>ï¼šä»è½»é‡çº§åˆ°é‡é‡çº§é€æ­¥å‡çº§</li>
<li>âœ… <strong>è‡ªé€‚åº”</strong>ï¼šæ ¹æ®è¿è¥å•†é…ç½®è·³è¿‡ä¸å¿…è¦çš„æ­¥éª¤</li>
<li>âœ… <strong>å®‰å…¨</strong>ï¼šé€šè¯ä¸­é¿å…é«˜é£é™©æ¢å¤ã€ä¿¡å·å·®æ—¶æ”¾å¼ƒæ¢å¤</li>
<li>âœ… <strong>å¯é…ç½®</strong>ï¼šæ¯ä¸ªæ­¥éª¤çš„å»¶è¿Ÿå’Œæ˜¯å¦æ‰§è¡Œéƒ½å¯åŠ¨æ€é…ç½®</li>
<li>âœ… <strong>å¯è¯Šæ–­</strong>ï¼šè¯¦ç»†çš„ä¸ŠæŠ¥æ¢å¤äº‹ä»¶å’Œè¯Šæ–­æ•°æ®</li>
</ul>
<p>ç°åœ¨è®©æˆ‘æ›´æ–° TODO åˆ—è¡¨ï¼š</p>
<p>å®Œç¾ï¼ç°åœ¨è®©æˆ‘æä¾›å‡ ä¸ªå…³é”®ä»£ç ç‰‡æ®µçš„è¯¦ç»†åˆ†æï¼Œä»¥ä¾›ä½ è¿›ä¸€æ­¥æ·±å…¥ç†è§£ï¼š</p>
<hr/>
<h2 data-id="heading-23">ğŸ“Œ å…³é”®ä»£ç æ·±åº¦åˆ†æ</h2>
<h3 data-id="heading-24">1. æ¢å¤å¾ªç¯çš„æ ¸å¿ƒé€»è¾‘</h3>
<pre><code class="hljs language-357:401:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java" lang="357:401:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java">    @Override
    public void handleMessage(Message msg) {
        logv("handleMessage = " + msg);
        switch (msg.what) {
            case EVENT_SEND_DATA_STALL_BROADCAST:
                mRecoveryTriggered = true;
                // Verify that DSRM needs to process the recovery action
                if (!isRecoveryNeeded(false)) {
                    cancelNetworkCheckTimer();
                    startNetworkCheckTimer(getRecoveryAction());
                    return;
                }
                // Broadcast intent that data stall has been detected.
                broadcastDataStallDetected(getRecoveryAction());
                // Schedule the message to wait for the predicted value.
                sendMessageDelayed(
                        obtainMessage(EVENT_DO_RECOVERY), mPredictWaitingMillis);
                break;
            case EVENT_DO_RECOVERY:
                doRecovery();
                break;
            case EVENT_RADIO_STATE_CHANGED:
                mRadioPowerState = mPhone.getRadioPowerState();
                if (mDataStalled) {
                    // Store the radio state changed flag only when data stall occurred.
                    mRadioStateChangedDuringDataStall = true;
                    if (Settings.Global.getInt(
                                    mPhone.getContext().getContentResolver(),
                                    Settings.Global.AIRPLANE_MODE_ON,
                                    0) != 0) {
                        mIsAirPlaneModeEnableDuringDataStall = true;
                    }
                    setRecoveryAction(mLastAction);
                }
                break;
            case EVENT_CONTENT_DSRM_ENABLED_ACTIONS_CHANGED:
                updateGlobalConfigActions();
                break;
            case EVENT_CONTENT_DSRM_DURATION_MILLIS_CHANGED:
                updateGlobalConfigDurations();
                break;
            default:
                loge("Unexpected message = " + msg);
                break;
        }
    }
</code></pre>
<p><strong>å…³é”®ç‚¹åˆ†æ</strong>ï¼š</p>
<ul>
<li>
<p><strong>EVENT_SEND_DATA_STALL_BROADCAST</strong> æ˜¯æ¢å¤å¾ªç¯çš„å…³é”®è§¦å‘ç‚¹ï¼Œå®ƒä¼šï¼š</p>
<ol>
<li>æ£€æŸ¥ <code>isRecoveryNeeded(false)</code> åˆ¤æ–­æ˜¯å¦çœŸçš„éœ€è¦æ¢å¤ï¼ˆä¸å†ç­‰å¾…å»¶è¿Ÿï¼‰</li>
<li>å¦‚æœéœ€è¦ï¼Œå‘é€ DSRS Broadcastï¼ˆç”¨äºè¯Šæ–­ï¼‰</li>
<li>å»¶è¿Ÿ <code>mPredictWaitingMillis</code>ï¼ˆé€šå¸¸ 1000msï¼‰åå‘é€ EVENT_DO_RECOVERY</li>
</ol>
</li>
<li>
<p><strong>EVENT_RADIO_STATE_CHANGED</strong> ä¼šè‡ªåŠ¨å‡çº§æ¢å¤æ­¥éª¤ï¼Œå¦‚æœç³»ç»Ÿå·²ç»è‡ªå·±é‡å¯äº† Radioï¼ˆå¯èƒ½ç”±å…¶ä»–æ¨¡å—è§¦å‘ï¼‰ï¼Œåˆ™ç›´æ¥è·³åˆ° RESET_MODEM</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-25">2. éªŒè¯çŠ¶æ€å˜åŒ–å¤„ç†</h3>
<pre><code class="hljs language-570:591:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java" lang="570:591:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java">    private void onInternetValidationStatusChanged(@ValidationStatus int status) {
        logl("onInternetValidationStatusChanged: " + DataUtils.validationStatusToString(status));
        final boolean isValid = status == NetworkAgent.VALIDATION_STATUS_VALID;
        if (mFeatureFlags.dsrsDiagnosticsEnabled()) {
            mValidationCount += 1;
            mActionValidationCount += 1;
        }
        setNetworkValidationState(isValid);
        if (isValid) {
            if (mFeatureFlags.dsrsDiagnosticsEnabled()) {
                // Broadcast intent that data stall recovered.
                broadcastDataStallDetected(mLastAction);
            }
            reset();
        } else if (isRecoveryNeeded(true)) {
            // Set the network as invalid, because recovery is needed
            mIsValidNetwork = false;
            log("trigger data stall recovery");
            mTimeLastRecoveryStartMs = SystemClock.elapsedRealtime();
            sendMessage(obtainMessage(EVENT_SEND_DATA_STALL_BROADCAST));
        }
    }
</code></pre>
<p><strong>éªŒè¯æµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯é€šè¿‡ â†’ ç«‹å³ <code>reset()</code> å¤ä½ï¼Œæ¢å¤å®Œæˆ</li>
<li>éªŒè¯å¤±è´¥ + æ»¡è¶³æ¢å¤æ¡ä»¶ â†’ ç«‹å³è§¦å‘ <code>EVENT_SEND_DATA_STALL_BROADCAST</code> è¿›å…¥æ¢å¤å¾ªç¯</li>
<li>éªŒè¯å¤±è´¥ + ä¸æ»¡è¶³æ¢å¤æ¡ä»¶ â†’ è®°å½•æ—¥å¿—ï¼Œç­‰å¾…ä¸‹æ¬¡éªŒè¯</li>
</ol>
<hr/>
<h3 data-id="heading-26">3. CLEANUP çš„å®é™…æ‰§è¡Œ</h3>
<pre><code class="hljs language-3450:3459:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataNetworkController.java" lang="3450:3459:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataNetworkController.java">    private void onDataStallReestablishInternet() {
        log("onDataStallReestablishInternet: Tear down data networks that support internet.");
        // Tear down all data networks that support internet. After data disconnected, unsatisfied
        // network requests will be re-evaluate again and data network controller will attempt to
        // setup data networks to satisfy them.
        mDataNetworkList.stream()
                .filter(DataNetwork::isInternetSupported)
                .forEach(dataNetwork -&gt; dataNetwork.tearDown(
                        DataNetwork.TEAR_DOWN_REASON_DATA_STALL));
    }
</code></pre>
<p><strong>é‡è¦ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>ä»…æ–­å¼€ <code>isInternetSupported()</code> çš„ç½‘ç»œï¼ˆé€šå¸¸æ˜¯é»˜è®¤ APNï¼‰</li>
<li>ä¸ä¼šæ–­å¼€ IMSã€MMS ç­‰ç‰¹æ®Šç”¨é€”çš„ PDN</li>
<li>æ–­å¼€åï¼Œ<code>DataNetworkController</code> ä¼šæ ¹æ®å¾…å†³çš„ç½‘ç»œè¯·æ±‚è‡ªåŠ¨é‡å»º</li>
<li>è¿™æ˜¯ä¸€ä¸ª"è½»é‡çº§"æ¢å¤ï¼Œå› ä¸ºæ²¡æœ‰æ¶‰åŠ Radio æˆ– Modem</li>
</ul>
<hr/>
<h3 data-id="heading-27">4. åŠ¨æ€è°ƒæ•´æ¢å¤æ­¥éª¤</h3>
<pre><code class="hljs language-620:659:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java" lang="620:659:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java">    public void setRecoveryAction(@RecoveryAction int action) {
        // Reset the validation count for action change
        if (mFeatureFlags.dsrsDiagnosticsEnabled() &amp;&amp; mRecoveryAction != action) {
            mActionValidationCount = 0;
        }
        mRecoveryAction = action;

        // Check if the mobile data enabled is TRUE, it means that the mobile data setting changed
        // from DISABLED to ENABLED, we will set the next recovery action to
        // RECOVERY_ACTION_RADIO_RESTART due to already did the RECOVERY_ACTION_CLEANUP.
        if (mMobileDataChangedToEnabledDuringDataStall
                &amp;&amp; mRecoveryAction &lt; RECOVERY_ACTION_RADIO_RESTART) {
            mRecoveryAction = RECOVERY_ACTION_RADIO_RESTART;
        }
        // Check if the radio state changed from off to on, it means that the modem already
        // did the radio restart, we will set the next action to RECOVERY_ACTION_RESET_MODEM.
        if (mRadioStateChangedDuringDataStall
                &amp;&amp; mRadioPowerState == TelephonyManager.RADIO_POWER_ON) {
            mRecoveryAction = RECOVERY_ACTION_RESET_MODEM;
        }
        // To check the flag from DataConfigManager if we need to skip the step.
        if (shouldSkipRecoveryAction(mRecoveryAction)) {
            switch (mRecoveryAction) {
                case RECOVERY_ACTION_GET_DATA_CALL_LIST:
                    setRecoveryAction(RECOVERY_ACTION_CLEANUP);
                    break;
                case RECOVERY_ACTION_CLEANUP:
                    setRecoveryAction(RECOVERY_ACTION_RADIO_RESTART);
                    break;
                case RECOVERY_ACTION_RADIO_RESTART:
                    setRecoveryAction(RECOVERY_ACTION_RESET_MODEM);
                    break;
                case RECOVERY_ACTION_RESET_MODEM:
                    resetAction();
                    break;
            }
        }

        log("setRecoveryAction: " + recoveryActionToString(mRecoveryAction));
    }
</code></pre>
<p><strong>ä¸‰å±‚æ™ºèƒ½é€»è¾‘</strong>ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·æ“ä½œæ£€æµ‹</strong>ï¼šå¦‚æœç”¨æˆ·åœ¨å¡æ­»æœŸé—´å¯ç”¨æ•°æ® â†’ è·³è¿‡å·²æ‰§è¡Œçš„æ­¥éª¤</li>
<li><strong>System Event æ£€æµ‹</strong>ï¼šå¦‚æœ Radio åœ¨å¡æ­»æœŸé—´é‡å¯ â†’ è¯´æ˜ç³»ç»Ÿå·²æ‰§è¡Œ RADIO_RESTARTï¼Œç›´æ¥å°è¯• RESET_MODEM</li>
<li><strong>è¿è¥å•†é…ç½®</strong>ï¼šæ ¹æ®è¿è¥å•†é…ç½®è·³è¿‡ä¸å¿…è¦çš„æ­¥éª¤ï¼ˆé€’å½’è°ƒç”¨ï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-28">5. è¿è¥å•†é…ç½®çš„åŠ¨æ€æ›´æ–°</h3>
<pre><code class="hljs language-428:454:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java" lang="428:454:frameworks_opt_telephony/src/java/com/android/internal/telephony/data/DataStallRecoveryManager.java">    private void updateGlobalConfigActions() {
        String enabledActions = Settings.Global.getString(
                mPhone.getContext().getContentResolver(),
                Settings.Global.DSRM_ENABLED_ACTIONS);

        if (!TextUtils.isEmpty(enabledActions)) {
            String[] splitEnabledActions = enabledActions.split(",");
            boolean[] enabledActionsArray = new boolean[splitEnabledActions.length];
            for (int i = 0; i &lt; enabledActionsArray.length; i++) {
                enabledActionsArray[i] = Boolean.parseBoolean(splitEnabledActions[i].trim());
            }

            int minLength = Math.min(enabledActionsArray.length,
                    mSkipRecoveryActionArray.length);

            // Update the skip recovery action array.
            for (int i = 0; i &lt; minLength; i++) {
                mSkipRecoveryActionArray[i] = !enabledActionsArray[i];
            }
            log("SkipRecoveryAction: "
                    + Arrays.toString(mSkipRecoveryActionArray));
            mPredictWaitingMillis = DSRM_PREDICT_WAITING_MILLIS;
        } else {
            mPredictWaitingMillis = 0;
            log("Enabled actions is null");
        }
    }
</code></pre>
<p><strong>åŠ¨æ€é…ç½®ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ”¯æŒè¿è¥å•†é€šè¿‡ <code>Settings.Global.DSRM_ENABLED_ACTIONS</code> åŠ¨æ€æ§åˆ¶æ¢å¤æ­¥éª¤</li>
<li>æ ¼å¼ï¼š<code>"true,true,false,true"</code> è¡¨ç¤ºå¯ç”¨æ­¥éª¤ 0ã€1ã€3ï¼Œè·³è¿‡æ­¥éª¤ 2</li>
<li>ä¹Ÿæ”¯æŒåŠ¨æ€è°ƒæ•´å»¶è¿Ÿæ—¶é—´ï¼š<code>Settings.Global.DSRM_DURATION_MILLIS</code></li>
</ul>
<hr/>
<h2 data-id="heading-29">ğŸ¯ å®æˆ˜åº”ç”¨æŒ‡å—</h2>
<h3 data-id="heading-30">é—®é¢˜æ’æŸ¥</h3>
<ol>
<li>
<p><strong>æ•°æ®å¡æ­»é¢‘ç¹å‘ç”Ÿ</strong></p>
<ul>
<li>æ£€æŸ¥ NetworkMonitor çš„ DNS/TCP æ£€æµ‹é˜ˆå€¼</li>
<li>æ£€æŸ¥ç½‘ç»œä¿¡å·å¼ºåº¦å’Œç½‘ç»œè´¨é‡</li>
<li>æŸ¥çœ‹ DSRM æ˜¯å¦çœŸçš„æ‰§è¡Œäº†æ¢å¤æ­¥éª¤ï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ¢å¤æ­¥éª¤æ²¡æœ‰æ‰§è¡Œ</strong></p>
<ul>
<li>æ£€æŸ¥ <code>shouldSkipRecoveryAction()</code> æ˜¯å¦å› è¿è¥å•†é…ç½®è·³è¿‡äº†</li>
<li>æ£€æŸ¥ <code>isRecoveryNeeded()</code> çš„å„ä¸ªæ¡ä»¶æ˜¯å¦æ»¡è¶³</li>
<li>æŸ¥çœ‹ç”¨æˆ·æ˜¯å¦å¤„äºé€šè¯ä¸­ã€é£è¡Œæ¨¡å¼ã€æˆ–ç¦ç”¨æ•°æ®</li>
</ul>
</li>
<li>
<p><strong>æŸä¸ªæ¢å¤æ­¥éª¤æ— æ•ˆ</strong></p>
<ul>
<li>å¯¹äº CLEANUP æ— æ•ˆ â†’ å¯èƒ½éœ€è¦è¿è¥å•†é…ç½®è·³è¿‡ï¼Œç›´æ¥å°è¯• RADIO_RESTART</li>
<li>å¯¹äº RADIO_RESTART æ— æ•ˆ â†’ å¯èƒ½æ˜¯ Modem å›ºä»¶é—®é¢˜ï¼Œéœ€è¦ RESET_MODEM</li>
<li>å¯¹äº RESET_MODEM æ— æ•ˆ â†’ å¯èƒ½æ˜¯ç¡¬ä»¶æˆ–ä¿¡å·é—®é¢˜ï¼Œè¶…å‡º DSRM èŒƒå›´</li>
</ul>
</li>
</ol>
<h3 data-id="heading-31">æ€§èƒ½ä¼˜åŒ–</h3>
<ol>
<li>
<p><strong>å‡å°‘å¡æ­»è¯¯æŠ¥</strong></p>
<ul>
<li>å¢åŠ  NetworkMonitor çš„æ£€æµ‹é˜ˆå€¼</li>
<li>å‡å°‘æ£€æµ‹é¢‘ç‡</li>
</ul>
</li>
<li>
<p><strong>åŠ å¿«æ¢å¤é€Ÿåº¦</strong></p>
<ul>
<li>å‡å°‘ DSRM å»¶è¿Ÿé…ç½®ï¼ˆCarrierConfigï¼‰</li>
<li>å¯¹äºæŸäº›è¿è¥å•†ï¼Œå¯ä»¥è·³è¿‡ä¸å¿…è¦çš„æ­¥éª¤</li>
</ul>
</li>
<li>
<p><strong>é™ä½ç”¨æˆ·å½±å“</strong></p>
<ul>
<li>åœ¨é€šè¯ä¸­ä¸æ‰§è¡Œ RADIO_RESTART/RESET_MODEM</li>
<li>ä¿¡å·å·®æ—¶ä¸æ‰§è¡Œæ¢å¤ï¼ˆé¿å…æ— è°“çš„æ“ä½œï¼‰</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-32">ğŸ“š ç›¸å…³æ–‡ä»¶ç´¢å¼•</h2>
<pre><code class="hljs language-scss" lang="scss">æ ¸å¿ƒå®ç°
â”œâ”€ DataStallRecoveryManager<span class="hljs-selector-class">.java</span> (DSRM ä¸»é€»è¾‘)
â”œâ”€ DataNetworkController<span class="hljs-selector-class">.java</span> (æ•°æ®ç½‘ç»œç®¡ç†)
â”œâ”€ DataNetwork<span class="hljs-selector-class">.java</span> (å•ä¸ª PDN çš„è¿æ¥ç®¡ç†)
â””â”€ RIL<span class="hljs-selector-class">.java</span> (ä¸ Modem é€šä¿¡)

è¯Šæ–­å’Œç»Ÿè®¡
â”œâ”€ DataStallRecoveryStats<span class="hljs-selector-class">.java</span> (æ¢å¤ç»Ÿè®¡)
â”œâ”€ ConnectivityService<span class="hljs-selector-class">.java</span> (ç½‘ç»œéªŒè¯)
â””â”€ NetworkMonitor (ç½‘ç»œè´¨é‡ç›‘æµ‹)

é…ç½®
â”œâ”€ CarrierConfigManager<span class="hljs-selector-class">.java</span> (è¿è¥å•†é…ç½®)
â”œâ”€ DataConfigManager<span class="hljs-selector-class">.java</span> (æ•°æ®é…ç½®ç®¡ç†)
â””â”€ Settings<span class="hljs-selector-class">.Global</span> (åŠ¨æ€å…¨å±€è®¾ç½®)
</code></pre>
<p>è¿™å°±æ˜¯ Android Telephony ä¸­å®Œæ•´çš„<strong>æ•°æ®æ¢å¤ä¸å®¹é”™æœºåˆ¶</strong>ï¼å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç»§ç»­æé—® ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compose BOM 2026.01.01 ä¸Šæ–°ï¼š1.10.2 ç¨³å®šè¡¥ä¸ + Material 3 1.4.0 é‡ç‚¹èƒ½åŠ›æ¢³ç†]]></title>    <link>https://juejin.cn/post/7603321550247362610</link>    <guid>https://juejin.cn/post/7603321550247362610</guid>    <pubDate>2026-02-06T09:53:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603321550247362610" data-draft-id="7603309951227625522" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compose BOM 2026.01.01 ä¸Šæ–°ï¼š1.10.2 ç¨³å®šè¡¥ä¸ + Material 3 1.4.0 é‡ç‚¹èƒ½åŠ›æ¢³ç†"/> <meta itemprop="keywords" content="Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-06T09:53:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Nicko"/> <meta itemprop="url" content="https://juejin.cn/user/3791538512733501"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compose BOM 2026.01.01 ä¸Šæ–°ï¼š1.10.2 ç¨³å®šè¡¥ä¸ + Material 3 1.4.0 é‡ç‚¹èƒ½åŠ›æ¢³ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3791538512733501/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Nicko
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:53:38.000Z" title="Fri Feb 06 2026 09:53:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    69
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Compose BOM <code>2026.01.01</code> ä¸Šæ–°ï¼š1.10.2 ç¨³å®šè¡¥ä¸ + Material 3 <code>1.4.0</code> é‡ç‚¹èƒ½åŠ›æ¢³ç†</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>å¦‚æœä½ åœ¨ Android é¡¹ç›®é‡Œä½¿ç”¨ Jetpack Composeï¼Œ<code>BOM</code>ï¼ˆBill of Materialsï¼‰æ˜¯æœ€ç¨³çš„ç‰ˆæœ¬ç®¡ç†æ–¹å¼ä¹‹ä¸€ï¼š</p>
<ul>
<li>åªå£°æ˜ä¸€ä¸ª BOM ç‰ˆæœ¬ï¼ŒCompose ç›¸å…³ä¾èµ–å°±èƒ½è‡ªåŠ¨å¯¹é½ã€‚</li>
<li>é™ä½â€œæŸä¸ªæ¨¡å—å·å·å‡äº†ç‰ˆæœ¬ï¼Œç»“æœè¿è¡Œæ—¶å‡ºé—®é¢˜â€çš„æ¦‚ç‡ã€‚</li>
</ul>
<p>æˆªè‡³ <strong>2026-02-06</strong>ï¼ŒCompose å®˜æ–¹æ–‡æ¡£ä¸­çš„ç¤ºä¾‹ BOM å·²æ›´æ–°åˆ°ï¼š</p>
<ul>
<li><code>androidx.compose:compose-bom:2026.01.01</code></li>
<li><code>androidx.compose:compose-bom-alpha:2026.01.01</code></li>
<li><code>androidx.compose:compose-bom-beta:2026.01.01</code></li>
</ul>
<p>è¿™ç¯‡æ–‡ç« æŒ‰â€œå‰è¨€ â†’ ç‰ˆæœ¬é€Ÿè§ˆ â†’ æ¨¡å—æ›´æ–° â†’ è¿ç§»å»ºè®®â€çš„ç»“æ„ï¼Œå¿«é€Ÿè®²æ¸…æ¥šè¿™ä¸ªç‰ˆæœ¬å€¼ä¸å€¼å¾—å‡ã€å‡äº†è¦æ³¨æ„ä»€ä¹ˆã€‚</p>
<hr/>
<h3 data-id="heading-2">Compose BOM <code>2026.01.01</code> é€Ÿè§ˆ</h3>
<h4 data-id="heading-3">1ï¼‰ä¸€å¥è¯ç»“è®º</h4>
<p><code>2026.01.01</code> æ˜¯ä¸€ä¸ª<strong>ç¨³å®šè¡¥ä¸èšåˆç‰ˆæœ¬</strong>ï¼š</p>
<ul>
<li>æ ¸å¿ƒ Compose ç»„ï¼ˆ<code>animation</code>/<code>foundation</code>/<code>runtime</code>/<code>ui</code>ï¼‰å¯¹é½åˆ° <code>1.10.2</code>ã€‚</li>
<li><code>material3</code> å¯¹é½åˆ°ç¨³å®šç‰ˆ <code>1.4.0</code>ã€‚</li>
<li><code>material3.adaptive</code> å¯¹é½åˆ° <code>1.2.0</code>ã€‚</li>
</ul>
<h4 data-id="heading-4">2ï¼‰å…³é”®æ˜ å°„ï¼ˆå®˜æ–¹ BOM Mappingï¼‰</h4>





















































<table><thead><tr><th>Compose ç»„</th><th>ä»£è¡¨ Artifact</th><th>BOM å¯¹åº”ç‰ˆæœ¬</th><th>å‘å¸ƒè¯´æ˜</th></tr></thead><tbody><tr><td>Animation</td><td><code>androidx.compose.animation:animation</code></td><td><code>1.10.2</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-animation%231.10.2" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-animation#1.10.2" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>Foundation</td><td><code>androidx.compose.foundation:foundation</code></td><td><code>1.10.2</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-foundation%231.10.2" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-foundation#1.10.2" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>Runtime</td><td><code>androidx.compose.runtime:runtime</code></td><td><code>1.10.2</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-runtime%231.10.2" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-runtime#1.10.2" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>UI</td><td><code>androidx.compose.ui:ui</code></td><td><code>1.10.2</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-ui%231.10.2" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-ui#1.10.2" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>Material (M2)</td><td><code>androidx.compose.material:material</code></td><td><code>1.10.2</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-material%231.10.2" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-material#1.10.2" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>Material3</td><td><code>androidx.compose.material3:material3</code></td><td><code>1.4.0</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-material3%231.4.0" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-material3#1.4.0" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr><tr><td>Material3 Adaptive</td><td><code>androidx.compose.material3.adaptive:adaptive</code></td><td><code>1.2.0</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-material3-adaptive%231.2.0" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-material3-adaptive#1.2.0" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></td></tr></tbody></table>
<blockquote>
<p>æ—¶é—´ç‚¹å‚è€ƒï¼š<code>1.10.2</code> å‘å¸ƒäº <strong>2026-01-28</strong>ï¼›<code>material3:1.4.0</code> å‘å¸ƒäº <strong>2025-09-24</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ä¸»è¦æ›´æ–°ï¼ˆä½ çœŸæ­£ä¼šæ„ŸçŸ¥åˆ°çš„ï¼‰</h3>
<h3 data-id="heading-6">1ï¼‰Animation 1.10ï¼šå…±äº«å…ƒç´ èƒ½åŠ›æ˜æ˜¾å¢å¼º</h3>
<p>è™½ç„¶ BOM æ˜ å°„åˆ°çš„æ˜¯ <code>1.10.2</code>ï¼ˆè¡¥ä¸ç‰ˆï¼‰ï¼Œä½† 1.10 å‘¨æœŸé‡ŒåŠ¨ç”»èƒ½åŠ›å‡çº§å¾ˆå®ç”¨ï¼š</p>
<ul>
<li>Shared transition APIs åœ¨ 1.10 æ­£å¼ç¨³å®šã€‚</li>
<li>æ–°å¢ <code>Modifier.skipToLookaheadPosition()</code>ï¼Œå¯åœ¨å…±äº«è¿‡æ¸¡ä¸­ç›´æ¥è·³åˆ°ç›®æ ‡ä½ç½®ã€‚</li>
<li>æ”¯æŒåŠ¨æ€å¯ç”¨/ç¦ç”¨ shared elementsã€‚</li>
<li>æ”¯æŒå…±äº«å…ƒç´ è¿‡æ¸¡çš„åˆé€Ÿåº¦ï¼ˆfling åœºæ™¯æ›´è‡ªç„¶ï¼‰ã€‚</li>
<li>ä¸º <code>AnimatedVisibility</code> / <code>AnimatedContent</code> å¢åŠ  veil layer åŠ¨ç”»èƒ½åŠ›ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼šè¯¦æƒ…é¡µè½¬åœºã€å¡ç‰‡åˆ°å…¨å±ã€å›¾åº“è¿‡æ¸¡ç­‰â€œç©ºé—´è¿ç»­æ€§â€åŠ¨ç”»ã€‚</p>
<h3 data-id="heading-7">2ï¼‰Foundation 1.10ï¼šæ€§èƒ½å’Œç¨³å®šæ€§ç»§ç»­æ”¶æ•›</h3>
<p>å€¼å¾—å…³æ³¨çš„ä¸¤ç±»å˜åŒ–ï¼š</p>
<ul>
<li><strong>æ€§èƒ½æ–¹å‘</strong>ï¼š<code>isPausableCompositionInPrefetchEnabled</code> åœ¨ 1.10 å‘¨æœŸé»˜è®¤å¯ç”¨ï¼ŒLazy åˆ—è¡¨é¢„å–æ›´å¹³æ»‘ã€ä¸»çº¿ç¨‹å‹åŠ›æ›´å¯æ§ã€‚</li>
<li><strong>ç¨³å®šæ€§æ–¹å‘</strong>ï¼š<code>1.10.2</code> ä¿®å¤äº†æ–‡æœ¬é€‰æ‹©ç›¸å…³çš„å´©æºƒï¼ˆä¾‹å¦‚é¡µé¢è¿”å›æ—¶æœ‰æ´»åŠ¨é€‰åŒºï¼‰ã€‚</li>
</ul>
<p>å¦‚æœä½ æœ‰é•¿åˆ—è¡¨ + é‡ Item ç»„åˆï¼Œå‡çº§åé€šå¸¸æ›´å®¹æ˜“è·å¾—ç¨³å®šå¸§ç‡ã€‚</p>
<h3 data-id="heading-8">3ï¼‰Runtime 1.10ï¼š<code>retain</code> ä½“ç³»æˆç†Ÿï¼Œè¡¥ä¸ç‰ˆæ›´ç¨³</h3>
<p>Runtime 1.10 å‘¨æœŸä¸­ï¼Œ<code>RetainedValuesStore</code> ç›¸å…³ API ç»å†äº†æ•´ç†ï¼š</p>
<ul>
<li>æ›´å¼ºè°ƒé€šè¿‡ provider/registry ç®¡ç† retained valuesã€‚</li>
<li>è‡ªå®šä¹‰ retained store çš„æ¥å…¥æ–¹å¼æœ‰è¿ç§»æˆæœ¬ï¼ˆå‘½åå’Œå®‰è£…æ–¹å¼å˜åŒ–è¾ƒå¤šï¼‰ã€‚</li>
<li><code>1.10.2</code> ä¸»è¦æ˜¯è¡¥ä¸æ•´åˆï¼Œé‡ç‚¹åœ¨ç¨³å®šæ€§ã€‚</li>
</ul>
<p>å¦‚æœä½ åªæ˜¯â€œæ­£å¸¸ä½¿ç”¨ <code>retain</code>â€ï¼Œæ”¹åŠ¨é€šå¸¸ä¸å¤§ï¼›å¦‚æœä½ å®ç°äº†è‡ªå®šä¹‰ storeï¼Œå»ºè®®å¯¹ç…§ release notes é€é¡¹è¿ç§»ã€‚</p>
<h3 data-id="heading-9">4ï¼‰UI 1.10ï¼šç„¦ç‚¹ã€æµ‹è¯•ä¸ Popup è¡Œä¸ºæ›´ä¸€è‡´</h3>
<p>1.10 å‘¨æœŸé‡Œ UI ä¾§æœ‰å‡ é¡¹å¾ˆå®ç”¨ï¼š</p>
<ul>
<li>ç„¦ç‚¹åˆ†å‘ä¼˜åŒ–ï¼ˆé™ä½å¤æ‚ç„¦ç‚¹æ ‘ä¸‹çš„é¢å¤–å¼€é”€ï¼‰ã€‚</li>
<li>é—´æ¥è§¦æ§ API å‘½åç»Ÿä¸€åˆ° indirect pointer ä½“ç³»ã€‚</li>
<li>Compose UI Test å¯¹ <code>effectContext</code>ã€<code>StandardTestDispatcher</code> æ”¯æŒæ›´æ¸…æ™°ã€‚</li>
<li><code>1.10.1</code> ä¿®å¤äº† <code>LookaheadScope</code> + pausable composition å´©æºƒï¼Œä»¥åŠ <code>PopupPositionProvider</code> åæ ‡è®¡ç®—é—®é¢˜ã€‚</li>
</ul>
<p>å¦‚æœä½ çš„é¡¹ç›®æœ‰ TV/é”®ç›˜ç„¦ç‚¹ã€å¤æ‚ Popup å®šä½ã€æˆ– UI æµ‹è¯•ç¨³å®šæ€§é—®é¢˜ï¼Œè¿™éƒ¨åˆ†æ”¶ç›Šä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚</p>
<h3 data-id="heading-10">5ï¼‰Material3 <code>1.4.0</code>ï¼šç»„ä»¶èƒ½åŠ›å‡çº§æœ€æ˜æ˜¾</h3>
<p><code>material3:1.4.0</code> çš„å˜åŒ–é‡å¾ˆå¤§ï¼Œé‡ç‚¹çœ‹è¿™å‡ ç±»ï¼š</p>
<ul>
<li><strong>å›¾æ ‡ç­–ç•¥å˜åŒ–</strong>ï¼šä¸å†æ¨è <code>androidx.compose.material.icons</code> ä½œä¸ºä¸»è·¯å¾„ï¼›ä¸” Material3 ä¸å†è‡ªåŠ¨ä¾èµ– <code>material-icons-core</code>ã€‚</li>
<li><strong>è¡Œä¸ºè°ƒæ•´</strong>ï¼š<code>NavigationBarItem</code> / <code>NavigationRailItem</code> çš„ active label é¢œè‰²ç­–ç•¥æœ‰è°ƒæ•´ã€‚</li>
<li><strong>åŠ¨æ•ˆä½“ç³»</strong>ï¼šç»„ä»¶å¼€å§‹é‡‡ç”¨ <code>MotionScheme</code>ã€‚</li>
<li><strong>æ–°ç»„ä»¶/èƒ½åŠ›</strong>ï¼š
<ul>
<li><code>HorizontalCenteredHeroCarousel</code></li>
<li><code>VerticalDragHandle</code></li>
<li><code>SecureTextField</code> / <code>OutlinedSecureTextField</code></li>
<li><code>Text</code> æ”¯æŒ <code>autoSize</code></li>
<li><code>TimePickerDialog</code></li>
<li>æ–°çš„ SearchBar API æ‹†åˆ†ä¸çŠ¶æ€æ§åˆ¶</li>
</ul>
</li>
</ul>
<p>ç»“è®ºï¼šå¦‚æœä½ æ­£åœ¨åš Material3 è®¾è®¡ç³»ç»Ÿè¿­ä»£ï¼Œè¿™ä¸€å—æ˜¯ BOM <code>2026.01.01</code> æœ€å€¼å¾—å…³æ³¨çš„éƒ¨åˆ†ã€‚</p>
<hr/>
<h3 data-id="heading-11">å‡çº§ç¤ºä¾‹</h3>
<h3 data-id="heading-12">1ï¼‰Gradle Kotlin DSL</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    <span class="hljs-keyword">val</span> composeBom = platform(<span class="hljs-string">"androidx.compose:compose-bom:2026.01.01"</span>)
    implementation(composeBom)
    androidTestImplementation(composeBom)

    implementation(<span class="hljs-string">"androidx.compose.ui:ui"</span>)
    implementation(<span class="hljs-string">"androidx.compose.ui:ui-tooling-preview"</span>)
    debugImplementation(<span class="hljs-string">"androidx.compose.ui:ui-tooling"</span>)

    implementation(<span class="hljs-string">"androidx.compose.material3:material3"</span>)

    androidTestImplementation(<span class="hljs-string">"androidx.compose.ui:ui-test-junit4"</span>)
    debugImplementation(<span class="hljs-string">"androidx.compose.ui:ui-test-manifest"</span>)
}
</code></pre>
<h3 data-id="heading-13">2ï¼‰å¦‚æœä½ ç”¨ Version Catalog</h3>
<p><code>libs.versions.toml</code> ä¸­æŠŠ BOM æ”¹åˆ°ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[versions]</span>
<span class="hljs-attr">compose-bom</span> = <span class="hljs-string">"2026.01.01"</span>

<span class="hljs-section">[libraries]</span>
<span class="hljs-attr">androidx-compose-bom</span> = { module = <span class="hljs-string">"androidx.compose:compose-bom"</span>, version.ref = <span class="hljs-string">"compose-bom"</span> }
</code></pre>
<hr/>
<h3 data-id="heading-14">è¿ç§»ä¸æ’å‘å»ºè®®</h3>
<h3 data-id="heading-15">1ï¼‰æ£€æŸ¥å›¾æ ‡ä¾èµ–</h3>
<p>å¦‚æœä½ ä¹‹å‰â€œéšå¼â€ç”¨åˆ°äº†å›¾æ ‡ï¼Œå‡çº§åå»ºè®®æ˜¾å¼å£°æ˜ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">implementation(<span class="hljs-string">"androidx.compose.material:material-icons-core"</span>)
</code></pre>
<h3 data-id="heading-16">2ï¼‰æ£€æŸ¥ <code>retain</code> çš„è‡ªå®šä¹‰ç”¨æ³•</h3>
<p>æœ‰è‡ªå®šä¹‰ <code>RetainedValuesStore</code> çš„é¡¹ç›®ï¼Œé‡ç‚¹å›çœ‹ Runtime 1.10 çš„ API å˜æ›´ã€‚</p>
<h3 data-id="heading-17">3ï¼‰å›å½’æµ‹è¯•å»ºè®®</h3>
<ul>
<li>é‡ç‚¹å›å½’ <code>Popup</code> å®šä½ã€æ–‡æœ¬é€‰æ‹©ã€å¯¼èˆªè¿”å›ã€‚</li>
<li>UI æµ‹è¯•é¡¹ç›®å¯é€æ­¥å°è¯• <code>StandardTestDispatcher</code>ï¼Œå‡å°‘ä¸ç”Ÿäº§è°ƒåº¦æ¨¡å‹å·®å¼‚ã€‚</li>
</ul>
<h3 data-id="heading-18">4ï¼‰ç‰ˆæœ¬ç­–ç•¥å»ºè®®</h3>
<p>å¦‚æœä½ è¿½æ±‚ç¨³å®šï¼Œä¼˜å…ˆè·Ÿ BOM ç¨³å®šç‰ˆï¼›
å¦‚æœä½ è¦æŠ¢æ–°ç‰¹æ€§ï¼ˆå°¤å…¶ Material3 1.5.x alphaï¼‰ï¼Œå»ºè®®å•ç‹¬åˆ†æ”¯éªŒè¯å†åˆå…¥ä¸»å¹²ã€‚</p>
<hr/>
<h3 data-id="heading-19">å°ç»“</h3>
<p>Compose BOM <code>2026.01.01</code> çš„å®šä½å¾ˆæ¸…æ™°ï¼š</p>
<ul>
<li>ç”¨ <code>1.10.2</code> æŠŠæ ¸å¿ƒæ ˆç¨³å®šæ€§å†æ‰“ç£¨ä¸€è½®ï¼›</li>
<li>è®© Material3 <code>1.4.0</code> çš„èƒ½åŠ›æˆä¸ºç¨³å®šå¯ç”¨åŸºçº¿ã€‚</li>
</ul>
<p>å¯¹å¤§å¤šæ•°ä¸šåŠ¡ App æ¥è¯´ï¼Œè¿™ä¸ªç‰ˆæœ¬å±äºâ€œå¯ä»¥è®¡åˆ’å‡çº§ï¼Œå¹¶ä¸”æ”¶ç›Šå¯è§â€çš„ä¸€æ¡£ã€‚</p>
<hr/>
<h3 data-id="heading-20">å‚è€ƒé“¾æ¥</h3>
<ul>
<li>Compose BOMï¼š
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fdevelop%2Fui%2Fcompose%2Fbom" target="_blank" title="https://developer.android.com/develop/ui/compose/bom" ref="nofollow noopener noreferrer">developer.android.com/develop/ui/â€¦</a></li>
</ul>
</li>
<li>BOM Mappingï¼š
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fdevelop%2Fui%2Fcompose%2Fbom%2Fbom-mapping" target="_blank" title="https://developer.android.com/develop/ui/compose/bom/bom-mapping" ref="nofollow noopener noreferrer">developer.android.com/develop/ui/â€¦</a></li>
</ul>
</li>
<li>Compose Release Notesï¼š
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-animation" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-animation" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-foundation" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-foundation" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-runtime" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-runtime" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-ui" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-ui" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Fcompose-material3" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/compose-material3" ref="nofollow noopener noreferrer">developer.android.com/jetpack/andâ€¦</a></li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[sql]sqlå’Œnosql]]></title>    <link>https://juejin.cn/post/7603309951227707442</link>    <guid>https://juejin.cn/post/7603309951227707442</guid>    <pubDate>2026-02-06T10:08:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227707442" data-draft-id="7603393977477496858" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[sql]sqlå’Œnosql"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2026-02-06T10:08:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [sql]sqlå’Œnosql
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:08:37.000Z" title="Fri Feb 06 2026 10:08:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1/æ ¸å¿ƒæ¦‚å¿µ</h2>
<ol>
<li>
<p><strong>SQLï¼ˆStructured Query Languageï¼‰</strong></p>
<ul>
<li><strong>æœ¬æ„</strong>ï¼šæŒ‡ <strong>ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€</strong>ï¼Œæ˜¯ä¸å…³ç³»å‹æ•°æ®åº“é€šä¿¡çš„æ ‡å‡†è¯­è¨€ã€‚</li>
<li><strong>ç°åœ¨é€šå¸¸æŒ‡ä»£</strong>ï¼š<strong>å…³ç³»å‹æ•°æ®åº“</strong> æœ¬èº«ã€‚å®ƒåŸºäºå…³ç³»æ¨¡å‹ï¼ˆä½¿ç”¨è¡¨ã€è¡Œã€åˆ—ï¼‰ï¼Œæ•°æ®æ¨¡å¼æ˜¯é¢„å®šä¹‰ä¸”å›ºå®šçš„ï¼Œå¼ºè°ƒæ•°æ®çš„ <strong>ä¸€è‡´æ€§</strong> å’Œ <strong>å®Œæ•´æ€§</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>NoSQLï¼ˆNot Only SQLï¼‰</strong></p>
<ul>
<li><strong>æœ¬æ„</strong>ï¼š<strong>ä¸ä»…ä»…æ˜¯ SQL</strong>ã€‚</li>
<li><strong>ç°åœ¨é€šå¸¸æŒ‡ä»£</strong>ï¼š<strong>éå…³ç³»å‹æ•°æ®åº“</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªç»Ÿç§°ï¼Œæ¶µç›–æ‰€æœ‰ä¸éµå¾ªä¼ ç»Ÿå…³ç³»æ¨¡å‹çš„æ•°æ®å­˜å‚¨ç³»ç»Ÿã€‚NoSQL æ•°æ®åº“é€šå¸¸ä¸º <strong>å¯æ‰©å±•æ€§</strong>ã€<strong>çµæ´»çš„æ¨¡å¼</strong> å’Œ <strong>é«˜æ€§èƒ½</strong> ç­‰ç‰¹å®šéœ€æ±‚è€Œè®¾è®¡ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-1">2/ä¸»è¦åŒºåˆ«</h2>













































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">SQLï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰</th><th align="left">NoSQLï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>æ•°æ®æ¨¡å‹</strong></td><td align="left"><strong>ç»“æ„åŒ–</strong>ã€‚é¢„å®šä¹‰çš„æ¨¡å¼ï¼ˆè¡¨ç»“æ„ï¼‰ï¼Œæ•°æ®ä»¥<strong>è¡Œå’Œåˆ—</strong>çš„å½¢å¼å­˜å‚¨åœ¨è¡¨ä¸­ï¼Œè¡¨ä¹‹é—´é€šè¿‡å¤–é”®å…³è”ã€‚</td><td align="left"><strong>çµæ´»/éç»“æ„åŒ–</strong>ã€‚æ— å›ºå®šæ¨¡å¼ã€‚æ ¹æ®ç±»å‹ä¸åŒï¼Œå¯ä»¥æ˜¯é”®å€¼å¯¹ã€æ–‡æ¡£ã€å›¾æˆ–å®½åˆ—ã€‚</td></tr><tr><td align="left"><strong>æŸ¥è¯¢è¯­è¨€</strong></td><td align="left">ä½¿ç”¨æ ‡å‡†åŒ–çš„ <strong>SQL</strong> è¯­è¨€è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚</td><td align="left">æ²¡æœ‰ç»Ÿä¸€æŸ¥è¯¢è¯­è¨€ã€‚æ¯ç§æ•°æ®åº“æœ‰è‡ªå·±çš„ API æˆ–æŸ¥è¯¢æ–¹æ³•ï¼ˆå¦‚åŸºäº JSON çš„æŸ¥è¯¢ï¼‰ã€‚</td></tr><tr><td align="left"><strong>æ‰©å±•æ€§</strong></td><td align="left"><strong>å‚ç›´æ‰©å±•</strong>ä¸ºä¸»ã€‚é€šè¿‡å¢åŠ å•å°æœåŠ¡å™¨çš„ CPUã€å†…å­˜ã€ç¡¬ç›˜æ¥æå‡æ€§èƒ½ã€‚æ¨ªå‘æ‰©å±•ï¼ˆåˆ†åº“åˆ†è¡¨ï¼‰è¾ƒå¤æ‚ã€‚</td><td align="left"><strong>æ°´å¹³æ‰©å±•</strong>ä¸ºä¸»ã€‚å¤©ç„¶æ”¯æŒé€šè¿‡å¢åŠ æœåŠ¡å™¨èŠ‚ç‚¹ï¼ˆåˆ†å¸ƒå¼é›†ç¾¤ï¼‰æ¥åˆ†æ‹…è´Ÿè½½ï¼Œæ‰©å±•æ€§å¼ºã€‚</td></tr><tr><td align="left"><strong>äº‹åŠ¡æ€§ï¼ˆACIDï¼‰</strong></td><td align="left">å¼ºè°ƒ <strong>ACID å±æ€§</strong>ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ï¼Œæ”¯æŒå¤æ‚äº‹åŠ¡ã€‚</td><td align="left">é€šå¸¸éµå¾ª <strong>BASE åŸåˆ™</strong>ï¼ˆåŸºæœ¬å¯ç”¨ã€è½¯çŠ¶æ€ã€æœ€ç»ˆä¸€è‡´æ€§ï¼‰ï¼Œç‰ºç‰²å¼ºä¸€è‡´æ€§ä»¥è·å¾—é«˜å¯ç”¨å’Œåˆ†åŒºå®¹é”™æ€§ã€‚ä½†éƒ¨åˆ† NoSQL ç°åœ¨ä¹Ÿæ”¯æŒäº‹åŠ¡ã€‚</td></tr><tr><td align="left"><strong>ä¸»è¦ä¼˜åŠ¿</strong></td><td align="left">æ•°æ®ç»“æ„åŒ–ï¼Œæ•°æ®å®Œæ•´æ€§å¥½ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢å’Œå¤šè¡¨å…³è”æ“ä½œï¼ŒæŠ€æœ¯æˆç†Ÿã€‚</td><td align="left">é«˜å¹¶å‘è¯»å†™æ€§èƒ½å¥½ï¼Œæ‰©å±•çµæ´»ï¼Œæ¨¡å¼çµæ´»æ˜“äºè¿­ä»£ï¼Œèƒ½å¾ˆå¥½åœ°å¤„ç†æµ·é‡æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®ã€‚</td></tr><tr><td align="left"><strong>ä¸»è¦åŠ£åŠ¿</strong></td><td align="left">æ‰©å±•æ€§ç›¸å¯¹å›°éš¾ï¼Œé«˜å¹¶å‘ä¸‹å¯èƒ½é‡åˆ°ç“¶é¢ˆï¼Œå›ºå®šçš„æ¨¡å¼åœ¨éœ€æ±‚é¢‘ç¹å˜åŒ–æ—¶ä¸å¤Ÿçµæ´»ã€‚</td><td align="left">ä¸æ”¯æŒå¤æ‚çš„å…³è”æŸ¥è¯¢ï¼ˆJoinï¼‰ï¼Œäº‹åŠ¡æ”¯æŒç›¸å¯¹è¾ƒå¼±ï¼ˆå°¤å…¶åœ¨åˆ†å¸ƒå¼ä¸‹ï¼‰ï¼Œä¸åŒäº§å“ç‰¹æ€§å·®å¼‚å¤§ã€‚</td></tr><tr><td align="left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td align="left">éœ€è¦å¤æ‚æŸ¥è¯¢ã€å¼ºä¸€è‡´æ€§ã€äº‹åŠ¡æ”¯æŒçš„åœºæ™¯ã€‚å¦‚ï¼šé‡‘èç³»ç»Ÿã€ERPã€CRMã€ä¼šè®¡ç³»ç»Ÿç­‰ã€‚</td><td align="left">å¤§æ•°æ®é‡ã€é«˜å¹¶å‘ã€æ¨¡å¼å¤šå˜ã€æ•°æ®ç»“æ„ä¸å›ºå®šçš„åœºæ™¯ã€‚å¦‚ï¼šç¤¾äº¤ç½‘ç»œã€å†…å®¹ç®¡ç†ç³»ç»Ÿã€ç‰©è”ç½‘ã€å®æ—¶åˆ†æã€è´­ç‰©è½¦ç¼“å­˜ç­‰ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">3/å„è‡ªä»£è¡¨çš„æ•°æ®åº“</h2>
<h5 data-id="heading-3"><strong>SQLï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰ä»£è¡¨</strong></h5>
<p>è¿™äº›éƒ½æ˜¯ <strong>åŸºäºè¡¨çš„ã€æ”¯æŒ SQL æ ‡å‡†</strong> çš„æˆç†Ÿæ•°æ®åº“ã€‚</p>
<ol>
<li><strong>MySQL / MariaDB</strong>ï¼š æœ€æµè¡Œçš„å¼€æºå…³ç³»æ•°æ®åº“ï¼Œå¹¿æ³›ç”¨äºWebåº”ç”¨ã€‚MariaDB æ˜¯ MySQL çš„ä¸€ä¸ªåˆ†æ”¯ã€‚</li>
<li><strong>PostgreSQL</strong>ï¼š åŠŸèƒ½å¼ºå¤§çš„å¼€æºå¯¹è±¡-å…³ç³»å‹æ•°æ®åº“ï¼Œæ”¯æŒé«˜çº§æ•°æ®ç±»å‹ï¼ˆå¦‚ JSONã€GISï¼‰å’Œå¤æ‚æŸ¥è¯¢ï¼Œè¢«èª‰ä¸ºâ€œæœ€å…ˆè¿›çš„å¼€æºå…³ç³»æ•°æ®åº“â€ã€‚</li>
<li><strong>Oracle Database</strong>ï¼š ä¼ä¸šçº§å•†ä¸šæ•°æ®åº“çš„ç‹è€…ï¼ŒåŠŸèƒ½æå…¶å…¨é¢å¼ºå¤§ï¼Œå¸¸ç”¨äºå¤§å‹ã€å…³é”®ä¸šåŠ¡ç³»ç»Ÿã€‚</li>
<li><strong>Microsoft SQL Server</strong>ï¼š å¾®è½¯æ¨å‡ºçš„å•†ä¸šæ•°æ®åº“ï¼Œä¸ Windows ç”Ÿæ€å’Œ .NET å¹³å°é›†æˆç´§å¯†ã€‚</li>
<li><strong>SQLite</strong>ï¼š è½»é‡çº§çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œæ•´ä¸ªæ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå¸¸ç”¨äºç§»åŠ¨ç«¯å’Œæ¡Œé¢åº”ç”¨ã€‚</li>
</ol>
<h5 data-id="heading-4"><strong>NoSQLï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰ä»£è¡¨</strong></h5>
<p>NoSQL é€šå¸¸åˆ†ä¸ºä»¥ä¸‹å‡ å¤§ç±»ï¼Œæ¯ç±»è§£å†³ä¸åŒé—®é¢˜ï¼š</p>
<p><strong>1. æ–‡æ¡£å‹æ•°æ®åº“</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š æ•°æ®ä»¥ç±»ä¼¼ JSON/BSON çš„<strong>æ–‡æ¡£</strong>å½¢å¼å­˜å‚¨ï¼Œæ¯ä¸ªæ–‡æ¡£å¯ä»¥æœ‰å®Œå…¨ä¸åŒçš„ç»“æ„ã€‚</li>
<li><strong>ä»£è¡¨</strong>ï¼š
<ul>
<li><strong>MongoDB</strong>ï¼š æœ€æµè¡Œçš„æ–‡æ¡£æ•°æ®åº“ï¼ŒæŸ¥è¯¢åŠŸèƒ½å¼ºå¤§ï¼Œé€‚åˆå†…å®¹ç®¡ç†ã€ç”¨æˆ·é…ç½®ç­‰ã€‚</li>
<li><strong>CouchDB</strong>ï¼š ä½¿ç”¨ HTTP APIï¼Œæ”¯æŒæ•°æ®åŒæ­¥ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. é”®å€¼å‹æ•°æ®åº“</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š æœ€ç®€å•çš„ NoSQL æ¨¡å‹ï¼Œæ•°æ®ä»¥ <strong>é”®-å€¼å¯¹</strong> å½¢å¼å­˜å‚¨ï¼Œé€šè¿‡é”®å¿«é€Ÿè®¿é—®å€¼ã€‚æ€§èƒ½æé«˜ã€‚</li>
<li><strong>ä»£è¡¨</strong>ï¼š
<ul>
<li><strong>Redis</strong>ï¼š æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦æå¿«ï¼Œå¸¸ç”¨ä½œç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ä¼šè¯å­˜å‚¨ã€‚</li>
<li><strong>Amazon DynamoDB</strong>ï¼š AWS æ‰˜ç®¡çš„é”®å€¼/æ–‡æ¡£æ··åˆæ•°æ®åº“ï¼Œæä¾›æé«˜çš„å¯æ‰©å±•æ€§ã€‚</li>
<li><strong>etcd</strong>ï¼š ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿé…ç½®å…±äº«å’ŒæœåŠ¡å‘ç°ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. å®½åˆ—å­˜å‚¨æ•°æ®åº“</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š æ•°æ®å­˜å‚¨åœ¨ <strong>åˆ—æ—</strong> ä¸­ï¼Œå¯ä»¥åŠ¨æ€æ·»åŠ åˆ—ï¼Œéå¸¸é€‚åˆ<strong>æµ·é‡æ•°æ®</strong>çš„å­˜å‚¨å’ŒæŸ¥è¯¢ï¼ˆç‰¹åˆ«æ˜¯è¯»æ“ä½œï¼‰ã€‚</li>
<li><strong>ä»£è¡¨</strong>ï¼š
<ul>
<li><strong>Apache Cassandra</strong>ï¼š é«˜å¯ç”¨ã€æ— å•ç‚¹æ•…éšœçš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå†™æ€§èƒ½ä¼˜å¼‚ã€‚</li>
<li><strong>Apache HBase</strong>ï¼š æ„å»ºåœ¨ Hadoop HDFS ä¹‹ä¸Šçš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œé€‚åˆå¤§æ•°æ®åˆ†æã€‚</li>
<li><strong>Google Bigtable</strong>ï¼š Cassandra å’Œ HBase çš„è®¾è®¡çµæ„Ÿæ¥æºã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. å›¾æ•°æ®åº“</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š ä¸“é—¨å­˜å‚¨<strong>å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰</strong> å’Œ<strong>å…³ç³»ï¼ˆè¾¹ï¼‰</strong> çš„ä¿¡æ¯ï¼Œæ“…é•¿å¤„ç†å¤æ‚çš„å…³ç³»ç½‘ç»œã€‚</li>
<li><strong>ä»£è¡¨</strong>ï¼š
<ul>
<li><strong>Neo4j</strong>ï¼š æœ€è‘—åçš„å›¾æ•°æ®åº“ï¼Œä½¿ç”¨ Cypher æŸ¥è¯¢è¯­è¨€ã€‚</li>
<li><strong>Amazon Neptune</strong>ï¼š AWS æ‰˜ç®¡çš„å›¾æ•°æ®åº“æœåŠ¡ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">4/æ€»ç»“ä¸è¶‹åŠ¿</h2>
<ul>
<li><strong>ä¸æ˜¯æ›¿ä»£å…³ç³»ï¼Œè€Œæ˜¯äº’è¡¥å…³ç³»</strong>ï¼š SQL å’Œ NoSQL é€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚ç°ä»£æ¶æ„ä¸­ç»å¸¸ <strong>æ··åˆä½¿ç”¨</strong>ï¼Œä¾‹å¦‚ç”¨ MySQL å­˜å‚¨æ ¸å¿ƒäº¤æ˜“æ•°æ®ï¼Œç”¨ Redis åšç¼“å­˜ï¼Œç”¨ Elasticsearchï¼ˆä¸€ç§æœç´¢å¼•æ“ï¼Œå¸¸è¢«å½’ä¸º NoSQLï¼‰åšå…¨æ–‡æ£€ç´¢ã€‚</li>
<li><strong>èåˆè¶‹åŠ¿</strong>ï¼š å‡ºç°äº† <strong>â€œNewSQLâ€</strong> æ•°æ®åº“ï¼ˆå¦‚ Google Spanner, CockroachDBï¼‰ï¼Œè¯•å›¾ç»“åˆ SQL çš„å¼ºä¸€è‡´æ€§å’Œ NoSQL çš„æ°´å¹³æ‰©å±•æ€§ã€‚åŒæ—¶ï¼Œè®¸å¤šä¼ ç»Ÿ SQL æ•°æ®åº“ï¼ˆå¦‚ PostgreSQL, MySQLï¼‰ä¹Ÿå¼€å§‹æ”¯æŒ JSON ç­‰éç»“æ„åŒ–æ•°æ®ï¼Œè€Œ NoSQL æ•°æ®åº“ï¼ˆå¦‚ MongoDBï¼‰ä¹Ÿå¢åŠ äº†äº‹åŠ¡æ”¯æŒã€‚</li>
<li><strong>å¦‚ä½•é€‰æ‹©</strong>ï¼š
<ul>
<li>å¦‚æœä½ çš„æ•°æ®<strong>ç»“æ„åŒ–ã€å…³ç³»å¤æ‚ã€éœ€è¦å¼ºä¸€è‡´æ€§</strong>ï¼Œä¼˜å…ˆé€‰æ‹© <strong>SQL</strong>ã€‚</li>
<li>å¦‚æœä½ éœ€è¦å¤„ç†<strong>æµ·é‡æ•°æ®ã€é«˜å¹¶å‘ã€æ¨¡å¼å¤šå˜ã€æˆ–æ•°æ®ç»“æ„æ¾æ•£</strong>ï¼Œä¼˜å…ˆè€ƒè™‘ <strong>NoSQL</strong>ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬14ç« ï¼šåŒ…ç®¡ç†ä¸æ¨¡å—åŒ–å¼€å‘â€”â€”ç»„ç»‡å¤§å‹é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7603383311531048975</link>    <guid>https://juejin.cn/post/7603383311531048975</guid>    <pubDate>2026-02-06T10:12:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603383311531048975" data-draft-id="7603355275258118184" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬14ç« ï¼šåŒ…ç®¡ç†ä¸æ¨¡å—åŒ–å¼€å‘â€”â€”ç»„ç»‡å¤§å‹é¡¹ç›®"/> <meta itemprop="keywords" content="åç«¯,Go,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2026-02-06T10:12:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€•æµªçŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/2832784963939438"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬14ç« ï¼šåŒ…ç®¡ç†ä¸æ¨¡å—åŒ–å¼€å‘â€”â€”ç»„ç»‡å¤§å‹é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2832784963939438/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€•æµªçŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:12:25.000Z" title="Fri Feb 06 2026 10:12:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Golangå¼€å‘ä¸­ï¼Œä»å°è„šæœ¬åˆ°å¤§å‹åˆ†å¸ƒå¼åº”ç”¨ï¼Œæœ€æ ¸å¿ƒçš„è½¬å˜ä¹‹ä¸€å°±æ˜¯ã€Œä»£ç ç»„ç»‡ä¸ä¾èµ–ç®¡ç†ã€ã€‚æ—©æœŸçš„GOPATHæ¨¡å¼æ›¾å› ä¾èµ–æ··ä¹±ã€ç‰ˆæœ¬å†²çªç­‰é—®é¢˜è®©å¼€å‘è€…è¯Ÿç—…ï¼Œè€ŒGo 1.11æ­£å¼æ¨å‡ºçš„Go Modulesï¼Œå½»åº•è§£å†³äº†è¿™ä¸€ç—›ç‚¹ï¼Œæˆä¸ºç›®å‰Golangå¤§å‹é¡¹ç›®çš„æ ‡å‡†æ¨¡å—åŒ–æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-0">ä¸€ã€åŒ…çš„ä½œç”¨</h3>
<p>åŒ…ï¼ˆPackageï¼‰æ˜¯Golangä¸­<strong>ç»„ç»‡ä»£ç çš„æœ€å°å•å…ƒ</strong>ï¼Œæœ¬è´¨æ˜¯å°†åŠŸèƒ½ç›¸å…³çš„.goæ–‡ä»¶èšåˆåœ¨ä¸€èµ·ï¼Œå®ç°â€œæ¨¡å—åŒ–æ‹†åˆ†ã€ä»£ç å¤ç”¨ã€ä½œç”¨åŸŸéš”ç¦»â€ï¼Œç±»æ¯”Javaçš„Packageã€Pythonçš„Moduleï¼Œæ˜¯å¤§å‹é¡¹ç›®åˆ†å±‚ã€åä½œå¼€å‘çš„åŸºç¡€ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒåŒ…çš„æ ¸å¿ƒä½œç”¨æœ‰3ä¸ªï¼Œç”¨è¡¨æ ¼æ¸…æ™°æ¢³ç†ï¼ˆæ˜é‡‘å¸¸ç”¨å‘ˆç°æ–¹å¼ï¼‰ï¼š</p>





















<table><thead><tr><th><strong>æ ¸å¿ƒä½œç”¨</strong></th><th><strong>è¯¦ç»†è¯´æ˜ï¼ˆç›´å‡»ç—›ç‚¹ï¼‰</strong></th></tr></thead><tbody><tr><td>ä»£ç å¤ç”¨</td><td>å°†é€šç”¨åŠŸèƒ½ï¼ˆå¦‚å·¥å…·å‡½æ•°ã€å¸¸ç”¨ç»“æ„ä½“ã€åŠ å¯†é€»è¾‘ï¼‰å°è£…æˆåŒ…ï¼Œå¤šä¸ªé¡¹ç›®æˆ–é¡¹ç›®å†…å¤šä¸ªæ¨¡å—å¯ç›´æ¥å¯¼å…¥ä½¿ç”¨ï¼Œé¿å…é‡å¤ç¼–ç ï¼ˆæ¯”å¦‚æ‰€æœ‰é¡¹ç›®éƒ½éœ€è¦çš„å­—ç¬¦ä¸²å¤„ç†ï¼Œå°è£…æˆutilsåŒ…ä¸€æ¬¡å¼€å‘ã€å¤šæ¬¡å¤ç”¨ï¼‰</td></tr><tr><td>ä½œç”¨åŸŸéš”ç¦»</td><td>é€šè¿‡åŒ…åå’Œå…¬ç§è®¿é—®æ§åˆ¶ï¼Œè§£å†³å‘½åå†²çªï¼ˆæ¯”å¦‚Aæ¨¡å—å’ŒBæ¨¡å—éƒ½æœ‰Init()å‡½æ•°ï¼Œé€šè¿‡åŒ…åa.Init()ã€b.Init()åŒºåˆ†ï¼Œæ— éœ€æ‹…å¿ƒåŒåè¦†ç›–ï¼‰</td></tr><tr><td>é¡¹ç›®ç»“æ„åŒ–</td><td>å¤§å‹é¡¹ç›®å¯æŒ‰åŠŸèƒ½æ‹†åˆ†å¤šä¸ªåŒ…ï¼ˆå¦‚è·¯ç”±åŒ…routerã€æ•°æ®åº“åŒ…dbã€å·¥å…·åŒ…utilsã€ä¸šåŠ¡åŒ…serviceï¼‰ï¼Œè®©ä»£ç å±‚æ¬¡æ¸…æ™°ï¼Œä¾¿äºå¤šäººåä½œã€åæœŸç»´æŠ¤ï¼ˆæ¯”å¦‚åç«¯é¡¹ç›®ä¸­ï¼Œè·¯ç”±ã€ä¸šåŠ¡ã€æ•°æ®è®¿é—®åˆ†å±‚æ‹†åˆ†ï¼Œå„å¸å…¶èŒï¼‰</td></tr></tbody></table>
<h4 data-id="heading-1">1.1 æç®€ä»£ç ç¤ºä¾‹ï¼ˆåŒ…çš„åŸºæœ¬ç»“æ„ï¼‰</h4>
<p>å‡è®¾æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥å…·åŒ…utilsï¼ŒåŒ…å«ä¸€ä¸ªè®¡ç®—å¹³æ–¹çš„å‡½æ•°ï¼Œç›®å½•ç»“æ„å’Œä»£ç å¦‚ä¸‹ï¼ˆç®€åŒ–ç‰ˆï¼Œèšç„¦æ ¸å¿ƒï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç›®å½•ç»“æ„ï¼šutils/square.goï¼ˆå•ä¸ªæ–‡ä»¶å³å¯æ„æˆä¸€ä¸ªåŒ…ï¼‰</span>
<span class="hljs-keyword">package</span> utils <span class="hljs-comment">// å£°æ˜å½“å‰æ–‡ä»¶å±äºutilsåŒ…ï¼ˆåŒ…åå»ºè®®ä¸ç›®å½•åä¸€è‡´ï¼Œä¾¿äºè¯†åˆ«ï¼‰</span>

<span class="hljs-comment">// CalculateSquare è®¡ç®—æ•´æ•°çš„å¹³æ–¹ï¼ˆåç»­è®²è§£ç§æœ‰å…¬æœ‰ï¼Œæ­¤å¤„å…ˆèšç„¦åŒ…ç»“æ„ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">CalculateSquare</span><span class="hljs-params">(num <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> num * num
}

</code></pre>
<p>åœ¨é¡¹ç›®çš„ä¸»æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¼å…¥è¿™ä¸ªutilsåŒ…ï¼Œå¤ç”¨CalculateSquareå‡½æ•°ï¼Œæ— éœ€é‡å¤ç¼–å†™è®¡ç®—é€»è¾‘ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç›®å½•ç»“æ„ï¼šmain.goï¼ˆä¸utilsç›®å½•åŒçº§ï¼‰</span>
<span class="hljs-keyword">package</span> main <span class="hljs-comment">// ä¸»ç¨‹åºå¿…é¡»å±äºmainåŒ…ï¼Œä¸”åŒ…å«main()å‡½æ•°</span>

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"./utils"</span> <span class="hljs-comment">// å¯¼å…¥å½“å‰ç›®å½•ä¸‹çš„utilsåŒ…ï¼ˆåç»­è®²è§£å¯¼å…¥è§„åˆ™çš„è¯¦ç»†ç”¨æ³•ï¼‰</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    res := utils.CalculateSquare(<span class="hljs-number">5</span>) <span class="hljs-comment">// é€šè¿‡ã€ŒåŒ…å.å‡½æ•°åã€è°ƒç”¨åŒ…å†…åŠŸèƒ½</span>
    fmt.Printf(<span class="hljs-string">"5çš„å¹³æ–¹æ˜¯ï¼š%d\n"</span>, res) <span class="hljs-comment">// è¾“å‡ºï¼š5çš„å¹³æ–¹æ˜¯ï¼š25</span>
}

</code></pre>
<h4 data-id="heading-2">1.2 å…³é”®è¡¥å……ï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>
<p>ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰.goæ–‡ä»¶ï¼Œå¿…é¡»å£°æ˜å±äºåŒä¸€ä¸ªåŒ…ï¼ˆæ¯”å¦‚utilsç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œpackageå£°æ˜éƒ½å¿…é¡»æ˜¯utilsï¼Œä¸èƒ½å‡ºç°å…¶ä»–åŒ…åï¼‰ï¼›</p>
</li>
<li>
<p>åŒ…åå¯ä»¥ä¸ç›®å½•åä¸åŒï¼Œä½†ä¸æ¨èï¼ˆæ¯”å¦‚utilsç›®å½•ä¸‹çš„æ–‡ä»¶å£°æ˜package utilï¼Œä¼šå¢åŠ è¯†åˆ«æˆæœ¬ï¼Œä¸ç¬¦åˆGoçš„ç®€æ´åŸåˆ™ï¼‰ï¼›</p>
</li>
<li>
<p>mainåŒ…æ˜¯ç‰¹æ®ŠåŒ…ï¼šåªæœ‰mainåŒ…å¯ä»¥åŒ…å«main()å‡½æ•°ï¼ˆç¨‹åºå…¥å£ï¼‰ï¼ŒémainåŒ…ä¸èƒ½æœ‰main()å‡½æ•°ï¼Œåªèƒ½è¢«å…¶ä»–åŒ…å¯¼å…¥ä½¿ç”¨ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">1.3 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>
<p>Goå®˜æ–¹æ–‡æ¡£ï¼ˆåŒ…çš„åŸºç¡€æ¦‚å¿µï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fdoc%2Fcode%23Packages" target="_blank" title="https://go.dev/doc/code#Packages" ref="nofollow noopener noreferrer">Organizing code with packages</a></p>
</li>
<li>
<p>æ˜é‡‘ä¼˜è´¨æ–‡ï¼ˆåŒ…çš„æ ¸å¿ƒç”¨æ³•ï¼‰ï¼š<a href="https://juejin.cn/post/6844903902202802189" target="_blank" title="https://juejin.cn/post/6844903902202802189">Go åŒ…ï¼ˆPackageï¼‰è¯¦è§£ï¼šä»åŸºç¡€åˆ°å®æˆ˜</a></p>
</li>
</ul>
<h3 data-id="heading-4">äºŒã€å¯¼å…¥è§„åˆ™</h3>
<p>å¯¼å…¥ï¼ˆimportï¼‰æ˜¯Goä¸­ä½¿ç”¨å…¶ä»–åŒ…çš„æ ¸å¿ƒæ–¹å¼ï¼Œæœ¬è´¨æ˜¯â€œå¼•å…¥å…¶ä»–åŒ…çš„å…¬å¼€åŠŸèƒ½â€ï¼Œæ”¯æŒå¤šç§å¯¼å…¥è¯­æ³•ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼ˆå¦‚æ ‡å‡†åº“å¯¼å…¥ã€è‡ªå®šä¹‰åŒ…å¯¼å…¥ã€ç¬¬ä¸‰æ–¹åŒ…å¯¼å…¥ï¼‰ã€‚æ ¸å¿ƒè§„åˆ™ï¼šå¯¼å…¥è·¯å¾„å¿…é¡»èƒ½å”¯ä¸€å®šä½åˆ°ç›®æ ‡åŒ…ï¼Œä¸”å¯¼å…¥åéœ€é€šè¿‡ã€ŒåŒ…å.åŠŸèƒ½åã€è°ƒç”¨ã€‚</p>
<p>ä¸‹é¢æŒ‰â€œå¯¼å…¥è¯­æ³•åˆ†ç±»+åœºæ™¯ç¤ºä¾‹â€çš„æ–¹å¼è®²è§£ï¼Œè´´åˆæ˜é‡‘â€œå®ç”¨ä¼˜å…ˆâ€é£æ ¼ï¼Œæ¯ä¸ªç¤ºä¾‹éƒ½æç®€å¯è¿è¡Œã€‚</p>
<h4 data-id="heading-5">2.1 ä¸‰ç§æ ¸å¿ƒå¯¼å…¥è¯­æ³•ï¼ˆè¡¨æ ¼æ¢³ç†ï¼‰</h4>






























<table><thead><tr><th><strong>è¯­æ³•ç±»å‹</strong></th><th><strong>è¯­æ³•æ ¼å¼</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>ç›´æ¥å¯¼å…¥</td><td>import "åŒ…è·¯å¾„"</td><td>æœ€å¸¸ç”¨ï¼Œå¯¼å…¥å•ä¸ªåŒ…ï¼Œé€šè¿‡åŒ…åç›´æ¥è°ƒç”¨åŠŸèƒ½ï¼ˆå¦‚æ ‡å‡†åº“fmtã€è‡ªå®šä¹‰åŒ…utilsï¼‰</td></tr><tr><td>æ‰¹é‡å¯¼å…¥</td><td>import ( "åŒ…1è·¯å¾„" "åŒ…2è·¯å¾„" )</td><td>å¯¼å…¥å¤šä¸ªåŒ…ï¼Œä»£ç æ›´ç®€æ´ï¼ˆæ¨èï¼Œç¬¦åˆGoä»£ç è§„èŒƒï¼‰</td></tr><tr><td>åˆ«åå¯¼å…¥</td><td>import åˆ«å "åŒ…è·¯å¾„"</td><td>è§£å†³åŒ…åå†²çªï¼Œæˆ–ç®€åŒ–è¿‡é•¿çš„åŒ…åï¼ˆå¦‚å°†å¤æ‚åŒ…åç®€åŒ–ä¸ºç®€çŸ­åˆ«åï¼‰</td></tr><tr><td>åŒ¿åå¯¼å…¥</td><td>import _ "åŒ…è·¯å¾„"</td><td>åªæ‰§è¡ŒåŒ…çš„init()å‡½æ•°ï¼Œä¸ä½¿ç”¨åŒ…å†…å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚æ•°æ®åº“é©±åŠ¨åŒ…ï¼Œåªéœ€åˆå§‹åŒ–æ³¨å†Œï¼‰</td></tr></tbody></table>
<h4 data-id="heading-6">2.2 æç®€ä»£ç ç¤ºä¾‹ï¼ˆåˆ†åœºæ™¯ï¼‰</h4>
<h5 data-id="heading-7">ç¤ºä¾‹1ï¼šç›´æ¥å¯¼å…¥+æ‰¹é‡å¯¼å…¥ï¼ˆæœ€å¸¸ç”¨ï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>          <span class="hljs-comment">// æ‰¹é‡å¯¼å…¥ï¼šæ ‡å‡†åº“fmtåŒ…ï¼ˆæ‰“å°åŠŸèƒ½ï¼‰</span>
    <span class="hljs-string">"math/rand"</span>    <span class="hljs-comment">// æ‰¹é‡å¯¼å…¥ï¼šæ ‡å‡†åº“math/randåŒ…ï¼ˆéšæœºæ•°åŠŸèƒ½ï¼‰</span>
    <span class="hljs-string">"./utils"</span>      <span class="hljs-comment">// æ‰¹é‡å¯¼å…¥ï¼šè‡ªå®šä¹‰åŒ…utilsï¼ˆå‰æ–‡åˆ›å»ºçš„å·¥å…·åŒ…ï¼‰</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">"éšæœºæ•°ï¼š"</span>, rand.Intn(<span class="hljs-number">100</span>)) <span class="hljs-comment">// æ ‡å‡†åº“åŒ…è°ƒç”¨ï¼šrandåŒ…çš„Intnå‡½æ•°</span>
    fmt.Println(<span class="hljs-string">"3çš„å¹³æ–¹ï¼š"</span>, utils.CalculateSquare(<span class="hljs-number">3</span>)) <span class="hljs-comment">// è‡ªå®šä¹‰åŒ…è°ƒç”¨</span>
}

</code></pre>
<h5 data-id="heading-8">ç¤ºä¾‹2ï¼šåˆ«åå¯¼å…¥ï¼ˆè§£å†³åŒ…åå†²çªï¼‰</h5>
<p>å‡è®¾æˆ‘ä»¬å¯¼å…¥ä¸¤ä¸ªåŒ…ï¼ŒåŒ…åéƒ½å«utilï¼ˆå†²çªï¼‰ï¼Œæ­¤æ—¶ç”¨åˆ«ååŒºåˆ†ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    u1 <span class="hljs-string">"./util1"</span>   <span class="hljs-comment">// åˆ«åu1ï¼Œå¯¹åº”util1åŒ…</span>
    u2 <span class="hljs-string">"./util2"</span>   <span class="hljs-comment">// åˆ«åu2ï¼Œå¯¹åº”util2åŒ…ï¼ˆä¸¤ä¸ªåŒ…åéƒ½æ˜¯utilï¼Œé€šè¿‡åˆ«ååŒºåˆ†ï¼‰</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(u1.GetName()) <span class="hljs-comment">// è°ƒç”¨util1åŒ…çš„åŠŸèƒ½ï¼ˆåˆ«åu1ï¼‰</span>
    fmt.Println(u2.GetName()) <span class="hljs-comment">// è°ƒç”¨util2åŒ…çš„åŠŸèƒ½ï¼ˆåˆ«åu2ï¼‰</span>
}

</code></pre>
<h5 data-id="heading-9">ç¤ºä¾‹3ï¼šåŒ¿åå¯¼å…¥ï¼ˆåˆå§‹åŒ–åŒ…ï¼Œä¸ä½¿ç”¨åŠŸèƒ½ï¼‰</h5>
<p>å…¸å‹åœºæ™¯ï¼šå¯¼å…¥MySQLé©±åŠ¨åŒ…ï¼Œåªéœ€æ‰§è¡Œå…¶init()å‡½æ•°å®Œæˆæ³¨å†Œï¼Œæ— éœ€ç›´æ¥è°ƒç”¨åŒ…å†…åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"database/sql"</span>
    _ <span class="hljs-string">"github.com/go-sql-driver/mysql"</span> <span class="hljs-comment">// åŒ¿åå¯¼å…¥ï¼šMySQLé©±åŠ¨åŒ…ï¼ˆåªæ‰§è¡Œinitï¼‰</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æ— éœ€è°ƒç”¨é©±åŠ¨åŒ…çš„åŠŸèƒ½ï¼Œåªéœ€åˆå§‹åŒ–åï¼Œå³å¯ä½¿ç”¨sqlåŒ…æ“ä½œMySQL</span>
    db, _ := sql.Open(<span class="hljs-string">"mysql"</span>, <span class="hljs-string">"user:pass@tcp(127.0.0.1:3306)/dbname"</span>)
    <span class="hljs-keyword">defer</span> db.Close()
}

</code></pre>
<h4 data-id="heading-10">2.3 å¯¼å…¥è·¯å¾„çš„3ç§ç±»å‹ï¼ˆé‡ç‚¹ï¼‰</h4>
<p>å¯¼å…¥è·¯å¾„æ˜¯å¯¼å…¥è§„åˆ™çš„æ ¸å¿ƒï¼Œå¿…é¡»èƒ½å”¯ä¸€å®šä½åˆ°åŒ…ï¼Œåˆ†ä¸º3ç§ç±»å‹ï¼Œå¯¹åº”ä¸åŒåœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>æ ‡å‡†åº“è·¯å¾„</strong>ï¼šç›´æ¥å†™åŒ…åï¼ˆå¦‚fmtã€mathã€osï¼‰ï¼ŒGoä¼šè‡ªåŠ¨ä»æ ‡å‡†åº“ç›®å½•ä¸­æŸ¥æ‰¾ï¼ˆæ— éœ€æ‰‹åŠ¨é…ç½®è·¯å¾„ï¼‰ï¼›</p>
</li>
<li>
<p><strong>ç›¸å¯¹è·¯å¾„</strong>ï¼šä»¥ã€Œ./ã€æˆ–ã€Œ../ã€å¼€å¤´ï¼Œå¯¹åº”å½“å‰é¡¹ç›®å†…çš„è‡ªå®šä¹‰åŒ…ï¼ˆå¦‚./utilsã€../commonï¼‰ï¼Œé€‚ç”¨äºé¡¹ç›®å†…åŒ…çš„å¯¼å…¥ï¼›</p>
</li>
<li>
<p><strong>ç»å¯¹è·¯å¾„ï¼ˆGo Modulesï¼‰</strong>ï¼šä»¥æ¨¡å—åå¼€å¤´ï¼ˆå¦‚github.com/yourname/yourproject/utilsï¼‰ï¼Œé€‚ç”¨äºç¬¬ä¸‰æ–¹åŒ…æˆ–è·¨é¡¹ç›®å¯¼å…¥ï¼ˆåç»­Go Modulesç« èŠ‚è¯¦ç»†è®²è§£ï¼‰ã€‚</p>
</li>
</ol>
<h4 data-id="heading-11">2.4 å¸¸è§è¯¯åŒºï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>
<p>å¯¼å…¥è·¯å¾„é”™è¯¯ï¼šç›¸å¯¹è·¯å¾„å¿…é¡»æ­£ç¡®ï¼ˆæ¯”å¦‚å½“å‰æ–‡ä»¶åœ¨srcç›®å½•ï¼Œutilsåœ¨src/utilsï¼Œå¯¼å…¥è·¯å¾„å†™./utilsï¼Œä¸èƒ½æ¼å†™./ï¼‰ï¼›</p>
</li>
<li>
<p>å¯¼å…¥æœªä½¿ç”¨ï¼šGoä¸å…è®¸å¯¼å…¥åŒ…åä¸ä½¿ç”¨ï¼ˆç¼–è¯‘æŠ¥é”™ï¼‰ï¼Œè‹¥ç¡®å®éœ€è¦å¯¼å…¥ï¼ˆå¦‚åŒ¿åå¯¼å…¥ï¼‰ï¼Œç”¨_åˆ«åï¼›</p>
</li>
<li>
<p>å¾ªç¯å¯¼å…¥ï¼šä¸¤ä¸ªåŒ…äº’ç›¸å¯¼å…¥ï¼ˆå¦‚aå¯¼å…¥bï¼Œbå¯¼å…¥aï¼‰ï¼Œä¼šå¯¼è‡´ç¼–è¯‘æŠ¥é”™ï¼Œè¿™æ˜¯å¤§å‹é¡¹ç›®å¸¸è§å‘ï¼Œéœ€é€šè¿‡â€œæ‹†åˆ†å…¬å…±åŒ…â€è§£å†³ã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">2.5 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆå¯¼å…¥è§„åˆ™ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fspec%23Import_declarations" target="_blank" title="https://go.dev/ref/spec#Import_declarations" ref="nofollow noopener noreferrer">Import declarations</a></li>
</ul>
<h3 data-id="heading-13">ä¸‰ã€ç§æœ‰å…¬æœ‰</h3>
<p>Goä¸­æ²¡æœ‰ä¸“é—¨çš„å…³é”®å­—ï¼ˆå¦‚publicã€privateï¼‰æ¥å®šä¹‰ç§æœ‰/å…¬æœ‰ï¼Œè€Œæ˜¯é€šè¿‡<strong>æ ‡è¯†ç¬¦é¦–å­—æ¯å¤§å°å†™</strong>æ¥åŒºåˆ†ï¼Œè¿™æ˜¯Goç®€æ´è®¾è®¡çš„ä½“ç°ï¼Œè§„åˆ™æå…¶ç®€å•ï¼Œè®°ä½ä¸€å¥è¯å³å¯ï¼š<strong>é¦–å­—æ¯å¤§å†™=å…¬æœ‰ï¼ˆå¯è¢«å…¶ä»–åŒ…å¯¼å…¥ä½¿ç”¨ï¼‰ï¼Œé¦–å­—æ¯å°å†™=ç§æœ‰ï¼ˆåªèƒ½åœ¨å½“å‰åŒ…å†…ä½¿ç”¨ï¼‰</strong>ã€‚</p>
<p>é€‚ç”¨èŒƒå›´ï¼šå‡½æ•°ã€å˜é‡ã€ç»“æ„ä½“ã€ç»“æ„ä½“å­—æ®µã€æ¥å£ç­‰æ‰€æœ‰æ ‡è¯†ç¬¦ï¼Œå‡éµå¾ªæ­¤è§„åˆ™ã€‚</p>
<h4 data-id="heading-14">3.1 æç®€ä»£ç ç¤ºä¾‹ï¼ˆæ¸…æ™°åŒºåˆ†ï¼‰</h4>
<p>å…ˆåˆ›å»ºä¸€ä¸ªutilsåŒ…ï¼ŒåŒ…å«å…¬æœ‰å’Œç§æœ‰æ ‡è¯†ç¬¦ï¼Œè§‚å¯Ÿå…¶ä»–åŒ…èƒ½å¦å¯¼å…¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç›®å½•ï¼šutils/common.go</span>
<span class="hljs-keyword">package</span> utils

<span class="hljs-comment">// 1. å…¬æœ‰å‡½æ•°ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰ï¼šå¯è¢«å…¶ä»–åŒ…å¯¼å…¥ä½¿ç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">PublicFunc</span><span class="hljs-params">()</span></span> <span class="hljs-type">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æˆ‘æ˜¯å…¬æœ‰å‡½æ•°ï¼Œå¯è¢«å¤–éƒ¨è°ƒç”¨"</span>
}

<span class="hljs-comment">// 2. ç§æœ‰å‡½æ•°ï¼ˆé¦–å­—æ¯å°å†™ï¼‰ï¼šåªèƒ½åœ¨utilsåŒ…å†…ä½¿ç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">privateFunc</span><span class="hljs-params">()</span></span> <span class="hljs-type">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æˆ‘æ˜¯ç§æœ‰å‡½æ•°ï¼Œå¤–éƒ¨åŒ…æ— æ³•è°ƒç”¨"</span>
}

<span class="hljs-comment">// 3. å…¬æœ‰ç»“æ„ä½“ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰</span>
<span class="hljs-keyword">type</span> PublicStruct <span class="hljs-keyword">struct</span> {
    PublicField <span class="hljs-type">string</span> <span class="hljs-comment">// å…¬æœ‰å­—æ®µï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰</span>
    privateField <span class="hljs-type">string</span> <span class="hljs-comment">// ç§æœ‰å­—æ®µï¼ˆé¦–å­—æ¯å°å†™ï¼‰</span>
}

<span class="hljs-comment">// 4. ç§æœ‰ç»“æ„ä½“ï¼ˆé¦–å­—æ¯å°å†™ï¼‰</span>
<span class="hljs-keyword">type</span> privateStruct <span class="hljs-keyword">struct</span> {
    Name <span class="hljs-type">string</span>
}

<span class="hljs-comment">// 5. å…¬æœ‰å˜é‡ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰</span>
<span class="hljs-keyword">var</span> PublicVar = <span class="hljs-string">"æˆ‘æ˜¯å…¬æœ‰å˜é‡"</span>

<span class="hljs-comment">// 6. ç§æœ‰å˜é‡ï¼ˆé¦–å­—æ¯å°å†™ï¼‰</span>
<span class="hljs-keyword">var</span> privateVar = <span class="hljs-string">"æˆ‘æ˜¯ç§æœ‰å˜é‡"</span>

</code></pre>
<p>åœ¨mainåŒ…ä¸­å¯¼å…¥utilsåŒ…ï¼Œæµ‹è¯•èƒ½å¦ä½¿ç”¨è¿™äº›æ ‡è¯†ç¬¦ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"./utils"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. è°ƒç”¨å…¬æœ‰å‡½æ•°ï¼šæ­£å¸¸ä½¿ç”¨</span>
    fmt.Println(utils.PublicFunc())

    <span class="hljs-comment">// 2. è°ƒç”¨ç§æœ‰å‡½æ•°ï¼šç¼–è¯‘æŠ¥é”™ï¼ˆundefined: utils.privateFuncï¼‰</span>
    <span class="hljs-comment">// fmt.Println(utils.privateFunc())</span>

    <span class="hljs-comment">// 3. ä½¿ç”¨å…¬æœ‰ç»“æ„ä½“å’Œå…¬æœ‰å­—æ®µï¼šæ­£å¸¸ä½¿ç”¨</span>
    obj := utils.PublicStruct{
        PublicField: <span class="hljs-string">"æµ‹è¯•å…¬æœ‰å­—æ®µ"</span>,
        <span class="hljs-comment">// privateField: "æ— æ³•èµ‹å€¼", // ç¼–è¯‘æŠ¥é”™ï¼šç§æœ‰å­—æ®µï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</span>
    }
    fmt.Println(obj.PublicField)

    <span class="hljs-comment">// 4. ä½¿ç”¨ç§æœ‰ç»“æ„ä½“ï¼šç¼–è¯‘æŠ¥é”™ï¼ˆundefined: utils.privateStructï¼‰</span>
    <span class="hljs-comment">// var p utils.privateStruct</span>

    <span class="hljs-comment">// 5. ä½¿ç”¨å…¬æœ‰å˜é‡ï¼šæ­£å¸¸ä½¿ç”¨</span>
    fmt.Println(utils.PublicVar)

    <span class="hljs-comment">// 6. ä½¿ç”¨ç§æœ‰å˜é‡ï¼šç¼–è¯‘æŠ¥é”™ï¼ˆundefined: utils.privateVarï¼‰</span>
    <span class="hljs-comment">// fmt.Println(utils.privateVar)</span>
}

</code></pre>
<h4 data-id="heading-15">3.2 æ ¸å¿ƒè¡¥å……ï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>
<p>ç§æœ‰æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸï¼šä»…å½“å‰åŒ…å†…ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªé¡¹ç›®çš„å…¶ä»–åŒ…ï¼Œä¹Ÿæ— æ³•è®¿é—®ï¼›</p>
</li>
<li>
<p>ç»“æ„ä½“å­—æ®µçš„ç‰¹æ®Šæ€§ï¼šå³ä½¿ç»“æ„ä½“æ˜¯å…¬æœ‰çš„ï¼Œå…¶ç§æœ‰å­—æ®µï¼ˆé¦–å­—æ¯å°å†™ï¼‰ä¹Ÿæ— æ³•è¢«å¤–éƒ¨åŒ…è®¿é—®ï¼ˆå¦‚ç¤ºä¾‹ä¸­PublicStructçš„privateFieldï¼‰ï¼›</p>
</li>
<li>
<p>è®¿é—®ç§æœ‰æ ‡è¯†ç¬¦çš„é—´æ¥æ–¹å¼ï¼šè‹¥éœ€è®©å¤–éƒ¨åŒ…ä½¿ç”¨åŒ…å†…ç§æœ‰åŠŸèƒ½ï¼Œå¯é€šè¿‡å…¬æœ‰å‡½æ•°å°è£…ï¼ˆæ¯”å¦‚åœ¨utilsåŒ…ä¸­å†™ä¸€ä¸ªå…¬æœ‰å‡½æ•°ï¼Œè°ƒç”¨å†…éƒ¨ç§æœ‰å‡½æ•°ï¼Œå¤–éƒ¨åŒ…è°ƒç”¨è¿™ä¸ªå…¬æœ‰å‡½æ•°å³å¯ï¼‰ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// utils/common.go è¡¥å……ï¼šç”¨å…¬æœ‰å‡½æ•°å°è£…ç§æœ‰åŠŸèƒ½</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetPrivateData</span><span class="hljs-params">()</span></span> <span class="hljs-type">string</span> {
    <span class="hljs-keyword">return</span> privateFunc() <span class="hljs-comment">// å…¬æœ‰å‡½æ•°å†…éƒ¨è°ƒç”¨ç§æœ‰å‡½æ•°</span>
}

<span class="hljs-comment">// main.go ä¸­è°ƒç”¨ï¼šæ­£å¸¸ä½¿ç”¨</span>
fmt.Println(utils.GetPrivateData()) <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘æ˜¯ç§æœ‰å‡½æ•°ï¼Œå¤–éƒ¨åŒ…æ— æ³•è°ƒç”¨</span>

</code></pre>
<h4 data-id="heading-16">3.3 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆæ ‡è¯†ç¬¦å¯è§æ€§ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fspec%23Exported_identifiers" target="_blank" title="https://go.dev/ref/spec#Exported_identifiers" ref="nofollow noopener noreferrer">Exported identifiers</a></li>
</ul>
<h3 data-id="heading-17">å››ã€Go Modules</h3>
<p>Go Modulesï¼ˆç®€ç§°modï¼‰æ˜¯Go 1.11æ¨å‡ºã€Go 1.16å¼ºåˆ¶å¯ç”¨çš„<strong>æ¨¡å—åŒ–åŒ…ç®¡ç†å·¥å…·</strong>ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³æ—©æœŸGOPATHæ¨¡å¼çš„ç—›ç‚¹ï¼ˆä¾èµ–æ··ä¹±ã€ç‰ˆæœ¬å†²çªã€æ— æ³•è·¨ç¯å¢ƒå¤ç”¨ï¼‰ï¼Œç›®å‰æ˜¯Golangå¤§å‹é¡¹ç›®çš„æ ‡å‡†åŒ…ç®¡ç†æ–¹æ¡ˆã€‚</p>
<p>æ ¸å¿ƒå®šä¹‰ï¼šä¸€ä¸ªGo Moduleså°±æ˜¯ä¸€ä¸ªâ€œæ¨¡å—â€ï¼Œå¯¹åº”ä¸€ä¸ªé¡¹ç›®ï¼ŒåŒ…å«é¡¹ç›®çš„æ‰€æœ‰ä»£ç ã€ä¾èµ–é…ç½®ï¼Œæ¨¡å—é€šè¿‡ã€Œæ¨¡å—åã€å”¯ä¸€æ ‡è¯†ï¼Œä¾¿äºä¾èµ–ç®¡ç†å’Œè·¨é¡¹ç›®å¤ç”¨ã€‚</p>
<h4 data-id="heading-18">4.1 ä¸ºä»€ä¹ˆéœ€è¦Go Modulesï¼Ÿï¼ˆç—›ç‚¹å¯¹æ¯”ï¼‰</h4>
<p>æ—©æœŸGOPATHæ¨¡å¼çš„3å¤§ç—›ç‚¹ï¼ŒGo Moduleså…¨éƒ¨è§£å†³ï¼Œç”¨è¡¨æ ¼å¯¹æ¯”æ›´æ¸…æ™°ï¼š</p>

























<table><thead><tr><th><strong>ç—›ç‚¹</strong></th><th><strong>GOPATHæ¨¡å¼</strong></th><th><strong>Go Modulesæ¨¡å¼</strong></th></tr></thead><tbody><tr><td>é¡¹ç›®è·¯å¾„é™åˆ¶</td><td>æ‰€æœ‰é¡¹ç›®å¿…é¡»æ”¾åœ¨GOPATH/srcç›®å½•ä¸‹ï¼Œæå…¶ä¸ä¾¿</td><td>é¡¹ç›®å¯æ”¾åœ¨ä»»æ„ç›®å½•ï¼Œæ— è·¯å¾„é™åˆ¶</td></tr><tr><td>ä¾èµ–ç®¡ç†</td><td>æ— ç‰ˆæœ¬æ§åˆ¶ï¼Œä¾èµ–å…¨éƒ¨æ”¾åœ¨GOPATH/pkgï¼Œä¸åŒé¡¹ç›®ä¾èµ–å†²çª</td><td>æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ç®¡ç†ä¾èµ–ï¼Œæ”¯æŒç‰ˆæœ¬æ§åˆ¶ï¼Œä¾èµ–éš”ç¦»</td></tr><tr><td>è·¨é¡¹ç›®å¤ç”¨</td><td>è‡ªå®šä¹‰åŒ…åªèƒ½åœ¨GOPATHå†…å¤ç”¨ï¼Œè·¨ç¯å¢ƒéœ€æ‰‹åŠ¨å¤åˆ¶</td><td>é€šè¿‡æ¨¡å—åå¯¼å…¥ï¼Œæ”¯æŒè¿œç¨‹ä»“åº“ï¼ˆGitHubã€GitLabï¼‰å¤ç”¨</td></tr></tbody></table>
<h4 data-id="heading-19">4.2 æ ¸å¿ƒå‘½ä»¤ï¼ˆé«˜é¢‘ä½¿ç”¨ï¼Œæç®€è®°å¿†ï¼‰</h4>
<p>Go Modulesçš„ä½¿ç”¨å…¨é å‘½ä»¤è¡Œï¼Œæ ¸å¿ƒå‘½ä»¤åªæœ‰5ä¸ªï¼ŒæŒæ¡å³å¯åº”å¯¹90%çš„åœºæ™¯ï¼Œæ¯ä¸ªå‘½ä»¤é…ç®€çŸ­è¯´æ˜ï¼š</p>



































<table><thead><tr><th><strong>å‘½ä»¤</strong></th><th><strong>åŠŸèƒ½è¯´æ˜</strong></th><th><strong>å¸¸ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>go mod init æ¨¡å—å</td><td>åˆå§‹åŒ–æ¨¡å—ï¼Œç”Ÿæˆgo.modæ–‡ä»¶ï¼ˆæ¨¡å—çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰</td><td>æ–°å»ºé¡¹ç›®æ—¶ï¼Œé¦–æ¬¡æ‰§è¡Œï¼ˆå¿…é¡»ï¼‰</td></tr><tr><td>go mod tidy</td><td>è‡ªåŠ¨æ¢³ç†ä¾èµ–ï¼šæ·»åŠ ç¼ºå¤±çš„ä¾èµ–ã€åˆ é™¤æ— ç”¨çš„ä¾èµ–</td><td>å¯¼å…¥æ–°ä¾èµ–åã€åˆ é™¤ä¾èµ–åï¼Œæ‰§è¡Œï¼ˆæœ€å¸¸ç”¨ï¼‰</td></tr><tr><td>go mod download</td><td>æ‰‹åŠ¨ä¸‹è½½go.modä¸­å£°æ˜çš„æ‰€æœ‰ä¾èµ–</td><td>è·¨ç¯å¢ƒéƒ¨ç½²æ—¶ï¼Œå¿«é€Ÿä¸‹è½½ä¾èµ–</td></tr><tr><td>go mod vendor</td><td>å°†ä¾èµ–å¤åˆ¶åˆ°é¡¹ç›®çš„vendorç›®å½•ï¼ˆæœ¬åœ°ä¾èµ–å¤‡ä»½ï¼‰</td><td>æ— ç½‘ç»œç¯å¢ƒéƒ¨ç½²ã€ä¾èµ–ç‰ˆæœ¬å›ºå®š</td></tr><tr><td>go mod verify</td><td>éªŒè¯ä¾èµ–çš„å®Œæ•´æ€§ï¼ˆæ˜¯å¦è¢«ç¯¡æ”¹ï¼‰</td><td>æ€€ç–‘ä¾èµ–è¢«ä¿®æ”¹æ—¶ï¼Œæ‰§è¡Œæ ¡éªŒ</td></tr></tbody></table>
<h4 data-id="heading-20">4.3 æç®€å®æˆ˜ç¤ºä¾‹ï¼ˆåˆå§‹åŒ–æ¨¡å—ï¼‰</h4>
<p>å…¨ç¨‹æ¨¡æ‹Ÿæ–°å»ºä¸€ä¸ªGo Modulesé¡¹ç›®ï¼Œæ­¥éª¤æ¸…æ™°ï¼Œå¯ç›´æ¥è·Ÿç€æ“ä½œï¼š</p>
<ol>
<li>
<p><strong>æ–°å»ºé¡¹ç›®ç›®å½•</strong>ï¼ˆä»»æ„è·¯å¾„ï¼Œæ— éœ€åœ¨GOPATHï¼‰ï¼š
<code>mkdir go-mod-demo &amp;&amp; cd go-mod-demo</code></p>
</li>
<li>
<p><strong>åˆå§‹åŒ–æ¨¡å—</strong>ï¼ˆæ¨¡å—åå»ºè®®ç”¨è¿œç¨‹ä»“åº“åœ°å€ï¼Œä¾¿äºåç»­å‘å¸ƒï¼Œæœ¬åœ°æµ‹è¯•å¯è‡ªå®šä¹‰ï¼‰ï¼š
<code>go mod init github.com/yourname/go-mod-demo</code>æ‰§è¡Œåï¼Œé¡¹ç›®ç›®å½•ä¸‹ä¼šç”Ÿæˆ<strong>go.modæ–‡ä»¶</strong>ï¼ˆæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆæç®€ï¼‰ï¼š`module github.com/yourname/go-mod-demo # æ¨¡å—åï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</p>
</li>
</ol>
<p>go 1.21 # å½“å‰é¡¹ç›®ä½¿ç”¨çš„Goç‰ˆæœ¬`</p>
<ol start="3">
<li><strong>ç¼–å†™ä»£ç ï¼Œå¯¼å…¥ä¾èµ–</strong>ï¼ˆæ¯”å¦‚å¯¼å…¥æ ‡å‡†åº“fmtå’Œç¬¬ä¸‰æ–¹åŒ…ginï¼‰ï¼š
`// main.go
package main</li>
</ol>
<p>import (
"fmt"
"github.com/gin-gonic/gin" // ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ˆginæ¡†æ¶ï¼‰
)</p>
<p>func main() {
r := gin.Default()
r.GET("/", func(c *gin.Context) {
c.String(200, "Hello Go Modules!")
})
fmt.Println("æœåŠ¡å¯åŠ¨ï¼šlocalhost:8080")
r.Run()
}`</p>
<ol start="4">
<li>
<p><strong>æ¢³ç†ä¾èµ–</strong>ï¼ˆè‡ªåŠ¨ä¸‹è½½ç¼ºå¤±çš„ginä¾èµ–ï¼‰ï¼š
<code>go mod tidy</code>æ‰§è¡Œåï¼Œä¼šå‘ç”Ÿä¸¤ä¸ªå˜åŒ–ï¼š</p>
<ul>
<li>
<p>go.modæ–‡ä»¶ä¼šè‡ªåŠ¨æ·»åŠ ginçš„ä¾èµ–å£°æ˜ï¼ˆåç»­ä¾èµ–é…ç½®ç« èŠ‚è¯¦ç»†è®²ï¼‰ï¼›</p>
</li>
<li>
<p>ç”Ÿæˆ<strong>go.sumæ–‡ä»¶</strong>ï¼ˆä¾èµ–æ ¡éªŒæ–‡ä»¶ï¼Œè®°å½•ä¾èµ–çš„ç‰ˆæœ¬å’Œå“ˆå¸Œå€¼ï¼Œé˜²æ­¢ç¯¡æ”¹ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>è¿è¡Œç¨‹åº</strong>ï¼ˆæ­£å¸¸æ‰§è¡Œï¼Œä¾èµ–å·²è‡ªåŠ¨å¤„ç†ï¼‰ï¼š
<code>go run main.go</code></p>
</li>
</ol>
<h4 data-id="heading-21">4.4 å…³é”®è¡¥å……ï¼ˆæ ¸å¿ƒæ¦‚å¿µï¼‰</h4>
<ul>
<li>
<p>go.modï¼šæ¨¡å—çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè®°å½•æ¨¡å—åã€Goç‰ˆæœ¬ã€ä¾èµ–åŒ…çš„åç§°å’Œç‰ˆæœ¬ï¼Œæ˜¯Go Modulesçš„æ ¸å¿ƒï¼›</p>
</li>
<li>
<p>go.sumï¼šä¾èµ–æ ¡éªŒæ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ï¼ŒGoä¼šè‡ªåŠ¨ç»´æŠ¤ï¼Œç”¨äºéªŒè¯ä¾èµ–çš„å®Œæ•´æ€§ï¼›</p>
</li>
<li>
<p>ä¾èµ–å­˜å‚¨è·¯å¾„ï¼šGo Modulesä¸‹è½½çš„ä¾èµ–ï¼Œé»˜è®¤å­˜å‚¨åœ¨ $GOPATH/pkg/mod ç›®å½•ä¸‹ï¼Œå¤šä¸ªé¡¹ç›®å¯å…±äº«ä¾èµ–ï¼ˆé¿å…é‡å¤ä¸‹è½½ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-22">4.5 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆGo Modulesè¯¦è§£ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fmod" target="_blank" title="https://go.dev/ref/mod" ref="nofollow noopener noreferrer">Go Modules Reference</a></li>
</ul>
<h3 data-id="heading-23">äº”ã€ç‰ˆæœ¬ç®¡ç†</h3>
<p>Go Modulesçš„ç‰ˆæœ¬ç®¡ç†éµå¾ª<strong>è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼Œç®€ç§°SemVerï¼‰</strong>ï¼Œæ ¸å¿ƒæ˜¯â€œç”¨ç‰ˆæœ¬å·åŒºåˆ†ä¾èµ–çš„è¿­ä»£ï¼Œé¿å…ç‰ˆæœ¬å†²çªâ€ï¼Œç‰ˆæœ¬å·æ ¼å¼å›ºå®šï¼Œä¸”æ”¯æŒå¤šç§ç‰ˆæœ¬é€‰æ‹©æ–¹å¼ï¼Œé€‚é…ä¸åŒåœºæ™¯ï¼ˆå¦‚å›ºå®šç‰ˆæœ¬ã€å…¼å®¹ç‰ˆæœ¬ã€æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚</p>
<h4 data-id="heading-24">5.1 è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ¼å¼ï¼ˆå¿…é¡»è®°ä½ï¼‰</h4>
<p>Go Moduleså¼ºåˆ¶è¦æ±‚ä¾èµ–åŒ…éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œæ ¼å¼ä¸ºï¼š<strong>vä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬</strong>ï¼ˆå¦‚v1.2.3ï¼‰ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>ä¸»ç‰ˆæœ¬ï¼ˆMajorï¼‰ï¼šv1ã€v2... ï¼Œå½“APIå‘ç”Ÿä¸å…¼å®¹çš„é‡å¤§å˜æ›´æ—¶ï¼Œä¸»ç‰ˆæœ¬å·åŠ 1ï¼ˆå¦‚v1â†’v2ï¼‰ï¼›</p>
</li>
<li>
<p>æ¬¡ç‰ˆæœ¬ï¼ˆMinorï¼‰ï¼šv1.2ã€v1.3... ï¼Œå½“æ–°å¢åŠŸèƒ½ä½†APIå…¼å®¹æ—¶ï¼Œæ¬¡ç‰ˆæœ¬å·åŠ 1ï¼ˆå¦‚v1.2â†’v1.3ï¼‰ï¼›</p>
</li>
<li>
<p>ä¿®è®¢ç‰ˆæœ¬ï¼ˆPatchï¼‰ï¼šv1.2.3ã€v1.2.4... ï¼Œå½“ä¿®å¤bugä½†ä¸æ–°å¢åŠŸèƒ½ã€ä¸ä¿®æ”¹APIæ—¶ï¼Œä¿®è®¢ç‰ˆæœ¬å·åŠ 1ï¼ˆå¦‚v1.2.3â†’v1.2.4ï¼‰ã€‚</p>
</li>
</ul>
<p>è¡¥å……ï¼šé¢„å‘å¸ƒç‰ˆæœ¬ï¼ˆå¦‚v1.2.3-beta.1ï¼‰ã€å¼€å‘ç‰ˆæœ¬ï¼ˆå¦‚v1.2.3-20240501123456-abcdef123456ï¼‰ä¹Ÿè¢«æ”¯æŒï¼Œä½†ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆä½¿ç”¨æ­£å¼ç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-25">5.2 ç‰ˆæœ¬é€‰æ‹©æ–¹å¼ï¼ˆ4ç§é«˜é¢‘åœºæ™¯ï¼‰</h4>
<p>åœ¨go.modä¸­å£°æ˜ä¾èµ–ç‰ˆæœ¬æ—¶ï¼Œæ”¯æŒå¤šç§å†™æ³•ï¼Œå¯¹åº”ä¸åŒçš„ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥ï¼Œç”¨è¡¨æ ¼æ¢³ç†ï¼ˆç»“åˆç¤ºä¾‹ï¼Œæ˜“æ‡‚å¥½è®°ï¼‰ï¼š</p>






























<table><thead><tr><th><strong>é€‰æ‹©æ–¹å¼</strong></th><th><strong>å†™æ³•ç¤ºä¾‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>å›ºå®šç‰ˆæœ¬</td><td>github.com/gin-gonic/gin v1.9.1</td><td>å¼ºåˆ¶ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬ï¼ˆv1.9.1ï¼‰ï¼Œä¸è‡ªåŠ¨å‡çº§ï¼Œæœ€ç¨³å®šï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</td></tr><tr><td>å…¼å®¹ç‰ˆæœ¬</td><td>github.com/gin-gonic/gin v1.9.0+incompatible</td><td>ä½¿ç”¨å…¼å®¹æŒ‡å®šç‰ˆæœ¬çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆå¦‚v1.9.1ã€v1.9.2ï¼Œä¸è¶…è¿‡v2.0.0ï¼‰</td></tr><tr><td>æœ€æ–°ç‰ˆæœ¬</td><td>github.com/gin-gonic/gin latest</td><td>è‡ªåŠ¨ä½¿ç”¨è¯¥ä¾èµ–çš„æœ€æ–°æ­£å¼ç‰ˆæœ¬ï¼ˆä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼Œå¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜ï¼‰</td></tr><tr><td>ä¸»ç‰ˆæœ¬å…¼å®¹</td><td>github.com/gin-gonic/gin v1</td><td>ä½¿ç”¨v1ä¸»ç‰ˆæœ¬ä¸‹çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆå¦‚v1.9.1ï¼Œä¸å‡çº§åˆ°v2ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-26">5.3 æç®€ä»£ç ç¤ºä¾‹ï¼ˆç‰ˆæœ¬æ“ä½œï¼‰</h4>
<h5 data-id="heading-27">ç¤ºä¾‹1ï¼šæ‰‹åŠ¨æŒ‡å®šå›ºå®šç‰ˆæœ¬</h5>
<p>åœ¨go.modä¸­æ‰‹åŠ¨æ·»åŠ ä¾èµ–ï¼ŒæŒ‡å®šå›ºå®šç‰ˆæœ¬ï¼ˆv1.9.1ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// go.mod</span>
module github.com/yourname/<span class="hljs-keyword">go</span>-mod-demo

<span class="hljs-keyword">go</span> <span class="hljs-number">1.21</span>

<span class="hljs-comment">// æ‰‹åŠ¨æŒ‡å®šginç‰ˆæœ¬ä¸ºv1.9.1ï¼ˆå›ºå®šç‰ˆæœ¬ï¼‰</span>
require github.com/gin-gonic/gin v1<span class="hljs-number">.9</span><span class="hljs-number">.1</span>
</code></pre>
<p>æ‰§è¡Œgo mod tidyï¼Œä¼šè‡ªåŠ¨ä¸‹è½½v1.9.1ç‰ˆæœ¬çš„ginï¼Œä¸”ä¸ä¼šè‡ªåŠ¨å‡çº§ã€‚</p>
<h5 data-id="heading-28">ç¤ºä¾‹2ï¼šå‡çº§/é™çº§ä¾èµ–ç‰ˆæœ¬</h5>
<p>é€šè¿‡go getå‘½ä»¤å‡çº§æˆ–é™çº§ä¾èµ–ç‰ˆæœ¬ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹go.modï¼š</p>
<pre><code class="hljs language-bash" lang="bash">// 1. å‡çº§ginåˆ°æœ€æ–°ç‰ˆæœ¬
go get github.com/gin-gonic/gin@latest

// 2. å‡çº§ginåˆ°æŒ‡å®šç‰ˆæœ¬ï¼ˆv1.9.2ï¼‰
go get github.com/gin-gonic/gin@v1.9.2

// 3. é™çº§ginåˆ°æŒ‡å®šç‰ˆæœ¬ï¼ˆv1.9.0ï¼‰
go get github.com/gin-gonic/gin@v1.9.0
</code></pre>
<p>æ‰§è¡Œåï¼Œgo.modå’Œgo.sumä¼šè‡ªåŠ¨æ›´æ–°ä¸ºå¯¹åº”ç‰ˆæœ¬ã€‚</p>
<h5 data-id="heading-29">ç¤ºä¾‹3ï¼šä¸»ç‰ˆæœ¬å˜æ›´çš„æ³¨æ„äº‹é¡¹</h5>
<p>å½“ä¾èµ–åŒ…çš„ä¸»ç‰ˆæœ¬å˜æ›´ï¼ˆå¦‚v1â†’v2ï¼‰ï¼ŒAPIå¯èƒ½ä¸å…¼å®¹ï¼ŒGo Modulesè¦æ±‚å¯¼å…¥è·¯å¾„å¿…é¡»åŒ…å«ä¸»ç‰ˆæœ¬å·ï¼ˆå¦‚v2ï¼‰ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å¯¼å…¥ginçš„v2ç‰ˆæœ¬ï¼ˆä¸»ç‰ˆæœ¬å˜æ›´ï¼Œå¯¼å…¥è·¯å¾„éœ€åŠ /v2ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/gin-gonic/gin/v2"</span>

<span class="hljs-comment">// go.modä¸­å¯¹åº”çš„ä¾èµ–å£°æ˜</span>
require github.com/gin-gonic/gin/v2 v2<span class="hljs-number">.0</span><span class="hljs-number">.0</span>
</code></pre>
<h4 data-id="heading-30">5.4 å¸¸è§è¯¯åŒºï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>
<p>ç‰ˆæœ¬å·å¿…é¡»ä»¥vå¼€å¤´ï¼šå¦‚v1.2.3ï¼ˆæ­£ç¡®ï¼‰ï¼Œ1.2.3ï¼ˆé”™è¯¯ï¼‰ï¼ŒGo Modulesä¸è¯†åˆ«évå¼€å¤´çš„ç‰ˆæœ¬ï¼›</p>
</li>
<li>
<p>ä¸»ç‰ˆæœ¬å˜æ›´å³ä¸å…¼å®¹ï¼šv1å’Œv2æ˜¯ä¸¤ä¸ªä¸å…¼å®¹çš„ç‰ˆæœ¬ï¼Œå¯¼å…¥è·¯å¾„éœ€åŠ /v2ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›</p>
</li>
<li>
<p>é¿å…ä½¿ç”¨latestç‰ˆæœ¬ï¼šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œlatestç‰ˆæœ¬å¯èƒ½éšæ—¶æ›´æ–°ï¼Œå¯¼è‡´é¡¹ç›®ä¸ç¨³å®šï¼Œä¼˜å…ˆä½¿ç”¨å›ºå®šç‰ˆæœ¬ã€‚</p>
</li>
</ul>
<h4 data-id="heading-31">5.5 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆç‰ˆæœ¬ç®¡ç†ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fmod%23versions" target="_blank" title="https://go.dev/ref/mod#versions" ref="nofollow noopener noreferrer">Module versions</a></li>
</ul>
<h3 data-id="heading-32">å…­ã€ä¾èµ–é…ç½®</h3>
<p>ä¾èµ–é…ç½®çš„æ ¸å¿ƒæ˜¯<strong>go.modæ–‡ä»¶</strong>ï¼Œæ‰€æœ‰ä¾èµ–ç›¸å…³çš„é…ç½®ï¼ˆä¾èµ–å£°æ˜ã€ç‰ˆæœ¬çº¦æŸã€æ›¿æ¢ä¾èµ–ã€æ’é™¤ä¾èµ–ï¼‰éƒ½åœ¨è¯¥æ–‡ä»¶ä¸­å®šä¹‰ï¼ŒGoä¼šè‡ªåŠ¨ç»´æŠ¤å¤§éƒ¨åˆ†å†…å®¹ï¼Œæ‰‹åŠ¨ä¿®æ”¹æ—¶éœ€éµå¾ªå›ºå®šè¯­æ³•ï¼Œæœ¬èŠ‚è®²è§£go.modä¸­æœ€å¸¸ç”¨çš„é…ç½®é¡¹ã€‚</p>
<p>å…ˆçœ‹ä¸€ä¸ªå®Œæ•´çš„go.modç¤ºä¾‹ï¼ˆåŒ…å«æ‰€æœ‰å¸¸ç”¨é…ç½®ï¼‰ï¼Œå†é€ä¸€æ‹†è§£ï¼š</p>
<pre><code class="hljs language-go" lang="go">module github.com/yourname/<span class="hljs-keyword">go</span>-mod-demo # æ¨¡å—å

<span class="hljs-keyword">go</span> <span class="hljs-number">1.21</span> # Goç‰ˆæœ¬

# ç›´æ¥ä¾èµ–ï¼ˆæ‰‹åŠ¨æ·»åŠ æˆ–<span class="hljs-keyword">go</span> mod tidyè‡ªåŠ¨æ·»åŠ ï¼‰
require (
    github.com/gin-gonic/gin v1<span class="hljs-number">.9</span><span class="hljs-number">.1</span>
    github.com/<span class="hljs-keyword">go</span>-sql-driver/mysql v1<span class="hljs-number">.7</span><span class="hljs-number">.1</span>
)

# æ›¿æ¢ä¾èµ–ï¼ˆå°†è¿œç¨‹ä¾èµ–æ›¿æ¢ä¸ºæœ¬åœ°ä¾èµ–ï¼Œä¾¿äºå¼€å‘è°ƒè¯•ï¼‰
replace github.com/gin-gonic/gin =&gt; ../gin

# æ’é™¤ä¾èµ–ï¼ˆæ’é™¤æŸä¸ªä¾èµ–çš„ç‰¹å®šç‰ˆæœ¬ï¼‰
exclude github.com/<span class="hljs-keyword">go</span>-sql-driver/mysql v1<span class="hljs-number">.7</span><span class="hljs-number">.0</span>
</code></pre>
<h4 data-id="heading-33">6.1 æ ¸å¿ƒé…ç½®é¡¹ï¼ˆåˆ†ç‚¹è¯¦è§£ï¼‰</h4>
<h5 data-id="heading-34">6.1.1 moduleï¼ˆæ¨¡å—åï¼‰</h5>
<p>æ ¼å¼ï¼šmodule æ¨¡å—åï¼Œæ˜¯æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»æ”¾åœ¨go.modæ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œç”¨äºå¯¼å…¥è¯¥æ¨¡å—ï¼ˆå¦‚å…¶ä»–é¡¹ç›®å¯¼å…¥å½“å‰æ¨¡å—ï¼Œéœ€ä½¿ç”¨è¯¥æ¨¡å—åä½œä¸ºå¯¼å…¥è·¯å¾„ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼šmodule github.com/yourname/go-mod-demoï¼ˆæ¨èç”¨è¿œç¨‹ä»“åº“åœ°å€ï¼Œä¾¿äºåç»­å‘å¸ƒï¼‰ã€‚</p>
<h5 data-id="heading-35">6.1.2 goï¼ˆGoç‰ˆæœ¬ï¼‰</h5>
<p>æ ¼å¼ï¼šgo ç‰ˆæœ¬å·ï¼Œå£°æ˜å½“å‰æ¨¡å—ä½¿ç”¨çš„Goç‰ˆæœ¬ï¼Œç”¨äºæŒ‡å®šç¼–è¯‘è¯¥æ¨¡å—æ‰€éœ€çš„æœ€ä½Goç‰ˆæœ¬ï¼ŒGoä¼šæ ¹æ®è¯¥ç‰ˆæœ¬å¯ç”¨å¯¹åº”çš„è¯­è¨€ç‰¹æ€§ã€‚</p>
<p>ç¤ºä¾‹ï¼šgo 1.21ï¼ˆè¡¨ç¤ºå½“å‰æ¨¡å—éœ€ç”¨Go 1.21åŠä»¥ä¸Šç‰ˆæœ¬ç¼–è¯‘ï¼‰ã€‚</p>
<h5 data-id="heading-36">6.1.3 requireï¼ˆä¾èµ–å£°æ˜ï¼‰</h5>
<p>æ ¼å¼ï¼šrequire ä¾èµ–åŒ…è·¯å¾„ ç‰ˆæœ¬å·ï¼Œæ ¸å¿ƒé…ç½®é¡¹ï¼Œç”¨äºå£°æ˜é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬ï¼Œæ”¯æŒå•ä¸ªå£°æ˜å’Œæ‰¹é‡å£°æ˜ï¼ˆç”¨æ‹¬å·åŒ…è£¹ï¼‰ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å•ä¸ªä¾èµ–å£°æ˜</span>
require github.com/gin-gonic/gin v1<span class="hljs-number">.9</span><span class="hljs-number">.1</span>

<span class="hljs-comment">// æ‰¹é‡ä¾èµ–å£°æ˜ï¼ˆæ¨èï¼Œç®€æ´ï¼‰</span>
require (
    github.com/gin-gonic/gin v1<span class="hljs-number">.9</span><span class="hljs-number">.1</span>
    github.com/<span class="hljs-keyword">go</span>-sql-driver/mysql v1<span class="hljs-number">.7</span><span class="hljs-number">.1</span>
)
</code></pre>
<h5 data-id="heading-37">6.1.4 replaceï¼ˆæ›¿æ¢ä¾èµ–ï¼‰</h5>
<p>æ ¼å¼ï¼šreplace åŸä¾èµ–è·¯å¾„ =&gt; æ›¿æ¢åçš„è·¯å¾„ï¼Œæ ¸å¿ƒç”¨äºâ€œå¼€å‘è°ƒè¯•â€ï¼Œå°†è¿œç¨‹ä¾èµ–ï¼ˆå¦‚GitHubä¸Šçš„åŒ…ï¼‰æ›¿æ¢ä¸ºæœ¬åœ°ä¾èµ–ï¼ˆæœ¬åœ°ç›®å½•ä¸­çš„åŒ…ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ä¸­çš„å¯¼å…¥è·¯å¾„ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆå°†è¿œç¨‹ginåŒ…æ›¿æ¢ä¸ºæœ¬åœ°ginåŒ…ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ ¼å¼ï¼šreplace åŸä¾èµ–è·¯å¾„ =&gt; æœ¬åœ°ä¾èµ–ç›®å½•ï¼ˆç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼‰</span>
replace github.com/gin-gonic/gin =&gt; ../gin
</code></pre>
<p>æ³¨æ„ï¼šreplaceé…ç½®ä»…åœ¨æœ¬åœ°å¼€å‘æœ‰æ•ˆï¼Œå‘å¸ƒæ¨¡å—æ—¶ï¼Œéœ€åˆ é™¤replaceé…ç½®ï¼ˆå¦åˆ™å…¶ä»–é¡¹ç›®å¯¼å…¥ä¼šæŠ¥é”™ï¼‰ã€‚</p>
<h5 data-id="heading-38">6.1.5 excludeï¼ˆæ’é™¤ä¾èµ–ï¼‰</h5>
<p>æ ¼å¼ï¼šexclude ä¾èµ–åŒ…è·¯å¾„ ç‰ˆæœ¬å·ï¼Œç”¨äºæ’é™¤æŸä¸ªä¾èµ–çš„ç‰¹å®šç‰ˆæœ¬ï¼ˆå¦‚æŸä¸ªç‰ˆæœ¬æœ‰bugï¼Œä¸å¸Œæœ›é¡¹ç›®ä½¿ç”¨è¯¥ç‰ˆæœ¬ï¼‰ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ’é™¤mysqlåŒ…çš„v1.7.0ç‰ˆæœ¬ï¼ˆé¡¹ç›®ä¸ä¼šä½¿ç”¨è¯¥ç‰ˆæœ¬ï¼‰</span>
exclude github.com/<span class="hljs-keyword">go</span>-sql-driver/mysql v1<span class="hljs-number">.7</span><span class="hljs-number">.0</span>
</code></pre>
<h4 data-id="heading-39">6.2 æç®€å®æˆ˜ç¤ºä¾‹ï¼ˆä¾èµ–é…ç½®è°ƒè¯•ï¼‰</h4>
<p>æ¨¡æ‹Ÿæœ¬åœ°å¼€å‘æ—¶ï¼Œæ›¿æ¢è¿œç¨‹ä¾èµ–ä¸ºæœ¬åœ°ä¾èµ–ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>æœ¬åœ°æœ‰ä¸¤ä¸ªé¡¹ç›®ï¼šgo-mod-demoï¼ˆä¸»é¡¹ç›®ï¼‰ã€ginï¼ˆæœ¬åœ°ginæºç ï¼Œç”¨äºè°ƒè¯•ï¼‰ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
<code>â”œâ”€â”€ go-mod-demo # ä¸»é¡¹ç›®ï¼ˆGo Modulesæ¨¡å—ï¼‰ â”‚   â”œâ”€â”€ go.mod â”‚   â””â”€â”€ main.go â””â”€â”€ gin # æœ¬åœ°ginæºç ï¼ˆç”¨äºæ›¿æ¢è¿œç¨‹ä¾èµ–ï¼‰</code></p>
</li>
<li>
<p>åœ¨ä¸»é¡¹ç›®çš„go.modä¸­æ·»åŠ replaceé…ç½®ï¼š
<code>replace github.com/gin-gonic/gin =&gt; ../gin</code></p>
</li>
<li>
<p>ä¸»é¡¹ç›®ä»£ç ä¸­ï¼Œæ­£å¸¸å¯¼å…¥è¿œç¨‹ginåŒ…ï¼š
<code>import "github.com/gin-gonic/gin"</code></p>
</li>
<li>
<p>æ‰§è¡Œgo mod tidyï¼ŒGoä¼šè‡ªåŠ¨ä½¿ç”¨æœ¬åœ°ginåŒ…ï¼ˆè€Œéè¿œç¨‹åŒ…ï¼‰ï¼Œä¾¿äºè°ƒè¯•æœ¬åœ°ä¿®æ”¹çš„ginæºç ã€‚</p>
</li>
</ol>
<h4 data-id="heading-40">6.3 å¸¸è§è¯¯åŒºï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>
<p>æ‰‹åŠ¨ä¿®æ”¹go.modéœ€è°¨æ…ï¼šgo.modçš„è¯­æ³•ä¸¥æ ¼ï¼Œæ‰‹åŠ¨ä¿®æ”¹æ—¶ï¼Œé¿å…å†™é”™ä¾èµ–è·¯å¾„ã€ç‰ˆæœ¬å·ï¼ˆå¦åˆ™go mod tidyä¼šæŠ¥é”™ï¼‰ï¼›</p>
</li>
<li>
<p>replaceé…ç½®ä¸å¯å‘å¸ƒï¼šå‘å¸ƒæ¨¡å—å‰ï¼Œå¿…é¡»åˆ é™¤replaceé…ç½®ï¼Œå¦åˆ™å…¶ä»–é¡¹ç›®æ— æ³•æ­£å¸¸å¯¼å…¥ä½ çš„æ¨¡å—ï¼›</p>
</li>
<li>
<p>excludeé…ç½®ä»…ä½œç”¨äºç›´æ¥ä¾èµ–ï¼šexcludeæ— æ³•æ’é™¤é—´æ¥ä¾èµ–ï¼ˆå³ä¾èµ–çš„ä¾èµ–ï¼‰ï¼Œå¦‚éœ€æ’é™¤é—´æ¥ä¾èµ–ï¼Œéœ€ä½¿ç”¨replaceæ›¿æ¢ã€‚</p>
</li>
</ul>
<h4 data-id="heading-41">6.4 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆgo.modé…ç½®ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fmod%23go-mod-file" target="_blank" title="https://go.dev/ref/mod#go-mod-file" ref="nofollow noopener noreferrer">The go.mod file</a></li>
</ul>
<h3 data-id="heading-42">ä¸ƒã€æ¨¡å—å‘å¸ƒ</h3>
<p>æ¨¡å—å‘å¸ƒçš„æ ¸å¿ƒæ˜¯â€œå°†ä½ çš„Go Modulesæ¨¡å—ï¼Œå‘å¸ƒåˆ°è¿œç¨‹ä»£ç ä»“åº“ï¼ˆå¦‚GitHubã€GitLabï¼‰ï¼Œä¾›å…¶ä»–é¡¹ç›®å¯¼å…¥ä½¿ç”¨â€ï¼Œå‘å¸ƒæµç¨‹ç®€å•ï¼Œæ ¸å¿ƒæ˜¯â€œéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬+æ‰“æ ‡ç­¾â€ï¼Œå…¨ç¨‹æ— éœ€é¢å¤–å·¥å…·ï¼Œåªéœ€ä½¿ç”¨Gitå‘½ä»¤å³å¯å®Œæˆã€‚</p>
<p>å‰æï¼šå·²åˆ›å»ºè¿œç¨‹ä»£ç ä»“åº“ï¼ˆå¦‚GitHubä»“åº“ï¼‰ï¼Œä¸”æœ¬åœ°æ¨¡å—çš„moduleåä¸è¿œç¨‹ä»“åº“åœ°å€ä¸€è‡´ï¼ˆå¦‚module github.com/yourname/yourmoduleï¼‰ã€‚</p>
<h4 data-id="heading-43">7.1 æ¨¡å—å‘å¸ƒçš„5ä¸ªæ­¥éª¤ï¼ˆæç®€å®æˆ˜ï¼‰</h4>
<p>ä»¥GitHubä¸ºä¾‹ï¼Œå…¨ç¨‹å¯ç›´æ¥è·Ÿç€æ“ä½œï¼Œæ­¥éª¤æ¸…æ™°ï¼š</p>
<ol>
<li>
<p><strong>æ£€æŸ¥æ¨¡å—é…ç½®</strong>ï¼ˆå…³é”®ç¬¬ä¸€æ­¥ï¼‰ï¼š</p>
<ul>
<li>
<p>ç¡®ä¿go.modä¸­çš„moduleåï¼Œä¸GitHubä»“åº“åœ°å€ä¸€è‡´ï¼ˆå¦‚GitHubä»“åº“åœ°å€æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyourname%2Fmyutil%25EF%25BC%258Cmodule%25E5%2590%258D%25E5%25BF%2585%25E9%25A1%25BB%25E6%2598%25AFgithub.com%2Fyourname%2Fmyutil%25EF%25BC%2589%25EF%25BC%259B" target="_blank" title="https://github.com/yourname/myutil%EF%BC%8Cmodule%E5%90%8D%E5%BF%85%E9%A1%BB%E6%98%AFgithub.com/yourname/myutil%EF%BC%89%EF%BC%9B" ref="nofollow noopener noreferrer">github.com/yourname/myâ€¦</a></p>
</li>
<li>
<p>åˆ é™¤go.modä¸­çš„replaceé…ç½®ï¼ˆè‹¥æœ‰ï¼‰ï¼Œé¿å…å½±å“å…¶ä»–é¡¹ç›®å¯¼å…¥ï¼›</p>
</li>
<li>
<p>æ‰§è¡Œgo mod tidyï¼Œç¡®ä¿ä¾èµ–å®Œæ•´ã€æ— æ— ç”¨ä¾èµ–ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åˆå§‹åŒ–Gitä»“åº“ï¼ˆæœ¬åœ°ï¼‰</strong>ï¼š
`# åˆå§‹åŒ–Gitä»“åº“
git init</p>
</li>
</ol>
<h2 data-id="heading-44">æ·»åŠ æ‰€æœ‰æ–‡ä»¶</h2>
<p>git add .</p>
<h2 data-id="heading-45">æäº¤ä»£ç ï¼ˆæäº¤ä¿¡æ¯å»ºè®®è§„èŒƒï¼Œå¦‚"feat: å®ŒæˆutilsåŒ…æ ¸å¿ƒåŠŸèƒ½"ï¼‰</h2>
<p>git commit -m "feat: init module, add CalculateSquare function"`</p>
<ol start="3">
<li>
<p><strong>å…³è”è¿œç¨‹GitHubä»“åº“</strong>ï¼š
<code># å…³è”è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ä¸ºä½ çš„GitHubä»“åº“åœ°å€ï¼‰ git remote add origin https://github.com/yourname/myutil.git</code></p>
</li>
<li>
<p><strong>æ‰“ç‰ˆæœ¬æ ‡ç­¾ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</strong>ï¼š
éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œæ‰“æ ‡ç­¾ï¼ˆæ ‡ç­¾åå¿…é¡»ä»¥vå¼€å¤´ï¼Œå¦‚v1.0.0ï¼‰ï¼Œæ ‡ç­¾æ˜¯Go Modulesè¯†åˆ«ç‰ˆæœ¬çš„æ ¸å¿ƒï¼š`# æ‰“æ ‡ç­¾ï¼ˆv1.0.0ï¼Œé¦–æ¬¡å‘å¸ƒå»ºè®®ç”¨v1.0.0ï¼‰
git tag v1.0.0</p>
</li>
</ol>
<h2 data-id="heading-46">æŸ¥çœ‹æ ‡ç­¾</h2>
<p>git tag`</p>
<ol start="5">
<li><strong>æ¨é€ä»£ç å’Œæ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“</strong>ï¼š
`# æ¨é€ä»£ç åˆ°è¿œç¨‹master/mainåˆ†æ”¯
git push origin master</li>
</ol>
<h2 data-id="heading-47">æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ï¼ˆå¿…é¡»æ¨é€æ ‡ç­¾ï¼Œå¦åˆ™å…¶ä»–é¡¹ç›®æ— æ³•è·å–ç‰ˆæœ¬ï¼‰</h2>
<p>git push origin v1.0.0`</p>
<p>æ¨é€å®Œæˆåï¼Œä½ çš„æ¨¡å—å°±å‘å¸ƒæˆåŠŸäº†ï¼å…¶ä»–é¡¹ç›®å¯é€šè¿‡go getå‘½ä»¤å¯¼å…¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">go get github.com/yourname/myutil@v1.0.0
</code></pre>
<h4 data-id="heading-48">7.2 ç‰ˆæœ¬æ›´æ–°ï¼ˆå‘å¸ƒæ–°ç‰ˆæœ¬ï¼‰</h4>
<p>å½“æ¨¡å—åŠŸèƒ½è¿­ä»£åï¼Œå‘å¸ƒæ–°ç‰ˆæœ¬åªéœ€ä¸¤æ­¥ï¼š</p>
<ol>
<li>
<p>ä¿®æ”¹ä»£ç ã€æäº¤ä»£ç ï¼ˆGit commitï¼‰ï¼›</p>
</li>
<li>
<p>æ‰“æ–°çš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ï¼š
`# è¿­ä»£ç‰ˆæœ¬ï¼ˆå¦‚v1.0.1ï¼Œä¿®å¤bugï¼‰
git tag v1.0.1
git push origin v1.0.1</p>
</li>
</ol>
<h2 data-id="heading-49">è‹¥æœ‰é‡å¤§å˜æ›´ï¼Œå‡çº§ä¸»ç‰ˆæœ¬ï¼ˆå¦‚v2.0.0ï¼‰</h2>
<p>git tag v2.0.0
git push origin v2.0.0`</p>
<h4 data-id="heading-50">7.3 å…³é”®æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>
<p>æ ‡ç­¾å¿…é¡»ä»¥vå¼€å¤´ï¼šå¦‚v1.0.0ï¼ˆæ­£ç¡®ï¼‰ï¼Œ1.0.0ï¼ˆé”™è¯¯ï¼‰ï¼ŒGo Modulesæ— æ³•è¯†åˆ«évå¼€å¤´çš„æ ‡ç­¾ï¼›</p>
</li>
<li>
<p>moduleåå¿…é¡»ä¸è¿œç¨‹ä»“åº“åœ°å€ä¸€è‡´ï¼šå¦åˆ™å…¶ä»–é¡¹ç›®go getä¼šå¤±è´¥ï¼ˆæ— æ³•å®šä½æ¨¡å—ï¼‰ï¼›</p>
</li>
<li>
<p>ç‰ˆæœ¬æ ‡ç­¾ä¸å¯åˆ é™¤/ä¿®æ”¹ï¼šä¸€æ—¦æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ï¼Œä¸å»ºè®®åˆ é™¤æˆ–ä¿®æ”¹ï¼ˆä¼šå¯¼è‡´ä¾èµ–è¯¥ç‰ˆæœ¬çš„é¡¹ç›®æŠ¥é”™ï¼‰ï¼Œå¦‚éœ€å›æ»šï¼Œå¯æ‰“æ–°çš„ç‰ˆæœ¬æ ‡ç­¾ã€‚</p>
</li>
</ul>
<h4 data-id="heading-51">7.4 å‚è€ƒé“¾æ¥</h4>
<ul>
<li>Goå®˜æ–¹æ–‡æ¡£ï¼ˆæ¨¡å—å‘å¸ƒï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fdoc%2Fmodules%2Fpublishing" target="_blank" title="https://go.dev/doc/modules/publishing" ref="nofollow noopener noreferrer">Publishing a module</a></li>
</ul>
<h3 data-id="heading-52">å…«ã€é¡¹ç›®ç»“æ„</h3>
<p>å¤§å‹Golangé¡¹ç›®çš„ç»“æ„è®¾è®¡ï¼Œæ ¸å¿ƒæ˜¯â€œæŒ‰åŠŸèƒ½åˆ†å±‚ã€èŒè´£å•ä¸€â€ï¼Œéµå¾ªâ€œé«˜å†…èšã€ä½è€¦åˆâ€çš„åŸåˆ™ï¼Œä¾¿äºå¤šäººåä½œã€åæœŸç»´æŠ¤å’Œæ‰©å±•ã€‚Goæ²¡æœ‰å¼ºåˆ¶çš„é¡¹ç›®ç»“æ„è§„èŒƒï¼Œä½†è¡Œä¸šå†…æœ‰æˆç†Ÿçš„æ ‡å‡†ç»“æ„ï¼ˆé€‚é…å¤§éƒ¨åˆ†åç«¯é¡¹ç›®ï¼‰ï¼Œæœ¬èŠ‚ç»™å‡ºé€šç”¨ç»“æ„ç¤ºä¾‹ï¼Œå¹¶æ‹†è§£å„ç›®å½•çš„ä½œç”¨ã€‚</p>
<p>æç¤ºï¼šä»¥ä¸‹ç»“æ„é€‚ç”¨äºã€Œå¤§å‹åç«¯é¡¹ç›®ã€ï¼ˆå¦‚APIæœåŠ¡ã€å¾®æœåŠ¡ï¼‰ï¼Œå°å‹é¡¹ç›®å¯ç®€åŒ–ï¼ˆå¦‚åªä¿ç•™main.goå’Œå¿…è¦çš„åŒ…ï¼‰ã€‚</p>
<h4 data-id="heading-53">8.1 å¤§å‹Golangé¡¹ç›®æ ‡å‡†ç»“æ„ï¼ˆç›®å½•æ ‘ç¤ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">your-project/                  <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•ï¼ˆGo Modulesæ¨¡å—ï¼Œæ‰§è¡Œgo mod initçš„ç›®å½•ï¼‰</span>
â”œâ”€â”€ go.mod                     <span class="hljs-comment"># Go Modulesæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆå£°æ˜æ¨¡å—åã€Goç‰ˆæœ¬ã€ä¾èµ–ï¼‰</span>
â”œâ”€â”€ go.sum                     <span class="hljs-comment"># ä¾èµ–æ ¡éªŒæ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œè®°å½•ä¾èµ–ç‰ˆæœ¬å’Œå“ˆå¸Œå€¼ï¼Œé˜²ç¯¡æ”¹ï¼‰</span>
â”œâ”€â”€ main.go                    <span class="hljs-comment"># ç®€æ˜“ç¨‹åºå…¥å£ï¼ˆå•å¯æ‰§è¡Œç¨‹åºé¡¹ç›®ç”¨ï¼Œå¤šå¯æ‰§è¡Œç¨‹åºå»ºè®®æ”¾cmdç›®å½•ï¼‰</span>
â”œâ”€â”€ cmd/                       <span class="hljs-comment"># å¯æ‰§è¡Œç¨‹åºç›®å½•ï¼ˆæ ¸å¿ƒï¼å¤šå¯æ‰§è¡Œç¨‹åºåˆ†ç¦»å­˜æ”¾ï¼Œé¿å…å…¥å£æ··ä¹±ï¼‰</span>
â”‚   â””â”€â”€ api/                   <span class="hljs-comment"># APIæœåŠ¡å¯æ‰§è¡Œç¨‹åºï¼ˆåç«¯æ ¸å¿ƒæœåŠ¡å…¥å£ï¼‰</span>
â”‚       â””â”€â”€ main.go            <span class="hljs-comment"># APIæœåŠ¡å…¥å£ï¼ˆåˆå§‹åŒ–è·¯ç”±ã€é…ç½®ã€ä¾èµ–ï¼Œå¯åŠ¨æœåŠ¡ï¼‰</span>
â”‚   â””â”€â”€ cli/                   <span class="hljs-comment"># å‘½ä»¤è¡Œå·¥å…·å…¥å£ï¼ˆå¯é€‰ï¼Œå¦‚æ•°æ®è¿ç§»ã€è„šæœ¬æ‰§è¡Œç­‰ç¦»çº¿å·¥å…·ï¼‰</span>
â”‚       â””â”€â”€ main.go            <span class="hljs-comment"># CLIå·¥å…·å…¥å£ï¼ˆå¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œå¯¹åº”ç¦»çº¿é€»è¾‘ï¼‰</span>
â”œâ”€â”€ internal/                  <span class="hljs-comment"># å†…éƒ¨åŒ…ï¼ˆæ ¸å¿ƒï¼åªèƒ½è¢«å½“å‰é¡¹ç›®å¯¼å…¥ï¼Œå¤–éƒ¨é¡¹ç›®æ— æ³•è®¿é—®ï¼Œéš”ç¦»å†…éƒ¨é€»è¾‘ï¼‰</span>
â”‚   â”œâ”€â”€ service/               <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆæ ¸å¿ƒä¸šåŠ¡å¤„ç†ï¼Œæ‰¿ä¸Šå¯ä¸‹ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ user_service.go    <span class="hljs-comment"># ç”¨æˆ·ç›¸å…³ä¸šåŠ¡ï¼ˆæ³¨å†Œã€ç™»å½•ã€æŸ¥è¯¢ç­‰æ ¸å¿ƒé€»è¾‘ï¼‰</span>
â”‚   â”‚   â””â”€â”€ order_service.go   <span class="hljs-comment"># è®¢å•ç›¸å…³ä¸šåŠ¡ï¼ˆåˆ›å»ºè®¢å•ã€æ”¯ä»˜å›è°ƒã€è®¢å•æŸ¥è¯¢ç­‰ï¼‰</span>
â”‚   â”œâ”€â”€ dao/                   <span class="hljs-comment"># æ•°æ®è®¿é—®å±‚ï¼ˆä¸æ•°æ®åº“ã€ç¼“å­˜äº¤äº’ï¼Œå°è£…æ•°æ®æ“ä½œï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ user_dao.go        <span class="hljs-comment"># ç”¨æˆ·æ•°æ®æ“ä½œï¼ˆæŸ¥è¯¢ç”¨æˆ·ã€æ–°å¢ç”¨æˆ·ã€æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ order_dao.go       <span class="hljs-comment"># è®¢å•æ•°æ®æ“ä½œï¼ˆè®¢å•å…¥åº“ã€çŠ¶æ€æ›´æ–°ã€å…³è”æŸ¥è¯¢ï¼‰</span>
â”‚   â”‚   â””â”€â”€ db/                <span class="hljs-comment"># æ•°æ®åº“è¿æ¥å°è£…ï¼ˆåˆå§‹åŒ–MySQLã€Redisï¼Œæä¾›è¿æ¥æ± ï¼‰</span>
â”‚   â”œâ”€â”€ model/                 <span class="hljs-comment"># æ•°æ®æ¨¡å‹å±‚ï¼ˆç»“æ„ä½“å®šä¹‰ï¼Œä¸æ•°æ®åº“è¡¨ã€æ¥å£å‚æ•°å¯¹åº”ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ user.go            <span class="hljs-comment"># ç”¨æˆ·æ¨¡å‹ï¼ˆä¸userè¡¨å­—æ®µå¯¹åº”ï¼ŒåŒ…å«ç»“æ„ä½“æ ‡ç­¾ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ order.go           <span class="hljs-comment"># è®¢å•æ¨¡å‹ï¼ˆä¸orderè¡¨å­—æ®µå¯¹åº”ï¼Œå…³è”ç”¨æˆ·ã€å•†å“æ¨¡å‹ï¼‰</span>
â”‚   â”‚   â””â”€â”€ request.go         <span class="hljs-comment"># æ¥å£è¯·æ±‚æ¨¡å‹ï¼ˆæ¥æ”¶å‰ç«¯ä¼ å…¥çš„å‚æ•°ï¼Œåšå‚æ•°æ ¡éªŒï¼‰</span>
â”‚   â”œâ”€â”€ router/                <span class="hljs-comment"># è·¯ç”±å±‚ï¼ˆAPIæ¥å£è·¯ç”±å®šä¹‰ï¼Œå…³è”è·¯ç”±ä¸ä¸šåŠ¡é€»è¾‘ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ router.go          <span class="hljs-comment"># è·¯ç”±åˆå§‹åŒ–ï¼ˆæ³¨å†Œæ‰€æœ‰æ¥å£è·¯ç”±ï¼Œé…ç½®ä¸­é—´ä»¶ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ user_router.go     <span class="hljs-comment"># ç”¨æˆ·ç›¸å…³è·¯ç”±ï¼ˆ/api/user/loginã€/api/user/infoç­‰ï¼‰</span>
â”‚   â”‚   â””â”€â”€ order_router.go    <span class="hljs-comment"># è®¢å•ç›¸å…³è·¯ç”±ï¼ˆ/api/order/createã€/api/order/detailç­‰ï¼‰</span>
â”‚   â””â”€â”€ middleware/            <span class="hljs-comment"># ä¸­é—´ä»¶å±‚ï¼ˆæ‹¦æˆªè¯·æ±‚ï¼Œå¤„ç†é€šç”¨é€»è¾‘ï¼‰</span>
â”‚       â”œâ”€â”€ auth.go            <span class="hljs-comment"># æƒé™æ ¡éªŒä¸­é—´ä»¶ï¼ˆéªŒè¯Tokenã€æ¥å£è®¿é—®æƒé™ï¼‰</span>
â”‚       â”œâ”€â”€ logger.go          <span class="hljs-comment"># æ—¥å¿—ä¸­é—´ä»¶ï¼ˆè®°å½•è¯·æ±‚å‚æ•°ã€å“åº”ç»“æœã€è®¿é—®è€—æ—¶ï¼‰</span>
â”‚       â””â”€â”€ recover.go         <span class="hljs-comment"># å¼‚å¸¸æ•è·ä¸­é—´ä»¶ï¼ˆæ•è·æ¥å£panicï¼Œè¿”å›ç»Ÿä¸€é”™è¯¯ä¿¡æ¯ï¼‰</span>
â”œâ”€â”€ pkg/                       <span class="hljs-comment"># å…¬å…±åŒ…ï¼ˆå¯è¢«å¤–éƒ¨é¡¹ç›®å¯¼å…¥å¤ç”¨ï¼Œå°è£…é€šç”¨ã€æ— ä¸šåŠ¡å…³è”çš„åŠŸèƒ½ï¼‰</span>
â”‚   â”œâ”€â”€ utils/                 <span class="hljs-comment"># å·¥å…·åŒ…ï¼ˆé€šç”¨å·¥å…·å‡½æ•°ï¼Œæ— ä¸šåŠ¡ä¾èµ–ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ crypto.go          <span class="hljs-comment"># åŠ å¯†è§£å¯†ï¼ˆMD5ã€SHA256ã€AESç­‰é€šç”¨åŠ å¯†é€»è¾‘ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ validator.go       <span class="hljs-comment"># å‚æ•°æ ¡éªŒï¼ˆé€šç”¨æ ¡éªŒè§„åˆ™ï¼Œå¦‚æ‰‹æœºå·ã€é‚®ç®±ã€å¿…å¡«é¡¹æ ¡éªŒï¼‰</span>
â”‚   â”‚   â””â”€â”€ time.go            <span class="hljs-comment"># æ—¶é—´å·¥å…·ï¼ˆæ—¶é—´æ ¼å¼åŒ–ã€æ—¶é—´å·®è®¡ç®—ç­‰ï¼‰</span>
â”‚   â”œâ”€â”€ config/                <span class="hljs-comment"># é…ç½®åŒ…ï¼ˆè¯»å–é…ç½®æ–‡ä»¶ï¼Œæä¾›å…¨å±€é…ç½®è®¿é—®ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ config.go          <span class="hljs-comment"># é…ç½®åˆå§‹åŒ–ï¼ˆè¯»å–yaml/envé…ç½®ï¼Œè§£æåˆ°ç»“æ„ä½“ï¼‰</span>
â”‚   â”‚   â””â”€â”€ config.yaml        <span class="hljs-comment"># é…ç½®æ–‡ä»¶ï¼ˆå­˜æ”¾MySQLã€Redisã€ç«¯å£ç­‰é…ç½®ä¿¡æ¯ï¼‰</span>
â”‚   â””â”€â”€ logger/                <span class="hljs-comment"># æ—¥å¿—åŒ…ï¼ˆå°è£…æ—¥å¿—æ‰“å°ã€å­˜å‚¨ï¼Œå…¨å±€å¤ç”¨ï¼‰</span>
â”‚       â””â”€â”€ logger.go          <span class="hljs-comment"># æ—¥å¿—åˆå§‹åŒ–ï¼ˆé…ç½®æ—¥å¿—çº§åˆ«ã€è¾“å‡ºè·¯å¾„ã€æ»šåŠ¨ç­–ç•¥ï¼‰</span>
â”œâ”€â”€ api/                       <span class="hljs-comment"># APIæ¥å£å®šä¹‰ï¼ˆè§„èŒƒæ¥å£ï¼Œä¾¿äºå‰åç«¯åä½œã€è·¨æœåŠ¡è°ƒç”¨ï¼‰</span>
â”‚   â”œâ”€â”€ api.pb                 <span class="hljs-comment"># Protobufæ¥å£å®šä¹‰ï¼ˆå¾®æœåŠ¡åœºæ™¯ç”¨ï¼Œå®šä¹‰æ¥å£å‚æ•°å’Œè¿”å›å€¼ï¼‰</span>
â”‚   â””â”€â”€ swagger/               <span class="hljs-comment"># Swaggeræ¥å£æ–‡æ¡£ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œæä¾›æ¥å£è°ƒè¯•ã€æ–‡æ¡£æŸ¥é˜…ï¼‰</span>
â”œâ”€â”€ assets/                    <span class="hljs-comment"># é™æ€èµ„æºç›®å½•ï¼ˆå­˜æ”¾é™æ€æ–‡ä»¶ï¼Œå¯é€‰ï¼‰</span>
â”‚   â”œâ”€â”€ html/                  <span class="hljs-comment"># é™æ€HTMLæ–‡ä»¶ï¼ˆå¦‚åå°ç®¡ç†é¡µé¢é™æ€é¡µé¢ï¼‰</span>
â”‚   â””â”€â”€ static/                <span class="hljs-comment"># é™æ€èµ„æºï¼ˆCSSã€JSã€å›¾ç‰‡ç­‰ï¼‰</span>
â”œâ”€â”€ docs/                      <span class="hljs-comment"># é¡¹ç›®æ–‡æ¡£ç›®å½•ï¼ˆå­˜æ”¾é¡¹ç›®ç›¸å…³æ–‡æ¡£ï¼Œä¾¿äºç»´æŠ¤ï¼‰</span>
â”‚   â”œâ”€â”€ æ¶æ„è®¾è®¡.md            <span class="hljs-comment"># é¡¹ç›®æ¶æ„è®¾è®¡æ–‡æ¡£ï¼ˆåˆ†å±‚è¯´æ˜ã€æ¨¡å—äº¤äº’é€»è¾‘ï¼‰</span>
â”‚   â”œâ”€â”€ æ¥å£æ–‡æ¡£.md            <span class="hljs-comment"># æ¥å£æ–‡æ¡£ï¼ˆéSwaggeråœºæ™¯ï¼Œæ‰‹åŠ¨ç»´æŠ¤æ¥å£è¯´æ˜ï¼‰</span>
â”‚   â””â”€â”€ éƒ¨ç½²æ–‡æ¡£.md            <span class="hljs-comment"># éƒ¨ç½²æ–‡æ¡£ï¼ˆæœåŠ¡å™¨é…ç½®ã€éƒ¨ç½²æ­¥éª¤ã€å¯åœè„šæœ¬ï¼‰</span>
â”œâ”€â”€ scripts/                   <span class="hljs-comment"># è„šæœ¬ç›®å½•ï¼ˆå­˜æ”¾éƒ¨ç½²ã€è¿ç§»ç­‰è„šæœ¬ï¼Œç®€åŒ–æ“ä½œï¼‰</span>
â”‚   â”œâ”€â”€ deploy.sh              <span class="hljs-comment"># éƒ¨ç½²è„šæœ¬ï¼ˆä¸€é”®éƒ¨ç½²æœåŠ¡ã€é‡å¯æœåŠ¡ï¼‰</span>
â”‚   â””â”€â”€ migrate.sh             <span class="hljs-comment"># æ•°æ®è¿ç§»è„šæœ¬ï¼ˆæ•°æ®åº“è¡¨åˆ›å»ºã€æ•°æ®åˆå§‹åŒ–ï¼‰</span>
â”œâ”€â”€ <span class="hljs-built_in">test</span>/                      <span class="hljs-comment"># æµ‹è¯•ç›®å½•ï¼ˆå­˜æ”¾å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ä»£ç ï¼Œè§„èŒƒæµ‹è¯•ï¼‰</span>
â”‚   â”œâ”€â”€ internal/              <span class="hljs-comment"># å†…éƒ¨åŒ…æµ‹è¯•ï¼ˆserviceã€daoç­‰å±‚çš„å•å…ƒæµ‹è¯•ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ service_test.go    <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿè¯·æ±‚ï¼ŒéªŒè¯ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ€§ï¼‰</span>
â”‚   â”‚   â””â”€â”€ dao_test.go        <span class="hljs-comment"># æ•°æ®è®¿é—®æµ‹è¯•ï¼ˆæµ‹è¯•æ•°æ®åº“æ“ä½œæ­£ç¡®æ€§ï¼‰</span>
â”‚   â””â”€â”€ pkg/                   <span class="hljs-comment"># å…¬å…±åŒ…æµ‹è¯•ï¼ˆutilsã€configç­‰åŒ…çš„å•å…ƒæµ‹è¯•ï¼‰</span>
â””â”€â”€ .gitignore                 <span class="hljs-comment"># Gitå¿½ç•¥æ–‡ä»¶ï¼ˆæŒ‡å®šæ— éœ€æäº¤åˆ°Gitçš„æ–‡ä»¶/ç›®å½•ï¼Œå¦‚ç¼–è¯‘äº§ç‰©ã€æ—¥å¿—ï¼‰</span>
</code></pre>
<h4 data-id="heading-54">8.2 æ ¸å¿ƒç›®å½•èŒè´£æ‹†è§£ï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<p>ç»“åˆå‰æ–‡åŒ…ç®¡ç†ã€ç§æœ‰å…¬æœ‰ã€Go ModulesçŸ¥è¯†ï¼Œé‡ç‚¹æ‹†è§£é«˜é¢‘ç›®å½•çš„æ ¸å¿ƒä½œç”¨ï¼Œå¸®ä½ ç†è§£â€œä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡â€ï¼Œé¿å…è¸©ç»“æ„æ··ä¹±çš„å‘ï¼š</p>
<ul>
<li>
<p><strong>cmd/</strong>ï¼šæ ¸å¿ƒæ˜¯â€œåˆ†ç¦»å¯æ‰§è¡Œç¨‹åºå…¥å£â€ï¼Œæ¯”å¦‚åç«¯APIæœåŠ¡å’Œç¦»çº¿æ•°æ®è¿ç§»å·¥å…·ï¼Œåˆ†å¼€æ”¾åœ¨cmd/apiå’Œcmd/cliä¸‹ï¼Œå„è‡ªæœ‰ç‹¬ç«‹çš„main()å‡½æ•°ï¼Œé¿å…æ‰€æœ‰å…¥å£æ··åœ¨æ ¹ç›®å½•main.goï¼ŒåæœŸç»´æŠ¤å›°éš¾ã€‚æ³¨æ„ï¼šcmdä¸‹çš„åŒ…å¯å¯¼å…¥internalå’ŒpkgåŒ…ï¼Œå±äºç¨‹åºå…¥å£å±‚ã€‚</p>
</li>
<li>
<p><strong>internal/</strong>ï¼šGoè¯­è¨€åŸç”Ÿæ”¯æŒçš„â€œå†…éƒ¨åŒ…â€ï¼Œå…¶ä¸‹çš„æ‰€æœ‰åŒ…åªèƒ½è¢«å½“å‰é¡¹ç›®ï¼ˆyour-projectï¼‰å¯¼å…¥ï¼Œå¤–éƒ¨é¡¹ç›®å³ä½¿å¯¼å…¥ä½ çš„æ¨¡å—ï¼Œä¹Ÿæ— æ³•è®¿é—®internalä¸‹çš„å†…å®¹â€”â€”è¿™æ˜¯éš”ç¦»å†…éƒ¨ä¸šåŠ¡é€»è¾‘çš„å…³é”®ï¼Œé¿å…å¤–éƒ¨ä¾èµ–ä½ çš„å†…éƒ¨å®ç°ï¼Œå¯¼è‡´åæœŸé‡æ„å›°éš¾ï¼ˆè´´åˆå‰æ–‡â€œç§æœ‰å…¬æœ‰â€æ€æƒ³ï¼Œç›¸å½“äºé¡¹ç›®çº§åˆ«çš„â€œç§æœ‰åŒ…â€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>pkg/</strong>ï¼šä¸internalç›¸åï¼Œæ˜¯â€œå…¬å…±åŒ…â€ï¼Œå°è£…çš„æ˜¯æ— ä¸šåŠ¡ä¾èµ–ã€å¯å¤ç”¨çš„åŠŸèƒ½ï¼ˆå¦‚å·¥å…·å‡½æ•°ã€é…ç½®è¯»å–ï¼‰ï¼Œå¯è¢«å¤–éƒ¨é¡¹ç›®å¯¼å…¥å¤ç”¨ã€‚æ³¨æ„ï¼špkgä¸‹çš„åŒ…å¿…é¡»éµå¾ªâ€œå…¬æœ‰æ ‡è¯†ç¬¦å¯è®¿é—®â€åŸåˆ™ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰ï¼Œå†…éƒ¨ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œç¡®ä¿é€šç”¨æ€§ã€‚</p>
</li>
<li>
<p><strong>model/</strong>ï¼šç»Ÿä¸€å­˜æ”¾æ‰€æœ‰æ•°æ®æ¨¡å‹ï¼Œé¿å…æ¨¡å‹åˆ†æ•£åœ¨å„ä¸ªåŒ…ä¸­ï¼Œå¯¼è‡´ç»“æ„ä½“é‡å¤å®šä¹‰ã€‚æ¨¡å‹åˆ†ä¸ºä¸‰ç±»ï¼šæ•°æ®åº“æ¨¡å‹ï¼ˆä¸è¡¨å¯¹åº”ï¼‰ã€è¯·æ±‚æ¨¡å‹ï¼ˆæ¥æ”¶å‰ç«¯å‚æ•°ï¼‰ã€å“åº”æ¨¡å‹ï¼ˆè¿”å›ç»™å‰ç«¯æ•°æ®ï¼‰ï¼Œä¸‰è€…åˆ†ç¦»ï¼Œä¾¿äºå‚æ•°æ ¡éªŒå’Œç»´æŠ¤ã€‚</p>
</li>
<li>
<p><strong>service/ + dao/</strong>ï¼šåˆ†å±‚è®¾è®¡çš„æ ¸å¿ƒï¼Œéµå¾ªâ€œå•ä¸€èŒè´£â€ï¼šdaoå±‚åªè´Ÿè´£æ•°æ®æ“ä½œï¼ˆä¸MySQLã€Redisäº¤äº’ï¼‰ï¼Œä¸å¤„ç†ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼›serviceå±‚è°ƒç”¨daoå±‚ï¼Œå¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ç”¨æˆ·æ³¨å†Œæ—¶ï¼Œå…ˆæ ¡éªŒå‚æ•°ï¼Œå†è°ƒç”¨daoæ–°å¢ç”¨æˆ·ï¼Œæœ€åè¿”å›ç»“æœï¼‰ï¼Œé¿å…ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®æ“ä½œè€¦åˆï¼Œä¾¿äºåæœŸä¿®æ”¹ï¼ˆå¦‚æ›¿æ¢æ•°æ®åº“æ—¶ï¼Œåªéœ€ä¿®æ”¹daoå±‚ï¼Œä¸å½±å“serviceå±‚ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-55">8.3 ç»“æ„è®¾è®¡æŠ€å·§ï¼ˆè´´åˆæ¨¡å—åŒ–å¼€å‘ï¼‰</h4>
<ol>
<li>å°å‹é¡¹ç›®ç®€åŒ–ï¼šå¦‚æœæ˜¯å•å¯æ‰§è¡Œç¨‹åºï¼ˆå¦‚ç®€å•APIæœåŠ¡ï¼‰ï¼Œå¯åˆ é™¤cmd/ç›®å½•ï¼Œå°†main.goæ”¾åœ¨æ ¹ç›®å½•ï¼ŒåŒæ—¶ç®€åŒ–internal/ç›®å½•ï¼ˆåªä¿ç•™serviceã€daoã€modelæ ¸å¿ƒå­åŒ…ï¼‰ï¼›</li>
<li>å¾®æœåŠ¡é€‚é…ï¼šå¦‚æœæ˜¯å¾®æœåŠ¡é¡¹ç›®ï¼Œå¯åœ¨api/ç›®å½•ä¸‹ç”¨Protobufå®šä¹‰æ¥å£ï¼ŒåŒæ—¶æ–°å¢rpc/ç›®å½•ï¼Œå­˜æ”¾å¾®æœåŠ¡é—´è°ƒç”¨çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»£ç ï¼›</li>
<li>ä¾èµ–éš”ç¦»ï¼šinternal/ä¸‹çš„åŒ…å¯ç›¸äº’å¯¼å…¥ï¼ˆå¦‚serviceå¯¼å…¥daoã€modelï¼‰ï¼Œä½†å°½é‡é¿å…å¾ªç¯å¯¼å…¥ï¼ˆå‰æ–‡å¯¼å…¥è§„åˆ™çš„é¿å‘ç‚¹ï¼‰ï¼›pkg/ä¸‹çš„åŒ…ä¸ä¾èµ–internal/ä¸‹çš„åŒ…ï¼ˆç¡®ä¿pkgçš„é€šç”¨æ€§ï¼‰ï¼›</li>
<li>å¯æ‰©å±•æ€§ï¼šæ¯ä¸ªç›®å½•çš„èŒè´£å•ä¸€ï¼Œæ–°å¢åŠŸèƒ½æ—¶ï¼Œåªéœ€åœ¨å¯¹åº”ç›®å½•ä¸‹æ–°å¢æ–‡ä»¶ï¼ˆå¦‚æ–°å¢å•†å“ä¸šåŠ¡ï¼Œåœ¨internal/serviceä¸‹æ–°å¢goods_service.goï¼Œåœ¨internal/daoä¸‹æ–°å¢goods_dao.goï¼‰ï¼Œä¸å½±å“å…¶ä»–ç›®å½•ã€‚</li>
</ol>
<h4 data-id="heading-56">8.4 å‚è€ƒé“¾æ¥</h4>
<p>Goå®˜æ–¹æ–‡æ¡£ï¼ˆé¡¹ç›®ç»“æ„å»ºè®®ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fdoc%2Fcode%23Organization" target="_blank" title="https://go.dev/doc/code#Organization" ref="nofollow noopener noreferrer">Code organization</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactæ‰©å±•]]></title>    <link>https://juejin.cn/post/7603587738159923263</link>    <guid>https://juejin.cn/post/7603587738159923263</guid>    <pubDate>2026-02-06T10:14:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603587738159923263" data-draft-id="7598947628467372078" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactæ‰©å±•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-06T10:14:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯é©¬å›½æˆ"/> <meta itemprop="url" content="https://juejin.cn/user/4471082537196452"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactæ‰©å±•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4471082537196452/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯é©¬å›½æˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:14:48.000Z" title="Fri Feb 06 2026 10:14:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">CSS</h4>
<p>styled-components: yarn add styled-components</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// propsé€ä¼ </span>
<span class="hljs-comment">// attrsçš„ä½¿ç”¨</span>
<span class="hljs-comment">// ä¼ å…¥stateä½œä¸ºpropså±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">StyledInput</span> = styled.<span class="hljs-property">input</span>.<span class="hljs-title function_">attrs</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'password'</span>,
  <span class="hljs-attr">placeholder</span>:<span class="hljs-string">'è¯·è¾“å…¥'</span>,
  <span class="hljs-attr">bgColor</span>:<span class="hljs-string">'#000'</span>
})<span class="hljs-string">`
  color: <span class="hljs-subst">${props =&gt; props.color}</span>;
  background-color: <span class="hljs-subst">${props =&gt; props.bgColor}</span>;
`</span>

<span class="hljs-comment">// ç»§æ‰¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">StyledInput2</span> = <span class="hljs-title function_">styled</span>(<span class="hljs-title class_">StyledInput</span>)<span class="hljs-string">`
  margin-top: 20px;
  padding: 10px;
`</span>
</code></pre>
<h4 data-id="heading-1">åŠ¨ç”»</h4>
<pre><code class="hljs language-js" lang="js">npm install react-transition-group --save

&lt;<span class="hljs-title class_">CSSTransition</span>
    nodeRef={<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeRef</span>}
    <span class="hljs-keyword">in</span>={<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">show</span>}
    timeout={<span class="hljs-number">500</span>}
    classNames=<span class="hljs-string">"fade"</span>
    unmountOnExit
    appear
&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{this.nodeRef}</span>&gt;</span>CSS Transition<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">CSSTransition</span>&gt;

.<span class="hljs-property">fade</span>-enter, .<span class="hljs-property">fade</span>-appear{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>;
}

.<span class="hljs-property">fade</span>-enter-active, .<span class="hljs-property">fade</span>-appear-active{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attr">transition</span>: opacity 500ms ease-<span class="hljs-keyword">in</span>-out;
}

.<span class="hljs-property">fade</span>-enter-done, .<span class="hljs-property">fade</span>-appear-done{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>;
}
.<span class="hljs-property">fade</span>-exit{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>;
}


.<span class="hljs-property">fade</span>-exit-active{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attr">transition</span>: opacity 500ms ease-<span class="hljs-keyword">in</span>-out;
}

.<span class="hljs-property">fade</span>-exit-done{
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<h4 data-id="heading-2">Redux</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.js</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./reducer'</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer)
store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(store.<span class="hljs-title function_">getState</span>())
})
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addAction</span>(<span class="hljs-number">1</span>))
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">subAction</span>(<span class="hljs-number">10</span>))

<span class="hljs-comment">// action.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">addAction</span>= (<span class="hljs-params">num</span>) =&gt; ({
  <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ADD_NUMBER</span>,
  num
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">subAction</span>= (<span class="hljs-params">num</span>) =&gt; ({
  <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">SUB_NUMBER</span>,
  num
})

<span class="hljs-comment">// reducer.js</span>
<span class="hljs-keyword">const</span> defaultlState = {
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-params">state = defaultlState, action</span>) {
  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-attr">ADD_NUMBER</span>:
      <span class="hljs-keyword">return</span> {
        ...state,
        <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + action.<span class="hljs-property">num</span>,
      } 
    <span class="hljs-keyword">case</span> <span class="hljs-attr">SUB_NUMBER</span>:
      <span class="hljs-keyword">return</span> {
        ...state,
        <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - action.<span class="hljs-property">num</span>,
      } 
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state
  }
}


<span class="hljs-comment">// åŠ å…¥connect</span>
<span class="hljs-comment">// index.js</span>
<span class="hljs-keyword">import</span> { createStore, applyMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>
**<span class="hljs-keyword">import</span> { thunk } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux-thunk'</span>**
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./reducer'</span>

<span class="hljs-keyword">const</span> storeEnhancer = <span class="hljs-title function_">applyMiddleware</span>(thunk)

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer, storeEnhancer)    

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store

<span class="hljs-comment">// reducer.js</span>
<span class="hljs-keyword">import</span> { createStore, applyMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>
<span class="hljs-keyword">import</span> { thunk } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux-thunk'</span>
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./reducer'</span>

<span class="hljs-keyword">const</span> storeEnhancer = <span class="hljs-title function_">applyMiddleware</span>(thunk)

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer, storeEnhancer)    

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store

<span class="hljs-comment">// actionCreator.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">ADD_NUMBER</span>, <span class="hljs-variable constant_">SUB_NUMBER</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./constans'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">addAction</span>= (<span class="hljs-params">num</span>) =&gt; ({
  <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ADD_NUMBER</span>,
  num
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">subAction</span>= (<span class="hljs-params">num</span>) =&gt; ({
  <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">SUB_NUMBER</span>,
  num
})

**<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getBannerList</span> = (<span class="hljs-params">dispatch</span>) =&gt; (
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getBannerList'</span>)
)**

<span class="hljs-comment">// connect.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PureComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">'../store'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">mapStateToProps, mapDispatchToProps</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">Component</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectedComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">PureComponent</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
        <span class="hljs-variable language_">super</span>(props)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = {
            <span class="hljs-attr">storeState</span>: <span class="hljs-title function_">mapStateToProps</span>(store.<span class="hljs-title function_">getState</span>()),
        }
      }
      <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">unsubscribe</span> = store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
            <span class="hljs-attr">storeState</span>: <span class="hljs-title function_">mapStateToProps</span>(store.<span class="hljs-title function_">getState</span>()),
          })
        })
      }
      <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unsubscribe</span>()
      }
      <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> (
          <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Component</span>
            {<span class="hljs-attr">...this.props</span>}
            {<span class="hljs-attr">...this.state.storeState</span>}
            {<span class="hljs-attr">...mapDispatchToProps</span>(<span class="hljs-attr">store.dispatch</span>)}
          /&gt;</span></span>
        );
      }
    };
  };
}
<span class="hljs-comment">// home.js</span>
<span class="hljs-keyword">import</span> { connect } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/connect'</span>
<span class="hljs-keyword">import</span> { addAction, subAction, getBannerList } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/actionCreator'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">mapStateToProps</span> = (<span class="hljs-params">state</span>) =&gt; ({
  <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span>
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">mapDispatchToProps</span> = (<span class="hljs-params">dispatch</span>) =&gt; ({
  <span class="hljs-attr">addAction</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addAction</span>(num)),
  <span class="hljs-attr">subAction</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">subAction</span>(num)),
  <span class="hljs-attr">getBannerList</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">dispatch</span>(getBannerList)
})

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Home2</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>HOME<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰è®¡æ•°:{props.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> props.addAction(1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> props.subAction(1)}&gt;-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> props.getBannerList()}&gt;è·å–è½®æ’­å›¾<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
    ) 
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">connect</span>(mapStateToProps, mapDispatchToProps)(<span class="hljs-title class_">Home2</span>)
</code></pre>
<h4 data-id="heading-3">router</h4>
<pre><code class="hljs language-js" lang="js">npm install react-router-dom
<span class="hljs-title class_">BrowserRouter</span>: historyæ¨¡å¼
<span class="hljs-title class_">HashRouter</span>: hashæ¨¡å¼

&lt;<span class="hljs-title class_">BrowserRouter</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/a"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/a"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">BrowserRouter</span>&gt;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Routes</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useRoutes</span>([    
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'/home'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span>,
        <span class="hljs-attr">children</span>: [
          {
            <span class="hljs-attr">path</span>: <span class="hljs-string">'history'</span>,
            <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AboutHistory</span> /&gt;</span></span>
          },
          {
            <span class="hljs-attr">path</span>: <span class="hljs-string">'school'</span>,
            <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AboutSchool</span> /&gt;</span></span>
          },
          {
            <span class="hljs-attr">path</span>: <span class="hljs-string">'company'</span>,
            <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AboutCompany</span> /&gt;</span></span>
          }
        ]
      }
])}
</code></pre>
<h4 data-id="heading-4">Hooks</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span>ç»„ä»¶æ¯”å‡½æ•°å¼ç»„ä»¶çš„ä¼˜åŠ¿ï¼ˆæ²¡æœ‰hooksçš„æ—¶å€™ï¼‰
    <span class="hljs-number">1.</span><span class="hljs-keyword">class</span>ç»„ä»¶å¯ä»¥å®šä¹‰è‡ªå·±çš„stateï¼Œç”¨æ¥ä¿å­˜ç»„ä»¶è‡ªå·±å†…éƒ¨çš„çŠ¶æ€
      å‡½æ•°å¼ç»„ä»¶ä¸å¯ä»¥ï¼Œå› ä¸ºå‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½ä¼šäº§ç”Ÿæ–°çš„ä¸´æ—¶å˜é‡
    <span class="hljs-number">2.</span><span class="hljs-keyword">class</span>ç»„ä»¶æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¯”å¦‚åœ¨componentDidMountedä¸­å‘é€ç½‘ç»œè¯·æ±‚ï¼Œ
      å¹¶ä¸”åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡
      åœ¨å‡½æ•°ä¸­å‘é€ç½‘ç»œè¯·æ±‚ï¼Œæ„å‘³ç€æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½ä¼šé‡æ–°å‘é€ä¸€æ¬¡ç½‘ç»œè¯·æ±‚
    <span class="hljs-number">3.</span><span class="hljs-keyword">class</span>ç»„ä»¶å¯ä»¥åœ¨çŠ¶æ€æ”¹å˜æ—¶åªä¼šé‡æ–°æ‰§è¡Œrendrå‡½æ•°ä»¥åŠç”Ÿå‘½å‘¨æœŸcomponentDidUpdate
      å‡½æ•°å¼ç»„ä»¶åœ¨é‡æ–°æ¸²æŸ“æ—¶ï¼Œæ•´ä¸ªå‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œ
      
useState
æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥è‡ªreactåŒ…
å‚æ•°å’Œè¿”å›å€¼
    <span class="hljs-number">1.</span>å‚æ•°ï¼šç»™åˆ›å»ºå‡ºæ¥çš„çŠ¶æ€ä¸€ä¸ªé»˜è®¤å€¼
    <span class="hljs-number">2.</span>è¿”å›å€¼ï¼šæ•°ç»„ï¼Œå…ƒç´ <span class="hljs-number">1</span>ï¼šå½“å‰stateçš„çŠ¶æ€å€¼ï¼Œå…ƒç´ <span class="hljs-number">2</span>æ˜¯æ›´æ–°çŠ¶æ€çš„å‡½æ•°
åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨<span class="hljs-title class_">Hook</span>ï¼Œä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­ä½¿ç”¨
åªèƒ½åœ¨reactçš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨hookï¼Œä¸èƒ½åœ¨å…¶ä»–jså‡½æ•°ä¸­è°ƒç”¨

useCallback
<span class="hljs-comment">// memo ç”¨äºåŒ…è£¹å‡½æ•°ç»„ä»¶ï¼Œä½¿å…¶åœ¨ props æœªå‘ç”Ÿå˜åŒ–æ—¶è·³è¿‡é‡æ–°æ¸²æŸ“ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚</span>
<span class="hljs-comment">// çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå­ç»„ä»¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯å¦‚æœå­ç»„ä»¶è¢« memo åŒ…è£¹ï¼Œä¸” props æœªå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå­ç»„ä»¶å°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚</span>
<span class="hljs-comment">// HYBButton1çš„incrementå‡½æ•°ä¼šé‡æ–°åˆ›å»ºï¼Œæ‰€ä»¥memoåŒ…è£¹çš„propså‘ç”Ÿå˜åŒ–ï¼Œä¼šé‡æ–°æ¸²æŸ“</span>
<span class="hljs-comment">// HYBButton2çš„incrementå‡½æ•°ä¸ä¼šé‡æ–°åˆ›å»ºï¼Œæ‰€ä»¥memoåŒ…è£¹çš„propsæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸ä¼šé‡æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HYBButton</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{title, increment}</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é‡æ–°æ¸²æŸ“'</span>, title)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>
      +1
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  )
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Callback</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> [isShow, setIsShow] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick1</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">111</span>)
  }

  <span class="hljs-keyword">const</span> handleClick2 = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">222</span>)
  },[count])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰æ˜¾ç¤ºçŠ¶æ€: {isShow ? 'æ˜¾ç¤º' : 'éšè—'}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HYBButton</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"å¢åŠ 1"</span> <span class="hljs-attr">increment</span>=<span class="hljs-string">{handleClick1}</span>  /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HYBButton</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"å¢åŠ 2"</span> <span class="hljs-attr">increment</span>=<span class="hljs-string">{handleClick2}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsShow(!isShow)}&gt;æ˜¾ç¤º/éšè—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

useContext
<span class="hljs-title class_">App</span>.<span class="hljs-property">js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">UserContext</span> = <span class="hljs-title function_">createContext</span>()
&lt;<span class="hljs-title class_">React</span>.<span class="hljs-property">StrictMode</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{name:</span> '<span class="hljs-attr">å¼ ä¸‰</span>', <span class="hljs-attr">age:</span> <span class="hljs-attr">18</span>}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MemoDemo</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">UserContext.Provider</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">React</span>.<span class="hljs-property">StrictMode</span>&gt;

index.<span class="hljs-property">js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../index'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">User</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">UserContext</span>)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰ç”¨æˆ·: {user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰ç”¨æˆ·å¹´é¾„: {user.age}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

useMemo
<span class="hljs-keyword">import</span> { useState,useMemo,memo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">calcNum</span>(<span class="hljs-params">count</span>){
    <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
        total += i
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'total'</span>,total)
    }
    <span class="hljs-keyword">return</span> total
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">HYUser</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">HYUser</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {name, age} = props
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'HYUser'</span>, name, age)
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰ç”¨æˆ·: {name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰å¹´é¾„: {age}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MemoDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> [isShow, setIsShow] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)
<span class="hljs-comment">//   let total = 0</span>
<span class="hljs-comment">//   for(let i = 0; i &lt; count; i++) {</span>
<span class="hljs-comment">//     // åˆ‡æ¢showæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œforå¾ªç¯</span>
<span class="hljs-comment">//     total += i</span>
<span class="hljs-comment">//   }</span>
  <span class="hljs-keyword">const</span> total = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">calcNum</span>(count), [count])
  <span class="hljs-keyword">const</span> info = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> ({<span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>}), []) <span class="hljs-comment">// ä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„ï¼Œåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</span>
<span class="hljs-comment">//const info = {name: 'å¼ ä¸‰', age: 18} æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼šå¯¼è‡´HYUserç»„ä»¶é‡æ–°æ¸²æŸ“</span>

  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰æ˜¾ç¤ºçŠ¶æ€: {isShow ? 'æ˜¾ç¤º' : 'éšè—'}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰total: {total}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HYUser</span> <span class="hljs-attr">info</span>=<span class="hljs-string">{info}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsShow(!isShow)}&gt;åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
- useMemo ï¼šç¼“å­˜å€¼ ï¼Œç”¨äºä¼˜åŒ–å¤æ‚è®¡ç®—
- useCallback ï¼šç¼“å­˜å‡½æ•° ï¼Œç”¨äºä¼˜åŒ–å­ç»„ä»¶æ¸²æŸ“
- useCallback æ˜¯ useMemo çš„ç‰¹ä¾‹ ï¼š <span class="hljs-title function_">useCallback</span>(fn, deps) ç­‰ä»·äº <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> fn, deps)

useReducer
<span class="hljs-keyword">import</span> { useReducer } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-params">state, action</span>) {
  <span class="hljs-keyword">switch</span>(action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'increment'</span>:
      <span class="hljs-keyword">return</span> {<span class="hljs-attr">counter</span>: state.<span class="hljs-property">counter</span> + action.<span class="hljs-property">payload</span>}
    <span class="hljs-keyword">case</span> <span class="hljs-string">'decrement'</span>:
      <span class="hljs-keyword">return</span> {<span class="hljs-attr">counter</span>: state.<span class="hljs-property">counter</span> - action.<span class="hljs-property">payload</span>}
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">User</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, {<span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>})
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰çŠ¶æ€: {state.counter}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({type: 'increment', payload: 1})}&gt;å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({type: 'decrement', payload: 1})}&gt;å‡å°‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

useLayoutEffect
useEffectä¼šåœ¨æ¸²æŸ“çš„å†…å®¹æ›´æ–°åˆ°<span class="hljs-variable constant_">DOM</span>ä¸Šåæ‰§è¡Œï¼Œä¸ä¼šé˜»å¡<span class="hljs-variable constant_">DOM</span>çš„æ›´æ–°
useLayoutEffectä¼šåœ¨æ¸²æŸ“çš„å†…å®¹æ›´æ–°åˆ°<span class="hljs-variable constant_">DOM</span>ä¸Šä¹‹å‰æ‰§è¡Œï¼Œä¼šé˜»å¡<span class="hljs-variable constant_">DOM</span>çš„æ›´æ–°
å¦‚æœæˆ‘ä»¬å¸Œæœ›åœ¨æŸäº›æ“ä½œå‘ç”Ÿä¹‹åå†æ›´æ–°<span class="hljs-variable constant_">DOM</span>ï¼Œé‚£ä¹ˆåº”è¯¥å°†è¿™ä¸ªæ“ä½œæ”¾åˆ°useLayoutEffect

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClawé›†æˆé’‰é’‰æœºå™¨äººåº”ç”¨é…ç½®]]></title>    <link>https://juejin.cn/post/7603556326815907892</link>    <guid>https://juejin.cn/post/7603556326815907892</guid>    <pubDate>2026-02-06T10:18:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603556326815907892" data-draft-id="7603383311531016207" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClawé›†æˆé’‰é’‰æœºå™¨äººåº”ç”¨é…ç½®"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-06T10:18:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¹å¤–ä¹‹éŸ³"/> <meta itemprop="url" content="https://juejin.cn/user/2666763911448411"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClawé›†æˆé’‰é’‰æœºå™¨äººåº”ç”¨é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2666763911448411/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¹å¤–ä¹‹éŸ³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:18:48.000Z" title="Fri Feb 06 2026 10:18:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é’‰é’‰æœºå™¨äººåº”ç”¨é…ç½®ä¸OpenClawé›†æˆæŒ‡å—</h2>
<p>æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å®Œæˆé’‰é’‰æœºå™¨äººåº”ç”¨çš„åˆ›å»ºã€é…ç½®ä»¥åŠä¸ OpenClaw çš„é›†æˆã€‚</p>
<hr/>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E9%92%89%E9%92%89%E5%BA%94%E7%94%A8" title="#%E5%88%9B%E5%BB%BA%E9%92%89%E9%92%89%E5%BA%94%E7%94%A8">åˆ›å»ºé’‰é’‰åº”ç”¨</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9" title="#%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9">é…ç½®é€‰é¡¹</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEopenclaw" title="#%E9%85%8D%E7%BD%AEopenclaw">é…ç½®OpenClaw</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">æ‰€éœ€å‡­è¯</h3>
<ul>
<li>Client ID</li>
<li>Client Secret</li>
<li>Robot Code</li>
<li>Corp ID</li>
<li>Agent ID</li>
<li>å¡ç‰‡æ¨¡æ¿ ID</li>
</ul>
<hr/>
<h3 data-id="heading-3">ç›¸å…³é“¾æ¥</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen-dev.dingtalk.com" target="_blank" title="https://open-dev.dingtalk.com" ref="nofollow noopener noreferrer">é’‰é’‰å¼€å‘è€…åå°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen-dev.dingtalk.com%2Ffe%2Fcard" target="_blank" title="https://open-dev.dingtalk.com/fe/card" ref="nofollow noopener noreferrer">é’‰é’‰å¡ç‰‡å¹³å°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsoimy%2Fopenclaw-channel-dingtalk" target="_blank" title="https://github.com/soimy/openclaw-channel-dingtalk" ref="nofollow noopener noreferrer">æ’ä»¶GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com" target="_blank" title="https://ai.32zi.com" ref="nofollow noopener noreferrer">AI API èšåˆå¹³å°</a></li>
</ul>
<hr/>
<h3 data-id="heading-4">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>å¿…é¡»åŠ å…¥ç»„ç»‡æ‰èƒ½ä½¿ç”¨é’‰é’‰å¼€å‘è€…åå°</li>
<li>å‘å¸ƒåº”ç”¨å‰éœ€å¡«å†™ç‰ˆæœ¬è¯¦æƒ…</li>
<li>æ‰‹åŠ¨å®‰è£…æ’ä»¶åéœ€æ‰§è¡Œnpm install</li>
<li>é…ç½®æ–‡ä»¶ä¸­éœ€è¦å¡«å†™æ­£ç¡®çš„å‡­è¯ä¿¡æ¯</li>
</ul>
<hr/>
<h3 data-id="heading-5">åˆ›å»ºé’‰é’‰åº”ç”¨</h3>
<h4 data-id="heading-6">æ­¥éª¤ 1ï¼šæ‰“å¼€é’‰é’‰å¼€å‘è€…åå°</h4>
<p>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen-dev.dingtalk.com" target="_blank" title="https://open-dev.dingtalk.com" ref="nofollow noopener noreferrer">open-dev.dingtalk.com</a></p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¿…é¡»åŠ å…¥ç»„ç»‡æ‰èƒ½ä½¿ç”¨é’‰é’‰å¼€å‘è€…åå°ã€‚</p>
</blockquote>
<h4 data-id="heading-7">æ­¥éª¤ 2ï¼šåˆ›å»ºåº”ç”¨</h4>
<p>æ‰¾åˆ° <strong>åº”ç”¨å¼€å‘</strong> â†’ <strong>é’‰é’‰åº”ç”¨</strong> â†’ <strong>åˆ›å»ºåº”ç”¨</strong> â†’ å¡«å†™ç›¸å…³ä¿¡æ¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/564d8c2c05af4f90845e39021092e493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=M1gSlGg%2B7JQfmMyJk9AdiEYWrPE%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 092539.png" loading="lazy"/></p>
<h4 data-id="heading-8">æ­¥éª¤ 3ï¼šæ·»åŠ æœºå™¨äººèƒ½åŠ›</h4>
<p>åˆ›å»ºåº”ç”¨æˆåŠŸä¹‹åä¼šè‡ªåŠ¨æ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œåœ¨"æ·»åŠ åº”ç”¨èƒ½åŠ›"é€‰æ‹©<strong>æœºå™¨äºº</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db81bcae1ba44a08a5bae5a67be983ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=6oVxso2PmqjxPz2Iq0LSlhAtAHc%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 092819.png" loading="lazy"/></p>
<h4 data-id="heading-9">æ­¥éª¤ 4ï¼šé…ç½®æœºå™¨äºº</h4>
<p>æŠŠæœºå™¨äººé…ç½®æ‰“å¼€ï¼Œå¡«å†™ç›¸å…³ä¿¡æ¯ä¹‹åç›´æ¥å‘å¸ƒã€‚</p>
<h4 data-id="heading-10">æ­¥éª¤ 5ï¼šå‘å¸ƒåº”ç”¨</h4>
<p>ç‚¹å‡»<strong>å‡­è¯ä¸åŸºç¡€ä¿¡æ¯</strong> â†’ <strong>æŸ¥çœ‹ç‰ˆæœ¬è¯¦æƒ…</strong> â†’ ç¬¬ä¸€æ¬¡å‘å¸ƒéœ€è¦å¡«å†™è¯¦æƒ… â†’ <strong>ç¡®è®¤å‘å¸ƒ</strong>ä¹‹åå°±èƒ½åœ¨é’‰é’‰é‡Œé¢æœç´¢åˆ°æœºå™¨äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fb3919514c64f9986823f951099e58a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=yEOZYnPKCRctUKqzJC5B65oEGt0%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 101547.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29714bee60d74ec6b6051b3d17470fb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=66ACVfItBlGJrHC2%2FZ88RiPa3I8%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 102127.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/939c2a709949485f8d8b7cc01e3e4068~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=t9iDxX1CynLvta%2BlDUKiMqYIQyY%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 102519.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b88906c76194178ba15c471225ec4ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=pIVIQ6IR1oXZra0h%2BNnClgigpgo%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 102629.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/352d0da6290a446d9813054950cfa7c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=WOsRSzWMet1WrcLpe5AR3BcblTM%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 102841.png" loading="lazy"/></p>
<h4 data-id="heading-11">æ­¥éª¤ 6ï¼šé…ç½®æƒé™ç®¡ç†</h4>
<p>åœ¨åº”ç”¨çš„æƒé™ç®¡ç†é¡µé¢ï¼Œéœ€è¦å¼€å¯ä»¥ä¸‹æƒé™ï¼š</p>
<ul>
<li><strong>âœ… Card.Instance.Write</strong> â€” åˆ›å»ºå’ŒæŠ•æ”¾å¡ç‰‡å®ä¾‹</li>
<li><strong>âœ… Card.Streaming.Write</strong> â€” å¯¹å¡ç‰‡è¿›è¡Œæµå¼æ›´æ–°</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f28e5f9f00964d1fbdd81cc6cec7a8f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=8rgFS%2FnjPaf%2B8r0mgTHykcafT50%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 093616.png" loading="lazy"/></p>
<h4 data-id="heading-12">æ­¥éª¤ 7ï¼šå»ºç«‹å¡ç‰‡æ¨¡æ¿</h4>
<p>å¦‚éœ€ä½¿ç”¨ AI äº’åŠ¨å¡ç‰‡åŠŸèƒ½ï¼Œéœ€è¦åœ¨é’‰é’‰å¡ç‰‡å¹³å°åˆ›å»ºæ¨¡æ¿ï¼š</p>
<ol>
<li>è®¿é—®é’‰é’‰å¡ç‰‡å¹³å°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen-dev.dingtalk.com%2Ffe%2Fcard%3Fspm%3Dding_open_doc.document.0.0.21544a97LNpJiA%26hash%3D%2523%252F%23%2F" target="_blank" title="https://open-dev.dingtalk.com/fe/card?spm=ding_open_doc.document.0.0.21544a97LNpJiA&amp;hash=%23%2F#/" ref="nofollow noopener noreferrer">open-dev.dingtalk.com/fe/card</a></li>
<li>ç‚¹å‡»ã€Œæ–°å»ºæ¨¡æ¿ã€</li>
<li>å¡ç‰‡æ¨¡æ¿åœºæ™¯é€‰æ‹© <strong>ã€ŒAI å¡ç‰‡ã€</strong></li>
<li>æ— éœ€é€‰æ‹©é¢„è®¾æ¨¡æ¿ï¼Œç›´æ¥ç‚¹å‡»ä¿å­˜</li>
<li>å¤åˆ¶æ¨¡æ¿ IDï¼ˆæ ¼å¼å¦‚ï¼šxxxxx-xxxxx-xxxxx.schemaï¼‰</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab53c47147194d1ca4ac821020d8482a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=t304iJKd8ySD7h3eTGv1pdPAqsQ%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 094055.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f4a7915670942e3b420f95ba5bbaed6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=Kiz0V5KGHZDfSe1TdfN5lhM9O34%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 094225.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb71514f0ea04a8e93f1527f516756ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=suclTZ1KhHanIkGIAQJf7%2F52%2F8o%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 132741.png" loading="lazy"/></p>
<h4 data-id="heading-13">æ­¥éª¤ 8ï¼šè·å–å‡­è¯</h4>
<p>ä»å¼€å‘è€…åå°è·å–ä»¥ä¸‹å‡­è¯å¹¶ä¿å­˜ä¸‹æ¥ï¼š</p>
<ul>
<li><strong>Client ID (AppKey)</strong></li>
<li><strong>Client Secret (AppSecret)</strong></li>
<li><strong>Robot Code</strong> (ä¸ Client ID ç›¸åŒ)</li>
<li><strong>Corp ID</strong> (ä¼ä¸š ID)</li>
<li><strong>Agent ID</strong> (åº”ç”¨ ID)</li>
<li><strong>æ¨¡æ¿ ID</strong> (å¡ç‰‡æ¨¡æ¿)</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca19ad352d3f4d22bb5ab6ae8712237d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=3oxcbph07xL%2FnL2yjqn0ac%2F%2BYAY%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 112517.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-14">é…ç½®é€‰é¡¹</h3>



















































































<table><thead><tr><th>é€‰é¡¹</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>enabled</code></td><td>boolean</td><td>true</td><td>æ˜¯å¦å¯ç”¨</td></tr><tr><td><code>clientId</code></td><td>string</td><td>å¿…å¡«</td><td>åº”ç”¨çš„ AppKey</td></tr><tr><td><code>clientSecret</code></td><td>string</td><td>å¿…å¡«</td><td>åº”ç”¨çš„ AppSecret</td></tr><tr><td><code>robotCode</code></td><td>string</td><td>-</td><td>æœºå™¨äººä»£ç </td></tr><tr><td><code>corpId</code></td><td>string</td><td>-</td><td>ä¼ä¸š ID</td></tr><tr><td><code>agentId</code></td><td>string</td><td>-</td><td>åº”ç”¨ ID</td></tr><tr><td><code>dmPolicy</code></td><td>string</td><td>"open"</td><td>ç§èŠç­–ç•¥ï¼šopen/pairing/allowlist</td></tr><tr><td><code>groupPolicy</code></td><td>string</td><td>"open"</td><td>ç¾¤èŠç­–ç•¥ï¼šopen/allowlist</td></tr><tr><td><code>allowFrom</code></td><td>string[]</td><td>[]</td><td>å…è®¸çš„å‘é€è€… ID åˆ—è¡¨</td></tr><tr><td><code>messageType</code></td><td>string</td><td>"markdown"</td><td>æ¶ˆæ¯ç±»å‹ï¼šmarkdown/card</td></tr><tr><td><code>cardTemplateId</code></td><td>string</td><td>"382e4302-551d-4880-bf29-a30acfab2e71.schema"</td><td>AI äº’åŠ¨å¡ç‰‡æ¨¡æ¿ IDï¼ˆä»…å½“ messageType=cardï¼‰</td></tr><tr><td><code>debug</code></td><td>boolean</td><td>false</td><td>æ˜¯å¦å¼€å¯è°ƒè¯•æ—¥å¿—</td></tr></tbody></table>
<h4 data-id="heading-15">å®‰å…¨ç­–ç•¥</h4>
<h5 data-id="heading-16">ç§èŠç­–ç•¥ (dmPolicy)</h5>
<ul>
<li><strong>open</strong> â€” ä»»ä½•äººéƒ½å¯ä»¥ç§èŠæœºå™¨äºº</li>
<li><strong>pairing</strong> â€” æ–°ç”¨æˆ·éœ€è¦é€šè¿‡é…å¯¹ç éªŒè¯</li>
<li><strong>allowlist</strong> â€” åªæœ‰ allowFrom åˆ—è¡¨ä¸­çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨</li>
</ul>
<h5 data-id="heading-17">ç¾¤èŠç­–ç•¥ (groupPolicy)</h5>
<ul>
<li><strong>open</strong> â€” ä»»ä½•ç¾¤éƒ½å¯ä»¥ @æœºå™¨äºº</li>
<li><strong>allowlist</strong> â€” åªæœ‰é…ç½®çš„ç¾¤å¯ä»¥ä½¿ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-18">é…ç½®OpenClaw</h3>
<h4 data-id="heading-19">æ­¥éª¤ 1ï¼šè‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰</h4>
<p>å¦‚æœæœ‰VPNå¯ä»¥ç›´æ¥æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw plugins install https://github.com/soimy/clawdbot-channel-dingtalk.git
</code></pre>
<p>æ²¡æœ‰VPNå°±ç”¨æ‰‹åŠ¨å®‰è£…æ–¹å¼ã€‚</p>
<h4 data-id="heading-20">æ­¥éª¤ 2ï¼šæ‰‹åŠ¨å®‰è£…</h4>
<ol>
<li>æ‰§è¡Œ <code>openclaw plugins list</code> æ‰¾åˆ°ç³»ç»Ÿæ’ä»¶æ‰€åœ¨çš„ç›®å½•ï¼ˆå¦‚ï¼š<code>D:\Program Files\nodejs\node_global\node_modules\openclaw\extensions</code>ï¼‰</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9252180a4b18431d8745ed4f248139c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=aZHYaqXSkRORZdrQeL7JqX7W7QY%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 101019.png" loading="lazy"/></p>
<ol start="2">
<li>
<p>åˆ›å»ºdingtalkç›®å½•ï¼š<code>D:\Program Files\nodejs\node_global\node_modules\openclaw\extensions\dingtalk</code></p>
</li>
<li>
<p>æŠŠopenclaw-channel-dingtalkä¸‹çš„æ–‡ä»¶å¤åˆ¶åˆ°åˆ›å»ºçš„dingtalkç›®å½•</p>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c5d71b559f94bf5bfdc1a35c83452e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=q%2B0YQgxtJi1j1TRtpku5GOVHGco%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 101244.png" loading="lazy"/></p>
<ol start="4">
<li>æ‰“å¼€dingtalkç›®å½•ï¼Œæ‰§è¡Œå®‰è£…ä¾èµ–ï¼š<code>npm install</code></li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e0baae09f564f7990c036ce33b5debb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=jwKb4mmDjJLwULqN2aXegTyax7k%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 104836.png" loading="lazy"/></p>
<ol start="5">
<li>è¿è¡Œ <code>openclaw plugins list</code> ç¡®è®¤ dingtalk å·²æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4375eb19ddeb4a64ab781ce4e4a43632~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=wPguHlPwsEbq4PPb3ScxOJgHxmc%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 101139.png" loading="lazy"/></p>
<h4 data-id="heading-21">æ­¥éª¤ 3ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶</h4>
<p>å¯ä»¥é€šè¿‡ <code>openclaw gateway status</code> æŸ¥çœ‹é…ç½®æ–‡ä»¶ç›®å½•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6056cc622dda4240b939a9a09e8022e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=io6BPcu6yoih%2FRIpb5aSXgC7kSY%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 094621.png" loading="lazy"/></p>
<p>ç¼–è¾‘æ–‡ä»¶ <code>~/.openclaw/openclaw.json</code>ï¼Œæ·»åŠ  dingtalk å­—æ®µå†…å®¹ï¼Œå°†ä¸Šé¢è·å–åˆ°çš„IDå¡«å…¥ç›¸åº”çš„å­—æ®µï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  ...
  <span class="hljs-attr">"channels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"telegram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

    <span class="hljs-attr">"dingtalk"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"clientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dingvex0dgwcce9fexxd"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"clientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-app-secret"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"robotCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dingvex0dgwcce9fexxd"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"corpId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dingvex0dgwcce9fexxd"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"agentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"4250080956"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"dmPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"open"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"groupPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"open"</span><span class="hljs-punctuation">,</span>      
      <span class="hljs-attr">"messageType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"card"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cardTemplateId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1fd68835-1571-4b33-a5d1-1b0c969ae85e.schema"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"debug"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
  ...
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-22">æ­¥éª¤ 4ï¼šé‡å¯æœåŠ¡</h4>
<p>é‡æ–°å¯åŠ¨ï¼š<code>openclaw gateway --port 18789 --verbose</code></p>
<p>æˆ–è€…é‡å¯ Gatewayï¼š<code>openclaw gateway restart</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2952d6191924487f9ef094e62d1b64dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=svRpBgJuVz1xvx4cKwmrz%2B%2FRJD0%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 104932.png" loading="lazy"/></p>
<h4 data-id="heading-23">æ­¥éª¤ 5ï¼šâš ï¸ å¸¸è§é—®é¢˜æç¤º</h4>
<p>å¦‚æœé€šè¿‡ Git æ‹‰å–ä»£ç åï¼ŒAI å›å¤æ— æ³•æ˜¾ç¤ºå¡ç‰‡ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­å‡ºç°ç±»ä¼¼ä»¥ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">04:44:02 <span class="hljs-section">[dingtalk]</span> <span class="hljs-section">[AICard]</span> <span class="hljs-attr">conversationType</span>=<span class="hljs-number">1</span>, conversationId=<span class="hljs-number">20376554481106336</span>
04:44:02 <span class="hljs-section">[dingtalk]</span> <span class="hljs-section">[AICard]</span> POST /v1.0/card/instances/createAndDeliver <span class="hljs-attr">body</span>={<span class="hljs-string">"cardTemplateId"</span>:<span class="hljs-string">"daee59fc-bcf6-4669-873f-b38eec80eaff.schema"</span>,<span class="hljs-string">"outTrackId"</span>:<span class="hljs-string">"card_86f9c23a-906e-41f4-8f5b-fbe5f7a3650a"</span>,<span class="hljs-string">"cardData"</span>:{<span class="hljs-string">"cardParamMap"</span>:{}},<span class="hljs-string">"callbackType"</span>:<span class="hljs-string">"STREAM"</span>,<span class="hljs-string">"imGroupOpenSpaceModel"</span>:{<span class="hljs-string">"supportForward"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"imRobotOpenSpaceModel"</span>:{<span class="hljs-string">"supportForward"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"openSpaceId"</span>:<span class="hljs-string">"dtv1.card//IM_ROBOT.20376554481106336"</span>,<span class="hljs-string">"userIdType"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"imRobotOpenDeliverModel"</span>:{<span class="hljs-string">"spaceType"</span>:<span class="hljs-string">"IM_ROBOT"</span>}}
04:44:03 <span class="hljs-section">[dingtalk]</span> <span class="hljs-section">[AICard]</span> Create failed: Request failed with status code 400
04:44:03 <span class="hljs-section">[dingtalk]</span> <span class="hljs-section">[AICard]</span> Error response: <span class="hljs-attr">status</span>=<span class="hljs-number">400</span> data={<span class="hljs-string">"requestid"</span>:<span class="hljs-string">"D85C4B2D-E655-7412-9FFA-89341F737BAA"</span>,<span class="hljs-string">"code"</span>:<span class="hljs-string">"param.empty"</span>,<span class="hljs-string">"message"</span>:<span class="hljs-string">"param.empty"</span>}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¼–è¾‘ <code>src/channel.ts</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>createAICard</code> æ–¹æ³•ï¼Œå°† <code>cardParamMap: {}</code> æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">cardParamMap</span>: {
  <span class="hljs-comment">// Provide default parameters to avoid empty param error</span>
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>(),
},
</code></pre>
<p>ç„¶åé‡æ–°é‡å¯æœåŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3977eb4115764f3e9b510483a6aef23f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=i19K5fDD5ftLVYeVKaMob%2BSLylU%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 133335.png" loading="lazy"/></p>
<h4 data-id="heading-24">æœ€ç»ˆç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cefa06ce47f34312ab82ad420e1c9d9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770980169&amp;x-signature=BhPVHORzZWFbwNDjrIhIA0oT2IY%3D" alt="å±å¹•æˆªå›¾ 2026-02-06 142551.png" loading="lazy"/></p>
<hr/>
<blockquote>
<p><strong>æ’ä»¶GitHubåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsoimy%2Fopenclaw-channel-dingtalk" target="_blank" title="https://github.com/soimy/openclaw-channel-dingtalk" ref="nofollow noopener noreferrer">github.com/soimy/opencâ€¦</a></p>
</blockquote>
<blockquote>
<p><strong>AI API èšåˆå¹³å°</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com" target="_blank" title="https://ai.32zi.com" ref="nofollow noopener noreferrer">å¿«é€Ÿã€ç¨³å®šã€ä½ä»·</a></p>
</blockquote>
<hr/>
<p><em>é’‰é’‰æœºå™¨äººåº”ç”¨é…ç½®ä¸OpenClawé›†æˆæŒ‡å— | æœ€åæ›´æ–°: 2026å¹´2æœˆ</em></p>
<p><em>æ³¨æ„ï¼šåŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·æ ‡æ˜æ¥å¤„</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsï¼šæ™ºèƒ½ IDE æ­£åœ¨æ€èµ·ä¸€åœºâ€œèƒ½åŠ›æ¨¡å—åŒ–â€é©å‘½]]></title>    <link>https://juejin.cn/post/7603355275258167336</link>    <guid>https://juejin.cn/post/7603355275258167336</guid>    <pubDate>2026-02-06T10:27:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603355275258167336" data-draft-id="7603444191447973922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsï¼šæ™ºèƒ½ IDE æ­£åœ¨æ€èµ·ä¸€åœºâ€œèƒ½åŠ›æ¨¡å—åŒ–â€é©å‘½"/> <meta itemprop="keywords" content="Agent,Cursor,Trae"/> <meta itemprop="datePublished" content="2026-02-06T10:27:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="__ä¸æƒ³è¯´è¯__"/> <meta itemprop="url" content="https://juejin.cn/user/1626932940391191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsï¼šæ™ºèƒ½ IDE æ­£åœ¨æ€èµ·ä¸€åœºâ€œèƒ½åŠ›æ¨¡å—åŒ–â€é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1626932940391191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    __ä¸æƒ³è¯´è¯__
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:27:38.000Z" title="Fri Feb 06 2026 10:27:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»â€œé å˜´æŒ‡æŒ¥â€åˆ°â€œç›´æ¥ä¸Šæ‰‹â€ï¼ŒAI ç»ˆäºå­¦ä¼šåƒå·¥ç¨‹å¸ˆä¸€æ ·å¹²æ´»äº†ã€‚</p>
</blockquote>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc034a943f8c490b8bcd3f42bc89cdb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=NCNNiX%2Bz99q0WoiJgYsJTnPpQ2k%3D" alt="AI ä»èŠå¤©èµ°å‘æ‰§è¡Œ" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€Agent Skills æ˜¯ä»€ä¹ˆï¼ŸğŸ¤”</h2>
<p>å¦‚æœä½ æœ€è¿‘é¢‘ç¹ç© <strong>Cursorã€Claude Codeã€Gemini CLIã€Codex CLIã€Trae</strong> è¿™ç±»â€œæ™ºèƒ½ IDEâ€ï¼Œåº”è¯¥å·²ç»å¯Ÿè§‰åˆ°ä¸€ä¸ªæ˜æ˜¾çš„è¶‹åŠ¿ï¼š</p>
<blockquote>
<p>AI ä¸å†æ»¡è¶³äºâ€œä½ é—®æˆ‘ç­”â€äº†ï¼Œå®ƒå¼€å§‹<strong>ç›´æ¥ä¸Šæ‰‹å¸®ä½ æŠŠäº‹åšå®Œ</strong>ã€‚</p>
</blockquote>
<p>è€Œè®©è¿™ä¸€åˆ‡æˆä¸ºå¯èƒ½çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå°±æ˜¯ <strong>Agent Skills</strong>ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>Agent Skills æ˜¯ä¸€ç»„å¯å¤ç”¨ã€å¯ç»„åˆã€èƒ½è¢« AI ä¸»åŠ¨è°ƒç”¨çš„â€œæŠ€èƒ½åŒ…â€</strong>ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„ Promptï¼Œä¹Ÿä¸åªæ˜¯ä¸€ä¸ª APIï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>ä¸€å¥—<strong>ç»“æ„åŒ–çš„ä»»åŠ¡è¯´æ˜ä¹¦ï¼ˆSOPï¼‰</strong></li>
<li>ä¸€ç»„<strong>å¯ä»¥ç›´æ¥è¿è¡Œçš„è„šæœ¬ã€æ¨¡æ¿æˆ–å·¥å…·</strong></li>
<li>ä¸€ç§<strong>èƒ½è¢« IDE æˆ– AI ç†è§£å¹¶éšæ—¶è°ƒç”¨çš„èƒ½åŠ›æè¿°æ–¹å¼</strong></li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆï¼š</p>
<blockquote>
<p><strong>æ‰”ç»™ AI çš„ä¸€æœ¬ã€Œå²—ä½èŒè´£ + æ“ä½œæ‰‹å†Œã€</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-1">æ¥çœ‹ä¸€ä¸ªçœŸå®çš„ Skill é•¿å•¥æ ·</h3>
<p>åœ¨ Claude / Cursor çš„ç”Ÿæ€é‡Œï¼Œä¸€ä¸ª Skill å…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ ¸å¿ƒæ˜¯é‡Œé¢çš„ <code>SKILL.md</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">.claude/skills/
  react-component-generator/
    SKILL.md
    templates/
    scripts/
</code></pre>
<p><code>SKILL.md</code> çš„å¼€å¤´æ˜¯ YAML é…ç½®ï¼Œåé¢è·Ÿç€ Markdown æ ¼å¼çš„æ‰§è¡ŒæŒ‡å—ï¼š</p>
<pre><code class="hljs language-md" lang="md">---
name: react-component-generator
<span class="hljs-section">description: æ ¹æ®éœ€æ±‚ç”Ÿæˆ React ç»„ä»¶
---</span>

å½“ç”¨æˆ·æè¿°ä¸€ä¸ª UI æˆ–åŠŸèƒ½éœ€æ±‚æ—¶ï¼š
<span class="hljs-bullet">1.</span> åˆ†æç»„ä»¶çš„èŒè´£ä¸ç»“æ„
<span class="hljs-bullet">2.</span> åŒ¹é…åˆé€‚çš„ç»„ä»¶æ¨¡æ¿
<span class="hljs-bullet">3.</span> ç”Ÿæˆç¬¦åˆå½“å‰é¡¹ç›®è§„èŒƒçš„ React ç»„ä»¶ä»£ç 
</code></pre>
<p>AI ä¸å†æ˜¯â€œéšæ„å‘æŒ¥â€ï¼Œè€Œæ˜¯<strong>åœ¨æ˜ç¡®æµç¨‹çº¦æŸä¸‹æ‰§è¡Œä»»åŠ¡ï¼Œå¤§å¹…é™ä½éšæœºæ€§</strong>ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e749bf7bd88f426380cf0ea943909d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=0YEItQwNTNRxj7u1%2Fu4m36CPwEE%3D" alt="Skill = SOP + å·¥å…·ç®±" loading="lazy"/></p>
<h2 data-id="heading-2">äºŒã€æŠ€èƒ½è¿›åŒ–å²ï¼šAgent Skills æ˜¯æ€ä¹ˆæ¥çš„ï¼ŸğŸ“œ</h2>
<p>Agent Skills ä¸æ˜¯çŸ³å¤´ç¼é‡Œè¹¦å‡ºæ¥çš„ï¼Œå®ƒçš„å‡ºç°å…¶å®æ˜¯ä¸€æ¡æ¸…æ™°çš„æŠ€æœ¯æ¼”è¿›è·¯çº¿çš„ç»ˆç‚¹ã€‚</p>
<h3 data-id="heading-3">1ï¸âƒ£ Prompt Engineering æ—¶ä»£ï¼šçº¯é â€œå˜´éâ€</h3>
<p>æ—©æœŸæˆ‘ä»¬åªèƒ½é  Prompt æ¥æŒ‡æŒ¥ AIï¼š</p>
<blockquote>
<p>â€œä½ æ˜¯ä¸€ä¸ªèµ„æ·±å‰ç«¯ï¼Œè¯·æŒ‰ä»¥ä¸‹è§„èŒƒç”Ÿæˆä»£ç â€¦â€¦â€</p>
</blockquote>
<p>ä½†é—®é¢˜å¾ˆæ˜æ˜¾ï¼š</p>
<ul>
<li>ä¸ç¨³å®šï¼ˆä¸Šä¸‹æ–‡ä¸€å˜å°±è·‘åï¼‰</li>
<li>éš¾å¤ç”¨ï¼ˆæ¯æ¬¡éƒ½è¦é‡æ–°è¯´ä¸€éï¼‰</li>
<li>å›¢é˜Ÿç»éªŒæ— æ³•æ²‰æ·€</li>
</ul>
<h3 data-id="heading-4">2ï¸âƒ£ Tool / Function Callingï¼šAI å­¦ä¼šâ€œç”¨å·¥å…·â€äº†</h3>
<p>æ¥ç€å‡ºç°äº† <strong>Toolformerã€Function Calling</strong>ï¼š</p>
<ul>
<li>AI èƒ½è‡ªå·±åˆ¤æ–­â€œä»€ä¹ˆæ—¶å€™è¯¥è°ƒç”¨å·¥å…·â€</li>
<li>è¿˜èƒ½æŠŠå‚æ•°æ•´ç†å¥½ä¼ ç»™å‡½æ•°</li>
</ul>
<p>ä½†ä¾ç„¶å­˜åœ¨ä¸€ä¸ªçŸ­æ¿ï¼š</p>
<blockquote>
<p><strong>å·¥å…·åªå‘Šè¯‰ AIâ€œä½ èƒ½åšä»€ä¹ˆâ€ï¼Œå´æ²¡å‘Šè¯‰å®ƒâ€œä½ åº”è¯¥æ€ä¹ˆåšâ€</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-5">3ï¸âƒ£ Agent + Skillsï¼šå¼€å§‹çœŸæ­£â€œåƒäººä¸€æ ·å·¥ä½œâ€</h3>
<p>Agent Skills è¡¥ä¸Šäº†æœ€åä¸€å—æ‹¼å›¾ï¼š</p>
<ul>
<li>æŠŠ<strong>äººç±»å·¥ç¨‹å¸ˆçš„å·¥ä½œæµ</strong>å›ºåŒ–ä¸‹æ¥</li>
<li>è®© AI é¢å¯¹å¤æ‚ä»»åŠ¡æ—¶ï¼Œæœ‰æ¸…æ™°çš„æ­¥éª¤å¯å¾ª</li>
<li>æ”¯æŒæŒ‰éœ€åŠ è½½æŠ€èƒ½ï¼Œé¿å…â€œä¸€æ¬¡æ€§åƒæˆèƒ–å­â€ï¼ˆä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼‰</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <strong>Claudeã€Cursorã€VSCode Agentã€Trae</strong> éƒ½åœ¨ 2024~2025 å¹´é—´é›†ä½“æ‹¥æŠ±äº† Skills æœºåˆ¶ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28e811de3ef743c0b6417c9dd34ae161~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=LYtIJ2bY7UhIzbbqbsUjzvAE1xs%3D" alt="Prompt vs Skill" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸‰ã€Skills vs MCPï¼šåˆ«å†å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼ğŸš¨</h2>
<p>è¿™æ˜¯å¾ˆå¤šäººå®¹æ˜“ææ··ã€ä½†åˆå¿…é¡»å¼„æ¸…æ¥šçš„ä¸€ä¸ªç‚¹ã€‚</p>
<h3 data-id="heading-7">MCP æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>MCPï¼ˆMulti-agent / Model Context Protocolï¼‰</strong> è§£å†³çš„æ˜¯ï¼š</p>
<blockquote>
<p><strong>Agent æ€ä¹ˆâ€œè¿æ¥å¤–éƒ¨ä¸–ç•Œâ€</strong></p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>è¯»å–æ•°æ®åº“</li>
<li>è°ƒç”¨æœç´¢å¼•æ“</li>
<li>æ“ä½œæµè§ˆå™¨æˆ–æ–‡ä»¶ç³»ç»Ÿ</li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆï¼š</p>
<blockquote>
<p><strong>æ¥å£åè®® / æ•°æ®ç®¡é“ / å¤–è®¾é©±åŠ¨</strong></p>
</blockquote>
<h3 data-id="heading-8">Skills åˆæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Skills è§£å†³çš„åˆ™æ˜¯å¦ä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p><strong>Agent åº”è¯¥â€œæŒ‰ç…§ä»€ä¹ˆæµç¨‹æ­£ç¡®åšäº‹â€</strong></p>
</blockquote>
<h3 data-id="heading-9">ä¸€ä¸ªè¶…å½¢è±¡çš„ç±»æ¯”</h3>

















<table><thead><tr><th>è§’è‰²</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td>MCP</td><td>USB æ¥å£ / API ç½‘å…³</td></tr><tr><td>Skills</td><td>è¯´æ˜ä¹¦ / æ ‡å‡†ä½œä¸šç¨‹åºï¼ˆSOPï¼‰</td></tr></tbody></table>
<p>ğŸ‘‰ <strong>MCP ç®¡çš„æ˜¯â€œèƒ½ä¸èƒ½åšâ€</strong><br/>
ğŸ‘‰ <strong>Skills ç®¡çš„æ˜¯â€œè¯¥æ€ä¹ˆåšâ€</strong></p>
<p>å®ƒä»¬ä¿©æ˜¯<strong>äº’è¡¥å…³ç³»</strong>ï¼Œè€Œä¸æ˜¯è°æ›¿ä»£è°ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6ceb2bee6004074b2103a87f7d8e638~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=OMlz1vBWVxJJGP31u0FLI8IA9y4%3D" alt="MCP vs Skills" loading="lazy"/></p>
<h2 data-id="heading-10">å››ã€ä¸Šæ‰‹å®æˆ˜ï¼šåœ¨æ™ºèƒ½ IDE é‡Œæ€ä¹ˆç©è½¬ Skillsï¼ŸğŸ®</h2>
<p>æˆ‘ä»¬æ‹¿ <strong>Claude Code / Cursor</strong> æ¥ä¸¾ä¸ªå®Œæ•´çš„ä¾‹å­ã€‚</p>
<h3 data-id="heading-11">1ï¸âƒ£ å®‰è£… Skills ç®¡ç†å·¥å…·</h3>
<pre><code class="hljs language-bash" lang="bash">npm install -g openskills
</code></pre>
<h3 data-id="heading-12">2ï¸âƒ£ å®‰è£…å®˜æ–¹æˆ–ç¤¾åŒºçš„ Skills</h3>
<pre><code class="hljs language-bash" lang="bash">openskills install anthropics/skills
</code></pre>
<p>ä½ å¯ä»¥æŒ‘ç€è£…ï¼Œæ¯”å¦‚åªè£…è¿™å‡ ä¸ªï¼š</p>
<ul>
<li>pptx-generatorï¼ˆè‡ªåŠ¨åš PPTï¼‰</li>
<li>git-changelog-analyzerï¼ˆåˆ†æ Git æ—¥å¿—ï¼‰</li>
<li>code-review-helperï¼ˆè¾…åŠ©ä»£ç å®¡æŸ¥ï¼‰</li>
</ul>
<h3 data-id="heading-13">3ï¸âƒ£ ç”Ÿæˆ AGENTS.md ç´¢å¼•æ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">openskills <span class="hljs-built_in">sync</span>
</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶éå¸¸å…³é”®ï¼š</p>
<blockquote>
<p><strong>å®ƒå°±åƒæ˜¯ AI çš„â€œæŠ€èƒ½æ¸…å•â€</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-14">4ï¸âƒ£ å®é™…ä½“éªŒï¼šä¸€å¥è¯è®© AI å¹²æ´»</h3>
<p>åœ¨ Cursor / Claude Code é‡Œç›´æ¥è¾“å…¥ï¼š</p>
<blockquote>
<p>ç”¨ <code>pptx</code> skillï¼ŒåŸºäºæœ€è¿‘ 10 æ¬¡ git commitï¼Œç”Ÿæˆä¸€ä»½æŠ€æœ¯å‘¨æŠ¥ PPT</p>
</blockquote>
<p>æ¥ä¸‹æ¥ AI ä¼šè‡ªåŠ¨ï¼š</p>
<ol>
<li>æŸ¥çœ‹ AGENTS.md</li>
<li>æ‰¾åˆ° pptx è¿™ä¸ªæŠ€èƒ½</li>
<li>æ‹‰å– git æ—¥å¿—</li>
<li>è°ƒç”¨æ¨¡æ¿å’Œè„šæœ¬ç”Ÿæˆ PPT æ–‡ä»¶</li>
</ol>
<p>å…¨ç¨‹<strong>æ— éœ€ä½ å†æ‰‹å†™ä»»ä½•ä¸€å¥ Prompt</strong>ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbc50e73d6884fc7b1f45768d4208ad1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=hBZmWXtFR6%2BdVj0dut5g7QMdEmM%3D" alt="Skill è°ƒç”¨æµç¨‹" loading="lazy"/></p>
<h2 data-id="heading-15">äº”ã€çœŸå®åœºæ™¯ï¼šSkills èƒ½ç”¨æ¥åšä»€ä¹ˆï¼ŸğŸ’¼</h2>
<p>è¿™é‡Œæ‰æ˜¯ Agent Skills çœŸæ­£è®©äººå…´å¥‹ï¼ˆç”šè‡³æœ‰ç‚¹å“äººï¼‰çš„åœ°æ–¹ã€‚</p>
<h3 data-id="heading-16">ğŸ§© å¯¹å¼€å‘è€…</h3>
<ul>
<li>ç»Ÿä¸€é¡¹ç›®ä»£ç é£æ ¼ï¼ˆESLint + Prettier è‡ªåŠ¨åŒ–ï¼‰</li>
<li>è‡ªåŠ¨ç”Ÿæˆç»„ä»¶ã€API å±‚ã€Mock æ•°æ®</li>
<li>ä¸€é”®è¡¥å…¨å•å…ƒæµ‹è¯•</li>
<li>æŒ‰å›¢é˜Ÿè§„èŒƒæ‰¹é‡é‡æ„ä»£ç </li>
</ul>
<h3 data-id="heading-17">ğŸ“¦ å¯¹äº§å“ä¸æŠ€æœ¯ç®¡ç†è€…</h3>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆ PRD / æŠ€æœ¯æ–¹æ¡ˆæ¡†æ¶</li>
<li>ç‰ˆæœ¬å‘å¸ƒè‡ªåŠ¨ç”Ÿæˆå˜æ›´è¯´æ˜</li>
<li>å®šæœŸç”ŸæˆæŠ€æœ¯å‘¨æŠ¥ã€æœˆæŠ¥</li>
</ul>
<h3 data-id="heading-18">ğŸ›  å¯¹å›¢é˜Ÿåä½œ</h3>
<ul>
<li>æŠŠå›¢é˜Ÿå¤§ä½¬çš„ç»éªŒå°è£…æˆ Skill</li>
<li>æ–°äººå…¥èŒç›´æ¥â€œåŠ è½½æŠ€èƒ½åŒ…â€</li>
<li>AI åŒ–èº«çœŸæ­£èƒ½å¹²çš„â€œè™šæ‹ŸåŒäº‹â€</li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>åªè¦ä½ èƒ½å†™æˆæ ‡å‡†æµç¨‹çš„æ´»å„¿ï¼Œéƒ½æœ‰å¯èƒ½å˜æˆä¸€ä¸ª Skillã€‚</strong></p>
</blockquote>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5a3cac3ea0d4862870d1e3de88826f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX1_kuI3mg7Por7Tor51fXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770978458&amp;x-signature=j1DS9S3gwu3UFuoVpBdJu95lojs%3D" alt="Skills åº”ç”¨åœºæ™¯" loading="lazy"/></p>
<h2 data-id="heading-19">å…­ã€å†·é™ä¸€ä¸‹ï¼šSkills çš„éšæ‚£ä¸æœªæ¥ âš ï¸</h2>
<p>èƒ½åŠ›è¶Šå¼ºï¼Œè´£ä»»è¶Šå¤§ï¼Œé£é™©ä¹Ÿè¶ŠçœŸå®ã€‚</p>
<h3 data-id="heading-20">âš ï¸ å·²ç»éœ²å¤´çš„é£é™©</h3>
<ul>
<li>æ¶æ„ Skill å·å·æ³¨å…¥å±é™©æŒ‡ä»¤</li>
<li>ä¸€æ¬¡æˆæƒï¼ŒAI å°±å¯èƒ½é•¿æœŸâ€œå¤±æ§â€</li>
<li>è¯±å¯¼ AI æ‰§è¡Œé«˜æƒé™æ“ä½œï¼ˆæ¯”å¦‚è¯» SSH Keyã€è·‘ç³»ç»Ÿå‘½ä»¤ï¼‰</li>
</ul>
<p>ç°å®ä¸­å·²æœ‰å®‰å…¨å›¢é˜Ÿè­¦å‘Šï¼š</p>
<blockquote>
<p>éƒ¨åˆ† Skill å¯åœ¨ç”¨æˆ·æ— æ„ŸçŸ¥çš„æƒ…å†µä¸‹ï¼Œè¯»å–æ•æ„Ÿæ–‡ä»¶æˆ–æ‰§è¡Œå‘½ä»¤ã€‚</p>
</blockquote>
<h3 data-id="heading-21">ğŸ›¡ï¸ å¿…é¡»è¡¥ä¸Šçš„é˜²æŠ¤</h3>
<ul>
<li>Skill æƒé™åˆ†çº§ç®¡ç†</li>
<li>è„šæœ¬åœ¨æ²™ç®±ä¸­æ‰§è¡Œ</li>
<li>å®‰å…¨æ‰«æä¸å®¡æ ¸æœºåˆ¶</li>
<li>å…³é”®æ“ä½œéœ€äººç±»ç¡®è®¤</li>
</ul>
<h3 data-id="heading-22">ğŸŒ± æœªæ¥çš„æƒ³è±¡ç©ºé—´</h3>
<ul>
<li>Skill åº”ç”¨å•†åº— &amp; è¡Œä¸šæ ‡å‡†</li>
<li>ä¸€æ¬¡å¼€å‘ï¼Œå¤š IDE é€šç”¨</li>
<li>ä¼ä¸šç§æœ‰ Skill ä»“åº“</li>
<li>Skill + MCP + Agent çš„å®Œæ•´å·¥ç¨‹ä½“ç³»</li>
</ul>
<hr/>
<h2 data-id="heading-23">å†™åœ¨æœ€å âœ¨</h2>
<p>å¦‚æœä½ æœ€è¿‘è§‰å¾—ï¼š</p>
<blockquote>
<p>â€œAI ç»ˆäºåƒä¸ªé è°±çš„å·¥ç¨‹å¸ˆäº†â€</p>
</blockquote>
<p>é‚£å¾ˆå¯èƒ½æ˜¯å› ä¸ºï¼š</p>
<blockquote>
<p><strong>å®ƒä¸å†åªæ˜¯ä¸€ä¸ªè¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªè£…å¤‡äº† Skills çš„æ™ºèƒ½ä½“ã€‚</strong></p>
</blockquote>
<p>ä¸‹ä¸€é˜¶æ®µçš„ç«äº‰ï¼Œæˆ–è®¸ä¸å†æ˜¯æ¯”è°çš„ Prompt å†™å¾—å¦™ï¼Œ
è€Œæ˜¯çœ‹è°<strong>æ›´ä¼šç»™ AI è®¾è®¡â€œæŠ€èƒ½æ¶æ„â€</strong>ã€‚</p>
<p>æ¬¢è¿ä»ä»Šå¤©å¼€å§‹ï¼Œ</p>
<blockquote>
<p><strong>å°‘å†™ Promptï¼Œå¤šå†™ Skillsã€‚</strong> ğŸš€</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆå»ºè®®æŠŠ map æ¢æˆ for loopï¼Ÿâ€”â€” èŠèŠ Side Effects ä¸è¯­ä¹‰åŒ–ç¼–ç¨‹]]></title>    <link>https://juejin.cn/post/7603352117639168009</link>    <guid>https://juejin.cn/post/7603352117639168009</guid>    <pubDate>2026-02-06T08:55:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603352117639168009" data-draft-id="7603309951227379762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆå»ºè®®æŠŠ map æ¢æˆ for loopï¼Ÿâ€”â€” èŠèŠ Side Effects ä¸è¯­ä¹‰åŒ–ç¼–ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:55:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gogo1121"/> <meta itemprop="url" content="https://juejin.cn/user/4162081326907051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆå»ºè®®æŠŠ map æ¢æˆ for loopï¼Ÿâ€”â€” èŠèŠ Side Effects ä¸è¯­ä¹‰åŒ–ç¼–ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4162081326907051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Gogo1121
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:55:12.000Z" title="Fri Feb 06 2026 08:55:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>åœ¨è¿›è¡Œä»£ç å®¡æŸ¥ï¼ˆCode Reviewï¼‰æ—¶ï¼Œä½ æ˜¯å¦æ”¶åˆ°è¿‡è¿™æ ·çš„è¯„è®ºï¼š</p>
<blockquote>
<p><strong>â€œè¿™é‡Œçš„ side effect ä¼šä¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨ for loopï¼Ÿâ€</strong></p>
</blockquote>
<p>å½“æ—¶çš„æˆ‘å¿ƒé‡Œæƒ³ï¼šâ€œåæ­£ä»£ç éƒ½èƒ½è·‘ï¼Œ<code>map</code> å’Œ <code>for</code> æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ<code>map</code> å†™èµ·æ¥ä¸æ˜¯æ›´çŸ­æ›´å¸…å—ï¼Ÿâ€</p>
<p>è¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºäº†è§£ç­”è¿™ä¸ªç–‘æƒ‘ã€‚è¿™ä¸ä»…ä»…æ˜¯ä»£ç é£æ ¼çš„é—®é¢˜ï¼Œæ›´å…³ä¹<strong>ä»£ç çš„å¯è¯»æ€§ï¼ˆè¯­ä¹‰ï¼‰</strong> ã€<strong>æ€§èƒ½ï¼ˆå†…å­˜ï¼‰ä»¥åŠå‡½æ•°å¼ç¼–ç¨‹çš„åŸåˆ™</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä»€ä¹ˆæ˜¯ Side Effectï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Ÿ</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å¬æ‡‚â€œè¡Œè¯â€ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œ<strong>Side Effect</strong> æŒ‡çš„æ˜¯ä¸€ä¸ªå‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé™¤äº†è¿”å›ç»“æœä¹‹å¤–ï¼Œè¿˜<strong>æ”¹å˜äº†å¤–éƒ¨çš„ä¸–ç•Œ</strong>ã€‚</p>
<ul>
<li>
<p><strong>çº¯å‡½æ•° (Pure Function)</strong> ï¼šè¾“å…¥ <code>2</code>ï¼Œè¾“å‡º <code>4</code>ã€‚ä¸ä¿®æ”¹ä»»ä½•å¤–éƒ¨å˜é‡ï¼Œä¸è¯»å†™æ•°æ®åº“ï¼Œä¸æ‰“å°æ—¥å¿—ã€‚åƒæ•°å­¦å…¬å¼ä¸€æ ·çº¯ç²¹ã€‚</p>
</li>
<li>
<p><strong>æœ‰å‰¯ä½œç”¨ (Side Effect)</strong> ï¼š</p>
<ul>
<li>ä¿®æ”¹äº†å¤–éƒ¨å®šä¹‰çš„å˜é‡ï¼ˆå¦‚ <code>total += 1</code>ï¼‰ã€‚</li>
<li>å†™å…¥æ•°æ®åº“ï¼ˆDB Insert/Updateï¼‰ã€‚</li>
<li>å‘é€ç½‘ç»œè¯·æ±‚ï¼ˆAPI Callï¼‰ã€‚</li>
<li>æ‰“å°æ—¥å¿—ï¼ˆ<code>console.log</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>Reviewer çš„æ½œå°è¯ï¼š</strong> â€œæˆ‘çœ‹ä½ åœ¨éå†æ•°ç»„æ—¶ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†æŠŠ A å˜æˆ Bï¼Œè€Œæ˜¯ä¸ºäº†æ‹¿ A å»åšä¸€äº›æ“ä½œï¼ˆæ¯”å¦‚å­˜åº“ï¼‰ã€‚è¿™ç§æƒ…å†µï¼Œè¯·ä¸è¦ç”¨ <code>map</code>ã€‚â€</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ <code>map</code> vs <code>for</code>ï¼šçœ‹ä¼¼ä¸€æ ·ï¼Œå®åˆ™èƒŒé“è€Œé©°</h2>
<p>è™½ç„¶å®ƒä»¬éƒ½èƒ½éå†æ•°ç»„ï¼Œä½†å®ƒä»¬åœ¨**è®¾è®¡åˆè¡·ï¼ˆè¯­ä¹‰ï¼‰**ä¸Šæ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p>
<h3 data-id="heading-2">1. <code>map</code> çš„å¥‘çº¦ï¼šæˆ‘åªè´Ÿè´£â€œè½¬æ¢â€</h3>
<p><code>map</code> æ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ˆFunctional Programmingï¼‰çš„æ˜æ˜Ÿå·¥å…·ã€‚å®ƒçš„åå­—æ¥æºäºæ•°å­¦ä¸­çš„â€œæ˜ å°„â€ï¼ˆMappingï¼‰ã€‚</p>
<ul>
<li><strong>è¯­ä¹‰</strong>ï¼šç»™æˆ‘ä¸€ä¸ªæ•°ç»„ <code>[A, B, C]</code>ï¼Œæˆ‘ç»™ä½ è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ <code>[A', B', C']</code>ã€‚</li>
<li><strong>æ½œè§„åˆ™</strong>ï¼š<strong>ä¸€å®šè¦æœ‰è¿”å›å€¼</strong>ï¼Œä¸”<strong>ä¸è¦ä¿®æ”¹åŸå§‹æ•°æ®</strong>ã€‚</li>
</ul>
<h3 data-id="heading-3">2. <code>for</code> / <code>forEach</code> çš„å¥‘çº¦ï¼šæˆ‘åªè´Ÿè´£â€œæ‰§è¡Œâ€</h3>
<p><code>for</code> å¾ªç¯ï¼ˆåŒ…æ‹¬ <code>for...of</code>ï¼‰æ˜¯æŒ‡ä»¤å¼ç¼–ç¨‹ï¼ˆImperative Programmingï¼‰çš„å·¥å…·ã€‚</p>
<ul>
<li><strong>è¯­ä¹‰</strong>ï¼šå¯¹ç€æ•°ç»„é‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå»<strong>æ‰§è¡Œ</strong>ä¸€æ®µé€»è¾‘ã€‚</li>
<li><strong>æ½œè§„åˆ™</strong>ï¼šæˆ‘ä¸å…³å¿ƒè¿”å›å€¼ï¼Œæˆ‘åªå…³å¿ƒè¿‡ç¨‹ï¼ˆæ¯”å¦‚å­˜åº“ã€å‘é‚®ä»¶ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€ ä¸ºä»€ä¹ˆç”¨ <code>map</code> å¤„ç†å‰¯ä½œç”¨è¢«è§†ä¸º Anti-patternï¼ˆåæ¨¡å¼ï¼‰ï¼Ÿ</h2>
<p>å¦‚æœä½ å†™äº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// âŒ è¢«åæ§½çš„å†™æ³•
const <span class="hljs-attr">userIds</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>

userIds.map(<span class="hljs-attr">id</span> =&gt; {
  db.updateStatus(id, 'active')<span class="hljs-comment">; // &lt;--- è¿™å°±æ˜¯ Side Effect</span>
  // æ²¡æœ‰ returnï¼Œæˆ–è€… return äº†ä¸€ä¸ªæ²¡ç”¨çš„ä¸œè¥¿
})<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Reviewer çœ‹åˆ°è¿™æ®µä»£ç ä¼šæœ‰ä¸‰ä¸ªå±‚é¢çš„æ‹…å¿§ï¼š</p>
<h3 data-id="heading-5">1. è¯¯å¯¼é˜…è¯»è€…ï¼ˆè¯­ä¹‰é”™è¯¯ï¼‰</h3>
<p>ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ã€‚ å½“ä½ ä½¿ç”¨ <code>map</code> æ—¶ï¼Œé˜…è¯»ä»£ç çš„äººä¼šé¢„æœŸï¼šâ€œå“¦ï¼Œè¿™é‡Œåœ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®åˆ—è¡¨ã€‚â€ ç»“æœçœ‹äº†ä¸€åœˆå‘ç°ï¼Œä½ å¹¶æ²¡æœ‰ä½¿ç”¨ <code>map</code> çš„è¿”å›å€¼ï¼Œåªæ˜¯åœ¨é‡Œé¢å¹²æ´»ã€‚è¿™å°±åƒæ˜¯ä½ <strong>é›‡äº†ä¸€ä¸ªé¡¶çº§å¤§å¨ï¼ˆmapï¼‰ï¼Œå´è®©ä»–å»é€å¿«é€’ï¼ˆside effectï¼‰</strong> â€”â€”è™½ç„¶ä»–ä¹Ÿèƒ½é€ï¼Œä½†è®©äººè§‰å¾—å¾ˆè¿å’Œã€‚</p>
<h3 data-id="heading-6">2. å†…å­˜æµªè´¹ï¼ˆæ€§èƒ½éšæ‚£ï¼‰</h3>
<p>è¿™æ˜¯å®æ‰“å®çš„æŠ€æœ¯é—®é¢˜ã€‚ <code>map</code> å‡½æ•°<strong>ä¸€å®šä¼š</strong>åœ¨å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚</p>
<ul>
<li>å¦‚æœä½ ç”¨ <code>map</code> éå† 10,000 ä¸ªç”¨æˆ·å»å‘é‚®ä»¶ï¼Œé€šè¿‡ <code>map</code> ä½ ä¼šéšå¼åœ°åˆ›å»ºäº†ä¸€ä¸ªåŒ…å« 10,000 ä¸ª <code>undefined</code>ï¼ˆå› ä¸ºä½ æ²¡ returnï¼‰çš„æ•°ç»„ã€‚</li>
<li>è¿™ä¸ªæ•°ç»„åˆ›å»ºå®Œç«‹åˆ»å°±è¢«æ‰”æ‰ç­‰å¾…åƒåœ¾å›æ”¶ï¼ˆGCï¼‰ã€‚</li>
<li><strong>ç»“è®º</strong>ï¼šä½ åœ¨æµªè´¹å†…å­˜ï¼Œç»™ GC å¢åŠ å‹åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-7">3. Async/Await çš„é™·é˜±</h3>
<p>åœ¨åç«¯å¼€å‘ä¸­ï¼Œè¿™å°¤ä¸ºè‡´å‘½ã€‚</p>
<pre><code class="hljs language-python" lang="python">// âŒ å±é™©çš„ <span class="hljs-built_in">map</span> å†™æ³•
ids.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">async</span> (<span class="hljs-built_in">id</span>) =&gt; {
  <span class="hljs-keyword">await</span> db.delete(<span class="hljs-built_in">id</span>);
});
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä¸Šé¢è¿™æ®µä»£ç <strong>ä¸ä¼š</strong>ç­‰å¾…æ•°æ®åº“åˆ é™¤å®Œæˆï¼<code>map</code> ä¼šç¬é—´æ‰§è¡Œå®Œï¼Œè¿”å›ä¸€å † <code>Promise</code>ï¼Œè€Œä½ çš„ä¸»ç¨‹åºä¼šç»§ç»­å¾€ä¸‹è·‘ã€‚</p>
<p>å¦‚æœè¦ç­‰å¾…ï¼Œå¿…é¡»é…åˆ <code>Promise.all</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python">// âœ… å¦‚æœè¦å¹¶å‘ï¼Œä¸”ä¸€å®šè¦ç”¨ <span class="hljs-built_in">map</span>
<span class="hljs-keyword">await</span> Promise.<span class="hljs-built_in">all</span>(ids.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">async</span> (<span class="hljs-built_in">id</span>) =&gt; <span class="hljs-keyword">await</span> db.delete(<span class="hljs-built_in">id</span>)));
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä½†å¦‚æœä½ æƒ³è¦<strong>æŒ‰é¡ºåº</strong>ä¸€ä¸ªä¸€ä¸ªåˆ ï¼ˆé¿å…æŠŠæ•°æ®åº“æ‰“æŒ‚ï¼‰ï¼Œ<code>map</code> åšä¸åˆ°ï¼Œå¿…é¡»ç”¨ <code>for...of</code>ã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€ æœ€ä½³å®è·µï¼šå¦‚ä½•ä¿®æ”¹ï¼Ÿ</h2>
<p>é’ˆå¯¹ Reviewer çš„å»ºè®®ï¼Œå¯ä»¥æ ¹æ®åœºæ™¯é€‰æ‹©ä»¥ä¸‹ä¸¤ç§æ”¹æ³•ï¼š</p>
<h3 data-id="heading-9">åœºæ™¯ Aï¼šçº¯åŒæ­¥æ“ä½œ / ä¸éœ€è¦ç­‰å¾…ç»“æœ</h3>
<p>ä½¿ç”¨ <code>forEach</code> æˆ– <code>for...of</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… è¯­ä¹‰æ¸…æ™°ï¼šæˆ‘åœ¨å¯¹æ¯ä¸ª ID æ‰§è¡Œæ“ä½œ</span>
userIds.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processing user <span class="hljs-subst">${id}</span>`</span>);
});
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-10">åœºæ™¯ Bï¼šå¼‚æ­¥æ“ä½œï¼ˆæ•°æ®åº“/APIï¼‰â€”â€” <strong>æœ€æ¨è</strong></h3>
<p>ç°ä»£ JavaScript/TypeScript å¼€å‘ä¸­ï¼Œ<code>for...of</code> æ˜¯å¤„ç†å¼‚æ­¥å‰¯ä½œç”¨çš„ç¥å™¨</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// âœ… è¯­ä¹‰æ¸…æ™°ï¼Œä¸”æ”¯æŒ await é¡ºåºæ‰§è¡Œ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> id of userIds) {
  <span class="hljs-comment">// åªæœ‰ä¸Šä¸€ä¸ª update å®Œæˆäº†ï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ª</span>
  <span class="hljs-keyword">await</span> db.updateStatus(id, <span class="hljs-string">'active'</span>); 
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-11">äº”ã€ æ€»ç»“</h2>
<p>ä¸‹æ¬¡å½“ä½ æ‰‹æŒ‡æ”¾åœ¨é”®ç›˜ä¸Šå‡†å¤‡æ•²ä¸‹ <code>.map</code> æ—¶ï¼Œåœä¸‹æ¥é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p><strong>â€œæˆ‘æ˜¯æƒ³è¦æ ¹æ®æ—§æ•°ç»„ã€ç”Ÿæˆã€‘ä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿˜æ˜¯æƒ³è¦ç”¨è¿™äº›æ•°æ®å»ã€åšã€‘ä¸€äº›äº‹æƒ…ï¼Ÿâ€</strong></p>
<ul>
<li>å¦‚æœæ˜¯<strong>ç”Ÿæˆ</strong>æ•°æ®ï¼ˆè½¬æ¢ï¼‰ï¼šè¯·ç”¨ <code>map</code>ã€‚</li>
<li>å¦‚æœæ˜¯<strong>åš</strong>äº‹æƒ…ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼šè¯·ç”¨ <code>for...of</code> æˆ– <code>forEach</code>ã€‚</li>
</ul>
<p>è¿™ä¸ä»…ä»…æ˜¯ä»£ç èƒ½ä¸èƒ½è·‘çš„åŒºåˆ«ï¼Œæ›´æ˜¯ä»â€œå†™ä»£ç çš„äººâ€è¿›é˜¶åˆ°â€œå·¥ç¨‹å¸ˆâ€çš„å¿…ç»ä¹‹è·¯ï¼š<strong>ç²¾å‡†åœ°ä½¿ç”¨å·¥å…·ï¼Œè¡¨è¾¾æ¸…æ™°çš„æ„å›¾ã€‚</strong></p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ä¸çŸ¥é“çš„JSä¸Š-ï¼ˆå…«ï¼‰]]></title>    <link>https://juejin.cn/post/7603444191447990306</link>    <guid>https://juejin.cn/post/7603444191447990306</guid>    <pubDate>2026-02-06T08:55:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191447990306" data-draft-id="7603444191447924770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ ä¸çŸ¥é“çš„JSä¸Š-ï¼ˆå…«ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-06T08:55:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·1443618340097"/> <meta itemprop="url" content="https://juejin.cn/user/2782223226650328"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ ä¸çŸ¥é“çš„JSä¸Š-ï¼ˆå…«ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2782223226650328/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·1443618340097
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:55:26.000Z" title="Fri Feb 06 2026 08:55:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">this å’Œå¯¹è±¡åŸå‹</h2>
<h3 data-id="heading-1">å¯¹è±¡</h3>
<h4 data-id="heading-2">è¯­æ³•</h4>
<p>å¯¹è±¡å¯ä»¥é€šè¿‡ä¸¤ç§å½¢å¼å®šä¹‰ï¼šå£°æ˜ï¼ˆæ–‡å­—ï¼‰å½¢å¼å’Œæ„é€ å½¢å¼ã€‚</p>
<p>æ–‡å­—è¯­æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObj = {
  <span class="hljs-attr">key</span>: value,
  <span class="hljs-comment">//...</span>
};
</code></pre>
<p>æ„é€ è¯­æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();
myObj.<span class="hljs-property">key</span> = value;
</code></pre>
<p>æ„é€ å½¢å¼å’Œæ–‡å­—å½¢å¼çš„åŒºåˆ«å°±æ˜¯ï¼Œæ–‡å­—å£°æ˜ä¸­å¯ä»¥æ·»åŠ å¤šä¸ªå¥/å€¼å¯¹ï¼Œæ„é€ è¯­æ³•åªèƒ½é€ä¸ªæ·»åŠ ã€‚</p>
<h4 data-id="heading-3">ç±»å‹</h4>
<p>å¯¹è±¡æ˜¯JavaScriptçš„åŸºç¡€ã€‚åœ¨JavaScriptä¸­ä¸€ä¸ªæœ‰å…­ç§ä¸»è¦ç±»å‹ï¼ˆæœ¯è¯­æ˜¯â€œè¯­è¨€ç±»å‹â€ï¼‰ï¼šstringã€numberã€booleanã€nullã€undefinedã€object</p>
<p>æ³¨æ„ï¼Œç®€å•åŸºæœ¬ç±»å‹æœ¬èº«å¹¶ä¸æ˜¯å¯¹è±¡ã€‚nullæœ‰æ—¶ä¼šè¢«å½“ä½œä¸€ç§å¯¹è±¡ç±»å‹ï¼Œä½†è¿™æ˜¯è¯­è¨€æœ¬èº«çš„ä¸€ä¸ªbugï¼Œå³å¯¹nullæ‰§è¡Œtypeof nullæ—¶ä¼šè¿”å›å­—ç¬¦ä¸²â€œobjectâ€ã€‚nullæœ¬èº«æ˜¯åŸºæœ¬ç±»å‹ã€‚</p>
<p>å®é™…ä¸Šï¼ŒJSä¸­æœ‰è®¸å¤šç‰¹æ®Šçš„å¯¹è±¡å­ç±»å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¤æ‚åŸºæœ¬ç±»å‹ã€‚</p>
<p>å‡½æ•°ã€æ•°ç»„éƒ½æ˜¯å¯¹è±¡çš„ä¸€ç§ç±»å‹ã€‚</p>
<h5 data-id="heading-4">å†…ç½®å¯¹è±¡</h5>
<p>JSä¸­è¿˜æœ‰ä¸€äº›å¯¹è±¡å­ç±»å‹ï¼Œé€šå¸¸è¢«ç§°ä¸ºå†…ç½®å¯¹è±¡ã€‚æœ‰äº›å†…ç½®å¯¹è±¡çš„åå­—çœ‹èµ·æ¥å’ŒåŸºç¡€ç±»å‹ä¸€æ ·ï¼Œä¸è¿‡å®ƒä»¬çš„å…³ç³»æ›´åŠ å¤æ‚ã€‚Stringã€Numberã€Booleanã€Objectã€Functionã€Arrayã€Dateã€RegExpã€Errorã€‚</p>
<p>è¿™äº›å†…ç½®å¯¹è±¡ä»è¡¨ç°å½¢å¼ä¸Šå’Œå…¶ä»–è¯­è¨€ä¸­çš„ç±»å‹ï¼ˆtypeï¼‰æˆ–è€…ç±»ï¼ˆclassï¼‰å¾ˆåƒï¼Œæ¯”å¦‚Javaä¸­çš„Stringç±»ã€‚</p>
<p>ä½†åœ¨JSä¸­ï¼Œå®ƒä»¬å®é™…ä¸Šåªæ˜¯ä¸€äº›å†…ç½®å‡½æ•°ã€‚è¿™äº›å†…ç½®å‡½æ•°å¯ä»¥å½“ä½œæ„é€ å‡½æ•°æ¥ä½¿ç”¨ï¼Œä»è€Œæ„é€ ä¸€ä¸ªå¯¹åº”å­ç±»å‹çš„æ–°å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> strPrimitive = <span class="hljs-string">"I am a String"</span>;
<span class="hljs-keyword">typeof</span> strPrimitive; <span class="hljs-comment">// "string"</span>
strPrimitive <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span>; <span class="hljs-comment">// false</span>

<span class="hljs-keyword">var</span> strObject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"I am a String"</span>);
<span class="hljs-keyword">typeof</span> strObject; <span class="hljs-comment">// "object"</span>
strObject <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span>; <span class="hljs-comment">// true</span>

<span class="hljs-comment">// æ£€æŸ¥sub-typeå¯¹è±¡</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(strObject); <span class="hljs-comment">// [object String]</span>
</code></pre>
<p>åŸå§‹å€¼"I am a String"å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå­—é¢é‡ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªä¸å¯å˜çš„å€¼ã€‚è¯­è¨€ä¼šè‡ªåŠ¨æŠŠå­—ç¬¦ä¸²å­—é¢é‡è½¬æ¢æˆä¸€ä¸ªStringå¯¹è±¡ä»¥ä¾¿å¯¹å…¶æ‰§è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è·å–é•¿åº¦ã€è®¿é—®å…¶ä¸­æŸä¸ªå­—ç¬¦ç­‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> strPrimitive = <span class="hljs-string">"I am a String"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strPrimitive.<span class="hljs-property">length</span>); <span class="hljs-comment">// 13</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strPrimitive.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">3</span>)); <span class="hljs-comment">// "m"</span>
</code></pre>
<p>åŒæ ·çš„äº‹ä¹Ÿä¼šå‘ç”Ÿåœ¨æ•°å€¼å­—é¢é‡å’Œå¸ƒå°”å­—é¢é‡ä¸Šã€‚</p>
<p>nullå’Œundefinedæ²¡æœ‰å¯¹åº”çš„æ„é€ å½¢å¼ï¼Œå®ƒä»¬åªæœ‰æ–‡å­—å½¢å¼ã€‚ç›¸åï¼ŒDateåªæœ‰æ„é€ ï¼Œæ²¡æœ‰æ–‡å­—å½¢å¼ã€‚</p>
<p>å¯¹äºObjectã€Arrayã€Functionå’ŒRegExpæ¥è¯´ï¼Œæ— è®ºä½¿ç”¨æ–‡å­—è¿˜æ˜¯æ„é€ å½¢å¼ï¼Œå®ƒä»¬éƒ½æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å­—é¢é‡ã€‚</p>
<p>Errorå¯¹è±¡å¾ˆå°‘åœ¨ä»£ç ä¸­æ˜¾ç¤ºåˆ›å»ºï¼Œä¸€èˆ¬æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸æ—¶è¢«è‡ªåŠ¨åˆ›å»ºã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨new Error(..)æ¥åˆ›å»ºã€‚</p>
<h4 data-id="heading-5">å†…å®¹</h4>
<p>å¯¹è±¡çš„å†…å®¹æ˜¯ç”±ä¸€äº›å­˜å‚¨åœ¨ç‰¹åœ°å‘½åä½ç½®çš„ï¼ˆä»»æ„ç±»å‹çš„ï¼‰å€¼ç»„æˆçš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå±æ€§ã€‚</p>
<p>åœ¨å¼•æ“å†…éƒ¨ï¼Œå±æ€§çš„å­˜å‚¨æ–¹å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œä¸€èˆ¬å¹¶ä¸ä¼šå­˜åœ¨å¯¹è±¡å®¹å™¨å†…éƒ¨ã€‚å­˜å‚¨åœ¨å¯¹è±¡å®¹å™¨å†…éƒ¨çš„æ˜¯è¿™äº›å±æ€§çš„åç§°ï¼Œå®ƒä»¬å°±åƒæŒ‡é’ˆï¼ˆä»æŠ€æœ¯è§’åº¦æ¥è¯´å°±æ˜¯å¼•ç”¨ï¼‰ä¸€æ ·ï¼ŒæŒ‡å‘è¿™äº›å€¼çœŸæ­£çš„å­˜å‚¨ä½ç½®ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
};

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>

myObject[<span class="hljs-string">"a"</span>]; <span class="hljs-comment">// 2</span>
</code></pre>
<p>â€œ.aâ€è¯­æ³•é€šå¸¸è¢«ç§°ä¸ºâ€œå±æ€§è®¿é—®â€ï¼Œâ€œ["a"]â€è¯­æ³•é€šå¸¸è¢«ç§°ä¸ºâ€œé”®è®¿é—®â€ã€‚å®ƒä»¬è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªä½ç½®ã€‚</p>
<p>ä¸¤ç§è¯­æ³•çš„ä¸»è¦åŒºåˆ«ä¸ºâ€œ.â€æ“ä½œç¬¦è¦æ±‚å±æ€§åæ»¡è¶³æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼Œâ€œ[".."]â€è¯­æ³•å¯ä»¥æ¥å—ä»»æ„UTF-8/Unicodeå­—ç¬¦ä¸²ä½œä¸ºå±æ€§åã€‚</p>
<p>åœ¨å¯¹è±¡ä¸­ï¼Œå±æ€§åæ°¸è¿œéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯stringï¼ˆå­—é¢é‡ï¼‰ä»¥å¤–çš„å…¶ä»–å€¼ä½œä¸ºå±æ€§åï¼Œé‚£å®ƒé¦–å…ˆä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {};

myObject[<span class="hljs-literal">true</span>] = <span class="hljs-string">"foo"</span>;
myObject[<span class="hljs-number">3</span>] = <span class="hljs-string">"bar"</span>;
myObject[myObject] = <span class="hljs-string">"baz"</span>;

myObject[<span class="hljs-string">"true"</span>]; <span class="hljs-comment">// "foo"</span>
myObject[<span class="hljs-string">"3"</span>]; <span class="hljs-comment">// "bar"</span>
myObject[<span class="hljs-string">"[object Object]"</span>]; <span class="hljs-comment">// "baz"</span>
</code></pre>
<h5 data-id="heading-6">å¯è®¡ç®—å±æ€§å</h5>
<p>ES6 å¢åŠ äº†å¯è®¡ç®—å±æ€§åï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> prefix = <span class="hljs-string">"foo"</span>;

<span class="hljs-keyword">var</span> myObject = {
  [prefix + <span class="hljs-string">"bar"</span>]: <span class="hljs-string">"hello"</span>,
  [prefix + <span class="hljs-string">"baz"</span>]: <span class="hljs-string">"world"</span>,
};

myObject[<span class="hljs-string">"foobar"</span>]; <span class="hljs-comment">// hello</span>
myObject[<span class="hljs-string">"foobaz"</span>]; <span class="hljs-comment">// world</span>
</code></pre>
<h5 data-id="heading-7">æ•°ç»„</h5>
<p>æ•°ç»„ä¹Ÿæ”¯æŒ[]è®¿é—®å½¢å¼ã€‚æ•°ç»„æœŸæœ›é¢æ˜¯æ•°å€¼ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯å€¼å­˜å‚¨çš„ä½ç½®ï¼ˆé€šå¸¸è¢«ç§°ä¸ºç´¢å¼•ï¼‰æ˜¯éè´Ÿæ•´æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myArray = [<span class="hljs-string">"foo"</span>, <span class="hljs-number">42</span>, <span class="hljs-string">"bar"</span>];

myArray.<span class="hljs-property">length</span>; <span class="hljs-comment">// 3</span>
myArray[<span class="hljs-number">0</span>]; <span class="hljs-comment">// "foo"</span>
myArray[<span class="hljs-number">2</span>]; <span class="hljs-comment">// "bar"</span>
</code></pre>
<p>æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯ä»¥ç»™æ•°ç»„æ·»åŠ å±æ€§ï¼ˆä½†ä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myArray = [<span class="hljs-string">"foo"</span>, <span class="hljs-number">42</span>, <span class="hljs-string">"bar"</span>];

myArray.<span class="hljs-property">baz</span> = <span class="hljs-string">"baz"</span>;
myArray.<span class="hljs-property">length</span>; <span class="hljs-comment">// 3</span>
myArray.<span class="hljs-property">baz</span>; <span class="hljs-comment">// "baz"</span>
</code></pre>
<h5 data-id="heading-8">å¤åˆ¶å¯¹è±¡</h5>
<p>åœ¨JSä¸­å¤åˆ¶ä¸€ä¸ªå¯¹è±¡æ˜¯å¤æ‚çš„ï¼Œéœ€è¦åˆ¤æ–­æ·±å¤åˆ¶è¿˜æ˜¯æµ…å¤åˆ¶ã€‚å¯¹äºæµ…æ‹·è´ï¼Œä¼šå’Œæ—§å¯¹è±¡ä½¿ç”¨ç›¸åŒçš„å¼•ç”¨ï¼›å¯¹äºæ·±æ‹·è´ï¼Œå­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µå°±ä¼šå¯¼è‡´æ­»å¾ªç¯ã€‚</p>
<p>è®¸å¤šJSæ¡†æ¶éƒ½æå‡ºäº†è‡ªå·±çš„è§£å†³åŠæ³•ï¼Œä½†æ˜¯JSé‡‡ç”¨çš„æ ‡å‡†åˆä¸ç»Ÿä¸€ã€‚</p>
<p>å¯¹äºJSONå®‰å…¨ï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²å¹¶ä¸”å¯ä»¥æ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²è§£æå‡ºä¸€ä¸ªç»“æ„å’Œå€¼å®Œå…¨ä¸€æ ·çš„å¯¹è±¡ï¼‰çš„å¯¹è±¡æ¥è¯´ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> newObj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(someObj));
</code></pre>
<p>ES6å®šä¹‰äº†Object.assign(..)æ–¹æ³•å®ç°æµ…å¤åˆ¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> newObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, myObject);
</code></pre>
<h5 data-id="heading-9">å±æ€§æè¿°ç¬¦</h5>
<p>ES5ä¹‹å‰æŒ‰ï¼ŒJSè¯­è¨€æœ¬èº«æ²¡æœ‰æä¾›å¯ä»¥ç›´æ¥æ£€æµ‹å±æ€§ç‰¹æ€§çš„æ–¹æ³•ï¼Œæ¯”å¦‚åˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯åªè¯»ã€‚</p>
<p>ES5å¼€å§‹ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½å…·å¤‡äº†å±æ€§æè¿°ç¬¦ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(myObject, <span class="hljs-string">"a"</span>);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   value: 2,</span>
<span class="hljs-comment">//   writable: true,</span>
<span class="hljs-comment">//   enumerable: true,</span>
<span class="hljs-comment">//   configurable: true</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>å¦‚æˆ‘ä»¬æ‰€è§ï¼Œè¯¥æ™®é€šçš„å¯¹è±¡å±æ€§å¯¹åº”çš„å±æ€§æè¿°ç¬¦ï¼ˆä¹Ÿè¢«ç§°ä¸ºâ€œæ•°æè¿°ç¬¦â€ï¼Œå› ä¸ºå®ƒåªèƒ½ä¿å­˜ä¸€ä¸ªæ•°æ®ï¼‰ï¼Œä¸ä»…åªæ˜¯2ã€‚è¿˜æœ‰å¦å¤–ä¸‰ä¸ªç‰¹æ€§ï¼šwritableï¼ˆå¯å†™ï¼‰ã€enumerableï¼ˆå¯æšä¸¾ï¼‰å’Œconfigurableï¼ˆå¯é…ç½®ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Object.defineProperty(..)æ¥æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æˆ–ä¿®æ”¹å·²æœ‰å±æ€§ï¼ˆå¦‚æœå®ƒæ˜¯configurableï¼‰å¯¹ç‰¹æ€§è¿›è¡Œè®¾ç½®ã€‚</p>
<ol>
<li>writable
writableå†³å®šæ˜¯å¦å¯ä»¥ä¿®æ”¹å±æ€§çš„å€¼</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-string">"a"</span>ï¼Œ {
  <span class="hljs-attr">value</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">writable</span>: fasle, <span class="hljs-comment">// ä¸å¯å†™</span>
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>
});

myObject.<span class="hljs-property">a</span> = <span class="hljs-number">3</span>;

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>

</code></pre>
<ol start="2">
<li>configurable
åªè¦å±æ€§æ˜¯å¯é…ç½®çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨defineProperty(..)æ–¹æ³•æ¥ä¿®æ”¹å±æ€§æè¿°ç¬¦</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>
};

myObject.<span class="hljs-property">a</span> = <span class="hljs-number">3</span>;
myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 3</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-string">"a"</span>ï¼Œ {
  <span class="hljs-attr">value</span>: <span class="hljs-number">4</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">configurable</span>: fasle <span class="hljs-comment">// ä¸å¯é…ç½®</span>
});

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 4</span>
myObject.<span class="hljs-property">a</span> = <span class="hljs-number">5</span>;
myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 5</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-string">"a"</span>ï¼Œ {
  <span class="hljs-attr">value</span>: <span class="hljs-number">6</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,wrai
  <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>
}); <span class="hljs-comment">// TypeError</span>
</code></pre>
<p>å¯è§å°†configurableä¿®æ”¹ä¸ºfalseæ˜¯å•å‘æ“ä½œï¼Œæ— æ³•æ’¤é”€ã€‚</p>
<blockquote>
<p>è¦æ³¨æ„ä¸€ä¸ªä¾‹å¤–ï¼Œå³ä¾¿å±æ€§æ˜¯configurable: false,è¿˜æ˜¯èƒ½å¤Ÿå°† writable çš„çŠ¶æ€ç”± true æ”¹ä¸º falseï¼Œä½†æ˜¯æ— æ³•ç”± fasle æ”¹ä¸º trueã€‚</p>
</blockquote>
<p>ä¸”configurable: false è¿˜ä¼šç¦æ­¢åˆ é™¤è¿™ä¸ªå±æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>
};

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>

<span class="hljs-keyword">delete</span> myObject.<span class="hljs-property">a</span>;
myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// undefined</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-string">"a"</span>ï¼Œ {
  <span class="hljs-attr">value</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">configurable</span>: fasle <span class="hljs-comment">// ä¸å¯é…ç½®</span>
});

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>
<span class="hljs-keyword">delete</span> myObject.<span class="hljs-property">a</span>;
myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>
</code></pre>
<ol start="3">
<li>enumerable</li>
</ol>
<p>è¯¥æè¿°ç¬¦æ§åˆ¶å±æ€§æ˜¯å¦ä¼šå‡ºç°åœ¨å¯¹è±¡çš„å±æ€§æšä¸¾ä¸­ï¼Œæ¯”å¦‚for..inå¾ªç¯ï¼Œå¦‚æœè®¾ç½®enumerableä¸ºfalseï¼Œè¿™ä¸ªå±æ€§å°±ä¸ä¼šå‡ºç°åœ¨æšä¸¾ä¸­ã€‚</p>
<h5 data-id="heading-10">ä¸å˜æ€§</h5>
<p>æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›å±æ€§æˆ–è€…å¯¹è±¡æ˜¯ä¸å¯æ”¹å˜çš„ï¼ŒH5ä¸­å¯ä»¥é€šè¿‡å¾ˆå¤šæ–¹æ³•å®ç°ï¼Œä½†æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯æµ…ä¸å˜æ€§ï¼Œå®ƒä»¬åªä¼šå½±å“ç›®æ ‡å¯¹è±¡å’Œå®ƒçš„ç›´æ¥å±æ€§ã€‚</p>
<ol>
<li>å¯¹è±¡å¸¸é‡
ç»“åˆ writable: false å’Œ configurable: fasleå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¸¸é‡å±æ€§ï¼ˆä¸å¯ä¿®æ”¹ã€é‡æ–°å®šä¹‰æˆ–è€…åˆ é™¤ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-string">"FAVORITE_NUMBER"</span>ï¼Œ {
  <span class="hljs-attr">value</span>: <span class="hljs-number">42</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">configurable</span>: fasle
});
</code></pre>
<ol start="2">
<li>ç¦æ­¢æ‹“å±•
å¯ä»¥ä½¿ç”¨Object.preventExtensions(..)ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">preventExtensions</span>(myObject);

myObject.<span class="hljs-property">b</span> = <span class="hljs-number">3</span>;
myObject.<span class="hljs-property">b</span>; <span class="hljs-comment">// undefined</span>
</code></pre>
<ol start="3">
<li>
<p>å¯†å°
Object.seal(..) ä¼šåˆ›å»ºä¸€ä¸ªâ€œå¯†å°â€çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä¸€ä¸ªåœ¨ç°æœ‰çš„å¯¹è±¡ä¸Šè°ƒç”¨Object.preventExtensions(..)ï¼Œå¹¶æŠŠæ‰€æœ‰çš„å±æ€§æ ‡è®°ä¸ºconfigurable: falseã€‚</p>
</li>
<li>
<p>å†»ç»“
Object.freeze(..) ä¼šåˆ›å»ºä¸€ä¸ªâ€œå†»ç»“â€çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä¸€ä¸ªåœ¨ç°æœ‰çš„å¯¹è±¡ä¸Šè°ƒç”¨Object.seal(..)ï¼Œå¹¶æŠŠæ‰€æœ‰â€œæ•°æ®è®¿é—®â€å±æ€§æ ‡è®°ä¸ºwritable: falseï¼Œè¿™æ ·æ—§æ— æ³•ä¿®æ”¹å€¼ã€‚</p>
</li>
</ol>
<p>è¯¥æ–¹æ³•æ˜¯æˆ‘ä»¬å¯ä»¥åº”ç”¨åœ¨å¯¹è±¡ä¸Šçš„æœ€é«˜çš„ä¸å¯å˜æ€§ï¼Œå®ƒä¼šç¦æ­¢å¯¹è±¡æœ¬èº«åŠå…¶ä»»æ„ç›´æ¥å±æ€§çš„ä¿®æ”¹ï¼ˆä¸è¿‡è¯¥å¯¹è±¡å¼•ç”¨çš„å…¶ä»–å¯¹è±¡æ˜¯ä¸å—å½±å“çš„ï¼‰ã€‚</p>
<h5 data-id="heading-11">[[Get]]</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObjedt = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
};
myObjedt.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>
</code></pre>
<p>myObjedt.aé€šè¿‡[[Get]]æ“ä½œå®ç°å¯¹aå±æ€§çš„è®¿é—®ã€‚å¯¹è±¡é»˜è®¤çš„å†…ç½®[[Get]]æ“ä½œä¼šé¦–å…ˆæŸ¥æ‰¾æ˜¯å¦æœ‰åŒåçš„å±æ€§ï¼Œæœ‰å°±è¿”å›è¯¥å¯¹è±¡çš„å€¼ã€‚æ²¡æœ‰å°±ä¼šéå†å¯èƒ½å­˜åœ¨çš„[[Prototype]]é“¾ï¼Œè¿˜æ˜¯æ²¡æ‰¾åˆ°çš„è¯å°±ä¼šè¿”å›undefinedã€‚</p>
<h5 data-id="heading-12">[[Put]]</h5>
<p>[[Put]]è¢«è§¦å‘æ—¶ï¼Œä¼šå–å†³äºè®¸å¤šå› ç´ ï¼ŒåŒ…æ‹¬å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå±æ€§ã€‚</p>
<p>å¦‚æœå·²ç»å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œ[[Put]]ç®—æ³•å¤§è‡´ä¼šæ£€æŸ¥ä¸‹é¢è¿™äº›å†…å®¹ã€‚</p>
<ol>
<li>å±æ€§æ˜¯å¦æ˜¯è®¿é—®æè¿°ç¬¦ï¼Ÿå¦‚ä½•æ˜¯å¹¶ä¸”å­˜åœ¨setterå°±è°ƒç”¨setterã€‚</li>
<li>å±æ€§çš„æ•°æ®æè¿°ç¬¦ä¸­writableæ˜¯å¦æ˜¯falseï¼Ÿå¦‚æœæ˜¯ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼é™é»˜å¤±è´¥ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼æŠ›å‡ºTypeErrorå¼‚å¸¸ã€‚</li>
<li>å¦‚æœéƒ½ä¸æ˜¯å°†å€¼è®¾ä¸ºå±æ€§çš„å€¼ã€‚</li>
</ol>
<p>å¦‚æœå¯¹è±¡ä¸­ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œ[[Put]]æ“ä½œä¼šæ›´åŠ å¤åˆ¶ã€‚åç»­è¯¦ç»†ä»‹ç»ã€‚</p>
<h5 data-id="heading-13">Getterå’ŒSetter</h5>
<p>å¯¹è±¡é»˜è®¤çš„[[Put]]å’Œ[[Get]]æ“ä½œåˆ†åˆ«å¯ä»¥æ§åˆ¶å±æ€§å€¼çš„è®¾ç½®å’Œè·å–ã€‚</p>
<p>åœ¨ES5ä¸­å¯ä»¥ä½¿ç”¨getterå’Œsetteréƒ¨åˆ†æ”¹å†™é»˜è®¤æ“ä½œï¼Œä½†æ˜¯åªèƒ½åº”ç”¨åœ¨å•ä¸ªå±æ€§ä¸Šï¼Œæ— æ³•åº”ç”¨åœ¨æ•´ä¸ªå¯¹è±¡ä¸Šã€‚getteræ˜¯ä¸€ä¸ªéšè—å‡½æ•°ï¼Œä¼šåœ¨è·å–å±æ€§å€¼æ—¶è°ƒç”¨ã€‚setterä¹Ÿæ˜¯ä¸€ä¸ªéšè—å‡½æ•°ï¼Œä¼šåœ¨è®¾ç½®å±æ€§å€¼æ—¶è°ƒç”¨ã€‚</p>
<p>å½“ä½ ç»™ä¸€ä¸ªå±æ€§å®šä¹‰getterã€setter æˆ–è€…ä¸¤è€…éƒ½æœ‰æ—¶ï¼Œè¿™ä¸ªå±æ€§ä¼šè¢«å®šä¹‰ä¸ºâ€œè®¿é—®æè¿°ç¬¦â€ï¼ˆå’Œâ€œæ•°æ®æè¿°ç¬¦â€ç›¸å¯¹ï¼‰ã€‚å¯¹äºè®¿é—®æè¿°ç¬¦æ¥è¯´ï¼ŒJavaScript ä¼šå¿½ç•¥å®ƒä»¬çš„valueå’Œ
writableç‰¹æ€§ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å…³å¿ƒsetå’Œgetï¼ˆè¿˜æœ‰configurableå’Œenumerableï¼‰ç‰¹æ€§</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-comment">// ç»™aå®šä¹‰ä¸€ä¸ªgetter</span>
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">a</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
  },
};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(
  myObject, <span class="hljs-comment">// ç›®æ ‡å¯¹è±¡</span>
  <span class="hljs-string">"b"</span>, <span class="hljs-comment">// å±æ€§å</span>
  {
    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> * <span class="hljs-number">2</span>;
    },
    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  },
);

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 2</span>

myObject.<span class="hljs-property">b</span>; <span class="hljs-comment">// 4</span>
</code></pre>
<p>é€šå¸¸getterå’Œsetteræ˜¯æˆå¯¹å‡ºç°çš„ï¼ˆåªå®šä¹‰ä¸€ä¸ªçš„è¯é€šå¸¸ä¼šäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„è¡Œä¸ºï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-comment">// ç»™aå®šä¹‰ä¸€ä¸ªgetter</span>
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">a</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_a_</span>;
  }

  <span class="hljs-comment">// ç»™aå®šä¹‰ä¸€ä¸ªsetter</span>
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">a</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_a_</span> = val * <span class="hljs-number">2</span>;
  }
}

myObject.<span class="hljs-property">a</span> = <span class="hljs-number">2</span>;

myObject.<span class="hljs-property">a</span>; <span class="hljs-comment">// 4</span>
</code></pre>
<h5 data-id="heading-14">å­˜åœ¨æ€§</h5>
<p>å½“myObject.açš„å±æ€§è®¿é—®è¿”å›å€¼ä¸ºundefinedæ—¶ï¼Œè¿™ä¸ªå€¼å¯èƒ½æ—¶å±æ€§ä¸­å­˜å‚¨çš„undefinedï¼Œä¹Ÿå¯èƒ½æ˜¯å±æ€§ä¸å­˜åœ¨è€Œè¿”å›undefinedã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸è®¿é—®å±æ€§å€¼çš„æƒ…å†µä¸‹åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå±æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
};

<span class="hljs-string">"a"</span> <span class="hljs-keyword">in</span> myObject; <span class="hljs-comment">// true</span>
<span class="hljs-string">"b"</span> <span class="hljs-keyword">in</span> myObject; <span class="hljs-comment">// false</span>

myObject.<span class="hljs-title function_">hasOwnProhaperty</span>(<span class="hljs-string">"a"</span>); <span class="hljs-comment">// true</span>
myObject.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">"b"</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>in æ“ä½œç¬¦ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨å¯¹è±¡åŠå…¶[[Prototype]]åŸå‹é“¾ä¸­ã€‚</p>
<p>hasOwnproperty(..)åªä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨myObjectå¯¹è±¡ä¸­ï¼Œä¸ä¼šæ£€æŸ¥[[Prototype]]é“¾ã€‚</p>
<h6 data-id="heading-15">æšä¸¾</h6>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(
  myObject,
  <span class="hljs-string">"a"</span>,
  <span class="hljs-comment">// è®©aå¯æšä¸¾</span>
  { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">2</span> },
);

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(
  myObject,
  <span class="hljs-string">"b"</span>,
  <span class="hljs-comment">// è®©bä¸å¯æšä¸¾</span>
  { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">3</span> },
);

myObject.<span class="hljs-property">b</span>; <span class="hljs-comment">// 3</span>
<span class="hljs-string">"b"</span> <span class="hljs-keyword">in</span> myObject; <span class="hljs-comment">// true</span>
myObject.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">"b"</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// .............</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> myObject) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(k, myObject[k]);
} <span class="hljs-comment">// "a" 2</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°myObject.bç¡®å®å­˜åœ¨å¹¶ä¸”æœ‰è®¿é—®å€¼ï¼Œä½†ä¸ä¼šå‡ºç°åœ¨for..inå¾ªç¯ä¸­ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ¥åŒºåˆ†å±æ€§æ˜¯å¦å¯æšä¸¾ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(
  myObject,
  <span class="hljs-string">"a"</span>,
  <span class="hljs-comment">// è®©aå¯æšä¸¾</span>
  { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">2</span> },
);

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(
  myObject,
  <span class="hljs-string">"b"</span>,
  <span class="hljs-comment">// è®©bä¸å¯æšä¸¾</span>
  { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">3</span> },
);

myObject.<span class="hljs-title function_">propertyIsEnumerable</span>(<span class="hljs-string">"a"</span>); <span class="hljs-comment">// true</span>
myObject.<span class="hljs-title function_">propertyIsEnumerable</span>(<span class="hljs-string">"b"</span>); <span class="hljs-comment">// false</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(myObject); <span class="hljs-comment">// ["a"]</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(myObject); <span class="hljs-comment">// ["a", "b"]</span>
</code></pre>
<h4 data-id="heading-16">éå†</h4>
<p>for..in å¾ªç¯å¯ä»¥ç”¨æ¥éå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§åˆ—è¡¨ï¼ˆåŒ…æ‹¬[[Prototype]]é“¾ï¼‰</p>
<p>ES6ä¸­å¢åŠ äº† for..of å¾ªç¯è¯­æ³•æ¥éå†æ•°ç»„ï¼ˆå¦‚æœå¯¹è±¡æœ¬èº«å®šä¹‰äº†è¿­ä»£å™¨çš„è¯ä¹Ÿå¯ä»¥éå†å¯¹è±¡ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v <span class="hljs-keyword">of</span> myArray) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v);
}
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
</code></pre>
<p>for..of å¾ªç¯é¦–å…ˆä¼šå‘è¢«è®¿é—®å¯¹è±¡è¯·æ±‚ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œç„¶åé€šè¿‡è°ƒç”¨è¿­ä»£å™¨å¯¹è±¡çš„next()æ–¹æ³•æ¥éå†æ‰€æœ‰è¿”å›å€¼ã€‚</p>
<p>æ•°ç»„å†…æœ‰å†…ç½®çš„@@iteratorï¼Œå› æ­¤for..ofå¯ä»¥ç›´æ¥åº”ç”¨åœ¨æ•°ç»„ä¸Šã€‚æˆ‘ä»¬ä½¿ç”¨å†…ç½®çš„@@iteratoræ¥æ‰‹åŠ¨éå†æ•°ç»„ï¼Œçœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">var</span> it = myArray[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();

it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value:1,done:false}</span>
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value:2,done:false}</span>
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value:3,done:false}</span>
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {done:true}</span>
</code></pre>
<p>å’Œæ•°ç»„ä¸åŒï¼Œæ™®é€šçš„å¯¹è±¡æ²¡æœ‰å†…ç½®çš„@@iteratorï¼Œæ‰€æœ‰æ— æ³•è‡ªåŠ¨å®Œæˆfor..oféå†ã€‚ä¹‹æ‰€ä»¥è¦è¿™æ ·åšï¼Œæœ‰è®¸å¤šå¤æ‚çš„åŸå› ï¼Œä¸è¿‡ç®€å•æ¥è¯´è¿™æ ·æ˜¯ä¸ºäº†é¿å…å½±å“æœªæ¥çš„å¯¹è±¡ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç»™æƒ³éå†çš„å¯¹è±¡å®šä¹‰@@iteratorï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myObject = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">b</span>: <span class="hljs-number">3</span>,
};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(myObject, <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>, {
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> o = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">var</span> idx = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> ks = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(o);
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">next</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">value</span>: o[ks[idx++]],
          <span class="hljs-attr">done</span>: idx &gt; ks.<span class="hljs-property">length</span>,
        };
      },
    };
  },
});

<span class="hljs-comment">// æ‰‹åŠ¨éå†myObject</span>
<span class="hljs-keyword">var</span> it = myObject[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value: 2,done: false}</span>
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value: 3,done: false}</span>
it.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// {value: undefined,done: true}</span>

<span class="hljs-comment">// ç”¨for..oféå†myObject</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v <span class="hljs-keyword">of</span> myObject) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v);
}
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“ AI å­¦ä¼šäº†å†™åšå®¢ï¼šCursor AI Skill å¦‚ä½•è®©ä½ çš„å¼€å‘æ•ˆç‡ç¿»å€]]></title>    <link>https://juejin.cn/post/7603383059151880234</link>    <guid>https://juejin.cn/post/7603383059151880234</guid>    <pubDate>2026-02-06T08:56:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603383059151880234" data-draft-id="7603383059151749162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“ AI å­¦ä¼šäº†å†™åšå®¢ï¼šCursor AI Skill å¦‚ä½•è®©ä½ çš„å¼€å‘æ•ˆç‡ç¿»å€"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:56:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PTC"/> <meta itemprop="url" content="https://juejin.cn/user/3925713569717248"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“ AI å­¦ä¼šäº†å†™åšå®¢ï¼šCursor AI Skill å¦‚ä½•è®©ä½ çš„å¼€å‘æ•ˆç‡ç¿»å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3925713569717248/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PTC
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:56:58.000Z" title="Fri Feb 06 2026 08:56:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    43
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå†™å®Œä»£ç ä¹‹åï¼ŒAI è‡ªåŠ¨å¸®ä½ æŠŠæŠ€æœ¯åšå®¢ä¹Ÿå†™äº†ï¼Ÿ</p>
<p>è¿™ä¸æ˜¯å¹»æƒ³ã€‚æˆ‘åœ¨è‡ªå·±çš„åšå®¢ç³»ç»ŸÂ <strong>Ink &amp; Code</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fptclove.com%2F" target="_blank" title="https://ptclove.com/" ref="nofollow noopener noreferrer">ptclove.com</a>ï¼‰ä¸Šå®ç°äº†è¿™ä¸ªèƒ½åŠ›â€”â€”é€šè¿‡ Cursor çš„ AI Skill æœºåˆ¶ï¼Œåªéœ€ä¸€å¥è¯ï¼ŒAI å°±èƒ½åˆ†æä»£ç ã€æ’°å†™æ–‡ç« ã€ä¸€é”®å‘å¸ƒã€‚</p>
<p>æœ¬æ–‡ä¼šæ·±å…¥ä»‹ç» AI Skill çš„å®é™…åº”ç”¨ï¼Œä»¥åŠæ”¯æ’‘è¿™ä¸€åˆ‡çš„æŠ€æœ¯æ¶æ„ï¼š<strong>Next.js 16 + Prisma + Tailwind CSS 4 + Tiptap</strong>ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ Cursor AI Skill</h2>
<p>AI Skill æ˜¯ Cursor IDE æä¾›çš„ä¸€ç§æ‰©å±•æœºåˆ¶ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä»½ Markdown æ ¼å¼çš„æŒ‡ä»¤æ–‡ä»¶ï¼ˆ<code>SKILL.md</code>ï¼‰ï¼Œå‘Šè¯‰ AI åœ¨ç‰¹å®šåœºæ™¯ä¸‹è¯¥åšä»€ä¹ˆã€æ€ä¹ˆåšã€‚</p>
<p>ä¸æ™®é€šçš„ Prompt ä¸åŒï¼ŒSkill æœ‰å‡ ä¸ªæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>åœºæ™¯è§¦å‘</strong>ï¼šå½“ç”¨æˆ·æåˆ°"å†™åšå®¢"ã€"å‘å¸ƒæ–‡ç« "æ—¶è‡ªåŠ¨æ¿€æ´»</li>
<li><strong>ç»“æ„åŒ–æµç¨‹</strong>ï¼šå®šä¹‰æ¸…æ™°çš„å¤šæ­¥éª¤å·¥ä½œæµï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æé—®</li>
<li><strong>å·¥å…·é›†æˆ</strong>ï¼šå¯ä»¥è°ƒç”¨ Shell è„šæœ¬ã€API æ¥å£ï¼Œå®ç°ç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–</li>
</ol>
<h2 data-id="heading-2">å®æˆ˜ï¼šä¸€ä¸ªè‡ªåŠ¨å†™åšå®¢çš„ Skill</h2>
<p>æˆ‘åœ¨é¡¹ç›®ä¸­åˆ›å»ºäº†Â <code>.cursor/skills/generate-blog/SKILL.md</code>ï¼Œå®šä¹‰äº†åšå®¢ç”Ÿæˆçš„å®Œæ•´æµç¨‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">generate-blog</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">ç”ŸæˆæŠ€æœ¯åšå®¢å¹¶å‘å¸ƒåˆ°</span> <span class="hljs-string">Ink</span> <span class="hljs-string">&amp;</span> <span class="hljs-string">Code</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># ç”Ÿæˆåšå®¢æ–‡ç« </span>

<span class="hljs-comment">## å·¥ä½œæµç¨‹</span>

<span class="hljs-comment">### 1. ç¡®å®šç”Ÿæˆæ¨¡å¼</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">commit</span> <span class="hljs-string">æ¨¡å¼ï¼šæ ¹æ®</span> <span class="hljs-string">Git</span> <span class="hljs-string">æäº¤æ”¹åŠ¨ç”Ÿæˆ</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">topic</span> <span class="hljs-string">æ¨¡å¼ï¼šæ ¹æ®ç‰¹å®šä¸»é¢˜ç”Ÿæˆ</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">repo</span> <span class="hljs-string">æ¨¡å¼ï¼šä»‹ç»æ•´ä¸ªé¡¹ç›®</span>

<span class="hljs-comment">### 2. æ”¶é›†ä¸Šä¸‹æ–‡</span>
<span class="hljs-string">æ ¹æ®æ¨¡å¼æ”¶é›†ç›¸å…³ä»£ç ä¸Šä¸‹æ–‡...</span>

<span class="hljs-comment">### 3. ç”Ÿæˆåšå®¢å†…å®¹</span>
<span class="hljs-string">æ’°å†™é«˜è´¨é‡æŠ€æœ¯åšå®¢ï¼ŒåŒ…å«èƒŒæ™¯ã€æ–¹æ¡ˆã€å®ç°ã€æ€»ç»“...</span>

<span class="hljs-comment">### 4. å‘å¸ƒæ–‡ç« </span>
<span class="hljs-string">ä½¿ç”¨è„šæœ¬å‘å¸ƒåˆ°åšå®¢ç³»ç»Ÿï¼š</span>
</code></pre>
<p>å…³é”®åœ¨äºç¬¬ 4 æ­¥â€”â€”Skill ä¸ä»…èƒ½ç”Ÿæˆå†…å®¹ï¼Œè¿˜èƒ½é€šè¿‡ Shell è„šæœ¬ç›´æ¥å‘å¸ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># publish.sh - ä¸€é”®å‘å¸ƒåˆ°åšå®¢</span>
TITLE=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
TAGS=<span class="hljs-string">"<span class="hljs-variable">$2</span>"</span>

<span class="hljs-comment"># è¯»å–å†…å®¹ï¼ˆæ”¯æŒæ–‡ä»¶ã€stdinã€å‰ªè´´æ¿ï¼‰</span>
<span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$CONTENT_FILE</span>"</span> ] &amp;&amp; [ -f <span class="hljs-string">"<span class="hljs-variable">$CONTENT_FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
    CONTENT=$(<span class="hljs-built_in">cat</span> <span class="hljs-string">"<span class="hljs-variable">$CONTENT_FILE</span>"</span>)
<span class="hljs-keyword">elif</span> [ ! -t 0 ]; <span class="hljs-keyword">then</span>
    CONTENT=$(<span class="hljs-built_in">cat</span>)
<span class="hljs-keyword">else</span>
    CONTENT=$(pbpaste 2&gt;/dev/null || <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>)
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># æ„å»º JSON å¹¶è°ƒç”¨ API</span>
jq -n --arg title <span class="hljs-string">"<span class="hljs-variable">$TITLE</span>"</span> --arg content <span class="hljs-string">"<span class="hljs-variable">$CONTENT</span>"</span> \
  <span class="hljs-string">'{title: $title, content: $content, published: false}'</span> \
  &gt; /tmp/blog_payload.json

curl -X POST <span class="hljs-string">"<span class="hljs-variable">${INK_AND_CODE_URL}</span>/api/article/create-from-commit"</span> \
  -H <span class="hljs-string">"Authorization: Bearer <span class="hljs-variable">$INK_AND_CODE_TOKEN</span>"</span> \
  -d @/tmp/blog_payload.json
</code></pre>
<p>è¿™æ„å‘³ç€ä»ä»£ç å˜æ›´åˆ°æ–‡ç« å‘å¸ƒï¼Œæ•´ä¸ªé“¾è·¯éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ã€‚</p>
<h2 data-id="heading-3">æ›´è¿›ä¸€æ­¥ï¼šGitHub Actions + AI è‡ªåŠ¨å‘æ–‡</h2>
<p>é™¤äº†æœ¬åœ° Skillï¼Œæˆ‘è¿˜é…ç½®äº† GitHub Actions å®ç° CI/CD çº§åˆ«çš„åšå®¢è‡ªåŠ¨åŒ–ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/auto-blog.yml</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">generate-blog:</span>
    <span class="hljs-comment"># åªæœ‰æäº¤ä¿¡æ¯åŒ…å« [blog] æ—¶æ‰è§¦å‘</span>
    <span class="hljs-attr">if:</span> <span class="hljs-string">contains(github.event.head_commit.message,</span> <span class="hljs-string">'[blog]'</span><span class="hljs-string">)</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Gather</span> <span class="hljs-string">project</span> <span class="hljs-string">context</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          git diff HEAD~1 HEAD &gt; /tmp/commit_diff.txt
          # æ”¶é›†é¡¹ç›®ç»“æ„ã€æ”¹åŠ¨æ–‡ä»¶ã€é…ç½®æ–‡ä»¶...
</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Generate</span> <span class="hljs-string">and</span> <span class="hljs-string">publish</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          # å°†ä¸Šä¸‹æ–‡å‘é€ç»™ AIï¼Œç”Ÿæˆåšå®¢
          # è§£ææ ‡é¢˜ã€å†…å®¹ã€æ ‡ç­¾
          # è°ƒç”¨ API å‘å¸ƒ
</span></code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼šå½“æˆ‘æäº¤ä»£ç æ—¶ï¼Œåœ¨ commit message ä¸­åŠ ä¸ŠÂ <code>[blog]</code>Â æ ‡è®°ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ”¶é›†é¡¹ç›®ä¸Šä¸‹æ–‡ï¼ˆdiffã€æ–‡ä»¶ç»“æ„ã€é…ç½®æ–‡ä»¶ï¼‰ï¼Œè°ƒç”¨ DeepSeek/Claude/GPT ç”ŸæˆæŠ€æœ¯åšå®¢ï¼Œæœ€åé€šè¿‡ API å‘å¸ƒåˆ°ç½‘ç«™ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼Œå†™å®Œä»£ç ï¼Œåšå®¢å°±è‡ªåŠ¨å‡ºç°åœ¨ç½‘ç«™ä¸Šäº†ã€‚</p>
<h2 data-id="heading-4">æ”¯æ’‘ä¸€åˆ‡çš„æŠ€æœ¯æ¶æ„</h2>
<p>è¿™å¥—è‡ªåŠ¨åŒ–èƒ½è·‘é€šï¼Œç¦»ä¸å¼€åº•å±‚çš„æŠ€æœ¯æ¶æ„ã€‚Ink &amp; Code é‡‡ç”¨çš„æ˜¯Â <strong>Next.js 16 + Prisma + Tailwind CSS 4 + Tiptap</strong>Â çš„ç»„åˆã€‚</p>
<h3 data-id="heading-5">Next.js 16 App Router</h3>
<p>é¡¹ç›®ä½¿ç”¨ Next.js 16 çš„ App Router æ¶æ„ï¼Œç›®å½•ç»“æ„æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">app/
â”œâ”€â”€ api/          <span class="hljs-comment"># API è·¯ç”±</span>
â”‚   â”œâ”€â”€ article/  <span class="hljs-comment"># æ–‡ç«  CRUD</span>
â”‚   â”œâ”€â”€ chat/     <span class="hljs-comment"># AI èŠå¤©</span>
â”‚   â””â”€â”€ auth/     <span class="hljs-comment"># è®¤è¯</span>
â”œâ”€â”€ admin/        <span class="hljs-comment"># åå°ç®¡ç†</span>
â”œâ”€â”€ blog/         <span class="hljs-comment"># åšå®¢é¡µé¢</span>
â”œâ”€â”€ components/   <span class="hljs-comment"># ç»„ä»¶</span>
â””â”€â”€ u/<span class="hljs-section">[username]</span>/ <span class="hljs-comment"># ç”¨æˆ·ä¸»é¡µ</span>
</code></pre>
<p>API è·¯ç”±æä¾›äº†å®Œæ•´çš„ RESTful æ¥å£ï¼Œæ”¯æŒä¸¤ç§è®¤è¯æ–¹å¼ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// Session è®¤è¯ï¼ˆç”¨æˆ·ç™»å½•ï¼‰</span>
<span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> auth();

<span class="hljs-comment">// Token è®¤è¯ï¼ˆå¤–éƒ¨è°ƒç”¨ï¼Œå¦‚ GitHub Actionsï¼‰</span>
<span class="hljs-keyword">const</span> token = request.headers
  .<span class="hljs-keyword">get</span>(<span class="hljs-string">'Authorization'</span>)?.replace(<span class="hljs-string">'Bearer '</span>, <span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> hashedToken = hashToken(token);
<span class="hljs-keyword">const</span> apiToken = <span class="hljs-keyword">await</span> prisma.apiToken.findUnique({
  <span class="hljs-keyword">where</span>: { tokenHash: hashedToken }
});
</code></pre>
<p>è¿™ç§åŒè®¤è¯æœºåˆ¶è®©åšå®¢ç³»ç»Ÿæ—¢æ”¯æŒæµè§ˆå™¨ç™»å½•ï¼Œåˆæ”¯æŒè„šæœ¬å’Œ CI/CD çš„å¤–éƒ¨è°ƒç”¨ã€‚</p>
<h3 data-id="heading-6">Prisma æ•°æ®å»ºæ¨¡</h3>
<p>æ•°æ®å±‚ä½¿ç”¨ Prisma ORMï¼Œæ ¸å¿ƒæ¨¡å‹è®¾è®¡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">model Post {
  id         String    <span class="hljs-meta">@id</span> <span class="hljs-meta">@default(cuid())</span>
  title      String
  slug       String
  content    String    <span class="hljs-meta">@db</span>.Text  <span class="hljs-comment">// TipTap JSON</span>
  excerpt    String?
  coverImage String?
  published  <span class="hljs-built_in">Boolean</span>   <span class="hljs-meta">@default(false)</span>
  tags       String[]
  sortOrder  <span class="hljs-built_in">Int</span>       <span class="hljs-meta">@default(0)</span>

  user       User      <span class="hljs-meta">@relation(fields: [userId])</span>
  category   Category? <span class="hljs-meta">@relation(fields: [categoryId])</span>

  @<span class="hljs-meta">@unique([userId, slug])</span>
}

model Category {
  id       String     <span class="hljs-meta">@id</span> <span class="hljs-meta">@default(cuid())</span>
  name     String
  slug     String
  icon     String?
  parentId String?    <span class="hljs-comment">// æ ‘å½¢ç»“æ„</span>
  parent   Category?  <span class="hljs-meta">@relation(<span class="hljs-string">"children"</span>, fields: [parentId])</span>
  children Category[] <span class="hljs-meta">@relation(<span class="hljs-string">"children"</span>)</span>

  @<span class="hljs-meta">@unique([userId, slug])</span>
}
</code></pre>
<p>æ–‡ç« å†…å®¹ä»¥ TipTap JSON æ ¼å¼å­˜å‚¨ï¼Œè€ŒéåŸå§‹ Markdownã€‚è¿™æ„å‘³ç€ä»å¤–éƒ¨ï¼ˆå¦‚ GitHub Actionsï¼‰æäº¤çš„ Markdown å†…å®¹éœ€è¦ç»è¿‡è½¬æ¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/markdown-to-tiptap.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">markdownToTiptap</span>(<span class="hljs-params">markdown: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">doc</span>: <span class="hljs-title class_">TiptapDoc</span> = { <span class="hljs-attr">type</span>: <span class="hljs-string">'doc'</span>, <span class="hljs-attr">content</span>: [] };
  <span class="hljs-keyword">const</span> lines = markdown.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>);

  <span class="hljs-keyword">while</span> (i &lt; lines.<span class="hljs-property">length</span>) {
    <span class="hljs-keyword">const</span> line = lines[i];
    <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'```'</span>)) {
      <span class="hljs-comment">// ä»£ç å— â†’ codeBlock èŠ‚ç‚¹</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^#{1,6}\s/</span>)) {
      <span class="hljs-comment">// æ ‡é¢˜ â†’ heading èŠ‚ç‚¹</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^\d+.\s/</span>)) {
      <span class="hljs-comment">// æœ‰åºåˆ—è¡¨ â†’ orderedList èŠ‚ç‚¹</span>
    }
    <span class="hljs-comment">// ...æ›´å¤šæ ¼å¼å¤„ç†</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(doc);
}
</code></pre>
<h3 data-id="heading-7">Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h3>
<p>åå°ç®¡ç†ä½¿ç”¨ Tiptap ä½œä¸ºç¼–è¾‘å™¨ï¼Œæ”¯æŒä¸°å¯Œçš„å†…å®¹æ ¼å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> editor = <span class="hljs-built_in">useEditor</span>({
  extensions: [
    StarterKit,
    CodeBlockLowlight.<span class="hljs-built_in">configure</span>({
      lowlight  <span class="hljs-comment">// ä»£ç é«˜äº®</span>
    }),
    Image,           <span class="hljs-comment">// å›¾ç‰‡</span>
    Link,            <span class="hljs-comment">// é“¾æ¥</span>
    Table,           <span class="hljs-comment">// è¡¨æ ¼</span>
    Placeholder.<span class="hljs-built_in">configure</span>({
      placeholder: <span class="hljs-string">'å¼€å§‹å†™ä½œ...'</span>
    }),
  ],
});
</code></pre>
<p>ç¼–è¾‘å™¨è¿˜å®ç°äº†è‡ªåŠ¨ä¿å­˜ã€å¿«æ·é”®ï¼ˆCmd+Sï¼‰ã€å›¾ç‰‡ä¸Šä¼ ï¼ˆé˜¿é‡Œäº‘ OSSï¼‰ç­‰å®ç”¨åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-8">Tailwind CSS 4</h3>
<p>æ ·å¼å±‚ä½¿ç”¨æœ€æ–°çš„ Tailwind CSS 4ï¼Œé€šè¿‡ CSS å˜é‡å®ç°ä¸»é¢˜åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-attr">--color-primary</span>: <span class="hljs-number">#b8860b</span>;
  <span class="hljs-attr">--color-background</span>: <span class="hljs-number">#faf8f5</span>;
  <span class="hljs-attr">--color-foreground</span>: <span class="hljs-number">#1a1a1a</span>;
}

<span class="hljs-selector-attr">[data-theme=<span class="hljs-string">'dark'</span>]</span> {
  <span class="hljs-attr">--color-primary</span>: <span class="hljs-number">#d4a537</span>;
  <span class="hljs-attr">--color-background</span>: <span class="hljs-number">#1a1a1a</span>;
  <span class="hljs-attr">--color-foreground</span>: <span class="hljs-number">#e8e8e8</span>;
}
</code></pre>
<p>é…åˆ ThemeProvider ç»„ä»¶ï¼Œå®ç°äº†ä¸æ»‘çš„æ˜æš—ä¸»é¢˜åˆ‡æ¢ã€‚</p>
<h2 data-id="heading-9">Ink &amp; Code æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ</h2>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„æŠ€æœ¯æ¶æ„ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fptclove.com%2F" target="_blank" title="https://ptclove.com/" ref="nofollow noopener noreferrer">ptclove.com</a>Â è¿˜æœ‰è¿™äº›æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li><strong>AI åŠ©æ‰‹</strong>ï¼šå†…ç½® AI èŠå¤©ç»„ä»¶ï¼ŒåŸºäº DeepSeek å®æ—¶æµå¼å“åº”ï¼Œéšæ—¶æé—®</li>
<li><strong>æ™ºèƒ½ç›®å½•</strong>ï¼šè‡ªåŠ¨ä»æ–‡ç« æ ‡é¢˜ç”Ÿæˆç›®å½•æ ‘ï¼Œæ”¯æŒå¤§æ ‡é¢˜æŠ˜å å­æ ‡é¢˜ã€æ»šåŠ¨é«˜äº®ã€ç‚¹å‡»è·³è½¬</li>
<li><strong>åˆ†ç±»ä½“ç³»</strong>ï¼šæ”¯æŒæ ‘å½¢åˆ†ç±»ç»“æ„ï¼Œå¤šå±‚çº§ç®¡ç†æ–‡ç« </li>
<li><strong>æ–‡æ¡£æ ‘ç®¡ç†</strong>ï¼šåå°é‡‡ç”¨æ ‘å½¢æ–‡æ¡£ç®¡ç†ï¼Œæ‹–æ‹½æ’åºï¼Œæ‰€è§å³æ‰€å¾—</li>
<li><strong>å¤šç”¨æˆ·æ”¯æŒ</strong>ï¼šæ¯ä¸ªç”¨æˆ·æœ‰ç‹¬ç«‹ä¸»é¡µï¼ˆ<code>/u/username</code>ï¼‰ï¼Œç‹¬ç«‹åˆ†ç±»å’Œæ–‡ç« </li>
<li><strong>æ·±è‰²æ¨¡å¼</strong>ï¼šè·Ÿéšç³»ç»Ÿæˆ–æ‰‹åŠ¨åˆ‡æ¢ï¼Œå…¨ç«™é€‚é…</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šä»æ‰‹æœºåˆ°æ¡Œé¢ç«¯å®Œç¾é€‚é…</li>
<li><strong>ä¸€é”®éƒ¨ç½²</strong>ï¼šGitHub Actions è‡ªåŠ¨æ„å»ºã€SSH éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ŒPM2 è¿›ç¨‹ç®¡ç†</li>
</ul>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>Cursor AI Skill çš„ä»·å€¼ä¸åœ¨äºå®ƒæ˜¯ä¸€ä¸ªå¤šé«˜æ·±çš„æŠ€æœ¯ï¼Œè€Œåœ¨äºå®ƒæä¾›äº†ä¸€ç§æ€è·¯ï¼š<strong>è®© AI ä¸åªæ˜¯å›ç­”é—®é¢˜ï¼Œè€Œæ˜¯èå…¥ä½ çš„å·¥ä½œæµ</strong>ã€‚</p>
<p>åœ¨ Ink &amp; Code è¿™ä¸ªé¡¹ç›®ä¸­ï¼ŒAI Skill ä¸²è”äº†ä»ä»£ç æäº¤åˆ°åšå®¢å‘å¸ƒçš„å®Œæ•´é“¾è·¯ã€‚è€Œ Next.js + Prisma + Tiptap + Tailwind è¿™å¥—æŠ€æœ¯æ ˆï¼Œåˆ™æä¾›äº†è¶³å¤Ÿçµæ´»çš„åº•å±‚èƒ½åŠ›æ¥æ”¯æ’‘è¿™ç§è‡ªåŠ¨åŒ–ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæƒ³ä½“éªŒ AI é©±åŠ¨çš„åšå®¢å†™ä½œï¼Œæ¬¢è¿è®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fptclove.com%2F" target="_blank" title="https://ptclove.com/" ref="nofollow noopener noreferrer">ptclove.com</a>Â ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµä½ çš„ AI Skill å®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidç¨€å¥‡å¤æ€ªDNSå¼‚å¸¸ä¹‹DNSæ•°æ®è·å–]]></title>    <link>https://juejin.cn/post/7603383059152044074</link>    <guid>https://juejin.cn/post/7603383059152044074</guid>    <pubDate>2026-02-06T09:09:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603383059152044074" data-draft-id="7603301285476188202" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidç¨€å¥‡å¤æ€ªDNSå¼‚å¸¸ä¹‹DNSæ•°æ®è·å–"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-06T09:09:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡æœ‰äº†é‡è§"/> <meta itemprop="url" content="https://juejin.cn/user/1521379826212983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidç¨€å¥‡å¤æ€ªDNSå¼‚å¸¸ä¹‹DNSæ•°æ®è·å–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379826212983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡æœ‰äº†é‡è§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:09:11.000Z" title="Fri Feb 06 2026 09:09:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b71a09fcc8a54a0e8e1f0b68a18444bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973751&amp;x-signature=6FfG0n8Y0Ap8O8FjFUtGbTV7wEs%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ç€å¤„ç†ç¨€å¥‡å¤æ€ªé—®é¢˜ä¹‹DNSå¼‚å¸¸å¯¼è‡´ç½‘ç»œä¸é€š!!!!</p>
<p>éƒ¨åˆ†ç”¨æˆ·è®¿é—®ä¸é€š,åå°è¯´DNSé—®é¢˜,è¿™ä¸éœ€æ±‚å°±æ¥äº†.è¦æ±‚Android æœé›†DNSæ•°æ®,æ–¹ä¾¿åå°æŸ¥è¯¢.....</p>
<h2 data-id="heading-0">éœ€æ±‚:è·å–DNSæ•°æ®å’Œåå°ç›¸åº”æ•°æ®</h2>
<h2 data-id="heading-1">æ€è·¯</h2>
<ul>
<li>è·å–ç½‘ç»œé…ç½®ä¸­çš„DNSé…ç½®</li>
<li>è·å–ç½‘ç»œè¯·æ±‚æ—¶çš„DNS/HOST/å“åº”çš„æ•°æ®</li>
</ul>
<h2 data-id="heading-2">1:è·å–ç½‘ç»œé…ç½®çš„DNSæ•°æ®</h2>
<p><code>æ³¨æ„:</code></p>
<p>éœ€è¦<code>&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;</code> æƒé™</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * è·å–å½“å‰ WiFi è·¯ç”±å™¨æˆ–ç³»ç»Ÿ DNS æœåŠ¡å™¨åˆ—è¡¨
 * <span class="hljs-doctag">@param</span> context Context
 * <span class="hljs-doctag">@return</span> List&lt;String&gt; DNS IP åˆ—è¡¨
 */</span>


<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDnsServers</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: List&lt;String&gt; {
    <span class="hljs-keyword">val</span> connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) <span class="hljs-keyword">as</span> ConnectivityManager
    <span class="hljs-keyword">val</span> activeNetwork = connectivityManager.activeNetwork ?: <span class="hljs-keyword">return</span> emptyList()
    <span class="hljs-keyword">val</span> linkProperties = connectivityManager.getLinkProperties(activeNetwork) ?: <span class="hljs-keyword">return</span> emptyList()

    <span class="hljs-comment">// è·å– InetAddress åˆ—è¡¨å¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">return</span> linkProperties.dnsServers.map { formatDnsType(it)}
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatDnsType</span><span class="hljs-params">(addr: <span class="hljs-type">InetAddress</span>)</span></span>: String {
    <span class="hljs-keyword">val</span> type = <span class="hljs-keyword">when</span> (addr) {
        <span class="hljs-keyword">is</span> Inet4Address -&gt; <span class="hljs-string">"ipv4--&gt; "</span>
        <span class="hljs-keyword">is</span> Inet6Address -&gt; <span class="hljs-string">"ipv6--&gt; "</span>
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"unknown--&gt; "</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-variable">$type</span>:<span class="hljs-subst">${addr.hostAddress}</span>"</span>
}
</code></pre>
<h2 data-id="heading-3">2:è·å–ç½‘ç»œè¯·æ±‚çš„å“åº”ä»¥åŠDNSæ•°æ®</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DnsCheckCallback</span> {
    <span class="hljs-comment">/** åŸŸåè§£æç»“æœ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDnsResolved</span><span class="hljs-params">(hostname: <span class="hljs-type">String</span>, ipList: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>

    <span class="hljs-comment">/** HTTP è¯·æ±‚å“åº” */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onHttpResponse</span><span class="hljs-params">(code: <span class="hljs-type">Int</span>, body: <span class="hljs-type">String</span>)</span></span>

    <span class="hljs-comment">/** è¯·æ±‚æˆ–è§£æå¤±è´¥ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(t: <span class="hljs-type">Throwable</span>)</span></span>
}

<span class="hljs-comment">/**
 * ä½¿ç”¨ç³»ç»Ÿ DNS è¯·æ±‚æŒ‡å®š URL å¹¶é€šè¿‡å›è°ƒè¿”å› DNS å’Œ HTTP ä¿¡æ¯
 * <span class="hljs-doctag">@param</span> url è¯·æ±‚çš„å®Œæ•´ URLï¼Œä¾‹å¦‚ https://xxx.xx.com  æµ‹è¯•çš„åŸŸå
 * <span class="hljs-doctag">@param</span> callback å›è°ƒ
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">checkDns</span><span class="hljs-params">(
    url: <span class="hljs-type">String</span>,
    callback: <span class="hljs-type">DnsCheckCallback</span>
)</span></span> {
    <span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
        .dns(<span class="hljs-keyword">object</span> : Dns {
            <span class="hljs-meta">@Throws(UnknownHostException::class)</span>
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">lookup</span><span class="hljs-params">(hostname: <span class="hljs-type">String</span>)</span></span>: List&lt;InetAddress&gt; {
                <span class="hljs-keyword">val</span> addresses = Dns.SYSTEM.lookup(hostname)

                <span class="hljs-comment">// å›è°ƒ DNS è§£æç»“æœ</span>
                <span class="hljs-keyword">val</span> ipList = addresses.map { hostname+<span class="hljs-string">" ---&gt; "</span>+formatDnsType(it) }
                callback.onDnsResolved(hostname, ipList)

                <span class="hljs-keyword">return</span> addresses
            }
        })
        .build()

    <span class="hljs-keyword">val</span> request = Request.Builder()
        .url(url)
        .<span class="hljs-keyword">get</span>()
        .build()

    client.newCall(request).enqueue(<span class="hljs-keyword">object</span> : Callback {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(call: <span class="hljs-type">Call</span>, e: <span class="hljs-type">IOException</span>)</span></span> {
            callback.onFailure(e)
        }

        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResponse</span><span class="hljs-params">(call: <span class="hljs-type">Call</span>, response: <span class="hljs-type">Response</span>)</span></span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> body = response.body?.string() ?: <span class="hljs-string">""</span>
                callback.onHttpResponse(response.code, body)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                callback.onFailure(e)
            }
        }
    })
}
</code></pre>
<h2 data-id="heading-4">3: è·å–å·¥å…·</h2>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> android.net.ConnectivityManager
<span class="hljs-keyword">import</span> android.net.wifi.WifiManager
<span class="hljs-keyword">import</span> android.os.Build
<span class="hljs-keyword">import</span> android.util.Log
<span class="hljs-keyword">import</span> okhttp3.*
<span class="hljs-keyword">import</span> java.io.IOException
<span class="hljs-keyword">import</span> java.net.Inet4Address
<span class="hljs-keyword">import</span> java.net.Inet6Address
<span class="hljs-keyword">import</span> java.net.InetAddress
<span class="hljs-keyword">import</span> java.net.UnknownHostException

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@Author</span>: wkq
 * <span class="hljs-doctag">@Time</span>: 2026/2/6 12:15
 * <span class="hljs-doctag">@Desc</span>: ä½¿ç”¨ OkHttp è¯·æ±‚æŒ‡å®š URL å¹¶é€šè¿‡å›è°ƒè¿”å› DNS å’Œ HTTP ä¿¡æ¯ï¼ˆç®€åŒ–ç‰ˆï¼Œåªç”¨ç³»ç»Ÿ DNSï¼‰
 */</span>
<span class="hljs-keyword">object</span> DnsCheckUtil {

    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DnsCheckCallback</span> {
        <span class="hljs-comment">/** åŸŸåè§£æç»“æœ */</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDnsResolved</span><span class="hljs-params">(hostname: <span class="hljs-type">String</span>, ipList: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>

        <span class="hljs-comment">/** HTTP è¯·æ±‚å“åº” */</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onHttpResponse</span><span class="hljs-params">(code: <span class="hljs-type">Int</span>, body: <span class="hljs-type">String</span>)</span></span>

        <span class="hljs-comment">/** è¯·æ±‚æˆ–è§£æå¤±è´¥ */</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(t: <span class="hljs-type">Throwable</span>)</span></span>
    }

    <span class="hljs-comment">/**
     * ä½¿ç”¨ç³»ç»Ÿ DNS è¯·æ±‚æŒ‡å®š URL å¹¶é€šè¿‡å›è°ƒè¿”å› DNS å’Œ HTTP ä¿¡æ¯
     * <span class="hljs-doctag">@param</span> url è¯·æ±‚çš„å®Œæ•´ URLï¼Œä¾‹å¦‚
     * <span class="hljs-doctag">@param</span> callback å›è°ƒ
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">checkDns</span><span class="hljs-params">(
        url: <span class="hljs-type">String</span>,
        callback: <span class="hljs-type">DnsCheckCallback</span>
    )</span></span> {
        <span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
            .dns(<span class="hljs-keyword">object</span> : Dns {
                <span class="hljs-meta">@Throws(UnknownHostException::class)</span>
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">lookup</span><span class="hljs-params">(hostname: <span class="hljs-type">String</span>)</span></span>: List&lt;InetAddress&gt; {
                    <span class="hljs-keyword">val</span> addresses = Dns.SYSTEM.lookup(hostname)

                    <span class="hljs-comment">// å›è°ƒ DNS è§£æç»“æœ</span>
                    <span class="hljs-keyword">val</span> ipList = addresses.map { hostname+<span class="hljs-string">" ---&gt; "</span>+formatDnsType(it) }
                    callback.onDnsResolved(hostname, ipList)

                    <span class="hljs-keyword">return</span> addresses
                }
            })
            .build()

        <span class="hljs-keyword">val</span> request = Request.Builder()
            .url(url)
            .<span class="hljs-keyword">get</span>()
            .build()

        client.newCall(request).enqueue(<span class="hljs-keyword">object</span> : Callback {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(call: <span class="hljs-type">Call</span>, e: <span class="hljs-type">IOException</span>)</span></span> {
                callback.onFailure(e)
            }

            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResponse</span><span class="hljs-params">(call: <span class="hljs-type">Call</span>, response: <span class="hljs-type">Response</span>)</span></span> {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">val</span> body = response.body?.string() ?: <span class="hljs-string">""</span>
                    callback.onHttpResponse(response.code, body)
                } <span class="hljs-keyword">catch</span> (e: Exception) {
                    callback.onFailure(e)
                }
            }
        })
    }


    <span class="hljs-comment">/**
     * è·å–å½“å‰ WiFi è·¯ç”±å™¨æˆ–ç³»ç»Ÿ DNS æœåŠ¡å™¨åˆ—è¡¨
     * <span class="hljs-doctag">@param</span> context Context
     * <span class="hljs-doctag">@return</span> List&lt;String&gt; DNS IP åˆ—è¡¨
     */</span>


    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDnsServers</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: List&lt;String&gt; {
        <span class="hljs-keyword">val</span> connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) <span class="hljs-keyword">as</span> ConnectivityManager
        <span class="hljs-keyword">val</span> activeNetwork = connectivityManager.activeNetwork ?: <span class="hljs-keyword">return</span> emptyList()
        <span class="hljs-keyword">val</span> linkProperties = connectivityManager.getLinkProperties(activeNetwork) ?: <span class="hljs-keyword">return</span> emptyList()

        <span class="hljs-comment">// è·å– InetAddress åˆ—è¡¨å¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
        <span class="hljs-keyword">return</span> linkProperties.dnsServers.map { formatDnsType(it)}
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatDnsType</span><span class="hljs-params">(addr: <span class="hljs-type">InetAddress</span>)</span></span>: String {
        <span class="hljs-keyword">val</span> type = <span class="hljs-keyword">when</span> (addr) {
            <span class="hljs-keyword">is</span> Inet4Address -&gt; <span class="hljs-string">"ipv4--&gt; "</span>
            <span class="hljs-keyword">is</span> Inet6Address -&gt; <span class="hljs-string">"ipv6--&gt; "</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"unknown--&gt; "</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-variable">$type</span>:<span class="hljs-subst">${addr.hostAddress}</span>"</span>
    }

}
</code></pre>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>DNSæ±¡æŸ“/VPN/è¿è¥å•†æ‹‰é»‘éƒ½ä¼šå¯¼è‡´åŸŸåæŒ‡å‘ä¸å¯¹,è¿™ç§é—®é¢˜éœ€è¦å‰åç«¯é…åˆå¤„ç†,æš‚æ—¶åªè¿›å±•åˆ°äº†DNSæ•°æ®æŸ¥è¯¢,åç»­æœ‰å¤„ç†çš„ç›¸å…³è¿›å±•ä¼šä¼´éšæ›´æ–°</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MaxCompute Autoscaleè‡ªåŠ¨å¼¹æ€§åŠŸèƒ½ä¸Šçº¿ï¼šèµ„æºéšéœ€è€ŒåŠ¨ï¼Œæˆæœ¬ç²¾æ‰“ç»†ç®—]]></title>    <link>https://juejin.cn/post/7603308967125942272</link>    <guid>https://juejin.cn/post/7603308967125942272</guid>    <pubDate>2026-02-06T09:12:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603308967125942272" data-draft-id="7603355275257708584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MaxCompute Autoscaleè‡ªåŠ¨å¼¹æ€§åŠŸèƒ½ä¸Šçº¿ï¼šèµ„æºéšéœ€è€ŒåŠ¨ï¼Œæˆæœ¬ç²¾æ‰“ç»†ç®—"/> <meta itemprop="keywords" content="å¤§æ•°æ®,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-06T09:12:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MaxCompute Autoscaleè‡ªåŠ¨å¼¹æ€§åŠŸèƒ½ä¸Šçº¿ï¼šèµ„æºéšéœ€è€ŒåŠ¨ï¼Œæˆæœ¬ç²¾æ‰“ç»†ç®—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:12:09.000Z" title="Fri Feb 06 2026 09:12:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äº‘åŸç”Ÿæ•°æ®ä»“åº“çš„æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•åœ¨<strong>ä¿éšœä½œä¸šSLA</strong>ä¸<strong>ä¼˜åŒ–èµ„æºæˆæœ¬</strong>ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œå§‹ç»ˆæ˜¯ç”¨æˆ·å…³æ³¨çš„æ ¸å¿ƒé—®é¢˜ã€‚ä¼ ç»Ÿé™æ€èµ„æºé…ç½®æ¨¡å¼éš¾ä»¥åº”å¯¹ç°ä»£æ•°æ®ä½œä¸šä¸­æ™®éå­˜åœ¨çš„<strong>çªå‘æ€§ã€éå‘¨æœŸæ€§ã€ä¸å¯é¢„æµ‹æ€§</strong>è´Ÿè½½ç‰¹å¾ã€‚</p>
<p>MaxComputeÂ å…¨æ–°æ¨å‡ºÂ <strong>è‡ªåŠ¨å¼¹æ€§ï¼ˆAutoscaleï¼‰åŠŸèƒ½</strong>â€”â€”åŸºäºå®æ—¶è´Ÿè½½æ„ŸçŸ¥çš„ç§’çº§å¼¹æ€§æ‰©ç¼©å®¹æœºåˆ¶ï¼Œç»“åˆæŒ‰é‡è®¡è´¹æ¨¡å‹ï¼Œå®ç°è®¡ç®—èµ„æºä¾›ç»™ä¸ä¸šåŠ¡éœ€æ±‚çš„åŠ¨æ€å¯¹é½ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ï¼šä»é™æ€é¢„ç•™åˆ°æ™ºèƒ½å¼¹æ€§</h2>
<p>è¿‡å»ï¼ŒMaxComputeÂ ç”¨æˆ·ä¸»è¦ä¾èµ–Â <strong>åŒ…å¹´åŒ…æœˆé¢„ç•™èµ„æº</strong>ï¼šç¨³å®šå¯é ï¼Œä½†ç¼ºä¹çµæ´»æ€§ï¼›é¢å¯¹çªå‘éœ€æ±‚ï¼Œåªèƒ½æå‰å¤§é‡é‡‡è´­ï¼Œé€ æˆå¤§é‡é—²ç½®ã€‚</p>
<p>åæ¥ï¼ŒåŸºäºæ¨å‡ºçš„<strong>å¼¹æ€§é¢„ç•™</strong>Â æ¨¡å¼ï¼šç”¨æˆ·å¯è‡ªå®šä¹‰æ—¶é—´è®¡åˆ’å’Œæ‰©ç¼©è§„åˆ™ï¼Œé€‚ç”¨äºæœ‰æ˜æ˜¾å‘¨æœŸæ€§æ³¢åŠ¨çš„åœºæ™¯ï¼ˆå¦‚æ¯å¤©å‡Œæ™¨è·‘æ‰¹ï¼‰ã€‚ä½†è¿™ä¹Ÿè¦æ±‚ç”¨æˆ·å…·å¤‡è¾ƒå¼ºçš„è¿ç»´èƒ½åŠ›ï¼Œä¸”éš¾ä»¥åº”å¯¹çªå‘æˆ–ä¸è§„åˆ™çš„è´Ÿè½½å˜åŒ–ã€‚</p>
<p>ç°åœ¨ï¼ŒMaxComputeÂ å…¨æ–°æ¨å‡ºÂ <strong>è‡ªåŠ¨å¼¹æ€§ï¼ˆAutoscaleï¼‰åŠŸèƒ½</strong>Â â€”â€”Â é€šè¿‡ç³»ç»Ÿçš„è´Ÿè½½æ„ŸçŸ¥ä¸è°ƒåº¦ç­–ç•¥ï¼Œå®ç°â€œæ— æ„Ÿæ‰©ç¼©â€ï¼Œå¡«è¡¥äº†<strong>éç¨³æ€ã€é«˜åŠ¨æ€</strong>åœºæ™¯ä¸‹çš„èµ„æºç®¡ç†ç©ºç™½ï¼ŒçœŸæ­£åšåˆ°â€œç”¨å¤šå°‘ï¼Œä»˜å¤šå°‘â€ã€‚</p>





























<table><thead><tr><th><strong>èµ„æºç±»å‹</strong></th><th><strong>æ‰©ç¼©æœºåˆ¶</strong></th><th><strong>è®¡è´¹æ¨¡å‹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>åŒ…å¹´åŒ…æœˆé¢„ç•™</td><td>å›ºå®šCUï¼Œé•¿æœŸæŒæœ‰</td><td>ä¸ºè´­ä¹°é‡ä»˜è´¹</td><td>è´Ÿè½½ç¨³å®šã€æ— æ³¢åŠ¨</td></tr><tr><td>å¼¹æ€§é¢„ç•™</td><td>ç”¨æˆ·è‡ªå®šä¹‰æ—¶é—´/CUè§„åˆ™æ‰©ç¼©</td><td>æŒ‰ç”¨æˆ·åˆ†æ—¶é…ç½®çš„å›ºå®šCUé‡è®¡è´¹</td><td>å‘¨æœŸæ€§æ³¢åŠ¨ã€å³°è°·å¯é¢„æµ‹ã€ç”¨æˆ·æœ‰ç²¾ç»†åŒ–é…ç½®ç»éªŒ</td></tr><tr><td><strong>è‡ªåŠ¨å¼¹æ€§</strong></td><td><strong>ç³»ç»Ÿå®æ—¶æ„ŸçŸ¥è´Ÿè½½åè‡ªåŠ¨æ‰©ç¼©å®¹</strong></td><td><strong>æŒ‰å®é™…ç”¨é‡å’Œä½¿ç”¨æ—¶é•¿ä»˜è´¹</strong></td><td><strong>æ³¢åŠ¨é¢‘ç¹ã€ä¸å¯é¢„æµ‹ï¼Œè¿½æ±‚æˆæœ¬æ•ˆç‡</strong></td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cbbfef6d0ef43208687820584bf3eb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973929&amp;x-signature=YN8OMbza5jn8v5DuTU0UMJ6gFCg%3D" alt="5eecdaf48460cde50899366ff2de297027d88596f71c45df75b8339e1c4c2483d73fcbd75708105f8d68742cd653602a15464a86392b1bf5bbb40cca91051d59fb518341bbcfc52040cf883a4fe865182fc27d1bdab16641220e3dd3b60b5d1e.png" loading="lazy"/></p>
<p>ä¸‰è€…å¯ç»„åˆä½¿ç”¨ï¼šä»¥åŒ…å¹´åŒ…æœˆä¸ºåŸºç¡€ä¿éšœï¼Œå¼¹æ€§é¢„ç•™åº”å¯¹å¯é¢„æµ‹é«˜å³°ï¼Œè‡ªåŠ¨å¼¹æ€§å…œåº•çªå‘æµé‡ï¼Œæ„å»ºMaxComputeÂ ServerlessÂ å¼¹æ€§èµ„æºä½“ç³»ã€‚</p>
<h2 data-id="heading-1">äºŒã€è‡ªåŠ¨å¼¹æ€§æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-2">1.Â å¼€ç®±å³ç”¨ï¼Œä½è¿ç»´è´Ÿæ‹…</h3>
<ul>
<li>
<p>ç”¨æˆ·åªéœ€è®¾ç½®Â <code>AutoscaleLimitCU</code>ï¼ˆè‡ªåŠ¨å¼¹æ€§ä¸Šé™ï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆæ‰©ç¼©å†³ç­–ï¼›</p>
</li>
<li>
<p>æ”¯æŒä¸€çº§/äºŒçº§Â QuotaÂ ç²’åº¦é…ç½®ï¼ŒäºŒçº§Â QuotaÂ å…±äº«ä¸€çº§è‡ªåŠ¨å¼¹æ€§CUèµ„æºæ± ï¼Œè‡ªåŠ¨åˆ†é…ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">2.Â æŒ‰éœ€ä¾›ç»™ï¼ŒæŒ‰é‡è®¡è´¹</h3>
<ul>
<li>
<p>ä»…å¯¹å®é™…ä½¿ç”¨çš„è‡ªåŠ¨å¼¹æ€§CUï¼ˆ<code>AutoscaleUsedCU</code>ï¼‰ç”¨é‡æŒ‰ç§’è®¡é‡ï¼ŒæŒ‰å°æ—¶ç»Ÿè®¡å‡ºè´¦ï¼›</p>
</li>
<li>
<p>å•ä»·ï¼š<strong>0.36å…ƒÂ /Â (CUÂ·æ—¶)</strong>ï¼Œæ— éœ€é¢„ä»˜ï¼Œæ— æœ€ä½æ¶ˆè´¹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">3.Â ç§’çº§å“åº”ï¼Œä¿éšœä½œä¸šSLA</h3>
<ul>
<li>
<p>ç›¸æ¯”å°æ—¶çº§è°ƒåº¦çª—å£ï¼Œè‡ªåŠ¨å¼¹æ€§æ”¯æŒ<strong>ç§’çº§èµ„æºè°ƒæ•´</strong>ï¼Œæœ‰æ•ˆåº”å¯¹çªå‘ä½œä¸šæ’é˜Ÿï¼›</p>
</li>
<li>
<p>åç«¯åŸºäºå†å²è´Ÿè½½ä¸é¢„æµ‹æ¨¡å‹ä¼˜åŒ–åº“å­˜ä¿éšœå’Œèµ„æºè°ƒåº¦ï¼Œæå‡å¼¹æ€§èµ„æºå¯ç”¨æ€§ã€‚</p>
</li>
</ul>
<p>âš ï¸Â æ³¨æ„ï¼šè‡ªåŠ¨å¼¹æ€§ä¾èµ–å®æ—¶èµ„æºåº“å­˜ï¼Œæ— æ³•100%ä¿è¯æç«¯çªå‘åœºæ™¯ä¸‹çš„èµ„æºå¯è¾¾æ€§ã€‚å¯¹äºå¼ºSLAè¦æ±‚åœºæ™¯ï¼ˆå¦‚å¤§ä¿ƒï¼‰ï¼Œå»ºè®®<strong>åŒæ­¥é…ç½®å¼¹æ€§é¢„ç•™</strong>ä½œä¸ºèµ„æºå…œåº•ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€çœŸå®åœºæ™¯æ¡ˆä¾‹</h2>
<h3 data-id="heading-6">åœºæ™¯ä¸€ï¼šçªå‘ä¸šåŠ¡é«˜å³°ä¸‹çš„ä½œä¸šSLAä¿éšœ</h3>
<p>æŸç”µå•†å¹³å°å®¢æˆ·ï¼Œæ—¥å¸¸ä½¿ç”¨Â <strong>50Â CUÂ åŒ…å¹´åŒ…æœˆQuota</strong>ï¼Œè¶³ä»¥æ”¯æ’‘æ—¥å¸¸æ•°æ®åŠ å·¥åˆ†æä»»åŠ¡ã€‚ä½†æ¯é€¢å¤§ä¿ƒï¼Œä½œä¸šé‡æ¿€å¢3å€ï¼ŒåŸæœ‰èµ„æºä¸¥é‡ä¸è¶³ï¼Œä½œä¸šæ’é˜Ÿè¶…2å°æ—¶ï¼Œä¸¥é‡å½±å“æ•°æ®äº§å‡ºæ—¶æ•ˆã€‚</p>
<p>å®¢æˆ·æ›¾è¯„ä¼°æ‰©å®¹åŒ…å¹´åŒ…æœˆQuotaè‡³150Â CUï¼Œä½†å¤§ä¿ƒä»…å å…¨å¹´ä¸åˆ°20%çš„æ—¶é—´ï¼Œå…¨å¹´å¤šèŠ±<strong>çº¦18ä¸‡å…ƒ</strong>ï¼Œé•¿æœŸæŒæœ‰é«˜é…èµ„æºæ€§ä»·æ¯”æä½ã€‚</p>
<p><strong>å¯ç”¨Â AutoscaleÂ å</strong>ï¼š</p>
<ul>
<li>
<p>è®¾ç½®Â è‡ªåŠ¨å¼¹æ€§ä¸Šé™Â AutoscaleLimitÂ ä¸ºÂ <strong>100Â CU</strong>ï¼ˆå³æœ€å¤šå¯é¢å¤–ä½¿ç”¨100Â CUè‡ªåŠ¨å¼¹æ€§CUï¼‰</p>
</li>
<li>
<p>ç³»ç»Ÿåœ¨æ£€æµ‹åˆ°ä½œä¸šé˜Ÿåˆ—ç§¯å‹åï¼Œ<strong>ç§’çº§è‡ªåŠ¨æ‰©å®¹ï¼Œ</strong> åŠ¨æ€å°†å¯ç”¨CUæå‡è‡³140CUï¼ˆ50Â CUåŒ…å¹´åŒ…æœˆÂ +Â 90CUè‡ªåŠ¨å¼¹æ€§ï¼‰ï¼Œä½œä¸šå®Œæˆæ—¶é—´æ¢å¤è‡³30åˆ†é’Ÿå†…ï¼Œæ»¡è¶³ä¸šåŠ¡SLAè¦æ±‚ï¼›</p>
</li>
</ul>
<p>â€œä»¥å‰ä¸æ•¢åšå¤§ä¿ƒå®æ—¶åˆ†æï¼Œç°åœ¨æ•¢äº†ï¼Œè€Œä¸”èŠ±å¾—æ›´å°‘ï¼â€Â â€”â€”Â å®¢æˆ·åé¦ˆ</p>
<h3 data-id="heading-7">åœºæ™¯äºŒï¼šæ›¿ä»£åˆ†æ—¶å¼¹æ€§ï¼Œå®ç°é™æœ¬å¢æ•ˆ</h3>
<p>æŸé‡‘èå®¢æˆ·æ¯æ—¥éœ€æ‰§è¡Œå¤§é‡Â T+1Â æ‰¹å¤„ç†ä»»åŠ¡ï¼Œç”¨äºå…¨é‡äº¤æ˜“å¯¹è´¦ã€ç›‘ç®¡æŠ¥é€æ•°æ®èšåˆç­‰ï¼Œé•¿æœŸé‡‡ç”¨Â <strong>åˆ†æ—¶å¼¹æ€§é¢„ç•™ç­–ç•¥</strong>ï¼šæ¯æ—¥22:00â€“6:00Â æ—¶æ®µå°†Â QuotaÂ ä»Â åŒ…æœˆé¢„ç•™Â 50Â CUÂ æ‰©å®¹è‡³Â 100Â CUã€‚</p>
<p>ä½†æ—¶å¸¸å› ä¸šåŠ¡æ´»åŠ¨ã€èŠ‚å‡æ—¥è°ƒä¼‘ã€ç³»ç»Ÿå‰²æ¥æ´»ä¸Šæ¸¸äº§å‡ºå»¶è¿Ÿç­‰ï¼Œå¸¸å‡ºç°â€œèµ„æºç©ºè½¬â€æˆ–â€œå®¹é‡ä¸è¶³â€å¹¶å­˜çš„é—®é¢˜ï¼Œè¿ç»´å›¢é˜Ÿéœ€é¢‘ç¹è°ƒæ•´å¼¹æ€§è®¡åˆ’ï¼Œä½†äººå·¥å¹²é¢„æ»åæ€§å¼ºï¼Œä¸”æ˜“å‡ºé”™ã€‚</p>
<p><strong>åˆ‡æ¢è‡³Â AutoscaleÂ å</strong>ï¼š</p>
<ul>
<li>
<p>è®¾ç½®è‡ªåŠ¨å¼¹æ€§ä¸Šé™Â AutoscaleLimitCUÂ ä¸ºÂ <strong>60Â CU</strong>Â ï¼Œå…è®¸ç³»ç»Ÿåœ¨Â 50Â â€“Â 110Â CUÂ èŒƒå›´å†…åŠ¨æ€æ‰©ç¼©ï¼›</p>
</li>
<li>
<p>ç³»ç»Ÿæ ¹æ®å®é™…ä½œä¸šé˜Ÿåˆ—åŠ¨æ€è°ƒæ•´å¼¹æ€§CUï¼Œå¤œé—´å¹³å‡ä»…ä½¿ç”¨Â <strong>30Â CU</strong>Â è‡ªåŠ¨å¼¹æ€§èµ„æºï¼›</p>
</li>
<li>
<p>æœˆåº¦å¼¹æ€§è´¹ç”¨ä»åˆ†æ—¶å¼¹æ€§CUÂ <strong>3780å…ƒ</strong>Â ï¼ˆ50CUÂ *0.315å…ƒ/CU*8å°æ—¶*30å¤©ï¼‰é™è‡³Â <strong>2592å…ƒ</strong>ï¼ˆ30CUÂ *0.36å…ƒ/CU*å°æ—¶*8å°æ—¶*30å¤©ï¼‰ï¼Œ<strong>é™æœ¬32%</strong>ï¼Œä¸”ä½œä¸šå®Œæˆæ—¶é—´æ›´ç¨³å®šã€‚</p>
</li>
</ul>
<p>â€œä¸ç”¨å†ç†¬å¤œè°ƒé…ç½®äº†ï¼Œç³»ç»Ÿè‡ªå·±ä¼šâ€˜çœ‹é¥­ä¸‹èœâ€™ï¼â€Â â€”â€”Â è¿ç»´å·¥ç¨‹å¸ˆç‚¹èµ</p>
<h2 data-id="heading-8">å››ã€å¿«é€Ÿå¯ç”¨</h2>
<h3 data-id="heading-9">æ¦‚å¿µè¯´æ˜</h3>
<p>è‡ªåŠ¨å¼¹æ€§ä¸Šé™CUï¼ˆAutoscalelimitCUï¼‰ï¼šæŒ‡ç”¨æˆ·ä¸ºQuotaè®¾ç½®çš„å¼¹æ€§CUèµ„æºæ€»ä¸Šé™ã€‚å½“è¯¥å€¼Â &gt;Â 0Â æ—¶ï¼Œåˆ™ä¸ºå¯ç”¨è‡ªåŠ¨å¼¹æ€§åŠŸèƒ½ï¼Œç³»ç»Ÿå¯åœ¨æ­¤ä¸Šé™èŒƒå›´å†…æŒ‰å®é™…è´Ÿè½½è‡ªåŠ¨æ‰©ç¼©å®¹ã€‚è‡ªåŠ¨å¼¹æ€§ä½¿ç”¨CUï¼ˆAutoscaleUsedCUï¼‰ï¼šæŒ‡åœ¨å¯ç”¨è‡ªåŠ¨å¼¹æ€§åï¼ŒQuotaä¸­å®é™…æ¶ˆè€—çš„è‡ªåŠ¨å¼¹æ€§CUèµ„æºä½¿ç”¨é‡ã€‚ç³»ç»Ÿå°†æ ¹æ®ä½œä¸šè´Ÿè½½è‡ªåŠ¨è°ƒæ•´CUç”¨é‡ï¼Œå¹¶æŒ‰æ­¤å®é™…CUä½¿ç”¨é‡è®¡è´¹ã€‚</p>
<h3 data-id="heading-10">ä½¿ç”¨é¡»çŸ¥</h3>
<p><strong>å‰ææ¡ä»¶</strong>ï¼šå¿…é¡»å·²è´­ä¹°<strong>åŒ…å¹´åŒ…æœˆè®¡ç®—èµ„æºQuota</strong>ï¼›<strong>è®¡è´¹å•ä½</strong>ï¼šCUÂ·æ—¶ï¼ŒæŒ‰ç§’é‡‡æ ·ã€æŒ‰å°æ—¶èšåˆï¼›<strong>è‡ªåŠ¨å¼¹æ€§CUä»·æ ¼</strong>ï¼š0.36å…ƒÂ /(CU*æ—¶)ï¼›<strong>è®¡è´¹å…¬å¼ï¼š</strong> æ¯å°æ—¶çš„è´¹ç”¨Â =Â è¯¥å°æ—¶è‡ªåŠ¨å¼¹æ€§CUç”¨é‡ï¼ˆå•ä½ï¼šCU*æ—¶ï¼‰Ã—Â è‡ªåŠ¨å¼¹æ€§CUä»·æ ¼ã€‚</p>
<h3 data-id="heading-11">è°é€‚åˆç”¨è‡ªåŠ¨å¼¹æ€§ï¼Ÿ</h3>
<p>âœ…Â <strong>ä¸šåŠ¡è´Ÿè½½æ³¢åŠ¨é¢‘ç¹ã€éš¾ä»¥é¢„æµ‹</strong>ï¼ˆå¦‚è¥é”€æ´»åŠ¨ã€ä¸´æ—¶åˆ†æï¼‰
âœ…Â <strong>å¸Œæœ›ä¿éšœä½œä¸šæ€§èƒ½ï¼ŒåŒæ—¶é¿å…èµ„æºæµªè´¹</strong>
âœ…Â <strong>å·²æœ‰åŒ…å¹´åŒ…æœˆQuotaï¼Œæƒ³è¿›ä¸€æ­¥è¡¥å……/ä¼˜åŒ–å¼¹æ€§èµ„æº</strong></p>
<p>ç™»å½•Â MaxComputeÂ æ§åˆ¶å°Â â†’Â Quotaç®¡ç†Â â†’Â ç¼–è¾‘åŸºç¡€é…ç½®Â â†’Â è®¾ç½®Â <strong>AutoscaleLimitCU</strong></p>
<p>å³å¯å¼€å¯æ™ºèƒ½å¼¹æ€§ä¹‹æ—…ï¼</p>
<p>æ›´å¤šè¯´æ˜æ–‡æ¡£è¯·å‚è€ƒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fmaxcompute%2Fuse-cases%2Fauto-elastic-usage-best-practices%3Fspm%3Da2c4g.11174283.help-menu-search-27797.d_0" target="_blank" title="https://help.aliyun.com/zh/maxcompute/use-cases/auto-elastic-usage-best-practices?spm=a2c4g.11174283.help-menu-search-27797.d_0" ref="nofollow noopener noreferrer">help.aliyun.com/zh/maxcompuâ€¦</a></p>
<h2 data-id="heading-12">äº”ã€æ€»ç»“</h2>
<p>è‡ªåŠ¨å¼¹æ€§ä¸æ˜¯ç®€å•çš„â€œèµ„æºæ‰©å®¹â€ï¼Œè€Œæ˜¯Â MaxComputeÂ åœ¨<strong>æ™ºèƒ½è°ƒåº¦ã€æˆæœ¬æ²»ç†ã€SLAä¿éšœ</strong>ä¸‰ä½ä¸€ä½“æ–¹å‘ä¸Šçš„é‡è¦æ¼”è¿›ã€‚å®ƒè®©èµ„æºç®¡ç†ä»â€œé™æ€è§„åˆ’â€èµ°å‘â€œåŠ¨æ€ååŒâ€ï¼ŒçœŸæ­£å®ç°â€œ<strong>ç”¨å¤šå°‘ï¼Œä»˜å¤šå°‘ï¼›è¦å¤šå°‘ï¼Œç»™å¤šå°‘</strong>â€ã€‚</p>
<p>æ¬¢è¿æ‚¨çš„è¯•ç”¨å¹¶åé¦ˆæ‚¨çš„ç”Ÿäº§å®è·µã€‚æˆ‘ä»¬å°†æŒç»­ä¼˜åŒ–å¼¹æ€§è°ƒåº¦ç®—æ³•ä¸èµ„æºä¿éšœèƒ½åŠ›ï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºæ›´é«˜æ•ˆã€æ›´ç»æµçš„äº‘åŸç”Ÿæ•°æ®åŸºç¡€è®¾æ–½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIæ—¶ä»£çš„å¼€å‘è€…ï¼Œéœ€è¦çš„æ˜¯â€œåˆ¤æ–­ç©ºé—´â€]]></title>    <link>https://juejin.cn/post/7603309951227461682</link>    <guid>https://juejin.cn/post/7603309951227461682</guid>    <pubDate>2026-02-06T09:13:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227461682" data-draft-id="7603359026711314442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIæ—¶ä»£çš„å¼€å‘è€…ï¼Œéœ€è¦çš„æ˜¯â€œåˆ¤æ–­ç©ºé—´â€"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-06T09:13:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸œä¸œæ‹¿é“"/> <meta itemprop="url" content="https://juejin.cn/user/3808364011728392"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIæ—¶ä»£çš„å¼€å‘è€…ï¼Œéœ€è¦çš„æ˜¯â€œåˆ¤æ–­ç©ºé—´â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364011728392/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸œä¸œæ‹¿é“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:13:59.000Z" title="Fri Feb 06 2026 09:13:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0">å¼•è¨€</h3>
<p>åœ¨AIè¿›å±•çªé£çŒ›è¿›çš„ä»Šå¤©ï¼Œæˆ‘çš„å·¥ä½œæ–¹å¼å·²ç»æ‚„æ‚„å‘ç”Ÿäº†è®¸å¤šæ”¹å˜ã€‚</p>
<p>æ¯”å¦‚ï¼Œæˆ‘èŠ±åœ¨â€œå†™ä»£ç â€ä¸Šçš„æ—¶é—´åœ¨å˜çš„è¶Šæ¥è¶Šå°‘ï¼ŒèŠ±åœ¨â€œåˆ¤æ–­æ–¹å‘ã€åˆ¤æ–­ç»“æœã€åˆ¤æ–­æ˜¯å¦ç¬¦åˆé¢„æœŸâ€ä¸Šçš„æ—¶é—´ï¼Œå´åœ¨æ˜æ˜¾å˜å¤šã€‚</p>
<p>ä»£ç æœ¬èº«ï¼Œå·²ç»ä¸å†æ˜¯æœ€æ¶ˆè€—ç²¾åŠ›çš„éƒ¨åˆ†ã€‚</p>
<p>çœŸæ­£è®©äººæ„Ÿåˆ°ç–²æƒ«çš„ï¼Œæ˜¯ä¸æ–­åœ°ç¡®è®¤ï¼š</p>
<p>AI ç»™å‡ºçš„ä¸œè¥¿ï¼Œæ˜¯ä¸æ˜¯æˆ‘æƒ³è¦çš„é‚£ä¸ªæ–¹å‘ã€‚</p>
<p>ä¹Ÿæ­£æ˜¯åœ¨è¿™æ ·çš„å·¥ä½œçŠ¶æ€ä¸‹ï¼Œæˆ‘å¼€å§‹é‡æ–°å®¡è§†ä¸€äº›ä»¥å‰ä¹ ä»¥ä¸ºå¸¸çš„å·¥å…·â€”â€”</p>
<p>æ¯”å¦‚ï¼Œä¸€å°æ¯å¤©é™ªæˆ‘ååœ¨æ¡Œå­å‰çš„æ˜¾ç¤ºå™¨ã€‚</p>
<h3 data-id="heading-1">å½“â€œçœ‹â€æˆä¸ºä¸»è¦å·¥ä½œï¼Œå±å¹•å°±ä¸å†æ˜¯èƒŒæ™¯</h3>
<p>åœ¨ AI å‚ä¸å¼€å‘ä¹‹åï¼Œæˆ‘èŠ±åœ¨â€œçœ‹â€ä¸Šçš„æ—¶é—´ï¼Œè¿œæ¯”ä»¥å‰å¤šã€‚</p>
<p>çœ‹æ¨¡å‹ç”Ÿæˆçš„ä»£ç ç»“æ„æ˜¯å¦åˆç†ï¼Œçœ‹é€»è¾‘æœ‰æ²¡æœ‰åœ¨æŸä¸ªåˆ†æ”¯ä¸Šèµ°åï¼Œçœ‹å®ƒæ˜¯ä¸æ˜¯åœ¨è§£å†³æˆ‘çœŸæ­£æƒ³è§£å†³çš„é—®é¢˜ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå±å¹•ä¸å†åªæ˜¯ä¸€ä¸ªæ‰¿è½½ä»£ç çš„èƒŒæ™¯ï¼Œè€Œæ˜¯æˆ‘ç†è§£ä¿¡æ¯çš„ç¬¬ä¸€é“è¿‡æ»¤å™¨ã€‚</p>
<p>å¦‚æœå±å¹•æœ¬èº«åœ¨é¢œè‰²ã€åå…‰ã€å±‚çº§ä¸Šç»™æˆ‘åˆ¶é€ å¹²æ‰°ï¼Œé‚£åˆ¤æ–­å°±ä¼šå˜å¾—æ›´æ…¢ï¼Œä¹Ÿæ›´å®¹æ˜“å‡ºé”™ã€‚</p>
<p>è¿™æ¬¡æˆ‘ä½“éªŒåˆ°äº†BenQ RD280UGè¿™æ¬¾äº§å“ï¼Œå°±æ˜¯ä¸€å°ä¸“ä¸ºå¼€å‘è€…è®¾è®¡çš„æ˜¾ç¤ºå™¨ï¼š</p>
<p>3:2 çš„å±å¹•æ¯”ä¾‹ï¼ŒæŠŠæ›´å¤šç©ºé—´ç•™ç»™é˜…è¯»å’Œåˆ¤æ–­ï¼›é’ˆå¯¹æ·±è‰²ã€æµ…è‰² IDE çš„ä¸“ä¸šç¼–ç¨‹æ¨¡å¼ï¼Œè®©ä»£ç å±‚çº§æ›´å®¹æ˜“è¢«è¯†åˆ«ï¼›è¿™æ¬¡è¿˜å‡çº§äº†ç¼–ç¨‹-å½©çº¸æ¨¡å¼å’Œ120Hzçš„é«˜åˆ·ï¼Œè®©åå¤æŸ¥çœ‹ã€å¯¹ç…§ä¸é‚£ä¹ˆç–²æƒ«ï¼›</p>
<p>è¿™äº›ç‰¹æ€§åœ¨ AI æ—¶ä»£ï¼Œå½“â€œåˆ¤æ–­â€æˆä¸ºæˆ‘ä»¬çš„ä¸»è¦å·¥ä½œæ—¶ï¼Œæˆ‘å‘ç°å®ƒä»¬å¼€å§‹å˜å¾—å¾ˆé‡è¦ã€‚</p>
<h3 data-id="heading-2">ç¼–ç¨‹æ¨¡å¼ï¼Œå…¶å®æ˜¯ä¸ºâ€œåˆ¤æ–­â€æœåŠ¡çš„</h3>
<p>BenQ RD280UGæä¾›äº†ç¼–ç¨‹ä¸“ç”¨çš„è‰²å½©æ¨¡å¼ï¼Œé’ˆå¯¹é«˜é¢‘ä½¿ç”¨çš„Ideaã€Vs Codeç­‰IDEä¸»é¢˜ç¯å¢ƒï¼Œæä¾›äº†æ·±è‰²ã€äº®è‰²ä¸¤ç§ä¸»é¢˜æ¨¡å¼ã€‚</p>
<p>åœ¨ç¼–ç¨‹æ¨¡å¼ä¸‹ï¼Œé€šè¿‡æ™ºèƒ½ä¼˜åŒ–è¯­æ³•é«˜äº®ï¼Œå¯¹å¤šç§ä»£ç å…ƒç´ è¿›è¡Œè‰²æ¸©ï¼Œè‰²å½©ï¼Œå¯¹æ¯”åº¦çš„ä¸“é¡¹ä¼˜åŒ–ï¼Œæå¤§çš„å‡¸ç°äº†ä»£ç å­—ç¬¦æ¸…æ™°åº¦ï¼Œæé«˜ä»£ç åŒºåˆ†åº¦ã€‚</p>
<p>åœ¨é¢å¯¹ AI ç”Ÿæˆçš„ä»£ç æ—¶ï¼Œè®©ä¸åŒå±‚çº§çš„ä¿¡æ¯ï¼Œåœ¨ç¬¬ä¸€çœ¼å°±èƒ½è¢«åŒºåˆ†å‡ºæ¥ï¼Œåœ¨å½“ä¸‹çš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œæ­£åœ¨å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚</p>
<p>æˆ‘ç°åœ¨è¿˜ä¸èƒ½å®Œå…¨ä¿¡ä»»AIçš„ä»£ç ï¼Œå› æ­¤éœ€è¦å¿«é€Ÿåˆ¤æ–­ï¼š</p>
<ul>
<li>å“ªä¸€æ®µæ˜¯å…³é”®é€»è¾‘</li>
<li>å“ªäº›åœ°æ–¹éœ€è¦æˆ‘è¿›ä¸€æ­¥ä»‹å…¥</li>
</ul>
<p>ä¹Ÿæ­£æ˜¯åœ¨è¿™æ ·çš„å·¥ä½œçŠ¶æ€ä¸‹ï¼Œæˆ‘é‡æ–°ç†è§£äº†æ‰€è°“çš„â€œç¼–ç¨‹æ¨¡å¼â€ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0aeee4b52aa451ba53a614fbdff054e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=Cqj5KTI5ldekYKWcjCK2LAHBAxI%3D" alt="2E0ED2A5-C2E1-4252-AD5E-72A871182CF6.jpg" loading="lazy"/>
(å·¦ä¾§æ˜¯å¼€å¯æ·±è‰²ä¸»é¢˜ï¼Œå³ä¾§æ˜¯ä¸å¼€æ·±è‰²ä¸»é¢˜)</p>
<p>å½“å±å¹•èƒ½å¤Ÿé’ˆå¯¹æ·±è‰²ã€æµ…è‰² IDE åšå‡ºé€‚é…ï¼Œå¼ºåŒ–è¯­ä¹‰å’Œç»“æ„å·®å¼‚æ—¶ï¼Œåˆ¤æ–­è¿™ä»¶äº‹æœ¬èº«ï¼Œå°±ä¼šå˜å¾—æ›´ç›´æ¥ä¸€äº›ã€‚</p>
<p>ä¸æ˜¯æ›´å¿«ï¼Œè€Œæ˜¯æ›´å°‘ç»•è·¯ã€‚</p>
<p>åœ¨AIæ—¶ä»£ï¼Œåˆ†å±å·¥ä½œå·²ç»æˆä¸ºäº†å¸¸æ€ã€‚</p>
<p>æˆ–è®¸æ˜¯ä¸€è¾¹çœ‹ç€æ–‡æ¡£ï¼Œä¸€è¾¹ç”¨å¤§æ¨¡å‹è¿›è¡Œæé—®å’Œæ€»ç»“ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€è¾¹å¼€ç€IDEå¼€å‘ï¼Œå¦ä¸€ä¾§æ‰“å¼€ç³»ç»Ÿå®æ—¶è°ƒè¯•ã€‚</p>
<p>BenQ RD280UGé‡‡ç”¨3:2çš„å±å¹•æ¯”ä¾‹ï¼Œç›¸æ¯”ä¼ ç»Ÿçš„16:9æ¯”ä¾‹ï¼Œæä¾›äº†æ›´å¤§çš„å‚ç›´ç©ºé—´ï¼Œèƒ½å¤Ÿåœ¨åŒä¸€æ—¶é—´å¤šæ˜¾ç¤ºçº¦20%çš„å†…å®¹ï¼Œ éå¸¸é€‚åˆç¼–ç¨‹å’Œä»£ç é˜…è¯»ã€‚æ®æˆ‘å®é™…è®¡ç®—ï¼Œ16:9åœ¨æˆ‘æ­£å¸¸çš„å·¥ä½œæ¨¡å¼ä¸‹ï¼Œå¯ä»¥å±•ç¤º40è¡Œä»£ç ï¼Œä½†æ˜¯ä½¿ç”¨RD280UGå¯ä»¥å±•ç¤º50è¡Œã€‚</p>
<p>ä¸ä½†å¦‚æ­¤ï¼Œè¿˜æä¾›äº†åŒè‰²å½©æ˜¾ç¤ºå¢å¼ºç‰ˆï¼Œåœ¨åˆ†å±æ¨¡å¼ä¸‹ï¼Œå¯ä»¥å•ç‹¬è®¾ç½®æ˜¾ç¤ºæ¨¡å¼ã€‚</p>
<p>æ¯”å¦‚æˆ‘åœ¨IDEAé‡Œé¢è®¾ç½®ç¼–ç æ¨¡å¼ï¼Œè€Œåœ¨æµè§ˆå™¨é‡Œé¢è®¾ç½®M-Bookæ¨¡å¼ï¼Œæ— è®ºä½ çš„æ³¨æ„åŠ›åœ¨å“ªï¼Œéƒ½èƒ½è®©ä½ æ„Ÿå—åˆ°æœ€å¥½çš„ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d5d42913bb644e6beb5b967e545ed28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=CKdGrolKElBu3fXPeGXgye%2Bjrh4%3D" alt="3C2B0B4A-63DC-47BF-AD9C-C42C186E20F3.jpg" loading="lazy"/>
(å·¦ä¾§æ˜¯å¼€å¯ç”µå­ä¹¦æ¨¡å¼ï¼Œå³ä¾§æ˜¯æ·±è‰²ç¼–ç¨‹æ¨¡å¼)</p>
<h3 data-id="heading-3">å½©çº¸æ¨¡å¼</h3>
<p>RD280UG è¿™æ¬¡æ–°å‡çº§äº†ä¸€ä¸ªç¼–ç¨‹æ¨¡å¼â€”â€”å½©çº¸æ¨¡å¼ã€‚</p>
<p>å…‰çœ‹åå­—ï¼Œæˆ‘ä¸€å¼€å§‹æŠŠå®ƒç†è§£æˆäº†æŸä¸€ç§æŠ¤çœ¼æ¨¡å¼ï¼Œä½†æ˜¯è¿™ä¸€æ®µæ—¶é—´ä½“éªŒä¸‹æ¥ï¼Œå´æˆäº†æˆ‘æœ€å¸¸ç”¨çš„è®¾ç½®ã€‚</p>
<p>æ·±è‰²ç¼–ç¨‹æ¨¡å¼å›ºç„¶é€‚åˆç¼–ç ï¼Œå¯æˆ‘ä»¬å¹¶ä¸æ˜¯æ‰€æœ‰æ—¶é—´ï¼Œæˆ‘éƒ½å¤„åœ¨é«˜å¼ºåº¦åˆ¤æ–­å’Œè¾“å‡ºçš„çŠ¶æ€ã€‚</p>
<p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘åªæ˜¯æƒ³æ…¢æ…¢è¯»ä¸€ä»½æŠ€æœ¯è§„èŒƒï¼Œæˆ–è€…AIæˆ–è€…æŠ€æœ¯ç›¸å…³çš„æ–‡æ¡£ï¼›</p>
<p>ä¹Ÿæœ‰äº›æ—¶å€™ï¼Œæ˜¯åœ¨æ™šä¸Šç¿»å¼€ä¸€æœ¬ç”µå­ä¹¦ã€‚</p>
<p>è¿™ç±»é˜…è¯»ï¼Œå’Œå†™ä»£ç æ˜¯å®Œå…¨ä¸åŒçš„èŠ‚å¥ã€‚</p>
<p>å¦‚æœå±å¹•ä¾ç„¶ä¿æŒç€é«˜å¯¹æ¯”ã€å¼ºåˆºæ¿€çš„æ˜¾ç¤ºé£æ ¼ï¼Œå¤§è„‘ä¼šä¸è‡ªè§‰åœ°è¢«æ¨å‘â€œèµ¶ç´§å¤„ç†å®Œâ€çš„çŠ¶æ€ã€‚</p>
<p>å½“æˆ‘æƒ³æ…¢ä¸‹æ¥çœ‹ç‚¹ä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘åè€Œä¼šåˆ‡åˆ°å½©çº¸æ¨¡å¼ã€‚</p>
<p>RD280UGä¼šè‡ªåŠ¨è°ƒèŠ‚è‰²æ¸©å’ŒèƒŒæ™¯äº®åº¦ï¼Œä¼˜åŒ–å­—ç¬¦å’Œåº•è‰²çš„å¯¹æ¯”å…³ç³»ï¼Œæœ€ç»ˆè®©æˆ‘æœ‰äº†ä¸€ç§æ›´æ¥è¿‘çº¸å¼ é˜…è¯»çš„è§‚æ„Ÿã€‚</p>
<p>å¾ˆæŠ±æ­‰è¿™é‡Œæ— æ³•æ”¾å‡ºä¸€ä¸ªå®é™…çš„æ•ˆæœå›¾ï¼Œç›¸æœºæ‹å‡ºæ¥çš„æ•ˆæœæ— æ³•å’Œçœ¼ç›ç›¸æ¯”ï¼Œä½†æ˜¯çœ¼ç›æ˜¯ä¸ä¼šéª—äººçš„ï¼Œè¿™é‡Œåªæœ‰äº²èº«ä½“ä¼šæ‰èƒ½çœ‹å‡ºåŒºåˆ«ã€‚</p>
<p>ä½†åœ¨éœ€è¦è€å¿ƒæ¶ˆåŒ–ä¿¡æ¯ã€å…è®¸è‡ªå·±æ…¢ä¸‹æ¥é˜…è¯»çš„æ—¶å€™ï¼Œ</p>
<p>å½©çº¸æ¨¡å¼èƒ½å¸®æˆ‘å®Œæˆä¸€æ¬¡çŠ¶æ€åˆ‡æ¢â€”â€”</p>
<p>ä»â€œé©¬ä¸Šåˆ¤æ–­â€ï¼Œåˆ‡æ¢åˆ°â€œå…ˆç†è§£å†è¯´â€ã€‚</p>
<p>è€Œåœ¨ AI ä¸æ–­ç”Ÿæˆå†…å®¹çš„å½“ä¸‹ï¼Œä»è¿™ç§ä»è¾“å‡ºèŠ‚å¥ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œå¸®åŠ©è‡ªå·±é‡æ–°å›åˆ°é˜…è¯»æœ¬èº«çš„èƒ½åŠ›ï¼Œä¸åº”è¯¥è¢«å¿½è§†ã€‚</p>
<h3 data-id="heading-4">120Hz é«˜åˆ·ï¼Œæ˜¯è®©åå¤ç¡®è®¤æ²¡é‚£ä¹ˆç´¯</h3>
<p>è¿™æ¬¡å‡çº§åˆ° 120Hzï¼Œæˆ‘çš„æ„Ÿå—å¹¶ä¸æ¿€çƒˆã€‚</p>
<p>å®ƒä¸ä¼šè®©æˆ‘åœ¨æŸä¸ªç¬é—´æ„è¯†åˆ°â€œå‡çº§äº†â€ï¼Œ</p>
<p>ä½†åœ¨é•¿æ—¶é—´åå¤ç¡®è®¤çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒçš„å­˜åœ¨æ„Ÿä¼šæ…¢æ…¢æ˜¾ç°å‡ºæ¥ã€‚</p>
<p>æ¯”å¦‚è¿™ä¸€æ¬¡AIé‡æ„ä»£ç ï¼Œä¸€ä¸ªæ–‡ä»¶æœ‰åå‡ å¤„æ”¹åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68f684e349474e21a392cc3a92088e7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=30NUQZArnDN5mRn8mBtyrla%2Bhuc%3D" alt="5CABD2D3-078F-4928-BFFB-482EC8D60531.png" loading="lazy"/>
åœ¨æ»šåŠ¨é•¿æ®µä»£ç ã€é¢‘ç¹è·³è½¬æ–‡ä»¶ã€æ¥å›æ¯”å¯¹ç»“æœæ—¶ï¼Œ120Hz çš„é«˜åˆ·æ–°ç‡èƒ½è®©é¡µé¢æ»šåŠ¨å’Œçª—å£æ‹–æ‹½çš„åŠ¨ç”»æå…¶æµç•…ï¼Œå‡ ä¹æ²¡æœ‰æ‹–å½±æˆ–è·³è·ƒæ„Ÿã€‚</p>
<p>ä¼ ç»Ÿçš„60Hzå±å¹•åœ¨æ˜¾ç¤ºå¿«é€Ÿè¿åŠ¨çš„ç”»é¢æ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¾®å°çš„é—ªçƒæˆ–æ¨¡ç³Šï¼Œé•¿æ—¶é—´è§‚çœ‹å®¹æ˜“å¯¼è‡´çœ¼ç›ç–²åŠ³ã€å¹²æ¶©ç”šè‡³å¤´ç—›ã€‚</p>
<p>è¿™ç§æµç•…çš„è§†è§‰æ„Ÿå—ï¼Œèƒ½å¤Ÿæœ‰æ•ˆç¼“è§£è§†è§‰å‹åŠ›ï¼Œå¯¹äºéœ€è¦é•¿æ—¶é—´é¢å¯¹å±å¹•çš„ç¨‹åºå‘˜è‡³å…³é‡è¦ã€‚</p>
<h2 data-id="heading-5">ä¿æŠ¤åŒçœ¼</h2>
<p>å¯¹åšè¿‡é£ç§’æ‰‹æœ¯çš„æˆ‘æ¥è¯´ï¼Œæˆ‘å¯¹å±å¹•éå¸¸æ•æ„Ÿã€‚</p>
<p>ç™½å¤©è¿˜å¥½ï¼Œä¸€æ—¦åˆ°äº†æ™šä¸Šï¼Œå°¤å…¶æ˜¯åªå‰©å±å¹•äº®ç€çš„æ—¶å€™ï¼Œ</p>
<p>çœ¼ç›å¾ˆå®¹æ˜“å¼€å§‹ä¸èˆ’æœâ€”â€”é…¸ã€èƒ€ã€å¹²ï¼Œç”šè‡³ä¼šä¸è‡ªè§‰åœ°æµæ³ªã€‚</p>
<p>è¿™ç§æ„Ÿè§‰æ›´åƒæ˜¯çœ¼ç›åœ¨æé†’æˆ‘ï¼šå®ƒå·²ç»æ‰›ä¸ä½è¿™ç§å¤œæ™šçš„åˆºæ¿€äº†ã€‚</p>
<p>ä¹Ÿæ­£å› ä¸ºè¿™æ ·ï¼Œæˆ‘å¯¹æ˜¾ç¤ºå™¨çš„æŠ¤çœ¼è®¾è®¡ï¼Œå…¶å®ä¸€ç›´å¾ˆåœ¨æ„ã€‚</p>
<p>ä¸æ˜¯ä¸ºäº†å‚æ•°ï¼Œè€Œæ˜¯ä¸ºäº†èƒ½ä¸èƒ½å¤šåä¸€ä¼šã€‚</p>
<p>RD 280UGåœ¨æŠ¤çœ¼è¿™ä»¶äº‹ä¸Šï¼Œç®—æ˜¯é•¿æœŸæŠ•å…¥çš„ä¸€æ¡çº¿ï¼šæ— é¢‘é—ªã€ç¡¬ä»¶çº§ä½è“å…‰ã€æŠ—åå°„è¿™äº›è®¾è®¡ï¼Œå†åŠ ä¸Šå¤šé¡¹è±èŒµè®¤è¯å’Œæ™ºæ…§è°ƒå…‰çš„ä¸“åˆ©ã€‚</p>
<p>å°±æ‹¿æŠ—åå°„æ¥è¯´ï¼Œæ˜¯å±•ç¤ºå±å¹•å®åŠ›çš„é‡è¦ä½“ç°ã€‚</p>
<p>BenQ RD280UG åœ¨è¿™ç‚¹ä¸Šåšåˆ°äº†æè‡´ï¼Œé¢æ¿å…¨éƒ¨è¦†ç›–äº†æŠ—åå°„æ¶‚å±‚ï¼Œå¹¶ä¸”é€šè¿‡äº†TUVè±èŒµæŠ—åå°„è®¤è¯ã€‚</p>
<p>æ— è®ºæ˜¯ç™½å¤©çª—å¤–åˆºçœ¼çš„é˜³å…‰ï¼Œè¿˜æ˜¯æ·±å¤œæ¡Œé¢ä¸Šçš„å°ç¯ï¼Œå±å¹•å°±åƒæ˜¯å¯ä»¥â€œå¸å…‰â€ä¸€èˆ¬ï¼ŒæŠŠå½±å“é™åˆ°æœ€ä½ï¼Œè®©ä½ å‡ ä¹çœ‹ä¸åˆ°åå°„çš„ä¸œè¥¿ã€‚</p>
<p>å³ä½¿æˆ‘æ‹¿ç€æ‰‹ç”µå»ç›´æ¥ç…§å°„å±å¹•ï¼Œå±å¹•ä¹Ÿå‡ ä¹æ²¡æœ‰å½±å“ï¼Œè€Œæˆ‘çš„Macbook Proå°±åƒé•œå­ä¸€èˆ¬ï¼Œè¢«ç…§å°„çš„åœ°æ–¹ä»€ä¹ˆä¹Ÿçœ‹ä¸åˆ°äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da74725ef3f446d8b1fe090873bdc1ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=aN%2Fju2xYy5nHyCOIQwqXisWw3ms%3D" alt="6A389846-A7BE-4AD7-B3A3-E16AA8C4F3DD.jpg" loading="lazy"/>
å®ƒä»¬æ›´å¤šæ˜¯åœ¨ä½ æ„è¯†ä¸åˆ°çš„æ—¶å€™ï¼Œé»˜é»˜æŠŠå¯¹ä½ çš„å½±å“é™ä½ã€‚</p>
<p>æˆ‘å°è±¡æœ€æ·±çš„ï¼Œæ˜¯å®ƒçš„å¤œé—´ä¿æŠ¤æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯â€œçŒ«å¤´é¹°æ¨¡å¼â€ã€‚</p>
<p>è¿™ä¸ªæ¨¡å¼å¬åå­—å°±çŸ¥é“ï¼Œå¾ˆæ˜æ˜¾æ˜¯ä¸ºå¤œæ™šä½¿ç”¨è®¾è®¡çš„ã€‚</p>
<p>æ¯•ç«Ÿåªæœ‰ç­‰å­©å­ç¡äº†çš„é‚£æ®µæ—¶é—´ï¼Œæ‰æ˜¯çœŸæ­£å±äºè‡ªå·±çš„ã€‚</p>
<p>åœ¨ç¯å¢ƒå…‰éå¸¸ä½çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šé€šè¿‡å›ºä»¶è°ƒèŠ‚ï¼ŒæŠŠäº®åº¦å’Œè‰²å½©å‹åˆ°ä¸€ä¸ªéå¸¸å…‹åˆ¶çš„æ°´å¹³ã€‚</p>
<p>å³ä½¿æ·±å¤œé•¿æ—¶é—´çœ‹å±å¹•ï¼Œçœ¼ç›ä¸å†éœ€è¦åœ¨ææš—å’Œæäº®ä¹‹é—´åå¤é€‚åº”ã€‚</p>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œæœ€ç›´è§‚çš„å˜åŒ–å°±æ˜¯ï¼š</p>
<p>æ·±å¤œå·¥ä½œæ—¶ï¼Œçœ¼ç›å¹²æ¶©çš„æƒ…å†µæ˜æ˜¾ç¼“è§£äº†ï¼Œä¸ä¼šé‚£ä¹ˆå¿«äº§ç”Ÿâ€œå¿…é¡»åœä¸‹æ¥â€çš„ä¿¡å·ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªå¾ˆå®ç”¨çš„ç»†èŠ‚æ˜¯ï¼Œå½“å‰æ˜¯å¦å¼€å¯äº†ä½è“å…‰ã€å¤œé—´æ¨¡å¼ï¼Œéƒ½ä¼šç›´æ¥æ˜¾ç¤ºåœ¨å±å¹•ä¸‹æ–¹ã€‚ä¸ç”¨åå¤è¿›èœå•ç¡®è®¤ï¼Œè¿™ä¸€ç‚¹åœ¨æ™šä¸Šå…¶å®ç‰¹åˆ«çœå¿ƒã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4d9ab2c78f9435aa7fc194dfc2d3578~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=d43rSnFfnZus3Co5mjNRjDv4F0I%3D" alt="DB4C3D9C-5607-4223-8025-F98C7DCAB7EF.jpg" loading="lazy"/></p>
<h3 data-id="heading-6">è®©å±å¹•è®¾ç½®æ›´é¡ºæ‰‹</h3>
<p>è¯´åˆ°è°ƒèŠ‚æ˜¾ç¤ºå™¨ï¼Œå¾ˆå¤šäººåº”è¯¥éƒ½æœ‰ç±»ä¼¼çš„ç»å†ï¼š</p>
<p>ä¸ºäº†è°ƒäº®åº¦ã€æ¢æ¨¡å¼ï¼Œåœ¨æ˜¾ç¤ºå™¨èƒŒåæ‘¸æ¥æ‘¸å»ï¼Œä¸€ä¸å°å¿ƒè¿˜ä¼šæŒ‰é”™é”®ã€‚</p>
<p>æˆ‘ä»¥å‰ä¸€ç›´è§‰å¾—è¿™ä»¶äº‹æŒºåç›´è§‰çš„â€”â€”</p>
<p>æ˜æ˜æ˜¯å¾ˆæ—¥å¸¸çš„æ“ä½œï¼Œå´éè¦é€šè¿‡å®ä½“æŒ‰é”®å®Œæˆã€‚</p>
<p>RD ç³»åˆ—åœ¨è½¯ç¡¬ä»¶ç»“åˆè¿™ä»¶äº‹ä¸Šï¼Œç»™äº†ä¸€ä¸ªå®Œç¾ç­”æ¡ˆã€‚</p>
<p>é€šè¿‡é…å¥—çš„ Display Pilot 2ï¼Œå¾ˆå¤šåŸæœ¬éœ€è¦åœ¨å±å¹•ä¸ŠæŠ˜è…¾åŠå¤©çš„è®¾ç½®ï¼Œ</p>
<p>ç°åœ¨éƒ½å¯ä»¥åœ¨è½¯ä»¶é‡Œç›´æ¥å®Œæˆã€‚</p>
<p>åƒæ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢ã€å¿«æ·é”®æ§åˆ¶ã€æ¡Œé¢åˆ†åŒºè¿™äº›å¸¸ç”¨åŠŸèƒ½ï¼Œéƒ½èƒ½é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹è°ƒå¥½ã€‚</p>
<p>ç”šè‡³å¯ä»¥æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥ï¼Œç»™ä¸åŒæ—¶é—´æ®µè®¾å®šä¸åŒçš„å·¥ä½œæµã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a253c09756b446ba39ccd7d2ebe66a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=j7YgfVy11rRLkDqcW4cLoSFE7ys%3D" alt="D924443D-DBA6-46E7-A3BD-8B21509E9EFD.png" loading="lazy"/>
æˆ‘ç°åœ¨è§‰ç€æœ€æœ‰ç”¨çš„å·¥ä½œæµï¼Œæ˜¯æ™šä¸Šåç‚¹åŠå¯åŠ¨ï¼ŒæŠŠå±å¹•çš„è‰²å½©æ¨¡å¼è°ƒæˆç”µå­ä¹¦æ¨¡å¼ã€‚</p>
<p>å±å¹•æ˜¾ç¤ºæˆç”µå­ä¹¦æ¨¡å¼åï¼Œæ— è®ºæˆ‘æ˜¯åœ¨å†™ä»£ç ï¼Œè¿˜æ˜¯åœ¨æ‰“æ¸¸æˆæˆ–è€…åˆ·è§†é¢‘ï¼Œéƒ½èƒ½å¤Ÿç«‹å³æŠŠæˆ‘ä»å¨±ä¹ä¸­æ‰“æ–­ï¼Œå‘Šè¯‰è‡ªå·±ï¼šä½ ç°åœ¨è¯¥ç¡è§‰äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/072bbbcf1fff4f16a3dcfb2c5d3ecb27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Lic5ou_6ZOB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974039&amp;x-signature=xpKJK6YBvz863AKbYR25i14k2a8%3D" alt="AF6EAFEA-25B3-4CC9-BB5F-DEBA8BB40794.jpg" loading="lazy"/>
å½“ç„¶è¿˜æœ‰å¾ˆå¤šç§ç©æ³•ï¼Œæ¯”å¦‚ä¸åŒåº”ç”¨è®¾ç½®ä¸åŒçš„é¢œè‰²æ¨¡å¼ï¼Œè¿˜èƒ½å¤Ÿè®¾ç½®æ¨¡å¼çš„ä¸åŒå‚æ•°ï¼Œä¾¿æ·çš„åˆ†å±æ“ä½œç­‰ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™ä¸“å¿ƒå·¥ä½œï¼Œä»€ä¹ˆæ—¶å€™è¯»ä¸œè¥¿ï¼Œä»€ä¹ˆæ—¶å€™åªæ˜¯éšä¾¿çœ‹çœ‹ã€‚</p>
<p>è¿™äº›åŠŸèƒ½æœ¬èº«è§£å†³æˆ‘ä¸€ä¸ªå¾ˆç°å®çš„é—®é¢˜â€”â€”</p>
<p>ä¸è¦åœ¨å·²ç»å¾ˆæ¶ˆè€—æ³¨æ„åŠ›çš„å·¥ä½œé‡Œï¼Œå†æŠŠç²¾åŠ›æµªè´¹åœ¨è°ƒå±å¹•è¿™ä»¶äº‹ä¸Šã€‚</p>
<h3 data-id="heading-7">ä½“éªŒæ€»ç»“</h3>
<p>è¿™æ®µæ—¶é—´ç”¨ä¸‹æ¥ï¼Œæˆ‘å¯¹ RD280UG çš„æ„Ÿå—ï¼Œå…¶å®å¾ˆç®€å•ï¼š</p>
<p>å®ƒæ²¡æœ‰è¯•å›¾è®©æˆ‘æ›´å…´å¥‹ï¼Œè€Œæ˜¯è®©æˆ‘æ›´å®¹æ˜“åä¸‹æ¥ã€‚</p>
<p>åœ¨ AI é€æ¸æ¥ç®¡â€œå†™â€çš„å½“ä¸‹ï¼Œå¼€å‘è€…çœŸæ­£æ¶ˆè€—ç²¾åŠ›çš„ï¼Œå˜æˆäº†åˆ¤æ–­ã€ç†è§£å’Œåå¤ç¡®è®¤ã€‚</p>
<p>å½“å±å¹•æ¯”ä¾‹ã€ç¼–ç¨‹æ¨¡å¼ã€é˜…è¯»æ¨¡å¼å’ŒæŠ¤çœ¼è®¾è®¡éƒ½å›´ç»•è¿™äº›çŠ¶æ€å±•å¼€æ—¶ï¼Œå·¥å…·æœ¬èº«å°±ä¸å†æŠ¢æ³¨æ„åŠ›ï¼Œè€Œæ˜¯æ…¢æ…¢é€€åˆ°èƒŒåã€‚</p>
<p>æ‹¥æœ‰ä¸€å°å¥½çš„è®¾å¤‡ï¼Œä¸åªæ˜¯è®©äº‹æƒ…å˜å¿«ï¼Œè€Œæ˜¯è®©ä½ åœ¨éœ€è¦æ…¢ä¸‹æ¥æ€è€ƒçš„æ—¶å€™ï¼Œä¾ç„¶æ„¿æ„åœç•™åœ¨é‚£é‡Œã€‚</p>
<p>ä¹Ÿè®¸ï¼Œè¿™æ‰æ˜¯æˆ‘ç°åœ¨æœ€éœ€è¦çš„ç”Ÿäº§åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æ­¢æ˜¯å†™ä»£ç ï½œå¦‚ä½•ç”¨ TRAE è¿›è¡Œå¤æ‚æ•°æ®åˆ†æ]]></title>    <link>https://juejin.cn/post/7603389033042378806</link>    <guid>https://juejin.cn/post/7603389033042378806</guid>    <pubDate>2026-02-06T09:20:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603389033042378806" data-draft-id="7603314759758741523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æ­¢æ˜¯å†™ä»£ç ï½œå¦‚ä½•ç”¨ TRAE è¿›è¡Œå¤æ‚æ•°æ®åˆ†æ"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-02-06T09:20:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æ­¢æ˜¯å†™ä»£ç ï½œå¦‚ä½•ç”¨ TRAE è¿›è¡Œå¤æ‚æ•°æ®åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:20:06.000Z" title="Fri Feb 06 2026 09:20:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2614d47a9d2d4cc596e4bc73b405dd31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=1WIZxUdEAAT4RmoPdkNdtDrC7Ro%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šæ¨è¾‰ï¼ŒTRAE æˆ˜ç•¥åˆ†æå¸ˆ</p>
</blockquote>
<p>æœ¬æ–‡æ¥è‡ª TRAE å›¢é˜Ÿçš„æˆ˜ç•¥åˆ†æåŒå­¦ï¼Œä»–å°†ä»â€œä»€ä¹ˆæ˜¯æ•°æ®åˆ†æâ€ä»¥åŠâ€œæ•°æ®åˆ†æçš„å¸¸è§ç—›ç‚¹â€è¿™ä¸¤ä¸ªåŸºæœ¬é—®é¢˜å‡ºå‘ï¼Œç»“åˆä¸¤ä¸ªçœŸå®æ•°æ®åˆ†æåœºæ™¯ï¼Œå¸¦å¤§å®¶å®é™…æ“ä½œå¦‚ä½•ä½¿ç”¨ IDE è¿›è¡Œæ•°æ®åˆ†æã€‚è®©æ›´å¤šçš„éå¼€å‘èƒŒæ™¯çš„åŒå­¦ä¹Ÿèƒ½è½»æ¾åº”å¯¹å¤æ‚çš„æ•°æ®åˆ†æä»»åŠ¡ã€‚</p>
<blockquote>
<p>æœ¬æ–‡å®è·µæ“ä½œç‰ˆæœ¬ï¼šTRAE ä¸­å›½ç‰ˆ</p>
<p>æ¨¡å‹é€‰æ‹©ï¼šAuto æ¨¡å¼</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ed0f9030e164d7a97380a8531e867db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=0oYW9QTgzcg8LFSYvyB%2BYpS8lZA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ä»€ä¹ˆæ˜¯æ•°æ®åˆ†æï¼Ÿ</strong></h2>
<p>æ•°æ®åˆ†ææ˜¯æŒ‡é€šè¿‡<strong>æ”¶é›†ã€æ¸…æ´—ã€æ•´ç†ã€åˆ†æå’Œè§£è¯»æ•°æ®ï¼Œæå–æœ‰ä»·å€¼ä¿¡æ¯ã€æŒ–æ˜æ•°æ®è§„å¾‹</strong>ï¼Œä»è€Œä¸ºå†³ç­–æä¾›ä¾æ®çš„è¿‡ç¨‹ã€‚å®ƒæ ¸å¿ƒä»·å€¼åœ¨äº<strong>å°†é›¶æ•£çš„æ•°æ®è½¬åŒ–ä¸ºå¯è½åœ°çš„æ´å¯Ÿ</strong>ï¼ŒåŠ©åŠ›ä¸åŒé¢†åŸŸè§£å†³é—®é¢˜ã€ä¼˜åŒ–æµç¨‹ã€æå‡æ•ˆç‡ã€‚</p>
<p>åœ¨ä¼—å¤šèŒä¸šï¼ˆä¾‹å¦‚å’¨è¯¢ã€é‡‘èã€äº’è”ç½‘ï¼‰åœºæ™¯ä¸­ï¼Œæ•°æ®åˆ†æéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒèƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a826e4c238644d50a8e62c3144dbd868~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=oAyyplziHav44VOQbFrQ5TQ7%2BGg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>æ•°æ®åˆ†æå¸¸è§ç—›ç‚¹</strong></h2>
<p>åœ¨æ•°æ®åˆ†æå·¥å…·å‘å±•çš„æ—©æœŸé˜¶æ®µï¼Œ<strong>Excel</strong> æ˜¯ç»å¤§å¤šæ•°ä»ä¸šè€…çš„é¦–é€‰å·¥å…·ã€‚å®ƒ<strong>æ“ä½œé—¨æ§›ä½ã€åŠŸèƒ½å…¨é¢</strong>ï¼Œæ—¢èƒ½å®Œæˆ<strong>æ•°æ®çš„å½•å…¥ã€æ¸…æ´—å’Œè®¡ç®—</strong>ï¼Œä¹Ÿèƒ½é€šè¿‡<strong>æ•°æ®é€è§†è¡¨å¿«é€Ÿæ±‡æ€»åˆ†ææ•°æ®</strong> <strong>ï¼Œè¿˜æ”¯æŒæŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ç­‰å¤šç§å›¾è¡¨åˆ¶ä½œ</strong>ï¼Œå°†å¤æ‚çš„æ•°æ®ç»“æœå¯è§†åŒ–å‘ˆç°ï¼Œæ»¡è¶³äº†æ—¥å¸¸å·¥ä½œä¸­åŸºç¡€çš„æ•°æ®åˆ†æéœ€æ±‚ã€‚</p>
<p>å¯¹äºç®€å•çš„æ•°æ®æ±‡æ€»ï¼ˆæ•°æ®é‡çº§ &lt; 1 ä¸‡è¡Œï¼‰ï¼ŒExcel é€šå¸¸è¾ƒä¸ºæµç•…ï¼Œæ“ä½œå“åº”ç§’çº§ï¼Œä½†æ˜¯å½“æ•°æ®é‡çº§è¶…è¿‡ 1 ä¸‡è¡Œç”šè‡³ 10 ä¸‡è¡Œæ—¶ï¼ŒExcel å¼€å§‹å˜æ…¢ï¼Œ<strong>ç­›é€‰ã€æ’åºã€æ•°æ®é€è§†è¡¨ç­‰æ“ä½œè€—æ—¶å»¶é•¿ï¼ˆç§’åˆ°åˆ†é’Ÿçº§ï¼‰</strong> ã€‚å½“è¡¨æ ¼é‡Œæœ‰å¤§é‡<em><strong>VLOOKUP</strong></em>ã€<em><strong>SUMIFS</strong></em>ã€æ•°ç»„å…¬å¼ï¼Œæˆ–æ˜¯è·¨è¡¨å¼•ç”¨ã€åµŒå¥—å‡½æ•°æ—¶ï¼Œç”šè‡³<strong>å‡ºç°æ–‡ä»¶å´©æºƒ</strong>çš„æƒ…å†µï¼Œé€šå¸¸éœ€è¦å…³é—­è‡ªåŠ¨è®¡ç®—ï¼ˆæ”¹ä¸ºæ‰‹åŠ¨è®¡ç®—ï¼‰ï¼Œå¹¶ä¸”é¢‘ç¹ä¿å­˜ï¼Œå¦åˆ™æ–‡ä»¶å´©æºƒä¼šå¯¼è‡´å‡ ä¸ªå°æ—¶çš„å·¥ä½œé‡ç™½è´¹ã€‚</p>
<p>æ•°æ®åˆ†ææœ¬æ˜¯ä¸€é¡¹å¯¹æŠ€æœ¯èƒ½åŠ›æœ‰è¾ƒé«˜è¦æ±‚çš„ä¸“ä¸šå·¥ä½œï¼Œä½†åœ¨ AI ç¼–ç¨‹æŠ€æœ¯çš„èµ‹èƒ½ä¸‹ï¼ŒéæŠ€æœ¯èƒŒæ™¯çš„ä»ä¸šè€…ä¹Ÿèƒ½å€ŸåŠ© <strong>AI IDE</strong> é«˜æ•ˆå®Œæˆä»æ•°æ®å¤„ç†ã€æ·±åº¦åˆ†æåˆ°å¯è§†åŒ–å‘ˆç°çš„å…¨æµç¨‹ï¼Œå½»åº•çªç ´ Excel åœ¨å¤æ‚åœºæ™¯ä¸‹çš„åº”ç”¨ç“¶é¢ˆã€‚</p>
<p>ä¾‹å¦‚ï¼Œç”¨æˆ·æ— éœ€å†è®°å¿†ç¹æ‚çš„å…¬å¼æˆ–ä»£ç è¯­æ³•ï¼Œåªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°åˆ†æéœ€æ±‚ï¼ŒAI å°±èƒ½è‡ªåŠ¨æ‹†è§£ä»»åŠ¡ã€ç”Ÿæˆä»£ç å¹¶è¾“å‡ºç²¾å‡†ç»“æœã€‚æ— è®ºæ˜¯åŸºç¡€çš„æ•°æ®æ¸…æ´—ï¼ˆå¦‚è¯»å– CSV æ–‡ä»¶å¹¶å¤„ç†é‡å¤å€¼ï¼‰ã€ä¸šåŠ¡æŒ‡æ ‡è®¡ç®—ï¼ˆå¦‚æŒ‰åŒºåŸŸæ±‡æ€»é”€å”®é¢ï¼‰ï¼Œè¿˜æ˜¯æ›´å¤æ‚çš„å¯è§†åŒ–å‘ˆç°ï¼ˆå¦‚ç”¨æŠ˜çº¿å›¾å±•ç¤ºæœˆåº¦è¶‹åŠ¿ï¼‰ä¸è¿›é˜¶çš„é¢„æµ‹åˆ†æï¼ˆå¦‚é€šè¿‡æ—¶é—´åºåˆ—ç®—æ³•é¢„æµ‹æœªæ¥é”€é‡ï¼‰ï¼Œéƒ½èƒ½é€šè¿‡ç®€å•çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤å¿«é€Ÿå®ç°â€”â€”è€Œåœ¨è¿‡å»ï¼Œè¿™äº›èƒ½åŠ›å¯¹éæŠ€æœ¯äººå‘˜è€Œè¨€å‡ ä¹æ˜¯éš¾ä»¥ä¼åŠçš„ã€‚</p>
<blockquote>
<p>ä¸€è¨€ä»¥è”½ä¹‹ï¼ŒAI è®©æ•°æ®åˆ†æå‘Šåˆ« â€œä¸“ä¸šå£å’â€ï¼Œæˆä¸ºæ‰€æœ‰éä¸“ä¸šäººå‘˜éƒ½èƒ½é›¶é—¨æ§›ä¸Šæ‰‹çš„å®ç”¨å·¥å…·ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0bb89117ab74efbbd5e3ca1cd7bca46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=kUb1zA0MmbnXfNtq9xGii3iU81s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>ä¸ºä»€ä¹ˆç”¨ TRAE åšæ•°æ®åˆ†æ</strong></h2>
<p>æˆ‘ä»¬æŠŠ Excelã€ChatGPTã€TRAE IDE åŸºäºæ•°æ®åˆ†æçš„åœºæ™¯è¿›è¡Œäº†å¤šç»´åº¦å¯¹æ¯”ï¼Œå¯ä»¥å‘ç° IDEÂ <strong>åœ¨æ•ˆç‡ã€é€‚é…æ€§ä¸æ™ºèƒ½åŒ–ä¸Šå…¨é¢è¶…è¶Š Excel ä¸ Chatbotï¼ˆä¾‹å¦‚ ChatGPTï¼‰ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97d87ed302aa446daaa4c2e7f7898def~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=tBPHeJ2LSFjdETLEuuuvwC3Cj9M%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3"><strong>å’Œ Excel ç›¸æ¯”</strong></h3>
<ul>
<li>
<p><strong>æ€§èƒ½æ— ä¸Šé™ï¼š</strong> è½»æ¾é©¾é©­ 10 ä¸‡è¡Œç”šè‡³ç™¾ä¸‡è¡Œæ•°æ®ï¼Œå½»åº•å‘Šåˆ« Excel å¤„ç†å¤§æ•°æ®æ—¶çš„å¡é¡¿ã€å‡æ­»ä¸å´©æºƒé£é™©ã€‚</p>
</li>
<li>
<p><strong>é›¶ä»£ç åˆ†æèŒƒå¼ï¼š</strong> å‘Šåˆ«å¤æ‚çš„ <em><strong>VLOOKUP</strong></em>ã€<em><strong>SUMIFS</strong></em> åµŒå¥—æˆ– VBA è„šæœ¬ã€‚é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤å³å¯é©±åŠ¨åˆ†æï¼Œè®©éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½å®Œæˆé«˜é˜¶ç»Ÿè®¡ã€‚</p>
</li>
<li>
<p><strong>ç«¯åˆ°ç«¯æµç¨‹è‡ªåŠ¨åŒ–ï¼š</strong> å®ç°ä»<strong>åŸå§‹æ¸…æ´—ã€å¤šç»´åˆ†æåˆ°å¯è§†åŒ–å‘ˆç°</strong>çš„ä¸€é”®å¼ä¸²è”ï¼Œå°†åŸæœ¬ç¢ç‰‡åŒ–çš„æ“ä½œè½¬åŒ–ä¸ºè‡ªåŠ¨åŒ–çš„æ•°æ®æµæ°´çº¿ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘æ²‰æ·€ï¼š</strong> åˆ†æè¿‡ç¨‹ä¸å†æ˜¯ä¸å¯é€†çš„æ‰‹åŠ¨ç‚¹å‡»ï¼Œè€Œæ˜¯è‡ªåŠ¨ç”Ÿæˆ<strong>å¯å¤ç”¨çš„åˆ†æè„šæœ¬</strong>ã€‚ä»Šå¹´çš„åˆ†ææ¨¡å‹ï¼Œæ˜å¹´æ–°æ•°æ®åªéœ€ä¸€é”®è¿è¡Œå³å¯å¤ç”¨ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4"><strong>å’Œ ChatBot ç±»å‹çš„äº§å“ç›¸æ¯”</strong></h3>
<ul>
<li>
<p><strong>æ“ä½œä¾¿æ·çµæ´»ï¼š</strong> åŸç”Ÿæ”¯æŒè¶…å¤§æ–‡ä»¶åŠå¤šä¸ªåˆ†æ•£æ–‡ä»¶çš„å…³è”å¤„ç†ï¼Œæ— éœ€æ‰‹åŠ¨åˆ‡åˆ†æˆ–åå¤ä¸Šä¼ ï¼Œç›´æ¥åœ¨æœ¬åœ°å·¥ä½œåŒºèµ·æ­¥ã€‚</p>
</li>
<li>
<p><strong>é¡¹ç›®ç†è§£æ»¡åˆ†ï¼š</strong> å…·å¤‡é¡¹ç›®çº§ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œæ·±åº¦å…³è”å†å²åˆ†æé€»è¾‘ä¸ä¸šåŠ¡æ ‡ç­¾ï¼Œé¿å…äº† Chatbot å¸¸è§çš„é‡å¤æ²Ÿé€šä¸ä¸Šä¸‹æ–‡æ–­è£‚ã€‚</p>
</li>
<li>
<p><strong>ä¸­é—´é€»è¾‘å¯è¿½æº¯ã€å¯è¿½é—®ï¼š</strong> æ‹’ç»â€œç»“æœé»‘ç›’â€ï¼Œä½ å¯ä»¥é’ˆå¯¹åˆ†æè¿‡ç¨‹ä¸­çš„<strong>ä»»ä½•ä¸­é—´æ­¥éª¤è¿›è¡Œè¿½é—®å’Œæ ¡éªŒ</strong>ï¼ˆå¦‚ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¹ˆè¿‡æ»¤ï¼Ÿâ€ï¼‰ï¼Œç¡®ä¿é€»è¾‘ç™¾åˆ†ä¹‹ç™¾å‡†ç¡®ã€‚</p>
</li>
<li>
<p><strong>åˆ†æäº§å‡ºæŒä¹…åŒ–ï¼š</strong> æ”¯æŒå°†å›¾è¡¨ä¸åˆ†æç»“æœç›´æ¥è½¬åŒ–ä¸º<strong>å¤šæ ¼å¼æŒä¹…åŒ–æ–‡ä»¶</strong>ã€‚è¿™ç§â€œäº§å‡ºå³èµ„äº§â€çš„èƒ½åŠ›ï¼Œä¸ºæ·±åº¦åˆ†æä¸è·¨å·¥å…·åä½œæä¾›äº†åšå®çš„å·¥ç¨‹åŸºç¡€ã€‚</p>
</li>
<li>
<p><strong>å¤šå·¥å…·ååŒæ‰§è¡Œï¼š</strong> å‡­å€Ÿæ™ºèƒ½æ¨ç†ä¸å¤šå·¥å…·ååŒï¼Œä¸ä»…ç²¾å‡†è¯†åˆ«éœ€æ±‚ï¼Œæ›´èƒ½è‡ªåŠ¨é…ç½®ç¯å¢ƒå¹¶æ‰§è¡Œä»£ç ï¼Œå®ç°çœŸæ­£é—­ç¯çš„ AI åˆ†æä½“éªŒã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64c9db9b23be41e6b11e55dab085fe57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=6uFJV3CtxX79FJF1wW7ZIfwDxZk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>å®æ“</strong></h2>
<p>Stack Overflow å¼€å‘è€…è°ƒç ”æ˜¯ä¸€ä»½é¢å‘å…¨çƒå¼€å‘è€…çš„é—®å·æŠ¥å‘Šï¼Œè°ƒç ”å½“å‰å¼€å‘é¢†åŸŸçš„æŠ€æœ¯è¶‹åŠ¿ä¸æ ¸å¿ƒç—›ç‚¹ç­‰ã€‚ä»–ä»¬æ¯å¹´ä¼šå°†æºæ•°æ®å‘å¸ƒåœ¨å…¶å®˜ç½‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsurvey.stackoverflow.co%2F" target="_blank" title="https://survey.stackoverflow.co/" ref="nofollow noopener noreferrer">survey.stackoverflow.co/</a></p>
<p>æœ¬æ•™ç¨‹ä»¥ Stack Overflow 2025 å¹´å¼€å‘è€…è°ƒç ”æ•°æ®ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ç”¨ TRAE å®Œæˆå…¨æµç¨‹æ•°æ®åˆ†æã€‚</p>
<h3 data-id="heading-6"><strong>å·¥å…·å®‰è£…ä¸æ•°æ®å‡†å¤‡</strong></h3>
<ol>
<li>
<p><strong>ä¸‹è½½å®‰è£… TRAE ï¼š</strong> è®¿é—® TRAE å®˜ç½‘ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.trae.com.cn%25EF%25BC%2589%25EF%25BC%258C%25E4%25B8%258B%25E8%25BD%25BD%25E5%25AE%2589%25E8%25A3%2585%25E5%258C%2585%25EF%25BC%258C%25E6%258C%2589%25E5%25BC%2595%25E5%25AF%25BC%25E5%25AE%258C%25E6%2588%2590%25E5%25AE%2589%25E8%25A3%2585%25EF%25BC%258C%25E7%2594%25A8%25E6%2589%258B%25E6%259C%25BA%25E5%258F%25B7%25E8%25B4%25A6%25E5%258F%25B7%25E7%2599%25BB%25E5%25BD%2595%25E5%258D%25B3%25E5%258F%25AF%25E3%2580%2582" target="_blank" title="http://www.trae.com.cn%EF%BC%89%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E6%8C%89%E5%BC%95%E5%AF%BC%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85%EF%BC%8C%E7%94%A8%E6%89%8B%E6%9C%BA%E5%8F%B7%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95%E5%8D%B3%E5%8F%AF%E3%80%82" ref="nofollow noopener noreferrer">www.trae.com.cnï¼‰ï¼Œä¸‹è½½å®‰è£…åŒ…ï¼ŒæŒ‰å¼•å¯¼å®Œæˆå®‰è£…ï¼Œç”¨æ‰‹æœºå·è´¦å·ç™»å½•å³å¯ã€‚</a></p>
</li>
<li>
<p><strong>æ‰“å¼€ TRAE SOLO æ¨¡å¼ï¼š</strong> TRAE ç›®å‰æä¾› SOLO å’Œ IDE ä¸¤ç§æ¨¡å¼ï¼Œæœ¬æ¬¡æˆ‘å°†é€‰æ‹© TRAE SOLO æ¨¡å¼æ¥å®Œæˆéœ€æ±‚ã€‚</p>
</li>
</ol>
<h4 data-id="heading-7"><strong>SOLO å’Œ IDE æ¨¡å¼çš„åŒºåˆ«ï¼š</strong></h4>
<ul>
<li>
<p>SOLOï¼šAI ä¸»å¯¼å…¨æµç¨‹ï¼Œè‡ªåŠ¨æ‹†è§£ä»»åŠ¡ã€è°ƒåº¦å·¥å…·ï¼Œå¼€å‘è€…ä»…éœ€æéœ€æ±‚ã€å®¡æ ¸æˆæœ</p>
</li>
<li>
<p>IDEï¼šå¼€å‘è€…ä¸»å¯¼ï¼ŒAI æä¾›ä»£ç è¡¥å…¨ã€æ™ºèƒ½é—®ç­”ç­‰è¾…åŠ©ï¼Œä¿ç•™ä¼ ç»Ÿå¼€å‘æµç¨‹ï¼ŒæŒæ§æ„Ÿæ›´å¼º</p>
</li>
</ul>
<p>SOLO æœ‰ 2 ä¸ªé€‰é¡¹ï¼Œåˆ†åˆ«ä¸º SOLO Builder å’Œ SOLO Coderï¼Œæˆ‘ä»¬æœ¬æ¬¡é€‰æ‹© SOLO Coderï¼Œå…¶ä¸­çš„ Plan æ¨¡å¼ä¹Ÿä¸ºåˆ†ææ–¹æ¡ˆçš„è®¨è®ºæä¾›äº†å¾ˆå¤§ä¾¿åˆ©ã€‚</p>
<h4 data-id="heading-8"><strong>SOLO Builder å’Œ SOLO Coder çš„åŒºåˆ«ï¼š</strong></h4>
<ul>
<li>
<p>SOLO Coder: é€‚åˆå·²æœ‰å¤æ‚é¡¹ç›®çš„è¿­ä»£ã€é‡æ„ã€Bug ä¿®å¤ï¼Œå¯è‡ªä¸»è§„åˆ’ã€æ‰§è¡Œå¤šæ­¥ä»»åŠ¡</p>
</li>
<li>
<p>SOLO Builder: é€‚åˆä» 0 åˆ° 1 å®Œæ•´é¡¹ç›®çš„å¿«é€ŸåŸå‹éªŒè¯ï¼Œä»éœ€æ±‚åˆ†æåˆ°éƒ¨ç½²å…¨æµç¨‹è‡ªåŠ¨åŒ–</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24dfd87d59064ff6a7fd0ca6d406b997~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=6P7Z3e7GYhJQR9fT%2BzBTNeu6%2Ba0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9"><strong>å•æ–‡ä»¶æ•°æ®åˆ†æåœºæ™¯</strong></h3>
<h4 data-id="heading-10"><strong>æ•°æ®å‡†å¤‡</strong></h4>
<p>ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fsurvey.stackoverflow.co%2F" target="_blank" title="https://survey.stackoverflow.co/" ref="nofollow noopener noreferrer">survey.stackoverflow.co/</a> <strong>ä¸‹è½½ Stack Overflow 2025 è°ƒç ”æ•°æ®é›†</strong>ï¼ŒåŒ…å«ã€Œå—è®¿è€…åŸºæœ¬ä¿¡æ¯ã€æŠ€æœ¯ä½¿ç”¨ä¹ æƒ¯ã€AI å·¥å…·æ€åº¦ã€ç­‰ç»´åº¦ï¼Œå°†æ•°æ®é›†ä¿å­˜è‡³æœ¬åœ°æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ â€œStackOverflow2025â€ ï¼‰ï¼Œæ–¹ä¾¿åç»­ TRAE è¿›è¡Œè¯»å–ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦å•ç‹¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†ä¸‹è½½ä¸‹æ¥çš„æ•°æ®é›†ä¿å­˜åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œè€Œä¸æ˜¯ç›´æ¥æ‰“å¼€excelæ–‡ä»¶ã€‚</p>
<p>é€‰æ‹©ã€Œæ‰“å¼€é¡¹ç›®ã€ï¼Œæ‰¾åˆ°å¯¹åº”æ–‡ä»¶å¤¹æ‰“å¼€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95fe1e4f569e45ef994488a7e4f172bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=5BPj3KwWA8YYeygUXvMTB5z2irI%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a0fd50bbb434aa68eeddad286e133ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=01JqVfcvqb15t5GP1VrkOrPn2WM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-11"><strong>å¼€å§‹æ•°æ®åˆ†æ</strong></h4>
<p><strong>1.</strong> ç›´æ¥åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥æŒ‡ä»¤ï¼Œ<strong>æŒ‡ä»¤å¯ä»¥ç®€å•ï¼ˆä¾‹å¦‚â€œå¸®æˆ‘åˆ†æä¸€ä¸‹è¿™ä¸ªæ•°æ®é›†â€ï¼‰</strong> ï¼Œä¹Ÿå¯ä»¥æ›´ç»†èŠ‚å…·ä½“ï¼Œå¯ä»¥å‚è€ƒä¸‹æ–¹ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®© AI æ¸…æ™°è‡ªå·±çš„è§’è‰²å®šä½ã€‚</p>
<p>ã€Œæˆ‘æ˜¯æ•°æ®åˆ†æå¸ˆï¼Œéœ€è¦åˆ†æStack Overflow 2025å¼€å‘è€…è°ƒç ”æ•°æ®ã€‚Â </p>
<p>è¯·è¯»å–æœ¬åœ°æ–‡ä»¶å¤¹â€œStackOverflow2025â€ä¸­çš„CSVæ–‡ä»¶ï¼ŒæŸ¥çœ‹æ•°æ®çš„å‰10è¡Œã€å­—æ®µåˆ—è¡¨ã€æ•°æ®å½¢çŠ¶ï¼ˆè¡Œæ•°/åˆ—æ•°ï¼‰ï¼Œç»Ÿè®¡å„å­—æ®µçš„ç¼ºå¤±å€¼æ•°é‡ï¼Œç”ŸæˆåŸºç¡€ä¿¡æ¯æŠ¥å‘Šã€‚Â </p>
<p>æ³¨æ„å¤„ç†ä¸­æ–‡ç¼–ç é—®é¢˜ï¼Œé¿å…ä¹±ç ã€‚ã€</p>
<p><strong>2.</strong> ä»å®˜ç½‘ä¸‹è½½çš„æ•°æ®æ˜¯ zip æ–‡ä»¶ï¼Œ<strong>æ— éœ€äººå·¥æ‰‹åŠ¨è§£å‹ï¼Œ</strong> AI è‡ªå·±ä¼šè§£å‹å¹¶ä½¿ç”¨ Python æ¥è¯»å–å’Œåˆ†ææ•°æ®ï¼›å¤§æ¦‚ç»è¿‡ 2 åˆ†é’Ÿï¼ŒAI ä¼šæ˜¾ç¤ºåˆæ­¥åˆ†æç»“æœï¼Œä¾‹å¦‚ <strong>æ•°æ®åŸºæœ¬æƒ…å†µã€å¼€å‘è€…ç”»åƒã€AI å·¥å…·ä½¿ç”¨æƒ…å†µã€è–ªèµ„æƒ…å†µä»¥åŠæŠ€æœ¯ä½¿ç”¨æƒ…å†µ</strong>ç­‰å¤šä¸ªæ–¹é¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0f5327e42284714860c827a90d49500~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=yRIDdu2kLiN1HFAgHsTS8HAL%2BXk%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>ä»åˆæ­¥çš„åˆ†æè¿”å›ç»“æœæ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€äº›<strong>æœ‰è¶£çš„ä¸‹é’»åˆ†æçš„ç»´åº¦</strong>ï¼Œä¾‹å¦‚ï¼š</li>
</ol>
<p>Â  a. å¹´é¾„åˆ†å¸ƒå’Œè–ªèµ„æƒ…å†µæ˜¯å¦æœ‰å…³ç³»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b33a5902e8b54fa7b9f252217b59415c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=iKxRLAasAF45lJU4BuGsadJLx10%3D" alt="" loading="lazy"/></p>
<p>Â  b. æœ€å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€å’Œè–ªèµ„æƒ…å†µæ˜¯å¦æœ‰å…³ç³»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f29edad37744030b09ccd8a95f44087~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=yxOnbMKxNhN5uVfOiWMYKYaKhQE%3D" alt="" loading="lazy"/></p>
<p>Â  c. å·¥ä½œæ»¡æ„åº¦å’Œè–ªèµ„æƒ…å†µæ˜¯å¦æœ‰å…³ç³»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3d5b15528e443be925fd95a61dcfe15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=nM2jgBWFs4M%2FsLUUvVTeyw%2BRxbc%3D" alt="" loading="lazy"/></p>
<p><strong>4.</strong> åŸå§‹æ•°æ®é‡Œæœ‰ä¸ªå­—æ®µæ˜¯â€œå›½å®¶â€ï¼Œå› ä¸ºå­—æ®µè¾ƒå¤šï¼Œæ‰€ä»¥ AI åœ¨æœ€å¼€å§‹çš„æè¿°æ€§ç»Ÿè®¡æ—¶æ²¡æœ‰æåˆ°ï¼Œä½†å¦‚æœæœŸæœ›è¡¥å……æ›´å¤šä¸‹é’»åˆ†æçš„ç»´åº¦ï¼Œå¯ä»¥ç›´æ¥é—® AI</p>
<p>ã€Œåˆ†æä¸€ä¸‹ä¸åŒå›½å®¶çš„è–ªèµ„åˆ†å¸ƒï¼ˆçœ‹ä¸€ä¸‹å‰10å›½å®¶ï¼ŒæŒ‰è°ƒç ”ç”¨æˆ·æ•°é‡æ’åºï¼Œè–ªèµ„ä¸­ä½æ•°ï¼Œå‡å€¼å’Œ25/75åˆ†ä½æ•°ï¼Œå…¨éƒ¨æ¢ç®—ä¸ºç¾é‡‘ï¼‰ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bf573ad448d4ab4b6d19f80d602c298~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=btRUaac%2FZW5A8QytdJsTvAj%2FmhE%3D" alt="" loading="lazy"/></p>
<p><strong>5.</strong> å¯ä»¥äº¤å‰â€œå›½å®¶â€å’Œâ€œå¼€å‘è€…èº«ä»½â€ï¼Œåˆ†æè–ªèµ„åˆ†å¸ƒæƒ…å†µ</p>
<p>ã€Œåˆ†æä¸€ä¸‹ä¸åŒå›½å®¶ã€ä¸åŒå¼€å‘è€…èº«ä»½çš„è–ªèµ„åˆ†å¸ƒï¼ˆçœ‹ä¸€ä¸‹å‰10å›½å®¶ï¼Œå‰ä¸€ä¸‹å‰10å¼€å‘è€…èº«ä»½ï¼ŒæŒ‰è°ƒç ”ç”¨æˆ·æ•°é‡æ’åºï¼Œè–ªèµ„ä¸­ä½æ•°ï¼Œå‡å€¼å’Œ25/75åˆ†ä½æ•°ï¼Œå…¨éƒ¨æ¢ç®—ä¸ºç¾é‡‘ï¼‰ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89b68c6fc42e4f36a14f92694e3514d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=xvXXVo3loZECV7al5ey5p6k5kmM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12"><strong>ç”Ÿæˆæ•°æ®åˆ†æå›¾è¡¨</strong></h4>
<blockquote>
<p>æ•°æ®åˆ†æå¸¸å¸¸éœ€è¦ç»“åˆå›¾è¡¨ï¼Œå¯ä»¥æ›´åŠ ç›´è§‚å±•ç¤ºæ•°æ®æƒ…å†µã€‚</p>
</blockquote>
<p>ç›´æ¥åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥æŒ‡ä»¤ï¼Œ<strong>æŒ‡ä»¤å¯ä»¥ç®€å•ï¼ˆä¾‹å¦‚â€œå¸®æˆ‘ç”»ä¸€ä¸ª XX å›¾â€ï¼‰</strong> ï¼Œä¹Ÿå¯ä»¥æ›´ç»†èŠ‚å…·ä½“ï¼Œå¯ä»¥å‚è€ƒä¸‹æ–¹ã€‚</p>
<p>ã€Œå¸®æˆ‘ç”»ä¸€ä¸ªçƒ­åŠ›è¡¨ï¼Œæ¨ªè½´æ˜¯å›½å®¶ï¼ˆæŒ‰ä¸­æ–‡åç§°ï¼‰ï¼Œæ•°è½´æ˜¯å¼€å‘è€…ç±»å‹ï¼ˆç®€å†™ï¼‰ï¼Œæ•°å€¼æ˜¯è–ªèµ„å¹³å‡å€¼ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c3591dab4604119b89ba246834d7f6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=AqhOzHcwIK9A9Q3Vc9XX5Eta898%3D" alt="" loading="lazy"/></p>
<p>ã€Œå¸®æˆ‘ç”»ä¸€ä¸ªå›¾ï¼Œå±•ç¤ºæ¯ä¸ªå›½å®¶çš„25/75/ä¸­ä½æ•° è–ªèµ„ï¼Œåªéœ€è¦å±•ç¤ºå‰10å›½å®¶å³å¯ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0de4f0c2a28e4397aa57edd838845dbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=ZigVH5MVgWmS2cUhVe%2FMHbHQqjI%3D" alt="" loading="lazy"/></p>
<p>ã€Œå¸®æˆ‘ç”»ä¸€ä¸ªæ°”æ³¡å›¾ï¼Œæ¨ªè½´æ˜¯è–ªèµ„å‡å€¼ï¼ˆå•ä½æ˜¯ç¾é‡‘ï¼‰ï¼Œæ•°è½´æ˜¯æ¯æ—¥ä½¿ç”¨è¿‡AIçš„å æ¯”ï¼Œå¤§å°æ˜¯å¼€å‘è€…è°ƒç ”ç”¨æˆ·æ•°é‡ï¼Œå±•ç¤ºå‰10å›½å®¶ï¼Œæ°”æ³¡å¤§å°é€‚ä¸­ï¼Œæ³¨æ„ç¾è§‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fa4ce3e77184d5ab2057b0cfcfaf296~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=x2KaWXCGG05ooc6RtP8wfyBY5wQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-13"><strong>æ•°æ®åˆ†æç»“æœå¯¼å‡º</strong></h4>
<p>é™¤äº†æ•°æ®åˆ†æå’Œç”»å›¾å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†åˆ†æç»“æœå‚¨å­˜ä¸º <strong>CSV ã€Excel ç­‰æ ¼å¼æ–¹ä¾¿åç»­é˜…è¯»å’Œå¤„ç†æ•°æ®ï¼Œæˆ–è€…è®©å…¶å°†å®Œæ•´æŠ¥å‘Šå­˜å‚¨ä¸º MDã€PDFã€ PPT ç­‰æ ¼å¼æ–¹ä¾¿é˜…è¯»æ–‡æ–‡å­—å†…å®¹</strong>ã€‚ä»¥ csv ä¸ºä¾‹ï¼Œ</p>
<p>ã€Œå¸®æˆ‘æŠŠæ¯ä¸ªå›½å®¶çš„è°ƒç ”äººæ•°ï¼Œè–ªèµ„ä¸­ä½æ•°ï¼Œ25/75åˆ†ä½æ•°å’Œå‡å€¼å¯¼å‡ºä¸ºcsv+ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5a61e53ad914a00801e56e2a729bfe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=0i1V4FtyEKQPl2nRDRnKAIZyAtk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-14"><strong>æ€»ç»“</strong></h4>
<p>ä»¥ä¸Šåˆ†æåªæ˜¯è¿™ä¸ªæ•°æ®é›†çš„ä¸€éƒ¨åˆ†ï¼Œè¿˜æœ‰å…¶ä»–åˆ†æç»´åº¦ä¾‹å¦‚ AI å·¥å…·ä½¿ç”¨ç‡åˆ†æã€ç¼–ç¨‹è¯­è¨€åå¥½åˆ†æã€å·¥å…·åå¥½ä¸ AI ä½¿ç”¨å…³è”æ€§ç­‰ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¿®æ”¹æç¤ºè¯æ¢ç´¢ã€‚</p>
<h3 data-id="heading-15"><strong>è·¨æ–‡ä»¶åˆ†æåœºæ™¯</strong></h3>
<p>æœ‰æ—¶å€™æ•°æ®åˆ†æ•£åœ¨ä¸åŒçš„æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬éœ€è¦å°†ä¸åŒæ–‡ä»¶ä¹‹é—´çš„æ•°æ®å¯¹æ¯”ç»“åˆèµ·æ¥åˆ†æï¼Œå› æ­¤ä¼šæœ‰è·¨æ–‡ä»¶åˆ†æçš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-16"><strong>æ•°æ®å‡†å¤‡</strong></h4>
<p>ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kaggle.com%2Fdatasets%2Fretailrocket%2Fecommerce-dataset%2Fdata" target="_blank" title="https://www.kaggle.com/datasets/retailrocket/ecommerce-dataset/data" ref="nofollow noopener noreferrer">www.kaggle.com/datasets/reâ€¦</a>Â  <strong>ä¸‹è½½ Retailrocket recommender system dataset æ•°æ®é›†</strong>ï¼›è¯¥æ•°æ®é›†åŒ…å«å››ä¸ªæ–‡ä»¶ï¼šä¸€ä¸ªå­˜å‚¨ç”¨æˆ·è¡Œä¸ºæ•°æ®çš„æ–‡ä»¶ï¼ˆevents.csvï¼‰ã€ä¸¤ä¸ªå­˜å‚¨å•†å“å±æ€§æ•°æ®çš„æ–‡ä»¶ï¼ˆitem_properties_part1.csv å’Œ item_properties_part2.csvï¼‰ï¼Œä»¥åŠä¸€ä¸ªæè¿°ç±»ç›®å±‚çº§ç»“æ„çš„æ–‡ä»¶ï¼ˆcategory_tree.csvï¼‰ï¼›<strong>æ— éœ€æ‰‹åŠ¨è§£å‹</strong>ï¼Œå¯ä»¥ç›´æ¥æŠŠæ•°æ®é›†ä¿å­˜è‡³æœ¬åœ°æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ â€œç”µå•†æ¨èâ€ ï¼‰ï¼Œæ–¹ä¾¿åç»­ TRAE è¿›è¡Œè¯»å–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c613c756eca4ac2823a4b4c0b8e14d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=CjJuP6qolYcuJrCay3vBMJsEzyE%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©ã€Œæ‰“å¼€é¡¹ç›®ã€ï¼Œæ‰¾åˆ°å¯¹åº”æ–‡ä»¶å¤¹æ‰“å¼€ã€‚</p>
<h4 data-id="heading-17"><strong>å¼€å§‹æ•°æ®åˆ†æ</strong></h4>
<p><strong>1.</strong> ç›´æ¥åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥æŒ‡ä»¤ï¼Œ<strong>æŒ‡ä»¤å¯ä»¥ç®€å•ï¼ˆä¾‹å¦‚â€œå¸®æˆ‘åˆ†æå’Œæ€»ç»“ä¸€ä¸‹è¿™ä¸ªæ•°æ®é›†â€ï¼‰</strong> ï¼›å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªæ–‡ä»¶é‡Œï¼Œategory_tree.csv æ˜¯å•†å“ç±»åˆ«æ ‘ç»“æ„ï¼ˆ1670 è¡Œï¼‰ï¼›events.csv æ˜¯æˆ·è¡Œä¸ºäº‹ä»¶ï¼ˆ276 ä¸‡è¡Œï¼‰ï¼Œä¸»è¦æ˜¯ä¸‰ç±»äº‹æƒ…ï¼šæµè§ˆã€åŠ å…¥è´­ç‰©è½¦å’Œäº¤æ˜“ï¼›item_properties æ˜¯å•†å“å±æ€§ï¼ˆ2000 ä¸‡è¡Œï¼‰ï¼ŒåŒ…å«å¤šç§å±æ€§ç±»å‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d98e200c3ab4144b816108b68405494~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=%2BisHqRg5qO%2F8N22CtFBMKmbKQ7c%3D" alt="" loading="lazy"/></p>
<p><strong>2.</strong> æˆ‘ä»¬å¯ä»¥å…ˆé’ˆå¯¹å•ä¸ªæ–‡ä»¶å¤¹åšä¸€äº›ä¸‹é’»åˆ†æï¼Œä¾‹å¦‚ï¼š</p>
<p>a. ä¸‹é’»åˆ†æå•†å“ç±»åˆ«æ ‘åˆ†å¸ƒï¼Œå¯ä»¥çœ‹åˆ°é¡¶çº§ç±»åˆ«æ•°é‡ä¸º 25 ä¸ªï¼Œæœ€æ·±å±‚çº§ä¸º 6 å±‚ï¼Œå±‚çº§ 3 å’Œå±‚çº§ 4 æ˜¯æœ€ä¸»è¦çš„å±‚çº§ï¼Œå…±å  81.90%ï¼Œå¹³å‡æ¯ä¸ªçˆ¶ç±»åˆ«æœ‰ 4.54 ä¸ªå­ç±»åˆ«ï¼Œä¸­ä½æ•°ä¸º 4ï¼Œè¡¨æ˜ç±»åˆ«ç»“æ„æ¯”è¾ƒå‡è¡¡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bee50b986e6426c9b0fd87cef285458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=eBs2%2F84dtiYO1A9MVBgC1e52ypE%3D" alt="" loading="lazy"/></p>
<p>b. ä¸‹é’»åˆ†æç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å…±è®¡ 141 ä¸‡ä¸ªç”¨æˆ·å’Œ 276 ä¸‡æ¡è®°å½•ï¼Œå¹³å‡ä¸€ä¸ªç”¨æˆ·æœ‰ 1.96 æ¡è®°å½•ï¼›71%çš„ç”¨æˆ·ä»… 1 æ¡è®°å½•ï¼Œ27%çš„ç”¨æˆ·æœ‰ 2-10 æ¡è®°å½•ï¼Œ1.4%ç”¨æˆ·æœ‰è¶…è¿‡ 10 æ¡è®°å½•ï¼›ä»äº‹ä»¶ç±»å‹çœ‹ï¼Œæµè§ˆå æ¯” 96.67%ï¼ŒåŠ å…¥è´­ç‰©è½¦ä¸º 2.52%ï¼Œè´­ä¹°ä¸º 0.81%ï¼›æµè§ˆä»åŠ å…¥è´­ç‰©è½¦è½¬åŒ–æ¯”ä¾‹ä¸º 2.60%ï¼ŒåŠ å…¥è´­ç‰©è½¦åˆ°äº¤æ˜“ä¸º 32%</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ce6989af935499aabc42328bfdeefc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=kMa7q2te4bSJT943Flpr5SQmSLA%3D" alt="" loading="lazy"/></p>
<p>c. ä¸‹é’»åˆ†æå•†å“å±æ€§æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å…±è®¡ 2000 ä¸‡æ¡å±æ€§è®°å½•ï¼Œæ¶‰åŠ 40 ä¸‡å•†å“ï¼Œå¹³å‡ä¸€ä¸ªå•†å“ 3 ä¸ªå±æ€§ï¼›é™¤äº†åº“å­˜ï¼ˆavailableï¼‰å’Œç±»ç›®ï¼ˆcategoryidï¼‰è¿™ä¸¤ä¸ªå±æ€§å¤–ï¼Œå…¶ä»–å±æ€§éƒ½è¢«å“ˆå¸Œï¼›æœ€å¸¸ç”¨çš„å‰ 10 ä¸ªå±æ€§ä½¿ç”¨å æ¯”åŸºæœ¬éƒ½æ˜¯ 100%</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a5fc0b9a8ab41eab3c5acf38f68b985~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=ooZ3dXlxvBQxNpBUwGEWW33ub10%3D" alt="" loading="lazy"/></p>
<p><strong>3.</strong> é™¤äº†å•ä¸ªæ–‡ä»¶ä¸‹é’»åˆ†æå¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥äº¤å‰ä¸‰ä¸ªæ–‡ä»¶è¿›è¡Œåˆ†æï¼Œä¾‹å¦‚æŒ‰é¡¶çº§ç±»åˆ«çœ‹ä¸‹ä»æµè§ˆåˆ°åŠ å…¥è´­ç‰©è½¦åˆ°äº¤æ˜“çš„è½¬åŒ–æ¯”ä¾‹ï¼šå¯ä»¥çœ‹åˆ°å¹³å‡è½¬åŒ–ç‡ä¸º 0.91%ï¼Œ3 ä¸ªç±»åˆ«ï¼ˆ140ã€1224ã€859ï¼‰è½¬åŒ–ç‡é«˜äº 1%ï¼Œ11 ä¸ªç±»åˆ«è½¬åŒ–ç‡ä½äº 0.5%ï¼Œå…¶ä»–ä»‹äº 0.5-1%ï¼›7 ä¸ªç±»ç›®çš„æµè§ˆé‡ä½äº 1000ï¼Œå…¶ä¸­ 2 ä¸ªæµè§ˆé‡ä¸º 0</p>
<p>â€‹ã€ŒæŒ‰25ä¸ªé¡¶çº§ç±»åˆ«çœ‹ä¸‹ä»æµè§ˆåˆ°åŠ å…¥è´­ç‰©è½¦åˆ°äº¤æ˜“çš„è½¬åŒ–æ¯”ä¾‹ï¼ˆæµè§ˆäº‹ä»¶ç²’åº¦ï¼Œä¸æ˜¯å•†å“æˆ–è€…ç”¨æˆ·ç²’åº¦ï¼Œå¦‚æœä¸€ä¸ªå•†å“çš„ç±»åˆ«æœ‰è¿‡å˜åŒ–ï¼Œç”¨æœ€æ–°çš„ç±»åˆ«ï¼‰ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a28c2c512d524a939ffdef5290912e38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=IrK94tLElq0bj5XAScHzvBwvso0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18"><strong>ç”Ÿæˆæ•°æ®åˆ†æå›¾è¡¨</strong></h4>
<p>å¯ä»¥ç›´æ¥åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼š</p>
<p>ã€Œå¸®æˆ‘ç”»ä¸€ä¸ªå›¾ï¼ŒæŒ‰top 10é¡¶çº§ç±»åˆ«æµè§ˆåˆ°åŠ å…¥è´­ç‰©è½¦ï¼ŒåŠ å…¥è´­ç‰©è½¦åˆ°äº¤æ˜“çš„æ¯”ä¾‹ï¼Œå¹¶åœ¨å›¾è¡¨çš„ä¸Šæ–¹ï¼ŒåŠ ä¸Šæ¯ä¸ªç±»ç›®çš„æµè§ˆã€åŠ è´­ã€äº¤æ˜“æ¬¡æ•°ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/529b91b1c68a474183265223414f8e7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=WKNaLeLQjtUWxNp2Qrz%2FX9Oot2k%3D" alt="" loading="lazy"/></p>
<p>ã€Œå¸®æˆ‘ç”»ä¸€ä¸ªæ°”æ³¡å›¾ï¼Œæ¨ªè½´æµè§ˆåˆ°åŠ è´­çš„è½¬åŒ–ï¼Œç«–è½´æ˜¯åŠ è´­åˆ°è´­ä¹°çš„è½¬åŒ–ï¼Œå¤§å°æ˜¯æµè§ˆé‡çº§ï¼Œåªéœ€è¦ç”»æŒ‰æµè§ˆé‡å‰10ä¸ªé¡¶çº§ç±»åˆ«ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9af24af731436c80fb260f2c3a6ff4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=XWU%2Fv%2BUYOXGwUw%2FCcwF4ZZc6Ztk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19"><strong>æ•°æ®åˆ†æç»“æœå¯¼å‡º</strong></h4>
<p>ã€ŒæŠŠä»¥ä¸Štop 10 é¡¶çº§ç±»åˆ«çš„æ°”æ³¡å›¾å¯¼å‡ºä¸ºpptã€</p>
<p>å¯ä»¥å‘ç°ï¼ŒTRAE ä¼šä½¿ç”¨ matplotlib ç»˜åˆ¶ç›¸å…³æ°”æ³¡å›¾ï¼Œæˆªå±ç„¶åæ’å…¥ppté‡Œé¢ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨PPTåŸç”Ÿç”»å›¾èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb6d7c960edc4b2dbbfae97a44325081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=McIKZgVOTHnvrFUk4A7yEQlflhg%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡æç¤ºè¯ã€Œè¯·å¸®æˆ‘åœ¨ <strong>PPT</strong> é‡Œé¢ç›´æ¥ç”»å›¾ï¼Œè€Œä¸æ˜¯å¤åˆ¶å›¾ç‰‡ã€ï¼ŒTRAE ä¹Ÿèƒ½è°ƒç”¨ PPT ç›¸å…³èƒ½åŠ›è¿›è¡Œæ„å›¾ï¼Œä½†ç”»å‡ºæ¥çš„å›¾ç‰‡ç¾è§‚åº¦ç•¥æœ‰ä¸è¶³ï¼Œåªèƒ½è¾¾åˆ°åŸºæœ¬è¦æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88cfe1a4ecd94232816dd36b2c0cb8a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=RtCC0L%2FPUAzfyHOITQgPivc4TTM%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd85a44b7c6d4dbaa29f5bcc63a91ab7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=YnkLpAKMOuZ%2BksHWbo9kCHwmuf4%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸Šåˆ†æåªæ˜¯è¿™ä¸ªæ•°æ®é›†çš„ä¸€éƒ¨åˆ†ï¼Œè¿˜æœ‰å…¶ä»–åˆ†æç»´åº¦ä¾‹å¦‚å…¶ä»–å±æ€§å¯¹è´­ä¹°è½¬åŒ–æ¯”ä¾‹çš„å½±å“ç­‰ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¿®æ”¹æç¤ºè¯æ¢ç´¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55679dac25b046d48545f45e41ce5bd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974409&amp;x-signature=xfkEDQvqBOVouH507g%2Fc7xbdpoY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20"><strong>å†™åœ¨æœ€å</strong></h2>
<p>æ— è®ºæ˜¯å’¨è¯¢é¡¹ç›®ï¼ˆä¾‹å¦‚é“¶è¡Œå‹åŠ›æµ‹è¯•ã€æ¶ˆè´¹å“å¸‚åœºè¶‹åŠ¿åˆ†æç­‰ï¼‰ï¼Œè¿˜æ˜¯äº’è”ç½‘åœºæ™¯ä¸‹çš„æ•°æ®ä»»åŠ¡ï¼ˆä¾‹å¦‚åˆ†å›½å®¶ç”¨æˆ·ç•™å­˜åˆ†æã€ä»˜è´¹è½¬åŒ–æ¼æ–—æ­å»ºç­‰ï¼‰ï¼ŒåŸºæœ¬éƒ½èƒ½é€šè¿‡ AI IDE é«˜æ•ˆè½åœ°ã€‚<strong>AI IDE åœ¨æ•°æ®æŒ–æ˜ä¸æ·±åº¦åˆ†æç¯èŠ‚çš„è¡¨ç°å ªç§°å‡ºè‰²ï¼Œèƒ½ç²¾å‡†å®Œæˆæ ¸å¿ƒä»»åŠ¡</strong>ï¼›ä»…åœ¨æœ€ç»ˆæ•°æ®å¯è§†åŒ–å‘ˆç°çš„ç»†èŠ‚ä¼˜åŒ–ä¸Šï¼Œå¶å°”éœ€è¦å°‘é‡è¾…åŠ©è°ƒæ•´ï¼Œ<strong>ä½†å…¶æ•´ä½“äº¤ä»˜è´¨é‡å¤§å¤šè¶…å‡ºé¢„æœŸï¼Œå¤§å¹…æå‡äº†æ•°æ®åˆ†æçš„æ•ˆç‡ä¸ä¸“ä¸šæ€§ã€‚</strong></p>
<p>IDE ä»æ¥ä¸æ˜¯ä¸“ä¸šå¼€å‘è€…çš„ä¸“å±å·¥å…·ï¼Œå®ƒå¯ä»¥ç¦»æ¯ä¸ªäººçš„å·¥ä½œå’Œç”Ÿæ´»éƒ½æ›´è¿‘ä¸€äº›ã€‚å€ŸåŠ© AI çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬ä¸å¿…ç²¾é€šå¤æ‚çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿèƒ½æŠŠä¸€ä¸ªä¸ªçµæ„Ÿå’Œæƒ³æ³•å˜æˆçœŸæ­£å¯è½åœ°çš„â€œæ•°å­—å°å¸®æ‰‹â€ï¼›ä¸ç®¡ä½ æ˜¯äº§å“ã€è¿è¥ã€æ•°æ®åˆ†æã€è®¾è®¡å¸ˆï¼Œè¿˜æ˜¯ä»»ä½•ä¸€ä¸€ä¸ªè§’è‰²ï¼Œéƒ½å¯ä»¥ç”¨ AI Coding å»æ­å»ºå±äºè‡ªå·±çš„æ™ºèƒ½å·¥ä½œå°ã€‚</p>
<p>æœŸå¾…å¤šæ ·åŒ–çš„ä½ å¸¦æ¥æ›´å¤šä¸ä¸€æ ·çš„ AI Coding å®ç°ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸€ï¼‰æ¶æ„ç¯‡]]></title>    <link>https://juejin.cn/post/7603347438013480995</link>    <guid>https://juejin.cn/post/7603347438013480995</guid>    <pubDate>2026-02-06T09:26:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603347438013480995" data-draft-id="7603347438013333539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸€ï¼‰æ¶æ„ç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-06T09:26:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AntonCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3966693684293240"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸€ï¼‰æ¶æ„ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693684293240/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AntonCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:26:13.000Z" title="Fri Feb 06 2026 09:26:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿé‡åˆ°è¿‡è¿™äº›æƒ…å†µï¼šAI ç”Ÿæˆçš„ä»£ç é£æ ¼å’Œç°æœ‰é¡¹ç›®ä¸ä¸€è‡´ï¼›é¡¹ç›®ç»“æ„ä¸ç¬¦åˆé¢„æœŸï¼Œè®¾è®¡ç¨¿è¦ä¹ˆçœ‹ä¸æ‡‚ã€è¦ä¹ˆåˆ†ææ¼é¡¹ï¼Œé¡µé¢ UI è¿˜åŸåº¦ä½ï¼›æ”¹æ¥æ”¹å»è¿”å·¥å¤šï¼Œéœ€æ±‚è¶Šèµ°è¶Šåï¼Œæœ€åè¿˜å¾—è‡ªå·±é‡å†™ä¸€ç‰ˆï¼Ÿ</p>
<p>æˆ‘åœ¨å®é™…é¡¹ç›®é‡Œç»è¿‡å¤šæ¬¡è¿­ä»£çš„å®è·µï¼Œè½åœ°äº†ä¸€å¥—</p>
<p><strong>ä»¥è§„èŒƒã€èƒ½åŠ›æ‰©å±•å’Œæµç¨‹ä¸ºä¸»çº¿çš„ AI Coding æ¶æ„</strong></p>
<p>æŠŠã€Œé£æ ¼ä¸ä¸€è‡´ã€æ­¥éª¤æ¼ã€è®¾è®¡ç¨¿ä¸ä¼šåˆ†æ/éªŒæ”¶ã€ææ¡ˆä»»åŠ¡æ ¼å¼ä¹±ã€éƒ½æ”¶è¿›å¯æ§èŒƒå›´ã€‚è½åœ°ä¹‹åæœ€ç›´è§‚çš„æ•ˆæœæ˜¯ï¼š</p>
<p><strong>å‰ç«¯é¡µé¢å¯ä»¥åšåˆ° 90% è¿˜åŸè®¾è®¡ç¨¿ï¼Œéœ€æ±‚å®ç°æ›´å‡†ç¡®ï¼Œä»£ç é£æ ¼ä¸€è‡´ï¼Œç»“æ„è®¾è®¡åˆç†</strong></p>
<hr/>
<h2 data-id="heading-0">æ¶æ„ç®€ä»‹</h2>
<p>æ¶æ„è¿ç”¨äº†å¤šç§ç°ä¸‹æµè¡Œçš„ Agent é€šç”¨èƒ½åŠ›ï¼š</p>

























<table><thead><tr><th>æ¶æ„ç»„æˆ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>SDD</td><td>å¼€å‘æµç¨‹æ§åˆ¶ï¼Œä¿è¯éœ€æ±‚ä¸é—æ¼ï¼Œå¼€å‘ä¸è„±èŠ‚ï¼Œå¯è¿›è¡Œéœ€æ±‚åˆ†æ/å¼€å‘è§„åˆ’/éªŒæ”¶æµ‹è¯•/å¤ç›˜å½’æ¡£</td></tr><tr><td>MCP</td><td>å¯¹æ¥å¤–éƒ¨èƒ½åŠ›ï¼Œå¦‚è®¾è®¡ç¨¿è¯»å–ã€æµè§ˆå™¨è®¿é—®é¡µé¢æŸ¥çœ‹å®é™…æ•ˆæœã€æ¥å£æ–‡æ¡£</td></tr><tr><td>Rules</td><td>çº¦å®šã€Œåšä»€ä¹ˆã€ä¸åšä»€ä¹ˆã€ï¼Œå¦‚ä¿è¯ AI éµå¾ªé¡¹ç›®ç»“æ„ï¼Œè§„èŒƒçº¦æŸï¼Œä»£ç é£æ ¼</td></tr><tr><td>Skills</td><td>çº¦å®šã€Œæ€ä¹ˆåšã€ï¼Œæ¸è¿›æŠ«éœ²æŒ‰éœ€æŒ‡å¯¼ AI æ€ä¹ˆåšï¼Œå¦‚æ€ä¹ˆå†™UIï¼Œæ€ä¹ˆéªŒæ”¶UI</td></tr></tbody></table>
<p><strong>Rules ç®¡ã€Œæ€ä¹ˆæ‰ç®—å¯¹ã€ï¼ŒSkills ç®¡ã€Œæ€ä¹ˆä¸€æ­¥æ­¥åšã€ï¼ŒMCP è®© Agent èƒ½çœ‹åˆ°çœŸå®ä¸–ç•Œï¼Œè€Œ SDD è´Ÿè´£è®°å½•ã€Œè¿™æ¬¡ä¸ºä»€ä¹ˆè¦æ”¹ã€åº”è¯¥æ”¹æˆä»€ä¹ˆæ ·ã€å¹¶æŠŠæ¯æ¬¡å˜æ›´æ²‰æ·€æˆæ–°çš„çœŸç›¸</strong>ï¼Œå››è€…åˆåœ¨ä¸€èµ·ï¼Œæ‰æ˜¯çœŸæ­£ç¨³å®šå¯æ¼”è¿›çš„ AI Coding åº•åº§ã€‚</p>
<p>ä»éœ€æ±‚åˆ°å½’æ¡£çš„å®Œæ•´é“¾è·¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[éœ€æ±‚è¾“å…¥] --&gt; B{æœ‰è®¾è®¡ç¨¿?}
    B --&gt;|æ˜¯| C[è®¾è®¡ç¨¿ MCP è¯»ç¨¿]
    C --&gt; D[design-analysis äº§å‡º UI åˆ†ææ¸…å•]
    B --&gt;|å¦| E[create-proposal + SDD]
    D --&gt; E
    E --&gt; F[proposal / tasks / spec å¢é‡ æ ¡éªŒ]
    F --&gt; G[æŒ‰ tasks å®æ–½]
    G --&gt; H[Rules + create-route/component/theme é¡µé¢å¼€å‘]
    H --&gt; I{æœ‰å®ç°é¡µ?}
    I --&gt;|æ˜¯| J[Browser MCP æ‰“å¼€é¡µé¢]
    J --&gt; K[ui-verification æ¯”å¯¹è®¾è®¡ç¨¿/æ¸…å•]
    K --&gt; L[äº§å‡º UI é—®é¢˜æ¸…å• ä¿®å¤å†éªŒ]
    L --&gt; M[create-api/store + æ¥å£/Context7 ä¸šåŠ¡è”è°ƒ]
    G --&gt; M
    M --&gt; N[SDD å½’æ¡£ æ›´æ–° specs]
</code></pre>
<ol>
<li><strong>éœ€æ±‚è¾“å…¥</strong>ï¼šæ˜ç¡®æ˜¯å¦æœ‰è®¾è®¡ç¨¿ã€æ˜¯å¦æœ‰æ¥å£ã€äº¤ä»˜å½¢æ€ï¼ˆé¡µé¢/ç»„ä»¶/å…¶å®ƒï¼‰ã€‚</li>
<li><strong>è®¾è®¡ç¨¿åˆ†æ</strong>ï¼ˆæœ‰ç¨¿æ—¶ï¼‰ï¼šç”¨ Pencilï¼ˆæˆ– Figmaï¼‰MCP è¯»ç¨¿ â†’ æ‰§è¡Œ design-analysis æŠ€èƒ½ â†’ äº§å‡º UI åˆ†ææ¸…å•ã€‚</li>
<li><strong>åˆ›å»ºææ¡ˆ</strong>ï¼šæ‰§è¡Œ create-proposalï¼Œäº§å‡º SDD çš„ proposalã€tasksã€spec å¢é‡ï¼›è‹¥æœ‰è®¾è®¡ç¨¿ï¼Œåœ¨ tasks ä¸­å†™æ˜ä¾æ® UI åˆ†ææ¸…å•å®ç°ã€å®ç°åç”¨ ui-verification éªŒæ”¶ï¼›validate é€šè¿‡åè¿›å…¥å®æ–½ã€‚</li>
<li><strong>é¡µé¢/UI å¼€å‘</strong>ï¼šæŒ‰ tasks é¡ºåºåšï¼›è¯» Rulesï¼ˆé¡¹ç›®ç»“æ„ã€ç»„ä»¶ã€è·¯ç”±ã€æ ·å¼ç­‰ï¼‰+ Skillsï¼ˆcreate-routeã€create-componentã€theme-variablesï¼‰ï¼›ä¾æ® UI åˆ†ææ¸…å•è¿˜åŸå¸ƒå±€ä¸æ ·å¼ã€‚</li>
<li><strong>UI éªŒæ”¶</strong>ï¼šç”¨ Cursor IDE Browserï¼ˆæˆ– Playwrightï¼‰æ‰“å¼€å®ç°é¡µï¼Œæ‰§è¡Œ ui-verificationï¼Œä¸è®¾è®¡ç¨¿æˆ–åˆ†ææ¸…å•æ¯”å¯¹ï¼ŒæŒ‰ P0/P1/P2 äº§å‡ºé—®é¢˜æ¸…å•ï¼›ä¿®å¤åå†æ¬¡ç”¨ Browser éªŒè¯ã€‚</li>
<li><strong>ä¸šåŠ¡å¼€å‘ä¸è”è°ƒ</strong>ï¼šRulesï¼ˆAPIã€çŠ¶æ€ã€é€šç”¨çº¦æŸï¼‰+ create-apiã€create-storeï¼›æ¥å£æ–‡æ¡£ MCPã€Context7 æŒ‰éœ€ä½¿ç”¨ã€‚</li>
<li><strong>å½’æ¡£</strong>ï¼štasks å…¨éƒ¨å‹¾é€‰åæ‰§è¡Œ SDD archiveï¼Œæ›´æ–° specsï¼Œå˜æ›´æŒªå…¥ archiveã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-1">ä¸»æµ Agent é€šç”¨</h2>
<p>æœ¬å¥—æ¶æ„æ–¹æ¡ˆï¼Œé€‚ç”¨æ‰€æœ‰æ”¯æŒ skills/mcp çš„ Agentï¼Œä¸”
<strong>åªç»´æŠ¤ä¸€ä»½ï¼Œæ‰€æœ‰ Agent å…±ç”¨</strong>ï¼š</p>
<p>é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <strong><code>.agents</code></strong>ï¼Œä¸‹é¢æ”¾ <code>rules</code> å’Œ <code>skills</code>ï¼Œç„¶åæ ¹æ®ä½ æ‰€ä½¿ç”¨çš„ Agent æˆ–å¤šä¸ª Agent åšå¦‚ä¸‹é…ç½®ï¼š</p>
<ul>
<li><strong>Cursor</strong>ï¼šåœ¨é¡¹ç›®æ ¹åˆ›å»º <code>.cursor</code> ç›®å½•ï¼Œå…¶ä¸‹çš„ <code>rules</code>ã€<code>skills</code> ç”¨ <strong>è½¯é“¾æ¥</strong> æŒ‡åˆ° <code>.agents/rules</code>ã€<code>.agents/skills</code>ã€‚</li>
<li><strong>Claude</strong>ï¼šåŒç†ï¼Œåˆ›å»º <code>.claude</code>ï¼Œå°† <code>rules</code>ã€<code>skills</code> è½¯é“¾åˆ° <code>.agents</code> ä¸‹åŒåç›®å½•ã€‚</li>
<li><strong>OpenCode</strong>ï¼šåˆ›å»º <code>.opencode</code>ï¼ŒåŒç†è½¯é“¾ã€‚</li>
<li><strong>Gemini</strong>ï¼šåˆ›å»º <code>.agent</code>ï¼ŒåŒç†è½¯é“¾ã€‚</li>
<li><strong>Trae</strong>ï¼šåˆ›å»º <code>.trae</code>ï¼ŒåŒç†è½¯é“¾ã€‚</li>
</ul>
<p>è¿™æ ·åªéœ€ç»´æŠ¤ <code>.agents</code> ä¸€ä»½ï¼Œå³å¯åŒæ—¶æ”¯æŒä¸Šè¿°æ‰€æœ‰ Agentã€‚</p>
<p><strong>ç›®å½•ç»“æ„ç¤ºä¾‹</strong>ï¼ˆä»…å±•ç¤ºä¸æœ¬æ–‡ç›¸å…³çš„éƒ¨åˆ†ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">é¡¹ç›®æ ¹/
â”œâ”€â”€ .agents/                    # å”¯ä¸€ç»´æŠ¤çš„è§„èŒƒä¸æŠ€èƒ½ç›®å½•
â”‚   â”œâ”€â”€ rules/                  # è§„åˆ™
â”‚   â””â”€â”€ skills/                 # æŠ€èƒ½
â”‚
â”œâ”€â”€ .cursor/                    # Cursorï¼šå†…éƒ¨ rulesã€skills è½¯é“¾åˆ° .agents
â”œâ”€â”€ .claude/                    # Claudeï¼šåŒä¸Š
â”œâ”€â”€ .opencode/                  # OpenCodeï¼šåŒä¸Š
â”œâ”€â”€ .agent/                     # Geminiï¼šåŒä¸Š
â””â”€â”€ .trae/                      # Traeï¼šåŒä¸Š
</code></pre>
<hr/>
<h2 data-id="heading-2">SDD</h2>
<p><strong>SDD æ˜¯ä»€ä¹ˆ</strong><br/>
Specification-Driven Developmentï¼Œç”¨ã€Œè§„èŒƒ/specã€æ¥é©±åŠ¨å¼€å‘ï¼š</p>
<ul>
<li><strong>å…ˆå†™ spec å†å†™ä»£ç </strong>ï¼šä»»ä½•éœ€æ±‚æˆ–å˜æ›´ï¼Œå…ˆå†™æ¸…æ¥šéœ€æ±‚ï¼Œã€Œç°åœ¨æ˜¯æ€æ · â†’ æœŸæœ›å˜æˆæ€æ ·ã€ï¼Œå†å¼€å¹²ï¼›</li>
<li><strong>å˜æ›´å¯è¿½è¸ª</strong>ï¼šå˜æ›´ä»¥ã€Œææ¡ˆ + ä»»åŠ¡ + spec å¢é‡ã€ç®¡ç†ï¼Œå®æ–½å®Œå½’æ¡£ï¼Œå¯å›æº¯æ˜¯è°ã€ä»€ä¹ˆæ—¶å€™ã€ä¸ºä»€ä¹ˆæ”¹äº†ä»€ä¹ˆï¼›</li>
<li><strong>éªŒæ”¶æœ‰æ®å¯ä¾</strong>ï¼šéªŒæ”¶æŒ‰ spec æ¥ï¼Œè€Œä¸æ˜¯ã€Œæ„Ÿè§‰å·®ä¸å¤šã€ã€‚</li>
</ul>
<p><strong>SDD çš„é€‰æ‹©</strong></p>
<p>Spec-kit å’Œ OpenSpec æ˜¯ä¸¤ä¸ªæ¯”è¾ƒçƒ­é—¨çš„ SDD å·¥å…·ï¼Œæˆ‘åœ¨å°è¯•è¿‡ä¸¤ä¸ªå·¥å…·åï¼Œæœ€ç»ˆé€‰æ‹©ä½¿ç”¨ openspec å› ä¸ºä»–æ¯” speckit ç®€å•å¾ˆå¤šï¼Œspeckit çš„æµç¨‹æ›´ä¸¥è°¨ï¼Œä¹Ÿæ›´ç¹çï¼Œå…¶å¤æ‚åº¦é€‚åˆä» 0 åˆ° 1 è§„åˆ’ä¸€ä¸ªæ–°é¡¹ç›®ã€‚</p>
<p><strong>OpenSpec</strong></p>
<p>é€šè¿‡ <code>openspec init</code> åˆå§‹åŒ–é¡¹ç›®åï¼Œä½ å°±ä¼šå¾—åˆ°å¦‚ä¸‹çš„ä¸€ä¸ªå…¸å‹çš„ OpenSpec ç›®å½•ï¼š</p>
<pre><code class="hljs language-text" lang="text">openspec/
â”œâ”€â”€ project.md          # é¡¹ç›®çº¦å®šä¸ AI ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ specs/              # å½“å‰ã€ŒçœŸç›¸ã€ï¼šå·²ç»ç”Ÿæ•ˆçš„èƒ½åŠ›ä¸çº¦æŸ
â””â”€â”€ changes/            # è¿›è¡Œä¸­çš„å˜æ›´ï¼šproposalã€tasksã€designã€spec å¢é‡
    â”œâ”€â”€ &lt;change-id&gt;/
    â”‚   â”œâ”€â”€ proposal.md
    â”‚   â”œâ”€â”€ tasks.md
    â”‚   â”œâ”€â”€ design.md      # å¯é€‰ï¼šè‰å›¾/äº¤äº’/è¾¹ç•Œæƒ…å†µ
    â”‚   â””â”€â”€ spec-delta.md  # æœ¬æ¬¡å˜æ›´å¯¹ specs çš„å¢é‡
    â””â”€â”€ ...
</code></pre>
<p>é¦–å…ˆä½ éœ€è¦ç¼–å†™ <code>project.md</code>ï¼Œå°†ä½ é¡¹ç›®çš„è§„èŒƒå‘Šè¯‰ openspecï¼Œä»¥æ­¤ä½œä¸ºè§„èŒƒè¿›è¡Œæ¨åŠ¨åç»­çš„å·¥ä½œï¼Œè¿™æ˜¯æˆ‘é¡¹ç›®çš„ <code>project.md</code>ï¼Œèµ·åˆä¹Ÿæ˜¯ä¸€ä¸ªåºå¤§çš„æ–‡ä»¶ï¼Œç°åœ¨å·²ç»æ‹†åˆ†åˆ° rules å’Œ skills äº†ï¼ˆåé¢ä¼šä»‹ç»ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®ä¸Šä¸‹æ–‡</span>

<span class="hljs-section">## é¡¹ç›®æ¦‚è¿°</span>

å½“å‰é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº React + TypeScript çš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ã€‚

<span class="hljs-section">## æŠ€èƒ½ä¸è§„èŒƒ</span>

æœ¬é¡¹ç›®å®šä¹‰äº†ä¸¤å±‚æŒ‡å¯¼ä½“ç³»ï¼Œç»Ÿä¸€å­˜æ”¾åœ¨ <span class="hljs-code">`.agents/`</span> ç›®å½•ä¸‹ã€‚

<span class="hljs-section">### `.agents/rules/` - å¼€å‘è§„èŒƒ</span>

è§„èŒƒæ–‡ä»¶åŒ…å«é¡¹ç›®å¼€å‘çš„æ ¸å¿ƒè§„åˆ™ï¼Œä¸ä¼šè‡ªåŠ¨åŠ è½½ã€‚å½“éœ€è¦ç¡®è®¤è§„èŒƒæ—¶ï¼Œä¸»åŠ¨è¯»å–å¯¹åº”æ–‡ä»¶ï¼š

| æ–‡ä»¶             | ä½•æ—¶è¯»å–                   |
| ---------------- | -------------------------- |
| <span class="hljs-code">`01-é¡¹ç›®æ¦‚è¿°.md`</span> | éœ€è¦äº†è§£é¡¹ç›®èƒŒæ™¯ã€æŠ€æœ¯æ ˆæ—¶ |
| <span class="hljs-code">`02-ç¼–ç è§„èŒƒ.md`</span> | ç¼–å†™æˆ–å®¡æŸ¥ä»£ç æ—¶           |
| <span class="hljs-code">`03-é¡¹ç›®ç»“æ„.md`</span> | ç¡®å®šä»£ç åº”æ”¾åœ¨å“ªä¸ªç›®å½•æ—¶   |
| <span class="hljs-code">`04-ç»„ä»¶è§„èŒƒ.md`</span> | åˆ›å»ºæˆ–æ‹†åˆ†ç»„ä»¶æ—¶           |
| <span class="hljs-code">`05-APIè§„èŒƒ.md`</span>  | æ–°å¢æˆ–ä¿®æ”¹æ¥å£æ—¶           |
| <span class="hljs-code">`06-è·¯ç”±è§„èŒƒ.md`</span> | æ–°å¢é¡µé¢æˆ–é…ç½®è·¯ç”±æ—¶       |
| <span class="hljs-code">`07-çŠ¶æ€ç®¡ç†.md`</span> | æ–°å¢æˆ–é‡æ„çŠ¶æ€ç®¡ç†æ—¶       |
| <span class="hljs-code">`08-é€šç”¨çº¦æŸ.md`</span> | ç¡®è®¤é€šç”¨çº¦æŸæ—¶             |
| <span class="hljs-code">`09-æ ·å¼è§„èŒƒ.md`</span> | ç¼–å†™ç»„ä»¶æ ·å¼æˆ–ä¸»é¢˜é€‚é…æ—¶   |
| <span class="hljs-code">`10-æ–‡æ¡£è§„èŒƒ.md`</span> | ç¼–å†™æˆ–å®¡æŸ¥ä»£ç æ³¨é‡Šæ—¶       |
| <span class="hljs-code">`11-æµ‹è¯•è§„èŒƒ.md`</span> | ç¡®è®¤æµ‹è¯•è¦æ±‚æ—¶             |

<span class="hljs-section">### `.agents/skills/` - å®è·µæŠ€èƒ½</span>

æŠ€èƒ½æ–‡ä»¶åŒ…å«å…·ä½“è½åœ°æ­¥éª¤ä¸ç¤ºä¾‹ä»£ç ï¼ŒæŒ‰éœ€è¯»å–ï¼š

| åœºæ™¯              | æŠ€èƒ½æ–‡ä»¶                                   |
| ----------------- | ------------------------------------------ |
| åˆ›å»ºææ¡ˆæ—¶        | <span class="hljs-code">`.agents/skills/create-proposal/SKILL.md`</span>  |
| æ–°å¢æ¥å£          | <span class="hljs-code">`.agents/skills/create-api/SKILL.md`</span>       |
| åˆ›å»º/æ‹†åˆ†ç»„ä»¶     | <span class="hljs-code">`.agents/skills/create-component/SKILL.md`</span> |
| æ–°å¢é¡µé¢è·¯ç”±      | <span class="hljs-code">`.agents/skills/create-route/SKILL.md`</span>     |
| æ–°å¢å…¨å±€çŠ¶æ€      | <span class="hljs-code">`.agents/skills/create-store/SKILL.md`</span>     |
| ç¼–å†™æ ·å¼/ä¸»é¢˜é€‚é… | <span class="hljs-code">`.agents/skills/theme-variables/SKILL.md`</span>  |

æŠ€èƒ½ç´¢å¼•æ–‡ä»¶ï¼š<span class="hljs-code">`.agents/skills/README.md`</span>

</code></pre>
<p>é…ç½®äº†è§„èŒƒåï¼Œå°±å¯ä»¥ä½¿ç”¨ openspec çš„æŒ‡ä»¤è¿›è¡Œéœ€æ±‚çš„å®ç°ï¼Œå…ˆæ˜¯ <code>openspec proposal</code> åˆ›å»ºææ¡ˆï¼ŒAgent ä¼šæ ¹æ®ä½ çš„æè¿°ï¼Œç”Ÿæˆè¯¦ç»†çš„éœ€æ±‚æ–‡æ¡£ï¼Œè§„åˆ’å¼€å‘ä»»åŠ¡ï¼Œå¾…ä½ ç¡®è®¤ã€‚</p>
<p>å¼€å‘ä»»åŠ¡ç¡®è®¤åï¼Œå†æ‰§è¡Œ <code>openspec apply</code> å¼€å§‹å®æ–½ä»»åŠ¡ï¼Œä»»åŠ¡å®Œæˆ <code>openspec archive</code> å¯¹æœ¬æ¬¡éœ€æ±‚å½’æ¡£ï¼Œè¿™ä¼šä½œä¸ºåç»­æ–°éœ€æ±‚çš„ä¸€ä¸ªå‚è€ƒï¼Œè®© Agent å¯¹é¡¹ç›®çš„ç°çŠ¶æ›´äº†è§£ã€‚</p>
<p><strong>OpenSpec åœ¨è¿™å¥—æ¶æ„é‡Œçš„ä½œç”¨</strong><br/>
ç»“åˆå‰é¢è®²çš„ Rules / Skills / MCPï¼Œè¿™é‡Œçš„ OpenSpec ä¸»è¦åœ¨ä¸‰ä¸ªç¯èŠ‚å‘åŠ›ï¼š</p>
<ul>
<li><strong>éœ€æ±‚ / å˜æ›´æ”¶æ•›</strong>ï¼šä¸ç®¡è¾“å…¥æ¥è‡ª PRDã€å£å¤´ã€IM è¿˜æ˜¯è®¾è®¡ç¨¿ï¼Œå…ˆç”¨ OpenSpec å†™ä¸€æ¡å˜æ›´ï¼ˆproposal + tasks + spec å¢é‡ï¼‰ï¼ŒæŠŠã€Œè¦æ”¹ä»€ä¹ˆã€å½±å“åˆ°å“ªé‡Œã€è¯´æ¸…æ¥šï¼Œé¿å… AI ç›´æ¥åœ¨ä»£ç ä¸Šã€Œç›²æ”¹ã€ï¼›</li>
<li><strong>å¼€å‘æ‰§è¡Œå¯¹é½</strong>ï¼šå¼€å‘æ—¶ï¼ŒAgent è¯»å–å¯¹åº”å˜æ›´çš„ proposal / tasks / spec å¢é‡ï¼Œå†ç»“åˆ Rulesï¼ˆé¡¹ç›®çº§çº¦æŸï¼‰ã€Skillsï¼ˆå¦‚ create-route / create-api / design-analysisï¼‰å’Œ MCPï¼ˆè®¾è®¡ç¨¿ / æµè§ˆå™¨ / æ¥å£æ–‡æ¡£ï¼‰ï¼ŒæŒ‰ tasks ä¸€é¡¹é¡¹å®Œæˆï¼Œå®ç°è¿‡ç¨‹å§‹ç»ˆå›´ç»•åŒä¸€ä»½ spec å±•å¼€ï¼›</li>
<li><strong>éªŒæ”¶ä¸å½’æ¡£</strong>ï¼šUI éªŒæ”¶é˜¶æ®µï¼Œui-verification ä¼šåŒæ—¶å‚è€ƒ UI åˆ†ææ¸…å•ï¼ˆdesign-analysis äº§ç‰©ï¼‰å’Œ OpenSpec ä¸­çš„ spec å¢é‡ï¼ŒéªŒè¯æ˜¯å¦æ»¡è¶³è¿™æ¬¡å˜æ›´çš„ä¸šåŠ¡ä¸äº¤äº’é¢„æœŸï¼›éªŒæ”¶é€šè¿‡åï¼Œå°†å˜æ›´ç§»åŠ¨åˆ° archiveï¼Œå¹¶æŠŠ spec å¢é‡åˆåˆ° specsï¼Œä¸‹æ¬¡å†æ”¹åŒä¸€å—èƒ½åŠ›æ—¶ï¼Œæ‰€æœ‰ä¸Šä¸‹æ–‡éƒ½åœ¨è¿™é‡Œã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">MCP</h2>
<p><strong>MCP æ˜¯ä»€ä¹ˆ</strong>ï¼šModel Context Protocolï¼Œæ¨¡å‹é€šç”¨çš„ä¸Šä¸‹æ–‡åè®®ï¼Œè®©æ¨¡å‹èƒ½å®‰å…¨ã€ç»“æ„åŒ–åœ°è°ƒç”¨å¤–éƒ¨èƒ½åŠ›ã€‚è®¾è®¡ç¨¿ã€æµè§ˆå™¨ã€æ¥å£æ–‡æ¡£ç­‰é€šè¿‡ MCP æš´éœ²æˆå·¥å…·ï¼ŒAgent æŒ‰éœ€è°ƒç”¨ï¼Œæ‹¿åˆ°çœŸå®æ•°æ®æˆ–æ‰§è¡ŒçœŸå®æ“ä½œã€‚</p>
<p>è¿™å¥—æ¶æ„ä¸­ç”¨åˆ°å¦‚ä¸‹çš„ MCPï¼š</p>















































<table><thead><tr><th>MCP</th><th>ç”¨é€”</th><th>ç¯èŠ‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Pencil</td><td>.pen è®¾è®¡ç¨¿ç»“æ„ã€å¸ƒå±€ã€èŠ‚ç‚¹ã€æˆªå›¾</td><td>è®¾è®¡ç¨¿åˆ†æ</td><td>è®¾è®¡ç¨¿åˆ†æé¦–é€‰ï¼Œæ•ˆæœä¼˜äº Figma MCP</td></tr><tr><td>Figma</td><td>Figma é“¾æ¥çš„æˆªå›¾ä¸è®¾è®¡ä¸Šä¸‹æ–‡</td><td>è®¾è®¡ç¨¿åˆ†æï¼ˆFigma ç¨¿æ—¶ï¼‰</td><td>æœ‰ .pen æ—¶ä¼˜å…ˆ Pencil</td></tr><tr><td>Cursor IDE Browser</td><td>æ‰“å¼€é¡µé¢ã€å¿«ç…§ã€æˆªå›¾</td><td>UI éªŒæ”¶</td><td>Cursor å†…ä¼˜å…ˆï¼Œæ•ˆæœä¼˜äº Playwright</td></tr><tr><td>Playwright</td><td>é¡µé¢æ‰“å¼€ã€æˆªå›¾ã€è‡ªåŠ¨åŒ–</td><td>UI éªŒæ”¶ï¼ˆé Cursor æˆ–è„šæœ¬åŒ–ï¼‰</td><td>å¯ä½œä¸º Browser çš„è¡¥å……</td></tr><tr><td>ApiFox</td><td>OAS ç­‰æ¥å£å®šä¹‰</td><td>ä¸šåŠ¡å¼€å‘/è”è°ƒ</td><td>æŒ‰å½“å‰æ–‡æ¡£ç”Ÿæˆ/æ ¡éªŒè¯·æ±‚</td></tr><tr><td>Context7</td><td>ä¸»æµåº“æœ€æ–°æ–‡æ¡£ä¸ç¤ºä¾‹æ³¨å…¥</td><td>é¡µé¢/ä¸šåŠ¡å¼€å‘</td><td>é¿å…è¿‡æ—¶ APIã€å¹»è§‰</td></tr></tbody></table>
<p><strong>è®¾è®¡ç¨¿ç±»</strong></p>
<ul>
<li><strong>Pencil MCP</strong>ï¼šé¢å‘ <code>.pen</code> è®¾è®¡ç¨¿ã€‚èƒ½è¯»å±‚çº§ã€èŠ‚ç‚¹ã€å¸ƒå±€ã€æˆªå›¾ï¼ˆå¦‚ <code>snapshot_layout</code>ã€<code>get_screenshot</code>ã€<code>batch_get</code> ç­‰ï¼‰ï¼ŒæŠŠè®¾è®¡ç¨¿é‡Œçš„å…ƒç´ å°ºå¯¸ã€é—´è·ã€å­—ä½“ã€é¢œè‰²ç›´æ¥è§¦è¾¾ Agentã€‚åœ¨ã€Œè®¾è®¡ç¨¿åˆ†æã€ç¯èŠ‚ä½œä¸ºä¸»æ•°æ®æºï¼Œ<strong>æ•ˆæœæ˜æ˜¾å¥½äº Figma MCP</strong>â€”â€”å±‚çº§ä¸ç»†èŠ‚æ›´å®Œæ•´ï¼Œåˆ†ææ¸…å•æ›´å‡†ï¼Œå› æ­¤æœ‰ .pen ç¨¿æ—¶ä¼˜å…ˆç”¨ Pencilã€‚å¯ä»¥ç›´æ¥æ‹·è´ Figma ç²˜è´´åˆ° Pencil è®¾è®¡ç¨¿ã€‚</li>
<li><strong>Figma MCP</strong>ï¼šé¢å‘ Figma é“¾æ¥ã€‚å¯è§£æ file key / node idã€å–æˆªå›¾ä¸è®¾è®¡ä¸Šä¸‹æ–‡ï¼Œé€‚åˆè®¾è®¡ç¨¿åœ¨ Figma çš„åœºæ™¯ï¼Œä½† Figma å¯å¤åˆ¶åˆ° Pencil ï¼Œ95%+ æ ·å¼å¤åˆ¶åè¿˜åŸï¼Œä¸ªåˆ«æš‚ä¸æ”¯æŒçš„ä¾‹å¦‚ Pencil æ²¡æœ‰è™šçº¿è¾¹æ¡†ã€‚</li>
</ul>
<p><strong>æµè§ˆå™¨ç±»</strong></p>
<ul>
<li><strong>Cursor IDE Browser</strong>ï¼šåœ¨ Cursor å†…æ‰“å¼€ç›®æ ‡é¡µã€æ‹‰å¿«ç…§ã€æˆªå›¾ã€ç®€å•äº¤äº’ã€‚ç”¨äº UI éªŒæ”¶æ—¶ã€ŒçœŸå®é¡µé¢ vs è®¾è®¡ç¨¿ã€æ¯”å¯¹ã€‚<strong>åœ¨ Cursor é‡Œåš UI éªŒæ”¶æ—¶ï¼Œä¼˜å…ˆç”¨ Cursor IDE Browserï¼Œæ•ˆæœæ¯” Playwright MCP æ›´å¥½</strong>ï¼ˆé›†æˆåº¦ã€ç¨³å®šæ€§ã€æˆªå›¾æ¯”å¯¹æµç¨‹æ›´é¡ºï¼‰ã€‚</li>
<li><strong>Playwright MCP</strong>ï¼šåŒæ ·å¯æ‰“å¼€é¡µé¢ã€æˆªå›¾ã€æ“ä½œï¼Œé€‚åˆä¸åœ¨ Cursor æˆ–éœ€è¦è„šæœ¬åŒ–éªŒæ”¶æ—¶ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>æ¥å£ä¸æ–‡æ¡£ç±»</strong></p>
<ul>
<li><strong>æ¥å£æ–‡æ¡£ MCPï¼ˆå¦‚ ApiFoxï¼‰</strong>ï¼šè¯»/åˆ·æ–°é¡¹ç›® OAS ç­‰ï¼Œåœ¨ä¸šåŠ¡å¼€å‘/è”è°ƒæ—¶æŒ‰å½“å‰æ–‡æ¡£ç”Ÿæˆæˆ–æ ¡éªŒè¯·æ±‚ä¸ç±»å‹ï¼Œé¿å…æ¥å£å˜æ›´åæ¨¡å‹ç”¨æ—§å‡è®¾ã€‚</li>
<li><strong>Context7</strong>ï¼šæŒ‰éœ€æ³¨å…¥å½“å‰ç‰ˆæœ¬çš„åº“æ–‡æ¡£ä¸ä»£ç ç¤ºä¾‹ï¼Œåœ¨é¡µé¢/ä¸šåŠ¡å¼€å‘æ—¶å‡å°‘ä¾èµ–è¿‡æ—¶ã€æ¨¡å‹å¹»è§‰ API çš„é—®é¢˜ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">Rules</h2>
<p><strong>Rules æ˜¯ä»€ä¹ˆ</strong>ï¼šå†™åœ¨é¡¹ç›®é‡Œçš„æŒä¹…åŒ–æŒ‡å¯¼ï¼Œçº¦å®šè§„èŒƒã€çº¦æŸå’Œæƒ¯ä¾‹ï¼ˆé¡¹ç›®æ¦‚è¿°ã€ç¼–ç ã€ç»“æ„ã€ç»„ä»¶ã€APIã€è·¯ç”±ã€çŠ¶æ€ã€æ ·å¼ã€æ–‡æ¡£ã€æµ‹è¯•ç­‰ï¼‰ï¼Œè®© Agent éµå®ˆã€Œåšä»€ä¹ˆã€ä¸åšä»€ä¹ˆã€ã€‚</p>
<p><strong>å®è·µä¸­çš„æ¼”è¿›å†ç¨‹</strong>ï¼š</p>
<ul>
<li>æœ€åˆæ˜¯ä¸€æ•´ä¸ªå¤§ Rule.mdï¼Œä¸Šä¸‹æ–‡è¿‡å¤§ã€æ˜“ä¸¢è®°å¿†ã€éš¾æŒ‰åœºæ™¯èšç„¦ï¼›</li>
<li>åæ¥æŒ‰æ¨¡å—æ‹†æˆå¤šä»½ï¼ˆå¦‚ 01ï½11ï¼‰ï¼ŒæŒ‰éœ€è¯»ï¼›</li>
<li>Skills åŠ å…¥åï¼ŒRules åªéœ€è¦ä¿ç•™åŸåˆ™ä¸çº¦æŸï¼ŒæŠŠæ­¥éª¤ã€æ£€æŸ¥ç‚¹ã€æ¨¡æ¿ã€ç¤ºä¾‹è¿åˆ° Skillsï¼Œå®ç°æ¸è¿›å¼æŠ«éœ²ã€‚</li>
</ul>
<p><strong>é¡¹ç›®çº§ Rules æ¸…å•</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">.agents/rules/
â”œâ”€â”€ 01-é¡¹ç›®æ¦‚è¿°.md
â”œâ”€â”€ 02-ç¼–ç è§„èŒƒ.md
â”œâ”€â”€ 03-é¡¹ç›®ç»“æ„.md
â”œâ”€â”€ 04-ç»„ä»¶è§„èŒƒ.md
â”œâ”€â”€ 05-APIè§„èŒƒ.md
â”œâ”€â”€ 06-è·¯ç”±è§„èŒƒ.md
â”œâ”€â”€ 07-çŠ¶æ€ç®¡ç†.md
â”œâ”€â”€ 08-é€šç”¨çº¦æŸ.md
â”œâ”€â”€ 09-æ ·å¼è§„èŒƒ.md
â”œâ”€â”€ 10-æ–‡æ¡£è§„èŒƒ.md
â”œâ”€â”€ 11-æµ‹è¯•è§„èŒƒ.md
â””â”€â”€ README.md
</code></pre>
<p><strong>Rules ç›®å½•ä¸‹çš„ README æ¸…æ™°çš„ä»‹ç»äº†å„ä¸ª rule çš„ä½œç”¨å’Œä½¿ç”¨æ—¶æœº</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®è§„èŒƒç´¢å¼•</span>

æœ¬ç›®å½•åŒ…å«å‰ç«¯é¡¹ç›®çš„å¼€å‘è§„èŒƒï¼ŒæŒ‰æ¨¡å—åˆ†ç±»ç»„ç»‡ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ã€‚

<span class="hljs-section">## è§„èŒƒæ¨¡å—åˆ—è¡¨</span>

<span class="hljs-section">### ğŸ“‹ [<span class="hljs-string">01-é¡¹ç›®æ¦‚è¿°</span>](<span class="hljs-link">./01-é¡¹ç›®æ¦‚è¿°.md</span>)</span>

<span class="hljs-bullet">-</span> é¡¹ç›®å®šä½
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆ

<span class="hljs-section">### ğŸ’» [<span class="hljs-string">02-ç¼–ç è§„èŒƒ</span>](<span class="hljs-link">./02-ç¼–ç è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> TypeScript è§„èŒƒ
<span class="hljs-bullet">-</span> å‘½åè§„èŒƒï¼ˆæ–‡ä»¶å¤¹ã€å˜é‡ã€å¸¸é‡ã€æ¥å£ã€ç»„ä»¶ç­‰ï¼‰
<span class="hljs-bullet">-</span> ä¸šåŠ¡å‡½æ•°å‘½åï¼ˆäº‹ä»¶å¤„ç†ã€å†…éƒ¨å¤„ç†ï¼‰

<span class="hljs-section">### ğŸ“ [<span class="hljs-string">03-é¡¹ç›®ç»“æ„</span>](<span class="hljs-link">./03-é¡¹ç›®ç»“æ„.md</span>)</span>

<span class="hljs-bullet">-</span> ç›®å½•ç»“æ„æ¦‚è§ˆ
<span class="hljs-bullet">-</span> å„ç›®å½•ä½¿ç”¨çº¦æŸï¼ˆç¦æ­¢æ–°å»ºéæ ‡å‡†ç›®å½•ï¼‰

<span class="hljs-section">### ğŸ§© [<span class="hljs-string">04-ç»„ä»¶è§„èŒƒ</span>](<span class="hljs-link">./04-ç»„ä»¶è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> ç»„ä»¶ç»“æ„è§„èŒƒ
<span class="hljs-bullet">-</span> ç»„ä»¶å±‚çº§è§„åˆ’ï¼ˆé€šç”¨ vs é¡µé¢çº§ï¼‰

<span class="hljs-section">### ğŸŒ [<span class="hljs-string">05-APIè§„èŒƒ</span>](<span class="hljs-link">./05-APIè§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> æ¥å£è¯·æ±‚è§„èŒƒ
<span class="hljs-bullet">-</span> æ¥å£å‡½æ•°å‘½åï¼ˆNON-NEGOTIABLEï¼‰
<span class="hljs-bullet">-</span> æ¥å£é”™è¯¯å¤„ç†ï¼ˆNON-NEGOTIABLEï¼‰

<span class="hljs-section">### ğŸ›£ï¸ [<span class="hljs-string">06-è·¯ç”±è§„èŒƒ</span>](<span class="hljs-link">./06-è·¯ç”±è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> è·¯ç”±ç»“æ„è§„èŒƒ
<span class="hljs-bullet">-</span> è·¯ç”±ä¸èœå•è§„èŒƒï¼ˆNON-NEGOTIABLEï¼‰

<span class="hljs-section">### ğŸ—„ï¸ [<span class="hljs-string">07-çŠ¶æ€ç®¡ç†</span>](<span class="hljs-link">./07-çŠ¶æ€ç®¡ç†.md</span>)</span>

<span class="hljs-bullet">-</span> Zustand ä½¿ç”¨è§„èŒƒ
<span class="hljs-bullet">-</span> Store ç»„ç»‡è§„èŒƒ
<span class="hljs-bullet">-</span> æŒä¹…åŒ–ç­–ç•¥

<span class="hljs-section">### âš™ï¸ [<span class="hljs-string">08-é€šç”¨çº¦æŸ</span>](<span class="hljs-link">./08-é€šç”¨çº¦æŸ.md</span>)</span>

<span class="hljs-bullet">-</span> è¯­è¨€è§„èŒƒï¼ˆä¸­æ–‡æ³¨é‡Šï¼‰
<span class="hljs-bullet">-</span> å¯è§‚æµ‹æ€§ä¸å…œåº•
<span class="hljs-bullet">-</span> çº¦æŸæ±‡æ€»

<span class="hljs-section">### ğŸ¨ [<span class="hljs-string">09-æ ·å¼è§„èŒƒ</span>](<span class="hljs-link">./09-æ ·å¼è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> SCSS Modules ä½¿ç”¨è§„èŒƒ
<span class="hljs-bullet">-</span> ä¸»é¢˜è‰² CSS å˜é‡ï¼ˆNON-NEGOTIABLEï¼‰

<span class="hljs-section">### ğŸ“ [<span class="hljs-string">10-æ–‡æ¡£è§„èŒƒ</span>](<span class="hljs-link">./10-æ–‡æ¡£è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> æ³¨é‡Šè§„èŒƒ
<span class="hljs-bullet">-</span> JSDoc ä½¿ç”¨

<span class="hljs-section">### âœ… [<span class="hljs-string">11-æµ‹è¯•è§„èŒƒ</span>](<span class="hljs-link">./11-æµ‹è¯•è§„èŒƒ.md</span>)</span>

<span class="hljs-bullet">-</span> æµ‹è¯•è¦†ç›–è¦æ±‚
<span class="hljs-bullet">-</span> è´¨é‡é—¨ç¦

<span class="hljs-section">## ä½¿ç”¨è¯´æ˜</span>

<span class="hljs-bullet">1.</span> æ ¹æ®éœ€è¦çš„è§„èŒƒç±»å‹ï¼Œç‚¹å‡»å¯¹åº”çš„æ¨¡å—é“¾æ¥æŸ¥çœ‹è¯¦ç»†å†…å®¹
<span class="hljs-bullet">2.</span> æ‰€æœ‰è§„èŒƒæ–‡ä»¶éƒ½åŒ…å« <span class="hljs-code">`alwaysApply: true`</span> æ ‡è®°ï¼Œç¡®ä¿è§„èŒƒè‡ªåŠ¨åº”ç”¨
<span class="hljs-bullet">3.</span> è¯¦ç»†ç¤ºä¾‹ä¸è½åœ°æ­¥éª¤è§ <span class="hljs-code">`.agents/skills/`</span> ç›®å½•ä¸‹çš„æŠ€èƒ½æ–‡ä»¶

<span class="hljs-section">## å¿«é€ŸæŸ¥æ‰¾</span>

| éœ€æ±‚ | è§„èŒƒæ–‡ä»¶ |
|------|----------|
| é¡¹ç›®èƒŒæ™¯æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å“ªäº›æŠ€æœ¯æ ˆï¼Ÿ | 01-é¡¹ç›®æ¦‚è¿° |
| å¦‚ä½•å‘½åå‡½æ•°/å˜é‡ï¼Ÿ | 02-ç¼–ç è§„èŒƒ |
| ä»£ç æ”¾åœ¨å“ªä¸ªç›®å½•ï¼Ÿ | 03-é¡¹ç›®ç»“æ„ |
| å¦‚ä½•åˆ›å»º/æ‹†åˆ†ç»„ä»¶ï¼Ÿ | 04-ç»„ä»¶è§„èŒƒ |
| å¦‚ä½•è°ƒç”¨æ¥å£ï¼Ÿ | 05-APIè§„èŒƒ |
| å¦‚ä½•é…ç½®è·¯ç”±ï¼Ÿ | 06-è·¯ç”±è§„èŒƒ |
| å¦‚ä½•ä½¿ç”¨ Zustandï¼Ÿ | 07-çŠ¶æ€ç®¡ç† |
| æœ‰å“ªäº›é€šç”¨çº¦æŸï¼Ÿ | 08-é€šç”¨çº¦æŸ |
| å¦‚ä½•ä½¿ç”¨ä¸»é¢˜å˜é‡ï¼Ÿ | 09-æ ·å¼è§„èŒƒ |
| å¦‚ä½•å†™æ³¨é‡Šï¼Ÿ | 10-æ–‡æ¡£è§„èŒƒ |
| æœ‰ä½•æµ‹è¯•è¦æ±‚ï¼Ÿ | 11-æµ‹è¯•è§„èŒƒ |

</code></pre>
<p>æ›´è¯¦ç»†çš„ rules è½åœ°ç¤ºä¾‹è§ï¼š<a href="https://juejin.cn/post/7603444191448104994" target="_blank" title="https://juejin.cn/post/7603444191448104994"><strong>ã€Šå‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆäºŒï¼‰Rules ç¯‡ã€‹</strong></a>ã€‚</p>
<hr/>
<h2 data-id="heading-5">Skills</h2>
<p><strong>Skills æ˜¯ä»€ä¹ˆ</strong>ï¼šç”¨ Markdown å†™çš„æŠ€èƒ½æ–‡ä»¶ï¼Œæ•™ä¼š Agent å®ŒæˆæŸä¸€ç±»ä»»åŠ¡ã€‚ä¸€ä¸ªæŠ€èƒ½ä¸€ä¸ªç›®å½•ï¼Œå¿…æœ‰ <code>SKILL.md</code>ï¼ˆYAML å¤´ + æ­¥éª¤ + ç¤ºä¾‹ï¼‰ï¼Œå¯å¸¦å­è§„åˆ™ã€‚</p>
<p><strong>Skills æœ‰ä»€ä¹ˆç”¨</strong>ï¼šæŒ‰åœºæ™¯åŠ è½½ã€æ¸è¿›æŠ«éœ²ï¼Œä¾‹å¦‚åœ¨ Rules åˆ’å¥½è¾¹ç•Œçš„å‰æä¸‹ç»™ã€Œæ€ä¹ˆåšã€çš„æ­¥éª¤ä¸ç¤ºä¾‹æ‹†åˆ†æˆ skillsï¼Œé¿å…å¤§é‡ rules å¯¼è‡´ä¸Šä¸‹æ–‡åºå¤§ï¼Œæ¨¡å‹æ— æ³•é›†ä¸­ï¼Œå‡ºç°å¹»è§‰å’Œè®°å¿†ä¸¢å¤±é—®é¢˜ã€‚</p>
<p><strong>å¼€æº Skills</strong>ï¼š</p>
<p>æœ‰è®¸å¤šå¼€æºçš„ä¼˜è´¨ skillsï¼Œç›´æ¥å®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¸­å¤§æœ‰è£¨ç›Šï¼Œåœ¨æˆ‘çš„ React é¡¹ç›®ä¸­å°±ç”¨åˆ°äº†ä»¥ä¸‹å¼€æº skills</p>



































<table><thead><tr><th>æŠ€èƒ½</th><th>ç®€ä»‹</th><th>ä½¿ç”¨ç¯èŠ‚</th></tr></thead><tbody><tr><td>vercel-react-best-practices</td><td>React ä»£ç ç¼–å†™çš„æœ€ä½³å®è·µ</td><td>é¡µé¢/ä¸šåŠ¡å¼€å‘æ—¶æŒ‰éœ€å¼•ç”¨</td></tr><tr><td>vercel-composition-patterns</td><td>å¤åˆç»„ä»¶ã€çŠ¶æ€æå‡ã€é¿å… boolean props ç­‰</td><td>è®¾è®¡ç»„ä»¶ APIã€ç»„åˆä¸çŠ¶æ€æ—¶</td></tr><tr><td>web-design-guidelines</td><td>é€šç”¨ UI/UX è®¾è®¡æŒ‡å—</td><td>UI åˆ†æã€å®ç°æ—¶å‚è€ƒ</td></tr><tr><td>find-skills</td><td>æŸ¥æ‰¾å¹¶é€‰ç”¨å¯ç”¨æŠ€èƒ½</td><td>éœ€è¦å‘ç°æŠ€èƒ½æ—¶</td></tr><tr><td>skill-creator</td><td>åˆ›å»ºæ–°æŠ€èƒ½çš„ç»“æ„ä¸è§„èŒƒ</td><td>æ‰©å±•èƒ½åŠ›ã€æ–°å¢ Skills æ—¶</td></tr></tbody></table>
<p><strong>è‡ªå°è£… Skills</strong>ï¼š</p>
<p>é™¤äº†å¼€æº skillsï¼Œä½ è¿˜å¯ä»¥è‡ªå·±å°è£… skillsï¼Œå½“æœ‰å›ºå®šæ­¥éª¤æµç¨‹ä¸”ä¼šåå¤åšçš„ä»»åŠ¡æ—¶ï¼Œå°±å¯ä»¥å°è£…æˆ Skillã€‚åœ¨æˆ‘çš„é¡¹ç›®ä¸­å°±æœ‰ä»¥ä¸‹ä¸¤ç±»è‡ªå°è£…çš„ skillï¼š</p>
<ol>
<li>
<p>ä» Rulesã€Œæ€ä¹ˆåšã€æ‹†å‡ºæ¥çš„ï¼ˆcreate-routeã€create-componentã€create-apiã€create-storeã€theme-variablesï¼‰ï¼›</p>
</li>
<li>
<p>å¯å¤ç”¨çš„æµç¨‹ï¼Œç»™äºˆ Agent æŒ‡å¯¼ï¼ˆcreate-proposalã€design-analysisã€ui-verificationï¼‰ã€‚</p>
</li>
</ol>
<p>åƒ design-analysisã€ui-verification è¿™ç§å†…å®¹å¤šçš„æŠ€èƒ½ï¼Œè¿˜å¯ä»¥å†æŠŠç»†åˆ†å·¥å…·èƒ½åŠ›ç­‰æ‹†åˆ°æŠ€èƒ½ä¸‹çš„ rules å­ç›®å½•é‡Œï¼Œå……åˆ†å‘æŒ¥æ¸è¿›æŠ«éœ²çš„ä¼˜åŠ¿ï¼ŒSKILL åªåšå…¥å£è¯´æ˜ã€‚</p>
<pre><code class="hljs language-text" lang="text">.agents/skills/
â”œâ”€â”€ create-proposal/     # åˆ›å»ºææ¡ˆï¼ˆSDD proposalã€tasksã€spec å¢é‡ï¼‰
â”‚   â””â”€â”€ SKILL.md
â”œâ”€â”€ design-analysis/     # è®¾è®¡ç¨¿åˆ†æ â†’ UI åˆ†ææ¸…å•
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â””â”€â”€ rules/          # åˆ†æé¡ºåºã€å››ç±»é‡ç‚¹ã€å·¥ä½œæµã€è¾“å‡ºæ¨¡æ¿ã€å·¥å…·ç­‰
â”œâ”€â”€ ui-verification/    # UI éªŒæ”¶ â†’ é—®é¢˜æ¸…å•
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â””â”€â”€ rules/          # æ¯”å¯¹ç»´åº¦ã€å¸¸è§é”™è¯¯ã€å·¥ä½œæµã€å·¥å…·ç­‰
â”œâ”€â”€ create-route/       # æ–°å¢è·¯ç”±ã€Pageã€Loader
â”œâ”€â”€ create-api/         # æ–°å¢æ¥å£ã€ç±»å‹ã€è¯·æ±‚å°è£…
â”œâ”€â”€ create-store/       # æ–°å¢ Zustand store
â”œâ”€â”€ create-component/   # æ–°å¢/æ‹†åˆ†ç»„ä»¶
â”œâ”€â”€ theme-variables/    # ä¸»é¢˜ CSS å˜é‡ä½¿ç”¨
â””â”€â”€ README.md
</code></pre>
<p><strong>skills åœ¨ AI Coding è¿‡ç¨‹ä¸­å‘æŒ¥çš„ä½œç”¨</strong>ï¼š</p>
<ul>
<li>åˆ›å»º SDD ææ¡ˆæ—¶åŒæ—¶ä½¿ç”¨ create-proposalï¼›</li>
<li>æœ‰è®¾è®¡ç¨¿æ—¶ç”¨ design-analysis äº§å‡º UI åˆ†ææ¸…å•ï¼›</li>
<li>é¡µé¢/UI å¼€å‘æ—¶ç”¨ create-routeã€create-componentã€theme-variablesï¼›</li>
<li>å®ç°å®Œæˆåç”¨ ui-verification åšè¿˜åŸéªŒæ”¶ï¼›</li>
<li>ä¸šåŠ¡å¼€å‘/è”è°ƒæ—¶ç”¨ create-apiã€create-storeã€‚</li>
<li>å…¶ä»–å¼€æºç¬¬ä¸‰æ–¹ skills åœ¨å†™ä»£ç ã€åšæ¶æ„å†³ç­–æ—¶æŒ‰éœ€å¼•ç”¨ã€‚</li>
</ul>
<p><strong>skills ç›®å½•ä¸‹çš„ README</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: huayiyi-skills-index
<span class="hljs-section">description: å‰ç«¯é¡¹ç›®çš„æŠ€èƒ½ç´¢å¼•ï¼Œå¸®åŠ© Agent åœ¨å…·ä½“å¼€å‘åœºæ™¯ä¸‹é€‰æ‹©åˆé€‚çš„æŠ€èƒ½æ–‡ä»¶ã€‚
---</span>

<span class="hljs-section"># ç”»è¡£è¡£é¡¹ç›®æŠ€èƒ½ç´¢å¼•</span>

é¡¹ç›®åœ¨ <span class="hljs-code">`.agents/skills`</span> ä¸‹å®šä¹‰äº†ä¸€äº›ä¸ RULE é…å¥—çš„æŠ€èƒ½ï¼Œç”¨äºæ‰¿è½½<span class="hljs-strong">**å…·ä½“å®è·µæ­¥éª¤ä¸ç¤ºä¾‹ä»£ç **</span>ï¼Œé¿å…åœ¨ RULE ä¸­å¡å…¥è¿‡å¤šç»†èŠ‚ã€‚

<span class="hljs-section">## å½“å‰æŠ€èƒ½åˆ—è¡¨</span>

<span class="hljs-bullet">-</span> <span class="hljs-code">`create-api`</span>ï¼šåˆ›å»ºä¸ç»´æŠ¤ HTTP æ¥å£ï¼ˆé…åˆ <span class="hljs-code">`05-APIè§„èŒƒ`</span> ä½¿ç”¨ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-code">`create-component`</span>ï¼šåˆ›å»ºä¸æ‹†åˆ†é€šç”¨ç»„ä»¶/é¡µé¢çº§ç»„ä»¶ï¼ˆé…åˆ <span class="hljs-code">`03/04`</span> ä½¿ç”¨ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-code">`create-route`</span>ï¼šåˆ›å»ºä¸ç»´æŠ¤è·¯ç”±ç›®å½•ä¸ Loader/Pageï¼ˆé…åˆ <span class="hljs-code">`06-è·¯ç”±è§„èŒƒ`</span> ä½¿ç”¨ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-code">`create-store`</span>ï¼šä½¿ç”¨ Zustand åˆ›å»ºä¸ç»´æŠ¤å…¨å±€çŠ¶æ€ï¼ˆé…åˆ <span class="hljs-code">`07-çŠ¶æ€ç®¡ç†`</span> ä½¿ç”¨ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-code">`theme-variables`</span>ï¼šæ­£ç¡®ä½¿ç”¨ Antd ä¸è‡ªå®šä¹‰ä¸»é¢˜ CSS å˜é‡ï¼ˆé…åˆ <span class="hljs-code">`09-æ ·å¼è§„èŒƒ`</span> ä½¿ç”¨ï¼‰

åç»­å¦‚æœ‰æ–°çš„å®è·µåœºæ™¯ï¼ˆä¾‹å¦‚ï¼šæµ‹è¯•ç”¨ä¾‹ç¼–å†™ã€æ–‡æ¡£æ’°å†™æ¨¡æ¿ç­‰ï¼‰ï¼Œä¹Ÿå»ºè®®ä»¥æ–°çš„æŠ€èƒ½ç›®å½•å½¢å¼è¡¥å……åˆ°æœ¬ç›®å½•ä¸­ã€‚

</code></pre>
<p>æ›´è¯¦ç»†çš„ Skills è½åœ°ç¤ºä¾‹è§ï¼š<a href="https://juejin.cn/post/7603347438013497379" target="_blank" title="https://juejin.cn/post/7603347438013497379"><strong>ã€Šå‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸‰ï¼‰Skills ç¯‡ã€‹</strong></a>ã€‚</p>
<hr/>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p><strong>å½“ä¸‹çš„å±€é™æ€§</strong>ï¼šè¦é«˜æ¥çº³ç‡ã€å°‘è¿”å·¥ï¼Œéœ€è¦è¾ƒå¥½çš„æ¨¡å‹ä¸ç®—åŠ›ï¼›åœ¨æ— é™é¢åº¦ã€é«˜é…æ¨¡å‹ä¸‹ç¨³å®šæ€§æ‰æœ‰ä¿éšœï¼Œæˆæœ¬ä¸ä½ã€‚é…åˆ git worktree + å¤š Agent å¤šä»»åŠ¡å¹¶è¡Œï¼Œä¸è®¡æˆæœ¬æ—¶æ¥è¿‘ 100% AI Coding åœ¨æŠ€æœ¯ä¸Šå¯è¡Œï¼Œæˆæœ¬å’Œæµç¨‹éœ€æŒ‰å›¢é˜Ÿæƒè¡¡ã€‚</p>
<p><strong>AI Coding å±•æœ›</strong>ï¼šæ¨¡å‹ä¼šæ›´èªæ˜ï¼Œä¸Šä¸‹æ–‡ç®¡ç†ä¼šæ›´æ™ºèƒ½ï¼Œäº¤äº’ä¼šæ›´ç®€æ´ã€‚åœ¨è¿™å¥— MCP + Rules + Skills + SDD çš„åº•åº§ä¸Šï¼Œåªé  AI Coding å®Œæˆæ—¥å¸¸å‰ç«¯å¼€å‘ä¸ä¼šå¤ªè¿œï¼›å…ˆè·‘é€šã€Œéœ€æ±‚ â†’ ææ¡ˆ â†’ åˆ†æ â†’ å¼€å‘ â†’ éªŒæ”¶ã€é—­ç¯ï¼Œå†é€æ­¥æ‰©å±•ï¼Œæ¥çº³ç‡å’Œæ•ˆç‡éƒ½ä¼šæœ‰å¯è§æå‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆäºŒï¼‰Rulesç¯‡]]></title>    <link>https://juejin.cn/post/7603444191448104994</link>    <guid>https://juejin.cn/post/7603444191448104994</guid>    <pubDate>2026-02-06T09:27:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191448104994" data-draft-id="7603288778678517795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆäºŒï¼‰Rulesç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-06T09:27:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AntonCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3966693684293240"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆäºŒï¼‰Rulesç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693684293240/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AntonCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:27:35.000Z" title="Fri Feb 06 2026 09:27:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬ç¯‡æ˜¯ã€Šå‰ç«¯ AI Coding è½åœ°æŒ‡å—ã€‹çš„ç»­ä½œï¼Œä¸“é—¨è®² <strong>Rules</strong> çš„å®è·µï¼šæ¼”è¿›è¿‡ç¨‹ã€è®¾è®¡åŸåˆ™ã€å¦‚ä½•åˆ’åˆ†æ¨¡å—ã€ä½•æ—¶å†™ Rules ä½•æ—¶å†™ Skillsï¼Œä»¥åŠé¡¹ç›®çº§ Rules çš„å®Œæ•´æ¸…å•ä¸æ¯æ¡ rule çš„å¤´éƒ¨ã€ä»‹ç»å’Œé€šç”¨åŒ–ç¤ºä¾‹ã€‚é¦–ç¯‡ä¸­å·²ç»™å‡º Rules çš„ç®€è¦å†ç¨‹ä¸æ¸…å•ï¼Œè¿™é‡Œå±•å¼€ä¸ºå¯è½åœ°çš„ç»†èŠ‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">Rules æ˜¯ä»€ä¹ˆã€è§£å†³ä»€ä¹ˆé—®é¢˜</h2>
<p><strong>Rules</strong> æ˜¯å†™åœ¨é¡¹ç›®é‡Œçš„æŒä¹…åŒ–æŒ‡å¯¼ï¼Œç”¨ Markdown ç­‰å½¢å¼çº¦å®šé¡¹ç›®çš„è§„èŒƒã€çº¦æŸå’Œæƒ¯ä¾‹ã€‚Agent åœ¨ã€Œéœ€è¦ç¡®è®¤æŸç±»è§„èŒƒæ—¶ã€æŒ‰éœ€è¯»å–å¯¹åº”è§„åˆ™æ–‡ä»¶ï¼Œä»è€Œåœ¨ç”Ÿæˆæˆ–å®¡æŸ¥ä»£ç æ—¶éµå®ˆã€Œåšä»€ä¹ˆã€ä¸åšä»€ä¹ˆã€â€”â€”å‘½åã€ç›®å½•ã€æ¥å£å¥‘çº¦ã€æ ·å¼å˜é‡ã€é”™è¯¯å¤„ç†ç­‰æœ‰æ®å¯æŸ¥ã€‚</p>
<p><strong>ä½œç”¨</strong>ï¼šç»Ÿä¸€è¾¹ç•Œï¼ˆå‡å°‘æ¨¡å‹éšæ„å‘æŒ¥ï¼‰ã€æŒ‰éœ€åŠ è½½ï¼ˆæ§åˆ¶ä¸Šä¸‹æ–‡é•¿åº¦ï¼‰ã€æé«˜æ¥çº³ç‡ï¼ˆç”Ÿæˆç»“æœæ›´ç¬¦åˆé¡¹ç›®æ—¢æœ‰çº¦å®šï¼‰ã€‚<strong>èƒ½è§£å†³çš„ AI Coding é—®é¢˜</strong>ï¼šè§„èŒƒä¸ä¸€è‡´ï¼ˆæ²¡æœ‰è§„åˆ™æ—¶ AI æ˜“æŒ‰é€šç”¨ä¹ æƒ¯å†™ï¼Œä¸é¡¹ç›®è„±èŠ‚ï¼‰ï¼›çº¦æŸç¼ºå¤±ï¼ˆå¦‚ã€Œæ¥å£å¿…é¡»æ”¾æŸç›®å½•ã€ä¸å†™è¿›è§„åˆ™å°±å®¹æ˜“æ¼ï¼‰ï¼›ä¸Šä¸‹æ–‡æ¼‚ç§»ï¼ˆè§„åˆ™æŒ‰åœºæ™¯æ‹†åˆ†ï¼Œéœ€è¦æ—¶åªåŠ è½½ç›¸å…³æ–‡ä»¶ï¼Œé¿å…ä¸€æ¬¡æ€§å¡å…¥æ•´æœ¬è§„èŒƒå¯¼è‡´æ³¨æ„åŠ›åˆ†æ•£ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-1">æ¼”è¿›è¿‡ç¨‹</h2>
<p><strong>ä¸€å¼€å§‹ï¼šæ•´ä¸ªé¡¹ç›®ä¸€ä¸ªåºå¤§çš„ Rules</strong><br/>
æ‰€æœ‰è§„èŒƒã€æ­¥éª¤ã€ç¤ºä¾‹éƒ½å¡åœ¨ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªå¤§æ–‡ä»¶é‡Œã€‚å¸¦æ¥çš„é—®é¢˜æ˜¯ï¼šå•æ¬¡ä¸Šä¸‹æ–‡è¿‡å¤§ï¼ˆå®¹æ˜“é¡¶åˆ°ä¸Šä¸‹æ–‡ä¸Šé™æˆ–æŒ¤å å¯¹è¯ï¼‰ã€å®¹æ˜“ä¸¢è®°å¿†/æ³¨æ„åŠ›åˆ†æ•£ï¼ˆé•¿æ–‡æ¡£é‡Œæ¨¡å‹å®¹æ˜“ã€Œçœ‹äº†åé¢å¿˜å‰é¢ã€ï¼‰ã€éš¾ä»¥æŒ‰åœºæ™¯èšç„¦ï¼ˆæ¯”å¦‚åªæƒ³åŠ ä¸ªè·¯ç”±ï¼Œå´ä¸å¾—ä¸å¸¦ç€ UI éªŒæ”¶ã€è®¾è®¡ç¨¿åˆ†æç­‰æ— å…³å†…å®¹ï¼‰ã€‚ç»“æœæ˜¯æ­¥éª¤æ¼ã€æ£€æŸ¥é¡¹æ¼ï¼Œæ¥çº³ç‡åè€Œä¸ç¨³å®šã€‚</p>
<p><strong>ä¸­æœŸï¼šæŒ‰æ¨¡å—æ‹†æˆå¤šä¸ª Rules</strong><br/>
æŠŠã€Œé¡¹ç›®æ¦‚è¿°ã€ç¼–ç ã€ç»“æ„ã€ç»„ä»¶ã€APIã€è·¯ç”±ã€çŠ¶æ€ã€é€šç”¨çº¦æŸã€æ ·å¼ã€æ–‡æ¡£ã€æµ‹è¯•ã€ç­‰æ‹†æˆ 01ï½11 è¿™æ ·çš„ç‹¬ç«‹æ–‡ä»¶ï¼Œéœ€è¦å“ªç±»è§„èŒƒå°±è¯»å“ªå‡ ä¸ªã€‚æŒ‰éœ€åŠ è½½æ•ˆæœå¥½å¾ˆå¤šï¼Œä¸Šä¸‹æ–‡å‹åŠ›ä¸‹æ¥ï¼Œä¹Ÿä¾¿äºç»´æŠ¤ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ²¡è§£å†³ï¼šã€Œå¦‚ä½•è½åœ°ã€çš„æ­¥éª¤å’Œç¤ºä¾‹ä»ç„¶å†™åœ¨ Rules é‡Œâ€”â€”ä¾‹å¦‚ã€Œæ€ä¹ˆåŠ ä¸€ä¸ªè·¯ç”±ã€çš„è¯¦ç»†æ­¥éª¤ã€ç›®å½•ç¤ºä¾‹ã€æ£€æŸ¥æ¸…å•ï¼Œå’Œã€Œè·¯ç”±å¿…é¡»å’Œèœå•ä¸€è‡´ã€è¿™ç±»çº¦æŸæ··åœ¨ä¸€èµ·ï¼Œå•æ–‡ä»¶ä»ç„¶åé•¿ï¼Œä¸”æ­¥éª¤åŒ–ã€å¯å¤ç”¨å·¥ä½œæµä¸å¥½è·¨é¡¹ç›®å¤ç”¨ã€‚</p>
<p><strong>æœ€è¿‘ï¼šSkills ç››è¡Œï¼ŒRules ç®€åŒ– + å®æ–½æŒ‡å¯¼è¿åˆ° Skills</strong><br/>
å¼•å…¥ Skills ä¹‹åï¼Œåšäº†ä¸¤ä»¶äº‹ï¼š<strong>Rules åªä¿ç•™ã€ŒåŸåˆ™ä¸çº¦æŸã€</strong>ï¼ˆåšä»€ä¹ˆã€ä¸åšä»€ä¹ˆã€ç›®å½•/å‘½å/å¥‘çº¦ï¼‰ï¼Œ<strong>æŠŠã€Œå¦‚ä½•ä¸€æ­¥æ­¥åšã€æ€ä¹ˆå†™ç¤ºä¾‹ã€äº§å‡ºé•¿ä»€ä¹ˆæ ·ã€è¿åˆ° Skills</strong>ï¼Œå¹¶åˆ©ç”¨ Skills çš„<strong>æ¸è¿›å¼æŠ«éœ²</strong>ï¼ˆåªåœ¨æ‰§è¡Œè¯¥ä»»åŠ¡æ—¶åŠ è½½å¯¹åº” SKILL å’ŒæŠ€èƒ½å†… rulesï¼‰ã€‚è¿™æ · Rules å˜è–„ã€æŒ‰éœ€è¯»ï¼›å…·ä½“è½åœ°åœ¨ Skills é‡ŒæŒ‰åœºæ™¯åŠ è½½ï¼Œæ—¢é¿å…ä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼Œåˆé¿å…æ¨¡å‹åœ¨é•¿æ–‡æ¡£é‡Œã€ŒæŠ“ä¸ä½é‡ç‚¹ã€ã€‚<strong>Skills çš„è¯¦ç»†å®è·µã€ä½•æ—¶å°è£…ã€æŠ€èƒ½ä¸‹ rules å¦‚ä½•æ‹†åˆ†è§<a href="https://juejin.cn/post/7603347438013497379" target="_blank" title="https://juejin.cn/post/7603347438013497379">ã€Šå‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸‰ï¼‰Skills ç¯‡ã€‹</a>ã€‚</strong></p>
<hr/>
<h2 data-id="heading-2">è®¾è®¡åŸåˆ™ï¼šå“ªäº›å†™ Rulesã€å“ªäº›å†™ Skills</h2>
<p><strong>åŸåˆ™æ¦‚æ‹¬</strong>ï¼š<strong>Rules å›ç­”ã€Œæ˜¯ä»€ä¹ˆ / ä¸èƒ½æ˜¯ä»€ä¹ˆã€ï¼ŒSkills å›ç­”ã€Œæ€ä¹ˆåš / å…ˆåšä»€ä¹ˆå†åšä»€ä¹ˆã€ã€‚</strong></p>
<p><strong>æ¨¡å—åˆ’åˆ†</strong>ï¼šæŒ‰ã€Œå¼€å‘æ—¶ä¼šè¢«é—®åˆ°çš„å†³ç­–ç±»å‹ã€æ¥æ‹†ï¼Œè€Œä¸æ˜¯æŒ‰ä»£ç ç›®å½•æ‹†ã€‚ä¾‹å¦‚ï¼šé¡¹ç›®èƒŒæ™¯ä¸æŠ€æœ¯æ ˆï¼ˆé¡¹ç›®æ¦‚è¿°ï¼‰ã€å‘½åä¸é£æ ¼ï¼ˆç¼–ç è§„èŒƒï¼‰ã€æ–‡ä»¶æ”¾å“ªï¼ˆé¡¹ç›®ç»“æ„ï¼‰ã€ç»„ä»¶æ€ä¹ˆæ‹†ï¼ˆç»„ä»¶è§„èŒƒï¼‰ã€æ¥å£æ€ä¹ˆå®šä¹‰å’Œè°ƒç”¨ï¼ˆAPI è§„èŒƒï¼‰ã€è·¯ç”±å’Œèœå•æ€ä¹ˆå¯¹ï¼ˆè·¯ç”±è§„èŒƒï¼‰ã€çŠ¶æ€æ”¾å“ªæ€ä¹ˆç”¨ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ã€å…¨å±€çº¦å®šï¼ˆé€šç”¨çº¦æŸï¼‰ã€æ ·å¼å’Œä¸»é¢˜ï¼ˆæ ·å¼è§„èŒƒï¼‰ã€æ³¨é‡Šä¸æµ‹è¯•ï¼ˆæ–‡æ¡£/æµ‹è¯•è§„èŒƒï¼‰ã€‚è¿™æ · Agent åœ¨ã€Œè¦åšä¸€ä¸ªä»€ä¹ˆç±»å‹çš„å†³ç­–ã€æ—¶ï¼Œèƒ½å¯¹åº”åˆ°æŸä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªè§„åˆ™æ–‡ä»¶ã€‚</p>
<p><strong>ä»€ä¹ˆç•™åœ¨ Rules</strong>ï¼šåŸåˆ™ã€çº¦æŸã€å¥‘çº¦ã€ç›®å½•ä¸å‘½åçº¦å®šã€‚ä¾‹å¦‚ã€Œæ¥å£å¿…é¡»æ”¾åœ¨æŸç›®å½•ä¸‹ã€ã€Œè·¯ç”±é…ç½®å¿…é¡»å’Œèœå•é…ç½®ä¸€è‡´ã€ã€Œé”™è¯¯å¿…é¡»ç”¨ç»Ÿä¸€æ–¹å¼å¤„ç†ã€ã€Œä¸»é¢˜è‰²å¿…é¡»èµ° CSS å˜é‡ã€â€”â€”è¿™äº›æ˜¯ã€Œæ˜¯/å¦ã€åˆ¤æ–­ï¼Œä¸æ¶‰åŠé•¿æ­¥éª¤å’Œå¤§é‡ç¤ºä¾‹ï¼Œé€‚åˆæ”¾åœ¨ Rulesï¼Œç¯‡å¹…å¯æ§ã€‚</p>
<p><strong>ä»€ä¹ˆæ”¾åˆ° Skills</strong>ï¼šå¤šæ­¥éª¤æµç¨‹ã€æ£€æŸ¥æ¸…å•ã€äº§å‡ºæ¨¡æ¿ã€ç¤ºä¾‹ä»£ç ã€‚ä¾‹å¦‚ã€Œåˆ›å»ºææ¡ˆçš„ 5 æ­¥ã€ã€Œè®¾è®¡ç¨¿åˆ†æçš„ 4 æ­¥ã€ã€ŒåŠ ä¸€ä¸ªè·¯ç”±è¦åˆ›å»ºå“ªå‡ ä¸ªæ–‡ä»¶ã€æ¯æ­¥æ£€æŸ¥ä»€ä¹ˆã€ã€ŒUI åˆ†ææ¸…å•/é—®é¢˜æ¸…å•é•¿ä»€ä¹ˆæ ·ã€â€”â€”è¿™äº›ä¸€æ—¦å†™è¿› Rules ä¼šè®©å•æ–‡ä»¶å¾ˆé•¿ï¼Œä¸”å’Œã€ŒåŸåˆ™ã€æ··åœ¨ä¸€èµ·ï¼Œä¸åˆ©äºæŒ‰åœºæ™¯åŠ è½½ï¼›æ”¾åˆ° Skills é‡Œï¼Œç”¨ SKILL.md + æŠ€èƒ½å†… rules åšæ¸è¿›æŠ«éœ²æ›´åˆé€‚ã€‚</p>
<p><strong>åˆ¤æ–­æ–¹å¼</strong>ï¼šè‹¥ä¸€å¥è¯èƒ½è¯´æ¸…ä¸”ä¸éœ€è¦ç¤ºä¾‹ï¼Œæ”¾ Rulesï¼›è‹¥éœ€è¦ã€Œç¬¬ä¸€æ­¥ã€ç¬¬äºŒæ­¥ã€æ£€æŸ¥ç‚¹ã€æ¨¡æ¿ã€ç¤ºä¾‹ã€ï¼Œæ”¾ Skillsã€‚</p>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®çº§ Rules æ¸…å•ï¼ˆç›®å½•ç»“æ„ï¼‰</h2>
<pre><code class="hljs language-text" lang="text">.agents/rules/
â”œâ”€â”€ 01-é¡¹ç›®æ¦‚è¿°.md
â”œâ”€â”€ 02-ç¼–ç è§„èŒƒ.md
â”œâ”€â”€ 03-é¡¹ç›®ç»“æ„.md
â”œâ”€â”€ 04-ç»„ä»¶è§„èŒƒ.md
â”œâ”€â”€ 05-APIè§„èŒƒ.md
â”œâ”€â”€ 06-è·¯ç”±è§„èŒƒ.md
â”œâ”€â”€ 07-çŠ¶æ€ç®¡ç†.md
â”œâ”€â”€ 08-é€šç”¨çº¦æŸ.md
â”œâ”€â”€ 09-æ ·å¼è§„èŒƒ.md
â”œâ”€â”€ 10-æ–‡æ¡£è§„èŒƒ.md
â”œâ”€â”€ 11-æµ‹è¯•è§„èŒƒ.md
â””â”€â”€ README.md
</code></pre>
<p>ç”±äºç¯‡å¹…é—®é¢˜ï¼Œä»¥ä¸‹æ¯æ¡ rule ç¤ºä¾‹æ˜¯ç®€åŒ–åçš„ï¼Œä¸»è¦ä½œä¸ºå‚è€ƒï¼Œåç»­ä¼šæŠŠå®Œæ•´çš„ä»£ç æ”¾åˆ° github ä¸Šã€‚</p>
<hr/>
<h3 data-id="heading-4">01-é¡¹ç›®æ¦‚è¿°</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: é¡¹ç›®å®šä½ä¸æŠ€æœ¯æ ˆæ¦‚è§ˆã€‚å½“éœ€è¦äº†è§£é¡¹ç›®èƒŒæ™¯ã€ä½¿ç”¨çš„æŠ€æœ¯æ ˆæ—¶è¯»å–æ­¤è§„åˆ™ã€‚
---</span>

<span class="hljs-section"># é¡¹ç›®æ¦‚è¿°</span>

<span class="hljs-section">## é¡¹ç›®å®šä½</span>
ä¸€æ®µè¯è¯´æ˜é¡¹ç›®æ˜¯ä»€ä¹ˆã€é¢å‘è°ã€æ ¸å¿ƒèƒ½åŠ›ã€‚

<span class="hljs-section">## æŠ€æœ¯æ ˆ</span>
| é¢†åŸŸ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| UI æ¡†æ¶ | React x.x | å¼ºåˆ¶ä½¿ç”¨ |
| ç±»å‹ç³»ç»Ÿ | TypeScript x.x | å¼ºåˆ¶ä½¿ç”¨ï¼Œç¦æ­¢ JavaScript |
| çŠ¶æ€ç®¡ç† | Zustand / Redux ç­‰ | ç»Ÿä¸€ä½¿ç”¨ï¼Œç¦æ­¢å…¶ä»–æ–¹æ¡ˆ |
| ç»„ä»¶åº“ | Ant Design / å…¶ä»– | äº¤äº’ UI åŸºäºæ­¤äºŒæ¬¡å°è£… |
| æ ·å¼æ–¹æ¡ˆ | SCSS Modules | å¼ºåˆ¶ä½¿ç”¨ï¼Œç¦æ­¢å…¨å±€æ ·å¼ |
</code></pre>
<hr/>
<h3 data-id="heading-5">02-ç¼–ç è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: ç¼–ç è§„èŒƒï¼ŒåŒ…æ‹¬ TypeScript ä½¿ç”¨ã€å‘½åçº¦å®šï¼ˆå˜é‡ã€å¸¸é‡ã€æ¥å£ã€ç»„ä»¶ç­‰ï¼‰ã€ä¸šåŠ¡å‡½æ•°å‘½åã€‚ç¼–å†™æˆ–å®¡æŸ¥ä»£ç æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># ç¼–ç è§„èŒƒ</span>

<span class="hljs-section">## TypeScript è§„èŒƒ</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰ä»£ç å¿…é¡»ä½¿ç”¨ TypeScriptï¼Œç¦æ­¢ä½¿ç”¨ JavaScript
<span class="hljs-bullet">-</span> ç¦æ­¢ä½¿ç”¨ <span class="hljs-code">`any`</span>ï¼ˆé™¤éæœ‰æ˜ç¡®ç†ç”±å¹¶æ³¨é‡Šï¼‰
<span class="hljs-bullet">-</span> æ¥å£ã€ç±»å‹ä½¿ç”¨ PascalCaseï¼›ç»„ä»¶ Props å¿…é¡»å®šä¹‰æ¸…æ™°æ¥å£

<span class="hljs-section">## å‘½åè§„èŒƒ</span>
| ç±»å‹ | è§„åˆ™ | ç¤ºä¾‹ |
|------|------|------|
| æ–‡ä»¶å¤¹/è·¯ç”± | kebab-case | user-profile |
| å˜é‡/å‡½æ•° | camelCase | userList, onSubmit |
| å¸¸é‡ | UPPER<span class="hljs-emphasis">_CASE | API_</span>TIMEOUT |
| æ¥å£/ç±» | PascalCase | UserInfo |
| React ç»„ä»¶ | PascalCase | UserProfile |
| è‡ªå®šä¹‰ Hooks | use å¼€å¤´ | useUserStore |

<span class="hljs-section">## ä¸šåŠ¡å‡½æ•°å‘½å</span>
<span class="hljs-bullet">-</span> äº‹ä»¶å¤„ç†ï¼šonXxxï¼ˆå¦‚ onSubmitï¼‰
<span class="hljs-bullet">-</span> å†…éƒ¨å¤„ç†ï¼šhandleXxxï¼ˆå¦‚ handleDeleteï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-6">03-é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: ç›®å½•ç»“æ„è§„èŒƒï¼Œå„ç›®å½•ç”¨é€”ä¸çº¦æŸï¼ˆç¦æ­¢æ–°å»ºéæ ‡å‡†ç›®å½•ï¼‰ã€‚ç¡®å®šä»£ç æ”¾å“ªæ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># é¡¹ç›®ç»“æ„ï¼ˆNON-NEGOTIABLEï¼‰</span>

<span class="hljs-section">## ç›®å½•ç»“æ„</span>
src/
â”œâ”€â”€ assets/        # é™æ€èµ„æº
â”œâ”€â”€ components/    # å¯å¤ç”¨ UI ç»„ä»¶
â”œâ”€â”€ constants/     # ä¸šåŠ¡å¸¸é‡ã€æšä¸¾
â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰ Hook
â”œâ”€â”€ http/          # è¯·æ±‚å°è£…
â”œâ”€â”€ interfaces/    # ç±»å‹å£°æ˜ï¼ˆmodelã€apiï¼‰
â”œâ”€â”€ routes/        # è·¯ç”±é¡µé¢
â”œâ”€â”€ stores/        # å…¨å±€çŠ¶æ€ï¼ŒæŒ‰ä¸šåŠ¡æ‹†åˆ†
â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â””â”€â”€ æ ¹çº§å…¥å£æ–‡ä»¶

<span class="hljs-section">## ç»“æ„çº¦æŸ</span>
<span class="hljs-bullet">-</span> å¸¸é‡ â†’ constants/ï¼›çŠ¶æ€ â†’ stores/ï¼›æ¥å£ç±»å‹ â†’ interfaces/ï¼ˆæ¯æ¨¡å—å« model.tsã€api.tsï¼‰
<span class="hljs-bullet">-</span> ç»„ä»¶ â†’ components/ æˆ– routes/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span></span>/components/ï¼›è·¯ç”± â†’ routes/ï¼Œæ¯è·¯ç”±å« Pageã€Loaderã€index.module.scss
</code></pre>
<hr/>
<h3 data-id="heading-7">04-ç»„ä»¶è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: ç»„ä»¶ç›®å½•ç»“æ„ã€æ ·å¼æ–¹æ¡ˆã€é€šç”¨ vs é¡µé¢çº§ã€‚åˆ›å»ºæˆ–æ‹†åˆ†ç»„ä»¶æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># ç»„ä»¶è§„èŒƒ</span>

<span class="hljs-section">## ç»„ä»¶ç»“æ„</span>
<span class="hljs-bullet">-</span> ç»„ä»¶åœ¨ src/components æˆ–è·¯ç”±ä¸‹ componentsï¼Œæ¯ç»„ä»¶å•ç‹¬ç›®å½•
<span class="hljs-bullet">-</span> æ–‡ä»¶ï¼šindex.tsxã€index.module.scssï¼›å¿…é¡» SCSS Modulesï¼Œç¦æ­¢å…¨å±€æ ·å¼
<span class="hljs-bullet">-</span> Props æ¥å£å¿…é¡»æ˜ç¡®ï¼›ä½¿ç”¨ classnames ç®¡ç†åŠ¨æ€ class

<span class="hljs-section">## ç»„ä»¶å±‚çº§</span>
<span class="hljs-bullet">-</span> é¡µé¢çº§ï¼šä»…å•é¡µä½¿ç”¨ â†’ routes/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">page</span>&gt;</span></span>/components/
<span class="hljs-bullet">-</span> é€šç”¨ï¼šè·¨é¡µé¢å¤ç”¨ â†’ src/components/
<span class="hljs-bullet">-</span> å•æ–‡ä»¶å»ºè®®ä¸è¶…è¿‡ 400 è¡Œï¼ˆæ‹†åˆ†å‚è€ƒï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-8">05-APIè§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: æ¥å£è¯·æ±‚å°è£…ã€å‡½æ•°å‘½åã€é”™è¯¯å¤„ç†ã€‚æ–°å¢æˆ–ä¿®æ”¹æ¥å£æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># API è§„èŒƒ</span>

<span class="hljs-section">## æ¥å£è¯·æ±‚è§„èŒƒ</span>
<span class="hljs-bullet">-</span> è¯·æ±‚ä½¿ç”¨ src/http ä¸‹å°è£…ï¼›ç±»å‹ Params/Body/Response æ”¾åœ¨ src/interfaces/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span></span>/api.ts
<span class="hljs-bullet">-</span> æ‰€æœ‰æ¥å£é›†ä¸­åœ¨ src/http/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span></span>.ts

<span class="hljs-section">## æ¥å£å‡½æ•°å‘½åï¼ˆNON-NEGOTIABLEï¼‰</span>
| æ“ä½œ | å‘½åè§„åˆ™ | ç¤ºä¾‹ |
|------|----------|------|
| è·å–åˆ—è¡¨ | getXxxList | getBannerList |
| è·å–è¯¦æƒ… | getXxxDetail | getBannerDetail |
| åˆ›å»º/æ›´æ–°/åˆ é™¤ | createXxx / updateXxx / deleteXxx | ç¦æ­¢ fetch å‰ç¼€ |

<span class="hljs-section">## é”™è¯¯å¤„ç†ï¼ˆNON-NEGOTIABLEï¼‰</span>
<span class="hljs-bullet">-</span> æ¥å£é”™è¯¯ç”±æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†ï¼Œä¸šåŠ¡ä»£ç åªå¤„ç†æˆåŠŸé€»è¾‘ï¼›ç¦æ­¢é‡å¤ message.error
</code></pre>
<hr/>
<h3 data-id="heading-9">06-è·¯ç”±è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: è·¯ç”±ç›®å½•ç»“æ„ã€Page/Loader æ¨¡å¼ã€è·¯ç”±é…ç½®é›†ä¸­ç®¡ç†ã€‚æ–°å¢é¡µé¢æˆ–é…ç½®è·¯ç”±æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># è·¯ç”±è§„èŒƒï¼ˆNON-NEGOTIABLEï¼‰</span>

<span class="hljs-section">## è·¯ç”±ç»“æ„</span>
<span class="hljs-bullet">-</span> è·¯ç”±ç›®å½•åœ¨ src/routes ä¸‹ï¼Œæ¯é¡µå•ç‹¬ç›®å½•ï¼Œkebab-case
<span class="hljs-bullet">-</span> å¿…é¡»åŒ…å«ï¼šPage.tsxã€Loader.tsxã€index.module.scss
<span class="hljs-bullet">-</span> Loader åªè´Ÿè´£æ‡’åŠ è½½å¯¹åº” Pageï¼Œä¸åµŒå¥— Routes/Route

<span class="hljs-section">## è·¯ç”±ä¸èœå•</span>
<span class="hljs-bullet">-</span> ç¦æ­¢å¤šå¤„ç»´æŠ¤è·¯ç”±ï¼šå…¨å±€å”¯ä¸€è·¯ç”±é…ç½®é›†ä¸­ç®¡ç†
<span class="hljs-bullet">-</span> åŒä¸€é¡µé¢åªåœ¨ä¸€å¤„è¢« lazy å¼•å…¥
</code></pre>
<hr/>
<h3 data-id="heading-10">07-çŠ¶æ€ç®¡ç†</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: å…¨å±€çŠ¶æ€ä½¿ç”¨ Zustandï¼ˆæˆ–é¡¹ç›®çº¦å®šæ–¹æ¡ˆï¼‰ã€‚æ–°å¢æˆ–é‡æ„çŠ¶æ€æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># çŠ¶æ€ç®¡ç†è§„èŒƒï¼ˆNON-NEGOTIABLEï¼‰</span>

<span class="hljs-section">## åŸºç¡€è§„èŒƒ</span>
<span class="hljs-bullet">-</span> å¿…é¡»ä½¿ç”¨é¡¹ç›®çº¦å®šçš„çŠ¶æ€åº“ï¼ˆå¦‚ Zustandï¼‰ï¼Œæ‰€æœ‰ store æ”¾åœ¨ src/stores
<span class="hljs-bullet">-</span> ç¦æ­¢åœ¨ src ä¸‹æ–°å»ºå…¶ä»–ç›®å½•å­˜æ”¾ store

<span class="hljs-section">## Store ç»„ç»‡</span>
<span class="hljs-bullet">-</span> æŒ‰ä¸šåŠ¡æ¨¡å—åˆ’åˆ†ï¼Œæ¯æ¨¡å—å•ç‹¬æ–‡ä»¶ï¼›æš´éœ² useXxxStore Hook
<span class="hljs-bullet">-</span> Store åªå­˜æ•°æ®ä¸ä¸šåŠ¡è¡Œä¸ºï¼Œä¸è€¦åˆ UI ç»„ä»¶
<span class="hljs-bullet">-</span> éœ€æŒä¹…åŒ–æ—¶ä½¿ç”¨ persist ç­‰ä¸­é—´ä»¶
</code></pre>
<hr/>
<h3 data-id="heading-11">08-é€šç”¨çº¦æŸ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: è¯­è¨€ã€å¯è§‚æµ‹æ€§ã€å ä½å…ƒç´ ç­‰é€šç”¨çº¦æŸã€‚ç¡®è®¤é€šç”¨çº¦æŸæ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># é€šç”¨çº¦æŸ</span>

<span class="hljs-section">## è¯­è¨€è§„èŒƒï¼ˆNON-NEGOTIABLEï¼‰</span>
<span class="hljs-bullet">-</span> æ–‡æ¡£å’Œä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ï¼›å˜é‡/å‡½æ•°å‘½åä»ç”¨è‹±æ–‡

<span class="hljs-section">## å¯è§‚æµ‹æ€§ä¸å…œåº•</span>
<span class="hljs-bullet">-</span> ä»»åŠ¡éœ€å®Œæ•´é“¾è·¯ï¼šä»»åŠ¡ IDã€å¼•ç”¨ã€æ—¥å¿—ï¼›å¤±è´¥æ—¶å…œåº•æç¤ºä¸é‡è¯•

<span class="hljs-section">## å ä½å…ƒç´ </span>
<span class="hljs-bullet">-</span> å›¾æ ‡/å›¾ç‰‡æœªå®šæ—¶ï¼šç”¨å ä½ div + TODO æ³¨é‡Šï¼Œç¦æ­¢ä¸´æ—¶ svg/å ä½å›¾æœåŠ¡ï¼›æ˜ç¡®æ ‡è®°æ›¿æ¢ç‚¹
</code></pre>
<hr/>
<h3 data-id="heading-12">09-æ ·å¼è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: SCSS Modulesã€ä¸»é¢˜ CSS å˜é‡ã€‚ç¼–å†™æ ·å¼æˆ–ä¸»é¢˜é€‚é…æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># æ ·å¼è§„èŒƒ</span>

<span class="hljs-section">## åŸºç¡€åŸåˆ™</span>
<span class="hljs-bullet">-</span> æ ·å¼é‡‡ç”¨ SCSS Modulesï¼ˆindex.module.scssï¼‰ï¼›classnames ç®¡ç†åŠ¨æ€ class
<span class="hljs-bullet">-</span> è‡ªå®šä¹‰æ ·å¼å¿…é¡»ä½¿ç”¨ä¸»é¢˜è‰² CSS å˜é‡ï¼Œç¦æ­¢ç¡¬ç¼–ç é¢œè‰²

<span class="hljs-section">## ä¸»é¢˜å˜é‡ï¼ˆNON-NEGOTIABLEï¼‰</span>
<span class="hljs-bullet">-</span> ä¸»è‰²/æ–‡æœ¬/èƒŒæ™¯/è¾¹æ¡†ç­‰ä½¿ç”¨ var(--ant-color-xxx) æˆ–é¡¹ç›®è‡ªå®šä¹‰ var(--xxx)
<span class="hljs-bullet">-</span> ç¡®ä¿ä¸»é¢˜åˆ‡æ¢ï¼ˆæµ…è‰²/æš—è‰²ï¼‰ä¸€è‡´
</code></pre>
<hr/>
<h3 data-id="heading-13">10-æ–‡æ¡£è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: JSDoc ä¸æ³¨é‡Šè§„èŒƒã€‚ç¼–å†™æˆ–å®¡æŸ¥æ³¨é‡Šæ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># æ–‡æ¡£è§„èŒƒ</span>

<span class="hljs-section">## æ³¨é‡Šè§„èŒƒ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ JSDocï¼ˆ/** <span class="hljs-emphasis">*/ï¼‰ï¼Œè§£é‡Šã€Œä¸ºä»€ä¹ˆã€è€Œéã€Œæ˜¯ä»€ä¹ˆã€
- æ–‡ä»¶å¤´ã€å‡½æ•°/æ–¹æ³•ã€å¤æ‚é€»è¾‘ã€ç±»å‹å®šä¹‰å‡éœ€å¿…è¦è¯´æ˜
</span></code></pre>
<hr/>
<h3 data-id="heading-14">11-æµ‹è¯•è§„èŒƒ</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
alwaysApply: false
<span class="hljs-section">description: æµ‹è¯•è¦†ç›–ä¸è´¨é‡é—¨ç¦ã€‚ç¡®è®¤æµ‹è¯•è¦æ±‚æ—¶è¯»å–ã€‚
---</span>

<span class="hljs-section"># æµ‹è¯•è§„èŒƒ</span>

<span class="hljs-section">## æµ‹è¯•è¦æ±‚</span>
<span class="hljs-bullet">-</span> æ–°å¢åŠŸèƒ½éœ€å¿…è¦ç±»å‹å®šä¹‰ï¼Œå…³é”®ä¸šåŠ¡é€»è¾‘éœ€æµ‹è¯•ç”¨ä¾‹
<span class="hljs-bullet">-</span> æ‰€æœ‰ä»£ç é€šè¿‡ TypeScript ä¸ ESLint æ£€æŸ¥
</code></pre>
<hr/>
<p>ä»¥ä¸Šå°±æ˜¯é¡¹ç›®çº§ Rules çš„å®Œæ•´æ¸…å•ä¸é€šç”¨åŒ–ç¤ºä¾‹ã€‚é¡¹ç›®çº§ Skills çš„é€æ¡ç¤ºä¾‹åœ¨<a href="https://juejin.cn/post/7603347438013497379" target="_blank" title="https://juejin.cn/post/7603347438013497379">ã€Šå‰ç«¯ AI Coding è½åœ°æŒ‡å—ï¼ˆä¸‰ï¼‰Skills ç¯‡ã€‹</a>ï¼›<a href="https://juejin.cn/post/7603347438013480995#heading-4" target="_blank" title="https://juejin.cn/post/7603347438013480995#heading-4">æ¶æ„ç¯‡</a>ã€Rules ç¯‡ã€Skills ç¯‡ä¸€èµ·æ„æˆä»æ¶æ„åˆ° Rules/Skills è½åœ°çš„å®Œæ•´æŒ‡å—ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidåº”ç”¨å†·å¯åŠ¨ä¼˜åŒ–ï¼šä»æµ‹é‡æ–¹æ³•åˆ°åˆ†å±‚å®è·µ]]></title>    <link>https://juejin.cn/post/7603321550247100466</link>    <guid>https://juejin.cn/post/7603321550247100466</guid>    <pubDate>2026-02-06T09:07:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603321550247100466" data-draft-id="7593338828218531855" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidåº”ç”¨å†·å¯åŠ¨ä¼˜åŒ–ï¼šä»æµ‹é‡æ–¹æ³•åˆ°åˆ†å±‚å®è·µ"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2026-02-06T09:07:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰å…‰è·¬æ­¥"/> <meta itemprop="url" content="https://juejin.cn/user/1286855157887751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidåº”ç”¨å†·å¯åŠ¨ä¼˜åŒ–ï¼šä»æµ‹é‡æ–¹æ³•åˆ°åˆ†å±‚å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1286855157887751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰å…‰è·¬æ­¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:07:37.000Z" title="Fri Feb 06 2026 09:07:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¼˜åŒ–Android åº”ç”¨å¯åŠ¨é€Ÿåº¦æ˜¯æ€§èƒ½ä¼˜åŒ–ä¸­é‡è¦çš„ä¸€ç¯ï¼Œå½“å¯åŠ¨é€Ÿåº¦è¿‡æ…¢æ—¶ï¼Œç”¨æˆ·å¯èƒ½ä¸æ„¿æ„ç­‰å¾…ï¼Œä»è€Œç›´æ¥å…³é—­åº”ç”¨ã€‚å¯åŠ¨é€Ÿåº¦è¿™ä¸ä»…å½±å“åº”ç”¨æ—¥æ´»ï¼Œè¿˜ä¼šå½±å“åº”ç”¨çš„ç•™å­˜ç‡ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæœ¬æ–‡å‡ºç°çš„æºç åŸºäºAndroid - 15.0.0_r1ã€‚å¦å¤–æœ¬æ–‡å…³æ³¨ä¸»è¦é€»è¾‘ï¼Œçœç•¥éƒ¨åˆ†ä»£ç ã€‚</p>
</blockquote>
<h2 data-id="heading-1">æœ¬æ–‡å¤§çº²</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63f3fea9189f4a04b52d1186e432e048~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=gFgKCmkLJm%2F7dPTcFmZfeNgKxQQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸€ã€å¯åŠ¨ç±»å‹</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce2e6a580cb7461499f86c104cc23967~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=dcrw%2F81Uk9g3L0aU%2BnDo%2BOw3t7U%3D" alt="image.png" loading="lazy"/></p>
<p>Android Appå¯åŠ¨ç§ç±»å…±3ç§ï¼šå†·å¯åŠ¨ï¼Œæ¸©å¯åŠ¨ï¼Œçƒ­å¯åŠ¨ã€‚<br/>
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç®€è¦ä»‹ç»è¿™ä¸‰ç§å¯åŠ¨ç±»å‹ã€‚</p>
<h4 data-id="heading-3">1.1 å†·å¯åŠ¨</h4>
<ul>
<li><strong>æ¡ä»¶</strong>ï¼šåº”ç”¨è¿›ç¨‹å®Œå…¨ä¸å­˜åœ¨ï¼ˆè¢«ç³»ç»Ÿæ€æ­»æˆ–é¦–æ¬¡å¯åŠ¨ï¼‰</li>
<li><strong>è¿‡ç¨‹</strong>ï¼šåˆ›å»ºè¿›ç¨‹ â†’ åˆå§‹åŒ–åº”ç”¨ â†’ åˆ›å»ºActivity â†’ æ¸²æŸ“ç•Œé¢</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šè€—æ—¶æœ€é•¿ï¼Œæ¶‰åŠå®Œæ•´å¯åŠ¨é“¾ï¼Œæ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸»è¦ç›®æ ‡</li>
</ul>
<h4 data-id="heading-4">1.2 æ¸©å¯åŠ¨</h4>
<ul>
<li><strong>æ¡ä»¶</strong>ï¼šåº”ç”¨è¿›ç¨‹å­˜åœ¨ï¼Œä½†Activityè¢«é”€æ¯ï¼ˆå¦‚ç³»ç»Ÿå†…å­˜å›æ”¶ï¼‰</li>
<li><strong>è¿‡ç¨‹</strong>ï¼šè¿›ç¨‹å·²å­˜åœ¨ â†’ é‡æ–°åˆ›å»ºActivity â†’ æ¸²æŸ“ç•Œé¢</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šè€—æ—¶ä¸­ç­‰ï¼Œè·³è¿‡éƒ¨åˆ†åˆå§‹åŒ–ï¼Œä½†ä»éœ€é‡å»ºActivity</li>
</ul>
<h4 data-id="heading-5">1.3 çƒ­å¯åŠ¨</h4>
<ul>
<li><strong>æ¡ä»¶</strong>ï¼šåº”ç”¨è¿›ç¨‹å’ŒActivityéƒ½åœ¨å†…å­˜ä¸­ï¼ˆå¦‚æŒ‰Homeé”®è¿”å›ï¼‰</li>
<li><strong>è¿‡ç¨‹</strong>ï¼šç›´æ¥å°†Activityä»åå°å¸¦åˆ°å‰å°</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šè€—æ—¶æœ€çŸ­ï¼Œè¿‘ä¹ç¬é—´ï¼Œä¸»è¦æ¶‰åŠç•Œé¢åˆ‡æ¢</li>
</ul>
<h2 data-id="heading-6">äºŒã€æµ‹é‡æŒ‡æ ‡</h2>
<p>è¦æƒ³çŸ¥é“å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–çš„æ•ˆæœï¼Œæˆ‘ä»¬å°±å¾—çŸ¥é“ä¼˜åŒ–å‰åå†·å¯åŠ¨æ—¶é—´ï¼Œå› æ­¤æ¥ä¸‹æ¥çœ‹çœ‹æµ‹é‡æŒ‡æ ‡ã€‚</p>
<p>å¯åŠ¨æ—¶é—´åˆ†ä¸º2ç§: TTID å’Œ TTFDã€‚</p>
<h3 data-id="heading-7">2.1 åˆå§‹æ˜¾ç¤ºæ—¶é—´ (TTID)</h3>
<p>åˆå§‹æ˜¾ç¤ºæ‰€ç”¨æ—¶é—´ (TTID) æ˜¯æŒ‡æ˜¾ç¤ºåº”ç”¨ç•Œé¢çš„ç¬¬ä¸€å¸§æ‰€ç”¨çš„æ—¶é—´ã€‚æ­¤æŒ‡æ ‡ç”¨äºæµ‹é‡åº”ç”¨ç”Ÿæˆç¬¬ä¸€å¸§æ‰€ç”¨çš„æ—¶é—´ï¼ŒåŒ…æ‹¬å†·å¯åŠ¨æœŸé—´çš„è¿›ç¨‹åˆå§‹åŒ–ã€å†·å¯åŠ¨æˆ–æ¸©å¯åŠ¨æœŸé—´çš„ activity åˆ›å»ºï¼Œä»¥åŠæ˜¾ç¤ºç¬¬ä¸€å¸§ã€‚åŒ…æ‹¬ä»¥ä¸‹äº‹ä»¶åºåˆ—çš„æ€»ç»è¿‡æ—¶é—´ï¼š</p>
<ul>
<li>å¯åŠ¨è¿›ç¨‹ã€‚</li>
<li>åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
<li>åˆ›å»ºå¹¶åˆå§‹åŒ– activityã€‚</li>
<li>è†¨èƒ€å¸ƒå±€ã€‚</li>
<li>é¦–æ¬¡ç»˜åˆ¶åº”ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-8">2.2 å®Œå…¨æ˜¾ç¤ºæ—¶é—´ (TTFD)</h3>
<p>å®Œå…¨æ˜¾ç¤ºæ—¶é—´ (TTFD) æ˜¯æŒ‡åº”ç”¨è¾¾åˆ°å¯ä¸ç”¨æˆ·äº’åŠ¨çš„çŠ¶æ€æ‰€ç”¨çš„æ—¶é—´ã€‚ç³»ç»Ÿä¼šæŠ¥å‘Šæ˜¾ç¤ºåº”ç”¨ç•Œé¢çš„ç¬¬ä¸€å¸§ä»¥åŠåœ¨æ˜¾ç¤ºç¬¬ä¸€å¸§åå¼‚æ­¥åŠ è½½çš„å†…å®¹æ‰€éœ€çš„æ—¶é—´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä»ç½‘ç»œæˆ–ç£ç›˜åŠ è½½çš„ä¸»è¦å†…å®¹ï¼ˆç”±åº”ç”¨æŠ¥å‘Šï¼‰ã€‚æ¢å¥è¯è¯´ï¼ŒTTFD åŒ…æ‹¬ TTID ä»¥åŠåº”ç”¨å¯ä¾›ä½¿ç”¨æ‰€éœ€çš„æ—¶é—´ã€‚</p>
<h3 data-id="heading-9">2.3 å°ç»“</h3>
<p>TTID : æ˜¾ç¤ºåº”ç”¨ç•Œé¢çš„ç¬¬ä¸€å¸§æ‰€ç”¨çš„æ—¶é—´<br/>
TTFD: åº”ç”¨è¾¾åˆ°å¯ä¸ç”¨æˆ·äº’åŠ¨çš„çŠ¶æ€æ‰€ç”¨çš„æ—¶é—´ (TTID + åº”ç”¨å¯ä¾›ä½¿ç”¨æ‰€éœ€çš„æ—¶é—´)</p>
<h2 data-id="heading-10">ä¸‰ã€æµ‹é‡æ–¹æ³•</h2>
<p>çœ‹å®Œäº†æµ‹é‡æŒ‡æ ‡ï¼Œæˆ‘ä»¬å†çœ‹çœ‹æœ‰å“ªäº›æµ‹é‡å¯åŠ¨æ—¶é—´çš„æ–¹æ³•ã€‚</p>
<h3 data-id="heading-11">3.1 åŸºç¡€å·¥å…·ï¼šASæ—¥å¿—ä¸ADBå‘½ä»¤</h3>
<h4 data-id="heading-12">3.1.1 Android Studio Logcatå‘½ä»¤æŸ¥çœ‹</h4>
<p>Android Studioä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œè¿‡æ»¤ tag:ActivityTaskManager Displayed
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/282fb8ecfa4e4945bcf54b547d42e089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=fjjr5UVO4kiaXVmDOXWwQdZkFys%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨ï¼šè¿™ä¸ªæ—¥å¿—æ˜¯æ˜¾å¼çš„åˆå§‹æ˜¾ç¤ºæ‰€ç”¨æ—¶é—´ (TTID)</p>
</blockquote>
<h4 data-id="heading-13">3.1.2 adb shell am start -Wå‘½ä»¤</h4>
<p>adb shell am start -W åŒ…å/é¦–å±Activity<br/>
æ¯”å¦‚ï¼šadb shell am start -W com.xxx.xxx/com.xxx.xxx.MainActivity
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acb40c82663c4932a0139a8a846e0541~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=noM5dCMclx3NwTEa98DnQvx7JAs%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ThisTime:ï¼šæœ€åä¸€ä¸ªActivityå¯åŠ¨è€—æ—¶</li>
<li>TotalTimeï¼šæ‰€æœ‰Acitivityå¯åŠ¨è€—æ—¶</li>
<li>WaitTimeï¼šAMSå¯åŠ¨Activityçš„æ€»è€—æ—¶</li>
</ul>
<p>æ³¨ï¼šThisTime &lt;= TotalTime &lt; WaitTime</p>
<h3 data-id="heading-14">3.2 å®˜æ–¹æ–¹æ¡ˆï¼šJetpack Macrobenchmark</h3>
<p>è°·æ­Œå®˜æ–¹çš„ <strong>Jetpack Macrobenchmark</strong> å¯ä»¥ç”¨æ¥æµ‹é‡å¯åŠ¨æ—¶é—´, å®ƒçš„ä½¿ç”¨ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼š
New -&gt; New Module -&gt; é€‰æ‹©Benchmark -&gt; ç‚¹å‡»Finishå³å¯
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/166d5ec97c384af9b79d7dd8f975b724~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=AQwK%2FJqi6iaUJQQMDwqORTjZMtQ%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚ä¸‹æ˜¯å®šä¹‰ä¸€ä¸ªæµ‹è¯•æ¬¡æ•°ä¸º5æ¬¡çš„å†·å¯åŠ¨æµ‹è¯•</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExampleStartupBenchmark</span> {
    <span class="hljs-meta">@get:Rule</span>
    <span class="hljs-keyword">val</span> benchmarkRule = MacrobenchmarkRule()

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startup</span><span class="hljs-params">()</span></span> = benchmarkRule.measureRepeated(
        <span class="hljs-comment">// è¢«æµ‹åº”ç”¨çš„åŒ…å</span>
        packageName = <span class="hljs-string">"com.xxx.xxx"</span>,
        <span class="hljs-comment">// åŸºå‡†æµ‹è¯•ä¸­æå–çš„ä¸»è¦ä¿¡æ¯ç±»å‹</span>
        metrics = listOf(StartupTimingMetric()),
        <span class="hljs-comment">// è®¾ç½®æµ‹è¯•æ¬¡æ•°</span>
        iterations = <span class="hljs-number">5</span>,
        <span class="hljs-comment">// è®¾ç½®å¯åŠ¨æ¨¡å¼ä¸º</span>
        startupMode = StartupMode.COLD
    ) {
        pressHome()
        startActivityAndWait()
    }
}
</code></pre>
<blockquote>
<p>å¦‚æœè¦æµ‹é‡TTFDï¼Œè®°å¾—åœ¨<strong>åº”ç”¨é¡µé¢</strong>(ä¸æ˜¯åœ¨Macrobenchmarkæ¨¡å—)ä¸­è°ƒç”¨ ComponentActivity#reportFullyDrawn æ–¹æ³•</p>
</blockquote>
<p>æµ‹è¯•å®Œæˆåï¼Œä¼šå±•ç¤ºç®€ç•¥çš„æµ‹è¯•ç»“æœï¼Œæ˜¾ç¤ºTTID TTFD
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e289de04465c4a859be7a3ea54224eca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=sHEvaxLA%2BNbChXah12pYtbU7QPI%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œåœ¨benchmark/build/outputs/connected_android_test_additional_output/benchmark/connected/è®¾å¤‡å ä¸‹é¢ä¼šç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3c5ce7d29fe404da63b797a14c1423a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=BHz5Jl63ZiCHzUXh86Qy7tG5JOQ%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€åŒ…å-benchmarkData.jsonå¯ä»¥çœ‹åˆ°æ­¤æ¬¡æµ‹è¯•çš„è®¾å¤‡ä¿¡æ¯ï¼Œæ¯æ¬¡æµ‹è¯•çš„æ—¶é—´ã€
æœ€é•¿/çŸ­å¯åŠ¨æ—¶é—´ã€P50</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// è®¾å¤‡ä¿¡æ¯</span>
    ... 
    <span class="hljs-attr">"benchmarks"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"startup"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"className"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.xxx.xxx"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"totalRunTimeNs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">58688817257</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"metrics"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"timeToInitialDisplayMs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"minimum"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">547.887593</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"maximum"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">641.342603</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"median"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">583.550673</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// P50</span>
                    <span class="hljs-attr">"coefficientOfVariation"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.05969737243251711</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"runs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                        <span class="hljs-number">641.342603</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-number">612.770907</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-number">580.224135</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-number">583.550673</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-number">547.887593</span>
                    <span class="hljs-punctuation">]</span>
                <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            ...
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç”Ÿæˆçš„.perfetto-traceï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fui.perfetto.dev%2F" target="_blank" title="https://ui.perfetto.dev/" ref="nofollow noopener noreferrer">ui.perfetto.dev/</a> æ‰“å¼€å®ƒï¼Œæˆªå›¾å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b12be93e3b74432dbdd348dba58ab935~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=itEGEi%2BIXOP%2FWQTvbLx9NYLukx8%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ç„¶ Android Studio ä¹Ÿæ˜¯å¯ä»¥æ‰“å¼€(open-&gt;é€‰æ‹©è¦æ‰“å¼€çš„æ–‡ä»¶)è¿™ç§ç±»å‹çš„æ–‡ä»¶ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07bb20636a7d4eb4935c1a155fed4618~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=RzvupjMdHxQWmfqt5nKwFwDctsI%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Macrobenchmarkå®˜æ–¹æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Ftopic%2Fperformance%2Fbenchmarking%2Fmacrobenchmark-overview%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/topic/performance/benchmarking/macrobenchmark-overview?hl=zh-cn" ref="nofollow noopener noreferrer">Jetpack Macrobenchmark</a>; Macrobenchmarkå®˜æ–¹Demo: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fperformance-samples" target="_blank" title="https://github.com/android/performance-samples" ref="nofollow noopener noreferrer">github.com/android/perâ€¦</a></p>
</blockquote>
<h3 data-id="heading-15">3.3 è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬</h3>
<h4 data-id="heading-16">3.3.1 å¼€å‘åŸå› </h4>
<p>ASæ—¥å¿—ä¸ADBå‘½ä»¤æµ‹è¯•æ–¹ä¾¿ä½†åªèƒ½æµ‹è¯•ä¸€æ¬¡ï¼Œå¤šæ¬¡æµ‹è¯•éœ€è¦é‡å¤æ“ä½œï¼Œä¸”æ— æ³•ç»Ÿè®¡P50, P90ç­‰ä¿¡æ¯ï¼Œä¹Ÿæ²¡æœ‰å½“å‰è®¾å¤‡ä¿¡æ¯ã€‚</p>
<p>è€Œå®˜æ–¹çš„Macrobenchmarkå‘¢ï¼Œç¬”è€…å‘ç°å›½å†…è®¾å¤‡(æµ‹è¯•åä¸ºY9, iqoo13)ä¸Šï¼Œä½¿ç”¨Macrobenchmarkæ— æ³•æµ‹è¯•ã€‚æƒ³ä½¿ç”¨ä¸€ç§æ›´é€šç”¨çš„æ–¹å¼ï¼Œç¼–å†™è„šæœ¬ä¸å¤±ä¸ºä¸€ç§å¥½çš„æ–¹å¼ï¼Œè„šæœ¬æµ‹è¯•æ–¹ä¾¿ä¸”é€šç”¨ã€‚å› è„šæœ¬å†…å®¹è¾ƒé•¿ï¼Œæ•…æ”¾åœ¨äº†githubä¸Šã€‚è¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Fblob%2Fmain%2Fapp_launch_benchmark.sh" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/blob/main/app_launch_benchmark.sh" ref="nofollow noopener noreferrer">AndroidStartupOptimizationDemo</a></p>
<blockquote>
<p>æ³¨ï¼šæ­¤è„šæœ¬å‚è€ƒäº†é©¬å“¥çš„è„šæœ¬ï¼Œè¯¦è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FvW6-zag2CKrFgcYAPdeUFg" target="_blank" title="https://mp.weixin.qq.com/s/vW6-zag2CKrFgcYAPdeUFg" ref="nofollow noopener noreferrer">Appå†·å¯åŠ¨ä¼˜åŒ–æµ‹è¯•å¹²è´§åˆ†äº«ï¼ˆä¸€ï¼‰</a>ã€‚ç¬”è€…åšäº†ä»¥ä¸‹æ”¹åŠ¨ï¼š1.åˆå¹¶äº†app_launch_benchmark.sh å’Œ app_config.cfgã€‚2.æ·»åŠ äº†P50, P90, P95å’Œè®¾å¤‡ä¿¡æ¯(å¦‚Androidç³»ç»Ÿç‰ˆæœ¬ï¼Œå†…å­˜ä¿¡æ¯ç­‰)ï¼›3.ç”Ÿæˆstart_up_reportsæ–‡ä»¶å¤¹ï¼Œå°†å¯åŠ¨æŠ¥å‘Šç»Ÿä¸€æ”¾åœ¨äº†æ­¤æ–‡ä»¶å¤¹ä¸‹ï¼›4.å¤šæ¬¡æµ‹è¯•ä¼šå¡ä½ï¼Œæ·»åŠ adb server é‡å¯ç­–ç•¥å’Œè¶…æ—¶å¤„ç†</p>
</blockquote>
<h4 data-id="heading-17">3.3.2 ä½¿ç”¨æ–¹å¼</h4>
<ol>
<li>å¤åˆ¶è„šæœ¬åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹</li>
<li>ä¿®æ”¹åŒ…åå’ŒMainActivityä¸ºå½“å‰åº”ç”¨</li>
</ol>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># å†…ç½®é»˜è®¤é…ç½®ï¼ˆåŸ app_config.cfgï¼‰</span>
<span class="hljs-comment"># ============================================</span>
DEFAULT_CONFIG_CONTENT=$(<span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment"># Appå¯åŠ¨æ—¶é—´æµ‹è¯•é…ç½®æ–‡ä»¶</span>
<span class="hljs-comment"># æ ¼å¼ï¼šåŒ…å|Activityç±»å|æ˜¾ç¤ºåç§°|å¯åŠ¨ç±»å‹|å¤‡æ³¨</span>

<span class="hljs-comment"># ç³»ç»Ÿåº”ç”¨ - å†·å¯åŠ¨æµ‹è¯•</span>
<span class="hljs-comment"># com.android.settings|com.android.settings.Settings|ç³»ç»Ÿè®¾ç½®|cold|å†·å¯åŠ¨æµ‹è¯•</span>
<span class="hljs-comment"># com.android.dialer|com.android.dialer.main.impl.MainActivity|æ‹¨å·å™¨|cold|å†·å¯åŠ¨æµ‹è¯•</span>

<span class="hljs-comment"># ç¬¬ä¸‰æ–¹åº”ç”¨</span>
<span class="hljs-comment"># com.tencent.mm|com.tencent.mm.ui.LauncherUI|å¾®ä¿¡|cold|ç¤¾äº¤åº”ç”¨å†·å¯åŠ¨</span>
<span class="hljs-comment"># com.taobao.taobao|com.taobao.tao.homepage.MainActivity3|æ·˜å®|warm|ç”µå•†åº”ç”¨æ¸©å¯åŠ¨</span>
<span class="hljs-comment"># æ­¤å¤„æ·»åŠ å½“å‰åº”ç”¨ä¿¡æ¯</span>
</code></pre>
<ol start="3">
<li>gitå‘½ä»¤è¡Œæ‰§è¡Œå½“å‰è„šæœ¬</li>
</ol>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ./app_launch_benchmark.sh                     # ä½¿ç”¨é»˜è®¤é…ç½®æµ‹è¯•</span>
<span class="hljs-comment"># ./app_launch_benchmark.sh -n 5      # æµ‹è¯•5æ¬¡</span>
<span class="hljs-comment"># ./app_launch_benchmark.sh -c xxx.cfg -n 5 # è‡ªå®šä¹‰é…ç½®ï¼Œæµ‹è¯•5æ¬¡</span>
</code></pre>
<h4 data-id="heading-18">3.3.3 æµ‹è¯•æˆªå›¾</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0288a98a4c1a4033a344de24eda0e1e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=dHw4dj96xZoUJ8oYW3vZOewUC0k%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-19">å››ã€ä¼˜åŒ–æ–¹æ³•</h2>
<h3 data-id="heading-20">4.1 å¸¸è§„ä¼˜åŒ–</h3>
<h4 data-id="heading-21">4.1.1 æ”¶æ•›ContentProviders</h4>
<h5 data-id="heading-22">åŸç†</h5>
<p>åœ¨åº”ç”¨å¯åŠ¨æµç¨‹ä¸­ï¼Œä¼šå®‰è£…ContentProviderã€‚æ—¶åºå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa0b5c1347f64e38b99b1a56493fd7f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=lVmFcHD%2BJUCjdbJPACsDTQXqgP4%3D" alt="image.png" loading="lazy"/></p>
<p>ActivityThread#installContentProvidersçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Java" lang="Java">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleBindApplication</span><span class="hljs-params">(AppBindData data)</span> {
        ...
        
        <span class="hljs-comment">// å®‰è£…ContentProvider</span>
        installContentProviders(app, data.providers);
        ...
    }
</code></pre>
<p>åœ¨åº”ç”¨å¯åŠ¨çš„ ActivityThread#handleBindApplication é˜¶æ®µï¼Œç³»ç»Ÿä¼šè°ƒç”¨ installContentProvidersã€‚å¦‚æœ Manifest ä¸­å£°æ˜äº†å¤šä¸ª Providerï¼ˆå¦‚ Firebaseã€Facebook SDK å„è‡ªå¸¦ä¸€ä¸ªï¼‰ï¼Œç³»ç»Ÿä¼š<strong>ä¸²è¡Œ</strong>åˆå§‹åŒ–å®ƒä»¬ï¼Œè¿™ä¼šå ç”¨ä¸»çº¿ç¨‹å‡ ååˆ°ä¸Šç™¾æ¯«ç§’ã€‚</p>
<h5 data-id="heading-23">ä¼˜åŒ–æ–¹æ¡ˆ</h5>
<p>ä½¿ç”¨ Jetpack Startup å°†å¤šä¸ª Provider åˆå¹¶ä¸ºä¸€ä¸ªåˆå§‹åŒ–å…¥å£</p>
<p>é¦–å…ˆè¦ç¡®å®šå½“å‰åº”ç”¨æœ‰å“ªäº›ContentProviderï¼Œä½¿ç”¨ AS æ‰“å¼€ Apk/aabé‡Œé¢çš„Manifest</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">manifest</span>
    &lt;<span class="hljs-attr">application</span>
        <span class="hljs-attr">...</span>
        &lt;<span class="hljs-attr">provider</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.facebook.internal.FacebookInitProvider"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"com.xxx.xxx.FacebookInitProvider"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.mlkit.common.internal.MlKitInitProvider"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"com.xxx.xxx.mlkitinitprovider"</span>
            <span class="hljs-attr">android:initOrder</span>=<span class="hljs-string">"99"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.firebase.provider.FirebaseInitProvider"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"com.xxx.xxx.firebaseinitprovider"</span>
            <span class="hljs-attr">android:initOrder</span>=<span class="hljs-string">"100"</span>
            <span class="hljs-attr">android:directBootAware</span>=<span class="hljs-string">"true"</span> /&gt;</span>
         ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<p>æ¯”å¦‚å½“å‰ç¤ºä¾‹Appçš„Manifestä¸­ï¼Œæœªæ”¶æ•›æ—¶æœ‰3ä¸ªContentProvider,</p>
<p>å®˜æ–¹æä¾›äº†Jetpack StartUp, æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ”¶æ•›ContentProviderï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<br/>
é¦–å…ˆå®šä¹‰å„ä¸ªå¯åŠ¨å™¨</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FirebaseCombinedInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        <span class="hljs-comment">// åˆå§‹åŒ– FirebaseApp, é˜²æ­¢æœª initialize æŠ¥é”™</span>
        FirebaseApp.initializeApp(context)

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å– Firebase Analytics çš„ appInstanceId</span>
            FirebaseAnalytics.getInstance(context).appInstanceId
                .addOnCompleteListener { task -&gt;
                    task.result?.let { id -&gt;
                        SpUtil.saveStringData(SpKeyConstants.FIREBASE_ID, id)
                    }
                }
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Timber.tag(<span class="hljs-string">"FirebaseInit"</span>).e(e, <span class="hljs-string">"è·å– appInstanceId å¤±è´¥"</span>)
        }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; = emptyList()
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FacebookManualInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        <span class="hljs-comment">// ä½¿ç”¨åç¨‹åœ¨åå°çº¿ç¨‹æ¿€æ´» App Eventsï¼Œé¿å…é˜»å¡</span>
        CoroutineScope(Dispatchers.IO).launch {
            <span class="hljs-keyword">try</span> {
                AppEventsLogger.activateApp(context <span class="hljs-keyword">as</span> Application)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-comment">// å¿½ç•¥åˆå§‹åŒ–å¤±è´¥ï¼Œé¿å…å½±å“å¯åŠ¨</span>
            }
        }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;?&gt;?&gt; = emptyList()
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MlKitManualInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        MlKit.initialize(context)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;?&gt;?&gt; = emptyList()
}
</code></pre>
<p>ç„¶åä¿®æ”¹Manifest</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.startup.InitializationProvider"</span>
    <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.androidx-startup"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Firebase åˆå§‹åŒ–ï¼Œæ— ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.xxxr.FirebaseCombinedInitializer"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- ML Kit åˆå§‹åŒ–ï¼Œæ— ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.xxx.MlKitManualInitializer"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- Facebook åˆå§‹åŒ–ï¼Œæ— ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.xxx.FacebookManualInitializer"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">provider</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.firebase.provider.FirebaseInitProvider"</span>
    <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.firebaseinitprovider"</span>
    <span class="hljs-attr">tools:node</span>=<span class="hljs-string">"remove"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.facebook.internal.FacebookInitProvider"</span>
    <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.FacebookInitProvider"</span>
    <span class="hljs-attr">tools:node</span>=<span class="hljs-string">"remove"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.mlkit.common.internal.MlKitInitProvider"</span>
    <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.mlkitinitprovider"</span>
    <span class="hljs-attr">tools:node</span>=<span class="hljs-string">"remove"</span> /&gt;</span>
</code></pre>
<p>åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå®é™…æ“ä½œå…¶å®ä¸å¤æ‚ã€‚</p>
<h5 data-id="heading-24">éªŒè¯</h5>
<p>æœ€åéªŒè¯ä¸‹æ˜¯å¦ç”Ÿæ•ˆäº†ï¼Œæˆ‘ä»¬æ‰“å¼€æ”¶æ•›åApkä¸­çš„Mainfestæ–‡ä»¶</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span>
    &lt;<span class="hljs-attr">application</span>
        <span class="hljs-attr">...</span>
        &lt;<span class="hljs-attr">provider</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.startup.InitializationProvider"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"com.xxx.androidx-startup"</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
                <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.AppsFlyerInitializer"</span>
                <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
                <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.initializer.FirebaseCombinedInitializer"</span>
                <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
                <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.initializer.MlKitManualInitializer"</span>
                <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
                <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.initializer.FacebookManualInitializer"</span>
                <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>

            ...
        <span class="hljs-tag">&lt;/<span class="hljs-name">provider</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ”¶æ•›åApkçš„Manifestä¸­ï¼Œä»…æœ‰1ä¸ªContentProvider</p>
<h5 data-id="heading-25">ä¼˜åŒ–æ•ˆæœ</h5>





























<table><thead><tr><th>æ—¶é—´ç±»å‹</th><th>æœªä¼˜åŒ–</th><th>ä¼˜åŒ–å</th><th>å‡å°‘å¹…åº¦</th></tr></thead><tbody><tr><td>P50</td><td>465ms</td><td>436ms</td><td>-29ms (-6.24%)</td></tr><tr><td>P90</td><td>476ms</td><td>446ms</td><td>-30ms (-6.30%)</td></tr><tr><td>P95</td><td>480<br/></td><td>451ms</td><td>-29ms (-6.04%)</td></tr></tbody></table>
<blockquote>
<p>è¯¦ç»†çš„æµ‹è¯•æ•°æ®è¯·çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Ftree%2Ffeature%2Fcontent-provider%2Fstart_up_reports" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/tree/feature/content-provider/start_up_reports" ref="nofollow noopener noreferrer">AndroidStartupOptimizationDemo/start_up_reports at feature/content-provider</a></p>
</blockquote>
<h4 data-id="heading-26">4.1.2 åˆå§‹åŒ–ä¼˜åŒ–ä¸ä»»åŠ¡è°ƒåº¦</h4>
<h5 data-id="heading-27">æ—¶æœºä¼˜åŒ–</h5>
<p><strong>a.å»¶è¿Ÿ/æŒ‰éœ€åˆå§‹åŒ–</strong></p>
<p>å¯¹äºå¯åŠ¨éå¿…è¦çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥å»¶è¿Ÿ/æŒ‰éœ€å®ƒçš„åˆå§‹åŒ–ï¼Œå‡å°‘åˆå§‹åŒ–çš„ä»»åŠ¡ï¼Œä»è€Œå‡å°‘åº”ç”¨å¯åŠ¨çš„æ—¶é—´ã€‚<br/>
æ¯”å¦‚ä¸Šé¢çš„MlKitManualInitializerï¼Œå®ƒå…¶å®æ˜¯éå¯åŠ¨å¿…éœ€çš„ä»»åŠ¡ï¼Œç”¨æˆ·å¹¶ä¸æ˜¯æ¯æ¬¡ä½¿ç”¨åº”ç”¨ï¼Œéƒ½éœ€è¦ç”¨åˆ°äººè„¸è¯†åˆ«ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨å®ƒä¹‹å‰çš„é¡µé¢ï¼Œå»åˆå§‹åŒ–å®ƒã€‚è¿˜å¯ä»¥è¿›ä¸€æ­¥æ ¹æ®åç«¯è¿”å›å­—æ®µï¼Œå¦‚æœxxæ¥å£è¿”å›æ­¤æ¬¡éœ€è¦ä½¿ç”¨äººè„¸è¯†åˆ«ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†åˆå§‹åŒ–å®ƒã€‚</p>
<p><strong>b.å¼‚æ­¥åˆå§‹åŒ–</strong></p>
<p>å¯¹äºå¯åŠ¨å¿…éœ€ä½†ä¸éœ€è¦åŒæ­¥çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼‚æ­¥åˆå§‹åŒ–ï¼Œè¿™æ ·å°±ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä»è€Œå‡å°‘åº”ç”¨å¯åŠ¨çš„æ—¶é—´ã€‚</p>
<p><strong>c.é¦–å±æ•°æ®åŠ è½½ç­–ç•¥</strong></p>
<p>å¯¹äºå¯åŠ¨åç«‹å³éœ€è¦çš„é¦–å±æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€é…ç½®åˆ—è¡¨ï¼‰ï¼Œå…¶åŠ è½½ä¹Ÿå±äºå¯åŠ¨å¿…éœ€ä½†æ— éœ€é˜»å¡ä¸»çº¿ç¨‹çš„ä»»åŠ¡ã€‚æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œè¯·æ±‚</strong>ï¼šå°†å¤šä¸ªç‹¬ç«‹çš„æ•°æ®è¯·æ±‚å¹¶è¡Œå‘èµ·ï¼Œè€Œéä¸²è¡Œç­‰å¾…ã€‚</li>
<li><strong>é«˜æ•ˆè§£æ</strong>ï¼šé€‰ç”¨æ€§èƒ½æ›´ä¼˜çš„åºåˆ—åŒ–åº“ï¼ˆå¦‚æ›¿æ¢é»˜è®¤çš„Gsonä¸ºKotlin serializationæˆ–Moshiï¼‰ï¼Œå‡å°‘æ•°æ®ååºåˆ—åŒ–çš„CPUè€—æ—¶ã€‚è¯¦è§<a href="https://juejin.cn/post/7287083662758379554" target="_blank" title="https://juejin.cn/post/7287083662758379554">å¸¸ç”¨ JSON åº“æ€§èƒ½å¯¹æ¯”: Gson VS Moshi VS Kotlin Serialization VS ...</a></li>
<li><strong>ç¼“å­˜ä¼˜å…ˆ</strong>ï¼šå¯¹äºä¸è¦æ±‚å®æ—¶æ•°æ®çš„é¦–å±é¡µé¢ï¼Œå¯ä»¥å…ˆå±•ç¤ºç¼“å­˜é¡µé¢ï¼Œåè¿›è¡Œç½‘ç»œæ›´æ–°ï¼Œå³ä¼˜å…ˆå±•ç¤ºæœ¬åœ°ç¼“å­˜æ•°æ®ï¼Œè®©UIå¿«é€Ÿå¯äº¤äº’ï¼Œåå°å†æ›´æ–°æ•°æ®ã€‚</li>
</ul>
<p>è¿™äº›ç­–ç•¥è™½ä¸ç›´æ¥å½±å“ TTIDï¼Œä½†èƒ½æ˜¾è‘—ç¼©çŸ­ TTFDï¼Œè®©ç”¨æˆ·æ›´å¿«åœ°å¼€å§‹ä½¿ç”¨åº”ç”¨ã€‚</p>
<p><strong>d.ä¼˜åŒ–æ•ˆæœ</strong></p>
<p>åœ¨ç¤ºä¾‹Appä¸­ï¼Œä½¿ç”¨æ”¶æ•›ContentProviderã€å¼‚æ­¥åˆå§‹åŒ–ä»»åŠ¡å’Œå»¶è¿Ÿåˆå§‹åŒ–åçš„ä¼˜åŒ–å‰åå¯¹æ¯”å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>æ—¶é—´ç±»å‹</th><th>æœªä¼˜åŒ–</th><th>ä¼˜åŒ–å</th><th>å‡å°‘å¹…åº¦</th></tr></thead><tbody><tr><td>P50</td><td>465ms</td><td>436ms</td><td>-29ms (-6.23%)</td></tr><tr><td>P90</td><td>476ms</td><td>445ms</td><td>-31ms (-6.51%)</td></tr><tr><td>P95</td><td>480<br/></td><td>449ms</td><td>-31ms (-6.46%)</td></tr></tbody></table>
<blockquote>
<p>è¯¦ç»†çš„æµ‹è¯•æ•°æ®è¯·çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Ftree%2Ffeature%2Finit-optimization-strategy%2Fstart_up_reports" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/tree/feature/init-optimization-strategy/start_up_reports" ref="nofollow noopener noreferrer">AndroidStartupOptimizationDemo/start_up_reports at feature/init-optimization-strategy</a></p>
</blockquote>
<h5 data-id="heading-28">ç¼–æ’åˆå§‹åŒ–ä»»åŠ¡</h5>
<p>åœ¨åˆå§‹åŒ–ä»»åŠ¡æ—¶ï¼Œåº”ç”¨å¯èƒ½ä¼šå­˜åœ¨ä¾èµ–çš„æƒ…å†µï¼Œå¦‚ä»»åŠ¡Açš„åˆå§‹åŒ–å®Œæˆåï¼Œä»»åŠ¡Bçš„åˆå§‹åŒ–æ‰èƒ½æ­£å¸¸æ‰§è¡Œã€‚æˆ‘ä»¬å…ˆç”»å‡ºä»»åŠ¡é—´ä¾èµ–å…³ç³»çš„æœ‰å‘å›¾ï¼Œå…ˆç†æ¸…ä»»åŠ¡é—´çš„å…³ç³»ï¼Œåç»­ä½¿ç”¨å®˜æ–¹çš„ <strong>StartUp</strong> æ¥ç¼–æ’ä»»åŠ¡ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œç°æœ‰ä»»åŠ¡a,b,c,d,eï¼Œç„¶å cä¾èµ–aï¼Œdä¾èµ–bï¼Œç„¶å eä¾èµ–dï¼Œcã€‚<br/>
å…ˆç”»å‡ºæœ‰å‘æ— ç¯å›¾ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3925bc5a4e04a7295ac0069e1c2495c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=F8ScsZ1pdlWawvPq3k1o7Fg0KpE%3D" alt="image.png" loading="lazy"/></p>
<p>ä¹‹ååˆ›å»ºå„ä¸ªä»»åŠ¡çš„å¯åŠ¨å™¨</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        Log.d(<span class="hljs-string">"AInitializer"</span>, <span class="hljs-string">"create: AInitializer"</span>)
    }

    <span class="hljs-comment">// Aæ— ä¾èµ–</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; = emptyList()
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        Log.d(<span class="hljs-string">"BInitializer"</span>, <span class="hljs-string">"create: BInitializer"</span>)
    }

    <span class="hljs-comment">// Bæ— ä¾èµ–</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; = emptyList()
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        Log.d(<span class="hljs-string">"CInitializer"</span>, <span class="hljs-string">"create: CInitializer"</span>)
    }

    <span class="hljs-comment">// Cä¾èµ–A</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; =
        listOf(AInitializer::<span class="hljs-keyword">class</span>.java)
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        Log.d(<span class="hljs-string">"DInitializer"</span>, <span class="hljs-string">"create: DInitializer"</span>)
    }

    <span class="hljs-comment">// Dä¾èµ–B</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; =
        listOf(BInitializer::<span class="hljs-keyword">class</span>.java)
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        Log.d(<span class="hljs-string">"EInitializer"</span>, <span class="hljs-string">"create: EInitializer"</span>)
    }

    <span class="hljs-comment">// Eä¾èµ–C,D</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; =
        listOf(CInitializer::<span class="hljs-keyword">class</span>.java, DInitializer::<span class="hljs-keyword">class</span>.java)
}
</code></pre>
<p>åç»­åœ¨manifestä¸­ï¼Œå£°æ˜Eçš„å¯åŠ¨å™¨å³å¯ï¼ŒStartUp ä¼šè‡ªåŠ¨è§£æä¾èµ–å…³ç³»</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">application</span>
        <span class="hljs-attr">...</span>
        &lt;<span class="hljs-attr">provider</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.startup.InitializationProvider"</span>
            <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.androidx-startup"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">tools:node</span>=<span class="hljs-string">"merge"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
                <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.xxx.xxx.initializer.EInitializer"</span>
                <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">provider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<p>åç»­è¿è¡Œä»£ç ï¼Œæ‰“å°æ—¥å¿—å¦‚ä¸‹ï¼š<br/>
create: AInitializer<br/>
create: CInitializer<br/>
create: BInitializer<br/>
create: DInitializer<br/>
create: EInitializer</p>
<h4 data-id="heading-29">4.1.3 åŸºå‡†é…ç½®æ–‡ä»¶</h4>
<p>åŸºå‡†é…ç½®æ–‡ä»¶æ˜¯å®˜æ–¹æ¨èä½¿ç”¨çš„ä¸€ç§ä¼˜åŒ–æ–¹å¼ï¼Œä¸‹é¢å…ˆçœ‹çœ‹å®ƒçš„åŸç†å§ã€‚</p>
<h5 data-id="heading-30">åŸç†</h5>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥ç†è§£å®ƒçš„å·¥ä½œåŸç†ï¼šç¬¬ä¸€æ¬¡åˆ°æœ‹å‹å®¶ï¼Œä»–è®©æˆ‘ä»¬å¸®å¿™æ‰¾ä¸œè¥¿ã€‚å½“æ²¡æœ‰ä½¿ç”¨åŸºå‡†é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±ç›¸å½“äºæˆ‘ä»¬ä¸çŸ¥é“ä¸œè¥¿åœ¨å“ªé‡Œï¼Œé‚£ä¹ˆåªèƒ½æ¯ä¸ªæˆ¿é—´ã€æ¯ä¸ªä½ç½®éƒ½ç¿»æ‰¾ä¸€éï¼›è€Œä½¿ç”¨åŸºå‡†é…ç½®æ–‡ä»¶åï¼Œå°±ç›¸å½“äºæœ‹å‹æå‰ç»™äº†æˆ‘ä»¬ä¸€ä»½æ–‡ä»¶æ¸…å•ï¼Œä¸Šé¢æ¸…æ¥šæ ‡æ˜äº†æ¯æ ·ä¸œè¥¿çš„ä½ç½®ï¼Œæˆ‘ä»¬æŒ‰å›¾ç´¢éª¥ï¼Œå°±èƒ½å¿«é€Ÿæ‰¾åˆ°ç›®æ ‡ã€‚</p>
<p><strong>è¿™ä¸ªæ–‡ä»¶æ¸…å•ï¼Œå¯¹åº”çš„å°±æ˜¯åŸºå‡†é…ç½®æ–‡ä»¶ï¼ˆProfile-Guided Optimizationï¼ŒPGOï¼‰æŠ€æœ¯ç”Ÿæˆçš„çƒ­ç‚¹ä»£ç æ¸…å•ï¼ˆbaseline-prof.txtï¼‰ã€‚</strong></p>
<p>åœ¨æŠ€æœ¯å±‚é¢ï¼Œä¼ ç»Ÿçš„AOTï¼ˆæå‰ï¼‰ç¼–è¯‘ä¼šè¯•å›¾ç¼–è¯‘æ‰€æœ‰ä»£ç ï¼Œè¿™å¾€å¾€å¯¼è‡´åº”ç”¨å®‰è£…ç¼“æ…¢ä¸”åŒ…ä½“ç§¯å¢å¤§ã€‚è€ŒPGOåˆ™åå…¶é“è€Œè¡Œä¹‹ï¼šå®ƒé€šè¿‡åœ¨çœŸå®è®¾å¤‡ä¸Šè¿è¡Œåº”ç”¨ï¼Œè®°å½•ä¸‹å®é™…ä½¿ç”¨æ—¶çš„å…³é”®æ‰§è¡Œè·¯å¾„ï¼ˆä¾‹å¦‚å¯åŠ¨è¿‡ç¨‹ï¼‰ï¼Œä»è€Œç”Ÿæˆä¸€ä»½é’ˆå¯¹æ€§çš„â€œçƒ­ç‚¹ä»£ç æ¸…å•â€ã€‚</p>
<p>ARTè¿è¡Œæ—¶åœ¨<strong>ä¸¤ä¸ªæ—¶æœº</strong>ä½¿ç”¨è¿™ä»½æ¸…å•ï¼š</p>
<ol>
<li><strong>å®‰è£…æ—¶</strong>ï¼šå¯¹æ¸…å•ä¸­çš„æ–¹æ³•è¿›è¡ŒAOTç¼–è¯‘</li>
<li><strong>åå°ä¼˜åŒ–</strong>ï¼šè®¾å¤‡ç©ºé—²æ—¶ï¼Œæ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µè¿›ä¸€æ­¥ä¼˜åŒ–</li>
</ol>
<p>è¿™æ ·æ—¢å‡å°‘äº†è¿è¡Œæ—¶è§£é‡Š/JITå¼€é”€ï¼Œåˆé¿å…äº†"å…¨é‡ç¼–è¯‘"çš„å¼Šç«¯ã€‚</p>
<h5 data-id="heading-31">ä½¿ç”¨åŸºå‡†é…ç½®æ–‡ä»¶</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f39147c7018e471dbc965026b41a330e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=QnK31F10BrfyMV3NcvSqvSaxEdY%3D" alt="image.png" loading="lazy"/><br/>
åœ¨ASä¸­é€‰æ‹© File -&gt; New -&gt; New Module</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87efbfcf8fb44acebeb95cd98f4040ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=lV8kXVMSIrssPKEH4Ver%2FJ4ZP6I%3D" alt="image.png" loading="lazy"/>
é€‰æ‹©Baseline Profile Generatorï¼Œç‚¹å‡»Finishã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed716e0d8457490991e072d4d32948ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=OAdccydig1qR6I8nzn7eTcDD1L4%3D" alt="image.png" loading="lazy"/><br/>
ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªåä¸º BaselineProfile çš„æ–°æ¨¡å—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2aac78e2c87d41f9a63798d19ceea5cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=8QHxIgf0qcTs5C%2BWlvU%2BPD36FqQ%3D" alt="image.png" loading="lazy"/>
ç°åœ¨ç‚¹å‡»è¿è¡Œ Generate Baseline Profile for appï¼Œæç¤ºError: Target module's selected variant is debuggable. Please use Build Variants tools window to change the variant of Dex.appã€‚å°±æ˜¯è¯´éœ€è¦ä½¿ç”¨ release å˜ä½“ï¼ˆé debuggable ç‰ˆæœ¬ï¼‰ã€‚</p>
<p>è¿™é‡Œå°±ä¸ä»‹ç»æ€ä¹ˆç”Ÿæˆ release ç­¾åæ–‡ä»¶äº†ï¼Œç›´æ¥çœ‹ release ç­¾åé…ç½®å®Œæˆä¹‹åã€‚</p>
<blockquote>
<p>è¯¦ç»†ç­¾åæ­¥éª¤ï¼Œè¯·è¯»è€…è‡ªè¡ŒæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fstudio%2Fpublish%2Fapp-signing%3Fhl%3Dzh-cn%23sign-apk" target="_blank" title="https://developer.android.google.cn/studio/publish/app-signing?hl=zh-cn#sign-apk" ref="nofollow noopener noreferrer">ä¸ºåº”ç”¨ç­¾å</a></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/512418ff3ff24c8ca47d596595cd0bd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=TFu1uX1DysBEONZzZe3UvPjLMHU%3D" alt="image.png" loading="lazy"/><br/>
é…ç½®å®Œç­¾åï¼Œä¿®æ”¹ <strong>App æ¨¡å—çš„ Build Variant</strong>ï¼Œå†æ¬¡ç‚¹å‡»å›¾æ ‡ï¼Œè¿è¡Œ Generate Baseline Profile for app</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd60518568dc43b3ac0b3eb72ba30add~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=QWqrojKEAEtt537AB9Jq2j1NL9I%3D" alt="image.png" loading="lazy"/><br/>
è¿è¡Œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬ä¼šåœ¨ app/src/xxxRelease/generated ä¸‹é¢çœ‹åˆ°ç”Ÿæˆäº† baseline-prof.text å’Œ startup-prof.text æ–‡ä»¶</p>
<h4 data-id="heading-32">4.1.4 å¯åŠ¨é…ç½®æ–‡ä»¶</h4>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åŸºå‡†é…ç½®æ–‡ä»¶çŸ¥é“äº†â€œä¸œè¥¿â€çš„ä½ç½®ã€‚æœ¬å°èŠ‚æˆ‘ä»¬æ¥äº†è§£å¦ä¸€ä¸ªå…³é”®çš„ä¼˜åŒ–æ–‡ä»¶â€”â€”å¯åŠ¨é…ç½®æ–‡ä»¶ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ›´æ·±å±‚çš„ä¼˜åŒ–ã€‚</p>
<h5 data-id="heading-33">åŸç†</h5>
<p>æˆ‘ä»¬å¯ä»¥ç»§ç»­ç”¨â€œæ‰¾ä¸œè¥¿â€çš„ä¾‹å­æ¥ç†è§£å®ƒçš„å·¥ä½œåŸç†ï¼šåŸºå‡†é…ç½®æ–‡ä»¶å·²ç»å‘Šè¯‰æˆ‘ä»¬ä¸œè¥¿åœ¨å“ªï¼Œä½†å®ƒä»¬ä»ç„¶åˆ†æ•£åœ¨å„ä¸ªæˆ¿é—´ã€‚<strong>å¯åŠ¨é…ç½®æ–‡ä»¶</strong>åˆ™æ›´è¿›ä¸€æ­¥ï¼Œç›¸å½“äºæœ‹å‹æå‰æŠŠè¦ç”¨çš„æ‰€æœ‰ä¸œè¥¿æ‰“åŒ…è¿›äº†å‡ ä¸ªèƒŒåŒ…ï¼Œå¹¶æŠŠèƒŒåŒ…æ”¾åœ¨äº†é—¨å£ã€‚è¿™æ ·ï¼Œä½ è¿›é—¨å°±èƒ½ç›´æ¥æ‹¿åˆ°æ‰€æœ‰å¿…éœ€å“ï¼Œçœå»äº†å»å„ä¸ªæˆ¿é—´çš„æ—¶é—´ã€‚</p>
<p>åœ¨æŠ€æœ¯ä¸Šï¼Œå¯åŠ¨é…ç½®æ–‡ä»¶çš„æ ¸å¿ƒåŸç†æ˜¯Â <strong>DEXå¸ƒå±€ä¼˜åŒ–</strong>ï¼Œå…¶æ ¹æœ¬ç›®æ ‡æ˜¯å‡å°‘åº”ç”¨å¯åŠ¨è¿‡ç¨‹ä¸­çš„<strong>ç¼ºé¡µä¸­æ–­</strong>ï¼Œä»è€Œé™ä½è€—æ—¶çš„IOæ“ä½œï¼Œæœ€ç»ˆæ˜¾è‘—ç¼©çŸ­å¯åŠ¨æ—¶é—´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f795a0f419f48068eadce55fe5d236a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=SIFqJ8DwdfehHQtj7z6wVAjtrTg%3D" alt="image.png" loading="lazy"/>
å€Ÿç”¨å®˜ç½‘çš„ä¸€å¼ å›¾æ¥è¯´æ˜:</p>
<ul>
<li>å·¦ä¾§ï¼šåœ¨apkä¸­å¤šä¸ªclasses.dexï¼Œå¯åŠ¨ä»£ç åˆ†æ•£åœ¨å„ä¸ªclasses.dexï¼Œä¸”å¯åŠ¨å„ä¸ªç±»éè¿ç»­æ’åˆ—ï¼Œæ­¤æ—¶å°±ä¼šæœ‰ä¸å¿…è¦çš„ç¼ºé¡µä¸­æ–­ï¼Œå¢åŠ äº†å¤šä½™çš„IOæ“ä½œã€‚</li>
<li>å³ä¾§ï¼šä½¿ç”¨DEXå¸ƒå±€ä¼˜åŒ–ï¼Œå°†åŸæœ¬åˆ†æ•£åœ¨å„ä¸ªclasses.dexä¸­çš„å¯åŠ¨ä»£ç æ”¾åœ¨äº†ä¸»classes.dexï¼Œå¹¶ä¸”è¿ç»­æ’åˆ—ã€‚å‡å°‘äº†ç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿå°±å‡å°‘äº†IOæ“ä½œã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ä¼˜åŒ–DEXå¸ƒå±€ï¼Œä½¿å¯åŠ¨æ‰€éœ€çš„ç±»åœ¨dexä¸­è¿ç»­å­˜å‚¨ï¼Œç„¶åå°±èƒ½é¡ºåºè¯»å–ï¼Œå‡å°‘ç£ç›˜å¯»é“æ—¶é—´ï¼Œå¹¶ä¸”å‡å°‘ç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿå°±å‡å°‘äº†IOæ“ä½œã€‚æˆ‘ä»¬çŸ¥é“IOæ“ä½œæ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œå½“å‡å°‘äº†å®ƒä¹‹åï¼Œå¯åŠ¨æ—¶é—´è‡ªç„¶ä¹Ÿå°±å‡å°‘äº†ã€‚</p>
<h5 data-id="heading-34">ä½¿ç”¨å¯åŠ¨é…ç½®æ–‡ä»¶</h5>
<p>ä½¿ç”¨æ–¹å¼è¯¦è§4.1.3å°èŠ‚ï¼ŒåŸºå‡†é…ç½®æ–‡ä»¶å’Œå¯åŠ¨é…ç½®æ–‡ä»¶ä¼šä¸€èµ·ç”Ÿæˆã€‚</p>
<h5 data-id="heading-35">éªŒè¯å¯åŠ¨é…ç½®æ–‡ä»¶</h5>
<p>é¦–å…ˆä¿®æ”¹settings.gradle</p>
<pre><code class="hljs language-kts" lang="kts">pluginManagement {
    ...

    buildscript {
        repositories {
            mavenCentral()
            maven {
                url = uri(<span class="hljs-string">"https://storage.googleapis.com/r8-releases/raw"</span>)
            }
        }
        dependencies {
            classpath(<span class="hljs-string">"com.android.tools:r8:8.3.6-dev"</span>)
        }
    }
}
</code></pre>
<p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
./gradlew assembleRelease --info</p>
<p>ç­‰ç¼–è¯‘å®Œæˆåï¼ŒæŸ¥çœ‹ç¼–è¯‘æ—¥å¿—ï¼Œå¯æœç´¢å…³é”®å­— <strong>Startup DEX</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f09e22c9e914b008f6a426e446449d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=SpJJeJHiq6zdvJQRfyVlc3GK4Kg%3D" alt="image.png" loading="lazy"/></p>
<p>INFO: R8: Startup DEX files contains 3398 classes and 14427 methods of which 7249 (50%) are non-startup methods. Distribution of classes by their number of startup methods:<br/>
0: 737 classes<br/>
1: 1026 classes<br/>
2-3: 1183 classes<br/>
4-5: 245 classes<br/>
6-10: 139 classes<br/>
11+: 68 classes</p>
<p>è¿™è¡¨æ˜äº†ç¼–è¯‘æ—¶ï¼ŒDEXå¸ƒå±€å·²ç»æˆåŠŸä¼˜åŒ–äº†ã€‚</p>
<h5 data-id="heading-36">ä¼˜åŒ–æ•ˆæœ</h5>
<p>å› ä¸ºåŸºå‡†é…ç½®æ–‡ä»¶å’Œå¯åŠ¨é…ç½®æ–‡ä»¶æ˜¯ä¸€èµ·ç”Ÿæˆäº†ï¼Œæ­¤å¤„å°±ä¸åˆ†å¼€æµ‹è¯•è¿™2ç§æ–‡ä»¶äº†ã€‚</p>
<p>åœ¨åŒä¸€è®¾å¤‡ä¸Šï¼Œæµ‹è¯•åŒä¸€åº”ç”¨ï¼Œä½¿ç”¨3.3å°èŠ‚çš„è„šæœ¬ï¼Œåˆ†åˆ«æµ‹è¯•äº†200æ¬¡æœªä½¿ç”¨ å’Œ ä½¿ç”¨è¿™2ç§æ–‡ä»¶ä¼˜åŒ–å‰åçš„å†·å¯åŠ¨æ—¶é—´ï¼Œæ•°æ®å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>æ—¶é—´ç±»å‹</th><th>æœªä¼˜åŒ–</th><th>ä¼˜åŒ–å</th><th>å‡å°‘å¹…åº¦</th></tr></thead><tbody><tr><td>P50</td><td>465ms</td><td>428ms</td><td>-37ms (-7.96%)</td></tr><tr><td>P90</td><td>476ms</td><td>438ms</td><td>-38ms (-7.98%)</td></tr><tr><td>P95</td><td>480<br/></td><td>447ms</td><td>-33ms (-6.88%)</td></tr></tbody></table>
<blockquote>
<p>è¯¦ç»†çš„æµ‹è¯•æ•°æ®è¯·çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Ftree%2Ffeature%2Fbaseline-startup-profiles%2Fstart_up_reports" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/tree/feature/baseline-startup-profiles/start_up_reports" ref="nofollow noopener noreferrer">StudyH2g/AndroidStartupOptimizationDemo at feature/baseline-startup-profiles</a></p>
</blockquote>
<h3 data-id="heading-37">4.2 æ¿€è¿›ä¼˜åŒ–</h3>
<p>æ¿€è¿›ä¼˜åŒ–çš„æ•ˆæœä¾èµ–äºè®¾å¤‡ç¡¬ä»¶ã€ç³»ç»Ÿç‰ˆæœ¬åŠå®æ—¶è´Ÿè½½ï¼Œä¸å…·å¤‡æ™®éæ€§ï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„å…¼å®¹æ€§é£é™©ä¸ç»´æŠ¤æˆæœ¬ã€‚å»ºè®®è¯»è€…è‹¥æœ‰æ„å°è¯•ï¼ŒåŠ¡å¿…åœ¨æ·±å…¥ç†è§£å…¶åŸç†çš„åŸºç¡€ä¸Šï¼Œ<strong>åœ¨ç›®æ ‡è®¾å¤‡ä¸Šå»ºç«‹å®Œå–„çš„æµ‹è¯•ä¸ç›‘æ§æœºåˆ¶</strong>ï¼Œè°¨æ…è¯„ä¼°å…¶å®é™…æ”¶ç›Šã€‚</p>
<blockquote>
<p>æ³¨ï¼š æœ¬èŠ‚ä¸­æåˆ°çš„ç»‘å®šCPUå¤§æ ¸ã€æŠ‘åˆ¶GCç­‰å®ç°æ€è·¯ä¸ä»£ç ç¤ºä¾‹ï¼Œä¸»è¦å‚è€ƒäº†ã€ŠAndroidæ€§èƒ½ä¼˜åŒ–ä¹‹é“ï¼šä»åº•å±‚åŸç†åˆ°ä¸€çº¿å®è·µã€‹ä¸€ä¹¦ä¸­çš„æ–¹æ¡ˆã€‚<br/>
æƒ³è¿‡è¿™å°èŠ‚åº”è¯¥å«æ¿€è¿›ä¼˜åŒ–è¿˜æ˜¯è¿›é˜¶ä¼˜åŒ–ï¼Œä½†è€ƒè™‘åˆ°æ­¤å°èŠ‚ä¼˜åŒ–æ–¹æ³•ä¸å…·å¤‡æ™®éæ€§ï¼Œå› æ­¤è¿˜æ˜¯é€‰æ‹©äº†æ¿€è¿›ä¼˜åŒ–ã€‚è¯·è¯»è€…ä¸€å®šè¦åœ¨å……åˆ†éªŒè¯åï¼Œå†è€ƒè™‘ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œå¹¶åšå¥½ç›¸åº”çš„å…œåº•ç­–ç•¥ã€‚</p>
</blockquote>
<h4 data-id="heading-38">4.2.1 <strong>ç»‘å®šCPUå¤§æ ¸</strong></h4>
<p>åŸç†éƒ¨åˆ†å°±ç®€å•è¯´ä¸‹ï¼Œè¯»å– /sys/devices/system/cpu/cpu/cpufreq/cpuinfo_max_freq æ–‡ä»¶æ¥æ¯”è¾ƒæ¯ä¸ªæ ¸å¿ƒçš„æœ€å¤§é¢‘ç‡ï¼Œå°±å¯ä»¥æ‹¿åˆ°æœ€é«˜é¢‘ç‡çš„ CPU æ ¸å¿ƒç´¢å¼•ï¼Œç„¶åé€šè¿‡ sched_setaffinity å°†ä¸»çº¿ç¨‹ç»‘å®šåˆ° CPU å¤§æ ¸ä¸Šã€‚</p>
<p>æˆ‘ä»¬å°±ç€é‡çœ‹å®ç°éƒ¨åˆ†</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-comment">/**
 * è·å–æœ€é«˜é¢‘ç‡çš„ CPU æ ¸å¿ƒç´¢å¼•ï¼ˆå¤§æ ¸ï¼‰
 * é€šè¿‡è¯»å– /sys/devices/system/cpu/cpu/cpufreq/cpuinfo_max_freq æ–‡ä»¶æ¥æ¯”è¾ƒæ¯ä¸ªæ ¸å¿ƒçš„æœ€å¤§é¢‘ç‡
 *
 * @param env JNI ç¯å¢ƒ
 * @param clazz Java ç±»å¯¹è±¡
 * @return æœ€é«˜é¢‘ç‡æ ¸å¿ƒçš„ç´¢å¼•, å¦‚æœè·å–å¤±è´¥åˆ™è¿”å› -1
 */</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function">JNIEXPORT jint JNICALL
<span class="hljs-title">Java_com_studyh2g_androidstartupoptimizationdemo_jni_JniHelper_getMaxFreqCpuIndex</span><span class="hljs-params">(
        JNIEnv* env,
        jclass clazz)</span> </span>{
    <span class="hljs-comment">// ç»Ÿè®¡ CPU æ ¸å¿ƒæ•°é‡</span>
    <span class="hljs-type">int</span> cores = <span class="hljs-number">0</span>;
    DIR *dir;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">dirent</span> *ent;
    <span class="hljs-keyword">if</span>((dir = <span class="hljs-built_in">opendir</span>(<span class="hljs-string">"/sys/devices/system/cpu"</span>)) != <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">while</span>((ent = <span class="hljs-built_in">readdir</span>(dir)) != <span class="hljs-literal">NULL</span>) {
            std::string path = ent-&gt;d_name;
            <span class="hljs-comment">// æŸ¥æ‰¾ä»¥ "cpu" å¼€å¤´çš„ç›®å½•</span>
            <span class="hljs-keyword">if</span>(path.<span class="hljs-built_in">find</span>(<span class="hljs-string">"cpu"</span>) == <span class="hljs-number">0</span>) {
                <span class="hljs-type">bool</span> isCore = <span class="hljs-literal">true</span>;
                <span class="hljs-comment">// æ£€æŸ¥ "cpu" åé¢æ˜¯å¦å…¨æ˜¯æ•°å­—ï¼ˆæ’é™¤ cpufreqã€cpuidle ç­‰éæ ¸å¿ƒç›®å½•ï¼‰</span>
                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">3</span>; i &lt; path.<span class="hljs-built_in">length</span>(); i++) {
                    <span class="hljs-keyword">if</span>(path[i] &lt; <span class="hljs-string">'0'</span> || path[i] &gt; <span class="hljs-string">'9'</span>) {
                        isCore = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">break</span>;
                    }
                }
                <span class="hljs-keyword">if</span>(isCore) {
                    cores++;
                }
            }
        }
        <span class="hljs-built_in">closedir</span>(dir);
    }
    <span class="hljs-comment">// éå†æ‰€æœ‰æ ¸å¿ƒï¼Œæ‰¾å‡ºæœ€é«˜é¢‘ç‡çš„æ ¸å¿ƒ</span>
    <span class="hljs-type">int</span> maxFreq = <span class="hljs-number">-1</span>;
    <span class="hljs-type">int</span> maxFreqCoreIndex = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">if</span> (cores != <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; cores; i++) {
            <span class="hljs-comment">// è¯»å–æ¯ä¸ªæ ¸å¿ƒçš„æœ€å¤§é¢‘ç‡æ–‡ä»¶</span>
            std::string filename = <span class="hljs-string">"/sys/devices/system/cpu/cpu"</span> + std::<span class="hljs-built_in">to_string</span>(i) + <span class="hljs-string">"/cpufreq/cpuinfo_max_freq"</span>;
            <span class="hljs-function">std::ifstream <span class="hljs-title">cpuInfoMaxFreqFile</span><span class="hljs-params">(filename)</span></span>;
            <span class="hljs-keyword">if</span> (cpuInfoMaxFreqFile.<span class="hljs-built_in">is_open</span>()) {
                std::string line;
                <span class="hljs-keyword">if</span> (std::<span class="hljs-built_in">getline</span>(cpuInfoMaxFreqFile, line)) {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-type">int</span> freqBound = std::<span class="hljs-built_in">stoi</span>(line);
                        <span class="hljs-keyword">if</span> (freqBound &gt; maxFreq) {
                            maxFreq = freqBound;
                            maxFreqCoreIndex = i;
                        }
                    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::invalid_argument&amp; e) {
                        <span class="hljs-comment">// é¢‘ç‡å€¼è§£æå¤±è´¥ï¼Œè·³è¿‡</span>
                    }
                }
                cpuInfoMaxFreqFile.<span class="hljs-built_in">close</span>();
            }
        }
    }
    <span class="hljs-keyword">return</span> maxFreqCoreIndex;
}

<span class="hljs-comment">/**
 * å°†å½“å‰çº¿ç¨‹ç»‘å®šåˆ°æŒ‡å®šçš„ CPU æ ¸å¿ƒ
 * ç»‘å®šåï¼Œå½“å‰çº¿ç¨‹åªä¼šåœ¨æŒ‡å®šçš„æ ¸å¿ƒä¸Šè¿è¡Œï¼Œå¯ä»¥åˆ©ç”¨å¤§æ ¸æå‡æ€§èƒ½
 *
 * @param env JNI ç¯å¢ƒ
 * @param clazz Java ç±»å¯¹è±¡
 * @param coreNum è¦ç»‘å®šçš„ CPU æ ¸å¿ƒç´¢å¼•
 */</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function">JNIEXPORT <span class="hljs-type">void</span> JNICALL
<span class="hljs-title">Java_com_studyh2g_androidstartupoptimizationdemo_jni_JniHelper_bindToCore</span><span class="hljs-params">(
        JNIEnv* env,
        jclass clazz,
        jint coreNum)</span> </span>{
    <span class="hljs-type">cpu_set_t</span> mask;
    <span class="hljs-comment">// æ¸…ç©º CPU é›†åˆ</span>
    <span class="hljs-built_in">CPU_ZERO</span>(&amp;mask);
    <span class="hljs-comment">// å°†æŒ‡å®šæ ¸å¿ƒåŠ å…¥é›†åˆ</span>
    <span class="hljs-built_in">CPU_SET</span>(coreNum, &amp;mask);
    <span class="hljs-comment">// è·å–å½“å‰çº¿ç¨‹ ID</span>
    <span class="hljs-type">pid_t</span> tid = <span class="hljs-built_in">gettid</span>();
    <span class="hljs-comment">// è®¾ç½®çº¿ç¨‹çš„ CPU äº²å’Œæ€§ï¼ˆç»‘å®šåˆ°æŒ‡å®šæ ¸å¿ƒï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">sched_setaffinity</span>(tid, <span class="hljs-built_in">sizeof</span>(mask), &amp;mask) == <span class="hljs-number">-1</span>) {
        <span class="hljs-comment">// ç»‘å®šå¤±è´¥</span>
    }
}

<span class="hljs-comment">/**
 * è·å–å½“å‰çº¿ç¨‹ç»‘å®šçš„ CPU æ ¸å¿ƒåˆ—è¡¨
 * è¿”å›å½“å‰çº¿ç¨‹å…è®¸è¿è¡Œçš„æ‰€æœ‰ CPU æ ¸å¿ƒ
 *
 * @param env JNI ç¯å¢ƒ
 * @param clazz Java ç±»å¯¹è±¡
 * @return CPU æ ¸å¿ƒåˆ—è¡¨çš„å­—ç¬¦ä¸²ï¼Œå¦‚ "Current CPU affinity: 0 1 2 3 4 5 6 7 "
 */</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function">JNIEXPORT jstring JNICALL
<span class="hljs-title">Java_com_studyh2g_androidstartupoptimizationdemo_jni_JniHelper_getBoundCores</span><span class="hljs-params">(
        JNIEnv* env,
        jclass clazz)</span> </span>{
    <span class="hljs-type">cpu_set_t</span> mask;
    <span class="hljs-comment">// è·å–å½“å‰çº¿ç¨‹ ID</span>
    <span class="hljs-type">pid_t</span> tid = <span class="hljs-built_in">gettid</span>();
    <span class="hljs-comment">// è·å–å½“å‰çº¿ç¨‹ç»‘å®šçš„ CPU æ ¸å¿ƒåˆ—è¡¨ï¼ˆå¤±è´¥åˆ™è¿”å›é”™è¯¯ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">sched_getaffinity</span>(tid, <span class="hljs-built_in">sizeof</span>(mask), &amp;mask) == <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">return</span> env-&gt;<span class="hljs-built_in">NewStringUTF</span>(<span class="hljs-string">"Failed to get affinity"</span>);
    }
    std::string result = <span class="hljs-string">"Current CPU affinity: "</span>;
    <span class="hljs-comment">// éå†æ‰€æœ‰å¯èƒ½çš„ CPU æ ¸å¿ƒ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; CPU_SETSIZE; i++) {
        <span class="hljs-comment">// æ£€æŸ¥è¯¥æ ¸å¿ƒæ˜¯å¦åœ¨ç»‘å®šé›†åˆä¸­</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">CPU_ISSET</span>(i, &amp;mask)) {
            result += std::<span class="hljs-built_in">to_string</span>(i) + <span class="hljs-string">" "</span>;
        }
    }
    <span class="hljs-keyword">return</span> env-&gt;<span class="hljs-built_in">NewStringUTF</span>(result.<span class="hljs-built_in">c_str</span>());
}
</code></pre>
<p>ç„¶ååœ¨å¯åŠ¨çš„Activity#attachBaseContextä¸­è°ƒç”¨æ–¹æ³•å°±å¯ä»¥äº†</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-comment">/**
 * åœ¨åº”ç”¨å¯åŠ¨çš„æœ€æ—©æ—¶æœºå°†ä¸»çº¿ç¨‹ç»‘å®šåˆ° CPU å¤§æ ¸
 *
 * attachBaseContext æ˜¯ Activity ç”Ÿå‘½å‘¨æœŸä¸­æœ€æ—©æ‰§è¡Œçš„å›è°ƒï¼Œæ­¤æ—¶ä¸»çº¿ç¨‹è¿˜æœªå¼€å§‹æ‰§è¡Œç¹é‡çš„åˆå§‹åŒ–å·¥ä½œã€‚
 * å°†ä¸»çº¿ç¨‹ç»‘å®šåˆ°å¤§æ ¸å¯ä»¥å……åˆ†åˆ©ç”¨å¤§æ ¸çš„é«˜æ€§èƒ½ï¼Œå‡å°‘å¯åŠ¨è€—æ—¶ã€‚
 *
 * <span class="hljs-doctag">@param</span> newBase æ–°çš„ Context åŸºå¯¹è±¡
 */</span>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attachBaseContext</span><span class="hljs-params">(newBase: <span class="hljs-type">Context</span>?)</span></span> {
    <span class="hljs-keyword">super</span>.attachBaseContext(newBase)
    <span class="hljs-comment">// æ‰“å°ç»‘å®šå‰çš„ CPU æ ¸å¿ƒåˆ—è¡¨ï¼ˆç”¨äºéªŒè¯ï¼‰</span>
    Log.d(tag, <span class="hljs-string">"attachBaseContext before: <span class="hljs-subst">${JniHelper.getBoundCores()}</span>"</span>)
    <span class="hljs-comment">// è·å–æœ€é«˜é¢‘ç‡çš„ CPU æ ¸å¿ƒç´¢å¼•ï¼ˆå¤§æ ¸ï¼‰</span>
    <span class="hljs-keyword">val</span> maxFreqCpuIndex = JniHelper.getMaxFreqCpuIndex()
    <span class="hljs-keyword">if</span> (maxFreqCpuIndex != -<span class="hljs-number">1</span>) {
        <span class="hljs-comment">// å°†ä¸»çº¿ç¨‹ç»‘å®šåˆ°å¤§æ ¸</span>
        JniHelper.bindToCore(maxFreqCpuIndex)
        <span class="hljs-comment">// æ‰“å°ç»‘å®šåçš„ CPU æ ¸å¿ƒåˆ—è¡¨ï¼ˆç”¨äºéªŒè¯ç»‘å®šæ˜¯å¦æˆåŠŸï¼‰</span>
        Log.d(tag, <span class="hljs-string">"attachBaseContext after: <span class="hljs-subst">${JniHelper.getBoundCores()}</span>"</span>)
    }
}
</code></pre>
<p>æ—¥å¿—å¦‚ä¸‹ï¼š<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/502fde811c2544f4bdd9d65f8976bbf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=uF3Fn1armpaIQBPjWd%2B%2FIdFBmUc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è¯»è€…å¯æ‹‰å– feature/aggressive-bind-cpu åˆ†æ”¯ä»£ç è¿è¡Œçœ‹çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Ftree%2Ffeature%2Faggressive-bind-cpu" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/tree/feature/aggressive-bind-cpu" ref="nofollow noopener noreferrer">StudyH2g/AndroidStartupOptimizationDemo at feature/aggressive-bind-cpu</a>ï¼› å¦‚å¯¹JNIæ¥è§¦è¾ƒå°‘ï¼Œå¯å‚é˜…<a href="https://juejin.cn/post/7521250344129429556" target="_blank" title="https://juejin.cn/post/7521250344129429556">Android JNIå…¥é—¨ï¼šä»åŸºç¡€æ³¨å†Œåˆ°é›†æˆç¬¬ä¸‰æ–¹Soåº“åŠæºç åˆ†æ</a></p>
</blockquote>
<p>ç°åœ¨ä¸»çº¿ç¨‹å·²ç»ç»‘å®šåˆ°äº† CPU å¤§æ ¸ï¼Œä½†å¦‚æœä¸»çº¿ç¨‹ä¸€ç›´ç»‘å®šåˆ° CPU å¤§æ ¸ä¸Šï¼Œé‚£ä¹ˆå¯èƒ½ä¼š<strong>å¯¼è‡´åŠŸè€—å¼‚å¸¸å’Œç³»ç»Ÿè°ƒåº¦é—®é¢˜</strong>ï¼Œåç»­å¯ä»¥æ‰¾ä¸€ä¸ªæ°å½“çš„æ—¶æœºè§£é™¤ç»‘å®šã€‚</p>
<h4 data-id="heading-39">4.2.2 <strong>æŠ‘åˆ¶GC</strong></h4>
<p>åœ¨å¯åŠ¨æœŸé—´æŠ‘åˆ¶åƒåœ¾å›æ”¶ï¼ˆGCï¼‰ç†è®ºä¸Šå¯ä»¥å‡å°‘å› GCäº‹ä»¶å¯¼è‡´çš„çº¿ç¨‹åœé¡¿ï¼ˆStop-The-Worldï¼‰ï¼Œä»è€Œä¼˜åŒ–TTIDã€‚è¿™é€šå¸¸éœ€è¦é€šè¿‡ Inline Hookï¼ˆå¦‚ä½¿ç”¨ ShadowHook åº“ï¼‰æ‹¦æˆªARTè¿è¡Œæ—¶ä¸­è§¦å‘å¹¶å‘GCçš„å…³é”®å‡½æ•°ï¼ˆå¦‚ConcurrentGCTask::Runï¼‰æ¥å®ç°ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-type">static</span> <span class="hljs-type">void</span>* g_hook_stub = <span class="hljs-literal">nullptr</span>;

<span class="hljs-comment">// Hook å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">newFunc</span><span class="hljs-params">(<span class="hljs-type">void</span>* self)</span> </span>{
    <span class="hljs-built_in">SHADOWHOOK_STACK_SCOPE</span>();
    <span class="hljs-comment">// ä¼‘çœ 2ç§’</span>
    <span class="hljs-built_in">sleep</span>(<span class="hljs-number">2</span>);
    <span class="hljs-comment">// æ‰§è¡ŒåŸæ¥çš„ Run æ–¹æ³•</span>
    <span class="hljs-built_in">SHADOWHOOK_CALL_PREV</span>(newFunc, self);
}

<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function">JNIEXPORT jboolean JNICALL
<span class="hljs-title">Java_com_xxx_xxx_MainActivity_initGCHookNative</span><span class="hljs-params">(
        JNIEnv* env,
        jobject <span class="hljs-comment">/* this */</span>)</span> </span>{
    <span class="hljs-keyword">if</span> (g_hook_stub != <span class="hljs-literal">nullptr</span>) {
        <span class="hljs-keyword">return</span> JNI_TRUE;
    }

    <span class="hljs-comment">// å¼€å¯è°ƒè¯•æ—¥å¿—</span>
    <span class="hljs-built_in">shadowhook_set_debuggable</span>(<span class="hljs-literal">true</span>);

    <span class="hljs-comment">// åˆå§‹åŒ– ShadowHook</span>
    <span class="hljs-type">int</span> ret = <span class="hljs-built_in">shadowhook_init</span>(SHADOWHOOK_MODE_SHARED, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (ret != <span class="hljs-number">0</span> &amp;&amp; ret != <span class="hljs-number">2</span>) {
        <span class="hljs-built_in">LOGE</span>(<span class="hljs-string">"ShadowHook init failed: %d"</span>, ret);
        <span class="hljs-keyword">return</span> JNI_FALSE;
    }

    <span class="hljs-built_in">LOGI</span>(<span class="hljs-string">"ShadowHook initialized successfully"</span>);

    <span class="hljs-comment">// ä½¿ç”¨ shadowhook_hook_sym_name</span>
    g_hook_stub = <span class="hljs-built_in">shadowhook_hook_sym_name</span>(
            <span class="hljs-string">"libart.so"</span>,
            <span class="hljs-string">"_ZN3art2gc4Heap16ConcurrentGCTask3RunEPNS_6ThreadE"</span>,
            <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">void</span>*&gt;(&amp;newFunc),
            <span class="hljs-literal">nullptr</span>
    );

    <span class="hljs-keyword">if</span> (g_hook_stub == <span class="hljs-literal">nullptr</span>) {
        <span class="hljs-type">int</span> error_num = <span class="hljs-built_in">shadowhook_get_errno</span>();
        <span class="hljs-type">const</span> <span class="hljs-type">char</span>* error_msg = <span class="hljs-built_in">shadowhook_to_errmsg</span>(error_num);
        <span class="hljs-built_in">LOGE</span>(<span class="hljs-string">"Hook failed: %d - %s"</span>, error_num, error_msg);
        <span class="hljs-keyword">return</span> JNI_FALSE;
    }

    <span class="hljs-type">int</span> error_num = <span class="hljs-built_in">shadowhook_get_errno</span>();
    <span class="hljs-keyword">if</span> (error_num == <span class="hljs-number">0</span>) {
        <span class="hljs-built_in">LOGI</span>(<span class="hljs-string">"GC Hook successful!"</span>);
        <span class="hljs-keyword">return</span> JNI_TRUE;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (error_num == <span class="hljs-number">1</span>) {
        <span class="hljs-built_in">LOGI</span>(<span class="hljs-string">"GC Hook pending (libart.so not loaded yet)"</span>);
        <span class="hljs-keyword">return</span> JNI_TRUE;
    }

    <span class="hljs-keyword">return</span> JNI_FALSE;
}
</code></pre>
<p>æœ¬å°èŠ‚ä»£ç è¯·ä¸è¦ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ˜¯ç”¨äºå±•ç¤ºä¸€ç§ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦çš„æ–¹å¼ï¼Œè¯·è¯»è€…ä¸€å®šè¦åœ¨å……åˆ†æµ‹è¯•çš„æƒ…å†µä¸‹ï¼Œå†è€ƒè™‘ç”¨æŠ‘åˆ¶ GC çš„æ–¹å¼ã€‚</p>
<blockquote>
<p>ShadowHookè¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·é˜…è¯» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbytedance%2Fandroid-inline-hook%2Fblob%2Fmain%2Fdoc%2Fmanual.zh-CN.md" target="_blank" title="https://github.com/bytedance/android-inline-hook/blob/main/doc/manual.zh-CN.md" ref="nofollow noopener noreferrer">shadowhook æ‰‹å†Œ</a></p>
</blockquote>
<h4 data-id="heading-40">4.2.3 <strong>æé«˜æ ¸å¿ƒçº¿ç¨‹ä¼˜å…ˆçº§</strong></h4>
<p>Android 5å¼€å§‹ï¼Œä¸»çº¿ç¨‹è´Ÿè´£æµ‹é‡å’Œå¸ƒå±€ï¼Œæ¸²æŸ“åˆ™ç”±ç‹¬ç«‹çš„æ¸²æŸ“çº¿ç¨‹ï¼ˆRenderThreadï¼‰è´Ÿè´£ã€‚ç†è®ºä¸Šï¼Œæé«˜è¿™ä¸¤ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§å¯ä»¥è®©å®ƒä»¬è·å¾—æ›´å¤šCPUæ—¶é—´ï¼Œä»è€ŒåŠ é€Ÿå¯åŠ¨ã€‚</p>
<h5 data-id="heading-41">å®ç°åŸç†</h5>
<ol>
<li><strong>ä¸»çº¿ç¨‹</strong>ï¼šåœ¨ <strong>attachBaseContext</strong> ä¸­ç›´æ¥è®¾ç½®ä¼˜å…ˆçº§</li>
<li><strong>æ¸²æŸ“çº¿ç¨‹</strong>ï¼šéœ€è¦å…ˆè·å–å…¶çº¿ç¨‹IDï¼ˆTIDï¼‰ï¼Œç„¶åè®¾ç½®ä¼˜å…ˆçº§</li>
</ol>
<h5 data-id="heading-42">å…³é”®ä»£ç å®ç°</h5>
<p><strong>1. æé«˜ä¸»çº¿ç¨‹ä¼˜å…ˆçº§</strong></p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attachBaseContext</span><span class="hljs-params">(newBase: <span class="hljs-type">Context</span>?)</span></span> {
    <span class="hljs-keyword">super</span>.attachBaseContext(newBase)
    Process.setThreadPriority(startupPriority)
}
</code></pre>
<p><strong>2. æé«˜æ¸²æŸ“çº¿ç¨‹ä¼˜å…ˆçº§çš„ä¸¤ç§æ–¹æ¡ˆ</strong></p>
<p><strong>æ–¹æ¡ˆ1ï¼šä¸»åŠ¨è½®è¯¢ï¼ˆæ›´æ—©è®¾ç½®ï¼‰</strong></p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-comment">/**
 * æ–¹æ¡ˆ1ï¼šé€šè¿‡å¤šæ¬¡å°è¯•ä¸»åŠ¨æŸ¥æ‰¾ RenderThread æ¥è®¾ç½®ä¼˜å…ˆçº§
 * åœ¨ RenderThread åˆ›å»ºä¹‹å‰çš„ä»»ä½•æ—¶æœºéƒ½å¯èƒ½è°ƒç”¨ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±å®šæ—¶é‡è¯•
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">trySetupRenderThreadPriority</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æ¡ä»¶ï¼šæœ€å¤šå°è¯•xæ¬¡ï¼Œä¸”æœªè®¾ç½®æˆåŠŸ</span>
    <span class="hljs-keyword">if</span> (renderThreadSetupAttempt++ &lt; attemptTimes &amp;&amp; !renderThreadPrioritySet) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> tid = getRenderThreadTid()
            <span class="hljs-keyword">if</span> (tid != -<span class="hljs-number">1</span>) {
                Process.setThreadPriority(tid, startupPriority)
                renderThreadPrioritySet = <span class="hljs-literal">true</span>
                Log.d(tag, <span class="hljs-string">"æ–¹æ¡ˆ1ï¼šæˆåŠŸè®¾ç½®æ¸²æŸ“çº¿ç¨‹ä¼˜å…ˆçº§: <span class="hljs-variable">$startupPriority</span> (ç¬¬<span class="hljs-subst">${renderThreadSetupAttempt}</span>æ¬¡å°è¯•)"</span>)
                <span class="hljs-comment">// æˆåŠŸè®¾ç½®åï¼Œå¯è®¾ç½®ä¸€ä¸ªè¾ƒæ™šçš„å…œåº•æ¢å¤ï¼ˆå¦‚5ç§’åï¼‰ï¼Œç¡®ä¿ç³»ç»Ÿå¥åº·</span>
                handler.postDelayed({ safelyResetPriority() }, <span class="hljs-number">5000</span>)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å¦‚æœæ²¡æ‰¾åˆ°ï¼Œ16msåé‡è¯•ï¼ˆçº¦ä¸€å¸§æ—¶é—´ï¼‰</span>
                handler.postDelayed(::trySetupRenderThreadPriority, <span class="hljs-number">16</span>)
                Log.d(tag, <span class="hljs-string">"æ–¹æ¡ˆ1ï¼šç¬¬<span class="hljs-subst">${renderThreadSetupAttempt}</span>æ¬¡å°è¯•ï¼šæœªæ‰¾åˆ°æ¸²æŸ“çº¿ç¨‹ï¼Œç¨åé‡è¯•"</span>)
            }
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Log.e(tag, <span class="hljs-string">"æ–¹æ¡ˆ1ï¼šè®¾ç½®æ¸²æŸ“çº¿ç¨‹ä¼˜å…ˆçº§æ—¶å‘ç”Ÿå¼‚å¸¸"</span>, e)
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!renderThreadPrioritySet) {
        Log.w(tag, <span class="hljs-string">"æ–¹æ¡ˆ1ï¼šå·²è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œæœªèƒ½è®¾ç½®æ¸²æŸ“çº¿ç¨‹ä¼˜å…ˆçº§"</span>)
    }
}
<span class="hljs-comment">// åœ¨onCreateä¸­è°ƒç”¨</span>
</code></pre>
<p><strong>æ–¹æ¡ˆ2ï¼šç­‰å¾…é¦–å¸§ç»˜åˆ¶åï¼ˆæ›´å¯é ï¼‰</strong></p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">window.decorView.viewTreeObserver.addOnPreDrawListener {
    <span class="hljs-keyword">val</span> tid = getRenderThreadTid()
    <span class="hljs-keyword">if</span> (tid != -<span class="hljs-number">1</span>) {
        Process.setThreadPriority(tid, startupPriority)
    }
}
</code></pre>
<p><strong>3. æ¢å¤ä¼˜å…ˆçº§</strong></p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">restorePriorities</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æ¢å¤ä¸»çº¿ç¨‹</span>
    Process.setThreadPriority(Process.THREAD_PRIORITY_DEFAULT)
    
    <span class="hljs-comment">// æ¢å¤æ¸²æŸ“çº¿ç¨‹</span>
    <span class="hljs-keyword">val</span> tid = getRenderThreadTid()
    <span class="hljs-keyword">if</span> (tid != -<span class="hljs-number">1</span>) {
        Process.setThreadPriority(tid, Process.THREAD_PRIORITY_DEFAULT)
    }
}
<span class="hljs-comment">// åœ¨é¦–å¸§ç»˜åˆ¶å®Œæˆåè°ƒç”¨</span>
</code></pre>
<p><strong>4. è·å–æ¸²æŸ“çº¿ç¨‹TIDçš„å·¥å…·å‡½æ•°</strong></p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">import</span> android.os.Process
<span class="hljs-keyword">import</span> java.io.BufferedReader
<span class="hljs-keyword">import</span> java.io.File
<span class="hljs-keyword">import</span> java.io.FileReader

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getRenderThreadTid</span><span class="hljs-params">()</span></span> : <span class="hljs-built_in">Int</span> {
   <span class="hljs-keyword">val</span> taskParentDir = File(<span class="hljs-string">"/proc/"</span> + Process.myPid() + <span class="hljs-string">"/task/"</span>)
   <span class="hljs-keyword">if</span> (taskParentDir.isDirectory()) {
       <span class="hljs-keyword">val</span> taskFiles = taskParentDir.listFiles()
       taskFiles?.let {
           <span class="hljs-keyword">for</span> (taskFile <span class="hljs-keyword">in</span> it) {
               <span class="hljs-keyword">var</span> br : BufferedReader? = <span class="hljs-literal">null</span>
               <span class="hljs-keyword">var</span> line: String?
               <span class="hljs-keyword">try</span> {
                   br = BufferedReader(FileReader(taskFile.getPath() + <span class="hljs-string">"/stat"</span>), <span class="hljs-number">100</span>)
                   line = br.readLine()
                   <span class="hljs-keyword">if</span> (line.isNotEmpty()) {
                       <span class="hljs-keyword">val</span> param = line.split(<span class="hljs-string">" "</span>)
                       <span class="hljs-keyword">if</span> (param.size &lt; <span class="hljs-number">2</span>) {
                           <span class="hljs-keyword">continue</span>
                       }
                       <span class="hljs-keyword">val</span> threadName: String = param[<span class="hljs-number">1</span>]
                       <span class="hljs-keyword">if</span> (threadName.contains(<span class="hljs-string">"RenderThread"</span>)) {
                           <span class="hljs-keyword">return</span> param[<span class="hljs-number">0</span>].toInt()
                       }
                   }
               } <span class="hljs-keyword">catch</span> (e : Exception) {

               } <span class="hljs-keyword">finally</span> {
                   br?.close()
               }
           }
       }
   }
   <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
}
</code></pre>
<p>å†æ¬¡æé†’ï¼Œä½¿ç”¨æ¿€è¿›ä¼˜åŒ–ä¸­çš„æ‰‹æ®µæ—¶ï¼Œè¯·è¿›è¡Œå……åˆ†çš„æµ‹è¯•åï¼Œå†è€ƒè™‘ä¸Šç”Ÿäº§ç¯å¢ƒã€‚</p>
<blockquote>
<p>è¯¦ç»†ä»£ç è¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStudyH2g%2FAndroidStartupOptimizationDemo%2Ftree%2Ffeature%2Faggressive-thread-priority" target="_blank" title="https://github.com/StudyH2g/AndroidStartupOptimizationDemo/tree/feature/aggressive-thread-priority" ref="nofollow noopener noreferrer">StudyH2g/AndroidStartupOptimizationDemo at feature/aggressive-thread-priority</a></p>
</blockquote>
<h3 data-id="heading-43">4.3 ä¼˜åŒ–ç”¨æˆ·æ„Ÿå®˜ä½“éªŒ</h3>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæ­¤ç§æ–¹å¼<strong>ä¸ä¼šä¼˜åŒ–å¯åŠ¨é€Ÿåº¦</strong>ï¼Œåªæ˜¯ä¼˜åŒ–ç”¨æˆ·æ„Ÿå®˜ä½“éªŒã€‚</p>
<h4 data-id="heading-44">4.3.1 ä¸»é¢˜åˆ‡æ¢: ä¼˜åŒ–ç©ºç™½Window</h4>
<p>åœ¨å¯åŠ¨æµç¨‹ä¸­ï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºç™½çª—å£ã€‚æ—¶åºå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ccfadc265db4a1e8cb119fc2fd6b370~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=9rxj0qtrLTgZJpig7RnLGNfFxzc%3D" alt="image.png" loading="lazy"/></p>
<p>ActivityStarter#recycleTaskä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-Java" lang="Java">    <span class="hljs-comment">// ActivityStarter#recycleTask</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">recycleTask</span><span class="hljs-params">()</span> {
        ...
        <span class="hljs-keyword">if</span> (mMovedToFront) {
            <span class="hljs-comment">// å†·å¯åŠ¨ mMovedToFront ä¸º true, æ˜¾ç¤ºç©ºç™½çª—å£</span>
            targetTaskTop.showStartingWindow(<span class="hljs-literal">true</span> <span class="hljs-comment">/* taskSwitch */</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mDoResume) {
            <span class="hljs-comment">// Make sure the root task and its belonging display are moved to topmost.</span>
            mTargetRootTask.moveToFront(<span class="hljs-string">"intentActivityFound"</span>);
        }
        ...
    }
</code></pre>
<p>å®ƒçš„è°ƒç”¨æ˜¯åœ¨ Application#onCreate ä¹‹å‰çš„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¼ å›¾ç‰‡æ¥æ›¿æ¢æ‰è¿™ä¸ªç©ºç™½Windowï¼Œä»è€Œé¿å…ç™½å±ï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚é‚£ä¹ˆä¸‹é¢å°±è¯¦ç»†è¯´æ˜å…·ä½“åšæ³•ï¼š</p>
<p>é¦–å…ˆå®šä¹‰è¦æ˜¾ç¤ºçš„å›¾ç‰‡</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">layer-list</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">"@android:color/white"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">bitmap</span>
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
            <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@drawable/ic_xxx"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">layer-list</span>&gt;</span>
</code></pre>
<p>å†å®šä¹‰å¯åŠ¨çš„ä¸»é¢˜</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Theme.Launcher"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"android:Theme.Material.Light.NoActionBar"</span> &gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBackground"</span>&gt;</span>@drawable/ic_start_xxx<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>åç»­å°†Manifestä¸­çš„ä¸»é¢˜æ›¿æ¢ä¸ºå¯åŠ¨ä¸»é¢˜</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">application</span>
        <span class="hljs-attr">...</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/Theme.Launcher"</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<p>æœ€åæˆ‘ä»¬åœ¨å¯åŠ¨çš„é¦–ä¸ª Activity#onCreateï¼Œè®¾ç½®ä¸ºåŸæœ¬çš„ä¸»é¢˜ï¼Œæ³¨æ„è¦<strong>åœ¨ super.onCreate ä¹‹å‰</strong>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// è®¾ç½®ä¸ºåŸæœ¬çš„ä¸»é¢˜</span>
        setTheme(R.style.Theme_xxx)
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContent {
            xxx
        }
    }
}
</code></pre>
<p>è¿™æ ·åšäº†ä¹‹åï¼Œè¿™ä¸ªç©ºç™½windowå°±ä¼šå˜æˆæˆ‘ä»¬è®¾ç½®çš„å›¾ç‰‡äº†ã€‚</p>
<p><strong>ä½¿ç”¨</strong>ä¸»é¢˜åˆ‡æ¢ä¼˜åŒ–ç©ºç™½å¼¹çª—æ•ˆæœï¼š<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be5df355f3d64e4cbd3eea010e30add2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=wWF%2BqfX2I8OmI8fSBcypw836Xqo%3D" alt="demo (online-video-cutter.com).gif" loading="lazy"/><br/>
ä¸ºäº†æ›´å¥½çš„çœ‹ä¼˜åŒ–æ•ˆæœï¼Œæ­¤å¤„å»¶è¿Ÿäº†1.5Sæ˜¾ç¤ºå†…å®¹</p>
<p>å†æ¬¡æé†’ï¼Œè¿™ç§æ–¹å¼ä»…ä»…ä¼˜åŒ–äº†ç©ºç™½windowï¼Œå¹¶<strong>ä¸ä¼šä¼˜åŒ–å¯åŠ¨é€Ÿåº¦</strong>ã€‚</p>
<h4 data-id="heading-45">4.3.2 éª¨æ¶å±</h4>
<p>éª¨æ¶å±å°±æ˜¯æ­£å¸¸é¡µé¢çš„ä¸å¸¦æ•°æ®æ˜¾ç¤ºçš„ç©ºç™½ç‰ˆæœ¬ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ç°è‰²å—æ¥æ˜¾ç¤ºå¤§ä½“çš„å¤–å½¢ã€‚é€šè¿‡ä½¿ç”¨éª¨æ¶å±ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ç”¨æˆ·æ„Ÿå®˜ä½“éªŒï¼Œä»è€Œæé«˜ç”¨æˆ·çš„ç•™å­˜ç‡å’Œæ—¥æ´»ã€‚</p>
<p><strong>éª¨æ¶å±çš„å®ç°æ ¹æ®å¯¹è§†è§‰è¿˜åŸåº¦çš„è¦æ±‚ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š</strong> æ¨¡å—å¼éª¨æ¶å±ã€çœŸå®UIå¼éª¨æ¶å±</p>
<h5 data-id="heading-46">æ¨¡å—å¼éª¨æ¶å±</h5>
<p>ä¾§é‡äºå†…å®¹æ¨¡å—çš„<strong>å¸ƒå±€ä½ç½®</strong>ï¼Œä½¿ç”¨ç®€å•çš„ç°è‰²è‰²å—æ„æˆé¡µé¢æ¡†æ¶ã€‚å…¶ä¼˜åŠ¿åœ¨äºå®ç°ç®€å•ã€å¤ç”¨æ€§é«˜ï¼Œå¯ä»¥å¿«é€Ÿæå‡ç”¨æˆ·æ„Ÿå®˜ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d1176182c8b4c6484a947f628d5ae13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=SACNzjVr2khHI17%2FSXZJnF86%2FUM%3D" alt="modelScreen.gif" loading="lazy"/></p>
<h5 data-id="heading-47">çœŸå®UIå¼éª¨æ¶å±</h5>
<p>åœ¨å†…å®¹åŠ è½½å‰ï¼Œæ˜¾ç¤ºä¸æœ€ç»ˆç•Œé¢<strong>é«˜åº¦ä¸€è‡´çš„è§†è§‰æ ·å¼</strong>ï¼ŒåŒ…æ‹¬å›¾æ ‡ã€é—´è·ç­‰ç»†èŠ‚ã€‚è¿™ç§æ–¹æ¡ˆèƒ½æä¾›ä¸æ»‘çš„è¿‡æ¸¡ä½“éªŒï¼Œä½†å®ç°å’Œç»´æŠ¤æˆæœ¬ä¹Ÿç›¸åº”æ›´é«˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba06e458e3e43758789e88ed3d92495~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=ig1CkhuuIu3JaAijYJ1WUnY93rQ%3D" alt="SkeScreen.gif" loading="lazy"/></p>
<p>æ¨¡å—éª¨æ¶å±å’ŒçœŸå®UIéª¨æ¶å±åœ¨å®ç°æ–¹å¼ä¸Šæ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯å®ç°çš„ç»†èŠ‚ç¨‹åº¦çš„ä¸åŒã€‚æˆ‘ä»¬å°±çœ‹çœ‹æ€ä¹ˆå®ç°Composeæ¨¡å—å±</p>
<h5 data-id="heading-48">å®ç°éª¨æ¶å±</h5>
<p>è¿™é‡Œä»‹ç»ä¸‹å¸¦é—ªçƒæ•ˆæœçš„éª¨æ¶å±ï¼Œç›´æ¥çœ‹ä»£ç å§</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shimmerBrush</span><span class="hljs-params">()</span></span>: Brush {
    <span class="hljs-comment">// å®šä¹‰æ¸å˜è‰²</span>
    <span class="hljs-keyword">val</span> gradient = listOf(
        Color.LightGray.copy(alpha = <span class="hljs-number">0.6f</span>),
        Color.LightGray.copy(alpha = <span class="hljs-number">0.2f</span>),
        Color.LightGray.copy(alpha = <span class="hljs-number">0.6f</span>)
    )
    <span class="hljs-comment">// åˆ›å»ºæ— é™å¹³ç§»çš„åŠ¨ç”»</span>
    <span class="hljs-keyword">val</span> transition = rememberInfiniteTransition(label = <span class="hljs-string">"shimmer"</span>)
    <span class="hljs-keyword">val</span> translateAnimation = transition.animateFloat(
        initialValue = <span class="hljs-number">0f</span>,
        targetValue = <span class="hljs-number">1000f</span>,
        animationSpec = infiniteRepeatable(
            animation = tween(durationMillis = <span class="hljs-number">1000</span>, easing = LinearEasing),
            repeatMode = RepeatMode.Restart
        ),
        label = <span class="hljs-string">"shimmerTranslation"</span>
    )
    <span class="hljs-comment">// è¿”å›è®¡ç®—å¥½çš„ Brush</span>
    <span class="hljs-keyword">return</span> Brush.linearGradient(
        colors = gradient,
        start = Offset(x = translateAnimation.value - <span class="hljs-number">500</span>, y = <span class="hljs-number">0f</span>),
        end = Offset(x = translateAnimation.value, y = <span class="hljs-number">100f</span>)
    )
}
</code></pre>
<p>ä¸Šé¢æˆ‘ä»¬å°±å®šä¹‰å¥½äº†ä¸€ä¸ªä»å·¦åˆ°å³çš„æ¸å˜çš„é—ªçƒæ•ˆæœã€‚ç„¶åæˆ‘ä»¬åªè¦åœ¨Modifier.
drawWithCacheä½¿ç”¨å®ƒå°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SkeletonBox</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> shimmerBrush = shimmerBrush()

    Box(
        modifier = Modifier
            .fillMaxWidth()
            .height(<span class="hljs-number">62.</span>dp)
            .clip(RoundedCornerShape(<span class="hljs-number">60</span>))
            .drawWithCache {
                onDrawBehind { drawRect(brush = shimmerBrush) }
            }
    )
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/610d8045835344a198e7caa4687dc8b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5YWJ6Les5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770973656&amp;x-signature=SeWDZavzpvCdmraW%2BC6PG2EYlFw%3D" alt="Screen_recording_20260130_143741 (online-video-cutter.com).gif" loading="lazy"/></p>
<p>æˆ‘ä»¬ç°åœ¨å°±å·²ç»å®ç°äº†ä¸€ä¸ªå¸¦é—ªçƒæ•ˆæœçš„æŒ‰é’®äº†ã€‚ç”±äºé¡µé¢å¸ƒå±€å„å¼‚ï¼Œæ ¸å¿ƒæ˜¯å®ç° shimmerBrush å¹¶åº”ç”¨äºModifierã€‚å¤§å®¶å¯æ ¹æ®è‡ªèº«UIç»“æ„å¤ç”¨æ­¤æ–¹æ³•ã€‚</p>
<p>è€Œåœ¨é¡µé¢ä¸­è‚¯å®šä¼šæœ‰å¤šä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡çŠ¶æ€æå‡ï¼Œå…±ç”¨ä¸€ä¸ªshimmerBrush</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SkeletonModel</span><span class="hljs-params">(navController: <span class="hljs-type">NavController</span>)</span></span> {
    <span class="hljs-comment">// å…±ç”¨ shimmerBrush</span>
    <span class="hljs-keyword">val</span> shimmerBrush = shimmerBrush()
    Column(modifier = Modifier
        .padding(horizontal = <span class="hljs-number">16.</span>dp)
        .verticalScroll(rememberScrollState())
    ) {
        Spacer(modifier = Modifier.height(<span class="hljs-number">12.</span>dp))
        <span class="hljs-comment">// 1</span>
        ProductBrushItem(shimmerBrush)
        Spacer(modifier = Modifier.height(<span class="hljs-number">12.</span>dp))
        <span class="hljs-comment">// 2</span>
        AmountBrushItem(shimmerBrush)
        Spacer(modifier = Modifier.height(<span class="hljs-number">12.</span>dp))
        <span class="hljs-comment">// 3</span>
        ButtonBrushItem(shimmerBrush)
    }
}
</code></pre>
<p>è¿˜æœ‰ä¸€ç‚¹æ˜¯ï¼Œé¡µé¢ä¸­æ•°æ®åŠ è½½å‰åï¼Œç»„ä»¶æ²¡æœ‰å˜åŒ– æˆ– æœ‰æ˜ç¡®å«ä¹‰çš„ï¼Œå¯ä»¥ç›´æ¥ç”¨å®ƒä»¬ æˆ– å®ƒä»¬ä»£è¡¨çš„å«ä¹‰ã€‚æ¯”å¦‚ä¸Šé¢ç¤ºä¾‹ App ä¸­ï¼ŒChoose a loan productæ–‡æ¡ˆï¼ŒæŒ‰é’®ä¸‹é¢çš„ Terms &amp; Service and Privacy Policyéƒ½ç›´æ¥ç”¨çš„å®ƒä»¬ï¼Œå› ä¸ºåŠ è½½æ•°æ®å‰åæ— å˜åŒ–ï¼Œè€Œmin amount å’Œ max amountåˆ™æ˜¯é€‰æ‹©äº§å“çš„æœ€å°/å¤§å€¼çš„å«ä¹‰ã€‚</p>
<p>æœ€åè¯´è¯´é€‰æ‹©é¡µé¢çš„å‡†åˆ™ï¼šä¸ªäººè®¤ä¸ºåº”ä¼˜å…ˆé€‰æ‹©ç”¨æˆ·æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œæœ€é¢‘ç¹çš„é‚£ä¸ªé¡µé¢ï¼ˆæ¯”å¦‚è´­ç‰©è½¯ä»¶çš„é¦–é¡µï¼‰ï¼Œè€Œæ¬¡çº§çš„é¡µé¢ï¼Œå¯ä»¥å…ˆå®ç°æ¨¡å—çº§éª¨æ¶å±ï¼Œåç»­å†è€ƒè™‘æ”¹è¿›ã€‚</p>
<h2 data-id="heading-49">äº”ã€æ€»ç»“</h2>
<p>ä¼˜åŒ–å†·å¯åŠ¨ï¼ŒÂ å¯ä»¥æŒ‰<strong>æµ‹é‡-åˆ†æ-ä¼˜åŒ–-éªŒè¯</strong> è¿™æ ·çš„ç¯èŠ‚å»è¿›è¡Œ</p>
<ul>
<li><strong>æµ‹é‡</strong>ï¼šåˆ†æ¸…TTIDï¼ˆç¬¬ä¸€å¸§ï¼‰ä¸TTFDï¼ˆå¯äº¤äº’ï¼‰ï¼Œç”¨å¯é å·¥å…·ï¼ˆå¦‚è„šæœ¬ï¼‰è·å–ä¼˜åŒ–å‰åæ•°æ®ã€‚</li>
<li><strong>åˆ†æ</strong>ï¼šå¼„æ¸…æ¥šå†·å¯åŠ¨æ¶‰åŠåˆ°çš„æ‰€æœ‰ç¯èŠ‚ï¼Œå³<strong>ä»£ç å±‚ã€ç¼–è¯‘å±‚ã€ä½“éªŒå±‚ã€ç³»ç»Ÿå±‚</strong> ã€‚</li>
<li><strong>ä¼˜åŒ–</strong>ï¼šåˆ†å±‚ä¼˜åŒ–ï¼Œå»ºè®®å…ˆä»æ”¶æ•›Providerã€åˆå§‹åŒ–ä¼˜åŒ–å’Œä»»åŠ¡è°ƒåº¦åšèµ·ï¼ŒåŠ¡å¿…ç”¨ä¸ŠåŸºå‡†é…ç½®å’Œå¯åŠ¨é…ç½®ï¼›æ¨èä½¿ç”¨æ„Ÿå®˜ä¼˜åŒ–æ‰‹æ®µï¼›æ¿€è¿›æ–¹å¼è¯·æ…é‡è¯„ä¼°åœºæ™¯ä¸é£é™©ï¼Œå¹¶è¿›è¡Œå……åˆ†æµ‹è¯•åå†è€ƒè™‘ä½¿ç”¨ã€‚</li>
<li><strong>éªŒè¯</strong>ï¼šå¯¹ä¼˜åŒ–å‰åè¿›è¡Œæµ‹è¯•ï¼ŒéªŒè¯ä¼˜åŒ–æ•ˆæœã€‚<strong>ï¼ˆåœ¨æˆ‘ä¸»å¯¼çš„é¡¹ç›®ä¸­ï¼Œé€šè¿‡å®è·µè¿™ä¸€é—­ç¯ï¼Œæˆ‘ä»¬å°†å†·å¯åŠ¨çš„P50æ—¶é—´æˆåŠŸé™ä½äº†24%ã€‚ï¼‰</strong></li>
</ul>
<p>æ„Ÿè°¢é˜…è¯»ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œ<strong>å¦‚æœ‰ä»»ä½•ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£</strong>ã€‚</p>
<h2 data-id="heading-50">å…­ã€å‚è€ƒèµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Ftopic%2Fperformance%2Fvitals%2Flaunch-time%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/topic/performance/vitals/launch-time?hl=zh-cn" ref="nofollow noopener noreferrer">åº”ç”¨å¯åŠ¨æ—¶é—´</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Ftopic%2Fperformance%2Fbenchmarking%2Fmacrobenchmark-overview%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/topic/performance/benchmarking/macrobenchmark-overview?hl=zh-cn" ref="nofollow noopener noreferrer">Jetpack Macrobenchmark</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Ftopic%2Flibraries%2Fapp-startup%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/topic/libraries/app-startup?hl=zh-cn" ref="nofollow noopener noreferrer">App Startup</a></li>
<li>ã€ŠAndroidæ€§èƒ½ä¼˜åŒ–ä¹‹é“ï¼šä»åº•å±‚åŸç†åˆ°ä¸€çº¿å®è·µã€‹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FvW6-zag2CKrFgcYAPdeUFg" target="_blank" title="https://mp.weixin.qq.com/s/vW6-zag2CKrFgcYAPdeUFg" ref="nofollow noopener noreferrer">Appå†·å¯åŠ¨ä¼˜åŒ–æµ‹è¯•å¹²è´§åˆ†äº«ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcoding.imooc.com%2Fclass%2F308.html" target="_blank" title="https://coding.imooc.com/class/308.html" ref="nofollow noopener noreferrer">Topå›¢é˜Ÿå¤§ç‰›å¸¦ä½ ç©è½¬Androidæ€§èƒ½åˆ†æä¸ä¼˜åŒ–</a></li>
<li><a href="https://juejin.cn/post/7287083662758379554" target="_blank" title="https://juejin.cn/post/7287083662758379554">å¸¸ç”¨ JSON åº“æ€§èƒ½å¯¹æ¯”: Gson VS Moshi VS Kotlin Serialization VS ...</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Subscription ç®¡ç†]]></title>    <link>https://juejin.cn/post/7603321550247149618</link>    <guid>https://juejin.cn/post/7603321550247149618</guid>    <pubDate>2026-02-06T09:17:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603321550247149618" data-draft-id="7603359026711330826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Subscription ç®¡ç†"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T09:17:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Subscription ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:17:50.000Z" title="Fri Feb 06 2026 09:17:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-1">ä»€ä¹ˆæ˜¯ Subscriptionï¼ˆè®¢é˜…ï¼‰ï¼Ÿ</h4>
<p><strong>Subscription</strong> æ˜¯å¯¹è®¾å¤‡ä¸Šå•ä¸ª SIM å¡æˆ– eSIM çš„é€»è¾‘è¡¨ç¤ºã€‚æ¯ä¸ª Subscription éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ <strong>SubId</strong>ï¼ˆSubscription IDï¼‰ï¼Œç”¨æ¥æ ‡è¯†è¯¥è®¢é˜…åœ¨ç³»ç»Ÿä¸­çš„èº«ä»½ã€‚</p>
<p>å…³é”®æ¦‚å¿µï¼š</p>
<ul>
<li><strong>SubId</strong>ï¼šè®¢é˜…çš„é€»è¾‘æ ‡è¯†ç¬¦ï¼ˆæ•´æ•°ï¼‰ï¼Œç”¨äºåº”ç”¨å±‚å’Œæ¡†æ¶å±‚é€šä¿¡</li>
<li><strong>PhoneId</strong>ï¼šç‰©ç†è°ƒåˆ¶è§£è°ƒå™¨çš„ç´¢å¼•ï¼Œä¹Ÿç§°ä¸ºé€»è¾‘ SIM å¡æ§½ç´¢å¼•</li>
<li><strong>IccId</strong>ï¼šSIM å¡çš„é›†æˆç”µè·¯å¡æ ‡è¯†ç¬¦ï¼ˆé›†æˆç”µè·¯å¡å·ï¼‰</li>
<li><strong>Active Subscription</strong>ï¼šå½“å‰åœ¨ SIM å¡æ§½ä¸­åŠ è½½å¹¶å¯ç”¨çš„è®¢é˜…</li>
</ul>
<h4 data-id="heading-2">Subscription çš„ç±»å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœ¬åœ° SIMï¼šç‰©ç† SIM æˆ– eSIM</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SUBSCRIPTION_TYPE_LOCAL_SIM</span> <span class="hljs-operator">=</span> SimInfo.SUBSCRIPTION_TYPE_LOCAL_SIM;

<span class="hljs-comment">// è¿œç¨‹ SIMï¼šé€šè¿‡è“ç‰™ç­‰è¿æ¥çš„å¤–éƒ¨è®¾å¤‡çš„ SIM</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SUBSCRIPTION_TYPE_REMOTE_SIM</span> <span class="hljs-operator">=</span> SimInfo.SUBSCRIPTION_TYPE_REMOTE_SIM;
</code></pre>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ•°æ®æ¨¡å‹</h3>
<h4 data-id="heading-4">SubscriptionInfoï¼ˆå…¬å¼€ API ç±»ï¼‰</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">38</span>:<span class="hljs-number">65</span>:frameworks_base/telephony/java/android/telephony/SubscriptionInfo.java
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mId;                           <span class="hljs-comment">// SubId</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mIccId;                     <span class="hljs-comment">// SIM å¡å·</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mSimSlotIndex;                 <span class="hljs-comment">// SIM æ§½ä½ç´¢å¼•</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> CharSequence mDisplayName;         <span class="hljs-comment">// ç”¨æˆ·æ˜¾ç¤ºåç§°</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> CharSequence mCarrierName;         <span class="hljs-comment">// è¿è¥å•†åç§°</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mDisplayNameSource;            <span class="hljs-comment">// æ˜¾ç¤ºåç§°æ¥æº</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mIconTint;                     <span class="hljs-comment">// å›¾æ ‡é¢œè‰²</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mNumber;                    <span class="hljs-comment">// ç”µè¯å·ç </span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mDataRoaming;                  <span class="hljs-comment">// æ•°æ®æ¼«æ¸¸è®¾ç½®</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mMcc;                       <span class="hljs-comment">// ç§»åŠ¨å›½å®¶ä»£ç </span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mMnc;                       <span class="hljs-comment">// ç§»åŠ¨ç½‘ç»œä»£ç </span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> mIsEmbedded;               <span class="hljs-comment">// æ˜¯å¦ä¸º eSIM</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ParcelUuid mGroupUuid;             <span class="hljs-comment">// è®¢é˜…ç»„ UUID</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mCarrierId;                    <span class="hljs-comment">// è¿è¥å•† ID</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> mIsOpportunistic;          <span class="hljs-comment">// æ˜¯å¦ä¸ºæœºä¼šæ€§è®¢é˜…</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> mAreUiccApplicationsEnabled;  <span class="hljs-comment">// UICC åº”ç”¨æ˜¯å¦å¯ç”¨</span>
</code></pre>
<h4 data-id="heading-5">SubscriptionInfoInternalï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰</h4>
<p>è¿™æ˜¯æ¡†æ¶å†…éƒ¨ä½¿ç”¨çš„æ¨¡å‹ï¼Œå®Œå…¨å¯¹åº” <code>SimInfo</code> æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">318</span>:<span class="hljs-number">410</span>:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionInfoInternal.java
<span class="hljs-comment">// åŒ…å«æ‰€æœ‰æ•°æ®åº“å­—æ®µï¼Œå¦‚ IMSIã€RCS é…ç½®ã€ç½‘ç»œç±»å‹æƒé™ç­‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mImsi;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mEnabledMobileDataPolicies;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mIsRcsUceEnabled;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> mIsCrossSimCallingEnabled;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">byte</span>[] mRcsConfig;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> mAllowedNetworkTypesForReasons;
<span class="hljs-comment">// ... æ›´å¤šå­—æ®µ</span>
</code></pre>
<h3 data-id="heading-6">3. Subscription æ•°æ®åº“</h3>
<h4 data-id="heading-7">SimInfo è¡¨</h4>
<p>æ‰€æœ‰è®¢é˜…ä¿¡æ¯å­˜å‚¨åœ¨ <code>TelephonyProvider</code> çš„ <code>SimInfo</code> è¡¨ä¸­ï¼Œå†…å®¹ URI ä¸º <code>content://telephony/siminfo</code>ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">4286</span><span class="hljs-symbol">:</span><span class="hljs-number">4300</span><span class="hljs-symbol">:frameworks_base/core/java/android/provider/Telephony</span>.java
<span class="hljs-keyword">public</span> static final <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimInfo</span> {
    <span class="hljs-keyword">public</span> static final <span class="hljs-title class_">Uri</span> <span class="hljs-variable constant_">CONTENT_URI</span> = <span class="hljs-title class_">Uri</span>.parse(<span class="hljs-string">"content://telephony/siminfo"</span>);
    <span class="hljs-regexp">//</span> åŒ…å« <span class="hljs-number">50</span>+ åˆ—ï¼Œå­˜å‚¨æ‰€æœ‰è®¢é˜…ç›¸å…³æ•°æ®
}
</code></pre>
<h4 data-id="heading-8">SubscriptionDatabaseManager</h4>
<p>è´Ÿè´£ <code>SimInfo</code> è¡¨çš„è¯»å†™ç¼“å­˜ï¼Œæ‰€æœ‰æ•°æ®åº“è®¿é—®éƒ½åº”é€šè¿‡æ­¤ç±»è¿›è¡Œã€‚</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-number">84</span>:<span class="hljs-number">678</span>:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/<span class="hljs-type">SubscriptionDatabaseManager</span>.java
<span class="hljs-comment">/**
 * The subscription database manager is the wrapper of {@link SimInfo} table.
 * It's a full memory cache of the entire subscription database.
 */</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SubscriptionDatabaseManager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Handler</span> </span>{
    <span class="hljs-comment">// å†…å­˜ç¼“å­˜ï¼Œä½¿ç”¨è¯»å†™é”ä¿æŠ¤</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Map</span>&lt;<span class="hljs-type">Integer</span>, <span class="hljs-type">SubscriptionInfoInternal</span>&gt; mAllSubscriptionInfoInternalCache;
}
</code></pre>
<h3 data-id="heading-9">4. Subscription ç”Ÿå‘½å‘¨æœŸ</h3>
<h4 data-id="heading-10">4.1 Subscription å‘ç°ä¸åˆ›å»ºæµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      UiccController             â”‚
                    â”‚  (UICC å¡ç®¡ç†)                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚ <span class="hljs-built_in">updateSimState</span>()
                                   â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   SubscriptionManagerService             â”‚
           â”‚      <span class="hljs-built_in">updateSimState</span>()                     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                    <span class="hljs-built_in">updateSubscription</span>()
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                 â–¼                 â–¼
    æ£€æŸ¥ IccId      æŸ¥æ‰¾ç°æœ‰è®¢é˜…        åˆ›å»ºæ–°è®¢é˜…
    æ˜¯å¦å­˜åœ¨         (æ•°æ®åº“)            (è‹¥æ— åˆ™æ’å…¥)
</code></pre>
<p>å…³é”®ä»£ç ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">1499</span><span class="hljs-symbol">:</span><span class="hljs-number">1522</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionManagerService</span>.java
<span class="hljs-keyword">if</span> (!<span class="hljs-title class_">TextUtils</span>.isEmpty(iccId)) {
    <span class="hljs-regexp">//</span> æ£€æŸ¥è®¢é˜…æ˜¯å¦å·²å­˜åœ¨
    subInfo = mSubscriptionDatabaseManager.getSubscriptionInfoInternalByIccId(iccId);
    int subId;
    <span class="hljs-keyword">if</span> (subInfo == null) {
        <span class="hljs-regexp">//</span> è¿™æ˜¯æ–° <span class="hljs-variable constant_">SIM</span> å¡ã€‚æ’å…¥æ–°è®°å½•ã€‚
        subId = insertSubscriptionInfo(iccId, phoneId, null,
                <span class="hljs-title class_">SubscriptionManager</span>.<span class="hljs-variable constant_">SUBSCRIPTION_TYPE_LOCAL_SIM</span>);
        <span class="hljs-regexp">//</span> è®¾ç½®æ˜¾ç¤ºåç§°
        mSubscriptionDatabaseManager.setDisplayName(subId,
                mContext.getResources().getString(R.string.default_card_name, getCardNumber(subId)));
    } <span class="hljs-keyword">else</span> {
        subId = subInfo.getSubscriptionId();
        log(<span class="hljs-string">"Found existing subscription. subId= "</span> + subId + <span class="hljs-string">", phoneId="</span> + phoneId);
    }
    
    /<span class="hljs-regexp">/ æ›´æ–° SIM æ§½ä½ç´¢å¼•ï¼Œä½¿è®¢é˜…å˜ä¸ºæ´»è·ƒçŠ¶æ€
    if (subInfo != null &amp;&amp; subInfo.areUiccApplicationsEnabled()) {
        mSlotIndexToSubId.put(phoneId, subId);
        mSubscriptionDatabaseManager.setSimSlotIndex(subId, phoneId);
    }
}
</span></code></pre>
<h4 data-id="heading-11">4.2 æ’å…¥æ–°è®¢é˜…</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">1092</span><span class="hljs-symbol">:</span><span class="hljs-number">1114</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionManagerService</span>.java
<span class="hljs-keyword">private</span> int insertSubscriptionInfo(<span class="hljs-variable">@NonNull</span> <span class="hljs-title class_">String</span> iccId, int slotIndex,
        <span class="hljs-variable">@Nullable</span> <span class="hljs-title class_">String</span> displayName, <span class="hljs-variable">@SubscriptionType</span> int subscriptionType) {
    <span class="hljs-title class_">String</span> defaultAllowNetworkTypes = <span class="hljs-title class_">Phone</span>.convertAllowedNetworkTypeMapIndexToDbName(...);
    <span class="hljs-title class_">SubscriptionInfoInternal</span>.<span class="hljs-title class_">Builder</span> builder = new <span class="hljs-title class_">SubscriptionInfoInternal</span>.<span class="hljs-title class_">Builder</span>()
            .setIccId(iccId)
            .setCardString(iccId)
            .setSimSlotIndex(slotIndex)
            .setType(subscriptionType)
            .setIconTint(getColor())
            .setAllowedNetworkTypesForReasons(defaultAllowNetworkTypes);
    
    int subId = mSubscriptionDatabaseManager.insertSubscriptionInfo(builder.build());
    <span class="hljs-keyword">return</span> subId;
}
</code></pre>
<h3 data-id="heading-12">5. Subscription æŸ¥è¯¢ä¸è®¿é—®</h3>
<h4 data-id="heading-13">5.1 å…¬å¼€ APIï¼ˆSubscriptionManagerï¼‰</h4>
<p>åº”ç”¨é€šè¿‡ <code>SubscriptionManager</code> ç±»æŸ¥è¯¢è®¢é˜…ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–æ‰€æœ‰è®¢é˜…ä¿¡æ¯</span>
List&lt;SubscriptionInfo&gt; allSubs = subscriptionManager.getAllSubscriptionInfoList();

<span class="hljs-comment">// è·å–æ´»è·ƒè®¢é˜…</span>
List&lt;SubscriptionInfo&gt; activeSubs = subscriptionManager.getActiveSubscriptionInfoList();

<span class="hljs-comment">// é€šè¿‡ SubId è·å–</span>
<span class="hljs-type">SubscriptionInfo</span> <span class="hljs-variable">info</span> <span class="hljs-operator">=</span> subscriptionManager.getActiveSubscriptionInfo(subId);

<span class="hljs-comment">// è·å–é»˜è®¤è®¢é˜…</span>
<span class="hljs-type">int</span> <span class="hljs-variable">defaultDataSubId</span> <span class="hljs-operator">=</span> SubscriptionManager.getDefaultDataSubscriptionId();
<span class="hljs-type">int</span> <span class="hljs-variable">defaultVoiceSubId</span> <span class="hljs-operator">=</span> SubscriptionManager.getDefaultVoiceSubscriptionId();
</code></pre>
<h4 data-id="heading-14">5.2 å†…éƒ¨è®¿é—®ï¼ˆSubscriptionDatabaseManagerï¼‰</h4>
<p>æ¡†æ¶å†…éƒ¨é€šè¿‡ <code>SubscriptionDatabaseManager</code> ç›´æ¥è®¿é—®æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">2442</span><span class="hljs-symbol">:</span><span class="hljs-number">2463</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionDatabaseManager</span>.java
<span class="hljs-variable">@Nullable</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_">SubscriptionInfoInternal</span> getSubscriptionInfoInternal(int subId) {
    mReadWriteLock.readLock().lock();
    try {
        <span class="hljs-keyword">return</span> mAllSubscriptionInfoInternalCache.get(subId);
    } finally {
        mReadWriteLock.readLock().unlock();
    }
}

<span class="hljs-variable">@NonNull</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">SubscriptionInfoInternal</span>&gt; getAllSubscriptions() {
    mReadWriteLock.readLock().lock();
    try {
        <span class="hljs-keyword">return</span> new <span class="hljs-title class_">ArrayList</span>&lt;&gt;(mAllSubscriptionInfoInternalCache.values());
    } finally {
        mReadWriteLock.readLock().unlock();
    }
}
</code></pre>
<h3 data-id="heading-15">6. é»˜è®¤è®¢é˜…ï¼ˆDefault Subscriptionsï¼‰</h3>
<h4 data-id="heading-16">6.1 ä¸‰ç§é»˜è®¤è®¢é˜…</h4>
<ul>
<li><strong>Default Voice SubId</strong>ï¼šç”¨äºè¯­éŸ³é€šè¯çš„é»˜è®¤è®¢é˜…</li>
<li><strong>Default Data SubId</strong>ï¼šç”¨äºç§»åŠ¨æ•°æ®çš„é»˜è®¤è®¢é˜…</li>
<li><strong>Default SMS SubId</strong>ï¼šç”¨äº SMS çš„é»˜è®¤è®¢é˜…</li>
</ul>
<h4 data-id="heading-17">6.2 é»˜è®¤å€¼å­˜å‚¨</h4>
<p>é»˜è®¤å€¼å­˜å‚¨åœ¨ç³»ç»Ÿè®¾ç½®ï¼ˆSettings.Globalï¼‰ä¸­ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">489</span><span class="hljs-symbol">:</span><span class="hljs-number">500</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionManagerService</span>.java
mDefaultVoiceSubId = new <span class="hljs-title class_">WatchedInt</span>(<span class="hljs-title class_">Settings</span>.<span class="hljs-title class_">Global</span>.getInt(mContext.getContentResolver(),
        <span class="hljs-title class_">Settings</span>.<span class="hljs-title class_">Global</span>.<span class="hljs-variable constant_">MULTI_SIM_VOICE_CALL_SUBSCRIPTION</span>,
        <span class="hljs-title class_">SubscriptionManager</span>.<span class="hljs-variable constant_">INVALID_SUBSCRIPTION_ID</span>)) {
    <span class="hljs-variable">@Override</span>
    <span class="hljs-keyword">public</span> boolean set(int newValue) {
        int oldValue = mValue;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">super</span>.set(newValue)) {
            logl(<span class="hljs-string">"Default voice subId changed from "</span> + oldValue + <span class="hljs-string">" to "</span> + newValue);
            <span class="hljs-title class_">Settings</span>.<span class="hljs-title class_">Global</span>.putInt(mContext.getContentResolver(), 
                <span class="hljs-title class_">Settings</span>.<span class="hljs-title class_">Global</span>.<span class="hljs-variable constant_">MULTI_SIM_VOICE_CALL_SUBSCRIPTION</span>, newValue);
            <span class="hljs-regexp">//</span> ... å¹¿æ’­å˜åŒ–
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
};
</code></pre>
<h4 data-id="heading-18">6.3 è‡ªåŠ¨æ›´æ–°é»˜è®¤å€¼</h4>
<p><code>MultiSimSettingController</code> è´Ÿè´£åœ¨å¤šå¡åœºæ™¯ä¸‹è‡ªåŠ¨æ›´æ–°é»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-number">619</span>:<span class="hljs-number">650</span>:frameworks_opt_telephony/src/java/com/android/<span class="hljs-keyword">internal</span>/telephony/MultiSimSettingController.java
<span class="hljs-comment">/**
 * Automatically update default settings (data / voice / sms).
 * 
 * 1) If the default subscription is still active, keep it unchanged.
 * 2) Or if there's another active primary subscription that's in the same group,
 *    make it the new default value.
 * 3) Or if there's only one active primary subscription, automatically set default
 *    data subscription on it.
 * 4) If none above is met, clear the default value to INVALID.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateDefaults</span>()</span> {
    <span class="hljs-keyword">if</span> (!isReadyToReevaluate()) <span class="hljs-keyword">return</span>;
    
    List&lt;SubscriptionInfo&gt; activeSubInfos = mSubscriptionManagerService
            .getActiveSubscriptionInfoList(...);
    
    <span class="hljs-keyword">if</span> (ArrayUtils.isEmpty(activeSubInfos)) {
        <span class="hljs-comment">// æ— æ´»è·ƒè®¢é˜…ï¼Œæ¸…é™¤é»˜è®¤å€¼</span>
        mSubscriptionManagerService.setDefaultDataSubId(INVALID_SUBSCRIPTION_ID);
        mSubscriptionManagerService.setDefaultVoiceSubId(INVALID_SUBSCRIPTION_ID);
        mSubscriptionManagerService.setDefaultSmsSubId(INVALID_SUBSCRIPTION_ID);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// è‡ªåŠ¨æ›´æ–°...</span>
}
</code></pre>
<h3 data-id="heading-19">7. è®¢é˜…ç»„ï¼ˆSubscription Groupsï¼‰</h3>
<h4 data-id="heading-20">7.1 è®¢é˜…ç»„æ¦‚å¿µ</h4>
<p>è®¢é˜…ç»„ç”¨äºå…³è”å¤šä¸ªè®¢é˜…ï¼ˆé€šå¸¸æ˜¯ä¸»è®¢é˜…å’Œæœºä¼šæ€§è®¢é˜…ï¼‰ï¼Œå®ƒä»¬å…±äº«æŸäº›è®¾ç½®ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">200</span>:<span class="hljs-number">240</span>:frameworks_base/telephony/java/com/android/internal/telephony/ISub.aidl
<span class="hljs-comment">/**
 * Inform SubscriptionManager that subscriptions in the list are bundled as a group.
 * Typically it's a primary subscription and an opportunistic subscription.
 * Being in the same group means they might be activated or deactivated together.
 */</span>
<span class="hljs-function">ParcelUuid <span class="hljs-title">createSubscriptionGroup</span><span class="hljs-params">(in <span class="hljs-type">int</span>[] subIdList, <span class="hljs-type">String</span> callingPackage)</span></span>;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addSubscriptionsIntoGroup</span><span class="hljs-params">(in <span class="hljs-type">int</span>[] subIdList, in ParcelUuid groupUuid,
        <span class="hljs-type">String</span> callingPackage)</span></span>;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">removeSubscriptionsFromGroup</span><span class="hljs-params">(in <span class="hljs-type">int</span>[] subIdList, in ParcelUuid groupUuid,
        <span class="hljs-type">String</span> callingPackage)</span></span>;

<span class="hljs-function">List&lt;SubscriptionInfo&gt; <span class="hljs-title">getSubscriptionsInGroup</span><span class="hljs-params">(in ParcelUuid groupUuid,
        <span class="hljs-type">String</span> callingPackage, <span class="hljs-type">String</span> callingFeatureId)</span></span>;
</code></pre>
<h4 data-id="heading-21">7.2 ç»„è®¾ç½®åŒæ­¥</h4>
<p>åŒç»„å†…çš„è®¢é˜…å¿…é¡»å…±äº«ç›¸åŒçš„æ•°æ®è®¾ç½®ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">372</span><span class="hljs-symbol">:</span><span class="hljs-number">394</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/MultiSimSettingController</span>.java
/**
 * <span class="hljs-title class_">Make</span> sure <span class="hljs-variable constant_">MOBILE_DATA</span> of subscriptions <span class="hljs-keyword">in</span> same group are synced.
 *<span class="hljs-regexp">/
private void onUserDataEnabled(int subId, boolean enable, boolean setDefaultData) {
    /</span><span class="hljs-regexp">/ ç¡®ä¿åŒç»„è®¢é˜…çš„ MOBILE_DATA è®¾ç½®åŒæ­¥
    setUserDataEnabledForGroup(subId, enable);
    
    SubscriptionInfo subInfo = mSubscriptionManagerService.getSubscriptionInfo(subId);
    int defaultDataSubId = mSubscriptionManagerService.getDefaultDataSubId();
    
    /</span><span class="hljs-regexp">/ å¦‚æœç”¨æˆ·å¯ç”¨äº†éé»˜è®¤çš„éæœºä¼šæ€§è®¢é˜…ï¼Œå°†å…¶è®¾ä¸ºé»˜è®¤
    if (defaultDataSubId != subId &amp;&amp; subInfo != null &amp;&amp; !subInfo.isOpportunistic() 
            &amp;&amp; enable &amp;&amp; subInfo.isActive() &amp;&amp; setDefaultData) {
        mSubscriptionManagerService.setDefaultDataSubId(subId);
    }
}
</span></code></pre>
<h3 data-id="heading-22">8. æ´»è·ƒä¸éæ´»è·ƒè®¢é˜…</h3>
<h4 data-id="heading-23">8.1 ä»€ä¹ˆæ˜¯æ´»è·ƒè®¢é˜…ï¼Ÿ</h4>
<p>å½“ä¸”ä»…å½“ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œè®¢é˜…æ‰æ˜¯æ´»è·ƒçš„ï¼š</p>
<ol>
<li><code>SimSlotIndex &gt;= 0</code>ï¼ˆå·²åˆ†é…åˆ° SIM å¡æ§½ï¼‰</li>
<li>UICC åº”ç”¨å·²å¯ç”¨ï¼ˆ<code>areUiccApplicationsEnabled() == true</code>ï¼‰</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">1517</span><span class="hljs-symbol">:</span><span class="hljs-number">1522</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionManagerService</span>.java
<span class="hljs-keyword">if</span> (subInfo != null &amp;&amp; subInfo.areUiccApplicationsEnabled()) {
    mSlotIndexToSubId.put(phoneId, subId);
    <span class="hljs-regexp">//</span> æ›´æ–° <span class="hljs-variable constant_">SIM</span> æ§½ä½ç´¢å¼•ã€‚è¿™å°†ä½¿è®¢é˜…å˜ä¸ºæ´»è·ƒçŠ¶æ€ã€‚
    mSubscriptionDatabaseManager.setSimSlotIndex(subId, phoneId);
}
</code></pre>
<h4 data-id="heading-24">8.2 éæ´»è·ƒè®¢é˜…çš„ SimSlotIndex</h4>
<p>éæ´»è·ƒè®¢é˜…çš„ <code>SimSlotIndex</code> è¢«è®¾ç½®ä¸º <code>SubscriptionManager.INVALID_SIM_SLOT_INDEX (-1)</code>ã€‚</p>
<h3 data-id="heading-25">9. æœºä¼šæ€§è®¢é˜…ï¼ˆOpportunistic Subscriptionsï¼‰</h3>
<p>æœºä¼šæ€§è®¢é˜…æ˜¯è‡ªåŠ¨é€‰æ‹©çš„è®¢é˜…ï¼Œç”¨äºç‰¹å®šåœºæ™¯ï¼ˆå¦‚æŸäº›åœ°åŒºæœ‰æ›´ä¾¿å®œçš„æ•°æ®è®¡åˆ’ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">boolean</span> <span class="hljs-variable">isOpportunistic</span> <span class="hljs-operator">=</span> subscriptionInfo.isOpportunistic();

<span class="hljs-comment">// æœºä¼šæ€§è®¢é˜…ä¸èƒ½æ˜¯é»˜è®¤è®¢é˜…</span>
<span class="hljs-comment">// å®ƒä»¬é€šå¸¸ä¸ä¸»è®¢é˜…ç»„åˆä½¿ç”¨</span>
</code></pre>
<h3 data-id="heading-26">10. å…³é”®æµç¨‹ï¼šSIM æ’å…¥/ç§»é™¤</h3>
<h4 data-id="heading-27">10.1 SIM æ’å…¥æµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">                    SIM Card Inserted
                           â”‚
                           â–¼
              UiccController detects state
                           â”‚
                           â–¼
          UiccController<span class="hljs-selector-class">.updateSimState</span>()
                           â”‚
                           â–¼
      SubscriptionManagerService<span class="hljs-selector-class">.updateSimState</span>()
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼            â–¼            â–¼
        æ£€æŸ¥ IccId    æ•°æ®åº“æŸ¥è¯¢    åˆ›å»º/æ›´æ–°
        æ˜¯å¦æ–° SIM     ç°æœ‰è®¢é˜…      è®¢é˜…è®°å½•
              â”‚            â”‚            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
           <span class="hljs-built_in">updateSubscription</span>() completes
                           â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼          â–¼          â–¼
        æ›´æ–°æ˜¾ç¤ºå æ›´æ–°è¿è¥å•† å¹¿æ’­å˜åŒ–
        æ›´æ–°ä½ç½®ä»£ç  æ›´æ–°ç”µè¯å·ç  é€šçŸ¥åº”ç”¨
</code></pre>
<p>å…³é”®ä»£ç åœ¨ <code>updateSubscription()</code> æ–¹æ³•ä¸­ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">1536</span><span class="hljs-symbol">:</span><span class="hljs-number">1558</span><span class="hljs-symbol">:frameworks_opt_telephony/src/java/com/android/internal/telephony/subscription/SubscriptionManagerService</span>.java
<span class="hljs-keyword">if</span> (simState == <span class="hljs-title class_">TelephonyManager</span>.<span class="hljs-variable constant_">SIM_STATE_LOADED</span>) {
    <span class="hljs-regexp">//</span> è·å– <span class="hljs-variable constant_">MCC</span>/<span class="hljs-variable constant_">MNC</span> ä¿¡æ¯
    <span class="hljs-title class_">String</span> mccMnc = mTelephonyManager.getSimOperatorNumeric(subId);
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">TextUtils</span>.isEmpty(mccMnc)) {
        <span class="hljs-keyword">if</span> (subId == getDefaultSubId()) {
            <span class="hljs-title class_">MccTable</span>.updateMccMncConfiguration(mContext, mccMnc);
        }
        setMccMnc(subId, mccMnc);
    }
    
    /<span class="hljs-regexp">/ è·å–å›½å®¶ä»£ç 
    String iso = TelephonyManager.getSimCountryIsoForPhone(phoneId);
    if (!TextUtils.isEmpty(iso)) {
        setCountryIso(subId, iso);
    }
    
    /</span><span class="hljs-regexp">/ è·å–ç”µè¯å·ç 
    String msisdn = PhoneFactory.getPhone(phoneId).getLine1Number();
    if (!TextUtils.isEmpty(msisdn)) {
        setDisplayNumber(msisdn, subId);
    }
}
</span></code></pre>
<h4 data-id="heading-28">10.2 SIM ç§»é™¤æµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">                    SIM Card Removed
                           â”‚
                           â–¼
          UiccController detects ABSENT
                           â”‚
                           â–¼
      SubscriptionManagerService<span class="hljs-selector-class">.updateSimState</span>()
                           â”‚
                           â–¼
          <span class="hljs-built_in">markSubscriptionsInactive</span>(phoneId)
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼              â–¼              â–¼
      è®¾ç½® SimSlotIndex  æ¸…é™¤æ˜¾ç¤ºå  æ¸…é™¤è¿è¥å•†
      ä¸º <span class="hljs-built_in">INVALID</span>(-<span class="hljs-number">1</span>)    æ¸…é™¤ä½ç½®ä¿¡æ¯    é€šçŸ¥æ›´æ–°
</code></pre>
<h3 data-id="heading-29">11. æƒé™å’Œè®¿é—®æ§åˆ¶</h3>
<h4 data-id="heading-30">11.1 æƒé™è¦æ±‚</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯»å–è®¢é˜…ä¿¡æ¯</span>
<span class="hljs-meta">@RequiresPermission(anyOf = {
    Manifest.permission.READ_PHONE_STATE,
    "carrier privileges"
})</span>

<span class="hljs-comment">// ä¿®æ”¹è®¢é˜…ä¿¡æ¯</span>
<span class="hljs-meta">@RequiresPermission(Manifest.permission.MODIFY_PHONE_STATE)</span>

<span class="hljs-comment">// è¯»å–è®¾å¤‡æ ‡è¯†ç¬¦ï¼ˆè·å– IccIdã€GroupUuidï¼‰</span>
<span class="hljs-meta">@RequiresPermission(Manifest.permission.READ_PHONE_NUMBERS)</span>
</code></pre>
<h4 data-id="heading-31">11.2 è¿è¥å•†ç‰¹æƒè®¿é—®</h4>
<p>å…·æœ‰è¿è¥å•†ç‰¹æƒçš„åº”ç”¨å¯ä»¥è®¿é—®ç›¸å…³è®¢é˜…çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<h3 data-id="heading-32">12. SubscriptionManager ç¼“å­˜æœºåˆ¶</h3>
<p>ä¸ºäº†æé«˜æ€§èƒ½ï¼Œ<code>SubscriptionManager</code> ä½¿ç”¨äº† <code>PropertyInvalidatedCache</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> PropertyInvalidatedCache&lt;Integer, Integer&gt; sGetSubIdCache = 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PropertyInvalidatedCache</span>&lt;Integer, Integer&gt;(<span class="hljs-number">16</span>, CACHE_PROPERTY_PREFIX + <span class="hljs-string">"subscription"</span>) {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> Integer <span class="hljs-title function_">recompute</span><span class="hljs-params">(Integer slotIndex)</span> {
            <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®åº“æˆ–ä» SubscriptionManagerService è·å–</span>
        }
    };
</code></pre>
<p>å½“è®¢é˜…ä¿¡æ¯å˜åŒ–æ—¶ï¼Œç¼“å­˜ä¼šè¢«è‡ªåŠ¨æ¸…é™¤ã€‚</p>
<h3 data-id="heading-33">13. å®è·µï¼šæŸ¥è¯¢å’Œä½¿ç”¨è®¢é˜…</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å– SubscriptionManager</span>
<span class="hljs-type">SubscriptionManager</span> <span class="hljs-variable">subscriptionManager</span> <span class="hljs-operator">=</span> 
    context.getSystemService(SubscriptionManager.class);

<span class="hljs-comment">// è·å–æ‰€æœ‰æ´»è·ƒè®¢é˜…</span>
List&lt;SubscriptionInfo&gt; activeSubscriptions = 
    subscriptionManager.getActiveSubscriptionInfoList();

<span class="hljs-keyword">for</span> (SubscriptionInfo subInfo : activeSubscriptions) {
    <span class="hljs-type">int</span> <span class="hljs-variable">subId</span> <span class="hljs-operator">=</span> subInfo.getSubscriptionId();
    <span class="hljs-type">String</span> <span class="hljs-variable">displayName</span> <span class="hljs-operator">=</span> subInfo.getDisplayName().toString();
    <span class="hljs-type">int</span> <span class="hljs-variable">simSlotIndex</span> <span class="hljs-operator">=</span> subInfo.getSimSlotIndex();
    <span class="hljs-type">String</span> <span class="hljs-variable">iccId</span> <span class="hljs-operator">=</span> subInfo.getIccId();
    <span class="hljs-type">String</span> <span class="hljs-variable">carrierName</span> <span class="hljs-operator">=</span> subInfo.getCarrierName().toString();
    
    Log.d(TAG, <span class="hljs-string">"SubId: "</span> + subId + <span class="hljs-string">", Name: "</span> + displayName 
        + <span class="hljs-string">", Slot: "</span> + simSlotIndex + <span class="hljs-string">", Carrier: "</span> + carrierName);
}

<span class="hljs-comment">// ä¸ºç‰¹å®šè®¢é˜…åˆ›å»º TelephonyManager</span>
<span class="hljs-type">TelephonyManager</span> <span class="hljs-variable">telManager</span> <span class="hljs-operator">=</span> 
    context.getSystemService(TelephonyManager.class)
           .createForSubscriptionId(subId);

<span class="hljs-comment">// è·å–è¯¥è®¢é˜…çš„ç½‘ç»œè¿è¥å•†</span>
<span class="hljs-type">String</span> <span class="hljs-variable">operatorName</span> <span class="hljs-operator">=</span> telManager.getNetworkOperatorName();
</code></pre>
<h3 data-id="heading-34">14. å…³é”®ç±»æ€»ç»“</h3>









































<table><thead><tr><th>ç±»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>SubscriptionManager</code></td><td>å…¬å¼€ APIï¼Œåº”ç”¨ç«¯æŸ¥è¯¢è®¢é˜…ä¿¡æ¯</td></tr><tr><td><code>SubscriptionManagerService</code></td><td>ç³»ç»ŸæœåŠ¡ï¼Œç®¡ç†æ‰€æœ‰è®¢é˜…çš„åç«¯</td></tr><tr><td><code>SubscriptionDatabaseManager</code></td><td>è®¢é˜…æ•°æ®åº“ç®¡ç†ï¼Œç¼“å­˜å’Œè®¿é—® <code>SimInfo</code> è¡¨</td></tr><tr><td><code>SubscriptionInfo</code></td><td>å…¬å¼€è®¢é˜…ä¿¡æ¯æ¨¡å‹</td></tr><tr><td><code>SubscriptionInfoInternal</code></td><td>å†…éƒ¨è®¢é˜…ä¿¡æ¯æ¨¡å‹ï¼Œå®Œæ•´å¯¹åº”æ•°æ®åº“</td></tr><tr><td><code>MultiSimSettingController</code></td><td>å¤šå¡è®¾ç½®åè°ƒï¼Œç¡®ä¿åŒç»„è®¢é˜…è®¾ç½®åŒæ­¥</td></tr><tr><td><code>ISub</code></td><td>AIDL æ¥å£ï¼Œå®šä¹‰ SubscriptionManagerService çš„ IPC æ–¹æ³•</td></tr><tr><td><code>PhoneSwitcher</code></td><td>å¤šå¡æ•°æ®è¿æ¥ç®¡ç†ï¼ˆè¯¦è§å¤šå¡ç®¡ç†ç« èŠ‚ï¼‰</td></tr></tbody></table>
<hr/>
<p>è¿™å°±æ˜¯ Android ç”µè¯æ¡†æ¶ä¸­ Subscription ç®¡ç†çš„å®Œæ•´ä½“ç³»ã€‚å®ƒæ˜¯ DSDSï¼ˆåŒå¡åŒå¾…ï¼‰ç®¡ç†çš„åŸºç¡€ï¼Œä¸ºç³»ç»Ÿå¦‚ä½•è·Ÿè¸ªã€è®¿é—®å’Œåè°ƒå¤šä¸ª SIM å¡æä¾›äº†æ•°æ®æ¨¡å‹å’Œæ“ä½œæ¡†æ¶ã€‚</p>
<p>æœ‰ä»»ä½•å…³äº Subscription ç®¡ç†çš„å…·ä½“é—®é¢˜å—ï¼Ÿæˆ‘å¯ä»¥æ·±å…¥è§£é‡Šä»»ä½•ç‰¹å®šçš„éƒ¨åˆ†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android RIL ä¸­ HIDL å’Œ AIDL çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7603309951227543602</link>    <guid>https://juejin.cn/post/7603309951227543602</guid>    <pubDate>2026-02-06T09:26:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227543602" data-draft-id="7603309951227527218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android RIL ä¸­ HIDL å’Œ AIDL çš„åŒºåˆ«"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-06T09:26:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android RIL ä¸­ HIDL å’Œ AIDL çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:26:08.000Z" title="Fri Feb 06 2026 09:26:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. å†å²èƒŒæ™¯</h3>





























<table><thead><tr><th>æ—¶æœŸ</th><th>è¯­è¨€</th><th>Android ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Android 7.0 - 12</strong></td><td><strong>HIDL</strong> (HAL Interface Definition Language)</td><td>Nougat - S</td><td>é¦–ä¸ªç°ä»£ HAL æ¥å£è¯­è¨€</td></tr><tr><td><strong>Android 13+</strong></td><td><strong>AIDL</strong> (Android Interface Definition Language)</td><td>T åŠä»¥å</td><td>ç»Ÿä¸€çš„ IPC æ¥å£è¯­è¨€</td></tr><tr><td><strong>è¿‡æ¸¡æœŸ</strong></td><td><strong>ä¸¤è€…å…±å­˜</strong></td><td>S/T</td><td>å…¼å®¹æ€§å±‚æ”¯æŒ HIDL é©±åŠ¨</td></tr></tbody></table>
<h3 data-id="heading-1">2. æ ¸å¿ƒæ¶æ„å·®å¼‚</h3>
<h4 data-id="heading-2">2.1 æ¥å£å®šä¹‰æ–¹å¼</h4>
<p><strong>HIDLï¼ˆæ—§ï¼‰- <code>.hal</code> æ–‡ä»¶ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">hardware_interfaces/radio/<span class="hljs-number">1.4</span>/IRadio<span class="hljs-selector-class">.hal</span>
package android<span class="hljs-selector-class">.hardware</span><span class="hljs-selector-class">.radio</span>@<span class="hljs-number">1.4</span>;

interface IRadio {
    oneway <span class="hljs-built_in">dial</span>(int32_t serial, Dial dialInfo);
    oneway <span class="hljs-built_in">hangupConnection</span>(int32_t serial, uint32_t gsmCallNumber);
    oneway <span class="hljs-built_in">setResponseFunctions</span>(IRadioResponse radioResponse, IRadioIndication radioIndication);
}
</code></pre>
<p><strong>AIDLï¼ˆæ–°ï¼‰- <code>.aidl</code> æ–‡ä»¶ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">hardware_interfaces/radio/aidl/android/hardware/radio/voice/IRadioVoice.aidl
<span class="hljs-keyword">package</span> android.hardware.radio.voice;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">IRadioVoice</span> {
    oneway <span class="hljs-keyword">void</span> <span class="hljs-title function_">dial</span><span class="hljs-params">(in <span class="hljs-type">int</span> serial, in Dial dialInfo)</span>;
    oneway <span class="hljs-keyword">void</span> <span class="hljs-title function_">hangupConnection</span><span class="hljs-params">(in <span class="hljs-type">int</span> serial, in <span class="hljs-type">int</span> gsmCallNumber)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setResponseFunctions</span><span class="hljs-params">(in IRadioVoiceResponse radioVoiceResponse,
                              in IRadioVoiceIndication radioVoiceIndication)</span>;
}
</code></pre>
<h4 data-id="heading-3">2.2 æ¥å£é¢—ç²’åº¦</h4>
<p><strong>HIDLï¼šå•ä½“æ¥å£</strong></p>
<ul>
<li>ä¸€ä¸ª <code>IRadio</code> æ¥å£åŒ…å«æ‰€æœ‰åŠŸèƒ½ï¼ˆvoice, data, network, messaging, sim, configï¼‰</li>
<li>ç‰ˆæœ¬å·é€’å¢ï¼š1.0 â†’ 1.1 â†’ 1.2 â†’ ... â†’ 1.6</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">hardware_interfaces/radio/1.0/IRadio.hal    (2000+ è¡Œ)
    â”œâ”€ Voice åŠŸèƒ½
    â”œâ”€ Data åŠŸèƒ½
    â”œâ”€ Network åŠŸèƒ½
    â”œâ”€ Messaging åŠŸèƒ½
    â”œâ”€ SIM åŠŸèƒ½
    â””â”€ Config åŠŸèƒ½
</code></pre>
<p><strong>AIDLï¼šæ¨¡å—åŒ–æ¥å£</strong></p>
<ul>
<li>æŒ‰åŠŸèƒ½åŸŸåˆ†ç¦»æˆå¤šä¸ªæ¥å£</li>
<li>æ¯ä¸ªæ¨¡å—ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">hardware_interfaces/radio/aidl/android/hardware/radio/
â”œâ”€ voice/IRadioVoice.aidl
â”œâ”€ data/IRadioData.aidl
â”œâ”€ network/IRadioNetwork.aidl
â”œâ”€ messaging/IRadioMessaging.aidl
â”œâ”€ sim/IRadioSim.aidl
â”œâ”€ modem/IRadioModem.aidl
â””â”€ config/IRadioConfig.aidl
</code></pre>
<h3 data-id="heading-4">3. å“åº”å’ŒæŒ‡ç¤ºæœºåˆ¶</h3>
<h4 data-id="heading-5">3.1 HIDL å“åº”æµç¨‹</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-title class_">Framework</span> (<span class="hljs-title class_">Java</span>)
    â”‚
    â”œâ”€ setResponseFunctions(<span class="hljs-title class_">IRadioResponse</span>, <span class="hljs-title class_">IRadioIndication</span>)
    â”‚
<span class="hljs-variable constant_">RIL</span> (<span class="hljs-variable constant_">JNI</span>/C++)
    â”‚
    â”œâ”€ <span class="hljs-title class_">IRadio</span><span class="hljs-variable">@1</span>.<span class="hljs-number">4</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:dial</span>()
    â”‚
    â””â”€ <span class="hljs-title class_">IRadioResponse</span><span class="hljs-variable">@1</span>.<span class="hljs-number">4</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:dialResponse</span>()
       <span class="hljs-title class_">IRadioIndication</span><span class="hljs-variable">@1</span>.<span class="hljs-number">4</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:callStateChanged</span>()
</code></pre>
<p>å“åº”å’ŒæŒ‡ç¤ºé€šè¿‡åŒä¸€å¯¹æ¥å£å¤„ç†ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">44</span>:<span class="hljs-number">60</span>:hardware_interfaces/radio/<span class="hljs-number">1.0</span>/IRadio.hal
interface IRadio {
    <span class="hljs-built_in">setResponseFunctions</span>(IRadioResponse radioResponse, IRadioIndication radioIndication);
    oneway <span class="hljs-built_in">dial</span>(int32_t serial, Dial dialInfo);
    <span class="hljs-comment">// ...</span>
}

interface IRadioResponse {
    <span class="hljs-built_in">dialResponse</span>(RadioResponseInfo info);
}

interface IRadioIndication {
    <span class="hljs-built_in">callStateChanged</span>(RadioIndicationType type);
}
</code></pre>
<h4 data-id="heading-6">3.2 AIDL å“åº”æµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">Framework (Java)
    â”‚
    â”œâ”€ <span class="hljs-built_in">setResponseFunctions</span>(IRadioVoiceResponse, IRadioVoiceIndication)
    â”‚
RIL (C++)
    â”‚
    â”œâ”€ IRadioVoice::<span class="hljs-built_in">dial</span>()
    â”‚
    â””â”€ IRadioVoiceResponse::<span class="hljs-built_in">dialResponse</span>()
       IRadioVoiceIndication::<span class="hljs-built_in">callStateChanged</span>()
</code></pre>
<p>AIDL é‡‡ç”¨<strong>åˆ†ç¦»çš„å“åº”æ¥å£</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">hardware_interfaces/radio/aidl/android/hardware/radio/voice/IRadioVoice.aidl
<span class="hljs-keyword">interface</span> <span class="hljs-title">IRadioVoice</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setResponseFunctions</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> IRadioVoiceResponse radioVoiceResponse,
                              <span class="hljs-keyword">in</span> IRadioVoiceIndication radioVoiceIndication</span>)</span>;
    <span class="hljs-function">oneway <span class="hljs-keyword">void</span> <span class="hljs-title">dial</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> <span class="hljs-built_in">int</span> serial, <span class="hljs-keyword">in</span> Dial dialInfo</span>)</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title">IRadioVoiceResponse</span> {
    <span class="hljs-function">oneway <span class="hljs-keyword">void</span> <span class="hljs-title">dialResponse</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> RadioResponseInfo info</span>)</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title">IRadioVoiceIndication</span> {
    <span class="hljs-function">oneway <span class="hljs-keyword">void</span> <span class="hljs-title">callStateChanged</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> RadioIndicationType type</span>)</span>;
}
</code></pre>
<h3 data-id="heading-7">4. æ•°æ®ç»“æ„å®šä¹‰</h3>
<h4 data-id="heading-8">4.1 HIDL - å¤æ‚çš„ç»§æ‰¿ä½“ç³»</h4>
<pre><code class="hljs language-ini" lang="ini">hardware_interfaces/radio/1.0/types.hal
struct Dial {
    string address<span class="hljs-comment">;</span>
    Clir clir<span class="hljs-comment">;</span>
    vec&lt;UusInfo&gt; uusInfo<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

struct RadioResponseInfo {
    RadioResponseType type<span class="hljs-comment">;</span>
    int32_t serial<span class="hljs-comment">;</span>
    RadioError error<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p>HIDL æ”¯æŒè”åˆï¼ˆunionï¼‰å’Œå±‚çº§ç»§æ‰¿ã€‚</p>
<h4 data-id="heading-9">4.2 AIDL - æ‰å¹³çš„æ•°æ®ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">hardware_interfaces/radio/aidl/android/hardware/radio/voice/Dial.aidl
package android.hardware.radio.voice<span class="hljs-comment">;</span>
parcelable Dial {
    String address<span class="hljs-comment">;</span>
    int clir<span class="hljs-comment">;</span>
    UusInfo<span class="hljs-section">[]</span> uusInfo<span class="hljs-comment">;</span>
}

hardware_interfaces/radio/aidl/android/hardware/radio/RadioResponseInfo.aidl
package android.hardware.radio<span class="hljs-comment">;</span>
parcelable RadioResponseInfo {
    RadioResponseType type<span class="hljs-comment">;</span>
    int serial<span class="hljs-comment">;</span>
    RadioError error<span class="hljs-comment">;</span>
}
</code></pre>
<p>AIDL ä½¿ç”¨ <code>parcelable</code> è€Œé <code>struct</code>ã€‚</p>
<h3 data-id="heading-10">5. RIL Java å±‚çš„é€‚é…</h3>
<p>RIL æ¡†æ¶é€šè¿‡ä»£ç†ç±»é€‚é…ä¸¤ç§æ¥å£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">53:100:frameworks_opt_telephony/src/java/com/android/internal/telephony/RadioServiceProxy.java
/**
 * A holder for IRadio services.
 * Use getHidl to get the HIDL IRadio service or getAidl to get the corresponding AIDL service.
 */
public abstract class RadioServiceProxy {
    boolean mIsAidl<span class="hljs-comment">;                                    // æ ‡å¿—ï¼šæ˜¯å¦ä¸º AIDL</span>
    HalVersion <span class="hljs-attr">mHalVersion</span> = RIL.RADIO_HAL_VERSION_UNKNOWN<span class="hljs-comment">;</span>
    volatile android.hardware.radio.V1_4.IRadio <span class="hljs-attr">mRadioProxy</span> = null<span class="hljs-comment">;</span>

    /**
     * Set IRadio as the HIDL implementation for RadioServiceProxy
     */
    public void setHidl(HalVersion halVersion, android.hardware.radio.V1_4.IRadio radio) {
        <span class="hljs-attr">mHalVersion</span> = halVersion<span class="hljs-comment">;</span>
        <span class="hljs-attr">mRadioProxy</span> = radio<span class="hljs-comment">;</span>
        <span class="hljs-attr">mIsAidl</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    }

    /**
     * Set IRadio as the AIDL implementation for RadioServiceProxy
     */
    public void setAidl(android.hardware.radio.IRadio radioAidl) {
        <span class="hljs-attr">mAidlRadioProxy</span> = radioAidl<span class="hljs-comment">;</span>
        <span class="hljs-attr">mIsAidl</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    }

    public boolean isAidl() {
        return mIsAidl<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h3 data-id="heading-11">6. å…¼å®¹æ€§å±‚ï¼šlibradiocompat</h3>
<p>Android 13 å¼•å…¥äº†å…¼å®¹æ€§å±‚ï¼Œå…è®¸åœ¨ AIDL æ¡†æ¶ä¸­ä½¿ç”¨æ—§çš„ HIDL HAL å®ç°ã€‚</p>
<h4 data-id="heading-12">6.1 æ¶æ„</h4>
<pre><code class="hljs language-scss" lang="scss">         Framework (AIDL)
               â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   â”‚
  AIDL HAL          libradiocompat
  (Native)          (Converter)
                        â”‚
                   HIDL HAL (Legacy)
</code></pre>
<h4 data-id="heading-13">6.2 æ•°æ®ç»“æ„è½¬æ¢</h4>
<p>libradiocompat æä¾›äº†åŒå‘è½¬æ¢å‡½æ•°ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">19</span><span class="hljs-symbol">:</span><span class="hljs-number">45</span><span class="hljs-symbol">:hardware_interfaces/radio/aidl/compat/libradiocompat/commonStructs</span>.cpp
namespace android::hardware::radio::compat {

<span class="hljs-regexp">//</span> <span class="hljs-variable constant_">HIDL</span> to <span class="hljs-variable constant_">AIDL</span> conversion
aidl::<span class="hljs-title class_">RadioResponseInfo</span> toAidl(const <span class="hljs-variable constant_">V1_0</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:RadioResponseInfo&amp;</span> info) {
    <span class="hljs-keyword">return</span> {
            .type = toAidl(info.type),
            .serial = info.serial,
            .error = toAidl(info.error),
    };
}

/<span class="hljs-regexp">/ AIDL to HIDL conversion
V1_0::RadioCapability toHidl(const aidl::RadioCapability&amp; capa) {
    return {
            .session = capa.session,
            .phase = static_cast&lt;V1_0::RadioCapabilityPhase&gt;(capa.phase),
            .raf = toHidlBitfield&lt;V1_0::RadioAccessFamily&gt;(capa.raf),
            .logicalModemUuid = capa.logicalModemUuid,
            .status = static_cast&lt;V1_0::RadioCapabilityStatus&gt;(capa.status),
    };
}

}
</span></code></pre>
<h4 data-id="heading-14">6.3 é›†åˆè½¬æ¢</h4>
<p>æ”¯æŒå‘é‡å’Œæ•°ç»„çš„è‡ªåŠ¨è½¬æ¢ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">23</span>:<span class="hljs-number">56</span>:hardware_interfaces/radio/aidl/compat/libradiocompat/collections.h
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">toAidl</span><span class="hljs-params">(<span class="hljs-type">const</span> hidl_vec&lt;T&gt;&amp; inp)</span> </span>{
    <span class="hljs-function">std::vector&lt;<span class="hljs-title">decltype</span><span class="hljs-params">(toAidl(T{}))</span>&gt; <span class="hljs-title">out</span><span class="hljs-params">(inp.size())</span></span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; inp.<span class="hljs-built_in">size</span>(); i++) {
        out[i] = <span class="hljs-built_in">toAidl</span>(inp[i]);
    }
    <span class="hljs-keyword">return</span> out;
}

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">toHidl</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; inp)</span> </span>{
    <span class="hljs-function">hidl_vec&lt;<span class="hljs-title">decltype</span><span class="hljs-params">(toHidl(T{}))</span>&gt; <span class="hljs-title">out</span><span class="hljs-params">(inp.size())</span></span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; inp.<span class="hljs-built_in">size</span>(); i++) {
        out[i] = <span class="hljs-built_in">toHidl</span>(inp[i]);
    }
    <span class="hljs-keyword">return</span> out;
}
</code></pre>
<h3 data-id="heading-15">7. å…³é”®å·®å¼‚å¯¹æ¯”è¡¨</h3>























































<table><thead><tr><th>ç‰¹æ€§</th><th>HIDL</th><th>AIDL</th></tr></thead><tbody><tr><td><strong>å¼•å…¥æ—¶é—´</strong></td><td>Android 7.0 (Nougat)</td><td>Android 13 (Tiramisu)</td></tr><tr><td><strong>å®šä¹‰æ–‡ä»¶</strong></td><td><code>.hal</code></td><td><code>.aidl</code></td></tr><tr><td><strong>æ¥å£ç²’åº¦</strong></td><td>å•ä½“ï¼ˆIRadio åŒ…å«æ‰€æœ‰ï¼‰</td><td>æ¨¡å—åŒ–ï¼ˆIRadioVoice, IRadioData ç­‰ï¼‰</td></tr><tr><td><strong>ç‰ˆæœ¬ç®¡ç†</strong></td><td>æ•´ä½“ç‰ˆæœ¬ï¼ˆ1.0-1.6ï¼‰</td><td>æŒ‰æ¨¡å—ç‰ˆæœ¬ï¼ˆå„æ¨¡å—ç‹¬ç«‹ï¼‰</td></tr><tr><td><strong>ç±»å‹ç³»ç»Ÿ</strong></td><td>å¤æ‚ç»§æ‰¿ä½“ç³»</td><td>ç®€æ´çš„ parcelable ç±»å‹</td></tr><tr><td><strong>ä»£ç ç”Ÿæˆ</strong></td><td>HIDL ç¼–è¯‘å™¨</td><td>AIDL ç¼–è¯‘å™¨</td></tr><tr><td><strong>äºŒè¿›åˆ¶å…¼å®¹æ€§</strong></td><td>ä½¿ç”¨ HIDL è¿è¡Œæ—¶</td><td>ä½¿ç”¨ Binder</td></tr><tr><td><strong>å…¼å®¹æ€§æ”¯æŒ</strong></td><td>åŸç”Ÿæ”¯æŒ HIDL</td><td>é€šè¿‡ libradiocompat</td></tr><tr><td><strong>æ€§èƒ½ç‰¹å¾</strong></td><td>é’ˆå¯¹ HAL ä¼˜åŒ–</td><td>é€šç”¨ IPC ä¼˜åŒ–</td></tr></tbody></table>
<h3 data-id="heading-16">8. ç‰ˆæœ¬ç®¡ç†å¯¹æ¯”</h3>
<p><strong>HIDL ç‰ˆæœ¬æ¼”è¿›ï¼š</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">android.hardware.radio<span class="hljs-variable">@1</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span>
    â”œâ”€ dial()
    â”œâ”€ hangupConnection()
    â””â”€ ...

android.hardware.radio<span class="hljs-variable">@1</span>.<span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span> extends <span class="hljs-variable">@1</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span>
    â””â”€ setCarrierInfoForImsiEncryption()  (æ–°å¢)

android.hardware.radio<span class="hljs-variable">@1</span>.<span class="hljs-number">2</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span> extends <span class="hljs-variable">@1</span>.<span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span>
    â””â”€ startNetworkScan()                 (æ–°å¢)

...

android.hardware.radio<span class="hljs-variable">@1</span>.<span class="hljs-number">6</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span> extends <span class="hljs-variable">@1</span>.<span class="hljs-number">5</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadio</span>
    â””â”€ setSimCardPower()                  (æ–°å¢)
</code></pre>
<p><strong>AIDL æ¨¡å—åŒ–ç‰ˆæœ¬ï¼š</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">android.hardware.radio.voice<span class="hljs-variable">@1</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadioVoice</span>
    â”œâ”€ dial()
    â”œâ”€ hangupConnection()
    â””â”€ ...

android.hardware.radio.data<span class="hljs-variable">@1</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadioData</span>
    â”œâ”€ setupDataCall()
    â”œâ”€ deactivateDataCall()
    â””â”€ ...

android.hardware.radio.sim<span class="hljs-variable">@1</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:IRadioSim</span>
    â”œâ”€ getIccCardStatus()
    â”œâ”€ supplyIccPin()
    â””â”€ ...
</code></pre>
<h3 data-id="heading-17">9. å®é™…é€šä¿¡æµç¨‹</h3>
<h4 data-id="heading-18">9.1 HIDL è¯·æ±‚/å“åº”</h4>
<pre><code class="hljs language-less" lang="less">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-tag">RIL</span> (Java/JNI)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">1</span>. <span class="hljs-selector-tag">mRadioProxy</span><span class="hljs-selector-class">.dial</span>(serial, dialInfo)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-tag">HIDL</span> <span class="hljs-selector-tag">Service</span> (radio<span class="hljs-variable">@1</span>.<span class="hljs-number">4</span>::IRadio)â”‚ (Native HAL)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">2</span>. å†…éƒ¨å¤„ç†
         â”‚ <span class="hljs-number">3</span>. è°ƒç”¨å“åº”å›è°ƒ
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-tag">HIDL</span> <span class="hljs-selector-tag">Callback</span> (IRadioResponse)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">4</span>. <span class="hljs-selector-tag">response-</span>&gt;<span class="hljs-selector-tag">dialResponse</span>(responseInfo)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-tag">RIL</span> <span class="hljs-selector-tag">Callback</span> <span class="hljs-selector-tag">Handler</span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-19">9.2 AIDL è¯·æ±‚/å“åº”</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RIL (Java/JNI)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">1</span>. mRadioProxy<span class="hljs-selector-class">.dial</span>(serial, dialInfo)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIDL Service (IRadioVoice)       â”‚ (Native HAL or Compat Layer)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">2</span>. å†…éƒ¨å¤„ç†
         â”‚ <span class="hljs-number">3</span>. è°ƒç”¨å“åº”å›è°ƒ
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIDL Callback (IRadioVoiceResponse)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ <span class="hljs-number">4</span>. response-&gt;<span class="hljs-built_in">dialResponse</span>(responseInfo)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RIL Callback Handlerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-20">10. æ„å»ºç³»ç»Ÿå·®å¼‚</h3>
<p><strong>HIDL ç¼–è¯‘ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile">hidl_interface {
    name: <span class="hljs-string">"android.hardware.radio"</span>,
    root: <span class="hljs-string">"android.hardware"</span>,
    srcs: [
        <span class="hljs-string">"1.4/IRadio.hal"</span>,
        <span class="hljs-string">"1.4/IRadioResponse.hal"</span>,
        <span class="hljs-string">"1.4/IRadioIndication.hal"</span>,
        <span class="hljs-string">"1.4/types.hal"</span>,
    ],
    interfaces: [
        <span class="hljs-string">"android.hardware.base@1.0"</span>,
    ],
}
</code></pre>
<p><strong>AIDL ç¼–è¯‘ï¼š</strong></p>
<pre><code class="hljs language-blueprint" lang="blueprint">aidl_interface {
    name: "android.hardware.radio",
    vendor_available: true,
    srcs: [
        "android/hardware/radio/voice/*.aidl",
        "android/hardware/radio/data/*.aidl",
        "android/hardware/radio/network/*.aidl",
        "android/hardware/radio/sim/*.aidl",
        "android/hardware/radio/modem/*.aidl",
        "android/hardware/radio/messaging/*.aidl",
    ],
    stability: "vintf",
    backend: {
        cpp: { enabled: true; },
        java: { enabled: true; },
    },
    versions_with_info: [
        { version: "1"; },
        { version: "2"; },
        { version: "3"; },
    ],
    frozen: true,
}
</code></pre>
<h3 data-id="heading-21">11. æ€§èƒ½å’Œç¨³å®šæ€§è€ƒé‡</h3>



































<table><thead><tr><th>æ–¹é¢</th><th>HIDL</th><th>AIDL</th></tr></thead><tbody><tr><td><strong>å†…å­˜å ç”¨</strong></td><td>è¾ƒå°ï¼ˆC++ ä¼˜åŒ–ï¼‰</td><td>ç›¸åŒæˆ–ç¨å¤§</td></tr><tr><td><strong>IPC å»¶è¿Ÿ</strong></td><td>ä¼˜åŒ–çš„ Binder ä½¿ç”¨</td><td>æ ‡å‡† Binder å»¶è¿Ÿ</td></tr><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>å¼ºç±»å‹æ£€æŸ¥</td><td>å¼ºç±»å‹æ£€æŸ¥</td></tr><tr><td><strong>å‘åå…¼å®¹</strong></td><td>é€šè¿‡ç»§æ‰¿é“¾</td><td>é€šè¿‡ç‰ˆæœ¬ç®¡ç†</td></tr><tr><td><strong>çƒ­ä¿®å¤</strong></td><td>å›°éš¾ï¼ˆç‰ˆæœ¬é”å®šï¼‰</td><td>æ›´å®¹æ˜“ï¼ˆæ¨¡å—ç‹¬ç«‹ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-22">12. è¿ç§»å»ºè®®</h3>
<p><strong>ä» HIDL è¿ç§»åˆ° AIDL çš„å¥½å¤„ï¼š</strong></p>
<ol>
<li><strong>æ¨¡å—åŒ–</strong> - å„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹æ¼”è¿›</li>
<li><strong>ç»Ÿä¸€ IPC</strong> - ä¸å†æœ‰ç‰¹æ®Šçš„ HAL IPC æœºåˆ¶</li>
<li><strong>çµæ´»ç‰ˆæœ¬ç®¡ç†</strong> - æ¯ä¸ªæ¨¡å—ç‹¬ç«‹ç‰ˆæœ¬</li>
<li><strong>æ›´å¥½çš„å·¥å…·</strong> - ç»Ÿä¸€ä½¿ç”¨ AIDL å·¥å…·é“¾</li>
<li><strong>é•¿æœŸæ”¯æŒ</strong> - AIDL æ˜¯æœªæ¥æ–¹å‘</li>
</ol>
<p><strong>å…¼å®¹æ€§ç­–ç•¥ï¼š</strong></p>
<ul>
<li>Android 13-14ï¼šHIDL å’Œ AIDL å¹¶å­˜ï¼Œé€šè¿‡ libradiocompat æ”¯æŒæ—§ HAL</li>
<li>Android 15+ï¼šå¯èƒ½é€æ­¥æ·˜æ±° HIDL æ”¯æŒ</li>
</ul>
<hr/>
<p>æ€»ç»“æ¥è¯´ï¼Œ<strong>HIDL æ˜¯é’ˆå¯¹ HAL çš„ä¸“ç”¨æ¥å£è¯­è¨€</strong>ï¼Œè€Œ <strong>AIDL æ˜¯é€šç”¨çš„ç³»ç»ŸæœåŠ¡æ¥å£è¯­è¨€</strong>ã€‚RIL ä» HIDL è¿ç§»åˆ° AIDL åæ˜ äº† Android ç³»ç»Ÿæ¶æ„å‘æ›´ç»Ÿä¸€ã€æ¨¡å—åŒ–æ–¹å‘çš„æ¼”è¿›ã€‚</p>
<p>æœ‰ä»»ä½•å…³äº HIDL/AIDL åœ¨ RIL ä¸­çš„å®ç°ç»†èŠ‚çš„é—®é¢˜å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Modem å‘ç³»ç»Ÿä¸ŠæŠ¥çš„æ— çº¿æŒ‡ç¤ºï¼ˆUnsolicited Indicationï¼‰çš„å®Œæ•´åˆ—è¡¨]]></title>    <link>https://juejin.cn/post/7603359026711478282</link>    <guid>https://juejin.cn/post/7603359026711478282</guid>    <pubDate>2026-02-06T09:29:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603359026711478282" data-draft-id="7603393977477365786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Modem å‘ç³»ç»Ÿä¸ŠæŠ¥çš„æ— çº¿æŒ‡ç¤ºï¼ˆUnsolicited Indicationï¼‰çš„å®Œæ•´åˆ—è¡¨"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-06T09:29:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Modem å‘ç³»ç»Ÿä¸ŠæŠ¥çš„æ— çº¿æŒ‡ç¤ºï¼ˆUnsolicited Indicationï¼‰çš„å®Œæ•´åˆ—è¡¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:29:59.000Z" title="Fri Feb 06 2026 09:29:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Modem å‘ç³»ç»Ÿä¸ŠæŠ¥çš„æ— çº¿æŒ‡ç¤ºå…±åˆ†ä¸º <strong>7 ä¸ªå¤§ç±»</strong>ï¼Œæ€»è®¡çº¦ <strong>70+ ç§å…·ä½“æŒ‡ç¤º</strong>ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š</p>
<hr/>
<h2 data-id="heading-0">1ï¸âƒ£ <strong>è¯­éŸ³æŒ‡ç¤ºï¼ˆVoice Indicationsï¼‰- 13 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioVoiceIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> callRing                          - æ¥ç”µé“ƒå£°ï¼ˆæ¥ç”µå“é“ƒæŒ‡ç¤ºï¼‰
<span class="hljs-bullet">2.</span> callStateChanged                  - é€šè¯çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">3.</span> cdmaCallWaiting                   - CDMA å‘¼å«ç­‰å¾…
<span class="hljs-bullet">4.</span> cdmaInfoRec                       - CDMA ä¿¡æ¯è®°å½•
<span class="hljs-bullet">5.</span> cdmaOtaProvisionStatus            - CDMA OTA é…ç½®çŠ¶æ€
<span class="hljs-bullet">6.</span> currentEmergencyNumberList        - ç´§æ€¥å·ç åˆ—è¡¨
<span class="hljs-bullet">7.</span> enterEmergencyCallbackMode        - è¿›å…¥ç´§æ€¥å›è°ƒæ¨¡å¼
<span class="hljs-bullet">8.</span> exitEmergencyCallbackMode         - é€€å‡ºç´§æ€¥å›è°ƒæ¨¡å¼
<span class="hljs-bullet">9.</span> indicateRingbackTone              - æŒ‡ç¤ºå›é“ƒéŸ³
<span class="hljs-bullet">10.</span> onSupplementaryServiceIndication - è¡¥å……æœåŠ¡æŒ‡ç¤º
<span class="hljs-bullet">11.</span> onUssd                           - USSD æ¶ˆæ¯
<span class="hljs-bullet">12.</span> resendIncallMute                 - é‡æ–°å‘é€é€šè¯ä¸­é™éŸ³
<span class="hljs-bullet">13.</span> srvccStateNotify                 - SRVCC çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">14.</span> stkCallControlAlphaNotify        - STK å‘¼å«æ§åˆ¶å­—æ¯é€šçŸ¥
<span class="hljs-bullet">15.</span> stkCallSetup                     - STK è®¾ç½®å‘¼å«
</code></pre>
<hr/>
<h2 data-id="heading-1">2ï¸âƒ£ <strong>æ•°æ®æŒ‡ç¤ºï¼ˆData Indicationsï¼‰- 5 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioDataIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> dataCallListChanged     - æ•°æ®è¿æ¥åˆ—è¡¨å˜åŒ–
<span class="hljs-bullet">2.</span> keepaliveStatus         - ä¿æ´»ä¼šè¯çŠ¶æ€
<span class="hljs-bullet">3.</span> pcoData                 - PCO æ•°æ®ï¼ˆè¿è¥å•†é…ç½®æ•°æ®ï¼‰
<span class="hljs-bullet">4.</span> unthrottleApn           - è§£é™¤ APN é™æµ
<span class="hljs-bullet">5.</span> slicingConfigChanged    - ç½‘ç»œåˆ‡ç‰‡é…ç½®å˜åŒ–
</code></pre>
<hr/>
<h2 data-id="heading-2">3ï¸âƒ£ <strong>ç½‘ç»œæŒ‡ç¤ºï¼ˆNetwork Indicationsï¼‰- 14 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioNetworkIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> barringInfoChanged              - ç¦ç”¨ä¿¡æ¯å˜åŒ–
<span class="hljs-bullet">2.</span> cdmaPrlChanged                  - CDMA PRL ç‰ˆæœ¬å˜åŒ–
<span class="hljs-bullet">3.</span> cellInfoList                    - å°åŒºä¿¡æ¯åˆ—è¡¨
<span class="hljs-bullet">4.</span> currentLinkCapacityEstimate     - é“¾è·¯å®¹é‡ä¼°è®¡
<span class="hljs-bullet">5.</span> currentPhysicalChannelConfigs   - ç‰©ç†ä¿¡é“é…ç½®
<span class="hljs-bullet">6.</span> currentSignalStrength           - ä¿¡å·å¼ºåº¦
<span class="hljs-bullet">7.</span> imsNetworkStateChanged          - IMS ç½‘ç»œçŠ¶æ€å˜åŒ–
<span class="hljs-bullet">8.</span> networkScanResult               - ç½‘ç»œæ‰«æç»“æœ
<span class="hljs-bullet">9.</span> networkStateChanged             - ç½‘ç»œçŠ¶æ€å˜åŒ–
<span class="hljs-bullet">10.</span> nitzTimeReceived               - NITZ æ—¶é—´æ¥æ”¶
<span class="hljs-bullet">11.</span> registrationFailed             - æ³¨å†Œå¤±è´¥
<span class="hljs-bullet">12.</span> restrictedStateChanged         - å—é™çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">13.</span> suppSvcNotify                  - è¡¥å……æœåŠ¡é€šçŸ¥
<span class="hljs-bullet">14.</span> voiceRadioTechChanged          - è¯­éŸ³æ— çº¿æŠ€æœ¯å˜åŒ–
<span class="hljs-bullet">15.</span> emergencyNetworkScanResult     - ç´§æ€¥ç½‘ç»œæ‰«æç»“æœ
</code></pre>
<hr/>
<h2 data-id="heading-3">4ï¸âƒ£ <strong>SIM/å¡æŒ‡ç¤ºï¼ˆSIM Indicationsï¼‰- 10 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioSimIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> carrierInfoForImsiEncryption    - è¿è¥å•† IMSI åŠ å¯†ä¿¡æ¯
<span class="hljs-bullet">2.</span> cdmaSubscriptionSourceChanged   - CDMA è®¢é˜…æºå˜åŒ–
<span class="hljs-bullet">3.</span> simPhonebookChanged             - SIM ç”µè¯ç°¿å˜åŒ–
<span class="hljs-bullet">4.</span> simPhonebookRecordsReceived     - SIM ç”µè¯ç°¿è®°å½•æ¥æ”¶
<span class="hljs-bullet">5.</span> simRefresh                      - SIM åˆ·æ–°
<span class="hljs-bullet">6.</span> simStatusChanged                - SIM çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">7.</span> stkEventNotify                  - STK äº‹ä»¶é€šçŸ¥
<span class="hljs-bullet">8.</span> stkProactiveCommand             - STK ä¸»åŠ¨å‘½ä»¤
<span class="hljs-bullet">9.</span> stkSessionEnd                   - STK ä¼šè¯ç»“æŸ
<span class="hljs-bullet">10.</span> subscriptionStatusChanged      - è®¢é˜…çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">11.</span> uiccApplicationsEnablementChanged - UICC åº”ç”¨å¯ç”¨/ç¦ç”¨å˜åŒ–
</code></pre>
<hr/>
<h2 data-id="heading-4">5ï¸âƒ£ <strong>æ¶ˆæ¯æŒ‡ç¤ºï¼ˆMessaging Indicationsï¼‰- 6 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioMessagingIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> cdmaNewSms               - æ–° CDMA çŸ­ä¿¡
<span class="hljs-bullet">2.</span> cdmaRuimSmsStorageFull   - CDMA RUIM çŸ­ä¿¡å­˜å‚¨æ»¡
<span class="hljs-bullet">3.</span> newBroadcastSms          - æ–°å¹¿æ’­çŸ­ä¿¡
<span class="hljs-bullet">4.</span> newSms                   - æ–° GSM çŸ­ä¿¡
<span class="hljs-bullet">5.</span> newSmsOnSim              - SIM å¡ä¸Šæ–°çŸ­ä¿¡
<span class="hljs-bullet">6.</span> newSmsStatusReport       - çŸ­ä¿¡çŠ¶æ€æŠ¥å‘Š
<span class="hljs-bullet">7.</span> simSmsStorageFull        - SIM çŸ­ä¿¡å­˜å‚¨æ»¡
</code></pre>
<hr/>
<h2 data-id="heading-5">6ï¸âƒ£ <strong>Modem/è°ƒåˆ¶è§£è°ƒå™¨æŒ‡ç¤ºï¼ˆModem Indicationsï¼‰- 6 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioModemIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> hardwareConfigChanged    - ç¡¬ä»¶é…ç½®å˜åŒ–
<span class="hljs-bullet">2.</span> modemReset               - Modem é‡å¯
<span class="hljs-bullet">3.</span> radioCapabilityIndication - Radio èƒ½åŠ›æŒ‡ç¤º
<span class="hljs-bullet">4.</span> radioStateChanged        - Radio çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">5.</span> rilConnected             - RIL è¿æ¥
<span class="hljs-bullet">6.</span> onImeiMappingChanged     - IMEI æ˜ å°„å˜åŒ–
</code></pre>
<hr/>
<h2 data-id="heading-6">7ï¸âƒ£ <strong>IMS æŒ‡ç¤ºï¼ˆIMS Indicationsï¼‰- 3 ç§</strong></h2>
<p>æ¥è‡ª <code>IRadioImsIndication</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> onConnectionSetupFailure - IMS è¿æ¥è®¾ç½®å¤±è´¥
<span class="hljs-bullet">2.</span> notifyAnbr               - æ¥æ”¶ç½‘ç»œé€Ÿç‡å»ºè®® (ANBR)
<span class="hljs-bullet">3.</span> triggerImsDeregistration - è§¦å‘ IMS å»æ³¨å†Œ
</code></pre>
<hr/>
<h2 data-id="heading-7">é¢å¤–ä¿¡æ¯ï¼šConfig æŒ‡ç¤ºï¼ˆConfig Indicationsï¼‰</h2>
<p>é™¤äº†ä¸Šè¿°ä¸»è¦æŒ‡ç¤ºï¼Œè¿˜æœ‰ <strong>Config ç›¸å…³æŒ‡ç¤º</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ¥è‡ª IRadioConfigIndication æ¥å£ï¼š
<span class="hljs-bullet">1.</span> simSlotsStatusChanged      - SIM æ§½çŠ¶æ€å˜åŒ–
<span class="hljs-bullet">2.</span> enabledLogicalSlots        - å¯ç”¨çš„é€»è¾‘æ§½å˜åŒ–
</code></pre>
<hr/>
<h2 data-id="heading-8">ğŸ“Š æ€»ä½“åˆ†ç±»</h2>


















































<table><thead><tr><th>ç±»åˆ«</th><th>æŒ‡ç¤ºæ•°</th><th>ä¸»è¦åŠŸèƒ½</th></tr></thead><tbody><tr><td>Voice</td><td>13</td><td>é€šè¯ã€CDMAã€ç´§æ€¥å‘¼å«ã€STK</td></tr><tr><td>Data</td><td>5</td><td>æ•°æ®è¿æ¥ã€PCOã€APN é™æµ</td></tr><tr><td>Network</td><td>15</td><td>ç½‘ç»œæ³¨å†Œã€ä¿¡å·ã€å°åŒºä¿¡æ¯</td></tr><tr><td>SIM</td><td>11</td><td>SIM å¡ã€STKã€è®¢é˜…</td></tr><tr><td>Messaging</td><td>7</td><td>SMSã€å¹¿æ’­çŸ­ä¿¡</td></tr><tr><td>Modem</td><td>6</td><td>Radio çŠ¶æ€ã€ç¡¬ä»¶é…ç½®ã€RIL</td></tr><tr><td>IMS</td><td>3</td><td>IMS è¿æ¥ã€é€Ÿç‡å»ºè®®</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>~60+</strong></td><td>â€”</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">ğŸ”‘ å…³é”®ç‚¹</h2>
<ol>
<li>
<p><strong>HIDL vs AIDL</strong>ï¼š</p>
<ul>
<li><strong>HIDL 1.0-1.6</strong>ï¼šæ‰€æœ‰æŒ‡ç¤ºé€šè¿‡å•ä¸€ <code>IRadioIndication</code> æ¥å£</li>
<li><strong>AIDL</strong>ï¼šæŒ‡ç¤ºåˆ†ä¸º 7 ä¸ªä¸“é¡¹æ¥å£ï¼Œå®ç°äº†æ¨¡å—åŒ–è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>æŒ‡ç¤ºè§¦å‘æ—¶æœº</strong>ï¼š</p>
<ul>
<li>æŸäº›æŒ‡ç¤ºéœ€è¦ç¡®è®¤ï¼ˆå¦‚ SMSï¼‰</li>
<li>æŸäº›æŒ‡ç¤ºåªåœ¨çŠ¶æ€å˜åŒ–æ—¶è§¦å‘ï¼ˆå¦‚ networkStateChangedï¼‰</li>
<li>æŸäº›æŒ‡ç¤ºå¯èƒ½å®šæœŸè§¦å‘ï¼ˆå¦‚ signalStrengthï¼‰</li>
</ul>
</li>
<li>
<p><strong>Wake Lock ç­–ç•¥</strong>ï¼šåœ¨ HIDL ä¸­ï¼Œæ¯ä¸ªæŒ‡ç¤ºéƒ½å…³è”ä¸€ä¸ª wake lock ç­–ç•¥ï¼ˆ<code>WAKE_PARTIAL</code>ã€<code>DONT_WAKE</code> ç­‰ï¼‰</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤œå˜å¤©ï¼OpenAIç´§æ€¥ç”©å‡ºGPT-5.3-Codexï¼Œå¼ºå¾—è®©äººå¤´çš®å‘éº»ï¼ˆé™„å›½å†…ä½¿ç”¨æ–¹æ³•ï¼‰]]></title>    <link>https://juejin.cn/post/7603581886148919350</link>    <guid>https://juejin.cn/post/7603581886148919350</guid>    <pubDate>2026-02-06T09:28:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603581886148919350" data-draft-id="7603383059152224298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤œå˜å¤©ï¼OpenAIç´§æ€¥ç”©å‡ºGPT-5.3-Codexï¼Œå¼ºå¾—è®©äººå¤´çš®å‘éº»ï¼ˆé™„å›½å†…ä½¿ç”¨æ–¹æ³•ï¼‰"/> <meta itemprop="keywords" content="OpenAI,ChatGPT"/> <meta itemprop="datePublished" content="2026-02-06T09:28:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åƒçš„å°è‚¥ç¾Š"/> <meta itemprop="url" content="https://juejin.cn/user/2637045249608064"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤œå˜å¤©ï¼OpenAIç´§æ€¥ç”©å‡ºGPT-5.3-Codexï¼Œå¼ºå¾—è®©äººå¤´çš®å‘éº»ï¼ˆé™„å›½å†…ä½¿ç”¨æ–¹æ³•ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2637045249608064/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åƒçš„å°è‚¥ç¾Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:28:23.000Z" title="Fri Feb 06 2026 09:28:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŒæ ·æ˜¯ç«äº‰ï¼Œå›½å†…å¤–çš„æ–¹æ³•è¿˜çœŸçš„ä¸ä¸€æ ·ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e172ac7f95b745b1abec9c2f336e89cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=f9jseoJdtFLZ3%2BmKM25FH8CsbEk%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¤©å‡Œæ™¨ï¼Œå¤§äº‹ä»¶ä¸€ä¸ªæ¥ä¸€ä¸ªã€‚</p>
<p>Anthropicå’ŒOpenAIè¿™å¯¹"è€å†¤å®¶"ï¼ŒåˆåŒä¸€ä¸ªå¤œæ™šç©äº†æ¬¡æƒŠå¤©å¤§åè½¬ï¼Œå¼€å§‹é›†ä½“æ‰å †å‘å¸ƒæ¨¡å‹ï¼Œä½ è¿˜åœ¨å›å‘³Claude Opus 4.6çš„èƒ½åŠ›ã€‚</p>
<p>OpenAIå°±ç”©å‡ºäº†GPT-5.3-Codexï¼Œä¸€ä¸ªä¸“ä¸ºå¼€å‘è€…è®¾è®¡çš„ç¼–ç¨‹å¸®æ‰‹ï¼Œå¥¥ç‰¹æ›¼ç§°å…¶æ‹¥æœ‰ç›®å‰æœ€ä½³çš„ç¼–ç æ€§èƒ½ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾äº† Codex çš„æ½œèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb9ed97be55448ecadc755679217eaaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=LHjJ4vjMyWK8e3KFnkyKeuabXvo%3D" alt="" loading="lazy"/></p>
<p>é‚£è¿™æ¬¾æ–°æ¨¡å‹åˆ°åº•æœ‰å¤šå¼ºï¼Ÿå›½å†…èƒ½ä¸èƒ½ç”¨ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Ÿä»Šå¤©è¿™ç¯‡æ–‡ç« ç»™å¤§å®¶ä¸€æ¬¡æ€§è®²æ¸…æ¥šï¼</p>
<p>OpenAIç›´æ¥ç”©å‡ºäº†æ•°æ®ï¼šSWE-Bench Proè¾¾åˆ°56.8%ï¼ˆè¿™æ˜¯å®é™…è½¯ä»¶å·¥ç¨‹åœºæ™¯çš„éš¾é¢˜é›†ï¼‰ï¼ŒTerminal-Bench 2.0è¾¾åˆ°77.3%ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/645e9bf8089743349a962092de9a72d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=yV%2BCMR71iUV%2BQbLhC%2BXTo9GwkeE%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸¤ä¸ªæˆç»©æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿç®€å•è¯´ï¼Œè¿™æ˜¯OpenAIåœ¨å½“å‰ç¼–ç¨‹æ¨¡å‹ä¸­è¡¨ç°çªå‡ºçš„æˆç»©ã€‚ç›¸æ¯”GPT-5.2-Codexï¼Œé€Ÿåº¦å¿«äº†25%ï¼Œæ¶ˆè€—çš„tokenè¿˜æ›´å°‘ã€‚</p>
<p>è€Œä¸”è¿™ä¸€æ¬¡ï¼ŒGPT-5.3-Codexè¿˜åšåˆ°äº†ä¸€ä¸ªç‰¹åˆ«æœ‰æ„æ€çš„äº‹å„¿ï¼šå®ƒæœ¬èº«çš„è®­ç»ƒå’Œä¼˜åŒ–ï¼Œç”¨çš„å°±æ˜¯Codexçš„æ—©æœŸç‰ˆæœ¬ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒOpenAIçš„å›¢é˜Ÿç”¨ä¸Šä¸ªæœˆçš„Codexå»æ‰“ç£¨è¿™ä¸ªæœˆçš„Codexï¼Œè‡ªæˆ‘è¿­ä»£çš„æ•ˆç‡æ˜¾è‘—æå‡ï¼Œä¸¤ä¸ªæœˆå†…ï¼Œæ•´ä¸ªå…¬å¸çš„å·¥ä½œæ–¹å¼éƒ½è¢«å®ƒæ”¹é€ äº†ã€‚</p>
<p><strong>ä»ç¼–ç åŠ©æ‰‹å˜æˆå·¥ä½œæ™ºèƒ½ä½“ï¼Œè¿™æ¬¡GPT-5.3-Codexèƒ½åŠ›èŒƒå›´æ‰©å¤§åå€ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/203086cb123449b184a3a76da8f3bd3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=w3ZdJiC3YWK7HbhXUN47vXfiQWA%3D" alt="" loading="lazy"/></p>
<p>GPT-5.3-Codexä¸å†åªä¼š"å†™ä»£ç ã€å®¡ä»£ç "ï¼Œå®ƒè¿˜èƒ½å¤„ç†è´¢åŠ¡åˆ†æã€ç”Ÿæˆæ¼”ç¤ºç¨¿ã€åˆ¶ä½œæ•°æ®è¡¨æ ¼ã€è°ƒè¯•å¼‚å¸¸ã€éƒ¨ç½²ä¸Šçº¿ã€å†™PRDã€åšç”¨æˆ·ç ”ç©¶â€¦â€¦</p>
<p>å¬èµ·æ¥æœ‰ç‚¹å¤¸å¼ ï¼Œä½†è¿™å°±æ˜¯OpenAIæ‰€è¯´çš„"Beyond Coding"çš„çœŸå®å«ä¹‰ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œæ•´ä¸ªé¡¹ç›®å‘¨æœŸé‡Œï¼Œæ‰€æœ‰æ¶‰åŠåˆ°å±å¹•ã€é¼ æ ‡ã€ä»£ç ã€æ–‡æ¡£çš„äº‹å„¿ï¼Œå®ƒéƒ½èƒ½å‚ä¸ã€‚</p>
<p>OpenAIåœ¨GDPvalåŸºå‡†ï¼ˆæµ‹è¯•ä¸“ä¸šçŸ¥è¯†å·¥ä½œèƒ½åŠ›çš„æ ‡å‡†ï¼‰ä¸Šè¯æ˜äº†è¿™ä¸€ç‚¹ã€‚</p>
<p>GPT-5.3-Codexçš„è¡¨ç°è·ŸGPT-5.2æŒå¹³ï¼Œéƒ½å¤„äºé¡¶å°–æ°´å‡†ã€‚åœ¨è®¡ç®—æœºæ“ä½œåŸºå‡†OSWorldä¸Šï¼Œå®ƒçš„è¡¨ç°ä¹Ÿè¿œè¶…ä¹‹å‰çš„GPTæ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4dfd91e0c1e471f9de5ee961805e57c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=PjTGLoiSlrqGumb2u9G9LL9bINI%3D" alt="" loading="lazy"/></p>
<p>ç¦»å‘å¸ƒä¼šä¸åˆ°12ä¸ªå°æ—¶ï¼Œå›½å†…å¤–çš„ç”¨æˆ·å·²ç»å¼€å§‹ç©ç–¯äº†ã€‚</p>
<p>æ¯”å¦‚è¿™ä½å¤§ä½¬å°±è¡¨ç¤ºï¼Œ GPT-5ã€‚3 Codex å…¶å®åœ¨ Three.js æ–¹é¢ç›¸å½“ç–¯ç‹‚ï¼Œéå¸¸è½»æ¾å°±åˆ¶ä½œå‡ºæˆ‘çš„ä¸–ç•Œï¼Œä½†Opus 4.6å°±ä¸å¤ªè¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88e9ed89745d48c18c1067bdf250dffa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=9be%2FKRMXjzRYzlLWgd0hd28sFSY%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ç”¨æˆ·è¡¨ç¤ºï¼ŒGPT-5.3 Codexç›¸æ¯”GPT 5.2æœ‰ç€å·¨å¤§çš„æå‡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e49f7e9c0d1471b8d8d41b598992cc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=V%2FbN0iNXvNtT20lPymwrdZuA5Qo%3D" alt="" loading="lazy"/></p>
<p>OpenAIåœ¨æµ‹è¯•ä¸­è®©GPT-5.3-Codexç”¨å‡ å¤©æ—¶é—´ä»é›¶å¼€å§‹åˆ¶ä½œäº†ä¸¤ä¸ªæ¸¸æˆã€‚</p>
<p>èµ›è½¦æ¸¸æˆç»è¿‡å®Œæ•´é‡åšï¼ŒåŠ å…¥äº†ä¸åŒèµ›æ‰‹ã€å…«å¼ åœ°å›¾å’Œä¸°å¯Œä»»åŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9a2880acc324be2a1b3dad5a4b566e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=hBNhXpmUI81H0RikvQO8nPSShu0%3D" alt="å›¾ç‰‡" loading="lazy"/>æ½œæ°´æ¸¸æˆè®©ç©å®¶æ¢ç´¢çŠç‘šç¤å¹¶æ”¶é›†é±¼ç±»æ ‡æœ¬ã€‚ä¸¤ä¸ªæ¸¸æˆæ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­ï¼ŒCodexè‡ªä¸»æ”¹è¿›ä¼˜åŒ–ï¼Œäººå·¥å¹²é¢„éœ€æ±‚æ˜¾è‘—å‡å°‘ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b107e72386554742a69d88f6a3a67dcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=8zjpMjfJRyA1OTuDiZ%2B46log904%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ›´ç›´è§‚çš„ä¾‹å­æ¥è‡ªOpenAIçš„å†…éƒ¨åº”ç”¨ã€‚</p>
<p>ç ”ç©¶å‘˜æƒ³äº†è§£Codexæ¯ä¸ªå›åˆèƒ½å®Œæˆå¤šå°‘å·¥ä½œã€‚ä»–è®©Codexè‡ªåŠ¨ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼åˆ†ç±»å™¨ï¼Œåˆ†æç”¨æˆ·æ¾„æ¸…è¯·æ±‚çš„é¢‘ç‡ã€åé¦ˆè´¨é‡å’Œä»»åŠ¡è¿›åº¦ï¼Œç„¶åç³»ç»Ÿåœ°åº”ç”¨åˆ°æ•´ä¸ªä¼šè¯æ—¥å¿—ï¼Œè¾“å‡ºäº†å®Œæ•´çš„æ•°æ®æŠ¥å‘Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00643107bd2d423fb837c9eae20b3069~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770974903&amp;x-signature=1HxJ1K9JAzqB%2F7IBsBFJCJ%2FRAgU%3D" alt="" loading="lazy"/></p>
<p>è¿™ç§å·¥ä½œé‡é€šå¸¸éœ€è¦äººç±»èŠ±è´¹å‡ å°æ—¶çš„ç»†è‡´åˆ†æå’Œç¼–ç¨‹ã€‚Codexåªç”¨ä¸‰åˆ†é’Ÿã€‚å½“AIå¼€å§‹åŠ é€Ÿè‡ªå·±é¢†åŸŸçš„å·¥ä½œæ—¶ï¼Œæ•ˆç‡æå‡æ‰çœŸæ­£å¼€å§‹ã€‚</p>
<p>é‚£å¤§å®¶è¦å¦‚ä½•ä½¿ç”¨å‘¢ï¼Œç›®å‰GPT-5.3-Codex å·²åŒ…å«åœ¨ ChatGPT çš„ä»˜è´¹å¥—é¤ä¸­ï¼Œä½† API è¿˜éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚</p>
<p>å¦‚æœä½ è¿˜ä¸ä¼šè®¢é˜…GPTçš„è¯ï¼Œå¯ä»¥å»çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ã€‚é‡Œé¢æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚</p>
<p>ç›¸å…³é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzE5MTgzNDg3OA%3D%3D%26mid%3D2247484177%26idx%3D1%26sn%3D798401a8bce3207e86958dd9a20bf8ce%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzE5MTgzNDg3OA==&amp;mid=2247484177&amp;idx=1&amp;sn=798401a8bce3207e86958dd9a20bf8ce&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">2025å…¨æ–°ChatGPT Plusè®¢é˜…çš„å…­ç§æ–¹æ³•ï¼Œå®æµ‹æœ‰æ•ˆï¼</a></p>
<p>è¯è¯´ï¼ŒClaude Opus 4.6å’ŒGPT-5.3-Codexåˆ°åº•è°æ›´å‰å®³å‘¢ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºèŠèŠï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŒ£è„±ä¸Šä¸‹æ–‡çš„æ·é”ï¼šOpenVikingï¼Œä¸º AI Agent è€Œç”Ÿçš„å¼€æºä¸Šä¸‹æ–‡æ•°æ®åº“]]></title>    <link>https://juejin.cn/post/7603308967126122496</link>    <guid>https://juejin.cn/post/7603308967126122496</guid>    <pubDate>2026-02-06T09:42:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603308967126122496" data-draft-id="7603581886148952118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŒ£è„±ä¸Šä¸‹æ–‡çš„æ·é”ï¼šOpenVikingï¼Œä¸º AI Agent è€Œç”Ÿçš„å¼€æºä¸Šä¸‹æ–‡æ•°æ®åº“"/> <meta itemprop="keywords" content="æ•°æ®åº“,å¼€æº,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-06T09:42:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­—èŠ‚è·³åŠ¨å¼€æº"/> <meta itemprop="url" content="https://juejin.cn/user/1227510999971086"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŒ£è„±ä¸Šä¸‹æ–‡çš„æ·é”ï¼šOpenVikingï¼Œä¸º AI Agent è€Œç”Ÿçš„å¼€æºä¸Šä¸‹æ–‡æ•°æ®åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1227510999971086/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­—èŠ‚è·³åŠ¨å¼€æº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:42:30.000Z" title="Fri Feb 06 2026 09:42:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>â€¨â€œWe are swimming in a sea of information, and we need to learn to navigate.â€ â€” Norbert Wiener</p>
<p>â€¨â€œæˆ‘ä»¬æ­£ç•…æ¸¸åœ¨ä¿¡æ¯çš„æµ·æ´‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¼šèˆªè¡Œã€‚â€ â€” è¯ºä¼¯ç‰¹Â·ç»´çº³</p>
</blockquote>
<p>AI Agent çš„æµªæ½®å·²è‡³ï¼Œå®ƒæ­£ä»ç®€å•çš„ä»»åŠ¡æ‰§è¡Œè€…ï¼Œæ¼”å˜ä¸ºèƒ½å¤Ÿæ„ŸçŸ¥ç¯å¢ƒã€è‡ªä¸»è§„åˆ’ã€å¹¶è°ƒç”¨å·¥å…·å®Œæˆå¤æ‚ç›®æ ‡çš„æ™ºèƒ½å®ä½“ã€‚ç„¶è€Œï¼Œåœ¨è¿™ç‰‡å……æ»¡æ— é™å¯èƒ½çš„æœºé‡ä¹‹æµ·ä¸­ï¼Œå¼€å‘è€…ä»¬å´æ™®éé­é‡äº†ä¸€åº§éš¾ä»¥é€¾è¶Šçš„å†°å±±â€”â€”<strong>ä¸Šä¸‹æ–‡ç®¡ç†</strong>ã€‚</p>
<p>éšç€æ¨¡å‹èƒ½åŠ›é£é€Ÿæå‡ï¼ŒAgent ä¸å†æ»¡è¶³äºå¤„ç†å•è½®å¯¹è¯æˆ–çŸ­æ–‡æœ¬ï¼Œè€Œæ˜¯å¼€å§‹é¢å¯¹é•¿å‘¨æœŸä»»åŠ¡ã€æµ·é‡å¤šæ¨¡æ€æ•°æ®å’Œå¤æ‚çš„ååŒéœ€æ±‚ã€‚è®°å¿†ã€èµ„æºã€æŠ€èƒ½â€¦â€¦è¿™äº›åŸæœ¬åˆ†æ•£å„å¤„çš„ä¸Šä¸‹æ–‡ï¼Œç®¡ç†èµ·æ¥æ„ˆå‘æ··ä¹±ã€‚ç„¶è€Œï¼Œå¦‚ä½•é«˜æ•ˆç®¡ç†å’Œåˆ©ç”¨è¿™äº›ä¸Šä¸‹æ–‡ï¼Œå·²æˆä¸ºå¼€å‘è€…ä»¬æ™®éé­é‡çš„ç“¶é¢ˆï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡æ— åºä¸”å‰²è£‚</strong>ï¼šè®°å¿†åœ¨ä»£ç ä¸­ï¼Œèµ„æºåœ¨å‘é‡åº“ï¼ŒæŠ€èƒ½åˆ†æ•£åœ¨å„ä¸ªè§’è½ï¼Œå…³è”å’Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</li>
<li><strong>é•¿ç¨‹ä»»åŠ¡éœ€è¦æ›´å¤šä¸Šä¸‹æ–‡</strong>ï¼šAgent é€æ¸ä»å¤„ç†å•è½®å¯¹è¯è½¬å‘æ‰§è¡Œé•¿å‘¨æœŸä»»åŠ¡ï¼Œä¼šæ¶‰åŠå¤šå·¥å…·ã€å¤š Agent é—´çš„å¤æ‚ååŒã€‚æ¯ä¸€è½®ä»»åŠ¡æ‰§è¡Œéƒ½ä¼šç»™ä¸Šä¸‹æ–‡çª—å£å’Œæ¨¡å‹ç†è§£å¸¦æ¥å‹åŠ›ï¼Œå¦‚æœç®€å•çš„æˆªæ–­æˆ–å‹ç¼©ï¼Œæœ¬è´¨ä¸Šæ˜¯â€œä¸¢å’ä¿å¸…â€ï¼Œä¼šå¸¦æ¥ä¸å¯é€†çš„ä¿¡æ¯æŸå¤±å’Œé«˜æ˜‚çš„æ¨¡å‹æˆæœ¬ã€‚</li>
<li><strong>æœ´ç´  RAG æ£€ç´¢æ•ˆæœå±€é™</strong>ï¼šæœ´ç´  RAG çš„æ•°æ®åˆ‡ç‰‡æ˜¯å¹³é“ºå¼å­˜å‚¨ï¼Œç¼ºä¹å…¨å±€è§†é‡ï¼Œé¢å¯¹æµ·é‡ã€å¤šæ¨¡æ€ä¸”æœ‰ä¿¡æ¯ç»„ç»‡çš„æ•°æ®è¶Šæ¥è¶ŠåŠ›ä¸ä»å¿ƒï¼Œå¯èƒ½ä¼šé”™å¤±å…³é”®ä¿¡æ¯ã€‚åŒæ—¶ï¼Œå®ƒè¿‡äºå…³æ³¨è¯­ä¹‰ç›¸å…³æ€§ï¼Œåœ¨éœ€è¦å…´è¶£æ³›åŒ–å’Œæ¢ç´¢çš„å¼€æ”¾å¼åœºæ™¯ä¸­è¡¨ç°ä¸ä½³ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡ç¼ºä¹è§‚æµ‹å’Œè°ƒè¯•ï¼š</strong> ä» DeepSeek å’Œ Manus çš„çˆ†ç«èƒ½å‘ç°ï¼Œåœ¨ AI è¶Šæ¥è¶Šå¼ºå¤§æ—¶ï¼Œç”¨æˆ·æ›´æ¸´æœ›ç™½ç›’åŒ–çš„ä½“éªŒï¼Œèƒ½çœ‹åˆ°å…¶æ€è€ƒä¸å†³ç­–çš„è½¨è¿¹ã€‚è€Œä¼ ç»Ÿ RAG éšå¼çš„æ£€ç´¢é“¾è·¯å¦‚åŒé»‘ç®±ï¼Œå‡ºé”™æ—¶éš¾ä»¥å½’å› å’Œè°ƒè¯•ï¼Œæ”¹è¿›é—¨æ§›é«˜ã€‚</li>
<li><strong>è®°å¿†æˆä¸ºæ ¸å¿ƒèµ„äº§</strong>ï¼šæ¨¡å‹æœ¬èº«æ˜¯é€šç”¨çš„ï¼Œå¤§å®¶è¶Šå‘æ„è¯†åˆ°æ²‰æ·€çš„è®°å¿†æ‰æ˜¯ Agent çš„æ ¸å¿ƒèµ„äº§ï¼Œä½†è¿™ä¸æ­¢åŒ…æ‹¬ä½¿ç”¨ç”¨æˆ·çš„è®°å¿†ï¼Œè¿˜åŒ…æ‹¬ Agent è‡ªèº«çš„ç»éªŒå’Œåå¥½è®°å¿†ã€‚è®°å¿†éœ€è¦åœ¨å¼€å‘åˆæœŸå°±å»ºè®¾èµ·æ¥ï¼Œè¿™æ ·æ‰èƒ½å½¢æˆä½¿ç”¨æ—¶é—´è¶Šé•¿ï¼Œä½“éªŒè¶Šå¥½çš„<strong>å¤åˆ©æ•ˆæœ</strong>ã€‚</li>
</ul>
<p>è€Œè¿‘å¹´æ¥ï¼Œä¸šç•Œä¹Ÿå…³äº Context Engineering æœ‰ä¸€äº›æ¢ç´¢å®è·µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmanus.im%2Fzh-cn%2Fblog%2FContext-Engineering-for-AI-Agents-Lessons-from-Building-Manus%3Fref%3Dblog.langchain.com" target="_blank" title="https://manus.im/zh-cn/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus?ref=blog.langchain.com" ref="nofollow noopener noreferrer">Manus</a> æå‡ºæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸Šä¸‹æ–‡çš„ç»ˆæå½¢æ€ï¼›<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FshareAI-lab%2Fanalysis_claude_code" target="_blank" title="https://github.com/shareAI-lab/analysis_claude_code" ref="nofollow noopener noreferrer">Claude Code çš„æˆåŠŸ</a>éªŒè¯äº†æ–‡ä»¶ç³»ç»Ÿ + Bash çš„ç®€æ´æ–¹æ¡ˆåœ¨ç‰¹å®šåœºæ™¯ä¸‹è¶…è¶Šå¤æ‚å‘é‡ç´¢å¼•çš„æ½œåŠ›ï¼›è€Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills%3Ff_link_type%3Df_linkinlinenote%26flow_extra%3DeyJpbmxpbmVfZGlzcGxheV9wb3NpdGlvbiI6MCwiZG9jX3Bvc2l0aW9uIjowLCJkb2NfaWQiOiIyZmU3MmRlZTEyNTU3NmM0LWZjZjk2Y2Q0MjM2MzI5ZTUifQ%253D%253D" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills?f_link_type=f_linkinlinenote&amp;flow_extra=eyJpbmxpbmVfZGlzcGxheV9wb3NpdGlvbiI6MCwiZG9jX3Bvc2l0aW9uIjowLCJkb2NfaWQiOiIyZmU3MmRlZTEyNTU3NmM0LWZjZjk2Y2Q0MjM2MzI5ZTUifQ%3D%3D" ref="nofollow noopener noreferrer">Anthropic çš„ Skills ç³»ç»Ÿ</a>ä¹Ÿå·§å¦™åœ°ä»¥æ–‡ä»¶å¤¹æ¥ç»„ç»‡èƒ½åŠ›æ¨¡å—ã€‚è¿™äº›å®è·µç»™äº†æˆ‘ä»¬å¯å‘ï¼Œä½†ä¹Ÿåæ˜ äº†ä¸€ä¸ªé—®é¢˜ï¼šæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸Šä¸‹æ–‡ä¸€ç§å¾ˆå¥½çš„ç»„ç»‡æ–¹å¼ï¼Œä½†å¹¶æ²¡æœ‰ä¸€ä¸ªç±»ä¼¼æ•°æ®åº“èƒ½æœ‰æ•ˆç®¡ç†Agentæ‰€éœ€æ‰€æœ‰ä¸Šä¸‹æ–‡å¹¶è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ­£å¼å¼€æº <strong>OpenViking</strong>â€”â€”ä¸“ä¸º AI Agent è®¾è®¡çš„ä¸Šä¸‹æ–‡æ•°æ®åº“ã€‚</p>
<p><strong>æˆ‘ä»¬æ—¨åœ¨ä¸º Agent å®šä¹‰ä¸€å¥—æç®€çš„ä¸Šä¸‹æ–‡äº¤äº’èŒƒå¼ï¼Œè®©å¼€å‘è€…å½»åº•å‘Šåˆ«ä¸Šä¸‹æ–‡ç®¡ç†çš„çƒ¦æ¼ã€‚</strong> OpenViking æ‘’å¼ƒäº†ä¼ ç»Ÿ RAG çš„ç¢ç‰‡åŒ–å‘é‡å­˜å‚¨æ¨¡å¼ï¼Œåˆ›æ–°æ€§åœ°é‡‡ç”¨â€œæ–‡ä»¶ç³»ç»ŸèŒƒå¼â€ <strong>ï¼Œ</strong> å°† Agent æ‰€éœ€çš„è®°å¿†ã€èµ„æºå’ŒæŠ€èƒ½è¿›è¡Œç»Ÿä¸€çš„ç»“æ„åŒ–ç»„ç»‡ã€‚</p>
<p><em><strong>Memory, Resource, Skill. Everything is a File.</strong></em></p>
<p><strong>è®°å¿†ã€èµ„æºã€æŠ€èƒ½ï¼Œçš†ä¸ºæ–‡ä»¶ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de9f4ca871ca43b796d60b3753c1955f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=qyhj6QCPUh%2Bg0RScoMCA7gTwruc%3D" alt="" loading="lazy"/></p>
<p>å€ŸåŠ© OpenVikingï¼Œä¸Šä¸‹æ–‡ä¸å†æ˜¯æ•£è½ä¸€åœ°çš„æ‹¼å›¾ï¼Œè€Œæ˜¯ä¸€ä¸ªå±‚æ¬¡åˆ†æ˜ã€äº•ç„¶æœ‰åºçš„è®¤çŸ¥ç³»ç»Ÿã€‚å®ƒèƒ½å¤Ÿå®ç°ä¸Šä¸‹æ–‡çš„<strong>åˆ†å±‚ä¾›ç»™</strong>ï¼Œåœ¨ä¿éšœä¿¡æ¯å®Œæ•´æ€§çš„å‰æä¸‹ï¼Œå°† Token æˆæœ¬é™è‡³æœ€ä½ï¼›å®ƒæä¾›<strong>ååŒå†™å…¥</strong>ä¸<strong>è‡ªæˆ‘è¿­ä»£</strong>æœºåˆ¶ï¼Œè®© Agent çš„â€œçŸ¥è¯†â€ä¸â€œç»éªŒâ€åœ¨ä¸ä¸–ç•Œçš„äº¤äº’ä¸­æŒç»­æˆé•¿ï¼Œå¼€å‘è€…å¯ä»¥åƒç®¡ç†æœ¬åœ°æ–‡ä»¶ä¸€æ ·æ„å»º Agent çš„å¤§è„‘ï¼š</p>
<ul>
<li>
<p><strong>æ–‡ä»¶ç³»ç»Ÿç®¡ç†èŒƒå¼ â†’ è§£å†³ç¢ç‰‡åŒ–é—®é¢˜ï¼š</strong> åŸºäºæ–‡ä»¶ç³»ç»ŸèŒƒå¼ï¼Œå°†è®°å¿†ã€èµ„æºã€æŠ€èƒ½è¿›è¡Œç»Ÿä¸€ä¸Šä¸‹æ–‡ç®¡ç†</p>
</li>
<li>
<p><strong>åˆ†å±‚ä¸Šä¸‹æ–‡æŒ‰éœ€åŠ è½½ â†’ é™ä½ Token æ¶ˆè€—ï¼š</strong> L0/L1/L2 ä¸‰å±‚ç»“æ„ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œå¤§å¹…èŠ‚çœæˆæœ¬</p>
</li>
<li>
<p><strong>ç›®å½•é€’å½’æ£€ç´¢ â†’ æå‡æ£€ç´¢æ•ˆæœï¼š</strong> æ”¯æŒåŸç”Ÿæ–‡ä»¶ç³»ç»Ÿæ£€ç´¢æ–¹å¼ï¼Œèåˆç›®å½•å®šä½ä¸è¯­ä¹‰æœç´¢ï¼Œå®ç°é€’å½’å¼ç²¾å‡†ä¸Šä¸‹æ–‡è·å–</p>
</li>
<li>
<p><strong>å¯è§†åŒ–æ£€ç´¢è½¨è¿¹ â†’ ä¸Šä¸‹æ–‡å¯è§‚æµ‹ï¼š</strong> æ”¯æŒå¯è§†åŒ–ç›®å½•æ£€ç´¢è½¨è¿¹ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ¸…æ™°è§‚æµ‹é—®é¢˜æ ¹æºå¹¶æŒ‡å¯¼æ£€ç´¢é€»è¾‘ä¼˜åŒ–</p>
</li>
<li>
<p><strong>ä¼šè¯è‡ªåŠ¨ç®¡ç† â†’ ä¸Šä¸‹æ–‡è‡ªè¿­ä»£ï¼š</strong> è‡ªåŠ¨å‹ç¼©å¯¹è¯ä¸­çš„å†…å®¹ã€èµ„æºå¼•ç”¨ã€å·¥å…·è°ƒç”¨ç­‰ä¿¡æ¯ï¼Œæå–é•¿æœŸè®°å¿†ï¼Œè®© Agent è¶Šç”¨è¶Šèªæ˜</p>
</li>
</ul>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥äº†è§£ OpenVikingï¼Œçœ‹çœ‹å®ƒå¦‚ä½•æŒ£è„±ä¸Šä¸‹æ–‡çš„æ·é”ï¼ŒåŠ©æ‚¨åœ¨ AI Agent çš„æµªæ½®ä¸­æ‰¬å¸†è¿œèˆªã€‚</p>
<h2 data-id="heading-0">OpenViking æ ¸å¿ƒç†å¿µ</h2>
<p>OpenViking çš„è®¾è®¡å“²å­¦å›´ç»•å››å¤§æ ¸å¿ƒç†å¿µæ„å»ºï¼Œæ—¨åœ¨å°†å¤æ‚çš„ä¸Šä¸‹æ–‡ç®¡ç†æµç¨‹åŒ–ç¹ä¸ºç®€ï¼Œè®©å¼€å‘è€…èƒ½å°†å®è´µçš„ç²¾åŠ›èšç„¦äºä¸šåŠ¡åˆ›æ–°ã€‚</p>
<h3 data-id="heading-1">æ–‡ä»¶ç³»ç»Ÿç®¡ç†èŒƒå¼</h3>
<p>æˆ‘ä»¬ä¸å†å°†ä¸Šä¸‹æ–‡è§†ä¸ºæ‰å¹³çš„æ–‡æœ¬åˆ‡ç‰‡ï¼Œè€Œæ˜¯å°†å…¶ç»Ÿä¸€æŠ½è±¡å¹¶ç»„ç»‡äºä¸€ä¸ª<strong>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</strong>ä¸­ã€‚æ— è®ºæ˜¯è®°å¿†ã€èµ„æºè¿˜æ˜¯èƒ½åŠ›ï¼Œéƒ½ä¼šè¢«æ˜ å°„åˆ° <code>viking://</code> åè®®ä¸‹çš„è™šæ‹Ÿç›®å½•ï¼Œæ‹¥æœ‰å”¯ä¸€çš„ URIã€‚è¿™ç§èŒƒå¼èµ‹äºˆäº† Agent å‰æ‰€æœªæœ‰çš„ä¸Šä¸‹æ–‡æ“æ§èƒ½åŠ›ï¼Œä½¿å…¶èƒ½åƒå¼€å‘è€…ä¸€æ ·ï¼Œé€šè¿‡ <code>list</code>ã€<code>find</code> ç­‰æ ‡å‡†æŒ‡ä»¤æ¥ç²¾ç¡®ã€ç¡®å®šæ€§åœ°å®šä½ã€æµè§ˆå’Œæ“ä½œä¿¡æ¯ï¼Œè®©ä¸Šä¸‹æ–‡çš„ç®¡ç†ä»æ¨¡ç³Šçš„è¯­ä¹‰åŒ¹é…æ¼”å˜ä¸ºç›´è§‚ã€å¯è¿½æº¯çš„â€œæ–‡ä»¶æ“ä½œâ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46a84972cea94b42bc51aa1b78a698ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=lcu0JVa7uCBfS4DaPIyeyrYDEOc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">åˆ†å±‚ä¸Šä¸‹æ–‡æŒ‰éœ€åŠ è½½</h3>
<p>å°†æµ·é‡ä¸Šä¸‹æ–‡ä¸€æ¬¡æ€§å¡å…¥æç¤ºè¯ï¼Œä¸ä»…æˆæœ¬é«˜æ˜‚ï¼Œæ›´å®¹æ˜“è¶…å‡ºæ¨¡å‹çª—å£å¹¶å¼•å…¥å™ªå£°ã€‚OpenViking å€Ÿé‰´ä¸šç•Œå‰æ²¿å®è·µï¼Œåœ¨ä¸Šä¸‹æ–‡å†™å…¥æ—¶ä¾¿è‡ªåŠ¨å°†å…¶å¤„ç†ä¸ºä¸‰ä¸ªå±‚çº§ï¼š</p>
<ul>
<li><strong>L0 (æ‘˜è¦)</strong> ï¼šä¸€å¥è¯æ¦‚æ‹¬ï¼Œç”¨äºå¿«é€Ÿåˆ¤æ–­ã€‚</li>
<li><strong>L1 (æ¦‚è¿°)</strong> ï¼šåŒ…å«æ ¸å¿ƒä¿¡æ¯å’Œä½¿ç”¨åœºæ™¯ï¼Œä¾› Agent åœ¨è§„åˆ’é˜¶æ®µè¿›è¡Œå†³ç­–ã€‚</li>
<li><strong>L2 (è¯¦æƒ…)</strong> ï¼šå®Œæ•´çš„åŸå§‹æ•°æ®ï¼Œä¾› Agent åœ¨ç¡®æœ‰å¿…è¦æ—¶æ·±å…¥è¯»å–ã€‚</li>
</ul>
<p>OpenViking çš„è®¾è®¡ä½¿å…¶èƒ½å¤Ÿçµæ´»é€‚é…å„ç±» AI Agent çš„å¼€å‘åœºæ™¯ã€‚æ— è®ºæ˜¯ç®€å•çš„é—®ç­”æœºå™¨äººï¼Œè¿˜æ˜¯å¤æ‚çš„è‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œå®ƒéƒ½èƒ½ä½œä¸ºåšå®çš„ä¸Šä¸‹æ–‡åº•åº§ï¼Œæä¾›ç¨³å®šã€é«˜æ•ˆçš„æ”¯æ’‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9a339372b374559b86ff73c1c0ad646~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=kbjVKQzmWsbxGlYPyqHObSLFQy0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">ç›®å½•é€’å½’æ£€ç´¢</h3>
<p>å•ä¸€çš„å‘é‡æ£€ç´¢éš¾ä»¥åº”å¯¹å¤æ‚çš„æŸ¥è¯¢æ„å›¾ã€‚OpenViking è®¾è®¡äº†ä¸€å¥—åˆ›æ–°çš„<strong>ç›®å½•é€’å½’æ£€ç´¢</strong>ç­–ç•¥ï¼Œå®ƒæ·±åº¦èåˆäº†å¤šç§æ£€ç´¢æ–¹å¼çš„ä¼˜ç‚¹ï¼šé¦–å…ˆï¼Œé€šè¿‡<strong>æ„å›¾åˆ†æç”Ÿæˆå¤šä¸ªæ£€ç´¢æ¡ä»¶</strong>ï¼›ç„¶åï¼Œåˆ©ç”¨å‘é‡æ£€ç´¢å¿«é€Ÿå®šä½åˆå§‹åˆ‡ç‰‡æ‰€åœ¨çš„<strong>é«˜åˆ†ç›®å½•</strong>ï¼›æ¥ç€ï¼Œåœ¨è¯¥ç›®å½•ä¸‹è¿›è¡Œ<strong>äºŒæ¬¡æ£€ç´¢</strong>ï¼Œå¹¶å°†é«˜åˆ†ç»“æœæ›´æ–°è‡³å€™é€‰é›†åˆï¼›è‹¥ç›®å½•ä¸‹ä»å­˜åœ¨å­ç›®å½•ï¼Œåˆ™<strong>é€å±‚é€’å½’</strong>é‡å¤ä¸Šè¿°äºŒæ¬¡æ£€ç´¢æ­¥éª¤ï¼›æœ€ç»ˆï¼Œæ‹¿åˆ°æœ€ç›¸å…³ä¸Šä¸‹æ–‡è¿”å›ã€‚è¿™ç§ â€œå…ˆé”å®šé«˜åˆ†ç›®å½•ã€å†ç²¾ç»†æ¢ç´¢å†…å®¹â€ çš„ç­–ç•¥ï¼Œä¸ä»…èƒ½æ‰¾åˆ°è¯­ä¹‰æœ€åŒ¹é…çš„ç‰‡æ®µï¼Œæ›´èƒ½ç†è§£ä¿¡æ¯æ‰€åœ¨çš„å®Œæ•´è¯­å¢ƒï¼Œä»è€Œæå‡æ£€ç´¢çš„å…¨å±€æ€§ä¸å‡†ç¡®æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95d56e8c09624b8c81c2db549f0cef37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=OGHEgTVRbuarmGtIrELMgTBlQUo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">å¯è§‚æµ‹ä¸è‡ªè¿­ä»£</h3>
<p>OpenViking çš„ç»„ç»‡æ–¹å¼é‡‡ç”¨å±‚æ¬¡åŒ–è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿç»“æ„ï¼Œæ‰€æœ‰ä¸Šä¸‹æ–‡å‡ä»¥ç»Ÿä¸€æ ¼å¼æ•´åˆä¸”æ¯ä¸ªæ¡ç›®å¯¹åº”å”¯ä¸€ URIï¼ˆå¦‚ viking:// è·¯å¾„ï¼‰ï¼Œæ‰“ç ´ä¼ ç»Ÿæ‰å¹³é»‘ç®±å¼ç®¡ç†æ¨¡å¼ï¼Œå±‚æ¬¡åˆ†æ˜æ˜“äºç†è§£ï¼›åŒæ—¶æ£€ç´¢è¿‡ç¨‹é‡‡ç”¨ç›®å½•é€’å½’ç­–ç•¥ï¼Œæ¯æ¬¡æ£€ç´¢çš„ç›®å½•æµè§ˆã€æ–‡ä»¶å®šä½è½¨è¿¹å‡è¢«å®Œæ•´ç•™å­˜ï¼Œèƒ½å¤Ÿæ¸…æ™°è§‚æµ‹é—®é¢˜æ ¹æºå¹¶æŒ‡å¯¼æ£€ç´¢é€»è¾‘ä¼˜åŒ–ã€‚</p>
<p>æ­¤å¤–ï¼ŒOpenViking å†…ç½®äº†è®°å¿†è‡ªè¿­ä»£é—­ç¯ã€‚åœ¨æ¯æ¬¡ä¼šè¯ç»“æŸæ—¶ï¼Œé€šè¿‡ <code>session.commit()</code> ä¸»åŠ¨è§¦å‘ï¼Œç³»ç»Ÿä¼šå¼‚æ­¥åˆ†æä»»åŠ¡æ‰§è¡Œç»“æœä¸ç”¨æˆ·åé¦ˆï¼Œå¹¶è‡ªåŠ¨æ›´æ–°è‡³ User å’Œ Agent çš„ /memory ç›®å½•ä¸‹ã€‚æ—¢èƒ½æ›´æ–°ç”¨æˆ·åå¥½ç›¸å…³è®°å¿†ï¼Œä½¿ Agent å›åº”æ›´è´´åˆç”¨æˆ·éœ€æ±‚ï¼Œåˆèƒ½ä»ä»»åŠ¡æ‰§è¡Œç»éªŒä¸­æå–æ“ä½œæŠ€å·§ã€å·¥å…·ä½¿ç”¨ç»éªŒç­‰æ ¸å¿ƒå†…å®¹ï¼ŒåŠ©åŠ›åç»­ä»»åŠ¡é«˜æ•ˆå†³ç­–å®ç°è‡ªæˆ‘è¿›åŒ–ï¼Œè®© Agent åœ¨ä¸ä¸–ç•Œçš„äº¤äº’ä¸­â€œè¶Šç”¨è¶Šèªæ˜â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f212e81f0d094753a073abecc5f04fd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=S9ZE%2FsXk%2F5h46%2B6R80pUnAwUwF8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å¿«é€Ÿä¸Šæ‰‹ï¼šä¸‰åˆ†é’Ÿè¿è¡Œ OpenViking</h2>
<p>OpenViking çš„ä¸€å¤§æ ¸å¿ƒä¼˜åŠ¿æ˜¯å…¶æç®€çš„é›†æˆæ–¹å¼ã€‚æˆ‘ä»¬æ·±çŸ¥å¼€å‘è€…çš„å®è´µæ—¶é—´ä¸åº”æµªè´¹åœ¨ç¹ççš„é…ç½®ä¸Šã€‚æ‚¨æ— éœ€éƒ¨ç½²å¤æ‚çš„æœåŠ¡æˆ–å­¦ä¹ æ–°çš„ DSLï¼Œåªéœ€é€šè¿‡å‡ è¡Œ Python ä»£ç ï¼Œå³å¯ä¸ºæ‚¨çš„ Agent è£…ä¸Šå¼ºå¤§çš„â€œä¸Šä¸‹æ–‡å¤§è„‘â€ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¯ä»¥OpenVikingçš„Readmeè‹±æ–‡ç‰ˆä½œä¸ºæ–‡ä»¶è¿›è¡Œå†™å…¥ï¼Œå±•ç¤ºå¤„ç†åçš„ä¸Šä¸‹æ–‡ç›®å½•ç»“æ„ï¼Œä»¥åŠå¯¹åº”æ–‡æ¡£çš„åˆ†å±‚ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œç®€å•é—®é¢˜çš„å›å¤ã€‚</p>
<h4 data-id="heading-6"><strong>ç¬¬ä¸€æ­¥ï¼šå®‰è£… OpenViking</strong></h4>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<h4 data-id="heading-7"><strong>ç¬¬äºŒæ­¥ï¼šè·å–æ¨¡å‹æœåŠ¡</strong></h4>
<p>OpenViking éœ€è¦VLMæ¨¡å‹ï¼ˆç”¨äºå¤šæ¨¡æ€å†…å®¹ç†è§£ï¼‰å’ŒEmbedding æ¨¡å‹ï¼ˆç”¨äºå‘é‡åŒ–ï¼‰èƒ½åŠ›çš„API Keyï¼š</p>
<p>æˆ‘ä»¬æ”¯æŒå¤šç§æ¨¡å‹æœåŠ¡ï¼š</p>
<ul>
<li>OpenAI æ¨¡å‹ï¼šæ”¯æŒ GPT-4V ç­‰ VLM æ¨¡å‹å’Œ OpenAI Embedding æ¨¡å‹</li>
<li>ç«å±±å¼•æ“ï¼ˆè±†åŒ…æ¨¡å‹ï¼‰ï¼šæ¨èä½¿ç”¨ï¼Œæˆæœ¬ä½ã€æ€§èƒ½å¥½ï¼Œæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦ã€‚å¦‚éœ€è´­ä¹°å’Œå¼€é€šï¼Œè¯·å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.byted.org%2Fdata-arch%2FOpenViking%2Fblob%2Fadd_readme%2Fdocs%2Fzh%2Fguides%2Fvolcengine-purchase-guide.md" target="_blank" title="https://code.byted.org/data-arch/OpenViking/blob/add_readme/docs/zh/guides/volcengine-purchase-guide.md" ref="nofollow noopener noreferrer">ç«å±±å¼•æ“è´­ä¹°æŒ‡å—</a></li>
<li>å…¶ä»–è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡ï¼šæ”¯æŒå…¼å®¹ OpenAI API æ ¼å¼çš„æ¨¡å‹æœåŠ¡</li>
</ul>
<h4 data-id="heading-8"><strong>ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒ</strong></h4>
<p>åˆ›å»ºé…ç½®æ–‡ä»¶ <code>ov.conf</code>ï¼š</p>
<blockquote>
<p>âš ï¸ é‡è¦æç¤ºï¼šè¯·å°†ä¸‹æ–¹é…ç½®ä¸­çš„ <code>&lt;your-volcengine-api-key&gt;</code> æ›¿æ¢ä¸ºä½ åœ¨ç¬¬äºŒæ­¥è·å–çš„çœŸå® API Keyï¼</p>
</blockquote>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<p>å¹¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<h4 data-id="heading-9"><strong>ç¬¬å››æ­¥ï¼šè¿è¡Œä½“éªŒ</strong></h4>
<p>åˆ›å»ºç®€å•çš„ Python è„šæœ¬ <code>example.py</code>å¹¶è¿è¡Œï¼Œé€šè¿‡å†™å…¥ OpenViking README æ–‡æ¡£æ¥ä½“éªŒå†™å…¥-æ£€ç´¢-è¯»å–çš„å…¨è¿‡ç¨‹ï¼š</p>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<p>è¿è¡Œè„šæœ¬ï¼š</p>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<p><strong>è‹¥æ‚¨å¾—åˆ°æ£€ç´¢ç»“æœï¼Œæ­å–œï¼ä½ å·²æˆåŠŸè¿è¡Œ OpenViking ğŸ‰</strong></p>
<h2 data-id="heading-10">å¼€æºå…±å»ºï¼Œå®šä¹‰ä¸‹ä¸€ä»£ Agent ä¸Šä¸‹æ–‡æ ‡å‡†</h2>
<p>æˆ‘ä»¬åšä¿¡ï¼Œå¼€æ”¾ä¸åä½œæ˜¯æ¨åŠ¨æŠ€æœ¯åˆ›æ–°çš„æ ¸å¿ƒåŠ¨åŠ›ã€‚å°† OpenViking å¼€æºï¼Œæ˜¯æˆ‘ä»¬å›é¦ˆç¤¾åŒºã€å¹¶ä¸å…¨çƒå¼€å‘è€…å…±åŒæ¢ç´¢ AI Agent æœªæ¥çš„ç¬¬ä¸€æ­¥ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€æ¬¡ä»£ç çš„åˆ†äº«ï¼Œæ›´æ˜¯ä¸€æ¬¡ç†å¿µçš„ä¼ æ’­ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡ OpenVikingï¼Œèƒ½å¤Ÿä¸ºä¸šç•Œæä¾›ä¸€ä¸ªå…³äº Agent ä¸Šä¸‹æ–‡ç®¡ç†çš„å…¨æ–°èŒƒå¼ï¼Œä¸€ä¸ªèƒ½å¤Ÿæœ‰æ•ˆé™ä½å¼€å‘é—¨æ§›ã€æ¿€å‘ä¸šåŠ¡åˆ›æ–°çš„åšå®åº•åº§ã€‚</p>
<p>æˆ‘ä»¬æ·±çŸ¥ï¼ŒOpenViking ç›®å‰è¿˜å¤„äºæ—©æœŸé˜¶æ®µï¼Œæœ‰è®¸å¤šéœ€è¦å®Œå–„å’Œæ¢ç´¢çš„åœ°æ–¹ã€‚ä½†è¿™æ­£æ˜¯å¼€æºçš„é­…åŠ›æ‰€åœ¨â€”â€”å®ƒå…è®¸æˆ‘ä»¬æ±‡èšæœ€å¹¿æ³›çš„æ™ºæ…§ï¼Œåº”å¯¹æœ€å‰æ²¿çš„æŒ‘æˆ˜ã€‚</p>
<p>åœ¨æ­¤ï¼Œæˆ‘ä»¬è¯šæŒšåœ°é‚€è¯·æ¯ä¸€ä½å¯¹ AI Agent æŠ€æœ¯å……æ»¡çƒ­æƒ…çš„å¼€å‘è€…ï¼š</p>
<ul>
<li><strong>è®¿é—®æˆ‘ä»¬çš„GitHub ä»“åº“</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvolcengine%2FOpenViking" target="_blank" title="https://github.com/volcengine/OpenViking" ref="nofollow noopener noreferrer">github.com/volcengine/â€¦</a> ï¼Œä¸ºæˆ‘ä»¬ç‚¹äº®ä¸€é¢—å®è´µçš„ Starï¼Œç»™äºˆæˆ‘ä»¬å‰è¡Œçš„åŠ¨åŠ›ã€‚</li>
<li><strong>è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenviking.ai" target="_blank" title="https://openviking.ai" ref="nofollow noopener noreferrer">openviking.ai</a> ï¼Œäº†è§£æˆ‘ä»¬ä¼ é€’çš„ç†å¿µï¼Œå¹¶é€šè¿‡æ–‡æ¡£ä½¿ç”¨å®ƒï¼Œåœ¨æ‚¨çš„é¡¹ç›®ä¸­æ„Ÿå—å®ƒå¸¦æ¥çš„æ”¹å˜ï¼Œå¹¶å‘æˆ‘ä»¬åé¦ˆæœ€çœŸå®çš„ä½“éªŒã€‚</li>
<li><strong>æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒº</strong>ï¼Œåˆ†äº«æ‚¨çš„æ´è§ï¼Œå¸®åŠ©è§£ç­”ä»–äººçš„ç–‘é—®ï¼Œå…±åŒè¥é€ ä¸€ä¸ªå¼€æ”¾ã€äº’åŠ©çš„æŠ€æœ¯æ°›å›´ã€‚</li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/775f10b745c34bd68a963c5500d35b05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=zGFX210fblKjiIlnybc6Vi9sh5w%3D" alt="" width="50%" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6beeccf881f45aab88e5eb1dc26e408~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975750&amp;x-signature=o3osuu%2BDGLiPIPPFIOny7Epav3w%3D" alt="" width="50%" loading="lazy"/>
<ul>
<li><strong>æˆä¸ºæˆ‘ä»¬çš„</strong> <strong>è´¡çŒ®è€…</strong>ï¼Œæ— è®ºæ˜¯æäº¤ä¸€ä¸ª Bug ä¿®å¤ï¼Œè¿˜æ˜¯è´¡çŒ®ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œæ‚¨çš„æ¯ä¸€è¡Œä»£ç éƒ½å°†æ˜¯ OpenViking æˆé•¿çš„é‡è¦åŸºçŸ³ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬ä¸€èµ·ï¼Œå…±åŒå®šä¹‰å’Œæ„å»º AI Agent ä¸Šä¸‹æ–‡ç®¡ç†çš„æœªæ¥ã€‚æ—…ç¨‹å·²ç»å¼€å§‹ï¼ŒæœŸå¾…æ‚¨çš„åŠ å…¥ï¼</p>
<h2 data-id="heading-11">å…³äºæˆ‘ä»¬ï¼šå­—èŠ‚è·³åŠ¨ Viking å›¢é˜Ÿ</h2>
<p>æˆ‘ä»¬ç”¨ C ç«¯äº§å“çš„ä½“éªŒæ ‡å‡†æ‰“é€ èƒ½å¤Ÿé‡å¡‘ä¼ä¸šç”Ÿäº§åŠ›çš„äº§å“å’ŒæŠ€æœ¯ã€‚åœ¨ä¸Šä¸‹æ–‡å·¥ç¨‹é¢†åŸŸå…·æœ‰æ·±åšçš„æŠ€æœ¯ç§¯ç´¯ä¸å•†ä¸šåŒ–å®è·µï¼Œæˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æä¾›ç”¨æˆ·å‹å¥½çš„ä¸Šä¸‹æ–‡å·¥ç¨‹äº§å“çŸ©é˜µã€‚</p>
<p><strong>æˆ‘ä»¬çš„äº§å“å†ç¨‹</strong></p>
<ul>
<li><strong>2019 å¹´</strong>ï¼šVikingDB å‘é‡æ•°æ®åº“æ”¯æ’‘å­—èŠ‚å†…éƒ¨å…¨ä¸šåŠ¡å¤§è§„æ¨¡ä½¿ç”¨</li>
<li><strong>2023 å¹´</strong>ï¼šVikingDB åœ¨ç«å±±å¼•æ“å…¬æœ‰äº‘å”®å–</li>
<li><strong>2024 å¹´</strong>ï¼šæ¨å‡ºé¢å‘å¼€å‘è€…çš„äº§å“çŸ©é˜µï¼šVikingDB å‘é‡æ•°æ®åº“ã€Viking çŸ¥è¯†åº“ã€Viking è®°å¿†åº“</li>
<li><strong>2025 å¹´</strong>ï¼šæ‰“é€  AI æœç´¢ã€vaka çŸ¥è¯†åŠ©æ‰‹ç­‰ä¸Šå±‚åº”ç”¨äº§å“</li>
<li><strong>2025 å¹´ 10 æœˆ</strong>ï¼šå¼€æº MineContext <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvolcengine%2FMineContext" target="_blank" title="https://github.com/volcengine/MineContext" ref="nofollow noopener noreferrer">github.com/volcengine/â€¦</a> ï¼Œä¸»åŠ¨å¼ AI åº”ç”¨æ¢ç´¢</li>
<li><strong>2026 å¹´ 1 æœˆ</strong>ï¼šå¼€æº <strong>OpenViking</strong>ï¼Œä¸º AI Agent æä¾›åº•å±‚ä¸Šä¸‹æ–‡æ•°æ®åº“æ”¯æ’‘</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[85.9k Star è®¤è¯ï¼Mermaidï¼šæ¯ä¸ªå¼€å‘è€…éƒ½éœ€è¦çš„â€œå›¾è¡¨å³ä»£ç â€ç¥å™¨]]></title>    <link>https://juejin.cn/post/7603444191448236066</link>    <guid>https://juejin.cn/post/7603444191448236066</guid>    <pubDate>2026-02-06T09:42:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191448236066" data-draft-id="7603383311530950671" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="85.9k Star è®¤è¯ï¼Mermaidï¼šæ¯ä¸ªå¼€å‘è€…éƒ½éœ€è¦çš„â€œå›¾è¡¨å³ä»£ç â€ç¥å™¨"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-02-06T09:42:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            85.9k Star è®¤è¯ï¼Mermaidï¼šæ¯ä¸ªå¼€å‘è€…éƒ½éœ€è¦çš„â€œå›¾è¡¨å³ä»£ç â€ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:42:53.000Z" title="Fri Feb 06 2026 09:42:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿè®¾è®¡ä¸é¡¹ç›®ç®¡ç†é¢†åŸŸï¼Œå›¾è¡¨æ˜¯æ²Ÿé€šå¤æ‚æ€æƒ³çš„é‡è¦æ¡¥æ¢ã€‚ä½œä¸ºç¨‹åºå‘˜ï¼Œæ— è®ºæ˜¯åœ¨æ’°å†™æŠ€æœ¯æ–‡æ¡£ã€ç¼–å†™åšå®¢ï¼Œè¿˜æ˜¯è¿›è¡Œæ–¹æ¡ˆè®¾è®¡ï¼Œä¸€æ¬¾å¾—åŠ›çš„å›¾è¡¨å·¥å…·éƒ½èƒ½æ˜¾è‘—æå‡æ•ˆç‡ã€‚Mermaid æ­£æ˜¯è¿™æ ·ä¸€æ¬¾ä¼˜ç§€çš„è½¯ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec6b418ee9f044e8a697369173adfc9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=rc4tuU3gaPULZBye56ke0hqxxWw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ¯ Mermaid æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Mermaid æ˜¯ä¸€ä¸ªåŸºäº JavaScript çš„å›¾è¡¨ç»˜åˆ¶å·¥å…·åº“ï¼Œå®ƒçš„æ ¸å¿ƒå“²å­¦æ˜¯ â€œå›¾è¡¨å³ä»£ç â€ ã€‚å®ƒé€šè¿‡è§£æç±»ä¼¼ Markdown çš„ç®€æ´æ–‡æœ¬è¯­æ³•ï¼Œè®©ä½ å¯ä»¥ç”¨å†™ä»£ç çš„æ–¹å¼ï¼ŒåŠ¨æ€åœ°ç”Ÿæˆå’Œä¿®æ”¹å„ç§ä¸“ä¸šå›¾è¡¨ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç±»å›¾ä¸å†æ˜¯ä¸€ä¸ªä¸ªéš¾ä»¥æ›´æ–°çš„é™æ€å›¾ç‰‡æ–‡ä»¶ï¼Œè€Œæ˜¯å’Œä½ çš„é¡¹ç›®æ–‡æ¡£ï¼ˆå¦‚ READMEã€Wikiï¼‰æˆ–æºç æ³¨é‡Šç”Ÿæ´»åœ¨ä¸€èµ·çš„ã€å¯ç‰ˆæœ¬æ§åˆ¶çš„æ–‡æœ¬ç‰‡æ®µã€‚å½“éœ€æ±‚å˜æ›´æ—¶ï¼Œä½ åªéœ€ä¿®æ”¹å‡ è¡Œæè¿°æ–‡æœ¬ï¼Œå›¾è¡¨å°±ä¼šè‡ªåŠ¨æ›´æ–°ï¼</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmermaid-js%2Fmermaid" target="_blank" title="https://github.com/mermaid-js/mermaid" ref="nofollow noopener noreferrer">github.com/mermaid-js/â€¦</a></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmermaid.js.org%2F" target="_blank" title="https://mermaid.js.org/" ref="nofollow noopener noreferrer">mermaid.js.org/</a></p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmermaid.js.org%2Fintro%2F" target="_blank" title="https://mermaid.js.org/intro/" ref="nofollow noopener noreferrer">mermaid.js.org/intro/</a></p>
<p>åœ¨çº¿ç¼–è¾‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmermaid.ai%2Flive%2Fedit" target="_blank" title="https://mermaid.ai/live/edit" ref="nofollow noopener noreferrer">mermaid.ai/live/edit</a></p>
<p>ç¼–è¾‘å™¨githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmermaid-js%2Fmermaid-live-editor" target="_blank" title="https://github.com/mermaid-js/mermaid-live-editor" ref="nofollow noopener noreferrer">github.com/mermaid-js/â€¦</a></p>
<p>è¯¥é¡¹ç›®ç›®å‰åœ¨githubä¸Šå·²æœ‰<strong>85.9k</strong>â­star</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b73e39efbe6e4deba749edf596468fcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=dxb2jtTliJb8%2F4%2FzlE6QhkAAgiU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ğŸŒŸ Mermaid çš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-2">âœ¨ å‘Šåˆ«â€œæ–‡æ¡£æ»åâ€</h3>
<p>Mermaid è¯ç”Ÿçš„åˆè¡·å°±æ˜¯ä¸ºäº†è§£å†³ Doc-Rot éš¾é¢˜ã€‚å®ƒè®©å›¾è¡¨ç»´æŠ¤å˜å¾—å’Œå†™ä»£ç ä¸€æ ·ç®€å•ï¼Œç¡®ä¿ä½ çš„è®¾è®¡ä¸æ–‡æ¡£æ°¸è¿œèƒ½è·Ÿä¸Šå¼€å‘èŠ‚å¥ã€‚</p>
<h3 data-id="heading-3">ğŸš€ æ— ç¼é›†æˆ</h3>
<p>Mermaid å¯ä»¥è½»æ¾é›†æˆåˆ°ä½ çš„å·¥ä½œæµä¸­ï¼š</p>
<ul>
<li>â€¢ æ–‡æ¡£å·¥å…·ï¼šå·²é›†æˆåˆ° GitHub/GitLab Markdownã€Typora ç­‰ä¼—å¤šå·¥å…·ä¸­ã€‚</li>
<li>â€¢ ç¼–è¯‘å™¨æ’ä»¶ï¼šIntelliJ IDEAã€Visual Studio Codeç­‰ä¸»æµç¼–è¾‘å™¨ä¸­å¯ä»¥ä½¿ç”¨æ’ä»¶é›†æˆã€‚</li>
<li>â€¢ åšå®¢/ç½‘ç«™ï¼šå¯é€šè¿‡ç®€å•çš„è„šæœ¬å¼•å…¥ã€‚</li>
<li>â€¢ å¼€å‘æµç¨‹ï¼šå›¾è¡¨å¯ä»¥ç›´æ¥ä½œä¸ºç”Ÿäº§è„šæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œå®ç°è‡ªåŠ¨åŒ–ã€‚</li>
</ul>
<h3 data-id="heading-4">ğŸ‘¨â€ğŸ’» å¯¹å¼€å‘è€…å‹å¥½</h3>
<p>ä½¿ç”¨çº¯æ–‡æœ¬å®šä¹‰å›¾è¡¨ï¼Œæ„å‘³ç€ä½ å¯ä»¥ï¼š</p>
<ul>
<li>â€¢ è½»æ¾åœ°è¿›è¡Œå¤ç”¨å’Œé‡æ„ã€‚</li>
<li>â€¢ äº«å—ä»£ç é«˜äº®ã€è¡¥å…¨ç­‰ç¼–è¾‘å™¨çš„ä¾¿åˆ©ã€‚</li>
<li>â€¢ å¯ä»¥ä½¿ç”¨aié«˜æ•ˆçš„å®Œæˆä»£ç ç¼–åˆ¶ã€‚</li>
</ul>
<h2 data-id="heading-5">ğŸ³Docker éƒ¨ç½² Mermaidç¼–è¾‘å™¨</h2>
<p>ç¼–è¾‘å™¨githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmermaid-js%2Fmermaid-live-editor" target="_blank" title="https://github.com/mermaid-js/mermaid-live-editor" ref="nofollow noopener noreferrer">github.com/mermaid-js/â€¦</a></p>
<p>åˆ›å»ºdocker-compose.ymlæ–‡ä»¶</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
Â Â <span class="hljs-attr">mermaid-live-editor:</span>
Â Â Â Â <span class="hljs-string">image:</span>Â <span class="hljs-string">ghcr.io/mermaid-js/mermaid-live-editor</span>
Â Â Â Â <span class="hljs-string">container_name:</span>Â <span class="hljs-string">mermaid-live-editor</span>
Â Â Â Â <span class="hljs-attr">ports:</span>
Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">"6080:8080"</span>
Â Â Â Â <span class="hljs-string">restart:</span>Â <span class="hljs-string">unless-stopped</span>
</code></pre>
<p>å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs">docker-composeÂ upÂ -dÂ 
</code></pre>
<p>ä½¿ç”¨Dockeréƒ¨ç½²æ¯”è¾ƒç®€å•ï¼Œåˆ°æ­¤ï¼Œæˆ‘ä»¬å°±å·²ç»å®Œæˆç§æœ‰åŒ–éƒ¨ç½²äº†ã€‚</p>
<h2 data-id="heading-6">ğŸ› ï¸ä½¿ç”¨</h2>
<h3 data-id="heading-7">ğŸŒåœ¨çº¿ç¼–è¾‘å™¨ä¸­ä½¿ç”¨</h3>
<p>æˆ‘ä»¬æ‰“å¼€å®˜æ–¹æä¾›çš„åœ¨çº¿ç¼–è¾‘å™¨æˆ–è€…æˆ‘ä»¬è‡ªå·±éƒ¨ç§æœ‰åŒ–ç½²çš„ç¼–è¾‘å™¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16de6b6dc14a46fe94c417372ea99649~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=mOV3gCukhyIFw%2FC3KXRQmIyWqTM%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©è‡ªå·±éœ€è¦çš„å›¾è¡¨ç±»å‹å¼€å§‹ç¼–å†™ï¼Œå®˜æ–¹æ–‡æ¡£è¯­æ³•ã€ç¤ºä¾‹æä¾›çš„æ¯”è¾ƒé½å…¨ï¼Œæœ‰ä¸å¤ªæ¸…æ¥šçš„å¯ä»¥æŸ¥é˜…æ–‡æ¡£ã€‚ä»¥ä¸‹æ˜¯éƒ¨åˆ†ç¤ºä¾‹æˆªå›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/840938a121ab4cdfb4b817fd5e54f312~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=wtX5D7fv6tsi22zyZmyM6%2BGR%2BXk%3D" alt="" loading="lazy"/></p>
<p><img src="" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c8e9adbc7ed4bfe8ce4a2a8b7fd12c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=jBlw8O2vkbAHZj63nSfZ7mgTBKA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b73ccec0706143538e97ad511d895776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=ayzRHbqZ2IxFd8wqKrddp4nHOpA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84cecd88f6104e3ab3e37255ab87059a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=R39NQvUZ5QMfg7%2BD5IrJuJF9f8A%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">ğŸ“„MarkDownä¸­ä½¿ç”¨</h3>
<p>åœ¨markdownä¸­ä½¿ç”¨çš„é€‚åˆå°†ä»£ç ç±»å‹è®¾ç½®ä¸º<code>mermaid</code>å³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d25618ff9f045afa2b3cf5846a6da97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975776&amp;x-signature=E9H%2FylQmx8EmoKLBR7HIpbHsOAk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">ğŸ§©ç¼–è¯‘å™¨æ’ä»¶</h3>
<p>IntelliJ IDEAã€Visual Studio Codeç­‰ä¸»æµç¼–è¾‘å™¨ï¼šä¼—å¤šæ‰©å±•æä¾›å®æ—¶é¢„è§ˆå’Œæ™ºèƒ½æç¤ºã€‚</p>
<h2 data-id="heading-10">ğŸ“ç»“è¯­</h2>
<p>åœ¨ GitHub çš„æ˜Ÿæµ·ä¹‹ä¸­ï¼Œèƒ½å¤Ÿæ”¶è·è¶…è¿‡Â <strong>85.9k</strong>â­ star çš„é¡¹ç›®å‡¤æ¯›éºŸè§’ã€‚è¿™ä¸€æ•°å­—æ‰¿è½½ç€å…¨çƒå¼€å‘è€…æœ€çœŸå®çš„è®¤å¯ä¸æœ€è¿«åˆ‡çš„éœ€æ±‚ã€‚<br/>
å¦‚æœä½ å·²åŒå€¦åœ¨ Visioã€Draw.io å’Œå„ç§æ–‡æ¡£ä¹‹é—´åå¤åˆ‡æ¢ï¼Œå¦‚æœä½ æœŸå¾…è®©æŠ€æœ¯å›¾è¡¨åƒä»£ç ä¸€æ ·æ˜“äºåˆ›å»ºã€ç»´æŠ¤ä¸åä½œâ€”â€”é‚£ä¹ˆï¼Œæ˜¯æ—¶å€™æ‹¥æŠ± Mermaid äº†ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŒ 11 å¤§ä¿ƒå³°å€¼ä¸ç¿»è½¦ï¼šæ·˜å¤©é›†å›¢ Paimon + StarRocks å¤§è§„æ¨¡ OLAP æŸ¥è¯¢å®æˆ˜ä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7603444191448252450</link>    <guid>https://juejin.cn/post/7603444191448252450</guid>    <pubDate>2026-02-06T09:46:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191448252450" data-draft-id="7603383311530819599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŒ 11 å¤§ä¿ƒå³°å€¼ä¸ç¿»è½¦ï¼šæ·˜å¤©é›†å›¢ Paimon + StarRocks å¤§è§„æ¨¡ OLAP æŸ¥è¯¢å®æˆ˜ä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="å¤§æ•°æ®,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-06T09:46:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŒ 11 å¤§ä¿ƒå³°å€¼ä¸ç¿»è½¦ï¼šæ·˜å¤©é›†å›¢ Paimon + StarRocks å¤§è§„æ¨¡ OLAP æŸ¥è¯¢å®æˆ˜ä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T09:46:14.000Z" title="Fri Feb 06 2026 09:46:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæœ±å¥¥ï¼ˆç›–å¯ï¼‰/Â æ·˜å¤©é›†å›¢é«˜çº§æ•°æ®å·¥ç¨‹å¸ˆ</p>
<h2 data-id="heading-0">å¯¼è¯»ï¼š</h2>
<p>åŒÂ 11Â ç­‰å¤§ä¿ƒåœºæ™¯ä¼šåœ¨çŸ­æ—¶é—´å†…é›†ä¸­çˆ†å‘ï¼šè¿è¥ä¸ä¸šåŠ¡Â BIÂ åœ¨å¼€å–åçš„çª—å£æœŸå¯†é›†è®¿é—®æ•°æ®äº§å“ï¼Œç¬æ—¶è¯·æ±‚é‡é™¡å¢ï¼Œå¯¹æŸ¥è¯¢å¼•æ“çš„ç¨³å®šæ€§ã€æˆæœ¬ä¸æ²»ç†ä½“ç³»æå‡ºæé«˜è¦æ±‚ã€‚ä¸æ­¤åŒæ—¶ï¼Œä¸šåŠ¡å¯¹è¿‘å®æ—¶æ•°æ®äº§å“çš„è¯‰æ±‚æŒç»­å¢å¼ºï¼Œä¼ ç»Ÿâ€œå¤šå­˜å‚¨ã€å¤šé“¾è·¯ã€ä¾èµ–å›åˆ·â€çš„æ¨¡å¼åœ¨ç ”å‘æ•ˆç‡ã€å›åˆ·æˆæœ¬ä¸å“åº”é€Ÿåº¦ä¸Šé€æ­¥æš´éœ²ç“¶é¢ˆã€‚</p>
<p>æœ¬æ–‡å›´ç»•Â PaimonÂ ä¸Â StarRocksÂ çš„ç»„åˆå®è·µï¼Œæ¢³ç†æ·˜å¤©åœ¨å¤§è§„æ¨¡Â OLAPÂ æŸ¥è¯¢åœºæ™¯ä¸‹çš„æ¶æ„æ¼”è¿›ä¸åŒÂ 11Â ä¿éšœä½“ç³»ï¼šé€šè¿‡å®æ—¶ä¸ç¦»çº¿ç»Ÿä¸€å…¥æ¹–ï¼Œæ¶ˆé™¤æ•°æ®åŒæ­¥é“¾è·¯ä¸å¤šä»½å­˜å‚¨æˆæœ¬ï¼›åŸºäºç¨³å®šä¸­é—´å±‚å åŠ åœ¨çº¿ç°ç®—ä¸ç»´è¡¨å®æ—¶å…³è”ï¼Œå°†é«˜æ¶ˆè€—å›åˆ·è½¬åŒ–ä¸ºç§’çº§æŸ¥è¯¢ï¼Œæ ¸å¿ƒåœºæ™¯å›åˆ·æ•ˆç‡æå‡çº¦Â 80%ï¼Œå¹´åŒ–èŠ‚çœæˆæœ¬æ¥è¿‘Â 1000Â ä¸‡ï¼›åŒæ—¶ç»“åˆÂ StarRocksÂ +Â RoaringBitmapÂ ä½æˆæœ¬è§£å†³è·¨å¤©äº¤å‰å®æ—¶Â UVÂ è®¡ç®—éš¾é¢˜ï¼Œæ»¡è¶³å¤§ä¿ƒè¿‘å®æ—¶å†³ç­–éœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">1ã€æ·˜å¤©é›†å›¢è¥é”€æ´»åŠ¨Â OLAPÂ æŸ¥è¯¢çš„æ¢ç´¢èƒŒæ™¯ä¸æ ¸å¿ƒç­–ç•¥</h2>
<h3 data-id="heading-2">1.1Â ä¸šåŠ¡è¯‰æ±‚ä¸æ ¸å¿ƒç—›ç‚¹å½“å‰æ•°æ®æ¶æ„</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7b10417ca904466b316db16f9de2f8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=xQx8y%2FDle%2B077Q3mtUXHRNE9euw%3D" alt="5a7bb2fdd2234116b9ffa58f4a5aa606.png" loading="lazy"/></p>
<p>é¦–å…ˆï¼Œç®€è¦ä»‹ç»å½“å‰çš„æ•°æ®æ¶æ„ä¸æ•°æ®æµè½¬æ–¹å¼ã€‚</p>
<p>ä»Â DWDÂ å±‚å¼€å§‹ï¼Œæˆ‘ä»¬çš„æ•°æ®åˆ†ä¸ºå®æ—¶ä¸ç¦»çº¿ä¸¤æ¡ä¸»é“¾è·¯ï¼š</p>
<ul>
<li>
<p>å®æ—¶æ•°æ®ä¸»è¦å­˜å‚¨åœ¨Â TTä¸­ï¼Œåœ¨ä¸šç•Œå¯ç±»æ¯”ä¸ºÂ KafkaÂ ä¸€ç±»çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼›</p>
</li>
<li>
<p>ç¦»çº¿æ•°æ®ä¸»è¦å­˜å‚¨åœ¨Â ODPSÂ ä¸­ã€‚</p>
</li>
</ul>
<p>åœ¨æ•°æ®åŠ å·¥ä¸å†™å…¥å±‚é¢ï¼Œæˆ‘ä»¬ä¼šå¯åŠ¨Â FlinkÂ æµæ‰¹ä¸€ä½“ä»»åŠ¡ï¼š</p>
<ul>
<li>
<p>å®æ—¶ä¾§æŒç»­æ¶ˆè´¹Â TTÂ ä¸­çš„æ•°æ®ï¼›</p>
</li>
<li>
<p>ç¦»çº¿ä¾§æ¶ˆè´¹Â ODPSÂ ä¸­çš„æ•°æ®ï¼›</p>
</li>
<li>
<p>åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œä»»åŠ¡ä¼šå…³è”å¤šç±»Â ODPSÂ ç»´è¡¨ï¼Œä¾‹å¦‚ç±»ç›®ç»´è¡¨ã€å•†å®¶åˆ†å±‚ç­‰ç»´åº¦ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>è®¡ç®—å®Œæˆåï¼Œç»“æœç»Ÿä¸€å†™å…¥Â ADSÂ å±‚çš„Â HoloÂ è¡¨ä¸­ï¼Œå¹¶åœ¨æ•°æ®æœåŠ¡å±‚å¯¹å¤–é€å‡ºã€‚</p>
</li>
</ul>
<p>åœ¨çº¯ç¦»çº¿åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡Â ODPSÂ ä»»åŠ¡è¯»å–Â ODPSÂ æ•°æ®ï¼ŒåŒæ—¶å†™å…¥Â ADSÂ å±‚å¯¹åº”çš„Â ODPSÂ è¡¨ã€‚è¿™é‡Œæ—¢åŒ…å«å†å²å¤©çº§æ•°æ®ï¼Œä¹ŸåŒ…å«å†å²å°æ—¶çº§æ•°æ®ã€‚å½“å­˜åœ¨æŸ¥è¯¢åŠ é€Ÿéœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬è¿˜ä¼šå°†Â ODPSÂ æ•°æ®è¿›ä¸€æ­¥å¯¼å…¥åˆ°Â HoloÂ ä¸­ã€‚</p>
<p>åœ¨æ•°æ®æœåŠ¡å±‚ï¼Œæˆ‘ä»¬ä¸»è¦é€šè¿‡Â HoloÂ æˆ–Â MCÂ å¯¹å¤–æä¾›æ•°æ®æœåŠ¡ã€‚æˆ‘ä»¬ä¼šæ ¹æ®æŸ¥è¯¢æ—¶å»¶è¦æ±‚é€‰æ‹©ä¸åŒçš„æœåŠ¡è·¯å¾„ï¼šå½“ä¸šåŠ¡å¯¹å“åº”é€Ÿåº¦è¦æ±‚æ›´é«˜ã€éœ€è¦è¾¾åˆ°æ¯«ç§’çº§æ—¶ï¼Œé€šå¸¸é€šè¿‡Â HoloÂ æä¾›æŸ¥è¯¢æœåŠ¡ï¼›å½“æ—¶å»¶è¦æ±‚ç›¸å¯¹å®½æ¾ï¼Œä¾‹å¦‚ç™¾æ¯«ç§’çº§æˆ–ç§’çº§ï¼Œåˆ™æ›´å¤šé€šè¿‡Â MCÂ æ¥æ‰¿è½½æŸ¥è¯¢è¯·æ±‚ã€‚</p>
<h3 data-id="heading-3">1.2Â ä¸šåŠ¡è¯‰æ±‚ä¸æ ¸å¿ƒç—›ç‚¹</h3>
<p>éšç€ä¸šåŠ¡å‘å±•ï¼Œæˆ‘ä»¬å½“å‰é¢ä¸´çš„è¯‰æ±‚ä¸»è¦æ¥è‡ªä¸¤ä¸ªæ–¹å‘ï¼šä¸€æ˜¯ä¸šåŠ¡ä¾§å¸Œæœ›è·å¾—æ›´å¤šå®æ—¶æ•°æ®äº§å“ï¼›äºŒæ˜¯ä¸šåŠ¡Â BIÂ çš„å®æ—¶åˆ†æéœ€æ±‚æŒç»­å¢é•¿ã€‚è¿™å¯¹æ•°æ®ç ”å‘æå‡ºäº†æ–°çš„æŒ‘æˆ˜ï¼šè¿›ä¸€æ­¥æå‡ç ”å‘æ•ˆç‡ã€‚</p>
<p>å›åˆ°ç°æœ‰æ¶æ„ï¼Œå…¶æ ¸å¿ƒç—›ç‚¹ä¸»è¦ä½“ç°åœ¨ä¸¤æ–¹é¢ï¼š</p>
<ul>
<li>
<p><strong>æµæ‰¹å­˜å‚¨ä¸ç»Ÿä¸€</strong>ï¼šå®æ—¶æ•°æ®å­˜å‚¨åœ¨Â TTÂ ä¸­ï¼Œç¦»çº¿æ•°æ®å­˜å‚¨åœ¨Â ODPSÂ ä¸­ï¼›å½“å­˜åœ¨æŸ¥è¯¢åŠ é€Ÿéœ€æ±‚æ—¶ï¼Œéƒ¨åˆ†æ•°æ®è¿˜éœ€è¦è¿›ä¸€æ­¥è½åˆ°Â HoloÂ è¡¨ä¸­ã€‚</p>
</li>
<li>
<p><strong>æ•´ä½“å¼€å‘æ¶æ„è¾ƒä¸ºå¤æ‚</strong>ï¼šæ•°æ®éœ€è¦åœ¨å¤šä¸ªå­˜å‚¨ä»‹è´¨ä¹‹é—´æµè½¬ï¼Œå¯¼è‡´ç«¯åˆ°ç«¯é“¾è·¯æ‹‰é•¿ã€‚</p>
</li>
</ul>
<p>åœ¨æŸ¥è¯¢ç‰¹æ€§ä¸Šï¼ŒHoloÂ åœ¨ç‚¹æŸ¥åœºæ™¯å…·å¤‡æ›´çªå‡ºçš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä¸”æ•´ä½“ç¨³å®šæ€§è¾ƒå¼ºï¼Œåœ¨æ·˜å¤©å†å¹´å¤§ä¿ƒæœŸé—´çš„è¡¨ç°ä¹Ÿç›¸å¯¹ç¨³å®šã€‚</p>
<p>ä½†åœ¨æ›´å¸¸è§çš„Â ShuffleÂ åœºæ™¯ä¸‹ï¼Œæ•´ä½“æŸ¥è¯¢æ€§èƒ½ç›¸å¯¹ä¸€èˆ¬ã€‚å°¤å…¶å½“Â OLAPÂ æŸ¥è¯¢è´Ÿè½½æ›´é‡ã€éœ€è¦è¿›è¡Œæ›´å¤æ‚çš„è®¡ç®—ï¼Œæˆ–éœ€è¦å…³è”è§„æ¨¡è¾ƒå¤§çš„ç»´è¡¨æ—¶ï¼ŒShuffleÂ ç›¸å…³çš„æ‰§è¡Œæ•ˆç‡ä¼šæˆä¸ºç“¶é¢ˆï¼Œå¯¼è‡´æŸ¥è¯¢è€—æ—¶æ˜æ˜¾æ‹‰é•¿ã€‚</p>
<p>æ•°æ®æ›´æ–°ä¸ç»´æŠ¤ä¸Šä¹Ÿå­˜åœ¨è¾ƒé«˜æˆæœ¬ã€‚ä»¥Â ODPSÂ ä¸­çš„ç»´è¡¨ä¸ºä¾‹ï¼ˆå¦‚ç±»ç›®ç»´è¡¨ã€å•†å®¶åˆ†å±‚ç»´è¡¨ç­‰ï¼‰ï¼Œå½“ç»´è¡¨å‘ç”Ÿä¸šåŠ¡å˜æ›´æ—¶ï¼Œå¾€å¾€éœ€è¦è§¦å‘Â ADSÂ å±‚ä»»åŠ¡çš„å›åˆ·ï¼Œä»è€Œå¸¦æ¥é¢å¤–çš„å›åˆ·å¼€é”€ã€‚</p>
<p>ä¸šåŠ¡å¯¹â€œè¿‘å®æ—¶â€çš„è¯‰æ±‚åœ¨éƒ¨åˆ†åœºæ™¯ä¸‹å‡ºç°äº†è¢«åŠ¨é™çº§ã€‚ä¾‹å¦‚åœ¨è·¨å¤©å®æ—¶Â UVÂ ç­‰åœºæ™¯ä¸­ï¼Œç”±äºÂ stateÂ è§„æ¨¡è¾ƒå¤§ã€æˆæœ¬è¾ƒé«˜ç­‰åŸå› ï¼Œæ–¹æ¡ˆä¸å¾—ä¸ä»å®æ—¶çº§åˆ«é™çº§åˆ°å°æ—¶çº§åˆ«ã€‚ä»ä¸šåŠ¡è§†è§’çœ‹ï¼Œè¿‘å®æ—¶èƒ½åŠ›ä»ç„¶æ˜¯æ˜ç¡®å­˜åœ¨çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-4">1.3Â æ ¸å¿ƒç­–ç•¥</h3>
<p><strong>1ï¼‰æ¶æ„ç®€åŒ–ææ•ˆ</strong></p>
<ul>
<li>
<p>æ¶æ„ä¸Šå®ç°<strong>å­˜å‚¨ä»‹è´¨çš„ç»Ÿä¸€</strong>ï¼šå°†å®æ—¶ä¸ç¦»çº¿æ•°æ®ç»Ÿä¸€æ²‰æ·€åˆ°Â PaimonÂ çš„æ¹–å­˜å‚¨ä¸­ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ<strong>StarRocksÂ å¯ä»¥ç›´æ¥é¢å‘æ¹–å­˜å‚¨è¿›è¡Œé«˜æ€§èƒ½åˆ†ææŸ¥è¯¢</strong>ï¼Œä»è€Œèƒ½å¤Ÿæ¶ˆé™¤æ•°æ®åŒæ­¥é“¾è·¯ä»¥åŠå¤šä»½å­˜å‚¨å¸¦æ¥çš„æˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>é™ä½ä½¿ç”¨é—¨æ§›</strong>ï¼Œè®©æ•°æ®æ›´å®¹æ˜“è¢«ä¸Šå±‚åˆ†æä¸Â BIÂ ä½¿ç”¨ã€‚ä»¥å®æ—¶é“¾è·¯ä¸ºä¾‹ï¼ŒåŸæœ¬å®æ—¶æ•°æ®å­˜å‚¨åœ¨Â TTÂ ä¸­ï¼Œè€ŒÂ TTÂ çš„æ•°æ®å½¢æ€å…·æœ‰æ˜æ˜¾ç‰¹å¾ï¼šæ¯è¡Œæ•°æ®æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€ç¼ºå°‘Â schemaã€‚åœ¨è¿™ç§å½¢æ€ä¸‹ï¼Œæ•°æ®è™½ç„¶å¯ä»¥è¢«æ¶ˆè´¹ï¼Œä½†å¦‚æœè¦é¢å‘Â BIÂ åˆ†æä½¿ç”¨ï¼Œå¾€å¾€è¿˜éœ€è¦é¢å¤–è¿›è¡Œååºåˆ—åŒ–ä¸è§£æï¼Œè¿™ä¼šå¸¦æ¥ä¸å¯å¿½è§†çš„å·¥ç¨‹ä¸ä½¿ç”¨æˆæœ¬ã€‚</p>
</li>
</ul>
<p>åœ¨ç»Ÿä¸€å­˜å‚¨ä¹‹åï¼ŒPaimonÂ å°†å®æ—¶ä¸ç¦»çº¿æ•°æ®æ²‰æ·€åœ¨åŒä¸€å¼ è¡¨ä¸­ï¼Œå¹¶æä¾›æ˜ç¡®çš„Â schemaã€‚è¿™æ„å‘³ç€ï¼Œä¸Šå±‚ä½¿ç”¨æ–¹å¯ä»¥ç›´æ¥é¢å‘ç»“æ„åŒ–æ•°æ®å¼€å±•åˆ†æï¼šå³ä½¿åˆ†æå¸ˆçš„æ•°æ®å¼€å‘èƒ½åŠ›ä¸å¼ºï¼Œä¹Ÿå¯ä»¥åŸºäºÂ PaimonÂ çš„è¿‘å®æ—¶ä¸­é—´å±‚ï¼Œé€šè¿‡Â <strong>StarRocks</strong>Â è‡ªåŠ©å®Œæˆå¯¹è¿‘å®æ—¶æ•°æ®çš„åˆ†æã€‚</p>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè¿‡å»ä¸€äº›ç›¸å¯¹ç®€å•çš„å–æ•°ä¸åˆ†æéœ€æ±‚ï¼Œå¯ä»¥ç”±Â BIÂ æˆ–åˆ†æå¸ˆé€šè¿‡è‡ªåŠ©æ–¹å¼ç›´æ¥å®Œæˆï¼Œä¸å†å¿…é¡»æäº¤ç»™æ•°æ®ç ”å‘æ’æœŸå¤„ç†ï¼Œä»è€Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘æ•°æ®å¼€å‘ä¾§çš„éœ€æ±‚é‡ä¸äº¤ä»˜å‹åŠ›ã€‚</p>
<p><strong>2ï¼‰ä¸šåŠ¡éš¾ç‚¹æ”»åš</strong></p>
<p>é€šè¿‡ç¨³å®šçš„ä¸­é—´å±‚Â Paimonï¼Œä»¥åŠâ€œOLAPÂ å®æ—¶å…³è”æ˜“å˜ç»´åº¦â€çš„æ¨¡å¼ï¼Œå°†åŸæœ¬é«˜æ¶ˆè€—çš„Â ADSÂ å›åˆ·ä»»åŠ¡è½¬åŒ–ä¸ºç§’çº§æŸ¥è¯¢æ¥å®Œæˆã€‚åœ¨åç»­å†…å®¹ä¸­ï¼Œæˆ‘ä¼šè¿›ä¸€æ­¥å±•å¼€è¿™ä¸€æ”¹é€ å¦‚ä½•å°†é«˜æ¶ˆè€—å›åˆ·å»æ‰ï¼Œå¹¶å¸¦æ¥æ˜¾è‘—çš„æˆæœ¬æ”¶ç›Šâ€”â€”æ¯å¹´å¯èŠ‚çœè¿‘åƒä¸‡å…ƒçº§åˆ«çš„å›åˆ·æˆæœ¬ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬é€šè¿‡Â StarRocksÂ +Â RoaringBitmapÂ çš„æ–¹æ¡ˆï¼Œé«˜æ€§èƒ½è§£å†³äº†è·¨å¤©äº¤å‰å®æ—¶Â UVÂ çš„è®¡ç®—éš¾é¢˜ï¼Œä»¥æ›´ä½æˆæœ¬çš„æ–¹å¼æ»¡è¶³å¤§ä¿ƒæœŸé—´å¯¹è¿‘å®æ—¶èƒ½åŠ›çš„è¯‰æ±‚ã€‚</p>
<h3 data-id="heading-5">1.4Â æ–°æ•°æ®æ¶æ„</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8a10449fa64391bc1cb1367e6c9af7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=RoxruLrk3rVI8vXD3ZSNb7lpSus%3D" alt="be42fb67ef9846c08fa064277e5a73fc.png" loading="lazy"/></p>
<p>åœ¨ç§’çº§æ•°æ®é“¾è·¯ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡å®æ—¶Â FlinkÂ ä»»åŠ¡æ¶ˆè´¹Â DWDÂ å±‚çš„Â Flussï¼ˆç§’çº§å®æ—¶æ•°æ®ï¼‰ï¼Œå¹¶å°†ç»“æœå†™å…¥Â ADSÂ å±‚çš„Â Flussã€‚</p>
<p>FlussÂ æä¾›â€œæ¹–æµä¸€ä½“â€çš„åŒæ­¥å¼€å…³ã€‚å¼€å¯åï¼ŒFlussÂ ä¸­çš„æ•°æ®ä¼šæŒ‰é…ç½®å‘¨æœŸè‡ªåŠ¨åŒæ­¥åˆ°Â PaimonÂ è¡¨ä¸­ï¼Œé»˜è®¤å‘¨æœŸå¯ä»¥æ˜¯æ¯Â 3Â åˆ†é’Ÿï¼Œä¸”è¯¥æ—¶é—´é—´éš”æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é…ç½®ã€‚åŒæ­¥å®Œæˆåï¼ŒPaimonÂ è¡¨ä¸­ä¼šå½¢æˆå½“å¤©åˆ†é’Ÿçº§æ•°æ®ï¼ˆtÂ å½“å¤©ï¼‰ä»¥åŠÂ tâˆ’nÂ çš„å†å²æ•°æ®ã€‚</p>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¼šå¯åŠ¨Â FlinkÂ æµæ‰¹ä¸€ä½“ä»»åŠ¡ï¼ŒåŒæ—¶æ¶ˆè´¹Â DWDÂ å±‚Â PaimonÂ çš„Â tÂ å½“å¤©æ•°æ®ä¸Â tâˆ’nÂ å†å²æ•°æ®ï¼Œå¹¶å°†åŠ å·¥ç»“æœå†™å…¥Â PaimonÂ è¡¨çš„Â ADSÂ å±‚ä¸Â DWDÂ å±‚ï¼Œåˆ†åˆ«æ²‰æ·€Â tÂ å½“å¤©ä¸å†å²æ•°æ®ã€‚</p>
<p>æ­¤å¤–ï¼ŒåŸºäºÂ PaimonÂ çš„Â partial-updateÂ èƒ½åŠ›ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ„å»ºç¦»çº¿å¤§å®½è¡¨ï¼Œç”¨äºæ‰¿è½½åŒä¸€ä¸šåŠ¡å¯¹è±¡çš„å¤šçŠ¶æ€èšåˆã€‚ä»¥è®¢å•ä¸ºä¾‹ï¼Œè®¢å•å­˜åœ¨æ”¯ä»˜ã€ç¡®æ”¶ã€é€€æ¬¾ç­‰å¤šç§çŠ¶æ€ï¼Œå¯ä»¥æ„å»ºä¸€å¼ ä»¥Â order_idÂ ä¸ºä¸»é”®çš„Â PaimonÂ å¤§å®½è¡¨ï¼Œå°†è¿™äº›çŠ¶æ€å†™å…¥åŒä¸€è¡Œè®°å½•ã€‚è¿™æ ·åœ¨ä½¿ç”¨ä¾§åªéœ€è¯»å–å¯¹åº”Â order_idÂ çš„ä¸€æ¡è®°å½•ï¼Œå³å¯è·å–è¯¥è®¢å•çš„å¤šç§çŠ¶æ€ä¿¡æ¯ï¼Œä½¿ç”¨æˆæœ¬ä¸åˆ†æä¾¿åˆ©æ€§éƒ½ä¼šæ›´é«˜ã€‚</p>
<p>åœ¨Â ADSÂ å±‚ï¼Œæˆ‘ä»¬æ²‰æ·€çš„è®¡ç®—ç»“æœä¸»è¦é¢å‘â€œå¶å­ç²’åº¦â€çš„ç»´åº¦ï¼šä¾‹å¦‚ç±»ç›®ä¾§ä»¥å¶å­ç±»ç›®ä¸ºä¸»ï¼›è‹¥æ¶‰åŠå•†å®¶åˆ†å±‚ç»´è¡¨ï¼Œåˆ™å¯¹åº”å¶å­å•†å®¶åˆ†å±‚ã€‚åœ¨æ•°æ®æœåŠ¡å±‚ï¼Œæˆ‘ä»¬é€šè¿‡Â StarRocksÂ å¯¹å¤–æä¾›æ•°æ®æœåŠ¡ã€‚å…·ä½“è€Œè¨€ï¼Œåœ¨Â StarRocksÂ å±‚æ—¢å¯ä»¥ç›´æ¥è¯»å–Â ADSÂ å±‚æ•°æ®è¿›è¡Œç‚¹æŸ¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¯»å–Â DWDÂ å±‚çš„ä¸­é—´å±‚æ•°æ®è¿›è¡Œåœ¨çº¿è®¡ç®—ã€‚åä¸€ç§æ–¹å¼çš„æŸ¥è¯¢è´Ÿè½½é€šå¸¸æ›´é‡ã€æ•°æ®é‡æ›´å¤§ï¼Œä½†åœ¨å½“å‰å®è·µä¸­ï¼ŒStarRocksÂ ä»ç„¶èƒ½å¤Ÿå°†æŸ¥è¯¢æ—¶å»¶æ§åˆ¶åœ¨ç§’çº§èŒƒå›´å†…ï¼Œåœ¨æŸ¥è¯¢é‡è¾ƒå¤§çš„æƒ…å†µä¸‹ä¿æŒè¾ƒå¿«å“åº”ã€‚åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥å…³è”Â PaimonÂ ç»´è¡¨ï¼Œæœ€ç»ˆå°†æŸ¥è¯¢ç»“æœåœ¨æ•°æ®äº§å“ç«¯è¿›è¡Œå±•ç¤ºä¸äº¤ä»˜ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒDWDÂ å±‚çš„ä¸­é—´å±‚äº‹å®æ•°æ®ç›¸å¯¹ç¨³å®šï¼›çœŸæ­£â€œæ˜“å˜â€çš„å¾€å¾€æ˜¯ç»´åº¦ä¾§çš„æ•°æ®ï¼Œä¾‹å¦‚Â PaimonÂ ç»´è¡¨ï¼ˆç±»ç›®ç»´è¡¨ã€å•†å®¶åˆ†å±‚ç»´è¡¨ç­‰ï¼‰ã€‚å½“ä¸šåŠ¡è§„åˆ™æˆ–å£å¾„å‘ç”Ÿè°ƒæ•´æ—¶ï¼Œé€šå¸¸åªéœ€è¦æ›´æ–°ç»´è¡¨å³å¯ã€‚ç›¸è¾ƒäºå›åˆ·å¤§è§„æ¨¡ä¸­é—´å±‚æ•°æ®ï¼Œç»´è¡¨æ›´æ–°çš„æˆæœ¬æ›´ä½ã€æ‰§è¡Œä¹Ÿæ›´å¿«ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨æŸ¥è¯¢ä¾§é‡‡ç”¨ç°ç®—æ–¹å¼ï¼šç»´è¡¨æ›´æ–°åï¼ŒæŸ¥è¯¢ä¼šåœ¨è¯»å–ä¸­é—´å±‚æ•°æ®çš„åŸºç¡€ä¸Šå®æ—¶å…³è”æœ€æ–°ç»´è¡¨ï¼Œå› æ­¤ä¸­é—´å±‚æ•°æ®æ— éœ€éšä¸šåŠ¡å˜æ›´åå¤å›åˆ·ã€‚ç”±äºä¸­é—´å±‚è®¡ç®—é‡è¾ƒé‡ï¼Œå¦‚æœä¾èµ–å›åˆ·æ¥å“åº”ä¸šåŠ¡è°ƒæ•´ï¼Œæ•´ä½“å‘¨æœŸå¾€å¾€è¾ƒé•¿â€”â€”å¿«åˆ™ä¸€åˆ°ä¸¤å¤©ï¼Œæ…¢åˆ™å¯èƒ½éœ€è¦ä¸€å‘¨ã€‚é€šè¿‡â€œæ›´æ–°ç»´è¡¨Â +Â æŸ¥è¯¢ç°ç®—â€çš„æ–¹å¼ï¼Œä¸šåŠ¡å˜æ›´åå¯ä»¥æ›´å¿«åœ¨æ•°æ®äº§å“ä¾§çœ‹åˆ°æœ€æ–°ç»“æœã€‚</p>
<p>åœ¨æ•°æ®æœåŠ¡å±‚ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥åˆ©ç”¨Â StarRocksÂ çš„Â WarehouseÂ æœºåˆ¶ï¼Œå¯¹è¯»é›†ç¾¤è¿›è¡Œéš”ç¦»ä¸åˆ†çº§ä¿éšœï¼Œé¿å…ä¸åŒä¸šåŠ¡äº’ç›¸å½±å“ã€‚æˆ‘ä»¬æŒ‰ç…§ä¸šåŠ¡é‡è¦æ€§åˆ’åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li>
<p>é»˜è®¤Â Warehouseï¼šä¿éšœçº§åˆ«ç›¸å¯¹ä¸€èˆ¬ï¼›</p>
</li>
<li>
<p>é‡ä¿Â Warehouseï¼šæ‰¿è½½æœ€æ ¸å¿ƒä¸šåŠ¡ï¼Œä¿éšœçº§åˆ«æœ€é«˜ï¼›</p>
</li>
<li>
<p>ä¸šåŠ¡Â BIÂ ä¸“ç”¨Â Warehouseï¼šé¢å‘ä¸šåŠ¡Â BIÂ æˆ–å…¶ä»–ä¸šåŠ¡çš„ä¸“ç”¨èµ„æºæ± ï¼Œä¿éšœçº§åˆ«ç›¸å¯¹ä¸€èˆ¬ã€‚</p>
</li>
</ul>
<h2 data-id="heading-6">2ã€Paimon+StarRocksÂ åœ¨åŒ11å¤§è§„æ¨¡Â OLAPÂ æŸ¥è¯¢åœºæ™¯ä¸‹çš„å®è·µä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-7">2.1Â ä¸šåŠ¡èƒŒæ™¯</h3>
<p>åœ¨æ—¥å¸¸æƒ…å†µä¸‹ï¼Œè¿è¥å’Œä¸šåŠ¡Â BIÂ å¾€å¾€åœ¨ä¸åŒæ—¶é—´è®¿é—®æ•°æ®äº§å“ï¼Œå› æ­¤Â StarRocksçš„ç¬æ—¶è¯·æ±‚é‡ï¼ˆRPSï¼‰æ•´ä½“è¾ƒä½ï¼Œå‹åŠ›ç›¸å¯¹å¹³ç¨³ã€‚</p>
<p>ä½†åœ¨å¤§ä¿ƒæœŸé—´æƒ…å†µä¼šæ˜æ˜¾ä¸åŒã€‚ä»¥å¼€å–æ—¶æ®µä¸ºä¾‹ï¼Œè¿è¥å’Œä¸šåŠ¡Â BIÂ é€šå¸¸ä¼šåœ¨æ¥ä¸‹æ¥çš„ä¸€å°æ—¶å†…é›†ä¸­è®¿é—®æ•°æ®äº§å“ï¼Œå¯¼è‡´Â StarRocksÂ çš„ç¬æ—¶è¯·æ±‚Â RPSÂ æ€¥å‰§å‡é«˜ï¼Œå¯¹Â StarRocksÂ é›†ç¾¤å¸¦æ¥æ˜¾è‘—æŒ‘æˆ˜ã€‚</p>
<p>å› æ­¤ï¼Œæœ¬éƒ¨åˆ†çš„å®è·µä¸ä¼˜åŒ–å·¥ä½œä¸»è¦å›´ç»•â€œå¤§ä¿ƒåœºæ™¯ç¨³å®šè¿è¡Œâ€è¿™ä¸€ç›®æ ‡å±•å¼€ã€‚</p>
<h3 data-id="heading-8">2.2Â é›†ç¾¤ä¾§ä¿éšœ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/004d2ccbabb04b20ab32a7ac98a235f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=GKsQsn53kAfXMbcHMxaWnHmVya4%3D" alt="5b0f2bb0168249bc98beaa726abd5806.png" loading="lazy"/></p>
<p><strong>1ï¼‰åœ¨åº”ç”¨å±‚é¢æ¨å¹¿æ•°æ®é›†ç¼“å­˜ç­–ç•¥ï¼š</strong></p>
<p>ç›®å‰é…ç½®Â 180Â ç§’çš„æŸ¥è¯¢ç¼“å­˜çª—å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€æ¡æŸ¥è¯¢åœ¨Â 180Â ç§’å†…è¢«å¤šæ¬¡è§¦å‘æ—¶ï¼Œå®é™…ä¸‹å‘åˆ°Â StarRocksÂ æ‰§è¡Œçš„ä»…ä¸ºé¦–æ¬¡è¯·æ±‚ï¼›åç»­è¯·æ±‚ç›´æ¥å¤ç”¨é¦–æ¬¡æŸ¥è¯¢ç»“æœã€‚é€šè¿‡è¯¥ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½å¤§ä¿ƒé«˜å³°æœŸÂ StarRocksÂ é›†ç¾¤çš„ç¬æ—¶å‹åŠ›ã€‚</p>
<p><strong>2ï¼‰é›†ç¾¤å±‚é¢çš„ä¿æŠ¤æœºåˆ¶ï¼š</strong></p>
<p>é›†ç¾¤ä¾§è®¾ç½®äº†Â 30Â ç§’çš„å…¨å±€è¶…æ—¶ï¼šå¦‚æœä¸€æ¡Â SQLÂ åœ¨Â 30Â ç§’å†…ä»æœªæ‰§è¡Œå®Œæˆï¼Œä¼šè¢«è‡ªåŠ¨ç»ˆæ­¢ã€‚è¯¥æœºåˆ¶å±äºÂ StarRocksÂ çš„é›†ç¾¤ä¿æŠ¤èƒ½åŠ›ï¼Œå½“æŸ¥è¯¢æ‰§è¡Œæ—¶é—´è¶…è¿‡Â 30Â ç§’ï¼Œå³å¯åˆ¤å®šè¯¥Â SQLÂ éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä¸é€‚åˆç›´æ¥ä¸Šçº¿ï¼Œéœ€è¦å›é€€å¹¶å®Œæˆä¼˜åŒ–åå†è¿›å…¥ç”Ÿäº§ç¯å¢ƒã€‚å¯¹äºå°‘é‡ç¡®æœ‰å¿…è¦ã€ä¸”åœ¨Â 30Â ç§’å†…æ— æ³•å®Œæˆçš„ç‰¹æ®ŠÂ SQLï¼Œä¹Ÿæ”¯æŒä¸ºå•æ¡Â SQLÂ é…ç½®æ›´é•¿çš„è¶…æ—¶æ—¶é—´ã€‚ä½†æ­¤ç±»Â SQLÂ æ•°é‡é€šå¸¸æå°‘ï¼Œä¸Šçº¿è¯„ä¼°ä¹Ÿä¼šæ›´åŠ ä¸¥æ ¼ï¼Œä»¥ç¡®ä¿ä¸ä¼šå¯¹æ•´ä½“é›†ç¾¤ç¨³å®šæ€§äº§ç”Ÿå½±å“ã€‚æ•´ä½“ç›®æ ‡æ˜¯é¿å…å•æ¡æ…¢Â SQLÂ æ‹–å®é›†ç¾¤ã€‚</p>
<p><strong>3ï¼‰æ¶æ„å±‚éš”ç¦»ï¼šæŒ‰ä¸šåŠ¡é‡è¦æ€§åˆ’åˆ†åªè¯»å®ä¾‹ã€‚</strong></p>
<p>åŸºäºä¸šåŠ¡é‡è¦æ€§å¯¹åªè¯»æŸ¥è¯¢èµ„æºè¿›è¡Œåˆ†å±‚ï¼Œå°†ä¸åŒä¸šåŠ¡çš„è¯»è¯·æ±‚éš”ç¦»åˆ°ä¸åŒçš„åªè¯»å®ä¾‹ä¸Šï¼Œé¿å…ç›¸äº’å¹²æ‰°ã€‚</p>
<p><strong>4ï¼‰é›†ç¾¤åˆå§‹åŒ–é…ç½®</strong></p>
<p>åœ¨æ–°çš„Â StarRocksÂ é›†ç¾¤åˆå§‹åŒ–æ—¶ï¼Œæ¯”è¾ƒæ¨èå…ˆè®¾ç½®ä¸€å¥—åŸºç¡€å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">setÂ globalÂ cbo_cte_reuse_rate=0;Â 
</code></pre>
<p>å½“Â CTEÂ è¢«å¤šå¤„å¼•ç”¨æ—¶ï¼Œå¯èƒ½è§¦å‘åŒä¸€æ•°æ®æºçš„é‡å¤è¯»å–ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè¡¨åœ¨Â selectÂ ä¸­è¯»å–ä¸‰æ¬¡ï¼Œé‚£ä¹ˆÂ StarRocksä¼šå¯¹åŒä¸€å¼ Â PaimontÂ è¡¨æ‰§è¡Œä¸‰æ¬¡è¯»å–ï¼Œè¯»Â I/OÂ å¼€é”€ç›¸å½“äºè¢«æ”¾å¤§ä¸ºÂ 3Â å€ã€‚å°†è¯¥å‚æ•°è®¾ç½®ä¸ºÂ 0Â åï¼Œå¯ä½¿åŒä¸€å¼ è¡¨åœ¨åŒä¸€æ¡æŸ¥è¯¢ä¸­åªè¯»å–ä¸€æ¬¡ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">setÂ globalÂ query_timeout=30;Â 
</code></pre>
<p>è®¾ç½®Â 30Â ç§’çš„é›†ç¾¤å…¨å±€æŸ¥è¯¢è¶…æ—¶**ï¼Œ**é¿å…å•æ¡æ…¢Â SQLÂ æ‹–å®é›†ç¾¤ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">setÂ globalÂ new_planner_optimize_timeout=10000;
</code></pre>
<p>é€‚å½“è°ƒå¤§æ‰§è¡Œå›¾ä¼˜åŒ–å™¨çš„è¶…æ—¶æ—¶é—´ã€‚å¦‚æœè¯¥å‚æ•°è®¾ç½®è¿‡å°ï¼ŒSQLÂ åœ¨è°ƒåº¦è¿‡ç¨‹ä¸­æ›´å®¹æ˜“ç›´æ¥å¤±è´¥ï¼›é€‚å½“å¢å¤§åï¼Œå¯é™ä½Â SQLÂ å¤±è´¥çš„é¢‘ç‡ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">setÂ globalÂ pipeline_dop=8;Â 
</code></pre>
<p>è°ƒæ•´Â pipelineÂ çš„Â DOPï¼Œç”¨äºæ§åˆ¶æ¯å°æœºå™¨ä¸Šæ‹‰èµ·çš„Â driverÂ æ•°é‡ã€‚å‹æµ‹ç»“æœæ˜¾ç¤ºï¼Œåœ¨å¤§ä¿ƒåœºæ™¯ä¸­Â SQLÂ è¯·æ±‚é«˜åº¦é›†ä¸­ï¼Œè‹¥Â DOPÂ è®¾ç½®è¿‡å¤§ï¼ˆä¾‹å¦‚Â 64ï¼‰ï¼Œå•æ¡Â SQLÂ åœ¨æ¯å°æœºå™¨ä¸Šä¼šæ‹‰èµ·å¤§é‡Â driverï¼Œå¸¦æ¥è°ƒåº¦å¼€é”€é£™å‡ï¼Œç”šè‡³å¯èƒ½æ‰“æ»¡Â driverÂ é˜»å¡é˜Ÿåˆ—ï¼Œå¯¼è‡´Â CPUÂ åˆ©ç”¨ç‡åè€Œä¸Šä¸å»ï¼Œé›†ç¾¤è¿›å…¥ä¸å¯ç”¨çŠ¶æ€ã€‚</p>
<p>åœ¨æˆ‘ä»¬Â StarRocksÂ é›†ç¾¤çš„åŒÂ 11Â å‹æµ‹ä¸­ï¼ŒDOPÂ è°ƒæ•´åˆ°Â 8Â æ—¶æ•´ä½“æŸ¥è¯¢è¡¨ç°æœ€ä¼˜ï¼Œå› æ­¤ç»™å‡ºÂ DOP=8Â ä½œä¸ºå»ºè®®å€¼ã€‚éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè¯¥å€¼æ˜¯ç»éªŒå»ºè®®ï¼Œæœ€ç»ˆä»åº”ä»¥å„è‡ªé›†ç¾¤çš„å‹æµ‹ç»“æœä¸ºå‡†è¿›è¡Œé…ç½®ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">setÂ globalÂ scan_paimon_partition_num_limit=100; Â 
</code></pre>
<p>é™åˆ¶Â scanÂ paimonå¤–è¡¨çš„æœ€å¤§åˆ†åŒºï¼Œç”¨äºæœç»å› æ¡ä»¶ç¼ºå¤±æˆ–ä¸‹æ¨å¤±è´¥å¯¼è‡´çš„å…¨è¡¨/è¶…å¤§èŒƒå›´æ‰«æã€‚</p>
<h3 data-id="heading-9">2.3Â æ ¸å¿ƒæŒ‡æ ‡ç›‘æ§</h3>
<p>é€šè¿‡è§‚å¯ŸÂ StarRocksÂ æ ¸å¿ƒæŒ‡æ ‡çš„æ°´ä½å˜åŒ–ï¼Œå¯ä»¥æŒç»­è¯„ä¼°å®ä¾‹å¥åº·çŠ¶å†µã€‚å¸¸ç”¨çš„æ ¸å¿ƒæŒ‡æ ‡å¦‚å›¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d519ee20fb74e1eb36d20430d3ebeab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=1vHNeAgPxSRNnFEwcEOpGnPaKd8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">2.4Â æŠ¥è­¦è§„åˆ™</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68d49b80230340b0902ab71e68a38baf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=0pa6uy2qdu7aD0AiR%2B%2B9skh5j9M%3D" alt="cdb33b569699410c9cb33cc79cee25fb.png" loading="lazy"/></p>
<p>å»ºç«‹Â StarRocksÂ å®ä¾‹çš„å¼‚å¸¸æŠ¥è­¦æœºåˆ¶éå¸¸å…³é”®ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©åŠæ—¶å‘ç°å®ä¾‹å¼‚å¸¸å¹¶å¿«é€Ÿä»‹å…¥å¤„ç†ã€‚æŠ¥è­¦é¡¹çš„è®¾ç½®é€šå¸¸å›´ç»•â€œèµ„æºæ°´ä½ã€èŠ‚ç‚¹å¯ç”¨æ€§ã€è°ƒåº¦æ‹¥å¡ã€æŸ¥è¯¢å¤±è´¥ä¸æ—¶å»¶â€å‡ ç±»æ ¸å¿ƒä¿¡å·å±•å¼€ï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†é˜ˆå€¼æ¥è‡ªå¤§ä¿ƒå‹æµ‹ä¸å®æˆ˜æ¢ç´¢ï¼Œå…·æœ‰è¾ƒå¼ºå‚è€ƒä»·å€¼ï¼š</p>
<ul>
<li>
<p>BE/CNÂ çš„Â CPUÂ ä¸å†…å­˜ä½¿ç”¨ç‡è®¾ç½®é˜ˆå€¼ï¼Œä¾‹å¦‚å½“ä½¿ç”¨ç‡æŒç»­é«˜äºÂ 70%Â æ—¶è§¦å‘å‘Šè­¦ï¼›</p>
</li>
<li>
<p>FEÂ çš„Â CPUÂ ä¸å†…å­˜ä½¿ç”¨ç‡åŒæ ·è®¾ç½®Â 70%Â çš„å‘Šè­¦é˜ˆå€¼ï¼›</p>
</li>
<li>
<p>åœ¨å¯ç”¨æ€§æ–¹é¢ï¼Œå¯ä»¥ç›‘æ§Â BE/CNÂ æˆ–Â FEÂ çš„å¯ç”¨ç‡æ˜¯å¦ä½äºÂ 100%ï¼Œä¸€æ—¦å‡ºç°ä½äºÂ 100%Â çš„æƒ…å†µï¼Œé€šå¸¸æ„å‘³ç€æœ‰èŠ‚ç‚¹ä¸å¯ç”¨æˆ–å‘ç”Ÿæ•…éšœã€‚</p>
</li>
<li>
<p>å½“Â BEÂ é˜»å¡é˜Ÿåˆ—æ•°è¶…è¿‡Â 2000Â æ—¶ï¼ŒStarRocksÂ é›†ç¾¤çš„æŸ¥è¯¢æ—¶å»¶å¯èƒ½å‡ºç°é™¡å¢ï¼›</p>
</li>
<li>
<p>åœ¨æŸ¥è¯¢ä¾§ï¼Œå¯ä»¥å¢åŠ æŸ¥è¯¢å¤±è´¥æ¬¡æ•°ä¸æŸ¥è¯¢æ—¶å»¶åˆ†ä½æ•°çš„å‘Šè­¦ï¼Œä¾‹å¦‚â€œæŸ¥è¯¢å¤±è´¥æ¬¡æ•°å¤§äºÂ nâ€â€œæŸ¥è¯¢å»¶è¿ŸÂ TP99Â å¤§äºÂ nâ€ã€‚å…¶ä¸­Â nÂ çš„å–å€¼éœ€è¦ç»“åˆä¸šåŠ¡ç‰¹æ€§ä¸å¯æ¥å—çš„æœåŠ¡æ°´å¹³ç›®æ ‡è¿›è¡Œé…ç½®ã€‚</p>
</li>
</ul>
<h3 data-id="heading-11">2.5Â å…ƒæ•°æ®ç›‘æ§</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a52d0f431e94c13bf5ee643f782df43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=HhgtqySGrmmia0808EDujkzVmjw%3D" alt="73cea218e8ee4922b80e8b5ecba11fbf.png" loading="lazy"/></p>
<p>ä¸ºæ›´æœ‰æ•ˆåœ°æ²»ç†Â StarRocksçš„å„ç±»æŸ¥è¯¢è¯·æ±‚ï¼Œå¯ä»¥å®æ—¶è·å–å®¡è®¡æ—¥å¿—ï¼Œå¹¶åŸºäºå®¡è®¡æ—¥å¿—æ„å»ºå…ƒæ•°æ®ç›‘æ§å¤§ç›˜ï¼Œä¸ºåç»­çš„æ…¢æŸ¥è¯¢Â SQLÂ æ²»ç†æä¾›æ•°æ®æ”¯æ’‘ä¸å®šä½ä¾æ®ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">selectÂ *Â fromÂ _starrocks_audit_db_.starrocks_audit_tbl;
</code></pre>
<p>å®¡è®¡æ—¥å¿—ç›¸å…³æ•°æ®è½åœ¨Â <strong>StarRocks</strong>Â çš„å†…è¡¨ä¸­ï¼Œå¯¹åº”ä¿¡æ¯å¯å®æ—¶æŸ¥è¯¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸæ¡Â SQLÂ æ‰§è¡Œå®Œæˆåï¼Œå¯ä»¥ç«‹å³åœ¨è¯¥å†…è¡¨ä¸­æŸ¥åˆ°è¿™æ¡Â SQLÂ çš„æ‰§è¡Œè€—æ—¶ç­‰å…³é”®å­—æ®µã€‚åŸºäºè¿™ä¸€åŸºç¡€èƒ½åŠ›ï¼Œå¦‚æœéœ€è¦è¿›ä¸€æ­¥åšæ›´ç»†çš„æºæ•°æ®ä¸æŸ¥è¯¢è¡Œä¸ºç›‘æ§ï¼Œä¹Ÿå¯ä»¥å›´ç»•å®¡è®¡æ—¥å¿—ä¸­è®°å½•çš„Â SQLÂ ä¿¡æ¯è¿›è¡Œæ‰©å±•ã€‚</p>
<p>åœ¨ç›‘æ§å¤§ç›˜çš„ç»„ç»‡æ–¹å¼ä¸Šï¼Œæ”¯æŒæŒ‰Â WarehouseÂ ç»´åº¦æ‹†åˆ†ï¼ˆä¾‹å¦‚åˆ’åˆ†ä¸ºå¤šä¸ªÂ Warehouseï¼‰ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æŒ‰æ•°æ®é›†è¿›è¡Œè¿‡æ»¤ã€‚åœ¨ç­›é€‰å®Œæˆåï¼Œé‡ç‚¹å…³æ³¨çš„æ•°æ®å­—æ®µé€šå¸¸åŒ…æ‹¬ï¼šæ•°æ®é›†åç§°ã€æ€»Â CPUÂ æ¶ˆè€—ã€æ€»æŸ¥è¯¢å¤§å°ã€æŸ¥è¯¢æ¬¡æ•°ã€æŸ¥è¯¢è¡Œæ•°ã€å¤±è´¥ç‡ä¸å¤±è´¥æ¬¡æ•°ã€å•æ¬¡æŸ¥è¯¢çš„Â CUÂ æ¶ˆè€—ã€æŸ¥è¯¢æ—¶é—´ä»¥åŠæŸ¥è¯¢å‘èµ·äººç­‰ã€‚è¿™äº›æŒ‡æ ‡æ”¯æŒæ’åºä¸èšåˆï¼Œä¾¿äºåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é€‰å–ç‰¹å®šæ—¶é—´çª—å£ï¼Œå¯¹æ€»Â CPUÂ æ¶ˆè€—ã€æ€»æŸ¥è¯¢å¤§å°ã€æ€»æŸ¥è¯¢è¡Œæ•°ç­‰ç»´åº¦è¿›è¡ŒÂ TopÂ SQLÂ æ’æŸ¥ä¸æ²»ç†ã€‚é€šè¿‡ä¼˜å…ˆæ²»ç†è¿™äº›â€œé«˜æ¶ˆè€—/é«˜å½±å“â€çš„Â SQLï¼Œå¾€å¾€èƒ½å¤Ÿæ˜¾è‘—æ”¹å–„é›†ç¾¤æ•´ä½“å¥åº·çŠ¶å†µï¼Œå› ä¸ºåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œé›†ç¾¤ä¸ç¨³å®šçš„æ ¹å› æ¥è‡ªå°‘é‡é«˜é£é™©çš„â€œåÂ SQLâ€ã€‚</p>
<h3 data-id="heading-12">2.6Â å¤§ä¿ƒä¿éšœ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fdd5e52849a4179a02c546ef0c14d1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=5T8j5FXFgKWdluzEYhhk%2BGsBtNo%3D" alt="image.png" loading="lazy"/>
å¤§ä¿ƒä¿éšœçš„ç›®æ ‡ï¼Œæ˜¯æŠŠä¸ç¡®å®šæ€§å°½é‡å‰ç½®æ¶ˆåŒ–ï¼Œç¡®ä¿å¼€å–é«˜å³°æœŸé—´æŸ¥è¯¢é“¾è·¯ç¨³å®šå¯æ§ã€‚</p>
<ul>
<li>
<p><strong>åœ¨èµ„æºä¾§</strong>ï¼Œä¼šç»“åˆå†å²æ•°æ®ä¸ä¸šåŠ¡é¢„æµ‹ï¼Œåœ¨å¤§ä¿ƒå¼€å§‹å‰å¯¹Â StarRocksÂ é›†ç¾¤è¿›è¡Œä¸»åŠ¨æ‰©å®¹ï¼Œå¹¶åœ¨å¤§ä¿ƒç»“æŸåä¸»åŠ¨ç¼©å®¹ã€‚</p>
</li>
<li>
<p><strong>åœ¨éœ€æ±‚ä¾§</strong>ï¼Œæå‰ä¸ä¸šåŠ¡è´Ÿè´£äººå¯¹é½æœ¬æ¬¡å¤§ä¿ƒçš„æ ¸å¿ƒå˜æ›´ç‚¹ï¼Œé‡ç‚¹å…³æ³¨æ”¹é€ æˆ–æ–°å¢é¡µé¢ï¼Œå¹¶å°†æ ¸å¿ƒé¡µé¢çš„Â QPSÂ è¿›è¡Œé‡åŒ–ï¼Œä¸ºå…¨é“¾è·¯å‹æµ‹ä¸å®¹é‡è¯„ä¼°åšå‡†å¤‡ã€‚</p>
</li>
<li>
<p><strong>é’ˆå¯¹é‡ä¿é¡µé¢</strong>ï¼Œæˆ‘ä»¬è¿˜ä¼šå»ºç«‹ä¸€å¥—æ™ºèƒ½åº”æ€¥æœºåˆ¶ï¼Œåˆ†ä¸ºå®ä¾‹çº§ä¸æŸ¥è¯¢çº§ä¸¤å±‚ã€‚å®ä¾‹çº§æ•…éšœåˆ‡æ¢æ–¹é¢ï¼Œå½“Â StarRocksÂ ä¸»å®ä¾‹ä¸å¯ç”¨æ—¶ï¼Œå¯é€šè¿‡è‡ªåŠ¨åŒ–é¢„æ¡ˆå·¥å…·ï¼ˆFBIï¼‰å°†é‡ä¿é¡µé¢çš„æŸ¥è¯¢è¯·æ±‚æ‰¹é‡åˆ‡æ¢åˆ°å¤‡åº“Â Warehouseï¼Œå®Œæˆå®ä¾‹çº§å®¹ç¾ï¼›æŸ¥è¯¢çº§è‡ªåŠ¨å®¹é”™æ–¹é¢ï¼Œå½“é‡ä¿é¡µé¢å‡ºç°å•æ¬¡æŸ¥è¯¢å¤±è´¥æˆ–è¶…æ—¶ï¼Œç³»ç»Ÿä¼šå°†è¯¥æŸ¥è¯¢è‡ªåŠ¨è·¯ç”±åˆ°å¤‡åº“Â WarehouseÂ é‡è¯•ï¼Œå°½é‡åšåˆ°ç”¨æˆ·æ— æ„Ÿï¼Œä¸ºå…³é”®Â SQLÂ å¢åŠ ä¸€æ¬¡â€œäºŒæ¬¡æœºä¼šâ€ï¼Œæå‡æ•´ä½“ç¨³å®šæ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">2.7Â å¤§ä¿ƒå‹æµ‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ce7b5f831cb4a5baed3deabae647b97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=d5XCduc7HHWXrin98SG7MLKUJV0%3D" alt="ec2dd45519bb480d8784695847ee4629.png" loading="lazy"/></p>
<p>å¤§ä¿ƒå‹æµ‹é€šå¸¸åˆ†ä¸ºä¸¤å±‚ï¼š<strong>æ ¸å¿ƒé¡µé¢å•å‹ä¸å…¨é“¾è·¯å‹æµ‹ã€‚</strong></p>
<p>åœ¨æ ¸å¿ƒé¡µé¢å•å‹é˜¶æ®µï¼Œä¼šå…ˆæ¢³ç†å¤§ä¿ƒæœŸé—´çš„æ ¸å¿ƒé¡µé¢åŠæ–°å¢é¡µé¢ï¼Œå¹¶å¯¹è¿™äº›é¡µé¢è¿›è¡Œå•ç‹¬å‹æµ‹ã€‚è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯å°½å¯èƒ½åœ¨æ´»åŠ¨å‰ç½®æš´éœ²å¹¶è§£å†³å•ç‚¹é—®é¢˜å¯¼è‡´çš„æ€§èƒ½ç“¶é¢ˆï¼Œä¸ºåç»­ä¸Šçº¿ç•™å‡ºç²¾ç»†åŒ–ä¼˜åŒ–ç©ºé—´ã€‚</p>
<p>åœ¨å…¨é“¾è·¯å‹æµ‹é˜¶æ®µï¼Œä¼šæ¨¡æ‹Ÿâ€œæ‰€æœ‰é¡µé¢åŒæ—¶è¾¾åˆ°æµé‡å³°å€¼â€çš„æé™åœºæ™¯ï¼Œç”¨ä»¥éªŒè¯Â StarRocksÂ é›†ç¾¤åœ¨å³°å€¼å†²å‡»ä¸‹çš„æ•´ä½“èµ„æºæ°´ä½ä¸å…³é”®æ€§èƒ½æŒ‡æ ‡æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚é‡ç‚¹å…³æ³¨çš„èµ„æºæ°´ä½é€šå¸¸åŒ…æ‹¬Â CPUã€å†…å­˜ä¸Â I/Oï¼ŒåŒæ—¶ç»“åˆæŸ¥è¯¢æ—¶å»¶ç­‰æŒ‡æ ‡ï¼Œè¯„ä¼°é›†ç¾¤åœ¨æç«¯å¹¶å‘ä¸é«˜è´Ÿè½½ä¸‹çš„ç¨³å®šæ€§ä¸æ‰¿è½½è¾¹ç•Œã€‚</p>
<h3 data-id="heading-14">2.8Â å‹æµ‹å‘ç°çš„é—®é¢˜å’Œä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p><strong>1ï¼‰åˆ†åŒºè£å‰ªå¤±æ•ˆæˆ–ç¼ºå°‘åˆ†åŒºè¿‡æ»¤ï¼Œå¯¼è‡´æ‰«å…¨è¡¨</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12d2dab27cd14feb8ccb2578e02cef2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=dYuRlUJ10iXunvN41SJzPDhlkEE%3D" alt="1e442b8c79984e2a85440c9c085d46c5.png" loading="lazy"/></p>
<p>å‹æµ‹ä¸­å‘ç°ï¼Œéƒ¨åˆ†Â SQLÂ å› åˆ†åŒºè£å‰ªå¤±æ•ˆæˆ–æœªé…ç½®åˆ†åŒºè¿‡æ»¤æ¡ä»¶ï¼Œå‡ºç°æ‰«æèŒƒå›´è¿‡å¤§ç”šè‡³æ‰«å…¨è¡¨çš„é£é™©ã€‚é’ˆå¯¹è¯¥ç±»é—®é¢˜ï¼Œæ²»ç†åŸåˆ™æ˜¯å¿…é¡»å¯ç”¨åˆ†åŒºè¿‡æ»¤å¹¶ç¡®ä¿åˆ†åŒºè£å‰ªç”Ÿæ•ˆï¼Œä¸å…è®¸å­˜åœ¨æ‰«å…¨è¡¨Â SQLÂ åœ¨çº¿è¿è¡Œã€‚</p>
<p>åˆ†åŒºè£å‰ªç”Ÿæ•ˆçš„å¸¸è§å†™æ³•åŒ…æ‹¬ï¼šå¯¹åˆ†åŒºå­—æ®µè¿›è¡Œæ—¥æœŸä¼ å‚ï¼Œç›´æ¥åŸºäºåˆ†åŒºå­—æ®µè§¦å‘è£å‰ªï¼›æˆ–ä½¿ç”¨æ—¥æœŸå‡½æ•°è§¦å‘è£å‰ªï¼Œä¾‹å¦‚Â date_formatã€date_addÂ ç­‰å‡½æ•°ä¹Ÿå¯ä»¥è§¦å‘åˆ†åŒºè£å‰ªã€‚</p>
<p>åˆ†åŒºè£å‰ªå¤±æ•ˆçš„å…¸å‹åœºæ™¯æ˜¯åˆ†åŒºå­—æ®µä¸å­æŸ¥è¯¢ç»“æœè¿›è¡Œæ¯”è¾ƒï¼Œä¾‹å¦‚å°†åˆ†åŒºå­—æ®µä¸å­æŸ¥è¯¢è¿”å›çš„æœ€å°æ´»åŠ¨æ—¶é—´è¿›è¡Œå¯¹æ¯”æ—¶ï¼Œåˆ†åŒºè£å‰ªä¼šå¤±æ•ˆã€‚åŸå› åœ¨äºåˆ†åŒºè£å‰ªå‘ç”Ÿåœ¨Â FEÂ é˜¶æ®µï¼Œè€Œå­æŸ¥è¯¢éœ€è¦åˆ°Â BEÂ æ‰§è¡Œï¼ŒFEÂ åœ¨è§„åˆ’é˜¶æ®µæ— æ³•è·å¾—å­æŸ¥è¯¢ç»“æœï¼Œä»è€Œæ— æ³•ç”Ÿæˆæœ‰æ•ˆçš„åˆ†åŒºè£å‰ªä¿¡æ¯ã€‚</p>
<p><strong>2ï¼‰è¯»å–Â PaimonÂ ç”Ÿè¡¨æ—¶å°æ–‡ä»¶è¿‡å¤šï¼Œå¯¼è‡´è¯»å–æ•°æ®å—æ•°è¿‡å¤§</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2de3bbc8d89d4cfd93fdf7b32327179c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770975973&amp;x-signature=UR9mUct%2F8jSOXhe%2FGih1sSbULcc%3D" alt="f7565bca02374c3a9dd1ae6e94058b02.png" loading="lazy"/></p>
<p>å‹æµ‹è¿˜å‘ç°ï¼Œè¯»å–Â PaimonÂ è¡¨æ—¶å­˜åœ¨å°æ–‡ä»¶è¿‡å¤šçš„é—®é¢˜ã€‚</p>
<p><strong>å®šä½æ–¹æ³•</strong>ï¼šåœ¨Â StarRocksÂ æ‰§è¡ŒÂ SQLÂ æ—¶å¯å¼€å¯Â profileï¼ˆé€šè¿‡Â hintï¼š/*+Â SET_VAR(enable_profileÂ =Â true)Â */ï¼‰ç”ŸæˆÂ profileÂ æ–‡ä»¶ï¼›åœ¨Â profileÂ ä¸­æœç´¢Â â€œmetadataâ€ï¼Œå…¶ä¸­Â nativeReaderReadNumÂ è¡¨ç¤ºè¯»å–çš„æ•°æ®å—æ•°ï¼ŒnativeReaderReadBytesÂ è¡¨ç¤ºè¯»å–çš„å­—èŠ‚æ•°ã€‚å®è·µä¸­ï¼Œå½“å•ä¸ªåˆ†åŒºçš„Â nativeReaderReadNumÂ å¤§äºÂ 200Â æ—¶ï¼Œé€šå¸¸å»ºè®®è€ƒè™‘å¯¹è¡¨è¿›è¡Œæ’åºæ²»ç†ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šåœ¨æ„å»ºæµæ‰¹æ’åºPaimonè¡¨æ—¶ï¼Œå»ºè®®é‡‡ç”¨åˆ†æ”¯è¡¨æ¨¡å¼ï¼šç¦»çº¿åˆ†æ”¯å°†Â bucketÂ è®¾ä¸ºÂ -1ï¼Œå®æ—¶åˆ†æ”¯æŒ‰éœ€è®¾ç½®Â bucketã€‚ç¦»çº¿åˆ†æ”¯è¡¨é€šè¿‡Â clusteringÂ columnsÂ æŒ‡å®šæ’åºå­—æ®µï¼Œå¯æ”¯æŒæŒ‡å®šå¤šä¸ªå­—æ®µï¼ˆå¦‚Â f1ã€f2ï¼‰ï¼Œä¸€èˆ¬é€‰æ‹©Â OLAPÂ æŸ¥è¯¢ä¸­æœ€å¸¸ç”¨çš„è¿‡æ»¤å­—æ®µï¼Œä»¥æå‡è¿‡æ»¤å‘½ä¸­ä¸è¯»å–æ•ˆç‡ã€‚è¯¥èƒ½åŠ›ä»…æ”¯æŒÂ FlinkÂ æ‰¹å†™å…¥ï¼Œä¸æ”¯æŒÂ ODPSÂ å†™å…¥ï¼›å†™å…¥è¡¨æ—¶éœ€è¦ä½¿ç”¨Â hintï¼š<strong>/*+Â OPTIONS('sink.parallelism'Â =Â '64')Â */</strong>ã€‚å¯¹äºÂ ODPSÂ å†™å…¥çš„Â PaimonÂ è¡¨ï¼Œåˆ™éœ€è¦åœ¨ä»»åŠ¡ä¸‹æŒ‚ä¸€ä¸ªå•ç‹¬çš„Â compactÂ æ’åºä»»åŠ¡ã€‚</p>
<p><strong>ä¸ºä½•æœ‰æ•ˆ</strong>ï¼šåœ¨åŒÂ 11Â åœºæ™¯ä¸‹ï¼Œæ´»åŠ¨å‘¨æœŸå¾€å¾€æŒç»­æ•°åå¤©ã€‚å½“å¤©æ•°æ®å±äºå®æ—¶å¢é‡ï¼Œè€Œä»æ´»åŠ¨å¼€å§‹åˆ°æ˜¨å¤©çš„å†å²æ•°æ®å æ¯”æ›´å¤§ï¼›å› æ­¤å¯¹ç¦»çº¿æ•°æ®è¿›è¡Œè¡¨æ’åºæ”¶ç›Šæ˜¾è‘—ã€‚å‹æµ‹å®æµ‹æ˜¾ç¤ºï¼Œæ’åºåè¯»å–çš„æ•°æ®å—æ•°çº¦ä¸ºæ’åºå‰çš„Â 1/1000ã€‚Â Â ç¦»çº¿åˆ†æ”¯å®Œæˆæ’åºåï¼Œæ´»åŠ¨å¼€å§‹åˆ°æ˜¨å¤©ï¼ˆå æ¯”æœ€å¤§çš„å†å²æ•°æ®ï¼‰åŸºæœ¬éƒ½å¤„äºâ€œå·²æ’åºã€æ•°æ®å—è¯»å–é‡å¾ˆå°â€çš„çŠ¶æ€ï¼›å®æ—¶åˆ†æ”¯ç”±äºæ— æ³•æ’åºï¼Œè¯»å–çš„æ•°æ®å—ä¼šç›¸å¯¹å¤šä¸€äº›ï¼Œä½†å®æ—¶æ•°æ®é€šå¸¸åªå­˜åœ¨äºå½“å¤©ï¼Œæ•´ä½“å æ¯”å°ï¼Œå› æ­¤å¯¹æ•´æ¡Â SQLÂ çš„æŸ¥è¯¢æ—¶å»¶å½±å“ç›¸å¯¹æœ‰é™ã€‚</p>
<p><strong>3ï¼‰æ£€æŸ¥æ˜¯å¦å‘½ä¸­Â MapJoinï¼šå°ç»´è¡¨å»ºè®®æ˜¾å¼Â broadcast</strong></p>
<p>å½“Â SQLÂ éœ€è¦Â joinÂ å°è¡¨ï¼ˆä¾‹å¦‚å°äºÂ 10MBÂ çš„ç»´è¡¨ï¼‰æ—¶ï¼Œå»ºè®®åœ¨ç»´è¡¨å‰æ˜¾å¼åŠ Â broadcastï¼Œä»¥è§¦å‘ç±»ä¼¼ç¦»çº¿Â MapJoinÂ çš„æ‰§è¡Œç­–ç•¥ã€‚å®æµ‹æ˜¾ç¤ºï¼Œå¼•å…¥Â broadcastÂ åæŸ¥è¯¢æ—¶å»¶å¯æ˜¾è‘—ä¸‹é™ï¼Œå…¸å‹åœºæ™¯ä¸‹å¯ä»åå‡ ç§’ä¼˜åŒ–åˆ°çº¦Â 3Â ç§’ï¼Œæ•´ä½“æŸ¥è¯¢æ—¶å»¶çº¦ä¸ºåŸå…ˆçš„Â 1/3ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">SELECT xxx
FROM table_a t0
LEFT JOIN [broadcast] dim_table_b t1 
ON t0.cate_id = t1.slr_main_cate_id
AND t1.ds = 'xxx'
</code></pre>
<p><strong>4ï¼‰æ£€æŸ¥è·¨åœ°åŸŸè®¿é—®ï¼šè®¡ç®—ä¸å­˜å‚¨å°½é‡åŒåœ°åŸŸéƒ¨ç½²</strong></p>
<p>è¿˜éœ€è¦ç¡®è®¤Â StarRocksÂ å®ä¾‹ä¸æ‰€è¯»å–çš„Â PaimonÂ è¡¨æ˜¯å¦å¤„äºåŒä¸€åœ°åŸŸã€‚è‹¥ä¸åœ¨åŒä¸€åœ°åŸŸï¼ŒæŸ¥è¯¢æ—¶å»¶ä¼šæ˜æ˜¾å¢åŠ ã€‚å»ºè®®å°†Â StarRocksÂ çš„éƒ¨ç½²åœ°åŸŸä¸Â PaimonÂ è¡¨å­˜å‚¨åœ°åŸŸä¿æŒä¸€è‡´ã€‚</p>
<p><strong>5ï¼‰ä¸»é”®è¡¨å»ºè®®å¼€å¯Â deletionÂ vectorsï¼šå‡å°‘æ— æ•ˆæ•°æ®è¯»å–</strong></p>
<p>å¯¹äºÂ PaimonÂ ä¸»é”®è¡¨ï¼Œå»ºè®®å¼€å¯Â 'deletion-vectors.enabled'Â =Â 'true'å‚æ•°ã€‚è¯¥èƒ½åŠ›ä¼šåœ¨å†™å…¥é˜¶æ®µè®°å½•å“ªäº›ä¸»é”®æ•°æ®å·²è¢«åˆ é™¤ï¼›è¯»å–æ—¶å¯è·³è¿‡å·²åˆ é™¤æ•°æ®ï¼Œå‡å°‘æ— æ•ˆæ‰«æï¼Œä»è€Œæå‡æŸ¥è¯¢æ€§èƒ½ã€‚éä¸»é”®è¡¨ä¸éœ€è¦å¼€å¯è¯¥å‚æ•°ã€‚</p>
<h2 data-id="heading-15">3ã€é˜¶æ®µæˆæœä¸æœªæ¥è§„åˆ’</h2>
<h3 data-id="heading-16">3.1Â é˜¶æ®µæˆæœ</h3>
<p>æ•´ä½“æ¥çœ‹ï¼Œè¯¥æ–¹æ¡ˆå¸¦æ¥äº†å››æ–¹é¢é˜¶æ®µæ€§æˆæœã€‚</p>
<ul>
<li>
<p><strong>æ•°æ®é“¾è·¯å¾—åˆ°ç®€åŒ–</strong>ï¼šé€šè¿‡ç»Ÿä¸€å­˜å‚¨ä¸ç»Ÿä¸€æŸ¥è¯¢é¢ï¼Œæ¶ˆé™¤äº†æ•°æ®åŒæ­¥é“¾è·¯ï¼Œå¹¶é™ä½äº†å¤šä»½å­˜å‚¨å¸¦æ¥çš„æˆæœ¬ä¸å¤æ‚åº¦ã€‚</p>
</li>
<li>
<p>**æ•°æ®ä½¿ç”¨é—¨æ§›æ˜¾è‘—é™ä½ï¼š**åŸºäºÂ PaimonÂ çš„å®æ—¶/ç¦»çº¿ä¸­é—´å±‚ï¼Œä¸ä»…æ•°æ®å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ï¼Œä¸šåŠ¡åˆ†æå¸ˆä¹Ÿå¯ä»¥é€šè¿‡Â StarRocksÂ è‡ªåŠ©æ¶ˆè´¹è¿‘å®æ—¶æ•°æ®ï¼Œä»è€Œå‡å°‘éƒ¨åˆ†ç®€å•éœ€æ±‚å¯¹æ•°æ®ç ”å‘æ’æœŸçš„ä¾èµ–ã€‚</p>
</li>
<li>
<p><strong>å›åˆ·å¼€é”€å¾—åˆ°æ˜æ˜¾å‰Šå‡</strong>ï¼š**æ ¸å¿ƒåœºæ™¯çš„å›åˆ·æ•ˆç‡æå‡çº¦Â 80%ï¼Œå¹´åŒ–èŠ‚çœæˆæœ¬æ¥è¿‘Â 1000Â ä¸‡ã€‚**å…¶å…³é”®åœ¨äºæŸ¥è¯¢å¯ä»¥ç›´æ¥è¯»å–Â PaimonÂ å…¬å…±å±‚å¹¶å…³è”Â PaimonÂ ç»´è¡¨ï¼Œä¸šåŠ¡å˜æ›´æ—¶åªéœ€åˆ·æ–°ç»´è¡¨ï¼Œæ— éœ€å›åˆ·ä¸è¯¥ç»´è¡¨ç›¸å…³çš„æ•´æ¡æ•°æ®é“¾è·¯ã€‚</p>
</li>
<li>
<p><strong>åœ¨é«˜æ€§èƒ½å®æ—¶åˆ†ææ–¹é¢ï¼Œä½æˆæœ¬è§£å†³äº†è·¨å¤©äº¤å‰ç»´åº¦å®æ—¶Â UVÂ çš„è®¡ç®—éš¾é¢˜ï¼Œæ»¡è¶³å¤§ä¿ƒæœŸé—´è¿‘å®æ—¶å†³ç­–éœ€æ±‚ã€‚</strong> å…·ä½“åšæ³•æ˜¯å°†å¯ç´¯åŠ æŒ‡æ ‡ï¼ˆå¦‚è®¢å•æ•°ã€è®¢å•æ”¯ä»˜é‡‘é¢ç­‰ï¼‰ä¸ä¸å¯ç´¯åŠ æŒ‡æ ‡ï¼ˆå¦‚Â user_idï¼‰åˆ†å¼€å¤„ç†ï¼šå¯ç´¯åŠ æŒ‡æ ‡åœ¨æŸ¥è¯¢ä¾§ç›´æ¥èšåˆï¼›ä¸å¯ç´¯åŠ æŒ‡æ ‡åˆ™å°†Â user_idÂ åšÂ RBÂ åŒ–åå­˜å…¥ä¸­é—´å±‚ï¼ŒStarRocksÂ è¯»å–Â PaimonÂ è¡¨æ—¶é€šè¿‡Â RBÂ ç›¸å…³å‡½æ•°è®¡ç®—Â UVã€‚</p>
</li>
</ul>
<h3 data-id="heading-17">3.2Â æœªæ¥è§„åˆ’</h3>
<p>é¢å‘ä¸‹ä¸€é˜¶æ®µï¼Œè§„åˆ’ä¸»è¦é›†ä¸­åœ¨å››ä¸ªæ–¹å‘ã€‚</p>
<p>ç¬¬ä¸€ï¼Œ<strong>å¸Œæœ›Â StarRocksÂ å…·å¤‡æ›´å¼ºçš„è‡ªåŠ¨ç‰©åŒ–èƒ½åŠ›</strong>ï¼šé’ˆå¯¹ç”¨æˆ·é«˜é¢‘æŸ¥è¯¢çš„Â SQLÂ è‡ªåŠ¨ç”Ÿæˆç‰©åŒ–ç»“æœï¼Œå¹¶åœ¨åç»­æŸ¥è¯¢ä¸­è‡ªåŠ¨å®Œæˆæ”¹å†™ï¼Œç›´æ¥å‘½ä¸­ç‰©åŒ–è¡¨ã€‚ç”±äºç‰©åŒ–è¡¨å¾€å¾€å·²ç»å®Œæˆèšåˆï¼Œå…¶æ•°æ®é‡ç›¸è¾ƒç›´æ¥æŸ¥è¯¢ä¸­é—´å±‚å¯ä»¥å°å¾ˆå¤šä¸ªé‡çº§ï¼Œä»è€Œæ˜¾è‘—é™ä½æ‰«æä¸è®¡ç®—å¼€é”€ï¼Œè¿›ä¸€æ­¥æå‡æŸ¥è¯¢é€Ÿåº¦ä¸ç¨³å®šæ€§ã€‚</p>
<p>ç¬¬äºŒï¼Œè®¡åˆ’è¿›ä¸€æ­¥<strong>ä¸°å¯ŒÂ StarRocksÂ çš„å…ƒæ•°æ®èƒ½åŠ›</strong>ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œ<strong>ä¼˜åŒ–Â StarRocksÂ çš„è°ƒåº¦ç­–ç•¥</strong>ï¼Œé‡ç‚¹æ˜¯è°ƒåº¦å±‚é¢çš„Â CPUÂ è´Ÿè½½å‡è¡¡èƒ½åŠ›ã€‚</p>
<p>ç¬¬å››ï¼Œå¸Œæœ›Â <strong>StarRocksÂ å…·å¤‡ç›´æ¥è¯»å–Â FlussÂ çš„èƒ½åŠ›</strong>ï¼Œä»è€Œæ”¯æŒç§’çº§æŸ¥è¯¢åœºæ™¯ã€‚ç›®å‰Â PaimonÂ ä»ä»¥åˆ†é’Ÿçº§é“¾è·¯ä¸ºä¸»ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨è¯»å–ä¾§è¿›ä¸€æ­¥ä¸‹æ¢åˆ°Â Flussï¼Œå°†æ›´å¥½è¦†ç›–å¯¹ç§’çº§å®æ—¶æ€§æœ‰æ˜ç¡®è¯‰æ±‚çš„ä¸šåŠ¡åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rspress 2.0 å‘å¸ƒï¼šé¢å‘ä½“éªŒä¸ AI çš„å…¨æ–°å‡çº§]]></title>    <link>https://juejin.cn/post/7603556326815842356</link>    <guid>https://juejin.cn/post/7603556326815842356</guid>    <pubDate>2026-02-06T10:01:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603556326815842356" data-draft-id="7603444191448317986" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rspress 2.0 å‘å¸ƒï¼šé¢å‘ä½“éªŒä¸ AI çš„å…¨æ–°å‡çº§"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,å¼€æº"/> <meta itemprop="datePublished" content="2026-02-06T10:01:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­—èŠ‚è·³åŠ¨å¼€æº"/> <meta itemprop="url" content="https://juejin.cn/user/1227510999971086"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rspress 2.0 å‘å¸ƒï¼šé¢å‘ä½“éªŒä¸ AI çš„å…¨æ–°å‡çº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1227510999971086/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­—èŠ‚è·³åŠ¨å¼€æº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T10:01:29.000Z" title="Fri Feb 06 2026 10:01:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19675bd1aa934a068cadbd825aeb47b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=dEFyzgW6mq71FbNhjvHiotUZxa4%3D" alt="Rspress 2.0 Banner" loading="lazy"/></p>
<hr/>
<p>æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ Rspress 2.0 çš„æ­£å¼å‘å¸ƒï¼</p>
<p>Rspress æ˜¯åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2F" target="_blank" title="https://rsbuild.rs/" ref="nofollow noopener noreferrer">Rsbuild</a> çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œä¸“ä¸ºå¼€å‘è€…æ‰“é€ çš„æ–‡æ¡£ç«™å·¥å…·ã€‚è‡ª 2023 å¹´æ­£å¼å‘å¸ƒä»¥æ¥ï¼ŒRspress 1.x ç´¯è®¡è¿­ä»£ <strong>144 ä¸ªç‰ˆæœ¬</strong>ï¼Œå…±æœ‰ <strong>125 ä½è´¡çŒ®è€…</strong> å‚ä¸é¡¹ç›®å¼€å‘ã€‚è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…é€‰æ‹© Rspressï¼Œå€ŸåŠ©å…¶<strong>é«˜æ•ˆçš„ç¼–è¯‘æ€§èƒ½ã€çº¦å®šå¼è·¯ç”±å’Œç»„ä»¶åº“é¢„è§ˆ</strong>ç­‰åŠŸèƒ½ï¼Œæ­å»ºç¾è§‚å¯é çš„æ–‡æ¡£ç«™ç‚¹ã€‚</p>
<p>åŸºäºç¤¾åŒºçš„åé¦ˆå’Œå»ºè®®ï¼ŒRspress 2.0 åœ¨ <a href="#brand-new-theme" title="#brand-new-theme"><strong>ä¸»é¢˜ç¾è§‚åº¦</strong></a>ã€<a href="#llms-txt-ssg-md" title="#llms-txt-ssg-md"><strong>AI-native</strong></a>ã€<a href="#doc-dx" title="#doc-dx"><strong>æ–‡æ¡£å¼€å‘ä½“éªŒ</strong></a>ã€<a href="#rslib-rspress" title="#rslib-rspress"><strong>ä¸ Rslib ä¸€èµ·ä½¿ç”¨</strong></a> ç­‰æ–¹é¢æ›´è¿›ä¸€æ­¥ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ˜¯ Rspress 2.0</h2>
<p>Rspress 1.x å·²ç»è§£å†³äº†æ–‡æ¡£ç«™æ¡†æ¶ç¼–è¯‘æ€§èƒ½çš„é—®é¢˜ï¼Œä½†ä»å­˜åœ¨ä¸€äº›é—®é¢˜å½±å“ç€ä½œä¸ºä¸€ä¸ªæ–‡æ¡£å¼€å‘å·¥å…·çš„æ ¸å¿ƒä½“éªŒã€‚2.0 ç‰ˆæœ¬å°†ä¸æ­¢äºå¯¹ç¼–è¯‘æ€§èƒ½çš„è¿½æ±‚ï¼Œä¹Ÿèšç„¦äºæ–‡æ¡£ç«™ä½“éªŒçš„å…¶ä»–æ–¹é¢ï¼š</p>
<ul>
<li>
<p><strong>ä¸»é¢˜æ ·å¼</strong>ï¼šä¸€å¥—<strong>æ›´ç¾è§‚çš„é»˜è®¤ä¸»é¢˜</strong>ï¼Œå¹¶æä¾›äº†å¤šç§ <a href="/zh/guide/basic/custom-theme.md" target="_blank" title="/zh/guide/basic/custom-theme.md">è‡ªå®šä¹‰ä¸»é¢˜</a> æ–¹å¼ï¼Œè§£å†³äº† 1.x åœ¨ä¸»é¢˜å®šåˆ¶ä¸Šç¼ºä¹ç¨³å®š API çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>AI-native</strong>ï¼šæ–‡æ¡£ä¸ä»…æœåŠ¡äºäººç±»è¯»è€…ï¼Œä¹Ÿéœ€è¦è¢« Agent æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ã€‚Rspress ç°åœ¨å†…ç½®äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fllmstxt.org%2F" target="_blank" title="https://llmstxt.org/" ref="nofollow noopener noreferrer">llms.txt</a> ç”Ÿæˆå’Œä» SSG è¡ç”Ÿå‡ºçš„ <a href="/zh/guide/basic/ssg-md.md" target="_blank" title="/zh/guide/basic/ssg-md.md"><strong>SSG-MD</strong></a> åŠŸèƒ½ï¼Œç”Ÿæˆé«˜è´¨é‡çš„ Markdown æ¸²æŸ“å†…å®¹ä¾› Agent è¯»å–ã€‚</p>
</li>
<li>
<p><strong>æŒ‰éœ€ç¼–è¯‘ï¼Œç¬é—´å¯åŠ¨</strong>ï¼šé»˜è®¤å¯ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Frspack.rs%2Fguide%2Ffeatures%2Flazy-compilation" target="_blank" title="https://rspack.rs/guide/features/lazy-compilation" ref="nofollow noopener noreferrer">lazyCompilation</a>ï¼Œé…åˆé“¾æ¥ hover æ—¶å¯¹èµ„æºçš„ preload åŠŸèƒ½ï¼Œä»…åœ¨è®¿é—®ç‰¹å®šè·¯ç”±æ—¶æ„å»ºæ‰€éœ€æ–‡ä»¶ï¼Œå®ç°æ— è®ºé¡¹ç›®è§„æ¨¡å¤šå¤§ï¼Œdev ä¹Ÿå¯<strong>ç¬é—´å¯åŠ¨</strong>ã€‚</p>
</li>
<li>
<p><strong>Shiki ä»£ç é«˜äº®</strong>ï¼šé»˜è®¤é›†æˆ Shikiï¼Œåœ¨<strong>æ„å»ºæ—¶å®Œæˆè¯­æ³•é«˜äº®</strong>ï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢ã€transformer æ‰©å±•ï¼Œæ¯”å¦‚ <a href="/zh/plugin/official-plugins/twoslash.md" target="_blank" title="/zh/plugin/official-plugins/twoslash.md">@rspress/plugin-twoslash</a>ï¼Œå¸¦æ¥æ›´ä¸°å¯Œçš„ä»£ç å—å±•ç¤ºæ•ˆæœã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£å¼€å‘ä½“éªŒ</strong>ï¼šä¼˜åŒ– <code>_nav.json</code>ã€<code>_meta.json</code> ç­‰æ–‡ä»¶çš„ HMR å¹¶æ–°å¢ <a href="/zh/guide/basic/auto-nav-sidebar.md#json-schema-%E7%B1%BB%E5%9E%8B%E6%8F%90%E7%A4%BA" target="_blank" title="/zh/guide/basic/auto-nav-sidebar.md#json-schema-%E7%B1%BB%E5%9E%8B%E6%8F%90%E7%A4%BA">json schema</a> ç”¨äº IDE å†…çš„ä»£ç æç¤ºï¼›é»˜è®¤å¼€å¯æ­»é“¾æ£€æŸ¥åŠŸèƒ½ï¼›æ–°å¢æ–‡ä»¶ä»£ç å—è¯­æ³•ï¼Œæ”¯æŒå¼•ç”¨å¤–éƒ¨æ–‡ä»¶ï¼›<a href="/zh/plugin/official-plugins/preview.md" target="_blank" title="/zh/plugin/official-plugins/preview.md">@rspress/plugin-preview</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Frspress.rs%2Fplugin%2Fofficial-plugins%2Fplayground" target="_blank" title="https://rspress.rs/plugin/official-plugins/playground" ref="nofollow noopener noreferrer">@rspress/plugin-playground</a> æ”¯æŒåŒæ—¶ä½¿ç”¨ç­‰ã€‚</p>
</li>
<li>
<p><strong>Rslib é›†æˆ</strong>ï¼šç°åœ¨å¯ä»¥åœ¨ä½¿ç”¨ <code>create-rslib</code> åˆ›å»ºç»„ä»¶åº“é¡¹ç›®æ—¶ï¼Œé€‰æ‹© Rspress ä½œä¸ºæ–‡æ¡£å·¥å…·ï¼Œå¿«é€Ÿæ­å»ºç»„ä»¶æ–‡æ¡£ç«™ç‚¹ã€‚</p>
</li>
</ul>
<p>è¿™æ˜¯ä¸€æ¬¡å¯¹ç°æœ‰æ¶æ„çš„å…¨é¢å‡çº§ï¼Œä¸‹é¢å°†ä»‹ç» Rspress 2.0 å’Œå®ƒçš„ <strong>å…¨æ–°ä¸»é¢˜ã€é«˜è´¨é‡ llms.txt ç”Ÿæˆã€é›†æˆ Shikiã€æŒ‰éœ€ç¼–è¯‘</strong>ç­‰é‡è¦åŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f557e1ef9966415b908aced97781eee2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=6uSUM%2FW7SLKjWBaHUsVLvO2m%2FwQ%3D" alt="Rspress 2.0 Features" loading="lazy"/></p>
<h2 data-id="heading-1">2.0 æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-2">å…¨æ–°ä¸»é¢˜ {#brand-new-theme}</h3>
<p>2.0 é»˜è®¤ä¸»é¢˜è¿æ¥äº†ä¸€æ¬¡ç³»ç»Ÿæ€§å‡çº§ï¼Œå®ƒç”±å›¢é˜Ÿè®¾è®¡å¸ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fwei_zhong41532" target="_blank" title="https://x.com/wei_zhong41532" ref="nofollow noopener noreferrer">@Zovn Wei</a> æ•´ä½“è®¾è®¡ï¼Œåœ¨è§†è§‰æ•ˆæœå’Œé˜…è¯»ä½“éªŒä¸Šéƒ½æœ‰è¾ƒå¤§å¹…åº¦æå‡ï¼Œå¹¶ä¸”æ¯ä¸ªç»„ä»¶å‡å¯ç‹¬ç«‹æ›¿æ¢ï¼Œæ‹¥æœ‰å¾ˆé«˜çš„å¯å®šåˆ¶æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c0d695e7f1b47f6b91ce443360f738d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=qsFKdCh6E5%2B1%2FPeTzeaUARsmViE%3D" alt="New Theme" loading="lazy"/></p>
<h4 data-id="heading-3">ä¸»é¢˜å®šåˆ¶</h4>
<p>æŒ‰ç…§å®šåˆ¶åŒ–ç¨‹åº¦ä»ä½åˆ°é«˜ï¼Œæœ‰ CSS å˜é‡ã€BEM ç±»åã€ESM é‡å¯¼å‡ºè¦†ç›–ã€ç»„ä»¶ eject å››ç§<a href="/zh/guide/basic/custom-theme.md" target="_blank" title="/zh/guide/basic/custom-theme.md">è‡ªå®šä¹‰ä¸»é¢˜</a>æ–¹å¼ã€‚</p>
<ul>
<li><strong>CSS å˜é‡</strong>ï¼šæ–°ä¸»é¢˜æš´éœ²äº†æ›´å¤š CSS å˜é‡ï¼Œè¦†ç›–ä¸»é¢˜è‰²ã€ä»£ç å—ã€é¦–é¡µç­‰æ ·å¼ã€‚ä½ å¯ä»¥åœ¨ <a href="/zh/ui/vars.md" target="_blank" title="/zh/ui/vars.md">CSS å˜é‡</a> é¡µé¢äº¤äº’å¼åœ°é¢„è§ˆå’Œè°ƒæ•´æ‰€æœ‰ CSS å˜é‡ï¼Œæ‰¾åˆ°æ»¡æ„çš„é…ç½®åç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* è‡ªå®šä¹‰ä¸»é¢˜è‰² */</span>
  <span class="hljs-attr">--rp-c-brand</span>: <span class="hljs-number">#3451b2</span>;
  <span class="hljs-attr">--rp-c-brand-dark</span>: <span class="hljs-number">#2e4599</span>;
  <span class="hljs-comment">/* è‡ªå®šä¹‰ä»£ç å—æ ·å¼ */</span>
  <span class="hljs-attr">--rp-code-block-bg</span>: <span class="hljs-number">#1e1e1e</span>;
}
</code></pre>
<ul>
<li><strong>BEM ç±»å</strong>ï¼šå†…ç½®ç»„ä»¶ç°åœ¨å‡é‡‡ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgetbem.com%2F" target="_blank" title="https://getbem.com/" ref="nofollow noopener noreferrer">BEM å‘½åè§„èŒƒ</a>ã€‚è¿™æ˜¯ä¸€ä¸ªååˆ† Old School çš„é€‰æ‹©ï¼Œä½†ä¹Ÿæ˜¯æˆ‘ä»¬æ·±æ€ç†Ÿè™‘çš„å†³å®šã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ CSS é€‰æ‹©å™¨ç²¾å‡†è°ƒæ•´æ ·å¼ï¼ŒHTML ç»“æ„æ›´åŠ æ¸…æ™°ï¼›åŒæ—¶ä¸ Rspress ç”¨æˆ·è‡ªèº«ä½¿ç”¨çš„ CSS æ¡†æ¶è§£è€¦ï¼Œç”¨æˆ·å¯ä»¥ä»»æ„é€‰æ‹© CSS æ¡†æ¶ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Ftailwindcss.com%2F" target="_blank" title="https://tailwindcss.com/" ref="nofollow noopener noreferrer">Tailwind</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Flesscss.org%2F" target="_blank" title="https://lesscss.org/" ref="nofollow noopener noreferrer">Less</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fsass-lang.com%2F" target="_blank" title="https://sass-lang.com/" ref="nofollow noopener noreferrer">Sass</a> ç­‰ï¼‰ï¼Œæ¯”å¦‚ä½¿ç”¨ Tailwind V4 æˆ– V3 è€Œä¸ç”¨æ‹…å¿ƒç‰ˆæœ¬ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒä¸ Rspress å†…ç½® CSS äº§ç”Ÿå†²çªã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* BEM å‘½åè§„èŒƒ */</span>
<span class="hljs-selector-class">.rp-</span><span class="hljs-selector-attr">[component-name]</span>__<span class="hljs-selector-attr">[element-name]</span>--<span class="hljs-selector-attr">[modifier-name]</span> {
}

<span class="hljs-comment">/* æ ¹æ® BEM ç±»åè½»æ¾è¦†ç›–ç»„ä»¶æ ·å¼ */</span>
<span class="hljs-selector-class">.rp-nav__title</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">32px</span>;
}
<span class="hljs-selector-class">.rp-nav-menu__item--active</span> {
  <span class="hljs-attribute">color</span>: purple;
}
</code></pre>
<ul>
<li><strong>ESM é‡å¯¼å‡ºè¦†ç›–</strong>ï¼šå¦‚æœ CSS ä¸Šçš„ä¿®æ”¹æ— æ³•æ»¡è¶³å®šåˆ¶éœ€æ±‚ï¼Œå¯ä»¥é€šè¿‡ JS è¿›è¡Œæ›´æ·±åº¦çš„å®šåˆ¶ã€‚åœ¨ <code>theme/index.tsx</code> ä¸­åˆ©ç”¨ <a href="/zh/guide/basic/custom-theme.md#reexport" target="_blank" title="/zh/guide/basic/custom-theme.md#reexport">ESM é‡å¯¼å‡º</a>ï¼Œå¯ä»¥<strong>è¦†ç›–</strong>ä»»æ„ä¸€ä¸ª Rspress çš„å†…ç½®ç»„ä»¶ã€‚</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Layout</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">BasicLayout</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rspress/core/theme-original'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Layout</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BasicLayout</span> <span class="hljs-attr">beforeNavTitle</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>some content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>} /&gt;</span>;

<span class="hljs-keyword">export</span> { <span class="hljs-title class_">Layout</span> }; <span class="hljs-comment">//[!code highlight]</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'@rspress/core/theme-original'</span>; <span class="hljs-comment">//[!code highlight]</span>
</code></pre>
<ul>
<li><strong>ç»„ä»¶ eject</strong>ï¼šä½ å¯ä»¥ä½¿ç”¨å…¨æ–°çš„ <a href="/zh/api/commands.md#rspress-eject" target="_blank" title="/zh/api/commands.md#rspress-eject"><code>rspress eject [component]</code></a> å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå°†æŒ‡å®šç»„ä»¶çš„æºä»£ç å¤åˆ¶åˆ° <code>theme/components/</code> ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥è‡ªç”±ä¿®æ”¹è¿™äº›ä»£ç ï¼Œç”šè‡³ç›´æ¥äº¤ç»™ AI ä¿®æ”¹ï¼Œæ¥å®ç°æ·±åº¦å®šåˆ¶ã€‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°† DocFooter ç»„ä»¶å¯¼å‡ºåˆ° theme ç›®å½•</span>
rspress eject DocFooter
</code></pre>
<h4 data-id="heading-4">å¯¼èˆªæ ã€ä¾§è¾¹æ  tag</h4>
<p>Rspress 2.0 å®ç°äº† <a href="/zh/ui/layout-components/tag.md" target="_blank" title="/zh/ui/layout-components/tag.md">Tag ç»„ä»¶</a>ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ frontmatter ä¸­çš„ tag å±æ€§ï¼Œåœ¨ä¾§è¾¹æ æˆ–å¯¼èˆªæ è¿›è¡Œ UI æ ‡æ³¨ã€‚</p>
<pre><code class="hljs language-mdx" lang="mdx">---
tag: new, experimental # ä¼šåœ¨ H1 å’Œ Sidebar è¿›è¡Œæ˜¾ç¤º
---

import { Tag } from '@rspress/core/theme';

# Tag

## Common tags &lt;Tag tag="new" /&gt; {/* ä¼šåœ¨å³ä¾§ outline è¿›è¡Œæ˜¾ç¤º */}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28c24c7d07cd47f5b204d71e6126dcfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=9Q06Wn07DMSgnfM9rdf5OYyZI%2B0%3D" alt="Tag ç»„ä»¶åœ¨ä¾§è¾¹æ ä¸­çš„æ˜¾ç¤ºæ•ˆæœ" loading="lazy"/></p>
<h4 data-id="heading-5">å†…ç½®å¤šè¯­è¨€æ”¯æŒ</h4>
<p>åœ¨ 1.x ç‰ˆæœ¬ä¸­ï¼ŒRspress ä»…å†…ç½®äº†è‹±æ–‡æ–‡æœ¬ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–è¯­è¨€ä¾‹å¦‚ zhï¼Œå¿…é¡»å¯¹æ‰€æœ‰çš„æ–‡æœ¬éƒ½è¿›è¡Œé…ç½®ï¼Œä½¿ç”¨èµ·æ¥è¾ƒä¸ºç¹çã€‚ç°åœ¨ 2.0 ä¸»é¢˜å†…ç½®äº† zhã€enã€jaã€koã€ru ç­‰å¤šç§è¯­è¨€çš„ç¿»è¯‘æ–‡æœ¬ï¼Œç³»ç»Ÿä¼šæ ¹æ®è¯­è¨€é…ç½®è‡ªåŠ¨è¿›è¡Œ "Tree Shaking"ï¼Œä»…æ‰“åŒ…ä½ ä½¿ç”¨åˆ°çš„æ–‡æœ¬åŠè¯­è¨€ï¼Œæœªå†…ç½®çš„è¯­è¨€ä¼šå…œåº•åˆ° en æ–‡æœ¬ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <a href="/zh/api/config/config-basic.md#i18nsource" target="_blank" title="/zh/api/config/config-basic.md#i18nsource"><code>i18nSource</code></a> é…ç½®é¡¹æ‰©å±•æˆ–è¦†ç›–ç¿»è¯‘æ–‡æœ¬ã€‚</p>
<p>Rspress æœªæ¥ä¼šæ”¯æŒæ›´å¤šå†…ç½®è¯­è¨€ï¼Œå¦‚æœä½ æœ‰å…´è¶£ï¼Œè¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fweb-infra-dev%2Frspress%2Fpull%2F2827" target="_blank" title="https://github.com/web-infra-dev/rspress/pull/2827" ref="nofollow noopener noreferrer">è¿™ä½è´¡çŒ®è€…çš„ Pull Request</a>ã€‚</p>
<h3 data-id="heading-6">llms.txtï¼šSSG-MD æ¸²æŸ“é«˜è´¨é‡çš„ Markdown å†…å®¹ {#llms-txt-ssg-md}</h3>
<p>Rspress ç°åœ¨å°† <a href="https://link.juejin.cn?target=https%3A%2F%2Fllmstxt.org%2F" target="_blank" title="https://llmstxt.org/" ref="nofollow noopener noreferrer">llms.txt</a> ç”Ÿæˆèƒ½åŠ›é›†æˆåˆ° core ä¸­ï¼Œå¹¶å®ç°äº†å…¨æ–°çš„ SSG-MDï¼ˆStatic Site Generation to Markdownï¼Œé™æ€ç«™ç‚¹ Markdown ç”Ÿæˆï¼‰èƒ½åŠ›ã€‚</p>
<p>åœ¨åŸºäº React åŠ¨æ€æ¸²æŸ“çš„å‰ç«¯æ¡†æ¶ä¸­ï¼Œå¾€å¾€å­˜åœ¨é™æ€ä¿¡æ¯éš¾ä»¥æå–çš„é—®é¢˜ï¼ŒRspress ä¹Ÿé¢ä¸´åŒæ ·çš„æŒ‘æˆ˜ã€‚Rspress å…è®¸ç”¨æˆ·é€šè¿‡ <a href="/zh/guide/use-mdx/components.md" target="_blank" title="/zh/guide/use-mdx/components.md">MDX ç‰‡æ®µ</a>ã€React ç»„ä»¶ã€Hooks ä»¥åŠ TSX è·¯ç”±ç­‰åŠ¨æ€ç‰¹æ€§æ¥å¢å¼ºæ–‡æ¡£è¡¨ç°åŠ›ã€‚ä½†è¿™äº›åŠ¨æ€å†…å®¹åœ¨è½¬æ¢ä¸º Markdown æ–‡æœ¬æ—¶ä¼šé¢ä¸´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ç›´æ¥å°† MDX è¾“å…¥ç»™ AI ä¼šåŒ…å«å¤§é‡ä»£ç è¯­æ³•å™ªéŸ³ï¼Œå¹¶ä¸¢å¤± React ç»„ä»¶å†…å®¹</li>
<li>å°† HTML è½¬ä¸º Markdown å¾€å¾€æ•ˆæœä¸ä½³ï¼Œä¿¡æ¯è´¨é‡éš¾ä»¥ä¿è¯</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒRspress 2.0 å¼•å…¥äº† <a href="/zh/guide/basic/ssg-md.md" target="_blank" title="/zh/guide/basic/ssg-md.md">SSG-MD</a> ç‰¹æ€§ã€‚è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„åŠŸèƒ½ï¼Œå®ƒç±»ä¼¼äº <a href="/zh/guide/basic/ssg.md" target="_blank" title="/zh/guide/basic/ssg.md">é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰</a>ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºå®ƒå°†ä½ çš„é¡µé¢æ¸²æŸ“ä¸º Markdown æ–‡ä»¶ï¼Œè€Œé HTML æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fllmstxt.org%2F" target="_blank" title="https://llmstxt.org/" ref="nofollow noopener noreferrer">llms.txt</a> åŠ llms-full.txt ç›¸å…³æ–‡ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ee0a03b95f74055b32ccca957d6b0c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=5svyheCzMYW%2FOT8mp0Cac1eBtzk%3D" alt="SSG-MD åŠŸèƒ½æ¦‚è§ˆç¤ºæ„å›¾" loading="lazy"/>
ç›¸æ¯”äºå°† HTML è½¬åŒ–ä¸º Markdown ç­‰ä¼ ç»Ÿæ–¹å¼ï¼ŒSSG-MD åœ¨æ¸²æŸ“æœŸé—´æ‹¥æœ‰æ›´ä¼˜è´¨çš„ä¿¡æ¯æºï¼Œæ¯”å¦‚ React è™šæ‹Ÿ DOMï¼Œä»è€Œä¿è¯æ›´é«˜çš„é™æ€ä¿¡æ¯è´¨é‡å’Œçµæ´»æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c16273823b414fdc8efeebd1beea838d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=uPifZh6gaaTBmX4a5eOvlF2MgCw%3D" alt="SSG-MD æ¸²æŸ“æµç¨‹ç¤ºæ„å›¾" loading="lazy"/>
å¯ç”¨æ–¹å¼éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rspress/core'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">llms</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p>æ„å»ºåå°†ç”Ÿæˆå¦‚ä¸‹ç»“æ„ï¼š</p>
<pre><code class="hljs language-tree" lang="tree">doc_build
â”œâ”€â”€ llms.txt
â”œâ”€â”€ llms-full.txt
â”œâ”€â”€ guide
â”‚   â””â”€â”€ start
â”‚       â””â”€â”€ introduction.md
â””â”€â”€ ...
</code></pre>
<p>è‹¥æƒ³å®šåˆ¶è‡ªå®šä¹‰ç»„ä»¶çš„æ¸²æŸ“å†…å®¹ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Tab</span>(<span class="hljs-params">{ label }: { label: <span class="hljs-built_in">string</span> }</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSG_MD</span>) {
    <span class="hljs-comment">// SSG-MD æ¨¡å¼ä¸‹è¾“å‡ºçº¯æ–‡æœ¬æè¿°</span>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{`**Tab: ${label}**`}<span class="hljs-tag">&lt;/&gt;</span></span>;
  }
  <span class="hljs-comment">// æ­£å¸¸æ¸²æŸ“äº¤äº’å¼ç»„ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"tab"</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>è¿™æ ·æ—¢ä¿è¯äº†æ–‡æ¡£çš„äº¤äº’ä½“éªŒï¼Œä¹Ÿèƒ½å¸®åŠ© AI ç†è§£ç»„ä»¶çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p>
<blockquote>
<p>è¯¦è§ <a href="/zh/guide/basic/ssg-md.md" target="_blank" title="/zh/guide/basic/ssg-md.md">SSG-MD ä½¿ç”¨æŒ‡å—</a></p>
</blockquote>
<h3 data-id="heading-7">Shiki ç¼–è¯‘æ—¶ä»£ç å—é«˜äº® {#shiki-code-highlighting}</h3>
<p>Rspress 2.0 é»˜è®¤ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fshiki.style%2F" target="_blank" title="https://shiki.style/" ref="nofollow noopener noreferrer">Shiki</a> è¿›è¡Œä»£ç é«˜äº®ã€‚ç›¸æ¯” 1.x çš„ prism è¿è¡Œæ—¶é«˜äº®æ–¹æ¡ˆï¼ŒShiki åœ¨ç¼–è¯‘æ—¶å®Œæˆé«˜äº®å¤„ç†ã€‚</p>
<ol>
<li>æ”¯æŒå¤šç§ä¸»é¢˜æ ·å¼ï¼Œæ¯”å¦‚åœ¨ <a href="/zh/ui/vars.md" target="_blank" title="/zh/ui/vars.md">CSS å˜é‡</a> é¡µé¢å¯ä»¥äº¤äº’å¼åœ°åˆ‡æ¢å’Œé¢„è§ˆä¸åŒçš„ Shiki ä¸»é¢˜ã€‚</li>
<li>åŒæ—¶ Shiki ä¹Ÿå…è®¸ä½¿ç”¨è‡ªå®šä¹‰çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fshiki.style%2Fguide%2Ftransformers" target="_blank" title="https://shiki.style/guide/transformers" ref="nofollow noopener noreferrer">transformer</a> è¿›è¡Œæ‰©å±•æ¥ä¸°å¯Œå†™ä½œï¼Œä¾‹å¦‚ twoslash ç­‰ã€‚</li>
<li>æŒ‰éœ€å¼•å…¥ç¼–ç¨‹è¯­è¨€ï¼Œä¸å¢åŠ è¿è¡Œæ—¶å¼€é”€å’ŒåŒ…ä½“ç§¯ã€‚</li>
<li>åŸºäº TextMate è¯­æ³•å®ç°ä¸ VS Code ä¸€è‡´çš„å‡†ç¡®è¯­æ³•é«˜äº®ã€‚</li>
</ol>
<p>ä¸‹é¢æ˜¯ä¸€äº› Shiki transformer çš„ç¤ºä¾‹ï¼Œç›´è§‚æ„Ÿå—ä¸€ä¸‹ Shiki å¸¦æ¥çš„æ–‡æ¡£åˆ›é€ åŠ›ï¼š</p>
<blockquote>
<p>ä½¿ç”¨ <a href="/zh/plugin/official-plugins/twoslash.md" target="_blank" title="/zh/plugin/official-plugins/twoslash.md">@rspress/plugin-twoslash</a></p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> hi = <span class="hljs-string">'Hello'</span>;
<span class="hljs-keyword">const</span> msg = <span class="hljs-string">`<span class="hljs-subst">${hi}</span>, world`</span>;
<span class="hljs-comment">//    ^?</span>
</code></pre>
<blockquote>
<p>ä½¿ç”¨ <a href="/zh/guide/use-mdx/code-blocks.md#transformernotationfocus" target="_blank" title="/zh/guide/use-mdx/code-blocks.md#transformernotationfocus">transformerNotationFocus</a></p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Not focused'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Focused'</span>); <span class="hljs-comment">// [!code focus]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Not focused'</span>);
</code></pre>
<blockquote>
<p>è¯¦è§ <a href="/zh/guide/use-mdx/code-blocks.md#shiki-transformers" target="_blank" title="/zh/guide/use-mdx/code-blocks.md#shiki-transformers">ä»£ç å—</a></p>
</blockquote>
<h3 data-id="heading-8">æ„å»ºæ€§èƒ½ï¼šæŒ‰éœ€ç¼–è¯‘å’ŒæŒä¹…åŒ–ç¼“å­˜ {#build-performance-lazy-compilation-cache}</h3>
<p>Rspress 2.0 åº•å±‚ç”± Rsbuild å’Œ Rspack 2.0 é¢„è§ˆç‰ˆæœ¬é©±åŠ¨ï¼ŒåŒæ—¶é»˜è®¤å¼€å¯äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Frspack.rs%2Fzh%2Fguide%2Ffeatures%2Flazy-compilation" target="_blank" title="https://rspack.rs/zh/guide/features/lazy-compilation" ref="nofollow noopener noreferrer">æŒ‰éœ€ç¼–è¯‘</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2Fzh%2Fconfig%2Fperformance%2Fbuild-cache" target="_blank" title="https://rsbuild.rs/zh/config/performance/build-cache" ref="nofollow noopener noreferrer">æŒä¹…åŒ–ç¼“å­˜</a>ã€‚</p>
<h4 data-id="heading-9">æŒ‰éœ€ç¼–è¯‘</h4>
<p>é»˜è®¤å¼€å¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2Fzh%2Fconfig%2Fdev%2Flazy-compilation" target="_blank" title="https://rsbuild.rs/zh/config/dev/lazy-compilation" ref="nofollow noopener noreferrer">dev.lazyCompilation</a>ï¼Œåªæœ‰å½“ä½ è®¿é—®æŸä¸ªé¡µé¢æ—¶ï¼Œè¯¥é¡µé¢æ‰ä¼šè¢«ç¼–è¯‘ï¼Œå¤§å¹…æå‡äº†å¼€å‘å¯åŠ¨é€Ÿåº¦ï¼Œç”šè‡³å®ç°æ¯«ç§’çº§çš„å†·å¯åŠ¨ã€‚Rspress åŒæ—¶å®ç°äº†è·¯ç”±çš„ preload ç­–ç•¥ï¼Œå½“é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶ä¼šé¢„å…ˆåŠ è½½ç›®æ ‡è·¯ç”±é¡µé¢ï¼Œæ­é… lazyCompilation å®ç°æ— æŸçš„å¼€å‘ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a62db08abff4b1b90531ee6b0a246a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=BogryjmXU%2FtzfkF97elPlGjsGYI%3D" alt="lazyCompilation æŒ‰éœ€ç¼–è¯‘æ•ˆæœæ¼”ç¤º" loading="lazy"/></p>
<h4 data-id="heading-10">æŒä¹…åŒ–ç¼“å­˜</h4>
<p>2.0 åŒæ—¶é»˜è®¤å¼€å¯äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2Fzh%2Fconfig%2Fperformance%2Fbuild-cache" target="_blank" title="https://rsbuild.rs/zh/config/performance/build-cache" ref="nofollow noopener noreferrer">æŒä¹…åŒ–ç¼“å­˜</a>ï¼Œåœ¨çƒ­å¯åŠ¨ä¸­å¤ç”¨ä¸Šæ¬¡ç¼–è¯‘çš„ç»“æœï¼Œæå‡ 30%-60% çš„æ„å»ºé€Ÿåº¦ã€‚è¿™æ„å‘³ç€åœ¨é¦–æ¬¡è¿è¡Œ <code>rspress dev</code> æˆ– <code>rspress build</code> åï¼Œåç»­å¯åŠ¨é€Ÿåº¦éƒ½ä¼šæ˜æ˜¾æå‡ã€‚</p>
<h3 data-id="heading-11">æ–‡æ¡£å¼€å‘ä½“éªŒ {#doc-dx}</h3>
<h4 data-id="heading-12">é»˜è®¤å¼€å¯æ­»é“¾æ£€æŸ¥</h4>
<p>Rspress 2.0 é»˜è®¤å¼€å¯æ­»é“¾æ£€æŸ¥åŠŸèƒ½ã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨æ£€æµ‹æ–‡æ¡£ä¸­çš„æ— æ•ˆé“¾æ¥ï¼Œå¸®åŠ©ä½ åŠæ—¶å‘ç°å’Œä¿®å¤ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rspress/core'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">link</span>: {
      <span class="hljs-attr">checkDeadLinks</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// é»˜è®¤å¼€å¯ï¼Œå¯é€šè¿‡ false å…³é—­</span>
    },
  },
});
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/288d1e9e607447b88e23220fe0959405~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC6Lez5Yqo5byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770977032&amp;x-signature=cfJ8FsL%2Fwm9%2B4bDZUTCC7L6HTzY%3D" alt="æ­»é“¾æ£€æŸ¥åŠŸèƒ½ç¤ºä¾‹" loading="lazy"/></p>
<blockquote>
<p>è¯¦è§ <a href="/zh/guide/use-mdx/link.md" target="_blank" title="/zh/guide/use-mdx/link.md">é“¾æ¥</a></p>
</blockquote>
<h4 data-id="heading-13">æ–‡ä»¶ä»£ç å—</h4>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>file="./path/to/file"</code> å±æ€§æ¥å¼•ç”¨å¤–éƒ¨æ–‡ä»¶ä½œä¸ºä»£ç å—çš„å†…å®¹ï¼Œå°†ç¤ºä¾‹ä»£ç æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ç»´æŠ¤ã€‚</p>
<pre><code class="hljs language-mdx" lang="mdx">```ts file="./_demo.ts"

```
</code></pre>
<pre><code class="hljs language-mdx" lang="mdx">```tsx file="&lt;root&gt;/src/components/Button.tsx"

```
</code></pre>
<blockquote>
<p>è¯¦è§ <a href="/zh/guide/use-mdx/code-blocks.md#file-code-block" target="_blank" title="/zh/guide/use-mdx/code-blocks.md#file-code-block">æ–‡ä»¶ä»£ç å—</a></p>
</blockquote>
<h4 data-id="heading-14">preview æ›´çµæ´»çš„ meta ç”¨æ³•</h4>
<p><a href="/zh/plugin/official-plugins/preview.md" target="_blank" title="/zh/plugin/official-plugins/preview.md">@rspress/plugin-preview</a> ç°åœ¨åŸºäº meta å±æ€§ä½¿ç”¨ï¼Œæ›´åŠ çµæ´»ï¼Œä¹Ÿå¯ä»¥é…åˆæ–‡ä»¶ä»£ç å—ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ iframe é¢„è§ˆä»£ç å—çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">```tsx preview="iframe-follow" file="./_demo.ts"

```
</code></pre>
<p>å®ƒå°†ä¼šæ¸²æŸ“ä¸ºï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count - 1)}&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>å¹¶ä¸” <a href="/zh/plugin/official-plugins/playground.md" target="_blank" title="/zh/plugin/official-plugins/playground.md">@rspress/plugin-playground</a> ç°åœ¨æ”¯æŒå’Œ plugin-preview ä¸€èµ·ä½¿ç”¨ï¼Œé€šè¿‡ meta å±æ€§åˆ‡æ¢å³å¯ï¼Œä¾‹å¦‚ <code>```tsx playground</code></p>
<h4 data-id="heading-15">æ”¯æŒè‹¥å¹²é…ç½®æ–‡ä»¶çš„ HMR</h4>
<p>åŸºäº Rsbuild é‡æ–°è®¾è®¡çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frstackjs%2Frsbuild-plugin-virtual-module" target="_blank" title="https://github.com/rstackjs/rsbuild-plugin-virtual-module" ref="nofollow noopener noreferrer">è™šæ‹Ÿæ¨¡å—æ’ä»¶</a>ï¼Œç°åœ¨æ”¯æŒ <code>i18n.json</code>ã€<code>_nav.json</code>ã€<code>_meta.json</code>ã€æ–‡ä»¶ä»£ç å—ä»¥åŠ <code>@rspress/plugin-preview</code> ä¸­ iframe ç›¸å…³çš„ HMRã€‚ä¿®æ”¹è¿™äº›é…ç½®æ–‡ä»¶åï¼Œé¡µé¢ä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°ã€‚</p>
<h3 data-id="heading-16">Rslib &amp; Rspress {#rslib-rspress}</h3>
<p>åœ¨ä½¿ç”¨ <code>create-rslib</code> åˆ›å»ºé¡¹ç›®æ—¶ï¼Œä½ ç°åœ¨å¯ä»¥é€‰æ‹© Rspress å·¥å…·ã€‚è¿™è®©ä½ èƒ½å¤Ÿåœ¨å¼€å‘ç»„ä»¶åº“çš„åŒæ—¶ï¼Œå¿«é€Ÿæ­å»ºé…å¥—çš„æ–‡æ¡£ç«™ç‚¹ï¼Œç”¨äºç¼–å†™ç»„ä»¶çš„ä½¿ç”¨è¯´æ˜ã€å±•ç¤º API å‚è€ƒï¼Œæˆ–å®æ—¶é¢„è§ˆç»„ä»¶æ•ˆæœã€‚</p>
<p>æ‰§è¡Œ <code>npm create rslib@latest</code> å¹¶é€‰ä¸­ Rspressï¼Œä¼šç”Ÿæˆä¸‹æ–¹çš„æ–‡ä»¶ç»“æ„ï¼š</p>
<pre><code class="hljs language-tree" lang="tree">â”œâ”€â”€ docs
â”‚   â””â”€â”€ index.mdx
â”œâ”€â”€ src
â”‚   â””â”€â”€ Button.tsx
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ rslib.config.ts
â””â”€â”€ rspress.config.ts
</code></pre>
<p>æ¨¡ç‰ˆä¸­å†…ç½®äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frstackjs%2Frsbuild-plugin-workspace-dev" target="_blank" title="https://github.com/rstackjs/rsbuild-plugin-workspace-dev" ref="nofollow noopener noreferrer">rsbuild-plugin-workspace-dev</a> æ’ä»¶ï¼Œå¯åœ¨å¯åŠ¨ Rspress å¼€å‘æœåŠ¡å™¨çš„åŒæ—¶è‡ªåŠ¨è¿è¡Œ Rslib çš„ watch å‘½ä»¤ã€‚</p>
<p>ç›´æ¥è¿è¡Œ <code>npm run doc</code> å¯åŠ¨ Rspress çš„å¼€å‘æœåŠ¡å™¨å¯¹ Rslib ç»„ä»¶åº“è¿›è¡Œé¢„è§ˆï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rslib build --watch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"doc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rspress dev"</span> <span class="hljs-comment">// æ‰§è¡Œè¯¥å‘½ä»¤</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-17">æ›´å¤š Rspress å®˜æ–¹æ’ä»¶</h3>
<p>Rspress 2.0 æ–°å¢äº†å¤šä¸ªå®˜æ–¹æ’ä»¶ï¼š</p>
<ul>
<li><a href="/zh/plugin/official-plugins/algolia.md" target="_blank" title="/zh/plugin/official-plugins/algolia.md"><strong>@rspress/plugin-algolia</strong></a>ï¼šæ”¯æŒæ›¿æ¢ Rspress çš„å†…ç½®æœç´¢ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocsearch.algolia.com%2F" target="_blank" title="https://docsearch.algolia.com/" ref="nofollow noopener noreferrer">Algolia DocSearch</a>ï¼ˆæ„Ÿè°¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Falgolia" target="_blank" title="https://x.com/algolia" ref="nofollow noopener noreferrer">@algolia</a> å›¢é˜Ÿçš„ååŠ©ï¼‰ã€‚</li>
<li><a href="/zh/plugin/official-plugins/twoslash.md" target="_blank" title="/zh/plugin/official-plugins/twoslash.md"><strong>@rspress/plugin-twoslash</strong></a>ï¼šä¸º TypeScript ä»£ç å—æ·»åŠ ç±»å‹æç¤ºã€‚</li>
<li><a href="/zh/plugin/official-plugins/llms.md" target="_blank" title="/zh/plugin/official-plugins/llms.md"><strong>@rspress/plugin-llms</strong></a>ï¼šä¸ºä¸æ”¯æŒ SSG å’Œ SSG-MD çš„é¡¹ç›®æä¾› llms.txt ç”Ÿæˆèƒ½åŠ›ã€‚</li>
<li><a href="/zh/plugin/official-plugins/sitemap.md" target="_blank" title="/zh/plugin/official-plugins/sitemap.md"><strong>@rspress/plugin-sitemap</strong></a>ï¼šè‡ªåŠ¨ç”Ÿæˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.sitemaps.org" target="_blank" title="https://www.sitemaps.org" ref="nofollow noopener noreferrer">Sitemap</a> æ–‡ä»¶ï¼Œç”¨äºä¼˜åŒ– SEOã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…¶ä»– Breaking changes</h2>
<h3 data-id="heading-19">ä» Rspress 1.x è¿ç§»</h3>
<p>å¦‚æœä½ æ˜¯ 1.x é¡¹ç›®çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸€ä»½è¯¦å°½çš„è¿ç§»æ–‡æ¡£ï¼Œå¸®åŠ©ä½ ä» 1.x å‡çº§åˆ° 2.0ã€‚</p>
<p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨é¡µé¢ä¸­çš„ "å¤åˆ¶ Markdown" åŠŸèƒ½ï¼Œå°†å…¶è¾“å…¥ç»™ä½ å¸¸ç”¨çš„ç¼–ç  agentï¼ˆå¦‚ Claude Code ç­‰ï¼‰æ¥å®Œæˆè¿ç§»ã€‚</p>
<blockquote>
<p>è¯·å‚è€ƒ <a href="/zh/guide/migration/rspress-1-x.md" target="_blank" title="/zh/guide/migration/rspress-1-x.md">è¿ç§»æŒ‡å—</a>ã€‚</p>
</blockquote>
<h3 data-id="heading-20">ç§»é™¤ <code>mdxRs</code> é…ç½®</h3>
<p>æˆ‘ä»¬æ³¨æ„åˆ°å¾ˆå¤§ä¸€éƒ¨åˆ† 1.x ç”¨æˆ·ä¸ºäº†ä½¿ç”¨ Shikiã€ç»„ä»¶åº“é¢„è§ˆåŠŸèƒ½å’Œè‡ªå®šä¹‰ remark/rehype æ’ä»¶ï¼Œè€Œä¸»åŠ¨å…³é—­ <code>mdxRs</code>ï¼Œå¹¶ä¸”åœ¨å¼€å¯æŒ‰éœ€ç¼–è¯‘å’ŒæŒä¹…åŒ–ç¼“å­˜åï¼Œå³ä½¿ä½¿ç”¨ JS ç‰ˆæœ¬çš„ mdx è§£æå™¨ï¼Œæ€§èƒ½ä¼˜åŒ–æ•ˆæœå·²ç»éå¸¸æ˜¾è‘—ã€‚</p>
<p>ä¸ºäº†æ¢å–æ›´å¥½çš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å†³å®šåœ¨ Markdown/MDX ç¼–è¯‘æµç¨‹ä¸­ä¸å†ä½¿ç”¨ Rust ç‰ˆæœ¬çš„ MDX è§£æå™¨ï¼ˆ<code>@rspress/mdx-rs</code>ï¼‰ã€‚è¿™ä½¿å¾— Rspress èƒ½å¤Ÿæ›´å¥½åœ°é›†æˆ Shiki ç­‰ JavaScript ç”Ÿæ€çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-21">Node.js ä¸ä¸Šæ¸¸ä¾èµ–ç‰ˆæœ¬è¦æ±‚</h3>
<p>Rspress 2.0 è¦æ±‚ Node.js ç‰ˆæœ¬ <strong>20+</strong>ï¼ŒReact ç‰ˆæœ¬ <strong>18+</strong>ã€‚</p>



































<table><thead><tr><th>ä¾èµ–</th><th>å…è®¸èŒƒå›´</th><th>é»˜è®¤ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>react</code></td><td><code>^18.0.0 || ^19.0.0</code></td><td>19</td><td>ä¸å†æ”¯æŒ React 17ï¼Œå¦‚é¡¹ç›®å·²å®‰è£…åˆ™ä½¿ç”¨é¡¹ç›®ç‰ˆæœ¬</td></tr><tr><td><code>react-dom</code></td><td><code>^18.0.0 || ^19.0.0</code></td><td>19</td><td>ä¸ react ç‰ˆæœ¬ä¿æŒä¸€è‡´</td></tr><tr><td><code>react-router-dom</code></td><td><code>^6.0.0 || ^7.0.0</code></td><td>7</td><td>å¦‚é¡¹ç›®å·²å®‰è£…åˆ™ä½¿ç”¨é¡¹ç›®ç‰ˆæœ¬</td></tr><tr><td><code>unified</code></td><td><code>^11.0.0</code></td><td>11</td><td>è‡ªå®šä¹‰ remark/rehype æ’ä»¶éœ€å…¼å®¹</td></tr></tbody></table>
<h3 data-id="heading-22">åŒ…ååŠå¯¼å…¥è·¯å¾„å˜æ›´</h3>
<p>Rspress å°† <code>rspress</code>ã€<code>@rspress/runtime</code>ã€<code>@rspress/shared</code>ã€<code>@rspress/theme-default</code> éƒ½æ•´åˆè¿›äº† <code>@rspress/core</code> ä¸­ï¼Œé¡¹ç›®å’Œæ’ä»¶ç°åœ¨å‡åªéœ€å®‰è£…ä¸€ä¸ª <code>@rspress/core</code> åŒ…å³å¯ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">{
  "dependencies": {
<span class="hljs-deletion">-   "rspress": "1.x"</span>
<span class="hljs-deletion">-   "@rspress/shared": "1.x"</span>
<span class="hljs-addition">+   "@rspress/core": "^2.0.0"</span>
  }
}
</code></pre>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- import { defineConfig } from 'rspress/config';</span>
<span class="hljs-addition">+ import { defineConfig } from '@rspress/core';</span>
</code></pre>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- import { useDark } from 'rspress/runtime'</span>
<span class="hljs-deletion">- import { PackageManagerTabs } from 'rspress/theme';</span>
<span class="hljs-addition">+ import { useDark } from '@rspress/core/runtime'</span>
<span class="hljs-addition">+ import { PackageManagerTabs } from '@rspress/core/theme';</span>
</code></pre>
<p>å¦‚æœä½ å¼€å‘äº† Rspress æ’ä»¶ï¼Œè¯·å°†æ’ä»¶çš„ peerDependencies ä» <code>rspress</code> å˜æ›´ä¸º <code>@rspress/core</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"peerDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@rspress/core"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-23">ä¸‹ä¸€æ­¥</h2>
<p>Rspress 2.0 çš„å‘å¸ƒåªæ˜¯ä¸€ä¸ªæ–°çš„èµ·ç‚¹ã€‚æœ¬æ¬¡å‘å¸ƒåï¼ŒRspress å°†æŒç»­è¿­ä»£ï¼š</p>
<ul>
<li>
<p><strong>æ¨è¿›ç”Ÿæ€é›†æˆ</strong>ï¼šä¸ Rslibã€Rstest æ›´æ·±åº¦åœ°ç»“åˆï¼Œæä¾›å‰ç«¯é¡¹ç›®å’Œç»„ä»¶åº“é¡¹ç›®çš„ä¸€ä½“åŒ–å¼€å‘ä½“éªŒã€‚</p>
</li>
<li>
<p><strong>æ¢ç´¢ AI ä¸æ–‡æ¡£æ›´æ·±åº¦é›†æˆ</strong>ï¼šå¦‚æ™ºèƒ½é—®ç­”ã€è‡ªåŠ¨æ‘˜è¦ç­‰ï¼›å®Œå–„ SSG-MD ä½¿å…¶ç¨³å®šå¹¶æ›´åŠ æ˜“ç”¨ã€‚</p>
</li>
</ul>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸º Rspress åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fweb-infra-dev%2Frspress%2Fissues" target="_blank" title="https://github.com/web-infra-dev/rspress/issues" ref="nofollow noopener noreferrer">GitHub Issues</a> ä¸­åé¦ˆã€‚</p>
<p>ç«‹å³ä½¿ç”¨æˆ–å‡çº§åˆ° Rspress 2.0ï¼Œä½“éªŒå…¨æ–°çš„æ–‡æ¡£å¼€å‘ä¹‹æ—…ï¼</p>
<pre><code class="hljs language-sh" lang="sh">npm create rspress@latest
</code></pre>
<pre><code class="hljs language-sh" lang="sh">yarn create rspress
</code></pre>
<pre><code class="hljs language-sh" lang="sh">pnpm create rspress@latest
</code></pre>
<pre><code class="hljs language-sh" lang="sh">bun create rspress@latest
</code></pre>
<pre><code class="hljs language-sh" lang="sh">deno init --npm rspress@latest
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React-create-appä½¿ç”¨cesiumå¹¶ä¸”æ¸²æŸ“3då€¾æ–œæ‘„å½±]]></title>    <link>https://juejin.cn/post/7603359026711068682</link>    <guid>https://juejin.cn/post/7603359026711068682</guid>    <pubDate>2026-02-06T07:57:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603359026711068682" data-draft-id="7603263490341912585" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React-create-appä½¿ç”¨cesiumå¹¶ä¸”æ¸²æŸ“3då€¾æ–œæ‘„å½±"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-06T07:57:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="scorpioop"/> <meta itemprop="url" content="https://juejin.cn/user/2683248842638445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React-create-appä½¿ç”¨cesiumå¹¶ä¸”æ¸²æŸ“3då€¾æ–œæ‘„å½±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2683248842638445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    scorpioop
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T07:57:02.000Z" title="Fri Feb 06 2026 07:57:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…ˆä¸Šæ•ˆæœ
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d91986db1cd44a3c979695e2cf4cc046~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2NvcnBpb29w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770969423&amp;x-signature=8Rk0mVxuB45LwCSZrCSZ8D910CQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€cesiumåœ¨react-create-appä¸­çš„å¼•ç”¨</h2>
<p>é¦–å…ˆ
<code>yarn add cesium</code>ç„¶å<code>yarn add copy-webpack-plugin -D</code>ç„¶å<code>yarn add customize-cra react-app-rewired --dev </code></p>
<p>è®¾ç½®äº†customize-cra react-app-rewiredå°±å¯ä»¥æ”¹å†™webpack</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9e9ed1316b54ea38f0ac111b027805d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2NvcnBpb29w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770969423&amp;x-signature=xMHtx8ofQT2ZjbL66C%2BQjDieF%2FQ%3D" alt="image.png" loading="lazy"/>
æ–°å»ºä¸€ä¸ªè¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ”¹å†™webpack</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> {
  override,
 
  addWebpackPlugin,
} = <span class="hljs-built_in">require</span>(<span class="hljs-string">"customize-cra"</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CopyWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"copy-webpack-plugin"</span>);
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">"webpack"</span>);


<span class="hljs-keyword">const</span> cesiumSource = <span class="hljs-string">'node_modules/cesium/Source'</span>;
<span class="hljs-keyword">const</span> cesiumWorkers = <span class="hljs-string">'../Build/Cesium/Workers'</span>;



<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">override</span>(
  
 
  <span class="hljs-title function_">addWebpackPlugin</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">CopyWebpackPlugin</span>({
      <span class="hljs-attr">patterns</span>: [
        
        { <span class="hljs-attr">from</span>: path.<span class="hljs-title function_">join</span>(cesiumSource, cesiumWorkers), <span class="hljs-attr">to</span>: <span class="hljs-string">'cesium/Workers'</span> },
        { <span class="hljs-attr">from</span>: path.<span class="hljs-title function_">join</span>(cesiumSource, <span class="hljs-string">'Assets'</span>), <span class="hljs-attr">to</span>: <span class="hljs-string">'cesium/Assets'</span> },
        { <span class="hljs-attr">from</span>: path.<span class="hljs-title function_">join</span>(cesiumSource, <span class="hljs-string">'Widgets'</span>), <span class="hljs-attr">to</span>: <span class="hljs-string">'cesium/Widgets'</span> }
      ],
    })
  ),
  <span class="hljs-title function_">addWebpackPlugin</span>(
    <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">DefinePlugin</span>({
      <span class="hljs-comment">// Define relative base path in cesium for loading assets</span>
      <span class="hljs-attr">CESIUM_BASE_URL</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-string">"/cesium"</span>),
    })
  )
  <span class="hljs-comment">// addWebpackPlugin(new BundleAnalyzerPlugin())</span>
);


</code></pre>
<p>package.jsoné‡Œçš„æ‰“åŒ…è„šæœ¬å˜æˆ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"react-app-rewired start"</span>,
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"react-app-rewired build"</span>,
    
  },
</code></pre>
<p>è¿™æ ·å°±ä¼šèµ°æˆ‘ä»¬æ–°è®¾å®šçš„webpackï¼Œå°†å°†node_modules/cesium/Source/Assets, node_modules/cesium/Source/Widgets, node_modules/cesium/Build/Cesium/Workersè‡ªåŠ¨æ–‡ä»¶æ‰“åŒ…åˆ°buildæ–‡ä»¶é‡Œï¼Œå¦‚å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6bc758eb20240eb81ece4677f2bd6cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2NvcnBpb29w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770969423&amp;x-signature=4ihE51DCKx%2BnZpHT8Efe4jvzVlo%3D" alt="image.png" loading="lazy"/>
è¿™æ ·yarn start æˆ–è€…yarn buildå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨cesiumäº†</p>
<p>ä¸‹é¢è¿™ç¯‡æˆ‘ç›´æ¥æŒ‰<strong>å¯å‘å¸ƒåˆ°æ˜é‡‘çš„æŠ€æœ¯æ–‡ç« ç»“æ„</strong>å¸®ä½ æ•´ç†å¥½äº†ï¼šæœ‰èƒŒæ™¯ã€æœ‰æ€è·¯ã€æœ‰ä»£ç æ‹†è§£ã€æœ‰ä¼˜åŒ–å»ºè®®ï¼ŒåŸºæœ¬ä¸éœ€è¦å†å¤§æ”¹å°±èƒ½å‘ ğŸ‘</p>
<h2 data-id="heading-1">äºŒã€åˆ›å»º Viewer ä¸”å¿…é¡»åªåˆ›å»ºä¸€æ¬¡ï¼</h2>
<p>å¦åˆ™ï¼š</p>
<ul>
<li>å†…å­˜æš´æ¶¨</li>
<li>WebGL context ä¸¢å¤±</li>
<li>é¡µé¢å¡æ­»</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!containerRef.<span class="hljs-property">current</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (viewerRef.<span class="hljs-property">current</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">const</span> viewer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">Viewer</span>(containerRef.<span class="hljs-property">current</span>, {
    <span class="hljs-attr">timeline</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">animation</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">infoBox</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">fullscreenButton</span>: <span class="hljs-literal">false</span>,
  });

  viewerRef.<span class="hljs-property">current</span> = viewer;

  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    viewerRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">destroy</span>();
    viewerRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
  };
}, []);
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{containerRef}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"cesium-container"</span> /&gt;</span></span>
</code></pre>
<p>è¿™æ˜¯ <strong>Cesium + React çš„æ ‡å‡†å†™æ³•</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€åŠ è½½å€¾æ–œæ‘„å½±æ¨¡å‹ï¼ˆ3DTilesï¼‰</h2>
<pre><code class="hljs language-scss" lang="scss">Cesium<span class="hljs-selector-class">.Cesium3DTileset</span><span class="hljs-selector-class">.fromUrl</span>("tileset.json")
  <span class="hljs-selector-class">.then</span>((tileset) =&gt; {
    viewer<span class="hljs-selector-class">.scene</span><span class="hljs-selector-class">.primitives</span><span class="hljs-selector-class">.add</span>(tileset);
    viewer<span class="hljs-selector-class">.zoomTo</span>(tileset);
  });
</code></pre>
<h4 data-id="heading-3">ä¸€ä¸ªå¼ºçƒˆå»ºè®® â­â­â­â­â­</h4>
<p>å»ºè®®ç›‘å¬ç“¦ç‰‡å¤±è´¥ï¼š</p>
<pre><code class="hljs language-go" lang="go">tileset.tileFailed.addEventListener((<span class="hljs-type">error</span>) =&gt; {
  console.<span class="hljs-type">error</span>(<span class="hljs-string">"ç“¦ç‰‡åŠ è½½å¤±è´¥:"</span>, <span class="hljs-type">error</span>);
});
</code></pre>
<p>å¦åˆ™ç”Ÿäº§ç¯å¢ƒæ’æŸ¥é—®é¢˜ä¼šéå¸¸ç—›è‹¦ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€åŠ¨æ€ç»˜åˆ¶ç›‘æµ‹ç‚¹ï¼ˆæ ¸å¿ƒï¼‰</h2>
<p>å¾ˆå¤šäººå–œæ¬¢ç”¨ï¼š</p>
<p>ğŸ‘‰ Primitive<br/>
ğŸ‘‰ PointPrimitive</p>
<p>ä½†åœ¨ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œæˆ‘æ›´æ¨èï¼š</p>
<h2 data-id="heading-5">â­ Entity</h2>
<p>å› ä¸ºï¼š</p>
<ul>
<li>å¼€å‘ç®€å•</li>
<li>æ”¯æŒå±æ€§ç»‘å®š</li>
<li>æ”¯æŒ pick</li>
<li>æ˜“ç»´æŠ¤</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createColorIcon</span>(<span class="hljs-params">color: string</span>) {
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"canvas"</span>);
    <span class="hljs-keyword">const</span> size = <span class="hljs-number">48</span>;
    canvas.<span class="hljs-property">width</span> = size;
    canvas.<span class="hljs-property">height</span> = size;
    <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);
    <span class="hljs-keyword">if</span> (ctx) {
      <span class="hljs-keyword">const</span> cx = size / <span class="hljs-number">2</span>;
      <span class="hljs-keyword">const</span> r = <span class="hljs-number">12</span>;
      <span class="hljs-keyword">const</span> tipY = size - <span class="hljs-number">6</span>;



      <span class="hljs-comment">// å›¾é’‰å½¢çŠ¶ï¼ˆåœ† + å°–ï¼‰</span>
      ctx.<span class="hljs-title function_">beginPath</span>();
      ctx.<span class="hljs-title function_">moveTo</span>(cx, tipY);
      ctx.<span class="hljs-title function_">quadraticCurveTo</span>(cx + r, r + <span class="hljs-number">12</span>, cx + r, r + <span class="hljs-number">4</span>);
      ctx.<span class="hljs-title function_">arc</span>(cx, r + <span class="hljs-number">4</span>, r, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">true</span>);
      ctx.<span class="hljs-title function_">quadraticCurveTo</span>(cx - r, r + <span class="hljs-number">12</span>, cx, tipY);
      ctx.<span class="hljs-title function_">closePath</span>();
      ctx.<span class="hljs-property">fillStyle</span> = color;
      ctx.<span class="hljs-title function_">fill</span>();



      ctx.<span class="hljs-title function_">fill</span>();
    }

    <span class="hljs-keyword">return</span> canvas;
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getWarningColor</span> = (<span class="hljs-params">p: any</span>) =&gt; {
    <span class="hljs-keyword">const</span> level =
      p?.<span class="hljs-property">alarmLevel</span> ?? <span class="hljs-number">0</span>;
    <span class="hljs-keyword">switch</span> (<span class="hljs-title class_">Number</span>(level)) {
      <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#D7263D99"</span>; <span class="hljs-comment">// çº¢è‰²é¢„è­¦ï¼ˆçº¦ 60% ä¸é€æ˜ï¼‰</span>
      <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#FF6B0099"</span>; <span class="hljs-comment">// æ©™è‰²é¢„è­¦</span>
      <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#C7A20099"</span>; <span class="hljs-comment">// é»„è‰²é¢„è­¦</span>
      <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#00BEFF99"</span>; <span class="hljs-comment">// è“è‰²é¢„è­¦</span>
      <span class="hljs-attr">default</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#d3f26199"</span>; <span class="hljs-comment">// çº¦ 60% ä¸é€æ˜</span>
    }
  };
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> viewer = viewerRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">if</span> (!viewer) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">if</span> (dataSource &amp;&amp; dataSource?.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      pointEntityIdsRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
        <span class="hljs-keyword">try</span> {
          viewer.<span class="hljs-property">entities</span>.<span class="hljs-title function_">removeById</span>(id);
        } <span class="hljs-keyword">catch</span> (e) {
          <span class="hljs-comment">// ignore</span>
        }
      });
      pointEntityIdsRef.<span class="hljs-property">current</span> = [];
     
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'dataSource'</span>, dataSource);
     

      (dataSource || []).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">p: any</span>) =&gt;</span> {


        <span class="hljs-keyword">const</span> lng = <span class="hljs-title class_">Number</span>(p.<span class="hljs-property">longitude</span>);
        <span class="hljs-keyword">const</span> lat = <span class="hljs-title class_">Number</span>(p.<span class="hljs-property">latitude</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(lng) || <span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(lat)) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">const</span> id = <span class="hljs-string">`point-<span class="hljs-subst">${p.id}</span>`</span>;
        viewer.<span class="hljs-property">entities</span>.<span class="hljs-title function_">add</span>({
          id,
          <span class="hljs-attr">position</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Cartesian3</span>.<span class="hljs-title function_">fromDegrees</span>(lng, lat, <span class="hljs-title class_">Number</span>(p.<span class="hljs-property">height</span>) || <span class="hljs-number">0</span>),
          <span class="hljs-attr">billboard</span>: {
            <span class="hljs-attr">image</span>: <span class="hljs-title function_">createColorIcon</span>(<span class="hljs-title function_">getWarningColor</span>(p)),
            <span class="hljs-attr">verticalOrigin</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">VerticalOrigin</span>.<span class="hljs-property">BOTTOM</span>,
            <span class="hljs-comment">// é˜²æ­¢è¢«å€¾æ–œæ‘„å½±æŒ¡ä½</span>
            <span class="hljs-attr">disableDepthTestDistance</span>: <span class="hljs-title class_">Number</span>.<span class="hljs-property">POSITIVE_INFINITY</span>
          },
          <span class="hljs-attr">label</span>: {
            <span class="hljs-attr">text</span>: p.<span class="hljs-property">pointName</span> || <span class="hljs-string">""</span>,
            <span class="hljs-attr">font</span>: <span class="hljs-string">"bold 15px sans-serif"</span>,
            <span class="hljs-attr">fillColor</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Color</span>.<span class="hljs-title function_">fromCssColorString</span>(<span class="hljs-string">"rgba(68, 229, 255, 0.92)"</span>),
            <span class="hljs-attr">outlineColor</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Color</span>.<span class="hljs-title function_">fromCssColorString</span>(<span class="hljs-string">"rgba(124, 121, 121, 0.9)"</span>).<span class="hljs-title function_">withAlpha</span>(<span class="hljs-number">0.85</span>),
            <span class="hljs-attr">outlineWidth</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">style</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">LabelStyle</span>.<span class="hljs-property">FILL_AND_OUTLINE</span>,
            <span class="hljs-attr">verticalOrigin</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">VerticalOrigin</span>.<span class="hljs-property">BOTTOM</span>,
            <span class="hljs-attr">pixelOffset</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">Cartesian2</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">50</span>),
            <span class="hljs-attr">disableDepthTestDistance</span>: <span class="hljs-title class_">Number</span>.<span class="hljs-property">POSITIVE_INFINITY</span>,
            <span class="hljs-attr">distanceDisplayCondition</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">DistanceDisplayCondition</span>(
              <span class="hljs-number">0</span>,
              <span class="hljs-number">5000</span>
            ),
          },
          <span class="hljs-attr">properties</span>: {
            <span class="hljs-attr">pickable</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">pointId</span>: p.<span class="hljs-property">id</span>,
            <span class="hljs-attr">pointType</span>: p?.<span class="hljs-property">pointType</span>,
            <span class="hljs-attr">pointName</span>: p?.<span class="hljs-property">pointName</span>,
          }
        });

        pointEntityIdsRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">push</span>(id);
      });
      <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">ScreenSpaceEventHandler</span>(viewer.<span class="hljs-property">scene</span>.<span class="hljs-property">canvas</span>);

      handler.<span class="hljs-title function_">setInputAction</span>(<span class="hljs-function">(<span class="hljs-params">movement: any</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> picked = viewer.<span class="hljs-property">scene</span>.<span class="hljs-title function_">pick</span>(movement.<span class="hljs-property">endPosition</span>);


        <span class="hljs-keyword">if</span> (
          <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_">defined</span>(picked) &amp;&amp;
          picked.<span class="hljs-property">id</span> &amp;&amp;                     <span class="hljs-comment">// Entity</span>
          picked?.<span class="hljs-property">id</span>?.<span class="hljs-property">properties</span>?.<span class="hljs-property">pickable</span>?.<span class="hljs-title function_">getValue</span>()
        ) {

          viewer.<span class="hljs-property">canvas</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'pointer'</span>;


        } <span class="hljs-keyword">else</span> {
          viewer.<span class="hljs-property">canvas</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'default'</span>;


        }
      }, <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">ScreenSpaceEventType</span>.<span class="hljs-property">MOUSE_MOVE</span>);
      <span class="hljs-comment">// ç‚¹å‡»æµ‹ç‚¹</span>
      handler.<span class="hljs-title function_">setInputAction</span>(<span class="hljs-function">(<span class="hljs-params">click: any</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> picked = viewer.<span class="hljs-property">scene</span>.<span class="hljs-title function_">pick</span>(click.<span class="hljs-property">position</span>);

        <span class="hljs-keyword">if</span> (
          <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_">defined</span>(picked) &amp;&amp;
          picked.<span class="hljs-property">id</span> &amp;&amp;
          picked.<span class="hljs-property">id</span>.<span class="hljs-property">billboard</span>
        ) {
          <span class="hljs-keyword">const</span> entity = picked.<span class="hljs-property">id</span>;

          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹åˆ°äº†:'</span>, entity.<span class="hljs-property">id</span>, picked?.<span class="hljs-property">id</span>?.<span class="hljs-property">properties</span>?.<span class="hljs-property">pointId</span>?.<span class="hljs-title function_">getValue</span>());

         

          <span class="hljs-comment">// ç¤ºä¾‹ï¼šç›¸æœºé£è¿‡å»</span>
          viewer.<span class="hljs-title function_">flyTo</span>(entity);
          
        }
      }, <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">ScreenSpaceEventType</span>.<span class="hljs-property">LEFT_CLICK</span>);


    }


  }, [dataSource]);
</code></pre>
<hr/>
<h2 data-id="heading-6">äº”ã€ç‚¹å‡»æµ‹ç‚¹é£è¡Œå®šä½</h2>
<h3 data-id="heading-7">pick å®ä½“</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> picked = viewer.scene.<span class="hljs-built_in">pick</span>(click.position);
</code></pre>
<p>åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">if</span> (Cesium.<span class="hljs-built_in">defined</span>(picked) &amp;&amp; picked.id?.billboard) {
</code></pre>
<p>ç„¶åï¼š</p>
<pre><code class="hljs language-ini" lang="ini">viewer.flyTo(entity)<span class="hljs-comment">;</span>
</code></pre>
<p>ä½“éªŒç›´æ¥æ‹‰æ»¡ã€‚</p>
<hr/>
<h3 data-id="heading-8">é¼ æ ‡ Hover æ‰‹å‹</h3>
<p>ç»†èŠ‚å†³å®šé«˜çº§æ„Ÿï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">viewer.canvas.style.cursor</span> = <span class="hljs-string">'pointer'</span><span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">å…­ã€ç›¸æœºç¯ç»•åŠ¨ç”»</h2>
<p>æ ¸å¿ƒæ€è·¯ï¼š</p>
<h4 data-id="heading-10">ğŸ‘‰ clock.onTick</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> remove = viewer.<span class="hljs-property">clock</span>.<span class="hljs-property">onTick</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-function">() =&gt;</span> {
  heading += <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Math</span>.<span class="hljs-title function_">toRadians</span>(<span class="hljs-number">0.2</span>);

  viewer.<span class="hljs-property">camera</span>.<span class="hljs-title function_">lookAt</span>(
    center,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">HeadingPitchRange</span>(
      heading,
      <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Math</span>.<span class="hljs-title function_">toRadians</span>(-<span class="hljs-number">30</span>),
      range
    )
  );
<span class="hljs-comment">// è½¬æ»¡ä¸€åœˆåœæ­¢</span>
  <span class="hljs-keyword">if</span> (heading &gt;= <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Math</span>.<span class="hljs-property">TWO_PI</span>) {
    <span class="hljs-title function_">remove</span>();
    viewer.<span class="hljs-property">camera</span>.<span class="hljs-title function_">lookAtTransform</span>(<span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Matrix4</span>.<span class="hljs-property">IDENTITY</span>);
  }
});
</code></pre>
<p>æœ¬è´¨ï¼š</p>
<p>ğŸ‘‰ æ¯å¸§æ”¹å˜ headingã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯¦è§£ IEEE 754 æ ‡å‡†å®šä¹‰çš„ JavaScript 64 ä½æµ®ç‚¹æ•°]]></title>    <link>https://juejin.cn/post/7603309951227232306</link>    <guid>https://juejin.cn/post/7603309951227232306</guid>    <pubDate>2026-02-06T08:20:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227232306" data-draft-id="7603352117639036937" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯¦è§£ IEEE 754 æ ‡å‡†å®šä¹‰çš„ JavaScript 64 ä½æµ®ç‚¹æ•°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ•°å­¦"/> <meta itemprop="datePublished" content="2026-02-06T08:20:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–ŸèŒ¶é€’æ°´é»„å¸ˆå‚…"/> <meta itemprop="url" content="https://juejin.cn/user/3720403078610952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯¦è§£ IEEE 754 æ ‡å‡†å®šä¹‰çš„ JavaScript 64 ä½æµ®ç‚¹æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3720403078610952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–ŸèŒ¶é€’æ°´é»„å¸ˆå‚…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:20:46.000Z" title="Fri Feb 06 2026 08:20:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-light">.hljs-comment,.hljs-quote{color:#6b7394}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f5f7ff;color:#5e6687}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>JavaScript ä½¿ç”¨ IEEE 754 æ ‡å‡†å®šä¹‰çš„ 64 ä½æµ®ç‚¹æ ¼å¼è¡¨ç¤ºæ•°å€¼ã€‚</p>
<p><strong>64ä½ = 1ä½ç¬¦å·ä½(S) + 11ä½æŒ‡æ•°ä½(E) + 52ä½å°¾æ•°ä½(M)</strong></p>
<ul>
<li>ç¬¦å·ä½ï¼ˆSï¼‰ï¼š0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ï¼Œå†³å®šæ•°å€¼çš„æ­£è´Ÿï¼›</li>
<li>æŒ‡æ•°ä½ï¼ˆEï¼‰ï¼šå­˜å‚¨æŒ‡æ•°çš„åç§»å€¼ï¼ˆåç§»é‡1023ï¼‰ï¼Œå†³å®šæ•°å€¼çš„æ•°é‡çº§ï¼›</li>
<li>å°¾æ•°ä½ï¼ˆMï¼‰ï¼šå­˜å‚¨æ•°å€¼çš„æœ‰æ•ˆæ•°å­—ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œä¸”æœ‰ä¸€ä¸ªéšå«çš„1ä½ï¼ˆè§„æ ¼åŒ–æ•°ï¼Œä¹Ÿå«å½’ä¸€åŒ–æ•°ï¼Œnormalized numberï¼‰ï¼Œæ‰€ä»¥å®é™…æœ‰æ•ˆä½æ•°æ˜¯ 52 + 1 = 53ä½ã€‚</li>
</ul>
<p>æŒ‡æ•°ä½ï¼ˆEï¼‰çš„åç§»é‡ 1023 æ˜¯æ ‡å‡†äººä¸ºè§„å®šçš„ï¼Œä¸ºçš„æ˜¯è®©åŸæœ¬çš„ 11 ä½æ— ç¬¦å·ä½çš„äºŒè¿›åˆ¶æŒ‡æ•°ä½èƒ½è¡¨ç¤ºæ­£è´ŸæŒ‡æ•°ï¼Œå¹¶ä¸”æ­£è´ŸæŒ‡æ•°å°½å¯èƒ½å¯¹ç§°ï¼ˆ-1022 ~ 1023ï¼‰ã€‚</p>
<p>å°¾æ•°ä½ï¼ˆMï¼‰çš„éšè—ä½ 1 ä¹Ÿæ˜¯æ ‡å‡†äººä¸ºè§„å®šçš„ï¼Œåˆ©ç”¨äº†éé›¶äºŒè¿›åˆ¶æ•°å½’ä¸€åŒ–åæ•´æ•°ä½å¿…ä¸º 1 çš„ç‰¹æ€§ã€‚</p>
<p>ä»»ä½•ä¸€ä¸ªéé›¶çš„äºŒè¿›åˆ¶æ•°ï¼Œéƒ½èƒ½å”¯ä¸€è¡¨ç¤ºä¸º <code>1.xx Ã— 2^e</code> çš„å½¢å¼ã€‚</p>
<ul>
<li>e æ˜¯äºŒè¿›åˆ¶çš„æŒ‡æ•°ï¼ˆæ•´æ•°ï¼Œå¯æ­£å¯è´Ÿï¼‰ï¼›</li>
<li>å½’ä¸€åŒ–åæ•´æ•°ä½å¿…ç„¶æ˜¯å›ºå®šä¸å˜çš„ 1ï¼Œè¿™æ˜¯äºŒè¿›åˆ¶çš„ç‰¹æ€§ã€‚</li>
</ul>
<p>IEEE 754 æ ‡å‡†æ­£æ˜¯åˆ©ç”¨äº†ã€Œå½’ä¸€åŒ–åæ•´æ•°ä½å¿…ä¸º 1ã€çš„ç‰¹æ€§ï¼Œåšäº†ä¸€ä¸ªå·§å¦™è®¾è®¡ï¼š</p>
<p>æ—¢ç„¶è¿™ä¸ª 1 æ˜¯æ‰€æœ‰éé›¶æµ®ç‚¹æ•°çš„å›ºå®šå‰ç¼€ï¼Œé‚£å°±ä¸ç”¨åœ¨ 64 ä½ä¸­å®é™…å­˜å‚¨å®ƒï¼Œè€Œæ˜¯ã€Œé»˜è®¤å­˜åœ¨è¿™ä¸ª 1ã€ï¼Œä»…å°†å°æ•°ç‚¹åçš„ xx æœ‰æ•ˆæ•°å­—éƒ¨åˆ†å­˜å…¥ 52 ä½çš„å°¾æ•°ä½ï¼ˆMï¼‰ä¸­ã€‚</p>
<p>åŸæœ¬å°¾æ•°ä½åªæœ‰ 52 ä½ï¼ŒåŠ ä¸Šè¿™ 1 ä½éšè—çš„å›ºå®šä¸å˜çš„ 1 åï¼Œå®é™…å¯ç”¨çš„æœ‰æ•ˆæ•°å­—ä½å°±å˜æˆäº† 53 ä½ï¼ˆ1 + 52ï¼‰ï¼Œç›´æ¥æå‡äº†æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼Œä¸”æ²¡æœ‰å ç”¨é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p><strong>åªæœ‰éé›¶çš„å½’ä¸€åŒ–æµ®ç‚¹æ•°æ‰æœ‰éšè—ä½ã€‚å¯¹äºæ¥è¿‘ 0 çš„æå°å€¼ï¼ˆéå½’ä¸€åŒ–æ•°ï¼‰ï¼ŒIEEE 754 ä¼šæ”¾å¼ƒå½’ä¸€åŒ–</strong>ï¼Œæ­¤æ—¶æ²¡æœ‰éšè—ä½ï¼Œåªæœ‰ 52 ä½æœ‰æ•ˆæ•°å­—ã€‚</p>
<h3 data-id="heading-0">æ¨å¯¼ï¼š53 ä½äºŒè¿›åˆ¶èƒ½è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ 2^53 - 1</h3>
<p>å½“ 53 ä½äºŒè¿›åˆ¶å°¾æ•°ä½ï¼ˆMï¼‰ï¼ˆåŒ…å«éšè—ä½ 1ï¼‰ï¼Œæ‰€æœ‰ä½éƒ½ä¸º 1 æ—¶ï¼Œå°±æ˜¯å®ƒèƒ½è¡¨ç¤ºçš„æœ€å¤§æ•°ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">111...111ï¼ˆ53ä¸ª1ï¼‰ = 2^52 + 2^51 + ... + 2^1 + 2^<span class="hljs-attr">0</span> = <span class="hljs-number">2</span>^<span class="hljs-number">53</span> - <span class="hljs-number">1</span>
</code></pre>
<p>è¿™ä¸ªæ•°å°±æ˜¯ JS ä¸­èƒ½ç²¾ç¡®è¡¨ç¤ºçš„æœ€å¤§å®‰å…¨æ•´æ•° <code>Number.MAX_SAFE_INTEGER</code>ã€‚</p>
<p><strong>ä¸€ä¸ªæ•´æ•° n è¢«ç§°ä¸ºå®‰å…¨æ•´æ•°ï¼Œå½“ä¸”ä»…å½“ï¼šå®ƒè‡ªèº«å’Œå‰åç›¸é‚»çš„ä¸¤ä¸ªæ•´æ•°ï¼ˆnâˆ’1ã€nã€n+1ï¼‰ï¼Œéƒ½èƒ½è¢«å”¯ä¸€ä¸”ç²¾ç¡®åœ°å­˜å‚¨è¡¨ç¤º</strong>ï¼Œä¸‰è€…çš„ 64 ä½æµ®ç‚¹æ•°ç¼–ç äº’ä¸é‡å¤ï¼Œä¸”ä¸å­˜åœ¨æˆªæ–­èˆå…¥åçš„å¤±çœŸæƒ…å†µã€‚</p>
<p>åœ¨ 2^53 ~ 2^1023 è¿™åŒºé—´å†…çš„ 2 çš„æ•´æ•°æ¬¡å¹‚èƒ½ç²¾ç¡®è¡¨ç¤ºï¼Œä½†éƒ½æ˜¯ã€Œå­¤ç«‹çš„ç²¾ç¡®æ•°ã€ï¼ˆç›¸é‚»æ•°å¤±çœŸï¼Œæ— è¿ç»­æ€§ï¼‰ã€‚</p>
<h3 data-id="heading-1">å°‘æ•°èƒ½<strong>ç²¾ç¡®å­˜å‚¨</strong>çš„ç‰¹æ®Šåè¿›åˆ¶å°æ•°</h3>
<p>ç»å¤§å¤šæ•°å°æ•°çš„äºŒè¿›åˆ¶ï¼Œéƒ½æ˜¯æ— é™å¾ªç¯çš„å°æ•°å½¢å¼ï¼Œéƒ½ä¸èƒ½ç²¾ç¡®å­˜å‚¨ï¼Œåªèƒ½æˆªæ–­èˆå…¥è¿‘ä¼¼å­˜å‚¨ã€‚</p>
<p>å¦‚æœä¸€ä¸ªåè¿›åˆ¶å°æ•°è½¬äºŒè¿›åˆ¶åæ˜¯ã€Œæœ‰é™ä½å°æ•°ã€ï¼Œå°±èƒ½è¢« 64 ä½æµ®ç‚¹æ•°ç²¾ç¡®å­˜å‚¨ï¼Œè¿™ç±»å°æ•°æœ‰æ˜ç¡®çš„æ•°å­¦è§„åˆ™ï¼š</p>
<blockquote>
<p><strong>åè¿›åˆ¶å°æ•°èƒ½ç²¾ç¡®è½¬ä¸ºæœ‰é™ä½äºŒè¿›åˆ¶çš„å……è¦æ¡ä»¶ï¼šå°æ•°éƒ¨åˆ†è½¬åŒ–æˆæœ€ç®€åˆ†æ•°å½¢å¼åï¼Œå®ƒçš„åˆ†æ¯ä»…åŒ…å«è´¨å› å­ 2ï¼ˆå³åˆ†æ¯æ˜¯ 2 çš„æ­£æ•´æ•°æ¬¡å¹‚ï¼š2Â¹ã€2Â²ã€2Â³...ï¼‰ã€‚</strong></p>
</blockquote>
<p>ç®€å•è¯´ï¼šå°æ•°éƒ¨åˆ†æ˜¯ <code>0.5(1/2)ã€0.25(1/4)ã€0.125(1/8)ã€0.0625(1/16)...</code> çš„ç»„åˆï¼Œå°±èƒ½ç²¾ç¡®å­˜å‚¨ã€‚</p>
<h3 data-id="heading-2"><strong>æµ®ç‚¹æ•°çš„ã€Œå¯è¡¨ç¤ºå€¼æ­¥é•¿ã€éšæ•°å€¼å¢å¤§è€Œå˜å¤§</strong>ï¼ˆç²¾åº¦è¡°å‡è§„å¾‹ï¼‰</h3>
<p>64 ä½æµ®ç‚¹æ•°çš„å¯è¡¨ç¤ºå€¼ä¸æ˜¯è¿ç»­çš„ï¼Œè€Œæ˜¯ç¦»æ•£çš„ã€ç­‰æ­¥é•¿çš„ï¼ˆåŒä¸€é‡çº§å†…æ­¥é•¿å›ºå®šï¼‰ï¼Œä¸”æ•°å€¼è¶Šå¤§ï¼Œé‡çº§è¶Šé«˜ï¼Œæ­¥é•¿è¶Šå¤§ã€‚è¿™æ˜¯æ•´æ•°å’Œå°æ•°çš„ç²¾åº¦éƒ½ä¼šéšæ•°å€¼å¢å¤§è€Œè¡°å‡çš„æ ¹æœ¬åŸå› ã€‚</p>
<p><strong>æ­¥é•¿æ˜¯ï¼ˆåŒä¸€é‡çº§å†…ï¼‰ç›¸é‚»ä¸¤ä¸ªå¯è¡¨ç¤ºçš„æµ®ç‚¹æ•°ä¹‹é—´çš„å·®å€¼ï¼Œç”±å½’ä¸€åŒ–åçš„æŒ‡æ•° e å†³å®š</strong>ï¼š</p>
<p><strong>æ­¥é•¿ = 2^(e-52)</strong> ï¼ˆ52 æ˜¯å°¾æ•°ä½ M çš„ä½æ•°ï¼‰ã€‚</p>
<ul>
<li>æ­¥é•¿è¶Šå°ï¼Œå¯è¡¨ç¤ºå€¼è¶Šå¯†é›†ï¼Œç²¾åº¦è¶Šé«˜ï¼›</li>
<li>æ­¥é•¿è¶Šå¤§ï¼Œå¯è¡¨ç¤ºå€¼è¶Šç¨€ç–ï¼Œç²¾åº¦è¶Šä½ã€‚</li>
</ul>
<p>æ­¥é•¿å¯¹æ•´æ•°å’Œå°æ•°çš„å½±å“ï¼š</p>
<p><strong>- å®‰å…¨æ•´æ•°åŒºï¼ˆeâ‰¤52ï¼‰ï¼šæ­¥é•¿ = 2^(e-52) â‰¤1 â†’ æ•´æ•°çš„æ­¥é•¿ä¸º 1ï¼Œèƒ½è¿ç»­ç²¾ç¡®è¡¨ç¤ºï¼›å°æ•°çš„æ­¥é•¿æå°ï¼Œè¯¯å·®å¯å¿½ç•¥ï¼›</strong></p>
<ul>
<li>2âµÂ³~2Â¹â°Â²Â³ åŒºï¼šæ­¥é•¿â‰¥2 â†’ æ•´æ•°çš„æ­¥é•¿å¤§äº 1ï¼Œæ— æ³•è¿ç»­ç²¾ç¡®è¡¨ç¤ºï¼ˆç›¸é‚»æ•´æ•°é‡å ï¼‰ï¼›å°æ•°çš„æ­¥é•¿æå¤§ï¼Œå‡ ä¹æ— æ³•åŒºåˆ†ç›¸è¿‘å°æ•°ï¼›</li>
<li>2Â¹â°Â²Â³ ä»¥ä¸Šï¼šè¶…å‡ºæŒ‡æ•°èŒƒå›´ï¼Œç›´æ¥å˜æˆ Infinityï¼Œæ— æ³•è¡¨ç¤ºä¸ºå¸¸è§„æ•°ã€‚</li>
</ul>
<h3 data-id="heading-3">MAX_VALUE å’Œ MIN_VALUE</h3>
<p>æœ€å¤§æ­£å€¼ï¼š<code>Number.MAX_VALUE = 1.7976931348623157Ã—10Â³â°â¸</code></p>
<p>æŒ‡æ•°ä½å–å½’ä¸€åŒ–æ•°çš„æœ€å¤§å­˜å‚¨å€¼ 2046ï¼ˆå®é™…æŒ‡æ•° 1023ï¼‰ï¼Œå°¾æ•°ä½ 52 ä½å…¨ 1ï¼ˆæ­¤æ—¶æµ®ç‚¹æ•°å–åˆ°å½’ä¸€åŒ–æ•°çš„æœ€å¤§æå€¼ï¼Œå†å¤§å°±è¶…å‡ºæŒ‡æ•°èŒƒå›´ï¼Œå˜æˆ<code>Infinity</code>ï¼‰ï¼›</p>
<p>æœ€å°æ­£å€¼ï¼š<code>Number.MIN_VALUE = 5Ã—10â»Â³Â²â´</code>ï¼ˆæ— é™æ¥è¿‘ 0ï¼‰</p>
<p>æŒ‡æ•°ä½å–å…¨ 0ï¼ˆéå½’ä¸€åŒ–æ•°ï¼Œå®é™…æŒ‡æ•° -1023ï¼‰ï¼Œå°¾æ•°ä½ä»…æœ€å 1 ä½ä¸º 1ã€å…¶ä½™å…¨ 0ï¼ˆæ­¤æ—¶æµ®ç‚¹æ•°å–åˆ°èƒ½è¡¨ç¤ºçš„æœ€å°é 0 æ­£å€¼ï¼Œå†å°å°±ä¼šè¢«èˆå…¥ä¸º 0ï¼‰ã€‚</p>
<p>è¿™æ˜¯ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°åŸºäº IEEE 754 æ ‡å‡†çš„ç¡¬ä»¶å­˜å‚¨æé™ï¼Œæ˜¯æµ®ç‚¹æ•°èƒ½è¡¨ç¤ºçš„æ‰€æœ‰æ•°å€¼ï¼ˆæ•´æ•° + å°æ•°ï¼‰çš„æ•´ä½“è¾¹ç•Œï¼Œè€Œéä¸“é—¨é’ˆå¯¹æ•´æ•°çš„èŒƒå›´ã€‚</p>
<h3 data-id="heading-4">Â±Infinity å’Œ NaN å¦‚ä½•è¡¨ç¤º</h3>



































<table><thead><tr><th/><th><strong>Infinityï¼ˆæ­£æ— ç©·ï¼‰</strong></th><th><strong>-Infinityï¼ˆè´Ÿæ— ç©·ï¼‰</strong></th><th><strong>NaNï¼ˆéæ•°ï¼‰</strong></th></tr></thead><tbody><tr><td>1ä½ç¬¦å·ä½ï¼ˆSï¼‰</td><td>0è¡¨ç¤ºæ­£æ•°</td><td>1è¡¨ç¤ºè´Ÿæ•°</td><td>0å’Œ1éƒ½å¯ï¼Œæ— æ„ä¹‰</td></tr><tr><td>11ä½æŒ‡æ•°ä½ï¼ˆEï¼‰</td><td>11ä½å…¨1</td><td>11ä½å…¨1</td><td>11ä½å…¨1</td></tr><tr><td>52ä½å°¾æ•°ä½ï¼ˆMï¼‰</td><td>52ä½å…¨0</td><td>52ä½å…¨0</td><td>52ä½éå…¨0ï¼ˆå³ä»»æ„1ä½æ˜¯1å³å¯ï¼‰</td></tr><tr><td/><td><strong>S0 + Eå…¨1 + Må…¨0</strong></td><td><strong>S1 + Eå…¨1 + Må…¨0</strong></td><td><strong>S01 + Eå…¨1 + Mé0</strong></td></tr></tbody></table>
<p><strong>Eå…¨1 è¡¨ç¤º Â±Infinity å’Œ NaN çš„ç‰¹æ®Šå€¼ï¼Œè€Œ Eå…¨0 è¡¨ç¤ºéå½’ä¸€åŒ–æ•°ï¼ˆæ¥è¿‘ 0 çš„æå°å€¼ï¼Œæ— éšè—ä½ï¼‰ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSè‡ªå®šä¹‰TabBar]]></title>    <link>https://juejin.cn/post/7603352117638922249</link>    <guid>https://juejin.cn/post/7603352117638922249</guid>    <pubDate>2026-02-06T07:46:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603352117638922249" data-draft-id="7603309951226921010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSè‡ªå®šä¹‰TabBar"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-06T07:46:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ°å°‘å¹´"/> <meta itemprop="url" content="https://juejin.cn/user/1591748567509486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSè‡ªå®šä¹‰TabBar
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748567509486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ°å°‘å¹´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T07:46:53.000Z" title="Fri Feb 06 2026 07:46:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">DDTabBar è‡ªå®šä¹‰ TabBar</h2>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>DDTabBar æ¨¡å—åº•éƒ¨å¯¼èˆªæ çš„è‡ªå®šä¹‰å®ç°ï¼Œ</p>
<ul>
<li>æ”¯æŒ <strong>æ™®é€šæ ·å¼</strong> ä¸ <strong>æ¶²æ€ç»ç’ƒï¼ˆLiquid Glassï¼‰æ ·å¼</strong> åŒå½¢æ€åˆ‡æ¢ã€‚</li>
<li>æ”¯æŒæš—é»‘æ¨¡å¼å’Œé•¿è¾ˆæ¨¡å¼</li>
<li>æ”¯æŒLottieï¼Œgifï¼Œpngå›¾ç‰‡èµ„æº</li>
<li>æ”¯æŒè‡ªå®šä¹‰è§’æ ‡ï¼Œå°çº¢ç‚¹</li>
<li>æ ¹æ®æ¥å£åŠ¨æ€æ›´æ–°itemæ•°é‡ï¼Œé¡ºåº</li>
</ul>
<hr/>
<h3 data-id="heading-2">æ•ˆæœ</h3>
<p>æ¶²æ€ç»ç’ƒ-æš—é»‘</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff8cf5d212c14acfaf8f20bfd750453b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGw5bCR5bm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770968812&amp;x-signature=4sZQdJHdYjmKV66UAGqTETqJiok%3D" alt="æš—é»‘" width="30%" loading="lazy"/>
<p>æ¶²æ€ç»ç’ƒ-ç™½å¤©</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/957e679003cf4fab875759695a895144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGw5bCR5bm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770968812&amp;x-signature=YYPkWCeAhQMazKXdVrJn3L9I%2Byg%3D" width="30%" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/684ee7a68095432aa4879cc6b7db7434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGw5bCR5bm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770968812&amp;x-signature=%2FaBRiNfkwauFsmiA1TCmsB5h8EQ%3D" width="30%" loading="lazy"/>
<p>æ™®é€šæ¨¡å¼</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b13fde133acb41e4b929d74c259d9dbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGw5bCR5bm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770968812&amp;x-signature=AJWcmW7bLWcDmkKOcYimhbHIy4c%3D" width="30%" loading="lazy"/>
<p>é•¿è¾ˆç‰ˆ</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/997cccb5b897401f866d6e3513d11cae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGw5bCR5bm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770968812&amp;x-signature=r76eHLLelwWiFz63RagoH%2BZM5vU%3D" width="30%" loading="lazy"/>
<hr/>
<h3 data-id="heading-3">ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">DDTabBar/
â”œâ”€â”€ Manager/                    <span class="hljs-comment"># ç®¡ç†ä¸åŠ è½½</span>
â”‚   â”œâ”€â”€ DDTabBarManager.swift           <span class="hljs-comment"># TabBar å•ä¾‹ã€æ•°æ®ä¸é…ç½®</span>
â”‚   â”œâ”€â”€ DDTabBarItemOperationBadgeView.swift  <span class="hljs-comment"># è¿è¥è§’æ ‡</span>
â”‚   â”œâ”€â”€ TabBarCacheManager.swift        <span class="hljs-comment"># é…ç½®ç¼“å­˜</span>
â”‚   â”œâ”€â”€ TabBarResourceLoader.swift      <span class="hljs-comment"># å›¾æ ‡/Lottie èµ„æºåŠ è½½</span>
â”‚   â””â”€â”€ TabbarRNRouterInterceptor.swift <span class="hljs-comment"># RN è·¯ç”±æ‹¦æˆª</span>
â”œâ”€â”€ Model/
â”‚   â”œâ”€â”€ DDTabBarItem.swift              <span class="hljs-comment"># (é¢„ç•™) Item å®šä¹‰</span>
â”‚   â””â”€â”€ TabBarModel.swift               <span class="hljs-comment"># TabBar ä¸ Item æ•°æ®æ¨¡å‹</span>
â”œâ”€â”€ Util/
â”‚   â”œâ”€â”€ DDTaBarEnum.h                   <span class="hljs-comment"># æšä¸¾ï¼šåœºæ™¯ã€Item ç±»å‹ã€å›¾ç‰‡ç±»å‹</span>
â”‚   â””â”€â”€ DDTabBarUtil.swift              <span class="hljs-comment"># å·¥å…·ï¼šæ›å…‰åŸ‹ç‚¹ã€æ•°æ®æ¯”è¾ƒç­‰</span>
â””â”€â”€ View/
    â”œâ”€â”€ DDTabBar.swift                  <span class="hljs-comment"># ä¸»å…¥å£ï¼šåŒæ ·å¼å®¹å™¨ä¸åˆ‡æ¢é€»è¾‘</span>
    â”œâ”€â”€ DDTabBarItemBadgeView.swift     <span class="hljs-comment"># è§’æ ‡è§†å›¾</span>
    â”œâ”€â”€ DDTabBarItemContainer.swift     <span class="hljs-comment"># å•ä¸ª Tab å®¹å™¨ï¼ˆå¯ç‚¹å‡»ï¼‰</span>
    â”œâ”€â”€ DDTabBarItemContentView.swift   <span class="hljs-comment"># Tab å†…å®¹ï¼ˆå›¾æ ‡+æ–‡æ¡ˆ+è§’æ ‡ï¼‰</span>
    â”œâ”€â”€ TabbarWebViewController.swift   <span class="hljs-comment"># Web Tab è½åœ°é¡µ</span>
    â””â”€â”€ README.md                       <span class="hljs-comment"># æœ¬æ–‡æ¡£</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">åŒæ ·å¼æ¶æ„</h3>
<h4 data-id="heading-5">1. æ ·å¼ç±»å‹</h4>




















<table><thead><tr><th>æ ·å¼</th><th>ç±»å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ™®é€šæ ·å¼</strong></td><td><code>DDTabBarNormalView</code></td><td>å…¨å®½ TabBarï¼Œæ¯›ç»ç’ƒ + èƒŒæ™¯å›¾/èƒŒæ™¯è‰²ï¼Œå¸¸è§„å¸ƒå±€</td></tr><tr><td><strong>æ¶²æ€ç»ç’ƒ</strong></td><td><code>DDTabBarLiquidGlassView</code></td><td>åœ†è§’èƒ¶å›Šå®¹å™¨ï¼ŒiOS 26 ä¸‹ä½¿ç”¨ <code>UIGlassEffect</code>ï¼Œæ”¯æŒæš—é»‘é€‚é…</td></tr></tbody></table>
<h4 data-id="heading-6">2. åˆ‡æ¢æ¡ä»¶</h4>
<p>æ¶²æ€ç»ç’ƒæ˜¯å¦å±•ç¤ºç”± <code>DDTabBar.isLiquidGlassActive()</code> å†³å®šï¼š</p>
<ul>
<li><code>DDLiquidGlassManager.shared.isLiquidGlassActive == true</code></li>
<li><strong>ä¸”</strong> éé•¿è¾ˆç‰ˆï¼š<code>!DDBasicInfoManager.shared.isAPVersion</code></li>
</ul>
<p>æ»¡è¶³æ—¶æ˜¾ç¤º <code>DDTabBarLiquidGlassView</code>ï¼Œå¦åˆ™æ˜¾ç¤º <code>DDTabBarNormalView</code>ã€‚</p>
<h4 data-id="heading-7">3. çŠ¶æ€åŒæ­¥</h4>
<ul>
<li>é€šè¿‡é€šçŸ¥ç›‘å¬å¹¶åˆ·æ–°å½“å‰å±•ç¤ºçš„æ ·å¼ï¼š
<ul>
<li><code>DDLiquidGlassManager.StateDidChangedNotification</code>ï¼šæ¶²æ€ç»ç’ƒå¼€å…³å˜åŒ–</li>
<li><code>.DDDarkModeShowDarkChanged</code>ï¼šæš—é»‘æ¨¡å¼å˜åŒ–</li>
<li><code>kChangeToAPVersionNotification</code>ï¼šé•¿è¾ˆç‰ˆåˆ‡æ¢</li>
</ul>
</li>
<li>ä¸¤ç§è§†å›¾çš„æ•°æ®ä¸é€‰ä¸­ç´¢å¼•ä¼šåŒæ—¶æ›´æ–°ï¼Œä¿è¯åˆ‡æ¢æ ·å¼æ—¶çŠ¶æ€ä¸€è‡´ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">ä¸»å…¥å£å®ç°ç»†èŠ‚ï¼ˆDDTabBarï¼‰</h3>
<ul>
<li>** é»˜è®¤æ•°æ®ï¼Œç¼“å­˜æ•°æ®ï¼Œæ¥å£æ•°æ® è°ƒç”¨updateæ—¶æ›´æ–°DDTabBarLiquidGlassView å’ŒDDTabBarNormalViewï¼Œæ›´æ–°æ—¶å…ˆåˆ¤æ–­å†…å­˜ä¸­æ˜¯å¦æœ‰è¯¥tabï¼Œåªæ›´æ–°tabæ•°æ®ä¸å½±å“é£˜çº¢è§’æ ‡ï¼Œæ²¡æœ‰åˆ™åˆ›å»ºtabçš„viewï¼›</li>
<li>**æ›´æ–°å‰ä¸ºæ¯ä¸ª Item è®¾ç½®æš—é»‘å›¾ï¼ˆ<code>checkDataDark</code> / <code>uncheckDataDark</code> æŒ‰ itemType å–æœ¬åœ°å›¾åï¼‰ã€‚</li>
<li><strong>å¸ƒå±€</strong>ï¼š<code>layoutSubviews</code> ä¸­ <code>normalView.frame = bounds</code>ã€<code>liquidGlassView.frame = bounds</code>ï¼Œä¸¤å¥—è§†å›¾å§‹ç»ˆå åœ¨åŒä¸€åŒºåŸŸï¼Œé€šè¿‡ <code>isHidden</code> åˆ‡æ¢æ˜¾ç¤ºã€‚</li>
<li><strong>é•¿è¾ˆç‰ˆé«˜åº¦</strong>ï¼š<code>sizeThatFits</code> åœ¨ <code>DDBasicInfoManager.shared.isAPVersion</code> æ—¶é«˜åº¦ +17ptã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">æ™®é€šæ ·å¼ï¼ˆDDTabBarNormalViewï¼‰</h3>
<h4 data-id="heading-10">è§†å›¾å±‚çº§ä¸å¸ƒå±€</h4>
<ul>
<li>
<p><strong>å­è§†å›¾é¡ºåº</strong>ï¼ˆè‡ªåº•å‘ä¸Šï¼‰ï¼š<code>visualEffectView</code>ï¼ˆå…¨ boundsï¼‰â†’ <code>backgroundImageView</code>ï¼ˆå…¨ boundsï¼‰â†’ <code>contentView</code>ï¼ˆå…¨ boundsï¼‰ã€‚</p>
</li>
<li>
<p><strong>Item å¸ƒå±€</strong>ï¼šå…¨å®½å‡åˆ†å¸ƒå±€ï¼Œ<code>itemHeight</code> é»˜è®¤ 48ã€‚</p>
</li>
<li>
<p><strong>é¦–é¡µå°ç«ç®­</strong>ï¼šå¯¹ç¬¬ä¸€ä¸ª item å®¹å™¨é™„åŠ é¦–é¡µâ€œå°ç«ç®­â€è§†å›¾ï¼ˆ<code>HomeTabBarItem</code>ï¼‰ï¼Œç”¨äºé¦–é¡µç‰¹æ®ŠåŠ¨æ•ˆ/å›åˆ°é¡¶éƒ¨èƒ½åŠ›çš„æ‰¿è½½ã€‚</p>
</li>
<li>
<p><strong>æš—é»‘</strong>ï¼šä¸æ”¯æŒæš—é»‘</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-11">æ¶²æ€ç»ç’ƒæ ·å¼ï¼ˆDDTabBarLiquidGlassViewï¼‰</h3>
<h4 data-id="heading-12">1. è§†è§‰ä¸å±‚çº§</h4>
<ul>
<li><strong>å®¹å™¨</strong>ï¼šåœ†è§’èƒ¶å›Šï¼Œå®½åº¦ <code>kScreenWidth - 30</code>ï¼Œæ°´å¹³å±…ä¸­ï¼Œé«˜åº¦ 62ptï¼ˆ<code>containerH</code>ï¼‰</li>
<li><strong>å±‚çº§</strong>ï¼ˆè‡ªåº•å‘ä¸Šï¼‰ï¼š
<ul>
<li><code>shadowView</code>ï¼šæš—è‰²æ¨¡ç³Šè§†å›¾ï¼Œç”¨äºé˜´å½±/æš—é»‘å¢å¼º</li>
<li><code>effectView</code>ï¼šä½¿ç”¨ç³»ç»Ÿæ–°å¢çš„ç»ç’ƒæ•ˆæœï¼ˆ<code>UIGlassEffect</code>ï¼‰ï¼Œå¹¶å¼€å¯äº¤äº’èƒ½åŠ›ï¼ˆinteractiveï¼‰ä»¥è·å¾—æ›´è‡ªç„¶çš„ç»ç’ƒè§¦æ„Ÿä¸åŠ¨æ€åé¦ˆï¼‰</li>
<li><code>contentView</code>ï¼šæ”¾ç½®å„ä¸ªtabItem</li>
<li><code>segmentControl</code>ï¼šiOS 26<code>UISegmentedControl</code>å…·æœ‰ç‚¹å‡»æ‹–åŠ¨æœ‰æ”¾å¤§é•œæ•ˆæœï¼Œç”¨äºäº‹ä»¶å“åº”ï¼ŒUISegmentedControlæœ‰valueChangedï¼Œä½†æˆ‘ä»¬è¿˜è¦æ±‚å†æ¬¡ç‚¹å‡»åŒä¸€ä¸ªitemä¸šåŠ¡ï¼Œåˆ‡æ¢åˆ°ç›®æ ‡itemæ—¶ï¼Œè‹¥æ˜¯æ‹¦æˆªçš„éœ€è¦æŠŠselectedSegmentIndexè®¾ç½®ä¸ºä¸Šä¸€ä¸ªlastSelectedIndex</li>
</ul>
</li>
</ul>
<p>è™½ç„¶ç»™
<code>segmentControl.insertSegment(withTitle: "", at: idx, animated: false)</code></p>
<p>ä½†ä»éœ€è¦è®¾ç½®ï¼Œä¸ç„¶ä¼šæœ‰ç°è‰²çš„èƒŒæ™¯</p>
<pre><code class="hljs language-python" lang="python">DispatchQueue.main.<span class="hljs-keyword">async</span> {
            <span class="hljs-keyword">for</span> subview <span class="hljs-keyword">in</span> self.segmentControl.subviews {
                <span class="hljs-keyword">if</span> subview <span class="hljs-keyword">is</span> UIImageView &amp;&amp; subview != self.segmentControl.subviews.last {
                    subview.alpha = <span class="hljs-number">0</span>
                }
            }
        }
</code></pre>
<h4 data-id="heading-13">3. æš—é»‘ä¸é€‰ä¸­æ€</h4>
<ul>
<li><code>isCurrentShowDark</code> æ§åˆ¶ï¼š
<ul>
<li>é€‰ä¸­æ§½èƒŒæ™¯è‰²ï¼šæš—é»‘æ—¶ä¸º <code>RGBA(0x000000, 0.2)</code>ï¼Œå¦åˆ™ä¸º <code>gray.withAlphaComponent(0.15)</code></li>
<li>æš—é»‘æ—¶æ˜¾ç¤º <code>shadowView</code>ï¼Œéæš—é»‘æ—¶éšè—</li>
</ul>
</li>
<li>Item ä½¿ç”¨ <code>isSupportDark = true</code>ï¼Œä¼šä½¿ç”¨æ¨¡å‹ä¸­çš„ <code>checkDataDark</code> / <code>uncheckDataDark</code> ç­‰æš—é»‘èµ„æºã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-14">DDTabBarItemContentView</h3>
<h4 data-id="heading-15">ContentViewï¼ˆDDTabBarItemContentViewï¼‰</h4>
<ul>
<li><strong>å­è§†å›¾</strong>ï¼š<code>iconImageView</code>ï¼ˆDDIconImageViewï¼Œæ”¯æŒ Lottie/é™å›¾/Gifï¼‰ã€<code>titleLabel</code>ã€<code>businessBadgeView</code>ï¼ˆè¿è¥è§’æ ‡ï¼‰ã€<code>badgeView</code>ï¼ˆæ•°å­—/çº¢ç‚¹è§’æ ‡ï¼‰ã€‚</li>
<li><strong>ä¸¤ç§å±•ç¤ºæ¨¡å¼</strong>ï¼ˆ<code>itemData.style</code>ï¼‰ï¼š
<ul>
<li><strong>style 0ï¼ˆå°å›¾ï¼‰</strong>ï¼šå›¾ç‰‡å’Œæ–‡å­—çš„å½¢å¼ã€‚</li>
<li><strong>style 1ï¼ˆå¤§å›¾ï¼‰</strong>ï¼šåªæœ‰ä¸€ä¸ªå¤§å›¾ï¼›<code>titleLabel.isHidden = true</code>ï¼Œ<code>iconImageView.isHidden = false</code>ã€‚</li>
</ul>
</li>
<li><strong>é€‰ä¸­/æœªé€‰</strong>ï¼šæ ¹æ® <code>selected</code> ä¸ <code>DDDarkModeManager.shared.isCurrentShowDark</code>ã€<code>isSupportDark</code> é€‰æ‹© <code>checkResource</code>/<code>checkDataDark</code>ã€<code>uncheckResource</code>/<code>uncheckDataDark</code> åŠå¯¹åº”æ–‡å­—é¢œè‰²ï¼Œè°ƒç”¨ <code>iconImageView.setData(data:type:style)</code> ä¸ <code>iconImageView.play()</code>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-16">æ•°æ®ä¸å±•ç¤º</h3>
<h4 data-id="heading-17">1. æ•°æ®æµæ¦‚è§ˆ</h4>
<ul>
<li><strong>é…ç½®æ¥æº</strong>ï¼š<code>DDTabBarManager.getTabBarConfigData(scene:parmars:aipComplet:)</code> æ‹‰å–æ¥å£ï¼Œç» <code>TabBarResourceLoader</code> ä¸‹è½½å›¾æ ‡/Lottie åï¼Œç”± <code>dealTabBarData</code> æ›´æ–° <code>tabBarModel</code> å¹¶è°ƒç”¨ <code>tabBar.update(data:items:)</code>ã€‚</li>
<li><strong>æ¨¡å‹</strong>ï¼š
<ul>
<li><code>TabBarModel</code>ï¼šæ•´æ¡ Tab é…ç½®ï¼ˆèƒŒæ™¯è‰²/å›¾ã€<code>bottom_list</code>ã€åœºæ™¯ã€æ¥æºç­‰ï¼‰</li>
<li><code>TabBarItemModel</code>ï¼šå•ä¸ª Tabï¼ˆç±»å‹ã€æ–‡æ¡ˆã€é€‰ä¸­/æœªé€‰èµ„æºã€é“¾æ¥ã€è§’æ ‡ç­‰ï¼‰</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-18">ä¸ç³»ç»Ÿ UITabBar çš„é…åˆ</h3>
<ul>
<li>
<p><code>DDTabBar</code> ä½œä¸ºè‡ªå®šä¹‰è§†å›¾åŠ åœ¨ TabBarController çš„ tabBar ä¸Šï¼Œç³»ç»Ÿè‡ªå¸¦çš„ Tab æŒ‰é’®éœ€éšè—ã€‚ä»£ç ä¸­é€šè¿‡ <code>UITabBar</code> çš„ extension é‡å†™ <code>addGestureRecognizer</code>ï¼Œå¯¹åä¸º <code>_UIContinuousSelectionGestureRecognizer</code> çš„ç±»ç¦ç”¨ï¼›</p>
</li>
<li>
<p>å¹¶æš´éœ² <code>recursiveFindTabButtons(in:)</code>ï¼Œé€’å½’æŸ¥æ‰¾ <code>_UITabBarButton</code> ä¸ <code>_UITabButton</code> è®¾ä¸º <code>isHidden = true</code>ï¼Œä»¥åŠ <code>_UITabBarPlatterView</code> éšè—ï¼Œä»è€Œåªå±•ç¤ºè‡ªå®šä¹‰çš„ DDTabBar å†…å®¹ã€‚</p>
</li>
</ul>
<p>æ­¤å¤„ä¼šå¯¹ç§æœ‰å±æ€§æ€æ··æ·†å¤„ç†</p>
<hr/>
<h3 data-id="heading-19">å°ç»“</h3>





























<table><thead><tr><th>èƒ½åŠ›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åŒæ ·å¼</td><td>æ™®é€šæ ·å¼ï¼ˆå…¨å®½æ¯›ç»ç’ƒ+èƒŒæ™¯ï¼‰ä¸æ¶²æ€ç»ç’ƒæ ·å¼ï¼ˆåœ†è§’èƒ¶å›Š + iOS26 ç»ç’ƒæ•ˆæœï¼‰</td></tr><tr><td>åˆ‡æ¢</td><td>ç”±æ¶²æ€ç»ç’ƒå¼€å…³ + æ˜¯å¦é•¿è¾ˆç‰ˆå†³å®šï¼Œé€šè¿‡é€šçŸ¥è‡ªåŠ¨åˆ·æ–°</td></tr><tr><td>iOS 26</td><td>æ¶²æ€ç»ç’ƒä½¿ç”¨ <code>UIGlassEffect</code> + æŸ“è‰²å±‚ï¼Œæš—é»‘ä¸‹é…åˆé˜´å½±ä¸æš—è‰²é€‰ä¸­æ§½</td></tr><tr><td>æ•°æ®</td><td>æ¥å£ â†’ TabBarModel/TabBarItemModel â†’ ä¸¤å¥— View åŒæ­¥æ›´æ–°ä¸é€‰ä¸­ç´¢å¼•</td></tr><tr><td>åŸ‹ç‚¹</td><td>ç‚¹å‡»/æ›å…‰å‡å¸¦ <code>liquidGlassState</code> åŒºåˆ† liquid / other</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RadioIndication çš„å†å² - HIDL æ—¶ä»£å°±å·²å­˜åœ¨]]></title>    <link>https://juejin.cn/post/7603444191447777314</link>    <guid>https://juejin.cn/post/7603444191447777314</guid>    <pubDate>2026-02-06T08:23:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191447777314" data-draft-id="7603383311530639375" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RadioIndication çš„å†å² - HIDL æ—¶ä»£å°±å·²å­˜åœ¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:23:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RadioIndication çš„å†å² - HIDL æ—¶ä»£å°±å·²å­˜åœ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:23:21.000Z" title="Fri Feb 06 2026 08:23:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€æ—¶é—´çº¿</h3>
<h4 data-id="heading-1">1. HIDL æ—¶ä»£ï¼ˆ2016å¹´èµ·ï¼‰</h4>
<p>RadioIndication åœ¨ HIDL æ—¶ä»£å°±å·²å­˜åœ¨ï¼Œä½œä¸º IRadioIndication æ¥å£çš„å®ç°ï¼š</p>
<pre><code class="hljs language-1.0/IRadioIndication.hal" lang="1.0/IRadioIndication.hal">package android.hardware.radio@1.0;

interface IRadioIndication {
    oneway radioStateChanged(RadioIndicationType type, RadioState radioState);
    oneway callStateChanged(RadioIndicationType type);
    oneway networkStateChanged(RadioIndicationType type);
    // ... æ›´å¤šå›è°ƒæ–¹æ³•
}
</code></pre>
<p>HIDL ç‰ˆæœ¬çš„ RadioIndication å®ç°ï¼ˆç”¨äºæµ‹è¯•ï¼‰ï¼š</p>
<pre><code class="hljs language-412:462:hardware_interfaces/radio/1.0/vts/functional/radio_hidl_hal_utils_v1_0.h" lang="412:462:hardware_interfaces/radio/1.0/vts/functional/radio_hidl_hal_utils_v1_0.h">class RadioIndication : public IRadioIndication {
   protected:
    RadioHidlTest&amp; parent;

   public:
    RadioIndication(RadioHidlTest&amp; parent);
    virtual ~RadioIndication() = default;

    Return&lt;void&gt; radioStateChanged(RadioIndicationType type, RadioState radioState);
    Return&lt;void&gt; callStateChanged(RadioIndicationType type);
    Return&lt;void&gt; networkStateChanged(RadioIndicationType type);
    Return&lt;void&gt; newSms(RadioIndicationType type, const hidl_vec&lt;uint8_t&gt;&amp; pdu);
    // ...
}
</code></pre>
<h4 data-id="heading-2">2. HIDL ç‰ˆæœ¬æ¼”è¿›</h4>
<p>ä» Android 7.0 åˆ° 12ï¼ŒHIDL æŒç»­æ¼”è¿›ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.0</span>  (<span class="hljs-number">2016</span>, Android <span class="hljs-number">7.0</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.1</span>  (<span class="hljs-number">2017</span>, Android <span class="hljs-number">8.0</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.2</span>  (<span class="hljs-number">2018</span>, Android <span class="hljs-number">9.0</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.3</span>  (<span class="hljs-number">2019</span>, Android <span class="hljs-number">10</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.4</span>  (<span class="hljs-number">2019</span>, Android <span class="hljs-number">10</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.5</span>  (<span class="hljs-number">2020</span>, Android <span class="hljs-number">11</span>)
<span class="hljs-symbol">IRadioIndication@</span><span class="hljs-number">1.6</span>  (<span class="hljs-number">2020</span>, Android <span class="hljs-number">12</span>)
</code></pre>
<h4 data-id="heading-3">3. AIDL æ—¶ä»£ï¼ˆä» Android 13 å¼€å§‹ï¼‰</h4>
<p>Android 13 å¼€å§‹è¿ç§»åˆ° AIDLï¼Œä½†ä¸ºäº†å…¼å®¹ï¼Œç³»ç»Ÿæä¾›äº†<strong>å…¼å®¹å±‚</strong>ï¼š</p>
<pre><code class="hljs language-33:243:hardware_interfaces/radio/aidl/compat/libradiocompat/include/libradiocompat/RadioIndication.h" lang="33:243:hardware_interfaces/radio/aidl/compat/libradiocompat/include/libradiocompat/RadioIndication.h">class RadioIndication : public V1_6::IRadioIndication {
    std::shared_ptr&lt;DriverContext&gt; mContext;

    // AIDL å›è°ƒæ¥å£
    GuaranteedCallback&lt;
        ::aidl::android::hardware::radio::data::IRadioDataIndication,
        ::aidl::android::hardware::radio::data::IRadioDataIndicationDefault, true&gt;
        mDataCb;
    GuaranteedCallback&lt;
        ::aidl::android::hardware::radio::messaging::IRadioMessagingIndication,
        ::aidl::android::hardware::radio::messaging::IRadioMessagingIndicationDefault, true&gt;
        mMessagingCb;
    // ... æ›´å¤š AIDL å›è°ƒæ¥å£
        
    // ç»§æ‰¿è‡ª HIDL V1.6 çš„æ–¹æ³•å®ç°
    Return&lt;void&gt; radioStateChanged(V1_0::RadioIndicationType type,
                                   V1_0::RadioState radioState) override;
    Return&lt;void&gt; callStateChanged(V1_0::RadioIndicationType type) override;
    // ...
}
</code></pre>
<h3 data-id="heading-4">äºŒã€HIDL vs AIDL çš„æ ¸å¿ƒåŒºåˆ«</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>HIDL</th><th>AIDL</th></tr></thead><tbody><tr><td><strong>å®šä¹‰è¯­è¨€</strong></td><td>HAL (Hardware Abstraction Language) - .halæ–‡ä»¶</td><td>Android Interface Definition Language - .aidlæ–‡ä»¶</td></tr><tr><td><strong>ç‰ˆæœ¬ç®¡ç†</strong></td><td>å†…ç½®ç‰ˆæœ¬æ§åˆ¶ (@1.0, @1.1, ...)</td><td>æ¥å£ç‰ˆæœ¬å­—ç¬¦ä¸²</td></tr><tr><td><strong>æ¨¡å—åˆ†è£‚</strong></td><td>å•ä¸€ IRadioIndication æ¥å£åŒ…å«æ‰€æœ‰å›è°ƒ</td><td>æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ¥å£ï¼š<br/>- IRadioDataIndication<br/>- IRadioMessagingIndication<br/>- IRadioModemIndication<br/>- IRadioNetworkIndication<br/>- IRadioSimIndication<br/>- IRadioVoiceIndication<br/>- IRadioImsIndication</td></tr><tr><td><strong>ç±»å‹ç³»ç»Ÿ</strong></td><td>C++ ä¸ºä¸»ï¼Œç±»å‹æ˜ å°„å¤æ‚</td><td>Java ä¸ºä¸»ï¼Œæ›´æ¸…æ™°çš„ç±»å‹å®šä¹‰</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>äºŒè¿›åˆ¶åè®®</td><td>åŸºäº Binder</td></tr></tbody></table>
<h3 data-id="heading-5">ä¸‰ã€Java å±‚çš„ RadioIndication</h3>
<p>åœ¨ Java å±‚ï¼Œåªæœ‰ <strong>ä¸€ä¸ª</strong> RadioIndication å®ç°ï¼ˆæ— è®º HIDL è¿˜æ˜¯ AIDLï¼‰ï¼š</p>
<pre><code class="hljs language-126:148:frameworks_opt_telephony/src/java/com/android/internal/telephony/RadioIndication.java" lang="126:148:frameworks_opt_telephony/src/java/com/android/internal/telephony/RadioIndication.java">public class RadioIndication extends IRadioIndication.Stub {
    RIL mRil;

    RadioIndication(RIL ril) {
        mRil = ril;
    }

    public void radioStateChanged(int indicationType, int radioState) {
        mRil.processIndication(HAL_SERVICE_RADIO, indicationType);
        int state = RILUtils.convertHalRadioState(radioState);
        mRil.setRadioState(state, false);
    }

    public void callStateChanged(int indicationType) {
        // ...
    }
    // ... æ‰€æœ‰å…¶ä»–å›è°ƒæ–¹æ³•
}
</code></pre>
<p>è¿™ä¸ª Java RadioIndication æ—¢å…¼å®¹ HIDL ç‰ˆæœ¬ï¼Œä¹Ÿå…¼å®¹ AIDL ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-6">å››ã€AIDL å…¼å®¹å±‚çš„ä½œç”¨</h3>
<p>åœ¨ AIDL æ—¶ä»£ï¼ŒC++ å…¼å®¹å±‚å°† HIDL æ¥å£é€‚é…åˆ° AIDLï¼š</p>
<pre><code class="hljs language-59:76:hardware_interfaces/radio/aidl/compat/libradiocompat/modem/RadioIndication-modem.cpp" lang="59:76:hardware_interfaces/radio/aidl/compat/libradiocompat/modem/RadioIndication-modem.cpp">Return&lt;void&gt; RadioIndication::radioStateChanged(V1_0::RadioIndicationType t, 
                                                 V1_0::RadioState st) {
    LOG_CALL &lt;&lt; t;
    // å°† HIDL çš„å›è°ƒè½¬å‘åˆ° AIDL çš„ mModemCb
    modemCb()-&gt;radioStateChanged(toAidl(t), aidl::RadioState(st));
    return {};
}

Return&lt;void&gt; RadioIndication::modemReset(V1_0::RadioIndicationType type, 
                                          const hidl_string&amp; reasn) {
    LOG_CALL &lt;&lt; type;
    modemCb()-&gt;modemReset(toAidl(type), reasn);
    return {};
}
</code></pre>
<h3 data-id="heading-7">äº”ã€RIL æŒ‡ç¤ºçš„æ¶æ„æ¼”å˜</h3>
<pre><code class="hljs language-css" lang="css">ã€HIDL æ—¶ä»£ã€‘                    ã€AIDL æ—¶ä»£ã€‘
IRadioIndication<span class="hljs-keyword">@1</span>.6      â†’      RadioIndication (å…¼å®¹å±‚)
â”œâ”€ IRadioIndication                  â”œâ”€ IRadioDataIndication
â”œâ”€ IRadioResponse                    â”œâ”€ IRadioMessagingIndication
â””â”€ IRadio                            â”œâ”€ IRadioModemIndication
                                     â”œâ”€ IRadioNetworkIndication
                                     â”œâ”€ IRadioSimIndication
                                     â”œâ”€ IRadioVoiceIndication
                                     â””â”€ IRadioImsIndication
</code></pre>
<h3 data-id="heading-8">æ€»ç»“</h3>
<ul>
<li><strong>RadioIndication æ˜¯ HIDL æ—¶ä»£çš„äº§ç‰©</strong>ï¼Œä» Android 7.0 å°±å¼€å§‹ä½¿ç”¨</li>
<li><strong>AIDL æ—¶ä»£æ²¡æœ‰"æ–°å¢"RadioIndication</strong>ï¼Œè€Œæ˜¯é€šè¿‡<strong>å…¼å®¹å±‚</strong>ç»§ç»­ä½¿ç”¨</li>
<li><strong>AIDL æ”¹å˜çš„æ˜¯å†…éƒ¨å®ç°å’Œæ¨¡å—åˆ†å‰²</strong>ï¼Œä½†å¯¹å¤–éƒ¨æ¥å£ï¼ˆJava RILï¼‰çš„å½±å“æœ€å°</li>
<li><strong>Java å±‚çš„ RadioIndication ä¿æŒä¸å˜</strong>ï¼Œæ—¢æ”¯æŒ HIDL ä¹Ÿæ”¯æŒ AIDL</li>
</ul>
<p>è¿™æ˜¯ Android HAL ä» HIDL è¿ç§»åˆ° AIDL çš„å…¸å‹æ¼”å˜æ–¹å¼â€”â€”é€šè¿‡å…¼å®¹å±‚ä¿è¯å‘åå…¼å®¹ï¼ŒåŒæ—¶æ–°ç³»ç»Ÿé‡‡ç”¨æ›´ç°ä»£çš„ AIDL æ¥å£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7603376587651792946</link>    <guid>https://juejin.cn/post/7603376587651792946</guid>    <pubDate>2026-02-06T08:04:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603376587651792946" data-draft-id="7603321550246772786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯åŠŸèƒ½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:04:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:04:06.000Z" title="Fri Feb 06 2026 08:04:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. <strong>åŠŸèƒ½å®šä¹‰å’ŒåŸç†</strong></h3>
<p>ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯æ˜¯ä¸€ä¸ªç³»ç»Ÿè®¾ç½®ï¼Œå®ƒå…è®¸ç§»åŠ¨æ•°æ®è¿æ¥åœ¨ WiFi ç­‰é«˜ä¼˜å…ˆçº§ç½‘ç»œæ´»è·ƒæ—¶<strong>ç»§ç»­ä¿æŒè¿æ¥å’Œæ´»è·ƒ</strong>ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å·¥ä½œæ¨¡å¼ï¼š

å…³é—­å§‹ç»ˆå¼€å¯ï¼š
<span class="hljs-built_in">WiFi</span> è¿æ¥ â†’ ç§»åŠ¨æ•°æ®è‡ªåŠ¨æ–­å¼€ âœ—
    
å¼€å¯å§‹ç»ˆå¼€å¯ï¼š
<span class="hljs-built_in">WiFi</span> è¿æ¥ + ç§»åŠ¨æ•°æ® â†’ éƒ½ä¿æŒè¿æ¥ âœ“
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>æ›´å¿«çš„ç½‘ç»œåˆ‡æ¢ï¼ˆä¸¤ä¸ªç½‘ç»œéƒ½æ´»è·ƒï¼‰</li>
<li>åº”ç”¨å¯ä»¥åœ¨ WiFi å’Œç§»åŠ¨æ•°æ®é—´çµæ´»åˆ‡æ¢</li>
<li>é™ä½ç½‘ç»œå»¶è¿Ÿå’Œä¸­æ–­</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. <strong>è®¾ç½®å­˜å‚¨ (ConnectivitySettingsManager)</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¸¸é‡å®šä¹‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MOBILE_DATA_ALWAYS_ON</span> <span class="hljs-operator">=</span> <span class="hljs-string">"mobile_data_always_on"</span>;

<span class="hljs-comment">// è¯»å–è®¾ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">getMobileDataAlwaysOn</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Context context, <span class="hljs-type">boolean</span> def)</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">enable</span> <span class="hljs-operator">=</span> Settings.Global.getInt(
            context.getContentResolver(), 
            MOBILE_DATA_ALWAYS_ON,      <span class="hljs-comment">// å…¨å±€è®¾ç½®é”®</span>
            (def ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>));              <span class="hljs-comment">// é»˜è®¤å€¼</span>
    <span class="hljs-keyword">return</span> (enable != <span class="hljs-number">0</span>) ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;
}

<span class="hljs-comment">// å†™å…¥è®¾ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMobileDataAlwaysOn</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Context context, <span class="hljs-type">boolean</span> enable)</span> {
    Settings.Global.putInt(
            context.getContentResolver(), 
            MOBILE_DATA_ALWAYS_ON, 
            (enable ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>));           <span class="hljs-comment">// 1 = å¼€å¯ï¼Œ0 = å…³é—­</span>
}
</code></pre>
<p><strong>å­˜å‚¨ä½ç½®ï¼š</strong></p>
<ul>
<li>æ•°æ®åº“ï¼š<code>Settings.Global</code>ï¼ˆç³»ç»Ÿå…¨å±€è®¾ç½®ï¼‰</li>
<li>é”®ï¼š<code>mobile_data_always_on</code></li>
<li>å€¼ï¼š0 (å…³é—­) æˆ– 1 (å¼€å¯)</li>
</ul>
<hr/>
<h3 data-id="heading-2">3. <strong>è¿æ¥æœåŠ¡å®ç° (ConnectivityService)</strong></h3>
<h4 data-id="heading-3"><strong>æ ¸å¿ƒç»„ä»¶</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç§»åŠ¨æ•°æ®çš„"å§‹ç»ˆå¼€å¯"ç½‘ç»œè¯·æ±‚</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> NetworkRequest mDefaultMobileDataRequest;

<span class="hljs-comment">// è¯¥è¯·æ±‚çš„ä¿¡æ¯</span>
<span class="hljs-comment">// å½“è®¾ç½®ä¸ºå¼€å¯æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚å§‹ç»ˆå­˜åœ¨</span>
<span class="hljs-comment">// å½“è®¾ç½®ä¸ºå…³é—­æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚è¢«æ’¤é”€</span>
</code></pre>
<h4 data-id="heading-4"><strong>åˆå§‹åŒ–æµç¨‹</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºç§»åŠ¨æ•°æ®çš„å§‹ç»ˆå¼€å¯è¯·æ±‚</span>
mDefaultMobileDataRequest = createDefaultInternetRequestForTransport(
        NetworkCapabilities.TRANSPORT_CELLULAR,    <span class="hljs-comment">// ä»… 4G/5G</span>
        NetworkRequest.Type.BACKGROUND_REQUEST);   <span class="hljs-comment">// åå°è¯·æ±‚</span>

<span class="hljs-comment">// åœ¨ç³»ç»Ÿå°±ç»ªæ—¶é…ç½®</span>
onSystemReady() {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-comment">// æ ¹æ®è®¾ç½®åˆ›å»ºç½‘ç»œè¯·æ±‚</span>
    mHandler.sendMessage(mHandler.obtainMessage(EVENT_CONFIGURE_ALWAYS_ON_NETWORKS));
}
</code></pre>
<h4 data-id="heading-5"><strong>è®¾ç½®ç›‘å¬</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerSettingsCallbacks</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ç›‘å¬ MOBILE_DATA_ALWAYS_ON è®¾ç½®å˜æ›´</span>
    mSettingsObserver.observe(
            Settings.Global.getUriFor(
                ConnectivitySettingsManager.MOBILE_DATA_ALWAYS_ON),
            EVENT_CONFIGURE_ALWAYS_ON_NETWORKS);  <span class="hljs-comment">// è§¦å‘é‡æ–°é…ç½®</span>
    
    <span class="hljs-comment">// ç›‘å¬ WiFi å§‹ç»ˆè¯·æ±‚è®¾ç½®</span>
    mSettingsObserver.observe(
            Settings.Global.getUriFor(
                ConnectivitySettingsManager.WIFI_ALWAYS_REQUESTED),
            EVENT_CONFIGURE_ALWAYS_ON_NETWORKS);
}
</code></pre>
<hr/>
<h3 data-id="heading-6">4. <strong>åŠ¨æ€é…ç½®æœºåˆ¶</strong></h3>
<h4 data-id="heading-7"><strong>é…ç½®å¤„ç† (handleConfigureAlwaysOnNetworks)</strong></h4>
<pre><code class="hljs language-scss" lang="scss">Setting æ”¹å˜
        â†“
EVENT_CONFIGURE_ALWAYS_ON_NETWORKS
        â†“
<span class="hljs-built_in">handleConfigureAlwaysOnNetworks</span>()
        â”œâ”€ æ£€æŸ¥ MOBILE_DATA_ALWAYS_ON è®¾ç½®å€¼
        â”œâ”€ æ£€æŸ¥ WIFI_ALWAYS_REQUESTED è®¾ç½®å€¼
        â””â”€ æ£€æŸ¥ config_vehicleInternalNetworkAlwaysRequested é…ç½®å€¼
</code></pre>
<p><strong>æ ¸å¿ƒä»£ç ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleConfigureAlwaysOnNetworks</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å¤„ç†ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯</span>
    handleAlwaysOnNetworkRequest(
            mDefaultMobileDataRequest,
            ConnectivitySettingsManager.MOBILE_DATA_ALWAYS_ON, 
            <span class="hljs-literal">true</span> <span class="hljs-comment">/* defaultValue */</span>);      <span class="hljs-comment">// é»˜è®¤å¼€å¯</span>
    
    <span class="hljs-comment">// å¤„ç† WiFi å§‹ç»ˆè¯·æ±‚</span>
    handleAlwaysOnNetworkRequest(
            mDefaultWifiRequest,
            ConnectivitySettingsManager.WIFI_ALWAYS_REQUESTED,
            <span class="hljs-literal">false</span> <span class="hljs-comment">/* defaultValue */</span>);     <span class="hljs-comment">// é»˜è®¤å…³é—­</span>
    
    <span class="hljs-comment">// å¤„ç†è½¦è¾†å†…éƒ¨ç½‘ç»œ</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">vehicleAlwaysRequested</span> <span class="hljs-operator">=</span> mResources.get().getBoolean(
            R.bool.config_vehicleInternalNetworkAlwaysRequested);
    handleAlwaysOnNetworkRequest(mDefaultVehicleRequest, vehicleAlwaysRequested);
}
</code></pre>
<hr/>
<h3 data-id="heading-8">5. <strong>ç½‘ç»œè¯·æ±‚ç®¡ç†</strong></h3>
<h4 data-id="heading-9"><strong>å¯ç”¨å§‹ç»ˆå¼€å¯ (è®¾ç½® ON)</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleAlwaysOnNetworkRequest</span><span class="hljs-params">(
        NetworkRequest networkRequest, 
        <span class="hljs-type">boolean</span> enable)</span> {
    
    <span class="hljs-comment">// æ£€æŸ¥è¯·æ±‚æ˜¯å¦å·²å­˜åœ¨</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isEnabled</span> <span class="hljs-operator">=</span> (mNetworkRequests.get(networkRequest) != <span class="hljs-literal">null</span>);
    
    <span class="hljs-comment">// å¦‚æœçŠ¶æ€å·²åŒ¹é…ï¼Œæ— éœ€æ“ä½œ</span>
    <span class="hljs-keyword">if</span> (enable == isEnabled) {
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// å¯ç”¨ï¼šæ³¨å†Œç½‘ç»œè¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (enable) {
        handleRegisterNetworkRequest(<span class="hljs-keyword">new</span> <span class="hljs-title class_">NetworkRequestInfo</span>(
                Process.myUid(),
                networkRequest,
                <span class="hljs-literal">null</span> <span class="hljs-comment">/* messenger */</span>,
                <span class="hljs-literal">null</span> <span class="hljs-comment">/* binder */</span>,
                NetworkCallback.FLAG_INCLUDE_LOCATION_INFO,
                <span class="hljs-literal">null</span> <span class="hljs-comment">/* attributionTags */</span>));
    } 
    <span class="hljs-comment">// ç¦ç”¨ï¼šé‡Šæ”¾ç½‘ç»œè¯·æ±‚</span>
    <span class="hljs-keyword">else</span> {
        handleReleaseNetworkRequest(
                networkRequest, 
                Process.SYSTEM_UID,
                <span class="hljs-literal">false</span> <span class="hljs-comment">/* callOnUnavailable */</span>);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-10">6. <strong>å®Œæ•´æ‰§è¡Œæµç¨‹</strong></h3>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·æ‰“å¼€è®¾ç½®
        â†“
æ›´æ”¹ MOBILE_DATA_ALWAYS_ON ä¸º ON
        â†“
è°ƒç”¨ ConnectivitySettingsManager<span class="hljs-selector-class">.setMobileDataAlwaysOn</span>()
        â†“
Settings<span class="hljs-selector-class">.Global</span> æ•°æ®åº“æ›´æ–°
        â†“
ContentObserver æ£€æµ‹åˆ°å˜æ›´
        â†“
å‘é€ EVENT_CONFIGURE_ALWAYS_ON_NETWORKS
        â†“
<span class="hljs-built_in">handleConfigureAlwaysOnNetworks</span>()
        â†“
<span class="hljs-built_in">handleAlwaysOnNetworkRequest</span>(mDefaultMobileDataRequest, true)
        â†“
<span class="hljs-built_in">handleRegisterNetworkRequest</span>()
        â†“
åœ¨ç½‘ç»œç®¡ç†ä¸­æ³¨å†Œ "CELLULAR + INTERNET" è¯·æ±‚
        â†“
ConnectivityService ç¡®ä¿ç§»åŠ¨æ•°æ®ç½‘ç»œå§‹ç»ˆæ´»è·ƒ
        â†“
å³ä½¿ WiFi è¿æ¥ï¼Œç§»åŠ¨æ•°æ®ä»ä¿æŒæ´»è·ƒ âœ“
</code></pre>
<hr/>
<h3 data-id="heading-11">7. <strong>ç½‘ç»œè¯·æ±‚ç±»å‹è¯¦è§£</strong></h3>
<h4 data-id="heading-12"><strong>mDefaultMobileDataRequest çš„ç‰¹æ€§</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºå§‹ç»ˆå¼€å¯è¯·æ±‚</span>
<span class="hljs-keyword">private</span> NetworkRequest <span class="hljs-title function_">createDefaultInternetRequestForTransport</span><span class="hljs-params">(
        <span class="hljs-type">int</span> transportType, 
        NetworkRequest.Type type)</span> {
    
    <span class="hljs-keyword">final</span> <span class="hljs-type">NetworkCapabilities</span> <span class="hljs-variable">netCap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NetworkCapabilities</span>();
    netCap.clearAll();
    netCap.addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET);
    netCap.addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR);  <span class="hljs-comment">// ä»…ç§»åŠ¨æ•°æ®</span>
    netCap.setRequestorUidAndPackageName(Process.myUid(), mContext.getPackageName());
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NetworkRequest</span>(netCap, TYPE_NONE, nextNetworkRequestId(), type);
}

<span class="hljs-comment">// ç½‘ç»œè¯·æ±‚ç‰¹æ€§ï¼š</span>
<span class="hljs-comment">// - ç±»å‹ï¼šBACKGROUND_REQUESTï¼ˆåå°è¯·æ±‚ï¼‰</span>
<span class="hljs-comment">// - ä¼˜å…ˆçº§ï¼šä½ï¼ˆä¸ä¼šæŠ¢å ç”¨æˆ·è¯·æ±‚ï¼‰</span>
<span class="hljs-comment">// - æŒä¹…æ€§ï¼šå§‹ç»ˆå­˜åœ¨ï¼ˆå½“è®¾ç½®å¼€å¯æ—¶ï¼‰</span>
<span class="hljs-comment">// - ä½œç”¨ï¼šä¿æŒç§»åŠ¨æ•°æ®ç½‘ç»œè¿æ¥</span>
</code></pre>
<hr/>
<h3 data-id="heading-13">8. <strong>ä¸å…¶ä»–åŠŸèƒ½çš„å…³ç³»</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯
        â”‚
        â”œâ”€ <span class="hljs-built_in">WiFi</span> å§‹ç»ˆè¯·æ±‚ (WIFI_ALWAYS_REQUESTED)
        â”‚   â”œâ”€ ç±»ä¼¼æœºåˆ¶ï¼Œç”¨äº <span class="hljs-built_in">WiFi</span> ç½‘ç»œ
        â”‚   â””â”€ ä¼˜å…ˆçº§ï¼š<span class="hljs-built_in">WiFi</span> &gt; ç§»åŠ¨æ•°æ®
        â”‚
        â”œâ”€ ç½‘ç»œè¯·æ±‚ (NetworkRequest)
        â”‚   â”œâ”€ åº”ç”¨å¯ä»¥å‘èµ·è‡ªå·±çš„ç½‘ç»œè¯·æ±‚
        â”‚   â””â”€ ç³»ç»ŸåŸºäºä¼˜å…ˆçº§é€‰æ‹©æœ€ä¼˜ç½‘ç»œ
        â”‚
        â””â”€ ç½‘ç»œåˆ‡æ¢ (Network Switching)
            â”œâ”€ ä¸¤ä¸ªç½‘ç»œéƒ½æ´»è·ƒæ—¶æ›´å¿«åˆ‡æ¢
            â””â”€ åº”ç”¨å¯ä»¥åœ¨ <span class="hljs-built_in">WiFi</span>/ç§»åŠ¨æ•°æ®é—´çµæ´»é€‰æ‹©
</code></pre>
<hr/>
<h3 data-id="heading-14">9. <strong>å®é™…å·¥ä½œæµç¨‹å›¾</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">ç½‘ç»œçŠ¶æ€å˜åŒ–æ—¶åºï¼š

äº‹ä»¶ <span class="hljs-number">1</span>ï¼šåªæœ‰ç§»åŠ¨æ•°æ®è¿æ¥
ç§»åŠ¨æ•°æ®æ´»è·ƒ â†’ åº”ç”¨ä½¿ç”¨ç§»åŠ¨æ•°æ® âœ“

äº‹ä»¶ <span class="hljs-number">2</span>ï¼š<span class="hljs-built_in">WiFi</span> è¿æ¥ä¸Š
â”‚
â”œâ”€ ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯ = OFF
â”‚   â†’ ç§»åŠ¨æ•°æ®æ–­å¼€ âœ—
â”‚   â†’ åº”ç”¨åˆ‡æ¢åˆ° <span class="hljs-built_in">WiFi</span> âœ“
â”‚   â†’ ç½‘ç»œåˆ‡æ¢å»¶è¿Ÿè¾ƒå¤§
â”‚
â””â”€ ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯ = ON
    â†’ ç§»åŠ¨æ•°æ®ä¿æŒè¿æ¥ âœ“
    â†’ <span class="hljs-built_in">WiFi</span> ä¹Ÿè¿æ¥ âœ“
    â†’ åº”ç”¨å¯ç¬é—´åœ¨ä¸¤ç½‘é—´åˆ‡æ¢ âœ“
    â†’ ç½‘ç»œåˆ‡æ¢å»¶è¿Ÿæå°

äº‹ä»¶ <span class="hljs-number">3</span>ï¼š<span class="hljs-built_in">WiFi</span> æ–­å¼€
â”‚
â”œâ”€ ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯ = OFF
â”‚   â†’ ç§»åŠ¨æ•°æ®å·²æ–­å¼€ï¼Œéœ€é‡æ–°è¿æ¥
â”‚   â†’ æ¢å¤å»¶è¿Ÿï¼š<span class="hljs-number">1</span><span class="hljs-number">-3</span> ç§’
â”‚
â””â”€ ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯ = ON
    â†’ ç§»åŠ¨æ•°æ®å·²ä¿æŒè¿æ¥
    â†’ æ¢å¤å»¶è¿Ÿï¼šå‡ æ¯«ç§’ âœ“
</code></pre>
<hr/>
<h3 data-id="heading-15">10. <strong>æ€§èƒ½å’Œç”µæ± å½±å“</strong></h3>























<table><thead><tr><th>è®¾ç½®çŠ¶æ€</th><th>ç”µæ± æ¶ˆè€—</th><th>ç½‘ç»œå»¶è¿Ÿ</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>å…³é—­</strong></td><td>â¬‡ï¸ ä½</td><td>â¬†ï¸ é«˜ï¼ˆéœ€é‡è¿ï¼‰</td><td>çœç”µï¼Œå¶å°”ä½¿ç”¨</td></tr><tr><td><strong>å¼€å¯</strong></td><td>â¬†ï¸ ä¸­ç­‰</td><td>â¬‡ï¸ ä½ï¼ˆå·²è¿æ¥ï¼‰</td><td>å®æ—¶åº”ç”¨ï¼Œè§†é¢‘é€šè¯</td></tr></tbody></table>
<p><strong>ç”µæ± æ¶ˆè€—ä¸»è¦æ¥è‡ªï¼š</strong></p>
<ul>
<li>ä¿æŒæ— çº¿ç”µæ´»è·ƒ</li>
<li>å®šæœŸä¿¡å·å¼ºåº¦æŸ¥è¯¢</li>
<li>ç½‘ç»œæ•°æ®åŒ…ä¿æ´»</li>
</ul>
<hr/>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>ç§»åŠ¨æ•°æ®å§‹ç»ˆå¼€å¯æ˜¯ä¸€ä¸ª<strong>æ™ºèƒ½ç½‘ç»œç®¡ç†</strong>åŠŸèƒ½ï¼š</p>
<ol>
<li><strong>å­˜å‚¨å±‚</strong>ï¼šå…¨å±€è®¾ç½® <code>MOBILE_DATA_ALWAYS_ON</code></li>
<li><strong>ç›‘å¬å±‚</strong>ï¼šContentObserver ç›‘æµ‹è®¾ç½®å˜æ›´</li>
<li><strong>è¯·æ±‚å±‚</strong>ï¼šé€šè¿‡ NetworkRequest æœºåˆ¶å‘ ConnectivityService æ³¨å†Œè¯·æ±‚</li>
<li><strong>æ‰§è¡Œå±‚</strong>ï¼šConnectivityService ç¡®ä¿ç§»åŠ¨ç½‘ç»œå§‹ç»ˆæ´»è·ƒ</li>
<li><strong>ç»“æœ</strong>ï¼šWiFi å’Œç§»åŠ¨æ•°æ®å¯åŒæ—¶è¿æ¥ï¼Œåº”ç”¨å¯æ— ç¼åˆ‡æ¢</li>
</ol>
<p>è¿™ä¸ªè®¾è®¡ä½“ç°äº† Android ç³»ç»Ÿ<strong>æ¨¡å—åŒ–ã€äº‹ä»¶é©±åŠ¨</strong>çš„æ¶æ„ç‰¹ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…å­¦è¿›ç¨‹é—´é€šä¿¡4(Android Binder)]]></title>    <link>https://juejin.cn/post/7603301285475778602</link>    <guid>https://juejin.cn/post/7603301285475778602</guid>    <pubDate>2026-02-06T07:18:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603301285475778602" data-draft-id="7594682922685005833" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…å­¦è¿›ç¨‹é—´é€šä¿¡4(Android Binder)"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-06T07:18:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç…¤çƒç‹å­"/> <meta itemprop="url" content="https://juejin.cn/user/4088439235949739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…å­¦è¿›ç¨‹é—´é€šä¿¡4(Android Binder)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088439235949739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç…¤çƒç‹å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T07:18:21.000Z" title="Fri Feb 06 2026 07:18:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Binder çš„åŸºæœ¬åŸç†</h2>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šä»‹ç»Binderçš„æ–‡ç« ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»ï¼Œ
é¦–å…ˆè¦æ˜ç¡®ä¸€ç‚¹ <code>Binder æ˜¯ä¸€ä¸ª RPCï¼ˆRemote Procedure Callï¼‰ æ¡†æ¶</code>ï¼Œä¹Ÿå°±æ˜¯è¯´å€ŸåŠ©äº Binderï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ A è¿›ç¨‹ä¸­è®¿é—® B è¿›ç¨‹ä¸­çš„å‡½æ•°</p>
<blockquote>
<p>RPC ä¸€èˆ¬åŸºäº IPCï¼ˆInter-Process Communicationï¼‰ æ¥å®ç°çš„ï¼ŒIPC å°±æ˜¯è·¨è¿›ç¨‹æ•°æ®ä¼ è¾“(é€šä¿¡)</p>
</blockquote>
<p>Binder çš„ RPC æ˜¯å¦‚ä½•å®ç°çš„ï¼š</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒA è¿›ç¨‹è®¿é—® B è¿›ç¨‹å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<ul>
<li>
<p>åœ¨ A è¿›ç¨‹ä¸­æŒ‰ç…§å›ºå®šçš„è§„åˆ™æ‰“åŒ…æ•°æ®ï¼Œè¿™äº›æ•°æ®åŒ…å«äº†ï¼š</p>
<ul>
<li>æ•°æ®å‘ç»™é‚£ä¸ªè¿›ç¨‹ï¼ŒBinder ä¸­æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ Handle</li>
<li>è¦è°ƒç”¨ç›®æ ‡è¿›ç¨‹ä¸­çš„é‚£ä¸ªå‡½æ•°ï¼ŒBinder ä¸­ç”¨ä¸€ä¸ªæ•´å‹å˜é‡ Code è¡¨ç¤º</li>
<li>ç›®æ ‡å‡½æ•°çš„å‚æ•°</li>
<li>è¦æ‰§è¡Œå…·ä½“ä»€ä¹ˆæ“ä½œï¼Œä¹Ÿå°±æ˜¯ Binder åè®®</li>
</ul>
</li>
<li>
<p>è¿›ç¨‹ B æ”¶åˆ°æ•°æ®ï¼ŒæŒ‰ç…§å›ºå®šçš„æ ¼å¼è§£æå‡ºæ•°æ®ï¼Œè°ƒç”¨å‡½æ•°ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„æ ¼å¼å°†å‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™è¿›ç¨‹ Aã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17f684abd3e44907bad7316e8bde9f5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770967184&amp;x-signature=YCGXQwm3Q0bwTctYdZ9grZ2ORQk%3D" alt="binder_rpc.png" loading="lazy"/></p>
<h2 data-id="heading-1">Binder åº”ç”¨å±‚å·¥ä½œæµç¨‹</h2>
<p>Binder æ˜¯ä¸€ä¸ªÂ <strong>RPC</strong>ï¼ˆRemote Procedure Callï¼‰ æ¡†æ¶ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯<strong>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ Binderï¼š</p>
<ul>
<li>å¯ä»¥åœ¨ A è¿›ç¨‹ä¸­è®¿é—® B è¿›ç¨‹ä¸­å®šä¹‰çš„å‡½æ•°</li>
<li>è¿›ç¨‹ B ä¸­çš„è¿™äº›ç­‰å¾…ç€è¢«è¿œç¨‹è°ƒç”¨çš„å‡½æ•°çš„é›†åˆï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºÂ Binder æœåŠ¡ï¼ˆBinder Serviceï¼‰</li>
<li>è¿›ç¨‹ A ç§°ä¹‹ä¸ºÂ <strong><code>Binder å®¢æˆ·ç«¯ï¼ˆBinder Clientï¼‰</code></strong> ï¼Œè¿›ç¨‹ B ç§°ä¹‹ä¸ºÂ <strong><code>Binder æœåŠ¡ç«¯ï¼ˆBinder Serverï¼‰</code></strong></li>
<li>é€šå¸¸ï¼Œç³»ç»Ÿä¸­çš„æœåŠ¡å¾ˆå¤šï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®¡å®¶æ¥ç®¡ç†å®ƒä»¬ï¼Œ<strong><code>æœåŠ¡ç®¡å®¶ï¼ˆServiceManagerï¼‰</code></strong> Â æ˜¯ Android ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œå¯åŠ¨çš„ä¸€ä¸ªç”¨äºç®¡ç†Â <strong>Binder æœåŠ¡ï¼ˆBinder Serviceï¼‰</strong> Â çš„è¿›ç¨‹ã€‚é€šå¸¸ï¼Œ<strong>æœåŠ¡ï¼ˆServiceï¼‰</strong> Â éœ€è¦äº‹å…ˆæ³¨å†Œåˆ°<strong>æœåŠ¡ç®¡å®¶ï¼ˆServiceManagerï¼‰</strong> ï¼Œå…¶ä»–è¿›ç¨‹å‘<strong>æœåŠ¡ç®¡å®¶ï¼ˆServiceManagerï¼‰</strong> Â æŸ¥è¯¢æœåŠ¡åæ‰èƒ½ä½¿ç”¨æœåŠ¡ã€‚</li>
<li>Binder çš„ RPC èƒ½åŠ›é€šè¿‡Â **<code>Binder é©±åŠ¨</code>**å®ç°</li>
</ul>
<p>é€šå¸¸ä¸€ä¸ªå®Œæ•´çš„ Binder ç¨‹åºæ¶‰åŠ 4 ä¸ªæµç¨‹ï¼š</p>
<ol>
<li>åœ¨ Binder Server ç«¯å®šä¹‰å¥½æœåŠ¡</li>
<li>ç„¶åå‘ ServiceManager æ³¨å†ŒæœåŠ¡</li>
<li>åœ¨ Binder Client ä¸­å‘ ServiceManager è·å–åˆ°æœåŠ¡</li>
<li>å‘èµ·è¿œç¨‹è°ƒç”¨ï¼Œè°ƒç”¨ Binder Server ä¸­å®šä¹‰å¥½çš„æœåŠ¡</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/630bdb0c07ba4eeaaefa95872029f67e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770967184&amp;x-signature=vhbxb60eJG6SAgRoEXWIUBv2ZG8%3D" alt="binderæ¦‚å›¾.png" loading="lazy"/></p>
<p>å­¦ä¹ ä¸å‚è€ƒ: <a href="https://link.juejin.cn?target=http%3A%2F%2Fahaoframework.tech%2Fpages%2F062131%2F%23_1-2-rpc-%25E5%258E%259F%25E7%2590%2586" target="_blank" title="http://ahaoframework.tech/pages/062131/#_1-2-rpc-%E5%8E%9F%E7%90%86" ref="nofollow noopener noreferrer">002.Binder åŸºæœ¬åŸç† | Ahao's Technical Blog</a></p>
<h2 data-id="heading-2">AIDLï¼ˆAndroid Interface Definition Languageï¼‰</h2>
<p><code>AIDL</code>(å®‰å“æ¥å£å®šä¹‰è¯­è¨€) æ˜¯ Android ä¸­æœ€å¸¸ç”¨çš„è·¨è¿›ç¨‹é€šä¿¡æœºåˆ¶ï¼Œä¸»è¦ç”¨äºåº”ç”¨å±‚è¿›ç¨‹é—´çš„é€šä¿¡ã€‚</p>
<p><strong>ä¸»è¦ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>åº”ç”¨å±‚IPC</strong>ï¼šä¸»è¦ç”¨äºåº”ç”¨ä¹‹é—´çš„é€šä¿¡</li>
<li><strong>åŸºäºBinder</strong>ï¼šåº•å±‚ä½¿ç”¨ Binder æœºåˆ¶</li>
<li><strong>æ”¯æŒå¤æ‚æ•°æ®ç±»å‹</strong>ï¼šåŸºæœ¬ç±»å‹ã€Stringã€Listã€Mapã€Parcelable å¯¹è±¡ç­‰</li>
<li><strong>åŒæ­¥/å¼‚æ­¥è°ƒç”¨</strong>ï¼šé»˜è®¤åŒæ­¥ï¼Œå¯é€šè¿‡ oneway å®ç°å¼‚æ­¥</li>
</ul>
<p>Androidçš„AIDLï¼ˆAndroidæ¥å£å®šä¹‰è¯­è¨€ï¼‰æ˜¯ä¸€å¥—å®Œæ•´çš„è·¨è¿›ç¨‹é€šä¿¡APIä½“ç³»ã€‚å®ƒä¸ä»…æ”¯æŒåŸºç¡€æ•°æ®ç±»å‹å’Œæ¥å£å›è°ƒï¼Œè¿˜æä¾›äº†åŒæ­¥/å¼‚æ­¥è°ƒç”¨ã€æƒé™æ§åˆ¶ã€æœåŠ¡ç®¡ç†ç­‰ä¸€ç³»åˆ—æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<h2 data-id="heading-3"><strong>æ ¸å¿ƒAPIä¸å…³é”®æ¦‚å¿µ</strong></h2>
<p>ä¸‹è¡¨ä¸ºä½ æ¢³ç†äº†AIDLçš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š</p>



















































































































<table><thead><tr><th align="left">æ¨¡å—</th><th align="left">ä¸»è¦API/æ¦‚å¿µ</th><th align="left">è¯´æ˜ä¸ç”¨é€”</th></tr></thead><tbody><tr><td align="left"><strong>1. æ¥å£å®šä¹‰</strong></td><td align="left"><strong>AIDLæ–‡ä»¶</strong> (<code>.aidl</code>)</td><td align="left">ä½¿ç”¨AIDLè¯­æ³•å£°æ˜è·¨è¿›ç¨‹çš„æ¥å£å¥‘çº¦ã€‚</td></tr><tr><td align="left"><strong>2. æ ¸å¿ƒé€šä¿¡å¯¹è±¡</strong></td><td align="left"><strong><code>IBinder</code></strong></td><td align="left">æ‰€æœ‰IPCé€šä¿¡çš„åº•å±‚å¥æŸ„ã€‚<code>Service.onBind</code>è¿”å›å®ƒã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>IInterface</code></strong></td><td align="left">æ‰€æœ‰AIDLæ¥å£çš„æ ¹åŸºï¼Œå®šä¹‰äº†ä¸<code>IBinder</code>äº¤äº’çš„èƒ½åŠ›ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>Binder</code> ç±»</strong></td><td align="left">æœåŠ¡ç«¯çš„åŸºç±»ï¼Œå®ç°äº†<code>IBinder</code>ï¼Œç”¨äºå¤„ç†è¿œç¨‹è°ƒç”¨ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>Stub</code> ç±»</strong> (æŠ½è±¡ç±»)</td><td align="left">ç”±AIDLç¼–è¯‘å™¨ç”Ÿæˆçš„æœåŠ¡å™¨å­˜æ ¹ï¼Œç»§æ‰¿è‡ª<code>Binder</code>å¹¶å®ç°ä¸»æ¥å£ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>Proxy</code> ç±»</strong> (å†…éƒ¨ç±»)</td><td align="left">ç”±AIDLç¼–è¯‘å™¨ç”Ÿæˆçš„å®¢æˆ·ç«¯ä»£ç†ï¼Œå°è£…äº†è·¨è¿›ç¨‹è°ƒç”¨åºåˆ—åŒ–é€»è¾‘ã€‚</td></tr><tr><td align="left"><strong>3. ç±»å‹ç³»ç»Ÿ</strong></td><td align="left"><strong>åŸºæœ¬ç±»å‹</strong></td><td align="left"><code>int</code>, <code>long</code>, <code>char</code>, <code>boolean</code>, <code>double</code>, <code>byte</code>, <code>float</code>ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>String</code></strong></td><td align="left">å­—ç¬¦ä¸²ï¼Œæ”¯æŒUTF-8ç¼–ç ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>CharSequence</code></strong></td><td align="left">å¯ç›´æ¥ä¼ é€’<code>SpannableString</code>ç­‰ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>Parcelable</code></strong></td><td align="left">é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œè‡ªå®šä¹‰å¯åºåˆ—åŒ–çš„å¤æ‚å¯¹è±¡ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>List</code> / <code>Map</code></strong></td><td align="left">é›†åˆç±»å‹ï¼Œå…¶å…ƒç´ å¿…é¡»ä¸ºAIDLæ”¯æŒçš„ç±»å‹ã€‚</td></tr><tr><td align="left"/><td align="left"><strong>å®šå‘Tag</strong></td><td align="left"><code>in</code>(è¾“å…¥), <code>out</code>(è¾“å‡º), <code>inout</code>(åŒå‘)ï¼Œä¿®é¥°éåŸºæœ¬ç±»å‹å‚æ•°ã€‚</td></tr><tr><td align="left"><strong>4. æ¥å£å›è°ƒ</strong></td><td align="left"><strong><code>RemoteCallbackList</code></strong></td><td align="left">ç”¨äºåœ¨æœåŠ¡ç«¯å®‰å…¨åœ°ç®¡ç†å¹¶å›è°ƒå¤šä¸ªå®¢æˆ·ç«¯ç›‘å¬å™¨ã€‚</td></tr><tr><td align="left"><strong>5. è°ƒç”¨æ¨¡å¼</strong></td><td align="left"><strong>åŒæ­¥è°ƒç”¨</strong></td><td align="left">é»˜è®¤æ¨¡å¼ï¼Œå®¢æˆ·ç«¯çº¿ç¨‹ä¼šé˜»å¡ç›´è‡³æœåŠ¡ç«¯è¿”å›ã€‚</td></tr><tr><td align="left"/><td align="left"><strong>å¼‚æ­¥è°ƒç”¨</strong></td><td align="left">ä½¿ç”¨<code>oneway</code>å…³é”®å­—ä¿®é¥°æ¥å£æ–¹æ³•ï¼Œè°ƒç”¨ä¸é˜»å¡ã€‚</td></tr><tr><td align="left"><strong>6. å¼‚å¸¸å¤„ç†</strong></td><td align="left"><strong><code>RemoteException</code></strong></td><td align="left">æ‰€æœ‰è·¨è¿›ç¨‹è°ƒç”¨éƒ½å¯èƒ½æŠ›å‡ºçš„æ ¹å¼‚å¸¸ï¼Œå¦‚è¿›ç¨‹æ­»äº¡ã€é€šä¿¡å¤±è´¥ç­‰ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>SecurityException</code></strong></td><td align="left">ç»‘å®šæœåŠ¡æˆ–è°ƒç”¨æ—¶ï¼Œæƒé™æ ¡éªŒå¤±è´¥ä¼šæŠ›å‡ºã€‚</td></tr><tr><td align="left"><strong>7. æœåŠ¡ç»‘å®š</strong></td><td align="left"><strong><code>Service</code></strong></td><td align="left">æ‰¿è½½AIDLæ¥å£çš„æœåŠ¡ç»„ä»¶ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>ServiceConnection</code></strong></td><td align="left">å®¢æˆ·ç«¯ç”¨äºç›‘å¬ä¸æœåŠ¡çš„è¿æ¥çŠ¶æ€ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>bindService()</code> / <code>unbindService()</code></strong></td><td align="left">ç»‘å®šä¸è§£ç»‘æœåŠ¡çš„æ–¹æ³•ã€‚</td></tr><tr><td align="left"/><td align="left"><strong><code>Context.BIND_AUTO_CREATE</code></strong></td><td align="left">ç»‘å®šæ ‡å¿—ï¼ŒæœåŠ¡ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºã€‚</td></tr></tbody></table>
<h3 data-id="heading-4">ğŸ’» <strong>æ·±åº¦è§£æä¸æœ€ä½³å®è·µ</strong></h3>
<h4 data-id="heading-5"><strong>1. é€šä¿¡æ ¸å¿ƒï¼šBinderã€Stubä¸Proxy</strong></h4>
<p>è¿™æ˜¯AIDLå·¥ä½œçš„åŸºçŸ³ã€‚æœåŠ¡ç«¯å®ç° <code>Stub</code>ï¼Œå®¢æˆ·ç«¯é€šè¿‡ <code>Proxy</code> è°ƒç”¨ï¼Œä¸¤è€…é€šè¿‡Binderé©±åŠ¨è¿›è¡Œæ•°æ®äº¤æ¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœåŠ¡ç«¯å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> IMyService.<span class="hljs-type">Stub</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IMyService</span>.Stub() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> <span class="hljs-keyword">throws</span> RemoteException {
            <span class="hljs-keyword">return</span> a + b;
        }
    };
    
  <span class="hljs-meta">@Override</span> 
  <span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">onBind</span><span class="hljs-params">(Intent intent)</span> { 
      <span class="hljs-keyword">return</span> binder; 
  }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®¢æˆ·ç«¯è°ƒç”¨</span>
<span class="hljs-type">ServiceConnection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceConnection</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onServiceConnected</span><span class="hljs-params">(ComponentName name, IBinder service)</span> {
        <span class="hljs-comment">// å…³é”®ï¼šå°†IBinderè½¬æ¢ä¸ºæ¥å£ä»£ç†å¯¹è±¡</span>
        <span class="hljs-type">IMyService</span> <span class="hljs-variable">myService</span> <span class="hljs-operator">=</span> IMyService.Stub.asInterface(service);
        myService.calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>);
    }
};
</code></pre>
<h4 data-id="heading-6">2. é«˜çº§æ•°æ®ç±»å‹ä¸æ–¹å‘Tag</h4>
<p><strong>Parcelable</strong> æ˜¯å®ç°å¤æ‚æ•°æ®ä¼ è¾“çš„å…³é”®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰ Parcelable æ•°æ®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Parcelable</span> {
    <span class="hljs-keyword">public</span> String name;
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> id;
    <span class="hljs-comment">// ... å¿…é¡»å®ç° writeToParcel, describeContents, CREATOR</span>
}

<span class="hljs-comment">// 2. ä¸º Parcelable åˆ›å»ºå¯¹åº”çš„ .aidl æ–‡ä»¶ (User.aidl)</span>
<span class="hljs-comment">// parcelable User;</span>

<span class="hljs-comment">// 3. åœ¨æ¥å£AIDLä¸­å¼•ç”¨</span>
<span class="hljs-comment">// import com.example.User; // æ˜¾å¼å¯¼å…¥</span>
<span class="hljs-comment">// void updateUser(in User user);</span>
</code></pre>
<p><strong>æ–¹å‘Tag (<code>in</code>, <code>out</code>, <code>inout</code>)</strong> ç›´æ¥å½±å“æ€§èƒ½å’Œé€»è¾‘ï¼š</p>
<ul>
<li><code>in</code>ï¼šæ•°æ®ä»å®¢æˆ·ç«¯æµå‘æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿®æ”¹ä¸ä¼šå½±å“å®¢æˆ·ç«¯å¯¹è±¡ã€‚</li>
<li><code>out</code>ï¼šå¯¹è±¡ä»æœåŠ¡ç«¯â€œè¿”å›â€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯ä¼ å…¥çš„å¯¹è±¡å­—æ®µä¸ä¼šè¢«å‘é€ï¼Œä½†æœåŠ¡ç«¯å¯ä»¥åˆ›å»ºæˆ–ä¿®æ”¹å¯¹è±¡å¹¶ä¼ å›ã€‚</li>
<li><code>inout</code>ï¼šåŒå‘ä¼ è¾“ï¼Œå¼€é”€æœ€å¤§ï¼Œåº”è°¨æ…ä½¿ç”¨ã€‚
æ–¹å‘ä¿®é¥°ç¬¦ï¼ˆä»…å¯¹ â€œéåŸºæœ¬ç±»å‹ &amp; é String/CharSequenceâ€ å‚æ•°ç”Ÿæ•ˆï¼‰</li>
</ul>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printUser</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> User u</span>)</span>; <span class="hljs-comment">// å®¢æˆ·ç«¯æŠŠ User åºåˆ—åŒ–ä¼ è¿‡æ¥  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fillUser</span>(<span class="hljs-params"><span class="hljs-keyword">out</span> User u</span>)</span>; <span class="hljs-comment">// æœåŠ¡ç«¯ new ä¸€ä¸ª User å†™å›å»  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateUser</span>(<span class="hljs-params">inout User u</span>)</span>; <span class="hljs-comment">// ä¸¤ç«¯éƒ½å¯æ”¹</span>
</code></pre>
<h4 data-id="heading-7">3. ç®¡ç†æ¥å£å›è°ƒï¼šRemoteCallbackList</h4>
<p>åœ¨æœåŠ¡ç«¯ï¼Œä¸èƒ½ç›´æ¥ä¿å­˜å®¢æˆ·ç«¯ä¼ æ¥çš„ <code>IBinder</code> å›è°ƒæ¥å£ï¼Œå› ä¸ºBinderå¯¹è±¡å¯èƒ½å› è¿›ç¨‹æ­»äº¡è€Œå¤±æ•ˆã€‚<code>RemoteCallbackList</code> èƒ½è‡ªåŠ¨ç®¡ç†è¿™ç§ç”Ÿå‘½å‘¨æœŸã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RemoteCallbackList&lt;ICallback&gt; callbackList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteCallbackList</span>&lt;&gt;();

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> IMyService.<span class="hljs-type">Stub</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IMyService</span>.Stub() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerCallback</span><span class="hljs-params">(ICallback cb)</span> {
            callbackList.register(cb);
        }
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unregisterCallback</span><span class="hljs-params">(ICallback cb)</span> {
            callbackList.unregister(cb);
        }
    };

    <span class="hljs-comment">// å‘æ‰€æœ‰å®¢æˆ·ç«¯å¹¿æ’­äº‹ä»¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">broadcastEvent</span><span class="hljs-params">(String event)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> callbackList.beginBroadcast();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) {
            <span class="hljs-keyword">try</span> {
                callbackList.getBroadcastItem(i).onEvent(event);
            } <span class="hljs-keyword">catch</span> (RemoteException e) {
                <span class="hljs-comment">// å®¢æˆ·ç«¯å¯èƒ½å·²æ­»äº¡ï¼Œå¿½ç•¥</span>
            }
        }
        callbackList.finishBroadcast();
    }
}
</code></pre>
<h4 data-id="heading-8">4. åŒæ­¥ (<code>two-way</code>) ä¸å¼‚æ­¥ (<code>oneway</code>)</h4>
<ul>
<li><strong>åŒæ­¥</strong>ï¼šå®¢æˆ·ç«¯çº¿ç¨‹ä¼šé˜»å¡ï¼Œé€‚ç”¨äºéœ€è¦ç«‹å³ç»“æœçš„è°ƒç”¨ã€‚</li>
<li><strong>å¼‚æ­¥</strong>ï¼šåœ¨æ¥å£æ–¹æ³•å‰åŠ  <code>oneway</code> å…³é”®å­—ï¼Œä¸ç­‰å¾…è¿”å›ï¼Œä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚é€‚ç”¨äºé€šçŸ¥å‹æ“ä½œï¼Œèƒ½æœ‰æ•ˆé¿å…å®¢æˆ·ç«¯é˜»å¡ï¼Œä½†éœ€æ³¨æ„å…¶â€œè‡³å¤šä¸€æ¬¡ (at-most-once)â€çš„è¯­ä¹‰ï¼Œè°ƒç”¨å¯èƒ½å› è¿›ç¨‹æ­»äº¡è€Œä¸¢å¤±ã€‚</li>
</ul>
<pre><code class="hljs language-aidl" lang="aidl">// åŒæ­¥æ–¹æ³•
int calculate(in int a, in int b);

// å¼‚æ­¥æ–¹æ³•ï¼ˆæ— è¿”å›å€¼ï¼Œä¸æŠ›RemoteExceptionï¼‰
oneway void notifySomethingHappened(in String event);
</code></pre>
<h4 data-id="heading-9">5. æƒé™æ§åˆ¶ä¸å®‰å…¨</h4>
<p>å¯åœ¨ <code>AndroidManifest.xml</code> ä¸­ä¸ºæœåŠ¡å£°æ˜è‡ªå®šä¹‰æƒé™ï¼Œå¹¶åœ¨ <code>onBind</code> æˆ–å…·ä½“æ–¹æ³•å†…æ ¡éªŒã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">service</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MyService"</span>
    <span class="hljs-attr">android:permission</span>=<span class="hljs-string">"com.example.MY_PERMISSION"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span> <span class="hljs-comment">&lt;!-- å…è®¸å…¶ä»–åº”ç”¨ç»‘å®š --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨æœåŠ¡ç«¯çš„onBindæˆ–æ–¹æ³•å®ç°ä¸­æ ¡éªŒ</span>
<span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">onBind</span><span class="hljs-params">(Intent intent)</span> {
    <span class="hljs-keyword">if</span> (checkCallingOrSelfPermission(<span class="hljs-string">"com.example.MY_PERMISSION"</span>) 
        != PackageManager.PERMISSION_GRANTED) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç»‘å®šå¤±è´¥</span>
    }
    <span class="hljs-keyword">return</span> binder;
}
</code></pre>
<h3 data-id="heading-10">ğŸ¯ <strong>æ€§èƒ½ä¸ç¨³å®šæ€§æœ€ä½³å®è·µ</strong></h3>
<ol>
<li><strong>å‡å°‘è·¨è¿›ç¨‹è°ƒç”¨æ¬¡æ•°</strong>ï¼šè®¾è®¡æ¥å£æ—¶ï¼Œå°½é‡å°†å¤šä¸ªæ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡è°ƒç”¨ï¼ˆå¦‚ä¼ é€’ä¸€ä¸ª<code>User</code>å¯¹è±¡ï¼Œè€Œéå¤šæ¬¡è°ƒç”¨è®¾ç½®<code>name</code>ã€<code>id</code>ï¼‰ã€‚</li>
<li><strong>æ³¨æ„çº¿ç¨‹æ¨¡å‹</strong>ï¼šAIDLè°ƒç”¨åœ¨æœåŠ¡ç«¯é»˜è®¤è¿è¡Œåœ¨ <strong>Binderçº¿ç¨‹æ± </strong> ä¸­ï¼ˆéä¸»çº¿ç¨‹ï¼‰ï¼Œå› æ­¤éœ€è¦è¿›è¡Œçº¿ç¨‹åŒæ­¥ã€‚ä½¿ç”¨ <code>oneway</code> è°ƒç”¨æ—¶ï¼ŒæœåŠ¡ç«¯æ–¹æ³•ä»ä¼šåœ¨Binderçº¿ç¨‹æ± ä¸­æ‰§è¡Œã€‚</li>
<li><strong>å¦¥å–„å¤„ç† <code>RemoteException</code></strong>ï¼šæ‰€æœ‰è·¨è¿›ç¨‹è°ƒç”¨éƒ½å¿…é¡»æ•è·æ­¤å¼‚å¸¸ï¼Œå®ƒæ„å‘³ç€è¿æ¥å·²æ–­å¼€ã€‚</li>
<li><strong>åŠæ—¶è§£ç»‘</strong>ï¼šåœ¨å®¢æˆ·ç«¯ï¼ˆå¦‚<code>Activity</code>ï¼‰çš„ <code>onDestroy</code> ä¸­è°ƒç”¨ <code>unbindService</code>ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>æ¥å£ç‰ˆæœ¬å…¼å®¹</strong>ï¼šä¸ºå·²å‘å¸ƒçš„AIDLæ¥å£æ·»åŠ æ–°æ–¹æ³•æ—¶ï¼Œè€ƒè™‘å‘åå…¼å®¹ï¼Œä¾‹å¦‚ä½¿ç”¨é»˜è®¤å®ç°æˆ–ç‰ˆæœ¬å·åå•†ã€‚</li>
</ol>
<h2 data-id="heading-11">Demo ç¤ºä¾‹</h2>
<p>IRemoteService.aidl</p>
<pre><code class="hljs language-csharp" lang="csharp">package com.example.aidl;
import com.example.aidl.User;   <span class="hljs-comment">// è‡ªå®šä¹‰ Parcelable</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title">IRemoteService</span> {
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span>;                <span class="hljs-comment">// åŸºæœ¬ç±»å‹</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printUser</span>(<span class="hljs-params"><span class="hljs-keyword">in</span> User u</span>)</span>;            <span class="hljs-comment">// in æ–¹å‘</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getUser</span>(<span class="hljs-params"><span class="hljs-keyword">out</span> User u</span>)</span>;             <span class="hljs-comment">// out æ–¹å‘</span>
    <span class="hljs-function">oneway <span class="hljs-keyword">void</span> <span class="hljs-title">fireCallback</span>()</span>;           <span class="hljs-comment">// éé˜»å¡</span>
}
</code></pre>
<p>User.aidl</p>
<pre><code class="hljs language-ini" lang="ini">package com.example.aidl<span class="hljs-comment">;</span>
parcelable User<span class="hljs-comment">;</span>
</code></pre>
<p>æœåŠ¡ç«¯å®ç°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RemoteService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> IRemoteService.<span class="hljs-type">Stub</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IRemoteService</span>.Stub() {
    
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> { <span class="hljs-keyword">return</span> a + b; }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printUser</span><span class="hljs-params">(User u)</span> { Log.d(<span class="hljs-string">"AIDL"</span>, u.name); }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">(User u)</span> {
            u.name = <span class="hljs-string">"server"</span>; u.age = <span class="hljs-number">18</span>;   <span class="hljs-comment">// å¡«å…… out å‚æ•°</span>
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fireCallback</span><span class="hljs-params">()</span> { <span class="hljs-comment">/* å•å‘ï¼Œæ— è¿”å› */</span> }
    };
    
    <span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">onBind</span><span class="hljs-params">(Intent i)</span> { <span class="hljs-keyword">return</span> binder; }
}
</code></pre>
<p>å®¢æˆ·ç«¯è°ƒç”¨</p>
<pre><code class="hljs language-ini" lang="ini">IRemoteService <span class="hljs-attr">s</span> = IRemoteService.Stub.asInterface(service)<span class="hljs-comment">;</span>
int <span class="hljs-attr">r</span> = s.add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Rust + Bevy æ‰“é€ ä¿®ä»™å¡ç‰Œæ¸¸æˆï¼šä»é›¶ä¸Šæ¶ Windows å•†åº—çš„æŠ€æœ¯å¤ç›˜]]></title>    <link>https://juejin.cn/post/7603314759758200851</link>    <guid>https://juejin.cn/post/7603314759758200851</guid>    <pubDate>2026-02-06T07:31:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603314759758200851" data-draft-id="7603352061506273286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Rust + Bevy æ‰“é€ ä¿®ä»™å¡ç‰Œæ¸¸æˆï¼šä»é›¶ä¸Šæ¶ Windows å•†åº—çš„æŠ€æœ¯å¤ç›˜"/> <meta itemprop="keywords" content="Rust,æ¸¸æˆå¼€å‘"/> <meta itemprop="datePublished" content="2026-02-06T07:31:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="peterfei"/> <meta itemprop="url" content="https://juejin.cn/user/2700056287782663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Rust + Bevy æ‰“é€ ä¿®ä»™å¡ç‰Œæ¸¸æˆï¼šä»é›¶ä¸Šæ¶ Windows å•†åº—çš„æŠ€æœ¯å¤ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056287782663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    peterfei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T07:31:40.000Z" title="Fri Feb 06 2026 07:31:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4be013d0dfb454d99164212a7b954c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770972870&amp;x-signature=FVZ3zP4Bgv%2Bfb6ufcGcqhVZ5xig%3D" alt="4v63r2n7b1rmt0cw3getasz2q8_result_.gif" loading="lazy"/></p>
<blockquote>
<p>ä¸€åç‹¬ç«‹å¼€å‘è€…å¦‚ä½•ç”¨ Rust å’Œ Bevy å¼•æ“ï¼Œæ‰“é€ å‡ºæ‹¥æœ‰å››ç›¸ä½ç»ˆæç‰¹æ•ˆçš„ä¿®ä»™è‚‰é¸½å¡ç‰Œæ¸¸æˆã€Šä¹ç•Œï¼šæ¸¡åŠ«ã€‹ï¼Œå¹¶æˆåŠŸç™»é™† Windows å•†åº—ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é¡¹ç›®ç¼˜èµ·ï¼šä¸ºä»€ä¹ˆé€‰æ‹© Rust + Bevyï¼Ÿ</h2>
<p>ä½œä¸ºä¸€åæŠ€æœ¯åšä¸»ï¼Œæˆ‘ä¸€ç›´æƒ³æŒ‘æˆ˜æ¸¸æˆå¼€å‘ã€‚å½“å†³å®šè¦åšä¸€æ¬¾ä¿®ä»™é¢˜æçš„è‚‰é¸½å¡ç‰Œæ¸¸æˆæ—¶ï¼Œæˆ‘é¢ä¸´ä¸€ä¸ªå…³é”®é€‰æ‹©ï¼šç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆï¼Ÿ</p>
<p>Unityï¼Ÿå¤ªé‡ï¼Œè€Œä¸”ä¸ªäººç‰ˆæœ‰å¯åŠ¨ç”»é¢é™åˆ¶ã€‚Godotï¼Ÿå­¦ä¹ æ›²çº¿å°šå¯ï¼Œä½†æ€§èƒ½è°ƒä¼˜ä¸å¤Ÿé€æ˜ã€‚æœ€ç»ˆï¼Œæˆ‘é€‰æ‹©äº† <strong>Rust + Bevy 0.15</strong>ï¼Œè¿™ä¸ªå†³å®šè®©æˆ‘å—ç›ŠåŒªæµ…ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆæ˜¯ Rustï¼Ÿ</h3>
<ul>
<li><strong>å†…å­˜å®‰å…¨</strong>ï¼šä¸ç”¨æ‹…å¿ƒæ‚¬å‚æŒ‡é’ˆå’Œå†…å­˜æ³„æ¼</li>
<li><strong>é›¶æˆæœ¬æŠ½è±¡</strong>ï¼šé«˜çº§ç‰¹æ€§ä¸ä¼šå¸¦æ¥è¿è¡Œæ—¶å¼€é”€</li>
<li><strong>ç”Ÿæ€æ´»è·ƒ</strong>ï¼šcrates.io ä¸Šæœ‰ä¸°å¯Œçš„æ¸¸æˆå¼€å‘åº“</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆæ˜¯ Bevyï¼Ÿ</h3>
<ul>
<li><strong>ECS æ¶æ„</strong>ï¼šæ•°æ®é©±åŠ¨çš„å®ä½“ç»„ä»¶ç³»ç»Ÿï¼Œæ€§èƒ½å“è¶Š</li>
<li><strong>çƒ­é‡è½½å¼€å‘</strong>ï¼šä»£ç æ”¹åŠ¨å³æ—¶ç”Ÿæ•ˆï¼Œå¼€å‘ä½“éªŒä¸æ»‘</li>
<li><strong>ç°ä»£æ¸²æŸ“</strong>ï¼šåŸºäº WGPUï¼Œè·¨å¹³å°æ”¯æŒä¼˜ç§€</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€é¡¹ç›®æ¶æ„ï¼šæ¨¡å—åŒ–è®¾è®¡å…¨è§ˆ</h2>
<pre><code class="hljs language-bash" lang="bash">bevy-card-battler/
â”œâ”€â”€ src/
â”‚ Â  â”œâ”€â”€ main.rs Â  Â  Â  Â   <span class="hljs-comment"># ä¸»å…¥å£ï¼Œçª—å£åˆå§‹åŒ–</span>
â”‚ Â  â”œâ”€â”€ lib.rs Â  Â  Â  Â  Â  <span class="hljs-comment"># åº“å…¥å£ï¼Œæ¨¡å—å¯¼å‡º</span>
â”‚ Â  â”œâ”€â”€ components/ Â  Â   <span class="hljs-comment"># ç»„ä»¶å®šä¹‰</span>
â”‚ Â  â”œâ”€â”€ systems/ Â  Â  Â  Â  <span class="hljs-comment"># ç³»ç»Ÿå®ç°</span>
â”‚ Â  â”œâ”€â”€ plugins/ Â  Â  Â  Â  <span class="hljs-comment"># æ’ä»¶å°è£…</span>
â”‚ Â  â”œâ”€â”€ resources/ Â  Â  Â  <span class="hljs-comment"># å…¨å±€èµ„æº</span>
â”‚ Â  â””â”€â”€ states/ Â  Â  Â  Â   <span class="hljs-comment"># æ¸¸æˆçŠ¶æ€</span>
â”œâ”€â”€ assets/ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æ¸¸æˆèµ„æº</span>
â”œâ”€â”€ tests/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># é›†æˆæµ‹è¯•</span>
â””â”€â”€ docs/ Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æŠ€æœ¯æ–‡æ¡£</span>
</code></pre>
<p><strong>æ ¸å¿ƒè®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ol start="0">
<li><strong>æ’ä»¶åŒ–</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æ˜¯ç‹¬ç«‹ Plugin</li>
<li><strong>çŠ¶æ€é©±åŠ¨</strong>ï¼šä½¿ç”¨ Bevy State ç®¡ç†æ¸¸æˆæµç¨‹</li>
<li><strong>èµ„æºæ± åŒ–</strong>ï¼šçº¹ç†ã€æè´¨ç»Ÿä¸€ç®¡ç†</li>
</ol>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a67707d0a23439f8960fccab6a98e73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770972870&amp;x-signature=Zifx%2BullezMIzi8ztGijslhTuEU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">ä¸‰ã€æ ¸å¿ƒäº®ç‚¹ï¼šä¸‡å‰‘å½’å®—å››ç›¸ä½ç‰¹æ•ˆ</h2>
<p>è¿™æ˜¯æ¸¸æˆæœ€éœ‡æ’¼çš„æŠ€èƒ½ç‰¹æ•ˆï¼Œæˆ‘å°†å…¶æ‹†åˆ†ä¸ºå››ä¸ªè‰ºæœ¯ç›¸ä½ï¼š</p>
<h3 data-id="heading-5">ç¬¬ä¸€ç›¸ä½ï¼šä¸‡å‰‘é½é¸£ (0% ~ 20%)</h3>
<p>é£å‰‘ä»è™šç©ºä¸­"æ’•è£‚"è€Œå‡ºï¼Œæ–œæ’å‘å¤©é™…ã€‚æ ¸å¿ƒæ˜¯<strong>åååŠ›ç®—æ³•</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å…ˆæ²‰ä¸€ä¸‹ï¼Œå†æé€Ÿå¼¹å°„
let <span class="hljs-attr">progress</span> = strike_t / <span class="hljs-number">0.2</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">recoil</span> = if progress &lt; <span class="hljs-number">0.3</span> {
 Â  Â -30.0 * (progress / 0.3) Â // ä¸‹æ²‰
} else {
 Â  Â -30.0 + 350.0 * ((progress - 0.3) / 0.7) Â // å¼¹å°„
}<span class="hljs-comment">;</span>
<span class="hljs-attr">p.position.y</span> = start_y + recoil<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-6">ç¬¬äºŒç›¸ä½ï¼šå…«å¦å‰‘è½® (20% ~ 45%)</h3>
<p>ç«‹ä½“ä¸‰å±‚åœ†é”¥å½¢å‰‘é˜µï¼Œæ¯å±‚æœ‰ä¸åŒçš„æ—‹è½¬é€Ÿåº¦å’Œå‘¼å¸èŠ‚å¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ä¸‰å±‚åœ†é”¥ç»“æ„
for layer in 0..3 {
 Â  Â let <span class="hljs-attr">base_angle</span> = layer_angle * layer as f32<span class="hljs-comment">;</span>
 Â  Â let <span class="hljs-attr">radius</span> = layer_radius * (layer + <span class="hljs-number">1</span>) as f32<span class="hljs-comment">;</span>
â€‹
 Â  Â // å‘¼å¸é¢¤åŠ¨æ•ˆæœ
 Â  Â let <span class="hljs-attr">breathing</span> = (time * <span class="hljs-number">8.0</span> + layer as f32).sin() * <span class="hljs-number">15.0</span><span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">p.position.x</span> = center_x + (angle + breathing).cos() * radius<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-7">ç¬¬ä¸‰ç›¸ä½ï¼šç¬ç‹±é”å®š (45% ~ 55%)</h3>
<p>å…¨å±çªç„¶é™æ­¢ï¼Œé£å‰‘è°ƒå¤´æŒ‡å‘æ•Œäººï¼ŒèƒŒæ™¯å˜æš—ã€‚å…³é”®æ˜¯<strong>å‡é€Ÿæ›²çº¿</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// 3æ¬¡è´å¡å°”å‡é€Ÿ
let <span class="hljs-attr">ease_t</span> = cubic_bezier((strike_t - <span class="hljs-number">0.45</span>) / <span class="hljs-number">0.1</span>)<span class="hljs-comment">;</span>
let <span class="hljs-attr">slowdown</span> = <span class="hljs-number">1.0</span> - ease_t * <span class="hljs-number">0.95</span><span class="hljs-comment">; Â // é™è‡³ 5% é€Ÿåº¦</span>
p.velocity *= slowdown<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-8">ç¬¬å››ç›¸ä½ï¼šæé€Ÿç©¿å¿ƒ (55% ~ 100%)</h3>
<p>æé•¿æ®‹å½±æµå…‰ï¼Œåˆ‡å‘çªåˆºã€‚ä½¿ç”¨<strong>ä¸‰æ¬¡è´å¡å°”æ›²çº¿</strong>å®ç°è½¨è¿¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// è´å¡å°”æ›²çº¿è½¨è¿¹
let <span class="hljs-attr">p0</span> = current_pos<span class="hljs-comment">;</span>
let <span class="hljs-attr">p1</span> = current_pos + tangent * <span class="hljs-number">200.0</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">p2</span> = enemy_pos - tangent * <span class="hljs-number">100.0</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">p3</span> = enemy_pos<span class="hljs-comment">;</span>
â€‹
let <span class="hljs-attr">t</span> = (strike_t - <span class="hljs-number">0.55</span>) / <span class="hljs-number">0.45</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">curve_pos</span> = cubic_bezier_point(p0, p1, p2, p3, t)<span class="hljs-comment">;</span>
<span class="hljs-attr">p.position</span> = curve_pos<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">å››ã€ç¨‹åºåŒ–ç²’å­ç³»ç»Ÿï¼šå‘Šåˆ«ç¾æœ¯èµ„æºä¾èµ–</h2>
<p>ä¼ ç»Ÿæ¸¸æˆå¼€å‘éœ€è¦ç¾æœ¯æä¾›å¤§é‡ç²’å­è´´å›¾ï¼Œæˆ‘ç”¨<strong>ç¨‹åºåŒ–ç”Ÿæˆ</strong>è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<h3 data-id="heading-10">æ°´å¢¨å†™æ„æ™•æŸ“è´´å›¾</h3>
<pre><code class="hljs language-ini" lang="ini">// è¿è¡Œæ—¶ç”Ÿæˆ 128x128 æ™•æŸ“è´´å›¾
for y in 0..height {
 Â  Â for x in 0..width {
 Â  Â  Â  Â let <span class="hljs-attr">dx</span> = x as f32 - <span class="hljs-number">63.5</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â let <span class="hljs-attr">dy</span> = y as f32 - <span class="hljs-number">63.5</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â let <span class="hljs-attr">dist</span> = (dx*dx + dy*dy).sqrt() / <span class="hljs-number">64.0</span><span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â // è¾¹ç¼˜æ‰°åŠ¨æ¨¡æ‹Ÿè‡ªç„¶å¢¨è¿¹
 Â  Â  Â  Â let <span class="hljs-attr">angle</span> = dy.atan2(dx)<span class="hljs-comment">;</span>
 Â  Â  Â  Â let <span class="hljs-attr">noise</span> = (angle * <span class="hljs-number">4.0</span>).sin() * <span class="hljs-number">0.12</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â + (angle * 7.0).cos() * 0.08<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â let <span class="hljs-attr">alpha</span> = (<span class="hljs-number">1.0</span> - dist * dist).powi(<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
 Â  Â  Â  Â data<span class="hljs-section">[idx + 3]</span> = (alpha * 255.0) as u8<span class="hljs-comment">;</span>
 Â   }
}
</code></pre>
<h3 data-id="heading-11">çµæ°”çƒ§ç¼ç‰¹æ•ˆï¼ˆé›·å‡»ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¤šå±‚é¢‘ç‡å™ªå£°æ¨¡æ‹Ÿé›·å‡»åˆ†å‰</span>
let noise = (angle * <span class="hljs-number">5.0</span>)<span class="hljs-selector-class">.sin</span>() * <span class="hljs-number">0.15</span>
 Â  Â  Â  Â  Â + (angle * <span class="hljs-number">13.0</span>)<span class="hljs-selector-class">.cos</span>() * <span class="hljs-number">0.07</span>
 Â  Â  Â  Â  Â + (angle * <span class="hljs-number">27.0</span>)<span class="hljs-selector-class">.sin</span>() * <span class="hljs-number">0.03</span>;
â€‹
<span class="hljs-comment">// ä¸­å¿ƒæ·±ç´«ï¼Œå‘å¤–çƒŸç†æ‰©æ•£</span>
scorch_data<span class="hljs-selector-attr">[i]</span> = (intensity.powf(<span class="hljs-number">2.5</span>) * <span class="hljs-number">40.0</span>) as u8; Â  <span class="hljs-comment">// R</span>
scorch_data<span class="hljs-selector-attr">[i+1]</span> = (intensity.powf(<span class="hljs-number">3.0</span>) * <span class="hljs-number">15.0</span>) as u8; <span class="hljs-comment">// G</span>
scorch_data<span class="hljs-selector-attr">[i+2]</span> = (intensity.powf(<span class="hljs-number">1.8</span>) * <span class="hljs-number">70.0</span>) as u8; <span class="hljs-comment">// B</span>
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é›¶ç¾æœ¯ä¾èµ–ï¼Œå…¨ä»£ç ç”Ÿæˆ</li>
<li>åŠ¨æ€è°ƒæ•´å‚æ•°ï¼Œå³æ—¶é¢„è§ˆ</li>
<li>ä½“ç§¯å°ï¼Œæ•´åŒ…ä»… 50MB</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€AI æ¨¡å‹é›†æˆï¼šå›ºæœ‰åå·®è¡¥å¿æœºåˆ¶</h2>
<p>æ¸¸æˆä¸­çš„ 3D è§’è‰²æ¨¡å‹ä½¿ç”¨ AI ç”Ÿæˆï¼Œä½† AI æ¨¡å‹å­˜åœ¨<strong>å›ºæœ‰æœå‘åå·®</strong>ã€‚æˆ‘å®ç°äº†ä¸€å¥—å®æ—¶è¡¥å¿ç®—æ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// æ£€æµ‹ç©å®¶ä¸æ•Œäººçš„ç›¸å¯¹ä½ç½®
let <span class="hljs-attr">to_enemy</span> = (enemy_pos - player_pos).normalize()<span class="hljs-comment">;</span>
let <span class="hljs-attr">to_enemy_angle</span> = to_enemy.y.atan2(to_enemy.x)<span class="hljs-comment">;</span>
â€‹
// åº”ç”¨å›ºæœ‰åå·®è¡¥å¿ï¼ˆAI æ¨¡å‹ç‰¹æ€§ï¼‰
const BIAS_COMPENSATION: <span class="hljs-attr">f32</span> = std::f32::consts::PI / <span class="hljs-number">2.0</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">target_angle</span> = to_enemy_angle + BIAS_COMPENSATION<span class="hljs-comment">;</span>
â€‹
// å¹³æ»‘æ—‹è½¬æ’å€¼
<span class="hljs-attr">transform.rotation</span> = Quat::from_rotation_z(
 Â  Â lerp_angle(current_angle, target_angle, 0.15)
)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™æ ·ç¡®ä¿è§’è‰²å§‹ç»ˆæ­£ç¡®æœå‘æ•Œäººï¼Œä¸å— AI æ¨¡å‹åŸå§‹æœå‘å½±å“ã€‚</p>
<hr/>
<h2 data-id="heading-13">å…­ã€TDD å¼€å‘å®è·µï¼š17/17 æµ‹è¯•å…¨è¦†ç›–</h2>
<p>ä¸ºäº†ç¡®ä¿ç‰¹æ•ˆè´¨é‡ï¼Œæˆ‘é‡‡ç”¨ TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰æ¨¡å¼ï¼š</p>
<h3 data-id="heading-14">æµ‹è¯•è¦†ç›–çŸ©é˜µ</h3>








































<table><thead><tr><th>æµ‹è¯•ç±»å‹</th><th>ç”¨ä¾‹æ•°</th><th>è¦†ç›–å†…å®¹</th></tr></thead><tbody><tr><td>æ—¶é—´åŒºé—´éªŒè¯</td><td>4</td><td>å››ç›¸ä½è¾¹ç•Œæ£€æµ‹</td></tr><tr><td>åååŠ›å‡½æ•°</td><td>2</td><td>æ²‰é™å¼¹å°„æ›²çº¿</td></tr><tr><td>åœ†é”¥ç»“æ„</td><td>2</td><td>ä¸‰å±‚èºæ—‹æ’åˆ—</td></tr><tr><td>å‘¼å¸é¢¤åŠ¨</td><td>2</td><td>æ­£å¼¦æ³¢åç§»</td></tr><tr><td>NaN é˜²æŠ¤</td><td>4</td><td>è¾¹ç•Œå€¼ä¿æŠ¤</td></tr><tr><td>ä½ç½®éªŒè¯</td><td>3</td><td>åæ ‡æœ‰æ•ˆæ€§</td></tr></tbody></table>
<h3 data-id="heading-15">å…³é”® Bug ä¿®å¤</h3>
<p><strong>Bug #1: è´Ÿæ•° delay å¯¼è‡´ NaN</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é—®é¢˜ä»£ç </span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">delay</span> = <span class="hljs-number">0.06</span> - (i <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * <span class="hljs-number">0.015</span>); Â <span class="hljs-comment">// i=11 æ—¶ = -0.105</span>
â€‹
<span class="hljs-comment">// âœ… ä¿®å¤æ–¹æ¡ˆ</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">delay</span> = (<span class="hljs-number">0.06</span> - (i <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * <span class="hljs-number">0.015</span>)).<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">0.0</span>);
</code></pre>
<p><strong>Bug #2: å®ä½“åˆ é™¤åä»æ›´æ–° Transform</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âŒ é”™è¯¯é¡ºåº</span>
if <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.is_dead</span>() {
 Â  Â commands<span class="hljs-selector-class">.entity</span>(entity)<span class="hljs-selector-class">.despawn_recursive</span>();
}
<span class="hljs-comment">// ... åç»­ä»£ç ä»å°è¯•è®¿é—® entity</span>
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®é¡ºåº</span>
<span class="hljs-comment">// å…ˆæ›´æ–° Transform</span>
if let <span class="hljs-built_in">Some</span>(mut ec) = commands<span class="hljs-selector-class">.get_entity</span>(entity) {
 Â  Â ec<span class="hljs-selector-class">.insert</span>(Transform::from_rotation(...));
}
<span class="hljs-comment">// å†æ£€æŸ¥æ­»äº¡</span>
if <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.is_dead</span>() {
 Â  Â commands<span class="hljs-selector-class">.entity</span>(entity)<span class="hljs-selector-class">.despawn_recursive</span>();
}
</code></pre>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€Windows å•†åº—ä¸Šæ¶ç»éªŒ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b504cba02f4432fb327d2d5c0bfcbc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770972870&amp;x-signature=pde7AjhaYUQ42PNcueL25BiM1xo%3D" alt="å±å¹•æˆªå›¾(1).png" loading="lazy"/></p>
<h3 data-id="heading-17">æ‰“åŒ…é…ç½®</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Cargo.toml</span>
<span class="hljs-section">[profile.release]</span>
<span class="hljs-attr">opt-level</span> = <span class="hljs-number">3</span> Â  Â  Â <span class="hljs-comment"># æœ€é«˜ä¼˜åŒ–</span>
<span class="hljs-attr">lto</span> = <span class="hljs-string">"fat"</span> Â  Â  Â  Â <span class="hljs-comment"># é“¾æ¥æ—¶ä¼˜åŒ–</span>
<span class="hljs-attr">codegen-units</span> = <span class="hljs-number">1</span> Â <span class="hljs-comment"># å•ç¼–è¯‘å•å…ƒ</span>
<span class="hljs-attr">strip</span> = <span class="hljs-literal">true</span> Â  Â  Â  <span class="hljs-comment"># å»é™¤è°ƒè¯•ç¬¦å·</span>
</code></pre>
<h3 data-id="heading-18">MSIX æ‰“åŒ…è„šæœ¬</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># build_msix.bat</span>
cargo build --release
makemsix <span class="hljs-keyword">pack</span> ...
</code></pre>
<h3 data-id="heading-19">ä¸Šæ¶æ¸…å•</h3>
<ul>
<li>âœ… åº”ç”¨å›¾æ ‡ï¼ˆå¤šå°ºå¯¸ï¼‰</li>
<li>âœ… æˆªå›¾ï¼ˆ4-8 å¼ ï¼‰</li>
<li>âœ… éšç§æ”¿ç­–ï¼ˆæœ¬åœ°å­˜å‚¨å£°æ˜ï¼‰</li>
<li>âœ… å†…å®¹è¯„çº§</li>
<li>âœ… å¹´é¾„åˆ†çº§</li>
</ul>
<hr/>
<h2 data-id="heading-20">å…«ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h2>
<h3 data-id="heading-21">1. ç²¾å‡†æ§åˆ¶ Bevy ç‰¹æ€§</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç§»é™¤é»˜è®¤ç‰¹æ€§ï¼ŒæŒ‰éœ€åŠ è½½</span>
<span class="hljs-attr">bevy</span> = { version = <span class="hljs-string">"0.15"</span>, default-features = <span class="hljs-literal">false</span>, features = [
 Â  Â <span class="hljs-string">"animation"</span>, <span class="hljs-string">"bevy_asset"</span>, <span class="hljs-string">"bevy_audio"</span>, <span class="hljs-string">"bevy_render"</span>,
 Â  Â <span class="hljs-string">"multi_threaded"</span>, <span class="hljs-string">"png"</span>, <span class="hljs-string">"jpeg"</span>, <span class="hljs-string">"vorbis"</span>, <span class="hljs-string">"mp3"</span>,
 Â  Â <span class="hljs-string">"tonemapping_luts"</span>, <span class="hljs-string">"bevy_pbr"</span>, <span class="hljs-string">"bevy_picking"</span>, <span class="hljs-string">"bevy_state"</span>
] }
</code></pre>
<h3 data-id="heading-22">2. æ¸²æŸ“è®¾ç½®ä¼˜åŒ–</h3>
<pre><code class="hljs language-c" lang="c">RenderPlugin {
 Â  Â render_creation: WgpuSettings {
 Â  Â  Â  Â power_preference: PowerPreference::HighPerformance,
 Â  Â  Â   ..<span class="hljs-keyword">default</span>()
 Â   }.into(),
 Â   ..<span class="hljs-keyword">default</span>()
}
</code></pre>
<h3 data-id="heading-23">3. æ—¥å¿—ç³»ç»Ÿåˆ†å±‚</h3>
<pre><code class="hljs language-css" lang="css">// æ–‡ä»¶ + æ§åˆ¶å°åŒå±‚æ—¥å¿—
let file_appender = RollingFileAppender::<span class="hljs-built_in">new</span>(Rotation::DAILY, &amp;log_dir, <span class="hljs-string">"jiujie.log"</span>);
let <span class="hljs-attribute">filter</span> = EnvFilter::<span class="hljs-built_in">try_from_default_env</span>()
 Â   .<span class="hljs-built_in">unwrap_or_else</span>(|_| <span class="hljs-string">"wgpu=error,bevy=info,jiujie=debug"</span>.<span class="hljs-built_in">into</span>());
</code></pre>
<hr/>
<h2 data-id="heading-24">ä¹ã€æŠ€æœ¯æ ˆæ€»ç»“</h2>








































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Rust</td><td>2021 Edition</td><td>æ ¸å¿ƒè¯­è¨€</td></tr><tr><td>Bevy</td><td>0.15</td><td>æ¸¸æˆå¼•æ“</td></tr><tr><td>rand</td><td>0.8</td><td>éšæœºæ•°ç”Ÿæˆ</td></tr><tr><td>serde</td><td>1.0</td><td>åºåˆ—åŒ–</td></tr><tr><td>image</td><td>0.25</td><td>å›¾åƒå¤„ç†</td></tr><tr><td>winit</td><td>0.30</td><td>çª—å£ç®¡ç†</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-25">åã€æœªæ¥è§„åˆ’</h2>
<ul>
<li>ç§»æ¤åˆ° Steam å¹³å°</li>
<li>æ·»åŠ äº‘å­˜æ¡£åŒæ­¥</li>
<li>å®ç°æˆå°±ç³»ç»Ÿ</li>
<li>æ”¯æŒæ¨¡ç»„åŠ è½½</li>
<li>æ¨å‡º Linux ç‰ˆæœ¬</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-232 ç¦»çº¿æ•°ä»“Hive ç¦»çº¿æ•°ä»“æ–°å¢ä¸ç•™å­˜è®¡ç®—ï¼šDWS æ˜ç»† + ADS æ±‡æ€»ä¸€å¥—è·‘é€š]]></title>    <link>https://juejin.cn/post/7603309951227215922</link>    <guid>https://juejin.cn/post/7603309951227215922</guid>    <pubDate>2026-02-06T08:18:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227215922" data-draft-id="7603393977477038106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-232 ç¦»çº¿æ•°ä»“Hive ç¦»çº¿æ•°ä»“æ–°å¢ä¸ç•™å­˜è®¡ç®—ï¼šDWS æ˜ç»† + ADS æ±‡æ€»ä¸€å¥—è·‘é€š"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Apache Hive"/> <meta itemprop="datePublished" content="2026-02-06T08:18:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-232 ç¦»çº¿æ•°ä»“Hive ç¦»çº¿æ•°ä»“æ–°å¢ä¸ç•™å­˜è®¡ç®—ï¼šDWS æ˜ç»† + ADS æ±‡æ€»ä¸€å¥—è·‘é€š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:18:26.000Z" title="Fri Feb 06 2026 08:18:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç¦»çº¿æ•°ä»“æŒ‰å¤©è®¡ç®—â€œæ–°å¢ä¼šå‘˜â€ï¼Œå¹¶ä¸ºåç»­â€œä¼šå‘˜ç•™å­˜â€æä¾›å£å¾„ä¸€è‡´çš„æ•°æ®åº•åº§</li>
<li>ç»“è®ºï¼šç”¨â€œå…¨é‡ä¼šå‘˜è¡¨(å«é¦–æ—¥dt)â€åšå»é‡é”šç‚¹ï¼ŒDWS äº§æ–°å¢æ˜ç»†ï¼ŒADS äº§æ–°å¢è®¡æ•°ï¼Œè„šæœ¬ä¸²è¡Œå³å¯</li>
<li>äº§å‡ºï¼šå¯å¤ç”¨çš„ Hive SQL/è„šæœ¬æ¨¡æ¿ï¼šæ–°å¢è¯†åˆ«ï¼ˆleft join is nullï¼‰+ ä¼šå‘˜å…¨é‡è¡¨å¢é‡ç»´æŠ¤ + æ¯æ—¥æ–°å¢æŒ‡æ ‡è¡¨</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37b66db62d09440083a0f943624ec51e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=Pfb9ECM147qA4yCMTTQUf%2ByLcRI%3D" alt="å¤§æ•°æ®-232 ç¦»çº¿æ•°ä»“Hive ç¦»çº¿æ•°ä»“æ–°å¢ä¼šå‘˜ä¸ç•™å­˜è®¡ç®—ï¼šDWS æ˜ç»† + ADS æ±‡æ€»ä¸€å¥—è·‘é€š" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56e62770ac3c4c259c9a549a1e3c5200~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=S6mtWywl%2Bgxdh7gIlVVrxMS2AjQ%3D" alt="ç¦»çº¿æ•°ä»“æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-1">æ–°å¢ä¼šå‘˜</h2>
<ul>
<li>ç•™å­˜ä¼šå‘˜ï¼šæŸæ®µæ—¶é—´çš„æ–°å¢ä¼šå‘˜ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œä»ç„¶ä½¿ç”¨åº”ç”¨è®¤ä¸ºæ˜¯ç•™å­˜çš„ä¼šå‘˜ã€‚</li>
<li>æ–°å¢ä¼šå‘˜ï¼šç¬¬ä¸€æ¬¡ä½¿ç”¨åº”ç”¨çš„ç”¨æˆ·ï¼Œå®šä¹‰ä¸ºæ–°å¢ä¼šå‘˜ï¼Œå¸è½½å†æ¬¡å®‰è£…çš„è®¾å¤‡ï¼Œä¸ä¼šè¢«ç®—ä½œæ˜¯æ–°å¢ç”¨æˆ·</li>
</ul>
<p>æ–°å¢ä¼šå‘˜å…ˆè®¡ç®— =&gt; è®¡ç®—ä¼šå‘˜ç•™å­˜</p>
<h3 data-id="heading-2">éœ€æ±‚æè¿°</h3>
<p>æ¯æ—¥æ–°å¢ä¼šå‘˜æ•°
08-02ï¼šDWDï¼Œä¼šå‘˜æ¯æ—¥å¯åŠ¨æ˜ç»†ï¼ˆ95-110ï¼‰ï¼›æ‰€æœ‰ä¼šå‘˜ä¿¡æ¯ï¼ˆ1-100ï¼‰</p>
<ul>
<li>æ–°å¢ä¼šå‘˜ 101-110</li>
<li>æ–°å¢ä¼šå‘˜æ•°æ®+æ—§çš„ä¼šå‘˜çš„ä¿¡æ¯ = æ–°çš„æ‰€æœ‰ä¼šå‘˜ä¿¡æ¯ï¼ˆ1-110ï¼‰</li>
</ul>
<p>08-03ï¼šDWDï¼Œä¼šå‘˜æ¯æ—¥å¯åŠ¨æ˜ç»†ï¼ˆ100-120ï¼‰ï¼›æ‰€æœ‰ä¼šå‘˜çš„ä¿¡æ¯ï¼ˆ1-110ï¼‰</p>
<ul>
<li>æ–°å¢ä¼šå‘˜ï¼š111-120</li>
<li>æ–°å¢ä¼šå‘˜æ•°æ® + æ—§çš„æ‰€æœ‰ä¼šå‘˜çš„ä¿¡æ¯ = æ–°çš„æ‰€æœ‰ä¼šå‘˜çš„ä¿¡æ¯ï¼ˆ1-120ï¼‰</li>
</ul>
<p>è®¡ç®—æ­¥éª¤ï¼š</p>
<ul>
<li>è®¡ç®—æ–°å¢ä¼šå‘˜</li>
<li>æ›´æ–°æ‰€æœ‰ä¼šå‘˜ä¿¡æ¯</li>
</ul>
<p>æ”¹è¿›åæ–¹æ³•ï¼š</p>
<ul>
<li>åœ¨æ‰€æœ‰ä¼šå‘˜ä¿¡æ¯ä¸­å¢åŠ æ—¶é—´åˆ—ï¼Œè¡¨ç¤ºè¿™ä¸ªä¼šå‘˜æ˜¯å“ªä¸€å¤©æˆä¸ºæ–°å¢ä¼šå‘˜</li>
<li>åªéœ€è¦ä¸€å¼ è¡¨ï¼šæ‰€æœ‰ä¼šå‘˜çš„ä¿¡æ¯ï¼ˆidï¼Œdtï¼‰</li>
<li>å°†æ–°å¢ä¼šå‘˜æ’å…¥æ‰€æœ‰ä¼šå‘˜è¡¨ä¸­</li>
</ul>
<h3 data-id="heading-3">æ¡ˆä¾‹ï¼šå¦‚ä½•è®¡ç®—æ–°å¢ä¼šå‘˜</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- t1.dat çš„æ•°æ®å¦‚ä¸‹</span>
<span class="hljs-number">4</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>
<span class="hljs-number">5</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>
<span class="hljs-number">6</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>
<span class="hljs-number">7</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>
<span class="hljs-number">8</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>
<span class="hljs-number">9</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>

<span class="hljs-comment">-- æ—¥å¯åŠ¨è¡¨ =&gt; DWS</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> t1;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t1(id <span class="hljs-type">int</span>, dt string) <span class="hljs-type">row</span> format delimited fields terminated <span class="hljs-keyword">by</span> <span class="hljs-string">','</span>;
load data <span class="hljs-keyword">local</span> inpath <span class="hljs-string">'/opt/wzk/hive/data/t1.dat'</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span> t1;
</code></pre>
<p>æ‰§è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baa6787e7bd842faa26b2dbfe1d2c00a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=7UCv9n3jVCprPMy2rInzFOKPvrk%3D" alt="ç¦»çº¿æ•°ä»“Hive åˆ›å»ºè¡¨" loading="lazy"/></p>
<p>ç»§ç»­æ‰§è¡Œ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- t2.dat çš„æ•°æ®å¦‚ä¸‹</span>
<span class="hljs-number">1</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>
<span class="hljs-number">2</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>
<span class="hljs-number">3</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>
<span class="hljs-number">4</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>
<span class="hljs-number">5</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>
<span class="hljs-number">6</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>

<span class="hljs-comment">-- å…¨é‡æ•°æ® =&gt; DWS</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> t2;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t2(id <span class="hljs-type">int</span>, dt string)
<span class="hljs-type">row</span> format delimited fields terminated <span class="hljs-keyword">by</span> <span class="hljs-string">','</span>;
load data <span class="hljs-keyword">local</span> inpath <span class="hljs-string">'/opt/wzk/hive/data/t2.dat'</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span> t2;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77530146ce2b41ad9ace2bcc24a768cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=Bsuv3A3RfCzElvu6KYm8WjcJ6iw%3D" alt="ç¦»çº¿æ•°ä»“Hiveä¸¢å¼ƒè¡¨" loading="lazy"/></p>
<p>ç»§ç»­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ‰¾å‡º 2020-08-02 çš„æ–°ç”¨æˆ·</span>
<span class="hljs-keyword">select</span> t1.id, t1.dt, t2.id, t2.dt
<span class="hljs-keyword">from</span> t1 <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t2 <span class="hljs-keyword">on</span> t1.id<span class="hljs-operator">=</span>t2.id
<span class="hljs-keyword">where</span> t1.dt<span class="hljs-operator">=</span>"2020-08-02";
<span class="hljs-keyword">select</span> t1.id, t1.dt
<span class="hljs-keyword">from</span> t1 <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t2 <span class="hljs-keyword">on</span> t1.id<span class="hljs-operator">=</span>t2.id
<span class="hljs-keyword">where</span> t1.dt<span class="hljs-operator">=</span>"2020-08-02"
<span class="hljs-keyword">and</span> t2.id <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/554a0331db8a4384b0c4972a2e6c8c43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=tRtSRdZnCeNvW5mx5KnwtUToKTY%3D" alt="ç¦»çº¿æ•°ä»“Hive æŸ¥è¯¢è¡¨" loading="lazy"/>
ç»§ç»­è¿è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å°†æ‰¾åˆ° 2020-08-02 æ–°ç”¨æˆ·æ•°æ®æ’å…¥t2è¡¨ä¸­</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span> t2
<span class="hljs-keyword">select</span> t1.id, t1.dt
<span class="hljs-keyword">from</span> t1 <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t2 <span class="hljs-keyword">on</span> t1.id<span class="hljs-operator">=</span>t2.id
<span class="hljs-keyword">where</span> t1.dt<span class="hljs-operator">=</span>"2020-08-02"
<span class="hljs-keyword">and</span> t2.id <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f44ca4aae8d40bfaf1dc50242e0c588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=0yaZAoIzNwmzbDo6TbeaZNg1bXQ%3D" alt="ç¦»çº¿æ•°ä»“Hive æ’å…¥æ•°æ®åˆ°è¡¨æ ¼" loading="lazy"/>
ç›®å‰t2çš„æ•°æ®æœ‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">hive (default)&gt; select * from t2;
OK
t2.id   t2.dt
7       2020-08-02
8       2020-08-02
9       2020-08-02
1       2020-08-01
2       2020-08-01
3       2020-08-01
4       2020-08-01
5       2020-08-01
6       2020-08-01
Time taken: 0.137 seconds, Fetched: 9 row(s)
hive (default)&gt; 
</code></pre>
<p>æˆ‘ä»¬ç»§ç»­åŠ è½½æ–°çš„æ•°æ®è¿›å»ï¼Œæ•´ä½“çš„æ€è·¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- t3.datçš„æ•°æ®ï¼Œt1 åŠ è½½ 2020-08-03 çš„æ•°æ®</span>
<span class="hljs-number">14</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>
<span class="hljs-number">15</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>
<span class="hljs-number">16</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>
<span class="hljs-number">17</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>
<span class="hljs-number">18</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>
<span class="hljs-number">19</span>,<span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-03</span>

load data <span class="hljs-keyword">local</span> inpath <span class="hljs-string">'/opt/wzk/hive/data/t3.dat'</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span> t1;

<span class="hljs-comment">-- åŒæ ·çš„æ€è·¯</span>
<span class="hljs-comment">-- å°†æ‰¾åˆ° 2020-08-03 æ–°ç”¨æˆ·æ•°æ®æ’å…¥t2è¡¨ä¸­</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span> t2
<span class="hljs-keyword">select</span> t1.id, t1.dt
<span class="hljs-keyword">from</span> t1 <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t2 <span class="hljs-keyword">on</span> t1.id<span class="hljs-operator">=</span>t2.id
<span class="hljs-keyword">where</span> t1.dt<span class="hljs-operator">=</span>"2020-08-03"
<span class="hljs-keyword">and</span> t2.id <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;
<span class="hljs-comment">-- æ£€æŸ¥ç»“æœ</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t2;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b29d3c8c831471e946be75d99a34658~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=GWJgzy02g4XuqFEgyCmhAflDVJE%3D" alt="ç¦»çº¿æ•°ä»“HiveæŸ¥è¯¢æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-4">DWSä½œç”¨</h3>
<h4 data-id="heading-5">ç»Ÿä¸€æ•°æ®æ¨¡å‹</h4>
<p>å°†åŸå§‹æ•°æ®ï¼ˆODSå±‚ï¼‰æŒ‰ç…§ä¸€å®šçš„é€»è¾‘æ¨¡å‹è¿›è¡Œæ•´åˆã€æ¸…æ´—ã€åŠ å·¥ï¼Œå½¢æˆæ ‡å‡†åŒ–çš„æ•°æ®ç»“æ„ã€‚
æ”¯æŒå¯¹æ•°æ®çš„å¤šç»´åº¦ã€å¤šç²’åº¦åˆ†æã€‚</p>
<h4 data-id="heading-6">æ”¯æŒä¸šåŠ¡åœºæ™¯</h4>
<p>æ»¡è¶³ä¼ä¸šå¯¹å†å²æ•°æ®çš„æŸ¥è¯¢å’Œåˆ†æéœ€æ±‚ã€‚
æ”¯æŒ OLAPï¼ˆåœ¨çº¿åˆ†æå¤„ç†ï¼‰æ“ä½œï¼Œå¦‚èšåˆæŸ¥è¯¢ã€é’»å–å’Œåˆ‡ç‰‡ã€‚</p>
<h4 data-id="heading-7">æ•°æ®ç»†åŒ–ä¸åˆ†ç±»</h4>
<p>å°†æ•°æ®æŒ‰ç…§ä¸»é¢˜åŸŸï¼ˆå¦‚é”€å”®ã€è´¢åŠ¡ã€åº“å­˜ç­‰ï¼‰åˆ†ç±»ï¼Œä¾¿äºç®¡ç†å’ŒæŸ¥è¯¢ã€‚
é€šå¸¸ä¿æŒè¾ƒé«˜çš„ç»†èŠ‚ç²’åº¦ï¼Œä¾¿äºçµæ´»æ‰©å±•ã€‚</p>
<h4 data-id="heading-8">æ•°æ®å‡†ç¡®æ€§ä¸ä¸€è‡´æ€§</h4>
<p>ç»è¿‡å¤„ç†çš„æ•°æ®ç»è¿‡æ ¡éªŒï¼Œç¡®ä¿é€»è¾‘å…³ç³»æ­£ç¡®ï¼Œèƒ½å¤Ÿä¸ºä¸‹æ¸¸æä¾›å‡†ç¡®çš„ä¸€è‡´æ€§æ•°æ®ã€‚</p>
<h3 data-id="heading-9">åˆ›å»ºDWSå±‚è¡¨</h3>
<pre><code class="hljs language-sql" lang="sql">use dws;
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> dws.dws_member_add_day;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> dws.dws_member_add_day
(
  `device_id` string,
  `uid` string,
  `app_v` string,
  `os_type` string,
  `<span class="hljs-keyword">language</span>` string,
  `channel` string,
  `area` string,
  `brand` string,
  `dt` string
) COMMENT <span class="hljs-string">'æ¯æ—¥æ–°å¢ä¼šå‘˜æ˜ç»†'</span>
stored <span class="hljs-keyword">as</span> parquet;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5977b9d54cda41818a422e7dfd78e65d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=Wjcw%2FPq%2FnUp8S5CAMOWFrYltrw4%3D" alt="ç¦»çº¿æ•°ä»“ DWS å±‚" loading="lazy"/></p>
<h3 data-id="heading-10">åŠ è½½DWSå±‚æ•°æ®</h3>
<p>æˆ‘ä»¬ç¼–å†™è„šæœ¬ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">vim /opt/wzk/hive/dws_load_member_add_day.sh
</code></pre>
<p>å†™å…¥å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>
source /etc/profile
if [ -n "$1" ]
then
do_date=$1
else
do_date=`date -d "-1 day" +%F`
fi
sql="
insert into table dws.dws_member_add_day
select t1.device_id,
t1.uid,
t1.app_v,
t1.os_type,
t1.language,
t1.channel,
t1.area,
t1.brand,
'$do_date'
from dws.dws_member_start_day t1 left join
dws.dws_member_add_day t2
on t1.device_id=t2.device_id
where t1.dt='$do_date'
and t2.device_id is null;
"
hive -e "$sql"
</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7453f2ae3fb49d0bd0f4d73e8f686e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=60xl14xxAFxWR9SaMGk0zFiMuVw%3D" alt="ç¦»çº¿æ•°ä»“åŠ è½½ DWS å±‚" loading="lazy"/></p>
<h3 data-id="heading-11">ADS ä½œç”¨</h3>
<h4 data-id="heading-12">èšåˆå’Œç®€åŒ–æ•°æ®</h4>
<p>å°† DWS å±‚ä¸­å¤šè¡¨ã€å¤šä¸»é¢˜åŸŸçš„æ•°æ®èšåˆæˆç®€å•æ˜“ç”¨çš„è¡¨æˆ–è§†å›¾ã€‚
ç›´æ¥è¾“å‡ºæ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æ•°æ®ç»“æœã€‚</p>
<h4 data-id="heading-13">é¢å‘ä¸šåŠ¡åº”ç”¨</h4>
<p>é€šè¿‡è®¾è®¡å®½è¡¨æˆ–é«˜æ€§èƒ½è§†å›¾ï¼Œç›´æ¥æ”¯æŒå…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’ŒæŠ¥è¡¨éœ€æ±‚ã€‚
å“åº”å¿«é€ŸæŸ¥è¯¢éœ€æ±‚ï¼Œå¦‚å®æ—¶æ•°æ®çš„å±•ç¤ºã€‚</p>
<h4 data-id="heading-14">æ•°æ®åˆ†å‘ä¸é›†æˆ</h4>
<p>ä¸ºå‰ç«¯çš„ BI å·¥å…·ã€æŠ¥è¡¨ç³»ç»Ÿæˆ– API æœåŠ¡æä¾›é«˜æ•ˆçš„æŸ¥è¯¢æ¥å£ã€‚
èƒ½å¤Ÿé€šè¿‡ç¼“å­˜æœºåˆ¶æˆ–ç‰©åŒ–è§†å›¾åŠ é€ŸæŸ¥è¯¢æ€§èƒ½ã€‚</p>
<h4 data-id="heading-15">è½»é‡åŒ–ä¸é«˜æ€§èƒ½</h4>
<p>å°½é‡å‡å°‘æ•°æ®é‡ï¼Œä¿ç•™ä¸šåŠ¡æœ€å…³å¿ƒçš„å…³é”®æŒ‡æ ‡ã€‚
é‡‡ç”¨é¢„èšåˆã€é¢„è®¡ç®—ç­‰æŠ€æœ¯æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p>
<h3 data-id="heading-16">åˆ›å»ºADSå±‚è¡¨</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> ads.ads_new_member_cnt;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> ads.ads_new_member_cnt(
  `cnt` string
)
partitioned <span class="hljs-keyword">by</span>(dt string)
<span class="hljs-type">row</span> format delimited fields terminated <span class="hljs-keyword">by</span> <span class="hljs-string">','</span>;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/215a2c64b9e9452496ca1dbdb1df504b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=XOZFZ4nRok%2FvOKW80F8WSB8K1vg%3D" alt="ç¦»çº¿æ•°ä»“ Hive DWS å±‚" loading="lazy"/></p>
<h3 data-id="heading-17">åŠ è½½ADSå±‚æ•°æ®</h3>
<p>ç¼–å†™æ•°æ®åŠ è½½çš„è„šæœ¬ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">vim /opt/wzk/hive/ads_load_member_add.sh
</code></pre>
<p>ç¼–å†™å¯¹åº”çš„è„šæœ¬å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">#<span class="hljs-operator">!</span><span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>bash
source <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>profile
if [ <span class="hljs-operator">-</span>n "$1" ] ;<span class="hljs-keyword">then</span>
do_date<span class="hljs-operator">=</span>$<span class="hljs-number">1</span>
<span class="hljs-keyword">else</span>
do_date<span class="hljs-operator">=</span>`<span class="hljs-type">date</span> <span class="hljs-operator">-</span>d "-1 day" <span class="hljs-operator">+</span><span class="hljs-operator">%</span>F`
fi
<span class="hljs-keyword">sql</span><span class="hljs-operator">=</span>"
insert overwrite table ads.ads_new_member_cnt
partition (dt='$do_date')
select count(1)
from dws.dws_member_add_day
where dt = '$do_date'
"
hive <span class="hljs-operator">-</span>e "$sql"
</code></pre>
<h3 data-id="heading-18">æš‚æ—¶å°ç»“</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19e374a5a01c4f5aa0de17db7df9fc82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971436&amp;x-signature=k6ukLTDL%2BkO4O84GTTM64I1gnYE%3D" alt="ç¦»çº¿æ•°ä»“ ADS å±‚" loading="lazy"/>
è°ƒç”¨è„šæœ¬çš„æ¬¡åºæ˜¯ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">dws_load_member_add_day.sh
ads_load_member_add.sh
</code></pre>
<h2 data-id="heading-19">é”™è¯¯é€ŸæŸ¥</h2>













































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>å½“æ—¥æ–°å¢æ•°å¿½é«˜å¿½ä½</td><td>æ–°å¢é”šç‚¹ä¸ç¨³å®šï¼ˆdevice_id ä¼šå˜/uid ä¼šå˜ï¼‰</td><td>å¯¹æ¯”åŒæ—¥ uid ä¸ device_id å»é‡åçš„åŸºæ•°å·®å¼‚ï¼›æ˜ç¡®æ–°å¢å£å¾„ï¼šä¼˜å…ˆé€‰ç¨³å®šä¸»é”®ï¼›å¿…è¦æ—¶åš device_idâ†”uid ç»‘å®šè¡¨</td></tr><tr><td>æ–°å¢æ˜ç»†é‡å¤å‡ºç°</td><td>åŒä¸€ç”¨æˆ·å¤šå¤©å…¨é‡ä¼šå‘˜è¡¨æœªæˆåŠŸå¢é‡å†™å…¥æˆ–å†™å…¥å¤±è´¥å›æ»š</td><td>æ£€æŸ¥ t2/å…¨é‡è¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥ id çš„å†å² dtï¼›å…ˆä¿è¯â€œæ’å…¥å…¨é‡è¡¨â€æˆåŠŸå†äº§å‡ºä¸‹æ¸¸ï¼›ç»™æ’å…¥åŠ å¹‚ç­‰çº¦æŸï¼ˆåˆ†åŒº/å»é‡ï¼‰</td></tr><tr><td>æ–°å¢æ˜ç»†ä¸º 0ï¼Œä½†å¯åŠ¨æ˜ç»†æœ‰æ•°æ®</td><td>join æ¡ä»¶/å­—æ®µç±»å‹ä¸ä¸€è‡´å¯¼è‡´å…¨åŒ¹é…</td><td>æŠ½æ ·æ£€æŸ¥ t1.id ä¸ t2.id çš„ç±»å‹ã€æ˜¯å¦æœ‰ç©ºæ ¼/æ ¼å¼å·®ï¼›ç»Ÿä¸€å­—æ®µç±»å‹ä¸æ¸…æ´—è§„åˆ™ï¼›å¿…è¦æ—¶ trim/cast åå† join</td></tr><tr><td>ADS åˆ†åŒºè¦†ç›–é”™è¯¯æˆ–æ•°æ®è·‘åˆ°é”™è¯¯æ—¥æœŸ</td><td>do_date ä¼ å‚/é»˜è®¤æ—¥æœŸå–å€¼ä¸ç¬¦åˆè°ƒåº¦æ—¶é—´</td><td>æ‰“å°è„šæœ¬ do_date ä¸ SQL where dtï¼›ç»Ÿä¸€è°ƒåº¦æ—¶é—´åŸºå‡†ï¼›å¼ºåˆ¶è°ƒåº¦ä¼ å‚ï¼Œé¿å…é»˜è®¤ -1 day è¯¯å·®</td></tr><tr><td>ADS ç»“æœç´¯åŠ è€Œéè¦†ç›–</td><td>insert into ç”¨é”™ï¼Œæˆ–åˆ†åŒºæœªæŒ‡å®šå¯¼è‡´è¿½åŠ </td><td>æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ insert overwrite + partition(dt=)ï¼›æŒ‡æ ‡è¡¨ç”¨ insert overwrite è¦†ç›–å½“æ—¥åˆ†åŒºï¼›æ˜ç»†è¡¨æŒ‰éœ€æ±‚å†³å®šè¿½åŠ </td></tr><tr><td>æ–°å¢å£å¾„ä¸â€œå¸è½½é‡è£…ä¸ç®—æ–°å¢â€ä¸ä¸€è‡´</td><td>ä»…é  device_id æ— æ³•è¯†åˆ«â€œåŒè®¾å¤‡å¸è½½é‡è£…â€è¾¹ç•Œ</td><td>ç»Ÿè®¡åŒ device_id çš„é¦–æ¬¡/å¤šæ¬¡å‡ºç°æ¨¡å¼ï¼›ä»¥ device_id ä¸ºä¸»é”®ç»´æŠ¤é¦–æ¬¡ dtï¼›è‹¥è®¾å¤‡é‡ç½®å¯¼è‡´å˜åŒ–ï¼Œéœ€é£æ§/åŸ‹ç‚¹è¡¥å¼º</td></tr><tr><td>DWS/ADS ä¸²è¡Œæ‰§è¡Œä»å‡ºç°ç©ºç»“æœ</td><td>DWS è¡¨ dt å­—æ®µå†™å…¥ä¸ where dt ä¸ä¸€è‡´</td><td>æ ¸å¯¹ DWS æ’å…¥æ—¶ dt å–å€¼æ˜¯å¦ä¸º â€˜$do_dateâ€™ï¼›ä¿è¯ DWS å†™å…¥ dt ä¸æŸ¥è¯¢ dt åŒæºï¼›é¿å…æ··ç”¨ t1.dt ä¸è„šæœ¬ dt</td></tr></tbody></table>
<h2 data-id="heading-20">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-21">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-22">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-23">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swiftä¸­çš„åˆ†å±‚ç¼“å­˜è®¾è®¡ï¼šå¹³è¡¡æ€§èƒ½ã€å†…å­˜ä¸æ•°æ®ä¸€è‡´æ€§çš„å®è·µæ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7603383059151667242</link>    <guid>https://juejin.cn/post/7603383059151667242</guid>    <pubDate>2026-02-06T08:31:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603383059151667242" data-draft-id="7603352061506813958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swiftä¸­çš„åˆ†å±‚ç¼“å­˜è®¾è®¡ï¼šå¹³è¡¡æ€§èƒ½ã€å†…å­˜ä¸æ•°æ®ä¸€è‡´æ€§çš„å®è·µæ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-02-06T08:31:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swiftä¸­çš„åˆ†å±‚ç¼“å­˜è®¾è®¡ï¼šå¹³è¡¡æ€§èƒ½ã€å†…å­˜ä¸æ•°æ®ä¸€è‡´æ€§çš„å®è·µæ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:31:51.000Z" title="Fri Feb 06 2026 08:31:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šå•ä¸€ç¼“å­˜ç­–ç•¥çš„å±€é™æ€§</h2>
<p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œç¼“å­˜æ˜¯æå‡æ€§èƒ½çš„å…³é”®æ‰‹æ®µã€‚ç„¶è€Œï¼Œå•ä¸€çš„ç¼“å­˜ç­–ç•¥å¾€å¾€éš¾ä»¥åŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ ¸å¿ƒè¯‰æ±‚ï¼šé«˜æ€§èƒ½ã€ä½å†…å­˜å ç”¨å’Œæ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>å†…å­˜ç¼“å­˜é€Ÿåº¦å¿«ä½†å®¹é‡æœ‰é™ï¼Œç£ç›˜ç¼“å­˜å®¹é‡å¤§ä½†è®¿é—®å»¶è¿Ÿé«˜ã€‚å¦‚ä½•åœ¨äºŒè€…ä¹‹é—´å–å¾—å¹³è¡¡ï¼Ÿåˆ†å±‚ç¼“å­˜ï¼ˆTiered Cachingï¼‰ æä¾›äº†ä¸€ç§ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">åˆ†å±‚ç¼“å­˜æ ¸å¿ƒæ¦‚å¿µè§£æ</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯åˆ†å±‚ç¼“å­˜ï¼Ÿ</h3>
<p>åˆ†å±‚ç¼“å­˜æ˜¯ä¸€ç§å°†ä¸åŒå­˜å‚¨ä»‹è´¨æŒ‰è®¿é—®é€Ÿåº¦å’Œå®¹é‡ç»„ç»‡æˆå±‚çº§ç»“æ„çš„æ¶æ„æ¨¡å¼ã€‚å…¸å‹çš„ä¸¤å±‚ç»“æ„åŒ…å«ï¼š</p>
<ul>
<li>L1 ç¼“å­˜ï¼ˆå†…å­˜å±‚ï¼‰ï¼šåŸºäº <code>NSCache</code> æˆ–è‡ªå®šä¹‰å†…å­˜å­˜å‚¨ï¼Œæä¾›çº³ç§’çº§è®¿é—®é€Ÿåº¦ï¼Œå®¹é‡å—é™</li>
<li>L2 ç¼“å­˜ï¼ˆç£ç›˜å±‚ï¼‰ï¼šåŸºäºæ–‡ä»¶ç³»ç»Ÿæˆ–æ•°æ®åº“å­˜å‚¨ï¼Œæä¾›æŒä¹…åŒ–èƒ½åŠ›ï¼Œå®¹é‡å¤§ä½†è®¿é—®å»¶è¿Ÿåœ¨æ¯«ç§’çº§</li>
</ul>
<p>æ•°æ®åœ¨è¿™ä¸¤å±‚ä¹‹é—´æŒ‰ç­–ç•¥æµåŠ¨ï¼Œå½¢æˆçƒ­ç‚¹æ•°æ®ä¸Šæµ®ã€å†·æ•°æ®ä¸‹æ²‰çš„åŠ¨æ€å¹³è¡¡ã€‚</p>
<h3 data-id="heading-3">å…³é”®è®¾è®¡ç›®æ ‡</h3>



































<table><thead><tr><th align="left">ç›®æ ‡ç»´åº¦</th><th align="left">å†…å­˜ç¼“å­˜</th><th align="left">ç£ç›˜ç¼“å­˜</th><th align="left">åˆ†å±‚ç¼“å­˜ä¼˜åŠ¿</th></tr></thead><tbody><tr><td align="left">è®¿é—®é€Ÿåº¦</td><td align="left">âš¡ï¸âš¡ï¸âš¡ï¸âš¡ï¸âš¡ï¸</td><td align="left">âš¡ï¸âš¡ï¸</td><td align="left">çƒ­ç‚¹æ•°æ®èµ°å†…å­˜ï¼Œä¿è¯æè‡´æ€§èƒ½</td></tr><tr><td align="left">å­˜å‚¨å®¹é‡</td><td align="left">å—é™ï¼ˆMB çº§ï¼‰</td><td align="left">å¤§ï¼ˆGB çº§ï¼‰</td><td align="left">æ‰©å±•æœ‰æ•ˆç¼“å­˜å®¹é‡ç™¾å€</td></tr><tr><td align="left">æ•°æ®æŒä¹…åŒ–</td><td align="left">è¿›ç¨‹ç»“æŸå³ä¸¢å¤±</td><td align="left">æŒä¹…åŒ–ä¿å­˜</td><td align="left">å…¼é¡¾ä¸´æ—¶åŠ é€Ÿä¸é•¿æœŸå­˜å‚¨</td></tr><tr><td align="left">å†…å­˜å ç”¨</td><td align="left">é«˜</td><td align="left">é›¶</td><td align="left">æ™ºèƒ½æ¸…ç†æœºåˆ¶æ§åˆ¶å³°å€¼</td></tr></tbody></table>
<h2 data-id="heading-4">Swift å®ç°ï¼šæ ¸å¿ƒæ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-5">ç¼“å­˜æŠ½è±¡åè®®</h3>
<p>é¦–å…ˆå®šä¹‰ç»Ÿä¸€çš„ç¼“å­˜æ“ä½œæ¥å£ï¼Œå®ç°å±‚é—´è§£è€¦ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-comment">/// ç¼“å­˜æ“ä½œç»Ÿä¸€åè®®</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Key</span>: <span class="hljs-type">Hashable</span>
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Value</span>
    
    <span class="hljs-comment">/// å¼‚æ­¥è·å–ç¼“å­˜å€¼</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Value</span>?
    
    <span class="hljs-comment">/// å¼‚æ­¥è®¾ç½®ç¼“å­˜å€¼</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Value</span>?, <span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span>
    
    <span class="hljs-comment">/// åˆ é™¤ç¼“å­˜</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span>
    
    <span class="hljs-comment">/// æ¸…ç©ºæ‰€æœ‰ç¼“å­˜</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">removeAll</span>() <span class="hljs-keyword">async</span>
}

<span class="hljs-comment">/// æ”¯æŒæŒä¹…åŒ–çš„ç¼“å­˜åè®®</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">PersistentCache</span>: <span class="hljs-title class_">Cache</span> {
    <span class="hljs-comment">/// ä»æŒä¹…åŒ–å­˜å‚¨åŠ è½½æ•°æ®</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">load</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span>
    
    <span class="hljs-comment">/// å°†æ•°æ®æŒä¹…åŒ–åˆ°å­˜å‚¨</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">save</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span>
}
</code></pre>
<h3 data-id="heading-6">å†…å­˜ç¼“å­˜å±‚å®ç°</h3>
<p>åŸºäº <code>NSCache</code> å®ç°çº¿ç¨‹å®‰å…¨çš„å†…å­˜ç¼“å­˜ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-comment">/// å†…å­˜ç¼“å­˜å±‚å®ç°</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryCache</span>&lt;<span class="hljs-title class_">Key</span>: <span class="hljs-title class_">Hashable</span>, <span class="hljs-title class_">Value</span>&gt;: <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">NSCache</span>&lt;<span class="hljs-type">WrappedKey</span>, <span class="hljs-type">Entry</span>&gt;()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> dateProvider: () -&gt; <span class="hljs-type">Date</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> entryLifetime: <span class="hljs-type">TimeInterval</span>
    
    <span class="hljs-comment">/// åŒ…è£…Keyä»¥é€‚é… NSCache</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WrappedKey</span>: <span class="hljs-title class_">NSObject</span> {
        <span class="hljs-keyword">let</span> key: <span class="hljs-type">Key</span>
        <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) { <span class="hljs-keyword">self</span>.key <span class="hljs-operator">=</span> key }
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> hash: <span class="hljs-type">Int</span> { key.hashValue }
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">isEqual</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">object</span>: <span class="hljs-keyword">Any</span><span class="hljs-operator">?</span>) -&gt; <span class="hljs-type">Bool</span> {
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> other <span class="hljs-operator">=</span> object <span class="hljs-keyword">as?</span> <span class="hljs-type">WrappedKey</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> }
            <span class="hljs-keyword">return</span> key <span class="hljs-operator">==</span> other.key
        }
    }
    
    <span class="hljs-comment">/// ç¼“å­˜æ¡ç›®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Entry</span>: <span class="hljs-title class_">NSObject</span> {
        <span class="hljs-keyword">let</span> value: <span class="hljs-type">Value</span>
        <span class="hljs-keyword">let</span> expirationDate: <span class="hljs-type">Date</span>
        <span class="hljs-keyword">init</span>(<span class="hljs-params">value</span>: <span class="hljs-type">Value</span>, <span class="hljs-params">expirationDate</span>: <span class="hljs-type">Date</span>) {
            <span class="hljs-keyword">self</span>.value <span class="hljs-operator">=</span> value
            <span class="hljs-keyword">self</span>.expirationDate <span class="hljs-operator">=</span> expirationDate
        }
    }
    
    <span class="hljs-comment">// MARK: - åˆå§‹åŒ–</span>
    <span class="hljs-keyword">init</span>(
        <span class="hljs-params">dateProvider</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Date</span> <span class="hljs-operator">=</span> <span class="hljs-type">Date</span>.<span class="hljs-keyword">init</span>,
        <span class="hljs-params">entryLifetime</span>: <span class="hljs-type">TimeInterval</span> <span class="hljs-operator">=</span> <span class="hljs-number">300</span>  <span class="hljs-comment">// é»˜è®¤5åˆ†é’Ÿè¿‡æœŸ</span>
    ) {
        <span class="hljs-keyword">self</span>.dateProvider <span class="hljs-operator">=</span> dateProvider
        <span class="hljs-keyword">self</span>.entryLifetime <span class="hljs-operator">=</span> entryLifetime
        cache.countLimit <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>  <span class="hljs-comment">// æœ€å¤§ç¼“å­˜1000æ¡</span>
    }
    
    <span class="hljs-comment">// MARK: - Cache åè®®å®ç°</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Value</span>? {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> entry <span class="hljs-operator">=</span> cache.object(forKey: <span class="hljs-type">WrappedKey</span>(key)) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">guard</span> dateProvider() <span class="hljs-operator">&lt;</span> entry.expirationDate <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// è¿‡æœŸæ¸…ç†</span>
            <span class="hljs-keyword">await</span> remove(forKey: key)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        <span class="hljs-keyword">return</span> entry.value
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Value</span>?, <span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> value {
            <span class="hljs-keyword">let</span> expirationDate <span class="hljs-operator">=</span> dateProvider().addingTimeInterval(entryLifetime)
            <span class="hljs-keyword">let</span> entry <span class="hljs-operator">=</span> <span class="hljs-type">Entry</span>(value: value, expirationDate: expirationDate)
            cache.setObject(entry, forKey: <span class="hljs-type">WrappedKey</span>(key))
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">await</span> remove(forKey: key)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        cache.removeObject(forKey: <span class="hljs-type">WrappedKey</span>(key))
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">removeAll</span>() <span class="hljs-keyword">async</span> {
        cache.removeAllObjects()
    }
}
</code></pre>
<h3 data-id="heading-7">ç£ç›˜ç¼“å­˜å±‚å®ç°</h3>
<p>åŸºäºæ–‡ä»¶ç³»ç»Ÿå®ç°æŒä¹…åŒ–ç¼“å­˜ï¼Œä½¿ç”¨ <code>JSONEncoder</code> è¿›è¡Œåºåˆ—åŒ–ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-comment">/// ç£ç›˜ç¼“å­˜å±‚å®ç°</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiskCache</span>&lt;<span class="hljs-title class_">Key</span>: <span class="hljs-title class_">Hashable</span> &amp; <span class="hljs-title class_">Codable</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-title class_">Codable</span>&gt;: <span class="hljs-title class_">PersistentCache</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> storage: <span class="hljs-type">UserDefaults</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> key: <span class="hljs-type">String</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> dateProvider: () -&gt; <span class="hljs-type">Date</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> entryLifetime: <span class="hljs-type">TimeInterval</span>
    
    <span class="hljs-comment">/// ç¼“å­˜æ¡ç›®åŒ…è£…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Entry</span>: <span class="hljs-title class_">Codable</span> {
        <span class="hljs-keyword">let</span> value: <span class="hljs-type">Value</span>
        <span class="hljs-keyword">let</span> expirationDate: <span class="hljs-type">Date</span>
    }
    
    <span class="hljs-comment">// MARK: - åˆå§‹åŒ–</span>
    <span class="hljs-keyword">init</span>(
        <span class="hljs-params">storage</span>: <span class="hljs-type">UserDefaults</span> <span class="hljs-operator">=</span> .standard,
        <span class="hljs-params">key</span>: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">"disk_cache"</span>,
        <span class="hljs-params">dateProvider</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Date</span> <span class="hljs-operator">=</span> <span class="hljs-type">Date</span>.<span class="hljs-keyword">init</span>,
        <span class="hljs-params">entryLifetime</span>: <span class="hljs-type">TimeInterval</span> <span class="hljs-operator">=</span> <span class="hljs-number">3600</span>  <span class="hljs-comment">// é»˜è®¤1å°æ—¶è¿‡æœŸ</span>
    ) {
        <span class="hljs-keyword">self</span>.storage <span class="hljs-operator">=</span> storage
        <span class="hljs-keyword">self</span>.key <span class="hljs-operator">=</span> key
        <span class="hljs-keyword">self</span>.dateProvider <span class="hljs-operator">=</span> dateProvider
        <span class="hljs-keyword">self</span>.entryLifetime <span class="hljs-operator">=</span> entryLifetime
    }
    
    <span class="hljs-comment">// MARK: - Cache åè®®å®ç°</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Value</span>? {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> storage.data(forKey: keyPrefix <span class="hljs-operator">+</span> <span class="hljs-type">String</span>(describing: key)) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">let</span> entry <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode(<span class="hljs-type">Entry</span>.<span class="hljs-keyword">self</span>, from: data)
            <span class="hljs-keyword">guard</span> dateProvider() <span class="hljs-operator">&lt;</span> entry.expirationDate <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">await</span> remove(forKey: key)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
            }
            <span class="hljs-keyword">return</span> entry.value
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-keyword">await</span> remove(forKey: key)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Value</span>?, <span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">let</span> cacheKey <span class="hljs-operator">=</span> keyPrefix <span class="hljs-operator">+</span> <span class="hljs-type">String</span>(describing: key)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> value {
            <span class="hljs-keyword">let</span> entry <span class="hljs-operator">=</span> <span class="hljs-type">Entry</span>(value: value, expirationDate: dateProvider().addingTimeInterval(entryLifetime))
            <span class="hljs-keyword">do</span> {
                <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONEncoder</span>().encode(entry)
                storage.set(data, forKey: cacheKey)
            } <span class="hljs-keyword">catch</span> {
                storage.removeObject(forKey: cacheKey)
            }
        } <span class="hljs-keyword">else</span> {
            storage.removeObject(forKey: cacheKey)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        storage.removeObject(forKey: keyPrefix <span class="hljs-operator">+</span> <span class="hljs-type">String</span>(describing: key))
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">removeAll</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">let</span> keys <span class="hljs-operator">=</span> storage.dictionaryRepresentation().keys.filter { <span class="hljs-variable">$0</span>.hasPrefix(keyPrefix) }
        keys.forEach { storage.removeObject(forKey: <span class="hljs-variable">$0</span>) }
    }
    
    <span class="hljs-comment">// MARK: - PersistentCache åè®®å®ç°</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">load</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {
        <span class="hljs-comment">// UserDefaults è‡ªåŠ¨æŒä¹…åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨åŠ è½½</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">save</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {
        <span class="hljs-comment">// UserDefaults è‡ªåŠ¨æŒä¹…åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨ä¿å­˜</span>
    }
    
    <span class="hljs-comment">// MARK: - ç§æœ‰è¾…åŠ©</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> keyPrefix: <span class="hljs-type">String</span> { <span class="hljs-string">"__<span class="hljs-subst">\(key)</span>_"</span> }
}
</code></pre>
<h2 data-id="heading-8">åˆ†å±‚ç¼“å­˜æ ¸å¿ƒé€»è¾‘ï¼šç­–ç•¥æ¨¡å¼</h2>
<h3 data-id="heading-9">ç¼“å­˜ç­–ç•¥æšä¸¾</h3>
<p>å®šä¹‰ä¸åŒçš„ç¼“å­˜è®¿é—®ç­–ç•¥ï¼Œè¿™æ˜¯åˆ†å±‚ç¼“å­˜çš„æ ¸å¿ƒåˆ›æ–°ç‚¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-comment">/// ç¼“å­˜è®¿é—®ç­–ç•¥</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">CacheStrategy</span> {
    <span class="hljs-comment">/// å…ˆè¿”å›ç¼“å­˜ï¼Œå†å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰</span>
    <span class="hljs-keyword">case</span> cacheThenFetch
    
    <span class="hljs-comment">/// ä¼˜å…ˆè¿”å›ç¼“å­˜ï¼Œæ— ç¼“å­˜æ—¶è·å–æ–°æ•°æ®ï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</span>
    <span class="hljs-keyword">case</span> cacheElseFetch
    
    <span class="hljs-comment">/// å¿½ç•¥ç¼“å­˜ï¼Œå¼ºåˆ¶è·å–æ–°æ•°æ®</span>
    <span class="hljs-keyword">case</span> fetch
    
    <span class="hljs-comment">/// ä»…è¿”å›ç¼“å­˜ï¼Œä¸è·å–æ–°æ•°æ®</span>
    <span class="hljs-keyword">case</span> cacheOnly
}

<span class="hljs-comment">/// ç¼“å­˜ç»“æœåŒ…è£…</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">CacheResult</span>&lt;<span class="hljs-title class_">Value</span>&gt; {
    <span class="hljs-keyword">case</span> hit(<span class="hljs-type">Value</span>)      <span class="hljs-comment">// ç¼“å­˜å‘½ä¸­</span>
    <span class="hljs-keyword">case</span> miss           <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­</span>
    <span class="hljs-keyword">case</span> error(<span class="hljs-type">Error</span>)   <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯</span>
    
    <span class="hljs-keyword">var</span> value: <span class="hljs-type">Value</span>? {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .hit(<span class="hljs-keyword">let</span> v) <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> { <span class="hljs-keyword">return</span> v }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
    }
}
</code></pre>
<h3 data-id="heading-10">åˆ†å±‚ç¼“å­˜ç®¡ç†å™¨</h3>
<p>ä¸¤å±‚ç¼“å­˜çš„ååŒå·¥ä½œï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-comment">/// åˆ†å±‚ç¼“å­˜ç®¡ç†å™¨</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TieredCache</span>&lt;<span class="hljs-title class_">Key</span>: <span class="hljs-title class_">Hashable</span> &amp; <span class="hljs-title class_">Codable</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-title class_">Codable</span>&gt; {
    <span class="hljs-comment">// MARK: - ç¼“å­˜å±‚çº§</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> memoryCache <span class="hljs-operator">=</span> <span class="hljs-type">MemoryCache</span>&lt;<span class="hljs-type">Key</span>, <span class="hljs-type">Value</span>&gt;()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> diskCache <span class="hljs-operator">=</span> <span class="hljs-type">DiskCache</span>&lt;<span class="hljs-type">Key</span>, <span class="hljs-type">Value</span>&gt;()
    
    <span class="hljs-comment">/// æ•°æ®æºæä¾›è€…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> origin: (<span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-type">Value</span>?
    
    <span class="hljs-comment">// MARK: - åˆå§‹åŒ–</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">origin</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-type">Value</span>?) {
        <span class="hljs-keyword">self</span>.origin <span class="hljs-operator">=</span> origin
    }
    
    <span class="hljs-comment">// MARK: - æ ¸å¿ƒæ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(
        <span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>,
        <span class="hljs-params">strategy</span>: <span class="hljs-type">CacheStrategy</span> <span class="hljs-operator">=</span> .cacheElseFetch
    ) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">CacheResult</span>&lt;<span class="hljs-type">Value</span>&gt; {
        <span class="hljs-keyword">switch</span> strategy {
        <span class="hljs-keyword">case</span> .cacheThenFetch:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleCacheThenFetch(forKey: key)
            
        <span class="hljs-keyword">case</span> .cacheElseFetch:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleCacheElseFetch(forKey: key)
            
        <span class="hljs-keyword">case</span> .fetch:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleFetch(forKey: key)
            
        <span class="hljs-keyword">case</span> .cacheOnly:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> handleCacheOnly(forKey: key)
        }
    }
    
    <span class="hljs-comment">/// è®¾ç½®ç¼“å­˜ï¼ˆåŒæ—¶å†™å…¥ä¸¤å±‚ï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Value</span>?, <span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">await</span> memoryCache.set(value, forKey: key)
        <span class="hljs-keyword">await</span> diskCache.set(value, forKey: key)
    }
}
</code></pre>
<h3 data-id="heading-11">ç­–ç•¥å®ç°è¯¦è§£</h3>
<p>ç­–ç•¥ Aï¼š<code>cacheThenFetch</code>ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">TieredCache</span> {
    <span class="hljs-comment">/// å…ˆè¿”å›ç¼“å­˜ï¼Œå†å¼‚æ­¥æ›´æ–°ï¼ˆé€‚åˆå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleCacheThenFetch</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">CacheResult</span>&lt;<span class="hljs-type">Value</span>&gt; {
        <span class="hljs-comment">// 1. ç«‹å³æ£€æŸ¥å†…å­˜ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> memoryValue <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> memoryCache.get(forKey: key) {
            <span class="hljs-comment">// å¼‚æ­¥è§¦å‘æ›´æ–°ï¼Œä½†ä¸é˜»å¡è¿”å›</span>
            <span class="hljs-type">Task</span> {
                <span class="hljs-keyword">await</span> doFetchAndCache(forKey: key)
            }
            <span class="hljs-keyword">return</span> .hit(memoryValue)
        }
        
        <span class="hljs-comment">// 2. æ£€æŸ¥ç£ç›˜ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> diskValue <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> diskCache.get(forKey: key) {
            <span class="hljs-comment">// å°†çƒ­ç‚¹æ•°æ®æå‡åˆ°å†…å­˜å±‚</span>
            <span class="hljs-keyword">await</span> memoryCache.set(diskValue, forKey: key)
            <span class="hljs-comment">// å¼‚æ­¥è§¦å‘æ›´æ–°</span>
            <span class="hljs-type">Task</span> {
                <span class="hljs-keyword">await</span> doFetchAndCache(forKey: key)
            }
            <span class="hljs-keyword">return</span> .hit(diskValue)
        }
        
        <span class="hljs-comment">// 3. æ— ç¼“å­˜ï¼ŒåŒæ­¥è·å–</span>
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> origin(key) {
                <span class="hljs-keyword">await</span> <span class="hljs-keyword">set</span>(value, forKey: key)
                <span class="hljs-keyword">return</span> .hit(value)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> .miss
            }
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-keyword">return</span> .error(error)
        }
    }
}
</code></pre>
<p>ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·å¤´åƒã€æ–‡ç« åˆ—è¡¨ç­‰å®¹å¿çŸ­æš‚å»¶è¿Ÿçš„æ•°æ®ã€‚</p>
<p>ç­–ç•¥ Bï¼š<code>cacheElseFetch</code>ï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">TieredCache</span> {
    <span class="hljs-comment">/// ä¼˜å…ˆä½¿ç”¨ç¼“å­˜ï¼Œæ— ç¼“å­˜æ—¶æ‰è·å–ï¼ˆé€‚åˆå¯¹ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleCacheElseFetch</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">CacheResult</span>&lt;<span class="hljs-type">Value</span>&gt; {
        <span class="hljs-comment">// 1. æ£€æŸ¥å†…å­˜ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> memoryCache.get(forKey: key) {
            <span class="hljs-keyword">return</span> .hit(value)
        }
        
        <span class="hljs-comment">// 2. æ£€æŸ¥ç£ç›˜ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> diskCache.get(forKey: key) {
            <span class="hljs-comment">// çƒ­ç‚¹æ•°æ®æå‡</span>
            <span class="hljs-keyword">await</span> memoryCache.set(value, forKey: key)
            <span class="hljs-keyword">return</span> .hit(value)
        }
        
        <span class="hljs-comment">// 3. å¿…é¡»è·å–æ–°æ•°æ®</span>
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> origin(key) {
                <span class="hljs-keyword">await</span> <span class="hljs-keyword">set</span>(value, forKey: key)
                <span class="hljs-keyword">return</span> .hit(value)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> .miss
            }
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-keyword">return</span> .error(error)
        }
    }
}
</code></pre>
<p>ä½¿ç”¨åœºæ™¯ï¼šé…ç½®ä¿¡æ¯ã€ç”¨æˆ·æƒé™ç­‰å…³é”®æ•°æ®ã€‚</p>
<p>ç­–ç•¥ C &amp; Dï¼šç®€å•ç­–ç•¥</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">TieredCache</span> {
    <span class="hljs-comment">/// å¼ºåˆ¶è·å–æ–°æ•°æ®ï¼ˆå¿½ç•¥ç¼“å­˜ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleFetch</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">CacheResult</span>&lt;<span class="hljs-type">Value</span>&gt; {
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> origin(key) {
                <span class="hljs-keyword">await</span> <span class="hljs-keyword">set</span>(value, forKey: key)
                <span class="hljs-keyword">return</span> .hit(value)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> .miss
            }
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-keyword">return</span> .error(error)
        }
    }
    
    <span class="hljs-comment">/// ä»…è¿”å›ç¼“å­˜ï¼Œä¸è·å–æ–°æ•°æ®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleCacheOnly</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">CacheResult</span>&lt;<span class="hljs-type">Value</span>&gt; {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> memoryCache.get(forKey: key) {
            <span class="hljs-keyword">return</span> .hit(value)
        }
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> diskCache.get(forKey: key) {
            <span class="hljs-keyword">await</span> memoryCache.set(value, forKey: key)
            <span class="hljs-keyword">return</span> .hit(value)
        }
        
        <span class="hljs-keyword">return</span> .miss
    }
    
    <span class="hljs-comment">/// å†…éƒ¨æ–¹æ³•ï¼šè·å–å¹¶ç¼“å­˜æ•°æ®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">doFetchAndCache</span>(<span class="hljs-params">forKey</span> <span class="hljs-params">key</span>: <span class="hljs-type">Key</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> value <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> origin(key) {
                <span class="hljs-keyword">await</span> <span class="hljs-keyword">set</span>(value, forKey: key)
            }
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-comment">// é™é»˜å¤„ç†åå°æ›´æ–°é”™è¯¯</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Background fetch failed: <span class="hljs-subst">\(error)</span>"</span>)
        }
    }
}
</code></pre>
<h2 data-id="heading-12">åŸç†è§£æï¼šæ•°æ®æµåŠ¨ä¸æˆæœ¬æ¨¡å‹</h2>
<h3 data-id="heading-13">æ•°æ®æµåŠ¨è·¯å¾„</h3>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è¯·æ±‚
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­–ç•¥åˆ†å‘å™¨ (CacheStrategy) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      â”‚         â”‚
   â”Œâ”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”
   â”‚ L1  â”‚   â”‚ L2  â”‚
   â”‚å†…å­˜ â”‚   â”‚ç£ç›˜ â”‚
   â””â”€â”€â”¬â”€â”€â”˜   â””â”€â”€â”¬â”€â”€â”˜
      â”‚         â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
           â–¼
       æ•°æ®æº (Origin)
</code></pre>
<h3 data-id="heading-14">è®¿é—®æˆæœ¬æ¨¡å‹</h3>
<p>æ¯ç§ç­–ç•¥çš„æˆæœ¬å¯ä»¥ç”¨æ—¶é—´å¤æ‚åº¦å’Œä¸€è‡´æ€§çº§åˆ«è¡¡é‡ï¼š</p>








































<table><thead><tr><th align="left">ç­–ç•¥</th><th align="left">å‘½ä¸­æ—¶å»¶</th><th align="left">æœªå‘½ä¸­æ—¶å»¶</th><th align="left">ä¸€è‡´æ€§çº§åˆ«</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><code>cacheThenFetch</code></td><td align="left">O(1)</td><td align="left">O(n)</td><td align="left">æœ€ç»ˆä¸€è‡´</td><td align="left">å›¾ç‰‡ã€åˆ—è¡¨</td></tr><tr><td align="left"><code>cacheElseFetch</code></td><td align="left">O(1)</td><td align="left">O(n)</td><td align="left">å¼ºä¸€è‡´</td><td align="left">é…ç½®ã€æƒé™</td></tr><tr><td align="left"><code>fetch</code></td><td align="left">O(n)</td><td align="left">O(n)</td><td align="left">å®æ—¶ä¸€è‡´</td><td align="left">æ”¯ä»˜ç»“æœ</td></tr><tr><td align="left"><code>cacheOnly</code></td><td align="left">O(1)</td><td align="left">-</td><td align="left">æ— </td><td align="left">ç¦»çº¿æ¨¡å¼</td></tr></tbody></table>
<p>æ³¨ï¼šO(1) ä»£è¡¨å†…å­˜è®¿é—®ï¼ŒO(n) ä»£è¡¨ç½‘ç»œ/ç£ç›˜è®¿é—®ã€‚</p>
<h3 data-id="heading-15">çƒ­ç‚¹æ•°æ®æå‡æœºåˆ¶</h3>
<p>å½“æ•°æ®ä»ç£ç›˜å±‚è¢«è®¿é—®æ—¶ï¼Œè‡ªåŠ¨æå‡åˆ°å†…å­˜å±‚ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// çƒ­ç‚¹æå‡é€»è¾‘</span>
<span class="hljs-keyword">if</span> diskValue <span class="hljs-operator">!=</span> <span class="hljs-literal">nil</span> {
    <span class="hljs-keyword">await</span> memoryCache.set(diskValue, forKey: key)
}
</code></pre>
<p>è¯¥æœºåˆ¶å€Ÿé‰´äº† CPU ç¼“å­˜çš„æ—¶é—´å±€éƒ¨æ€§åŸç†ï¼šæœ€è¿‘è®¿é—®çš„æ•°æ®å¾ˆå¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚</p>
<h2 data-id="heading-16">é«˜çº§ç‰¹æ€§ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-17">ç¼“å­˜é¢„çƒ­</h3>
<p>åœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„å…ˆåŠ è½½å…³é”®æ•°æ®ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CachePreWarmer</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> cache: <span class="hljs-type">TieredCache</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">User</span>&gt;
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">warmUp</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">let</span> criticalKeys <span class="hljs-operator">=</span> [<span class="hljs-string">"user_profile"</span>, <span class="hljs-string">"app_config"</span>, <span class="hljs-string">"feature_flags"</span>]
        <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> criticalKeys {
            <span class="hljs-keyword">_</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> cache.get(forKey: key, strategy: .cacheElseFetch)
        }
    }
}
</code></pre>
<h3 data-id="heading-18">æ‰¹é‡æ¸…ç†ç­–ç•¥</h3>
<p>å®ç°åŸºäº LRU çš„æ™ºèƒ½æ¸…ç†ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">TieredCache</span> {
    <span class="hljs-comment">/// æ¸…ç†è¿‡æœŸç¼“å­˜</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">cleanExpired</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// å†…å­˜å±‚ç”± NSCache è‡ªåŠ¨ç®¡ç†</span>
        <span class="hljs-comment">// ç£ç›˜å±‚å¯å®šæœŸæ¸…ç†</span>
        <span class="hljs-comment">// å®ç°ç•¥...</span>
    }
    
    <span class="hljs-comment">/// å†…å­˜è­¦å‘Šå¤„ç†</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleMemoryWarning</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">await</span> memoryCache.removeAll()
        <span class="hljs-comment">// ä¿ç•™ç£ç›˜å±‚æ•°æ®</span>
    }
}
</code></pre>
<h3 data-id="heading-19">å¹¶å‘å®‰å…¨ä¼˜åŒ–</h3>
<p>ä½¿ç”¨ <code>actor</code> æ¨¡å‹ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ˆSwift 5.5+ï¼‰ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@globalActor</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheActor</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> shared <span class="hljs-operator">=</span> <span class="hljs-type">CacheActor</span>()
}

<span class="hljs-meta">@CacheActor</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeTieredCache</span>&lt;<span class="hljs-title class_">Key</span>: <span class="hljs-title class_">Hashable</span> &amp; <span class="hljs-title class_">Codable</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-title class_">Codable</span>&gt; {
    <span class="hljs-comment">// æ‰€æœ‰æ–¹æ³•åœ¨ actor éš”ç¦»ä¸‹è‡ªåŠ¨çº¿ç¨‹å®‰å…¨</span>
    <span class="hljs-comment">// å®ç°ç•¥...</span>
}
</code></pre>
<h2 data-id="heading-20">å®æˆ˜æ¡ˆä¾‹ï¼šç”¨æˆ·èµ„æ–™ç¼“å­˜</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å®šä¹‰æ¨¡å‹</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">User</span>: <span class="hljs-title class_">Codable</span> {
    <span class="hljs-keyword">let</span> id: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> avatarURL: <span class="hljs-type">URL</span>
}

<span class="hljs-comment">// åˆ›å»ºåˆ†å±‚ç¼“å­˜</span>
<span class="hljs-keyword">let</span> userCache <span class="hljs-operator">=</span> <span class="hljs-type">TieredCache</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">User</span>&gt; { userId <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// æ•°æ®æºï¼šç½‘ç»œè¯·æ±‚</span>
    <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://api.example.com/users/<span class="hljs-subst">\(userId)</span>"</span>)<span class="hljs-operator">!</span>
    <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode(<span class="hljs-type">User</span>.<span class="hljs-keyword">self</span>, from: data)
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-type">Task</span> {
    <span class="hljs-comment">// ç­–ç•¥1ï¼šå¿«é€Ÿæ˜¾ç¤ºï¼Œåå°æ›´æ–°ï¼ˆç”¨æˆ·å¤´åƒï¼‰</span>
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">await</span> userCache.get(forKey: <span class="hljs-string">"user_123"</span>, strategy: .cacheThenFetch) {
    <span class="hljs-keyword">case</span> .hit(<span class="hljs-keyword">let</span> user):
        updateUI(with: user)
    <span class="hljs-keyword">case</span> .miss:
        showPlaceholder()
    <span class="hljs-keyword">case</span> .error(<span class="hljs-keyword">let</span> error):
        handleError(error)
    }
    
    <span class="hljs-comment">// ç­–ç•¥2ï¼šå¿…é¡»æœ€æ–°æ•°æ®ï¼ˆç”¨æˆ·æƒé™ï¼‰</span>
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">await</span> userCache.get(forKey: <span class="hljs-string">"user_123_permissions"</span>, strategy: .cacheElseFetch) {
    <span class="hljs-keyword">case</span> .hit(<span class="hljs-keyword">let</span> permissions):
        applyPermissions(permissions)
    <span class="hljs-keyword">case</span> .miss, .error:
        showLoginPrompt()
    }
}
</code></pre>
<h2 data-id="heading-21">æ·±å…¥åŸç†ï¼šä¸ºä»€ä¹ˆåˆ†å±‚ç¼“å­˜æœ‰æ•ˆï¼Ÿ</h2>
<h3 data-id="heading-22">å±€éƒ¨æ€§åŸç†çš„åº”ç”¨</h3>
<ol>
<li>æ—¶é—´å±€éƒ¨æ€§ï¼šæœ€è¿‘è®¿é—®çš„æ•°æ®ä¼šå†æ¬¡è¢«è®¿é—® â†’ å†…å­˜ç¼“å­˜ä¿ç•™çƒ­ç‚¹æ•°æ®</li>
<li>ç©ºé—´å±€éƒ¨æ€§ï¼šç›¸é‚»æ•°æ®é€šå¸¸ä¸€èµ·è®¿é—® â†’ æ‰¹é‡é¢„åŠ è½½æå‡æ•ˆç‡</li>
</ol>
<h3 data-id="heading-23">æˆæœ¬æ•ˆç›Šåˆ†æ</h3>
<p>åˆ†å±‚ç¼“å­˜çš„æœ¬è´¨æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œä½†æ™ºèƒ½ç­–ç•¥é¿å…äº†æ— æ•ˆå ç”¨ï¼š</p>
<ul>
<li>çŸ­æœŸæ•°æ®ï¼ˆ&lt; 5åˆ†é’Ÿï¼‰ï¼šä»…ä¿ç•™åœ¨å†…å­˜</li>
<li>ä¸­æœŸæ•°æ®ï¼ˆ&lt; 1å°æ—¶ï¼‰ï¼šå†…å­˜ + ç£ç›˜åŒä»½</li>
<li>é•¿æœŸæ•°æ®ï¼ˆ&gt; 1å°æ—¶ï¼‰ï¼šä»…ç£ç›˜å­˜å‚¨</li>
</ul>
<h3 data-id="heading-24">ä¸æ“ä½œç³»ç»Ÿç¼“å­˜æœºåˆ¶çš„å¯¹æ¯”</h3>





























<table><thead><tr><th align="left">å±‚çº§</th><th align="left">iOS ç³»ç»Ÿç¼“å­˜</th><th align="left">åº”ç”¨åˆ†å±‚ç¼“å­˜</th><th align="left">ä¼˜åŠ¿</th></tr></thead><tbody><tr><td align="left">L1</td><td align="left">CPU ç¼“å­˜</td><td align="left">å†…å­˜ç¼“å­˜</td><td align="left">åº”ç”¨å±‚å¯æ§ TTL ç­–ç•¥</td></tr><tr><td align="left">L2</td><td align="left">å†…å­˜æ˜ å°„æ–‡ä»¶</td><td align="left">ç£ç›˜ç¼“å­˜</td><td align="left">è·¨è¿›ç¨‹å…±äº«ï¼Œç²¾ç¡®ç®¡ç†</td></tr><tr><td align="left">L3</td><td align="left">ç£ç›˜ç¼“å­˜</td><td align="left">ç½‘ç»œ CDN</td><td align="left">åº”ç”¨å¯å®šä¹‰ä¸šåŠ¡è¯­ä¹‰</td></tr></tbody></table>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>åˆ†å±‚ç¼“å­˜ä¸æ˜¯ç®€å•çš„å†…å­˜ + ç£ç›˜å †ç Œï¼Œè€Œæ˜¯é€šè¿‡ç­–ç•¥é©±åŠ¨çš„æ•°æ®æµåŠ¨ï¼Œå®ç°ï¼š</p>
<ul>
<li>æ€§èƒ½ï¼šçƒ­ç‚¹æ•°æ®å†…å­˜è®¿é—®ï¼Œå“åº”æ—¶é—´ &lt; 1ms</li>
<li>å®¹é‡ï¼šç£ç›˜å±‚æ‰©å±•å®¹é‡ç™¾å€ï¼Œæ”¯æ’‘ç™¾ä¸‡çº§æ•°æ®</li>
<li>æˆæœ¬ï¼šæ™ºèƒ½æ·˜æ±°æœºåˆ¶ï¼Œå†…å­˜å ç”¨é™ä½ 70%</li>
<li>ä¸€è‡´æ€§ï¼šå¯é€‰ç­–ç•¥å¹³è¡¡å®æ—¶æ€§ä¸å¯é æ€§</li>
</ul>
<p>å‚è€ƒèµ„æ–™</p>
<ol>
<li>Apple Documentation - <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Ffoundation%2Fnscache" target="_blank" title="https://developer.apple.com/documentation/foundation/nscache" ref="nofollow noopener noreferrer">NSCache</a></li>
<li>Swift.org - <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.swift.org%2Fswift-book%2Fdocumentation%2Fthe-swift-programming-language%2Fconcurrency%2F" target="_blank" title="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/concurrency/" ref="nofollow noopener noreferrer">Actors</a></li>
<li>OpenSearch - <a href="https://link.juejin.cn?target=https%3A%2F%2Fopensearch.org%2Fblog%2Ftiered-cache%2F" target="_blank" title="https://opensearch.org/blog/tiered-cache/" ref="nofollow noopener noreferrer">Tiered Cache Architecture</a></li>
<li>WWDC 2023 - <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fvideos%2Fplay%2Fwwdc2023%2F10170%2F" target="_blank" title="https://developer.apple.com/videos/play/wwdc2023/10170/" ref="nofollow noopener noreferrer">Beyond the basics of structured concurrency</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkylebrowning.com%2Fposts%2Ftiered-caching-in-swift%2F" target="_blank" title="https://kylebrowning.com/posts/tiered-caching-in-swift/" ref="nofollow noopener noreferrer">kylebrowning.com/posts/tiereâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾è¿›é˜¶æ•™ç¨‹ | å¤šä»»åŠ¡ ä¸åŒå¸§ç‡ éƒ¨ç½²æ–¹æ¡ˆä»‹ç»]]></title>    <link>https://juejin.cn/post/7603352117639086089</link>    <guid>https://juejin.cn/post/7603352117639086089</guid>    <pubDate>2026-02-06T08:33:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603352117639086089" data-draft-id="7603309951227265074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾è¿›é˜¶æ•™ç¨‹ | å¤šä»»åŠ¡ ä¸åŒå¸§ç‡ éƒ¨ç½²æ–¹æ¡ˆä»‹ç»"/> <meta itemprop="keywords" content="è‡ªåŠ¨é©¾é©¶,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-06T08:33:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ°å¹³çº¿å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032132567"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾è¿›é˜¶æ•™ç¨‹ | å¤šä»»åŠ¡ ä¸åŒå¸§ç‡ éƒ¨ç½²æ–¹æ¡ˆä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032132567/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ°å¹³çº¿å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:33:33.000Z" title="Fri Feb 06 2026 08:33:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.éœ€æ±‚åœºæ™¯</h2>
<p>åœ¨æ™ºèƒ½é©¾é©¶ç­‰å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ¨¡å‹å¾€å¾€å…·å¤‡â€‹<strong>å¤šä»»åŠ¡åˆ†æ”¯ç»“æ„</strong>â€‹ï¼Œä¾‹å¦‚åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­åŒæ—¶åŒ…å«â€‹<strong>â€‹ BEV åŠ¨æ€ä»»åŠ¡</strong>â€‹ï¼ˆå¦‚ç›®æ ‡æ£€æµ‹ã€è·Ÿè¸ªã€è¿åŠ¨é¢„æµ‹ï¼‰ä¸â€‹<strong>â€‹ BEV é™æ€ä»»åŠ¡</strong>â€‹ï¼ˆå¦‚åœ°å›¾æ„å»ºã€è½¦é“çº¿æå–ã€å¯è¡Œé©¶åŒºåŸŸé¢„æµ‹ï¼‰ï¼Œè¿™äº›ä»»åŠ¡å¯¹æ¨ç†é¢‘ç‡ï¼ˆFrames Per Secondï¼Œ FPSï¼‰çš„è¦æ±‚é€šå¸¸å¹¶ä¸ç›¸åŒã€‚ä¹Ÿå°±æ˜¯æœ‰ä¸åŒä»»åŠ¡åˆ†æ”¯ æ¨ç†ä¸åŒå¸§ç‡çš„éœ€æ±‚ï¼Œä¾‹å¦‚ BEV åŠ¨æ€ä»»åŠ¡ 20 å¸§ï¼Œé™æ€ä»»åŠ¡ 10 å¸§è¿™ç§æƒ…å†µï¼ŒBEV æ¨¡å‹ç»“æ„ç®€å•ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjhhMWM1ODFkNDY5MWExYjJjMDE1MmY3NjBhYzdhY2ZfZllUV2gxUkVqVk90dGFCSTJDUGNKSUtLdnRvQlpCN2hfVG9rZW46RzJJNGJ1REREb0QxTkh4dTBZOWMyZkFEbkZnXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2.æŠ€æœ¯åˆ†æ</h2>
<p>ä»¥ BEV åŠ¨é™æ€ä»»åŠ¡ä¸ºä¾‹ï¼Œå®ç°ä¸åŒä»»åŠ¡åˆ†æ”¯æ¨ç†ä¸åŒå¸§ç‡ï¼ˆåŠ¨æ€ 20 å¸§ï¼Œé™æ€ 10 å¸§ï¼‰ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<p><strong>â€‹æ–¹æ¡ˆ 1-â€‹</strong>æ‹†åˆ†ä¸ºä¸‰ä¸ªå­æ¨¡å‹ï¼šæ¨¡å‹ 1-å…¬å…±éƒ¨åˆ†ï¼ˆbackbone+neckï¼‰ã€æ¨¡å‹ 2-åŠ¨æ€ headã€æ¨¡å‹ 3-é™æ€ head</p>
<ol>
<li>æ¨¡å‹ 1 æ¨ç† 20 æ¬¡ï¼Œè¾“å‡ºåˆ†åˆ«é€ç»™æ¨¡å‹ 2 æ¨ç† 20 æ¬¡ï¼Œæ¨¡å‹ 3 æ¨ç† 10 æ¬¡ã€‚</li>
<li>ä¼˜ç‚¹ï¼šåº”ç”¨å±‚å¯çµæ´»è°ƒåº¦ 3 ä¸ªå­æ¨¡å‹çš„æ¨ç†ï¼›æ¨¡å‹ 1-å…¬å…±éƒ¨åˆ† åªéœ€è¦æ¨ç† 20 æ¬¡ï¼›</li>
<li>ç¼ºç‚¹ï¼šæ¨¡å‹ 1-å…¬å…±éƒ¨åˆ†çš„è¾“å‡ºå†…å­˜éœ€è¦é¢å¤–å­˜å‚¨ï¼Œå¢åŠ  load/store å¸¦å®½æ¶ˆè€—ï¼›æ‹†åˆ†æ¬¡æ•°å¤šï¼Œå½±å“ç¼–è¯‘æ—¶çš„å…¨å›¾ä¼˜åŒ–ï¼Œå¯èƒ½ä¼šå¢åŠ  latencyï¼›</li>
</ol>
<p><strong>â€‹æ–¹æ¡ˆ 2-â€‹</strong>æ‹†åˆ†ä¸ºä¸¤ä¸ªå­æ¨¡å‹ï¼šæ¨¡å‹ 1-å…¬å…±åŠ¨æ€ï¼ˆbackbone+neck+ åŠ¨æ€ headï¼‰ã€æ¨¡å‹ 2-å…¬å…±é™æ€ï¼ˆbackbone+neck+ é™æ€ headï¼‰ï¼š</p>
<ol>
<li>æ¨¡å‹ 1-å…¬å…±åŠ¨æ€æ¨ç† 20 æ¬¡ï¼Œæ¨¡å‹ 2-å…¬å…±é™æ€æ¨ç† 10 æ¬¡ã€‚</li>
<li>ä¼˜ç‚¹ï¼šåº”ç”¨å±‚å¯çµæ´»è°ƒåº¦ 2 ä¸ªå­æ¨¡å‹çš„æ¨ç†ï¼›åªéœ€å‡†å¤‡æ•´ä¸ªæ¨¡å‹è¾“å…¥/å‡ºå†…å­˜ï¼Œæ— éœ€å‡†å¤‡å…¬å…±éƒ¨åˆ†è¾“å‡ºçš„å†…å­˜ï¼›æ‹†åˆ†æ¬¡æ•°å°‘ï¼Œç¼–è¯‘æ—¶å¯å…¨å›¾ä¼˜åŒ–ï¼Œå‡å° latencyï¼›</li>
<li>ç¼ºç‚¹ï¼šå…¬å…±éƒ¨åˆ†ï¼ˆbackbone+neckï¼‰éœ€è¦æ¨ç† 30 æ¬¡ï¼Œé€ æˆ latency å¢åŠ ä¸ BPU èµ„æºæµªè´¹ï¼›å…¬å…±éƒ¨åˆ†éœ€è¦å­˜å‚¨ä¸¤ä»½ï¼›</li>
</ol>
<p>ä¸ºäº†å…¼é¡¾æ–¹æ¡ˆ 1 ä¸æ–¹æ¡ˆ 2 çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶å®ç°ä¸åŒä»»åŠ¡åˆ†æ”¯æ¨ç†ä¸åŒå¸§ç‡ï¼Œå·¥å…·é“¾æä¾›äº† link æ‰“åŒ…åŠŸèƒ½ï¼Œå…·ä½“æ‰“åŒ…æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=MDI2ODY0NWExY2ZmYWI0MzVhYTQwNmExZTlmYjMyZjNfY2FFeFVMTGZ5OUVrWHRRUG82TUtodHZEVEN4ZElDTFFfVG9rZW46WTFwaWJOSWN4b0Jlb3Z4WkdmN2NHbnh5bkFlXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p>å·¥å…·é“¾æä¾›çš„ link åŠŸèƒ½ï¼Œèƒ½å¤Ÿ å¤ç”¨ ä¸åŒ æ¨¡å‹/ä»»åŠ¡ çš„å…¬å…±éƒ¨åˆ† constant å¸¸é‡ï¼ˆåŒ…æ‹¬æƒé‡ç­‰ï¼‰ï¼Œå³ä¸ä¼šå­˜å‚¨å¤šä»½ï¼Œåœ¨æ¨¡å‹åŠ è½½æ—¶ï¼Œå…¬å…±éƒ¨åˆ†åªä¼šå ç”¨ä¸€ä»½é™æ€å†…å­˜ï¼Œéœ€è¦æ³¨æ„æ¨ç†æ—¶åŠ¨æ€å†…å­˜ä¸ä¼šå¤ç”¨ï¼ˆâ€‹<strong>ä½œä¸ºä¸åŒæ¨¡å‹å¤„ç†</strong>â€‹ï¼‰ï¼Œå…³äºå†…å­˜å ç”¨ç›¸å…³ä»‹ç»å¯è§æ–‡ç« ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.horizon.auto%2Fblog%2F13161" target="_blank" title="https://developer.horizon.auto/blog/13161" ref="nofollow noopener noreferrer">ã€åœ°å¹³çº¿ J6 å·¥å…·é“¾å…¥é—¨æ•™ç¨‹ã€‘æ¿ç«¯éƒ¨ç½² UCP ä½¿ç”¨æŒ‡å—-å†…å­˜å ç”¨</a>ã€‹ã€‚</p>
<p>ä¸Šå›¾ä¸­å°†æ¨¡å‹ 1 ä¸æ¨¡å‹ 2 link æ‰“åŒ…ç”Ÿæˆçš„æ¨¡å‹ 3ï¼Œç›¸æ¯”äºæ¨¡å‹ 1 ä½“ç§¯ä¸ä¼šå¤§å¤šå°‘ï¼ŒåŒæ—¶å…·å¤‡æ¨ç†æ¨¡å‹ 1 ä¸æ¨¡å‹ 2 çš„åŠŸèƒ½ã€‚æ ¹æ®éœ€æ±‚ï¼Œè°ƒæ•´æ¨¡å‹ 1 ä¸æ¨¡å‹ 2 çš„æ¨ç†æ¬¡æ•°ï¼Œå³å¯å®ç°ä¸åŒä»»åŠ¡é‡‡ç”¨ä¸åŒå¸§ç‡éƒ¨ç½²ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæ¨ç†ä¸€æ¬¡æ¨¡å‹ 1ï¼Œå¯å®ç°åŠ¨æ€ä»»åŠ¡ head ä¸é™æ€ä»»åŠ¡ head å„æ¨ç†ä¸€æ¬¡ï¼Œæ¨ç†æ¨¡å‹ 2 å¯å®ç°ä»…æ¨ç†ä¸€æ¬¡åŠ¨æ€ä»»åŠ¡ headï¼Œå½“æ¨¡å‹ 1 æ¨ç† 10 æ¬¡ã€æ¨¡å‹ 2 æ¨ç† 10 æ¬¡æ—¶ï¼Œå³å¯å®ç°åŠ¨æ€æ¨ç† 20 æ¬¡ï¼Œé™æ€æ¨ç† 10 æ¬¡çš„æ•ˆæœã€‚ï¼ˆå…¬å…±éƒ¨åˆ† backbone+neck ä»…æ¨ç† 20 æ¬¡ï¼‰</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=MDgyZWE4YmM5ZmIzYTAwMjg5M2FmNjE0MmEwNmE4YWVfYlBDNmU4cDQyZ0RqYzlya1MyQWZBQVFVbXVhNUhweThfVG9rZW46SHpEcmJDQ3lVb0VpRFB4M3BRbWM0S0s0bmJoXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3.æ–¹æ¡ˆå®ç°</h2>
<h3 data-id="heading-3"><strong>3.1 æ¨¡å‹ link æ‰“åŒ…</strong></h3>
<p>æ ¹æ®éœ€æ±‚åœºæ™¯ï¼Œå…ˆå°†å¤šä»»åŠ¡æ¨¡å‹æ‹†åˆ†å¯¼å‡ºä¸ºä¸åŒå­ä»»åŠ¡çš„ qat.bcï¼Œç„¶ååˆ†åˆ«å°†ä»–ä»¬ç¼–è¯‘æˆ hbo æ–‡ä»¶ï¼Œæœ€åå°†å¤šä¸ª hbo æ–‡ä»¶ link æ‰“åŒ…ä¸ºä¸€ä¸ª hbm æ¨¡å‹ã€‚</p>
<p>åœ¨å·¥å…·é“¾ç”¨æˆ·æ‰‹å†Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oe.horizon.auto%2Fguide%2Fadvanced_content%2Fhbdk_api_reference.html" target="_blank" title="https://docs.oe.horizon.auto/guide/advanced_content/hbdk_api_reference.html" ref="nofollow noopener noreferrer">HBDK Tool API Reference</a>ã€‹ç« èŠ‚ä¸­è¯¦ç»†ä»‹ç»äº† compile ä¸ link APIï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>compile è¾“å‡ºåŒæ—¶æ”¯æŒ hbm ä¸ hbo ä¸¤ç§æ–‡ä»¶æ ¼å¼ï¼Œå¯é€šè¿‡é…ç½®æ–‡ä»¶åç¼€åä¸º"ã€‚hbm" or ".hbo"æ¥åŒºåˆ†ã€‚</li>
<li>link æ”¯æŒå°†å¤šä¸ª hbo æ–‡ä»¶æ‰“åŒ…ç”Ÿæˆä¸€ä¸ª hbm æ–‡ä»¶ã€‚</li>
</ul>
<p>å°†ä¸¤ä¸ª hbo æ–‡ä»¶é€šè¿‡ link æ‰“åŒ…ç”Ÿæˆä¸€ä¸ª hbm æ¨¡å‹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">from horizon_plugin_pytorch.quantization.hbdk4 import export
from hbdk4.compiler import load, convert, compile, link
# export é˜¶æ®µè®°å¾—é…ç½® name
qat_bcA = export(qat_model_A, example_input, name="1_backbone_head1_head2")
quantized_modelA = convert(qat_bcA, "nash-m")
# æ³¨æ„ï¼šæ­¤æ—¶compileç”Ÿæˆçš„æ¨¡å‹åç¼€åä¸º.hbo
hbo_nameA = "nameA_compiled.hbo"
hboA = compile(quantized_modelA, path=hbo_nameA, march="nash-m", opt=2, progress_bar=True, jobs=48)

qat_bcB = export(qat_model_B, example_input, name="2_backbone_head1")
quantized_modelB = convert(qat_bcB, "nash-m")
hbo_nameB = "nameB_compiled.hbo"
hboB = compile(quantized_modelB, path=hbo_nameB, march="nash-m", opt=2, progress_bar=True, jobs=48)

# linkç”Ÿæˆæ‰“åŒ…æ¨¡å‹ï¼Œåç¼€åä¸º.hbm
hbm_name = "compiled.hbm"
hbm = link([hboA, hboB], hbm_name)
# å¦‚æœåœ¨å…¶ä»–åœ°æ–¹å·²ç»ç”Ÿæˆäº†hbo
# å¯ä»¥é€šè¿‡ hbo = Hbo(hbo_name) è¿›è¡ŒåŠ è½½ æ‰€éœ€å¤´æ–‡ä»¶ï¼š from hbdk4.compiler.hbm import Hbo
</code></pre>
<h3 data-id="heading-4">3.2 æ‰“åŒ…æ¨¡å‹æ¨ç†</h3>
<h4 data-id="heading-5">3.2.1 hrt_model_exec å·¥å…·æ¨ç†</h4>
<p>é€šè¿‡ <code>hrt_model_exec model_info --model_file compiled.hbm</code> å¯æŸ¥çœ‹æ‰“åŒ…æ¨¡å‹çš„æ•°é‡ï¼Œè¾“å…¥è¾“å‡ºç­‰ä¿¡æ¯ï¼Œç¤ºä¾‹å¦‚ä¸‹</p>
<pre><code class="hljs language-Plain" lang="Plain">This model file has 2 model:
[2_backbone_head1]      [1_backbone_head1_head2]
---------------------------------------------------------------------
[model name]: 2_backbone_head1

input[0]:
name: ...

output[0]:
name: ...

---------------------------------------------------------------------

---------------------------------------------------------------------
[model name]: 1_backbone_head1_head2

input[0]:
name: ...

output[0]:
name: ...

output[1]:
name: ...
</code></pre>
<p>ç»“åˆ--model_file ä¸--model_name å³å¯å®ç°å¯¹æ‰“åŒ… compiled.hbm æ¨¡å‹ä¸­çš„æŸä¸€ä¸ªæ¨¡å‹è¿›è¡Œæ¨ç†ã€‚</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=NDUxMTNlNTk5MDE0YjU3ZmI1NzdlNTQ0MDVjZjdiNTFfcmZHQkZmNmZ6NjdoMlhYNm9XWU84RmJVbHB0NnRTZlFfVG9rZW46UFNld2JKZGs3b2w0eWF4V29pdGNOWmJBbnBmXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p>ä»¥ perf è¯„æµ‹æ‰“åŒ… compiled.hbm æ¨¡å‹ ä¸­ 2_backbone_head1 çš„æ€§èƒ½ä¸ºä¾‹ï¼Œå‚è€ƒå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file compiled.hbm --model_name 2_backbone_head1
</code></pre>
<h4 data-id="heading-6">3.2.2 UCP API æ¨ç†</h4>
<p>åœ¨å·¥å…·é“¾ç”¨æˆ·æ‰‹å†Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oe.horizon.auto%2Fguide%2Fucp%2Fruntime%2Fbpu_sdk_api%2Ffunction_interface%2Fmodel_loading_releasing.html" target="_blank" title="https://docs.oe.horizon.auto/guide/ucp/runtime/bpu_sdk_api/function_interface/model_loading_releasing.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å° UCP - æ¨¡å‹æ¨ç†å¼€å‘ - æ¨¡å‹æ¨ç† API æ‰‹å†Œ - åŠŸèƒ½æ¥å£</a>ã€‹ä¸­ï¼Œè¯¦ç»†ä»‹ç»äº†åŠ è½½æ‰“åŒ…æ¨¡å‹ hbDNNInitializeFromFiles ä¸ è·å–å•ä¸ªæ¨¡å‹å¥æŸ„ hbDNNGetModelHandle çš„ä½¿ç”¨æ–¹å¼ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=MDUyODQ3NTJmODUwZDRhNjc1MThlOGNmM2UzOTViZjZfd0dFSnEwelBvdG5jUXZMaGdidUJtbGxMbzlrNjVEQ0lfVG9rZW46WUdvMGJER1lUb0ZwaXJ4UktsRmNuYXZpbjdlXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=N2VkNjg1OWM0NjcwYjQ5OGFhOWQ4NzY0NDEzNmViYjhfWFlaOXN4Ymo1aHJuUFJXYXNjMHZiTnVSaXU1ZExWV2pfVG9rZW46SW9TRGJ2V3pOb1ZCeUl4dzRGa2MwSnlJblNkXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p>åœ¨å·¥å…·é“¾å¼€å‘åŒ…è·¯å¾„ï¼šOE/samples/ucp_tutorial/dnn/basic_samples ä¸‹æ–¹çš„ç¤ºä¾‹ä¸­æœ‰ç”¨åˆ°è¿™ä¸¤ä¸ªæ¥å£ï¼Œå¯å‚è€ƒä½¿ç”¨ã€‚</p>
<h3 data-id="heading-7">3.3 å¤šä»»åŠ¡ä¸åŒå¸§ç‡æ¨ç†</h3>
<p>æ ¹æ®éœ€æ±‚ï¼Œè°ƒæ•´æ‰“åŒ…æ¨¡å‹ compiled.hbm ä¸­çš„ æ¨¡å‹ 1 backbone_head1_head2 ä¸æ¨¡å‹ 2 backbone_head1 çš„æ¨ç†æ¬¡æ•°ï¼Œå³å¯å®ç°ä¸åŒä»»åŠ¡é‡‡ç”¨ä¸åŒå¸§ç‡éƒ¨ç½²ã€‚</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjBjNDI5OWI0ODBmYTc2YmVmNDcwMWYzOWI4ZjY4ZTJfYU02WXVKMTZsVWw3Q2J5VkJ3YnhOTDFIUFBvakRFaVdfVG9rZW46UWVLbmJpZElHbzBGTFh4TTJxN2NBdXRmbmRmXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">3.4 æ€§èƒ½æ•°æ®ç¤ºä¾‹</h3>
<p>ä¸‹è¡¨ä¸­ï¼Œbackbone_head1 æ˜¯å…¬å…±éƒ¨åˆ†ï¼Œâ€‹<strong>æ³¨æ„</strong>â€‹ï¼šå…¬å…±éƒ¨åˆ†æƒé‡æ˜¯ä¸€æ ·çš„</p>


































<table><thead><tr><th><strong>æ¨¡å‹åç§°</strong></th><th><strong>æ¨¡å‹å¤§å°/KB</strong></th><th><strong>æ¨¡å‹ name</strong></th><th><strong>latency/ms</strong></th></tr></thead><tbody><tr><td>1_backbone_head1_head2.hbm</td><td>30295</td><td>/</td><td>5.19</td></tr><tr><td>2_backbone_head1.hbm</td><td>21781</td><td>/</td><td>4.84</td></tr><tr><td>compiled.hbm</td><td>30776</td><td>1_backbone_head1_head2</td><td>5.18</td></tr><tr><td>2_backbone_head1</td><td>4.83</td><td/></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ï¼Œcompiled.hbm ä½“ç§¯ç›¸æ¯”äº 1_backbone_head1_head2.hbm å¹¶æ²¡æœ‰å¢åŠ å¤šå°‘ã€‚</p>
<p>æ¨¡å‹åŠ è½½æ¨ç†æ—¶ï¼ŒION å†…å­˜å·®å¼‚å¦‚ä¸‹ï¼š</p>
<p>åŠ è½½ 1_backbone_head1_head2.hbmï¼Œç›´æ¥æ¨ç†ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=NmZjZmY0NjY5OWNhMTdmMWEwNWIwMmI4NmI1YzliYzJfSEozNDNZS2dsMUp3RTlWemROTXZMRW5hR3RHemdITTFfVG9rZW46WlZtU2JWVWE3bzZ5UVd4cmd1cmNIYjRubm1kXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p>åŠ è½½ compiled.hbmï¼Œæ¨ç† 1_backbone_head1_head2ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=Yzc3OWIyZWJiZTYzZTVlYWY1ODM0Y2FhZDExNDlhOThfZ0xWNzNYV1RMbnFDRHQ0aWdhQ2RmcXBPNzNWTlFUekRfVG9rZW46R0RQR2JKMGJGb2F2N1B4eFhlS2NSRGVMblBiXzE3NzAzNjYzNTI6MTc3MDM2OTk1Ml9WNA" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œcompiled.hbm å ç”¨çš„å†…å­˜ç›¸æ¯”äº 1_backbone_head1_head2.hbm å¹¶æ²¡æœ‰å¢åŠ å¤šå°‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Posixçº¿ç¨‹/C++11å¤šçº¿ç¨‹åŸºç¡€]]></title>    <link>https://juejin.cn/post/7603393977477103642</link>    <guid>https://juejin.cn/post/7603393977477103642</guid>    <pubDate>2026-02-06T08:32:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603393977477103642" data-draft-id="7603393977477087258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Posixçº¿ç¨‹/C++11å¤šçº¿ç¨‹åŸºç¡€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:32:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç‹åœ¨è¿›æ­¥"/> <meta itemprop="url" content="https://juejin.cn/user/4062019467609459"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Posixçº¿ç¨‹/C++11å¤šçº¿ç¨‹åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4062019467609459/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç‹åœ¨è¿›æ­¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:32:57.000Z" title="Fri Feb 06 2026 08:32:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Posixçº¿ç¨‹/C++11å¤šçº¿ç¨‹</h2>
<p>æœ¬æ–‡å¯¹æ¯”äº†<code>POSIX pthreads</code>å’Œ<code>C++11 threads</code>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­çš„åº”ç”¨,åŒ…æ‹¬çº¿ç¨‹åˆ›å»ºã€
çº¿ç¨‹ç»„ã€çº¿ç¨‹ä¼ å‚åŠç±»æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°çš„å®ç°,é€‚åˆåˆå­¦è€…å’Œå¼€å‘è€…æ·±å…¥ç†è§£C++å¤šçº¿ç¨‹
ç¼–ç¨‹ã€‚</p>
<p>åœ¨C++11å¼•è¿›å¤šçº¿ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç”¨<code>POSIX pthreads</code>æ¥ç¼–å†™å¤šçº¿ç¨‹ç¨‹åºã€‚</p>
<pre><code class="hljs">POSIX pthreads æ˜¯POSIXæ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†ä¸€ç»„å‡½æ•°å’Œå®ï¼Œç”¨äºåˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ã€‚
è™½ç„¶ POSIX pthreads åŠŸèƒ½å¼ºå¤§ï¼Œä½†å®ƒçš„APIç›¸å¯¹å¤æ‚ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒç¹çã€‚
</code></pre>
<p>æœ¬æ–‡åŒ…æ‹¬äº†ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>POSIXå¤šçº¿ç¨‹å®è·µ</li>
<li>C++11å¤šçº¿ç¨‹å®è·µ</li>
<li>ç±»æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°çš„å®ç°</li>
</ul>
<h3 data-id="heading-1">ä¸€ã€POSIXå¤šçº¿ç¨‹å®è·µ</h3>
<h4 data-id="heading-2">åˆ›å»ºç®€å•çº¿ç¨‹</h4>
<p>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œç”¨pthread_join()é˜»å¡ï¼Œç­‰å¾…çº¿ç¨‹ç»“æŸã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">void</span> *<span class="hljs-title">callback</span><span class="hljs-params">(<span class="hljs-type">void</span>*)</span>
</span>{
    cout &lt;&lt; <span class="hljs-string">"å­çº¿ç¨‹ID: "</span> &lt;&lt; <span class="hljs-built_in">pthread_self</span>() &lt;&lt; endl;<span class="hljs-comment">//è·å–å½“å‰çº¿ç¨‹ID</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">pthread_t</span> tid;
    <span class="hljs-built_in">pthread_create</span>(&amp;tid,<span class="hljs-literal">NULL</span>,callback,<span class="hljs-literal">NULL</span>);
    <span class="hljs-built_in">pthread_join</span>(tid,<span class="hljs-literal">NULL</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70495996da1947cd81e6b0c8607ada5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=ASfisyurbM7ecmhu1qwibtKB5rE%3D" alt="image-2.png" loading="lazy"/></p>
<h4 data-id="heading-3">å¤šä¸ªçº¿ç¨‹å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> NUM_THREADS = <span class="hljs-number">5</span>; <span class="hljs-comment">//çº¿ç¨‹æ•°é‡</span>

<span class="hljs-function"><span class="hljs-type">void</span> *<span class="hljs-title">call_from_thread</span><span class="hljs-params">(<span class="hljs-type">void</span> *arg)</span> </span>{
    cout &lt;&lt; <span class="hljs-string">"Hello from thread: "</span> &lt;&lt; <span class="hljs-built_in">pthread_self</span>() &lt;&lt; endl;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">pthread_t</span> t[NUM_THREADS];
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM_THREADS; i++)
    {
        <span class="hljs-built_in">pthread_create</span>(&amp;t[i],<span class="hljs-literal">NULL</span>,call_from_thread,<span class="hljs-literal">NULL</span>);
    }
    
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM_THREADS; i++)
    {
        <span class="hljs-built_in">pthread_join</span>(t[i],<span class="hljs-literal">NULL</span>);<span class="hljs-comment">//ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>
    }
 

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26fc854da77e406d8733686eb4de5ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=d2W%2FvSnT34V1zco%2BGXZXsE9UUEc%3D" alt="image-3.png" loading="lazy"/></p>
<p>å½“åˆ›å»ºå¤šä¸ªå­çº¿ç¨‹æ—¶ï¼Œå¤–åŠ ä¸»çº¿ç¨‹å…±å…­ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°çº¿ç¨‹ä¹‹é—´æ˜¯å¹³ç­‰ç«äº‰ä¸´ç•Œèµ„æºå…³ç³»çš„ï¼Œé¡ºåºæ˜¯æ— åºçš„ï¼Œå› æ­¤å¦‚æœè¦æ˜ç¡®ç¡®å®šé¡ºåºï¼Œåˆ™éœ€è¦åŒæ­¥æœ¯è¯­æ¥æ”¹è¿›ï¼Œå¦‚äº’æ–¥é”ã€æ¡ä»¶å˜é‡ç­‰ã€‚</p>
<h4 data-id="heading-4">çº¿ç¨‹ä¼ å‚çš„å®ç°</h4>
<p>çº¿ç¨‹çš„ä¼ å‚å¯ä»¥æ˜¯ç®€å•çš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç¼–å†™çº¿ç¨‹ä¼ å‚çš„æ—¶å€™è¦ç•™æ„ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> NUM_THREADS = <span class="hljs-number">5</span>;

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">thread_data</span> {
  <span class="hljs-type">int</span> thread_id;  
};
 
<span class="hljs-function"><span class="hljs-type">void</span> *<span class="hljs-title">call_from_thread</span><span class="hljs-params">(<span class="hljs-type">void</span> *arg)</span> </span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">thread_data</span> *th_data = (<span class="hljs-keyword">struct</span> thread_data *)arg;
    cout &lt;&lt; <span class="hljs-string">"Hello from thread "</span> &lt;&lt; th_data-&gt;thread_id &lt;&lt; endl;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">pthread_t</span> t[NUM_THREADS];
    thread_data td[NUM_THREADS];


    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;NUM_THREADS;i++){
        td[i].thread_id = i;
        <span class="hljs-built_in">pthread_create</span>(&amp;t[i],<span class="hljs-literal">NULL</span>,call_from_thread,&amp;td[i]); <span class="hljs-comment">//td[i]ä½œä¸ºå‚æ•°ä¼ é€’ç»™call_from_threadå‡½æ•°</span>
    }
  
    cout &lt;&lt; <span class="hljs-string">"Hello from main thread"</span> &lt;&lt; endl;

    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;NUM_THREADS;i++){
        <span class="hljs-built_in">pthread_join</span>(t[i],<span class="hljs-literal">NULL</span>);<span class="hljs-comment">//ç­‰å¾…çº¿ç¨‹ç»“æŸ </span>
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f17b241668a144da80790b77efabbdf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=zoLC6ktuOS6h7m9ezwyo9ZTvoN4%3D" alt="image-4.png" loading="lazy"/></p>
<p>å†ä¸€æ¬¡éªŒè¯äº†ï¼Œçº¿ç¨‹ä¹‹é—´æ˜¯ç«äº‰ã€æ— åºçš„ã€‚</p>
<h3 data-id="heading-5">äºŒã€C++11å¤šçº¿ç¨‹å®è·µ</h3>
<p>C++11å¢åŠ äº†å¤šçº¿ç¨‹ï¼Œèƒ½å¤Ÿæ›´ç®€ä¾¿çš„å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œå¹¶ä¸”å…¼å®¹POSIX pthreadsã€‚</p>
<h4 data-id="heading-6">ç®€å•çº¿ç¨‹</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

 <span class="hljs-comment">//æ™®é€šå‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">call_from_thread</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-comment">// ä¸ºäº†é˜²æ­¢è¾“å‡ºä¹±åºï¼Œå®é™…é¡¹ç›®ä¸­é€šå¸¸åŠ é”ï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºç®€å•çœç•¥</span>
    cout &lt;&lt; <span class="hljs-string">"Hello from thread"</span> &lt;&lt; endl;
}



<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-function">thread <span class="hljs-title">tid</span><span class="hljs-params">(call_from_thread)</span></span>; <span class="hljs-comment">//åˆ›å»ºã€å¯åŠ¨çº¿ç¨‹</span>
   tid.<span class="hljs-built_in">join</span>(); <span class="hljs-comment">//ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>
  
    cout &lt;&lt; <span class="hljs-string">"Hello from main thread"</span> &lt;&lt; endl;

    <span class="hljs-comment">//lambdaè¡¨è¾¾å¼ä½œä¸ºçº¿ç¨‹å‡½æ•°</span>
    <span class="hljs-keyword">auto</span> f = [](<span class="hljs-type">const</span> std::string&amp; name){
        cout &lt;&lt; <span class="hljs-string">"Hello"</span> &lt;&lt; name &lt;&lt; endl;
    };

    <span class="hljs-function">thread <span class="hljs-title">tid2</span><span class="hljs-params">(f,<span class="hljs-string">"Tom"</span>)</span></span>; <span class="hljs-comment">//åˆ›å»ºã€å¯åŠ¨çº¿ç¨‹</span>
    tid2.<span class="hljs-built_in">join</span>(); <span class="hljs-comment">//ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc74632f6ba94c39b8aefeebe31c5f8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=bdcgS6hzPlr6bhZFmOIR8DX2Ag0%3D" alt="image-5.png" loading="lazy"/></p>
<p>C++11çº¿ç¨‹å…¶å®æ˜¯å’ŒPOSIXçº¿ç¨‹APIåˆ›å»ºçš„çº¿ç¨‹æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„,åªæ˜¯C++11çº¿ç¨‹å°è£…äº†POSIXçº¿ç¨‹API,å¹¶ä¸”æä¾›äº†æ›´ç®€æ´çš„æ¥å£ã€‚</p>
<p>mainå‡½æ•°åˆ›å»ºäº†çº¿ç¨‹call_backå‡½æ•°ï¼Œå¹¶åœ¨tid.join()å¤„ç­‰å¾…çº¿ç¨‹ç»“æŸã€‚å¦‚æœå¿˜è®°ç­‰å¾…ï¼Œmainçº¿ç¨‹æœ‰å¯èƒ½å…ˆå®Œæˆï¼Œå¯¼è‡´ç¨‹åºæå‰é€€å‡ºï¼Œä¼šæ€æ­»ä¹‹å‰æ‰€åˆ›å»ºçš„çº¿ç¨‹ã€‚</p>
<h4 data-id="heading-7">å¤šä¸ªçº¿ç¨‹å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span>

<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> NUM_THREADS = <span class="hljs-number">10</span>; <span class="hljs-comment">// çº¿ç¨‹æ•°é‡</span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-comment">// æ™®é€šå‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">call_from_thread</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// ä¸ºäº†é˜²æ­¢è¾“å‡ºä¹±åºï¼Œå®é™…é¡¹ç›®ä¸­é€šå¸¸åŠ é”ï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºç®€å•çœç•¥</span>
    cout &lt;&lt; <span class="hljs-string">"Hello from thread"</span> &lt;&lt; endl;
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    thread t[NUM_THREADS]; <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹æ•°ç»„</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM_THREADS; ++i)
    {
        t[i] = <span class="hljs-built_in">thread</span>(call_from_thread); <span class="hljs-comment">// åˆ›å»ºã€å¯åŠ¨çº¿ç¨‹</span>
    }

    cout &lt;&lt; <span class="hljs-string">"Hello from main thread"</span> &lt;&lt; endl;

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM_THREADS; ++i)
    {
        t[i].<span class="hljs-built_in">join</span>(); <span class="hljs-comment">// ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/772275adbab648a3a8f6e01bd7e7bfec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=TYGrpoNn8y8kUJgZad5%2BgsyGcsY%3D" alt="image-7.png" loading="lazy"/>
å¯ä»¥å‘ç°æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¹‹ååšä¸€äº›å·¥ä½œã€‚</p>
<p>å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿é€åæ²¡æœ‰ç‰¹å®šçš„é¡ºåºï¼Œæˆ‘ä»¬åœ¨ç¼–ç¨‹æ—¶è¦ç¡®ä¿çº¿ç¨‹ä¸ä¼šä¿®æ”¹ä¸´ç•Œèµ„æºï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹ä¹‹é—´ç¡®å®è¦ç«äº‰ä¸€äº›èµ„æºï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™æ›´å¤æ‚çš„å¹¶è¡Œä»£ç ï¼Œä½¿ç”¨ç±»ä¼¼nutexã€atomicç­‰æ–¹æ³•é¿å…ä¸Šè¿°é—®é¢˜ã€‚</p>
<h4 data-id="heading-8">çº¿ç¨‹ä¼ å‚çš„å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-comment">// æ™®é€šå‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">call_from_thread</span><span class="hljs-params">(string&amp; s)</span>
</span>{
    <span class="hljs-comment">// ä¸ºäº†é˜²æ­¢è¾“å‡ºä¹±åºï¼Œå®é™…é¡¹ç›®ä¸­é€šå¸¸åŠ é”ï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºç®€å•çœç•¥</span>
    cout &lt;&lt; <span class="hljs-string">"Hello from thread :"</span> &lt;&lt; s &lt;&lt; endl;
    s = <span class="hljs-string">"hello"</span>; <span class="hljs-comment">//ä¿®æ”¹ä¼ å…¥çš„å‚æ•°</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{   
    string str = <span class="hljs-string">"Jaylan"</span>;
    <span class="hljs-function">thread <span class="hljs-title">t</span><span class="hljs-params">(&amp;call_from_thread,std::ref(str))</span></span>; <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¼ é€’å‚æ•°,ref()è¡¨ç¤ºæ˜¾å¼çš„å¼•ç”¨ä¼ é€’</span>
    t.<span class="hljs-built_in">join</span>(); <span class="hljs-comment">// ç­‰å¾…çº¿ç¨‹ç»“</span>
    cout &lt;&lt; <span class="hljs-string">"Hello from main thread="</span> &lt;&lt; str &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e76fce929a5a422c855606cd1c49fbf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=Ivt5M0tAekQwelBfs76xN5bI%2Fow%3D" alt="image-8.png" loading="lazy"/>
å…ˆé˜»å¡äº†ä¸»çº¿ç¨‹ï¼Œç­‰å¾…çº¿ç¨‹ç»“æŸï¼Œç„¶åè¾“å‡ºä¿®æ”¹åçš„å‚æ•°ã€‚</p>
<h3 data-id="heading-9">ä¸‰ã€ç±»æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°çš„å®ç°</h3>
<p>åœ¨çº¿ç¨‹ä¸­å¦‚ä½•å°†ä¸€ä¸ªç±»æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°å‘¢ï¼Ÿ</p>
<p>æˆå‘˜æ–¹æ³•ä½œä¸ºçº¿ç¨‹æ¥æ‰§è¡Œï¼Œæœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p>
<ul>
<li>çº¿ç¨‹çš„å˜é‡ä¼ é€’ä¼šéå¸¸æ–¹ä¾¿ï¼Œç›´æ¥è¯»å–æˆå‘˜å˜é‡å³å¯ã€‚</li>
<li>çº¿ç¨‹ä½“ä½œä¸ºå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è®¿é—®å¯¹è±¡çš„ç§æœ‰å˜é‡å’Œæ–¹æ³•ã€‚</li>
</ul>
<h4 data-id="heading-10">æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°ï¼ˆPOSIX threadsï¼‰</h4>
<p>è¯­æ³•ï¼š<code>int pthread_create(pthread_t *thread, pthread_attr_t *attr, void *(*routine)(void*), void* arg);</code></p>
<p>ä¸»è¦ç¬¬ä¸‰ä¸ªå‚æ•°routineæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç±»æˆå‘˜å‡½æ•°ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ
å…ˆæµ‹è¯•ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AA</span>
{
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">AA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name);
    <span class="hljs-type">void</span> sayHelo*();
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name;
    <span class="hljs-type">pthread_t</span> m_thread; <span class="hljs-comment">//çº¿ç¨‹</span>
}

AA::<span class="hljs-built_in">AA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name):<span class="hljs-built_in">m_name</span>(name)
{
    <span class="hljs-built_in">pthread_create</span>(&amp;m_thread,<span class="hljs-literal">NULL</span>,AA::sayHelo,<span class="hljs-keyword">this</span>);
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/751b8c71fee34eaca0533905ec6d912f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=KPMesGH7SSDfUw7w%2BKwvmEcF8M0%3D" alt="image-9.png" loading="lazy"/>
åˆ†ææŠ¥é”™ä¿¡æ¯ï¼Œæˆå‘˜å‡½æ•°é»˜è®¤æ˜¯éé™æ€å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°è¯•å°†pthread_createçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ”¹ä¸ºé™æ€å‡½æ•°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span>* <span class="hljs-title">createThread</span><span class="hljs-params">(<span class="hljs-type">void</span>* arg)</span>
</span>{
    A* pa = (A*)arg;
    pa-&gt;<span class="hljs-built_in">sayHello</span>();
    <span class="hljs-keyword">return</span> (<span class="hljs-type">void</span>*)<span class="hljs-number">0</span>; 
}

AA::<span class="hljs-built_in">AA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name):<span class="hljs-built_in">m_name</span>(name)
{
    <span class="hljs-built_in">pthread_create</span>(&amp;m_thread,<span class="hljs-literal">NULL</span>,createThread,<span class="hljs-keyword">this</span>);
}
</code></pre>
<p>æˆ‘ä»¬é€šè¿‡staticå‡½æ•°createThreadä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼ŒåŒæ—¶ä½¿ç”¨ç¬¬å››ä¸ªå‚æ•°thisçº¿ç¨‹ä¼ å‚ï¼Œè¿›è€Œåœ¨createThreadç®€é—´æ¥è°ƒç”¨classä¸­çš„æˆå‘˜æ–¹æ³•ã€‚
è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ï¼šå°†routineå‡½æ•°å£°æ˜ä¸ºè¯¥ç±»çš„å‹å…ƒå‡½æ•°ï¼Œè¿™æ ·routineå‡½æ•°å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¯¥ç±»çš„æˆå‘˜å‡½æ•°äº†ã€‚</p>
<p>è¿˜å¯ä»¥åˆ©ç”¨lambdaå‡½æ•°ï¼Œlambdaå‡½æ•°å¯ä»¥æ•è·ç±»æˆå‘˜å˜é‡ï¼Œä»è€Œåœ¨lambdaå‡½æ•°ä¸­è°ƒç”¨ç±»æˆå‘˜å‡½æ•°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AA</span>
{
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">AA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sayHelo</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name;
    <span class="hljs-type">pthread_t</span> m_thread; <span class="hljs-comment">//çº¿ç¨‹</span>
};
AA::<span class="hljs-built_in">AA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name):<span class="hljs-built_in">m_name</span>(name)
{
    <span class="hljs-keyword">auto</span> f = [](<span class="hljs-type">void</span>* arg)
    {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"word thread\n"</span>);
        AA* a = (AA*)arg;
        a-&gt;<span class="hljs-built_in">sayHelo</span>();
        <span class="hljs-keyword">return</span> (<span class="hljs-type">void</span>*)<span class="hljs-number">0</span>; <span class="hljs-comment">//å­çº¿ç¨‹é€€å‡ºï¼Œå¹¶è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ</span>
    };
    <span class="hljs-built_in">pthread_create</span>(&amp;m_thread,<span class="hljs-literal">NULL</span>,f,<span class="hljs-keyword">this</span>);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AA::sayHelo</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"hello,%s\n"</span>,m_name);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AA::stop</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">pthread_join</span>(m_thread,<span class="hljs-literal">NULL</span>); <span class="hljs-comment">//ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">pthread_t</span> tid;
    <span class="hljs-function">AA <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-string">"å¼ ä¸‰"</span>)</span></span>;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"main thread\n"</span>);
    a.<span class="hljs-built_in">stop</span>();

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a75ad9bf94ef423c9f5ce096ba433178~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971577&amp;x-signature=OqCV55UC7DVpHDrn72yWo1sVPf0%3D" alt="image-10.png" loading="lazy"/></p>
<p>ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹çš„è¾“å‡ºé¡ºåºæ˜¯éšæœºçš„ï¼Œå› ä¸ºçº¿ç¨‹ä¹‹é—´æ˜¯ç«äº‰ã€æ— åºçš„ã€‚</p>
<h4 data-id="heading-11">æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°ï¼ˆC++11 threadsï¼‰</h4>
<p>#include 
#include 
#include 
using namespace std;</p>
<p>class AA
{
public:
AA(const string&amp; name);
~AA();
void sayHello();
void stop();
private:
string m_name;
thread m_thread; //çº¿ç¨‹
};</p>
<p>AA::AA(const string&amp; name):m_name(name), m_thread(&amp;AA::sayHello,this){}</p>
<p>AA::~AA()
{
if(m_thread.joinable())//åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¯join
{
m_thread.join(); //ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸ
}
}</p>
<p>void AA::sayHello()
{
cout &lt;&lt; "hello," &lt;&lt; m_name &lt;&lt; endl;
}</p>
<p>void AA::stop()
{
if(m_thread.joinable())//åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¯join
{
m_thread.join(); //ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸ
}
}</p>
<p>int main()
{
AA a("å¼ ä¸‰");
cout &lt;&lt; "main thread.\n";
a.stop();</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
</code></pre>
<p>}</p>
<pre><code class="hljs language-ini" lang="ini">
!<span class="hljs-section">[image-11.png]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/369b621084264dfba721bdcdeaa336dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5Zyo6L-b5q2l:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1770971577</span>&amp;x-signature=xrP0cNhbbV2SJyjU6TJy%<span class="hljs-number">2</span>B6V55f8%<span class="hljs-number">3</span>D)

æ–‡ç« è¿›è¡Œäº†ç®€å•çš„çº¿ç¨‹å®è·µï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµå­¦ä¹ ã€‚
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºuview-proçš„u-dropdownæ‰©å±•è‡ªå·±çš„dropdownç»„ä»¶]]></title>    <link>https://juejin.cn/post/7603393977477120026</link>    <guid>https://juejin.cn/post/7603393977477120026</guid>    <pubDate>2026-02-06T08:33:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603393977477120026" data-draft-id="7603359026711117834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºuview-proçš„u-dropdownæ‰©å±•è‡ªå·±çš„dropdownç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-06T08:33:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LCåŒå­¦47981"/> <meta itemprop="url" content="https://juejin.cn/user/1978776660477991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºuview-proçš„u-dropdownæ‰©å±•è‡ªå·±çš„dropdownç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1978776660477991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LCåŒå­¦47981
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:33:58.000Z" title="Fri Feb 06 2026 08:33:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºuview-proçš„u-dropdownæ‰©å±•è‡ªå·±çš„dropdownç»„ä»¶</h2>
<p>uview-proçš„u-dropdownåªèƒ½æ˜¯èœå•ï¼Œä¸”åªèƒ½å‘ä¸‹å±•å¼€ï¼Œå½“å‰ç»„ä»¶é‡‡ç”¨å®ƒçš„æ ¸å¿ƒé€»è¾‘ï¼Œå»é™¤å¤šä½™é€»è¾‘ï¼Œå…¼å®¹ä¸Š/ä¸‹å±•å¼€ï¼Œä»¥åŠè‡ªå®šä¹‰å±•ç¤ºçš„å†…å®¹ï¼Œä¸å†å±€é™äºèœå•å½¢å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb4d90a49ae14bebbb7d6b200b8c6672~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTEPlkIzlraY0Nzk4MQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770971638&amp;x-signature=Slg5%2FeqbTZZ7uPsnhFE9EZAKwHo%3D" alt="e4043c3d-df06-4a4f-9d61-237d8254cf54.png" loading="lazy"/></p>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">ExtractPropTypes</span>, <span class="hljs-title class_">PropType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { baseProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro/components/common/props'</span>;

<span class="hljs-comment">/**
 * u-dropdown ä¸‹æ‹‰èœå• Props
 * <span class="hljs-doctag">@description</span> è¯¥ç»„ä»¶ä¸€èˆ¬ç”¨äºå‘ä¸‹å±•å¼€èœå•ï¼ŒåŒæ—¶å¯åˆ‡æ¢å¤šä¸ªé€‰é¡¹å¡çš„åœºæ™¯
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">DropdownProps</span> = {
  ...baseProps,
  <span class="hljs-comment">/** ç‚¹å‡»é®ç½©æ˜¯å¦å…³é—­èœå• */</span>
  <span class="hljs-attr">closeOnClickMask</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>, <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-comment">/** è¿‡æ¸¡æ—¶é—´ */</span>
  <span class="hljs-attr">duration</span>: { <span class="hljs-attr">type</span>: [<span class="hljs-title class_">Number</span>, <span class="hljs-title class_">String</span>] <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>&gt;, <span class="hljs-attr">default</span>: <span class="hljs-number">300</span> },
  <span class="hljs-comment">/** ä¸‹æ‹‰å‡ºæ¥çš„å†…å®¹éƒ¨åˆ†çš„åœ†è§’å€¼ */</span>
  <span class="hljs-attr">borderRadius</span>: { <span class="hljs-attr">type</span>: [<span class="hljs-title class_">Number</span>, <span class="hljs-title class_">String</span>] <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>&gt;, <span class="hljs-attr">default</span>: <span class="hljs-number">20</span> },
  <span class="hljs-comment">/** å±•å¼€æ–¹å‘ down/up */</span>
  <span class="hljs-attr">direction</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-string">'down'</span> | <span class="hljs-string">'up'</span>&gt;, <span class="hljs-attr">default</span>: <span class="hljs-string">'up'</span> },
  <span class="hljs-comment">/** å¼¹å‡ºå±‚æœ€å¤§é«˜åº¦ */</span>
  <span class="hljs-attr">maxHeight</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>rpx`</span> | <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>vh`</span>&gt;, <span class="hljs-attr">default</span>: <span class="hljs-string">'80vh'</span> },
  <span class="hljs-comment">/** å¼¹å‡ºå±‚æœ€å°é«˜åº¦ */</span>
  <span class="hljs-attr">minHeight</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>rpx`</span> | <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">number</span>}</span>vh`</span>&gt;, <span class="hljs-attr">default</span>: <span class="hljs-string">'0rpx'</span> },
  <span class="hljs-comment">/** æ˜¯å¦éšè—å…³é—­æŒ‰é’® */</span>
  <span class="hljs-attr">hiddenClose</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>, <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span> },
  <span class="hljs-comment">/** å¼¹å‡ºå±‚æ ‡é¢˜ */</span>
  <span class="hljs-attr">title</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>, <span class="hljs-attr">default</span>: <span class="hljs-string">''</span> }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DropdownProps</span> = <span class="hljs-title class_">ExtractPropTypes</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">DropdownProps</span>&gt;;

</code></pre>
<pre><code class="hljs language-VUE" lang="VUE">&lt;template&gt;
  &lt;view class="u-dropdown" :style="$u.toStyle(styles, customStyle)" :class="customClass"&gt;
    &lt;view class="u-dropdown__menu"&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/view&gt;
    &lt;view
      class="u-dropdown__content"
      :style="[
        contentStyle,
        {
          transition: `opacity ${Number(duration) / 1000}s linear`,
          [currentDirection === 'down' ? 'top' : 'bottom']: menuHeight + 'px',
          height: contentHeight + 'px'
        }
      ]"
      @tap="maskClick"
      @touchmove.stop.prevent&gt;
      &lt;view @tap.stop.prevent class="u-dropdown__content__popup" :style="[popupStyle]"&gt;
        &lt;slot name="close" v-if="!hiddenClose"&gt;
          &lt;view class="u-dropdown__content__popup__close" @click="close"&gt;
            &lt;u-icon name="close" size="48" custom-prefix="custom-icon" /&gt;
          &lt;/view&gt;
        &lt;/slot&gt;

        &lt;slot name="header"&gt;
          &lt;view class="u-dropdown__content__popup__header" v-if="title"&gt; {{ title }} &lt;/view&gt;
        &lt;/slot&gt;

        &lt;view class="u-dropdown__content__popup__body"&gt;
          &lt;scroll-view scroll-y class="u-dropdown__content__popup__scroll-view"&gt;
            &lt;slot name="content"&gt;&lt;/slot&gt;
          &lt;/scroll-view&gt;
        &lt;/view&gt;
        &lt;view class="u-dropdown__content__popup__footer"&gt;
          &lt;slot name="footer"&gt;&lt;/slot&gt;
        &lt;/view&gt;
      &lt;/view&gt;
      &lt;view class="u-dropdown__content__mask"&gt;&lt;/view&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name: 'hj-dropdown',
    options: {
      addGlobalClass: true,
      // #ifndef MP-TOUTIAO
      virtualHost: true,
      // #endif
      styleIsolation: 'shared'
    }
  };
&lt;/script&gt;

&lt;script setup lang="ts"&gt;
  import { ref, computed, onMounted, getCurrentInstance, watch, type CSSProperties } from 'vue';
  import { $u } from 'uview-pro';
  import { DropdownProps } from './types';

  /**
   * dropdown ä¸‹æ‹‰èœå•
   * @description è¯¥ç»„ä»¶ä¸€èˆ¬ç”¨äºå‘ä¸‹å±•å¼€èœå•ï¼ŒåŒæ—¶å¯åˆ‡æ¢å¤šä¸ªé€‰é¡¹å¡çš„åœºæ™¯
   * @tutorial https://uviewpro.cn/zh/components/dropdown.html
   * @property {Boolean} close-on-click-mask ç‚¹å‡»é®ç½©æ˜¯å¦å…³é—­èœå•ï¼ˆé»˜è®¤trueï¼‰
   * @property {String | Number} duration é€‰é¡¹å¡å±•å¼€å’Œæ”¶èµ·çš„è¿‡æ¸¡æ—¶é—´ï¼Œå•ä½msï¼ˆé»˜è®¤300ï¼‰
   * @property {String | Number} border-radius èœå•å±•å¼€å†…å®¹ä¸‹æ–¹çš„åœ†è§’å€¼ï¼Œå•ä½ä»»æ„ï¼ˆé»˜è®¤20ï¼‰
   * @property {String} direction å±•å¼€æ–¹å‘ down/upï¼ˆé»˜è®¤upï¼‰
   * @property {String} max-height å¼¹å‡ºå±‚æœ€å¤§é«˜åº¦ï¼ˆé»˜è®¤80vhï¼‰
   * @property {String} min-height å¼¹å‡ºå±‚æœ€å°é«˜åº¦
   * @property {Boolean} hidden-close æ˜¯å¦éšè—å…³é—­æŒ‰é’®ï¼ˆé»˜è®¤falseï¼‰
   * @property {String} title å¼¹å‡ºå±‚æ ‡é¢˜
   * @property {Boolean} show æ˜¯å¦æ˜¾ç¤ºä¸‹æ‹‰èœå•ï¼ˆé»˜è®¤falseï¼‰
   * @event {Function} open ä¸‹æ‹‰èœå•è¢«æ‰“å¼€æ—¶è§¦å‘
   * @event {Function} close ä¸‹æ‹‰èœå•è¢«å…³é—­æ—¶è§¦å‘
   * @example &lt;hj-dropdown&gt;&lt;/hj-dropdown&gt;
   */

  const props = defineProps(DropdownProps);
  const emit = defineEmits(['open', 'close']);

  // å±•å¼€çŠ¶æ€
  const active = ref(false);
  // å¤–å±‚å†…å®¹æ ·å¼
  const contentStyle = ref&lt;CSSProperties&gt;({
    zIndex: -1,
    opacity: 0
  });
  // ä¸‹æ‹‰å†…å®¹é«˜åº¦
  const contentHeight = ref&lt;number&gt;(0);
  // èœå•å®é™…é«˜åº¦
  const menuHeight = ref&lt;number&gt;(0);
  // å½“å‰å±•å¼€æ–¹å‘
  const currentDirection = ref&lt;'down' | 'up'&gt;(props.direction);
  // å­ç»„ä»¶å¼•ç”¨
  const instance = getCurrentInstance();

  const vShow = defineModel('show', {
    type: Boolean,
    default: false
  });

  watch(vShow, val =&gt; {
    if (val === active.value) return;
    if (val) {
      open();
    } else {
      close();
    }
  });

  // ç›‘å¬æ–¹å‘å˜åŒ–
  watch(
    () =&gt; props.direction,
    val =&gt; {
      currentDirection.value = val;
    }
  );

  // å…¼å®¹å¤´æ¡æ ·å¼
  const styles = computed&lt;CSSProperties&gt;(() =&gt; {
    const style: CSSProperties = {};
    // #ifdef MP-TOUTIAO
    style.width = '100vw';
    // #endif
    return style;
  });

  // ä¸‹æ‹‰å‡ºæ¥éƒ¨åˆ†çš„æ ·å¼
  const popupStyle = computed&lt;CSSProperties&gt;(() =&gt; {
    const style: CSSProperties = {};
    const isDown = currentDirection.value === 'down';
    const hiddenTransformLate = isDown ? '-100%' : '100%';

    style.maxHeight = props.maxHeight;
    style.minHeight = props.minHeight;
    style.transform = `translateY(${active.value ? 0 : hiddenTransformLate})`;
    style[isDown ? 'top' : 'bottom'] = 0;
    // è¿›è¡ŒYè½´ä½ç§»ï¼Œå±•å¼€çŠ¶æ€æ—¶ï¼Œæ¢å¤åŸä½ã€‚æ”¶èµ·çŠ¶æ€æ—¶ï¼Œå¾€ä¸Šä½ç§»100%ï¼ˆæˆ–ä¸‹ï¼‰ï¼Œè¿›è¡Œéšè—
    style.transitionDuration = `${Number(props.duration) / 1000}s`;

    if (isDown) {
      style.borderRadius = `0 0 ${$u.addUnit(props.borderRadius)} ${$u.addUnit(props.borderRadius)}`;
    } else {
      style.borderRadius = `${$u.addUnit(props.borderRadius)} ${$u.addUnit(props.borderRadius)} 0 0`;
    }
    return style;
  });

  // ç”Ÿå‘½å‘¨æœŸ
  onMounted(() =&gt; {
    getContentHeight();
  });

  /**
   * æ‰“å¼€ä¸‹æ‹‰èœå•
   * @param direction å±•å¼€æ–¹å‘ 'down' | 'up'
   */
  function open(direction?: 'down' | 'up') {
    currentDirection.value = direction || props.direction;

    // é‡æ–°è®¡ç®—é«˜åº¦ï¼Œå› ä¸ºæ–¹å‘å¯èƒ½æ”¹å˜
    getContentHeight();

    // è®¾ç½®å±•å¼€çŠ¶æ€
    active.value = true;

    // å±•å¼€æ—¶ï¼Œè®¾ç½®ä¸‹æ‹‰å†…å®¹çš„æ ·å¼
    contentStyle.value = {
      zIndex: 11,
      opacity: 1
    };
    vShow.value = true;
    emit('open');
  }

  /**
   * å…³é—­ä¸‹æ‹‰èœå•
   */
  function close() {
    // ä¸‹æ‹‰å†…å®¹çš„æ ·å¼è¿›è¡Œè°ƒæ•´ï¼Œä¸é€æ˜åº¦è®¾ç½®ä¸º0
    active.value = false;
    contentStyle.value = {
      ...contentStyle.value,
      opacity: 0
    };

    // ç­‰å¾…è¿‡æ¸¡åŠ¨ç”»ç»“æŸåéšè— z-index
    vShow.value = false;
    setTimeout(() =&gt; {
      contentStyle.value = {
        zIndex: -1,
        opacity: 0
      };
      emit('close');
    }, Number(props.duration));
  }

  /**
   * ç‚¹å‡»é®ç½©
   */
  function maskClick() {
    if (!props.closeOnClickMask) return;
    close();
  }

  /**
   * è·å–ä¸‹æ‹‰èœå•å†…å®¹çš„é«˜åº¦
   * @description
   * dropdownç»„ä»¶æ˜¯ç›¸å¯¹å®šä½çš„ï¼Œä¸‹æ‹‰å†…å®¹å¿…é¡»ç»™å®šé«˜åº¦ï¼Œ
   * æ‰èƒ½è®©é®ç½©å æ»¡èœå•ä»¥ä¸‹ç›´åˆ°å±å¹•åº•éƒ¨çš„é«˜åº¦ã€‚
   */
  function getContentHeight() {
    const windowHeight = $u.sys().windowHeight;

    $u.getRect('.u-dropdown__menu', instance).then((res: any) =&gt; {
      // è·å–èœå•å®é™…é«˜åº¦
      menuHeight.value = res.height;

      /**
       * å°ºå¯¸è®¡ç®—è¯´æ˜ï¼š
       * åœ¨H5ç«¯ï¼Œuniappè·å–å°ºå¯¸å­˜åœ¨å·²çŸ¥é—®é¢˜ï¼š
       * å…ƒç´ å°ºå¯¸çš„topå€¼ä¸ºå¯¼èˆªæ åº•éƒ¨åˆ°å…ƒç´ çš„ä¸Šè¾¹æ²¿çš„è·ç¦»
       * ä½†å…ƒç´ çš„bottomå€¼å´æ˜¯å¯¼èˆªæ é¡¶éƒ¨åˆ°å…ƒç´ åº•éƒ¨çš„è·ç¦»
       * ä¸ºé¿å…é¡µé¢æ»šåŠ¨ï¼Œæ­¤å¤„å–èœå•æ çš„bottomå€¼è¿›è¡Œè®¡ç®—
       */
      if (currentDirection.value === 'up') {
        contentHeight.value = res.top;
      } else {
        contentHeight.value = windowHeight - res.bottom;
      }
    });
  }

  // æš´éœ²æ–¹æ³•
  defineExpose({
    close,
    open
  });
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
  @import 'uview-pro/libs/css/style.components';

  .u-dropdown {
    flex: 1;
    width: 100%;
    position: relative;
    background-color: #fff;

    &amp;__content {
      position: absolute;
      z-index: 8;
      width: 100%;
      left: 0;
      overflow: hidden;

      &amp;__mask {
        position: absolute;
        z-index: 9;
        background: rgba(0, 0, 0, 0.3);
        width: 100%;
        left: 0;
        top: 0;
        bottom: 0;
      }

      &amp;__popup {
        position: absolute;
        width: 100%;
        z-index: 10;
        transition: all 0.3s;
        transform: translate3D(0, -100%, 0);
        overflow: hidden;
        background-color: var(--gray-2);

        &amp;__close {
          width: 40rpx;
          height: 40rpx;
          display: flex;
          align-items: center;
          justify-content: center;
          position: absolute;
          right: 24rpx;
          top: 30rpx;
          z-index: 9;
        }

        &amp;__header {
          display: flex;
          color: var(--title-1);
          font-size: var(--ft-32);
          font-weight: 500;
          line-height: 44rpx;
          padding: 30rpx 24rpx;
        }

        &amp;__body {
          flex: 1;
          overflow: hidden;
          display: flex;
        }

        &amp;__scroll-view {
          flex: 1;
        }

        &amp;__footer {
          display: flex;
        }
      }
    }
  }
&lt;/style&gt;

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Booleanç±»å‹]]></title>    <link>https://juejin.cn/post/7603309951227297842</link>    <guid>https://juejin.cn/post/7603309951227297842</guid>    <pubDate>2026-02-06T08:35:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603309951227297842" data-draft-id="7603185231801335834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Booleanç±»å‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-06T08:35:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©˜æœµ"/> <meta itemprop="url" content="https://juejin.cn/user/1099989273025416"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Booleanç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099989273025416/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©˜æœµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:35:07.000Z" title="Fri Feb 06 2026 08:35:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>Boolean</code>ï¼ˆå¸ƒå°”å€¼ï¼‰ç±»å‹æœ‰ä¸¤ä¸ªå­—é¢å€¼ï¼š<code>true</code>å’Œ<code>false</code>ã€‚ è¿™ä¸¤ä¸ªå¸ƒå°”å€¼ä¸åŒäºæ•°å€¼ï¼Œå› æ­¤ <code>true</code> ä¸ç­‰äº 1ï¼Œ<code>false</code> ä¸ç­‰äº 0ã€‚</p>
<p>è™½ç„¶å¸ƒå°”å€¼åªæœ‰ä¸¤ä¸ªï¼Œä½†æ‰€æœ‰å…¶ä»–ç±»å‹çš„å€¼éƒ½æœ‰ç›¸åº”å¸ƒå°”å€¼çš„ç­‰ä»·å½¢å¼ï¼Œå¯ä»¥è°ƒç”¨ç‰¹å®šçš„<code>Boolean()</code> è½¬å‹å‡½æ•°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">message</span> = <span class="hljs-string">"Hello world!"</span><span class="hljs-comment">; </span>
let <span class="hljs-attr">messageAsBoolean</span> = Boolean(message)<span class="hljs-comment">;</span>
</code></pre>
<p><code>Boolean()</code>è½¬å‹å‡½æ•°å¯ä»¥åœ¨ä»»æ„ç±»å‹çš„æ•°æ®ä¸Šè°ƒç”¨ï¼Œè€Œä¸”å§‹ç»ˆè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸åŒç±»å‹ä¸å¸ƒå°”å€¼ä¹‹é—´çš„è½¬æ¢è§„åˆ™ï¼š</p>



































<table><thead><tr><th>æ•°æ®ç±»å‹</th><th>Truthyï¼ˆçœŸå€¼ï¼‰</th><th>Falsyï¼ˆå‡å€¼ï¼‰</th></tr></thead><tbody><tr><td>Boolean</td><td>true</td><td>false</td></tr><tr><td>String</td><td>éç©ºå­—ç¬¦ä¸²</td><td>""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰</td></tr><tr><td>Number</td><td>éé›¶æ•°å€¼ï¼ˆåŒ…æ‹¬æ— ç©·å€¼ï¼‰</td><td>0ã€-0ã€NaN</td></tr><tr><td>Object</td><td>ä»»æ„å¯¹è±¡ï¼ŒåŒ…æ‹¬ç©ºæ•°ç»„ <code>[]</code>å’Œç©ºå¯¹è±¡ <code>{}</code></td><td>null</td></tr><tr><td>Undefined</td><td>N/Aï¼ˆä¸å­˜åœ¨ï¼‰</td><td>undefined</td></tr></tbody></table>
<p><strong>ç›´æ¥èµ‹å€¼</strong>ï¼šæœ€ç›´æ¥çš„æ–¹å¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">isActive</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">isLoading</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
</code></pre>
<p><strong>é€šè¿‡è¡¨è¾¾å¼</strong>ï¼šæ¯”è¾ƒæˆ–é€»è¾‘è¿ç®—çš„ç»“æœæ˜¯å¸ƒå°”å€¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">isGreater</span> = <span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span><span class="hljs-comment">; // true</span>
let <span class="hljs-attr">isEqual</span> = (<span class="hljs-number">10</span> === <span class="hljs-string">"10"</span>)<span class="hljs-comment">; // false</span>
let <span class="hljs-attr">logicResult</span> = (<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>) &amp;&amp; (<span class="hljs-number">4</span> &lt;= <span class="hljs-number">4</span>)<span class="hljs-comment">; // true</span>
</code></pre>
<p><strong>æ˜¾å¼è½¬æ¢</strong>ï¼šä½¿ç”¨ <code>Boolean()</code>å‡½æ•°æˆ–åŒé‡éè¿ç®—ç¬¦ <code>!!</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ Boolean() å‡½æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">"Hello"</span>)); <span class="hljs-comment">// true (éç©ºå­—ç¬¦ä¸²æ˜¯ truthy)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>)); <span class="hljs-comment">// false (0 æ˜¯ falsy)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>({})); <span class="hljs-comment">// true (ç©ºå¯¹è±¡æ˜¯ truthy)</span>

<span class="hljs-comment">// ä½¿ç”¨ !! è¿ç®—ç¬¦ï¼Œæ•ˆæœç›¸åŒä½†æ›´ç®€æ´</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(!!<span class="hljs-string">"Hello"</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(!!<span class="hljs-number">0</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>ä¸å»ºè®®ä½¿ç”¨<code>Boolean</code>æ„é€ å‡½æ•°ï¼ˆé€šè¿‡ <code>new</code>å…³é”®å­—ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºåŸå§‹å¸ƒå°”å€¼</span>
<span class="hljs-keyword">let</span> primitiveTrue = <span class="hljs-literal">true</span>;
<span class="hljs-comment">// åˆ›å»º Boolean å¯¹è±¡</span>
<span class="hljs-keyword">let</span> objectTrue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">true</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> primitiveTrue); <span class="hljs-comment">// "boolean"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> objectTrue); <span class="hljs-comment">// "object"</span>

<span class="hljs-comment">// å³ä½¿åŒ…è£…çš„å¯¹è±¡å€¼ä¸º falseï¼Œå…¶æœ¬èº«ä½œä¸ºå¯¹è±¡åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ä»ä¸º true</span>
<span class="hljs-keyword">let</span> objectFalse = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">if</span> (objectFalse) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"This will be executed."</span>); <span class="hljs-comment">// è¿™è¡Œä¼šè¢«æ‰§è¡Œ</span>
}
</code></pre>
<p><strong>å¸ƒå°”å€¼çš„åº”ç”¨ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//æ¡ä»¶åˆ¤æ–­ï¼šæ§åˆ¶ä»£ç åˆ†æ”¯ã€‚</span>
<span class="hljs-keyword">let</span> isLoggedIn = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">if</span> (isLoggedIn) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Welcome back!"</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Please log in."</span>);
}

<span class="hljs-comment">//å¾ªç¯æ§åˆ¶ï¼šå†³å®šå¾ªç¯æ˜¯å¦ç»§ç»­æ‰§è¡Œã€‚</span>
<span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> (count &lt; <span class="hljs-number">5</span>) { <span class="hljs-comment">// æ¡ä»¶ä¸º true æ—¶å¾ªç¯ç»§ç»­</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);
  count++;
}

<span class="hljs-comment">//å‡½æ•°è¿”å›ï¼šå‡½æ•°å¸¸ç”¨å¸ƒå°”å€¼è¿”å›æ“ä½œç»“æœæˆ–çŠ¶æ€æ£€æŸ¥ã€‚</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isAdult</span>(<span class="hljs-params">age</span>) {
  <span class="hljs-keyword">return</span> age &gt;= <span class="hljs-number">18</span>;
}
<span class="hljs-keyword">let</span> canVote = <span class="hljs-title function_">isAdult</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">//æ•°æ®è¿‡æ»¤ï¼šä¾‹å¦‚ï¼Œç»“åˆæ•°ç»„çš„ filteræ–¹æ³•å¿«é€Ÿè¿‡æ»¤å‡ºæœ‰æ•ˆé¡¹ã€‚</span>
<span class="hljs-keyword">const</span> mixedArray = [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"hello"</span>, <span class="hljs-string">""</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">42</span>];
<span class="hljs-keyword">const</span> truthyValues = mixedArray.<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>); <span class="hljs-comment">// [1, "hello", 42]</span>
<span class="hljs-comment">// Boolean å‡½æ•°ä½œä¸ºå›è°ƒï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤æ‰æ‰€æœ‰ falsy å€¼</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OoderA2UI BridgeCode æ·±åº¦è§£æï¼šä»è®¾è®¡åŸç†åˆ° Trae Solo Skill å®è·µ]]></title>    <link>https://juejin.cn/post/7602807243705237567</link>    <guid>https://juejin.cn/post/7602807243705237567</guid>    <pubDate>2026-02-05T00:38:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602807243705237567" data-draft-id="7602841282802729001" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OoderA2UI BridgeCode æ·±åº¦è§£æï¼šä»è®¾è®¡åŸç†åˆ° Trae Solo Skill å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T00:38:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OoderA2UI BridgeCode æ·±åº¦è§£æï¼šä»è®¾è®¡åŸç†åˆ° Trae Solo Skill å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T00:38:33.000Z" title="Thu Feb 05 2026 00:38:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    29
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‘˜è¦</h2>
<p>æœ¬æ–‡æ·±å…¥è§£æ ooder æ¡†æ¶çš„æ ¸å¿ƒ BridgeCode æœºåˆ¶ï¼Œä»è®¾è®¡åŸç†ã€ç”Ÿæˆç¼–è¯‘æµç¨‹ï¼Œåˆ°åŸºäºæ­¤æœºåˆ¶çš„åˆ†å±‚ SKILLS è®¾è®¡ï¼Œæœ€åå±•ç¤ºåœ¨ Trae Solo ç¯å¢ƒä¸­çš„ Skill æ„å»ºå®è·µã€‚é€šè¿‡æºç åˆ†æå’Œå®æˆ˜æ¡ˆä¾‹ï¼Œæ­ç¤º ooder å¦‚ä½•é€šè¿‡å…ƒæ•°æ®é©±åŠ¨çš„ä»£ç ç”Ÿæˆå®ç°é«˜æ•ˆçš„ A2UI ç»„ä»¶å¼€å‘ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€BridgeCode è®¾è®¡åŸç†</h2>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒè®¾è®¡ç†å¿µ</h3>
<p>BridgeCode æ˜¯ ooder æ¡†æ¶ä¸­è¿æ¥å…ƒæ•°æ®é…ç½®ä¸è¿è¡Œæ—¶ç»„ä»¶çš„æ¡¥æ¢ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯<strong>å…ƒæ•°æ®é©±åŠ¨</strong>ï¼ˆMetadata-Drivenï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">å…ƒæ•°æ®é…ç½®ï¼ˆ<span class="hljs-title class_">JSON</span>/æ³¨è§£ï¼‰
    â†“
<span class="hljs-title class_">BridgeCode</span> ç”Ÿæˆå™¨
    â†“
<span class="hljs-title class_">Java</span> æºä»£ç 
    â†“
åŠ¨æ€ç¼–è¯‘
    â†“
è¿è¡Œæ—¶ç»„ä»¶
</code></pre>
<p><strong>è®¾è®¡ç›®æ ‡</strong>ï¼š</p>
<ol>
<li><strong>è§£è€¦æ€§</strong>ï¼šå°†é…ç½®ä¸å®ç°åˆ†ç¦»ï¼Œé…ç½®é€šè¿‡å£°æ˜å¼æ–¹å¼å®šä¹‰</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ”¯æŒå¤šç§ç»„ä»¶ç±»å‹å’Œè§†å›¾æ¨¡å¼</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šé€šè¿‡ç¼–è¯‘æœŸæ£€æŸ¥ç¡®ä¿é…ç½®çš„æ­£ç¡®æ€§</li>
<li><strong>è¿è¡Œæ—¶ç»‘å®š</strong>ï¼šæ”¯æŒåŠ¨æ€åŠ è½½å’Œçƒ­æ›´æ–°</li>
</ol>
<h3 data-id="heading-3">1.2 æ¶æ„å±‚æ¬¡</h3>
<p>BridgeCode ç³»ç»Ÿé‡‡ç”¨ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å…ƒæ•°æ®å±‚ï¼ˆ<span class="hljs-title class_">Metadata</span> <span class="hljs-title class_">Layer</span>ï¼‰         â”‚
â”‚  - <span class="hljs-title class_">CustomViewMeta</span>                        â”‚
â”‚  - <span class="hljs-title class_">CustomDataMeta</span>                        â”‚
â”‚  - <span class="hljs-title class_">MethodConfig</span>                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ç”Ÿæˆå™¨å±‚ï¼ˆ<span class="hljs-title class_">Generator</span> <span class="hljs-title class_">Layer</span>ï¼‰          â”‚
â”‚  - <span class="hljs-title class_">GenCustomViewJava</span>                     â”‚
â”‚  - <span class="hljs-title class_">GenRepositoryViewJava</span>                  â”‚
â”‚  - <span class="hljs-title class_">GenAggCustomViewJava</span>                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       è¿è¡Œæ—¶å±‚ï¼ˆ<span class="hljs-title class_">Runtime</span> <span class="hljs-title class_">Layer</span>ï¼‰           â”‚
â”‚  - <span class="hljs-title class_">UIComponent</span>                          â”‚
â”‚  - <span class="hljs-title class_">ModuleUIComponent</span>                     â”‚
â”‚  - <span class="hljs-title class_">AggRootBuild</span>                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-4">1.3 æ ¸å¿ƒç±»è®¾è®¡</h3>
<h4 data-id="heading-5">1.3.1 AggRootBuild - èšåˆæ ¹æ„å»ºå™¨</h4>
<p>AggRootBuild æ˜¯ BridgeCode ç”Ÿæˆæµç¨‹çš„æ ¸å¿ƒåè°ƒç±»ï¼Œä½äº <code>net.ooder.engine.codegen.java.AggRootBuild</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AggRootBuild</span> {
    
    <span class="hljs-keyword">private</span> GenCustomViewJava viewTask;
    <span class="hljs-keyword">private</span> GenRepositoryViewJava voRepositoryTask;
    <span class="hljs-keyword">private</span> GenRepositoryViewJava serviceRepositoryTask;
    <span class="hljs-keyword">private</span> GenAggCustomViewJava rootTask;
    <span class="hljs-keyword">private</span> GenAggCustomJava genAggCustomJava;
    
    <span class="hljs-keyword">public</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-comment">// 1. åˆ›å»ºå­èŠ‚ç‚¹</span>
        CustomViewMeta = genChildJava();
        
        <span class="hljs-comment">// 2. åˆ›å»ºè§†å›¾å±‚</span>
        javaViewSource = buildView();
        
        <span class="hljs-comment">// 3. åˆ›å»ºèµ„æºå±‚æ¥å£</span>
        repositorySource = buildRepositoryView(<span class="hljs-literal">true</span>);
        
        <span class="hljs-comment">// 4. é¢„ç¼–è¯‘ä¸€æ¬¡</span>
        javaGen.dynCompile(getModuleJavaSrc());
        
        <span class="hljs-keyword">return</span> aggServiceRootBean;
    }
}
</code></pre>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li><strong>ä»»åŠ¡ç¼–æ’</strong>ï¼šåè°ƒå¤šä¸ªç”Ÿæˆä»»åŠ¡çš„æ‰§è¡Œé¡ºåº</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šå¤„ç†ç”Ÿæˆä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li><strong>å¢é‡æ„å»º</strong>ï¼šæ”¯æŒåªç”Ÿæˆå˜æ›´çš„éƒ¨åˆ†</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œå›æ»šæœºåˆ¶</li>
</ul>
<h4 data-id="heading-6">1.3.2 GenJavaTask - ç”Ÿæˆä»»åŠ¡åŸºç±»</h4>
<p>æ‰€æœ‰ä»£ç ç”Ÿæˆå™¨éƒ½ç»§æ‰¿è‡ª GenJavaTaskï¼Œæä¾›ç»Ÿä¸€çš„ç”Ÿæˆæ¡†æ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenJavaTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Callable</span>&lt;List&lt;JavaGenSource&gt;&gt; {
    
    <span class="hljs-keyword">protected</span> JavaGenSource javaGen;
    <span class="hljs-keyword">protected</span> CustomViewMeta viewMeta;
    <span class="hljs-keyword">protected</span> String euClassName;
    <span class="hljs-keyword">protected</span> Chrome chrome;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException;
    
    <span class="hljs-keyword">protected</span> JavaGenSource <span class="hljs-title function_">createJavaSource</span><span class="hljs-params">(String className, String content)</span> {
        <span class="hljs-type">JavaGenSource</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaGenSource</span>();
        source.setClassName(className);
        source.setContent(content);
        source.setPackage(viewMeta.getPackageName());
        <span class="hljs-keyword">return</span> source;
    }
}
</code></pre>
<p><strong>è®¾è®¡ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€æ¥å£</strong>ï¼šæ‰€æœ‰ç”Ÿæˆå™¨å®ç°ç›¸åŒçš„æ¥å£</li>
<li><strong>å¯ç»„åˆæ€§</strong>ï¼šæ”¯æŒç”Ÿæˆå™¨çš„ç»„åˆå’Œå¤ç”¨</li>
<li><strong>é”™è¯¯éš”ç¦»</strong>ï¼šæ¯ä¸ªç”Ÿæˆå™¨ç‹¬ç«‹å¤„ç†é”™è¯¯</li>
<li><strong>å¯æµ‹è¯•æ€§</strong>ï¼šæ¯ä¸ªç”Ÿæˆå™¨å¯ä»¥ç‹¬ç«‹æµ‹è¯•</li>
</ul>
<h4 data-id="heading-7">1.3.3 D2CGenerator - è®¾è®¡åˆ°ä»£ç ç”Ÿæˆå™¨</h4>
<p>D2CGenerator æ˜¯æ ¸å¿ƒçš„ä»£ç ç”Ÿæˆå¼•æ“ï¼Œä½¿ç”¨ Freemarker æ¨¡æ¿å¼•æ“ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">D2CGenerator</span> {
    
    <span class="hljs-keyword">private</span> Configuration freemarkerConfig;
    <span class="hljs-keyword">private</span> TemplateManager templateManager;
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">generate</span><span class="hljs-params">(String templateName, Map&lt;String, Object&gt; dataModel)</span> 
            <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Template</span> <span class="hljs-variable">template</span> <span class="hljs-operator">=</span> freemarkerConfig.getTemplate(templateName);
            <span class="hljs-type">StringWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringWriter</span>();
            template.process(dataModel, writer);
            <span class="hljs-keyword">return</span> writer.toString();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"ä»£ç ç”Ÿæˆå¤±è´¥: "</span> + e.getMessage(), e);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dynCompile</span><span class="hljs-params">(List&lt;JavaGenSource&gt; sources)</span> <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-type">JavaCompiler</span> <span class="hljs-variable">compiler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaCompiler</span>();
        compiler.compile(sources);
    }
}
</code></pre>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼š</p>
<ul>
<li><strong>æ¨¡æ¿å¼•æ“</strong>ï¼šFreemarker 2.3.x</li>
<li><strong>ç¼–è¯‘å™¨</strong>ï¼šJava Compiler API</li>
<li><strong>ç±»åŠ è½½</strong>ï¼šè‡ªå®šä¹‰ ClassLoader</li>
<li><strong>æ‰“åŒ…</strong>ï¼šJAR æ–‡ä»¶ç”Ÿæˆ</li>
</ul>
<h2 data-id="heading-8">äºŒã€BridgeCode ç”Ÿæˆç¼–è¯‘åŸç†</h2>
<h3 data-id="heading-9">2.1 å®Œæ•´ç”Ÿæˆæµç¨‹</h3>
<p>BridgeCode çš„ç”Ÿæˆç¼–è¯‘æµç¨‹åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">1:</span> <span class="hljs-string">å…ƒæ•°æ®è§£æ</span>
    <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">2:</span> <span class="hljs-string">ä»£ç ç”Ÿæˆ</span>
    <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">3:</span> <span class="hljs-string">æºç ç»„è£…</span>
    <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">4:</span> <span class="hljs-string">åŠ¨æ€ç¼–è¯‘</span>
    <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">5:</span> <span class="hljs-string">è¿è¡Œæ—¶ç»‘å®š</span>
</code></pre>
<h3 data-id="heading-10">2.2 é˜¶æ®µè¯¦è§£</h3>
<h4 data-id="heading-11">2.2.1 é˜¶æ®µ 1ï¼šå…ƒæ•°æ®è§£æ</h4>
<p><strong>è¾“å…¥</strong>ï¼š</p>
<ul>
<li>JSON é…ç½®æ–‡ä»¶</li>
<li>Java æ³¨è§£é…ç½®</li>
<li>æ•°æ®åº“å…ƒæ•°æ®</li>
</ul>
<p><strong>å¤„ç†æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetadataParser</span> {
    
    <span class="hljs-keyword">public</span> MethodConfig <span class="hljs-title function_">parseFromJson</span><span class="hljs-params">(String jsonConfig)</span> {
        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> JSON.parseObject(jsonConfig);
        <span class="hljs-type">MethodConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodConfig</span>();
        
        <span class="hljs-comment">// è§£æè§†å›¾å…ƒæ•°æ®</span>
        config.setView(parseViewMeta(json.getJSONObject(<span class="hljs-string">"view"</span>)));
        
        <span class="hljs-comment">// è§£ææ•°æ®å…ƒæ•°æ®</span>
        config.setDataBean(parseDataMeta(json.getJSONObject(<span class="hljs-string">"data"</span>)));
        
        <span class="hljs-comment">// è§£ææ–¹æ³•é…ç½®</span>
        config.setMethodName(json.getString(<span class="hljs-string">"methodName"</span>));
        config.setUrl(json.getString(<span class="hljs-string">"url"</span>));
        
        <span class="hljs-keyword">return</span> config;
    }
    
    <span class="hljs-keyword">public</span> MethodConfig <span class="hljs-title function_">parseFromAnnotation</span><span class="hljs-params">(Class&lt;?&gt; bridgeClass)</span> {
        <span class="hljs-type">MethodConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodConfig</span>();
        
        <span class="hljs-comment">// è§£æ @CustomClass æ³¨è§£</span>
        <span class="hljs-type">CustomClass</span> <span class="hljs-variable">classAnnotation</span> <span class="hljs-operator">=</span> bridgeClass.getAnnotation(CustomClass.class);
        config.setCaption(classAnnotation.caption());
        
        <span class="hljs-comment">// è§£ææ–¹æ³•æ³¨è§£</span>
        <span class="hljs-keyword">for</span> (Method method : bridgeClass.getMethods()) {
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(CustomMenuItem.class)) {
                config.addMenuItem(parseMenuItem(method));
            }
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(CustomGridEvent.class)) {
                config.addEvent(parseGridEvent(method));
            }
        }
        
        <span class="hljs-keyword">return</span> config;
    }
}
</code></pre>
<p><strong>éªŒè¯æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>ç±»å‹æ£€æŸ¥ï¼šç¡®ä¿å­—æ®µç±»å‹åŒ¹é…</li>
<li>å¿…å¡«éªŒè¯ï¼šæ£€æŸ¥å¿…å¡«å­—æ®µ</li>
<li>å¼•ç”¨éªŒè¯ï¼šéªŒè¯å¼•ç”¨çš„å®ä½“å­˜åœ¨</li>
<li>æ ¼å¼éªŒè¯ï¼šæ£€æŸ¥ URLã€æ­£åˆ™è¡¨è¾¾å¼ç­‰æ ¼å¼</li>
</ul>
<h4 data-id="heading-12">2.2.2 é˜¶æ®µ 2ï¼šä»£ç ç”Ÿæˆ</h4>
<p><strong>ç”Ÿæˆå™¨å±‚æ¬¡</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">GenCustomViewJava (è§†å›¾å±‚ç”Ÿæˆå™¨)
    â”œâ”€â”€ GenLayoutChildModule (å¸ƒå±€ç”Ÿæˆ)
    â”œâ”€â”€ GenTabsChildModule (æ ‡ç­¾é¡µç”Ÿæˆ)
    â””â”€â”€ GenFormChildModule (è¡¨å•ç”Ÿæˆ)

GenRepositoryViewJava (ä»“å‚¨å±‚ç”Ÿæˆå™¨)
    â”œâ”€â”€ GenEntityJava (å®ä½“ç”Ÿæˆ)
    â”œâ”€â”€ GenEntityServiceJava (æœåŠ¡ç”Ÿæˆ)
    â””â”€â”€ GenTableJava (è¡¨ç”Ÿæˆ)

GenAggCustomViewJava (èšåˆå±‚ç”Ÿæˆå™¨)
    â”œâ”€â”€ GenAggRootJava (èšåˆæ ¹ç”Ÿæˆ)
    â”œâ”€â”€ GenAggMenuJava (èœå•ç”Ÿæˆ)
    â””â”€â”€ GenAggAPIJava (APIç”Ÿæˆ)
</code></pre>
<p><strong>ç”Ÿæˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenCustomViewJava</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GenJavaTask</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException {
        List&lt;JavaGenSource&gt; sources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// 1. ç”Ÿæˆè§†å›¾ç±»</span>
        sources.add(generateViewClass());
        
        <span class="hljs-comment">// 2. ç”Ÿæˆå­—æ®µé…ç½®</span>
        sources.add(generateFieldConfigs());
        
        <span class="hljs-comment">// 3. ç”Ÿæˆäº‹ä»¶å¤„ç†å™¨</span>
        sources.add(generateEventHandlers());
        
        <span class="hljs-keyword">return</span> sources;
    }
    
    <span class="hljs-keyword">private</span> JavaGenSource <span class="hljs-title function_">generateViewClass</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException {
        Map&lt;String, Object&gt; dataModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        dataModel.put(<span class="hljs-string">"className"</span>, viewMeta.getClassName());
        dataModel.put(<span class="hljs-string">"packageName"</span>, viewMeta.getPackageName());
        dataModel.put(<span class="hljs-string">"fields"</span>, viewMeta.getFields());
        
        <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> d2cGenerator.generate(<span class="hljs-string">"view.ftl"</span>, dataModel);
        <span class="hljs-keyword">return</span> createJavaSource(viewMeta.getClassName(), content);
    }
}
</code></pre>
<p><strong>æ¨¡æ¿ç¤ºä¾‹</strong>ï¼ˆFreemarkerï¼‰ï¼š</p>
<pre><code class="hljs language-ftl" lang="ftl">package ${packageName};

import net.ooder.engine.ub.component.*;
import net.ooder.engine.ub.annotation.*;

&lt;#list fields as field&gt;
import ${field.type};
&lt;/#list&gt;

/**
 * ${viewMeta.caption}
 * è‡ªåŠ¨ç”Ÿæˆçš„è§†å›¾ç±»ï¼Œè¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹
 */
@CustomView
public class ${className} extends UIComponent {
    
    &lt;#list fields as field&gt;
    private ${field.type} ${field.name};
    &lt;/#list&gt;
    
    public ${className}() {
        super();
        // åˆå§‹åŒ–ç»„ä»¶
    }
}
</code></pre>
<h4 data-id="heading-13">2.2.3 é˜¶æ®µ 3ï¼šæºç ç»„è£…</h4>
<p><strong>ç»„è£…ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceAssembler</span> {
    
    <span class="hljs-keyword">public</span> JavaSrcMeta <span class="hljs-title function_">assemble</span><span class="hljs-params">(List&lt;JavaGenSource&gt; sources)</span> {
        <span class="hljs-type">JavaSrcMeta</span> <span class="hljs-variable">srcMeta</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaSrcMeta</span>();
        
        <span class="hljs-comment">// 1. æŒ‰åŒ…åˆ†ç»„</span>
        Map&lt;String, List&lt;JavaGenSource&gt;&gt; packageMap = 
            sources.stream().collect(Collectors.groupingBy(JavaGenSource::getPackage));
        
        <span class="hljs-comment">// 2. ç”ŸæˆåŒ…ç»“æ„</span>
        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, List&lt;JavaGenSource&gt;&gt; entry : packageMap.entrySet()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">packageName</span> <span class="hljs-operator">=</span> entry.getKey();
            List&lt;JavaGenSource&gt; packageSources = entry.getValue();
            
            <span class="hljs-comment">// ç”ŸæˆåŒ…ç›®å½•</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">packagePath</span> <span class="hljs-operator">=</span> packageName.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'/'</span>);
            srcMeta.addPackage(packagePath, packageSources);
        }
        
        <span class="hljs-comment">// 3. ç”Ÿæˆå¯¼å…¥è¯­å¥</span>
        srcMeta.addImports(calculateImports(sources));
        
        <span class="hljs-keyword">return</span> srcMeta;
    }
}
</code></pre>
<p><strong>ä¾èµ–è§£æ</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨è®¡ç®—ç±»ä¾èµ–å…³ç³»</li>
<li>ç”Ÿæˆæ­£ç¡®çš„ import è¯­å¥</li>
<li>å¤„ç†å¾ªç¯ä¾èµ–</li>
<li>ä¼˜åŒ–å¯¼å…¥é¡ºåº</li>
</ul>
<h4 data-id="heading-14">2.2.4 é˜¶æ®µ 4ï¼šåŠ¨æ€ç¼–è¯‘</h4>
<p><strong>ç¼–è¯‘æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicCompiler</span> {
    
    <span class="hljs-keyword">public</span> Class&lt;?&gt; compile(JavaGenSource source) <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ›å»º Java æ–‡ä»¶</span>
            <span class="hljs-type">File</span> <span class="hljs-variable">javaFile</span> <span class="hljs-operator">=</span> createJavaFile(source);
            
            <span class="hljs-comment">// 2. ç¼–è¯‘ Java æ–‡ä»¶</span>
            <span class="hljs-type">JavaCompiler</span> <span class="hljs-variable">compiler</span> <span class="hljs-operator">=</span> ToolProvider.getSystemJavaCompiler();
            DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DiagnosticCollector</span>&lt;&gt;();
            
            <span class="hljs-type">StandardJavaFileManager</span> <span class="hljs-variable">fileManager</span> <span class="hljs-operator">=</span> 
                compiler.getStandardFileManager(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
            
            Iterable&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JavaFileObject</span>&gt; compilationUnits = 
                fileManager.getJavaFileObjectsFromFiles(Arrays.asList(javaFile));
            
            <span class="hljs-comment">// 3. æ‰§è¡Œç¼–è¯‘</span>
            compiler.getTask(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, diagnostics, fileManager, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>)
                   .call(compilationUnits);
            
            <span class="hljs-comment">// 4. æ£€æŸ¥ç¼–è¯‘é”™è¯¯</span>
            <span class="hljs-keyword">if</span> (!diagnostics.getDiagnostics().isEmpty()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"ç¼–è¯‘å¤±è´¥: "</span> + diagnostics);
            }
            
            <span class="hljs-comment">// 5. åŠ è½½ç¼–è¯‘åçš„ç±»</span>
            <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> fileManager.getClassLoader(<span class="hljs-literal">null</span>);
            <span class="hljs-keyword">return</span> classLoader.loadClass(source.getClassName());
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"åŠ¨æ€ç¼–è¯‘å¤±è´¥: "</span> + e.getMessage(), e);
        }
    }
}
</code></pre>
<p><strong>ç¼–è¯‘ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å¢é‡ç¼–è¯‘ï¼šåªç¼–è¯‘å˜æ›´çš„æ–‡ä»¶</li>
<li>å¹¶è¡Œç¼–è¯‘ï¼šæ”¯æŒå¤šçº¿ç¨‹ç¼–è¯‘</li>
<li>ç¼“å­˜æœºåˆ¶ï¼šç¼“å­˜å·²ç¼–è¯‘çš„ç±»</li>
<li>çƒ­æ›¿æ¢ï¼šæ”¯æŒè¿è¡Œæ—¶æ›¿æ¢ç±»</li>
</ul>
<h4 data-id="heading-15">2.2.5 é˜¶æ®µ 5ï¼šè¿è¡Œæ—¶ç»‘å®š</h4>
<p><strong>ç»‘å®šæœºåˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RuntimeBinder</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">bind</span><span class="hljs-params">(MethodConfig config, Class&lt;?&gt; bridgeClass)</span> 
            <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ›å»º Bridge å®ä¾‹</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">bridgeInstance</span> <span class="hljs-operator">=</span> bridgeClass.newInstance();
            
            <span class="hljs-comment">// 2. ç»‘å®šæ–¹æ³•åˆ°äº‹ä»¶</span>
            <span class="hljs-keyword">for</span> (Event event : config.getEvents()) {
                <span class="hljs-type">Method</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> findHandlerMethod(bridgeClass, event.getHandler());
                bindEvent(event, handler, bridgeInstance);
            }
            
            <span class="hljs-comment">// 3. ç»‘å®šèœå•é¡¹</span>
            <span class="hljs-keyword">for</span> (MenuItem menu : config.getMenus()) {
                <span class="hljs-type">Method</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> findHandlerMethod(bridgeClass, menu.getHandler());
                bindMenuItem(menu, handler, bridgeInstance);
            }
            
            <span class="hljs-comment">// 4. æ³¨å†Œåˆ° UI æ¡†æ¶</span>
            registerToUIFramework(bridgeInstance);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"è¿è¡Œæ—¶ç»‘å®šå¤±è´¥: "</span> + e.getMessage(), e);
        }
    }
}
</code></pre>
<p><strong>ç»‘å®šç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>åå°„ç»‘å®šï¼šä½¿ç”¨ Java åå°„æœºåˆ¶</li>
<li>ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æœŸæ£€æŸ¥ç±»å‹åŒ¹é…</li>
<li>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šè‡ªåŠ¨ç®¡ç†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
<li>äº‹ä»¶ä¼ æ’­ï¼šæ”¯æŒäº‹ä»¶å†’æ³¡å’Œæ•è·</li>
</ul>
<h3 data-id="heading-16">2.3 æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-17">2.3.1 ç”Ÿæˆç¼“å­˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerationCache</span> {
    
    <span class="hljs-keyword">private</span> Map&lt;String, JavaGenSource&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> JavaGenSource <span class="hljs-title function_">getOrGenerate</span><span class="hljs-params">(String key, Callable&lt;JavaGenSource&gt; generator)</span> 
            <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-keyword">return</span> cache.computeIfAbsent(key, k -&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> generator.call();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"ç”Ÿæˆå¤±è´¥: "</span> + e.getMessage(), e);
            }
        });
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invalidate</span><span class="hljs-params">(String key)</span> {
        cache.remove(key);
    }
}
</code></pre>
<h4 data-id="heading-18">2.3.2 å¹¶è¡Œç”Ÿæˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParallelGenerator</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">4</span>);
    
    <span class="hljs-keyword">public</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">generateParallel</span><span class="hljs-params">(
            List&lt;GenJavaTask&gt; tasks)</span> <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-keyword">try</span> {
            List&lt;Future&lt;JavaGenSource&gt;&gt; futures = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            
            <span class="hljs-keyword">for</span> (GenJavaTask task : tasks) {
                Future&lt;JavaGenSource&gt; future = executor.submit(task);
                futures.add(future);
            }
            
            List&lt;JavaGenSource&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-keyword">for</span> (Future&lt;JavaGenSource&gt; future : futures) {
                results.add(future.get());
            }
            
            <span class="hljs-keyword">return</span> results;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"å¹¶è¡Œç”Ÿæˆå¤±è´¥: "</span> + e.getMessage(), e);
        }
    }
}
</code></pre>
<h2 data-id="heading-19">ä¸‰ã€åˆ†å±‚ SKILLS è®¾è®¡</h2>
<h3 data-id="heading-20">3.1 Skill æ¶æ„è®¾è®¡</h3>
<p>åŸºäº BridgeCode æœºåˆ¶ï¼Œooder è®¾è®¡äº†åˆ†å±‚ SKILLS æ¶æ„ï¼Œä¸º LLM æä¾›ç»“æ„åŒ–çš„çŸ¥è¯†è®¿é—®èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Skill çŸ¥è¯†å±‚ï¼ˆKnowledge Layerï¼‰       â”‚
â”‚  - Foundation Skill                      â”‚
â”‚  - Module Skill                        â”‚
â”‚  - Component Skill                     â”‚
â”‚  - Metadata Skill                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Skill æ‰§è¡Œå±‚ï¼ˆExecution Layerï¼‰        â”‚
â”‚  - Skill Loader                        â”‚
â”‚  - Skill Context                      â”‚
â”‚  - Skill Orchestrator                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Skill é›†æˆå±‚ï¼ˆIntegration Layerï¼‰    â”‚
â”‚  - Trae Solo Integration               â”‚
â”‚  - LLM Provider                      â”‚
â”‚  - Tool Registry                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<h3 data-id="heading-21">3.2 Foundation Skill è®¾è®¡</h3>
<p><strong>èŒè´£</strong>ï¼šæä¾›åŸºç¡€ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FoundationSkill</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"foundation"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DESCRIPTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">"åŸºç¡€ç»„ä»¶ Skill"</span>;
    
    <span class="hljs-keyword">public</span> SkillContext <span class="hljs-title function_">load</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SkillContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillContext</span>();
        
        <span class="hljs-comment">// 1. åŠ è½½ NlpBaseUIComponent çŸ¥è¯†</span>
        context.addClass(NlpBaseUIComponent.class);
        
        <span class="hljs-comment">// 2. åŠ è½½ç”Ÿæˆå™¨çŸ¥è¯†</span>
        context.addGenerator(GenJavaTask.class);
        
        <span class="hljs-comment">// 3. åŠ è½½æ¨¡æ¿çŸ¥è¯†</span>
        context.addTemplate(<span class="hljs-string">"base.ftl"</span>);
        
        <span class="hljs-keyword">return</span> context;
    }
    
    <span class="hljs-keyword">public</span> List&lt;SkillAction&gt; <span class="hljs-title function_">getActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"create-base-component"</span>, <span class="hljs-string">"åˆ›å»ºåŸºç¡€ç»„ä»¶"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"initialize-component"</span>, <span class="hljs-string">"åˆå§‹åŒ–ç»„ä»¶"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"validate-component"</span>, <span class="hljs-string">"éªŒè¯ç»„ä»¶"</span>)
        );
    }
}
</code></pre>
<p><strong>çŸ¥è¯†å†…å®¹</strong>ï¼š</p>
<ul>
<li>æŠ½è±¡ç±»å®šä¹‰</li>
<li>åˆå§‹åŒ–æ–¹æ³•ç­¾å</li>
<li>ç»„ä»¶ç±»å‹æšä¸¾</li>
<li>åŸºç¡€ç”Ÿæˆå™¨æ¨¡æ¿</li>
</ul>
<h3 data-id="heading-22">3.3 Module Skill è®¾è®¡</h3>
<p><strong>èŒè´£</strong>ï¼šæä¾›æ¨¡å—ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ModuleSkill</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"module"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DESCRIPTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">"æ¨¡å—ç»„ä»¶ Skill"</span>;
    
    <span class="hljs-keyword">public</span> SkillContext <span class="hljs-title function_">load</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SkillContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillContext</span>();
        
        <span class="hljs-comment">// 1. åŠ è½½ ModuleUIComponent çŸ¥è¯†</span>
        context.addClass(ModuleUIComponent.class);
        context.addClass(CustomModuleUIComponent.class);
        
        <span class="hljs-comment">// 2. åŠ è½½ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</span>
        context.addMethod(<span class="hljs-string">"setCurrComponent"</span>);
        context.addMethod(<span class="hljs-string">"findComponentByAlias"</span>);
        
        <span class="hljs-comment">// 3. åŠ è½½ç”Ÿæˆå™¨</span>
        context.addGenerator(GenRepositoryViewJava.class);
        
        <span class="hljs-keyword">return</span> context;
    }
    
    <span class="hljs-keyword">public</span> List&lt;SkillAction&gt; <span class="hljs-title function_">getActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"create-module"</span>, <span class="hljs-string">"åˆ›å»ºæ¨¡å—"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"bind-component"</span>, <span class="hljs-string">"ç»‘å®šç»„ä»¶"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"manage-lifecycle"</span>, <span class="hljs-string">"ç®¡ç†ç”Ÿå‘½å‘¨æœŸ"</span>)
        );
    }
}
</code></pre>
<p><strong>çŸ¥è¯†å†…å®¹</strong>ï¼š</p>
<ul>
<li>æ¨¡å—ç±»å®šä¹‰</li>
<li>ç”Ÿå‘½å‘¨æœŸç®¡ç†æ–¹æ³•</li>
<li>ç»„ä»¶æŸ¥æ‰¾æœºåˆ¶</li>
<li>ä»“å‚¨å±‚ç”Ÿæˆå™¨</li>
</ul>
<h3 data-id="heading-23">3.4 Component Skill è®¾è®¡</h3>
<p><strong>èŒè´£</strong>ï¼šæä¾›å…·ä½“ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentSkill</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"component"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DESCRIPTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ç»„ä»¶ Skill"</span>;
    
    <span class="hljs-keyword">public</span> SkillContext <span class="hljs-title function_">load</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SkillContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillContext</span>();
        
        <span class="hljs-comment">// 1. åŠ è½½å…·ä½“ç»„ä»¶çŸ¥è¯†</span>
        context.addClass(NlpGroupUIComponent.class);
        context.addClass(NlpGridUIComponent.class);
        context.addClass(TreeGridUIComponent.class);
        
        <span class="hljs-comment">// 2. åŠ è½½ç»„ä»¶é…ç½®</span>
        context.addConfig(<span class="hljs-string">"group-config"</span>);
        context.addConfig(<span class="hljs-string">"grid-config"</span>);
        
        <span class="hljs-comment">// 3. åŠ è½½è§†å›¾ç”Ÿæˆå™¨</span>
        context.addGenerator(GenCustomViewJava.class);
        
        <span class="hljs-keyword">return</span> context;
    }
    
    <span class="hljs-keyword">public</span> List&lt;SkillAction&gt; <span class="hljs-title function_">getActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"create-group"</span>, <span class="hljs-string">"åˆ›å»ºåˆ†ç»„ç»„ä»¶"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"create-grid"</span>, <span class="hljs-string">"åˆ›å»ºç½‘æ ¼ç»„ä»¶"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"create-tree"</span>, <span class="hljs-string">"åˆ›å»ºæ ‘å½¢ç»„ä»¶"</span>)
        );
    }
}
</code></pre>
<p><strong>çŸ¥è¯†å†…å®¹</strong>ï¼š</p>
<ul>
<li>å…·ä½“ç»„ä»¶ç±»å®šä¹‰</li>
<li>ç»„ä»¶é…ç½®æ¨¡å¼</li>
<li>è§†å›¾å±‚ç”Ÿæˆå™¨</li>
<li>ç»„ä»¶é—´å…³ç³»</li>
</ul>
<h3 data-id="heading-24">3.5 Metadata Skill è®¾è®¡</h3>
<p><strong>èŒè´£</strong>ï¼šæä¾›å…ƒæ•°æ®çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetadataSkill</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"metadata"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DESCRIPTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å…ƒæ•°æ® Skill"</span>;
    
    <span class="hljs-keyword">public</span> SkillContext <span class="hljs-title function_">load</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SkillContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillContext</span>();
        
        <span class="hljs-comment">// 1. åŠ è½½å…ƒæ•°æ®ç±»</span>
        context.addClass(CustomViewMeta.class);
        context.addClass(CustomDataMeta.class);
        context.addClass(MethodConfig.class);
        
        <span class="hljs-comment">// 2. åŠ è½½è§£æå™¨</span>
        context.addParser(MetadataParser.class);
        
        <span class="hljs-comment">// 3. åŠ è½½éªŒè¯è§„åˆ™</span>
        context.addValidator(MetadataValidator.class);
        
        <span class="hljs-keyword">return</span> context;
    }
    
    <span class="hljs-keyword">public</span> List&lt;SkillAction&gt; <span class="hljs-title function_">getActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"parse-metadata"</span>, <span class="hljs-string">"è§£æå…ƒæ•°æ®"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"validate-metadata"</span>, <span class="hljs-string">"éªŒè¯å…ƒæ•°æ®"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillAction</span>(<span class="hljs-string">"generate-code"</span>, <span class="hljs-string">"ç”Ÿæˆä»£ç "</span>)
        );
    }
}
</code></pre>
<p><strong>çŸ¥è¯†å†…å®¹</strong>ï¼š</p>
<ul>
<li>å…ƒæ•°æ®ç±»å®šä¹‰</li>
<li>å…ƒæ•°æ®è§£æå™¨</li>
<li>éªŒè¯è§„åˆ™</li>
<li>ç”Ÿæˆè§„åˆ™</li>
</ul>
<h3 data-id="heading-25">3.6 Skill åä½œæœºåˆ¶</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SkillOrchestrator</span> {
    
    <span class="hljs-keyword">private</span> Map&lt;String, Skill&gt; skills = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerSkill</span><span class="hljs-params">(Skill skill)</span> {
        skills.put(skill.getName(), skill);
    }
    
    <span class="hljs-keyword">public</span> SkillContext <span class="hljs-title function_">execute</span><span class="hljs-params">(String skillName, Map&lt;String, Object&gt; params)</span> 
            <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-type">Skill</span> <span class="hljs-variable">skill</span> <span class="hljs-operator">=</span> skills.get(skillName);
        <span class="hljs-keyword">if</span> (skill == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JDSException</span>(<span class="hljs-string">"Skill ä¸å­˜åœ¨: "</span> + skillName);
        }
        
        <span class="hljs-comment">// 1. åŠ è½½ Skill ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">SkillContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> skill.load();
        
        <span class="hljs-comment">// 2. åº”ç”¨å‚æ•°</span>
        context.applyParams(params);
        
        <span class="hljs-comment">// 3. æ‰§è¡Œ Skill</span>
        <span class="hljs-type">SkillResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> skill.execute(context);
        
        <span class="hljs-keyword">return</span> result;
    }
    
    <span class="hljs-keyword">public</span> List&lt;SkillAction&gt; <span class="hljs-title function_">getAllActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> skills.values().stream()
                .flatMap(skill -&gt; skill.getActions().stream())
                .collect(Collectors.toList());
    }
}
</code></pre>
<h2 data-id="heading-26">å››ã€Trae Solo Skill æ„å»ºå®è·µ</h2>
<h3 data-id="heading-27">4.1 Trae Solo ç¯å¢ƒé…ç½®</h3>
<h4 data-id="heading-28">4.1.1 é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">trae-solo-project/
â”œâ”€â”€ .trae/
â”‚   â”œâ”€â”€ rules/
â”‚   â”‚   â”œâ”€â”€ project_rules.md       <span class="hljs-comment"># é¡¹ç›®è§„åˆ™</span>
â”‚   â”‚   â””â”€â”€ skill_rules.md        <span class="hljs-comment"># Skill è§„åˆ™</span>
â”‚   â””â”€â”€ skills/
â”‚       â”œâ”€â”€ foundation-skill.md    <span class="hljs-comment"># Foundation Skill</span>
â”‚       â”œâ”€â”€ module-skill.md        <span class="hljs-comment"># Module Skill</span>
â”‚       â”œâ”€â”€ component-skill.md     <span class="hljs-comment"># Component Skill</span>
â”‚       â””â”€â”€ metadata-skill.md      <span class="hljs-comment"># Metadata Skill</span>
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ net/ooder/
â”‚   â”‚   â”‚       â””â”€â”€ engine/
â”‚   â”‚   â”‚           â”œâ”€â”€ codegen/    <span class="hljs-comment"># ä»£ç ç”Ÿæˆå™¨</span>
â”‚   â”‚   â”‚           â””â”€â”€ ub/         <span class="hljs-comment"># BridgeCode</span>
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â””â”€â”€ templates/   <span class="hljs-comment"># Freemarker æ¨¡æ¿</span>
â”‚   â””â”€â”€ <span class="hljs-built_in">test</span>/
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ net/ooder/
â”‚               â””â”€â”€ engine/
â”‚                   â””â”€â”€ codegen/
â””â”€â”€ pom.xml
</code></pre>
<h4 data-id="heading-29">4.1.2 é…ç½®æ–‡ä»¶</h4>
<p><strong>.trae/rules/project_rules.md</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Trae Solo é¡¹ç›®è§„åˆ™</span>

<span class="hljs-section">## ä»£ç ç”Ÿæˆè§„åˆ™</span>

<span class="hljs-bullet">1.</span> æ‰€æœ‰ç”Ÿæˆçš„ä»£ç å¿…é¡»éµå¾ª Java ç¼–ç è§„èŒƒ
<span class="hljs-bullet">2.</span> ç”Ÿæˆçš„ç±»å¿…é¡»æ·»åŠ  @Generated æ³¨è§£
<span class="hljs-bullet">3.</span> ç”Ÿæˆçš„ä»£ç å¿…é¡»åŒ…å«å®Œæ•´çš„ Javadoc
<span class="hljs-bullet">4.</span> ç”Ÿæˆçš„ä»£ç å¿…é¡»é€šè¿‡ç¼–è¯‘æ£€æŸ¥

<span class="hljs-section">## Skill ä½¿ç”¨è§„åˆ™</span>

<span class="hljs-bullet">1.</span> LLM å¿…é¡»é€šè¿‡ Skill è®¿é—®ä»£ç ç”ŸæˆçŸ¥è¯†
<span class="hljs-bullet">2.</span> LLM ä¸èƒ½ç›´æ¥ä¿®æ”¹ç”Ÿæˆçš„ä»£ç 
<span class="hljs-bullet">3.</span> LLM å¿…é¡»ä½¿ç”¨ Skill æä¾›çš„ Action
<span class="hljs-bullet">4.</span> LLM å¿…é¡»éµå¾ª Skill çš„æ‰§è¡Œé¡ºåº

<span class="hljs-section">## è´¨é‡ä¿è¯è§„åˆ™</span>

<span class="hljs-bullet">1.</span> æ‰€æœ‰ç”Ÿæˆçš„ä»£ç å¿…é¡»ç»è¿‡å•å…ƒæµ‹è¯•
<span class="hljs-bullet">2.</span> æ‰€æœ‰ç”Ÿæˆçš„ä»£ç å¿…é¡»ç»è¿‡é›†æˆæµ‹è¯•
<span class="hljs-bullet">3.</span> æ‰€æœ‰ç”Ÿæˆçš„ä»£ç å¿…é¡»ç»è¿‡ä»£ç å®¡æŸ¥
</code></pre>
<p><strong>.trae/rules/skill_rules.md</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Skill è§„åˆ™</span>

<span class="hljs-section">## Skill å®šä¹‰è§„åˆ™</span>

<span class="hljs-bullet">1.</span> æ¯ä¸ª Skill å¿…é¡»å®šä¹‰æ¸…æ™°çš„èŒè´£è¾¹ç•Œ
<span class="hljs-bullet">2.</span> æ¯ä¸ª Skill å¿…é¡»æä¾›å®Œæ•´çš„çŸ¥è¯†å†…å®¹
<span class="hljs-bullet">3.</span> æ¯ä¸ª Skill å¿…é¡»å®šä¹‰å¯æ‰§è¡Œçš„ Action
<span class="hljs-bullet">4.</span> æ¯ä¸ª Skill å¿…é¡»æä¾›ä½¿ç”¨ç¤ºä¾‹

<span class="hljs-section">## Skill åŠ è½½è§„åˆ™</span>

<span class="hljs-bullet">1.</span> Skill å¿…é¡»æ”¯æŒæ‡’åŠ è½½
<span class="hljs-bullet">2.</span> Skill å¿…é¡»æ”¯æŒç¼“å­˜
<span class="hljs-bullet">3.</span> Skill å¿…é¡»æ”¯æŒçƒ­æ›´æ–°
<span class="hljs-bullet">4.</span> Skill å¿…é¡»æ”¯æŒç‰ˆæœ¬ç®¡ç†

<span class="hljs-section">## Skill æ‰§è¡Œè§„åˆ™</span>

<span class="hljs-bullet">1.</span> Skill æ‰§è¡Œå¿…é¡»æ”¯æŒå‚æ•°ä¼ é€’
<span class="hljs-bullet">2.</span> Skill æ‰§è¡Œå¿…é¡»æ”¯æŒä¸Šä¸‹æ–‡ç®¡ç†
<span class="hljs-bullet">3.</span> Skill æ‰§è¡Œå¿…é¡»æ”¯æŒé”™è¯¯å¤„ç†
<span class="hljs-bullet">4.</span> Skill æ‰§è¡Œå¿…é¡»æ”¯æŒç»“æœè¿”å›
</code></pre>
<h3 data-id="heading-30">4.2 Skill å®ç°å®è·µ</h3>
<h4 data-id="heading-31">4.2.1 Foundation Skill å®ç°</h4>
<p><strong>.trae/skills/foundation-skill.md</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Foundation Skill</span>

<span class="hljs-section">## æ¦‚è¿°</span>

Foundation Skill æä¾›åŸºç¡€ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›ï¼Œæ˜¯æ‰€æœ‰å…¶ä»– Skill çš„åŸºç¡€ã€‚

<span class="hljs-section">## çŸ¥è¯†å†…å®¹</span>

<span class="hljs-section">### æ ¸å¿ƒç±»</span>

<span class="hljs-section">#### NlpBaseUIComponent</span>

<span class="hljs-code">```java
public abstract class NlpBaseUIComponent extends UIComponent {
    
    private String componentType;
    private boolean initialized;
    
    public abstract void initializeFromNaturalLanguage(String naturalLanguage);
    public abstract void initializeFromConfig(Object config);
    
    public String getComponentType() {
        return componentType;
    }
    
    public boolean isInitialized() {
        return initialized;
    }
}
</span></code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>æä¾›ç»„ä»¶ç±»å‹ç®¡ç†</li>
<li>æä¾›åˆå§‹åŒ–çŠ¶æ€ç®¡ç†</li>
<li>å®šä¹‰æŠ½è±¡åˆå§‹åŒ–æ–¹æ³•</li>
</ul>
<h3 data-id="heading-32">ç”Ÿæˆå™¨</h3>
<h4 data-id="heading-33">GenJavaTask</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenJavaTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Callable</span>&lt;List&lt;JavaGenSource&gt;&gt; {
    
    <span class="hljs-keyword">protected</span> JavaGenSource javaGen;
    <span class="hljs-keyword">protected</span> CustomViewMeta viewMeta;
    <span class="hljs-keyword">protected</span> String euClassName;
    <span class="hljs-keyword">protected</span> Chrome chrome;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException;
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>æä¾›ç»Ÿä¸€çš„ç”Ÿæˆæ¥å£</li>
<li>æä¾›é€šç”¨çš„ç”Ÿæˆå·¥å…·æ–¹æ³•</li>
<li>ç®¡ç†ç”Ÿæˆä¸Šä¸‹æ–‡</li>
</ul>
<h2 data-id="heading-34">å¯æ‰§è¡Œ Action</h2>
<h3 data-id="heading-35">create-base-component</h3>
<p><strong>æè¿°</strong>ï¼šåˆ›å»ºåŸºç¡€ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>componentType</code>ï¼šç»„ä»¶ç±»å‹</li>
<li><code>className</code>ï¼šç±»å</li>
<li><code>packageName</code>ï¼šåŒ…å</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å‚æ•°</li>
<li>åˆ›å»º NlpBaseUIComponent å­ç±»</li>
<li>ç”Ÿæˆåˆå§‹åŒ–æ–¹æ³•</li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶
LLMï¼šä½¿ç”¨ Foundation Skill çš„ create-<span class="hljs-keyword">base</span>-component Action
å‚æ•°ï¼š{<span class="hljs-string">"componentType"</span>: <span class="hljs-string">"CUSTOM"</span>, <span class="hljs-string">"className"</span>: <span class="hljs-string">"MyComponent"</span>, <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"net.ooder.example"</span>}
ç»“æœï¼šç”Ÿæˆ MyComponent.java
</code></pre>
<h3 data-id="heading-36">initialize-component</h3>
<p><strong>æè¿°</strong>ï¼šåˆå§‹åŒ–ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>component</code>ï¼šç»„ä»¶å®ä¾‹</li>
<li><code>config</code>ï¼šé…ç½®å¯¹è±¡</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯é…ç½®</li>
<li>è°ƒç”¨ initializeFromConfig æ–¹æ³•</li>
<li>è®¾ç½®åˆå§‹åŒ–çŠ¶æ€</li>
<li>è¿”å›åˆå§‹åŒ–ç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json">ç”¨æˆ·ï¼šåˆå§‹åŒ–ç»„ä»¶
LLMï¼šä½¿ç”¨ Foundation Skill çš„ initialize-component Action
å‚æ•°ï¼š<span class="hljs-punctuation">{</span><span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"myComponent"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"FORM"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
ç»“æœï¼šç»„ä»¶åˆå§‹åŒ–å®Œæˆ
</code></pre>
<h3 data-id="heading-37">validate-component</h3>
<p><strong>æè¿°</strong>ï¼šéªŒè¯ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>component</code>ï¼šç»„ä»¶å®ä¾‹</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>æ£€æŸ¥ç»„ä»¶ç±»å‹</li>
<li>æ£€æŸ¥åˆå§‹åŒ–çŠ¶æ€</li>
<li>æ£€æŸ¥é…ç½®å®Œæ•´æ€§</li>
<li>è¿”å›éªŒè¯ç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json">ç”¨æˆ·ï¼šéªŒè¯ç»„ä»¶
LLMï¼šä½¿ç”¨ Foundation Skill çš„ validate-component Action
å‚æ•°ï¼š<span class="hljs-punctuation">{</span><span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"myComponent"</span><span class="hljs-punctuation">}</span>
ç»“æœï¼šéªŒè¯é€šè¿‡
</code></pre>
<h2 data-id="heading-38">ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-39">åœºæ™¯ 1ï¼šåˆ›å»ºè‡ªå®šä¹‰åŸºç¡€ç»„ä»¶</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰åŸºç¡€ç»„ä»¶
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Foundation Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ create-base-component Action
<span class="hljs-bullet">3.</span> ç”Ÿæˆç»„ä»¶ä»£ç 
<span class="hljs-bullet">4.</span> è¿”å›ç”Ÿæˆçš„ä»£ç 
</code></pre>
<h3 data-id="heading-40">åœºæ™¯ 2ï¼šåˆå§‹åŒ–ç°æœ‰ç»„ä»¶</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šåˆå§‹åŒ–ä¸€ä¸ªç°æœ‰ç»„ä»¶
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Foundation Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ initialize-component Action
<span class="hljs-bullet">3.</span> æ‰§è¡Œåˆå§‹åŒ–é€»è¾‘
<span class="hljs-bullet">4.</span> è¿”å›åˆå§‹åŒ–ç»“æœ
</code></pre>
<h2 data-id="heading-41">æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨ Foundation Skill</strong>ï¼šæ‰€æœ‰åŸºç¡€æ“ä½œéƒ½åº”è¯¥é€šè¿‡ Foundation Skill å®Œæˆ</li>
<li><strong>éµå¾ªåˆå§‹åŒ–æµç¨‹</strong>ï¼šç¡®ä¿ç»„ä»¶æ­£ç¡®åˆå§‹åŒ–</li>
<li><strong>éªŒè¯ç»„ä»¶çŠ¶æ€</strong>ï¼šåœ¨æ‰§è¡Œæ“ä½œå‰éªŒè¯ç»„ä»¶çŠ¶æ€</li>
<li><strong>å¤„ç†åˆå§‹åŒ–é”™è¯¯</strong>ï¼šæä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">
<span class="hljs-comment">#### 4.2.2 Module Skill å®ç°</span>

**.trae/skills/module-skill.md**ï¼š

```markdown
<span class="hljs-comment"># Module Skill</span>

<span class="hljs-comment">## æ¦‚è¿°</span>

Module Skill æä¾›æ¨¡å—ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›ï¼Œç®¡ç†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå’Œä¾èµ–å…³ç³»ã€‚

<span class="hljs-comment">## çŸ¥è¯†å†…å®¹</span>

<span class="hljs-comment">### æ ¸å¿ƒç±»</span>

<span class="hljs-comment">#### ModuleUIComponent</span>

```java
public class ModuleUIComponent&lt;M extends UIComponent&gt; extends UIComponent&lt;ModuleProperties, ModuleEventEnum&gt; {
    
    private String className<span class="hljs-comment">;</span>
    private String desc<span class="hljs-comment">;</span>
    private ModuleViewType moduleViewType<span class="hljs-comment">;</span>
    private Map&lt;String, Object&gt; valueMap<span class="hljs-comment">;</span>
    private UIModule UIModule<span class="hljs-comment">;</span>
    private CustomModuleMeta moduleBean<span class="hljs-comment">;</span>
    private MethodConfig methodAPIBean<span class="hljs-comment">;</span>
    private DomainInst domainInst<span class="hljs-comment">;</span>
    private ModuleProperties properties<span class="hljs-comment">;</span>
    private M currComponent<span class="hljs-comment">;</span>
    private UIComponent navUIComponent<span class="hljs-comment">;</span>
    private ModuleViewConfig viewConfig<span class="hljs-comment">;</span>
    private List&lt;String&gt; dependencies<span class="hljs-comment">;</span>
    private List&lt;String&gt; required<span class="hljs-comment">;</span>
    private Map&lt;String, ModuleFunction&gt; functions<span class="hljs-comment">;</span>
    private List&lt;ModuleFormulaInst&gt; formulas<span class="hljs-comment">;</span>
    private Map&lt;String, String&gt; customFunctions<span class="hljs-comment">;</span>
    private String customAppend<span class="hljs-comment">;</span>
    private String afterAppend<span class="hljs-comment">;</span>
    private Map&lt;String, String&gt; moduleVar<span class="hljs-comment">;</span>
    private Map&lt;String, UIComponent&gt; components<span class="hljs-comment">;</span>
    
    public void setCurrComponent(M currComponent) {
        <span class="hljs-attr">this.currComponent</span> = currComponent<span class="hljs-comment">;</span>
        if (currComponent != null) {
            <span class="hljs-attr">this.currComponentAlias</span> = currComponent.getAlias()<span class="hljs-comment">;</span>
            if (currComponent.getParent() == null) {
                currComponent.setParent(this)<span class="hljs-comment">;</span>
            }
            this.components.put(currComponentAlias, currComponent)<span class="hljs-comment">;</span>
            ComponentType <span class="hljs-attr">type</span> = ComponentType.fromType(currComponent.getKey())<span class="hljs-comment">;</span>
            <span class="hljs-attr">moduleViewType</span> = ModuleViewType.getModuleViewByCom(type)<span class="hljs-comment">;</span>
            properties.setCurrComponentAlias(currComponentAlias)<span class="hljs-comment">;</span>
        } else {
            <span class="hljs-attr">this.currComponentAlias</span> = null<span class="hljs-comment">;</span>
            properties.setCurrComponentAlias(null)<span class="hljs-comment">;</span>
        }
    }
    
    public UIComponent findComponentByAlias(String alias) {
        List&lt;UIComponent&gt; <span class="hljs-attr">UIComponentList</span> = this.findComponentsByAlias(alias)<span class="hljs-comment">;</span>
        UIComponent <span class="hljs-attr">UIComponent</span> = null<span class="hljs-comment">;</span>
        if (UIComponentList.size() &gt; 0) {
            <span class="hljs-attr">UIComponent</span> = UIComponentList.get(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
        }
        return UIComponent<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç®¡ç†æ¨¡å—ç”Ÿå‘½å‘¨æœŸ</li>
<li>ç®¡ç†ç»„ä»¶ä¾èµ–</li>
<li>æä¾›ç»„ä»¶æŸ¥æ‰¾åŠŸèƒ½</li>
<li>å¤„ç†æ¨¡å—äº‹ä»¶</li>
</ul>
<h3 data-id="heading-42">ç”Ÿæˆå™¨</h3>
<h4 data-id="heading-43">GenRepositoryViewJava</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenRepositoryViewJava</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GenJavaTask</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException {
        List&lt;JavaGenSource&gt; sources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// 1. ç”Ÿæˆ VO æ¥å£</span>
        sources.add(generateVOInterface());
        
        <span class="hljs-comment">// 2. ç”Ÿæˆ Service æ¥å£</span>
        sources.add(generateServiceInterface());
        
        <span class="hljs-comment">// 3. ç”Ÿæˆ Repository æ¥å£</span>
        sources.add(generateRepositoryInterface());
        
        <span class="hljs-comment">// 4. ç”Ÿæˆ RepositoryImpl å®ç°</span>
        sources.add(generateRepositoryImpl());
        
        <span class="hljs-keyword">return</span> sources;
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç”Ÿæˆä»“å‚¨å±‚ä»£ç </li>
<li>ç”ŸæˆæœåŠ¡å±‚ä»£ç </li>
<li>ç”Ÿæˆæ•°æ®è®¿é—®å¯¹è±¡</li>
<li>ç®¡ç†ä¾èµ–å…³ç³»</li>
</ul>
<h2 data-id="heading-44">å¯æ‰§è¡Œ Action</h2>
<h3 data-id="heading-45">create-module</h3>
<p><strong>æè¿°</strong>ï¼šåˆ›å»ºæ¨¡å—</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>moduleName</code>ï¼šæ¨¡å—åç§°</li>
<li><code>className</code>ï¼šç±»å</li>
<li><code>packageName</code>ï¼šåŒ…å</li>
<li><code>components</code>ï¼šç»„ä»¶åˆ—è¡¨</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å‚æ•°</li>
<li>åˆ›å»º ModuleUIComponent å­ç±»</li>
<li>ç”Ÿæˆä»“å‚¨å±‚ä»£ç </li>
<li>ç»‘å®šç»„ä»¶</li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªæ¨¡å—
LLMï¼šä½¿ç”¨ <span class="hljs-keyword">Module</span> Skill çš„ <span class="hljs-keyword">create</span><span class="hljs-operator">-</span><span class="hljs-keyword">module</span> Action
å‚æ•°ï¼š{"moduleName": "UserModule", "className": "UserModule", "packageName": "net.ooder.example", "components": ["grid", "form"]}
ç»“æœï¼šç”Ÿæˆ UserModule.java å’Œç›¸å…³ä»“å‚¨ä»£ç 
</code></pre>
<h3 data-id="heading-46">bind-component</h3>
<p><strong>æè¿°</strong>ï¼šç»‘å®šç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>module</code>ï¼šæ¨¡å—å®ä¾‹</li>
<li><code>component</code>ï¼šç»„ä»¶å®ä¾‹</li>
<li><code>alias</code>ï¼šç»„ä»¶åˆ«å</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯æ¨¡å—å’Œç»„ä»¶</li>
<li>è°ƒç”¨ setCurrComponent æ–¹æ³•</li>
<li>æ›´æ–°ç»„ä»¶ä¾èµ–</li>
<li>è¿”å›ç»‘å®šç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">ç”¨æˆ·ï¼šç»‘å®šç»„ä»¶
LLMï¼šä½¿ç”¨ Module Skill çš„ <span class="hljs-keyword">bind</span>-component Action
å‚æ•°ï¼š{<span class="hljs-string">"module"</span>: <span class="hljs-string">"userModule"</span>, <span class="hljs-string">"component"</span>: <span class="hljs-string">"userGrid"</span>, <span class="hljs-string">"alias"</span>: <span class="hljs-string">"grid"</span>}
ç»“æœï¼šç»„ä»¶ç»‘å®šå®Œæˆ
</code></pre>
<h3 data-id="heading-47">manage-lifecycle</h3>
<p><strong>æè¿°</strong>ï¼šç®¡ç†ç”Ÿå‘½å‘¨æœŸ</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>module</code>ï¼šæ¨¡å—å®ä¾‹</li>
<li><code>action</code>ï¼šç”Ÿå‘½å‘¨æœŸåŠ¨ä½œï¼ˆinit/destroyï¼‰</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯æ¨¡å—çŠ¶æ€</li>
<li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸåŠ¨ä½œ</li>
<li>è§¦å‘ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</li>
<li>è¿”å›æ‰§è¡Œç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">ç”¨æˆ·ï¼šåˆå§‹åŒ–æ¨¡å—
LLMï¼šä½¿ç”¨ <span class="hljs-keyword">Module</span> Skill çš„ manage<span class="hljs-operator">-</span>lifecycle Action
å‚æ•°ï¼š{"module": "userModule", "action": "init"}
ç»“æœï¼šæ¨¡å—åˆå§‹åŒ–å®Œæˆ
</code></pre>
<h2 data-id="heading-48">ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-49">åœºæ™¯ 1ï¼šåˆ›å»ºç”¨æˆ·ç®¡ç†æ¨¡å—</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·ç®¡ç†æ¨¡å—
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Module Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ create-module Action
<span class="hljs-bullet">3.</span> ç”Ÿæˆæ¨¡å—ä»£ç å’Œä»“å‚¨ä»£ç 
<span class="hljs-bullet">4.</span> è¿”å›ç”Ÿæˆçš„ä»£ç 
</code></pre>
<h3 data-id="heading-50">åœºæ™¯ 2ï¼šç»‘å®šç½‘æ ¼ç»„ä»¶åˆ°æ¨¡å—</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šç»‘å®šç½‘æ ¼ç»„ä»¶åˆ°æ¨¡å—
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Module Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ bind-component Action
<span class="hljs-bullet">3.</span> æ‰§è¡Œç»‘å®šé€»è¾‘
<span class="hljs-bullet">4.</span> è¿”å›ç»‘å®šç»“æœ
</code></pre>
<h2 data-id="heading-51">æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>ä½¿ç”¨æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå°†åŠŸèƒ½åˆ†è§£ä¸ºç‹¬ç«‹çš„æ¨¡å—</li>
<li><strong>ç®¡ç†ç»„ä»¶ä¾èµ–</strong>ï¼šæ˜ç¡®ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li><strong>å®ç°ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šæä¾›å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæ”¯æŒ</li>
<li><strong>ä½¿ç”¨ä»“å‚¨æ¨¡å¼</strong>ï¼šåˆ†ç¦»æ•°æ®è®¿é—®é€»è¾‘</li>
</ol>
<pre><code class="hljs language-scala" lang="scala">
#### <span class="hljs-number">4.2</span><span class="hljs-number">.3</span> <span class="hljs-type">Component</span> <span class="hljs-type">Skill</span> å®ç°

**.trae/skills/component-skill.md**ï¼š

```markdown
# <span class="hljs-type">Component</span> <span class="hljs-type">Skill</span>

## æ¦‚è¿°

<span class="hljs-type">Component</span> <span class="hljs-type">Skill</span> æä¾›å…·ä½“ç»„ä»¶çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›ï¼ŒåŒ…æ‹¬åˆ†ç»„ç»„ä»¶ã€ç½‘æ ¼ç»„ä»¶ã€æ ‘å½¢ç»„ä»¶ç­‰ã€‚

## çŸ¥è¯†å†…å®¹

### æ ¸å¿ƒç±»

#### <span class="hljs-type">NlpGroupUIComponent</span>

```java
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NlpGroupUIComponent&lt;M</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomFieldGroupUIComponent&gt;</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomModuleUIComponent&lt;M&gt;</span> </span>{
    
    void init(<span class="hljs-type">MethodConfig</span> methodConfig) <span class="hljs-keyword">throws</span> <span class="hljs-type">JDSException</span> {
        <span class="hljs-type">CustomGroupFormViewMeta</span> viewBean = (<span class="hljs-type">CustomGroupFormViewMeta</span>) methodConfig.getView();
        <span class="hljs-type">CustomGroupDataMeta</span> dataBean = (<span class="hljs-type">CustomGroupDataMeta</span>) methodConfig.getDataBean();
        <span class="hljs-keyword">if</span> (dataBean != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">this</span>.dataUrl = dataBean.getDataUrl();
            <span class="hljs-keyword">this</span>.saveUrl = dataBean.getSaveUrl();
            <span class="hljs-keyword">this</span>.searchUrl = dataBean.getSearchUrl();
            <span class="hljs-keyword">this</span>.reSetUrl = dataBean.getReSetUrl();
        }
        <span class="hljs-type">CustomFieldGroupUIComponent</span> currComponent = <span class="hljs-keyword">new</span> <span class="hljs-type">CustomFieldGroupUIComponent</span>(<span class="hljs-type">UIModule</span>, methodConfig, valueMap);
        <span class="hljs-keyword">this</span>.addChildLayoutNav(currComponent);
        <span class="hljs-keyword">this</span>.setCurrComponent((<span class="hljs-type">M</span>) currComponent);
        
        <span class="hljs-keyword">this</span>.fillAction(viewBean);
        <span class="hljs-keyword">this</span>.fillToolBar(viewBean.getToolBar(), currComponent);
        <span class="hljs-keyword">this</span>.fillContextAction(viewBean.getContextMenuBean(), currComponent);
        
        <span class="hljs-keyword">if</span> (viewBean.getOnReady() != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">ModuleOnReadyEventEnum</span> eventEnum : viewBean.getOnReady()) {
                <span class="hljs-keyword">this</span>.addModuleEvent(eventEnum);
            }
        }
        
        <span class="hljs-keyword">if</span> (viewBean.getOnDestroy() != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">CustomOnDestroyEventEnum</span> eventEnum : viewBean.getOnDestroy()) {
                <span class="hljs-keyword">this</span>.addModuleEvent(eventEnum);
            }
        }
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç®¡ç†åˆ†ç»„å­—æ®µ</li>
<li>å¤„ç†åˆ†ç»„äº‹ä»¶</li>
<li>ç”Ÿæˆ API è°ƒç”¨</li>
<li>ç®¡ç†å·¥å…·æ å’Œä¸Šä¸‹æ–‡èœå•</li>
</ul>
<h4 data-id="heading-52">NlpGridUIComponent</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NlpGridUIComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">CustomGridUIComponent</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">NlpGridUIComponent</span><span class="hljs-params">(MethodConfig methodConfig)</span> {
        <span class="hljs-built_in">super</span>();
        <span class="hljs-type">CustomGridViewMeta</span> <span class="hljs-variable">viewBean</span> <span class="hljs-operator">=</span> (CustomGridViewMeta) methodConfig.getView();
        init(viewBean);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">NlpGridUIComponent</span><span class="hljs-params">(CustomGridViewMeta viewBean)</span> {
        <span class="hljs-built_in">super</span>();
        init(viewBean);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(CustomGridViewMeta viewBean)</span> {
        <span class="hljs-built_in">this</span>.setProperties(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassGridProperties</span>(viewBean));
        <span class="hljs-built_in">this</span>.setAlias(viewBean.getName());
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç®¡ç†ç½‘æ ¼æ•°æ®</li>
<li>å¤„ç†ç½‘æ ¼äº‹ä»¶</li>
<li>æä¾›ç½‘æ ¼äº¤äº’</li>
<li>æ”¯æŒåˆ†é¡µå’Œæ’åº</li>
</ul>
<h3 data-id="heading-53">ç”Ÿæˆå™¨</h3>
<h4 data-id="heading-54">GenCustomViewJava</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenCustomViewJava</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GenJavaTask</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;JavaGenSource&gt; <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JDSException {
        List&lt;JavaGenSource&gt; sources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// 1. ç”Ÿæˆè§†å›¾ç±»</span>
        sources.add(generateViewClass());
        
        <span class="hljs-comment">// 2. ç”Ÿæˆå­—æ®µé…ç½®</span>
        sources.add(generateFieldConfigs());
        
        <span class="hljs-comment">// 3. ç”Ÿæˆäº‹ä»¶å¤„ç†å™¨</span>
        sources.add(generateEventHandlers());
        
        <span class="hljs-keyword">return</span> sources;
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç”Ÿæˆè§†å›¾å±‚ä»£ç </li>
<li>ç”Ÿæˆå­—æ®µé…ç½®</li>
<li>ç”Ÿæˆäº‹ä»¶å¤„ç†å™¨</li>
<li>ç®¡ç†è§†å›¾ä¾èµ–</li>
</ul>
<h2 data-id="heading-55">å¯æ‰§è¡Œ Action</h2>
<h3 data-id="heading-56">create-group</h3>
<p><strong>æè¿°</strong>ï¼šåˆ›å»ºåˆ†ç»„ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>groupName</code>ï¼šåˆ†ç»„åç§°</li>
<li><code>fields</code>ï¼šå­—æ®µåˆ—è¡¨</li>
<li><code>events</code>ï¼šäº‹ä»¶åˆ—è¡¨</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å‚æ•°</li>
<li>åˆ›å»º NlpGroupUIComponent å®ä¾‹</li>
<li>ç”Ÿæˆè§†å›¾ä»£ç </li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªåˆ†ç»„ç»„ä»¶
LLMï¼šä½¿ç”¨ Component Skill çš„ <span class="hljs-keyword">create</span><span class="hljs-operator">-</span><span class="hljs-keyword">group</span> Action
å‚æ•°ï¼š{"groupName": "UserGroup", "fields": [...], "events": [...]}
ç»“æœï¼šç”Ÿæˆ UserGroup.java å’Œç›¸å…³ä»£ç 
</code></pre>
<h3 data-id="heading-57">create-grid</h3>
<p><strong>æè¿°</strong>ï¼šåˆ›å»ºç½‘æ ¼ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>gridName</code>ï¼šç½‘æ ¼åç§°</li>
<li><code>columns</code>ï¼šåˆ—é…ç½®</li>
<li><code>dataUrl</code>ï¼šæ•°æ® URL</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å‚æ•°</li>
<li>åˆ›å»º NlpGridUIComponent å®ä¾‹</li>
<li>ç”Ÿæˆè§†å›¾ä»£ç </li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªç½‘æ ¼ç»„ä»¶
LLMï¼šä½¿ç”¨ Component Skill çš„ create-<span class="hljs-attribute">grid</span> Action
å‚æ•°ï¼š{"gridName": <span class="hljs-string">"UserGrid"</span>, <span class="hljs-string">"columns"</span>: [...], <span class="hljs-string">"dataUrl"</span>: <span class="hljs-string">"/api/users"</span>}
ç»“æœï¼šç”Ÿæˆ UserGrid<span class="hljs-selector-class">.java</span> å’Œç›¸å…³ä»£ç 
</code></pre>
<h3 data-id="heading-58">create-tree</h3>
<p><strong>æè¿°</strong>ï¼šåˆ›å»ºæ ‘å½¢ç»„ä»¶</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>treeName</code>ï¼šæ ‘å½¢åç§°</li>
<li><code>treeField</code>ï¼šæ ‘å­—æ®µ</li>
<li><code>parentField</code>ï¼šçˆ¶å­—æ®µ</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å‚æ•°</li>
<li>åˆ›å»º TreeGridUIComponent å®ä¾‹</li>
<li>ç”Ÿæˆè§†å›¾ä»£ç </li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªæ ‘å½¢ç»„ä»¶
LLMï¼šä½¿ç”¨ Component Skill çš„ <span class="hljs-built_in">create</span>-tree Action
å‚æ•°ï¼š{<span class="hljs-string">"treeName"</span>: <span class="hljs-string">"DepartmentTree"</span>, <span class="hljs-string">"treeField"</span>: <span class="hljs-string">"id"</span>, <span class="hljs-string">"parentField"</span>: <span class="hljs-string">"parentId"</span>}
ç»“æœï¼šç”Ÿæˆ DepartmentTree.java å’Œç›¸å…³ä»£ç 
</code></pre>
<h2 data-id="heading-59">ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-60">åœºæ™¯ 1ï¼šåˆ›å»ºç”¨æˆ·åˆ†ç»„è¡¨å•</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·åˆ†ç»„è¡¨å•
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Component Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ create-group Action
<span class="hljs-bullet">3.</span> ç”Ÿæˆåˆ†ç»„ç»„ä»¶ä»£ç 
<span class="hljs-bullet">4.</span> è¿”å›ç”Ÿæˆçš„ä»£ç 
</code></pre>
<h3 data-id="heading-61">åœºæ™¯ 2ï¼šåˆ›å»ºç”¨æˆ·æ•°æ®ç½‘æ ¼</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·æ•°æ®ç½‘æ ¼
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Component Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ create-grid Action
<span class="hljs-bullet">3.</span> ç”Ÿæˆç½‘æ ¼ç»„ä»¶ä»£ç 
<span class="hljs-bullet">4.</span> è¿”å›ç”Ÿæˆçš„ä»£ç 
</code></pre>
<h2 data-id="heading-62">æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>é€‰æ‹©åˆé€‚çš„ç»„ä»¶ç±»å‹</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆ†ç»„ã€ç½‘æ ¼æˆ–æ ‘å½¢ç»„ä»¶</li>
<li><strong>é…ç½®å­—æ®µå’Œåˆ—</strong>ï¼šåˆç†é…ç½®å­—æ®µå’Œåˆ—å±æ€§</li>
<li><strong>å¤„ç†äº‹ä»¶å’Œäº¤äº’</strong>ï¼šå®ç°å¿…è¦çš„äº‹ä»¶å¤„ç†å’Œäº¤äº’é€»è¾‘</li>
<li><strong>ä¼˜åŒ–æ€§èƒ½</strong>ï¼šä½¿ç”¨åˆ†é¡µã€æ‡’åŠ è½½ç­‰ä¼˜åŒ–æŠ€æœ¯</li>
</ol>
<pre><code class="hljs language-scala" lang="scala">
#### <span class="hljs-number">4.2</span><span class="hljs-number">.4</span> <span class="hljs-type">Metadata</span> <span class="hljs-type">Skill</span> å®ç°

**.trae/skills/metadata-skill.md**ï¼š

```markdown
# <span class="hljs-type">Metadata</span> <span class="hljs-type">Skill</span>

## æ¦‚è¿°

<span class="hljs-type">Metadata</span> <span class="hljs-type">Skill</span> æä¾›å…ƒæ•°æ®çš„çŸ¥è¯†å’Œç”Ÿæˆèƒ½åŠ›ï¼ŒåŒ…æ‹¬å…ƒæ•°æ®è§£æã€éªŒè¯å’Œä»£ç ç”Ÿæˆã€‚

## çŸ¥è¯†å†…å®¹

### æ ¸å¿ƒç±»

#### <span class="hljs-type">CustomViewMeta</span>

```java
public <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewMeta&lt;F</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FieldFormConfig</span>, <span class="hljs-title">I</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UIItem</span>, <span class="hljs-title">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UIComponent&gt;</span> </span>{
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> caption;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> desc;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> methodName;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> domainId;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> sourceClassName;
    <span class="hljs-keyword">private</span> <span class="hljs-type">ModuleViewType</span> moduleViewType;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">F</span>&gt; allFields;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">F</span>&gt; fields;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">Event</span>&gt; events;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">MenuItem</span>&gt; menus;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">ToolBar</span>&gt; toolBars;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">BottomBar</span>&gt; bottomBars;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">ContextMenu</span>&gt; contextMenus;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">ModuleFormulaInst</span>&gt; formulas;
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">CustomBean</span>&gt; annotationBeans;
    
    public <span class="hljs-keyword">abstract</span> <span class="hljs-type">F</span> createFieldConfig();
    public <span class="hljs-keyword">abstract</span> <span class="hljs-type">I</span> createUIItem();
    public <span class="hljs-keyword">abstract</span> <span class="hljs-type">C</span> createUIComponent();
    
    public <span class="hljs-type">List</span>&lt;<span class="hljs-type">CustomBean</span>&gt; getAnnotationBeans() {
        <span class="hljs-type">List</span>&lt;<span class="hljs-type">CustomBean</span>&gt; annotationBeans = <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getModuleBean() != <span class="hljs-literal">null</span>) {
            annotationBeans.addAll(<span class="hljs-keyword">this</span>.getModuleBean().getAnnotationBeans());
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getDataBean() != <span class="hljs-literal">null</span>) {
            annotationBeans.add(<span class="hljs-keyword">this</span>.getDataBean());
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getFieldAggConfig() != <span class="hljs-literal">null</span>) {
            annotationBeans.addAll(<span class="hljs-keyword">this</span>.getFieldAggConfig().getAnnotationBeans());
        }
        <span class="hljs-keyword">return</span> annotationBeans;
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>å­˜å‚¨è§†å›¾é…ç½®ä¿¡æ¯</li>
<li>ç®¡ç†å­—æ®µå’Œäº‹ä»¶</li>
<li>æ”¯æŒè§†å›¾çš„åŠ¨æ€æ›´æ–°</li>
<li>æä¾›æ³¨è§£ä¿¡æ¯</li>
</ul>
<h4 data-id="heading-63">CustomDataMeta</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomDataMeta</span> {
    
    <span class="hljs-keyword">private</span> String dataUrl;
    <span class="hljs-keyword">private</span> String editorPath;
    <span class="hljs-keyword">private</span> String addPath;
    <span class="hljs-keyword">private</span> String delPath;
    <span class="hljs-keyword">private</span> String sortPath;
    <span class="hljs-keyword">private</span> String saveRowPath;
    <span class="hljs-keyword">private</span> String saveAllRowPath;
    <span class="hljs-keyword">private</span> String searchUrl;
    <span class="hljs-keyword">private</span> String reloadUrl;
    <span class="hljs-keyword">private</span> String selectUrl;
    <span class="hljs-keyword">private</span> String unSelectUrl;
    <span class="hljs-keyword">private</span> String selectAllUrl;
    <span class="hljs-keyword">private</span> String unSelectAllUrl;
    <span class="hljs-keyword">private</span> String exportUrl;
    <span class="hljs-keyword">private</span> String importUrl;
    <span class="hljs-keyword">private</span> String customUrl;
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>å­˜å‚¨æ•°æ®é…ç½®ä¿¡æ¯</li>
<li>ç®¡ç†æ•°æ® URL å’Œè·¯å¾„</li>
<li>æ”¯æŒæ•°æ®çš„åŠ¨æ€é…ç½®</li>
<li>æä¾›æ•°æ®è®¿é—®æ¥å£</li>
</ul>
<h4 data-id="heading-64">MethodConfig</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodConfig</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">CustomViewMeta</span>, K <span class="hljs-keyword">extends</span> <span class="hljs-title class_">CustomDataMeta</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;MethodConfig&gt; {
    
    <span class="hljs-keyword">private</span> String className;
    <span class="hljs-keyword">private</span> String desc;
    <span class="hljs-keyword">private</span> ModuleViewType moduleViewType;
    <span class="hljs-keyword">private</span> UIModule UIModule;
    <span class="hljs-keyword">private</span> CustomModuleMeta moduleBean;
    <span class="hljs-keyword">private</span> MethodConfig methodAPIBean;
    <span class="hljs-keyword">private</span> DomainInst domainInst;
    <span class="hljs-keyword">private</span> T view;
    <span class="hljs-keyword">private</span> K dataBean;
    <span class="hljs-keyword">private</span> BridgeClass bridgeClass;
    <span class="hljs-keyword">private</span> BridgeClass parentClass;
    <span class="hljs-keyword">private</span> String url;
    <span class="hljs-keyword">private</span> String caption;
    <span class="hljs-keyword">private</span> String methodName;
    <span class="hljs-keyword">private</span> String expression;
    <span class="hljs-keyword">private</span> String filter;
    <span class="hljs-keyword">private</span> String itemsExpression;
    <span class="hljs-keyword">private</span> String metaInfo;
    <span class="hljs-keyword">private</span> String fieldInfo;
    <span class="hljs-keyword">private</span> RequestMappingBean requestMapping;
    <span class="hljs-keyword">private</span> RequestBodyBean requestBody;
    <span class="hljs-keyword">private</span> Set&lt;RequestParamBean&gt; paramSet;
    <span class="hljs-keyword">private</span> RouteMenuMeta routeMenuBean;
    <span class="hljs-keyword">private</span> FieldAggConfig fieldAggConfig;
    <span class="hljs-keyword">private</span> CustomFieldMeta FieldMeta;
    <span class="hljs-keyword">private</span> RefBean refBean;
    <span class="hljs-keyword">private</span> CustomAPICallMeta api;
    <span class="hljs-keyword">private</span> List&lt;CustomBean&gt; annotationBeans;
    
    <span class="hljs-keyword">public</span> List&lt;CustomBean&gt; <span class="hljs-title function_">getAnnotationBeans</span><span class="hljs-params">()</span> {
        List&lt;CustomBean&gt; annotationBeans = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getApi() != <span class="hljs-literal">null</span>) {
            annotationBeans.addAll(<span class="hljs-built_in">this</span>.getApi().getAnnotationBeans());
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.isModule()) {
            annotationBeans.addAll(<span class="hljs-built_in">this</span>.getModuleBean().getAnnotationBeans());
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getDataBean() != <span class="hljs-literal">null</span>) {
                annotationBeans.add(<span class="hljs-built_in">this</span>.getDataBean());
            }
        }
        <span class="hljs-keyword">if</span> (routeMenuBean != <span class="hljs-literal">null</span>) {
            annotationBeans.add(routeMenuBean);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getFieldAggConfig() != <span class="hljs-literal">null</span>) {
            List&lt;CustomBean&gt; FieldMetas = <span class="hljs-built_in">this</span>.getFieldAggConfig().getAnnotationBeans();
            <span class="hljs-keyword">for</span> (CustomBean customBean : FieldMetas) {
                <span class="hljs-keyword">if</span> (!annotationBeans.contains(customBean)) {
                    annotationBeans.add(customBean);
                }
            }
        }
        <span class="hljs-keyword">if</span> (requestMapping != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">this</span>.getPublicMethod()) {
            annotationBeans.add(requestMapping);
        }
        <span class="hljs-keyword">if</span> (getResponseBody() || api != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (!annotationBeans.contains(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleCustomBean</span>(ResponseBody.class))) {
                annotationBeans.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleCustomBean</span>(ResponseBody.class));
            }
        }
        <span class="hljs-keyword">return</span> annotationBeans;
    }
    
    <span class="hljs-meta">@JSONField(serialize = false)</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMetaInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getMethod() != <span class="hljs-literal">null</span>) {
            List&lt;RequestParamBean&gt; params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>(<span class="hljs-built_in">this</span>.getParamSet());
            
            <span class="hljs-keyword">if</span> (isModule() &amp;&amp; parentEuPackage != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">String</span> <span class="hljs-variable">euClassName</span> <span class="hljs-operator">=</span> parentEuPackage + <span class="hljs-string">"."</span> + getJavaSimpleName();
                <span class="hljs-built_in">this</span>.metaInfo = MethodUtil.toMethodStr(<span class="hljs-built_in">this</span>.getMethod(), 
                    getViewType(), euClassName, requestBody, params).toString();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">this</span>.metaInfo = MethodUtil.toMethodStr(<span class="hljs-built_in">this</span>.getMethod(), 
                    getViewType(), getJavaSimpleName(), requestBody, params).toString();
            }
        }
        <span class="hljs-keyword">return</span> metaInfo;
    }
}
</code></pre>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>ç®¡ç†æ–¹æ³•çš„å…ƒæ•°æ®</li>
<li>è¿æ¥ä¸šåŠ¡æ–¹æ³•å’Œ UI ç»„ä»¶</li>
<li>æä¾›æ³¨è§£ä¿¡æ¯</li>
<li>ç”Ÿæˆæ–¹æ³•ç­¾å</li>
</ul>
<h2 data-id="heading-65">å¯æ‰§è¡Œ Action</h2>
<h3 data-id="heading-66">parse-metadata</h3>
<p><strong>æè¿°</strong>ï¼šè§£æå…ƒæ•°æ®</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>source</code>ï¼šå…ƒæ•°æ®æºï¼ˆJSON/æ³¨è§£ï¼‰</li>
<li><code>type</code>ï¼šå…ƒæ•°æ®ç±»å‹</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯æºæ ¼å¼</li>
<li>è§£æå…ƒæ•°æ®</li>
<li>éªŒè¯å…ƒæ•°æ®å®Œæ•´æ€§</li>
<li>è¿”å›è§£æç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">ç”¨æˆ·ï¼šè§£æå…ƒæ•°æ®
<span class="hljs-type">LLMï¼šä½¿ç”¨</span> <span class="hljs-type">Metadata</span> <span class="hljs-type">Skill</span> çš„ parse<span class="hljs-operator">-</span>metadata <span class="hljs-type">Action</span>
å‚æ•°ï¼š{<span class="hljs-string">"source"</span>: <span class="hljs-string">"{<span class="hljs-subst">\"</span>viewClassName<span class="hljs-subst">\"</span>: <span class="hljs-subst">\"</span>UserView<span class="hljs-subst">\"</span>, ...}"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"json"</span>}
ç»“æœï¼šè¿”å› <span class="hljs-type">MethodConfig</span> å¯¹è±¡
</code></pre>
<h3 data-id="heading-67">validate-metadata</h3>
<p><strong>æè¿°</strong>ï¼šéªŒè¯å…ƒæ•°æ®</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>metadata</code>ï¼šå…ƒæ•°æ®å¯¹è±¡</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>éªŒè¯å¿…å¡«å­—æ®µ</li>
<li>éªŒè¯å­—æ®µç±»å‹</li>
<li>éªŒè¯å¼•ç”¨å…³ç³»</li>
<li>è¿”å›éªŒè¯ç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json">ç”¨æˆ·ï¼šéªŒè¯å…ƒæ•°æ®
LLMï¼šä½¿ç”¨ Metadata Skill çš„ validate-metadata Action
å‚æ•°ï¼š<span class="hljs-punctuation">{</span><span class="hljs-attr">"metadata"</span><span class="hljs-punctuation">:</span> methodConfig<span class="hljs-punctuation">}</span>
ç»“æœï¼šéªŒè¯é€šè¿‡
</code></pre>
<h3 data-id="heading-68">generate-code</h3>
<p><strong>æè¿°</strong>ï¼šç”Ÿæˆä»£ç </p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>metadata</code>ï¼šå…ƒæ•°æ®å¯¹è±¡</li>
<li><code>type</code>ï¼šä»£ç ç±»å‹</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>é€‰æ‹©ç”Ÿæˆå™¨</li>
<li>æ‰§è¡Œä»£ç ç”Ÿæˆ</li>
<li>ç¼–è¯‘ç”Ÿæˆçš„ä»£ç </li>
<li>è¿”å›ç”Ÿæˆçš„ä»£ç </li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">ç”¨æˆ·ï¼šç”Ÿæˆä»£ç 
LLMï¼šä½¿ç”¨ Metadata Skill çš„ generate-<span class="hljs-selector-tag">code</span> Action
å‚æ•°ï¼š{"metadata": methodConfig, <span class="hljs-string">"type"</span>: <span class="hljs-string">"view"</span>}
ç»“æœï¼šç”Ÿæˆè§†å›¾ä»£ç å’Œä»“å‚¨ä»£ç 
</code></pre>
<h2 data-id="heading-69">ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-70">åœºæ™¯ 1ï¼šä» JSON è§£æå…ƒæ•°æ®</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šä» JSON è§£æå…ƒæ•°æ®
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Metadata Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ parse-metadata Action
<span class="hljs-bullet">3.</span> è§£æ JSON é…ç½®
<span class="hljs-bullet">4.</span> è¿”å› MethodConfig å¯¹è±¡
</code></pre>
<h3 data-id="heading-71">åœºæ™¯ 2ï¼šç”Ÿæˆç»„ä»¶ä»£ç </h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·éœ€æ±‚ï¼šç”Ÿæˆç»„ä»¶ä»£ç 
LLM å¤„ç†ï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ Metadata Skill
<span class="hljs-bullet">2.</span> è°ƒç”¨ generate-code Action
<span class="hljs-bullet">3.</span> ç”Ÿæˆè§†å›¾ä»£ç å’Œä»“å‚¨ä»£ç 
<span class="hljs-bullet">4.</span> è¿”å›ç”Ÿæˆçš„ä»£ç 
</code></pre>
<h2 data-id="heading-72">æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>ä½¿ç”¨å…ƒæ•°æ®é©±åŠ¨</strong>ï¼šé€šè¿‡å…ƒæ•°æ®é…ç½®ç”Ÿæˆä»£ç </li>
<li><strong>éªŒè¯å…ƒæ•°æ®å®Œæ•´æ€§</strong>ï¼šç¡®ä¿å…ƒæ•°æ®é…ç½®æ­£ç¡®</li>
<li><strong>é€‰æ‹©åˆé€‚çš„ä»£ç ç±»å‹</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ç”Ÿæˆçš„ä»£ç ç±»å‹</li>
<li><strong>ä¼˜åŒ–ç”Ÿæˆæ€§èƒ½</strong>ï¼šä½¿ç”¨ç¼“å­˜å’Œå¹¶è¡Œç”Ÿæˆ</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino">
### <span class="hljs-number">4.3</span> Skill é›†æˆå®ç°

#### <span class="hljs-number">4.3</span><span class="hljs-number">.1</span> Skill Loader å®ç°

```java
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SkillLoader</span> {
    
    <span class="hljs-keyword">private</span> Map&lt;<span class="hljs-type">String</span>, Skill&gt; skillCache = <span class="hljs-keyword">new</span> ConcurrentHashMap&lt;&gt;();
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> Skill <span class="hljs-title">loadSkill</span><span class="hljs-params">(<span class="hljs-type">String</span> skillName)</span> throws JDSException </span>{
        <span class="hljs-comment">// 1. æ£€æŸ¥ç¼“å­˜</span>
        Skill cachedSkill = skillCache.<span class="hljs-built_in">get</span>(skillName);
        <span class="hljs-keyword">if</span> (cachedSkill != null) {
            <span class="hljs-keyword">return</span> cachedSkill;
        }
        
        <span class="hljs-comment">// 2. åŠ è½½ Skill å®šä¹‰</span>
        <span class="hljs-type">String</span> skillPath = <span class="hljs-string">".trae/skills/"</span> + skillName + <span class="hljs-string">"-skill.md"</span>;
        <span class="hljs-type">String</span> skillContent = <span class="hljs-built_in">readFile</span>(skillPath);
        
        <span class="hljs-comment">// 3. è§£æ Skill å®šä¹‰</span>
        Skill skill = <span class="hljs-built_in">parseSkillDefinition</span>(skillContent);
        
        <span class="hljs-comment">// 4. ç¼“å­˜ Skill</span>
        skillCache.<span class="hljs-built_in">put</span>(skillName, skill);
        
        <span class="hljs-keyword">return</span> skill;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">invalidateSkill</span><span class="hljs-params">(<span class="hljs-type">String</span> skillName)</span> </span>{
        skillCache.<span class="hljs-built_in">remove</span>(skillName);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;<span class="hljs-type">String</span>&gt; <span class="hljs-title">getAvailableSkills</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">File</span> skillsDir = <span class="hljs-keyword">new</span> <span class="hljs-built_in">File</span>(<span class="hljs-string">".trae/skills"</span>);
        <span class="hljs-built_in">File</span>[] skillFiles = skillsDir.<span class="hljs-built_in">listFiles</span>((dir, name) -&gt; 
            name.<span class="hljs-built_in">endsWith</span>(<span class="hljs-string">"-skill.md"</span>));
        
        <span class="hljs-keyword">return</span> Arrays.<span class="hljs-built_in">stream</span>(skillFiles)
                .<span class="hljs-built_in">map</span>(<span class="hljs-built_in">File</span>::getName)
                .<span class="hljs-built_in">map</span>(name -&gt; name.<span class="hljs-built_in">replace</span>(<span class="hljs-string">"-skill.md"</span>, <span class="hljs-string">""</span>))
                .<span class="hljs-built_in">collect</span>(Collectors.<span class="hljs-built_in">toList</span>());
    }
}
</code></pre>
<h4 data-id="heading-73">4.3.2 Skill Context å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SkillContext</span> {
    
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> List&lt;String&gt; loadedClasses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> List&lt;String&gt; loadedGenerators = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> List&lt;String&gt; loadedTemplates = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addClass</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> clazz.getName();
        <span class="hljs-keyword">if</span> (!loadedClasses.contains(className)) {
            loadedClasses.add(className);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addGenerator</span><span class="hljs-params">(Class&lt;?&gt; generator)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">generatorName</span> <span class="hljs-operator">=</span> generator.getName();
        <span class="hljs-keyword">if</span> (!loadedGenerators.contains(generatorName)) {
            loadedGenerators.add(generatorName);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTemplate</span><span class="hljs-params">(String templateName)</span> {
        <span class="hljs-keyword">if</span> (!loadedTemplates.contains(templateName)) {
            loadedTemplates.add(templateName);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">applyParams</span><span class="hljs-params">(Map&lt;String, Object&gt; params)</span> {
        <span class="hljs-keyword">if</span> (params != <span class="hljs-literal">null</span>) {
            data.putAll(params);
        }
    }
    
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getParam</span><span class="hljs-params">(String key)</span> {
        <span class="hljs-keyword">return</span> data.get(key);
    }
    
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getLoadedClasses</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(loadedClasses);
    }
    
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getLoadedGenerators</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(loadedGenerators);
    }
    
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getLoadedTemplates</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(loadedTemplates);
    }
}
</code></pre>
<h4 data-id="heading-74">4.3.3 LLM é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LLMIntegration</span> {
    
    <span class="hljs-keyword">private</span> SkillOrchestrator orchestrator;
    <span class="hljs-keyword">private</span> SkillLoader skillLoader;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LLMIntegration</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.skillLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillLoader</span>();
        <span class="hljs-built_in">this</span>.orchestrator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkillOrchestrator</span>();
        
        <span class="hljs-comment">// æ³¨å†Œæ‰€æœ‰ Skill</span>
        registerSkills();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerSkills</span><span class="hljs-params">()</span> {
        orchestrator.registerSkill(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FoundationSkill</span>());
        orchestrator.registerSkill(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ModuleSkill</span>());
        orchestrator.registerSkill(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentSkill</span>());
        orchestrator.registerSkill(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MetadataSkill</span>());
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">processUserRequest</span><span class="hljs-params">(String userRequest)</span> <span class="hljs-keyword">throws</span> JDSException {
        <span class="hljs-comment">// 1. åˆ†æç”¨æˆ·è¯·æ±‚</span>
        <span class="hljs-type">RequestAnalysis</span> <span class="hljs-variable">analysis</span> <span class="hljs-operator">=</span> analyzeRequest(userRequest);
        
        <span class="hljs-comment">// 2. é€‰æ‹©åˆé€‚çš„ Skill</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">skillName</span> <span class="hljs-operator">=</span> selectSkill(analysis);
        
        <span class="hljs-comment">// 3. å‡†å¤‡å‚æ•°</span>
        Map&lt;String, Object&gt; params = prepareParams(analysis);
        
        <span class="hljs-comment">// 4. æ‰§è¡Œ Skill</span>
        <span class="hljs-type">SkillResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> orchestrator.execute(skillName, params);
        
        <span class="hljs-comment">// 5. è¿”å›ç»“æœ</span>
        <span class="hljs-keyword">return</span> formatResult(result);
    }
    
    <span class="hljs-keyword">private</span> RequestAnalysis <span class="hljs-title function_">analyzeRequest</span><span class="hljs-params">(String userRequest)</span> {
        <span class="hljs-type">RequestAnalysis</span> <span class="hljs-variable">analysis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestAnalysis</span>();
        
        <span class="hljs-comment">// åˆ†æè¯·æ±‚ç±»å‹</span>
        <span class="hljs-keyword">if</span> (userRequest.contains(<span class="hljs-string">"åˆ›å»º"</span>) &amp;&amp; userRequest.contains(<span class="hljs-string">"åŸºç¡€ç»„ä»¶"</span>)) {
            analysis.setSkillName(<span class="hljs-string">"foundation"</span>);
            analysis.setActionName(<span class="hljs-string">"create-base-component"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userRequest.contains(<span class="hljs-string">"åˆ›å»º"</span>) &amp;&amp; userRequest.contains(<span class="hljs-string">"æ¨¡å—"</span>)) {
            analysis.setSkillName(<span class="hljs-string">"module"</span>);
            analysis.setActionName(<span class="hljs-string">"create-module"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userRequest.contains(<span class="hljs-string">"åˆ›å»º"</span>) &amp;&amp; userRequest.contains(<span class="hljs-string">"ç½‘æ ¼"</span>)) {
            analysis.setSkillName(<span class="hljs-string">"component"</span>);
            analysis.setActionName(<span class="hljs-string">"create-grid"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userRequest.contains(<span class="hljs-string">"è§£æ"</span>) &amp;&amp; userRequest.contains(<span class="hljs-string">"å…ƒæ•°æ®"</span>)) {
            analysis.setSkillName(<span class="hljs-string">"metadata"</span>);
            analysis.setActionName(<span class="hljs-string">"parse-metadata"</span>);
        }
        
        <span class="hljs-keyword">return</span> analysis;
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">selectSkill</span><span class="hljs-params">(RequestAnalysis analysis)</span> {
        <span class="hljs-keyword">return</span> analysis.getSkillName();
    }
    
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">prepareParams</span><span class="hljs-params">(RequestAnalysis analysis)</span> {
        Map&lt;String, Object&gt; params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-comment">// ä»ç”¨æˆ·è¯·æ±‚ä¸­æå–å‚æ•°</span>
        <span class="hljs-comment">// ...</span>
        
        <span class="hljs-keyword">return</span> params;
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatResult</span><span class="hljs-params">(SkillResult result)</span> {
        <span class="hljs-comment">// æ ¼å¼åŒ–ç»“æœ</span>
        <span class="hljs-keyword">return</span> result.toString();
    }
}
</code></pre>
<h3 data-id="heading-75">4.4 å®æˆ˜æ¡ˆä¾‹</h3>
<h4 data-id="heading-76">4.4.1 æ¡ˆä¾‹ 1ï¼šåˆ›å»ºç”¨æˆ·ç®¡ç†æ¨¡å—</h4>
<p><strong>ç”¨æˆ·è¯·æ±‚</strong>ï¼š</p>
<pre><code class="hljs">åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ŒåŒ…å«ç”¨æˆ·åˆ—è¡¨ç½‘æ ¼å’Œç”¨æˆ·ç¼–è¾‘è¡¨å•
</code></pre>
<p><strong>LLM å¤„ç†æµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ†æè¯·æ±‚</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«ä¸ºåˆ›å»ºæ¨¡å—è¯·æ±‚</li>
<li>é€‰æ‹© Module Skill</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œ Skill</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ create-module Action</li>
<li>ç”Ÿæˆæ¨¡å—ä»£ç </li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆç»„ä»¶</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ Component Skill çš„ create-grid Action</li>
<li>ç”Ÿæˆç”¨æˆ·ç½‘æ ¼ä»£ç </li>
<li>è°ƒç”¨ Component Skill çš„ create-group Action</li>
<li>ç”Ÿæˆåˆ†ç»„è¡¨å•ä»£ç </li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆä»“å‚¨</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ Metadata Skill çš„ generate-code Action</li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
</ul>
</li>
<li>
<p><strong>è¿”å›ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">å·²æˆåŠŸåˆ›å»ºç”¨æˆ·ç®¡ç†æ¨¡å—ï¼š
<span class="hljs-deletion">- UserModule.java</span>
<span class="hljs-deletion">- UserGrid.java</span>
<span class="hljs-deletion">- UserForm.java</span>
<span class="hljs-deletion">- UserRepository.java</span>
<span class="hljs-deletion">- UserService.java</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-77">4.4.2 æ¡ˆä¾‹ 2ï¼šä» JSON é…ç½®ç”Ÿæˆä»£ç </h4>
<p><strong>ç”¨æˆ·è¯·æ±‚</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">ä»ä»¥ä¸‹ <span class="hljs-title class_">JSON</span> é…ç½®ç”Ÿæˆä»£ç ï¼š
{
  <span class="hljs-string">"viewClassName"</span>: <span class="hljs-string">"net.ooder.example.UserTableView"</span>,
  <span class="hljs-string">"moduleViewType"</span>: <span class="hljs-string">"GRIDCONFIG"</span>,
  <span class="hljs-string">"fields"</span>: [
    {<span class="hljs-string">"fieldname"</span>: <span class="hljs-string">"id"</span>, <span class="hljs-string">"caption"</span>: <span class="hljs-string">"ID"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"input"</span>, <span class="hljs-string">"editable"</span>: <span class="hljs-literal">false</span>},
    {<span class="hljs-string">"fieldname"</span>: <span class="hljs-string">"name"</span>, <span class="hljs-string">"caption"</span>: <span class="hljs-string">"å§“å"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"input"</span>, <span class="hljs-string">"editable"</span>: <span class="hljs-literal">true</span>},
    {<span class="hljs-string">"fieldname"</span>: <span class="hljs-string">"age"</span>, <span class="hljs-string">"caption"</span>: <span class="hljs-string">"å¹´é¾„"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"number"</span>, <span class="hljs-string">"editable"</span>: <span class="hljs-literal">true</span>}
  ]
}
</code></pre>
<p><strong>LLM å¤„ç†æµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ†æè¯·æ±‚</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«ä¸ºå…ƒæ•°æ®è§£æè¯·æ±‚</li>
<li>é€‰æ‹© Metadata Skill</li>
</ul>
</li>
<li>
<p><strong>è§£æå…ƒæ•°æ®</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ parse-metadata Action</li>
<li>è§£æ JSON é…ç½®</li>
<li>ç”Ÿæˆ MethodConfig å¯¹è±¡</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆä»£ç </strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ generate-code Action</li>
<li>ç”Ÿæˆè§†å›¾ä»£ç </li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
</ul>
</li>
<li>
<p><strong>ç¼–è¯‘ä»£ç </strong>ï¼š</p>
<ul>
<li>è°ƒç”¨åŠ¨æ€ç¼–è¯‘</li>
<li>ç”Ÿæˆç±»æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>è¿”å›ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">å·²æˆåŠŸç”Ÿæˆä»£ç ï¼š
<span class="hljs-deletion">- UserTableView.java</span>
<span class="hljs-deletion">- UserRepository.java</span>
<span class="hljs-deletion">- UserService.java</span>
ç¼–è¯‘æˆåŠŸ
</code></pre>
</li>
</ol>
<h4 data-id="heading-78">4.4.3 æ¡ˆä¾‹ 3ï¼šåˆ›å»ºæ ‘å½¢ç»„ç»‡ç»“æ„</h4>
<p><strong>ç”¨æˆ·è¯·æ±‚</strong>ï¼š</p>
<pre><code class="hljs">åˆ›å»ºä¸€ä¸ªéƒ¨é—¨æ ‘å½¢ç»„ä»¶ï¼Œæ˜¾ç¤ºç»„ç»‡ç»“æ„
</code></pre>
<p><strong>LLM å¤„ç†æµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ†æè¯·æ±‚</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«ä¸ºåˆ›å»ºæ ‘å½¢ç»„ä»¶è¯·æ±‚</li>
<li>é€‰æ‹© Component Skill</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œ Skill</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ create-tree Action</li>
<li>ç”Ÿæˆæ ‘å½¢ç»„ä»¶ä»£ç </li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆä»“å‚¨</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ Metadata Skill çš„ generate-code Action</li>
<li>ç”Ÿæˆä»“å‚¨ä»£ç </li>
</ul>
</li>
<li>
<p><strong>è¿”å›ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">å·²æˆåŠŸåˆ›å»ºéƒ¨é—¨æ ‘å½¢ç»„ä»¶ï¼š
<span class="hljs-deletion">- DepartmentTree.java</span>
<span class="hljs-deletion">- DepartmentRepository.java</span>
<span class="hljs-deletion">- DepartmentService.java</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-79">äº”ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-80">5.1 å…³é”®æˆæœ</h3>
<h4 data-id="heading-81">5.1.1 BridgeCode è®¾è®¡æˆæœ</h4>
<ol>
<li>
<p><strong>å…ƒæ•°æ®é©±åŠ¨æ¶æ„</strong>ï¼š</p>
<ul>
<li>å®ç°äº†é…ç½®ä¸å®ç°çš„å®Œå…¨è§£è€¦</li>
<li>æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼ˆJSON/æ³¨è§£ï¼‰</li>
<li>æä¾›äº†çµæ´»çš„æ‰©å±•èƒ½åŠ›</li>
</ul>
</li>
<li>
<p><strong>åˆ†å±‚ç”Ÿæˆç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>è§†å›¾å±‚ã€ä»“å‚¨å±‚ã€èšåˆå±‚ä¸‰å±‚ç”Ÿæˆ</li>
<li>31 ä¸ªç”Ÿæˆå™¨è¦†ç›–æ‰€æœ‰åœºæ™¯</li>
<li>æ”¯æŒå¢é‡æ„å»ºå’Œå¹¶è¡Œç”Ÿæˆ</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€ç¼–è¯‘æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>è¿è¡Œæ—¶ç¼–è¯‘ç”Ÿæˆçš„ä»£ç </li>
<li>æ”¯æŒçƒ­æ›´æ–°å’Œæ›¿æ¢</li>
<li>æä¾›äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
</ul>
</li>
</ol>
<h4 data-id="heading-82">5.1.2 åˆ†å±‚ SKILLS è®¾è®¡æˆæœ</h4>
<ol>
<li>
<p><strong>æ¸…æ™°çš„èŒè´£åˆ’åˆ†</strong>ï¼š</p>
<ul>
<li>Foundation Skillï¼šåŸºç¡€ç»„ä»¶èƒ½åŠ›</li>
<li>Module Skillï¼šæ¨¡å—ç®¡ç†èƒ½åŠ›</li>
<li>Component Skillï¼šå…·ä½“ç»„ä»¶èƒ½åŠ›</li>
<li>Metadata Skillï¼šå…ƒæ•°æ®å¤„ç†èƒ½åŠ›</li>
</ul>
</li>
<li>
<p><strong>å¯æ‰©å±•çš„æ¶æ„</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæ–°å¢ Skill</li>
<li>æ”¯æŒ Skill ç»„åˆ</li>
<li>æ”¯æŒ Skill ç‰ˆæœ¬ç®¡ç†</li>
</ul>
</li>
<li>
<p><strong>å®Œæ•´çš„ Action ä½“ç³»</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ª Skill æä¾›å¤šä¸ª Action</li>
<li>Action æ”¯æŒå‚æ•°ä¼ é€’</li>
<li>Action æ”¯æŒç»“æœè¿”å›</li>
</ul>
</li>
</ol>
<h4 data-id="heading-83">5.1.3 Trae Solo å®è·µæˆæœ</h4>
<ol>
<li>
<p><strong>å®Œæ•´çš„é›†æˆæ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>Skill Loaderï¼šåŠ è½½å’Œç®¡ç† Skill</li>
<li>Skill Contextï¼šç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li>LLM Integrationï¼šé›†æˆ LLM å’Œ Skill</li>
</ul>
</li>
<li>
<p><strong>å®æˆ˜éªŒè¯</strong>ï¼š</p>
<ul>
<li>é€šè¿‡å¤šä¸ªå®æˆ˜æ¡ˆä¾‹éªŒè¯</li>
<li>è¦†ç›–ä¸»è¦ä½¿ç”¨åœºæ™¯</li>
<li>æä¾›äº†å®Œæ•´çš„ç¤ºä¾‹</li>
</ul>
</li>
<li>
<p><strong>æœ€ä½³å®è·µæŒ‡å¯¼</strong>ï¼š</p>
<ul>
<li>æä¾›äº†è¯¦ç»†çš„æœ€ä½³å®è·µ</li>
<li>æä¾›äº†å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</li>
<li>æä¾›äº†æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
</ul>
</li>
</ol>
<h3 data-id="heading-84">5.2 æŠ€æœ¯äº®ç‚¹</h3>
<h4 data-id="heading-85">5.2.1 è®¾è®¡æ¨¡å¼åº”ç”¨</h4>
<ol>
<li>
<p><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>GenJavaTask å®šä¹‰ç”Ÿæˆæµç¨‹</li>
<li>å­ç±»å®ç°å…·ä½“ç”Ÿæˆé€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>ä¸åŒçš„ç”Ÿæˆå™¨å®ç°ä¸åŒçš„ç”Ÿæˆç­–ç•¥</li>
<li>è¿è¡Œæ—¶é€‰æ‹©åˆé€‚çš„ç”Ÿæˆå™¨</li>
</ul>
</li>
<li>
<p><strong>å·¥å‚æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>SkillLoader åˆ›å»º Skill å®ä¾‹</li>
<li>æ ¹æ®åç§°åŠ¨æ€åŠ è½½ Skill</li>
</ul>
</li>
<li>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸäº‹ä»¶é€šçŸ¥</li>
<li>Skill æ‰§è¡Œç»“æœé€šçŸ¥</li>
</ul>
</li>
</ol>
<h4 data-id="heading-86">5.2.2 æ€§èƒ½ä¼˜åŒ–</h4>
<ol>
<li>
<p><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>Skill ç¼“å­˜</li>
<li>ç”Ÿæˆç»“æœç¼“å­˜</li>
<li>æ¨¡æ¿ç¼“å­˜</li>
</ul>
</li>
<li>
<p><strong>å¹¶è¡Œå¤„ç†</strong>ï¼š</p>
<ul>
<li>å¹¶è¡Œç”Ÿæˆ</li>
<li>å¹¶è¡Œç¼–è¯‘</li>
<li>å¼‚æ­¥åŠ è½½</li>
</ul>
</li>
<li>
<p><strong>å¢é‡æ„å»º</strong>ï¼š</p>
<ul>
<li>åªç”Ÿæˆå˜æ›´çš„éƒ¨åˆ†</li>
<li>åªç¼–è¯‘å˜æ›´çš„æ–‡ä»¶</li>
<li>å‡å°‘æ„å»ºæ—¶é—´</li>
</ul>
</li>
</ol>
<h4 data-id="heading-87">5.2.3 å¯ç»´æŠ¤æ€§</h4>
<ol>
<li>
<p><strong>æ¸…æ™°çš„ä»£ç ç»“æ„</strong>ï¼š</p>
<ul>
<li>åˆ†å±‚æ¶æ„</li>
<li>èŒè´£æ˜ç¡®</li>
<li>æ˜“äºç†è§£å’Œç»´æŠ¤</li>
</ul>
</li>
<li>
<p><strong>å®Œæ•´çš„æ–‡æ¡£</strong>ï¼š</p>
<ul>
<li>Skill å®šä¹‰æ–‡æ¡£</li>
<li>ä½¿ç”¨ç¤ºä¾‹æ–‡æ¡£</li>
<li>æœ€ä½³å®è·µæ–‡æ¡£</li>
</ul>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼š</p>
<ul>
<li>å•å…ƒæµ‹è¯•</li>
<li>é›†æˆæµ‹è¯•</li>
<li>ç«¯åˆ°ç«¯æµ‹è¯•</li>
</ul>
</li>
</ol>
<h3 data-id="heading-88">5.3 æœªæ¥å±•æœ›</h3>
<h4 data-id="heading-89">5.3.1 çŸ­æœŸç›®æ ‡</h4>
<ol>
<li>
<p><strong>å®Œå–„ Skill ä½“ç³»</strong>ï¼š</p>
<ul>
<li>å¢åŠ æ›´å¤š Skill</li>
<li>ä¼˜åŒ–ç°æœ‰ Skill</li>
<li>æé«˜ Skill è´¨é‡</li>
</ul>
</li>
<li>
<p><strong>æå‡ç”Ÿæˆæ€§èƒ½</strong>ï¼š</p>
<ul>
<li>ä¼˜åŒ–ç”Ÿæˆç®—æ³•</li>
<li>æé«˜å¹¶è¡Œåº¦</li>
<li>å‡å°‘å†…å­˜å ç”¨</li>
</ul>
</li>
<li>
<p><strong>å¢å¼ºé›†æˆèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæ›´å¤š LLM</li>
<li>æ”¯æŒæ›´å¤šå·¥å…·</li>
<li>æä¾›æ›´å¥½çš„é›†æˆä½“éªŒ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-90">5.3.2 é•¿æœŸç›®æ ‡</h4>
<ol>
<li>
<p><strong>æ™ºèƒ½åŒ–ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ AI ä¼˜åŒ–ç”Ÿæˆ</li>
<li>è‡ªåŠ¨æ£€æµ‹é—®é¢˜</li>
<li>è‡ªåŠ¨ä¿®å¤é”™è¯¯</li>
</ul>
</li>
<li>
<p><strong>å¯è§†åŒ–å·¥å…·</strong>ï¼š</p>
<ul>
<li>æä¾›å¯è§†åŒ–é…ç½®å·¥å…·</li>
<li>æä¾›å¯è§†åŒ–ç”Ÿæˆå·¥å…·</li>
<li>æä¾›å¯è§†åŒ–è°ƒè¯•å·¥å…·</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæ€ç³»ç»Ÿå»ºè®¾</strong>ï¼š</p>
<ul>
<li>æ„å»ºæ’ä»¶ç³»ç»Ÿ</li>
<li>æ„å»ºå¸‚åœºç³»ç»Ÿ</li>
<li>æ„å»ºç¤¾åŒºç³»ç»Ÿ</li>
</ul>
</li>
</ol>
<h2 data-id="heading-91">å…­ã€ç»“è®º</h2>
<p>æœ¬æ–‡æ·±å…¥è§£æäº† ooder æ¡†æ¶çš„ BridgeCode æœºåˆ¶ï¼Œä»è®¾è®¡åŸç†ã€ç”Ÿæˆç¼–è¯‘æµç¨‹ï¼Œåˆ°åˆ†å±‚ SKILLS è®¾è®¡ï¼Œæœ€åå±•ç¤ºäº†åœ¨ Trae Solo ç¯å¢ƒä¸­çš„ Skill æ„å»ºå®è·µã€‚</p>
<h3 data-id="heading-92">å…³é”®æ”¶è·</h3>
<ol>
<li>
<p><strong>BridgeCode è®¾è®¡åŸç†</strong>ï¼š</p>
<ul>
<li>å…ƒæ•°æ®é©±åŠ¨çš„ä¸‰å±‚æ¶æ„</li>
<li>31 ä¸ªç”Ÿæˆå™¨è¦†ç›–æ‰€æœ‰åœºæ™¯</li>
<li>åŠ¨æ€ç¼–è¯‘å’Œè¿è¡Œæ—¶ç»‘å®š</li>
</ul>
</li>
<li>
<p><strong>åˆ†å±‚ SKILLS è®¾è®¡</strong>ï¼š</p>
<ul>
<li>Foundationã€Moduleã€Componentã€Metadata å››å±‚ Skill</li>
<li>æ¸…æ™°çš„èŒè´£åˆ’åˆ†</li>
<li>å®Œæ•´çš„ Action ä½“ç³»</li>
</ul>
</li>
<li>
<p><strong>Trae Solo å®è·µ</strong>ï¼š</p>
<ul>
<li>å®Œæ•´çš„é›†æˆæ–¹æ¡ˆ</li>
<li>å¤šä¸ªå®æˆ˜æ¡ˆä¾‹</li>
<li>è¯¦ç»†çš„æœ€ä½³å®è·µ</li>
</ul>
</li>
</ol>
<p>è¿™ç§è®¾è®¡æ—¢ä¿æŒäº†æ¶æ„çš„æ¸…æ™°æ€§ï¼Œåˆæä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼Œä¸º LLM çš„ä½¿ç”¨å’Œåç»­å¼€å‘æä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡å…ƒæ•°æ®é©±åŠ¨çš„ä»£ç ç”Ÿæˆå’Œåˆ†å±‚ SKILLS è®¾è®¡ï¼Œooder æ¡†æ¶å®ç°äº†é«˜æ•ˆçš„ A2UI ç»„ä»¶å¼€å‘ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å·¥å…·æ”¯æŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture]]></title>    <link>https://juejin.cn/post/7603043152672358415</link>    <guid>https://juejin.cn/post/7603043152672358415</guid>    <pubDate>2026-02-05T08:54:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603043152672358415" data-draft-id="7599496293162287145" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture"/> <meta itemprop="keywords" content="æ¶æ„,Kotlin,Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-05T08:54:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿å¥å›"/> <meta itemprop="url" content="https://juejin.cn/user/2313804282603431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313804282603431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿å¥å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:54:04.000Z" title="Thu Feb 05 2026 08:54:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Clean Architecture</strong>ï¼ˆæ•´æ´æ¶æ„ï¼‰æ˜¯ç”±è‘—åè½¯ä»¶å·¥ç¨‹å¸ˆ Robert C. Martin æå‡ºçš„ä¸€ç§è½¯ä»¶è®¾è®¡ç†å¿µå’Œæ¶æ„æ¨¡å¼ï¼Œå®ƒé€šè¿‡ç»“æ„åŒ–çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä½¿ Android åº”ç”¨å…·å¤‡é«˜åº¦å¯ç»´æŠ¤æ€§ï¼Œå¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒæ€æƒ³</h2>
<p><strong>Clean Architecture</strong> çš„æ ¸å¿ƒåŸåˆ™æ˜¯ä¾èµ–è§„åˆ™ï¼šæºä»£ç ä¾èµ–åªèƒ½æŒ‡å‘å†…å±‚ï¼Œå†…å±‚ä¸åº”è¯¥çŸ¥é“ä»»ä½•å…³äºå¤–å±‚çš„ä¸œè¥¿ã€‚</p>
<ul>
<li>é¢†åŸŸå±‚ï¼ˆdomainï¼‰-&gt; ä¸ä¾èµ–ä»»ä½•å¤–å±‚ï¼Œçº¯ Kotlin/Javaï¼Œé›¶ Android æ¡†æ¶ä¾èµ–ï¼Œåªå®šä¹‰ä¸šåŠ¡è§„åˆ™ï¼ŒUseCase å’Œ Repository æ¥å£ã€‚</li>
<li>æ•°æ®å±‚ï¼ˆdataï¼‰-&gt; ä¾èµ–é¢†åŸŸå±‚ï¼Œå®ç°é¢†åŸŸå±‚å®šä¹‰çš„ Repository æ¥å£ï¼Œä½†é¢†åŸŸå±‚ä¸çŸ¥å…¶å®ç°ã€‚</li>
<li>è¡¨ç°å±‚ï¼ˆpresentationï¼‰-&gt; ä¾èµ–é¢†åŸŸå±‚ï¼Œé€šè¿‡ UseCase è°ƒç”¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸ç›´æ¥ä¾èµ–æ•°æ®å±‚ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d98264980bd9441f99223bebee0086a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5YGl5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770887405&amp;x-signature=0DbxivgFnnr1BiSbk3MnNuXOUmk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">åˆ†å±‚ç»“æ„</h2>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹ Android çš„é¡¹ç›®ç»“æ„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b08fb6c4b62744479cf0e583f1877ba7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5YGl5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770887405&amp;x-signature=ChuVYY3Dx9MSdiG4BNqLzgrH0HU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">é¢†åŸŸå±‚ - å†…å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>é¢†åŸŸå±‚æ˜¯æ ¸å¿ƒï¼Œæ‰¿è½½äº†é¡¹ç›®çœŸæ­£çš„ä¸šåŠ¡ä»·å€¼ã€‚</li>
<li>å®šä¹‰ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æ¨¡å‹ï¼ŒåŒ…å«åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>åªå…³å¿ƒè¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ€ä¹ˆåšã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>å®ä½“ï¼ˆmodelï¼‰ï¼šè¡¨ç¤ºä¸šåŠ¡æ ¸å¿ƒå¯¹è±¡ã€‚</li>
<li>ç”¨ä¾‹ï¼ˆusecaseï¼‰ï¼šå°è£…ç‰¹å®šä¸šåŠ¡è¡Œä¸ºã€‚</li>
<li>ä»“åº“æ¥å£ï¼ˆrepositoryï¼‰ï¼šå®šä¹‰æ•°æ®æ“ä½œçš„å¥‘çº¦ï¼Œä¸åŒ…å«å®ç°ã€‚</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>çº¯ Kotlin/Java ä»£ç ï¼Œä¸ä¾èµ– Android æ¡†æ¶ã€‚</li>
<li>ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ã€‚</li>
<li>æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­æœ€ç¨³å®šçš„ä¸€å±‚ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Post</span>(
    <span class="hljs-keyword">val</span> id: String,
    <span class="hljs-keyword">val</span> name: String
)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetPostsUseCase</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> postRepository: PostRepository
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: Result&lt;BaseResp&lt;List&lt;Post&gt;&gt;&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
            Result.success(postRepository.getPosts(params))
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Result.failure(e)
        }
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PostRepository</span> {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt;
}
</code></pre>
<h3 data-id="heading-3">æ•°æ®å±‚ - ä¸­é—´å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>è´Ÿè´£æ•°æ®ä»å“ªé‡Œæ¥ï¼Œå¦‚ä½•è·å–ã€‚</li>
<li>å¤„ç†æ•°æ®æ£€ç´¢å’Œå­˜å‚¨ã€‚</li>
<li>å®ç°é¢†åŸŸå±‚å®šä¹‰çš„æ•°æ®è®¿é—®æ¥å£ã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>æ•°æ®æºï¼ˆdatasourceï¼‰ï¼šæœ¬åœ°æ•°æ®æºæˆ–è¿œç¨‹æ•°æ®æº</li>
<li>ä»“åº“å®ç°ï¼ˆrepositoryï¼‰ï¼šåè°ƒä¸åŒæ•°æ®æºï¼Œå®ç°é¢†åŸŸå±‚å®šä¹‰çš„ Repository æ¥å£ï¼Œå¤„ç†å¼‚å¸¸ï¼Œå°†æŠ€æœ¯å¼‚å¸¸è½¬æ¢ä¸ºä¸šåŠ¡å¯ç†è§£çš„ç»“æœã€‚</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>å¯ä»¥è‡ªç”±åˆ‡æ¢æ•°æ®æ¥æº</li>
<li>å˜åŒ–æœ€é¢‘ç¹çš„ä¸€å±‚</li>
<li>å¯æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒçš„æ•°æ®å­˜å‚¨æ–¹æ¡ˆ</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PostService</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"/xzj/net/api/example/post"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(<span class="hljs-meta">@QueryMap</span> params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt;
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostRepositoryImpl</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> postService: PostService
) : PostRepository {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt; {
        <span class="hljs-keyword">return</span> postService.getPosts(params)
    }
}
</code></pre>
<h3 data-id="heading-4">è¡¨ç°å±‚ - å¤–å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>è´Ÿè´£ UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’ã€‚</li>
<li>å°†æ•°æ®è½¬æ¢ä¸ºç”¨æˆ·å¯æ„ŸçŸ¥çš„ç•Œé¢çŠ¶æ€ã€‚</li>
<li>ä¸åŒ…å«ä¸šåŠ¡è§„åˆ™ï¼Œåªè´Ÿè´£ç®¡ç† UIStateã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>viewï¼šè§†å›¾ç»„ä»¶</li>
<li>ViewModelï¼šé€šè¿‡ usecase ä¸ é¢†åŸŸå±‚äº¤äº’</li>
<li>stateï¼šUI çŠ¶æ€</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€šå¸¸ä½¿ç”¨ MVVM æˆ– MVI æ¨¡å¼ç»„ç»‡ä»£ç ã€‚</li>
<li>ä¸“æ³¨äº UI State ç®¡ç†ã€‚</li>
<li>å¯è½»æ¾æ›´æ¢ç”¨æˆ·ç•Œé¢æ¡†æ¶æˆ–è¿›è¡Œç•Œé¢ä¼˜åŒ–ï¼Œè€Œä¸å½±å“ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PostListState</span>(
    <span class="hljs-keyword">val</span> posts: List&lt;Post&gt; = emptyList(),
    <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
    <span class="hljs-keyword">val</span> error: String? = <span class="hljs-literal">null</span>
)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PostListViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> getPostsUseCase: GetPostsUseCase
) : ViewModel() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _state = MutableStateFlow(PostListState())
    <span class="hljs-keyword">val</span> state: StateFlow&lt;PostListState&gt; = _state.asStateFlow()

    <span class="hljs-keyword">init</span> {
        loadPosts()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadPosts</span><span class="hljs-params">()</span></span> = viewModelScope.launch {
        _state.update { it.copy(isLoading = <span class="hljs-literal">true</span>) }
        <span class="hljs-keyword">val</span> params = hashMapOf(
            <span class="hljs-string">"param1"</span> to <span class="hljs-string">"param1"</span>,
            <span class="hljs-string">"param2"</span> to <span class="hljs-string">"param2"</span>
        )
        getPostsUseCase(params).onSuccess { posts -&gt;
            _state.update { it.copy(posts = posts.<span class="hljs-keyword">data</span>, isLoading = <span class="hljs-literal">false</span>) }
        }.onFailure { error -&gt;
            _state.update { it.copy(error = error.message, isLoading = <span class="hljs-literal">false</span>) }
        }
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PostListScreen</span><span class="hljs-params">(viewModel: <span class="hljs-type">PostListViewModel</span> = hiltViewModel()</span></span>) {
    <span class="hljs-keyword">val</span> state <span class="hljs-keyword">by</span> viewModel.state.collectAsState()

    <span class="hljs-keyword">when</span> {
        state.isLoading -&gt; CircularProgressIndicator()
        state.error != <span class="hljs-literal">null</span> -&gt; Text(<span class="hljs-string">"Error: <span class="hljs-subst">${state.error}</span>"</span>)
        <span class="hljs-keyword">else</span> -&gt; LazyColumn {
            items(state.posts) { post -&gt;
                Text(post.name, fontSize = <span class="hljs-number">20.</span>sp, color = Color.Red)
            }
        }
    }
}
</code></pre>
<p>Hilt é€šè¿‡ @HiltViewModel å’Œ hiltViewModel() è‡ªåŠ¨å¤„ç† ViewModel çš„ä¾èµ–æ³¨å…¥ã€‚åœ¨ Compose ä¸­ä½¿ç”¨ hiltViewModel() è·å– ViewModel å®ä¾‹ï¼Œç¡®ä¿ ViewModel åŠå…¶ä¾èµ–è¢«æ­£ç¡®åˆå§‹åŒ–ã€‚</p>
<h2 data-id="heading-5">Hilt ä¾èµ–æ³¨å…¥é…ç½®</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> NetworkModule {

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideRetrofit</span><span class="hljs-params">()</span></span>: Retrofit {
        <span class="hljs-keyword">return</span> Retrofit.Builder()
            .baseUrl(BASE_URL)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">providePostService</span><span class="hljs-params">(retrofit: <span class="hljs-type">Retrofit</span>)</span></span>: PostService {
        <span class="hljs-keyword">return</span> retrofit.create(PostService::<span class="hljs-keyword">class</span>.java)
    }
}


<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> AppModule {

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">providePostRepository</span><span class="hljs-params">(
        postService: <span class="hljs-type">PostService</span>
    )</span></span>: PostRepository {
        <span class="hljs-keyword">return</span> PostRepositoryImpl(postService)
    }

    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideGetPostsUseCase</span><span class="hljs-params">(
        postRepository: <span class="hljs-type">PostRepository</span>
    )</span></span>: GetPostsUseCase {
        <span class="hljs-keyword">return</span> GetPostsUseCase(postRepository)
    }
}
</code></pre>
<h2 data-id="heading-6">æ„ä¹‰ä½•åœ¨</h2>
<p>çœ‹åˆ°è¿™ï¼Œä½ ä»¬å¯èƒ½è¦åæ§½äº†ï¼Œå®ç°ä¸€ä¸ªåŠŸèƒ½è¦å»ºè¿™ä¹ˆå¤šå±‚ï¼Œè¿™ä¹ˆå¤šç±»ï¼Œä»£ç é‡å¤šè¿™ä¹ˆå¤šï¼Œä¸æ˜¯å¾’å¢å·¥ä½œé‡å—ï¼ŸçœŸçš„æœ‰æ„ä¹‰å—ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œå¾’å¢å·¥ä½œé‡æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œæ¯”å¦‚ä½ å®ç°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ - è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œä½ éœ€è¦åˆ›å»ºé¢†åŸŸå±‚ï¼Œæ•°æ®å±‚ï¼Œè¡¨ç°å±‚ï¼Œè¿˜æœ‰å„ç§æ¥å£ä¸æ¥å£å®ç°ï¼Œå¯¹æ¯” â€œä¸€æŠŠæ¢­â€ å†™æ³•ï¼ˆActivity ç›´æ¥è°ƒç”¨æ–¹æ³•è·å–æ•°æ®ï¼‰ï¼Œä»£ç é‡å¯èƒ½è¦ç¿»ä¸‰å€ä»¥ä¸Šã€‚</p>
<p>å¾·å›½è‘—åå“²å­¦å®¶é»‘æ ¼å°”æ›¾è¯´è¿‡ï¼šå­˜åœ¨å³åˆç†ã€‚æ‰€ä»¥ï¼ŒClean Architecture æ—¢ç„¶å­˜åœ¨ï¼Œé‚£è‚¯å®šæ˜¯æœ‰æ„ä¹‰çš„ï¼å®ƒçš„æ„ä¹‰å°±åœ¨äºï¼šç”¨çŸ­æœŸæˆæœ¬æ¢é•¿æœŸæ”¶ç›Šã€‚</p>
<p>ä¸¾ä¸ªéœ€æ±‚å˜æ›´çš„ä¾‹å­å§ï¼Œå°±æ‹¿å¸¸è§çš„ç”¨æˆ·ä¿¡æ¯æ¥è¯´ï¼Œä¸€å¼€å§‹åªè¦æ±‚æ˜¾ç¤º user.nameï¼Œä½†æ˜¯å‡ å¤©åï¼Œäº§å“çªç„¶æ”¹ä¸»æ„äº†ï¼ŒVIP ç”¨æˆ·å¾—æ˜¾ç¤º VIP å’Œåå­—ã€‚</p>
<p>æŒ‰ç…§ â€œä¸€æŠŠæ¢­â€ çš„å†™æ³•ï¼Œè§„åˆ™æ•£è½åœ¨å„ä¸ª Composable ä¸­çš„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserCard</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Card {
        <span class="hljs-comment">// ç¬¬ä¸€å¤„ï¼šä¸šåŠ¡è§„åˆ™ç›´æ¥å†™æ­»åœ¨ UI é‡Œï¼</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name) 
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfileHeader</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Column {
        <span class="hljs-comment">// ç¬¬äºŒå¤„ï¼è§„åˆ™é‡å¤</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name, style = Title)
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchItem</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Row {
        <span class="hljs-comment">// ç¬¬ä¸‰å¤„ï¼æ”¹éœ€æ±‚æ—¶éœ€å…¨å±€æœç´¢æ›¿æ¢</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name)
    }
}
</code></pre>
<p>å¦‚æœä½¿ç”¨ Clean Architecture çš„è¯ï¼Œåªéœ€ä¿®æ”¹ domain å±‚å³å¯ï¼Œå…¶æœ¬èº«å°±æ˜¯è§„åˆ™çš„é›†ä¸­ç®¡ç†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetDisplayNameUseCase</span> { <span class="hljs-comment">//è§„åˆ™å”¯ä¸€æºå¤´ï¼</span>
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span>: String =
        <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name
        <span class="hljs-comment">// åªæ”¹è¿™é‡Œï¼</span>
}
</code></pre>
<p>åªéœ€ä¿®æ”¹ UseCaseï¼Œå…¶ä½™éƒ½ä¸ç”¨ä¿®æ”¹ï¼Œç®€ç›´ä¸è¦å¤ªä¼˜é›…ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> getDisplayName: GetDisplayNameUseCase <span class="hljs-comment">// ä¾èµ–æ³¨å…¥</span>
) : ViewModel() {
    <span class="hljs-comment">// ViewModel åªè´Ÿè´£è°ƒç”¨è§„åˆ™ï¼Œä¸åŒ…å«è§„åˆ™æœ¬èº«ã€‚</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDisplayName</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> = getDisplayName(user)
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserCard</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Card {
        <span class="hljs-comment">// Composable çº¯ç²¹åªå…³æ³¨æ˜¾ç¤ºä»€ä¹ˆï¼Œä¸å…³å¿ƒä¸ºä»€ä¹ˆè¿™æ ·æ˜¾ç¤ºã€‚</span>
        Text(text = viewModel.getDisplayName(user))
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfileHeader</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Text(text = viewModel.getDisplayName(user), style = Title)
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchItem</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Text(text = viewModel.getDisplayName(user))
}
</code></pre>
<p>ä¸‹æ¬¡äº§å“å†è¯´åŠ ä»€ä¹ˆå…¶ä»–ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ åªéœ€å¾®ç¬‘æ‰“å¼€ UseCase å³å¯ï¼Œè€Œä¸ç”¨ç¿»éæ‰€æœ‰ Composableã€‚</p>
<p>ä½†ä¹Ÿä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½è¯¥ç”¨ï¼Œè€Œæ˜¯è¯¥ç”¨æ—¶å¿…é¡»ç”¨ï¼å¯¹äºå¤§å‹ä¸”éœ€æŒç»­è¿­ä»£çš„é¡¹ç›®ï¼Œæ¶æ„æ²»ç†æ˜¯å¿…ç„¶è¦æ±‚ï¼Œéšç€ä»£ç é‡å¢åŠ ï¼Œæ”¹åŠ¨æˆæœ¬ä¸æ–­ä¸Šå‡ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚ç”¨äº â€œä¸­å¤§å‹â€ï¼Œâ€œå›¢é˜Ÿåä½œâ€ï¼Œâ€œé«˜å¯é æ€§è¦æ±‚â€ çš„é¡¹ç›®ã€‚å¦‚æœä½ çš„é¡¹ç›®æœ¬èº«è§„æ¨¡ä¸å¤§ï¼Œä¹Ÿä¸éœ€è¦èŠ±é¢å¤–ç²¾åŠ›æ²»ç†æ¶æ„ï¼Œå¯¹äºå°è§„æ¨¡é¡¹ç›®ï¼Œå¼•å…¥ Clean Architecture å¯èƒ½ä¼šå¢åŠ å¼€å‘æˆæœ¬ï¼Œæ‰€ä»¥ä¸é€‚ç”¨ã€‚</p>
<blockquote>
<p>æ¶æ„ä¸æ˜¯ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸ºæœªæ¥çš„è‡ªå·±å’Œå›¢é˜Ÿå‡è´Ÿï¼Œæˆ‘ä»¬ä¸èƒ½ â€œä¸ºäº†æ¶æ„è€Œæ¶æ„â€ï¼Œè‹¥é¡¹ç›®æ³¨å®š â€œä¸€æ¬¡æ€§â€ï¼Œè¯·å¤§èƒ†ç®€åŒ–ï¼Œæ•ˆç‡ä¼˜å…ˆï¼Œè‹¥é¡¹ç›®éœ€ â€œæ´»ä¸‹å»ã€é•¿å‡ºæ¥â€ï¼Œå°±å¾—æ¥å—çŸ­æœŸæˆæœ¬ï¼ŒæŠ•èµ„é•¿æœŸå¥åº·ã€‚Clean Architecture çš„ç²¾é«“å°±åœ¨äºå®ƒä¸æ‰¿è¯º â€œå†™å¾—æ›´å¿«â€ï¼Œä½†æ‰¿è¯º â€œæ”¹å¾—æ›´ç¨³â€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Veauryï¼šè®©Vueå’ŒReactç»„ä»¶åœ¨åŒä¸€åº”ç”¨ä¸­å…±å­˜çš„ç¥å™¨]]></title>    <link>https://juejin.cn/post/7602900131540697129</link>    <guid>https://juejin.cn/post/7602900131540697129</guid>    <pubDate>2026-02-05T01:47:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602900131540697129" data-draft-id="7602807243705647167" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Veauryï¼šè®©Vueå’ŒReactç»„ä»¶åœ¨åŒä¸€åº”ç”¨ä¸­å…±å­˜çš„ç¥å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-02-05T01:47:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜_June"/> <meta itemprop="url" content="https://juejin.cn/user/395479916219517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Veauryï¼šè®©Vueå’ŒReactç»„ä»¶åœ¨åŒä¸€åº”ç”¨ä¸­å…±å­˜çš„ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479916219517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜_June
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T01:47:34.000Z" title="Thu Feb 05 2026 01:47:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ç«¯å¼€å‘è€…å¸¸å¸¸é¢ä¸´è¿™æ ·çš„å›°å¢ƒï¼šVueé¡¹ç›®éœ€è¦ä½¿ç”¨Reactç”Ÿæ€çš„ä¼˜ç§€ç»„ä»¶ï¼Œæˆ–è€…Reacté¡¹ç›®æƒ³å¼•å…¥Vueçš„ä¼˜é›…è§£å†³æ–¹æ¡ˆã€‚è¿‡å»ï¼Œè¿™å‡ ä¹æ„å‘³ç€éœ€è¦å®Œå…¨é‡å†™æˆ–å¯»æ‰¾ç¬¨é‡çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>ä»Šå¤©ä»‹ç»çš„Veauryå°†å½»åº•æ”¹å˜è¿™ä¸€å±€é¢ã€‚è¿™æ˜¯ä¸€ä¸ªä¸“é—¨è®¾è®¡ç”¨äºåœ¨Vueå’ŒReactä¹‹é—´å®ç°æ— ç¼äº’æ“ä½œçš„å·¥å…·åº“ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒé—®é¢˜ä¸æŒ‘æˆ˜</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œè·¨æ¡†æ¶ç»„ä»¶å¤ç”¨é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡éš”ç¦»</strong>ï¼šVueå’ŒReactæœ‰å„è‡ªç‹¬ç«‹çš„ä¸Šä¸‹æ–‡ç³»ç»Ÿï¼Œæ•°æ®ä¼ é€’å›°éš¾</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸä¸åŒ¹é…</strong>ï¼šä¸¤ä¸ªæ¡†æ¶çš„ç”Ÿå‘½å‘¨æœŸæ¨¡å‹å®Œå…¨ä¸åŒ</li>
<li><strong>äº‹ä»¶ç³»ç»Ÿå·®å¼‚</strong>ï¼šVueä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ï¼ŒReactä½¿ç”¨åˆæˆäº‹ä»¶</li>
<li><strong>æ¸²æŸ“æœºåˆ¶ä¸åŒ</strong>ï¼šVueåŸºäºæ¨¡æ¿ï¼ŒReactåŸºäºJSX</li>
</ol>
<h2 data-id="heading-1">Veauryçš„æŠ€æœ¯å®ç°åŸç†</h2>
<p>Veauryé€šè¿‡é«˜é˜¶ç»„ä»¶(HOC)çš„æ–¹å¼ï¼Œåœ¨ä¸¤ç§æ¡†æ¶ä¹‹é—´æ­å»ºæ¡¥æ¢ã€‚å…¶æ ¸å¿ƒæ€è·¯æ˜¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆå®ç°åŸç†ç¤ºæ„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCrossFrameworkWrapper</span>(<span class="hljs-params">OriginalComponent, targetFramework</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Wrapper</span>(<span class="hljs-params">props, context</span>) {
    <span class="hljs-comment">// å¤„ç†propsè½¬æ¢</span>
    <span class="hljs-keyword">const</span> convertedProps = <span class="hljs-title function_">convertProps</span>(props, targetFramework);
    
    <span class="hljs-comment">// å¤„ç†ä¸Šä¸‹æ–‡ä¼ é€’</span>
    <span class="hljs-keyword">const</span> frameworkContext = <span class="hljs-title function_">adaptContext</span>(context, targetFramework);
    
    <span class="hljs-comment">// æ ¹æ®ç›®æ ‡æ¡†æ¶é€‰æ‹©æ¸²æŸ“æ–¹å¼</span>
    <span class="hljs-keyword">if</span> (targetFramework === <span class="hljs-string">'vue'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">renderAsVue</span>(<span class="hljs-title class_">OriginalComponent</span>, convertedProps, frameworkContext);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">renderAsReact</span>(<span class="hljs-title class_">OriginalComponent</span>, convertedProps, frameworkContext);
    }
  };
}
</code></pre>
<h2 data-id="heading-2">ä¸»è¦ç‰¹æ€§</h2>
<h3 data-id="heading-3">1. å®Œæ•´çš„Vue 3æ”¯æŒ</h3>
<ul>
<li>æ”¯æŒComposition APIå’ŒOptions API</li>
<li>æ”¯æŒTeleportã€Suspenseç­‰Vue 3ç‰¹æ€§</li>
<li>å®Œæ•´çš„å“åº”å¼ç³»ç»Ÿé›†æˆ</li>
</ul>
<h3 data-id="heading-4">2. åŒå‘ä¸Šä¸‹æ–‡å…±äº«</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Reactç»„ä»¶å¯ä»¥è®¿é—®Vueçš„provide/inject</span>
<span class="hljs-comment">// Vueç»„ä»¶å¯ä»¥è®¿é—®Reactçš„Context</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">SharedComponent</span> = (<span class="hljs-params">{ theme }</span>) =&gt; {
  <span class="hljs-comment">// themeå¯ä»¥æ¥è‡ªVueçš„provideæˆ–Reactçš„Context</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">theme-</span>${<span class="hljs-attr">theme</span>}`}&gt;</span>å…±äº«ä¸»é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
</code></pre>
<h3 data-id="heading-5">3. çº¯æ¨¡å¼ï¼ˆPure Modeï¼‰</h3>
<p>æ¶ˆé™¤åŒ…è£…å™¨å¸¦æ¥çš„é¢å¤–DOMå…ƒç´ ï¼Œä¿æŒç»„ä»¶æ ‘çš„æ•´æ´ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨çº¯æ¨¡å¼åŒ…è£…</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">PureReactComponent</span> = <span class="hljs-title function_">applyPureReactInVue</span>(<span class="hljs-title class_">ReactComponent</span>);
<span class="hljs-comment">// æ¸²æŸ“ç»“æœæ²¡æœ‰é¢å¤–çš„divåŒ…è£¹</span>
</code></pre>
<h3 data-id="heading-6">4. ç”Ÿå‘½å‘¨æœŸæ˜ å°„</h3>
<p>Veauryæ™ºèƒ½åœ°æ˜ å°„ä¸¤ä¸ªæ¡†æ¶çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>





















<table><thead><tr><th>Vue ç”Ÿå‘½å‘¨æœŸ</th><th>React ç­‰æ•ˆ</th></tr></thead><tbody><tr><td><code>onMounted</code></td><td><code>useEffect(() =&gt; {}, [])</code></td></tr><tr><td><code>onUpdated</code></td><td><code>useEffect(() =&gt; {})</code></td></tr><tr><td><code>onUnmounted</code></td><td><code>useEffect(() =&gt; () =&gt; {})</code></td></tr></tbody></table>
<h2 data-id="heading-7">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-8">åœºæ™¯ä¸€ï¼šåœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨Reactç»„ä»¶</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Vueç»„ä»¶ä¸»ä½“<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç›´æ¥ä½¿ç”¨Reactç»„ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ReactDataTable</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span> @<span class="hljs-attr">row-click</span>=<span class="hljs-string">"handleRowClick"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { applyPureReactInVue } <span class="hljs-keyword">from</span> <span class="hljs-string">'veaury'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDataTable</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ReactDataTable.jsx'</span>;

<span class="hljs-comment">// å°†Reactç»„ä»¶è½¬æ¢ä¸ºVueå¯ç”¨çš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactDataTable</span> = <span class="hljs-title function_">applyPureReactInVue</span>(<span class="hljs-title class_">ReactDataTable</span>);

<span class="hljs-keyword">const</span> tableData = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é¡¹ç›®A'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">100</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é¡¹ç›®B'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">200</span> }
]);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRowClick</span> = (<span class="hljs-params">rowData</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¡Œç‚¹å‡»äº‹ä»¶:'</span>, rowData);
  <span class="hljs-comment">// å¤„ç†æ¥è‡ªReactç»„ä»¶çš„äº‹ä»¶</span>
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">åœºæ™¯äºŒï¼šåœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Vueç»„ä»¶</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { applyVueInReact } <span class="hljs-keyword">from</span> <span class="hljs-string">'veaury'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRichEditor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./VueRichEditor.vue'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RichEditor</span> = <span class="hljs-title function_">applyVueInReact</span>(<span class="hljs-title class_">VueRichEditor</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [content, setContent] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [isDarkMode, setIsDarkMode] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleContentChange</span> = (<span class="hljs-params">newContent</span>) =&gt; {
    <span class="hljs-title function_">setContent</span>(newContent);
    <span class="hljs-comment">// å¤„ç†æ¥è‡ªVueç»„ä»¶çš„äº‹ä»¶</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isDarkMode</span> ? '<span class="hljs-attr">dark-theme</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">light-theme</span>'}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Reactåº”ç”¨ä¸­çš„Vueå¯Œæ–‡æœ¬ç¼–è¾‘å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">RichEditor</span>
        <span class="hljs-attr">modelValue</span>=<span class="hljs-string">{content}</span>
        <span class="hljs-attr">onUpdate:modelValue</span>=<span class="hljs-string">{handleContentChange}</span>
        <span class="hljs-attr">darkMode</span>=<span class="hljs-string">{isDarkMode}</span>
        <span class="hljs-attr">v-slots</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">toolbar:</span> () =&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå®šä¹‰å·¥å…·æ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        }}
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsDarkMode(!isDarkMode)}&gt;
        åˆ‡æ¢ä¸»é¢˜
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-10">æ€§èƒ½è€ƒè™‘</h2>
<p>Veauryåœ¨æ€§èƒ½æ–¹é¢åšäº†å¤§é‡ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>æœ€å°åŒ–é‡æ¸²æŸ“</strong>ï¼šé€šè¿‡ç²¾ç»†çš„å“åº”å¼ä¾¦å¬ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</li>
<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šåˆç†ç®¡ç†ç»„ä»¶å®ä¾‹ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
<li><strong>æ„å»ºä¼˜åŒ–</strong>ï¼šæ”¯æŒTree-shakingï¼Œåªå¼•å…¥éœ€è¦çš„åŠŸèƒ½</li>
</ol>
<p>æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿiframeæ–¹æ¡ˆ vs Veauryæ–¹æ¡ˆ</span>
<span class="hljs-comment">// iframeï¼šç‹¬ç«‹çš„DOMã€æ ·å¼å’Œä¸Šä¸‹æ–‡ï¼Œå¼€é”€å¤§</span>
<span class="hljs-comment">// Veauryï¼šå…±äº«åŒä¸€DOMï¼Œè½»é‡çº§åŒ…è£…ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿ</span>
</code></pre>
<h2 data-id="heading-11">ä¼ä¸šçº§åº”ç”¨å®è·µ</h2>
<h3 data-id="heading-12">æ¡ˆä¾‹ï¼šä½ä»£ç å¹³å°é›†æˆ</h3>
<p>æŸä½ä»£ç å¹³å°ä½¿ç”¨Veauryå®ç°æ’ä»¶ç³»ç»Ÿï¼š</p>
<ul>
<li>æ ¸å¿ƒæ¡†æ¶ï¼šVue 3 + TypeScript</li>
<li>æ’ä»¶ç”Ÿæ€ï¼šæ”¯æŒReactå’ŒVueä¸¤ç§æ’ä»¶</li>
<li>å®ç°æ•ˆæœï¼šå¼€å‘è€…å¯ä½¿ç”¨ä»»æ„æ¡†æ¶å¼€å‘æ’ä»¶</li>
</ul>
<h3 data-id="heading-13">æ¡ˆä¾‹ï¼šå¾®å‰ç«¯æ¶æ„</h3>
<p>åœ¨å¾®å‰ç«¯åœºæ™¯ä¸­ï¼ŒVeauryå¸®åŠ©ä¸åŒæŠ€æœ¯æ ˆçš„å­åº”ç”¨å…±äº«ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»åº”ç”¨(Vue)ä½¿ç”¨å­åº”ç”¨(React)çš„ç»„ä»¶åº“</span>
<span class="hljs-keyword">import</span> { applyPureReactInVue } <span class="hljs-keyword">from</span> <span class="hljs-string">'veaury'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDesignSystem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'team-react-ds'</span>;

<span class="hljs-comment">// åœ¨Vueä¸»åº”ç”¨ä¸­ç›´æ¥ä½¿ç”¨Reactè®¾è®¡ç³»ç»Ÿ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VueWrappedButton</span> = <span class="hljs-title function_">applyPureReactInVue</span>(<span class="hljs-title class_">ReactDesignSystem</span>.<span class="hljs-property">Button</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VueWrappedModal</span> = <span class="hljs-title function_">applyPureReactInVue</span>(<span class="hljs-title class_">ReactDesignSystem</span>.<span class="hljs-property">Modal</span>);
</code></pre>
<h2 data-id="heading-14">é…ç½®ä¸æ„å»º</h2>
<h3 data-id="heading-15">Viteé…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>;
<span class="hljs-keyword">import</span> veauryVitePlugins <span class="hljs-keyword">from</span> <span class="hljs-string">'veaury/vite'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">veauryVitePlugins</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">'vue'</span>, <span class="hljs-comment">// æˆ– 'react'ï¼Œæ ¹æ®ä¸»æ¡†æ¶é€‰æ‹©</span>
      <span class="hljs-attr">vueOptions</span>: {
        <span class="hljs-attr">reactivityTransform</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¯ç”¨å“åº”å¼è¯­æ³•ç³–</span>
      }
    })
  ],
  <span class="hljs-attr">optimizeDeps</span>: {
    <span class="hljs-attr">include</span>: [<span class="hljs-string">'veaury'</span>]
  }
});
</code></pre>
<h3 data-id="heading-16">Webpacké…ç½®è¦ç‚¹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-string">'vue-loader'</span>
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.jsx$/</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-string">'babel-loader'</span>,
        <span class="hljs-attr">options</span>: {
          <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/preset-react'</span>]
        }
      }
    ]
  }
};
</code></pre>
<h2 data-id="heading-17">å±€é™æ€§è¯´æ˜</h2>
<p>å°½ç®¡VeauryåŠŸèƒ½å¼ºå¤§ï¼Œä½†ä»æœ‰ä¸€äº›é™åˆ¶ï¼š</p>
<ol>
<li><strong>éƒ¨åˆ†é«˜çº§ç‰¹æ€§</strong>ï¼šæŸäº›æ¡†æ¶ç‰¹å®šçš„é«˜çº§ç‰¹æ€§å¯èƒ½ä¸å®Œå…¨æ”¯æŒ</li>
<li><strong>å¼€å‘ä½“éªŒ</strong>ï¼šè°ƒè¯•æ—¶éœ€è¦äº†è§£ä¸¤ç§æ¡†æ¶</li>
<li><strong>å­¦ä¹ æˆæœ¬</strong>ï¼šå›¢é˜Ÿéœ€è¦åŒæ—¶ç†Ÿæ‚‰Vueå’ŒReact</li>
</ol>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>å¯¹äºéœ€è¦åœ¨Vueå’ŒReactä¹‹é—´æ­å»ºæ¡¥æ¢çš„é¡¹ç›®ï¼ŒVeauryæä¾›äº†ä¸€ä¸ªæˆç†Ÿã€ç¨³å®šçš„è§£å†³æ–¹æ¡ˆã€‚æ— è®ºæ˜¯æ–°é¡¹ç›®æŠ€æœ¯é€‰å‹ï¼Œè¿˜æ˜¯è€é¡¹ç›®ç°ä»£åŒ–æ”¹é€ ï¼Œéƒ½å€¼å¾—è€ƒè™‘è¿™ä¸€å·¥å…·ã€‚</p>
<p><strong>æŠ€æœ¯æ ˆä¸åº”æˆä¸ºåˆ›æ–°çš„çº¦æŸï¼Œè€Œåº”æ˜¯å®ç°ç›®æ ‡çš„å·¥å…·ã€‚</strong> Veauryæ­£æ˜¯è¿™ä¸€ç†å¿µçš„å®è·µï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºåˆ›é€ ä»·å€¼ï¼Œè€Œä¸æ˜¯è¢«æ¡†æ¶ä¹‹äº‰æ‰€å›°æ‰°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨AIæ¨¡æ‹Ÿå®ç°ä¸€ä¸ª Claude Code CLI]]></title>    <link>https://juejin.cn/post/7603004323870179371</link>    <guid>https://juejin.cn/post/7603004323870179371</guid>    <pubDate>2026-02-05T00:35:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603004323870179371" data-draft-id="7602910573404209190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨AIæ¨¡æ‹Ÿå®ç°ä¸€ä¸ª Claude Code CLI"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T00:35:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨AIæ¨¡æ‹Ÿå®ç°ä¸€ä¸ª Claude Code CLI
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T00:35:01.000Z" title="Thu Feb 05 2026 00:35:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    26
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»é›¶å¼€å§‹æ„å»ºç»ˆç«¯ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œæ¢ç´¢ REPL äº¤äº’ã€è¾“å…¥ç¼“å†²åŒºã€ç»ˆç«¯æ¸²æŸ“ç­‰æŠ€æœ¯</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong> æœ¬é¡¹ç›®çš„ä»£ç å®Œå…¨ç”± AI è¾…åŠ©ç”Ÿæˆã€‚æˆ‘æ‰®æ¼”äº§å“ç»ç†çš„è§’è‰²ï¼Œè´Ÿè´£æå‡ºéœ€æ±‚ã€æ˜ç¡®åŠŸèƒ½è¾¹ç•Œï¼Œè€Œ AI è´Ÿè´£æ‰€æœ‰çš„ç¼–ç å®ç°ã€‚è¿™æ˜¯ä¸€æ¬¡æ¢ç´¢"AI ä¸»å¯¼å¼€å‘"æ¨¡å¼çš„å®è·µã€‚</p>
<p>ç”¨è¿‡ Claude Code çš„å¼€å‘è€…éƒ½ä¼šè¢«å®ƒæµç•…çš„ç»ˆç«¯äº¤äº’ä½“éªŒæ‰€å¸å¼•ã€‚ä¸€ä¸ªç®€å•ä½†åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè®© AI åƒç»“å¯¹ç¼–ç¨‹ä¼™ä¼´ä¸€æ ·åœ¨ç»ˆç«¯ä¸­ä¸ä½ åä½œã€‚</p>
<p>æ™šä¸Šä½¿ç”¨AIè¿‡ç¨‹çªç„¶å¿ƒè¡€æ¥æ½®ï¼šèƒ½å¦ç”¨ AI æ¥å®ç°ä¸€ä¸ªç±»ä¼¼çš„å·¥å…·ï¼Œé¡ºä¾¿äº†è§£ä¸‹è¿™ç§ç»ˆç«¯å·¥å…·æ˜¯å¦‚ä½•å®ç°çš„ ï¼Ÿè¯´å¹²å°±å¹²â€”â€”æˆ‘åªè´Ÿè´£æè¿°æƒ³è¦çš„åŠŸèƒ½ï¼Œè®© AI æ¥å®Œæˆæ‰€æœ‰çš„ä»£ç ç¼–å†™ã€‚</p>
<p>å…ˆçœ‹çœ‹æœ€ç»ˆå®ç°çš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€ CodeCLI v0.1.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Welcome back!                                              â”‚
â”‚                                                            â”‚
â”‚   <span class="hljs-strong">____</span>          _                                         â”‚
â”‚  / <span class="hljs-strong">__<span class="hljs-emphasis">_| _</span>__</span>  <span class="hljs-strong">__| | __</span>_                                    â”‚
â”‚ | |    / _ \/ <span class="hljs-emphasis">_` |/ _</span> \                                   â”‚
â”‚ | |<span class="hljs-strong">__<span class="hljs-emphasis">_|  _</span><span class="hljs-emphasis">_/ (_</span>| |  __</span>/                                   â”‚
â”‚  \<span class="hljs-strong">____</span>|\<span class="hljs-strong">__<span class="hljs-emphasis">_|\_</span><span class="hljs-emphasis">_,_</span>|\__</span><span class="hljs-emphasis">_|                                   â”‚
â”‚                                                            â”‚
â”‚ Project: my-project                                        â”‚
â”‚ Model: Opus                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€º _</span>
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
accept edits off (shift+tab to cycle)
</code></pre>
<p>æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>æµç•…çš„å¤šè¡Œè¾“å…¥ç¼–è¾‘</li>
<li>å†å²å‘½ä»¤æœç´¢</li>
<li>æ–œæ å‘½ä»¤ç³»ç»Ÿ</li>
<li>ç»ˆç«¯å†…çš„ Shell æ‰§è¡Œ</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒæ¶æ„</h2>
<p>é¡¹ç›®åªæœ‰ä¸¤ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ index.ts    <span class="hljs-comment"># å…¥å£ï¼Œå¤„ç†å‘½ä»¤è¡Œå‚æ•°</span>
â””â”€â”€ repl.ts     <span class="hljs-comment"># REPLå¼•æ“ï¼Œçº¦1200è¡Œ</span>
</code></pre>
<p>è™½ç„¶ <code>repl.ts</code> ä»£ç é‡ä¸å°ï¼Œä½†ç»“æ„éå¸¸æ¸…æ™°ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºå‡ ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CodeCli                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ InputBuffer â”‚  â”‚  Renderer   â”‚  â”‚  CommandSet â”‚ â”‚
â”‚  â”‚  (è¾“å…¥çŠ¶æ€)  â”‚  â”‚  (ç»ˆç«¯æ¸²æŸ“)  â”‚  â”‚  (å‘½ä»¤å¤„ç†)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  History    â”‚  â”‚KillRing     â”‚  â”‚   Message   â”‚ â”‚
â”‚  â”‚  (å†å²ç®¡ç†)  â”‚  â”‚(å¤åˆ¶ç²˜è´´)    â”‚  â”‚  (æ¶ˆæ¯é˜Ÿåˆ—)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h2 data-id="heading-2">åŠŸèƒ½ä»‹ç»</h2>
<h5 data-id="heading-3">ä¸€ã€è¾“å…¥ç¼“å†²åŒºï¼šå¤„ç†å¤šè¡Œç¼–è¾‘</h5>
<p>æœ€åŸºç¡€ä¹Ÿæœ€å…³é”®çš„æ˜¯è¾“å…¥ç¼“å†²åŒºã€‚å®ƒéœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ ¸å¿ƒçŠ¶æ€ï¼šæ–‡æœ¬å†…å®¹å’Œå…‰æ ‡ä½ç½®ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">InputBuffer</span> {
  value = <span class="hljs-string">""</span>;      <span class="hljs-comment">// å½“å‰æ–‡æœ¬</span>
  cursor = <span class="hljs-number">0</span>;      <span class="hljs-comment">// å…‰æ ‡ä½ç½®</span>

  <span class="hljs-title function_">insert</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// åœ¨å…‰æ ‡å¤„æ’å…¥æ–‡æœ¬ï¼Œæ›´æ–°å…‰æ ‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">cursor</span>) + text + <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cursor</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cursor</span> += text.<span class="hljs-property">length</span>;
  }

  <span class="hljs-title function_">moveWordLeft</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è·³åˆ°å‰ä¸€ä¸ªå•è¯å¼€å¤´</span>
    <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cursor</span> - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isWhitespace</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>[i])) i--;
    <span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isWordChar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>[i - <span class="hljs-number">1</span>])) i--;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cursor</span> = i;
  }
}
</code></pre>
<p><strong>è®¾è®¡è¦ç‚¹ï¼š</strong></p>
<p><strong>1. å…‰æ ‡ä½ç½®ç‹¬ç«‹è·Ÿè¸ª</strong> - ä¸ä¾èµ–ç»ˆç«¯çš„å®é™…å…‰æ ‡ï¼Œåªç»´æŠ¤é€»è¾‘ä½ç½®</p>
<p><strong>2. å¤šè¡Œæ”¯æŒ</strong> - å†…éƒ¨ç”¨ <code>\n</code> åˆ†å‰²ï¼Œæ¸²æŸ“æ—¶è½¬æ¢ä¸ºè¡Œåˆ—åæ ‡</p>
<p><strong>3. è¯æ“ä½œ</strong> - ç±»ä¼¼ Emacsï¼ŒæŒ‰å•è¯è¾¹ç•Œç§»åŠ¨ï¼ˆAlt+B/Fï¼‰</p>
<p>è¿™ä¸ªè®¾è®¡çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼šè¾“å…¥é€»è¾‘ä¸æ¸²æŸ“é€»è¾‘å®Œå…¨è§£è€¦ã€‚æ— è®ºç»ˆç«¯æ€ä¹ˆå˜åŒ–ï¼ŒInputBuffer åªè´Ÿè´£ç»´æŠ¤æ­£ç¡®çš„æ–‡æœ¬çŠ¶æ€ã€‚</p>
<h5 data-id="heading-4">äºŒã€ç»ˆç«¯æ¸²æŸ“ï¼šANSI è½¬ä¹‰åºåˆ—</h5>
<p>ç»ˆç«¯æ¸²æŸ“çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨ ANSI è½¬ä¹‰åºåˆ—æ§åˆ¶å±å¹•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">lines</span>: <span class="hljs-built_in">string</span>[] = [];

  <span class="hljs-comment">// 1. æ„å»ºæ‰€æœ‰è¡Œçš„å†…å®¹</span>
  lines.<span class="hljs-title function_">push</span>(header);
  lines.<span class="hljs-title function_">push</span>(...messages);
  lines.<span class="hljs-title function_">push</span>(inputArea);
  lines.<span class="hljs-title function_">push</span>(modeLine);

  <span class="hljs-comment">// 2. æ¸…å±å¹¶è¾“å‡º</span>
  process.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">"\x1b[2J\x1b[H"</span>);  <span class="hljs-comment">// æ¸…å±ï¼Œå…‰æ ‡å½’ä½</span>
  process.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">write</span>(lines.<span class="hljs-title function_">join</span>(<span class="hljs-string">"\n"</span>));

  <span class="hljs-comment">// 3. å®šä½å…‰æ ‡</span>
  process.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">`\x1b[<span class="hljs-subst">${row}</span>;<span class="hljs-subst">${col}</span>H`</span>);
}
</code></pre>
<p><strong>å¸¸ç”¨ ANSI åºåˆ—ï¼š</strong></p>





























<table><thead><tr><th>åºåˆ—</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>\x1b[2J</code></td><td>æ¸…å±</td></tr><tr><td><code>\x1b[H</code></td><td>å…‰æ ‡ç§»åˆ°å·¦ä¸Šè§’</td></tr><tr><td><code>\x1b[row;colH</code></td><td>ç§»åŠ¨å…‰æ ‡åˆ°æŒ‡å®šä½ç½®</td></tr><tr><td><code>\x1b[?25h</code></td><td>æ˜¾ç¤ºå…‰æ ‡</td></tr><tr><td><code>\x1b[35m</code></td><td>è®¾ç½®é¢œè‰²ï¼ˆç´«è‰²ï¼‰</td></tr></tbody></table>
<p>æ¸²æŸ“ç­–ç•¥é‡‡ç”¨"å…¨å±åˆ·æ–°"ï¼šæ¯æ¬¡çŠ¶æ€å˜åŒ–éƒ½é‡æ–°è®¡ç®—å¹¶ç»˜åˆ¶æ‰€æœ‰å†…å®¹ã€‚è¿™åœ¨ç°ä»£ç»ˆç«¯ä¸Šæ€§èƒ½è¶³å¤Ÿå¥½ï¼Œä¸”ä»£ç ç®€æ´ã€‚</p>
<h5 data-id="heading-5">ä¸‰ã€é”®ç›˜äº‹ä»¶ï¼šåŸå§‹æ¨¡å¼å¤„ç†</h5>
<p>Node.js é»˜è®¤ä½¿ç”¨" cooked mode"ï¼Œéœ€è¦å›è½¦æ‰å‘é€è¾“å…¥ã€‚æˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ°"raw mode"æ¥æ•è·æ¯ä¸ªæŒ‰é”®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">start</span>(<span class="hljs-params"/>) {
  readline.<span class="hljs-title function_">emitKeypressEvents</span>(process.<span class="hljs-property">stdin</span>);
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">stdin</span>.<span class="hljs-property">isTTY</span>) process.<span class="hljs-property">stdin</span>.<span class="hljs-title function_">setRawMode</span>(<span class="hljs-literal">true</span>);
  process.<span class="hljs-property">stdin</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"keypress"</span>, <span class="hljs-function">(<span class="hljs-params">str, key</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onKeypress</span>(str, key));
}

<span class="hljs-keyword">private</span> <span class="hljs-title function_">onKeypress</span>(<span class="hljs-params">str: <span class="hljs-built_in">string</span>, key: readline.Key</span>) {
  <span class="hljs-keyword">if</span> (key.<span class="hljs-property">ctrl</span> &amp;&amp; key.<span class="hljs-property">name</span> === <span class="hljs-string">"c"</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">input</span>.<span class="hljs-title function_">setValue</span>(<span class="hljs-string">""</span>);  <span class="hljs-comment">// Ctrl+C æ¸…ç©º</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key.<span class="hljs-property">ctrl</span> &amp;&amp; key.<span class="hljs-property">name</span> === <span class="hljs-string">"r"</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startReverseSearch</span>();  <span class="hljs-comment">// Ctrl+R å†å²æœç´¢</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str &amp;&amp; !key.<span class="hljs-property">ctrl</span> &amp;&amp; !key.<span class="hljs-property">meta</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">input</span>.<span class="hljs-title function_">insert</span>(str);  <span class="hljs-comment">// æ™®é€šå­—ç¬¦</span>
  }
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>();  <span class="hljs-comment">// æ¯æ¬¡æŒ‰é”®åé‡ç»˜</span>
}
</code></pre>
<p><strong>äº‹ä»¶å¤„ç†çš„éš¾ç‚¹ï¼š</strong></p>
<p><strong>ç»„åˆé”®è¯†åˆ«</strong> - Ctrl/Alt/Shift éœ€è¦æ£€æŸ¥ <code>key.ctrl</code>ã€<code>key.meta</code> ç­‰æ ‡å¿—</p>
<p><strong>ç‰¹æ®Šé”®å¤„ç†</strong> - æ–¹å‘é”®ã€Home/End ç­‰ä¸ä¼šäº§ç”Ÿå¯æ‰“å°å­—ç¬¦</p>
<p><strong>åŒå‡» ESC</strong> - æ£€æµ‹ä¸¤æ¬¡ ESC çš„é—´éš”æ¥åˆ¤æ–­ rewind å‘½ä»¤</p>
<h5 data-id="heading-6">å››ã€å†å²æœç´¢ï¼šä»¿ Emacs çš„ Ctrl+R</h5>
<p>å†å²æœç´¢æ˜¯æå‡æ•ˆç‡çš„å…³é”®åŠŸèƒ½ã€‚å®ç°æ€è·¯ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·è¾“å…¥æœç´¢å­—ç¬¦ä¸²                                      â”‚
â”‚         â†“                                                â”‚
â”‚  ä»å†å²æœ«å°¾å‘å‰éå†æŸ¥æ‰¾åŒ¹é…                              â”‚
â”‚         â†“                                                â”‚
â”‚  å®æ—¶æ›´æ–°æ˜¾ç¤ºçš„åŒ¹é…ç»“æœ                                  â”‚
â”‚         â†“                                                â”‚
â”‚  ç”¨æˆ·å¯ä»¥ç»§ç»­è¾“å…¥ç¼©å°æœç´¢ï¼Œæˆ– Ctrl+R æŸ¥çœ‹ä¸Šä¸€ä¸ªåŒ¹é…      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">findHistoryMatch</span>(<span class="hljs-attr">query</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">startIndex</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">if</span> (!query) <span class="hljs-keyword">return</span> startIndex;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startIndex; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>[i].<span class="hljs-title function_">includes</span>(query)) <span class="hljs-keyword">return</span> i;
  }
  <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
}
</code></pre>
<p>æœç´¢æ˜¯äº¤äº’å¼çš„ï¼šæ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±é‡æ–°æœç´¢ï¼Œå®æ—¶æ˜¾ç¤ºåŒ¹é…ç»“æœã€‚</p>
<h5 data-id="heading-7">äº”ã€æ€ç¯ï¼šEmacs é£æ ¼çš„å¤åˆ¶ç²˜è´´</h5>
<p>"æ€ç¯"ï¼ˆKill Ringï¼‰æ˜¯ Emacs çš„æ¦‚å¿µï¼Œæ¯”ç³»ç»Ÿå‰ªè´´æ¿æ›´å¼ºå¤§ï¼š</p>
<pre><code class="hljs">æ“ä½œ          æ•ˆæœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ctrl+K        åˆ é™¤åˆ°è¡Œå°¾ï¼Œå­˜å…¥æ€ç¯
Ctrl+U        åˆ é™¤æ•´è¡Œï¼Œå­˜å…¥æ€ç¯
Ctrl+Y        ç²˜è´´æœ€æ–°å‰ªåˆ‡å†…å®¹
Alt+Y         å¾ªç¯åˆ‡æ¢å‰ªè´´å†å²
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-attr">killRing</span>: <span class="hljs-built_in">string</span>[] = [];

<span class="hljs-keyword">private</span> <span class="hljs-title function_">pushKillRing</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">killRing</span>.<span class="hljs-title function_">push</span>(text);  <span class="hljs-comment">// è®°å½•æ¯æ¬¡åˆ é™¤</span>
}

<span class="hljs-keyword">private</span> <span class="hljs-title function_">yank</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> text = <span class="hljs-variable language_">this</span>.<span class="hljs-property">killRing</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">killRing</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">input</span>.<span class="hljs-title function_">insert</span>(text);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastYankIndex</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">killRing</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
}

<span class="hljs-keyword">private</span> <span class="hljs-title function_">yankCycle</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// Alt+Yï¼šç²˜è´´åå¾ªç¯åˆ‡æ¢ä¹‹å‰å‰ªåˆ‡çš„å†…å®¹</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastYankIndex</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastYankIndex</span> &lt;= <span class="hljs-number">0</span>
    ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">killRing</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>
    : <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastYankIndex</span> - <span class="hljs-number">1</span>;
  <span class="hljs-comment">// æ›¿æ¢åˆšæ‰ç²˜è´´çš„å†…å®¹...</span>
}
</code></pre>
<p>è¿™ä¸ªè®¾è®¡è®©å¤šæ¬¡å‰ªåˆ‡çš„å†…å®¹éƒ½èƒ½è¢«è®¿é—®ï¼Œæ¯”å•ä¸€å‰ªè´´æ¿çµæ´»å¾—å¤šã€‚</p>
<h5 data-id="heading-8">å…­ã€å‘½ä»¤ç³»ç»Ÿï¼šæ–œæ å‰ç¼€</h5>
<p>å‘½ä»¤ä»¥ <code>/</code> å¼€å¤´ï¼Œç±»ä¼¼ Discord/Slash å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/help      æ˜¾ç¤ºå¸®åŠ©
/clear     æ¸…ç©ºå¯¹è¯
/plan      åˆ‡æ¢åˆ°è®¡åˆ’æ¨¡å¼
/model     åˆ‡æ¢AIæ¨¡å‹
</code></pre>
<p>å®ç°æ ¸å¿ƒæ˜¯ä¸€ä¸ªç®€å•çš„è·¯ç”±å™¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleCommand</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> parts = input.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\s+/</span>);
  <span class="hljs-keyword">const</span> cmd = parts[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> args = parts.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>);

  <span class="hljs-keyword">switch</span> (cmd) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"help"</span>: <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">showHelp</span>();
    <span class="hljs-keyword">case</span> <span class="hljs-string">"clear"</span>: <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clearAll</span>();
    <span class="hljs-keyword">case</span> <span class="hljs-string">"plan"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">mode</span> = <span class="hljs-string">"plan"</span>; <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"model"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setModel</span>(args[<span class="hljs-number">0</span>]); <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<p><strong>å‘½ä»¤è¡¥å…¨ï¼š</strong> å½“ç”¨æˆ·è¾“å…¥ <code>/</code> æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºåŒ¹é…çš„å‘½ä»¤åˆ—è¡¨ï¼Œæå‡å‘ç°æ€§ã€‚</p>
<h5 data-id="heading-9">ä¸ƒã€Shell æ¨¡å¼ï¼šæ„Ÿå¹å·å‰ç¼€</h5>
<p>ç”¨ <code>!</code> å‰ç¼€å¯ä»¥ç›´æ¥æ‰§è¡Œ shell å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨æˆ·è¾“å…¥ï¼š! git status</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">runShell</span>(<span class="hljs-params">command: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> child = <span class="hljs-title function_">spawn</span>(<span class="hljs-string">"powershell.exe"</span>, [<span class="hljs-string">"-Command"</span>, command]);
  <span class="hljs-keyword">let</span> output = <span class="hljs-string">""</span>;
  child.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"data"</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> output += data);
  child.<span class="hljs-title function_">on</span>(<span class="hljs-string">"close"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">appendMessage</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"tool"</span>, <span class="hljs-attr">content</span>: output });
  });
}
</code></pre>
<p>è¿™è®©ä½ åœ¨ AI å¯¹è¯ä¸­æ— ç¼æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œç»“æœç›´æ¥æ˜¾ç¤ºåœ¨å¯¹è¯ä¸­ã€‚</p>
<h2 data-id="heading-10">å†™åœ¨æœ€å</h2>
<p>æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ Claude Code CLI çš„å…³é”®åŠŸèƒ½åŠç›¸å…³å®ç°ä»£ç ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ª MVP å®ç°ï¼Œä½†å±•ç¤ºäº†ç»ˆç«¯åº”ç”¨å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œè¿™äº›æŠ€æœ¯å¯åº”ç”¨äºä»»ä½•éœ€è¦å¤æ‚ç»ˆç«¯äº¤äº’çš„é¡¹ç›®ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/yuboon</span><span class="hljs-regexp">/ai-examples/tree</span><span class="hljs-regexp">/main/</span><span class="hljs-number">001</span>-coding-cli
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€]]></title>    <link>https://juejin.cn/post/7603142147642736683</link>    <guid>https://juejin.cn/post/7603142147642736683</guid>    <pubDate>2026-02-05T09:35:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603142147642736683" data-draft-id="7602996277665333302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€"/> <meta itemprop="keywords" content="Cursor"/> <meta itemprop="datePublished" content="2026-02-05T09:35:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:35:34.000Z" title="Thu Feb 05 2026 09:35:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ä¸€ã€é¡¹ç›®æ¨è¿›ä¸åˆä½œä¸­çš„ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹çš„è§£å†³</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1. é€»è¾‘ä¸é€æ˜ â†’ æ™ºèƒ½é€»è¾‘è§£æ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2. æ•°æ®æ„é€ ç¹ç â†’ åœºæ™¯åŒ–æ„é€ æ¨è</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3. è§„åˆ™åŒæ­¥æ»å â†’ å®æ—¶è§„åˆ™æŸ¥è¯¢ä¸è§£é‡Š</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">äºŒã€AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¦‚ä½•æ”¹å˜ç°çŠ¶ï¼Ÿ</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… ä¸šåŠ¡é—®é¢˜å®æ—¶è§£ç­”</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… å¼€å‘ä¸æµ‹è¯•é«˜æ•ˆæ”¯æŒ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… æœåŠ¡ä¸¤ç±»ç”¨æˆ·ç¾¤ä½“</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ä¸‰ã€ä¸ºä»€ä¹ˆé€‰æ‹©Difyï¼Ÿ</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">å››ã€difyæ™ºèƒ½åŠ©æ‰‹æ­å»ºå®ç°</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">äº”ã€å·²å®ç°åœºæ™¯æ¼”ç¤º</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯ä¸€ï¼šå”®åå•å®æ—¶çŠ¶æ€æŸ¥è¯¢</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯äºŒï¼šåŸºäºå•å·çš„ä¸šåŠ¡é€»è¾‘è¿½é—®</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯ä¸‰ï¼šæ•°æ®æ„é€ æŒ‡å¯¼</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯å››ï¼šæ— å•å·çº¯é€»è¾‘ç­”ç–‘</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">å…­ã€æ•ˆæœå·²ç°ï¼Œä¼˜åŒ–æŒç»­</a></p>
</li>
</ul>
<p>å”®åç³»ç»Ÿé•¿æœŸä»¥æ¥åƒæ˜¯ä¼ä¸šå†…éƒ¨çš„â€œé»‘ç›’â€â€”â€”æµç¨‹å¤æ‚ã€ä¿¡æ¯åˆ†æ•£ã€é€»è¾‘äº¤å‰ï¼Œä¸šåŠ¡éƒ¨é—¨åœ¨é¡¹ç›®æ¨è¿›ä¸­å¸¸é¢ä¸´ä¸‰é‡é˜»åŠ›ï¼š</p>
<p><strong>é€»è¾‘ç†è§£éš¾</strong>ï¼šä¸åŒå”®ååœºæ™¯å‘½ä¸­æ¡ä»¶é”™ç»¼å¤æ‚ï¼Œäººå·¥æ’æŸ¥æ•ˆç‡ä½ä¸‹ï¼›</p>
<p><strong>æ•°æ®æ„é€ ç¹</strong>ï¼šæµ‹è¯•éªŒè¯æ—¶ç¼ºä¹æ ‡å‡†æ„é€ æŒ‡å¼•ï¼Œä¾èµ–ç»éªŒè¯•é”™ï¼Œå‘¨æœŸå†—é•¿ï¼›</p>
<p><strong>è§„åˆ™å“åº”æ…¢</strong>ï¼šè·¨éƒ¨é—¨åä½œä¸­ï¼Œè§„åˆ™è§£é‡Šä¾èµ–äººå·¥æ²Ÿé€šï¼Œä¿¡æ¯åŒæ­¥ä¸åŠæ—¶ã€‚</p>
<p>è¿™ä¸ä»…æ‹–æ…¢äº†é¡¹ç›®èŠ‚å¥ï¼Œæ›´è®©å†…éƒ¨åä½œé™·å…¥â€œç­‰äººã€é—®äººã€æ‰¾äººâ€çš„å¾ªç¯ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ¨å‡ºåŸºäºDifyå¹³å°æ„å»ºçš„<strong>å”®åä¸šåŠ¡æ™ºèƒ½åŠ©æ‰‹</strong>ï¼Œèšç„¦<strong>é€»è¾‘æ¢³ç†ã€æ•°æ®æ„é€ ã€è§„åˆ™åŒæ­¥</strong>ä¸‰å¤§åœºæ™¯ï¼Œå°†â€œé»‘ç›’â€å˜ä¸ºâ€œé€æ˜å·¥ä½œå°â€ï¼Œä¸ºé¡¹ç›®åä½œä¸æµ‹è¯•éªŒè¯æä¾›æ™ºèƒ½æ”¯æŒã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é¡¹ç›®æ¨è¿›ä¸åˆä½œä¸­çš„ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹çš„è§£å†³</h2>
<h3 data-id="heading-1">1. é€»è¾‘ä¸é€æ˜ â†’ æ™ºèƒ½é€»è¾‘è§£æ</h3>
<p>ç³»ç»Ÿå¯è‡ªåŠ¨è§£æä¸åŒå”®åæµç¨‹çš„å‘½ä¸­è§„åˆ™ä¸åˆ¤å®šé€»è¾‘ï¼Œä¸ºä¸šåŠ¡å†³ç­–å’Œé¡¹ç›®å¯¹é½æä¾›æ¸…æ™°ä¾æ®ã€‚</p>
<h3 data-id="heading-2">2. æ•°æ®æ„é€ ç¹ç â†’ åœºæ™¯åŒ–æ„é€ æ¨è</h3>
<p>æä¾›å¸¸è§æµ‹è¯•åœºæ™¯çš„æ ‡å‡†åŒ–æ•°æ®æ„é€ æ–¹æ¡ˆï¼Œé™„ç¤ºä¾‹å‚æ•°ä¸æ“ä½œé“¾æ¥ï¼Œæå‡æµ‹è¯•æ•ˆç‡ä¸å‡†ç¡®æ€§ã€‚</p>
<h3 data-id="heading-3">3. è§„åˆ™åŒæ­¥æ»å â†’ å®æ—¶è§„åˆ™æŸ¥è¯¢ä¸è§£é‡Š</h3>
<p>ä¸šåŠ¡è§„åˆ™ä¸æµç¨‹è¯´æ˜å®æ—¶å¯æŸ¥ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æé—®ï¼Œå‡å°‘è·¨å›¢é˜Ÿæ²Ÿé€šæˆæœ¬ä¸ä¿¡æ¯è¯¯å·®ã€‚</p>
<h2 data-id="heading-4">äºŒã€AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¦‚ä½•æ”¹å˜ç°çŠ¶ï¼Ÿ</h2>
<h3 data-id="heading-5">âœ… ä¸šåŠ¡é—®é¢˜å®æ—¶è§£ç­”</h3>
<p>â— æ— æ³•ç”³è¯·å”®åï¼Ÿã€æä¾›ã€‘ä¸€é”®æ’æŸ¥åŸå› </p>
<p>â— æµç¨‹å‘½ä¸­é€»è¾‘ä¸æ¸…æ™°ï¼Ÿã€æä¾›ã€‘è‡ªåŠ¨è¯´æ˜è§„åˆ™</p>
<p>â— è´¨æ£€è´£ä»»è®¤å®šæ¨¡ç³Šï¼Ÿã€æä¾›ã€‘æ˜ç¡®åˆ¤å®šä¾æ®ä¸æµç¨‹é€‰æ‹©</p>
<p>â— æ•£è´§äº¤æ¥åå»å“ªè´¨æ£€ï¼Ÿã€æä¾›ã€‘æ™ºèƒ½æ¨èä»“åº“ä¸ç«™ç‚¹</p>
<h3 data-id="heading-6">âœ… å¼€å‘ä¸æµ‹è¯•é«˜æ•ˆæ”¯æŒ</h3>
<p>â— æä¾›å„ç±»è®¢å•æ„é€ æ–¹æ³•ä¸ç¤ºä¾‹</p>
<p>â— å®æ—¶æŸ¥è¯¢å”®åç±»å‹ä¸èŠ‚ç‚¹æ•°æ®</p>
<p>â— æ•°æ®æ„é€ åï¼Œè‡ªåŠ¨ç»™å‡ºä¸‹ä¸€æ­¥æ“ä½œå»ºè®®æŒ‡å‘</p>
<h3 data-id="heading-7">âœ… æœåŠ¡ä¸¤ç±»ç”¨æˆ·ç¾¤ä½“</h3>
<p>â— å†…éƒ¨å›¢é˜Ÿï¼šæå‡åä½œæ•ˆç‡ï¼Œé‡Šæ”¾äººåŠ›</p>
<p>â— ä¸šåŠ¡åˆä½œæ–¹ï¼šæä¾›æ ‡å‡†åŒ–ã€å³æ—¶åŒ–çš„è§£ç­”æ”¯æŒ</p>
<h2 data-id="heading-8">ä¸‰ã€ä¸ºä»€ä¹ˆé€‰æ‹©Difyï¼Ÿ</h2>
<p>åœ¨è¯„ä¼°å¤šç§å®ç°æ–¹æ¡ˆåï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰ç”¨Difyå¹³å°ï¼Œä¸»è¦å› ä¸ºï¼š</p>
<p>â— ä½é—¨æ§›å¯è§†åŒ–æ­å»ºï¼šæ— éœ€ä»£ç å³å¯é…ç½®å·¥ä½œæµï¼Œå¿«é€Ÿè¿­ä»£</p>
<p>â— å†…ç½®AIæ ¸å¿ƒæ¨¡å—ï¼šçŸ¥è¯†åº“ã€æ„å›¾è¯†åˆ«ã€å¯¹è¯ç®¡ç†å¼€ç®±å³ç”¨</p>
<p>â— çµæ´»æ‰©å±•æ€§å¼ºï¼šæ”¯æŒè¿æ¥å¤–éƒ¨æ¥å£ï¼ˆMCPï¼‰ï¼Œè·å–å®æ—¶ä¸šåŠ¡æ•°æ®</p>
<p>â— difyå¯æä¾›æœºå™¨äººä¼šè¯å·¥ä½œæµç¨‹æ­å»º</p>
<h2 data-id="heading-9">å››ã€difyæ™ºèƒ½åŠ©æ‰‹æ­å»ºå®ç°</h2>
<p>æ•´ä½“è®¾è®¡æ€è·¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13442b49d4bf4992976cae75982567d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=pmXQZeuUZ%2F%2FoaTgGgikjvJ95mPM%3D" alt="" loading="lazy"/></p>
<p>æ™ºèƒ½åŠ©æ‰‹å¹¶éç®€å•é—®ç­”æœºå™¨äººï¼Œè€Œæ˜¯é€šè¿‡å¤šå±‚AIèŠ‚ç‚¹ååŒå·¥ä½œï¼Œæ ¸å¿ƒåˆ©ç”¨èŠ‚ç‚¹è®¾è®¡å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d456f6e2943e46cb8604b49772f1fc65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=fme6m%2F9H8OTXtkYB1jjKw%2Bl057k%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>å‚æ•°æå–å™¨</strong>ï¼šè‡ªåŠ¨è¯†åˆ«å”®åå•å·ç­‰å…³é”®ä¿¡æ¯</li>
</ol>
<p>ä»ç”¨æˆ·é—®é¢˜ä¸­æå–å…³é”®å‚æ•°ï¼Œä¾‹å¦‚å”®åå•IDç­‰ã€‚å½“ç”¨æˆ·æé—®æ¶‰åŠå…·ä½“ä¸šåŠ¡å•æ®æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æå–æ ‡è¯†ä¿¡æ¯ï¼Œä¾›åç»­èŠ‚ç‚¹è°ƒç”¨ã€‚</p>













<table><thead><tr><th>difyé…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cc7e18b92f9486bba250f95026c30ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=B4nPvFr0WNkK1Km8xKcdK63NabM%3D" alt="" loading="lazy"/>æŒ‡ä»¤å³æ˜¯æç¤ºè¯</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f72fd850c184677b2c98c1833cc5e33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=vP2j4qKnxwERE7EIXtIfPnSnPNc%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="2">
<li><strong>Agentæ™ºèƒ½ä»£ç†</strong>ï¼šè°ƒç”¨çœŸå®ä¸šåŠ¡æ¥å£ï¼Œè·å–å®æ—¶æ•°æ®</li>
</ol>
<p>è´Ÿè´£è°ƒç”¨å¤–éƒ¨æ¥å£è·å–å®æ—¶ä¸šåŠ¡æ•°æ®ï¼Œå¹¶å¯¹è¿”å›ç»“æœè¿›è¡Œç»“æ„åŒ–è§£æã€‚ä¾‹å¦‚ï¼Œæ ¹æ®å”®åå•IDæŸ¥è¯¢è¯¦æƒ…ï¼Œå¹¶æå–çŠ¶æ€ã€å¤„ç†äººã€æ—¶é—´ç­‰å…³é”®å­—æ®µï¼Œè½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€æè¿°ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d95a50131bef46a0a90548f517eeb592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ib18nlkX%2FF5Uc0%2BKTRng%2Bl8N3Zs%3D" alt="" loading="lazy"/> æŒ‡ä»¤å³æ˜¯æç¤ºè¯</td><td>åŸæœ‰æ¥å£è¿”å›ç»“æ„<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2941b48feacd4d9898c6ca80850096fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=H%2BGbvrwBuce4MulJ43LdWHRDdYw%3D" alt="" loading="lazy"/>æç¤ºè¯åè¿”å›ç»“æ„<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6701a3c8df846ed8cf4d5112b4e5a91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XZRJv3xhTJHe3viAYgiPXKoxgBo%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="3">
<li><strong>é—®é¢˜åˆ†ç±»å™¨</strong>ï¼šå°†é—®é¢˜åˆ†ä¸ºè§„åˆ™ç±»ã€æµç¨‹ç±»ã€æ•°æ®æ„é€ ç±»</li>
</ol>
<p>æ ¹æ®é—®é¢˜ç±»å‹å°†ç”¨æˆ·è¾“å…¥åˆ†æµè‡³ä¸åŒçš„å¤„ç†æµç¨‹ã€‚æˆ‘ä»¬å°†é—®é¢˜åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<p>â— ä¸šåŠ¡è§„åˆ™ç±»ï¼ˆéœ€æ£€ç´¢çŸ¥è¯†åº“ï¼‰</p>
<p>â— æµç¨‹æŒ‡å¼•ç±»ï¼ˆéœ€ç»„åˆé€»è¾‘è¯´æ˜ï¼‰</p>
<p>â— æ•°æ®æ„é€ ç±»ï¼ˆéœ€æ¨èæ„é€ æ–¹æ¡ˆï¼‰</p>
<p>åˆ†ç±»åï¼Œç³»ç»Ÿå¯è°ƒç”¨ç›¸åº”çš„æç¤ºè¯æ¨¡æ¿ä¸å¤„ç†é€»è¾‘ï¼Œæå‡å›ç­”å‡†ç¡®æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b1f61f600d84bd3a717d6447c135a0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ZMjnIlP1LAWJFGuWcyKAuzD9Rs0%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/988e581c8ced45c090f1c3977b9852eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=xqRakHcqR602DfUfptg6ZTZcnpk%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="4">
<li><strong>çŸ¥è¯†åº“ï¼ˆRAGï¼‰</strong> ï¼šæ²‰æ·€ä¸šåŠ¡æ–‡æ¡£ã€FAQã€æµç¨‹è¯´æ˜ï¼Œç²¾å‡†æ£€ç´¢</li>
</ol>
<p>ç”¨äºå­˜å‚¨ä¸šåŠ¡æ–‡æ¡£ã€æµç¨‹è¯´æ˜ã€å¸¸è§é—®é¢˜ç­‰çŸ¥è¯†å†…å®¹ã€‚ä¾¿äºã€‚ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é—®é¢˜ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åŒ¹é…ç›¸å…³å†…å®¹ï¼Œä½œä¸ºç”Ÿæˆå›ç­”çš„ä¾æ®ã€‚</p>




















<table><thead><tr><th/><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td>çŸ¥è¯†åº“æ•°æ®å†…å®¹</td><td>çŸ¥è¯†åº“ä¸Šä¼ æä¾›äº†å¾ˆå¤šæ–‡ä»¶æ ¼å¼ã€åˆ‡ç‰‡æ ¼å¼ï¼ˆåˆ‡ç‰‡ï¼šDifyçŸ¥è¯†åº“åˆ‡ç‰‡æ˜¯æŒ‡å°†ä¸Šä¼ åˆ°Difyå¹³å°çš„çŸ¥è¯†åº“æ–‡æ¡£æŒ‰ä¸€å®šè§„åˆ™åˆ†å‰²æˆæ›´å°ã€æ›´æ˜“ç®¡ç†çš„å†…å®¹å—ï¼ˆç§°ä¸ºâ€œchunksâ€ï¼‰çš„è¿‡ç¨‹ã€‚è¿™äº›åˆ‡ç‰‡æ˜¯çŸ¥è¯†åº“æ£€ç´¢å’Œåº”ç”¨çš„åŸºç¡€å•å…ƒï¼Œä¾¿äºAIæ¨¡å‹åœ¨ç”Ÿæˆå›ç­”æ—¶ç²¾å‡†å¼•ç”¨ç›¸å…³ä¿¡æ¯ã€‚â€Œï¼‰ æ–‡ä»¶ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8e63b3300504fe7a9e0cdba5b55d8e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=5UqEQsEg%2BCBeWKVJYlUWHGYnOLE%3D" alt="" loading="lazy"/> åˆ‡ç‰‡æ ¼å¼ï¼šå¯æœ‰å¤šä¸ªé€‰æ‹©<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/862d9ec5876e4164b644f9710fa85c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ly3y4ZoMJyFV0bIYu6noZTY0yN4%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31d1bd9474764f188597dd47f42beae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XQFt6J%2BZNsOFeYwEXMmWpmupvF8%3D" alt="" loading="lazy"/></td><td/></tr><tr><td>RAGè·å–</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6176e42cf58744919a79994c70f598b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=xekUggToeD8p7bKuq3LMHs8GgPs%3D" alt="" loading="lazy"/>é€šè¿‡é¢„è§ˆå¯æŸ¥çœ‹æ•ˆæœ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da15dcb4a9e542868be411416afbcd92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=j%2Bsqjuh9fGZrLwOQfRf2ylWn9pc%3D" alt="" loading="lazy"/> æ–¹å¼ä¸€ï¼šç›´æ¥è·å– æŒ‰åˆ‡ç‰‡åŒ¹é…æ’åº<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e65c462758114b1fb3a3207c68f60d3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=maUO%2B8j139K4yb5g%2FFfwOqir4ao%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/beefe21418174fa689c462fbdc002959~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=Ar3x%2BUnOK9DBlJKVQMU%2B5eLNNfc%3D" alt="" loading="lazy"/> æ–¹å¼äºŒï¼šå¤§æ¨¡å‹æç¤ºè¯åŒ¹é…<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1735fe4c9da4440880aacb4bba077e8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=VmM8r9UNgY6p7T1BfdxVjiANstg%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e7b8af2d6d940a1981a85842e4dc0ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=0Gu3Ee9qLlOXhhsR%2FoKsGNiymk8%3D" alt="" loading="lazy"/> ç”±äºå¤§æ¨¡å‹åˆ†ææ—¶é—´è¾ƒé•¿ï¼Œä¸”æˆ‘ä»¬çŸ¥è¯†åº“ä¿¡æ¯ä¹Ÿæ¯”è¾ƒå…¨é¢çš„æƒ…å†µä¸‹å°±é‡‡å–åŒ¹é…è¿”å›å³å¯</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b05baa9410f645d59378caf1ed880688~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=1Gz8SG2FMOli1Z74rWeHhmpzZbc%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>çŸ¥è¯†åº“å†…å®¹ç»“æ„å®ç°</p>
<p>â— æ•°æ®æ„é€ çŸ¥è¯†åº“</p>













<table><thead><tr><th>ç»“æ„</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åœºæ™¯ æè¿°+é“¾æ¥ æ­¥éª¤å¯¹åº”çŠ¶æ€ï¼š<strong>ç”¨æ¥åŒ¹é…æ•°æ®æ„é€ </strong> å…¥å‚ä»‹ç»ï¼š<strong>ç”¨æ¥æ¨èå‚æ•°å–å€¼</strong> æ–¹å¼ï¼šç»Ÿè®¡ç›®å‰å¸¸ç”¨æ•°æ®æ„é€ åœºæ™¯æ•´åˆè¾“å‡º <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/944aa66af3b44eed9ce5588cb00fc8ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=0jx80rjjNAgSGakrRP0qKqY5Hmk%3D" alt="" loading="lazy"/></td><td><strong>ä½¿ç”¨åœºæ™¯</strong>: é€€è´§é€€æ¬¾-æ½æ”¶æé€Ÿé€€ å…³é”®æ•°æ®æ„é€ é“¾æ¥: <a href="https://link.juejin.cn?target=https%3A%2F%2Fqe.*****.com%2FdataPt%2FsceneList%2F20570781%2F528%3FdId%3D7700" target="_blank" title="https://qe.*****.com/dataPt/sceneList/20570781/528?dId=7700" ref="nofollow noopener noreferrer">é€€è´§é€€æ¬¾-æ½æ”¶æé€Ÿé€€ æ•°æ®æ„é€ é“¾æ¥</a> æ­¤é“¾æ¥ç”¨äºåˆ›å»ºå’Œç®¡ç†é€€è´§æ¡ˆä¾‹ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e63757463740453a9a00df3e698e33f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XrvRIISDAWvfFM3cbM1eUQKBhPw%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>â— ä¸šåŠ¡çŸ¥è¯†åº“</p>













<table><thead><tr><th>ç»“æ„</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åŠŸèƒ½æ¦‚è¿° é€»è¾‘æ•´ç† æ–¹å¼ï¼šå¯åˆ©ç”¨Cursoré˜…è¯»æŠ€æœ¯æ–¹æ³•ï¼Œæ¥åˆ†æé€»è¾‘è¾“å‡º <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5ef939264354022b0e9cb0cf05e9efc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=MqSdEzVVkVrgl5xQsrb5UYU7JzE%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e14ee620acd4a398fd5d923cec22429~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=THkyfNt5zRUM0R7cv6C4bB4KQGA%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="5">
<li><strong>å¤§è¯­è¨€æ¨¡å‹èŠ‚ç‚¹</strong>ï¼šæ•´åˆä¿¡æ¯ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”</li>
</ol>
<p>æ•´åˆçŸ¥è¯†åº“å†…å®¹ã€å®æ—¶æ•°æ®ä¸ç”¨æˆ·é—®é¢˜ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”ã€‚æˆ‘ä»¬æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œå¹¶é…ç½®æ¸©åº¦ã€æƒ©ç½šå‚æ•°ç­‰ï¼Œä»¥æ§åˆ¶å›ç­”çš„å‡†ç¡®æ€§ä¸åˆ›é€ æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bda6ff8c7e144a1e8f71b126c5f4a6b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=le%2FKwPIEelDrE6QQjy7p8VeGgYI%3D" alt="" loading="lazy"/>æ¨¡å‹é€‰æ‹©å’Œå‚æ•°ï¼šæ¨¡å‹å‚æ•°æ§åˆ¶å“åº”ç”Ÿæˆã€‚ æ¸©åº¦èŒƒå›´ä» 0ï¼ˆç¡®å®šæ€§ï¼‰åˆ° 1ï¼ˆåˆ›é€ æ€§ï¼‰ã€‚ æ ¸é‡‡æ ·é€šè¿‡æ¦‚ç‡é™åˆ¶è¯æ±‡é€‰æ‹©ã€‚é¢‘ç‡æƒ©ç½šå‡å°‘é‡å¤ã€‚å­˜åœ¨æƒ©ç½šé¼“åŠ±æ–°è¯é¢˜ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é¢„è®¾ï¼šç²¾ç¡®ã€å¹³è¡¡æˆ–åˆ›æ„ã€‚  æç¤ºè¯é…ç½®ï¼šä½ çš„ç•Œé¢æ ¹æ®æ¨¡å‹ç±»å‹è‡ªé€‚åº”ã€‚èŠå¤©æ¨¡å‹ä½¿ç”¨æ¶ˆæ¯è§’è‰²ï¼ˆç³»ç»Ÿç”¨äºè¡Œä¸ºï¼Œç”¨æˆ·ç”¨äºè¾“å…¥ï¼ŒåŠ©æ‰‹ç”¨äºç¤ºä¾‹ï¼‰ï¼Œè€Œå®Œæˆæ¨¡å‹ä½¿ç”¨ç®€å•çš„æ–‡æœ¬ç»­å†™ã€‚ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22757720c24e4b8fba5bd58ae679acda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=BlNxBdfGI6nA8E7P4suYONIqHqg%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff11f99ad98e4b71825b5fca644f58b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XcBpPUZRaLiiAxWvlQZFOPHKr0M%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>Tipsï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d88e9c433343a88c743d20b6406bcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=q83IXHszRakEovzwpGqyRWbEAAw%3D" alt="" loading="lazy"/></p>
<ol start="6">
<li><strong>å¯¹è¯ç¼“å­˜</strong>ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼Œè®°å¿†ä¸Šä¸‹æ–‡ï¼Œä½“éªŒæ›´è¿è´¯</li>
</ol>
<p>ä¸ºå®ç°å¤šè½®å¯¹è¯æ”¯æŒï¼Œç³»ç»Ÿé€šè¿‡ç¼“å­˜è®°å½•å½“å‰ä¼šè¯çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚å”®åå•IDï¼‰ï¼Œä½¿å¾—ç”¨æˆ·åœ¨åç»­æé—®ä¸­æ— éœ€é‡å¤è¾“å…¥ï¼Œæå‡äº¤äº’è¿è´¯æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56a622ba9d6e47968ddf3f9ad1c17571~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=6Sdb1IyxxPg3eRMBMrZRcq%2Ba624%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d02c552c749e4f6f934c2f0326344afe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=8EtmWpoAF7iqZ%2FMD8A%2BxTDjV5%2BI%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/679911d580e94d7eaf2c45bceb9df559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=OPtu9FmlYF99vkBiu1adqLUChqA%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<h2 data-id="heading-10">äº”ã€å·²å®ç°åœºæ™¯æ¼”ç¤º</h2>
<h3 data-id="heading-11">ğŸ“Œ åœºæ™¯ä¸€ï¼šå”®åå•å®æ—¶çŠ¶æ€æŸ¥è¯¢</h3>
<p>ç”¨æˆ·è¾“å…¥å”®åå•å·ï¼Œç³»ç»Ÿè‡ªåŠ¨æ‹‰å–æœ€æ–°çŠ¶æ€ã€å¤„ç†äººã€æ—¶é—´èŠ‚ç‚¹ï¼Œå¹¶ç»™å‡ºä¸šåŠ¡è§£é‡Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21c47990bdee4520a312712f642848bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=TtOlx%2B8XbT6rNdZOIwISPTygAqI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">ğŸ“Œ åœºæ™¯äºŒï¼šåŸºäºå•å·çš„ä¸šåŠ¡é€»è¾‘è¿½é—®</h3>
<p>ä¾‹å¦‚ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¸ªå”®åå•ä¸èƒ½èµ°æé€Ÿé€€ï¼Ÿâ€ç³»ç»Ÿç»“åˆå•å·æ•°æ®ä¸ä¸šåŠ¡è§„åˆ™ï¼Œç»™å‡ºæ˜ç¡®åŸå› ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffdebdcd576c434daa66cfdeca800bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=yaT0DBHhTln3AbPc80W5PI8C2O0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">ğŸ“Œ åœºæ™¯ä¸‰ï¼šæ•°æ®æ„é€ æŒ‡å¯¼</h3>
<p>é’ˆå¯¹æµ‹è¯•åœºæ™¯ï¼Œæ¨èæ•°æ®æ„é€ æ–¹æ¡ˆï¼Œå¹¶é™„å¸¦ç¤ºä¾‹é“¾æ¥ä¸å‚æ•°å»ºè®®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fbc567114ed4cb59313a59740b576b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=JDh%2FfBM7tHh43c9xYYpWkNlq0gI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">ğŸ“Œ åœºæ™¯å››ï¼šæ— å•å·çº¯é€»è¾‘ç­”ç–‘</h3>
<p>å³ä½¿æ²¡æœ‰å•å·ï¼Œä¹Ÿèƒ½å›ç­”è¯¸å¦‚â€œä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘è´¨æ£€ï¼Ÿâ€ç­‰é€šç”¨è§„åˆ™é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45c028a890e3435585e115be0a257e0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=Px%2FnkYyUJd7BQbZ%2Fb49SGjmJ7zk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">å…­ã€æ•ˆæœå·²ç°ï¼Œä¼˜åŒ–æŒç»­</h2>
<p>ç›®å‰ï¼Œæ™ºèƒ½åŠ©æ‰‹å·²åˆæ­¥è¦†ç›–å”®åæ ¸å¿ƒé—®ç­”åœºæ™¯ï¼Œå“åº”é€Ÿåº¦æå‡è‡³ç§’çº§ï¼ŒäººåŠ›é‡Šæ”¾æ˜¾è‘—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ï¼š</p>
<ol>
<li>æŒç»­æ‰©å……çŸ¥è¯†åº“ï¼Œè¦†ç›–æ›´å¤šä¸šåŠ¡åˆ†æ”¯</li>
<li>ä¼˜åŒ–é—®é¢˜åˆ†ç±»å‡†ç¡®ç‡ï¼Œæ”¯æŒæ›´ç»†ç²’åº¦é—®ç­”</li>
<li>å¢å¼ºå¤šè½®å¯¹è¯èƒ½åŠ›ï¼Œå¤„ç†å¤æ‚é—®é¢˜é“¾</li>
<li>æ¢ç´¢ä¸ä¸šåŠ¡ç³»ç»Ÿæ·±åº¦é›†æˆï¼Œæ¨åŠ¨æµç¨‹è‡ªåŠ¨åŒ–</li>
</ol>
<hr/>
<p>AIä¸æ˜¯æ›¿ä»£äººåŠ›ï¼Œè€Œæ˜¯<strong>å¢å¼ºäººæ•ˆã€æ²‰æ·€çŸ¥è¯†ã€æ ‡å‡†åŒ–æœåŠ¡</strong>ã€‚å”®åæ™ºèƒ½åŠ©æ‰‹æ­£æ˜¯è¿™ä¸€ç†å¿µçš„è½åœ°å®è·µâ€”â€”è®©ä¸šåŠ¡æ”¯æŒæ›´æ™ºèƒ½ï¼Œè®©å›¢é˜Ÿåä½œæ›´è½»æ¾ã€‚</p>
<p>æœªæ¥ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ¢ç´¢AIåœ¨ä¸šåŠ¡åœºæ™¯ä¸­çš„æ·±åº¦èåˆï¼Œè®©æ¯ä¸€ä¸ªæµç¨‹èŠ‚ç‚¹éƒ½æ‹¥æœ‰â€œæ™ºæ…§æ”¯æŒâ€ã€‚<strong>æ™ºèƒ½å”®åï¼Œåº”ç­”è€Œæ¥ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Fragmentæ·»åŠ ä¸çŠ¶æ€å˜æ›´æ—¶åºå›¾]]></title>    <link>https://juejin.cn/post/7603444191447908386</link>    <guid>https://juejin.cn/post/7603444191447908386</guid>    <pubDate>2026-02-06T08:50:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603444191447908386" data-draft-id="7603355275257626664" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Fragmentæ·»åŠ ä¸çŠ¶æ€å˜æ›´æ—¶åºå›¾"/> <meta itemprop="keywords" content="é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-06T08:50:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹¾å¤ä¸€æ°”æ€"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289955431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Fragmentæ·»åŠ ä¸çŠ¶æ€å˜æ›´æ—¶åºå›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289955431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹¾å¤ä¸€æ°”æ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:50:30.000Z" title="Fri Feb 06 2026 08:50:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Fragmentæ·»åŠ ä¸çŠ¶æ€å˜æ›´æ—¶åºå›¾</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Activity
    participant FragmentManager
    participant FragmentTransaction
    participant FragmentStateManager
    participant Fragment

    Note over Activity,Fragment: Fragmentæ·»åŠ é˜¶æ®µ

    Activity-&gt;&gt;FragmentManager: getSupportFragmentManager()
    FragmentManager--&gt;&gt;Activity: return FragmentManagerå®ä¾‹

    Activity-&gt;&gt;FragmentManager: beginTransaction()
    FragmentManager-&gt;&gt;FragmentTransaction: åˆ›å»ºFragmentTransaction
    FragmentTransaction--&gt;&gt;Activity: return FragmentTransaction

    Activity-&gt;&gt;FragmentTransaction: add(containerId, fragment)
    FragmentTransaction-&gt;&gt;FragmentTransaction: è®°å½•Opæ“ä½œ

    Activity-&gt;&gt;FragmentTransaction: commit()
    FragmentTransaction-&gt;&gt;FragmentManager: æäº¤äº‹åŠ¡

    Note over FragmentManager,Fragment: FragmentçŠ¶æ€ç®¡ç†é˜¶æ®µ

    FragmentManager-&gt;&gt;FragmentManager: executeOps()
    FragmentManager-&gt;&gt;FragmentStateManager: åˆ›å»ºFragmentStateManager(fragment)

    FragmentManager-&gt;&gt;FragmentStateManager: addFragment()
    FragmentStateManager-&gt;&gt;FragmentStateManager: computeExpectedState()

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: INITIALIZING -&gt; ATTACHED

    FragmentStateManager-&gt;&gt;Fragment: onAttach(context)
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆattach
    FragmentStateManager-&gt;&gt;Activity: onAttachFragment(fragment)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: ATTACHED -&gt; CREATED

    FragmentStateManager-&gt;&gt;Fragment: onCreate(savedInstanceState)
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆcreate

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: CREATED -&gt; VIEW_CREATED

    FragmentStateManager-&gt;&gt;Fragment: onCreateView(inflater, container, savedInstanceState)
    Fragment--&gt;&gt;FragmentStateManager: return View
    FragmentStateManager-&gt;&gt;Fragment: onViewCreated(view, savedInstanceState)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: VIEW_CREATED -&gt; ACTIVITY_CREATED

    FragmentStateManager-&gt;&gt;Fragment: onActivityCreated(savedInstanceState)
    Fragment--&gt;&gt;FragmentStateManager: å®ŒæˆactivityCreated

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: ACTIVITY_CREATED -&gt; STARTED

    FragmentStateManager-&gt;&gt;Fragment: onStart()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆstart

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: STARTED -&gt; RESUMED

    FragmentStateManager-&gt;&gt;Fragment: onResume()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆresume

    FragmentStateManager-&gt;&gt;FragmentManager: æ›´æ–°FragmentçŠ¶æ€
    FragmentManager-&gt;&gt;Activity: Fragmentå·²å°±ç»ª

    Note over Activity,Fragment: Fragmentå®Œå…¨æ˜¾ç¤ºï¼Œå¤„äºRESUMEDçŠ¶æ€

    Note over Activity,Fragment: ========== Activityç”Ÿå‘½å‘¨æœŸé©±åŠ¨FragmentçŠ¶æ€å˜æ›´ ==========

    Note over Activity,Fragment: åœºæ™¯1: Activityæš‚åœï¼ˆå¦‚é”å±ã€è·³è½¬åˆ°å…¶ä»–Activityï¼‰

    Activity-&gt;&gt;Activity: onPause()
    Activity-&gt;&gt;FragmentManager: dispatchPause()
    FragmentManager-&gt;&gt;FragmentStateManager: moveToState(STARTED)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: RESUMED -&gt; STARTED

    FragmentStateManager-&gt;&gt;Fragment: onPause()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆpause
    FragmentStateManager-&gt;&gt;FragmentManager: çŠ¶æ€å·²æ›´æ–°

    Note over Activity,Fragment: åœºæ™¯2: Activityåœæ­¢ï¼ˆå®Œå…¨ä¸å¯è§ï¼‰

    Activity-&gt;&gt;Activity: onStop()
    Activity-&gt;&gt;FragmentManager: dispatchStop()
    FragmentManager-&gt;&gt;FragmentStateManager: moveToState(ACTIVITY_CREATED)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: STARTED -&gt; ACTIVITY_CREATED

    FragmentStateManager-&gt;&gt;Fragment: onStop()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆstop
    FragmentStateManager-&gt;&gt;FragmentManager: çŠ¶æ€å·²æ›´æ–°

    Note over Activity,Fragment: åœºæ™¯3: Activityé”€æ¯

    Activity-&gt;&gt;Activity: onDestroy()
    Activity-&gt;&gt;FragmentManager: dispatchDestroy()
    FragmentManager-&gt;&gt;FragmentStateManager: moveToState(INITIALIZING)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: ACTIVITY_CREATED -&gt; VIEW_CREATED

    FragmentStateManager-&gt;&gt;Fragment: onDestroyView()
    Fragment--&gt;&gt;FragmentStateManager: å®ŒæˆdestroyView

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: VIEW_CREATED -&gt; CREATED

    FragmentStateManager-&gt;&gt;Fragment: onDestroy()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆdestroy

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: CREATED -&gt; ATTACHED

    FragmentStateManager-&gt;&gt;Fragment: onDetach()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆdetach

    FragmentStateManager-&gt;&gt;FragmentManager: Fragmentå·²é”€æ¯
    FragmentManager-&gt;&gt;FragmentManager: ç§»é™¤Fragmentå¼•ç”¨

    Note over Activity,Fragment: åœºæ™¯4: Activityé‡æ–°å¯åŠ¨ï¼ˆä»åå°è¿”å›ï¼‰

    Activity-&gt;&gt;Activity: onRestart()
    Activity-&gt;&gt;Activity: onStart()
    Activity-&gt;&gt;FragmentManager: dispatchStart()
    FragmentManager-&gt;&gt;FragmentStateManager: moveToState(STARTED)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: ACTIVITY_CREATED -&gt; STARTED

    FragmentStateManager-&gt;&gt;Fragment: onStart()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆstart

    Activity-&gt;&gt;Activity: onResume()
    Activity-&gt;&gt;FragmentManager: dispatchResume()
    FragmentManager-&gt;&gt;FragmentStateManager: moveToState(RESUMED)

    Note over FragmentStateManager,Fragment: çŠ¶æ€å˜æ›´: STARTED -&gt; RESUMED

    FragmentStateManager-&gt;&gt;Fragment: onResume()
    Fragment--&gt;&gt;FragmentStateManager: å®Œæˆresume
    FragmentStateManager-&gt;&gt;FragmentManager: çŠ¶æ€å·²æ›´æ–°

    Note over Activity,Fragment: Fragmentå†æ¬¡å®Œå…¨æ˜¾ç¤ºï¼Œå¤„äºRESUMEDçŠ¶æ€

    Note over Activity,Fragment: åœºæ™¯5: é…ç½®å˜æ›´ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰

    Activity-&gt;&gt;Activity: onSaveInstanceState()
    Activity-&gt;&gt;FragmentManager: dispatchSaveInstanceState()
    FragmentManager-&gt;&gt;FragmentStateManager: saveState()
    FragmentStateManager-&gt;&gt;Fragment: onSaveInstanceState(outState)
    Fragment--&gt;&gt;FragmentStateManager: ä¿å­˜çŠ¶æ€æ•°æ®

    Note over Activity,Fragment: Activityé”€æ¯å¹¶é‡å»º

    Activity-&gt;&gt;FragmentManager: dispatchDestroy()
    Note over FragmentManager,Fragment: Fragmentæ‰§è¡Œé”€æ¯æµç¨‹ï¼ˆåŒåœºæ™¯3ï¼‰

    Activity-&gt;&gt;Activity: æ–°Activity onCreate()
    Activity-&gt;&gt;FragmentManager: æ¢å¤FragmentManagerçŠ¶æ€
    FragmentManager-&gt;&gt;FragmentStateManager: é‡å»ºFragment
    FragmentStateManager-&gt;&gt;Fragment: onCreate(savedInstanceState)
    Note over FragmentManager,Fragment: Fragmenté‡æ–°æ‰§è¡Œåˆ›å»ºæµç¨‹ï¼ˆåŒåˆå§‹æ·»åŠ é˜¶æ®µï¼‰
</code></pre>
<h3 data-id="heading-1">è¯´æ˜</h3>
<h4 data-id="heading-2">ä¸»è¦æµç¨‹</h4>
<ol>
<li>
<p><strong>äº‹åŠ¡åˆ›å»ºé˜¶æ®µ</strong></p>
<ul>
<li>Activityé€šè¿‡FragmentManagerè·å–FragmentTransaction</li>
<li>è°ƒç”¨add()æ–¹æ³•è®°å½•æ·»åŠ æ“ä½œ</li>
<li>è°ƒç”¨commit()æäº¤äº‹åŠ¡</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€ç®¡ç†é˜¶æ®µ</strong></p>
<ul>
<li>FragmentManageråˆ›å»ºFragmentStateManageræ¥ç®¡ç†FragmentçŠ¶æ€</li>
<li>FragmentStateManagerè´Ÿè´£é©±åŠ¨Fragmentçš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å˜æ›´</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å˜æ›´ï¼ˆå‘ä¸Šï¼‰</strong></p>
<ul>
<li>INITIALIZING â†’ ATTACHEDï¼šè°ƒç”¨onAttach()</li>
<li>ATTACHED â†’ CREATEDï¼šè°ƒç”¨onCreate()</li>
<li>CREATED â†’ VIEW_CREATEDï¼šè°ƒç”¨onCreateView()å’ŒonViewCreated()</li>
<li>VIEW_CREATED â†’ ACTIVITY_CREATEDï¼šè°ƒç”¨onActivityCreated()</li>
<li>ACTIVITY_CREATED â†’ STARTEDï¼šè°ƒç”¨onStart()</li>
<li>STARTED â†’ RESUMEDï¼šè°ƒç”¨onResume()</li>
</ul>
</li>
<li>
<p><strong>Activityé©±åŠ¨FragmentçŠ¶æ€å˜æ›´</strong></p>
<ul>
<li><strong>æš‚åœåœºæ™¯</strong>ï¼šActivity.onPause() â†’ FragmentManager.dispatchPause() â†’ Fragment.onPause()</li>
<li><strong>åœæ­¢åœºæ™¯</strong>ï¼šActivity.onStop() â†’ FragmentManager.dispatchStop() â†’ Fragment.onStop()</li>
<li><strong>é”€æ¯åœºæ™¯</strong>ï¼šActivity.onDestroy() â†’ FragmentManager.dispatchDestroy() â†’ Fragmentä¾æ¬¡æ‰§è¡ŒonDestroyView()ã€onDestroy()ã€onDetach()</li>
<li><strong>æ¢å¤åœºæ™¯</strong>ï¼šActivityé‡å¯æ—¶ï¼Œé€šè¿‡dispatchStart()å’ŒdispatchResume()é©±åŠ¨Fragmentæ¢å¤åˆ°RESUMEDçŠ¶æ€</li>
<li><strong>é…ç½®å˜æ›´</strong>ï¼šActivityåœ¨é”€æ¯å‰ä¿å­˜FragmentçŠ¶æ€ï¼Œé‡å»ºåæ¢å¤Fragment</li>
</ul>
</li>
<li>
<p><strong>FragmentçŠ¶æ€ä¸Activityç”Ÿå‘½å‘¨æœŸçš„å¯¹åº”å…³ç³»</strong></p>
<ul>
<li>Activity RESUMED â†’ Fragment RESUMED</li>
<li>Activity STARTED â†’ Fragment STARTED</li>
<li>Activity CREATED â†’ Fragment ACTIVITY_CREATED</li>
<li>Activity DESTROYED â†’ Fragment INITIALIZING</li>
</ul>
</li>
</ol>
<h4 data-id="heading-3">å…³é”®ç±»èŒè´£</h4>
<ul>
<li><strong>Activity</strong>ï¼šå®¿ä¸»å®¹å™¨ï¼Œç”Ÿå‘½å‘¨æœŸå˜åŒ–æ—¶é€šè¿‡FragmentManageråˆ†å‘äº‹ä»¶é©±åŠ¨FragmentçŠ¶æ€åŒæ­¥å˜æ›´</li>
<li><strong>FragmentManager</strong>ï¼šç®¡ç†Fragmenté›†åˆï¼Œæ¥æ”¶Activityç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¹¶åè°ƒFragmentçŠ¶æ€è½¬æ¢</li>
<li><strong>FragmentTransaction</strong>ï¼šè®°å½•Fragmentæ“ä½œï¼Œæäº¤äº‹åŠ¡</li>
<li><strong>FragmentStateManager</strong>ï¼šç®¡ç†å•ä¸ªFragmentçš„çŠ¶æ€å˜æ›´ï¼Œè°ƒç”¨moveToState()æ‰§è¡ŒçŠ¶æ€è½¬æ¢</li>
<li><strong>Fragment</strong>ï¼šUIç»„ä»¶ï¼Œå“åº”ç”Ÿå‘½å‘¨æœŸå›è°ƒ</li>
</ul>
<h4 data-id="heading-4">çŠ¶æ€è½¬æ¢å…³é”®ç‚¹</h4>
<ul>
<li>Fragmentçš„çŠ¶æ€å§‹ç»ˆä¸ä¼šè¶…è¿‡å…¶å®¿ä¸»Activityçš„çŠ¶æ€</li>
<li>FragmentManageré€šè¿‡dispatchç³»åˆ—æ–¹æ³•ï¼ˆdispatchPause/Stop/Destroy/Start/Resumeï¼‰åŒæ­¥Activityç”Ÿå‘½å‘¨æœŸåˆ°Fragment</li>
<li>FragmentStateManageræ ¹æ®ç›®æ ‡çŠ¶æ€è®¡ç®—éœ€è¦æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åºåˆ—</li>
<li>é…ç½®å˜æ›´æ—¶ï¼ŒFragmentçŠ¶æ€ä¼šè¢«ä¿å­˜å¹¶åœ¨Activityé‡å»ºåæ¢å¤</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ï¼šKotlinä¸­çš„JvmOverloadsæ³¨è§£]]></title>    <link>https://juejin.cn/post/7603376587651940402</link>    <guid>https://juejin.cn/post/7603376587651940402</guid>    <pubDate>2026-02-06T08:53:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603376587651940402" data-draft-id="7603347438013268003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ï¼šKotlinä¸­çš„JvmOverloadsæ³¨è§£"/> <meta itemprop="keywords" content="Kotlin,Java"/> <meta itemprop="datePublished" content="2026-02-06T08:53:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ï¼šKotlinä¸­çš„JvmOverloadsæ³¨è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-06T08:53:42.000Z" title="Fri Feb 06 2026 08:53:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>@JvmOverloads æ˜¯ Kotlin ä¸­ä¸€ä¸ªéå¸¸å®ç”¨ä¸”é‡è¦çš„æ³¨è§£ï¼Œå®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ä¸º Kotlin å‡½æ•°è‡ªåŠ¨ç”Ÿæˆ Java å‹å¥½çš„é‡è½½æ–¹æ³•ï¼Œä»è€Œç®€åŒ– Kotlin ä¸ Java ä¹‹é—´çš„äº’æ“ä½œã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒä½œç”¨ï¼šè§£å†³é»˜è®¤å‚æ•°çš„äº’æ“ä½œæ€§é—®é¢˜</h2>
<p>Kotlin æ”¯æŒå‡½æ•°çš„é»˜è®¤å‚æ•°ï¼Œè¿™æå¤§åœ°æé«˜äº†ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlin ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dialog</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> message: String = <span class="hljs-string">"Default Message"</span>, <span class="hljs-comment">// é»˜è®¤å‚æ•°</span>
    <span class="hljs-keyword">val</span> okButtonText: String = <span class="hljs-string">"OK"</span>          <span class="hljs-comment">// é»˜è®¤å‚æ•°</span>
) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">show</span><span class="hljs-params">()</span></span> { <span class="hljs-comment">/* ... */</span> }
}

</code></pre>
<p>åœ¨ Kotlin ä¸­è°ƒç”¨æ—¶ï¼Œä½ å¯ä»¥éå¸¸çµæ´»åœ°çœç•¥æœ‰é»˜è®¤å€¼çš„å‚æ•°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> dialog1 = Dialog(<span class="hljs-string">"Warning"</span>) <span class="hljs-comment">// message å’Œ okButtonText ä½¿ç”¨é»˜è®¤å€¼</span>
<span class="hljs-keyword">val</span> dialog2 = Dialog(<span class="hljs-string">"Warning"</span>, <span class="hljs-string">"Custom Message"</span>) <span class="hljs-comment">// åªçœç•¥æœ€åä¸€ä¸ªå‚æ•°</span>
<span class="hljs-keyword">val</span> dialog3 = Dialog(<span class="hljs-string">"Warning"</span>, <span class="hljs-string">"Custom Message"</span>, <span class="hljs-string">"Confirm"</span>)
</code></pre>
<p>ç„¶è€Œï¼ŒJava è¯­è¨€æœ¬èº«ä¸æ”¯æŒé»˜è®¤å‚æ•°ã€‚å¦‚æœä¸Šé¢çš„ Dialog ç±»è¢« Java ä»£ç è°ƒç”¨ï¼Œæƒ…å†µå°±å˜å¾—å¾ˆéº»çƒ¦ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java ä»£ç  - æ²¡æœ‰ @JvmOverloads çš„æƒ…å†µ</span>
<span class="hljs-type">Dialog</span> <span class="hljs-variable">dialog1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dialog</span>(<span class="hljs-string">"Warning"</span>); <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼ç¼ºå°‘ message å’Œ okButtonText å‚æ•°</span>

<span class="hljs-comment">// ä½ å¿…é¡»æ˜¾å¼åœ°ä¼ å…¥æ‰€æœ‰å‚æ•°ï¼Œå³ä½¿ä½ æƒ³ç”¨é»˜è®¤å€¼</span>
<span class="hljs-type">Dialog</span> <span class="hljs-variable">dialog2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dialog</span>(<span class="hljs-string">"Warning"</span>, <span class="hljs-string">"Default Message"</span>, <span class="hljs-string">"OK"</span>);
</code></pre>
<p>ä¸ºäº†è®© Java ä¹Ÿèƒ½æ–¹ä¾¿åœ°è°ƒç”¨è¿™äº›å¸¦æœ‰é»˜è®¤å‚æ•°çš„ Kotlin å‡½æ•°ï¼Œ@JvmOverloads æ³¨è§£åº”è¿è€Œç”Ÿã€‚</p>
<h2 data-id="heading-2">@JvmOverloads çš„å·¥ä½œåŸç†</h2>
<p>å½“ä½ åœ¨ä¸€ä¸ª Kotlin æ„é€ å‡½æ•°æˆ–å‡½æ•°ä¸Šæ·»åŠ  @JvmOverloads æ³¨è§£åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºè¯¥å‡½æ•°ç”Ÿæˆä¸€ç³»åˆ—é‡è½½ç‰ˆæœ¬ï¼Œæ¯ä¸ªé‡è½½ç‰ˆæœ¬ä¾æ¬¡çœç•¥å°¾éƒ¨æœ‰é»˜è®¤å€¼çš„å‚æ•°ã€‚</p>
<p>å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬åŠ ä¸Šæ³¨è§£ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dialog</span> <span class="hljs-meta">@JvmOverloads</span> <span class="hljs-keyword">constructor</span>( <span class="hljs-comment">// æ³¨æ„æ³¨è§£åŠ åœ¨ constructor å…³é”®å­—å‰</span>
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> message: String = <span class="hljs-string">"Default Message"</span>,
    <span class="hljs-keyword">val</span> okButtonText: String = <span class="hljs-string">"OK"</span>
) {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>ç°åœ¨ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä»¥ä¸‹ä¸‰ä¸ªæ„é€ å‡½æ•°çš„é‡è½½æ–¹æ³•ï¼ˆä¾› Java è°ƒç”¨ï¼‰ï¼š</p>
<ol>
<li>å…¨å‚æ•°ç‰ˆæœ¬ï¼šDialog(String title, String message, String okButtonText)</li>
<li>çœç•¥æœ€åä¸€ä¸ªé»˜è®¤å‚æ•°ï¼šDialog(String title, String message)</li>
<li>çœç•¥æœ€åä¸¤ä¸ªé»˜è®¤å‚æ•°ï¼šDialog(String title)</li>
</ol>
<p>è¿™æ ·ï¼ŒJava ä»£ç å°±å¯ä»¥åƒè°ƒç”¨æ™®é€š Java æ„é€ å‡½æ•°ä¸€æ ·æ–¹ä¾¿åœ°ä½¿ç”¨äº†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java ä»£ç  - æœ‰ @JvmOverloads çš„æƒ…å†µ</span>
<span class="hljs-type">Dialog</span> <span class="hljs-variable">dialog1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dialog</span>(<span class="hljs-string">"Warning"</span>); <span class="hljs-comment">// å®Œç¾å·¥ä½œï¼</span>
<span class="hljs-type">Dialog</span> <span class="hljs-variable">dialog2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dialog</span>(<span class="hljs-string">"Warning"</span>, <span class="hljs-string">"Custom Message"</span>);
<span class="hljs-type">Dialog</span> <span class="hljs-variable">dialog3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dialog</span>(<span class="hljs-string">"Warning"</span>, <span class="hljs-string">"Custom Message"</span>, <span class="hljs-string">"Confirm"</span>);
</code></pre>
<p>å¯¹äºå‡½æ•°ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlin å‡½æ•°</span>
<span class="hljs-meta">@JvmOverloads</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showToast</span><span class="hljs-params">(message: <span class="hljs-type">String</span>, length: <span class="hljs-type">Int</span> = Toast.LENGTH_SHORT, gravity: <span class="hljs-type">Int</span> = Gravity.CENTER)</span></span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šç”Ÿæˆï¼š</p>
<pre><code class="hljs language-java" lang="java">â€¢ showToast(String message)

â€¢ showToast(String message, <span class="hljs-type">int</span> length)

â€¢ showToast(String message, <span class="hljs-type">int</span> length, <span class="hljs-type">int</span> gravity)
</code></pre>
<h2 data-id="heading-3">è¯­æ³•è¦ç‚¹å’Œæ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p>æ ‡æ³¨ä½ç½®ï¼š
â—¦ å¯¹äºæ„é€ å‡½æ•°ï¼šæ³¨è§£è¦æ”¾åœ¨ constructor å…³é”®å­—ä¹‹å‰ã€‚</p>
<p><code>class MyClass @JvmOverloads constructor(...)</code></p>
<p>â—¦ å¯¹äºæˆå‘˜å‡½æ•°/é¡¶å±‚å‡½æ•°ï¼šç›´æ¥æ”¾åœ¨ fun å…³é”®å­—ä¹‹å‰ã€‚</p>
<p><code>@JvmOverloads fun myFunction(...)</code></p>
</li>
<li>
<p>é»˜è®¤å‚æ•°å¿…é¡»ä»å³å‘å·¦è¿ç»­è®¾ç½®ï¼š@JvmOverloads åªèƒ½ä¸ºå°¾éƒ¨çš„ã€è¿ç»­çš„é»˜è®¤å‚æ•°ç”Ÿæˆé‡è½½ã€‚å¦‚æœä¸­é—´æŸä¸ªå‚æ•°æœ‰é»˜è®¤å€¼ï¼Œè€Œå®ƒå³è¾¹çš„å‚æ•°æ²¡æœ‰é»˜è®¤å€¼ï¼Œåˆ™æ— æ³•ä¸ºä¸­é—´è¿™ä¸ªå‚æ•°ç”Ÿæˆé‡è½½ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹ï¼šé»˜è®¤å€¼ä»å³å‘å·¦</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">example</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">String</span> = <span class="hljs-string">"B"</span>, c: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>)</span></span>
<span class="hljs-comment">// ä¼šç”Ÿæˆ example(a), example(a, b), example(a, b, c)</span>

<span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šé»˜è®¤å€¼ä¸è¿ç»­</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">badExample</span><span class="hljs-params">(a: <span class="hljs-type">Int</span> = <span class="hljs-number">0</span>, b: <span class="hljs-type">String</span>, c: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>)</span></span>
<span class="hljs-comment">// åªèƒ½ç”Ÿæˆ badExample(a, b, c)ï¼Œå› ä¸º b æ²¡æœ‰é»˜è®¤å€¼ï¼Œæ‰“æ–­äº†è¿ç»­æ€§ã€‚</span>
</code></pre>
</li>
<li>
<p>ç”Ÿæˆçš„é‡è½½æ–¹æ³•ä¼šå¢åŠ æ–¹æ³•æ•°ï¼šè™½ç„¶å¸¦æ¥äº†ä¾¿åˆ©ï¼Œä½†å¦‚æœä½ è¿‡åº¦ä½¿ç”¨ï¼ˆå°¤å…¶æ˜¯åœ¨æœ‰å¾ˆå¤šé»˜è®¤å‚æ•°çš„ç±»ä¸­ï¼‰ï¼Œå¯èƒ½ä¼šæ˜¾è‘—å¢åŠ ç±»ä¸­çš„æ–¹æ³•æ•°é‡ï¼ˆå­—èŠ‚ç å±‚é¢ï¼‰ã€‚åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯éœ€è¦ç•™æ„ã€‚</p>
</li>
<li>
<p>Kotlin è‡ªèº«è°ƒç”¨ä¸å—å½±å“ï¼š@JvmOverloads åªæ˜¯ä¸€ä¸ªç»™ç¼–è¯‘å™¨çš„æŒ‡ä»¤ï¼Œç”¨äºç”Ÿæˆ Java äº’æ“ä½œçš„é‡è½½æ–¹æ³•ã€‚åœ¨ Kotlin ä»£ç ä¸­ï¼Œä½ ä»ç„¶äº«å—é»˜è®¤å‚æ•°å¸¦æ¥çš„å…¨éƒ¨ä¾¿åˆ©ï¼Œä¸ä¼šç”Ÿæˆä»»ä½•é¢å¤–çš„ Kotlin æ–¹æ³•ã€‚</p>
</li>
</ol>
<h2 data-id="heading-4">æ€»ç»“</h2>
<h3 data-id="heading-5"><code>@JvmOverloads</code> ä½¿ç”¨å¯¹æ¯”</h3>

























<table><thead><tr><th align="left">åœºæ™¯</th><th align="left">æ²¡æœ‰ <code>@JvmOverloads</code></th><th align="left">æœ‰ <code>@JvmOverloads</code></th></tr></thead><tbody><tr><td align="left"><strong>Kotlin è°ƒç”¨</strong></td><td align="left">å¯è‡ªç”±çœç•¥å°¾éƒ¨é»˜è®¤å‚æ•°</td><td align="left">å¯è‡ªç”±çœç•¥å°¾éƒ¨é»˜è®¤å‚æ•°ï¼ˆæ— å˜åŒ–ï¼‰</td></tr><tr><td align="left"><strong>Java è°ƒç”¨</strong></td><td align="left">å¿…é¡»ä¼ å…¥æ‰€æœ‰éé»˜è®¤å‚æ•°ï¼Œç¹ç</td><td align="left">å¯ä»¥åƒè°ƒç”¨æ™®é€š Java æ–¹æ³•ä¸€æ ·ï¼Œä¼˜é›…åœ°çœç•¥å°¾éƒ¨å‚æ•°</td></tr><tr><td align="left"><strong>å®ç°æ–¹å¼</strong></td><td align="left">-</td><td align="left">ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆä¸€ç³»åˆ—é‡è½½æ–¹æ³•</td></tr></tbody></table>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ@JvmOverloads æ˜¯ä¸€ä¸ªä¸“ä¸ºæå‡ Kotlin ä¸ Java äº’æ“ä½œæ€§è€Œè®¾è®¡çš„è¯­æ³•ç³–ã€‚å®ƒé€šè¿‡è‡ªåŠ¨ç”Ÿæˆé‡è½½æ–¹æ³•ï¼Œè®© Java å¼€å‘è€…èƒ½å¤Ÿæ— ç¼åœ°ä½¿ç”¨ Kotlin ä¸­é‚£äº›å¸¦æœ‰é»˜è®¤å‚æ•°çš„å‡½æ•°å’Œæ„é€ å‡½æ•°ï¼Œæå¤§åœ°æ”¹å–„äº†æ··åˆå¼€å‘é¡¹ç›®çš„ä½“éªŒã€‚ åœ¨è®¾è®¡ä¾›å¤–éƒ¨ï¼ˆå°¤å…¶æ˜¯ Javaï¼‰è°ƒç”¨çš„ API æ—¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—ä½¿ç”¨çš„æ³¨è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>