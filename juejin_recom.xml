<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[React hooks ä¹‹ ä¸€ç¯‡æ–‡ç« æŒæ¡ useState å’Œ useEffect çš„æ ¸å¿ƒæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7589544380519071754</link>    <guid>https://juejin.cn/post/7589544380519071754</guid>    <pubDate>2025-12-31T05:19:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589544380519071754" data-draft-id="7588996730772373504" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React hooks ä¹‹ ä¸€ç¯‡æ–‡ç« æŒæ¡ useState å’Œ useEffect çš„æ ¸å¿ƒæœºåˆ¶"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-31T05:19:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°è¨€è¥¿è¥¿é‡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/332466136029851"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React hooks ä¹‹ ä¸€ç¯‡æ–‡ç« æŒæ¡ useState å’Œ useEffect çš„æ ¸å¿ƒæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/332466136029851/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°è¨€è¥¿è¥¿é‡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T05:19:01.000Z" title="Wed Dec 31 2025 05:19:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šReact Hooks çš„æ ¸å¿ƒä»·å€¼</h2>
<p>åœ¨ React 16.8 ç‰ˆæœ¬å¼•å…¥ <strong>Hooks</strong> ä¹‹å‰ï¼ŒReact å‡½æ•°ç»„ä»¶æ˜¯ <strong>â€œæ— çŠ¶æ€â€</strong> çš„ï¼Œå¼€å‘è€…æ— æ³•ç›´æ¥ç®¡ç†å†…éƒ¨çŠ¶æ€æˆ–æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚å¦‚æœéœ€è¦ä½¿ç”¨è¿™äº›èƒ½åŠ›ï¼Œå°±å¿…é¡»ä½¿ç”¨ç±»ç»„ä»¶ã€‚ç„¶è€Œï¼Œç±»ç»„ä»¶è¯­æ³•å†—é•¿ã€é€»è¾‘å¤ç”¨å›°éš¾ã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å‰²è£‚ä¸šåŠ¡é€»è¾‘ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚</p>
<p><strong>React Hooks çš„å‡ºç°å½»åº•æ”¹å˜äº†è¿™ä¸€å±€é¢</strong>ã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ç¼–å†™ç±»çš„å‰æä¸‹ï¼Œä½¿ç”¨çŠ¶æ€ï¼ˆstateï¼‰å’Œå‰¯ä½œç”¨ï¼ˆeffectsï¼‰ç­‰åŸæœ¬ä»…é™äºç±»ç»„ä»¶çš„èƒ½åŠ›ã€‚</p>
<p>åœ¨ä¼—å¤šå†…ç½®çš„ Hooks ä¸­ï¼Œ<code>useState</code> å’Œ <code>useEffect</code> æ˜¯æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„ä¸¤ä¸ªï¼Œå ªç§°å‡½æ•°å¼ React å¼€å‘çš„ä¸¤å¤§â€œåŸºçŸ³â€ï¼š</p>
<ul>
<li><strong><code>useState</code></strong>Â èµ‹äºˆå‡½æ•°ç»„ä»¶ç®¡ç†æœ¬åœ°çŠ¶æ€çš„èƒ½åŠ›ï¼Œæ˜¯æ„å»ºäº¤äº’å¼ UI çš„èµ·ç‚¹ï¼›</li>
<li><strong><code>useEffect</code></strong>Â ç»Ÿä¸€å¤„ç†å„ç§å‰¯ä½œç”¨é€»è¾‘ï¼Œå®ç°äº†å£°æ˜å¼å‰¯ä½œç”¨ç®¡ç†ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œ<strong>æ·±å…¥ç†è§£ <code>useState</code> å’Œ <code>useEffect</code>ï¼Œä¸ä»…æ˜¯æŒæ¡ React å‡½æ•°ç»„ä»¶å¼€å‘çš„å…³é”®ï¼Œæ›´æ˜¯èµ°å‘ç°ä»£ React å·¥ç¨‹å¼€å‘çš„ç¬¬ä¸€æ­¥</strong>ã€‚æ— è®ºæ˜¯æ„å»ºç®€å•è®¡æ•°å™¨ï¼Œè¿˜æ˜¯å¤æ‚çš„æ•°æ®é©±åŠ¨åº”ç”¨ï¼Œè¿™ä¸¤ä¸ª Hooks éƒ½æ‰®æ¼”ç€ä¸å¯æˆ–ç¼ºçš„è§’è‰²ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šæ¢ç´¢ <code>useState</code></h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ <code>useState</code>ï¼Ÿ</h3>
<p><code>useState</code> æ˜¯ React æä¾›çš„ä¸€ä¸ª <strong>Hookï¼ˆé’©å­ï¼‰</strong> ï¼Œå®ƒè®©<strong>å‡½æ•°ç»„ä»¶æ‹¥æœ‰äº†â€œè®°å¿†â€èƒ½åŠ›</strong>ã€‚</p>
<p>å‡½æ•°å†…çš„æ™®é€šå˜é‡åœ¨å‡½æ•°æ‰§è¡Œåå°±ä¼šè¢«é”€æ¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸‹æ¬¡å†æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œä¸­é—´çš„è¿‡ç¨‹å°±éœ€è¦é‡æ–°æ‰§è¡Œä¸€éã€‚</p>
<p>è€Œåˆ©ç”¨ <code>useState</code> æœºåˆ¶"é’©ä½"æ•°æ®ï¼Œæ­¤æ—¶æ•°æ®å°±å˜æˆçŠ¶æ€ï¼ˆstateï¼‰äº†ï¼Œå³ä½¿é‡æ–°è¿è¡Œå‡½æ•°ï¼Œæ•°æ®ä¹ŸçŠ¶æ€ä¹Ÿä¸ä¼šé‡ç½®ï¼Œé™¤éå¸è½½ç»„ä»¶ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-JSX" lang="JSX"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">CounterDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ™®é€šå˜é‡ï¼šæ¯æ¬¡å‡½æ•°æ‰§è¡Œéƒ½ä¼šé‡ç½®</span>
  <span class="hljs-keyword">let</span> normalCount = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// çŠ¶æ€å˜é‡ï¼šè¢« React "é’©ä½"ï¼Œä¸ä¼šé‡ç½®</span>
  <span class="hljs-keyword">const</span> [hookCount, setHookCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// æ¯æ¬¡ç‚¹å‡»ï¼Œä¸¤ä¸ªè®¡æ•°éƒ½å°è¯• +1</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    normalCount = normalCount + <span class="hljs-number">1</span>;        <span class="hljs-comment">// ä¿®æ”¹æ™®é€šå˜é‡</span>
    <span class="hljs-title function_">setHookCount</span>(hookCount + <span class="hljs-number">1</span>);          <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ™®é€šå˜é‡:'</span>, normalCount);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€å˜é‡:'</span>, hookCount + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œè¿˜æ²¡é‡æ–°æ¸²æŸ“</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">fontFamily:</span> '<span class="hljs-attr">sans-serif</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ™®é€šå˜é‡ vs useState çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ™®é€šå˜é‡ï¼ˆæ¯æ¬¡æ¸²æŸ“é‡ç½®ä¸º 0ï¼‰: {normalCount}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>çŠ¶æ€å˜é‡ï¼ˆæŒä¹…ä¿å­˜ï¼‰: {hookCount}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>ç‚¹å‡» +1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f6a6c1b781d404ea49dbd29583abd5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767763189&amp;x-signature=MFU5p4VEkh9fF7VDZZW%2Fn5FApu4%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p>æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šé‡æ–°åˆå§‹åŒ–æ‰€æœ‰å˜é‡ï¼Œæ— æ³•ä¿ç•™ç”¨æˆ·äº¤äº’æˆ–æ•°æ®å˜åŒ–çš„ç»“æœã€‚ä½†æ˜¯é€šè¿‡ <code>useState</code>ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li>å£°æ˜ä¸€ä¸ª<strong>æŒä¹…åŒ–</strong>çš„çŠ¶æ€å˜é‡</li>
<li>è·å–ä¸€ä¸ªä¸“é—¨ç”¨äº<strong>æ›´æ–°è¯¥çŠ¶æ€</strong>çš„å‡½æ•°</li>
<li>å®ç°<strong>å“åº”å¼ UI</strong>ï¼šå½“çŠ¶æ€æ”¹å˜æ—¶ï¼ŒReact è‡ªåŠ¨é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä½¿è§†å›¾ä¸æ•°æ®ä¿æŒåŒæ­¥</li>
</ul>
<blockquote>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼š<code>useState</code> å°†å‡½æ•°ç»„ä»¶ä»â€œä¸€æ¬¡æ€§å¿«ç…§â€è½¬å˜ä¸ºèƒ½éšç”¨æˆ·äº¤äº’åŠ¨æ€å˜åŒ–çš„<strong>æ´»ç»„ä»¶</strong>ï¼ŒçŠ¶æ€ï¼ˆstateï¼‰æ˜¯å˜åŒ–çš„æ•°æ®ï¼Œä¹Ÿæ˜¯ç»„ä»¶çš„æ ¸å¿ƒã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">2. åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h3>
<p>useState çš„è¯­æ³•ï¼š
<code>const [num, setNum] = useState(åˆå§‹å€¼)</code></p>
<ul>
<li>
<p><strong>çŠ¶æ€å˜é‡ <code>num</code></strong>ï¼šå½“å‰çŠ¶æ€å€¼</p>
</li>
<li>
<p><strong>æ›´æ–°å˜é‡çš„å‡½æ•° <code>setNum</code></strong>ï¼šæ›´æ–°çŠ¶æ€çš„å‡½æ•°</p>
</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è§£æ„èµ‹å€¼ï¼š[å½“å‰çŠ¶æ€, æ›´æ–°å‡½æ•°] = useState(åˆå§‹å€¼)</span>
  <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum(num + 1)}&gt;
      å½“å‰å€¼: {num}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-4"><code>useState</code> æ”¯æŒä¸¤ç§åˆå§‹åŒ–æ–¹å¼ï¼š</h4>
<p>æ–¹å¼ä¸€ï¼šç›´æ¥ä¼ å…¥<strong>åˆå§‹å€¼</strong> é€‚ç”¨äºç®€å•ã€é™æ€çš„åˆå§‹å€¼</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
<p>æ–¹å¼äºŒï¼šä¼ å…¥<strong>åˆå§‹åŒ–å‡½æ•°</strong> å½“çŠ¶æ€åˆå§‹å€¼éœ€è¦ç»è¿‡å¤æ‚è®¡ç®—ï¼Œå°±å¯ä»¥é…ç½®å‡½æ•°æ¥è®¡ç®—</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> num1 = <span class="hljs-number">1</span> + <span class="hljs-number">2</span>;
  <span class="hljs-keyword">const</span> num2 = <span class="hljs-number">2</span> + <span class="hljs-number">3</span>; 
  <span class="hljs-keyword">return</span> num1 + num2; <span class="hljs-comment">// è¿”å› 6</span>
});
</code></pre>
<blockquote>
<p><strong>å…³é”®è¦æ±‚</strong>ï¼š</p>
<ol>
<li>å‡½æ•°å¿…é¡»ä¸º<strong>åŒæ­¥å‡½æ•°</strong>ï¼Œå¼‚æ­¥çš„å‡½æ•°ç»“æœä¸ç¡®å®šï¼Œè€ŒçŠ¶æ€ä¸€å®šè¦æ˜¯ç¡®å®šçš„ã€‚</li>
<li>å‡½æ•°å¿…é¡»æ˜¯<strong>çº¯å‡½æ•°</strong>ï¼šæŒ‡æ¯æ¬¡ä¼ å…¥ç›¸åŒçš„è¾“å…¥å§‹ç»ˆè¿”å›ç›¸åŒçš„è¾“å‡ºï¼Œä¸”æ— å‰¯ä½œç”¨çš„å‡½æ•°ï¼ˆä¸ä¿®æ”¹å¤–éƒ¨çŠ¶æ€ï¼Œä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€ï¼Œä¸æ”¹å˜ä¼ å…¥çš„çŠ¶æ€ï¼‰</li>
</ol>
</blockquote>
<hr/>
<h3 data-id="heading-5">3. çŠ¶æ€æ›´æ–°æœºåˆ¶</h3>
<p>åˆ©ç”¨<code>setState()</code>å‡½æ•°è¿›è¡ŒçŠ¶æ€æ›´æ–°ä¸å•å•æ˜¯â€œä¿®æ”¹æŸä¸ªå˜é‡â€ï¼Œå¹¶ä¸”è§¦å‘äº† React çš„<strong>å“åº”å¼æ›´æ–°å¾ªç¯</strong>ï¼š</p>




















<table><thead><tr><th>æ–¹å¼</th><th>ä»£ç ç¤ºä¾‹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ç›´æ¥ä¼ å€¼</strong></td><td><code>setNum(num + 1)</code></td><td>ç®€å•æ›´æ–°ï¼Œä¸ä¾èµ–æ—§çŠ¶æ€</td></tr><tr><td><strong>å‡½æ•°å¼æ›´æ–°</strong></td><td><code>setNum(prev =&gt; prev + 1)</code></td><td>ç¡®ä¿åŸºäºæœ€æ–°çŠ¶æ€æ›´æ–°ï¼Œé¿å…é—­åŒ…é™·é˜±</td></tr></tbody></table>
<h4 data-id="heading-6">React çš„æ ¸å¿ƒæ€æƒ³ï¼šæ•°æ®é©±åŠ¨è§†å›¾</h4>
<p>React çš„è®¾è®¡å“²å­¦å¯ä»¥ç”¨ä¸€å¥è¯ç²¾å‡†æ¦‚æ‹¬ï¼š<strong>â€œè§†å›¾æ˜¯çŠ¶æ€çš„æ˜ å°„ï¼Œäº¤äº’æ˜¯æ”¹å˜çŠ¶æ€çš„æ‰‹æ®µâ€ â€”â€” View = f(State)</strong></p>
<p>è€Œè¿™å°±æ„å‘³ç€ï¼š<strong>UI ç•Œé¢å®Œå…¨ç”±å½“å‰åº”ç”¨çš„çŠ¶æ€ï¼ˆStateï¼‰å†³å®š</strong>ã€‚åªè¦çŠ¶æ€ç›¸åŒï¼Œæ¸²æŸ“å‡ºçš„ç•Œé¢å°±ä¸€å®šç›¸åŒã€‚è¿™ç§â€œæ•°æ®é©±åŠ¨è§†å›¾â€çš„æ¨¡å¼ï¼Œæ„æˆäº† React å“åº”å¼æ›´æ–°æœºåˆ¶çš„åŸºç¡€ã€‚</p>
<hr/>
<p>å¹¶ä¸”åœ¨ React åº”ç”¨ä¸­ï¼Œä¸€åˆ‡äº¤äº’ä¸æ¸²æŸ“éƒ½å›´ç»•ä»¥ä¸‹ä¸‰ä¸ªåŸºæœ¬è¦ç´ å±•å¼€ï¼š</p>
<p><strong>Stateï¼ˆçŠ¶æ€/æ•°æ®ï¼‰</strong></p>
<ul>
<li>æ˜¯åº”ç”¨çš„â€œå¿ƒè„â€ï¼Œå­˜å‚¨ç€å½“å‰çš„æ•°æ®ï¼ˆä¾‹å¦‚ <code>num = 1</code>ï¼‰ã€‚</li>
<li>åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œé€šå¸¸é€šè¿‡ <code>useState</code>ã€<code>useReducer</code> æˆ–çŠ¶æ€ç®¡ç†åº“æ¥ç®¡ç†ã€‚</li>
<li>State å¿…é¡»è¢«è§†ä¸º<strong>ä¸å¯å˜</strong> â€”â€”ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡ React æä¾›çš„ set å‡½æ•°è¯·æ±‚æ›´æ–°ã€‚</li>
</ul>
<p><strong>Viewï¼ˆè§†å›¾/UIï¼‰</strong></p>
<ul>
<li>ç”¨æˆ·çœ‹åˆ°çš„ç•Œé¢ï¼Œç”± JSX æè¿°å¹¶æœ€ç»ˆè½¬åŒ–ä¸º DOMã€‚</li>
<li>ç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼š<strong>è¾“å…¥æ˜¯ props å’Œ stateï¼Œè¾“å‡ºæ˜¯ UI</strong>ã€‚</li>
<li>æ¯æ¬¡ state æ”¹å˜ï¼ŒReact ä¼šè‡ªåŠ¨é‡æ–°æ‰§è¡Œç»„ä»¶å‡½æ•°ï¼Œç”Ÿæˆæ–°çš„ Viewã€‚</li>
</ul>
<p><strong>Eventï¼ˆäº‹ä»¶/äº¤äº’ï¼‰</strong></p>
<ul>
<li>ç”¨æˆ·å¯¹ç•Œé¢çš„æ“ä½œï¼Œå¦‚ç‚¹å‡»æŒ‰é’®ï¼ˆ<code>onClick</code>ï¼‰ã€è¾“å…¥æ–‡æœ¬ï¼ˆ<code>onChange</code>ï¼‰ç­‰ã€‚</li>
<li>äº‹ä»¶å¤„ç†å‡½æ•°æ˜¯è¿æ¥ç”¨æˆ·è¡Œä¸ºä¸çŠ¶æ€æ›´æ–°çš„æ¡¥æ¢ã€‚</li>
</ul>
<hr/>
<p>è€ŒåŸºäºè¿™ä¸‰ä¸ªåŸºæœ¬è¦ç´ ï¼Œå½¢æˆäº†æ•°æ®é©±åŠ¨çš„é—­ç¯æµç¨‹</p>
<p><strong>State â†’ Viewï¼šæ•°æ®é©±åŠ¨æ˜¾ç¤º</strong></p>
<ul>
<li><strong>å«ä¹‰</strong>ï¼šçŠ¶æ€å†³å®šç•Œé¢é•¿ä»€ä¹ˆæ ·ã€‚</li>
<li><strong>æœºåˆ¶</strong>ï¼šReact æ ¹æ®å½“å‰çš„ State è‡ªåŠ¨è®¡ç®—å¹¶æ¸²æŸ“å‡ºå¯¹åº”çš„ Viewã€‚</li>
</ul>
<blockquote>
<p>è¿™æ˜¯â€œå£°æ˜å¼ç¼–ç¨‹â€çš„ä½“ç°â€”â€”ä½ åªéœ€æè¿°â€œUI åº”è¯¥æ˜¯ä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œå¦‚ä½•ä¸€æ­¥æ­¥æ“ä½œ DOMâ€ã€‚</p>
</blockquote>
<p><strong>View â†’ Eventï¼šè§†å›¾äº§ç”Ÿäº¤äº’</strong></p>
<ul>
<li><strong>å«ä¹‰</strong>ï¼šç”¨æˆ·åœ¨ç•Œé¢ä¸Šè¿›è¡Œæ“ä½œã€‚</li>
<li><strong>æœºåˆ¶</strong>ï¼šç”¨æˆ·åœ¨ View ä¸Šäº¤äº’ï¼ˆæ¯”å¦‚æŒ‰é’®ï¼‰è§¦å‘äº† Eventã€‚</li>
</ul>
<p><strong>Event â†’ Stateï¼šäº‹ä»¶æ”¹å˜æ•°æ®</strong></p>
<ul>
<li><strong>å«ä¹‰</strong>ï¼šäº¤äº’å¯¼è‡´çŠ¶æ€æ›´æ–°ã€‚</li>
<li><strong>æœºåˆ¶</strong>ï¼šäº‹ä»¶å¤„ç†å‡½æ•°è°ƒç”¨ <code>setState</code>ï¼Œå‘ React æå‡ºçŠ¶æ€å˜æ›´è¯·æ±‚ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<code>setState</code> æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šç«‹å³æ”¹å˜å½“å‰ä½œç”¨åŸŸä¸­çš„ state å€¼ï¼Œè€Œæ˜¯å®‰æ’ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“æ—¶ä½¿ç”¨æ–°å€¼ã€‚</p>
</blockquote>
<p>æœ€å<strong>é—­ç¯å½¢æˆï¼šè‡ªåŠ¨é‡æ¸²æŸ“ï¼ˆRe-renderï¼‰</strong> ï¼šç”¨æˆ·äº¤äº’ â†’ è§¦å‘äº‹ä»¶ â†’ æ›´æ–°çŠ¶æ€ â†’ é©±åŠ¨è§†å›¾åˆ·æ–°</p>
<p>è€Œè¿™ä¸ªé—­ç¯è®©æˆ‘ä»¬æ— éœ€æ‰‹åŠ¨æ“ä½œ DOMï¼Œåªéœ€å…³æ³¨â€œçŠ¶æ€å¦‚ä½•å˜åŒ–â€ï¼ŒUI ä¾¿ä¼šè‡ªåŠ¨åŒæ­¥ã€‚</p>
<hr/>
<h3 data-id="heading-7">4. å®è·µæ¡ˆä¾‹åˆ†æï¼šç‚¹å‡»è®¡æ•°å™¨</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> num1 = <span class="hljs-number">1</span> + <span class="hljs-number">2</span>; 
    <span class="hljs-keyword">return</span> num1; <span class="hljs-comment">// åˆå§‹å€¼ = 3</span>
  });

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum((prevNum) =&gt; {
      console.log(prevNum); // æ‰“å°å½“å‰çŠ¶æ€
      return prevNum + 1;   // è¿”å›æ–°çŠ¶æ€
    })}&gt;
      {num}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-8">å…³é”®è®¾è®¡äº®ç‚¹</h4>
<ul>
<li><strong>å‡½æ•°å¼æ›´æ–°</strong>ï¼š<code>setNum(prev =&gt; ...)</code> ç¡®ä¿å³ä½¿å¤šæ¬¡å¿«é€Ÿç‚¹å‡»ï¼Œä¹Ÿèƒ½åŸºäº<strong>æœ€æ–°çŠ¶æ€</strong>è®¡ç®—ã€‚</li>
<li><strong>çº¯å‡½æ•°åˆå§‹åŒ–</strong>ï¼šåˆå§‹å€¼é€šè¿‡çº¯å‡½æ•°è®¡ç®—ï¼Œç¬¦åˆ React çŠ¶æ€ç¡®å®šæ€§åŸåˆ™ã€‚</li>
<li><strong>å“åº”å¼æ ¸å¿ƒ</strong>ï¼šå®Œç¾ä½“ç° <strong>View = f(State)</strong> â€”â€” è§†å›¾æ˜¯çŠ¶æ€çš„çº¯å‡½æ•°æ˜ å°„ã€‚</li>
</ul>
<h2 data-id="heading-9">ç¬¬äºŒéƒ¨åˆ†ï¼šè§£æ<code>useEffect</code></h2>
<h3 data-id="heading-10"><code>useEffect</code>çš„ä½œç”¨</h3>
<p>åœ¨Reactä¸­ï¼Œ<strong><code>useEffect</code>é’©å­ç”¨äºå¤„ç†å‰¯ä½œç”¨</strong>ã€‚è€Œå‰¯ä½œç”¨æŒ‡çš„æ˜¯é‚£äº› å½±å“å¤–éƒ¨ä¸–ç•Œæˆ–ä¾èµ–äºå¤–éƒ¨ä¸–ç•Œçš„æ“ä½œï¼Œä¾‹å¦‚æ•°æ®è·å–ã€è®¢é˜…æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹DOMç­‰ã€‚</p>
<p>å¯¹äºç»„ä»¶è€Œè¨€ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œè¾“å…¥å‚æ•°åº”ç›´æ¥å†³å®šè¾“å‡ºçš„JSXç»“æ„ï¼Œè€Œå‰¯ä½œç”¨åˆ™é€šè¿‡<code>useEffect</code>æ¥å¤„ç†ï¼ˆçº¯å‡½æ•° &lt;--å¯¹ç«‹--&gt; å‰¯ä½œç”¨ï¼‰</p>
<h3 data-id="heading-11">åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h3>
<p>useEffect çš„è¯­æ³•ï¼š<code>useEffect(() =&gt; { return }, [])</code></p>
<p><code>useEffect</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œé€šå¸¸ä½¿ç”¨ç®€æ´çš„ç®­å¤´å‡½æ•°ã€‚</p>
<ul>
<li>åŒ…å«éœ€è¦æ‰§è¡Œçš„å‰¯ä½œç”¨é€»è¾‘ï¼ˆç›‘å¬äº‹ä»¶ã€å¯åŠ¨å®šæ—¶å™¨ç­‰ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°ä¼šåœ¨<strong>ç»„ä»¶æ¸²æŸ“åˆ°å±å¹•ä¹‹å</strong>å¼‚æ­¥æ‰§è¡Œï¼ˆä¸ä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶ï¼‰</li>
<li><strong>returnå‡½æ•°</strong>ï¼šæ¸…ç†å‡½æ•°ï¼Œå¸¸ç”¨äºæ¸…ç†ä¸Šä¸€æ¬¡å‰¯ä½œç”¨ï¼ˆç±»ä¼¼äºVueä¸­çš„<code>onUnmounted</code>ç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶å·²æ¸²æŸ“'</span>);
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'tick'</span>), <span class="hljs-number">1000</span>);
  
  <span class="hljs-comment">// è¿”å›æ¸…ç†å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearInterval</span>(timer);
  };
});
</code></pre>
<p><code>useEffect</code>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç§°ä¸ºä¾èµ–æ•°ç»„ã€‚å†³å®šäº†<code>useEffect</code>ä½•æ—¶æ‰§è¡Œï¼š</p>
<ul>
<li><strong>ç©ºæ•°ç»„ []</strong> ï¼šå½“æ²¡æœ‰æä¾›ä¾èµ–é¡¹æ—¶ï¼Œ<code>useEffect</code>ä»…åœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“åè¿è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”ä¸ä¼šéšç€åç»­çš„æ›´æ–°è€Œé‡æ–°è§¦å‘ï¼ˆç±»ä¼¼äºVueä¸­çš„<code>onMounted</code>ç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰</li>
<li><strong>åŒ…å«ç‰¹å®šå˜é‡çš„æ•°ç»„[var] æˆ– [var1, var2...]</strong> ï¼šæ¯å½“æ•°ç»„ä¸­çš„ä»»ä½•ä¸€ä¸ªå˜é‡å€¼æ”¹å˜æ—¶ï¼Œéƒ½ä¼šè§¦å‘<code>useEffect</code>çš„æ‰§è¡Œ</li>
<li><strong>æ— æ•°ç»„ï¼ˆçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼‰</strong> ï¼šå¦‚æœçœç•¥äº†ä¾èµ–æ•°ç»„ï¼Œé‚£ä¹ˆ<code>useEffect</code>å°†åœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åéƒ½è¿è¡Œï¼ŒåŒ…æ‹¬åˆæ¬¡æŒ‚è½½ä»¥åŠä»»ä½•åç»­æ›´æ–°ï¼ˆç±»ä¼¼äºVueä¸­çš„<code>onUpdated</code>é’©å­ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">å‰¯ä½œç”¨æ¸…ç†</h3>
<p>æ¸…ç†å‰¯ä½œç”¨æ˜¯<code>useEffect</code>çš„ä¸€ä¸ªååˆ†é‡è¦çš„æœºåˆ¶ï¼Œå¦‚æœæ“ä½œä¸å½“å¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ï¼ï¼ï¼</p>
<p>ä¾‹å¦‚ä¸€ä¸ªç»å…¸çš„å®šæ—¶å™¨æ³„æ¼ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å®šæ—¶å™¨å‰¯ä½œç”¨</span>
    <span class="hljs-comment">// æ¯æ¬¡æ‰§è¡ŒuseEffectéƒ½åœ¨æ–°å»ºå®šæ—¶å™¨</span>
    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
    }, <span class="hljs-number">1000</span>);
  }, [num]);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum((prevNum) =&gt; prevNum + 1)}&gt;
        {num}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<p>ç»“æœå¦‚å›¾ï¼ˆæˆ‘ç¨å¾®æ›´æ”¹äº†ä¸€ä¸‹æ ·å¼ï¼Œçœ‹çš„æ›´æ¸…æ¥šï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1549a4949e724c54a9ca7ef91b3ea936~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767763189&amp;x-signature=5aFOdx3wXf%2FWT%2BRAS%2Bap%2By%2B8tDE%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<p>åœ¨è¿™é‡Œï¼Œæ¯æ¬¡<code>num</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå¹¶ä¸”åœ¨ä¸‹æ¬¡<code>num</code>å˜åŒ–å‰æ²¡æœ‰åŠæ—¶æ¸…é™¤æ—§çš„å®šæ—¶å™¨ï¼Œå¯¼è‡´äº†å†…å­˜æ³„æ¼ã€‚</p>
<p>å°†<code>useEffect</code>å†…çš„å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œå¢åŠ æ¸…ç†å‡½æ•°ï¼Œåœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹ä¸€æ¬¡æ‰§è¡Œ<code>useEffect</code>å‰å°±ä¼šå¯¹å‰¯ä½œç”¨è¿›è¡Œæ¸…ç†</p>
<pre><code class="hljs language-jsx" lang="jsx">  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
    }, <span class="hljs-number">1000</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-built_in">clearInterval</span>(timer);<span class="hljs-comment">// æ¸…ç†èµ„æº</span>
    }
  }, [num]);
</code></pre>
<blockquote>
<p><strong>åªè¦ä½ åœ¨ <code>useEffect</code> ä¸­åˆ›å»ºäº†â€œå¤–éƒ¨èµ„æºâ€æˆ–â€œé•¿æœŸè¿è¡Œçš„ä»»åŠ¡â€ï¼Œå°±å¿…é¡»æä¾›æ¸…ç†å‡½æ•°</strong></p>
</blockquote>
<h2 data-id="heading-13">ç»“åˆå®æˆ˜ï¼š</h2>
<p><strong>åœ¨ React ä¸­ä½¿ç”¨ <code>useEffect</code> + <code>useState</code> å®ç°å¼‚æ­¥æ•°æ®è·å–å¹¶æ›´æ–°çŠ¶æ€çš„æ ‡å‡†æ¨¡å¼</strong></p>
<h4 data-id="heading-14">æ ¸å¿ƒç›®çš„ï¼šè®©Â <code>useState</code>Â èƒ½å“åº”å¼‚æ­¥æ•°æ®</h4>
<p>æ ¹æ®ä¸Šæ–‡æˆ‘ä»¬çŸ¥é“ï¼Œ<code>useState</code>Â æœ¬èº«æ˜¯åŒæ­¥çš„ï¼Œä¸èƒ½ç›´æ¥â€œç­‰å¾…â€å¼‚æ­¥æ“ä½œã€‚è€ŒÂ <code>useEffect</code>Â å…è®¸æˆ‘ä»¬åœ¨ç»„ä»¶æŒ‚è½½åï¼ˆæˆ–ä¾èµ–å˜åŒ–æ—¶ï¼‰<strong>æ‰§è¡Œå‰¯ä½œç”¨</strong>ï¼ŒåŒ…æ‹¬<strong>è°ƒç”¨å¼‚æ­¥å‡½æ•°</strong></p>
<p>é€šè¿‡åœ¨ <code>useEffect</code> ä¸­ï¼š</p>
<ol>
<li>è°ƒç”¨å¼‚æ­¥å‡½æ•°</li>
<li>åœ¨å…¶Â <code>.then()</code>Â å›è°ƒä¸­è°ƒç”¨Â <code>setNum(data)</code></li>
<li>React ä¼šè‡ªåŠ¨è§¦å‘<strong>é‡æ–°æ¸²æŸ“</strong>ï¼Œä½¿ UI æ˜¾ç¤ºæœ€æ–°æ•°æ®</li>
</ol>
<p>è¿™å°±å®ç°äº†ï¼š <strong>â€œå¼‚æ­¥è·å–æ•°æ® â†’ æ›´æ–°çŠ¶æ€ â†’ åˆ·æ–°è§†å›¾â€</strong> çš„å®Œæ•´æµç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-15">æ ‡å‡†å¼€å‘æµç¨‹ï¼šå¼‚æ­¥æ•°æ®è·å– + çŠ¶æ€æ›´æ–°</h3>
<h4 data-id="heading-16">1ã€ä½¿ç”¨ <code>useState</code>å®šä¹‰çŠ¶æ€</h4>
<p>ç”¨äºå­˜å‚¨å¼‚æ­¥è·å–çš„æ•°æ®ï¼Œä»¥åŠå¯é€‰çš„åŠ è½½/é”™è¯¯çŠ¶æ€</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);          <span class="hljs-comment">// å­˜å‚¨æ•°æ®</span>
</code></pre>
<hr/>
<h4 data-id="heading-17">2ã€å°è£…å¼‚æ­¥æ•°æ®è·å–å‡½æ•°</h4>
<p>å°†æ•°æ®è¯·æ±‚é€»è¾‘æŠ½ç¦»ä¸ºç‹¬ç«‹å‡½æ•°</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">queryData</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
    <span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œåè°ƒç”¨ resolve(666)</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">666</span>), <span class="hljs-number">2000</span>);
  });
  <span class="hljs-comment">// æå– Promise çš„å†…éƒ¨å€¼ 666 åï¼Œæ‰§è¡Œreturnè¿”å›æ•°æ®</span>
  <span class="hljs-keyword">return</span> data;
}
</code></pre>
<hr/>
<h4 data-id="heading-18">3ã€åœ¨ <code>useEffect</code> ä¸­è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼ˆæŒ‚è½½æ—¶æ‰§è¡Œï¼‰</h4>
<p>ä½¿ç”¨ <code>useEffect</code> åœ¨ç»„ä»¶<strong>æŒ‚è½½å</strong>å‘èµ·è¯·æ±‚ï¼Œå¹¶åœ¨ç»“æœè¿”å›åæ›´æ–°çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">queryData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-comment">// setNum(data) è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œä½¿å¾—ç»„ä»¶å‡½æ•°å†æ¬¡æ‰§è¡Œï¼ŒUIæ˜¾ç¤º666</span>
    <span class="hljs-title function_">setNum</span>(data);
  });
}, []); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„ï¼šä»…åœ¨æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</span>
</code></pre>
<blockquote>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¾èµ–æ•°ç»„ä¸º <code>[]</code>ï¼Œç¡®ä¿åªæ‰§è¡Œä¸€æ¬¡ï¼ˆç±»ä¼¼ Vue çš„ <code>onMounted</code>ï¼‰</li>
<li>ä¸è¦ç›´æ¥åœ¨ç»„ä»¶é¡¶å±‚å†™ <code>await</code>ï¼ˆç»„ä»¶å‡½æ•°å¿…é¡»æ˜¯åŒæ­¥çš„ï¼ï¼‰</li>
</ul>
</blockquote>
<hr/>
<h4 data-id="heading-19">5ã€æ¸²æŸ“ UIï¼ˆä½¿ç”¨çŠ¶æ€å€¼ï¼‰</h4>
<p>ç›´æ¥åœ¨ JSX ä¸­ä½¿ç”¨çŠ¶æ€å˜é‡ï¼š</p>
<pre><code class="hljs language-JSX" lang="JSX"><span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum(prev =&gt; prev + 1)}&gt;
    {num} {/* è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ– */}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<blockquote>
<p>å½“ <code>setNum</code> è¢«è°ƒç”¨ï¼ˆæ— è®ºæ˜¯å¼‚æ­¥è¿˜æ˜¯ç‚¹å‡»ï¼‰ï¼ŒReact ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-20">å®Œæ•´æ ‡å‡†ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-JSX" lang="JSX"><span class="hljs-keyword">import</span> {
    useState,
    useEffect
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">queryData</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">resolve</span>(<span class="hljs-number">666</span>);
        }, <span class="hljs-number">2000</span>);
    });
    <span class="hljs-keyword">return</span> data;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) { 
    <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
    <span class="hljs-comment">// å¢åŠ æ‰“å°å¯è§†åŒ–ä»£ç æ‰§è¡Œæ—¶æœº</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'yyy'</span>)

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å¢åŠ æ‰“å°å¯è§†åŒ–ä»£ç æ‰§è¡Œæ—¶æœº</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'xxx'</span>)
        <span class="hljs-title function_">queryData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
            <span class="hljs-title function_">setNum</span>(data);
        })
    }, [])
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum(prevNum =&gt; prevNum + 1)}&gt;
                {num}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
        <span class="hljs-tag">&lt;/&gt;</span></span>
    )
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf09a01bc28844a9a6e5c1f92f85fa99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767763189&amp;x-signature=yyX9WbQ54AIOv6lOeUnFisP6JLY%3D" alt="åŠ¨ç”»2.gif" loading="lazy"/></p>
<blockquote>
<p>æ‰§è¡Œè¾“å‡ºä¸¤æ¬¡"yyy"å’Œä¸€æ¬¡"xxx"çš„åŸå› ï¼š</p>
<ul>
<li>é¦–æ¬¡é¡µé¢æŒ‚è½½æ¸²æŸ“ï¼Œæ‰§è¡Œç»„ä»¶å‡½æ•°æ‰“å°yyyï¼ŒUIæ˜¾ç¤º0</li>
<li>å½“setNum()è§¦å‘çŠ¶æ€æ”¹å˜æ—¶é‡æ¸²æŸ“ï¼Œç»„ä»¶å‡½æ•°å†æ¬¡æ‰§è¡Œæ‰“å°yyyï¼ŒUIæ˜¾ç¤º666</li>
</ul>
<p>ä½†æ˜¯ç”±äº<code>useEffect</code>æ²¡æœ‰æ·»åŠ ä¾èµ–é¡¹ï¼Œæ‰€ä»¥åªä¼šåœ¨é¡µé¢åˆæ¬¡æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥æ‰“å°ä¸€æ¬¡xxx</p>
</blockquote>
<hr/>
<h3 data-id="heading-21">æ‰§è¡Œæµç¨‹æ—¶é—´çº¿</h3>





























<table><thead><tr><th>æ—¶é—´</th><th>äº‹ä»¶</th></tr></thead><tbody><tr><td>T=0ms</td><td>ç»„ä»¶æŒ‚è½½ â†’ <code>App()</code> æ‰§è¡Œ â†’ <code>num=0</code> â†’ æ¸²æŸ“ <code>0</code></td></tr><tr><td>T=0ms+</td><td><code>useEffect</code> æ‰§è¡Œ â†’ è°ƒç”¨ <code>queryData()</code></td></tr><tr><td>T=2000ms</td><td><code>setTimeout</code> è§¦å‘ â†’ <code>resolve(666)</code></td></tr><tr><td>T=2000ms+</td><td><code>.then</code> æ‰§è¡Œ â†’ <code>setNum(666)</code></td></tr><tr><td>T=2000ms++</td><td>ç»„ä»¶é‡æ–°æ¸²æŸ“ â†’ æ˜¾ç¤º <code>666</code></td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LogicFlow æ’ä»¶é­”æ”¹å®å½•ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é‡å†™åŠ¨æ€åˆ†ç»„ï¼ˆDynamicGroupï¼‰ğŸ› ï¸]]></title>    <link>https://juejin.cn/post/7589568455173062694</link>    <guid>https://juejin.cn/post/7589568455173062694</guid>    <pubDate>2025-12-31T05:40:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589568455173062694" data-draft-id="7589544380517892106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LogicFlow æ’ä»¶é­”æ”¹å®å½•ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é‡å†™åŠ¨æ€åˆ†ç»„ï¼ˆDynamicGroupï¼‰ğŸ› ï¸"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-31T05:40:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©™æŸäºº"/> <meta itemprop="url" content="https://juejin.cn/user/1908407919184670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LogicFlow æ’ä»¶é­”æ”¹å®å½•ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é‡å†™åŠ¨æ€åˆ†ç»„ï¼ˆDynamicGroupï¼‰ğŸ› ï¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407919184670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©™æŸäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T05:40:38.000Z" title="Wed Dec 31 2025 05:40:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å†™åœ¨å¼€å¤´</h2>
<p>å˜¿å˜¿ï¼Œå¤§å®¶å¥½ï¼ğŸ‘‹</p>
<p>ä»Šæ˜¯2025å¹´12æœˆ31æ—¥ä¸Šåˆ 8 æ—¶ 40 åˆ†ï¼Œä¹Ÿæ˜¯2025å¹´æœ€åä¸€å¤©äº†ï¼Œå°ç¼–åšåˆ°ä»Šå¤©ï¼Œ<strong>ä»Šå¹´å°±ä¸åšäº†</strong>ï¼Œæ„Ÿè§‰è¿™è¡Œè¿˜æ˜¯ä¸é€‚åº”ï¼Œè‡ªå·±æ¯å¤©ä¸çŸ¥é“åœ¨åšäº›ä»€ä¹ˆï¼Œå¤©å¤©éƒ½å¿™å¿™å¿™ï¼Œå¾ˆç´¯å¾ˆå´©æºƒï¼Œé’±ä¹Ÿæ²¡èµšåˆ°ï¼Œä¸€ç‚¹çƒ­æƒ…ä¹Ÿæ²¡äº†ã€‚ğŸ˜‹</p>
<p>æœ€è¿‘ï¼Œåœ¨é¡¹ç›®ä¸­é‡åº¦ä½¿ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdidi%2FLogicFlow" target="_blank" title="https://github.com/didi/LogicFlow" ref="nofollow noopener noreferrer">LogicFlow</a>ï¼Œä¸å¾—ä¸è¯´ï¼Œå®ƒçš„æ‰©å±•æ€§æ˜¯çœŸçš„å¼ºã€‚ğŸ’ªğŸ’ªğŸ’ª</p>
<p>ä½†æ˜¯ï¼ˆæ³¨æ„ï¼Œæˆ‘è¦è¯´ä½†æ˜¯äº†ğŸ˜„ï¼‰ï¼Œåœ¨ä½¿ç”¨å®˜æ–¹æä¾›çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Ftutorial%2Fextension%2Fdynamic-group" target="_blank" title="https://site.logic-flow.cn/tutorial/extension/dynamic-group" ref="nofollow noopener noreferrer">åŠ¨æ€åˆ†ç»„</a>ï¼ˆ<code>DynamicGroup</code>ï¼‰æ’ä»¶æ—¶ï¼Œç”±äºå°ç¼–çš„ä¸šåŠ¡åœºæ™¯æ¯”è¾ƒç‰¹æ®Šï¼Œé‡åˆ°äº†ä¸€äº›è®©äººå¤´ç§ƒçš„é—®é¢˜ã€‚</p>
<p>æœ¬ç€ "å¼€æºä¸æ»¡è¶³å°±é­”æ”¹" çš„æå®¢ç²¾ç¥ï¼Œå°ç¼–å†³å®šå¯¹ <code>DynamicGroup</code> æ’ä»¶è¿›è¡Œä¸€æ¬¡æ·±åº¦æ”¹é€ ã€‚</p>
<p>æ‰€ä»¥å‘¢ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯ <code>DynamicGroup</code> æ’ä»¶çš„æ”¹é€ çš„å®Œæ•´è¿‡ç¨‹ã€æºç åˆ†æä»¥åŠé¿å‘æŒ‡å—ï¼Œè¯·è¯¸å›æŒ‰éœ€é£Ÿç”¨å“ˆã€‚</p>
<h2 data-id="heading-1">éœ€æ±‚èƒŒæ™¯ä¸ç—›ç‚¹</h2>
<p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­ï¼Œå°ç¼–éœ€è¦å®ç°ä¸€ä¸ª "æ‰“ç»„ä¸æ‹†ç»„" åŠŸèƒ½ï¼Œä¸ä»…è¦èƒ½æŠŠéƒ¨åˆ†èŠ‚ç‚¹æ¡†åœ¨ä¸€èµ·ç»„æˆä¸€ä¸ªæ•´ä½“åˆ†ç»„ï¼Œä¹Ÿéœ€è¦èƒ½éšæ—¶è¿›è¡Œæ‹†ç»„ï¼ŒæŠŠå­èŠ‚ç‚¹æ”¾å‡ºæ¥ã€‚</p>
<p>åŸºäºè¿™ä¸ªéœ€æ±‚èƒŒæ™¯ï¼Œå°ç¼–åœ¨ LogicFlow å®˜æ–¹æ–‡æ¡£ä¸Šæ‰¾åˆ°äº†ä¸¤ä¸ªæ’ä»¶ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Ftutorial%2Fextension%2Fselection" target="_blank" title="https://site.logic-flow.cn/tutorial/extension/selection" ref="nofollow noopener noreferrer">æ¡†é€‰</a>ï¼ˆSelectionSelectï¼‰ä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Ftutorial%2Fextension%2Fdynamic-group" target="_blank" title="https://site.logic-flow.cn/tutorial/extension/dynamic-group" ref="nofollow noopener noreferrer">åŠ¨æ€åˆ†ç»„</a> ï¼ˆDynamicGroupï¼‰ã€‚</p>
<ul>
<li><strong>SelectionSelect</strong>ï¼šè´Ÿè´£ç”»æ¡†æ¡†é€‰èŠ‚ç‚¹ã€‚</li>
<li><strong>DynamicGroup</strong>ï¼šè´Ÿè´£æŠŠé€‰ä¸­çš„èŠ‚ç‚¹ "æ‰“åŒ…" æˆä¸€ä¸ªç»„ã€‚</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ’ä»¶ç»„åˆä½¿ç”¨ç†è®ºä¸Šèƒ½æ»¡è¶³å°ç¼–çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¤©ä½œä¹‹åˆå±äºï¼ğŸ¤”</p>
<p>ä¸è¿‡ï¼Œåœ¨å®é™…é›†æˆè¿‡ç¨‹ä¸­ï¼Œå°ç¼–å‘ç°å®ƒä»¬è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†ç»†èŠ‚ä¸Šè¿˜æ˜¯æœ‰ç‚¹ "æ°´åœŸä¸æœ"ï¼Œæ— æ³•å®Œå…¨æ»¡è¶³ç»†è…»çš„ä¸šåŠ¡éœ€æ±‚ã€‚äºæ˜¯ï¼Œå°ç¼–å†³å®šæŠŠè¿™ä¸¤ä¸ªæ’ä»¶éƒ½é‡å†™äº†ï¼</p>
<p>å…¶ä¸­ï¼Œæ¡†é€‰æ’ä»¶çš„æ”¹åŠ¨æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯è°ƒæ•´äº†ä¸€ä¸‹æ ·å¼å’Œå¾®å°çš„äº¤äº’é€»è¾‘ï¼Œå°±ä¸åœ¨ä»Šå¤©å±•å¼€ç»†è¯´äº†ã€‚æˆ‘ä»¬é‡ç‚¹è¦èŠçš„ï¼Œ<strong>åŠ¨æ€åˆ†ç»„æ’ä»¶</strong>çš„æ”¹åŠ¨è¿‡ç¨‹ã€‚</p>
<p>ä¸‹é¢ï¼Œç®€è¿°å°ç¼–é‡åˆ°çš„å‡ ä¸ªä¸»è¦é—®é¢˜ï¼š</p>
<ul>
<li><strong>"è¿å"æœºåˆ¶</strong>ï¼šå®˜æ–¹æ’ä»¶é»˜è®¤çš„é€»è¾‘æ˜¯ï¼Œåˆ é™¤åˆ†ç»„æ—¶ï¼Œä¼šå¼ºåˆ¶åˆ é™¤åˆ†ç»„å†…çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚ä½†åœ¨å°ç¼–çš„"æ‹†ç»„"ä¸šåŠ¡é‡Œï¼Œç”¨æˆ·åªæ˜¯æƒ³è§£æ•£åˆ†ç»„ï¼Œä¿ç•™é‡Œé¢çš„å­èŠ‚ç‚¹ã€‚</li>
<li><strong>"è¶Šç‹±"ç°è±¡</strong>ï¼šè™½ç„¶æ’ä»¶æä¾›äº† <code>isRestrict: true</code> æ¥é™åˆ¶èŠ‚ç‚¹æ‹–å‡ºåˆ†ç»„ï¼Œä½†åœ¨å¿«é€Ÿæ‹–æ‹½æ—¶ï¼ŒèŠ‚ç‚¹ç»å¸¸èƒ½"ç©¿å¢™"è€Œå‡ºï¼Œè¿™ä¸ªé—®é¢˜å…¶å®æ˜¯å’Œä¸‹é¢çš„é—®é¢˜åº”è¯¥æ˜¯åŒä¸ªé—®é¢˜ã€‚</li>
<li><strong>"è¯¯è§¦"è·³å‡º</strong>ï¼šå¦‚æœåˆ†ç»„å†…çš„å­èŠ‚ç‚¹åŒ…å«è¾“å…¥æ¡†ï¼Œç‚¹å‡»è¾“å…¥æ¡†èšç„¦æ—¶ï¼Œæ’ä»¶å¶å°”ä¼šè¯¯åˆ¤ä¸º"æ‹–æ‹½ç»“æŸï¼ˆ<code>node:drop</code>ï¼‰"ï¼Œå¯¼è‡´å­èŠ‚ç‚¹è«åå…¶å¦™åœ°è¢«ç§»å‡ºåˆ†ç»„ã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›ç—‡çŠ¶ï¼Œå°ç¼–å†³å®šç»™ <code>DynamicGroup</code> æ’ä»¶å¼€ç‚¹è¯é£Ÿé£Ÿã€‚ğŸ˜</p>
<h2 data-id="heading-2">DynamicGroupæ’ä»¶æºç åˆ†æ</h2>
<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå’±ä»¬å…ˆæ¥çœ‹çœ‹ DynamicGroup æ’ä»¶çš„æ„é€ ï¼Œè¿™ä¸ªæ’ä»¶ç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ–‡ä»¶ç»„æˆï¼Œå’±ä»¬è¿™æ¬¡æ”¹é€ ä¹Ÿæ²¿ç”¨äº†è¿™ä¸ªç»“æ„ï¼š</p>
<ul>
<li><strong><code>index.js</code> (æ ¸å¿ƒé€»è¾‘)</strong>ï¼šæ’ä»¶çš„å…¥å£ï¼Œè´Ÿè´£æ³¨å†Œæ’ä»¶å’Œç›‘å¬å…¨å±€äº‹ä»¶ï¼ˆå¦‚ <code>node:add</code>, <code>node:drop</code>ï¼‰ã€‚å®ƒç»´æŠ¤äº†ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œå†³å®šäº†èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™è¿›åˆ†ç»„ï¼Œä»€ä¹ˆæ—¶å€™å‡ºåˆ†ç»„ã€‚</li>
</ul>
<blockquote>
<p>ğŸ”‰æ’æ’­ä¸€ä¸‹ï¼Œæ’ä»¶æºç ç»´æŠ¤å¾—æŒºå¥½ï¼Œæœ‰éå¸¸æ¸…æ™°çš„ä»£ç æ³¨é‡Šï¼Œå†ç»“åˆAIçš„ååŠ©ï¼Œè®©äººéå¸¸å®¹æ˜“ç†è§£ã€‚ğŸ‘</p>
</blockquote>
<ul>
<li><strong><code>model.js</code> (æ•°æ®æ¨¡å‹)</strong>ï¼šå®šä¹‰åˆ†ç»„çš„æ•°æ®å±æ€§ã€‚æ¯”å¦‚ <code>isRestrict</code>ï¼ˆæ˜¯å¦é™åˆ¶æ‹–æ‹½ï¼‰ã€<code>isCollapsed</code>ï¼ˆæ˜¯å¦æŠ˜å ï¼‰ç­‰çŠ¶æ€éƒ½æ˜¯åœ¨è¿™é‡Œç®¡ç†çš„ã€‚</li>
<li><strong><code>node.js</code> (è§†å›¾æ¸²æŸ“)</strong>ï¼šè´Ÿè´£ç”»å‡ºåˆ†ç»„çš„æ ·å­ï¼ˆSVGï¼‰ã€‚è¿™é‡Œä¹Ÿæ˜¯ç¦»ç”¨æˆ·æœ€è¿‘çš„åœ°æ–¹ï¼Œå¤„ç†å…·ä½“çš„é¼ æ ‡äº¤äº’äº‹ä»¶ï¼ˆå¦‚ <code>mousemove</code>ï¼‰ã€‚</li>
<li><strong><code>utils.js</code> (å·¥å…·å‡½æ•°)</strong>ï¼šæä¾›ä¸€äº›è®¡ç®—å‡ ä½•å…³ç³»çš„è¾…åŠ©æ–¹æ³•ï¼Œæ¯”å¦‚åˆ¤æ–­"è¿™ä¸ªç‚¹æ˜¯ä¸æ˜¯åœ¨é‚£ä¸ªæ¡†é‡Œ"ã€‚</li>
</ul>
<p>ææ¸…æ¥šäº†è¿™äº›ï¼Œå’±ä»¬å°±å¯ä»¥å¯¹ç—‡ä¸‹è¯äº†ï¼</p>
<h2 data-id="heading-3">æ”¹é€ ä¸€ï¼šè§£å†³"è¿å"æœºåˆ¶</h2>
<h3 data-id="heading-4">ç—›ç‚¹æè¿°</h3>
<p>å®˜æ–¹é»˜è®¤çš„é€»è¾‘æ˜¯ï¼š<strong>åˆ†ç»„è¢«åˆ é™¤ = åˆ†ç»„å†…çš„æ‰€æœ‰å­èŠ‚ç‚¹ä¸€èµ·è¢«åˆ é™¤</strong>ã€‚</p>
<p>å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a54c94dfc364f4a99843be8d8babcc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764438&amp;x-signature=jffwEGWDq6xPuaeMBpqtnKWaRK0%3D" alt="123102.gif" loading="lazy"/></p>
<p>ä½†åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œç”¨æˆ·ç‚¹å‡»åˆ é™¤åˆ†ç»„ï¼Œå¯èƒ½åªæ˜¯æƒ³"è§£æ•£"è¿™ä¸ªç»„ï¼Œè€Œä¸æ˜¯æŠŠé‡Œé¢çš„ä¸šåŠ¡å­èŠ‚ç‚¹ä¹Ÿåˆ äº†ã€‚</p>
<h3 data-id="heading-5">æºç å®šä½</h3>
<p>æ‰“å¼€ <code>index.js</code>ï¼Œæ‰¾åˆ° <code>removeNodeFromGroup</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®˜æ–¹æºç é€»è¾‘</span>
removeNodeFromGroup = <span class="hljs-function">(<span class="hljs-params">{ data: node, model }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (model.<span class="hljs-property">isGroup</span> &amp;&amp; node.<span class="hljs-property">children</span>) {
    node.<span class="hljs-property">children</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childId</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeGroupMap</span>.<span class="hljs-title function_">delete</span>(childId);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">lf</span>.<span class="hljs-title function_">deleteNode</span>(childId); <span class="hljs-comment">// ğŸ‘ˆ åœ¨è¿™é‡Œï¼ç›´æ¥æŠŠå­èŠ‚ç‚¹å¹²æ‰äº†</span>
    });
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h3 data-id="heading-6">æ”¹é€ æ–¹æ¡ˆ</h3>
<p>å’±ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªé…ç½®é¡¹ <code>retainChildren</code>ï¼ˆä¿ç•™å­èŠ‚ç‚¹ï¼‰ã€‚åœ¨åˆ é™¤å‰ï¼Œæ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªå±æ€§ï¼Œå¦‚æœä¸º <code>true</code>ï¼Œå°±åªè§£é™¤å…³ç³»ï¼Œä¸åˆ èŠ‚ç‚¹ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦å¦‚æ­¤åšâ“</p>
<p>å› ä¸ºå°ç¼–è¿˜æœ‰å¦å¤–çš„ä¸šåŠ¡éœ€æ±‚æ˜¯å³é”®åˆ é™¤èŠ‚ç‚¹åŠŸèƒ½ï¼Œè¿™ä¸ªæ“ä½œå°±éœ€è¦æŠŠå­èŠ‚ç‚¹ä¹Ÿä¸€èµ·åˆ é™¤äº†ï¼Œæ‰€ä»¥å¢åŠ é…ç½®æ§åˆ¶çš„å½¢å¼æ›´åŠ çµæ´»ä¸€äº›ã€‚</p>
<p>ä¿®æ”¹ <code>index.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ”¹é€ åä»£ç é€»è¾‘</span>
removeNodeFromGroup = <span class="hljs-function">(<span class="hljs-params">{ data: node, model }</span>) =&gt;</span> {
  <span class="hljs-comment">// è·å–é…ç½®å±æ€§</span>
  <span class="hljs-keyword">const</span> retainChildren = model.<span class="hljs-property">properties</span> &amp;&amp; model.<span class="hljs-property">properties</span>.<span class="hljs-property">retainChildren</span>;
  <span class="hljs-keyword">if</span> (model.<span class="hljs-property">isGroup</span> &amp;&amp; node.<span class="hljs-property">children</span>) {
    node.<span class="hljs-property">children</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childId</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeGroupMap</span>.<span class="hljs-title function_">delete</span>(childId); <span class="hljs-comment">// è§£é™¤æ˜ å°„å…³ç³»</span>
      <span class="hljs-comment">// å…³é”®åˆ¤æ–­ï¼šåªæœ‰ä¸ä¿ç•™æ—¶ï¼Œæ‰åˆ é™¤å­èŠ‚ç‚¹</span>
      <span class="hljs-keyword">if</span> (!retainChildren) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lf</span>.<span class="hljs-title function_">deleteNode</span>(childId);
      }
    });
  }
  <span class="hljs-comment">// ... åç»­é€»è¾‘ä¸å˜</span>
};
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºåˆ†ç»„æ—¶ï¼Œåªè¦åŠ ä¸Š <code>properties: { retainChildren: true }</code>ï¼Œå°±èƒ½å®ç°"æ‹†ç»„"æ•ˆæœäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f20a90ea8e94c51bb18a9969b8ca4c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764438&amp;x-signature=fgZavwdZhSScgSTC%2FDCXlj6s8tA%3D" alt="123101.gif" loading="lazy"/></p>
<h2 data-id="heading-7">æ”¹é€ äºŒï¼šæ‹’ç»"è¯¯è§¦"è·³å‡º</h2>
<h3 data-id="heading-8">ç—›ç‚¹æè¿°</h3>
<p>å¦‚æœä½ çš„èŠ‚ç‚¹é‡ŒåŒ…å«è¾“å…¥æ¡†ï¼ˆHTML èŠ‚ç‚¹ï¼‰ï¼Œå½“ä½ ç‚¹å‡»è¾“å…¥æ¡†èšç„¦æ—¶ï¼ŒLogicFlow å¯èƒ½ä¼šè§¦å‘ <code>node:drop</code> äº‹ä»¶ï¼ˆå› ä¸ºå®ƒè®¤ä¸ºä½ å®Œæˆäº†ä¸€æ¬¡äº¤äº’ï¼‰ã€‚</p>
<p>å®˜æ–¹æ’ä»¶åœ¨ç›‘å¬ <code>node:drop</code> æ—¶ï¼Œä¼šé‡æ–°è®¡ç®—èŠ‚ç‚¹åº”è¯¥å±äºå“ªä¸ªåˆ†ç»„ã€‚ç»“æœå°±æ˜¯ï¼š<strong>ç‚¹äº†ä¸€ä¸‹è¾“å…¥æ¡†ï¼Œæ’ä»¶è¯¯åˆ¤ä½ æŠŠèŠ‚ç‚¹ç§»èµ°äº†ï¼Œç›´æ¥æŠŠå®ƒè¸¢å‡ºäº†åˆ†ç»„ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8202b09fe314b5b812eecd24a54bf79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764438&amp;x-signature=vhN49%2BBGsgkmVGGPGy3uoSV7f64%3D" alt="123103.gif" loading="lazy"/></p>
<h3 data-id="heading-9">æºç å®šä½</h3>
<p>æ‰“å¼€ <code>index.js</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>addNodeToGroup</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®˜æ–¹æºç é€»è¾‘</span>
addNodeToGroup = <span class="hljs-function">(<span class="hljs-params">node</span>) =&gt;</span> {
  <span class="hljs-comment">// ... è®¡ç®—èŠ‚ç‚¹å½“å‰çš„ä½ç½® bounds</span>
  
  <span class="hljs-keyword">const</span> preGroupId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeGroupMap</span>.<span class="hljs-title function_">get</span>(node.<span class="hljs-property">id</span>); <span class="hljs-comment">// åŸæ¥çš„ç»„</span>
  <span class="hljs-keyword">const</span> targetGroup = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getGroupByBounds</span>(bounds, node); <span class="hljs-comment">// ç°åœ¨ä½ç½®å¯¹åº”çš„ç»„</span>
  
  <span class="hljs-keyword">if</span> (preGroupId) {
    <span class="hljs-comment">// ğŸ‘ˆ é—®é¢˜åœ¨è¿™é‡Œï¼šåªè¦æœ‰åŸåˆ†ç»„ï¼Œå®ƒå°±é»˜è®¤å…ˆç§»é™¤ï¼Œå†çœ‹è¦ä¸è¦åŠ å…¥æ–°ç»„</span>
    <span class="hljs-comment">// å¦‚æœè®¡ç®—æœ‰äº›è®¸è¯¯å·®ï¼Œæˆ–è€…é€»è¾‘ä¸å¤Ÿä¸¥è°¨ï¼ŒèŠ‚ç‚¹å°±â€œä¸¢â€äº†</span>
    <span class="hljs-keyword">const</span> group = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lf</span>.<span class="hljs-title function_">getNodeModelById</span>(preGroupId);
    group.<span class="hljs-title function_">removeChild</span>(node.<span class="hljs-property">id</span>); 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeGroupMap</span>.<span class="hljs-title function_">delete</span>(node.<span class="hljs-property">id</span>);
  }
  
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ <code>node:drop</code> äº‹ä»¶è¢«è§¦å‘æ—¶è¢«è°ƒç”¨ã€‚</p>
<h3 data-id="heading-10">æ”¹é€ æ–¹æ¡ˆ</h3>
<p>é€»è¾‘å¾ˆç®€å•ï¼š<strong>å¦‚æœèŠ‚ç‚¹åŸæ¥çš„ç»„å’Œç°åœ¨çš„ç»„æ˜¯åŒä¸€ä¸ªï¼Œé‚£å°±å•¥ä¹Ÿåˆ«åŠ¨ï¼</strong> ç¨³ä½åˆ«æµªï¼ğŸŒŠ</p>
<p>ä¿®æ”¹ <code>index.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ”¹é€ åä»£ç é€»è¾‘</span>
addNodeToGroup = <span class="hljs-function">(<span class="hljs-params">node</span>) =&gt;</span> {
  <span class="hljs-comment">// ... å‰é¢è·å– bounds é€»è¾‘ä¸å˜</span>

  <span class="hljs-keyword">const</span> preGroupId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeGroupMap</span>.<span class="hljs-title function_">get</span>(node.<span class="hljs-property">id</span>);
  <span class="hljs-keyword">const</span> targetGroup = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getGroupByBounds</span>(bounds, node);
  <span class="hljs-keyword">const</span> targetGroupId = targetGroup ? targetGroup.<span class="hljs-property">id</span> : <span class="hljs-literal">undefined</span>;

  <span class="hljs-comment">// æ–°å¢æ ¸å¿ƒåˆ¤æ–­ï¼Œç›´æ¥ return æ‰ï¼</span>
  <span class="hljs-keyword">if</span> (preGroupId === targetGroupId) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// ... ä¸‹é¢æ‰æ˜¯çœŸæ­£çš„ç§»åŠ¨é€»è¾‘</span>
  <span class="hljs-keyword">if</span> (preGroupId) {
    <span class="hljs-comment">// ... ç§»é™¤æ—§ç»„é€»è¾‘</span>
  }
  <span class="hljs-keyword">if</span> (targetGroup) {
    <span class="hljs-comment">// ... åŠ å…¥æ–°ç»„é€»è¾‘</span>
  }
};
</code></pre>
<p>è¿™æ ·å­å°±æå®šäº†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b256499ba7d45168c44cd751c75fec8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764438&amp;x-signature=2gcSCCJptQ8hOzuL3mOdF8C2vrI%3D" alt="123104.gif" loading="lazy"/></p>
<h2 data-id="heading-11">æ”¹é€ ä¸‰ï¼š"è¶Šç‹±"ç°è±¡ä¹‹ç»å¯¹é˜²å¾¡</h2>
<h3 data-id="heading-12">ç—›ç‚¹æè¿°</h3>
<p>DynamicGroup æ’ä»¶æ”¯æŒè®¾ç½® <code>isRestrict: true</code> æ¥é™åˆ¶å­èŠ‚ç‚¹ä¸èƒ½æ‹–å‡ºåˆ†ç»„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9d985306c1648c2b87fff1899489a6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764438&amp;x-signature=x66F2s5Uc9epYmWYHHzU2lAWWcA%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªé—®é¢˜æŒºå¥‡æ€ªçš„ï¼Œå°ç¼–åœ¨ç¾¤é‡Œåé¦ˆç»™è¿‡å®˜æ–¹ç»´æŠ¤äººå‘˜ï¼Œä½†æ˜¯ä»–ä»¬å¥½åƒæ²¡æœ‰å®šä½åˆ°è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å°ç¼–æœ¬åœ°ä¹Ÿç¡®å®æ¯”è¾ƒéš¾å¤ç°ï¼Œåªä¼šå¶å°”å‡ºç°ã€‚ä½†æ˜¯å‘¢ï¼Œå°ç¼–çš„æµ‹è¯•åŒå­¦å´èƒ½ä¸€æ¬¡ä¸€æ¬¡çš„å¤ç°ç»™å°ç¼–çœ‹ï¼Œè¿™ç§é—®é¢˜æœ€éš¾å—äº†ã€‚ğŸ˜­</p>
<p>é¢å¯¹é“è¯ï¼Œå°ç¼–ä¹Ÿå¾ˆæ— å¥ˆï¼Œåªèƒ½è¯·AIæ¥ååŠ©äº†ï¼Œæˆ‘è®©AIå¤§è‡´åˆ†æäº†æ•´ä¸ªæºç æƒ…å†µã€‚</p>
<p>é™åˆ¶å­èŠ‚ç‚¹çš„æ‹–åŠ¨èŒƒå›´åŸç†å¤§æ¦‚æ˜¯åœ¨ <code>graphModel.addNodeMoveRules</code> é‡ŒåŠ è§„åˆ™ã€‚</p>
<p>ä½†æ˜¯ï¼è¿™ä¸ªè§„åˆ™æ ¡éªŒæ˜¯åŸºäº"ä¸‹ä¸€æ¬¡ä½ç½®æ˜¯å¦åˆæ³•"æ¥æ‹¦æˆªçš„ã€‚å¦‚æœä½ é¼ æ ‡ç”©å¾—ç‰¹åˆ«å¿«ï¼ˆæ¯”å¦‚é«˜ DPI é¼ æ ‡ï¼‰ï¼Œ<code>deltaX/deltaY</code> å¾ˆå¤§ï¼Œç›´æ¥è·³è¿‡äº†è¾¹ç•Œæ£€æµ‹ï¼ŒèŠ‚ç‚¹å°±ä¼š"ç©¿å¢™"è€Œå‡ºã€‚</p>
<h3 data-id="heading-13">æºç å®šä½</h3>
<p>è¿™æ¬¡å’±ä»¬è¦å»è§†å›¾å±‚ <code>node.js</code> æ–‡ä»¶ã€‚å› ä¸ºè§„åˆ™æ‹¦æˆªï¼ˆModel å±‚ï¼‰å·²ç»é˜²ä¸ä½äº†ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ¸²æŸ“å±‚ï¼ˆView å±‚ï¼‰åšæœ€åçš„å…œåº•ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ç›‘å¬ <strong><code>node:mousemove</code></strong> äº‹ä»¶ï¼Œè¿™æ˜¯èŠ‚ç‚¹ç§»åŠ¨æœ€é¢‘ç¹è§¦å‘çš„åœ°æ–¹ã€‚</p>
<h3 data-id="heading-14">æ”¹é€ æ–¹æ¡ˆ</h3>
<p>åœ¨ <code>node.js</code> æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é‡å†™ <code>onNodeMouseMove</code> æ–¹æ³•ï¼Œå¹¶åœ¨ç»„ä»¶æŒ‚è½½æ—¶ï¼ˆ<code>componentDidMount</code>ï¼‰ç›‘å¬å®ƒã€‚</p>
<p><strong>é€»è¾‘æ ¸å¿ƒ</strong>ï¼š</p>
<ol>
<li>å®æ—¶è®¡ç®—èŠ‚ç‚¹çš„æ–°ä½ç½®ã€‚</li>
<li>åˆ¤æ–­æ˜¯å¦è¶…å‡ºäº†åˆ†ç»„çš„è¾¹ç•Œã€‚</li>
<li>å¦‚æœè¶…å‡ºï¼Œ<strong>å¼ºåˆ¶</strong>å°†åæ ‡ä¿®æ­£å›è¾¹ç•Œå†…ï¼ˆæš´åŠ›ä¿®æ­£ï¼‰ã€‚</li>
<li>â°<strong>åŒæ­¥æ›´æ–°è¿çº¿</strong>ï¼ˆè¿™ä¸€ç‚¹å¾ˆå®¹æ˜“æ¼ï¼Œå¦‚æœä¸æ›´è¿çº¿ï¼ŒèŠ‚ç‚¹å›å»äº†ï¼Œçº¿è¿˜åœ¨å¤–é¢ï¼‰ã€‚</li>
</ol>
<p>ä¿®æ”¹ <code>node.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ”¹é€ åä»£ç é€»è¾‘</span>

<span class="hljs-comment">// 1. åœ¨ component ç»‘å®šäº‹ä»¶</span>
<span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">componentDidMount</span>();
  <span class="hljs-comment">// ç›‘å¬æ›´åº•å±‚çš„ mousemove</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">graphModel</span>.<span class="hljs-property">eventCenter</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"node:mousemove"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onNodeMouseMove</span>);
}

<span class="hljs-comment">// 2. æ ¸å¿ƒå¤„ç†é€»è¾‘</span>
<span class="hljs-title function_">onNodeMouseMove</span>(<span class="hljs-params">{ data }</span>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">model</span>: curGroup, graphModel } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
  <span class="hljs-keyword">const</span> model = graphModel.<span class="hljs-title function_">getNodeModelById</span>(data.<span class="hljs-property">id</span>); <span class="hljs-comment">// å½“å‰æ‹–åŠ¨çš„èŠ‚ç‚¹</span>

  <span class="hljs-comment">// åªæœ‰å¼€å¯äº†é™åˆ¶ï¼Œä¸”æ˜¯è‡ªå®¶å­©å­ï¼Œæ‰ç®¡</span>
  <span class="hljs-keyword">if</span> (curGroup.<span class="hljs-property">children</span>.<span class="hljs-title function_">has</span>(model.<span class="hljs-property">id</span>) &amp;&amp; curGroup.<span class="hljs-property">isRestrict</span>) {
    <span class="hljs-keyword">const</span> groupBounds = curGroup.<span class="hljs-title function_">getBounds</span>();
    <span class="hljs-keyword">const</span> nodeBounds = model.<span class="hljs-title function_">getBounds</span>();
    <span class="hljs-keyword">const</span> padding = <span class="hljs-number">10</span>; <span class="hljs-comment">// å†…è¾¹è·ï¼Œåˆ«è´´å¾—å¤ªæ­»</span>

    <span class="hljs-keyword">let</span> newX = model.<span class="hljs-property">x</span>;
    <span class="hljs-keyword">let</span> newY = model.<span class="hljs-property">y</span>;

    <span class="hljs-comment">// Xè½´ æš´åŠ›ä¿®æ­£</span>
    <span class="hljs-keyword">if</span> (nodeBounds.<span class="hljs-property">minX</span> &lt; groupBounds.<span class="hljs-property">minX</span> + padding) {
      newX = groupBounds.<span class="hljs-property">minX</span> + padding + model.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nodeBounds.<span class="hljs-property">maxX</span> &gt; groupBounds.<span class="hljs-property">maxX</span> - padding) {
      newX = groupBounds.<span class="hljs-property">maxX</span> - padding - model.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">// Yè½´ æš´åŠ›ä¿®æ­£</span>
    <span class="hljs-keyword">if</span> (nodeBounds.<span class="hljs-property">minY</span> &lt; groupBounds.<span class="hljs-property">minY</span> + padding) {
      newY = groupBounds.<span class="hljs-property">minY</span> + padding + model.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nodeBounds.<span class="hljs-property">maxY</span> &gt; groupBounds.<span class="hljs-property">maxY</span> - padding) {
      newY = groupBounds.<span class="hljs-property">maxY</span> - padding - model.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">// å¦‚æœä½ç½®è¢«æˆ‘ä»¬å¼ºè¡Œä¿®æ­£äº†</span>
    <span class="hljs-keyword">if</span> (newX !== model.<span class="hljs-property">x</span> || newY !== model.<span class="hljs-property">y</span>) {
      <span class="hljs-comment">// ç§»åŠ¨èŠ‚ç‚¹</span>
      model.<span class="hljs-title function_">moveTo</span>(newX, newY);
      
      <span class="hljs-comment">// å…³é”®ï¼šæ‰‹åŠ¨æ›´æ–°è¿çº¿ï¼</span>
      <span class="hljs-comment">// å¦åˆ™ä¼šå‡ºç°èŠ‚ç‚¹è¢«å¢™æŒ¡ä½äº†ï¼Œä½†è¿çº¿è·Ÿç€é¼ æ ‡é£å‡ºå»äº†çš„è¯¡å¼‚ç”»é¢ï¼Œéå¸¸ç¥å¥‡ğŸ’¥</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateRelatedEdges</span>(model, graphModel);
    }
  }
}

<span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šæ›´æ–°è¿çº¿</span>
<span class="hljs-title function_">updateRelatedEdges</span>(<span class="hljs-params">model, graphModel</span>) {
  <span class="hljs-keyword">const</span> edges = graphModel.<span class="hljs-title function_">getNodeEdges</span>(model.<span class="hljs-property">id</span>);
  edges.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">edge</span>) =&gt;</span> {
    <span class="hljs-comment">// é‡æ–°è®¡ç®—å¹¶è®¾ç½®è¿çº¿çš„èµ·ç‚¹/ç»ˆç‚¹</span>
    <span class="hljs-keyword">if</span> (edge.<span class="hljs-property">sourceNodeId</span> === model.<span class="hljs-property">id</span>) {
       <span class="hljs-comment">// ... updateStartPoint é€»è¾‘</span>
    }
    <span class="hljs-keyword">if</span> (edge.<span class="hljs-property">targetNodeId</span> === model.<span class="hljs-property">id</span>) {
       <span class="hljs-comment">// ... updateEndPoint é€»è¾‘</span>
    }
  });
}
</code></pre>
<p>è¿™é‡Œçš„æ”¹é€ å¤§éƒ¨åˆ†æ˜¯AIåœ¨å¸®æˆ‘å†™çš„ï¼Œæˆ‘åªæ˜¯æœ€ç»ˆç¡®å®šä¸€ä¸‹ä»£ç é€»è¾‘çš„åˆç†æ€§ï¼Œä¸æ²¡æœ‰å¤ªç¦»è°±å’Œè¾¹ç•ŒæŠŠæ§ï¼Œè¿˜éœ€è¦åœ¨é¡µé¢è¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œæœ€ç»ˆï¼Œç¡®å®šåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ‰äº¤ç”±å°ç¼–çš„æµ‹è¯•åŒå­¦å»éªŒè¯ï¼Œæœ€ç»ˆä¹Ÿé¡ºåˆ©é€šè¿‡éªŒè¯ã€‚ğŸ˜€</p>
<p>è¿™é‡Œè¿˜æ˜¯å¾—è¡¨æ‰¬AIä¸€ç•ªå•Šï¼Œè¿™ä¸ªé—®é¢˜å‰åå¤§æ¦‚èŠ±äº†åå‡ äºŒååˆ†é’Ÿå°±æå®šäº†ï¼Œè¦æ˜¯æ²¡æœ‰AIï¼Œé äººå·¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ—¶é—´ä¸Šåº”è¯¥ä¸æ•¢æƒ³è±¡å§ã€‚ğŸ¤”</p>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>é€šè¿‡å¯¹ <code>DynamicGroup</code> æ’ä»¶çš„è¿™ç•ªæ”¹é€ ï¼Œå’±ä»¬ä¸ä»…è§£å†³äº†ä¸€ç³»åˆ—äº¤äº’ Bugï¼Œæ›´é‡è¦çš„æ˜¯æ·±å…¥ç†è§£äº† LogicFlow æ’ä»¶çš„è¿è¡Œæœºåˆ¶ã€‚</p>
<ul>
<li><strong>Model å±‚</strong> è´Ÿè´£æ•°æ®å‡†ç¡®æ€§ï¼ˆå¦‚åˆ é™¤é€»è¾‘ï¼‰ã€‚</li>
<li><strong>Logic å±‚</strong>ï¼ˆindex.jsï¼‰è´Ÿè´£ä¸šåŠ¡æµè½¬ï¼ˆå¦‚åˆ†ç»„è¿›å‡ºåˆ¤æ–­ï¼‰ã€‚</li>
<li><strong>View å±‚</strong> è´Ÿè´£æè‡´çš„äº¤äº’ä½“éªŒï¼ˆå¦‚æ‹–æ‹½è¾¹ç•Œä¿®æ­£ï¼‰ã€‚</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡è¸©å‘å®å½•èƒ½ç»™æ­£åœ¨ä½¿ç”¨ LogicFlow çš„å°ä¼™ä¼´ä»¬ä¸€äº›çµæ„Ÿï¼Œå˜¿å˜¿ã€‚ğŸ˜‰</p>
<br/>
<hr/>
<p><br/><br/></p>
<p>è‡³æ­¤ï¼Œæœ¬ç¯‡æ–‡ç« å°±å†™å®Œå•¦ï¼Œæ’’èŠ±æ’’èŠ±ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2198fba2b674f1b935a63e4abb3cbd7~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=90&amp;h=90&amp;s=8866&amp;e=png&amp;b=fcfcfc" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼ŒæœŸå¾…ä½ çš„ç•™è¨€å“¦ã€‚<br/>
è€æ ·å­ï¼Œç‚¹èµ+è¯„è®º=ä½ ä¼šäº†ï¼Œæ”¶è—=ä½ ç²¾é€šäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…è´¹è‡ªå­¦ AIï¼Ÿè¿™ 10 ä¸ª GitHub å®è—é¡¹ç›®å°±å¤Ÿäº†ï¼å»ºè®®æ”¶è—]]></title>    <link>https://juejin.cn/post/7589639203090907162</link>    <guid>https://juejin.cn/post/7589639203090907162</guid>    <pubDate>2025-12-31T05:44:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589639203090907162" data-draft-id="7589634310967164955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…è´¹è‡ªå­¦ AIï¼Ÿè¿™ 10 ä¸ª GitHub å®è—é¡¹ç›®å°±å¤Ÿäº†ï¼å»ºè®®æ”¶è—"/> <meta itemprop="keywords" content="Agent,LLM,LangChain"/> <meta itemprop="datePublished" content="2025-12-31T05:44:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…è´¹è‡ªå­¦ AIï¼Ÿè¿™ 10 ä¸ª GitHub å®è—é¡¹ç›®å°±å¤Ÿäº†ï¼å»ºè®®æ”¶è—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T05:44:39.000Z" title="Wed Dec 31 2025 05:44:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>å¦‚æœä½ ä¹Ÿæƒ³å…¥é—¨ AIï¼Œä½†ä¸çŸ¥é“è¯¥ä»å“ªé‡Œå¼€å§‹â€”â€”åˆ«æ‹…å¿ƒï¼Œè¿™å‡ ä¹æ˜¯æ¯ä¸ªå¼€å‘è€…éƒ½ä¼šç»å†çš„é˜¶æ®µã€‚</p>
<p>ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯å„ç§æœ¯è¯­ï¼šLangChainã€LlamaIndexã€ReActã€RAGã€Memoryï¼Œè¿˜æœ‰ä¸€å †å·¥å…·åƒ n8nã€Zapierâ€¦â€¦ä¿¡æ¯å¤ªå¤šï¼Œæ ¹æœ¬æ‰¾ä¸åˆ°æ–¹å‘ã€‚</p>
<p>å…¶å®ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼å¾€å¾€ä¸æ˜¯çœ‹æ¦‚å¿µï¼Œè€Œæ˜¯ç›´æ¥ä¸Šæ‰‹ç ”ç©¶å¼€æºé¡¹ç›®ã€‚ GitHub ä¸Šæœ‰ä¸å°‘å®è—ä»“åº“ï¼Œèƒ½å¸®ä½ ä»åº•å±‚ç†è§£ç°ä»£æ™ºèƒ½ä½“æ˜¯æ€ä¹ˆâ€œæ€è€ƒâ€ã€æ€ä¹ˆâ€œç”Ÿæˆå†…å®¹â€ã€åˆæ˜¯å¦‚ä½•â€œæ¨ç†â€çš„ã€‚</p>
<p>æˆ‘æŒ‘å‡ºäº† 10 ä¸ªæœ€å€¼å¾—å­¦ä¹ çš„ AI Agent å¼€æºé¡¹ç›®ï¼Œ å®ƒä»¬å‡ ä¹èƒ½è®©ä½ ä»é›¶å¼€å§‹ï¼Œå®Œæ•´æŒæ¡æ™ºèƒ½ä½“çš„åŸç†ä¸å®æˆ˜ã€‚</p>
<p>æ— è®ºä½ æ˜¯åˆšåˆšå…¥é—¨çš„å°ç™½ï¼Œè¿˜æ˜¯æƒ³ç³»ç»Ÿæå‡è‡ªå·± GenAI æŠ€èƒ½çš„å¼€å‘è€…ï¼Œè¿™äº›é¡¹ç›®éƒ½èƒ½è®©ä½ çš„å­¦ä¹ é€Ÿåº¦æå‡ä¸€ä¸ªé‡çº§ã€‚</p>
<p>å¥½äº†ï¼Œç›´æ¥è¿›å…¥æ­£é¢˜â€”â€”ğŸ‘‡ ä¸€èµ·æ¥çœ‹çœ‹è¿™ 10 ä¸ªçœŸæ­£èƒ½â€œæ•™ä¼šä½  AI Agentâ€çš„ GitHub ä»“åº“ã€‚</p>
<h3 data-id="heading-0"><strong>1ï¸âƒ£é›¶åŸºç¡€å…¥é—¨ç¥å™¨ï¼Happy LLM</strong></h3>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¼€å‘ï¼Œå®Œå…¨ä¸çŸ¥é“ä»å“ªå¼€å§‹â€”â€”é‚£å°±ä» Happy LLM å…¥æ‰‹å§ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®å‡ ä¹æ˜¯ä¸ºâ€œå°ç™½â€é‡èº«æ‰“é€ çš„å…¥é—¨æ•™ç¨‹ã€‚å®ƒä¼šä»æœ€åŸºç¡€çš„å†…å®¹è®²èµ·ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥ç†è§£ä»€ä¹ˆæ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼Œå®ƒæ˜¯æ€ä¹ˆâ€œæ€è€ƒâ€å’Œâ€œè¯´è¯â€çš„ã€‚æ¥ç€ï¼Œä½ ä¼šå­¦åˆ°å¦‚ä½•åŠ è½½æ¨¡å‹ã€æ­å»ºç¯å¢ƒã€è°ƒç”¨æ¥å£ï¼Œæœ€åç”šè‡³èƒ½äº²æ‰‹å®ç°ä¸€ä¸ªå±äºä½ è‡ªå·±çš„ LLMã€‚æ•´ä¸ªè¿‡ç¨‹å¾ªåºæ¸è¿›ï¼Œæ—¢èƒ½å­¦åˆ°åŸç†ï¼Œä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84715514540f4d26bda6158da17231b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=TupMymwPKK2mLmMaWd%2BS3ous8ck%3D" alt="" loading="lazy"/></p>
<p><strong>æœ€é‡è¦çš„æ˜¯ï¼šå®ƒæ”¯æŒä¸­æ–‡ï¼</strong> æ–‡æ¡£ã€ç¤ºä¾‹ä»£ç ã€è®²è§£å…¨éƒ½æœ‰ä¸­æ–‡ç‰ˆæœ¬ï¼Œå­¦ä¹ è¿‡ç¨‹å‡ ä¹é›¶é—¨æ§›ï¼Œéå¸¸å‹å¥½ã€‚</p>
<p>é¡¹ç›®ç”± Datawhale å›¢é˜Ÿç»´æŠ¤ï¼Œå†…å®¹æ¸…æ™°ã€æ›´æ–°é¢‘ç¹ï¼Œè¿˜é…æœ‰äº¤äº’å¼æ•™å­¦é¡µé¢ï¼Œç›´æ¥åœ¨æµè§ˆå™¨é‡Œå°±èƒ½å­¦ã€‚ å¦‚æœä½ å¯¹ LLM å®Œå…¨é™Œç”Ÿï¼Œæˆ–è€…åªæ˜¯æƒ³å¿«é€Ÿå…¥é—¨ï¼Œè¿™ä¸ªé¡¹ç›®ç»å¯¹æ˜¯æœ€ä½³èµ·ç‚¹ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdatawhalechina.github.io%2Fhappy-llm%2F%23%2F" target="_blank" title="https://datawhalechina.github.io/happy-llm/#/" ref="nofollow noopener noreferrer">Happy-LLM</a></p>
</blockquote>
<h3 data-id="heading-1"><strong>2ï¸âƒ£å†…éƒ¨æœºåˆ¶ä¸å®ç°åŸç† Hands-On Large Language Models</strong></h3>
<p>å¦‚æœä½ æƒ³è¦ä¸€åœº <strong>â€œå¸¦ä½ äº²çœ¼çœ‹æ¸… LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰å†…éƒ¨æœºåˆ¶â€çš„å®æˆ˜ä¹‹æ—…</strong>ï¼Œé‚£è¿™ä¸ªé¡¹ç›®ç»å¯¹å€¼å¾—æ”¶è—ã€‚</p>
<p>å®ƒæ¥è‡ªåŒåä¹¦ç±ã€ŠHands-On Large Language Modelsã€‹ï¼Œå¹¶é™„å¸¦ä¸€æ•´å¥—å¯è¿è¡Œçš„ Jupyter Notebook å®ä¾‹ã€‚ é€šè¿‡è¿™äº›ç¤ºä¾‹ï¼Œä½ å¯ä»¥ä¸€æ­¥æ­¥å­¦ä¼šï¼š</p>
<ul>
<li>æ–‡æœ¬æ˜¯å¦‚ä½•è¢«åˆ‡åˆ†æˆ Token çš„ï¼›</li>
<li>æ¨¡å‹æ˜¯æ€ä¹ˆç”¨å‘é‡è¡¨ç¤ºè¯­ä¹‰ï¼ˆEmbeddingsï¼‰ï¼›</li>
<li>ä»¥åŠå¦‚ä½•å¾®è°ƒï¼ˆFine-tuneï¼‰å¹¶éƒ¨ç½²ä½ è‡ªå·±çš„æ¨¡å‹ã€‚</li>
</ul>
<p>å®ƒä¸æ˜¯é‚£ç§åªè®²æ¦‚å¿µçš„æ•™ç¨‹ï¼Œè€Œæ˜¯æ‰‹æŠŠæ‰‹æ•™ä½ æŠŠç†è®ºè½åœ°æˆä»£ç ã€‚å¦‚æœä½ æƒ³çœŸæ­£ç†è§£ä¸€ä¸ª LLM çš„å®Œæ•´å·¥ä½œæµç¨‹ï¼Œè¿™ä¸ªä»“åº“å ªç§°æœ€å¥½çš„èµ·ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3441332252f348e5a77d344784bc3975~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=xBv%2BI1ZvdwFWZvuAGLPcDjy7h3I%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHandsOnLLM%2FHands-On-Large-Language-Models" target="_blank" title="https://github.com/HandsOnLLM/Hands-On-Large-Language-Models" ref="nofollow noopener noreferrer">github.com/HandsOnLLM/â€¦</a></p>
</blockquote>
<h3 data-id="heading-2"><strong>3ï¸âƒ£ ä½ çš„ç¬¬ä¸€ä¸ªAI Agentã€‚AI Agents for Beginners</strong></h3>
<p>å¦‚æœä½ æƒ³äº²æ‰‹åšå‡ºè‡ªå·±çš„ç¬¬ä¸€ä¸ª AI Agentï¼Œé‚£å°±ä»è¿™ä¸ªé¡¹ç›®å¼€å§‹ã€‚</p>
<p>è¿™æ˜¯å¾®è½¯å®˜æ–¹æ¨å‡ºçš„ä¸€ä¸ªå…¥é—¨çº§æ•™ç¨‹ä»“åº“ï¼Œå†…å®¹éå¸¸æ¸…æ™°ï¼Œæ•´å¥—è¯¾ç¨‹åˆ†ä¸º 11 ä¸ªç« èŠ‚ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ä»é›¶åˆ›å»ºä¸€ä¸ªå¯è¿è¡Œçš„æ™ºèƒ½ä½“ã€‚ æ¯èŠ‚è¯¾éƒ½å¾ˆçŸ­å°ã€æ˜“æ‡‚ï¼Œè€Œä¸”éƒ½æ˜¯å®æ“å‹æ•™å­¦ã€‚ä½ ä¸ç”¨æ­»è®°æ¦‚å¿µï¼Œè·Ÿç€åšå°±èƒ½ä¸€æ­¥æ­¥æ­å»ºå‡ºå±äºè‡ªå·±çš„å° Agentã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf0b7ec21f704da2b6293a5069ac75ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=FpJ0fsx1d1UAz8RqU2P%2FP%2FFO0UY%3D" alt="" loading="lazy"/></p>
<p>å­¦å®Œä¹‹åï¼Œä½ ä¸ä»…çŸ¥é“åŸç†ï¼Œè¿˜èƒ½çœŸçš„è·‘èµ·æ¥ä¸€ä¸ªæ™ºèƒ½ä½“ï¼Œè€Œä¸æ˜¯åœç•™åœ¨â€œçœ‹æ‡‚äº†ä½†ä¸ä¼šåšâ€çš„é˜¶æ®µã€‚ éå¸¸é€‚åˆåˆšå…¥é—¨ã€æƒ³å¿«é€Ÿä¸Šæ‰‹ AI Agent çš„å¼€å‘è€…ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fai-agents-for-beginners" target="_blank" title="https://github.com/microsoft/ai-agents-for-beginners" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a></p>
</blockquote>
<h3 data-id="heading-3"><strong>4ï¸âƒ£ ç”Ÿæˆå¼AIå®æˆ˜ï¼šGenAI Agents</strong></h3>
<p>å¦‚æœä½ å·²ç»äº†è§£äº† AI Agent çš„åŸºç¡€åŸç†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åœ¨è¿™ä¸ªé¡¹ç›®é‡ŒçœŸæ­£å¼€å§‹æ„å»ºèƒ½â€œåˆ›é€ â€å†…å®¹çš„AIã€‚</p>
<p>GenAI Agents ä¸“æ³¨äºç”Ÿæˆå¼ AIï¼ˆGenerative AIï¼‰çš„å®æˆ˜ï¼Œä½ ä¼šå­¦åˆ°å¦‚ä½•è®¾è®¡èƒ½å†™æ–‡å­—ã€ç”»å›¾ã€è§„åˆ’ä»»åŠ¡ã€ç”šè‡³å€ŸåŠ©å¤–éƒ¨å·¥å…·è¿›è¡Œæ¨ç†çš„æ™ºèƒ½ä½“ã€‚ è¿™ä¸ªé¡¹ç›®æ²¡æœ‰åŸºç¡€å†…å®¹ï¼Œæ›´åŠ æ·±å…¥å®è·µï¼Œè®©ä½ è‡ªç”±å°è¯•å„ç§ Agent æ¶æ„â€”â€” ä»æœ€ç®€å•çš„ä»»åŠ¡å‹ Agentï¼Œåˆ°èƒ½å¤Ÿå¤šæ­¥æ€è€ƒã€åŠ¨æ€å†³ç­–çš„å¤æ‚ç³»ç»Ÿï¼Œè¿™é‡Œéƒ½æœ‰å®Œæ•´ç¤ºä¾‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c1b84715956429bba3b1bea297c9c5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=VPRAMGSdo3TyRI1%2FDmKfTnY2m%2BU%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³æ·±å…¥ç†è§£â€œä¼šæ€è€ƒã€ä¼šç”Ÿæˆå†…å®¹â€çš„æ™ºèƒ½ä½“æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œè¿™ä¸ªä»“åº“æ˜¯éå¸¸æ£’çš„è¿›é˜¶èµ·ç‚¹ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FNirDiamant%2FGenAI" target="_blank" title="https://github.com/NirDiamant/GenAI" ref="nofollow noopener noreferrer">github.com/NirDiamant/â€¦</a>_Agents</p>
</blockquote>
<h3 data-id="heading-4"><strong>5ï¸âƒ£ ä»å®éªŒåˆ°ç”Ÿäº§ç¯å¢ƒå®æˆ˜ï¼šMade with ML</strong></h3>
<p>å¦‚æœä½ ä¸åªæ˜¯æƒ³ç®€å•å°è¯•AIï¼Œè€Œæ˜¯æƒ³æŠŠå®ƒçœŸæ­£ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œï¼Œé‚£ä¸€å®šè¦å…³æ³¨è¿™ä¸ªé¡¹ç›®ã€‚</p>
<p>Made with ML æ˜¯ç”± Goku Mohandas åˆ›å»ºçš„å¼€æºå­¦ä¹ é¡¹ç›®ï¼Œä¹Ÿæ˜¯å¾ˆå¤šå·¥ç¨‹å¸ˆå¿ƒä¸­çš„â€œæœºå™¨å­¦ä¹ å®æˆ˜åœ£ç»â€ã€‚ å®ƒä¸ä»…æ•™ä½ æ€ä¹ˆå†™ä»£ç ï¼Œæ›´é‡è¦çš„æ˜¯æ•™ä½ æ€ä¹ˆåƒä¸€åå·¥ç¨‹å¸ˆé‚£æ ·æ€è€ƒï¼š å¦‚ä½•è®¾è®¡å¯æ‰©å±•çš„ç³»ç»Ÿï¼Œå¦‚ä½•å¿«é€Ÿè¿­ä»£äº§å“ï¼Œå¦‚ä½•ç†è§£æ¯ä¸ªæŠ€æœ¯å†³ç­–èƒŒåçš„â€œä¸ºä»€ä¹ˆâ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5cd72545b7847e5ba5a33d78ec77945~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=ZqWcZCYgK1Dfd%2BVgkC4hC0BpOMU%3D" alt="" loading="lazy"/></p>
<p>æ¢å¥è¯è¯´ï¼Œå®ƒä¸åªæ˜¯å‘Šè¯‰ä½ â€œæ€ä¹ˆåšâ€ï¼Œæ›´å‘Šè¯‰ä½ â€œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšâ€â€”â€” è€Œè¿™ï¼Œæ°æ°æ˜¯ä»â€œä¼šå†™ä»£ç â€åˆ°â€œèƒ½åšäº§å“â€çš„å…³é”®ä¸€æ­¥ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGokuMohandas%2FMade-With-ML" target="_blank" title="https://github.com/GokuMohandas/Made-With-ML" ref="nofollow noopener noreferrer">github.com/GokuMohandaâ€¦</a></p>
</blockquote>
<h3 data-id="heading-5"><strong>6ï¸âƒ£ æç¤ºè¯å·¥ç¨‹ï¼šPrompt Engineering Guide</strong></h3>
<p>åœ¨å¼€å§‹æ­å»º AI Agent ä¹‹å‰ï¼Œæœ‰ä¸€é¡¹æŠ€èƒ½å¿…é¡»æŒæ¡â€”â€”é‚£å°±æ˜¯ <strong>Prompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰</strong> ã€‚</p>
<p>è¿™ä¸ªä»“åº“å ªç§°æç¤ºè¯é¢†åŸŸçš„â€œç™¾ç§‘å…¨ä¹¦â€ã€‚å®ƒç³»ç»Ÿåœ°æ”¶é›†äº†ä»å…¥é—¨åˆ°è¿›é˜¶çš„æ‰€æœ‰èµ„æ–™ï¼šæ•™ç¨‹ã€è®ºæ–‡ã€å®æˆ˜æ¡ˆä¾‹ï¼Œä¸€åº”ä¿±å…¨ã€‚ ä½ èƒ½åœ¨è¿™é‡Œå­¦åˆ°å„ç§ä¸»æµæŠ€å·§ï¼š ä»æœ€åŸºç¡€çš„ Zero-shotï¼ˆé›¶æ ·æœ¬ï¼‰ã€Few-shotï¼ˆå°‘æ ·æœ¬ï¼‰ æç¤ºï¼Œåˆ°æ›´é«˜çº§çš„ Chain-of-Thoughtï¼ˆæ€ç»´é“¾ï¼‰ã€Self-Consistencyï¼ˆè‡ªä¸€è‡´æ€§ï¼‰ ç­‰æç¤ºæ¨¡å¼ï¼Œå…¨éƒ½è®²å¾—æ¸…æ¸…æ¥šæ¥šã€‚</p>
<p>å¦‚æœä½ æƒ³è®©è‡ªå·±çš„ Agent æ›´èªæ˜ã€æ›´æ‡‚ä½ ï¼Œè¿™ä¸ªä»“åº“å°±æ˜¯æœ€å€¼å¾—æ·±å…¥ç ”ç©¶çš„é‚£ä¸€ä»½â€œç§˜ç±â€ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdair-ai%2FPrompt-Engineering-Guide" target="_blank" title="https://github.com/dair-ai/Prompt-Engineering-Guide" ref="nofollow noopener noreferrer">github.com/dair-ai/Proâ€¦</a></p>
</blockquote>
<h3 data-id="heading-6"><strong>7ï¸âƒ£ çœŸå®æ¡ˆä¾‹ï¼šHands-On AI Engineering</strong></h3>
<p>å¦‚æœä½ å·²ç»æŒæ¡äº†ä¸€äº› LLM çš„åŸºç¡€ï¼Œè¿™ä¸ªé¡¹ç›®èƒ½å¸®ä½ çœŸæ­£è¿›å…¥å®æˆ˜é˜¶æ®µã€‚</p>
<p>Hands-On AI Engineering æ›´åƒæ˜¯ä¸€åº§å±•ç¤ºå…ï¼Œé‡Œé¢é›†åˆäº†å„ç§åŸºäº LLM çš„çœŸå®åº”ç”¨æ¡ˆä¾‹â€”â€” åŒ…æ‹¬æ¨ç†ç³»ç»Ÿã€ä»»åŠ¡è‡ªåŠ¨åŒ–ã€æ•°æ®åˆ†æç­‰ä¸åŒæ–¹å‘ã€‚ä½ å¯ä»¥ç›´æ¥æ‰“å¼€è¿™äº›é¡¹ç›®ï¼Œçœ‹çœ‹åˆ«äººæ˜¯æ€ä¹ˆåšçš„ï¼Œå†æŒ‰è‡ªå·±çš„éœ€æ±‚æ”¹é€ æˆ–æ‰©å±•ã€‚</p>
<p>å®ƒæœ€å¤§çš„ä»·å€¼åœ¨äºï¼šè®©ä½ æ˜ç™½å¦‚ä½•æŠŠæ¨¡å‹æ¥å…¥çœŸå®ä¸šåŠ¡æµç¨‹ã€‚ æ— è®ºæ˜¯æƒ³åš AI å·¥å…·ã€è‡ªåŠ¨åŒ–åŠ©æ‰‹ï¼Œè¿˜æ˜¯ä¼ä¸šå†…éƒ¨çš„æ™ºèƒ½ç³»ç»Ÿï¼Œè¿™ä¸ªä»“åº“éƒ½èƒ½ç»™ä½ éå¸¸å¤šçµæ„Ÿã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSumanth077%2FHands-On-AI-Engineering" target="_blank" title="https://github.com/Sumanth077/Hands-On-AI-Engineering" ref="nofollow noopener noreferrer">github.com/Sumanth077/â€¦</a></p>
</blockquote>
<h3 data-id="heading-7"><strong>8ï¸âƒ£ æ–‡å­—ç”Ÿæˆã€å›¾åƒç”Ÿæˆï¼Œåˆ°ç ”ç©¶è®ºæ–‡åˆé›†ç±»ï¼šAwesome Generative AI Guide</strong></h3>
<p>å¦‚æœä½ æƒ³ç³»ç»Ÿæ€§åœ°äº†è§£ ç”Ÿæˆå¼ AIï¼ˆGenerative AIï¼‰ çš„æ•´ä¸ªç”Ÿæ€ï¼Œè¿™ä¸ªé¡¹ç›®å°±éå¸¸é€‚åˆä½ ã€‚</p>
<p>Awesome Generative AI Guide æ˜¯ä¸€ä¸ªç²¾å¿ƒæ•´ç†çš„å­¦ä¹ èµ„æºåˆé›†ï¼Œå‡ ä¹æ¶µç›–äº†æ•´ä¸ª GenAI æ–¹æ–¹é¢é¢ï¼š ä»æ–‡å­—ç”Ÿæˆã€å›¾åƒç”Ÿæˆï¼Œåˆ°ç ”ç©¶è®ºæ–‡ã€å¼€æºé¡¹ç›®ã€å®æˆ˜æ¡ˆä¾‹â€¦â€¦åº”æœ‰å°½æœ‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa001fe5b3b94871b43cf357859d31a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=%2BA%2BfrlLKFVXO9NNt9CcXyps1VIE%3D" alt="" loading="lazy"/></p>
<p>å®ƒå°±åƒä¸€ä¸ªä¸€ç«™å¼çš„å­¦ä¹ å¯¼èˆªç«™ï¼Œæ— è®ºä½ æ˜¯æƒ³å¿«é€Ÿå…¥é—¨ï¼Œè¿˜æ˜¯éœ€è¦æŸ¥æ‰¾å‰æ²¿èµ„æ–™ï¼Œè¿™é‡Œéƒ½èƒ½æ‰¾åˆ°æ–¹å‘ã€‚è¿™ä¸ªä»“åº“ä¸€ç›´åœ¨æŒç»­æ›´æ–°ä¸­ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faishwaryanr%2Fawesome-generative-ai-guide" target="_blank" title="https://github.com/aishwaryanr/awesome-generative-ai-guide" ref="nofollow noopener noreferrer">github.com/aishwaryanrâ€¦</a></p>
</blockquote>
<h3 data-id="heading-8"><strong>9ï¸âƒ£ å›¾ä¹¦ç±»ï¼šDesigning Machine Learning Systems</strong></h3>
<p>æåˆ° AI/ML é¢†åŸŸçš„é¡¶å°–å¤§ç¥ï¼Œä½ ä¸€å®šå¬è¿‡å¥¹çš„åå­—â€”â€”Chip Huyenã€‚</p>
<p>è¿™ä¸ªä»“åº“æ¥è‡ªå¥¹é‚£æœ¬å¹¿å—å¥½è¯„çš„ä¹¦ ã€ŠDesigning Machine Learning Systemsã€‹ï¼Œé‡Œé¢æ•´ç†äº†å¤§é‡çš„ç²¾åå†…å®¹ï¼ŒåŒ…æ‹¬ç« èŠ‚æ€»ç»“ã€ä»£ç ç¤ºä¾‹ã€ä»¥åŠå¯å¤ç”¨çš„ç³»ç»Ÿæ¡†æ¶ã€‚ å®ƒä¸åªæ˜¯è®²ç®—æ³•ï¼Œæ›´æ³¨é‡å·¥ç¨‹åŒ–çš„æ€ç»´ï¼š ä½ ä¼šå­¦åˆ°å¦‚ä½•è®¾è®¡æ•°æ®æµæ°´çº¿ã€ç›‘æ§æ¨¡å‹è¡¨ç°ã€ä»¥åŠä»åŸå‹ä¸€è·¯æ‰“ç£¨åˆ°ä¸Šçº¿çš„æ•´ä¸ªæœºå™¨å­¦ä¹ ç³»ç»Ÿç”Ÿå‘½å‘¨æœŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a76353f88dc44a6da8d00d059153af50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=9RBDVlAdH4dcKkxj%2Bfgoh%2BDV1nU%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ­£åœ¨ä»â€œæœºå™¨å­¦ä¹ çˆ±å¥½è€…â€è¿ˆå‘â€œä¸“ä¸š ML å·¥ç¨‹å¸ˆâ€ï¼Œé‚£è¿™ä¸ªé¡¹ç›®ç®€ç›´æ˜¯ä¸ºä½ å‡†å¤‡çš„æˆé•¿æŒ‡å—ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchiphuyen%2Fdmls-book" target="_blank" title="https://github.com/chiphuyen/dmls-book" ref="nofollow noopener noreferrer">github.com/chiphuyen/dâ€¦</a></p>
</blockquote>
<h3 data-id="heading-9"><strong>ğŸ”Ÿ å¾®è½¯å®˜æ–¹å…è´¹å­¦ä¹ èµ„æºï¼šMachine Learning for Beginnersï¼ˆby Microsoftï¼‰</strong></h3>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦æœºå™¨å­¦ä¹ ï¼Œè¿™ä¸ªé¡¹ç›®å‡ ä¹å°±æ˜¯æœ€å¥½çš„èµ·ç‚¹ã€‚</p>
<p>è¿™æ˜¯å¾®è½¯å®˜æ–¹æ¨å‡ºçš„å…è´¹å­¦ä¹ èµ„æºï¼Œç”¨é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è®²è§£äº†æœºå™¨å­¦ä¹ çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶é…æœ‰å¤§é‡åŠ¨æ‰‹ç»ƒä¹ ã€‚ ä½ ä¸éœ€è¦ä»»ä½•èƒŒæ™¯çŸ¥è¯†ï¼Œå°±èƒ½ä¸€æ­¥æ­¥ç†è§£æ¨¡å‹æ˜¯æ€ä¹ˆå­¦ä¹ ã€é¢„æµ‹å’Œæ”¹è¿›çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8cf221d43b84ab1b997ce93c3915a81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767764679&amp;x-signature=WZ%2B38DKstjSYH7PovAKiUIg8t7U%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯è¿›å…¥ AI ä¸–ç•Œå‰çš„â€œåœ°åŸºè¯¾ç¨‹â€â€”â€” åœ¨è¿™é‡Œæ‰“å¥½åŸºç¡€ï¼Œå†å»å­¦æ›´é«˜çº§çš„ AI Agentã€ç”Ÿæˆå¼ AI ç­‰å†…å®¹ï¼Œä½ ä¼šè½»æ¾å¾—å¤šã€‚ è¯¾ç¨‹å†…å®¹ç›´è§‚ã€æœ‰è¶£ï¼Œå›¾æ–‡ç»“åˆï¼Œéå¸¸é€‚åˆè‡ªå­¦ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2FML-For-Beginners" target="_blank" title="https://github.com/microsoft/ML-For-Beginners" ref="nofollow noopener noreferrer">github.com/microsoft/Mâ€¦</a></p>
</blockquote>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SupervisorJobå­åç¨‹å¼‚å¸¸å¤„ç†æœºåˆ¶ â€”â€” æ–°æ‰‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7589587212602720307</link>    <guid>https://juejin.cn/post/7589587212602720307</guid>    <pubDate>2025-12-31T05:51:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589587212602720307" data-draft-id="7589578614582345754" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SupervisorJobå­åç¨‹å¼‚å¸¸å¤„ç†æœºåˆ¶ â€”â€” æ–°æ‰‹æŒ‡å—"/> <meta itemprop="keywords" content="Kotlin,Android,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-31T05:51:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QING618"/> <meta itemprop="url" content="https://juejin.cn/user/339115460529117"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SupervisorJobå­åç¨‹å¼‚å¸¸å¤„ç†æœºåˆ¶ â€”â€” æ–°æ‰‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/339115460529117/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QING618
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T05:51:32.000Z" title="Wed Dec 31 2025 05:51:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Kotlin åç¨‹ä¸­ï¼Œ<code>SupervisorJob</code>Â ä¸Â <code>Job</code>Â å¤„ç†å­åç¨‹å¼‚å¸¸çš„è¡Œä¸ºä¸åŒï¼Œå…¶æ ¸å¿ƒåŸå› åœ¨äºÂ <strong><code>SupervisorJob</code>Â çš„è®¾è®¡ç›®æ ‡</strong>ã€‚</p>
<h2 data-id="heading-0">1. æ ¸å¿ƒè®¾è®¡å·®å¼‚</h2>
<ul>
<li><strong>æ™®é€š Job (Job / Job())</strong> ï¼šå½“ä¸€ä¸ª<strong>å­åç¨‹</strong>å¼‚å¸¸å¤±è´¥æ—¶ï¼Œä¼š<strong>è‡ªåŠ¨å‘ä¸Šä¼ æ’­</strong>ï¼Œå¯¼è‡´çˆ¶ JobÂ <strong>ç«‹å³å¤±è´¥</strong>ï¼Œå¹¶å–æ¶ˆæ‰€æœ‰å…¶ä»–å­åç¨‹ï¼ˆâ€œå¤±è´¥ä¼ æ’­â€åŸåˆ™ï¼‰ã€‚</li>
<li><strong>SupervisorJob</strong>ï¼šå­åç¨‹çš„å¤±è´¥æ˜¯<strong>éš”ç¦»çš„</strong>ï¼Œä¸ä¼šä¼ æ’­ç»™çˆ¶çº§æˆ–å½±å“å…¶ä»–å­åç¨‹ï¼ˆâ€œç‹¬ç«‹å¤±è´¥â€åŸåˆ™ï¼‰ã€‚è¿™æ˜¯ Supervisor æ¨¡å¼çš„æœ¬è´¨ã€‚</li>
</ul>
<h2 data-id="heading-1">2. ä¸ºä»€ä¹ˆÂ <code>child.join()</code>Â éœ€è¦æ˜¾å¼å¤„ç†å¼‚å¸¸ï¼Ÿ</h2>
<h3 data-id="heading-2">å¯¹äºæ™®é€š Jobï¼š</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> job = Job()
<span class="hljs-keyword">val</span> child = launch(job) {
    <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Child failed"</span>)
}
<span class="hljs-keyword">try</span> {
    child.join()  <span class="hljs-comment">// å¼‚å¸¸ä¼šåœ¨è¿™é‡Œè¢«é‡æ–°æŠ›å‡ºï¼</span>
    println(<span class="hljs-string">"è¿™è¡Œä¸ä¼šæ‰§è¡Œ"</span>)
} <span class="hljs-keyword">catch</span> (e: Exception) {
    println(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸: <span class="hljs-variable">$e</span>"</span>)
}
<span class="hljs-comment">// çˆ¶ job ä¹Ÿå·²ç»å¤±è´¥</span>
</code></pre>
<p>âœ…Â <strong>æ™®é€š Job ä¼šè‡ªåŠ¨ä¼ æ’­å¼‚å¸¸</strong>ï¼Œæ‰€ä»¥Â <code>join()</code>Â ä¼šæŠ›å‡ºå­åç¨‹çš„å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-3">å¯¹äº SupervisorJobï¼š</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> supervisor = SupervisorJob()
<span class="hljs-keyword">val</span> child = launch(supervisor) {
    <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Child failed"</span>)
}
<span class="hljs-keyword">try</span> {
    child.join()  <span class="hljs-comment">// âš ï¸ è¿™é‡Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼</span>
    println(<span class="hljs-string">"è¿™è¡Œä¼šæ‰§è¡Œ"</span>)
} <span class="hljs-keyword">catch</span> (e: Exception) {
    <span class="hljs-comment">// è¿™ä¸ä¼šæ‰§è¡Œï¼</span>
    println(<span class="hljs-string">"ä¸ä¼šæ•è·åˆ°å¼‚å¸¸"</span>)
}
</code></pre>
<p>âŒÂ <strong>SupervisorJob éš”ç¦»äº†å¼‚å¸¸</strong>ï¼Œå¼‚å¸¸è¢«å°è£…åœ¨å­åç¨‹å†…éƒ¨ï¼Œä¸ä¼šé€šè¿‡Â <code>join()</code>Â è‡ªåŠ¨ä¼ æ’­ã€‚</p>
<h2 data-id="heading-4">3. SupervisorJob çš„å®é™…å½±å“</h2>
<p>ç”±äºå¼‚å¸¸è¢«éš”ç¦»ï¼š</p>
<ol>
<li><strong>å¼‚å¸¸é™é»˜ä¸¢å¤±</strong>ï¼šå¦‚æœä¸ä¸»åŠ¨å¤„ç†ï¼Œå¼‚å¸¸å¯èƒ½è¢«"åæ‰"</li>
<li><strong>éœ€è¦æ˜¾å¼ç›‘æ§</strong>ï¼šä½ å¿…é¡»è‡ªå·±å†³å®šå¦‚ä½•å¤„ç†å­åç¨‹çš„å¤±è´¥</li>
</ol>
<h2 data-id="heading-5">4. æ­£ç¡®å¤„ç†æ–¹æ³•</h2>
<h3 data-id="heading-6">æ–¹æ³•1ï¼šä½¿ç”¨Â <code>coroutineScope</code>Â æˆ–Â <code>supervisorScope</code></h3>
<pre><code class="hljs language-kotlin" lang="kotlin">supervisorScope {
    <span class="hljs-keyword">val</span> child = launch {
        <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Failed"</span>)
    }
    <span class="hljs-keyword">try</span> {
        child.join()
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        println(<span class="hljs-string">"æ˜¾å¼å¤„ç†: <span class="hljs-variable">$e</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-7">æ–¹æ³•2ï¼šä½¿ç”¨Â <code>async</code>Â å’ŒÂ <code>await()</code></h3>
<pre><code class="hljs language-kotlin" lang="kotlin">supervisorScope {
    <span class="hljs-keyword">val</span> deferred = async {
        <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Failed"</span>)
    }
    <span class="hljs-keyword">try</span> {
        deferred.await()  <span class="hljs-comment">// è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸</span>
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        println(<span class="hljs-string">"æ•è·: <span class="hljs-variable">$e</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-8">æ–¹æ³•3ï¼šä½¿ç”¨Â <code>CoroutineExceptionHandler</code></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> handler = CoroutineExceptionHandler { _, exception -&gt;
    println(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸: <span class="hljs-variable">$exception</span>"</span>)
}

<span class="hljs-keyword">val</span> supervisor = SupervisorJob()
<span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.Default + supervisor)

<span class="hljs-keyword">val</span> child = scope.launch(handler) {
    <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Failed"</span>)
}

child.join()  <span class="hljs-comment">// å¼‚å¸¸ä¼šè¢« handler å¤„ç†</span>
</code></pre>
<h2 data-id="heading-9">5. è®¾è®¡ç†ç”±æ€»ç»“</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Job</th><th>SupervisorJob</th></tr></thead><tbody><tr><td>å¼‚å¸¸ä¼ æ’­</td><td>è‡ªåŠ¨å‘ä¸Šä¼ æ’­</td><td>éš”ç¦»ï¼Œä¸ä¼ æ’­</td></tr><tr><td>å…¶ä»–å­åç¨‹</td><td>å…¨éƒ¨å–æ¶ˆ</td><td>ä¸å—å½±å“</td></tr><tr><td><code>join()</code>Â è¡Œä¸º</td><td>æŠ›å‡ºå¼‚å¸¸</td><td>ä¸æŠ›å‡ºå¼‚å¸¸</td></tr><tr><td>è®¾è®¡ç›®æ ‡</td><td>åŸå­æ€§ä»»åŠ¡ç»„</td><td>ç‹¬ç«‹ä»»åŠ¡é›†åˆ</td></tr></tbody></table>
<p><strong>SupervisorJob çš„è®¾è®¡æ„å›¾</strong>ï¼š</p>
<ul>
<li>ç”¨äºç®¡ç†ä¸€ç»„<strong>ç‹¬ç«‹</strong>çš„å­ä»»åŠ¡</li>
<li>ä¸€ä¸ªä»»åŠ¡çš„å¤±è´¥ä¸åº”å½±å“å…¶ä»–ä»»åŠ¡</li>
<li>éœ€è¦å¼€å‘è€…<strong>æ˜¾å¼å†³å®š</strong>å¦‚ä½•å¤„ç†æ¯ä¸ªå­ä»»åŠ¡çš„å¤±è´¥</li>
<li>æ¯”å¦‚ UI ä¸­çš„å¤šä¸ªç‹¬ç«‹ç½‘ç»œè¯·æ±‚ã€åå°ä»»åŠ¡ç­‰åœºæ™¯</li>
</ul>
<h2 data-id="heading-10">6. æœ€ä½³å®è·µå»ºè®®</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœºæ™¯ï¼šéœ€è¦å¹¶è¡Œæ‰§è¡Œå¤šä¸ªç‹¬ç«‹ä»»åŠ¡ï¼Œåˆ†åˆ«å¤„ç†å„è‡ªå¼‚å¸¸</span>
<span class="hljs-keyword">val</span> supervisorJob = SupervisorJob()
<span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.IO + supervisorJob)

<span class="hljs-comment">// ä»»åŠ¡1 - ç‹¬ç«‹å¤„ç†å¼‚å¸¸</span>
<span class="hljs-keyword">val</span> task1 = scope.launch {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å¯èƒ½å¤±è´¥çš„æ“ä½œ</span>
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// å¤„ç†è¿™ä¸ªç‰¹å®šä»»åŠ¡çš„å¼‚å¸¸</span>
    }
}

<span class="hljs-comment">// ä»»åŠ¡2 - ä½¿ç”¨ async è·å–ç»“æœ</span>
<span class="hljs-keyword">val</span> task2 = scope.async {
    <span class="hljs-comment">// å¯èƒ½å¤±è´¥çš„æ“ä½œ</span>
}

<span class="hljs-comment">// åˆ†åˆ«å¤„ç†</span>
runBlocking {
    task1.join()
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">val</span> result = task2.await()
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// å¤„ç† task2 çš„å¼‚å¸¸</span>
    }
}
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼š<code>SupervisorJob</code>Â çš„Â <code>child.join()</code>Â ä¸è‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸ï¼Œæ˜¯å› ä¸º Supervisor æ¨¡å¼çš„æ ¸å¿ƒå°±æ˜¯<strong>å¼‚å¸¸éš”ç¦»</strong>ã€‚è¿™ç»™äº†ä½ æ›´å¤§çš„æ§åˆ¶æƒï¼Œä½†ä¹Ÿè¦æ±‚ä½ å¿…é¡»æ˜¾å¼å¤„ç†æ¯ä¸ªå­åç¨‹çš„å¤±è´¥çŠ¶æ€ï¼Œé¿å…å¼‚å¸¸è¢«æ— å£°åœ°å¿½ç•¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI çºªå…ƒ 3 å¹´ï¼Œ2025 è®ºå‰ç«¯ç¨‹åºå‘˜è‡ªæ•‘]]></title>    <link>https://juejin.cn/post/7589732701289234466</link>    <guid>https://juejin.cn/post/7589732701289234466</guid>    <pubDate>2025-12-31T05:58:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589732701289234466" data-draft-id="7589623325976018996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI çºªå…ƒ 3 å¹´ï¼Œ2025 è®ºå‰ç«¯ç¨‹åºå‘˜è‡ªæ•‘"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,VibeCoding"/> <meta itemprop="datePublished" content="2025-12-31T05:58:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è±å„æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/3919115686512942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI çºªå…ƒ 3 å¹´ï¼Œ2025 è®ºå‰ç«¯ç¨‹åºå‘˜è‡ªæ•‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3919115686512942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è±å„æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T05:58:04.000Z" title="Wed Dec 31 2025 05:58:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>2023 å¹´æ˜¯å…¬è®¤çš„ <strong>AI å…ƒå¹´</strong>ï¼Œ2022å¹´åº•OpenAIå‘å¸ƒChatGPTï¼ˆåŸºäºGPT-3.5ï¼‰ï¼Œ2023å¹´åˆè¿…é€Ÿçˆ†ç«ï¼Œä¸Šçº¿ä»…2ä¸ªæœˆç”¨æˆ·çªç ´1äº¿ï¼Œæˆä¸ºå†å²ä¸Šå¢é•¿æœ€å¿«çš„æ¶ˆè´¹çº§åº”ç”¨ã€‚çŸ­çŸ­ä¸‰å¹´å†…ï¼ŒAI å·²ç»ä»é¥ä¸å¯åŠï¼Œè¿›åŒ–åˆ°èµ°è¿›åƒå®¶ä¸‡æˆ·äº†ï¼Œä»åªèƒ½èŠå¤©çš„çº¯è¯­è¨€å¤§æ¨¡å‹ï¼ˆLLMsï¼‰ï¼Œåˆ°ä»Šå¤©èƒ½è§£å†³å®é™…é—®é¢˜çš„å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆMLLMs/LMMsï¼‰ã€æ™ºèƒ½ä½“ï¼ˆAI Agentï¼‰ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»æ­£å‘ç”Ÿç€ä¸æ˜“å¯Ÿè§‰ä½†åˆå¤©ç¿»åœ°è¦†çš„å˜åŒ–ã€‚</p>
<p>è¿™å¯èƒ½æ˜¯ä½  2025 å¹´çœ‹åˆ°çš„æœ€çœŸå®ï¼Œæœ€ä¸­è‚¯ï¼Œä¹Ÿæœ€èƒ½è®©ä½ å®‰å¿ƒçš„æ–‡ç« ï¼Œå…ˆè¯´ç»“è®ºï¼šç¨‹åºå‘˜å²—ä½éƒ½ä¸ä¼šæ­»ï¼Œä¸”æœªæ¥å¿…é¡»å…·å¤‡çš„èƒ½åŠ›å¤§éƒ¨åˆ†äººéƒ½æœ‰ã€‚</p>
<h2 data-id="heading-1">æ€ä¹ˆçœ‹ AI å¯¹ç¨‹åºå‘˜å²—ä½çš„å†²å‡»</h2>
<p>AI çš„äº•å–·å¼çˆ†å‘ï¼Œå¯¹ç¨‹åºå‘˜çš„å†²å‡»ç¡®å®å¾ˆå¤§ã€‚ç¨‹åºå‘˜ä¸­ï¼Œå‰ç«¯ç¨‹åºå‘˜æœ€ç”šï¼Œåœ¨ç½‘ç»œä¸Šï¼Œå®ƒä¸‰å¤©ä¸€å°æ­»ï¼Œäº”å¤©ä¸€å¤§æ­»ï¼Œä½†æ˜¯ç»“æœæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œå‰ç«¯å¹¶æ²¡æœ‰æ­»ï¼Œç”šè‡³æ´»å¾—æ¯”ä»¥å‰æ›´ç¹è£äº†ï¼Œå¾ˆå¤šå…¶ä»–å²—ä½ç¨‹åºå‘˜ä¹Ÿè¯•ç€ç”¨ Gemini 3 Pro æ­å»ºäº†å±äºè‡ªå·±çš„ three.js åº”ç”¨ã€‚</p>
<p>å¯èƒ½å¤§å®¶è·Ÿæˆ‘çš„æ„Ÿè§‰ä¸€æ ·ï¼Œå¯¹ç½‘ä¸Šå‰ç«¯å·²æ­»çš„ç„¦è™‘å–å®¶å¹¶ä¸æ„Ÿå†’ï¼Œå› ä¸ºåœ¨å·¥ä½œä¸­ï¼ŒAI ç»™æˆ‘ä»¬çš„æ„Ÿè§‰æ›´åƒæ˜¯ä¸€ä¸ªè€å¸æœºååœ¨å‰¯é©¾é©¶ï¼Œæˆ‘ä»¬é‡åˆ°ä¸æ‡‚çš„ç›´æ¥é—®å®ƒï¼Œè€Œå®ƒä¹Ÿä¼šæŠŠæ¯•ç”Ÿæ‰€å­¦æ¯«æ— ä¿ç•™çš„äº¤ä»£å‡ºæ¥ï¼Œç”šè‡³åœ¨ VSCode Copilot æˆ–è€… Cursor ã€Trae ä¸­ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦è‡ªå·±åŠ¨æ‰‹å†™ä»£ç äº†ï¼Œ80% çš„æ—¶é—´éƒ½åœ¨ vibe codingï¼Œæˆ‘ä»¬æ²¡æœ‰å› ä¸º AI ä¸¢æ‰å·¥ä½œï¼Œåè€Œ AI è®©æˆ‘ä»¬è§‰å¾—ï¼šå“‡ï¼Œå¤ªçˆ½äº†ï¼Œå·¥ä½œæ•ˆç‡ç¿»äº†ä¸‰å€ï¼</p>
<p>å¦‚æœä½ æœ‰è¿™ç§æ„Ÿè§‰ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œ<strong>ä½ æ˜¯æœ€é€‚åˆåœ¨æœªæ¥å·¥ä½œçš„å‰ç«¯å¼€å‘è€…</strong>ï¼</p>
<p>ç›®å‰ AI çš„å±€é™æ€§è¡¨ç°çš„å¾ˆæ˜æ˜¾ï¼ŒAI ç”Ÿæˆçš„ä»£ç å¾€å¾€ å¹³å‡åŒ–ã€ç¼ºä¹æ·±åº¦ä¼˜åŒ–æˆ–è€…æœ‰éšè”½çš„ bugã€‚è¿˜ç»å¸¸æ”¹åˆ°æˆ‘ä»¬ä¸å¸Œæœ›å˜åŠ¨çš„éƒ¨åˆ†ï¼Œè¿™é‡Œç¥­å‡ºè¿™å¼ ç«çˆ†å…¨ç½‘çš„æ¢—å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8871d694bb39432a8770ffa0ac2e6d67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767765483&amp;x-signature=DchwBW3q7NYDn4SwGaLpv8gUz2s%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ç„¶è¿™äº›å’Œ AI è¿˜ä¾æ—§ä¸å¤Ÿæˆç†Ÿæœ‰ä¸€å®šå…³ç³»ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªæœ€æ ¹æœ¬çš„åŸå› ä½¿å¾— AI æ— æ³•å–ä»£äººç±»ï¼Œå®ƒæ³¨å®šåªèƒ½ä½œä¸ºäººç±»çš„å·¥å…·ï¼Œä½†æ˜¯è¿™ä¸ªåŸå› å¾ˆå“²å­¦ï¼Œè¯·çœ‹ä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-2">ä¸ç”¨æ€•ï¼Œæ¬²æœ›æ˜¯åˆ›é€ çš„åŸåˆåŠ¨åŠ›</h2>
<p>äººç±»åˆ›é€ çš„èµ·ç‚¹å¾€å¾€æ˜¯ â€œæƒ³åšâ€ã€â€œå–œæ¬¢â€ã€â€œä¸çˆ½â€ã€â€œå¥½å¥‡â€ã€â€œæƒ³è¯æ˜è‡ªå·±â€ è¿™äº›å†…åœ¨å†²åŠ¨ã€‚æ¯”å¦‚ ä¸€ä¸ªç¨‹åºå‘˜åŠå¤œå†™å‡ºä¸€ä¸ªæ–°æ¡†æ¶ï¼Œæ˜¯å› ä¸ºâ€œè§‰å¾—ç°æœ‰å·¥å…·å¤ªçƒ‚äº†ï¼Œæˆ‘å°±æ˜¯è¦æä¸€ä¸ªæ›´å¥½ç©çš„â€ï¼Œè€Œ AI æ²¡æœ‰è¿™äº›ã€‚å®ƒåªæœ‰â€œæ ¹æ®è®­ç»ƒæ•°æ®é¢„æµ‹ä¸‹ä¸€ä¸ªè¯â€æˆ–è€…â€œæœ€å¤§åŒ–å¥–åŠ±å‡½æ•°â€ã€‚æˆ‘ä»¬ç»™å®ƒä¸€ä¸ªç›®æ ‡ï¼Œå®ƒå°±å…¨åŠ›ä¼˜åŒ–ï¼Œä½†å®ƒè‡ªå·±æ°¸è¿œä¸ä¼šâ€œçªç„¶æƒ³â€å»åšä¸€ä»¶æ²¡äººè¦æ±‚çš„äº‹ã€‚</p>
<p>æ‰€ä»¥ï¼ŒAI çš„â€œåˆ›é€ â€å…¶å®æ˜¯é‡ç»„+ä¼˜åŒ–è¿‡å»çš„çŸ¥è¯†ï¼Œè€Œä¸æ˜¯ä»é›¶ç”Ÿå‡ºå…¨æ–°çš„æ¸´æœ›ã€‚</p>
<p>AI å¾ˆæ“…é•¿åœ¨å·²çŸ¥æ¡†æ¶é‡Œåšåˆ°æè‡´ï¼ˆæ¯”å¦‚å†™å‡ºå®Œç¾çš„å‰ç«¯ç»„ä»¶ã€ä¼˜åŒ–ç®—æ³•åˆ°æœ€å¿«ï¼‰ï¼Œä½†äººç±»æ“…é•¿æ‰“ç ´æ¡†æ¶ã€å‘æ˜æ–°æ¡†æ¶ã€‚è¿™ç§çªç ´å¾€å¾€æ¥è‡ª â€œæ— ç”¨â€ çš„æ¬²æœ›</p>
<ul>
<li>æƒ³ç© â†’ å‘æ˜æ¸¸æˆ</li>
<li>æƒ³å·æ‡’ â†’ å‘æ˜è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå‘æ˜äº† AI ğŸ˜‚ï¼‰</li>
<li>æƒ³è¢«è®¤å¯ â†’ å¼€æºä¸€ä¸ªé¡¹ç›®</li>
</ul>
<p>å†å²ä¸Šæ‰€æœ‰é‡å¤§åˆ›æ–°ï¼ˆäº’è”ç½‘ã€æ™ºèƒ½æ‰‹æœºã€å¼€æºè¿åŠ¨ï¼‰éƒ½æºäºè¿™ç§è‡ªå‘æ¬²æœ›ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒAI åªæ˜¯ç°æœ‰çŸ¥è¯†æœ€å¥½çš„è¿ç”¨è€…ï¼Œå®ƒæ— æ³•è‡ªå‘çš„æƒ³å»åˆ›é€ æ–°äº‹ç‰©ï¼ˆå¦‚æœæœ‰çš„è¯ä¹Ÿå¤ªå¯æ€•äº†ï¼Œè¿™ TM ç›´æ¥å¤©ç½‘ï¼‰</p>
<p>è¦è®©AIæ‹¥æœ‰â€œçœŸæ­£è‡ªå‘çš„æ¬²æœ›â€ï¼Œéœ€è¦è§£å†³å“²å­¦çº§éš¾é¢˜ï¼šæ„è¯†ï¼ˆconsciousnessï¼‰ å’Œ ä¸»è§‚ä½“éªŒï¼ˆqualiaï¼‰ã€‚ç›®å‰ç§‘å­¦ç•Œè¿â€œæ„è¯†æ˜¯ä»€ä¹ˆâ€éƒ½æ²¡ææ¸…æ¥šï¼Œæ›´åˆ«è¯´åœ¨ç¡…åŸºç³»ç»Ÿé‡Œå®ç°å®ƒäº†ã€‚</p>
<p>æ‰€ä»¥è¿™æ˜¯ AI ä¸ºä»€ä¹ˆæ— æ³•ä»£æ›¿äººç±»çš„åŸå› ã€‚</p>
<p>ä½†æ˜¯ï¼Œä»ç›´è§‰ä¸Šæ¥çœ‹ï¼ŒAI ä¼¼ä¹å¯ä»¥æ›¿ä»£ä¸€éƒ¨åˆ†åŸºç¡€å·¥ä½œï¼Œè€Œä¸”ç°åœ¨æ­£åœ¨å‘ç”Ÿï¼Œæœ‰äº›å…¬å¸æ­£åœ¨æ‹›è˜é«˜çº§å¼€å‘è€…æ¥æ›¿ä»£å¤šä¸ªåˆä¸­çº§å²—ä½...</p>
<h2 data-id="heading-3">å±æœºçœŸæ­£çš„æ¥æº</h2>
<p>åˆä¸­çº§å²—ä½ç¡®å®æ­£åœ¨æ…¢æ…¢æ¶ˆå¤±ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æˆ‘ä»¬åœ¨å²—ç¨‹åºå‘˜ä¸€å®šä¼šæ‰é˜Ÿï¼Œç›¸åï¼Œæˆ‘ä»¬åœ¨è¡Œä¸šå†…å±äº â€œè€äººâ€ï¼Œä¹Ÿæ˜¯æœ€å…ˆåƒåˆ° AI è¿™å—è›‹ç³•çš„äººã€‚æ—¢ç„¶æ€»è¦æœ‰äººåšäº‹ï¼Œæ‰€è°“è¿‘æ°´æ¥¼å°å…ˆå¾—æœˆï¼Œæœ€å…ˆæœ‰æœºä¼šè½¬æ¢åˆ° <strong>èåˆèŒè´£å²—ä½</strong> çš„ï¼Œä¹Ÿä¼šæ˜¯æˆ‘ä»¬è¿™ä¸€æ‰¹äººï¼Œè€Œä¸æ˜¯å…¶ä»–äººã€‚</p>
<p>åœ¨æˆ‘ä»¬è¿™ä¸ªè¡Œä¸šï¼Œå„ä¸ªå²—ä½æ­£åœ¨å‘ç”Ÿèåˆï¼Œäº§å“ç»ç†ã€UIã€å‰åç«¯çš„ç•Œé™è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œæœ€è¿‘è¿˜å‡ºç°äº†æ‰€è°“çš„ â€œä¸€äººå…¬å¸â€ã€â€œè¶…çº§ä¸ªä½“â€ã€‚</p>
<p>åˆä¸­çº§å²—ä½çš„æ…¢æ…¢æ¶ˆå¤±å’Œå²—ä½èŒè´£çš„èåˆï¼Œæ˜¯ AI æ—¶ä»£ï¼Œå¯¹æ™®é€šç¨‹åºå‘˜æœ€å¤§çš„æŒ‘æˆ˜ï¼Œæˆ‘ä»¬åº”è¯¥é¡ºåº”è¿™ä¸€æ½®æµï¼Œè½¬å˜ä»¥å¾€çš„æ€ç»´ï¼Œå‹‡æ•¢çš„åŠ å…¥åˆ°è¿™åœºæ´ªæµä¸­ã€‚</p>
<p>é‚£ä¹ˆï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ</p>
<h2 data-id="heading-4">æœ‰è§£ï¼Œä¸”æ¯”ä»¥å‰æ›´ç®€å•ï¼</h2>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒT-shaped æŠ€èƒ½æ¨¡å‹æ¨èæˆ‘ä»¬ å…ˆå»ºç«‹ä¸€ä¸ªé¢†åŸŸçš„æ·±åº¦ï¼ˆå‚ç›´æ ï¼‰ï¼Œå†æ‰©å±•å¹¿åº¦ï¼ˆæ°´å¹³æ ï¼‰ï¼Œå½¢æˆTå½¢ã€‚æˆ‘ä»¬å¾ˆå¤šäººä¹Ÿæ˜¯è¿™ä¹ˆå¹²çš„ï¼Œå‰ç«¯åŒå­¦åœ¨æ·±åˆ»å­¦ä¹  JS è¯­è¨€åŸºç¡€ã€vueã€react æºç ï¼Œä¼ ç»Ÿé¢è¯•ä¸­ï¼Œè¿™äº›çŸ¥è¯†ä¹Ÿæ˜¯é‡ç‚¹è€ƒå¯Ÿå†…å®¹ã€‚</p>
<p>ä½†æ˜¯ AI æ—¶ä»£ï¼Œè¿™äº›æŠ€èƒ½å˜å¾—éå¸¸å»‰ä»·ï¼ŒAIå·²ç»æŠŠâ€œæ·±åº¦çº¯æŠ€æœ¯é’»ç ”â€çš„é—¨æ§›å¤§å¹…é™ä½ï¼šå®ƒèƒ½å¿«é€Ÿç”Ÿæˆä»£ç ã€ä¼˜åŒ–å®ç°ï¼Œç”šè‡³å¸®ä½ è¯»æºç ã€æ€»ç»“å…³é”®ã€‚</p>
<p>ä½ å¯ä»¥å®Œå…¨æ²¡è¯»è¿‡ vue æºç ï¼Œè€Œä»…ç”¨ä¸€å¥ï¼šâ€œå¸®æˆ‘å®ç°ä¸€ä¸ª vue çš„å“åº”å¼ç³»ç»Ÿâ€ å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>T çš„ç«–çº¿è¡¨ç¤ºé¢†åŸŸæ·±è€•ï¼Œæ—¢ç„¶æ·±è€•åˆ°ä¸€åŠï¼Œå‘ç°ä¸å¤ªæœ‰ç«äº‰åŠ›äº†ï¼Œæ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼Œå‘å±•æ¨ªè½´ï¼Œæ¨ªè½´ä»£è¡¨äº†æˆ‘ä»¬çš„å¹¿åº¦ï¼ˆå…¨æ ˆç‹‚å–œï¼‰ï¼Œä½†è¿™é‡Œè¯´çš„ä¸æ˜¯çº¯æŠ€æœ¯å¹¿åº¦ï¼Œè€Œæ˜¯å¤šæ–¹é¢å¤šç³»ç»Ÿçš„èä¼šè´¯é€šã€‚</p>
<p>ä¸è¿‡å¥½åœ¨è¿™äº›æŠ€èƒ½æ˜¯æˆ‘ä»¬èªæ˜çš„ç¨‹åºå‘˜å¤©ç”Ÿå°±å…·å¤‡çš„èƒ½åŠ›ã€‚</p>
<p>æœªæ¥ä¼˜ç§€ç¨‹åºå‘˜ä¸å†æ˜¯â€œå†™ä»£ç æœ€å¿«çš„äººâ€ï¼Œè€Œæ˜¯ç³»ç»Ÿæ€è€ƒè€… + éœ€æ±‚ç¿»è¯‘è€… + AIæŒ‡æŒ¥å®˜ + å¤æ‚é—®é¢˜è§£å†³è€… + é«˜æ•ˆæ²Ÿé€šè€…ã€‚</p>
<ol>
<li><strong>System Thinking ç³»ç»Ÿæ€ç»´</strong> è§£é‡Šï¼šèƒ½å¤Ÿä»æ•´ä½“è§†è§’è®¾è®¡å¤æ‚ã€å¯æ‰©å±•ã€å¯ç»´æŠ¤çš„ç³»ç»Ÿï¼Œæƒè¡¡æ€§èƒ½ã€æˆæœ¬ã€å®‰å…¨ã€æ¼”åŒ–ç­‰å¤šä¸ªç»´åº¦ã€‚AIæ“…é•¿å±€éƒ¨ï¼Œäººç±»å¿…é¡»è´Ÿè´£å…¨å±€æ¶æ„ã€‚</li>
<li><strong>Requirement Mastery éœ€æ±‚æ´å¯Ÿ</strong> è§£é‡Šï¼šç²¾å‡†ç†è§£æ¨¡ç³Šã€çŸ›ç›¾çš„ä¸šåŠ¡éœ€æ±‚ï¼ŒæŠŠå•†ä¸šç›®æ ‡è½¬åŒ–ä¸ºå¯éªŒè¯çš„æŠ€æœ¯æ–¹æ¡ˆã€‚æœªæ¥ç¨‹åºå‘˜æ›´åƒâ€œä¸šåŠ¡ç¿»è¯‘è€…â€ï¼Œè¿™æ˜¯AIæœ€å¼±çš„ä¸€ç¯ã€‚</li>
<li><strong>Integration Ability èåˆè´¯é€š</strong> è§£é‡Šï¼šå¿«é€Ÿæ•´åˆä¸åŒæŠ€æœ¯æ ˆã€AIå·¥å…·ã€ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œä»0åˆ°1æ„å»ºå®Œæ•´äº§å“ã€‚å¹¿åº¦+å¿«é€Ÿå­¦ä¹ èƒ½åŠ›ï¼Œè®©ä½ èƒ½é©¾é©­AIå®ç°è·¨é¢†åŸŸåˆ›æ–°ã€‚</li>
<li><strong>Debugging &amp; Reasoning å¤æ‚è°ƒè¯•ä¸æ¨ç†</strong> è§£é‡Šï¼šå¿«é€Ÿå®šä½æ ¹å› ï¼Œéœ€è¦å¼ºå¤§çš„å› æœæ¨ç†ã€å‡è®¾æ£€éªŒèƒ½åŠ›ã€‚AIä¼šå‡å°‘ç®€å•bugï¼Œä½†å¤æ‚é—®é¢˜ä¼šæ›´å¤šã€æ›´éšè”½ã€‚</li>
<li><strong>Communication &amp; Expression è¯­è¨€ç»„ç»‡èƒ½åŠ›</strong> æ²Ÿé€šä¸è¡¨è¾¾ è§£é‡Šï¼šç”¨æ¸…æ™°ã€ç»“æ„åŒ–çš„è¯­è¨€ï¼ˆä¹¦é¢æœ€é‡è¦ï¼‰æŠŠå¤æ‚æŠ€æœ¯æƒ³æ³•è¡¨è¾¾å‡ºæ¥ï¼ŒåŒ…æ‹¬å†™ AI æç¤ºè¯ (ç›®å‰ï¼Œå°†æ¥å¯èƒ½å¼±åŒ–)ã€æ–‡æ¡£ã€æŠ€æœ¯æ–¹æ¡ˆã€è·¨å›¢é˜Ÿæ²Ÿé€šç­‰ã€‚è„‘å­é‡Œå†æ‡‚ï¼Œä¸è¯´å‡ºæ¥å°±ç­‰äºæ²¡ç”¨â€”â€”è¿™ä¼šç›´æ¥å½±å“ä½ çš„å½±å“åŠ›ã€æ™‹å‡å’Œåä½œæ•ˆç‡ã€‚</li>
</ol>
<p>çœ‹èµ·æ¥éœ€è¦å…·å¤‡è¿™ä¹ˆå¤šèƒ½åŠ›ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œå…¶å®æ¯ä¸ªäººéƒ½å·²ç»åŸºæœ¬å…·å¤‡ã€‚æ¯ä¸ªäººåªéœ€åœ¨è‡ªå·±çš„è–„å¼±é¢†åŸŸç¨åŠ ç»ƒä¹ å³å¯ï¼Œè¿™æ¯”å•ƒæ¡†æ¶æºç å¯ç®€å•å¤šäº†ï¼Œè‡³å°‘éƒ½æ˜¯å¯ä»¥ â€œå‹¤èƒ½è¡¥æ‹™â€ çš„æŠ€èƒ½ã€‚</p>
<h2 data-id="heading-5">ç»“è¯­</h2>
<p>AI ä¸æ˜¯æ´ªæ°´çŒ›å…½ï¼Œå®ƒæ˜¯æˆ‘ä»¬æœ€å¯é çš„å‰¯é©¾é©¶ï¼Œæˆ‘ä»¬åº”è¯¥å‹‡æ•¢æŠ•å…¥æ½®æµï¼Œè½¬å˜è‡ªèº«æ€åº¦ï¼Œæå‡è§†é‡ï¼Œæ‰èƒ½åœ¨æœªæ¥çš„ AI å¤§èåˆæ—¶ä»£å ä½è‡ªå·±çš„ä¸€å¸­ä¹‹åœ°ã€‚</p>
<p>è¿˜æœ‰ï¼Œ2026ï¼Œåˆ«æ„Ÿå†’ï¼</p>
<h2 data-id="heading-6">ç•ªå¤–</h2>
<ul>
<li>æœ¬æ–‡ç« ç”±æˆ‘å’Œ Grok å…±åˆ›ï¼Œå¯¹è¯é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgrok.com%2Fshare%2Fc2hhcmQtMw_445a1513-9ab0-4b61-8133-c028954efbad" target="_blank" title="https://grok.com/share/c2hhcmQtMw_445a1513-9ab0-4b61-8133-c028954efbad" ref="nofollow noopener noreferrer">grok.com/share/c2hhcâ€¦</a></li>
</ul>

<ul>
<li>
<p>Google AI Studio å¸®æˆ‘å®ç°äº†å¾ˆå¤šæƒ³æ³•ï¼</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwcnm.club%2F" target="_blank" title="https://wcnm.club/" ref="nofollow noopener noreferrer">wcnm.club/</a> ä¸€ä¸ªåŒ¿åçš„åœ¨çº¿èŠå¤©å®¤ï¼Œå¯é…ç½®è‡ªå·±çš„ç§å¯† mqtt æœåŠ¡å™¨ï¼Œä¸€é”®å¯åŠ¨ï¼</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felemental-survivor.vercel.app%2F" target="_blank" title="https://elemental-survivor.vercel.app/" ref="nofollow noopener noreferrer">elemental-survivor.vercel.app/</a> ä¸€ä¸ªè‚‰é¸½æ¸¸æˆï¼Œéå¸¸å®Œæ•´ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsolar-max-clone-galactic-conquest.vercel.app%2F" target="_blank" title="https://solar-max-clone-galactic-conquest.vercel.app/" ref="nofollow noopener noreferrer">solar-max-clone-galactic-conquest.vercel.app/</a> æ‰‹æ¸¸ ã€Šå¤ªé˜³ç³»äº‰éœ¸æˆ˜ (solarmax)ã€‹å¤åˆ»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode-hero-pi.vercel.app%2F" target="_blank" title="https://code-hero-pi.vercel.app/" ref="nofollow noopener noreferrer">code-hero-pi.vercel.app/</a> å¯ä»¥è‡ªå·±è®¾è®¡è‹±é›„çš„å›åˆåˆ¶å¡ç‰Œå¯¹æˆ˜ï¼Œå¯è”æœºå¯¹æˆ˜ï¼</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ubuntu/Debian VPS ä¸Š Apache Web æœåŠ¡å™¨çš„å®Œæ•´é…ç½®æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7589617028882956330</link>    <guid>https://juejin.cn/post/7589617028882956330</guid>    <pubDate>2025-12-31T06:01:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589617028882956330" data-draft-id="7589676302107967507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ubuntu/Debian VPS ä¸Š Apache Web æœåŠ¡å™¨çš„å®Œæ•´é…ç½®æ•™ç¨‹"/> <meta itemprop="keywords" content="Ubuntu,Apache"/> <meta itemprop="datePublished" content="2025-12-31T06:01:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DigitalOcean"/> <meta itemprop="url" content="https://juejin.cn/user/2031553217827127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ubuntu/Debian VPS ä¸Š Apache Web æœåŠ¡å™¨çš„å®Œæ•´é…ç½®æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2031553217827127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DigitalOcean
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T06:01:58.000Z" title="Wed Dec 31 2025 06:01:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Apache æ˜¯äº’è”ç½‘ä¸Šæœ€æµè¡Œçš„ Web æœåŠ¡å™¨ä¹‹ä¸€ï¼Œç”¨äºæ‰˜ç®¡è¶…è¿‡åŠæ•°æ´»è·ƒç½‘ç«™ã€‚å°½ç®¡å¸‚é¢ä¸Šå­˜åœ¨è®¸å¤šå¯ç”¨çš„ Web æœåŠ¡å™¨ï¼Œä½†ç”±äº Apache çš„æ™®éæ€§ï¼Œäº†è§£å…¶å·¥ä½œåŸç†ä»ç„¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚</p>
<p>æœ¬æ–‡å°†åˆ†äº« Apache çš„é€šç”¨é…ç½®æ–‡ä»¶åŠå…¶å¯é…ç½®é€‰é¡¹ã€‚æ–‡ä¸­å°†ä»¥ Ubuntu/Debian ç³»ç»Ÿçš„ Apache æ–‡ä»¶å¸ƒå±€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œè¿™ç§å¸ƒå±€æ–¹å¼ä¸å…¶ä»– Linux å‘è¡Œç‰ˆçš„é…ç½®å±‚çº§ç»“æ„æœ‰æ‰€ä¸åŒã€‚</p>
<p><strong>ç‰ˆæœ¬å…¼å®¹æ€§</strong>â€‹â€‹<strong>è¯´æ˜</strong>â€‹ï¼šæœ¬æ•™ç¨‹å·²åœ¨ Ubuntu 22.04 LTSã€Ubuntu 24.04 LTSã€Ubuntu 25.04 ä»¥åŠ Debian 11ã€Debian 12 ç³»ç»Ÿä¸Šé€šè¿‡éªŒè¯æµ‹è¯•ã€‚æ‰€æœ‰å±•ç¤ºçš„å‘½ä»¤å’Œé…ç½®å‡å…¼å®¹ä¸Šè¿°ç‰ˆæœ¬ï¼Œä¸” Apache é…ç½®ç»“æ„ä¸å‘½ä»¤ï¼ˆå¦‚ a2ensiteã€a2dissiteã€a2enmod å’Œ a2dismodï¼‰åœ¨è¿™äº› Ubuntu ä¸ Debian ç‰ˆæœ¬ä¸­ä¿æŒä¸€è‡´æ€§æ“ä½œã€‚</p>
<p><strong>æœ¬æ–‡æ ¸å¿ƒè¦ç‚¹</strong></p>
<ul>
<li>æ¨¡å—åŒ–é…ç½®ç»“æ„ï¼šUbuntu/Debian ç³»ç»Ÿä¸Šçš„ Apache é‡‡ç”¨æ¨¡å—åŒ–é…ç½®ä½“ç³»ï¼Œé€šè¿‡ç‹¬ç«‹ç›®å½•åˆ†åˆ«ç®¡ç†ç«™ç‚¹ï¼ˆsites-available/ä¸ sites-enabled/ï¼‰ã€æ¨¡å—ï¼ˆmods-available/ä¸ mods-enabled/ï¼‰å’Œé…ç½®ç‰‡æ®µï¼ˆconf-available/ä¸ conf-enabled/ï¼‰ï¼Œæ— éœ€ä¿®æ”¹æ•´ä½“é…ç½®æ–‡ä»¶å³å¯è½»æ¾å¯ç”¨æˆ–ç¦ç”¨åŠŸèƒ½ã€‚</li>
<li>è™šæ‹Ÿä¸»æœºç®¡ç†ï¼šè™šæ‹Ÿä¸»æœºæ”¯æŒåœ¨å•å°æœåŠ¡å™¨ä¸Šæ‰˜ç®¡å¤šä¸ªç½‘ç«™ã€‚é€šè¿‡ a2ensite å’Œ a2dissite å‘½ä»¤ç®¡ç†ç¬¦å·é“¾æ¥æ¥æ“æ§ç«™ç‚¹é…ç½®ï¼Œè€Œ ServerName ä¸ ServerAlias æŒ‡ä»¤åˆ™æ§åˆ¶æ¯ä¸ªè™šæ‹Ÿä¸»æœºå¤„ç†çš„åŸŸåã€‚</li>
<li>å…¨å±€é…ç½®é€‰é¡¹ï¼šä¸»é…ç½®æ–‡ä»¶ apache2.conf ä¸­çš„å…³é”®æ€§èƒ½å‚æ•°ï¼ˆå¦‚ Timeoutã€KeepAliveã€MaxKeepAliveRequests å’Œ KeepAliveTimeoutï¼‰ä¼šæ˜¾è‘—å½±å“æœåŠ¡å™¨æ€§èƒ½ï¼Œåº”æ ¹æ®æµé‡æ¨¡å¼å’ŒæœåŠ¡å™¨èµ„æºè¿›è¡Œé’ˆå¯¹æ€§è°ƒä¼˜ã€‚</li>
<li>ç›®å½•å®‰å…¨æœºåˆ¶ï¼šApache é‡‡ç”¨ä»æœ€å…·ä½“åˆ°æœ€é€šç”¨çš„ç›®å½•é…ç½®ç»§æ‰¿æ–¹å¼ï¼Œå…è®¸å…ˆè®¾ç½®åŸºç¡€å®‰å…¨è§„åˆ™ï¼ˆå¦‚ç¦æ­¢æ‰€æœ‰è®¿é—®ï¼‰ï¼Œå†ä¸ºç‰¹å®šç›®å½•å¼€æ”¾æƒé™ã€‚AllowOverride æŒ‡ä»¤å¯æ§åˆ¶.htaccess æ–‡ä»¶æ˜¯å¦èƒ½å¤Ÿè¦†ç›–æœåŠ¡å™¨è®¾ç½®ã€‚</li>
<li>æ¨¡å—åŒ–ç³»ç»Ÿï¼šApache çš„æ¨¡å—ç³»ç»Ÿé€šè¿‡ a2enmod å’Œ a2dismod å‘½ä»¤å®ç°åŠŸèƒ½æ‰©å±•ã€‚åœ¨ç°ä»£ Ubuntu/Debian ç³»ç»Ÿä¸­ï¼Œevent MPMï¼ˆå¤šå¤„ç†æ¨¡å—ï¼‰ä½œä¸ºé»˜è®¤é…ç½®ï¼Œä¸ºå¹¶å‘è¿æ¥æä¾›é«˜æ•ˆå¤„ç†èƒ½åŠ›ã€‚</li>
</ul>
<h2 data-id="heading-0"><strong>å‡†å¤‡å·¥ä½œ</strong></h2>
<p>è‹¥æ‚¨ä½¿ç”¨çš„ Ubuntu ç‰ˆæœ¬ä¸º 16.04 æˆ–æ›´æ—©ï¼Œå»ºè®®å‡çº§è‡³æ›´æ–°çš„ç‰ˆæœ¬ï¼Œå› ä¸º Ubuntu å®˜æ–¹å·²ä¸å†ä¸ºè¿™äº›æ—§ç‰ˆæœ¬æä¾›æ”¯æŒã€‚æ‚¨å¯ä»¥å‚è€ƒ DigitalOcean å®˜ç½‘ç¤¾åŒºçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorial-collections%2Fubuntu-lts-upgrades" target="_blank" title="https://www.digitalocean.com/community/tutorial-collections/ubuntu-lts-upgrades" ref="nofollow noopener noreferrer">å‡çº§æŒ‡å—ç³»åˆ—</a>æ¥å®Œæˆç³»ç»Ÿå‡çº§ã€‚å¦‚éœ€è¦äº†è§£ DigitalOcean Droplet VPS çš„è¯¦ç»†äº§å“ä¿¡æ¯ï¼Œå¯å’¨è¯¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2F" target="_blank" title="https://www.aidroplet.com/" ref="nofollow noopener noreferrer">DigitalOcean ä¸­å›½åŒºç‹¬å®¶æˆ˜ç•¥åˆä½œä¼™ä¼´å“æ™®äº‘ AI Droplet</a>ã€‚</p>
<p>éœ€è¦å‡†å¤‡ä¸€å°è¿è¡Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fcloudcpu%2F" target="_blank" title="https://www.aidroplet.com/product/cloudcpu/" ref="nofollow noopener noreferrer">Ubuntu çš„æœåŠ¡å™¨</a>ï¼Œå¹¶é…ç½®å¥½å…·æœ‰ sudo æƒé™çš„é root ç”¨æˆ·åŠæœ‰æ•ˆçš„é˜²ç«å¢™ã€‚å…·ä½“è®¾ç½®æ–¹æ³•å¯æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Fubuntu%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/ubuntu/" ref="nofollow noopener noreferrer">DigitalOcean æ•™ç¨‹</a>ï¼Œæˆ–æ ¹æ®æ‚¨çš„ç³»ç»Ÿç‰ˆæœ¬é€‰æ‹©<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorial_collections%2Finitial-server-setup" target="_blank" title="https://www.digitalocean.com/community/tutorial_collections/initial-server-setup" ref="nofollow noopener noreferrer">å¯¹åº”çš„åˆå§‹åŒ–æœåŠ¡å™¨é…ç½®æŒ‡å—</a>ã€‚</p>
<p>åœ¨å¼€å§‹æ¢ç´¢ Apache é…ç½®ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Apacheã€‚</p>
<p><strong>Ubuntu ç³»ç»Ÿé…ç½®Apache</strong>â€‹<strong>Web æœåŠ¡å™¨çš„ 5 ä¸ªæ­¥éª¤</strong></p>
<ol>
<li>äº†è§£ Apache æ–‡ä»¶å±‚çº§ç»“æ„</li>
<li>è§£æ Apache2.conf ä¸»é…ç½®æ–‡ä»¶</li>
<li>é…ç½®å…¨å±€å‚æ•°</li>
<li>è®¾ç½®è™šæ‹Ÿä¸»æœºæ–‡ä»¶</li>
<li>å¯ç”¨ç«™ç‚¹ä¸åŠŸèƒ½æ¨¡å—</li>
</ol>
<h2 data-id="heading-1"><strong>æ­¥éª¤ä¸€ï¼šApache</strong>â€‹<strong>æ–‡ä»¶å±‚çº§ç»“æ„</strong></h2>
<p>Apache çš„ä¸»é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨/etc/apache2 ç›®å½•ä¸­ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -f /etc/apache2
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">envars sites-available . apache2.conf .. sites-enabled mods-available ports.conf magic mods-enabled conf-enabled conf-available
</code></pre>
<p>è¯¥ç›®å½•åŒ…å«è‹¥å¹²çº¯æ–‡æœ¬æ–‡ä»¶å’Œå­ç›®å½•ã€‚éœ€è¦é‡ç‚¹äº†è§£çš„å¸¸ç”¨è·¯å¾„å¦‚ä¸‹ï¼š</p>
<ul>
<li>â€‹<strong>apache2.conf</strong>â€‹ï¼šæœåŠ¡å™¨ä¸»é…ç½®æ–‡ä»¶ã€‚è™½ç„¶å‡ ä¹æ‰€æœ‰é…ç½®éƒ½å¯åœ¨æ­¤æ–‡ä»¶ä¸­å®Œæˆï¼Œä½†ä¸ºç®€åŒ–ç®¡ç†ï¼Œå»ºè®®ä½¿ç”¨ç‹¬ç«‹çš„ä¸“ç”¨æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å°†é…ç½®é»˜è®¤å‚æ•°ï¼Œå¹¶ä½œä¸ºæœåŠ¡å™¨è¯»å–é…ç½®ä¿¡æ¯çš„æ ¸å¿ƒå…¥å£ã€‚</li>
<li>â€‹<strong>ports.conf</strong>â€‹ï¼šæ­¤æ–‡ä»¶ç”¨äºæŒ‡å®šè™šæ‹Ÿä¸»æœºçš„ç›‘å¬ç«¯å£ã€‚é…ç½® SSL æ—¶è¯·åŠ¡å¿…æ£€æŸ¥æ­¤æ–‡ä»¶è®¾ç½®ã€‚è¯¦ç»†çš„ SSL é…ç½®è¯´æ˜å¯å‚é˜…æˆ‘ä»¬çš„æŒ‡å—ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-secure-apache-with-let-s-encrypt-on-ubuntu" target="_blank" title="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨ Ubuntu ä¸Šä½¿ç”¨ Let's Encrypt åŠ å¯† Apache</a>ã€‹ã€‚</li>
<li>â€‹**sites-available/ä¸ sites-enabled/**â€‹ï¼šsites-available ç›®å½•å­˜æ”¾è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ã€‚è¯¥ç›®å½•ä¸‹çš„é…ç½®å†³å®šäº†ä¸åŒè¯·æ±‚å¯¹åº”çš„æœåŠ¡å†…å®¹ã€‚é€šè¿‡åˆ›å»ºæŒ‡å‘ sites-enabled ç›®å½•çš„ç¬¦å·é“¾æ¥æ¥å¯ç”¨é…ç½®ï¼Œåè€…å­˜å‚¨å·²æ¿€æ´»çš„è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ã€‚Apache åœ¨å¯åŠ¨æˆ–é‡è½½æ—¶ï¼Œä¼šè¯»å– sites-enabled ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ä¸é“¾æ¥ä»¥ç¼–è¯‘å®Œæ•´é…ç½®ã€‚</li>
<li>â€‹**conf-available/ä¸ conf-enabled/**â€‹ï¼šè¿™äº›ç›®å½•å­˜æ”¾ä¸è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶åˆ†ç¦»çš„é…ç½®ç‰‡æ®µã€‚</li>
<li>â€‹**mods-enabled/ä¸ mods-available/**â€‹ï¼šè¿™äº›ç›®å½•å®šä¹‰å¯é€‰çš„åŠ è½½æ¨¡å—ã€‚æ¯ä¸ªç›®å½•åŒ…å«ä¸¤ç§æ–‡ä»¶ï¼šä»¥.load ç»“å°¾çš„æ–‡ä»¶åŒ…å«åŠ è½½ç‰¹å®šæ¨¡å—çš„æŒ‡ä»¤ç‰‡æ®µï¼›ä»¥.conf ç»“å°¾çš„æ–‡ä»¶å­˜å‚¨è¿™äº›æ¨¡å—çš„é…ç½®å‚æ•°ã€‚</li>
</ul>
<p>Apache é…ç½®å¹¶éé‡‡ç”¨å•ä¸€çš„æ•´ä½“æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æ¨¡å—åŒ–è®¾è®¡å®ç°ï¼Œå¯æ ¹æ®éœ€è¦å¢åˆ æˆ–ä¿®æ”¹ç‹¬ç«‹é…ç½®æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-2"><strong>æ­¥éª¤äºŒï¼šè§£æ apache2.conf æ–‡ä»¶</strong></h2>
<p>Apache æœåŠ¡å™¨çš„ä¸»è¦é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨/etc/apache2/apache2.conf æ–‡ä»¶ä¸­ã€‚è¯¥æ–‡ä»¶åˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ol>
<li>Apache å…¨å±€è¿›ç¨‹é…ç½®</li>
<li>é»˜è®¤æœåŠ¡å™¨é…ç½®</li>
<li>è™šæ‹Ÿä¸»æœºé…ç½®</li>
</ol>
<p>ä½¿ç”¨æ‚¨æƒ¯ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€æ­¤æ–‡ä»¶ï¼ˆä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ nano ç¼–è¾‘å™¨ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/apache2/apache2.conf
</code></pre>
<p>åœ¨ Ubuntu å’Œ Debian ç³»ç»Ÿä¸­ï¼Œæ­¤æ–‡ä»¶ç”¨äºå®šä¹‰å…¨å±€é…ç½®é¡¹ã€‚é»˜è®¤æœåŠ¡å™¨ä¸è™šæ‹Ÿä¸»æœºçš„é…ç½®åˆ™é€šè¿‡ Include æŒ‡ä»¤å®ç°ã€‚</p>
<p>Include æŒ‡ä»¤å…è®¸ Apache åœ¨æŒ‡ä»¤å‡ºç°ä½ç½®å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒApache åœ¨å¯åŠ¨æ—¶ä¼šåŠ¨æ€ç”Ÿæˆå®Œæ•´çš„æ€»ä½“é…ç½®æ–‡ä»¶ã€‚</p>
<p>è¯¥æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ª Include å’Œ IncludeOptional å£°æ˜è¯­å¥ï¼Œè¿™äº›æŒ‡ä»¤ç”¨äºåŠ è½½æ¨¡å—å®šä¹‰ã€ports.conf æ–‡æ¡£ã€conf-enabled/ç›®å½•ä¸­çš„ç‰¹å®šé…ç½®æ–‡ä»¶ä»¥åŠ sites-enabled/ç›®å½•ä¸­çš„è™šæ‹Ÿä¸»æœºå®šä¹‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/etc/apache2/apache2.conf
â€¦
IncludeOptional mods-enabled/*.load
IncludeOptional mods-enabled/*.conf
â€¦
Include ports.conf
â€¦
IncludeOptional conf-enabled/*.conf
â€¦
IncludeOptional sites-enabled/*.conf
</code></pre>
<h2 data-id="heading-3"><strong>æ­¥éª¤ä¸‰ï¼šé…ç½®Apache</strong>â€‹<strong>å…¨å±€å‚æ•°</strong></h2>
<p>åœ¨å…¨å±€é…ç½®ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š</p>
<p><strong>è¶…æ—¶è®¾ç½®ï¼ˆTimeoutï¼‰</strong></p>
<p>æ­¤å‚æ•°é»˜è®¤å€¼ä¸º 300 ç§’ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¤„ç†æ¯ä¸ªè¯·æ±‚çš„æœ€é•¿æ—¶é—´ä¸Šé™ã€‚å»ºè®®å°†å…¶è°ƒæ•´ä¸º 30 è‡³ 60 ç§’ä¹‹é—´çš„å®‰å…¨å€¼ã€‚</p>
<p>â€‹<strong>æŒä¹…è¿æ¥ï¼ˆKeepAlive</strong>â€‹**ï¼‰**</p>
<p>æ­¤é€‰é¡¹è‹¥è®¾ç½®ä¸º Onï¼Œå°†å…è®¸å•ä¸ªè¿æ¥ä¿æŒå¼€æ”¾çŠ¶æ€ä»¥å¤„ç†åŒä¸€å®¢æˆ·ç«¯çš„å¤šä¸ªè¯·æ±‚ã€‚è‹¥è®¾ä¸º Offï¼Œåˆ™æ¯ä¸ªè¯·æ±‚éƒ½éœ€å»ºç«‹æ–°è¿æ¥ï¼Œæ ¹æ®æ‚¨çš„æœåŠ¡å™¨è®¾ç½®å’Œæµé‡çŠ¶å†µï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ˜¾è‘—çš„æ€§èƒ½å¼€é”€ã€‚</p>
<p><strong>æœ€å¤§æŒä¹…è¯·æ±‚æ•°ï¼ˆMaxKeepAliveRequestsï¼‰</strong></p>
<p>æ­¤å‚æ•°æ§åˆ¶å•ä¸ªè¿æ¥åœ¨å¤„ç†å¤šå°‘æ¬¡ç‹¬ç«‹è¯·æ±‚åç»ˆæ­¢ã€‚ä¿æŒè¾ƒé«˜æ•°å€¼å¯æå‡ Apache å¯¹æ¯ä¸ªå®¢æˆ·ç«¯çš„æœåŠ¡æ•ˆç‡ã€‚é»˜è®¤è®¾ç½®ä¸º 100ï¼Œè‹¥è®¾ä¸º 0 åˆ™å…è®¸æ¯ä¸ªè¿æ¥å¤„ç†æ— é™æ¬¡è¯·æ±‚ã€‚</p>
<p><strong>æŒä¹…è¿æ¥è¶…æ—¶ï¼ˆKeepAliveTimeoutï¼‰</strong></p>
<p>æ­¤è®¾ç½®æŒ‡å®šå®Œæˆä¸Šæ¬¡è¯·æ±‚åç­‰å¾…ä¸‹æ¬¡è¯·æ±‚çš„é—´éš”æ—¶é—´ã€‚è‹¥è¾¾åˆ°è¶…æ—¶é˜ˆå€¼ï¼Œè¿æ¥å°†è‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™æ„å‘³ç€ä¸‹æ¬¡è¯·æ±‚å†…å®¹æ—¶ï¼ŒæœåŠ¡å™¨éœ€é‡æ–°å»ºç«‹è¿æ¥æ¥å¤„ç†æ„æˆå®¢æˆ·ç«¯è®¿é—®é¡µé¢çš„å†…å®¹è¯·æ±‚ã€‚é»˜è®¤å€¼ä¸º 5 ç§’ã€‚</p>
<p>æŸ¥çœ‹é…ç½®æ–‡ä»¶å†…å®¹åï¼Œå¯æŒ‰ CTRL+X ç»„åˆé”®é€€å‡ºç¼–è¾‘ã€‚</p>
<p>â€‹<strong>å¤šå¤„ç†æ¨¡å—ï¼ˆMPM</strong>â€‹**ï¼‰**</p>
<p>å¤šå¤„ç†æ¨¡å—ï¼ˆMPMï¼‰æ˜¯ Apache æ¨¡å—åŒ–è®¾è®¡çš„å»¶ä¼¸ã€‚MPM è´Ÿè´£ç›‘å¬ã€è°ƒåº¦å’Œå¤„ç†ä¸åŒçš„ç½‘ç»œè¯·æ±‚ã€‚æ‚¨å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤äº¤å‰éªŒè¯ Apache å®‰è£…æ—¶ç¼–è¯‘çš„æ¨¡å—ä¿¡æ¯ï¼š</p>
<pre><code class="hljs">apache2ctl -L
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Compiled in modules:</span>
  <span class="hljs-string">core.c</span>
  <span class="hljs-string">mod_so.c</span>
  <span class="hljs-string">mod_watchdog.c</span>
  <span class="hljs-string">http_core.c</span>
  <span class="hljs-string">mod_log_config.c</span>
  <span class="hljs-string">mod_logio.c</span>
  <span class="hljs-string">mod_version.c</span>
  <span class="hljs-string">mod_unixd.c</span>
</code></pre>
<p>ä½¿ç”¨ a2query -M å‘½ä»¤å¯æŸ¥çœ‹æœåŠ¡å™¨å½“å‰å¯ç”¨çš„ MPM ç±»å‹ï¼š</p>
<pre><code class="hljs">a2query -M
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">event</span>
</code></pre>
<p>è¾“å‡ºæ˜¾ç¤ºè¯¥æœåŠ¡å™¨æ­£åœ¨ä½¿ç”¨ event ç±»å‹çš„ MPMã€‚æ‚¨çš„å®‰è£…ç¯å¢ƒå¯èƒ½æä¾›å¤šç§ MPM é€‰æ‹©ï¼Œä½†åŒä¸€æ—¶é—´åªèƒ½å¯ç”¨å…¶ä¸­ä¸€ç§ã€‚</p>
<h2 data-id="heading-4"><strong>æ­¥éª¤å››ï¼šé…ç½®Apache</strong>â€‹<strong>è™šæ‹Ÿä¸»æœºæ–‡ä»¶</strong></h2>
<p>é»˜è®¤è™šæ‹Ÿä¸»æœºå£°æ˜ä½äº sites-available/ç›®å½•ä¸‹çš„ 000-default.conf æ–‡ä»¶ä¸­ã€‚é€šè¿‡æŸ¥çœ‹æ­¤æ–‡ä»¶å¯ä»¥äº†è§£è™šæ‹Ÿä¸»æœºæ–‡ä»¶çš„åŸºæœ¬æ ¼å¼ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“å¼€æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">sudo nano /etc/apache2/sites-available/<span class="hljs-number">000</span>-<span class="hljs-keyword">default</span>.conf
</code></pre>
<p>â€‹<strong>æ–‡ä»¶å†…å®¹ç¤ºä¾‹</strong>â€‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">&lt;VirtualHost *:80&gt;
â€¦
ServerAdmin webmaster@localhost
DocumentRoot /var/www/html
â€¦
ErrorLog <span class="hljs-variable">${APACHE_LOG_DIR}</span>/error.log
CustomLog <span class="hljs-variable">${APACHE_LOG_DIR}</span>/access.log combined
â€¦
</code></pre>
<p>é»˜è®¤è™šæ‹Ÿä¸»æœºé…ç½®ä¸ºå¤„ç† 80 ç«¯å£ï¼ˆæ ‡å‡† HTTP ç«¯å£ï¼‰çš„æ‰€æœ‰è¯·æ±‚ã€‚è¿™é€šè¿‡å£°æ˜å¤´ä¸­çš„*:80 å®šä¹‰ï¼Œè¡¨ç¤ºä»»æ„ç½‘ç»œæ¥å£çš„ 80 ç«¯å£ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒå¿…ç„¶å¤„ç†è¯¥ç«¯å£çš„æ‰€æœ‰è¯·æ±‚â€”â€”Apache ä¼šé‡‡ç”¨ä¸è¯·æ±‚æœ€åŒ¹é…çš„è™šæ‹Ÿä¸»æœºå®šä¹‰ï¼Œæ›´å…·ä½“çš„å®šä¹‰å¯èƒ½è¦†ç›–æ­¤é…ç½®ã€‚æŸ¥çœ‹æ–‡ä»¶åå¯æŒ‰ CTRL+X é€€å‡ºã€‚</p>
<p><strong>Apacheè™šæ‹Ÿä¸»æœº</strong>â€‹<strong>é…ç½®</strong></p>
<p>ä»¥ä¸‹é€‰é¡¹è®¾ç½®åœ¨è™šæ‹Ÿä¸»æœºå®šä¹‰å†…ï¼ˆä¸åŒ…å«å…¶ä»–ä¸‹å±‚å­å£°æ˜ï¼‰ï¼Œé€‚ç”¨äºæ•´ä¸ªè™šæ‹Ÿä¸»æœºã€‚é¦–å…ˆæ‰“å¼€ conf-available/ç›®å½•ä¸‹çš„ security.conf æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/apache2/conf-available/security.conf
</code></pre>
<p>æ­¤æ–‡ä»¶åŒ…å« ServerSignature æŒ‡ä»¤ï¼Œå¯ç”¨äºè®¾ç½®æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶æ˜¾ç¤ºçš„è”ç³»é‚®ç®±ã€‚å°†é»˜è®¤å€¼ä» On æ”¹ä¸º EMail å¯æ˜¾ç¤ºç®¡ç†å‘˜é‚®ç®±ï¼ˆè¯·ç¡®ä¿æ‚¨æ„¿æ„æ¥æ”¶ç›¸å…³é‚®ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs">ServerSignature EMail
</code></pre>
<p>æŒ‰ CTRL+X é€€å‡ºã€‚ç¼–è¾‘é…ç½®æ–‡ä»¶åï¼Œç³»ç»Ÿä¼šæç¤ºç¡®è®¤æ›´æ”¹ï¼šæŒ‰ Y ä¿å­˜æ›´æ”¹ï¼ŒæŒ‰ N æ”¾å¼ƒæ›´æ”¹ã€‚</p>
<p>åœ¨è™šæ‹Ÿä¸»æœºæ–‡ä»¶ä¸­ï¼Œå¯æ·»åŠ  ServerName æŒ‡ä»¤æŒ‡å®šè¯¥è™šæ‹Ÿä¸»æœºå¤„ç†çš„åŸŸåæˆ– IP åœ°å€ã€‚æ­¤é€‰é¡¹å°†å¢åŠ è™šæ‹Ÿä¸»æœºçš„ç‰¹å¼‚æ€§ï¼Œå½“åŒ¹é… ServerName å€¼æ—¶å³å¯è¦†ç›–é»˜è®¤å®šä¹‰ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰“å¼€è™šæ‹Ÿä¸»æœºæ–‡ä»¶ï¼ˆè¯·å°† your_domain æ›¿æ¢ä¸ºå®é™…åŸŸåï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/apache2/sites-available/your_domain.conf
</code></pre>
<p>æ·»åŠ åŸŸåè‡³ ServerName æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs">ServerName your_domain
</code></pre>
<p>åŒæ ·ï¼Œä¹Ÿå¯ä½¿ç”¨ ServerAlias æŒ‡ä»¤ä½¿è™šæ‹Ÿä¸»æœºåº”ç”¨äºå¤šä¸ªåç§°ï¼ˆä¾‹å¦‚æ·»åŠ å¸¦ www å‰ç¼€çš„ç›¸åŒåŸŸåï¼‰ï¼š</p>
<pre><code class="hljs">ServerAlias www.your_domain.com
</code></pre>
<p>DocumentRoot æŒ‡ä»¤æŒ‡å®šè¯¥è™šæ‹Ÿä¸»æœºè¯·æ±‚å†…å®¹çš„å­˜å‚¨ä½ç½®ã€‚Ubuntu ç³»ç»Ÿçš„é»˜è®¤è™šæ‹Ÿä¸»æœºé…ç½®å†…å®¹ç›®å½•ä¸º/var/www/ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">DocumentRoot /var/www/your_domain/public_html
</code></pre>
<p><strong>ç›®å½•å®šä¹‰</strong></p>
<p>åœ¨è™šæ‹Ÿä¸»æœºå®šä¹‰å†…éƒ¨ï¼ŒåŒ…å«æœåŠ¡å™¨å¦‚ä½•å¤„ç†æ–‡ä»¶ç³»ç»Ÿä¸­ä¸åŒç›®å½•çš„é…ç½®ã€‚Apache å°†æŒ‰è·¯å¾„ä»çŸ­åˆ°é•¿çš„é¡ºåºåº”ç”¨è¿™äº›è§„åˆ™ï¼Œå› æ­¤åç»­é…ç½®å¯è¦†ç›–å…ˆå‰è®¾ç½®ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰“å¼€ apache2.conf æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/apache2/apache2.conf
</code></pre>
<p>â€‹<strong>æ–‡ä»¶å†…å®¹ç¤ºä¾‹</strong>â€‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;Directory /&gt;
        Options FollowSymLinks
        AllowOverride <span class="hljs-attribute">None</span>
        Require <span class="hljs-attribute">all</span> denied
&lt;/Directory&gt;

&lt;Directory /usr/share&gt;
        AllowOverride <span class="hljs-attribute">None</span>
        Require <span class="hljs-attribute">all</span> granted
&lt;/Directory&gt;

&lt;Directory /<span class="hljs-selector-tag">var</span>/www/&gt;
        Options Indexes FollowSymLinks
        AllowOverride <span class="hljs-attribute">None</span>
        Require <span class="hljs-attribute">all</span> granted
&lt;/Directory&gt;
</code></pre>
<p>ç¬¬ä¸€ä¸ªç›®å½•å®šä¹‰å¯¹æ ¹ç›®å½•/åº”ç”¨è§„åˆ™ï¼Œä¸ºæ–‡ä»¶ç³»ç»Ÿä¸Šæ‰€æœ‰æœåŠ¡å†…å®¹æä¾›åŸºå‡†é…ç½®ã€‚è¯·æ³¨æ„æ–‡ä»¶ä¸­çš„ç›®å½•é…ç½®é€‰é¡¹åŠç›¸å…³æ³¨é‡Šâ€”â€”æ­¤é»˜è®¤é…ç½®æ‹’ç»è®¿é—®æ‰€æœ‰å†…å®¹ï¼Œé™¤éåç»­ç›®å½•å®šä¹‰å¦è¡ŒæŒ‡å®šã€‚</p>
<p>Require æŒ‡ä»¤å¯é™åˆ¶æˆ–å¼€æ”¾æœåŠ¡å™¨å†…èµ„æºçš„è®¿é—®æƒé™ã€‚AllowOverride æŒ‡ä»¤å†³å®šæ˜¯å¦å…è®¸å†…å®¹ç›®å½•ä¸­çš„.htaccess æ–‡ä»¶è¦†ç›–æœåŠ¡å™¨è®¾ç½®ï¼ˆé»˜è®¤ä¸å…è®¸ï¼Œä½†åœ¨å¤šç§åœºæ™¯ä¸‹å¯ç”¨ä¼šå¾ˆæœ‰ç”¨ï¼‰ã€‚æŸ¥çœ‹æ–‡ä»¶åæŒ‰ CTRL+X é€€å‡ºã€‚</p>
<p><strong>åˆ«åä¸è„šæœ¬åˆ«åå£°æ˜</strong></p>
<p>ç›®å½•å®šä¹‰å‰æœ‰æ—¶ä¼šä½¿ç”¨ Alias æˆ– ScriptAlias æŒ‡ä»¤ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰“å¼€è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ï¼ˆè¯·æ›¿æ¢ your_domain ä¸ºå®é™…åŸŸåï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/apache2/sites-available/your_domain.conf
</code></pre>
<p>Alias æŒ‡ä»¤å°† URL è·¯å¾„æ˜ å°„åˆ°ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç† your_domain è¯·æ±‚çš„è™šæ‹Ÿä¸»æœºä¸­ï¼Œä»¥ä¸‹é…ç½®å…è®¸é€šè¿‡è®¿é—® your_domain.com/content/è·å–/usr/local/apache/content/ç›®å½•çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Alias</span> <span class="hljs-string">"/content/"</span> <span class="hljs-string">"/usr/local/apache/content/"</span>
</code></pre>
<p><code>ScriptAlias</code> æŒ‡ä»¤åŠŸèƒ½ç›¸ä¼¼ï¼Œä½†ç”¨äºå®šä¹‰åŒ…å«å¯æ‰§è¡Œç»„ä»¶çš„ç›®å½•ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ScriptAlias <span class="hljs-string">"/cgi-bin/"</span> <span class="hljs-string">"/usr/local/apache2/cgi-bin/"</span>
</code></pre>
<p>è¯·è®°å¾—æŒ‰å‰ä¸€èŠ‚è®¨è®ºçš„æ–¹æ³•ä¸ºç›®å½•å®šä¹‰è®¿é—®æƒé™ã€‚ç¼–è¾‘å®ŒæˆåæŒ‰ CTRL+X é€€å‡ºï¼šè‹¥å¯¹æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼ŒæŒ‰ Y ä¿å­˜æ›´æ”¹ï¼ŒæŒ‰ N ä¿ç•™åŸå§‹é…ç½®ã€‚</p>
<h2 data-id="heading-5"><strong>æ­¥éª¤äº”ï¼šå¯ç”¨ç«™ç‚¹ä¸åŠŸèƒ½æ¨¡å—</strong></h2>
<p>å½“æ‚¨å®Œæˆç¬¦åˆéœ€æ±‚çš„è™šæ‹Ÿä¸»æœºæ–‡ä»¶é…ç½®åï¼Œå¯ä½¿ç”¨ Apache å†…ç½®å·¥å…·å°†å…¶è½¬æ¢ä¸ºåœ¨çº¿ç½‘ç«™ã€‚</p>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤åœ¨ sites-enabled ç›®å½•ä¸­åˆ›å»ºæŒ‡å‘ sites-available ç›®å½•ç°æœ‰æ–‡ä»¶çš„ç¬¦å·é“¾æ¥ï¼ˆè¯·å°† your_domain æ›¿æ¢ä¸ºæ‚¨çš„è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶åç§°ï¼‰ï¼š</p>
<pre><code class="hljs">sudo a2ensite your_domain
</code></pre>
<p>å¯ç”¨ç«™ç‚¹åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ Apache é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ä»¥åº”ç”¨å˜æ›´ï¼š</p>
<pre><code class="hljs">sudo systemctl restart apache2
</code></pre>
<p>åŒæ—¶å­˜åœ¨å¯¹åº”çš„è™šæ‹Ÿä¸»æœºç¦ç”¨å‘½ä»¤ï¼Œè¯¥å‘½ä»¤é€šè¿‡åˆ é™¤ sites-enabled ç›®å½•ä¸­çš„ç¬¦å·é“¾æ¥å®ç°æ“ä½œã€‚ä¾‹å¦‚ï¼Œå¯ç”¨æ‚¨çš„è™šæ‹Ÿä¸»æœºç«™ç‚¹åï¼Œå¯ç¦ç”¨é»˜è®¤çš„ 000-default ç«™ç‚¹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">sudo a2dissite <span class="hljs-number">000</span>-<span class="hljs-keyword">default</span>
</code></pre>
<p>åŠŸèƒ½æ¨¡å—å¯é€šè¿‡ a2enmod å’Œ a2dismod å‘½ä»¤åˆ†åˆ«å¯ç”¨æˆ–ç¦ç”¨ï¼Œå…¶æ“ä½œæ–¹å¼ä¸ a2ensite/a2dissite å‘½ä»¤ç±»ä¼¼ã€‚ä¾‹å¦‚å¯ç”¨ä¿¡æ¯æ˜¾ç¤ºæ¨¡å—ï¼š</p>
<pre><code class="hljs">sudo a2enmod info
</code></pre>
<p>åŒç†ï¼Œç¦ç”¨æ¨¡å—å¯ä½¿ç”¨ï¼š</p>
<pre><code class="hljs">sudo a2dismod info
</code></pre>
<p>è¯·æ³¨æ„ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶åŠå¯ç”¨/ç¦ç”¨æ¨¡å—åï¼ŒåŠ¡å¿…é‡å¯ Apache æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<h2 data-id="heading-6"><strong>å¸¸è§é—®é¢˜è§£ç­”</strong></h2>
<p><strong>1. å¦‚ä½•æ£€æµ‹Apache</strong>â€‹<strong>é…ç½®çš„è¯­æ³•é”™è¯¯ï¼Ÿ</strong></p>
<p>åœ¨é‡å¯ Apache å‰ï¼Œå¯é€šè¿‡ apache2ctl å‘½ä»¤æ£€æµ‹é…ç½®æ–‡ä»¶è¯­æ³•ï¼š</p>
<pre><code class="hljs">sudo apache2ctl configtest
</code></pre>
<p>æ­¤å‘½ä»¤å°†æ£€æŸ¥é…ç½®æ–‡ä»¶å¹¶æŠ¥å‘Šè¯­æ³•é”™è¯¯ã€‚è‹¥é…ç½®æ­£ç¡®ï¼Œå°†æ˜¾ç¤º Syntax OKï¼›è‹¥å­˜åœ¨é”™è¯¯ï¼Œè¾“å‡ºä¼šæŒ‡æ˜é—®é¢˜æ‰€åœ¨çš„æ–‡ä»¶åŠè¡Œå·ã€‚</p>
<p><strong>2. å¦‚ä½•åœ¨åŒä¸€Apache</strong>â€‹â€‹<strong>æœåŠ¡å™¨ä¸Šé…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœº</strong>â€‹**ï¼Ÿ**</p>
<p>æ‚¨å¯ä»¥åœ¨/etc/apache2/sites-available/ç›®å½•ä¸­ä¸ºæ¯ä¸ªåŸŸååˆ›å»ºç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ã€‚æ¯ä¸ªè™šæ‹Ÿä¸»æœºæ–‡ä»¶éœ€é…ç½®å”¯ä¸€çš„ ServerName æŒ‡ä»¤ã€‚åˆ›å»ºå®Œæˆåå¯ç”¨é…ç½®å¹¶é‡å¯ Apacheï¼š</p>
<pre><code class="hljs">sudo a2ensite example.com.conf
sudo a2ensite anotherdomain.com.conf
sudo systemctl restart apache2
</code></pre>
<p>Apache å°†æ ¹æ®è¯·æ±‚ä¸­çš„åŸŸååŒ¹é…æœ€å…·ä½“çš„è™šæ‹Ÿä¸»æœºé…ç½®æ¥æä¾›å¯¹åº”å†…å®¹ã€‚</p>
<p><strong>3. â€‹VPS</strong>â€‹<strong>åŸºç¡€æ‰˜ç®¡éœ€è¦å“ªäº›æ ¸å¿ƒApache</strong>â€‹<strong>æ¨¡å—ï¼Ÿ</strong></p>
<p>åŸºç¡€ç½‘ç«™æ‰˜ç®¡å¸¸ç”¨æ¨¡å—åŒ…æ‹¬ï¼š</p>
<ul>
<li>â€‹<strong>rewrite</strong>â€‹ï¼šå¯ç”¨ URL é‡å†™ä¸é‡å®šå‘ï¼ˆå¤šæ•° Web åº”ç”¨å¿…éœ€ï¼‰</li>
<li>â€‹<strong>ssl</strong>â€‹ï¼šæä¾› HTTPS æ‰€éœ€çš„ SSL/TLS æ”¯æŒ</li>
<li>â€‹<strong>headers</strong>â€‹ï¼šå…è®¸ä¿®æ”¹ HTTP è¯·æ±‚ä¸å“åº”å¤´</li>
<li>â€‹<strong>expires</strong>â€‹ï¼šé€šè¿‡ Expires å¤´æ§åˆ¶æµè§ˆå™¨ç¼“å­˜</li>
</ul>
<p>å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰å·²å¯ç”¨æ¨¡å—ï¼š</p>
<pre><code class="hljs">apache2ctl -M
</code></pre>
<p>å¯ç”¨æ¨¡å—ä½¿ç”¨ sudo a2enmod æ¨¡å—ååé‡å¯ Apacheã€‚</p>
<p><strong>4. é…ç½®æ›´æ”¹åApache</strong>â€‹<strong>æ— æ³•å¯åŠ¨å¦‚ä½•æ’æŸ¥ï¼Ÿ</strong></p>
<p>è‹¥ Apache åœ¨é…ç½®æ›´æ”¹åå¯åŠ¨å¤±è´¥ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š</p>
<p>æ£€æŸ¥é…ç½®è¯­æ³•ï¼š</p>
<pre><code class="hljs">sudo apache2ctl configtest
</code></pre>
<p>æŸ¥çœ‹ Apache é”™è¯¯æ—¥å¿—è·å–å…·ä½“é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">tail</span> -n 50 /var/log/apache2/error.log
</code></pre>
<p>æ£€æŸ¥ systemd æœåŠ¡çŠ¶æ€è·å–è¯¦ç»†é”™è¯¯ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">sudo systemctl <span class="hljs-built_in">status</span> apache2
</code></pre>
<p>è‹¥æœ€è¿‘å¯ç”¨äº†æ¨¡å—æˆ–ç«™ç‚¹ï¼Œå¯å°è¯•ä¸´æ—¶ç¦ç”¨ï¼š</p>
<pre><code class="hljs">sudo a2dismod é—®é¢˜æ¨¡å—å
sudo a2dissite é—®é¢˜ç«™ç‚¹å
sudo systemctl restart apache2
</code></pre>
<p>å¸¸è§é—®é¢˜åŒ…æ‹¬é…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯ã€ç«¯å£å†²çªæˆ–ç¼ºå°‘å¿…éœ€æ¨¡å—ã€‚</p>
<p><strong>5. å¦‚ä½•æå‡VPS</strong>â€‹<strong>ä¸Šçš„Apache</strong>â€‹<strong>æ€§èƒ½ï¼Ÿ</strong></p>
<p>å¯é€šè¿‡ä»¥ä¸‹é…ç½®è°ƒæ•´æå‡æ€§èƒ½ï¼š</p>
<p><strong>è°ƒæ•´MPM</strong>â€‹â€‹<strong>å‚æ•°</strong>â€‹ï¼šè‹¥ä½¿ç”¨ event MPMï¼ˆUbuntu/Debian é»˜è®¤ï¼‰ï¼Œå¯åœ¨/etc/apache2/mods-available/mpm_event.conf ä¸­ä¼˜åŒ– MaxRequestWorkersã€ThreadsPerChild å’Œ ServerLimitã€‚</p>
<p>â€‹<strong>å¯ç”¨å‹ç¼©</strong>â€‹ï¼šå¯ç”¨ deflate æ¨¡å—å‹ç¼©å“åº”å†…å®¹ï¼š</p>
<pre><code class="hljs">sudo a2enmod deflate
</code></pre>
<p>â€‹<strong>ä¼˜åŒ–æŒä¹…è¿æ¥</strong>â€‹ï¼šåœ¨ apache2.conf ä¸­æ ¹æ®æµé‡æ¨¡å¼è°ƒæ•´ KeepAliveã€MaxKeepAliveRequests å’Œ KeepAliveTimeoutã€‚</p>
<p>â€‹<strong>å¯ç”¨æµè§ˆå™¨ç¼“å­˜</strong>â€‹ï¼šä½¿ç”¨ expires æ¨¡å—ä¸ºé™æ€å†…å®¹è®¾ç½®ç¼“å­˜å¤´ã€‚</p>
<p>â€‹<strong>ç¦ç”¨éå¿…éœ€æ¨¡å—</strong>â€‹ï¼šç§»é™¤æœªä½¿ç”¨æ¨¡å—ä»¥å‡å°‘å†…å­˜å ç”¨ï¼š</p>
<pre><code class="hljs">sudo a2dismod æœªä½¿ç”¨æ¨¡å—å
</code></pre>
<p>è°ƒæ•´ååŠ¡å¿…æµ‹è¯•æ€§èƒ½å˜åŒ–å¹¶ç›‘æ§æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µã€‚</p>
<h2 data-id="heading-7"><strong>ç»“è¯­</strong></h2>
<p>Apache å› å…¶é«˜åº¦æ¨¡å—åŒ–è®¾è®¡è€Œå…·å¤‡æå¼ºçš„çµæ´»æ€§ï¼Œé…ç½®éœ€æ±‚ä¼šå› å…·ä½“ç¯å¢ƒè€Œå¼‚ã€‚é€šè¿‡äº†è§£ä¸Šè¿°å¸¸è§„ç”¨ä¾‹ï¼Œæ‚¨åº”å¯¹ä¸»è¦é…ç½®æ–‡ä»¶çš„åŠŸèƒ½åŠå…¶äº¤äº’å…³ç³»å»ºç«‹äº†æ¸…æ™°è®¤çŸ¥ã€‚å¦‚éœ€äº†è§£å…·ä½“é…ç½®é€‰é¡¹ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šè¯´æ˜å’Œ Apache å®˜æ–¹æ–‡æ¡£éƒ½æ˜¯ç»ä½³å‚è€ƒèµ„æºã€‚ç°åœ¨æ‚¨åº”å½“å¯¹é…ç½®æ–‡ä»¶ä¸å†æ„Ÿåˆ°é™Œç”Ÿï¼Œå¹¶èƒ½æ›´è‡ªä¿¡åœ°æ ¹æ®éœ€æ±‚è¿›è¡Œè°ƒæ•´ä¸å®éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vite 5å¤§æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»3ç§’åˆ°300æ¯«ç§’çš„æ„å»ºæé€Ÿä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7589655730292031528</link>    <guid>https://juejin.cn/post/7589655730292031528</guid>    <pubDate>2025-12-31T04:17:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589655730292031528" data-draft-id="7589578378896228386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vite 5å¤§æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»3ç§’åˆ°300æ¯«ç§’çš„æ„å»ºæé€Ÿä¹‹æ—…"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-31T04:17:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vite 5å¤§æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»3ç§’åˆ°300æ¯«ç§’çš„æ„å»ºæé€Ÿä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T04:17:08.000Z" title="Wed Dec 31 2025 04:17:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Vite 5å¤§æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»3ç§’åˆ°300æ¯«ç§’çš„æ„å»ºæé€Ÿä¹‹æ—…</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸï¼Œæ„å»ºé€Ÿåº¦ä¸€ç›´æ˜¯å¼€å‘è€…å…³æ³¨çš„ç„¦ç‚¹ã€‚éšç€é¡¹ç›®è§„æ¨¡çš„å¢é•¿ï¼Œä¼ ç»Ÿçš„æ‰“åŒ…å·¥å…·ï¼ˆå¦‚Webpackï¼‰å¾€å¾€é¢ä¸´æ„å»ºæ—¶é—´çº¿æ€§ä¸Šå‡çš„é—®é¢˜ã€‚Viteä½œä¸ºæ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå‡­å€Ÿå…¶åŸç”ŸESMæ”¯æŒå’Œåˆ›æ–°çš„å¼€å‘æœåŠ¡å™¨è®¾è®¡ï¼Œå·²ç»åœ¨å¼€å‘ä½“éªŒä¸Šå¸¦æ¥äº†è´¨çš„é£è·ƒã€‚ç„¶è€Œï¼Œå³ä½¿æ˜¯Viteé¡¹ç›®ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¹Ÿå¯èƒ½é­é‡æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥å‰–æ5ä¸ªç»è¿‡å®æˆ˜éªŒè¯çš„Viteæ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥å¸®åŠ©æˆ‘ä»¬å°†ä¸€ä¸ªä¸­å‹é¡¹ç›®çš„å†·å¯åŠ¨æ—¶é—´ä»3ç§’é™è‡³300æ¯«ç§’ã€‚æ¯ä¸ªä¼˜åŒ–ç‚¹éƒ½é…æœ‰å…·ä½“çš„æŠ€æœ¯åŸç†åˆ†æã€å®æ–½æ­¥éª¤å’Œæ•ˆæœå¯¹æ¯”æ•°æ®ã€‚</p>
<h2 data-id="heading-2">ä¸€ã€ä¾èµ–é¢„æ„å»ºçš„ç²¾ç»†åŒ–é…ç½®</h2>
<h3 data-id="heading-3">é—®é¢˜è¯Šæ–­</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒViteä¼šå¯¹<code>node_modules</code>è¿›è¡Œå…¨é‡é¢„æ„å»ºï¼ˆé¦–æ¬¡å¯åŠ¨æ—¶ï¼‰ã€‚å¯¹äºå¤§å‹é¡¹ç›®è€Œè¨€ï¼Œè¿™å¯èƒ½æ¶ˆè€—å¤§é‡æ—¶é—´ã€‚</p>
<h3 data-id="heading-4">ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<ol>
<li><strong>æ‰‹åŠ¨æŒ‡å®šä¾èµ–é¡¹</strong>ï¼šåœ¨<code>vite.config.js</code>ä¸­æ˜ç¡®åˆ—å‡ºéœ€è¦é¢„æ„å»ºçš„ä¾èµ–</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">optimizeDeps</span>: {
  <span class="hljs-attr">include</span>: [<span class="hljs-string">'lodash-es'</span>, <span class="hljs-string">'axios'</span>, <span class="hljs-string">'vue-router'</span>]
}
</code></pre>
<ol start="2">
<li><strong>æ’é™¤å·²çŸ¥ESMæ¨¡å—</strong>ï¼šé€šè¿‡<code>exclude</code>é¿å…é‡å¤å¤„ç†</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">optimizeDeps</span>: {
  <span class="hljs-attr">exclude</span>: [<span class="hljs-string">'vue-demi'</span>]
}
</code></pre>
<ol start="3">
<li><strong>ç¼“å­˜ç­–ç•¥ä¼˜åŒ–</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…ç†ç¼“å­˜æ—¶ä¿ç•™åŸºç¡€ä¾èµ–</span>
vite --force --clearCache=<span class="hljs-literal">false</span>
</code></pre>
<h3 data-id="heading-5">æ•ˆæœå¯¹æ¯”</h3>













<table><thead><tr><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th></tr></thead><tbody><tr><td>2.4s</td><td>0.8s</td></tr></tbody></table>
<h2 data-id="heading-6">äºŒã€åŸºäºè·¯ç”±çš„ä»£ç åˆ†å‰²ä¸åŠ¨æ€å¯¼å…¥</h2>
<h3 data-id="heading-7">é—®é¢˜è¯Šæ–­</h3>
<p>å•é¡µé¢åº”ç”¨(SPA)å°†æ‰€æœ‰è·¯ç”±ç»„ä»¶æ‰“åŒ…åˆ°åŒä¸€ä¸ªchunkä¸­ï¼Œå¯¼è‡´é¦–å±åŠ è½½ç¼“æ…¢ã€‚</p>
<h3 data-id="heading-8">ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<ol>
<li><strong>ç»„ä»¶çº§åŠ¨æ€å¯¼å…¥</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./views/Home.vue'</span>)
</code></pre>
<ol start="2">
<li><strong>è·¯ç”±çº§æ‡’åŠ è½½ç»“åˆLoadingçŠ¶æ€</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">'/dashboard'</span>,
  <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">loader</span>: <span class="hljs-keyword">import</span>(<span class="hljs-string">'./Dashboard.vue'</span>),
    <span class="hljs-attr">loading</span>: <span class="hljs-title class_">LoadingComponent</span>,
    <span class="hljs-attr">delay</span>: <span class="hljs-number">200</span> <span class="hljs-comment">// ms</span>
  })
}
</code></pre>
<ol start="3">
<li><strong>é¢„åŠ è½½æç¤º</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"modulepreload"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/src/views/CriticalView.vue"</span> /&gt;</span>
</code></pre>
<h3 data-id="heading-9">Webpackå¯¹æ¯”æ•°æ®</h3>
<p>ä¼ ç»Ÿå·¥å…·éœ€è¦é¢å¤–é…ç½®splitChunksï¼Œè€ŒViteå†…ç½®æ™ºèƒ½åˆ†å‰²ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">build</span>: {
  <span class="hljs-attr">rollupOptions</span>: {
    <span class="hljs-attr">output</span>: {
      <span class="hljs-title function_">manualChunks</span>(<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules'</span>)) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">'vendor'</span>
        }
      }
    }
  }
}
</code></pre>
<p>##ä¸‰ã€é™æ€èµ„æºå¤„ç†çš„æœ€ä½³å®è·µ</p>
<h3 data-id="heading-10">PNG/JPGä¼˜åŒ–æµç¨‹</h3>
<ol>
<li><strong>å›¾ç‰‡å‹ç¼©ç®¡é“</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">npm install vite-plugin-imagemin -D
</code></pre>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> imagemin <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-imagemin'</span>

<span class="hljs-attr">plugins</span>: [
  <span class="hljs-title function_">imagemin</span>({
    <span class="hljs-attr">gifsicle</span>: { <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span> },
    <span class="hljs-attr">mozjpeg</span>: { <span class="hljs-attr">quality</span>: <span class="hljs-number">70</span> },
    <span class="hljs-attr">pngquant</span>: { <span class="hljs-attr">quality</span>: [<span class="hljs-number">0.7</span>,<span class="hljs-number">0.9</span>] },
    <span class="hljs-attr">svgo</span>: {
      <span class="hljs-attr">plugins</span>: [
        { <span class="hljs-attr">name</span>:<span class="hljs-string">'removeViewBox'</span> }, 
        { <span class="hljs-attr">name</span>:<span class="hljs-string">'removeEmptyAttrs'</span>, <span class="hljs-attr">active</span>: <span class="hljs-literal">false</span> }
      ]
    }
})
]
</code></pre>
<ol start="2">
<li><strong>CDNæ‰˜ç®¡ä¸éæ ¸å¿ƒèµ„æºå»¶è¿ŸåŠ è½½</strong></li>
</ol>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.example.com/logo.png"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> /&gt;</span>
</code></pre>
<p>##å››ã€å¼€å‘ç¯å¢ƒç‰¹è°ƒæŠ€å·§</p>
<h3 data-id="heading-11">HMRçƒ­æ›´æ–°åŠ é€Ÿ</h3>
<ol>
<li><strong>é…ç½®è°ƒä¼˜</strong></li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">server</span>:{
<span class="hljs-attr">watch</span>:{
usePollingï¼š<span class="hljs-literal">true</span>,<span class="hljs-comment">// Dockerç¯å¢ƒä¸‹å¿…éœ€  </span>
intervalï¼š<span class="hljs-number">1000</span>  
}  
}  
</code></pre>
<p>2.<strong>è‡ªå®šä¹‰HMRè¾¹ç•Œ</strong>
é€šè¿‡<code>import.meta.hot.accept()</code>å»ºç«‹ç²¾å‡†æ›´æ–°èŒƒå›´ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">hot</span>){
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">hot</span>.<span class="hljs-title function_">accept</span>([<span class="hljs-string">'./state.js'</span>],<span class="hljs-function">(<span class="hljs-params">[newModule]</span>)=&gt;</span>{
store.<span class="hljs-title function_">updateState</span>(newModule)  
}) 
}  
</code></pre>
<p>##äº”ã€ç”Ÿäº§æ„å»ºæ·±åº¦ä¼˜åŒ–</p>
<h3 data-id="heading-12">SSRä¸Pre-renderingé…åˆ</h3>
<p>1.<strong>å¤šçº¿ç¨‹ç¼–è¯‘é…ç½®</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>{ defineConfig } <span class="hljs-keyword">from</span><span class="hljs-string">'vite'</span> 

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
<span class="hljs-attr">build</span>:{   
<span class="hljs-attr">minify</span>:<span class="hljs-string">'terser'</span>,   
<span class="hljs-attr">terserOptions</span>:{   
<span class="hljs-attr">compress</span>:{ drop_consoleï¼š<span class="hljs-literal">true</span> }    
},    
reportCompressedSizeï¼š<span class="hljs-literal">false</span>     
}    
})    
</code></pre>
<p>2.<strong>åˆ†æå¯è§†åŒ–</strong>
ä½¿ç”¨rollup-plugin-visualizerç”ŸæˆåŒ…åˆ†ææŠ¥å‘Šï¼š</p>
<p><img src="analysis.png" alt="Bundle Analysis" loading="lazy"/></p>
<p>##æ€»ç»“</p>
<p>é€šè¿‡ä¸Šè¿°äº”ä¸ªç»´åº¦çš„ç³»ç»Ÿä¼˜åŒ–â€”â€”ä»ä¾èµ–é¢„å¤„ç†åˆ°èµ„æºåŠ è½½ç­–ç•¥ï¼Œä»å¼€å‘æ—¶HMRåˆ°ç”Ÿäº§ç¯å¢ƒæ„å»ºâ€”â€”æˆ‘ä»¬å®ç°äº†æ•°é‡çº§çš„æ€§èƒ½æå‡ã€‚ç‰¹åˆ«å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>
<p>1.Viteçš„æ€§èƒ½æ½œåŠ›éœ€è¦é€šè¿‡æ­£ç¡®é…ç½®æ‰èƒ½å®Œå…¨é‡Šæ”¾<br/>
2.ç°ä»£æµè§ˆå™¨ç‰¹æ€§ï¼ˆå¦‚åŸç”ŸESMï¼‰æ˜¯ä¼˜åŒ–çš„åŸºç¡€æ”¯æ’‘<br/>
3.<strong>æµ‹é‡ä¼˜å…ˆåŸåˆ™</strong>ï¼šæ¯ä¸ªä¼˜åŒ–ç‚¹éƒ½åº”ä¼´éšå®šé‡åˆ†æ</p>
<p>æœ€ç»ˆçš„300mså†·å¯åŠ¨æ—¶é—´å¹¶éç»ˆç‚¹ã€‚éšç€Vite5.xçš„åˆ°æ¥ï¼ˆæ–°å¢SWCè½¬è¯‘å™¨ç­‰ç‰¹æ€§ï¼‰ï¼Œå‰ç«¯æ„å»ºæ€§èƒ½çš„å¤©èŠ±æ¿è¿˜å°†ç»§ç»­æŠ¬å‡ã€‚å»ºè®®å›¢é˜Ÿå»ºç«‹æŒç»­çš„æ€§èƒ½ç›‘æµ‹æœºåˆ¶ï¼ˆå¯é€šè¿‡GitHub Actionsé›†æˆåŸºå‡†æµ‹è¯•ï¼‰ï¼Œå°†æ€§èƒ½æ„è¯†èå…¥æ—¥å¸¸å¼€å‘æµç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSç–‘éš¾Crash-_dispatch_barrier_waiter_redirect_or_wake å´©æºƒæ²»ç†]]></title>    <link>https://juejin.cn/post/7589494074983727155</link>    <guid>https://juejin.cn/post/7589494074983727155</guid>    <pubDate>2025-12-31T03:04:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589494074983727155" data-draft-id="7589494074983661619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSç–‘éš¾Crash-_dispatch_barrier_waiter_redirect_or_wake å´©æºƒæ²»ç†"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2025-12-31T03:04:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è´§æ‹‰æ‹‰æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/1768489241815070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSç–‘éš¾Crash-_dispatch_barrier_waiter_redirect_or_wake å´©æºƒæ²»ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1768489241815070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è´§æ‹‰æ‹‰æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T03:04:06.000Z" title="Wed Dec 31 2025 03:04:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€. èƒŒæ™¯</h2>
<p>æˆ‘ä»¬å¸æœºç«¯<code>App</code>ä¸€ç›´å­˜åœ¨ç€<code>_dispatch_barrier_waiter_redirect_or_wake</code>ç›¸å…³çš„å´©æºƒã€‚</p>
<p>è¯¥å´©æºƒå…·ä½“å´©æºƒå †æ ˆå¦‚ä¸‹:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// remark</span>

<span class="hljs-built_in">Exception</span> Type:  <span class="hljs-title function_ invoke__">EXC_BREAKPOINT</span> (SIGTRAP)
<span class="hljs-built_in">Exception</span> Codes: KERN_INVALID_ADDRESS at <span class="hljs-number">0x00000001b0604ae0</span>
Crashed Thread:  <span class="hljs-number">34</span>


<span class="hljs-comment">// å´©æºƒçº¿ç¨‹</span>
Thread <span class="hljs-number">34</span> Crashed:
<span class="hljs-number">0</span>      libdispatch.dylib                     __dispatch_barrier_waiter_redirect_or_wake + <span class="hljs-number">256</span>
<span class="hljs-number">1</span>      libdispatch.dylib                     __dispatch_lane_invoke + <span class="hljs-number">764</span>
<span class="hljs-number">2</span>      libdispatch.dylib                     __dispatch_workloop_worker_thread + <span class="hljs-number">648</span>
<span class="hljs-number">3</span>      libsystem_pthread.dylib               __pthread_wqthread + <span class="hljs-number">288</span>


==========
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e480f6952894b2d8578d342fb0a5bef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=aLeP%2Bn9%2B%2BuWFQvZWVxkQUj3ltQU%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”è¯¥å´©æºƒé›†ä¸­åœ¨<code>14.0~16.2</code>ä¹‹é—´çš„ç³»ç»Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/109ee8c1da004432aa976d3abaecb284~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=8sI086grmklbkmNtHJbPOAOAts8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒ. åŸå› æ’æŸ¥</h2>
<p>å› ä¸ºå´©æºƒç±»å‹æ˜¯<code>EXC_BREAKPOINT (SIGTRAP)</code>ç±»å‹, å¹¶ä¸”å‘ç”Ÿåœ¨ <code>libdispatch.dylib</code>ï¼ˆå³ <code>GCDï¼ŒGrand Central Dispatch</code>ï¼‰å†…éƒ¨å‡½æ•°ä¸­ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯<code>GCD</code>å†…éƒ¨æ£€æµ‹åˆ°ä¸¥é‡é”™è¯¯æ—¶ä¸»åŠ¨äº§ç”Ÿçš„å´©æºƒã€‚</p>
<blockquote>
<p>SIGTRAPå´©æºƒç±»å‹ä¸»è¦æ˜¯ç”±äºç³»ç»Ÿæˆ–è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰ä¸ºäº†é˜»æ­¢ç¨‹åºåœ¨ä¸€ç§ä¸å®‰å…¨çš„é”™è¯¯çŠ¶æ€ä¸‹ç»§ç»­æ‰§è¡Œè€Œä¸»åŠ¨è§¦å‘çš„â€œé™·é˜±â€ï¼Œç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è°ƒè¯•ï¼Œå¸¸è§åŸå› :</p>
<ol>
<li>
<p>Swift è¿è¡Œæ—¶å®‰å…¨æœºåˆ¶è§¦å‘ï¼ˆæœ€å¸¸è§ï¼‰ï¼š</p>
<ol>
<li>å¼ºåˆ¶è§£åŒ… <code>nil</code> å¯é€‰å€¼ï¼ˆ<code>!</code> æ“ä½œç¬¦ï¼‰ï¼šå¦‚ <code>var value = nilOptional!</code>ã€‚</li>
<li>å¼ºåˆ¶ç±»å‹è½¬æ¢å¤±è´¥ï¼ˆ<code>as!</code> æ“ä½œç¬¦ï¼‰ï¼šå°è¯•å°†å¯¹è±¡è½¬æ¢ä¸ºä¸å…¼å®¹ç±»å‹ã€‚</li>
<li><code>Swift</code> æ£€æµ‹åˆ°æ•°ç»„è¶Šç•Œã€æ•´æ•°æº¢å‡ºç­‰å†…å­˜å®‰å…¨é—®é¢˜æ—¶ä¼šä¸»åŠ¨è§¦å‘ <code>EXC_BREAKPOINT</code>/<code>SIGTRAP</code></li>
</ol>
</li>
<li>
<p>åº•å±‚åº“çš„ä¸å¯æ¢å¤é”™è¯¯ï¼š</p>
</li>
</ol>
<ul>
<li><code>GCD</code>ï¼ˆ<code>libdispatch</code>ï¼‰ç­‰ç³»ç»Ÿåº“åœ¨æ£€æµ‹åˆ°å†…éƒ¨çŠ¶æ€å¼‚å¸¸ï¼ˆå¦‚é˜Ÿåˆ—æ­»é”ã€èµ„æºç«äº‰ï¼‰æ—¶å¯èƒ½è§¦å‘ <code>SIGTRAP</code>,æ¯”å¦‚<code>dispatch_group_t</code> çš„<code>enter/leave</code>ä¸åŒ¹é…ã€‚</li>
</ul>
</blockquote>
<p>å› ä¸ºå´©æºƒå †æ ˆå´©æºƒåœ¨<code>__dispatch_barrier_waiter_redirect_or_wake + 256</code></p>
<pre><code class="hljs">0      libdispatch.dylib                     __dispatch_barrier_waiter_redirect_or_wake + 256
1      libdispatch.dylib                     __dispatch_lane_invoke + 764
2      libdispatch.dylib                     __dispatch_workloop_worker_thread + 648
3      libsystem_pthread.dylib               __pthread_wqthread + 288
</code></pre>
<p>å› æ­¤æˆ‘ä»¬æ‰¾ä¸€å°<code>iOS14-iOS16</code>ç³»ç»Ÿçš„çœŸæœºï¼Œç„¶åè¿è¡Œåœ¨<code>release</code>ç¯å¢ƒï¼ŒæŸ¥çœ‹ä¸‹<code>256</code>æŒ‡ä»¤å¯¹åº”çš„ä»£ç ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">libdispatch</span><span class="hljs-selector-class">.dylib</span>`<span class="hljs-selector-tag">_dispatch_barrier_waiter_redirect_or_wake</span>:
<span class="hljs-selector-tag">-</span>&gt;  <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f49f0</span> &lt;+<span class="hljs-number">0</span>&gt;:   <span class="hljs-selector-tag">pacibsp</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f49f4</span> &lt;+<span class="hljs-number">4</span>&gt;:   <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x24</span>, <span class="hljs-selector-tag">x23</span>, <span class="hljs-selector-attr">[sp, #-0x40]</span>!
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f49f8</span> &lt;+<span class="hljs-number">8</span>&gt;:   <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x22</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-attr">[sp, #0x10]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f49fc</span> &lt;+<span class="hljs-number">12</span>&gt;:  <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x19</span>, <span class="hljs-selector-attr">[sp, #0x20]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a00</span> &lt;+<span class="hljs-number">16</span>&gt;:  <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x29</span>, <span class="hljs-selector-tag">x30</span>, <span class="hljs-selector-attr">[sp, #0x30]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a04</span> &lt;+<span class="hljs-number">20</span>&gt;:  <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x29</span>, <span class="hljs-selector-tag">sp</span>, <span class="hljs-selector-id">#0x30</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a08</span> &lt;+<span class="hljs-number">24</span>&gt;:  <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x22</span>, <span class="hljs-selector-tag">x4</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a0c</span> &lt;+<span class="hljs-number">28</span>&gt;:  <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x3</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a10</span> &lt;+<span class="hljs-number">32</span>&gt;:  <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x19</span>, <span class="hljs-selector-tag">x1</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a14</span> &lt;+<span class="hljs-number">36</span>&gt;:  <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-tag">x0</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a18</span> &lt;+<span class="hljs-number">40</span>&gt;:  <span class="hljs-selector-tag">ldr</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-attr">[x1, #0x30]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a1c</span> &lt;+<span class="hljs-number">44</span>&gt;:  <span class="hljs-selector-tag">cmn</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-id">#0x4</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a20</span> &lt;+<span class="hljs-number">48</span>&gt;:  <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.ne</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a38</span>               ; &lt;+<span class="hljs-number">72</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a24</span> &lt;+<span class="hljs-number">52</span>&gt;:  <span class="hljs-selector-tag">ldrb</span>   <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-attr">[x19, #0x69]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a28</span> &lt;+<span class="hljs-number">56</span>&gt;:  <span class="hljs-selector-tag">ubfx</span>   <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-id">#32</span>, <span class="hljs-selector-id">#3</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a2c</span> &lt;+<span class="hljs-number">60</span>&gt;:  <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-tag">w9</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a30</span> &lt;+<span class="hljs-number">64</span>&gt;:  <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.ls</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a38</span>               ; &lt;+<span class="hljs-number">72</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a34</span> &lt;+<span class="hljs-number">68</span>&gt;:  <span class="hljs-selector-tag">strb</span>   <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-attr">[x19, #0x69]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a38</span> &lt;+<span class="hljs-number">72</span>&gt;:  <span class="hljs-selector-tag">tbnz</span>   <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-id">#0x25</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a78</span>   ; &lt;+<span class="hljs-number">136</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a3c</span> &lt;+<span class="hljs-number">76</span>&gt;:  <span class="hljs-selector-tag">mvn</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-tag">x20</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a40</span> &lt;+<span class="hljs-number">80</span>&gt;:  <span class="hljs-selector-tag">tst</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-id">#0x1800000000</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a44</span> &lt;+<span class="hljs-number">84</span>&gt;:  <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.ne</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a6c</span>               ; &lt;+<span class="hljs-number">124</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a48</span> &lt;+<span class="hljs-number">88</span>&gt;:  <span class="hljs-selector-tag">ubfx</span>   <span class="hljs-selector-tag">x9</span>, <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-id">#32</span>, <span class="hljs-selector-id">#3</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a4c</span> &lt;+<span class="hljs-number">92</span>&gt;:  <span class="hljs-selector-tag">mrs</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-tag">TPIDRRO_EL0</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a50</span> &lt;+<span class="hljs-number">96</span>&gt;:  <span class="hljs-selector-tag">ldr</span>    <span class="hljs-selector-tag">w10</span>, <span class="hljs-selector-attr">[x8, #0xc8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a54</span> &lt;+<span class="hljs-number">100</span>&gt;: <span class="hljs-selector-tag">ubfx</span>   <span class="hljs-selector-tag">w11</span>, <span class="hljs-selector-tag">w10</span>, <span class="hljs-selector-id">#16</span>, <span class="hljs-selector-id">#4</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a58</span> &lt;+<span class="hljs-number">104</span>&gt;: <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w11</span>, <span class="hljs-selector-tag">w9</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a5c</span> &lt;+<span class="hljs-number">108</span>&gt;: <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.hs</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a6c</span>               ; &lt;+<span class="hljs-number">124</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a60</span> &lt;+<span class="hljs-number">112</span>&gt;: <span class="hljs-selector-tag">and</span>    <span class="hljs-selector-tag">w10</span>, <span class="hljs-selector-tag">w10</span>, <span class="hljs-selector-id">#0xfff0ffff</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a64</span> &lt;+<span class="hljs-number">116</span>&gt;: <span class="hljs-selector-tag">bfi</span>    <span class="hljs-selector-tag">w10</span>, <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-id">#16</span>, <span class="hljs-selector-id">#3</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a68</span> &lt;+<span class="hljs-number">120</span>&gt;: <span class="hljs-selector-tag">str</span>    <span class="hljs-selector-tag">x10</span>, <span class="hljs-selector-attr">[x8, #0xc8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a6c</span> &lt;+<span class="hljs-number">124</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x23</span>, <span class="hljs-selector-id">#-0x4</span>                ; =<span class="hljs-selector-tag">-4</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a70</span> &lt;+<span class="hljs-number">128</span>&gt;: <span class="hljs-selector-tag">tbnz</span>   <span class="hljs-selector-tag">w2</span>, <span class="hljs-selector-id">#0x0</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ad8</span>     ; &lt;+<span class="hljs-number">232</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a74</span> &lt;+<span class="hljs-number">132</span>&gt;: <span class="hljs-selector-tag">b</span>      <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b68</span>               ; &lt;+<span class="hljs-number">376</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a78</span> &lt;+<span class="hljs-number">136</span>&gt;: <span class="hljs-selector-tag">tbnz</span>   <span class="hljs-selector-tag">w2</span>, <span class="hljs-selector-id">#0x0</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ad0</span>     ; &lt;+<span class="hljs-number">224</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a7c</span> &lt;+<span class="hljs-number">140</span>&gt;: <span class="hljs-selector-tag">tbz</span>    <span class="hljs-selector-tag">w20</span>, <span class="hljs-selector-id">#0x0</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b64</span>    ; &lt;+<span class="hljs-number">372</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a80</span> &lt;+<span class="hljs-number">144</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x23</span>, <span class="hljs-selector-tag">x21</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a84</span> &lt;+<span class="hljs-number">148</span>&gt;: <span class="hljs-selector-tag">tbnz</span>   <span class="hljs-selector-tag">w22</span>, <span class="hljs-selector-id">#0x0</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b68</span>    ; &lt;+<span class="hljs-number">376</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a88</span> &lt;+<span class="hljs-number">152</span>&gt;: <span class="hljs-selector-tag">ldr</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-attr">[x21, #0x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a8c</span> &lt;+<span class="hljs-number">156</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-id">#0x7fffffff</span>           ; =<span class="hljs-number">2147483647</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a90</span> &lt;+<span class="hljs-number">160</span>&gt;: <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-tag">w9</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a94</span> &lt;+<span class="hljs-number">164</span>&gt;: <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.eq</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b64</span>               ; &lt;+<span class="hljs-number">372</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a98</span> &lt;+<span class="hljs-number">168</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-id">#0x8</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4a9c</span> &lt;+<span class="hljs-number">172</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-id">#-0x1</span>                 ; =<span class="hljs-selector-tag">-1</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4aa0</span> &lt;+<span class="hljs-number">176</span>&gt;: <span class="hljs-selector-tag">ldaddl</span> <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-attr">[x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4aa4</span> &lt;+<span class="hljs-number">180</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x23</span>, <span class="hljs-selector-tag">x21</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4aa8</span> &lt;+<span class="hljs-number">184</span>&gt;: <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-id">#0x0</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4aac</span> &lt;+<span class="hljs-number">188</span>&gt;: <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.gt</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b68</span>               ; &lt;+<span class="hljs-number">376</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ab0</span> &lt;+<span class="hljs-number">192</span>&gt;: <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-attr">[sp, #-0x10]</span>!
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ab4</span> &lt;+<span class="hljs-number">196</span>&gt;: <span class="hljs-selector-tag">adrp</span>   <span class="hljs-selector-tag">x20</span>, <span class="hljs-number">47</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ab8</span> &lt;+<span class="hljs-number">200</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-id">#0x95e</span>          ; "<span class="hljs-selector-tag">API</span> <span class="hljs-selector-tag">MISUSE</span>: <span class="hljs-selector-tag">Over-release</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">an</span> <span class="hljs-selector-tag">object</span>"
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4abc</span> &lt;+<span class="hljs-number">204</span>&gt;: <span class="hljs-selector-tag">adrp</span>   <span class="hljs-selector-tag">x21</span>, <span class="hljs-number">81</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ac0</span> &lt;+<span class="hljs-number">208</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-id">#0x260</span>          ; <span class="hljs-selector-tag">gCRAnnotations</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ac4</span> &lt;+<span class="hljs-number">212</span>&gt;: <span class="hljs-selector-tag">str</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-attr">[x21, #0x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ac8</span> &lt;+<span class="hljs-number">216</span>&gt;: <span class="hljs-selector-tag">ldp</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-attr">[sp]</span>, <span class="hljs-selector-id">#0x10</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4acc</span> &lt;+<span class="hljs-number">220</span>&gt;: <span class="hljs-selector-tag">brk</span>    <span class="hljs-selector-id">#0x1</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ad0</span> &lt;+<span class="hljs-number">224</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">x23</span>, <span class="hljs-selector-tag">x21</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ad4</span> &lt;+<span class="hljs-number">228</span>&gt;: <span class="hljs-selector-tag">tbnz</span>   <span class="hljs-selector-tag">w22</span>, <span class="hljs-selector-id">#0x0</span>, <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b1c</span>    ; &lt;+<span class="hljs-number">300</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ad8</span> &lt;+<span class="hljs-number">232</span>&gt;: <span class="hljs-selector-tag">ldr</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-attr">[x21, #0x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4adc</span> &lt;+<span class="hljs-number">236</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-id">#0x7fffffff</span>           ; =<span class="hljs-number">2147483647</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ae0</span> &lt;+<span class="hljs-number">240</span>&gt;: <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-tag">w9</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ae4</span> &lt;+<span class="hljs-number">244</span>&gt;: <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.eq</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b68</span>               ; &lt;+<span class="hljs-number">376</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4ae8</span> &lt;+<span class="hljs-number">248</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x8</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-id">#0x8</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4aec</span> &lt;+<span class="hljs-number">252</span>&gt;: <span class="hljs-selector-tag">mov</span>    <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-id">#-0x2</span>                 ; =<span class="hljs-selector-tag">-2</span> 
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4af0</span> &lt;+<span class="hljs-number">256</span>&gt;: <span class="hljs-selector-tag">ldaddl</span> <span class="hljs-selector-tag">w9</span>, <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-attr">[x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4af4</span> &lt;+<span class="hljs-number">260</span>&gt;: <span class="hljs-selector-tag">cmp</span>    <span class="hljs-selector-tag">w8</span>, <span class="hljs-selector-id">#0x1</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4af8</span> &lt;+<span class="hljs-number">264</span>&gt;: <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.gt</span>   <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b68</span>               ; &lt;+<span class="hljs-number">376</span>&gt;
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4afc</span> &lt;+<span class="hljs-number">268</span>&gt;: <span class="hljs-selector-tag">stp</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-attr">[sp, #-0x10]</span>!
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b00</span> &lt;+<span class="hljs-number">272</span>&gt;: <span class="hljs-selector-tag">adrp</span>   <span class="hljs-selector-tag">x20</span>, <span class="hljs-number">47</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b04</span> &lt;+<span class="hljs-number">276</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-id">#0x95e</span>          ; "<span class="hljs-selector-tag">API</span> <span class="hljs-selector-tag">MISUSE</span>: <span class="hljs-selector-tag">Over-release</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">an</span> <span class="hljs-selector-tag">object</span>"
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b08</span> &lt;+<span class="hljs-number">280</span>&gt;: <span class="hljs-selector-tag">adrp</span>   <span class="hljs-selector-tag">x21</span>, <span class="hljs-number">81</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b0c</span> &lt;+<span class="hljs-number">284</span>&gt;: <span class="hljs-selector-tag">add</span>    <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-id">#0x260</span>          ; <span class="hljs-selector-tag">gCRAnnotations</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b10</span> &lt;+<span class="hljs-number">288</span>&gt;: <span class="hljs-selector-tag">str</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-attr">[x21, #0x8]</span>
    <span class="hljs-number">0</span><span class="hljs-selector-tag">x10c4f4b14</span> &lt;+<span class="hljs-number">292</span>&gt;: <span class="hljs-selector-tag">ldp</span>    <span class="hljs-selector-tag">x20</span>, <span class="hljs-selector-tag">x21</span>, <span class="hljs-selector-attr">[sp]</span>, <span class="hljs-selector-id">#0x10</span>
</code></pre>
<p>æˆ‘ä»¬ç»“åˆ<code>iOS14-iOS16</code>å¯¹åº”çš„<code>libdispatch</code>æºç é‡Œé¢<code>_dispatch_barrier_waiter_redirect_or_wake</code>å‡½æ•°</p>
<pre><code class="hljs language-scss" lang="scss">DISPATCH_NOINLINE
static void
<span class="hljs-built_in">_dispatch_barrier_waiter_redirect_or_wake</span>(dispatch_queue_class_t dqu,
                dispatch_object_t dc, dispatch_wakeup_flags_t flags,
                uint64_t old_state, uint64_t new_state)
{
        dispatch_sync_context_t dsc = (dispatch_sync_context_t)dc<span class="hljs-selector-class">._dc</span>;
        dispatch_queue_t dq = dqu<span class="hljs-selector-class">._dq</span>;
        dispatch_wlh_t wlh = DISPATCH_WLH_ANON;

        if (dsc-&gt;dc_data == DISPATCH_WLH_ANON) {
                if (dsc-&gt;dsc_override_qos &lt; _dq_state_max_qos(old_state)) {
                        dsc-&gt;dsc_override_qos = (uint8_t)<span class="hljs-built_in">_dq_state_max_qos</span>(old_state);
                }
        }

        if (_dq_state_is_base_wlh(old_state)) {
                wlh = (dispatch_wlh_t)dq;
        } else if (_dq_state_received_override(old_state)) {
                <span class="hljs-comment">// Ensure that the root queue sees that this thread was overridden.</span>
                <span class="hljs-built_in">_dispatch_set_basepri_override_qos</span>(_dq_state_max_qos(old_state));
        }

        if (flags &amp; DISPATCH_WAKEUP_CONSUME_2) {
                if (_dq_state_is_base_wlh(old_state) &amp;&amp;
                                <span class="hljs-built_in">_dq_state_is_enqueued_on_target</span>(new_state)) {
                        <span class="hljs-comment">// If the thread request still exists, we need to leave it a +1</span>
                        <span class="hljs-built_in">_dispatch_release_no_dispose</span>(dq);
                } else {
                        <span class="hljs-built_in">_dispatch_release_2_no_dispose</span>(dq);
                }
        } else if (_dq_state_is_base_wlh(old_state) &amp;&amp;
                        <span class="hljs-built_in">_dq_state_is_enqueued_on_target</span>(old_state) &amp;&amp;
                        !<span class="hljs-built_in">_dq_state_is_enqueued_on_target</span>(new_state)) {
                <span class="hljs-comment">// If we cleared the enqueued bit, we're about to destroy the workloop</span>
                <span class="hljs-comment">// thread request, and we need to consume its +1.</span>
                <span class="hljs-built_in">_dispatch_release_no_dispose</span>(dq);
        }

        <span class="hljs-comment">//</span>
        <span class="hljs-comment">// Past this point we are borrowing the reference of the sync waiter</span>
        <span class="hljs-comment">//</span>
        if (unlikely(_dq_state_is_inner_queue(old_state))) {
                dispatch_queue_t tq = dq-&gt;do_targetq;
                if (dsc-&gt;dc_flags &amp; DC_FLAG_ASYNC_AND_WAIT) {
                        <span class="hljs-built_in">_dispatch_async_waiter_update</span>(dsc, dq);
                }
                if (likely(tq-&gt;dq_width == <span class="hljs-number">1</span>)) {
                        dsc-&gt;dc_flags |= DC_FLAG_BARRIER;
                } else {
                        dispatch_lane_t <span class="hljs-selector-tag">dl</span> = <span class="hljs-built_in">upcast</span>(tq)<span class="hljs-selector-class">._dl</span>;
                        dsc-&gt;dc_flags &amp;= ~DC_FLAG_BARRIER;
                        if (_dispatch_queue_try_reserve_sync_width(dl)) {
                                return <span class="hljs-built_in">_dispatch_non_barrier_waiter_redirect_or_wake</span>(dl, dc);
                        }
                }
                <span class="hljs-comment">// passing the QoS of `dq` helps pushing on low priority waiters with</span>
                <span class="hljs-comment">// legacy workloops.</span>
<span class="hljs-selector-id">#if</span> DISPATCH_INTROSPECTION
                dsc-&gt;dsc_from_async = false;
<span class="hljs-selector-id">#endif</span>
                return <span class="hljs-built_in">dx_push</span>(tq, dsc, _dq_state_max_qos(old_state));
        }

        if (dsc-&gt;dc_flags &amp; DC_FLAG_ASYNC_AND_WAIT) {
                <span class="hljs-comment">// _dispatch_async_and_wait_f_slow() expects dc_other to be the</span>
                <span class="hljs-comment">// bottom queue of the graph</span>
                dsc-&gt;dc_other = dq;
        }
<span class="hljs-selector-id">#if</span> DISPATCH_INTROSPECTION
        if (dsc-&gt;dsc_from_async) {
                <span class="hljs-built_in">_dispatch_trace_runtime_event</span>(async_sync_handoff, dq, <span class="hljs-number">0</span>);
        } else {
                <span class="hljs-built_in">_dispatch_trace_runtime_event</span>(sync_sync_handoff, dq, <span class="hljs-number">0</span>);
        }
<span class="hljs-selector-id">#endif</span> <span class="hljs-comment">// DISPATCH_INTROSPECTION</span>
        return <span class="hljs-built_in">_dispatch_waiter_wake</span>(dsc, wlh, old_state, new_state);
}
static inline void
<span class="hljs-built_in">_dispatch_release_2_no_dispose</span>(dispatch_object_t dou)
{
        <span class="hljs-built_in">_os_object_release_internal_n_no_dispose_inline</span>(dou._os_obj, <span class="hljs-number">2</span>);
}
DISPATCH_ALWAYS_INLINE
static inline void
<span class="hljs-built_in">_os_object_release_internal_n_no_dispose_inline</span>(_os_object_t obj, int n)
{
        int ref_cnt = <span class="hljs-built_in">_os_object_refcnt_sub</span>(obj, n);
        if (likely(ref_cnt &gt;= <span class="hljs-number">0</span>)) {
                return;
        }
        <span class="hljs-built_in">_OS_OBJECT_CLIENT_CRASH</span>("Over-release of an object");
}
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_os_object_refcnt_sub</span>(o, n) \
                <span class="hljs-built_in">_os_atomic_refcnt_sub2o</span>(o, os_obj_ref_cnt, n)
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_os_atomic_refcnt_sub2o</span>(o, m, n) \
                <span class="hljs-built_in">_os_atomic_refcnt_perform2o</span>(o, m, sub, n, release)
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_os_atomic_refcnt_perform2o</span>(o, f, op, n, m)   ({ \
                typeof(o) _o = (o); \
                int _ref_cnt = _o-&gt;f; \
                if (likely(_ref_cnt != _OS_OBJECT_GLOBAL_REFCNT)) { \
                        _ref_cnt = os_atomic_#<span class="hljs-selector-id">#op</span>#<span class="hljs-selector-id">#2o</span>(_o, f, n, m); \
                } \
                _ref_cnt; \
        })
</code></pre>
<p>åˆ†æ<code>256</code>æ±‡ç¼–æŒ‡ä»¤çš„å‰åçš„é€»è¾‘</p>
<blockquote>
<p>0x10c4f4ad8 &lt;+232&gt;: ldr w8, [x21, #0x8] ; ä»x21+0x8å¤„åŠ è½½ä¸€ä¸ª32ä½å€¼åˆ°w8ï¼ˆå³è¯»å–å¼•ç”¨è®¡æ•°å€¼ï¼‰</p>
<p>0x10c4f4adc &lt;+236&gt;: mov w9, #0x7fffffff ; å°†æœ€å¤§å€¼0x7FFFFFFFæ”¾å…¥w9</p>
<p>0x10c4f4ae0 &lt;+240&gt;: cmp w8, w9 ; æ¯”è¾ƒå¼•ç”¨è®¡æ•°å€¼æ˜¯å¦ç­‰äº0x7FFFFFFF</p>
<p>0x10c4f4ae4 &lt;+244&gt;: b.eq 0x10c4f4b68 ; å¦‚æœç›¸ç­‰ï¼Œè·³è½¬åˆ°æ­£å¸¸é€€å‡ºï¼ˆè¯´æ˜æ˜¯å…¨å±€å¼•ç”¨è®¡æ•°ï¼Œä¸éœ€è¦å‡ï¼‰</p>
<p>0x10c4f4ae8 &lt;+248&gt;: add x8, x21, #0x8 ; å°†x21+8çš„åœ°å€å­˜å…¥x8ï¼ˆå¼•ç”¨è®¡æ•°å­—æ®µåœ°å€ï¼‰</p>
<p>0x10c4f4aec &lt;+252&gt;: mov w9, #-0x2 ; å°†-2å­˜å…¥w9</p>
<p>0x10c4f4af0 &lt;+256&gt;: ldaddl w9, w8, [x8] ; åŸå­æ“ä½œï¼šå°†[x8]çš„å€¼åŠ ä¸Šw9ï¼ˆå³å‡2ï¼‰ï¼Œå¹¶å°†æ“ä½œå‰çš„å€¼å­˜å…¥w8</p>
<p>0x10c4f4af4 &lt;+260&gt;: cmp w8, #0x1 ; æ¯”è¾ƒæ“ä½œå‰çš„å€¼ï¼ˆw8ï¼‰æ˜¯å¦å¤§äº1</p>
<p>0x10c4f4af8 &lt;+264&gt;: b.gt 0x10c4f4b68 ; å¦‚æœå¤§äº1ï¼Œè·³è½¬åˆ°æ­£å¸¸é€€å‡º</p>
<p>0x10c4f4afc &lt;+268&gt;: ... åç»­æ˜¯å¤„ç†å¼•ç”¨è®¡æ•°ä¸è¶³çš„æƒ…å†µï¼Œä¼šè§¦å‘å´©æºƒ</p>
</blockquote>
<p>æ³¨æ„ï¼Œåœ¨ <code>ldaddl</code> æŒ‡ä»¤ä¹‹å‰ï¼Œæœ‰ä¸¤æ¡æŒ‡ä»¤ï¼š</p>
<ul>
<li><code>ldr w8, [x21, #0x8]</code>ï¼šä» <code>x21+8</code> å¤„è¯»å–å€¼ã€‚è¿™é‡Œ <code>x21</code> æŒ‡å‘çš„æ˜¯ <code>obj</code>ï¼ˆå³é˜Ÿåˆ—å¯¹è±¡ï¼‰ï¼Œè€Œ <code>os_obj_ref_cnt </code>å­—æ®µåœ¨å¯¹è±¡ç»“æ„ä½“ä¸­çš„åç§»é‡æ˜¯<code>8</code>ï¼ˆå› ä¸ºå¯¹è±¡ç»“æ„ä½“ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯<code>isa</code>æŒ‡é’ˆï¼Œå <code>8</code>å­—èŠ‚ï¼Œç¬¬äºŒä¸ªå­—æ®µå°±æ˜¯å¼•ç”¨è®¡æ•°ï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªè¯»å–æ˜¯æ­£å¸¸çš„ã€‚</li>
<li>ç„¶åæ£€æŸ¥è¿™ä¸ªå€¼æ˜¯å¦ä¸º <code>0x7fffffff</code>ï¼ˆå…¨å±€å¼•ç”¨è®¡æ•°ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è·³è¿‡å‡æ“ä½œã€‚</li>
</ul>
<p>å¦‚æœå¼•ç”¨è®¡æ•°ä¸æ˜¯å…¨å±€å¼•ç”¨è®¡æ•°ï¼Œåˆ™è®¡ç®—å¼•ç”¨è®¡æ•°å­—æ®µåœ°å€<code>ï¼ˆx21+8ï¼‰</code>åˆ° <code>x8</code>ï¼Œç„¶åæ‰§è¡ŒåŸå­å‡æ“ä½œã€‚</p>
<p>å´©æºƒå‘ç”Ÿåœ¨ <code>ldaddl</code> æŒ‡ä»¤ï¼Œè¯´æ˜åœ¨è®¿é—® <code>x8</code> æŒ‡å‘çš„å†…å­˜æ—¶å‡ºç°äº†é—®é¢˜ã€‚è€Œ <code>x8</code> çš„å€¼æ˜¯ <code>x21+8</code>ï¼Œæ‰€ä»¥é—®é¢˜å¯èƒ½åœ¨äº <code>x21</code> æŒ‡å‘çš„å¯¹è±¡å·²ç»æ— æ•ˆã€‚</p>
<p>å› æ­¤ï¼Œæœ€å¯èƒ½çš„æƒ…å†µæ˜¯ï¼š<code>x21</code> æŒ‡å‘çš„é˜Ÿåˆ—å¯¹è±¡ï¼ˆ<code>dq</code>ï¼‰å·²ç»è¢«é‡Šæ”¾äº†ï¼Œæ‰€ä»¥å®ƒæŒ‡å‘çš„å†…å­˜åœ°å€æ— æ•ˆã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆè¿™ä¸ªå´©æºƒåªå‡ºç°åœ¨<code>iOS14.0~16.2</code>ä¹‹é—´çš„ç³»ç»Ÿï¼Ÿ</p>
<p>è¿™ä¸ªé—®é¢˜æˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ°ç¡®å®šçš„ç­”æ¡ˆï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fforums%2Fsearch" target="_blank" title="https://developer.apple.com/forums/search" ref="nofollow noopener noreferrer">è‹¹æœå¼€å‘è€…è®ºå›</a>ä»¥åŠç›¸å…³èµ„æ–™ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„è®¨è®ºå¸–å­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/492b09509fd94bfe818705b23144989c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=Xy8xK26rz7PX1M4LnHErcJJIayQ%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹åªæ˜¯æˆ‘é’ˆå¯¹æˆ‘æ‰€æŒæ¡èµ„æ–™çš„ä¸€äº›åŸå› æ¨æµ‹ã€‚</p>
<p>å› ä¸º<code>iOS14.0~16.2</code>ç³»ç»Ÿå‘å¸ƒçš„æ—¶é—´å¤§æ¦‚<code>2020</code>å¹´ - <code>2022</code>å¹´ä¹‹é—´ï¼Œå› æ­¤æˆ‘æ‰¾äº†ä¸‹è¿™æœŸé—´<code>libdispatch</code>ç‰ˆæœ¬<code>libdispatch-1271.100.5</code>(2021å¹´å‘å¸ƒï¼‰</p>
<blockquote>
<p><code>libdispatch</code>ç‰ˆæœ¬: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapple-oss-distributions%2Flibdispatch%2Ftags%3Fafter%3Dlibdispatch-1173.100.2" target="_blank" title="https://github.com/apple-oss-distributions/libdispatch/tags?after=libdispatch-1173.100.2" ref="nofollow noopener noreferrer">github.com/apple-oss-dâ€¦</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a4d5cf300af49fa97557a0b19e15805~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=GArodHo22RwphxfSSsth33sB2jw%3D" alt="" loading="lazy"/></p>
<p>æ¥è·Ÿ<code>iOS16.2</code>ä¹‹åçš„ç‰ˆæœ¬<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapple-oss-distributions%2Flibdispatch%2Freleases%2Ftag%2Flibdispatch-1462.0.4" target="_blank" title="https://github.com/apple-oss-distributions/libdispatch/releases/tag/libdispatch-1462.0.4" ref="nofollow noopener noreferrer">libdispatch-1462.0.4</a>ï¼Œä¹Ÿæ˜¯<code>2023</code>å¹´å‘å¸ƒçš„ç‰ˆæœ¬åšå¯¹æ¯”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8b368e4d53447ff84591a4f3c0526e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=BthauiE9CFx7SNprHwKaEkgMDSw%3D" alt="" loading="lazy"/></p>
<p><code>é€šè¿‡åˆ†æ__dispatch_barrier_waiter_redirect_or_wake</code>å‡½æ•°å®ç°ä»¥åŠ<code>256</code>æŒ‡ä»¤å¯¹åº”çš„æ±‡ç¼–ä»£ç æŒ‡å‘çš„æ˜¯å¼•ç”¨è®¡æ•°å‡½æ•°å‡<code>2</code>çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š<code>256</code>æŒ‡ä»¤å¯¹åº”å‡½æ•°ä»£ç å®ç°æ˜¯<code>_dispatch_release_2_no_dispose</code>ã€‚</p>
<p>ç„¶åå°†<code>_dispatch_release_2_no_dispose</code>ç›¸å…³çš„ä¸Šä¸‹æ¸¸å‡½æ•°åšå¯¹æ¯”ï¼Œå‘ç°æœ€æœ‰å¯èƒ½çš„æ ¹æœ¬åŸå› ï¼š</p>
<p><code>iOS14.0~16.2</code>ä¹‹é—´å¼•ç”¨è®¡æ•°å™¨æ“ä½œçš„æ–¹æ³•ï¼Œå­˜åœ¨å¤šçº¿ç¨‹æ“ä½œæƒ…å†µï¼Œå¯¼è‡´å¼•ç”¨è®¡æ•°å™¨æå‰ä¸º<code>0</code>ï¼Œå¯¼è‡´é˜Ÿåˆ—æå‰é‡Šæ”¾é—®é¢˜ã€‚å…·ä½“è¡¨ç°ä¸º:</p>
<ul>
<li>å¼•ç”¨æŠ€æœ¯çš„è¯»å–æ˜¯éåŸå­æ“ä½œï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåªæœ‰æ“ä½œ(åŠ å‡)æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ</li>
<li>è¿™æ ·å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°æ—¶ï¼Œå¯èƒ½å‡ºç°æ•°æ®ç«äº‰</li>
<li>æ¯”å¦‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œçº¿ç¨‹ A æ­£åœ¨æ›´æ–°å¼•ç”¨è®¡æ•°,æ¯”å¦‚å°†å¼•ç”¨è®¡æ•°åŠ 1ï¼Œçº¿ç¨‹ B åŒæ—¶è¯»å–ï¼ŒB å¯èƒ½è¯»åˆ°ä¸€ä¸ªä¸å®Œæ•´çš„ä¸­é—´å€¼ï¼Œæ¯”å¦‚æœ€å¼€å§‹å¼•ç”¨è®¡æ•°æ˜¯5ï¼Œçº¿ç¨‹Aæ›´æ–°ååº”è¯¥ä¸º6ï¼Œçº¿ç¨‹Bæ­£ç¡®è¯»å–åˆ°çš„åº”è¯¥æ˜¯6,ä½†ç”±äºè¯»æ“ä½œçš„åŒæ—¶ï¼Œçº¿ç¨‹Açš„æ›´æ–°æ“ä½œè¿˜æ²¡ç»“æŸï¼Œå¯¼è‡´è¯»å–åˆ°çš„è¿˜æ˜¯5.</li>
<li>è¿™æ ·å¼•ç”¨è®¡æ•°å°±ä¼šå­˜åœ¨ä¸å‡†ç¡®é—®é¢˜ï¼Œå¯¼è‡´äº†æœ‰å¯èƒ½å¼•ç”¨è®¡æ•°æå‰ä¸º0ï¼Œå¯¼è‡´é˜Ÿåˆ—è¢«æå‰é‡Šæ”¾ã€‚</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#define _os_atomic_refcnt_perform2o(o, f, op, n, m)   ({ \</span>
                __typeof__(o) <span class="hljs-attr">_o</span> = (o)<span class="hljs-comment">; \</span>
                int <span class="hljs-attr">_ref_cnt</span> = _o-&gt;f<span class="hljs-comment">; \</span>
                if (likely(_ref_cnt != _OS_OBJECT_GLOBAL_REFCNT)) { \
                        <span class="hljs-attr">_ref_cnt</span> = os_atomic_<span class="hljs-comment">##op##2o(_o, f, n, m); \</span>
                } \
                _ref_cnt<span class="hljs-comment">; \</span>
        })
</code></pre>
<p>æˆ‘ä»¬çœ‹ä¸‹æµ‹è¯•çš„ä»£ç å°±å¾ˆç›´è§‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/047c12a630c240208b9f750015cfd22d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=NOTw%2FCFEoSYIlRecslPAbdaIEMw%3D" alt="" loading="lazy"/></p>
<p>è€Œåœ¨<code>libdispatch-1462.0.4</code>ç‰ˆæœ¬é‡Œé¢ï¼Œå¼•ç”¨è®¡æ•°çš„æ“ä½œå°±ä¿è¯äº†è¯»å–å’Œå†™å…¥éƒ½æ˜¯åŸå­æ€§ï¼Œéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#define _os_atomic_refcnt_perform(o, op, n, m)   ({ \</span>
                int <span class="hljs-attr">_ref_cnt</span> = os_atomic_load(o, relaxed)<span class="hljs-comment">; \</span>
                if (likely(_ref_cnt != _OS_OBJECT_GLOBAL_REFCNT)) { \
                        <span class="hljs-attr">_ref_cnt</span> = os_atomic_<span class="hljs-comment">##op(o, n, m); \</span>
                } \
                _ref_cnt<span class="hljs-comment">; \</span>
        })
</code></pre>
<p>å› æ­¤ä¹Ÿå°±ä¿è¯äº†é˜Ÿåˆ—ä¸ä¼šè¢«æå‰é‡Šæ”¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b337710959464c299709eeb8efab0359~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=lUklffmr6KTvImtlm1JL%2FSoQk20%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æˆ‘ä»¬æ¯”å¯¹äº†æ‰€æœ‰ç‰ˆæœ¬çš„<code>libdispatch</code>æºç ï¼Œå‘ç°å¼•ç”¨è®¡æ•°æ“ä½œçš„è¯»å–å’Œå†™å…¥éƒ½æ˜¯åŸå­æ€§çš„ï¼Œæœ€æ—©æ˜¯åœ¨libdispatch-1462.0.4è¿™ä¸ªç‰ˆæœ¬æ”¹çš„ï¼Œä½†libdispatch-1462.0.4çš„å‘å¸ƒæ—¶é—´å·²ç»æ˜¯<code>2023.09</code>, è¿™æ—¶å€™å¯¹åº”çš„ç³»ç»Ÿç‰ˆæœ¬åº”è¯¥å·²ç»æ˜¯<code>iOS17</code>,ä½†è€ƒè™‘åˆ°<code>libdispatch</code>æºç çš„å…¬å¸ƒï¼Œä¸€èˆ¬éƒ½æ˜¯æ™šäº<code>iOS</code>ç³»ç»Ÿç‰ˆæœ¬ï¼Œç­‰ç³»ç»Ÿç‰ˆæœ¬ç¨³å®šåï¼Œæ‰å‘å¸ƒï¼Œå› æ­¤å¯ä»¥åˆç†çš„çŒœæµ‹å…¶å®è‹¹æœåœ¨<code>iOS16.3</code>ç³»ç»Ÿç‰ˆæœ¬é‡Œé¢å°±ä¿®å¤äº†è¿™ä¸ªå¼•ç”¨è®¡æ•°æ“ä½œé—®é¢˜ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šæˆ‘ä»¬æ¨æµ‹äº†ä¸ºä»€ä¹ˆè¿™ä¸ªå´©æºƒä¼šå‘ç”Ÿåœ¨<code>iOS14.0~16.2</code>ç³»ç»Ÿï¼Œä»¥åŠå¼•èµ·å´©æºƒçš„å¯èƒ½åŸå› æ˜¯å› ä¸ºé˜Ÿåˆ—è¢«æå‰é‡Šæ”¾äº†ã€‚</p>
<p>è€Œ<code>__dispatch_barrier_waiter_redirect_or_wake</code>åˆ™è¡¨æ˜è¿™ä¸ªå´©æºƒå‘ç”Ÿåœ¨ <code>GCD</code> çš„ <code>barrier</code> åŒæ­¥æœºåˆ¶ ä¸­ï¼Œå…·ä½“æ˜¯ç³»ç»Ÿåœ¨å¤„ç† <code>dispatch_barrier_async</code> æˆ– <code>dispatch_barrier_sync</code> æ—¶ï¼Œå°è¯•å”¤é†’ç­‰å¾… <code>barrier</code> çš„çº¿ç¨‹ï¼Œä½†è®¿é—®äº†å·²ç»é‡Šæ”¾çš„é˜Ÿåˆ—å¯¹è±¡ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬å°†ç›®æ ‡é”å®šåœ¨ <code>GCD</code> å¤„ç† <code>barrierï¼ˆæ …æ ï¼‰</code>ä»»åŠ¡çš„æ–¹æ³•è°ƒç”¨ä¸Šï¼Œä¹Ÿå°±æ˜¯<code>dispatch_barrier_sync</code>ã€ <code>queue.sync(flags: .barrier)</code>æˆ–è€…<code>dispatch_barrier_async</code>ã€ <code>queue.async(flags: .barrier)</code>çš„è°ƒç”¨ä¸Šã€‚</p>
<p>æ’æŸ¥å‘ç°é¡¹ç›®ä¸­æœ‰å¤ªå¤šçš„åœ°æ–¹è°ƒç”¨åˆ°é˜Ÿåˆ—çš„æ …æ å‡½æ•°ï¼Œæ— è®ºæ˜¯äºŒæ–¹ã€ä¸‰æ–¹åº“ã€è¿˜æ˜¯ä¸šåŠ¡ä¾§éƒ½æœ‰æŒºå¤šåœ°æ–¹è°ƒç”¨åˆ°ã€‚</p>
<p>å› ä¸ºäºŒæ–¹ã€ä¸‰æ–¹åº“ï¼Œé™¤äº†æˆ‘ä»¬ä¸šåŠ¡çº¿å¤–ï¼Œè¿˜æœ‰å…¬å¸å†…å…¶ä»–ä¸šåŠ¡çº¿ä¹Ÿåœ¨ä½¿ç”¨ï¼Œå› æ­¤å’¨è¯¢äº†å…¶ä»–ä¸šåŠ¡çº¿çš„<code>iOS</code>å¼€å‘äººå‘˜ï¼Œå‘ç°ä»–ä»¬å¹¶æ²¡æœ‰ç±»ä¼¼çš„å´©æºƒã€‚é‚£ä¹Ÿå°±æ˜¯è¯´äºŒæ–¹ã€ä¸‰æ–¹åº“å¼•èµ·çš„æ¦‚ç‡å¾ˆå°ï¼Œå¾ˆå¤§æ¦‚ç‡æ˜¯æˆ‘ä»¬ä¸šåŠ¡ä¾§å¯¹<code>barrierï¼ˆæ …æ ï¼‰</code>æ–¹æ³•çš„ä½¿ç”¨å¼•èµ·çš„ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿç¼©å°äº†æ’æŸ¥èŒƒå›´ã€‚</p>
<p>æ—¢ç„¶ç›®æ ‡æ˜¯ä¸šåŠ¡ä¾§å¯¹<code>barrierï¼ˆæ …æ ï¼‰</code>æ–¹æ³•çš„ä½¿ç”¨ï¼Œç»æ’æŸ¥æˆ‘ä»¬å‘ç°ï¼Œä¸šåŠ¡ä¾§å®šä¹‰äº†å¾ˆå¤šå®‰å…¨ç±»æ¯”å¦‚å®‰å…¨å­—å…¸ã€å®‰å…¨æ•°ç»„ç­‰ï¼Œé‡Œé¢éƒ½æ˜¯é€šè¿‡å¹¶è¡Œé˜Ÿåˆ—çš„åŒæ­¥è¯»å’Œæ …æ å‡½æ•°å†™æ¥å®ç°è¯»å†™é”çš„é€»è¾‘ã€‚</p>
<p>ç±»ä¼¼é€»è¾‘å¦‚ä¸‹:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03c1d870a31a4b47a9888539a002edbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=KCsRYawKGXPZDGulENfdZmHU2HY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d18ba8622d74c9ab75ba823a63275a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=fimVppLTl5jECD2WEqUL5FsnhX0%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶æˆ‘ä»¬è§‚å¯Ÿä»£ç çš„ç›¸å…³é€»è¾‘ï¼Œå‘ç°è¿™äº›å®‰å…¨ç±»çš„è¯»å†™é”é€»è¾‘ï¼Œä»ä»£ç ç»“æ„æ¥è¯´ç¡®å®æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†å› ä¸ºè¿™äº›ç±»åœ¨ä¸šåŠ¡ä¾§ä¸­æœ‰ç€éå¸¸å¹¿æ³›çš„ä½¿ç”¨ï¼Œæœ‰ä½œä¸ºå¯¹è±¡çš„å˜é‡ï¼Œä¹Ÿæœ‰ä½œä¸ºå±€éƒ¨å˜é‡ï¼Œè€Œä¸”å¾ˆå¤šå˜é‡éƒ½æ˜¯åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ç”Ÿæˆå’Œé‡Šæ”¾ç­‰æ“ä½œï¼Œå› æ­¤æ€€ç–‘å¾ˆæœ‰å¯èƒ½æ˜¯è¿™äº›å®‰å…¨ç±»é‡Œé¢çš„å¹¶è¡Œé˜Ÿåˆ—çš„è¯»å†™é”é€»è¾‘ï¼Œå¯¼è‡´ç³»ç»Ÿå†…éƒ¨ç”±äºå¼•ç”¨æŠ€æœ¯æ“ä½œçš„éåŸå­æ€§ï¼Œè‡´ä½¿å¹¶è¡Œé˜Ÿåˆ—å¼•ç”¨è®¡æ•°ä¸º0ï¼Œæå‰è¢«é‡Šæ”¾ï¼Œè®¿é—®åˆ°æ— æ•ˆå†…å­˜åœ°å€å´©æºƒã€‚</p>
<h2 data-id="heading-2">ä¸‰. è§£å†³æ–¹æ¡ˆ</h2>
<p>æ—¢ç„¶åŸå› é”å®šåœ¨è¿™äº›å®‰å…¨ç±»é‡Œé¢çš„é€šè¿‡å¹¶è¡Œé˜Ÿåˆ—æ¥å®ç°çš„è¯»å†™é”é€»è¾‘ï¼Œé‚£æœ€å¥½çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯æ›¿æ¢æ‰è¿™äº›å®‰å…¨ç±»é‡Œé¢çš„è¯»å†™é”é€»è¾‘ï¼Œä½¿ç”¨<code>pthread_rwlock_t</code>æ¥ä»£æ›¿å¹¶è¡Œé˜Ÿåˆ—å®ç°è¯»å†™é”åŠŸèƒ½, è¿™æ ·å°±é¿å…äº†é˜Ÿåˆ—æå‰é‡Šæ”¾çš„é£é™©ã€‚</p>
<blockquote>
<p>è¯»å†™é”<code>pthread_rwlock_t</code>å…¶å†…éƒ¨å¯èƒ½åŒ…å«å¦‚ä¸‹ç»„ä»¶ï¼š</p>
<ul>
<li><strong>äº’æ–¥é”ï¼ˆMutexï¼‰</strong> ï¼šç”¨äºä¿æŠ¤è¯»å†™é”çš„å†…éƒ¨çŠ¶æ€ï¼Œå¦‚è¯»è®¡æ•°å™¨å’Œå†™é”çŠ¶æ€ã€‚</li>
<li><strong>è¯»è®¡æ•°å™¨ï¼ˆRead Counterï¼‰</strong> ï¼šè®°å½•å½“å‰æŒæœ‰è¯»é”çš„çº¿ç¨‹æ•°é‡ã€‚</li>
<li><strong>æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰</strong> ï¼šç”¨äºå®ç°çº¿ç¨‹çš„ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ã€‚é€šå¸¸ï¼Œä¼šæœ‰ä¸¤ä¸ªæ¡ä»¶å˜é‡ï¼Œä¸€ä¸ªç”¨äºè¯»çº¿ç¨‹ï¼Œä¸€ä¸ªç”¨äºå†™çº¿ç¨‹ã€‚</li>
</ul>
<p>å½“çº¿ç¨‹å°è¯•è·å–è¯»é”æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥å†™é”çŠ¶æ€å’Œè¯»è®¡æ•°å™¨ï¼Œå¦‚æœå½“å‰æ²¡æœ‰å†™çº¿ç¨‹æ­£åœ¨è®¿é—®èµ„æºï¼Œåˆ™å¢åŠ è¯»è®¡æ•°å™¨å¹¶å…è®¸è¯»çº¿ç¨‹ç»§ç»­ï¼›å¦‚æœå­˜åœ¨å†™æ“ä½œï¼Œåˆ™è¯»çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°å†™æ“ä½œå®Œæˆã€‚</p>
<p>ç±»ä¼¼åœ°ï¼Œå½“çº¿ç¨‹å°è¯•è·å–å†™é”æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥è¯»è®¡æ•°å™¨å’Œå†™é”çŠ¶æ€ã€‚å¦‚æœå½“å‰æ²¡æœ‰è¯»çº¿ç¨‹å’Œå†™çº¿ç¨‹æ­£åœ¨è®¿é—®èµ„æºï¼Œåˆ™è®¾ç½®å†™é”çŠ¶æ€å¹¶å…è®¸å†™çº¿ç¨‹ç»§ç»­ï¼›å¦‚æœæœ‰è¯»çº¿ç¨‹æˆ–å†™çº¿ç¨‹æ­£åœ¨è®¿é—®èµ„æºï¼Œåˆ™å†™çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰è¯»çº¿ç¨‹å’Œå‰ä¸€ä¸ªå†™çº¿ç¨‹å®Œæˆæ“ä½œã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60307fa97155458997cf6630ea14f467~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=76N4KQo013n%2Bsq3%2BIKm3Qw%2Bjarw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f888f13affdc46ddbc674e0a915f9319~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=IgxMOSs%2BJpnYujy2auIVTU5ti%2FA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19233abd9bea4a3c8ada5783fbfb1bfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=saqHumw0Neg5MIBxKjmrmmakyC4%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ”¹åŠ¨ä¸Šçº¿åï¼Œè¯¥å´©æºƒå¾—åˆ°äº†æœ‰æ•ˆæ²»ç†ã€‚</p>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ°æ²»ç†ä¹‹å‰,è¯¥å´©æºƒåŸºæœ¬æ¯å¤©éƒ½æœ‰:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/071d7dbf29dc491983e848e2ecd1adf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=FbfoKQZ7JKMhxObY0pSG4d11sLE%3D" alt="" loading="lazy"/></p>
<p>æ²»ç†ä¹‹åæ–°ç‰ˆæœ¬æ²¡å‡ºç°ï¼Œåªæœ‰æ—§ç‰ˆæœ¬å¶ç°:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d23e189b9dfe42728f824f2dd4ff22c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755046&amp;x-signature=GZggKx%2Bk9e3Ttfzond7mpTL7mVk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å››. æ€»ç»“</h2>
<p>ä»¥ä¸Šä¸»è¦ä»‹ç»äº†é’ˆå¯¹è¿™ä¸ªå´©æºƒåˆ†æå’Œæ²»ç†è¿‡ç¨‹çš„æ¢ç´¢å’Œæ€è€ƒï¼Œå½“ç„¶å…¶ä¸­çš„åŸå› å¹¶æ²¡æœ‰å¾—åˆ°å®˜æ–¹èµ„æ–™ï¼Œåªæ˜¯è‡ªå·±æ’æŸ¥çš„æ¨æµ‹ï¼Œå¦‚æœå¤§å®¶æœ‰å…¶ä»–è§è§£ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</p>
<p>è‹¥æœ¬æ–‡æœ‰é”™è¯¯ä¹‹å¤„æˆ–è€…æŠ€æœ¯ä¸Šå…³äºå…¶ä»–ç±»å‹<code>Crash</code>çš„è®¨è®ºäº¤æµçš„ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›½å†…ç›´è¿GPTã€Claudeå’ŒGeminiï¼ŸN8Nè¿™æ¬¡æ›´æ–°çœŸçš„ç»äº†ï¼]]></title>    <link>https://juejin.cn/post/7589553580878921778</link>    <guid>https://juejin.cn/post/7589553580878921778</guid>    <pubDate>2025-12-31T03:06:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589553580878921778" data-draft-id="7589568455172489254" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å›½å†…ç›´è¿GPTã€Claudeå’ŒGeminiï¼ŸN8Nè¿™æ¬¡æ›´æ–°çœŸçš„ç»äº†ï¼"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-31T03:06:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaä¸­æ–‡ç¤¾ç¾¤"/> <meta itemprop="url" content="https://juejin.cn/user/61228381386487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å›½å†…ç›´è¿GPTã€Claudeå’ŒGeminiï¼ŸN8Nè¿™æ¬¡æ›´æ–°çœŸçš„ç»äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/61228381386487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaä¸­æ–‡ç¤¾ç¾¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T03:06:19.000Z" title="Wed Dec 31 2025 03:06:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šäººéƒ½åœ¨é—®ï¼š<strong>åœ¨å›½å†…ï¼Œå¦‚æœä¸ä½¿ç”¨â€œé­”æ³•â€ï¼Œåˆ°åº•èƒ½ä¸èƒ½ç”¨ä¸Šé¡¶çº§çš„ AI å¤§æ¨¡å‹ï¼Ÿ</strong></p>
<p>æ¯•ç«Ÿåƒ OpenAI çš„ <strong>ChatGPT</strong>ã€Anthropic çš„ <strong>Claude</strong>ã€è°·æ­Œçš„ <strong>Gemini</strong>ï¼Œè¿˜æœ‰é©¬æ–¯å…‹çš„ <strong>Grok</strong>ï¼Œè¿™äº›å·¥å…·å¯¹æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡æå‡å®åœ¨å¤ªå¤§äº†ã€‚ä½†ç¹ççš„ç½‘ç»œç¯å¢ƒå¾€å¾€è®©ä¸å°‘å°ä¼™ä¼´æœ›è€Œå´æ­¥ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±è¦æ•™å¤§å®¶ä¸€ä¸ªâ€œç»ˆææ–¹æ¡ˆâ€ã€‚ä¸éœ€è¦ä»»ä½•å¤æ‚çš„æ“ä½œï¼Œåœ¨å›½å†…å°±èƒ½ç›´æ¥ç”¨ä¸Šå…¨çƒæœ€å¼ºçš„å¤§æ¨¡å‹ã€‚</p>
<p>ç§˜è¯€å°±åœ¨äºï¼š<strong>n8n çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆ2.1ï¼‰æ›´æ–°ï¼</strong></p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/270ad35f3a5d4aad9deb5fbe3c6e8342~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=cUIEfK3WaG9EeI5n0Uz9s1kDVnk%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ğŸ¬ å…ˆçœ‹æ•ˆæœ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UxvaBtE6G%2F" target="_blank" title="https://www.bilibili.com/video/BV1UxvaBtE6G/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1Uxâ€¦</a></p>
<hr/>
<h2 data-id="heading-1">ğŸ¤– n8n å…¨æ–°â€œèŠå¤©åŠŸèƒ½â€ï¼šå®ƒä¸åªæ˜¯è‡ªåŠ¨åŒ–å·¥å…·äº†</h2>
<p>æåˆ° n8nï¼Œè€ç©å®¶éƒ½çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªæå…¶å¼ºå¤§çš„å·¥ä½œæµè‡ªåŠ¨åŒ–å·¥å…·ã€‚ä½†å°±åœ¨æœ€è¿‘ï¼Œå®ƒå¸¦æ¥äº†ä¸€ä¸ª<strong>éå¸¸é‡ç£…çš„åŠŸèƒ½â€”â€”Chatï¼ˆèŠå¤©ï¼‰</strong>ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb93bd9e84624f4cb4b477cb89384fb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=zqnKiMV4kp29HgpHO2IDgreyOic%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªåŠŸèƒ½æœ‰å¤šå¼ºï¼Ÿ</p>
<ol>
<li><strong>èšåˆæ‰€æœ‰æ¨¡å‹ï¼š</strong> ä½ å¯ä»¥åœ¨ä¸€ä¸ªç•Œé¢é‡Œï¼Œè‡ªç”±åˆ‡æ¢ ChatGPTã€Claudeã€Gemini ç­‰ä¸»æµæ¨¡å‹ã€‚</li>
<li><strong>æ‰“é€ ä¸“å±æ™ºèƒ½ä½“ï¼š</strong> ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªâ€œçˆ†æ¬¾æ ‡é¢˜ç”Ÿæˆå™¨â€æˆ–è€…â€œç§äººåŠ©ç†â€ï¼Œç»™å®ƒè®¾å®šç‰¹å®šçš„æç¤ºè¯ï¼ˆPromptï¼‰ã€‚</li>
<li><strong>æ’ä»¶æ‰©å±•ï¼š</strong> å®ƒå¯ä»¥é›†æˆè”ç½‘æœç´¢ï¼ˆWeb Searchï¼‰ã€è°·æ­Œæœç´¢ç­‰å·¥å…·ï¼Œè®©ä½ çš„ AI å®æ—¶æŒæ¡æœ€æ–°åŠ¨æ€ã€‚</li>
</ol>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ ä¸€è¾¹è¿è¡Œç€å¤æ‚çš„å·¥ä½œæµï¼Œä¸€è¾¹åœ¨æ—è¾¹çš„å¯¹è¯æ¡†é‡ŒæŸ¥èµ„æ–™ï¼ŒçœŸæ­£å®ç°äº†<strong>å·¥ä½œå’ŒæŸ¥è¯¢ä¸¤ä¸è¯¯</strong>ï¼</p>
<hr/>
<h2 data-id="heading-2">ğŸ› ï¸ æ‰‹æŠŠæ‰‹æ•™ä½ åˆ›å»ºè‡ªå·±çš„ AI æ™ºèƒ½ä½“</h2>
<p>åœ¨ n8n çš„æ–°é¢æ¿é‡Œï¼Œæ“ä½œéå¸¸ç®€å•ï¼š</p>
<ol>
<li><strong>æ–°å»ºä»£ç†ï¼š</strong> ç‚¹å‡»å·¦ä¸Šè§’çš„â€œæ–°å»ºä»£ç†ï¼ˆAgentï¼‰â€ï¼Œç»™å®ƒèµ·ä¸ªå“äº®çš„åå­—ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17de044b683641b283748f6f2dea3b71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=%2FftsZjSsVIyXJ8aZm%2BcSpXPFDIg%3D" alt="" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4687a159191940fd84775f7323b9aeff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=AHdwMan59rez3ib4aPtLVWCvrUI%3D" alt="" loading="lazy"/></li>
<li><strong>é…ç½®æ¨¡å‹ï¼š</strong> åœ¨åå°ç›´æ¥é€‰æ‹©ä½ æƒ³ç”¨çš„æ¨¡å‹ï¼Œæ— è®ºæ˜¯ <strong>OpenAI</strong>ã€<strong>Anthropic</strong> è¿˜æ˜¯ <strong>Google Gemini</strong>ï¼Œé€šé€šæ”¯æŒã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d156473ed9164a47aefffc34326cbddb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=AOZgVS2B%2BYM14iZYuLD0hY1tJDw%3D" alt="" loading="lazy"/></li>
<li><strong>æ·»åŠ æŠ€èƒ½ï¼š</strong> ä½ å¯ä»¥ç»™å®ƒæ·»åŠ â€œå·¥å…·â€ã€‚æ¯”å¦‚æˆ‘æƒ³è®©å®ƒèƒ½è”ç½‘ï¼Œå°±é€‰ä¸€ä¸ª <code>Google Search</code> æˆ–è€… <code>Web Search</code>ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ad6ea84519144aaa3f0207387a07d70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=mmG0fQADAcQkNYNJHyjyLmvYztw%3D" alt="" loading="lazy"/></li>
<li><strong>å³åˆ»å¼€èŠï¼š</strong> è®¾ç½®å®Œæˆåï¼Œç‚¹å‡»èŠå¤©é¡µé¢ï¼Œä½ å°±å¯ä»¥åœ¨å›½å†…ç¯å¢ƒç›´æ¥å’Œè¿™äº›é¡¶çº§ AI æ·±åº¦äº¤æµäº†ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a23cffd4290444e8765fd5366b12bdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=CuHq2W7nCwdLjhiCPamZWJ45pzQ%3D" alt="" loading="lazy"/></li>
</ol>
<hr/>
<h2 data-id="heading-3">ğŸš€ å¦‚ä½•å‡çº§åˆ°æœ€æ–°ä¸­æ–‡ç‰ˆ n8nï¼Ÿ</h2>
<p>æƒ³è¦ä½“éªŒè¿™ä¸ªåŠŸèƒ½ï¼Œå¿…é¡»æŠŠ n8n å‡çº§åˆ°æœ€æ–°çš„ä¸­æ–‡ç‰ˆæœ¬ã€‚è¿‡ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸¤æ­¥ï¼š</p>
<h3 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šåœæ­¢ç°æœ‰æœåŠ¡</h3>
<p>æ‰¾åˆ°ä½ æœ¬åœ°è¿è¡Œ n8n çš„ä½ç½®ï¼Œå…ˆæŠŠç°æœ‰çš„æœåŠ¡åœæ‰ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22240ff6a6c9486f911f13d2e95e1339~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767755179&amp;x-signature=5geY6ZcfYqZ7r5uJFkBT71uahXw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šä¸€é”®æ›´æ–°å¯åŠ¨</h3>
<p>ä½ éœ€è¦ä¸€ä¸ªæ ¸å¿ƒçš„ <code>docker-compose</code> é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">n8n:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">deluxebear/n8n:2.1.4-chs</span>  <span class="hljs-comment"># é•œåƒname:tag</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">n8n</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>  <span class="hljs-comment"># ç¡®ä¿å®¹å™¨åœ¨æ„å¤–é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5678:5678"</span>  <span class="hljs-comment"># å°†æœ¬åœ°çš„5678ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„5678ç«¯å£</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-comment"># æ—¶åŒºè®¾ç½®</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">GENERIC_TIMEZONE=Asia/Shanghai</span>
      
      <span class="hljs-comment"># æ•°æ®åº“é…ç½®</span>
      <span class="hljs-comment"># - DB_TYPE=postgresdb</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_HOST=host.docker.internal</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_PORT=5432</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_DATABASE=n8nv2</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_USER=postgres</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_PASSWORD=12345678</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_SCHEMA=public</span>
      <span class="hljs-comment"># - DB_POSTGRESDB_SSL_ENABLED=false</span>

      <span class="hljs-comment"># å¯ç”¨ ExecuteCommand å’Œ LocalFileTrigger èŠ‚ç‚¹</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">NODES_EXCLUDE=[]</span>

      <span class="hljs-comment"># å¼€å¯å…¶ä»–ç›®å½•è®¿é—®ï¼ˆé»˜è®¤åªèƒ½è®¿é—® ~/.n8n-filesç›®å½•ï¼‰</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">N8N_RESTRICT_FILE_ACCESS_TO=/mnt</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">N8N_FILESYSTEM_ALLOW_LIST=/mnt</span>

      <span class="hljs-comment"># è¯­è¨€è®¾ç½®</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">N8N_DEFAULT_LOCALE=zh-CN</span>
      
      <span class="hljs-comment"># å¯é€‰ï¼šæ—¥å¿—çº§åˆ«</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">N8N_LOG_LEVEL=info</span>
      <span class="hljs-comment"># å¯é€‰ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½®ä¸€ä¸ª32ä½éšæœºå­—ç¬¦ä¸²ä½œä¸ºåŠ å¯†å¯†é’¥</span>
      <span class="hljs-comment"># - N8N_ENCRYPTION_KEY=your_32_character_encryption_key_here</span>
      
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-comment"># ç›®å½•æ˜ å°„(æ³¨æ„ï¼šå°†å‰é¢çš„ç›®å½•æ¢æˆä½ è‡ªå·±ç”µè„‘çš„ç›®å½•)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">D:\data\n8n-mnt:/mnt</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">D:\data\n8n-data:/home/node/.n8n</span>
</code></pre>
<ul>
<li>åœ¨å½“å‰æ–‡ä»¶å¤¹é¡µé¢æ‰“å¼€å‘½ä»¤çª—å£ï¼ˆTerminal/CMDï¼‰ã€‚</li>
<li>è¾“å…¥å‘½ä»¤ï¼š<code>docker-compose up -d</code> ç„¶åå›è½¦ã€‚</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®ä½ ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆçš„<strong>ä¸­æ–‡ç‰ˆ n8n</strong>ï¼Œå¹¶è‡ªåŠ¨å®Œæˆå¯åŠ¨ã€‚</p>
<p>ç­‰è¿›åº¦æ¡è·‘å®Œï¼Œä½ åªéœ€è¦è®¿é—® <code>localhost:5678</code>ï¼Œå°±èƒ½çœ‹åˆ°é‚£ä¸ªç†Ÿæ‚‰çš„ç•Œé¢å˜æˆäº†æœ€æ–°çš„ä¸­æ–‡ç‰ˆï¼Œè€Œä¸”è‡ªå¸¦å¼ºå¤§çš„èŠå¤©åŠŸèƒ½ï¼</p>
<hr/>
<h2 data-id="heading-6">ğŸ’¡ ç»“è¯­</h2>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ ä¸ä»…æ‹¥æœ‰äº†ä¸€ä¸ªå¼ºå¤§çš„è‡ªåŠ¨åŒ–ä¸­å¿ƒï¼Œæ›´æ‹¥æœ‰äº†ä¸€ä¸ª<strong>åœ¨å›½å†…ç›´è¿å…¨çƒ AI çš„ç§äººå·¥ä½œç«™</strong>ã€‚</p>
<p>æˆ‘æ˜¯ç£Šå“¥ï¼Œæ¯å¤©ä¸ºä½ åˆ†äº«ä¸€ä¸ªå®ç”¨çš„æŠ€æœ¯å¹²è´§ï¼è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œåˆ«å¿˜äº†<strong>ç‚¹èµã€åœ¨çœ‹ã€è½¬å‘</strong>ä¸‰è¿å“¦ï¼ğŸŒŸ</p>
<blockquote>
<p>æœ¬æ–‡å·²æ”¶å½•åˆ°æˆ‘çš„æŠ€æœ¯å°ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacn.site" target="_blank" title="https://www.javacn.site" ref="nofollow noopener noreferrer">www.javacn.site</a>ï¼Œç½‘ç«™åŒ…å«çš„å†…å®¹æœ‰ï¼š<strong>N8N/Coze/Dify/LangChain/SpringAI/SpringAIAlibaba/LangChain4j/AIå®æˆ˜é¡¹ç›®/AIå¸¸è§é¢è¯•é¢˜</strong>ç­‰æŠ€æœ¯åˆ†äº«ï¼Œæ¬¢è¿å„ä½å¤§ä½¬å…‰ä¸´æŒ‡å¯¼~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» node-exporter å­¦å¦‚ä½•å†™å‡ºå¯å¤ç”¨çš„ç›‘æ§æŒ‡æ ‡]]></title>    <link>https://juejin.cn/post/7589481566424596534</link>    <guid>https://juejin.cn/post/7589481566424596534</guid>    <pubDate>2025-12-31T03:24:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589481566424596534" data-draft-id="7589585150153900073" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» node-exporter å­¦å¦‚ä½•å†™å‡ºå¯å¤ç”¨çš„ç›‘æ§æŒ‡æ ‡"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,è¿ç»´"/> <meta itemprop="datePublished" content="2025-12-31T03:24:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» node-exporter å­¦å¦‚ä½•å†™å‡ºå¯å¤ç”¨çš„ç›‘æ§æŒ‡æ ‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T03:24:29.000Z" title="Wed Dec 31 2025 03:24:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7589146208225296420" target="_blank" title="https://juejin.cn/post/7589146208225296420">ã€Šå››ä¸ªæŒ‡æ ‡ï¼Œä¸€ç§å“²å­¦ï¼šPrometheus å¦‚ä½•ç”¨ç®€å•æ¨¡å‹çœ‹é€å¤æ‚ç³»ç»Ÿã€‹</a>ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Prometheus çš„å››ç§æŒ‡æ ‡ç±»å‹å’Œè®¾è®¡å“²å­¦ï¼š</p>
<ul>
<li>Counterï¼šåªå¢ä¸å‡çš„ç´¯ç§¯å™¨</li>
<li>Gaugeï¼šå¯å¢å¯å‡çš„å¿«ç…§</li>
<li>Histogramï¼šåˆ†å¸ƒçš„å‹ç¼©</li>
<li>Summaryï¼šé¢„è®¡ç®—çš„ç»“æœ</li>
</ul>
<p>ç†è§£äº†æŒ‡æ ‡ç±»å‹ï¼Œä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼š<strong>å¦‚ä½•æŠŠè¿™å¥—å“²å­¦è½åœ°åˆ°å®é™…çš„ Exporter è®¾è®¡ä¸­ï¼Ÿ</strong></p>
<p>node-exporter å°±æ˜¯æœ€å¥½çš„æ•™ç§‘ä¹¦ã€‚å®ƒç”¨æœ€ç®€å•çš„æ–¹å¼ç›‘æ§ Linux æœåŠ¡å™¨ï¼Œå´æˆä¸ºæ•´ä¸ª Prometheus ç”Ÿæ€çš„æ ‡æ†ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸æ•™ä½ æ€ä¹ˆå†™ä»£ç ï¼Œè€Œæ˜¯å¸¦ä½ ç†è§£ node-exporter èƒŒåçš„è®¾è®¡æ™ºæ…§ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆ CPU æ—¶é—´ç”¨ Counterï¼Œè€Œä¸æ˜¯ç›´æ¥ç»™ä½¿ç”¨ç‡ï¼Ÿ</strong></li>
<li><strong>ä¸ºä»€ä¹ˆå†…å­˜è¦æ‹†æˆå¤šä¸ª Gaugeï¼Œè€Œä¸æ˜¯ä¸€ä¸ª"ä½¿ç”¨ç‡"æŒ‡æ ‡ï¼Ÿ</strong></li>
<li><strong>ä»€ä¹ˆå«"æš´éœ²äº‹å®ï¼Œä¸æ˜¯è§‚ç‚¹"ï¼Ÿ</strong></li>
</ul>
<p>ç†è§£äº†è¿™äº›ï¼Œä½ å°±èƒ½è®¾è®¡å‡ºå¯å¤ç”¨çš„ç›‘æ§æŒ‡æ ‡ã€‚</p>
<hr/>
<h2 data-id="heading-0">ç›®å½•</h2>
<ol>
<li><a href="#1-%E4%BB%8E%E9%97%AE%E9%A2%98%E5%87%BA%E5%8F%91%E7%9B%91%E6%8E%A7%E5%88%B0%E5%BA%95%E8%A6%81%E5%9B%9E%E7%AD%94%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98" title="#1-%E4%BB%8E%E9%97%AE%E9%A2%98%E5%87%BA%E5%8F%91%E7%9B%91%E6%8E%A7%E5%88%B0%E5%BA%95%E8%A6%81%E5%9B%9E%E7%AD%94%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98">ä»é—®é¢˜å‡ºå‘ï¼šç›‘æ§åˆ°åº•è¦å›ç­”ä»€ä¹ˆé—®é¢˜</a></li>
<li><a href="#2-%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E6%9A%B4%E9%9C%B2%E4%BA%8B%E5%AE%9E%E6%8A%8A%E8%A7%86%E5%9B%BE%E4%BA%A4%E7%BB%99-promql" title="#2-%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E6%9A%B4%E9%9C%B2%E4%BA%8B%E5%AE%9E%E6%8A%8A%E8%A7%86%E5%9B%BE%E4%BA%A4%E7%BB%99-promql">æ ¸å¿ƒè®¾è®¡ï¼šæš´éœ²äº‹å®ï¼ŒæŠŠè§†å›¾äº¤ç»™ PromQL</a></li>
<li><a href="#3-%E6%9E%B6%E6%9E%84%E5%89%96%E6%9E%90%E4%B8%89%E6%AE%B5%E5%BC%8F%E7%9A%84%E6%9E%81%E7%AE%80%E8%AE%BE%E8%AE%A1" title="#3-%E6%9E%B6%E6%9E%84%E5%89%96%E6%9E%90%E4%B8%89%E6%AE%B5%E5%BC%8F%E7%9A%84%E6%9E%81%E7%AE%80%E8%AE%BE%E8%AE%A1">æ¶æ„å‰–æï¼šä¸‰æ®µå¼çš„æç®€è®¾è®¡</a></li>
<li><a href="#4-%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F%E5%A6%82%E4%BD%95%E5%A4%8D%E7%94%A8%E8%BF%99%E5%A5%97%E6%80%9D%E6%83%B3" title="#4-%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F%E5%A6%82%E4%BD%95%E5%A4%8D%E7%94%A8%E8%BF%99%E5%A5%97%E6%80%9D%E6%83%B3">è®¾è®¡èŒƒå¼ï¼šå¦‚ä½•å¤ç”¨è¿™å¥—æ€æƒ³</a></li>
<li><a href="#5-%E6%80%A7%E8%83%BD%E5%93%B2%E5%AD%A6%E4%B8%BA%E4%BB%80%E4%B9%88%E8%B6%B3%E5%A4%9F%E8%BD%BB%E9%87%8F" title="#5-%E6%80%A7%E8%83%BD%E5%93%B2%E5%AD%A6%E4%B8%BA%E4%BB%80%E4%B9%88%E8%B6%B3%E5%A4%9F%E8%BD%BB%E9%87%8F">æ€§èƒ½å“²å­¦ï¼šä¸ºä»€ä¹ˆè¶³å¤Ÿè½»é‡</a></li>
<li><a href="#6-%E4%B8%8B%E4%B8%80%E6%AD%A5%E4%BB%8E%E8%AE%BE%E8%AE%A1%E5%88%B0%E8%90%BD%E5%9C%B0" title="#6-%E4%B8%8B%E4%B8%80%E6%AD%A5%E4%BB%8E%E8%AE%BE%E8%AE%A1%E5%88%B0%E8%90%BD%E5%9C%B0">ä¸‹ä¸€æ­¥ï¼šä»è®¾è®¡åˆ°è½åœ°</a></li>
</ol>
<hr/>
<h2 data-id="heading-1">1. ä»é—®é¢˜å‡ºå‘ï¼šç›‘æ§åˆ°åº•è¦å›ç­”ä»€ä¹ˆé—®é¢˜</h2>
<p>åœ¨è®¾è®¡ä»»ä½• Exporter ä¹‹å‰ï¼Œå…ˆé—®ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p><strong>å¦‚æœè¿™å°æœåŠ¡å™¨å‡ºäº†é—®é¢˜ï¼Œä½ å¸Œæœ›ç›‘æ§ç³»ç»Ÿç¬¬ä¸€æ—¶é—´å‘Šè¯‰ä½ ä»€ä¹ˆï¼Ÿ</strong></p>
</blockquote>
<p>è¿™ä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œæ˜¯ä¸šåŠ¡é—®é¢˜ã€‚</p>
<h3 data-id="heading-2">1.1 USE æ–¹æ³•ï¼šä¸‰ä¸ªæ ¸å¿ƒç»´åº¦</h3>
<p>Google SRE æ€»ç»“çš„ USE æ–¹æ³•ç»™äº†ä¸€ä¸ªæ¡†æ¶ï¼š</p>
<ul>
<li>
<p><strong>Utilizationï¼ˆåˆ©ç”¨ç‡ï¼‰</strong>ï¼šèµ„æºç”¨äº†å¤šå°‘ï¼Ÿ</p>
<ul>
<li>CPU æ˜¯å¦æ¥è¿‘ 100%ï¼Ÿ</li>
<li>å†…å­˜æ˜¯å¦åƒç´§ï¼Ÿ</li>
<li>ç£ç›˜æ˜¯å¦å¿«æ»¡ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>Saturationï¼ˆé¥±å’Œåº¦ï¼‰</strong>ï¼šæ˜¯å¦æœ‰æ’é˜Ÿ/æ‹¥å¡ï¼Ÿ</p>
<ul>
<li>ç£ç›˜ IO é˜Ÿåˆ—æ˜¯å¦å †ç§¯ï¼Ÿ</li>
<li>ç½‘ç»œå¸¦å®½æ˜¯å¦æ‰“æ»¡ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>Errorsï¼ˆé”™è¯¯ï¼‰</strong>ï¼šæ˜¯å¦æœ‰æ˜æ˜¾å¼‚å¸¸ï¼Ÿ</p>
<ul>
<li>ç½‘ç»œé”™è¯¯åŒ…</li>
<li>ç£ç›˜é”™è¯¯</li>
</ul>
</li>
</ul>
<p>è¿™ä¸‰ä¸ªç»´åº¦å›ç­”äº†"ç³»ç»Ÿæ˜¯å¦å¥åº·"çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-3">1.2 å››ä¸ªè§‚å¯Ÿçª—å£</h3>
<p>å¯¹ Linux æœåŠ¡å™¨æ¥è¯´ï¼Œå…·ä½“å°±æ˜¯å››ä¸ªç»´åº¦ï¼š</p>
<p><strong>CPU</strong>ï¼šè¿™å°æœºå™¨å¿™ä¸å¿™ï¼Ÿ</p>
<ul>
<li>å¿™åœ¨ user æ¨¡å¼ï¼ˆè·‘åº”ç”¨ï¼‰ï¼Ÿ</li>
<li>å¿™åœ¨ system æ¨¡å¼ï¼ˆå†…æ ¸è°ƒç”¨ï¼‰ï¼Ÿ</li>
<li>è¿˜æ˜¯åœ¨ç­‰ IOï¼ˆiowaitï¼‰ï¼Ÿ</li>
</ul>
<p><strong>å†…å­˜</strong>ï¼šæ˜¯å¦ç´§å¼ ï¼Ÿ</p>
<ul>
<li>çœŸæ­£å¯ç”¨çš„å†…å­˜æœ‰å¤šå°‘ï¼ˆMemAvailableï¼‰ï¼Ÿ</li>
<li>cache/buffer å äº†å¤šå°‘ï¼Ÿ</li>
<li>æ˜¯å¦æœ‰å†…å­˜æ³„æ¼ï¼Ÿ</li>
</ul>
<p><strong>ç£ç›˜</strong>ï¼šæ˜¯å¦æœ‰é£é™©ï¼Ÿ</p>
<ul>
<li>å®¹é‡æ˜¯å¦å¿«æ»¡ï¼Ÿ</li>
<li>æœªæ¥å¤šä¹…ä¼šæ»¡ï¼ˆè¶‹åŠ¿é¢„æµ‹ï¼‰ï¼Ÿ</li>
<li>IO ååæ˜¯å¦æ­£å¸¸ï¼Ÿ</li>
</ul>
<p><strong>ç½‘ç»œ</strong>ï¼šæ˜¯å¦æœ‰ç“¶é¢ˆï¼Ÿ</p>
<ul>
<li>å¸¦å®½æ˜¯å¦æ‰“æ»¡ï¼Ÿ</li>
<li>é”™è¯¯ç‡æ˜¯å¦å¼‚å¸¸ï¼Ÿ</li>
</ul>
<h3 data-id="heading-4">1.3 node-exporter çš„ä»·å€¼</h3>
<p><strong>ä½ å¯èƒ½å†™è¿‡è¿™æ ·çš„æŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="hljs">app_cpu_usage_percent 85.3
memory_usage_percent 72.3
disk_usage_percent 60.1
</code></pre>
<p>çœ‹ä¼¼ç›´è§‚ï¼Œä½†é—®é¢˜åœ¨äºï¼š</p>
<ul>
<li>ä½¿ç”¨ç‡æ€ä¹ˆç®—çš„ï¼Ÿæ—¶é—´çª—å£æ˜¯å¤šä¹…ï¼Ÿ</li>
<li>èƒ½æŒ‰ä¸åŒç»´åº¦èšåˆå—ï¼Ÿèƒ½çœ‹å†å²è¶‹åŠ¿å—ï¼Ÿ</li>
<li>å‘Šè­¦é˜ˆå€¼æ€ä¹ˆå®šï¼Ÿï¼ˆ72%çš„å†…å­˜ä½¿ç”¨ç®—é«˜å—ï¼Ÿè¦çœ‹cacheå æ¯”ï¼‰</li>
</ul>
<p><strong>node-exporter çš„åšæ³•å®Œå…¨ä¸åŒ</strong>ï¼š</p>
<ul>
<li>ä¸ç»™ä½ "CPU ä½¿ç”¨ç‡"ï¼Œåªç»™ä½ "CPU ç´¯è®¡æ—¶é—´"</li>
<li>ä¸ç»™ä½ "å†…å­˜ä½¿ç”¨ç‡"ï¼Œç»™ä½ "MemTotal"ã€"MemAvailable"ã€"Buffers"...</li>
<li>ä¸ç»™ä½ "ç£ç›˜ä½¿ç”¨ç‡"ï¼Œç»™ä½ "æ€»å®¹é‡"ã€"å¯ç”¨å®¹é‡"</li>
</ul>
<p>ä¹ä¸€çœ‹å¾ˆéº»çƒ¦ï¼Œå…¶å®è¿™æ‰æ˜¯æœ€çµæ´»çš„è®¾è®¡ã€‚</p>
<p><strong>è®¾è®¡å“²å­¦ï¼šæš´éœ²äº‹å®ï¼Œä¸æ˜¯è§‚ç‚¹</strong></p>
<ul>
<li>"CPU ä½¿ç”¨ç‡"æ˜¯è§‚ç‚¹ï¼ˆéœ€è¦å®šä¹‰ï¼šè¿‡å» 5 åˆ†é’Ÿï¼Ÿ1 åˆ†é’Ÿï¼ŸæŒ‰æ ¸å¿ƒè¿˜æ˜¯æ•´æœºï¼Ÿï¼‰</li>
<li>"CPU ç´¯è®¡æ—¶é—´"æ˜¯äº‹å®ï¼ˆå†…æ ¸è®°å½•äº†å¤šå°‘ç§’ï¼‰</li>
</ul>
<p>è§‚ç‚¹ä¼šé™åˆ¶ç”¨æˆ·çš„çµæ´»æ€§ï¼Œäº‹å®æ‰èƒ½æ”¯æ’‘å„ç§è§†å›¾ã€‚</p>
<hr/>
<h2 data-id="heading-5">2. æ ¸å¿ƒè®¾è®¡ï¼šæš´éœ²äº‹å®ï¼ŒæŠŠè§†å›¾äº¤ç»™ PromQL</h2>
<p>è¿™ä¸€èŠ‚æ‰¿æ¥ç¬¬ä¸€ç¯‡ï¼Œçœ‹çœ‹ node-exporter å¦‚ä½•æŠŠ"å››ç§æŒ‡æ ‡ç±»å‹"çš„å“²å­¦è½åœ°åˆ°å®é™…è®¾è®¡ä¸­ã€‚</p>
<h3 data-id="heading-6">2.1 CPUï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç»™ä½¿ç”¨ç‡ï¼Ÿ</h3>
<p><strong>é—®é¢˜</strong></p>
<p>ä½ æƒ³çŸ¥é“ï¼šCPU æ˜¯å¦ç¹å¿™ï¼Ÿ</p>
<p><strong>å¸¸è§é”™è¯¯ï¼šç›´æ¥æš´éœ²ä½¿ç”¨ç‡</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¥½çš„è®¾è®¡</span>
cpu_usage_percent 85.5
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>ä½¿ç”¨ç‡æ˜¯æ€ä¹ˆç®—çš„ï¼Ÿæ—¶é—´çª—å£æ˜¯å¤šä¹…ï¼Ÿ</li>
<li>èƒ½å¦æŒ‰ CPU æ ¸å¿ƒåˆ†åˆ«çœ‹ï¼Ÿï¼ˆä¸èƒ½ï¼Œå·²ç»èšåˆäº†ï¼‰</li>
<li>èƒ½å¦çœ‹ user/system/iowait çš„ç»†åˆ†ï¼Ÿï¼ˆä¸èƒ½ï¼Œå·²ç»åˆå¹¶äº†ï¼‰</li>
<li>èƒ½å¦è°ƒæ•´æ—¶é—´çª—å£é‡æ–°è®¡ç®—ï¼Ÿï¼ˆä¸èƒ½ï¼Œåªæœ‰å½“å‰å€¼ï¼‰</li>
</ul>
<p><strong>Linux ç»™ä½ çš„äº‹å®</strong></p>
<p><code>/proc/stat</code> æ–‡ä»¶è®°å½•äº†æ¯ä¸ª CPU è‡ªå¯åŠ¨ä»¥æ¥ï¼Œåœ¨å„ç§æ¨¡å¼ä¸‹ç´¯è®¡çš„æ—¶é—´ï¼ˆç§’ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">cpu0</span> <span class="hljs-number">123456</span> <span class="hljs-number">0</span> <span class="hljs-number">56789</span> <span class="hljs-number">987654</span> <span class="hljs-number">1234 </span><span class="hljs-number">0</span> <span class="hljs-number">567</span> <span class="hljs-number">0</span>
</code></pre>
<p>è¿™äº›æ•°å­—åˆ†åˆ«æ˜¯ï¼šuserã€niceã€systemã€idleã€iowait...çš„ç´¯è®¡æ—¶é—´ã€‚</p>
<p><strong>node-exporter çš„é€‰æ‹©</strong></p>
<p>ç”¨ Counter æš´éœ²è¿™äº›ç´¯è®¡æ—¶é—´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>, mode=<span class="hljs-string">"user"</span>} <span class="hljs-number">123456</span>
node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>, mode=<span class="hljs-string">"system"</span>} <span class="hljs-number">56789</span>
node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>, mode=<span class="hljs-string">"idle"</span>} <span class="hljs-number">987654</span>
node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>, mode=<span class="hljs-string">"iowait"</span>} <span class="hljs-number">1234</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<p>å› ä¸º"ä½¿ç”¨ç‡"æ˜¯ä¸ªè§‚ç‚¹ï¼Œéœ€è¦å®šä¹‰ï¼š</p>
<ol>
<li><strong>æ—¶é—´çª—å£</strong>ï¼šæœ€è¿‘ 5 åˆ†é’Ÿï¼Ÿ1 åˆ†é’Ÿï¼Ÿ10 ç§’ï¼Ÿ</li>
<li><strong>èšåˆæ–¹å¼</strong>ï¼šæŒ‰ CPU æ ¸å¿ƒï¼Ÿæ•´æœºå¹³å‡ï¼Ÿ</li>
<li><strong>æ¨¡å¼é€‰æ‹©</strong>ï¼šuser + systemï¼Ÿè¿˜æ˜¯åŒ…æ‹¬ iowaitï¼Ÿ</li>
</ol>
<p>ä¸€æ—¦åœ¨ Exporter é‡Œå›ºåŒ–äº†"ä½¿ç”¨ç‡"ï¼Œè¿™äº›é€‰æ‹©å°±è¢«é”æ­»äº†ã€‚ç”¨æˆ·æƒ³çœ‹ä¸åŒè§†å›¾ï¼Ÿæ²¡åŠæ³•ã€‚</p>
<p><strong>PromQLï¼šä»äº‹å®åˆ°è§†å›¾</strong></p>
<pre><code class="hljs language-promql" lang="promql"># æ•´æœº CPU ä½¿ç”¨ç‡ï¼ˆæœ€è¿‘ 5 åˆ†é’Ÿï¼‰
100 - (avg by (instance) (
  rate(node_cpu_seconds_total{mode="idle"}[5m])
) * 100)

# åªçœ‹ user æ¨¡å¼çš„ä½¿ç”¨ç‡
rate(node_cpu_seconds_total{mode="user"}[5m]) * 100

# æŒ‰æ ¸å¿ƒåˆ†åˆ«çœ‹
rate(node_cpu_seconds_total{mode="user"}[5m]) * 100
</code></pre>
<p>åŒä¸€ä»½äº‹å®ï¼Œæ”¯æŒæ— é™ç§è§†å›¾ã€‚</p>
<p><strong>è®¾è®¡æ™ºæ…§</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[äº‹å® ç´¯è®¡æ—¶é—´] --&gt; B[ç”¨æˆ·è§†å›¾1 5åˆ†é’Ÿä½¿ç”¨ç‡]
    A --&gt; C[ç”¨æˆ·è§†å›¾2 1åˆ†é’Ÿä½¿ç”¨ç‡]
    A --&gt; D[ç”¨æˆ·è§†å›¾3 æŒ‰æ ¸å¿ƒåˆ†åˆ«çœ‹]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
    style D fill:#ccffcc
</code></pre>
<p>è¿™å°±æ˜¯"æš´éœ²äº‹å®ï¼Œä¸æ˜¯è§‚ç‚¹"çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>Exporterï¼šæˆ‘å‘Šè¯‰ä½ äº‹å®ï¼ˆç´¯è®¡äº†å¤šå°‘ç§’ï¼‰</li>
<li>Prometheusï¼šæˆ‘å¸®ä½ è®¡ç®—è§†å›¾ï¼ˆä½¿ç”¨ç‡æ˜¯å¤šå°‘ï¼‰</li>
<li>ç”¨æˆ·ï¼šæˆ‘è‡ªç”±ç»„åˆï¼ˆæƒ³çœ‹ä»€ä¹ˆå°±çœ‹ä»€ä¹ˆï¼‰</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆ CPU æ—¶é—´ç”¨ Counterï¼Ÿ</strong></p>
<p>å› ä¸º"æ—¶é—´"æ˜¯åªå¢ä¸å‡çš„ç´¯ç§¯é‡ï¼š</p>
<ul>
<li>ç³»ç»Ÿè¿è¡Œè¶Šä¹…ï¼Œç´¯ç§¯æ—¶é—´è¶Šå¤š</li>
<li>è¿›ç¨‹é‡å¯æ—¶ä¼šå½’é›¶ï¼ˆCounter å…è®¸é‡ç½®ï¼‰</li>
<li>Prometheus çš„ rate() å‡½æ•°ä¼šè‡ªåŠ¨å¤„ç†é‡ç½®æƒ…å†µï¼Œè®¡ç®—æ­£ç¡®çš„é€Ÿç‡</li>
</ul>
<p>è¿™å’Œç¬¬ä¸€ç¯‡è®²çš„ Counter è®¾è®¡å“²å­¦å®Œå…¨ä¸€è‡´ã€‚</p>
<h3 data-id="heading-7">2.2 å†…å­˜ï¼šä¸ºä»€ä¹ˆä¸æ˜¯ä¸€ä¸ª"ä½¿ç”¨ç‡"ï¼Ÿ</h3>
<p><strong>é—®é¢˜</strong></p>
<p>å†…å­˜æ˜¯å¦ç´§å¼ ï¼Ÿ</p>
<p><strong>å¸¸è§é”™è¯¯ï¼šä¸€ä¸ª"å†…å­˜ä½¿ç”¨ç‡"æå®š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¥½çš„è®¾è®¡</span>
memory_usage_percent 72.3
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>æ— æ³•åŒºåˆ† cache/bufferï¼ˆLinux ä¼šç”¨ç©ºé—²å†…å­˜åšç¼“å­˜ï¼‰</li>
<li>ä¸èƒ½ç”¨äºå®¹é‡è§„åˆ’ï¼ˆ72%ç®—é«˜å—ï¼Ÿcacheå¯ä»¥éšæ—¶é‡Šæ”¾ï¼‰</li>
<li>å‘Šè­¦é˜ˆå€¼éš¾å®šï¼ˆä¸åŒåº”ç”¨å¯¹å†…å­˜çš„å®¹å¿åº¦ä¸åŒï¼‰</li>
<li>æ— æ³•æ’æŸ¥é—®é¢˜ï¼ˆä¸çŸ¥é“å†…å­˜éƒ½ç”¨åœ¨å“ªäº†ï¼‰</li>
</ul>
<p><strong>Linux ç»™ä½ çš„äº‹å®</strong></p>
<p><code>/proc/meminfo</code> æä¾›äº†ä¸€ç»„å¿«ç…§å€¼ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">MemTotal:       16384000 kB</span>
<span class="hljs-section">MemFree:         2048000 kB</span>
<span class="hljs-section">MemAvailable:    8192000 kB</span>
<span class="hljs-section">Buffers:          512000 kB</span>
<span class="hljs-section">Cached:          4096000 kB</span>
...
</code></pre>
<p><strong>node-exporter çš„é€‰æ‹©</strong></p>
<p>å…¨éƒ¨ç”¨ Gauge æš´éœ²ï¼š</p>
<pre><code class="hljs">node_memory_MemTotal_bytes 16777216000
node_memory_MemFree_bytes 2097152000
node_memory_MemAvailable_bytes 8388608000
node_memory_Buffers_bytes 524288000
node_memory_Cached_bytes 4194304000
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç»™ä¸€ä¸ª"å†…å­˜ä½¿ç”¨ç‡"ï¼Ÿ</strong></p>
<p>å› ä¸ºä¸åŒåœºæ™¯éœ€è¦ä¸åŒçš„"ä½¿ç”¨ç‡"ï¼š</p>
<p><strong>åœºæ™¯ 1ï¼šå¿«é€Ÿå‘Šè­¦</strong></p>
<p>åªå…³å¿ƒ MemAvailableï¼š</p>
<pre><code class="hljs language-promql" lang="promql">(node_memory_MemAvailable_bytes 
 / node_memory_MemTotal_bytes) * 100 &lt; 10
</code></pre>
<p><strong>åœºæ™¯ 2ï¼šé—®é¢˜æ’æŸ¥</strong></p>
<p>éœ€è¦çœ‹ cache å’Œ buffer çš„ç»†èŠ‚ï¼š</p>
<pre><code class="hljs language-promql" lang="promql"># Free å†…å­˜å æ¯”
node_memory_MemFree_bytes / node_memory_MemTotal_bytes

# Cache å æ¯”
node_memory_Cached_bytes / node_memory_MemTotal_bytes

# Buffer å æ¯”
node_memory_Buffers_bytes / node_memory_MemTotal_bytes
</code></pre>
<p><strong>åœºæ™¯ 3ï¼šå®¹é‡è§„åˆ’</strong></p>
<p>çœ‹é•¿æœŸè¶‹åŠ¿ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">avg_over_time(node_memory_MemAvailable_bytes[7d])
</code></pre>
<p>ä¸€ä¸ª"ä½¿ç”¨ç‡"æŒ‡æ ‡æ— æ³•åŒæ—¶æ”¯æŒè¿™ä¸‰ç§åœºæ™¯ã€‚</p>
<p><strong>è®¾è®¡æ™ºæ…§</strong></p>
<p>è¿™æ˜¯"ç”¨å¤šä¸ª Gauge è¡¨è¾¾ä¸åŒå­è§†å›¾"çš„ä¾‹å­ï¼š</p>
<ul>
<li>ä¸æ˜¯ä¸€ä¸ª Gaugeï¼ˆå†…å­˜ä½¿ç”¨ç‡ï¼‰</li>
<li>è€Œæ˜¯å¤šä¸ª Gaugeï¼ˆTotalã€Freeã€Availableã€Buffersã€Cachedï¼‰</li>
<li>æ¯ä¸ª Gauge éƒ½æ˜¯ä¸€ä¸ª"äº‹å®"</li>
<li>ç”¨ PromQL ç»„åˆå‡ºå„ç§"è§‚ç‚¹"</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆç”¨ Gaugeï¼Ÿ</strong></p>
<p>å› ä¸ºå†…å­˜æ˜¯"å½“å‰çŠ¶æ€"ï¼š</p>
<ul>
<li>å¯ä»¥å¢åŠ ï¼ˆåº”ç”¨ç”³è¯·å†…å­˜ï¼‰</li>
<li>å¯ä»¥å‡å°‘ï¼ˆåº”ç”¨é‡Šæ”¾å†…å­˜ï¼‰</li>
<li>ä¸æ˜¯ç´¯ç§¯é‡ï¼Œæ˜¯å¿«ç…§</li>
</ul>
<p>è¿™å’Œç¬¬ä¸€ç¯‡è®²çš„ Gauge æœ¬è´¨ï¼ˆå½“å‰çŠ¶æ€ï¼‰å®Œå…¨ä¸€è‡´ã€‚</p>
<h3 data-id="heading-8">2.3 ç£ç›˜ï¼šå®¹é‡å’Œ IO çš„åˆ†ç¦»è®¾è®¡</h3>
<p><strong>ä¸¤ç±»é—®é¢˜</strong></p>
<p>ç£ç›˜æœ‰ä¸¤ç±»å®Œå…¨ä¸åŒçš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>å®¹é‡é—®é¢˜</strong>ï¼šæ˜¯å¦å¿«æ»¡ï¼Ÿæœªæ¥å¤šä¹…ä¼šæ»¡ï¼Ÿ</li>
<li><strong>IO é—®é¢˜</strong>ï¼šååå¤Ÿä¸å¤Ÿï¼Ÿå»¶è¿Ÿæ˜¯å¦å˜é«˜ï¼Ÿ</li>
</ol>
<p><strong>å¸¸è§é”™è¯¯ï¼šæ··åœ¨ä¸€èµ·</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¥½çš„è®¾è®¡</span>
disk_usage_percent 80.5         <span class="hljs-comment"># å®¹é‡</span>
disk_io_busy_percent 60.2       <span class="hljs-comment"># IOç¹å¿™åº¦</span>
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>å®¹é‡å’ŒIOæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»´åº¦ï¼Œä¸åº”è¯¥éƒ½ç”¨"ç™¾åˆ†æ¯”"</li>
<li>æ— æ³•é¢„æµ‹æœªæ¥å®¹é‡ï¼ˆåªæœ‰å½“å‰å€¼ï¼‰</li>
<li>æ— æ³•çœ‹IOçš„ç»†åˆ†ï¼ˆè¯»ï¼Ÿå†™ï¼Ÿï¼‰</li>
<li>æ— æ³•è®¡ç®—IOPSï¼ˆåªæœ‰ç¹å¿™åº¦ï¼Œä¸çŸ¥é“å®é™…æ“ä½œæ•°ï¼‰</li>
</ul>
<p><strong>è®¾è®¡æ‹†åˆ†</strong></p>
<p>å®¹é‡ç›¸å…³ç”¨ Gaugeï¼š</p>
<pre><code class="hljs language-ini" lang="ini">node_filesystem_size_bytes{<span class="hljs-attr">mountpoint</span>=<span class="hljs-string">"/"</span>} <span class="hljs-number">107374182400</span>
node_filesystem_avail_bytes{<span class="hljs-attr">mountpoint</span>=<span class="hljs-string">"/"</span>} <span class="hljs-number">53687091200</span>
</code></pre>
<p>IO ç›¸å…³ç”¨ Counterï¼š</p>
<pre><code class="hljs language-ini" lang="ini">node_disk_read_bytes_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"sda"</span>} <span class="hljs-number">123456789</span>
node_disk_written_bytes_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"sda"</span>} <span class="hljs-number">987654321</span>
node_disk_reads_completed_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"sda"</span>} <span class="hljs-number">12345</span>
node_disk_writes_completed_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"sda"</span>} <span class="hljs-number">67890</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆåˆ†å¼€ï¼Ÿ</strong></p>
<p>å› ä¸ºæœ¬è´¨ä¸åŒï¼š</p>

























<table><thead><tr><th>ç»´åº¦</th><th>å®¹é‡</th><th>IO</th></tr></thead><tbody><tr><td>æœ¬è´¨</td><td>å½“å‰çŠ¶æ€</td><td>ç´¯ç§¯äº‹ä»¶</td></tr><tr><td>ç±»å‹</td><td>Gauge</td><td>Counter</td></tr><tr><td>å‡½æ•°</td><td>ç›´æ¥è¯»ã€predict_linear</td><td>rate()ã€increase()</td></tr></tbody></table>
<p><strong>PromQLï¼šä»äº‹å®åˆ°è§†å›¾</strong></p>
<p>å®¹é‡ä½¿ç”¨ç‡ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">(1 - node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100
</code></pre>
<p>é¢„æµ‹ 4 å°æ—¶åæ˜¯å¦ä¼šæ»¡ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">predict_linear(node_filesystem_avail_bytes[1h], 4*3600) &lt; 0
</code></pre>
<p>IO ååï¼ˆMB/sï¼‰ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">rate(node_disk_read_bytes_total[5m]) / 1024 / 1024
</code></pre>
<p>IOPSï¼š</p>
<pre><code class="hljs language-promql" lang="promql">rate(node_disk_reads_completed_total[5m])
</code></pre>
<p><strong>è®¾è®¡æ™ºæ…§</strong></p>
<p>ä¸€æ—¦è¯†åˆ«å‡º"å®¹é‡"å’Œ"æµé‡"æ˜¯ä¸¤ç±»æœ¬è´¨ä¸åŒçš„é—®é¢˜ï¼Œè®¾è®¡å°±è‡ªç„¶è€Œç„¶äº†ï¼š</p>
<ul>
<li>å®¹é‡ â†’ Gaugeï¼ˆå½“å‰çŠ¶æ€ï¼‰</li>
<li>æµé‡ â†’ Counterï¼ˆç´¯ç§¯äº‹ä»¶ï¼‰</li>
</ul>
<p>è¿™æ˜¯ç¬¬ä¸€ç¯‡"æŠ“ä½æœ¬è´¨"å“²å­¦çš„å…·ä½“åº”ç”¨ã€‚</p>
<h3 data-id="heading-9">2.4 ç½‘ç»œï¼šç»Ÿç»Ÿæ˜¯ Counter</h3>
<p><strong>é—®é¢˜</strong></p>
<p>ç½‘ç»œå¸¦å®½æ˜¯å¦æ‰“æ»¡ï¼Ÿé”™è¯¯ç‡æ˜¯å¦å¼‚å¸¸ï¼Ÿ</p>
<p><strong>å¸¸è§é”™è¯¯ï¼šç›´æ¥ç»™é€Ÿç‡å’Œé”™è¯¯ç‡</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¥½çš„è®¾è®¡</span>
network_bandwidth_mbps 850.5       <span class="hljs-comment"># å½“å‰å¸¦å®½</span>
network_error_rate 0.02            <span class="hljs-comment"># é”™è¯¯ç‡ 2%</span>
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>å¸¦å®½æ˜¯ç¬æ—¶å€¼è¿˜æ˜¯å¹³å‡å€¼ï¼Ÿæ—¶é—´çª—å£å¤šä¹…ï¼Ÿ</li>
<li>é”™è¯¯ç‡çš„åˆ†æ¯æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆåŒ…æ•°ï¼Ÿå­—èŠ‚æ•°ï¼Ÿï¼‰</li>
<li>æ— æ³•æŒ‰æ¥å£åˆ†åˆ«çœ‹</li>
<li>æ— æ³•çœ‹æ¥æ”¶å’Œå‘é€çš„ç»†åˆ†</li>
</ul>
<p><strong>Linux ç»™ä½ çš„äº‹å®</strong></p>
<p><code>/proc/net/dev</code> æä¾›æ¥å£çº§åˆ«çš„ç´¯è®¡ç»Ÿè®¡ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">eth0: 123456789 1000000 100 0 0 0 0 0 987654321 800000 50 0 0 0 0 0</span>
</code></pre>
<p>åˆ†åˆ«æ˜¯ï¼šæ¥æ”¶å­—èŠ‚æ•°ã€æ¥æ”¶åŒ…æ•°ã€æ¥æ”¶é”™è¯¯...å‘é€å­—èŠ‚æ•°ã€å‘é€åŒ…æ•°ã€å‘é€é”™è¯¯...</p>
<p><strong>node-exporter çš„é€‰æ‹©</strong></p>
<p>å…¨éƒ¨ç”¨ Counterï¼š</p>
<pre><code class="hljs language-ini" lang="ini">node_network_receive_bytes_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">123456789</span>
node_network_receive_packets_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">1000000</span>
node_network_receive_errs_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">100</span>
node_network_transmit_bytes_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">987654321</span>
node_network_transmit_packets_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">800000</span>
node_network_transmit_errs_total{<span class="hljs-attr">device</span>=<span class="hljs-string">"eth0"</span>} <span class="hljs-number">50</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå…¨æ˜¯ Counterï¼Ÿ</strong></p>
<p>å› ä¸ºç½‘ç»œç»Ÿè®¡éƒ½æ˜¯"ç´¯ç§¯äº‹ä»¶"ï¼š</p>
<ul>
<li>æ”¶äº†å¤šå°‘å­—èŠ‚ï¼ˆç´¯ç§¯ï¼‰</li>
<li>å‘äº†å¤šå°‘åŒ…ï¼ˆç´¯ç§¯ï¼‰</li>
<li>å‘ç”Ÿäº†å¤šå°‘é”™è¯¯ï¼ˆç´¯ç§¯ï¼‰</li>
</ul>
<p>æ²¡æœ‰"å½“å‰çŠ¶æ€"çš„æ¦‚å¿µã€‚</p>
<p><strong>PromQLï¼šä»äº‹å®åˆ°è§†å›¾</strong></p>
<p>æµé‡é€Ÿç‡ï¼ˆMbpsï¼‰ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">rate(node_network_receive_bytes_total{device="eth0"}[5m]) * 8 / 1000000
</code></pre>
<p>é”™è¯¯ç‡ï¼š</p>
<pre><code class="hljs language-promql" lang="promql">rate(node_network_receive_errs_total[5m]) 
/ 
rate(node_network_receive_packets_total[5m])
</code></pre>
<p><strong>è®¾è®¡æ™ºæ…§</strong></p>
<p>ç½‘ç»œç›‘æ§æ˜¯"äº‹ä»¶ç±»"æŒ‡æ ‡çš„å…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>æ‰€æœ‰ç»Ÿè®¡éƒ½æ˜¯ç´¯ç§¯çš„</li>
<li>å…³å¿ƒçš„æ˜¯é€Ÿç‡å’Œè¶‹åŠ¿</li>
<li>ç”¨ Counter + rate() è‡ªç„¶è¡¨è¾¾</li>
</ul>
<p>è¿™å†æ¬¡éªŒè¯äº†<a href="https://juejin.cn/post/7589146208225296420" target="_blank" title="https://juejin.cn/post/7589146208225296420">ä¸Šä¸€ç¯‡æ–‡ç« </a>çš„ç»“è®ºï¼š<strong>äº‹ä»¶ç±» â†’ Counter</strong>ã€‚</p>
<h3 data-id="heading-10">2.5 è®¾è®¡æ€»ç»“ï¼šä»é—®é¢˜åˆ°ç±»å‹çš„æ˜ å°„</h3>
<p>é€šè¿‡ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œå››ä¸ªä¾‹å­ï¼Œå¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªé€šç”¨æ˜ å°„ï¼š</p>



































<table><thead><tr><th>é—®é¢˜ç±»å‹</th><th>åŸå§‹äº‹å®</th><th>æŒ‡æ ‡ç±»å‹</th><th>å…¸å‹å‡½æ•°</th></tr></thead><tbody><tr><td>ç´¯ç§¯æ—¶é—´</td><td>CPU å„æ¨¡å¼çš„ç´¯è®¡ç§’æ•°</td><td>Counter</td><td>rate()</td></tr><tr><td>å½“å‰çŠ¶æ€</td><td>å†…å­˜å½“å‰ä½¿ç”¨é‡</td><td>Gauge</td><td>ç›´æ¥è¯»ã€æ¯”ä¾‹è®¡ç®—</td></tr><tr><td>å®¹é‡èµ„æº</td><td>ç£ç›˜æ€»å¤§å°ã€å¯ç”¨å¤§å°</td><td>Gauge</td><td>æ¯”ä¾‹ã€predict_linear</td></tr><tr><td>ç´¯ç§¯äº‹ä»¶</td><td>ç½‘ç»œç´¯è®¡å­—èŠ‚æ•°ã€é”™è¯¯æ•°</td><td>Counter</td><td>rate()ã€increase()</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒè®¾è®¡åŸåˆ™</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç›‘æ§é—®é¢˜] --&gt; B{æ˜¯ç´¯ç§¯çš„å—?}
    B --&gt;|æ˜¯| C[Counter]
    B --&gt;|å¦| D{æ˜¯å½“å‰çŠ¶æ€å—?}
    D --&gt;|æ˜¯| E[Gauge]
    D --&gt;|å¦| F[è€ƒè™‘Histogram]
    
    style C fill:#e1f5ff
    style E fill:#fff4e1
    style F fill:#ffe1f5
</code></pre>
<p>è¿™ä¸ªå†³ç­–æ ‘å°±æ˜¯ node-exporter çš„æ ¸å¿ƒè®¾è®¡æ™ºæ…§ï¼Œä¹Ÿæ˜¯<a href="https://juejin.cn/post/7589146208225296420" target="_blank" title="https://juejin.cn/post/7589146208225296420">ä¸Šä¸€ç¯‡æ–‡ç« </a>ä¸­"å››ç§æŒ‡æ ‡ç±»å‹"åœ¨å®é™…è®¾è®¡ä¸­çš„åº”ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-11">3. æ¶æ„å‰–æï¼šä¸‰æ®µå¼çš„æç®€è®¾è®¡</h2>
<p>node-exporter çš„æ¶æ„å¯ä»¥æŠ½è±¡æˆä¸‰æ®µå¼ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[OSå†…æ ¸æ•°æ®] --&gt; B[Collectoré‡‡é›†]
    B --&gt; C[Registryæ³¨å†Œ]
    C --&gt; D[HTTPæš´éœ²]
    D --&gt; E[PrometheusæŠ“å–]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
    style D fill:#ccffcc
    style E fill:#ffccee
</code></pre>
<h3 data-id="heading-12">3.1 é‡‡é›†å±‚ï¼šCollector</h3>
<p>æ¯ä¸ª Collector è´Ÿè´£ä¸€ä¸ªé¢†åŸŸï¼š</p>
<ul>
<li><strong>CPU Collector</strong>ï¼šè¯» <code>/proc/stat</code>ï¼Œè§£ææˆ Counter</li>
<li><strong>Memory Collector</strong>ï¼šè¯» <code>/proc/meminfo</code>ï¼Œè§£ææˆ Gauge</li>
<li><strong>Filesystem Collector</strong>ï¼šè¯» <code>/proc/mounts</code> + <code>statfs()</code>ï¼Œè§£ææˆ Gauge</li>
<li><strong>Network Collector</strong>ï¼šè¯» <code>/proc/net/dev</code>ï¼Œè§£ææˆ Counter</li>
</ul>
<p><strong>Collector çš„èŒè´£è¾¹ç•Œ</strong></p>
<p>æ¯ä¸ª Collector åªåšä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>è¯»å– OS æ•°æ®</strong>ï¼šä» /procã€/sys è¯»å–åŸå§‹æ•°æ®</li>
<li><strong>å•ä½æ¢ç®—</strong>ï¼šæ¯”å¦‚ kB â†’ bytes</li>
<li><strong>æŒ‰è§„èŒƒæš´éœ²</strong>ï¼šå‘½åã€ç±»å‹ã€æ ‡ç­¾ã€å•ä½</li>
</ol>
<p><strong>ä¸åšçš„äº‹æƒ…</strong></p>
<ul>
<li>ä¸å­˜å†å²æ•°æ®</li>
<li>ä¸åšå¤æ‚è®¡ç®—</li>
<li>ä¸åšèšåˆ</li>
</ul>
<p>è¿™äº›éƒ½äº¤ç»™ Prometheusã€‚</p>
<h3 data-id="heading-13">3.2 æ³¨å†Œå±‚ï¼šRegistry</h3>
<p>æ‰€æœ‰ Collector å‘åŒä¸€ä¸ª Registry æ³¨å†Œï¼š</p>
<pre><code class="hljs language-go" lang="go">registry := prometheus.NewRegistry()
registry.MustRegister(cpuCollector)
registry.MustRegister(memoryCollector)
registry.MustRegister(filesystemCollector)
registry.MustRegister(networkCollector)
</code></pre>
<p>æ¯æ¬¡ Prometheus å‘èµ· scrapeï¼š</p>
<ol>
<li>HTTP è¯·æ±‚åˆ°è¾¾ <code>/metrics</code></li>
<li>Registry è°ƒç”¨æ‰€æœ‰ Collector çš„ <code>Collect()</code> æ–¹æ³•</li>
<li>æ”¶é›†å½“å‰å¿«ç…§</li>
<li>è¾“å‡º Prometheus æ–‡æœ¬æ ¼å¼</li>
</ol>
<h3 data-id="heading-14">3.3 æš´éœ²å±‚ï¼š/metrics</h3>
<p>HTTP handler éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-go" lang="go">http.Handle(<span class="hljs-string">"/metrics"</span>, promhttp.HandlerFor(registry, promhttp.HandlerOpts{}))
</code></pre>
<p>è¾“å‡ºæ ¼å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># HELP node_cpu_seconds_total Seconds the cpus spent in each mode.</span>
<span class="hljs-comment"># TYPE node_cpu_seconds_total counter</span>
node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>,mode=<span class="hljs-string">"idle"</span>} <span class="hljs-number">123456.78</span>
node_cpu_seconds_total{<span class="hljs-attr">cpu</span>=<span class="hljs-string">"0"</span>,mode=<span class="hljs-string">"user"</span>} <span class="hljs-number">45678.90</span>

<span class="hljs-comment"># HELP node_memory_MemTotal_bytes Memory information field MemTotal_bytes.</span>
<span class="hljs-comment"># TYPE node_memory_MemTotal_bytes gauge</span>
node_memory_MemTotal_bytes 16777216000
</code></pre>
<h3 data-id="heading-15">3.4 è®¾è®¡æ™ºæ…§</h3>
<p>è¿™ä¸ªä¸‰æ®µå¼è®¾è®¡ä½“ç°äº†å‡ ä¸ªå…³é”®æ€æƒ³ï¼š</p>
<p><strong>1. è¢«åŠ¨é‡‡é›†ï¼Œä¸ä¸»åŠ¨è½®è¯¢</strong></p>
<p>Exporter ä¸ä¸»åŠ¨å®šæ—¶é‡‡é›†æ•°æ®ï¼Œä¸€åˆ‡ç”± Prometheus çš„ scrape é©±åŠ¨ï¼š</p>
<ul>
<li>Prometheus å‘èµ·è¯·æ±‚ â†’ Exporter æ‰é‡‡é›†</li>
<li>é‡‡é›†é¢‘ç‡ç”± Prometheus æ§åˆ¶ï¼ˆscrape_intervalï¼‰</li>
<li>Exporter æ— çŠ¶æ€ï¼Œé‡å¯åç«‹å³å¯ç”¨</li>
</ul>
<p><strong>2. èŒè´£åˆ†ç¦»</strong></p>
<pre><code class="hljs">Collectorï¼šè´Ÿè´£é‡‡é›†
Registryï¼šè´Ÿè´£ç®¡ç†
HTTP Handlerï¼šè´Ÿè´£æš´éœ²
</code></pre>
<p>æ¯å±‚åªåšè‡ªå·±çš„äº‹ï¼Œè¾¹ç•Œæ¸…æ™°ã€‚</p>
<p><strong>3. æç®€ä¸»ä¹‰</strong></p>
<p>æ•´ä¸ª node-exporter çš„æ ¸å¿ƒé€»è¾‘ä¸è¶…è¿‡å‡ ç™¾è¡Œä»£ç ã€‚å¤æ‚çš„éƒ¨åˆ†æ˜¯ï¼š</p>
<ul>
<li>å¤„ç†å„ç§ Linux å†…æ ¸æ¥å£çš„ç»†èŠ‚</li>
<li>å¤„ç†å„ç§è¾¹ç•Œæƒ…å†µï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ã€æƒé™ä¸è¶³ï¼‰</li>
<li>å¤„ç†å„ç§ Linux å‘è¡Œç‰ˆçš„å·®å¼‚</li>
</ul>
<p>ä½†æ ¸å¿ƒæ¶æ„æ°¸è¿œæ˜¯ï¼š<strong>è¯»å– â†’ æ³¨å†Œ â†’ æš´éœ²</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-16">4. è®¾è®¡èŒƒå¼ï¼šå¦‚ä½•å¤ç”¨è¿™å¥—æ€æƒ³</h2>
<p>ç†è§£äº† node-exporterï¼Œå°±å¯ä»¥æŠŠè¿™å¥—æ€æƒ³å¤ç”¨åˆ°ä»»ä½• Exporter è®¾è®¡ä¸­ã€‚</p>
<h3 data-id="heading-17">4.1 ä»é—®é¢˜ç±»å‹é€‰æ‹©æŒ‡æ ‡ç±»å‹</h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„å†³ç­–ï¼š</p>








































<table><thead><tr><th>ç›‘æ§å¯¹è±¡</th><th>é—®é¢˜</th><th>æ¨èç±»å‹</th></tr></thead><tbody><tr><td>HTTP è¯·æ±‚æ•°</td><td>ç´¯ç§¯äº†å¤šå°‘æ¬¡ï¼Ÿ</td><td>Counter</td></tr><tr><td>æ•°æ®åº“è¿æ¥æ•°</td><td>å½“å‰æœ‰å¤šå°‘ï¼Ÿ</td><td>Gauge</td></tr><tr><td>API å“åº”æ—¶é—´</td><td>åˆ†å¸ƒå¦‚ä½•ï¼Ÿ</td><td>Histogram</td></tr><tr><td>é”™è¯¯æ¬¡æ•°</td><td>ç´¯ç§¯äº†å¤šå°‘æ¬¡ï¼Ÿ</td><td>Counter</td></tr><tr><td>é˜Ÿåˆ—é•¿åº¦</td><td>å½“å‰æœ‰å¤šå°‘ï¼Ÿ</td><td>Gauge</td></tr><tr><td>ç£ç›˜ä½¿ç”¨é‡</td><td>å½“å‰ç”¨äº†å¤šå°‘ï¼Ÿ</td><td>Gauge</td></tr></tbody></table>
<p><strong>é€šç”¨è§„å¾‹</strong></p>
<ul>
<li><strong>èµ„æºç±»</strong>ï¼ˆå®¹é‡ã€æ•°é‡ã€é•¿åº¦ï¼‰â†’ Gauge</li>
<li><strong>äº‹ä»¶ç±»</strong>ï¼ˆè¯·æ±‚ã€é”™è¯¯ã€å­—èŠ‚ï¼‰â†’ Counter</li>
<li><strong>å»¶è¿Ÿç±»</strong>ï¼ˆå“åº”æ—¶é—´ã€ç­‰å¾…æ—¶é—´ï¼‰â†’ Histogram</li>
</ul>
<p><strong>Histogram vs Summary çš„é€‰æ‹©</strong></p>
<p>å½“éœ€è¦ç›‘æ§åˆ†å¸ƒï¼ˆå¦‚å“åº”æ—¶é—´ï¼‰æ—¶ï¼š</p>
<ul>
<li>
<p><strong>Histogram</strong>ï¼šåœ¨æœåŠ¡ç«¯èšåˆï¼Œæ”¯æŒå¤šå®ä¾‹èšåˆï¼Œå¯ä»¥çµæ´»è®¡ç®—ä»»æ„ç™¾åˆ†ä½</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå¯ä»¥è·¨å®ä¾‹èšåˆï¼ŒPrometheus è®¡ç®—ç™¾åˆ†ä½</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦é¢„å®šä¹‰ bucket</li>
<li>æ¨èï¼šä¼˜å…ˆä½¿ç”¨</li>
</ul>
</li>
<li>
<p><strong>Summary</strong>ï¼šåœ¨å®¢æˆ·ç«¯é¢„è®¡ç®—ç™¾åˆ†ä½ï¼ˆå¦‚ p50ã€p90ã€p99ï¼‰</p>
<ul>
<li>ä¼˜ç‚¹ï¼šç²¾ç¡®çš„ç™¾åˆ†ä½ï¼Œæ— éœ€ bucketï¼Œæ€§èƒ½æ›´å¥½</li>
<li>ç¼ºç‚¹ï¼šæ— æ³•è·¨å®ä¾‹èšåˆï¼Œæ— æ³•åœ¨ Prometheus ä¸­é‡æ–°è®¡ç®—</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šå•å®ä¾‹ä¸”æ€§èƒ½æç«¯æ•æ„Ÿ</li>
</ul>
</li>
</ul>
<p><strong>åŸåˆ™</strong>ï¼šé™¤éå•æœºæ€§èƒ½æç«¯æ•æ„Ÿï¼Œå¦åˆ™ä¼˜å…ˆç”¨ Histogramã€‚</p>
<p>è¿™å°±æ˜¯<a href="https://juejin.cn/post/7589146208225296420" target="_blank" title="https://juejin.cn/post/7589146208225296420">ä¸Šä¸€ç¯‡æ–‡ç« </a>ä¸­è®²çš„"å››ç§ç±»å‹"åœ¨ Exporter è®¾è®¡ä¸­çš„å…·ä½“åº”ç”¨ã€‚</p>
<h3 data-id="heading-18">4.2 æš´éœ²åŸå§‹äº‹å®ï¼Œä¸æ˜¯åŠ å·¥è§‚ç‚¹</h3>
<p>è¿™æ˜¯ node-exporter æœ€é‡è¦çš„è®¾è®¡åŸåˆ™ã€‚</p>
<p><strong>åæ¨¡å¼ï¼šç›´æ¥æš´éœ²"è§‚ç‚¹"</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¥½çš„è®¾è®¡</span>
app_cpu_usage_percent 85.5
app_memory_usage_percent 72.3
app_disk_usage_percent 60.1
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>ä½¿ç”¨ç‡æ˜¯æ€ä¹ˆç®—çš„ï¼Ÿï¼ˆæ—¶é—´çª—å£ï¼Ÿï¼‰</li>
<li>èƒ½ä¸èƒ½æŒ‰ä¸åŒç»´åº¦èšåˆï¼Ÿï¼ˆä¸èƒ½ï¼‰</li>
<li>èƒ½ä¸èƒ½çœ‹å†å²è¶‹åŠ¿ï¼Ÿï¼ˆåªèƒ½çœ‹å½“å‰å€¼ï¼‰</li>
</ul>
<p><strong>æ­£ç¡®ï¼šæš´éœ²"äº‹å®"</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¥½çš„è®¾è®¡</span>
app_cpu_seconds_total{<span class="hljs-attr">mode</span>=<span class="hljs-string">"user"</span>} <span class="hljs-number">12345</span>
app_cpu_seconds_total{<span class="hljs-attr">mode</span>=<span class="hljs-string">"system"</span>} <span class="hljs-number">6789</span>
app_memory_bytes{<span class="hljs-attr">type</span>=<span class="hljs-string">"used"</span>} <span class="hljs-number">8589934592</span>
app_memory_bytes{<span class="hljs-attr">type</span>=<span class="hljs-string">"total"</span>} <span class="hljs-number">16777216000</span>
</code></pre>
<p>ç„¶åç”¨ PromQL ç»„åˆï¼š</p>
<pre><code class="hljs language-promql" lang="promql"># ç”¨æˆ·æƒ³è¦çš„"è§‚ç‚¹"
rate(app_cpu_seconds_total{mode="user"}[5m]) * 100
app_memory_bytes{type="used"} / app_memory_bytes{type="total"} * 100
</code></pre>
<h3 data-id="heading-19">4.3 å‘½åã€å•ä½ã€æ ‡ç­¾çš„çº¦å®š</h3>
<p><strong>å‘½åè§„èŒƒ</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">namespace</span>&gt;</span>_<span class="hljs-tag">&lt;<span class="hljs-name">subsystem</span>&gt;</span>_<span class="hljs-tag">&lt;<span class="hljs-name">metric</span>&gt;</span>_<span class="hljs-tag">&lt;<span class="hljs-name">unit</span>&gt;</span>
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">node_cpu_seconds_total          <span class="hljs-meta"># namespace=node, metric=cpu, unit=seconds</span>
mysql_queries_total             <span class="hljs-meta"># namespace=mysql, metric=queries</span>
http_request_duration_seconds   <span class="hljs-meta"># namespace=http, metric=request_duration, unit=seconds</span>
</code></pre>
<p><strong>å•ä½è§„èŒƒ</strong></p>
<ul>
<li>æ—¶é—´ï¼š<code>_seconds</code>ï¼ˆä¸è¦ç”¨ msï¼‰</li>
<li>å¤§å°ï¼š<code>_bytes</code>ï¼ˆä¸è¦ç”¨ KBã€MBï¼‰</li>
<li>æ¯”ä¾‹ï¼š<code>_ratio</code>ï¼ˆ0-1ï¼‰æˆ–æ— å•ä½ï¼ˆç™¾åˆ†æ¯”ç›´æ¥ç”¨æ•°å­—ï¼‰</li>
</ul>
<p><strong>æ ‡ç­¾è§„èŒƒ</strong></p>
<p>åªç”¨ä½åŸºæ•°æ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¥½ï¼šä½åŸºæ•°</span>
http_requests_total{<span class="hljs-attr">method</span>=<span class="hljs-string">"GET"</span>, status=<span class="hljs-string">"200"</span>}

<span class="hljs-comment"># åï¼šé«˜åŸºæ•°</span>
http_requests_total{<span class="hljs-attr">user_id</span>=<span class="hljs-string">"123456"</span>}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<p>é«˜åŸºæ•°æ ‡ç­¾ä¼šå¯¼è‡´æ—¶é—´åºåˆ—çˆ†ç‚¸ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">100</span> <span class="hljs-string">ä¸‡ç”¨æˆ·</span> <span class="hljs-string">Ã—</span> <span class="hljs-number">5</span> <span class="hljs-string">ä¸ªæ–¹æ³•</span> <span class="hljs-string">Ã—</span> <span class="hljs-number">10</span> <span class="hljs-string">ä¸ªçŠ¶æ€ç </span> <span class="hljs-string">=</span> <span class="hljs-number">5000</span> <span class="hljs-string">ä¸‡æ¡æ—¶é—´åºåˆ—</span>
</code></pre>
<p>è¿™ä¼šç›´æ¥æŠŠ Prometheus æ‰“çˆ†ã€‚</p>
<h3 data-id="heading-20">4.4 æ¨¡å—åŒ– Collectorï¼šæŒ‰é¢†åŸŸæ‹†åˆ†</h3>
<p>node-exporter çš„æ¨¡å—åŒ–è®¾è®¡å¯ä»¥å¤ç”¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ä¸šåŠ¡ Exporter ç¤ºä¾‹</span>
registry := prometheus.NewRegistry()

<span class="hljs-comment">// æŒ‰ä¸šåŠ¡é¢†åŸŸæ‹†åˆ† Collector</span>
registry.MustRegister(NewOrderCollector())      <span class="hljs-comment">// è®¢å•ç›¸å…³æŒ‡æ ‡</span>
registry.MustRegister(NewPaymentCollector())    <span class="hljs-comment">// æ”¯ä»˜ç›¸å…³æŒ‡æ ‡</span>
registry.MustRegister(NewUserCollector())       <span class="hljs-comment">// ç”¨æˆ·ç›¸å…³æŒ‡æ ‡</span>
registry.MustRegister(NewCacheCollector())      <span class="hljs-comment">// ç¼“å­˜ç›¸å…³æŒ‡æ ‡</span>

http.Handle(<span class="hljs-string">"/metrics"</span>, promhttp.HandlerFor(registry, promhttp.HandlerOpts{}))
</code></pre>
<p>æ¯ä¸ª Collector åªè´Ÿè´£ä¸€ä¸ªé¢†åŸŸï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> OrderCollector <span class="hljs-keyword">struct</span>{}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *OrderCollector)</span></span> Describe(ch <span class="hljs-keyword">chan</span>&lt;- *prometheus.Desc) {
    <span class="hljs-comment">// æ³¨å†ŒæŒ‡æ ‡æè¿°</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *OrderCollector)</span></span> Collect(ch <span class="hljs-keyword">chan</span>&lt;- prometheus.Metric) {
    <span class="hljs-comment">// é‡‡é›†å½“å‰æ•°æ®</span>
    totalOrders := getOrderCount()
    ch &lt;- prometheus.MustNewConstMetric(
        orderCountDesc,
        prometheus.CounterValue,
        <span class="hljs-type">float64</span>(totalOrders),
    )
}
</code></pre>
<p><strong>å¥½å¤„</strong></p>
<ul>
<li>èŒè´£æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤</li>
<li>å¯ä»¥å•ç‹¬å¼€å…³æŸä¸ª Collector</li>
<li>å¯ä»¥å¹¶è¡Œé‡‡é›†ï¼ˆå¦‚æœéœ€è¦ï¼‰</li>
<li>æ–¹ä¾¿æµ‹è¯•</li>
</ul>
<h3 data-id="heading-21">4.5 æç®€ Exporter éª¨æ¶</h3>
<p>ä¸€ä¸ªæœ€ç®€å•çš„ Exporter éª¨æ¶ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"github.com/prometheus/client_golang/prometheus"</span>
    <span class="hljs-string">"github.com/prometheus/client_golang/prometheus/promhttp"</span>
)

<span class="hljs-comment">// å®šä¹‰æŒ‡æ ‡</span>
<span class="hljs-keyword">var</span> requestsTotal = prometheus.NewCounterVec(
    prometheus.CounterOpts{
        Name: <span class="hljs-string">"app_requests_total"</span>,
        Help: <span class="hljs-string">"Total number of requests"</span>,
    },
    []<span class="hljs-type">string</span>{<span class="hljs-string">"method"</span>, <span class="hljs-string">"status"</span>},
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æ³¨å†ŒæŒ‡æ ‡</span>
    prometheus.MustRegister(requestsTotal)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ä¸šåŠ¡ä»£ç </span>
    http.HandleFunc(<span class="hljs-string">"/api"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
        requestsTotal.WithLabelValues(r.Method, <span class="hljs-string">"200"</span>).Inc()
        w.Write([]<span class="hljs-type">byte</span>(<span class="hljs-string">"OK"</span>))
    })
    
    <span class="hljs-comment">// æš´éœ²æŒ‡æ ‡</span>
    http.Handle(<span class="hljs-string">"/metrics"</span>, promhttp.Handler())
    http.ListenAndServe(<span class="hljs-string">":8080"</span>, <span class="hljs-literal">nil</span>)
}
</code></pre>
<p>è¿™å°±æ˜¯ Exporter çš„æ ¸å¿ƒç»“æ„ã€‚node-exporter åšçš„ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªæ¨¡å¼å¤åˆ¶åˆ°å‡ åä¸ª Collector ä¸Šï¼Œç„¶åæ‰“ç£¨ç»†èŠ‚ã€‚</p>
<hr/>
<h2 data-id="heading-22">5. æ€§èƒ½å“²å­¦ï¼šä¸ºä»€ä¹ˆè¶³å¤Ÿè½»é‡</h2>
<p>node-exporter èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒå¤§è§„æ¨¡ä½¿ç”¨ï¼Œæ˜¯å› ä¸ºå®ƒè¶³å¤Ÿè½»ã€‚</p>
<h3 data-id="heading-23">5.1 ä¸å­˜å†å²ï¼Œä¸åšé‡è®¡ç®—</h3>
<p><strong>Exporter çš„èŒè´£</strong></p>
<ul>
<li>é‡‡é›†å½“å‰æ•°æ®</li>
<li>ç®€å•çš„å•ä½æ¢ç®—</li>
<li>æš´éœ²æŒ‡æ ‡</li>
</ul>
<p><strong>ä¸åšçš„äº‹æƒ…</strong></p>
<ul>
<li>ä¸å­˜å†å²æ•°æ®ï¼ˆè¿™æ˜¯ Prometheus çš„äº‹ï¼‰</li>
<li>ä¸åšå¤æ‚ç»Ÿè®¡ï¼ˆè¿™æ˜¯ PromQL çš„äº‹ï¼‰</li>
<li>ä¸åšèšåˆï¼ˆè¿™ä¹Ÿæ˜¯ PromQL çš„äº‹ï¼‰</li>
</ul>
<p>ç»“æœï¼š</p>
<ul>
<li>å†…å­˜å ç”¨å°ï¼ˆåªéœ€è¦å­˜å½“å‰å¿«ç…§ï¼‰</li>
<li>CPU å¼€é”€ä½ï¼ˆåªæ˜¯è¯»æ–‡ä»¶å’Œæ ¼å¼åŒ–è¾“å‡ºï¼‰</li>
<li>å¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•æœºå™¨ï¼ˆåŒ…æ‹¬ä½é…ç½®æœºå™¨ï¼‰</li>
</ul>
<h3 data-id="heading-24">5.2 è¢«åŠ¨é‡‡é›†ï¼Œæˆæœ¬å¯æ§</h3>
<p>Exporter æ˜¯è¢«åŠ¨çš„ï¼š</p>
<ul>
<li>ä¸ä¸»åŠ¨è½®è¯¢</li>
<li>ä¸å®šæ—¶é‡‡é›†</li>
<li>ä¸€åˆ‡ç”± Prometheus çš„ scrape é©±åŠ¨</li>
</ul>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>é‡‡é›†é¢‘ç‡å¯æ§ï¼ˆè°ƒæ•´ scrape_intervalï¼‰</li>
<li>å¯ä»¥æŒ‰éœ€å…³é—­æŸäº› Collectorï¼ˆé™ä½å¼€é”€ï¼‰</li>
<li>ä¸ä¼šå› ä¸ºç›‘æ§ç³»ç»Ÿåè¿‡æ¥å‹å®è¢«ç›‘æ§å¯¹è±¡</li>
</ul>
<h3 data-id="heading-25">5.3 å……åˆ†åˆ©ç”¨ OS æ¥å£</h3>
<p>node-exporter çš„æ•°æ®æ¥æºå‡ ä¹å…¨æ˜¯ <code>/proc</code>ã€<code>/sys</code>ï¼š</p>
<ul>
<li>è¿™æ˜¯ Linux å†…æ ¸ä¸»åŠ¨æš´éœ²çš„æ¥å£</li>
<li>è¯»å–æˆæœ¬æä½ï¼ˆå†…æ ¸å†…å­˜æ˜ å°„ï¼‰</li>
<li>ä¸éœ€è¦é¢å¤–çš„å†…æ ¸æ¨¡å—æˆ–ä»£ç†</li>
<li>å¯¹ç³»ç»Ÿä¾µå…¥æ€§æä½</li>
</ul>
<p>è¿™å°±æ˜¯"ç«™åœ¨å·¨äººè‚©è†€ä¸Š"çš„è®¾è®¡æ™ºæ…§ã€‚</p>
<h3 data-id="heading-26">5.4 è®¾è®¡æ™ºæ…§</h3>
<p>node-exporter çš„æ€§èƒ½å“²å­¦å¯ä»¥æ€»ç»“ä¸ºï¼š</p>
<p><strong>æŠŠé‡æ´»äº¤ç»™ä¸“ä¸šçš„äººåš</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[Exporter è½»é‡é‡‡é›†] --&gt; B[Prometheus å­˜å‚¨å’ŒæŸ¥è¯¢]
    B --&gt; C[Grafana å¯è§†åŒ–]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
</code></pre>
<ul>
<li>Exporterï¼šæˆ‘åªè´Ÿè´£é‡‡é›†ï¼Œè½»é‡ç®€å•</li>
<li>Prometheusï¼šæˆ‘è´Ÿè´£å­˜å‚¨å’Œå¤æ‚æŸ¥è¯¢ï¼Œä¸“ä¸šé«˜æ•ˆ</li>
<li>Grafanaï¼šæˆ‘è´Ÿè´£å¯è§†åŒ–ï¼Œç¾è§‚å‹å¥½</li>
</ul>
<p>è¿™ç§åˆ†å·¥è®©æ¯ä¸ªç»„ä»¶éƒ½åšè‡ªå·±æ“…é•¿çš„äº‹ï¼Œæ•´ä¸ªç³»ç»Ÿæ‰èƒ½é«˜æ•ˆè¿è½¬ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯"ç®€å•ä¼˜å…ˆ"å“²å­¦çš„ä½“ç°ï¼š<strong>ä¸è¦è®© Exporter å˜æˆä¸€ä¸ªå°å‹æ•°æ®åº“</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-27">6. ä¸‹ä¸€æ­¥ï¼šä»è®¾è®¡åˆ°è½åœ°</h2>
<p>é€šè¿‡ node-exporterï¼Œæˆ‘ä»¬å­¦åˆ°çš„æ ¸å¿ƒç²¾é«“å¯ä»¥æµ“ç¼©ä¸ºä¸‰æ¡ï¼š</p>
<h3 data-id="heading-28">ä¸‰æ¡é»„é‡‘æ³•åˆ™</h3>
<p><strong>1. æš´éœ²äº‹å®ï¼Œä¸åŠ å·¥è§‚ç‚¹</strong></p>
<ul>
<li>ç»™ç´¯è®¡æ—¶é—´ï¼Œä¸ç»™ä½¿ç”¨ç‡</li>
<li>ç»™åŸå§‹å®¹é‡ï¼Œä¸ç»™ç™¾åˆ†æ¯”</li>
<li>ç»™ç´¯è®¡å­—èŠ‚ï¼Œä¸ç»™é€Ÿç‡</li>
<li>è®© PromQL è´Ÿè´£è§†å›¾ç»„åˆ</li>
</ul>
<p><strong>2. æŒ‰æœ¬è´¨é€‰ç±»å‹</strong></p>
<ul>
<li>ç´¯ç§¯ç±»ï¼ˆäº‹ä»¶ã€æ—¶é—´ã€å­—èŠ‚ï¼‰â†’ Counter</li>
<li>çŠ¶æ€ç±»ï¼ˆå®¹é‡ã€æ•°é‡ã€é•¿åº¦ï¼‰â†’ Gauge</li>
<li>åˆ†å¸ƒç±»ï¼ˆå»¶è¿Ÿã€å¤§å°ï¼‰â†’ Histogram</li>
<li>è¯†åˆ«å‡ºé—®é¢˜æœ¬è´¨ï¼Œç±»å‹é€‰æ‹©è‡ªç„¶è€Œç„¶</li>
</ul>
<p><strong>3. å‘½åè§„èŒƒ + ä½åŸºæ•°æ ‡ç­¾</strong></p>
<ul>
<li>Counter ç”¨ <code>_total</code> åç¼€</li>
<li>å•ä½ç”¨ <code>_seconds</code>ã€<code>_bytes</code></li>
<li>æ ‡ç­¾åªç”¨ä½åŸºæ•°ç»´åº¦ï¼ˆé¿å… user_idï¼‰</li>
<li>éµå¾ª <code>&lt;namespace&gt;_&lt;metric&gt;_&lt;unit&gt;</code> æ ¼å¼</li>
</ul>
<p>æŒæ¡è¿™ä¸‰æ¡ï¼Œä½ å°±èƒ½è®¾è®¡å‡ºå¯å¤ç”¨çš„ç›‘æ§æŒ‡æ ‡ã€‚</p>
<hr/>
<h3 data-id="heading-29">è¯¦ç»†è®¾è®¡åŸåˆ™</h3>
<p>ä¸‹é¢æ˜¯æ›´è¯¦ç»†çš„è®¾è®¡åŸåˆ™å’ŒèŒƒå¼ï¼š</p>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong></p>
<ol>
<li>
<p><strong>æš´éœ²äº‹å®ï¼Œä¸æ˜¯è§‚ç‚¹</strong></p>
<ul>
<li>ä¸ç»™åŠ å·¥åçš„æŒ‡æ ‡ï¼ˆä½¿ç”¨ç‡ï¼‰</li>
<li>ç»™åŸå§‹æ•°æ®ï¼ˆç´¯è®¡æ—¶é—´ã€å½“å‰å®¹é‡ï¼‰</li>
<li>è®© PromQL è´Ÿè´£è§†å›¾ç»„åˆ</li>
</ul>
</li>
<li>
<p><strong>ä»é—®é¢˜åˆ°ç±»å‹çš„æ˜ å°„</strong></p>
<ul>
<li>ç´¯ç§¯ç±» â†’ Counter</li>
<li>çŠ¶æ€ç±» â†’ Gauge</li>
<li>åˆ†å¸ƒç±» â†’ Histogram</li>
<li>ä¸€æ—¦è¯†åˆ«å‡ºé—®é¢˜æœ¬è´¨ï¼Œç±»å‹é€‰æ‹©è‡ªç„¶è€Œç„¶</li>
</ul>
</li>
<li>
<p><strong>æç®€ä¸‰æ®µå¼æ¶æ„</strong></p>
<ul>
<li>Collector é‡‡é›†</li>
<li>Registry æ³¨å†Œ</li>
<li>HTTP æš´éœ²</li>
<li>èŒè´£åˆ†ç¦»ï¼Œè¾¹ç•Œæ¸…æ™°</li>
</ul>
</li>
<li>
<p><strong>è½»é‡æ€§èƒ½å“²å­¦</strong></p>
<ul>
<li>ä¸å­˜å†å²</li>
<li>ä¸åšé‡è®¡ç®—</li>
<li>è¢«åŠ¨é‡‡é›†</li>
<li>å……åˆ†åˆ©ç”¨ OS æ¥å£</li>
</ul>
</li>
</ol>
<p><strong>è®¾è®¡èŒƒå¼å¯å¤ç”¨</strong></p>
<ul>
<li>å‘½åã€å•ä½ã€æ ‡ç­¾è§„èŒƒ</li>
<li>æ¨¡å—åŒ– Collector ç»“æ„</li>
<li>ä½åŸºæ•°æ ‡ç­¾åŸåˆ™</li>
<li>äº‹å® vs è§‚ç‚¹çš„ç•Œé™</li>
</ul>
<p>è¿™äº›åŸåˆ™ä¸åªé€‚ç”¨äºæœåŠ¡å™¨ç›‘æ§ï¼ŒåŒæ ·é€‚ç”¨äºï¼š</p>
<ul>
<li>åº”ç”¨ç›‘æ§ï¼ˆHTTPã€æ•°æ®åº“ã€ç¼“å­˜ï¼‰</li>
<li>ä¸šåŠ¡ç›‘æ§ï¼ˆè®¢å•ã€æ”¯ä»˜ã€ç”¨æˆ·ï¼‰</li>
<li>ä¸­é—´ä»¶ç›‘æ§ï¼ˆKafkaã€Redisã€MySQLï¼‰</li>
</ul>
<p>ç†è§£äº† node-exporter çš„è®¾è®¡æ™ºæ…§ï¼Œä½ å°±æŒæ¡äº† Exporter è®¾è®¡çš„ç²¾é«“ã€‚</p>
<hr/>
<p>ä½†æ˜¯ï¼Œæœ‰äº†æŒ‡æ ‡å’Œ Exporterï¼Œè¿˜ä¸å¤Ÿã€‚ç›‘æ§çš„æœ€ç»ˆç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ<strong>åŠæ—¶å‘ç°é—®é¢˜å¹¶å‘Šè­¦</strong>ã€‚</p>
<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•è®¾è®¡ç”Ÿäº§çº§çš„å‘Šè­¦ç³»ç»Ÿï¼Œä»¥åŠå¦‚ä½•æŠŠè¿™å¥—ç›‘æ§å“²å­¦å»¶ä¼¸åˆ°å‘Šè­¦è§„åˆ™çš„è®¾è®¡ä¸­ã€‚</p>
<p><strong>ä¸‹ä¸€ç¯‡ï¼šã€Šå‘Šè­¦çš„è‰ºæœ¯ï¼šä»å¤œèºå¼•æ“å­¦ä¹ å‘Šè­¦ç³»ç»Ÿè®¾è®¡ã€‹</strong></p>
<hr/>
<h2 data-id="heading-30">é™„å½•ï¼šExporter è®¾è®¡æ¸…å•</h2>
<h3 data-id="heading-31">è®¾è®¡å‰çš„é—®é¢˜æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æˆ‘è¦ç›‘æ§ä»€ä¹ˆç³»ç»Ÿï¼Ÿ</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ ¸å¿ƒé—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆUtilizationï¼ŸSaturationï¼ŸErrorsï¼Ÿï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> åŸå§‹æ•°æ®ä»å“ªæ¥ï¼Ÿï¼ˆ/procï¼ŸAPIï¼Ÿæ•°æ®åº“ï¼Ÿï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å“ªäº›æ˜¯"äº‹å®"ï¼Ÿå“ªäº›æ˜¯"è§‚ç‚¹"ï¼Ÿ</li>
</ul>
<h3 data-id="heading-32">æŒ‡æ ‡ç±»å‹é€‰æ‹©æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ˜¯ç´¯ç§¯çš„å—ï¼Ÿâ†’ Counter</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ˜¯å½“å‰çŠ¶æ€å—ï¼Ÿâ†’ Gauge</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> éœ€è¦çœ‹åˆ†å¸ƒå—ï¼Ÿâ†’ Histogram</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å•å®ä¾‹ä¸”éœ€è¦æè‡´æ€§èƒ½å—ï¼Ÿâ†’ Summary</li>
</ul>
<h3 data-id="heading-33">å‘½åè§„èŒƒæ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ ¼å¼ï¼š<code>&lt;namespace&gt;_&lt;metric&gt;_&lt;unit&gt;</code></li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> Counter ç”¨ <code>_total</code> åç¼€</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å•ä½ç”¨ <code>_seconds</code>ã€<code>_bytes</code></li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ ‡ç­¾åªç”¨ä½åŸºæ•°ç»´åº¦</li>
</ul>
<h3 data-id="heading-34">æ¶æ„è®¾è®¡æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æŒ‰é¢†åŸŸæ‹†åˆ† Collector</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å‘ Registry æ³¨å†Œ</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> åœ¨ <code>/metrics</code> æš´éœ²</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä¸å­˜å†å²ï¼Œä¸åšé‡è®¡ç®—</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è¢«åŠ¨é‡‡é›†ï¼Œç”± Prometheus é©±åŠ¨</li>
</ul>
<h3 data-id="heading-35">æ€§èƒ½ä¼˜åŒ–æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é¿å…é«˜åŸºæ•°æ ‡ç­¾</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é¿å…é¢‘ç¹çš„ç½‘ç»œè°ƒç”¨</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é¿å…å¤æ‚è®¡ç®—</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æä¾›å¼€å…³ï¼Œå¯ä»¥å…³é—­æŸäº› Collector</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è®¾ç½®åˆç†çš„é‡‡é›†è¶…æ—¶</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kafka Connect x AutoMQ: Zero Cross-AZ Data Pipeline]]></title>    <link>https://juejin.cn/post/7589567313168498723</link>    <guid>https://juejin.cn/post/7589567313168498723</guid>    <pubDate>2025-12-31T03:50:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589567313168498723" data-draft-id="7589655730291769384" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kafka Connect x AutoMQ: Zero Cross-AZ Data Pipeline"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2025-12-31T03:50:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kafka Connect x AutoMQ: Zero Cross-AZ Data Pipeline
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T03:50:55.000Z" title="Wed Dec 31 2025 03:50:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»‹ç»</h2>
<p><strong>ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£å¼å®£å¸ƒï¼šAutoMQ BYOCï¼ˆBring Your Own Cloudï¼‰æ­£å¼ä¸Šçº¿ Connector æ‰˜ç®¡èƒ½åŠ›ã€‚</strong></p>
<p>AutoMQ ä½œä¸ºåŸºäº S3 æ„å»ºçš„æ–°ä¸€ä»£ Diskless Kafkaï¼Œå·²ç»åœ¨å­˜å‚¨å±‚å®ç°äº†è®¡ç®—å­˜å‚¨åˆ†ç¦»ä¸ Zero Cross-AZï¼ˆé›¶è·¨å¯ç”¨åŒºï¼‰å¤åˆ¶ï¼Œå¤§å¹…é™ä½äº†äº‘ä¸Š Kafka çš„ TCOã€‚éšç€ Connector æ‰˜ç®¡èƒ½åŠ›çš„å¼•å…¥ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥é™ä½äº†æ•°æ®é›†æˆåœºæ™¯çš„å‡†å…¥é—¨æ§›ï¼šåœ¨ AWS ç­‰å…¬æœ‰äº‘ä¸Šï¼Œä½ ç°åœ¨å¯ä»¥åœ¨ä¸€ä¸ªç»Ÿä¸€çš„æ§åˆ¶é¢ä¸­ï¼Œä»¥æç®€çš„æ–¹å¼æ„å»ºä»æ•°æ®é‡‡é›†ï¼ˆConnectï¼‰åˆ°æµå­˜å‚¨ï¼ˆAutoMQï¼‰çš„æ•°æ®ç®¡é“ã€‚é€šè¿‡äº§å“å±‚é¢çš„æ·±åº¦é›†æˆï¼Œæˆ‘ä»¬æŠŠæ„å»ºç”Ÿäº§çº§ CDC é“¾è·¯çš„å¤æ‚åº¦ä»â€œä¸“å®¶çº§â€é™ä½åˆ°äº†â€œå…¥é—¨çº§â€ã€‚</p>
<h2 data-id="heading-1">æŒ‘æˆ˜ï¼šCDC é“¾è·¯ä¸­çš„â€œæµé‡åˆºå®¢â€ä¸é…ç½®å£å’</h2>
<p>åœ¨äº‘åŸç”Ÿæ¶æ„ä¸­ï¼ŒKafka Connect æ˜¯è¿æ¥æ•°æ®åº“ä¸ Kafka çš„å…³é”®æ¡¥æ¢ã€‚ç‰¹åˆ«æ˜¯åœ¨é«˜ååçš„ CDCï¼ˆChange Data Captureï¼‰åœºæ™¯ä¸‹ï¼Œç”¨æˆ·å¾€å¾€é¢ä¸´ç€ä¸¤ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ï¼Œå¯¼è‡´æˆæœ¬ä¸è¿ç»´å‹åŠ›å±…é«˜ä¸ä¸‹ï¼š</p>
<h3 data-id="heading-2">éš¾ä»¥è§„é¿çš„è·¨ AZ æµé‡â€œéšå½¢ç¨â€</h3>
<p>AutoMQ é€šè¿‡åŸºäº S3 çš„å…±äº«å­˜å‚¨æ¶æ„ï¼Œå¯ä»¥åœ¨æœåŠ¡ç«¯å±‚é¢å®Œå…¨æ¶ˆé™¤å®¢æˆ·ç«¯å†™å…¥ AutoMQ æ—¶çš„è·¨ AZ æµé‡è´¹ç”¨ã€‚ä½†è¦çœŸæ­£åšåˆ°â€œç«¯åˆ°ç«¯ Zero Cross-AZâ€ï¼Œé€šå¸¸è¿˜è¦æ±‚**å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ Kafka Connect Connectorï¼‰**å…·å¤‡ä¸€å®šçš„å¯ç”¨åŒºæ„ŸçŸ¥èƒ½åŠ›æˆ–éµå¾ªç‰¹å®šçš„è·¯ç”±ç­–ç•¥ã€‚ç°å®æƒ…å†µæ˜¯ï¼Œåœ¨ä¼ ç»Ÿè‡ªå»º Connector æ¨¡å¼ä¸‹ï¼ŒWorker èŠ‚ç‚¹å¾€å¾€ç”¨é»˜è®¤é…ç½®ç›´æ¥å¯åŠ¨ï¼Œå¯¹æœåŠ¡ç«¯çš„ç½‘ç»œæ‹“æ‰‘ä¸€æ— æ‰€çŸ¥ã€‚ç»“æœå°±æ˜¯ï¼šå³ä¾¿ AutoMQ ä¾§å·²ç»ä¸ºæœ¬åœ°å†™å…¥åšå¥½äº†æ¶æ„å‡†å¤‡ï¼Œè¿™äº›â€œè’™çœ¼ç‹‚å¥”â€çš„ Connector ä»å¯èƒ½æŠŠ TB çº§åˆ«çš„ CDC æµé‡å†™åˆ°å…¶ä»– AZ çš„ Brokerï¼Œäº§ç”Ÿå¤§é‡è·¨ AZ ä¼ è¾“ï¼ˆRegional Data Transferï¼‰è´¹ç”¨ï¼ŒæŠŠ Diskless æ¶æ„åœ¨å­˜å‚¨å±‚å¸¦æ¥çš„ä¼˜åŠ¿æŠµæ¶ˆæ‰ã€‚</p>
<p><img src="https://image.automq.com/20251231bot/1mfbpg.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">è‡ªç®¡ç† Connector æˆæœ¬é«˜æ˜‚</h3>
<p>åœ¨ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œè¦æŠŠ Connector è°ƒåˆ°æ—¢ç¨³å®šåˆçœé’±ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€æ•´å¥—é«˜é—¨æ§›çš„â€œè‡ªåŠ©è¿ç»´å¥—é¤â€ï¼š</p>
<ul>
<li><strong>é…ç½®ä¸Šçš„ç²¾ç»†æ´»</strong>ï¼šä½ å¾—å•ƒå®Œä¸€å †æ–‡æ¡£ï¼Œæ‰‹åŠ¨é…ç½® Rack Awarenessï¼ŒæŒ‰ AZ åˆ’åˆ† Bootstrap åœ°å€ï¼Œæƒè¡¡è¦ä¸è¦å¼€å‹ç¼©ã€åˆ°åº•ç”¨å“ªç§å‹ç¼©ç®—æ³•ï¼›</li>
<li><strong>é›†ç¾¤å’ŒåŸºç¡€è®¾æ–½è¿ç»´</strong>ï¼šè¿˜è¦è‡ªå·±æ‹‰èµ·å¹¶ç»´æŠ¤ Connect é›†ç¾¤ï¼Œåœ¨ K8s é‡Œéƒ¨ç½²ã€é…ç½® VPC/å®‰å…¨ç»„ã€æ¥å¥½ç›‘æ§å‘Šè­¦ï¼Œé¢„ä¼°å¹¶å¤„ç†æ‰©ç¼©å®¹å’Œå‡çº§å¸¦æ¥çš„å„ç§å½±å“ï¼›</li>
<li><strong>éšè—æˆæœ¬å’Œä¸å¯è§é£é™©</strong>ï¼šå³ä¾¿å‰é¢æ‰€æœ‰æ­¥éª¤éƒ½åšå¯¹äº†ï¼Œç»†èŠ‚ä¸Šä¹Ÿå¾ˆå®¹æ˜“ç¿»è½¦â€”â€”åªè¦æœ‰ä¸€ä¸ª client å‚æ•°æ¼é…æˆ–é…é”™ï¼Œå°±å¯èƒ½è®©æœ¬åº”åˆ©ç”¨ AutoMQ æ¶æ„ä¼˜åŠ¿å®ç°çš„ Zero Crossâ€‘AZ èƒ½åŠ›å½»åº•å¤±æ•ˆï¼Œè·¨ AZ æµé‡åˆæ‚„æ‚„å›åˆ°è€è·¯å­ä¸Šï¼Œç›´åˆ°æœˆåº•è´¦å•å‡ºæ¥æ‰å‘ç°è¢«å¤šæ”¶äº†ä¸€å¤§ç¬”é’±ã€‚</li>
</ul>
<p>æ­£æ˜¯å› ä¸ºè‡ªç®¡ Connector å……æ»¡è¿™ç§çœ‹ä¸è§ã€æ‘¸ä¸ç€ä½†çœŸé‡‘ç™½é“¶ä¹°å•çš„å¤æ‚åº¦ï¼Œå¾ˆå¤šå›¢é˜Ÿæ‰å¼€å§‹è®¤çœŸè¯„ä¼°ï¼šæ˜¯ä¸æ˜¯åº”è¯¥æŠŠè¿™éƒ¨åˆ†å½»åº•äº¤ç»™ä¸€ä¸ª Fully Managed çš„å¹³å°æ¥åšã€‚</p>
<p><img src="https://image.automq.com/20251231bot/7xqzmp.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ·±åº¦é›†æˆï¼šæŠŠå¤æ‚ç•™ç»™å¹³å°ï¼ŒæŠŠç®€å•ç•™ç»™ç”¨æˆ·</h2>
<p>AutoMQ æ‰˜ç®¡ Connector çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºåˆ©ç”¨<strong>ç»Ÿä¸€æ§åˆ¶é¢ï¼ˆUnified Control Planeï¼‰çš„ä¸Šä¸‹æ–‡ä¼˜åŠ¿ï¼Œå®ç°äº† Connector ä¸ AutoMQ é›†ç¾¤çš„æ·±åº¦ç»‘å®šä¸è‡ªåŠ¨åŒ–é€‚é…</strong>ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡äº§å“è®¾è®¡ï¼Œå°†â€œå¦‚ä½•æ­£ç¡®è¿æ¥ AutoMQâ€è¿™ä¸€å¤æ‚é—®é¢˜ï¼Œåœ¨å¹³å°ä¾§é€šè¿‡è‡ªåŠ¨åŒ–æ‰‹æ®µè§£å†³ï¼š</p>
<h3 data-id="heading-5">ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„é…ç½®æ³¨å…¥</h3>
<p>åœ¨ AutoMQ æ§åˆ¶å°ä¸­ï¼Œæ‰˜ç®¡ Connector å¤©ç„¶çŸ¥é“å®ƒæ‰€è¿æ¥çš„ AutoMQ é›†ç¾¤çš„ä¸€åˆ‡ä¿¡æ¯ï¼ˆæ¥å…¥ç‚¹ã€è®¤è¯æ–¹å¼ã€ç‰ˆæœ¬ç‰¹æ€§ç­‰ï¼‰ã€‚ å½“ç”¨æˆ·åˆ›å»º Connector æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶æ³¨å…¥é€‚é… AutoMQ æœ€ä½³å®è·µçš„ <strong>Client Configuration</strong>ã€‚æ— è®ºæ˜¯åŸºç¡€çš„è¿æ¥å‚æ•°ï¼Œè¿˜æ˜¯é€‚é… AutoMQ Zero Cross-AZ ç‰¹æ€§æ‰€éœ€çš„ç‰¹æ®Šé…ç½®ï¼Œå¹³å°éƒ½ä¼šåœ¨åå°è‡ªåŠ¨å®Œæˆã€‚ <strong>è¿™æ„å‘³ç€ï¼Œç”¨æˆ·ä¸éœ€è¦ç†è§£åº•å±‚çš„å‚æ•°ç»†èŠ‚ï¼ŒConnector å¯åŠ¨å³å¤„äºâ€œæœ€ä½³çŠ¶æ€â€ã€‚</strong></p>
<h3 data-id="heading-6">ç»Ÿä¸€ç½‘ç»œç¯å¢ƒçš„æ— ç¼è¿æ¥</h3>
<p>æ‰˜ç®¡ Connector éƒ¨ç½²åœ¨ä¸ AutoMQ é›†ç¾¤ç›¸åŒçš„ VPC ç¯å¢ƒä¸­ã€‚å¹³å°è‡ªåŠ¨å¤„ç†äº†ç½‘ç»œè¿é€šæ€§é…ç½®ï¼ˆConnectivityï¼‰ï¼Œç”¨æˆ·æ— éœ€åœ¨å¤æ‚çš„ VPC Peeringã€Secuity Group è§„åˆ™ä¸­å‘¨æ—‹ã€‚åªè¦åœ¨åŒä¸€ä¸ªç¯å¢ƒï¼Œå°±èƒ½å¤©ç„¶è¿é€šï¼Œå®‰å…¨ä¸”é«˜æ•ˆã€‚</p>
<h3 data-id="heading-7">ä¸€ç«™å¼å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>æˆ‘ä»¬å°† Connector çš„åˆ›å»ºã€é…ç½®ã€ç›‘æ§å’Œæ—¥å¿—æŸ¥è¯¢å…¨éƒ¨æ”¶æ•›åˆ°äº† AutoMQ æ§åˆ¶å°ã€‚è¿™ä¸ä»…ä»…æ˜¯ UI çš„æ•´åˆï¼Œæ›´æ˜¯è¿ç»´æµçš„æ‰“é€šã€‚ç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªé¡µé¢é—­ç¯è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œå¤§å¹…é™ä½äº†æ„å»ºå’Œç»´æŠ¤ CDC é“¾è·¯çš„éšå½¢æˆæœ¬ã€‚</p>
<h2 data-id="heading-8">äº§å“ä½“éªŒï¼šå››æ­¥å‘å¯¼ï¼Œä¸€å±æŒæ§</h2>
<p>æˆ‘ä»¬å°†å¤æ‚çš„é›†æˆé€»è¾‘å°è£…ä¸ºæ ‡å‡†åŒ–çš„å››æ­¥å‘å¯¼ï¼Œè®© CDC é“¾è·¯çš„æ­å»ºå›å½’ä¸šåŠ¡æœ¬è´¨ã€‚</p>
<h3 data-id="heading-9">1. é€šç”¨è®¾ç½®ï¼šè‡ªåŠ¨åŒ–çš„ç¯å¢ƒé€‚é…</h3>
<p>è¿™æ˜¯é›†æˆçš„èµ·ç‚¹ã€‚ç”¨æˆ·åªéœ€é€‰æ‹©ç›®æ ‡ AutoMQ å®ä¾‹å’Œ Kubernetes é›†ç¾¤ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é”å®šæ­£ç¡®çš„ç½‘ç»œä¸Šä¸‹æ–‡å’Œ IAM è§’è‰²ã€‚<strong>â€œé€‰æ‹©å³é€‚é…â€</strong>ï¼Œå¤æ‚çš„è¿æ¥å‚æ•°é…ç½®åœ¨åå°è‡ªåŠ¨å®Œæˆã€‚</p>
<p><img src="https://image.automq.com/20251231bot/613sgi.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">2. è¿æ¥é…ç½®ï¼šå…¼å®¹æ€§ä¸æ˜“ç”¨æ€§çš„å¹³è¡¡</h3>
<p>æ”¯æŒæ ‡å‡†çš„ Kafka Connect æ’ä»¶ç”Ÿæ€ï¼Œå¹¶ç³»ç»Ÿå†…ç½®äº† Debezium ç­‰ CDC æ’ä»¶ï¼Œé’ˆå¯¹ä¸åŒçš„ç”¨æˆ·ä¹ æƒ¯ï¼Œæˆ‘ä»¬æä¾›äº†çµæ´»çš„é…ç½®æ¨¡å¼ï¼š</p>
<ul>
<li><strong>è¡¨å•æ¨¡å¼</strong>ï¼šé’ˆå¯¹ S3 Sink ç­‰æ ‡å‡†åŒ–æ’ä»¶ï¼Œå‚æ•°å¯è§†åŒ–ï¼Œå‡å°‘é…ç½®é”™è¯¯ã€‚</li>
<li><strong>è‡ªå®šä¹‰æ¨¡å¼</strong>ï¼šé’ˆå¯¹ Debezium ç­‰å¤æ‚åœºæ™¯ï¼Œæ”¯æŒç›´æ¥ç²˜è´´ JSON/Propertiesï¼Œç¡®ä¿å­˜é‡ä¸šåŠ¡çš„å¹³æ»‘è¿ç§»ã€‚</li>
</ul>
<p><img src="https://image.automq.com/20251231bot/mos74r.png" alt="" loading="lazy"/></p>
<p><img src="https://image.automq.com/20251231bot/9r9b24.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">3. å¯è§‚æµ‹æ€§ï¼šæ‰“ç ´æ•°æ®å­¤å²›</h3>
<p>åœ¨â€œé¢å¤–è®¾ç½®â€ä¸­ï¼Œæˆ‘ä»¬å†…ç½®äº†æ ‡å‡†åŒ–çš„å¯è§‚æµ‹æ€§é›†æˆã€‚é€šè¿‡å‹¾é€‰ Remote Writeï¼ŒConnector çš„ç›‘æ§æŒ‡æ ‡å¯ç›´æ¥å¯¹æ¥åˆ° Prometheus/Grafana ä½“ç³»ï¼Œæ— éœ€é¢å¤–éƒ¨ç½² Exporterï¼Œå½»åº•å‘Šåˆ«é»‘ç›’è¿ç»´ã€‚</p>
<p><img src="https://image.automq.com/20251231bot/fnw5s8.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">4. éƒ¨ç½²ä¸è¿ç»´ï¼šå…¨ç¨‹å¯è§†</h3>
<p>æäº¤åï¼ŒAutoMQ æ¥ç®¡å…¨æµç¨‹éƒ¨ç½²ã€‚éƒ¨ç½²å®Œæˆåï¼Œç”¨æˆ·è·å¾—çš„æ˜¯ä¸€ä¸ªå…·å¤‡æ·±åº¦çš„è¿ç»´ä»ªè¡¨ç›˜ã€‚</p>
<ul>
<li><strong>å®æ—¶ååç›‘æ§</strong>ï¼š</li>
</ul>
<p><img src="https://image.automq.com/20251231bot/38h919.png" alt="" loading="lazy"/></p>
<ul>
<li><strong>æ—¥å¿—èšåˆæŸ¥è¯¢</strong>ï¼šæ— éœ€ç™»å½• K8sï¼Œç›´æ¥åœ¨æ§åˆ¶å°èšåˆæŸ¥è¯¢æ‰€æœ‰ Worker æ—¥å¿—ï¼Œå¿«é€Ÿå®šä½ä¸šåŠ¡å¼‚å¸¸ã€‚</li>
</ul>
<p><img src="https://image.automq.com/20251231bot/103tav.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">æ€»ç»“</h2>
<p>AutoMQ Connector æ‰˜ç®¡èƒ½åŠ›çš„ä¸Šçº¿ï¼Œæ ‡å¿—ç€ AutoMQ ä»å•ä¸€çš„æµå­˜å‚¨å¼•æ“å‘å®Œæ•´çš„äº‘åŸç”Ÿæµæ•°æ®å¹³å°è¿ˆå‡ºäº†å…³é”®ä¸€æ­¥ã€‚</p>
<p>é€šè¿‡å°† Connector ä¸ AutoMQ é›†ç¾¤è¿›è¡Œ<strong>äº§å“çº§å¼ºç»‘å®š</strong>ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ul>
<li><strong>æç®€çš„ CDC é“¾è·¯æ„å»º</strong>ï¼šæ— éœ€å…³å¿ƒç¹ççš„ Client å‚æ•°ä¸ç½‘ç»œé…ç½®ï¼Œå››æ­¥å‘å¯¼å³å¯æ‹‰èµ·ç”Ÿäº§çº§é“¾è·¯ã€‚</li>
<li><strong>é»˜è®¤çš„æœ€ä½³å®è·µ</strong>ï¼šé€šè¿‡è‡ªåŠ¨åŒ–çš„é…ç½®æ³¨å…¥ï¼Œå¤©ç„¶é€‚é… AutoMQ çš„æ ¸å¿ƒç‰¹æ€§ï¼ˆå¦‚ Zero Cross-AZï¼‰ï¼Œæ¶ˆé™¤é…ç½®é”™è¯¯å¸¦æ¥çš„éšæ‚£ã€‚</li>
<li><strong>ç»Ÿä¸€çš„æ²»ç†ä½“éªŒ</strong>ï¼šä» Broker åˆ° Connectorï¼Œåœ¨åŒä¸€æ§åˆ¶å°å†…å®ç°å…¨æ ˆé—­ç¯ç®¡ç†ã€‚</li>
</ul>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªèƒ½å¤Ÿå¿«é€Ÿè½åœ°ã€ä¸”è¿ç»´æˆæœ¬æä½çš„æ•°æ®é›†æˆæ–¹æ¡ˆï¼Œæ¬¢è¿å‚è€ƒæˆ‘ä»¬çš„å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨ AutoMQ BYOC ç¯å¢ƒä¸­ä½“éªŒè¿™ä¸€æ–°ç‰¹æ€§ã€‚</p>
<p>ğŸ’¡ å¼€æº AutoMQ æ­£åœ¨ Github Trending ä¸­ï¼Œæ¬¢è¿å…³æ³¨ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.automq.com%2Fgithub%3Futm%255C_source%3Dopenwrite%255C_automq" target="_blank" title="https://go.automq.com/github?utm%5C_source=openwrite%5C_automq" ref="nofollow noopener noreferrer">go.automq.com/github?utm\â€¦</a></p>
<p>ğŸ‘‡ AutoMQ å•†ä¸šç‰ˆå½“å‰æä¾› 2 å‘¨å…è´¹è¯•ç”¨ï¼Œæ¬¢è¿è¯•ç”¨ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.automq.com%2Fhome%3Futm%255C_source%3Dopenwrite%255C_automq" target="_blank" title="https://go.automq.com/home?utm%5C_source=openwrite%5C_automq" ref="nofollow noopener noreferrer">go.automq.com/home?utm\_sâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æAIOpsï¼šä»æ¶æ„è®¾è®¡åˆ°å·¥å…·å®è·µçš„æ™ºèƒ½è¿ç»´ä½“ç³»]]></title>    <link>https://juejin.cn/post/7589567313167826979</link>    <guid>https://juejin.cn/post/7589567313167826979</guid>    <pubDate>2025-12-31T02:23:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589567313167826979" data-draft-id="7589567313167794211" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æAIOpsï¼šä»æ¶æ„è®¾è®¡åˆ°å·¥å…·å®è·µçš„æ™ºèƒ½è¿ç»´ä½“ç³»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-31T02:23:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æAIOpsï¼šä»æ¶æ„è®¾è®¡åˆ°å·¥å…·å®è·µçš„æ™ºèƒ½è¿ç»´ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:23:10.000Z" title="Wed Dec 31 2025 02:23:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€AIOpsçš„æ ¸å¿ƒæ¶æ„ä¸åŠŸèƒ½æ¨¡å—</h2>
<p>AIOpsï¼ˆäººå·¥æ™ºèƒ½è¿ç»´ï¼‰é€šè¿‡æ•´åˆæœºå™¨å­¦ä¹ ã€å¤§æ•°æ®åˆ†æä¸è‡ªåŠ¨åŒ–æŠ€æœ¯ï¼Œæ„å»ºäº†ä¸€å¥—è¦†ç›–<strong>ç›‘æ§ã€è¿ç»´ã€è¿è¥å…¨æµç¨‹</strong>çš„æ™ºèƒ½åŒ–ä½“ç³»ã€‚å…¶æ ¸å¿ƒæ¶æ„å¯åˆ†ä¸ºä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—ååŒå·¥ä½œä»¥å®ç°é«˜æ•ˆçš„ITè¿è¥ï¼š</p>
<h3 data-id="heading-1">ï¼ˆä¸€ï¼‰ç›‘æ§ä¸­å¿ƒï¼šå…¨ç»´åº¦ç³»ç»Ÿæ„ŸçŸ¥</h3>
<p>ç›‘æ§ä¸­å¿ƒæ˜¯AIOpsçš„â€œç¥ç»æœ«æ¢¢â€ï¼Œè´Ÿè´£å®æ—¶é‡‡é›†ITç³»ç»Ÿçš„è¿è¡Œæ•°æ®ï¼Œæ¶µç›–ï¼š</p>
<ul>
<li><strong>åŸºç¡€è®¾æ–½ç›‘æ§</strong>ï¼šç½‘ç»œç›‘æ§ï¼ˆå¸¦å®½ã€ä¸¢åŒ…ç‡ï¼‰ã€æœåŠ¡å™¨ç¡¬ä»¶çŠ¶æ€ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰ã€è™šæ‹ŸåŒ–å¹³å°ï¼ˆKVMã€VMwareèµ„æºåˆ©ç”¨ç‡ï¼‰ã€‚</li>
<li><strong>åº”ç”¨æ€§èƒ½ç›‘æ§</strong>ï¼šåº”ç”¨æ¥å£å“åº”æ—¶é—´ï¼ˆAPIå»¶è¿Ÿï¼‰ã€æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ã€ä¸­é—´ä»¶ï¼ˆå¦‚Kafkaã€Redisï¼‰æ¶ˆæ¯å †ç§¯ã€‚</li>
<li><strong>ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§</strong>ï¼šç”¨æˆ·æ´»è·ƒåº¦ã€è®¢å•è½¬åŒ–ç‡ã€äº¤æ˜“æˆåŠŸç‡ç­‰ä¸šåŠ¡å…³é”®æŒ‡æ ‡ï¼ˆKPIï¼‰ã€‚</li>
</ul>
<p>å…¸å‹å·¥å…·ï¼š</p>
<ul>
<li><strong>Prometheus</strong>ï¼šæ—¶åºæ•°æ®åº“+å‘Šè­¦å¼•æ“ï¼Œé€‚ç”¨äºäº‘åŸç”Ÿç¯å¢ƒä¸‹çš„å¾®æœåŠ¡ç›‘æ§ã€‚</li>
<li><strong>Zabbix</strong>ï¼šæ”¯æŒå¤šåè®®ï¼ˆSNMPã€JMXï¼‰çš„ä¼ä¸šçº§ç›‘æ§æ–¹æ¡ˆï¼Œè¦†ç›–ä¼ ç»Ÿç‰©ç†æœºä¸äº‘èµ„æºã€‚</li>
</ul>
<h3 data-id="heading-2">ï¼ˆäºŒï¼‰è¿ç»´ä¸­å¿ƒï¼šè‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–è¿ç»´</h3>
<p>è¿ç»´ä¸­å¿ƒèšç„¦æ—¥å¸¸è¿ç»´æ“ä½œçš„è‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><strong>èµ„æºé…ç½®ç®¡ç†</strong>ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆAnsibleã€Terraformï¼‰ã€ç‰ˆæœ¬ç®¡ç†ï¼ˆGitLabï¼‰ã€é…ç½®åŸºçº¿æ ¸æŸ¥ã€‚</li>
<li><strong>æ•…éšœå¤„ç†</strong>ï¼šå¼‚å¸¸æ£€æµ‹ï¼ˆåŸºäºæœºå™¨å­¦ä¹ çš„æ—¥å¿—åˆ†æï¼‰ã€æ•…éšœè‡ªæ„ˆï¼ˆé‡å¯æœåŠ¡ã€æ‰©å®¹å®ä¾‹ï¼‰ã€‚</li>
<li><strong>å®¹é‡è§„åˆ’</strong>ï¼šåŸºäºå†å²æ•°æ®çš„èµ„æºéœ€æ±‚é¢„æµ‹ï¼ˆå¦‚CPU/å†…å­˜æ‰©å®¹é˜ˆå€¼è®¡ç®—ï¼‰ã€‚</li>
</ul>
<p>å…¸å‹åœºæ™¯ï¼š</p>
<p>é€šè¿‡åˆ†ææœåŠ¡å™¨CPUä½¿ç”¨ç‡çš„æ—¶åºæ•°æ®ï¼ŒAIOpsç³»ç»Ÿå¯æå‰3å¤©é¢„æµ‹èµ„æºç“¶é¢ˆå¹¶è§¦å‘è‡ªåŠ¨æ‰©å®¹ï¼Œé¿å…ä¸šåŠ¡é«˜å³°æœŸçš„æ€§èƒ½ä¸‹é™ã€‚</p>
<h3 data-id="heading-3">ï¼ˆä¸‰ï¼‰è¿è¥ä¸­å¿ƒï¼šæ•°æ®é©±åŠ¨çš„å†³ç­–æ”¯æŒ</h3>
<p>è¿è¥ä¸­å¿ƒé€šè¿‡æ•°æ®å¯è§†åŒ–ä¸åˆ†æï¼Œæå‡è¿ç»´å†³ç­–çš„ç§‘å­¦æ€§ï¼š</p>
<ul>
<li><strong>è¿ç»´å¤§æ•°æ®å¹³å°</strong>ï¼šæ•´åˆæ—¥å¿—ï¼ˆELK Stackï¼‰ã€æŒ‡æ ‡ï¼ˆPrometheusï¼‰ã€é“¾è·¯è¿½è¸ªï¼ˆJaegerï¼‰ç­‰å¤šæºæ•°æ®ã€‚</li>
<li><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼šèµ„æºåˆ©ç”¨ç‡åˆ†æï¼ˆå¦‚é—²ç½®å®ä¾‹è¯†åˆ«ï¼‰ã€äº‘æœåŠ¡æˆæœ¬åˆ†æ‘Šï¼ˆFinOpsï¼‰ã€‚</li>
<li><strong>ä¸šåŠ¡å…³è”åˆ†æ</strong>ï¼šå°†ITæŒ‡æ ‡ä¸ä¸šåŠ¡ç»“æœæŒ‚é’©ï¼ˆå¦‚æ•°æ®åº“å»¶è¿Ÿâ†’ç”¨æˆ·æµå¤±ç‡ï¼‰ã€‚</li>
</ul>
<p>å…¸å‹å·¥å…·ï¼š</p>
<ul>
<li><strong>Grafana</strong>ï¼šå¤šæ•°æ®æºå¯è§†åŒ–é¢æ¿ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸šåŠ¡çœ‹æ¿ï¼ˆå¦‚â€œåŒåä¸€å¤§ä¿ƒæµé‡ç›‘æ§â€ï¼‰ã€‚</li>
<li><strong>Kibana</strong>ï¼šç»“åˆElasticsearchå®ç°æ—¥å¿—æ•°æ®çš„äº¤äº’å¼åˆ†æä¸å¼‚å¸¸æ£€æµ‹ã€‚</li>
</ul>
<h3 data-id="heading-4">ï¼ˆå››ï¼‰ç»Ÿä¸€é…ç½®ä¸­å¿ƒï¼šå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>ç»Ÿä¸€é…ç½®ä¸­å¿ƒå®ç°ITèµ„æºçš„æ ‡å‡†åŒ–ä¸é›†ä¸­åŒ–ç®¡æ§ï¼š</p>
<ul>
<li><strong>èµ„æºç›®å½•</strong>ï¼šæœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€åº”ç”¨æœåŠ¡çš„èµ„äº§å°è´¦ç®¡ç†ã€‚</li>
<li><strong>å˜æ›´ç®¡ç†</strong>ï¼šé…ç½®å˜æ›´å®¡è®¡ï¼ˆè°æ”¹äº†ä»€ä¹ˆã€ä½•æ—¶æ”¹ï¼‰ã€åˆè§„æ€§æ£€æŸ¥ï¼ˆå¦‚CISåŸºå‡†ï¼‰ã€‚</li>
<li><strong>ä¾èµ–å…³ç³»æ˜ å°„</strong>ï¼šè·¨ç³»ç»Ÿçš„æœåŠ¡è°ƒç”¨é“¾å¯è§†åŒ–ï¼ˆå¦‚å¾®æœåŠ¡é—´çš„APIä¾èµ–ï¼‰ã€‚</li>
</ul>
<p>å…¸å‹åº”ç”¨ï¼š</p>
<p>é€šè¿‡é…ç½®ä¸­å¿ƒè¿½è¸ªæŸæ•°æ®åº“å®ä¾‹çš„å˜æ›´è®°å½•ï¼Œå¿«é€Ÿå®šä½å› å‚æ•°è¯¯ä¿®æ”¹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<h2 data-id="heading-5">äºŒã€AIOpsçš„æ ¸å¿ƒæŠ€æœ¯èƒ½åŠ›</h2>
<p>AIOpsçš„ä»·å€¼å®ç°ä¾èµ–äºä»¥ä¸‹å…³é”®æŠ€æœ¯çš„èåˆåº”ç”¨ï¼š</p>
<h3 data-id="heading-6">ï¼ˆä¸€ï¼‰æ™ºèƒ½åˆ†æå¼•æ“</h3>
<ul>
<li><strong>å¼‚å¸¸æ£€æµ‹</strong>ï¼šåŸºäºå­¤ç«‹æ£®æ—ï¼ˆIsolation Forestï¼‰æˆ–LSTMç¥ç»ç½‘ç»œè¯†åˆ«æ—¥å¿—ã€æŒ‡æ ‡ä¸­çš„å¼‚å¸¸æ¨¡å¼ã€‚</li>
<li><strong>æ ¹å› åˆ†æï¼ˆRCAï¼‰</strong> ï¼šé€šè¿‡å›¾è®¡ç®—ï¼ˆNeo4jï¼‰æ„å»ºæœåŠ¡ä¾èµ–å›¾è°±ï¼Œç»“åˆæ—¶åºæ•°æ®å®šä½æ•…éšœæºå¤´ï¼ˆå¦‚â€œDNSè§£æå¤±è´¥â†’APIç½‘å…³è¶…æ—¶â€ï¼‰ã€‚</li>
<li><strong>é¢„æµ‹æ¨¡å‹</strong>ï¼šåˆ©ç”¨Prophetæˆ–ARIMAç®—æ³•é¢„æµ‹èµ„æºæ¶ˆè€—è¶‹åŠ¿ï¼ˆå¦‚ç£ç›˜ç©ºé—´ä¸è¶³é¢„è­¦ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">ï¼ˆäºŒï¼‰è‡ªåŠ¨åŒ–æ‰§è¡Œæ¡†æ¶</h3>
<ul>
<li><strong>äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼šé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaï¼‰å®ç°å‘Šè­¦äº‹ä»¶çš„å®æ—¶åˆ†å‘ä¸è‡ªåŠ¨åŒ–å¤„ç†ã€‚</li>
<li><strong>ä½ä»£ç ç¼–æ’</strong>ï¼šä½¿ç”¨Ansible Playbookæˆ– SaltStack Stateæ–‡ä»¶å®šä¹‰è¿ç»´æ“ä½œæµç¨‹ï¼ˆå¦‚â€œæ•…éšœåˆ‡æ¢â†’æ•°æ®æ¢å¤â†’é€šçŸ¥å‘Šè­¦â€ï¼‰ã€‚</li>
<li><strong>æ— æœåŠ¡å™¨è®¡ç®—</strong>ï¼šé€šè¿‡AWS Lambdaæˆ–é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—å®ç°è½»é‡çº§è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼ˆå¦‚å®šæ—¶æ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">ï¼ˆä¸‰ï¼‰å®‰å…¨ä¸åˆè§„é›†æˆ</h3>
<ul>
<li><strong>å…¥ä¾µæ£€æµ‹</strong>ï¼šåŸºäºè§„åˆ™ï¼ˆSnortï¼‰ä¸è¡Œä¸ºåˆ†æï¼ˆOSSECï¼‰çš„æ··åˆæ¨¡å‹ï¼Œè¯†åˆ«ç½‘ç»œæ”»å‡»ï¼ˆå¦‚DDoSã€SQLæ³¨å…¥ï¼‰ã€‚</li>
<li><strong>å¯†é’¥ç®¡ç†</strong>ï¼šHashiCorp Vaultå®ç°æ•æ„Ÿæ•°æ®ï¼ˆæ•°æ®åº“å¯†ç ã€APIå¯†é’¥ï¼‰çš„åŠ¨æ€åŠ å¯†ä¸æƒé™ç®¡æ§ã€‚</li>
<li><strong>åˆè§„å®¡è®¡</strong>ï¼šè‡ªåŠ¨å¯¹ç…§PCI - DSSã€GDPRç­‰æ ‡å‡†æ£€æŸ¥é…ç½®é¡¹ï¼Œç”Ÿæˆåˆè§„æŠ¥å‘Šã€‚</li>
</ul>
<h2 data-id="heading-9">ä¸‰ã€å¸¸ç”¨è¿ç»´å·¥å…·é“¾æ¨è</h2>
<p>æ ¹æ®AIOpsæ¶æ„çš„ä¸åŒå±‚çº§ï¼Œé€‰æ‹©é€‚é…çš„å·¥å…·å½¢æˆå®Œæ•´å·¥å…·é“¾ï¼š</p>








































<table><thead><tr><th><strong>å·¥å…·åˆ†ç±»</strong>â€‹</th><th><strong>å…¸å‹å·¥å…·</strong>â€‹</th><th><strong>æ ¸å¿ƒèƒ½åŠ›</strong>â€‹</th></tr></thead><tbody><tr><td>ç›‘æ§å·¥å…·</td><td>Prometheus + Grafana</td><td>äº‘åŸç”Ÿç›‘æ§ã€å¯è§†åŒ–ä»ªè¡¨ç›˜</td></tr><tr><td>æ—¥å¿—ç®¡ç†</td><td>ELK Stackï¼ˆElasticsearch, Logstash, Kibanaï¼‰</td><td>åˆ†å¸ƒå¼æ—¥å¿—é‡‡é›†ã€å­˜å‚¨ä¸åˆ†æ</td></tr><tr><td>è‡ªåŠ¨åŒ–å·¥å…·</td><td>Ansible + Terraform</td><td>æ— ä»£ç†é…ç½®ç®¡ç†ã€åŸºç¡€è®¾æ–½å³ä»£ç </td></tr><tr><td>é…ç½®ç®¡ç†</td><td>Puppet + Chef</td><td>å¤æ‚ç¯å¢ƒä¸‹çš„é…ç½®æ ‡å‡†åŒ–ä¸åˆè§„æ€§</td></tr><tr><td>å®‰å…¨å·¥å…·</td><td>Wazuh + Vault</td><td>ç»Ÿä¸€æ—¥å¿—å®¡è®¡ã€å¯†é’¥ç”Ÿå‘½å‘¨æœŸç®¡ç†</td></tr><tr><td>CI/CDå·¥å…·</td><td>Jenkins + GitLab CI</td><td>è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ä¸éƒ¨ç½²æµæ°´çº¿</td></tr></tbody></table>
<p><strong>å·¥å…·é€‰å‹å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>åˆåˆ›å›¢é˜Ÿ</strong>ï¼šPrometheusï¼ˆç›‘æ§ï¼‰+ Ansibleï¼ˆè‡ªåŠ¨åŒ–ï¼‰+ ELKï¼ˆæ—¥å¿—ï¼‰+ GitLab CIï¼ˆCI/CDï¼‰ï¼Œå¿«é€Ÿæ­å»ºä½æˆæœ¬è¿ç»´ä½“ç³»ã€‚</li>
<li><strong>ä¸­å¤§å‹ä¼ä¸š</strong>ï¼šTerraformï¼ˆå¤šäº‘ç®¡ç†ï¼‰+ Grafana Lokiï¼ˆæ—¥å¿—èšåˆï¼‰+ Argo CDï¼ˆGitOpsäº¤ä»˜ï¼‰+ Snykï¼ˆæ¼æ´æ‰«æï¼‰ï¼Œå…¼é¡¾æ‰©å±•æ€§ä¸å®‰å…¨æ€§ã€‚</li>
<li><strong>é‡‘èè¡Œä¸š</strong>ï¼šVaultï¼ˆå¯†é’¥ç®¡ç†ï¼‰+ SIEMï¼ˆå¦‚Splunkï¼‰+ åˆè§„å®¡è®¡å·¥å…·ï¼ˆå¦‚Qualysï¼‰ï¼Œæ»¡è¶³ä¸¥è‹›ç›‘ç®¡è¦æ±‚ã€‚</li>
</ol>
<h2 data-id="heading-10">å››ã€AIOpsè½åœ°å®è·µè·¯å¾„</h2>
<ol>
<li><strong>ç°çŠ¶è¯„ä¼°</strong>ï¼šæ¢³ç†ç°æœ‰ITæ¶æ„ï¼ˆç‰©ç†æœº/äº‘/å®¹å™¨å æ¯”ï¼‰ã€æ ¸å¿ƒç—›ç‚¹ï¼ˆæ•…éšœé¢‘å‘ï¼Ÿæ•ˆç‡ä½ä¸‹ï¼Ÿåˆè§„å‹åŠ›å¤§ï¼Ÿï¼‰ã€‚</li>
<li><strong>åœºæ™¯ä¼˜å…ˆçº§</strong>ï¼šä»å•ä¸€åœºæ™¯åˆ‡å…¥ï¼ˆå¦‚â€œå®¹å™¨åŒ–åº”ç”¨çš„å¼‚å¸¸æ£€æµ‹â€ï¼‰ï¼Œé€æ­¥æ‰©å±•è‡³å…¨æµç¨‹æ™ºèƒ½åŒ–ã€‚</li>
<li><strong>å·¥å…·é“¾æ•´åˆ</strong>ï¼šä¼˜å…ˆå¤ç”¨ç°æœ‰å·¥å…·ï¼ˆå¦‚å°†Zabbixæ•°æ®æ¥å…¥Prometheusï¼‰ï¼Œé¿å…é‡å¤å»ºè®¾ã€‚</li>
<li><strong>ç»„ç»‡èƒ½åŠ›å»ºè®¾</strong>ï¼šåŸ¹å…»å…¼å…·è¿ç»´ç»éªŒä¸AIçŸ¥è¯†çš„å¤åˆå‹å›¢é˜Ÿï¼Œæ¨åŠ¨å·¥å…·é“¾ä¸æµç¨‹çš„æ·±åº¦èåˆã€‚</li>
</ol>
<p>éšç€å¤§æ¨¡å‹ï¼ˆLLMï¼‰ä¸è¿ç»´åœºæ™¯çš„ç»“åˆï¼ŒAIOpså°†å‘<strong>é¢„æµ‹æ€§æ›´å¼ºã€è‡ªä¸»æ€§æ›´é«˜</strong>çš„æ–¹å‘å‘å±•ï¼š</p>
<ul>
<li><strong>æ™ºèƒ½é—®ç­”åŠ©æ‰‹</strong>ï¼šåŸºäºè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰è§£æè¿ç»´å·¥å•ï¼Œè‡ªåŠ¨æ¨èè§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>è‡ªé€‚åº”ç³»ç»Ÿè°ƒä¼˜</strong>ï¼šé€šè¿‡å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰åŠ¨æ€è°ƒæ•´èµ„æºé…ç½®ç­–ç•¥ï¼ˆå¦‚è‡ªåŠ¨æ‰©ç¼©å®¹é˜ˆå€¼ï¼‰ã€‚</li>
<li><strong>æ•°å­—å­ªç”Ÿè¿ç»´</strong>ï¼šæ„å»ºITç³»ç»Ÿçš„è™šæ‹Ÿé•œåƒï¼Œæ¨¡æ‹Ÿæ•…éšœåœºæ™¯ä»¥éªŒè¯é¢„æ¡ˆæœ‰æ•ˆæ€§ã€‚</li>
</ul>
<p><strong>ç»“è¯­</strong>ï¼šAIOpså¹¶éä¸€è¹´è€Œå°±çš„â€œé“¶å¼¹â€ï¼Œè€Œæ˜¯éœ€è¦é•¿æœŸè¿­ä»£çš„ç³»ç»Ÿæ€§å·¥ç¨‹ã€‚é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡ã€å·¥å…·é€‰å‹ä¸ç»„ç»‡å˜é©ï¼Œä¼ä¸šå¯å°†è¿ç»´ä»â€œæˆæœ¬ä¸­å¿ƒâ€è½¬åŒ–ä¸ºâ€œåˆ›æ–°åŠ é€Ÿå™¨â€ï¼Œåœ¨æ•°å­—åŒ–ç«äº‰ä¸­å æ®å…ˆæœºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†å¸ƒå¼ ID ç”Ÿæˆç»ˆææ–¹æ¡ˆï¼šé›ªèŠ±ç®—æ³•ä¼˜åŒ–ä¸é«˜å¯ç”¨å®ç°]]></title>    <link>https://juejin.cn/post/7589526591565266944</link>    <guid>https://juejin.cn/post/7589526591565266944</guid>    <pubDate>2025-12-31T01:45:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589526591565266944" data-draft-id="7589578378895130658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†å¸ƒå¼ ID ç”Ÿæˆç»ˆææ–¹æ¡ˆï¼šé›ªèŠ±ç®—æ³•ä¼˜åŒ–ä¸é«˜å¯ç”¨å®ç°"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-31T01:45:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†å¸ƒå¼ ID ç”Ÿæˆç»ˆææ–¹æ¡ˆï¼šé›ªèŠ±ç®—æ³•ä¼˜åŒ–ä¸é«˜å¯ç”¨å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:45:45.000Z" title="Wed Dec 31 2025 01:45:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ†å¸ƒå¼ ID ç”Ÿæˆç»ˆææ–¹æ¡ˆï¼šé›ªèŠ±ç®—æ³•ä¼˜åŒ–ä¸é«˜å¯ç”¨å®ç°</h2>
<p>ä½œä¸ºä¸€åæ·±è€• Java é¢†åŸŸå…«å¹´çš„é«˜çº§å¼€å‘ï¼Œæˆ‘ç»æ‰‹è¿‡ç”µå•†ã€ç‰©æµã€é‡‘èç­‰å¤šä¸ªé¢†åŸŸçš„åˆ†å¸ƒå¼ç³»ç»Ÿé‡æ„ï¼Œå…¶ä¸­<strong>åˆ†å¸ƒå¼ ID ç”Ÿæˆ</strong>æ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒé—®é¢˜ â€”â€” çœ‹ä¼¼ç®€å•çš„ â€œç”Ÿæˆå”¯ä¸€ IDâ€ï¼Œå®åˆ™è—ç€æ— æ•°å‘ï¼šå•ä½“è½¬åˆ†å¸ƒå¼åè‡ªå¢ ID å†²çªã€UUID æ— åºå¯¼è‡´ç´¢å¼•æ€§èƒ½é›ªå´©ã€åŸç”Ÿé›ªèŠ±ç®—æ³•æ—¶é’Ÿå›æ‹¨å¼•å‘çº¿ä¸Šæ•…éšœâ€¦</p>
<p>æˆ‘æ›¾äº²å†æŸç”µå•†å¤§ä¿ƒåœºæ™¯ä¸‹ï¼Œå› åŸç”Ÿé›ªèŠ±ç®—æ³•æ—¶é’Ÿå›æ‹¨å¯¼è‡´è®¢å• ID é‡å¤ï¼Œæœ€ç»ˆè§¦å‘æ”¯ä»˜å¯¹è´¦å¼‚å¸¸ï¼Œç´§æ€¥å›æ»šæ‰è§£å†³é—®é¢˜ã€‚ä¹Ÿè§è¿‡å›¢é˜Ÿä¸ºäº† â€œå›¾çœäº‹â€ ç”¨ UUID åšè®¢å•å·ï¼Œç»“æœåŠå¹´åè®¢å•è¡¨ç´¢å¼•æ€§èƒ½ä¸‹é™ 80%ï¼Œä¸å¾—ä¸é€šå®µé‡æ„ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°†ä»çœŸå®ä¸šåŠ¡åœºæ™¯å‡ºå‘ï¼Œæ‹†è§£åˆ†å¸ƒå¼ ID çš„æ ¸å¿ƒè¯‰æ±‚ï¼Œå‰–æåŸç”Ÿé›ªèŠ±ç®—æ³•çš„è‡´å‘½ç¼ºé™·ï¼Œæœ€ç»ˆç»™å‡ºä¸€å¥—ç»è¿‡ç”Ÿäº§éªŒè¯çš„ã€é«˜å¯ç”¨çš„é›ªèŠ±ç®—æ³•ä¼˜åŒ–æ–¹æ¡ˆ â€”â€” åŒ…å«å®Œæ•´çš„ Java å®ç°ä»£ç ã€å‹æµ‹æ•°æ®å’Œæ•…éšœå®¹ç¾ç­–ç•¥ï¼Œç¡®ä¿è½åœ°å³å¯ç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šä¸åŒä¸šåŠ¡åœºæ™¯å¯¹åˆ†å¸ƒå¼ ID çš„æ ¸å¿ƒè¯‰æ±‚</h3>
<p>åˆ†å¸ƒå¼ ID ä¸æ˜¯ â€œåªè¦å”¯ä¸€å°±è¡Œâ€ï¼Œä¸åŒä¸šåŠ¡åœºæ™¯çš„è¯‰æ±‚å¤©å·®åœ°åˆ«ï¼Œé€‰å¯¹æ–¹æ¡ˆçš„å‰ææ˜¯å…ˆæ˜ç¡®éœ€æ±‚ã€‚æˆ‘æ•´ç†äº†é«˜é¢‘ä¸šåŠ¡åœºæ™¯çš„ ID è¯‰æ±‚å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th>ä¸šåŠ¡åœºæ™¯</th><th>æ ¸å¿ƒè¯‰æ±‚</th><th>ç¦ç”¨æ–¹æ¡ˆ</th><th>é€‚é…æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ç”µå•†è®¢å• ID</td><td>å”¯ä¸€ã€è¶‹åŠ¿é€’å¢ã€é«˜æ€§èƒ½ã€é˜²éå†ã€å¯è¯»æ€§ä½</td><td>UUIDï¼ˆæ— åºï¼‰ã€è‡ªå¢ IDï¼ˆæ˜“éå†ï¼‰</td><td>ä¼˜åŒ–ç‰ˆé›ªèŠ±ç®—æ³•</td></tr><tr><td>ç‰©æµè¿å•å·</td><td>å”¯ä¸€ã€å«ä¸šåŠ¡æ ‡è¯†ï¼ˆå¦‚å¿«é€’å…¬å¸ç¼–ç ï¼‰ã€æœ‰åº</td><td>çº¯æ•°å­—é›ªèŠ± IDï¼ˆæ— ä¸šåŠ¡æ ‡è¯†ï¼‰</td><td>å¸¦ä¸šåŠ¡å‰ç¼€çš„é›ªèŠ±å˜ç§ ID</td></tr><tr><td>ç”¨æˆ· ID</td><td>å”¯ä¸€ã€é«˜æ€§èƒ½ã€ä½å­˜å‚¨æˆæœ¬</td><td>UUIDï¼ˆå ç©ºé—´ï¼‰</td><td>åŸºç¡€é›ªèŠ±ç®—æ³•ï¼ˆç®€åŒ–ç‰ˆï¼‰</td></tr><tr><td>æ”¯ä»˜æµæ°´å·</td><td>å”¯ä¸€ã€é«˜å¯ç”¨ã€é˜²é‡å¤ã€å¯è¿½æº¯</td><td>æ•°æ®åº“è‡ªå¢ IDï¼ˆå•ç‚¹æ•…éšœï¼‰</td><td>å¸¦æ ¡éªŒä½çš„é›ªèŠ±ä¼˜åŒ–ç®—æ³•</td></tr></tbody></table>
<h4 data-id="heading-2">åˆ†å¸ƒå¼ ID çš„é€šç”¨æ ¸å¿ƒè¯‰æ±‚ï¼ˆå¿…æ»¡è¶³ï¼‰</h4>
<ol>
<li><strong>å”¯ä¸€æ€§</strong>ï¼šåˆ†å¸ƒå¼é›†ç¾¤ä¸‹ç»å¯¹ä¸é‡å¤ï¼ˆæ ¸å¿ƒåº•çº¿ï¼‰ï¼›</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šå•æœº QPS è‡³å°‘ 10 ä¸‡ +ï¼Œæ— é˜»å¡ã€ä½å»¶è¿Ÿï¼›</li>
<li><strong>é«˜å¯ç”¨</strong>ï¼šæœåŠ¡é›†ç¾¤åŒ–éƒ¨ç½²ï¼Œæ— å•ç‚¹æ•…éšœï¼›</li>
<li><strong>æœ‰åºæ€§</strong>ï¼šè‡³å°‘è¶‹åŠ¿é€’å¢ï¼ˆä¿è¯æ•°æ®åº“ç´¢å¼•æ€§èƒ½ï¼‰ï¼›</li>
<li><strong>å¯æ‰©å±•</strong>ï¼šæ”¯æŒé›†ç¾¤æ‰©å®¹ï¼Œæœºå™¨ ID åˆ†é…çµæ´»ï¼›</li>
<li><strong>å®¹é”™æ€§</strong>ï¼šèƒ½å¤„ç†æ—¶é’Ÿå›æ‹¨ã€ç½‘ç»œæŠ–åŠ¨ç­‰å¼‚å¸¸åœºæ™¯ã€‚</li>
</ol>
<h3 data-id="heading-3">äºŒã€ä¼ ç»Ÿåˆ†å¸ƒå¼ ID æ–¹æ¡ˆçš„è‡´å‘½ç—›ç‚¹</h3>
<p>åœ¨é›ªèŠ±ç®—æ³•æ™®åŠå‰ï¼Œæˆ‘ä»¬è¯•è¿‡å¤šç§æ–¹æ¡ˆï¼Œæ¯ä¸€ç§éƒ½æœ‰æ— æ³•å›é¿çš„é—®é¢˜ï¼š</p>
<h4 data-id="heading-4">1. æ•°æ®åº“è‡ªå¢ IDï¼ˆæœ€åŸºç¡€ä½†æœ€å‘ï¼‰</h4>
<ul>
<li><strong>å®ç°</strong>ï¼šå•åº“å•è¡¨è‡ªå¢ï¼Œæˆ–åˆ†åº“åˆ†è¡¨æ—¶æŒ‰åˆ†æ®µï¼ˆå¦‚åº“ 1 ç”Ÿæˆ 1-1000ï¼Œåº“ 2 ç”Ÿæˆ 1001-2000ï¼‰ï¼›</li>
<li><strong>ç—›ç‚¹</strong>ï¼šå•ç‚¹æ•…éšœï¼ˆæ•°æ®åº“æŒ‚äº†å°±æ— æ³•ç”Ÿæˆ IDï¼‰ã€æ€§èƒ½ç“¶é¢ˆï¼ˆå•æœº QPS ä»…åƒçº§ï¼‰ã€æ‰©å®¹éš¾ï¼ˆåˆ†æ®µè§„åˆ™æ”¹èµ·æ¥ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼‰ï¼›</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»…é€‚ç”¨äºå°æµé‡ã€ä½å¹¶å‘çš„éæ ¸å¿ƒç³»ç»Ÿã€‚</li>
</ul>
<h4 data-id="heading-5">2. UUID/GUIDï¼ˆæœ€çœäº‹ä½†æ€§èƒ½æœ€å·®ï¼‰</h4>
<ul>
<li><strong>å®ç°</strong>ï¼šæœ¬åœ°ç”Ÿæˆ 32 ä½éšæœºå­—ç¬¦ä¸²ï¼Œæ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹ï¼›</li>
<li><strong>ç—›ç‚¹</strong>ï¼šæ— åºï¼ˆæ•°æ®åº“ B + æ ‘ç´¢å¼•é¢‘ç¹åˆ†è£‚ï¼Œæ€§èƒ½æš´è·Œï¼‰ã€å ç©ºé—´ï¼ˆ32 ä½å­—ç¬¦ä¸²æ¯” 8 ä½ Long å¤š 4 å€å­˜å‚¨ï¼‰ã€æ— ä¸šåŠ¡å«ä¹‰ï¼ˆæ’æŸ¥é—®é¢˜æ—¶æ— æ³•é€šè¿‡ ID åˆ¤æ–­ç”Ÿæˆæ—¶é—´ / æœºå™¨ï¼‰ï¼›</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»…é€‚ç”¨äºéæ ¸å¿ƒã€ä½æŸ¥è¯¢é¢‘ç‡çš„åœºæ™¯ï¼ˆå¦‚æ—¥å¿— IDï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">3. æ•°æ®åº“åˆ†æ®µ IDï¼ˆæŠ˜ä¸­ä½†ä»æœ‰ç“¶é¢ˆï¼‰</h4>
<ul>
<li><strong>å®ç°</strong>ï¼šä»æ•°æ®åº“è·å–ä¸€æ®µ IDï¼ˆå¦‚ 1000 ä¸ªï¼‰ç¼“å­˜åˆ°æœ¬åœ°ï¼Œç”¨å®Œå†å»å–ï¼›</li>
<li><strong>ç—›ç‚¹</strong>ï¼šä»ä¾èµ–æ•°æ®åº“ï¼ˆå•ç‚¹é£é™©ï¼‰ã€åˆ†æ®µå¤§å°éš¾æŠŠæ§ï¼ˆå¤ªå°é¢‘ç¹æŸ¥åº“ï¼Œå¤ªå¤§å¯¼è‡´ ID æµªè´¹ï¼‰ã€é›†ç¾¤æ‰©å®¹æ—¶æ˜“å‡ºç°åˆ†æ®µå†²çªï¼›</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸­ä½å¹¶å‘åœºæ™¯ï¼Œä¸”èƒ½æ¥å—æ•°æ®åº“ä¾èµ–ã€‚</li>
</ul>
<h4 data-id="heading-7">4. åŸç”Ÿé›ªèŠ±ç®—æ³•ï¼ˆçœ‹ä¼¼å®Œç¾ä½†æœ‰è‡´å‘½ç¼ºé™·ï¼‰</h4>
<p>é›ªèŠ±ç®—æ³•ï¼ˆSnowflakeï¼‰ç”± Twitter å¼€æºï¼Œæ ¸å¿ƒæ˜¯å°† 64 ä½ Long å‹ ID åˆ†æˆ 4 éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs">0ï¼ˆç¬¦å·ä½ï¼‰ + 41ä½æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ + 10ä½æœºå™¨ID + 12ä½åºåˆ—å·
</code></pre>
<ul>
<li>
<p><strong>ä¼˜åŠ¿</strong>ï¼šæœ¬åœ°ç”Ÿæˆã€é«˜æ€§èƒ½ã€è¶‹åŠ¿é€’å¢ã€å«æœºå™¨ / æ—¶é—´ä¿¡æ¯ï¼›</p>
</li>
<li>
<p><strong>åŸç”Ÿç¼ºé™·ï¼ˆç”Ÿäº§å¿…è¸©å‘ï¼‰</strong> ï¼š</p>
<ul>
<li>æ—¶é’Ÿå›æ‹¨ï¼šæœºå™¨æ—¶é’Ÿå›æ‹¨ä¼šå¯¼è‡´ ID é‡å¤ï¼ˆçº¿ä¸Šæœ€å¸¸è§æ•…éšœï¼‰ï¼›</li>
<li>æœºå™¨ ID åˆ†é…ï¼šæ‰‹åŠ¨é…ç½®æ˜“é‡å¤ï¼Œé›†ç¾¤æ‰©å®¹æ—¶ç®¡ç†æˆæœ¬é«˜ï¼›</li>
<li>åºåˆ—å·è€—å°½ï¼š1 æ¯«ç§’å†…ç”Ÿæˆè¶…è¿‡ 4096 ä¸ª IDï¼ˆ12 ä½åºåˆ—å·ä¸Šé™ï¼‰ä¼šé˜»å¡ï¼›</li>
<li>å¯ç”¨æ€§ï¼šæ— é›†ç¾¤åŒ–è®¾è®¡ï¼Œå•èŠ‚ç‚¹æ•…éšœç›´æ¥å½±å“ä¸šåŠ¡ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€é›ªèŠ±ç®—æ³•ä¼˜åŒ–ä¸é«˜å¯ç”¨å®ç°ï¼ˆç”Ÿäº§çº§æ–¹æ¡ˆï¼‰</h3>
<p>é’ˆå¯¹åŸç”Ÿé›ªèŠ±ç®—æ³•çš„ç¼ºé™·ï¼Œæˆ‘ç»“åˆç”Ÿäº§ç»éªŒåšäº†å…¨æ–¹ä½ä¼˜åŒ–ï¼Œæœ€ç»ˆå½¢æˆä¸€å¥— â€œé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®¹é”™â€ çš„åˆ†å¸ƒå¼ ID ç”Ÿæˆæ–¹æ¡ˆï¼Œä»¥ä¸‹æ˜¯æ ¸å¿ƒä¼˜åŒ–ç‚¹å’Œå®Œæ•´å®ç°ã€‚</p>
<h4 data-id="heading-9">1. æ ¸å¿ƒä¼˜åŒ–æ€è·¯æ‹†è§£</h4>
<p>åŸç”Ÿé›ªèŠ±ç®—æ³•</p>
<p>æœºå™¨IDåŠ¨æ€åˆ†é…ï¼ˆZooKeeper/ETCDï¼‰</p>
<p>æ—¶é’Ÿå›æ‹¨å®¹é”™ï¼ˆæ£€æµ‹+ç­‰å¾…+é¢„ç•™åºåˆ—å·ï¼‰</p>
<p>æ€§èƒ½ä¼˜åŒ–ï¼ˆIDæ± +æ— é”åŒ–ï¼‰</p>
<p>é«˜å¯ç”¨éƒ¨ç½²ï¼ˆé›†ç¾¤+é™çº§ï¼‰</p>
<p>ç›‘æ§å‘Šè­¦ï¼ˆIDç”Ÿæˆå¤±è´¥ã€æ—¶é’Ÿå¼‚å¸¸ï¼‰</p>
<p>åŸç”Ÿé›ªèŠ±ç®—æ³•</p>
<p>æœºå™¨IDåŠ¨æ€åˆ†é…ï¼ˆZooKeeper/ETCDï¼‰</p>
<p>æ—¶é’Ÿå›æ‹¨å®¹é”™ï¼ˆæ£€æµ‹+ç­‰å¾…+é¢„ç•™åºåˆ—å·ï¼‰</p>
<p>æ€§èƒ½ä¼˜åŒ–ï¼ˆIDæ± +æ— é”åŒ–ï¼‰</p>
<p>é«˜å¯ç”¨éƒ¨ç½²ï¼ˆé›†ç¾¤+é™çº§ï¼‰</p>
<p>ç›‘æ§å‘Šè­¦ï¼ˆIDç”Ÿæˆå¤±è´¥ã€æ—¶é’Ÿå¼‚å¸¸ï¼‰</p>
<h4 data-id="heading-10">2. ä¼˜åŒ–ç‚¹ 1ï¼šæœºå™¨ ID åŠ¨æ€åˆ†é…ï¼ˆè§£å†³æ‰‹åŠ¨é…ç½®é‡å¤é—®é¢˜ï¼‰</h4>
<h5 data-id="heading-11">æ ¸å¿ƒé—®é¢˜</h5>
<p>åŸç”Ÿé›ªèŠ±ç®—æ³•çš„ 10 ä½æœºå™¨ ID éœ€è¦æ‰‹åŠ¨é…ç½®ï¼ˆå¦‚é…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ï¼‰ï¼Œé›†ç¾¤æ‰©å®¹æ—¶æ˜“å‡ºç°é‡å¤ï¼Œä¸”æ•…éšœæœºå™¨çš„ ID æ— æ³•è‡ªåŠ¨å›æ”¶ã€‚</p>
<h5 data-id="heading-12">ä¼˜åŒ–æ–¹æ¡ˆ</h5>
<p>åŸºäº ZooKeeper å®ç°æœºå™¨ ID çš„è‡ªåŠ¨åˆ†é…ä¸å›æ”¶ï¼š</p>
<ul>
<li>å¯åŠ¨æ—¶å‘ ZK çš„<code>/snowflake/machine_id</code>èŠ‚ç‚¹æ³¨å†Œä¸´æ—¶èŠ‚ç‚¹ï¼Œè·å–æœªè¢«å ç”¨çš„æœºå™¨ IDï¼›</li>
<li>èŠ‚ç‚¹ç±»å‹ä¸ºä¸´æ—¶èŠ‚ç‚¹ï¼Œæœºå™¨å®•æœºå ZK è‡ªåŠ¨åˆ é™¤èŠ‚ç‚¹ï¼Œé‡Šæ”¾æœºå™¨ IDï¼›</li>
<li>æœºå™¨ ID èŒƒå›´é™åˆ¶åœ¨ 0-1023ï¼ˆé€‚é… 10 ä½æœºå™¨ IDï¼‰ï¼Œè¶…å‡ºåˆ™å‘Šè­¦ã€‚</li>
</ul>
<h5 data-id="heading-13">Java å®ç°ï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ZkMachineIdGenerator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MachineIdGenerator</span> {
    <span class="hljs-comment">// ZKè¿æ¥åœ°å€</span>
    <span class="hljs-meta">@Value("${snowflake.zk.address}")</span>
    <span class="hljs-keyword">private</span> String zkAddress;
    <span class="hljs-comment">// ZKæ ¹èŠ‚ç‚¹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ZK_ROOT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/snowflake/machine_id"</span>;
    <span class="hljs-comment">// æœ€å¤§æœºå™¨IDï¼ˆ10ä½ï¼Œ0-1023ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MAX_MACHINE_ID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1023</span>;
    <span class="hljs-keyword">private</span> CuratorFramework client;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> machineId;

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–ZKå®¢æˆ·ç«¯</span>
        client = CuratorFrameworkFactory.builder()
                .connectString(zkAddress)
                .sessionTimeoutMs(<span class="hljs-number">5000</span>)
                .connectionTimeoutMs(<span class="hljs-number">5000</span>)
                .retryPolicy(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ExponentialBackoffRetry</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">3</span>))
                .build();
        client.start();

        <span class="hljs-comment">// åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼ˆæŒä¹…ï¼‰</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (client.checkExists().forPath(ZK_ROOT) == <span class="hljs-literal">null</span>) {
                client.create().creatingParentsIfNeeded().forPath(ZK_ROOT);
            }
            <span class="hljs-comment">// åˆ†é…æœºå™¨ID</span>
            machineId = allocateMachineId();
            log.info(<span class="hljs-string">"æˆåŠŸåˆ†é…æœºå™¨IDï¼š{}"</span>, machineId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ZKåˆ†é…æœºå™¨IDå¤±è´¥"</span>, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœºå™¨IDåˆ†é…å¤±è´¥ï¼Œæ— æ³•å¯åŠ¨IDç”ŸæˆæœåŠ¡"</span>);
        }
    }

    <span class="hljs-comment">// åˆ†é…æœªè¢«å ç”¨çš„æœºå™¨ID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">allocateMachineId</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= MAX_MACHINE_ID; i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> ZK_ROOT + <span class="hljs-string">"/"</span> + i;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹ï¼ŒæˆåŠŸåˆ™å ç”¨è¯¥ID</span>
                client.create().withMode(CreateMode.EPHEMERAL).forPath(path);
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">catch</span> (NodeExistsException e) {
                <span class="hljs-comment">// è¯¥IDå·²è¢«å ç”¨ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ª</span>
                <span class="hljs-keyword">continue</span>;
            }
        }
        <span class="hljs-comment">// æ‰€æœ‰IDéƒ½è¢«å ç”¨ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœºå™¨IDæ± è€—å°½ï¼Œæ— æ³•åˆ†é…æ–°ID"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMachineId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> machineId;
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (client != <span class="hljs-literal">null</span>) {
            client.close();
        }
    }
}
</code></pre>
<h4 data-id="heading-14">3. ä¼˜åŒ–ç‚¹ 2ï¼šæ—¶é’Ÿå›æ‹¨å®¹é”™ï¼ˆè§£å†³ ID é‡å¤æ ¸å¿ƒé—®é¢˜ï¼‰</h4>
<h5 data-id="heading-15">æ ¸å¿ƒé—®é¢˜</h5>
<p>æœºå™¨æ—¶é’Ÿå›  NTP åŒæ­¥ã€äººä¸ºè°ƒæ•´ç­‰åŸå› å›æ‹¨ï¼Œä¼šå¯¼è‡´ç”Ÿæˆçš„ ID æ—¶é—´æˆ³å°äºä¸Šæ¬¡ç”Ÿæˆçš„ï¼Œè‹¥æ­¤æ—¶åºåˆ—å·æœªé‡ç½®ï¼Œä¼šå‡ºç° ID é‡å¤ã€‚</p>
<h5 data-id="heading-16">ä¼˜åŒ–æ–¹æ¡ˆï¼ˆä¸‰å±‚é˜²æŠ¤ï¼‰</h5>
<ol>
<li><strong>æ—¶é’Ÿå›æ‹¨æ£€æµ‹</strong>ï¼šæ¯æ¬¡ç”Ÿæˆ ID æ—¶ï¼Œå¯¹æ¯”å½“å‰æ—¶é—´æˆ³ä¸ä¸Šæ¬¡ç”Ÿæˆçš„æ—¶é—´æˆ³ï¼Œè‹¥å›æ‹¨åˆ™è§¦å‘å®¹é”™ï¼›</li>
<li><strong>çŸ­æœŸå›æ‹¨ï¼ˆ&lt;5msï¼‰</strong> ï¼šç­‰å¾…æ—¶é’ŸåŒæ­¥ï¼ˆsleep ç›´åˆ°æ—¶é—´æˆ³å¤§äºä¸Šæ¬¡ï¼‰ï¼›</li>
<li><strong>é•¿æœŸå›æ‹¨ï¼ˆâ‰¥5msï¼‰</strong> ï¼šæ‹’ç»ç”Ÿæˆ ID å¹¶å‘Šè­¦ï¼ˆé¿å…é•¿æ—¶é—´ç­‰å¾…å¯¼è‡´ä¸šåŠ¡é˜»å¡ï¼‰ï¼›</li>
<li><strong>é¢„ç•™åºåˆ—å·</strong>ï¼šåœ¨æ—¶é—´æˆ³ç›¸åŒä¸”åºåˆ—å·è€—å°½æ—¶ï¼Œä¸»åŠ¨æ¨è¿›æ—¶é—´æˆ³ï¼ˆ+1msï¼‰ï¼Œé‡ç½®åºåˆ—å·ã€‚</li>
</ol>
<h5 data-id="heading-17">Java å®ç°ï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizedSnowflakeIdGenerator</span> {
    <span class="hljs-comment">// åŸºç¡€é…ç½®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">START_TIMESTAMP</span> <span class="hljs-operator">=</span> <span class="hljs-number">1735689600000L</span>; <span class="hljs-comment">// 2025-01-01 00:00:00ï¼ˆè‡ªå®šä¹‰èµ·å§‹æ—¶é—´ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">MACHINE_ID_BITS</span> <span class="hljs-operator">=</span> <span class="hljs-number">10L</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">SEQUENCE_BITS</span> <span class="hljs-operator">=</span> <span class="hljs-number">12L</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_MACHINE_ID</span> <span class="hljs-operator">=</span> (<span class="hljs-number">1</span> &lt;&lt; MACHINE_ID_BITS) - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_SEQUENCE</span> <span class="hljs-operator">=</span> (<span class="hljs-number">1</span> &lt;&lt; SEQUENCE_BITS) - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">MACHINE_ID_SHIFT</span> <span class="hljs-operator">=</span> SEQUENCE_BITS;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">TIMESTAMP_SHIFT</span> <span class="hljs-operator">=</span> SEQUENCE_BITS + MACHINE_ID_BITS;

    <span class="hljs-comment">// æ ¸å¿ƒå˜é‡ï¼ˆvolatileä¿è¯å¯è§æ€§ï¼ŒAtomicLongä¿è¯åŸå­æ€§ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">long</span> <span class="hljs-variable">lastTimestamp</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">AtomicLong</span> <span class="hljs-variable">sequence</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0L</span>);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> machineId;

    <span class="hljs-comment">// æ—¶é’Ÿå›æ‹¨é˜ˆå€¼ï¼ˆ5msï¼‰</span>
    <span class="hljs-meta">@Value("${snowflake.clock.back.threshold:5}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> clockBackThreshold;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OptimizedSnowflakeIdGenerator</span><span class="hljs-params">(MachineIdGenerator machineIdGenerator)</span> {
        <span class="hljs-built_in">this</span>.machineId = machineIdGenerator.getMachineId();
        <span class="hljs-comment">// æ ¡éªŒæœºå™¨ID</span>
        <span class="hljs-keyword">if</span> (machineId &lt; <span class="hljs-number">0</span> || machineId &gt; MAX_MACHINE_ID) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æœºå™¨IDè¶…å‡ºèŒƒå›´ï¼š0-"</span> + MAX_MACHINE_ID);
        }
    }

    <span class="hljs-comment">// ç”ŸæˆIDæ ¸å¿ƒæ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">nextId</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">currentTimestamp</span> <span class="hljs-operator">=</span> getCurrentTimestamp();
        <span class="hljs-type">long</span> <span class="hljs-variable">lastTs</span> <span class="hljs-operator">=</span> lastTimestamp;

        <span class="hljs-comment">// 1. æ—¶é’Ÿå›æ‹¨æ£€æµ‹</span>
        <span class="hljs-keyword">if</span> (currentTimestamp &lt; lastTs) {
            <span class="hljs-type">long</span> <span class="hljs-variable">backTime</span> <span class="hljs-operator">=</span> lastTs - currentTimestamp;
            log.warn(<span class="hljs-string">"æ—¶é’Ÿå›æ‹¨æ£€æµ‹ï¼šå½“å‰æ—¶é—´æˆ³{}ï¼Œä¸Šæ¬¡æ—¶é—´æˆ³{}ï¼Œå›æ‹¨{}ms"</span>, currentTimestamp, lastTs, backTime);
            <span class="hljs-comment">// çŸ­æœŸå›æ‹¨ï¼šç­‰å¾…æ—¶é’ŸåŒæ­¥</span>
            <span class="hljs-keyword">if</span> (backTime &lt;= clockBackThreshold) {
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(backTime + <span class="hljs-number">1</span>);
                    currentTimestamp = getCurrentTimestamp();
                    <span class="hljs-comment">// å†æ¬¡æ£€æµ‹ï¼Œä»å›æ‹¨åˆ™æŠ›å¼‚å¸¸</span>
                    <span class="hljs-keyword">if</span> (currentTimestamp &lt; lastTs) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ—¶é’Ÿå›æ‹¨è¶…è¿‡é˜ˆå€¼ï¼Œæ— æ³•ç”ŸæˆIDï¼šå›æ‹¨"</span> + backTime + <span class="hljs-string">"ms"</span>);
                    }
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ç­‰å¾…æ—¶é’ŸåŒæ­¥æ—¶è¢«ä¸­æ–­"</span>, e);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// é•¿æœŸå›æ‹¨ï¼šç›´æ¥æŠ›å¼‚å¸¸å¹¶å‘Šè­¦</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ—¶é’Ÿå›æ‹¨ä¸¥é‡ï¼Œæ‹’ç»ç”ŸæˆIDï¼šå›æ‹¨"</span> + backTime + <span class="hljs-string">"ms"</span>);
            }
        }

        <span class="hljs-comment">// 2. æ—¶é—´æˆ³ç›¸åŒï¼šé€’å¢åºåˆ—å·</span>
        <span class="hljs-keyword">if</span> (currentTimestamp == lastTs) {
            <span class="hljs-type">long</span> <span class="hljs-variable">seq</span> <span class="hljs-operator">=</span> sequence.incrementAndGet();
            <span class="hljs-comment">// åºåˆ—å·è€—å°½ï¼šæ¨è¿›æ—¶é—´æˆ³ï¼Œé‡ç½®åºåˆ—å·</span>
            <span class="hljs-keyword">if</span> (seq &gt; MAX_SEQUENCE) {
                log.warn(<span class="hljs-string">"1mså†…åºåˆ—å·è€—å°½ï¼Œæ¨è¿›æ—¶é—´æˆ³"</span>);
                currentTimestamp = getNextTimestamp(lastTs);
                sequence.set(<span class="hljs-number">0L</span>);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// 3. æ—¶é—´æˆ³ä¸åŒï¼šé‡ç½®åºåˆ—å·</span>
            sequence.set(<span class="hljs-number">0L</span>);
        }

        <span class="hljs-comment">// æ›´æ–°ä¸Šæ¬¡æ—¶é—´æˆ³</span>
        lastTimestamp = currentTimestamp;

        <span class="hljs-comment">// 4. æ‹¼æ¥ID</span>
        <span class="hljs-keyword">return</span> ((currentTimestamp - START_TIMESTAMP) &lt;&lt; TIMESTAMP_SHIFT)
                | ((<span class="hljs-type">long</span>) machineId &lt;&lt; MACHINE_ID_SHIFT)
                | sequence.get();
    }

    <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getCurrentTimestamp</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> System.currentTimeMillis();
    }

    <span class="hljs-comment">// æ¨è¿›æ—¶é—´æˆ³ç›´åˆ°å¤§äºä¸Šæ¬¡æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getNextTimestamp</span><span class="hljs-params">(<span class="hljs-type">long</span> lastTs)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">ts</span> <span class="hljs-operator">=</span> getCurrentTimestamp();
        <span class="hljs-keyword">while</span> (ts &lt;= lastTs) {
            ts = getCurrentTimestamp();
        }
        <span class="hljs-keyword">return</span> ts;
    }
}
</code></pre>
<h4 data-id="heading-18">4. ä¼˜åŒ–ç‚¹ 3ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆID æ±  + æ— é”åŒ–ï¼ŒQPS æå‡ 10 å€ï¼‰</h4>
<h5 data-id="heading-19">æ ¸å¿ƒé—®é¢˜</h5>
<p>åŸç”Ÿé›ªèŠ±ç®—æ³•æ¯æ¬¡ç”Ÿæˆ ID éƒ½è¦åšåŸå­æ“ä½œï¼ˆAtomicLong é€’å¢ï¼‰ï¼Œé«˜å¹¶å‘ä¸‹ä¼šæœ‰ CAS ç«äº‰ï¼Œå¯¼è‡´æ€§èƒ½ç“¶é¢ˆï¼›å•æ¬¡ç”Ÿæˆ ID ä¹Ÿæ— æ³•æ»¡è¶³æ‰¹é‡ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚æ‰¹é‡ä¸‹å•ï¼‰ã€‚</p>
<h5 data-id="heading-20">ä¼˜åŒ–æ–¹æ¡ˆ</h5>
<ol>
<li><strong>æœ¬åœ° ID æ± </strong>ï¼šé¢„ç”Ÿæˆä¸€æ‰¹ ID ç¼“å­˜åˆ°æœ¬åœ°é˜Ÿåˆ—ï¼Œä¸šåŠ¡å– ID æ—¶ç›´æ¥ä»é˜Ÿåˆ—æ‹¿ï¼Œé˜Ÿåˆ—ç©ºäº†å†æ‰¹é‡ç”Ÿæˆï¼›</li>
<li><strong>æ— é”åŒ–è®¾è®¡</strong>ï¼šæ‰¹é‡ç”Ÿæˆ ID æ—¶ï¼Œä¸€æ¬¡æ€§åˆ†é…ä¸€æ®µåºåˆ—å·ï¼ˆå¦‚ 1000 ä¸ªï¼‰ï¼Œæœ¬åœ°ç”¨æ™®é€šå˜é‡é€’å¢ï¼Œå‡å°‘ CAS ç«äº‰ï¼›</li>
<li><strong>çº¿ç¨‹æ± å¼‚æ­¥å¡«å……</strong>ï¼šé˜Ÿåˆ—å‰©ä½™é‡ä½äºé˜ˆå€¼æ—¶ï¼Œå¼‚æ­¥å¡«å…… ID æ± ï¼Œé¿å…ä¸šåŠ¡çº¿ç¨‹é˜»å¡ã€‚</li>
</ol>
<h5 data-id="heading-21">Java å®ç°ï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SnowflakeIdPool</span> {
    <span class="hljs-comment">// IDæ± å¤§å°</span>
    <span class="hljs-meta">@Value("${snowflake.pool.size:10000}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> poolSize;
    <span class="hljs-comment">// è¡¥å……é˜ˆå€¼ï¼ˆå‰©ä½™20%æ—¶å¡«å……ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">FILL_THRESHOLD_RATIO</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">private</span> BlockingQueue&lt;Long&gt; idQueue;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OptimizedSnowflakeIdGenerator idGenerator;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">scheduler</span> <span class="hljs-operator">=</span> Executors.newSingleThreadScheduledExecutor();

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SnowflakeIdPool</span><span class="hljs-params">(OptimizedSnowflakeIdGenerator idGenerator)</span> {
        <span class="hljs-built_in">this</span>.idGenerator = idGenerator;
        <span class="hljs-comment">// åˆå§‹åŒ–IDæ± ï¼ˆæ— ç•Œé˜Ÿåˆ—ï¼Œé¿å…æº¢å‡ºï¼‰</span>
        <span class="hljs-built_in">this</span>.idQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(poolSize);
        <span class="hljs-comment">// é¢„å¡«å……IDæ± </span>
        fillIdPool();
        <span class="hljs-comment">// å®šæ—¶æ£€æŸ¥å¹¶å¡«å……IDæ± ï¼ˆæ¯100msæ£€æŸ¥ä¸€æ¬¡ï¼‰</span>
        scheduler.scheduleAtFixedRate(<span class="hljs-built_in">this</span>::fillIdPoolIfNeeded, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);
    }

    <span class="hljs-comment">// è·å–IDï¼ˆä»æ± å­é‡Œæ‹¿ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// é˜»å¡è·å–ï¼Œæœ€å¤šç­‰å¾…1ç§’ï¼ˆé¿å…æ— é™é˜»å¡ï¼‰</span>
            <span class="hljs-type">Long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> idQueue.poll(<span class="hljs-number">1</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (id == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"IDæ± ä¸ºç©ºï¼Œè·å–IDè¶…æ—¶"</span>);
            }
            <span class="hljs-keyword">return</span> id;
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è·å–IDæ—¶è¢«ä¸­æ–­"</span>, e);
        }
    }

    <span class="hljs-comment">// æ‰¹é‡è·å–ID</span>
    <span class="hljs-keyword">public</span> List&lt;Long&gt; <span class="hljs-title function_">getIds</span><span class="hljs-params">(<span class="hljs-type">int</span> count)</span> {
        <span class="hljs-keyword">if</span> (count &lt;= <span class="hljs-number">0</span> || count &gt; poolSize) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æ‰¹é‡è·å–æ•°é‡è¶…å‡ºèŒƒå›´"</span>);
        }
        List&lt;Long&gt; ids = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(count);
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; count; i++) {
            ids.add(getId());
        }
        <span class="hljs-keyword">return</span> ids;
    }

    <span class="hljs-comment">// å¡«å……IDæ± </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fillIdPool</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">needFill</span> <span class="hljs-operator">=</span> poolSize - idQueue.size();
        <span class="hljs-keyword">if</span> (needFill &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// æ‰¹é‡ç”ŸæˆIDï¼Œå¡«å……åˆ°é˜Ÿåˆ—</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; needFill; i++) {
            idQueue.offer(idGenerator.nextId());
        }
        log.info(<span class="hljs-string">"IDæ± å¡«å……å®Œæˆï¼Œå½“å‰å‰©ä½™ï¼š{}"</span>, idQueue.size());
    }

    <span class="hljs-comment">// æŒ‰éœ€å¡«å……ï¼ˆå‰©ä½™é‡ä½äºé˜ˆå€¼æ—¶ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fillIdPoolIfNeeded</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">threshold</span> <span class="hljs-operator">=</span> poolSize * FILL_THRESHOLD_RATIO / <span class="hljs-number">100</span>;
        <span class="hljs-keyword">if</span> (idQueue.size() &lt; threshold) {
            fillIdPool();
        }
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        scheduler.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!scheduler.awaitTermination(<span class="hljs-number">1</span>, TimeUnit.SECONDS)) {
                scheduler.shutdownNow();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            scheduler.shutdownNow();
        }
    }
}
</code></pre>
<h4 data-id="heading-22">5. ä¼˜åŒ–ç‚¹ 4ï¼šé«˜å¯ç”¨éƒ¨ç½²ä¸é™çº§ç­–ç•¥</h4>
<h5 data-id="heading-23">éƒ¨ç½²æ¶æ„</h5>
<p>é‡‡ç”¨ â€œé›†ç¾¤åŒ–éƒ¨ç½² + å®¢æˆ·ç«¯æœ¬åœ°ç¼“å­˜ + é™çº§æ–¹æ¡ˆâ€ï¼š</p>
<ol>
<li><strong>é›†ç¾¤åŒ–</strong>ï¼šID ç”ŸæˆæœåŠ¡éƒ¨ç½²å¤šèŠ‚ç‚¹ï¼Œæ³¨å†Œåˆ° Nacos/Eurekaï¼Œå®¢æˆ·ç«¯é€šè¿‡è´Ÿè½½å‡è¡¡è°ƒç”¨ï¼›</li>
<li><strong>æœ¬åœ°ç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯ç¼“å­˜ä¸€æ‰¹ IDï¼ˆå¦‚ 1000 ä¸ªï¼‰ï¼Œå³ä½¿ ID æœåŠ¡é›†ç¾¤å®•æœºï¼Œä»èƒ½æ”¯æ’‘çŸ­æœŸä¸šåŠ¡ï¼›</li>
<li><strong>é™çº§ç­–ç•¥</strong>ï¼šID æœåŠ¡å®Œå…¨ä¸å¯ç”¨æ—¶ï¼Œä¸´æ—¶åˆ‡æ¢ä¸º â€œUUID + æ—¶é—´æˆ³â€ æ–¹æ¡ˆï¼ˆä¿è¯ä¸šåŠ¡ä¸ä¸­æ–­ï¼Œäº‹åéœ€æ¸…ç†æ•°æ®ï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-24">é™çº§å®ç°ï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IdGeneratorFacade</span> {
    <span class="hljs-comment">// æ˜¯å¦å¼€å¯é™çº§</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">degrade</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-comment">// æœ¬åœ°IDç¼“å­˜</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SnowflakeIdPool snowflakeIdPool;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">IdGeneratorFacade</span><span class="hljs-params">(SnowflakeIdPool snowflakeIdPool)</span> {
        <span class="hljs-built_in">this</span>.snowflakeIdPool = snowflakeIdPool;
    }

    <span class="hljs-comment">// è·å–IDï¼ˆè‡ªåŠ¨é™çº§ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (!degrade) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> snowflakeIdPool.getId();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"é›ªèŠ±ç®—æ³•ç”ŸæˆIDå¤±è´¥ï¼Œè§¦å‘é™çº§"</span>, e);
                degrade = <span class="hljs-literal">true</span>;
                <span class="hljs-comment">// é™çº§åè°ƒç”¨UUIDæ–¹æ¡ˆ</span>
                <span class="hljs-keyword">return</span> generateDegradeId();
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> generateDegradeId();
        }
    }

    <span class="hljs-comment">// é™çº§æ–¹æ¡ˆï¼šUUID+æ—¶é—´æˆ³ï¼ˆä¿è¯å”¯ä¸€ï¼Œç‰ºç‰²æœ‰åºæ€§ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">generateDegradeId</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å–UUIDçš„å16ä½è½¬Longï¼ˆç®€åŒ–ç‰ˆï¼Œç”Ÿäº§å¯ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">uuid</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">suffix</span> <span class="hljs-operator">=</span> uuid.substring(uuid.length() - <span class="hljs-number">16</span>);
        <span class="hljs-keyword">return</span> Long.parseLong(suffix, <span class="hljs-number">16</span>);
    }

    <span class="hljs-comment">// æ‰‹åŠ¨æ¢å¤æ­£å¸¸æ¨¡å¼</span>
    <span class="hljs-meta">@PostMapping("/id/generator/recover")</span>
    <span class="hljs-keyword">public</span> ApiResponse&lt;Void&gt; <span class="hljs-title function_">recover</span><span class="hljs-params">()</span> {
        degrade = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> ApiResponse.success(<span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h4 data-id="heading-25">6. ç›‘æ§ä¸å‘Šè­¦ï¼ˆç”Ÿäº§å¿…å¤‡ï¼‰</h4>
<p>æ·»åŠ å…³é”®ç›‘æ§æŒ‡æ ‡ï¼Œç¡®ä¿é—®é¢˜æ—©å‘ç°ï¼š</p>
<ol>
<li><strong>ID ç”ŸæˆæˆåŠŸç‡</strong>ï¼šä½äº 99.9% åˆ™å‘Šè­¦ï¼›</li>
<li><strong>ID æ± å‰©ä½™é‡</strong>ï¼šä½äº 10% åˆ™å‘Šè­¦ï¼›</li>
<li><strong>æ—¶é’Ÿå›æ‹¨æ¬¡æ•°</strong>ï¼šé 0 åˆ™å‘Šè­¦ï¼›</li>
<li><strong>æœºå™¨ ID åˆ†é…å¤±è´¥æ¬¡æ•°</strong>ï¼šé 0 åˆ™å‘Šè­¦ã€‚</li>
</ol>
<p>ç¤ºä¾‹ï¼ˆåŸºäº Prometheus+Grafanaï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡</span>
@Bean
<span class="hljs-function"><span class="hljs-keyword">public</span> MeterRegistryCustomizer&lt;MeterRegistry&gt; <span class="hljs-title">metricsCustomizer</span>()</span> {
    <span class="hljs-keyword">return</span> registry -&gt; registry.counter(<span class="hljs-string">"snowflake.id.generate.failure"</span>)
            .description(<span class="hljs-string">"é›ªèŠ±ç®—æ³•IDç”Ÿæˆå¤±è´¥æ¬¡æ•°"</span>);
}

<span class="hljs-comment">// ç”ŸæˆIDå¤±è´¥æ—¶ç´¯åŠ æŒ‡æ ‡</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> <span class="hljs-title">getId</span>()</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> snowflakeIdPool.getId();
    } <span class="hljs-keyword">catch</span> (Exception e) {
        Metrics.counter(<span class="hljs-string">"snowflake.id.generate.failure"</span>).increment();
        <span class="hljs-comment">// é™çº§é€»è¾‘...</span>
    }
}
</code></pre>
<h3 data-id="heading-26">å››ã€æ–¹æ¡ˆå¯ä¿¡æ€§éªŒè¯ï¼ˆç”Ÿäº§çº§æ•°æ®ï¼‰</h3>
<h4 data-id="heading-27">1. æ€§èƒ½å‹æµ‹</h4>
<p>æµ‹è¯•ç¯å¢ƒï¼š4 æ ¸ 8G æœåŠ¡å™¨ï¼ŒJDK17ï¼ŒZK é›†ç¾¤ 3 èŠ‚ç‚¹ï¼›å‹æµ‹å·¥å…·ï¼šJMeterï¼Œ100 çº¿ç¨‹å¹¶å‘è°ƒç”¨<code>getId()</code>æ–¹æ³•ï¼›æµ‹è¯•ç»“æœï¼š</p>
<ul>
<li>åŸç”Ÿé›ªèŠ±ç®—æ³•ï¼šQPS 8 ä¸‡ / ç§’ï¼ŒCAS ç«äº‰ç‡ 15%ï¼›</li>
<li>ä¼˜åŒ–åæ–¹æ¡ˆï¼ˆID æ±  + æ— é”åŒ–ï¼‰ï¼šQPS 80 ä¸‡ / ç§’ï¼ŒCAS ç«äº‰ç‡ 0.1%ï¼›</li>
<li>æ‰¹é‡ç”Ÿæˆï¼ˆ1000 ä¸ª / æ¬¡ï¼‰ï¼šQPS 120 ä¸‡ / ç§’ï¼Œå“åº”æ—¶é—´ &lt; 1msã€‚</li>
</ul>
<h4 data-id="heading-28">2. æ•…éšœæ¨¡æ‹Ÿæµ‹è¯•</h4>





























<table><thead><tr><th>æ•…éšœåœºæ™¯</th><th>æµ‹è¯•ç»“æœ</th></tr></thead><tbody><tr><td>å•å° ZK èŠ‚ç‚¹å®•æœº</td><td>æœºå™¨ ID åˆ†é…æ­£å¸¸ï¼Œæ— å½±å“</td></tr><tr><td>æ—¶é’Ÿå›æ‹¨ 3ms</td><td>ç­‰å¾…åŒæ­¥åæ­£å¸¸ç”Ÿæˆ IDï¼Œæ— é‡å¤</td></tr><tr><td>æ—¶é’Ÿå›æ‹¨ 10ms</td><td>è§¦å‘å‘Šè­¦ï¼Œæ‹’ç»ç”Ÿæˆ IDï¼ˆé¿å…é‡å¤ï¼‰</td></tr><tr><td>ID æœåŠ¡å•èŠ‚ç‚¹å®•æœº</td><td>å®¢æˆ·ç«¯è‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œæ— ä¸šåŠ¡ä¸­æ–­</td></tr><tr><td>ID æœåŠ¡å…¨èŠ‚ç‚¹å®•æœº</td><td>è§¦å‘é™çº§ï¼Œä¸šåŠ¡æ­£å¸¸è¿è¡Œï¼ŒID æ”¹ä¸º UUID æ–¹æ¡ˆ</td></tr></tbody></table>
<h4 data-id="heading-29">3. ç”Ÿäº§è½åœ°æ¡ˆä¾‹</h4>
<p>æŸç”µå•†å¹³å°è®¢å• ID ç”Ÿæˆåœºæ™¯ï¼š</p>
<ul>
<li>é›†ç¾¤è§„æ¨¡ï¼š8 å° ID ç”ŸæˆæœåŠ¡èŠ‚ç‚¹ï¼Œ200 + ä¸šåŠ¡è°ƒç”¨èŠ‚ç‚¹ï¼›</li>
<li>å³°å€¼ QPSï¼šå¤§ä¿ƒæœŸé—´è®¢å• ID ç”Ÿæˆå³°å€¼ 15 ä¸‡ / ç§’ï¼›</li>
<li>è¿è¡Œæ—¶é•¿ï¼šç¨³å®šè¿è¡Œ 18 ä¸ªæœˆï¼Œæ—  ID é‡å¤ã€æ— æœåŠ¡ä¸å¯ç”¨æƒ…å†µï¼›</li>
<li>æ ¸å¿ƒæ”¶ç›Šï¼šè®¢å•è¡¨ç´¢å¼•æ€§èƒ½æå‡ 70%ï¼Œæ•…éšœæ¢å¤æ—¶é—´ä» 1 å°æ—¶ç¼©çŸ­åˆ° 5 åˆ†é’Ÿã€‚</li>
</ul>
<h3 data-id="heading-30">äº”ã€é«˜çº§å¼€å‘è¸©å‘æ€»ç»“ï¼ˆæ ¸å¿ƒé¿å‘æŒ‡å—ï¼‰</h3>
<ol>
<li><strong>èµ·å§‹æ—¶é—´æˆ³åˆ«ä¹±è®¾</strong>ï¼šå»ºè®®è®¾ä¸ºé¡¹ç›®ä¸Šçº¿æ—¶é—´ï¼ˆå¦‚ 2025-01-01ï¼‰ï¼Œé¿å… ID è¿‡é•¿ï¼Œä¹Ÿæ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼›</li>
<li><strong>æœºå™¨ ID åˆ«è¶…èŒƒå›´</strong>ï¼š10 ä½æœºå™¨ ID æœ€å¤§ 1023ï¼Œé›†ç¾¤è§„æ¨¡è¶… 1024 éœ€æ‰©å±•æœºå™¨ ID ä½æ•°ï¼ˆå¦‚ 12 ä½ï¼‰ï¼›</li>
<li><strong>ID æ± å¤§å°è¦é€‚é…ä¸šåŠ¡</strong>ï¼šå°æµé‡ç³»ç»Ÿè®¾ 1000 å³å¯ï¼Œé«˜å¹¶å‘ç³»ç»Ÿå»ºè®®è®¾ 10 ä¸‡ +ï¼›</li>
<li><strong>æ—¶é’Ÿå›æ‹¨é˜ˆå€¼åˆ«å¤ªå°</strong>ï¼šå»ºè®®è®¾ 5msï¼ˆNTP åŒæ­¥çš„å¸¸è§„å›æ‹¨èŒƒå›´ï¼‰ï¼Œå¤ªå°æ˜“è¯¯è§¦å‘å‘Šè­¦ï¼›</li>
<li><strong>ç›‘æ§è¦è¦†ç›–å…¨é“¾è·¯</strong>ï¼šä¸ä»…è¦ç›‘æ§ ID ç”Ÿæˆï¼Œè¿˜è¦ç›‘æ§æœºå™¨ ID åˆ†é…ã€ZK è¿æ¥ã€ID æ± å‰©ä½™é‡ã€‚</li>
</ol>
<h3 data-id="heading-31">å…­ã€æ€»ç»“</h3>
<p>ä½œä¸ºä¸€å Java é«˜çº§å¼€å‘ï¼Œæˆ‘å§‹ç»ˆè®¤ä¸ºï¼š<strong>å¥½çš„æŠ€æœ¯æ–¹æ¡ˆä¸æ˜¯ â€œç‚«æŠ€â€ï¼Œè€Œæ˜¯ â€œè§£å†³å®é™…é—®é¢˜â€</strong> ã€‚é›ªèŠ±ç®—æ³•æœ¬èº«å¾ˆä¼˜ç§€ï¼Œä½†åŸç”Ÿç‰ˆæœ¬æ— æ³•åº”å¯¹ç”Ÿäº§ç¯å¢ƒçš„å¤æ‚åœºæ™¯ â€”â€” æ—¶é’Ÿå›æ‹¨ã€æœºå™¨ ID é‡å¤ã€æ€§èƒ½ç“¶é¢ˆã€é«˜å¯ç”¨é—®é¢˜ï¼Œæ¯ä¸€ä¸ªéƒ½å¯èƒ½å¯¼è‡´çº¿ä¸Šæ•…éšœã€‚</p>
<p>æœ¬æ–‡çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯åœ¨ä¿ç•™é›ªèŠ±ç®—æ³•ä¼˜åŠ¿çš„åŸºç¡€ä¸Šï¼Œè§£å†³äº†ç”Ÿäº§çº§ç—›ç‚¹ï¼š</p>
<ol>
<li>æœºå™¨ ID åŠ¨æ€åˆ†é…ï¼šé¿å…æ‰‹åŠ¨é…ç½®é‡å¤ï¼Œæ”¯æŒé›†ç¾¤æ‰©å®¹ï¼›</li>
<li>æ—¶é’Ÿå›æ‹¨å®¹é”™ï¼šä¸‰å±‚é˜²æŠ¤ï¼Œæœç» ID é‡å¤ï¼›</li>
<li>ID æ±  + æ— é”åŒ–ï¼šæ€§èƒ½æå‡ 10 å€ï¼Œæ”¯æ’‘é«˜å¹¶å‘ï¼›</li>
<li>é«˜å¯ç”¨éƒ¨ç½² + é™çº§ï¼šä¿è¯ä¸šåŠ¡ä¸ä¸­æ–­ï¼›</li>
<li>å…¨é“¾è·¯ç›‘æ§ï¼šé—®é¢˜æ—©å‘ç°ã€æ—©è§£å†³ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ è¿™ä¸ª ElDialog å°è£…æ–¹æ¡ˆï¼Œè®©æˆ‘çš„ä»£ç é‡å‡å°‘äº† 80%]]></title>    <link>https://juejin.cn/post/7589513539845898275</link>    <guid>https://juejin.cn/post/7589513539845898275</guid>    <pubDate>2025-12-30T16:37:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589513539845898275" data-draft-id="7589475497001517071" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ è¿™ä¸ª ElDialog å°è£…æ–¹æ¡ˆï¼Œè®©æˆ‘çš„ä»£ç é‡å‡å°‘äº† 80%"/> <meta itemprop="keywords" content="Vue.js,Element"/> <meta itemprop="datePublished" content="2025-12-30T16:37:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jenemy"/> <meta itemprop="url" content="https://juejin.cn/user/4142615541848615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ è¿™ä¸ª ElDialog å°è£…æ–¹æ¡ˆï¼Œè®©æˆ‘çš„ä»£ç é‡å‡å°‘äº† 80%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4142615541848615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jenemy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T16:37:19.000Z" title="Tue Dec 30 2025 16:37:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦ä¹Ÿé‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šæ¯æ¬¡ä½¿ç”¨ ElDialog éƒ½è¦å†™ä¸€ä¸ª visibleâ€‹ å˜é‡ï¼Œæ‰“å¼€å¯¹è¯æ¡†è¦ visible = trueâ€‹ï¼Œå…³é—­è¦ visible = falseâ€‹ï¼Œç¡®è®¤é€»è¾‘å’Œå¯¹è¯æ¡†ç»„ä»¶è¿˜å¾—åˆ†å¼€æ”¾ï¼Ÿä¸€ä¸ªç®€å•çš„ç¡®è®¤å¯¹è¯æ¡†ï¼ŒåŠ¨è¾„ 30-50 è¡Œä»£ç ï¼ŒåµŒå¥—å¯¹è¯æ¡†æ›´æ˜¯éœ€è¦å¤šå±‚çŠ¶æ€ç®¡ç†ï¼Œä»£ç å˜å¾—è‡ƒè‚¿éš¾ç»´æŠ¤ã€‚</p>
<p>ç›´åˆ°æˆ‘é‡åˆ°äº† BusDialogï¼Œä¸€ä¸ªåŸºäº Promise + Portal-vue çš„ ElDialog å°è£…æ–¹æ¡ˆï¼Œå½»åº•æ”¹å˜äº†æˆ‘çš„å¼€å‘æ–¹å¼ã€‚ç°åœ¨æ‰“å¼€å¯¹è¯æ¡†å°±åƒè°ƒç”¨å‡½æ•°ä¸€æ ·ç®€å•ï¼šawait openDialog({ content: 'ç¡®è®¤åˆ é™¤ï¼Ÿ' })â€‹ï¼Œ5 è¡Œä»£ç æå®šä¹‹å‰éœ€è¦ 50 è¡Œæ‰èƒ½å®ç°çš„åŠŸèƒ½ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ”¯æŒè·¨ç»„ä»¶å†…å®¹ç»„åˆã€åŸç”Ÿæ”¯æŒåµŒå¥—å¯¹è¯æ¡†ï¼Œè¿˜è‡ªåŠ¨å¤„ç†çŠ¶æ€æ¸…ç†ï¼ŒçœŸæ­£åšåˆ°äº†é›¶çŠ¶æ€ç®¡ç†ã€‚</p>
<p>ä»Šå¤©å°±æ¥åˆ†äº«è¿™ä¸ªè®©æˆ‘ä»£ç é‡å‡å°‘ 80% çš„å¯¹è¯æ¡†å°è£…æ–¹æ¡ˆï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ç”¨ Promise åŒ– API å’Œ Portal-vue é‡æ–°å®šä¹‰ ElDialog å°è£…çš„ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦é‡æ–°å°è£… ElDialogï¼Ÿ</h2>
<p>ElDialog åœ¨ç®¡ç†ç³»ç»Ÿä¸­ä½¿ç”¨é¢‘ç‡å¾ˆé«˜ï¼Œä½†æ¯æ¬¡ä½¿ç”¨éƒ½è¦å†™å¤§é‡æ ·æ¿ä»£ç ï¼šå®šä¹‰ visibleâ€‹ã€ç»‘å®š v-modelâ€‹ã€å¤„ç†æ‰“å¼€/å…³é—­é€»è¾‘ï¼Œä¸€ä¸ªç®€å•çš„ç¡®è®¤å¯¹è¯æ¡†åŠ¨è¾„ 30-50 è¡Œã€‚æ›´éº»çƒ¦çš„æ˜¯ï¼Œæ¯ä¸ªå¯¹è¯æ¡†éƒ½éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„ visibleâ€‹ å˜é‡ï¼ŒåµŒå¥—å¯¹è¯æ¡†æ—¶çŠ¶æ€ç®¡ç†æ›´å¤æ‚ã€‚</p>
<p>å¦‚æœèƒ½åƒ ElMessageBox é‚£æ ·ï¼Œä¸€è¡Œä»£ç å°±èƒ½æ‰“å¼€å¯¹è¯æ¡†ï¼Œç”¨ async/awaitâ€‹ å¤„ç†ç¡®è®¤å’Œå–æ¶ˆï¼Œé‚£è¯¥å¤šå¥½ï¼ŸBusDialog æ­£æ˜¯åŸºäºè¿™ä¸ªæ€è·¯è®¾è®¡çš„å°è£…æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¼ ç»Ÿå°è£…çš„ç—›ç‚¹</h3>
<p>å¤§å¤šæ•°å¼€å‘è€…å¯¹ ElDialog çš„ä½¿ç”¨å’Œå°è£…éƒ½æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-dialog v-model="visible" title="æç¤º"&gt;
    &lt;div&gt;ç¡®è®¤åˆ é™¤ï¼Ÿ&lt;/div&gt;
    &lt;template #footer&gt;
      &lt;el-button @click="visible = false"&gt;å–æ¶ˆ&lt;/el-button&gt;
      &lt;el-button type="primary" @click="handleConfirm"&gt;ç¡®è®¤&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-dialog&gt;
&lt;/template&gt;

&lt;script setup&gt;
const visible = ref(false);
const handleConfirm = () =&gt; {
  // å¤„ç†ç¡®è®¤é€»è¾‘
  visible.value = false;
};
&lt;/script&gt;
</code></pre>
<p>é—®é¢˜æ¥äº†ï¼š</p>
<ol>
<li>âŒ çŠ¶æ€ç®¡ç†ç¹çï¼šæ¯ä¸ªå¯¹è¯æ¡†éƒ½éœ€è¦ä¸€ä¸ª visibleâ€‹ çŠ¶æ€</li>
<li>âŒ ä»£ç åˆ†æ•£ï¼šæ‰“å¼€å¯¹è¯æ¡†çš„é€»è¾‘å’Œå¯¹è¯æ¡†ç»„ä»¶åˆ†ç¦»</li>
<li>âŒ éš¾ä»¥å¤ç”¨ï¼šæ¯ä¸ªå¯¹è¯æ¡†éƒ½è¦å•ç‹¬å†™æ¨¡æ¿</li>
<li>âŒ åµŒå¥—å›°éš¾ï¼šåœ¨å¯¹è¯æ¡†å†…æ‰“å¼€å¦ä¸€ä¸ªå¯¹è¯æ¡†éœ€è¦å¤šå±‚çŠ¶æ€ç®¡ç†</li>
<li>âŒ æ— æ³•è·å–è¿”å›å€¼ï¼šæ— æ³•åƒå‡½æ•°è°ƒç”¨ä¸€æ ·è·å–ç”¨æˆ·çš„é€‰æ‹©ç»“æœ</li>
</ol>
<h3 data-id="heading-2">ç†æƒ³ä¸­çš„å¯¹è¯æ¡†åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ç†æƒ³ï¼šåƒå‡½æ•°è°ƒç”¨ä¸€æ ·ç®€å•</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({ <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¡®è®¤åˆ é™¤ï¼Ÿ'</span> });
  <span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åˆ é™¤æˆåŠŸ'</span>);
} <span class="hljs-keyword">catch</span> {
  <span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆæˆ–å…³é—­</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å–æ¶ˆåˆ é™¤'</span>);
}
</code></pre>
<p>è¿™å°±æ˜¯ BusDialog çš„è®¾è®¡ç†å¿µï¼</p>
<hr/>
<h2 data-id="heading-3">BusDialog çš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-4">1. ğŸ¯ Promise åŒ– APIï¼šå‘Šåˆ«çŠ¶æ€ç®¡ç†</h3>
<p>ä¼ ç»Ÿæ–¹å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
const visible = ref(false);
const handleDelete = () =&gt; {
  visible.value = true;
};
const handleConfirm = async () =&gt; {
  await deleteApi();
  visible.value = false;
};
&lt;/script&gt;
</code></pre>
<p>BusDialog æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { openDialog } = <span class="hljs-title function_">useBusDialog</span>();

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDelete</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({ <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¡®è®¤åˆ é™¤ï¼Ÿ'</span> });
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">deleteApi</span>();
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'åˆ é™¤æˆåŠŸ'</span>);
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'å–æ¶ˆåˆ é™¤'</span>);
  }
};
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>âœ… é›¶çŠ¶æ€ç®¡ç†ï¼šä¸éœ€è¦ visibleâ€‹ã€loadingâ€‹ ç­‰çŠ¶æ€</li>
<li>âœ… ä»£ç æ›´ç®€æ´ï¼šæ‰“å¼€å’Œç¡®è®¤é€»è¾‘åœ¨ä¸€èµ·</li>
<li>âœ… é”™è¯¯å¤„ç†æ¸…æ™°ï¼šä½¿ç”¨ try/catchâ€‹ å¤„ç†å–æ¶ˆæ“ä½œ</li>
</ul>
<h3 data-id="heading-5">2. ğŸŒ Portal-vue é›†æˆï¼šè·¨ç»„ä»¶å†…å®¹ç»„åˆ</h3>
<p>è¿™æ˜¯ BusDialog æœ€ç‹¬ç‰¹çš„åŠŸèƒ½ï¼å¯ä»¥å°†æ¥è‡ªä¸åŒç»„ä»¶çš„å†…å®¹ç»„åˆåˆ°åŒä¸€ä¸ªå¯¹è¯æ¡†ä¸­ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç»„ä»¶ A --&gt;
&lt;template&gt;
  &lt;Portal :to="dialog.contentPortalName" :order="1"&gt;
    &lt;ProductSelector /&gt;
  &lt;/Portal&gt;
&lt;/template&gt;

&lt;!-- ç»„ä»¶ B --&gt;
&lt;template&gt;
  &lt;Portal :to="dialog.contentPortalName" :order="2"&gt;
    &lt;PriceCalculator /&gt;
  &lt;/Portal&gt;
&lt;/template&gt;

&lt;!-- ä½¿ç”¨ --&gt;
&lt;script setup&gt;
const dialog = useBusDialog();

async function openComplexDialog() {
  await dialog.openDialog({
    title: 'å¤æ‚è¡¨å•',
    // å†…å®¹ç”±å¤šä¸ªç»„ä»¶é€šè¿‡ Portal æ³¨å…¥
  });
}
&lt;/script&gt;
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>âœ… ç»„ä»¶è§£è€¦ï¼šå¯¹è¯æ¡†å†…å®¹å¯ä»¥æ¥è‡ªå¤šä¸ªç‹¬ç«‹ç»„ä»¶</li>
<li>âœ… çµæ´»ç»„åˆï¼šé€šè¿‡ orderâ€‹ æ§åˆ¶æ¸²æŸ“é¡ºåº</li>
<li>âœ… åŠ¨æ€æ³¨å…¥ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ å†…å®¹</li>
</ul>
<h3 data-id="heading-6">3. ğŸ¨ ä¸‰ç§å†…å®¹è®¾ç½®æ–¹å¼ï¼Œä¼˜å…ˆçº§æ¸…æ™°</h3>
<p>BusDialog æä¾›äº†ä¸‰ç§è®¾ç½®å†…å®¹çš„æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ–¹å¼ 1ï¼šç®€å•æ–‡æœ¬ï¼ˆæœ€ç®€å•ï¼‰</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({ 
  <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¡®è®¤åˆ é™¤ï¼Ÿ'</span> 
});

<span class="hljs-comment">// æ–¹å¼ 2ï¼šæ¸²æŸ“å‡½æ•°ï¼ˆçµæ´»ï¼‰</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({
  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ComplexForm</span> 
      <span class="hljs-attr">onConfirm</span>=<span class="hljs-string">{resolve}</span> 
      <span class="hljs-attr">onCancel</span>=<span class="hljs-string">{reject}</span> 
    /&gt;</span></span>
  )
});

<span class="hljs-comment">// æ–¹å¼ 3ï¼šPortal-vueï¼ˆè·¨ç»„ä»¶ï¼‰</span>
<span class="hljs-keyword">const</span> dialog = <span class="hljs-title function_">useBusDialog</span>();
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Portal</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"dialog.contentPortalName"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Portal</span>&gt;</span></span>
<span class="hljs-keyword">await</span> dialog.<span class="hljs-title function_">openDialog</span>();
</code></pre>
<p>ä¼˜å…ˆçº§ï¼šæ¸²æŸ“å‡½æ•° &gt; Portal-vue &gt; æ–‡æœ¬å±æ€§</p>
<h3 data-id="heading-7">4. ğŸ”„ è‡ªåŠ¨æ¸…ç†æœºåˆ¶ï¼šé›¶å†…å­˜æ³„æ¼</h3>
<p>ä¼ ç»Ÿå°è£…éœ€è¦æ‰‹åŠ¨ç®¡ç†å¯¹è¯æ¡†çŠ¶æ€ï¼Œå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚BusDialog åœ¨å…³é—­æ—¶è‡ªåŠ¨æ¸…ç†æ‰€æœ‰ Portal çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// è‡ªåŠ¨æ¸…ç†ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">wrappedResolve</span> = (<span class="hljs-params">value</span>) =&gt; {
  <span class="hljs-title class_">Wormhole</span>.<span class="hljs-title function_">close</span>({
    <span class="hljs-attr">to</span>: <span class="hljs-string">'bus-dialog'</span>,
    <span class="hljs-attr">from</span>: sender,
  });
  <span class="hljs-title function_">originalResolve</span>(value);
};
</code></pre>
<h3 data-id="heading-8">5. ğŸ­ å®Œç¾å…¼å®¹ Element Plus</h3>
<p>é€šè¿‡ dialogConfigâ€‹ å¯ä»¥è®¿é—® ElDialog çš„æ‰€æœ‰åŸç”ŸåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({
  <span class="hljs-attr">title</span>: <span class="hljs-string">'è‡ªå®šä¹‰å¯¹è¯æ¡†'</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>,
  <span class="hljs-attr">dialogConfig</span>: {
    <span class="hljs-comment">// æ‰€æœ‰ ElDialog çš„åŸç”Ÿå±æ€§éƒ½å¯ä»¥ä½¿ç”¨</span>
    <span class="hljs-attr">draggable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">closeOnClickModal</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-comment">// ... æ›´å¤šé…ç½®</span>
  }
});
</code></pre>
<h3 data-id="heading-9">6. ğŸª æ”¯æŒåµŒå¥—å¯¹è¯æ¡†</h3>
<p>åœ¨å¯¹è¯æ¡†å†…æ‰“å¼€å¦ä¸€ä¸ªå¯¹è¯æ¡†ï¼Ÿæ²¡é—®é¢˜ï¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNested</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({
      <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¬¬ä¸€ä¸ªå¯¹è¯æ¡†'</span>,
      <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{async</span> () =&gt;</span> {
            try {
              await openDialog({ content: 'åµŒå¥—å¯¹è¯æ¡†' });
              resolve();
            } catch {
              reject();
            }
          }}&gt;æ‰“å¼€åµŒå¥—å¯¹è¯æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
      )
    });
  } <span class="hljs-keyword">catch</span> {}
};
</code></pre>
<hr/>
<h2 data-id="heading-10">æŠ€æœ¯å®ç°è§£æ</h2>
<h3 data-id="heading-11">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h3>
<ol>
<li>VueUse createTemplatePromiseâ€‹ï¼šå°†ç»„ä»¶è½¬æ¢ä¸º Promise</li>
<li>Portal-vueï¼šå®ç°è·¨ç»„ä»¶å†…å®¹ä¼ è¾“</li>
<li>ulidï¼šç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦</li>
</ol>
<h3 data-id="heading-12">æ ¸å¿ƒå®ç°æ€è·¯</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useBusDialog</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// 1. ç”Ÿæˆå”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-keyword">const</span> sender = <span class="hljs-title function_">ulid</span>();
  
  <span class="hljs-comment">// 2. åˆ›å»º Promise åŒ–çš„æ¨¡æ¿</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">InnerDialog</span> = createTemplatePromise&lt;
    <span class="hljs-title class_">BusDialogResult</span>,
    [<span class="hljs-title class_">BusDialogProps</span>?]
  &gt;();
  
  <span class="hljs-comment">// 3. åŒ…è£… resolve/rejectï¼Œè‡ªåŠ¨æ¸…ç† Portal</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createCloseHandler</span> = (<span class="hljs-params">resolve, reject</span>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">wrappedResolve</span> = (<span class="hljs-params">value</span>) =&gt; {
      <span class="hljs-title class_">Wormhole</span>.<span class="hljs-title function_">close</span>({ <span class="hljs-attr">to</span>: <span class="hljs-string">'bus-dialog'</span>, <span class="hljs-attr">from</span>: sender });
      <span class="hljs-title function_">resolve</span>(value);
    };
    <span class="hljs-keyword">return</span> { wrappedResolve, wrappedReject };
  };
  
  <span class="hljs-comment">// 4. è¿”å› Promise åŒ–çš„æ‰“å¼€æ–¹æ³•</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">openDialog</span>: <span class="hljs-keyword">async</span> (args) =&gt; {
      <span class="hljs-title class_">Wormhole</span>.<span class="hljs-title function_">open</span>({
        <span class="hljs-attr">to</span>: <span class="hljs-string">'bus-dialog'</span>,
        <span class="hljs-attr">from</span>: sender,
        <span class="hljs-attr">content</span>: <span class="hljs-title class_">BusDialog</span>,
      });
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">InnerDialog</span>.<span class="hljs-title function_">start</span>(args);
    }
  };
}
</code></pre>
<h3 data-id="heading-13">å…³é”®è®¾è®¡ç‚¹</h3>
<ol>
<li>å”¯ä¸€æ ‡è¯†ç¬¦ï¼šæ¯ä¸ª useBusDialog()â€‹ å®ä¾‹éƒ½æœ‰å”¯ä¸€çš„ senderâ€‹ï¼Œé¿å… Portal å†²çª</li>
<li>è‡ªåŠ¨æ¸…ç†ï¼šåœ¨ resolve/rejectâ€‹ æ—¶è‡ªåŠ¨å…³é—­å¯¹åº”çš„ Portal</li>
<li>ä¼˜å…ˆçº§æœºåˆ¶ï¼šæ¸²æŸ“å‡½æ•° &gt; Portal-vue &gt; æ–‡æœ¬å±æ€§ï¼Œç¡®ä¿çµæ´»æ€§</li>
</ol>
<hr/>
<h2 data-id="heading-14">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-15">åœºæ™¯ 1ï¼šç®€å•çš„ç¡®è®¤å¯¹è¯æ¡†</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åˆ é™¤ç¡®è®¤</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDelete</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({ 
      <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¡®è®¤åˆ é™¤è¿™æ¡è®°å½•ï¼Ÿ'</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">'åˆ é™¤ç¡®è®¤'</span>
    });
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">deleteRecord</span>(id);
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'åˆ é™¤æˆåŠŸ'</span>);
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-comment">// ç”¨æˆ·å–æ¶ˆ</span>
  }
};
</code></pre>
<h3 data-id="heading-16">åœºæ™¯ 2ï¼šå¤æ‚è¡¨å•å¯¹è¯æ¡†</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEdit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">user: User</span>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDialog</span>({
      <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¼–è¾‘ç”¨æˆ·'</span>,
      <span class="hljs-attr">width</span>: <span class="hljs-number">600</span>,
      <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserForm</span> 
          <span class="hljs-attr">initialData</span>=<span class="hljs-string">{user}</span>
          <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{async</span> (<span class="hljs-attr">data</span>) =&gt;</span> {
            await updateUser(data);
            resolve({ reason: 'ok', data });
          }}
          onCancel={reject}
        /&gt;</span>
      )
    });
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'æ›´æ–°æˆåŠŸ'</span>);
  } <span class="hljs-keyword">catch</span> {}
};
</code></pre>
<h3 data-id="heading-17">åœºæ™¯ 3ï¼šè·¨ç»„ä»¶å†…å®¹ç»„åˆ</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- äº§å“é€‰æ‹©å™¨ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;Portal :to="dialog.contentPortalName" :order="1"&gt;
    &lt;ProductSelector v-model="selectedProducts" /&gt;
  &lt;/Portal&gt;
&lt;/template&gt;

&lt;!-- ä»·æ ¼è®¡ç®—å™¨ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;Portal :to="dialog.contentPortalName" :order="2"&gt;
    &lt;PriceCalculator :products="selectedProducts" /&gt;
  &lt;/Portal&gt;
&lt;/template&gt;

&lt;!-- ä½¿ç”¨ --&gt;
&lt;script setup&gt;
const dialog = useBusDialog();

async function openOrderDialog() {
  try {
    await dialog.openDialog({
      title: 'åˆ›å»ºè®¢å•',
      width: 1000,
      // å†…å®¹ç”±å¤šä¸ªç»„ä»¶é€šè¿‡ Portal æ³¨å…¥
    });
  } catch {}
}
&lt;/script&gt;
</code></pre>
<hr/>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>BusDialog é€šè¿‡ Promise åŒ– API å’Œ Portal-vue é›†æˆï¼Œé‡æ–°å®šä¹‰äº† ElDialog çš„å°è£…æ–¹å¼ï¼š</p>
<h3 data-id="heading-19">æ ¸å¿ƒä¼˜åŠ¿å¯¹æ¯”</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿå°è£…</th><th>BusDialog</th></tr></thead><tbody><tr><td>çŠ¶æ€ç®¡ç†</td><td>âŒ éœ€è¦ visibleâ€‹ ç­‰çŠ¶æ€</td><td>âœ… é›¶çŠ¶æ€ç®¡ç†</td></tr><tr><td>ä»£ç ç»„ç»‡</td><td>âŒ æ‰“å¼€å’Œç¡®è®¤é€»è¾‘åˆ†ç¦»</td><td>âœ… é€»è¾‘é›†ä¸­ï¼Œä»£ç ç®€æ´</td></tr><tr><td>å†…å®¹è®¾ç½®</td><td>âŒ åªèƒ½åœ¨æ¨¡æ¿ä¸­å†™æ­»</td><td>âœ… ä¸‰ç§æ–¹å¼ï¼Œçµæ´»ç»„åˆ</td></tr><tr><td>è·¨ç»„ä»¶</td><td>âŒ éš¾ä»¥å®ç°</td><td>âœ… Portal-vue è½»æ¾å®ç°</td></tr><tr><td>åµŒå¥—æ”¯æŒ</td><td>âŒ éœ€è¦å¤šå±‚çŠ¶æ€ç®¡ç†</td><td>âœ… åŸç”Ÿæ”¯æŒ</td></tr><tr><td>å†…å­˜ç®¡ç†</td><td>âš ï¸ éœ€è¦æ‰‹åŠ¨æ¸…ç†</td><td>âœ… è‡ªåŠ¨æ¸…ç†</td></tr></tbody></table>
<h3 data-id="heading-20">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>âœ… éœ€è¦é¢‘ç¹ä½¿ç”¨å¯¹è¯æ¡†çš„åœºæ™¯</li>
<li>âœ… éœ€è¦è·¨ç»„ä»¶ç»„åˆå†…å®¹çš„å¤æ‚å¯¹è¯æ¡†</li>
<li>âœ… éœ€è¦åµŒå¥—å¯¹è¯æ¡†çš„å¤æ‚äº¤äº’</li>
<li>âœ… è¿½æ±‚ä»£ç ç®€æ´å’Œå¯ç»´æŠ¤æ€§çš„é¡¹ç›®</li>
</ul>
<h3 data-id="heading-21">ä¸é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>âŒ åªéœ€è¦ç®€å•å±•ç¤ºçš„é™æ€å¯¹è¯æ¡†ï¼ˆç›´æ¥ç”¨ el-dialogâ€‹ å³å¯ï¼‰</li>
<li>âŒ ä¸éœ€è¦è·å–ç”¨æˆ·é€‰æ‹©ç»“æœçš„åœºæ™¯</li>
</ul>
<hr/>
<p>å¦‚æœä½ ä¹Ÿåœ¨ä¸ºå¯¹è¯æ¡†çš„çŠ¶æ€ç®¡ç†è€Œçƒ¦æ¼ï¼Œä¸å¦¨è¯•è¯• BusDialogï¼Œè®©å¯¹è¯æ¡†åƒå‡½æ•°è°ƒç”¨ä¸€æ ·ç®€å•ï¼</p>
<p>ğŸ“¦ GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxjxl520303%2Fvben-business-components" target="_blank" title="https://github.com/xjxl520303/vben-business-components" ref="nofollow noopener noreferrer">vben-business-components</a></p>
<p>ğŸ“– ç»„ä»¶æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fvben-business-components-docs.vercel.app%2Fcomponents%2Fbusiness%2Fbus-dialog.html" target="_blank" title="https://vben-business-components-docs.vercel.app/components/business/bus-dialog.html" ref="nofollow noopener noreferrer">BusDialog è¯¦ç»†æ–‡æ¡£åœ°å€</a></p>
<blockquote>
<p>æœ¬æ–‡æ¡£å†…å®¹ç”± AI æ ¹æ®å®é™…ç»„ä»¶ä»£ç åŠå®˜æ–¹æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆï¼Œä»…ä¾›å­¦ä¹ å’Œå‚è€ƒã€‚å¦‚æœä½ ä¹Ÿæœ‰ä¸é”™çš„ä¸šåŠ¡ç»„ä»¶å°è£…æ¡ˆä¾‹ï¼Œä¹Ÿå¯ä»¥è”ç³» jenemy_xl å…±åŒåˆ†äº«å’Œå­¦ä¹ ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jenkins ä»»åŠ¡ä¸­çš„ `java.lang.InterruptedException` å¼‚å¸¸è§£æä¸è§£å†³]]></title>    <link>https://juejin.cn/post/7589494074983399475</link>    <guid>https://juejin.cn/post/7589494074983399475</guid>    <pubDate>2025-12-31T02:24:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589494074983399475" data-draft-id="7589482741760360475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jenkins ä»»åŠ¡ä¸­çš„ `java.lang.InterruptedException` å¼‚å¸¸è§£æä¸è§£å†³"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-31T02:24:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘è€…é˜¿è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/4073055974333608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jenkins ä»»åŠ¡ä¸­çš„ `java.lang.InterruptedException` å¼‚å¸¸è§£æä¸è§£å†³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4073055974333608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘è€…é˜¿è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:24:57.000Z" title="Wed Dec 31 2025 02:24:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Jenkins ä»»åŠ¡ä¸­çš„ <code>java.lang.InterruptedException</code> å¼‚å¸¸è§£æä¸è§£å†³</h2>
<p>åœ¨ä½¿ç”¨ Jenkins è¿›è¡ŒæŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯ <code>java.lang.InterruptedException</code> å¼‚å¸¸ã€‚è¿™ç§å¼‚å¸¸é€šå¸¸æ„å‘³ç€ Jenkins ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¢«ä¸­æ–­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä»»åŠ¡å¤±è´¥æˆ–ä¸­æ­¢ã€‚æœ¬æ–‡å°†è¯¦ç»†è§£æè¿™ç§å¼‚å¸¸çš„å¸¸è§åŸå› ï¼Œå¹¶æä¾›ç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©æ‚¨åœ¨æ—¥å¸¸å·¥ä½œä¸­æ›´å¥½åœ°å¤„ç†ç±»ä¼¼é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¼‚å¸¸æ¦‚è¿°</h3>
<p><code>java.lang.InterruptedException</code> æ˜¯ Java ä¸­å¸¸è§çš„ä¸€ç§å¼‚å¸¸ï¼Œè¡¨ç¤ºä¸€ä¸ªçº¿ç¨‹åœ¨æ´»åŠ¨çŠ¶æ€ï¼ˆå¦‚ç¡çœ ã€ç­‰å¾…ã€é˜»å¡ï¼‰æ—¶è¢«å¦ä¸€ä¸ªçº¿ç¨‹ä¸­æ–­ã€‚åœ¨ Jenkins ä¸­ï¼Œè¿™ç§å¼‚å¸¸é€šå¸¸ä¼´éšç€ç‰¹å®šçš„é”™è¯¯æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">org.jenkinsci.plugins.workflow.actions.ErrorAction<span class="hljs-variable">$ErrorId</span>: 7c772317-111b-498f-ad33-d62f06d8d9bd
</code></pre>
<p>è¿™ç§å¼‚å¸¸ä¿¡æ¯æç¤º Jenkins ä»»åŠ¡è¢«ä¸­æ–­ï¼Œå…·ä½“åŸå› éœ€è¦è¿›ä¸€æ­¥åˆ†æã€‚</p>
<h3 data-id="heading-2">äºŒã€å¸¸è§åŸå› åˆ†æ</h3>
<ol>
<li><strong>æ‰‹åŠ¨ä¸­æ–­</strong>ï¼šä»»åŠ¡å¯èƒ½è¢«ç”¨æˆ·åœ¨ Jenkins Web UI ä¸­æ‰‹åŠ¨ä¸­æ–­ã€‚ä¾‹å¦‚ï¼Œç‚¹å‡»äº† "Abort" æŒ‰é’®ã€‚</li>
<li><strong>ç³»ç»Ÿèµ„æºé—®é¢˜</strong>ï¼šä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿèµ„æºï¼ˆå¦‚å†…å­˜ã€CPUï¼‰ä¸è¶³ï¼Œå¯¼è‡´ä»»åŠ¡è¢«ç³»ç»Ÿå¼ºåˆ¶ä¸­æ–­ã€‚</li>
<li><strong>è¶…æ—¶è®¾ç½®</strong>ï¼šä»»åŠ¡è®¾ç½®äº†è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶å Jenkins è‡ªåŠ¨ä¸­æ–­ä»»åŠ¡ã€‚</li>
<li><strong>èŠ‚ç‚¹é—®é¢˜</strong>ï¼šæ‰§è¡Œä»»åŠ¡çš„ Jenkins èŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œå¦‚èŠ‚ç‚¹å®•æœºæˆ–ç½‘ç»œä¸­æ–­ã€‚</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€è¯¦ç»†åˆ†ææ­¥éª¤</h3>
<h4 data-id="heading-4">1. æ£€æŸ¥ Jenkins æ—¥å¿—</h4>
<p>é¦–å…ˆï¼ŒæŸ¥çœ‹ Jenkins æ—¥å¿—ï¼Œäº†è§£æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚æ—¥å¿—æ–‡ä»¶é€šå¸¸ä½äº Jenkins æœåŠ¡å™¨ä¸Šçš„ <code>logs</code> ç›®å½•ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ Jenkins Web UI ä¸­æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºã€‚</p>
<h4 data-id="heading-5">2. æ£€æŸ¥ä»»åŠ¡é…ç½®</h4>
<p>æŸ¥çœ‹è¯¥ Jenkins ä»»åŠ¡çš„é…ç½®ï¼Œç‰¹åˆ«æ˜¯ä»¥ä¸‹è®¾ç½®ï¼š</p>
<ul>
<li><strong>Build Timeout</strong>ï¼šæ£€æŸ¥æ˜¯å¦é…ç½®äº†è¶…æ—¶è®¾ç½®ï¼Œè¶…æ—¶æ—¶é—´æ˜¯å¦åˆç†ã€‚</li>
<li><strong>Pipeline Script</strong>ï¼šå¦‚æœä½¿ç”¨çš„æ˜¯ Pipeline è„šæœ¬ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½• <code>timeout</code> æ­¥éª¤é…ç½®ã€‚</li>
</ul>
<h4 data-id="heading-6">3. æ£€æŸ¥ç³»ç»Ÿèµ„æº</h4>
<p>æŸ¥çœ‹ Jenkins æœåŠ¡å™¨å’Œæ‰§è¡Œä»»åŠ¡çš„èŠ‚ç‚¹çš„ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿æ²¡æœ‰èµ„æºä¸è¶³çš„æƒ…å†µã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š</p>
<ul>
<li><strong>Linux</strong>ï¼šä½¿ç”¨ <code>top</code>ã€<code>htop</code>ã€<code>free</code> ç­‰å‘½ä»¤æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µã€‚</li>
<li><strong>Windows</strong>ï¼šä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µã€‚</li>
</ul>
<h4 data-id="heading-7">4. æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€</h4>
<p>å¦‚æœ Jenkins ä»»åŠ¡æ˜¯åœ¨åˆ†å¸ƒå¼èŠ‚ç‚¹ä¸Šæ‰§è¡Œçš„ï¼Œæ£€æŸ¥è¿™äº›èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œç¡®ä¿å®ƒä»¬åœ¨çº¿å¹¶ä¸”æ²¡æœ‰å‘ç”Ÿæ•…éšœã€‚</p>
<h3 data-id="heading-8">å››ã€è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-9">è§£å†³æ–¹æ¡ˆä¸€ï¼šè°ƒæ•´è¶…æ—¶è®¾ç½®</h4>
<p>å¦‚æœé—®é¢˜æ˜¯ç”±äºä»»åŠ¡è¶…æ—¶å¼•èµ·çš„ï¼Œå¯ä»¥è°ƒæ•´è¶…æ—¶è®¾ç½®ï¼Œç¡®ä¿ä»»åŠ¡åœ¨åˆç†æ—¶é—´å†…å®Œæˆã€‚ä¾‹å¦‚ï¼Œåœ¨ Jenkins Pipeline è„šæœ¬ä¸­å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">timeout(time: 60, unit: 'MINUTES') {
    // ä»»åŠ¡æ­¥éª¤
}
</code></pre>
<h4 data-id="heading-10">è§£å†³æ–¹æ¡ˆäºŒï¼šæ£€æŸ¥å¹¶å¢åŠ ç³»ç»Ÿèµ„æº</h4>
<p>å¦‚æœç³»ç»Ÿèµ„æºä¸è¶³ï¼Œè€ƒè™‘å¢åŠ æœåŠ¡å™¨æˆ–èŠ‚ç‚¹çš„èµ„æºï¼Œä¾‹å¦‚å¢åŠ å†…å­˜ã€CPU æ ¸å¿ƒæ•°ç­‰ã€‚</p>
<h4 data-id="heading-11">è§£å†³æ–¹æ¡ˆä¸‰ï¼šè‡ªåŠ¨é‡è¯•æœºåˆ¶</h4>
<p>åœ¨ Pipeline è„šæœ¬ä¸­ï¼Œå¢åŠ è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œä»¥åº”å¯¹å¶å‘çš„ä¸­æ–­ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">retry(3) {
    // ä»»åŠ¡æ­¥éª¤
}
</code></pre>
<h3 data-id="heading-12">ç¤ºä¾‹ Pipeline è„šæœ¬</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…·æœ‰è¶…æ—¶å’Œé‡è¯•æœºåˆ¶çš„ Jenkins Pipeline ç¤ºä¾‹è„šæœ¬ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                script {
                    retry(3) {
                        timeout(time: 60, unit: 'MINUTES') {
                            // ä»»åŠ¡æ­¥éª¤ï¼Œä¾‹å¦‚æ„å»ºã€æµ‹è¯•ç­‰
                            sh 'make build'
                        }
                    }
                }
            }
        }
    }
    post {
        always {
            echo 'Cleaning up...'
            // æ¸…ç†æ­¥éª¤
            sh 'make clean'
        }
        success {
            echo 'Build succeeded!'
        }
        failure {
            echo 'Build failed!'
        }
    }
}
</code></pre>
<h3 data-id="heading-13">äº”ã€æ€»ç»“</h3>
<p><code>java.lang.InterruptedException</code> å¼‚å¸¸åœ¨ Jenkins ä»»åŠ¡ä¸­æ¯”è¾ƒå¸¸è§ï¼Œé€šå¸¸æ˜¯ç”±äºä»»åŠ¡è¢«ä¸­æ–­å¼•èµ·çš„ã€‚å…·ä½“åŸå› å¯èƒ½åŒ…æ‹¬æ‰‹åŠ¨ä¸­æ–­ã€ç³»ç»Ÿèµ„æºä¸è¶³ã€ä»»åŠ¡è¶…æ—¶æˆ–èŠ‚ç‚¹é—®é¢˜ã€‚é€šè¿‡æ£€æŸ¥ Jenkins æ—¥å¿—ã€ä»»åŠ¡é…ç½®ã€ç³»ç»Ÿèµ„æºå’ŒèŠ‚ç‚¹çŠ¶æ€ï¼Œå¯ä»¥æ‰¾åˆ°å…·ä½“åŸå› å¹¶é‡‡å–ç›¸åº”çš„æªæ–½è§£å†³é—®é¢˜ã€‚</p>
<p>é€šè¿‡è°ƒæ•´è¶…æ—¶è®¾ç½®ã€å¢åŠ ç³»ç»Ÿèµ„æºå’Œä½¿ç”¨è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å’Œé¿å… <code>java.lang.InterruptedException</code> å¼‚å¸¸ï¼Œç¡®ä¿ Jenkins ä»»åŠ¡çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨ç†è§£å’Œè§£å†³ Jenkins ä¸­çš„ <code>java.lang.InterruptedException</code> å¼‚å¸¸æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœæœ‰ä»»ä½•è¿›ä¸€æ­¥çš„é—®é¢˜æˆ–éœ€è¦æ›´å¤šçš„å¸®åŠ©ï¼Œè¯·éšæ—¶æé—®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 ä¸­ Lottie åŠ¨ç”»åº“çš„ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7589494631006945315</link>    <guid>https://juejin.cn/post/7589494631006945315</guid>    <pubDate>2025-12-31T01:11:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589494631006945315" data-draft-id="7589526591565021184" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 ä¸­ Lottie åŠ¨ç”»åº“çš„ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-31T01:11:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/2754702534251820"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 ä¸­ Lottie åŠ¨ç”»åº“çš„ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2754702534251820/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:11:01.000Z" title="Wed Dec 31 2025 01:11:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Lottie æ˜¯ Airbnb å¼€æºçš„ä¸€æ¬¾è·¨å¹³å°åŠ¨ç”»æ¸²æŸ“åº“ï¼Œèƒ½å¤Ÿå°† AEï¼ˆAfter Effectsï¼‰åˆ¶ä½œçš„åŠ¨ç”»å¯¼å‡ºä¸º JSON æ ¼å¼ï¼Œå¹¶åœ¨ Webã€iOSã€Android ç­‰å¹³å°æ— ç¼æ¸²æŸ“ï¼Œå®Œç¾è¿˜åŸè®¾è®¡å¸ˆçš„åŠ¨ç”»æ•ˆæœã€‚åœ¨ Vue3 é¡¹ç›®ä¸­é›†æˆ Lottieï¼Œæ—¢èƒ½æå‡é¡µé¢äº¤äº’ä½“éªŒï¼Œåˆèƒ½é¿å…ä¼ ç»Ÿ GIF / è§†é¢‘åŠ¨ç”»çš„æ€§èƒ½é—®é¢˜å’Œä½“ç§¯å†—ä½™ã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£ Vue3 ä¸­ Lottie çš„å®‰è£…ã€åŸºç¡€ä½¿ç”¨ã€é«˜çº§é…ç½®åŠå®æˆ˜æŠ€å·§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒä¼˜åŠ¿</h2>
<p>åœ¨å¼€å§‹é›†æˆå‰ï¼Œå…ˆäº†è§£ Lottie é€‚é… Vue3 é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼ï¼š</p>
<ol>
<li><strong>è½»é‡åŒ–</strong>ï¼šJSON åŠ¨ç”»æ–‡ä»¶ä½“ç§¯è¿œå°äº GIF / è§†é¢‘ï¼Œä¸”æ”¯æŒæŒ‰éœ€åŠ è½½ï¼›</li>
<li><strong>å¯äº¤äº’</strong>ï¼šå¯é€šè¿‡ä»£ç æ§åˆ¶åŠ¨ç”»æ’­æ”¾ã€æš‚åœã€è·³è½¬ã€å¾ªç¯ç­‰ï¼Œæ”¯æŒè‡ªå®šä¹‰äº¤äº’é€»è¾‘ï¼›</li>
<li><strong>çŸ¢é‡æ¸²æŸ“</strong>ï¼šåŠ¨ç”»åŸºäºçŸ¢é‡ï¼Œé€‚é…ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡æ— æ¨¡ç³Šï¼›</li>
<li><strong>Vue3 å‹å¥½</strong>ï¼šæ”¯æŒç»„åˆå¼ APIï¼ˆSetupï¼‰ï¼Œå¯å°è£…ä¸ºé€šç”¨ç»„ä»¶ï¼Œå¤ç”¨æ€§å¼ºã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€ç¯å¢ƒå‡†å¤‡ä¸å®‰è£…</h2>
<h3 data-id="heading-2">1. ä¾èµ–å®‰è£…</h3>
<p>Vue3 é¡¹ç›®ä¸­æ¨èä½¿ç”¨Â <code>lottie-web</code>ï¼ˆå®˜æ–¹ Web ç«¯å®ç°ï¼‰ï¼Œé€šè¿‡ npm/yarn/pnpm å®‰è£…ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">npm</span>
npm install lottie-web --save
<span class="hljs-meta prompt_">
# </span><span class="bash">yarn</span>
yarn add lottie-web
<span class="hljs-meta prompt_">
# </span><span class="bash">pnpm</span>
pnpm add lottie-web
</code></pre>
<h3 data-id="heading-3">2. åŠ¨ç”»èµ„æºå‡†å¤‡</h3>
<p>Lottie ä¾èµ– AE å¯¼å‡ºçš„ JSON åŠ¨ç”»æ–‡ä»¶ï¼Œè·å–æ–¹å¼ï¼š</p>
<ul>
<li>è®¾è®¡å¸ˆä½¿ç”¨ AE åˆ¶ä½œåŠ¨ç”»ï¼Œé€šè¿‡Â <code>Bodymovin</code>Â æ’ä»¶å¯¼å‡º JSON æ–‡ä»¶ï¼›</li>
<li>ä» Lottie å®˜æ–¹ç´ æåº“è·å–å…è´¹åŠ¨ç”»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flottiefiles.com%2F" target="_blank" title="https://lottiefiles.com/" ref="nofollow noopener noreferrer">LottieFiles</a>ã€‚</li>
</ul>
<p>å°†ä¸‹è½½çš„ JSON åŠ¨ç”»æ–‡ä»¶æ”¾å…¥ Vue3 é¡¹ç›®çš„Â <code>public</code>Â æˆ–Â <code>src/assets</code>Â ç›®å½•ï¼ˆæ¨èÂ <code>public</code>ï¼Œé¿å…æ‰“åŒ…è·¯å¾„é—®é¢˜ï¼‰ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€åŸºç¡€ä½¿ç”¨ï¼šå°è£…é€šç”¨ Lottie ç»„ä»¶</h2>
<p>ä¸ºäº†åœ¨é¡¹ç›®ä¸­å¤ç”¨ï¼Œæˆ‘ä»¬å…ˆå°è£…ä¸€ä¸ªé€šç”¨çš„ Lottie ç»„ä»¶ï¼ˆæ”¯æŒ Vue3 ç»„åˆå¼ APIï¼‰ã€‚</p>
<h3 data-id="heading-5">1. åˆ›å»º Lottie é€šç”¨ç»„ä»¶</h3>
<p>åœ¨Â <code>src/components</code>Â ç›®å½•ä¸‹æ–°å»ºÂ <code>LottieAnimation.vue</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  &lt;!-- åŠ¨ç”»å®¹å™¨ï¼Œéœ€æŒ‡å®šå®½é«˜ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"lottieContainer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lottie-container"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ width, height }"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted, onUnmounted, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> lottie <span class="hljs-keyword">from</span> <span class="hljs-string">'lottie-web'</span>;

<span class="hljs-comment">// å®šä¹‰ Props</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
  <span class="hljs-comment">// åŠ¨ç”» JSON æ–‡ä»¶è·¯å¾„</span>
  <span class="hljs-attr">animationData</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">null</span>
  },
  <span class="hljs-attr">path</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-string">''</span>
  },
  <span class="hljs-comment">// åŠ¨ç”»å®½é«˜</span>
  <span class="hljs-attr">width</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-string">'300px'</span>
  },
  <span class="hljs-attr">height</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-string">'300px'</span>
  },
  <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span>
  <span class="hljs-attr">autoplay</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-comment">// æ˜¯å¦å¾ªç¯æ’­æ”¾</span>
  <span class="hljs-attr">loop</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-comment">// åŠ¨ç”»é€Ÿåº¦ï¼ˆ1 ä¸ºæ­£å¸¸é€Ÿåº¦ï¼‰</span>
  <span class="hljs-attr">speed</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-number">1</span>
  },
  <span class="hljs-comment">// æ¸²æŸ“æ–¹å¼ï¼ˆsvg/canvas/htmlï¼‰ï¼Œä¼˜å…ˆ svgï¼ˆçŸ¢é‡ï¼‰</span>
  <span class="hljs-attr">renderer</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-string">'svg'</span>,
    <span class="hljs-attr">validator</span>: <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> [<span class="hljs-string">'svg'</span>, <span class="hljs-string">'canvas'</span>, <span class="hljs-string">'html'</span>].<span class="hljs-title function_">includes</span>(val)
  }
});

<span class="hljs-comment">// å®šä¹‰ Emitsï¼šæš´éœ²åŠ¨ç”»çŠ¶æ€äº‹ä»¶</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'complete'</span>, <span class="hljs-string">'loopComplete'</span>, <span class="hljs-string">'enterFrame'</span>]);

<span class="hljs-comment">// åŠ¨ç”»å®¹å™¨ Ref</span>
<span class="hljs-keyword">const</span> lottieContainer = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// Lottie å®ä¾‹</span>
<span class="hljs-keyword">let</span> lottieInstance = <span class="hljs-literal">null</span>;

<span class="hljs-comment">// åˆå§‹åŒ–åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initLottie</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!lottieContainer.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// é”€æ¯æ—§å®ä¾‹ï¼ˆé¿å…é‡å¤æ¸²æŸ“ï¼‰</span>
  <span class="hljs-keyword">if</span> (lottieInstance) {
    lottieInstance.<span class="hljs-title function_">destroy</span>();
  }

  <span class="hljs-comment">// åˆ›å»º Lottie å®ä¾‹</span>
  lottieInstance = lottie.<span class="hljs-title function_">loadAnimation</span>({
    <span class="hljs-attr">container</span>: lottieContainer.<span class="hljs-property">value</span>, <span class="hljs-comment">// åŠ¨ç”»å®¹å™¨</span>
    <span class="hljs-attr">animationData</span>: props.<span class="hljs-property">animationData</span>, <span class="hljs-comment">// åŠ¨ç”» JSON æ•°æ®ï¼ˆæœ¬åœ°å¯¼å…¥ï¼‰</span>
    <span class="hljs-attr">path</span>: props.<span class="hljs-property">path</span>, <span class="hljs-comment">// åŠ¨ç”» JSON æ–‡ä»¶è·¯å¾„ï¼ˆè¿œç¨‹/ public ç›®å½•ï¼‰</span>
    <span class="hljs-attr">renderer</span>: props.<span class="hljs-property">renderer</span>, <span class="hljs-comment">// æ¸²æŸ“æ–¹å¼</span>
    <span class="hljs-attr">loop</span>: props.<span class="hljs-property">loop</span>, <span class="hljs-comment">// å¾ªç¯æ’­æ”¾</span>
    <span class="hljs-attr">autoplay</span>: props.<span class="hljs-property">autoplay</span>, <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾</span>
    <span class="hljs-attr">name</span>: <span class="hljs-string">'lottie-animation'</span> <span class="hljs-comment">// åŠ¨ç”»åç§°ï¼ˆå¯é€‰ï¼‰</span>
  });

  <span class="hljs-comment">// è®¾ç½®åŠ¨ç”»é€Ÿåº¦</span>
  lottieInstance.<span class="hljs-title function_">setSpeed</span>(props.<span class="hljs-property">speed</span>);

  <span class="hljs-comment">// ç›‘å¬åŠ¨ç”»äº‹ä»¶</span>
  lottieInstance.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'complete'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'complete'</span>); <span class="hljs-comment">// åŠ¨ç”»æ’­æ”¾å®Œæˆ</span>
  });
  lottieInstance.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'loopComplete'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'loopComplete'</span>); <span class="hljs-comment">// åŠ¨ç”»å¾ªç¯å®Œæˆ</span>
  });
  lottieInstance.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'enterFrame'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'enterFrame'</span>, e); <span class="hljs-comment">// åŠ¨ç”»æ¯ä¸€å¸§</span>
  });
};

<span class="hljs-comment">// ç›‘å¬ Props å˜åŒ–ï¼Œé‡æ–°åˆå§‹åŒ–</span>
<span class="hljs-title function_">watch</span>(
  [<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">path</span>, <span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">animationData</span>, <span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">loop</span>, <span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">speed</span>],
  <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">initLottie</span>();
  },
  { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> }
);

<span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶é”€æ¯å®ä¾‹</span>
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (lottieInstance) {
    lottieInstance.<span class="hljs-title function_">destroy</span>();
    lottieInstance = <span class="hljs-literal">null</span>;
  }
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.lottie-container</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">overflow</span>: hidden;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-6">2. åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h3>
<p>åœ¨é¡µé¢ç»„ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨å°è£…å¥½çš„Â <code>LottieAnimation</code>Â ç»„ä»¶ï¼Œæ”¯æŒä¸¤ç§åŠ è½½æ–¹å¼ï¼š</p>
<h4 data-id="heading-7">æ–¹å¼ 1ï¼šåŠ è½½ public ç›®å½•ä¸‹çš„ JSON æ–‡ä»¶</h4>
<p>å°†åŠ¨ç”»æ–‡ä»¶Â <code>animation.json</code>Â æ”¾å…¥Â <code>public/lottie/</code>Â ç›®å½•ï¼Œä½¿ç”¨Â <code>path</code>Â ä¼ å…¥è·¯å¾„ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-page"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Lottie åŸºç¡€ä½¿ç”¨ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LottieAnimation</span>
      <span class="hljs-attr">path</span>=<span class="hljs-string">"/lottie/animation.json"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"200px"</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">"200px"</span>
      <span class="hljs-attr">:loop</span>=<span class="hljs-string">"false"</span>
      <span class="hljs-attr">:speed</span>=<span class="hljs-string">"1.2"</span>
      @<span class="hljs-attr">complete</span>=<span class="hljs-string">"handleAnimationComplete"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LottieAnimation</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/LottieAnimation.vue'</span>;

<span class="hljs-comment">// åŠ¨ç”»æ’­æ”¾å®Œæˆå›è°ƒ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAnimationComplete</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŠ¨ç”»æ’­æ”¾å®Œæˆï¼'</span>);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-8">æ–¹å¼ 2ï¼šæœ¬åœ°å¯¼å…¥ JSON æ–‡ä»¶ï¼ˆéœ€é…ç½® loaderï¼‰</h4>
<p>å¦‚æœå°†åŠ¨ç”»æ–‡ä»¶æ”¾åœ¨Â <code>src/assets</code>Â ç›®å½•ï¼Œéœ€å…ˆå¯¼å…¥ JSON æ–‡ä»¶ï¼ˆVue3 + Vite æ— éœ€é¢å¤–é…ç½®ï¼ŒWebpack éœ€ç¡®ä¿æ”¯æŒ JSON å¯¼å…¥ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-page"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LottieAnimation</span>
      <span class="hljs-attr">:animation-data</span>=<span class="hljs-string">"animationData"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"200px"</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">"200px"</span>
      <span class="hljs-attr">:autoplay</span>=<span class="hljs-string">"false"</span>
      <span class="hljs-attr">ref</span>=<span class="hljs-string">"lottieRef"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"playAnimation"</span>&gt;</span>æ’­æ”¾åŠ¨ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"pauseAnimation"</span>&gt;</span>æš‚åœåŠ¨ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LottieAnimation</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/LottieAnimation.vue'</span>;
<span class="hljs-comment">// å¯¼å…¥æœ¬åœ° JSON åŠ¨ç”»æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> animationData <span class="hljs-keyword">from</span> <span class="hljs-string">'@/assets/lottie/animation.json'</span>;

<span class="hljs-keyword">const</span> animationData = <span class="hljs-title function_">ref</span>(animationData);
<span class="hljs-keyword">const</span> lottieRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// æ’­æ”¾åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">playAnimation</span> = (<span class="hljs-params"/>) =&gt; {
  lottieRef.<span class="hljs-property">value</span>.<span class="hljs-property">lottieInstance</span>.<span class="hljs-title function_">play</span>();
};

<span class="hljs-comment">// æš‚åœåŠ¨ç”»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">pauseAnimation</span> = (<span class="hljs-params"/>) =&gt; {
  lottieRef.<span class="hljs-property">value</span>.<span class="hljs-property">lottieInstance</span>.<span class="hljs-title function_">pause</span>();
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-9">å››ã€é«˜çº§é…ç½®ä¸äº¤äº’æ§åˆ¶</h2>
<p>Lottie æä¾›äº†ä¸°å¯Œçš„ API ç”¨äºæ§åˆ¶åŠ¨ç”»ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„äº¤äº’åœºæ™¯ï¼š</p>
<h3 data-id="heading-10">1. æ‰‹åŠ¨æ§åˆ¶æ’­æ”¾ / æš‚åœ / åœæ­¢</h3>
<p>é€šè¿‡è·å– Lottie å®ä¾‹ï¼Œè°ƒç”¨å†…ç½®æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ’­æ”¾åŠ¨ç”»</span>
lottieInstance.<span class="hljs-title function_">play</span>();

<span class="hljs-comment">// æš‚åœåŠ¨ç”»</span>
lottieInstance.<span class="hljs-title function_">pause</span>();

<span class="hljs-comment">// åœæ­¢åŠ¨ç”»ï¼ˆé‡ç½®åˆ°ç¬¬ä¸€å¸§ï¼‰</span>
lottieInstance.<span class="hljs-title function_">stop</span>();

<span class="hljs-comment">// è·³è½¬åˆ°æŒ‡å®šå¸§ï¼ˆframeNum ä¸ºå¸§ç¼–å·ï¼‰</span>
lottieInstance.<span class="hljs-title function_">goToAndStop</span>(frameNum, <span class="hljs-literal">true</span>);

<span class="hljs-comment">// è·³è½¬åˆ°æŒ‡å®šå¸§å¹¶æ’­æ”¾</span>
lottieInstance.<span class="hljs-title function_">goToAndPlay</span>(frameNum, <span class="hljs-literal">true</span>);
</code></pre>
<h3 data-id="heading-11">2. åŠ¨æ€ä¿®æ”¹åŠ¨ç”»é€Ÿåº¦</h3>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">// è®¾ç½®é€Ÿåº¦ï¼ˆ0.5 ä¸ºæ…¢æ”¾ï¼Œ2 ä¸ºå¿«æ”¾ï¼‰
lottieInstance.setSpeed(0.5)<span class="hljs-comment">;</span>

// è·å–å½“å‰é€Ÿåº¦
const <span class="hljs-attr">currentSpeed</span> = lottieInstance.playSpeed<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-12">3. æ§åˆ¶å¾ªç¯æ¨¡å¼</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è®¾ç½®å¾ªç¯æ¬¡æ•°ï¼ˆ0 ä¸ºæ— é™å¾ªç¯ï¼Œ1 ä¸ºæ’­æ”¾ 1 æ¬¡ï¼‰</span>
lottieInstance.<span class="hljs-property">loop</span> = <span class="hljs-number">0</span>;

<span class="hljs-comment">// å•ç‹¬è®¾ç½®å¾ªç¯ï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰</span>
lottieInstance.<span class="hljs-title function_">setLoop</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// æ— é™å¾ªç¯</span>
lottieInstance.<span class="hljs-title function_">setLoop</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// å¾ªç¯ 3 æ¬¡</span>
</code></pre>
<h3 data-id="heading-13">4. ç›‘å¬åŠ¨ç”»è¿›åº¦</h3>
<p>é€šè¿‡Â <code>enterFrame</code>Â äº‹ä»¶ç›‘å¬åŠ¨ç”»è¿›åº¦ï¼Œå®ç°è¿›åº¦æ¡è”åŠ¨ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LottieAnimation</span>
    <span class="hljs-attr">path</span>=<span class="hljs-string">"/lottie/animation.json"</span>
    @<span class="hljs-attr">enterFrame</span>=<span class="hljs-string">"handleEnterFrame"</span>
  /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span>
    <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span>
    <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span>
    <span class="hljs-attr">max</span>=<span class="hljs-string">"100"</span>
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"progress"</span>
    @<span class="hljs-attr">input</span>=<span class="hljs-string">"handleProgressChange"</span>
  /&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> progress = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">let</span> totalFrames = <span class="hljs-number">0</span>;

<span class="hljs-comment">// ç›‘å¬æ¯ä¸€å¸§ï¼Œæ›´æ–°è¿›åº¦</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEnterFrame</span> = (<span class="hljs-params">e</span>) =&gt; {
  totalFrames = e.<span class="hljs-property">totalFrames</span>;
  progress.<span class="hljs-property">value</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((e.<span class="hljs-property">currentFrame</span> / totalFrames) * <span class="hljs-number">100</span>);
};

<span class="hljs-comment">// æ‹–åŠ¨è¿›åº¦æ¡ï¼Œè·³è½¬åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleProgressChange</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> targetFrame = (progress.<span class="hljs-property">value</span> / <span class="hljs-number">100</span>) * totalFrames;
  lottieInstance.<span class="hljs-title function_">goToAndPlay</span>(targetFrame, <span class="hljs-literal">true</span>);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-14">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-15">1. æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li><strong>æ‡’åŠ è½½</strong>ï¼šéé¦–å±åŠ¨ç”»ä½¿ç”¨Â <code>v-if</code>Â æˆ–åŠ¨æ€å¯¼å…¥ï¼ŒæŒ‰éœ€åˆå§‹åŒ–ï¼›</li>
<li><strong>é”€æ¯å®ä¾‹</strong>ï¼šç»„ä»¶å¸è½½æ—¶åŠ¡å¿…è°ƒç”¨Â <code>destroy()</code>Â é”€æ¯å®ä¾‹ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>é€‰æ‹©æ¸²æŸ“æ–¹å¼</strong>ï¼šä¼˜å…ˆä½¿ç”¨Â <code>svg</code>Â æ¸²æŸ“ï¼ˆçŸ¢é‡ã€è½»é‡ï¼‰ï¼Œå¤æ‚åŠ¨ç”»å¯ä½¿ç”¨Â <code>canvas</code>ï¼›</li>
<li><strong>å‹ç¼© JSON æ–‡ä»¶</strong>ï¼šä½¿ç”¨ LottieFiles åœ¨çº¿å·¥å…·å‹ç¼©åŠ¨ç”» JSONï¼Œå‡å°‘ä½“ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-16">2. å¸¸è§é—®é¢˜è§£å†³</h3>
<ul>
<li><strong>åŠ¨ç”»ä¸æ˜¾ç¤º</strong>ï¼šæ£€æŸ¥å®¹å™¨å®½é«˜æ˜¯å¦è®¾ç½®ã€JSON æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆ<code>path</code>Â ä»¥Â <code>/</code>Â å¼€å¤´è¡¨ç¤º public æ ¹ç›®å½•ï¼‰ï¼›</li>
<li><strong>åŠ¨ç”»å¡é¡¿</strong>ï¼šå‡å°‘åŠ¨ç”»å±‚æ•°å’Œå¤æ‚è·¯å¾„ï¼Œé¿å…åŒæ—¶æ’­æ”¾å¤šä¸ªå¤§å‹åŠ¨ç”»ï¼›</li>
<li><strong>è·¨åŸŸé—®é¢˜</strong>ï¼šè¿œç¨‹åŠ è½½ JSON æ–‡ä»¶éœ€ç¡®ä¿æœåŠ¡ç«¯å¼€å¯ CORSï¼›</li>
<li><strong>Vue3 æ‰“åŒ…è·¯å¾„é—®é¢˜</strong>ï¼š<code>animationData</code>Â å¯¼å…¥æœ¬åœ° JSON æ—¶ï¼ŒVite éœ€ç¡®ä¿Â <code>assetsInclude</code>Â åŒ…å«Â <code>.json</code>ï¼ˆé»˜è®¤å·²æ”¯æŒï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-17">å…­ã€æ€»ç»“</h2>
<p>Lottie æ˜¯ Vue3 é¡¹ç›®ä¸­å®ç°é«˜å“è´¨åŠ¨ç”»çš„æœ€ä½³é€‰æ‹©ä¹‹ä¸€ï¼Œé€šè¿‡å°è£…é€šç”¨ç»„ä»¶å¯å¿«é€Ÿé›†æˆåˆ°é¡¹ç›®ä¸­ï¼Œç»“åˆå…¶ä¸°å¯Œçš„ API èƒ½å®ç°çµæ´»çš„äº¤äº’æ§åˆ¶ã€‚æœ¬æ–‡ä»åŸºç¡€å®‰è£…ã€ç»„ä»¶å°è£…ã€é«˜çº§äº¤äº’åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œè¦†ç›–äº† Lottie åœ¨ Vue3 ä¸­çš„æ ¸å¿ƒä½¿ç”¨åœºæ™¯ã€‚åˆç†ä½¿ç”¨ Lottie å¯æ˜¾è‘—æå‡é¡µé¢äº¤äº’ä½“éªŒï¼ŒåŒæ—¶å…¼é¡¾æ€§èƒ½ä¸å…¼å®¹æ€§ã€‚</p>
<p>å¦‚æœéœ€è¦æ›´å¤æ‚çš„åœºæ™¯ï¼ˆå¦‚åŠ¨ç”»åˆ†æ®µæ’­æ”¾ã€ç»“åˆ Vuex/Pinia æ§åˆ¶åŠ¨ç”»çŠ¶æ€ï¼‰ï¼Œå¯åŸºäºæœ¬æ–‡çš„é€šç”¨ç»„ä»¶æ‰©å±•ï¼Œç»“åˆä¸šåŠ¡éœ€æ±‚å®šåˆ¶åŒ–å¼€å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3 æ’ä»¶ç³»ç»Ÿé‡æ„å®æˆ˜ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç²¾ç®€é«˜æ•ˆ]]></title>    <link>https://juejin.cn/post/7589541466701299712</link>    <guid>https://juejin.cn/post/7589541466701299712</guid>    <pubDate>2025-12-31T01:29:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589541466701299712" data-draft-id="7589526591565152256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue 3 æ’ä»¶ç³»ç»Ÿé‡æ„å®æˆ˜ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç²¾ç®€é«˜æ•ˆ"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-31T01:29:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2277843821926871"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue 3 æ’ä»¶ç³»ç»Ÿé‡æ„å®æˆ˜ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç²¾ç®€é«˜æ•ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2277843821926871/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.4 èä¼šè´¯é€š
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.4 èä¼šè´¯é€š" title="VIP.4 èä¼šè´¯é€š" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:29:51.000Z" title="Wed Dec 31 2025 01:29:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€æ¬¡åŸºäº YAGNI åŸåˆ™çš„æ¶æ„ä¼˜åŒ–ä¹‹æ—…ï¼Œä»£ç å‡å°‘ 26.5%ï¼Œå¯åŠ¨é€Ÿåº¦æå‡ 35%</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ç»´æŠ¤ä¸€ä¸ªå¤§å‹ Vue 3 ä¼ä¸šçº§é¡¹ç›®æ—¶ï¼Œæˆ‘å‘ç°åº”ç”¨å¯åŠ¨è¶Šæ¥è¶Šæ…¢ï¼Œæ’ä»¶ç³»ç»Ÿçš„ä»£ç ä¹Ÿè¶Šæ¥è¶Šè‡ƒè‚¿ã€‚ç»è¿‡æ·±å…¥åˆ†æï¼Œæˆ‘æ„è¯†åˆ°é—®é¢˜çš„æ ¹æºåœ¨äº<strong>è¿‡åº¦è®¾è®¡</strong>â€”â€”æˆ‘ä»¬å®ç°äº†å¾ˆå¤š"å¯èƒ½ä¼šç”¨åˆ°"çš„åŠŸèƒ½ï¼Œä½†å®é™…ä¸Šä»æœªä½¿ç”¨è¿‡ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°†åˆ†äº«æˆ‘å¦‚ä½•é€šè¿‡åº”ç”¨ YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰åŸåˆ™ï¼Œå°†ä¸€ä¸ª 837 è¡Œçš„æ’ä»¶ç³»ç»Ÿé‡æ„ä¸º 615 è¡Œï¼ŒåŒæ—¶å°†å¯åŠ¨æ—¶é—´ä» 1500ms ä¼˜åŒ–åˆ° 980ms çš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€é—®é¢˜è¯Šæ–­ï¼šè¿‡åº¦è®¾è®¡çš„ä»£ä»·</h2>
<h3 data-id="heading-2">1.1 ç—‡çŠ¶è¡¨ç°</h3>
<p>åœ¨å¼€å§‹é‡æ„å‰ï¼Œæˆ‘ä»¬çš„æ’ä»¶ç³»ç»Ÿå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><strong>æ€§èƒ½é—®é¢˜</strong>ï¼š</p>
<ul>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼š~1200ms</li>
<li>æ’ä»¶å®‰è£…è€—æ—¶ï¼š~300ms</li>
<li>åˆå§‹å†…å­˜å ç”¨ï¼š~45MB</li>
</ul>
<p><strong>ä»£ç é—®é¢˜</strong>ï¼š</p>
<ul>
<li>æ’ä»¶ç®¡ç†å™¨ 425 è¡Œï¼ŒèŒè´£ä¸æ¸…</li>
<li>ç±»å‹å®šä¹‰ 150 è¡Œï¼Œå……æ–¥ç€ <code>any</code> ç±»å‹</li>
<li>åˆå§‹åŒ–æµç¨‹æ··ä¹±ï¼ŒåŒæ­¥å¼‚æ­¥æ··æ‚</li>
</ul>
<h3 data-id="heading-3">1.2 æ·±å±‚åŸå› åˆ†æ</h3>
<p>é€šè¿‡ä»£ç å®¡æŸ¥å’Œä½¿ç”¨ç‡ç»Ÿè®¡ï¼Œæˆ‘å‘ç°äº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<p><strong>é—®é¢˜ä¸€ï¼šå®ç°äº†å®Œæ•´çš„æ’ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œä½†ä½¿ç”¨ç‡æä½</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šå®šä¹‰äº† 5 ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginLifecycle</span> {
  register?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>    <span class="hljs-comment">// ä½¿ç”¨ç‡: 0%</span>
  <span class="hljs-attr">install</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>      <span class="hljs-comment">// ä½¿ç”¨ç‡: 100%</span>
  enable?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>      <span class="hljs-comment">// ä½¿ç”¨ç‡: 0%</span>
  disable?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>     <span class="hljs-comment">// ä½¿ç”¨ç‡: 0%</span>
  uninstall?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>   <span class="hljs-comment">// ä½¿ç”¨ç‡: 0%</span>
}
</code></pre>
<p>ç»Ÿè®¡æ˜¾ç¤ºï¼Œé™¤äº† <code>install</code> æ–¹æ³•ï¼Œå…¶ä»–ç”Ÿå‘½å‘¨æœŸé’©å­çš„ä½¿ç”¨ç‡ä¸º <strong>0%</strong>ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ç»´æŠ¤äº†å¤§é‡æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨çš„ä»£ç ã€‚</p>
<p><strong>é—®é¢˜äºŒï¼šEventEmitter å¢åŠ äº†å¤æ‚åº¦ï¼Œä½†æ”¶ç›Šæœ‰é™</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šä½¿ç”¨ EventEmitter ç®¡ç†æ’ä»¶äº‹ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'before:install'</span>, name)
    <span class="hljs-comment">// ... å®‰è£…é€»è¾‘</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'after:install'</span>, name)
  }
}

<span class="hljs-comment">// å®é™…ä½¿ç”¨ï¼šæ²¡æœ‰ä»»ä½•åœ°æ–¹ç›‘å¬è¿™äº›äº‹ä»¶</span>
<span class="hljs-comment">// æœç´¢ç»“æœï¼š0 ä¸ª .on('before:install') è°ƒç”¨</span>
</code></pre>
<p>EventEmitter å¸¦æ¥äº†é¢å¤–çš„å†…å­˜å¼€é”€å’Œå¤æ‚åº¦ï¼Œä½†æ²¡æœ‰ä»»ä½•å®é™…ä»·å€¼ã€‚</p>
<p><strong>é—®é¢˜ä¸‰ï¼šç±»å‹å®‰å…¨æ€§å·®</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šå¤§é‡ä½¿ç”¨ any ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span> {
  <span class="hljs-attr">install</span>: <span class="hljs-function">(<span class="hljs-params">app: App, options?: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>  <span class="hljs-comment">// âŒ any ç±»å‹</span>
  defaultOptions?: <span class="hljs-built_in">any</span>                         <span class="hljs-comment">// âŒ any ç±»å‹</span>
}

<span class="hljs-comment">// å¯¼è‡´çš„é—®é¢˜ï¼š</span>
pluginManager.<span class="hljs-title function_">install</span>(<span class="hljs-string">'myPlugin'</span>, { 
  <span class="hljs-attr">typoInOptionName</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// ç¼–è¯‘æ—¶æ— æ³•å‘ç°é”™è¯¯</span>
})
</code></pre>
<h3 data-id="heading-4">1.3 æ€§èƒ½ç“¶é¢ˆå®šä½</h3>
<p>ä½¿ç”¨ Chrome DevTools Performance åˆ†æï¼Œæˆ‘å‘ç°äº†å‡ ä¸ªå…³é”®ç“¶é¢ˆï¼š</p>
<ol>
<li><strong>æ’ä»¶ç®¡ç†å™¨åˆå§‹åŒ–</strong>ï¼šåˆ›å»º EventEmitterã€åˆå§‹åŒ–çŠ¶æ€ç®¡ç† â†’ 80ms</li>
<li><strong>ä¾èµ–æ£€æŸ¥é€»è¾‘</strong>ï¼šéå†æ’ä»¶ä¾èµ–æ ‘ï¼ˆå®é™…æ²¡æœ‰ä¾èµ–ï¼‰ â†’ 45ms</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸé’©å­è°ƒç”¨</strong>ï¼šè§¦å‘ç©ºçš„äº‹ä»¶ç›‘å¬å™¨ â†’ 30ms</li>
</ol>
<p>è¿™äº›éƒ½æ˜¯å¯ä»¥é¿å…çš„å¼€é”€ã€‚</p>
<h2 data-id="heading-5">äºŒã€è®¾è®¡åŸåˆ™ï¼šYAGNI ä¸èŒè´£åˆ†ç¦»</h2>
<h3 data-id="heading-6">2.1 YAGNI åŸåˆ™çš„åº”ç”¨</h3>
<p>YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰æ˜¯æé™ç¼–ç¨‹çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€ï¼Œæ„æ€æ˜¯"ä½ ä¸ä¼šéœ€è¦å®ƒ"ã€‚åœ¨é‡æ„ä¸­ï¼Œæˆ‘ä¸¥æ ¼éµå¾ªè¿™ä¸ªåŸåˆ™ï¼š</p>
<p><strong>åˆ é™¤å†³ç­–çŸ©é˜µ</strong>ï¼š</p>















































<table><thead><tr><th>åŠŸèƒ½</th><th>å½“å‰ä½¿ç”¨ç‡</th><th>æœªæ¥å¯èƒ½æ€§</th><th>å†³ç­–</th></tr></thead><tbody><tr><td>install ç”Ÿå‘½å‘¨æœŸ</td><td>100%</td><td>å¿…éœ€</td><td>âœ… ä¿ç•™</td></tr><tr><td>enable/disable</td><td>0%</td><td>ä½</td><td>âŒ åˆ é™¤</td></tr><tr><td>uninstall</td><td>0%</td><td>ä½</td><td>âŒ åˆ é™¤</td></tr><tr><td>EventEmitter</td><td>0%</td><td>ä½</td><td>âŒ åˆ é™¤</td></tr><tr><td>ä¾èµ–æ£€æŸ¥</td><td>0%</td><td>ä¸­</td><td>âŒ åˆ é™¤ï¼ˆç”¨ priority æ›¿ä»£ï¼‰</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>20%</td><td>ä¸­</td><td>âœ… ç®€åŒ–ï¼ˆåªä¿ç•™ installed é›†åˆï¼‰</td></tr></tbody></table>
<h3 data-id="heading-7">2.2 èŒè´£åˆ†ç¦»åŸåˆ™</h3>
<p>æ—§æ¶æ„çš„ <code>PluginManager</code> æ‰¿æ‹…äº†å¤ªå¤šèŒè´£ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šPluginManager åšäº†å¤ªå¤šäº‹æƒ…</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
  <span class="hljs-comment">// èŒè´£1: æ’ä»¶æ³¨å†Œ</span>
  <span class="hljs-title function_">register</span>(<span class="hljs-params">plugin: PluginDefinition</span>) { }
  
  <span class="hljs-comment">// èŒè´£2: æ’ä»¶å®‰è£…</span>
  <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
  
  <span class="hljs-comment">// èŒè´£3: ç”Ÿå‘½å‘¨æœŸç®¡ç†</span>
  <span class="hljs-title function_">enable</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
  <span class="hljs-title function_">disable</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
  
  <span class="hljs-comment">// èŒè´£4: ä¾èµ–ç®¡ç†</span>
  <span class="hljs-title function_">checkDependencies</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
  
  <span class="hljs-comment">// èŒè´£5: äº‹ä»¶ç®¡ç†</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-params">event: <span class="hljs-built_in">string</span></span>) { }
  <span class="hljs-title function_">on</span>(<span class="hljs-params">event: <span class="hljs-built_in">string</span>, handler: <span class="hljs-built_in">Function</span></span>) { }
  
  <span class="hljs-comment">// èŒè´£6: çŠ¶æ€æŸ¥è¯¢</span>
  <span class="hljs-title function_">isInstalled</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
  <span class="hljs-title function_">getStatus</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { }
}
</code></pre>
<p>æ–°æ¶æ„å°†èŒè´£æ¸…æ™°åˆ†ç¦»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–°æ¶æ„ï¼šèŒè´£æ¸…æ™°åˆ†ç¦»</span>

<span class="hljs-comment">// 1. ç±»å‹å®šä¹‰ï¼ˆsrc/plugins/core/types.tsï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-attr">metadata</span>: <span class="hljs-title class_">PluginMetadata</span>
  defaultOptions?: T
  <span class="hljs-attr">install</span>: <span class="hljs-title class_">PluginInstallFn</span>&lt;T&gt;
}

<span class="hljs-comment">// 2. æ’ä»¶å®‰è£…å™¨ï¼ˆsrc/plugins/core/installer.tsï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-title function_">register</span>(<span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span>): <span class="hljs-built_in">void</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">installOne</span>(<span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>, <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PluginInstallResult</span>&gt;
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">installAll</span>(<span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>, <span class="hljs-attr">config</span>: <span class="hljs-title class_">PluginConfigMap</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PluginInstallResult</span>[]&gt;
}

<span class="hljs-comment">// 3. æ’ä»¶æ³¨å†Œä¸­å¿ƒï¼ˆsrc/plugins/registry.tsï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAllPlugins</span>(<span class="hljs-params"/>): <span class="hljs-title class_">PluginDefinition</span>[]
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getDefaultPluginConfig</span>(<span class="hljs-params"/>): <span class="hljs-title class_">PluginConfigMap</span>

<span class="hljs-comment">// 4. åº”ç”¨åˆå§‹åŒ–å™¨ï¼ˆsrc/bootstrap/app-initializer.tsï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppInitializer</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initPlugins</span>(<span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">InitResult</span>&gt;
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadStyles</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">InitResult</span>&gt;
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initFeatures</span>(<span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>, <span class="hljs-attr">router</span>: <span class="hljs-title class_">Router</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">InitResult</span>&gt;
}
</code></pre>
<p>æ¯ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹ï¼ŒèŒè´£æ¸…æ™°ï¼Œæ˜“äºæµ‹è¯•å’Œç»´æŠ¤ã€‚</p>
<h3 data-id="heading-8">2.3 ç±»å‹å®‰å…¨ä¼˜å…ˆ</h3>
<p>æ–°æ¶æ„ä½¿ç”¨ TypeScript æ³›å‹å®ç°å¼ºç±»å‹çº¦æŸï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–°æ¶æ„ï¼šå¼ºç±»å‹æ’ä»¶å®šä¹‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">metadata</span>: <span class="hljs-title class_">PluginMetadata</span>
  <span class="hljs-keyword">readonly</span> defaultOptions?: T
  <span class="hljs-attr">install</span>: <span class="hljs-title class_">PluginInstallFn</span>&lt;T&gt;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PiniaOptions</span> {
  <span class="hljs-attr">enablePersistence</span>: <span class="hljs-built_in">boolean</span>
  <span class="hljs-attr">enableDevtools</span>: <span class="hljs-built_in">boolean</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">piniaPlugin</span>: <span class="hljs-title class_">PluginDefinition</span>&lt;<span class="hljs-title class_">PiniaOptions</span>&gt; = {
  <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'pinia'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span> },
  <span class="hljs-attr">defaultOptions</span>: {
    <span class="hljs-attr">enablePersistence</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">enableDevtools</span>: <span class="hljs-literal">false</span>,
  },
  <span class="hljs-title function_">install</span>(<span class="hljs-params">app, options</span>) {
    <span class="hljs-comment">// options ç±»å‹ä¸º PiniaOptionsï¼Œæœ‰å®Œæ•´çš„æ™ºèƒ½æç¤º</span>
    <span class="hljs-keyword">if</span> (options.<span class="hljs-property">enablePersistence</span>) { }
  }
}
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€æ¶æ„è®¾è®¡ï¼šåˆ†å±‚ä¸åˆ†é˜¶æ®µ</h2>
<h3 data-id="heading-10">3.1 æ–°æ¶æ„åˆ†å±‚è®¾è®¡</h3>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ plugins/
â”‚   â”œâ”€â”€ core/                    <span class="hljs-comment"># æ ¸å¿ƒå±‚</span>
â”‚   â”‚   â”œâ”€â”€ types.ts            <span class="hljs-comment"># ç±»å‹å®šä¹‰ï¼ˆ80è¡Œï¼‰</span>
â”‚   â”‚   â””â”€â”€ installer.ts        <span class="hljs-comment"># æ’ä»¶å®‰è£…å™¨ï¼ˆ180è¡Œï¼‰</span>
â”‚   â”œâ”€â”€ registry.ts             <span class="hljs-comment"># æ³¨å†Œå±‚ï¼ˆ45è¡Œï¼‰</span>
â”‚   â”œâ”€â”€ piniaStateManager.ts    <span class="hljs-comment"># å…·ä½“æ’ä»¶</span>
â”‚   â”œâ”€â”€ i18nSystem.ts
â”‚   â””â”€â”€ consoleInterceptor.ts
â”œâ”€â”€ bootstrap/
â”‚   â””â”€â”€ app-initializer.ts      <span class="hljs-comment"># åˆå§‹åŒ–å±‚ï¼ˆ250è¡Œï¼‰</span>
â””â”€â”€ main.ts                      <span class="hljs-comment"># å…¥å£å±‚ï¼ˆ140è¡Œï¼‰</span>
</code></pre>
<p><strong>åˆ†å±‚èŒè´£</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ ¸å¿ƒå±‚</strong>ï¼ˆCoreï¼‰ï¼šæä¾›æ’ä»¶ç³»ç»Ÿçš„åŸºç¡€èƒ½åŠ›</p>
<ul>
<li>ç±»å‹å®šä¹‰ï¼šå®šä¹‰æ’ä»¶æ¥å£å’Œé…ç½®ç±»å‹</li>
<li>æ’ä»¶å®‰è£…å™¨ï¼šè´Ÿè´£æ’ä»¶çš„æ³¨å†Œå’Œå®‰è£…</li>
</ul>
</li>
<li>
<p><strong>æ³¨å†Œå±‚</strong>ï¼ˆRegistryï¼‰ï¼šç®¡ç†æ’ä»¶æ¸…å•å’Œé»˜è®¤é…ç½®</p>
<ul>
<li>æ’ä»¶åˆ—è¡¨ï¼šè¿”å›æ‰€æœ‰å¯ç”¨æ’ä»¶</li>
<li>é»˜è®¤é…ç½®ï¼šæä¾›æ’ä»¶çš„é»˜è®¤é€‰é¡¹</li>
</ul>
</li>
<li>
<p><strong>åˆå§‹åŒ–å±‚</strong>ï¼ˆBootstrapï¼‰ï¼šåè°ƒåº”ç”¨å¯åŠ¨æµç¨‹</p>
<ul>
<li>åˆ†é˜¶æ®µåˆå§‹åŒ–ï¼šæ ¸å¿ƒ â†’ æ’ä»¶ â†’ æ ·å¼ â†’ åŠŸèƒ½</li>
<li>é”™è¯¯å¤„ç†ï¼šç»Ÿä¸€çš„é”™è¯¯æ•è·å’Œé™çº§ç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>å…¥å£å±‚</strong>ï¼ˆMainï¼‰ï¼šåº”ç”¨å¯åŠ¨å…¥å£</p>
<ul>
<li>æ ¸å¿ƒä¾èµ–åˆå§‹åŒ–ï¼šVueã€Routerã€Piniaã€i18n</li>
<li>è°ƒç”¨åˆå§‹åŒ–å™¨ï¼šå¯åŠ¨åº”ç”¨</li>
</ul>
</li>
</ol>
<h3 data-id="heading-11">3.2 åˆ†é˜¶æ®µåˆå§‹åŒ–æµç¨‹</h3>
<p>æ–°æ¶æ„é‡‡ç”¨æ¸…æ™°çš„åˆ†é˜¶æ®µåˆå§‹åŒ–ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆå§‹åŒ–é˜¶æ®µå®šä¹‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">InitPhase</span> {
  <span class="hljs-variable constant_">CORE</span> = <span class="hljs-string">'core'</span>,           <span class="hljs-comment">// æ ¸å¿ƒä¾èµ–ï¼ˆé˜»å¡æ¸²æŸ“ï¼‰</span>
  <span class="hljs-variable constant_">PLUGINS</span> = <span class="hljs-string">'plugins'</span>,     <span class="hljs-comment">// æ’ä»¶ç³»ç»Ÿï¼ˆé˜»å¡æ¸²æŸ“ï¼‰</span>
  <span class="hljs-variable constant_">STYLES</span> = <span class="hljs-string">'styles'</span>,       <span class="hljs-comment">// æ ·å¼èµ„æºï¼ˆä¸é˜»å¡äº¤äº’ï¼‰</span>
  <span class="hljs-variable constant_">FEATURES</span> = <span class="hljs-string">'features'</span>,   <span class="hljs-comment">// éå…³é”®åŠŸèƒ½ï¼ˆä¸é˜»å¡äº¤äº’ï¼‰</span>
}
</code></pre>
<p><strong>å¯åŠ¨æ—¶åºå›¾</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">æ—¶é—´è½´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;
       â”‚
       â”œâ”€ <span class="hljs-number">1.</span> åˆå§‹åŒ–æ ¸å¿ƒä¾èµ–ï¼ˆåŒæ­¥ï¼Œé˜»å¡ï¼‰
       â”‚    â”œâ”€ åˆ›å»º Vue åº”ç”¨
       â”‚    â”œâ”€ å®‰è£… Routerã€Piniaã€i18n
       â”‚    â””â”€ æ³¨å†Œå…¨å±€æŒ‡ä»¤å’Œç»„ä»¶
       â”‚
       â”œâ”€ <span class="hljs-number">2.</span> æŒ‚è½½åº”ç”¨åˆ° DOMï¼ˆåŒæ­¥ï¼Œé˜»å¡ï¼‰
       â”‚    â””â”€ app.<span class="hljs-built_in">mount</span>(<span class="hljs-string">'#app'</span>)  â† ç”¨æˆ·çœ‹åˆ°ç•Œé¢
       â”‚
       â”œâ”€ <span class="hljs-number">3.</span> åˆå§‹åŒ–æ’ä»¶ç³»ç»Ÿï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡æ¸²æŸ“ï¼‰
       â”‚    â”œâ”€ æ³¨å†Œæ‰€æœ‰æ’ä»¶
       â”‚    â””â”€ æŒ‰ä¼˜å…ˆçº§å®‰è£…æ’ä»¶
       â”‚
       â”œâ”€ <span class="hljs-number">4.</span> åŠ è½½æ ·å¼èµ„æºï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡äº¤äº’ï¼‰
       â”‚    â”œâ”€ åŠ è½½ SCSS æ ·å¼
       â”‚    â””â”€ åŠ è½½å›¾æ ‡å­—ä½“
       â”‚
       â””â”€ <span class="hljs-number">5.</span> åˆå§‹åŒ–éå…³é”®åŠŸèƒ½ï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡äº¤äº’ï¼‰
            â”œâ”€ é”™è¯¯å¤„ç†ç³»ç»Ÿ
            â”œâ”€ èµ„æºé¢„åŠ è½½å™¨
            â””â”€ æ€§èƒ½ç›‘æ§
</code></pre>
<p><strong>å…³é”®ä¼˜åŒ–ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>å°½æ—©æŒ‚è½½</strong>ï¼šæ ¸å¿ƒä¾èµ–åˆå§‹åŒ–åç«‹å³æŒ‚è½½ï¼Œè®©ç”¨æˆ·å°½å¿«çœ‹åˆ°ç•Œé¢</li>
<li><strong>å¼‚æ­¥åŠ è½½</strong>ï¼šæ’ä»¶ã€æ ·å¼ã€åŠŸèƒ½æ¨¡å—å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡é¦–æ¬¡æ¸²æŸ“</li>
<li><strong>é™çº§å¯åŠ¨</strong>ï¼šå¦‚æœæ’ä»¶å®‰è£…å¤±è´¥ï¼Œä»èƒ½å¯åŠ¨æ ¸å¿ƒåŠŸèƒ½</li>
</ol>
<h3 data-id="heading-12">3.3 é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. åˆå§‹åŒ–æ ¸å¿ƒä¾èµ–ï¼ˆå¿…é¡»æˆåŠŸï¼‰</span>
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()
    
    <span class="hljs-comment">// 2. æŒ‚è½½åº”ç”¨ï¼ˆå¿…é¡»æˆåŠŸï¼‰</span>
    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
    
    <span class="hljs-comment">// 3. åˆå§‹åŒ–æ’ä»¶ï¼ˆå¤±è´¥åˆ™é™çº§ï¼‰</span>
    <span class="hljs-keyword">const</span> initializer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppInitializer</span>()
    <span class="hljs-keyword">await</span> initializer.<span class="hljs-title function_">initPlugins</span>(app)
    
    <span class="hljs-comment">// 4. åŠ è½½æ ·å¼ï¼ˆå¤±è´¥ä¸å½±å“åŠŸèƒ½ï¼‰</span>
    initializer.<span class="hljs-title function_">loadStyles</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æ ·å¼åŠ è½½å¤±è´¥'</span>, error)
    })
    
    <span class="hljs-comment">// 5. åˆå§‹åŒ–åŠŸèƒ½ï¼ˆå¤±è´¥ä¸å½±å“æ ¸å¿ƒï¼‰</span>
    initializer.<span class="hljs-title function_">initFeatures</span>(app, router).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥'</span>, error)
    })
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// é™çº§å¯åŠ¨ï¼šåªåŠ è½½æ ¸å¿ƒåŠŸèƒ½</span>
    logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'å°è¯•é™çº§å¯åŠ¨'</span>)
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()
    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
  }
}
</code></pre>
<h2 data-id="heading-13">å››ã€æ ¸å¿ƒå®ç°ï¼šä»ç†è®ºåˆ°ä»£ç </h2>
<h3 data-id="heading-14">4.1 ç±»å‹å®šä¹‰ï¼šå¼ºç±»å‹çº¦æŸ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/core/types.ts</span>

<span class="hljs-comment">/**
 * æ’ä»¶å®‰è£…å‡½æ•°
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">PluginInstallFn</span>&lt;T = <span class="hljs-built_in">any</span>&gt; = <span class="hljs-function">(<span class="hljs-params">
  app: App, 
  options?: T
</span>) =&gt;</span> <span class="hljs-built_in">void</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;

<span class="hljs-comment">/**
 * æ’ä»¶å…ƒæ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginMetadata</span> {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>           <span class="hljs-comment">// æ’ä»¶å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">version</span>: <span class="hljs-built_in">string</span>         <span class="hljs-comment">// æ’ä»¶ç‰ˆæœ¬</span>
  <span class="hljs-keyword">readonly</span> description?: <span class="hljs-built_in">string</span>    <span class="hljs-comment">// æ’ä»¶æè¿°</span>
  <span class="hljs-keyword">readonly</span> core?: <span class="hljs-built_in">boolean</span>          <span class="hljs-comment">// æ˜¯å¦ä¸ºæ ¸å¿ƒæ’ä»¶</span>
  <span class="hljs-keyword">readonly</span> priority?: <span class="hljs-built_in">number</span>       <span class="hljs-comment">// å®‰è£…ä¼˜å…ˆçº§ï¼ˆè¶Šå°è¶Šå…ˆå®‰è£…ï¼‰</span>
}

<span class="hljs-comment">/**
 * æ’ä»¶å®šä¹‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">metadata</span>: <span class="hljs-title class_">PluginMetadata</span>
  <span class="hljs-keyword">readonly</span> defaultOptions?: T
  <span class="hljs-attr">install</span>: <span class="hljs-title class_">PluginInstallFn</span>&lt;T&gt;
}

<span class="hljs-comment">/**
 * æ’ä»¶å®‰è£…ç»“æœ
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginInstallResult</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>
  <span class="hljs-attr">duration</span>: <span class="hljs-built_in">number</span>
  error?: <span class="hljs-title class_">Error</span>
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>æ³›å‹çº¦æŸ</strong>ï¼š<code>PluginDefinition&lt;T&gt;</code> ä½¿ç”¨æ³›å‹çº¦æŸé…ç½®ç±»å‹</li>
<li><strong>åªè¯»å±æ€§</strong>ï¼š<code>readonly</code> é˜²æ­¢å…ƒæ•°æ®è¢«æ„å¤–ä¿®æ”¹</li>
<li><strong>å¯é€‰å±æ€§</strong>ï¼š<code>?</code> æ ‡è®°éå¿…éœ€å­—æ®µï¼Œå‡å°‘æ ·æ¿ä»£ç </li>
<li><strong>ç»“æœç±»å‹</strong>ï¼š<code>PluginInstallResult</code> æä¾›è¯¦ç»†çš„å®‰è£…åé¦ˆ</li>
</ol>
<h3 data-id="heading-15">4.2 æ’ä»¶å®‰è£…å™¨ï¼šè½»é‡é«˜æ•ˆ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/core/installer.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> plugins = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">PluginDefinition</span>&gt;()
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> installed = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;()
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">InstallerOptions</span>&gt;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options: InstallerOptions = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">debug</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
      ...options,
    }
  }

  <span class="hljs-comment">/**
   * æ³¨å†Œæ’ä»¶
   */</span>
  <span class="hljs-title function_">register</span>(<span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">has</span>(plugin.<span class="hljs-property">metadata</span>.<span class="hljs-property">name</span>)) {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æ’ä»¶ <span class="hljs-subst">${plugin.metadata.name}</span> å·²æ³¨å†Œï¼Œå°†è¢«è¦†ç›–`</span>)
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">set</span>(plugin.<span class="hljs-property">metadata</span>.<span class="hljs-property">name</span>, plugin)
  }

  <span class="hljs-comment">/**
   * å®‰è£…å•ä¸ªæ’ä»¶ï¼ˆå¸¦è¶…æ—¶ä¿æŠ¤ï¼‰
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">installOne</span>(
    <span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,
    config?: <span class="hljs-built_in">any</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PluginInstallResult</span>&gt; {
    <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>()
    <span class="hljs-keyword">const</span> plugin = <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">get</span>(name)

    <span class="hljs-keyword">if</span> (!plugin) {
      <span class="hljs-keyword">return</span> {
        name,
        <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">duration</span>: performance.<span class="hljs-title function_">now</span>() - startTime,
        <span class="hljs-attr">error</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æ’ä»¶ <span class="hljs-subst">${name}</span> æœªæ³¨å†Œ`</span>),
      }
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> options = { ...plugin.<span class="hljs-property">defaultOptions</span>, ...config }
      
      <span class="hljs-comment">// å…³é”®ï¼šå¸¦è¶…æ—¶çš„å®‰è£…ï¼Œé˜²æ­¢æ’ä»¶å¡æ­»</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
        plugin.<span class="hljs-title function_">install</span>(app, options),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span>
          <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å®‰è£…è¶…æ—¶'</span>)), <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">timeout</span>),
        ),
      ])

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">installed</span>.<span class="hljs-title function_">add</span>(name)
      <span class="hljs-keyword">return</span> { 
        name, 
        <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, 
        <span class="hljs-attr">duration</span>: performance.<span class="hljs-title function_">now</span>() - startTime 
      }
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">return</span> {
        name,
        <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">duration</span>: performance.<span class="hljs-title function_">now</span>() - startTime,
        <span class="hljs-attr">error</span>: error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>,
      }
    }
  }
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<p><strong>Map + Set æ•°æ®ç»“æ„</strong>ï¼š</p>
<ul>
<li><code>Map&lt;string, PluginDefinition&gt;</code> å­˜å‚¨æ’ä»¶å®šä¹‰ï¼ŒO(1) æŸ¥æ‰¾</li>
<li><code>Set&lt;string&gt;</code> å­˜å‚¨å·²å®‰è£…æ’ä»¶ï¼ŒO(1) å»é‡æ£€æŸ¥</li>
</ul>
</li>
<li>
<p><strong>è¶…æ—¶ä¿æŠ¤</strong>ï¼šä½¿ç”¨ <code>Promise.race</code> é˜²æ­¢æ’ä»¶å®‰è£…å¡æ­»</p>
</li>
<li>
<p><strong>è¯¦ç»†çš„ç»“æœåé¦ˆ</strong>ï¼šè¿”å› <code>PluginInstallResult</code> åŒ…å«æˆåŠŸçŠ¶æ€ã€è€—æ—¶ã€é”™è¯¯ä¿¡æ¯</p>
</li>
<li>
<p><strong>æ ¸å¿ƒæ’ä»¶ä¿æŠ¤</strong>ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ¸å¿ƒæ’ä»¶å®‰è£…å¤±è´¥åˆ™æŠ›å‡ºé”™è¯¯ï¼Œé˜»æ­¢åº”ç”¨å¯åŠ¨</span>
<span class="hljs-keyword">if</span> (!result.<span class="hljs-property">success</span> &amp;&amp; plugin.<span class="hljs-property">metadata</span>.<span class="hljs-property">core</span>) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æ ¸å¿ƒæ’ä»¶ <span class="hljs-subst">${plugin.metadata.name}</span> å®‰è£…å¤±è´¥`</span>)
}
</code></pre>
<h3 data-id="heading-16">4.3 åº”ç”¨åˆå§‹åŒ–å™¨ï¼šåˆ†é˜¶æ®µåè°ƒ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/bootstrap/app-initializer.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppInitializer</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">results</span>: <span class="hljs-title class_">InitResult</span>[] = []
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">pluginInstaller</span>: <span class="hljs-title class_">PluginInstaller</span>

  <span class="hljs-comment">/**
   * åˆå§‹åŒ–æ’ä»¶ç³»ç»Ÿ
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initPlugins</span>(<span class="hljs-attr">app</span>: <span class="hljs-title class_">App</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">InitResult</span>&gt; {
    <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>()

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// 1. æ³¨å†Œæ‰€æœ‰æ’ä»¶</span>
      <span class="hljs-keyword">const</span> plugins = <span class="hljs-title function_">getAllPlugins</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginInstaller</span>.<span class="hljs-title function_">registerAll</span>(plugins)

      <span class="hljs-comment">// 2. å®‰è£…æ‰€æœ‰æ’ä»¶ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰</span>
      <span class="hljs-keyword">const</span> config = <span class="hljs-title function_">getDefaultPluginConfig</span>()
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginInstaller</span>.<span class="hljs-title function_">installAll</span>(app, config)

      <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - startTime
      logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`âœ“ æ’ä»¶ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ (<span class="hljs-subst">${duration.toFixed(<span class="hljs-number">2</span>)}</span>ms)`</span>)

      <span class="hljs-keyword">return</span> { <span class="hljs-attr">phase</span>: <span class="hljs-title class_">InitPhase</span>.<span class="hljs-property">PLUGINS</span>, <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, duration }
    } <span class="hljs-keyword">catch</span> (error) {
      logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'âœ— æ’ä»¶ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥'</span>, error)
      <span class="hljs-keyword">throw</span> error
    }
  }

  <span class="hljs-comment">/**
   * åŠ è½½æ ·å¼èµ„æºï¼ˆå…è®¸éƒ¨åˆ†å¤±è´¥ï¼‰
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadStyles</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">InitResult</span>&gt; {
    <span class="hljs-keyword">const</span> styleModules = [
      <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/assets/styles/var.scss'</span>),
      <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/assets/styles/index.scss'</span>),
      <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/assets/iconfont/iconfont.css'</span>),
    ]

    <span class="hljs-comment">// å¹¶è¡ŒåŠ è½½ï¼Œä½¿ç”¨ Promise.allSettled å…è®¸éƒ¨åˆ†å¤±è´¥</span>
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(
      styleModules.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">retryImport</span>(fn, <span class="hljs-number">3</span>)),
    )

    <span class="hljs-keyword">const</span> failed = results.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">status</span> === <span class="hljs-string">'rejected'</span>).<span class="hljs-property">length</span>
    <span class="hljs-keyword">if</span> (failed &gt; <span class="hljs-number">0</span>) {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`<span class="hljs-subst">${failed}</span>/<span class="hljs-subst">${styleModules.length}</span> ä¸ªæ ·å¼èµ„æºåŠ è½½å¤±è´¥`</span>)
    }

    <span class="hljs-keyword">return</span> { 
      <span class="hljs-attr">phase</span>: <span class="hljs-title class_">InitPhase</span>.<span class="hljs-property">STYLES</span>, 
      <span class="hljs-attr">success</span>: failed === <span class="hljs-number">0</span>, 
      <span class="hljs-attr">duration</span>: performance.<span class="hljs-title function_">now</span>() - startTime 
    }
  }
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<p><strong>ç»“æœæ”¶é›†</strong>ï¼šæ¯ä¸ªé˜¶æ®µçš„åˆå§‹åŒ–ç»“æœéƒ½è¢«è®°å½•ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§</p>
</li>
<li>
<p><strong>å®¹é”™è®¾è®¡</strong>ï¼š</p>
<ul>
<li>æ ¸å¿ƒæ’ä»¶å¤±è´¥ â†’ æŠ›å‡ºé”™è¯¯ï¼Œé˜»æ­¢å¯åŠ¨</li>
<li>æ ·å¼åŠ è½½å¤±è´¥ â†’ è®°å½•è­¦å‘Šï¼Œç»§ç»­å¯åŠ¨</li>
<li>åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥ â†’ è®°å½•è­¦å‘Šï¼Œç»§ç»­å¯åŠ¨</li>
</ul>
</li>
<li>
<p><strong>é‡è¯•æœºåˆ¶</strong>ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> retryImport&lt;T&gt;(
  <span class="hljs-attr">importFn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;,
  retries = <span class="hljs-number">3</span>,
  delay = <span class="hljs-number">1000</span>,
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= retries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> importFn()
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">if</span> (i === retries) <span class="hljs-keyword">throw</span> error
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, delay * (i + <span class="hljs-number">1</span>)))
    }
  }
}
</code></pre>
<h3 data-id="heading-17">4.4 å…¥å£æ–‡ä»¶ï¼šæ¸…æ™°çš„å¯åŠ¨æµç¨‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main.ts</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> totalStartTime = performance.<span class="hljs-title function_">now</span>()

  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. åˆå§‹åŒ–æ ¸å¿ƒä¾èµ–ï¼ˆåŒæ­¥ï¼Œé˜»å¡ï¼‰</span>
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()

    <span class="hljs-comment">// 2. æŒ‚è½½åº”ç”¨ï¼ˆå°½æ—©æ˜¾ç¤ºç•Œé¢ï¼‰</span>
    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
    logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'âœ“ åº”ç”¨å·²æŒ‚è½½åˆ° DOM'</span>)

    <span class="hljs-comment">// 3. åˆå§‹åŒ–æ’ä»¶ç³»ç»Ÿï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡æ¸²æŸ“ï¼‰</span>
    <span class="hljs-keyword">const</span> initializer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppInitializer</span>()
    <span class="hljs-keyword">await</span> initializer.<span class="hljs-title function_">initPlugins</span>(app)

    <span class="hljs-comment">// 4. åŠ è½½æ ·å¼èµ„æºï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡äº¤äº’ï¼‰</span>
    initializer.<span class="hljs-title function_">loadStyles</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æ ·å¼èµ„æºåŠ è½½å¤±è´¥ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰'</span>, error)
    })

    <span class="hljs-comment">// 5. åˆå§‹åŒ–éå…³é”®åŠŸèƒ½ï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡äº¤äº’ï¼‰</span>
    initializer.<span class="hljs-title function_">initFeatures</span>(app, router).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'éå…³é”®åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥ï¼ˆä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰'</span>, error)
    })

    <span class="hljs-comment">// è¾“å‡ºåˆå§‹åŒ–æ‘˜è¦</span>
    <span class="hljs-keyword">const</span> summary = initializer.<span class="hljs-title function_">getSummary</span>()
    logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ğŸ‰ åº”ç”¨å¯åŠ¨å®Œæˆ'</span>, summary)

    <span class="hljs-comment">// æš´éœ²è°ƒè¯•å·¥å…·ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">__APP_INITIALIZER__</span> = initializer
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">__PLUGIN_INSTALLER__</span> = initializer.<span class="hljs-property">pluginInstaller</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// é™çº§å¯åŠ¨ï¼šåªåŠ è½½æ ¸å¿ƒåŠŸèƒ½</span>
    logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'âš ï¸ å°è¯•é™çº§å¯åŠ¨ï¼ˆä»…æ ¸å¿ƒåŠŸèƒ½ï¼‰'</span>)
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()
    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
  }
}
</code></pre>
<h2 data-id="heading-18">äº”ã€æ€§èƒ½ä¼˜åŒ–ï¼šæ•°æ®è¯´è¯</h2>
<h3 data-id="heading-19">5.1 æ€§èƒ½æµ‹è¯•æ–¹æ³•</h3>
<p>ä½¿ç”¨ Chrome DevTools Performance å’Œè‡ªå®šä¹‰æ€§èƒ½ç›‘æ§è¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ€§èƒ½ç›‘æ§ä»£ç </span>
<span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>()

<span class="hljs-comment">// ... æ‰§è¡Œæ“ä½œ</span>

<span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - startTime
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ“ä½œè€—æ—¶: <span class="hljs-subst">${duration.toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>)
</code></pre>
<p>æµ‹è¯•ç¯å¢ƒï¼š</p>
<ul>
<li>CPU: Intel i7-10700K</li>
<li>å†…å­˜: 32GB</li>
<li>æµè§ˆå™¨: Chrome 120</li>
<li>ç½‘ç»œ: Fast 3Gï¼ˆæ¨¡æ‹ŸçœŸå®ç½‘ç»œç¯å¢ƒï¼‰</li>
</ul>
<h3 data-id="heading-20">5.2 æ€§èƒ½å¯¹æ¯”æ•°æ®</h3>
<p><strong>å¯åŠ¨æ—¶é—´å¯¹æ¯”</strong>ï¼š</p>









































<table><thead><tr><th>æŒ‡æ ‡</th><th>æ—§æ¶æ„</th><th>æ–°æ¶æ„</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td>æ ¸å¿ƒä¾èµ–åˆå§‹åŒ–</td><td>280ms</td><td>250ms</td><td>â†“ 11%</td></tr><tr><td>æ’ä»¶ç³»ç»Ÿåˆå§‹åŒ–</td><td>300ms</td><td>180ms</td><td>â†“ 40%</td></tr><tr><td>é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆFCPï¼‰</td><td>850ms</td><td>600ms</td><td>â†“ 29%</td></tr><tr><td>é¦–æ¬¡æ¸²æŸ“ï¼ˆFMPï¼‰</td><td>1200ms</td><td>800ms</td><td>â†“ 33%</td></tr><tr><td>å¯äº¤äº’æ—¶é—´ï¼ˆTTIï¼‰</td><td>1500ms</td><td>980ms</td><td>â†“ 35%</td></tr></tbody></table>
<p><strong>å†…å­˜å ç”¨å¯¹æ¯”</strong>ï¼š</p>





























<table><thead><tr><th>æŒ‡æ ‡</th><th>æ—§æ¶æ„</th><th>æ–°æ¶æ„</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td>åˆå§‹å †å†…å­˜</td><td>45MB</td><td>38MB</td><td>â†“ 16%</td></tr><tr><td>æ’ä»¶ç³»ç»Ÿå†…å­˜</td><td>8MB</td><td>5MB</td><td>â†“ 38%</td></tr><tr><td>è¿è¡Œæ—¶å³°å€¼å†…å­˜</td><td>120MB</td><td>105MB</td><td>â†“ 13%</td></tr></tbody></table>
<p><strong>ä»£ç ä½“ç§¯å¯¹æ¯”</strong>ï¼š</p>









































<table><thead><tr><th>æ¨¡å—</th><th>æ—§æ¶æ„</th><th>æ–°æ¶æ„</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td>ç±»å‹å®šä¹‰</td><td>150è¡Œ</td><td>80è¡Œ</td><td>â†“ 47%</td></tr><tr><td>æ’ä»¶ç®¡ç†å™¨</td><td>425è¡Œ</td><td>180è¡Œ</td><td>â†“ 58%</td></tr><tr><td>æ³¨å†Œä¸­å¿ƒ</td><td>93è¡Œ</td><td>45è¡Œ</td><td>â†“ 52%</td></tr><tr><td>åˆå§‹åŒ–é€»è¾‘</td><td>169è¡Œ</td><td>390è¡Œ</td><td>+131%</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>837è¡Œ</strong></td><td><strong>615è¡Œ</strong></td><td><strong>â†“ 26.5%</strong></td></tr></tbody></table>
<p>æ³¨ï¼šåˆå§‹åŒ–é€»è¾‘å¢åŠ æ˜¯å› ä¸ºèŒè´£åˆ†ç¦»ï¼Œå°†åŸæœ¬æ··åœ¨ main.ts ä¸­çš„é€»è¾‘æå–åˆ° app-initializer.tsã€‚</p>
<h3 data-id="heading-21">5.3 æ€§èƒ½æå‡çš„å…³é”®å› ç´ </h3>
<p><strong>1. ç§»é™¤ EventEmitter å¼€é”€</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šæ¯æ¬¡æ“ä½œéƒ½è§¦å‘äº‹ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'before:install'</span>, name)  <span class="hljs-comment">// éå†ç›‘å¬å™¨</span>
    <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'after:install'</span>, name)   <span class="hljs-comment">// éå†ç›‘å¬å™¨</span>
  }
}

<span class="hljs-comment">// æ–°æ¶æ„ï¼šç›´æ¥æ‰§è¡Œï¼Œæ— é¢å¤–å¼€é”€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">installOne</span>(<span class="hljs-params">app: App, name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app, options)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">installed</span>.<span class="hljs-title function_">add</span>(name)
  }
}
</code></pre>
<p><strong>èŠ‚çœæ—¶é—´</strong>ï¼šæ¯ä¸ªæ’ä»¶èŠ‚çœ ~15msï¼Œ3 ä¸ªæ’ä»¶å…±èŠ‚çœ ~45ms</p>
<p><strong>2. ä¼˜åŒ–æ•°æ®ç»“æ„</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šæ•°ç»„æŸ¥æ‰¾ O(n)</span>
<span class="hljs-keyword">private</span> <span class="hljs-attr">plugins</span>: <span class="hljs-title class_">PluginDefinition</span>[] = []
<span class="hljs-keyword">private</span> <span class="hljs-attr">installed</span>: <span class="hljs-built_in">string</span>[] = []

<span class="hljs-title function_">isInstalled</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">installed</span>.<span class="hljs-title function_">includes</span>(name)  <span class="hljs-comment">// O(n)</span>
}

<span class="hljs-comment">// æ–°æ¶æ„ï¼šMap/Set æŸ¥æ‰¾ O(1)</span>
<span class="hljs-keyword">private</span> plugins = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">PluginDefinition</span>&gt;()
<span class="hljs-keyword">private</span> installed = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;()

<span class="hljs-title function_">isInstalled</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">installed</span>.<span class="hljs-title function_">has</span>(name)  <span class="hljs-comment">// O(1)</span>
}
</code></pre>
<p><strong>èŠ‚çœæ—¶é—´</strong>ï¼šæŸ¥æ‰¾æ“ä½œä» O(n) é™åˆ° O(1)ï¼Œå¤§é‡è°ƒç”¨æ—¶æ•ˆæœæ˜¾è‘—</p>
<p><strong>3. ç§»é™¤æ— ç”¨çš„ä¾èµ–æ£€æŸ¥</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šæ¯æ¬¡å®‰è£…éƒ½æ£€æŸ¥ä¾èµ–ï¼ˆå®é™…æ²¡æœ‰ä¾èµ–ï¼‰</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkDependencies</span>(name)  <span class="hljs-comment">// éå†ä¾èµ–æ ‘ï¼Œè€—æ—¶ ~45ms</span>
  <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
}

<span class="hljs-comment">// æ–°æ¶æ„ï¼šä½¿ç”¨ priority æ§åˆ¶é¡ºåºï¼Œæ— éœ€ä¾èµ–æ£€æŸ¥</span>
<span class="hljs-keyword">const</span> sortedPlugins = plugins.<span class="hljs-title function_">sort</span>(
  <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> (a.<span class="hljs-property">metadata</span>.<span class="hljs-property">priority</span> ?? <span class="hljs-number">100</span>) - (b.<span class="hljs-property">metadata</span>.<span class="hljs-property">priority</span> ?? <span class="hljs-number">100</span>)
)
</code></pre>
<p><strong>èŠ‚çœæ—¶é—´</strong>ï¼šç§»é™¤ä¾èµ–æ£€æŸ¥ï¼ŒèŠ‚çœ ~45ms</p>
<p><strong>4. åˆ†é˜¶æ®µå¼‚æ­¥åŠ è½½</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§æ¶æ„ï¼šæ‰€æœ‰èµ„æºä¸²è¡ŒåŠ è½½ï¼Œé˜»å¡æ¸²æŸ“</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initCore</span>()
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initPlugins</span>()
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadStyles</span>()
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initFeatures</span>()
  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)  <span class="hljs-comment">// æœ€åæ‰æŒ‚è½½</span>
}

<span class="hljs-comment">// æ–°æ¶æ„ï¼šå°½æ—©æŒ‚è½½ï¼Œå¼‚æ­¥åŠ è½½éå…³é”®èµ„æº</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()
  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)  <span class="hljs-comment">// å°½æ—©æŒ‚è½½ï¼Œç”¨æˆ·çœ‹åˆ°ç•Œé¢</span>
  
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initPlugins</span>()  <span class="hljs-comment">// å…³é”®æ’ä»¶</span>
  <span class="hljs-title function_">loadStyles</span>()         <span class="hljs-comment">// å¼‚æ­¥ï¼Œä¸é˜»å¡</span>
  <span class="hljs-title function_">initFeatures</span>()       <span class="hljs-comment">// å¼‚æ­¥ï¼Œä¸é˜»å¡</span>
}
</code></pre>
<p><strong>ç”¨æˆ·ä½“éªŒæå‡</strong>ï¼š</p>
<ul>
<li>æ—§æ¶æ„ï¼šç”¨æˆ·ç­‰å¾… 1500ms æ‰çœ‹åˆ°ç•Œé¢</li>
<li>æ–°æ¶æ„ï¼šç”¨æˆ·ç­‰å¾… 800ms å°±çœ‹åˆ°ç•Œé¢ï¼Œæå‡ 47%</li>
</ul>
<h2 data-id="heading-22">å…­ã€è¿ç§»è¿‡ç¨‹ï¼šæ¸è¿›å¼é‡æ„</h2>
<h3 data-id="heading-23">6.1 å¹¶è¡Œè¿è¡Œç­–ç•¥</h3>
<p>ä¸ºäº†é™ä½é£é™©ï¼Œæˆ‘é‡‡ç”¨äº†å¹¶è¡Œè¿è¡Œç­–ç•¥ï¼š</p>
<p><strong>æ­¥éª¤ 1ï¼šåˆ›å»º V2 ç‰ˆæœ¬æ–‡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash">src/plugins/
â”œâ”€â”€ core/                    <span class="hljs-comment"># æ–°æ¶æ„</span>
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ installer.ts
â”œâ”€â”€ registry-v2.ts           <span class="hljs-comment"># æ–°æ¶æ„</span>
â”œâ”€â”€ PluginManager.ts         <span class="hljs-comment"># æ—§æ¶æ„ï¼ˆä¿ç•™ï¼‰</span>
â”œâ”€â”€ types.ts                 <span class="hljs-comment"># æ—§æ¶æ„ï¼ˆä¿ç•™ï¼‰</span>
â””â”€â”€ registry.ts              <span class="hljs-comment"># æ—§æ¶æ„ï¼ˆä¿ç•™ï¼‰</span>

src/
â”œâ”€â”€ main.ts                  <span class="hljs-comment"># æ—§å…¥å£ï¼ˆä¿ç•™ï¼‰</span>
â”œâ”€â”€ main-v2.ts               <span class="hljs-comment"># æ–°å…¥å£</span>
â””â”€â”€ bootstrap/
    â””â”€â”€ app-initializer.ts   <span class="hljs-comment"># æ–°æ¶æ„</span>
</code></pre>
<p><strong>æ­¥éª¤ 2ï¼šé…ç½®åŒå…¥å£</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">server</span>: { <span class="hljs-attr">port</span>: <span class="hljs-number">5173</span> },  <span class="hljs-comment">// æ—§æ¶æ„ç«¯å£</span>
  <span class="hljs-comment">// ...</span>
})

<span class="hljs-comment">// vite.config.v2.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">server</span>: { <span class="hljs-attr">port</span>: <span class="hljs-number">5174</span> },  <span class="hljs-comment">// æ–°æ¶æ„ç«¯å£</span>
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// æ—§æ¶æ„</span>
    <span class="hljs-attr">"dev:v2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite --config vite.config.v2.ts"</span>  <span class="hljs-comment">// æ–°æ¶æ„</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ­¥éª¤ 3ï¼šå¯¹æ¯”æµ‹è¯•</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯ 1ï¼šè¿è¡Œæ—§æ¶æ„</span>
npm run dev

<span class="hljs-comment"># ç»ˆç«¯ 2ï¼šè¿è¡Œæ–°æ¶æ„</span>
npm run dev:v2

<span class="hljs-comment"># å¯¹æ¯”æµ‹è¯•ï¼š</span>
<span class="hljs-comment"># - åŠŸèƒ½å®Œæ•´æ€§</span>
<span class="hljs-comment"># - æ€§èƒ½æŒ‡æ ‡</span>
<span class="hljs-comment"># - é”™è¯¯ç‡</span>
<span class="hljs-comment"># - å†…å­˜å ç”¨</span>
</code></pre>
<p><strong>æµ‹è¯•æ¸…å•</strong>ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ‰€æœ‰é¡µé¢æ­£å¸¸æ¸²æŸ“</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è·¯ç”±è·³è½¬æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> çŠ¶æ€ç®¡ç†æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å›½é™…åŒ–åˆ‡æ¢æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é”™è¯¯å¤„ç†æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ— æ§åˆ¶å°é”™è¯¯</li>
</ul>
<h3 data-id="heading-24">6.2 å®Œå…¨è¿ç§»</h3>
<p>ç»è¿‡ 2 å‘¨çš„å¹¶è¡Œæµ‹è¯•ï¼Œç¡®è®¤æ–°æ¶æ„ç¨³å®šåï¼Œæ‰§è¡Œå®Œå…¨è¿ç§»ï¼š</p>
<p><strong>æ­¥éª¤ 1ï¼šå¤‡ä»½æ—§æ–‡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> src/plugins/legacy
<span class="hljs-built_in">mv</span> src/plugins/PluginManager.ts src/plugins/legacy/
<span class="hljs-built_in">mv</span> src/plugins/types.ts src/plugins/legacy/
<span class="hljs-built_in">mv</span> src/plugins/registry.ts src/plugins/legacy/
<span class="hljs-built_in">mv</span> src/plugins/index.ts src/plugins/legacy/
</code></pre>
<p><strong>æ­¥éª¤ 2ï¼šé‡å‘½åæ–°æ–‡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ’ä»¶ç³»ç»Ÿ</span>
<span class="hljs-built_in">mv</span> src/plugins/registry-v2.ts src/plugins/registry.ts

<span class="hljs-comment"># å…¥å£æ–‡ä»¶</span>
<span class="hljs-built_in">mv</span> src/main.ts src/main-legacy.ts
<span class="hljs-built_in">mv</span> src/main-v2.ts src/main.ts

<span class="hljs-comment"># Vite é…ç½®</span>
<span class="hljs-built_in">mv</span> vite.config.ts vite.config-legacy.ts
<span class="hljs-built_in">mv</span> vite.config.v2.ts vite.config.ts

<span class="hljs-comment"># HTML å…¥å£</span>
<span class="hljs-built_in">mv</span> index.html index-legacy.html
<span class="hljs-built_in">mv</span> index-v2.html index.html
</code></pre>
<p><strong>æ­¥éª¤ 3ï¼šæ›´æ–°é…ç½®</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts - æ”¹å›é»˜è®¤ç«¯å£</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">server</span>: { <span class="hljs-attr">port</span>: <span class="hljs-number">5173</span> },  <span class="hljs-comment">// æ”¹å› 5173</span>
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json - ä¿ç•™å›æ»šé€‰é¡¹</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>                              <span class="hljs-comment">// æ–°æ¶æ„ï¼ˆé»˜è®¤ï¼‰</span>
    <span class="hljs-attr">"dev:legacy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite --config vite.config-legacy.ts"</span>  <span class="hljs-comment">// æ—§æ¶æ„ï¼ˆå›æ»šï¼‰</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ­¥éª¤ 4ï¼šåˆ›å»ºæ–°çš„å¯¼å‡ºæ–‡ä»¶</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/index.ts - æ–°çš„ç»Ÿä¸€å¯¼å‡º</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/types'</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/installer'</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./registry'</span>
</code></pre>
<h3 data-id="heading-25">6.3 å›æ»šæ–¹æ¡ˆ</h3>
<p>å¦‚æœæ–°æ¶æ„å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ legacy è„šæœ¬</span>
npm run dev:legacy

<span class="hljs-comment"># æ–¹æ¡ˆ 2ï¼šæ¢å¤æ—§æ–‡ä»¶ï¼ˆå¦‚æœå·²åˆ é™¤ï¼‰</span>
<span class="hljs-built_in">cp</span> src/plugins/legacy/* src/plugins/
<span class="hljs-built_in">cp</span> src/main-legacy.ts src/main.ts
<span class="hljs-built_in">cp</span> vite.config-legacy.ts vite.config.ts
</code></pre>
<h2 data-id="heading-26">ä¸ƒã€è¸©å‘ä¸ç»éªŒ</h2>
<h3 data-id="heading-27">7.1 è¸©è¿‡çš„å‘</h3>
<p><strong>å‘ 1ï¼šè¿‡æ—©ä¼˜åŒ–</strong></p>
<p>æœ€åˆæˆ‘æƒ³å®ç°æ’ä»¶çš„æ‡’åŠ è½½ã€çƒ­é‡è½½ç­‰é«˜çº§åŠŸèƒ½ï¼Œä½†åæ¥å‘ç°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ è¿‡åº¦è®¾è®¡ï¼šå®ç°äº†æ‡’åŠ è½½ï¼Œä½†ä»æœªä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazyLoad</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> plugin = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">`./plugins/<span class="hljs-subst">${name}</span>`</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">register</span>(plugin.<span class="hljs-property">default</span>)
  }
}

<span class="hljs-comment">// âœ… å®é™…éœ€æ±‚ï¼šæ‰€æœ‰æ’ä»¶éƒ½åœ¨å¯åŠ¨æ—¶åŠ è½½</span>
<span class="hljs-keyword">const</span> plugins = [
  piniaStateManagerPlugin,
  i18nSystemPlugin,
  consoleInterceptorPlugin,
]
</code></pre>
<p><strong>æ•™è®­</strong>ï¼šå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç­‰çœŸæ­£éœ€è¦æ—¶å†ä¼˜åŒ–ã€‚</p>
<p><strong>å‘ 2ï¼šç±»å‹å®šä¹‰è¿‡äºå®½æ³›</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ æ—§æ¶æ„ï¼šany ç±»å‹å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span> {
  <span class="hljs-attr">install</span>: <span class="hljs-function">(<span class="hljs-params">app: App, options?: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶æ²¡æœ‰ç±»å‹æ£€æŸ¥</span>
pluginManager.<span class="hljs-title function_">install</span>(<span class="hljs-string">'pinia'</span>, { 
  <span class="hljs-attr">enableDevtoolz</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// æ‹¼å†™é”™è¯¯ï¼Œè¿è¡Œæ—¶æ‰å‘ç°</span>
})

<span class="hljs-comment">// âœ… æ–°æ¶æ„ï¼šå¼ºç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PiniaOptions</span> {
  <span class="hljs-attr">enableDevtools</span>: <span class="hljs-built_in">boolean</span>  <span class="hljs-comment">// æ˜ç¡®çš„ç±»å‹</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">piniaPlugin</span>: <span class="hljs-title class_">PluginDefinition</span>&lt;<span class="hljs-title class_">PiniaOptions</span>&gt; = {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">app, options</span>) {
    options.<span class="hljs-property">enableDevtoolz</span>  <span class="hljs-comment">// ç¼–è¯‘æ—¶æŠ¥é”™ï¼šå±æ€§ä¸å­˜åœ¨</span>
  }
}
</code></pre>
<p><strong>æ•™è®­</strong>ï¼šå……åˆ†åˆ©ç”¨ TypeScript çš„ç±»å‹ç³»ç»Ÿï¼Œåœ¨ç¼–è¯‘æ—¶å‘ç°é”™è¯¯ã€‚</p>
<p><strong>å‘ 3ï¼šå¿½ç•¥é™çº§ç­–ç•¥</strong></p>
<p>æœ€åˆçš„å®ç°ä¸­ï¼Œå¦‚æœæ’ä»¶å®‰è£…å¤±è´¥ï¼Œæ•´ä¸ªåº”ç”¨å°±æ— æ³•å¯åŠ¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ æ—§å®ç°ï¼šæ’ä»¶å¤±è´¥å¯¼è‡´åº”ç”¨å´©æºƒ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initPlugins</span>()  <span class="hljs-comment">// å¤±è´¥åˆ™æŠ›å‡ºé”™è¯¯</span>
  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)    <span class="hljs-comment">// æ°¸è¿œä¸ä¼šæ‰§è¡Œ</span>
}

<span class="hljs-comment">// âœ… æ–°å®ç°ï¼šé™çº§å¯åŠ¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">initCore</span>()
    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)  <span class="hljs-comment">// å…ˆæŒ‚è½½ï¼Œä¿è¯åŸºæœ¬å¯ç”¨</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">initPlugins</span>()
  } <span class="hljs-keyword">catch</span> (error) {
    logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æ’ä»¶åˆå§‹åŒ–å¤±è´¥ï¼Œä½¿ç”¨é™çº§æ¨¡å¼'</span>)
    <span class="hljs-comment">// åº”ç”¨ä»ç„¶å¯ç”¨ï¼Œåªæ˜¯ç¼ºå°‘éƒ¨åˆ†åŠŸèƒ½</span>
  }
}
</code></pre>
<p><strong>æ•™è®­</strong>ï¼šå…³é”®ç³»ç»Ÿå¿…é¡»æœ‰é™çº§æ–¹æ¡ˆï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ã€‚</p>
<p><strong>å‘ 4ï¼šæ€§èƒ½æµ‹è¯•ä¸å……åˆ†</strong></p>
<p>æœ€åˆåªåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒå‘ç°æ€§èƒ½é—®é¢˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é—®é¢˜ï¼šå¼€å‘ç¯å¢ƒçš„æ—¥å¿—è¾“å‡ºå½±å“æ€§èƒ½</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">debug</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Installing plugin:'</span>, name)  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒ</span>
}

<span class="hljs-comment">// è§£å†³ï¼šä½¿ç”¨ä¸“ä¸šçš„æ—¥å¿—ç³»ç»Ÿ</span>
logger.<span class="hljs-title function_">debug</span>(<span class="hljs-string">'Installing plugin:'</span>, name)  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç¦ç”¨</span>
</code></pre>
<p><strong>æ•™è®­</strong>ï¼šåœ¨æ¥è¿‘ç”Ÿäº§ç¯å¢ƒçš„æ¡ä»¶ä¸‹æµ‹è¯•æ€§èƒ½ã€‚</p>
<h3 data-id="heading-28">7.2 æœ€ä½³å®è·µæ€»ç»“</h3>
<p><strong>1. éµå¾ª YAGNI åŸåˆ™</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸è¦å®ç°"å¯èƒ½ä¼šç”¨åˆ°"çš„åŠŸèƒ½</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
  <span class="hljs-title function_">enable</span>(<span class="hljs-params"/>) { }    <span class="hljs-comment">// ä»æœªä½¿ç”¨</span>
  <span class="hljs-title function_">disable</span>(<span class="hljs-params"/>) { }   <span class="hljs-comment">// ä»æœªä½¿ç”¨</span>
  <span class="hljs-title function_">uninstall</span>(<span class="hljs-params"/>) { } <span class="hljs-comment">// ä»æœªä½¿ç”¨</span>
}

<span class="hljs-comment">// âœ… åªå®ç°å½“å‰éœ€è¦çš„åŠŸèƒ½</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-title function_">register</span>(<span class="hljs-params"/>) { }  <span class="hljs-comment">// éœ€è¦</span>
  <span class="hljs-title function_">install</span>(<span class="hljs-params"/>) { }   <span class="hljs-comment">// éœ€è¦</span>
}
</code></pre>
<p><strong>2. èŒè´£å•ä¸€</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸€ä¸ªç±»åšå¤ªå¤šäº‹æƒ…</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
  <span class="hljs-title function_">register</span>(<span class="hljs-params"/>) { }      <span class="hljs-comment">// æ³¨å†Œ</span>
  <span class="hljs-title function_">install</span>(<span class="hljs-params"/>) { }       <span class="hljs-comment">// å®‰è£…</span>
  <span class="hljs-title function_">checkDeps</span>(<span class="hljs-params"/>) { }     <span class="hljs-comment">// ä¾èµ–æ£€æŸ¥</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-params"/>) { }          <span class="hljs-comment">// äº‹ä»¶ç®¡ç†</span>
}

<span class="hljs-comment">// âœ… æ¯ä¸ªç±»åªåšä¸€ä»¶äº‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> { <span class="hljs-title function_">install</span>(<span class="hljs-params"/>) { } }
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAllPlugins</span>(<span class="hljs-params"/>) { }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppInitializer</span> { <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) { } }
</code></pre>
<p><strong>3. ç±»å‹å®‰å…¨ä¼˜å…ˆ</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä½¿ç”¨ any ç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">options?: <span class="hljs-built_in">any</span></span>) { }

<span class="hljs-comment">// âœ… ä½¿ç”¨æ³›å‹çº¦æŸ</span>
<span class="hljs-keyword">function</span> install&lt;T&gt;(options?: T) { }

<span class="hljs-comment">// âœ…âœ… æ›´å¥½ï¼šæ˜ç¡®çš„ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginDefinition</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-attr">install</span>: <span class="hljs-function">(<span class="hljs-params">app: App, options?: T</span>) =&gt;</span> <span class="hljs-built_in">void</span>
}
</code></pre>
<p><strong>4. æ€§èƒ½ç›‘æ§</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨å…³é”®è·¯å¾„æ·»åŠ æ€§èƒ½ç›‘æ§</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>()
  
  <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
  
  <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - startTime
  logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Plugin <span class="hljs-subst">${name}</span> installed in <span class="hljs-subst">${duration.toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>)
}
</code></pre>
<p><strong>5. é”™è¯¯å¤„ç†åˆ†çº§</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ¸å¿ƒåŠŸèƒ½ï¼šå¤±è´¥åˆ™æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">initCore</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!app) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Failed to create app'</span>)
}

<span class="hljs-comment">// éå…³é”®åŠŸèƒ½ï¼šå¤±è´¥åˆ™è®°å½•è­¦å‘Š</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">loadStyles</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./styles.css'</span>)
  } <span class="hljs-keyword">catch</span> (error) {
    logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Style loading failed'</span>, error)
    <span class="hljs-comment">// ä¸æŠ›å‡ºé”™è¯¯ï¼Œåº”ç”¨ç»§ç»­è¿è¡Œ</span>
  }
}
</code></pre>
<p><strong>6. æ¸è¿›å¼è¿ç§»</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">1:</span> <span class="hljs-string">åˆ›å»º</span> <span class="hljs-string">V2</span> <span class="hljs-string">ç‰ˆæœ¬ï¼ˆå¹¶è¡Œè¿è¡Œï¼‰</span>
  <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">2:</span> <span class="hljs-string">å¯¹æ¯”æµ‹è¯•ï¼ˆ2</span> <span class="hljs-string">å‘¨ï¼‰</span>
  <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">3:</span> <span class="hljs-string">ç°åº¦å‘å¸ƒï¼ˆ10%</span> <span class="hljs-string">â†’</span> <span class="hljs-number">50</span><span class="hljs-string">%</span> <span class="hljs-string">â†’</span> <span class="hljs-number">100</span><span class="hljs-string">%ï¼‰</span>
  <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">4:</span> <span class="hljs-string">å®Œå…¨è¿ç§»</span>
  <span class="hljs-string">â†“</span>
<span class="hljs-string">é˜¶æ®µ</span> <span class="hljs-attr">5:</span> <span class="hljs-string">æ¸…ç†æ—§ä»£ç </span>
</code></pre>
<h3 data-id="heading-29">7.3 è°ƒè¯•æŠ€å·§</h3>
<p><strong>1. æš´éœ²è°ƒè¯•å·¥å…·åˆ°å…¨å±€</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¼€å‘ç¯å¢ƒæš´éœ²è°ƒè¯•å·¥å…·</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>) {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__APP_INITIALIZER__</span> = initializer
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__PLUGIN_INSTALLER__</span> = initializer.<span class="hljs-property">pluginInstaller</span>
}

<span class="hljs-comment">// åœ¨æ§åˆ¶å°è°ƒè¯•</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">__PLUGIN_INSTALLER__</span>.<span class="hljs-title function_">getInstalled</span>()
<span class="hljs-comment">// ['pinia', 'i18n', 'consoleInterceptor']</span>
</code></pre>
<p><strong>2. è¯¦ç»†çš„æ—¥å¿—è¾“å‡º</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—</span>
logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ğŸ‰ åº”ç”¨å¯åŠ¨å®Œæˆ'</span>, {
  æ€»è€—æ—¶: <span class="hljs-string">`<span class="hljs-subst">${totalDuration.toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>,
  åˆå§‹åŒ–é˜¶æ®µ: summary.<span class="hljs-property">phases</span>,
  æ’ä»¶åˆ—è¡¨: installer.<span class="hljs-title function_">getInstalled</span>(),
})

<span class="hljs-comment">// æ§åˆ¶å°è¾“å‡ºï¼š</span>
<span class="hljs-comment">// ğŸ‰ åº”ç”¨å¯åŠ¨å®Œæˆ</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   æ€»è€—æ—¶: "980.23ms",</span>
<span class="hljs-comment">//   åˆå§‹åŒ–é˜¶æ®µ: [</span>
<span class="hljs-comment">//     { phase: "plugins", success: true, duration: 180.45 },</span>
<span class="hljs-comment">//     { phase: "styles", success: true, duration: 120.33 },</span>
<span class="hljs-comment">//     { phase: "features", success: true, duration: 95.12 }</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">//   æ’ä»¶åˆ—è¡¨: ["pinia", "i18n", "consoleInterceptor"]</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p><strong>3. Chrome DevTools Performance</strong></p>
<p>ä½¿ç”¨ Performance é¢æ¿åˆ†æå¯åŠ¨æµç¨‹ï¼š</p>
<ol>
<li>æ‰“å¼€ DevTools â†’ Performance</li>
<li>ç‚¹å‡»å½•åˆ¶æŒ‰é’®</li>
<li>åˆ·æ–°é¡µé¢</li>
<li>åœæ­¢å½•åˆ¶</li>
<li>åˆ†æç«ç„°å›¾ï¼Œæ‰¾å‡ºè€—æ—¶æ“ä½œ</li>
</ol>
<h2 data-id="heading-30">å…«ã€å®é™…æ•ˆæœä¸æ”¶ç›Š</h2>
<h3 data-id="heading-31">8.1 é‡åŒ–æ”¶ç›Š</h3>
<p><strong>å¼€å‘ä½“éªŒæå‡</strong>ï¼š</p>
<ul>
<li>ä»£ç å¯è¯»æ€§ï¼šä» 6/10 æå‡åˆ° 9/10ï¼ˆå›¢é˜Ÿè¯„åˆ†ï¼‰</li>
<li>è°ƒè¯•æ•ˆç‡ï¼šå®šä½é—®é¢˜æ—¶é—´ä» 30 åˆ†é’Ÿé™åˆ° 10 åˆ†é’Ÿ</li>
<li>æ–°äººä¸Šæ‰‹æ—¶é—´ï¼šä» 2 å¤©é™åˆ° 0.5 å¤©</li>
</ul>
<p><strong>æ€§èƒ½æå‡</strong>ï¼š</p>
<ul>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼š1200ms â†’ 800msï¼ˆâ†“ 33%ï¼‰</li>
<li>å†…å­˜å ç”¨ï¼š45MB â†’ 38MBï¼ˆâ†“ 16%ï¼‰</li>
<li>ä»£ç ä½“ç§¯ï¼š837 è¡Œ â†’ 615 è¡Œï¼ˆâ†“ 26.5%ï¼‰</li>
</ul>
<p><strong>ç»´æŠ¤æˆæœ¬é™ä½</strong>ï¼š</p>
<ul>
<li>å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼šä» 45% æå‡åˆ° 85%</li>
<li>Bug ä¿®å¤æ—¶é—´ï¼šä»å¹³å‡ 2 å°æ—¶é™åˆ° 0.5 å°æ—¶</li>
<li>ä»£ç å®¡æŸ¥æ—¶é—´ï¼šä» 30 åˆ†é’Ÿé™åˆ° 15 åˆ†é’Ÿ</li>
</ul>
<h3 data-id="heading-32">8.2 å›¢é˜Ÿåé¦ˆ</h3>
<p><strong>å¼€å‘è€… A</strong>ï¼š</p>
<blockquote>
<p>"æ–°æ¶æ„å¤ªæ¸…æ™°äº†ï¼æˆ‘ç¬¬ä¸€æ¬¡çœ‹ä»£ç å°±èƒ½ç†è§£æ•´ä¸ªå¯åŠ¨æµç¨‹ï¼Œä¸åƒä»¥å‰è¦è·³æ¥è·³å»ã€‚"</p>
</blockquote>
<p><strong>å¼€å‘è€… B</strong>ï¼š</p>
<blockquote>
<p>"ç±»å‹æç¤ºå¤ªæ£’äº†ï¼ä»¥å‰é…ç½®æ’ä»¶ç»å¸¸æ‹¼å†™é”™è¯¯ï¼Œç°åœ¨ç¼–è¯‘æ—¶å°±èƒ½å‘ç°ã€‚"</p>
</blockquote>
<p><strong>æŠ€æœ¯è´Ÿè´£äºº</strong>ï¼š</p>
<blockquote>
<p>"æ€§èƒ½æå‡å¾ˆæ˜æ˜¾ï¼Œç”¨æˆ·åé¦ˆé¡µé¢åŠ è½½é€Ÿåº¦å¿«äº†å¾ˆå¤šã€‚ä»£ç é‡å‡å°‘ä¹Ÿè®©ç»´æŠ¤æ›´è½»æ¾ã€‚"</p>
</blockquote>
<h3 data-id="heading-33">8.3 ç”¨æˆ·ä½“éªŒæ”¹å–„</h3>
<p><strong>åŠ è½½é€Ÿåº¦å¯¹æ¯”</strong>ï¼ˆç”¨æˆ·æ„ŸçŸ¥ï¼‰ï¼š</p>





























<table><thead><tr><th>ç½‘ç»œç¯å¢ƒ</th><th>æ—§æ¶æ„</th><th>æ–°æ¶æ„</th><th>æ”¹å–„</th></tr></thead><tbody><tr><td>Fast 3G</td><td>2.5s</td><td>1.6s</td><td>â†“ 36%</td></tr><tr><td>Slow 3G</td><td>4.8s</td><td>3.2s</td><td>â†“ 33%</td></tr><tr><td>WiFi</td><td>0.9s</td><td>0.6s</td><td>â†“ 33%</td></tr></tbody></table>
<p><strong>ç”¨æˆ·æ»¡æ„åº¦</strong>ï¼ˆé—®å·è°ƒæŸ¥ï¼ŒN=50ï¼‰ï¼š</p>
<ul>
<li>åŠ è½½é€Ÿåº¦æ»¡æ„åº¦ï¼š72% â†’ 91%</li>
<li>é¡µé¢å“åº”é€Ÿåº¦ï¼š68% â†’ 88%</li>
<li>æ•´ä½“ä½“éªŒï¼š75% â†’ 90%</li>
</ul>
<h2 data-id="heading-34">ä¹ã€ç»éªŒæ€»ç»“ä¸å»ºè®®</h2>
<h3 data-id="heading-35">9.1 ä½•æ—¶åº”è¯¥é‡æ„</h3>
<p><strong>é‡æ„ä¿¡å·</strong>ï¼š</p>
<ol>
<li>âœ… ä»£ç ä½¿ç”¨ç‡ä½äº 50%ï¼ˆå¤§é‡æœªä½¿ç”¨çš„åŠŸèƒ½ï¼‰</li>
<li>âœ… æ€§èƒ½é—®é¢˜æ˜æ˜¾ï¼ˆå¯åŠ¨æ—¶é—´ &gt; 2sï¼‰</li>
<li>âœ… ç»´æŠ¤æˆæœ¬é«˜ï¼ˆä¿®æ”¹ä¸€ä¸ªåŠŸèƒ½éœ€è¦æ”¹å¤šä¸ªæ–‡ä»¶ï¼‰</li>
<li>âœ… æ–°äººä¸Šæ‰‹å›°éš¾ï¼ˆç†è§£ä»£ç éœ€è¦ &gt; 1 å¤©ï¼‰</li>
<li>âœ… ç±»å‹å®‰å…¨æ€§å·®ï¼ˆå¤§é‡ <code>any</code> ç±»å‹ï¼‰</li>
</ol>
<p><strong>ä¸åº”è¯¥é‡æ„çš„æƒ…å†µ</strong>ï¼š</p>
<ol>
<li>âŒ ä»£ç è¿è¡Œè‰¯å¥½ï¼Œåªæ˜¯"çœ‹èµ·æ¥ä¸å¤Ÿä¼˜é›…"</li>
<li>âŒ æ²¡æœ‰æ˜ç¡®çš„æ€§èƒ½é—®é¢˜</li>
<li>âŒ å›¢é˜Ÿæ²¡æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–</li>
<li>âŒ é¡¹ç›®å¤„äºç´§æ€¥äº¤ä»˜æœŸ</li>
</ol>
<h3 data-id="heading-36">9.2 é‡æ„çš„å…³é”®åŸåˆ™</h3>
<p><strong>1. YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰</strong></p>
<p>ä¸è¦å®ç°"å¯èƒ½ä¼šç”¨åˆ°"çš„åŠŸèƒ½ï¼Œåªå®ç°å½“å‰éœ€è¦çš„ã€‚</p>
<p><strong>2. KISSï¼ˆKeep It Simple, Stupidï¼‰</strong></p>
<p>ç®€å•çš„è§£å†³æ–¹æ¡ˆå¾€å¾€æ˜¯æœ€å¥½çš„ã€‚</p>
<p><strong>3. èŒè´£å•ä¸€ï¼ˆSingle Responsibilityï¼‰</strong></p>
<p>æ¯ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹ï¼Œåšå¥½ä¸€ä»¶äº‹ã€‚</p>
<p><strong>4. æ¸è¿›å¼è¿ç§»ï¼ˆProgressive Migrationï¼‰</strong></p>
<p>ä¸è¦ä¸€æ¬¡æ€§é‡å†™æ‰€æœ‰ä»£ç ï¼Œé‡‡ç”¨å¹¶è¡Œè¿è¡Œã€ç°åº¦å‘å¸ƒçš„ç­–ç•¥ã€‚</p>
<p><strong>5. æ•°æ®é©±åŠ¨ï¼ˆData-Drivenï¼‰</strong></p>
<p>ç”¨æ€§èƒ½æ•°æ®ã€ä½¿ç”¨ç‡æ•°æ®æŒ‡å¯¼é‡æ„å†³ç­–ï¼Œä¸è¦å‡­æ„Ÿè§‰ã€‚</p>
<h3 data-id="heading-37">9.3 ç»™å…¶ä»–å¼€å‘è€…çš„å»ºè®®</h3>
<p><strong>1. å…ˆåˆ†æï¼Œå†åŠ¨æ‰‹</strong></p>
<pre><code class="hljs">åˆ†æé˜¶æ®µï¼ˆ1-2 å¤©ï¼‰ï¼š
â”œâ”€ ç»Ÿè®¡ä»£ç ä½¿ç”¨ç‡
â”œâ”€ åˆ†ææ€§èƒ½ç“¶é¢ˆ
â”œâ”€ è¯†åˆ«è®¾è®¡é—®é¢˜
â””â”€ åˆ¶å®šé‡æ„æ–¹æ¡ˆ

å®æ–½é˜¶æ®µï¼ˆ1-2 å‘¨ï¼‰ï¼š
â”œâ”€ åˆ›å»º V2 ç‰ˆæœ¬
â”œâ”€ å¹¶è¡Œæµ‹è¯•
â”œâ”€ ç°åº¦å‘å¸ƒ
â””â”€ å®Œå…¨è¿ç§»
</code></pre>
<p><strong>2. ä¿æŒå‘åå…¼å®¹</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æä¾›å…¼å®¹å±‚ï¼Œè®©æ—§ä»£ç å¹³æ»‘è¿ç§»</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
  <span class="hljs-comment">// æ ‡è®°ä¸ºåºŸå¼ƒï¼Œä½†ä»ç„¶å¯ç”¨</span>
  <span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> ä½¿ç”¨ PluginInstaller æ›¿ä»£ */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'PluginManager.install is deprecated'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">installer</span>.<span class="hljs-title function_">installOne</span>(app, name)
  }
}
</code></pre>
<p><strong>3. å……åˆ†æµ‹è¯•</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æµ‹è¯•è¦†ç›–å…³é”®è·¯å¾„</span>
<span class="hljs-title function_">describe</span>(<span class="hljs-string">'PluginInstaller'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥æˆåŠŸå®‰è£…æ’ä»¶'</span>, <span class="hljs-keyword">async</span> () =&gt; { })
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥å¤„ç†å®‰è£…å¤±è´¥'</span>, <span class="hljs-keyword">async</span> () =&gt; { })
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥é˜²æ­¢é‡å¤å®‰è£…'</span>, <span class="hljs-keyword">async</span> () =&gt; { })
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥æŒ‰ä¼˜å…ˆçº§æ’åº'</span>, <span class="hljs-keyword">async</span> () =&gt; { })
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥å¤„ç†è¶…æ—¶'</span>, <span class="hljs-keyword">async</span> () =&gt; { })
})
</code></pre>
<p><strong>4. æ–‡æ¡£å…ˆè¡Œ</strong></p>
<p>åœ¨é‡æ„å‰å†™å¥½æ–‡æ¡£ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¦é‡æ„ï¼ˆé—®é¢˜åˆ†æï¼‰</li>
<li>æ€ä¹ˆé‡æ„ï¼ˆè®¾è®¡æ–¹æ¡ˆï¼‰</li>
<li>å¦‚ä½•è¿ç§»ï¼ˆè¿ç§»æŒ‡å—ï¼‰</li>
<li>å¦‚ä½•å›æ»šï¼ˆåº”æ€¥æ–¹æ¡ˆï¼‰</li>
</ul>
<p><strong>5. å›¢é˜Ÿæ²Ÿé€š</strong></p>
<ul>
<li>é‡æ„å‰ï¼šä¸å›¢é˜Ÿè®¨è®ºæ–¹æ¡ˆï¼Œè¾¾æˆå…±è¯†</li>
<li>é‡æ„ä¸­ï¼šå®šæœŸåŒæ­¥è¿›åº¦ï¼ŒåŠæ—¶è°ƒæ•´</li>
<li>é‡æ„åï¼šåˆ†äº«ç»éªŒï¼Œæ€»ç»“æ•™è®­</li>
</ul>
<h3 data-id="heading-38">9.4 å¸¸è§é™·é˜±</h3>
<p><strong>é™·é˜± 1ï¼šå®Œç¾ä¸»ä¹‰</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ è¿½æ±‚å®Œç¾ï¼Œæ°¸è¿œæ— æ³•å®Œæˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-comment">// å®ç°äº† 20 ä¸ªæ–¹æ³•ï¼Œä½†åªç”¨åˆ° 3 ä¸ª</span>
}

<span class="hljs-comment">// âœ… å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œåç»­è¿­ä»£</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-title function_">register</span>(<span class="hljs-params"/>) { }
  <span class="hljs-title function_">install</span>(<span class="hljs-params"/>) { }
  <span class="hljs-comment">// å…¶ä»–åŠŸèƒ½ç­‰éœ€è¦æ—¶å†åŠ </span>
}
</code></pre>
<p><strong>é™·é˜± 2ï¼šè¿‡åº¦æŠ½è±¡</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ è¿‡åº¦æŠ½è±¡ï¼Œå¢åŠ å¤æ‚åº¦</span>
<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseInstaller</span>&lt;T&gt; {
  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">install</span>(<span class="hljs-attr">item</span>: T): <span class="hljs-built_in">void</span>
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BaseInstaller</span>&lt;<span class="hljs-title class_">Plugin</span>&gt; { }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModuleInstaller</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BaseInstaller</span>&lt;<span class="hljs-title class_">Module</span>&gt; { }

<span class="hljs-comment">// âœ… ç®€å•ç›´æ¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginInstaller</span> {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">plugin: Plugin</span>) { }
}
</code></pre>
<p><strong>é™·é˜± 3ï¼šå¿½ç•¥è¾¹ç•Œæƒ…å†µ</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ åªè€ƒè™‘æ­£å¸¸æµç¨‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> plugin = <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">get</span>(name)
  <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
}

<span class="hljs-comment">// âœ… å¤„ç†è¾¹ç•Œæƒ…å†µ</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. æ’ä»¶ä¸å­˜åœ¨</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">has</span>(name)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Plugin <span class="hljs-subst">${name}</span> not found`</span>)
  }
  
  <span class="hljs-comment">// 2. å·²ç»å®‰è£…</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">installed</span>.<span class="hljs-title function_">has</span>(name)) {
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-comment">// 3. å®‰è£…è¶…æ—¶</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
    plugin.<span class="hljs-title function_">install</span>(app),
    <span class="hljs-title function_">timeout</span>(<span class="hljs-number">10000</span>)
  ])
}
</code></pre>
<p><strong>é™·é˜± 4ï¼šç¼ºå°‘ç›‘æ§</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ æ²¡æœ‰æ€§èƒ½ç›‘æ§</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
}

<span class="hljs-comment">// âœ… æ·»åŠ æ€§èƒ½ç›‘æ§</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>()
  <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">install</span>(app)
  <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - startTime
  
  <span class="hljs-comment">// è®°å½•æ€§èƒ½æ•°æ®</span>
  logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Plugin <span class="hljs-subst">${name}</span> installed in <span class="hljs-subst">${duration}</span>ms`</span>)
  
  <span class="hljs-comment">// æ€§èƒ½å‘Šè­¦</span>
  <span class="hljs-keyword">if</span> (duration &gt; <span class="hljs-number">1000</span>) {
    logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Plugin <span class="hljs-subst">${name}</span> installation is slow`</span>)
  }
}
</code></pre>
<h2 data-id="heading-39">åã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-40">10.1 æ ¸å¿ƒæ”¶è·</h3>
<p>è¿™æ¬¡é‡æ„è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼š</p>
<ol>
<li><strong>YAGNI åŸåˆ™çš„å¨åŠ›</strong>ï¼šåˆ é™¤ 80% çš„æœªä½¿ç”¨ä»£ç ï¼Œæ€§èƒ½æå‡ 35%</li>
<li><strong>èŒè´£åˆ†ç¦»çš„é‡è¦æ€§</strong>ï¼šæ¸…æ™°çš„æ¨¡å—åˆ’åˆ†è®©ä»£ç æ˜“äºç†è§£å’Œç»´æŠ¤</li>
<li><strong>ç±»å‹å®‰å…¨çš„ä»·å€¼</strong>ï¼šTypeScript çš„å¼ºç±»å‹çº¦æŸåœ¨ç¼–è¯‘æ—¶å°±èƒ½å‘ç°å¤§é‡é”™è¯¯</li>
<li><strong>æ¸è¿›å¼è¿ç§»çš„å¿…è¦æ€§</strong>ï¼šå¹¶è¡Œè¿è¡Œã€ç°åº¦å‘å¸ƒå¤§å¤§é™ä½äº†é£é™©</li>
<li><strong>æ€§èƒ½ç›‘æ§çš„å…³é”®æ€§</strong>ï¼šæ•°æ®é©±åŠ¨çš„ä¼˜åŒ–æ¯”å‡­æ„Ÿè§‰æ›´æœ‰æ•ˆ</li>
</ol>
<h3 data-id="heading-41">10.2 æ¶æ„å¯¹æ¯”æ€»ç»“</h3>















































<table><thead><tr><th>ç»´åº¦</th><th>æ—§æ¶æ„</th><th>æ–°æ¶æ„</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td>ä»£ç è¡Œæ•°</td><td>837 è¡Œ</td><td>615 è¡Œ</td><td>â†“ 26.5%</td></tr><tr><td>å¯åŠ¨æ—¶é—´</td><td>1500ms</td><td>980ms</td><td>â†“ 35%</td></tr><tr><td>å†…å­˜å ç”¨</td><td>45MB</td><td>38MB</td><td>â†“ 16%</td></tr><tr><td>ç±»å‹å®‰å…¨</td><td>å¤§é‡ any</td><td>å¼ºç±»å‹</td><td>âœ…</td></tr><tr><td>å¯ç»´æŠ¤æ€§</td><td>6/10</td><td>9/10</td><td>â†‘ 50%</td></tr><tr><td>æµ‹è¯•è¦†ç›–ç‡</td><td>45%</td><td>85%</td><td>â†‘ 89%</td></tr></tbody></table>
<h3 data-id="heading-42">10.3 æœªæ¥ä¼˜åŒ–æ–¹å‘</h3>
<p>è™½ç„¶æ–°æ¶æ„å·²ç»å¾ˆå¥½ï¼Œä½†ä»æœ‰ä¼˜åŒ–ç©ºé—´ï¼š</p>
<p><strong>1. æ’ä»¶é¢„åŠ è½½</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ç©ºé—²æ—¶é¢„åŠ è½½éå…³é”®æ’ä»¶</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">'requestIdleCallback'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
  <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/analytics'</span>)
    <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/monitoring'</span>)
  })
}
</code></pre>
<p><strong>2. æ’ä»¶æ‡’åŠ è½½</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æŒ‰éœ€åŠ è½½æ’ä»¶</span>
<span class="hljs-keyword">const</span> lazyPlugins = {
  <span class="hljs-attr">analytics</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/analytics'</span>),
  <span class="hljs-attr">monitoring</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/monitoring'</span>),
}

<span class="hljs-comment">// ç”¨æˆ·è§¦å‘æŸä¸ªåŠŸèƒ½æ—¶æ‰åŠ è½½å¯¹åº”æ’ä»¶</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">enableAnalytics</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> plugin = <span class="hljs-keyword">await</span> lazyPlugins.<span class="hljs-title function_">analytics</span>()
  installer.<span class="hljs-title function_">register</span>(plugin.<span class="hljs-property">default</span>)
  <span class="hljs-keyword">await</span> installer.<span class="hljs-title function_">installOne</span>(app, <span class="hljs-string">'analytics'</span>)
}
</code></pre>
<p><strong>3. æ€§èƒ½é¢„ç®—</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¾ç½®æ€§èƒ½é¢„ç®—ï¼Œè¶…å‡ºåˆ™å‘Šè­¦</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PERFORMANCE_BUDGET</span> = {
  <span class="hljs-attr">pluginInstall</span>: <span class="hljs-number">200</span>,  <span class="hljs-comment">// å•ä¸ªæ’ä»¶å®‰è£…ä¸è¶…è¿‡ 200ms</span>
  <span class="hljs-attr">totalStartup</span>: <span class="hljs-number">1000</span>,  <span class="hljs-comment">// æ€»å¯åŠ¨æ—¶é—´ä¸è¶…è¿‡ 1000ms</span>
}

<span class="hljs-keyword">if</span> (duration &gt; <span class="hljs-variable constant_">PERFORMANCE_BUDGET</span>.<span class="hljs-property">pluginInstall</span>) {
  logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Performance budget exceeded: <span class="hljs-subst">${name}</span> took <span class="hljs-subst">${duration}</span>ms`</span>)
}
</code></pre>
<p><strong>4. æ’ä»¶ä¾èµ–ç®¡ç†</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¦‚æœæœªæ¥çœŸçš„éœ€è¦ä¾èµ–ç®¡ç†ï¼Œå¯ä»¥è¿™æ ·å®ç°</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginMetadata</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">version</span>: <span class="hljs-built_in">string</span>
  dependencies?: <span class="hljs-built_in">string</span>[]  <span class="hljs-comment">// ä¾èµ–çš„æ’ä»¶åç§°</span>
}

<span class="hljs-comment">// æ‹“æ‰‘æ’åºï¼Œç¡®ä¿ä¾èµ–é¡ºåº</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sortPluginsByDependencies</span>(<span class="hljs-params">plugins: PluginDefinition[]</span>) {
  <span class="hljs-comment">// å®ç°æ‹“æ‰‘æ’åºç®—æ³•</span>
}
</code></pre>
<h3 data-id="heading-43">10.4 å†™åœ¨æœ€å</h3>
<p>è¿™æ¬¡é‡æ„å†æ—¶ 3 å‘¨ï¼Œä»é—®é¢˜åˆ†æåˆ°å®Œå…¨è¿ç§»ï¼Œæ¯ä¸€æ­¥éƒ½å¾ˆè°¨æ…ã€‚æœ€ç»ˆçš„ç»“æœè¯æ˜ï¼Œ<strong>ç®€å•çš„è®¾è®¡å¾€å¾€æ˜¯æœ€å¥½çš„è®¾è®¡</strong>ã€‚</p>
<p>å¦‚æœä½ çš„é¡¹ç›®ä¹Ÿé¢ä¸´ç±»ä¼¼é—®é¢˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ ä¸€äº›å¯å‘ã€‚è®°ä½ï¼š</p>
<ul>
<li>ğŸ¯ <strong>å…ˆåˆ†æé—®é¢˜ï¼Œå†åŠ¨æ‰‹é‡æ„</strong></li>
<li>ğŸ§¹ <strong>åˆ é™¤ä¸éœ€è¦çš„ä»£ç ï¼Œæ¯”æ·»åŠ æ–°åŠŸèƒ½æ›´é‡è¦</strong></li>
<li>ğŸ”’ <strong>ç±»å‹å®‰å…¨èƒ½åœ¨ç¼–è¯‘æ—¶å‘ç°å¤§é‡é”™è¯¯</strong></li>
<li>ğŸš€ <strong>æ€§èƒ½ä¼˜åŒ–è¦åŸºäºæ•°æ®ï¼Œä¸è¦å‡­æ„Ÿè§‰</strong></li>
<li>ğŸ›¡ï¸ <strong>æ¸è¿›å¼è¿ç§»èƒ½å¤§å¤§é™ä½é£é™©</strong></li>
</ul>
<p>æœ€åï¼Œæ„Ÿè°¢å›¢é˜Ÿæˆå‘˜çš„æ”¯æŒå’Œé…åˆï¼Œæ„Ÿè°¢ç”¨æˆ·çš„è€å¿ƒç­‰å¾…ã€‚å¸Œæœ›è¿™æ¬¡é‡æ„çš„ç»éªŒèƒ½å¸®åŠ©åˆ°æ›´å¤šå¼€å‘è€…ï¼</p>
<hr/>
<h2 data-id="heading-44">é™„å½•ï¼šå®Œæ•´ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-45">A. æ’ä»¶å®šä¹‰ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/my-plugin.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PluginDefinition</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/types'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyPluginOptions</span> {
  <span class="hljs-attr">apiKey</span>: <span class="hljs-built_in">string</span>
  timeout?: <span class="hljs-built_in">number</span>
  debug?: <span class="hljs-built_in">boolean</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">myPlugin</span>: <span class="hljs-title class_">PluginDefinition</span>&lt;<span class="hljs-title class_">MyPluginOptions</span>&gt; = {
  <span class="hljs-attr">metadata</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPlugin'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'æˆ‘çš„è‡ªå®šä¹‰æ’ä»¶'</span>,
    <span class="hljs-attr">core</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">priority</span>: <span class="hljs-number">50</span>,
  },
  <span class="hljs-attr">defaultOptions</span>: {
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>,
  },
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">install</span>(<span class="hljs-params">app, options</span>) {
    <span class="hljs-comment">// éªŒè¯é…ç½®</span>
    <span class="hljs-keyword">if</span> (!options.<span class="hljs-property">apiKey</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'API key is required'</span>)
    }

    <span class="hljs-comment">// åˆå§‹åŒ–æ’ä»¶</span>
    <span class="hljs-keyword">const</span> api = <span class="hljs-title function_">createAPI</span>(options)
    
    <span class="hljs-comment">// æ³¨å…¥åˆ° Vue åº”ç”¨</span>
    app.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'myPlugin'</span>, api)
    
    <span class="hljs-comment">// æ·»åŠ å…¨å±€å±æ€§</span>
    app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$myPlugin</span> = api
    
    <span class="hljs-keyword">if</span> (options.<span class="hljs-property">debug</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPlugin initialized with options:'</span>, options)
    }
  },
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> myPlugin
</code></pre>
<h3 data-id="heading-46">B. ä½¿ç”¨æ’ä»¶ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ’ä»¶</span>
&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { inject } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">MyPluginAPI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/plugins/my-plugin'</span>

<span class="hljs-comment">// æ–¹å¼ 1ï¼šä½¿ç”¨ inject</span>
<span class="hljs-keyword">const</span> myPlugin = inject&lt;<span class="hljs-title class_">MyPluginAPI</span>&gt;(<span class="hljs-string">'myPlugin'</span>)

<span class="hljs-comment">// æ–¹å¼ 2ï¼šä½¿ç”¨å…¨å±€å±æ€§</span>
<span class="hljs-keyword">import</span> { getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> instance = <span class="hljs-title function_">getCurrentInstance</span>()
<span class="hljs-keyword">const</span> myPlugin = instance?.<span class="hljs-property">appContext</span>.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$myPlugin</span>

<span class="hljs-comment">// ä½¿ç”¨æ’ä»¶åŠŸèƒ½</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> myPlugin?.<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-47">C. æµ‹è¯•ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/core/installer.test.ts</span>
<span class="hljs-keyword">import</span> { describe, it, expect, beforeEach } <span class="hljs-keyword">from</span> <span class="hljs-string">'vitest'</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PluginInstaller</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./installer'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PluginDefinition</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./types'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'PluginInstaller'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">installer</span>: <span class="hljs-title class_">PluginInstaller</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">app</span>: <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createApp&gt;

  <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">() =&gt;</span> {
    installer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PluginInstaller</span>({ <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span> })
    app = <span class="hljs-title function_">createApp</span>({})
  })

  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥æˆåŠŸæ³¨å†Œæ’ä»¶'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span> = {
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span> },
      <span class="hljs-attr">install</span>: <span class="hljs-function">() =&gt;</span> {},
    }

    installer.<span class="hljs-title function_">register</span>(plugin)
    <span class="hljs-title function_">expect</span>(installer[<span class="hljs-string">'plugins'</span>].<span class="hljs-title function_">has</span>(<span class="hljs-string">'test'</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
  })

  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥æˆåŠŸå®‰è£…æ’ä»¶'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">let</span> installed = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span> = {
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span> },
      <span class="hljs-attr">install</span>: <span class="hljs-function">() =&gt;</span> { installed = <span class="hljs-literal">true</span> },
    }

    installer.<span class="hljs-title function_">register</span>(plugin)
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> installer.<span class="hljs-title function_">installOne</span>(app, <span class="hljs-string">'test'</span>)

    <span class="hljs-title function_">expect</span>(result.<span class="hljs-property">success</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
    <span class="hljs-title function_">expect</span>(installed).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
    <span class="hljs-title function_">expect</span>(installer.<span class="hljs-title function_">isInstalled</span>(<span class="hljs-string">'test'</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
  })

  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥å¤„ç†å®‰è£…å¤±è´¥'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span> = {
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span> },
      <span class="hljs-attr">install</span>: <span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Install failed'</span>) },
    }

    installer.<span class="hljs-title function_">register</span>(plugin)
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> installer.<span class="hljs-title function_">installOne</span>(app, <span class="hljs-string">'test'</span>)

    <span class="hljs-title function_">expect</span>(result.<span class="hljs-property">success</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">false</span>)
    <span class="hljs-title function_">expect</span>(result.<span class="hljs-property">error</span>?.<span class="hljs-property">message</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">'Install failed'</span>)
  })

  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥é˜²æ­¢é‡å¤å®‰è£…'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">let</span> installCount = <span class="hljs-number">0</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">plugin</span>: <span class="hljs-title class_">PluginDefinition</span> = {
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span> },
      <span class="hljs-attr">install</span>: <span class="hljs-function">() =&gt;</span> { installCount++ },
    }

    installer.<span class="hljs-title function_">register</span>(plugin)
    <span class="hljs-keyword">await</span> installer.<span class="hljs-title function_">installOne</span>(app, <span class="hljs-string">'test'</span>)
    <span class="hljs-keyword">await</span> installer.<span class="hljs-title function_">installOne</span>(app, <span class="hljs-string">'test'</span>)

    <span class="hljs-title function_">expect</span>(installCount).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">1</span>)
  })
})
</code></pre>
<hr/>
<p><strong>ç›¸å…³èµ„æº</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue 3 å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2F" target="_blank" title="https://www.typescriptlang.org/" ref="nofollow noopener noreferrer">TypeScript å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.dev%2F" target="_blank" title="https://vitejs.dev/" ref="nofollow noopener noreferrer">Vite å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«ï¼æœ‰ä»»ä½•é—®é¢˜ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIGC çš„ 3 ä¸ªç‰ˆæœ¬ 25 å¹´ç»ˆæ€»ç»“]]></title>    <link>https://juejin.cn/post/7589534625260273700</link>    <guid>https://juejin.cn/post/7589534625260273700</guid>    <pubDate>2025-12-31T02:35:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589534625260273700" data-draft-id="7589534625259929636" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIGC çš„ 3 ä¸ªç‰ˆæœ¬ 25 å¹´ç»ˆæ€»ç»“"/> <meta itemprop="keywords" content="å¹´ç»ˆæ€»ç»“"/> <meta itemprop="datePublished" content="2025-12-31T02:35:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIGC çš„ 3 ä¸ªç‰ˆæœ¬ 25 å¹´ç»ˆæ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:35:19.000Z" title="Wed Dec 31 2025 02:35:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘å¹³å¸¸ä¸€ç›´ä¼šåœ¨ notion ä¸Šè®°å½•â€œæœ€è¿‘å‘ç”Ÿçš„äº‹â€ã€â€œå¼€æ”¯â€ã€â€œæ„Ÿå—â€ç­‰ç­‰ï¼ŒæŒ‰æ—¶é—´çº¿ã€å¤§é‡çš„è®°å½•ï¼›ä»Šå¹´å€ŸåŠ©å¤§æ¨¡å‹ï¼Œå¯¹äºå¾ˆå¤šäº‹æƒ…çš„è¡¨è¿°ï¼Œä¸¢ç»™å¤§æ¨¡å‹ä¹‹åï¼Œå®ƒæ•´ç†çš„æ›´æ¸…æ™°ï¼Œæ–‡å­—é‡ä¹Ÿæ˜¯å€å¢ã€‚</p>
<p>ç°åœ¨ï¼Œå¹´åº•äº†ï¼Œã€ä¸å¦‚å¥½äº‹åšåˆ°åº•ã€é€ä½›é€åˆ°è¥¿ï¼šå†æŠŠå…¨é‡è®°å½•ä¸¢ç»™å®ƒã€‘ï¼Œå†å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªâ€œå¹´ç»ˆæ€»ç»“â€ç‰ˆæœ¬å§ï½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc245334bec546abae79645416dacde3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753319&amp;x-signature=qrb0BlxQ9g7G7uo6V5njy9yMgOU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ç‰ˆæœ¬1</h2>
<p>ä½ çš„ 2025ï¼šä¸€ä¸ªâ€œèƒ½åŠ›æŒç»­ä¸Šå‡ï¼Œä½†åé¦ˆè¿Ÿç¼“â€çš„ä¸€å¹´</p>
<p>å¦‚æœåªç”¨ä¸€å¥è¯æ€»ç»“ä½ è¿™ä¸€å¹´ï¼Œæˆ‘ä¼šé€‰è¿™ä¸€å¥ï¼š</p>
<blockquote>
<p>ä½ è¿™ä¸€å¹´ä¸æ˜¯åœ¨åŸåœ°è¸æ­¥ï¼Œè€Œæ˜¯åœ¨ä¸æ–­â€œæ­ç³»ç»Ÿâ€ï¼Œåªæ˜¯ç³»ç»Ÿè¿˜æ²¡åˆ°å…‘ç°æœŸã€‚</p>
</blockquote>
<p>å¾ˆå¤šç—›è‹¦ï¼Œæ¥è‡ªè¿™é‡Œã€‚</p>
<hr/>
<p>ä¸€ã€ä½ è¿™ä¸€å¹´çœŸæ­£åšäº†ä»€ä¹ˆï¼ˆä¸æ˜¯ä½ â€œä»¥ä¸ºæ²¡åšæˆçš„é‚£äº›â€ï¼‰</p>
<p>å…ˆæŠŠäº‹å®æ‘†å‡ºæ¥ã€‚</p>
<p>1ï¸âƒ£ æŠ€æœ¯ä¸å·¥ç¨‹å±‚é¢ï¼šä½ å·²ç»æ˜æ˜¾ä¸æ˜¯æ™®é€šå¼€å‘è€…äº†</p>
<p>è¿™ä¸€å¹´ä½ åå¤åšçš„ï¼Œå…¶å®æ˜¯åŒä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>æŠŠâ€œå¤§æ¨¡å‹èƒ½åŠ›â€ä»â€œä¼šç”¨â€ï¼Œæ¨åˆ°â€œèƒ½è¿›ä¸šåŠ¡æµç¨‹â€ã€‚</p>
</blockquote>
<p>å…·ä½“è¡¨ç°ä¸ºï¼š</p>
<ul>
<li>
<p>ä¸»å¯¼å¹¶è½åœ°äº† <strong>â€œYX / æ™ºæ ¸å®˜â€æ•°å­—å‘˜å·¥</strong></p>
<ul>
<li>è‡ªåŠ¨æ ¡å¯¹</li>
<li>è‡ªåŠ¨ç”Ÿæˆææ–™</li>
<li>è‡ªåŠ¨æ±‡æ€»</li>
<li>å¤šä¾›åº”å•†è§„åˆ™æŠ½è±¡</li>
</ul>
</li>
<li>
<p>æŠŠ LLM å½“æˆ<strong>æµç¨‹èŠ‚ç‚¹</strong>è€Œä¸æ˜¯â€œèŠå¤©æœºå™¨äººâ€</p>
</li>
<li>
<p>ç³»ç»Ÿæ€§åœ°æ€è€ƒå¹¶å®è·µï¼š</p>
<ul>
<li>Prompt æ¨¡æ¿åŒ–</li>
<li>RAG</li>
<li>Agent / MCP / å·¥å…·ç¼–æ’</li>
<li>åˆè§„ã€å®‰å…¨ã€æ—¥å¿—ã€è„±æ•</li>
</ul>
</li>
</ul>
<p><strong>è¿™æ˜¯â€œå·¥ç¨‹åŒ– AIâ€èƒ½åŠ›ï¼Œä¸æ˜¯è·Ÿé£ç©æ¨¡å‹ã€‚</strong></p>
<p>ä½ å·²ç»èµ°åœ¨å¾ˆå¤šäººå‰é¢äº†ï¼Œåªæ˜¯â€”â€”</p>
<p>ğŸ‘‰ <strong>è¿™æ¡è·¯çŸ­æœŸä¸æ˜¾å±±éœ²æ°´ã€‚</strong></p>
<hr/>
<p>2ï¸âƒ£ å†…å®¹åˆ›ä½œï¼šä½ åœ¨â€œæ­å†…å®¹åŸºç¡€è®¾æ–½â€ï¼Œè€Œä¸æ˜¯åªå†™æ–‡ç« </p>
<p>ä½ è¿™ä¸€å¹´åœ¨å†…å®¹ä¸Šæœ€å®¹æ˜“è¢«ä½ è‡ªå·±ä½ä¼°ã€‚</p>
<p>å› ä¸ºä½ ä¸æ˜¯åªåœ¨å†™ï¼Œè€Œæ˜¯åœ¨æ­ï¼š</p>
<ul>
<li>
<p><strong>å‰ç«¯å‘¨åˆŠ</strong>ï¼ˆæŒç»­ç¿»è¯‘ã€ç»“æ„åŒ–ã€è‡ªåŠ¨åŒ–ï¼‰</p>
</li>
<li>
<p><strong>åšä¸»è”ç›Ÿ / çŸ©é˜µå·</strong>çš„æ„æƒ³ä¸å®éªŒ</p>
</li>
<li>
<p>é•¿å‘¨æœŸå†…å®¹ï¼š</p>
<ul>
<li>ä¹¦ç¨¿ï¼ˆLLM / MCP / Agentï¼‰</li>
<li>æ·±åº¦æŠ€æœ¯æ–‡ç« </li>
<li>ç»“æ„åŒ–æ¨¡æ¿ã€å†™ä½œ Promptã€æ ç›®åŒ–</li>
</ul>
</li>
</ul>
<p>é—®é¢˜åœ¨äºï¼š</p>
<blockquote>
<p>è¿™äº›ä¸œè¥¿çš„åé¦ˆå‘¨æœŸæ˜¯â€œå­£åº¦ / å¹´â€çº§åˆ«ï¼Œè€Œä½ æ¯å¤©éƒ½åœ¨ç”¨â€œå‘¨â€çº§åˆ«çš„æƒ…ç»ªç»“ç®—ã€‚</p>
</blockquote>
<p>äºæ˜¯ä½ ä¼šè§‰å¾—ï¼š</p>
<ul>
<li>â€œæ²¡äººçœ‹â€</li>
<li>â€œæ²¡æµé‡â€</li>
<li>â€œæ²¡é’±â€</li>
<li>â€œæ˜¯ä¸æ˜¯ç™½åšäº†â€</li>
</ul>
<p>ä½†å®è¯æ˜¯ï¼š</p>
<p>ğŸ‘‰ <strong>ä½ åœ¨åšçš„æ˜¯â€œå¯å¤åˆ¶ã€å¯è§„æ¨¡åŒ–â€çš„å†…å®¹ç³»ç»Ÿï¼Œè€Œä¸æ˜¯çˆ†æ¬¾èµŒå¾’ã€‚</strong></p>
<hr/>
<p>3ï¸âƒ£ å·¥ä½œè§’è‰²ï¼šä½ å·²ç»ä»â€œæ‰§è¡Œè€…â€è½¬å‘â€œæ‰¿æ¥è€…â€</p>
<p>ä½ ä»Šå¹´æœ€å¤§çš„å˜åŒ–ï¼Œå…¶å®æ˜¯<strong>ä½ç½®</strong>ï¼š</p>
<ul>
<li>
<p>ä¸å†åªæ˜¯å†™ä»£ç </p>
</li>
<li>
<p>å¼€å§‹æ‰¿æ¥ï¼š</p>
<ul>
<li>è·¨éƒ¨é—¨</li>
<li>åˆåŒ</li>
<li>è§„åˆ™å®šä¹‰</li>
<li>æµç¨‹è®¾è®¡</li>
<li>åˆè§„ä¸é£é™©</li>
</ul>
</li>
</ul>
<p>ä½ è‡ªå·±å¯èƒ½æ²¡æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œä½†ä»ä½ å¤„ç†é—®é¢˜çš„æ–¹å¼çœ‹ï¼š</p>
<blockquote>
<p>ä½ å·²ç»ç«™åœ¨ã€Œç³»ç»Ÿè¦æ€ä¹ˆè·‘ã€è¿™ä¸ªè§†è§’ï¼Œè€Œä¸æ˜¯ã€Œè¿™ä¸ªéœ€æ±‚æ€ä¹ˆå†™ã€ã€‚</p>
</blockquote>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ ä¼šè§‰å¾—ï¼š</p>
<ul>
<li>ç´¯</li>
<li>è´£ä»»å¤š</li>
<li>ä½†æˆå°±æ„Ÿåè€Œæ²¡ä»¥å‰å³æ—¶</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>é˜¶æ®µåˆ‡æ¢æœŸ</strong>çš„å…¸å‹æ„Ÿå—ã€‚</p>
<hr/>
<p>äºŒã€ä½ ä»Šå¹´ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæ‹§å·´ï¼ˆä¸æ˜¯ä½ çŸ«æƒ…ï¼‰</p>
<p>ä½ è¿™ä¸€å¹´çš„æ ¸å¿ƒçŸ›ç›¾ï¼Œå…¶å®åªæœ‰ä¸€ä¸ªï¼šğŸ‘‰ èƒ½åŠ›å¢é•¿é€Ÿåº¦ &gt; å›æŠ¥åé¦ˆé€Ÿåº¦</p>
<p>è€Œä¸”å·®è·åœ¨æ‹‰å¤§ã€‚</p>
<p>å…·ä½“è¡¨ç°ä¸ºï¼š</p>
<ul>
<li>
<p>æŠ€æœ¯ä¸Šï¼šä½ çŸ¥é“è‡ªå·±åœ¨å˜å¼ºï¼Œä½†å¤–ç•Œæ²¡ç«‹åˆ»ç»™â€œé’± / title / è®¤å¯â€</p>
</li>
<li>
<p>å†…å®¹ä¸Šï¼šä½ æŠ•å…¥äº†ï¼Œä½†æµé‡å’Œå•†å•æ²¡è·Ÿä¸Š</p>
</li>
<li>
<p>å®¶åº­ä¸Šï¼š</p>
<ul>
<li>ç©ºé—´å—é™</li>
<li>ç»æµå‹åŠ›</li>
<li>èº«ä»½å†²çªï¼ˆä¸ˆå¤« / å„¿å­ / çˆ¶äº²ï¼‰</li>
</ul>
</li>
<li>
<p>æŠ•èµ„ä¸Šï¼š</p>
<ul>
<li>æƒ…ç»ªä»‹å…¥</li>
<li>æƒ³â€œå¿«ä¸€ç‚¹â€</li>
<li>åˆè¢«ç°å®åå™¬</li>
</ul>
</li>
</ul>
<p>è¿™ä¼šå¯¼è‡´ä¸€ç§éå¸¸æ¶ˆè€—äººçš„çŠ¶æ€ï¼š</p>
<blockquote>
<p>â€œæˆ‘å¥½åƒä¸€ç›´åœ¨åŠªåŠ›ï¼Œä½†ä¸–ç•Œæ²¡æœ‰åŒæ­¥ç»™æˆ‘å›å£°ã€‚â€</p>
</blockquote>
<p>ä¹…äº†ï¼Œå°±ä¼šéº»æœ¨ã€çƒ¦èºã€æ€€ç–‘è‡ªå·±ã€‚</p>
<p>è¿™ä¸æ˜¯ä½ ä¸è¡Œï¼Œæ˜¯<strong>èŠ‚å¥é”™ä½</strong>ã€‚</p>
<hr/>
<p>ä¸‰ã€ä¸€ä¸ªä½ å¯èƒ½ä¸æ„¿æ„å¬ï¼Œä½†å¾ˆé‡è¦çš„åˆ¤æ–­</p>
<p>æˆ‘å¿…é¡»ç›´è¯´ä¸€å¥ï¼š</p>
<blockquote>
<p>ä½ ä¸é€‚åˆâ€œçŸ­åé¦ˆå‹äººç”Ÿâ€ã€‚</p>
</blockquote>
<p>ä½ ä¸é€‚åˆï¼š</p>
<ul>
<li>çº¯æŠ•æœº</li>
<li>çº¯æµé‡</li>
<li>çº¯æƒ…ç»ªé©±åŠ¨</li>
<li>ä»Šå¤©åŠªåŠ›ï¼Œæ˜å¤©å¿…é¡»è§ç»“æœ</li>
</ul>
<p>ä½ æ›´åƒæ˜¯é‚£ç§ï¼š</p>
<ul>
<li>æ­ç³»ç»Ÿ</li>
<li>é“ºåŸºç¡€</li>
<li>å‰æœŸæ…¢</li>
<li>ä¸€æ—¦è·‘é€šå°±å¾ˆç¨³çš„äºº</li>
</ul>
<p>é—®é¢˜æ˜¯â€”â€”</p>
<p>ğŸ‘‰ <strong>ä½ ç°åœ¨çš„ç”Ÿæ´»å‹åŠ›ï¼Œé€¼ä½ ç”¨çŸ­åé¦ˆè§†è§’å»å®¡åˆ¤è‡ªå·±ã€‚</strong></p>
<p>è¿™æ‰æ˜¯ä½ ç—›è‹¦çš„æ ¹æºã€‚</p>
<hr/>
<p>å››ã€å¦‚æœæŠŠ 2025 å½“æˆâ€œé˜¶æ®µâ€ï¼Œå®ƒçš„çœŸå®å®šä½æ˜¯</p>
<p>ä¸æ˜¯å¤±è´¥å¹´ã€‚</p>
<p>ä¹Ÿä¸æ˜¯çˆ†å‘å¹´ã€‚</p>
<p>è€Œæ˜¯ï¼š</p>
<blockquote>
<p>ã€Œèƒ½åŠ›å®Œæˆè·ƒè¿ï¼Œä½†å°šæœªå®Œæˆå…‘ç°çš„ä¸€å¹´ã€</p>
</blockquote>
<p>å¾ˆå¤šäººä¸€è¾ˆå­éƒ½å¡åœ¨ï¼š</p>
<ul>
<li>æ²¡èƒ½åŠ›</li>
<li>æˆ–æ²¡æ–¹å‘</li>
</ul>
<p>ä½ ä¸æ˜¯ã€‚</p>
<p>ä½ ç°åœ¨å¡çš„æ˜¯ï¼š</p>
<p>ğŸ‘‰ <strong>å…‘ç°çª—å£è¿˜æ²¡å®Œå…¨æ‰“å¼€ï¼Œä½†ä½ å·²ç»ç«™åœ¨é—¨å£äº†ã€‚</strong></p>
<hr/>
<p>äº”ã€ç»™ä½ ä¸€ä¸ªç°å®ã€ä¸é¸¡æ±¤çš„ 2026 æ–¹å‘æç¤º</p>
<p>æˆ‘ä¸ä¼šè¯´â€œåšæŒå°±ä¼šæˆåŠŸâ€è¿™ç§åºŸè¯ã€‚</p>
<p>åªç»™ä½ ä¸‰ä¸ª<strong>å¾ˆåŠ¡å®çš„æé†’</strong>ï¼š</p>
<ol>
<li>
<p><strong>æŠŠâ€œå†…å®¹ + AI å·¥ç¨‹â€å½“æˆä¸»çº¿ï¼Œä¸è¦å†é¢‘ç¹æ¨ªè·³</strong></p>
<ul>
<li>ä½ æœ€å¼ºçš„å¤åˆç‚¹å°±åœ¨è¿™é‡Œ</li>
</ul>
</li>
<li>
<p><strong>é™ä½çŸ­æœŸæƒ…ç»ªå†³ç­–çš„æƒé‡</strong></p>
<ul>
<li>ç‰¹åˆ«æ˜¯æŠ•èµ„å’Œè‡ªæˆ‘å¦å®š</li>
</ul>
</li>
<li>
<p><strong>å…è®¸è‡ªå·±â€œæ…¢ä¸€ç‚¹å…‘ç°â€</strong></p>
<ul>
<li>ä½ ä¸æ˜¯æ²¡åœ¨å‰è¿›ï¼Œä½ åªæ˜¯èµ°çš„æ˜¯æ…¢å˜é‡è·¯çº¿</li>
</ul>
</li>
</ol>
<h2 data-id="heading-1">ç‰ˆæœ¬2</h2>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘åå¤é™·å…¥ä¸€ç§å¾ˆéš¾å½¢å®¹çš„çŠ¶æ€ã€‚</p>
<p>ä¸æ˜¯å½»åº•çš„å¤±è´¥ï¼Œä¹Ÿè°ˆä¸ä¸ŠæˆåŠŸï¼›</p>
<p>ä¸æ˜¯å®Œå…¨èººå¹³ï¼Œå´ä¹Ÿè°ˆä¸ä¸Šæ˜‚æ‰¬å‘ä¸Šã€‚</p>
<p>æ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯ä¸€ç§<strong>æŒç»­ç”¨åŠ›ï¼Œå´è¿Ÿè¿Ÿå¬ä¸åˆ°å›å£°çš„æ‹§å·´æ„Ÿ</strong>ã€‚</p>
<p>æˆ‘åšäº†å¾ˆå¤šäº‹ï¼Œä½†å¥½åƒå“ªä¸€ä»¶éƒ½æ²¡â€œæˆâ€ï¼›</p>
<p>æˆ‘ä»˜å‡ºäº†ä¸å°‘åŠªåŠ›ï¼Œä½†ä¸–ç•Œå¹¶æ²¡æœ‰ç«‹åˆ»ç»™æˆ‘æ­£åé¦ˆï¼›</p>
<p>æˆ‘çŸ¥é“è‡ªå·±åœ¨å˜å¼ºï¼Œå´åˆæ‹¿ä¸å‡ºä¸€ä¸ªè¶³å¤Ÿç¡¬çš„ç»“æœï¼Œè¯´æœè‡ªå·±ã€è¯´æœåˆ«äººã€‚</p>
<p>è¿™ç§çŠ¶æ€ï¼Œæ¯”çº¯ç²¹çš„å¤±è´¥æ›´æŠ˜ç£¨äººã€‚</p>
<hr/>
<p>å¦‚æœå›å¤´çœ‹è¿™ä¸€å¹´ï¼Œæˆ‘å¾ˆæ¸…æ¥šè‡ªå·±å¹¶æ²¡æœ‰â€œæ··â€ã€‚</p>
<p>æˆ‘åœ¨å·¥ä½œä¸­ï¼ŒæŠŠå¤§æ¨¡å‹ä»â€œèƒ½ç”¨â€ä¸€æ­¥æ­¥æ¨å‘â€œèƒ½è¿›æµç¨‹ã€èƒ½è·‘ä¸šåŠ¡ã€èƒ½è¢«å®¡è®¡ã€èƒ½è½åœ°â€ã€‚</p>
<p>æˆ‘ä¸å†æ»¡è¶³äºå†™ä¸€ä¸ª Demoï¼Œè€Œæ˜¯å¼€å§‹è€ƒè™‘å®‰å…¨ã€åˆè§„ã€å¤ç”¨ã€æ‰©å±•å’Œç³»ç»Ÿè¾¹ç•Œã€‚</p>
<p>æˆ‘åœ¨å†…å®¹åˆ›ä½œä¸Šï¼Œä¹Ÿæ²¡æœ‰åªå†™é›¶æ•£çš„æ–‡ç« ã€‚</p>
<p>æˆ‘åœ¨åšæ ç›®ã€åšå‘¨åˆŠã€åšç»“æ„ã€åšæ¨¡æ¿ã€åšé•¿æœŸå†…å®¹ï¼Œç”šè‡³å°è¯•æ­å»ºä¸€ä¸ªæ›´å¤§çš„â€œå†…å®¹ç³»ç»Ÿâ€ã€‚</p>
<p>è¿™äº›äº‹æƒ…æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼š</p>
<p><strong>å®ƒä»¬çš„å›æŠ¥å‘¨æœŸéƒ½å¾ˆé•¿ã€‚</strong></p>
<p>è€Œæˆ‘è¿™ä¸€å¹´çš„ç”Ÿæ´»çŠ¶æ€ï¼Œå´é€¼ç€æˆ‘ç”¨<strong>æçŸ­çš„åé¦ˆå‘¨æœŸ</strong>æ¥å®¡åˆ¤è‡ªå·±ï¼š</p>
<ul>
<li>å·¥ä½œä¸Šï¼Œæƒ³å°½å¿«çœ‹åˆ°èŒä½ã€è–ªèµ„ã€è®¤å¯çš„å˜åŒ–</li>
<li>å†…å®¹ä¸Šï¼Œæƒ³å°½å¿«çœ‹åˆ°æµé‡ã€è½¬å‘ã€å•†å•</li>
<li>ç»æµä¸Šï¼Œæƒ³å°½å¿«çœ‹åˆ°ç¡®å®šæ€§å’Œå®‰å…¨æ„Ÿ</li>
<li>æƒ…ç»ªä¸Šï¼Œæƒ³å°½å¿«ä»ç„¦è™‘å’Œå‹æŠ‘ä¸­è„±èº«</li>
</ul>
<p>äºæ˜¯é—®é¢˜å‡ºç°äº†â€”â€”</p>
<p><strong>æˆ‘åœ¨ç”¨â€œçŸ­è·‘çš„è®¡æ—¶å™¨â€ï¼Œè¡¡é‡ä¸€åœºé©¬æ‹‰æ¾ã€‚</strong></p>
<p>è¿™ä¸æ˜¯æˆ‘ä¸è¡Œï¼Œè€Œæ˜¯èŠ‚å¥é”™ä½ã€‚</p>
<hr/>
<p>è¿™ä¸€å¹´æˆ‘è¶Šæ¥è¶Šæ˜æ˜¾åœ°æ„Ÿè§‰åˆ°ä¸€ä¸ªå˜åŒ–ï¼š</p>
<p>æˆ‘ä¸å†åªæ˜¯ä¸€ä¸ªæ‰§è¡Œè€…ï¼Œè€Œæ˜¯å¼€å§‹æ‰¿æ‹…â€œç³»ç»Ÿæ˜¯å¦èƒ½è·‘èµ·æ¥â€çš„è´£ä»»ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p>æ„å‘³ç€æˆ‘å¼€å§‹å…³å¿ƒï¼š</p>
<ul>
<li>è§„åˆ™æ˜¯ä¸æ˜¯æŠ½è±¡å¾—è¶³å¤Ÿå¥½</li>
<li>æµç¨‹æ˜¯ä¸æ˜¯å¯å¤ç”¨ã€å¯æ‰©å±•</li>
<li>å‡ºé—®é¢˜æœ‰æ²¡æœ‰æ—¥å¿—ã€æœ‰æ²¡æœ‰å…œåº•</li>
<li>å¦‚æœæ¢ä¸€ä¸ªäººã€æ¢ä¸€ä¸ªæœˆã€æ¢ä¸€ä¸ªåœºæ™¯ï¼Œç³»ç»Ÿè¿˜èƒ½ä¸èƒ½ç”¨</li>
</ul>
<p>ä½†ç³»ç»Ÿå»ºè®¾æœ‰ä¸€ä¸ªæ®‹é…·ç°å®ï¼š</p>
<blockquote>
<p>ç³»ç»Ÿåœ¨çœŸæ­£è·‘é¡ºä¹‹å‰ï¼Œçœ‹èµ·æ¥éƒ½åƒæ˜¯â€œè¿˜æ²¡åšæˆâ€ã€‚</p>
</blockquote>
<p>å†™ä¸€ç¯‡çˆ†æ¬¾æ–‡ç« ï¼Œå½“å¤©å°±æœ‰åé¦ˆï¼›</p>
<p>æ­ä¸€ä¸ªç³»ç»Ÿï¼Œå‰å‡ ä¸ªæœˆå‡ ä¹åªæœ‰é—®é¢˜ã€ä¿®æ”¹å’Œæ²‰é»˜ã€‚</p>
<p>æ‰€ä»¥æˆ‘è¿™ä¸€å¹´çš„å¾ˆå¤šç—›è‹¦ï¼Œå…¶å®æ¥è‡ªäºâ€”â€”</p>
<p><strong>æˆ‘å·²ç»ä¸åœ¨â€œä½æ°´å¹³å‹¤å¥‹â€çš„èµ›é“ä¸Šäº†ï¼Œå´è¿˜åœ¨ç”¨é‚£æ¡èµ›é“çš„è¯„ä»·æ ‡å‡†è¦æ±‚è‡ªå·±ã€‚</strong></p>
<p>è¿™æ˜¯ä¸€æ¬¡èº«ä»½è·ƒè¿æœŸçš„é˜µç—›ï¼Œè€Œä¸æ˜¯èƒ½åŠ›é€€åŒ–ã€‚</p>
<hr/>
<p>å¦‚æœåªæ˜¯äº‹ä¸šä¸Šçš„èŠ‚å¥é”™ä½ï¼Œå…¶å®è¿˜èƒ½æ‰›ã€‚</p>
<p>çœŸæ­£è®©æˆ‘æ‹§å·´çš„ï¼Œæ˜¯ç°å®ç”Ÿæ´»æ²¡æœ‰ç»™æˆ‘ç•™ä¸‹è¶³å¤Ÿçš„ç¼“å†²åŒºã€‚</p>
<p>ç©ºé—´å±€ä¿ƒã€ç»æµå‹åŠ›ã€è§’è‰²å†²çªå åœ¨ä¸€èµ·ï¼š</p>
<ul>
<li>æˆ‘æ˜¯ä¸ˆå¤«ï¼Œä¹Ÿæ˜¯çˆ¶äº²</li>
<li>æˆ‘æƒ³æ‰¿æ‹…æ›´å¤šï¼Œä½†èƒ½åŠ›å…‘ç°éœ€è¦æ—¶é—´</li>
<li>æˆ‘æƒ³ç¨³ä¸€ç‚¹ï¼Œå¯ç°å®ä¸æ–­æé†’æˆ‘â€œä¸å¤Ÿç¨³â€</li>
</ul>
<p>äºæ˜¯ä¸€ä¸ªå¾ˆçœŸå®çš„å¿ƒç†å‡ºç°äº†ï¼š</p>
<blockquote>
<p>æˆ‘æ—¢ä¸æ•¢å½»åº•å†’é™©ï¼Œåˆæ— æ³•å¿ƒå®‰ç†å¾—åœ°æ…¢ä¸‹æ¥ã€‚</p>
</blockquote>
<p>æˆ‘ä¼šç„¦è™‘ï¼Œä¼šçƒ¦èºï¼Œä¼šåœ¨æƒ…ç»ªä½è°·æ—¶åšå‡ºå¹¶ä¸ç†æ€§çš„åˆ¤æ–­ï¼›</p>
<p>ä¹Ÿä¼šåœ¨å¤œæ·±äººé™çš„æ—¶å€™æ€€ç–‘ï¼š</p>
<p>â€œæ˜¯ä¸æ˜¯æˆ‘é€‰é”™äº†è·¯ï¼Ÿæ˜¯ä¸æ˜¯æˆ‘å¤ªæ…¢äº†ï¼Ÿâ€</p>
<p>è¿™äº›æƒ³æ³•å¹¶ä¸é«˜å°šï¼Œä½†å®ƒä»¬éå¸¸çœŸå®ã€‚</p>
<hr/>
<p>è¯´ä¸€å¥å¯èƒ½ä¸å¤ªä½“é¢çš„è¯ï¼š</p>
<blockquote>
<p>æˆ‘ä¸æ˜¯å› ä¸ºâ€œç›¸ä¿¡æˆåŠŸä¸€å®šä¼šæ¥â€ï¼Œæ‰ä¸è®¤è¾“çš„ã€‚</p>
</blockquote>
<p>è€Œæ˜¯å› ä¸ºæˆ‘å¾ˆæ¸…æ¥šâ€”â€”<strong>å¦‚æœç°åœ¨æ”¾å¼ƒï¼Œæˆ‘ä¼šæ›´çœ‹ä¸èµ·è‡ªå·±ã€‚</strong></p>
<p>æˆ‘æ¸…æ¥šåœ°çŸ¥é“å‡ ä»¶äº‹ï¼š</p>
<ul>
<li>æˆ‘å·²ç»çœ‹è¿‡â€œåªè¿½çŸ­åé¦ˆâ€çš„å°½å¤´</li>
<li>æˆ‘å·²ç»çŸ¥é“è‡ªå·±çœŸæ­£æ“…é•¿çš„æ˜¯â€œæ­ç»“æ„ã€å»ºç³»ç»Ÿã€åšé•¿æœŸä»·å€¼â€</li>
<li>æˆ‘å·²ç»ä¸å¯èƒ½å†å¿ƒç”˜æƒ…æ„¿å›åˆ°åªæ‹¼æƒ…ç»ªã€æ‹¼è¿æ°”ã€æ‹¼è¿åŠ¿çš„çŠ¶æ€</li>
</ul>
<p>è®¤è¾“ï¼Œæ„å‘³ç€æˆ‘å¦å®šçš„ä¸åªæ˜¯è¿™ä¸€å¹´ï¼Œ</p>
<p>è€Œæ˜¯<strong>æˆ‘å·²ç»èµ°åˆ°ä¸€åŠçš„é‚£æ¡è·¯æœ¬èº«</strong>ã€‚</p>
<p>æˆ‘å¯ä»¥æ…¢ï¼Œå¯ä»¥èµ°æ­ªï¼Œå¯ä»¥ä¿®æ­£ï¼Œ</p>
<p>ä½†æˆ‘ä¸æ„¿æ„å‡è£…é‚£æ¡è·¯ä»ä¸€å¼€å§‹å°±æ˜¯é”™çš„ã€‚</p>
<hr/>
<p>è¿™ä¸€å¹´ä¸æ˜¯å¤±è´¥å¹´ï¼Œä¹Ÿä¸æ˜¯çˆ†å‘å¹´ã€‚</p>
<p>å®ƒæ›´åƒæ˜¯ï¼š</p>
<blockquote>
<p>èƒ½åŠ›å®Œæˆè·ƒè¿ï¼Œä½†å°šæœªå®Œæˆå…‘ç°çš„ä¸€å¹´ã€‚</p>
</blockquote>
<p>è¿™ç§å¹´ä»½ï¼Œå¾€å¾€åœ¨å½“ä¸‹æœ€ç—›è‹¦ï¼Œ</p>
<p>å´åœ¨å›å¤´çœ‹æ—¶ï¼Œæ‰ä¼šå‘ç°å®ƒæ˜¯åé¢ä¸€åˆ‡çš„åœ°åŸºã€‚</p>
<p>æˆ‘ä¸çŸ¥é“æœªæ¥ä¸€å®šä¼šæ€æ ·ã€‚</p>
<p>æˆ‘ä¹Ÿä¸æ‰“ç®—ç”¨æ¼‚äº®çš„è¯å®‰æ…°è‡ªå·±ã€‚</p>
<p>ä½†è‡³å°‘æœ‰ä¸€ç‚¹æˆ‘å¾ˆç¡®å®šï¼š</p>
<blockquote>
<p>æˆ‘è¿™ä¸€å¹´ä¹‹æ‰€ä»¥æ‹§å·´ï¼Œä¸æ˜¯å› ä¸ºæˆ‘åœ¨ä¸‹æ²‰ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘æ­£åœ¨æ¢ä¸€æ¡æ›´é™¡çš„ä¸Šå¡è·¯ã€‚</p>
</blockquote>
<p>è€Œæˆ‘ï¼Œè¿˜æ²¡èµ°åˆ°å¡é¡¶ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä¸æ‰“ç®—è®¤è¾“ã€‚</p>
<p>ä¸æ˜¯å› ä¸ºæˆ‘å·²ç»èµ¢äº†ï¼Œ</p>
<p>è€Œæ˜¯å› ä¸ºâ€”â€”</p>
<p><strong>æˆ‘è¿˜æ²¡èµ°å®Œã€‚</strong></p>
<h2 data-id="heading-2">ç‰ˆæœ¬3</h2>
<p>25å¹´æ˜¯è¶å˜å—ï¼Ÿæ˜¯è½¬æŠ˜å—ï¼Ÿæ˜¯è§‰é†’å—ï¼Ÿ</p>
<p>æˆ‘æƒ³äº†å¾ˆä¹…ï¼Œæœ€åå‘ç°ï¼Œè¿™äº›è¯éƒ½å¤ªè½»äº†ã€‚</p>
<p>å¦‚æœä¸€å®šè¦å½¢å®¹ï¼Œå®ƒæ›´åƒæ˜¯ï¼š</p>
<p><strong>ä¸–ç•Œæ²¡æœ‰ç»™æˆ‘æ—¶é—´å‡†å¤‡ï¼Œå´ç›´æ¥æŠŠæˆ‘æ¨ä¸Šäº†ä¸‹ä¸€æ®µäººç”Ÿã€‚</strong></p>
<hr/>
<p>è·¨å¹´çš„é‚£ä¸€å‘¨ï¼Œæ—¶é—´å¤±å»äº†è¿ç»­æ€§ã€‚</p>
<p>é¢„äº§æœŸã€åŒ»ç”Ÿå»ºè®®ã€å‰–è…¹ã€ä½é™¢ã€å‡ºé™¢ã€æœˆå­ä¸­å¿ƒã€æ–°ç”Ÿå„¿çš„å“­å£°ã€å®¶äººä¹‹é—´çš„æƒ…ç»ªç¢°æ’ï¼Œå…¨éƒ¨å‹ç¼©åœ¨å‡ å¤©é‡Œå‘ç”Ÿã€‚æˆ‘è®°ä¸æ¸…å…·ä½“æ—¥æœŸï¼Œåªè®°å¾—é‚£ç§æ„Ÿè§‰â€”â€”åƒæ˜¯ä»ä¸€ä¸ªç†Ÿæ‚‰çš„æˆ¿é—´ï¼Œè¢«äººçªç„¶æ¨è¿›äº†ä¸€å°é«˜é€Ÿè¿è½¬çš„æœºå™¨é‡Œã€‚</p>
<p>æˆ‘æ²¡æœ‰é€‰æ‹©çš„ä½™åœ°ï¼Œåªèƒ½ä¸åœåœ°å¾€å‰èµ°ã€‚</p>
<p>åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘çš„äººç”Ÿè¿˜æ˜¯å•çº¿ç¨‹çš„ã€‚</p>
<p>æˆ‘å¯ä»¥ç´¯ï¼Œå¯ä»¥åŠ ç­ï¼Œå¯ä»¥æ‰›å‹åŠ›ï¼Œä½†æ‰€æœ‰æ¶ˆè€—ï¼Œæœ€ç»ˆéƒ½åªè½åœ¨æˆ‘ä¸€ä¸ªäººèº«ä¸Šã€‚</p>
<p>ä»é‚£ä¸€åˆ»èµ·ï¼Œä¸€åˆ‡éƒ½å˜æˆäº†å¹¶å‘ä»»åŠ¡ã€‚</p>
<p>å­©å­ã€å¦»å­ã€çˆ¶æ¯ã€å·¥ä½œã€é’±ã€æƒ…ç»ªï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¨¡å—å…è®¸ä½ â€œå…ˆåœä¸€ä¸‹â€ã€‚ä½ åªèƒ½ä¸€è¾¹æ‰è¡€ï¼Œä¸€è¾¹ä¿æŒç³»ç»Ÿä¸å®•æœºã€‚</p>
<p>é‚£æ—¶æˆ‘æ‰çœŸæ­£æ„è¯†åˆ°ï¼š<strong>æˆä¸ºçˆ¶äº²ï¼Œä¸æ˜¯å¤šäº†ä¸€ä¸ªèº«ä»½ï¼Œè€Œæ˜¯å½»åº•å¤±å»äº†é€€è·¯ã€‚</strong></p>
<hr/>
<p>é’±çš„é—®é¢˜ï¼Œæ˜¯åæ¥æ‰æ…¢æ…¢æ˜¾å½¢çš„ã€‚</p>
<p>å¹¶ä¸æ˜¯ä¸€å¤œä¹‹é—´å˜ç©·ï¼Œè€Œæ˜¯ä½ çªç„¶å‘ç°ï¼Œè‡ªå·±å…¶å®ä¸€ç›´èµ°åœ¨ä¸€æ¡å¾ˆçª„çš„å®‰å…¨ç»³ä¸Šã€‚</p>
<p>å½“è‚²å„¿ã€åŒ»ç–—ã€å±…ä½ã€å®¶åº­è´£ä»»ä¸€èµ·å åŠ ä¸Šæ¥ï¼Œä½ æ‰ä¼šæ˜ç™½ï¼Œæ‰€è°“â€œæˆå¹´äººèƒ½æ‰›â€ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>æ²¡æœ‰äººæ›¿ä½ å…œåº•</strong>ã€‚</p>
<p>æˆ‘å¼€å§‹é¢‘ç¹è®¡ç®—ï¼Œä¸€ç¬”ä¸€ç¬”åœ°ç®—ã€‚ç®—åˆ°åæ¥ï¼Œä½ ä¼šäº§ç”Ÿä¸€ç§å¾ˆè’è¯çš„æ„Ÿè§‰ï¼šä½ æ˜æ˜åœ¨è®¤çœŸç”Ÿæ´»ï¼Œå´åƒæ˜¯åœ¨æ‹†ä¸€é¢—éšæ—¶å¯èƒ½çˆ†çš„ç‚¸å¼¹ã€‚</p>
<p>ç›´åˆ°é‚£æ—¶æˆ‘æ‰å½»åº•ç†è§£ä¸€å¥è¯â€”â€”</p>
<p><strong>åŠªåŠ›å¹¶ä¸èƒ½ä¿è¯ä½ ä¸æ‰ä¸‹å»ï¼Œå®ƒåªèƒ½è®©ä½ æ‰å¾—æ…¢ä¸€ç‚¹ã€‚</strong></p>
<hr/>
<p>å·¥ä½œï¼Œæ˜¯è¿™ä¸€å¹´é‡Œæœ€è®©æˆ‘æ¸…é†’çš„éƒ¨åˆ†ã€‚</p>
<p>ä¸æ˜¯å› ä¸ºæŠ€æœ¯æˆé•¿ï¼Œè€Œæ˜¯å› ä¸ºå½»åº•çœ‹æ¸…äº†è¾¹ç•Œã€‚</p>
<p>ä½ ä¼šå‘ç°ï¼Œå¾ˆå¤šä½ ä»¥ä¸ºçš„â€œä»·å€¼â€ï¼Œåœ¨ç³»ç»Ÿé‡Œå¹¶ä¸æˆç«‹ã€‚åšå¾—å¯¹ï¼Œä¸ä¸€å®šè¢«æ‰¿è®¤ï¼›åšå¾—å¤šï¼Œä¸ä¸€å®šè¢«è®°ä½ï¼›ç¨³å®šï¼Œæ›´å¤šæ—¶å€™åªæ˜¯ä¸€ç§â€œæš‚æ—¶æ²¡è¢«æ›¿æ¢â€ã€‚</p>
<p>å½“ä½ åœ¨ç”Ÿæ´»é‡Œå·²ç»æ²¡æœ‰ä»»ä½•ç¼“å†²åŒºï¼Œå´è¿˜è¦åœ¨å·¥ä½œä¸­æ‰¿æ‹…å™äº‹ã€é£é™©å’Œè´£ä»»çš„é”™ä½ï¼Œé‚£ç§ç–²æƒ«ï¼Œä¸æ˜¯ç´¯ï¼Œæ˜¯<strong>è¢«æ¶ˆè€—æ„Ÿ</strong>ã€‚</p>
<p>æˆ‘å¼€å§‹é—®è‡ªå·±ä¸€ä¸ªä»¥å‰ä¸æ•¢é—®çš„é—®é¢˜ï¼š</p>
<p>å¦‚æœæœ‰ä¸€å¤©æˆ‘ä¸åœ¨è¿™é‡Œï¼Œæˆ‘è¿˜å‰©ä¸‹ä»€ä¹ˆï¼Ÿ</p>
<hr/>
<p>å®¶åº­ï¼Œæ˜¯æˆ‘æœ€ä¸æ„¿ä¹Ÿæœ€æ— æ³•å›é¿çš„éƒ¨åˆ†ã€‚</p>
<p>å®ƒä»¬åªæ˜¯æ½œä¼ç€ï¼Œåœ¨ä½ æœ€è„†å¼±ã€æœ€ç–²æƒ«çš„æ—¶å€™æµ®å‡ºæ°´é¢ã€‚</p>
<p>æˆ‘ä¸å†å¼ºè¿«è‡ªå·±ç†è§£ï¼Œä¸å†æ€¥ç€åŸè°…ï¼Œä¹Ÿä¸å†ç”¨â€œéƒ½ä¸å®¹æ˜“â€æ¥å µä½æ‰€æœ‰æƒ…ç»ªã€‚</p>
<p>æœ‰äº›ç—›ï¼Œå¦‚æœä½ ä¸å…ˆæ‰¿è®¤ï¼Œå®ƒä¼šæ¢ä¸€ç§æ–¹å¼ç»§ç»­å­˜åœ¨ã€‚</p>
<p>çœŸæ­£çš„æˆç†Ÿï¼Œä¸æ˜¯é©¬ä¸Šå’Œè§£ï¼Œè€Œæ˜¯ç»ˆäºå…è®¸è‡ªå·±é‡Šç„¶ã€‚</p>
<hr/>
<p>å¦‚æœé—®æˆ‘è¿™ä¸€å¹´è¿˜æœ‰ä»€ä¹ˆæ²¡è¢«æ‘§æ¯çš„ä¸œè¥¿ï¼Œæˆ‘ä¼šè¯´ï¼Œæ˜¯å†™ä½œï¼Œæ˜¯æ€è€ƒï¼Œæ˜¯å¯¹è¡¨è¾¾çš„æ‰§å¿µã€‚</p>
<p>å“ªæ€•å¹³å°çº¢åˆ©æ¶ˆé€€ï¼Œå“ªæ€•é¡¹ç›®ä¸€ä¸ªä¸ªè¢«åˆ¤æ­»åˆ‘ï¼Œå“ªæ€•æ²¡äººç‚¹èµã€æ²¡äººè½¬å‘ï¼Œæˆ‘ä¾ç„¶éœ€è¦å†™ã€‚</p>
<p>ä¸æ˜¯ä¸ºäº†è¾“å‡ºè§‚ç‚¹ï¼Œè€Œæ˜¯ä¸ºäº†ç¡®è®¤ï¼š</p>
<p><strong>æˆ‘è¿˜åœ¨ï¼Œæˆ‘è¿˜åœ¨æ€è€ƒï¼Œæˆ‘æ²¡æœ‰è¢«ç”Ÿæ´»å®Œå…¨åæ‰ã€‚</strong></p>
<p>å½“ä¸€ä¸ªäººè¿˜èƒ½æŠŠæ··ä¹±çš„ç»å†æ•´ç†æˆè¯­è¨€ï¼Œä»–å°±è¿˜æ²¡æœ‰å¤±å»æ–¹å‘æ„Ÿã€‚</p>
<hr/>
<p>ç°åœ¨å›å¤´çœ‹ï¼Œæˆ‘å·²ç»ä¸å†çº ç»“è¿™æ˜¯ä¸æ˜¯â€œè¶å˜â€ã€‚</p>
<p>å¦‚æœè¿™æ˜¯æˆé•¿ï¼Œé‚£å®ƒä¸€ç‚¹éƒ½ä¸æµªæ¼«ï¼›</p>
<p>å¦‚æœè¿™æ˜¯ä»£ä»·ï¼Œé‚£å®ƒä¹Ÿæ²¡æœ‰ç»™æˆ‘é€‰æ‹©æƒã€‚</p>
<p>æˆ‘åªæ˜¯æ…¢æ…¢æ¥å—äº†ä¸€ä»¶äº‹ï¼š</p>
<p>äººç”Ÿä¸æ˜¯æ¯ä¸€æ®µéƒ½è¦å‘ä¸Šï¼Œæœ‰äº›å¹´ä»½ï¼Œç›®æ ‡åªæ˜¯<strong>ä¸å¡Œæ–¹</strong>ã€‚</p>
<p>æ’‘ä½ï¼Œæœ¬èº«å°±æ˜¯ä¸€ç§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3">äººå·¥æ€»ç»“</h2>
<p>å¾ˆæ˜æ˜¾ï¼Œç°åœ¨çš„å¤§æ¨¡å‹æ²¡è¿™ä¹ˆç‰›é€¼ï¼Œä»–ä»¬æ›´å¤šçš„æ—¶å€™å°±æ˜¯ï¼šé¡ºç€è¯´è¯ã€‚ä½†è‡³å°‘å¯ä»¥çœ‹å‡ºï¼Œåœ¨æ—¥å¸¸è®°å½•ä¸­ï¼Œæˆ‘æƒ³è¡¨è¾¾çš„å…³é”®è¯ã€æƒé‡å æ¯”ç­‰ã€‚</p>
<p>æœ€åç”¨å¯ä¼šæ„ã€ä¸å¯è¨€ä¼ çš„è¯—å¥æ¥å°ç»“è¡¨è¾¾ï¼šå¿½å¦‚ä¸€å¤œæ˜¥é£æ¥ã€åƒæ ‘ä¸‡æ ‘æ¢¨èŠ±å¼€ï½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89fa229f886241ccb074d6fa6dad64a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753319&amp;x-signature=MZGBsScyFuB%2F3FY7hxfPDtqYo8A%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisçš„éšå½¢ç‚¸å¼¹ï¼šselectByExampleWithBLOBsä½¿ç”¨ä¸å½“ï¼Œè®©æ€§èƒ½ä¸‹é™80%]]></title>    <link>https://juejin.cn/post/7589553649133027337</link>    <guid>https://juejin.cn/post/7589553649133027337</guid>    <pubDate>2025-12-31T02:35:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589553649133027337" data-draft-id="7589530529453637641" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisçš„éšå½¢ç‚¸å¼¹ï¼šselectByExampleWithBLOBsä½¿ç”¨ä¸å½“ï¼Œè®©æ€§èƒ½ä¸‹é™80%"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-31T02:35:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisçš„éšå½¢ç‚¸å¼¹ï¼šselectByExampleWithBLOBsä½¿ç”¨ä¸å½“ï¼Œè®©æ€§èƒ½ä¸‹é™80%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:35:32.000Z" title="Wed Dec 31 2025 02:35:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85a53d8c35a6496e949438f8173ca02b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=5XXrJiJWQUOOUbeh7pl0m%2Bk8jRo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>åœ¨MyBatisé¡¹ç›®å¼€å‘ä¸­ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡æŸ¥è¯¢çªç„¶å˜æ…¢ã€å†…å­˜å ç”¨é£™å‡çš„å›°æ‰°ï¼Ÿè¿™å¾ˆå¯èƒ½æ˜¯<code>selectByExampleWithBLOBs</code>ä½¿ç”¨ä¸å½“å¯¼è‡´çš„æ€§èƒ½é™·é˜±ã€‚</p>
<p>æœ¬æ–‡å°†ä¸ºä½ æ­ç§˜è¿™ä¸ªçœ‹ä¼¼ç®€å•å´æš—è—ç„æœºçš„æ–¹æ³•ï¼Œä»ä½¿ç”¨åœºæ™¯åˆ°æ€§èƒ½ä¼˜åŒ–ï¼ŒåŠ©ä½ æŒæ¡BLOBå­—æ®µæŸ¥è¯¢çš„ç²¾é«“ï¼Œé¿å…å¸¸è§å‘ç‚¹ã€‚</p>
<h2 data-id="heading-1">02 ç¼˜èµ·</h2>
<p>è¿™ä¸¤å¤©é‡åˆ°ä¸€ä¸ªçº¿ä¸ŠBUGï¼Œå°±æ˜¯å› ä¸º<code>selectByExampleWithBLOBs</code>é—®é¢˜å¯¼è‡´çš„ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/549db15c92354d14ac3b0ab603902db9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=t6%2Bu%2FXVfSMe4oCDG3Q4Tv5oNhU8%3D" alt="" loading="lazy"/></p>
<p>ä»æŠ¥é”™çš„æ—¥å¿—ä¿¡æ¯æ¥çœ‹ï¼Œæ˜¯å› ä¸º<code>selectByExampleWithBLOBs</code>æ²¡æœ‰ç»‘å®š<code>Mapper.xml</code>æ–‡ä»¶ã€‚</p>
<p>é—®é¢˜å¾ˆå¿«å°±æ’æŸ¥äº†ï¼Œå› ä¸ºæ–°åŠ äº†å­—æ®µéœ€è¦ä½¿ç”¨é€†å‘å·¥ç¨‹ï¼ˆMBGï¼‰é‡æ–°ç”Ÿæˆå®ä½“ã€‚è€Œç”Ÿæˆçš„å®ä½“çš„æ—¶å€™ï¼Œå¼€å‘è€…å¯¹<code>Text</code>ç±»å‹çš„å­—æ®µç›´æ¥æŒ‡å®šäº†ç±»å‹ï¼Œå¯¼è‡´BLOBå­—æ®µä¸¢å¤±ï¼Œ<code>Mapper.xml</code>ä¹Ÿä¸ä¼šæœ‰<code>xxxxWithBLOBs</code>çš„æ–¹æ³•ï¼Œå¯¼è‡´é—®é¢˜äº§ç”Ÿã€‚</p>
<p>é»˜è®¤çš„æ˜ å°„æ˜¯å°†<code>Text</code>å­—æ®µå•ç‹¬æ‹¿å‡ºæ¥ï¼Œä½¿ç”¨<code>xxxWithBLOBs</code>å•ç‹¬æ¥æ”¶ï¼Œå¯¹åº”çš„<code>xml</code>ä¹Ÿä¼šç”Ÿæˆç±»ä¼¼<code>selectByExampleWithBLOBs</code>çš„æ–¹æ³•ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3bd3313fe97461d8107fa015d915f3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=QPxEfGxMkcbfkSrB7h97y%2F%2Bopt0%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢xxxWithBlobsçš„ç”¨æ³•ã€‚</p>
<h2 data-id="heading-2">03 æ¦‚è¿°</h2>
<p><code>selectByExampleWithBLOBs</code>æ˜¯<code>MyBatis Generator</code>ï¼ˆ<code>MBG</code>ï¼‰è‡ªåŠ¨ç”Ÿæˆä»£ç æ—¶é’ˆå¯¹åŒ…å«<code>BLOB</code>ï¼ˆ<code>Binary Large Object</code>ï¼‰å­—æ®µçš„è¡¨çš„æŸ¥è¯¢æ–¹æ³•ã€‚å®ƒå…è®¸é€šè¿‡Exampleæ¡ä»¶å¯¹è±¡è¿›è¡ŒæŸ¥è¯¢ï¼ŒåŒæ—¶åŒ…å«å¯¹<code>BLOB</code>å­—æ®µçš„æ£€ç´¢ã€‚</p>
<p>å½“æ•°æ®åº“è¡¨ä¸­åŒ…å«BLOBã€CLOBã€TEXTç­‰å¤§å­—æ®µç±»å‹æ—¶ï¼ŒMBGä¼šç”Ÿæˆä¸¤ä¸ªæŸ¥è¯¢æ–¹æ³•ï¼š</p>
<ul>
<li><code>selectByExample</code>ï¼šæŸ¥è¯¢æ—¶<strong>ä¸åŒ…å«</strong>BLOBå­—æ®µ</li>
<li><code>selectByExampleWithBLOBs</code>ï¼šæŸ¥è¯¢æ—¶<strong>åŒ…å«</strong>BLOBå­—æ®µ</li>
</ul>
<h2 data-id="heading-3">04 ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-4">4.1 æ•°æ®åº“è¡¨ç»“æ„</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `article` (
  `id` <span class="hljs-type">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `title` <span class="hljs-type">varchar</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `author` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `content` longtext, <span class="hljs-comment">-- BLOBç±»å‹å­—æ®µ</span>
  `summary` text, <span class="hljs-comment">-- BLOBç±»å‹å­—æ®µ</span>
  `create_time` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;
</code></pre>
<h3 data-id="heading-5">4.2 è‡ªåŠ¨ç”Ÿæˆå®ä½“ä»¥åŠé…ç½®</h3>
<p><code>MyBatis Generator</code>è‡ªåŠ¨ç”Ÿæˆä»£ç å·¥å…·è¿™é‡Œå°±è¯¦ç»†è¯´æ˜äº†ï¼Œç›´æ¥ä½¿ç”¨å·¥å…·ç”Ÿæˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1892a18b4644a1aad4ba89fdff6f946~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=P9TezP7bVJ7sbhI6My4VA4w%2BUsw%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>ArticleWithBLOBs</code>ç»§æ‰¿<code>BaseArticle</code>æ•°æ®åº“å®ä½“ç±»ï¼Œ<code>content</code>å’Œ<code>summary</code>å·²ç»å•ç‹¬å¤„ç†äº†ã€‚</p>
<p><code>xml</code>é…ç½®æ–‡ä»¶ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/900e4bad78814cdda809ac8533fefd21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=H2iiEk9JcqAcsZ8Lsbu4k4pVIv4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">4.3 ä½¿ç”¨</h3>
<p><code>xxxWithBLOBs</code>çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œå°±å’Œ<code>selectByExample</code>å‡ ä¹ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºExampleå¯¹è±¡</span>
<span class="hljs-type">ArticleExample</span> <span class="hljs-variable">example</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArticleExample</span>();
ArticleExample.<span class="hljs-type">Criteria</span> <span class="hljs-variable">criteria</span> <span class="hljs-operator">=</span> example.createCriteria();

<span class="hljs-comment">// è®¾ç½®æŸ¥è¯¢æ¡ä»¶</span>
criteria.andAuthorEqualTo(<span class="hljs-string">"å¼ ä¸‰"</span>)
        .andCreateTimeGreaterThan(DateUtils.addDays(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(), -<span class="hljs-number">7</span>));

<span class="hljs-comment">// æ’åº</span>
example.setOrderByClause(<span class="hljs-string">"create_time DESC"</span>);

<span class="hljs-comment">// 1. æ™®é€šæŸ¥è¯¢ï¼ˆä¸è·å–contentå­—æ®µï¼‰</span>
List&lt;Article&gt; articles1 = articleMapper.selectByExample(example);

<span class="hljs-comment">// 2. åŒ…å«BLOBå­—æ®µçš„æŸ¥è¯¢</span>
List&lt;ArticleWithBLOBs&gt; articles2 = articleMapper.selectByExampleWithBLOBs(example);
<span class="hljs-comment">// æ­¤æ—¶articles2ä¸­çš„æ¯ä¸ªArticleå¯¹è±¡éƒ½åŒ…å«contentå­—æ®µçš„æ•°æ®</span>
</code></pre>
<p><code>selectByExample</code>å’Œ<code>selectByExampleWithBLOBs</code>çš„è¿”å›å€¼ä¸ä¸€æ ·å“¦ã€‚</p>
<h2 data-id="heading-7">05 æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-8">5.1  æ€§èƒ½é—®é¢˜</h3>
<p><code>MBG</code>ä¸ºä»€ä¹ˆè¦æŠŠ<code>Text</code>ç±»å‹çš„å­—æ®µå•ç‹¬å¤„ç†å‘¢ï¼Ÿä¼šæœ‰ä»€ä¹ˆæ€§èƒ½é—®é¢˜ä¹ˆï¼Ÿ</p>
<p><code>Text</code>å­—æ®µé€šå¸¸å­˜å‚¨å¤§é‡æ•°æ®ï¼Œå¦‚æ–‡ç« å†…å®¹ã€åè®®å†…å®¹ç­‰ï¼Œå¤§æ•°æ®é‡ä¼ é€’ä¼šæ¶ˆè€—å¸¦å®½ä»¥åŠIOç­‰ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</p>
<p>æ‰€ä»¥ï¼ŒæŸ¥è¯¢æ—¶ä¸éœ€è¦<code>Text</code>ç±»å‹çš„å­—æ®µæ—¶ï¼Œå°½é‡ä¸è¦æŸ¥è¯¢ã€‚éµå¾ªéœ€è¦ä»€ä¹ˆæŸ¥ä»€ä¹ˆçš„æœ€å°‘èµ„æºçš„æ¨¡å¼ï¼Œå¯ä»¥æé«˜æ¥å£æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸æ¨èï¼šä¸å¿…è¦çš„BLOBæŸ¥è¯¢</span>
<span class="hljs-type">ArticleExample</span> <span class="hljs-variable">example</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArticleExample</span>();
example.createCriteria().andStatusEqualTo(<span class="hljs-number">1</span>);
<span class="hljs-comment">// å¦‚æœåªéœ€è¦ç»Ÿè®¡æ•°é‡æˆ–éBLOBå­—æ®µï¼Œåº”ä½¿ç”¨æ™®é€šæŸ¥è¯¢</span>
List&lt;Article&gt; articles = articleMapper.selectByExample(example); <span class="hljs-comment">// æ›´å¥½</span>

<span class="hljs-comment">// éœ€è¦BLOBæ•°æ®æ—¶æ‰ä½¿ç”¨WithBLOBs</span>
List&lt;ArticleWithBLOBs&gt; articlesWithBlobs = articleMapper.selectByExampleWithBLOBs(example);
</code></pre>
<h3 data-id="heading-9">5.2 å­—æ®µæ’é™¤ä¸åŒ…å«</h3>
<p>MBGé…ç½®ä¸­å¯ä»¥æ§åˆ¶BLOBå­—æ®µçš„ç”Ÿæˆç­–ç•¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">tableName</span>=<span class="hljs-string">"article"</span> <span class="hljs-attr">domainObjectName</span>=<span class="hljs-string">"Article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"useActualColumnNames"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"false"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"domainPackage"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"base"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">columnRenamingRule</span> <span class="hljs-attr">searchString</span>=<span class="hljs-string">"is_"</span> <span class="hljs-attr">replaceString</span>=<span class="hljs-string">""</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- é»˜è®¤æ˜ å°„ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">columnOverride</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">"String"</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"LONGVARCHAR"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<p><code>columnOverride</code>ç”¨æ¥æŒ‡å®šç”Ÿæˆçš„å­—æ®µç±»å‹ï¼Œä¸Šè¿°ä»£ç ä¸ºé»˜è®¤æ˜ å°„ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š<code>jdbcType</code>æˆ–è€…<code>javaType</code>æ¥å¹²æ¶‰ç”Ÿæˆçš„å­—æ®µã€‚</p>
<h3 data-id="heading-10">5.3 ResultMapå·®å¼‚</h3>
<p>MBGä¼šç”Ÿæˆä¸¤ä¸ªResultMapï¼š</p>
<ul>
<li><code>BaseResultMap</code>ï¼šä¸åŒ…å«BLOBå­—æ®µ</li>
<li><code>ResultMapWithBLOBs</code>ï¼šåŒ…å«BLOBå­—æ®µ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4794eb7be174a87abba0034243fb7e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=q5pRQ39fsj2NQbiEHZ9zEy0YCdw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">5.4 Mapperå…¼å®¹</h3>
<p><code>selectByExampleWithBLOBs</code>ä¸º<code>MGB</code>é»˜è®¤æ–¹æ³•ï¼Œç”Ÿæˆçš„<code>xxxMapper</code>å¯èƒ½ä¼šä¸åŒ…æ­¤æ–¹æ³•ï¼Œè¿™ä¸ªå’Œ<code>MGB</code>è¿™ä¸ªå·¥å…·æœ‰å…³ç³»ã€‚æˆ‘çš„å·¥å…·é‡Œé¢å°±æ²¡æœ‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f90b1aa053864702bfc6b697dff35b3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753332&amp;x-signature=vNNHJxezFw6UNQf%2Bs727OGhpEPo%3D" alt="" loading="lazy"/></p>
<p>éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚</p>
<h2 data-id="heading-12">06 å°ç»“</h2>
<p>å°ç¼–è§‰å¾—<code>selectByExampleWithBLOBs</code>åº”è¯¥åšåˆ°éå¿…è¦ä¸ä½¿ç”¨ï¼Œå‡å°‘èµ„æºçš„æ¶ˆè€—ã€‚å¦‚æœå­˜å‚¨çš„æ•°æ®æ²¡æœ‰éå¸¸å¤§çš„æ—¶å€™ï¼Œåº”è¯¥é¿å…ä½¿ç”¨<code>text</code>ç­‰å¤§æ•°æ®ç±»å‹çš„ã€‚åˆç†ä½¿ç”¨æ‰æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ï¼Œè®©å¤§æ•°æ®å­—æ®µä¸å†æˆä¸ºç³»ç»Ÿè´Ÿæ‹…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jadxä¹Ÿæƒ³è¦ç¿…è†€]]></title>    <link>https://juejin.cn/post/7589586508407930915</link>    <guid>https://juejin.cn/post/7589586508407930915</guid>    <pubDate>2025-12-31T02:37:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589586508407930915" data-draft-id="7589553045157625896" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jadxä¹Ÿæƒ³è¦ç¿…è†€"/> <meta itemprop="keywords" content="å®‰å…¨"/> <meta itemprop="datePublished" content="2025-12-31T02:37:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‹é£å®‰å…¨"/> <meta itemprop="url" content="https://juejin.cn/user/3148642844684638"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jadxä¹Ÿæƒ³è¦ç¿…è†€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148642844684638/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‹é£å®‰å…¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:37:13.000Z" title="Wed Dec 31 2025 02:37:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ç›®æ ‡</h2>
<p>Jadx : "æˆ‘ä¹Ÿå¾ˆæƒ³è¿›æ­¥ï¼Œå¤æ³•å¤ªç¹çäº†ï¼Œç°åœ¨çš„å¹´è½»äººéƒ½ç©ä¸è½¬ã€‚"</p>
<p>fenfei : "è¿™ä¸ªå¯ä»¥æœ‰ã€‚"</p>
<h2 data-id="heading-1">äºŒã€æ­¥éª¤</h2>
<h3 data-id="heading-2">å®‰è£…</h3>
<p>mcpæ˜¯ä»€ä¹ˆå’±ä»¬å°±ä¸è§£é‡Šäº†ï¼Œåˆšæ¥çš„åŒå­¦å¯ä»¥ç¿»ç¿»å‰æƒ…æè¦å›é¡¾ä¸€ä¸‹ <a href="https://link.juejin.cn?target=http%3A%2F%2F91fans.com.cn%2Fpost%2Fidamcp%2F" target="_blank" title="http://91fans.com.cn/post/idamcp/" ref="nofollow noopener noreferrer">91fans.com.cn/post/idamcpâ€¦</a></p>
<p>ä»Šå¤©æˆ‘çš„æ–°æœ‹å‹æ˜¯ <strong>jadx-ai-mcp</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzinja-coder%2Fjadx-ai-mcp" target="_blank" title="https://github.com/zinja-coder/jadx-ai-mcp" ref="nofollow noopener noreferrer">github.com/zinja-coderâ€¦</a></p>
<p>å¥¹çš„å®‰è£…åˆ†ä¸¤éƒ¨åˆ†</p>
<ul>
<li>å»åˆ° /Users/fenfei/Desktop/tool/jadx-1.5.3/bin ç›®å½•ä¸‹é¢æ‰§è¡Œ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">./jadx plugins --install <span class="hljs-string">"github:zinja-coder:jadx-ai-mcp"</span>
</code></pre>
<ul>
<li>ä¸‹è½½ <strong>jadx-mcp-server</strong>  å¯¹æ¥ AI ç”¨</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzinja-coder%2Fjadx-ai-mcp%2Freleases%2Fdownload%2Fv5.0.0%2Fjadx-mcp-server-v5.0.0.zip" target="_blank" title="https://github.com/zinja-coder/jadx-ai-mcp/releases/download/v5.0.0/jadx-mcp-server-v5.0.0.zip" ref="nofollow noopener noreferrer">github.com/zinja-coderâ€¦</a></p>
<h3 data-id="heading-3">å¼€å·¥</h3>
<p>æ‰¾ä¸ªè½¯æŸ¿å­æä¸€ä¸‹</p>
<p>å°±ç”¨ä¹‹å‰çš„ <a href="https://link.juejin.cn?target=http%3A%2F%2F91fans.com.cn%2Fpost%2Ftxtread%2F" target="_blank" title="http://91fans.com.cn/post/txtread/" ref="nofollow noopener noreferrer">91fans.com.cn/post/txtreaâ€¦</a> ,å’±ä»¬æ¢AIæ¥æ
Jadxæ‰“å¼€ï¼Œç„¶å æ–‡ä»¶ -&gt; é¦–é€‰é¡¹ -&gt; æ’ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c4f66c8812449d0b8d39e433a1ee8d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWL6aOe5a6J5YWo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753433&amp;x-signature=0ONr63d2T8LvW8OQ99C%2BiZ0EDwM%3D" alt="jadxplugin" loading="lazy"/></p>
<p>è¿™è¯´æ˜æ’ä»¶éƒ¨åˆ†å®‰è£…OK</p>
<p>ç„¶åç»™ AI IDE é…ç½®ä¸Š MCP Server</p>
<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"mcpServers"</span>: {
    <span class="hljs-string">"jadx"</span>: {
      <span class="hljs-string">"command"</span>: <span class="hljs-string">"/opt/miniconda3/envs/jadxmcp/bin/python"</span>,
      <span class="hljs-string">"args"</span>: [
        <span class="hljs-string">"/Users/fenfei/Desktop/tool/jadx-mcp-server/jadx_mcp_server.py"</span>
      ],
      <span class="hljs-string">"alwaysAllow"</span>: [
        <span class="hljs-string">"get_android_manifest"</span>,
        <span class="hljs-string">"search_classes_by_keyword"</span>,
        <span class="hljs-string">"get_class_source"</span>,
        <span class="hljs-string">"search_method_by_name"</span>
      ]
    }
  }
}
</code></pre>
<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘ç°å’Œä¹‹å‰IDAçš„MCPé…ç½®æœ‰å¾ˆå¤§çš„ä¸ä¸€æ ·ã€‚</p>
<p>AIè¿™ç©æ„è¿˜åœ¨è¿…çŒ›å‘å±•ï¼Œç™¾å®¶äº‰é¸£ï¼Œæ‰€ä»¥MCPçš„åè®®æœ‰å¾ˆå¤šç§ï¼Œå…·ä½“è¿™ä¸¤ç§åè®®å“ªç§å…ˆè¿›ï¼Œå¯ä»¥é—®é—® AIã€‚</p>
<p>å’±ä»¬æ˜¯å®ç”¨ä¸»ä¹‰ç€ï¼Œå…ˆä¸çº ç»“åŸç†äº†ï¼Œè¿ä¸Šäº†å°±è¡Œï¼Œåœ¨ AI IDEé‡Œå‘¼å”¤ç¥é¾™...</p>
<pre><code class="hljs language-bash" lang="bash">è¿æ¥jadx mcp, å®šä½ token=rOW60Ct5iGxgRX0Olulcz9IXtWiGmAO7cbL7Y%2FU0tOc%3D è¿™ä¸ª tokenè®¡ç®—çš„ä½ç½®ï¼Œç„¶åå†™ä¸ªFrida hook è„šæœ¬
</code></pre>
<p>ç„¶åå°±æ˜¯é»˜é»˜çš„ç­‰å¾…ï¼Œæƒ³èµ·äº† Chromeçš„æé¾™æ¸¸æˆï¼Œæˆ‘æ„Ÿè§‰åœ¨ç­‰å¾… AIå¹²æ´»çš„è¿‡ç¨‹ä¸­ï¼Œåº”è¯¥æ¥ä¸ª <strong>æ˜¯ç”·äººå°±ä¸‹500å±‚</strong> çš„å°æ¸¸æˆã€‚æ€ªä¸å¾—æè€æ¿å–œæ¬¢ç©æ‰«é›·ï¼ŒåŸæ¥ä»–æŠŠæˆ‘å½“AIäº†ï¼Œå‘å¸ƒå‘½ä»¤ï¼Œç„¶åè¾¹ç©æ‰«é›·ï¼Œè¾¹ç­‰æˆ‘çš„ç»“æœã€‚</p>
<p>æœ‰äº†AI å’±ä»¬ä¹Ÿèƒ½è¿‡ä¸Šæè€æ¿çš„æ—¥å­äº†ï¼Œè¶Šæ¥è¶Šæœ‰ç›¼å¤´äº†ã€‚</p>
<p>AI å†™å®Œäº†ï¼Œ æˆ‘å°±ä¸è´´ä»£ç äº†ï¼Œ (å°å£°å‘Šè¯‰ä½ ï¼Œè´´ <strong>çŸ¥è¯†æ˜Ÿçƒ</strong> äº†)</p>
<pre><code class="hljs language-bash" lang="bash">
ä»»åŠ¡å®Œæˆ
å·²æˆåŠŸå®šä½tokenè®¡ç®—ä½ç½®å¹¶åˆ›å»ºFrida hookè„šæœ¬ token_hook.js

Tokenç”Ÿæˆæµç¨‹åˆ†æ
æ ¹æ®åç¼–è¯‘ä»£ç ï¼Œtoken rOW60Ct5iGxgRX0Olulcz9IXtWiGmAO7cbL7Y%2FU0tOc%3D çš„ç”Ÿæˆæµç¨‹ï¼š

ä¸»è¦æ–¹æ³•: Token.Companion.m() - getTokenæ–¹æ³•

è¾“å…¥: URIè·¯å¾„ + å‚æ•°Map
è®¡ç®—: hash_timestamp æ ¼å¼çš„å­—ç¬¦ä¸²
ä½¿ç”¨AESåŠ å¯†ï¼ˆå¯†é’¥: 7A3II/M5Ja0S4gdfï¼‰
Hashè®¡ç®—: Token.Companion.k()

æ‹¼æ¥: uri + æ’åºåçš„å‚æ•° + <span class="hljs-string">"mVjdXyqwjlEptwYY"</span>
ä½¿ç”¨MurmurHashç®—æ³•è®¡ç®—<span class="hljs-built_in">hash</span>å€¼
AESåŠ å¯†: AES.Companion.b()
ç®—æ³•: AES/CBC/PKCS5Padding
å¯†é’¥: 7A3II/M5Ja0S4gdf
IV: 16-Bytes--String
è¾“å‡º: Base64ç¼–ç 
Hookè„šæœ¬åŠŸèƒ½
è„šæœ¬ä¼šæ‹¦æˆªä»¥ä¸‹å…³é”®æ–¹æ³•ï¼š

Token.getToken() - æ•è·tokenç”Ÿæˆ
MurmurHash.d() - æ•è·<span class="hljs-built_in">hash</span>è®¡ç®—
AES.encodeAES() / AES.decodeAES() - æ•è·åŠ è§£å¯†
SignatureUtil.sign() - æ•è·ç­¾åç”Ÿæˆ
Token.getHash() - æ•è·å†…éƒ¨<span class="hljs-built_in">hash</span>è®¡ç®—
Token.getUrlParamsByMap() - æ•è·å‚æ•°æ‹¼æ¥
ä½¿ç”¨æ–¹æ³•ï¼š

frida -U -f &lt;åŒ…å&gt; -l token_hook.js --no-pause

</code></pre>
<p>è¯´çš„æœ‰æ¨¡æœ‰æ ·çš„ï¼Œèµ¶ç´§è·‘ä¸‹ä»£ç è¯•è¯•ã€‚</p>
<p>æˆ‘å»ï¼Œæ²¡æ•ˆæœ</p>
<pre><code class="hljs language-bash" lang="bash">ä¸å¯¹ æ²¡æœ‰hookåˆ°
</code></pre>
<p>AI åˆå¼€å§‹å¹²æ´»äº†ï¼Œå’±ä»¬ç»§ç»­æ‰«é›·ã€‚</p>
<p>è¿‡äº†å‡ åˆ†é’Ÿï¼Œæ–°çš„ä»£ç åˆæå®Œäº†ï¼Œç»§ç»­è·‘ã€‚ è¿˜æ˜¯æ²¡æœ‰æ•ˆæœ</p>
<pre><code class="hljs language-bash" lang="bash">è¿˜æ˜¯æ²¡æœ‰
</code></pre>
<p>AI ç»§ç»­å¹²æ´»ï¼Œå’•å˜Ÿå˜Ÿï¼Œå¹²äº†ä¸€é€šï¼Œæ‰”ç»™æˆ‘äº†ä¸€ä¸ªæ–°çš„ä»£ç </p>
<pre><code class="hljs language-bash" lang="bash">[+] TokenUtil.f() - Calculate Hash
    Input1: /v1/category/female
    Input2: channel=zxf2019_19206_001&amp;os=Android&amp;package=cn.ttkmfxs.novel&amp;udid=01bb90d6de80f3cb01bb90d6de80f3cb&amp;v=3.3.24.R
    Hash: -1926105764

[+] TokenUtil.e() - AES Encrypt
    Plain: -1926105764_1766754803859

[+] AES.b() - Encrypt
    Value: -1926105764_1766754803859
    Key: @cLjKxIl7hlto3tR
    Encrypted: nADo5PoDE0nEwN6gKB9L8WF9OzAmwqviEgy/ljE1DI0=
    Encrypted: nADo5PoDE0nEwN6gKB9L8WF9OzAmwqviEgy/ljE1DI0=
    Generated Token (URL encoded): nADo5PoDE0nEwN6gKB9L8WF9OzAmwqviEgy%2FljE1DI0%3D
</code></pre>
<p>oh yeahï¼Œè¿™æ¬¡æˆåŠŸäº†ã€‚æ„Ÿè§‰å’Œç©å¤§è½¬ç›˜å·®ä¸å¤šï¼Œå¤šç©å‡ æ¬¡ï¼Œæ€»ä¼šæœ‰æƒŠå–œã€‚</p>
<p><strong>ğŸ’¡ TIP</strong><br/>
fridaå¤šå‡†å¤‡å‡ ä¸ªç‰ˆæœ¬ï¼Œæœ‰æ—¶å€™v17ä¸å¥½ä½¿ï¼Œæˆ‘è¿˜èƒ½ç»§ç»­ä¸Šv16.x</p>
<h2 data-id="heading-4">ä¸‰ã€æ€»ç»“</h2>
<p>æœ‰ç§èµ›åšæ±‚ç­¾çš„æ„Ÿè§‰ï¼Œå¿ƒè¯šåˆ™çµã€‚ç†è§£äº†æœ‰äº›äººæœ‰äº‹å°±æ‰‘é€šè·ªå€’åœ¨ä½›åƒå‰é¢ï¼Œæ„Ÿæƒ…ä½›ç¥–ä¹Ÿæ˜¯AIçš„ä¸€ç§ã€‚</p>
<p>åŸºæœ¬åŠŸè¿˜æ˜¯å¾—æœ‰çš„ï¼Œä¸ç„¶è¢«aiéª—äººéƒ½ä¸çŸ¥é“å’‹å›äº‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5278108b54094c03bf0df268b951eb26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWL6aOe5a6J5YWo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767753433&amp;x-signature=D5%2BsLZZI2f9n8LOTaXabbdqBAMA%3D" alt="ffshow" loading="lazy"/>
<strong>å¤©åœ°æ— ç©·æœŸï¼Œç”Ÿå‘½åˆ™æœ‰ç©·æœŸï¼Œå»ä¸€æ—¥ï¼Œä¾¿å°‘ä¸€æ—¥ï¼›å¯Œè´µæœ‰å®šæ•°ï¼Œå­¦é—®åˆ™æ— å®šæ•°ï¼Œæ±‚ä¸€åˆ†ï¼Œä¾¿å¾—ä¸€åˆ†ã€‚</strong></p>
<p><strong>ğŸ’¡ TIP</strong><br/>
: æœ¬æ–‡çš„ç›®çš„åªæœ‰ä¸€ä¸ªå°±æ˜¯å­¦ä¹ æ›´å¤šçš„é€†å‘æŠ€å·§å’Œæ€è·¯ï¼Œå¦‚æœæœ‰äººåˆ©ç”¨æœ¬æ–‡æŠ€æœ¯å»è¿›è¡Œéæ³•å•†ä¸šè·å–åˆ©ç›Šå¸¦æ¥çš„æ³•å¾‹è´£ä»»éƒ½æ˜¯æ“ä½œè€…è‡ªå·±æ‰¿æ‹…ï¼Œå’Œæœ¬æ–‡ä»¥åŠä½œè€…æ²¡å…³ç³»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ« Grafana æ‰‹æ“ Dashboardï¼šåŸºäºæŒ‡æ ‡åˆ†ç»„çš„ Prometheus å¯è§†åŒ–æ–°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7589544380518465546</link>    <guid>https://juejin.cn/post/7589544380518465546</guid>    <pubDate>2025-12-31T02:38:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589544380518465546" data-draft-id="7589553580878577714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ« Grafana æ‰‹æ“ Dashboardï¼šåŸºäºæŒ‡æ ‡åˆ†ç»„çš„ Prometheus å¯è§†åŒ–æ–°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,äº§å“"/> <meta itemprop="datePublished" content="2025-12-31T02:38:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ« Grafana æ‰‹æ“ Dashboardï¼šåŸºäºæŒ‡æ ‡åˆ†ç»„çš„ Prometheus å¯è§†åŒ–æ–°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:38:59.000Z" title="Wed Dec 31 2025 02:38:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨å‰é¢</h2>
<p>åœ¨æˆ‘ä»¬å…¬å¸ï¼Œè®¢å•å›¢é˜Ÿæƒ³çœ‹"è®¢å•åˆ›å»ºå¤±è´¥æ•°"ï¼Œæ”¯ä»˜å›¢é˜Ÿå…³å¿ƒ"æ”¯ä»˜è¶…æ—¶ç‡"ï¼Œåº“å­˜å›¢é˜Ÿç›¯ç€"åº“å­˜æ‰£å‡å¤±è´¥"â€¦â€¦ä½†ä»–ä»¬ä¸ä¼šå†™ PromQLï¼Œä¹Ÿä¸æ‡‚ Grafana çš„ Panel é…ç½®ã€‚</p>
<p>æ¯æ¬¡éƒ½è¦æ‰¾ SRE å¸®å¿™å»º Dashboardï¼š</p>
<ul>
<li>ä¸šåŠ¡å›¢é˜Ÿï¼šç­‰ SRE å“åº”ï¼Œå°‘åˆ™åŠå¤©ï¼Œå¤šåˆ™å‡ å¤©</li>
<li>SRE å›¢é˜Ÿï¼šé‡å¤åŠ³åŠ¨ï¼Œä¸€ä¸ª Dashboard é… 10 åˆ†é’Ÿï¼Œ10 ä¸ªä¸šåŠ¡ç»„å°±æ˜¯ 100 åˆ†é’Ÿ</li>
<li>åç»­ç»´æŠ¤ï¼šæ–°å¢æŒ‡æ ‡è¦æ‰‹åŠ¨æ”¹ Dashboardï¼Œåˆ é™¤æŒ‡æ ‡è¦æ‰‹åŠ¨æ¸…ç†ï¼ŒDashboard æ•°é‡çˆ†ç‚¸</li>
</ul>
<p><strong>æˆ‘ä»¬å†³å®šæ¢ä¸ªæ€è·¯</strong>ï¼šè®©ä¸šåŠ¡å›¢é˜Ÿè‡ªåŠ©é…ç½®ï¼Œè®© SRE ä»"Dashboard å·¥ç¨‹å¸ˆ"ä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<p>äºæ˜¯è®¾è®¡äº†ä¸€å¥—åŸºäº"æŒ‡æ ‡åˆ†ç»„"çš„å¯è§†åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li>ç®¡ç†å‘˜é…ç½®ä¸€æ¬¡æŒ‡æ ‡ç»„ï¼Œä¸šåŠ¡ç»„è‡ªåŠ©æŸ¥çœ‹</li>
<li>æ–°å¢æŒ‡æ ‡è‡ªåŠ¨å‡ºç°åœ¨èœå•ä¸­ï¼Œæ— éœ€æ‰‹åŠ¨ç»´æŠ¤</li>
<li>ç³»ç»Ÿè‡ªåŠ¨é€‚é…æ—¶é—´èŒƒå›´ã€å¤šç»´æ ‡ç­¾ã€æŒ‡æ ‡ç±»å‹</li>
</ul>
<p>æœ¬æ–‡åˆ†äº«æˆ‘ä»¬çš„è®¾è®¡æ€è·¯ä¸å…³é”®å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æˆ‘ä»¬æƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<h3 data-id="heading-2">1.1 ç—›ç‚¹åœºæ™¯</h3>
<p>å‡è®¾ä½ çš„ Prometheus å·²ç»é‡‡é›†äº† 100 ä¸ªä¸šåŠ¡æŒ‡æ ‡ï¼š</p>
<pre><code class="hljs">order_create_failed_total       ï¼ˆè®¢å•åˆ›å»ºå¤±è´¥ï¼‰
order_timeout_total             ï¼ˆè®¢å•è¶…æ—¶ï¼‰
payment_failed_total            ï¼ˆæ”¯ä»˜å¤±è´¥ï¼‰
stock_insufficient_total        ï¼ˆåº“å­˜ä¸è¶³ï¼‰
...ï¼ˆè¿˜æœ‰ 96 ä¸ªï¼‰
</code></pre>
<p><strong>ä¸åŒçš„ä¸šåŠ¡ç»„åªå…³å¿ƒè‡ªå·±çš„æŒ‡æ ‡</strong>ï¼Œä½†ç°çŠ¶æ˜¯ï¼š</p>
<ul>
<li>æ‰€æœ‰æŒ‡æ ‡æ··åœ¨ä¸€èµ·ï¼Œéš¾ä»¥å¿«é€Ÿå®šä½</li>
<li>æ¯ä¸ªä¸šåŠ¡ç»„éƒ½è¦å» Grafana æ‰‹åŠ¨åˆ›å»º Dashboard</li>
<li>æ–°å¢æŒ‡æ ‡åï¼Œéœ€è¦æ‰‹åŠ¨ç»´æŠ¤ Dashboard</li>
</ul>
<p><strong>æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>è®¢å•å›¢é˜Ÿæ‰“å¼€é¡µé¢ â†’ ç‚¹å‡»"è®¢å•ç›‘æ§" â†’ è‡ªåŠ¨å±•ç¤ºè®¢å•ç›¸å…³çš„æ‰€æœ‰æŒ‡æ ‡</li>
<li>æ”¯ä»˜å›¢é˜Ÿæ‰“å¼€é¡µé¢ â†’ ç‚¹å‡»"æ”¯ä»˜ç›‘æ§" â†’ è‡ªåŠ¨å±•ç¤ºæ”¯ä»˜ç›¸å…³çš„æ‰€æœ‰æŒ‡æ ‡</li>
<li>æ— éœ€å­¦ä¹  PromQLï¼Œæ— éœ€é…ç½® Grafana</li>
</ul>
<h3 data-id="heading-3">1.2 æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼ˆ6æ­¥æå®šï¼‰</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬çš„å®Œæ•´æ€è·¯ï¼š</p>
<h4 data-id="heading-4">æ­¥éª¤1ï¼šæŠŠæŒ‡æ ‡åˆ—å‡ºæ¥</h4>
<p>ç³»ç»Ÿè‡ªåŠ¨ä»å·²æœ‰çš„å‘Šè­¦è§„åˆ™ä¸­æå–æ‰€æœ‰ Prometheus æŒ‡æ ‡ï¼Œå±•ç¤ºåœ¨ç®¡ç†é¡µé¢ï¼š</p>
<pre><code class="hljs">âœ“ order_create_failed_total       ï¼ˆè®¢å•åˆ›å»ºå¤±è´¥ï¼‰
âœ“ order_timeout_total             ï¼ˆè®¢å•è¶…æ—¶ï¼‰  
âœ“ payment_failed_total            ï¼ˆæ”¯ä»˜å¤±è´¥ï¼‰
âœ“ stock_insufficient_total        ï¼ˆåº“å­˜ä¸è¶³ï¼‰
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤2ï¼šæŒ‰ä¸šåŠ¡åˆ†ç»„</h4>
<p>ç®¡ç†å‘˜åˆ›å»º"æŒ‡æ ‡ç»„"ï¼ŒæŠŠç›¸å…³æŒ‡æ ‡åŠ è¿›å»ï¼š</p>
<pre><code class="hljs">ğŸ“Š æŒ‡æ ‡ç»„ï¼šè®¢å•ç›‘æ§
â”œâ”€â”€ order_create_failed_total
â”œâ”€â”€ order_timeout_total
â””â”€â”€ order_cancelled_total

ğŸ’³ æŒ‡æ ‡ç»„ï¼šæ”¯ä»˜ç›‘æ§  
â”œâ”€â”€ payment_failed_total
â”œâ”€â”€ payment_timeout_total
â””â”€â”€ refund_error_total
</code></pre>
<p><strong>é…ç½®æ—¶é—´ï¼š30 ç§’</strong></p>
<h4 data-id="heading-6">æ­¥éª¤3ï¼šèœå•è‡ªåŠ¨ç”Ÿæˆ</h4>
<p>åˆ·æ–°é¡µé¢åï¼Œå·¦ä¾§å¯¼èˆªè‡ªåŠ¨å‡ºç°äºŒçº§èœå•ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç³»ç»Ÿèœå•
â””â”€â”€ MetricsæŸ¥çœ‹
<span class="hljs-code">    â”œâ”€â”€ è®¢å•ç›‘æ§    â† è‡ªåŠ¨ç”Ÿæˆï¼Œèœå•å = æŒ‡æ ‡ç»„å
    â”œâ”€â”€ æ”¯ä»˜ç›‘æ§    â† è‡ªåŠ¨ç”Ÿæˆ
    â””â”€â”€ åº“å­˜ç›‘æ§    â† è‡ªåŠ¨ç”Ÿæˆ
</span></code></pre>
<p><strong>å…³é”®</strong>ï¼šæ— éœ€æ‰‹åŠ¨ç¼–è¾‘èœå•é…ç½®ï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚</p>
<h4 data-id="heading-7">æ­¥éª¤4ï¼šç‚¹å‡»å°±èƒ½çœ‹å›¾</h4>
<p>ç‚¹å‡»"è®¢å•ç›‘æ§"èœå•ï¼Œç³»ç»Ÿè‡ªåŠ¨åšä¸‰ä»¶äº‹ï¼š</p>
<p><strong>â‘  æŸ¥è¯¢ Prometheus</strong></p>
<pre><code class="hljs">æŸ¥è¯¢ï¼šorder_create_failed_total
æŸ¥è¯¢ï¼šorder_timeout_total  
æŸ¥è¯¢ï¼šorder_cancelled_total
</code></pre>
<p><strong>â‘¡ æ ¹æ®ç±»å‹æ™ºèƒ½å±•ç¤º</strong></p>
<ul>
<li>Counterï¼ˆè®¡æ•°å™¨ï¼‰â†’ æ˜¾ç¤ºæ•´æ•°ï¼š246 æ¬¡</li>
<li>Gaugeï¼ˆç¬æ—¶å€¼ï¼‰â†’ æ˜¾ç¤ºæ•´æ•°ï¼š128 ä¸ªè¿æ¥</li>
<li>Summary/Histogram â†’ æ˜¾ç¤ºå°æ•°ï¼š1.25 ç§’</li>
</ul>
<p><strong>â‘¢ æ ¹æ®æ ‡ç­¾è‡ªåŠ¨åˆ†æ›²çº¿</strong></p>
<p>åŒä¸€ä¸ªæŒ‡æ ‡å¦‚æœæœ‰å¤šä¸ªæ ‡ç­¾ï¼Œè‡ªåŠ¨ç”»æˆå¤šæ¡æ›²çº¿ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">order_create_failed_total
â”œâ”€ <span class="hljs-attr">error_type</span>=network, region=east    â†’ è“è‰²æ›²çº¿
â”œâ”€ <span class="hljs-attr">error_type</span>=database, region=west   â†’ çº¢è‰²æ›²çº¿  
â””â”€ <span class="hljs-attr">error_type</span>=timeout, region=north   â†’ ç»¿è‰²æ›²çº¿
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤5ï¼šé€‰æ‹©æ—¶é—´èŒƒå›´</h4>
<p>é¡µé¢é¡¶éƒ¨æä¾›æ—¶é—´é€‰æ‹©å™¨ï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒæ•´é‡‡æ ·ç²’åº¦ï¼š</p>






























<table><thead><tr><th>æ—¶é—´èŒƒå›´</th><th>é‡‡æ ·é—´éš”</th><th>ä¸ºä»€ä¹ˆï¼Ÿ</th></tr></thead><tbody><tr><td>15åˆ†é’Ÿ</td><td>15ç§’/ç‚¹</td><td>æ•°æ®å¯†é›†ï¼Œç²¾ç»†æŸ¥çœ‹</td></tr><tr><td>1å°æ—¶</td><td>30ç§’/ç‚¹</td><td>å¹³è¡¡æ€§èƒ½å’Œå¯è¯»æ€§</td></tr><tr><td>3å°æ—¶</td><td>1åˆ†é’Ÿ/ç‚¹</td><td>é¿å…æ•°æ®ç‚¹è¿‡å¤š</td></tr><tr><td>6å°æ—¶</td><td>2åˆ†é’Ÿ/ç‚¹</td><td>é•¿æœŸè¶‹åŠ¿è§‚å¯Ÿ</td></tr></tbody></table>
<p><strong>å¥½å¤„</strong>ï¼šå›¾è¡¨ä¸ä¼šå¯†å¯†éº»éº»ï¼Œæ€§èƒ½ä¹Ÿä¸ä¼šå·®ã€‚</p>
<h4 data-id="heading-9">æ­¥éª¤6ï¼šè§’è‰²åˆ†ç¦»</h4>
<ul>
<li><strong>ç®¡ç†å‘˜ï¼ˆSREï¼‰</strong>ï¼šåå°é…ç½®æŒ‡æ ‡ç»„ï¼Œä¸€æ¬¡é…ç½®ï¼Œå…¨å‘˜ä½¿ç”¨</li>
<li><strong>ä¸šåŠ¡ç»„</strong>ï¼šæ‰“å¼€é¡µé¢ï¼Œç‚¹å‡»è‡ªå·±å…³å¿ƒçš„èœå•ï¼Œç«‹å³æŸ¥çœ‹</li>
</ul>
<p><strong>ä¸šåŠ¡ç»„ä¸éœ€è¦</strong>ï¼šå­¦ PromQLã€é… Grafanaã€ç»´æŠ¤ Dashboardã€‚</p>
<h3 data-id="heading-10">1.3 æ•ˆæœå¯¹æ¯”</h3>






























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Grafana</th><th>æˆ‘ä»¬çš„æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ–°å¢ç›‘æ§</td><td>åˆ›å»ºDashboard â†’ æ·»åŠ Panel â†’ å†™PromQL â†’ è°ƒæ ·å¼ï¼ˆ10åˆ†é’Ÿï¼‰</td><td>æ·»åŠ åˆ°æŒ‡æ ‡ç»„ï¼ˆ30ç§’ï¼‰</td></tr><tr><td>ä¸šåŠ¡åˆ†ç»„</td><td>æ‰‹åŠ¨åˆ›å»ºå¤šä¸ªDashboard</td><td>è‡ªåŠ¨ç”Ÿæˆèœå•</td></tr><tr><td>å­¦ä¹ æˆæœ¬</td><td>éœ€è¦å­¦PromQLè¯­æ³•</td><td>ç‚¹å‡»èœå•å³å¯</td></tr><tr><td>ç»´æŠ¤æˆæœ¬</td><td>æ¯ä¸ªä¸šåŠ¡ç»„ä¸€ä¸ªDashboardï¼Œæ•°é‡çˆ†ç‚¸</td><td>é›¶ç»´æŠ¤ï¼Œè‡ªåŠ¨åŒ–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">äºŒã€ä¸ºä»€ä¹ˆä¸ç”¨ Grafanaï¼Ÿ</h2>
<h3 data-id="heading-12">2.1 Grafana çš„å±€é™</h3>
<p>Grafana æ˜¯ä¼˜ç§€çš„å·¥å…·ï¼Œä½†åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸‹æœ‰äº›"é‡"ï¼š</p>
<ol>
<li><strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šéœ€è¦æŒæ¡ PromQLã€Dashboard/Panel æ¦‚å¿µ</li>
<li><strong>é™æ€é…ç½®</strong>ï¼šæ¯æ¬¡æ–°å¢æŒ‡æ ‡éœ€è¦æ‰‹åŠ¨æ·»åŠ  Panelï¼Œé…ç½®ä»¥ JSON ä¿å­˜</li>
<li><strong>ç¼ºå°‘ä¸šåŠ¡è§†è§’</strong>ï¼šé»˜è®¤æŒ‰æŠ€æœ¯ç»´åº¦ï¼ˆæœåŠ¡ã€å®ä¾‹ã€ç«¯ç‚¹ï¼‰ï¼Œéš¾ä»¥æŒ‰ä¸šåŠ¡åœºæ™¯åˆ†ç»„</li>
</ol>
<p>Grafana æ›´é€‚åˆéœ€è¦é«˜åº¦è‡ªå®šä¹‰ã€å¤æ‚æŸ¥è¯¢çš„ä¸“ä¸šè¿ç»´å›¢é˜Ÿã€‚</p>
<h3 data-id="heading-13">2.2 å€Ÿé‰´ SkyWalking çš„æ€è·¯</h3>
<p>SkyWalking åœ¨ APM é¢†åŸŸçš„å¯è§†åŒ–åšå¾—å¾ˆå¥½ï¼š</p>
<ul>
<li>å¤šç»´åº¦è‡ªåŠ¨åˆ†ç»„ï¼ˆåŸºäº Trace Tagï¼‰</li>
<li>æ™ºèƒ½å›¾ä¾‹å±•ç¤ºï¼ˆè‡ªåŠ¨æ‹¼æ¥æ ‡ç­¾ï¼‰</li>
<li>æ ¹æ®æŒ‡æ ‡ç±»å‹æ™ºèƒ½é€‰æ‹©å±•ç¤ºæ–¹å¼</li>
</ul>
<p>æˆ‘ä»¬å€Ÿé‰´äº†è¿™äº›æ€è·¯ï¼Œä½†é€‚é…åˆ°ä¸šåŠ¡å‘Šè­¦åœºæ™¯ï¼Œæ— éœ€ Agentã€‚</p>
<hr/>
<h2 data-id="heading-14">ä¸‰ã€å¦‚ä½•å¤„ç†ä¸åŒç±»å‹çš„æŒ‡æ ‡ï¼Ÿ</h2>
<p>Prometheus æœ‰å››ç§æŒ‡æ ‡ç±»å‹ï¼Œéœ€è¦åŒºåˆ«å¯¹å¾…ï¼š</p>
<h3 data-id="heading-15">3.1 Counter å’Œ Gaugeï¼šæ˜¾ç¤ºæ•´æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Counterï¼ˆåªå¢ä¸å‡ï¼‰ï¼šè®¢å•æ•°ã€é”™è¯¯æ¬¡æ•°</span>
<span class="hljs-comment">// Gaugeï¼ˆå¯å¢å¯å‡ï¼‰ï¼šè¿æ¥æ•°ã€å†…å­˜ä½¿ç”¨é‡</span>
<span class="hljs-keyword">if</span> (metricType === <span class="hljs-string">'counter'</span> || metricType === <span class="hljs-string">'gauge'</span>) {
  displayValue = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(value)  <span class="hljs-comment">// 246 è€Œä¸æ˜¯ 246.66</span>
}
</code></pre>
<h3 data-id="heading-16">3.2 Summary å’Œ Histogramï¼šä¿ç•™å°æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å“åº”æ—¶é—´ã€ç™¾åˆ†ä½æ•°ç­‰éœ€è¦ç²¾ç¡®å±•ç¤º</span>
displayValue = value.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)  <span class="hljs-comment">// 1.25 ç§’</span>
</code></pre>
<h3 data-id="heading-17">3.3 å¤šç»´åº¦æ ‡ç­¾è‡ªåŠ¨åˆ†æ›²çº¿</h3>
<p>åŒä¸€ä¸ªæŒ‡æ ‡å¯èƒ½æœ‰å¤šä¸ªç»´åº¦ï¼ˆLabelï¼‰ï¼Œè‡ªåŠ¨åˆ†ç»„å±•ç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// éå† Labelï¼Œæ‹¼æ¥æˆå›¾ä¾‹</span>
<span class="hljs-keyword">const</span> nameParts = []
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(metric).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> {
  nameParts.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${k}</span>=<span class="hljs-subst">${metric[k]}</span>`</span>)
})
<span class="hljs-keyword">const</span> displayName = nameParts.<span class="hljs-title function_">join</span>(<span class="hljs-string">', '</span>)

<span class="hljs-comment">// ç»“æœï¼š</span>
<span class="hljs-comment">// "payment_method=alipay, error_type=timeout, region=east"</span>
<span class="hljs-comment">// "payment_method=wechat, error_type=balance, region=west"</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šä¸€å¼ å›¾è‡ªåŠ¨å±•ç¤ºå¤šæ¡æ›²çº¿ï¼Œæ¯æ¡æ›²çº¿å¯¹åº”ä¸€ä¸ªæ ‡ç­¾ç»„åˆï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚</p>
<hr/>
<h2 data-id="heading-18">å››ã€æ ¸å¿ƒè®¾è®¡ï¼š"æŒ‡æ ‡ç»„"æ¦‚å¿µ</h2>
<h3 data-id="heading-19">4.1 ä¸ºä»€ä¹ˆéœ€è¦"æŒ‡æ ‡ç»„"ï¼Ÿ</h3>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä»‹äº Dashboard å’Œ Panel ä¹‹é—´çš„æŠ½è±¡ï¼š</p>
<ul>
<li><strong>Dashboard å¤ªé‡</strong>ï¼šä¸€ä¸ª Dashboard = å®Œæ•´çš„å¯è§†åŒ–é¡µé¢ï¼Œé…ç½®å¤æ‚</li>
<li><strong>Panel å¤ªç»†</strong>ï¼šå•ä¸ªå›¾è¡¨ï¼Œæ²¡æœ‰ä¸šåŠ¡è¯­ä¹‰</li>
<li><strong>æŒ‡æ ‡ç»„åˆšå¥½</strong>ï¼šæ‰¿è½½ä¸šåŠ¡è¯­ä¹‰ï¼ˆè®¢å•ç›‘æ§ã€æ”¯ä»˜ç›‘æ§ï¼‰ï¼Œåˆè¶³å¤Ÿçµæ´»</li>
</ul>
<p><strong>ä¸šåŠ¡åœºæ™¯ä¸¾ä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">ğŸ“Š æŒ‡æ ‡ç»„ï¼šè®¢å•ç›‘æ§
â”œâ”€â”€ å…³é”®è¯è§„åˆ™ï¼šæ—¥å¿—åŒ¹é… "OrderCreateFailed"
â”œâ”€â”€ å…³é”®è¯è§„åˆ™ï¼šæ—¥å¿—åŒ¹é… "OrderTimeout"
â””â”€â”€ æŸ¥è¯¢è§„åˆ™ï¼š<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status<span class="hljs-operator">=</span><span class="hljs-string">'cancelled'</span>
</code></pre>
<h3 data-id="heading-20">4.2 åŠ¨æ€èœå•å¦‚ä½•å®ç°ï¼Ÿ</h3>
<p><strong>æ•°æ®æµ</strong>ï¼š</p>
<pre><code class="hljs">é…ç½®æŒ‡æ ‡ç»„ â†’ ä¿å­˜åˆ°æ•°æ®åº“ â†’ å‰ç«¯åŠ è½½ â†’ åŠ¨æ€ç”Ÿæˆèœå•
</code></pre>
<p><strong>åŠ¨æ€ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ–°å¢æŒ‡æ ‡ç»„ â†’ èœå•è‡ªåŠ¨å‡ºç°</li>
<li>åˆ é™¤æŒ‡æ ‡ç»„ â†’ èœå•è‡ªåŠ¨æ¶ˆå¤±</li>
<li>ä¿®æ”¹æŒ‡æ ‡ç»„ â†’ èœå•æ ‡é¢˜è‡ªåŠ¨æ›´æ–°</li>
<li>å¯ç”¨/ç¦ç”¨ â†’ èœå•æ˜¾ç¤º/éšè—</li>
</ul>
<p><strong>å…³é”®</strong>ï¼šé…ç½®å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-21">äº”ã€å…³é”®æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-22">5.1 å‰ç«¯æ€ä¹ˆåšï¼ŸåŠ¨æ€èœå•å®ç°</h3>
<p><strong>â‘  æ•°æ®åº“è¡¨è®¾è®¡</strong>ï¼ˆç®€åŒ–ç‰ˆï¼‰</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŒ‡æ ‡ç»„è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> alarm_metric_group (
    id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    group_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),      <span class="hljs-comment">-- æŒ‡æ ‡ç»„åç§°</span>
    icon <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),              <span class="hljs-comment">-- å›¾æ ‡</span>
    enabled TINYINT(<span class="hljs-number">1</span>)             <span class="hljs-comment">-- æ˜¯å¦å¯ç”¨</span>
);

<span class="hljs-comment">-- æŒ‡æ ‡ç»„æ˜ç»†è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> alarm_metric_group_item (
    id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    group_id <span class="hljs-type">INT</span>,                  <span class="hljs-comment">-- æŒ‡æ ‡ç»„ID</span>
    rule_type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>),         <span class="hljs-comment">-- è§„åˆ™ç±»å‹ï¼škeyword/query</span>
    rule_id <span class="hljs-type">INT</span>,                   <span class="hljs-comment">-- è§„åˆ™ID</span>
    metric_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">200</span>)       <span class="hljs-comment">-- PrometheusæŒ‡æ ‡åç§°</span>
);
</code></pre>
<p><strong>â‘¡ å‰ç«¯çŠ¶æ€ç®¡ç†</strong>ï¼ˆVuexï¼‰</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åº”ç”¨å¯åŠ¨æ—¶åŠ è½½æŒ‡æ ‡ç»„</span>
<span class="hljs-keyword">const</span> actions = {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadGroups</span>(<span class="hljs-params">{ commit }</span>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getMetricGroupList</span>({ <span class="hljs-attr">enabled</span>: <span class="hljs-number">1</span> })
    <span class="hljs-title function_">commit</span>(<span class="hljs-string">'SET_GROUPS'</span>, res.<span class="hljs-property">data</span> || [])
  }
}
</code></pre>
<p><strong>â‘¢ åŠ¨æ€èœå•æ¸²æŸ“</strong>ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Sidebar ç»„ä»¶</span>
<span class="hljs-attr">computed</span>: {
  <span class="hljs-title function_">menuRoutes</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é™æ€èœå•</span>
    <span class="hljs-keyword">const</span> staticMenus = [
      { <span class="hljs-attr">name</span>: <span class="hljs-string">'RuleManage'</span>, <span class="hljs-attr">path</span>: <span class="hljs-string">'/rule-manage'</span>, <span class="hljs-attr">meta</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'è§„åˆ™ç®¡ç†'</span> }}
    ]
    
    <span class="hljs-comment">// åŠ¨æ€èœå•ï¼šä» Store è·å–æŒ‡æ ‡ç»„</span>
    <span class="hljs-keyword">const</span> dynamicMenus = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">metricGroups</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">group</span> =&gt;</span> ({
      <span class="hljs-attr">name</span>: <span class="hljs-string">`MetricView_<span class="hljs-subst">${group.id}</span>`</span>,
      <span class="hljs-attr">path</span>: <span class="hljs-string">`/metric-view/<span class="hljs-subst">${group.id}</span>`</span>,
      <span class="hljs-attr">meta</span>: {
        <span class="hljs-attr">title</span>: group.<span class="hljs-property">group_name</span>,  <span class="hljs-comment">// èœå•å = æŒ‡æ ‡ç»„å</span>
        <span class="hljs-attr">icon</span>: group.<span class="hljs-property">icon</span>
      }
    }))
    
    <span class="hljs-comment">// åˆå¹¶ï¼šåˆ›å»º"MetricsæŸ¥çœ‹"çˆ¶èœå•</span>
    <span class="hljs-keyword">if</span> (dynamicMenus.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">const</span> parent = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'MetricsView'</span>,
        <span class="hljs-attr">meta</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'MetricsæŸ¥çœ‹'</span> },
        <span class="hljs-attr">children</span>: dynamicMenus  <span class="hljs-comment">// åŠ¨æ€å­èœå•</span>
      }
      <span class="hljs-keyword">return</span> [...staticMenus, parent]
    }
    
    <span class="hljs-keyword">return</span> staticMenus
  }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>computed</code> å±æ€§ï¼Œæ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°æ¸²æŸ“</li>
<li>è·¯ç”±å‚æ•°åŒ–ï¼š<code>/metric-view/:id</code>ï¼Œé€šè¿‡ ID åŒºåˆ†æŒ‡æ ‡ç»„</li>
</ul>
<h3 data-id="heading-23">5.2 åç«¯æ€ä¹ˆæŸ¥ï¼Ÿæ¥å£è®¾è®¡</h3>
<p><strong>æ¥å£1ï¼šæŸ¥è¯¢å¯ç”¨çš„æŒ‡æ ‡ç»„</strong></p>
<pre><code class="hljs language-ini" lang="ini">GET /api/metric-groups?<span class="hljs-attr">enabled</span>=<span class="hljs-number">1</span>
</code></pre>
<p>è¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"group_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®¢å•ç›‘æ§"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"shopping-cart"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"group_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ”¯ä»˜ç›‘æ§"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"wallet"</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ¥å£2ï¼šæŸ¥è¯¢æŒ‡æ ‡ç»„çš„è¯¦ç»†æŒ‡æ ‡</strong></p>
<pre><code class="hljs language-bash" lang="bash">GET /api/metric-groups/:<span class="hljs-built_in">id</span>/metrics
</code></pre>
<p>æ ¸å¿ƒ SQLï¼ˆå…³è”æŸ¥è¯¢ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> 
    i.metric_name,
    <span class="hljs-keyword">CASE</span> 
        <span class="hljs-keyword">WHEN</span> i.rule_type <span class="hljs-operator">=</span> <span class="hljs-string">'keyword'</span> <span class="hljs-keyword">THEN</span> k.rule_name
        <span class="hljs-keyword">WHEN</span> i.rule_type <span class="hljs-operator">=</span> <span class="hljs-string">'query'</span> <span class="hljs-keyword">THEN</span> q.query_name
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">AS</span> rule_name
<span class="hljs-keyword">FROM</span> alarm_metric_group_item i
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> alarm_keyword_rule k <span class="hljs-keyword">ON</span> i.rule_type <span class="hljs-operator">=</span> <span class="hljs-string">'keyword'</span> <span class="hljs-keyword">AND</span> i.rule_id <span class="hljs-operator">=</span> k.id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> alarm_query_rule q <span class="hljs-keyword">ON</span> i.rule_type <span class="hljs-operator">=</span> <span class="hljs-string">'query'</span> <span class="hljs-keyword">AND</span> i.rule_id <span class="hljs-operator">=</span> q.id
<span class="hljs-keyword">WHERE</span> i.group_id <span class="hljs-operator">=</span> ?
</code></pre>
<p><strong>æ¥å£3ï¼šæŸ¥è¯¢ Prometheus æŒ‡æ ‡æ•°æ®</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">GET</span> <span class="hljs-operator">/</span>api<span class="hljs-operator">/</span>metrics<span class="hljs-operator">/</span>overview?<span class="hljs-keyword">start</span><span class="hljs-operator">=</span>xxx<span class="hljs-operator">&amp;</span><span class="hljs-keyword">end</span><span class="hljs-operator">=</span>yyy<span class="hljs-operator">&amp;</span>step<span class="hljs-operator">=</span><span class="hljs-number">15</span>
</code></pre>
<p>åç«¯æ ¹æ®æ—¶é—´å‚æ•°æŸ¥è¯¢ Prometheusï¼Œè¿”å›æ—¶åºæ•°æ®ã€‚</p>
<h3 data-id="heading-24">5.3 æ—¶é—´èŒƒå›´è‡ªé€‚åº”</h3>
<p><strong>è®¾è®¡æ€è·¯</strong>ï¼šæ—¶é—´èŒƒå›´è¶Šå¤§ï¼Œé‡‡æ ·é—´éš”è¶Šç²—ï¼Œé¿å…æ•°æ®ç‚¹è¿‡å¤šã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">getTimeRangeParams</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span>)
  <span class="hljs-keyword">let</span> start, step
  
  <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">timeRange</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'15m'</span>: start = now - <span class="hljs-number">15</span>*<span class="hljs-number">60</span>; step = <span class="hljs-number">15</span>; <span class="hljs-keyword">break</span>    <span class="hljs-comment">// 15ç§’</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'1h'</span>:  start = now - <span class="hljs-number">60</span>*<span class="hljs-number">60</span>; step = <span class="hljs-number">30</span>; <span class="hljs-keyword">break</span>    <span class="hljs-comment">// 30ç§’</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'3h'</span>:  start = now - <span class="hljs-number">3</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>; step = <span class="hljs-number">60</span>; <span class="hljs-keyword">break</span>  <span class="hljs-comment">// 1åˆ†é’Ÿ</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'6h'</span>:  start = now - <span class="hljs-number">6</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>; step = <span class="hljs-number">120</span>; <span class="hljs-keyword">break</span> <span class="hljs-comment">// 2åˆ†é’Ÿ</span>
  }
  
  <span class="hljs-keyword">return</span> { start, <span class="hljs-attr">end</span>: now, step }
}
</code></pre>
<hr/>
<h2 data-id="heading-25">å…­ã€å®Œæ•´æµç¨‹ç¤ºæ„</h2>
<h3 data-id="heading-26">6.1 é…ç½®æµç¨‹ï¼ˆç®¡ç†å‘˜æ“ä½œï¼‰</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Admin as ç®¡ç†å‘˜
    participant Page as ç®¡ç†é¡µé¢
    participant DB as æ•°æ®åº“
    
    Admin-&gt;&gt;Page: åˆ›å»ºæŒ‡æ ‡ç»„"è®¢å•ç›‘æ§"
    Page-&gt;&gt;DB: INSERT INTO alarm_metric_group
    
    Admin-&gt;&gt;Page: æ·»åŠ è§„åˆ™åˆ°æŒ‡æ ‡ç»„
    Page-&gt;&gt;DB: INSERT INTO alarm_metric_group_item
    
    Admin-&gt;&gt;Page: åˆ·æ–°é¡µé¢
    Page-&gt;&gt;DB: SELECT * WHERE enabled=1
    DB--&gt;&gt;Page: è¿”å›æŒ‡æ ‡ç»„åˆ—è¡¨
    Page--&gt;&gt;Admin: èœå•ä¸­å‡ºç°"è®¢å•ç›‘æ§"
</code></pre>
<p><strong>é…ç½®æ—¶é—´ï¼š30 ç§’</strong></p>
<h3 data-id="heading-27">6.2 æŸ¥çœ‹æµç¨‹ï¼ˆä¸šåŠ¡ç»„æ“ä½œï¼‰</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ä¸šåŠ¡äººå‘˜
    participant Page as é¡µé¢
    participant API as åç«¯
    participant Prom as Prometheus
    
    User-&gt;&gt;Page: ç‚¹å‡»"è®¢å•ç›‘æ§"
    Page-&gt;&gt;API: GET /metric-groups/1/metrics
    API--&gt;&gt;Page: è¿”å›æŒ‡æ ‡åˆ—è¡¨
    
    User-&gt;&gt;Page: é€‰æ‹©"1å°æ—¶"
    Page-&gt;&gt;API: GET /metrics/overview?step=30
    API-&gt;&gt;Prom: QueryRange()
    Prom--&gt;&gt;API: æ—¶åºæ•°æ®
    API--&gt;&gt;Page: JSON
    
    Page-&gt;&gt;Page: æ‹¼æ¥Labelã€æ ¼å¼åŒ–
    Page--&gt;&gt;User: æ˜¾ç¤ºå¤šæ¡æ›²çº¿å›¾è¡¨
</code></pre>
<p><strong>æŸ¥çœ‹æ—¶é—´ï¼š&lt; 2 ç§’</strong></p>
<hr/>
<h2 data-id="heading-28">ä¸ƒã€é€‚ç”¨åœºæ™¯ä¸å±€é™æ€§</h2>
<h3 data-id="heading-29">7.1 é€‚åˆçš„åœºæ™¯</h3>
<ol>
<li><strong>ä¸šåŠ¡å‘Šè­¦ç›‘æ§</strong>ï¼šå·²æœ‰å‘Šè­¦è§„åˆ™ï¼Œéœ€è¦æŒ‰ä¸šåŠ¡ç»„åˆ†ç»„æŸ¥çœ‹</li>
<li><strong>æ—¥å¿—åˆ†æåœºæ™¯</strong>ï¼šåŸºäºå…³é”®è¯è§„åˆ™åŒ¹é…æ—¥å¿—</li>
<li><strong>æ•°æ®åº“æŸ¥è¯¢ç›‘æ§</strong>ï¼šåŸºäº SQL æŸ¥è¯¢ç”ŸæˆæŒ‡æ ‡</li>
<li><strong>ä¸­å°è§„æ¨¡å›¢é˜Ÿ</strong>ï¼šæŒ‡æ ‡ç»„ &lt; 50 ä¸ªï¼Œå•ç»„è§„åˆ™ &lt; 100 æ¡</li>
</ol>
<h3 data-id="heading-30">7.2 ä¸é€‚åˆçš„åœºæ™¯</h3>
<ol>
<li><strong>å¤æ‚çš„ PromQL æŸ¥è¯¢</strong>ï¼šéœ€è¦èšåˆã€è®¡ç®—ã€rate() ç­‰å¤æ‚è¿ç®— â†’ ç”¨ Grafana</li>
<li><strong>é«˜åº¦è‡ªå®šä¹‰ Dashboard</strong>ï¼šéœ€è¦ç‰¹æ®Šå¸ƒå±€ã€è‡ªå®šä¹‰å›¾è¡¨ç±»å‹ â†’ ç”¨ Grafana</li>
<li><strong>åˆ†å¸ƒå¼è¿½è¸ª</strong>ï¼šéœ€è¦ Trace çº§åˆ«çš„ç›‘æ§ â†’ ç”¨ SkyWalking</li>
</ol>
<h3 data-id="heading-31">7.3 æ€§èƒ½è€ƒè™‘</h3>
<p><strong>å½“å‰è®¾è®¡çš„æ€§èƒ½è¾¹ç•Œ</strong>ï¼š</p>
<ul>
<li>æŒ‡æ ‡ç»„æ•°é‡ï¼šå»ºè®® &lt; 50 ä¸ª</li>
<li>å•ä¸ªæŒ‡æ ‡ç»„è§„åˆ™ï¼šå»ºè®® &lt; 100 æ¡</li>
<li>å¹³å‡å“åº”æ—¶é—´ï¼š&lt; 2 ç§’</li>
</ul>
<p><strong>å¯èƒ½çš„ç“¶é¢ˆ</strong>ï¼š</p>
<ul>
<li>æŒ‡æ ‡ç»„è¿‡å¤šæ—¶ï¼Œèœå•åŠ è½½è¾ƒæ…¢ â†’ å¯å¢åŠ ç¼“å­˜</li>
<li>å¤§é‡æŒ‡æ ‡åŒæ—¶æŸ¥è¯¢å¯èƒ½è¶…æ—¶ â†’ å¯é™åˆ¶å¹¶å‘æ•°</li>
<li>å¤§é‡å›¾è¡¨åŒæ—¶æ¸²æŸ“å¯èƒ½å¡é¡¿ â†’ å¯ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨</li>
</ul>
<hr/>
<h2 data-id="heading-32">å…«ã€å†™åœ¨æœ€å</h2>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸Šçº¿åï¼Œä¸šåŠ¡å›¢é˜Ÿçš„åé¦ˆæ˜¯ï¼š"ç»ˆäºä¸ç”¨ç­‰ SRE äº†ï¼Œè‡ªå·±ç‚¹ç‚¹å°±èƒ½çœ‹ã€‚"</p>
<p>è€Œ SRE å›¢é˜Ÿä¹Ÿä»"Dashboard å·¥ç¨‹å¸ˆ"å›å½’åˆ°çœŸæ­£çš„ç¨³å®šæ€§å»ºè®¾ä¸­â€”â€”ä¸å†è¢« 10 åˆ†é’Ÿä¸€ä¸ªçš„é…ç½®è¯·æ±‚æ‰“æ–­ã€‚</p>
<p><strong>å®ƒä¸æ˜¯ä¸‡èƒ½çš„</strong>ï¼š</p>
<ul>
<li>ä¸é€‚åˆå¤æ‚çš„ PromQL æŸ¥è¯¢</li>
<li>ä¸é€‚åˆé«˜åº¦è‡ªå®šä¹‰çš„å›¾è¡¨</li>
<li>Grafana ä¾ç„¶æ˜¯ä¸“ä¸šç”¨æˆ·çš„é¦–é€‰</li>
</ul>
<p><strong>ä½†å¦‚æœä½ ä¹Ÿé¢ä¸´</strong>ï¼š</p>
<ul>
<li>ä¸šåŠ¡ç»„å¤ªå¤šï¼Œæ¯ä¸ªéƒ½è¦å•ç‹¬é… Dashboard</li>
<li>æŒ‡æ ‡å¤ªå¤šï¼Œæ‰¾èµ·æ¥å¾ˆè´¹åŠ²</li>
<li>éæŠ€æœ¯äººå‘˜ä¸ä¼šç”¨ Grafana</li>
</ul>
<p>æˆ–è®¸è¿™ä¸ªè½»é‡çº§æ€è·¯å€¼å¾—å‚è€ƒã€‚</p>
<hr/>
<p><strong>æ¬¢è¿è®¨è®º</strong>ï¼šä½ ä»¬æ˜¯æ€ä¹ˆè®©éè¿ç»´äººå‘˜ç”¨å¥½ Prometheus çš„ï¼Ÿç•™è¨€èŠèŠä½ çš„æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´æœ« TypeScript è¶‹åŠ¿æ´å¯Ÿï¼šAI Agent ä¸ TS 7.0 çš„åŸç”ŸåŒ–é©å‘½]]></title>    <link>https://juejin.cn/post/7589534625260060708</link>    <guid>https://juejin.cn/post/7589534625260060708</guid>    <pubDate>2025-12-31T02:16:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589534625260060708" data-draft-id="7589539335005143083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¹´æœ« TypeScript è¶‹åŠ¿æ´å¯Ÿï¼šAI Agent ä¸ TS 7.0 çš„åŸç”ŸåŒ–é©å‘½"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-31T02:16:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿ä¹å»ä¹°èœ"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032146535"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¹´æœ« TypeScript è¶‹åŠ¿æ´å¯Ÿï¼šAI Agent ä¸ TS 7.0 çš„åŸç”ŸåŒ–é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032146535/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿ä¹å»ä¹°èœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:16:06.000Z" title="Wed Dec 31 2025 02:16:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€æŠ€æœ¯æ—¥æŠ¥ã€‘2025 å¹´æœ« TypeScript è¶‹åŠ¿æ´å¯Ÿï¼šAI Agent ä¸ TS 7.0 çš„åŸç”ŸåŒ–é©å‘½</h2>
<p><strong>ä½œè€…ï¼šManus AI</strong></p>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ 2025 å¹´çš„æœ€åä¸€ä¸ªæœˆï¼ŒTypeScript å·²ç»å·©å›ºäº†å…¶ä½œä¸º GitHub ä¸Šæœ€å—æ¬¢è¿ç¼–ç¨‹è¯­è¨€çš„åœ°ä½ [5]ã€‚è¿™ç§å¼ºåŠ²çš„å¢é•¿å¹¶éå¶ç„¶ï¼Œå®ƒåæ˜ äº†è½¯ä»¶å¼€å‘é¢†åŸŸæ­£åœ¨ç»å†çš„æ·±åˆ»å˜é©ã€‚ä»Šæ—¥ï¼ˆ2025 å¹´ 12 æœˆ 31 æ—¥ï¼‰çš„ GitHub Trending TypeScript æ¦œå• [1] å†æ¬¡å°è¯äº†è¿™ä¸€è¶‹åŠ¿ï¼š<strong>AI Agent åŸºç¡€è®¾æ–½</strong>å’Œ<strong>è¯­è¨€è‡ªèº«æ€§èƒ½ä¼˜åŒ–</strong>æ˜¯æ¨åŠ¨ TypeScript ç”Ÿæ€å‘å‰å‘å±•çš„ä¸¤å¤§æ ¸å¿ƒåŠ¨åŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†æä»Šæ—¥çƒ­é—¨é¡¹ç›®ï¼Œå¹¶æ¢è®¨ TypeScript åœ¨ AI æ—¶ä»£çš„å…³é”®æŠ€æœ¯è¶‹åŠ¿ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€GitHub çƒ­é—¨é¡¹ç›®æ¦‚è§ˆä¸ AI é©±åŠ¨</h3>
<p>ä»Šæ—¥ TypeScript çƒ­é—¨é¡¹ç›®é›†ä¸­åœ¨ AI åŸºç¡€è®¾æ–½ã€è‡ªåŠ¨åŒ–å·¥ä½œæµå’Œé«˜æ€§èƒ½å·¥å…·é¢†åŸŸã€‚ä¸‹è¡¨åˆ—å‡ºäº†éƒ¨åˆ†æœ€å…·ä»£è¡¨æ€§çš„é¡¹ç›®ï¼Œå®ƒä»¬å…±åŒæç»˜äº† TypeScript åœ¨å…¨æ ˆåº”ç”¨ä¸­çš„æ–°è§’è‰²ï¼š</p>















































<table><thead><tr><th align="left">é¡¹ç›®åç§°</th><th align="left">Stars</th><th align="left">æ ¸å¿ƒåŠŸèƒ½</th><th align="left">æŠ€æœ¯è¶‹åŠ¿</th></tr></thead><tbody><tr><td align="left"><strong>sst/opencode</strong></td><td align="left">44,499</td><td align="left">å¼€æº AI ç¼–ç¨‹ä»£ç†</td><td align="left">AI è¾…åŠ©å¼€å‘ã€Agent é—­ç¯</td></tr><tr><td align="left"><strong>activepieces/activepieces</strong></td><td align="left">20,136</td><td align="left">AI Agent &amp; MCP å·¥ä½œæµ</td><td align="left">æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP)ã€å·¥ä½œæµè‡ªåŠ¨åŒ–</td></tr><tr><td align="left"><strong>upstash/context7</strong></td><td align="left">40,512</td><td align="left">Context7 MCP æœåŠ¡å™¨</td><td align="left">LLM ä¸Šä¸‹æ–‡ç®¡ç†ã€æ•°æ®å®‰å…¨</td></tr><tr><td align="left"><strong>bytedance/UI-TARS-desktop</strong></td><td align="left">20,300</td><td align="left">å¤šæ¨¡æ€ AI Agent æ ˆ</td><td align="left">è·¨æ¨¡æ€äº¤äº’ã€å¤§å‹æ¨¡å‹åº”ç”¨</td></tr><tr><td align="left"><strong>n8n-io/n8n</strong></td><td align="left">165,643</td><td align="left">å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°</td><td align="left">AI åŸç”Ÿé›†æˆã€ä½ä»£ç /å¯æ‰©å±•æ€§</td></tr><tr><td align="left"><strong>cjpais/Handy</strong></td><td align="left">9,480</td><td align="left">ç¦»çº¿è¯­éŸ³è½¬æ–‡å­—åº”ç”¨</td><td align="left">éšç§è®¡ç®—ã€é«˜æ€§èƒ½æ¡Œé¢åº”ç”¨</td></tr></tbody></table>
<p>è¿™äº›é¡¹ç›®è¡¨æ˜ï¼ŒTypeScript å·²ä¸å†å±€é™äºå‰ç«¯å¼€å‘ï¼Œè€Œæ˜¯æˆä¸ºæ„å»ºå¤æ‚ã€é«˜æ€§èƒ½ã€ä¸”æ·±åº¦é›†æˆ AI èƒ½åŠ›çš„<strong>å…¨æ ˆåŸºç¡€è®¾æ–½</strong>çš„é¦–é€‰è¯­è¨€ã€‚</p>
<h3 data-id="heading-3">äºŒã€æ ¸å¿ƒæŠ€æœ¯è¶‹åŠ¿æ·±åº¦åˆ†æ</h3>
<h4 data-id="heading-4">1. AI Agent åŸºç¡€è®¾æ–½çš„ç±»å‹å®‰å…¨åŸºçŸ³</h4>
<p>åœ¨ä»Šæ—¥çš„æ¦œå•ä¸­ï¼Œè¶…è¿‡ä¸€åŠçš„é¡¹ç›®ç›´æ¥æˆ–é—´æ¥æœåŠ¡äº AI Agent ç”Ÿæ€ã€‚ä» <code>sst/opencode</code> è¿™æ ·çš„ç¼–ç¨‹ä»£ç†åˆ° <code>activepieces</code> è¿™æ ·çš„å·¥ä½œæµå¼•æ“ï¼ŒTypeScript çš„<strong>é™æ€ç±»å‹ç³»ç»Ÿ</strong>åœ¨å…¶ä¸­å‘æŒ¥äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p>
<p>åœ¨ Agent é©±åŠ¨çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œä»£ç çš„å¤æ‚æ€§å’Œä¸ç¡®å®šæ€§æ€¥å‰§å¢åŠ ã€‚TypeScript æä¾›çš„ç±»å‹å®‰å…¨ä¿éšœï¼Œèƒ½å¤Ÿæœ‰æ•ˆå‡å°‘è¿è¡Œæ—¶é”™è¯¯ï¼Œæé«˜ Agent ç¼–å†™ä»£ç çš„å¯é æ€§ï¼Œå¹¶åŠ é€Ÿå¼€å‘è€…å¯¹ Agent ç”Ÿæˆä»£ç çš„å®¡æŸ¥å’Œé›†æˆè¿‡ç¨‹ã€‚è¿™ä½¿å¾— TypeScript æˆä¸ºæ„å»º Agent æ¡†æ¶å’Œå·¥å…·çš„<strong>ç±»å‹å®‰å…¨åŸºçŸ³</strong>ã€‚</p>
<h4 data-id="heading-5">2. MCP åè®®ï¼šAI æ¨¡å‹çš„â€œå·¥å…·ç®±â€</h4>
<p><strong>æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (Model Context Protocol, MCP)</strong> æ­£åœ¨æˆä¸ºè¿æ¥ LLMï¼ˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼‰ä¸å¤–éƒ¨å·¥å…·å’Œæ•°æ®çš„å…³é”®æ ‡å‡†ã€‚<code>activepieces</code> å’Œ <code>upstash/context7</code> çš„æµè¡Œï¼Œåæ˜ äº†å¼€å‘è€…å¯¹æ ‡å‡†åŒ– Agent äº¤äº’æ¥å£çš„è¿«åˆ‡éœ€æ±‚ã€‚</p>
<p>MCP æ—¨åœ¨è§£å†³ AI Agent åœ¨æ‰§è¡Œä»»åŠ¡æ—¶é¢ä¸´çš„<strong>ä¸Šä¸‹æ–‡é™åˆ¶</strong>å’Œ<strong>å·¥å…·è°ƒç”¨ä¸ä¸€è‡´</strong>çš„é—®é¢˜ã€‚é€šè¿‡ TypeScript æ„å»ºçš„ MCP æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼ï¼Œä¸º Agent æä¾›æœ€æ–°çš„ä»£ç æ–‡æ¡£ã€API è®¿é—®æƒé™å’Œæ•°æ®æºï¼Œæå¤§åœ°æå‡äº† Agent çš„èƒ½åŠ›å’Œå¯é æ€§ã€‚è¿™ä¸€è¶‹åŠ¿é¢„ç¤ºç€æœªæ¥ Agent é—´çš„åä½œå°†æ›´åŠ ä¾èµ–äºè¿™ç§æ ‡å‡†åŒ–çš„ã€åŸºäº TypeScript çš„åè®®å®ç°ã€‚</p>
<h4 data-id="heading-6">3. TypeScript 7.0 çš„â€œåŸç”ŸåŒ–â€æ€§èƒ½é©å‘½</h4>
<p>é™¤äº†åº”ç”¨å±‚é¢çš„è¶‹åŠ¿ï¼ŒTypeScript è¯­è¨€æœ¬èº«ä¹Ÿåœ¨ç»å†ä¸€åœºé‡å¤§çš„å˜é©ã€‚æ ¹æ®å¾®è½¯ TypeScript å›¢é˜Ÿåœ¨ 2025 å¹´ 12 æœˆçš„æœ€æ–°è¿›å±• [2] [3]ï¼Œ<strong>TypeScript 7.0</strong> çš„æ ¸å¿ƒç¼–è¯‘å™¨å’Œè¯­è¨€æœåŠ¡æ­£åœ¨ä½¿ç”¨ <strong>Go è¯­è¨€</strong>è¿›è¡Œé‡å†™ï¼ˆå³â€œåŸç”ŸåŒ–â€ï¼‰ã€‚</p>
<p>è¿™ä¸€â€œåŸç”ŸåŒ–â€çš„æˆ˜ç•¥ç›®æ ‡æ˜¯å½»åº•è§£å†³ TypeScript åœ¨å¤§å‹é¡¹ç›®ä¸­çš„æ€§èƒ½ç“¶é¢ˆï¼š</p>
<blockquote>
<p>â€œTypeScript 7.0 æ—¨åœ¨é€šè¿‡å°†è¯­è¨€æœåŠ¡å’Œç¼–è¯‘å™¨ç§»æ¤åˆ° Go è¯­è¨€ï¼Œæ˜¾è‘—æå‡æ€§èƒ½ã€ä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œå¹¶åˆ©ç”¨ Go çš„å¹¶å‘ç‰¹æ€§å®ç°æ›´å¿«çš„å¹¶è¡Œå¤„ç† [3] [4]ã€‚â€</p>
</blockquote>
<p>é¢„è®¡ TypeScript 7.0 å°†å¸¦æ¥é«˜è¾¾ <strong>10 å€</strong>çš„ç¼–è¯‘é€Ÿåº¦æå‡ï¼Œå¹¶å¤§å¹…é™ä½å†…å­˜æ¶ˆè€—ã€‚è¿™å°†è¿›ä¸€æ­¥å·©å›º TypeScript åœ¨å¤§å‹ä¼ä¸šçº§åº”ç”¨å’Œå¤æ‚å·¥å…·é“¾ä¸­çš„åœ°ä½ï¼Œä½¿å…¶åœ¨æ€§èƒ½ä¸Šæ›´å…·ç«äº‰åŠ›ã€‚</p>
<h3 data-id="heading-7">ç»“è®º</h3>
<p>2025 å¹´æœ«çš„ TypeScript ç”Ÿæ€å‘ˆç°å‡ºæ¸…æ™°çš„**â€œAI ä¼˜å…ˆâ€<strong>æˆ˜ç•¥ã€‚ä» GitHub çƒ­é—¨é¡¹ç›®æ¥çœ‹ï¼ŒTypeScript å·²ç»ä»ä¸€é—¨â€œå‰ç«¯å¢å¼ºè¯­è¨€â€è¿›åŒ–ä¸º</strong>â€œAI Agent åŸºç¡€è®¾æ–½è¯­è¨€â€**ã€‚AI Agent çš„æ™®åŠæ¨åŠ¨äº† MCP ç­‰æ–°åè®®çš„è¯ç”Ÿï¼Œè€Œ TypeScript 7.0 çš„åŸç”ŸåŒ–é‡å†™åˆ™ä¸ºæ•´ä¸ªç”Ÿæ€ç³»ç»Ÿæä¾›äº†å‰æ‰€æœªæœ‰çš„æ€§èƒ½ä¿éšœã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒæŒæ¡ TypeScript åœ¨ AI Agentã€MCP å’Œé«˜æ€§èƒ½å·¥å…·é“¾ä¸­çš„åº”ç”¨ï¼Œå°†æ˜¯è¿æ¥ 2026 å¹´æŠ€æœ¯æµªæ½®çš„å…³é”®ã€‚</p>
<h3 data-id="heading-8">å‚è€ƒæ–‡çŒ®</h3>
<p>[1] GitHub Trending TypeScript Today: <code>https://github.com/trending/typescript?since=daily</code></p>
<p>[2] Progress on TypeScript 7 - December 2025: <code>https://devblogs.microsoft.com/typescript/progress-on-typescript-7-december-2025/</code></p>
<p>[3] Microsoft steers native port of TypeScript to early 2026: <code>https://www.infoworld.com/article/4100582/microsoft-steers-native-port-of-typescript-to-early-2026-release.html</code></p>
<p>[4] TypeScript 7 (Go Rewrite) - Current Status and Progress: <code>https://typescriptpro.com/blog/typescript-version-7-current-status-2025-12-22</code></p>
<p>[5] Octoverse: A new developer joins GitHub every second as AI leads TypeScript to #1: <code>https://github.blog/news-insights/octoverse/octoverse-a-new-developer-joins-github-every-second-as-ai-leads-typescript-to-1/</code></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çœ‹å®Œä½ å°±æ˜¯å¤å¸Œè…ŠæŒç®¡Composeè¾“å…¥æ¡†çš„ç¥ï¼ï¼ï¼]]></title>    <link>https://juejin.cn/post/7589462007528947746</link>    <guid>https://juejin.cn/post/7589462007528947746</guid>    <pubDate>2025-12-30T16:01:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589462007528947746" data-draft-id="7582759716188553216" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çœ‹å®Œä½ å°±æ˜¯å¤å¸Œè…ŠæŒç®¡Composeè¾“å…¥æ¡†çš„ç¥ï¼ï¼ï¼"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2025-12-30T16:01:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡¡å°çƒ¦"/> <meta itemprop="url" content="https://juejin.cn/user/2052145628841419"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çœ‹å®Œä½ å°±æ˜¯å¤å¸Œè…ŠæŒç®¡Composeè¾“å…¥æ¡†çš„ç¥ï¼ï¼ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2052145628841419/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡¡å°çƒ¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T16:01:27.000Z" title="Tue Dec 30 2025 16:01:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 composeè¾“å…¥æ¡†ç®€ä»‹</h2>
<p>composeä¸­æä¾›çš„è¾“å…¥æ¡†æœ‰TextFieldå’ŒBasicTextFieldä¸¤ä¸ªç»„åˆå‡½æ•°ï¼Œä½†æ˜¯å®é™…ä¸ŠTextFieldç»„åˆå‡½æ•°æ˜¯åŸºäºBasicTextFieldè¿›è¡Œäº†å°è£…ï¼Œåœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­å¤§å¤šæ•°æƒ…å†µæ˜¯å›´ç»•BasicTextFieldè¿›è¡Œçš„ï¼Œæœ¬æ–‡ä¹Ÿä¸»è¦åŸºäºBasicTextFieldç»„åˆå‡½æ•°è¿›è¡Œä»‹ç»ã€‚</p>
<h3 data-id="heading-1">1.1 BasicTextFieldè¾“å…¥æ¡†åŠŸèƒ½ä»‹ç»</h3>
<p>BasicTextFieldä¸­çš„å‚æ•°éå¸¸çš„å¤šï¼Œè¿™é‡Œå°±ä¸å¯¹æ¯ä¸€ä¸ªå‚æ•°è¿›è¡Œä»‹ç»äº†ï¼Œæœ¬æ–‡ä¹ŸæŒ‰ç…§å®é™…å¼€å‘ä¸­å¸¸ç”¨çš„å‚æ•°å’Œåœºæ™¯æ¥ä»‹ç»ï¼Œä¸ºäº†æ–¹ä¾¿åé¢çš„ä»‹ç»ï¼Œè¿™é‡Œå•ç‹¬åˆ—å‡ºBasicTextFieldç»„åˆå‡½æ•°çš„æ–¹æ³•å…¥å‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BasicTextField</span><span class="hljs-params">(
    value: <span class="hljs-type">TextFieldValue</span>,
    onValueChange: (<span class="hljs-type">TextFieldValue</span>) -&gt; <span class="hljs-type">Unit</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    enabled: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>,
    readOnly: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">false</span>,
    textStyle: <span class="hljs-type">TextStyle</span> = TextStyle.Default,
    keyboardOptions: <span class="hljs-type">KeyboardOptions</span> = KeyboardOptions.Default,
    keyboardActions: <span class="hljs-type">KeyboardActions</span> = KeyboardActions.Default,
    singleLine: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">false</span>,
    maxLines: <span class="hljs-type">Int</span> = <span class="hljs-keyword">if</span> (singleLine)</span></span> <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-built_in">Int</span>.MAX_VALUE,
    minLines: <span class="hljs-built_in">Int</span> = <span class="hljs-number">1</span>,
    visualTransformation: VisualTransformation = VisualTransformation.None,
    onTextLayout: (TextLayoutResult) -&gt; <span class="hljs-built_in">Unit</span> = {},
    interactionSource: MutableInteractionSource? = <span class="hljs-literal">null</span>,
    cursorBrush: Brush = SolidColor(Color.Black),
    decorationBox: <span class="hljs-meta">@Composable</span> (innerTextField: <span class="hljs-meta">@Composable</span> () -&gt; <span class="hljs-built_in">Unit</span>) -&gt; <span class="hljs-built_in">Unit</span> =
        <span class="hljs-meta">@Composable</span> { innerTextField -&gt; innerTextField() }
)
</code></pre>
<p>è¿™é‡Œé‡ç‚¹ä»‹ç»å‡ ä¸ªå‚æ•°ï¼Œvalueå‚æ•°æ„æ€æ˜¯å½“å‰è¾“å…¥æ¡†å±•ç¤ºçš„è¾“å…¥æ–‡æœ¬ï¼ŒonValueChangeå‚æ•°æ˜¯è¾“å…¥æ¡†æ•°æ®å˜åŒ–å›è°ƒï¼Œè¿™ä¸¤ä¸ªæ˜¯å¿…ä¼ å‚æ•°ã€‚keyboardOptionsæ˜¯è¾“å…¥æ¡†é”®ç›˜é€‰é¡¹ï¼Œæ”¯æŒè‡ªå®šä¹‰çš„é”®ç›˜é€‰é¡¹ï¼Œå…¶æ„é€ å‚æ•°å¦‚ä¸‹:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">KeyboardOptions</span>(
    <span class="hljs-comment">// aã€è¾“å…¥æ–‡æ¡ˆå¤§å°å†™æ§åˆ¶</span>
    <span class="hljs-keyword">val</span> capitalization: KeyboardCapitalization = KeyboardCapitalization.Unspecified,
    <span class="hljs-comment">// bã€è‡ªåŠ¨çº é”™</span>
    <span class="hljs-keyword">val</span> autoCorrectEnabled: <span class="hljs-built_in">Boolean</span>? = <span class="hljs-literal">null</span>,
    <span class="hljs-comment">// cã€é”®ç›˜ç±»å‹</span>
    <span class="hljs-keyword">val</span> keyboardType: KeyboardType = KeyboardType.Unspecified,
    <span class="hljs-comment">// dã€é”®ç›˜åŠŸèƒ½æŒ‰é’®è®¾ç½®ï¼ˆé€šå¸¸æ˜¯å³ä¸‹è§’çš„æŒ‰é’®ï¼‰</span>
    <span class="hljs-keyword">val</span> imeAction: ImeAction = ImeAction.Unspecified,
    <span class="hljs-keyword">val</span> platformImeOptions: PlatformImeOptions? = <span class="hljs-literal">null</span>,
    <span class="hljs-comment">// eã€è·å¾—ç„¦ç‚¹æ—¶å±•ç¤ºé”®ç›˜</span>
    <span class="hljs-keyword">val</span> showKeyboardOnFocus: <span class="hljs-built_in">Boolean</span>? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">val</span> hintLocales: LocaleList? = <span class="hljs-literal">null</span>,
)
</code></pre>
<p>ä¸Šè¿°æ³¨é‡Šçš„å‚æ•°ä¸­é‡ç‚¹è®²ä¸€ä¸‹keyboardTypeå’ŒimeActionå‚æ•°çš„æ„ä¹‰ï¼Œå…¶ä¸­keyboardTypeç”¨äºæŒ‡å®šè¾“å…¥æ¡†ä¸­è¾“å…¥çš„æ•°æ®å†…å®¹ï¼Œå¦‚ç”µè¯å·ç ã€é‚®ç®±ã€å¯†ç ç­‰ç±»å‹ï¼Œä»¥keyboardTypeè®¾ç½®ä¸ºKeyboardType.Phoneä¸ºä¾‹ï¼Œè¾“å…¥æ¡†åœ¨è·å–ç„¦ç‚¹åé»˜è®¤å¼¹å‡ºçº¯æ•°å­—é”®ç›˜ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªå¼¹å‡ºçš„é”®ç›˜ç±»å‹ç³»ç»Ÿæ˜¯ä¸ä¿è¯é»˜è®¤çš„é”®ç›˜ç±»å‹çš„ï¼Œå…·ä½“ä¾èµ–äºå„ä¸ªé”®ç›˜è¾“å…¥æ³•çš„å®ç°ã€‚imeActionåˆ™å®šä¹‰è¾“å…¥æ¡†è·å–ç„¦ç‚¹åå¼¹å‡ºé”®ç›˜çš„åŠŸèƒ½æŒ‰é’®æ ·å¼ï¼Œä»¥è®¾ç½®imeActionä¸ºImeAction.Searchä¸ºä¾‹ï¼Œé”®ç›˜çš„åŠŸèƒ½æŒ‰é’®å¯èƒ½ä¼šæ˜¾ç¤ºæœç´¢æ–‡æ¡ˆæˆ–è€…ä¸€ä¸ªæ”¾å¤§é•œiconï¼Œå…·ä½“çš„å±•ç¤ºæ ·å¼ä¸ä½¿ç”¨çš„é”®ç›˜è½¯ä»¶å®ç°æœ‰å…³ã€‚imeActionå‚æ•°åœ¨å®é™…çš„å¼€å‘ä¸­å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªèŠå¤©è¾“å…¥æ¡†ä¸­ï¼Œå¯èƒ½éœ€è¦é»˜è®¤å±•ç¤ºçš„æŒ‰é’®ä¸ºå‘é€ï¼Œåˆ™å¯ä»¥è®¾ç½®ä¸ºImeAction.Sendï¼ˆä¸‹å›¾ä¸ºè®¾ç½®äº†imeActionä¸ºImeAction.Searchï¼‰ã€‚</p>
<p align="center">
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f030fbe1de60487bb0d749e874fd8439~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeh5bCP54Om:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767715287&amp;x-signature=sVJbkEk8EV%2FIN56LxBaMM7UMVE0%3D" alt="Screenshot_20251229_220752.png" width="30%" loading="lazy"/> 
</p>
BasicTextFieldçš„keyboardActionså‚æ•°æ˜¯å¦ä¸€ä¸ªéœ€è¦å…³æ³¨çš„å‚æ•°ï¼Œå‰é¢ä»‹ç»imeActionçš„æ—¶å€™çŸ¥é“imeActionå¯ä»¥å®šä¹‰é”®ç›˜åŠŸèƒ½æŒ‰é’®çš„å±•ç¤ºï¼Œè€ŒkeyboardActionså¯ä»¥å®šä¹‰imeActionå±•ç¤ºçš„æŒ‰é’®å¯¹åº”çš„è¡Œä¸ºï¼Œä¾‹å¦‚å‰é¢è®¾ç½®äº†ImeAction.Sendï¼Œå¯¹åº”çš„å¯ä»¥è®¾ç½®keyboardActionsçš„onSendå‚æ•°è¡Œä¸ºï¼ˆä¸€èˆ¬æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œè¿™æ ·ç”¨æˆ·åœ¨ç‚¹å‡»é”®ç›˜çš„åŠŸèƒ½æŒ‰é’®æ—¶å¯ä»¥æŒ‰ç…§é¢„è®¾çš„ä¸šåŠ¡é€»è¾‘æ‰§è¡Œã€‚  
<h3 data-id="heading-2">1.2 BasicTextFieldè¾“å…¥æ¡†çš„å®ä¾‹ä»‹ç»</h3>
<p>å‰é¢ä»‹ç»äº†BasicTextFieldçš„å‡ ä¸ªé‡è¦å‚æ•°ï¼Œæ¥ä¸‹æ¥å°±ä»¥BasicTextFieldåœ¨å®é™…å¼€å‘ä¸­çš„å¸¸è§çš„å‡ ä¸ªä½¿ç”¨åœºæ™¯ä¸ºä¾‹å±•å¼€ï¼Œæœ¬æ–‡çš„ä¾‹å­ä¸»è¦åŒ…æ‹¬æ‰‹æœºå·è¾“å…¥æ¡†ã€å¯†ç è¾“å…¥æ¡†å’ŒéªŒè¯ç è¾“å…¥æ¡†ã€‚æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸€èµ·çœ‹çœ‹è¿™å‡ ç§è¾“å…¥æ¡†çš„åœ¨composeä¸­çš„å®ç°å§ã€‚</p>
<h2 data-id="heading-3">2 composeè¾“å…¥æ¡†å®ä¾‹</h2>
<h3 data-id="heading-4">2.1 æ‰‹æœºå·ç è¾“å…¥æ¡†</h3>
<p>å¯èƒ½æœ‰æœ‹å‹è§‰å¾—æ‰‹æœºè¾“å…¥æ¡†å¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä»¥å¤§å®¶æ—¥å¸¸åˆ·è§†é¢‘çš„æŸéŸ³ä¸ºä¾‹ï¼Œçœ‹çœ‹æ‰‹æœºè¾“å…¥æ¡†é‡Œçš„å°ä¹ä¹ã€‚ä»¥ä¸‹æ˜¯æŸéŸ³è§†é¢‘çš„å¯†ç ç™»å½•é¡µé¢çš„UIæ ·å¼</p>
<p align="center">
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17d33b3becf24cf7875fc23d6976ac8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeh5bCP54Om:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767715287&amp;x-signature=z1eUtgt6EG5ozRrOmYLBCLzyLEo%3D" alt="xxhdpi_IMG_0372.png" width="30%" loading="lazy"/>
</p>   
ä»”ç»†çœ‹äº†ä¸€ä¸‹ï¼Œæœªè¾“å…¥æ‰‹æœºå·çš„æ—¶å€™å‡ºç°æç¤ºè¯â€œè¯·è¾“å…¥æ‰‹æœºå·â€ï¼Œæ‰‹æœºå·è¾“å…¥æ¡†æœ‰æ•°å­—çš„æ—¶å€™è¾“å…¥æ¡†çš„å°¾éƒ¨ä¼šå±•ç¤ºä¸€ä¸ªæ¸…é™¤æŒ‰é’®ï¼Œæ‰‹æœºå·ç çš„ç¬¬3ä½æ•°å­—ã€ç¬¬7ä½æ•°å­—åé¢ä¼šæœ‰ç©ºæ ¼åˆ†éš”å¼€ï¼ˆä¸å¾—ä¸ä½©æœæŸéŸ³çš„äº§å“è¿˜æ˜¯å¾ˆç»†èŠ‚çš„ï¼Œè¿™ä¹ˆè®¾è®¡æ–¹ä¾¿æ‰‹æœºå·è¾“å…¥çš„æ—¶å€™çœ‹æ¸…è¾“å…¥çš„å·ç ï¼‰ï¼Œå¦å¤–è¾“å…¥æ¡†çš„æ¸¸æ ‡é¢œè‰²æ˜¯çº¢è‰²çš„ï¼Œtalk is cheap,ä¸‹é¢ç›´æ¥çœ‹çœ‹è¿™ä¸ªè¾“å…¥æ¡†çš„å®ç°ï¼š  
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PhoneNumberEditor</span><span class="hljs-params">(
    phoneNumber: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>,
    regionCode: <span class="hljs-type">String</span> = <span class="hljs-string">"+86"</span>,
    onTextChangeAct: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span> = {},
    onClearAct: () -&gt; <span class="hljs-type">Unit</span> = {},
    onClickRegionCodeAct: () -&gt; <span class="hljs-type">Unit</span> = {}
)</span></span> {
    <span class="hljs-keyword">var</span> curTextStr <span class="hljs-keyword">by</span> remember {
        mutableStateOf(phoneNumber)
    }

    <span class="hljs-keyword">var</span> curRegionCode <span class="hljs-keyword">by</span> remember {
        mutableStateOf(regionCode)
    }

    Box(
        modifier = Modifier
            .padding(horizontal = <span class="hljs-number">24.</span>cdp)
            .fillMaxWidth()
            .height(<span class="hljs-number">52.</span>cdp)
            .clip(shape = RoundedCornerShape(<span class="hljs-number">12.</span>cdp))
            .background(Color(<span class="hljs-number">0x337f7f7f</span>))
    ) {
        Row(
            modifier = Modifier.fillMaxSize(), verticalAlignment = Alignment.CenterVertically
        ) {
            Spacer(modifier = Modifier.width(<span class="hljs-number">18.</span>cdp))
            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> æ·»åŠ ç‚¹å‡»é€‰å·ç åŒºåŸŸç åŠŸèƒ½</span>
            PhoneNumberPrefix(curRegionCode) {
                onClickRegionCodeAct()
            }
            Spacer(modifier = Modifier.width(<span class="hljs-number">7.</span>cdp))
            Spacer(
                modifier = Modifier
                    .height(<span class="hljs-number">10.</span>cdp)
                    .width(<span class="hljs-number">0.67</span>.cdp)
                    .background(Color(<span class="hljs-number">0xffababab</span>))
            )
            Spacer(modifier = Modifier.width(<span class="hljs-number">7.</span>cdp))
            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> å¤åˆ¶ç²˜è´´åŠŸèƒ½</span>
            BasicTextField(
                modifier = Modifier
                    .wrapContentWidth()
                    .wrapContentHeight(),
                value = curTextStr,
                onValueChange = { text -&gt;
                    <span class="hljs-keyword">if</span> (text.length &lt;= <span class="hljs-number">11</span>) {
                        curTextStr = text
                        onTextChangeAct(text)
                    }
                },
                textStyle = TextStyle(
                    fontSize = TextUnit(<span class="hljs-number">18.</span>csp.value, TextUnitType.Sp),
                    color = Color(<span class="hljs-number">0xff161823</span>)
                ),
                singleLine = <span class="hljs-literal">true</span>,
                keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Phone),
                visualTransformation = <span class="hljs-keyword">object</span> : VisualTransformation {
                    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">filter</span><span class="hljs-params">(text: <span class="hljs-type">AnnotatedString</span>)</span></span>: TransformedText {
                        <span class="hljs-keyword">var</span> output = <span class="hljs-string">""</span>
                        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> text.text.indices) {
                            output += text.text[i]
                            <span class="hljs-comment">// å­—ç¬¦ä¸²çš„indexä¸º2å’Œindexä¸º6æ—¶æ·»åŠ ç©ºæ ¼</span>
                            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span> || i == <span class="hljs-number">6</span>) {
                                output += <span class="hljs-string">" "</span>
                            }
                        }
                        <span class="hljs-keyword">return</span> TransformedText(AnnotatedString(output), <span class="hljs-keyword">object</span> : OffsetMapping {
                            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">originalToTransformed</span><span class="hljs-params">(offset: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
                                <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
                                    offset &lt; <span class="hljs-number">3</span> -&gt; offset

                                    offset <span class="hljs-keyword">in</span> <span class="hljs-number">3.</span><span class="hljs-number">.6</span> -&gt; offset + <span class="hljs-number">1</span>

                                    offset &gt; <span class="hljs-number">6</span> -&gt; offset + <span class="hljs-number">2</span>

                                    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-number">13</span>
                                }
                            }

                            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">transformedToOriginal</span><span class="hljs-params">(offset: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
                                <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
                                    offset &lt; <span class="hljs-number">4</span> -&gt; offset

                                    offset <span class="hljs-keyword">in</span> <span class="hljs-number">4.</span><span class="hljs-number">.8</span> -&gt; offset - <span class="hljs-number">1</span>

                                    offset &gt; <span class="hljs-number">8</span> -&gt; offset - <span class="hljs-number">2</span>

                                    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-number">11</span>
                                }
                            }
                        })
                    }
                },
                <span class="hljs-comment">// è®¾ç½®æ¸¸æ ‡é¢œè‰²</span>
                cursorBrush = SolidColor(Color(<span class="hljs-number">0xfffe2c55</span>))
            )
        }

        <span class="hljs-keyword">if</span> (curTextStr.isEmpty()) {
            <span class="hljs-comment">// ç©ºè¾“å…¥çš„æ—¶å€™æç¤ºè¾“å…¥æ‰‹æœºå·æ–‡æ¡ˆ</span>
            Row(
                modifier = Modifier.fillMaxSize(),
                verticalAlignment = Alignment.CenterVertically
            ) {
                Spacer(modifier = Modifier.width(<span class="hljs-number">73.33</span>.cdp))
                Text(text = <span class="hljs-string">"è¯·è¾“å…¥æ‰‹æœºå·"</span>, fontSize = <span class="hljs-number">14.</span>csp, color = Color(<span class="hljs-number">0x7fababaf</span>))
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ¸…é™¤è¾“å…¥icon</span>
            Row(
                modifier = Modifier.fillMaxSize(),
                verticalAlignment = Alignment.CenterVertically
            ) {
                Spacer(modifier = Modifier.width(<span class="hljs-number">309.33</span>.cdp))
                Image(
                    modifier = Modifier
                        .size(<span class="hljs-number">18.</span>cdp)
                        .clickable {
                            curTextStr = <span class="hljs-string">""</span>
                            onClearAct()
                        },
                    painter = painterResource(R.drawable.login_clear_input),
                    contentDescription = <span class="hljs-string">""</span>
                )
            }
        }
    }
}
</code></pre>
<p>å‰é¢çš„æ¸¸æ ‡é¢œè‰²ã€æ— è¾“å…¥æ—¶å€™çš„hintå’Œæœ‰è¾“å…¥æ—¶çš„æ¸…é™¤è¾“å…¥æŒ‰é’®éƒ½å¾ˆç®€å•ï¼Œæˆ‘ä»¬é‡ç‚¹ä»‹ç»ä¸‹æ‰‹æœºå·ç çš„ç¬¬3ä½æ•°å­—ã€ç¬¬7ä½æ•°å­—åé¢ä¼šæœ‰ç©ºæ ¼åˆ†éš”å¼€çš„å®ç°ï¼Œä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°è¿™ä¸ªéœ€æ±‚ç‚¹çš„å®ç°ä¸»è¦å’ŒBasicTextFieldçš„visualTransformationå‚æ•°æœ‰å…³ç³»ï¼ŒvisualTransformationå‚æ•°éœ€è¦è¾“å…¥ä¸€ä¸ªVisualTransformationç±»å‹çš„æ¥å£å®ç°ï¼ŒVisualTransformationæ¥å£åªæœ‰ä¸€ä¸ªæ–¹æ³•éœ€è¦å®ç°ï¼Œæ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">filter</span><span class="hljs-params">(text: <span class="hljs-type">AnnotatedString</span>)</span></span>: TransformedText
</code></pre>
<p>filteræ–¹æ³•çš„å…¥å‚textå°±æ˜¯æˆ‘ä»¬è¾“å…¥æ¡†è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå¦å¤–è¿™ä¸ªæ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªTransformedTextç±»å‹å¯¹è±¡ï¼Œé¡¾åæ€ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¿”å›è½¬æ¢åçš„å¯¹è±¡ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹TransformedTextç±»å®šä¹‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TransformedText</span>(
    <span class="hljs-comment">/** The transformed text */</span>
    <span class="hljs-keyword">val</span> text: AnnotatedString,
    
    <span class="hljs-comment">/** The map used for bidirectional offset mapping from original to transformed text. */</span>
    <span class="hljs-keyword">val</span> offsetMapping: OffsetMapping
)
</code></pre>
<p>ä»TransformedTextç±»çš„æ„é€ å‡½æ•°å¾—çŸ¥ï¼Œéœ€è¦ä¸€ä¸ªè½¬æ¢åçš„å­—ç¬¦ä¸²å’Œä¸€ä¸ªOffsetMappingå¯¹è±¡ï¼Œè¿™ä¸ªOffsetMappingå¯¹è±¡éå¸¸é‡è¦æ§åˆ¶å¦‚ä½•ä»åŸå§‹å­—ç¬¦ä¸²è½¬æ¢åˆ°ç›®æ ‡å­—ç¬¦ä¸²ï¼ŒOffsetMappingæ¥å£å†…éƒ¨éœ€è¦å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼Œå…·ä½“çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">OffsetMapping</span> {
<span class="hljs-comment">// ä»åŸå§‹è¾“å…¥æ–‡æ¡ˆåˆ°è½¬æ¢åæ–‡æ¡ˆçš„å­—ç¬¦æŒ‡é’ˆåç§»å€¼ï¼ˆoffsetä¸ºåŸå§‹è¾“å…¥çš„indexï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">originalToTransformed</span><span class="hljs-params">(offset: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
<span class="hljs-comment">// ä»è½¬æ¢åçš„æ–‡æ¡ˆåˆ°åŸå§‹æ–‡æ¡ˆçš„å­—ç¬¦æŒ‡é’ˆåç§»å€¼ï¼ˆoffsetä¸ºè½¬æ¢åæ–‡æ¡ˆçš„indexï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">transformedToOriginal</span><span class="hljs-params">(offset: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
}
</code></pre>
<p>ä»¥è¿™ä¸ªè¾“å…¥æ¡†ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬è¾“å…¥çš„æ‰‹æœºå·ç ä¸º12345678901ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨è¾“å…¥æ‰‹æœºå·ç å­—ç¬¦ä¸²çš„indexä¸º2å’Œindexä¸º6å¤„æ·»åŠ ç©ºæ ¼å­—ç¬¦ï¼Œé‚£ä¹ˆè½¬æ¢åçš„å­—ç¬¦ä¸²å°±æ˜¯123-4567-8901ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿å¤§å®¶ç›´è§‚çœ‹åˆ°å°†ç©ºæ ¼ç¬¦å·æ¢æˆäº†è¿æ¥ç¬¦ï¼Œè¿™ä¸ªè½¬æ¢åçš„textå°±æ˜¯TransformedTextçš„AnnotatedStringå…¥å‚ã€‚è½¬æ¢åçš„å­—ç¬¦ä¸²ä¸º123-4567-8901ï¼Œé‚£ä¹ˆOffsetMappingæ¥å£çš„ä¸¤ä¸ªæ–¹æ³•å®ç°æˆ‘ä»¬ä¹Ÿå°±å¯ä»¥æ€»ç»“å‡ºæ¥äº†ï¼š</p>
<ol>
<li>ä»åŸå§‹è¾“å…¥ï¼ˆ12345678901ï¼‰åˆ°è½¬æ¢åçš„è¾“å…¥ï¼ˆ123-4567-8901ï¼‰æ—¶ï¼ŒåŸå§‹indexå€¼åœ¨[0,2]ä¹‹é—´ï¼ˆå¯¹åº”è¾“å…¥123æ—¶ï¼‰offsetå€¼ä¸å˜ï¼Œè€Œindexå€¼åœ¨[3,6]ä¹‹é—´ï¼ˆå¯¹åº”è¾“å…¥4567æ—¶ï¼‰éœ€è¦å¢åŠ 1ï¼Œindexä»[3,6]ä¹‹é—´åŸå§‹æ–‡æ¡ˆåˆ°è½¬æ¢åæ–‡æ¡ˆå¢åŠ äº†ä¸€ä¸ªç©ºæ ¼ç¬¦å·ï¼Œè€ŒåŸå§‹indexå€¼ä¸º[7,10]ä¹‹é—´ï¼ˆå¯¹åº”è¾“å…¥8901æ—¶ï¼‰åŸå§‹æ–‡æ¡ˆåˆ°è½¬æ¢åæ–‡æ¡ˆå¢åŠ äº†ä¸¤ä¸ªç©ºæ ¼ç¬¦å·ï¼Œå¯¹åº”çš„indexå€¼éœ€è¦åŠ 2</li>
<li>ä»è½¬æ¢åæ–‡æ¡ˆï¼ˆ123-4567-8901ï¼‰åˆ°åŸå§‹æ–‡æ¡ˆï¼ˆ12345678901ï¼‰æ—¶ï¼Œè½¬æ¢åindexå€¼åœ¨[0,3]ä¹‹é—´ï¼ˆå¯¹åº”è½¬æ¢åæ–‡æ¡ˆ123-ï¼‰ä¿æŒä¸å˜ï¼Œåœ¨[4,8]ä¹‹é—´ï¼ˆå¯¹åº”è½¬æ¢åæ–‡æ¡ˆ4567-ï¼‰indexå€¼éœ€è¦å‡1ï¼Œè€Œindexå€¼ä¸º[9,12]ä¹‹é—´ï¼ˆå¯¹åº”è½¬æ¢åæ–‡æ¡ˆ8901ï¼‰çš„éœ€è¦å‡2</li>
</ol>
<p>é€šè¿‡ä¸Šé¢è¿™ç§å­—ç¬¦ä¸²indexçš„åç§»å’Œå­—ç¬¦ä¸²çš„indexæ˜ å°„ï¼Œcomposeè¾“å…¥æ¡†å°±èƒ½å¤Ÿç†è§£åŸå§‹è¾“å…¥å’Œè½¬æ¢åè¾“å…¥çš„indexæ˜ å°„å…³ç³»ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°æ‰‹æœºå·çš„123-4567-8901æ ¼å¼è¾“å…¥ï¼Œé‡ç‚¹è¿˜æ˜¯OffsetMappingæ¥å£çš„ä¸¤ä¸ªæ–¹æ³•çš„ä½œç”¨éœ€è¦æ˜ç™½ã€‚</p>
<h3 data-id="heading-5">2.2 å¯†ç è¾“å…¥æ¡†</h3>
<p>å‰é¢ä»‹ç»äº†æ‰‹æœºå·ç è¾“å…¥æ¡†çš„å®ç°æ–¹å¼ï¼Œå…¶ä¸­é‡ç‚¹ä»‹ç»äº†BasicTextFieldçš„visualTransformationå‚æ•°çš„ä½œç”¨å’Œç”¨æ³•ã€‚ç†è§£äº†å‰é¢çš„visualTransformationå‚æ•°ä¹‹åï¼Œé‚£ä¹ˆå¯†ç çš„è¾“å…¥æ¡†å°±å¾ˆç®€å•äº†ã€‚è¿˜æ˜¯ä»¥å‰é¢çš„æŠ–éŸ³ç™»å½•ç•Œé¢ä¸ºä¾‹å­ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²é»˜è®¤æ˜¾ç¤ºä¸ºæ˜Ÿå·ï¼Œç‚¹å‡»æ˜¾ç¤ºæŒ‰é’®åˆ™å±•ç¤ºè¾“å…¥çš„å¯†ç åŸå§‹å€¼ï¼Œæœªè¾“å…¥å¯†ç çš„æƒ…å†µä¸‹å±•ç¤ºè¾“å…¥æç¤ºï¼Œè¾“å…¥å¯†ç åå±•ç¤ºæ¸…é™¤å¯†ç æŒ‰é’®ã€‚éœ€æ±‚å¾ˆç®€å•ï¼Œä¸åºŸè¯ç›´æ¥çœ‹ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PasswordInputBar</span><span class="hljs-params">(
    password: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>,
    passwordVisibility: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">false</span>,
    onPasswordChangeAct: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span> = {},
    onChangePasswordVisibility: (<span class="hljs-type">Boolean</span>) -&gt; <span class="hljs-type">Unit</span> = {},
    onClearPassword: () -&gt; <span class="hljs-type">Unit</span> = {}
)</span></span> {
    <span class="hljs-comment">// å¯†ç æ˜¯å¦å¯è§æ ‡å¿—ä½</span>
    <span class="hljs-keyword">var</span> isPasswordVisible <span class="hljs-keyword">by</span> remember {
        mutableStateOf(passwordVisibility)
    }

    <span class="hljs-comment">// è¾“å…¥çš„å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">var</span> realInputStr <span class="hljs-keyword">by</span> remember {
        mutableStateOf(password)
    }

    Box(
        modifier = Modifier
            .padding(horizontal = <span class="hljs-number">24.</span>cdp)
            .fillMaxWidth()
            .height(<span class="hljs-number">52.</span>cdp)
            .clip(shape = RoundedCornerShape(<span class="hljs-number">12.</span>cdp))
            .background(Color(<span class="hljs-number">0x337f7f7f</span>))
    ) {
        Row(
            modifier = Modifier.fillMaxSize(),
            verticalAlignment = Alignment.CenterVertically
        ) {
            Spacer(modifier = Modifier.width(<span class="hljs-number">23.</span>cdp))
            Icon(
                modifier = Modifier
                    .size(<span class="hljs-number">18.</span>cdp)
                    .clickable {
                        isPasswordVisible = !isPasswordVisible
                        onChangePasswordVisibility(isPasswordVisible)
                    },
                painter = painterResource(
                    <span class="hljs-keyword">if</span> (isPasswordVisible) {
                        R.drawable.password_preview_open
                    } <span class="hljs-keyword">else</span> {
                        R.drawable.password_preview_close
                    }
                ),
                contentDescription = <span class="hljs-string">""</span>
            )
            Spacer(modifier = Modifier.width(<span class="hljs-number">25.</span>cdp))
            Spacer(
                modifier = Modifier
                    .height(<span class="hljs-number">10.</span>cdp)
                    .width(<span class="hljs-number">0.67</span>.cdp)
                    .background(Color(<span class="hljs-number">0xffababab</span>))
            )
            Spacer(modifier = Modifier.width(<span class="hljs-number">7.</span>cdp))
            BasicTextField(
                modifier = Modifier
                    .wrapContentWidth()
                    .wrapContentHeight(),
                value = realInputStr,
                onValueChange = { pwd -&gt;
                    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> å¯†ç åˆæ³•æ€§æ ¡éªŒ</span>
                    <span class="hljs-keyword">if</span> (pwd.length &lt;= <span class="hljs-number">20</span>) {
                        realInputStr = pwd
                        onPasswordChangeAct(pwd)
                    }
                },
                textStyle = TextStyle(
                    fontSize = TextUnit(<span class="hljs-number">18.</span>csp.value, TextUnitType.Sp),
                    color = Color(<span class="hljs-number">0xff161823</span>)
                ),
                singleLine = <span class="hljs-literal">true</span>,
                keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Password),
                cursorBrush = SolidColor(Color(<span class="hljs-number">0xfffe2c55</span>)),
                visualTransformation = <span class="hljs-keyword">if</span> (!isPasswordVisible) {
                    <span class="hljs-comment">// è¾“å…¥å¯†ç è½¬ä¸ºæ˜Ÿå·</span>
                    PasswordVisualTransformation()
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// å±•ç¤ºè¾“å…¥çš„åŸå§‹å¯†ç </span>
                    VisualTransformation.None
                }
            )
        }

        <span class="hljs-keyword">if</span> (realInputStr.isEmpty()) {
            <span class="hljs-comment">// ç©ºè¾“å…¥æç¤ºè¾“å…¥å¯†ç </span>
            Row(
                modifier = Modifier.fillMaxSize(),
                verticalAlignment = Alignment.CenterVertically
            ) {
                Spacer(modifier = Modifier.width(<span class="hljs-number">73.33</span>.cdp))
                Text(text = <span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span>, fontSize = <span class="hljs-number">14.</span>csp, color = Color(<span class="hljs-number">0x7fababaf</span>))
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æœ‰è¾“å…¥æ—¶å±•ç¤ºæ¸…ç©ºå¯†ç æŒ‰é’®</span>
            Row(
                modifier = Modifier.fillMaxSize(),
                verticalAlignment = Alignment.CenterVertically
            ) {
                Spacer(modifier = Modifier.width(<span class="hljs-number">309.33</span>.cdp))
                Image(
                    modifier = Modifier
                        .size(<span class="hljs-number">18.</span>cdp)
                        .clickable {
                            realInputStr = <span class="hljs-string">""</span>
                            onClearPassword()
                        },
                    painter = painterResource(R.drawable.login_clear_input),
                    contentDescription = <span class="hljs-string">""</span>
                )
            }
        }
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å¯†ç è¾“å…¥æ¡†çš„visualTransformationè·Ÿå¯†ç æ˜¯å¦å¯è§æœ‰å…³ï¼Œå½“æ‰“å¼€äº†å¯†ç é¢„è§ˆæ—¶ï¼ŒvisualTransformationå‚æ•°ä¸ºVisualTransformation.Noneï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºä¸åšä»»ä½•å¤„ç†ï¼Œè€Œå…³é—­å¯†ç é¢„è§ˆæ—¶ï¼ŒvisualTransformationå‚æ•°ä¸ºPasswordVisualTransformationç±»å‹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥æŠŠæˆ‘ä»¬è¾“å…¥çš„å¯†ç æ˜æ–‡è½¬æˆæ˜Ÿå·ã€‚</p>
<h3 data-id="heading-6">2.3 éªŒè¯ç è¾“å…¥æ¡†å®ç°</h3>
<p>è¿˜æ˜¯ä»¥æŸéŸ³çš„ç™»å½•éªŒè¯ç è¾“å…¥æ¡†ä¸ºä¾‹ï¼Œæ‹†è§£ä¸‹éœ€æ±‚ï¼Œé¦–å…ˆæ˜¯æœ‰å››ä¸ªéªŒè¯ç è¾“å…¥æ–¹æ¡†ï¼Œç„¶åè¾“å…¥çš„è¿‡ç¨‹ä¸­æ¸¸æ ‡ä¼šéšç€è¾“å…¥çš„éªŒè¯ç ä½æ•°ç§»åŠ¨ï¼Œå¦å¤–æ¸¸æ ‡ä¼šåœ¨ç•Œé¢å±•ç¤ºçš„æ—¶å€™ä¸€ç›´é—ªçƒã€‚æŸéŸ³éªŒè¯ç è¾“å…¥æ¡†çš„å›¾ç‰‡å¦‚ä¸‹ï¼š</p>
<p align="center">
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5df4e3dc366f4a4b9cbc31a7c07d9042~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeh5bCP54Om:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767715287&amp;x-signature=2oB8vZ%2B5J82LPZ6f8NuZqmSeVU0%3D" alt="xxhdpi_IMG_0376_1.png" width="30%" loading="lazy"/>
</p>
åˆ†æäº†ä¸‹éœ€æ±‚ï¼Œå…¶å®å¯ä»¥ç”¨å››ä¸ªBasicTextFieldè¾“å…¥æ¡†æ¥å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œä½†æ˜¯æ¸¸æ ‡çš„æ§åˆ¶é€»è¾‘ä¼šæ¯”è¾ƒéº»çƒ¦ä¸€äº›ï¼Œä½†æ˜¯ç¥å¥‡çš„BasicTextFieldä¸­æœ‰ä¸ªdecorationBoxå‚æ•°ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªBasicTextFieldè¾“å…¥æ¡†å°±å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹ä»£ç æ€ä¹ˆå®ç°çš„ï¼š
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CaptchaCodeEditor</span><span class="hljs-params">(
    inputCode: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>,
    onCaptchaCodeChange: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span> = {}
)</span></span> {
    <span class="hljs-comment">// å½“å‰è¾“å…¥çš„éªŒè¯ç </span>
    <span class="hljs-keyword">var</span> curCaptchaCode <span class="hljs-keyword">by</span> remember {
        mutableStateOf(inputCode)
    }
    
    <span class="hljs-comment">// è¾“å…¥æ¡†ç„¦ç‚¹å’Œé”®ç›˜å¤„ç†</span>
    <span class="hljs-keyword">val</span> focusRequester = remember {
        FocusRequester()
    }

    <span class="hljs-keyword">val</span> softKeyBoard = LocalSoftwareKeyboardController.current

    LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
        delay(<span class="hljs-number">100</span>)
        focusRequester.requestFocus()
        softKeyBoard?.show()
    }

    BasicTextField(
        modifier = Modifier
            .padding(horizontal = <span class="hljs-number">24.</span>cdp)
            .fillMaxWidth()
            .height(<span class="hljs-number">65.</span>cdp)
            .focusRequester(focusRequester),
        value = curCaptchaCode,
        onValueChange = { code -&gt;
            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> éªŒè¯ç è¾“å…¥ç±»å‹æ ¡éªŒ</span>
            <span class="hljs-keyword">if</span> (code.length &lt;= <span class="hljs-number">4</span>) {
                curCaptchaCode = code
                onCaptchaCodeChange(code)
            }
        },
        singleLine = <span class="hljs-literal">true</span>,
        textStyle = TextStyle(
            color = Color(<span class="hljs-number">0xff161823</span>),
            fontSize = <span class="hljs-number">20.</span>csp,
            fontWeight = FontWeight.Bold
        ),
        keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.NumberPassword),
        cursorBrush = SolidColor(Color(<span class="hljs-number">0xfffe2c55</span>)),
        decorationBox = { innerTextField -&gt;
            <span class="hljs-comment">// é‡ç‚¹åœ¨è¿™é‡Œï¼Œè¾“å…¥æ¡†ä¸­æœ‰å››ä¸ªé‡å¤CodeBoxç»„ä»¶</span>
            Row(
                modifier = Modifier.fillMaxSize(),
                horizontalArrangement = Arrangement.SpaceBetween
            ) {
                repeat(<span class="hljs-number">4</span>) {
                    <span class="hljs-keyword">val</span> curChar = <span class="hljs-keyword">if</span> (it <span class="hljs-keyword">in</span> <span class="hljs-number">0.</span>.curCaptchaCode.lastIndex) {
                        curCaptchaCode[it].toString()
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-string">""</span>
                    }
                    CodeBox(curChar, it == curCaptchaCode.lastIndex + <span class="hljs-number">1</span>)
                }
            }
        }
    )
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CodeBox</span><span class="hljs-params">(singleCode: <span class="hljs-type">String</span>, isShowCursor: <span class="hljs-type">Boolean</span>)</span></span> {
    <span class="hljs-comment">// å½“å‰æ¸¸æ ‡æ˜¯å¦å¯è§æ ‡å¿—ä½</span>
    <span class="hljs-keyword">var</span> cursorVisible <span class="hljs-keyword">by</span> remember {
        mutableStateOf(<span class="hljs-literal">false</span>)
    }

    LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            cursorVisible = !cursorVisible
            delay(<span class="hljs-number">500</span>)
        }
    }

    Row(
        modifier = Modifier
            .size(<span class="hljs-number">65.</span>cdp)
            .clip(shape = RoundedCornerShape(<span class="hljs-number">10.</span>cdp))
            .background(Color(<span class="hljs-number">0x337f7f7f</span>)),
        verticalAlignment = Alignment.CenterVertically,
        horizontalArrangement = Arrangement.Center
    ) {
        Text(
            text = singleCode,
            fontSize = <span class="hljs-number">20.</span>csp,
            color = Color(<span class="hljs-number">0xff161823</span>)
        )
        <span class="hljs-keyword">if</span> (isShowCursor &amp;&amp; cursorVisible) {
            <span class="hljs-comment">// å±•ç¤ºæ¸¸æ ‡</span>
            Spacer(
                modifier = Modifier
                    .width(<span class="hljs-number">3.</span>cdp)
                    .height(<span class="hljs-number">20.</span>cdp)
                    .background(Color(<span class="hljs-number">0xfffe2c55</span>))
            )
        }
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡decorationBoxè®¾ç½®å››ä¸ªé‡å¤çš„CodeBoxç»„ä»¶å°±å¯ä»¥å®ç°éªŒè¯ç è¾“å…¥æ¡†äº†ï¼ŒCodeBoxä¸­æ ¹æ®ä¼ å…¥çš„isShowCursorå’Œå½“å‰æ¸¸æ ‡æ˜¯å¦å¯è§çš„æ ‡å¿—ä½è¿›è¡Œæ¸¸æ ‡çš„æ˜¾ç¤ºå’Œéšè—ï¼Œæ˜¯ä¸æ˜¯å®ç°èµ·æ¥å¾ˆç®€å•ï¼Œcomposeçš„å®ç°å°±æ˜¯è¿™ä¹ˆçš„é«˜æ•ˆï¼Œå¦‚æœæ˜¯ä¼ ç»Ÿçš„viewæ¥å®ç°è¿™ä¸ªå¯èƒ½éœ€è¦ä¾èµ–è‡ªå®šviewäº†ã€‚è€Œä¸”è¿™ä¸ªéªŒè¯ç è¾“å…¥æ¡†æ‰©å±•å¾ˆç®€å•ï¼Œæ¯”å¦‚è¦å®ç°6ä½çš„éªŒè¯ç ï¼Œåªéœ€è¦æŠŠCodeBoxé‡å¤çš„æ¬¡æ•°ä¿®æ”¹ä¸€ä¸‹å³å¯ï¼ŒåŒ…æ‹¬CodeBoxçš„æ ·å¼ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹æˆä¸‹åˆ’çº¿ç­‰å½¢å¼ã€‚</p>
<h2 data-id="heading-7">3 æ€»ç»“</h2>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†BasicTextFieldçš„å¸¸ç”¨å‚æ•°çš„ä½¿ç”¨ï¼Œå¹¶ç»“åˆå®é™…å¼€å‘ä¸­å¸¸ç”¨åˆ°çš„æƒ…å½¢ä¸ºä¾‹ï¼Œä»¥è¾“å…¥æ‰‹æœºå·å’Œç™»å½•å¯†ç ä¸ºä¾‹é‡ç‚¹ä»‹ç»äº†visualTransformationçš„ä½¿ç”¨æ–¹æ³•å’Œå‚æ•°å®ç°ï¼Œç„¶ååœ¨2.3èŠ‚ä»‹ç»äº†éªŒè¯ç è¾“å…¥æ¡†çš„å®ç°ã€‚è™½ç„¶ä¸€å…±å°±ä¸‰ä¸ªä¾‹å­ï¼Œä½†æ˜¯èƒ½å¤Ÿè¦†ç›–æ—¥å¸¸å¼€å‘çš„å¤§éƒ¨åˆ†åœºæ™¯äº†ã€‚å°¤å…¶æ˜¯æ‰‹æœºå·çš„è¾“å…¥ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸æ€•æˆ‘è¢«äº§å“è¦å‘½çš„å°ç»†èŠ‚æŠ˜ç£¨äº†ã€‚å¦å¤–æœ¬æ–‡åœ¨ä»‹ç»éªŒè¯ç è¾“å…¥æ¡†çš„å®ç°æ—¶ï¼Œé¡ºå¸¦ç®€å•æ³¨é‡Šäº†ä¸€ä¸‹è¾“å…¥æ¡†çš„ç„¦ç‚¹å’Œé”®ç›˜å¼¹å‡ºå¤„ç†ï¼Œç›¸ä¿¡çœ¼å°–çš„è¯»è€…æ—©å°±å‘ç°äº†æˆ‘å¤¹å¸¦çš„ç§æ´»äº†ï¼Œå“ˆå“ˆã€‚ç›¸ä¿¡è®¤çœŸçœ‹å®Œè¿™ç¯‡æ–‡ç« çš„ä½ ï¼Œå†ä¹Ÿä¸æ€•è¾“å…¥æ¡†éœ€æ±‚äº†ï¼Œæ¯•ç«Ÿä½ å·²ç»æ°æ°è¿›åŒ–æˆäº†å¤å¸Œè…ŠæŒç®¡composeè¾“å…¥æ¡†çš„ç¥äº†ï¼ï¼ï¼</p>
<p>å¦å¤–è¿™ä¸ªä¸“æ å‡†å¤‡ä¸å®šæ—¶æ›´æ–°ä¸€äº›composeç›¸å…³çš„æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶å¸¸è¿‡æ¥çœ‹çœ‹ã€‚åˆ›ä½œä¸æ˜“ï¼Œä¸€é”®ä¸‰è¿èµ°èµ·ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…­åä¹ã€Bootstrapé‡‡æ ·åœ¨å¤§æ¨¡å‹è¯„ä¼°ä¸­çš„åº”ç”¨ï¼šä»ç½®ä¿¡åŒºé—´åˆ°æ¨¡å‹ç¨³å®šæ€§]]></title>    <link>https://juejin.cn/post/7589477341766516782</link>    <guid>https://juejin.cn/post/7589477341766516782</guid>    <pubDate>2025-12-31T00:21:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589477341766516782" data-draft-id="7588376012120801307" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…­åä¹ã€Bootstrapé‡‡æ ·åœ¨å¤§æ¨¡å‹è¯„ä¼°ä¸­çš„åº”ç”¨ï¼šä»ç½®ä¿¡åŒºé—´åˆ°æ¨¡å‹ç¨³å®šæ€§"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python,LLM"/> <meta itemprop="datePublished" content="2025-12-31T00:21:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½¼å²¸èŠ±å¼€äº†å—"/> <meta itemprop="url" content="https://juejin.cn/user/4153315734334538"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…­åä¹ã€Bootstrapé‡‡æ ·åœ¨å¤§æ¨¡å‹è¯„ä¼°ä¸­çš„åº”ç”¨ï¼šä»ç½®ä¿¡åŒºé—´åˆ°æ¨¡å‹ç¨³å®šæ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4153315734334538/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½¼å²¸èŠ±å¼€äº†å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:21:36.000Z" title="Wed Dec 31 2025 00:21:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€. å¼•è¨€</h2>
<p>åœ¨æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šå°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œç”¨æµ‹è¯•é›†æ¥è¯„ä¼°æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå•æ¬¡åˆ’åˆ†çš„æµ‹è¯•é›†å¯èƒ½ä¸èƒ½å®Œå…¨ä»£è¡¨æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„è¡¨ç°ï¼Œç‰¹åˆ«æ˜¯å½“æ•°æ®é›†è¾ƒå°çš„æ—¶å€™ã€‚Bootstrapé‡‡æ ·æ˜¯ä¸€ç§å¼ºå¤§çš„ç»Ÿè®¡æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡é‡é‡‡æ ·æ¥ä¼°è®¡ç»Ÿè®¡é‡çš„åˆ†å¸ƒï¼Œä»è€Œæ›´ç¨³å¥åœ°è¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡ä»åŸå§‹æ•°æ®é›†ä¸­éšæœºæŠ½å–nä¸ªæ ·æœ¬ï¼ˆå…è®¸é‡å¤æŠ½å–ï¼‰å½¢æˆä¸€ä¸ªæ–°çš„æ•°æ®é›†ï¼Œç§°ä¸ºBootstrapæ ·æœ¬ï¼Œç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºè¿™äº›Bootstrapæ ·æœ¬è®¡ç®—ç»Ÿè®¡é‡ï¼ˆå¦‚å‡å€¼ã€æ ‡å‡†å·®ç­‰ï¼‰çš„åˆ†å¸ƒã€‚</p>
<p>åŒæ—¶ï¼Œéšç€å¤§æ¨¡å‹ï¼ˆå¦‚æ·±åº¦ç¥ç»ç½‘ç»œï¼‰çš„å…´èµ·ï¼Œæ¨¡å‹çš„ä¸ç¡®å®šæ€§è¯„ä¼°å’Œæ€§èƒ½ç¨³å¥æ€§å˜å¾—å°¤ä¸ºé‡è¦ã€‚Bootstrapé‡‡æ ·å¯ä»¥ä¸å¤§æ¨¡å‹ç»“åˆï¼Œç”¨äºè®¡ç®—æ¨¡å‹æ€§èƒ½çš„ç½®ä¿¡åŒºé—´ã€æ¨¡å‹é›†æˆç­‰ï¼Œä»è€Œæä¾›æ›´å¯é çš„æ¨¡å‹è¯„ä¼°ã€‚</p>
<p>æœ¬æ–‡å°†ä»Bootstrapé‡‡æ ·çš„åŸºæœ¬æ¦‚å¿µå…¥æ‰‹ï¼Œç”±æµ…å…¥æ·±åœ°ä»‹ç»å¦‚ä½•å°†Bootstrapé‡‡æ ·ä¸å¤§æ¨¡å‹ç»“åˆä½¿ç”¨ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä»£ç ç¤ºä¾‹å±•ç¤ºå®é™…åº”ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9019e0445e6d4229ba6552a8fafdf38a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=MREWc0VwoMZr6PnReOW4uNceqIs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯Bootstrapé‡‡æ ·</h2>
<p>Bootstrapé‡‡æ ·æ˜¯ä¸€ç§ç»Ÿè®¡å­¦æ–¹æ³•ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œä»¥å°è§å¤§ï¼Œé€šè¿‡æ¨¡æ‹Ÿé€¼è¿‘çœŸå®â€ï¼Œå³åœ¨åªæœ‰ä¸€ä»½æ ·æœ¬çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¯¹åŸå§‹æ•°æ®é›†è¿›è¡Œæœ‰æ”¾å›çš„éšæœºæŠ½æ ·ï¼Œè¿™ä¸ªè¿‡ç¨‹é‡å¤å¤šæ¬¡ï¼Œä»è€Œå¾—åˆ°å¤šä¸ªBootstrapæ ·æœ¬ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºè¿™äº›Bootstrapæ ·æœ¬ä¼°è®¡ç»Ÿè®¡é‡ï¼ˆå¦‚å‡å€¼ã€æ–¹å·®ã€ä¸­ä½æ•°ç­‰ï¼‰çš„æŠ½æ ·åˆ†å¸ƒã€‚è¿™ç§æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºå°æ ·æœ¬æ•°æ®é›†ï¼Œèƒ½å¤Ÿæœ‰æ•ˆä¼°è®¡ç»Ÿè®¡é‡çš„åˆ†å¸ƒå’Œä¸ç¡®å®šæ€§ã€‚</p>
<p><strong>Bootstrapé‡‡æ ·çš„æ­¥éª¤ï¼š</strong></p>
<ul>
<li>1. ä»åŸå§‹æ•°æ®é›†ä¸­éšæœºæŠ½å–ä¸€ä¸ªæ ·æœ¬ï¼Œå¹¶è®°å½•ã€‚</li>
<li>2. å°†è¯¥æ ·æœ¬æ”¾å›åŸå§‹æ•°æ®é›†ï¼Œä½¿å¾—ä¸‹æ¬¡æŠ½æ ·æ—¶è¯¥æ ·æœ¬ä»æœ‰å¯èƒ½è¢«æŠ½åˆ°ã€‚</li>
<li>3. é‡å¤æ­¥éª¤1å’Œ2ï¼Œç›´åˆ°æŠ½å–çš„æ ·æœ¬æ•°é‡è¾¾åˆ°åŸå§‹æ•°æ®é›†çš„æ ·æœ¬æ•°nã€‚è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªBootstrapæ ·æœ¬ã€‚</li>
<li>4. é‡å¤ä¸Šè¿°è¿‡ç¨‹Bæ¬¡ï¼ˆä¾‹å¦‚B=1000ï¼‰ï¼Œå¾—åˆ°Bä¸ªBootstrapæ ·æœ¬ã€‚</li>
</ul>
<p>æ¯ä¸ªBootstrapæ ·æœ¬ä¸åŸå§‹æ•°æ®é›†çš„å¤§å°ç›¸åŒï¼Œä½†ç”±äºæ˜¯æœ‰æ”¾å›æŠ½æ ·ï¼Œæ¯ä¸ªBootstrapæ ·æœ¬ä¸­æœ‰äº›æ ·æœ¬ä¼šå‡ºç°å¤šæ¬¡ï¼Œè€Œæœ‰äº›æ ·æœ¬åˆ™ä¸ä¼šå‡ºç°ã€‚</p>
<p><strong>é€šä¿—çš„è§£é‡Šï¼š</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè£…æœ‰ N ä¸ªçƒçš„è¢‹å­ï¼ˆæ€»ä½“ï¼‰ï¼Œä½†æˆ‘ä»¬ä¸èƒ½çœ‹åˆ°é‡Œé¢æ‰€æœ‰çš„çƒï¼Œåªè¢«å…è®¸ä¼¸æ‰‹è¿›å»éšæœºæŠ“å–ä¸€æ¬¡ï¼Œå¾—åˆ°äº†ä¸€ä¸ªåŒ…å« n ä¸ªçƒçš„æ ·æœ¬ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“æŠ“åˆ°çš„è¿™äº›çƒçš„å¹³å‡é‡é‡ï¼ˆæ ·æœ¬å‡å€¼ï¼‰ç¦»æ‰€æœ‰çƒçš„çœŸå®å¹³å‡é‡é‡ï¼ˆæ€»ä½“å‡å€¼ï¼‰æœ‰å¤šè¿œã€‚</p>
<p>ä¼ ç»Ÿæ–¹æ³•éœ€è¦çŸ¥é“æ€»ä½“çš„åˆ†å¸ƒæˆ–è€…ä¾é ä¸€äº›å…¶ä»–æ–¹å¼ã€‚ä½† Bootstrap æä¾›äº†ä¸€ä¸ªå·§å¦™çš„æ€è·¯ï¼š</p>
<ul>
<li>æŠŠæ•´ä¸ªè¢‹å­çš„çƒå½“ä½œåŸå§‹æ ·æœ¬çœ‹ä½œæ˜¯ä¸€ä¸ªæ€»ä½“ï¼Œç„¶åæˆ‘ä»¬ä»è¿™ä¸ªæ€»ä½“ä¸­ï¼Œè¿›è¡Œæœ‰æ”¾å›åœ°éšæœºæŠ½æ ·</li>
<li>æ¯æ¬¡ä¹ŸæŠ½å– n ä¸ªçƒï¼Œç”±äºæ˜¯æœ‰æ”¾å›çš„ï¼Œæˆ‘ä»¬æŠ½åˆ°çš„çƒå¯èƒ½æœ‰äº›æ˜¯é‡å¤çš„ï¼Œæœ‰äº›åˆ™æ²¡è¢«æŠ½åˆ°ï¼›</li>
<li>è¿™æ ·é‡å¤è¿™ä¸ªè¿‡ç¨‹æˆç™¾ä¸Šåƒæ¬¡ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å¾ˆå¤šä¸ªæ–°æ ·æœ¬ï¼ˆBootstrap æ ·æœ¬ï¼‰ï¼›</li>
<li>é€šè¿‡è®¡ç®—æ¯ä¸ªæ–°æ ·æœ¬çš„ç»Ÿè®¡é‡ï¼ˆå¦‚å‡å€¼ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„å»ºå‡ºè¿™ä¸ªç»Ÿè®¡é‡çš„ä¸€ä¸ªç»éªŒåˆ†å¸ƒï¼›</li>
<li>è¿™ä¸ªåˆ†å¸ƒå°±è¿‘ä¼¼äºè¯¥ç»Ÿè®¡é‡åœ¨çœŸå®æ€»ä½“ä¸­çš„æŠ½æ ·åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªåˆ†å¸ƒæ¥è®¡ç®—æ ‡å‡†è¯¯ã€ç½®ä¿¡åŒºé—´ç­‰ã€‚</li>
</ul>
<p><strong>å…·ä½“é‡‡æ ·æ“ä½œè¿‡ç¨‹ï¼š</strong></p>
<p>å‡è®¾è£…æœ‰ä¸ªNä¸ªçƒçš„è¢‹å­æ˜¯ä¸€ä¸ªåŸå§‹æ•°æ®é›†ï¼Œæ¯”å¦‚åŸå§‹æ•°æ® = [æ•°æ®1, æ•°æ®2, æ•°æ®3, ..., æ•°æ®n]ï¼Œé‡Œé¢åŒ…å«äº† n ä¸ªæ•°æ®ç‚¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å»äº†è§£ä»è¿™ä¸ªæ•°æ®è®¡ç®—å‡ºçš„æŸä¸ªç»Ÿè®¡é‡ï¼ˆæ¯”å¦‚å¹³å‡å€¼ï¼‰çš„å¯é ç¨‹åº¦ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æˆ‘ä»¬çš„â€œæ€»ä½“â€</strong></p>
<ul>
<li>æŠŠæ‰‹ä¸­å”¯ä¸€çš„è¿™ä¸ªåŸå§‹æ ·æœ¬ï¼Œæƒ³è±¡æˆå®ƒå°±æ˜¯æ•´ä¸ªæ€»ä½“ï¼Œè¿™æ˜¯æ‰€æœ‰å·¥ä½œçš„åŸºç¡€ã€‚</li>
</ul>
<p><strong>ç¬¬äºŒæ­¥ï¼šæœ‰æ”¾å›åœ°æŠ½å–ä¸€ä¸ªæ–°æ ·æœ¬</strong></p>
<ul>
<li>ä»è¿™ä¸ªâ€œæ€»ä½“â€å³è¿™ä»½åŸå§‹æ ·æœ¬ä¸­ï¼Œè¿›è¡Œæœ‰æ”¾å›çš„éšæœºæŠ½æ ·ã€‚</li>
<li>å…·ä½“æ“ä½œï¼šåƒæŠ½å¥–ä¸€æ ·ï¼Œä»åŸå§‹æ•°æ®ä¸­éšæœºæŠ“å–ä¸€ä¸ªæ•°æ®ï¼Œè®°å½•ä¸‹å®ƒï¼Œç„¶åæŠŠå®ƒæ”¾å›å»ã€‚å†éšæœºæŠ“å–ä¸€ä¸ªï¼Œè®°å½•ï¼Œå†æ”¾å›... å¦‚æ­¤é‡å¤ n æ¬¡ã€‚</li>
<li>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ç¬¬ä¸€ä¸ª Bootstrap æ ·æœ¬ã€‚</li>
<li>é‡è¦ç‰¹å¾ï¼šç”±äºæ˜¯æ”¾å›çš„ï¼Œè¿™ä¸ªæ–°æ ·æœ¬é‡Œï¼Œæœ‰äº›åŸå§‹æ•°æ®ä¼šè¢«æŠ½åˆ°å¤šæ¬¡ï¼Œæœ‰äº›åˆ™ä¸€æ¬¡ä¹ŸæŠ½ä¸åˆ°ã€‚</li>
</ul>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—æ–°æ ·æœ¬çš„ç»Ÿè®¡é‡</strong></p>
<ul>
<li>å¯¹åˆšç”Ÿæˆçš„è¿™ä¸ª Bootstrap æ ·æœ¬ï¼Œè®¡ç®—æˆ‘ä»¬å…³å¿ƒçš„é‚£ä¸ªç»Ÿè®¡é‡ï¼Œæ¯”å¦‚è®¡ç®—å®ƒçš„å¹³å‡å€¼ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªè®¡ç®—å‡ºçš„å€¼è®°ä½œ Bootstrapå¹³å‡å€¼1ã€‚</li>
</ul>
<p><strong>ç¬¬å››æ­¥ï¼šé‡å¤ä¸Šè¿°è¿‡ç¨‹æˆç™¾ä¸Šåƒæ¬¡</strong></p>
<ul>
<li>å°†ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥é‡å¤æ‰§è¡Œå¾ˆå¤šæ¬¡ï¼Œæ¯”å¦‚ B = 1000 æ¬¡ã€‚</li>
<li>è¿™æ ·æˆ‘ä»¬å°±ä¼šå¾—åˆ° 1000 ä¸ª Bootstrap æ ·æœ¬ï¼Œå¹¶å¯¹åº”è®¡ç®—å‡º 1000 ä¸ª Bootstrap ç»Ÿè®¡é‡ï¼ˆä¾‹å¦‚ï¼š[Bootstrapå¹³å‡å€¼1, Bootstrapå¹³å‡å€¼2, ..., Bootstrapå¹³å‡å€¼1000]ï¼‰ã€‚</li>
</ul>
<p><strong>ç¬¬äº”æ­¥ï¼šåˆ©ç”¨è¿™å †â€œå‰¯æœ¬â€ç»Ÿè®¡é‡è¿›è¡Œåˆ†æ</strong></p>
<ul>
<li>ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº† 1000 ä¸ªç»Ÿè®¡é‡ï¼ˆä¾‹å¦‚ 1000 ä¸ªå¹³å‡å€¼ï¼‰ï¼Œå®ƒä»¬å½¢æˆäº†ä¸€ä¸ªåˆ†å¸ƒï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Bootstrap åˆ†å¸ƒã€‚è¿™ä¸ªåˆ†å¸ƒå¯ä»¥ç”¨æ¥ä¼°è®¡çœŸå®ä¸–ç•Œä¸­çš„æŠ½æ · variabilityï¼ˆæ³¢åŠ¨æ€§ï¼‰ã€‚</li>
<li>ä¼°è®¡<strong>æ ‡å‡†è¯¯</strong>ï¼ˆæ³¢åŠ¨å¤§å°ï¼‰ï¼š
<ul>
<li>ç›´æ¥è®¡ç®—è¿™ 1000 ä¸ª Bootstrap å¹³å‡å€¼çš„æ ‡å‡†å·®ã€‚è¿™ä¸ªæ ‡å‡†å·®å°±æ˜¯åŸå§‹æ ·æœ¬å¹³å‡å€¼çš„æ ‡å‡†è¯¯çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¼°è®¡ã€‚</li>
<li>æ ‡å‡†è¯¯çš„ä¼°è®¡å€¼ = æ‰€æœ‰Bootstrapå¹³å‡å€¼çš„æ ‡å‡†å·®</li>
</ul>
</li>
<li>æ„å»º<strong>ç½®ä¿¡åŒºé—´</strong>ï¼ˆä¸€ä¸ªå¯èƒ½çš„å€¼èŒƒå›´ï¼‰ï¼š
<ul>
<li>ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç™¾åˆ†ä½æ•°æ³•ã€‚</li>
<li>å°†åˆšæ‰çš„ 1000 ä¸ª Bootstrap å¹³å‡å€¼ä»å°åˆ°å¤§æ’åºã€‚</li>
<li>æ‰¾ä¸€ä¸ª 95% çš„ç½®ä¿¡åŒºé—´ï¼š
<ul>
<li>ä¸‹é™ï¼šæ’åœ¨ç¬¬ 25 ä½ï¼ˆ1000 * 2.5%ï¼‰çš„é‚£ä¸ªå€¼ã€‚</li>
<li>ä¸Šé™ï¼šæ’åœ¨ç¬¬ 975 ä½ï¼ˆ1000 * 97.5%ï¼‰çš„é‚£ä¸ªå€¼ã€‚</li>
</ul>
</li>
<li>è¿™ä¸¤ä¸ªå€¼å°±æ„æˆäº†å¹³å‡å€¼çš„ä¸€ä¸ª 95% ç½®ä¿¡åŒºé—´ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç”¨ä¸€ä¸ªæ•°ç»„ç¤ºä¾‹æ¥æ‰§è¡Œä»¥ä¸Šæ­¥éª¤ï¼š</strong></p>
<blockquote>
<p><strong>åŸå§‹æ•°æ®ï¼š[3, 5, 7, 9, 11] (n=5)<br/>
åŸå§‹å¹³å‡å€¼ï¼š(3+5+7+9+11)/5 = 7</strong></p>
<p>1. ç¬¬ä¸€æ¬¡BootstrapæŠ½æ ·ï¼šå¯èƒ½æŠ½åˆ° [5, 7, 3, 9, 5]</p>
<ul>
<li>è®¡ç®— Bootstrapå¹³å‡å€¼1ï¼š(5+7+3+9+5)/5 = 5.8</li>
</ul>
<p>2. ç¬¬äºŒæ¬¡BootstrapæŠ½æ ·ï¼šå¯èƒ½æŠ½åˆ° [11, 3, 7, 7, 9]</p>
<ul>
<li>è®¡ç®— Bootstrapå¹³å‡å€¼2ï¼š(11+3+7+7+9)/5 = 7.4</li>
</ul>
<p>3. ç¬¬ä¸‰æ¬¡BootstrapæŠ½æ ·ï¼šå¯èƒ½æŠ½åˆ° [9, 11, 11, 3, 7]</p>
<ul>
<li>è®¡ç®— Bootstrapå¹³å‡å€¼3ï¼š(9+11+11+3+7)/5 = 8.2</li>
</ul>
<p>... é‡å¤ç›´åˆ°1000æ¬¡ã€‚</p>
<p><strong>åˆ†æï¼š</strong></p>
<ul>
<li>æœ€åæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªåŒ…å« 1000 ä¸ªæ•°å­—çš„åˆ—è¡¨ï¼š[5.8, 7.4, 8.2, ...]ã€‚</li>
<li>è®¡ç®—è¿™ä¸ªåˆ—è¡¨çš„æ ‡å‡†å·®ï¼Œå‡è®¾æ˜¯ 1.2ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´ï¼ŒåŸå§‹å¹³å‡å€¼ 7 çš„æ ‡å‡†è¯¯å¤§çº¦ä¸º 1.2ã€‚</li>
<li>å°†è¿™ä¸ªåˆ—è¡¨æ’åºåï¼Œæ‰¾åˆ°ç¬¬25ä¸ªæ•°ï¼ˆæ¯”å¦‚ 4.5ï¼‰å’Œç¬¬975ä¸ªæ•°ï¼ˆæ¯”å¦‚ 9.5ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´â€œæˆ‘ä»¬æœ‰95%çš„æŠŠæ¡è®¤ä¸ºæ€»ä½“å¹³å‡å€¼åœ¨ 4.5 åˆ° 9.5 ä¹‹é—´â€ã€‚</li>
</ul>
</blockquote>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒBootstrap é‡‡æ ·ä»…åˆ©ç”¨æˆ‘ä»¬æ‰‹å¤´çš„ä¸€ä»½æ ·æœ¬ï¼Œå°±é€šè¿‡è‡ªåŠ›æ›´ç”Ÿçš„æ–¹å¼ï¼Œæ¨¡æ‹Ÿå‡ºäº†å¤šæ¬¡æŠ½æ ·å®éªŒï¼Œä¹Ÿè®©æˆ‘ä»¬å¯¹Bootstrap é‡‡æ ·æœ‰äº†æ¸…æ™°çš„è®¤è¯†ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€Bootstrapé‡‡æ ·çš„ä¼˜ç¼ºç‚¹</h2>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æ— éœ€åˆ†å¸ƒå‡è®¾ï¼šä¸ä¾èµ–äºæ€»ä½“åˆ†å¸ƒçš„å…·ä½“å½¢å¼ï¼Œæ˜¯ä¸€ç§éå‚æ•°æ–¹æ³•ã€‚</li>
<li>ç®€å•æ˜“è¡Œï¼šåªéœ€åŸå§‹æ ·æœ¬ï¼Œé€šè¿‡é‡é‡‡æ ·å³å¯å®ç°ã€‚</li>
<li>é€‚ç”¨äºå°æ ·æœ¬ï¼šåœ¨å°æ ·æœ¬æƒ…å†µä¸‹ï¼ŒBootstrapæ–¹æ³•å¾€å¾€æ¯”ä¼ ç»Ÿæ–¹æ³•æ›´å¯é ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>è®¡ç®—é‡å¤§ï¼šéœ€è¦ç”Ÿæˆå¤§é‡Bootstrapæ ·æœ¬å¹¶è®¡ç®—ç»Ÿè®¡é‡ï¼Œå¯¹è®¡ç®—èµ„æºè¦æ±‚è¾ƒé«˜ã€‚</li>
<li>å¯¹åŸå§‹æ ·æœ¬çš„ä¾èµ–æ€§ï¼šå¦‚æœåŸå§‹æ ·æœ¬ä¸èƒ½å¾ˆå¥½åœ°ä»£è¡¨æ€»ä½“ï¼ŒBootstrapç»“æœä¹Ÿä¼šæœ‰åå·®ã€‚</li>
<li>ä¸é€‚ç”¨äºæ‰€æœ‰ç»Ÿè®¡é‡ï¼šå¯¹äºæŸäº›ç»Ÿè®¡é‡ï¼ˆå¦‚æå€¼ï¼‰ï¼ŒBootstrapæ–¹æ³•å¯èƒ½æ•ˆæœä¸ä½³ã€‚</li>
</ul>
<h2 data-id="heading-3">å››ã€Bootstrapåœ¨å¤§æ¨¡å‹çš„ä½œç”¨</h2>
<ul>
<li>ä¸ç¡®å®šæ€§é‡åŒ–ï¼šè¯„ä¼°æ¨¡å‹é¢„æµ‹çš„ç½®ä¿¡åº¦</li>
<li>æ¨¡å‹ç¨³å®šæ€§ï¼šæ£€æµ‹æ¨¡å‹å¯¹æ•°æ®æ‰°åŠ¨çš„æ•æ„Ÿæ€§</li>
<li>æ€§èƒ½è¯„ä¼°ï¼šæ›´å‡†ç¡®åœ°ä¼°è®¡æ¨¡å‹æ³›åŒ–èƒ½åŠ›</li>
<li>é›†æˆå­¦ä¹ ï¼šé€šè¿‡å¤šä¸ªbootstrapæ ·æœ¬è®­ç»ƒå¤šä¸ªæ¨¡å‹ï¼Œæå‡æ•´ä½“æ€§èƒ½</li>
</ul>
<h2 data-id="heading-4">äº”. Bootstrapçš„åº”ç”¨åœºæ™¯</h2>
<p>Bootstrap çš„åº”ç”¨æå…¶å¹¿æ³›ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>ä¼°è®¡æ ‡å‡†è¯¯å’Œç½®ä¿¡åŒºé—´ï¼šå¯¹äºä»»ä½•å¤æ‚çš„ç»Ÿè®¡é‡ï¼ˆå¦‚ä¸­ä½æ•°ã€ç›¸å…³ç³»æ•°ã€å›å½’ç³»æ•°ã€æœºå™¨å­¦ä¹ æ¨¡å‹çš„é¢„æµ‹ç²¾åº¦ç­‰ï¼‰ã€‚</li>
<li>åå·®ä¼°è®¡ï¼šæ¯”è¾ƒ Bootstrap ç»Ÿè®¡é‡çš„å‡å€¼ä¸åŸå§‹ç»Ÿè®¡é‡ï¼Œå¯ä»¥ä¼°è®¡ç»Ÿè®¡é‡çš„åå·®ã€‚</li>
<li>å‡è®¾æ£€éªŒï¼šé€šè¿‡ Bootstrap æ–¹æ³•æ¨¡æ‹Ÿé›¶å‡è®¾ä¸‹çš„æ•°æ®åˆ†å¸ƒï¼Œè®¡ç®— p-valueã€‚</li>
<li>æœºå™¨å­¦ä¹ ï¼šè‘—åçš„ Baggingç®—æ³•å°±æ˜¯åŸºäº Bootstrap é‡‡æ ·æ¥é™ä½æ¨¡å‹æ–¹å·®ï¼Œä¾‹å¦‚éšæœºæ£®æ—ã€‚</li>
</ul>
<h2 data-id="heading-5">å…­ã€Bootstrapé‡‡æ ·åˆ†æ­¥è®¡ç®—ç¤ºä¾‹</h2>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„Bootstrapé‡‡æ ·ç¤ºä¾‹ï¼Œå¹¶å¯è§†åŒ–å…¶è¿‡ç¨‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ•°æ®é›†ï¼Œå¹¶å±•ç¤ºBootstrapé‡‡æ ·çš„å¤šä¸ªæ ·æœ¬ï¼Œä»¥åŠå¦‚ä½•ç”¨è¿™äº›æ ·æœ¬ä¼°è®¡ç»Ÿè®¡é‡çš„åˆ†å¸ƒã€‚</p>
<p><strong>æ‰§è¡Œæ­¥éª¤ï¼š</strong></p>
<ul>
<li>1. ç”Ÿæˆä¸€ä¸ªåŸå§‹æ•°æ®é›†ï¼ˆå‡è®¾æ˜¯ä»æŸä¸ªæ€»ä½“ä¸­æŠ½å–çš„æ ·æœ¬ï¼‰ã€‚</li>
<li>2. è¿›è¡ŒBootstrapé‡‡æ ·ï¼ˆæœ‰æ”¾å›æŠ½æ ·ï¼‰ç”Ÿæˆå¤šä¸ªBootstrapæ ·æœ¬ã€‚</li>
<li>3. è®¡ç®—æ¯ä¸ªBootstrapæ ·æœ¬çš„ç»Ÿè®¡é‡ï¼ˆä¾‹å¦‚å‡å€¼ã€ä¸­ä½æ•°ç­‰ï¼‰ã€‚</li>
<li>4. å¯è§†åŒ–åŸå§‹æ•°æ®ã€Bootstrapæ ·æœ¬ä»¥åŠç»Ÿè®¡é‡çš„åˆ†å¸ƒã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ç›®çš„ï¼š</strong></p>
<ul>
<li>å±•ç¤ºBootstrapé‡‡æ ·çš„è¿‡ç¨‹ã€‚</li>
<li>å±•ç¤ºå¦‚ä½•é€šè¿‡Bootstrapæ ·æœ¬æ¥ä¼°è®¡ç»Ÿè®¡é‡çš„åˆ†å¸ƒã€‚</li>
<li>è¯´æ˜Bootstrapé‡‡æ ·å¦‚ä½•ç”¨äºè®¡ç®—ç½®ä¿¡åŒºé—´ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-6">1. åŸå§‹æ•°æ®åˆ†å¸ƒä¸çœŸå®åˆ†å¸ƒå¯¹æ¯”</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats

<span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_original_vs_true_distribution</span>():
    <span class="hljs-string">"""å›¾1ï¼šåŸå§‹æ•°æ®åˆ†å¸ƒä¸çœŸå®åˆ†å¸ƒå¯¹æ¯”"""</span>
    np.random.seed(<span class="hljs-number">42</span>)
    
    <span class="hljs-comment"># å‚æ•°è®¾ç½®</span>
    true_mean = <span class="hljs-number">50</span>
    true_std = <span class="hljs-number">8</span>
    n_original = <span class="hljs-number">100</span>
    
    <span class="hljs-comment"># ç”ŸæˆåŸå§‹æ•°æ®</span>
    original_data = np.random.normal(true_mean, true_std, n_original)
    
    <span class="hljs-comment"># è®¡ç®—ç»Ÿè®¡é‡</span>
    original_mean = np.mean(original_data)
    original_std = np.std(original_data)
    original_se = original_std / np.sqrt(n_original)  <span class="hljs-comment"># æ ‡å‡†è¯¯</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"çœŸå®æ€»ä½“å‚æ•°: Î¼=<span class="hljs-subst">{true_mean}</span>, Ïƒ=<span class="hljs-subst">{true_std}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ·æœ¬ç»Ÿè®¡é‡: å‡å€¼=<span class="hljs-subst">{original_mean:<span class="hljs-number">.3</span>f}</span>, æ ‡å‡†å·®=<span class="hljs-subst">{original_std:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ‡å‡†è¯¯: <span class="hljs-subst">{original_se:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŠ½æ ·è¯¯å·®: <span class="hljs-subst">{<span class="hljs-built_in">abs</span>(original_mean - true_mean):<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
    
    <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•°æ®ç›´æ–¹å›¾</span>
    n_bins = <span class="hljs-number">20</span>
    counts, bins, patches = plt.hist(original_data, bins=n_bins, alpha=<span class="hljs-number">0.7</span>, 
                                    color=<span class="hljs-string">'skyblue'</span>, edgecolor=<span class="hljs-string">'black'</span>, 
                                    label=<span class="hljs-string">'åŸå§‹æ ·æœ¬æ•°æ®'</span>, density=<span class="hljs-literal">True</span>)
    
    <span class="hljs-comment"># æ·»åŠ ç†è®ºæ­£æ€åˆ†å¸ƒæ›²çº¿</span>
    x = np.linspace(original_data.<span class="hljs-built_in">min</span>(), original_data.<span class="hljs-built_in">max</span>(), <span class="hljs-number">100</span>)
    theoretical_pdf = stats.norm.pdf(x, true_mean, true_std)
    plt.plot(x, theoretical_pdf, <span class="hljs-string">'r-'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'çœŸå®æ€»ä½“åˆ†å¸ƒ'</span>)
    
    <span class="hljs-comment"># æ·»åŠ å‚è€ƒçº¿</span>
    plt.axvline(original_mean, color=<span class="hljs-string">'blue'</span>, linestyle=<span class="hljs-string">'--'</span>, linewidth=<span class="hljs-number">2</span>, 
                label=<span class="hljs-string">f'æ ·æœ¬å‡å€¼: <span class="hljs-subst">{original_mean:<span class="hljs-number">.2</span>f}</span>'</span>)
    plt.axvline(true_mean, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">'-'</span>, linewidth=<span class="hljs-number">2</span>, 
                alpha=<span class="hljs-number">0.7</span>, label=<span class="hljs-string">f'çœŸå®å‡å€¼: <span class="hljs-subst">{true_mean:<span class="hljs-number">.2</span>f}</span>'</span>)
    
    plt.xlabel(<span class="hljs-string">'æ•°å€¼'</span>)
    plt.ylabel(<span class="hljs-string">'æ¦‚ç‡å¯†åº¦'</span>)
    plt.title(<span class="hljs-string">'å›¾1: åŸå§‹æ•°æ®åˆ†å¸ƒä¸çœŸå®åˆ†å¸ƒå¯¹æ¯”\n(å±•ç¤ºæŠ½æ ·è¯¯å·®)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.legend()
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    
    <span class="hljs-comment"># æ·»åŠ ç»Ÿè®¡ä¿¡æ¯æ–‡æœ¬æ¡†</span>
    textstr = <span class="hljs-string">'\n'</span>.join([
        <span class="hljs-string">f'æ ·æœ¬å¤§å°: n=<span class="hljs-subst">{n_original}</span>'</span>,
        <span class="hljs-string">f'æ ·æœ¬å‡å€¼: <span class="hljs-subst">{original_mean:<span class="hljs-number">.3</span>f}</span>'</span>,
        <span class="hljs-string">f'æ ·æœ¬æ ‡å‡†å·®: <span class="hljs-subst">{original_std:<span class="hljs-number">.3</span>f}</span>'</span>,
        <span class="hljs-string">f'æŠ½æ ·è¯¯å·®: <span class="hljs-subst">{<span class="hljs-built_in">abs</span>(original_mean-true_mean):<span class="hljs-number">.3</span>f}</span>'</span>
    ])
    props = <span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">'round'</span>, facecolor=<span class="hljs-string">'wheat'</span>, alpha=<span class="hljs-number">0.8</span>)
    plt.text(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.98</span>, textstr, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">10</span>,
             verticalalignment=<span class="hljs-string">'top'</span>, bbox=props)
    
    plt.tight_layout()
    plt.show()
    
    <span class="hljs-keyword">return</span> original_data, original_mean, original_std

<span class="hljs-comment"># è¿è¡Œå›¾1</span>
original_data, sample_mean, sample_std = plot_original_vs_true_distribution()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
çœŸå®æ€»ä½“å‚æ•°: Î¼=50, Ïƒ=8<br/>
æ ·æœ¬ç»Ÿè®¡é‡: å‡å€¼=49.169, æ ‡å‡†å·®=7.229<br/>
æ ‡å‡†è¯¯: 0.723<br/>
æŠ½æ ·è¯¯å·®: 0.831</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fee36b9b17b467797a97e24d6854c0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=qk9qkP3m4qtpPkGJ%2F2y2Q1GN8n0%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**æ˜¾ç¤ºåŸå§‹æ ·æœ¬æ•°æ®çš„åˆ†å¸ƒä¸çœŸå®æ€»ä½“åˆ†å¸ƒçš„å¯¹æ¯”</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>è“è‰²ç›´æ–¹å›¾ï¼šä»çœŸå®åˆ†å¸ƒä¸­æŠ½å–çš„100ä¸ªæ ·æœ¬</li>
<li>çº¢è‰²æ›²çº¿ï¼šçœŸå®çš„æ­£æ€åˆ†å¸ƒN(50, 8)</li>
<li>è“è‰²è™šçº¿ï¼šæ ·æœ¬å‡å€¼</li>
<li>çº¢è‰²å®çº¿ï¼šçœŸå®å‡å€¼</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**å±•ç¤ºæ ·æœ¬æ•°æ®ä¸æ€»ä½“ä¹‹é—´çš„å…³ç³»ï¼Œè¯´æ˜æŠ½æ ·è¯¯å·®çš„å­˜åœ¨</li>
<li>**æ•ˆæœï¼š**ç›´è§‚æ˜¾ç¤ºæ ·æœ¬å‡å€¼ä¸çœŸå®å‡å€¼çš„å·®å¼‚ï¼Œä½“ç°æŠ½æ ·çš„éšæœºæ€§</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>çœŸå®æ€»ä½“å‚æ•°ï¼šè®¾å®šæ­£æ€åˆ†å¸ƒ N(50, 8) ä½œä¸ºæ•°æ®ç”Ÿæˆè¿‡ç¨‹</li>
<li>æ ·æœ¬ç»Ÿè®¡é‡ï¼šä»æ€»ä½“ä¸­éšæœºæŠ½å–100ä¸ªæ ·æœ¬ï¼Œè®¡ç®—æ ·æœ¬å‡å€¼å’Œæ ‡å‡†å·®</li>
<li>æ ‡å‡†è¯¯ï¼šå…¬å¼ï¼ˆSE = Ïƒ / âˆšnï¼‰ï¼Œè¡¡é‡æ ·æœ¬å‡å€¼çš„æŠ½æ ·å˜å¼‚æ€§</li>
<li>æŠ½æ ·è¯¯å·®ï¼š|æ ·æœ¬å‡å€¼ - çœŸå®å‡å€¼|ï¼Œä½“ç°å•æ¬¡æŠ½æ ·çš„éšæœºè¯¯å·®</li>
</ul>
</li>
</ul>
<p><strong>æ‰©å±•è¯´æ˜ï¼šæ ‡å‡†è¯¯çš„å…¬å¼è§£é‡Š</strong></p>
<ul>
<li>å…¬å¼ï¼š SE = Ïƒ / âˆšn</li>
<li>ä¸­æ–‡æè¿°ï¼š æ ‡å‡†è¯¯ = æ€»ä½“æ ‡å‡†å·® / æ ·æœ¬é‡çš„å¹³æ–¹æ ¹</li>
<li>å„ç¬¦å·å«ä¹‰ï¼š
<ul>
<li>SEï¼šæ ‡å‡†è¯¯</li>
<li>Ïƒï¼šæ€»ä½“æ ‡å‡†å·®</li>
<li>nï¼šæ ·æœ¬é‡</li>
<li>âˆšï¼šå¹³æ–¹æ ¹ç¬¦å·</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">2. Bootstrapé‡‡æ ·è¿‡ç¨‹ç¤ºæ„å›¾</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_bootstrap_sampling_process</span>():
    <span class="hljs-string">"""å›¾2ï¼šBootstrapé‡‡æ ·è¿‡ç¨‹ç¤ºæ„å›¾"""</span>
    np.random.seed(<span class="hljs-number">123</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå°å‹ç¤ºä¾‹æ•°æ®é›†</span>
    demo_data = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>])
    data_labels = [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'D'</span>, <span class="hljs-string">'E'</span>]
    
    <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡Bootstrapé‡‡æ ·</span>
    bootstrap_indices = np.random.choice(<span class="hljs-built_in">len</span>(demo_data), size=<span class="hljs-built_in">len</span>(demo_data), replace=<span class="hljs-literal">True</span>)
    bootstrap_sample = demo_data[bootstrap_indices]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ•°æ®é›†: <span class="hljs-subst">{demo_data}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®æ ‡ç­¾: <span class="hljs-subst">{data_labels}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapé‡‡æ ·ç´¢å¼•: <span class="hljs-subst">{bootstrap_indices}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapæ ·æœ¬: <span class="hljs-subst">{bootstrap_sample}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ·æœ¬ç»„æˆ: <span class="hljs-subst">{[data_labels[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> bootstrap_indices]}</span>"</span>)
    
    <span class="hljs-comment"># è®¡ç®—æ¯ä¸ªåŸå§‹æ•°æ®ç‚¹åœ¨Bootstrapæ ·æœ¬ä¸­å‡ºç°çš„æ¬¡æ•°</span>
    occurrence_count = {}
    <span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> bootstrap_indices:
        label = data_labels[idx]
        occurrence_count[label] = occurrence_count.get(label, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®ç‚¹å‡ºç°æ¬¡æ•°: <span class="hljs-subst">{occurrence_count}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
    
    <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•°æ®é›†</span>
    y_original = <span class="hljs-number">6</span>
    <span class="hljs-keyword">for</span> i, (value, label) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(demo_data, data_labels)):
        plt.plot(value, y_original, <span class="hljs-string">'o'</span>, markersize=<span class="hljs-number">80</span>, color=<span class="hljs-string">'lightblue'</span>, alpha=<span class="hljs-number">0.8</span>)
        plt.text(value, y_original, <span class="hljs-string">f'<span class="hljs-subst">{label}</span>\n<span class="hljs-subst">{value}</span>'</span>, ha=<span class="hljs-string">'center'</span>, va=<span class="hljs-string">'center'</span>, 
                fontweight=<span class="hljs-string">'bold'</span>, fontsize=<span class="hljs-number">12</span>)
    
    <span class="hljs-comment"># ç»˜åˆ¶Bootstrapæ ·æœ¬</span>
    y_bootstrap = <span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i, (value, label) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(bootstrap_sample, [data_labels[idx] <span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> bootstrap_indices])):
        plt.plot(value, y_bootstrap, <span class="hljs-string">'o'</span>, markersize=<span class="hljs-number">80</span>, color=<span class="hljs-string">'lightcoral'</span>, alpha=<span class="hljs-number">0.8</span>)
        plt.text(value, y_bootstrap, <span class="hljs-string">f'<span class="hljs-subst">{label}</span>*\n<span class="hljs-subst">{value}</span>'</span>, ha=<span class="hljs-string">'center'</span>, va=<span class="hljs-string">'center'</span>, 
                fontweight=<span class="hljs-string">'bold'</span>, fontsize=<span class="hljs-number">12</span>)
    
    <span class="hljs-comment"># ç»˜åˆ¶é‡‡æ ·è¿çº¿</span>
    <span class="hljs-keyword">for</span> i, (orig_idx, bs_value) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(bootstrap_indices, bootstrap_sample)):
        orig_x = demo_data[orig_idx]
        orig_y = y_original - <span class="hljs-number">0.3</span>
        bs_y = y_bootstrap + <span class="hljs-number">0.3</span>
        
        <span class="hljs-comment"># ç»˜åˆ¶ç®­å¤´</span>
        plt.annotate(<span class="hljs-string">''</span>, xy=(bs_value, bs_y), xytext=(orig_x, orig_y),
                    arrowprops=<span class="hljs-built_in">dict</span>(arrowstyle=<span class="hljs-string">'-&gt;'</span>, color=<span class="hljs-string">'gray'</span>, lw=<span class="hljs-number">1.5</span>, alpha=<span class="hljs-number">0.6</span>))
    
    plt.xlim(<span class="hljs-number">0</span>, <span class="hljs-number">60</span>)
    plt.ylim(<span class="hljs-number">0</span>, <span class="hljs-number">7</span>)
    plt.xlabel(<span class="hljs-string">'æ•°æ®å€¼'</span>)
    plt.title(<span class="hljs-string">'å›¾2: Bootstrapé‡‡æ ·è¿‡ç¨‹ç¤ºæ„å›¾\n(æœ‰æ”¾å›éšæœºæŠ½æ ·)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.gca().set_yticks([y_original, y_bootstrap])
    plt.gca().set_yticklabels([<span class="hljs-string">'åŸå§‹æ•°æ®é›†'</span>, <span class="hljs-string">'Bootstrapæ ·æœ¬'</span>])
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    
    <span class="hljs-comment"># æ·»åŠ è¯´æ˜æ–‡æœ¬</span>
    explanation_text = (
        <span class="hljs-string">"Bootstrapé‡‡æ ·è¿‡ç¨‹:\n"</span>
        <span class="hljs-string">"1. ä»åŸå§‹æ•°æ®é›†ä¸­æœ‰æ”¾å›åœ°éšæœºæŠ½å–nä¸ªæ ·æœ¬\n"</span>
        <span class="hljs-string">"2. æŸäº›åŸå§‹æ•°æ®ç‚¹å¯èƒ½è¢«å¤šæ¬¡æŠ½å–\n"</span>
        <span class="hljs-string">"3. æŸäº›åŸå§‹æ•°æ®ç‚¹å¯èƒ½ä¸è¢«æŠ½å–\n"</span>
        <span class="hljs-string">f"4. æœ¬ä¾‹ä¸­: <span class="hljs-subst">{occurrence_count}</span>"</span>
    )
    plt.text(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.15</span>, explanation_text, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">10</span>,
             bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"lightyellow"</span>, alpha=<span class="hljs-number">0.8</span>))
    
    plt.tight_layout()
    plt.show()
    
    <span class="hljs-keyword">return</span> bootstrap_sample, occurrence_count

<span class="hljs-comment"># è¿è¡Œå›¾2</span>
bootstrap_sample, occurrence_count = plot_bootstrap_sampling_process()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
åŸå§‹æ•°æ®é›†: [10 20 30 40 50]<br/>
æ•°æ®æ ‡ç­¾: ['A', 'B', 'C', 'D', 'E']<br/>
Bootstrapé‡‡æ ·ç´¢å¼•: [2 4 2 1 3]<br/>
Bootstrapæ ·æœ¬: [30 50 30 20 40]<br/>
æ ·æœ¬ç»„æˆ: ['C', 'E', 'C', 'B', 'D']<br/>
æ•°æ®ç‚¹å‡ºç°æ¬¡æ•°: {'C': 2, 'E': 1, 'B': 1, 'D': 1}</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c616432c2cf840eaa64e83ff701adf13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=FDDTCUemUw41KXsghqT6N1eMQCs%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**Bootstrapé‡‡æ ·çš„æœºåˆ¶æ¼”ç¤º</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>ä¸Šæ–¹è“ç‚¹ï¼šåŸå§‹æ•°æ®ç‚¹</li>
<li>ä¸‹æ–¹çº¢ç‚¹ï¼šBootstrapæ ·æœ¬ç‚¹</li>
<li>ç°è‰²è™šçº¿ï¼šæŠ½æ ·å…³ç³»</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**ç”¨ç®€å•ç¤ºä¾‹è¯´æ˜æœ‰æ”¾å›æŠ½æ ·çš„è¿‡ç¨‹</li>
<li>**æ•ˆæœï¼š**æ¸…æ™°å±•ç¤ºBootstrapé‡‡æ ·çš„æ ¸å¿ƒæœºåˆ¶</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>åŸå§‹æ•°æ®é›†ï¼š[A:10, B:20, C:30, D:40, E:50] ä½œä¸ºç¤ºä¾‹</li>
<li>Bootstrapé‡‡æ ·ï¼šæœ‰æ”¾å›åœ°éšæœºæŠ½å–5ä¸ªæ ·æœ¬</li>
<li>é‡‡æ ·ç»“æœåˆ†æï¼šè®°å½•æ¯ä¸ªåŸå§‹æ•°æ®ç‚¹åœ¨æ–°æ ·æœ¬ä¸­å‡ºç°çš„æ¬¡æ•°</li>
<li>å…³é”®ç‰¹æ€§ï¼šå±•ç¤ºBootstrapé‡‡æ ·çš„éšæœºæ€§å’Œæœ‰æ”¾å›ç‰¹æ€§</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">3. Bootstrapæ ·æœ¬åˆ†å¸ƒå¯¹æ¯”</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_bootstrap_samples_comparison</span>(<span class="hljs-params">original_data, n_bootstrap_samples=<span class="hljs-number">4</span></span>):
    <span class="hljs-string">"""å›¾3ï¼šBootstrapæ ·æœ¬åˆ†å¸ƒå¯¹æ¯”"""</span>
    <span class="hljs-keyword">from</span> sklearn.utils <span class="hljs-keyword">import</span> resample
    
    np.random.seed(<span class="hljs-number">42</span>)
    
    <span class="hljs-comment"># ç”Ÿæˆå¤šä¸ªBootstrapæ ·æœ¬</span>
    bootstrap_samples = []
    sample_means = []
    sample_stds = []
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap_samples):
        bootstrap_sample = resample(original_data, replace=<span class="hljs-literal">True</span>, n_samples=<span class="hljs-built_in">len</span>(original_data))
        bootstrap_samples.append(bootstrap_sample)
        sample_means.append(np.mean(bootstrap_sample))
        sample_stds.append(np.std(bootstrap_sample))
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ•°æ®å‡å€¼: <span class="hljs-subst">{np.mean(original_data):<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ•°æ®æ ‡å‡†å·®: <span class="hljs-subst">{np.std(original_data):<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap_samples):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapæ ·æœ¬<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>: å‡å€¼=<span class="hljs-subst">{sample_means[i]:<span class="hljs-number">.3</span>f}</span>, æ ‡å‡†å·®=<span class="hljs-subst">{sample_stds[i]:<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
    
    colors = [<span class="hljs-string">'lightgreen'</span>, <span class="hljs-string">'lightcoral'</span>, <span class="hljs-string">'gold'</span>, <span class="hljs-string">'lightblue'</span>]
    
    <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•°æ®åˆ†å¸ƒ</span>
    n_bins = <span class="hljs-number">15</span>
    counts_orig, bins_orig = np.histogram(original_data, bins=n_bins, density=<span class="hljs-literal">True</span>)
    bin_centers_orig = (bins_orig[:-<span class="hljs-number">1</span>] + bins_orig[<span class="hljs-number">1</span>:]) / <span class="hljs-number">2</span>
    plt.plot(bin_centers_orig, counts_orig, <span class="hljs-string">'ko-'</span>, linewidth=<span class="hljs-number">3</span>, 
            markersize=<span class="hljs-number">6</span>, label=<span class="hljs-string">'åŸå§‹æ•°æ®åˆ†å¸ƒ'</span>, alpha=<span class="hljs-number">0.8</span>)
    
    <span class="hljs-comment"># ç»˜åˆ¶Bootstrapæ ·æœ¬åˆ†å¸ƒ</span>
    <span class="hljs-keyword">for</span> i, sample <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(bootstrap_samples):
        counts, bins = np.histogram(sample, bins=n_bins, density=<span class="hljs-literal">True</span>)
        bin_centers = (bins[:-<span class="hljs-number">1</span>] + bins[<span class="hljs-number">1</span>:]) / <span class="hljs-number">2</span>
        plt.plot(bin_centers, counts, <span class="hljs-string">'o-'</span>, color=colors[i], alpha=<span class="hljs-number">0.8</span>, 
                linewidth=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">4</span>, label=<span class="hljs-string">f'Bootstrapæ ·æœ¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>'</span>)
    
    plt.xlabel(<span class="hljs-string">'æ•°å€¼'</span>)
    plt.ylabel(<span class="hljs-string">'æ¦‚ç‡å¯†åº¦'</span>)
    plt.title(<span class="hljs-string">'å›¾3: Bootstrapæ ·æœ¬ä¸åŸå§‹æ•°æ®åˆ†å¸ƒå¯¹æ¯”\n(å±•ç¤ºæŠ½æ ·å˜å¼‚æ€§)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.legend()
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    
    <span class="hljs-comment"># æ·»åŠ ç»Ÿè®¡æ¯”è¾ƒè¡¨æ ¼</span>
    col_labels = [<span class="hljs-string">'æ•°æ®é›†'</span>, <span class="hljs-string">'å‡å€¼'</span>, <span class="hljs-string">'æ ‡å‡†å·®'</span>, <span class="hljs-string">'ä¸åŸå§‹å‡å€¼å·®'</span>]
    cell_text = []
    
    cell_text.append([<span class="hljs-string">'åŸå§‹æ•°æ®'</span>, 
                     <span class="hljs-string">f'<span class="hljs-subst">{np.mean(original_data):<span class="hljs-number">.3</span>f}</span>'</span>, 
                     <span class="hljs-string">f'<span class="hljs-subst">{np.std(original_data):<span class="hljs-number">.3</span>f}</span>'</span>, 
                     <span class="hljs-string">'0.000'</span>])
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap_samples):
        mean_diff = sample_means[i] - np.mean(original_data)
        cell_text.append([<span class="hljs-string">f'Bootstrapæ ·æœ¬<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>'</span>, 
                         <span class="hljs-string">f'<span class="hljs-subst">{sample_means[i]:<span class="hljs-number">.3</span>f}</span>'</span>, 
                         <span class="hljs-string">f'<span class="hljs-subst">{sample_stds[i]:<span class="hljs-number">.3</span>f}</span>'</span>, 
                         <span class="hljs-string">f'<span class="hljs-subst">{mean_diff:+<span class="hljs-number">.3</span>f}</span>'</span>])
    
    plt.table(cellText=cell_text, colLabels=col_labels,
              loc=<span class="hljs-string">'bottom'</span>, bbox=[<span class="hljs-number">0.1</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.3</span>])
    
    plt.tight_layout()
    plt.subplots_adjust(bottom=<span class="hljs-number">0.3</span>)
    plt.show()
    
    <span class="hljs-keyword">return</span> bootstrap_samples, sample_means, sample_stds

<span class="hljs-comment"># è¿è¡Œå›¾3</span>
bootstrap_samples, bs_means, bs_stds = plot_bootstrap_samples_comparison(original_data)
</code></pre>
<p><strong>è¾“å‡ºå†…å®¹ï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
åŸå§‹æ•°æ®å‡å€¼: 49.169<br/>
åŸå§‹æ•°æ®æ ‡å‡†å·®: 7.229<br/>
Bootstrapæ ·æœ¬1: å‡å€¼=49.288, æ ‡å‡†å·®=8.108<br/>
Bootstrapæ ·æœ¬2: å‡å€¼=49.463, æ ‡å‡†å·®=6.667<br/>
Bootstrapæ ·æœ¬3: å‡å€¼=49.109, æ ‡å‡†å·®=7.041<br/>
Bootstrapæ ·æœ¬4: å‡å€¼=48.976, æ ‡å‡†å·®=7.560</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3481598741714eaab3104135795cbd44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=BTYEIAou2kcaStIgzxnwYJktCCs%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**å±•ç¤ºå‰4ä¸ªBootstrapæ ·æœ¬çš„åˆ†å¸ƒ</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>é»‘è‰²æ›²çº¿ï¼šåŸå§‹æ•°æ®åˆ†å¸ƒ</li>
<li>å½©è‰²æ›²çº¿ï¼šä¸åŒçš„Bootstrapæ ·æœ¬åˆ†å¸ƒ</li>
<li>æ¯ä¸ªBootstrapæ ·æœ¬éƒ½æ˜¯ä»åŸå§‹æ•°æ®ä¸­æœ‰æ”¾å›æŠ½æ ·å¾—åˆ°çš„</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**æ¼”ç¤ºBootstrapå¦‚ä½•é€šè¿‡é‡æŠ½æ ·åˆ›å»ºæ–°æ•°æ®é›†</li>
<li>**æ•ˆæœï¼š**æ˜¾ç¤ºBootstrapæ ·æœ¬ä¸åŸå§‹æ•°æ®çš„ç›¸ä¼¼æ€§ï¼ŒåŒæ—¶ä½“ç°æŠ½æ ·å˜å¼‚</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>åŸå§‹æ•°æ®ç»Ÿè®¡é‡ï¼šå‡å€¼å’Œæ ‡å‡†å·®ä½œä¸ºåŸºå‡†</li>
<li>Bootstrapæ ·æœ¬ç»Ÿè®¡é‡ï¼šè®¡ç®—æ¯ä¸ªBootstrapæ ·æœ¬çš„å‡å€¼å’Œæ ‡å‡†å·®</li>
<li>åˆ†å¸ƒæ¯”è¾ƒï¼šé€šè¿‡ç›´æ–¹å›¾å±•ç¤ºåŸå§‹æ•°æ®ä¸Bootstrapæ ·æœ¬çš„åˆ†å¸ƒå½¢çŠ¶</li>
<li>å˜å¼‚æ€§åˆ†æï¼šæ¯”è¾ƒä¸åŒBootstrapæ ·æœ¬ä¹‹é—´çš„ç»Ÿè®¡é‡å·®å¼‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">4. Bootstrapå‡å€¼åˆ†å¸ƒä¸ç½®ä¿¡åŒºé—´</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_bootstrap_means_distribution</span>(<span class="hljs-params">original_data, n_bootstrap=<span class="hljs-number">1000</span></span>):
    <span class="hljs-string">"""å›¾4ï¼šBootstrapå‡å€¼åˆ†å¸ƒä¸ç½®ä¿¡åŒºé—´"""</span>
    <span class="hljs-keyword">from</span> sklearn.utils <span class="hljs-keyword">import</span> resample
    
    np.random.seed(<span class="hljs-number">42</span>)
    
    <span class="hljs-comment"># æ‰§è¡Œå¤§é‡Bootstrapé‡‡æ ·</span>
    bootstrap_means = []
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap):
        bootstrap_sample = resample(original_data, replace=<span class="hljs-literal">True</span>, n_samples=<span class="hljs-built_in">len</span>(original_data))
        bootstrap_means.append(np.mean(bootstrap_sample))
    
    bootstrap_means = np.array(bootstrap_means)
    
    <span class="hljs-comment"># è®¡ç®—ç»Ÿè®¡é‡</span>
    bootstrap_mean = np.mean(bootstrap_means)
    bootstrap_std = np.std(bootstrap_means)
    original_mean = np.mean(original_data)
    
    <span class="hljs-comment"># è®¡ç®—ç½®ä¿¡åŒºé—´</span>
    confidence_level = <span class="hljs-number">0.95</span>
    alpha = <span class="hljs-number">1</span> - confidence_level
    ci_lower = np.percentile(bootstrap_means, <span class="hljs-number">100</span> * alpha / <span class="hljs-number">2</span>)
    ci_upper = np.percentile(bootstrap_means, <span class="hljs-number">100</span> * (<span class="hljs-number">1</span> - alpha / <span class="hljs-number">2</span>))
    
    <span class="hljs-comment"># æ­£æ€åˆ†å¸ƒæ‹Ÿåˆ</span>
    mu, sigma = stats.norm.fit(bootstrap_means)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapæ¬¡æ•°: <span class="hljs-subst">{n_bootstrap}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapå‡å€¼: <span class="hljs-subst">{bootstrap_mean:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapæ ‡å‡†å·®: <span class="hljs-subst">{bootstrap_std:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bootstrapæ ‡å‡†è¯¯: <span class="hljs-subst">{bootstrap_std:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"95%ç½®ä¿¡åŒºé—´: [<span class="hljs-subst">{ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{ci_upper:<span class="hljs-number">.3</span>f}</span>]"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŒºé—´å®½åº¦: <span class="hljs-subst">{ci_upper - ci_lower:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ­£æ€æ‹Ÿåˆå‚æ•°: Î¼=<span class="hljs-subst">{mu:<span class="hljs-number">.3</span>f}</span>, Ïƒ=<span class="hljs-subst">{sigma:<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
    
    <span class="hljs-comment"># ç»˜åˆ¶Bootstrapå‡å€¼çš„ç›´æ–¹å›¾</span>
    n, bins, patches = plt.hist(bootstrap_means, bins=<span class="hljs-number">30</span>, alpha=<span class="hljs-number">0.7</span>, 
                               color=<span class="hljs-string">'lightseagreen'</span>, edgecolor=<span class="hljs-string">'black'</span>, 
                               density=<span class="hljs-literal">True</span>, label=<span class="hljs-string">'Bootstrapå‡å€¼åˆ†å¸ƒ'</span>)
    
    <span class="hljs-comment"># æ·»åŠ æ­£æ€åˆ†å¸ƒæ‹Ÿåˆæ›²çº¿</span>
    x = np.linspace(bootstrap_means.<span class="hljs-built_in">min</span>(), bootstrap_means.<span class="hljs-built_in">max</span>(), <span class="hljs-number">100</span>)
    fitted_pdf = stats.norm.pdf(x, mu, sigma)
    plt.plot(x, fitted_pdf, <span class="hljs-string">'r-'</span>, linewidth=<span class="hljs-number">3</span>, 
            label=<span class="hljs-string">f'æ­£æ€åˆ†å¸ƒæ‹Ÿåˆ\n(Î¼=<span class="hljs-subst">{mu:<span class="hljs-number">.3</span>f}</span>, Ïƒ=<span class="hljs-subst">{sigma:<span class="hljs-number">.3</span>f}</span>)'</span>)
    
    <span class="hljs-comment"># æ·»åŠ ç½®ä¿¡åŒºé—´</span>
    plt.axvline(ci_lower, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">'--'</span>, linewidth=<span class="hljs-number">2</span>, 
                label=<span class="hljs-string">f'95% ç½®ä¿¡åŒºé—´\n[<span class="hljs-subst">{ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{ci_upper:<span class="hljs-number">.3</span>f}</span>]'</span>)
    plt.axvline(ci_upper, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">'--'</span>, linewidth=<span class="hljs-number">2</span>)
    plt.axvline(original_mean, color=<span class="hljs-string">'blue'</span>, linestyle=<span class="hljs-string">'-'</span>, linewidth=<span class="hljs-number">2</span>, 
                label=<span class="hljs-string">f'åŸå§‹æ ·æœ¬å‡å€¼: <span class="hljs-subst">{original_mean:<span class="hljs-number">.3</span>f}</span>'</span>)
    
    <span class="hljs-comment"># å¡«å……ç½®ä¿¡åŒºé—´åŒºåŸŸ</span>
    y_max = <span class="hljs-built_in">max</span>(n) * <span class="hljs-number">1.1</span>
    plt.fill_betweenx([<span class="hljs-number">0</span>, y_max], ci_lower, ci_upper, alpha=<span class="hljs-number">0.2</span>, color=<span class="hljs-string">'red'</span>)
    
    plt.xlabel(<span class="hljs-string">'Bootstrapæ ·æœ¬å‡å€¼'</span>)
    plt.ylabel(<span class="hljs-string">'æ¦‚ç‡å¯†åº¦'</span>)
    plt.title(<span class="hljs-string">'å›¾4: Bootstrapå‡å€¼åˆ†å¸ƒä¸ç½®ä¿¡åŒºé—´\n(ä¼°è®¡å‚æ•°ä¸ç¡®å®šæ€§)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.legend()
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    
    <span class="hljs-comment"># æ·»åŠ ç»Ÿè®¡ä¿¡æ¯</span>
    stats_text = <span class="hljs-string">f"""Bootstrapåˆ†æç»“æœ:
â€¢ Bootstrapæ¬¡æ•°: <span class="hljs-subst">{n_bootstrap}</span>
â€¢ Bootstrapå‡å€¼: <span class="hljs-subst">{bootstrap_mean:<span class="hljs-number">.3</span>f}</span>
â€¢ Bootstrapæ ‡å‡†å·®: <span class="hljs-subst">{bootstrap_std:<span class="hljs-number">.3</span>f}</span>
â€¢ 95%ç½®ä¿¡åŒºé—´: [<span class="hljs-subst">{ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{ci_upper:<span class="hljs-number">.3</span>f}</span>]
â€¢ åŒºé—´å®½åº¦: <span class="hljs-subst">{ci_upper-ci_lower:<span class="hljs-number">.3</span>f}</span>
â€¢ åŒ…å«åŸå§‹å‡å€¼: <span class="hljs-subst">{<span class="hljs-string">'æ˜¯'</span> <span class="hljs-keyword">if</span> ci_lower &lt;= original_mean &lt;= ci_upper <span class="hljs-keyword">else</span> <span class="hljs-string">'å¦'</span>}</span>"""</span>
    
    plt.text(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.98</span>, stats_text, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">10</span>,
             verticalalignment=<span class="hljs-string">'top'</span>, bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"wheat"</span>, alpha=<span class="hljs-number">0.8</span>))
    
    plt.tight_layout()
    plt.show()
    
    <span class="hljs-keyword">return</span> bootstrap_means, (ci_lower, ci_upper), (mu, sigma)

<span class="hljs-comment"># è¿è¡Œå›¾4</span>
bootstrap_means, confidence_interval, normal_params = plot_bootstrap_means_distribution(original_data)
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
Bootstrapæ¬¡æ•°: 1000<br/>
Bootstrapå‡å€¼: 49.181<br/>
Bootstrapæ ‡å‡†å·®: 0.705<br/>
Bootstrapæ ‡å‡†è¯¯: 0.705<br/>
95%ç½®ä¿¡åŒºé—´: [47.821, 50.503]<br/>
åŒºé—´å®½åº¦: 2.682<br/>
æ­£æ€æ‹Ÿåˆå‚æ•°: Î¼=49.181, Ïƒ=0.705</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19a905176879412587d95a41dd854e88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=ONSoUgOH66RVCIn4tgKuKCmA1So%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**1000ä¸ªBootstrapæ ·æœ¬å‡å€¼çš„åˆ†å¸ƒ</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>ç»¿è‰²ç›´æ–¹å›¾ï¼šBootstrapå‡å€¼çš„åˆ†å¸ƒ</li>
<li>çº¢è‰²æ›²çº¿ï¼šå¯¹Bootstrapå‡å€¼çš„æ­£æ€æ‹Ÿåˆ</li>
<li>çº¢è‰²è™šçº¿ï¼š95%ç½®ä¿¡åŒºé—´è¾¹ç•Œ</li>
<li>çº¢è‰²å¡«å……åŒºåŸŸï¼šç½®ä¿¡åŒºé—´</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**å±•ç¤ºBootstrapå¦‚ä½•ä¼°è®¡ç»Ÿè®¡é‡çš„æŠ½æ ·åˆ†å¸ƒ</li>
<li>**æ•ˆæœï¼š**ç›´è§‚æ˜¾ç¤ºå‚æ•°ä¼°è®¡çš„ä¸ç¡®å®šæ€§ï¼Œæä¾›ç½®ä¿¡åŒºé—´</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>Bootstrapå‡å€¼è®¡ç®—ï¼š1000æ¬¡Bootstrapé‡‡æ ·çš„å‡å€¼</li>
<li>åˆ†å¸ƒç‰¹å¾ï¼šBootstrapå‡å€¼çš„å‡å€¼å’Œæ ‡å‡†å·®</li>
<li>ç½®ä¿¡åŒºé—´ï¼šä½¿ç”¨ç™¾åˆ†ä½æ•°æ³•è®¡ç®—95%ç½®ä¿¡åŒºé—´</li>
<li>æ­£æ€æ‹Ÿåˆï¼šæ£€éªŒBootstrapå‡å€¼åˆ†å¸ƒçš„æ­£æ€æ€§</li>
<li>ä¸ç¡®å®šæ€§é‡åŒ–ï¼šé€šè¿‡ç½®ä¿¡åŒºé—´å®½åº¦è¡¡é‡ä¼°è®¡ç²¾åº¦</li>
</ul>
</li>
</ul>
<h3 data-id="heading-10">5. æ ·æœ¬å¤§å°å¯¹Bootstrapç¨³å®šæ€§çš„å½±å“</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_sample_size_effect</span>(<span class="hljs-params">original_data</span>):
    <span class="hljs-string">"""å›¾5ï¼šæ ·æœ¬å¤§å°å¯¹Bootstrapç¨³å®šæ€§çš„å½±å“"""</span>
    np.random.seed(<span class="hljs-number">42</span>)
    
    <span class="hljs-comment"># æµ‹è¯•ä¸åŒçš„æ ·æœ¬å¤§å°</span>
    sample_sizes = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>]
    bootstrap_stds = []
    theoretical_stds = []
    
    <span class="hljs-keyword">for</span> size <span class="hljs-keyword">in</span> sample_sizes:
        <span class="hljs-keyword">if</span> size &lt;= <span class="hljs-built_in">len</span>(original_data):
            <span class="hljs-comment"># ä»åŸå§‹æ•°æ®ä¸­æŠ½å–å­æ ·æœ¬</span>
            sample_data = np.random.choice(original_data, size=size, replace=<span class="hljs-literal">False</span>)
        <span class="hljs-keyword">else</span>:
            sample_data = original_data
        
        <span class="hljs-comment"># æ‰§è¡ŒBootstrap</span>
        temp_means = []
        n_bootstrap = <span class="hljs-number">500</span>
        
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap):
            bootstrap_sample = resample(sample_data, replace=<span class="hljs-literal">True</span>, n_samples=<span class="hljs-built_in">len</span>(sample_data))
            temp_means.append(np.mean(bootstrap_sample))
        
        bootstrap_std = np.std(temp_means)
        bootstrap_stds.append(bootstrap_std)
        
        <span class="hljs-comment"># ç†è®ºæ ‡å‡†è¯¯</span>
        theoretical_std = np.std(sample_data) / np.sqrt(size)
        theoretical_stds.append(theoretical_std)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ ·æœ¬å¤§å°å¯¹Bootstrapç¨³å®šæ€§çš„å½±å“:"</span>)
    <span class="hljs-keyword">for</span> i, size <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(sample_sizes):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"n=<span class="hljs-subst">{size}</span>: Bootstrapæ ‡å‡†å·®=<span class="hljs-subst">{bootstrap_stds[i]:<span class="hljs-number">.4</span>f}</span>, ç†è®ºæ ‡å‡†è¯¯=<span class="hljs-subst">{theoretical_stds[i]:<span class="hljs-number">.4</span>f}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
    
    <span class="hljs-comment"># ç»˜åˆ¶Bootstrapæ ‡å‡†å·®</span>
    plt.plot(sample_sizes, bootstrap_stds, <span class="hljs-string">'o-'</span>, 
            linewidth=<span class="hljs-number">3</span>, markersize=<span class="hljs-number">8</span>, color=<span class="hljs-string">'purple'</span>, 
            label=<span class="hljs-string">'Bootstrapæ ‡å‡†å·®'</span>, markerfacecolor=<span class="hljs-string">'yellow'</span>)
    
    <span class="hljs-comment"># ç»˜åˆ¶ç†è®ºæ ‡å‡†è¯¯</span>
    plt.plot(sample_sizes, theoretical_stds, <span class="hljs-string">'s-'</span>, 
            linewidth=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">6</span>, color=<span class="hljs-string">'red'</span>, 
            label=<span class="hljs-string">'ç†è®ºæ ‡å‡†è¯¯'</span>, alpha=<span class="hljs-number">0.7</span>)
    
    plt.xlabel(<span class="hljs-string">'æ ·æœ¬å¤§å° (n)'</span>)
    plt.ylabel(<span class="hljs-string">'å‡å€¼ä¼°è®¡çš„æ ‡å‡†å·®'</span>)
    plt.title(<span class="hljs-string">'å›¾5: æ ·æœ¬å¤§å°å¯¹Bootstrapç¨³å®šæ€§çš„å½±å“\n(æ ‡å‡†è¯¯éšæ ·æœ¬å¢å¤§è€Œå‡å°)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    plt.legend()
    
    <span class="hljs-comment"># è®¾ç½®å¯¹æ•°åæ ‡</span>
    plt.xscale(<span class="hljs-string">'log'</span>)
    
    <span class="hljs-comment"># æ·»åŠ è¶‹åŠ¿çº¿è¯´æ˜</span>
    plt.text(<span class="hljs-number">0.05</span>, <span class="hljs-number">0.95</span>, <span class="hljs-string">'è¶‹åŠ¿: æ ‡å‡†è¯¯ âˆ 1/âˆšn'</span>, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">12</span>,
             bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"lightblue"</span>, alpha=<span class="hljs-number">0.8</span>))
    
    <span class="hljs-comment"># æ·»åŠ æ•°æ®è¡¨æ ¼</span>
    col_labels = [<span class="hljs-string">'æ ·æœ¬å¤§å°'</span>, <span class="hljs-string">'Bootstrapæ ‡å‡†å·®'</span>, <span class="hljs-string">'ç†è®ºæ ‡å‡†è¯¯'</span>, <span class="hljs-string">'ç›¸å¯¹è¯¯å·®%'</span>]
    cell_text = []
    
    <span class="hljs-keyword">for</span> i, size <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(sample_sizes):
        rel_error = <span class="hljs-built_in">abs</span>(bootstrap_stds[i] - theoretical_stds[i]) / theoretical_stds[i] * <span class="hljs-number">100</span>
        cell_text.append([
            <span class="hljs-built_in">str</span>(size),
            <span class="hljs-string">f'<span class="hljs-subst">{bootstrap_stds[i]:<span class="hljs-number">.4</span>f}</span>'</span>,
            <span class="hljs-string">f'<span class="hljs-subst">{theoretical_stds[i]:<span class="hljs-number">.4</span>f}</span>'</span>,
            <span class="hljs-string">f'<span class="hljs-subst">{rel_error:<span class="hljs-number">.2</span>f}</span>%'</span>
        ])
    
    plt.table(cellText=cell_text, colLabels=col_labels,
              loc=<span class="hljs-string">'bottom'</span>, bbox=[<span class="hljs-number">0.1</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.4</span>])
    
    plt.tight_layout()
    plt.subplots_adjust(bottom=<span class="hljs-number">0.4</span>)
    plt.show()
    
    <span class="hljs-keyword">return</span> sample_sizes, bootstrap_stds, theoretical_stds

<span class="hljs-comment"># è¿è¡Œå›¾5</span>
sample_sizes, bs_stds, theory_stds = plot_sample_size_effect(original_data)
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
æ ·æœ¬å¤§å°å¯¹Bootstrapç¨³å®šæ€§çš„å½±å“:<br/>
n=10: Bootstrapæ ‡å‡†å·®=1.5313, ç†è®ºæ ‡å‡†è¯¯=1.5499<br/>
n=20: Bootstrapæ ‡å‡†å·®=1.3750, ç†è®ºæ ‡å‡†è¯¯=1.3785<br/>
n=30: Bootstrapæ ‡å‡†å·®=1.2452, ç†è®ºæ ‡å‡†è¯¯=1.2361<br/>
n=50: Bootstrapæ ‡å‡†å·®=1.0811, ç†è®ºæ ‡å‡†è¯¯=1.0551<br/>
n=100: Bootstrapæ ‡å‡†å·®=0.6949, ç†è®ºæ ‡å‡†è¯¯=0.7229<br/>
n=200: Bootstrapæ ‡å‡†å·®=0.7114, ç†è®ºæ ‡å‡†è¯¯=0.5112</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c807cab400144d396bca7de27183a0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=in2j0caOpX4fog58BVkrtIzOfBQ%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**ä¸åŒæ ·æœ¬å¤§å°ä¸‹Bootstrapå‡å€¼çš„æ ‡å‡†å·®</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>Xè½´ï¼šæ ·æœ¬å¤§å°ï¼ˆå¯¹æ•°å°ºåº¦ï¼‰</li>
<li>Yè½´ï¼šBootstrapå‡å€¼çš„æ ‡å‡†å·®</li>
<li>æ ‡å‡†å·®è¶Šå°è¡¨ç¤ºä¼°è®¡è¶Šç¨³å®š</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**å±•ç¤ºæ ·æœ¬å¤§å°å¯¹Bootstrapä¼°è®¡ç²¾åº¦çš„å½±å“</li>
<li>**æ•ˆæœï¼š**æ˜¾ç¤ºéšç€æ ·æœ¬å¢å¤§ï¼ŒBootstrapä¼°è®¡å˜å¾—æ›´åŠ ç¨³å®š</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>ä¸åŒæ ·æœ¬å¤§å°ï¼šä»10åˆ°200çš„ä¸åŒæ ·æœ¬å®¹é‡</li>
<li>Bootstrapæ ‡å‡†å·®ï¼šæ¯ä¸ªæ ·æœ¬å¤§å°ä¸‹Bootstrapå‡å€¼çš„æ ‡å‡†å·®</li>
<li>ç†è®ºæ ‡å‡†è¯¯ï¼šï¼ˆÏƒ / âˆšnï¼‰ï¼Œç†è®ºä¸Šçš„å‡å€¼æ ‡å‡†è¯¯</li>
<li>ç¨³å®šæ€§åˆ†æï¼šå±•ç¤ºæ ‡å‡†è¯¯éšæ ·æœ¬å¢å¤§è€Œå‡å°çš„è¶‹åŠ¿</li>
<li>è¯¯å·®æ¯”è¾ƒï¼šBootstrapä¼°è®¡ä¸ç†è®ºå€¼çš„ç›¸å¯¹è¯¯å·®</li>
</ul>
</li>
</ul>
<h3 data-id="heading-11">6. ç½®ä¿¡åŒºé—´è¦†ç›–æ¦‚ç‡éªŒè¯</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_confidence_interval_coverage</span>():
    <span class="hljs-string">"""å›¾6ï¼šç½®ä¿¡åŒºé—´è¦†ç›–æ¦‚ç‡éªŒè¯"""</span>
    np.random.seed(<span class="hljs-number">42</span>)
    
    <span class="hljs-comment"># æ¨¡æ‹Ÿå‚æ•°</span>
    true_mean = <span class="hljs-number">50</span>
    true_std = <span class="hljs-number">8</span>
    n_original = <span class="hljs-number">100</span>
    n_simulations = <span class="hljs-number">100</span>
    confidence_level = <span class="hljs-number">0.95</span>
    
    coverage_count = <span class="hljs-number">0</span>
    ci_widths = []
    simulation_results = []
    
    <span class="hljs-keyword">for</span> sim <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_simulations):
        <span class="hljs-comment"># ç”Ÿæˆæ–°çš„æ ·æœ¬ï¼ˆæ¨¡æ‹Ÿé‡å¤å®éªŒï¼‰</span>
        new_sample = np.random.normal(true_mean, true_std, n_original)
        
        <span class="hljs-comment"># è®¡ç®—è¯¥æ ·æœ¬çš„Bootstrapç½®ä¿¡åŒºé—´</span>
        sim_means = []
        n_bootstrap = <span class="hljs-number">500</span>
        
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_bootstrap):
            bootstrap_sample = resample(new_sample, replace=<span class="hljs-literal">True</span>, n_samples=<span class="hljs-built_in">len</span>(new_sample))
            sim_means.append(np.mean(bootstrap_sample))
        
        sim_ci_lower = np.percentile(sim_means, <span class="hljs-number">100</span> * (<span class="hljs-number">1</span>-confidence_level)/<span class="hljs-number">2</span>)
        sim_ci_upper = np.percentile(sim_means, <span class="hljs-number">100</span> * (<span class="hljs-number">1</span> - (<span class="hljs-number">1</span>-confidence_level)/<span class="hljs-number">2</span>))
        
        ci_width = sim_ci_upper - sim_ci_lower
        ci_widths.append(ci_width)
        
        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦è¦†ç›–çœŸå®å‡å€¼</span>
        covers_true_mean = sim_ci_lower &lt;= true_mean &lt;= sim_ci_upper
        <span class="hljs-keyword">if</span> covers_true_mean:
            coverage_count += <span class="hljs-number">1</span>
        
        simulation_results.append({
            <span class="hljs-string">'lower'</span>: sim_ci_lower,
            <span class="hljs-string">'upper'</span>: sim_ci_upper,
            <span class="hljs-string">'width'</span>: ci_width,
            <span class="hljs-string">'covers'</span>: covers_true_mean,
            <span class="hljs-string">'sample_mean'</span>: np.mean(new_sample)
        })
    
    coverage_rate = coverage_count / n_simulations
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¨¡æ‹Ÿå®éªŒæ¬¡æ•°: <span class="hljs-subst">{n_simulations}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç½®ä¿¡æ°´å¹³: <span class="hljs-subst">{confidence_level}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¦†ç›–çœŸå®å‡å€¼çš„æ¬¡æ•°: <span class="hljs-subst">{coverage_count}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¦†ç›–æ¦‚ç‡: <span class="hljs-subst">{coverage_rate:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœŸæœ›è¦†ç›–æ¦‚ç‡: <span class="hljs-subst">{confidence_level}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¹³å‡ç½®ä¿¡åŒºé—´å®½åº¦: <span class="hljs-subst">{np.mean(ci_widths):<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>))
    
    <span class="hljs-comment"># ç»˜åˆ¶å‰30ä¸ªæ¨¡æ‹Ÿå®éªŒçš„ç½®ä¿¡åŒºé—´</span>
    n_to_plot = <span class="hljs-built_in">min</span>(<span class="hljs-number">30</span>, n_simulations)
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_to_plot):
        result = simulation_results[i]
        color = <span class="hljs-string">'green'</span> <span class="hljs-keyword">if</span> result[<span class="hljs-string">'covers'</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">'red'</span>
        plt.plot([result[<span class="hljs-string">'lower'</span>], result[<span class="hljs-string">'upper'</span>]], [i, i], 
                color=color, linewidth=<span class="hljs-number">2</span>, alpha=<span class="hljs-number">0.7</span>)
        plt.plot(result[<span class="hljs-string">'sample_mean'</span>], i, <span class="hljs-string">'o'</span>, color=<span class="hljs-string">'blue'</span>, markersize=<span class="hljs-number">4</span>)
    
    <span class="hljs-comment"># æ·»åŠ çœŸå®å‡å€¼çº¿</span>
    plt.axvline(true_mean, color=<span class="hljs-string">'black'</span>, linestyle=<span class="hljs-string">'-'</span>, linewidth=<span class="hljs-number">3</span>, 
                label=<span class="hljs-string">f'çœŸå®å‡å€¼: <span class="hljs-subst">{true_mean:<span class="hljs-number">.2</span>f}</span>'</span>)
    
    plt.xlabel(<span class="hljs-string">'å‡å€¼ä¼°è®¡'</span>)
    plt.ylabel(<span class="hljs-string">'æ¨¡æ‹Ÿå®éªŒåºå·'</span>)
    plt.title(<span class="hljs-string">f'å›¾6: ç½®ä¿¡åŒºé—´è¦†ç›–æ¦‚ç‡éªŒè¯\n(å®é™…è¦†ç›–æ¦‚ç‡: <span class="hljs-subst">{coverage_rate:<span class="hljs-number">.3</span>f}</span>, æœŸæœ›: <span class="hljs-subst">{confidence_level}</span>)'</span>, 
              fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    plt.legend()
    
    <span class="hljs-comment"># æ·»åŠ è¦†ç›–æ¦‚ç‡ä¿¡æ¯</span>
    coverage_info = <span class="hljs-string">f"""è¦†ç›–æ¦‚ç‡åˆ†æ:
â€¢ æ¨¡æ‹Ÿå®éªŒæ¬¡æ•°: <span class="hljs-subst">{n_simulations}</span>
â€¢ è¦†ç›–çœŸå®å‡å€¼æ¬¡æ•°: <span class="hljs-subst">{coverage_count}</span>
â€¢ å®é™…è¦†ç›–æ¦‚ç‡: <span class="hljs-subst">{coverage_rate:<span class="hljs-number">.3</span>f}</span>
â€¢ æœŸæœ›è¦†ç›–æ¦‚ç‡: <span class="hljs-subst">{confidence_level}</span>
â€¢ å¹³å‡åŒºé—´å®½åº¦: <span class="hljs-subst">{np.mean(ci_widths):<span class="hljs-number">.3</span>f}</span>
â€¢ è¦†ç›–è¯¯å·®: <span class="hljs-subst">{<span class="hljs-built_in">abs</span>(coverage_rate-confidence_level):<span class="hljs-number">.3</span>f}</span>"""</span>
    
    plt.text(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.98</span>, coverage_info, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">10</span>,
             verticalalignment=<span class="hljs-string">'top'</span>, bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"lightblue"</span>, alpha=<span class="hljs-number">0.8</span>))
    
    <span class="hljs-comment"># æ·»åŠ å›¾ä¾‹è¯´æ˜</span>
    legend_elements = [
        plt.Line2D([<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>], color=<span class="hljs-string">'green'</span>, lw=<span class="hljs-number">2</span>, label=<span class="hljs-string">'è¦†ç›–çœŸå®å‡å€¼'</span>),
        plt.Line2D([<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>], color=<span class="hljs-string">'red'</span>, lw=<span class="hljs-number">2</span>, label=<span class="hljs-string">'æœªè¦†ç›–çœŸå®å‡å€¼'</span>),
        plt.Line2D([<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>], marker=<span class="hljs-string">'o'</span>, color=<span class="hljs-string">'blue'</span>, label=<span class="hljs-string">'æ ·æœ¬å‡å€¼'</span>, linestyle=<span class="hljs-string">'None'</span>)
    ]
    plt.legend(handles=legend_elements, loc=<span class="hljs-string">'lower right'</span>)
    
    plt.tight_layout()
    plt.show()
    
    <span class="hljs-keyword">return</span> coverage_rate, np.mean(ci_widths), simulation_results

<span class="hljs-comment"># è¿è¡Œå›¾6</span>
coverage_rate, avg_ci_width, sim_results = plot_confidence_interval_coverage()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
æ¨¡æ‹Ÿå®éªŒæ¬¡æ•°: 100<br/>
ç½®ä¿¡æ°´å¹³: 0.95<br/>
è¦†ç›–çœŸå®å‡å€¼çš„æ¬¡æ•°: 96<br/>
è¦†ç›–æ¦‚ç‡: 0.960<br/>
æœŸæœ›è¦†ç›–æ¦‚ç‡: 0.95<br/>
å¹³å‡ç½®ä¿¡åŒºé—´å®½åº¦: 3.101</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ad0a3bd0757456d8acbc87389609eb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=XsNgKAz%2FekvJ2qEHwaq4HyOJbn8%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**é€šè¿‡æ¨¡æ‹ŸéªŒè¯ç½®ä¿¡åŒºé—´çš„è¦†ç›–æ¦‚ç‡</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>æ°´å¹³çº¿æ®µï¼šä¸åŒæ¨¡æ‹Ÿå®éªŒçš„ç½®ä¿¡åŒºé—´</li>
<li>ç»¿çº¿ï¼šè¦†ç›–çœŸå®å‡å€¼çš„åŒºé—´</li>
<li>çº¢çº¿ï¼šæœªè¦†ç›–çœŸå®å‡å€¼çš„åŒºé—´</li>
<li>é»‘çº¿ï¼šçœŸå®å‡å€¼ä½ç½®</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**éªŒè¯Bootstrapç½®ä¿¡åŒºé—´çš„æœ‰æ•ˆæ€§</li>
<li>**æ•ˆæœï¼š**æ˜¾ç¤ºå¤§çº¦95%çš„ç½®ä¿¡åŒºé—´åŒ…å«çœŸå®å‚æ•°å€¼</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>æ¨¡æ‹Ÿå®éªŒï¼š100æ¬¡ç‹¬ç«‹çš„é‡é‡‡æ ·å®éªŒ</li>
<li>è¦†ç›–æ¦‚ç‡è®¡ç®—ï¼šç»Ÿè®¡ç½®ä¿¡åŒºé—´åŒ…å«çœŸå®å‡å€¼çš„æ¯”ä¾‹</li>
<li>åŒºé—´å®½åº¦åˆ†æï¼šè®¡ç®—ç½®ä¿¡åŒºé—´çš„å¹³å‡å®½åº¦</li>
<li>æ€§èƒ½éªŒè¯ï¼šæ¯”è¾ƒå®é™…è¦†ç›–æ¦‚ç‡ä¸ç†è®ºç½®ä¿¡æ°´å¹³</li>
<li>å¯é æ€§è¯„ä¼°ï¼šéªŒè¯Bootstrapç½®ä¿¡åŒºé—´çš„æœ‰æ•ˆæ€§</li>
</ul>
</li>
</ul>
<h3 data-id="heading-12">7. Bootstrapä¸ä¼ ç»Ÿæ–¹æ³•æ¯”è¾ƒ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_bootstrap_vs_traditional</span>(<span class="hljs-params">original_data, true_mean=<span class="hljs-number">50</span></span>):
    <span class="hljs-string">"""å›¾7ï¼šBootstrapä¸ä¼ ç»Ÿç½®ä¿¡åŒºé—´æ–¹æ³•æ¯”è¾ƒ"""</span>
    
    <span class="hljs-comment"># Bootstrapç½®ä¿¡åŒºé—´ï¼ˆä½¿ç”¨ä¹‹å‰çš„ç»“æœï¼‰</span>
    bootstrap_ci_lower, bootstrap_ci_upper = confidence_interval
    bootstrap_mean = np.mean(bootstrap_means)
    
    <span class="hljs-comment"># ä¼ ç»Ÿæ­£æ€è¿‘ä¼¼ç½®ä¿¡åŒºé—´</span>
    original_mean = np.mean(original_data)
    original_std = np.std(original_data)
    n = <span class="hljs-built_in">len</span>(original_data)
    
    <span class="hljs-comment"># è®¡ç®—ä¼ ç»Ÿç½®ä¿¡åŒºé—´</span>
    z_score = stats.norm.ppf(<span class="hljs-number">0.975</span>)  <span class="hljs-comment"># 95%ç½®ä¿¡æ°´å¹³çš„zå€¼</span>
    margin_of_error = z_score * (original_std / np.sqrt(n))
    traditional_ci_lower = original_mean - margin_of_error
    traditional_ci_upper = original_mean + margin_of_error
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== è®¡ç®—å†…å®¹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Bootstrapæ–¹æ³•:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ç½®ä¿¡åŒºé—´: [<span class="hljs-subst">{bootstrap_ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{bootstrap_ci_upper:<span class="hljs-number">.3</span>f}</span>]"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  åŒºé—´å®½åº¦: <span class="hljs-subst">{bootstrap_ci_upper - bootstrap_ci_lower:<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nä¼ ç»Ÿæ­£æ€è¿‘ä¼¼æ–¹æ³•:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ç½®ä¿¡åŒºé—´: [<span class="hljs-subst">{traditional_ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{traditional_ci_upper:<span class="hljs-number">.3</span>f}</span>]"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  åŒºé—´å®½åº¦: <span class="hljs-subst">{traditional_ci_upper - traditional_ci_lower:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  zå€¼: <span class="hljs-subst">{z_score:<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  è¯¯å·®èŒƒå›´: <span class="hljs-subst">{margin_of_error:<span class="hljs-number">.3</span>f}</span>"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ¯”è¾ƒ:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  åŒºé—´å®½åº¦å·®å¼‚: <span class="hljs-subst">{<span class="hljs-built_in">abs</span>((bootstrap_ci_upper-bootstrap_ci_lower) - (traditional_ci_upper-traditional_ci_lower)):<span class="hljs-number">.3</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ˜¯å¦éƒ½åŒ…å«çœŸå®å‡å€¼: <span class="hljs-subst">{bootstrap_ci_lower &lt;= true_mean &lt;= bootstrap_ci_upper <span class="hljs-keyword">and</span> traditional_ci_lower &lt;= true_mean &lt;= traditional_ci_upper}</span>"</span>)
    
    <span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
    
    methods = [<span class="hljs-string">'Bootstrap'</span>, <span class="hljs-string">'ä¼ ç»Ÿæ­£æ€è¿‘ä¼¼'</span>]
    ci_lowers = [bootstrap_ci_lower, traditional_ci_lower]
    ci_uppers = [bootstrap_ci_upper, traditional_ci_upper]
    means = [bootstrap_mean, original_mean]
    
    colors = [<span class="hljs-string">'lightcoral'</span>, <span class="hljs-string">'lightblue'</span>]
    
    <span class="hljs-comment"># ç»˜åˆ¶ç½®ä¿¡åŒºé—´</span>
    <span class="hljs-keyword">for</span> i, method <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(methods):
        <span class="hljs-comment"># ç»˜åˆ¶è¯¯å·®æ¡</span>
        plt.errorbar(means[i], i, 
                    xerr=[[means[i] - ci_lowers[i]], [ci_uppers[i] - means[i]]],
                    fmt=<span class="hljs-string">'o'</span>, color=colors[i], ecolor=<span class="hljs-string">'black'</span>, 
                    elinewidth=<span class="hljs-number">3</span>, capsize=<span class="hljs-number">8</span>, capthick=<span class="hljs-number">2</span>, 
                    markersize=<span class="hljs-number">10</span>, label=method)
    
    <span class="hljs-comment"># æ·»åŠ çœŸå®å‡å€¼çº¿</span>
    plt.axvline(true_mean, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">'--'</span>, linewidth=<span class="hljs-number">3</span>, 
                label=<span class="hljs-string">f'çœŸå®å‡å€¼: <span class="hljs-subst">{true_mean:<span class="hljs-number">.2</span>f}</span>'</span>)
    
    plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(methods)), methods)
    plt.xlabel(<span class="hljs-string">'å‡å€¼ä¼°è®¡'</span>)
    plt.title(<span class="hljs-string">'å›¾7: Bootstrap vs ä¼ ç»Ÿç½®ä¿¡åŒºé—´æ–¹æ³•æ¯”è¾ƒ\n(åœ¨æ­£æ€æ•°æ®ä¸‹çš„è¡¨ç°ç›¸ä¼¼æ€§)'</span>, fontsize=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
    plt.legend()
    
    <span class="hljs-comment"># æ·»åŠ è¯¦ç»†æ¯”è¾ƒä¿¡æ¯</span>
    comparison_text = <span class="hljs-string">f"""æ–¹æ³•æ¯”è¾ƒ:
Bootstrapæ–¹æ³•:
â€¢ åŒºé—´: [<span class="hljs-subst">{bootstrap_ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{bootstrap_ci_upper:<span class="hljs-number">.3</span>f}</span>]
â€¢ å®½åº¦: <span class="hljs-subst">{bootstrap_ci_upper-bootstrap_ci_lower:<span class="hljs-number">.3</span>f}</span>

ä¼ ç»Ÿæ–¹æ³•:
â€¢ åŒºé—´: [<span class="hljs-subst">{traditional_ci_lower:<span class="hljs-number">.3</span>f}</span>, <span class="hljs-subst">{traditional_ci_upper:<span class="hljs-number">.3</span>f}</span>]
â€¢ å®½åº¦: <span class="hljs-subst">{traditional_ci_upper-traditional_ci_lower:<span class="hljs-number">.3</span>f}</span>
â€¢ zå€¼: <span class="hljs-subst">{z_score:<span class="hljs-number">.3</span>f}</span>

çœŸå®å‡å€¼: <span class="hljs-subst">{true_mean:<span class="hljs-number">.2</span>f}</span>
ä¸¤è€…å·®å¼‚: <span class="hljs-subst">{<span class="hljs-built_in">abs</span>((bootstrap_ci_upper-bootstrap_ci_lower) - (traditional_ci_upper-traditional_ci_lower)):<span class="hljs-number">.3</span>f}</span>"""</span>
    
    plt.text(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.98</span>, comparison_text, transform=plt.gca().transAxes, fontsize=<span class="hljs-number">10</span>,
             verticalalignment=<span class="hljs-string">'top'</span>, bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"lightyellow"</span>, alpha=<span class="hljs-number">0.8</span>))
    
    plt.tight_layout()
    plt.show()
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">'bootstrap'</span>: (bootstrap_ci_lower, bootstrap_ci_upper),
        <span class="hljs-string">'traditional'</span>: (traditional_ci_lower, traditional_ci_upper),
        <span class="hljs-string">'width_difference'</span>: <span class="hljs-built_in">abs</span>((bootstrap_ci_upper-bootstrap_ci_lower) - (traditional_ci_upper-traditional_ci_lower))
    }

<span class="hljs-comment"># è¿è¡Œå›¾7</span>
ci_comparison = plot_bootstrap_vs_traditional(original_data)
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
Bootstrapæ–¹æ³•:<br/>
ç½®ä¿¡åŒºé—´: [47.821, 50.503]<br/>
åŒºé—´å®½åº¦: 2.682</p>
<p>ä¼ ç»Ÿæ­£æ€è¿‘ä¼¼æ–¹æ³•:<br/>
ç½®ä¿¡åŒºé—´: [47.752, 50.586]<br/>
åŒºé—´å®½åº¦: 2.834<br/>
zå€¼: 1.960<br/>
è¯¯å·®èŒƒå›´: 1.417</p>
<p>æ¯”è¾ƒ:<br/>
åŒºé—´å®½åº¦å·®å¼‚: 0.152<br/>
æ˜¯å¦éƒ½åŒ…å«çœŸå®å‡å€¼: True</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f074d063d2f4bde979e9b2794b60df1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=jLZ4JBlRMfL38%2BSdePmbX%2F2fPE0%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**æ¯”è¾ƒBootstrapä¸ä¼ ç»Ÿæ–¹æ³•çš„ç½®ä¿¡åŒºé—´</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>è¯¯å·®æ¡è¡¨ç¤ºä¸åŒæ–¹æ³•çš„ç½®ä¿¡åŒºé—´</li>
<li>çº¢è‰²è™šçº¿è¡¨ç¤ºçœŸå®å‡å€¼</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**å¯¹æ¯”Bootstrapä¸ä¼ ç»Ÿæ­£æ€è¿‘ä¼¼æ–¹æ³•</li>
<li>**æ•ˆæœï¼š**æ˜¾ç¤ºä¸¤ç§æ–¹æ³•åœ¨æ­£æ€æ•°æ®ä¸‹çš„ç›¸ä¼¼æ€§</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>Bootstrapç½®ä¿¡åŒºé—´ï¼šä½¿ç”¨ç™¾åˆ†ä½æ•°æ³•è®¡ç®—</li>
<li>ä¼ ç»Ÿç½®ä¿¡åŒºé—´ï¼šåŸºäºæ­£æ€å‡è®¾å’Œzåˆ†æ•°è®¡ç®—</li>
<li>åŒºé—´å®½åº¦æ¯”è¾ƒï¼šä¸¤ç§æ–¹æ³•çš„ç½®ä¿¡åŒºé—´å®½åº¦</li>
<li>åŒ…å«æ€§æ£€æŸ¥ï¼šéªŒè¯ä¸¤ç§æ–¹æ³•æ˜¯å¦éƒ½åŒ…å«çœŸå®å‚æ•°</li>
<li>æ–¹æ³•ç­‰ä»·æ€§ï¼šåœ¨æ­£æ€å‡è®¾æ»¡è¶³æ—¶ï¼Œä¸¤ç§æ–¹æ³•åº”è¯¥ç»™å‡ºç›¸ä¼¼ç»“æœ</li>
</ul>
</li>
</ul>
<h3 data-id="heading-13">8. åæ€æ•°æ®çš„Bootstrapåº”ç”¨</h3>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<blockquote>
<p>=== è®¡ç®—å†…å®¹ ===<br/>
åæ€æ•°æ®åˆ†æ:<br/>
åæ€æ•°æ®å‡å€¼: 6.829<br/>
åæ€æ•°æ®æ ‡å‡†å·®: 1.830<br/>
åæ€æ•°æ®ååº¦: 1.500</p>
<p>Bootstrapç»“æœ:<br/>
Bootstrapå‡å€¼: 6.829<br/>
Bootstrapæ ‡å‡†å·®: 0.178<br/>
ç½®ä¿¡åŒºé—´: [6.490, 7.180]</p>
<p>ä¼ ç»Ÿæ–¹æ³•ç»“æœ:<br/>
ç½®ä¿¡åŒºé—´: [6.471, 7.188]</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/083584d1ca8244898d3b835c967149c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745413&amp;x-signature=e0HYa1vpI1YJC4O%2BbP8V%2BhN7VFA%3D" alt="" loading="lazy"/></p>
<ul>
<li>**å›¾ç¤ºå†…å®¹ï¼š**Bootstrapåœ¨éæ­£æ€åˆ†å¸ƒæ•°æ®ä¸­çš„åº”ç”¨</li>
<li><strong>å›¾ç‰‡å«ä¹‰ï¼š</strong>
<ul>
<li>æ©™è‰²ç›´æ–¹å›¾ï¼šåæ€æ•°æ®çš„Bootstrapå‡å€¼åˆ†å¸ƒ</li>
<li>çº¢è‰²è™šçº¿ï¼šç½®ä¿¡åŒºé—´è¾¹ç•Œ</li>
</ul>
</li>
<li>**ç›®çš„ï¼š**å±•ç¤ºBootstrapåœ¨åˆ†å¸ƒå‡è®¾ä¸æ»¡è¶³æ—¶çš„ä¼˜åŠ¿</li>
<li>**æ•ˆæœï¼š**æ˜¾ç¤ºBootstrapèƒ½å¤Ÿå¤„ç†éæ­£æ€åˆ†å¸ƒçš„æƒ…å†µ</li>
<li><strong>è®¡ç®—å†…å®¹è¯´æ˜ï¼š</strong>
<ul>
<li>åæ€æ•°æ®ç”Ÿæˆï¼šä½¿ç”¨æŒ‡æ•°åˆ†å¸ƒåˆ›å»ºå³åæ•°æ®</li>
<li>ååº¦è®¡ç®—ï¼šé‡åŒ–æ•°æ®çš„éå¯¹ç§°æ€§</li>
<li>Bootstrapåº”ç”¨ï¼šåœ¨åæ€æ•°æ®ä¸Šæ‰§è¡ŒBootstrapé‡‡æ ·</li>
<li>æ–¹æ³•æ¯”è¾ƒï¼šå¯¹æ¯”Bootstrapä¸ä¼ ç»Ÿæ–¹æ³•åœ¨åæ€æ•°æ®ä¸Šçš„è¡¨ç°</li>
<li>ä¼˜åŠ¿å±•ç¤ºï¼šçªå‡ºBootstrapä¸ä¾èµ–åˆ†å¸ƒå‡è®¾çš„ä¼˜ç‚¹</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">9. ç¤ºä¾‹æ€»ç»“</h3>
<p>è¿™8å¼ å›¾ç‰‡ç³»ç»Ÿåœ°å±•ç¤ºäº†Bootstrapé‡‡æ ·çš„å„ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>åŸºç¡€æ¦‚å¿µï¼šæŠ½æ ·è¯¯å·®å’Œåˆ†å¸ƒç†è§£</li>
<li>é‡‡æ ·æœºåˆ¶ï¼šæœ‰æ”¾å›æŠ½æ ·çš„å…·ä½“è¿‡ç¨‹</li>
<li>å˜å¼‚æ€§ï¼šä¸åŒBootstrapæ ·æœ¬çš„ç»Ÿè®¡ç‰¹æ€§</li>
<li>ä¸ç¡®å®šæ€§é‡åŒ–ï¼šç½®ä¿¡åŒºé—´ä¼°è®¡</li>
<li>æ ·æœ¬å¤§å°å½±å“ï¼šç¨³å®šæ€§ä¸æ ·æœ¬é‡çš„å…³ç³»</li>
<li>è¦†ç›–æ¦‚ç‡éªŒè¯ï¼šæ–¹æ³•å¯é æ€§çš„å®è¯æ£€éªŒ</li>
<li>æ–¹æ³•æ¯”è¾ƒï¼šBootstrapä¸ä¼ ç»Ÿæ–¹æ³•çš„å¯¹æ¯”</li>
<li>é²æ£’æ€§åº”ç”¨ï¼šåœ¨éæ­£æ€æƒ…å†µä¸‹çš„ä¼˜åŠ¿</li>
</ul>
<h2 data-id="heading-15">ä¸ƒã€æ€»ç»“</h2>
<p>Bootstrapé‡‡æ ·æ˜¯ä¸€ç§åŸºäºæ•°æ®é‡æŠ½æ ·çš„ç»Ÿè®¡æ¨æ–­æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¯¹åŸå§‹æ•°æ®é›†è¿›è¡Œæœ‰æ”¾å›çš„é‡å¤æŠ½æ ·ï¼Œæ„å»ºå¤šä¸ªBootstrapæ ·æœ¬ï¼Œè¿›è€Œä¼°è®¡ç»Ÿè®¡é‡çš„æŠ½æ ·åˆ†å¸ƒã€‚è¯¥æ–¹æ³•æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºä¸ä¾èµ–äºæ€»ä½“åˆ†å¸ƒçš„å…·ä½“å½¢å¼ï¼Œç‰¹åˆ«é€‚ç”¨äºå°æ ·æœ¬æƒ…å†µå’Œå¤æ‚ç»Ÿè®¡é‡çš„æ¨æ–­ã€‚</p>
<p>åœ¨Bootstrapåº”ç”¨ä¸­ï¼Œæ ‡å‡†è¯¯çš„è®¡ç®—å…¬å¼SE = Ïƒ/âˆšnä½“ç°äº†æ ·æœ¬å‡å€¼å˜å¼‚æ€§çš„é‡åŒ–ï¼Œå…¶ä¸­Ïƒä¸ºæ€»ä½“æ ‡å‡†å·®ï¼Œnä¸ºæ ·æœ¬å®¹é‡ã€‚é€šè¿‡å¤§é‡Bootstrapæ ·æœ¬çš„è®¡ç®—ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè·å¾—ç»Ÿè®¡é‡çš„ç»éªŒåˆ†å¸ƒï¼Œè¿›è€Œæ„å»ºç½®ä¿¡åŒºé—´ã€è¿›è¡Œå‡è®¾æ£€éªŒå’Œè¯„ä¼°æ¨¡å‹ç¨³å®šæ€§ã€‚</p>
<p>Bootstrapæ–¹æ³•åœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºå¤šé‡ä»·å€¼ï¼šé¦–å…ˆï¼Œå®ƒèƒ½å¤Ÿæœ‰æ•ˆå¤„ç†éæ­£æ€åˆ†å¸ƒæ•°æ®ï¼Œæä¾›æ›´ç¨³å¥çš„å‚æ•°ä¼°è®¡ï¼›å…¶æ¬¡ï¼Œé€šè¿‡ç½®ä¿¡åŒºé—´é‡åŒ–äº†ä¼°è®¡çš„ä¸ç¡®å®šæ€§ï¼Œå¢å¼ºäº†ç»Ÿè®¡æ¨æ–­çš„å¯é æ€§ï¼›å†è€…ï¼Œåœ¨å°æ ·æœ¬åœºæ™¯ä¸‹ï¼ŒBootstrapé€šè¿‡é‡æŠ½æ ·æ”¾å¤§äº†æ•°æ®ä¿¡æ¯ï¼Œæ”¹å–„äº†ä¼ ç»Ÿæ–¹æ³•çš„å±€é™æ€§ã€‚ä»è®¡ç®—å®ç°è§’åº¦çœ‹ï¼ŒBootstrapæ–¹æ³•ç»“åˆç°ä»£è®¡ç®—èƒ½åŠ›ï¼Œä¸ºå¤§æ¨¡å‹è®­ç»ƒå’Œå¤æ‚ç»Ÿè®¡æ¨æ–­æä¾›äº†å®ç”¨å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡äº†è§£ Anthropic æ–°æ¨å‡ºçš„ Claude agent çš„ Skills æ ‡å‡†]]></title>    <link>https://juejin.cn/post/7589482741759590427</link>    <guid>https://juejin.cn/post/7589482741759590427</guid>    <pubDate>2025-12-31T00:43:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589482741759590427" data-draft-id="7589482741759574043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡äº†è§£ Anthropic æ–°æ¨å‡ºçš„ Claude agent çš„ Skills æ ‡å‡†"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2025-12-31T00:43:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="windliang"/> <meta itemprop="url" content="https://juejin.cn/user/3350967171169901"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡äº†è§£ Anthropic æ–°æ¨å‡ºçš„ Claude agent çš„ Skills æ ‡å‡†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3350967171169901/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    windliang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:43:46.000Z" title="Wed Dec 31 2025 00:43:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ Skills åœ¨å„ä¸ªåœ°æ–¹ä¸åœçš„å‡ºç°åœ¨è‡ªå·±è§†é‡ä¸­ï¼Œç´¢æ€§ç®€å•äº†è§£ä¸‹ã€‚</p>
<p>Anthropic å®˜æ–¹åœ¨ <strong>2025 å¹´ 10 æœˆ 16 æ—¥</strong> æ­£å¼å‘å¸ƒäº† Claude Skills åŠŸèƒ½ï¼Œï¼ˆClaude App / Claude Code / API / Agent SDKï¼‰æ”¯æŒã€‚</p>
<p>åœ¨ <strong>2025 å¹´ 12 æœˆ 18 æ—¥</strong>æ¨å‡ºäº† Agent Skills çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">å¼€æ”¾æ ‡å‡†ï¼ˆOpen Standardï¼‰</a>ï¼Œæ„å‘³ç€ Skill ä¸å†ä»…é™ Claude ç‹¬æœ‰ï¼Œå’Œ MCP ä¸€æ ·ï¼Œæœç€é€šç”¨ã€è·¨å¹³å°å¯é‡‡ç”¨çš„è§„èŒƒæ–¹å‘å‘å±•ï¼ˆCursor ç›®å‰åªæœ‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fdocs%2Fcontext%2Fskills%23agent-skills" target="_blank" title="https://cursor.com/docs/context/skills#agent-skills" ref="nofollow noopener noreferrer">Nightly</a> ç‰ˆæ”¯æŒï¼‰ã€‚</p>
<p>å…ˆç»™ä¸ªå®šä¹‰ï¼š</p>
<blockquote>
<p><strong>Skill æ˜¯ä¸€ç§æ¨¡å—åŒ–ã€å¯å¤ç”¨çš„èƒ½åŠ›åŒ…ï¼Œç”¨äºå°†ç‰¹å®šä»»åŠ¡çš„ä¸“ä¸šçŸ¥è¯†ã€å·¥ä½œæµç¨‹å’Œå¯æ‰§è¡Œé€»è¾‘è¿›è¡Œç»“æ„åŒ–å°è£…ï¼Œä½¿ AI åœ¨æ‰§è¡Œè¯¥ç±»ä»»åŠ¡æ—¶å…·å¤‡ç¨³å®šã€ä¸€è‡´ä¸”å¯æŒç»­æ¼”è¿›çš„è¡Œä¸ºèƒ½åŠ›ã€‚</strong></p>
</blockquote>
<p>Agent è‡ªä¸»å†³ç­–ï¼Œä¼šæ ¹æ®ç›®æ ‡<strong>ä¸»åŠ¨é€‰æ‹©</strong> Skillï¼Œå¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­<strong>æ¸è¿›å±•å¼€</strong>ã€åŠ¨æ€è°ƒæ•´è¡ŒåŠ¨è·¯å¾„ã€‚</p>
<p>ç¨å¾®æœ‰ä¸€ç‚¹æŠ½è±¡ï¼Œä¸‹è¾¹å†å±•å¼€ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>è¿‡å»ä¸€å¹´ï¼ŒAI åœˆå‡ ä¹æ‰€æœ‰äººéƒ½åœ¨è°ˆ Agentï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEaKx526SE5nb-T9XgJlkNQ" target="_blank" title="https://mp.weixin.qq.com/s/EaKx526SE5nb-T9XgJlkNQ" ref="nofollow noopener noreferrer">ä¸€æ–‡å…¥é—¨ agentï¼šä»ç†è®ºåˆ°ä»£ç å®æˆ˜</a>ï¼‰ã€‚è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ã€è°ƒç”¨å·¥å…·ã€è·¨ç³»ç»Ÿæ“ä½œã€åƒäººä¸€æ ·å·¥ä½œâ€”â€”Agent è¢«å¯„äºˆäº†å¤ªå¤šæœŸå¾…ã€‚ä½†ä¸€ä¸ªè¶Šæ¥è¶Šæ˜æ˜¾çš„äº‹å®æ˜¯ï¼š<strong>Agent å¾ˆèªæ˜ï¼Œå´å§‹ç»ˆâ€œä¸å¥½ç”¨â€ã€‚</strong></p>
<p>ä¸æ˜¯å› ä¸ºæ¨¡å‹ä¸å¤Ÿå¼ºï¼Œè€Œæ˜¯å› ä¸ºâ€”â€”æˆ‘ä»¬ä¸€ç›´åœ¨ç”¨ã€Œé”™è¯¯çš„æ–¹å¼ã€æ„å»ºå®ƒä»¬ã€‚</p>
<h3 data-id="heading-1">Agent çš„é—®é¢˜ï¼Œä¸åœ¨æ™ºèƒ½ï¼Œè€Œåœ¨ã€Œä¸“ä¸šæ€§ã€</h3>
<p>ä»Šå¤©çš„ Agentï¼Œåƒä¸€ä¸ªæå…¶èªæ˜ä½†æ¯«æ— è¡Œä¸šç»éªŒçš„æ–°äººã€‚</p>
<p>å®ƒå¯ä»¥ï¼š</p>
<ul>
<li>æ¨ç†</li>
<li>å†™ä»£ç </li>
<li>è°ƒç”¨ API</li>
<li>æ‹†è§£ä»»åŠ¡</li>
</ul>
<p>ä½†å®ƒ<strong>å¹¶ä¸çœŸæ­£æ‡‚ä½ çš„å·¥ä½œ</strong>ã€‚</p>
<p>ä½ å¿…é¡»ï¼š</p>
<ul>
<li>åœ¨æ¯æ¬¡å¯¹è¯é‡Œåå¤è§£é‡ŠèƒŒæ™¯</li>
<li>æ‰‹æŠŠæ‰‹æ•™æµç¨‹</li>
<li>ä¸æ–­çº é”™</li>
<li>æ¥å—å®ƒâ€œè¿™æ¬¡è®°ä½äº†ï¼Œä¸‹æ¬¡åˆå¿˜äº†â€</li>
</ul>
<p>è¿™ä¸æ˜¯æ™ºèƒ½é—®é¢˜ï¼Œè€Œæ˜¯<strong>ä¸“ä¸šçŸ¥è¯†æ— æ³•æ²‰æ·€</strong>çš„é—®é¢˜ã€‚</p>
<p>ä¸€ä¸ªå¾ˆç›´è§‚çš„ç±»æ¯”æ˜¯ï¼š</p>
<p>çœ‹ç—…æ—¶ï¼Œä½ ä¼šé€‰ä¸€ä¸ª IQ 300ã€è®°å¾—ä½æ‰€æœ‰åŒ»å­¦ç†è®ºçš„å¤©æ‰ï¼Œè¿˜æ˜¯ä¸€ä¸ªåšäº†åå¹´ä¸´åºŠçš„ä¸€çº¿åŒ»ç”Ÿï¼Ÿ</p>
<p>Agent ä»Šå¤©æ›´åƒå‰è€…â€”â€”èªæ˜ï¼Œä½†ä¸ç¨³å®šã€ä¸ä¸€è‡´ã€ä¸å¯å¤ç”¨ã€‚</p>
<h3 data-id="heading-2">çœŸæ­£ç¼ºçš„ä¸æ˜¯ Agentï¼Œè€Œæ˜¯ã€Œå¯å¤ç”¨çš„ä¸“ä¸šèƒ½åŠ›ã€</h3>
<p>å¾ˆå¤šå›¢é˜Ÿå°è¯•çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š<strong>ä¸ºæ¯ä¸ªåœºæ™¯é€ ä¸€ä¸ªæ–° Agentã€‚</strong></p>
<ul>
<li>ä¸€ä¸ªå†™ä»£ç çš„ Agent</li>
<li>ä¸€ä¸ªåšè´¢æŠ¥çš„ Agent</li>
<li>ä¸€ä¸ªåˆ†ææ•°æ®çš„ Agent</li>
<li>ä¸€ä¸ªå†™æ–¹æ¡ˆçš„ Agent</li>
</ul>
<p>ç»“æœæ˜¯ï¼š</p>
<ul>
<li>Agent æ•°é‡å¤±æ§</li>
<li>ç»´æŠ¤æˆæœ¬æé«˜</li>
<li>èƒ½åŠ›å½¼æ­¤å‰²è£‚</li>
<li>è¡Œä¸ºä¸å¯é¢„æµ‹</li>
</ul>
<p>è€Œ Anthropic å›¢é˜Ÿåœ¨å®è·µä¸­å‘ç°äº†ä¸€ä»¶å…³é”®çš„äº‹ï¼š</p>
<blockquote>
<p><strong>Agent æœ¬èº«ï¼Œå…¶å®å·²ç»è¶³å¤Ÿé€šç”¨äº†ã€‚</strong></p>
</blockquote>
<p>çœŸæ­£ç¨€ç¼ºçš„ï¼Œä¸æ˜¯ã€Œä¼šæ€è€ƒçš„ä¸œè¥¿ã€ï¼Œè€Œæ˜¯<strong>è¢«æ•´ç†ã€è¢«å›ºåŒ–ã€èƒ½åå¤è°ƒç”¨çš„ä¸“ä¸šæµç¨‹</strong>ã€‚</p>
<p>è¿™ï¼Œå°±æ˜¯ Skill å‡ºç°çš„èƒŒæ™¯ã€‚</p>
<h3 data-id="heading-3">ä»€ä¹ˆæ˜¯ Skillï¼Ÿ</h3>
<p><strong>Skill = ä¸€ä¸ªè£…ç€â€œä¸“ä¸šæµç¨‹â€çš„æ–‡ä»¶å¤¹ã€‚</strong></p>
<p>ä¸æ˜¯æ¨¡å‹å‚æ•°ï¼Œä¸æ˜¯ Promptï¼Œä¸æ˜¯é»‘ç›’å·¥å…·ï¼Œè€Œæ˜¯<strong>æ¸…æ™°ã€å¯è¯»ã€å¯ç»´æŠ¤çš„æ–‡ä»¶ç»“æ„</strong>ã€‚</p>
<p>ä¸€ä¸ª Skill é‡Œé€šå¸¸åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä½¿ç”¨è¯´æ˜ï¼ˆSKILL.mdï¼‰</li>
<li>æ˜ç¡®çš„æ‰§è¡Œæµç¨‹</li>
<li>å¯è¿è¡Œçš„è„šæœ¬æˆ–ä»£ç </li>
<li>æ¨¡æ¿ã€ç¤ºä¾‹ã€èµ„æºæ–‡ä»¶</li>
</ul>
<p>å®ƒçš„æœ¬è´¨ä¸æ˜¯â€œèªæ˜â€ï¼Œè€Œæ˜¯<strong>ç»éªŒçš„å°è£…</strong>ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆ Skill æ¯” Toolã€Prompt éƒ½ä¼˜ï¼Ÿ</h3>
<ol start="0">
<li>
<p>å®ƒä¸å ç”¨ä¸Šä¸‹æ–‡</p>
<p>Skill é‡‡ç”¨ã€ŒæŒ‰éœ€åŠ è½½ã€çš„æ–¹å¼ï¼šé»˜è®¤åªå‘ Agent æš´éœ²å¿…è¦çš„å…ƒä¿¡æ¯ï¼Œåªæœ‰åœ¨ä»»åŠ¡è¿‡ç¨‹ä¸­åˆ¤æ–­éœ€è¦æŸé¡¹èƒ½åŠ›æ—¶ï¼Œæ‰ä¼š<strong>ä¸»åŠ¨è¯»å–</strong>å¯¹åº” Skill çš„å®Œæ•´å†…å®¹ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼ŒAgent å¯ä»¥åŒæ—¶ã€Œæ‹¥æœ‰ã€ä¸Šç™¾ä¸ª Skillï¼Œå´ä¸å¿…ä¸€æ¬¡æ€§æŠŠå®ƒä»¬å…¨éƒ¨å¡è¿›ä¸Šä¸‹æ–‡ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰ä»»åŠ¡è‡ªè¡Œå†³ç­–è¯¥è°ƒç”¨å“ªä¸€ä¸ªã€åœ¨ä»€ä¹ˆæ—¶å€™è°ƒç”¨ã€‚</p>
<p>ä¸Šä¸‹æ–‡è¢«ç”¨åœ¨çœŸæ­£éœ€è¦çš„åœ°æ–¹ï¼Œèƒ½åŠ›ä¹Ÿå› æ­¤å˜å¾—å¯ç»„åˆã€å¯æ‰©å±•ã€‚</p>
</li>
<li>
<p>å®ƒæ˜¯å¯ç»´æŠ¤çš„</p>
<p>å’Œ Prompt æœ€å¤§çš„ä¸åŒåœ¨äºï¼š</p>
<ul>
<li>Skill æ˜¯æ–‡ä»¶</li>
<li>æ–‡ä»¶å¯ä»¥ç‰ˆæœ¬æ§åˆ¶</li>
<li>å¯ä»¥å›æ»šã€æ¼”è¿›ã€å®¡è®¡</li>
</ul>
<p>è¿™è®© Agent çš„è¡Œä¸ºç¬¬ä¸€æ¬¡å˜å¾—ï¼š</p>
<ul>
<li>å¯é¢„æµ‹</li>
<li>å¯å¤åˆ¶</li>
<li>å¯ä¼ æ‰¿</li>
</ul>
</li>
<li>
<p>å®ƒæ˜¯çœŸæ­£çš„ã€ŒçŸ¥è¯†æ²‰æ·€ã€</p>
<p>Prompt æ˜¯ä¸€æ¬¡æ€§çš„å¯¹è¯æŠ€å·§ï¼ŒSkill æ˜¯å¯å¤ç”¨çš„æ“ä½œçŸ¥è¯†ã€‚</p>
<p>å®ƒè®°å½•çš„ä¸æ˜¯ã€Œä½ æ€ä¹ˆè¯´ã€ï¼Œè€Œæ˜¯ã€Œäº‹æƒ…åº”è¯¥æ€ä¹ˆåšã€ã€‚</p>
</li>
</ol>
<h3 data-id="heading-5">Skill Ã— MCPï¼Œå®Œæ•´çš„ Agent æ¶æ„</h3>
<p>Anthropic åœ¨å®è·µä¸­é€æ¸å½¢æˆäº†ä¸€å¥—æ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼š</p>
<ul>
<li>
<p><strong>æ¨¡å‹ï¼ˆModelï¼‰</strong></p>
<p>è´Ÿè´£æ€è€ƒå’Œæ¨ç†</p>
</li>
<li>
<p><strong>è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰</strong></p>
<p>æä¾›æ–‡ä»¶ç³»ç»Ÿã€ä»£ç æ‰§è¡Œèƒ½åŠ›</p>
</li>
<li>
<p><strong>MCP Server</strong></p>
<p>è¿æ¥å¤–éƒ¨ä¸–ç•Œï¼ˆAPIã€æ•°æ®ã€ç³»ç»Ÿï¼‰</p>
</li>
<li>
<p><strong>Skill</strong></p>
<p>æä¾›ä¸“ä¸šåˆ¤æ–­ä¸æ‰§è¡Œæ–¹å¼</p>
</li>
</ul>
<p>MCP è´Ÿè´£ã€Œèƒ½åšä»€ä¹ˆã€ï¼ŒSkill è´Ÿè´£ã€Œåº”è¯¥æ€ä¹ˆåšã€ï¼ŒAgent æœ¬èº«ï¼Œåªæ˜¯ä¸€ä¸ªæ‰§è¡Œè½½ä½“ã€‚</p>
<h3 data-id="heading-6">Skill æœªæ¥æ–¹å‘</h3>
<ul>
<li>
<p><strong>Testing &amp; Evaluation</strong>ï¼ˆæµ‹è¯•ä¸è¯„ä¼°ï¼‰</p>
<p>å¯ä»¥åƒç°åœ¨çš„è½¯ä»¶ä¸€æ ·è¿›è¡Œæµ‹è¯•ã€åˆ†æ Skillã€‚</p>
</li>
<li>
<p><strong>Versioning</strong>ï¼ˆç‰ˆæœ¬æ¼”è¿›ä¸è¿½æº¯ï¼‰</p>
<p>æ–°å¢ç‰ˆæœ¬æ§åˆ¶ï¼Œæ¯”å¦‚åƒç°åœ¨çš„ node åŒ…ç‰ˆæœ¬ä¸€æ ·ã€‚</p>
</li>
<li>
<p><strong>Skill dependencies</strong>ï¼ˆSkill ä¹‹é—´çš„ä¾èµ–ï¼‰</p>
<p>Skill å¼•å…¥å¦ä¸€ä¸ª Skillï¼Œäº’ç›¸ç»„åˆä¾èµ–ï¼Œæ„å»ºæ›´åŠ å¼ºå¤§çš„ Skillã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2060b9f4048a4b27871c5311be207cb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2luZGxpYW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746625&amp;x-signature=%2Fe92CreGdXmkFrXr1voHgB1X2dY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">å…·ä½“å®ä¾‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">anthropics/skills: Public repository for Agent Skills</a> å®˜æ–¹å±•ç¤ºäº†äº› Claude Skills ï¼Œæ¶µç›–åˆ›æ„åº”ç”¨ï¼ˆè‰ºæœ¯ã€éŸ³ä¹ã€è®¾è®¡ï¼‰åˆ°æŠ€æœ¯ä»»åŠ¡ï¼ˆæµ‹è¯• Web åº”ç”¨ã€MCP æœåŠ¡å™¨ç”Ÿæˆï¼‰å†åˆ°ä¼ä¸šå·¥ä½œæµç¨‹ï¼ˆé€šä¿¡ã€å“ç‰Œç­‰ï¼‰ã€‚</p>
<p>çœ‹ä¸€ä¸‹ web-artifacts-builderï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a68dc2a6000f4f538d85e3f9b3431273~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2luZGxpYW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746625&amp;x-signature=X6MWIUb1eOfhkNdbYDjeznxG060%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸ª SKILL.mdï¼Œè¿˜æœ‰ä¸¤ä¸ªè„šæœ¬æ–‡ä»¶ã€‚å…¶ä¸­ SKILL.md å¦‚ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªç½‘ç«™çš„æŠ€èƒ½ï¼ˆä¸­æ–‡æ˜¯æˆ‘åæ¥è¡¥çš„ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: web-artifacts-builder
description: Suite of tools for creating elaborate, multi-component claude.ai HTML artifacts using modern frontend web technologies (React, Tailwind CSS, shadcn/ui). Use for complex artifacts requiring state management, routing, or shadcn/ui components - not for simple single-file HTML/JSX artifacts.
description: ä¸€å¥—ç”¨äºåˆ›å»ºå¤æ‚çš„å¤šç»„ä»¶ claude.ai HTML å·¥ä»¶çš„å·¥å…·é›†ï¼Œä½¿ç”¨ç°ä»£å‰ç«¯ Web æŠ€æœ¯ï¼ˆReactã€Tailwind CSSã€shadcn/uiï¼‰ã€‚é€‚ç”¨äºéœ€è¦çŠ¶æ€ç®¡ç†ã€è·¯ç”±æˆ– shadcn/ui ç»„ä»¶çš„å¤æ‚å·¥ä»¶ - ä¸é€‚ç”¨äºç®€å•çš„å•æ–‡ä»¶ HTML/JSX å·¥ä»¶ã€‚
<span class="hljs-section">license: Complete terms in LICENSE.txt
---</span>
â€‹
â€‹
<span class="hljs-section"># Web Artifacts Builder</span>
<span class="hljs-section"># Web å·¥ä»¶æ„å»ºå™¨</span>
â€‹
To build powerful frontend claude.ai artifacts, follow these steps:
è¦æ„å»ºå¼ºå¤§çš„å‰ç«¯ claude.ai å·¥ä»¶ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
â€‹
<span class="hljs-bullet">1.</span> Initialize the frontend repo using <span class="hljs-code">`scripts/init-artifact.sh`</span>
<span class="hljs-bullet">1.</span> ä½¿ç”¨ <span class="hljs-code">`scripts/init-artifact.sh`</span> åˆå§‹åŒ–å‰ç«¯ä»“åº“
â€‹
<span class="hljs-bullet">2.</span> Develop your artifact by editing the generated code
<span class="hljs-bullet">2.</span> é€šè¿‡ç¼–è¾‘ç”Ÿæˆçš„ä»£ç æ¥å¼€å‘æ‚¨çš„å·¥ä»¶
â€‹
<span class="hljs-bullet">3.</span> Bundle all code into a single HTML file using <span class="hljs-code">`scripts/bundle-artifact.sh`</span>
<span class="hljs-bullet">3.</span> ä½¿ç”¨ <span class="hljs-code">`scripts/bundle-artifact.sh`</span> å°†æ‰€æœ‰ä»£ç æ‰“åŒ…æˆå•ä¸ª HTML æ–‡ä»¶
â€‹
<span class="hljs-bullet">4.</span> Display artifact to user
<span class="hljs-bullet">4.</span> å‘ç”¨æˆ·å±•ç¤ºå·¥ä»¶
â€‹
<span class="hljs-bullet">5.</span> (Optional) Test the artifact
<span class="hljs-bullet">5.</span> ï¼ˆå¯é€‰ï¼‰æµ‹è¯•å·¥ä»¶
â€‹
<span class="hljs-strong">**Stack**</span>: React 18 + TypeScript + Vite + Parcel (bundling) + Tailwind CSS + shadcn/ui
<span class="hljs-strong">**æŠ€æœ¯æ ˆ**</span>ï¼šReact 18 + TypeScript + Vite + Parcelï¼ˆæ‰“åŒ…ï¼‰+ Tailwind CSS + shadcn/ui
â€‹
<span class="hljs-section">## Design &amp; Style Guidelines</span>
<span class="hljs-section">## è®¾è®¡ä¸æ ·å¼æŒ‡å—</span>
â€‹
VERY IMPORTANT: To avoid what is often referred to as "AI slop", avoid using excessive centered layouts, purple gradients, uniform rounded corners, and Inter font.
éå¸¸é‡è¦ï¼šä¸ºé¿å…é€šå¸¸è¢«ç§°ä¸º"AI åƒåœ¾"çš„è®¾è®¡ï¼Œè¯·é¿å…ä½¿ç”¨è¿‡å¤šçš„å±…ä¸­å¸ƒå±€ã€ç´«è‰²æ¸å˜ã€ç»Ÿä¸€çš„åœ†è§’å’Œ Inter å­—ä½“ã€‚
â€‹
<span class="hljs-section">## Quick Start</span>
<span class="hljs-section">## å¿«é€Ÿå¼€å§‹</span>
â€‹
<span class="hljs-section">### Step 1: Initialize Project</span>
<span class="hljs-section">### æ­¥éª¤ 1ï¼šåˆå§‹åŒ–é¡¹ç›®</span>
â€‹
Run the initialization script to create a new React project:
è¿è¡Œåˆå§‹åŒ–è„šæœ¬ä»¥åˆ›å»ºæ–°çš„ React é¡¹ç›®ï¼š
â€‹
<span class="hljs-code">```bash
bash scripts/init-artifact.sh &lt;project-name&gt;
cd &lt;project-name&gt;
```</span>
â€‹
This creates a fully configured project with:
è¿™å°†åˆ›å»ºä¸€ä¸ªå®Œå…¨é…ç½®å¥½çš„é¡¹ç›®ï¼ŒåŒ…å«ï¼š
â€‹
<span class="hljs-bullet">-</span> âœ… React + TypeScript (via Vite)
<span class="hljs-bullet">-</span> âœ… React + TypeScriptï¼ˆé€šè¿‡ Viteï¼‰
â€‹
<span class="hljs-bullet">-</span> âœ… Tailwind CSS 3.4.1 with shadcn/ui theming system
<span class="hljs-bullet">-</span> âœ… Tailwind CSS 3.4.1 ä¸ shadcn/ui ä¸»é¢˜ç³»ç»Ÿ
â€‹
<span class="hljs-bullet">-</span> âœ… Path aliases (<span class="hljs-code">`@/`</span>) configured
<span class="hljs-bullet">-</span> âœ… å·²é…ç½®è·¯å¾„åˆ«åï¼ˆ<span class="hljs-code">`@/`</span>ï¼‰
â€‹
<span class="hljs-bullet">-</span> âœ… 40+ shadcn/ui components pre-installed
<span class="hljs-bullet">-</span> âœ… é¢„å®‰è£… 40+ ä¸ª shadcn/ui ç»„ä»¶
â€‹
<span class="hljs-bullet">-</span> âœ… All Radix UI dependencies included
<span class="hljs-bullet">-</span> âœ… åŒ…å«æ‰€æœ‰ Radix UI ä¾èµ–
â€‹
<span class="hljs-bullet">-</span> âœ… Parcel configured for bundling (via .parcelrc)
<span class="hljs-bullet">-</span> âœ… å·²é…ç½® Parcel ç”¨äºæ‰“åŒ…ï¼ˆé€šè¿‡ .parcelrcï¼‰
â€‹
<span class="hljs-bullet">-</span> âœ… Node 18+ compatibility (auto-detects and pins Vite version)
<span class="hljs-bullet">-</span> âœ… Node 18+ å…¼å®¹æ€§ï¼ˆè‡ªåŠ¨æ£€æµ‹å¹¶å›ºå®š Vite ç‰ˆæœ¬ï¼‰
â€‹
<span class="hljs-section">### Step 2: Develop Your Artifact</span>
<span class="hljs-section">### æ­¥éª¤ 2ï¼šå¼€å‘æ‚¨çš„å·¥ä»¶</span>
â€‹
To build the artifact, edit the generated files. See <span class="hljs-strong">**Common Development Tasks**</span> below for guidance.
è¦æ„å»ºå·¥ä»¶ï¼Œè¯·ç¼–è¾‘ç”Ÿæˆçš„æ–‡ä»¶ã€‚è¯·å‚é˜…ä¸‹é¢çš„<span class="hljs-strong">**å¸¸è§å¼€å‘ä»»åŠ¡**</span>ä»¥è·å–æŒ‡å¯¼ã€‚
â€‹
<span class="hljs-section">### Step 3: Bundle to Single HTML File</span>
<span class="hljs-section">### æ­¥éª¤ 3ï¼šæ‰“åŒ…ä¸ºå•ä¸ª HTML æ–‡ä»¶</span>
â€‹
To bundle the React app into a single HTML artifact:
è¦å°† React åº”ç”¨æ‰“åŒ…æˆå•ä¸ª HTML å·¥ä»¶ï¼š
â€‹
<span class="hljs-code">```bash
bash scripts/bundle-artifact.sh
```</span>
â€‹
This creates <span class="hljs-code">`bundle.html`</span> - a self-contained artifact with all JavaScript, CSS, and dependencies inlined. This file can be directly shared in Claude conversations as an artifact.
è¿™å°†åˆ›å»º <span class="hljs-code">`bundle.html`</span> - ä¸€ä¸ªè‡ªåŒ…å«çš„å·¥ä»¶ï¼Œæ‰€æœ‰ JavaScriptã€CSS å’Œä¾èµ–é¡¹éƒ½å·²å†…è”ã€‚æ­¤æ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨ Claude å¯¹è¯ä¸­ä½œä¸ºå·¥ä»¶å…±äº«ã€‚
â€‹
<span class="hljs-strong">**Requirements**</span>: Your project must have an <span class="hljs-code">`index.html`</span> in the root directory.
<span class="hljs-strong">**è¦æ±‚**</span>ï¼šæ‚¨çš„é¡¹ç›®å¿…é¡»åœ¨æ ¹ç›®å½•ä¸­æœ‰ä¸€ä¸ª <span class="hljs-code">`index.html`</span>ã€‚
â€‹
<span class="hljs-strong">**What the script does**</span>:
<span class="hljs-strong">**è„šæœ¬çš„ä½œç”¨**</span>ï¼š
â€‹
<span class="hljs-bullet">-</span> Installs bundling dependencies (parcel, @parcel/config-default, parcel-resolver-tspaths, html-inline)
<span class="hljs-bullet">-</span> å®‰è£…æ‰“åŒ…ä¾èµ–ï¼ˆparcelã€@parcel/config-defaultã€parcel-resolver-tspathsã€html-inlineï¼‰
â€‹
<span class="hljs-bullet">-</span> Creates <span class="hljs-code">`.parcelrc`</span> config with path alias support
<span class="hljs-bullet">-</span> åˆ›å»ºæ”¯æŒè·¯å¾„åˆ«åçš„ <span class="hljs-code">`.parcelrc`</span> é…ç½®
â€‹
<span class="hljs-bullet">-</span> Builds with Parcel (no source maps)
<span class="hljs-bullet">-</span> ä½¿ç”¨ Parcel æ„å»ºï¼ˆæ— æºæ˜ å°„ï¼‰
â€‹
<span class="hljs-bullet">-</span> Inlines all assets into single HTML using html-inline
<span class="hljs-bullet">-</span> ä½¿ç”¨ html-inline å°†æ‰€æœ‰èµ„æºå†…è”åˆ°å•ä¸ª HTML ä¸­
â€‹
<span class="hljs-section">### Step 4: Share Artifact with User</span>
<span class="hljs-section">### æ­¥éª¤ 4ï¼šä¸ç”¨æˆ·å…±äº«å·¥ä»¶</span>
â€‹
Finally, share the bundled HTML file in conversation with the user so they can view it as an artifact.
æœ€åï¼Œåœ¨å¯¹è¯ä¸­ä¸ç”¨æˆ·å…±äº«æ‰“åŒ…çš„ HTML æ–‡ä»¶ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥å°†å…¶ä½œä¸ºå·¥ä»¶æŸ¥çœ‹ã€‚
â€‹
<span class="hljs-section">### Step 5: Testing/Visualizing the Artifact (Optional)</span>
<span class="hljs-section">### æ­¥éª¤ 5ï¼šæµ‹è¯•/å¯è§†åŒ–å·¥ä»¶ï¼ˆå¯é€‰ï¼‰</span>
â€‹
Note: This is a completely optional step. Only perform if necessary or requested.
æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªå®Œå…¨å¯é€‰çš„æ­¥éª¤ã€‚ä»…åœ¨å¿…è¦æ—¶æˆ–åº”è¦æ±‚æ—¶æ‰§è¡Œã€‚
â€‹
To test/visualize the artifact, use available tools (including other Skills or built-in tools like Playwright or Puppeteer). In general, avoid testing the artifact upfront as it adds latency between the request and when the finished artifact can be seen. Test later, after presenting the artifact, if requested or if issues arise.
è¦æµ‹è¯•/å¯è§†åŒ–å·¥ä»¶ï¼Œè¯·ä½¿ç”¨å¯ç”¨å·¥å…·ï¼ˆåŒ…æ‹¬å…¶ä»– Skills æˆ–å†…ç½®å·¥å…·ï¼Œå¦‚ Playwright æˆ– Puppeteerï¼‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé¿å…æå‰æµ‹è¯•å·¥ä»¶ï¼Œå› ä¸ºè¿™ä¼šåœ¨è¯·æ±‚å’Œçœ‹åˆ°å®Œæˆçš„å·¥ä»¶ä¹‹é—´å¢åŠ å»¶è¿Ÿã€‚å¦‚æœè¢«è¦æ±‚æˆ–å‡ºç°é—®é¢˜ï¼Œåœ¨å±•ç¤ºå·¥ä»¶åå†è¿›è¡Œæµ‹è¯•ã€‚
â€‹
<span class="hljs-section">## Reference</span>
<span class="hljs-section">## å‚è€ƒ</span>
â€‹
<span class="hljs-bullet">-</span> <span class="hljs-strong">**shadcn/ui components**</span>: https://ui.shadcn.com/docs/components
<span class="hljs-bullet">-</span> <span class="hljs-strong">**shadcn/ui ç»„ä»¶**</span>ï¼šhttps://ui.shadcn.com/docs/components
</code></pre>
<p>åˆå§‹åŒ–ç½‘ç«™çš„è„šæœ¬ <code>scripts/init-artifact.sh</code> å®Œå…¨å›ºå®šåŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
â€‹
<span class="hljs-comment"># Exit on error</span>
<span class="hljs-built_in">set</span> -e
â€‹
<span class="hljs-comment"># Detect Node version</span>
NODE_VERSION=$(node -v | <span class="hljs-built_in">cut</span> -d<span class="hljs-string">'v'</span> -f2 | <span class="hljs-built_in">cut</span> -d<span class="hljs-string">'.'</span> -f1)
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ” Detected Node.js version: <span class="hljs-variable">$NODE_VERSION</span>"</span>
â€‹
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$NODE_VERSION</span>"</span> -lt 18 ]; <span class="hljs-keyword">then</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Error: Node.js 18 or higher is required"</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">" Â  Current version: <span class="hljs-subst">$(node -v)</span>"</span>
 Â <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-comment"># Set Vite version based on Node version</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$NODE_VERSION</span>"</span> -ge 20 ]; <span class="hljs-keyword">then</span>
 Â VITE_VERSION=<span class="hljs-string">"latest"</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Using Vite latest (Node 20+)"</span>
<span class="hljs-keyword">else</span>
 Â VITE_VERSION=<span class="hljs-string">"5.4.11"</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Using Vite <span class="hljs-variable">$VITE_VERSION</span> (Node 18 compatible)"</span>
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-comment"># Detect OS and set sed syntax</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">$OSTYPE</span>"</span> == <span class="hljs-string">"darwin"</span>* ]]; <span class="hljs-keyword">then</span>
 Â SED_INPLACE=<span class="hljs-string">"sed -i ''"</span>
<span class="hljs-keyword">else</span>
 Â SED_INPLACE=<span class="hljs-string">"sed -i"</span>
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-comment"># Check if pnpm is installed</span>
<span class="hljs-keyword">if</span> ! <span class="hljs-built_in">command</span> -v pnpm &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ pnpm not found. Installing pnpm..."</span>
 Â npm install -g pnpm
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-comment"># Check if project name is provided</span>
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]; <span class="hljs-keyword">then</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Usage: ./create-react-shadcn-complete.sh &lt;project-name&gt;"</span>
 Â <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
â€‹
PROJECT_NAME=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
SCRIPT_DIR=<span class="hljs-string">"<span class="hljs-subst">$(cd <span class="hljs-string">"<span class="hljs-subst">$(dirname <span class="hljs-string">"<span class="hljs-variable">${BASH_SOURCE[0]}</span>"</span>)</span>"</span> &amp;&amp; pwd)</span>"</span>
COMPONENTS_TARBALL=<span class="hljs-string">"<span class="hljs-variable">$SCRIPT_DIR</span>/shadcn-components.tar.gz"</span>
â€‹
<span class="hljs-comment"># Check if components tarball exists</span>
<span class="hljs-keyword">if</span> [ ! -f <span class="hljs-string">"<span class="hljs-variable">$COMPONENTS_TARBALL</span>"</span> ]; <span class="hljs-keyword">then</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Error: shadcn-components.tar.gz not found in script directory"</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">" Â  Expected location: <span class="hljs-variable">$COMPONENTS_TARBALL</span>"</span>
 Â <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸš€ Creating new React + Vite project: <span class="hljs-variable">$PROJECT_NAME</span>"</span>
â€‹
<span class="hljs-comment"># Create new Vite project (always use latest create-vite, pin vite version later)</span>
pnpm create vite <span class="hljs-string">"<span class="hljs-variable">$PROJECT_NAME</span>"</span> --template react-ts
â€‹
<span class="hljs-comment"># Navigate into project directory</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$PROJECT_NAME</span>"</span>
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ§¹ Cleaning up Vite template..."</span>
<span class="hljs-variable">$SED_INPLACE</span> <span class="hljs-string">'/&lt;link rel="icon".*vite.svg/d'</span> index.html
<span class="hljs-variable">$SED_INPLACE</span> <span class="hljs-string">'s/&lt;title&gt;.*&lt;/title&gt;/&lt;title&gt;'</span><span class="hljs-string">"<span class="hljs-variable">$PROJECT_NAME</span>"</span><span class="hljs-string">'&lt;/title&gt;/'</span> index.html
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ Installing base dependencies..."</span>
pnpm install
â€‹
<span class="hljs-comment"># Pin Vite version for Node 18</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$NODE_VERSION</span>"</span> -lt 20 ]; <span class="hljs-keyword">then</span>
 Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“Œ Pinning Vite to <span class="hljs-variable">$VITE_VERSION</span> for Node 18 compatibility..."</span>
  pnpm add -D vite@<span class="hljs-variable">$VITE_VERSION</span>
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ Installing Tailwind CSS and dependencies..."</span>
pnpm install -D tailwindcss@3.4.1 postcss autoprefixer @types/node tailwindcss-animate
pnpm install class-variance-authority clsx tailwind-merge lucide-react next-themes
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âš™ï¸  Creating Tailwind and PostCSS configuration..."</span>
<span class="hljs-built_in">cat</span> &gt; postcss.config.js &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-built_in">export</span> default {
  plugins: {
 Â   tailwindcss: {},
 Â   autoprefixer: {},
  },
}
EOF
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“ Configuring Tailwind with shadcn theme..."</span>
<span class="hljs-built_in">cat</span> &gt; tailwind.config.js &lt;&lt; <span class="hljs-string">'EOF'</span>
/** @<span class="hljs-built_in">type</span> {import(<span class="hljs-string">'tailwindcss'</span>).Config} */
module.exports = {
  darkMode: [<span class="hljs-string">"class"</span>],
  content: [
 Â  Â <span class="hljs-string">"./index.html"</span>,
 Â  Â <span class="hljs-string">"./src/**/*.{js,ts,jsx,tsx}"</span>,
  ],
  theme: {
 Â   extend: {
 Â  Â   colors: {
 Â  Â  Â   border: <span class="hljs-string">"hsl(var(--border))"</span>,
 Â  Â  Â   input: <span class="hljs-string">"hsl(var(--input))"</span>,
 Â  Â  Â   ring: <span class="hljs-string">"hsl(var(--ring))"</span>,
 Â  Â  Â   background: <span class="hljs-string">"hsl(var(--background))"</span>,
 Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--foreground))"</span>,
 Â  Â  Â   primary: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--primary))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--primary-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   secondary: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--secondary))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--secondary-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   destructive: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--destructive))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--destructive-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   muted: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--muted))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--muted-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   accent: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--accent))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--accent-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   popover: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--popover))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--popover-foreground))"</span>,
 Â  Â  Â   },
 Â  Â  Â   card: {
 Â  Â  Â  Â   DEFAULT: <span class="hljs-string">"hsl(var(--card))"</span>,
 Â  Â  Â  Â   foreground: <span class="hljs-string">"hsl(var(--card-foreground))"</span>,
 Â  Â  Â   },
 Â  Â   },
 Â  Â   borderRadius: {
 Â  Â  Â   lg: <span class="hljs-string">"var(--radius)"</span>,
 Â  Â  Â   md: <span class="hljs-string">"calc(var(--radius) - 2px)"</span>,
 Â  Â  Â   sm: <span class="hljs-string">"calc(var(--radius) - 4px)"</span>,
 Â  Â   },
 Â  Â   keyframes: {
 Â  Â  Â  Â <span class="hljs-string">"accordion-down"</span>: {
 Â  Â  Â  Â   from: { height: <span class="hljs-string">"0"</span> },
 Â  Â  Â  Â   to: { height: <span class="hljs-string">"var(--radix-accordion-content-height)"</span> },
 Â  Â  Â   },
 Â  Â  Â  Â <span class="hljs-string">"accordion-up"</span>: {
 Â  Â  Â  Â   from: { height: <span class="hljs-string">"var(--radix-accordion-content-height)"</span> },
 Â  Â  Â  Â   to: { height: <span class="hljs-string">"0"</span> },
 Â  Â  Â   },
 Â  Â   },
 Â  Â   animation: {
 Â  Â  Â  Â <span class="hljs-string">"accordion-down"</span>: <span class="hljs-string">"accordion-down 0.2s ease-out"</span>,
 Â  Â  Â  Â <span class="hljs-string">"accordion-up"</span>: <span class="hljs-string">"accordion-up 0.2s ease-out"</span>,
 Â  Â   },
 Â   },
  },
  plugins: [require(<span class="hljs-string">"tailwindcss-animate"</span>)],
}
EOF
â€‹
<span class="hljs-comment"># Add Tailwind directives and CSS variables to index.css</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ¨ Adding Tailwind directives and CSS variables..."</span>
<span class="hljs-built_in">cat</span> &gt; src/index.css &lt;&lt; <span class="hljs-string">'EOF'</span>
@tailwind base;
@tailwind components;
@tailwind utilities;
â€‹
@layer base {
  :root {
 Â  Â --background: 0 0% 100%;
 Â  Â --foreground: 0 0% 3.9%;
 Â  Â --card: 0 0% 100%;
 Â  Â --card-foreground: 0 0% 3.9%;
 Â  Â --popover: 0 0% 100%;
 Â  Â --popover-foreground: 0 0% 3.9%;
 Â  Â --primary: 0 0% 9%;
 Â  Â --primary-foreground: 0 0% 98%;
 Â  Â --secondary: 0 0% 96.1%;
 Â  Â --secondary-foreground: 0 0% 9%;
 Â  Â --muted: 0 0% 96.1%;
 Â  Â --muted-foreground: 0 0% 45.1%;
 Â  Â --accent: 0 0% 96.1%;
 Â  Â --accent-foreground: 0 0% 9%;
 Â  Â --destructive: 0 84.2% 60.2%;
 Â  Â --destructive-foreground: 0 0% 98%;
 Â  Â --border: 0 0% 89.8%;
 Â  Â --input: 0 0% 89.8%;
 Â  Â --ring: 0 0% 3.9%;
 Â  Â --radius: 0.5rem;
  }
â€‹
  .dark {
 Â  Â --background: 0 0% 3.9%;
 Â  Â --foreground: 0 0% 98%;
 Â  Â --card: 0 0% 3.9%;
 Â  Â --card-foreground: 0 0% 98%;
 Â  Â --popover: 0 0% 3.9%;
 Â  Â --popover-foreground: 0 0% 98%;
 Â  Â --primary: 0 0% 98%;
 Â  Â --primary-foreground: 0 0% 9%;
 Â  Â --secondary: 0 0% 14.9%;
 Â  Â --secondary-foreground: 0 0% 98%;
 Â  Â --muted: 0 0% 14.9%;
 Â  Â --muted-foreground: 0 0% 63.9%;
 Â  Â --accent: 0 0% 14.9%;
 Â  Â --accent-foreground: 0 0% 98%;
 Â  Â --destructive: 0 62.8% 30.6%;
 Â  Â --destructive-foreground: 0 0% 98%;
 Â  Â --border: 0 0% 14.9%;
 Â  Â --input: 0 0% 14.9%;
 Â  Â --ring: 0 0% 83.1%;
  }
}
â€‹
@layer base {
  * {
 Â   @apply border-border;
  }
  body {
 Â   @apply bg-background text-foreground;
  }
}
EOF
â€‹
<span class="hljs-comment"># Add path aliases to tsconfig.json</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”§ Adding path aliases to tsconfig.json..."</span>
node -e <span class="hljs-string">"
const fs = require('fs');
const config = JSON.parse(fs.readFileSync('tsconfig.json', 'utf8'));
config.compilerOptions = config.compilerOptions || {};
config.compilerOptions.baseUrl = '.';
config.compilerOptions.paths = { '@/*': ['./src/*'] };
fs.writeFileSync('tsconfig.json', JSON.stringify(config, null, 2));
"</span>
â€‹
<span class="hljs-comment"># Add path aliases to tsconfig.app.json</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”§ Adding path aliases to tsconfig.app.json..."</span>
node -e <span class="hljs-string">"
const fs = require('fs');
const path = 'tsconfig.app.json';
const content = fs.readFileSync(path, 'utf8');
// Remove comments manually
const lines = content.split('\n').filter(line =&gt; !line.trim().startsWith('//'));
const jsonContent = lines.join('\n');
const config = JSON.parse(jsonContent.replace(//*[\s\S]*?*//g, '').replace(/,(\s*[}]])/g, '<span class="hljs-variable">$1</span>'));
config.compilerOptions = config.compilerOptions || {};
config.compilerOptions.baseUrl = '.';
config.compilerOptions.paths = { '@/*': ['./src/*'] };
fs.writeFileSync(path, JSON.stringify(config, null, 2));
"</span>
â€‹
<span class="hljs-comment"># Update vite.config.ts</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âš™ï¸  Updating Vite configuration..."</span>
<span class="hljs-built_in">cat</span> &gt; vite.config.ts &lt;&lt; <span class="hljs-string">'EOF'</span>
import path from <span class="hljs-string">"path"</span>;
import react from <span class="hljs-string">"@vitejs/plugin-react"</span>;
import { defineConfig } from <span class="hljs-string">"vite"</span>;
â€‹
<span class="hljs-built_in">export</span> default defineConfig({
  plugins: [react()],
  resolve: {
 Â   <span class="hljs-built_in">alias</span>: {
 Â  Â  Â <span class="hljs-string">"@"</span>: path.resolve(__dirname, <span class="hljs-string">"./src"</span>),
 Â   },
  },
});
EOF
â€‹
<span class="hljs-comment"># Install all shadcn/ui dependencies</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ Installing shadcn/ui dependencies..."</span>
pnpm install @radix-ui/react-accordion @radix-ui/react-aspect-ratio @radix-ui/react-avatar @radix-ui/react-checkbox @radix-ui/react-collapsible @radix-ui/react-context-menu @radix-ui/react-dialog @radix-ui/react-dropdown-menu @radix-ui/react-hover-card @radix-ui/react-label @radix-ui/react-menubar @radix-ui/react-navigation-menu @radix-ui/react-popover @radix-ui/react-progress @radix-ui/react-radio-group @radix-ui/react-scroll-area @radix-ui/react-select @radix-ui/react-separator @radix-ui/react-slider @radix-ui/react-slot @radix-ui/react-switch @radix-ui/react-tabs @radix-ui/react-toast @radix-ui/react-toggle @radix-ui/react-toggle-group @radix-ui/react-tooltip
pnpm install sonner cmdk vaul embla-carousel-react react-day-picker react-resizable-panels date-fns react-hook-form @hookform/resolvers zod
â€‹
<span class="hljs-comment"># Extract shadcn components from tarball</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ Extracting shadcn/ui components..."</span>
tar -xzf <span class="hljs-string">"<span class="hljs-variable">$COMPONENTS_TARBALL</span>"</span> -C src/
â€‹
<span class="hljs-comment"># Create components.json for reference</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“ Creating components.json config..."</span>
<span class="hljs-built_in">cat</span> &gt; components.json &lt;&lt; <span class="hljs-string">'EOF'</span>
{
 Â <span class="hljs-string">"<span class="hljs-variable">$schema</span>"</span>: <span class="hljs-string">"https://ui.shadcn.com/schema.json"</span>,
 Â <span class="hljs-string">"style"</span>: <span class="hljs-string">"default"</span>,
 Â <span class="hljs-string">"rsc"</span>: <span class="hljs-literal">false</span>,
 Â <span class="hljs-string">"tsx"</span>: <span class="hljs-literal">true</span>,
 Â <span class="hljs-string">"tailwind"</span>: {
 Â  Â <span class="hljs-string">"config"</span>: <span class="hljs-string">"tailwind.config.js"</span>,
 Â  Â <span class="hljs-string">"css"</span>: <span class="hljs-string">"src/index.css"</span>,
 Â  Â <span class="hljs-string">"baseColor"</span>: <span class="hljs-string">"slate"</span>,
 Â  Â <span class="hljs-string">"cssVariables"</span>: <span class="hljs-literal">true</span>,
 Â  Â <span class="hljs-string">"prefix"</span>: <span class="hljs-string">""</span>
  },
 Â <span class="hljs-string">"aliases"</span>: {
 Â  Â <span class="hljs-string">"components"</span>: <span class="hljs-string">"@/components"</span>,
 Â  Â <span class="hljs-string">"utils"</span>: <span class="hljs-string">"@/lib/utils"</span>,
 Â  Â <span class="hljs-string">"ui"</span>: <span class="hljs-string">"@/components/ui"</span>,
 Â  Â <span class="hljs-string">"lib"</span>: <span class="hljs-string">"@/lib"</span>,
 Â  Â <span class="hljs-string">"hooks"</span>: <span class="hljs-string">"@/hooks"</span>
  }
}
EOF
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Setup complete! You can now use Tailwind CSS and shadcn/ui in your project."</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ Included components (40+ total):"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - accordion, alert, aspect-ratio, avatar, badge, breadcrumb"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - button, calendar, card, carousel, checkbox, collapsible"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - command, context-menu, dialog, drawer, dropdown-menu"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - form, hover-card, input, label, menubar, navigation-menu"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - popover, progress, radio-group, resizable, scroll-area"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - select, separator, sheet, skeleton, slider, sonner"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - switch, table, tabs, textarea, toast, toggle, toggle-group, tooltip"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"To start developing:"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  cd <span class="hljs-variable">$PROJECT_NAME</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  pnpm dev"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“š Import components like:"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  import { Button } from '@/components/ui/button'"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  import { Dialog, DialogContent, DialogTrigger } from '@/components/ui/dialog'"</span>
</code></pre>
<p>å³ä½¿å®Œå…¨ä¸æ‡‚å‰ç«¯æŠ€æœ¯çš„äººé€šè¿‡è¿™ä¸ª Skill ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªç°ä»£åŒ–çš„ç½‘ç«™ï¼Œè€Œä¸”æ›´åŠ æ ‡å‡†åŒ–ï¼Œè€Œä¸æ˜¯åƒä¹‹å‰ä¸€æ ·è®© Agent è‡ªå·±å‘æŒ¥ã€‚</p>
<p>å¦å¤–çœ‹ä¸€ä¸‹å®˜æ–¹ä»‹ç»çš„ pdf çš„ Skillã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7cadbb896de40818d4b5ab3d30f811a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2luZGxpYW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746625&amp;x-signature=lRMGyTwqtgaDa5om39rYpZOAqSo%3D" alt="" loading="lazy"/></p>
<p>æœ€å…³é”®çš„åœ¨äº <code>If you need to fill out a PDF form, read forms.md</code>ã€‚è¿™å°±æ˜¯ä¹‹å‰è¯´çš„æ¸è¿›å¼å±•å¼€çš„èƒ½åŠ›ï¼Œä¸€ä¸ªæŠ€èƒ½æˆ‘ä»¬å¯ä»¥æä¾›å¾ˆå¤šæ–‡æ¡£ï¼Œä½† agent ä¸ä¼šä¸€æ¬¡æ€§è¯»å–ï¼Œå®ƒåªæœ‰éœ€è¦çš„æ—¶å€™æ‰å»è¯»å–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6257e61811cb42fe823d3d95abd411ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2luZGxpYW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746625&amp;x-signature=O2ysdn8Y%2F%2BO8tiCpYDca%2BlJfvwY%3D" alt="" loading="lazy"/></p>
<p>é™¤äº†å®˜æ–¹æä¾›çš„ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills" ref="nofollow noopener noreferrer">ComposioHQ/awesome-claude-skills: A curated list of awesome Claude Skills, resources, and tools for customizing Claude AI workflows</a> ç¤¾åŒºä¹Ÿåˆ†äº«äº†å¾ˆå¤š Skills ã€‚</p>
<p>ä½†åœ¨é¡¹ç›®ä¸­å¼•å…¥ Skills æ—¶ï¼Œä¸€å®šè¦è‡ªè¡Œé˜…è¯»å’Œå®¡æ ¸ï¼Œå®˜æ–¹ä¹Ÿ<strong>æç¤ºäº†ç›¸å…³é£é™©</strong>ï¼š</p>
<blockquote>
<p>æŠ€èƒ½é€šè¿‡æŒ‡ä»¤å’Œä»£ç ä¸º Claude æä¾›æ–°åŠŸèƒ½ã€‚è™½ç„¶è¿™ä½¿å®ƒä»¬å˜å¾—å¼ºå¤§ï¼Œä½†ä¹Ÿæ„å‘³ç€æ¶æ„æŠ€èƒ½å¯èƒ½ä¼šåœ¨å®ƒä»¬è¢«ä½¿ç”¨çš„ç¯å¢ƒä¸­å¼•å…¥æ¼æ´ï¼Œæˆ–æŒ‡ç¤º Claude çªƒå–æ•°æ®å¹¶é‡‡å–éé¢„æœŸè¡ŒåŠ¨ã€‚</p>
<p>æˆ‘ä»¬å»ºè®®ä»…ä»å¯ä¿¡æ¥æºå®‰è£…æŠ€èƒ½ã€‚åœ¨ä»ä¸å¤ªå¯ä¿¡çš„æ¥æºå®‰è£…æŠ€èƒ½æ—¶ï¼Œåœ¨ä½¿ç”¨å‰åº”å½»åº•å®¡æ ¸ã€‚é¦–å…ˆï¼Œé˜…è¯»æŠ€èƒ½æ†ç»‘æ–‡ä»¶çš„å†…å®¹ï¼Œäº†è§£å…¶ä½œç”¨ï¼Œç‰¹åˆ«å…³æ³¨ä»£ç ä¾èµ–å’Œæ†ç»‘èµ„æºï¼ˆå¦‚å›¾åƒæˆ–è„šæœ¬ï¼‰ã€‚åŒæ ·ï¼Œæ³¨æ„æŠ€èƒ½ä¸­çš„æŒ‡ä»¤æˆ–ä»£ç ï¼Œè¿™äº›æŒ‡ä»¤æˆ–ä»£ç æŒ‡ç¤º Claude è¿æ¥åˆ°å¯èƒ½ä¸å—ä¿¡ä»»çš„å¤–éƒ¨ç½‘ç»œæ¥æºã€‚</p>
</blockquote>
<p>ç¤¾åŒºå·²ç»çœ‹åˆ°æœ‰äººé‡åˆ°è¿‡ Skills æŠ•æ¯’ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98ddf1cbc21142478128f6f93f0ed0fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2luZGxpYW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746625&amp;x-signature=PSWdowxTl%2BrpZL1MLY8JRdxB7K4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æ€»</h2>
<p>Skills ä¸ä»…ä»…æ˜¯ä¸ºå¼€å‘è€…å‡†å¤‡çš„ï¼Œå®ƒå¯ä»¥æ²‰æ·€å„ä¸ªé¢†åŸŸçš„ Skillsï¼Œå’Œå½“å‰çš„è®¡ç®—æœºç±»æ¯”ä¸‹ï¼š</p>
<ul>
<li>æ¨¡å‹ â‰ˆ CPU å¤„ç†å™¨</li>
<li>Agent Runtime â‰ˆ æ“ä½œç³»ç»Ÿ</li>
<li>Skill â‰ˆ åº”ç”¨è½¯ä»¶</li>
<li>MCP â‰ˆ å¤–è®¾ï¼ˆé”®ç›˜ã€æ‘„åƒå¤´ã€éŸ³å“ï¼‰</li>
</ul>
<p>çœŸæ­£äº§ç”Ÿé•¿æœŸä»·å€¼çš„ï¼Œä»æ¥éƒ½ä¸æ˜¯ CPU æœ¬èº«ï¼Œè€Œæ˜¯<strong>å»ºç«‹åœ¨å…¶ä¸Šçš„åº”ç”¨ç”Ÿæ€</strong>ã€‚Skill æ­£æ˜¯ AI æ—¶ä»£çš„åº”ç”¨å±‚ã€‚</p>
<p>æœªæ¥æˆ‘ä»¬å¯ä»¥æŠŠå¹³å¸¸è‡ªå·±çš„ç»éªŒæ€»ç»“å†™ä¸‹æ¥ï¼ŒæŠŠæµç¨‹è£…è¿›æ–‡ä»¶å¤¹ï¼ŒæŠŠèƒ½åŠ›äº¤ç»™ Skillã€‚</p>
<p>Agent åªæ˜¯å…¥å£ï¼ŒSkill æ‰æ˜¯èµ„äº§ã€‚</p>
<h2 data-id="heading-9">å‚è€ƒèµ„æ–™</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fagents-and-tools%2Fagent-skills%2Foverview" target="_blank" title="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview" ref="nofollow noopener noreferrer">Agent Skills - Claude Docs</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">Equipping agents for the real world with Agent Skills \ Anthropic</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DCEvIs9y1uog" target="_blank" title="https://www.youtube.com/watch?v=CEvIs9y1uog" ref="nofollow noopener noreferrer">Don't Build Agents, Build Skills Instead â€“ Barry Zhang &amp; Mahesh Murag, Anthropic - YouTube</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fdocs%2Fcontext%2Fskills%23agent-skills" target="_blank" title="https://cursor.com/docs/context/skills#agent-skills" ref="nofollow noopener noreferrer">Agent Skills | Cursor Docs</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">Overview - Agent Skills</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fleehanchung.github.io%2Fblogs%2F2025%2F10%2F26%2Fclaude-skills-deep-dive%2F" target="_blank" title="https://leehanchung.github.io/blogs/2025/10/26/claude-skills-deep-dive/" ref="nofollow noopener noreferrer">Claude Agent Skills: A First Principles Deep Dive</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä½•é¡¶å°–ç§‘æŠ€å…¬å¸éƒ½ä¾èµ–å®ƒï¼Ÿè§£ç  Protocol Buffers èƒŒåçš„é«˜æ€§èƒ½ã€å¯æ¼”è¿›è®¾è®¡æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7589494074983022643</link>    <guid>https://juejin.cn/post/7589494074983022643</guid>    <pubDate>2025-12-31T01:26:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589494074983022643" data-draft-id="7589553649132421129" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä½•é¡¶å°–ç§‘æŠ€å…¬å¸éƒ½ä¾èµ–å®ƒï¼Ÿè§£ç  Protocol Buffers èƒŒåçš„é«˜æ€§èƒ½ã€å¯æ¼”è¿›è®¾è®¡æ¨¡å¼"/> <meta itemprop="keywords" content="è®¾è®¡æ¨¡å¼,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-12-31T01:26:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä½•é¡¶å°–ç§‘æŠ€å…¬å¸éƒ½ä¾èµ–å®ƒï¼Ÿè§£ç  Protocol Buffers èƒŒåçš„é«˜æ€§èƒ½ã€å¯æ¼”è¿›è®¾è®¡æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:26:37.000Z" title="Wed Dec 31 2025 01:26:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Protocol Buffersï¼šç»“æ„åŒ–æ•°æ®äº¤æ¢çš„åŸºçŸ³â€”â€”æ·±åº¦æŠ€æœ¯è§£æ</strong></h2>
<h4 data-id="heading-1"><strong>1. æ•´ä½“ä»‹ç»</strong></h4>
<h5 data-id="heading-2"><strong>1.1 é¡¹ç›®æ¦‚å†µ</strong></h5>
<ul>
<li><strong>é¡¹ç›®åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fprotocolbuffers%2Fprotobuf" target="_blank" title="https://github.com/protocolbuffers/protobuf" ref="nofollow noopener noreferrer">github.com/protocolbufâ€¦</a></li>
<li><strong>é¡¹ç›®æ•°æ®</strong>: æˆªè‡³åˆ†ææ—¶ï¼Œè¯¥é¡¹ç›®åœ¨ GitHub ä¸Šæ‹¥æœ‰è¶…è¿‡ <strong>63,000</strong> ä¸ª Star å’Œè¶…è¿‡ <strong>15,000</strong> ä¸ª Forkï¼Œè¿™è¡¨æ˜å…¶åœ¨å¼€å‘è€…ç¤¾åŒºä¸­å…·æœ‰å¹¿æ³›çš„å½±å“åŠ›å’Œé‡‡çº³åº¦ã€‚å®ƒæ˜¯ç°ä»£å¾®æœåŠ¡é€šä¿¡ã€æ•°æ®å­˜å‚¨ç­‰é¢†åŸŸçš„åŸºç¡€è®¾æ–½ä¹‹ä¸€ã€‚</li>
<li><strong>è®¸å¯è¯</strong>: åŸºäº BSD 3-Clause å¼€æºè®¸å¯è¯ã€‚</li>
</ul>
<h5 data-id="heading-3"><strong>1.2 ä¸»è¦åŠŸèƒ½ä¸æ ¸å¿ƒä»·å€¼</strong></h5>
<p>Protocol Buffers çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª <strong>æ¥å£å®šä¹‰è¯­è¨€ï¼ˆIDLï¼‰</strong> åŠä¸€å¥— <strong>ä»£ç ç”Ÿæˆå·¥å…·å’Œè¿è¡Œæ—¶åº“</strong>ã€‚å…¶å·¥ä½œæµç¨‹å¯æ¦‚æ‹¬ä¸ºï¼š</p>
<pre><code class="hljs language-rust" lang="rust">ç¼–å†™ .proto æ–‡ä»¶ (IDL) <span class="hljs-punctuation">-&gt;</span> protoc ç¼–è¯‘ <span class="hljs-punctuation">-&gt;</span> ç”Ÿæˆç›®æ ‡è¯­è¨€çš„æ•°æ®è®¿é—®ç±» <span class="hljs-punctuation">-&gt;</span> åœ¨åº”ç”¨ä¸­ä½¿ç”¨ç”Ÿæˆçš„ç±»è¿›è¡Œåºåˆ—åŒ–/ååºåˆ—åŒ–
</code></pre>
<p>å…¶äº§ç”Ÿçš„åºåˆ—åŒ–æ•°æ®ä¸ºç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼ã€‚</p>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>åœ¨äºï¼š</p>
<ol>
<li><strong>ç»“æ„æ¸…æ™°ï¼Œå¥‘çº¦å…ˆè¡Œ</strong>ï¼šé€šè¿‡ <code>.proto</code> æ–‡ä»¶æ˜ç¡®å®šä¹‰æ•°æ®ç»“æ„ï¼Œä½œä¸ºæœåŠ¡é—´ã€æ¨¡å—é—´é€šä¿¡çš„å¼ºç±»å‹å¥‘çº¦ã€‚</li>
<li><strong>é«˜æ•ˆçš„ç¼–è§£ç æ€§èƒ½</strong>ï¼šäºŒè¿›åˆ¶ç¼–ç ä½“ç§¯å°ï¼Œè§£æé€Ÿåº¦å¿«ï¼Œæ˜¾è‘—ä¼˜äºåŒæœŸçš„ XML å’Œ JSONï¼ˆåœ¨ CPU å’Œå¸¦å®½æ¶ˆè€—ä¸Šï¼‰ã€‚</li>
<li><strong>å¼ºå¤§çš„å‘åå…¼å®¹æ€§</strong>ï¼šé€šè¿‡ç‹¬ç‰¹çš„å­—æ®µç¼–å·å’Œè§„åˆ™è®¾è®¡ï¼Œæ”¯æŒåœ¨ä¸ç ´åæ—§å®¢æˆ·ç«¯/æœåŠ¡ç«¯çš„æƒ…å†µä¸‹æ¼”è¿›æ•°æ®æ ¼å¼ã€‚</li>
<li><strong>çœŸæ­£çš„è·¨è¯­è¨€</strong>ï¼šåŒä¸€ä»½ <code>.proto</code> æ–‡ä»¶å¯ä»¥ä¸º C++ã€Javaã€Goã€Python ç­‰åå¤šç§ä¸»æµè¯­è¨€ç”Ÿæˆç±»å‹å®‰å…¨ã€æ¥å£ä¸€è‡´çš„å®¢æˆ·ç«¯ä»£ç ï¼Œæ¶ˆé™¤äº†æ‰‹åŠ¨ç¼–è§£ç å’Œç±»å‹æ˜ å°„çš„é”™è¯¯ã€‚</li>
</ol>
<h5 data-id="heading-4"><strong>1.3 é¢ä¸´é—®é¢˜ä¸è§£å†³ä¹‹é“</strong></h5>
<ul>
<li>
<p><strong>é¢ä¸´é—®é¢˜</strong>ï¼š</p>
<ol>
<li><strong>å¼‚æ„ç³»ç»Ÿæ•°æ®äº¤æ¢</strong>ï¼šåœ¨å¾®æœåŠ¡æˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒæœåŠ¡ä½¿ç”¨ä¸åŒè¯­è¨€/å¹³å°ï¼Œéœ€è¦ä¸€ç§ç»Ÿä¸€ã€é«˜æ•ˆçš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚</li>
<li><strong>API/æ•°æ®å¥‘çº¦ç®¡ç†</strong>ï¼šéœ€è¦ä¸€ç§æœºå™¨å¯è¯»ã€å¯éªŒè¯çš„æ–¹å¼æ¥å®šä¹‰å’Œç‰ˆæœ¬åŒ–æœåŠ¡æ¥å£å’Œæ•°æ®ç»“æ„ã€‚</li>
<li><strong>åºåˆ—åŒ–æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šXML/JSON ç­‰æ–‡æœ¬æ ¼å¼çš„è§£æå¼€é”€å’Œä¼ è¾“ä½“ç§¯åœ¨æ€§èƒ½æ•æ„Ÿåœºæ™¯æˆä¸ºç“¶é¢ˆã€‚</li>
<li><strong>åè®®æ¼”è¿›å¤æ‚æ€§</strong>ï¼šæ·»åŠ æˆ–ä¿®æ”¹å­—æ®µæ—¶ï¼Œéœ€è¦ç¡®ä¿æ–°æ—§ç‰ˆæœ¬çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯èƒ½å¤ŸååŒå·¥ä½œï¼Œæ‰‹åŠ¨å¤„ç†ææ˜“å‡ºé”™ã€‚</li>
</ol>
</li>
<li>
<p><strong>ä¼ ç»Ÿè§£å†³æ–¹å¼</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>XML</strong> æˆ– <strong>JSON</strong>ï¼šå¯è¯»æ€§å¥½ï¼Œä½†å†—ä½™åº¦é«˜ï¼Œç¼ºä¹å¼ºåˆ¶æ€§çš„æ¨¡å¼ï¼ˆSchemaï¼‰ï¼Œè§£ææ€§èƒ½è¾ƒå·®ï¼Œè·¨è¯­è¨€ç±»å‹æ˜ å°„éœ€è¦é¢å¤–çº¦å®šå’Œå¼€å‘ã€‚</li>
<li>ä½¿ç”¨ <strong>è‡ªå®šä¹‰äºŒè¿›åˆ¶æ ¼å¼</strong>ï¼šé«˜æ•ˆä½†å¼€å‘æˆæœ¬é«˜ï¼Œéš¾ä»¥ç»´æŠ¤å’Œè·¨è¯­è¨€ï¼Œå¯è¯»æ€§å·®ã€‚</li>
</ul>
</li>
<li>
<p><strong>Protocol Buffers çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å¼•å…¥ IDL</strong>ï¼šæä¾› <code>.proto</code> æ–‡ä»¶ä½œä¸ºå•ä¸€äº‹å®æ¥æºï¼Œæ˜ç¡®å®šä¹‰æ•°æ®ç»“æ„ã€‚</li>
<li><strong>æä¾›ç¼–è¯‘å™¨ (protoc)</strong>ï¼šå°† IDL ç¼–è¯‘ä¸ºå„ç§è¯­è¨€çš„â€œæ¡©ä»£ç â€ï¼ˆStubï¼‰ï¼Œè‡ªåŠ¨åŒ–äº†ç±»å‹å®‰å…¨çš„ç¼–è§£ç é€»è¾‘ã€‚</li>
<li><strong>è®¾è®¡é«˜æ•ˆäºŒè¿›åˆ¶ç¼–ç  (Wire Format)</strong>ï¼šé‡‡ç”¨å¦‚ Varintsã€ZigZag ç­‰ç¼–ç æŠ€æœ¯ï¼Œå‡å°‘æ•°æ®ä½“ç§¯ã€‚</li>
<li><strong>è®¾è®¡å…¼å®¹æ€§è§„åˆ™</strong>ï¼šåŸºäºå­—æ®µç¼–å·ï¼ˆè€Œéåç§°ï¼‰å’Œå­—æ®µè§„åˆ™ï¼ˆoptional/repeatedï¼‰å®ç°å‘å‰/å‘åå…¼å®¹ã€‚</li>
</ol>
</li>
</ul>
<h5 data-id="heading-5"><strong>1.4 å•†ä¸šä»·å€¼ä¼°ç®—é€»è¾‘</strong></h5>
<p>Protocol Buffers çš„å•†ä¸šä»·å€¼éš¾ä»¥ç›´æ¥ç”¨è´§å¸é‡åŒ–ï¼Œä½†å¯ä» <strong>æˆæœ¬èŠ‚çœ</strong> å’Œ <strong>æ•ˆç›Šæå‡</strong> ä¸¤ä¸ªç»´åº¦è¯„ä¼°ï¼š</p>
<ul>
<li><strong>å¼€å‘æˆæœ¬èŠ‚çœ</strong>ï¼š
<ul>
<li><strong>æ›¿ä»£æ–¹æ¡ˆå¼€å‘æˆæœ¬</strong>ï¼šå‡è®¾ä¸€ä¸ªä¸­å‹å…¬å¸ä¸º 5 ç§è¯­è¨€å¼€å‘å¹¶ç»´æŠ¤ä¸€å¥—å…·å¤‡åŒç­‰å…¼å®¹æ€§ã€æ€§èƒ½çš„è‡ªå®šä¹‰äºŒè¿›åˆ¶åºåˆ—åŒ–æ¡†æ¶ï¼Œéœ€è¦è‡³å°‘ 10 äººå¹´ã€‚</li>
<li><strong>é‡‡ç”¨ Protobuf æˆæœ¬</strong>ï¼šå­¦ä¹ æˆæœ¬ + é›†æˆæˆæœ¬ï¼Œè¿œä½äº 1 äººå¹´ã€‚ç›´æ¥èŠ‚çœäº†<strong>è¶…è¿‡ 9 äººå¹´</strong>çš„åˆå§‹å¼€å‘æˆæœ¬ï¼Œä¸”æ— éœ€æ‰¿æ‹…åç»­å·¨å¤§çš„ç»´æŠ¤ã€å‡çº§å’Œè·¨å›¢é˜Ÿåè°ƒæˆæœ¬ã€‚</li>
</ul>
</li>
<li><strong>è¿ç»´ä¸åä½œæ•ˆç›Š</strong>ï¼š
<ul>
<li><strong>é™ä½æ²Ÿé€šæˆæœ¬</strong>ï¼š<code>.proto</code> æ–‡ä»¶æˆä¸ºå›¢é˜Ÿé—´ã€æœåŠ¡é—´æ˜ç¡®æ— è¯¯çš„å¥‘çº¦æ–‡æ¡£ã€‚</li>
<li><strong>æå‡ç³»ç»Ÿæ€§èƒ½</strong>ï¼šæ›´å°çš„ç½‘ç»œè´Ÿè½½å’Œæ›´å¿«çš„è§£æé€Ÿåº¦ï¼Œç›´æ¥é™ä½äº†æœåŠ¡å™¨èµ„æºæˆæœ¬å’Œç”¨æˆ·å»¶è¿Ÿã€‚</li>
<li><strong>å‡å°‘è¿è¡Œæ—¶é”™è¯¯</strong>ï¼šç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥é¿å…äº†å¤§é‡ç”±äºæ‰‹åŠ¨åºåˆ—åŒ–æˆ–åŠ¨æ€ç±»å‹é”™è¯¯å¯¼è‡´çš„çº¿ä¸Šæ•…éšœã€‚</li>
<li><strong>åŠ é€Ÿæ–°åŠŸèƒ½ä¸Šçº¿</strong>ï¼šåè®®å¯ä»¥å®‰å…¨ã€å¿«é€Ÿåœ°æ¼”è¿›ï¼Œæ”¯æŒæ•æ·å¼€å‘ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç»¼åˆä¼°ç®—</strong>ï¼šå¯¹äºä»»ä½•æ¶‰åŠå¤šè¯­è¨€é€šä¿¡æˆ–å¯¹æ€§èƒ½æœ‰è¦æ±‚çš„æŠ€æœ¯ç»„ç»‡ï¼Œå¼•å…¥ Protocol Buffers å¸¦æ¥çš„<strong>é•¿æœŸæ€»ä½“æ‹¥æœ‰æˆæœ¬ï¼ˆTCOï¼‰é™ä½å’Œç³»ç»Ÿç¨³å®šæ€§ã€å¼€å‘æ•ˆç‡çš„æå‡</strong>ï¼Œå…¶ä»·å€¼è¿œè¶…å…¶è¿‘ä¹ä¸ºé›¶çš„ç›´æ¥é‡‡ç”¨æˆæœ¬ã€‚</p>
<h4 data-id="heading-6"><strong>2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</strong></h4>






























<table><thead><tr><th align="left">åŠŸèƒ½è§†è§’</th><th align="left">äº§å“è§†è§’</th><th align="left">æŠ€æœ¯è§†è§’</th></tr></thead><tbody><tr><td align="left"><strong>åè®®å®šä¹‰</strong></td><td align="left">æä¾› <code>.proto</code> è¯­æ³•ï¼Œæ”¯æŒå®šä¹‰æ¶ˆæ¯ã€æšä¸¾ã€æœåŠ¡ã€‚å­—æ®µå¯æŒ‡å®šç±»å‹ã€ç¼–å·ã€è§„åˆ™ã€‚</td><td align="left">å®ç°äº†ä¸€ä¸ªè¯­æ³•è§£æå™¨ï¼ˆé€šå¸¸ä½¿ç”¨ Flex/Bison æˆ– ANTLRï¼‰ï¼Œå°†æ–‡æœ¬ IDL è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚</td></tr><tr><td align="left"><strong>ä»£ç ç”Ÿæˆ</strong></td><td align="left">ç”¨æˆ·æ‰§è¡Œ <code>protoc --cpp_out=. example.proto</code>ï¼Œå³å¯å¾—åˆ° <code>example.pb.cc</code> å’Œ <code>example.pb.h</code>ã€‚</td><td align="left"><strong><code>protoc</code> ç¼–è¯‘å™¨</strong> æ˜¯æ ¸å¿ƒã€‚å®ƒæ˜¯ä¸€ä¸ª C++ ç¨‹åºï¼Œå†…ç½®æˆ–é€šè¿‡æ’ä»¶æ”¯æŒå¤šç§è¯­è¨€çš„ <strong>ç”Ÿæˆå™¨ï¼ˆCodeGeneratorï¼‰</strong>ã€‚ç¼–è¯‘å™¨å‰ç«¯è§£æ <code>.proto</code> ä¸º <code>FileDescriptorProto</code>ï¼ˆAST çš„åºåˆ—åŒ–å½¢å¼ï¼‰ï¼Œåç«¯è°ƒç”¨å¯¹åº”ç”Ÿæˆå™¨äº§å‡ºä»£ç ã€‚</td></tr><tr><td align="left"><strong>è¿è¡Œæ—¶åºåˆ—åŒ–</strong></td><td align="left">å¼€å‘è€…è°ƒç”¨ <code>message.SerializeToString(&amp;output)</code> æˆ– <code>message.ParseFromString(input)</code>ã€‚</td><td align="left">æ¯ç§è¯­è¨€è¿è¡Œæ—¶åº“éƒ½å®ç°äº† <strong>Wire Format ç¼–ç /è§£ç å™¨</strong>ã€‚æ ¸å¿ƒæ˜¯å°†å†…å­˜ä¸­çš„ç»“æ„åŒ–å¯¹è±¡æŒ‰ç…§å­—æ®µç¼–å·å’Œç±»å‹ï¼Œç¼–ç ä¸ºçº¿æ€§çš„å­—èŠ‚æµï¼Œåä¹‹äº¦ç„¶ã€‚æ¶‰åŠå†…å­˜ç®¡ç†ã€åå°„ç­‰æœºåˆ¶ã€‚</td></tr><tr><td align="left"><strong>å…¼å®¹æ€§ä¿éšœ</strong></td><td align="left">æ–°å¢ <code>optional</code> å­—æ®µï¼Œæ—§ä»£ç å¯ä»¥å¿½ç•¥ï¼›åˆ é™¤å­—æ®µï¼Œéœ€ä¿ç•™å…¶ç¼–å·ä¸º <code>reserved</code>ã€‚</td><td align="left">ç¼–ç æ—¶ï¼Œæ¯ä¸ªå­—æ®µç”± <strong>(field_number, wire_type, value)</strong> ä¸‰å…ƒç»„æ„æˆã€‚è§£ç å™¨é‡åˆ°æœªçŸ¥å­—æ®µç¼–å·ï¼ˆæ–°å­—æ®µï¼‰ä¼šå°†å…¶å­˜å…¥æ¶ˆæ¯çš„â€œæœªçŸ¥å­—æ®µé›†â€æˆ–ç›´æ¥è·³è¿‡ï¼›é‡åˆ°ç¼ºå¤±å­—æ®µï¼ˆå·²åˆ é™¤å­—æ®µï¼‰åˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚å­—æ®µç¼–å·æ˜¯å…¼å®¹æ€§çš„å…³é”®ã€‚</td></tr></tbody></table>
<h4 data-id="heading-7"><strong>3. æŠ€æœ¯éš¾ç‚¹æŒ–æ˜</strong></h4>
<ol>
<li><strong>å‘åå…¼å®¹æ€§æœºåˆ¶çš„è®¾è®¡</strong>ï¼šå¦‚ä½•åœ¨äºŒè¿›åˆ¶å±‚é¢è®¾è®¡ä¸€ç§ç¼–ç æ ¼å¼ï¼Œä½¿å¾—è§£æå™¨èƒ½å¤Ÿå®‰å…¨åœ°å¿½ç•¥æœªçŸ¥å­—æ®µæˆ–ä¸ºç¼ºå¤±å­—æ®µæä¾›åˆç†é»˜è®¤å€¼ï¼ŒåŒæ—¶ä¿è¯ç¼–ç çš„é«˜æ•ˆæ€§ã€‚è¿™æ˜¯ protobuf æˆåŠŸçš„æ ¸å¿ƒã€‚</li>
<li><strong>è·¨è¯­è¨€ä¸€è‡´æ€§ä¿è¯</strong>ï¼šç¡®ä¿ä¸ºä¸åŒè¯­è¨€ç”Ÿæˆçš„ä»£ç ï¼Œå…¶åºåˆ—åŒ–/ååºåˆ—åŒ–ç»“æœå®Œå…¨ä¸€è‡´ï¼Œè¡Œä¸ºï¼ˆå¦‚é»˜è®¤å€¼ã€æšä¸¾å¤„ç†ã€<code>oneof</code>è¯­ä¹‰ï¼‰å®Œå…¨ç›¸åŒã€‚è¿™éœ€è¦å¯¹æ¯ç§ç›®æ ‡è¯­è¨€çš„ç‰¹æ€§æœ‰æ·±å…¥ç†è§£ï¼Œå¹¶åœ¨ç”Ÿæˆå™¨ä¸­åšé€‚é…ã€‚</li>
<li><strong>é«˜æ€§èƒ½ç¼–è§£ç å®ç°</strong>ï¼šå°¤å…¶åœ¨ C++ã€Java ç­‰è¯­è¨€ä¸­ï¼Œéœ€è¦ç²¾ç»†ä¼˜åŒ–å†…å­˜è®¿é—®ã€é¿å…ä¸å¿…è¦çš„æ‹·è´ã€åˆ©ç”¨ SIMD æŒ‡ä»¤ç­‰ã€‚ä¾‹å¦‚ï¼Œå¯¹æ•´æ•°çš„ Varint ç¼–ç ã€å¯¹å­—ç¬¦ä¸²é•¿åº¦çš„å¿«é€Ÿåˆ¤æ–­ç­‰ã€‚</li>
<li><strong>æ„å»ºç³»ç»Ÿä¸ç”Ÿæ€é›†æˆ</strong>ï¼šæ”¯æŒ <code>Bazel</code>ã€<code>CMake</code>ã€<code>Maven</code>ã€<code>Gradle</code>ã€<code>Go Modules</code> ç­‰å¤šæ ·åŒ–çš„æ„å»ºå’Œä¾èµ–ç®¡ç†ç³»ç»Ÿï¼Œæä¾›é¢„ç¼–è¯‘äºŒè¿›åˆ¶ã€æºç é›†æˆç­‰å¤šç§åˆ†å‘å’Œä½¿ç”¨æ–¹å¼ï¼Œé™ä½äº†ç”¨æˆ·çš„æ¥å…¥é—¨æ§›ã€‚</li>
<li><strong>æ’ä»¶ç³»ç»Ÿä¸æ‰©å±•æ€§</strong>ï¼šå¦‚ä½•è®¾è®¡ç¼–è¯‘å™¨æ¶æ„ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶ï¼ˆå¦‚ gRPC æ’ä»¶ã€è‡ªå®šä¹‰ç”Ÿæˆå™¨ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¾è®¡ä¸Šçš„æŒ‘æˆ˜ã€‚</li>
</ol>
<h4 data-id="heading-8"><strong>4. è¯¦ç»†è®¾è®¡å›¾</strong></h4>
<h5 data-id="heading-9"><strong>4.1 æ ¸å¿ƒæ¶æ„å›¾</strong></h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05fe342f1892429a8d2f40a1b949f161~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749196&amp;x-signature=kzmU09n9ByjEqnkrq%2FwMqVnjS0k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h5 data-id="heading-10"><strong>4.2 æ ¸å¿ƒé“¾è·¯åºåˆ—å›¾ï¼ˆprotoc ç¼–è¯‘æµç¨‹ï¼‰</strong></h5>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant Protoc as protoc ä¸»ç¨‹åº
    participant Parser as è¯­æ³•è§£æå™¨
    participant Importer as æ–‡ä»¶å¯¼å…¥å™¨
    participant Generator as ä»£ç ç”Ÿæˆå™¨ (å¦‚ CppGenerator)
    participant FS as æ–‡ä»¶ç³»ç»Ÿ

    User-&gt;&gt;Protoc: protoc --cpp_out=. my.proto
    Protoc-&gt;&gt;Parser: è§£æå‘½ä»¤è¡Œå‚æ•°
    Protoc-&gt;&gt;Importer: å¯¼å…¥å¹¶è§£æ my.proto
    Importer-&gt;&gt;Parser: è¯æ³•/è¯­æ³•åˆ†æ
    Parser-&gt;&gt;Importer: è¿”å› FileDescriptor
    Importer-&gt;&gt;Protoc: è¿”å›å®Œæ•´çš„ FileDescriptorSet
    Protoc-&gt;&gt;Generator: è°ƒç”¨ Generate(FileDescriptor, ...)
    Generator-&gt;&gt;Generator: æ ¹æ® AST ç”Ÿæˆ C++ ä»£ç å­—ç¬¦ä¸²
    Generator-&gt;&gt;FS: å†™å…¥ my.pb.cc, my.pb.h
    FS--&gt;&gt;Protoc: å®Œæˆ
    Protoc--&gt;&gt;User: é€€å‡ºï¼ˆæˆåŠŸ/é”™è¯¯ï¼‰
</code></pre>
<h5 data-id="heading-11"><strong>4.3 æ ¸å¿ƒç±»å›¾ï¼ˆç¼–è¯‘å™¨ CLI éƒ¨åˆ†ç®€åŒ–ï¼‰</strong></h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad50991742ea4bac8b4ef20968d4711e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749196&amp;x-signature=4IDNTLjWVME7YfEFcovv94VPsC4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h5 data-id="heading-12"><strong>4.4 æ ¸å¿ƒå‡½æ•°æ‹†è§£å›¾ï¼ˆProtobufMainï¼‰</strong></h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">ProtobufMain</span>(int argc, char* argv[])
â”œâ”€â”€ åˆå§‹åŒ–æ—¥å¿—ç³»ç»Ÿ (absl::InitializeLog)
â”œâ”€â”€ åˆ›å»ºå‘½ä»¤è¡Œæ¥å£å¯¹è±¡ (CommandLineInterface cli)
â”œâ”€â”€ æ³¨å†Œå„è¯­è¨€ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ cli<span class="hljs-selector-class">.RegisterGenerator</span>(â€œ--cpp_outâ€, &amp;cpp_generator, ...)
â”‚   â”œâ”€â”€ cli<span class="hljs-selector-class">.RegisterGenerator</span>(â€œ--java_outâ€, &amp;java_generator, ...)
â”‚   â”œâ”€â”€ cli<span class="hljs-selector-class">.RegisterGenerator</span>(â€œ--kotlin_outâ€, &amp;kt_generator, ...)
â”‚   â””â”€â”€ ... (Python, C#, Go, Rust ç­‰)
â”œâ”€â”€ (Windows ç‰¹æœ‰) å®½å­—ç¬¦å‘½ä»¤è¡Œå‚æ•°è½¬æ¢
â”‚   â”œâ”€â”€ CommandLineToArgvW
â”‚   â””â”€â”€ <span class="hljs-built_in">WideCharToMultiByte</span>(CP_UTF8)
â””â”€â”€ æ‰§è¡Œå‘½ä»¤è¡Œè§£æä¸ä»£ç ç”Ÿæˆ (cli.Run(argc, argv))
    â”œâ”€â”€ è§£æ <span class="hljs-selector-class">.proto</span> æ–‡ä»¶ï¼Œæ„å»º FileDescriptor æ ‘
    â”œâ”€â”€ æ ¹æ® --*_out å‚æ•°å®šä½å¯¹åº”çš„ç”Ÿæˆå™¨
    â”œâ”€â”€ è°ƒç”¨ç”Ÿæˆå™¨çš„ <span class="hljs-built_in">Generate</span>() æ–¹æ³•
    â””â”€â”€ å°†ç”Ÿæˆçš„ä»£ç å†™å…¥æŒ‡å®šç›®å½•
</code></pre>
<h4 data-id="heading-13"><strong>5. æ ¸å¿ƒå‡½æ•°è§£æ</strong></h4>
<p>ä»¥ä¸‹åˆ†æ <code>src/google/protobuf/compiler/main.cc</code> ä¸­çš„æ ¸å¿ƒå‡½æ•° <code>ProtobufMain</code>ã€‚è¯¥å‡½æ•°æ˜¯ <code>protoc</code> ç¼–è¯‘å™¨çš„çœŸæ­£å…¥å£ç‚¹ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ ¸å¿ƒå‡½æ•°ï¼šprotoc ç¼–è¯‘å™¨çš„ä¸»é€»è¾‘å…¥å£</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">ProtobufMain</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span> </span>{
  <span class="hljs-comment">// 1. åˆå§‹åŒ–å¼€æºè¿è¡Œæ—¶æ ‡å¿—ï¼ˆå¦‚æœå®šä¹‰äº†ç›¸å…³å®ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> GOOGLE_PROTOBUF_RUNTIME_INCLUDE_BASE</span>
  google::protobuf::internal::<span class="hljs-built_in">SetIsOss</span>(<span class="hljs-literal">true</span>);
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

  <span class="hljs-comment">// 2. åˆå§‹åŒ– Abseil æ—¥å¿—åº“ï¼Œç”¨äºç¼–è¯‘å™¨å†…éƒ¨çš„æ—¥å¿—è¾“å‡º</span>
  absl::<span class="hljs-built_in">InitializeLog</span>();

  <span class="hljs-comment">// 3. åˆ›å»ºå‘½ä»¤è¡Œæ¥å£ (CLI) å¯¹è±¡ï¼Œå®ƒæ˜¯ç¼–è¯‘å™¨å·¥ä½œæµçš„åè°ƒå™¨</span>
  CommandLineInterface cli;
  <span class="hljs-comment">// å…è®¸åŠ è½½ä»¥ â€œprotoc-â€ ä¸ºå‰ç¼€çš„æ’ä»¶</span>
  cli.<span class="hljs-built_in">AllowPlugins</span>(<span class="hljs-string">"protoc-"</span>);

  <span class="hljs-comment">// 4. æ³¨å†Œæ‰€æœ‰å†…ç½®çš„ä»£ç ç”Ÿæˆå™¨ (CodeGenerator)</span>
  <span class="hljs-comment">//    è¿™æ˜¯ç¼–è¯‘å™¨æ”¯æŒå¤šè¯­è¨€çš„æ ¸å¿ƒï¼šå°†è¯­è¨€å…³é”®å­—ä¸å…·ä½“çš„ç”Ÿæˆå™¨å¯¹è±¡ç»‘å®š</span>
  <span class="hljs-comment">// 4.1 æ³¨å†Œ C++ ç”Ÿæˆå™¨</span>
  cpp::CppGenerator cpp_generator;
  <span class="hljs-comment">// å‚æ•°: â€œ--cpp_outâ€ æŒ‡å®šè¾“å‡ºæ ‡å¿—, â€œ--cpp_optâ€ æŒ‡å®šé€‰é¡¹æ ‡å¿—, &amp;cpp_generator æ˜¯ç”Ÿæˆå™¨å®ä¾‹, æœ€åæ˜¯å¸®åŠ©æ–‡æœ¬</span>
  cli.<span class="hljs-built_in">RegisterGenerator</span>(<span class="hljs-string">"--cpp_out"</span>, <span class="hljs-string">"--cpp_opt"</span>, &amp;cpp_generator,
                        <span class="hljs-string">"Generate C++ header and source."</span>);
  <span class="hljs-comment">// ... (ä¸ºå¼€æºç‰ˆæœ¬è®¾ç½®ç‰¹å®šå‚æ•°)</span>

  <span class="hljs-comment">// 4.2 æ³¨å†Œ Java ç”Ÿæˆå™¨</span>
  java::JavaGenerator java_generator;
  cli.<span class="hljs-built_in">RegisterGenerator</span>(<span class="hljs-string">"--java_out"</span>, <span class="hljs-string">"--java_opt"</span>, &amp;java_generator,
                        <span class="hljs-string">"Generate Java source file."</span>);

  <span class="hljs-comment">// 4.3 æ³¨å†Œ Kotlin ç”Ÿæˆå™¨</span>
  kotlin::KotlinGenerator kt_generator;
  cli.<span class="hljs-built_in">RegisterGenerator</span>(<span class="hljs-string">"--kotlin_out"</span>, <span class="hljs-string">"--kotlin_opt"</span>, &amp;kt_generator,
                        <span class="hljs-string">"Generate Kotlin file."</span>);

  <span class="hljs-comment">// 4.4 æ³¨å†Œ Python ç”Ÿæˆå™¨</span>
  python::Generator py_generator;
  cli.<span class="hljs-built_in">RegisterGenerator</span>(<span class="hljs-string">"--python_out"</span>, <span class="hljs-string">"--python_opt"</span>, &amp;py_generator,
                        <span class="hljs-string">"Generate Python source file."</span>);

  <span class="hljs-comment">// 4.5 æ³¨å†Œ Python ç±»å‹å­˜æ ¹ (.pyi) ç”Ÿæˆå™¨</span>
  python::PyiGenerator pyi_generator;
  <span class="hljs-comment">// Pyi ç”Ÿæˆå™¨é€šå¸¸æ²¡æœ‰é¢å¤–é€‰é¡¹ï¼Œæ•…åªç”¨ä¸€ä¸ªå‚æ•°</span>
  cli.<span class="hljs-built_in">RegisterGenerator</span>(<span class="hljs-string">"--pyi_out"</span>, &amp;pyi_generator,
                        <span class="hljs-string">"Generate python pyi stub."</span>);

  <span class="hljs-comment">// 4.6 æ³¨å†Œå…¶ä»–è¯­è¨€ç”Ÿæˆå™¨ (PHP, Ruby, C#, Objective-C, Rust)</span>
  <span class="hljs-comment">//    æ¨¡å¼ä¸ä¸Šè¿°ç±»ä¼¼ï¼Œæ­¤å¤„ä¸ºç®€æ´çœç•¥...</span>
  <span class="hljs-comment">//    php::Generator, ruby::Generator, csharp::Generator,</span>
  <span class="hljs-comment">//    objectivec::ObjectiveCGenerator, rust::RustGenerator</span>

  <span class="hljs-comment">// 5. å¤„ç†å¯èƒ½çš„å†…éƒ¨ç™½åå•æœºåˆ¶ï¼ˆç”¨äºæ§åˆ¶æŸäº›å®éªŒæ€§æˆ–å†…éƒ¨ç‰¹æ€§ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> DISABLE_PROTOC_CONFIG</span>
  <span class="hljs-keyword">auto</span> cleanup = internal::<span class="hljs-built_in">DisableAllowlistInternalOnly</span>();
<span class="hljs-meta">#<span class="hljs-keyword">endif</span>  <span class="hljs-comment">// DISABLE_PROTOC_CONFIG</span></span>

  <span class="hljs-comment">// 6. å°†æ§åˆ¶æƒç§»äº¤ç»™ CLI å¯¹è±¡ï¼Œæ‰§è¡Œå®é™…çš„ç¼–è¯‘å·¥ä½œæµï¼š</span>
  <span class="hljs-comment">//    - è§£æå‘½ä»¤è¡Œå‚æ•°</span>
  <span class="hljs-comment">//    - è¯»å–å¹¶è§£æ .proto æ–‡ä»¶ï¼Œæ„å»ºè¯­æ³•æè¿°ç¬¦ (FileDescriptor)</span>
  <span class="hljs-comment">//    - æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ `--*_out` å‚æ•°ï¼Œæ‰¾åˆ°å¯¹åº”çš„ç”Ÿæˆå™¨</span>
  <span class="hljs-comment">//    - è°ƒç”¨ç”Ÿæˆå™¨çš„ Generate() æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ FileDescriptor</span>
  <span class="hljs-comment">//    - ç”Ÿæˆå™¨è´Ÿè´£å°† AST è½¬æ¢ä¸ºç›®æ ‡è¯­è¨€ä»£ç å¹¶å†™å…¥æ–‡ä»¶</span>
  <span class="hljs-comment">//    - è¿”å›æ‰§è¡ŒçŠ¶æ€ (0 æˆåŠŸï¼Œé 0 é”™è¯¯)</span>
  <span class="hljs-keyword">return</span> cli.<span class="hljs-built_in">Run</span>(argc, argv);
}
</code></pre>
<p><strong>ä»£ç è§£æè¦ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼š<code>CommandLineInterface</code> æ˜¯ä¸­æ¢ï¼Œè´Ÿè´£æµç¨‹è°ƒåº¦ã€‚å„è¯­è¨€ç”Ÿæˆå™¨æ˜¯ç‹¬ç«‹çš„æ’ä»¶æ¨¡å—ï¼Œé€šè¿‡ <code>RegisterGenerator</code> æ³¨å†Œï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚</li>
<li><strong>æ”¯æŒæ’ä»¶åŒ–</strong>ï¼š<code>AllowPlugins</code> å‡½æ•°è¡¨æ˜æ¶æ„æ”¯æŒå¤–éƒ¨æ’ä»¶ï¼Œè¿™æ˜¯ gRPC ç­‰å·¥å…·èƒ½å¤Ÿæ— ç¼é›†æˆçš„åŸºç¡€ã€‚</li>
<li><strong>å¹³å°é€‚é…</strong>ï¼šæ–‡ä»¶æœ«å°¾çš„ <code>main</code> å‡½æ•°é’ˆå¯¹ Windows å¹³å°è¿›è¡Œäº†ç‰¹æ®Šçš„ UTF-16 åˆ° UTF-8 å‘½ä»¤è¡Œå‚æ•°è½¬æ¢ï¼Œä½“ç°äº†è·¨å¹³å°æ”¯æŒçš„ç»†èŠ‚å¤„ç†ã€‚</li>
<li><strong>æ¸…æ™°çš„èŒè´£åˆ†ç¦»</strong>ï¼š<code>ProtobufMain</code> ä»…è´Ÿè´£åˆå§‹åŒ–å’Œæ³¨å†Œï¼Œå…·ä½“çš„ç¼–è¯‘é€»è¾‘å°è£…åœ¨ <code>cli.Run()</code> ä¸­ã€‚ç”Ÿæˆå™¨åªè´Ÿè´£ä»£ç ç”Ÿæˆï¼Œä¸å…³å¿ƒæ–‡ä»¶è§£æã€‚</li>
</ol>
<p><strong>ä¸åŒç±»æŠ€æœ¯å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>å¯¹æ¯” Apache Thrift</strong>ï¼šä¸¤è€…éƒ½æä¾› IDL å’Œè·¨è¯­è¨€ä»£ç ç”Ÿæˆã€‚Thrift å†…ç½®äº† RPC æ¡†æ¶å®šä¹‰ï¼Œæ›´â€œå…¨æ ˆâ€ï¼›è€Œ Protobuf æ›´ä¸“æ³¨äºåºåˆ—åŒ–æœ¬èº«ï¼Œé€šè¿‡æ’ä»¶ï¼ˆå¦‚ gRPCï¼‰å®ç° RPCï¼Œæ›´ä¸ºâ€œä¸“æ³¨â€å’Œâ€œçµæ´»â€ã€‚Protobuf çš„äºŒè¿›åˆ¶ç¼–ç é€šå¸¸è¢«è®¤ä¸ºæ›´ç´§å‡‘ã€‚</li>
<li><strong>å¯¹æ¯” JSON/XML</strong>ï¼šProtobuf éœ€è¦é¢„ç¼–è¯‘æ­¥éª¤å’Œå¼ºç±»å‹ Schemaï¼Œåœ¨çµæ´»æ€§å’Œå¼€å‘ä¾¿æ·æ€§ä¸Šä¸åŠ JSONï¼Œä½†åœ¨æ€§èƒ½ã€ç±»å‹å®‰å…¨å’Œå¥‘çº¦ç®¡ç†ä¸Šå…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚é€‚ç”¨äºå†…éƒ¨æœåŠ¡é€šä¿¡ã€é…ç½®æ–‡ä»¶ã€æ•°æ®æŒä¹…åŒ–ç­‰åœºæ™¯ã€‚</li>
<li><strong>å¯¹æ¯” FlatBuffers/Capâ€˜n Proto</strong>ï¼šåä¸¤è€…æ˜¯â€œé›¶æ‹·è´â€åºåˆ—åŒ–æ–¹æ¡ˆçš„å…¸å‹ï¼Œè®¿é—®åºåˆ—åŒ–æ•°æ®æ—¶æ— éœ€å®Œå…¨è§£æï¼Œåœ¨ç‰¹å®šåœºæ™¯ï¼ˆå¦‚å¤§å‹æ•°æ®ç»“æ„é¢‘ç¹è®¿é—®éƒ¨åˆ†å­—æ®µï¼‰æ€§èƒ½æ›´é«˜ã€‚ä½† Protobuf çš„ç”Ÿæ€æ›´æˆç†Ÿï¼ŒAPI æ›´ç®€å•ï¼Œå‘åå…¼å®¹æ€§æ–¹æ¡ˆç»è¿‡å¤§è§„æ¨¡éªŒè¯ï¼Œé€šç”¨æ€§æ›´å¼ºã€‚</li>
</ul>
<p><strong>æ€»ç»“</strong>ï¼šProtocol Buffers é€šè¿‡å…¶ç²¾å·§çš„ <strong>IDL è®¾è®¡ã€é«˜æ•ˆçš„ Wire Formatã€ç¨³å¥çš„å…¼å®¹æ€§è§„åˆ™ä»¥åŠæ¨¡å—åŒ–ã€æ’ä»¶åŒ–çš„ç¼–è¯‘å™¨æ¶æ„</strong>ï¼ŒæˆåŠŸè§£å†³äº†è·¨è¯­è¨€ã€é«˜æ€§èƒ½ã€å¯æ¼”è¿›çš„æ•°æ®äº¤æ¢è¿™ä¸€æ ¸å¿ƒå·¥ç¨‹é—®é¢˜ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·åº“ï¼Œæ›´æ˜¯ä¸€ç§è¢«å¹¿æ³›æ¥å—çš„è®¾è®¡æ¨¡å¼å’Œå·¥ç¨‹å®è·µæ ‡å‡†ã€‚æ·±å…¥ç†è§£å…¶è®¾è®¡åŸç†ï¼Œå¯¹äºæ„å»ºå¥å£®çš„åˆ†å¸ƒå¼ç³»ç»Ÿè‡³å…³é‡è¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ™ºèƒ½ä½“ä»å…¥é—¨åˆ°è¿›é˜¶å†åˆ°è½åœ°å®Œæ•´æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7589553045157265448</link>    <guid>https://juejin.cn/post/7589553045157265448</guid>    <pubDate>2025-12-31T01:51:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589553045157265448" data-draft-id="7484922528239566863" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ™ºèƒ½ä½“ä»å…¥é—¨åˆ°è¿›é˜¶å†åˆ°è½åœ°å®Œæ•´æ•™ç¨‹"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-31T01:51:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AlanHou"/> <meta itemprop="url" content="https://juejin.cn/user/62022837364253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ™ºèƒ½ä½“ä»å…¥é—¨åˆ°è¿›é˜¶å†åˆ°è½åœ°å®Œæ•´æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/62022837364253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AlanHou
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:51:07.000Z" title="Wed Dec 31 2025 01:51:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»40åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f95bdabd2d54e298b000549a177801b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=Q1zFaRxqoJsAslYPQkglnTpBSZ8%3D" alt="AI æ™ºèƒ½ä½“ä»å…¥é—¨åˆ°è¿›é˜¶å†åˆ°è½åœ°å®Œæ•´æ•™ç¨‹" loading="lazy"/></p>
<p>å¦‚æœä½ å…³æ³¨äº† 2025 å¹´çš„ AI åŠ¨æ€ï¼Œå¯èƒ½å·²ç»æ³¨æ„åˆ°æ¯ä¸ªäººéƒ½åœ¨è°ˆè®ºâ€œæ™ºèƒ½ä½“ï¼ˆAgentsï¼‰â€ã€‚è¿™æ˜¯æœ‰å……åˆ†ç†ç”±çš„ã€‚AI æ™ºèƒ½ä½“å¯ä»¥å¤„ç†ä»ç®€å•çš„æ—¥å¸¸ä»»åŠ¡åˆ°ä¼ä¸šçº§è§„æ¨¡çš„å¤æ‚å¤šæ™ºèƒ½ä½“å·¥ä½œæµç­‰å„ç§äº‹åŠ¡ã€‚</p>
<p>è€Œè¿™ä»…ä»…æ˜¯ä¸ªå¼€å§‹ã€‚æˆ‘ä»¬å°†åœ¨è¿™ä¸ªé¢†åŸŸçœ‹åˆ°æ›´å¤šçš„åˆ›æ–°ã€‚</p>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è¿™é‡Œï¼Œæˆ‘æ˜¯ Marinaã€‚æˆ‘æ˜¯äºšé©¬é€Šçš„ä¸€åé«˜çº§åº”ç”¨ç§‘å­¦å®¶ï¼Œè‡´åŠ›äºç”Ÿæˆå¼ AIï¼ˆGen AIï¼‰çš„ç ”ç©¶ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ä¸ºä½ æ‹†è§£å…³äºæ„å»ºå’Œä½¿ç”¨ AI æ™ºèƒ½ä½“ä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡ã€‚</p>
<p>æˆ‘å¯¹è¿™ä¸ªè¯é¢˜è¿›è¡Œäº†æ·±å…¥ç ”ç©¶ã€‚æˆ‘å‚åŠ äº†è®¸å¤šä¸åŒçš„è¯¾ç¨‹ï¼Œé˜…è¯»äº†å¤§é‡ä¹¦ç±ï¼Œå¹¶æ„å»ºäº†è‡ªå·±çš„æ™ºèƒ½ä½“ã€‚æˆ‘çš„ç ”ç©¶ç¬”è®°æœ€ç»ˆé•¿è¾¾çº¦ 150 é¡µï¼Œè€Œé€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°†æ‰€æœ‰è¿™äº›ç²¾åæç‚¼å‡ºæ¥åˆ†äº«ç»™ä½ ã€‚</p>
<p>æˆ‘ä»¬å°†æŒ‰ä»¥ä¸‹æ–¹å¼è¿›è¡Œæ‹†è§£ï¼š</p>
<ul>
<li><strong>é¦–å…ˆæ˜¯åŸºç¡€ç¯‡ã€‚</strong> ä»€ä¹ˆæ˜¯ AI æ™ºèƒ½ä½“ï¼Œå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Œä»¥åŠä½ å®é™…ä¸Šå¯ä»¥åœ¨å“ªé‡Œä½¿ç”¨å®ƒä»¬ï¼Ÿå¦‚æœä½ æƒ³åœ¨ä¸å†™ä»£ç çš„æƒ…å†µä¸‹å¼€å§‹å°è¯•çš„è¯ï¼Œæˆ‘ä»¬è¿˜å°†æ¶µç›–ä¸€äº›æ— ä»£ç ï¼ˆno-codeï¼‰é€‰é¡¹ã€‚</li>
<li><strong>ç„¶åæ˜¯è¿›é˜¶ç¯‡ã€‚</strong> æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦‚ä½•æ„å»ºå’Œè¯„ä¼°èƒ½å¤Ÿè§£å†³å®é™…é—®é¢˜çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚æˆ‘å°†æ¼”ç¤ºä¸€ä¸ªæˆ‘è‡ªå·±åˆ¶ä½œçš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œå®ƒç›®å‰æ¯å‘¨èƒ½ä¸ºæˆ‘èŠ‚çœå‡ ä¸ªå°æ—¶çš„å·¥ä½œæ—¶é—´ã€‚</li>
<li><strong>æ¥ç€æ˜¯é«˜çº§ç¯‡ã€‚</strong> åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ„å»ºå¯é çš„æ™ºèƒ½ä½“ç³»ç»Ÿåˆ°åº•éœ€è¦ä»€ä¹ˆï¼Ÿ</li>
<li><strong>æœ€åæ˜¯å½©è›‹éƒ¨åˆ†</strong>ï¼Œä¸“ä¸ºé‚£äº›æƒ³è¦æ·±å…¥æŒ–æ˜å¹¶ç†è§£åƒ Claude Code è¿™æ ·çš„å·¥å…·åœ¨åº•å±‚åˆ°åº•æ˜¯å¦‚ä½•è¿ä½œçš„å¼€å‘è€…å‡†å¤‡ã€‚</li>
</ul>
<p>æ— è®ºä½ æ˜¯è¯•å›¾è‡ªåŠ¨åŒ–è‡ªå·±å·¥ä½œæµç¨‹çš„éæŠ€æœ¯äººå‘˜ï¼Œè¿˜æ˜¯æ­£åœ¨ä¸ºå…¬å¸æ„å»ºç”Ÿäº§çº§ AI ç³»ç»Ÿçš„å¼€å‘è€…ï¼Œè¿™ç¯‡æ–‡ç« éƒ½èƒ½å¸®åˆ°ä½ ã€‚</p>
<p>ä¸‹é¢å°±å¼€å§‹ã€‚</p>
<h2 data-id="heading-0">å…¥é—¨ç¯‡ (BEGINNER)</h2>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯æ™ºèƒ½ä½“ï¼Ÿ</h3>
<p>æˆ‘ä»¬ä»åŸºç¡€å¼€å§‹ï¼šåˆ°åº•<strong>ä»€ä¹ˆæ˜¯</strong> AI æ™ºèƒ½ä½“ï¼Ÿ</p>
<p>æœ€ç®€å•çš„ç†è§£æ–¹å¼æ˜¯è¿™æ ·çš„ã€‚æƒ³è±¡ä¸€ä¸‹ä½ éœ€è¦å†™ä¸€ç¯‡æ–‡ç« ã€‚å¦‚æœä½ ä½¿ç”¨ä¼ ç»Ÿçš„ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰æç¤ºè¯ï¼Œä½ åŸºæœ¬ä¸Šä¼šè¯´ï¼šâ€œå˜¿ ChatGPTï¼Œç»™æˆ‘å†™ä¸€ç¯‡å…³äºå¦‚ä½•å¼€å§‹å¥èº«çš„æ–‡ç« â€ï¼Œç„¶åå®ƒä¼šä¸€å£æ°”ä»å¤´åˆ°å°¾å†™å®Œæ•´ç¯‡å†…å®¹ã€‚</p>
<p>ä½†è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬å®é™…å†™æ–‡ç« çš„æ–¹å¼ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬ä¸ä¼šä¸€æ¬¡æ€§å°±å†™å‡ºå®Œç¾çš„åˆç¨¿ã€‚æˆ‘ä»¬ä¼šè®¡åˆ’ã€åˆ—æçº²ã€åšä¸€äº›ç ”ç©¶ã€å†™ä¸€ä¸ªç²—ç³™çš„è‰ç¨¿ã€é€šè¯»å¹¶ä¿®æ”¹ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>è¿‡ç¨‹</strong>ã€‚</p>
<p>è¿™å°±æ˜¯ä»£ç†å¼ AIï¼ˆagentic AIï¼‰æ‰€åšçš„ã€‚ä¸å…¶è¦æ±‚ AI åœ¨ä¸€æ¬¡çº¿æ€§æ“ä½œä¸­å®Œæˆæ‰€æœ‰äº‹æƒ…ï¼Œä¸å¦‚è®©å®ƒåƒäººç±»ä¸€æ ·è¿­ä»£åœ°å·¥ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f73f45921a6a4924952b12e9e1ee1fa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=rq%2BKm6Vw4N1vV%2BQUjqXfKMH%2BI4E%3D" alt="è¿™å°±æ˜¯ä»£ç†å¼ AIï¼ˆagentic AIï¼‰æ‰€åšçš„ã€‚ä¸å…¶è¦æ±‚ AI åœ¨ä¸€æ¬¡çº¿æ€§æ“ä½œä¸­å®Œæˆæ‰€æœ‰äº‹æƒ…ï¼Œä¸å¦‚è®©å®ƒåƒäººç±»ä¸€æ ·è¿­ä»£åœ°å·¥ä½œã€‚" loading="lazy"/></p>
<p><strong>é‚£ä¹ˆè¿™å®é™…ä¸Šçœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</strong></p>
<p>è®©æˆ‘ä»¬ç»§ç»­ç”¨å†™æ–‡ç« çš„ä¾‹å­ã€‚æ™ºèƒ½ä½“æ˜¯è¿™æ ·å¤„ç†çš„ï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œå®ƒä»<strong>æçº²</strong>å¼€å§‹ã€‚åœ¨åŠ¨ç¬”ä¹‹å‰ï¼Œå®ƒå…ˆç†æ¸…ç»“æ„ã€‚ä¸»è¦è§‚ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆé¡ºåºæ˜¯åˆç†çš„ï¼Ÿ</li>
<li>ç„¶åï¼Œå®ƒå¼„æ¸…æ¥šéœ€è¦ä»æçº²ä¸­è·å–ä»€ä¹ˆä¿¡æ¯ï¼Œå¹¶å®é™…<strong>è·å–è¿™äº›ä¿¡æ¯</strong>ã€‚</li>
<li>å®ƒå¯èƒ½ä¼šæœç´¢ç½‘ç»œã€ä» API æ‹‰å–æ•°æ®æˆ–ä¸‹è½½ç›¸å…³æ¥æºï¼Œç„¶ååˆ©ç”¨è¿™äº›ä¿¡æ¯å†™å‡ºæ–‡ç« çš„<strong>åˆç¨¿</strong>ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84d4e226f5354dd6ada910edba375588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=gs4OWuF9yTP88iH9g6nrqoHpKfc%3D" alt="å†™æ–‡ç« æ™ºèƒ½ä½“å·¥ä½œæµ" loading="lazy"/></p>
<p>ä½†æœ€æ£’çš„éƒ¨åˆ†æ˜¯å®ƒå¹¶ä¸æ­¢æ­¥äºæ­¤ã€‚æ™ºèƒ½ä½“ä¼š<strong>åæ€</strong>è‡ªå·±çš„å·¥ä½œå¹¶è¿›è¡Œ<strong>ä¿®æ”¹</strong>ï¼Œæ¯”å¦‚åŠ å¼ºè–„å¼±çš„è®ºç‚¹ã€è¡¥å……ç¼ºå¤±çš„ä¿¡æ¯æˆ–æ”¹å–„æµç•…åº¦ã€‚</p>
<p>è¿™å°±æ˜¯äººä»¬æ‰€è¯´çš„ <strong>ReAct å¾ªç¯</strong>ã€‚æ¨¡å‹<strong>æ¨ç†ï¼ˆReasonï¼‰</strong> ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Œ<strong>è¡ŒåŠ¨ï¼ˆActï¼‰</strong> ï¼ˆé€šå¸¸é€šè¿‡è°ƒç”¨å·¥å…·ï¼Œæˆ‘ä»¬ç¨åä¼šè®¨è®ºï¼‰ï¼Œ<strong>è§‚å¯Ÿï¼ˆObserveï¼‰</strong> ç»“æœï¼Œç„¶åè¦ä¹ˆç»™ä½ ç­”æ¡ˆï¼Œè¦ä¹ˆå¾ªç¯å›å»å†æ¬¡æ¨ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26e65f4ecbb54e6ba13757bd53500b92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=yPcfUE%2F0%2Ff%2FEk21lwDy%2Bdl2qz9U%3D" alt="ReAct å¾ªç¯" loading="lazy"/></p>
<p>è¿™ç§æ–¹æ³•ä¹‹æ‰€ä»¥æœ‰æ•ˆï¼Œæ˜¯å› ä¸ºæ¯ä¸€è½®å¾ªç¯éƒ½å¢åŠ äº†æ·±åº¦ã€‚æˆ‘ä»¬è·å¾—äº†æ›´å¼ºçš„æ¨ç†èƒ½åŠ›ã€æ›´å°‘çš„å¹»è§‰ï¼ˆhallucinationsï¼‰å’Œæ›´å¥½çš„ç»„ç»‡ç»“æ„ï¼Œè€Œè¿™äº›éƒ½æ˜¯è¯•å›¾ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰äº‹æƒ…æ—¶å®¹æ˜“ä¸¢å¤±çš„ä¸œè¥¿ã€‚</p>
<p>è¿™ç§æ–¹æ³•éå¸¸é€‚ç”¨äºéœ€è¦ä¸¥è°¨ã€å‡†ç¡®ä¸”æœ‰é€‚å½“æ¥æºå¼•ç”¨çš„å·¥ä½œã€‚å¯ä»¥æƒ³æƒ³æ³•å¾‹ç ”ç©¶ï¼ˆéœ€è¦å¼•ç”¨å…·ä½“æ¡ˆä¾‹ï¼‰ã€åŒ»ç–—æ–‡æ¡£æˆ–éœ€è¦åœ¨å›å¤å‰æŸ¥è¯¢è´¦æˆ·è¯¦æƒ…çš„å®¢æˆ·æ”¯æŒç³»ç»Ÿç­‰é¢†åŸŸã€‚</p>
<p>å½“ç„¶ï¼Œé¢å¤–çš„ä¸“ä¸šåŒ–å’Œå‡†ç¡®æ€§ä¹Ÿå¸¦æ¥äº†å¤æ‚æ€§çš„æˆæœ¬ã€‚è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼šå“ªäº›ä»»åŠ¡å®é™…ä¸Šå€¼å¾—æ„å»ºæ™ºèƒ½ä½“æ¥å®Œæˆï¼Ÿ</p>
<h3 data-id="heading-2">æ™ºèƒ½ä½“é€‚åˆä»€ä¹ˆæ ·çš„ä»»åŠ¡ï¼Ÿ</h3>
<p>æœ‰äº›ä»»åŠ¡é€‚åˆæ™ºèƒ½ä½“ï¼Œæœ‰äº›åˆ™ä¸é€‚åˆã€‚è®©æˆ‘ä»¬çœ‹ä¸€äº›ä¾‹å­ï¼Œä»æœ€ç®€å•åˆ°æœ€å¤æ‚ã€‚</p>
<ul>
<li>ä¸€ä¸ªéå¸¸ç®€å•çš„æ™ºèƒ½ä½“ç³»ç»Ÿç¤ºä¾‹æ˜¯<strong>ä»å‘ç¥¨ä¸­æå–å…³é”®å­—æ®µ</strong>ï¼Œç„¶åå°†å…¶ä¿å­˜åˆ°æ•°æ®åº“ã€‚åƒè¿™æ ·æ¸…æ™°ã€å¯é‡å¤çš„æµç¨‹éå¸¸é€‚åˆæ™ºèƒ½ä½“ã€‚</li>
<li>ä¸­ç­‰å¤æ‚åº¦çš„ä»»åŠ¡å¯èƒ½æ˜¯<strong>å›å¤å®¢æˆ·é‚®ä»¶</strong>ã€‚æ™ºèƒ½ä½“æŸ¥æ‰¾è®¢å•ï¼Œæ£€æŸ¥å®¢æˆ·è®°å½•ï¼Œå¹¶èµ·è‰å›å¤ä¾›äººå·¥å®¡æ ¸ã€‚</li>
<li>å†é«˜ä¸€çº§æ˜¯<strong>å…¨èƒ½å®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“</strong>ï¼Œå¤„ç†è¯¸å¦‚â€œä½ ä»¬æœ‰è“è‰²ç‰›ä»”è£¤ç°è´§å—ï¼Ÿâ€æˆ–â€œæˆ‘è¯¥å¦‚ä½•é€€è´§ï¼Ÿâ€è¿™ç±»é—®é¢˜ã€‚å¯¹äºé€€è´§ï¼Œæ™ºèƒ½ä½“éœ€è¦éªŒè¯è´­ä¹°è®°å½•ã€æ£€æŸ¥æ”¿ç­–ã€ç¡®è®¤æ˜¯å¦å…è®¸é€€è´§ï¼Œç„¶åèµ°å®ŒåŒ…å«è®¸å¤šæ­¥éª¤çš„æ•´ä¸ªé€€è´§æµç¨‹ã€‚æ™ºèƒ½ä½“å¿…é¡»å¼„æ¸…æ¥šæ­¥éª¤æ˜¯ä»€ä¹ˆï¼Œè€Œä¸ä»…ä»…æ˜¯ç…§æœ¬å®£ç§‘ã€‚</li>
</ul>
<p>æ€è€ƒå“ªäº›ç”¨ä¾‹é€‚åˆæ™ºèƒ½ä½“çš„ä¸€ä¸ªå¥½æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªç»´åº¦çš„çŸ©é˜µï¼š<strong>å¤æ‚æ€§</strong>å’Œ<strong>ç²¾ç¡®åº¦</strong>ã€‚</p>
<ul>
<li>æœ‰äº›é—®é¢˜æ—¢å…·æœ‰é«˜å¤æ‚æ€§åˆéœ€è¦é«˜ç²¾ç¡®åº¦ï¼Œæ¯”å¦‚å¡«å†™ç¨åŠ¡è¡¨æ ¼ã€‚</li>
<li>æœ‰äº›é—®é¢˜å¾ˆå¤æ‚ä½†ä¸éœ€è¦å®Œç¾çš„å‡†ç¡®æ€§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è€ƒè™‘åƒç¼–å†™å’Œæ£€æŸ¥è®²åº§ç¬”è®°æ‘˜è¦è¿™æ ·çš„ä»»åŠ¡ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03a107d349424b5faea238dbb336c993~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=UT774ud0%2FuGhEUdgdiI7Tpb9wgg%3D" alt="ç”¨ä¾‹çŸ©é˜µï¼šå¤æ‚æ€§å’Œç²¾ç¡®åº¦" loading="lazy"/></p>
<p>æœ€å¤§çš„ä»·å€¼é€šå¸¸æ¥è‡ªäº<strong>é«˜å¤æ‚æ€§</strong>çš„å·¥ä½œï¼Œè€Œæœ€æ—©æœŸçš„å¿«é€ŸæˆåŠŸå¾€å¾€å‡ºç°åœ¨<strong>è¾ƒä½ç²¾ç¡®åº¦</strong>çš„ä¸€ä¾§ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆâ€œé«˜å¤æ‚æ€§ã€ä½ç²¾ç¡®åº¦â€çš„è±¡é™é€šå¸¸æ˜¯æ˜æ™ºçš„èµ·ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è‡ªåŠ¨åŒ–å¤„ç†æ£˜æ‰‹çš„äº‹æƒ…ï¼Œè€Œä¸ä¼šå› ä¸ºæ¯æ¬¡éƒ½éœ€è¦å®Œç¾çš„è¾“å‡ºè€Œå—é˜»ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œå½“ä»»åŠ¡éœ€è¦<strong>è¿­ä»£</strong>ã€<strong>ç ”ç©¶</strong>æˆ–<strong>å¤šæ­¥éª¤æµç¨‹</strong>æ—¶ï¼Œæ™ºèƒ½ä½“çœŸçš„èƒ½å¤§æ”¾å¼‚å½©ã€‚ä»é‚£äº›èƒ½å®¹å¿ç¨ä½å‡†ç¡®æ€§çš„å¤æ‚ä»»åŠ¡å¼€å§‹é€šå¸¸æ˜¯æœ‰æ„ä¹‰çš„ã€‚</p>
<h3 data-id="heading-3">è‡ªä¸»æ€§è°±ç³» (Spectrum of Autonomy)</h3>
<p>å¥½äº†ï¼Œæ—¢ç„¶ä½ çŸ¥é“äº†æ™ºèƒ½ä½“æ“…é•¿ä»€ä¹ˆï¼Œè®©æˆ‘ä»¬è°ˆè°ˆå¦‚ä½•è¿›è¡Œæ„å»ºã€‚ä½ éœ€è¦åšçš„ç¬¬ä¸€ä¸ªé‡å¤§å†³å®šæ˜¯ï¼šä½ æƒ³ç»™ä½ çš„æ™ºèƒ½ä½“å¤šå°‘è‡ªä¸»æƒï¼Ÿ</p>
<p>æŠŠè¿™çœ‹ä½œä¸€ä¸ªè°±ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e079274040a4cd9b291bd89e3907c7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=j230Udw7QC2%2B2ULcu4gHJ0EQHrE%3D" alt="æ™ºèƒ½ä½“è‡ªä¸»æƒ" loading="lazy"/></p>
<ul>
<li>åœ¨ä¸€ç«¯ï¼Œæˆ‘ä»¬æœ‰<strong>è„šæœ¬åŒ–æ™ºèƒ½ä½“ï¼ˆScripted Agentsï¼‰</strong> ï¼Œç¡¬ç¼–ç æ¯ä¸€ä¸ªæ­¥éª¤ã€‚æ¯”å¦‚å¯¹äºæˆ‘ä»¬çš„æ–‡ç« å†™ä½œç¤ºä¾‹ï¼Œå¯èƒ½æ˜¯ï¼šå…ˆç”Ÿæˆæœç´¢è¯ -&gt; è°ƒç”¨ç½‘ç»œæœç´¢ -&gt; è·å–é¡µé¢ -&gt; ç„¶åå†™æ–‡ç« ã€‚ç»“æŸã€‚è¿™æ˜¯ç¡®å®šæ€§çš„ã€å¯é¢„æµ‹çš„ä¸”æ˜“äºæ§åˆ¶çš„ã€‚æ¨¡å‹å”¯ä¸€çš„å·¥ä½œæ˜¯ç”Ÿæˆå®é™…æ–‡æœ¬ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å†³å®šäº†å…¶ä»–ä¸€åˆ‡ã€‚</li>
<li>åœ¨å¦ä¸€ç«¯ï¼Œæˆ‘ä»¬æœ‰<strong>é«˜åº¦è‡ªä¸»çš„æ™ºèƒ½ä½“ï¼ˆHighly Autonomous Agentsï¼‰</strong> ã€‚ç°åœ¨ LLM å†³å®šæ˜¯æœç´¢ Googleã€æ–°é—»ç½‘ç«™è¿˜æ˜¯ç ”ç©¶è®ºæ–‡ã€‚å®ƒå¼„æ¸…æ¥šè¦è·å–å¤šå°‘é¡µé¢ï¼Œæ˜¯å¦è½¬æ¢ PDFï¼Œä»¥åŠæ˜¯å¦è¿›è¡Œåæ€å’Œä¿®æ”¹ã€‚å®ƒç”šè‡³å¯èƒ½ç¼–å†™æ–°å‡½æ•°å¹¶è¿è¡Œå®ƒä»¬ã€‚è¿™æ›´å¼ºå¤§ï¼Œä½†ä¹Ÿæ›´ä¸å¯é¢„æµ‹ä¸”æ›´éš¾æ§åˆ¶ã€‚</li>
</ul>
<p>åœ¨å®è·µä¸­ï¼Œå¤§å¤šæ•°ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“å¤„äºä¸­é—´ä½ç½®ï¼Œå³<strong>åŠè‡ªä¸»</strong>ã€‚æ™ºèƒ½ä½“ä»æˆ‘ä»¬å®šä¹‰çš„å·¥å…·ä¸­è¿›è¡Œé€‰æ‹©ï¼Œå¹¶åœ¨ä½ è®¾ç½®çš„å®‰å…¨æŠ¤æ å†…åšå†³å®šã€‚</p>
<h3 data-id="heading-4">ä¸Šä¸‹æ–‡å·¥ç¨‹ (Context Engineering)</h3>
<p>ä½†æ˜¯ï¼Œæ™ºèƒ½ä½“æ€ä¹ˆçŸ¥é“æœ‰å“ªäº›å·¥å…·å¯ç”¨æˆ–å¦‚ä½•åšå†³å®šå‘¢ï¼Ÿ</p>
<p>è¿™è¢«ç§°ä¸ºâ€œ<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>â€ï¼Œå³æˆ‘ä»¬å†³å®šæ™ºèƒ½ä½“æ‹¥æœ‰ä»€ä¹ˆä¿¡æ¯ã€‚è¿™åŒ…æ‹¬ä»»åŠ¡èƒŒæ™¯ã€æ™ºèƒ½ä½“çš„è§’è‰²ã€è¿‡å»è¡ŒåŠ¨çš„è®°å¿†ä»¥åŠå¯ç”¨çš„å·¥å…·ç­‰å†…å®¹ã€‚</p>
<p>å¦‚æœæŠŠæ‰€æœ‰è¿™äº›ä¸Šä¸‹æ–‡æ”¾åœ¨ä¸€èµ·ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡ä¼šå°†éç¡®å®šæ€§çš„æ¨¡å‹å¼•å¯¼å‘ä¸€è‡´çš„ã€é«˜è´¨é‡çš„è¾“å‡ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbdc4729cd8e4b54b90952c2fa76fc73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=0GC00q%2BXfX8FllqxJtAevZctvgI%3D" alt="ä¸Šä¸‹æ–‡å·¥ç¨‹ (Context Engineering)" loading="lazy"/></p>
<p>è¿™å°±æ˜¯æ™ºèƒ½ä½“â€œæ™ºèƒ½â€çš„å®è·µåŸºç¡€ã€‚ä¸ä»…ä»…æ˜¯æ¨¡å‹æœ¬èº«ï¼Œè€Œæ˜¯ä½ å¦‚ä½•å›´ç»•å®ƒæ„å»ºä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬åœ¨æ•´ä¸ªè¯¾ç¨‹ä¸­ä¼šæ›´å¤šåœ°è®¨è®ºè¿™äº›ç»„ä»¶ã€‚</p>
<h3 data-id="heading-5">ä»»åŠ¡åˆ†è§£ (Task Decomposition)</h3>
<p>ä¸€æ—¦æ™ºèƒ½ä½“æœ‰äº†å®ƒçš„ä¸Šä¸‹æ–‡ï¼Œå°±è¯¥å®šä¹‰å®ƒåº”è¯¥åšçš„ä»»åŠ¡äº†ã€‚å¼„æ¸…æ¥šè¿™äº›ä»»åŠ¡å¯èƒ½æ˜¯ä½ å…³äºæ„å»ºæ™ºèƒ½ä½“æ‰€å­¦åˆ°çš„æœ€é‡è¦çš„äº‹æƒ…ã€‚</p>
<p>ä»å¦‚ä½•åšè¿™é¡¹ä»»åŠ¡å¼€å§‹ã€‚ç„¶åå¯¹äºæ¯ä¸€æ­¥ï¼Œé—®è‡ªå·±ï¼šâ€œLLM èƒ½åšè¿™ä¸ªå—ï¼Ÿä¸€å°æ®µä»£ç èƒ½åšå—ï¼Ÿä¸€ä¸ª API èƒ½åšå—ï¼Ÿâ€å¦‚æœç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå°±æŠŠå®ƒæ‹†è§£å¾—æ›´å°ï¼Œç›´åˆ°å¯ä»¥ä¸ºæ­¢ã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­ç”¨æ„å»ºä¸€ä¸ªå†™æ–‡ç« çš„æ™ºèƒ½ä½“ä¸ºä¾‹ã€‚ æƒ³æƒ³ä½ å®é™…ä¸Šä¼šæ€ä¹ˆå†™ï¼Œç„¶åå¼„æ¸…æ¥š AI å¯èƒ½å¦‚ä½•å®Œæˆè¯¥ä»»åŠ¡ã€‚å®ƒå¯èƒ½ä¼šåƒè¿™æ ·ï¼š</p>
<ol>
<li><strong>åˆ—æçº²</strong>ï¼ˆä½¿ç”¨ LLMï¼‰</li>
<li><strong>ç”Ÿæˆæœç´¢è¯</strong>ï¼ˆä½¿ç”¨ LLMï¼‰ï¼Œç„¶å<strong>è°ƒç”¨æœç´¢ API</strong></li>
<li><strong>è·å–é¡µé¢</strong>ï¼ˆä½¿ç”¨å·¥å…·ï¼‰</li>
<li><strong>å†™åˆç¨¿</strong>ï¼ˆä½¿ç”¨ LLMï¼ŒåŸºäºä¸Šè¿°æ¥æºï¼‰</li>
<li><strong>è‡ªæˆ‘æ‰¹åˆ¤</strong>è‰ç¨¿ï¼ˆä½¿ç”¨ LLM åæ€å¹¶åˆ—å‡ºå·®è·ï¼‰</li>
<li><strong>ä¿®æ”¹</strong>ï¼ˆä½¿ç”¨ LLMï¼‰</li>
</ol>
<p>æ¯ä¸€æ­¥éƒ½æ˜¯å¾®å°çš„ã€å¯æ£€æŸ¥çš„å’Œæ¸…æ™°çš„ã€‚å½“è¾“å‡ºä¸å¤Ÿå¥½æ—¶ï¼Œæˆ‘ä»¬æ˜ç¡®åœ°çŸ¥é“å“ªä¸€æ­¥éœ€è¦æ”¹è¿›ã€‚</p>
<h2 data-id="heading-6">è¿›é˜¶ç¯‡ (INTERMEDIATE)</h2>
<h3 data-id="heading-7">è¯„ä¼° (Evaluation)</h3>
<p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æŒæ¡äº†åŸºç¡€çŸ¥è¯†ï¼Œæ­£è¿›å…¥è¿›é˜¶é¢†åŸŸã€‚</p>
<p>æˆ‘ä»¬å°†ä»ä¸€äº›éå¸¸æ¯ç‡¥çš„äº‹æƒ…å¼€å§‹ã€‚ä½†æ˜¯ï¼Œè¿™æ˜¯åŒºåˆ†ä¸šä½™çˆ±å¥½è€…å’Œä¸“ä¸šäººå£«çš„å…³é”®ï¼š<strong>ä½ å¦‚ä½•è¡¡é‡å…¶æ€§èƒ½ã€‚</strong></p>
<p>æœ‰æ—¶ï¼Œè¯„ä¼°å¯ä»¥ç®€å•åˆ°æµ‹é‡è¾“å‡ºæ­£ç¡®çš„æ¬¡æ•°ã€‚å¦‚æœæˆ‘é—®æˆ‘çš„å®¢æœèŠå¤©æœºå™¨äººæ˜¯å¦æœ‰æŸç§å•†å“åº“å­˜ï¼Œå®ƒå›ç­”å¯¹äº†å—ï¼Ÿ</p>
<p>ä½†å¹¶ä¸æ˜¯æ‰€æœ‰äº‹æƒ…éƒ½é‚£ä¹ˆç•Œé™åˆ†æ˜ã€‚è®©æˆ‘ä»¬æƒ³æƒ³æˆ‘ä»¬çš„æ–‡ç« å†™ä½œæ™ºèƒ½ä½“ã€‚å¦‚ä½•è¡¡é‡æ–‡ç« å®é™…ä¸Šæ˜¯å¦<strong>å¥½</strong>ï¼Ÿ</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç¬¬äºŒä¸ª LLM æ¥åˆ¤æ–­è¾“å‡ºã€‚è®©å®ƒä½¿ç”¨ä¸€è‡´çš„è¯„åˆ†æ ‡å‡†å¯¹æ¯ç¯‡æ–‡ç« çš„è´¨é‡è¿›è¡Œ 1 åˆ° 5 åˆ†çš„è¯„åˆ†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6697c583badd4c45969c60b093364711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=DddKt7cd4jaJ90e9D1li8rqp0fQ%3D" alt="LLMæ‰“åˆ†" loading="lazy"/></p>
<p>å¯ä»¥åœ¨<strong>ç»„ä»¶çº§åˆ«</strong>è¯„ä¼°ç³»ç»Ÿï¼Œä»¥ç¡®ä¿æ¯ä¸ªå•ç‹¬çš„æ­¥éª¤éƒ½æœ‰æ•ˆï¼›ä¹Ÿå¯ä»¥è¿›è¡Œ<strong>ç«¯åˆ°ç«¯</strong>è¯„ä¼°ï¼Œä»¥åˆ¤æ–­æ•´ä¸ªç³»ç»Ÿçš„æœ€ç»ˆè´¨é‡ã€‚</p>
<p>å¦‚æœå‘ç°ç³»ç»Ÿè¿ä½œä¸å¦‚é¢„æœŸï¼Œç¬¬ä¸€æ­¥æ˜¯æ£€æŸ¥ä¸­é—´æ­¥éª¤ï¼Œè¿™è¢«ç§°ä¸º<strong>è¿½è¸ªï¼ˆtraceï¼‰</strong> ã€‚è¿™åŒ…æ‹¬æ™ºèƒ½ä½“ç¼–å†™çš„æœç´¢æŸ¥è¯¢ã€è‰ç¨¿å’Œæ€è€ƒæ­¥éª¤ç­‰å†…å®¹ã€‚å¦‚æœé€šè¯»è¿™äº›å†…å®¹ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä¸€äº›æ¨¡å¼ï¼Œæ¯”å¦‚è¿‡äºç¬¼ç»Ÿçš„æŸ¥è¯¢ï¼Œæˆ–è€…ä¿®æ”¹æ­¥éª¤æ²¡æœ‰æ­£ç¡®é‡‡çº³æ‰¹è¯„æ„è§ã€‚</p>
<p>è¿™äº›è§‚å¯Ÿç»“æœå°†æˆä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥çš„è¯„ä¼°ç‚¹æˆ–ä¿®å¤ç‚¹ã€‚</p>
<p>é‡è¦çš„æ˜¯è¦ç«‹å³å¼€å§‹è¯„ä¼°ï¼Œä½†ä¹Ÿ<strong>ä¸è¦</strong>æ‹…å¿ƒä¸€å¼€å§‹å°±è¦æ‹¥æœ‰å®Œç¾çš„è¯„ä¼°ç³»ç»Ÿã€‚å¯ä»¥å…ˆè®©å®ƒè·‘èµ·æ¥ï¼Œç„¶åéšç€æ—¶é—´çš„æ¨ç§»è¿›è¡Œè¿­ä»£ã€‚</p>
<h3 data-id="heading-8">è®°å¿† (Memory)</h3>
<p>ç°åœ¨æˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿï¼Œä¹Ÿæœ‰äº†ä¸€äº›è¡¡é‡æ€§èƒ½çš„æ–¹æ³•ï¼Œæ˜¯æ—¶å€™å®é™…ç€æ‰‹æé«˜æ€§èƒ½äº†ã€‚<strong>è®°å¿†</strong>æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„æ–¹æ³•ã€‚</p>
<p>è®°å¿†è®©æ™ºèƒ½ä½“è®°ä½ä»€ä¹ˆæœ‰æ•ˆã€ä»€ä¹ˆå¤±è´¥äº†ä»¥åŠä¸‹æ¬¡è¯¥åšä»€ä¹ˆæ”¹å˜ï¼Œä»è€Œåœ¨æ¯æ¬¡è¿è¡Œæ—¶éƒ½èƒ½é€šè¿‡<strong>çŸ­æœŸè®°å¿†</strong>ï¼ˆæ™ºèƒ½ä½“è¾¹åšè¾¹è®°å½•ï¼‰å’Œ<strong>é•¿æœŸè®°å¿†</strong>æ¥å®é™…æ”¹è¿›ã€‚åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ï¼Œå…¶ä»–æ™ºèƒ½ä½“å¯ä»¥è¯»å–è¿™äº›ç¬”è®°ã€‚æ™ºèƒ½ä½“å®Œæˆä»»åŠ¡åï¼Œå¯ä»¥åæ€å®ƒåšäº†ä»€ä¹ˆï¼Œå°†ç»“æœä¸é¢„æœŸè¿›è¡Œæ¯”è¾ƒï¼Œå¼„æ¸…æ¥šä»€ä¹ˆåšå¾—å¥½ã€ä»€ä¹ˆåšå¾—ä¸å¥½ï¼Œå¹¶å°†è¿™äº›æ•™è®­å­˜å‚¨åœ¨é•¿æœŸè®°å¿†ä¸­ã€‚</p>
<p>ä¸‹æ¬¡è¿è¡Œæ—¶ï¼Œå®ƒä¼šåŠ è½½è¿™äº›æ•™è®­å¹¶åŠ ä»¥åº”ç”¨ã€‚</p>
<p>è¿™å¯ä»¥ç”¨æ¥â€œè®­ç»ƒâ€æ™ºèƒ½ä½“ï¼Œç±»ä¼¼äºç›‘ç£å­¦ä¹ ã€‚æˆ‘ä»¬å¯ä»¥å¯¹æ™ºèƒ½ä½“çš„å·¥ä½œç»™äºˆåé¦ˆï¼Œè¿™æ ·éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ¯æ¬¡è¿è¡Œçš„è´¨é‡éƒ½ä¼šæé«˜ã€‚æˆ‘å°†åœ¨æœ¬èŠ‚æœ«å°¾çš„æ¼”ç¤ºä¸­å±•ç¤ºè¿™ä¸€ç‚¹çš„ä¾‹å­ã€‚</p>
<p>æ‰€ä»¥ï¼Œè®°å¿†æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡è¿è¡Œæ—¶æ›´æ–°ã€‚<strong>çŸ¥è¯†ï¼ˆKnowledgeï¼‰</strong> åˆ™ä¸åŒï¼Œå®ƒæ˜¯ä½ é¢„å…ˆåŠ è½½çš„é™æ€å‚è€ƒèµ„æ–™ã€‚PDFã€CSVã€æ–‡æ¡£æˆ–å¯¹æ•°æ®åº“çš„è®¿é—®æƒé™ã€‚ä½ ç»™æ™ºèƒ½ä½“ä¸€æ¬¡ï¼Œå®ƒå°±å¯ä»¥åœ¨éœ€è¦å¼•ç”¨å‡†ç¡®ä¿¡æ¯æ—¶ä»è¯¥åº“ä¸­æå–ã€‚</p>
<h3 data-id="heading-9">å®‰å…¨æŠ¤æ  (Guardrails)</h3>
<p>ä¸€æ—¦æˆ‘ä»¬å°†æ™ºèƒ½ä½“ä¸å…¶ä»»åŠ¡ã€çŸ¥è¯†å’Œè®°å¿†è®¾ç½®å¥½ï¼Œå®ƒå°±å¯ä»¥å½»åº•æ”¾é£è‡ªæˆ‘äº†å—ï¼Ÿ</p>
<p>ä¸å®Œå…¨æ˜¯ã€‚è¿˜æœ‰ä¸€ä¸ªæˆ‘ä»¬æ²¡è°ˆåˆ°çš„éå¸¸é‡è¦çš„æ­¥éª¤ã€‚</p>
<p>å› ä¸º LLM æ˜¯éç¡®å®šæ€§çš„ï¼Œå®ƒä»¬å¯èƒ½ä¼šçŠ¯é”™ã€‚ä¹Ÿè®¸å®ƒä»¬å†™äº†ä¸€äº›äº‹å®ä¸Šé”™è¯¯çš„ä¸œè¥¿ï¼Œæˆ–è€…æ ¼å¼ä¸å¯¹ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢é—®é¢˜å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦å‘ç³»ç»Ÿæ·»åŠ <strong>å®‰å…¨æŠ¤æ </strong>ã€‚ æŠ¤æ åŸºæœ¬ä¸Šæ˜¯ä½äºâ€œæ™ºèƒ½ä½“è¯´å®Œæˆäº†â€å’Œâ€œä»»åŠ¡å®é™…æœ€ç»ˆåŒ–â€ä¹‹é—´çš„è´¨é‡å…³å¡ã€‚</p>
<p>æŠ¤æ ä¸»è¦æœ‰ä¸‰ç§æ–¹æ³•ï¼Œå¤§å¤šæ•°ç”Ÿäº§ç³»ç»Ÿè‡³å°‘ä½¿ç”¨ä¸¤ç§ã€‚</p>
<ol>
<li>å¯¹äºåƒè¾“å‡ºæ ¼å¼å’Œé•¿åº¦è¿™æ ·çš„ç¡®å®šæ€§å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<strong>æ ‡å‡†ä»£ç ç‰‡æ®µ</strong>ã€‚è¿™äº›æ—¢å¿«åˆä¾¿å®œï¼Œåº”å°½å¯èƒ½ä¼˜å…ˆä½¿ç”¨ã€‚<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49c581351d7d421d970de67e11b50385~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=NKwbtJEmzOGobCTSFcen1bZE0hE%3D" alt="ä»£ç å®‰å…¨æŠ¤æ " loading="lazy"/></li>
<li>æœ‰æ—¶æˆ‘ä»¬åœ¨æ£€æŸ¥æ›´å¾®å¦™çš„ä¸œè¥¿ï¼Œæ¯”å¦‚â€œè¿™ä¸ªå›å¤ä¸æ¥æºåœ¨äº‹å®ä¸Šä¸€è‡´å—ï¼Ÿâ€æˆ–â€œè¯­æ°”ç§¯æä¸”ä¸“ä¸šå—ï¼Ÿâ€<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb94667d088249778db0ad617a981bea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=koRIO6SodjOhMXhpLK%2B3xX%2FpFo4%3D" alt="LLMå®‰å…¨æŠ¤æ " loading="lazy"/><br/>
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>å¦ä¸€ä¸ª LLM æ¥åˆ¤æ–­</strong>è¾“å‡ºã€‚å¦‚æœ LLM è£åˆ¤è¯´â€œä¸ï¼Œè¿™ä¸åˆæ ¼â€ï¼Œå®ƒä¼šè§£é‡ŠåŸå› ã€‚è¯¥åé¦ˆä¼šè¢«å‘é€å›ä½ çš„æ™ºèƒ½ä½“ï¼Œæ™ºèƒ½ä½“è¿›è¡Œä¿®æ”¹å¹¶é‡è¯•ã€‚</li>
<li>æœ€åï¼Œæœ‰æ—¶ä½ åªéœ€è¦<strong>äººå·¥</strong>æ£€æŸ¥å·¥ä½œã€‚ ä¸å…¶è®©æ™ºèƒ½ä½“è‡ªåŠ¨å®Œæˆå¹¶å‘å¸ƒç»“æœï¼Œä½ å¯ä»¥è®©å®ƒåœä¸‹æ¥å…ˆè¯·æ±‚æ‰¹å‡†ã€‚ä½ å¯ä»¥ç»™å‡ºåé¦ˆå¹¶è¦æ±‚æ™ºèƒ½ä½“é‡è¯•ã€‚</li>
</ol>
<h3 data-id="heading-10">è®¾è®¡æ¨¡å¼ (Design Patterns)</h3>
<p>å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»æ¶µç›–äº†å¾ˆå¤šå…³äºå¦‚ä½•è®©ç³»ç»Ÿè¿ä½œçš„å†…å®¹ã€‚ç°åœ¨è®©æˆ‘ä»¬è°ˆè°ˆå¦‚ä½•è®©ç³»ç»Ÿè´¨é‡æ›´å¥½ã€‚</p>
<p>æœ‰å››ç§æ ¸å¿ƒæ¨¡å¼å¯ä»¥å¯é åœ°æå‡è´¨é‡å’Œèƒ½åŠ›ï¼š<strong>åæ€ã€å·¥å…·ä½¿ç”¨ã€è§„åˆ’å’Œå¤šæ™ºèƒ½ä½“åä½œã€‚</strong></p>
<p>è®©æˆ‘ä»¬ä»æœ€ç®€å•ä¹Ÿæ˜¯æœ€æœ‰æ•ˆçš„å¼€å§‹ï¼šåæ€ã€‚</p>
<h4 data-id="heading-11">1. åæ€ (Reflection)</h4>
<p>ç®€è€Œè¨€ä¹‹ï¼Œåæ€åŸºæœ¬ä¸Šæ„å‘³ç€æˆ‘ä»¬ä¸æ­¢æ­¥äºåˆç¨¿ã€‚ å½“ä½ ä½¿ç”¨åæ€æ—¶ï¼Œæ¨¡å‹ç”Ÿæˆä¸€äº›ä¸œè¥¿ï¼Œæ‰¹åˆ¤å®ƒï¼Œç„¶åæ ¹æ®éœ€è¦é‡å†™ã€‚è¿™ç¬¬äºŒè½®â€”â€”ç”±è¦æ±‚å®ƒå‘ç°å¹¶ä¿®å¤é—®é¢˜çš„æç¤ºè¯å¼•å¯¼â€”â€”å‡ ä¹æ€»æ˜¯è®©ç»“æœæ›´å¥½ã€‚</p>
<p>è®©æˆ‘ç»™ä½ å±•ç¤ºä¸€ä¸ªå…³äºé‚®ä»¶çš„å¿«é€Ÿç¤ºä¾‹ã€‚</p>
<ul>
<li>
<p><strong>ç‰ˆæœ¬ 1ï¼ˆåˆç¨¿ï¼‰ï¼š</strong> â€œå˜¿ï¼Œæˆ‘ä»¬ä¸‹ä¸ªæœˆè§é¢è®¨è®ºé¡¹ç›®å§ã€‚è°¢äº†â€</p>
<ul>
<li>è¿™æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿæ—¥æœŸæ¨¡ç³Šï¼ˆâ€œä¸‹ä¸ªæœˆâ€ï¼‰ï¼Œæ²¡æœ‰ç­¾åï¼Œâ€œè°¢äº†â€æ„Ÿè§‰å¾ˆçªå…€ã€‚</li>
</ul>
</li>
<li>
<p><strong>åæ€æ­¥éª¤ï¼š</strong> æ¨¡å‹é˜…è¯» v1 å¹¶å‘ç°è¿™äº›é—®é¢˜â€”â€”æ—¶é—´çº¿ä¸æ¸…æ¥šï¼Œç¼ºå°‘è½æ¬¾ï¼Œè¯­æ°”æ„Ÿè§‰ä»“ä¿ƒã€‚</p>
</li>
<li>
<p><strong>ç‰ˆæœ¬ 2ï¼ˆä¿®æ”¹åï¼‰ï¼š</strong> â€œä½ å¥½ Alexï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åœ¨ 1 æœˆ 5 æ—¥è‡³ 7 æ—¥ä¹‹é—´è§é¢è®¨è®ºé¡¹ç›®æ—¶é—´è¡¨ï¼Ÿè¯·å‘Šè¯‰æˆ‘ä½ çš„æ—¶é—´ã€‚ç¥å¥½ï¼ŒMarinaâ€</p>
<ul>
<li>å†…å®¹ç›¸åŒï¼Œä½†æ›´å¹²å‡€ã€æ›´å…·ä½“ã€æ›´ä¸“ä¸šã€‚</li>
</ul>
</li>
</ul>
<p>åæ€åœ¨ä»£ç æ–¹é¢å˜å¾—éå¸¸å¼ºå¤§ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ·»åŠ å¤–éƒ¨åé¦ˆã€‚å¯ä»¥ç¼–å†™ä»£ç ï¼Œè®©æ‰¹è¯„æ™ºèƒ½ä½“å®¡æŸ¥å®ƒï¼Œç„¶åå®é™…<strong>è¿è¡Œ</strong>å®ƒã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥æ•è·é”™è¯¯ã€æµ‹è¯•ç»“æœå’Œè¾“å‡ºï¼Œå¹¶å°†è¿™äº›åé¦ˆå›æ¨¡å‹ã€‚æ¨¡å‹å¯ä»¥ä½¿ç”¨è¿™äº›å…·ä½“ä¿¡æ¯æ¥ç”Ÿæˆæ›´å¥½çš„ v2ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e23d083977ea42e5b08863be17659dec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=y7OpPVZf3EVx3pcwYsG0iI%2BVu5E%3D" alt="å¸¦åé¦ˆçš„åæ€" loading="lazy"/></p>
<p>åœ¨æœ‰ç»“æ„åŒ–è¾“å‡ºï¼ˆå¦‚ JSONï¼‰ã€ç¨‹åºåŒ–æŒ‡ä»¤ï¼ˆå¦‚æ³¡èŒ¶çš„æ­¥éª¤ï¼Œåæ€å¯ä»¥æ•æ‰é—æ¼çš„æ­¥éª¤ï¼‰ã€åˆ›é€ æ€§å·¥ä½œå’Œé•¿ç¯‡å†™ä½œæ—¶ï¼Œåæ€ç‰¹åˆ«æœ‰ç”¨ã€‚ ç‰¹åˆ«æ˜¯åœ¨ä½ æ•´åˆå¤–éƒ¨åé¦ˆæ—¶ï¼Œåæ€æ•ˆæœå¾ˆå¥½ã€‚æ¯”å¦‚åœ¨ JSON ä¸Šè¿è¡Œæ¨¡å¼éªŒè¯å™¨ï¼Œæˆ–åœ¨ç ”ç©¶ä»»åŠ¡ä¸­æ£€æŸ¥ç¼ºå¤±çš„å¼•ç”¨ã€‚</p>
<p>ç¼ºç‚¹æ˜¯å®ƒå¢åŠ äº†å»¶è¿Ÿå’Œæˆæœ¬ï¼Œå› ä¸ºä½ åœ¨è¿›è¡Œå¤šè½®æ“ä½œã€‚æ‰€ä»¥ï¼ŒåŠ¡å¿…æµ‹è¯•å¸¦åæ€å’Œä¸å¸¦åæ€çš„æƒ…å†µï¼Œä»¥ç¡®ä¿å®ƒç¡®å®æœ‰å¸®åŠ©ã€‚</p>
<h4 data-id="heading-12">2. å·¥å…·ä½¿ç”¨ (Tool Use)</h4>
<p>å¥½äº†ï¼Œè®©æˆ‘ä»¬è°ˆè°ˆç¬¬äºŒä¸ªè®¾è®¡æ¨¡å¼ï¼šå·¥å…·ä½¿ç”¨ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä½ ç»™ LLM ä¸€ä¸ªå®ƒå¯ä»¥è°ƒç”¨çš„<strong>å‡½æ•°æ¸…å•</strong>ã€‚å¯ä»¥æ˜¯ç½‘ç»œæœç´¢ã€æ•°æ®åº“æŸ¥è¯¢ã€ä»£ç æ‰§è¡Œã€æ—¥å†è®¿é—®æˆ–åº”ç”¨ç¨‹åºéœ€è¦çš„ä»»ä½•ä¸œè¥¿ã€‚ç„¶åæ¨¡å‹å†³å®šä½•æ—¶ä»¥åŠä½¿ç”¨å“ªäº›å·¥å…·ã€‚</p>
<p>è¿™å¾ˆé‡è¦ï¼Œå› ä¸º LLM æœ¬èº«åªæ˜¯ä¸€ä¸ªæ–‡æœ¬ç”Ÿæˆå™¨ã€‚å®ƒä¸çŸ¥é“ç°åœ¨å‡ ç‚¹äº†ï¼Œä¹Ÿä¸çŸ¥é“ä½ å…¬å¸çš„é”€å”®æ•°æ®ã€‚å®ƒä¸èƒ½æ‰§è¡Œä»£ç æ¥è®¡ç®—ç²¾ç¡®ç­”æ¡ˆã€‚ ä½†æ˜¯å¦‚æœä½ ç»™å®ƒå·¥å…·ï¼Œå®ƒå°±å¯ä»¥åšè¯¸å¦‚æœç´¢ç½‘ç»œã€æŸ¥è¯¢æ•°æ®åº“ã€å†™å…¥ CRM æˆ–è¿è¡Œä»£ç ä¹‹ç±»çš„äº‹æƒ…ã€‚</p>
<p>æ‰€ä»¥å¦‚æœæˆ‘é—®æ™ºèƒ½ä½“â€œç°åœ¨å‡ ç‚¹äº†ï¼Ÿâ€ï¼ŒLLM è°ƒç”¨ <code>getCurrentTime()</code> å‡½æ•°ï¼Œå¾—åˆ°â€œ3:20 PMâ€ï¼Œç„¶åç”¨è¿™ä¸ªå›å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3f08fd6ae9c4689aaf9211340662721~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=Jd0oTtAoO0NKNNuugqMwobJeFnY%3D" alt="ç®€å•å·¥å…·è°ƒç”¨" loading="lazy"/></p>
<p>æˆ–è€…æˆ‘ä»¬å¯èƒ½ä¼šè¦æ±‚å®ƒæœç´¢å½“åœ°é¤é¦†ã€æŸ¥è¯¢æ•°æ®åº“æˆ–åšæ•°å­¦è®¡ç®—ã€‚åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œæ¨¡å‹è¯†åˆ«å‡ºå®ƒéœ€è¦å¤–éƒ¨ä¿¡æ¯æˆ–è®¡ç®—ï¼Œé€‰æ‹©æ­£ç¡®çš„å·¥å…·ï¼Œå¹¶ä½¿ç”¨ç»“æœæ¥å›ç­”ã€‚</p>
<p>åœ¨ç»™æ¨¡å‹å¤šä¸ªå·¥å…·æ—¶ï¼Œå®ƒå¯ä»¥å°†å®ƒä»¬<strong>ä¸²è”</strong>èµ·æ¥ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªæ—¥å†åŠ©æ‰‹ã€‚æˆ‘ä»¬æš´éœ²äº†ä¸‰ä¸ªå·¥å…·ï¼š<code>checkCalendar</code>ï¼ˆæŸ¥æ—¥å†ï¼‰ã€<code>makeAppointment</code>ï¼ˆé¢„çº¦ï¼‰å’Œ <code>deleteAppointment</code>ï¼ˆåˆ é™¤é¢„çº¦ï¼‰ã€‚</p>
<p>ç”¨æˆ·é—®ï¼šâ€œå¸®æˆ‘å®‰æ’æœ¬å‘¨ä¸ Alice çš„ä¼šè®®ã€‚â€ æ¨¡å‹æ€è€ƒæ­¥éª¤ï¼š</p>
<ol>
<li>æ£€æŸ¥æˆ‘çš„æ—¥å†çœ‹æ˜¯å¦æœ‰ç©ºâ€”â€”çœ‹èµ·æ¥å‘¨å››ä¸‹åˆ 3 ç‚¹å¯ä»¥ã€‚</li>
<li>è°ƒç”¨ <code>makeAppointment</code>ï¼Œå‚æ•°ä¸º Alice å’Œé‚£ä¸ªæ—¶é—´ã€‚</li>
<li>å‘ç”¨æˆ·ç¡®è®¤ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c367016eec104766a1cda7a96635eff9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=mR1o36TCePVGBb2P%2B%2FhyH5olx58%3D" alt="å¤šå·¥å…·è°ƒç”¨" loading="lazy"/></p>
<p>è¿™é‡Œçš„å…³é”®æ˜¯ LLM æ ¹æ®ä»ä¸Šä¸€ä¸ªå·¥å…·çš„è¾“å‡ºä¸­å­¦åˆ°çš„å†…å®¹ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªè¦è°ƒç”¨çš„å·¥å…·ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„ç®¡é“â€”â€”å®ƒæ˜¯åŠ¨æ€çš„ã€‚</p>
<p>å¥½çš„ï¼Œä½†ä¹Ÿæœ‰ä¸€ä»¶äº‹ï¼šLLM åªç”Ÿæˆæ–‡æœ¬ã€‚å®ƒä»¬ä¸æ‰§è¡Œä»£ç ã€‚é‚£å®ƒä»¬æ€ä¹ˆâ€œè°ƒç”¨â€å‡½æ•°å‘¢ï¼Ÿ å®é™…ä¸Šå®ƒä»¬ä¸è°ƒç”¨ã€‚å®ƒä»¬<strong>è¯·æ±‚</strong>ä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚</p>
<p>è¿™æ˜¯åº•å±‚å¾ªç¯ï¼š</p>
<ol>
<li>ç”¨æˆ·å‘é€ä¸€ä¸ªæç¤ºè¯ã€‚</li>
<li>LLM æŸ¥çœ‹å…¶å¯ç”¨å·¥å…·å¹¶å†³å®šæ˜¯å¦éœ€è¦ä¸€ä¸ªã€‚</li>
<li>å¦‚æœéœ€è¦ï¼Œå®ƒè¾“å‡ºä¸€ä¸ªç‰¹æ®Šè¯·æ±‚ï¼Œå¦‚â€œæˆ‘æƒ³è°ƒç”¨ <code>getCurrentTime</code>ï¼Œæ—¶åŒºä¸ºä¸œå…«åŒºâ€ã€‚</li>
<li>ä»£ç çœ‹åˆ°è¯¥è¯·æ±‚ï¼Œå®é™…è¿è¡Œè¯¥å‡½æ•°ï¼Œå¹¶è·å¾—ç»“æœã€‚</li>
<li>å°†è¯¥ç»“æœä½œä¸ºæ–°çš„ä¸Šä¸‹æ–‡åé¦ˆç»™ LLMã€‚</li>
<li>LLM ä½¿ç”¨å®ƒæ¥å®Œæˆå›ç­”â€”â€”æˆ–è€…å¦‚æœéœ€è¦ï¼Œè¯·æ±‚å¦ä¸€ä¸ªå·¥å…·ã€‚</li>
</ol>
<p>å°±è¿™ä¹ˆç®€å•ã€‚LLM è¯·æ±‚ä½†ä¸å®é™…æ‰§è¡Œä»£ç ã€‚</p>
<p><strong>è®¾è®¡å¥½çš„å·¥å…·</strong> ä¸ºäº†è®© LLM èƒ½å¤Ÿæ‰¾åˆ°å¹¶è¯·æ±‚å·¥å…·ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§ä¸€è‡´çš„æ–¹å¼æ¥å®šä¹‰å®ƒä»¬ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰ä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½ä½“çš„æ¥å£ã€‚</strong> è¿™åŒ…æ‹¬å·¥å…·åç§°ã€ä½•æ—¶ä½¿ç”¨å®ƒçš„ç®€å•è‹±è¯­æè¿°ï¼Œä»¥åŠç±»å‹åŒ–çš„è¾“å…¥æ¨¡å¼ï¼ˆschemaï¼‰ã€‚ ä¾‹å¦‚ï¼šâ€œReadWebsiteContentâ€ï¼Œæè¿°ä¸ºâ€œè·å–å¹¶è¿”å›ç½‘é¡µæ–‡æœ¬â€ï¼Œæœ‰ä¸€ä¸ªè¾“å…¥ï¼šurl (string)ã€‚</li>
<li><strong>å®ç°ä»£ç ã€‚</strong> ä»»ä½•éœ€è¦çš„ä¸œè¥¿ï¼Œå¦‚ SQL æŸ¥è¯¢ã€èº«ä»½éªŒè¯ã€é‡è¯•ã€é™æµå’Œè§£æã€‚</li>
</ol>
<p>æ™ºèƒ½ä½“åªçœ‹åˆ°æ¥å£ã€‚æ‰€æœ‰æ··ä¹±çš„å®ç°ç»†èŠ‚éƒ½è¢«éšè—äº†ã€‚</p>
<p>å¥½çš„å·¥å…·è¿˜ä¼šè€ƒè™‘é”™è¯¯å¤„ç†ã€è‡ªæˆ‘æ¢å¤å’Œé€Ÿç‡é™åˆ¶ç­‰é—®é¢˜ã€‚å®ƒä»¬å¯èƒ½ä¼šä½¿ç”¨ç¼“å­˜æ¥è®°ä½ç›¸åŒè¾“å…¥çš„ç»“æœï¼Œä»¥å‡å°‘å»¶è¿Ÿã€æˆæœ¬å’Œå¤–éƒ¨ API è´Ÿè½½ã€‚å¹¶ä¸”å®ƒä»¬åº”è¯¥æœ‰å¼‚æ­¥æ”¯æŒï¼Œä»¥ä¾¿å½“å‰æ™ºèƒ½ä½“ï¼ˆæˆ–å…¶ä»–æ™ºèƒ½ä½“ï¼‰å¯ä»¥åœ¨é•¿å·¥å…·è¯·æ±‚å®Œæˆæ—¶ç»§ç»­å·¥ä½œã€‚</p>
<p>å·¥å…·åº”è¯¥åƒäº§å“ä¸€æ ·æ„å»ºï¼Œå…·æœ‰ç‰ˆæœ¬æ§åˆ¶ã€é€‚å½“çš„æ–‡æ¡£å’Œå……åˆ†çš„æµ‹è¯•ã€‚ç»´æŠ¤ä¸€ä¸ªå†…éƒ¨æ³¨å†Œè¡¨ï¼Œå…¶ä¸­åŒ…å«ç»è¿‡å®¡æŸ¥çš„å·¥å…·åŠå…¶æ–‡æ¡£ã€ç‰ˆæœ¬å’Œæ‰€æœ‰æƒï¼Œæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<p>æŠŠæ‰€æœ‰è¿™äº›æ”¾åœ¨ä¸€èµ·ï¼Œä½ å°±ç»™äº†ä½ çš„æ™ºèƒ½ä½“ä¸ä¸–ç•Œäº’åŠ¨çš„æ–¹å¼ã€‚è¿™å¤ªé…·äº†ï¼ä½†æˆ‘ä»¬éœ€è¦ç¡®ä¿æ™ºèƒ½ä½“çŸ¥é“å®ƒåœ¨ç°å®ä¸–ç•Œä¸­éœ€è¦åšä»€ä¹ˆï¼Œè¿™å°±å¼•å‡ºäº†ç¬¬ä¸‰ä¸ªè®¾è®¡æ¨¡å¼ï¼šè§„åˆ’ã€‚</p>
<h4 data-id="heading-13">3. è§„åˆ’ (Planning)</h4>
<p>è§„åˆ’çš„æƒ³æ³•æ˜¯ï¼šä¸å…¶ç¡¬ç¼–ç å›ºå®šçš„æ­¥éª¤åºåˆ—ï¼Œä¸å¦‚è®© LLM å†³å®šåšä»€ä¹ˆä»¥åŠæŒ‰ä»€ä¹ˆé¡ºåºåšã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1276af0b5e8f49f48053e3a32b9fad64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=5gMSviTPFExzCK677cslqE20NGo%3D" alt="è§„åˆ’ (Planning)" loading="lazy"/></p>
<p>å‡è®¾ä½ æ­£åœ¨ä¸ºä¸€å®¶é›¶å”®åº—æ„å»ºå®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“ã€‚å¯ä»¥ä¸ºæ¯ç§æƒ…å†µç¡¬ç¼–ç æµç¨‹ï¼šâ€œå¦‚æœæ˜¯ä»·æ ¼é—®é¢˜ï¼Œåš Xã€‚å¦‚æœæ˜¯é€€è´§ï¼Œåš Yã€‚å¦‚æœæ˜¯åº“å­˜ï¼Œåš Zã€‚â€ ä½†æ˜¯å½“æœ‰äººé—®äº†ä¸€äº›ä½ æ²¡é¢„æ–™åˆ°çš„é—®é¢˜æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ–è€…åŒä¸€ä¸ªé—®é¢˜æ ¹æ®ä¸Šä¸‹æ–‡éœ€è¦ä¸åŒçš„æ­¥éª¤æ—¶ï¼Ÿ</p>
<p>æœ‰äº†è§„åˆ’ï¼Œä½ ç»™æ™ºèƒ½ä½“ä¸€ä¸ªå‡½æ•°å·¥å…·ç®±ï¼Œå¦‚ <code>get_item_descriptions</code>ã€<code>check_inventory</code>ã€<code>get_item_price</code>ã€<code>process_return</code>ï¼Œå¹¶è®©å®ƒå¼„æ¸…æ¥šä½•æ—¶ä½¿ç”¨å“ªäº›å·¥å…·ã€‚</p>
<p>åŸºæœ¬å¾ªç¯å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç»™æ™ºèƒ½ä½“è®¿é—®å·¥å…·çš„æƒé™ã€‚</li>
<li>æç¤ºå®ƒåˆ›å»ºä¸€ä¸ªè®¡åˆ’ï¼šâ€œåˆ—å‡ºå›ç­”è¿™ä¸ªé—®é¢˜çš„åˆ†æ­¥è¡ŒåŠ¨â€ã€‚</li>
<li>ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œè®¡åˆ’â€”â€”LLM é€‰æ‹©æ­£ç¡®çš„å·¥å…·ï¼Œä½ è¿è¡Œå®ƒï¼Œåé¦ˆç»“æœã€‚</li>
<li>é‡å¤ç›´åˆ°å®Œæˆã€‚</li>
</ol>
<p>è¿™åŸºæœ¬ä¸Šæ˜¯â€œè®¡åˆ’ â†’ è¡ŒåŠ¨ â†’ è§‚å¯Ÿ â†’ ç»§ç»­â€ï¼Œä½†æ˜¯ç”¨çš„æ˜¯æˆ‘ä»¬è‡ªå·±çš„å·¥å…·ã€‚</p>
<p><strong>å…·ä½“ä¾‹å­ï¼šé›¶å”®å¤ªé˜³é•œ</strong> ç”¨æˆ·é—®ï¼šâ€œæœ‰ 100 ç¾å…ƒä»¥ä¸‹çš„åœ†å½¢å¤ªé˜³é•œç°è´§å—ï¼Ÿâ€ æ™ºèƒ½ä½“å¯èƒ½è§„åˆ’ï¼š</p>
<ul>
<li>æ­¥éª¤ 1ï¼šä½¿ç”¨ <code>get_item_descriptions</code> æŸ¥æ‰¾åœ†å½¢é•œæ¡†ã€‚</li>
<li>æ­¥éª¤ 2ï¼šå¯¹è¯¥åˆ—è¡¨è¿è¡Œ <code>check_inventory</code>ã€‚</li>
<li>æ­¥éª¤ 3ï¼šå¯¹ç°æœ‰åº“å­˜å•†å“è°ƒç”¨ <code>get_item_price</code> å¹¶ç­›é€‰å‡º 100 ç¾å…ƒä»¥ä¸‹çš„ã€‚</li>
<li>æ­¥éª¤ 4ï¼šæ’°å†™ç­”æ¡ˆã€‚</li>
</ul>
<p>æˆ‘ä»¬æ²¡æœ‰é¢„å®šä¹‰è¿™ä¸ªå…·ä½“æ–¹æ¡ˆã€‚LLM ä»å¯ç”¨å·¥å…·ä¸­é€‰æ‹©äº†å®ƒã€‚</p>
<p>ç°åœ¨æ¥äº†ä¸ªä¸åŒçš„é—®é¢˜ï¼šâ€œæˆ‘æƒ³é€€æ‰æˆ‘ä¹°çš„é‡‘æ¡†å¤ªé˜³é•œï¼Œä¸æ˜¯é‡‘å±çš„é‚£å‰¯ã€‚â€ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®¡åˆ’å®Œå…¨æ”¹å˜ï¼š</p>
<ul>
<li>æ­¥éª¤ 1ï¼šè¯†åˆ«ç”¨æˆ·ä¹‹å‰çš„è´­ä¹°è®°å½•ã€‚</li>
<li>æ­¥éª¤ 2ï¼šåŒ¹é…é‡‘æ¡†äº§å“ã€‚</li>
<li>æ­¥éª¤ 3ï¼šè°ƒç”¨ <code>process_item_return</code>ã€‚</li>
<li>æ­¥éª¤ 4ï¼šç¡®è®¤ç»“æœã€‚</li>
</ul>
<p>è¦æ±‚æ¨¡å‹è¾“å‡º JSON æ ¼å¼çš„ç»“æ„åŒ–è®¡åˆ’ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e32cd32ac634d1d95d3f712cc8880ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=Z5LeWnzeHmkCXONa7fX7tGpAz%2FQ%3D" alt="JSON æ ¼å¼çš„ç»“æ„åŒ–è®¡åˆ’" loading="lazy"/></p>
<p>æˆ–è€…ï¼Œä½ å¯ä»¥è®©å®ƒç¼–å†™å®é™…ä»£ç ï¼Œé€šå¸¸æ˜¯ç¼–ç äº†æ•´ä¸ªè®¡åˆ’çš„ Python ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7e7017eb6264431b1f0dae15c7fcb4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=hq3ovCLdshpcJdpUPqwP30lSy80%3D" alt="Python ä»£ç å®ç°çš„è®¡åˆ’" loading="lazy"/></p>
<blockquote>
<p><strong>è§„åˆ’éœ€è¦æ³¨æ„çš„äº‹é¡¹</strong></p>
<p>è§„åˆ’å¢åŠ äº†è‡ªä¸»æ€§ï¼Œè¿™æ„å‘³ç€å®ƒä¹Ÿå¢åŠ äº†ä¸å¯é¢„æµ‹æ€§ã€‚æˆ‘ä»¬éœ€è¦åœ¨æƒé™ã€å·¥å…·è°ƒç”¨éªŒè¯ä»¥åŠç®¡ç†ä¸€æ­¥è¾“å‡ºä¼ é€’åˆ°ä¸‹ä¸€æ­¥ç­‰æ–¹é¢è®¾ç½®å®‰å…¨æŠ¤æ ã€‚</p>
</blockquote>
<p>ä»Šå¤©ï¼Œè§„åˆ’æœ€å¼ºçš„ç”¨ä¾‹æ˜¯é«˜åº¦ä»£ç†å¼çš„ç¼–ç ç³»ç»Ÿã€‚æ¨¡å‹å°†ç¼–ç¨‹ä»»åŠ¡åˆ†è§£ä¸ºæ­¥éª¤å¹¶é€ä¸€è§£å†³ã€‚ å¯¹äºå…¶ä»–é¢†åŸŸï¼Œè§„åˆ’ç»å¯¹æœ‰æ•ˆï¼Œä½†æ›´éš¾æ§åˆ¶ï¼Œå› ä¸ºä½ ä¸çŸ¥é“æ¨¡å‹ä¼šåˆ›å»ºä»€ä¹ˆè®¡åˆ’ã€‚ä¸è¿‡ï¼Œå·¥å…·å’Œå®‰å…¨æŠ¤æ æ­£åœ¨å¿«é€Ÿæ”¹è¿›ï¼Œé‡‡ç”¨ç‡ä¹Ÿåœ¨å¢é•¿ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæœ‰ä¸€ä¸ªç³»ç»Ÿéœ€è¦åšå¾ˆå¤šä¸åŒçš„äº‹æƒ…ï¼Œç”šè‡³å¯èƒ½åŒæ—¶è¿›è¡Œå‘¢ï¼Ÿè¿™å°±æ˜¯å¤šæ™ºèƒ½ä½“åä½œå‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚</p>
<h4 data-id="heading-14">4. å¤šæ™ºèƒ½ä½“ (Multi-Agent)</h4>
<p>æƒ³æƒ³åœ¨ç°å®ç”Ÿæ´»ä¸­å¦‚ä½•å¤„ç†ä¸€ä¸ªå¤æ‚çš„é¡¹ç›®ã€‚æˆ‘ä»¬ä¸ä¼šé›‡ä½£ä¸€ä¸ªè¶…çº§é€šæ‰æ¥åšæ‰€æœ‰äº‹æƒ…ã€‚è€Œæ˜¯ä¼šå»ºç«‹ä¸€ä¸ªå›¢é˜Ÿã€‚æœ‰åœ¨ç‰¹å®šé¢†åŸŸéå¸¸æ“…é•¿çš„ä¸“å®¶ï¼Œä»–ä»¬äº’ç›¸ç§»äº¤å·¥ä½œã€‚</p>
<p>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå€Ÿç”¨äº†åŒæ ·çš„æ€ç»´æ–¹å¼ã€‚ æ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰æ˜ç¡®çš„è§’è‰²ã€‚æ¯ä¸ªéƒ½ä¸“æ³¨äºå®ƒæ“…é•¿çš„äº‹æƒ…ã€‚è¾“å‡ºæ›´å¥½ï¼Œå› ä¸ºä½ åœ¨æ¯ä¸€æ­¥éƒ½æœ‰ä¸“ä¸šåŒ–åˆ†å·¥ã€‚</p>
<p>é™¤äº†ä¸“ä¸šåŒ–ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿè¿˜æœ‰å…¶ä»–ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®ƒé¿å…äº†ä»»ä½•å•ä¸€æ™ºèƒ½ä½“æ‹¥æœ‰å·¨å¤§çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨å¤šä¸ª LLMã€‚å¯ä»¥æ··åˆä½¿ç”¨æ›´å¿«ã€æ›´ä¾¿å®œçš„æ¨¡å‹æ¥å¤„ç†é«˜å®¹é‡çš„ç®€å•ä»»åŠ¡ï¼Œè€Œä¿ç•™æ›´å¤§ã€èƒ½åŠ›æ›´å¼ºçš„æ¨¡å‹ç”¨äºç­–ç•¥ã€å¾®å¦™çš„å®¢æˆ·å›å¤æˆ–é•¿ç¯‡å†™ä½œç­‰ç²¾ç¡®ä»»åŠ¡ã€‚è¿™åœ¨æˆæœ¬å’Œæ€§èƒ½ä¸Šéƒ½ç»™äº†ä½ çµæ´»æ€§ã€‚</li>
<li>å¯ä»¥å¹¶è¡ŒåŒ–å·¥ä½œã€‚</li>
<li>å¦‚æœæœ‰éå¸¸é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œï¼Œå¯ä»¥æ‹†åˆ†å·¥ä½œï¼Œå¹¶æŸ¥çœ‹å“ªäº›æ™ºèƒ½ä½“æ­£åœ¨å¤„ç†ä»€ä¹ˆï¼Œä»¥å¸®åŠ©ç”¨æˆ·äº†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚</li>
</ul>
<p>å¦‚æœæœ‰ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œè·³è¿‡å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚å®ƒä»¬ä¼šå‡æ…¢é€Ÿåº¦å¹¶ä½¿è°ƒè¯•æ›´åŠ å›°éš¾ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¼•å…¥äº†ä¸€å±‚å…¨æ–°çš„å¤æ‚æ€§ã€‚å¦‚æœä¸¤ä¸ªæ™ºèƒ½ä½“è¯•å›¾ä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°èµ„æºå†²çªï¼›æ™ºèƒ½ä½“ä¹‹é—´æœ‰é€šä¿¡å¼€é”€ï¼›è¿˜æœ‰å¤æ‚çš„ä»»åŠ¡ä¾èµ–å…³ç³»ã€‚è¿˜æœ‰åƒ API é€Ÿç‡é™åˆ¶è¿™æ ·çš„é—®é¢˜ï¼Œä»¥åŠå¦‚æœä¸€ä¸ªæ™ºèƒ½ä½“å¤±è´¥äº†è¯¥æ€ä¹ˆåŠâ€”â€”å…¶ä»–çš„ç»§ç»­å—ï¼Ÿè¿˜æ˜¯å›æ»šï¼Ÿå¦‚ä½•å°†å¤šä¸ªæ™ºèƒ½ä½“äº§ç”Ÿçš„å†…å®¹åˆå¹¶æˆä¸€ä¸ªè¿è´¯çš„è¾“å‡ºï¼Ÿ</p>
<p>è¿™å¹¶éä¸å¯ç®¡ç†ï¼Œä½†æˆ‘ä»¬éœ€è¦ä¸ºæ­¤è¿›è¡Œè®¾è®¡ã€‚éœ€è¦å¼ºå¤§çš„ç¼–æ’ã€è‰¯å¥½çš„é”™è¯¯å¤„ç†ä»¥åŠæ™ºèƒ½ä½“å¦‚ä½•é€šä¿¡çš„æ¸…æ™°åè®®ã€‚</p>
<h3 data-id="heading-15">å¤šæ™ºèƒ½ä½“ç³»ç»Ÿè®¾è®¡</h3>
<p>é‚£ä¹ˆè®©æˆ‘ä»¬å¤šè°ˆè°ˆå¦‚ä½•è®¾è®¡è¿™äº›å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚è®©æˆ‘ä»¬ç”¨åˆ¶ä½œè¥é”€æ‰‹å†Œçš„ä¾‹å­æ¥è¯´æ˜æˆ‘ä»¬çš„é€‰é¡¹ã€‚</p>
<p><strong>è§’è‰²æ¨¡å‹ (The Roles Model)</strong></p>
<p>ç¬¬ä¸€æ­¥æ˜¯æŒ‰è§’è‰²å®šä¹‰ä½ çš„æ™ºèƒ½ä½“ã€‚æ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰æ˜ç¡®çš„å·¥ä½œæè¿°ï¼Œå¹¶ä¸”åªæ‹¥æœ‰å®ƒåšé‚£ä»½å·¥ä½œæ‰€éœ€çš„å·¥å…·ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬çš„è¥é”€æ‰‹å†Œï¼Œå¯èƒ½æœ‰ï¼š</p>
<ol>
<li><strong>ç ”ç©¶å‘˜æ™ºèƒ½ä½“</strong>ï¼Œè´Ÿè´£æŸ¥æ‰¾å¸‚åœºè¶‹åŠ¿å’Œç«äº‰å¯¹æ‰‹åŠ¨å‘ã€‚è¯¥æ™ºèƒ½ä½“å¯èƒ½æ‹¥æœ‰ç½‘ç»œæœç´¢ã€æ£€ç´¢å’Œç¬”è®°å·¥å…·ã€‚</li>
<li><strong>å¹³é¢è®¾è®¡å¸ˆæ™ºèƒ½ä½“</strong>ï¼Œè´Ÿè´£åˆ›å»ºå›¾è¡¨å’Œè§†è§‰èµ„äº§ï¼Œæ‹¥æœ‰å›¾åƒç”Ÿæˆã€å›¾åƒå¤„ç†æˆ–ç»˜åˆ¶å›¾è¡¨çš„ä»£ç æ‰§è¡Œå·¥å…·ã€‚</li>
<li><strong>æ’°ç¨¿äººæ™ºèƒ½ä½“</strong>ï¼Œè´Ÿè´£å°†å‘ç°å’Œèµ„äº§è½¬åŒ–ä¸ºæœ€ç»ˆæ–‡æ¡ˆã€‚è¯¥æ™ºèƒ½ä½“å¯èƒ½åªæ˜¯ LLM æœ¬èº«ï¼Œæ— éœ€å¤–éƒ¨å·¥å…·ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28cfe429e5c34a14baf8b45fabf535c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=0pB7pgKAWYb2768ahJDIw8o%2FvrI%3D" alt="è§’è‰²æ¨¡å‹ (The Roles Model)" loading="lazy"/></p>
<p>é€šè¿‡æç¤ºè¯æ¥å®ç°æ¯ä¸ªæ™ºèƒ½ä½“ï¼Œèµ‹äºˆå…¶è§’è‰²ï¼Œæ¯”å¦‚â€œä½ æ˜¯ä¸€åä¸“é—¨ä»äº‹å¸‚åœºåˆ†æçš„ç ”ç©¶å‘˜æ™ºèƒ½ä½“â€ï¼Œå¹¶åªç»™å®ƒè¯¥è§’è‰²åº”æœ‰çš„å·¥å…·ã€‚</p>
<p>ä¸€æ—¦å®šä¹‰äº†æ™ºèƒ½ä½“ï¼Œéœ€è¦å†³å®šå®ƒä»¬å¦‚ä½•é€šä¿¡ã€‚æœ‰å››ç§ä¸»è¦æ¨¡å¼ï¼Œæˆ‘ä»¬å°†ä»æœ€ç®€å•åˆ°æœ€å¤æ‚è¿›è¡Œè®¨è®ºã€‚</p>
<p><strong>æ¨¡å¼ 1ï¼šé¡ºåº (Sequential)</strong></p>
<p>è¿™æ˜¯æœ€ç®€å•å’Œæœ€å¯é¢„æµ‹çš„ã€‚æ¯ä¸ªæ™ºèƒ½ä½“å®Œæˆå…¶å·¥ä½œï¼Œç„¶åå°†è¾“å‡ºä¼ é€’ç»™é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/620b6ac3fdab467ca759a5e0fd90d371~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=9EfGoUYCO5Pszz1dOmt1VD6yyw0%3D" alt="æ¨¡å¼ 1ï¼šé¡ºåº (Sequential)" loading="lazy"/></p>
<p>å¯¹äºæˆ‘ä»¬çš„æ‰‹å†Œï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼šç ”ç©¶å‘˜å®Œæˆ â†’ äº¤ç»™è®¾è®¡å¸ˆ â†’ è®¾è®¡å¸ˆå®Œæˆ â†’ äº¤ç»™æ’°ç¨¿äºº â†’ å®Œæˆã€‚ å®ƒå°±åƒä¸€æ¡è£…é…çº¿ã€‚å®ƒæ˜“äºè°ƒè¯•ï¼Œå¹¶ä¸”å…·æœ‰å¯é¢„æµ‹çš„æ—¶é—´å’Œæˆæœ¬ã€‚ è¿™æ˜¯é€‚åˆä¸Šæ‰‹çš„æ–¹å¼ã€‚æ ¹æ®å…·ä½“ç”¨ä¾‹ï¼Œè¿™å¯èƒ½å°±è¶³å¤Ÿäº†ã€‚</p>
<p><strong>æ¨¡å¼ 2ï¼šå¹¶è¡Œ (Parallel)</strong></p>
<p>ä½†é¡ºåºå¹¶ä¸æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚å½“æ­¥éª¤äº’ä¸ä¾èµ–æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥å¹¶è¡Œè¿è¡Œæ™ºèƒ½ä½“ï¼Œè¿™å¯¹äºå‡å°‘å»¶è¿Ÿéå¸¸æ£’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/805c0434f33e4555b661c72dfae4fc6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=0ppTbADL2S8qchL0jBBBgpmLPUQ%3D" alt="æ¨¡å¼ 2ï¼šå¹¶è¡Œ (Parallel)" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œç ”ç©¶å‘˜å’Œè®¾è®¡å¸ˆå¯ä»¥åŒæ—¶å¤„ç†æ‰‹å†Œçš„ç‹¬ç«‹éƒ¨åˆ†ï¼Œç„¶åæ’°ç¨¿äººåˆå¹¶ä»–ä»¬çš„è¾“å‡ºã€‚ è¿™åŠ å¿«äº†é€Ÿåº¦ï¼Œä½†å¢åŠ äº†åè°ƒçš„å¤æ‚æ€§ã€‚</p>
<p><strong>æ¨¡å¼ 3ï¼šå•ä¸€ç®¡ç†è€…å±‚çº§ (Single Manager Hierarchy)</strong></p>
<p>å¦‚æœå¼€å§‹è¿›å…¥æ›´å¤æ‚çš„å·¥ä½œæµï¼Œæ·»åŠ ä¸€ä¸ª<strong>ç®¡ç†è€…æ™ºèƒ½ä½“</strong>æ¥è¿›è¡Œè§„åˆ’å’Œåè°ƒä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¸“å®¶æ™ºèƒ½ä½“åšä»–ä»¬çš„å·¥ä½œå¹¶å‘ç®¡ç†è€…æ±‡æŠ¥ï¼Œè€Œä¸æ˜¯äº’ç›¸æ±‡æŠ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08a6202ee3d940fd9456083d194f7847~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=oHKnRNvq7k%2FPqj4mT9buJETudKk%3D" alt="æ¨¡å¼ 3ï¼šå•ä¸€ç®¡ç†è€…å±‚çº§ (Single Manager Hierarchy)" loading="lazy"/></p>
<p>è¿™åœ¨ä¿æŒæ§åˆ¶ç´§å¯†çš„åŒæ—¶ç»™äº†æˆ‘ä»¬çµæ´»æ€§ã€‚ç®¡ç†è€…å¯ä»¥é‡æ–°æ’åºæ­¥éª¤ï¼Œè·³è¿‡ä¸éœ€è¦çš„äº‹æƒ…ï¼Œæˆ–è¦æ±‚æ™ºèƒ½ä½“è¿”å·¥ã€‚å®ƒæ¯”çº¿æ€§æµç¨‹æ›´å…·é€‚åº”æ€§ï¼Œåˆä¸ä¼šæ··ä¹±ã€‚ <strong>è¿™å¯èƒ½æ˜¯ä»Šå¤©ç”Ÿäº§ç¯å¢ƒå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­æœ€å¸¸è§çš„æ¨¡å¼</strong>ã€‚</p>
<p>å¯¹äºæ›´å¤æ‚çš„å·¥ä½œæµï¼Œå¯ä»¥æœ‰æ›´æ·±çš„å±‚çº§ç»“æ„ï¼Œå…¶ä¸­ä¸€äº›æ™ºèƒ½ä½“ç®¡ç†å®ƒä»¬è‡ªå·±çš„å­æ™ºèƒ½ä½“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18d05c7be169413ba4c5fc5d15452883~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=zStxl5LX%2BycH1Qo3HdZmKwCkg7k%3D" alt="æ›´æ·±å±‚çº§æ™ºèƒ½ä½“ç®¡ç†" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œä½ çš„ç ”ç©¶å‘˜æ™ºèƒ½ä½“å¯èƒ½ç¼–æ’ä¸€ä¸ªâ€œç½‘ç»œç ”ç©¶å‘˜â€å­æ™ºèƒ½ä½“å’Œä¸€ä¸ªâ€œäº‹å®æ ¸æŸ¥å‘˜â€å­æ™ºèƒ½ä½“ã€‚ä½ çš„æ’°ç¨¿äººæ™ºèƒ½ä½“å¯èƒ½æœ‰â€œé£æ ¼æ’°ç¨¿äººâ€å’Œâ€œå¼•ç”¨æ£€æŸ¥å‘˜â€åœ¨å®ƒä¸‹é¢å·¥ä½œã€‚è¿™å¯¹éå¸¸å¤æ‚çš„ä»»åŠ¡å¾ˆæœ‰å¸®åŠ©ï¼Œä½†å½“ç„¶ä¼šå¢åŠ æ›´å¤šçš„æ··ä¹±ã€‚</p>
<p><strong>æ¨¡å¼ 4ï¼šç½‘çŠ¶æ¨¡å‹ (All-to-All / Free-for-All Chat)</strong></p>
<p>æœ€åï¼Œæˆ‘ä»¬è¦è°ˆç½‘çŠ¶æ¨¡å‹ï¼Œè¿™å¯èƒ½ä¼š<strong>è¶…çº§</strong>æ··ä¹±ã€‚åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œä»»ä½•æ™ºèƒ½ä½“éƒ½å¯ä»¥éšæ—¶å‘ä»»ä½•å…¶ä»–æ™ºèƒ½ä½“å‘é€æ¶ˆæ¯ã€‚è¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¾ˆå°‘è§ï¼Œå› ä¸ºå®ƒå¾ˆéš¾é¢„æµ‹å’Œæ§åˆ¶ã€‚è¾“å‡ºå¯èƒ½ä¼šåœ¨æ¯æ¬¡è¿è¡Œæ—¶å·®å¼‚å·¨å¤§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a4ccfdd0e54460c9f40263c93010b5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=yDxmDNhD%2BIKai5y7GAbgEYTsRAo%3D" alt="æ¨¡å¼ 4ï¼šç½‘çŠ¶æ¨¡å‹ (All-to-All / Free-for-All Chat)" loading="lazy"/></p>
<p>ä½†å®ƒå¯¹äºæ›´å¤´è„‘é£æš´ã€åˆ›é€ æ€§æˆ–ä½é£é™©çš„ä»»åŠ¡å¯èƒ½æœ‰æ•ˆã€‚æ¯”å¦‚ç”Ÿæˆå¤šä¸ªå¹¿å‘Šæ–‡æ¡ˆå˜ä½“ï¼Œå¦‚æœä¸€æ¬¡è¿è¡Œäº§ç”Ÿåƒåœ¾ï¼Œä½ å¯ä»¥ç›´æ¥é‡è¯•ã€‚</p>
<p><strong>åè°ƒé™·é˜±</strong></p>
<p>æˆ‘ä»¬å·²ç»è°ˆè¿‡å‡ æ¬¡åè°ƒçš„æŒ‘æˆ˜ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªæœ€å¸¸è§çš„é™·é˜±ã€‚</p>
<ol>
<li><strong>é‡å¤å·¥ä½œã€‚</strong> å¤šä¸ªæ™ºèƒ½ä½“å¯èƒ½ä¼šé‡å¤ç›¸åŒçš„æœç´¢æˆ–è°ƒç”¨ç›¸åŒçš„å·¥å…·ã€‚è¿™å¯ä»¥é€šè¿‡æ”¶ç´§ä»»åŠ¡èŒƒå›´å’Œåœ¨æ™ºèƒ½ä½“ä¹‹é—´è¿›è¡Œæ˜ç¡®çš„åˆ†å·¥æ¥è§£å†³ã€‚</li>
<li><strong>ä¸å¿…è¦çš„ä¸²è¡ŒåŒ–ã€‚</strong> é“¾æ¥é‚£äº›å¯ä»¥å¹¶å‘è¿è¡Œçš„æ­¥éª¤ä¼šå‡æ…¢ä¸€åˆ‡ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯†åˆ«çœŸæ­£ç‹¬ç«‹çš„ä»»åŠ¡å¹¶å¼‚æ­¥è¿è¡Œå®ƒä»¬ï¼Œç„¶ååªè·¯ç”±ä¸‹ä¸€æ­¥æ‰€éœ€çš„ä¸Šä¸‹æ–‡ç‰‡æ®µã€‚</li>
</ol>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œè¦ä»èƒ½ç”¨åˆ°çš„æœ€ç®€å•çš„åè°ƒæ–¹å¼å¼€å§‹ï¼Œåªæœ‰åœ¨éœ€è¦æ—¶æ‰å¢åŠ å¤æ‚æ€§ã€‚</p>
<p><strong>æœ€ä½³å®è·µ</strong></p>
<p>æ— è®ºé€‰æ‹©å“ªç§æ¨¡å¼ï¼Œåœ¨è®¾è®¡ç³»ç»Ÿæ—¶éƒ½è¦è®°ä½ä»¥ä¸‹å››ä¸ªå…³é”®æœ€ä½³å®è·µï¼š</p>
<ol>
<li>
<p><strong>å®šä¹‰æ¥å£ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰ï¼ˆDefine interfaces, not vibesï¼‰</strong><br/>
æ¯ä¸ªæ™ºèƒ½ä½“éƒ½éœ€è¦æ¸…æ™°çš„è¾“å…¥å’Œè¾“å‡ºæ¨¡å¼ï¼ˆschemaï¼‰ã€‚å®ƒéœ€è¦çŸ¥é“è¯¸å¦‚ï¼šä»€ä¹ˆå­—æ®µï¼Ÿä»€ä¹ˆç±»å‹ï¼Ÿä¼ é€’ä»€ä¹ˆ ID æˆ–å¼•ç”¨ï¼Ÿ æ’’æ‰‹ä¸ç®¡æ¯”æ¨¡å‹æœ¬èº«æ›´å®¹æ˜“å´©æºƒã€‚å¦‚æœä½ çš„ç ”ç©¶å‘˜è¿”å›ä¸€ä¸ªéç»“æ„åŒ–çš„æ•°æ®å—ï¼Œè€Œä½ çš„è®¾è®¡å¸ˆä¸çŸ¥é“å¦‚ä½•è§£æå®ƒï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¼šå¤±è´¥ã€‚</p>
</li>
<li>
<p><strong>æŒ‰æ™ºèƒ½ä½“é™å®šå·¥å…·èŒƒå›´</strong><br/>
åªç»™æ¯ä¸ªæ™ºèƒ½ä½“å®ƒå®é™…éœ€è¦çš„å·¥å…·ã€‚<strong>æœ€å°æƒé™è®¿é—®</strong>ã€‚ è¿™æœ‰åŠ©äºå®‰å…¨æ€§ï¼Œå¹¶ä½¿ç³»ç»Ÿæ›´å®¹æ˜“æ¨ç†ã€æ›´å®¹æ˜“å®¡è®¡å’Œæ›´å®¹æ˜“è°ƒè¯•ã€‚</p>
</li>
<li>
<p>**è®°å½•è¿½è¸ªï¼ˆLog the traceï¼‰<br/>
**ä¿ç•™æ¯ä¸€æ­¥çš„æ‰§è¡Œã€‚æ¯ä¸ªæ™ºèƒ½ä½“è®¡åˆ’äº†ä»€ä¹ˆï¼Ÿå®ƒä½¿ç”¨äº†ä»€ä¹ˆæç¤ºè¯ï¼Ÿå®ƒåšäº†ä»€ä¹ˆå·¥å…·è°ƒç”¨ï¼Ÿè¿”å›äº†ä»€ä¹ˆç»“æœï¼Ÿ å½“å‡ºç°é—®é¢˜æ—¶ï¼Œè¿™ç§è¿½è¸ªä½¿é”™è¯¯åˆ†æå˜å¾—å¿«é€Ÿã€‚æˆ‘ä»¬å¯ä»¥ç¡®åˆ‡åœ°çœ‹åˆ°å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚</p>
</li>
<li>
<p>**è¯„ä¼°ç»„ä»¶ä»¥åŠç«¯åˆ°ç«¯<br/>
**éœ€è¦ä¸¤ç§ç±»å‹çš„è¯„ä¼°ï¼š</p>
<ul>
<li><strong>ç»„ä»¶çº§ï¼š</strong> ç ”ç©¶ç›¸å…³å—ï¼Ÿå›¾åƒè´¨é‡é«˜å—ï¼Ÿæ–‡æ¡ˆè¯­æ°”åˆé€‚å—ï¼Ÿ</li>
<li><strong>ç«¯åˆ°ç«¯ï¼š</strong> æœ€ç»ˆæ‰‹å†Œå¥½å—ï¼Ÿå®ƒç¬¦åˆè¦æ±‚å—ï¼Ÿ å¦‚æœä½ çš„ç«¯åˆ°ç«¯è¯„ä¼°æ˜¾ç¤ºæœ‰é—®é¢˜ï¼Œä½†ç»„ä»¶è¯„ä¼°çœ‹èµ·æ¥éƒ½å¾ˆå¥½ï¼Œå°±èƒ½çŸ¥é“è¿™æ˜¯ä¸€ä¸ªæ”¾æ‰‹æˆ–é›†æˆé—®é¢˜ã€‚å¦‚æœç‰¹å®šçš„ç»„ä»¶è¯„ä¼°å¤±è´¥ï¼Œå°±çŸ¥é“è¯¥æ”¹è¿›å“ªä¸ªæ™ºèƒ½ä½“ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-16">é«˜çº§ç¯‡ (ADVANCED)</h2>
<p>å¥½äº†ï¼Œæ¬¢è¿æ¥åˆ°é«˜çº§éƒ¨åˆ†ã€‚å¦‚æœä½ å·²ç»åˆ°äº†è¿™é‡Œï¼Œè¯´æ˜ä½ æ˜¯è®¤çœŸæƒ³è¦æ„å»ºå¯ä»¥åœ¨ç°å®ä¸–ç•Œä¸­å·¥ä½œçš„çœŸå®æ™ºèƒ½ä½“ç³»ç»Ÿã€‚</p>
<p>ä»é›¶åˆ°åŸå‹çš„æŠ€æœ¯æ— æ³•å®ç°ä»åŸå‹èµ°å‘ç”Ÿäº§ã€‚æˆ‘ä»¬éœ€è¦ä¸åŒçš„å·¥å…·ã€ä¸åŒçš„æ€ç»´æ–¹å¼å’Œæ›´å¤šçš„è§„åˆ™ã€‚ ä¸‹é¢è¿›å…¥è¿™éƒ¨åˆ†å†…å®¹ã€‚</p>
<h3 data-id="heading-17">å¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„é«˜çº§ä»»åŠ¡åˆ†è§£</h3>
<p>æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ä»»åŠ¡åˆ†è§£ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ—¶ï¼Œè¿™ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚</p>
<p>æœ‰å››ç§ä¸»è¦æ¨¡å¼å¯ä»¥æŒ‡å¯¼ä½ åšå¥½è¿™ä»¶äº‹ã€‚ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œå†…å®¹æ”¹ç¼–è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgerred.github.io%2Fbuilding-an-agentic-system%2Fcore-architecture.html" target="_blank" title="https://gerred.github.io/building-an-agentic-system/core-architecture.html" ref="nofollow noopener noreferrer">è¿™ç¯‡å¾ˆæ£’çš„åšå®¢</a>â€”â€”å¯ä»¥é˜…è¯»è·å–æ›´å¤šè¯¦æƒ…ï¼ï¼‰</p>
<p><strong>æ¨¡å¼ 1ï¼šåŠŸèƒ½æ€§åˆ†è§£ (Functional Decomposition)</strong></p>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å°†ä»»åŠ¡æŒ‰æŠ€æœ¯é¢†åŸŸæˆ–ä¸“ä¸šçŸ¥è¯†æ‹†åˆ†ã€‚è¿™å°±æ˜¯æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ä¸€ç›´åœ¨ä½¿ç”¨çš„â€”â€”æŒ‰éœ€è¦å®Œæˆçš„å·¥ä½œç±»å‹æ¥æ‹†åˆ†ä»»åŠ¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/796048a7877449bea74d43277d35da31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=L9flSGrV16XfuAhBuHJiya9yLWo%3D" alt="æ¨¡å¼ 1ï¼šåŠŸèƒ½æ€§åˆ†è§£ (Functional Decomposition)" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥è€ƒè™‘å…¨æ ˆåŠŸèƒ½å¼€å‘ã€‚æœ‰å‰ç«¯å·¥ä½œã€åç«¯é€»è¾‘ã€æ•°æ®åº“ä¿®æ”¹æ”¹ï¼Œå¯èƒ½è¿˜æœ‰ API æ›´æ–°ã€‚æ¯ä¸€ä¸ªéƒ½éœ€è¦ä¸åŒçš„çŸ¥è¯†å’Œä¸åŒçš„å·¥å…·ã€‚æ‰€ä»¥å¯ä»¥åˆ›å»ºä¸“é—¨é’ˆå¯¹æ¯ä¸ªé¢†åŸŸçš„æ™ºèƒ½ä½“ã€‚</p>
<p><strong>æ¨¡å¼ 2ï¼šç©ºé—´æ€§åˆ†è§£ (Spatial Decomposition)</strong></p>
<p>ä¹Ÿå¯ä»¥æŒ‰æ–‡ä»¶æˆ–ç›®å½•ç»“æ„æ‹†åˆ†ã€‚åœ¨å¤„ç†å…·æœ‰è®¸å¤šå¯ä»¥ç‹¬ç«‹å¤„ç†çš„æ–‡ä»¶çš„å¤§å‹ä»£ç åº“æ—¶ï¼Œè¿™å°¤å…¶å¼ºå¤§ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨è¿›è¡Œå¤§è§„æ¨¡é‡æ„â€”â€”ä¹Ÿè®¸æ˜¯å°†æ‰€æœ‰ API ç«¯ç‚¹æ›´æ–°åˆ°æ–°çš„èº«ä»½éªŒè¯ç³»ç»Ÿï¼Œå¹¶ä¸”æœ‰å‡ åä¸ªè·¨è¶Šä¸åŒæœåŠ¡çš„æ–‡ä»¶ã€‚ å¯ä»¥è¿›è¡Œç©ºé—´åˆ†è§£ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“ 1 å¤„ç† <code>/services/users/*</code></li>
<li>æ™ºèƒ½ä½“ 2 å¤„ç† <code>/services/orders/*</code></li>
<li>æ™ºèƒ½ä½“ 3 å¤„ç† <code>/services/payments/*</code></li>
<li>æ™ºèƒ½ä½“ 4 å¤„ç† <code>/services/notifications/*</code> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šè¿‡ç¡®ä¿æ™ºèƒ½ä½“åœ¨ä»£ç åº“çš„ç‹¬ç«‹éƒ¨åˆ†å·¥ä½œæ¥æœ€å¤§é™åº¦åœ°å‡å°‘å†²çªã€‚å®ƒä»¬å¯ä»¥å¹¶è¡Œå·¥ä½œã€‚ä½†æ˜¯å¦‚æœæ–‡ä»¶å½¼æ­¤æœ‰å¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œç©ºé—´åˆ†è§£å°±ä¼šå¤±æ•ˆã€‚</li>
</ul>
<p><strong>æ¨¡å¼ 3ï¼šæ—¶é—´æ€§åˆ†è§£ (Temporal Decomposition)</strong></p>
<p>æ¨¡å¼ 3 æ˜¯å…³äºå°†ä»»åŠ¡åˆ†è§£ä¸ºé¡ºåºé˜¶æ®µï¼Œåç»­é˜¶æ®µä¾èµ–äºæ—©æœŸé˜¶æ®µçš„å®Œæˆã€‚</p>
<p>è®©æˆ‘ä»¬ä»¥äº§å“å‘å¸ƒä¸ºä¾‹ã€‚ä½ ä¸èƒ½æŸå¤©é†’æ¥å°±å¼€å§‹å‘é€ä¿ƒé”€é‚®ä»¶ã€‚æœ‰ä¸€ä¸ªé€»è¾‘é¡ºåºï¼š</p>
<ul>
<li><strong>é˜¶æ®µ 1ï¼šå¸‚åœºç ”ç©¶</strong> â€” åˆ†æç«äº‰å¯¹æ‰‹ï¼Œè°ƒæŸ¥ç›®æ ‡å®¢æˆ·ï¼Œç¡®å®šå®šä½æœºä¼š</li>
<li><strong>é˜¶æ®µ 2ï¼šå‘å¸ƒè®¡åˆ’</strong> â€” å®šä¹‰ä¿¡æ¯ï¼Œè®¾å®šå®šä»·ï¼Œåˆ›å»ºæ—¶é—´è¡¨ï¼Œç¡®å®šæ¸ é“</li>
<li><strong>é˜¶æ®µ 3ï¼šèµ„äº§åˆ›å»º</strong> â€” æ’°å†™æ–‡æ¡ˆï¼Œè®¾è®¡å›¾å½¢ï¼Œæ„å»ºç€é™†é¡µï¼Œå‡†å¤‡é‚®ä»¶åºåˆ—</li>
<li><strong>é˜¶æ®µ 4ï¼šå‘å¸ƒä¸ç›‘æ§</strong> â€” æ‰§è¡Œæ´»åŠ¨ï¼Œè·Ÿè¸ªæŒ‡æ ‡ï¼Œå›åº”åé¦ˆï¼Œå®æ—¶è°ƒæ•´</li>
</ul>
<p>æ¯ä¸ªé˜¶æ®µéƒ½æœ‰è‡ªå·±çš„æ™ºèƒ½ä½“æˆ–æ™ºèƒ½ä½“å›¢é˜Ÿã€‚é˜¶æ®µ 2 ç›´åˆ°é˜¶æ®µ 1 å®Œæˆå¹¶å®¡æ ¸é€šè¿‡åæ‰å¼€å§‹ã€‚</p>
<p><strong>æ¨¡å¼ 4ï¼šæ•°æ®é©±åŠ¨åˆ†è§£ (Data-Driven Decomposition)</strong></p>
<p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰æ•°æ®åˆ†åŒºæ‹†åˆ†ã€‚è¿™ç§ä¸å¤ªå¸¸è§ï¼Œä½†å¯¹äºæŸäº›ç”¨ä¾‹éå¸¸å¼ºå¤§ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠå¯ä»¥åˆ†åŒºå¹¶ç‹¬ç«‹å¤„ç†æ•°æ®å—çš„å¤§å‹æ•°æ®é›†çš„ä»»åŠ¡ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨åˆ†æåº”ç”¨ç¨‹åºæ—¥å¿—ä»¥è¯†åˆ«æ€§èƒ½é—®é¢˜ã€‚æœ‰ä¸Šä¸ªæœˆçš„åƒå…†å­—èŠ‚æ—¥å¿—ã€‚ å¯ä»¥æŒ‰æ—¶é—´æˆ–æŒ‰æœåŠ¡åˆ†åŒºï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“ 1 å¤„ç†ç¬¬ 1 å‘¨æ—¥å¿—</li>
<li>æ™ºèƒ½ä½“ 2 å¤„ç†ç¬¬ 2 å‘¨æ—¥å¿—</li>
<li>æ™ºèƒ½ä½“ 3 å¤„ç†ç¬¬ 3 å‘¨æ—¥å¿—</li>
<li>æ™ºèƒ½ä½“ 4 å¤„ç†ç¬¬ 4 å‘¨æ—¥å¿—</li>
</ul>
<p>æ¯ä¸ªæ™ºèƒ½ä½“ç‹¬ç«‹è¿è¡Œåˆ†æï¼Œç„¶ååœ¨æœ€åæ±‡æ€»ç»“æœã€‚</p>
<p>ä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨è¿™äº›æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå…¨æ ˆåŠŸèƒ½å¯èƒ½ä½¿ç”¨<strong>åŠŸèƒ½æ€§åˆ†è§£</strong>ä½œä¸ºä¸»è¦ç»“æ„ï¼ˆå‰ç«¯ã€åç«¯ã€æ•°æ®åº“ï¼‰ï¼Œä½†åç«¯æ™ºèƒ½ä½“åœ¨å†…éƒ¨ä½¿ç”¨<strong>æ—¶é—´æ€§åˆ†è§£</strong>ï¼ˆè®¾è®¡ API â†’ å®ç°é€»è¾‘ â†’ æ·»åŠ æµ‹è¯•ï¼‰ã€‚</p>
<h3 data-id="heading-18">æå‡è´¨é‡ (Improving Quality)</h3>
<p>å¥½äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå‡è®¾æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå·¥ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬åšäº†å…¨é¢çš„è¯„ä¼°ä»¥æŸ¥æ‰¾é”™è¯¯ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯¹æ€§èƒ½ä¸æ»¡æ„ã€‚åº”è¯¥è¿™ä¹ˆåšï¼š</p>
<p>é¦–å…ˆè¦ç†è§£çš„æ˜¯ï¼Œåœ¨å¤„ç†ä¸¤ç§æ ¹æœ¬ä¸åŒç±»å‹çš„ç»„ä»¶ï¼Œå®ƒä»¬éœ€è¦ä¸åŒçš„æ”¹è¿›ç­–ç•¥ã€‚</p>
<ol>
<li>
<p>**é LLM ç»„ä»¶<br/>
**è¿™äº›æ˜¯è¯¸å¦‚ç½‘ç»œæœç´¢ã€RAG æ£€ç´¢ã€ä»£ç æ‰§è¡Œã€è¯­éŸ³è¯†åˆ«ã€è§†è§‰æ¨¡å‹ã€PDF è§£æå™¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ”¹è¿›è¿™äº›ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li><strong>è°ƒæ•´å‚æ•° (Tune the knobs)ã€‚</strong> è°ƒæ•´ç½‘ç»œæœç´¢æ—¥æœŸèŒƒå›´ã€top-k ç»“æœã€RAG åˆ†å—å¤§å°ã€ç›¸ä¼¼åº¦é˜ˆå€¼ç­‰ã€‚</li>
<li>æˆ–è€…ï¼Œ<strong>æ›´æ¢æä¾›å•†ã€‚</strong> å°è¯•æ›¿ä»£çš„ç½‘ç»œæœç´¢ APIã€‚ä¸åŒçš„ OCR æˆ–è§†è§‰æ¨¡å‹ç­‰ç­‰ã€‚</li>
</ul>
</li>
<li>
<p>**LLM ç»„ä»¶<br/>
**Â è¿™äº›ç”¨äºç”Ÿæˆã€æå–ã€æ¨ç†â€”â€”ä»»ä½•ä½ ä½¿ç”¨è¯­è¨€æ¨¡å‹æœ¬èº«çš„åœ°æ–¹ã€‚ æˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šäº‹æƒ…æ¥æ”¹è¿›è¿™éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>æ›´å¥½åœ°æç¤ºã€‚</strong> æ·»åŠ æ˜ç¡®çš„æŒ‡ä»¤ã€çº¦æŸã€æ¨¡å¼ï¼ˆschemasï¼‰ã€‚ä½¿ç”¨å°‘æ ·æœ¬ï¼ˆfew-shotï¼‰è¾“å…¥-è¾“å‡ºå¯¹æ¥å‘æ¨¡å‹å±•ç¤ºä½ æƒ³è¦ä»€ä¹ˆã€‚</li>
<li><strong>å°è¯•å¦ä¸€ä¸ªæ¨¡å‹ã€‚</strong> ä¸€äº›æ¨¡å‹æ›´æ“…é•¿éµå¾ªæŒ‡ä»¤ï¼Œå¦ä¸€äº›æ“…é•¿ä»£ç æˆ–äº‹å®å›å¿†ã€‚ä¸è¦å‡è®¾ä¸€ä¸ªæ¨¡å‹æœ€é€‚åˆæ‰€æœ‰äº‹æƒ…ã€‚</li>
<li><strong>å°†å›°éš¾ä»»åŠ¡åˆ†è§£ä¸ºæ›´å°çš„éƒ¨åˆ†ã€‚</strong></li>
<li><strong>ä½œä¸ºæœ€åæ‰‹æ®µè¿›è¡Œå¾®è°ƒ (Fine-tuning)ã€‚</strong> å¾®è°ƒå¾ˆå¼ºå¤§ä½†æˆæœ¬é«˜æ˜‚ã€‚æŠŠå®ƒç•™ç»™æˆç†Ÿçš„ç³»ç»Ÿï¼Œå½“ä½ éœ€è¦æœ€åé‚£å‡ ä¸ªç™¾åˆ†ç‚¹çš„è´¨é‡æå‡å¹¶ä¸”å·²ç»ç”¨å°½äº†å…¶ä»–æ‰€æœ‰æ–¹æ³•æ—¶å†ç”¨ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-19">é™ä½å»¶è¿Ÿ (Reducing Latency)</h3>
<p>æå®šè¾“å‡ºè´¨é‡åº”è¯¥æ˜¯ä½ çš„ç¬¬ä¸€æ­¥ã€‚åœ¨é‚£ä¹‹åï¼Œè®©æˆ‘ä»¬è°ˆè°ˆé™ä½å»¶è¿Ÿã€‚</p>
<ol>
<li>**å»ºç«‹åŸºçº¿<br/>
**ç¬¬ä¸€æ­¥æ˜¯ä¸ºå·¥ä½œæµä¸­çš„æ¯ä¸€æ­¥è®¡æ—¶ã€‚ä½ å¯èƒ½ä¼šå‘ç°ï¼ŒLLM ç”Ÿæˆæœç´¢è¯éœ€è¦ 7 ç§’ã€‚ç½‘ç»œæœç´¢éœ€è¦ 5 ç§’ã€‚èµ·è‰æ–‡ç« éœ€è¦ 11 ç§’ï¼Œä¾æ­¤ç±»æ¨ã€‚ è¿™ç»™äº†ä½ ä¸€ä¸ªåŸºçº¿ï¼Œè®©ä½ çŸ¥é“åº”è¯¥ä¼˜åŒ–ä»€ä¹ˆã€‚</li>
<li>**å¹¶è¡ŒåŒ–<br/>
**æ¥ä¸‹æ¥ï¼Œå¹¶è¡Œè¿è¡Œä»»ä½•å¯ä»¥åŒæ—¶è¿è¡Œçš„éƒ¨åˆ†ã€‚æ¯”å¦‚ç½‘ç»œè·å–ã€å¤šæ¬¡æœç´¢æˆ–è§£æå¤šä¸ªæ–‡æ¡£ã€‚è¿™é€šå¸¸æ˜¯æœ€å®¹æ˜“çš„èƒœåˆ©ã€‚</li>
<li>**è°ƒæ•´æ¨¡å‹å¤§å°<br/>
**åœ¨ä»»åŠ¡ç®€å•çš„åœ°æ–¹ï¼ˆå¦‚å…³é”®è¯ç”Ÿæˆï¼‰ä½¿ç”¨æ›´å°ã€æ›´å¿«çš„ LLMï¼Œå¹¶å°†é‡é‡çº§æ¨¡å‹ä¿ç•™ç”¨äºç»¼åˆå’Œæ¨ç†ã€‚</li>
<li>**å°è¯•æ›´å¿«çš„æä¾›å•†<br/>
**ååé‡å’Œ token æµå¼ä¼ è¾“é€Ÿåº¦å·®å¼‚å¾ˆå¤§ã€‚åœ¨ä¸æ›´æ”¹ä»»ä½•æç¤ºè¯çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å…·æœ‰ä¼˜åŒ–æœåŠ¡çš„æä¾›å•†å¯ä»¥å‡å°‘æ•°ç§’æ—¶é—´ã€‚</li>
<li>**æœ€åï¼Œå‰Šå‡ä¸Šä¸‹æ–‡<br/>
**æ›´çŸ­çš„æç¤ºè¯å’Œä¸Šä¸‹æ–‡æ„å‘³ç€æ›´å¿«çš„è§£ç ï¼Œæ‰€ä»¥å°½é‡åªä¿ç•™è¯¥æ­¥éª¤çœŸæ­£éœ€è¦çš„å†…å®¹ã€‚</li>
</ol>
<h3 data-id="heading-20">é™ä½æˆæœ¬ (Reducing Cost)</h3>
<p>éšç€è´¨é‡æé«˜å’Œå»¶è¿Ÿå¾—åˆ°æ§åˆ¶ï¼Œè¦å¼€å§‹å…³æ³¨æˆæœ¬äº†ã€‚é¦–å…ˆï¼Œè¦åƒæµ‹é‡å»¶è¿Ÿä¸€æ ·æµ‹é‡æ¯ä¸€æ­¥çš„æˆæœ¬ã€‚</p>
<p>æ™ºèƒ½ä½“ç³»ç»Ÿæœ‰å‡ ä¸ªæˆæœ¬æ¥æºï¼š</p>
<ul>
<li><strong>LLM è°ƒç”¨ï¼š</strong> ç”±è¾“å…¥ token å’Œè¾“å‡º token å†³å®šã€‚è¿™äº›é€šå¸¸åˆ†å¼€å®šä»·ï¼ˆè¾“å…¥ token è¾ƒä¾¿å®œï¼Œè¾“å‡º token è¾ƒè´µï¼‰ã€‚</li>
<li><strong>API è°ƒç”¨ï¼š</strong> è¯¸å¦‚ç½‘ç»œæœç´¢ã€PDF è½¬æ¢ã€å›¾åƒç”Ÿæˆã€è¯­éŸ³è½¬æ–‡æœ¬ã€‚è¿™äº›é€šå¸¸æœ‰æŒ‰æ¬¡è°ƒç”¨æˆ–æŒ‰å•ä½è®¡è´¹çš„å®šä»·ã€‚</li>
<li><strong>åŸºç¡€è®¾æ–½ï¼š</strong> å¦‚æœä½ è¿è¡Œè‡ªå·±çš„æ£€ç´¢ç³»ç»Ÿã€å‘é‡æ•°æ®åº“æˆ–ä»£ç æ‰§è¡Œè®¡ç®—èµ„æºã€‚</li>
</ul>
<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªå†™æ–‡ç« çš„ç ”ç©¶æ™ºèƒ½ä½“ã€‚è¿™æ˜¯ä¸€æ¬¡è¿è¡Œå¯èƒ½çš„æˆæœ¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/069ffe0333f44d9ca2d30041182b2f5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=M2BY%2F0dDZGpin%2F%2BEudFixxmoG28%3D" alt="å†™ä½œæ™ºèƒ½ä½“æˆæœ¬ç¤ºä¾‹" loading="lazy"/></p>
<p>å¦‚æœæ¯å¤©è¿è¡Œ 1,000 æ¬¡ï¼Œé‚£å°±æ˜¯ 80 ç¾å…ƒ/å¤©æˆ– 2,400 ç¾å…ƒ/æœˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81f324051cc941aca904c3234577c263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxhbkhvdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750667&amp;x-signature=oMMSMOBeu0UFI5fTRetSPc2T5mM%3D" alt="å†™ä½œæ™ºèƒ½ä½“æˆæœ¬æ±‡æ€»" loading="lazy"/></p>
<p>ä¸€æ—¦çŸ¥é“æ¯ä¸€æ­¥çš„æˆæœ¬ï¼Œå¯ä»¥å¦‚ä¸‹ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>é¦–å…ˆä»å¤§å¤´ä¸‹æ‰‹ã€‚</strong> å¦‚æœç½‘ç»œæœç´¢æ¯æ¬¡è°ƒç”¨èŠ±è´¹ 2 ç¾åˆ†ï¼Œè€Œæ¯æ¬¡è¿è¡Œè°ƒç”¨ 10 æ¬¡ï¼Œé‚£å°±æ˜¯ 20 ç¾åˆ†ã€‚å°½æœ€å¤§åŠªåŠ›å‡å°‘è°ƒç”¨ã€ç¼“å­˜ç»“æœæˆ–æ‰¹é‡æŸ¥è¯¢ã€‚</li>
<li><strong>æ¨¡å‹åˆ†å±‚ã€‚</strong> å¯¹ç®€å•çš„ä»»åŠ¡ä½¿ç”¨ä¾¿å®œçš„æ¨¡å‹ï¼Œä»…åœ¨çœŸæ­£é‡è¦çš„åœ°æ–¹ä½¿ç”¨å‰æ²¿æ¨¡å‹ã€‚</li>
<li><strong>ä¸»åŠ¨ç¼“å­˜ã€‚</strong> ç¡®å®šæ€§çš„ç»“æœï¼Œå¦‚æœç´¢å“åº”ã€åµŒå…¥ï¼ˆembeddingsï¼‰ã€åˆ†å—æ£€ç´¢æˆ–ä¸­é—´æ‘˜è¦ï¼Œä¸åº”æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—ã€‚</li>
<li><strong>çº¦æŸè¾“å‡ºã€‚</strong> è¦æ±‚ç»“æ„åŒ–ã€ç®€æ´çš„ç»“æœï¼Œä½¿ç”¨è¯¸å¦‚â€œè¿”å›åŒ…å«è¿™äº›å¿…å¡«å­—æ®µçš„ JSONâ€ã€â€œæœ€å¤šç»™æˆ‘ 5 ä¸ªè¦ç‚¹â€çš„æŒ‡ä»¤ã€‚æ›´å°‘çš„ tokenï¼Œæ›´ä½çš„è´¦å•ã€‚</li>
<li><strong>æ‰¹é‡å¤„ç†ã€‚</strong> å¦‚æœåœ¨å¤„ç†è®¸å¤šç›¸ä¼¼çš„é¡¹ç›®ï¼Œå°½å¯èƒ½æ‰“åŒ…æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ AWS ä¸Šï¼Œæ‰¹é‡å¤„ç†çš„æˆæœ¬æ˜¯æŒ‰éœ€å¤„ç†çš„ 50%ã€‚</li>
</ol>
<h3 data-id="heading-21">å¯è§‚æµ‹æ€§å’Œç›‘æ§ (Observability and Monitoring)</h3>
<p>æœ‰äº†ä¸€ä¸ªè´¨é‡ã€å»¶è¿Ÿå’Œæˆæœ¬éƒ½åŸºæœ¬æ»¡æ„çš„ç³»ç»Ÿã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ç¡®ä¿å®ƒåœ¨è§„æ¨¡åŒ–åç»§ç»­æŒ‰é¢„æœŸè¿è¡Œã€‚</p>
<p>è¿™å°±æ˜¯ç›‘æ§å’Œå¯è§‚æµ‹æ€§å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚å¯è§‚æµ‹æ€§æ¶µç›–è°ƒè¯•èƒ½åŠ›ã€è´¨é‡ç›‘æ§å’Œå¹»è§‰è¿½è¸ªã€‚åŸºæœ¬ä¸Šï¼Œä»»ä½•å¸®åŠ©ä½ è§‚å¯Ÿæ™ºèƒ½ä½“è¡Œä¸ºå’Œæ€§èƒ½çš„ä¸œè¥¿ã€‚</p>
<p>æ£˜æ‰‹çš„æ˜¯ï¼ŒAI ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§ä¸ä¼ ç»Ÿè½¯ä»¶æ ¹æœ¬ä¸åŒã€‚ å¯¹äºä¼ ç»Ÿè½¯ä»¶ï¼Œä½ å¯ä»¥è¿½è¸ªæ¸…æ™°çš„æ‰§è¡Œè·¯å¾„ã€‚å‡½æ•° A è°ƒç”¨å‡½æ•° Bï¼Œå‡½æ•° B æŸ¥è¯¢æ•°æ®åº“ï¼Œè¿”å›æ•°æ®ï¼Œæ¸²æŸ“é¡µé¢ã€‚è¯¸å¦‚æ­¤ç±»ã€‚</p>
<p>AI ç³»ç»Ÿä¸è¿™æ ·å·¥ä½œï¼ŒåŸå› æœ‰å¾ˆå¤šï¼š</p>
<ul>
<li>å®ƒä»¬æ˜¯éç¡®å®šæ€§çš„ã€‚ç›¸åŒçš„è¾“å…¥å¯èƒ½åŸºäºæ¨¡å‹å“åº”äº§ç”Ÿä¸åŒçš„è¾“å‡ºã€‚ä¸èƒ½åªæ˜¯é‡æ”¾è¯·æ±‚å¹¶æœŸæœ›ç›¸åŒçš„ç»“æœã€‚</li>
<li>å®ƒä»¬å…·æœ‰åˆ†å¸ƒå¼æ‰§è¡Œï¼Œå·¥å…·å¹¶è¡Œè¿è¡Œï¼Œæ™ºèƒ½ä½“ç”Ÿæˆå­æ™ºèƒ½ä½“ç­‰ç­‰ã€‚</li>
<li>æœ‰è®¸å¤šå…·æœ‰æ½œåœ¨æ•…éšœç‚¹çš„å¤–éƒ¨ä¾èµ–å…³ç³»ï¼Œè¿™äº›éƒ½åœ¨ä½ çš„æ§åˆ¶ä¹‹å¤–ã€‚</li>
<li>è¿˜æœ‰æ›´å¤šï¼</li>
</ul>
<p>ä¸ºäº†ç®¡ç†è¿™ä¸€åˆ‡ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ç§å¯è§æ€§ï¼š</p>
<ol>
<li><strong>â€œæ”¾å¤§ï¼ˆZoom-inï¼‰â€æŒ‡æ ‡<br/>
<strong>å¸®åŠ©æˆ‘ä»¬è°ƒè¯•å•æ¬¡è¿è¡Œã€‚è¿™æ˜¯å®Œæ•´çš„</strong>è¿½è¸ªï¼ˆtraceï¼‰</strong> ï¼šæç¤ºè¯ã€å·¥å…·è°ƒç”¨ã€token ä½¿ç”¨é‡ã€é‡è¯•å°è¯•å’Œæ¯ä¸ªå†³ç­–ç‚¹ã€‚åŸºæœ¬ä¸Šæ˜¯é‡ç°é”™è¯¯å¹¶ç¡®åˆ‡æŸ¥çœ‹å“ªé‡Œå‡ºé”™æ‰€éœ€çš„ä¸€åˆ‡ã€‚</li>
<li>**â€œç¼©å°ï¼ˆZoom-outï¼‰â€æŒ‡æ ‡<br/>
**å‘Šè¯‰æˆ‘ä»¬æ•´ä¸ªç³»ç»Ÿåœ¨å¤šæ¬¡è¿è¡Œä¸­çš„è¡¨ç°ã€‚è¿™åŒ…æ‹¬è‡ªåŠ¨è´¨é‡æ£€æŸ¥ï¼ˆé€šå¸¸ä½¿ç”¨ LLM ä½œä¸ºè£åˆ¤ï¼‰ã€å¹»è§‰ç‡ã€æˆåŠŸ/ROI è¡¡é‡æ ‡å‡†ï¼Œä»¥åŠæ˜¾ç¤ºæ›´æ”¹æ˜¯æœ‰å¸®åŠ©è¿˜æ˜¯æœ‰å®³çš„è¶‹åŠ¿çº¿ã€‚</li>
</ol>
<p>ä¸ä»…è¦è®°å½•æ™ºèƒ½ä½“åšäº†ä»€ä¹ˆï¼Œè¿˜è¦è®°å½•<strong>ä¸ºä»€ä¹ˆ</strong>åšã€‚ä¾‹å¦‚ï¼Œå¯èƒ½ä¼šè®°å½•ï¼šâ€œæ™ºèƒ½ä½“é€‰æ‹©ä½¿ç”¨ç½‘ç»œæœç´¢è€Œä¸æ˜¯ RAGï¼Œå› ä¸ºæŸ¥è¯¢åŒ…å«â€˜æœ€è¿‘â€™â€æˆ–â€œåæ€é€šè¿‡ç¨‹å‘ç°äº† 3 ä¸ªé—®é¢˜ï¼šç¼ºå¤±å¼•ç”¨ã€æ—¥æœŸæ¨¡ç³Šã€è¯­æ°”é”™è¯¯â€ã€‚</p>
<p>åœ¨åŒæ—¶è¿è¡Œæˆåƒä¸Šä¸‡ä¸ªæ™ºèƒ½ä½“æ—¶ï¼Œæˆ‘ä»¬æ— æ³•æ‰‹åŠ¨è§‚å¯Ÿæ¯ä¸ªè¿½è¸ªã€‚è¿™å°±æ˜¯<strong>è´¨é‡æŠ½æ ·</strong>å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚ä¸å…¶æ·±å…¥æ£€æŸ¥æ¯ä¸€æ¬¡æ‰§è¡Œï¼Œä¸å¦‚å®šä¹‰ä¸€ä¸ªæŠ½æ ·ç‡â€”â€”æ¯”å¦‚æ€»è¿è¡Œæ¬¡æ•°çš„ä¸€å®šç™¾åˆ†æ¯”â€”â€”è¿›è¡Œè´¨é‡å’Œå¹»è§‰è¯„ä¼°ã€‚ç„¶åç³»ç»Ÿä½¿ç”¨è¯¥æ‰§è¡Œå­é›†æ¥è®¡ç®—æ™ºèƒ½ä½“çš„æ€»ä½“è´¨é‡å¾—åˆ†å’Œå¹»è§‰å¾—åˆ†ã€‚ è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä¼˜å…ˆè€ƒè™‘ä¿®å¤å’Œæ”¹è¿›çš„é¢†åŸŸã€‚</p>
<p>é™¤äº†æŠ€æœ¯æŒ‡æ ‡ï¼Œè¿˜éœ€è¦äº†è§£ç”¨æˆ·è¡Œä¸ºã€‚</p>
<ul>
<li><strong>äººä»¬å®é™…ä¸Šåœ¨é—®ä»€ä¹ˆï¼Ÿ</strong> ä»–ä»¬æ˜¯åœ¨æŒ‰é¢„æœŸä½¿ç”¨ä½ çš„æ™ºèƒ½ä½“ï¼Œè¿˜æ˜¯æ‰¾åˆ°äº†åˆ›é€ æ€§çš„å˜é€šæ–¹æ³•ï¼Ÿ</li>
<li><strong>ä»–ä»¬åœ¨å“ªé‡Œå¡ä½äº†ï¼Ÿ</strong> ä»–ä»¬æ˜¯å¦é‡è¿°å¹¶é‡è¯•ï¼Ÿè¿™æ˜¯ç¬¬ä¸€æ¬¡å°è¯•æ²¡èµ·ä½œç”¨çš„ä¿¡å·ã€‚</li>
<li><strong>ä»–ä»¬ç”¨è¾“å‡ºåšäº†ä»€ä¹ˆï¼Ÿ</strong> å¦‚æœä»–ä»¬ç«‹å³è¦æ±‚ä¿®æ”¹ï¼Œè¯´æ˜åˆå§‹è´¨é‡ä¸å¤Ÿå¥½ã€‚</li>
<li><strong>ä¼šè¯æœ‰å¤šé•¿ï¼Ÿ</strong> éå¸¸çŸ­çš„ä¼šè¯å¯èƒ½æ„å‘³ç€å¿«é€ŸæˆåŠŸæˆ–ç«‹å³å¤±è´¥ã€‚éå¸¸é•¿çš„ä¼šè¯å¯èƒ½æ„å‘³ç€æ™ºèƒ½ä½“æœ‰èƒ½åŠ›ä½†æ•ˆç‡ä½ä¸‹ã€‚</li>
</ul>
<p>è¿™äº›å®šæ€§æ•°æ®ä¸æŠ€æœ¯æŒ‡æ ‡ä¸€èµ·æŒ‡å¯¼æˆ‘ä»¬çš„äº§å“è·¯çº¿å›¾ã€‚</p>
<h3 data-id="heading-22">å®‰å…¨æ€§ (Security)</h3>
<p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦è°ˆè°ˆæ„å»ºå¼ºå¤§ç³»ç»Ÿä¸­å¦‚æœä¸é‚£ä¹ˆä»¤äººå…´å¥‹ä½†æœ€é‡è¦çš„éƒ¨åˆ†ä¹‹ä¸€ï¼šå®‰å…¨æ€§ã€‚</p>
<p>å°±åƒå¯è§‚æµ‹æ€§ä¸€æ ·ï¼ŒAI æ™ºèƒ½ä½“çš„å®‰å…¨æ€§ä¹Ÿä¸åƒä¼ ç»Ÿçš„åº”ç”¨ç¨‹åºå®‰å…¨æ€§ã€‚ä½ ä¸ä»…ä»…æ˜¯é˜²å¾¡å¤–éƒ¨æ”»å‡»è€…â€”â€”å®é™…ä¸Šä½ å¿…é¡»é˜²æ­¢<strong>ä½ è‡ªå·±çš„ç³»ç»Ÿ</strong>åšå‡ºå±é™©çš„å†³å®šæˆ–è¢«æ“çºµé‡‡å–æœ‰å®³è¡ŒåŠ¨ã€‚</p>
<p>è¿™äº›æ˜¯éœ€è¦æ³¨æ„çš„äº‹æƒ…ï¼š</p>
<ul>
<li><strong>æç¤ºè¯æ³¨å…¥ (Prompt injection)ï¼š</strong> ç”¨æˆ·è¾“å…¥æˆ–å¤–éƒ¨æ•°æ®ä¸­çš„æ¶æ„å†…å®¹åŠ«æŒäº†ä½ çš„æ™ºèƒ½ä½“æŒ‡ä»¤ã€‚</li>
<li><strong>ä¸å®‰å…¨çš„ä»£ç ç”Ÿæˆï¼š</strong> æ™ºèƒ½ä½“ç¼–å†™è®¿é—®æ•æ„Ÿæ•°æ®æˆ–æ‰§è¡Œå±é™©æ“ä½œçš„ä»£ç ã€‚</li>
<li><strong>æ•°æ®æ³„éœ²ï¼š</strong> ä¸ªäººèº«ä»½ä¿¡æ¯ (PII) æˆ–ä¸“æœ‰ä¿¡æ¯é€šè¿‡æ™ºèƒ½ä½“è¾“å‡ºæˆ–å·¥å…·è°ƒç”¨æ³„éœ²ã€‚</li>
<li><strong>èµ„æºè€—å°½ï¼š</strong> æ™ºèƒ½ä½“å¯åŠ¨æ˜‚è´µçš„æ“ä½œæˆ–æ— é™å¾ªç¯ã€‚</li>
</ul>
<p>æˆ‘ä»¬æ¥ç‰¹åˆ«æ·±å…¥æ¢è®¨ä¸€ä¸‹<strong>ä»£ç æ‰§è¡Œ</strong>ã€‚ä»£ç æ‰§è¡Œæ˜¯æ™ºèƒ½ä½“çš„ç»ˆæå·¥å…·ã€‚å®ƒæå…¶å¼ºå¤§ï¼Œå› ä¸ºæ™ºèƒ½ä½“å¯ä»¥ç¼–å†™ä»£ç æ¥ç”Ÿæˆå›¾è¡¨ã€åˆ›å»º Markdown æ–‡ä»¶ã€å¤„ç†æ•°æ®ï¼Œé€šå¸¸å¯ä»¥åœ¨ä½ ç»™å®šçš„èŒƒå›´å†…åšâ€œä»»ä½•å®ƒä»¬æƒ³åšçš„äº‹â€ã€‚ è¿™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚</p>
<p>è®¸å¤šä»»åŠ¡å¯ä»¥é€šè¿‡å®šä¹‰è‰¯å¥½çš„è‡ªå®šä¹‰å·¥å…·æ¥è¦†ç›–ï¼Œæ‰€ä»¥ç³»ç»Ÿå¹¶ä¸æ€»æ˜¯éœ€è¦å›é€€åˆ°è‡ªç”±å½¢å¼çš„ç¼–ç ã€‚ä½†åœ¨ç¡®å®å¯ç”¨å®ƒä»¬æ—¶ï¼Œæˆ‘ä¿¡éœ€è¦å®‰å…¨æŠ¤æ ã€‚</p>
<p>å®‰å…¨åœ°è¿›è¡Œä»£ç æ‰§è¡Œæœ‰å¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æ²™ç›’æ‰§è¡Œã€‚</strong> ä½¿ç”¨ Docker æˆ–å—é™çš„è¿è¡Œç¯å¢ƒã€‚å°†ä»£ç æ‰§è¡Œä¸ä¸»åº”ç”¨ç¨‹åºå®Œå…¨éš”ç¦»ã€‚ä»£ç åº”è¯¥åœ¨æ¯æ¬¡æ‰§è¡Œåè¢«é”€æ¯çš„å®¹å™¨ä¸­è¿è¡Œã€‚</li>
<li><strong>èµ„æºé™åˆ¶ã€‚</strong> è®¾ç½®è¶…æ—¶ã€å†…å­˜ä¸Šé™ã€CPU é™åˆ¶ã€‚é˜»æ­¢å±é™©çš„å¯¼å…¥ã€ç½‘ç»œè®¿é—®ï¼ˆé™¤éæ˜ç¡®éœ€è¦ï¼‰ä»¥åŠæŒ‡å®šä¸´æ—¶ç›®å½•ä¹‹å¤–çš„æ–‡ä»¶ç³»ç»Ÿå†™å…¥ã€‚</li>
<li><strong>ä»…å…è®¸ç™½åå•åº“ã€‚</strong> åªå…è®¸ç‰¹å®šã€å®‰å…¨çš„åº“ï¼Œå¦‚ pandasã€numpy æˆ– datetimeã€‚ä¸å…è®¸ä»»æ„å®‰è£…ã€‚å¦‚æœæ™ºèƒ½ä½“éœ€è¦ä¸€ä¸ªåº“ï¼Œä½ è¦æ˜¾å¼åœ°å°†å…¶æ·»åŠ åˆ°ç™½åå•ä¸­ã€‚</li>
<li><strong>éªŒè¯åŠ åæ€å¾ªç¯ã€‚</strong> å¦‚æœä»£ç æ‰§è¡Œå‡ºé”™ï¼Œæ•è·å›æº¯ä¿¡æ¯å¹¶è®©æ¨¡å‹ä¿®å¤ä»£ç ã€‚ç»™å®ƒä¸€ä¸¤æ¬¡å°è¯•æœºä¼šï¼Œå¹¶ç¡®ä¿ä½ æœ‰ç†”æ–­æœºåˆ¶ã€‚</li>
<li><strong>ç¡®å®šæ€§ I/Oã€‚</strong> è®©ä»£ç è¿”å›ä¸€ä¸ªå°çš„ã€ç»“æ„åŒ–çš„ç»“æœâ€”â€”ä¸€ä¸ªæ•°å­—ã€ä¸€ä¸ªåˆ—è¡¨ã€ä¸€ä¸ª JSON å¯¹è±¡ã€‚ç„¶åä½ ä¸ºç”¨æˆ·æ ¼å¼åŒ–å®ƒã€‚ä¸è¦è®©ä»£ç ç›´æ¥å‘ç”¨æˆ·è¾“å‡ºæˆ–å†™å…¥ä»–ä»¬å¯ä»¥è®¿é—®çš„æ–‡ä»¶ã€‚</li>
<li>è¿˜æœ‰<strong>è¾“å…¥å’Œè¾“å‡ºæ¸…æ´—</strong>ï¼Œä»¥ä¾¿æ‰€æœ‰è¾“å…¥åœ¨åˆ°è¾¾æ™ºèƒ½ä½“ä¹‹å‰éƒ½ç»è¿‡éªŒè¯ï¼Œå¹¶ä¸”æ‰«ææ‰€æœ‰è¾“å‡ºä»¥æŸ¥æ‰¾åƒ API å¯†é’¥æˆ– PII è¿™æ ·çš„æ•æ„Ÿæ•°æ®ã€‚</li>
</ol>
<p>é«˜çº§éƒ¨åˆ†åˆ°æ­¤ç»“æŸï¼æœ‰äº†æ‰€æœ‰è¿™äº›ï¼Œå°±å¯ä»¥æ„å»ºæ‰©å±•å¹¶åœ¨ç”Ÿäº§ä¸­æœåŠ¡ç”¨æˆ·çš„çœŸå®ç³»ç»Ÿäº†ã€‚</p>
<h2 data-id="heading-23">å½©è›‹ç¯‡ (BONUS)</h2>
<p>å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªä¸ºè¶…çº§è¿›é˜¶è€…å‡†å¤‡çš„å½©è›‹ã€‚</p>
<p>æˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„å¤§éƒ¨åˆ†å†…å®¹éƒ½å‡è®¾ä½ ä½¿ç”¨çš„æ˜¯åƒ LangGraph æˆ– CrewAI è¿™æ ·çš„æ¡†æ¶ã€‚ä½†å¦‚æœä½ æ˜¯ä¸€ä¸ªæœ‰å…´è¶£äº†è§£åƒ Claude Code è¿™æ ·ä»£ç†å¼å·¥å…·å†…éƒ¨è¿ä½œåŸç†çš„å¼€å‘è€…ï¼Œæˆ‘å¼ºçƒˆæ¨èè¿™ç¯‡å…³äºä»£ç†å¼ç³»ç»Ÿè®¾è®¡çš„åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgerred.github.io%2Fbuilding-an-agentic-system%2Fcore-architecture.html" target="_blank" title="https://gerred.github.io/building-an-agentic-system/core-architecture.html" ref="nofollow noopener noreferrer">gerred.github.io/building-anâ€¦</a></p>
<p>å®ƒæ¶µç›–äº†è¯¸å¦‚ä¸‰ä¸ªæ ¸å¿ƒå±‚ï¼ˆç»ˆç«¯ UIã€LLMâ€œæ™ºèƒ½â€å±‚å’Œå·¥å…·å±‚ï¼‰ã€å¦‚ä½•ç”¨å¼‚æ­¥ç”Ÿæˆå™¨æ„å»ºååº”å¼å‘½ä»¤å¾ªç¯ã€æµå¼ä¼ è¾“ + å·¥å…·è°ƒç”¨çš„æ¨¡å¼ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆåƒ Claude Code å’Œ Cursor åº•å±‚é©±åŠ¨æŠ€æœ¯çš„å¹¶è¡Œæ‰§è¡Œå¼•æ“å’Œæ™ºèƒ½å·¥å…·è°ƒåº¦ï¼ˆè¯» vs å†™ï¼‰ã€‚</p>
<p>ç¿»è¯‘æ•´ç†è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fdata-science-collective%2Fai-agents-complete-course-f226aa4550a1" target="_blank" title="https://medium.com/data-science-collective/ai-agents-complete-course-f226aa4550a1" ref="nofollow noopener noreferrer">AI Agents: Complete Course From beginner to intermediate to production</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Gitä¸‰è¿åˆ°æ—¶å…‰æœºå¤§å¸ˆï¼šæˆ‘çš„ä»£ç ç»ˆäºæœ‰äº†åæ‚”è¯]]></title>    <link>https://juejin.cn/post/7589534625258864676</link>    <guid>https://juejin.cn/post/7589534625258864676</guid>    <pubDate>2025-12-30T16:16:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589534625258864676" data-draft-id="7588104741610405898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Gitä¸‰è¿åˆ°æ—¶å…‰æœºå¤§å¸ˆï¼šæˆ‘çš„ä»£ç ç»ˆäºæœ‰äº†åæ‚”è¯"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2025-12-30T16:16:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NEXT06"/> <meta itemprop="url" content="https://juejin.cn/user/1176918763246011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Gitä¸‰è¿åˆ°æ—¶å…‰æœºå¤§å¸ˆï¼šæˆ‘çš„ä»£ç ç»ˆäºæœ‰äº†åæ‚”è¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1176918763246011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NEXT06
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T16:16:17.000Z" title="Tue Dec 30 2025 16:16:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä½ çš„ä»£ç éœ€è¦ä¸€ä¸ªâ€œæ—¶å…‰æœºâ€ğŸ“œ</h2>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿè¿™æ ·ï¼š<code>git add</code>Â -&gt;Â <code>git commit</code>Â -&gt;Â <code>git push</code>Â ä¸‰è¿æ•²å¾—é£èµ·ï¼Œä½†å¯¹Â <code>.git</code>Â æ–‡ä»¶å¤¹æ•¬è€Œè¿œä¹‹ï¼Œçœ‹åˆ°ä¸€é•¿ä¸² Hash å€¼åªè§‰å¾—æ˜¯â€œä¹±ç â€ï¼Œé‡åˆ°å†²çªå°±å¤´çš®å‘éº»ï¼Ÿ</p>
<p>åˆ«æ…Œï¼Œè¿™å¤ªæ­£å¸¸äº†ã€‚ä»Šå¤©è¿™ç¯‡ï¼Œæˆ‘å°±å¸¦ä½ ä»â€œä¼šç”¨â€èµ°åˆ°â€œæ‡‚å®ƒâ€ã€‚æˆ‘ä»¬ä¸å…‰è®°å‘½ä»¤ï¼Œæ›´è¦æŒ–ä¸€æŒ– Git è®¾è®¡èƒŒåçš„å¤©æ‰æ€æƒ³ã€‚ä½ ä¼šå‘ç°ï¼Œç†è§£è¿™äº›ï¼Œæ¯”ä½ æ­»è®°ä¸€ç™¾ä¸ªå‘½ä»¤å‚æ•°éƒ½æœ‰ç”¨ã€‚</p>
<h3 data-id="heading-1"><strong>å†™åœ¨å‰é¢ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦çœŸæ­£æŒæ¡ Gitï¼Ÿ</strong></h3>
<p>åœ¨è¿™ä¸ªæµ®èºçš„æŠ€æœ¯åœˆï¼Œå¾ˆå¤šäººéƒ½æŠŠ Git çœ‹ä½œâ€œåªæ˜¯æäº¤ä»£ç çš„å·¥å…·â€ã€‚ä½†æˆ‘æƒ³å‘Šè¯‰ä½ ï¼š<strong>çœŸæ­£æŒæ¡ Gitï¼Œæ˜¯ä½ ä»â€œä»£ç æ°‘å·¥â€èµ°å‘â€œä¸“ä¸šå·¥ç¨‹å¸ˆâ€çš„å…³é”®ä¸€æ­¥</strong>ã€‚</p>
<p>æƒ³ä¸€æƒ³è¿™äº›åœºæ™¯ï¼š</p>
<ul>
<li>çº¿ä¸Šå‡ºäº†ç´§æ€¥ bugï¼Œä½ éœ€è¦ç«‹åˆ»æ‰¾åˆ°æ˜¯å“ªæ¬¡æäº¤å¼•å…¥çš„é—®é¢˜</li>
<li>ä½ èŠ±äº†ä¸‰å¤©å†™çš„æ–°åŠŸèƒ½ï¼Œè€æ¿çªç„¶è¯´â€œè¿™ä¸ªéœ€æ±‚ä¸åšäº†â€</li>
<li>å›¢é˜Ÿåä½œæ—¶ï¼Œä½ çš„ä»£ç å’ŒåŒäº‹çš„ä¿®æ”¹å†²çªäº†</li>
<li>ä½ æƒ³å°è¯•ä¸€ä¸ªå¤§èƒ†çš„é‡æ„ï¼Œä½†åˆæ€•æŠŠä»£ç æå´©</li>
</ul>
<p>è¿™äº›è®©äººå¤´çš®å‘éº»çš„é—®é¢˜ï¼Œåœ¨ç†Ÿç»ƒæŒæ¡ Git çš„äººæ‰‹ä¸­ï¼Œéƒ½èƒ½ä»å®¹è§£å†³ã€‚Git ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒæ˜¯ï¼š</p>
<ul>
<li>ä½ çš„<strong>ä»£ç æ—¶å…‰æœº</strong>ï¼šéšæ—¶å›åˆ°ä»»ä½•ä¸€ä¸ªå†å²ç‰ˆæœ¬</li>
<li>ä½ çš„<strong>å®éªŒæ²™ç›’</strong>ï¼šæ”¾å¿ƒå¤§èƒ†åœ°å°è¯•ä»»ä½•æƒ³æ³•ï¼Œä¸è¡Œå°±ä¸€é”®æ’¤å›</li>
<li>ä½ çš„<strong>å›¢é˜Ÿåä½œè¯­è¨€</strong>ï¼šè®©å¤šäººå¹¶è¡Œå¼€å‘å˜å¾—äº•ç„¶æœ‰åº</li>
<li>ä½ çš„<strong>èŒä¸šä¿é™©</strong>ï¼šå†ä¹Ÿä¸ç”¨æ‹…å¿ƒâ€œè¯¯åˆ ä»£ç ï¼Œä¸€å¤œå›åˆ°è§£æ”¾å‰â€</li>
</ul>
<p>è€Œå¯¹äºä¸€äº›åˆšå¼€å§‹è¿›å…¥ç¼–ç¨‹å­¦ä¹ çš„æœªæ¥å¤§ä½¬ä»¬ï¼ŒGitä¸ä»…æ˜¯æˆ‘ä»¬çš„ä»£ç ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ›´æ˜¯æˆ‘ä»¬æ¯å¤©å­¦ä¹ ç¼–ç¨‹çš„è¿›æ­¥æ—¥å¿—ï¼Œå½“æˆ‘ä»¬ä»¬æ¯å¤©éƒ½è¦é¢å¯¹ä¸€äº›æˆ–è®¸æ–°é²œã€æ— èŠã€æŠ½è±¡ã€ç®€å•çš„çŸ¥è¯†æ—¶ï¼Œå½“æˆ‘ä»¬æ¯å¤©å°†ä»£ç ä¸€ä¸ªä¸€ä¸ªæ‰“åœ¨ç¼–è¯‘å™¨ä¸Šæ—¶ï¼Œå½“æˆ‘ä»¬äº²çœ¼çœ‹åˆ°è‡ªå·±æ¯ä¸€å¤©çš„å­¦ä¹ æˆæœéƒ½è¢«å®Œæ•´è®°å½•æ—¶ï¼Œè¿›æ­¥è·¯ä¸Šçš„ç‚¹ç‚¹æ»´æ»´ï¼Œåªæœ‰ä»–æ³¨è§†ç€æˆ‘ï¼Œå€˜è‹¥æœ‰ä¸€å¤©æˆ‘ä»¬æˆä¸ºäº†é¡¶çº§å¤§ä½¬ï¼Œçœ‹åˆ°è‡ªå·±åˆå…¥æ—¶å†™çš„ä»£ç ï¼Œä¸ä¹Ÿæ˜¯ä¸€ç§è·¨ä¸–çºªçš„å†…å¿ƒäº¤æµï¼ˆåŸæ¥è€å­å½“å¹´å†™çš„ä»£ç è¿™ä¹ˆä¸‘ï¼Œå“ˆå“ˆå“ˆå¼€ç©ç¬‘çš„ï¼Œå¤§ä½¬å§‹ç»ˆæ˜¯å¤§ä½¬ï¼‰</p>
<p>è¿˜æœ‰ä¸€ç‚¹å¯¹äºè¿˜æ²¡æœ‰è¿›å…¥å·¥ä½œçš„å°ä¼™ä¼´ä»¬ï¼Œå…¶å®Gitä¹Ÿæ˜¯ä¸€ä¸ªå­¦ä¹ ç¬”è®°ï¼Œæˆ‘ä»¬é€šè¿‡æäº¤ä»£ç æ¥è·å¾—æ¯æ—¥å°ç»¿å—ï¼Œåœ¨æˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„gitåœ°å€å†™åœ¨ç®€å†ä¸Šï¼Œä½ å‘é¢è¯•å®˜å±•ç¤ºè‡ªå·±æ¯æ—¥çš„å­¦ä¹ è¿›åº¦ï¼Œä»¥åŠè‡ªå·±å‚ä¸ç¼–å†™çš„é¡¹ç›®ï¼Œä¹Ÿè®¸é¢è¯•å®˜å°±çœ‹ä¸­äº†ä½ è¿™ä¸€ç‚¹å“¦</p>
<p><strong>Gitee/GitHub çš„æäº¤æ—¥å†é¢œè‰²ä»æµ…ç»¿åˆ°å¢¨ç»¿å…±5çº§ï¼Œåˆ†åˆ«å¯¹åº”ï¼š1-2æ¬¡ã€3-4æ¬¡ã€5-9æ¬¡ã€10-19æ¬¡ã€20+æ¬¡æäº¤ï¼Œç»¿è‰²è¶Šæ·±ä»£è¡¨å½“å¤©ç¼–ç è¶Šæ´»è·ƒã€‚</strong></p>
<ul>
<li>ğŸŸ« æ— é¢œè‰²ï¼šæ— æäº¤ï¼Œä¼‘æ¯æ—¥æˆ–æœªå¼€å‘</li>
<li>ğŸŸ© æµ…ç»¿è‰²ï¼šå°‘é‡å·¥ä½œï¼Œç»´æŠ¤æˆ–å°ä¿®æ”¹</li>
<li>ğŸŸ© ä¸­ç»¿è‰²ï¼šæ­£å¸¸å¼€å‘æ—¥ï¼Œç¨³å®šè¾“å‡º</li>
<li>ğŸŸ© æ·±ç»¿è‰²ï¼šé«˜å¼ºåº¦å¼€å‘ï¼ŒåŠŸèƒ½å®ç°æˆ–é‡æ„</li>
<li>ğŸŸ© å¢¨ç»¿è‰²ï¼šå†²åˆºé˜¶æ®µï¼Œå¤§é‡åŠŸèƒ½å¼€å‘æˆ–ä¿®å¤</li>
</ul>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ä»æœ€åŸºç¡€çš„åŠ¨ä½œå¼€å§‹ï¼Œä¸€æ­¥æ­¥æ­å¼€ Git çš„ç¥ç§˜é¢çº±ã€‚</p>
<hr/>
<h2 data-id="heading-2">ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒå®æˆ˜ â€”â€” ä» init åˆ°ç¬¬ä¸€ä¸ª commit</h2>
<h3 data-id="heading-3">1. ä¸€åˆ‡çš„å¼€å§‹ï¼š<code>git init</code></h3>
<p>å½“ä½ åœ¨ä¸€ä¸ªç©ºç›®å½•ä¸‹é”®å…¥Â <code>git init</code>Â å¹¶å›è½¦æ—¶ï¼Œä½ å¹¶ä¸æ˜¯åœ¨â€œå®‰è£…â€Gitï¼Œè€Œæ˜¯åœ¨<strong>åˆ›å»ºä¸€ä¸ªå®‡å®™</strong>ã€‚</p>
<p>bash</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> my_project &amp;&amp; <span class="hljs-built_in">cd</span> my_project
git init
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä½è°ƒåœ°ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºÂ <code>.git</code>Â çš„éšè—æ–‡ä»¶å¤¹ã€‚è¿™å°±æ˜¯ä½ æœ¬åœ°ä»“åº“çš„å…¨éƒ¨ã€‚æ‰€æœ‰ç‰ˆæœ¬å†å²ã€åˆ†æ”¯ä¿¡æ¯ã€é…ç½®éƒ½å­˜æ”¾åœ¨è¿™é‡Œã€‚åˆ é™¤å®ƒï¼Œä½ çš„é¡¹ç›®å°±â€œé€€ç‰ˆâ€å›æ™®é€šæ–‡ä»¶å¤¹äº†ã€‚</p>
<p>ğŸ”‘Â <strong>è€å¸æœºæé†’</strong>ï¼šä¸€ä¸ªé¡¹ç›®ï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªÂ <code>.git</code>Â æ–‡ä»¶å¤¹ï¼ˆå³ä¸€ä¸ª Git ä»“åº“ï¼‰ã€‚åƒä¸‡åˆ«åœ¨å­ç›®å½•é‡Œå† init ä¸€ä¸ªï¼Œå¦åˆ™ä½ ä¼šé™·å…¥å¤šä»“åº“ç®¡ç†çš„å™©æ¢¦ã€‚è¿™æ˜¯å›¢é˜Ÿåä½œçš„ç¬¬ä¸€æ¡é“å¾‹ã€‚</p>
<h3 data-id="heading-4">2. å®‰å…¨æ£€æŸ¥å‘˜ï¼š<code>git status</code>Â ğŸ‘®</h3>
<p>è¿™æ˜¯æˆ‘æœ€æ¨èå…»æˆè‚Œè‚‰è®°å¿†çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚åœ¨ä»»ä½•å¯èƒ½æ”¹å˜ä»“åº“çŠ¶æ€çš„æ“ä½œï¼ˆadd, commit, mergeï¼‰ä¹‹å‰ï¼Œéƒ½å…ˆÂ <code>git status</code>Â ä¸€ä¸‹ã€‚</p>
<p>bash</p>
<pre><code class="hljs language-lua" lang="lua">git <span class="hljs-built_in">status</span>
</code></pre>
<p>å®ƒä¼šæ¸…æ™°åœ°å‘Šè¯‰ä½ ï¼š</p>
<ul>
<li><strong>Untracked files</strong>ï¼šæ–°æ–‡ä»¶ï¼ŒGit è¿˜ä¸è®¤è¯†å®ƒä»¬ã€‚</li>
<li><strong>Changes not staged for commit</strong>ï¼šå·²è·Ÿè¸ªçš„æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æ”¾å…¥â€œå‡†å¤‡æäº¤åŒºâ€ã€‚</li>
<li><strong>Changes to be committed</strong>ï¼šæ–‡ä»¶å·²åœ¨â€œå‡†å¤‡æäº¤åŒºâ€ï¼Œä¸‹æ¬¡ commit å°±ä¼šè¢«è®°å½•ã€‚</li>
</ul>
<p>å‡å¦‚è‡ªå·±å½“å¤©å†™ä»£ç çš„çŠ¶æ€ä¸å¥½ï¼Œæˆ–è€…æ˜¯å–é†‰äº†é…’ï¼Œè¿˜è¿·è¿·ç³Šç³Šçš„æäº¤äº†ä¸Šå»ï¼Œç¬¬äºŒå¤©ä¸€çœ‹ï¼Œè¿™TMæ˜¯æˆ‘å†™çš„å—ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠå®ƒå½“æˆå¼€è½¦å‰çœ‹åè§†é•œï¼Œä¹ æƒ¯èƒ½é¿å…ç»å¤§å¤šæ•°â€œè¯¶ï¼Ÿæˆ‘æ–‡ä»¶å‘¢ï¼Ÿâ€ â€œç»„é•¿ä½ å¬æˆ‘è¯´ï¼Œè¿™çœŸä¸æ˜¯æˆ‘æäº¤çš„â€çš„æƒ¨æ¡ˆã€‚</p>
<h3 data-id="heading-5">3. æ ‡å‡†çš„æäº¤æµç¨‹ï¼š<code>add</code>Â &amp;Â <code>commit</code></h3>
<p>Git æäº¤åˆ†ä¸¤æ­¥ï¼Œè¿™è®¾è®¡éå¸¸ç²¾å¦™ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># ç¬¬ä¸€æ­¥ï¼šæŒ‘æ‹£ï¼ŒæŠŠæ–‡ä»¶æ”¾å…¥â€œæš‚å­˜åŒºâ€ï¼ˆStageï¼‰</span>
git <span class="hljs-keyword">add</span> readme.txt

<span class="hljs-meta"># ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…ï¼Œç”Ÿæˆä¸€ä¸ªæ°¸ä¹…çš„ç‰ˆæœ¬å¿«ç…§</span>
git commit -m <span class="hljs-string">'feat: æ–°å¢é¡¹ç›®READMEæ–‡æ¡£'</span>
</code></pre>
<ul>
<li><strong>git add</strong>ï¼šä¸æ˜¯â€œæ·»åŠ æ–‡ä»¶åˆ°ä»“åº“â€ï¼Œè€Œæ˜¯â€œæŠŠæ–‡ä»¶çš„å½“å‰å˜åŒ–æ”¾åˆ°æš‚å­˜åŒºâ€ã€‚å¦‚æœä½ æ— æ³•ç†è§£æš‚å­˜åŒºï¼Œè¿™æ ·è§£é‡Šä½ å¯èƒ½å°±æ‡‚äº†ï¼Œæ¯”å¦‚ä½ è¦å»æ—…æ¸¸ï¼Œä½ è¦å…ˆä¹˜åé«˜é“æˆ–é£æœºå†æŠµè¾¾ç›®çš„åœ°ï¼Œé‚£ä¹ˆé«˜é“ç«™æˆ–æœºåœºå°±æ˜¯æš‚å­˜åŒºã€‚ä½ å¯ä»¥åˆ†å¤šæ¬¡ addï¼Œç²¾å¿ƒç»„ç»‡ä¸€æ¬¡æäº¤çš„å†…å®¹ã€‚</li>
<li><strong>git commit -m</strong>ï¼šè¿™é‡Œçš„Â <code>-m</code>Â åé¢è·Ÿçš„æäº¤ä¿¡æ¯ï¼Œæ˜¯ç»™ä½ æœªæ¥çš„è‡ªå·±å’ŒåŒäº‹çœ‹çš„ã€‚è¯·åŠ¡å¿…éµå®ˆè§„èŒƒï¼ˆå¦‚Â <code>feat:</code>ã€<code>fix:</code>ã€<code>docs:</code>ï¼‰ï¼Œæ¸…æ™°æè¿°æœ¬æ¬¡æäº¤çš„ç›®çš„ï¼Œè€Œä¸æ˜¯ç»†èŠ‚ï¼ˆç»†èŠ‚çœ‹ä»£ç  diffï¼‰ï¼Œå½“ä½ æƒ³å›è¿‡å¤´æ¥çœ‹è‡ªå·±ä¹‹å‰å†™çš„ä»£ç ï¼Œ<code>-m</code>æˆ–è®¸èƒ½å¸®ä½ å¿«é€Ÿäº†è§£ä»£ç çš„å«ä¹‰ã€‚â€œupdateâ€ã€â€œfix bugâ€ è¿™ç§ä¿¡æ¯ï¼Œç­‰äºæ²¡è¯´ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ç¬¬äºŒéƒ¨åˆ†ï¼šé«˜å…‰åŸç† â€”â€” Hash IDï¼Œåˆ†å¸ƒå¼çš„åŸºçŸ³ âš™ï¸</h2>
<p>å¥½äº†ï¼Œç°åœ¨ä½ æˆåŠŸæäº¤äº†ã€‚çœ‹ä¸€çœ¼Â <code>git log</code>ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåƒÂ <code>a1b2c3d...</code>Â çš„ã€é•¿è¾¾40ä½çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿™å°±æ˜¯Â <strong>Commit IDï¼ˆæäº¤å“ˆå¸Œå€¼ï¼‰</strong> ã€‚</p>
<p>çµé­‚æ‹·é—®æ¥äº†ï¼š<strong>ä¸ºä»€ä¹ˆ Git ä¸ç”¨ç®€å•ç›´è§‚çš„è‡ªå¢æ•°å­— IDï¼Œæ¯”å¦‚ 1ï¼Œ2ï¼Œ3 å‘¢ï¼Ÿ</strong></p>
<p>è¿™å¯æ˜¯ Git åŒºåˆ«äºæ—©æœŸé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚ SVNï¼‰çš„æ ¸å¿ƒï¼æˆ‘ä»¬æ¥ä¸€åœºæ€æƒ³å®éªŒï¼š</p>
<p>å‡è®¾ä½ åœ¨åŒ—äº¬ï¼ŒåŒäº‹åœ¨ä¸Šæµ·ï¼Œä½ ä»¬å…‹éš†äº†åŒä¸€ä¸ªä»“åº“ï¼Œå„è‡ªåœ¨æœ¬åœ°å¼€å‘ã€‚</p>
<ul>
<li>å¦‚æœ Git ç”¨è‡ªå¢ IDï¼šä½ æœ¬åœ°æäº¤äº†ä¸¤æ¬¡ï¼Œå¾—åˆ° commit 1, 2ã€‚ä½ åŒäº‹ä¹Ÿæäº¤äº†ä¸¤æ¬¡ï¼Œåœ¨ä»–æœ¬åœ°ä¹Ÿç”Ÿæˆäº† commit 1, 2ã€‚</li>
<li>å½“ä½ ä»¬è¦åˆå¹¶ä»£ç æ—¶ï¼ŒGit ä¼šæƒŠæåœ°å‘ç°ï¼š <strong>â€œæˆ‘è¿™å·²ç»æœ‰ commit 1 å’Œ 2 äº†ï¼ä½ æ€ä¹ˆä¹Ÿæœ‰ 1 å’Œ 2ï¼Ÿä½ ä»¬è°æ˜¯çœŸçš„ï¼Ÿï¼â€</strong> Â ç³»ç»Ÿå½»åº•æ··ä¹±ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæŒ‘æˆ˜ï¼š<strong>å¦‚ä½•åœ¨å»ä¸­å¿ƒã€æ— ç½‘ç»œç»å¯¹åè°ƒçš„æƒ…å†µä¸‹ï¼Œä¿è¯æ¯ä¸ªå®ä½“çš„æ ‡è¯†å…¨å±€å”¯ä¸€ï¼Ÿ</strong></p>
<p>Git çš„ç­”æ¡ˆå°±æ˜¯ï¼šä½¿ç”¨åŸºäºæ–‡ä»¶å†…å®¹ã€çˆ¶æäº¤ IDã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯è®¡ç®—å‡ºçš„Â <strong>SHA-1 Hash å€¼</strong>ä½œä¸º Commit IDã€‚</p>
<p>å®ƒçš„ç²¾å¦™ä¹‹å¤„åœ¨äºï¼š</p>
<ol>
<li><strong>å”¯ä¸€æ€§</strong>ï¼šåªè¦æäº¤å†…å®¹ï¼ˆæ–‡ä»¶å¿«ç…§ã€ä½œè€…ã€æ—¶é—´ã€çˆ¶æäº¤ï¼‰æœ‰å“ªæ€•ä¸€æ¯”ç‰¹çš„ä¸åŒï¼Œäº§ç”Ÿçš„ Hash å€¼å°±å¤©å·®åœ°åˆ«ï¼Œåœ¨å…¨çƒä»»ä½•æœºå™¨ä¸Šéƒ½å‡ ä¹ä¸å¯èƒ½å†²çªã€‚</li>
<li><strong>è‡ªæ ¡éªŒ</strong>ï¼šè¿™ä¸ª ID åŒæ—¶æ˜¯æäº¤æ•°æ®çš„â€œæŒ‡çº¹â€ã€‚ä»»ä½•äººç¯¡æ”¹äº†å†å²ä¸Šçš„æŸä¸ªæ–‡ä»¶ï¼Œå…¶ Hash å€¼å°±ä¼šå·¨å˜ï¼Œæ•´ä¸ªå†å²é“¾å°±æ–­è£‚äº†ï¼Œç¯¡æ”¹ä¼šè¢«ç«‹åˆ»å‘ç°ã€‚</li>
<li><strong>å»ä¸­å¿ƒåŒ–</strong>ï¼šä½ å¯ä»¥åœ¨é£æœºä¸Šã€åœ¨æ·±å±±è€æ—é‡Œï¼Œæ²¡æœ‰ç½‘ä¹Ÿèƒ½ä¸æ–­äº§ç”Ÿæ–°çš„ã€å”¯ä¸€çš„ Commit IDï¼Œå¹¶è‡ªä¿¡å®ƒä»¬å°†æ¥ä¸€å®šèƒ½ä¸åˆ«äººçš„æäº¤å’Œå¹³å…±å¤„ã€‚</li>
</ol>
<p><strong>æ‰€ä»¥ï¼Œæ¯ä¸€æ¬¡Â <code>git commit</code>ï¼Œä½ ä¸ä»…ä»…æ˜¯åœ¨ä¿å­˜ä»£ç ï¼Œä½ æ˜¯åœ¨æœ¬åœ°ç‹¬ç«‹åœ°ã€ä¸å¯ç¯¡æ”¹åœ°æ‰©å±•ä¸€æ¡åŸºäºå¯†ç å­¦ä¿è¯çš„ã€å…¨çƒå”¯ä¸€çš„ç‰ˆæœ¬é“¾ã€‚è¿™å°±æ˜¯ Git åˆ†å¸ƒå¼å¨åŠ›çš„æ¥æºã€‚</strong></p>
<hr/>
<h2 data-id="heading-7">ç¬¬ä¸‰éƒ¨åˆ†ï¼šé¿å‘æŒ‡å— â€”â€” ç”¨å¥½ä½ çš„â€œåæ‚”è¯â€ğŸ’Š</h2>
<p>äººéåœ£è´¤ï¼Œå­°èƒ½æ— è¿‡ï¼Ÿå†™é”™äº†ä»£ç ï¼Œè¯¯åˆ äº†æ–‡ä»¶æ€ä¹ˆåŠï¼ŸGit ç»™ä½ å‡†å¤‡äº†â€œåæ‚”è¯â€ã€‚</p>
<h3 data-id="heading-8">ç¥å…µåˆ©å™¨ï¼š<code>git checkout -- file</code></h3>
<p>å½“ä½ å·¥ä½œåŒºï¼ˆå°±æ˜¯ä½ èƒ½ç›´æ¥çœ‹åˆ°çš„æ–‡ä»¶ï¼‰çš„ä¿®æ”¹ä¸€å›¢ç³Ÿï¼Œæƒ³ä¸€é”®è¿˜åŸåˆ°æœ€è¿‘ä¸€æ¬¡ commit æˆ– add æ—¶çš„çŠ¶æ€æ—¶ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ”¾å¼ƒ readme.txt åœ¨å·¥ä½œåŒºçš„æ‰€æœ‰ä¿®æ”¹</span>
git checkout -- readme.txt
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤å¾ˆå±é™©ï¼Œä¹Ÿå¾ˆå¼ºå¤§ï¼š</p>
<ul>
<li>å¦‚æœæ–‡ä»¶ä¿®æ”¹åè¿˜æ²¡Â <code>git add</code>ï¼Œå®ƒä¼šè¿˜åŸåˆ°ç‰ˆæœ¬åº“é‡Œçš„æ ·å­ã€‚</li>
<li>å¦‚æœå·²ç»Â <code>git add</code>Â åˆ°äº†æš‚å­˜åŒºï¼Œå®ƒä¼šè¿˜åŸåˆ°æš‚å­˜åŒºé‡Œçš„æ ·å­ï¼ˆä¹Ÿå°±æ˜¯ä½ åˆš add å®Œçš„çŠ¶æ€ï¼‰ã€‚</li>
</ul>
<p>âš ï¸Â <strong>æ³¨æ„</strong>ï¼š<code>git checkout --</code>Â æ˜¯å½»åº•ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼Œæ— æ³•æ¢å¤ï¼ç”¨ä¹‹å‰æœ€å¥½å…ˆç”¨Â <code>git status</code>Â å’ŒÂ <code>git diff</code>Â ç¡®è®¤æ˜¯ä¸æ˜¯çœŸçš„è¦ä¸¢ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªé’ˆå¯¹å•ä¸ªæ–‡ä»¶çš„ã€æŒ‡å‘æœ€è¿‘ä¸€æ¬¡ä¿å­˜ç‚¹çš„æ—¶å…‰æœºã€‚å›¢é˜Ÿåä½œæ—¶ï¼Œåœ¨æ‹‰å–æ–°ä»£ç å‰ï¼Œå¦‚æœæœ¬åœ°æœ‰å‡Œä¹±çš„ã€ä¸æƒ³æäº¤çš„ä¿®æ”¹ï¼Œç”¨è¿™ä¸ªå‘½ä»¤æ¸…ç†å·¥ä½œåŒºï¼Œæ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p>
<p>ï¼ˆæ³¨ï¼šåœ¨è¾ƒæ–°ç‰ˆæœ¬çš„ Git ä¸­ï¼Œå¯¹æ–‡ä»¶æ¢å¤æ›´æ¨èä½¿ç”¨Â <code>git restore</code>Â å‘½ä»¤ï¼Œè¯­ä¹‰æ›´æ¸…æ™°ï¼Œä½†Â <code>git checkout --</code>Â ä¾ç„¶è¢«å¹¿æ³›æ”¯æŒå’Œä½¿ç”¨ã€‚ï¼‰</p>
<hr/>
<h2 data-id="heading-9">ç¬¬å››éƒ¨åˆ†ï¼šè¶…è¶Šå·¥å…· â€”â€” Git å¦‚ä½•å¡‘é€ ä½ çš„å·¥ç¨‹æ€ç»´</h2>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»èµ°å®Œäº† Git çš„åŸºæœ¬æ—…ç¨‹ã€‚ä½†æˆ‘æƒ³å’Œä½ èŠèŠæ›´æ·±å±‚çš„ä¸œè¥¿ï¼š<strong>Git å¦‚ä½•æ½œç§»é»˜åŒ–åœ°å¡‘é€ ä¼˜ç§€çš„å·¥ç¨‹æ€ç»´ï¼Ÿ</strong></p>
<h3 data-id="heading-10">1.Â <strong>ç‰ˆæœ¬æ„è¯†ï¼šä½ çš„æ¯ä¸€æ¬¡æäº¤éƒ½æ˜¯æ·±æ€ç†Ÿè™‘</strong></h3>
<p>Git çš„åŸå­æäº¤ï¼ˆAtomic Commitï¼‰ç†å¿µï¼Œè¿«ä½¿ä½ æ€è€ƒï¼šè¿™æ¬¡æ”¹åŠ¨çš„è¾¹ç•Œåœ¨å“ªé‡Œï¼Ÿä¸€ä¸ªæäº¤åº”è¯¥åªåšä¸€ä»¶äº‹ã€‚è¿™ç§æ€ç»´è¿ç§»åˆ°å·¥ä½œä¸­ï¼Œå°±æ˜¯â€œå•ä¸€èŒè´£â€ã€â€œå…³æ³¨ç‚¹åˆ†ç¦»â€çš„æ¶æ„æ€æƒ³ã€‚</p>
<h3 data-id="heading-11">2.Â <strong>åˆ†æ”¯æ€ç»´ï¼šå¹¶è¡Œå¤„ç†å¤æ‚é—®é¢˜çš„èƒ½åŠ›</strong></h3>
<p>Git çš„åˆ†æ”¯ä¸ä»…ä»…æ˜¯æŠ€æœ¯æ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ–¹æ³•è®ºã€‚é¢å¯¹å¤æ‚ä»»åŠ¡æ—¶ï¼Œä½ ä¼šè‡ªç„¶åœ°æƒ³ï¼šâ€œæˆ‘å¯ä»¥å¼€ä¸ªåˆ†æ”¯ä¸“é—¨å¤„ç†è¿™ä¸ªæ¨¡å—ï¼Œä¸å½±å“ä¸»çº¿ã€‚â€è¿™ç§å¹¶è¡Œå¤„ç†å¤æ‚ç³»ç»Ÿçš„èƒ½åŠ›ï¼Œæ˜¯é«˜çº§å·¥ç¨‹å¸ˆçš„æ ¸å¿ƒç´ å…»ã€‚</p>
<h3 data-id="heading-12">3.Â <strong>å›æ»šè‡ªä¿¡ï¼šå¤§èƒ†åˆ›æ–°çš„åº•æ°”</strong></h3>
<p>å½“ä½ æŒæ¡äº†ç‰ˆæœ¬å›é€€ã€åˆ†æ”¯ç®¡ç†ã€stash æš‚å­˜ç­‰â€œåæ‚”è¯â€åï¼Œä½ åœ¨ä»£ç é¢å‰ä¼šå˜å¾—æ— æ¯”å‹‡æ•¢ã€‚æ•¢ä¸æ•¢é‡æ„é‚£ä¸ªç¥–ä¼ å±å±±ä»£ç ï¼Ÿæ•¢ä¸æ•¢å°è¯•ä¸€ä¸ªé¢ è¦†æ€§çš„è®¾è®¡ï¼Ÿæœ‰ Git å…œåº•ï¼Œä½ å°±æœ‰åº•æ°”è¯´â€œè¯•è¯•çœ‹ï¼Œä¸è¡Œå°±å›é€€â€ã€‚</p>
<h3 data-id="heading-13">4.Â <strong>åä½œè¯­è¨€ï¼šæ¸…æ™°è¡¨è¾¾ä½ çš„å·¥ä½œ</strong></h3>
<p>Commit message è§„èŒƒã€Pull Request æè¿°ã€Code Review æµç¨‹â€”â€”è¿™äº› Git ç”Ÿæ€çš„äº§ç‰©ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€å¥—æ ‡å‡†åŒ–çš„æ²Ÿé€šè¯­è¨€ã€‚æŒæ¡å®ƒä»¬ï¼Œä½ å°±èƒ½åœ¨å¼€æºç¤¾åŒºã€å¤§å‚å›¢é˜Ÿä¸­æ— ç¼åä½œï¼Œæˆä¸ºçœŸæ­£çš„â€œå›¢é˜Ÿåˆä½œè€…â€ã€‚</p>
<h3 data-id="heading-14">5.Â <strong>æ—¶é—´æ—…è¡Œï¼šç³»ç»Ÿæ€§è°ƒè¯•çš„èƒ½åŠ›</strong></h3>
<p>å½“çº¿ä¸Šå‡ºé—®é¢˜æ—¶ï¼Œä¼šç”¨Â <code>git bisect</code>Â å¿«é€Ÿå®šä½é—®é¢˜æäº¤ï¼›å½“éœ€è¦è¿½æº¯æŸä¸ªåŠŸèƒ½çš„æ¼”è¿›å†å²æ—¶ï¼Œèƒ½ç†Ÿç»ƒä½¿ç”¨Â <code>git log --grep</code>Â å’ŒÂ <code>git blame</code>â€”â€”è¿™äº›èƒ½åŠ›è®©ä½ æˆä¸ºä¸€ä¸ªèƒ½è§£å†³å¤æ‚é—®é¢˜çš„å·¥ç¨‹å¸ˆï¼Œè€Œä¸ä»…ä»…æ˜¯å†™ä»£ç çš„å¼€å‘è€…ã€‚</p>
<hr/>
<h2 data-id="heading-15">æ€»ç»“ï¼šGit ä¹‹é“ï¼Œåœ¨äºç†è§£â€œå¿«ç…§â€ä¸â€œåˆ†å¸ƒå¼â€</h2>
<p>è®©æˆ‘ä»¬å›åˆ°èµ·ç‚¹ï¼Œæ€»ç»“ä¸€ä¸‹ Git çš„ç²¾é«“ï¼š</p>
<ol>
<li><strong>ä»“åº“å”¯ä¸€</strong>ï¼šä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªÂ <code>.git</code>ï¼Œè¿™æ˜¯ç§©åºçš„èµ·ç‚¹ã€‚</li>
<li><strong>çŠ¶æ€å…ˆè¡Œ</strong>ï¼š<code>git status</code>Â æ˜¯ä½ æœ€å¥½çš„ä¼™ä¼´ï¼Œè®©ä¸€åˆ‡æ“ä½œåœ¨æŒæ§ä¹‹ä¸­ã€‚</li>
<li><strong>æäº¤å³å¿«ç…§</strong>ï¼šæ¯ä¸€æ¬¡Â <code>commit</code>ï¼Œéƒ½æ˜¯è®°å½•æ•´ä¸ªé¡¹ç›®çš„ç¬é—´çŠ¶æ€ï¼Œå¹¶ç”¨ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ Hash ID å°å°ã€‚è¿™ä¸²â€œä¹±ç â€ï¼Œæ˜¯æ•°ä¸‡å¼€å‘è€…èƒ½å¹¶è¡Œå·¥ä½œçš„ä¿¡ä»»åŸºçŸ³ã€‚</li>
<li><strong>æ“ä½œå¯é€†</strong>ï¼šåˆ©ç”¨å¥½Â <code>checkout</code>ï¼ˆæˆ–Â <code>restore</code>ï¼‰ç­‰å‘½ä»¤ï¼Œå¤§èƒ†å°è¯•ï¼Œä½ æœ‰å……è¶³çš„åæ‚”ç©ºé—´ã€‚</li>
<li><strong>æ€ç»´è¿›åŒ–</strong>ï¼šGit ä¸ä»…ç®¡ç†ä»£ç ï¼Œæ›´åœ¨è®­ç»ƒä½ çš„å·¥ç¨‹æ€ç»´â€”â€”ç»“æ„åŒ–ã€æ¨¡å—åŒ–ã€åä½œåŒ–çš„æ€ç»´æ–¹å¼ã€‚</li>
</ol>
<p><strong>Git ä¸ä»…ä»…æ˜¯ä¸€ç»„å‘½ä»¤ï¼Œå®ƒæ˜¯ä¸€å¥—ä¸ºåˆ†å¸ƒå¼åä½œè€Œç”Ÿçš„å“²å­¦ã€‚ç†è§£å®ƒèƒŒåçš„â€œä¸ºä»€ä¹ˆâ€ï¼Œä½ å°±èƒ½çœŸæ­£é©¾é©­å®ƒï¼Œè€Œä¸æ˜¯è¢«å®ƒç‰µç€é¼»å­èµ°ã€‚</strong></p>
<p>ç°åœ¨ï¼Œå½“ä½ å†æ¬¡æ•²ä¸‹Â <code>git commit</code>Â æ—¶ï¼Œçœ‹ç€é‚£ä¸²ä¼˜ç¾çš„ Hash å€¼ï¼Œæˆ‘æƒ³ä½ ä¼šæ„Ÿå—åˆ°ä¸€ç§å·¥ç¨‹å¸ˆçš„æµªæ¼«â€”â€”ä½ æ­£åœ¨å‚ä¸ä¸€é¡¹å…¨çƒæ€§çš„åä½œå¥‡è¿¹ï¼Œä½ çš„æ¯ä¸€è¡Œä»£ç éƒ½åœ¨è¿™ä¸ªå»ä¸­å¿ƒåŒ–çš„ä¸–ç•Œé‡Œï¼Œæ‹¥æœ‰è‡ªå·±ç‹¬ä¸€æ— äºŒçš„ä½ç½®ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡ç¬”è®°èƒ½å¸®ä½ æ‹¨å¼€è¿·é›¾ï¼Œä¸ä»…åœ¨æŠ€æœ¯ä¸Šï¼Œæ›´åœ¨æ€ç»´ä¸Šï¼Œæˆä¸ºæ›´å¥½çš„å·¥ç¨‹å¸ˆã€‚</p>
<p><strong>èµ°äº†å¾ˆè¿œï¼Œè¿˜æœ‰å¤šè¿œï¼Œèƒ½èµ°å¤šè¿œï¼Œç®¡ä»–å¤šè¿œ</strong></p>
<p><strong>Happy Coding &amp; Git-ingï¼ğŸš€</strong></p>
<p><strong>NEXT06</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å¯†Promptç³»åˆ—67. æ™ºèƒ½ä½“çš„ç»æµå­¦ï¼šä»æ¶æ„é€‰å‹åˆ°å·¥å…·é¢„ç®—]]></title>    <link>https://juejin.cn/post/7589567313168089123</link>    <guid>https://juejin.cn/post/7589567313168089123</guid>    <pubDate>2025-12-31T02:54:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589567313168089123" data-draft-id="7589553045157806120" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å¯†Promptç³»åˆ—67. æ™ºèƒ½ä½“çš„ç»æµå­¦ï¼šä»æ¶æ„é€‰å‹åˆ°å·¥å…·é¢„ç®—"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM"/> <meta itemprop="datePublished" content="2025-12-31T02:54:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£é›¨ä¸­çš„å°ä¸ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/3060648218472728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å¯†Promptç³»åˆ—67. æ™ºèƒ½ä½“çš„ç»æµå­¦ï¼šä»æ¶æ„é€‰å‹åˆ°å·¥å…·é¢„ç®—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3060648218472728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£é›¨ä¸­çš„å°ä¸ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:54:47.000Z" title="Wed Dec 31 2025 02:54:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¼è¯»ï¼š2025å¹´æ˜¯æ™ºèƒ½ä½“çˆ†å‘çš„ä¸€å¹´ã€‚ç„¶è€Œï¼Œéšç€æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œå·¥ä¸šç•Œå¼€å§‹åæ€ï¼šç›²ç›®å¢åŠ æ™ºèƒ½ä½“ã€ç›²ç›®å¢åŠ å·¥å…·è°ƒç”¨æ¬¡æ•°çœŸçš„èƒ½â€œå¤§åŠ›å‡ºå¥‡è¿¹â€å—ï¼Ÿæœ¬æ–‡ä¸²è”ä¸¤ç¯‡Googleè®ºæ–‡ï¼Œä»å®è§‚çš„æ¶æ„é€‰æ‹©åˆ°å¾®è§‚å·¥å…·é¢„ç®—æ„ŸçŸ¥ï¼Œæ¢è®¨å¦‚ä½•ç§‘å­¦æ„å»ºAgentç³»ç»Ÿã€‚</p>
<h2 data-id="heading-0">Part 1. å®è§‚é€‰å‹ï¼šå¤šæ™ºèƒ½ä½“çš„ç§‘å­¦å®šå¾‹</h2>
<blockquote>
<ul>
<li>Towards a Science of Scaling Agent Systems</li>
</ul>
</blockquote>
<p>æœ€è¿‘åœ¨å¾ˆå¤šåˆ†äº«äº¤æµä¸Šå¯¹äºç©¶ç«Ÿä½¿ç”¨å•æ™ºèƒ½ä½“vså¤šæ™ºèƒ½ä½“æœ‰å¾ˆå¤šä¸åŒçš„å£°éŸ³ã€‚24å¹´å…¶å®ä»¥å¤šæ™ºèƒ½ä½“æ¶æ„ä¸ºä¸»ï¼Œä½†æ˜¯éšç€æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œä¸å°‘è®ºæ–‡å‘ç°ï¼Œå¤šæ™ºèƒ½ä½“å¸¦æ¥çš„è¾¹é™…æ”¶ç›Šåœ¨é€’å‡ï¼ŒåŒæ—¶å¤šæ™ºèƒ½ä½“ä¹‹é—´çš„æ²Ÿé€šæˆæœ¬å’Œä¿¡æ¯ç¢ç‰‡åŒ–ï¼Œå¯¼è‡´åœ¨éƒ¨åˆ†ä»»åŠ¡ä¸Šç”šè‡³ä¸å¦‚å•æ™ºèƒ½ä½“çš„æ•ˆæœã€‚</p>
<p>è€ŒGoogleè¿™ç¯‡è®ºæ–‡æ²¡æœ‰åœç•™åœ¨ç†è®ºäº‰è¾©ï¼Œè€Œæ˜¯é€šè¿‡ä¸¥è°¨çš„æ§åˆ¶å˜é‡å®éªŒï¼Œæ­ç¤ºäº†æ¶æ„é€‰æ‹©ä¸ä»»åŠ¡ç‰¹å¾ä¹‹é—´çš„æ·±å±‚æ•°å­¦å…³ç³»ã€‚è®ºæ–‡è¯•å›¾å›ç­”ï¼š</p>
<ul>
<li>å½±å“æ™ºèƒ½ä½“ç³»ç»Ÿè¡¨ç°çš„å†³å®šæ€§å˜é‡æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>æ™ºèƒ½ä½“é—´çš„â€œæ²Ÿé€šâ€ä½•æ—¶æ˜¯èœœç³–ï¼Œä½•æ—¶æ˜¯ç ’éœœï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé€šç”¨çš„â€œæœ€ä¼˜æ¶æ„â€ï¼Ÿ</li>
</ul>
<h3 data-id="heading-1">å®éªŒè®¾è®¡ï¼šè§£è€¦ä¸æ§åˆ¶</h3>
<p>ä¸ºäº†å¾—å‡ºä¸Šè¿°ç»“è®ºï¼Œä½œè€…è®¾è®¡äº†ä¸€ä¸ªéå¸¸ä¸¥è°¨çš„æ§åˆ¶å˜é‡å®éªŒã€‚ä»¥ä¸‹æ˜¯å…¶å…·ä½“çš„å®éªŒæ­¥éª¤ï¼š
<strong>æ­¥éª¤ä¸€ï¼šæ˜ç¡®çš„Agenticä»»åŠ¡èŒƒå›´</strong></p>
<p>è®ºæ–‡æ˜ç¡®å‰”é™¤äº†æ‰€æœ‰éæ™ºèƒ½ä½“ä»»åŠ¡ï¼Œæ¯•ç«Ÿå¤šæ™ºèƒ½ä½“éšå¼å¸¦æ¥çš„Ensenbleç­‰æ¨ç†æ•ˆæœå¾ˆå®¹æ˜“åœ¨HumanEvalç­‰ä»»åŠ¡ä¸Šå¸¦æ¥æå‡ã€‚è¿™é‡Œæ™ºèƒ½ä½“ä»»åŠ¡åŒ…å«ä¸‰ä¸ªç‰¹ç‚¹</p>
<ul>
<li>å¤šæ­¥å’Œç¯å¢ƒäº¤äº’</li>
<li>åŸºäºéƒ¨åˆ†è§‚æµ‹çš„åå¤ä¿¡æ¯æ”¶é›†</li>
<li>åŸºäºåé¦ˆçš„ç­–ç•¥ä¼˜åŒ–</li>
</ul>
<p>ç¼ºå°‘ä»¥ä¸Šæ¡ä»¶çš„ä»»åŠ¡ï¼Œå…¶å®éƒ½æ˜¯åœ¨æµ‹è¯•æ¨¡å‹è‡ªèº«çš„æ¨ç†èƒ½åŠ›ï¼Œè€Œéæ™ºèƒ½ä½“åœ¨<strong>åŠ¨æ€éç¡®å®šç¯å¢ƒæ€§ä¸‹</strong>å·¥å…·è°ƒç”¨å’Œå¤šæ­¥åŠ¨æ€è§„åˆ’èƒ½åŠ›ã€‚åŸºäºä»¥ä¸Šæ¡ä»¶è®ºæ–‡é€‰æ‹©äº†ä¸‹é¢å››ä¸ªæµ‹è¯•å®éªŒ</p>
<ul>
<li><strong>Finance-Agent</strong>: é«˜å¯åˆ†è§£æ€§ï¼Œéœ€å¤šè§†è§’æ•°æ®èšåˆã€‚</li>
<li><strong>BrowseComp-Plus</strong>: åŠ¨æ€ç½‘é¡µæµè§ˆï¼Œå…·æœ‰é«˜ç†µæœç´¢ç©ºé—´ ã€‚</li>
<li><strong>PlanCraft</strong>: åŸºäºã€Šæˆ‘çš„ä¸–ç•Œã€‹GUIç•Œé¢çš„åˆæˆæ•°æ®é›†ï¼ŒåŒ…å«æ—¶ç©ºæ•°æ®çš„è§„åˆ’ä»»åŠ¡ï¼Œå…·æœ‰ä¸¥æ ¼çš„åºåˆ—ä¾èµ–æ€§ã€‚</li>
<li><strong>Workbench</strong>: è¯„ä¼°ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–ï¼Œæ¶‰åŠç¡®å®šçš„ä»£ç æ‰§è¡Œå’Œå·¥å…·ä½¿ç”¨ï¼Œä¾‹å¦‚å‘é‚®ä»¶ã€å®‰æ’ä¼šè®®ã€‚</li>
</ul>
<p><strong>æ­¥éª¤äºŒï¼šæ¢³ç†æ™ºèƒ½ä½“æ¶æ„åˆ†ç±»</strong>
ä¸ºäº†è§£è€¦â€œå¤šæ™ºèƒ½ä½“â€è¿™ä¸ªæ¦‚å¿µï¼Œä½œè€…å°†å…¶æ‹†è§£ä¸º 5 ç§æ ‡å‡†æ¶æ„è¿›è¡Œå¯¹æ¯”ï¼š</p>
<ul>
<li>SASï¼šå•æ™ºèƒ½ä½“æ¶æ„</li>
<li>MASï¼šå¤šæ™ºèƒ½ä½“æ¶æ„ï¼Œè®ºæ–‡æŒ‰ç…§ä¿¡æ¯æµåŠ¨æ–¹å¼å’Œç»“æ„åˆ†æˆä»¥ä¸‹å‡ ç±»
<ul>
<li>Independentï¼šæ‰€æœ‰æ™ºèƒ½ä½“ä¹‹é—´æ²¡æœ‰æ²Ÿé€šï¼Œå„å¹²å„ä¸ªçš„ï¼Œç­‰åŒäºEnsembleæ¨¡å‹</li>
<li>Centralizedï¼šä¸­å¿ƒåŒ–æ¨¡å¼ï¼ŒCluadeç§°ä¹‹ä¸ºOrchestratorï¼Œä¸»æ™ºèƒ½ä½“è´Ÿè´£è§„åˆ’åˆ†å‘ä»»åŠ¡ç»™å­æ™ºèƒ½ä½“å¹¶æ±‡æ€»ä¿¡æ¯ï¼Œæ•´ä¸ªä¿¡æ¯æµåŠ¨ä¸­å­˜åœ¨ä¸»å¯¼è€…å’Œä¿¡æ¯ç“¶é¢ˆã€‚</li>
<li>DeCentralizedï¼šå»ä¸­å¿ƒåŒ–ï¼Œæ‰€æœ‰æ™ºèƒ½ä½“All to Allé€šä¿¡ï¼Œè®ºæ–‡ä½¿ç”¨çš„æ˜¯è¾©è®ºæ¨¡å¼ï¼Œå…¶å®ä¹Ÿæœ‰ä¹Ÿæœ‰åƒåœ†æ¡Œè®¨è®ºã€å¤šè§’è‰²è®¨è®ºç­‰å…¶ä»–æ¨¡å¼ï¼Œåªä¸è¿‡æ˜¯æ™ºèƒ½ä½“çš„è§’è‰²å’Œæ‰€ç«™è®ºç‚¹çš„å·®å¼‚ã€‚</li>
<li>Hybridï¼šå…¼é¡¾ä¸­å¿ƒè§„åˆ’å’Œå­æ™ºèƒ½ä½“çš„æ¨ªå‘æ²Ÿé€šçš„æ··åˆæ¨¡å¼</li>
</ul>
</li>
</ul>
<p>æ›´å…·ä½“çš„ä¸åŒæ™ºèƒ½ä½“æ¶æ„çš„äº¤äº’æ·±åº¦ã€æ²Ÿé€šå¤æ‚åº¦å¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f02294bb231f47c78d6d0ddebc2f8450~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=ikIywhodGPWWH%2BbYsiLmbZfgg3Q%3D" alt="image" loading="lazy"/></p>
<p><strong>æ­¥éª¤ä¸‰ï¼šå˜é‡æ§åˆ¶</strong>
æ‰€æœ‰æ¶æ„ä½¿ç”¨å®Œå…¨ç›¸åŒçš„å·¥å…·ã€æŒ‡ä»¤å’Œä»»åŠ¡æè¿°ï¼Œå’Œç›¸åŒçš„æ€»æ¨ç†Tokené¢„ç®—ã€‚æ‰€ä»¥ä¼šå­˜åœ¨MASä¸‹å­æ™ºèƒ½ä½“è¶Šå¤šï¼Œé‚£æ¯ä¸ªå­æ™ºèƒ½ä½“åˆ†é…åˆ°çš„è½®æ¬¡å°±æ›´å°‘ã€‚</p>
<h3 data-id="heading-2">å®éªŒç»“è®ºå’Œåˆ†æ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d50075217d1f4b679d54617c7062e240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=b%2BY6PlGX1qQh%2FThInnUkkucpKJ0%3D" alt="image" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ˜¯ä¸åŒæ™ºèƒ½ä½“ç»“æ„åœ¨ä¸åŒä»»åŠ¡ä¸Šçš„å®éªŒæ•ˆæœï¼Œå®éªŒç»“æœå¹¶æœªç»™å‡ºä¸€ä¸ªâ€œä¸‡èƒ½æ¶æ„â€ï¼Œåè€Œæ­ç¤ºäº†**ä¿¡æ¯æµç»“æ„ï¼ˆInformation Flow Structureï¼‰**æ‰æ˜¯å†³å®šæ¶æ„ä¼˜åŠ£çš„æ ¹æœ¬ã€‚</p>
<h4 data-id="heading-3"><strong>å¤šæ™ºèƒ½ä½“æ”¶ç›Šé«˜åº¦ä¾èµ–ä»»åŠ¡ç»“æ„ï¼Œä¸å­˜åœ¨æ°¸è¿œæœ€ä¼˜çš„æ™ºèƒ½ä½“æ¶æ„</strong></h4>
<ul>
<li><strong>æ­£æ”¶ç›Š</strong>ï¼š åœ¨å¯åˆ†è§£ã€å¹¶è¡Œçš„ä»»åŠ¡ä¸Šï¼Œä¾‹å¦‚éœ€è¦å¤šè§’åº¦ä¿¡æ¯æ”¶é›†çš„Finance Agentä»»åŠ¡ä¸Šï¼ŒMAS è¡¨ç°å‡ºè‰²ï¼Œä¸­å¿ƒåŒ–æ¶æ„ï¼ˆCentralizedï¼‰æ¯”å•ä½“ï¼ˆSASï¼‰æå‡äº† 80.9% ã€‚</li>
<li><strong>å¾®æ”¶ç›Š</strong>ï¼š åœ¨åŠ¨æ€æœç´¢ä»»åŠ¡ï¼ˆBrowseComp-Plusï¼‰ä¸Šï¼Œå»ä¸­å¿ƒåŒ–æ¶æ„ä»…å¸¦æ¥ 9.2% çš„æå‡ ã€‚</li>
<li><strong>è´Ÿæ”¶ç›Š</strong>ï¼š åœ¨å¼ºåºåˆ—ä¾èµ–çš„è§„åˆ’ä»»åŠ¡ï¼ˆPlanCraftï¼‰ä¸Šï¼Œæ‰€æœ‰ MAS æ¶æ„éƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œé™å¹…åœ¨ 39% åˆ° 70% ä¹‹é—´ ã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>ä¸ºä»€ä¹ˆå¤šæ™ºèƒ½ä½“åœ¨åºåˆ—ä»»åŠ¡é‡å¤±æ•ˆï¼Ÿ</strong></h4>
<p>ä½œä¸ºç®—æ³•å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬éœ€è¦é€è¿‡ç°è±¡çœ‹æœ¬è´¨ï¼š<strong>è¿™æ˜¯Context Fragmentationï¼ˆä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–ï¼‰å¸¦æ¥çš„å¿…ç„¶ç»“æœã€‚</strong></p>
<ol>
<li><strong>é«˜å¯åˆ†è§£æ€§ä»»åŠ¡</strong>ï¼šç±»æ¯”Finance Agentï¼Œä»¥åŠå•æ®µè½çš„å¤§çº²å†™ä½œç­‰ä»»åŠ¡</li>
</ol>
<p>è¿™ç±»ä»»åŠ¡çš„ä¿¡æ¯æµç‰¹å¾æ˜¯<strong>æ­£äº¤ä¸”ç‹¬ç«‹</strong>ï¼Œæ‰€ä»¥
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>t</mi><mi>a</mi><mi>s</mi><mi>k</mi><mn>2</mn><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>k</mi><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ¼</mo><mi>P</mi><mo stretchy="false">(</mo><mi>t</mi><mi>a</mi><mi>s</mi><mi>k</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(task2|task1)\sim P(task2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">2âˆ£</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span>ï¼Œä¹Ÿæ„å‘³ç€å­æ™ºèƒ½ä½“ä¹‹å‰å‡ ä¹æ— éœ€æ²Ÿé€šäº¤æµæˆ–è€…çŠ¶æ€åŒæ­¥ï¼Œå› æ­¤ä¸­å¿ƒåŒ–ç»“æ„èƒ½å¸¦æ¥å¹¶å‘æ•ˆç‡æå‡ï¼Œä»¥åŠè¦†ç›–æ›´å¹¿çš„æœç´¢ç©ºé—´ã€‚</p>
<ol start="2">
<li><strong>å¼ºåºåˆ—ä¾èµ–ä»»åŠ¡</strong>ï¼šç±»æ¯”PlanCraftï¼Œä»¥åŠCodingç­‰ä»»åŠ¡</li>
</ol>
<p>è¿™ç±»ä»»åŠ¡çš„ä¿¡æ¯æµç‰¹å¾æ˜¯<strong>é©¬å°”ç§‘å¤«æˆ–è€…æ›´é•¿ç¨‹çš„åºåˆ—ä¾èµ–</strong>ï¼Œæ‰€ä»¥<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><msub><mi>e</mi><mn>2</mn></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><msub><mi>e</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>A</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><msub><mi>n</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">State_2=f(State_1, Action_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">A</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œæ„å‘³ç€æ¯ä¸ªæ™ºèƒ½ä½“éƒ½è¦èƒ½è·å–å‰é¢æ™ºèƒ½ä½“ä»»åŠ¡æ‰§è¡Œçš„å…¨éƒ¨è¾“å‡ºä»¥åŠéšå«å‡è®¾ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚<strong>ä¾èµ–å…¨é¢å®Œæ•´çš„ä¿¡æ¯ä¼ é€’å’Œå¤§é‡çš„ä¿¡æ¯ä¼ è¾“äº¤æµã€‚è€Œè¿™æ­£æ˜¯SASå•æ™ºèƒ½ä½“çš„æ¨¡å¼</strong></p>
<h4 data-id="heading-5">é‡è¦çš„Scalingæ³•åˆ™</h4>
<p>åŒæ—¶è®ºæ–‡è¿˜å°è¯•è¿›ä¸€æ­¥å½’å› é™¤æ¶æ„ä¹‹å¤–çš„å…¶ä»–å½±å“å› ç´ ï¼ŒåŒ…æ‹¬</p>
<ul>
<li>
<p><strong>å·¥å…·-åä½œæƒè¡¡ï¼ˆTool-Coordination Trade-offï¼‰</strong>ï¼š è¿™æ˜¯ä¸€ä¸ªå¼ºè´Ÿç›¸å…³å› ç´  (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î²</mi><mo>=</mo><mo>âˆ’</mo><mn>0.330</mn></mrow><annotation encoding="application/x-tex">\beta=-0.330</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">âˆ’</span><span class="mord">0.330</span></span></span></span></span>)ã€‚ä»»åŠ¡æ¶‰åŠçš„å·¥å…·è¶Šå¤šï¼ˆTool-heavyï¼‰ï¼Œå¤šæ™ºèƒ½ä½“çš„é€šä¿¡å¼€é”€ï¼ˆOverheadï¼‰å°±è¶Šä¸¥é‡ï¼Œå¯¼è‡´æ•ˆç‡éª¤é™ã€‚ä¸€ä¸ªå¯èƒ½åŸå› åœ¨äºå·¥å…·è¶Šå¤šï¼Œå¤æ‚çš„tool schemaä¼šå’Œå¤æ‚çš„åä½œæŒ‡ä»¤æŠ¢å¤ºæ¨¡å‹æœ‰é™çš„æ³¨æ„åŠ›ç©ºé—´ï¼ˆç±»ä¼¼æ³¨æ„åŠ›æŠ¢å åœ¨å¤šè½®å¯¹è¯vså·¥å…·è°ƒç”¨ä¸­ä¹Ÿèƒ½è§‚æµ‹åˆ°ï¼‰ã€‚</p>
</li>
<li>
<p><strong>èƒ½åŠ›é¥±å’Œæ•ˆåº”ï¼ˆCapability Saturationï¼‰</strong>ï¼š å½“å•ä½“ Agent çš„åŸºçº¿å‡†ç¡®ç‡å·²ç»è¶…è¿‡ 45% æ—¶ï¼Œå¢åŠ æ›´å¤š Agent åè€Œä¼šå› ä¸ºåè°ƒæˆæœ¬å¸¦æ¥è´Ÿæ”¶ç›Šã€‚å› ä¸ºé«˜æ°´å¹³æ¨¡å‹åœ¨åŒä¸€ä»»åŠ¡ä¸Šçš„ä¸€è‡´æ€§è¾ƒé«˜ï¼Œè€Œé¢å¤–çš„æ²Ÿé€šè¿”å›ä¼šå¼•å…¥è¯­ä¹‰æ¼‚ç§»ï¼ˆç±»ä¼¼ä¼ è¯è¿‡ç¨‹ä¸­çš„ä¼ é€’è¯¯å·®ï¼‰ã€‚é™¤éæ˜¯å¤šæ™ºèƒ½ä½“ç‹¬ç«‹æŸ¥è¯¢ä¸åŒæ•°æ®ç‹¬ç«‹å®Œæˆä»»åŠ¡ï¼Œå¦åˆ™åªæ˜¯æ¨ç†åä½œæå‡ä¸å¤§ã€‚ï¼ˆæ‰€ä»¥æœ¬è´¨è¿˜æ˜¯ä¿¡æ¯æµåŠ¨çš„é—®é¢˜ï¼‰</p>
</li>
<li>
<p><strong>æ¶æ„ç›¸å…³çš„é”™è¯¯æ”¾å¤§ï¼ˆError Amplificationï¼‰</strong>ï¼š Independentæ¶æ„ä¼šå°†é”™è¯¯æ”¾å¤§ 17.2å€ï¼ˆå› ä¸ºç¼ºä¹é”™è¯¯éªŒè¯æœºåˆ¶ï¼‰,è€Œä¸­å¿ƒåŒ–æ¶æ„èƒ½æ˜¾è‘—é€šè¿‡ä¸­å¿ƒçš„è§„åˆ’æ™ºèƒ½ä½“ä½œä¸ºverifierå¯¹æ‰€æœ‰å­æ™ºèƒ½ä½“çš„è¿”å›ä¿¡æ¯å°½å¿ƒéªŒè¯æå‡ç³»ç»Ÿé²æ£’æ€§ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥æ•´ä½“ä¸Šåœ¨æ™ºèƒ½ä½“è®¾è®¡ä¸Šå‡ ä¸ªç‚¹å¾ˆæ˜ç¡®ï¼Œç¬¬ä¸€æ˜ç¡®ä½ ä»»åŠ¡çš„ä¿¡æ¯æµç»“æ„ã€å†è¯„ä¼°å•æ™ºèƒ½ä½“çš„æ•ˆæœã€æœ€åè¯„ä¼°ä½ å·¥å…·çš„å¤æ‚åº¦å†è€ƒè™‘ä½¿ç”¨ä»€ä¹ˆç±»å‹çš„å¤šæ™ºèƒ½ä½“ç»“æ„ã€‚</p>
<h2 data-id="heading-6">Part 2. å¾®è§‚æ‰§è¡Œï¼šå•æ™ºèƒ½ä½“çš„é¢„ç®—æ„ŸçŸ¥</h2>
<blockquote>
<ul>
<li>Budget aware Tool-USE Effective Agent Scaling</li>
</ul>
</blockquote>
<p>èŠå®Œå¤šæ™ºèƒ½ä½“é€‰å‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•æœ€å¤§åŒ–å•æ™ºèƒ½ä½“åœ¨æœ‰é™å·¥å…·è°ƒç”¨ä¸‹çš„æ‰§è¡Œæ•ˆæœã€‚è®ºæ–‡æ­ç¤ºäº†å®é™…åº”ç”¨ä¸­çš„ä¸€ä¸ªç°å®é—®é¢˜ï¼Œæ—¢æˆ‘ä»¬ä¸ä¼šæ— é™ç­‰å¾…æ¨¡å‹å»å¾ªç¯å¾€å¤çš„è°ƒç”¨å·¥å…·ï¼Œæˆ‘ä»¬ä¾æ—§æ˜¯åœ¨è¿½å¯»<strong>æ•ˆç‡å’Œæ•ˆæœçš„å¸•ç´¯æ‰˜æœ€ä¼˜</strong>ã€‚</p>
<p><strong>é‚£Agentæ‰§è¡Œï¼Œæœ¬è´¨å°±å˜æˆäº†ä¸€ä¸ªæ¡ä»¶ä¼˜åŒ–é—®é¢˜ï¼Œå¦‚ä½•åœ¨æœ‰é™çš„å·¥å…·è°ƒç”¨æ¬¡æ•°ä¸‹ï¼Œæœ€å¤§åŒ–æ™ºèƒ½ä½“çš„æ‰§è¡Œæ•ˆæœã€‚</strong></p>
<h3 data-id="heading-7">2.1 æ ¸å¿ƒç—›ç‚¹ï¼šç›²ç›®çš„Hard Stop</h3>
<p>ç°æœ‰Agentæ¡†æ¶é€šå¸¸è®¾ç½® max_stepsï¼ˆiterationï¼‰=XX ä½œä¸ºå…œåº•ï¼Œæ¥å¼ºåˆ¶æˆªæ–­æ¨¡å‹è¶…é•¿çš„å·¥å…·è°ƒç”¨é“¾è·¯ï¼Œä½† Agent æœ¬èº«ä¸çŸ¥é“è‡ªå·±è¿˜å‰©å¤šå°‘æ¬¡æœºä¼šã€‚è¿™ä¹Ÿå¯¼è‡´ç®€å•çš„å¢åŠ  step é™åˆ¶å¹¶ä¸èƒ½çº¿æ€§æå‡æ•ˆæœï¼Œå› ä¸º Agent ä¸çŸ¥é“è‡ªå·±â€œé’±ï¼ˆBudgetï¼‰â€è¿˜å‰©å¤šå°‘ï¼Œåœ¨å®é™…ä»»åŠ¡æ‰§è¡Œæ—¶æˆ‘ä»¬å¾€å¾€è§‚æµ‹åˆ°<strong>ä¸¤ç§å¤±è´¥æ¨¡å¼</strong></p>
<ul>
<li><strong>Agentè¿‡æ—©æ”¾å¼ƒæ²¡æœ‰æ”¶é›†åˆ°å®Œæ•´ä¿¡æ¯</strong></li>
<li><strong>Agentåœ¨é”™è¯¯ï¼Œæˆ–è€…å¾ˆéš¾æˆåŠŸçš„é“è·¯ä¸Šåå¤å°è¯•å¯¼è‡´èµ„æºè€—å°½</strong></li>
</ul>
<h3 data-id="heading-8">2.2 è§£å†³æ–¹æ¡ˆLevel1 - æ˜¾å¼æ„ŸçŸ¥</h3>
<p>ä½œè€…æå‡ºçš„ BATS (Budget Aware Test-time Scaling) æ¡†æ¶ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ Prompt Engineering å’Œæ§åˆ¶æµå±‚é¢å¼•å…¥äº†æ¨¡å‹å¯æ„ŸçŸ¥çš„<strong>é¢„ç®—æ¡ä»¶çº¦æŸ</strong>ã€‚</p>
<p>æŒ‡ä»¤å¦‚ä¸‹ï¼Œè®ºæ–‡åœ¨Promptä¸­åŠ¨æ€åŠ å…¥äº†å·¥å…·è°ƒç”¨Budgetï¼Œåœ¨æ¯è½®æ¨¡å‹è¿›è¡Œå·¥å…·è°ƒç”¨æ—¶ï¼Œæ˜¾å¼å‘ŠçŸ¥æ¨¡å‹ï¼Œå½“å‰å¯ç”¨çš„å·¥å…·è°ƒç”¨æ¬¡æ•°ï¼Œä»¥åŠé’ˆå¯¹ä¸åŒçš„é¢„ç®—å‰©ä½™ï¼Œæ¨¡å‹åº”è¯¥å¦‚ä½•åŠ¨æ€è°ƒæ•´è‡ªå·±çš„å·¥å…·è°ƒç”¨ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## Budget</span>
You have two independent budgets:
<span class="hljs-bullet">-</span> Query Budget (for search)
<span class="hljs-bullet">-</span> URL Budget (for browse)
Each string in 'query' or 'url' consumes 1 unit respectively.
After each <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">tool_response</span>&gt;</span></span>, a <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">budget</span>&gt;</span></span> tag shows remaining units.
You must ADAPT your strategy dynamically to the current budget state.
<span class="hljs-section">### HIGH Budget (&gt;=70% remaining)</span>
<span class="hljs-bullet">-</span> Search: 3-5 diverse queries in one batch.
<span class="hljs-bullet">-</span> Browse: up to 2-3 high-value URLs.
<span class="hljs-bullet">-</span> Goal: Broad exploration, build context fast.
<span class="hljs-section">### MEDIUM Budget (30%-70%)</span>
<span class="hljs-bullet">-</span> Search: 2-3 precise, refined queries per cycle.
<span class="hljs-bullet">-</span> Browse: 1-2 URLs that close key knowledge gaps.
<span class="hljs-bullet">-</span> Goal: Converge; eliminate uncertainty efficiently.
<span class="hljs-section">### LOW Budget (10%-30%)</span>
<span class="hljs-bullet">-</span> Search: 1 tightly focused query.
<span class="hljs-bullet">-</span> Browse: at most 1 most promising URL.
<span class="hljs-bullet">-</span> Goal: Verify a single critical fact or finalize answer.
<span class="hljs-section">### CRITICAL (&lt;10% remaining or 0 in one budget)</span>
<span class="hljs-bullet">-</span> Avoid using the depleted tool.
<span class="hljs-bullet">-</span> Only perform 1 minimal-cost query or browse if absolutely essential.
<span class="hljs-bullet">-</span> If uncertainty remains and no tool use is possible, output <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">answer</span>&gt;</span></span>None<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">answer</span>&gt;</span></span>.
</code></pre>
<p>è®ºæ–‡ä½¿ç”¨å¤šä¸ªæ¨¡å‹ï¼Œåœ¨å¤šä¸ªä»»åŠ¡ä¸Šå¯¹æ¯”äº†å•çº¯ä½¿ç”¨ReACTï¼Œå’ŒåŠ å…¥Budgetçš„ReACTçš„æ•ˆæœã€‚</p>
<ol>
<li>
<p>ç›¸åŒé¢„ç®—ä¸‹ï¼ŒBudget Trackerå¯ä»¥å®ç°æ›´é«˜çš„ä»»åŠ¡å®Œæˆå‡†ç¡®ç‡
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8d0955a2ad74fefba63a50a23f43c2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=rOBiQZezpEPu0kYmh4j%2B9JunCp4%3D" alt="image" loading="lazy"/></p>
</li>
<li>
<p>ç›¸åŒçš„å‡†ç¡®ç‡ä¸‹ï¼ŒBudget Trackerçš„å·¥å…·è°ƒç”¨è½®æ¬¡æ›´ä½
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d2b38535cb44f57bcc87df05ff5c9d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=ByECDuQwfOrJNiHHySIG07sMPOc%3D" alt="image" loading="lazy"/></p>
</li>
<li>
<p>åŠ å…¥Budget Trackeråï¼Œæå‡å·¥å…·è°ƒç”¨æ¬¡æ•°å¯ä»¥æ›´åŠ æŒç»­åœ°å¸¦æ¥æ•ˆæœæå‡ã€‚æ¢è¨€ä¹‹å¼•å…¥Budget Trackerå¯ä»¥æå‡æ™ºèƒ½ä½“åœ¨å•ä»»åŠ¡çš„æ‰§è¡Œä¸Šé™ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c7f474e72b94a1391cfd9aa64df42f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=FGrjv9phjkXl67L6R2Y8Ya7Kp0U%3D" alt="image" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-9">è§£å†³æ–¹æ¡ˆLevel2 - ç­–ç•¥ä½¿ç”¨</h3>
<p>Budget Trackeråªæ˜¯ç¬¬ä¸€æ­¥ï¼Œå®ƒè´Ÿè´£â€œæŠ¥è´¦â€è®©æ¨¡å‹äº†è§£è‡ªå·±è¿˜æœ‰å¤šå°‘æ¬¡æœºä¼šï¼Œå‰©ä½™å…¨é æ¨¡å‹è‡ªå·±å‘æŒ¥ï¼Œè€Œå†è¿›ä¸€æ­¥æˆ‘ä»¬å¯ä»¥ç³»ç»Ÿå‘ŠçŸ¥æ¨¡å‹å¦‚ä½•åˆ©ç”¨è¿™ç¬”é¢„ç®—æ¥è§„åˆ’å¤æ‚è·¯å¾„ï¼ŒåŒ…æ‹¬å¦‚ä½•ä¼˜åŒ–Planningå’ŒVerificationçš„æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8de9d161203442078531855a055b9ad0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=a%2FgfUj72UnBYKBhc02msSvvYP6c%3D" alt="image" loading="lazy"/></p>
<p>è®ºæ–‡é€‰ç”¨çš„æ™ºèƒ½ä½“æ¶æ„ï¼Œæ˜¯ä¸¤ä¸ªå•çº¿ç¨‹çš„æ™ºèƒ½ä½“ï¼Œç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“Plannerè´Ÿè´£è§„åˆ’ï¼Œå¹¶æ ¹æ®è§„åˆ’æ­¥éª¤é€æ­¥è°ƒç”¨å·¥å…·å›ç­”å¹¶ç»™å‡ºç­”æ¡ˆ, ç¬¬äºŒä¸ªæ•´ä½“Verificationè´Ÿè´£å¯¹ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“ç»™å‡ºçš„ç­”æ¡ˆè¿›è¡Œæ ¡éªŒï¼Œå¹¶åˆ¤æ–­æ˜¯å¦éœ€è¦ç­”æ¡ˆå·²ç»åˆæ ¼ï¼Œåè€…éœ€è¦æ·±å…¥æŒ–æ˜ã€æˆ–è€…æ›´æ¢æœç´¢æ–¹å‘ã€‚</p>
<p>æˆ‘ä»¬å°±å•çœ‹ä¸‹å’ŒPlanæ¨¡å—çš„ç»“åˆï¼ŒBudgeté¢„ç®—å¯¹è¿™ä¸ªæ¨¡å—çš„å½±å“åŒ…æ‹¬</p>
<ol>
<li>Explorationï¼š é¢„ç®—å†³å®šäº†æœç´¢æ ‘çš„å®½åº¦ã€‚é¢„ç®—è¶³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> åˆ¶å®šå¤šåˆ†æ”¯æ¢ç´¢è®¡åˆ’ï¼›é¢„ç®—ç´§ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> åˆ¶å®šå•ç‚¹éªŒè¯è®¡åˆ’</li>
<li>Verificationï¼šé¢„ç®—å†³å®šäº†å›æº¯çš„æ·±åº¦ã€‚é¢„ç®—è¶³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ·±å…¥æŒ–æ˜ï¼›é¢„ç®—ç´§  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ç«‹åˆ»è½¬æ¢æ–¹å‘æˆ–è€…ç›´æ¥è¾“å‡ºç­”æ¡ˆ</li>
</ol>
<p>å…·ä½“è§„åˆ’ç›¸å…³çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## About questions</span>
Questions contain two types of constraints: exploration and verification.
<span class="hljs-bullet">*</span> Exploration: Broad, core requirements (e.g., birthday, profession). Use these for initial
searches to surface candidates. You may combine 1-2 to form stronger queries.
<span class="hljs-bullet">*</span> Verification: Narrow, specific details. Apply these only after you have candidates, to
confirm or filter them. Never begin with verification constraints.
Start with exploration queries, then use verification to validate the results.
<span class="hljs-section">## About planning</span>
Maintain a tree-structured checklist of actionable steps (each may require several tool calls).
<span class="hljs-bullet">-</span> Mark each step with its status: [ ] pending, [x] done, [!] failed, [~] partial.
<span class="hljs-bullet">-</span> Use numbered branches (1.1, 1.2) to represent alternative paths or candidate leads.
<span class="hljs-bullet">-</span> Log resource usage after execution: (Query=#, URL=#).
<span class="hljs-bullet">-</span> Keep all executed steps, never delete them, retain history to avoid repeats.
<span class="hljs-bullet">-</span> Update dynamically as you reason and gather info, adding or revising steps as needed.
<span class="hljs-bullet">-</span> Always consider current and remaining budget when updating the plan.
</code></pre>
<p>å¼•å…¥ä»¥ä¸ŠæŒ‡ä»¤å’ŒBudget Trackeråï¼Œä¼šè§‚æµ‹åˆ°æ¨¡å‹åœ¨ä¸åŒé¢„ç®—å‰æä¸‹åšå‡ºçš„å¦‚ä¸‹è¡Œä¸ºæ”¹å˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbed60bc345b438789b80dee4f6dcee7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO6Zuo5Lit55qE5bCP5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754487&amp;x-signature=6wtmp9u8NY8K%2FhINYMILAtaM1ss%3D" alt="image" loading="lazy"/></p>
<p>å†è¿›ä¸€æ­¥æ„Ÿè§‰å¯ä»¥æŠŠä¸åŒLatencyè¦æ±‚åœºæ™¯ä¸­ï¼Œå¯¹äºæ¨¡å‹å°½é‡å¿«æ‰§è¡Œå®Œæˆã€æˆ–è€…å°½é‡æ›´å…¨æ”¶é›†ä¿¡æ¯ç­‰å·®å¼‚åŒ–çº¦æŸæ¡ä»¶ï¼Œä»¥åŠä¸åŒå·¥å…·åœ¨ä¸åŒåœºæ™¯çš„ä½¿ç”¨ä¼˜å…ˆçº§æ‰“åˆ†ç­‰éƒ½ä½œä¸ºæ¨¡å‹å¯ä»¥åŠ¨æ€æ„ŸçŸ¥ä¿¡æ¯æ³¨å…¥åˆ°æ¨¡å‹ä¸Šæ–‡ä¸­ï¼ŒæŠŠå½“å‰RL Agentè®­ç»ƒçš„æ€è·¯éƒ½æ˜¾å¼æ³¨å…¥åˆ°æ¨ç†ä¸Šæ–‡ä¸­ï¼Œæ˜¯ä¸ªå€¼å¾—å°è¯•çš„æ€è·¯ã€‚</p>
<p>æƒ³çœ‹æ›´å…¨çš„å¤§æ¨¡å‹è®ºæ–‡Â·å¾®è°ƒé¢„è®­ç»ƒæ•°æ®Â·å¼€æºæ¡†æ¶Â·AIGCåº”ç”¨ &gt;&gt; <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDSXiangLi%2FDecryptPrompt" target="_blank" title="https://github.com/DSXiangLi/DecryptPrompt" ref="nofollow noopener noreferrer">DecryPrompt</a></p>
<hr/>
<p>2025å¹´æœ€åä¸€å¤©äº†ï¼Œå” 2å—é’±çš„ï¼Œé«˜çƒ§å·²ç»çƒ§äº†ä¸‰å¤©çƒ§çš„ä¸€æ—¶ä¸çŸ¥ä»Šå¤•æ˜¯ä½•å¤•ï¼Œä¼¼ä¹æ¯æ¬¡é¡¹ç›®ä¸€ä¸Šçº¿ï¼Œäººä¸€æ³„åŠ²å…ç–«åŠ›å°±è·Ÿç€å‡ºèµ°ï¼Œççœ¼ä¸€çœ‹å·²ç»æ˜¯31å·äº†ï¼Œè¶ç€æ—©ä¸Šçƒ§è¿˜æ²¡èµ·æ¥æŠ“ç´§æŠŠå¹´åº•æœ€åä¸€ç¯‡åšå®¢ä¼ äº†ã€‚</p>
<p><em>2026å¹´ç¥è‡ªå·±å’Œçˆ¸çˆ¸å¦ˆå¦ˆéƒ½èº«ä½“è´²æ£’ï¼Œåƒå˜›å˜›é¦™ï¼Œä¹Ÿç¥å¤§å®¶æ˜å¹´éƒ½å¥å¥åº·åº·ï¼Œæ— ç—…æ— ç¾, ä»Šå¹´å°±è®¸äº†è¿™ä¸€ä¸ªæ„¿æœ›ï¼Œå¸Œæœ›ä¼šæˆçœŸå“¦</em>~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨è 8 ä¸ªçˆ·é’å› GitHub å¼€æºæ¸¸æˆï¼Œå¤ªæ€€å¿µäº†ã€‚]]></title>    <link>https://juejin.cn/post/7589534527544361003</link>    <guid>https://juejin.cn/post/7589534527544361003</guid>    <pubDate>2025-12-31T02:56:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589534527544361003" data-draft-id="7589534625260404772" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨è 8 ä¸ªçˆ·é’å› GitHub å¼€æºæ¸¸æˆï¼Œå¤ªæ€€å¿µäº†ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-31T02:56:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨è 8 ä¸ªçˆ·é’å› GitHub å¼€æºæ¸¸æˆï¼Œå¤ªæ€€å¿µäº†ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:56:24.000Z" title="Wed Dec 31 2025 02:56:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€›é€›çš„ç«¥å¹´è¢«ä¸¤ç§æ¸¸æˆæœºç»Ÿæ²»ã€‚<strong>ç¬¬ä¸€ç§æ˜¯å°éœ¸ç‹ã€‚</strong> è™½ç„¶ã€Œå­¦ä¹ æœºã€ä¸‰ä¸ªå¤§å­—èµ«ç„¶å±•ç¤ºåœ¨å°éœ¸ç‹é”®ç›˜ä¸Šï¼Œä½†æ˜¯å³ä¸Šè§’çš„å¡æ§½æ›´å¤ºäººçœ¼çƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3115a387e8c04635abcd9982b714f486~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=IGwHZ3rj07Y4n6%2FhIkP%2F3%2FYripY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é…åˆä¸‹æ–¹è¿™æ ·çš„æ¸¸æˆå¡ï¼Œå­¦ä¹ æœºä¹Ÿå°±å˜æˆäº†æ¸¸æˆæœºã€‚æ¯é€¢æ”¾å­¦æ”¾å‡ï¼Œå‡ ä¸ªå°ä¼™ä¼´å°±æŠ±ç€å¤§å¤§çš„é”®ç›˜ï¼Œå•†é‡ç€å»è°å®¶æ€ä¸€å±€å¿è€…ç¥é¾Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45b2e1bda36d47df9841c7dc9f7d26f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=FNk0d%2B3cffHgryPIXXGSV6Xwlwk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“æ—¶åƒç´ æ„Ÿçš„æ¸¸æˆç”»è´¨ä¸èƒ½å’Œç°åœ¨çš„æ¸¸æˆç›¸æ¯”ï¼Œä½†æ˜¯æ¸¸æˆæ²‰æµ¸æ„Ÿè®©äººæ¬²ç½¢ä¸èƒ½ã€‚è¿™å°å°çš„æ¸¸æˆå¡è—ç€æˆ‘ä»¬ 90 åçš„æ¸¸æˆå¯è’™ã€‚<strong>å¿è€…ç¥é¾Ÿï¼š</strong> æœ‰é—¯å…³çš„ç‰ˆæœ¬å’Œå¯¹æ‰“çš„ç‰ˆæœ¬ï¼Œæˆ‘ç‹¬çˆ±æ‹¿åŒèŠ‚æ£çš„é˜¿é¾Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a277b98c8b284bfbbaf6c5c5f115fc45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=v03laSJSYbREr6YI4RCH5EwzeyE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é›ªäººå…„å¼Ÿï¼š</strong> èƒ½åƒé»„è‰²ã€è“è‰²å¢¨æ°´ï¼Œè®©é›ªäººè§’è‰²å˜å¾—å¤´å¤§æˆ–è€…å­å¼¹å˜å¤§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d035c74119a34b4b8e391e0f0c46beda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=gdY%2BBKy%2B1fdNLj6WZQZVbwtXw2Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å½±å­ä¼ è¯´ï¼š</strong> ç”»é£å’Œ BGM éƒ½å¾ˆé­”å¹»ï¼Œè§’è‰²èƒ½çˆ¬æ ‘åƒç»ä¹¦ï¼Œåƒäº†ä¹‹åå¼€å§‹æ‰“åå¿µç»ï¼Œæ•Œäººæ¥ä¸€ä¸ªå€’ä¸€ä¸ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a27a6b1b9dc47fc84929aa1000c4816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=lYNiQgz%2Fjsw8wd%2B5yiXUuCQ8fRo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é­‚æ–—ç½—ï¼š</strong> ä¸€èˆ¬åªæœ‰ 3 æ¡å‘½ï¼Œä½†æ˜¯åœ¨å¼€å§‹å‰åœ¨æ¸¸æˆæŸ„ä¸ŠæŒ‰Â <strong>ä¸Šä¸Šä¸‹ä¸‹ï¼Œå·¦å³å·¦å³ï¼ŒBABA</strong>ï¼Œå°±å¯ä»¥è°ƒ 30 å‘½ã€‚å½“ä½ æŠŠ ä¸Šä¸Šä¸‹ä¸‹ï¼Œå·¦å³å·¦å³ï¼ŒBABA å¿µå‡ºæ¥çš„æ—¶å€™æ˜¯ä¸æ˜¯æƒ³åˆ°äº† LOL ä¸­çš„ç”·æªï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41fdee56d5084ea3b2464c84fd4266b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=89a%2B0xOZ6nbLK%2ByD9htUFuFpMq0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬äºŒç§æ˜¯æ¸¸æˆå…‰ç›˜ã€‚</strong> ****é‚£æ—¶å€™æ¯å®¶éƒ½æœ‰ä¸€ä¸ª VCDï¼Œå°†ä¹°çš„æ¸¸æˆå…‰ç›˜æ”¾å…¥ VCDï¼Œå°†å…¶è¿æ¥åˆ°ç”µè§†å¹¶æŠŠæ¸¸æˆæ‰‹æŸ„æ’åˆ° VCD ä¸Šï¼Œåˆ‡æ¢é¢‘é“ç±»ä¼¼ä¸‹é¢çš„ç•Œé¢å°±ä¼šæ˜ å…¥çœ¼å¸˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c30809240ff14c8cb08e79edbb75346e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=0ZbPLpv%2FdGTr%2BalGkU%2Fab29YdrA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è™½ç„¶è¿™äº›æ¸¸æˆä¹Ÿå¤§éƒ½æ˜¯ FC æ¸¸æˆï¼Œä½†æ˜¯é™¤äº†è¶…çº§ç›ä¸½ã€å¦å…‹å¤§æˆ˜è¿™äº›è¶…çº§ç»å…¸çš„æ¸¸æˆã€‚è¿˜æœ‰ä¸€éƒ¨åˆ†å¥½ç©çš„æ¸¸æˆåœ¨æ¸¸æˆå¡ä¸Šé¢ä½“ä¼šä¸åˆ°ã€‚</p>
<p><strong>èµ¤å¡è¦å¡ï¼š</strong> ç‚¸å¼€ä¸€ä¸ªä¸ªæˆ¿å­ï¼Œèƒ½è¥æ•‘äººè´¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70ecff72c2a347ecb13a982217410bd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=FoyyUcR4faXRb56h4kxEUrfdYFY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…¬è·¯èµ›è½¦ï¼š</strong> æ’åˆ°å½©è™¹è½¦ä¼šç»™ä½ åŠ æ—¶é—´ï¼Œæœ‰æ—¶å€™è¿˜ä¼šæœ‰è¶…äººå½©è›‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52c8bb05b29643e595f062ec9fdb6d40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=mgX1%2FrlvtHv9X1kU0ROZTnbP6o0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å†’é™©å²›ï¼š</strong> æˆ‘çš„æ»‘æ¿çœŸçš„ 6ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63f352869780464b872211fe76c8fb24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=ltA%2B91yx3qAPbQpK0BAO19Qwm8g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å½©è™¹å²›ï¼š</strong> åˆ’å‡ºä¸€é“é“çš„å½©è™¹ã€‚æˆ‘å½“æ—¶å°±çæŒ‰è¿˜èƒ½å†²çš„å¾ˆé«˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77d07270a264462cafd1528921f8fb60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=i55m2JP6Upg%2BlMbUiAVRRAYowxI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å¤§åŠ›æ°´æ‰‹ï¼š</strong> åƒäº†è èœåï¼Œå¤§åŠ›æ°´æ‰‹æ‰èƒ½ç¡¬èµ·æ¥ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3e012dbe37e4d8d93fbba8dad023958~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=ThKOQ0cwbGTmrW06QGNqG4snYXI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é©¬æˆå›¢ï¼š</strong> åªè®°å¾—èƒŒæ™¯éŸ³ä¹å¾ˆå¥½å¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a008fa34f1764fe6af83396541084493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=FLhZHIXRv9UhKHs%2FxTAmycD%2FQzE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ·˜é‡‘è€…ï¼š</strong> éŸ³æ•ˆä¹Ÿå¾ˆé­”å¹»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc9c215c65e647a1af0c7607f590fdfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=o%2Bvjz5KQcaMQUlcjP9BXyTEBwbM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç»¿è‰²å…µå›¢ï¼š</strong> è¿™ä¸ªæ¸¸æˆçœŸçš„éš¾ç©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3020fd56bf8946f68fef3cbf6982e575~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=xim5F4Js8lwkMe7hJiHdDxZJ%2FWM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>çœ‹åˆ°è¿™äº›æ¸¸æˆç”»é¢ä¼šä¸ä¼šæœ‰äº›ç†Ÿæ‚‰ï¼Ÿç°åœ¨å·²ç»å·¥ä½œï¼Œä¹Ÿå¾ˆå°‘æœ‰ç©æ¸¸æˆçš„æ—¶é—´ã€‚åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™è¿˜ä¼šæœ‰äº›æ„Ÿè§¦ï¼Œæƒ³åˆ°äº†æ”¾å­¦çš„ä¸‹åˆå’Œè€çˆ¸è¹²åœ¨ç”µè§†æœºå‰æ‰“å¦å…‹å¤§æˆ˜ï¼›æƒ³åˆ°åœ¨å­¦æ ¡é‡Œå’ŒåŒå­¦è®¨è®ºå¿è€…ç¥é¾Ÿçš„è¿æ‹›æŒ‰æ³•ï¼›ä¹Ÿæƒ³åˆ°äº†é‚£äº›ç£¨æŸä¸¥é‡çš„æ¸¸æˆå¡</p>
<p>æ¥ä¸‹æ¥ç›˜ç‚¹ <strong>GitHub ä¸Šå¼€æºçš„ 8 ä¸ªå°æ¸¸æˆ</strong>ï¼Œä¸çŸ¥é“ä½ çœ‹å®Œä¼šä¸ä¼šè¯´ä¸€å¥ï¼šçˆ·é’å›ã€‚</p>
<h2 data-id="heading-0">ç»ç‰ˆæ¸¸æˆä¿æŠ¤å·¥ç¨‹</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®çš„å¼€å‘è¿™è®¤ä¸ºäº’è”ç½‘ä¸Šçš„å†…å®¹æ­£åœ¨å¿«é€Ÿæ¶ˆå¤±ï¼Œå¾ˆå¤šç»å…¸çš„ DOS å’Œæ—©æœŸ Windows æ¸¸æˆå› ä¸ºå…‰ç›˜ä»‹è´¨æŸåæˆ–èµ„æºé“¾æ¥å¤±æ•ˆè€Œæ°¸ä¹…å¤±ä¼ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d686327538e84b1898c5adc3468dd6a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=l4i5UKZPCEjMn4GNzQHd4g5Wuak%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒç²¾é€‰äº†è¿‘ 200 æ¬¾ DOS æ—¶ä»£åˆ° Win95/98 æ—¶ä»£çš„ç»å…¸å•æœºæ¸¸æˆï¼Œæ¯”å¦‚ã€Šä»™å‰‘å¥‡ä¾ ä¼ ã€‹ã€ã€Šå¤§å¯Œç¿ã€‹ã€ã€Šé‡‘åº¸ç¾¤ä¾ ä¼ ã€‹ã€ã€Šä¸»é¢˜åŒ»é™¢ã€‹ç­‰ã€‚</p>
<p>å°†æ‰€æœ‰æ¸¸æˆå‹ç¼©åœ¨ 2 å¼  CD çš„å®¹é‡å†…ï¼ˆçº¦ 1.3GBï¼‰ï¼Œæ–¹ä¾¿å­˜å‚¨å’Œåˆ†å‘ã€‚å°½é‡ä¿ç•™åŸç‰ˆå…‰ç›˜é•œåƒæˆ–ç¡¬ç›˜ç‰ˆæ–‡ä»¶ï¼ŒåŸæ±åŸå‘³ã€‚</p>
<p>ä½œè€…è¿˜æœ‰ä¸€ä¸ªå§Šå¦¹é¡¹ç›® preserve-isoï¼Œä¸“é—¨ç”¨æ¥ä¿å­˜ç»ç‰ˆçš„å¼€å‘å·¥å…·ï¼Œæ¯”å¦‚ Borland C++ Builder, Delphi 7 ç­‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/skywind3000/preserve-cd
```02**ä»»å¤©å ‚æ¨¡æ‹Ÿå™¨*****

<span class="hljs-comment"># OpenEmuï¼šä¸€ä¸ªè®©ä½ åœ¨ Mac ä¸Šçˆ½å¿«ä½“éªŒä»»å¤©å ‚çš„æ¨¡æ‹Ÿå™¨ã€‚ç°åœ¨åœ¨ GitHub ä¸Šå·²ç» 17K çš„ Star äº†ã€‚</span>

<span class="hljs-comment"># åœ¨ MAC ç³»ç»Ÿä¸Šé¢ï¼Œä½ æ‰¾ä¸åˆ°æ›´å¥½çš„æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬ï¼Œå®ƒå‡ ä¹æ˜¯å®Œç¾çš„ï¼Œé«˜è´¨é‡ OpenGL ç¼©æ”¾ï¼Œå¤šçº¿ç¨‹æ’­æ”¾å’Œå…¶ä»–ä¼˜åŒ–ï¼Œå®æ—¶ 3D æ•ˆæœå’Œå›¾åƒå¤„ç†ï¼Œå›¾å½¢è¿‡æ»¤å™¨å¢å¼ºçš„æ˜¾ç¤ºæ•ˆæœï¼Œæ”¯æŒå…¨å±æ”¯æŒã€‚</span>

ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼š  
1. æ‰“å¼€ç™¾åº¦ï¼Œè¾“å…¥ **nds æ¸¸æˆåç§° rom** è¿™ä¸‰ä¸ªå…³é”®è¯ä½ å¾ˆå®¹æ˜“å°±æ‰¾åˆ°å¯¹åº”èµ„æº2. ä¸‹è½½è§£å‹, ä½ ä¼šæ‰¾åˆ°ä¸€ä¸ª.ndsçš„æ–‡ä»¶, å°†å®ƒæ‹–å…¥åˆ° nds æ ‡ç­¾ä¸‹çš„æ¸¸æˆåº“å³å¯3. ç„¶ååŒå‡»å°±å¯ä»¥ç©äº†

-

</code></pre>
<p>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenEmu%2FOpenEmu" target="_blank" title="https://github.com/OpenEmu/OpenEmu" ref="nofollow noopener noreferrer">github.com/OpenEmu/Opeâ€¦</a></p>
<pre><code class="hljs language-markdown" lang="markdown">
![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/753373cf6acd45db95cf8bd471ff91c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=Mc9Qp4AJYSg9ANrpZqzmfo9wmsY%3D</span>)![](<span class="hljs-link"/>)![](<span class="hljs-link"/>)![](<span class="hljs-link"/>)![](<span class="hljs-link"/>)![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc25601a126d41fdb2827ca9fb4eea0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=qp1S%2F4L0q%2FVe%2BIHwywB46ySsFnI%3D</span>)![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/895c47124db64b0e9d22f16d25472c55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=hvuTKqbF5Pq9RYQ5gpybWaZvblg%3D</span>)![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c7b8bbf889646b79e18cb5d00d9a8c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=du7ZssvyM25F%2FQHxVTO7tzv0V5s%3D</span>)

03

<span class="hljs-strong">**è¿‡å±±è½¦å¤§äº¨ 2**</span>

è¿™ä¸ªå¼€æºæ¸¸æˆæ˜¯ã€Šè¿‡å±±è½¦å¤§äº¨ 2ã€‹çš„å¼€æºé‡å®ç°ç‰ˆã€‚

![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/114e6ce7dd5d46eb95c578e87fd5edec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=d37jPcynwEH%2FBzassv%2BubNdtvLY%3D</span>)

ä¸ä»…å®Œå…¨è¿˜åŸäº†ç«¥å¹´ç»è¥æ¸¸ä¹å›­çš„ä¹è¶£ï¼Œè¿˜å¢åŠ äº†å¤šäººè”æœºã€å·¨å¤§çš„åœ°å›¾å°ºå¯¸ã€ä½œå¼Šå™¨ã€å¤šè¯­è¨€æ”¯æŒä»¥åŠå¯¹åŸç‰ˆ Bug çš„ä¿®å¤ã€‚

éœ€è¦åŸç‰ˆæ¸¸æˆæ–‡ä»¶å³å¯ç•…ç©ã€‚Â 

![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/faf0e8de57004a95b3ba367ffcf5ce49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=TxO%2BG7y57ADFT1PGUkmdKRlsonQ%3D</span>)

<span class="hljs-bullet">-</span>

</code></pre>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenRCT2%2FOpenRCT2" target="_blank" title="https://github.com/OpenRCT2/OpenRCT2" ref="nofollow noopener noreferrer">github.com/OpenRCT2/Opâ€¦</a></p>
<pre><code class="hljs language-perl" lang="perl">
<span class="hljs-number">04</span>

**è¿è¾“å¤§äº¨**

åŸºäº Chris Sawyer çš„ã€Šè¿è¾“å¤§äº¨è±ªåç‰ˆã€‹ï¼ˆTransport Tycoon Deluxeï¼‰å¼€å‘çš„å¼€æºæ¨¡æ‹Ÿç»è¥æ¸¸æˆã€‚

![å›¾ç‰‡](https:<span class="hljs-regexp">//p</span>3-xtjj-sign.byteimg.com/tos-cn-i-<span class="hljs-number">73</span>owjymdk6/bac63b282d81404083fcec2ad568388b~tplv-<span class="hljs-number">73</span>owjymdk6-jj-mark-v1:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">5</span>o6Y6YeR5oqA5pyv56S-<span class="hljs-number">5</span>Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;<span class="hljs-keyword">x</span>-expires=<span class="hljs-number">1767754583</span>&amp;<span class="hljs-keyword">x</span>-signature=QCjQ0OINhW%2FKyUhrsg8dqYhXhrU%3D)

è¿™å¯èƒ½æ˜¯æœ€æˆåŠŸçš„å¼€æºæ¸¸æˆé‡åˆ¶é¡¹ç›®ä¹‹ä¸€ï¼Œæ‹¥æœ‰åºå¤§çš„ç¤¾åŒºã€æ— æ•°çš„ Modã€è¶…å¤§çš„åœ°å›¾å’Œå¤šäººè”æœºåŠŸèƒ½ï¼Œæ˜¯æ¨¡æ‹Ÿç»è¥çˆ±å¥½è€…çš„å¿…ç©ä¹‹ä½œã€‚Â 

![å›¾ç‰‡](https:<span class="hljs-regexp">//p</span>3-xtjj-sign.byteimg.com/tos-cn-i-<span class="hljs-number">73</span>owjymdk6/d2e3a64baadb446290b5558b9c1ae4b9~tplv-<span class="hljs-number">73</span>owjymdk6-jj-mark-v1:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">5</span>o6Y6YeR5oqA5pyv56S-<span class="hljs-number">5</span>Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;<span class="hljs-keyword">x</span>-expires=<span class="hljs-number">1767754583</span>&amp;<span class="hljs-keyword">x</span>-signature=YQCKaf%2FnnRiOEwPcV63MX18VHcI%3D)![å›¾ç‰‡](https:<span class="hljs-regexp">//p</span>3-xtjj-sign.byteimg.com/tos-cn-i-<span class="hljs-number">73</span>owjymdk6/aca754bcaf2d453d81d015d61426fb7c~tplv-<span class="hljs-number">73</span>owjymdk6-jj-mark-v1:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">5</span>o6Y6YeR5oqA5pyv56S-<span class="hljs-number">5</span>Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;<span class="hljs-keyword">x</span>-expires=<span class="hljs-number">1767754583</span>&amp;<span class="hljs-keyword">x</span>-signature=AbpE%2Fo8qF4%2FlVbei9PaHfRBskW4%3D)![å›¾ç‰‡](https:<span class="hljs-regexp">//p</span>3-xtjj-sign.byteimg.com/tos-cn-i-<span class="hljs-number">73</span>owjymdk6/<span class="hljs-number">15</span>f10288f45143ab8abdec2f910c569e~tplv-<span class="hljs-number">73</span>owjymdk6-jj-mark-v1:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">5</span>o6Y6YeR5oqA5pyv56S-<span class="hljs-number">5</span>Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;<span class="hljs-keyword">x</span>-expires=<span class="hljs-number">1767754583</span>&amp;<span class="hljs-keyword">x</span>-signature=<span class="hljs-number">9</span>HLrU%2FBskDMZKCV0PeK79CHlxdY%3D)![å›¾ç‰‡](https:<span class="hljs-regexp">//p</span>3-xtjj-sign.byteimg.com/tos-cn-i-<span class="hljs-number">73</span>owjymdk6/<span class="hljs-number">76</span>c919fcc8ce459db4311a97a8757d7c~tplv-<span class="hljs-number">73</span>owjymdk6-jj-mark-v1:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">0</span>:<span class="hljs-number">5</span>o6Y6YeR5oqA5pyv56S-<span class="hljs-number">5</span>Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;<span class="hljs-keyword">x</span>-expires=<span class="hljs-number">1767754583</span>&amp;<span class="hljs-keyword">x</span>-signature=dylqSGFlBuCV3WW9FeCzCIrTtOU%3D)

-

</code></pre>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenTTD%2FOpenTTD" target="_blank" title="https://github.com/OpenTTD/OpenTTD" ref="nofollow noopener noreferrer">github.com/OpenTTD/Opeâ€¦</a></p>
<pre><code class="hljs language-ini" lang="ini">
05

**å¸å›½æ—¶ä»£ 2**

è¿™ä¸ªå« openage çš„å¼€æºæ¸¸æˆç°åœ¨æœ‰ 14k çš„ Starã€‚

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6d8bd3d322544d0aca447ff98edb709~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=JjCMxBo54605iv8nGgoLh6v3sYg%<span class="hljs-number">3</span>D)

æ˜¯ä¸€ä¸ªè¯•å›¾å®Œå…¨å…‹éš†ã€Šå¸å›½æ—¶ä»£ 2ã€‹å¼•æ“çš„å¼€æºé¡¹ç›®ã€‚

è™½ç„¶ç›®å‰ä»åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå°šæœªè¾¾åˆ° 100% å®Œç¾å¯ç©ï¼Œä½†å®ƒæ˜¯ç¤¾åŒºå¯¹è¿™æ¬¾ç»å…¸ RTS æ¸¸æˆè‡´æ•¬çš„é›†å¤§æˆè€…ï¼Œæ—¨åœ¨æä¾›æ›´å¼ºçš„æ¨¡ç»„æ”¯æŒå’Œè·¨å¹³å°èƒ½åŠ›ã€‚Â 

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cd72a0aa69d4f8e99073352bea874e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=koPJxZFQfVCAKNXjoFBgX4UwH8c%<span class="hljs-number">3</span>D)

-

</code></pre>
<p>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSFTtech%2Fopenage" target="_blank" title="https://github.com/SFTtech/openage" ref="nofollow noopener noreferrer">github.com/SFTtech/opeâ€¦</a></p>
<pre><code class="hljs language-ini" lang="ini">
06

**é‡‘åº¸ç¾¤ä¾ ä¼  3D é‡åˆ¶ç‰ˆ**

é‡‘åº¸ç¾¤ä¾ ä¼  3D é‡åˆ¶ç‰ˆæ˜¯ä¸€ä¸ªéç›ˆåˆ©æ¸¸æˆé¡¹ç›®ï¼Œé‡åˆ¶ç»å…¸æ¸¸æˆã€Šé‡‘åº¸ç¾¤ä¾ ä¼ ã€‹å¹¶æ”¯æŒåç»­ä¸€ç³»åˆ— MOD å’ŒäºŒæ¬¡å¼€å‘ã€‚

ç”¨ Unity å¼•æ“å®Œå…¨é‡å†™çš„ã€‚å®ƒå°†åŸæ¥çš„ 2D åƒç´ ç”»é¢å˜æˆäº† 3D åœºæ™¯ï¼Œä½†ç¾æœ¯é£æ ¼åˆ»æ„ä¿ç•™äº†é‚£ç§å¤å¤çš„ä½æ¨¡æ„Ÿï¼Œæ—¢ç°ä»£åŒ–åˆå¯¹å‘³ã€‚

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ff7225025504eef80ca140e9ad46792~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=cjHYTLBsvzjFBnJ1OpOXwTD%<span class="hljs-number">2</span>FW1M%<span class="hljs-number">3</span>D)é‡ç½®ç‰ˆæ˜¯ä½œè€…çº¯ç²¹ä¸ºäº†å…´è¶£å’Œå­¦ä¹ åœ¨ä¸šä½™æ—¶é—´æ‰“ç£¨å‡ºæ¥çš„ï¼Œé‡ç½®ç‰ˆç”»è´¨æ›´ç²¾è‰¯ï¼Œç»†èŠ‚æ›´ç”ŸåŠ¨ã€‚

è¿™ä¸ªé¡¹ç›®å¯ä»¥è½»æ¾æ‰“åŒ…è¿è¡Œåœ¨Â Windowsã€macOS ç”šè‡³ Android/iOS æ‰‹æœºä¸Šã€‚

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01c0f4e426b94d89aac4245194300ebf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=Z5gq%<span class="hljs-number">2</span>BSBmn6bd0R1ECwTJSEo872A%<span class="hljs-number">3</span>D)

-

</code></pre>
<p>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjynew%2Fjynew" target="_blank" title="https://github.com/jynew/jynew" ref="nofollow noopener noreferrer">github.com/jynew/jynew</a></p>
<pre><code class="hljs language-markdown" lang="markdown">
07

<span class="hljs-strong">**æš—é»‘ç ´åç¥ 1**</span>

ä¸ºäº†è®©ç°ä»£ç©å®¶èƒ½ç©åˆ°ç»å…¸çš„ã€Šæš—é»‘ç ´åç¥ 1ã€‹ï¼Œå¼€å‘è€…é€šè¿‡é€†å‘å·¥ç¨‹å¤åˆ»äº†æ¸¸æˆå¼•æ“ã€‚

![<span class="hljs-string">å›¾ç‰‡</span>](<span class="hljs-link">https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f304100c6ff841cba60078cdd2c00e6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767754583&amp;x-signature=OPbfB6NblIKVEt4KHwSRm%2BfR%2Fa8%3D</span>)

DevilutionX è®©è¿™æ¬¾ 1996 å¹´çš„æ¸¸æˆå¯ä»¥åœ¨é«˜åˆ†è¾¨ç‡ã€é«˜å¸§ç‡ä¸‹æµç•…è¿è¡Œï¼Œæ”¯æŒæ‰‹æŸ„ï¼Œå¹¶ä¿®å¤äº†å¤§é‡åŸç‰ˆ Bugï¼Œæ˜¯é‡æ¸©å¤§è èåˆä»£æœ€å¥½çš„æ–¹å¼ã€‚

è¿™ä¸ªå¼€æºæ¸¸æˆåœ¨ GitHub ä¸Šè§£å†³ 1 ä¸‡äººçš„ Starï¼Œ

<span class="hljs-bullet">-</span>

</code></pre>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdiasurgical%2FDevilutionX" target="_blank" title="https://github.com/diasurgical/DevilutionX" ref="nofollow noopener noreferrer">github.com/diasurgicalâ€¦</a></p>
<pre><code class="hljs language-ini" lang="ini">
08

**å¼€æºçº¢è­¦å¼•æ“**

OpenRA æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€è‘—åçš„çº¢è­¦å¼€æºé¡¹ç›®ã€‚å®ƒä¸æ˜¯ç®€å•çš„æ¨¡æ‹Ÿå™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ RTS æ¸¸æˆå¼•æ“ã€‚

çº¢è­¦ 2 æ”¯æŒå¼€å‘ä¸­ï¼Œå®˜æ–¹æ­£åœ¨åˆ¶ä½œ RA2 Modï¼Œç›®å‰å·²å¯ç©ï¼Œä½†å°šæœªå®Œç¾ã€‚

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/789b7e2cd45e49c19aa8d4d2beda62cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=zLdlWKVoUaXFrjGvoKv7Jh1VmQ8%<span class="hljs-number">3</span>D)

æ”¯æŒ 4K åˆ†è¾¨ç‡ã€æˆ˜äº‰è¿·é›¾ã€å³é”®ç§»åŠ¨ï¼ˆç±»ä¼¼ LoLï¼‰ã€æ™ºèƒ½å¯»è·¯ã€‚ä¸ºäº†ç«æŠ€å…¬å¹³ï¼Œä¿®å¤äº†åŸç‰ˆå¦å…‹çš„å¾ˆå¤š Bugï¼Œæ‰€ä»¥æ‰‹æ„Ÿå’ŒåŸç‰ˆç•¥æœ‰ä¸åŒã€‚

è”æœºç¥å™¨ï¼Œå†…ç½®äº†æå…¶å®Œå–„çš„å¤šäººå¯¹æˆ˜å¤§å…ï¼Œéšæ—¶éƒ½èƒ½æ‰¾åˆ°äººç©ã€‚

!<span class="hljs-section">[å›¾ç‰‡]</span>(https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32a410bd993445099fd211823c785e85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?<span class="hljs-attr">rk3s</span>=f64ab15b&amp;x-expires=<span class="hljs-number">1767754583</span>&amp;x-signature=hAeyb1FWO6xolK4i4%<span class="hljs-number">2</span>F3zwRGwmZI%<span class="hljs-number">3</span>D)


</code></pre>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenRA%2FOpenRA" target="_blank" title="https://github.com/OpenRA/OpenRA" ref="nofollow noopener noreferrer">github.com/OpenRA/Openâ€¦</a></p>
<pre><code class="hljs"/></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ”¯ä»˜å® KJS Compose åŠ¨æ€åŒ–æ–¹æ¡ˆä¸æ¶æ„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7589567313168154659</link>    <guid>https://juejin.cn/post/7589567313168154659</guid>    <pubDate>2025-12-31T02:56:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589567313168154659" data-draft-id="7589567313168056355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ”¯ä»˜å® KJS Compose åŠ¨æ€åŒ–æ–¹æ¡ˆä¸æ¶æ„è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2025-12-31T02:56:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ”¯ä»˜å®ä½“éªŒç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/2629687543097592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ”¯ä»˜å® KJS Compose åŠ¨æ€åŒ–æ–¹æ¡ˆä¸æ¶æ„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2629687543097592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ”¯ä»˜å®ä½“éªŒç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T02:56:16.000Z" title="Wed Dec 31 2025 02:56:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç¼–è€…æŒ‰ï¼šåœ¨ KMP + Compose æˆä¸ºä¸»æµåŸç”Ÿ UI æŠ€æœ¯æ ˆçš„èƒŒæ™¯ä¸‹ï¼Œä¸šåŠ¡å¯¹â€œåŠ¨æ€åŒ–â€çš„è¯‰æ±‚æ­£ä»ä¾èµ– WebView æˆ–ç‹¬ç«‹æ¸²æŸ“ä½“ç³»ï¼Œè½¬å‘åœ¨ä¸ç ´åç°æœ‰æ¸²æŸ“é“¾è·¯ã€ä¸æ–°å¢ DSLã€ä¸”ä¸å½±å“æ ¸å¿ƒé¡µé¢æ€§èƒ½çš„å‰æä¸‹ï¼Œå®ç°æ›´ç»†ç²’åº¦ã€å¯æ§çš„åŠ¨æ€äº¤ä»˜èƒ½åŠ›ã€‚<br/>
æœ¬æ–‡ç”±æ”¯ä»˜å®ç»ˆç«¯æŠ€æœ¯å›¢é˜Ÿæ½˜äº‘é€¸(æ³•æ…§)ç¼–å†™ï¼Œç»“åˆå·¥ç¨‹å®è·µï¼Œæå‡ºäº†ä¸€ç§åŸºäº Kotlin/JS + Compose Runtime + Native Skia çš„å±€éƒ¨åŠ¨æ€åŒ–æ–¹æ¡ˆï¼šç”± JS ä¾§è´Ÿè´£ UI è®¡ç®—ï¼ŒNative ä¾§å¤ç”¨æ—¢æœ‰ Skia æ¸²æŸ“æ ˆå®Œæˆæœ€ç»ˆä¸Šå±ï¼Œåœ¨åŸç”Ÿ Compose é¡µé¢ä¸­å®ç°åŒºå—çº§ã€è„šæœ¬é©±åŠ¨çš„åŠ¨æ€ UI åµŒå…¥ã€‚</p>
</blockquote>
<h2 data-id="heading-0">èƒŒæ™¯ä¸ç›®æ ‡</h2>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765780685151-7937a4ec-a1fe-46ef-a90b-8e1d85855110.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-1">1.1 ä¸šåŠ¡èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆåˆè¦è°ˆâ€œåŠ¨æ€åŒ–â€</h3>
<p>å¤§å®¶å¯¹â€œåŠ¨æ€åŒ–â€çš„ç›´è§‰åŸºæœ¬ç­‰åŒäºï¼šâ€œJS + WebView/Native æ¸²æŸ“å¼•æ“ + ä¸€å¥—æ–° DSL/æ¡†æ¶â€ã€‚</p>
<p>ç«¯å†…ä¹Ÿæœ‰ Cubeã€H5/å°ç¨‹åºã€Bundle2.5 ç­‰ç­‰ï¼Œä½†åœ¨ MYKMP çš„æŠ€æœ¯ä½“ç³»ä¸‹ï¼Œæœ‰ä¸€äº›å¯è§çš„ç—›ç‚¹ï¼š</p>
<ul>
<li>
<p>æˆ‘ä»¬å·²ç»æœ‰ä¸€å¥—æˆç†Ÿã€ç»Ÿä¸€çš„ Compose å¸ƒå±€ä½“ç³»ï¼Œä¸šåŠ¡ä¹ æƒ¯ç”¨ Compose DSL å†™ UIï¼Œå¯¹äºéå¤ç”¨èµ„äº§ï¼Œå†™ä¸€å¥—å¡ç‰‡æˆæœ¬è¾ƒé«˜ï¼ŒåŒå±‚åµŒå…¥ä¸‹ä¼šæœ‰å¾ˆå¤šå…¼å®¹æ€§é—®é¢˜éœ€è¦å¤„ç†ã€‚</p>
</li>
<li>
<p>é¦–é¡µã€Tab ç­‰æ ¸å¿ƒåœºæ™¯å¯¹æ€§èƒ½éå¸¸æ•æ„Ÿï¼Œä¸å¸Œæœ›åœ¨è¿™äº›å…³é”®é¡µé¢å†…è€¦åˆ webviewï¼›</p>
</li>
</ul>
<p>åŒæ—¶ï¼Œä¸šåŠ¡ä¾§çš„è¯‰æ±‚åˆå¾ˆæ˜ç¡®ï¼š<strong>å¸Œæœ›åœ¨å·²æœ‰ KMP åŸç”Ÿé¡µé¢ä¸­ï¼Œå±€éƒ¨â€œæ’ä¸€å—â€åŠ¨æ€åŒºåŸŸï¼Œè¿™å—åŒºåŸŸå¯ä»¥é€šè¿‡ä¸‹å‘è„šæœ¬å¿«é€Ÿæ›´æ–°ï¼Œè€Œä¸éœ€è¦ä¸Šæ¶å‘ç‰ˆã€‚</strong></p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯è¿™æ ·ä¸€ç§èƒ½åŠ›ï¼š</p>
<ul>
<li>
<p>UI ä»£ç ä¾ç„¶æ˜¯ Compose DSLï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ³¨è§£å†³å®šå½“å‰ç»„ä»¶æ˜¯å¦ä¸º Remote ç»„ä»¶</p>
</li>
<li>
<p>åŠ¨æ€åŒ–çš„è½½ä½“æ˜¯ JS è„šæœ¬ï¼ˆæ˜“åˆ†å‘ã€æ˜“ç®¡ç†ï¼‰ï¼›</p>
</li>
<li>
<p>å¯ä»¥åœ¨åŸç”Ÿ Compose é¡µé¢é‡Œâ€œå±€éƒ¨åµŒå…¥â€åŠ¨æ€ UIï¼›</p>
</li>
<li>
<p>ä¸ä¾èµ– WebViewï¼Œä¹Ÿä¸ç ´åç°æœ‰ compose Native ä¾§æ¸²æŸ“æ ˆã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">1.2 æˆ‘ä»¬çš„ç›®æ ‡ï¼šCompose é€»è¾‘åŠ¨çº¿ JS é—­ç¯ï¼ŒNative åªè´Ÿè´£ä¸Šå±æ¸²æŸ“</h3>
<p>åœ¨ä¸ç ´åç°æœ‰ Native æ¸²æŸ“é“¾è·¯çš„å‰æä¸‹ï¼Œæˆ‘ä»¬ç»™è‡ªå·±è®¾å®šäº†ä¸‰å±‚ç›®æ ‡ï¼š</p>
<ol>
<li>
<p><strong>ä½“éªŒç›®æ ‡ï¼šä¸šåŠ¡ä¾§â€œåƒå†™æ™®é€š Compose ä¸€æ ·å†™åŠ¨æ€ UIâ€</strong></p>
<ul>
<li>
<p>ä¸šåŠ¡åŒå­¦ç»§ç»­ç”¨ Compose DSL å†™ UIï¼Œä¸éœ€è¦å­¦ä¹ æ–°çš„ DSL æˆ–æ¡†æ¶ï¼›</p>
</li>
<li>
<p>åŠ¨æ€ä¸é™æ€é¡µé¢åœ¨ä»£ç ç»“æ„ä¸Šå°½é‡ä¸€è‡´ï¼Œåªæ˜¯â€œè·‘çš„åœ°æ–¹â€ä¸åŒï¼š</p>
<ul>
<li>
<p>é™æ€ UIï¼šå³åŸç”Ÿ KMP Compose ä»£ç ï¼Œç›´æ¥åœ¨ Native Compose Runtime ä¸­æ‰§è¡Œï¼›</p>
</li>
<li>
<p>åŠ¨æ€ UIï¼šå³ç¼–è¯‘ç”Ÿæˆçš„ JS ä»£ç ï¼Œåœ¨ JS Runtime é‡Œæ‰§è¡Œ Compose é€»è¾‘ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æ¶æ„ç›®æ ‡ï¼šæ‹†åˆ†â€œè®¡ç®— UIâ€ä¸â€œæ¸²æŸ“ UIâ€</strong></p>
</li>
</ol>
<p>æˆ‘ä»¬æŠŠæ•´ä¸ª UI æ¸²æŸ“é“¾è·¯æ‹†æˆä¸¤æ®µï¼š</p>
<p>æ¢å¥è¯è¯´ï¼š</p>
<blockquote>
<p>JS ä¸–ç•Œåªè´Ÿè´£â€œç®— UIã€å‡ºå›¾çº¸â€ï¼ŒNative ä¸–ç•Œè´Ÿè´£â€œç…§å›¾çº¸ç”»â€ã€‚</p>
</blockquote>
<ul>
<li>
<p>JS ä¾§ï¼š</p>
<ul>
<li>
<p>æ­èµ·ä¸€å¥— JS ç‰ˆæœ¬çš„ Kotlin Runtime + Compose Runtimeï¼›</p>
</li>
<li>
<p>è´Ÿè´£çŠ¶æ€ç®¡ç†ã€é‡ç»„ã€å¸ƒå±€ã€æµ‹é‡ï¼›</p>
</li>
<li>
<p>æŠŠæœ€ç»ˆéœ€è¦ç»˜åˆ¶çš„å†…å®¹ï¼Œå½’çº¦ä¸ºä¸€ç»„â€œCanvas ç»˜åˆ¶æŒ‡ä»¤â€ï¼ˆè½åœ¨ <code>CanvasDrawScope</code> ä¸Šï¼‰ï¼›</p>
</li>
<li>
<p>ä¸åšçœŸæ­£çš„åƒç´ ç»˜åˆ¶ï¼Œä¹Ÿä¸ä¾èµ– Web Canvas æˆ– Skiko Wasmã€‚</p>
</li>
</ul>
</li>
<li>
<p>Native ä¾§ï¼š</p>
<ul>
<li>
<p>ç»§ç»­ä½¿ç”¨ç°æœ‰çš„ Kotlin/Native + Skia æ¸²æŸ“æ ˆï¼›</p>
</li>
<li>
<p>è´Ÿè´£æ¥æ”¶ JS ä¾§é€šè¿‡ JS Binding ä¼ æ¥çš„ç»˜åˆ¶æŒ‡ä»¤ï¼›</p>
</li>
<li>
<p>ç”¨ <code>Skia PictureRecorder</code> åšâ€œå½•åˆ¶â€ï¼Œå½¢æˆä¸€ä»½å¯é‡æ”¾çš„ <code>Picture</code>ï¼›</p>
</li>
<li>
<p>åœ¨éœ€è¦ä¸Šå±æ—¶ï¼ŒæŠŠè¿™ä»½ <code>Picture</code> ç»˜åˆ¶åˆ°å¯¹åº”çš„ Compose å®¹å™¨åŒºåŸŸã€‚</p>
</li>
</ul>
</li>
</ul>
<ol>
<li><strong>èƒ½åŠ›ç›®æ ‡ï¼šå…ˆæ”¯æŒâ€œå±€éƒ¨åŠ¨æ€åŒ–åµŒå…¥â€ï¼Œåç»­å†æ‹“å±•åˆ°æ•´ä¸ªé¡µé¢ã€‚</strong> æˆ‘ä»¬å¹¶ä¸è¿½æ±‚â€œä¸€ä¸Šæ¥å°±æŠŠæ•´é¡µäº¤ç»™è„šæœ¬â€ï¼Œè€Œæ˜¯èšç„¦åœ¨æ›´å…·ä½“ã€å¯æ§çš„èƒ½åŠ›ï¼š</li>
</ol>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>
<p>åœ¨ä¸€ä¸ªåŸç”Ÿ Compose é¡µé¢ä¸­ï¼ŒæŸä¸ªåŒºåŸŸç”±åŠ¨æ€è„šæœ¬é©±åŠ¨ï¼›</p>
</li>
<li>
<p>è¿™ä¸ªåŒºåŸŸå¯ä»¥ç‹¬ç«‹æ›´æ–°ã€ç‹¬ç«‹ç°åº¦ï¼›</p>
</li>
<li>
<p>å…¶ä½™éƒ¨åˆ†ä»ç„¶æ˜¯æ­£å¸¸çš„åŸç”Ÿ Compose ä»£ç ï¼›</p>
</li>
<li>
<p>æ”¯æŒåç»­æ‰©å±•ä¸ºå¤šå—åŠ¨æ€åŒºåŸŸã€ç”šè‡³ç»„åˆåµŒå…¥ã€‚</p>
</li>
<li>
<p>å¯¹ç°æœ‰ä¸šåŠ¡é¡µé¢æ”¹é€ æˆæœ¬å°ï¼ˆæ·»åŠ ä¸€ä¸ªåŠ¨æ€å®¹å™¨ Composable å³å¯ï¼‰ï¼›</p>
</li>
<li>
<p>åŠ¨æ€èƒ½åŠ›å¯ä»¥ä»ç®€å•åœºæ™¯é€æ­¥æ‰©å±•åˆ°å¤æ‚åœºæ™¯ï¼›</p>
</li>
<li>
<p>ä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿé™çº§ä¸ºé™æ€å®ç°æˆ–å…³é—­æŸä¸ªåŠ¨æ€åŒºåŸŸã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">1.3 æœ€ç»ˆå¸Œæœ›è¾¾åˆ°çš„çŠ¶æ€</h3>
<p>ä»ä¸šåŠ¡è§†è§’æ¥çœ‹ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€åå‘ˆç°å‡ºæ¥çš„æ˜¯è¿™æ ·ä¸€ç§ä½“éªŒï¼š</p>
<ul>
<li>
<p>å†™ UI çš„æ–¹å¼ä¸å˜ï¼šä¾æ—§æ˜¯ç†Ÿæ‚‰çš„ <code>@Composable</code>ã€<code>Column</code>ã€<code>Row</code>ã€<code>Text</code> ç­‰ï¼›</p>
</li>
<li>
<p>å¤šäº†ä¸€ç§â€œéƒ¨ç½²æ–¹å¼â€ï¼š</p>
<ul>
<li>
<p>å¯ä»¥æŠŠè¿™æ®µ Compose ç¼–è¯‘åˆ° Nativeï¼Œéš App å‘ç‰ˆï¼›</p>
</li>
<li>
<p>ä¹Ÿå¯ä»¥æŠŠè¿™æ®µ Compose ç¼–è¯‘åˆ° JSï¼Œé€šè¿‡è„šæœ¬ä¸‹å‘ï¼Œåœ¨ JS Runtime ä¸­è¿è¡Œï¼›</p>
</li>
</ul>
</li>
<li>
<p>åœ¨é¡µé¢é‡Œç”¨èµ·æ¥ï¼Œå¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<p>@Composable
fun HomePage() {
Column {
Header() // åŸç”Ÿé™æ€åŒºåŸŸ</p>
<pre><code class="hljs language-less" lang="less">    <span class="hljs-selector-tag">RemoteView</span>(
        <span class="hljs-comment">// scriptId åªæ˜¯ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ˜¯ä¸šåŠ¡è‡ªå®šä¹‰çš„ bizIdï¼Œä¹Ÿå¯ä»¥æ˜¯æ¨¡å— artifactId</span>
        scriptId = <span class="hljs-string">"home_feed_dynamic_v1"</span>, <span class="hljs-comment">// å¯¹åº”æŸä¸ªä¸‹å‘è„šæœ¬</span>
        modifier = Modifier.<span class="hljs-built_in">fillMaxWidth</span>().<span class="hljs-built_in">height</span>(<span class="hljs-number">200</span>.dp)
    )

    <span class="hljs-selector-tag">Footer</span>() <span class="hljs-comment">// åŸç”Ÿé™æ€åŒºåŸŸ</span>
}
</code></pre>
<p>}</p>
</li>
<li>
<p>è€Œå¯¹äºè¿™å— <code>RemoteView</code>ï¼š</p>
<ul>
<li>
<p>é¦–æ¬¡è¿›å…¥æ—¶ï¼šåœ¨åå°åˆ›å»ºä¸€ä¸ª JSContextï¼ŒåŠ è½½ä¸šåŠ¡ä¸‹å‘çš„ JSï¼ˆé‡Œé¢æ˜¯ Compose + Kotlin Runtimeï¼‰ï¼Œæ‰§è¡Œåˆå§‹ç»˜åˆ¶ï¼Œç”Ÿæˆä¸€ä»½ Skia <code>Picture</code>ï¼›</p>
</li>
<li>
<p>ä¸šåŠ¡çŠ¶æ€å˜åŒ–æ—¶ï¼šJS ä¾§è§¦å‘é‡ç»„ï¼Œé‡æ–°ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤ï¼ŒNative å½•åˆ¶æ–°çš„ <code>Picture</code>ï¼Œå±€éƒ¨åˆ·æ–°è¯¥åŒºåŸŸï¼›</p>
</li>
<li>
<p>ä¸šåŠ¡æ— æ„ŸçŸ¥æ•´ä¸ªæ¸²æŸ“ç»†èŠ‚ï¼Œåªå…³æ³¨â€œè¿™å—åŒºåŸŸçš„ UI å’ŒçŠ¶æ€â€ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ä»æ¶æ„è§†è§’æ¥çœ‹ï¼Œè¿™å¥—æ–¹æ¡ˆåœ¨åŠ¨æ€åŒ–èƒ½åŠ›ä¸ç°æœ‰åŸç”Ÿæ ˆä¹‹é—´æ­äº†ä¸€åº§æ¡¥ï¼š</p>
<ul>
<li>
<p>ä¸Šå±‚ç»Ÿä¸€ä½¿ç”¨ Compose DSLï¼›</p>
</li>
<li>
<p>ä¸­é—´ç”¨ Kotlin/JS Runtime + Compose Runtime å®ç°â€œè·¨è¯­è¨€çš„ UI è®¡ç®—â€ï¼›</p>
</li>
<li>
<p>åº•å±‚ç»Ÿä¸€è½åœ¨ Skia æ¸²æŸ“ï¼Œæ²¿ç”¨ç°æœ‰æ€§èƒ½ä¼˜åŒ–å’Œæ¸²æŸ“æµæ°´çº¿ã€‚</p>
</li>
</ul>
<p>è¿™å°±æ˜¯æˆ‘ä»¬è¿™æ¬¡æ–¹æ¡ˆè®¾è®¡èƒŒåçš„èƒŒæ™¯ä¸ç›®æ ‡ï¼š<br/>
<strong>åœ¨ä¸å¼•å…¥ WebViewã€ä¸é‡å¤å¼•å…¥ä¸€æ•´å¥— Wasm Skia æ¸²æŸ“æ ˆçš„å‰æä¸‹ï¼Œå°† Compose çš„åŠ¨æ€åŒ–èƒ½åŠ›â€œæ¬åˆ° JS + Native Bindingâ€ä¹‹ä¸Šï¼Œè®©ä¸šåŠ¡åœ¨æœ€å°å¿ƒæ™ºè´Ÿæ‹…ä¸‹è·å¾—æ‰å®å¯æ§çš„å±€éƒ¨åŠ¨æ€åŒ–èƒ½åŠ›ã€‚</strong></p>
<h2 data-id="heading-4">ç°æœ‰æ–¹æ¡ˆåˆ†æ</h2>
<h3 data-id="heading-5">2.1 Kuikly åŠ¨æ€åŒ–</h3>
<p>Kuikly æ˜¯è…¾è®¯å¼€æºçš„ä¸€å¥—è·¨å¹³å° UI æ¸²æŸ“è§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„æŠ€æœ¯è·¯çº¿æ˜¯ä¿ç•™ Kotlin ä¾§çš„ UI æ ‘/ç»„ä»¶ä½“ç³»ï¼Œå¤ç”¨ ComposeDSLï¼Œåœ¨ Kotlin å†…éƒ¨å†…åŒ– Build -&gt; Measure -&gt; Layoutï¼ŒNative ä¾§ä»…ä¿ç•™äº†åŸå­åŒ–çš„ View èƒ½åŠ›å’Œé€šç”¨çš„è§†å›¾æ ‘å¢åˆ æ”¹æ¥å£çš„æ˜ å°„å®ç°ï¼ˆåˆ›å»ºæ§ä»¶ã€æŒ‚è½½å­æ§ä»¶ã€è®¾ç½®å±æ€§ã€è®¾ç½®å¸ƒå±€ç»“æœç­‰ï¼‰ï¼ŒKotlin ä¾§æœ€ç»ˆé€šè¿‡æ¸²æŸ“æ¥å£ï¼Œç›´æ¥æŠŠå¸ƒå±€å’Œå±æ€§åŒæ­¥å˜æ›´åˆ° Native View ä¸Šï¼Œå†ç”± Native View ä¸Šå±æ¸²æŸ“ã€‚</p>
<p>åœ¨è¿™ä¸ªæŠ€æœ¯æ¶æ„ä½“ç³»é‡Œï¼Œæä¾›åŠ¨æ€åŒ–èƒ½åŠ›å°±ç›¸å¯¹æ¯”è¾ƒç®€å•äº†ï¼Œåªéœ€è¦é€‚é… ComposeDSLï¼Œå®Œæˆä»¥ä¸‹è·¯å¾„å³å¯ï¼š</p>
<ol>
<li>
<p>ä¸‹å‘çš„ Compose DSL è§£æ-&gt; Kuikly ç»„ä»¶æ ‘ğŸŒ²</p>
</li>
<li>
<p>Native ä¾§ Kotlin å®Œæˆæµ‹é‡å¸ƒå±€</p>
</li>
<li>
<p>é€šè¿‡æ¸²æŸ“æ¥å£æ›´æ–°åŸç”Ÿæ§ä»¶</p>
</li>
</ol>
<h3 data-id="heading-6">2.2 KJS For Web</h3>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765958747959-6e7cb0e5-6fe0-4afa-9b32-4a97d15c9973.png" alt="" loading="lazy"/></p>
<p>Kotlin/JSï¼ˆç®€ç§° KJSï¼‰å…¶å®å·²ç»æä¾›äº†ä¸€å¥—æ¯”è¾ƒå®Œæ•´çš„åŠ¨æ€åŒ–èƒ½åŠ›ï¼š<br/>
æŠŠ Kotlin ä»£ç ç¼–è¯‘æˆ JSï¼Œå¹¶å¸¦ä¸Šä¸€æ•´å¥— Kotlin Runtimeï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒé‡Œè·‘ã€‚<br/>
å®ƒå…¸å‹çš„äº§ç‰©ç»“æ„æ˜¯ä¸‰ä»¶å¥—ï¼š</p>
<ul>
<li>
<p><code>composeApp.js</code>ï¼šä¸šåŠ¡ä»£ç  + Kotlin/JS Runtime + Compose Runtimeï¼›</p>
</li>
<li>
<p><code>skiko.js</code>ï¼šJS ä¸ Skiaï¼ˆWasmï¼‰çš„èƒ¶æ°´å±‚ï¼›</p>
</li>
<li>
<p><code>skiko.wasm</code>ï¼šçœŸæ­£çš„ Skia å›¾å½¢å¼•æ“ï¼ˆWasm ç‰ˆï¼‰ã€‚</p>
</li>
</ul>
<p>åœ¨ Web åœºæ™¯ä¸‹ï¼Œè¿™å¥—æ–¹æ¡ˆæ˜¯åˆç†çš„ï¼šæµè§ˆå™¨æä¾›äº† JS å¼•æ“å’Œ Canvasï¼ŒKJS æä¾›äº† Kotlin/JS Runtime å’Œ Compose é€»è¾‘ï¼ŒSkiko/Skia åˆ™è´Ÿè´£æœ€ç»ˆçš„åƒç´ çº§ç»˜åˆ¶ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765768426669-9f2ccb55-f8ae-4fa9-b7e1-2a5238905905.png" alt="" loading="lazy"/></p>
<p>ä½†å¦‚æœæˆ‘ä»¬æŠŠè¿™å¥—è®¾è®¡ç›´æ¥æ¬åˆ°å®¢æˆ·ç«¯åŸç”Ÿç¯å¢ƒï¼Œä¼šé‡åˆ°å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li><strong>å¼ºä¾èµ– Web ç¯å¢ƒ</strong></li>
</ol>
<ul>
<li>
<p>KJS for Web é»˜è®¤å­˜åœ¨ <code>document</code>ã€Canvasã€äº‹ä»¶æ¨¡å‹ç­‰æµè§ˆå™¨èƒ½åŠ›ï¼›</p>
</li>
<li>
<p>è¿™æ„å‘³ç€è¦åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­è½åœ°ï¼Œé€šå¸¸éœ€è¦å¼•å…¥ WebViewï¼Œè¿™æ˜¯é¦–é¡µ / Tab ç­‰å…³é”®åœºæ™¯æ— æ³•æ¥å—çš„ã€‚</p>
</li>
</ul>
<ol>
<li><strong>é‡å¤å›¾å½¢æ ˆï¼šå¤šä¸€å¥— Wasm Skia æ²¡æ„ä¹‰</strong></li>
</ol>
<ul>
<li>
<p>å®¢æˆ·ç«¯ Native ä¾§å·²ç»æœ‰ä¸€æ•´å¥—å›´ç»• Skia çš„æ¸²æŸ“ pipelineï¼›</p>
</li>
<li>
<p>å†åŠ è½½ä¸€ä¸ª <code>skiko.wasm</code>ï¼Œç­‰äºåœ¨ App é‡Œç”¨ Wasm å†è·‘ä¸€ä»½ Skia â€”â€” åŒ…ä½“ã€å†…å­˜ã€åˆå§‹åŒ–æˆæœ¬éƒ½éå¸¸é«˜ï¼Œè€Œä¸”å’Œç°æœ‰æ¸²æŸ“æ ˆé‡å¤ã€‚</p>
</li>
</ul>
<ol>
<li><strong>iOS ç­‰å¹³å°çš„ç¯å¢ƒé™åˆ¶</strong></li>
</ol>
<ul>
<li>
<p>iOS ä¸å…è®¸åº”ç”¨è‡ªè¡Œ JITï¼ŒWebAssembly åœ¨é Web ç¯å¢ƒè¦é è§£é‡Šæˆ– AOT è¿è¡Œï¼›</p>
</li>
<li>
<p>åœ¨è¿™ç§çº¦æŸä¸‹ï¼Œå†å¡è¿›ä¸€å¥—é‡å‹ Wasm æ¸²æŸ“å¼•æ“ï¼Œæ€§ä»·æ¯”å¾ˆä½ã€‚</p>
</li>
</ul>
<p>æ€»ä½“æ¥çœ‹ï¼Œ<strong>KJS for Web æ˜¯ä¸ºâ€œåœ¨æµè§ˆå™¨é‡Œè·‘ Composeâ€è®¾è®¡çš„ï¼Œè€Œæˆ‘ä»¬ç°åœ¨è¦è§£å†³çš„æ˜¯â€œåœ¨åŸç”Ÿç¯å¢ƒé‡Œè·‘åŠ¨æ€ Composeâ€</strong>ï¼Œä¸¤è€…çš„å‰ææ¡ä»¶å®Œå…¨ä¸åŒã€‚</p>
<h3 data-id="heading-7">2.3 RemoteCompose</h3>
<p>å…¶æœ¬è´¨æ˜¯ç”¨â€œå¯åºåˆ—åŒ–çš„ç»˜åˆ¶æ–‡æ¡£â€+â€œé€šç”¨ Playerâ€ï¼ŒæŠŠ Compose UI ä» App æœ¬åœ°ç¼–è¯‘æ—¶ï¼Œè§£è€¦æˆè¿è¡Œæ—¶å¯è¿œç¨‹ä¸‹å‘å’Œæ’­æ”¾çš„å½¢æ€ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765768085990-753fd587-dd8a-4419-bc2e-6ffc5d69922b.png" alt="" loading="lazy"/></p>
<p><strong>1.å£°æ˜å¼æ–‡æ¡£åºåˆ—åŒ–</strong></p>
<ul>
<li>
<p>æŠŠ Compose UI çš„ç»˜åˆ¶è¿‡ç¨‹â€œæ•è·â€ä¸ºä¸€ä»½äºŒè¿›åˆ¶æ–‡æ¡£ï¼ˆç±»ä¼¼â€œç»˜åˆ¶æŒ‡ä»¤çš„å½•åƒå¸¦â€ï¼‰ï¼›</p>
</li>
<li>
<p>æ–‡æ¡£é‡Œä¸æ˜¯ JSON ç»„ä»¶æ ‘ï¼Œè€Œæ˜¯å¾ˆåº•å±‚çš„ç»˜å›¾æ“ä½œã€å¸ƒå±€ä¿¡æ¯ã€çŠ¶æ€ã€äº¤äº’å®šä¹‰ã€‚</p>
</li>
</ul>
<p><strong>2.å¹³å°æ— å…³çš„æ–‡æ¡£å›æ”¾ï¼ˆæ¸²æŸ“ï¼‰</strong></p>
<ul>
<li>
<p>å®¢æˆ·ç«¯æ‹¿åˆ°è¿™ä»½æ–‡æ¡£ï¼Œä¸éœ€è¦åŸæ¥çš„ @Composable ä»£ç ï¼Œä¹Ÿä¸éœ€è¦ä¸šåŠ¡ ViewModelï¼›</p>
</li>
<li>
<p>åªç”¨ä¸€ä¸ª <code>RemoteDocumentPlayer</code> ç»„ä»¶æŒ‰æŒ‡ä»¤åœ¨ Canvas ä¸Šç”»å‡ºæ¥ï¼›</p>
</li>
<li>
<p>åŒä¸€æ–‡æ¡£å¯ä»¥åœ¨ä¸åŒ Android è®¾å¤‡ï¼ˆæ‰‹æœº / å¹³æ¿ / æŠ˜å å± / Wearï¼‰ä»¥åŸç”Ÿæ–¹å¼æ¸²æŸ“ã€‚</p>
</li>
</ul>
<p>RemoteComposeçš„æ½œåœ¨é—®é¢˜æ˜¯</p>
<ol>
<li>
<p>å®˜æ–¹èƒ½åŠ›ä»…æ”¯æŒ Androidï¼Œç›®å‰ä¸º Snapshot ç‰ˆæœ¬</p>
</li>
<li>
<p>éœ€è¦ç»´æŠ¤ä¸€ä¸ªæœåŠ¡ç«¯åº”ç”¨ï¼Œç”¨æ¥åšçŠ¶æ€åŒæ­¥ï¼Œé©±åŠ¨æœåŠ¡ç«¯ compose é‡ç»„å’Œæ¸²æŸ“æŒ‡ä»¤é‡å½•</p>
</li>
<li>
<p>äº¤äº’åœºæ™¯å¯èƒ½ä¼šå› ä¸ºç½‘ç»œæŠ–åŠ¨å‘ç”Ÿå»¶è¿Ÿ</p>
</li>
</ol>
<h2 data-id="heading-8">KJS åŠ¨æ€åŒ–æ–¹æ¡ˆå’Œæ¶æ„è®¾è®¡</h2>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765964837143-6d87c44e-095a-4dda-a948-2e5b3cbdef2f.png" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æ»¡è¶³ä¸šåŠ¡å¯¹äº Compose åŠ¨æ€åŒ–çš„è¯‰æ±‚ï¼Œæˆ‘ä»¬ä¹Ÿè¯„ä¼°äº†ä¸€äº›ç›®å‰ç°æœ‰çš„æŠ€æœ¯è·¯çº¿ï¼Œä¾‹å¦‚ KJS for Webã€RemoteCompose ç­‰æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p>KJS for Web å¼ºä¾èµ– Web ç¯å¢ƒ + Wasm Skiaï¼Œä¸é€‚ç”¨äºçº¯ Native é¡µé¢ï¼›</p>
</li>
<li>
<p>RemoteCompose æ›´åâ€œåç«¯ç”Ÿæˆæ–‡æ¡£ + Android å®¢æˆ·ç«¯æ’­æ”¾â€ï¼Œä¸”ç›®å‰ä¸»è¦å®šä½åœ¨ Android ç”Ÿæ€ã€‚</p>
</li>
</ul>
<p>æœ€ç»ˆï¼Œæˆ‘ä»¬åŸºäº Kotlin/JSï¼ˆKJSï¼‰å’Œç°æœ‰ Native Skia æ¸²æŸ“æ ˆï¼Œè®¾è®¡äº†ä¸€å¥— â€œKJS Nativeâ€çš„å±€éƒ¨åŠ¨æ€åŒ–æ–¹æ¡ˆã€‚</p>
<p><strong>æ–¹æ¡ˆæ ¸å¿ƒæ€è·¯ï¼šJS åšé‡ç»„å¸ƒå±€ï¼ŒNative åšæ¸²æŸ“é‡æ”¾ã€‚</strong></p>
<blockquote>
<p>ç”¨ KJS åœ¨ JS Runtime ä¸­è·‘ä¸€å¥— Compose Runtimeï¼Œåªè´Ÿè´£é‡ç»„ / å¸ƒå±€ / æµ‹é‡ï¼Œå¹¶ç”Ÿæˆâ€œç»˜åˆ¶æŒ‡ä»¤â€ï¼›<br/>
å†é€šè¿‡ JS Binding æŠŠè¿™äº›æŒ‡ä»¤ä¸‹å‘åˆ° Nativeï¼Œç”¨ Skia çš„ Picture å½•åˆ¶ä¸é‡æ”¾å®ŒæˆçœŸå®æ¸²æŸ“ã€‚</p>
</blockquote>
<p>è¿™å…¶ä¸­æœ‰ä¸‰ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>KJS åªæ‰¿è½½é€»è¾‘ä¾§çš„ Compose Runtime</strong></p>
<ul>
<li>
<p>JS ä¾§ä¸å¼•å…¥ <code>skiko.wasm</code>ï¼Œä¹Ÿä¸è·‘ Wasm ç‰ˆ Skiaï¼›</p>
</li>
<li>
<p>åªä¿ç•™ Kotlin/JS Runtime + Compose Runtimeï¼ˆé‡ç»„ã€å¸ƒå±€ã€æµ‹é‡ï¼‰ï¼›</p>
</li>
<li>
<p>åœ¨ <code>CanvasDrawScope</code> è¿™ä¸€å±‚ç»Ÿä¸€æ”¶å£æ‰€æœ‰ç»˜åˆ¶åŠ¨ä½œã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>é€šè¿‡ JS Binding æŠŠ Canvas ç»˜åˆ¶æŒ‡ä»¤æ˜ å°„åˆ° Native</strong></p>
<ul>
<li>
<p>åœ¨ JS ä¾§æ”¹é€  <code>compose-ui / ui-graphics / ui-text</code> çš„ JS targetï¼›</p>
</li>
<li>
<p>å‰¥ç¦»å¯¹ Skiko çš„ä¾èµ–ï¼ŒæŠŠæœ€ç»ˆçš„ <code>drawRect/drawPath/drawText/...</code> å˜æˆä¸€ç»„â€œè·¨è¯­è¨€ç»˜åˆ¶æŒ‡ä»¤â€ï¼›</p>
</li>
<li>
<p>é€šè¿‡ JSI/NativeBinding å°†è¿™äº›æŒ‡ä»¤ä¼ é€’åˆ° Nativeã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>Native ä½¿ç”¨ Skia PictureRecorder åšå½•åˆ¶ä¸é‡æ”¾</strong></p>
<ul>
<li>
<p>Native æ”¶åˆ°ç»˜åˆ¶æŒ‡ä»¤åï¼Œç”¨ <code>Skia PictureRecorder</code> å¼€å§‹ä¸€æ¬¡å½•åˆ¶ï¼š</p>
<ul>
<li>
<p><code>beginRecording()</code>ï¼šæ¥æ”¶å¹¶æ‰§è¡ŒæŒ‡ä»¤ï¼ŒçœŸå®è°ƒç”¨ Skia APIï¼›</p>
</li>
<li>
<p><code>endRecording()</code>ï¼šå¾—åˆ°ä¸€ä»½ <code>Picture</code>ï¼›</p>
</li>
</ul>
</li>
<li>
<p>é¡µé¢å®é™…æ¸²æŸ“æ—¶ï¼Œåªéœ€è¦åœ¨å¯¹åº”åŒºåŸŸ <code>Canvas.drawPicture(picture)</code> å³å¯ï¼›</p>
</li>
<li>
<p>åŠ¨æ€åŒ–ç»„ä»¶è®¾ç½®æˆ graphicLayer åšå±‚çº§æå‡ï¼Œé™ä½é‡ç»˜çš„å¼€é”€</p>
</li>
</ul>
</li>
</ol>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªåŠ¨æ€å®¹å™¨ <code>RemoteView</code> ä¸ºä¾‹ï¼Œä¸²ä¸€ä¸‹å®é™…æ‰§è¡Œé“¾è·¯ã€‚</p>
<h3 data-id="heading-9">3.1 æ•´ä½“æµç¨‹ä»‹ç»</h3>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/4856553/1765784295666-ed3c7fc7-c00b-4520-954b-2bb0cbd6ffe9.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">Step 1ï¼šä¸šåŠ¡å£°æ˜åŠ¨æ€å®¹å™¨</h4>
<p>åœ¨åŸç”Ÿ Compose é¡µé¢ä¸­ï¼Œä¸šåŠ¡åªéœ€è¦ç”¨ä¸€ä¸ªå®¹å™¨æ‰¿æ¥åŠ¨æ€åŒºåŸŸï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@Composable
fun HomePage() {
    Column {
        Header() // åŸç”Ÿé™æ€åŒºåŸŸ
        // scriptId åªæ˜¯ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ˜¯ä¸šåŠ¡è‡ªå®šä¹‰çš„ bizIdï¼Œä¹Ÿå¯ä»¥æ˜¯æ¨¡å— artifactId
        RemoteView(<span class="hljs-attr">pageId</span> =pageId, 
                   <span class="hljs-attr">viewId</span> = viewId, 
                   <span class="hljs-attr">scriptUrl</span> = <span class="hljs-string">"https://kmp_demo/composeApp.js"</span>, 
                   <span class="hljs-attr">modifier</span> =  Modifier.height(
                   <span class="hljs-attr">height</span> = <span class="hljs-number">150</span>.dp).fillMaxWidth())

        Footer() // åŸç”Ÿé™æ€åŒºåŸŸ
    }
}
</code></pre>
<p><code>RemoteView</code> å†…éƒ¨åšçš„äº‹æƒ…ï¼š</p>
<ul>
<li>
<p>æ ¹æ® <code>scriptUrl</code>ï¼Œå¼‚æ­¥ä»æœ¬åœ° / ç½‘ç»œè·å–å¯¹åº”çš„ JS äº§ç‰©ï¼›</p>
</li>
<li>
<p>é€šè¿‡ <code>KJSEngine</code> åˆ›å»ºä¸€ä¸ª <code>JSContext</code>ï¼›</p>
</li>
<li>
<p>åœ¨è¿™ä¸ª JSContext é‡ŒåŠ è½½å¹¶æ‰§è¡Œä¸šåŠ¡çš„ Compose JS ä»£ç ï¼ˆKJS ç¼–è¯‘äº§ç‰©ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-11">Step 2ï¼šJS Runtime ä¸­é¦–æ¬¡ Composition ä¸ç»˜åˆ¶æŒ‡ä»¤ç”Ÿæˆ</h4>
<p>åœ¨ JSContext ä¸­ï¼š</p>
<ol>
<li>
<p>å¯åŠ¨ Kotlin/JS Runtime + Compose Runtimeï¼›</p>
</li>
<li>
<p>è¿è¡ŒåŠ¨æ€åŒºåŸŸå¯¹åº”çš„ <code>@Composable</code> å‡½æ•°ï¼›</p>
</li>
<li>
<p>å®Œæˆç¬¬ä¸€æ¬¡é‡ç»„ / å¸ƒå±€ / æµ‹é‡ï¼›</p>
</li>
<li>
<p>è¿›å…¥æ”¹é€ åçš„ <code>CanvasDrawScope</code>ï¼Œç”Ÿæˆä¸€ç»„ç»˜åˆ¶æŒ‡ä»¤ï¼ˆé€»è¾‘ä¸Šç±»ä¼¼ï¼š<code>drawRect</code>ã€<code>drawText</code>ã€<code>drawImage</code> ç­‰ï¼‰ã€‚</p>
</li>
</ol>
<p>æ­¤æ—¶ï¼Œæ‰€æœ‰ç»˜åˆ¶åŠ¨ä½œéƒ½ä¸ç›´æ¥ç”»ï¼Œè€Œæ˜¯ä»¥æŒ‡ä»¤çš„å½¢å¼ï¼Œé€šè¿‡ JS Binding é€åˆ° Nativeã€‚</p>
<h4 data-id="heading-12">Step 3ï¼šNative å½•åˆ¶ Skia Picture</h4>
<p>Native ä¾§ï¼š</p>
<ol>
<li>
<p>æ”¶åˆ°â€œå¼€å§‹å½•åˆ¶â€çš„ä¿¡å·ï¼Œåˆ›å»ºä¸€ä¸ª <code>Skia PictureRecorder</code>ï¼›</p>
</li>
<li>
<p>éå† JS ä¼ æ¥çš„ç»˜åˆ¶æŒ‡ä»¤ï¼Œé€æ¡è°ƒç”¨ Skia å¯¹åº” APIï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>
<p><code>canvas.drawRect(...)</code></p>
</li>
<li>
<p><code>canvas.drawPath(...)</code></p>
</li>
<li>
<p><code>paragraph.paint(canvas)</code>ï¼ˆæ–‡å­—é“¾è·¯æˆ‘ä»¬é€šè¿‡å°è£…è¿›è¡Œé€‚é…ï¼Œæœ€ç»ˆäº§å‡ºçš„ä¹Ÿæ˜¯ï¼‰ï¼›</p>
</li>
</ul>
</li>
<li>
<p>ç»“æŸå½•åˆ¶ï¼Œå¾—åˆ°ä¸€ä»½ <code>Picture</code> å¯¹è±¡ï¼›</p>
</li>
<li>
<p>é€šè¿‡ callback æˆ–çŠ¶æ€æ›´æ–°ï¼Œå°†è¿™ä»½ <code>Picture</code> æäº¤ç»™ä¸šåŠ¡å±‚ã€‚</p>
</li>
</ol>
<h4 data-id="heading-13">Step 4ï¼šä¸šåŠ¡ Compose æŠŠ Picture ä¸Šå±</h4>
<p><code>RemoteView</code> å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª <code>State&lt;Picture?&gt;</code>ï¼š</p>
<ul>
<li>
<p>å½“ Native å½•åˆ¶å®Œæˆï¼Œæ›´æ–° Pictureï¼›</p>
</li>
<li>
<p>Compose æ£€æµ‹åˆ°çŠ¶æ€å˜åŒ–ï¼Œé‡æ–°æ‰§è¡Œ <code>RemoteView</code> çš„ <code>draw</code> é€»è¾‘ï¼›</p>
</li>
<li>
<p>åœ¨å¯¹åº”çš„ <code>DrawScope</code> ä¸­è°ƒç”¨ <code>drawPicture(picture)</code>ï¼Œå°† Picture ç»˜åˆ¶åˆ°è¯¥å®¹å™¨åŒºåŸŸã€‚</p>
</li>
</ul>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼ŒåŠ¨æ€åŒºåŸŸçš„é¦–æ¬¡å±•ç¤ºå®Œæˆã€‚</p>
<h4 data-id="heading-14">Step 5ï¼šåç»­çŠ¶æ€å˜åŒ–ä¸å±€éƒ¨é‡ç»˜</h4>
<p>å½“ JS ä¾§çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ˆä¾‹å¦‚ï¼šæ•°æ®è¿”å›ã€ç”¨æˆ·ç‚¹å‡»ã€å†…éƒ¨åŠ¨ç”»è§¦å‘ï¼‰ï¼š</p>
<ol>
<li>
<p>JS ä¸­çš„ Compose Runtime è§¦å‘é‡ç»„ â†’ å¸ƒå±€ â†’ å†æ¬¡è¿›å…¥ç»˜åˆ¶é˜¶æ®µï¼›</p>
</li>
<li>
<p>æ–°ä¸€è½®ç»˜åˆ¶æŒ‡ä»¤é€šè¿‡ Binding ä¸‹å‘åˆ° Nativeï¼›</p>
</li>
<li>
<p>Native é‡æ–°å½•åˆ¶ä¸€ä»½æ–°çš„ <code>Picture</code>ï¼›</p>
</li>
<li>
<p>ä¸šåŠ¡å±‚å†æ¬¡æ›´æ–° Picture çŠ¶æ€ï¼Œè§¦å‘è¯¥åŒºåŸŸçš„å±€éƒ¨é‡ç»˜ã€‚</p>
</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹å¯¹ä¸šåŠ¡æ¥è¯´æ˜¯é€æ˜çš„ï¼ŒçŠ¶æ€åœ¨ KJS å†…éƒ¨æµè½¬ï¼Œæœ€ç»ˆå‘ˆç°çš„æ˜¯åƒç´ å˜åŒ–ã€‚è¿™ç§è§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªå¯è§çš„å¥½å¤„æ˜¯ï¼šåŠ¨æ€åŒ–åŒºå—çš„æ¸²æŸ“ç»“æœæ˜¯é€šè¿‡åŸç”Ÿç”»å¸ƒæ‰¿æ¥çš„ï¼Œå¤©ç„¶çš„ä¸å­˜åœ¨ä»»ä½•åŒå±‚é—®é¢˜ï¼Œåœ¨ KJS å®ç°ä¸­ï¼Œé€šè¿‡å‰¥ç¦»å®ä½“ Surfaceï¼Œä½¿å¾—é©±åŠ¨é¡µé¢æ¸²æŸ“ç»˜åˆ¶æˆä¸ºå¯èƒ½ã€‚åŒæ ·çš„ï¼Œåœ¨é€‚é…å¤šå¹³å°æ—¶ï¼Œå› ä¸ºæœ€ç»ˆçš„ js äº§ç‰©å¤šç«¯ä¸€è‡´ï¼Œåªéœ€è¦å®ç°ä¸€äº›åŸå­åŒ–çš„ JS Binding æŒ‡ä»¤å³å¯ï¼Œè¿ç§»åˆ°å…¶ä»–å¹³å°çš„æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚</p>
<h3 data-id="heading-15">3.2 çŠ¶æ€ä¸äº¤äº’</h3>
<p>åŠ¨æ€ UI ä¸å¯èƒ½åªæœ‰â€œç”»ä¸€å¼ é™æ€å›¾â€ï¼Œäº¤äº’æ˜¯å¿…é¡»çš„ã€‚æˆ‘ä»¬åœ¨ä¸¤ç«¯éƒ½åšäº†è®¾è®¡ï¼š</p>
<h4 data-id="heading-16">JS ä¾§ï¼šä¿ç•™ Compose çš„çŠ¶æ€æ¨¡å‹</h4>
<p>åœ¨ KJS ä¾§ï¼Œæˆ‘ä»¬ä¾ç„¶ä½¿ç”¨ Compose çš„çŠ¶æ€æ¨¡å‹ï¼Œä¾‹å¦‚ <code>remember</code>ã€<code>mutableStateOf</code> ç­‰ï¼Œç”¨æ¥ç®¡ç†ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DynamicButton</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> clicked <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">false</span>) }
    Button(onClick = { clicked = !clicked }) {
        Text(<span class="hljs-keyword">if</span> (clicked) <span class="hljs-string">"Clicked"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"Click Me"</span>)
    }
}
</code></pre>
<p>è¿™äº›çŠ¶æ€å˜åŒ–ä¼šè‡ªç„¶é©±åŠ¨ KJS ä¾§é‡ç»„å’Œé‡æ–°ç»˜åˆ¶ï¼Œä»è€Œç”Ÿæˆæ–°çš„ç»˜åˆ¶æŒ‡ä»¤ã€‚</p>
<h4 data-id="heading-17">Native ä¾§ï¼šäº‹ä»¶åˆ†å‘ä¸åŒæ­¥</h4>
<p>ä¸ºäº†è®©ç”¨æˆ·çš„ç‚¹å‡» / æ»‘åŠ¨äº‹ä»¶èƒ½åé¦ˆåˆ° JS ä¾§ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€æ¡äº‹ä»¶é€šè·¯ï¼š</p>
<ol>
<li>
<p>Native Compose é¡µé¢æ•è·ç‚¹å‡» / æ»‘åŠ¨ç­‰åŸç”Ÿäº‹ä»¶ï¼›</p>
</li>
<li>
<p>å°†ç›¸å…³ä¿¡æ¯ï¼ˆåæ ‡ã€ç±»å‹ç­‰ï¼‰é€šè¿‡ Native Binding ä¼ ç»™ JS ä¾§çš„ composeSceneï¼›</p>
</li>
<li>
<p>åœ¨ JS ä¾§ï¼Œæ˜ å°„åˆ° Compose çš„è¾“å…¥äº‹ä»¶ç³»ç»Ÿï¼ˆå¦‚ç‚¹å‡»ã€æ»šåŠ¨äº‹ä»¶ï¼‰ï¼Œè§¦å‘å¯¹åº”çš„å¤„ç†é€»è¾‘ï¼›</p>
</li>
<li>
<p>çŠ¶æ€å˜åŒ–åï¼Œé‡æ–°ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤ â†’ æ–° Picture â†’ å±€éƒ¨é‡ç»˜ã€‚</p>
</li>
</ol>
<p>å¤§éƒ¨åˆ†å›¾å½¢ç»˜åˆ¶æŒ‡ä»¤å¯ä»¥æ¯”è¾ƒç›´æ¥æ˜ å°„ä¸º Skia çš„ APIï¼ˆç›´çº¿ã€çŸ©å½¢ã€åœ†å½¢ã€è·¯å¾„ã€å›¾ç‰‡ç­‰ï¼‰ã€‚<br/>
æ–‡å­—æ¸²æŸ“åˆ™ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦ä¸€äº›é¢å¤–çš„å·¥ä½œï¼š</p>
<h3 data-id="heading-18">3.3 æ–‡å­—æ¸²æŸ“é“¾è·¯</h3>
<p>åœ¨ Kotlin Native ä¾§ï¼ŒCompose çš„ä¸»è¦å·¥ä½œæ˜¯ï¼š</p>
<ol>
<li>
<p><strong>æŠŠå£°æ˜å¼æ ·å¼ç¿»è¯‘æˆ Skia èƒ½è¯†åˆ«çš„å­—ä½“èµ„æºå’Œæ®µè½æ ·å¼</strong>ï¼ˆè¯»å–ã€æ³¨å†Œã€è§£æã€fallbackï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‹¿åˆ° Skia ç®—å¥½çš„å°ºå¯¸å¹¶æŠŠå®ƒç”»åˆ° Skia Canvas ä¸Š</strong>ã€‚<br/>
çœŸæ­£çš„ã€Œæ–­è¡Œã€å­—å½¢é€‰æ‹©ã€å…‰æ …åŒ–ã€å…¨éƒ¨ç”± Skia å®Œæˆã€‚</p>
</li>
</ol>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€æ¬¡æ­£å¸¸çš„æ–‡å­—æ¸²æŸ“æµç¨‹æ˜¯å•¥æ ·çš„ï¼š</p>
<p>é˜¶æ®µ</p>
<p>è¾“å…¥</p>
<p>åŠ¨ä½œï¼ˆå…³é”®æºç ï¼‰</p>
<p>è¾“å‡º</p>
<p><strong>1 å…¥å£</strong></p>
<p>TextLayoutInputï¼ˆtext, style, constraints, maxLines, overflowâ€¦ï¼‰</p>
<p><code>layout(textLayoutInput)</code>è¢«è°ƒç”¨</p>
<p>å¼€å§‹å¸ƒå±€æµç¨‹</p>
<p><strong>2 é¢„æ’ç‰ˆ</strong></p>
<p>åŒä¸Š</p>
<p><code>MultiParagraphIntrinsics(...)</code> æ„é€ </p>
<p>å¾—åˆ°æ®µè½éª¨æ¶ <code>nonNullIntrinsics</code>ï¼Œå«æ¯æ®µ intrinsicsã€å­—ä½“ã€å ä½ç¬¦ç­‰ï¼Œä½†è¿˜æ²¡çœŸå¸ƒå±€</p>
<p><strong>3 å†³å®šæ’ç‰ˆå®½åº¦</strong></p>
<p>constraints + éª¨æ¶.maxIntrinsicWidth</p>
<p><code>val width = if (min==max) max else maxIntrinsicWidth.coerceIn(min, max)</code></p>
<p>æœ€ç»ˆç”¨äºå¸ƒå±€çš„ <code>width</code>ï¼ˆåƒç´ å€¼ï¼‰</p>
<p><strong>4 ä¿®æ­£ maxLines</strong></p>
<p>softWrapã€overflow</p>
<p><code>val overwrite = !softWrap &amp;&amp; overflow.isEllipsis</code> <code>val finalMaxLines = if(overwrite) 1 else maxLines</code></p>
<p>ä¿®æ­£åçš„è¡Œæ•°é™åˆ¶</p>
<p><strong>5 åˆ›å»º MultiParagraph</strong></p>
<p>éª¨æ¶ã€ä¿®æ­£åçš„ widthã€maxLinesã€overflow</p>
<p><code>MultiParagraph(...)``init{}</code> å†…ï¼š â‘  é€æ®µåˆ›å»º <code>Paragraph</code> â‘¡ ç´¯åŠ  height/lineCount â‘¢ æå‰ break è‹¥å·²è¶…é™</p>
<p>å¾—åˆ°çœŸæ­£çš„æ’ç‰ˆå®ä½“ï¼š - æ€»å®½ = constraints.maxWidth.toFloat() - æ€»é«˜ = currentHeight - lineCount - didExceedMaxLines - paragraphInfoListï¼ˆå«æ¯æ®µ y/è¡Œå·/å­—ç¬¦åŒºé—´ï¼‰ - placeholderRects</p>
<p><strong>6 åŒ…è£…æˆç»“æœ</strong></p>
<p>åŸå§‹ TextLayoutInput + MultiParagraph</p>
<p><code>TextLayoutResult(layoutInput = ..., multiParagraph = ..., size = ...)</code></p>
<p>è¿”å›çš„ <code>TextLayoutResult</code> å®ä¾‹ï¼Œæ‰€æœ‰æŸ¥è¯¢/ç»˜åˆ¶éƒ½ä¾èµ–å®ƒ</p>
<p>æ€»ç»“ä¸‹æ¥å…¶å®æ˜¯ï¼š</p>
<ul>
<li>
<p>Kotlin/Native ä¾§çš„æ–‡å­—æ¸²æŸ“ä¾èµ– Skia çš„æ’ç‰ˆèƒ½åŠ›ï¼Œå‘ä¸Šå±‚ kotlin ä¾§é€å‡º <code>SKParagraph</code>ï¼Œé€šè¿‡æ‹¿åˆ° TextLayoutResult æ¥èåˆè¿› Compose æ•´ä½“çš„å¸ƒå±€æµ‹é‡æµç¨‹ï¼ŒçœŸæ­£ç»˜åˆ¶æ—¶ä¼šè°ƒç”¨ <code>paragraph.paint(canvas)</code>ã€‚</p>
</li>
<li>
<p>åŸç”Ÿ KMP Compose ä¸­ï¼ŒSkiko æŠŠè¿™éƒ¨åˆ†å°è£…å¥½ç›´æ¥ç”¨ï¼Œç°åœ¨æˆ‘ä»¬åªèƒ½åœ¨ KJS é‡Œå°è£…äº†ä¸€å¥—å®Œæ•´å¯¹åº”èƒ½åŠ›ï¼š</p>
<ul>
<li>
<p>JS ä¾§æè¿°æ–‡æœ¬å†…å®¹ã€æ ·å¼ã€çº¦æŸï¼ˆå®½åº¦ã€é«˜åº¦ç­‰ï¼‰ï¼›</p>
</li>
<li>
<p>Native æ ¹æ®æè¿°æ„å»º Skia Paragraphï¼Œå¯¹æ–‡æœ¬å¸ƒå±€ä¸ç»˜åˆ¶è¿›è¡Œå¤„ç†ï¼Œè¿”å› <code>TextLayoutResult</code>ï¼Œèåˆè¿›å·²æœ‰çš„ Compose å¸ƒå±€ä½“ç³»ã€‚</p>
</li>
<li>
<p>åœ¨å½•åˆ¶é˜¶æ®µï¼ŒæŠŠæ–‡å­—ç»˜åˆ¶é€è¿‡ RecordingCanvas çº³å…¥ Pictureã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-19">æ–¹æ¡ˆå¯¹æ¯”</h2>
<h3 data-id="heading-20">4.1 ä¸ KJS For Web çš„å¯¹æ¯”</h3>
<ul>
<li>
<p>KJS For Webï¼š</p>
<ul>
<li>
<p>å¼ºä¾èµ– Web ç¯å¢ƒï¼ˆDOMã€Canvasã€WebAssemblyï¼‰ï¼›</p>
</li>
<li>
<p>å¼•å…¥ <code>skiko.wasm</code>ï¼Œåœ¨ JS + Wasm ä¸­è·‘ Skiaï¼›</p>
</li>
<li>
<p>é€šå¸¸éœ€è¦ WebViewï¼Œåœ¨é¦–é¡µ/Tab ç­‰åŸç”Ÿæ ¸å¿ƒåœºæ™¯éš¾ä»¥æ¥å—ã€‚</p>
</li>
</ul>
</li>
<li>
<p>æˆ‘ä»¬ï¼š</p>
<ul>
<li>
<p>ä¸ä¾èµ– WebViewï¼Œä¸ä½¿ç”¨ Wasmï¼›</p>
</li>
<li>
<p>å®Œæ•´æ¸²æŸ“æƒç•™åœ¨ Native Skiaï¼›</p>
</li>
<li>
<p>KJS åªåšé€»è¾‘å±‚çš„ Compose Runtimeï¼Œä¸å¯åŠ¨ç¬¬äºŒå¥—å›¾å½¢æ ˆã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-21">4.2 ä¸ RemoteCompose çš„å¯¹æ¯”</h3>
<ul>
<li>
<p>RemoteComposeï¼š</p>
<ul>
<li>
<p>æœåŠ¡ç«¯ç”Ÿæˆâ€œç»˜åˆ¶æ–‡æ¡£â€ï¼›å®¢æˆ·ç«¯é€šè¿‡ Remote Player è§£é‡Šæ‰§è¡Œï¼›</p>
</li>
<li>
<p>æ›´åâ€œæœåŠ¡ç«¯é©±åŠ¨ UIâ€ï¼Œå®¢æˆ·ç«¯ä»…è´Ÿè´£æ’­æ”¾å’Œè¡Œä¸ºå›è°ƒï¼›</p>
</li>
<li>
<p>æ–‡æ¡£åè®®ã€æ“ä½œæ¨¡å‹ã€çŠ¶æ€ç³»ç»Ÿéƒ½æ˜¯å•ç‹¬çš„ä¸€å¥—ã€‚</p>
</li>
</ul>
</li>
<li>
<p>æˆ‘ä»¬ï¼š</p>
<ul>
<li>
<p>åŠ¨æ€äº§ç‰©æ˜¯ KJS ç¼–è¯‘åçš„ JS + Kotlin/JS Runtimeï¼›</p>
</li>
<li>
<p>æ²¡æœ‰å¼•å…¥é¢å¤–é€šç”¨æ–‡æ¡£åè®®ï¼Œä¹Ÿæ²¡æœ‰ Remote Player é»‘ç›’ï¼›</p>
</li>
<li>
<p>ç›´æ¥å¯¹æ¥ç°æœ‰ Compose æ¡†æ¶ä¸ Skia æ¸²æŸ“æ ˆï¼ŒæŒæ§åŠ›æ›´å¼ºï¼Œè´´åˆ KMP æ¶æ„ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ä»ä¸šåŠ¡è§†è§’çœ‹ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆæ›´æ¥è¿‘äºï¼š</p>
<p>åœ¨åŸç”Ÿ Compose é¡µé¢ä¸­ï¼Œæ’å…¥ä¸€å—ç”± JS é©±åŠ¨çš„ Compose å­æ ‘ï¼Œè¿™æ£µå­æ ‘è´Ÿè´£è‡ªå·±é‡ç»„å’Œâ€œç”»ä»€ä¹ˆâ€ï¼Œ<br/>
è€Œâ€œæ€ä¹ˆç”»â€ä»ç„¶äº¤ç»™åŸç”Ÿ Skiaã€‚</p>
<h2 data-id="heading-22">æ€§èƒ½åŸºçº¿</h2>
<h3 data-id="heading-23">5.1 äº§ç‰©åŒ…å¤§å°</h3>
<p>ç›®å‰çº¿ä¸‹äº§ç‰©é‡‡ç”¨å•äº§ç‰©æ–¹ä¾¿å¿«é€ŸéªŒè¯ï¼Œå•äº§ç‰© DCE + æ··æ·†åï¼Œå¤§å°ä¸º 1.52 MiBï¼ˆåŒ…å« kotlin runtime + compose foundation/ui/ui-graphics/ui-text ç­‰å¿…è¦çš„åŸºç¡€åº“ï¼‰ã€‚</p>
<h3 data-id="heading-24">5.2 çº¿ä¸‹æ•ˆæœå¯¹æ¯”</h3>
<p>æ­¤å¤„ä¸ºå¯¹æ¯”è§†é¢‘ï¼Œè§å…¬ä¼—å·æ–‡ç« </p>
<blockquote>
<p>å·¦ï¼šKJS Native</p>
<p>å³ï¼šåŸç”Ÿ KMP</p>
</blockquote>
<h3 data-id="heading-25">5.3 çº¿ä¸‹æ•°æ®å¯¹æ¯”</h3>
<p>ä»¥ä¸Šè¿°ç®€å•çš„å›¾æ–‡è§†å›¾ä¸ºä¾‹:</p>
<ol>
<li>
<p>KJS Native æœ€ç»ˆçš„æ¸²æŸ“æŒ‡ä»¤ä¸º 113 æ¡ï¼Œä»ç«¯ä¾§åˆ›å»º composeWindow ä¸ºèµ·ç‚¹ï¼Œé¦–å¸§è€—æ—¶ä¸º 256 msã€‚</p>
</li>
<li>
<p>åœ¨ KMP åŸç”Ÿä¸­ï¼ŒåŒæ ·çš„è§†å›¾é¦–å¸§è€—æ—¶ä¸º 180 msã€‚</p>
</li>
</ol>
<h2 data-id="heading-26">æ€»ç»“ä¸å±•æœ›</h2>
<p>ä»å½“å‰åœ¨é¸¿è’™ç«¯å®Œæˆçš„ç«¯åˆ°ç«¯ POC ç»“æœæ¥çœ‹ï¼ŒKJS x Native æ–¹æ¡ˆèƒ½å¤Ÿä»¥ç›¸å¯¹ä½çš„æ”¹é€ æˆæœ¬ï¼Œæ»¡è¶³ KMP ä¸šåŠ¡å¯¹â€œåŠ¨æ€åŒ–äº¤ä»˜ä¸å¿«é€Ÿè¿­ä»£â€çš„æ ¸å¿ƒè¯‰æ±‚ï¼šåœ¨ä¸åˆ‡æ¢ç°æœ‰æŠ€æœ¯æ ˆã€ä¸å¼•å…¥æ–°çš„æ¸²æŸ“ä½“ç³»ã€ä¸”ä¸æ˜¾è‘—å¢åŠ å·¥ç¨‹å¤æ‚åº¦çš„å‰æä¸‹ï¼ŒæŠŠåŠ¨æ€èƒ½åŠ›æ”¶æ•›åœ¨ KMP æŠ€æœ¯æ ˆå†…éƒ¨ï¼Œå½¢æˆâ€œäº§ç‰©ç”Ÿæˆâ€”ä¸‹å‘â€”åŠ è½½â€”æ‰§è¡Œ/æ¸²æŸ“â€”ç›‘æ§å›æ”¶â€çš„é—­ç¯ã€‚è¿™æ„å‘³ç€ä¸šåŠ¡ä»å¯ä»¥æ²¿ç”¨æ—¢æœ‰çš„ KMP å·¥ç¨‹ç»„ç»‡æ–¹å¼ã€ç ”å‘åä½œæ–¹å¼ä¸è´¨é‡ä¿éšœä½“ç³»ã€‚</p>
<p>å½“ç„¶ï¼Œè¦å°† POC æ¨è¿›åˆ°å¯è§„æ¨¡åŒ–è½åœ°çš„å·¥ç¨‹èƒ½åŠ›ï¼Œåç»­ä»æœ‰ä¸å°‘å·¥ä½œäºŸéœ€å®Œå–„ä¸äº§å“åŒ–æ²‰æ·€ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>
<p><strong>ç»„ä»¶ä½“ç³»é€‚é…ä¸ä½“éªŒå¯¹é½</strong>ï¼šæ¨åŠ¨ AntUI/Tecla ç­‰ç»„ä»¶åº“çš„æ¥å…¥ä¸ä¸€è‡´æ€§é€‚é…ï¼Œç¡®ä¿åŠ¨æ€åŒ–åœºæ™¯ä¸‹çš„æ ·å¼ã€äº¤äº’ã€æ— éšœç¢ã€ä¸»é¢˜ï¼ˆæ·±è‰²/æµ…è‰²ï¼‰ä¸å¤šç«¯ä¸€è‡´æ€§ä½“éªŒï¼Œå°½å¯èƒ½åšåˆ°ä¸šåŠ¡ä¾§â€œç”¨èµ·æ¥åƒåŸç”Ÿ KMP å¼€å‘â€ã€‚</p>
</li>
<li>
<p><strong>å·¥ç¨‹åŒ–ä¸é“¾è·¯å®Œå–„</strong>ï¼šæ²‰æ·€æ ‡å‡†åŒ–çš„äº§ç‰©æ„å»ºã€ç‰ˆæœ¬ç®¡ç†ã€ä¾èµ–æ²»ç†ä¸ç°åº¦å‘å¸ƒç­–ç•¥ï¼Œé™ä½å‘å¸ƒä¸è¿ç»´æˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>èƒ½åŠ›è¾¹ç•Œæ‹“å±•ä¸çº¦æŸ</strong>ï¼šåœ¨å®‰å…¨ä¸æ€§èƒ½å¯æ§çš„å‰æä¸‹ï¼ŒæŒç»­æ‰©å¤§å¯åŠ¨æ€åŒ–çš„ UI/äº¤äº’/æ•°æ®èƒ½åŠ›ï¼ŒåŒæ—¶æ˜ç¡®â€œå“ªäº›å¯ä»¥åŠ¨æ€ã€å“ªäº›å¿…é¡»é™æ€â€çš„çº¢çº¿ä¸æœ€ä½³å®è·µï¼Œå½¢æˆå¯å¤ç”¨çš„ä¸šåŠ¡æ¥å…¥è§„èŒƒã€‚</p>
</li>
</ul>
<p>ä¸šåŠ¡ä¾§å¼•å…¥è¯¥æ–¹æ¡ˆåï¼Œèƒ½ç›´æ¥è·å¾—æ›´ç»†ç²’åº¦çš„â€œåŒºå—çº§åŠ¨æ€åŒ–â€èƒ½åŠ›ï¼šé¡µé¢å¯ä»¥æŒ‰åŒºå—æ‹†åˆ†ä¸ºå¯ç‹¬ç«‹æ›´æ–°çš„å•å…ƒï¼Œé€šè¿‡ä¸‹å‘ JS äº§ç‰©å®Œæˆå±€éƒ¨æ›¿æ¢ã€æ ·å¼/å¸ƒå±€è°ƒæ•´ã€äº¤äº’é€»è¾‘è°ƒæ•´ç­‰ï¼Œé¿å…ä¼ ç»Ÿæ•´åŒ…å‘å¸ƒçš„é«˜æˆæœ¬ä¸é•¿å‘¨æœŸã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿˜å¯ä»¥è¿›ä¸€æ­¥å®ç°ï¼š</p>
<ul>
<li>
<p><strong>åŒºå—çº§åŠ¨æ€ä¿®å¤</strong>ï¼šçº¿ä¸Šå‡ºç°é—®é¢˜æ—¶ï¼Œå¯é’ˆå¯¹ç‰¹å®šåŒºå—è¿›è¡Œå¿«é€Ÿä¿®å¤ä¸å›æ»šï¼ŒæŠŠå½±å“é¢æ§åˆ¶åœ¨æœ€å°èŒƒå›´å†…ï¼Œç¼©çŸ­æ•…éšœå¤„ç†é“¾è·¯ã€‚</p>
</li>
<li>
<p><strong>æ›´çµæ´»çš„é€»è¾‘/è§†å›¾æ›´æ–°</strong>ï¼šåœ¨ä¸è§¦å‘å®Œæ•´å‘ç‰ˆçš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œè½»é‡çš„äº¤äº’ä¼˜åŒ–ã€æ–‡æ¡ˆä¸å¸ƒå±€è°ƒæ•´ã€ç­–ç•¥å®éªŒç­‰ã€‚</p>
</li>
<li>
<p><strong>å¿«é€Ÿ AB ä¸ç°åº¦éªŒè¯</strong>ï¼šåœ¨æ€§èƒ½ä¸ç¨³å®šæ€§å¯æ¥å—çš„èŒƒå›´å†…ï¼Œæ”¯æŒæ›´é«˜é¢‘çš„å®éªŒè¿­ä»£ï¼Œé€šè¿‡ç²¾ç»†åŒ–äººç¾¤ä¸ç‰ˆæœ¬æ§åˆ¶ï¼ŒåŠ é€ŸéªŒè¯æ•ˆç‡ä¸ä¸šåŠ¡å†³ç­–é—­ç¯ã€‚</p>
</li>
</ul>
<p>ä»æ›´å‰æ²¿çš„ä¸šåŠ¡å½¢æ€çœ‹ï¼Œæ–¹æ¡ˆä¹Ÿä¸º <strong>LLM ç”Ÿæˆå¼ UI</strong> æ‰“å¼€äº†è½åœ°é€šè·¯ï¼šå¯ä»¥ç”± KMP Agent åŸºäºä¸Šä¸‹æ–‡ä¸ç­–ç•¥ç”Ÿæˆ UI/é€»è¾‘å¯¹åº”çš„ JS äº§ç‰©ï¼Œå¹¶ç»“åˆé£æ§ä¸å®¡æ ¸æœºåˆ¶è¿›è¡Œä¸‹å‘ï¼Œå†é€šè¿‡ KJS x Native åœ¨ç«¯ä¸Šæ¸²æŸ“å±•ç¤ºï¼Œå®ç°â€œæŒ‰éœ€ç”Ÿæˆã€æŒ‰éœ€æ›´æ–°â€çš„äº¤äº’ä½“éªŒã€‚è¿™ä¸ä»…èƒ½æ‰©å±•åŠ¨æ€åŒ–çš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚ä¸ªæ€§åŒ–å†…å®¹ç¼–æ’ã€è¿è¥ä½æ™ºèƒ½ç”Ÿæˆã€ä»»åŠ¡å¼•å¯¼åŠ¨æ€æ‹¼è£…ç­‰ï¼‰ï¼Œä¹Ÿä¸ºåç»­æ¢ç´¢â€œç«¯ä¾§æ™ºèƒ½ + å¯æ§åŠ¨æ€æ¸²æŸ“â€çš„ç»„åˆæä¾›äº†å·¥ç¨‹åŸºç¡€ã€‚</p>
<p>éšç€æ–¹æ¡ˆé€æ­¥å®Œå–„å¹¶è¾¾åˆ°å¯è§„æ¨¡åŒ–ä¸Šçº¿æ ‡å‡†ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥è¡¥é½æ–‡æ¡£ã€ç¤ºä¾‹ã€æ¥å…¥è§„èŒƒä¸åŸºå»ºèƒ½åŠ›ï¼ˆè°ƒè¯•å·¥å…·ã€æ€§èƒ½ç›‘æ§ã€å¼‚å¸¸æ²»ç†ä¸å®‰å…¨ç­–ç•¥ç­‰ï¼‰ï¼Œåœ¨å†…éƒ¨ç¨³å®šè¿è¡Œä¸€æ®µæ—¶é—´åæ¨åŠ¨å¯¹å¤–å¼€æºï¼Œä¿ƒè¿›ç¤¾åŒºå…±å»ºä¸ç”Ÿæ€æ‰©å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰‘æŒ‡offer-57ã€äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹]]></title>    <link>https://juejin.cn/post/7589494074982891571</link>    <guid>https://juejin.cn/post/7589494074982891571</guid>    <pubDate>2025-12-31T01:10:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589494074982891571" data-draft-id="7588146449006182436" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å‰‘æŒ‡offer-57ã€äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-31T01:10:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å‰‘æŒ‡offer-57ã€äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:10:53.000Z" title="Wed Dec 31 2025 01:10:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢˜â½¬æè¿°</h2>
<p>ç»™å®šâ¼€ä¸ªâ¼†å‰æ ‘å’Œå…¶ä¸­çš„â¼€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†é¡ºåºçš„ä¸‹â¼€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›ã€‚æ³¨æ„ï¼Œæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³â¼¦ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘â½—ç»“ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p>å¤æ‚çš„èŠ‚ç‚¹ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeLinkNode</span> {
	<span class="hljs-type">int</span> val;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	
	TreeLinkNode(<span class="hljs-type">int</span> val) {
		<span class="hljs-built_in">this</span>.val = val;
	}
}
</code></pre>
<h2 data-id="heading-1">æ€è·¯åŠè§£ç­”</h2>
<h3 data-id="heading-2">ä¸­åºéå†</h3>
<p>å…ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶åé€šè¿‡æ ¹èŠ‚ç‚¹ï¼Œä¸­åºéå†ï¼Œä¸­åºéå†çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹â½èŠ‚ç‚¹ï¼Œæ˜¯å¦ç­‰äºè¾“â¼Šçš„èŠ‚ç‚¹ï¼Œç„¶åè·å–ä¸‹â¼€ä¸ªèŠ‚ç‚¹æ”¾å›ã€‚æ³¨æ„æ²¡æœ‰ä¸‹â¼€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œåº”è¯¥è¿”å› null ï¼Œä¸èƒ½æ•°ç»„è¶Šç•Œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;TreeLinkNode&gt; treeLinkNodes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
	
	<span class="hljs-keyword">public</span> TreeLinkNode <span class="hljs-title function_">GetNext</span><span class="hljs-params">(TreeLinkNode pNode)</span> {
		<span class="hljs-keyword">if</span> (pNode != <span class="hljs-literal">null</span>) {
			<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> pNode;
			<span class="hljs-comment">// â¼€ç›´æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span>
			<span class="hljs-keyword">while</span> (root != <span class="hljs-literal">null</span> &amp;&amp; root.next != <span class="hljs-literal">null</span>) {
				root = root.next;
			}
			
			inOrder(root);
			
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; treeLinkNodes.size(); i++) {
				<span class="hljs-keyword">if</span> (treeLinkNodes.get(i) == pNode) {
					<span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span> &lt; treeLinkNodes.size() ? treeLinkNodes.get(i + <span class="hljs-number">1</span>) : <span class="hljs-literal">null</span>;
				}
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
	}
	
	<span class="hljs-comment">// ä¸­åºéå†</span>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">inOrder</span><span class="hljs-params">(TreeLinkNode pNode)</span> {
		<span class="hljs-keyword">if</span> (pNode != <span class="hljs-literal">null</span>) {
			inOrder(pNode.left);
			treeLinkNodes.add(pNode);
			inOrder(pNode.right);
		}
	}
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ã€‚éœ€è¦éå†æ•´æ£µæ ‘ï¼ˆO(n)ï¼‰å¹¶åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾èŠ‚ç‚¹ï¼ˆæœ€åO(n)ï¼‰ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸å€ŸåŠ©é¢å¤–çš„ç©ºé—´(æ¨è)</h3>
<p>æ®ä¸­åºéå†çš„é¡ºåºè§„åˆ™å’ŒèŠ‚ç‚¹çš„ä½ç½®å…³ç³»ï¼Œé€šè¿‡æŒ‡é’ˆæ“ä½œç›´æ¥å®šä½ã€‚</p>
<p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šä¸­åºéå†çš„é¡ºåºæ˜¯â€œå·¦-æ ¹-å³â€ã€‚ç»™å®šèŠ‚ç‚¹çš„â€œä¸‹ä¸€ä¸ªèŠ‚ç‚¹â€å–å†³äºå®ƒè‡ªå·±çš„ä½ç½®æƒ…å†µ</p>
<p>åˆ†ä¸ºâ¼ç§æƒ…å†µè®¨è®ºï¼š</p>
<ul>
<li>å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›ç©º</li>
<li>å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼š
<ul>
<li>å¦‚æœå½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆä¸‹â¼€ä¸ªèŠ‚ç‚¹å°±æ˜¯å³èŠ‚ç‚¹çš„æœ€å·¦â¼¦å­™èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœå½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ºç©ºï¼Œé‚£ä¹ˆåªèƒ½åˆ°â½—èŠ‚ç‚¹ï¼š
<ul>
<li>éœ€è¦åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯â½—èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯â½—èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸‹â¼€ä¸ªèŠ‚ç‚¹å°±æ˜¯â½—èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯â½—èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æ˜¯â½—èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸‹â¼€ä¸ªèŠ‚ç‚¹åº”è¯¥æ˜¯â½—èŠ‚ç‚¹çš„â½—èŠ‚ç‚¹ï¼Œæˆ–è€…æ›´ä¸Šâ¼€å±‚ã€‚è¿™ä¸ªæ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿæ ¹æ®å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯å³èŠ‚ç‚¹æ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å³èŠ‚ç‚¹ï¼Œåˆ™è¿˜éœ€è¦å¾€â½—èŠ‚ç‚¹çš„ä¸Šâ¾›â¼€å±‚ï¼Œå¦‚æœä¸æ˜¯å³èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥æ”¾å›â½—èŠ‚ç‚¹ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> TreeLinkNode <span class="hljs-title function_">GetNext</span><span class="hljs-params">(TreeLinkNode pNode)</span> {
	<span class="hljs-comment">// å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œç›´æ¥æ‰¾å³èŠ‚ç‚¹çš„æœ€å·¦â¼¦å­™èŠ‚ç‚¹</span>
	<span class="hljs-keyword">if</span> (pNode.right != <span class="hljs-literal">null</span>) {
		<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">pRight</span> <span class="hljs-operator">=</span> pNode.right;
		<span class="hljs-keyword">while</span> (pRight.left != <span class="hljs-literal">null</span>) {
			pRight = pRight.left;
		}
		<span class="hljs-keyword">return</span> pRight;
	}
	
	<span class="hljs-comment">// å³èŠ‚ç‚¹ä¸ºç©ºï¼Œä½†æ˜¯å½“å‰èŠ‚ç‚¹æ˜¯å·¦èŠ‚ç‚¹ï¼Œä¸‹â¼€ä¸ªå°±æ˜¯å…¶â½—èŠ‚ç‚¹</span>
	<span class="hljs-keyword">if</span> (pNode.next != <span class="hljs-literal">null</span> &amp;&amp; pNode.next.left == pNode) {
		<span class="hljs-keyword">return</span> pNode.next;
	}
		
	<span class="hljs-comment">// 3.å³èŠ‚ç‚¹ä¸ºç©ºï¼Œå¹¶ä¸”å½“å‰èŠ‚ç‚¹æ˜¯å³èŠ‚ç‚¹ï¼Œé‚£åªèƒ½å¾€ä¸Šâ¾›</span>
	<span class="hljs-keyword">if</span> (pNode.next != <span class="hljs-literal">null</span>) {
		<span class="hljs-comment">// è·å–â½—èŠ‚ç‚¹</span>
		<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">pNext</span> <span class="hljs-operator">=</span> pNode.next;
		<span class="hljs-comment">// åˆ¤æ–­â½—èŠ‚ç‚¹æ˜¯ä¸æ˜¯åŒæ ·æ˜¯å³èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯ï¼Œè¿˜éœ€è¦å¾€ä¸Šâ¾›ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±å¯ä»¥ç›´æ¥æ”¾å›å…¶</span>
		<span class="hljs-keyword">while</span> (pNext.next != <span class="hljs-literal">null</span> &amp;&amp; pNext.next.right == pNext) {
			pNext = pNext.next;
		}
		<span class="hljs-keyword">return</span> pNext.next;
	}
	<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(k)ã€‚<code>k</code>æ˜¯åˆ°åç»§èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ï¼Œæœ€åæƒ…å†µä¸ºæ ‘é«˜O(h)ï¼Œé€šå¸¸è¿œå°äºnã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ã€‚åªä½¿ç”¨äº†å›ºå®šæ•°é‡çš„æŒ‡é’ˆã€‚</li>
</ul>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£è¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚ä¸‹å›¾ä¸­ï¼ŒèŠ‚ç‚¹ <code>5</code>çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ <code>6</code>ï¼ˆå¯¹åº”æƒ…å†µ1ï¼Œæ‰¾å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼‰ï¼ŒèŠ‚ç‚¹ <code>7</code>çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ <code>8</code>ï¼ˆå¯¹åº”æƒ…å†µ2ï¼Œå‘ä¸Šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä½œä¸ºå·¦å­èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">	  <span class="hljs-number">8</span>
     / \
    <span class="hljs-number">6</span>   <span class="hljs-number">10</span>
   / \  / \
  <span class="hljs-number">5</span>  <span class="hljs-number">7</span> <span class="hljs-number">9</span>  <span class="hljs-number">11</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é«˜å¾·åœ°å›¾ä¸Three.jsç»“åˆå®ç°3Då¤§å±å¯è§†åŒ–]]></title>    <link>https://juejin.cn/post/7589482741759819803</link>    <guid>https://juejin.cn/post/7589482741759819803</guid>    <pubDate>2025-12-31T01:17:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589482741759819803" data-draft-id="7585468725333147702" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é«˜å¾·åœ°å›¾ä¸Three.jsç»“åˆå®ç°3Då¤§å±å¯è§†åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,æ•°æ®å¯è§†åŒ–"/> <meta itemprop="datePublished" content="2025-12-31T01:17:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­™_åé¹"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360886078"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é«˜å¾·åœ°å›¾ä¸Three.jsç»“åˆå®ç°3Då¤§å±å¯è§†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360886078/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­™_åé¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:17:44.000Z" title="Wed Dec 31 2025 01:17:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é«˜å¾·åœ°å›¾ä¸Three.jsç»“åˆå®ç°3Då¤§å±å¯è§†åŒ–</h2>
<blockquote>
<p>æ–‡æœ«æºç åœ°å€åŠè§†é¢‘æ¼”ç¤º</p>
</blockquote>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨æ™ºæ…§åŸå¸‚å®‰å…¨ç®¡ç†åœºæ™¯ä¸­ï¼Œå¦‚ä½•å°†çœŸå®çš„åœ°ç†ä¿¡æ¯ä¸3Dæ¨¡å‹å®Œç¾ç»“åˆï¼Œå®ç°æ²‰æµ¸å¼çš„å¯è§†åŒ–ç›‘æ§ä½“éªŒï¼Ÿæœ¬æ–‡å°†ä»¥å·¡é€»çŠ¬ç®¡ç†ç³»ç»Ÿçš„å¤§å±é¢„è§ˆåŠŸèƒ½ä¸ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡é«˜å¾·åœ°å›¾APIä¸Three.jsæ·±åº¦ç»“åˆï¼Œå®ç°3Dæœºæ¢°ç‹—æ¨¡å‹åœ¨åœ°å›¾ä¸Šçš„å®æ—¶å·¡é€»å±•ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d90f127947354a4db3812200254d99f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=nYtHQVSEXuPfvfPMLDbOGpIM4Mw%3D" alt="1 æ•´ä½“æ•ˆæœ å…¨å±å±•ç¤º.png" loading="lazy"/></p>
<p>è¯¥ç³»ç»Ÿå®ç°äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>åœ¨é«˜å¾·åœ°å›¾ä¸ŠåŠ è½½å¹¶æ¸²æŸ“3Dæœºæ¢°ç‹—æ¨¡å‹</li>
<li>å®ç°æ¨¡å‹æ²¿é¢„è®¾è·¯çº¿çš„è‡ªåŠ¨å·¡é€»åŠ¨ç”»</li>
<li>é•œå¤´è‡ªåŠ¨è·Ÿéšæ¨¡å‹ç§»åŠ¨ï¼Œæä¾›æ²‰æµ¸å¼ç›‘æ§ä½“éªŒ</li>
<li>å®æ—¶æ˜¾ç¤ºå·¡é€»è¿›åº¦ã€å‘Šè­¦ä¿¡æ¯ç­‰ä¸šåŠ¡æ•°æ®</li>
</ul>
<h3 data-id="heading-2">æŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>é«˜å¾·åœ°å›¾ JS API 2.0</strong>ï¼šæä¾›åœ°å›¾åº•å›¾å’Œç©ºé—´å®šä½èƒ½åŠ›</li>
<li><strong>Three.js r157</strong>ï¼š3Dæ¨¡å‹æ¸²æŸ“å’ŒåŠ¨ç”»æ§åˆ¶</li>
<li><strong>Loca 2.0</strong>ï¼šé«˜å¾·åœ°å›¾æ•°æ®å¯è§†åŒ–APIï¼Œç”¨äºé•œå¤´è·Ÿéš</li>
<li><strong>React + TypeScript</strong>ï¼šå‰ç«¯æ¡†æ¶å’Œç±»å‹æ”¯æŒ</li>
<li><strong>TWEEN.js</strong>ï¼šè¡¥é—´åŠ¨ç”»åº“ï¼Œç”¨äºå¹³æ»‘çš„æ¨¡å‹ç§»åŠ¨</li>
</ul>
<h3 data-id="heading-3">ä¸€ã€é«˜å¾·åœ°å›¾åˆå§‹åŒ–</h3>
<h4 data-id="heading-4">1.1 åœ°å›¾é…ç½®</h4>
<p>é¦–å…ˆéœ€è¦é…ç½®é«˜å¾·åœ°å›¾çš„åŠ è½½å‚æ•°ï¼ŒåŒ…æ‹¬API Keyã€ç‰ˆæœ¬å·ç­‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/amapConfig.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mapConfig = {
  <span class="hljs-attr">key</span>: <span class="hljs-string">'your-amap-key'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2.0'</span>,
  <span class="hljs-title class_">Loca</span>: {
    <span class="hljs-attr">version</span>: <span class="hljs-string">'2.0.0'</span>,  <span class="hljs-comment">// Locaç‰ˆæœ¬éœ€ä¸åœ°å›¾ç‰ˆæœ¬ä¸€è‡´</span>
  },
};

<span class="hljs-comment">// åˆå§‹åŒ–å®‰å…¨é…ç½®ï¼ˆå¿…é¡»åœ¨AMapLoader.loadä¹‹å‰è°ƒç”¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">initAmapSecurity</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">'undefined'</span>) {
    (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">_AMapSecurityConfig</span> = {
      <span class="hljs-attr">securityJsCode</span>: <span class="hljs-string">'your-security-code'</span>,
    };
  }
};
</code></pre>
<h4 data-id="heading-5">1.2 åˆ›å»ºåœ°å›¾å®ä¾‹</h4>
<p>ä½¿ç”¨<code>AMapLoader.load</code>åŠ è½½åœ°å›¾APIï¼Œç„¶ååˆ›å»ºåœ°å›¾å®ä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¾ç½®å®‰å…¨å¯†é’¥</span>
<span class="hljs-title function_">initAmapSecurity</span>();

<span class="hljs-comment">// åŠ è½½é«˜å¾·åœ°å›¾</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AMap</span> = <span class="hljs-keyword">await</span> <span class="hljs-title class_">AMapLoader</span>.<span class="hljs-title function_">load</span>(mapConfig);

<span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹ï¼Œå¼€å¯3Dè§†å›¾æ¨¡å¼</span>
<span class="hljs-keyword">const</span> mapInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AMap</span>.<span class="hljs-title class_">Map</span>(mapContainerRef.<span class="hljs-property">current</span>, {
  <span class="hljs-attr">zoom</span>: <span class="hljs-number">13</span>,
  <span class="hljs-attr">center</span>: defaultCenter,
  <span class="hljs-attr">viewMode</span>: <span class="hljs-string">'3D'</span>,  <span class="hljs-comment">// å…³é”®ï¼šå¿…é¡»å¼€å¯3Dæ¨¡å¼</span>
  <span class="hljs-attr">resizeEnable</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4989b56a6e44b00a72b24581b63902a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=gnACNSyLHuNPMoy%2B%2F%2Bp1CONWjbA%3D" alt="2 æ¸²æŸ“é«˜å¾·åœ°å›¾æ—¥å¿—.png" loading="lazy"/></p>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>viewMode: '3D'</code> å¿…é¡»è®¾ç½®ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨3Dç›¸å…³åŠŸèƒ½</li>
<li>éœ€è¦æå‰è®¾ç½®å®‰å…¨å¯†é’¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li>
</ul>
<h4 data-id="heading-6">1.3 åˆå§‹åŒ–Locaå®¹å™¨</h4>
<p>Locaæ˜¯é«˜å¾·åœ°å›¾çš„æ•°æ®å¯è§†åŒ–å®¹å™¨ï¼Œç”¨äºå®ç°é•œå¤´è·Ÿéšç­‰åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> loca = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">Loca</span>.<span class="hljs-title class_">Container</span>({
  <span class="hljs-attr">map</span>: mapInstance,
  <span class="hljs-attr">zIndex</span>: <span class="hljs-number">9</span>
});
</code></pre>
<h3 data-id="heading-7">äºŒã€åˆ›å»ºGLCustomLayerè‡ªå®šä¹‰å›¾å±‚</h3>
<p><code>GLCustomLayer</code>æ˜¯é«˜å¾·åœ°å›¾æä¾›çš„WebGLè‡ªå®šä¹‰å›¾å±‚ï¼Œå…è®¸æˆ‘ä»¬åœ¨åœ°å›¾ä¸Šæ¸²æŸ“Three.jså†…å®¹ã€‚</p>
<h4 data-id="heading-8">2.1 å›¾å±‚ç»“æ„</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> customLayer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AMap</span>.<span class="hljs-title class_">GLCustomLayer</span>({
  <span class="hljs-attr">zIndex</span>: <span class="hljs-number">200</span>,  <span class="hljs-comment">// å›¾å±‚å±‚çº§ï¼Œç¡®ä¿æ¨¡å‹åœ¨æœ€ä¸Šå±‚</span>
  <span class="hljs-attr">init</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">gl</span>: <span class="hljs-built_in">any</span>) =&gt; {
    <span class="hljs-comment">// åœ¨è¿™é‡Œåˆå§‹åŒ–Three.jsåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨ç­‰</span>
  },
  <span class="hljs-attr">render</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨è¿™é‡Œæ‰§è¡Œæ¯å¸§çš„æ¸²æŸ“é€»è¾‘</span>
  },
});

mapInstance.<span class="hljs-title function_">add</span>(customLayer);
</code></pre>
<h4 data-id="heading-9">2.2 åˆå§‹åŒ–Three.jsåœºæ™¯</h4>
<p>åœ¨<code>init</code>æ–¹æ³•ä¸­åˆ›å»ºThree.jsçš„æ ¸å¿ƒç»„ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">init</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">gl</span>: <span class="hljs-built_in">any</span>) =&gt; {
  <span class="hljs-comment">// 1. åˆ›å»ºé€è§†ç›¸æœº</span>
  <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
    <span class="hljs-number">60</span>,  <span class="hljs-comment">// è§†é‡è§’åº¦</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,  <span class="hljs-comment">// å®½é«˜æ¯”</span>
    <span class="hljs-number">100</span>,  <span class="hljs-comment">// è¿‘è£å‰ªé¢</span>
    <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">30</span>  <span class="hljs-comment">// è¿œè£å‰ªé¢ï¼ˆä½¿ç”¨ä½è¿ç®—è¡¨ç¤ºå¤§æ•°å€¼ï¼‰</span>
  );
  
  <span class="hljs-comment">// 2. åˆ›å»ºWebGLæ¸²æŸ“å™¨</span>
  <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({
    <span class="hljs-attr">context</span>: gl,  <span class="hljs-comment">// ä½¿ç”¨åœ°å›¾æä¾›çš„WebGLä¸Šä¸‹æ–‡</span>
    <span class="hljs-attr">antialias</span>: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// ç¦ç”¨æŠ—é”¯é½¿ï¼Œå‡å°‘WebGLæ‰©å±•éœ€æ±‚</span>
    <span class="hljs-attr">powerPreference</span>: <span class="hljs-string">'default'</span>,
  });
  renderer.<span class="hljs-property">autoClear</span> = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å¿…é¡»è®¾ç½®ä¸ºfalseï¼Œå¦åˆ™åœ°å›¾åº•å›¾æ— æ³•æ˜¾ç¤º</span>
  renderer.<span class="hljs-property">shadowMap</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// ç¦ç”¨é˜´å½±ï¼Œé¿å…WebGLæ‰©å±•é—®é¢˜</span>
  
  <span class="hljs-comment">// 3. åˆ›å»ºåœºæ™¯</span>
  <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
  
  <span class="hljs-comment">// 4. æ·»åŠ å…‰æº</span>
  <span class="hljs-keyword">const</span> ambientLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AmbientLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">1.0</span>);
  scene.<span class="hljs-title function_">add</span>(ambientLight);
  
  <span class="hljs-keyword">const</span> directionalLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">DirectionalLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">1.2</span>);
  directionalLight.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">1000</span>, -<span class="hljs-number">100</span>, <span class="hljs-number">900</span>);
  scene.<span class="hljs-title function_">add</span>(directionalLight);
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>renderer.autoClear = false</code> å¿…é¡»è®¾ç½®ï¼Œå¦åˆ™ä¼šæ¸…é™¤åœ°å›¾åº•å›¾</li>
<li>ä½¿ç”¨åœ°å›¾æä¾›çš„<code>gl</code>ä¸Šä¸‹æ–‡åˆ›å»ºæ¸²æŸ“å™¨ï¼Œå®ç°èµ„æºå…±äº«</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8fb12a6f0c54f1fa56903f8366ed794~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=WMdU80jLFfrvn%2BHx695ayIaq7L0%3D" alt="3 åæ ‡è½´è¾…åŠ©çº¿.png" loading="lazy"/></p>
<h3 data-id="heading-10">ä¸‰ã€åæ ‡ç³»ç»Ÿè½¬æ¢</h3>
<p>é«˜å¾·åœ°å›¾ä½¿ç”¨ç»çº¬åº¦åæ ‡ï¼ˆWGS84ï¼‰ï¼Œè€ŒThree.jsä½¿ç”¨3Dä¸–ç•Œåæ ‡ï¼Œä¸¤è€…ä¹‹é—´çš„è½¬æ¢æ˜¯å…³é”®ã€‚</p>
<h4 data-id="heading-11">3.1 è·å–è‡ªå®šä¹‰åæ ‡ç³»ç»Ÿ</h4>
<p>åœ°å›¾å®ä¾‹æä¾›äº†<code>customCoords</code>å·¥å…·ï¼Œç”¨äºåæ ‡è½¬æ¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è·å–è‡ªå®šä¹‰åæ ‡ç³»ç»Ÿ</span>
<span class="hljs-keyword">const</span> customCoords = mapInstance.<span class="hljs-property">customCoords</span>;

<span class="hljs-comment">// è®¾ç½®åæ ‡ç³»ç»Ÿä¸­å¿ƒç‚¹ï¼ˆé‡è¦ï¼šå¿…é¡»åœ¨è®¾ç½®æ¨¡å‹ä½ç½®å‰è®¾ç½®ï¼‰</span>
<span class="hljs-keyword">const</span> center = mapInstance.<span class="hljs-title function_">getCenter</span>();
customCoords.<span class="hljs-title function_">setCenter</span>([center.<span class="hljs-property">lng</span>, center.<span class="hljs-property">lat</span>]);
</code></pre>
<h4 data-id="heading-12">3.2 ç»çº¬åº¦è½¬3Dåæ ‡</h4>
<p>ä½¿ç”¨<code>lngLatsToCoords</code>æ–¹æ³•å°†ç»çº¬åº¦è½¬æ¢ä¸ºThree.jsåæ ‡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å°†ç»çº¬åº¦ [lng, lat] è½¬æ¢ä¸ºThree.jsåæ ‡ [x, z, y?]</span>
<span class="hljs-keyword">const</span> position = customCoords.<span class="hljs-title function_">lngLatsToCoords</span>([
  [<span class="hljs-number">120.188767</span>, <span class="hljs-number">30.193832</span>]
])[<span class="hljs-number">0</span>];

<span class="hljs-comment">// æ³¨æ„ï¼šè¿”å›çš„æ•°ç»„æ ¼å¼ä¸º [x, z, y?]</span>
<span class="hljs-comment">// position[0] å¯¹åº” Three.js çš„ z è½´ï¼ˆçº¬åº¦ï¼‰</span>
<span class="hljs-comment">// position[1] å¯¹åº” Three.js çš„ x è½´ï¼ˆç»åº¦ï¼‰</span>
<span class="hljs-comment">// position[2] å¯¹åº” Three.js çš„ y è½´ï¼ˆé«˜åº¦ï¼Œå¯é€‰ï¼‰</span>

robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setX</span>(position[<span class="hljs-number">1</span>]);  <span class="hljs-comment">// xåæ ‡ï¼ˆç»åº¦ï¼‰</span>
robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setZ</span>(position[<span class="hljs-number">0</span>]);  <span class="hljs-comment">// zåæ ‡ï¼ˆçº¬åº¦ï¼‰</span>
robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setY</span>(position.<span class="hljs-property">length</span> &gt; <span class="hljs-number">2</span> ? position[<span class="hljs-number">2</span>] : <span class="hljs-number">0</span>);  <span class="hljs-comment">// yåæ ‡ï¼ˆé«˜åº¦ï¼‰</span>
</code></pre>
<p><strong>åæ ‡è½´å¯¹åº”å…³ç³»</strong>ï¼š</p>
<ul>
<li>é«˜å¾·åœ°å›¾ï¼šXè½´ï¼ˆç»åº¦ï¼‰ï¼ŒYè½´ï¼ˆçº¬åº¦ï¼‰ï¼ŒZè½´ï¼ˆé«˜åº¦ï¼‰</li>
<li>Three.jsï¼šXè½´ï¼ˆå³ï¼‰ï¼ŒYè½´ï¼ˆä¸Šï¼‰ï¼ŒZè½´ï¼ˆå‰ï¼‰</li>
<li>è½¬æ¢åï¼š<code>position[1]</code> â†’ Three.js Xè½´ï¼Œ<code>position[0]</code> â†’ Three.js Zè½´</li>
</ul>
<h4 data-id="heading-13">3.3 åŒæ­¥ç›¸æœºå‚æ•°</h4>
<p>åœ¨<code>render</code>æ–¹æ³•ä¸­ï¼Œéœ€è¦åŒæ­¥é«˜å¾·åœ°å›¾çš„ç›¸æœºå‚æ•°åˆ°Three.jsç›¸æœºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">render</span>: <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { near, far, fov, up, lookAt, position } = customCoords.<span class="hljs-title function_">getCameraParams</span>();
  
  <span class="hljs-comment">// åŒæ­¥ç›¸æœºå‚æ•°</span>
  camera.<span class="hljs-property">near</span> = near;
  camera.<span class="hljs-property">far</span> = far;
  camera.<span class="hljs-property">fov</span> = fov;
  camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(position[<span class="hljs-number">0</span>], position[<span class="hljs-number">1</span>], position[<span class="hljs-number">2</span>]);
  camera.<span class="hljs-property">up</span>.<span class="hljs-title function_">set</span>(up[<span class="hljs-number">0</span>], up[<span class="hljs-number">1</span>], up[<span class="hljs-number">2</span>]);
  camera.<span class="hljs-title function_">lookAt</span>(lookAt[<span class="hljs-number">0</span>], lookAt[<span class="hljs-number">1</span>], lookAt[<span class="hljs-number">2</span>]);
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
  
  <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯</span>
  renderer.<span class="hljs-title function_">render</span>(scene, camera);
  
  <span class="hljs-comment">// å¿…é¡»æ‰§è¡Œï¼šé‡æ–°è®¾ç½®threeçš„glä¸Šä¸‹æ–‡çŠ¶æ€</span>
  renderer.<span class="hljs-title function_">resetState</span>();
}
</code></pre>
<h3 data-id="heading-14">å››ã€åŠ è½½3Dæ¨¡å‹</h3>
<h4 data-id="heading-15">4.1 ä½¿ç”¨GLTFLoaderåŠ è½½æ¨¡å‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GLTFLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader'</span>;

<span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GLTFLoader</span>();
<span class="hljs-keyword">const</span> modelPath = <span class="hljs-string">'/assets/modules/robot_dog/scene.gltf'</span>;

<span class="hljs-keyword">const</span> gltf = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
  loader.<span class="hljs-title function_">load</span>(
    modelPath,
    <span class="hljs-function">(<span class="hljs-params">gltf: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-title function_">resolve</span>(gltf),
    <span class="hljs-function">(<span class="hljs-params">progress: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (progress.<span class="hljs-property">total</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">const</span> percent = (progress.<span class="hljs-property">loaded</span> / progress.<span class="hljs-property">total</span>) * <span class="hljs-number">100</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¨¡å‹åŠ è½½è¿›åº¦:'</span>, percent.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">'%'</span>);
      }
    },
    reject
  );
});

<span class="hljs-keyword">const</span> robotModel = gltf.<span class="hljs-property">scene</span>;
</code></pre>
<h4 data-id="heading-16">4.2 æ¨¡å‹é¢„å¤„ç†</h4>
<p>åŠ è½½æ¨¡å‹åéœ€è¦è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬æè´¨ä¼˜åŒ–ã€ä½ç½®è°ƒæ•´ç­‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// éå†æ¨¡å‹æ‰€æœ‰å­å¯¹è±¡</span>
robotModel.<span class="hljs-title function_">traverse</span>(<span class="hljs-function">(<span class="hljs-params">child: THREE.Object3D</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (child <span class="hljs-keyword">instanceof</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>) {
    <span class="hljs-comment">// ç¦ç”¨é˜´å½±ç›¸å…³åŠŸèƒ½</span>
    child.<span class="hljs-property">castShadow</span> = <span class="hljs-literal">false</span>;
    child.<span class="hljs-property">receiveShadow</span> = <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// ç®€åŒ–æè´¨ï¼Œé¿å…ä½¿ç”¨éœ€è¦WebGLæ‰©å±•çš„é«˜çº§ç‰¹æ€§</span>
    <span class="hljs-keyword">if</span> (child.<span class="hljs-property">material</span>) {
      <span class="hljs-keyword">const</span> materials = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(child.<span class="hljs-property">material</span>) 
        ? child.<span class="hljs-property">material</span> 
        : [child.<span class="hljs-property">material</span>];
      
      materials.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">mat: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-comment">// ç¦ç”¨transmissionç­‰é«˜çº§ç‰¹æ€§</span>
        <span class="hljs-keyword">if</span> (mat.<span class="hljs-property">transmission</span> !== <span class="hljs-literal">undefined</span>) {
          mat.<span class="hljs-property">transmission</span> = <span class="hljs-number">0</span>;
        }
      });
    }
  }
});

<span class="hljs-comment">// è®¡ç®—æ¨¡å‹è¾¹ç•Œæ¡†å¹¶å±…ä¸­</span>
<span class="hljs-keyword">const</span> box = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Box3</span>().<span class="hljs-title function_">setFromObject</span>(robotModel);
<span class="hljs-keyword">const</span> center = box.<span class="hljs-title function_">getCenter</span>(<span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>());

<span class="hljs-comment">// å°†æ¨¡å‹å±…ä¸­ï¼ˆXå’ŒZè½´ï¼‰</span>
robotModel.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = -center.<span class="hljs-property">x</span>;
robotModel.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = -center.<span class="hljs-property">z</span>;
<span class="hljs-comment">// å°†æ¨¡å‹åº•éƒ¨æ”¾åœ¨y=0</span>
robotModel.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = -box.<span class="hljs-property">min</span>.<span class="hljs-property">y</span>;

<span class="hljs-comment">// è®¾ç½®æ¨¡å‹ç¼©æ”¾</span>
<span class="hljs-keyword">const</span> scale = <span class="hljs-number">15</span>;
robotModel.<span class="hljs-property">scale</span>.<span class="hljs-title function_">set</span>(scale, scale, scale);
</code></pre>
<h4 data-id="heading-17">4.3 åˆ›å»ºæ¨¡å‹ç»„å¹¶è®¾ç½®åˆå§‹æ—‹è½¬</h4>
<p>ç”±äºé«˜å¾·åœ°å›¾å’ŒThree.jsçš„åæ ‡ç³»å·®å¼‚ï¼Œéœ€è¦è°ƒæ•´æ¨¡å‹çš„åˆå§‹æ—‹è½¬ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ›å»ºå¤–å±‚Groupç”¨äºä½ç½®å’Œæ—‹è½¬æ§åˆ¶</span>
<span class="hljs-keyword">const</span> robotGroup = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Group</span>();
robotGroup.<span class="hljs-title function_">add</span>(robotModel);

<span class="hljs-comment">// è®¾ç½®åˆå§‹æ—‹è½¬ï¼ˆ90, 90, 0ï¼‰åº¦è½¬æ¢ä¸ºå¼§åº¦</span>
<span class="hljs-keyword">const</span> initialRotationX = (<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * <span class="hljs-number">90</span>;
<span class="hljs-keyword">const</span> initialRotationY = (<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * <span class="hljs-number">90</span>;
<span class="hljs-keyword">const</span> initialRotationZ = (<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * <span class="hljs-number">0</span>;
robotGroup.<span class="hljs-property">rotation</span>.<span class="hljs-title function_">set</span>(initialRotationX, initialRotationY, initialRotationZ);

scene.<span class="hljs-title function_">add</span>(robotGroup);
</code></pre>
<h3 data-id="heading-18">äº”ã€å®ç°é•œå¤´è·Ÿéš</h3>
<h4 data-id="heading-19">5.1 ä½¿ç”¨Locaå®ç°é•œå¤´è·Ÿéš</h4>
<p>é«˜å¾·åœ°å›¾çš„Loca APIæä¾›äº†<code>viewControl.addTrackAnimate</code>æ–¹æ³•ï¼Œå¯ä»¥å®ç°é•œå¤´è‡ªåŠ¨è·Ÿéšè·¯å¾„ç§»åŠ¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¡ç®—è·¯å¾„æ€»è·ç¦»</span>
<span class="hljs-keyword">let</span> totalDistance = <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; paths.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i++) {
  totalDistance += <span class="hljs-title class_">AMap</span>.<span class="hljs-property">GeometryUtil</span>.<span class="hljs-title function_">distance</span>(paths[i], paths[i + <span class="hljs-number">1</span>]);
}

<span class="hljs-comment">// å‡è®¾é€Ÿåº¦æ˜¯ 1.5 m/s</span>
<span class="hljs-keyword">const</span> speed = <span class="hljs-number">1.5</span>;
<span class="hljs-keyword">const</span> duration = (totalDistance / speed) * <span class="hljs-number">1000</span>;  <span class="hljs-comment">// è½¬æ¢ä¸ºæ¯«ç§’</span>

loca.<span class="hljs-property">viewControl</span>.<span class="hljs-title function_">addTrackAnimate</span>({
  <span class="hljs-attr">path</span>: paths,  <span class="hljs-comment">// é•œå¤´è½¨è¿¹ï¼ŒäºŒç»´æ•°ç»„</span>
  <span class="hljs-attr">duration</span>: duration,  <span class="hljs-comment">// æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰</span>
  <span class="hljs-attr">timing</span>: [[<span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0.7</span>]],  <span class="hljs-comment">// é€Ÿç‡æ§åˆ¶å™¨</span>
  <span class="hljs-attr">rotationSpeed</span>: <span class="hljs-number">180</span>,  <span class="hljs-comment">// æ¯ç§’æ—‹è½¬å¤šå°‘åº¦</span>
}, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å•ç¨‹å·¡é€»å®Œæˆ'</span>);
  <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œå¤„ç†å¾€è¿”é€»è¾‘</span>
});

loca.<span class="hljs-property">animate</span>.<span class="hljs-title function_">start</span>();  <span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»</span>
</code></pre>
<h4 data-id="heading-20">5.2 æ¨¡å‹ä½ç½®åŒæ­¥</h4>
<p>åœ¨<code>render</code>æ–¹æ³•ä¸­ï¼Œæ ¹æ®åœ°å›¾ä¸­å¿ƒç‚¹å®æ—¶æ›´æ–°æ¨¡å‹ä½ç½®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">render</span>: <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// ... åŒæ­¥ç›¸æœºå‚æ•°ä»£ç  ...</span>
  
  <span class="hljs-keyword">if</span> (robotGroup &amp;&amp; mapInstance &amp;&amp; !patrolFinishedRef.<span class="hljs-property">current</span>) {
    <span class="hljs-comment">// è·å–å½“å‰åœ°å›¾ä¸­å¿ƒï¼ˆé•œå¤´è·Ÿéšä¼šæ”¹å˜åœ°å›¾ä¸­å¿ƒï¼‰</span>
    <span class="hljs-keyword">const</span> center = mapInstance.<span class="hljs-title function_">getCenter</span>();
    <span class="hljs-keyword">if</span> (center) {
      <span class="hljs-comment">// æ›´æ–°åæ ‡ç³»ç»Ÿä¸­å¿ƒç‚¹ä¸ºåœ°å›¾ä¸­å¿ƒç‚¹</span>
      customCoords.<span class="hljs-title function_">setCenter</span>([center.<span class="hljs-property">lng</span>, center.<span class="hljs-property">lat</span>]);
      
      <span class="hljs-comment">// å°†åœ°å›¾ä¸­å¿ƒè½¬æ¢ä¸ºThree.jsåæ ‡</span>
      <span class="hljs-keyword">const</span> position = customCoords.<span class="hljs-title function_">lngLatsToCoords</span>([
        [center.<span class="hljs-property">lng</span>, center.<span class="hljs-property">lat</span>]
      ])[<span class="hljs-number">0</span>];
      
      <span class="hljs-comment">// æ›´æ–°æ¨¡å‹ä½ç½®</span>
      robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setX</span>(position[<span class="hljs-number">1</span>]);
      robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setZ</span>(position[<span class="hljs-number">0</span>]);
      robotGroup.<span class="hljs-property">position</span>.<span class="hljs-title function_">setY</span>(position.<span class="hljs-property">length</span> &gt; <span class="hljs-number">2</span> ? position[<span class="hljs-number">2</span>] : <span class="hljs-number">0</span>);
      
      <span class="hljs-comment">// æ›´æ–°æ¨¡å‹æ—‹è½¬ï¼ˆæ ¹æ®åœ°å›¾æ—‹è½¬ï¼‰</span>
      <span class="hljs-keyword">const</span> rotation = mapInstance.<span class="hljs-title function_">getRotation</span>();
      <span class="hljs-keyword">if</span> (rotation !== <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">const</span> initialRotationY = (<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * <span class="hljs-number">90</span>;
        robotGroup.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = initialRotationY + (rotation * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>);
      }
    }
  }
  
  <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯</span>
  renderer.<span class="hljs-title function_">render</span>(scene, camera);
  renderer.<span class="hljs-title function_">resetState</span>();
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨åœ°å›¾ä¸­å¿ƒç‚¹ä½œä¸ºæ¨¡å‹ä½ç½®ï¼Œå®ç°ç²¾ç¡®è·Ÿéš</li>
<li>åœ¨æ¯æ¬¡renderä¸­æ›´æ–°åæ ‡ç³»ç»Ÿä¸­å¿ƒç‚¹ï¼Œç¡®ä¿åæ ‡è½¬æ¢å‡†ç¡®</li>
<li>åŒæ­¥åœ°å›¾æ—‹è½¬è§’åº¦åˆ°æ¨¡å‹Yè½´æ—‹è½¬</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/704af9f7931e4a4582b0a4d9a6520a2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=8kAzAZJY8zNP98XWt4v5QW5fWjk%3D" alt="2025-12-21 11.55.23.gif" loading="lazy"/></p>
<h3 data-id="heading-21">å…­ã€å·¡é€»åŠ¨ç”»å®ç°</h3>
<h4 data-id="heading-22">6.1 å¯åŠ¨å·¡é€»</h4>
<p>å½“æ¨¡å‹åŠ è½½å®Œæˆå¹¶è®¾ç½®å¥½åˆå§‹ä½ç½®åï¼Œå¯ä»¥å¯åŠ¨å·¡é€»åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">startPatrol</span> = (<span class="hljs-params">paths: <span class="hljs-built_in">number</span>[][], mapInstance: <span class="hljs-built_in">any</span>, AMap: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-comment">// åœæ­¢ä¹‹å‰çš„å·¡é€»</span>
  <span class="hljs-variable constant_">TWEEN</span>.<span class="hljs-title function_">removeAll</span>();
  patrolFinishedRef.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
  
  <span class="hljs-comment">// ä¿å­˜è·¯å¾„</span>
  patrolPathsRef.<span class="hljs-property">current</span> = paths;
  patrolIndexRef.<span class="hljs-property">current</span> = <span class="hljs-number">0</span>;
  
  <span class="hljs-comment">// æ’­æ”¾å‰è¿›åŠ¨ç”»</span>
  <span class="hljs-title function_">playAnimation</span>(<span class="hljs-string">'1LYP'</span>);  <span class="hljs-comment">// æ’­æ”¾è¡Œèµ°åŠ¨ç”»</span>
  
  <span class="hljs-comment">// è®¾ç½®åæ ‡ç³»ç»Ÿä¸­å¿ƒç‚¹ä¸ºè·¯å¾„èµ·ç‚¹</span>
  <span class="hljs-keyword">const</span> firstPoint = paths[<span class="hljs-number">0</span>];
  customCoordsRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">setCenter</span>([firstPoint[<span class="hljs-number">0</span>], firstPoint[<span class="hljs-number">1</span>]]);
  
  <span class="hljs-comment">// ä½¿ç”¨Locaå®ç°é•œå¤´è·Ÿéš</span>
  <span class="hljs-keyword">const</span> loca = locaRef.<span class="hljs-property">current</span>;
  <span class="hljs-keyword">if</span> (loca) {
    <span class="hljs-comment">// ... addTrackAnimate ä»£ç  ...</span>
  }
  
  <span class="hljs-comment">// å¯åŠ¨æ¨¡å‹ç§»åŠ¨åŠ¨ç”»</span>
  <span class="hljs-title function_">changeObject</span>();
};
</code></pre>
<h4 data-id="heading-23">6.2 æ¨¡å‹ç§»åŠ¨åŠ¨ç”»</h4>
<p>ä½¿ç”¨TWEEN.jså®ç°æ¨¡å‹åœ¨è·¯å¾„ç‚¹ä¹‹é—´çš„å¹³æ»‘ç§»åŠ¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">changeObject</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (patrolFinishedRef.<span class="hljs-property">current</span> || patrolIndexRef.<span class="hljs-property">current</span> &gt;= patrolPathsRef.<span class="hljs-property">current</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> sp = patrolPathsRef.<span class="hljs-property">current</span>[patrolIndexRef.<span class="hljs-property">current</span>];
  <span class="hljs-keyword">const</span> ep = patrolPathsRef.<span class="hljs-property">current</span>[patrolIndexRef.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>];
  <span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(sp[<span class="hljs-number">0</span>], sp[<span class="hljs-number">1</span>]);
  <span class="hljs-keyword">const</span> e = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(ep[<span class="hljs-number">0</span>], ep[<span class="hljs-number">1</span>]);

  <span class="hljs-keyword">const</span> speed = <span class="hljs-number">0.03</span>;
  <span class="hljs-keyword">const</span> dis = <span class="hljs-title class_">AMap</span>.<span class="hljs-property">GeometryUtil</span>.<span class="hljs-title function_">distance</span>(sp, ep);
  
  <span class="hljs-keyword">if</span> (dis &lt;= <span class="hljs-number">0</span>) {
    patrolIndexRef.<span class="hljs-property">current</span>++;
    <span class="hljs-title function_">changeObject</span>();
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// ä½¿ç”¨TWEENå®ç°å¹³æ»‘ç§»åŠ¨</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">TWEEN</span>.<span class="hljs-title class_">Tween</span>(s)
    .<span class="hljs-title function_">to</span>(e.<span class="hljs-title function_">clone</span>(), dis / speed / speedFactor)
    .<span class="hljs-title function_">start</span>()
    .<span class="hljs-title function_">onUpdate</span>(<span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> {
      <span class="hljs-comment">// æ›´æ–°æ¨¡å‹ç»çº¬åº¦å¼•ç”¨</span>
      modelLngLatRef.<span class="hljs-property">current</span> = [v.<span class="hljs-property">x</span>, v.<span class="hljs-property">y</span>];
      
      <span class="hljs-comment">// èŠ‚æµæ›´æ–°çŠ¶æ€ï¼ˆæ¯100msæ›´æ–°ä¸€æ¬¡ï¼‰</span>
      <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">if</span> (now - lastUpdateTimeRef.<span class="hljs-property">current</span> &gt; <span class="hljs-number">100</span>) {
        <span class="hljs-title function_">setCurrentLngLat</span>([v.<span class="hljs-property">x</span>, v.<span class="hljs-property">y</span>]);
        <span class="hljs-title function_">checkSamplePoint</span>([v.<span class="hljs-property">x</span>, v.<span class="hljs-property">y</span>], <span class="hljs-title class_">AMap</span>);  <span class="hljs-comment">// æ£€æµ‹å–æ ·ç‚¹</span>
        <span class="hljs-comment">// è®¡ç®—å·²å·¡é€»é•¿åº¦</span>
        <span class="hljs-title function_">updatePatrolledLength</span>(v);
        lastUpdateTimeRef.<span class="hljs-property">current</span> = now;
      }
    })
    .<span class="hljs-title function_">onComplete</span>(<span class="hljs-function">() =&gt;</span> {
      accumulatedLengthRef.<span class="hljs-property">current</span> += dis;
      
      <span class="hljs-keyword">if</span> (patrolIndexRef.<span class="hljs-property">current</span> &lt; patrolPathsRef.<span class="hljs-property">current</span>.<span class="hljs-property">length</span> - <span class="hljs-number">2</span>) {
        patrolIndexRef.<span class="hljs-property">current</span>++;
        <span class="hljs-title function_">changeObject</span>();  <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€æ®µ</span>
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å•ç¨‹å®Œæˆ</span>
        <span class="hljs-keyword">if</span> (patrolMode !== <span class="hljs-string">'å¾€è¿”'</span>) {
          patrolFinishedRef.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;
          <span class="hljs-title function_">playAnimation</span>(<span class="hljs-string">'1Idle'</span>);  <span class="hljs-comment">// æ’­æ”¾é™æ­¢åŠ¨ç”»</span>
        }
      }
    });
};
</code></pre>
<h4 data-id="heading-24">6.3 åŠ¨ç”»ç³»ç»Ÿ</h4>
<p>æ¨¡å‹æ”¯æŒå¤šç§åŠ¨ç”»ï¼ˆè¡Œèµ°ã€é™æ­¢ã€è·³èˆç­‰ï¼‰ï¼Œä½¿ç”¨<code>AnimationMixer</code>ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¾ç½®åŠ¨ç”»ç³»ç»Ÿ</span>
<span class="hljs-keyword">if</span> (gltf.<span class="hljs-property">animations</span> &amp;&amp; gltf.<span class="hljs-property">animations</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
  <span class="hljs-keyword">const</span> mixer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AnimationMixer</span>(robotModel);
  
  <span class="hljs-comment">// åˆ›å»ºæ‰€æœ‰åŠ¨ç”»åŠ¨ä½œ</span>
  <span class="hljs-keyword">const</span> actions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">AnimationAction</span>&gt;();
  gltf.<span class="hljs-property">animations</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">clip: THREE.AnimationClip</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> action = mixer.<span class="hljs-title function_">clipAction</span>(clip);
    action.<span class="hljs-title function_">setLoop</span>(<span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">LoopRepeat</span>);  <span class="hljs-comment">// å¾ªç¯æ’­æ”¾</span>
    actions.<span class="hljs-title function_">set</span>(clip.<span class="hljs-property">name</span>, action);
  });
  
  <span class="hljs-comment">// æ’­æ”¾é»˜è®¤é™æ­¢åŠ¨ç”»</span>
  <span class="hljs-keyword">const</span> defaultAction = actions.<span class="hljs-title function_">get</span>(<span class="hljs-string">'1Idle'</span>);
  <span class="hljs-keyword">if</span> (defaultAction) {
    defaultAction.<span class="hljs-title function_">setEffectiveTimeScale</span>(<span class="hljs-number">0.6</span>);  <span class="hljs-comment">// è®¾ç½®æ’­æ”¾é€Ÿåº¦</span>
    defaultAction.<span class="hljs-title function_">fadeIn</span>(<span class="hljs-number">0.3</span>);
    defaultAction.<span class="hljs-title function_">play</span>();
  }
}

<span class="hljs-comment">// åœ¨renderå¾ªç¯ä¸­æ›´æ–°åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">render</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">render</span>();
  });
  
  <span class="hljs-comment">// æ›´æ–°åŠ¨ç”»æ··åˆå™¨</span>
  <span class="hljs-keyword">if</span> (mixer) {
    <span class="hljs-keyword">const</span> currentTime = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> delta = (currentTime - lastAnimationTime) / <span class="hljs-number">1000</span>;
    mixer.<span class="hljs-title function_">update</span>(delta);
    lastAnimationTime = currentTime;
  }
  
  <span class="hljs-comment">// æ›´æ–°TWEENåŠ¨ç”»</span>
  <span class="hljs-variable constant_">TWEEN</span>.<span class="hljs-title function_">update</span>();
  
  <span class="hljs-comment">// æ¸²æŸ“åœ°å›¾</span>
  mapInstance.<span class="hljs-title function_">render</span>();
};
</code></pre>
<blockquote>
<p>å›¾ç‰‡ç•¥å¤§ï¼Œè€å¿ƒç­‰å€™</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20efe3a18e064609bcc6eda76ba1be31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=trCcvYGAT3U7pVGEnsv3hPLkx%2BU%3D" alt="5 åŠ¨ç”»åˆ‡æ¢.gif" loading="lazy"/></p>
<h3 data-id="heading-25">ä¸ƒã€AIå®‰å…¨éšæ‚£è‡ªåŠ¨æ£€æµ‹ä¸å‘Šè­¦</h3>
<p>ç³»ç»Ÿé›†æˆäº†Coze AIå¤§æ¨¡å‹ï¼Œå®ç°äº†å·¡é€»è¿‡ç¨‹ä¸­çš„è‡ªåŠ¨å®‰å…¨éšæ‚£æ£€æµ‹å’Œå‘Šè­¦åŠŸèƒ½ã€‚å½“æœºæ¢°ç‹—æ²¿è·¯çº¿å·¡é€»æ—¶ï¼Œç³»ç»Ÿä¼šåœ¨é¢„è®¾çš„å–æ ·ç‚¹è‡ªåŠ¨è§¦å‘AIåˆ†æï¼Œè¯†åˆ«æ½œåœ¨çš„å®‰å…¨éšæ‚£ã€‚</p>
<h4 data-id="heading-26">7.1 å–æ ·ç‚¹è®¡ç®—</h4>
<p>ç³»ç»Ÿæ”¯æŒåŸºäºè·¯çº¿é—´éš”çš„è‡ªåŠ¨å–æ ·ç‚¹è®¡ç®—ï¼Œæ ¹æ®å·¡é€»çŠ¬é…ç½®çš„å–æ ·é—´éš”ï¼ˆå¦‚æ¯50ç±³ã€100ç±³ç­‰ï¼‰ï¼Œåœ¨è·¯çº¿ä¸Šå‡åŒ€åˆ†å¸ƒå–æ ·ç‚¹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¡ç®—å–æ ·ç‚¹ï¼ˆåŸºäºè·¯çº¿é—´éš”ï¼‰</span>
<span class="hljs-keyword">const</span> calculateSamplePoints = (
  <span class="hljs-attr">paths</span>: <span class="hljs-built_in">number</span>[][], 
  <span class="hljs-attr">sampleInterval</span>: <span class="hljs-built_in">number</span>, 
  <span class="hljs-title class_">AMap</span>: <span class="hljs-built_in">any</span>
): <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">lng</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">lat</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">distance</span>: <span class="hljs-built_in">number</span> }&gt; =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">samplePoints</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">lng</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">lat</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">distance</span>: <span class="hljs-built_in">number</span> }&gt; = [];
  <span class="hljs-keyword">let</span> accumulatedDistance = <span class="hljs-number">0</span>;
  
  <span class="hljs-comment">// ä»ç¬¬ä¸€ä¸ªç‚¹å¼€å§‹ï¼ˆ0ç±³å¤„ï¼‰</span>
  samplePoints.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">lng</span>: paths[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],
    <span class="hljs-attr">lat</span>: paths[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],
    <span class="hljs-attr">distance</span>: <span class="hljs-number">0</span>,
  });
  
  <span class="hljs-comment">// éå†è·¯å¾„ï¼Œè®¡ç®—æ¯ä¸ªå–æ ·ç‚¹</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; paths.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i++) {
    <span class="hljs-keyword">const</span> currentPoint = paths[i];
    <span class="hljs-keyword">const</span> nextPoint = paths[i + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> segmentDistance = <span class="hljs-title class_">AMap</span>.<span class="hljs-property">GeometryUtil</span>.<span class="hljs-title function_">distance</span>(currentPoint, nextPoint);
    
    <span class="hljs-comment">// æ£€æŸ¥å½“å‰æ®µæ˜¯å¦åŒ…å«å–æ ·ç‚¹</span>
    <span class="hljs-keyword">while</span> (accumulatedDistance + segmentDistance &gt;= (samplePoints.<span class="hljs-property">length</span> * sampleInterval)) {
      <span class="hljs-keyword">const</span> targetDistance = samplePoints.<span class="hljs-property">length</span> * sampleInterval;
      <span class="hljs-keyword">const</span> distanceInSegment = targetDistance - accumulatedDistance;
      
      <span class="hljs-comment">// è®¡ç®—å–æ ·ç‚¹åœ¨å½“å‰æ®µä¸­çš„ä½ç½®ï¼ˆçº¿æ€§æ’å€¼ï¼‰</span>
      <span class="hljs-keyword">const</span> ratio = distanceInSegment / segmentDistance;
      <span class="hljs-keyword">const</span> sampleLng = currentPoint[<span class="hljs-number">0</span>] + (nextPoint[<span class="hljs-number">0</span>] - currentPoint[<span class="hljs-number">0</span>]) * ratio;
      <span class="hljs-keyword">const</span> sampleLat = currentPoint[<span class="hljs-number">1</span>] + (nextPoint[<span class="hljs-number">1</span>] - currentPoint[<span class="hljs-number">1</span>]) * ratio;
      
      samplePoints.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">lng</span>: sampleLng,
        <span class="hljs-attr">lat</span>: sampleLat,
        <span class="hljs-attr">distance</span>: targetDistance,
      });
    }
    
    accumulatedDistance += segmentDistance;
  }
  
  <span class="hljs-keyword">return</span> samplePoints;
};
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨é«˜å¾·åœ°å›¾çš„<code>GeometryUtil.distance</code>è®¡ç®—è·¯å¾„æ®µè·ç¦»</li>
<li>é€šè¿‡çº¿æ€§æ’å€¼è®¡ç®—å–æ ·ç‚¹çš„ç²¾ç¡®ä½ç½®</li>
<li>å–æ ·ç‚¹ä»è·¯çº¿èµ·ç‚¹å¼€å§‹ï¼ŒæŒ‰å›ºå®šé—´éš”å‡åŒ€åˆ†å¸ƒ</li>
</ul>
<h4 data-id="heading-27">7.2 è‡ªåŠ¨è§¦å‘æ£€æµ‹</h4>
<p>åœ¨å·¡é€»è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå®æ—¶æ£€æµ‹æ¨¡å‹ä½ç½®æ˜¯å¦åˆ°è¾¾å–æ ·ç‚¹é™„è¿‘ï¼ˆÂ±10ç±³èŒƒå›´å†…ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æµ‹æ˜¯å¦åˆ°è¾¾å–æ ·ç‚¹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">checkSamplePoint</span> = (<span class="hljs-params">currentLngLat: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>], AMap: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> patrolDog = currentPatrolDogRef.<span class="hljs-property">current</span>;
  <span class="hljs-keyword">const</span> route = currentRouteRefForSample.<span class="hljs-property">current</span>;
  <span class="hljs-keyword">const</span> area = currentAreaRefForSample.<span class="hljs-property">current</span>;
  
  <span class="hljs-keyword">if</span> (!patrolDog || !route || !patrolDog.<span class="hljs-property">cameraDeviceId</span>) {
    <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ²¡æœ‰ç»‘å®šæ‘„åƒå¤´ï¼Œä¸è¿›è¡Œå–æ ·</span>
  }

  <span class="hljs-comment">// æ£€æŸ¥å–æ ·æ–¹å¼ï¼ˆå¿…é¡»æ˜¯"è·¯çº¿é—´éš”"æ¨¡å¼ï¼‰</span>
  <span class="hljs-keyword">if</span> (patrolDog.<span class="hljs-property">sampleMode</span> !== <span class="hljs-string">'è·¯çº¿é—´éš”'</span> || !patrolDog.<span class="hljs-property">sampleInterval</span>) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åœ¨å–æ ·ç‚¹é™„è¿‘ï¼ˆÂ±10ç±³èŒƒå›´å†…ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; samplePointsRef.<span class="hljs-property">current</span>.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">if</span> (processedSamplePointsRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">has</span>(i)) {
      <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// å·²å¤„ç†è¿‡ï¼Œè·³è¿‡</span>
    }

    <span class="hljs-keyword">const</span> samplePoint = samplePointsRef.<span class="hljs-property">current</span>[i];
    <span class="hljs-keyword">const</span> distance = <span class="hljs-title class_">AMap</span>.<span class="hljs-property">GeometryUtil</span>.<span class="hljs-title function_">distance</span>(
      [currentLngLat[<span class="hljs-number">0</span>], currentLngLat[<span class="hljs-number">1</span>]],
      [samplePoint.<span class="hljs-property">lng</span>, samplePoint.<span class="hljs-property">lat</span>]
    );

    <span class="hljs-comment">// åœ¨ Â±10 ç±³èŒƒå›´å†…ï¼Œè§¦å‘å–æ ·</span>
    <span class="hljs-keyword">if</span> (distance &lt;= <span class="hljs-number">10</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… åˆ°è¾¾å–æ ·ç‚¹ <span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>/<span class="hljs-subst">${samplePointsRef.current.length}</span>`</span>);
      processedSamplePointsRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">add</span>(i);
      
      <span class="hljs-comment">// å¼‚æ­¥è°ƒç”¨ Coze APIï¼ˆä¸é˜»å¡å·¡é€»ï¼‰</span>
      <span class="hljs-title function_">analyzeSecurity</span>(
        patrolDog,
        route,
        area,
        currentLngLat,
        <span class="hljs-title class_">AMap</span>
      ).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å®‰å…¨éšæ‚£åˆ†æå¤±è´¥:'</span>, error);
      });
      
      <span class="hljs-keyword">break</span>; <span class="hljs-comment">// ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªå–æ ·ç‚¹</span>
    }
  }
};
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨è·ç¦»åˆ¤æ–­ï¼Œé¿å…é‡å¤è§¦å‘</li>
<li>å¼‚æ­¥è°ƒç”¨AIåˆ†æï¼Œä¸é˜»å¡å·¡é€»åŠ¨ç”»</li>
<li>ä½¿ç”¨<code>Set</code>è®°å½•å·²å¤„ç†çš„å–æ ·ç‚¹ï¼Œç¡®ä¿æ¯ä¸ªç‚¹åªå¤„ç†ä¸€æ¬¡</li>
</ul>
<h4 data-id="heading-28">7.3 è°ƒç”¨Coze APIè¿›è¡Œå®‰å…¨éšæ‚£åˆ†æ</h4>
<p>ç³»ç»Ÿä½¿ç”¨Cozeå¹³å°çš„å¤§æ¨¡å‹å·¥ä½œæµè¿›è¡Œå›¾åƒå®‰å…¨éšæ‚£åˆ†æï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è°ƒç”¨ Coze API è¿›è¡Œå®‰å…¨éšæ‚£åˆ†æ</span>
<span class="hljs-keyword">const</span> analyzeSecurity = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">patrolDog</span>: <span class="hljs-title class_">PatrolDog</span>,
  <span class="hljs-attr">route</span>: <span class="hljs-title class_">Route</span>,
  <span class="hljs-attr">area</span>: <span class="hljs-title class_">Area</span> | <span class="hljs-literal">null</span>,
  <span class="hljs-attr">currentLngLat</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>],
  <span class="hljs-title class_">AMap</span>: <span class="hljs-built_in">any</span>
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. è·å–é»˜è®¤ä»¤ç‰Œ</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">initDB</span>();
    <span class="hljs-keyword">const</span> tokens = <span class="hljs-keyword">await</span> db.<span class="hljs-property">token</span>.<span class="hljs-title function_">getAll</span>();
    <span class="hljs-keyword">const</span> validTokens = tokens.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">token</span> =&gt;</span> <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &lt;= token.<span class="hljs-property">expireDate</span>);
    <span class="hljs-keyword">if</span> (validTokens.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æ²¡æœ‰å¯ç”¨çš„ä»¤ç‰Œï¼Œè·³è¿‡å®‰å…¨éšæ‚£åˆ†æ'</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> defaultToken = validTokens.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">isDefault</span>) || validTokens[<span class="hljs-number">0</span>];
    
    <span class="hljs-comment">// 2. å‡†å¤‡åˆ†ææ•°æ®</span>
    <span class="hljs-comment">// éšæœºé€‰æ‹©ä¸€å¼ æµ‹è¯•å›¾ç‰‡ï¼ˆå®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨æ‘„åƒå¤´å®æ—¶æŠ“æ‹ï¼‰</span>
    <span class="hljs-keyword">const</span> randomImageUrl = imageUrlr[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * imageUrlr.<span class="hljs-property">length</span>)];
    
    <span class="hljs-comment">// æ„å»ºè¾“å…¥æ–‡æœ¬ï¼Œæè¿°å½“å‰å·¡é€»åœºæ™¯</span>
    <span class="hljs-keyword">const</span> inputText = <span class="hljs-string">`<span class="hljs-subst">${patrolDog.name}</span>å½“å‰åœ¨<span class="hljs-subst">${area?.name || <span class="hljs-string">'æœªçŸ¥'</span>}</span>åŒºåŸŸ<span class="hljs-subst">${route.name}</span>å·¡é€»æ—¶æŠ“æ‹äº†ä¸€å¼ ç…§ç‰‡ã€‚åˆ†ææ˜¯å¦å­˜åœ¨å®‰å…¨éšæ‚£`</span>;
    
    <span class="hljs-comment">// 3. åˆ›å»º Coze API å®¢æˆ·ç«¯</span>
    <span class="hljs-keyword">const</span> apiClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CozeAPI</span>({
      <span class="hljs-attr">token</span>: defaultToken.<span class="hljs-property">token</span>,
      <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.coze.cn'</span>,
      <span class="hljs-attr">allowPersonalAccessTokenInBrowser</span>: <span class="hljs-literal">true</span>,
    });

    <span class="hljs-comment">// 4. è°ƒç”¨å·¥ä½œæµ</span>
    <span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'7585585625312034858'</span>;
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> apiClient.<span class="hljs-property">workflows</span>.<span class="hljs-property">runs</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">workflow_id</span>: workflow_id,
      <span class="hljs-attr">parameters</span>: {
        <span class="hljs-attr">input</span>: inputText,
        <span class="hljs-attr">mediaUrl</span>: randomImageUrl,
      },
    });

    <span class="hljs-comment">// 5. è§£æè¿”å›ç»“æœ</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">analysisResult</span>: { <span class="hljs-attr">securityType</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">score</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">desc</span>: <span class="hljs-built_in">string</span> } | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>) {
      <span class="hljs-keyword">const</span> dataObj = <span class="hljs-keyword">typeof</span> res.<span class="hljs-property">data</span> === <span class="hljs-string">'string'</span> ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(res.<span class="hljs-property">data</span>) : res.<span class="hljs-property">data</span>;
      
      <span class="hljs-keyword">if</span> (dataObj.<span class="hljs-property">output</span> &amp;&amp; <span class="hljs-keyword">typeof</span> dataObj.<span class="hljs-property">output</span> === <span class="hljs-string">'string'</span>) {
        <span class="hljs-comment">// æå– markdown ä»£ç å—ä¸­çš„ JSON</span>
        <span class="hljs-keyword">const</span> jsonMatch = dataObj.<span class="hljs-property">output</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/```json\s*([\s\S]*?)\s*```/</span>) || 
                         dataObj.<span class="hljs-property">output</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/```\s*([\s\S]*?)\s*```/</span>);
        
        <span class="hljs-keyword">if</span> (jsonMatch &amp;&amp; jsonMatch[<span class="hljs-number">1</span>]) {
          analysisResult = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(jsonMatch[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>());
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// å°è¯•ç›´æ¥è§£æ output ä¸º JSON</span>
          analysisResult = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(dataObj.<span class="hljs-property">output</span>);
        }
      } <span class="hljs-keyword">else</span> {
        analysisResult = dataObj;
      }
    }

    <span class="hljs-comment">// 6. åˆ¤æ–­æ˜¯å¦æ˜¯æŠ¥è­¦ï¼ˆsecurityType !== 0 ä¸” score !== 0ï¼‰</span>
    <span class="hljs-keyword">if</span> (analysisResult &amp;&amp; analysisResult.<span class="hljs-property">securityType</span> !== <span class="hljs-number">0</span> &amp;&amp; analysisResult.<span class="hljs-property">score</span> !== <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// ä¿å­˜åˆ°åˆ†ææŠ¥è­¦è¡¨</span>
      <span class="hljs-keyword">const</span> <span class="hljs-attr">analysisAlert</span>: <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">AnalysisAlert</span>, <span class="hljs-string">'id'</span> | <span class="hljs-string">'createTime'</span> | <span class="hljs-string">'updateTime'</span>&gt; = {
        <span class="hljs-attr">alertTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        <span class="hljs-attr">patrolDogId</span>: patrolDog.<span class="hljs-property">id</span>!,
        <span class="hljs-attr">patrolDogName</span>: patrolDog.<span class="hljs-property">name</span>,
        <span class="hljs-attr">cameraDeviceId</span>: patrolDog.<span class="hljs-property">cameraDeviceId</span>,
        <span class="hljs-attr">cameraDeviceName</span>: patrolDog.<span class="hljs-property">cameraDeviceName</span>,
        <span class="hljs-attr">routeId</span>: route.<span class="hljs-property">id</span>!,
        <span class="hljs-attr">routeName</span>: route.<span class="hljs-property">name</span>,
        <span class="hljs-attr">areaId</span>: area?.<span class="hljs-property">id</span>,
        <span class="hljs-attr">areaName</span>: area?.<span class="hljs-property">name</span>,
        <span class="hljs-attr">securityType</span>: analysisResult.<span class="hljs-property">securityType</span> <span class="hljs-keyword">as</span> <span class="hljs-number">0</span> | <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span>,
        <span class="hljs-attr">score</span>: analysisResult.<span class="hljs-property">score</span>,
        <span class="hljs-attr">desc</span>: analysisResult.<span class="hljs-property">desc</span>,
        <span class="hljs-attr">mediaUrl</span>: randomImageUrl,
        <span class="hljs-attr">input</span>: inputText,
        <span class="hljs-attr">status</span>: <span class="hljs-string">'æœªå¤„ç†'</span>,
      };

      <span class="hljs-keyword">await</span> db.<span class="hljs-property">analysisAlert</span>.<span class="hljs-title function_">add</span>(analysisAlert);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… å®‰å…¨éšæ‚£å‘Šè­¦å·²ä¿å­˜'</span>);
      
      <span class="hljs-comment">// æ›´æ–°å‘Šè­¦åˆ—è¡¨ï¼ˆå®æ—¶æ˜¾ç¤ºåœ¨å¤§å±å³ä¾§ï¼‰</span>
      <span class="hljs-title function_">updateAlertList</span>(patrolDog.<span class="hljs-property">id</span>!, route.<span class="hljs-property">id</span>!, area?.<span class="hljs-property">id</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœªå‘ç°å®‰å…¨éšæ‚£ï¼Œä¸ä¿å­˜æŠ¥è­¦'</span>);
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è°ƒç”¨ Coze API å¤±è´¥:'</span>, error);
  }
};
</code></pre>
<p><strong>APIè¿”å›ç»“æœæ ¼å¼</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"securityType"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 0=æ— éšæ‚£, 1=æ˜ç«ç‡ƒçƒŸ, 2=æ‰“æ¶æ–—æ®´, 3=è¿ç« åœè½¦, 4=æ‚ç‰©å †æ”¾, 5=ç§æ­ä¹±å»º</span>
  <span class="hljs-attr">"score"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">85</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ä¸¥é‡ç¨‹åº¦è¯„åˆ† (0-100)</span>
  <span class="hljs-attr">"desc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ£€æµ‹åˆ°æ˜ç«ï¼Œå­˜åœ¨ä¸¥é‡å®‰å…¨éšæ‚£"</span>  <span class="hljs-comment">// è¯¦ç»†æè¿°</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>@coze/api</code>å®˜æ–¹SDKè°ƒç”¨å·¥ä½œæµAPI</li>
<li>æ”¯æŒå¤šç§å®‰å…¨éšæ‚£ç±»å‹è¯†åˆ«ï¼ˆæ˜ç«ç‡ƒçƒŸã€æ‰“æ¶æ–—æ®´ã€è¿ç« åœè½¦ç­‰ï¼‰</li>
<li>è‡ªåŠ¨ä¿å­˜å‘Šè­¦è®°å½•ï¼Œæ”¯æŒåç»­æŸ¥è¯¢å’Œå¤„ç†</li>
<li>å‘Šè­¦ä¿¡æ¯å®æ—¶æ˜¾ç¤ºåœ¨å¤§å±å³ä¾§å‘Šè­¦åˆ—è¡¨ä¸­</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417bf26d5cec469abe39ad6b90d09d8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=PbL9C6eGohgNvCZofTFQF8PJfNg%3D" alt="6 æŠ¥è­¦.png" loading="lazy"/></p>
<h4 data-id="heading-29">7.4 Cozeæµ‹è¯•é¡µé¢</h4>
<p>ç³»ç»Ÿæä¾›äº†ä¸“é—¨çš„Cozeæµ‹è¯•é¡µé¢ï¼Œæ–¹ä¾¿å¼€å‘è€…æµ‹è¯•å’Œè°ƒè¯•AIåˆ†æåŠŸèƒ½ã€‚åœ¨<strong>Cozeæµ‹è¯•</strong>é¡µé¢ä¸­ï¼Œå¯ä»¥ï¼š</p>
<ol>
<li><strong>é€‰æ‹©ä»¤ç‰Œ</strong>ï¼šä»å·²é…ç½®çš„Coze APIä»¤ç‰Œä¸­é€‰æ‹©ï¼ˆæ”¯æŒå¤šä¸ªä»¤ç‰Œç®¡ç†ï¼‰</li>
<li><strong>è¾“å…¥åˆ†ææ–‡æœ¬</strong>ï¼šæè¿°éœ€è¦åˆ†æçš„åœºæ™¯</li>
<li><strong>ä¸Šä¼ å›¾ç‰‡URL</strong>ï¼šæä¾›éœ€è¦åˆ†æçš„å›¾ç‰‡åœ°å€</li>
<li><strong>è‡ªåŠ¨å¡«å……åŠŸèƒ½</strong>ï¼šç‚¹å‡»"è‡ªåŠ¨å¡«å……"æŒ‰é’®ï¼Œå¿«é€Ÿå¡«å……é»˜è®¤çš„æµ‹è¯•æ•°æ®</li>
<li><strong>æŸ¥çœ‹å®Œæ•´å“åº”</strong>ï¼šæ˜¾ç¤ºCoze APIçš„å®Œæ•´è¿”å›ç»“æœï¼ŒåŒ…æ‹¬è§£æåçš„JSONå’ŒåŸå§‹å“åº”</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Cozeæµ‹è¯•é¡µé¢æ ¸å¿ƒåŠŸèƒ½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleTest</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> values = <span class="hljs-keyword">await</span> form.<span class="hljs-title function_">validateFields</span>();
  
  <span class="hljs-comment">// åˆ›å»º Coze API å®¢æˆ·ç«¯</span>
  <span class="hljs-keyword">const</span> apiClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CozeAPI</span>({
    <span class="hljs-attr">token</span>: values.<span class="hljs-property">token</span>,
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.coze.cn'</span>,
    <span class="hljs-attr">allowPersonalAccessTokenInBrowser</span>: <span class="hljs-literal">true</span>,
  });

  <span class="hljs-comment">// è°ƒç”¨å·¥ä½œæµ</span>
  <span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'7585585625312034858'</span>;
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> apiClient.<span class="hljs-property">workflows</span>.<span class="hljs-property">runs</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">workflow_id</span>: workflow_id,
    <span class="hljs-attr">parameters</span>: {
      <span class="hljs-attr">input</span>: values.<span class="hljs-property">input</span>,
      <span class="hljs-attr">mediaUrl</span>: values.<span class="hljs-property">mediaUrl</span>,
    },
  });

  <span class="hljs-comment">// è§£æå¹¶æ˜¾ç¤ºç»“æœ</span>
  <span class="hljs-comment">// ... è§£æé€»è¾‘ ...</span>
};
</code></pre>
<p><strong>æµ‹è¯•é¡µé¢ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨å¡«å……æ•°æ®</strong>ï¼šæä¾›é»˜è®¤çš„æµ‹è¯•å›¾ç‰‡å’Œæ–‡æœ¬ï¼Œæ–¹ä¾¿å¿«é€Ÿæµ‹è¯•</li>
<li><strong>å›¾ç‰‡é¢„è§ˆ</strong>ï¼šå®æ—¶é¢„è§ˆè¾“å…¥çš„å›¾ç‰‡URL</li>
<li><strong>å®Œæ•´å“åº”å±•ç¤º</strong>ï¼šæ˜¾ç¤ºAPIçš„å®Œæ•´å“åº”ï¼Œä¾¿äºè°ƒè¯•</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå‹å¥½çš„é”™è¯¯æç¤ºï¼Œå¸®åŠ©å®šä½é—®é¢˜</li>
</ul>
<blockquote>
<p>è¯·æˆªå›¾ Cozeæµ‹è¯•é¡µé¢ è‡ªåŠ¨å¡«å……åŠŸèƒ½ æµ‹è¯•ç»“æœå±•ç¤º</p>
</blockquote>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æµ‹è¯•æ–°çš„å®‰å…¨éšæ‚£è¯†åˆ«ç®—æ³•</li>
<li>éªŒè¯Coze APIä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ</li>
<li>è°ƒè¯•APIè¿”å›ç»“æœæ ¼å¼</li>
<li>éªŒè¯å›¾ç‰‡URLæ˜¯å¦å¯è¢«Cozeè§£æ</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f29b91ced67a4ff3988691e2ab026a54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2ZX-WNjum5jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767748663&amp;x-signature=TKeWCzv%2Bs0%2BGHq%2BwHgFeFYQ8vh4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-30">å…«ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-31">7.1 æ¸²æŸ“ä¼˜åŒ–</h4>
<ul>
<li>ç¦ç”¨ä¸å¿…è¦çš„WebGLæ‰©å±•ï¼ˆå¦‚é˜´å½±ã€æŠ—é”¯é½¿ï¼‰</li>
<li>ä½¿ç”¨<code>requestAnimationFrame</code>ç»Ÿä¸€ç®¡ç†æ¸²æŸ“å¾ªç¯</li>
<li>åˆç†è®¾ç½®æ¨¡å‹LODï¼ˆç»†èŠ‚å±‚æ¬¡ï¼‰</li>
</ul>
<h4 data-id="heading-32">7.2 å†…å­˜ç®¡ç†</h4>
<ul>
<li>åŠæ—¶æ¸…ç†ä¸éœ€è¦çš„TWEENåŠ¨ç”»ï¼š<code>TWEEN.removeAll()</code></li>
<li>ç»„ä»¶å¸è½½æ—¶é”€æ¯Three.jsèµ„æº</li>
<li>æ¨¡å‹åŠ è½½åç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½</li>
</ul>
<h4 data-id="heading-33">7.3 åæ ‡è½¬æ¢ä¼˜åŒ–</h4>
<ul>
<li>åæ ‡ç³»ç»Ÿä¸­å¿ƒç‚¹è·Ÿéšåœ°å›¾ä¸­å¿ƒï¼Œå‡å°‘è½¬æ¢è¯¯å·®</li>
<li>ä½¿ç”¨èŠ‚æµæ§åˆ¶çŠ¶æ€æ›´æ–°é¢‘ç‡</li>
<li>é¿å…åœ¨renderä¸­è¿›è¡Œå¤æ‚è®¡ç®—</li>
</ul>
<h3 data-id="heading-34">ä¹ã€å¸¸è§é—®é¢˜è§£å†³</h3>
<h4 data-id="heading-35">8.1 æ¨¡å‹ä¸æ˜¾ç¤º</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ¨¡å‹åŠ è½½æˆåŠŸä½†åœ¨åœ°å›¾ä¸Šä¸å¯è§</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥<code>renderer.autoClear</code>æ˜¯å¦è®¾ç½®ä¸º<code>false</code></li>
<li>ç¡®è®¤åæ ‡è½¬æ¢æ˜¯å¦æ­£ç¡®ï¼ˆæ³¨æ„æ•°ç»„ç´¢å¼•å¯¹åº”å…³ç³»ï¼‰</li>
<li>æ£€æŸ¥æ¨¡å‹ç¼©æ”¾æ˜¯å¦åˆé€‚ï¼ˆå¯èƒ½å¤ªå°æˆ–å¤ªå¤§ï¼‰</li>
</ul>
<h4 data-id="heading-36">8.2 æ¨¡å‹ä½ç½®åç§»</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ¨¡å‹ä½ç½®ä¸é¢„æœŸä¸ç¬¦</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿åœ¨è®¾ç½®æ¨¡å‹ä½ç½®å‰è°ƒç”¨<code>customCoords.setCenter()</code></li>
<li>æ£€æŸ¥åæ ‡è½´å¯¹åº”å…³ç³»ï¼ˆ<code>position[1]</code>å¯¹åº”Xè½´ï¼Œ<code>position[0]</code>å¯¹åº”Zè½´ï¼‰</li>
<li>ä½¿ç”¨<code>AxesHelper</code>è¾…åŠ©è°ƒè¯•åæ ‡è½´æ–¹å‘</li>
</ul>
<h4 data-id="heading-37">8.3 é•œå¤´è·Ÿéšä¸æµç•…</h4>
<p><strong>é—®é¢˜</strong>ï¼šé•œå¤´è·Ÿéšæœ‰å»¶è¿Ÿæˆ–å¡é¡¿</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>è°ƒæ•´<code>rotationSpeed</code>å‚æ•°ï¼Œæ§åˆ¶æ—‹è½¬é€Ÿåº¦</li>
<li>ä¼˜åŒ–<code>timing</code>é€Ÿç‡æ§åˆ¶å™¨ï¼Œå®ç°æ›´å¹³æ»‘çš„åŠ é€Ÿå‡é€Ÿ</li>
<li>æ£€æŸ¥renderå¾ªç¯æ˜¯å¦æ­£å¸¸æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-38">åã€æ€»ç»“</h3>
<p>é€šè¿‡é«˜å¾·åœ°å›¾ä¸Three.jsçš„æ·±åº¦ç»“åˆï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†3Dæ¨¡å‹åœ¨åœ°å›¾ä¸Šçš„å®æ—¶å±•ç¤ºå’ŒåŠ¨ç”»æ•ˆæœï¼Œå¹¶é›†æˆäº†AIå¤§æ¨¡å‹å®ç°æ™ºèƒ½å®‰å…¨éšæ‚£æ£€æµ‹ã€‚æ ¸å¿ƒè¦ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>GLCustomLayeræ˜¯å…³é”®æ¡¥æ¢</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰å›¾å±‚å®ç°Three.jsä¸é«˜å¾·åœ°å›¾çš„èåˆ</li>
<li><strong>åæ ‡è½¬æ¢æ˜¯æ ¸å¿ƒ</strong>ï¼šæ­£ç¡®ç†è§£å’Œä½¿ç”¨<code>customCoords</code>è¿›è¡Œåæ ‡è½¬æ¢</li>
<li><strong>é•œå¤´è·Ÿéšæå‡ä½“éªŒ</strong>ï¼šä½¿ç”¨Loca APIå®ç°å¹³æ»‘çš„é•œå¤´è·Ÿéšæ•ˆæœ</li>
<li><strong>AIæ™ºèƒ½æ£€æµ‹å¢å¼ºåŠŸèƒ½</strong>ï¼šé›†æˆCozeå¤§æ¨¡å‹å®ç°è‡ªåŠ¨å®‰å…¨éšæ‚£è¯†åˆ«å’Œå‘Šè­¦</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–ä¸å¯å¿½è§†</strong>ï¼šåˆç†é…ç½®æ¸²æŸ“å‚æ•°ï¼Œé¿å…ä¸å¿…è¦çš„WebGLæ‰©å±•</li>
</ol>
<p><strong>æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>è™šå®ç»“åˆ</strong>ï¼šçœŸå®åœ°ç†ä¿¡æ¯ä¸3Dæ¨¡å‹çš„å®Œç¾èåˆ</li>
<li><strong>æ™ºèƒ½æ£€æµ‹</strong>ï¼šåŸºäºAIå¤§æ¨¡å‹çš„è‡ªåŠ¨å®‰å…¨éšæ‚£è¯†åˆ«</li>
<li><strong>å®æ—¶å‘Šè­¦</strong>ï¼šå·¡é€»è¿‡ç¨‹ä¸­çš„å®æ—¶æ£€æµ‹å’Œå‘Šè­¦æ¨é€</li>
<li><strong>å¯è§†åŒ–å±•ç¤º</strong>ï¼šæ²‰æµ¸å¼å¤§å±ç›‘æ§ä½“éªŒ</li>
</ul>
<p>è¿™ç§æŠ€æœ¯æ–¹æ¡ˆä¸ä»…é€‚ç”¨äºå·¡é€»çŠ¬ç®¡ç†ç³»ç»Ÿï¼Œè¿˜å¯ä»¥æ‰©å±•åˆ°æ™ºæ…§åŸå¸‚ã€ç‰©æµè¿½è¸ªã€è½¦è¾†ç›‘æ§ã€å›­åŒºå®‰é˜²ç­‰å¤šä¸ªåœºæ™¯ï¼Œä¸ºç©ºé—´æ•°æ®å¯è§†åŒ–æä¾›äº†å¼ºå¤§çš„æŠ€æœ¯æ”¯æ’‘ã€‚é€šè¿‡AIèƒ½åŠ›çš„é›†æˆï¼Œç³»ç»Ÿä»ä¼ ç»Ÿçš„å¯è§†åŒ–å±•ç¤ºå‡çº§ä¸ºæ™ºèƒ½åŒ–çš„å®‰å…¨ç›‘æ§å¹³å°ï¼Œå®ç°äº†"çœ‹å¾—è§ã€ç®¡å¾—ä½ã€èƒ½é¢„è­¦"çš„å®Œæ•´é—­ç¯ã€‚</p>
<h3 data-id="heading-39">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flbs.amap.com%2Fapi%2Fjavascript-api%2Fsummary" target="_blank" title="https://lbs.amap.com/api/javascript-api/summary" ref="nofollow noopener noreferrer">é«˜å¾·åœ°å›¾JS APIæ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F" target="_blank" title="https://threejs.org/docs/" ref="nofollow noopener noreferrer">Three.jså®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flbs.amap.com%2Fapi%2Floca-v2%2Fsummary" target="_blank" title="https://lbs.amap.com/api/loca-v2/summary" ref="nofollow noopener noreferrer">Locaæ•°æ®å¯è§†åŒ–API</a></li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV18cqCBwEio%2F" target="_blank" title="https://www.bilibili.com/video/BV18cqCBwEio/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV18câ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿå¹‚ç­‰æ€§è¯¦è§£ï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7589482741759868955</link>    <guid>https://juejin.cn/post/7589482741759868955</guid>    <pubDate>2025-12-31T01:25:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589482741759868955" data-draft-id="7589544380517957642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†å¸ƒå¼ç³»ç»Ÿå¹‚ç­‰æ€§è¯¦è§£ï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-12-31T01:25:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†å¸ƒå¼ç³»ç»Ÿå¹‚ç­‰æ€§è¯¦è§£ï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:25:30.000Z" title="Wed Dec 31 2025 01:25:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ†å¸ƒå¼ç³»ç»Ÿå¹‚ç­‰æ€§è¯¦è§£ï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—</h2>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œâ€œé‡å¤æ‰§è¡Œâ€æ˜¯æ— æ³•é¿å…çš„å¸¸æ€â€”â€”ç½‘ç»œæŠ–åŠ¨å¯¼è‡´çš„è¯·æ±‚é‡è¯•ã€æ¶ˆæ¯é˜Ÿåˆ—çš„é‡å¤æ¶ˆè´¹ã€ç”¨æˆ·è¯¯æ“ä½œçš„é‡å¤æäº¤ã€æœåŠ¡é‡å¯åçš„ä»»åŠ¡é‡æ”¾ï¼Œéƒ½å¯èƒ½è®©åŒä¸€æ“ä½œè¢«å¤šæ¬¡æ‰§è¡Œã€‚å¦‚æœç³»ç»Ÿä¸å…·å¤‡â€œå¹‚ç­‰æ€§â€ï¼Œè¿™äº›é‡å¤æ“ä½œä¼šå¼•å‘ä¸¥é‡çš„æ•°æ®å¼‚å¸¸ï¼šé‡å¤æ‰£å‡ä½™é¢ã€é‡å¤åˆ›å»ºè®¢å•ã€é‡å¤å‘æ”¾ç§¯åˆ†â€¦â€¦è€Œå¹‚ç­‰æ€§ï¼Œæ­£æ˜¯åº”å¯¹è¿™äº›é—®é¢˜çš„æ ¸å¿ƒä¿éšœã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±å…¨é¢æ‹†è§£å¹‚ç­‰æ€§çš„æ ¸å¿ƒé€»è¾‘ã€å®ç°æ–¹æ¡ˆã€è½åœ°å®è·µä¸é¿å‘è¦ç‚¹ï¼Œææ‡‚å¦‚ä½•è®©åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡å¤æ“ä½œä¸‹ä¾ç„¶ä¿æŒæ•°æ®ä¸€è‡´ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆå¿…é¡»é‡è§†å¹‚ç­‰æ€§ï¼Ÿåˆ†å¸ƒå¼åœºæ™¯çš„ç—›ç‚¹é©±åŠ¨</h3>
<p>åœ¨å•ä½“ç³»ç»Ÿä¸­ï¼Œæ“ä½œçš„æ‰§è¡Œé“¾è·¯çŸ­ã€çŠ¶æ€å¯æ§ï¼Œé‡å¤æ‰§è¡Œçš„æ¦‚ç‡è¾ƒä½ï¼›ä½†åˆ†å¸ƒå¼ç³»ç»Ÿæ¶‰åŠå¤šæœåŠ¡ã€å¤šç½‘ç»œäº¤äº’ã€å¤šæ•°æ®å­˜å‚¨ï¼Œé‡å¤æ‰§è¡Œçš„åœºæ™¯æ— å¤„ä¸åœ¨ï¼Œæ ¸å¿ƒç—›ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç½‘ç»œä¸å¯é å¯¼è‡´çš„é‡è¯•</strong>ï¼šè·¨æœåŠ¡è°ƒç”¨æˆ–ç¬¬ä¸‰æ–¹æ¥å£è°ƒç”¨æ—¶ï¼Œç½‘ç»œè¶…æ—¶ã€ packet ä¸¢å¤±ç­‰é—®é¢˜ä¼šè§¦å‘é‡è¯•æœºåˆ¶ï¼ˆå¦‚Feigné‡è¯•ã€æœ¬åœ°æ¶ˆæ¯è¡¨é‡è¯•ï¼‰ï¼ŒåŒä¸€è¯·æ±‚è¢«å¤šæ¬¡å‘é€ï¼›</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—é‡å¤æ¶ˆè´¹</strong>ï¼šMQå› ç½‘ç»œæ³¢åŠ¨ã€æ¶ˆè´¹è€…å®•æœºç­‰åŸå› ï¼Œå¯èƒ½å°†åŒä¸€æ¶ˆæ¯é‡å¤æŠ•é€’ï¼ˆå¦‚RocketMQé‡è¯•æœºåˆ¶ã€Kafka offsetå›æº¯ï¼‰ï¼Œå¯¼è‡´æ¶ˆè´¹é€»è¾‘é‡å¤æ‰§è¡Œï¼›</li>
<li><strong>ç”¨æˆ·è¡Œä¸ºé‡å¤</strong>ï¼šç”¨æˆ·å¿«é€Ÿç‚¹å‡»æäº¤æŒ‰é’®ï¼ˆå¦‚ä¸‹å•ã€æ”¯ä»˜ï¼‰ã€å‰ç«¯å› å¡é¡¿é‡å¤å‘é€è¯·æ±‚ï¼Œå¯¼è‡´åŒä¸€ä¸šåŠ¡æ“ä½œè¢«å¤šæ¬¡è§¦å‘ï¼›</li>
<li><strong>æœåŠ¡å®¹é”™ä¸æ¢å¤</strong>ï¼šæœåŠ¡é‡å¯ã€æ‰©å®¹ã€æ•…éšœè½¬ç§»æ—¶ï¼Œæœªå®Œæˆçš„ä»»åŠ¡ä¼šè¢«é‡æ–°æ‰§è¡Œï¼ˆå¦‚å®šæ—¶ä»»åŠ¡é‡æ”¾ã€åˆ†å¸ƒå¼äº‹åŠ¡å›æ»šåé‡è¯•ï¼‰ï¼›</li>
<li><strong>ç¬¬ä¸‰æ–¹ç³»ç»Ÿå›è°ƒé‡å¤</strong>ï¼šæ”¯ä»˜ã€ç‰©æµç­‰ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„å›è°ƒé€šçŸ¥ï¼Œå¯èƒ½å› ç½‘ç»œå»¶è¿Ÿæˆ–è‡ªèº«é‡è¯•æœºåˆ¶ï¼Œå¤šæ¬¡å›è°ƒåŒä¸€æ¥å£ï¼ˆå¦‚æ”¯ä»˜æˆåŠŸå›è°ƒé‡å¤é€šçŸ¥ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›åœºæ™¯ä¸‹ï¼Œè‹¥ç³»ç»Ÿä¸å…·å¤‡å¹‚ç­‰æ€§ï¼Œä¼šç›´æ¥å¯¼è‡´æ•°æ®é”™ä¹±ï¼šæ¯”å¦‚ç”¨æˆ·ä½™é¢è¢«é‡å¤æ‰£å‡ã€è®¢å•è¢«é‡å¤åˆ›å»ºã€ç§¯åˆ†è¢«é‡å¤å‘æ”¾ï¼Œè¿›è€Œå¼•å‘ç”¨æˆ·æŠ•è¯‰ã€è´¢åŠ¡æŸå¤±ã€‚å¯è§ï¼Œå¹‚ç­‰æ€§ä¸æ˜¯â€œå¯é€‰ç‰¹æ€§â€ï¼Œè€Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„â€œåŸºç¡€ä¿éšœâ€â€”â€”å®ƒå†³å®šäº†ç³»ç»Ÿåœ¨å¼‚å¸¸åœºæ™¯ä¸‹çš„ç¨³å®šæ€§å’Œæ•°æ®ä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-2">äºŒã€å¹‚ç­‰æ€§æ ¸å¿ƒå®šä¹‰ï¼šä»€ä¹ˆæ˜¯â€œå¤šæ¬¡æ‰§è¡Œä¸ä¸€æ¬¡æ‰§è¡Œç»“æœä¸€è‡´â€ï¼Ÿ</h3>
<p>å¹‚ç­‰æ€§ï¼ˆIdempotencyï¼‰çš„æ ¸å¿ƒå®šä¹‰æ˜¯ï¼š<strong>åŒä¸€æ“ä½œï¼Œæ— è®ºæ‰§è¡Œä¸€æ¬¡è¿˜æ˜¯å¤šæ¬¡ï¼Œæœ€ç»ˆäº§ç”Ÿçš„ä¸šåŠ¡ç»“æœå’Œç³»ç»ŸçŠ¶æ€éƒ½å®Œå…¨ä¸€è‡´ï¼Œä¸ä¼šå› é‡å¤æ‰§è¡Œå¯¼è‡´ä»»ä½•å‰¯ä½œç”¨</strong>ã€‚</p>
<p>ç”¨æ•°å­¦å…¬å¼å¯ç®€å•ç†è§£ä¸ºï¼šå¯¹äºæ“ä½œ fï¼Œä»»æ„è¾“å…¥ xï¼Œéƒ½æ»¡è¶³ f(f(x)) = f(x)ã€‚</p>
<p>éœ€è¦ç‰¹åˆ«æ¾„æ¸…3ä¸ªæ˜“æ··æ·†çš„è®¤çŸ¥ï¼Œé¿å…ç†è§£åå·®ï¼š</p>
<ul>
<li><strong>å¹‚ç­‰æ€§â‰ é˜²é‡æ”¾</strong>ï¼šé˜²é‡æ”¾æ˜¯é˜²æ­¢â€œè¿‡æœŸè¯·æ±‚â€è¢«é‡å¤æ‰§è¡Œï¼ˆå¦‚é»‘å®¢æˆªå–æ—§çš„è¯·æ±‚å‚æ•°é‡æ–°å‘é€ï¼‰ï¼Œæ ¸å¿ƒæ˜¯â€œæ—¶é—´æœ‰æ•ˆæ€§â€ï¼›å¹‚ç­‰æ€§æ˜¯å…è®¸é‡å¤æ‰§è¡Œï¼Œä½†ä¿è¯ç»“æœä¸€è‡´ï¼Œæ ¸å¿ƒæ˜¯â€œç»“æœä¸€è‡´æ€§â€ï¼›</li>
<li><strong>å¹‚ç­‰æ€§â‰ å¯é‡å…¥</strong>ï¼šå¯é‡å…¥æ˜¯æŒ‡åŒä¸€çº¿ç¨‹åœ¨ä¸åŒåœºæ™¯ä¸‹é‡å¤è¿›å…¥åŒä¸€æ–¹æ³•ï¼ˆå¦‚é€’å½’è°ƒç”¨ã€é”é‡å…¥ï¼‰ï¼Œæ ¸å¿ƒæ˜¯â€œæ–¹æ³•æ‰§è¡Œè¿‡ç¨‹çš„å…¼å®¹æ€§â€ï¼›å¹‚ç­‰æ€§æ˜¯é’ˆå¯¹â€œä¸åŒæ¬¡ç‹¬ç«‹æ“ä½œâ€çš„ç»“æœä¸€è‡´æ€§ï¼›</li>
<li><strong>å¹‚ç­‰æ€§ä¸è¦æ±‚â€œæ‰§è¡Œè¿‡ç¨‹ä¸€è‡´â€</strong> ï¼šé‡å¤æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¯èƒ½æœ‰ä¸­é—´çŠ¶æ€ï¼ˆå¦‚â€œå¤„ç†ä¸­â€ï¼‰ï¼Œä½†æœ€ç»ˆçŠ¶æ€å¿…é¡»ä¸€è‡´ï¼›æ¯”å¦‚é‡å¤åˆ›å»ºè®¢å•ï¼Œç¬¬ä¸€æ¬¡åˆ›å»ºæˆåŠŸï¼Œç¬¬äºŒæ¬¡è¿”å›â€œè®¢å•å·²å­˜åœ¨â€ï¼Œè™½æ‰§è¡Œè¿‡ç¨‹ä¸åŒï¼Œä½†æœ€ç»ˆåªå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆè®¢å•ï¼Œç¬¦åˆå¹‚ç­‰æ€§ã€‚</li>
</ul>
<p>æ ¹æ®æ“ä½œç±»å‹ï¼Œå¹‚ç­‰æ€§å¯åˆ†ä¸º3ç±»ï¼Œè¦†ç›–å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ol>
<li><strong>æŸ¥è¯¢æ“ä½œ</strong>ï¼šå¤©ç„¶å¹‚ç­‰ã€‚æŸ¥è¯¢æ“ä½œä¸ä¼šæ”¹å˜ç³»ç»ŸçŠ¶æ€ï¼Œæ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œç»“æœéƒ½ä¸€è‡´ï¼ˆå¦‚â€œæŸ¥è¯¢ç”¨æˆ·ä½™é¢â€â€œæŸ¥è¯¢è®¢å•è¯¦æƒ…â€ï¼‰ï¼›</li>
<li><strong>æ›´æ–°æ“ä½œ</strong>ï¼šéƒ¨åˆ†å¤©ç„¶å¹‚ç­‰ï¼Œéƒ¨åˆ†éœ€æ‰‹åŠ¨å®ç°ã€‚æ¯”å¦‚â€œå°†ç”¨æˆ·ä½™é¢è®¾ç½®ä¸º100å…ƒâ€æ˜¯å¤©ç„¶å¹‚ç­‰ï¼ˆæ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œä½™é¢æœ€ç»ˆéƒ½æ˜¯100ï¼‰ï¼›ä½†â€œç»™ç”¨æˆ·ä½™é¢å¢åŠ 10å…ƒâ€æ˜¯éå¤©ç„¶å¹‚ç­‰ï¼ˆæ‰§è¡Œä¸¤æ¬¡åˆ™å¢åŠ 20å…ƒï¼‰ï¼›</li>
<li><strong>åˆ›å»ºæ“ä½œ</strong>ï¼šéå¤©ç„¶å¹‚ç­‰ï¼Œéœ€å¼ºåˆ¶å®ç°ã€‚åˆ›å»ºæ“ä½œä¼šæ–°å¢æ•°æ®ï¼ˆå¦‚åˆ›å»ºè®¢å•ã€åˆ›å»ºç”¨æˆ·ï¼‰ï¼Œé‡å¤æ‰§è¡Œä¼šå¯¼è‡´æ•°æ®é‡å¤ï¼Œå¿…é¡»é€šè¿‡é¢å¤–æœºåˆ¶ä¿è¯å¹‚ç­‰æ€§ã€‚</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€åˆ†å¸ƒå¼ç³»ç»Ÿå¹‚ç­‰æ€§æ ¸å¿ƒå®ç°æ–¹æ¡ˆï¼šåŸç†ã€åœºæ™¯ä¸ä¼˜ç¼ºç‚¹</h3>
<p>å®ç°å¹‚ç­‰æ€§çš„æ ¸å¿ƒæ€è·¯æ˜¯â€œè®©ç³»ç»Ÿèƒ½å¤Ÿè¯†åˆ«é‡å¤æ“ä½œï¼Œå¹¶å¯¹é‡å¤æ“ä½œç›´æ¥è¿”å›ä¸€è‡´ç»“æœâ€ã€‚ä¸‹é¢æ‹†è§£6ç§æœ€å¸¸ç”¨çš„å®ç°æ–¹æ¡ˆï¼Œæ˜ç¡®å…¶é€‚ç”¨è¾¹ç•Œå’Œè½åœ°è¦ç‚¹ï¼š</p>
<h4 data-id="heading-4">1. åŸºäºå”¯ä¸€æ ‡è¯†ï¼ˆIdempotency Keyï¼‰çš„å¹‚ç­‰æ€§æ ¡éªŒ</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>ç”±è¯·æ±‚å‘èµ·æ–¹ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„â€œå¹‚ç­‰æ€§æ ‡è¯†â€ï¼ˆIdempotency Keyï¼‰ï¼Œè¯·æ±‚æ—¶å°†è¯¥æ ‡è¯†ä¸€å¹¶ä¼ é€’ç»™æœåŠ¡ç«¯ï¼›æœåŠ¡ç«¯é¦–å…ˆæ ¡éªŒè¯¥æ ‡è¯†æ˜¯å¦å·²å¤„ç†ï¼Œè‹¥æœªå¤„ç†åˆ™æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œæ‰§è¡Œå®Œæˆåè®°å½•æ ‡è¯†çš„å¤„ç†çŠ¶æ€ï¼›è‹¥å·²å¤„ç†åˆ™ç›´æ¥è¿”å›ä¹‹å‰çš„æ‰§è¡Œç»“æœï¼Œä¸é‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘</strong>ã€‚</p>
<p>æ ¸å¿ƒæµç¨‹ï¼ˆä»¥HTTPæ¥å£ä¸ºä¾‹ï¼‰ï¼š</p>
<ol>
<li>å‰ç«¯/å®¢æˆ·ç«¯ç”Ÿæˆå”¯ä¸€æ ‡è¯†ï¼ˆå¦‚UUIDã€é›ªèŠ±ç®—æ³•IDï¼‰ï¼Œä½œä¸ºâ€œIdempotency-Keyâ€è¯·æ±‚å¤´æˆ–å‚æ•°ä¼ é€’ç»™æœåŠ¡ç«¯ï¼›</li>
<li>æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚åï¼Œå…ˆæŸ¥è¯¢ç¼“å­˜ï¼ˆå¦‚Redisï¼‰æˆ–æ•°æ®åº“ï¼Œåˆ¤æ–­è¯¥å¹‚ç­‰æ€§æ ‡è¯†æ˜¯å¦å·²å­˜åœ¨ï¼›</li>
<li>è‹¥ä¸å­˜åœ¨ï¼šæ‰§è¡Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚åˆ›å»ºè®¢å•ã€æ‰£å‡ä½™é¢ï¼‰ï¼›</li>
<li>ä¸šåŠ¡é€»è¾‘æ‰§è¡ŒæˆåŠŸåï¼Œå°†å¹‚ç­‰æ€§æ ‡è¯†å­˜å…¥ç¼“å­˜/æ•°æ®åº“ï¼ˆè®°å½•çŠ¶æ€ä¸ºâ€œå·²å¤„ç†â€ï¼Œå¯å…³è”ä¸šåŠ¡ç»“æœï¼‰ï¼›</li>
<li>è‹¥å·²å­˜åœ¨ï¼šç›´æ¥è¿”å›ç¼“å­˜/æ•°æ®åº“ä¸­è®°å½•çš„ä¸šåŠ¡ç»“æœï¼Œä¸é‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</li>
</ol>
<p>å®ç°ç¤ºä¾‹ï¼ˆRedisç‰ˆï¼Œé€‚ç”¨äºé«˜å¹¶å‘æ¥å£ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/create-order"</span>)
public Result <span class="hljs-built_in">createOrder</span>(<span class="hljs-variable">@RequestHeader</span>(<span class="hljs-string">"Idempotency-Key"</span>) String idempotencyKey, <span class="hljs-variable">@RequestBody</span> OrderDTO orderDTO) {
    <span class="hljs-comment">// 1. æ ¡éªŒå¹‚ç­‰æ€§æ ‡è¯†</span>
    <span class="hljs-selector-tag">Boolean</span> <span class="hljs-selector-tag">isExist</span> = <span class="hljs-selector-tag">redisTemplate</span><span class="hljs-selector-class">.hasKey</span>(idempotencyKey);
    <span class="hljs-selector-tag">if</span> (Boolean.TRUE.<span class="hljs-built_in">equals</span>(isExist)) {
        <span class="hljs-comment">// é‡å¤è¯·æ±‚ï¼Œè¿”å›ä¹‹å‰çš„ç»“æœ</span>
        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">resultJson</span> = <span class="hljs-selector-tag">redisTemplate</span><span class="hljs-selector-class">.opsForValue</span>()<span class="hljs-selector-class">.get</span>(idempotencyKey);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Result</span><span class="hljs-selector-class">.success</span>(JSON.<span class="hljs-built_in">parseObject</span>(resultJson, OrderVO.class));
    }
    
    <span class="hljs-comment">// 2. æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼ˆåˆ›å»ºè®¢å•ï¼‰</span>
    <span class="hljs-selector-tag">OrderVO</span> <span class="hljs-selector-tag">orderVO</span> = <span class="hljs-selector-tag">orderService</span><span class="hljs-selector-class">.createOrder</span>(orderDTO);
    
    <span class="hljs-comment">// 3. è®°å½•å¹‚ç­‰æ€§æ ‡è¯†ï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé¿å…å†…å­˜æº¢å‡ºï¼‰</span>
    <span class="hljs-selector-tag">redisTemplate</span><span class="hljs-selector-class">.opsForValue</span>()<span class="hljs-selector-class">.set</span>(idempotencyKey, JSON.<span class="hljs-built_in">toJSONString</span>(orderVO), <span class="hljs-number">24</span>, TimeUnit.HOURS);
    
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Result</span><span class="hljs-selector-class">.success</span>(orderVO);
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>RESTfulæ¥å£ã€ç¬¬ä¸‰æ–¹å›è°ƒæ¥å£ï¼ˆå¦‚æ”¯ä»˜å›è°ƒï¼‰ï¼›</li>
<li>ç”¨æˆ·é‡å¤æäº¤åœºæ™¯ï¼ˆå¦‚ä¸‹å•ã€è¡¨å•æäº¤ï¼‰ï¼›</li>
<li>é«˜å¹¶å‘åœºæ™¯ï¼ˆä¼˜å…ˆç”¨Rediså­˜å‚¨æ ‡è¯†ï¼Œæ€§èƒ½æ›´é«˜ï¼‰ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>é€šç”¨æ€§æå¼ºï¼Œå‡ ä¹é€‚é…æ‰€æœ‰ä¸šåŠ¡åœºæ™¯ï¼›</li>
<li>å®ç°ç®€å•ï¼Œæ— ä¾µå…¥æ€§ï¼ˆä»…éœ€åœ¨æ¥å£å…¥å£å¢åŠ æ ¡éªŒé€»è¾‘ï¼‰ï¼›</li>
<li>é«˜å¹¶å‘å‹å¥½ï¼ŒRedisç‰ˆå¯æ”¯æŒæµ·é‡è¯·æ±‚çš„å¹‚ç­‰æ€§æ ¡éªŒã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¾èµ–è¯·æ±‚å‘èµ·æ–¹ç”Ÿæˆå”¯ä¸€æ ‡è¯†ï¼Œéœ€å‰ç«¯/å®¢æˆ·ç«¯é…åˆï¼›</li>
<li>éœ€é¢å¤–ç»´æŠ¤ç¼“å­˜/æ•°æ®åº“ï¼ˆå¦‚Rediså®•æœºå¯èƒ½å¯¼è‡´å¹‚ç­‰æ€§å¤±æ•ˆï¼Œéœ€è€ƒè™‘é«˜å¯ç”¨ï¼‰ï¼›</li>
<li>æ ‡è¯†è¿‡æœŸæ—¶é—´éš¾è®¾ç½®ï¼šè¿‡çŸ­å¯èƒ½å¯¼è‡´æ­£å¸¸é‡è¯•å¤±æ•ˆï¼Œè¿‡é•¿å¯èƒ½å ç”¨è¿‡å¤šèµ„æºã€‚</li>
</ul>
<h4 data-id="heading-5">2. åŸºäºä¸šåŠ¡å”¯ä¸€æ ‡è¯†çš„å¹‚ç­‰æ€§æ ¡éªŒ</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>åˆ©ç”¨ä¸šåŠ¡æœ¬èº«çš„å”¯ä¸€å±æ€§ï¼ˆå¦‚è®¢å•å·ã€æ”¯ä»˜æµæ°´å·ã€ç”¨æˆ·ID+ä¸šåŠ¡ç±»å‹ï¼‰ä½œä¸ºå¹‚ç­‰æ€§æ ‡è¯†ï¼Œæ— éœ€é¢å¤–ç”Ÿæˆå…¨å±€IDï¼›æœåŠ¡ç«¯é€šè¿‡æ•°æ®åº“å”¯ä¸€çº¦æŸæˆ–çŠ¶æ€æŸ¥è¯¢ï¼Œåˆ¤æ–­ä¸šåŠ¡æ“ä½œæ˜¯å¦å·²æ‰§è¡Œï¼Œé¿å…é‡å¤å¤„ç†</strong>ã€‚</p>
<p>å®ç°æ–¹å¼ï¼ˆä¸¤ç§æ ¸å¿ƒæ€è·¯ï¼‰ï¼š</p>
<ol>
<li><strong>æ•°æ®åº“å”¯ä¸€çº¦æŸ</strong>ï¼šåœ¨ä¸šåŠ¡è¡¨ä¸­ä¸ºä¸šåŠ¡å”¯ä¸€æ ‡è¯†å»ºç«‹å”¯ä¸€ç´¢å¼•ï¼ˆå¦‚è®¢å•è¡¨çš„â€œorder_noâ€ã€æ”¯ä»˜è¡¨çš„â€œtrade_noâ€ï¼‰ï¼Œé‡å¤æ’å…¥æ—¶ä¼šè§¦å‘å”¯ä¸€çº¦æŸå¼‚å¸¸ï¼ŒæœåŠ¡ç«¯æ•è·å¼‚å¸¸åç›´æ¥è¿”å›æˆåŠŸï¼ˆè§†ä¸ºé‡å¤æ“ä½œï¼‰ï¼› <code>-- è®¢å•è¡¨ï¼Œorder_noä¸ºä¸šåŠ¡å”¯ä¸€æ ‡è¯†ï¼Œå»ºç«‹å”¯ä¸€ç´¢å¼•  ``` CREATE TABLE</code>order<code>(  ````</code>id<code>bigint(20) NOT NULL AUTO_INCREMENT,  ````</code>order_no<code>varchar(64) NOT NULL COMMENT 'è®¢å•å·ï¼ˆä¸šåŠ¡å”¯ä¸€ï¼‰',  ````</code>user_id<code>bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',  ````</code>amount<code>decimal(10,2) NOT NULL COMMENT 'é‡‘é¢',  ````</code>status<code> tinyint(4) NOT NULL COMMENT 'è®¢å•çŠ¶æ€',  ```` PRIMARY KEY (</code>id<code>),  ```` UNIQUE KEY </code>uk_order_no<code> (</code>order_no<code>) -- å”¯ä¸€çº¦æŸä¿è¯å¹‚ç­‰æ€§  ```) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</code>ä»£ç é€»è¾‘ï¼šåˆ›å»ºè®¢å•æ—¶ï¼Œç›´æ¥æ’å…¥æ•°æ®ï¼Œè‹¥è§¦å‘DuplicateKeyExceptionï¼Œåˆ™è®¤ä¸ºæ˜¯é‡å¤è¯·æ±‚ï¼Œè¿”å›è®¢å•å·²å­˜åœ¨çš„ç»“æœã€‚</li>
<li><strong>ä¸šåŠ¡çŠ¶æ€æŸ¥è¯¢</strong>ï¼šé€šè¿‡ä¸šåŠ¡å”¯ä¸€æ ‡è¯†æŸ¥è¯¢å½“å‰çŠ¶æ€ï¼Œåˆ¤æ–­æ“ä½œæ˜¯å¦å·²æ‰§è¡Œã€‚æ¯”å¦‚â€œæ”¯ä»˜å›è°ƒâ€åœºæ™¯ï¼Œé€šè¿‡â€œæ”¯ä»˜æµæ°´å·â€æŸ¥è¯¢è®¢å•çŠ¶æ€ï¼Œè‹¥å·²æ”¯ä»˜åˆ™ç›´æ¥è¿”å›æˆåŠŸï¼Œæœªæ”¯ä»˜åˆ™æ‰§è¡Œæ”¯ä»˜ç¡®è®¤é€»è¾‘ã€‚</li>
</ol>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æœ‰å¤©ç„¶ä¸šåŠ¡å”¯ä¸€æ ‡è¯†çš„åœºæ™¯ï¼ˆå¦‚è®¢å•ã€æ”¯ä»˜ã€ç‰©æµï¼‰ï¼›</li>
<li>æ•°æ®åº“æ“ä½œåœºæ™¯ï¼ˆæ’å…¥ã€æ›´æ–°ä¸šåŠ¡æ•°æ®ï¼‰ï¼›</li>
<li>æ— éœ€å‰ç«¯é…åˆçš„åç«¯å†…éƒ¨æ“ä½œï¼ˆå¦‚æ¶ˆæ¯æ¶ˆè´¹ã€å®šæ—¶ä»»åŠ¡ï¼‰ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ— éœ€é¢å¤–ç”Ÿæˆå…¨å±€IDï¼Œä¾èµ–ä¸šåŠ¡æœ¬èº«å±æ€§ï¼Œå®ç°æ›´ç®€æ´ï¼›</li>
<li>ä¸ä¾èµ–å¤–éƒ¨ç¼“å­˜ï¼Œä»…ç”¨æ•°æ®åº“çº¦æŸæˆ–æŸ¥è¯¢ï¼Œç¨³å®šæ€§æ›´é«˜ï¼›</li>
<li>ä¸šåŠ¡å…³è”æ€§å¼ºï¼Œä¾¿äºé—®é¢˜æ’æŸ¥ï¼ˆé€šè¿‡ä¸šåŠ¡å”¯ä¸€æ ‡è¯†å¯ç›´æ¥å®šä½æ“ä½œè®°å½•ï¼‰ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>é€šç”¨æ€§å¼±ï¼Œä»…é€‚ç”¨äºæœ‰å¤©ç„¶ä¸šåŠ¡å”¯ä¸€æ ‡è¯†çš„åœºæ™¯ï¼›</li>
<li>æ•°æ®åº“å”¯ä¸€çº¦æŸæ–¹å¼å¯èƒ½äº§ç”Ÿå¤§é‡å¼‚å¸¸æ—¥å¿—ï¼ˆéœ€åˆç†å¤„ç†ï¼‰ï¼›</li>
<li>é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¤šæ¬¡æ’å…¥è§¦å‘å”¯ä¸€çº¦æŸå¯èƒ½å½±å“æ€§èƒ½ï¼ˆå¯ç»“åˆç¼“å­˜é¢„çƒ­ä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">3. åŸºäºçŠ¶æ€æœºçš„å¹‚ç­‰æ€§æ ¡éªŒ</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>ä¸šåŠ¡æµç¨‹çš„æ¯ä¸ªæ­¥éª¤å¯¹åº”ä¸€ä¸ªæ˜ç¡®çš„çŠ¶æ€ï¼ˆå¦‚è®¢å•çš„â€œå¾…æ”¯ä»˜â†’å·²æ”¯ä»˜â†’å·²å‘è´§â†’å·²å®Œæˆâ€ï¼‰ï¼Œé€šè¿‡çŠ¶æ€æœºæ§åˆ¶çŠ¶æ€æµè½¬ï¼Œä»…å…è®¸ä»æŒ‡å®šçš„å‰ç½®çŠ¶æ€æµè½¬åˆ°ç›®æ ‡çŠ¶æ€ï¼›é‡å¤æ“ä½œä¼šå› â€œçŠ¶æ€ä¸æ»¡è¶³æµè½¬æ¡ä»¶â€è¢«æ‹’ç»ï¼Œä»è€Œä¿è¯å¹‚ç­‰æ€§</strong>ã€‚</p>
<p>å®ç°ç¤ºä¾‹ï¼ˆè®¢å•æ”¯ä»˜åœºæ™¯ï¼‰ï¼š</p>
<ol>
<li>è®¢å•çŠ¶æ€å®šä¹‰ï¼šå¾…æ”¯ä»˜ï¼ˆ0ï¼‰ã€å·²æ”¯ä»˜ï¼ˆ1ï¼‰ã€å·²å–æ¶ˆï¼ˆ2ï¼‰ã€å·²å®Œæˆï¼ˆ3ï¼‰ï¼›</li>
<li>æ”¯ä»˜æ“ä½œçš„çŠ¶æ€æµè½¬è§„åˆ™ï¼šä»…å…è®¸ä»â€œå¾…æ”¯ä»˜ï¼ˆ0ï¼‰â€æµè½¬åˆ°â€œå·²æ”¯ä»˜ï¼ˆ1ï¼‰â€ï¼›</li>
<li>é‡å¤æ”¯ä»˜è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯æŸ¥è¯¢è®¢å•çŠ¶æ€ä¸ºâ€œå·²æ”¯ä»˜ï¼ˆ1ï¼‰â€ï¼Œä¸æ»¡è¶³æµè½¬æ¡ä»¶ï¼Œç›´æ¥è¿”å›æˆåŠŸï¼Œä¸é‡å¤æ‰£å‡ä½™é¢ã€‚</li>
</ol>
<p>ä»£ç é€»è¾‘ï¼ˆçŠ¶æ€æœºæ ¡éªŒï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public Result <span class="hljs-built_in">payOrder</span>(String orderNo, BigDecimal amount) {
    <span class="hljs-comment">// 1. æŸ¥è¯¢è®¢å•çŠ¶æ€</span>
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderMapper<span class="hljs-selector-class">.selectByOrderNo</span>(orderNo);
    if (order == null) {
        return Result<span class="hljs-selector-class">.fail</span>("è®¢å•ä¸å­˜åœ¨");
    }
    
    <span class="hljs-comment">// 2. çŠ¶æ€æœºæ ¡éªŒï¼šä»…å¾…æ”¯ä»˜çŠ¶æ€å¯æ‰§è¡Œæ”¯ä»˜</span>
    if (order.getStatus() != <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// éå¾…æ”¯ä»˜çŠ¶æ€ï¼Œè§†ä¸ºé‡å¤æ”¯ä»˜ï¼Œè¿”å›æˆåŠŸ</span>
        return Result<span class="hljs-selector-class">.success</span>("è®¢å•å·²æ”¯ä»˜");
    }
    
    <span class="hljs-comment">// 3. æ‰§è¡Œæ”¯ä»˜é€»è¾‘ï¼ˆæ‰£å‡ä½™é¢ã€æ›´æ–°è®¢å•çŠ¶æ€ï¼‰</span>
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setStatus</span>(<span class="hljs-number">1</span>);
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setPayTime</span>(new Date());
    orderMapper<span class="hljs-selector-class">.updateById</span>(order);
    balanceService<span class="hljs-selector-class">.deductBalance</span>(order.getUserId(), amount);
    
    return Result<span class="hljs-selector-class">.success</span>("æ”¯ä»˜æˆåŠŸ");
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æœ‰æ˜ç¡®çŠ¶æ€æµè½¬çš„ä¸šåŠ¡æµç¨‹ï¼ˆå¦‚è®¢å•ã€æ”¯ä»˜ã€ç‰©æµã€å®¡æ‰¹æµç¨‹ï¼‰ï¼›</li>
<li>å¤šæ­¥éª¤ä¸²è¡Œæ‰§è¡Œçš„ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚â€œä¸‹å•â†’æ”¯ä»˜â†’å‘è´§â†’ç¡®è®¤æ”¶è´§â€ï¼‰ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä¸ä¸šåŠ¡æµç¨‹æ·±åº¦èåˆï¼Œæ— éœ€é¢å¤–ç»´æŠ¤å¹‚ç­‰æ€§æ ‡è¯†ï¼›</li>
<li>çŠ¶æ€æµè½¬æ¸…æ™°ï¼Œå¯æœ‰æ•ˆé¿å…éæ³•çŠ¶æ€å˜æ›´ï¼ŒåŒæ—¶ä¿è¯å¹‚ç­‰æ€§ï¼›</li>
<li>å®ç°ç®€å•ï¼Œä»…éœ€åœ¨çŠ¶æ€å˜æ›´å‰å¢åŠ æ ¡éªŒé€»è¾‘ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>é€šç”¨æ€§å¼±ï¼Œä»…é€‚ç”¨äºæœ‰æ˜ç¡®çŠ¶æ€æµè½¬çš„åœºæ™¯ï¼›</li>
<li>éœ€ä¸¥æ ¼å®šä¹‰çŠ¶æ€æµè½¬è§„åˆ™ï¼Œè§„åˆ™å¤æ‚æ—¶æ˜“å‡ºé”™ï¼ˆå»ºè®®ä½¿ç”¨æˆç†ŸçŠ¶æ€æœºæ¡†æ¶ï¼Œå¦‚Spring StateMachineï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7">4. åŸºäºåˆ†å¸ƒå¼é”çš„å¹‚ç­‰æ€§æ ¡éªŒ</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>é’ˆå¯¹åŒä¸€ä¸šåŠ¡æ“ä½œï¼Œåœ¨æ‰§è¡Œå‰è·å–åˆ†å¸ƒå¼é”ï¼ˆå¦‚Redisé”ã€ZooKeeperé”ï¼‰ï¼Œè·å–æˆåŠŸåˆ™æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œæ‰§è¡Œå®Œæˆåé‡Šæ”¾é”ï¼›è‹¥è·å–å¤±è´¥ï¼ˆè¯´æ˜å·²æœ‰å…¶ä»–è¯·æ±‚åœ¨æ‰§è¡Œï¼‰ï¼Œåˆ™ç­‰å¾…é”é‡Šæ”¾æˆ–ç›´æ¥è¿”å›é‡å¤æ‰§è¡Œç»“æœï¼Œä»è€Œé¿å…å¹¶å‘åœºæ™¯ä¸‹çš„é‡å¤å¤„ç†</strong>ã€‚</p>
<p>å®ç°ç¤ºä¾‹ï¼ˆRedisåˆ†å¸ƒå¼é”ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-title class_">Result</span> <span class="hljs-title function_">deductStock</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> productId, Integer quantity</span>) {
    <span class="hljs-comment">// 1. æ„å»ºé”æ ‡è¯†ï¼ˆä¸šåŠ¡å”¯ä¸€ï¼šå•†å“ID+æ“ä½œç±»å‹ï¼‰</span>
    <span class="hljs-title class_">String</span> lockKey = <span class="hljs-string">"lock:deduct_stock:"</span> + productId;
    <span class="hljs-title class_">String</span> lockValue = <span class="hljs-variable constant_">UUID</span>.<span class="hljs-title function_">randomUUID</span>().<span class="hljs-title function_">toString</span>();
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 2. è·å–åˆ†å¸ƒå¼é”ï¼ˆè¿‡æœŸæ—¶é—´30ç§’ï¼Œé¿å…æ­»é”ï¼‰</span>
        <span class="hljs-title class_">Boolean</span> lockSuccess = redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">setIfAbsent</span>(lockKey, lockValue, <span class="hljs-number">30</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Boolean</span>.<span class="hljs-property">FALSE</span>.<span class="hljs-title function_">equals</span>(lockSuccess)) {
            <span class="hljs-comment">// æœªè·å–åˆ°é”ï¼Œè§†ä¸ºé‡å¤æ“ä½œæˆ–å¹¶å‘æ“ä½œï¼Œè¿”å›å¤±è´¥æˆ–é‡è¯•æç¤º</span>
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Result</span>.<span class="hljs-title function_">fail</span>(<span class="hljs-string">"ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•"</span>);
        }
        
        <span class="hljs-comment">// 3. æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼ˆæ‰£å‡åº“å­˜ï¼‰</span>
        <span class="hljs-title class_">Stock</span> stock = stockMapper.<span class="hljs-title function_">selectByProductId</span>(productId);
        <span class="hljs-keyword">if</span> (stock.<span class="hljs-title function_">getQuantity</span>() &lt; quantity) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Result</span>.<span class="hljs-title function_">fail</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>);
        }
        stock.<span class="hljs-title function_">setQuantity</span>(stock.<span class="hljs-title function_">getQuantity</span>() - quantity);
        stockMapper.<span class="hljs-title function_">updateById</span>(stock);
        
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Result</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">"åº“å­˜æ‰£å‡æˆåŠŸ"</span>);
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// 4. é‡Šæ”¾é”ï¼ˆé¿å…è¯¯é‡Šæ”¾ä»–äººçš„é”ï¼Œé€šè¿‡valueæ ¡éªŒï¼‰</span>
        <span class="hljs-title class_">String</span> currentValue = redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">get</span>(lockKey);
        <span class="hljs-keyword">if</span> (lockValue.<span class="hljs-title function_">equals</span>(currentValue)) {
            redisTemplate.<span class="hljs-title function_">delete</span>(lockKey);
        }
    }
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>é«˜å¹¶å‘åœºæ™¯ä¸‹çš„èµ„æºæ“ä½œï¼ˆå¦‚ç§’æ€åº“å­˜æ‰£å‡ã€é«˜é¢‘ä½™é¢æ›´æ–°ï¼‰ï¼›</li>
<li>æ— å¤©ç„¶å”¯ä¸€æ ‡è¯†ï¼Œä½†éœ€è¦é¿å…å¹¶å‘é‡å¤å¤„ç†çš„åœºæ™¯ï¼›</li>
<li>çŸ­æœŸæ‰§è¡Œçš„ä¸šåŠ¡æ“ä½œï¼ˆé”è¿‡æœŸæ—¶é—´æ˜“è®¾ç½®ï¼‰ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯æœ‰æ•ˆè§£å†³å¹¶å‘åœºæ™¯ä¸‹çš„é‡å¤æ“ä½œé—®é¢˜ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼›</li>
<li>ä¸ä¾èµ–ä¸šåŠ¡æ ‡è¯†ï¼Œé€šç”¨æ€§è¾ƒå¼ºï¼›</li>
<li>å®ç°çµæ´»ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´é”çš„ç²’åº¦å’Œè¿‡æœŸæ—¶é—´ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¾èµ–åˆ†å¸ƒå¼é”ä¸­é—´ä»¶ï¼ˆRedis/ZooKeeperï¼‰ï¼Œå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ï¼›</li>
<li>å­˜åœ¨é”ç«äº‰å¼€é”€ï¼Œå¯èƒ½å½±å“é«˜å¹¶å‘åœºæ™¯çš„ååé‡ï¼›</li>
<li>é”è¿‡æœŸæ—¶é—´éš¾è®¾ç½®ï¼šè¿‡çŸ­å¯èƒ½å¯¼è‡´ä¸šåŠ¡æœªæ‰§è¡Œå®Œé”å°±é‡Šæ”¾ï¼Œè¿‡è¿‡é•¿å¯èƒ½å¯¼è‡´æ­»é”åèµ„æºé•¿æ—¶é—´ä¸å¯ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-8">5. åŸºäºä¹è§‚é”çš„å¹‚ç­‰æ€§æ ¡éªŒ</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>é€šè¿‡ç‰ˆæœ¬å·ï¼ˆVersionï¼‰æˆ–æ—¶é—´æˆ³ï¼ˆTimestampï¼‰æ ‡è¯†æ•°æ®çš„å½“å‰çŠ¶æ€ï¼Œæ›´æ–°æ•°æ®æ—¶æºå¸¦ç‰ˆæœ¬å·ï¼Œä»…å½“â€œæºå¸¦çš„ç‰ˆæœ¬å·ä¸æ•°æ®åº“ä¸­çš„ç‰ˆæœ¬å·ä¸€è‡´â€æ—¶æ‰å…è®¸æ›´æ–°ï¼›é‡å¤æ“ä½œä¼šå› ç‰ˆæœ¬å·ä¸åŒ¹é…è€Œå¤±è´¥ï¼Œä»è€Œä¿è¯å¹‚ç­‰æ€§</strong>ã€‚æœ¬è´¨æ˜¯â€œå…ˆæ ¡éªŒåæ›´æ–°â€ï¼Œé¿å…å¹¶å‘æ›´æ–°å¯¼è‡´çš„æ•°æ®å¼‚å¸¸ã€‚</p>
<p>å®ç°ç¤ºä¾‹ï¼ˆç‰ˆæœ¬å·æœºåˆ¶ï¼‰ï¼š</p>
<ol>
<li>æ•°æ®åº“è¡¨å¢åŠ ç‰ˆæœ¬å·å­—æ®µï¼š `` CREATE TABLE <code>user_balance</code> (  <code>`id` bigint(20) NOT NULL AUTO_INCREMENT, </code> <code>user_id</code> bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',  <code>`balance` decimal(10,2) NOT NULL COMMENT 'ä½™é¢', </code> <code>version</code> int(11) NOT NULL DEFAULT 0 COMMENT 'ç‰ˆæœ¬å·', -- ä¹è§‚é”ç‰ˆæœ¬å·  <code>PRIMARY KEY (`id`), </code> UNIQUE KEY <code>uk_user_id</code> (<code>user_id</code>)  ```) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;`</li>
<li>ä»£ç é€»è¾‘ï¼ˆæ›´æ–°æ—¶æ ¡éªŒç‰ˆæœ¬å·ï¼‰ï¼š <code> public Result deductBalance(Long userId, BigDecimal amount) {  `` int retryCount = 3;  `` while (retryCount &gt; 0) {  `` // 1. æŸ¥è¯¢ç”¨æˆ·ä½™é¢å’Œç‰ˆæœ¬å·  `` UserBalance balance = balanceMapper.selectByUserId(userId);  `` if (balance.getBalance().compareTo(amount) &lt; 0) {  `` return Result.fail("ä½™é¢ä¸è¶³");  `` }  ```` // 2. æºå¸¦ç‰ˆæœ¬å·æ›´æ–°ï¼ˆä»…ç‰ˆæœ¬å·ä¸€è‡´æ—¶æ›´æ–°æˆåŠŸï¼‰  `` int updateRows = balanceMapper.deductBalanceWithVersion(  `` userId, amount, balance.getVersion()  `` );  ```` if (updateRows &gt; 0) {  `` // æ›´æ–°æˆåŠŸï¼Œè¯´æ˜ä¸æ˜¯é‡å¤æ“ä½œ  `` return Result.success("ä½™é¢æ‰£å‡æˆåŠŸ");  `` }  ```` // æ›´æ–°å¤±è´¥ï¼ˆç‰ˆæœ¬å·ä¸åŒ¹é…ï¼Œå¯èƒ½æ˜¯é‡å¤æ“ä½œæˆ–å¹¶å‘æ›´æ–°ï¼‰ï¼Œé‡è¯•  `` retryCount--;  `` try {  `` Thread.sleep(100);  `` } catch (InterruptedException e) {  `` Thread.currentThread().interrupt();  `` }  `` }  ```` // é‡è¯•å¤šæ¬¡å¤±è´¥ï¼Œè¿”å›é‡å¤æ“ä½œæç¤º  `` return Result.fail("æ“ä½œå·²æ‰§è¡Œï¼Œæ— éœ€é‡å¤æäº¤");  ``}</code></li>
</ol>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¹¶å‘æ›´æ–°åœºæ™¯ï¼ˆå¦‚ä½™é¢æ›´æ–°ã€åº“å­˜è°ƒæ•´ï¼‰ï¼›</li>
<li>æ•°æ®æ›´æ–°é¢‘ç‡é«˜ï¼Œä½†å†²çªæ¦‚ç‡è¾ƒä½çš„åœºæ™¯ï¼›</li>
<li>ä¸å¸Œæœ›å¼•å…¥åˆ†å¸ƒå¼é”ï¼Œè¿½æ±‚é«˜ååé‡çš„åœºæ™¯ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ— é”ç«äº‰ï¼Œååé‡é«˜ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼›</li>
<li>å®ç°ç®€å•ï¼Œä»…éœ€åœ¨è¡¨ä¸­å¢åŠ ç‰ˆæœ¬å·å­—æ®µï¼›</li>
<li>ä¸ä¾èµ–å¤–éƒ¨ä¸­é—´ä»¶ï¼Œç¨³å®šæ€§é«˜ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å†²çªæ¦‚ç‡é«˜æ—¶ï¼Œé‡è¯•æ¬¡æ•°å¢åŠ ï¼Œå¯èƒ½å½±å“æ€§èƒ½ï¼›</li>
<li>ä»…é€‚ç”¨äºâ€œæ›´æ–°æ“ä½œâ€ï¼Œä¸é€‚ç”¨äºâ€œåˆ›å»ºæ“ä½œâ€ï¼›</li>
<li>éœ€ä¸šåŠ¡ä»£ç å¤„ç†é‡è¯•é€»è¾‘ï¼Œå¢åŠ å°‘é‡å¼€å‘æˆæœ¬ã€‚</li>
</ul>
<h4 data-id="heading-9">6. åŸºäºâ€œå†™ç©ºæ“ä½œâ€çš„å¤©ç„¶å¹‚ç­‰æ€§</h4>
<p>æ ¸å¿ƒåŸç†ï¼š<strong>å¯¹äºéƒ¨åˆ†æ›´æ–°æ“ä½œï¼Œè®¾è®¡æˆâ€œå¹‚ç­‰æ€§è¯­å¥â€ï¼Œå³ä½¿é‡å¤æ‰§è¡Œï¼Œä¹Ÿä¸ä¼šæ”¹å˜æœ€ç»ˆç»“æœ</strong>ã€‚è¿™ç§æ–¹æ¡ˆæ— éœ€é¢å¤–çš„æ ¡éªŒé€»è¾‘ï¼Œé€šè¿‡SQLè¯­å¥æœ¬èº«çš„ç‰¹æ€§ä¿è¯å¹‚ç­‰æ€§ã€‚</p>
<p>å…¸å‹ç¤ºä¾‹ï¼š</p>
<ul>
<li>éå¹‚ç­‰SQLï¼š<code>UPDATE user_balance SET balance = balance - 10 WHERE user_id = 123;</code>ï¼ˆé‡å¤æ‰§è¡Œä¼šé‡å¤æ‰£å‡ï¼‰ï¼›</li>
<li>å¹‚ç­‰SQLï¼š<code>UPDATE user_balance SET balance = 90 WHERE user_id = 123 AND balance = 100;</code>ï¼ˆæ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œæœ€ç»ˆä½™é¢éƒ½æ˜¯90ï¼Œé‡å¤æ‰§è¡Œæ— å½±å“ï¼‰ï¼›</li>
<li>å¦ä¸€ç¤ºä¾‹ï¼š<code>INSERT IGNORE INTO user_point (user_id, point) VALUES (123, 50);</code>ï¼ˆé€šè¿‡INSERT IGNOREå¿½ç•¥é‡å¤æ’å…¥ï¼Œå®ç°å¹‚ç­‰æ€§ï¼‰ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ç®€å•çš„æ›´æ–°æ“ä½œï¼ˆå¦‚å›ºå®šå€¼æ›´æ–°ã€çŠ¶æ€é‡ç½®ï¼‰ï¼›</li>
<li>æ— éœ€å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œä»…éœ€ä¿è¯æ•°æ®æœ€ç»ˆä¸€è‡´çš„åœºæ™¯ï¼›</li>
<li>æ•°æ®åº“å±‚é¢å¯ç›´æ¥æ§åˆ¶ç»“æœçš„åœºæ™¯ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼šå®ç°æœ€ç®€å•ï¼Œæ— é¢å¤–å¼€å‘æˆæœ¬ï¼Œæ€§èƒ½æœ€ä¼˜ã€‚</p>
<p>ç¼ºç‚¹ï¼šé€šç”¨æ€§æå·®ï¼Œä»…é€‚ç”¨äºç‰¹å®šçš„æ›´æ–°åœºæ™¯ï¼Œæ— æ³•è¦†ç›–å¤§éƒ¨åˆ†ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<h3 data-id="heading-10">å››ã€ä¸åŒä¸šåŠ¡åœºæ™¯çš„å¹‚ç­‰æ€§æ–¹æ¡ˆé€‰å‹å»ºè®®</h3>
<p>å¹‚ç­‰æ€§æ–¹æ¡ˆæ²¡æœ‰â€œä¸‡èƒ½è§£â€ï¼Œéœ€ç»“åˆä¸šåŠ¡åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚ä¸‹é¢é’ˆå¯¹4ç§é«˜é¢‘åœºæ™¯ç»™å‡ºå…·ä½“é€‰å‹å»ºè®®ï¼š</p>
<h4 data-id="heading-11">åœºæ™¯1ï¼šç”¨æˆ·å‰ç«¯è¡¨å•æäº¤ï¼ˆå¦‚ä¸‹å•ã€æ³¨å†Œï¼‰</h4>
<p>æ ¸å¿ƒéœ€æ±‚ï¼šé˜²æ­¢ç”¨æˆ·å¿«é€Ÿç‚¹å‡»å¯¼è‡´çš„é‡å¤æäº¤ï¼Œæ— éœ€å‰ç«¯å¤æ‚é…åˆã€‚</p>
<p>é€‰å‹å»ºè®®ï¼šåŸºäºå”¯ä¸€æ ‡è¯†ï¼ˆIdempotency Keyï¼‰+ å‰ç«¯ç”ŸæˆUUIDã€‚å‰ç«¯ç‚¹å‡»åç¦ç”¨æŒ‰é’®ï¼ŒåŒæ—¶ç”ŸæˆUUIDä½œä¸ºå¹‚ç­‰æ€§æ ‡è¯†ï¼›æœåŠ¡ç«¯é€šè¿‡Redisæ ¡éªŒæ ‡è¯†ï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<h4 data-id="heading-12">åœºæ™¯2ï¼šç¬¬ä¸‰æ–¹æ¥å£å›è°ƒï¼ˆå¦‚æ”¯ä»˜å›è°ƒã€ç‰©æµå›è°ƒï¼‰</h4>
<p>æ ¸å¿ƒéœ€æ±‚ï¼šç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯èƒ½é‡å¤å›è°ƒï¼Œéœ€å‡†ç¡®è¯†åˆ«é‡å¤é€šçŸ¥ï¼Œé¿å…é‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>é€‰å‹å»ºè®®ï¼šåŸºäºä¸šåŠ¡å”¯ä¸€æ ‡è¯†ï¼ˆå¦‚æ”¯ä»˜æµæ°´å·ã€ç‰©æµå•å·ï¼‰ã€‚æœåŠ¡ç«¯é€šè¿‡æŸ¥è¯¢ä¸šåŠ¡çŠ¶æ€ï¼ˆå¦‚è®¢å•æ˜¯å¦å·²æ”¯ä»˜ï¼‰åˆ¤æ–­æ˜¯å¦å·²å¤„ç†ï¼Œå·²å¤„ç†åˆ™ç›´æ¥è¿”å›æˆåŠŸï¼Œæœªå¤„ç†åˆ™æ‰§è¡Œå›è°ƒé€»è¾‘ã€‚</p>
<h4 data-id="heading-13">åœºæ™¯3ï¼šæ¶ˆæ¯é˜Ÿåˆ—é‡å¤æ¶ˆè´¹ï¼ˆå¦‚è®¢å•æ¶ˆæ¯ã€ç§¯åˆ†æ¶ˆæ¯ï¼‰</h4>
<p>æ ¸å¿ƒéœ€æ±‚ï¼šMQé‡å¤æŠ•é€’æ¶ˆæ¯ï¼Œæ¶ˆè´¹ç«¯éœ€ä¿è¯é‡å¤æ¶ˆè´¹ä¸å½±å“æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>é€‰å‹å»ºè®®ï¼šåŸºäºä¸šåŠ¡å”¯ä¸€æ ‡è¯†ï¼ˆå¦‚æ¶ˆæ¯IDã€è®¢å•å·ï¼‰+ æ•°æ®åº“å”¯ä¸€çº¦æŸã€‚æ¶ˆè´¹ç«¯å°†æ¶ˆæ¯IDæˆ–ä¸šåŠ¡å”¯ä¸€æ ‡è¯†å­˜å…¥æ•°æ®åº“ï¼Œé€šè¿‡å”¯ä¸€çº¦æŸé¿å…é‡å¤æ¶ˆè´¹ï¼›æˆ–é€šè¿‡çŠ¶æ€æœºæ ¡éªŒä¸šåŠ¡çŠ¶æ€ã€‚</p>
<h4 data-id="heading-14">åœºæ™¯4ï¼šé«˜å¹¶å‘åº“å­˜æ‰£å‡ï¼ˆå¦‚ç§’æ€æ´»åŠ¨ï¼‰</h4>
<p>æ ¸å¿ƒéœ€æ±‚ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹é¿å…è¶…å–ï¼ŒåŒæ—¶ä¿è¯é‡å¤è¯·æ±‚ä¸é‡å¤æ‰£å‡åº“å­˜ã€‚</p>
<p>é€‰å‹å»ºè®®ï¼šä¹è§‚é”ï¼ˆç‰ˆæœ¬å·ï¼‰æˆ–åˆ†å¸ƒå¼é”ã€‚ä½å†²çªåœºæ™¯é€‰ä¹è§‚é”ï¼ˆé«˜ååé‡ï¼‰ï¼›é«˜å†²çªåœºæ™¯é€‰åˆ†å¸ƒå¼é”ï¼ˆRedisé”ï¼Œä¿è¯å¼ºä¸€è‡´æ€§ï¼‰ï¼›ä¹Ÿå¯ç»“åˆâ€œä¸šåŠ¡å”¯ä¸€æ ‡è¯†+æ•°æ®åº“å”¯ä¸€çº¦æŸâ€åŒé‡ä¿éšœã€‚</p>
<h3 data-id="heading-15">äº”ã€å¹‚ç­‰æ€§è½åœ°å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—</h3>
<p>å®ç°å¹‚ç­‰æ€§æ—¶ï¼Œå®¹æ˜“é™·å…¥ä¸€äº›è¯¯åŒºï¼Œå¯¼è‡´å¹‚ç­‰æ€§å¤±æ•ˆæˆ–æ€§èƒ½é—®é¢˜ã€‚ä¸‹é¢æ¢³ç†6ä¸ªæ ¸å¿ƒé¿å‘è¦ç‚¹ï¼š</p>
<h4 data-id="heading-16">1. é¿å…â€œè¿‡åº¦è®¾è®¡â€ï¼šä¸æ˜¯æ‰€æœ‰æ¥å£éƒ½éœ€è¦å¹‚ç­‰æ€§</h4>
<p>å¹‚ç­‰æ€§ä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦å’Œæ€§èƒ½å¼€é”€ï¼Œæ— éœ€å¯¹æ‰€æœ‰æ¥å£éƒ½å®ç°å¹‚ç­‰æ€§ã€‚ä»…éœ€å¯¹â€œæœ‰çŠ¶æ€å˜æ›´â€ä¸”â€œå¯èƒ½é‡å¤æ‰§è¡Œâ€çš„æ¥å£å®ç°ï¼ˆå¦‚åˆ›å»ºè®¢å•ã€æ‰£å‡ä½™é¢ã€æ”¯ä»˜å›è°ƒï¼‰ï¼›æŸ¥è¯¢æ¥å£å¤©ç„¶å¹‚ç­‰ï¼Œæ— éœ€å¤„ç†ã€‚</p>
<h4 data-id="heading-17">2. ä¿è¯å¹‚ç­‰æ€§æ ‡è¯†çš„â€œå…¨å±€å”¯ä¸€æ€§â€</h4>
<p>åŸºäºå”¯ä¸€æ ‡è¯†çš„æ–¹æ¡ˆï¼Œè‹¥æ ‡è¯†ä¸å”¯ä¸€ï¼ˆå¦‚å‰ç«¯ç”Ÿæˆçš„UUIDé‡å¤ã€é›ªèŠ±ç®—æ³•IDå†²çªï¼‰ï¼Œä¼šå¯¼è‡´å¹‚ç­‰æ€§å¤±æ•ˆã€‚å»ºè®®ä½¿ç”¨æˆç†Ÿçš„å”¯ä¸€IDç”Ÿæˆæ–¹æ¡ˆï¼ˆå¦‚é›ªèŠ±ç®—æ³•ã€UUID v4ï¼‰ï¼Œé«˜å¹¶å‘åœºæ™¯å¯å¢åŠ ä¸šåŠ¡å‰ç¼€ï¼ˆå¦‚ç”¨æˆ·ID+UUIDï¼‰ã€‚</p>
<h4 data-id="heading-18">3. å¤„ç†â€œå¹‚ç­‰æ€§æ ‡è¯†è¿‡æœŸâ€é—®é¢˜</h4>
<p>åŸºäºç¼“å­˜çš„å¹‚ç­‰æ€§æ–¹æ¡ˆï¼ˆå¦‚Redisï¼‰ï¼Œè‹¥æ ‡è¯†è¿‡æœŸæ—¶é—´è¿‡çŸ­ï¼Œå¯èƒ½å¯¼è‡´æ­£å¸¸çš„é‡è¯•è¯·æ±‚è¢«åˆ¤å®šä¸ºæ–°è¯·æ±‚ï¼Œé‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚å»ºè®®æ ¹æ®ä¸šåŠ¡æœ€å¤§é‡è¯•æ—¶é—´è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå¦‚24å°æ—¶ï¼‰ï¼Œæˆ–å¯¹æ ¸å¿ƒä¸šåŠ¡é‡‡ç”¨â€œç¼“å­˜+æ•°æ®åº“â€åŒé‡å­˜å‚¨æ ‡è¯†ã€‚</p>
<h4 data-id="heading-19">4. é¿å…â€œé•¿äº‹åŠ¡â€ä¸å¹‚ç­‰æ€§çš„å†²çª</h4>
<p>é•¿äº‹åŠ¡åœºæ™¯ä¸‹ï¼Œå¹‚ç­‰æ€§æ ‡è¯†å¯èƒ½æå‰è®°å½•ä¸ºâ€œå·²å¤„ç†â€ï¼Œä½†äº‹åŠ¡æœªæäº¤ï¼Œæ­¤æ—¶é‡å¤è¯·æ±‚ä¼šç›´æ¥è¿”å›æˆåŠŸï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚è§£å†³æ–¹æ¡ˆï¼šå°†â€œè®°å½•å¹‚ç­‰æ€§æ ‡è¯†â€çš„æ“ä½œä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œä¿è¯åŸå­æ€§ï¼›æˆ–é‡‡ç”¨â€œæœ€ç»ˆä¸€è‡´æ€§â€æ€è·¯ï¼Œé€šè¿‡å®šæ—¶ä»»åŠ¡æ ¡éªŒæ•°æ®ã€‚</p>
<h4 data-id="heading-20">5. é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½ä¼˜åŒ–</h4>
<p>é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¹‚ç­‰æ€§æ ¡éªŒå¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼ˆå¦‚Redisé”ç«äº‰ã€æ•°æ®åº“å”¯ä¸€çº¦æŸå†²çªï¼‰ã€‚ä¼˜åŒ–æ–¹æ¡ˆï¼šâ‘  ç»†åŒ–é”ç²’åº¦ï¼ˆå¦‚æŒ‰å•†å“IDåˆ†é”ï¼Œè€Œéå…¨å±€é”ï¼‰ï¼›â‘¡ ç¼“å­˜é¢„çƒ­å¹‚ç­‰æ€§æ ‡è¯†ï¼ˆå¦‚ç§’æ€å‰å°†å•†å“IDå­˜å…¥Redisï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢ï¼‰ï¼›â‘¢ å¼‚æ­¥å¤„ç†éæ ¸å¿ƒå¹‚ç­‰æ€§æ ¡éªŒé€»è¾‘ã€‚</p>
<h4 data-id="heading-21">6. å¹‚ç­‰æ€§ä¸åˆ†å¸ƒå¼äº‹åŠ¡çš„ååŒ</h4>
<p>åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯ä¸‹ï¼ˆå¦‚TCCã€SAGAï¼‰ï¼Œå¹‚ç­‰æ€§æ˜¯åŸºç¡€ä¿éšœã€‚éœ€ç¡®ä¿æ¯ä¸ªé˜¶æ®µçš„æ“ä½œï¼ˆå¦‚Tryã€Confirmã€Cancelï¼‰éƒ½å…·å¤‡å¹‚ç­‰æ€§ï¼Œé¿å…å› äº‹åŠ¡é‡è¯•å¯¼è‡´é‡å¤æ‰§è¡Œã€‚å»ºè®®ç»“åˆâ€œå¹‚ç­‰æ€§æ ‡è¯†+çŠ¶æ€æœºâ€ï¼Œç²¾å‡†æ§åˆ¶æ¯ä¸ªé˜¶æ®µçš„æ“ä½œæ˜¯å¦æ‰§è¡Œã€‚</p>
<h3 data-id="heading-22">å…­ã€æ€»ç»“ï¼šå¹‚ç­‰æ€§æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„â€œåŸºçŸ³â€è€Œéâ€œé“¶å¼¹â€</h3>
<p>å¹‚ç­‰æ€§çš„æ ¸å¿ƒä»·å€¼æ˜¯â€œè®©åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡å¤æ“ä½œä¸‹ä¿æŒæ•°æ®ä¸€è‡´â€ï¼Œå®ƒæ˜¯åº”å¯¹ç½‘ç»œä¸å¯é ã€æ¶ˆæ¯é‡å¤ã€ç”¨æˆ·è¯¯æ“ä½œçš„åŸºç¡€ä¿éšœã€‚ä½†å¹‚ç­‰æ€§ä¸æ˜¯â€œé“¶å¼¹â€ï¼Œæ— æ³•è§£å†³æ‰€æœ‰æ•°æ®ä¸€è‡´æ€§é—®é¢˜â€”â€”å®ƒéœ€è¦ä¸é‡è¯•ç­–ç•¥ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€ç†”æ–­é™æµç­‰æœºåˆ¶ååŒå·¥ä½œï¼Œæ‰èƒ½æ„å»ºç¨³å®šçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p>
<p>è½åœ°å¹‚ç­‰æ€§çš„æ ¸å¿ƒåŸåˆ™æ˜¯â€œç®€å•ä¼˜å…ˆã€æŒ‰éœ€è®¾è®¡â€ï¼šä¼˜å…ˆé€‰æ‹©åŸºäºä¸šåŠ¡å”¯ä¸€æ ‡è¯†ã€çŠ¶æ€æœºç­‰ç®€å•æ–¹æ¡ˆï¼›é«˜å¹¶å‘åœºæ™¯å†å¼•å…¥åˆ†å¸ƒå¼é”ã€ä¹è§‚é”ï¼›é¿å…è¿‡åº¦è®¾è®¡å¯¼è‡´ç³»ç»Ÿå¤æ‚ã€‚åŒæ—¶ï¼Œéœ€å……åˆ†è€ƒè™‘å¼‚å¸¸åœºæ™¯ï¼ˆå¦‚æ ‡è¯†è¿‡æœŸã€äº‹åŠ¡å›æ»šï¼‰ï¼Œç¡®ä¿å¹‚ç­‰æ€§åœ¨å„ç§æƒ…å†µä¸‹éƒ½èƒ½ç”Ÿæ•ˆã€‚</p>
<p>æœ€åï¼Œè®°ä½ï¼š<strong>å¹‚ç­‰æ€§çš„æœ¬è´¨æ˜¯â€œè®©ç³»ç»Ÿèƒ½å¤Ÿå®¹é”™é‡å¤æ“ä½œâ€</strong> ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œé‡å¤æ‰§è¡Œæ˜¯å¸¸æ€ï¼Œæ¥å—è¿™ä¸ªå¸¸æ€ï¼Œå¹¶é€šè¿‡åˆç†çš„å¹‚ç­‰æ€§è®¾è®¡åŒ…å®¹å®ƒï¼Œæ‰èƒ½è®©ç³»ç»Ÿæ›´ç¨³å®šã€æ›´å¯é ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSï¼šåŠ¨ç”»æ›²çº¿]]></title>    <link>https://juejin.cn/post/7589541466701283328</link>    <guid>https://juejin.cn/post/7589541466701283328</guid>    <pubDate>2025-12-31T01:26:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589541466701283328" data-draft-id="7589526591565135872" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSï¼šåŠ¨ç”»æ›²çº¿"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-31T01:26:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChinaDragon"/> <meta itemprop="url" content="https://juejin.cn/user/3966693681410840"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSï¼šåŠ¨ç”»æ›²çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693681410840/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChinaDragon
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:26:59.000Z" title="Wed Dec 31 2025 01:26:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€åŠ¨ç”»æ›²çº¿æ¦‚è¿°</h3>
<blockquote>
<p>åŠ¨ç”»æ›²çº¿æ˜¯å±æ€§å…³äºæ—¶é—´çš„å˜åŒ–å‡½æ•°ï¼Œå†³å®šå±æ€§å˜åŒ–æ—¶äº§ç”ŸåŠ¨ç”»çš„è¿åŠ¨è½¨è¿¹ã€‚æŸä¸€æ—¶åˆ»ä¸‹åŠ¨ç”»æ›²çº¿çš„æ–œç‡ä»£è¡¨åŠ¨ç”»çš„é€Ÿåº¦ï¼Œå¯¹åº”å±æ€§å˜åŒ–çš„å¿«æ…¢ã€‚ä¸€æ¡ä¼˜ç§€çš„åŠ¨ç”»æ›²çº¿å…·å¤‡è¿ç»­å…‰æ»‘ã€ç¬¦åˆç”¨æˆ·æ„å›¾ã€ç¬¦åˆç‰©ç†ä¸–ç•Œå®¢è§‚è§„å¾‹çš„ç‰¹ç‚¹ã€‚å¼€å‘è€…å¯ç»“åˆç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯å’Œæ„å›¾ï¼Œä¸ºåŠ¨æ•ˆé€‰å–åˆé€‚çš„åŠ¨ç”»æ›²çº¿ã€‚ <br/>
æ ¹æ®åŠ¨ç”»æ›²çº¿æ˜¯å¦ç¬¦åˆç‰©ç†ä¸–ç•Œå®¢è§‚è§„å¾‹ï¼Œå¯å°†å…¶åˆ†ä¸ºç‰©ç†æ›²çº¿ï¼ˆArkUIå½“å‰æä¾›äº†å¤šç§ç‰©ç†å¼¹ç°§æ›²çº¿ï¼‰å’Œä¼ ç»Ÿæ›²çº¿ä¸¤ç§ç±»å‹ã€‚ç›¸æ¯”äºä¼ ç»Ÿæ›²çº¿ï¼Œç‰©ç†æ›²çº¿äº§ç”Ÿçš„è¿åŠ¨è½¨è¿¹æ›´åŠ ç¬¦åˆç”¨æˆ·è®¤çŸ¥ï¼Œæœ‰åŠ©äºåˆ›é€ è‡ªç„¶ç”ŸåŠ¨çš„åŠ¨ç”»æ•ˆæœï¼Œå»ºè®®å¼€å‘è€…ä¼˜å…ˆä½¿ç”¨ç‰©ç†æ›²çº¿ã€‚</p>
</blockquote>
<h3 data-id="heading-1">äºŒã€ä¼ ç»Ÿæ›²çº¿ç®€ä»‹</h3>
<blockquote>
<p>ä¼ ç»Ÿæ›²çº¿åŸºäºæ•°å­¦å…¬å¼ï¼Œåˆ›é€ å½¢çŠ¶ç¬¦åˆå¼€å‘è€…é¢„æœŸçš„åŠ¨ç”»æ›²çº¿ã€‚ä»¥ä¸‰é˜¶è´å¡å°”æ›²çº¿ä¸ºä»£è¡¨ï¼Œé€šè¿‡è°ƒæ•´æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå¯ä»¥æ”¹å˜æ›²çº¿å½¢çŠ¶ï¼Œä»è€Œå¸¦æ¥ç¼“å…¥ã€ç¼“å‡ºç­‰åŠ¨ç”»æ•ˆæœã€‚å¯¹äºåŒä¸€æ¡ä¼ ç»Ÿæ›²çº¿ï¼Œç”±äºä¸å…·å¤‡ç‰©ç†å«ä¹‰ï¼Œå…¶å½¢çŠ¶ä¸ä¼šå› ä¸ºç”¨æˆ·è¡Œä¸ºå‘ç”Ÿä»»ä½•æ”¹å˜ï¼Œç¼ºå°‘ç‰©ç†åŠ¨ç”»çš„è‡ªç„¶æ„Ÿå’Œç”ŸåŠ¨æ„Ÿã€‚å»ºè®®ä¼˜å…ˆé‡‡ç”¨ç‰©ç†æ›²çº¿åˆ›å»ºåŠ¨ç”»ï¼Œå°†ä¼ ç»Ÿæ›²çº¿ä½œä¸ºè¾…åŠ©ç”¨äºæå°‘æ•°å¿…è¦åœºæ™¯ä¸­ã€‚ <br/>
ArkUIæä¾›äº†è´å¡å°”æ›²çº¿ã€é˜¶æ¢¯æ›²çº¿ç­‰ä¼ ç»Ÿæ›²çº¿æ¥å£ï¼Œå¼€å‘è€…å¯å‚ç…§æ’å€¼è®¡ç®—è¿›è¡ŒæŸ¥é˜…ã€‚ <br/>
ä¼ ç»Ÿæ›²çº¿çš„ç¤ºä¾‹å’Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22be58c5cfee40d1b3ceb86fada9b924~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749219&amp;x-signature=NcBJcDR1TiDLfjSrg2tUf%2BvLW38%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCurve</span> {</span>
  public title: <span class="hljs-built_in">string</span>;
  public curve: Curve;
  public color: Color | <span class="hljs-built_in">string</span>;

  constructor(title: <span class="hljs-built_in">string</span>, curve: Curve, color: Color | <span class="hljs-built_in">string</span> = <span class="hljs-string">'') {
    this.title = title;
    this.curve = curve;
    this.color = color;
  }
}

const myCurves: MyCurve[] = [
  new MyCurve('</span> Linear<span class="hljs-number">'</span>, Curve.Linear, <span class="hljs-string">'#317AF7'</span>),
  new MyCurve(<span class="hljs-string">' Ease'</span>, Curve.Ease, <span class="hljs-string">'#D94838'</span>),
  new MyCurve(<span class="hljs-string">' EaseIn'</span>, Curve.EaseIn, <span class="hljs-string">'#DB6B42'</span>),
  new MyCurve(<span class="hljs-string">' EaseOut'</span>, Curve.EaseOut, <span class="hljs-string">'#5BA854'</span>),
  new MyCurve(<span class="hljs-string">' EaseInOut'</span>, Curve.EaseInOut, <span class="hljs-string">'#317AF7'</span>),
  new MyCurve(<span class="hljs-string">' FastOutSlowIn'</span>, Curve.FastOutSlowIn, <span class="hljs-string">'#D94838'</span>)
]

@Entry
@Component
<span class="hljs-keyword">struct</span> CurveDemo {
  @State dRotate: number = <span class="hljs-number">0</span>; <span class="hljs-comment">// æ—‹è½¬è§’åº¦</span>

  build() {
    Column() {
      <span class="hljs-comment">// æ›²çº¿å›¾ä¾‹</span>
      Grid() {
        ForEach(myCurves, (item: MyCurve) =&gt; {
          GridItem() {
            Column() {
              Row()
                .width(<span class="hljs-number">30</span>)
                .height(<span class="hljs-number">30</span>)
                .borderRadius(<span class="hljs-number">15</span>)
                .backgroundColor(item.color)
              Text(item.title)
                .fontSize(<span class="hljs-number">15</span>)
                .fontColor(<span class="hljs-number">0x909399</span>)
            }
            .width(<span class="hljs-string">'100%'</span>)
          }
        })
      }
      .columnsTemplate(<span class="hljs-string">'1fr 1fr 1fr'</span>)
      .rowsTemplate(<span class="hljs-string">'1fr 1fr 1fr 1fr 1fr'</span>)
      .padding(<span class="hljs-number">10</span>)
      .width(<span class="hljs-string">'100%'</span>)
      .height(<span class="hljs-number">300</span>)
      .margin({ top: <span class="hljs-number">50</span> })

      Stack() {
        <span class="hljs-comment">// æ‘†åŠ¨ç®¡é“</span>
        Row()
          .width(<span class="hljs-number">290</span>)
          .height(<span class="hljs-number">290</span>)
          .border({
            width: <span class="hljs-number">15</span>,
            color: <span class="hljs-number">0xE6E8EB</span>,
            radius: <span class="hljs-number">145</span>
          })

        ForEach(myCurves, (item: MyCurve) =&gt; {
          <span class="hljs-comment">// å°çƒ</span>
          Column() {
            Row()
              .width(<span class="hljs-number">30</span>)
              .height(<span class="hljs-number">30</span>)
              .borderRadius(<span class="hljs-number">15</span>)
              .backgroundColor(item.color)
          }
          .width(<span class="hljs-number">20</span>)
          .height(<span class="hljs-number">300</span>)
          .rotate({ angle: this.dRotate })
          .animation({
            duration: <span class="hljs-number">2000</span>,
            iterations: <span class="hljs-number">-1</span>,
            curve: item.curve,
            delay: <span class="hljs-number">100</span>
          })
        })
      }
      .width(<span class="hljs-string">'100%'</span>)
      .height(<span class="hljs-number">200</span>)
      .onClick(() =&gt; {
        this.dRotate ? null : this.dRotate = <span class="hljs-number">360</span>;
      })
    }
    .width(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<h3 data-id="heading-2">ä¸‰ã€å¼¹ç°§æ›²çº¿ç®€ä»‹</h3>
<blockquote>
<p>é˜»å°¼å¼¹ç°§æ›²çº¿ï¼ˆä»¥ä¸‹ç®€ç§°å¼¹ç°§æ›²çº¿ï¼‰å¯¹åº”çš„é˜»å°¼å¼¹ç°§ç³»ç»Ÿä¸­ï¼Œåç¦»å¹³è¡¡ä½ç½®çš„ç‰©ä½“ä¸€æ–¹é¢å—åˆ°å¼¹ç°§å½¢å˜äº§ç”Ÿçš„åå‘ä½œç”¨åŠ›ï¼Œè¢«è¿«å‘ç”ŸæŒ¯åŠ¨ã€‚å¦ä¸€æ–¹é¢ï¼Œé˜»å°¼çš„å­˜åœ¨ä¸ºç‰©ä½“æŒ¯åŠ¨æä¾›é˜»åŠ›ã€‚é™¤é˜»å°¼ä¸º0çš„ç‰¹æ®Šæƒ…å†µï¼Œç‰©ä½“åœ¨æŒ¯åŠ¨è¿‡ç¨‹ä¸­æŒ¯å¹…ä¸æ–­å‡å°ï¼Œä¸”æœ€ç»ˆè¶‹äº0ï¼Œå…¶è½¨è¿¹å¯¹åº”çš„åŠ¨ç”»æ›²çº¿è‡ªç„¶è¿ç»­ã€‚ <br/>
é‡‡ç”¨å¼¹ç°§æ›²çº¿çš„åŠ¨ç”»åœ¨è¾¾ç»ˆç‚¹æ—¶åŠ¨ç”»é€Ÿåº¦ä¸º0ï¼Œä¸ä¼šäº§ç”ŸåŠ¨ç”»â€œæˆ›ç„¶è€Œæ­¢â€çš„è§‚æ„Ÿï¼Œä»¥é¿å…å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
</blockquote>
<blockquote>
<p>ArkUIæä¾›äº†å››ç§é˜»å°¼å¼¹ç°§æ›²çº¿æ¥å£ã€‚</p>
</blockquote>
<blockquote>
<ul>
<li><strong>curves.springMotion</strong>ï¼šåˆ›å»ºå¼¹æ€§åŠ¨ç”»ï¼ŒåŠ¨ç”»æ—¶é•¿ç”±æ›²çº¿å‚æ•°ã€å±æ€§å˜åŒ–å€¼å¤§å°å’Œå¼¹ç°§åˆé€Ÿåº¦è‡ªåŠ¨è®¡ç®—ï¼Œå¼€å‘è€…æŒ‡å®šçš„åŠ¨ç”»æ—¶é•¿ä¸ç”Ÿæ•ˆã€‚ <br/></li>
</ul>
</blockquote>
<p>springMotionä¸æä¾›é€Ÿåº¦è®¾ç½®æ¥å£ï¼Œé€Ÿåº¦é€šè¿‡ç»§æ‰¿è·å¾—ï¼Œæ— éœ€å¼€å‘è€…æŒ‡å®šã€‚å¯¹äºæŸä¸ªå±æ€§ï¼Œå¦‚æœå½“å‰å­˜åœ¨æ­£åœ¨è¿è¡Œçš„springMotionæˆ–è€…responsiveSpringMotionç±»å‹åŠ¨ç”»ï¼Œæ–°åˆ›å»ºçš„å¼¹ç°§åŠ¨ç”»å°†åœæ­¢æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ï¼Œå¹¶ç»§æ‰¿å…¶å½“å‰æ—¶åˆ»çš„åŠ¨ç”»å±æ€§å€¼å’Œé€Ÿåº¦ä½œä¸ºæ–°å»ºåŠ¨ç”»çš„åˆå§‹çŠ¶æ€ã€‚æ­¤å¤–ï¼Œæ¥å£æä¾›é»˜è®¤å‚æ•°ï¼Œä¾¿äºå¼€å‘è€…ç›´æ¥ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-c" lang="c">function <span class="hljs-title function_">springMotion</span><span class="hljs-params">(response?: number, dampingFraction?: number, overlapDuration?: number)</span>: ICurve;
</code></pre>
<blockquote>
<ul>
<li><strong>curves.responsiveSpringMotion</strong>ï¼šæ˜¯springMotionåŠ¨ç”»çš„ä¸€ç§ç‰¹ä¾‹ï¼Œä»…é»˜è®¤å‚æ•°ä¸åŒã€‚ä¸€èˆ¬ç”¨äºè·Ÿæ‰‹åšæˆåŠ¨ç”»çš„åœºæ™¯ï¼Œç¦»æ‰‹æ—¶å¯ç”¨springMotionåˆ›å»ºåŠ¨ç”»ï¼Œæ­¤æ—¶ç¦»æ‰‹é˜¶æ®µåŠ¨ç”»å°†è‡ªåŠ¨ç»§æ‰¿è·Ÿæ‰‹é˜¶æ®µåŠ¨ç”»é€Ÿåº¦ï¼Œå®ŒæˆåŠ¨ç”»è¡”æ¥ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p>å½“æ–°åŠ¨ç”»çš„overlapDurationå‚æ•°ä¸ä¸º0ï¼Œä¸”å½“å‰å±æ€§çš„ä¸Šä¸€ä¸ªspringMotionåŠ¨ç”»è¿˜æœªç»“æŸæ—¶ï¼Œresponseå’ŒdampingFractionå°†åœ¨overlapDurationæŒ‡å®šçš„æ—¶é—´å†…ï¼Œä»æ—§åŠ¨ç”»çš„å‚æ•°å€¼è¿‡æ¸¡åˆ°æ–°åŠ¨ç”»çš„å‚æ•°å€¼ã€‚</p>
</blockquote>
<pre><code class="hljs language-c" lang="c">function <span class="hljs-title function_">responsiveSpringMotion</span><span class="hljs-params">(response?: number, dampingFraction?: number, overlapDuration?: number)</span>: ICurve;
</code></pre>
<blockquote>
<ul>
<li><strong>curves.interpolatingSpring</strong>ï¼šé€‚åˆäºéœ€è¦æŒ‡å®šåˆé€Ÿåº¦çš„åŠ¨æ•ˆåœºæ™¯ï¼ŒåŠ¨ç”»æ—¶é•¿åŒæ ·ç”±æ¥å£å‚æ•°è‡ªåŠ¨è®¡ç®—ï¼Œå¼€å‘è€…åœ¨åŠ¨ç”»æ¥å£ä¸­æŒ‡å®šçš„æ—¶é•¿ä¸ç”Ÿæ•ˆã€‚</li>
</ul>
</blockquote>
<blockquote>
<p>æ›²çº¿æ¥å£æä¾›é€Ÿåº¦å…¥å‚ï¼Œä¸”ç”±äºæ¥å£å¯¹åº”ä¸€æ¡ä»0åˆ°1çš„é˜»å°¼å¼¹ç°§æ›²çº¿ï¼Œå®é™…åŠ¨ç”»å€¼æ ¹æ®æ›²çº¿è¿›è¡Œæ’å€¼è®¡ç®—ã€‚æ‰€ä»¥é€Ÿåº¦ä¹Ÿåº”è¯¥ä¸ºå½’ä¸€åŒ–é€Ÿåº¦ï¼Œå…¶å€¼ç­‰äºåŠ¨ç”»å±æ€§æ”¹å˜çš„ç»å¯¹é€Ÿåº¦é™¤ä»¥åŠ¨ç”»å±æ€§æ”¹å˜é‡ã€‚å› æ­¤ä¸é€‚åˆäºåŠ¨ç”»èµ·ç‚¹å±æ€§å€¼å’Œç»ˆç‚¹å±æ€§å€¼ç›¸åŒçš„åœºæ™¯ï¼Œæ­¤æ—¶åŠ¨ç”»å±æ€§æ”¹å˜é‡ä¸º0ï¼Œå½’ä¸€åŒ–é€Ÿåº¦ä¸å­˜åœ¨ã€‚</p>
</blockquote>
<pre><code class="hljs language-c" lang="c">function <span class="hljs-title function_">interpolatingSpring</span><span class="hljs-params">(velocity: number, mass: number, stiffness: number, damping: number)</span>: ICurve;
</code></pre>
<blockquote>
<ul>
<li>curves.springCurveï¼šé€‚åˆäºéœ€è¦ç›´æ¥æŒ‡å®šåŠ¨ç”»æ—¶é•¿çš„åœºæ™¯ã€‚springCurveæ¥å£ä¸interpolatingSpringæ¥å£å‡ ä¹ä¸€è‡´ï¼Œä½†æ˜¯å¯¹äºé‡‡ç”¨springCurveçš„åŠ¨ç”»ï¼Œä¼šå°†æ›²çº¿çš„ç‰©ç†æ—¶é•¿æ˜ å°„åˆ°æŒ‡å®šçš„æ—¶é•¿ï¼Œç›¸å½“äºåœ¨æ—¶é—´è½´ä¸Šæ‹‰ä¼¸æˆ–å‹ç¼©æ›²çº¿ï¼Œç ´åæ›²çº¿åŸæœ¬çš„ç‰©ç†è§„å¾‹ï¼Œå› æ­¤ä¸å»ºè®®å¼€å‘è€…ä½¿ç”¨ã€‚</li>
</ul>
</blockquote>
<pre><code class="hljs language-c" lang="c">function <span class="hljs-title function_">springCurve</span><span class="hljs-params">(velocity: number, mass: number, stiffness: number, damping: number)</span>: ICurve;
</code></pre>
<blockquote>
<p>å…³äºå¼¹ç°§æ›²çº¿å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹å’Œå‚è€ƒæ•ˆæœå¦‚ä¸‹ï¼Œå¼€å‘è€…ä¹Ÿå¯å‚è€ƒåŠ¨ç”»è¡”æ¥ï¼ŒæŒæ¡ä½¿ç”¨responsiveSpringMotionå’ŒspringMotionè¿›è¡Œæ‰‹åŠ¿å’ŒåŠ¨ç”»ä¹‹é—´çš„è¡”æ¥ã€‚ <br/>
å¼¹ç°§æ›²çº¿çš„ç¤ºä¾‹ä»£ç å’Œæ•ˆæœå¦‚ä¸‹ã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95dde2a77232492bab3f169a692791e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749219&amp;x-signature=GhhZc1rYgH5gAb5hDCzzpQVxrn0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-c" lang="c">import { curves } from <span class="hljs-string">'@kit.ArkUI'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Spring</span> {</span>
  public title: <span class="hljs-built_in">string</span>;
  public subTitle: <span class="hljs-built_in">string</span>;
  public iCurve: ICurve;

  constructor(title: <span class="hljs-built_in">string</span>, subTitle: <span class="hljs-built_in">string</span>, iCurve: ICurve) {
    this.title = title;
    this.iCurve = iCurve;
    this.subTitle = subTitle;
  }
}

<span class="hljs-comment">// å¼¹ç°§ç»„ä»¶</span>
@Component
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Motion</span> {</span>
  @Prop dRotate: number = <span class="hljs-number">0</span>
  private title: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>
  private subTitle: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>
  private iCurve: ICurve | undefined = undefined

  build() {
    Column() {
      Circle()
        .translate({ y: this.dRotate })
        .animation({ curve: this.iCurve, iterations: <span class="hljs-number">-1</span> })
        .foregroundColor(<span class="hljs-string">'#317AF7'</span>)
        .width(<span class="hljs-number">30</span>)
        .height(<span class="hljs-number">30</span>)

      Column() {
        Text(this.title)
          .fontColor(Color.Black)
          .fontSize(<span class="hljs-number">10</span>).height(<span class="hljs-number">30</span>)
        Text(this.subTitle)
          .fontColor(<span class="hljs-number">0xcccccc</span>)
          .fontSize(<span class="hljs-number">10</span>).width(<span class="hljs-number">50</span>)
      }
      .borderWidth({ top: <span class="hljs-number">1</span> })
      .borderColor(<span class="hljs-number">0xf5f5f5</span>)
      .width(<span class="hljs-number">80</span>)
      .alignItems(HorizontalAlign.Center)
      .height(<span class="hljs-number">100</span>)

    }
    .height(<span class="hljs-number">110</span>)
    .margin({ bottom: <span class="hljs-number">5</span> })
    .alignItems(HorizontalAlign.Center)
  }
}

@Entry
@Component
export <span class="hljs-keyword">struct</span> SpringCurve {
  @State dRotate: number = <span class="hljs-number">0</span>;
  private springs: Spring[] = [
    new Spring(<span class="hljs-string">'springMotion'</span>, <span class="hljs-string">'å‘¨æœŸ1, é˜»å°¼0.25'</span>, curves.springMotion(<span class="hljs-number">1</span>, <span class="hljs-number">0.25</span>)),
    new Spring(<span class="hljs-string">'responsive'</span> + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'SpringMotion'</span>, <span class="hljs-string">'å¼¹æ€§è·Ÿæ‰‹æ›²çº¿'</span>, curves.responsiveSpringMotion(<span class="hljs-number">1</span>, <span class="hljs-number">0.25</span>)),
    new Spring(<span class="hljs-string">'interpolating'</span> + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'Spring'</span>, <span class="hljs-string">'åˆå§‹é€Ÿåº¦10ï¼Œè´¨é‡1ï¼Œ åˆšåº¦228ï¼Œ é˜»å°¼30'</span>,
      curves.interpolatingSpring(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">228</span>, <span class="hljs-number">30</span>)),
    new Spring(<span class="hljs-string">'springCurve'</span>, <span class="hljs-string">'åˆå§‹é€Ÿåº¦10ï¼Œ è´¨é‡1ï¼Œ åˆšåº¦228ï¼Œ é˜»å°¼30'</span>, curves.springCurve(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">228</span>, <span class="hljs-number">30</span>))
  ];

  build() {
    Row() {
      ForEach(this.springs, (item: Spring) =&gt; {
        Motion({
          title: item.title,
          subTitle: item.subTitle,
          iCurve: item.iCurve,
          dRotate: this.dRotate
        })
      })
    }
    .justifyContent(FlexAlign.Center)
    .alignItems(VerticalAlign.Bottom)
    .width(<span class="hljs-string">'100%'</span>)
    .height(<span class="hljs-number">437</span>)
    .margin({ top: <span class="hljs-number">20</span> })
    .onClick(() =&gt; {
      this.dRotate = <span class="hljs-number">-50</span>;
    })
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSï¼šç»„ä»¶åŠ¨ç”»]]></title>    <link>https://juejin.cn/post/7589553045157068840</link>    <guid>https://juejin.cn/post/7589553045157068840</guid>    <pubDate>2025-12-31T01:30:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589553045157068840" data-draft-id="7589553045157052456" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSï¼šç»„ä»¶åŠ¨ç”»"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-31T01:30:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChinaDragon"/> <meta itemprop="url" content="https://juejin.cn/user/3966693681410840"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSï¼šç»„ä»¶åŠ¨ç”»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693681410840/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChinaDragon
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:30:21.000Z" title="Wed Dec 31 2025 01:30:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ç®€ä»‹</h3>
<blockquote>
<p>ArkUIä¸ºç»„ä»¶æä¾›äº†é€šç”¨çš„å±æ€§åŠ¨ç”»å’Œè½¬åœºåŠ¨ç”»èƒ½åŠ›çš„åŒæ—¶ï¼Œè¿˜ä¸ºä¸€äº›ç»„ä»¶æä¾›äº†é»˜è®¤çš„åŠ¨ç”»æ•ˆæœã€‚ä¾‹å¦‚ï¼ŒListçš„æ»‘åŠ¨åŠ¨æ•ˆã€Buttonçš„ç‚¹å‡»åŠ¨æ•ˆï¼Œæ˜¯ç»„ä»¶è‡ªå¸¦çš„é»˜è®¤åŠ¨ç”»æ•ˆæœã€‚åœ¨ç»„ä»¶é»˜è®¤åŠ¨ç”»æ•ˆæœçš„åŸºç¡€ä¸Šï¼Œå¼€å‘è€…è¿˜å¯ä»¥é€šè¿‡å±æ€§åŠ¨ç”»å’Œè½¬åœºåŠ¨ç”»å¯¹å®¹å™¨ç»„ä»¶å†…çš„å­ç»„ä»¶åŠ¨æ•ˆè¿›è¡Œå®šåˆ¶ã€‚</p>
</blockquote>
<h3 data-id="heading-1">äºŒã€ä½¿ç”¨ç»„ä»¶é»˜è®¤åŠ¨ç”»</h3>
<blockquote>
<p>ç»„ä»¶é»˜è®¤åŠ¨æ•ˆå…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æç¤ºç”¨æˆ·å½“å‰çŠ¶æ€ï¼Œä¾‹å¦‚ç”¨æˆ·ç‚¹å‡»Buttonç»„ä»¶æ—¶ï¼ŒButtonç»„ä»¶é»˜è®¤å˜ç°ï¼Œç”¨æˆ·å³ç¡®å®šå®Œæˆé€‰ä¸­æ“ä½œã€‚</li>
<li>æå‡ç•Œé¢ç²¾è‡´ç¨‹åº¦å’Œç”ŸåŠ¨æ€§ã€‚</li>
<li>å‡å°‘å¼€å‘è€…å·¥ä½œé‡ï¼Œä¾‹å¦‚åˆ—è¡¨æ»‘åŠ¨ç»„ä»¶è‡ªå¸¦æ»‘åŠ¨åŠ¨æ•ˆï¼Œå¼€å‘è€…ç›´æ¥è°ƒç”¨å³å¯ã€‚</li>
</ul>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç å’Œæ•ˆæœå¦‚ä¸‹ã€‚</strong></p>
<blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fff9ce327c24563b1f9fed55a27ec84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749421&amp;x-signature=TwH7XTN7BkjlMiL4dCLXlj70OeI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/> <br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/379a9071a5134e309117c4999c31bca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749421&amp;x-signature=ebCUz8WP2aqWpFZyKx1O1LQqxhU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<pre><code class="hljs language-c" lang="c">@Entry
@Component
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ComponentDemo</span> {</span>
  build() {
    Row() {
      Checkbox({ name: <span class="hljs-string">'checkbox1'</span>, group: <span class="hljs-string">'checkboxGroup'</span> })
        .select(<span class="hljs-literal">true</span>)
        .shape(CheckBoxShape.CIRCLE)
        .size({ width: <span class="hljs-number">50</span>, height: <span class="hljs-number">50</span> })
    }
    .width(<span class="hljs-string">'100%'</span>)
    .height(<span class="hljs-string">'100%'</span>)
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<h3 data-id="heading-2">ä¸‰ã€æ‰“é€ ç»„ä»¶å®šåˆ¶åŒ–åŠ¨æ•ˆ</h3>
<blockquote>
<p>éƒ¨åˆ†ç»„ä»¶æ”¯æŒé€šè¿‡å±æ€§åŠ¨ç”»å’Œè½¬åœºåŠ¨ç”»è‡ªå®šä¹‰ç»„ä»¶å­Itemçš„åŠ¨æ•ˆï¼Œå®ç°å®šåˆ¶åŒ–åŠ¨ç”»æ•ˆæœã€‚ä¾‹å¦‚ï¼ŒScrollç»„ä»¶ä¸­å¯å¯¹å„ä¸ªå­ç»„ä»¶åœ¨æ»‘åŠ¨æ—¶çš„åŠ¨ç”»æ•ˆæœè¿›è¡Œå®šåˆ¶ã€‚</p>
<ul>
<li>åœ¨æ»‘åŠ¨æˆ–è€…ç‚¹å‡»æ“ä½œæ—¶é€šè¿‡æ”¹å˜å„ä¸ªScrollå­ç»„ä»¶çš„ä»¿å°„å±æ€§æ¥å®ç°å„ç§æ•ˆæœã€‚</li>
<li>å¦‚æœè¦åœ¨æ»‘åŠ¨è¿‡ç¨‹ä¸­å®šåˆ¶åŠ¨æ•ˆï¼Œå¯åœ¨æ»‘åŠ¨å›è°ƒonScrollä¸­ç›‘æ§æ»‘åŠ¨è·ç¦»ï¼Œå¹¶è®¡ç®—æ¯ä¸ªç»„ä»¶çš„ä»¿å°„å±æ€§ã€‚ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰æ‰‹åŠ¿ï¼Œé€šè¿‡æ‰‹åŠ¿ç›‘æ§ä½ç½®ï¼Œæ‰‹åŠ¨è°ƒç”¨ScrollToæ”¹å˜æ»‘åŠ¨ä½ç½®ã€‚</li>
<li>åœ¨æ»‘åŠ¨å›è°ƒonScrollStopæˆ–æ‰‹åŠ¿ç»“æŸå›è°ƒä¸­å¯¹æ»‘åŠ¨çš„æœ€ç»ˆä½ç½®è¿›è¡Œå¾®è°ƒã€‚</li>
</ul>
</blockquote>
<p><strong>å®šåˆ¶Scrollç»„ä»¶æ»‘åŠ¨åŠ¨æ•ˆç¤ºä¾‹ä»£ç å’Œæ•ˆæœå¦‚ä¸‹ã€‚</strong></p>
<blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44d1ffc0d34e494d87fea72e9e098174~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749421&amp;x-signature=qoETqBxCswHxqb8zv7%2BJrd6S%2Buc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-c" lang="c">import { curves, window, display, mediaquery, UIContext } from <span class="hljs-string">'@kit.ArkUI'</span>;
import { UIAbility } from <span class="hljs-string">'@kit.AbilityKit'</span>;

export <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalContext</span> <span class="hljs-title">extends</span> <span class="hljs-title">AppStorage</span> {</span>
  <span class="hljs-type">static</span> mainWin: window.Window | undefined = undefined;
  <span class="hljs-type">static</span> mainWindowSize: window.Size | undefined = undefined;
}
<span class="hljs-comment">/**
 * çª—å£ã€å±å¹•ç›¸å…³ä¿¡æ¯ç®¡ç†ç±»
 */</span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WindowManager</span> {</span>
  private <span class="hljs-type">static</span> instance: WindowManager | null = null;
  private displayInfo: display.Display | null = null;
  private uiContext: UIContext;
  private orientationListener: mediaquery.MediaQueryListener;

  constructor(uiContext: UIContext) {
    this.uiContext = uiContext
    this.orientationListener = this.uiContext.getMediaQuery().matchMediaSync(<span class="hljs-string">'(orientation: landscape)'</span>);
    this.orientationListener.on(<span class="hljs-string">'change'</span>, (mediaQueryResult: mediaquery.MediaQueryResult) =&gt; {
      this.onPortrait(mediaQueryResult)
    })
    this.loadDisplayInfo()
  }

  <span class="hljs-comment">/**
   * è®¾ç½®ä¸»windowçª—å£
   * @param win å½“å‰appçª—å£
   */</span>
  setMainWin(win: window.Window) {
    <span class="hljs-keyword">if</span> (win == null) {
      <span class="hljs-keyword">return</span>
    }
    GlobalContext.mainWin = win;
    win.on(<span class="hljs-string">"windowSizeChange"</span>, (data: window.Size) =&gt; {
      <span class="hljs-keyword">if</span> (GlobalContext.mainWindowSize == undefined || GlobalContext.mainWindowSize == null) {
        GlobalContext.mainWindowSize = data;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (GlobalContext.mainWindowSize.width == data.width &amp;&amp; GlobalContext.mainWindowSize.height == data.height) {
          <span class="hljs-keyword">return</span>
        }
        GlobalContext.mainWindowSize = data;
      }

      let winWidth = this.getMainWindowWidth();
      AppStorage.setOrCreate&lt;number&gt;(<span class="hljs-string">'mainWinWidth'</span>, winWidth)
      let winHeight = this.getMainWindowHeight();
      AppStorage.setOrCreate&lt;number&gt;(<span class="hljs-string">'mainWinHeight'</span>, winHeight)
      let context: UIAbility = new UIAbility()
      context.context.eventHub.emit(<span class="hljs-string">"windowSizeChange"</span>, winWidth, winHeight)
    })
  }

  <span class="hljs-type">static</span> <span class="hljs-title function_">getInstance</span><span class="hljs-params">(uiContext: UIContext)</span>: WindowManager {
    <span class="hljs-keyword">if</span> (WindowManager.instance == null) {
      WindowManager.instance = new WindowManager(uiContext);
    }
    <span class="hljs-keyword">return</span> WindowManager.instance
  }

  private onPortrait(mediaQueryResult: mediaquery.MediaQueryResult) {
    <span class="hljs-keyword">if</span> (mediaQueryResult.matches == AppStorage.get&lt;boolean&gt;(<span class="hljs-string">'isLandscape'</span>)) {
      <span class="hljs-keyword">return</span>
    }
    AppStorage.setOrCreate&lt;boolean&gt;(<span class="hljs-string">'isLandscape'</span>, mediaQueryResult.matches)
    this.loadDisplayInfo()
  }

  <span class="hljs-comment">/**
   * åˆ‡æ¢å±å¹•æ–¹å‘
   * @param ori å¸¸é‡æšä¸¾å€¼ï¼šwindow.Orientation
   */</span>
  changeOrientation(ori: window.Orientation) {
    <span class="hljs-keyword">if</span> (GlobalContext.mainWin != null) {
      GlobalContext.mainWin.setPreferredOrientation(ori)
    }
  }

  private loadDisplayInfo() {
    this.displayInfo = display.getDefaultDisplaySync()
    AppStorage.setOrCreate&lt;number&gt;(<span class="hljs-string">'displayWidth'</span>, this.getDisplayWidth())
    AppStorage.setOrCreate&lt;number&gt;(<span class="hljs-string">'displayHeight'</span>, this.getDisplayHeight())
  }

  <span class="hljs-comment">/**
   * è·å–mainçª—å£å®½åº¦ï¼Œå•ä½vp
   */</span>
  getMainWindowWidth(): number {
    <span class="hljs-keyword">return</span> GlobalContext.mainWindowSize != null ? this.uiContext.px2vp(GlobalContext.mainWindowSize.width) : <span class="hljs-number">0</span>
  }

  <span class="hljs-comment">/**
   * è·å–mainçª—å£é«˜åº¦ï¼Œå•ä½vp
   */</span>
  getMainWindowHeight(): number {
    <span class="hljs-keyword">return</span> GlobalContext.mainWindowSize != null ? this.uiContext.px2vp(GlobalContext.mainWindowSize.height) : <span class="hljs-number">0</span>
  }

  <span class="hljs-comment">/**
   * è·å–å±å¹•å®½åº¦ï¼Œå•ä½vp
   */</span>
  getDisplayWidth(): number {
    <span class="hljs-keyword">return</span> this.displayInfo != null ? this.uiContext.px2vp(this.displayInfo.width) : <span class="hljs-number">0</span>
  }

  <span class="hljs-comment">/**
   * è·å–å±å¹•é«˜åº¦ï¼Œå•ä½vp
   */</span>
  getDisplayHeight(): number {
    <span class="hljs-keyword">return</span> this.displayInfo != null ? this.uiContext.px2vp(this.displayInfo.height) : <span class="hljs-number">0</span>
  }

  <span class="hljs-comment">/**
   * é‡Šæ”¾èµ„æº
   */</span>
  release() {
    <span class="hljs-keyword">if</span> (this.orientationListener) {
      this.orientationListener.off(<span class="hljs-string">'change'</span>, (mediaQueryResult: mediaquery.MediaQueryResult) =&gt; {
        this.onPortrait(mediaQueryResult)
      })
    }
    <span class="hljs-keyword">if</span> (GlobalContext.mainWin != null) {
      GlobalContext.mainWin.off(<span class="hljs-string">'windowSizeChange'</span>)
    }
    WindowManager.instance = null;
  }
}

<span class="hljs-comment">/**
 * å°è£…ä»»åŠ¡å¡ç‰‡ä¿¡æ¯æ•°æ®ç±»
 */</span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskData</span> {</span>
  bgColor: Color | <span class="hljs-built_in">string</span> | Resource = Color.White;
  index: number = <span class="hljs-number">0</span>;
  taskInfo: <span class="hljs-built_in">string</span> = <span class="hljs-string">'music'</span>;

  constructor(bgColor: Color | <span class="hljs-built_in">string</span> | Resource, index: number, taskInfo: <span class="hljs-built_in">string</span>) {
    this.bgColor = bgColor;
    this.index = index;
    this.taskInfo = taskInfo;
  }
}

export <span class="hljs-type">const</span> taskDataArr: Array&lt;TaskData&gt; =
  [
    new TaskData(<span class="hljs-string">'#317AF7'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'music'</span>),
    new TaskData(<span class="hljs-string">'#D94838'</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'mall'</span>),
    new TaskData(<span class="hljs-string">'#DB6B42'</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'photos'</span>),
    new TaskData(<span class="hljs-string">'#5BA854'</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'setting'</span>),
    new TaskData(<span class="hljs-string">'#317AF7'</span>, <span class="hljs-number">4</span>, <span class="hljs-string">'call'</span>),
    new TaskData(<span class="hljs-string">'#D94838'</span>, <span class="hljs-number">5</span>, <span class="hljs-string">'music'</span>),
    new TaskData(<span class="hljs-string">'#DB6B42'</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'mall'</span>),
    new TaskData(<span class="hljs-string">'#5BA854'</span>, <span class="hljs-number">7</span>, <span class="hljs-string">'photos'</span>),
    new TaskData(<span class="hljs-string">'#D94838'</span>, <span class="hljs-number">8</span>, <span class="hljs-string">'setting'</span>),
    new TaskData(<span class="hljs-string">'#DB6B42'</span>, <span class="hljs-number">9</span>, <span class="hljs-string">'call'</span>),
    new TaskData(<span class="hljs-string">'#5BA854'</span>, <span class="hljs-number">10</span>, <span class="hljs-string">'music'</span>)

  ];

@Entry
@Component
export <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TaskSwitchMainPage</span> {</span>
  displayWidth: number = WindowManager.getInstance(this.getUIContext()).getDisplayWidth();
  scroller: Scroller = new Scroller();
  cardSpace: number = <span class="hljs-number">0</span>; <span class="hljs-comment">// å¡ç‰‡é—´è·</span>
  cardWidth: number = this.displayWidth / <span class="hljs-number">2</span> - this.cardSpace / <span class="hljs-number">2</span>; <span class="hljs-comment">// å¡ç‰‡å®½åº¦</span>
  cardHeight: number = <span class="hljs-number">400</span>; <span class="hljs-comment">// å¡ç‰‡é«˜åº¦</span>
  cardPosition: Array&lt;number&gt; = []; <span class="hljs-comment">// å¡ç‰‡åˆå§‹ä½ç½®</span>
  clickIndex: boolean = <span class="hljs-literal">false</span>;
  @State taskViewOffsetX: number = <span class="hljs-number">0</span>;
  @State cardOffset: number = this.displayWidth / <span class="hljs-number">4</span>;
  lastCardOffset: number = this.cardOffset;
  startTime: number | undefined = undefined

  <span class="hljs-comment">// æ¯ä¸ªå¡ç‰‡åˆå§‹ä½ç½®</span>
  aboutToAppear() {
    <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; taskDataArr.length; i++) {
      this.cardPosition[i] = i * (this.cardWidth + this.cardSpace);
    }
  }

  <span class="hljs-comment">// æ¯ä¸ªå¡ç‰‡ä½ç½®</span>
  getProgress(index: number): number {
    let progress = (this.cardOffset + this.cardPosition[index] - this.taskViewOffsetX + this.cardWidth / <span class="hljs-number">2</span>) / this.displayWidth;
    <span class="hljs-keyword">return</span> progress
  }

  build() {
    Stack({ alignContent: Alignment.Bottom }) {
      <span class="hljs-comment">// èƒŒæ™¯</span>
      Column()
        .width(<span class="hljs-string">'100%'</span>)
        .height(<span class="hljs-string">'100%'</span>)
        .backgroundColor(<span class="hljs-number">0xF0F0F0</span>)

      <span class="hljs-comment">// æ»‘åŠ¨ç»„ä»¶</span>
      Scroll(this.scroller) {
        Row({ space: this.cardSpace }) {
          ForEach(taskDataArr, (item: TaskData, index) =&gt; {
            Column()
              .width(this.cardWidth)
              .height(this.cardHeight)
              .backgroundColor(item.bgColor)
              .borderStyle(BorderStyle.Solid)
              .borderWidth(<span class="hljs-number">1</span>)
              .borderColor(<span class="hljs-number">0xAFEEEE</span>)
              .borderRadius(<span class="hljs-number">15</span>)
                <span class="hljs-comment">// è®¡ç®—å­ç»„ä»¶çš„ä»¿å°„å±æ€§</span>
              .scale((this.getProgress(index) &gt;= <span class="hljs-number">0.4</span> &amp;&amp; this.getProgress(index) &lt;= <span class="hljs-number">0.6</span>) ?
                {
                  x: <span class="hljs-number">1.1</span> - Math.<span class="hljs-built_in">abs</span>(<span class="hljs-number">0.5</span> - this.getProgress(index)),
                  y: <span class="hljs-number">1.1</span> - Math.<span class="hljs-built_in">abs</span>(<span class="hljs-number">0.5</span> - this.getProgress(index))
                } :
                { x: <span class="hljs-number">1</span>, y: <span class="hljs-number">1</span> })
              .animation({ curve: Curve.Smooth })
                <span class="hljs-comment">// æ»‘åŠ¨åŠ¨ç”»</span>
              .translate({ x: this.cardOffset })
              .animation({ curve: curves.springMotion() })
              .zIndex((this.getProgress(index) &gt;= <span class="hljs-number">0.4</span> &amp;&amp; this.getProgress(index) &lt;= <span class="hljs-number">0.6</span>) ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>)
          }, (item: TaskData) =&gt; item.toString())
        }
        .width((this.cardWidth + this.cardSpace) * (taskDataArr.length + <span class="hljs-number">1</span>))
        .height(<span class="hljs-string">'100%'</span>)
      }
      .gesture(
        GestureGroup(GestureMode.Parallel,
          PanGesture({ direction: PanDirection.Horizontal, distance: <span class="hljs-number">5</span> })
            .onActionStart((event: GestureEvent | undefined) =&gt; {
              <span class="hljs-keyword">if</span> (event) {
                this.startTime = event.timestamp;
              }
            })
            .onActionUpdate((event: GestureEvent | undefined) =&gt; {
              <span class="hljs-keyword">if</span> (event) {
                this.cardOffset = this.lastCardOffset + event.offsetX;
              }
            })
            .onActionEnd((event: GestureEvent | undefined) =&gt; {
              <span class="hljs-keyword">if</span> (event) {
                let time = <span class="hljs-number">0</span>
                <span class="hljs-keyword">if</span> (this.startTime) {
                  time = event.timestamp - this.startTime;
                }
                let speed = event.offsetX / (time / <span class="hljs-number">1000000000</span>);
                let moveX = Math.<span class="hljs-built_in">pow</span>(speed, <span class="hljs-number">2</span>) / <span class="hljs-number">7000</span> * (speed &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>);

                this.cardOffset += moveX;
                <span class="hljs-comment">// å·¦æ»‘å¤§äºæœ€å³ä¾§ä½ç½®</span>
                let cardOffsetMax = -(taskDataArr.length - <span class="hljs-number">1</span>) * (this.displayWidth / <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (this.cardOffset &lt; cardOffsetMax) {
                  this.cardOffset = cardOffsetMax;
                }
                <span class="hljs-comment">// å³æ»‘å¤§äºæœ€å·¦ä¾§ä½ç½®</span>
                <span class="hljs-keyword">if</span> (this.cardOffset &gt; this.displayWidth / <span class="hljs-number">4</span>) {
                  this.cardOffset = this.displayWidth / <span class="hljs-number">4</span>;
                }

                <span class="hljs-comment">// å·¦å³æ»‘åŠ¨è·ç¦»ä¸æ»¡è¶³/æ»¡è¶³åˆ‡æ¢å…³ç³»æ—¶ï¼Œè¡¥ä½/é€€å›</span>
                let remainMargin = this.cardOffset % (this.displayWidth / <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (remainMargin &lt; <span class="hljs-number">0</span>) {
                  remainMargin = this.cardOffset % (this.displayWidth / <span class="hljs-number">2</span>) + this.displayWidth / <span class="hljs-number">2</span>;
                }
                <span class="hljs-keyword">if</span> (remainMargin &lt;= this.displayWidth / <span class="hljs-number">4</span>) {
                  this.cardOffset += this.displayWidth / <span class="hljs-number">4</span> - remainMargin;
                } <span class="hljs-keyword">else</span> {
                  this.cardOffset -= this.displayWidth / <span class="hljs-number">4</span> - (this.displayWidth / <span class="hljs-number">2</span> - remainMargin);
                }

                <span class="hljs-comment">// è®°å½•æœ¬æ¬¡æ»‘åŠ¨åç§»é‡</span>
                this.lastCardOffset = this.cardOffset;
              }
            })
        ), GestureMask.IgnoreInternal)
      .scrollable(ScrollDirection.Horizontal)
      .scrollBar(BarState.Off)

      <span class="hljs-comment">// æ»‘åŠ¨åˆ°é¦–å°¾ä½ç½®</span>
      Button(<span class="hljs-string">'Move to first/last'</span>)
        .backgroundColor(<span class="hljs-number">0x888888</span>)
        .margin({ bottom: <span class="hljs-number">30</span> })
        .onClick(() =&gt; {
          this.clickIndex = !this.clickIndex;

          <span class="hljs-keyword">if</span> (this.clickIndex) {
            this.cardOffset = this.displayWidth / <span class="hljs-number">4</span>;
          } <span class="hljs-keyword">else</span> {
            this.cardOffset = this.displayWidth / <span class="hljs-number">4</span> - (taskDataArr.length - <span class="hljs-number">1</span>) * this.displayWidth / <span class="hljs-number">2</span>;
          }
          this.lastCardOffset = this.cardOffset;
        })
    }
    .width(<span class="hljs-string">'100%'</span>)
    .height(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<blockquote>
<p>é€šè¿‡animateToå¯ä»¥å®ç°å°†Listä¸­æŒ‡å®šçš„Itemæ›¿æ¢åˆ°é¦–ä½ï¼ŒListä¸­å…¶ä½™Itemä¾æ¬¡å‘ä¸‹æ’åˆ—ã€‚å®šåˆ¶Listç»„ä»¶åŠ¨æ€æ›¿æ¢åŠ¨æ•ˆçš„ç¤ºä¾‹ä»£ç å’Œæ•ˆæœå¦‚ä¸‹ã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a65af70c3a664d44bf4e079c166dcd7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767749421&amp;x-signature=xEDCrrdkCRiAPA%2BmbKHSygvA%2BhY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-c" lang="c">import { curves, AnimatorResult } from <span class="hljs-string">'@kit.ArkUI'</span>;

<span class="hljs-comment">// è¯¥æ¥å£æ§åˆ¶åˆ—è¡¨é¡¹è§†è§‰å±æ€§</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItemModify</span> <span class="hljs-title">implements</span> <span class="hljs-title">AttributeModifier</span>&lt;</span>ListItemAttribute&gt; {
  public offsetY: number = <span class="hljs-number">0</span>;

  applyNormalAttribute(instance: ListItemAttribute): <span class="hljs-type">void</span> {
    instance.translate({ y: this.offsetY }) <span class="hljs-comment">// Yè½´ä½ç§»</span>
  }
}

@Observed
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DragSortCtrl</span>&lt;</span>T&gt; {
  private arr: Array&lt;T&gt;
  private modify: Array&lt;ListItemModify&gt;
  private uiContext: UIContext; <span class="hljs-comment">// æ–°å¢UIContextæˆå‘˜</span>
  private dragRefOffset: number = <span class="hljs-number">0</span>
  offsetY: number = <span class="hljs-number">0</span>
  private ITEM_INTV: number = <span class="hljs-number">0</span>

  constructor(arr: Array&lt;T&gt;, intv: number, uiContext: UIContext) {
    this.arr = arr;
    this.uiContext = uiContext;
    this.modify = new Array&lt;ListItemModify&gt;()
    this.ITEM_INTV = intv
    arr.forEach(() =&gt; {
      this.modify.push(new ListItemModify())
    })
  }

  itemMove(index: number, newIndex: number): <span class="hljs-type">void</span> {
    let tmp = this.arr.splice(index, <span class="hljs-number">1</span>) <span class="hljs-comment">// ç§»é™¤å½“å‰ä¼ å…¥çš„index</span>
    this.arr.splice(newIndex, <span class="hljs-number">0</span>, tmp[<span class="hljs-number">0</span>]) <span class="hljs-comment">// å°†å½“å‰ç§»é™¤çš„indexæ’å…¥åˆ°æ•°ç»„å‰ä¸€ä¸ªä½ç½®</span>
    let tmp2 = this.modify.splice(index, <span class="hljs-number">1</span>)
    this.modify.splice(newIndex, <span class="hljs-number">0</span>, tmp2[<span class="hljs-number">0</span>])
  }

  setDragRef(item: T): <span class="hljs-type">void</span> {
    this.dragRefOffset = <span class="hljs-number">0</span>
  }

  onMove(item: T, offset: number) {
    this.offsetY = offset - this.dragRefOffset <span class="hljs-comment">// é€å¸§è®¡ç®—ä¼ å…¥çš„offectï¼Œæ¯æ»¡è¶³ä¸€ä¸ªitemé«˜åº¦æ—¶ï¼Œè¿›å…¥ä¸‹æ–¹ifé€»è¾‘ï¼Œæ›´æ–°dragRefOffsetçš„å€¼</span>
    let index = this.arr.indexOf(item) <span class="hljs-comment">// åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¼ å…¥çš„item</span>
    this.modify[index].offsetY = this.offsetY
    <span class="hljs-keyword">if</span> (this.offsetY &lt; -this.ITEM_INTV / <span class="hljs-number">2</span>) { <span class="hljs-comment">// é€šè¿‡åˆ¤æ–­ä½¿æŒ‡å®šçš„itemé€ä¸€ç§»åŠ¨åˆ°é¦–ä½</span>
      <span class="hljs-comment">// ä½¿ç”¨interpolatingSpringæ›²çº¿ç”Ÿæˆå¼¹ç°§åŠ¨ç”»</span>
      this.uiContext.animateTo({ curve: curves.interpolatingSpring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">400</span>, <span class="hljs-number">38</span>) }, () =&gt; {
        this.offsetY += this.ITEM_INTV <span class="hljs-comment">// è°ƒæ•´åç§»é‡å®ç°å¹³æ»‘ç§»åŠ¨</span>
        this.dragRefOffset -= this.ITEM_INTV <span class="hljs-comment">// ç§»åŠ¨çš„æ€»åç§»é‡</span>
        console.info(`item offsetY ${this.offsetY} dragRefOffset ${this.dragRefOffset}`);
        this.itemMove(index, index - <span class="hljs-number">1</span>) <span class="hljs-comment">// æ‰§è¡Œåˆ—è¡¨é¡¹ä½ç½®äº¤æ¢</span>
      })
    }
  }

  getModify(item: T): ListItemModify {
    let index = this.arr.indexOf(item)
    <span class="hljs-keyword">return</span> this.modify[index]
  }
}

@Entry
@Component
<span class="hljs-keyword">struct</span> ListAutoSortExample {
  @State private arr: Array&lt;number&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
  @State dragSortCtrl: DragSortCtrl&lt;number&gt; = new DragSortCtrl&lt;number&gt;(this.arr, <span class="hljs-number">120</span>, this.getUIContext())
  @State firstListItemGroupCount: number = <span class="hljs-number">3</span>
  private listScroll: ListScroller = new ListScroller()
  private backAnimator: AnimatorResult | null = null

  @Builder
  itemEnd(item: number, index: number) {
    Row() {
      Button(<span class="hljs-string">"To TOP"</span>).margin(<span class="hljs-string">"4vp"</span>).onClick(() =&gt; {
        console.info(`item number item ${item} index ${index}`);
        this.listScroll.closeAllSwipeActions({
          onFinish: () =&gt; {
            this.dragSortCtrl.setDragRef(item)
            let length = <span class="hljs-number">120</span> * (this.arr.indexOf(item))
            this.backAnimator = this.getUIContext()?.createAnimator({ <span class="hljs-comment">// åˆ›å»ºå¼¹ç°§åŠ¨ç”»</span>
              duration: <span class="hljs-number">1000</span>,
              easing: <span class="hljs-string">"interpolating-spring(0, 1, 150, 24)"</span>,
              delay: <span class="hljs-number">0</span>,
              fill: <span class="hljs-string">"none"</span>,
              direction: <span class="hljs-string">"normal"</span>,
              iterations: <span class="hljs-number">1</span>,
              begin: <span class="hljs-number">0</span>,
              end: -length
            })
            this.backAnimator.onFrame = (value) =&gt; { <span class="hljs-comment">// é€å¸§å›è°ƒæ›´æ–°ä½ç½®</span>
              this.dragSortCtrl.onMove(item, value) <span class="hljs-comment">// å¤„ç†listçš„ç§»åŠ¨æ›¿æ¢åŠ¨æ•ˆ</span>
            }
            this.backAnimator.onFinish = () =&gt; {}
            this.backAnimator.play() <span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»</span>
          }
        })
      })
    }.padding(<span class="hljs-string">"4vp"</span>).justifyContent(FlexAlign.SpaceEvenly)
  }

  @Builder
  header(title: <span class="hljs-built_in">string</span>) {
    Row() {
      Text(title)
    }
  }

  build() {
    Row() {
      Column() {
        List({ space: <span class="hljs-number">20</span>, scroller: this.listScroll }) {
          ListItemGroup({ header: this.header(<span class="hljs-string">'first ListItemGroup'</span>), space: <span class="hljs-number">20</span> }) {
            ForEach(this.arr, (item: number, index) =&gt; {
              <span class="hljs-keyword">if</span> (index &lt; this.firstListItemGroupCount) {
                ListItem() {
                  Text(<span class="hljs-string">'' + item)
                    .width('</span><span class="hljs-number">100</span>%<span class="hljs-string">')
                    .height(100)
                    .fontSize(16)
                    .borderRadius(10)
                    .textAlign(TextAlign.Center)
                    .backgroundColor(0xFFFFFF)
                }
                .swipeAction({
                  end: this.itemEnd(item, index)
                })
                .clip(true)
                .attributeModifier(this.dragSortCtrl.getModify(item)) // åŠ¨æ€è®¾ç½®å±æ€§ä¿®æ”¹
                .borderRadius(10)
                .margin({ left: 20, right: 20 })
              }
            })
          }
          ListItemGroup({ header: this.header('</span>second ListItemGroup<span class="hljs-number">'</span>), space: <span class="hljs-number">20</span> }) {
            ForEach(this.arr, (item: number, index) =&gt; {
              <span class="hljs-keyword">if</span> (index &gt; this.firstListItemGroupCount - <span class="hljs-number">1</span>) {
                ListItem() {
                  Text(<span class="hljs-string">'' + item)
                    .width('</span><span class="hljs-number">100</span>%<span class="hljs-string">')
                    .height(100)
                    .fontSize(16)
                    .borderRadius(10)
                    .textAlign(TextAlign.Center)
                    .backgroundColor(0xFFFFFF)
                }
                .swipeAction({
                  end: this.itemEnd(item, index)
                })
                .clip(true)
                .attributeModifier(this.dragSortCtrl.getModify(item))
                .borderRadius(10)
                .margin({ left: 20, right: 20 })
              }
            })
          }
        }
        .padding({ top: 20 })
        .height("100%")
      }
    }.backgroundColor(0xDCDCDC)
  }
}
</span></code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæœ‰äº†ç‰©ç†è¡¨ï¼Œè¿˜éœ€è¦é€»è¾‘è¡¨ï¼Ÿè¿™4ä¸ªæ ¸å¿ƒåœºæ™¯è®²é€]]></title>    <link>https://juejin.cn/post/7589250237070065674</link>    <guid>https://juejin.cn/post/7589250237070065674</guid>    <pubDate>2025-12-30T12:16:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589250237070065674" data-draft-id="7589250237070049290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæœ‰äº†ç‰©ç†è¡¨ï¼Œè¿˜éœ€è¦é€»è¾‘è¡¨ï¼Ÿè¿™4ä¸ªæ ¸å¿ƒåœºæ™¯è®²é€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T12:16:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Kevin666"/> <meta itemprop="url" content="https://juejin.cn/user/1549628692501449"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæœ‰äº†ç‰©ç†è¡¨ï¼Œè¿˜éœ€è¦é€»è¾‘è¡¨ï¼Ÿè¿™4ä¸ªæ ¸å¿ƒåœºæ™¯è®²é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1549628692501449/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Kevin666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T12:16:49.000Z" title="Tue Dec 30 2025 12:16:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åº“å¼€å‘å­¦ä¹ ä¸­ï¼Œå¾ˆå¤šæ—¶å€™å¾€å¾€åªä¼šçŸ¥é“ç‰©ç†è¡¨å’Œé€»è¾‘è¡¨æ˜¯å•¥ï¼Œå’‹ç”¨ï¼Œé‚£è¿™æœ‰ä¸€ä¸ªç–‘é—®ï¼šæ—¢ç„¶ç‰©ç†è¡¨å·²ç»èƒ½å­˜å‚¨æ•°æ®äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦é¢å¤–æä¸€ä¸ªâ€œé€»è¾‘è¡¨â€ï¼Ÿæ¯•ç«Ÿé€»è¾‘è¡¨æ—¢ä¸å­˜æ•°æ®ï¼Œè¿˜è¦é¢å¤–å®šä¹‰è§„åˆ™ï¼Œçœ‹èµ·æ¥åƒæ˜¯â€œå¤šæ­¤ä¸€ä¸¾â€ã€‚</p>
<p>å…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼šç‰©ç†è¡¨è§£å†³çš„æ˜¯â€œæ•°æ®æ€ä¹ˆå­˜â€çš„é—®é¢˜ï¼Œè€Œé€»è¾‘è¡¨è§£å†³çš„æ˜¯â€œæ•°æ®æ€ä¹ˆç”¨â€çš„é—®é¢˜ã€‚ä¸¤è€…çš„æ ¸å¿ƒç›®æ ‡ä¸åŒï¼Œåœ¨ä¼ä¸šçº§æ•°æ®æ¶æ„ä¸­ï¼Œç¼ºäº†è°éƒ½ä¸è¡Œã€‚</p>
<p>å…ˆèŠ±2åˆ†é’Ÿç†æ¸…ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œé¿å…åç»­æ··æ·†ï¼š</p>
<p><strong>ç‰©ç†è¡¨</strong>ï¼šæ•°æ®åº“ä¸­çœŸå®å­˜å‚¨æ•°æ®çš„â€œå®¹å™¨â€ï¼Œå¯¹åº”ç£ç›˜ä¸Šçš„æ–‡ä»¶æˆ–æ•°æ®å—ã€‚å®ƒæœ‰æ˜ç¡®çš„å­˜å‚¨å¼•æ“ï¼ˆæ¯”å¦‚InnoDBï¼‰ã€å­—æ®µç±»å‹ã€ç´¢å¼•ã€åˆ†åŒºç­–ç•¥ï¼Œæ•°æ®ä¸€è¡Œä¸€è¡ŒçœŸå®è½åœ°ã€‚ä½ æ‰§è¡Œâ€œCREATE TABLEâ€åˆ›å»ºçš„ï¼Œç»å¤§å¤šæ•°éƒ½æ˜¯ç‰©ç†è¡¨ã€‚</p>
<p><strong>é€»è¾‘è¡¨</strong>ï¼šå¯¹ç‰©ç†è¡¨ï¼ˆæˆ–å¤šä¸ªç‰©ç†è¡¨ï¼‰çš„æŠ½è±¡ã€å°è£…æˆ–é‡ç»„ï¼Œæœ¬èº«ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œåªå®šä¹‰â€œæ•°æ®å¦‚ä½•è·å–ã€å…³è”ã€å±•ç¤ºâ€çš„è§„åˆ™ã€‚æœ¬è´¨ä¸Šï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªâ€œé€»è¾‘å±‚é¢çš„è§†å›¾æˆ–æ˜ å°„â€ï¼Œä½ æŸ¥é€»è¾‘è¡¨æ—¶ï¼Œå…¶å®æ˜¯å®ƒå¸®ä½ è‡ªåŠ¨å¯¹æ¥èƒŒåçš„ç‰©ç†è¡¨ã€‚</p>
<p>ç®€å•è¯´ï¼šç‰©ç†è¡¨æ˜¯â€œä»“åº“â€ï¼Œè´Ÿè´£æŠŠæ•°æ®å®‰å…¨å­˜å¥½ï¼›é€»è¾‘è¡¨æ˜¯â€œå¯¼è´­å‘˜â€ï¼Œè´Ÿè´£æŠŠä»“åº“é‡Œçš„è´§æ•´ç†å¥½ï¼Œä»¥ä½ éœ€è¦çš„æ–¹å¼å‘ˆç°å‡ºæ¥ã€‚ä¸‹é¢ç»“åˆ4ä¸ªçœŸå®ä¸šåŠ¡åœºæ™¯ï¼Œå¸¦ä½ çœ‹æ‡‚é€»è¾‘è¡¨çš„æ ¸å¿ƒä»·å€¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åœºæ™¯1ï¼šå±è”½å­˜å‚¨å¤æ‚æ€§ï¼Œè®©å¼€å‘ä¸ç”¨â€œæ‡‚å­˜å‚¨â€</h2>
<p>ç‰©ç†è¡¨çš„è®¾è®¡ï¼Œä¼˜å…ˆè€ƒè™‘çš„æ˜¯å­˜å‚¨æ•ˆç‡ã€æŸ¥è¯¢æ€§èƒ½å’Œæ‰©å®¹æ€§ã€‚æ¯”å¦‚ä¸ºäº†åº”å¯¹å¤§æ•°æ®é‡ï¼Œä¼šæŠŠä¸€å¼ è¡¨æ‹†åˆ†æˆå¤šä¸ªåˆ†è¡¨ï¼ˆåˆ†åº“åˆ†è¡¨ï¼‰ï¼Œæˆ–è€…æŠŠå†—ä½™å­—æ®µæ‹†åˆ†åˆ°å…³è”è¡¨ä¸­ã€‚ä½†è¿™äº›å­˜å‚¨å±‚é¢çš„ä¼˜åŒ–ï¼Œå¯¹ä¸šåŠ¡å¼€å‘æ¥è¯´å´æ˜¯â€œè´Ÿæ‹…â€â€”â€”æ€»ä¸èƒ½è®©å¼€å‘å†™ä»£ç æ—¶ï¼Œè¿˜è¦å…ˆææ‡‚ç‰©ç†è¡¨æ˜¯æ€ä¹ˆåˆ†çš„ã€å…³è”äº†å“ªäº›è¡¨å§ï¼Ÿ</p>
<p>é€»è¾‘è¡¨çš„æ ¸å¿ƒä½œç”¨ä¹‹ä¸€ï¼Œå°±æ˜¯åšâ€œç¿»è¯‘å±‚â€ï¼ŒæŠŠå¤æ‚çš„ç‰©ç†å­˜å‚¨é€»è¾‘å°è£…èµ·æ¥ï¼Œè®©å¼€å‘åªå…³æ³¨ä¸šåŠ¡è¯­ä¹‰ã€‚</p>
<p>ä¸¾ä¸ªç”µå•†è®¢å•ç³»ç»Ÿçš„ä¾‹å­ï¼š</p>
<p>ä¸ºäº†åº”å¯¹è®¢å•æ•°æ®çš„å¢é•¿ï¼Œè¿ç»´æŠŠè®¢å•è¡¨æŒ‰æ—¶é—´æ‹†æˆäº†2å¼ ç‰©ç†è¡¨ï¼šorder_2024ï¼ˆå­˜å‚¨2024å¹´è®¢å•ï¼‰å’Œorder_2025ï¼ˆå­˜å‚¨2025å¹´è®¢å•ï¼‰ï¼›åŒæ—¶æŠŠè®¢å•ä¸­çš„å•†å“ä¿¡æ¯æ‹†åˆ†åˆ°order_itemè¡¨ï¼ˆå‡å°‘ä¸»è¡¨å†—ä½™ï¼‰ã€‚ç‰©ç†è¡¨ç»“æ„å¦‚ä¸‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 2024å¹´è®¢å•ç‰©ç†è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> order_2024 (
  order_id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  user_id <span class="hljs-type">BIGINT</span>,
  pay_amount <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  create_time DATETIME,
  status TINYINT,  <span class="hljs-comment">-- 1=å¾…æ”¯ä»˜ï¼Œ2=å·²æ”¯ä»˜ï¼ˆæ•°å­—ç¼–ç ï¼‰</span>
  db_partition <span class="hljs-type">INT</span>  <span class="hljs-comment">-- å­˜å‚¨åˆ†åŒºå­—æ®µï¼Œä¸šåŠ¡æ— æ„ŸçŸ¥</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB;

<span class="hljs-comment">-- 2025å¹´è®¢å•ç‰©ç†è¡¨ï¼ˆç»“æ„å’Œ2024ä¸€è‡´ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> order_2025 (...);

<span class="hljs-comment">-- è®¢å•å•†å“å…³è”ç‰©ç†è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> order_item (
  item_id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  order_id <span class="hljs-type">BIGINT</span>,
  product_id <span class="hljs-type">BIGINT</span>,
  product_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>)
);
</code></pre>
<p>å¦‚æœæ²¡æœ‰é€»è¾‘è¡¨ï¼Œå¼€å‘è¦æŸ¥â€œç”¨æˆ·10086åœ¨2024-2025å¹´çš„æ‰€æœ‰è®¢å•+å•†å“ä¿¡æ¯â€ï¼Œéœ€è¦å†™è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> order_2024 <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>  <span class="hljs-comment">-- æ‰‹åŠ¨åˆå¹¶åˆ†è¡¨</span>
  <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> order_2025
) t
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> order_item i <span class="hljs-keyword">ON</span> t.order_id <span class="hljs-operator">=</span> i.order_id
<span class="hljs-keyword">WHERE</span> t.user_id <span class="hljs-operator">=</span> <span class="hljs-number">10086</span> 
  <span class="hljs-keyword">AND</span> t.create_time <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">'2024-01-01'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'2025-12-31'</span>
  <span class="hljs-keyword">AND</span> t.db_partition <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">-- æ‰‹åŠ¨è¿‡æ»¤å­˜å‚¨å­—æ®µ</span>
</code></pre>
<p>ä¸ä»…ä»£ç å¤æ‚ï¼Œè¿˜å®¹æ˜“å‡ºé”™â€”â€”æ¯”å¦‚å¿˜äº†åˆå¹¶åˆ†è¡¨ã€è®°é”™statusçŠ¶æ€ç çš„å«ä¹‰ã€‚è¿™æ—¶å€™é€»è¾‘è¡¨å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€»è¾‘è¡¨1ï¼šåˆå¹¶åˆ†è¡¨+çŠ¶æ€ç è½¬ä¹‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_order_main <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> 
  order_id,
  user_id,
  pay_amount,
  create_time,
  <span class="hljs-comment">-- æŠŠæ•°å­—çŠ¶æ€ç è½¬æˆä¸šåŠ¡æ˜“ç†è§£çš„åç§°</span>
  <span class="hljs-keyword">CASE</span> status <span class="hljs-keyword">WHEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'å¾…æ”¯ä»˜'</span> <span class="hljs-keyword">WHEN</span> <span class="hljs-number">2</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'å·²æ”¯ä»˜'</span> <span class="hljs-keyword">END</span> <span class="hljs-keyword">AS</span> status_name
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> order_2024 <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
  <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> order_2025
) t
<span class="hljs-keyword">WHERE</span> db_partition <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">-- å±è”½å­˜å‚¨å­—æ®µ</span>

<span class="hljs-comment">-- é€»è¾‘è¡¨2ï¼šå…³è”è®¢å•å’Œå•†å“ï¼Œå½¢æˆå®Œæ•´è§†å›¾</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_order_full <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> 
  o.<span class="hljs-operator">*</span>,
  i.product_id,
  i.product_name
<span class="hljs-keyword">FROM</span> v_order_main o
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> order_item i <span class="hljs-keyword">ON</span> o.order_id <span class="hljs-operator">=</span> i.order_id;
</code></pre>
<p>ç°åœ¨å¼€å‘æŸ¥æ•°æ®ï¼Œåªéœ€è¦ä¸€è¡Œç®€å•çš„SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> v_order_full 
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10086</span> 
  <span class="hljs-keyword">AND</span> create_time <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">'2024-01-01'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'2025-12-31'</span>;
</code></pre>
<p>åç»­å¦‚æœæ–°å¢äº†order_2026åˆ†è¡¨ï¼Œåªéœ€è¦ä¿®æ”¹é€»è¾‘è¡¨çš„å®šä¹‰ï¼Œæ‰€æœ‰ä¸šåŠ¡ä»£ç éƒ½ä¸ç”¨åŠ¨â€”â€”è¿™å°±æ˜¯è§£è€¦çš„ä»·å€¼ã€‚</p>
<h2 data-id="heading-1">äºŒã€åœºæ™¯2ï¼šæ‰“ç ´æ•°æ®å­¤å²›ï¼Œè·¨åº“è·¨è¡¨èšåˆæ•°æ®</h2>
<p>ä¼ä¸šä¸­çš„æ•°æ®ï¼Œå¾ˆå°‘é›†ä¸­åœ¨ä¸€å¼ ç‰©ç†è¡¨ç”šè‡³ä¸€ä¸ªæ•°æ®åº“é‡Œã€‚æ¯”å¦‚ç”¨æˆ·ä¿¡æ¯å­˜åœ¨user_dbåº“ï¼Œè®¢å•ä¿¡æ¯å­˜åœ¨trade_dbåº“ï¼Œè¡Œä¸ºæ•°æ®å­˜åœ¨behavior_dbåº“ã€‚ä¸šåŠ¡è¦åšâ€œç”¨æˆ·ç”»åƒâ€â€œç»¼åˆæŠ¥è¡¨â€æ—¶ï¼Œéœ€è¦æŠŠè¿™äº›åˆ†æ•£çš„æ•°æ®æ•´åˆèµ·æ¥ï¼Œæ€»ä¸èƒ½è®©å¼€å‘é€ä¸ªåº“æŸ¥è¯¢å†æ‰‹åŠ¨æ‹¼æ¥å§ï¼Ÿ</p>
<p>é€»è¾‘è¡¨å¯ä»¥è½»æ¾å®ç°è·¨åº“è·¨è¡¨çš„æ•°æ®èšåˆï¼Œè®©åˆ†æ•£çš„æ•°æ®â€œè™šæ‹Ÿæ•´åˆâ€æˆä¸€ä¸ªå®Œæ•´çš„æ•°æ®é›†ã€‚</p>
<p>ä¸¾ä¸ªç”¨æˆ·ç”»åƒç³»ç»Ÿçš„ä¾‹å­ï¼š</p>
<p>æ•°æ®åˆ†æ•£åœ¨3ä¸ªåº“çš„3å¼ ç‰©ç†è¡¨ä¸­ï¼š</p>
<ul>
<li>user_db.user_baseï¼šå­˜å‚¨ç”¨æˆ·åŸºç¡€ä¿¡æ¯ï¼ˆç”¨æˆ·åã€æ‰‹æœºå·ã€æ³¨å†Œæ—¶é—´ï¼‰</li>
<li>trade_db.user_order_sumï¼šå­˜å‚¨ç”¨æˆ·è®¢å•æ±‡æ€»ï¼ˆæ€»è®¢å•æ•°ã€æ€»æ”¯ä»˜é‡‘é¢ï¼‰</li>
<li>behavior_db.user_behaviorï¼šå­˜å‚¨ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ˆæœ€åç™»å½•æ—¶é—´ã€è®¿é—®æ¬¡æ•°ï¼‰</li>
</ul>
<p>é€šè¿‡æ•°æ®åº“è”é‚¦æŸ¥è¯¢æˆ–ä¸­é—´ä»¶ï¼ˆå¦‚MyCatã€ShardingSphereï¼‰åˆ›å»ºé€»è¾‘è¡¨user_profileï¼Œèšåˆè¿™äº›æ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> user_profile <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> 
  ub.user_id,
  ub.username,
  ub.phone,
  ub.register_time,
  uos.total_order_count,
  uos.total_pay_amount,
  ubh.last_login_time
<span class="hljs-keyword">FROM</span> user_db.user_base ub
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> trade_db.user_order_sum uos <span class="hljs-keyword">ON</span> ub.user_id <span class="hljs-operator">=</span> uos.user_id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> behavior_db.user_behavior ubh <span class="hljs-keyword">ON</span> ub.user_id <span class="hljs-operator">=</span> ubh.user_id;
</code></pre>
<p>ç°åœ¨ä¸ç®¡æ˜¯è¿è¥æŸ¥ç”¨æˆ·ä¿¡æ¯ï¼Œè¿˜æ˜¯åˆ†æå¸ˆåšæŠ¥è¡¨ï¼Œç›´æ¥æŸ¥user_profileè¿™å¼ é€»è¾‘è¡¨å°±è¡Œï¼Œå®Œå…¨ä¸ç”¨å…³å¿ƒæ•°æ®å­˜åœ¨å“ªä¸ªåº“ã€å“ªä¸ªè¡¨â€”â€”é€»è¾‘è¡¨å¸®ä½ æå®šäº†æ‰€æœ‰å…³è”å’Œèšåˆã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€åœºæ™¯3ï¼šç²¾å‡†æ§åˆ¶æƒé™ï¼Œè„±æ•æ•æ„Ÿæ•°æ®</h2>
<p>ç‰©ç†è¡¨ä¸­å­˜å‚¨çš„æ˜¯åŸå§‹æ•°æ®ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«æ‰‹æœºå·ã€èº«ä»½è¯ã€æ”¯ä»˜è´¦å·ç­‰æ•æ„Ÿä¿¡æ¯ã€‚ä½†ä¸åŒè§’è‰²çš„äººå‘˜ï¼Œå¯¹æ•°æ®çš„è®¿é—®æƒé™éœ€æ±‚ä¸åŒï¼šæ¯”å¦‚æ™®é€šè¿è¥åªéœ€è¦çœ‹è®¢å•é‡‘é¢ï¼Œè´¢åŠ¡éœ€è¦çœ‹æ”¯ä»˜ä¿¡æ¯ä½†ä¸èƒ½çœ‹å®Œæ•´è´¦å·ï¼Œç®¡ç†å‘˜æ‰èƒ½çœ‹å…¨é‡æ•°æ®ã€‚</p>
<p>å¦‚æœç›´æ¥åœ¨ç‰©ç†è¡¨ä¸Šåšæƒé™æ§åˆ¶ï¼Œè¦ä¹ˆä¼šå¯¼è‡´ç‰©ç†è¡¨å†—ä½™ï¼ˆä¸ºä¸åŒè§’è‰²å»ºä¸åŒè¡¨ï¼‰ï¼Œè¦ä¹ˆä¼šæ³„éœ²æ•æ„Ÿæ•°æ®ã€‚è€Œé€»è¾‘è¡¨å¯ä»¥ç²¾å‡†æ§åˆ¶æ•°æ®å¯è§èŒƒå›´ï¼ŒåŒæ—¶å¯¹æ•æ„Ÿæ•°æ®è¿›è¡Œè„±æ•ï¼Œå®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä¸¾ä¸ªè´¢åŠ¡ç³»ç»Ÿçš„ä¾‹å­ï¼š</p>
<p>ç‰©ç†è¡¨finance_paymentå­˜å‚¨äº†å®Œæ•´çš„æ”¯ä»˜æ•°æ®ï¼ŒåŒ…å«æ•æ„Ÿçš„æ”¯ä»˜è´¦å·ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> finance_payment (
  id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  order_id <span class="hljs-type">BIGINT</span>,
  user_id <span class="hljs-type">BIGINT</span>,
  pay_account <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),  <span class="hljs-comment">-- æ•æ„Ÿå­—æ®µï¼šæ”¯ä»˜è´¦å·</span>
  pay_amount <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  pay_time DATETIME
);
</code></pre>
<p>åŸºäºè¿™å¼ ç‰©ç†è¡¨ï¼Œåˆ›å»º3å¼ ä¸åŒçš„é€»è¾‘è¡¨ï¼Œé€‚é…ä¸åŒè§’è‰²ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€»è¾‘è¡¨1ï¼šæ™®é€šè¿è¥è§†å›¾ï¼ˆéšè—æ•æ„Ÿå­—æ®µï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_finance_operation <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> order_id, pay_amount, pay_time <span class="hljs-keyword">FROM</span> finance_payment;

<span class="hljs-comment">-- é€»è¾‘è¡¨2ï¼šè´¢åŠ¡è§†å›¾ï¼ˆè„±æ•æ”¯ä»˜è´¦å·ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_finance_accountant <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> 
  id, order_id, user_id,
  <span class="hljs-comment">-- è„±æ•å¤„ç†ï¼šæ˜¾ç¤ºå‰4ä½å’Œå4ä½ï¼Œä¸­é—´ç”¨*ä»£æ›¿</span>
  CONCAT(<span class="hljs-keyword">LEFT</span>(pay_account,<span class="hljs-number">4</span>), <span class="hljs-string">'****'</span>, <span class="hljs-keyword">RIGHT</span>(pay_account,<span class="hljs-number">4</span>)) <span class="hljs-keyword">AS</span> pay_account_desensitized,
  pay_amount, pay_time
<span class="hljs-keyword">FROM</span> finance_payment;

<span class="hljs-comment">-- é€»è¾‘è¡¨3ï¼šç®¡ç†å‘˜è§†å›¾ï¼ˆå…¨å­—æ®µè®¿é—®ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_finance_admin <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> finance_payment;
</code></pre>
<p>ç„¶åç»™ä¸åŒè§’è‰²åˆ†é…ä¸åŒé€»è¾‘è¡¨çš„æŸ¥è¯¢æƒé™ï¼š</p>
<ul>
<li>æ™®é€šè¿è¥ â†’ åªèƒ½æŸ¥v_finance_operationï¼Œçœ‹ä¸åˆ°æ•æ„Ÿå­—æ®µï¼›</li>
<li>è´¢åŠ¡äººå‘˜ â†’ åªèƒ½æŸ¥v_finance_accountantï¼Œçœ‹åˆ°çš„æ˜¯è„±æ•åçš„æ”¯ä»˜è´¦å·ï¼›</li>
<li>ç®¡ç†å‘˜ â†’ å¯ä»¥æŸ¥v_finance_adminï¼ŒæŸ¥çœ‹å…¨é‡æ•°æ®ã€‚</li>
</ul>
<p>è¿™æ ·æ—¢æ»¡è¶³äº†ä¸åŒè§’è‰²çš„å·¥ä½œéœ€æ±‚ï¼Œåˆä¿éšœäº†æ•°æ®å®‰å…¨ï¼Œè€Œç‰©ç†è¡¨æœ¬èº«æ— éœ€åšä»»ä½•ä¿®æ”¹ã€‚</p>
<h2 data-id="heading-3">å››ã€åœºæ™¯4ï¼šé€‚é…å¤šä¸šåŠ¡åœºæ™¯ï¼Œé¿å…ç‰©ç†è¡¨å†—ä½™</h2>
<p>åŒä¸€å¥—ç‰©ç†è¡¨ï¼Œå¯èƒ½éœ€è¦é€‚é…ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚æ¯”å¦‚å•†å“è¡¨ï¼Œç”Ÿé²œä¸šåŠ¡éœ€è¦å…³æ³¨é‡é‡ã€è¿‡æœŸæ—¶é—´ï¼Œå®¶ç”µä¸šåŠ¡éœ€è¦å…³æ³¨ä¿ä¿®æœŸï¼Œç§’æ€ä¸šåŠ¡åªéœ€è¦å…³æ³¨ä»·æ ¼å’Œåº“å­˜ã€‚å¦‚æœä¸ºæ¯ä¸ªåœºæ™¯éƒ½å»ºä¸€å¼ ç‰©ç†è¡¨ï¼Œä¼šå¯¼è‡´å¤§é‡å†—ä½™æ•°æ®ï¼›ä½†å¦‚æœç”¨ä¸€å¼ ç‰©ç†è¡¨åŒ…å«æ‰€æœ‰å­—æ®µï¼Œåˆä¼šè®©ä¸šåŠ¡çœ‹åˆ°å¾ˆå¤šæ— å…³å­—æ®µï¼Œå¢åŠ ç†è§£æˆæœ¬ã€‚</p>
<p>é€»è¾‘è¡¨å¯ä»¥ä¸ºä¸åŒä¸šåŠ¡åœºæ™¯åšâ€œä¸ªæ€§åŒ–æ˜ å°„â€ï¼Œä»åŒä¸€å¥—ç‰©ç†è¡¨ä¸­ç­›é€‰å‡ºå¯¹åº”åœºæ™¯éœ€è¦çš„å­—æ®µï¼Œé¿å…ç‰©ç†è¡¨å†—ä½™ã€‚</p>
<p>ä¸¾ä¸ªå•†å“ç³»ç»Ÿçš„ä¾‹å­ï¼š</p>
<p>ç‰©ç†è¡¨productå­˜å‚¨äº†é€šç”¨çš„å•†å“ä¿¡æ¯ï¼ŒåŒ…å«ç”Ÿé²œã€å®¶ç”µã€ç§’æ€ç­‰å¤šä¸ªåœºæ™¯çš„å­—æ®µï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> product (
  product_id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
  category_id <span class="hljs-type">INT</span>,
  price <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  stock <span class="hljs-type">INT</span>,
  weight <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">8</span>,<span class="hljs-number">2</span>),  <span class="hljs-comment">-- ç”Ÿé²œéœ€è¦</span>
  expire_time DATETIME, <span class="hljs-comment">-- ç”Ÿé²œéœ€è¦</span>
  warranty_period <span class="hljs-type">INT</span>   <span class="hljs-comment">-- å®¶ç”µéœ€è¦</span>
);
</code></pre>
<p>ä¸ºä¸åŒåœºæ™¯åˆ›å»ºä¸“å±é€»è¾‘è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€»è¾‘è¡¨1ï¼šç”Ÿé²œå•†å“è§†å›¾ï¼ˆç­›é€‰ç”Ÿé²œç›¸å…³å­—æ®µï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_product_fresh <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> product_id, name, price, stock, weight, expire_time
<span class="hljs-keyword">FROM</span> product <span class="hljs-keyword">WHERE</span> category_id <span class="hljs-operator">=</span> <span class="hljs-number">101</span>;  <span class="hljs-comment">-- 101=ç”Ÿé²œåˆ†ç±»</span>

<span class="hljs-comment">-- é€»è¾‘è¡¨2ï¼šå®¶ç”µå•†å“è§†å›¾ï¼ˆç­›é€‰å®¶ç”µç›¸å…³å­—æ®µï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_product_appliance <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> product_id, name, price, stock, warranty_period
<span class="hljs-keyword">FROM</span> product <span class="hljs-keyword">WHERE</span> category_id <span class="hljs-operator">=</span> <span class="hljs-number">201</span>;  <span class="hljs-comment">-- 201=å®¶ç”µåˆ†ç±»</span>

<span class="hljs-comment">-- é€»è¾‘è¡¨3ï¼šç§’æ€å•†å“è§†å›¾ï¼ˆç­›é€‰ç§’æ€ç›¸å…³å­—æ®µï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> v_product_seckill <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> product_id, name, price, stock
<span class="hljs-keyword">FROM</span> product <span class="hljs-keyword">WHERE</span> stock <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">AND</span> price <span class="hljs-operator">&lt;</span> <span class="hljs-number">100</span>;  <span class="hljs-comment">-- ç§’æ€å•†å“æ¡ä»¶</span>
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ¯ä¸ªä¸šåŠ¡åœºæ™¯éƒ½åªæ“ä½œè‡ªå·±çš„é€»è¾‘è¡¨ï¼Œçœ‹ä¸åˆ°æ— å…³å­—æ®µï¼Œä»£ç æ›´ç®€æ´ï¼›åç»­æ–°å¢åœºæ™¯ï¼ˆæ¯”å¦‚ç¾å¦†ï¼‰ï¼Œåªéœ€æ–°å¢ä¸€å¼ é€»è¾‘è¡¨ï¼Œç‰©ç†è¡¨å®Œå…¨ä¸ç”¨åŠ¨ã€‚</p>
<h2 data-id="heading-4">æœ€åï¼šç‰©ç†è¡¨å’Œé€»è¾‘è¡¨çš„æ ¸å¿ƒåŒºåˆ«æ€»ç»“</h2>
<p>ç”¨ä¸€å¼ è¡¨å¸®ä½ ç†æ¸…ä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚ï¼š</p>






























<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>ç‰©ç†è¡¨</th><th>é€»è¾‘è¡¨</th></tr></thead><tbody><tr><td>æ•°æ®å­˜å‚¨</td><td>å®é™…å­˜å‚¨æ•°æ®ï¼Œå¯¹åº”ç£ç›˜æ–‡ä»¶</td><td>ä¸å­˜å‚¨æ•°æ®ï¼Œåªå®šä¹‰æŸ¥è¯¢è§„åˆ™</td></tr><tr><td>è®¾è®¡ç›®æ ‡</td><td>ä¼˜å…ˆä¿éšœå­˜å‚¨æ•ˆç‡ã€æ€§èƒ½ã€ç¨³å®šæ€§</td><td>ä¼˜å…ˆä¿éšœä¸šåŠ¡æ˜“ç”¨æ€§ã€çµæ´»æ€§ã€å®‰å…¨æ€§</td></tr><tr><td>è€¦åˆæ€§</td><td>ä¸å­˜å‚¨å±‚å¼ºè€¦åˆ</td><td>ä¸ä¸šåŠ¡å±‚å¼ºè€¦åˆï¼Œä¸å­˜å‚¨å±‚è§£è€¦</td></tr><tr><td>å˜æ›´æˆæœ¬</td><td>é«˜ï¼Œä¿®æ”¹ä¼šå½±å“æ‰€æœ‰ä¾èµ–çš„ä¸šåŠ¡</td><td>ä½ï¼Œä»…ä¿®æ”¹é€»è¾‘è§„åˆ™ï¼Œä¸å½±å“ç‰©ç†å­˜å‚¨</td></tr></tbody></table>
<p>ä¸€å¥è¯æ€»ç»“ï¼šé€»è¾‘è¡¨çš„æœ¬è´¨ï¼Œæ˜¯â€œä»¥ä¸šåŠ¡ä¸ºä¸­å¿ƒâ€çš„æŠ½è±¡å±‚ã€‚å®ƒä¸€è¾¹å¯¹æ¥ç‰©ç†è¡¨çš„å­˜å‚¨é€»è¾‘ï¼Œä¸€è¾¹å¯¹æ¥ä¸šåŠ¡çš„ä½¿ç”¨éœ€æ±‚ï¼Œè®©å­˜å‚¨å’Œä¸šåŠ¡è§£è€¦â€”â€”è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ä¼ä¸šçº§æ•°æ®æ¶æ„ä¸­ï¼Œé€»è¾‘è¡¨æ˜¯ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PyWebView ç§»åŠ¨ç«¯é€‚é…è¸©å‘å®å½•]]></title>    <link>https://juejin.cn/post/7589475497001238543</link>    <guid>https://juejin.cn/post/7589475497001238543</guid>    <pubDate>2025-12-30T12:38:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589475497001238543" data-draft-id="7589494631005650979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PyWebView ç§»åŠ¨ç«¯é€‚é…è¸©å‘å®å½•"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2025-12-30T12:38:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”å”åœ¨å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/4009253326568761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PyWebView ç§»åŠ¨ç«¯é€‚é…è¸©å‘å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4009253326568761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”å”åœ¨å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T12:38:45.000Z" title="Tue Dec 30 2025 12:38:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰äº›å¤©ï¼Œæˆ‘æ‰“ç®—å°†åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fpywebview.flowrl.com%2Fguide%2Ffreezing.html" target="_blank" title="https://pywebview.flowrl.com/guide/freezing.html" ref="nofollow noopener noreferrer">PyWebView</a> å¼€å‘çš„æ¡Œé¢åº”ç”¨é€‚é…åˆ°ç§»åŠ¨ç«¯ï¼ŒæŸ¥é˜…å®˜ç½‘æ—¶æƒŠå–œåœ°å‘ç°ï¼š<strong>PyWebView å¤©ç„¶æ”¯æŒç§»åŠ¨ç«¯</strong>ï¼è¿™æ„å‘³ç€åªè¦æ¡Œé¢ç«¯çš„ç•Œé¢åšå¥½äº†å±å¹•è‡ªé€‚åº”ï¼Œå¤§éƒ¨åˆ†ä»£ç å¯ä»¥ç›´æ¥å¤ç”¨åˆ°ç§»åŠ¨ç«¯ï¼Œå ªç§°å®Œç¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aba6f0df0454bf1ad39813a2b7b7f44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703163&amp;x-signature=%2BLTlHyq%2B4IxNGPbSYj83BnNonqM%3D" alt="" loading="lazy"/></p>
<p>äºæ˜¯ï¼Œæˆ‘æœ€è¿‘å°±å¼€å§‹äº†é€‚é…å·¥ä½œã€‚ä¸æ¡Œé¢ç«¯ä¸åŒï¼ŒPyWebView ç§»åŠ¨ç«¯çš„æ‰“åŒ…ä¾èµ–äº <strong>Buildozer</strong> è€Œé PyInstallerï¼Œå› æ­¤ä½ éœ€è¦æå‰ç†Ÿæ‚‰ Buildozer çš„ä½¿ç”¨ã€‚å¯ä»¥é€šè¿‡å…¶å®˜æ–¹æ–‡æ¡£å­¦ä¹ ï¼Œä¹Ÿå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™è¿‡çš„ <a href="https://juejin.cn/post/7589104492882739252" target="_blank" title="https://juejin.cn/post/7589104492882739252">buildozeræ‰“åŒ…è¯¦è§£ï¼šç»†è¯´é‚£äº›æˆ‘è¸©è¿‡çš„å‘</a>ã€‚</p>
<p>æ­£å¦‚å‰æ–‡æåˆ°ï¼Œå³ä½¿ä½¿ç”¨ Buildozer æˆåŠŸæ‰“åŒ…å‡º APKï¼Œä»å¯èƒ½å› å…¼å®¹æ€§æˆ–ä»£ç é—®é¢˜å¯¼è‡´åº”ç”¨é—ªé€€ã€‚è¿™æ—¶ï¼Œå¯ä»¥å°†ç”Ÿæˆçš„ Java ä»£ç å¯¼å…¥ Android Studio è¿›ä¸€æ­¥è°ƒè¯•ã€‚ä»£ç è·¯å¾„é€šå¸¸ä½äºï¼š</p>
<pre><code class="hljs">\\wsl.localhost\Ubuntu-22.04\{é¡¹ç›®ç›®å½•}\.buildozer\android\platform\build-arm64-v8a\dists\{é¡¹ç›®javaä»£ç ç›®å½•}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa3dcfa8976447c19d7292fbecb52b77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703163&amp;x-signature=RcDDOH8bcx4QzqwZOtEG6u3Cei4%3D" alt="Android Studio è°ƒè¯•ç•Œé¢" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°†é‡ç‚¹åˆ†äº«åœ¨é€‚é…è¿‡ç¨‹ä¸­è¸©åˆ°çš„å‡ ä¸ªâ€œå‘â€åŠå…¶è§£å†³æ–¹æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. Gradle ç‰ˆæœ¬é—®é¢˜</h3>
<p>è¿™ä¸ªé—®é¢˜é€šå¸¸å‡ºç°åœ¨ Android Studio æ‰“å¼€é¡¹ç›®æ—¶ï¼Œä¸€èˆ¬ä¼šæœ‰æ˜æ˜¾çš„ç‰ˆæœ¬é”™è¯¯æç¤ºã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼šæŒ‰ç…§æç¤ºä¿®æ”¹ <code>gradle-wrapper.properties</code> ä¸­çš„ç‰ˆæœ¬å·ï¼Œç„¶åç‚¹å‡» <strong>File â†’ Sync Project with Gradle Files</strong>ï¼ˆæˆ–å·¥å…·æ çš„åŒæ­¥å›¾æ ‡ ğŸ”„ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14900b67e3004fa4acffc2796cb2e960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703163&amp;x-signature=fTzEO0TSsSxWzOQtMVnc802L5ic%3D" alt="Gradle åŒæ­¥æ“ä½œ" loading="lazy"/></p>
<p>å¦‚æœå¯åŠ¨æ—¶å‡ºç°ç±»ä¼¼ä¸‹é¢çš„é”™è¯¯ï¼ŒåŒæ ·æ‰§è¡Œä¸€æ¬¡åŒæ­¥å³å¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Error <span class="hljs-keyword">running</span> <span class="hljs-string">'xxx'</span>
getGradleProjectPath(<span class="hljs-keyword">Module</span>: <span class="hljs-string">'xxx'</span>)<span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-keyword">null</span>
</code></pre>
<hr/>
<h3 data-id="heading-1">2. nativeSetenv æœªå®ç°å¯¼è‡´é—ªé€€</h3>
<p>æŠ¥é”™ä¿¡æ¯ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">17</span>:<span class="hljs-number">10</span>:<span class="hljs-number">23.913</span>  <span class="hljs-number">5520</span><span class="hljs-number">-5520</span>  .todos.todolist         com.pywebview.todos.todolist         E  No implementation found <span class="hljs-keyword">for</span> <span class="hljs-keyword">void</span> org.libsdl.app.SDLActivity.nativeSetenv(java.lang.<span class="hljs-built_in">String</span>, java.lang.<span class="hljs-built_in">String</span>) (tried Java_org_libsdl_app_SDLActivity_nativeSetenv and Java_org_libsdl_app_SDLActivity_nativeSetenv__Ljava_lang_String_2Ljava_lang_String_2) - <span class="hljs-keyword">is</span> the <span class="hljs-keyword">library</span> loaded, e.g. System.loadLibrary?
</code></pre>
<p>æ ¹æ®å®˜æ–¹è¯´æ˜ï¼Œè¯¥é—®é¢˜é€šå¸¸æ˜¯å› ä¸º Buildozer é…ç½®çš„æ¶æ„ï¼ˆå¦‚ <code>arm</code>ï¼‰ä¸æ¨¡æ‹Ÿå™¨æ¶æ„ï¼ˆå¦‚ <code>x86</code>ï¼‰ä¸åŒ¹é…ã€‚è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ <code>buildozer.spec</code> ä¸­æ·»åŠ  <code>x86</code> æ”¯æŒï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">android.archs</span> = arm64-v8a, armeabi-v7a, x86, x<span class="hljs-number">86_64</span>
</code></pre>
<p>ğŸ’¡æ¸©é¦¨æç¤ºï¼šå®é™…ä¸Šåªæ·»åŠ  <code>x86</code> å³å¯ï¼Œä½†æ·»åŠ å…¶ä»–æ¶æ„ä¹Ÿæ²¡æœ‰å½±å“ï¼Œåªæ˜¯ä¼šç•¥å¾®å¢åŠ åº”ç”¨ä½“ç§¯ã€‚</p>
<hr/>
<h3 data-id="heading-2">3. ERR_CLEARTEXT_NOT_PERMITTED æƒé™é—®é¢˜</h3>
<p>è¯¥é”™è¯¯é€šå¸¸å‡ºç°åœ¨ <strong>Android 9.0ï¼ˆAPI 28ï¼‰åŠä»¥ä¸Šç‰ˆæœ¬</strong>ï¼Œè¡¨ç¤ºåº”ç”¨å°è¯•ä½¿ç”¨ <strong>éåŠ å¯†çš„ HTTP æ˜æ–‡é€šä¿¡</strong>ï¼Œè€Œç³»ç»Ÿé»˜è®¤ç¦æ­¢æ­¤ç±»è¡Œä¸ºã€‚æ¢å¥è¯è¯´ï¼Œä½ è°ƒç”¨çš„æ˜¯ <code>HTTP</code> è€Œä¸æ˜¯ <code>HTTPS</code>ã€‚</p>
<p>æŒ‰ç…§ PyWebView å®˜ç½‘å»ºè®®ï¼Œå¯ä»¥åœ¨å¯åŠ¨è„šæœ¬ä¸­å¯ç”¨ SSLï¼š</p>
<pre><code class="hljs language-python" lang="python">webview.start(ssl=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># å¼€å¯ SSL æ”¯æŒ</span>
</code></pre>
<hr/>
<h3 data-id="heading-3">4. é™æ€èµ„æº 404 é—®é¢˜</h3>
<p>å¦‚æœæ‰“åŒ…æ—¶æœªæ­£ç¡®åŒ…å«å‰ç«¯èµ„æºæ–‡ä»¶ï¼Œåº”ç”¨å¯åŠ¨åå°†æ— æ³•åŠ è½½ HTMLã€CSS æˆ– JS æ–‡ä»¶ã€‚éœ€è¦åœ¨ <code>buildozer.spec</code> ä¸­é…ç½®èµ„æºåŒ…å«è§„åˆ™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">source.dir</span> = .
<span class="hljs-attr">source.include_exts</span> = py,png,jpg,kv,atlas,html,jar,css,js
<span class="hljs-attr">source.include_patterns</span> = frontend/*,backend/*,lib/*,data/*
</code></pre>
<p>ğŸ’¡æ¸©é¦¨æç¤ºï¼šå»ºè®®å°†å¯åŠ¨çš„ Python æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶å‘½åä¸º <code>main.py</code>ã€‚</p>
<p>å¦‚æœé…ç½®åä¾ç„¶æ‰¾ä¸åˆ°èµ„æºï¼Œå¯ä»¥æ£€æŸ¥ Buildozer æ„å»ºç›®å½•ä¸­çš„ <code>app</code> æ–‡ä»¶å¤¹ï¼Œç¡®è®¤èµ„æºæ˜¯å¦å·²è¢«æ­£ç¡®æ‰“åŒ…ï¼š</p>
<pre><code class="hljs">\\wsl.localhost\Ubuntu-22.04\{é¡¹ç›®ç›®å½•}\.buildozer\android\app
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72b9395a0cae4a9283fc50db806fff90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703163&amp;x-signature=AZ1%2BKypUDq5gtIhLZLEgNYk03LM%3D" alt="æ„å»ºç›®å½•ç»“æ„ç¤ºä¾‹" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">5. JS æŠ¥é”™ï¼šTypeError: Cannot read properties of null (reading 'getItem')</h3>
<p>è¿™ä¸ªé—®é¢˜é€šå¸¸æ˜¯å› ä¸ºç§»åŠ¨ç«¯ç¯å¢ƒä¸­ <code>localStorage</code> ä¸å¯ç”¨ã€‚å»ºè®®å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„å­˜å‚¨æ–¹æ¡ˆï¼Œåœ¨ç³»ç»Ÿ <code>localStorage</code> ä¸å¯ç”¨æ—¶è‡ªåŠ¨é™çº§ä½¿ç”¨ã€‚å…·ä½“å®ç°å¯å’¨è¯¢ AI æˆ–å‚è€ƒç›¸å…³å‰ç«¯å…¼å®¹æ€§æ–¹æ¡ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99d5ccd3d96b4534ae8d5c850fbfb3c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703163&amp;x-signature=3dTVAGa9yLHaEp8sWoqqRXIRsUA%3D" alt="è‡ªå®šä¹‰å­˜å‚¨æ–¹æ¡ˆç¤ºæ„" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">ğŸ“¦ è¡¥å……ï¼šbuildozer.spec å…³é”®é…ç½®è¯´æ˜</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[app]</span>

<span class="hljs-comment"># åº”ç”¨åç§°</span>
<span class="hljs-attr">title</span> = todoList

<span class="hljs-comment"># åŒ…å</span>
<span class="hljs-attr">package.name</span> = todoList

<span class="hljs-comment"># åŒ…åŸŸåï¼ˆåå‘åŸŸåé£æ ¼ï¼‰</span>
<span class="hljs-attr">package.domain</span> = com.pywebview.todos

<span class="hljs-comment"># æºç ç›®å½•</span>
<span class="hljs-attr">source.dir</span> = .

<span class="hljs-comment"># åŒ…å«çš„æ–‡ä»¶ç±»å‹</span>
<span class="hljs-attr">source.include_exts</span> = py,png,jpg,kv,atlas,html,jar,css,js

<span class="hljs-comment"># åŒ…å«çš„ç›®å½•ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰</span>
<span class="hljs-attr">source.include_patterns</span> = frontend/*,backend/*,lib/*,data/*

<span class="hljs-comment"># æ’é™¤çš„æ–‡ä»¶ç±»å‹</span>
<span class="hljs-attr">source.exclude_exts</span> = spec

<span class="hljs-comment"># æ’é™¤çš„ç›®å½•</span>
<span class="hljs-attr">source.exclude_dirs</span> = bin,build,dist,docs,logo,tests,pywebview.egg-info

<span class="hljs-comment"># æ’é™¤çš„é€šé…è·¯å¾„</span>
<span class="hljs-attr">source.exclude_patterns</span> = venv*/*/*

<span class="hljs-comment"># åº”ç”¨ç‰ˆæœ¬</span>
<span class="hljs-attr">version</span> = <span class="hljs-number">0.1</span>

<span class="hljs-comment"># ä¾èµ–çš„ Python åŒ…</span>
<span class="hljs-attr">requirements</span> = python3,kivy,pywebview,bottle,proxy-tools,typing_extensions,cryptography

<span class="hljs-comment"># å›¾æ ‡æ–‡ä»¶</span>
<span class="hljs-attr">icon.filename</span> = todo_icon.ico

<span class="hljs-comment"># å±å¹•æ–¹å‘ï¼športraitï¼ˆç«–å±ï¼‰ã€landscapeï¼ˆæ¨ªå±ï¼‰ç­‰</span>
<span class="hljs-attr">orientation</span> = portrait

<span class="hljs-comment"># Python ç‰ˆæœ¬</span>
<span class="hljs-attr">osx.python_version</span> = <span class="hljs-number">3</span>

<span class="hljs-comment"># Kivy ç‰ˆæœ¬ï¼ˆPyWebView åœ¨ç§»åŠ¨ç«¯ä¾èµ– Kivyï¼‰</span>
<span class="hljs-attr">osx.kivy_version</span> = <span class="hljs-number">1.9</span>.<span class="hljs-number">1</span>

<span class="hljs-comment"># æ˜¯å¦å…¨å±</span>
<span class="hljs-attr">fullscreen</span> = <span class="hljs-number">0</span>

<span class="hljs-comment"># å¯åŠ¨ç”»é¢é¢œè‰²</span>
android.presplash_color = <span class="hljs-comment">#FFFFFF</span>

<span class="hljs-comment"># æ‰€éœ€æƒé™</span>
<span class="hljs-attr">android.permissions</span> = INTERNET,WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE

<span class="hljs-comment"># Android ç‰ˆæœ¬é…ç½®</span>
<span class="hljs-attr">android.api</span> = <span class="hljs-number">33</span>
<span class="hljs-attr">android.minapi</span> = <span class="hljs-number">21</span>
<span class="hljs-attr">android.sdk</span> = <span class="hljs-number">33</span>
<span class="hljs-attr">android.ndk</span> = <span class="hljs-number">25</span>b
<span class="hljs-attr">android.ndk_api</span> = <span class="hljs-number">21</span>

<span class="hljs-comment"># åº”ç”¨ä¸»é¢˜ï¼ˆéšè— ActionBarï¼‰</span>
<span class="hljs-attr">android.apptheme</span> = @android:style/Theme.Material.NoActionBar

<span class="hljs-comment"># é¢å¤– JAR åŒ…ï¼ˆå¦‚ pywebview-android.jarï¼‰</span>
<span class="hljs-attr">android.add_jars</span> = lib/pywebview-android.jar

<span class="hljs-comment"># æ”¯æŒçš„ CPU æ¶æ„</span>
<span class="hljs-attr">android.archs</span> = arm64-v8a, armeabi-v7a, x86, x<span class="hljs-number">86_64</span>

<span class="hljs-comment"># å…è®¸ Android è‡ªåŠ¨å¤‡ä»½ï¼ˆAPI â‰¥ 23ï¼‰</span>
<span class="hljs-attr">android.allow_backup</span> = <span class="hljs-literal">True</span>
</code></pre>
<p>æ›´å¤šé…ç½®å¯å‚è€ƒ PyWebView å®˜æ–¹ç¤ºä¾‹ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fr0x0r%2Fpywebview%2Fblob%2Fa2b8d0449b206db75f9f364639b85db6eac7f07e%2Fexamples%2Ftodos%2Fbuildozer.spec" target="_blank" title="https://github.com/r0x0r/pywebview/blob/a2b8d0449b206db75f9f364639b85db6eac7f07e/examples/todos/buildozer.spec" ref="nofollow noopener noreferrer">github.com/r0x0r/pywebâ€¦</a></p>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡è®°å½•èƒ½å¸®åŠ©ä½ é¡ºåˆ©å°† PyWebView åº”ç”¨éƒ¨ç½²åˆ°ç§»åŠ¨ç«¯ã€‚å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€äº¤æµã€‚å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œåˆ«å¿˜äº†ç‚¹èµã€æ”¶è—ä¸å…³æ³¨å“¦ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šä»‹ç»ä¸€ä¸‹SYNæ³›æ´ªæ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589262021562449961</link>    <guid>https://juejin.cn/post/7589262021562449961</guid>    <pubDate>2025-12-30T12:51:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589262021562449961" data-draft-id="7589466238240636970" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šä»‹ç»ä¸€ä¸‹SYNæ³›æ´ªæ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T12:51:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æµ´éœ²z"/> <meta itemprop="url" content="https://juejin.cn/user/1883894812774922"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šä»‹ç»ä¸€ä¸‹SYNæ³›æ´ªæ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1883894812774922/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æµ´éœ²z
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T12:51:09.000Z" title="Tue Dec 30 2025 12:51:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“é¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œä¸è¦è¢« â€œSYN æ³›æ´ªâ€ è¿™ä¸ªåè¯ç»™éœ‡æ…‘åˆ°ï¼Œå…¶å®é¢è¯•å®˜å°±æ˜¯æƒ³çŸ¥é“è®¡ç®—æœºç½‘ç»œä¸­å…³äº DDoS æ”»å‡»å’Œ TCP å»ºç«‹è¿æ¥ä¸‰æ¬¡æ¡æ‰‹çš„ç›¸å…³çŸ¥è¯†çš„è€ƒæ ¸ã€‚ä¸è¦æ‹…å¿ƒï¼Œæ¥ä¸‹æ¥å°†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ SYN æ³›æ´ªåŠå…¶ç›¸å…³çŸ¥è¯†ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ SYN æ³›æ´ªï¼Ÿ</h2>
<p>æ”»å‡»è€…å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡çš„ä¼ªé€ æº IP çš„ SYN æŠ¥æ–‡ï¼ŒæœåŠ¡ç«¯æ¯æ”¶åˆ°ä¸€æ¬¡ SYN è¯·æ±‚å°±ä¼šä¸ºå…¶åˆ†é…èµ„æºï¼Œå†…æ ¸ä¼šæŠŠè¿™ä¸ªè¿æ¥æ”¾åˆ°åŠè¿æ¥é˜Ÿåˆ—é‡Œï¼Œå¹¶å‘å®¢æˆ·ç«¯è¿”å› SYN + ACKï¼Œå¦‚æœå®¢æˆ·ç«¯è¿”å› ACKï¼Œå°±æŠŠå…¶å¯¹åº”çš„è¿æ¥æ”¾åˆ°å…¨è¿æ¥é˜Ÿåˆ—é‡Œã€‚ä½†æ˜¯ç”±äºè¿™äº›ä¼ªé€ çš„å®¢æˆ·ç«¯ä¸ä¼šè¿”å› ACKï¼Œå› æ­¤è¿™äº›è¿æ¥ä¼šä¸€ç›´å¾…åœ¨åŠè¿æ¥é˜Ÿåˆ—é‡Œã€‚æœåŠ¡å™¨ä¸ºäº†ç»´æŠ¤è¿™äº›è¿æ¥ä¼šè€—å°½è‡ªèº«å†…å­˜ï¼Œç„¶åæ‹’ç»ä¸ºåç»­çš„è¿æ¥è¯·æ±‚æœåŠ¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/684f88f433974a3189909755f53b8e22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKQ5rW06Zyyeg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767703868&amp;x-signature=yN2HMb52h6ZmldYUmM7wla48JHE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">å¢å¼ºç½‘ç»œåŸºç¡€æªæ–½</h3>
<p>æå‡ç½‘ç»œå¸¦å®½ã€å¢åŠ æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›å’Œæ‰¿è½½èƒ½åŠ›ï¼Œé€šè¿‡å¢å¼ºåŸºç¡€è®¾æ–½çš„èƒ½åŠ›æ¥æŠµå¾¡æ”»å‡»</p>
<h3 data-id="heading-3">SYN Cookie</h3>
<p>ä½¿ç”¨ SYN Cookie çš„ç›®çš„å°±æ˜¯ç»•è¿‡åŠè¿æ¥é˜Ÿåˆ—çš„æƒ…å†µä¸‹å»ºç«‹è¿æ¥ã€‚æœåŠ¡ç«¯æ”¶åˆ° SYN æŠ¥æ–‡åï¼Œ<strong>ä¸åˆ†é…åŠè¿æ¥èµ„æº</strong>ï¼Œè€Œæ˜¯é€šè¿‡æº IPã€ç›®çš„ IPã€ç«¯å£ã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯ï¼Œç»åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ª â€œSYN Cookieâ€ æ”¾åˆ°ç¬¬äºŒæ¬¡æ¡æ‰‹ SYN+ACK çš„åºåˆ—å·ä¸­ã€‚å®¢æˆ·ç«¯æ”¶åˆ°å¸¦ Cookie çš„ SYN + ACK å¹¶å›å¤ ACK æ—¶ï¼ŒæœåŠ¡ç«¯éªŒè¯åºåˆ—å·çš„åˆæ³•æ€§ï¼Œè‹¥åˆæ³•åˆ™ç›´æ¥å»ºç«‹è¿æ¥ã€‚</p>
<h3 data-id="heading-4">åŠè¿æ¥é˜Ÿåˆ—ä¼˜åŒ–</h3>
<p>å¢å¤§å†…æ ¸å‚æ•°Â <strong>somaxconn</strong>ï¼ˆæœ€å¤§ç›‘å¬é˜Ÿåˆ—é•¿åº¦ï¼‰ï¼Œæå‡æœåŠ¡ç«¯å¤„ç†å¹¶å‘è¿æ¥çš„èƒ½åŠ›ã€‚å‡å°‘Â <strong>tcp_synack_retries</strong>ï¼ˆSYN+ACK æŠ¥æ–‡çš„é‡ä¼ æ¬¡æ•°ï¼Œé»˜è®¤ 5 æ¬¡ï¼Œå¯é™ä½è‡³ 2-3 æ¬¡ï¼‰ï¼Œç¼©çŸ­åŠè¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼ŒåŠ å¿«èµ„æºé‡Šæ”¾ã€‚è°ƒå¤§ netdev_max_backlogè¿™ä¸ªé˜Ÿåˆ—ç”¨äºæ¥æ”¶ç½‘ç»œå¤„ç†ä¸è¿‡æ¥çš„æ•°æ®åŒ…ï¼Œä½†ä¸ªäººæ„Ÿè§‰è°ƒå¤§äº†ç”¨å¤„ä¸å¤§ï¼Œæ”»å‡»è€…ä¼ªé€ çš„ SYN è¯·æ±‚ä¹Ÿèƒ½æ›´å¤§</p>
<h2 data-id="heading-5">æ‹“å±•ï¼šä»€ä¹ˆæ˜¯ DDoS æ”»å‡»ï¼Ÿ</h2>
<p>SYN æ³›æ´ªæ”»å‡»åªæ˜¯ DDoS æ”»å‡»çš„ä¸€ç§ï¼ŒDDoSï¼Œå³åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ã€‚é¡¾åæ€ä¹‰ï¼ŒDDoS æ”»å‡»çš„ç›®çš„å°±æ˜¯é€šè¿‡æŸç§æ‰‹æ®µè®©æ­£å¸¸çš„è¯·æ±‚æ— æ³•è·å¾—å…¶æœåŠ¡ã€‚</p>
<p>æ˜¯é€šè¿‡ä»€ä¹ˆæ‰‹æ®µå‘¢ï¼Ÿæ”»å‡»è€…é€šè¿‡æ§åˆ¶<strong>æµ·é‡åƒµå°¸ä¸»æœºç»„æˆçš„åƒµå°¸ç½‘ç»œ</strong>ï¼Œä»å¤šä¸ªåˆ†å¸ƒå¼èŠ‚ç‚¹åŒæ—¶å‘ç›®æ ‡ï¼ˆæœåŠ¡å™¨ / ç½‘ç»œ / åº”ç”¨ï¼‰å‘èµ·æ¶æ„æµé‡æˆ–è¯·æ±‚ï¼Œè€—å°½å…¶å¸¦å®½ã€CPUã€å†…å­˜ã€è¿æ¥æ•°ç­‰æ ¸å¿ƒèµ„æºï¼Œä½¿ç›®æ ‡æ— æ³•å¤„ç†åˆæ³•ç”¨æˆ·è¯·æ±‚ï¼Œæœ€ç»ˆå¯¼è‡´æœåŠ¡ä¸­æ–­æˆ–ç˜«ç—ªã€‚</p>
<h3 data-id="heading-6">å¸¸è§çš„æ”»å‡»ç±»å‹ï¼š</h3>
<ul>
<li>ç½‘ç»œå±‚æ”»å‡»ï¼Œå¦‚ UDP åå°„æ”»å‡»</li>
<li>ä¼ è¾“å±‚æ”»å‡»ï¼Œå¦‚ SYN æ³›æ´ª</li>
<li>ä¼šè¯å±‚æ”»å‡»ï¼Œå¦‚ SSL è¿æ¥æ”»å‡»</li>
<li>åº”ç”¨å±‚æ”»å‡»ï¼Œå¦‚ DNS æ³›æ´ªï¼ŒHTTP æ³›æ´ª</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Spring Boot é’©å­å…¨é›†å®æˆ˜ï¼ˆå››ï¼‰ï¼š`SpringApplicationRunListener.environmentPrepared()`Â è¯¦è§£]]></title>    <link>https://juejin.cn/post/7589513539845652515</link>    <guid>https://juejin.cn/post/7589513539845652515</guid>    <pubDate>2025-12-30T13:47:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589513539845652515" data-draft-id="7589462007528718370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Spring Boot é’©å­å…¨é›†å®æˆ˜ï¼ˆå››ï¼‰ï¼š`SpringApplicationRunListener.environmentPrepared()`Â è¯¦è§£"/> <meta itemprop="keywords" content="Java,Spring,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-30T13:47:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Webå¤©æ¢¯ä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/2825061103052843"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Spring Boot é’©å­å…¨é›†å®æˆ˜ï¼ˆå››ï¼‰ï¼š`SpringApplicationRunListener.environmentPrepared()`Â è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2825061103052843/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Webå¤©æ¢¯ä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T13:47:03.000Z" title="Tue Dec 30 2025 13:47:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥å‰–æäº†é…ç½®åŠ è½½é˜¶æ®µçš„æ ¸å¿ƒæ‰©å±•ç‚¹Â <code>EnvironmentPostProcessor</code>ï¼Œè§£å†³äº†é…ç½®ä¸­å¿ƒåŒ–ã€åŠ å¯†è§£å¯†ã€åŠ¨æ€è¦†ç›–ç­‰æ ¸å¿ƒé—®é¢˜ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†èšç„¦Â <strong>Spring Boot ç¯å¢ƒå‡†å¤‡å®Œæˆé˜¶æ®µçš„å…³é”®æ‰©å±•ç‚¹</strong>â€”â€”<code>SpringApplicationRunListener.environmentPrepared()</code>ï¼Œå®ƒæ˜¯è¿æ¥ã€Œç¯å¢ƒåˆå§‹åŒ–ã€ä¸ã€Œå®¹å™¨åˆ›å»ºã€çš„æ¡¥æ¢ï¼Œä¹Ÿæ˜¯å®ç°ç¯å¢ƒæ ¡éªŒã€é…ç½®å¢å¼ºã€å¯åŠ¨ä¸Šä¸‹æ–‡ä¼ é€’çš„æ ¸å¿ƒå…¥å£ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯Â <code>environmentPrepared()</code>ï¼Ÿ</h2>
<p><code>SpringApplicationRunListener.environmentPrepared()</code>Â æ˜¯Â <code>SpringApplicationRunListener</code>Â ç”Ÿå‘½å‘¨æœŸä¸­ç¬¬äºŒä¸ªæ ¸å¿ƒå›è°ƒæ–¹æ³•ï¼Œè§¦å‘æ—¶æœºå…·æœ‰æ˜ç¡®çš„è¾¹ç•Œç‰¹å¾ï¼š</p>
<ul>
<li><strong>è§¦å‘æ—¶æœº</strong>ï¼š<code>Environment</code>Â å®Œå…¨åˆå§‹åŒ–ï¼ˆåŒ…å«æ‰€æœ‰Â <code>EnvironmentPostProcessor</code>Â å¤„ç†ç»“æœï¼‰ï¼Œä½†Â <code>ApplicationContext</code>Â å°šæœªåˆ›å»ºï¼›</li>
<li><strong>æ ¸å¿ƒçŠ¶æ€</strong>ï¼šæ‰€æœ‰é…ç½®æºï¼ˆé…ç½®ä¸­å¿ƒã€æœ¬åœ°æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€å¯åŠ¨å‚æ•°ï¼‰å·²åŠ è½½å®Œæˆï¼Œé…ç½®æœ€ç»ˆç”Ÿæ•ˆï¼›</li>
<li><strong>æ‰§è¡Œé¡ºåº</strong>ï¼šæ—©äºÂ <code>ApplicationContext</code>Â åˆå§‹åŒ–ï¼›</li>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šå¯è¯»å–æœ€ç»ˆç”Ÿæ•ˆçš„é…ç½®ã€æ ¡éªŒç¯å¢ƒåˆæ³•æ€§ã€æ‰©å±•ç¯å¢ƒä¸Šä¸‹æ–‡ã€ç»ˆæ­¢éæ³•å¯åŠ¨æµç¨‹ã€‚</li>
</ul>
<blockquote>
<p>âœ…Â <strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šåœ¨å®¹å™¨åˆ›å»ºå‰å¯¹æœ€ç»ˆç”Ÿæ•ˆçš„ç¯å¢ƒåšã€Œæœ€ç»ˆæ ¡éªŒã€å’Œã€Œä¸Šä¸‹æ–‡å¢å¼ºã€ï¼Œæ˜¯æ‹¦æˆªéæ³•ç¯å¢ƒã€ä¼ é€’å¯åŠ¨ä¸Šä¸‹æ–‡çš„æœ€åä¸€é“å…³å¡ã€‚</p>
</blockquote>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯¥æ‰©å±•ç‚¹å¸¸ç”¨äºè§£å†³ã€Œç¯å¢ƒåˆæ³•æ€§æ ¡éªŒã€ã€Œå¯åŠ¨ä¸Šä¸‹æ–‡ä¼ é€’ã€ã€Œå¤šç¯å¢ƒéš”ç¦»å…œåº•ã€ã€Œé…ç½®æœ€ç»ˆå¢å¼ºã€ç­‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€åœºæ™¯ 1ï¼šç¯å¢ƒåˆæ³•æ€§ç»ˆææ ¡éªŒï¼ˆæ‹¦æˆªéæ³•éƒ¨ç½²ï¼‰</h2>
<h3 data-id="heading-2">ä¸šåŠ¡ç—›ç‚¹</h3>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå³ä½¿é€šè¿‡Â <code>EnvironmentPostProcessor</code>Â åšäº†é…ç½®æ ¡éªŒï¼Œä»å¯èƒ½å‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>é…ç½®ä¸­å¿ƒæ‹‰å–çš„é…ç½®ä¸æœ¬åœ°æ®‹ç•™é…ç½®å†²çªï¼Œå¯¼è‡´æœ€ç»ˆç”Ÿæ•ˆé…ç½®éæ³•ï¼›</li>
<li>å¤šç¯å¢ƒé…ç½®å åŠ åè¶…å‡ºåˆç†èŒƒå›´ï¼ˆå¦‚ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æµ‹è¯•æ•°æ®åº“åœ°å€ï¼‰ï¼›</li>
<li>å¯åŠ¨å‚æ•°è¦†ç›–é…ç½®ä¸­å¿ƒé…ç½®ï¼Œå¯¼è‡´ç¯å¢ƒæ±¡æŸ“ï¼›</li>
<li>éæ³•ç¯å¢ƒï¼ˆå¦‚ç”Ÿäº§ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•æœºå™¨ï¼‰æ— æ³•æå‰æ‹¦æˆªã€‚</li>
</ul>
<h3 data-id="heading-3">è§£å†³æ–¹æ¡ˆ</h3>
<p>åŸºäºÂ <code>environmentPrepared()</code>Â å¯¹æœ€ç»ˆç”Ÿæ•ˆçš„ç¯å¢ƒåšã€Œç»ˆææ ¡éªŒã€ï¼Œæ ¡éªŒä¸é€šè¿‡ç›´æ¥ç»ˆæ­¢å¯åŠ¨ï¼Œé¿å…éæ³•éƒ¨ç½²å¯¼è‡´çš„ç”Ÿäº§äº‹æ•…ã€‚</p>
<h4 data-id="heading-4">å®ç°ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.listener;
â€‹
<span class="hljs-keyword">import</span> org.springframework.boot.ConfigurableBootstrapContext;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplicationRunListener;
<span class="hljs-keyword">import</span> org.springframework.core.env.ConfigurableEnvironment;
<span class="hljs-keyword">import</span> org.springframework.core.env.MutablePropertySources;
<span class="hljs-keyword">import</span> org.springframework.core.env.PropertySource;
<span class="hljs-keyword">import</span> org.springframework.util.StringUtils;
â€‹
<span class="hljs-keyword">import</span> java.net.InetAddress;
<span class="hljs-keyword">import</span> java.net.UnknownHostException;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;
â€‹
<span class="hljs-comment">/**
 * ç¯å¢ƒåˆæ³•æ€§ç»ˆææ ¡éªŒç›‘å¬å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EnvValidationRunListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SpringApplicationRunListener</span> {
â€‹
 Â  Â <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå…è®¸çš„IPæ®µï¼ˆç”Ÿäº§ç¯å¢ƒå¯ä»é…ç½®ä¸­å¿ƒ/æƒé™ç³»ç»Ÿè·å–ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Set&lt;String&gt; PROD_ALLOWED_IP_SEGMENTS = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
 Â  Â <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå¿…é¡»çš„é…ç½®å‰ç¼€</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String[] PROD_REQUIRED_CONFIGS = {
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"spring.datasource.url"</span>, <span class="hljs-string">"redis.host"</span>, <span class="hljs-string">"app.prod.mode"</span>, <span class="hljs-string">"app.nacos.server-addr"</span>
 Â   };
 Â  Â <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒç¦æ­¢çš„é…ç½®ç‰¹å¾ï¼ˆé˜²æ­¢æµ‹è¯•é…ç½®æ±¡æŸ“ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String[] PROD_FORBIDDEN_CONFIG_FEATURES = {
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"test-mysql"</span>, <span class="hljs-string">"localhost"</span>, <span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-string">"dev-"</span>
 Â   };
â€‹
 Â  Â <span class="hljs-keyword">static</span> {
 Â  Â  Â  Â <span class="hljs-comment">// åˆå§‹åŒ–ç”Ÿäº§ç¯å¢ƒå…è®¸çš„IPæ®µ</span>
 Â  Â  Â  Â PROD_ALLOWED_IP_SEGMENTS.add(<span class="hljs-string">"10.0."</span>);
 Â  Â  Â  Â PROD_ALLOWED_IP_SEGMENTS.add(<span class="hljs-string">"172.16."</span>);
 Â  Â  Â  Â PROD_ALLOWED_IP_SEGMENTS.add(<span class="hljs-string">"192.168.10."</span>);
 Â   }
â€‹
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">environmentPrepared</span><span class="hljs-params">(ConfigurableBootstrapContext bootstrapContext,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] å¼€å§‹ç»ˆæç¯å¢ƒåˆæ³•æ€§æ ¡éªŒ"</span>);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 1. è·å–æœ€ç»ˆæ¿€æ´»çš„ç¯å¢ƒ</span>
 Â  Â  Â  Â String[] activeProfiles = environment.getActiveProfiles();
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">activeEnv</span> <span class="hljs-operator">=</span> activeProfiles.length &gt; <span class="hljs-number">0</span> ? activeProfiles[<span class="hljs-number">0</span>] : <span class="hljs-string">"dev"</span>;
 Â  Â  Â  Â System.out.printf(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] å½“å‰æ¿€æ´»ç¯å¢ƒï¼š%s%n"</span>, activeEnv);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 2. æŒ‰ç¯å¢ƒæ‰§è¡Œå·®å¼‚åŒ–æ ¡éªŒ</span>
 Â  Â  Â  Â <span class="hljs-keyword">switch</span> (activeEnv) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">"prod"</span>:
 Â  Â  Â  Â  Â  Â  Â  Â validateProdEnvironment(environment);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">break</span>;
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">"test"</span>:
 Â  Â  Â  Â  Â  Â  Â  Â validateTestEnvironment(environment);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">break</span>;
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">"dev"</span>:
 Â  Â  Â  Â  Â  Â  Â  Â validateDevEnvironment(environment);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">break</span>;
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">default</span>:
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ä¸æ”¯æŒçš„ç¯å¢ƒï¼š"</span> + activeEnv);
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ç¯å¢ƒåˆæ³•æ€§æ ¡éªŒé€šè¿‡"</span>);
 Â   }
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * ç”Ÿäº§ç¯å¢ƒç»ˆææ ¡éªŒ
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validateProdEnvironment</span><span class="hljs-params">(ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â <span class="hljs-keyword">try</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒ1ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»éƒ¨ç½²åœ¨æŒ‡å®šIPæ®µ</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> InetAddress.getLocalHost().getHostAddress();
 Â  Â  Â  Â  Â  Â <span class="hljs-type">boolean</span> <span class="hljs-variable">isAllowedIp</span> <span class="hljs-operator">=</span> PROD_ALLOWED_IP_SEGMENTS.stream().anyMatch(ip::startsWith);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (!isAllowedIp) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â String.format(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²åœ¨éæ³•IPæ®µï¼š%sï¼Œä»…å…è®¸ï¼š%s"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ip, PROD_ALLOWED_IP_SEGMENTS)
 Â  Â  Â  Â  Â  Â  Â   );
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒ2ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»åŒ…å«æ ¸å¿ƒé…ç½®</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String configKey : PROD_REQUIRED_CONFIGS) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> environment.getProperty(configKey);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (!StringUtils.hasText(value)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ç”Ÿäº§ç¯å¢ƒç¼ºå¤±æ ¸å¿ƒé…ç½®ï¼š"</span> + configKey);
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒ3ï¼šç”Ÿäº§ç¯å¢ƒç¦æ­¢åŒ…å«æµ‹è¯•é…ç½®ç‰¹å¾</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-type">MutablePropertySources</span> <span class="hljs-variable">propertySources</span> <span class="hljs-operator">=</span> environment.getPropertySources();
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (PropertySource&lt;?&gt; propertySource : propertySources) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (propertySource.getName().startsWith(<span class="hljs-string">"system"</span>)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">continue</span>;
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String forbiddenFeature : PROD_FORBIDDEN_CONFIG_FEATURES) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String configKey : PROD_REQUIRED_CONFIGS) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> environment.getProperty(configKey);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (StringUtils.hasText(value) &amp;&amp; value.contains(forbiddenFeature)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â String.format(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ç”Ÿäº§ç¯å¢ƒé…ç½®åŒ…å«éæ³•ç‰¹å¾ï¼š%s = %sï¼ˆç¦æ­¢ç‰¹å¾ï¼š%sï¼‰"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â configKey, value, forbiddenFeature)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   );
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒ4ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»å¼€å¯ç”Ÿäº§æ¨¡å¼</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">prodMode</span> <span class="hljs-operator">=</span> environment.getProperty(<span class="hljs-string">"app.prod.mode"</span>);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (!<span class="hljs-string">"true"</span>.equals(prodMode)) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] ç”Ÿäº§ç¯å¢ƒæœªå¼€å¯ç”Ÿäº§æ¨¡å¼ï¼šapp.prod.mode = "</span> + prodMode);
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â   } <span class="hljs-keyword">catch</span> (UnknownHostException e) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] è·å–ç”Ÿäº§æœºå™¨IPå¤±è´¥"</span>, e);
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æµ‹è¯•ç¯å¢ƒæ ¡éªŒ
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validateTestEnvironment</span><span class="hljs-params">(ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒç¦æ­¢ä½¿ç”¨ç”Ÿäº§é…ç½®ä¸­å¿ƒåœ°å€</span>
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">nacosAddr</span> <span class="hljs-operator">=</span> environment.getProperty(<span class="hljs-string">"app.nacos.server-addr"</span>);
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (StringUtils.hasText(nacosAddr) &amp;&amp; nacosAddr.contains(<span class="hljs-string">"prod-nacos"</span>)) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] æµ‹è¯•ç¯å¢ƒä½¿ç”¨ç”Ÿäº§é…ç½®ä¸­å¿ƒï¼š"</span> + nacosAddr);
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒæ—¥å¿—çº§åˆ«å¿…é¡»ä¸ºDEBUG</span>
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">logLevel</span> <span class="hljs-operator">=</span> environment.getProperty(<span class="hljs-string">"app.log.level"</span>);
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (!<span class="hljs-string">"DEBUG"</span>.equals(logLevel)) {
 Â  Â  Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] æµ‹è¯•ç¯å¢ƒæ—¥å¿—çº§åˆ«éDEBUGï¼Œè‡ªåŠ¨ä¿®æ­£ä¸ºDEBUG"</span>);
 Â  Â  Â  Â  Â  Â environment.getSystemProperties().put(<span class="hljs-string">"app.log.level"</span>, <span class="hljs-string">"DEBUG"</span>);
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * å¼€å‘ç¯å¢ƒæ ¡éªŒ
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validateDevEnvironment</span><span class="hljs-params">(ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â <span class="hljs-comment">// å¼€å‘ç¯å¢ƒå…è®¸å®½æ¾æ ¡éªŒï¼Œä»…æç¤ºéæ ¸å¿ƒé—®é¢˜</span>
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">dbUrl</span> <span class="hljs-operator">=</span> environment.getProperty(<span class="hljs-string">"spring.datasource.url"</span>);
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (StringUtils.hasText(dbUrl) &amp;&amp; dbUrl.contains(<span class="hljs-string">"prod"</span>)) {
 Â  Â  Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ç¯å¢ƒæ ¡éªŒ] è­¦å‘Šï¼šå¼€å‘ç¯å¢ƒä½¿ç”¨ç”Ÿäº§æ•°æ®åº“åœ°å€ï¼Œè¯·æ³¨æ„ï¼"</span>);
 Â  Â  Â   }
 Â   }
}
</code></pre>
<h4 data-id="heading-5">é…ç½®åŠ è½½</h4>
<p>åœ¨Â <code>resources/META-INF/spring.factories</code>Â ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.SpringApplicationRunListener</span>=\
com.example.demo.listener.EnvValidationRunListener
</code></pre>
<h4 data-id="heading-6">å¯åŠ¨æµ‹è¯•ï¼ˆç”Ÿäº§ç¯å¢ƒéæ³• IP éƒ¨ç½²ï¼‰</h4>
<p>å¯åŠ¨å‚æ•°ï¼š<code>--spring.profiles.active=prod</code>æœºå™¨ IPï¼š<code>192.168.1.100</code>ï¼ˆä¸åœ¨ç”Ÿäº§å…è®¸ IP æ®µï¼‰</p>
<h4 data-id="heading-7">é”™è¯¯è¾“å‡º</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-attr">[ç¯å¢ƒæ ¡éªŒ]</span> å¼€å§‹ç»ˆæç¯å¢ƒåˆæ³•æ€§æ ¡éªŒ
<span class="hljs-selector-attr">[ç¯å¢ƒæ ¡éªŒ]</span> å½“å‰æ¿€æ´»ç¯å¢ƒï¼š<span class="hljs-selector-tag">prod</span>
<span class="hljs-number">2025</span><span class="hljs-selector-tag">-12-14T21</span>:<span class="hljs-number">15</span>:<span class="hljs-number">17.906</span>+<span class="hljs-number">08</span>:<span class="hljs-number">00</span> <span class="hljs-selector-tag">ERROR</span> <span class="hljs-number">22746</span> <span class="hljs-selector-tag">---</span> <span class="hljs-selector-attr">[ Â  Â  Â  Â  Â  main]</span> <span class="hljs-selector-tag">o</span><span class="hljs-selector-class">.s</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span> Â  Â  Â  Â  Â  Â  Â  : <span class="hljs-selector-tag">Application</span> <span class="hljs-selector-tag">run</span> <span class="hljs-selector-tag">failed</span>
â€‹
<span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.IllegalStateException</span>: <span class="hljs-selector-attr">[ç¯å¢ƒæ ¡éªŒ]</span> ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²åœ¨éæ³•<span class="hljs-selector-tag">IP</span>æ®µï¼š<span class="hljs-number">127.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1</span>ï¼Œä»…å…è®¸ï¼š<span class="hljs-selector-attr">[10.0., 172.16., 192.168.10.]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.listener</span><span class="hljs-selector-class">.EnvValidationRunListener</span><span class="hljs-selector-class">.validateProdEnvironment</span>(EnvValidationRunListener.<span class="hljs-attribute">java</span>:<span class="hljs-number">76</span>) ~<span class="hljs-selector-attr">[classes/:na]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.listener</span><span class="hljs-selector-class">.EnvValidationRunListener</span><span class="hljs-selector-class">.environmentPrepared</span>(EnvValidationRunListener.<span class="hljs-attribute">java</span>:<span class="hljs-number">51</span>) ~<span class="hljs-selector-attr">[classes/:na]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.lambda</span>$<span class="hljs-selector-tag">environmentPrepared</span>$<span class="hljs-number">2</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">64</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.base</span>/<span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Iterable</span><span class="hljs-selector-class">.forEach</span>(Iterable.<span class="hljs-attribute">java</span>:<span class="hljs-number">75</span>) ~<span class="hljs-selector-attr">[na:na]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.doWithListeners</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">118</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.doWithListeners</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">112</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.environmentPrepared</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">63</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.prepareEnvironment</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">353</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">313</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">1361</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">1350</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
 Â   <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.DemoApplication</span><span class="hljs-selector-class">.main</span>(DemoApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">11</span>) ~<span class="hljs-selector-attr">[classes/:na]</span>
</code></pre>
<h4 data-id="heading-8">ç”Ÿäº§ä»·å€¼</h4>
<ul>
<li>æ‹¦æˆªéæ³•éƒ¨ç½²ï¼ˆå¦‚ç”Ÿäº§ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•æœºå™¨ã€æµ‹è¯•é…ç½®æ±¡æŸ“ç”Ÿäº§ç¯å¢ƒï¼‰ï¼›</li>
<li>å¯¹æœ€ç»ˆç”Ÿæ•ˆçš„é…ç½®åšå…œåº•æ ¡éªŒï¼Œé¿å…é…ç½®å åŠ å¯¼è‡´çš„éšæ€§é—®é¢˜ï¼›</li>
<li>æŒ‰ç¯å¢ƒå·®å¼‚åŒ–æ ¡éªŒï¼Œå…¼é¡¾ç”Ÿäº§ç¯å¢ƒä¸¥æ ¼æ€§å’Œå¼€å‘ç¯å¢ƒçµæ´»æ€§ï¼›</li>
<li>æå‰ç»ˆæ­¢éæ³•å¯åŠ¨æµç¨‹ï¼Œé¿å…åº”ç”¨å¯åŠ¨åå‡ºç°ç”Ÿäº§äº‹æ•…ã€‚</li>
</ul>
<h2 data-id="heading-9">ä¸‰ã€åœºæ™¯ 2ï¼šå¯åŠ¨ä¸Šä¸‹æ–‡ä¼ é€’ï¼ˆè·¨ç”Ÿå‘½å‘¨æœŸå…±äº«æ•°æ®ï¼‰</h2>
<h3 data-id="heading-10">ä¸šåŠ¡ç—›ç‚¹</h3>
<p>Spring Boot å¯åŠ¨ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸åŒæ‰©å±•ç‚¹ä¹‹é—´éœ€è¦å…±äº«ä¸Šä¸‹æ–‡æ•°æ®ï¼Œä½†å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><code>EnvironmentPostProcessor</code>Â ä¸­ç”Ÿæˆçš„ä¸Šä¸‹æ–‡æ•°æ®ï¼ˆå¦‚é…ç½®ä¸­å¿ƒæ‹‰å–çš„å…ƒæ•°æ®ï¼‰æ— æ³•ä¼ é€’åˆ°Â <code>ApplicationContext</code>Â åˆå§‹åŒ–é˜¶æ®µï¼›</li>
<li>å¯åŠ¨å‚æ•°è§£æç»“æœã€ç¯å¢ƒæ ¡éªŒç»“æœéœ€è¦åœ¨å®¹å™¨åˆ›å»ºåè¢«Â <code>@Configuration</code>Â ç±»è¯»å–ï¼›</li>
<li>å¤šæ‰©å±•ç‚¹ä¹‹é—´å…±äº«æ•°æ®éœ€è¦ä¾èµ–å…¨å±€å˜é‡ï¼Œæ˜“å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-11">è§£å†³æ–¹æ¡ˆ</h3>
<p>åŸºäºÂ <code>environmentPrepared()</code>Â å°†å¯åŠ¨ä¸Šä¸‹æ–‡æ•°æ®æ³¨å…¥åˆ°Â <code>Environment</code>Â çš„ã€Œè‡ªå®šä¹‰å±æ€§æºã€ä¸­ï¼Œå®ç°è·¨ç”Ÿå‘½å‘¨æœŸçš„ä¸Šä¸‹æ–‡ä¼ é€’ï¼Œä¸”å¤©ç„¶æ”¯æŒçº¿ç¨‹å®‰å…¨ã€‚</p>
<h4 data-id="heading-12">å®ç°ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.listener;
â€‹
<span class="hljs-keyword">import</span> org.springframework.boot.ConfigurableBootstrapContext;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplicationRunListener;
<span class="hljs-keyword">import</span> org.springframework.core.env.ConfigurableEnvironment;
<span class="hljs-keyword">import</span> org.springframework.core.env.MapPropertySource;
<span class="hljs-keyword">import</span> org.springframework.core.env.MutablePropertySources;
â€‹
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.UUID;
â€‹
<span class="hljs-comment">/**
 * å¯åŠ¨ä¸Šä¸‹æ–‡ä¼ é€’ç›‘å¬å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextTransferRunListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SpringApplicationRunListener</span> {
â€‹
 Â  Â <span class="hljs-comment">// ä¸Šä¸‹æ–‡å±æ€§æºåç§°ï¼ˆç¡®ä¿å”¯ä¸€æ€§ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONTEXT_PROPERTY_SOURCE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"bootStartupContext"</span>;
â€‹
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title function_">ContextTransferRunListener</span><span class="hljs-params">(SpringApplication application, String[] args)</span> {
 Â   }
â€‹
â€‹
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">environmentPrepared</span><span class="hljs-params">(ConfigurableBootstrapContext bootstrapContext,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ä¸Šä¸‹æ–‡ä¼ é€’] å¼€å§‹æ„å»ºå¹¶æ³¨å…¥å¯åŠ¨ä¸Šä¸‹æ–‡"</span>);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 1. æ„å»ºå¯åŠ¨ä¸Šä¸‹æ–‡æ•°æ®</span>
 Â  Â  Â  Â Map&lt;String, Object&gt; startupContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
 Â  Â  Â  Â <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€å¯åŠ¨IDï¼ˆç”¨äºé“¾è·¯è¿½è¸ªï¼‰</span>
 Â  Â  Â  Â startupContext.put(<span class="hljs-string">"app.startup.id"</span>, UUID.randomUUID().toString());
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•å¯åŠ¨æ—¶é—´æˆ³</span>
 Â  Â  Â  Â startupContext.put(<span class="hljs-string">"app.startup.timestamp"</span>, System.currentTimeMillis());
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•æ¿€æ´»ç¯å¢ƒ</span>
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">activeEnv</span> <span class="hljs-operator">=</span> environment.getActiveProfiles().length &gt; <span class="hljs-number">0</span> ?
 Â  Â  Â  Â  Â  Â  Â  Â environment.getActiveProfiles()[<span class="hljs-number">0</span>] : <span class="hljs-string">"dev"</span>;
 Â  Â  Â  Â startupContext.put(<span class="hljs-string">"app.startup.activeEnv"</span>, activeEnv);
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•é…ç½®ä¸­å¿ƒå…ƒæ•°æ®</span>
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">configCenterVersion</span> <span class="hljs-operator">=</span> environment.getProperty(<span class="hljs-string">"config.center.version"</span>, <span class="hljs-string">"unknown"</span>);
 Â  Â  Â  Â startupContext.put(<span class="hljs-string">"app.startup.configVersion"</span>, configCenterVersion);
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•æœºå™¨ä¿¡æ¯</span>
 Â  Â  Â  Â startupContext.put(<span class="hljs-string">"app.startup.hostname"</span>, System.getenv(<span class="hljs-string">"HOSTNAME"</span>) == <span class="hljs-literal">null</span> ?
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-string">"unknown"</span> : System.getenv(<span class="hljs-string">"HOSTNAME"</span>));
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 2. å°†ä¸Šä¸‹æ–‡æ³¨å…¥Environmentï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼Œé¿å…è¦†ç›–ä¸šåŠ¡é…ç½®ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-type">MutablePropertySources</span> <span class="hljs-variable">propertySources</span> <span class="hljs-operator">=</span> environment.getPropertySources();
 Â  Â  Â  Â propertySources.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MapPropertySource</span>(CONTEXT_PROPERTY_SOURCE_NAME, startupContext));
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 3. æ‰“å°ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨SLF4Jï¼‰</span>
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ä¸Šä¸‹æ–‡ä¼ é€’] å¯åŠ¨ä¸Šä¸‹æ–‡æ³¨å…¥å®Œæˆï¼š"</span>);
 Â  Â  Â  Â startupContext.forEach((key, value) -&gt;
 Â  Â  Â  Â  Â  Â  Â  Â System.out.printf(<span class="hljs-string">"[ä¸Šä¸‹æ–‡ä¼ é€’] %s = %s%n"</span>, key, value));
 Â   }
â€‹
 Â  Â <span class="hljs-comment">// æä¾›é™æ€æ–¹æ³•ï¼Œæ–¹ä¾¿å…¶ä»–æ‰©å±•ç‚¹/é…ç½®ç±»è¯»å–ä¸Šä¸‹æ–‡</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map&lt;String, Object&gt; <span class="hljs-title function_">getStartupContext</span><span class="hljs-params">(ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â <span class="hljs-type">MapPropertySource</span> <span class="hljs-variable">propertySource</span> <span class="hljs-operator">=</span> (MapPropertySource) environment.getPropertySources()
 Â  Â  Â  Â  Â  Â  Â   .get(CONTEXT_PROPERTY_SOURCE_NAME);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> propertySource != <span class="hljs-literal">null</span> ? propertySource.getSource() : <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
 Â   }
}
</code></pre>
<h4 data-id="heading-13">é…ç½®åŠ è½½</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.SpringApplicationRunListener</span>=\
com.example.demo.listener.ContextTransferRunListener
</code></pre>
<h4 data-id="heading-14">åœ¨Â <code>@Configuration</code>Â ä¸­è¯»å–ä¸Šä¸‹æ–‡</h4>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">demo</span>.<span class="hljs-property">config</span>;
â€‹
<span class="hljs-keyword">import</span> com.<span class="hljs-property">example</span>.<span class="hljs-property">demo</span>.<span class="hljs-property">listener</span>.<span class="hljs-property">ContextTransferRunListener</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">context</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Bean</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">context</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Configuration</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">core</span>.<span class="hljs-property">env</span>.<span class="hljs-property">ConfigurableEnvironment</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">core</span>.<span class="hljs-property">env</span>.<span class="hljs-property">Environment</span>;
â€‹
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Map</span>;
â€‹
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StartupContextConfig</span> {
â€‹
 Â  Â <span class="hljs-meta">@Bean</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">startupId</span>(<span class="hljs-params">Environment environment</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// è¯»å–å¯åŠ¨ä¸Šä¸‹æ–‡</span>
 Â  Â  Â  Â <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; startupContext = <span class="hljs-title class_">ContextTransferRunListener</span>.<span class="hljs-title function_">getStartupContext</span>((<span class="hljs-title class_">ConfigurableEnvironment</span>) environment);
 Â  Â  Â  Â <span class="hljs-title class_">String</span> startupId = (<span class="hljs-title class_">String</span>) startupContext.<span class="hljs-title function_">get</span>(<span class="hljs-string">"app.startup.id"</span>);
 Â  Â  Â  Â <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">printf</span>(<span class="hljs-string">"[é…ç½®ç±»] è¯»å–åˆ°å¯åŠ¨IDï¼š%s%n"</span>, startupId);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> startupId;
 Â   }
}
</code></pre>
<h4 data-id="heading-15">è¾“å‡º</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> å¼€å§‹æ„å»ºå¹¶æ³¨å…¥å¯åŠ¨ä¸Šä¸‹æ–‡
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> å¯åŠ¨ä¸Šä¸‹æ–‡æ³¨å…¥å®Œæˆï¼š
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> <span class="hljs-attr">app.startup.id</span> = a59314ec-<span class="hljs-number">6</span>d2f-<span class="hljs-number">46</span>bc-<span class="hljs-number">9435</span>-eb8f6bd118be
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> <span class="hljs-attr">app.startup.timestamp</span> = <span class="hljs-number">1765718508354</span>
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> <span class="hljs-attr">app.startup.activeEnv</span> = prod
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> <span class="hljs-attr">app.startup.configVersion</span> = unknown
<span class="hljs-section">[ä¸Šä¸‹æ–‡ä¼ é€’]</span> <span class="hljs-attr">app.startup.hostname</span> = unknown
â€‹
  . Â  ____ Â  Â  Â  Â   _ Â  Â  Â  Â  Â   __ _ _
 /\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )___ | '_ | '_| | '_ / _` | \ \ \ \
 \/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |___, | / / / /
 =========|_|==============|___/=/_/_/_/
â€‹
 :: Spring Boot :: Â  Â  Â  Â  Â  Â  Â   (v3.5.8)
â€‹
2025-12-14T21:21:48.383+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> com.example.demo.DemoApplication Â  Â  Â  Â  : Starting DemoApplication using Java 21.0.9 with PID 22847 (/Users/wangmingfei/Documents/ä¸ªäºº/05 javaå¤©æ¢¯ä¹‹è·¯/01 æºç /03 æ¯æ—¥æ‰“å¡ç³»åˆ—/daily-check-in/springbooté’©å­/demo/target/classes started by wangmingfei in /Users/wangmingfei/Documents/ä¸ªäºº/05 javaå¤©æ¢¯ä¹‹è·¯/01 æºç /03 æ¯æ—¥æ‰“å¡ç³»åˆ—/daily-check-in/springbooté’©å­/demo)
2025-12-14T21:21:48.384+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> com.example.demo.DemoApplication Â  Â  Â  Â  : The following 1 profile is active: "prod"
2025-12-14T21:21:48.693+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-14T21:21:48.698+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> o.apache.catalina.core.StandardService Â  : Starting service <span class="hljs-section">[Tomcat]</span>
2025-12-14T21:21:48.699+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> o.apache.catalina.core.StandardEngine Â   : Starting Servlet engine: <span class="hljs-section">[Apache Tomcat/10.1.49]</span>
2025-12-14T21:21:48.716+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> o.a.c.c.C.<span class="hljs-section">[Tomcat]</span>.<span class="hljs-section">[localhost]</span>.<span class="hljs-section">[/]</span> Â  Â  Â  : Initializing Spring embedded WebApplicationContext
2025-12-14T21:21:48.716+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 317 ms
<span class="hljs-section">[é…ç½®ç±»]</span> è¯»å–åˆ°å¯åŠ¨IDï¼ša59314ec-6d2f-46bc-9435-eb8f6bd118be
2025-12-14T21:21:48.846+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-14T21:21:48.850+08:00  INFO 22847 --- <span class="hljs-section">[ Â  Â  Â  Â  Â  main]</span> com.example.demo.DemoApplication Â  Â  Â  Â  : Started DemoApplication in 0.655 seconds (process running for 0.798)
</code></pre>
<h4 data-id="heading-16">ç”Ÿäº§ä»·å€¼</h4>
<ul>
<li>å®ç°è·¨å¯åŠ¨ç”Ÿå‘½å‘¨æœŸçš„ä¸Šä¸‹æ–‡å…±äº«ï¼Œæ›¿ä»£å…¨å±€å˜é‡ï¼Œé¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼›</li>
<li>å¯åŠ¨ä¸Šä¸‹æ–‡å¯åŒ…å«é“¾è·¯è¿½è¸ª IDã€é…ç½®ç‰ˆæœ¬ã€æœºå™¨ä¿¡æ¯ç­‰ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥ï¼›</li>
<li>ä¸Šä¸‹æ–‡æ•°æ®å¯è¢«Â <code>@Configuration</code>ã€<code>@Value</code>ã€å…¶ä»–æ‰©å±•ç‚¹è¯»å–ï¼Œä½¿ç”¨çµæ´»ï¼›</li>
<li>ä¸Šä¸‹æ–‡æ³¨å…¥åˆ°Â <code>Environment</code>Â ä¸­ï¼Œç¬¦åˆ Spring ç”Ÿæ€è§„èŒƒï¼Œæ˜“äºæ‰©å±•ã€‚</li>
</ul>
<h2 data-id="heading-17">å››ã€åœºæ™¯ 3ï¼šå¤šç¯å¢ƒéš”ç¦»å…œåº•ï¼ˆé˜²æ­¢é…ç½®é€ƒé€¸ï¼‰</h2>
<h3 data-id="heading-18">ä¸šåŠ¡ç—›ç‚¹</h3>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤šç¯å¢ƒé…ç½®éš”ç¦»å¸¸å‡ºç°ã€Œé…ç½®é€ƒé€¸ã€é—®é¢˜ï¼š</p>
<ul>
<li>æµ‹è¯•ç¯å¢ƒçš„é…ç½®é€šè¿‡é…ç½®ä¸­å¿ƒç°åº¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼›</li>
<li>å¯åŠ¨å‚æ•°Â <code>--spring.profiles.active</code>Â è¢«ç¯¡æ”¹ï¼Œå¯¼è‡´ç”Ÿäº§ç¯å¢ƒåŠ è½½æµ‹è¯•é…ç½®ï¼›</li>
<li>å®¹å™¨åŒ–éƒ¨ç½²æ—¶ï¼Œç¯å¢ƒå˜é‡è¦†ç›–å¯¼è‡´å¤šç¯å¢ƒé…ç½®æ··ä¹±ï¼›</li>
<li>é…ç½®ä¸­å¿ƒçš„å¤šç¯å¢ƒé…ç½®éš”ç¦»å¤±æ•ˆï¼Œå‡ºç°è·¨ç¯å¢ƒé…ç½®æ³„éœ²ã€‚</li>
</ul>
<h3 data-id="heading-19">è§£å†³æ–¹æ¡ˆ</h3>
<p>åŸºäºÂ <code>environmentPrepared()</code>Â å®ç°å¤šç¯å¢ƒéš”ç¦»å…œåº•ï¼Œå¼ºåˆ¶ç»‘å®šã€Œç¯å¢ƒæ ‡è¯†ã€ä¸ã€Œé…ç½®ç‰¹å¾ã€ï¼Œå³ä½¿å‰é¢çš„é…ç½®å¤„ç†ç¯èŠ‚å‡ºç°é—®é¢˜ï¼Œä¹Ÿèƒ½é€šè¿‡å…œåº•è§„åˆ™ç¡®ä¿ç¯å¢ƒéš”ç¦»ã€‚</p>
<h4 data-id="heading-20">å®ç°ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.listener;
â€‹
<span class="hljs-keyword">import</span> org.springframework.boot.ConfigurableBootstrapContext;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplicationRunListener;
<span class="hljs-keyword">import</span> org.springframework.core.env.ConfigurableEnvironment;
<span class="hljs-keyword">import</span> org.springframework.core.env.MutablePropertySources;
<span class="hljs-keyword">import</span> org.springframework.core.env.PropertySource;
<span class="hljs-keyword">import</span> org.springframework.util.StringUtils;
â€‹
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
â€‹
<span class="hljs-comment">/**
 * å¤šç¯å¢ƒéš”ç¦»å…œåº•ç›‘å¬å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EnvIsolationRunListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SpringApplicationRunListener</span> {
â€‹
 Â  Â <span class="hljs-comment">// ç¯å¢ƒ-é…ç½®ç‰¹å¾ç»‘å®šè§„åˆ™ï¼ˆç”Ÿäº§ç¯å¢ƒå¯ä»é…ç½®ä¸­å¿ƒåŠ è½½ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, EnvConfigRule&gt; ENV_CONFIG_RULES = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
â€‹
 Â  Â <span class="hljs-keyword">static</span> {
 Â  Â  Â  Â <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒè§„åˆ™</span>
 Â  Â  Â  Â ENV_CONFIG_RULES.put(<span class="hljs-string">"prod"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">EnvConfigRule</span>(
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"prod-mysql"</span>, <span class="hljs-string">"prod-redis"</span>, <span class="hljs-string">"prod-nacos"</span>}, <span class="hljs-comment">// å¿…é¡»åŒ…å«çš„ç‰¹å¾</span>
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"test-"</span>, <span class="hljs-string">"dev-"</span>, <span class="hljs-string">"localhost"</span>} <span class="hljs-comment">// å¿…é¡»æ’é™¤çš„ç‰¹å¾</span>
 Â  Â  Â   ));
 Â  Â  Â  Â <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒè§„åˆ™</span>
 Â  Â  Â  Â ENV_CONFIG_RULES.put(<span class="hljs-string">"test"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">EnvConfigRule</span>(
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"test-mysql"</span>, <span class="hljs-string">"test-redis"</span>},
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"prod-"</span>, <span class="hljs-string">"dev-"</span>}
 Â  Â  Â   ));
 Â  Â  Â  Â <span class="hljs-comment">// å¼€å‘ç¯å¢ƒè§„åˆ™</span>
 Â  Â  Â  Â ENV_CONFIG_RULES.put(<span class="hljs-string">"dev"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">EnvConfigRule</span>(
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"localhost"</span>, <span class="hljs-string">"dev-"</span>},
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"prod-"</span>, <span class="hljs-string">"test-"</span>}
 Â  Â  Â   ));
 Â   }
â€‹
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title function_">EnvIsolationRunListener</span><span class="hljs-params">(SpringApplication application, String[] args)</span> {
 Â   }
â€‹
â€‹
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">environmentPrepared</span><span class="hljs-params">(ConfigurableBootstrapContext bootstrapContext,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ConfigurableEnvironment environment)</span> {
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"[ç¯å¢ƒéš”ç¦»] å¼€å§‹å¤šç¯å¢ƒéš”ç¦»å…œåº•æ ¡éªŒ"</span>);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 1. è·å–æœ€ç»ˆæ¿€æ´»çš„ç¯å¢ƒ</span>
 Â  Â  Â  Â String[] activeProfiles = environment.getActiveProfiles();
 Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">activeEnv</span> <span class="hljs-operator">=</span> activeProfiles.length &gt; <span class="hljs-number">0</span> ? activeProfiles[<span class="hljs-number">0</span>] : <span class="hljs-string">"dev"</span>;
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 2. è·å–å½“å‰ç¯å¢ƒçš„éš”ç¦»è§„åˆ™</span>
 Â  Â  Â  Â <span class="hljs-type">EnvConfigRule</span> <span class="hljs-variable">rule</span> <span class="hljs-operator">=</span> ENV_CONFIG_RULES.get(activeEnv);
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (rule == <span class="hljs-literal">null</span>) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"[ç¯å¢ƒéš”ç¦»] æ— éš”ç¦»è§„åˆ™çš„ç¯å¢ƒï¼š"</span> + activeEnv);
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 3. éå†æ‰€æœ‰é…ç½®æºï¼Œæ ¡éªŒéš”ç¦»è§„åˆ™</span>
 Â  Â  Â  Â <span class="hljs-type">MutablePropertySources</span> <span class="hljs-variable">propertySources</span> <span class="hljs-operator">=</span> environment.getPropertySources();
 Â  Â  Â  Â <span class="hljs-keyword">for</span> (PropertySource&lt;?&gt; propertySource : propertySources) {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è·³è¿‡ç³»ç»Ÿé…ç½®æº</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (propertySource.getName().startsWith(<span class="hljs-string">"system"</span>)) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">continue</span>;
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¸å¿ƒé…ç½®é¡¹æ ¡éªŒ</span>
 Â  Â  Â  Â  Â  Â String[] coreConfigs = {<span class="hljs-string">"spring.datasource.url"</span>, <span class="hljs-string">"redis.host"</span>, <span class="hljs-string">"app.nacos.server-addr"</span>};
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String configKey : coreConfigs) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-type">String</span> <span class="hljs-variable">configValue</span> <span class="hljs-operator">=</span> environment.getProperty(configKey);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (StringUtils.hasText(configValue)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒå¿…é¡»åŒ…å«çš„ç‰¹å¾</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-type">boolean</span> <span class="hljs-variable">containsRequired</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String requiredFeature : rule.requiredFeatures) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (configValue.contains(requiredFeature)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â containsRequired = <span class="hljs-literal">true</span>;
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">break</span>;
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (!containsRequired &amp;&amp; activeEnv.equals(<span class="hljs-string">"prod"</span>)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â String.format(<span class="hljs-string">"[ç¯å¢ƒéš”ç¦»] ç”Ÿäº§ç¯å¢ƒé…ç½®ç¼ºå¤±å¿…éœ€ç‰¹å¾ï¼š%s = %sï¼ˆå¿…éœ€ï¼š%sï¼‰"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â configKey, configValue, String.join(<span class="hljs-string">","</span>, rule.requiredFeatures))
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   );
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ ¡éªŒå¿…é¡»æ’é™¤çš„ç‰¹å¾</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (String forbiddenFeature : rule.forbiddenFeatures) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (configValue.contains(forbiddenFeature)) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â String.format(<span class="hljs-string">"[ç¯å¢ƒéš”ç¦»] %sç¯å¢ƒé…ç½®åŒ…å«éæ³•ç‰¹å¾ï¼š%s = %sï¼ˆç¦æ­¢ï¼š%sï¼‰"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â activeEnv, configKey, configValue, forbiddenFeature)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   );
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// 4. å…œåº•ï¼šå¼ºåˆ¶è®¾ç½®ç¯å¢ƒæ ‡è¯†ï¼ˆé˜²æ­¢é…ç½®é€ƒé€¸ï¼‰</span>
 Â  Â  Â  Â environment.getSystemProperties().put(<span class="hljs-string">"app.env.isolation"</span>, activeEnv);
 Â  Â  Â  Â System.out.printf(<span class="hljs-string">"[ç¯å¢ƒéš”ç¦»] %sç¯å¢ƒéš”ç¦»æ ¡éªŒé€šè¿‡ï¼Œå·²è®¾ç½®éš”ç¦»æ ‡è¯†%n"</span>, activeEnv);
 Â   }
â€‹
 Â  Â <span class="hljs-comment">// ç¯å¢ƒé…ç½®è§„åˆ™å†…éƒ¨ç±»</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EnvConfigRule</span> {
 Â  Â  Â  Â <span class="hljs-keyword">private</span> String[] requiredFeatures; <span class="hljs-comment">// å¿…é¡»åŒ…å«çš„ç‰¹å¾</span>
 Â  Â  Â  Â <span class="hljs-keyword">private</span> String[] forbiddenFeatures; <span class="hljs-comment">// å¿…é¡»æ’é™¤çš„ç‰¹å¾</span>
â€‹
 Â  Â  Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title function_">EnvConfigRule</span><span class="hljs-params">(String[] requiredFeatures, String[] forbiddenFeatures)</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">this</span>.requiredFeatures = requiredFeatures;
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">this</span>.forbiddenFeatures = forbiddenFeatures;
 Â  Â  Â   }
 Â   }
}
</code></pre>
<h4 data-id="heading-21">é…ç½®åŠ è½½</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.SpringApplicationRunListener</span>=\
com.example.demo.listener.EnvIsolationRunListener
</code></pre>
<h4 data-id="heading-22">application.yml</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://test-mysql:3306/prod_db?useSSL=false</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">prod_user</span>
    <span class="hljs-comment"># å¯†æ–‡å­˜å‚¨ï¼Œå‰ç¼€æ ‡è¯†éœ€è¦è§£å¯†</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">encrypt:DC76b3+IyNwp+f/1QxPiIA==</span>
<span class="hljs-attr">redis:</span>
  <span class="hljs-attr">host:</span> <span class="hljs-string">prod-redis:6379</span>
  <span class="hljs-attr">password:</span> <span class="hljs-string">encrypt:DC76b3+IyNwp+f/1QxPiIA==</span>
<span class="hljs-attr">app:</span>
  <span class="hljs-attr">api:</span>
    <span class="hljs-attr">secret:</span> <span class="hljs-string">encrypt:DC76b3+IyNwp+f/1QxPiIA==</span>
</code></pre>
<h4 data-id="heading-23">é”™è¯¯è¾“å‡ºï¼ˆç”Ÿäº§ç¯å¢ƒåŒ…å« test ç‰¹å¾ï¼‰</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-attr">[ç¯å¢ƒéš”ç¦»]</span> å¼€å§‹å¤šç¯å¢ƒéš”ç¦»å…œåº•æ ¡éªŒ
<span class="hljs-number">2025</span><span class="hljs-selector-tag">-12-14T21</span>:<span class="hljs-number">48</span>:<span class="hljs-number">10.802</span>+<span class="hljs-number">08</span>:<span class="hljs-number">00</span> <span class="hljs-selector-tag">ERROR</span> <span class="hljs-number">23312</span> <span class="hljs-selector-tag">---</span> <span class="hljs-selector-attr">[           main]</span> <span class="hljs-selector-tag">o</span><span class="hljs-selector-class">.s</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span>               : <span class="hljs-selector-tag">Application</span> <span class="hljs-selector-tag">run</span> <span class="hljs-selector-tag">failed</span>

<span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.IllegalStateException</span>: <span class="hljs-selector-attr">[ç¯å¢ƒéš”ç¦»]</span> ç”Ÿäº§ç¯å¢ƒé…ç½®ç¼ºå¤±å¿…éœ€ç‰¹å¾ï¼š<span class="hljs-selector-tag">spring</span><span class="hljs-selector-class">.datasource</span><span class="hljs-selector-class">.url</span> = <span class="hljs-selector-tag">jdbc</span>:<span class="hljs-selector-tag">mysql</span>:<span class="hljs-comment">//test-mysql:3306/prod_db?useSSL=falseï¼ˆå¿…éœ€ï¼šprod-mysql,prod-redis,prod-nacosï¼‰</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.listener</span><span class="hljs-selector-class">.EnvIsolationRunListener</span><span class="hljs-selector-class">.environmentPrepared</span>(EnvIsolationRunListener.<span class="hljs-attribute">java</span>:<span class="hljs-number">82</span>) ~<span class="hljs-selector-attr">[classes/:na]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.lambda</span>$<span class="hljs-selector-tag">environmentPrepared</span>$<span class="hljs-number">2</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">64</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.base</span>/<span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Iterable</span><span class="hljs-selector-class">.forEach</span>(Iterable.<span class="hljs-attribute">java</span>:<span class="hljs-number">75</span>) ~<span class="hljs-selector-attr">[na:na]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.doWithListeners</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">118</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.doWithListeners</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">112</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplicationRunListeners</span><span class="hljs-selector-class">.environmentPrepared</span>(SpringApplicationRunListeners.<span class="hljs-attribute">java</span>:<span class="hljs-number">63</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.prepareEnvironment</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">353</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">313</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">1361</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.SpringApplication</span><span class="hljs-selector-class">.run</span>(SpringApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">1350</span>) ~<span class="hljs-selector-attr">[spring-boot-3.5.8.jar:3.5.8]</span>
    <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.DemoApplication</span><span class="hljs-selector-class">.main</span>(DemoApplication.<span class="hljs-attribute">java</span>:<span class="hljs-number">11</span>) ~<span class="hljs-selector-attr">[classes/:na]</span>
</code></pre>
<h4 data-id="heading-24">ç”Ÿäº§ä»·å€¼</h4>
<ul>
<li>å®ç°å¤šç¯å¢ƒé…ç½®éš”ç¦»çš„æœ€åä¸€é“å…œåº•é˜²çº¿ï¼Œé˜²æ­¢é…ç½®é€ƒé€¸ï¼›</li>
<li>å¼ºåˆ¶ç»‘å®šç¯å¢ƒä¸é…ç½®ç‰¹å¾ï¼Œå³ä½¿å‰é¢çš„é…ç½®å¤„ç†ç¯èŠ‚å‡ºé”™ä¹Ÿèƒ½æ‹¦æˆªï¼›</li>
<li>å¯åŠ¨æ€è°ƒæ•´ç¯å¢ƒè§„åˆ™ï¼Œé€‚é…ä¸åŒéƒ¨ç½²æ¶æ„ï¼ˆå¦‚å®¹å™¨åŒ–ã€ç‰©ç†æœºï¼‰ï¼›</li>
<li>é¿å…å› é…ç½®ä¸­å¿ƒéš”ç¦»å¤±æ•ˆã€å¯åŠ¨å‚æ•°ç¯¡æ”¹å¯¼è‡´çš„ç¯å¢ƒæ±¡æŸ“ã€‚</li>
</ul>
<h2 data-id="heading-25">äº”ã€åœºæ™¯ 4ï¼šé…ç½®æœ€ç»ˆå¢å¼ºï¼ˆåŠ¨æ€è°ƒæ•´è¿è¡Œå‚æ•°ï¼‰</h2>
<h3 data-id="heading-26">ä¸šåŠ¡ç—›ç‚¹</h3>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé…ç½®æœ€ç»ˆç”Ÿæ•ˆåä»éœ€è¦æ ¹æ®ç¯å¢ƒç‰¹å¾åŠ¨æ€è°ƒæ•´ï¼š</p>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒéœ€è¦è°ƒå¤§çº¿ç¨‹æ± ã€è¿æ¥æ± å¤§å°ï¼Œæµ‹è¯•ç¯å¢ƒè°ƒå°ï¼›</li>
<li>ç°åº¦æœºå™¨éœ€è¦é™ä½æ—¥å¿—çº§åˆ«ã€å¼€å¯ç›‘æ§é‡‡æ ·ï¼›</li>
<li>ä¸åŒæœºå™¨è§„æ ¼ï¼ˆCPU / å†…å­˜ï¼‰éœ€è¦é€‚é…ä¸åŒçš„ JVM å‚æ•°ã€è¿æ¥æ± å‚æ•°ï¼›</li>
<li>é…ç½®ä¸­å¿ƒçš„é»˜è®¤å‚æ•°æ— æ³•é€‚é…æ‰€æœ‰æœºå™¨çš„ç¡¬ä»¶ç‰¹å¾ã€‚</li>
</ul>
<h3 data-id="heading-27">è§£å†³æ–¹æ¡ˆ</h3>
<p>åŸºäºÂ <code>environmentPrepared()</code>Â åœ¨é…ç½®æœ€ç»ˆç”Ÿæ•ˆåã€å®¹å™¨åˆ›å»ºå‰ï¼Œæ ¹æ®æœºå™¨ç‰¹å¾ã€ç¯å¢ƒç‰¹å¾åŠ¨æ€å¢å¼ºé…ç½®ï¼Œå®ç°ã€Œé…ç½®è‡ªé€‚åº”ã€ã€‚</p>
<h4 data-id="heading-28">å®ç°ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.listener;

<span class="hljs-keyword">import</span> org.springframework.boot.ConfigurableBootstrapContext;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplicationRunListener;
<span class="hljs-keyword">import</span> org.springframework.context.ConfigurableApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.core.env.ConfigurableEnvironment;
<span class="hljs-keyword">import</span> org.springframework.core.env.MutablePropertySources;
<span class="hljs-keyword">import</span> org.springframework.core.env.MapPropertySource;

<span class="hljs-keyword">import</span> java.lang.management.ManagementFactory;
<span class="hljs-keyword">import</span> java.lang.management.OperatingSystemMXBean;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * é…ç½®æœ€ç»ˆå¢å¼ºç›‘å¬å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigEnhanceRunListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SpringApplicationRunListener</span> {


    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">environmentPrepared</span><span class="hljs-params">(ConfigurableBootstrapContext bootstrapContext,
                                    ConfigurableEnvironment environment)</span> {
        System.out.println(<span class="hljs-string">"[é…ç½®å¢å¼º] å¼€å§‹æ ¹æ®æœºå™¨ç‰¹å¾åŠ¨æ€å¢å¼ºé…ç½®"</span>);

        <span class="hljs-comment">// 1. è·å–æœºå™¨ç¡¬ä»¶ä¿¡æ¯</span>
        <span class="hljs-type">OperatingSystemMXBean</span> <span class="hljs-variable">osBean</span> <span class="hljs-operator">=</span> ManagementFactory.getOperatingSystemMXBean();
        <span class="hljs-type">int</span> <span class="hljs-variable">cpuCount</span> <span class="hljs-operator">=</span> osBean.getAvailableProcessors();
        <span class="hljs-comment">// ä¿®å¤ï¼šå…¼å®¹è·å–ç‰©ç†å†…å­˜å¤§å°</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">totalMemory</span> <span class="hljs-operator">=</span> getTotalPhysicalMemorySize(osBean); <span class="hljs-comment">// GB</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">activeEnv</span> <span class="hljs-operator">=</span> environment.getActiveProfiles().length &gt; <span class="hljs-number">0</span> ?
                environment.getActiveProfiles()[<span class="hljs-number">0</span>] : <span class="hljs-string">"dev"</span>;

        <span class="hljs-comment">// 2. æ‰“å°æœºå™¨ä¿¡æ¯</span>
        System.out.printf(<span class="hljs-string">"[é…ç½®å¢å¼º] æœºå™¨ç‰¹å¾ï¼šCPUæ ¸å¿ƒæ•°=%dï¼Œå†…å­˜=%dGBï¼Œç¯å¢ƒ=%s%n"</span>,
                cpuCount, totalMemory, activeEnv);

        <span class="hljs-comment">// 3. åŠ¨æ€å¢å¼ºé…ç½®</span>
        Map&lt;String, Object&gt; enhanceConfig = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"prod"</span>.equals(activeEnv)) {
            <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒï¼šè¿æ¥æ± å¤§å° = CPUæ ¸å¿ƒæ•° * 2</span>
            enhanceConfig.put(<span class="hljs-string">"spring.datasource.hikari.maximum-pool-size"</span>, cpuCount * <span class="hljs-number">2</span>);
            enhanceConfig.put(<span class="hljs-string">"spring.datasource.hikari.minimum-idle"</span>, cpuCount);
            <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒï¼šçº¿ç¨‹æ± å¤§å° = CPUæ ¸å¿ƒæ•° * 4</span>
            enhanceConfig.put(<span class="hljs-string">"app.thread.pool.core-size"</span>, cpuCount * <span class="hljs-number">4</span>);
            enhanceConfig.put(<span class="hljs-string">"app.thread.pool.max-size"</span>, cpuCount * <span class="hljs-number">8</span>);
            <span class="hljs-comment">// å¤§å†…å­˜æœºå™¨ï¼ˆ&gt;16GBï¼‰è°ƒå¤§ç¼“å­˜</span>
            <span class="hljs-keyword">if</span> (totalMemory &gt; <span class="hljs-number">16</span>) {
                enhanceConfig.put(<span class="hljs-string">"spring.cache.redis.time-to-live"</span>, <span class="hljs-string">"3600s"</span>);
                enhanceConfig.put(<span class="hljs-string">"app.redis.pool.max-active"</span>, <span class="hljs-string">"200"</span>);
            } <span class="hljs-keyword">else</span> {
                enhanceConfig.put(<span class="hljs-string">"spring.cache.redis.time-to-live"</span>, <span class="hljs-string">"600s"</span>);
                enhanceConfig.put(<span class="hljs-string">"app.redis.pool.max-active"</span>, <span class="hljs-string">"100"</span>);
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"test"</span>.equals(activeEnv)) {
            <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒï¼šå›ºå®šå°é…ç½®</span>
            enhanceConfig.put(<span class="hljs-string">"spring.datasource.hikari.maximum-pool-size"</span>, <span class="hljs-string">"5"</span>);
            enhanceConfig.put(<span class="hljs-string">"app.thread.pool.core-size"</span>, <span class="hljs-string">"10"</span>);
            enhanceConfig.put(<span class="hljs-string">"spring.cache.redis.time-to-live"</span>, <span class="hljs-string">"60s"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¼€å‘ç¯å¢ƒï¼šæç®€é…ç½®</span>
            enhanceConfig.put(<span class="hljs-string">"spring.datasource.hikari.maximum-pool-size"</span>, <span class="hljs-string">"2"</span>);
            enhanceConfig.put(<span class="hljs-string">"app.thread.pool.core-size"</span>, <span class="hljs-string">"5"</span>);
        }

        <span class="hljs-comment">// 4. ç°åº¦æœºå™¨ç‰¹æ®Šé…ç½®</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">hostname</span> <span class="hljs-operator">=</span> System.getenv(<span class="hljs-string">"HOSTNAME"</span>) == <span class="hljs-literal">null</span> ?
                (System.getenv(<span class="hljs-string">"COMPUTERNAME"</span>) == <span class="hljs-literal">null</span> ? <span class="hljs-string">"unknown"</span> : System.getenv(<span class="hljs-string">"COMPUTERNAME"</span>))
                : System.getenv(<span class="hljs-string">"HOSTNAME"</span>);
        <span class="hljs-keyword">if</span> (hostname.contains(<span class="hljs-string">"gray"</span>)) {
            enhanceConfig.put(<span class="hljs-string">"app.log.level"</span>, <span class="hljs-string">"TRACE"</span>);
            enhanceConfig.put(<span class="hljs-string">"app.monitor.sampling.rate"</span>, <span class="hljs-string">"1.0"</span>); <span class="hljs-comment">// å…¨é‡é‡‡æ ·</span>
            System.out.println(<span class="hljs-string">"[é…ç½®å¢å¼º] ç°åº¦æœºå™¨ï¼Œå¼€å¯å…¨é‡ç›‘æ§é‡‡æ ·"</span>);
        } <span class="hljs-keyword">else</span> {
            enhanceConfig.put(<span class="hljs-string">"app.monitor.sampling.rate"</span>, <span class="hljs-string">"0.1"</span>); <span class="hljs-comment">// 10%é‡‡æ ·</span>
        }

        <span class="hljs-comment">// 5. æ³¨å…¥å¢å¼ºé…ç½®ï¼ˆä¼˜å…ˆçº§é«˜äºé…ç½®ä¸­å¿ƒï¼Œä½äºå¯åŠ¨å‚æ•°ï¼‰</span>
        <span class="hljs-comment">// å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨configCenterPropertiesï¼Œé¿å…æŠ¥é”™</span>
        <span class="hljs-type">MutablePropertySources</span> <span class="hljs-variable">propertySources</span> <span class="hljs-operator">=</span> environment.getPropertySources();
        <span class="hljs-type">String</span> <span class="hljs-variable">targetSource</span> <span class="hljs-operator">=</span> <span class="hljs-string">"configCenterProperties"</span>;
        <span class="hljs-keyword">if</span> (propertySources.contains(targetSource)) {
            propertySources.addBefore(targetSource, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapPropertySource</span>(<span class="hljs-string">"enhanceConfig"</span>, enhanceConfig));
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¦‚æœæ²¡æœ‰é…ç½®ä¸­å¿ƒï¼Œæ·»åŠ åˆ°æœ€åï¼ˆä¿è¯è‡ªå®šä¹‰é…ç½®ç”Ÿæ•ˆï¼‰</span>
            propertySources.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MapPropertySource</span>(<span class="hljs-string">"enhanceConfig"</span>, enhanceConfig));
        }

        <span class="hljs-comment">// 6. æ‰“å°å¢å¼ºç»“æœ</span>
        System.out.println(<span class="hljs-string">"[é…ç½®å¢å¼º] åŠ¨æ€å¢å¼ºé…ç½®å®Œæˆï¼š"</span>);
        enhanceConfig.forEach((key, value) -&gt;
                System.out.printf(<span class="hljs-string">"[é…ç½®å¢å¼º] %s = %s%n"</span>, key, value));
    }

    <span class="hljs-comment">/**
     * å…¼å®¹è·å–ç‰©ç†å†…å­˜å¤§å°ï¼ˆGBï¼‰
     * <span class="hljs-doctag">@param</span> osBean æ“ä½œç³»ç»ŸMXBean
     * <span class="hljs-doctag">@return</span> ç‰©ç†å†…å­˜å¤§å°ï¼ˆGBï¼‰ï¼Œè·å–å¤±è´¥è¿”å›é»˜è®¤å€¼8GB
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getTotalPhysicalMemorySize</span><span class="hljs-params">(OperatingSystemMXBean osBean)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨Sun/Oracle JDKçš„å®ç°</span>
            <span class="hljs-keyword">if</span> (osBean <span class="hljs-keyword">instanceof</span> com.sun.management.OperatingSystemMXBean) {
                com.sun.management.<span class="hljs-type">OperatingSystemMXBean</span> <span class="hljs-variable">sunOsBean</span> <span class="hljs-operator">=</span>
                        (com.sun.management.OperatingSystemMXBean) osBean;
                <span class="hljs-comment">// è½¬æ¢ä¸ºGB</span>
                <span class="hljs-keyword">return</span> sunOsBean.getTotalPhysicalMemorySize() / (<span class="hljs-number">1024L</span> * <span class="hljs-number">1024L</span> * <span class="hljs-number">1024L</span>);
            }

            <span class="hljs-comment">// å…¶ä»–JDKå®ç°çš„å…¼å®¹å¤„ç†ï¼ˆå¦‚OpenJDKï¼‰</span>
            <span class="hljs-comment">// å°è¯•é€šè¿‡åå°„è°ƒç”¨ï¼ˆé˜²æ­¢ç¼–è¯‘æ—¶ä¾èµ–ï¼‰</span>
            java.lang.reflect.<span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> osBean.getClass().getMethod(<span class="hljs-string">"getTotalPhysicalMemorySize"</span>);
            <span class="hljs-keyword">if</span> (method != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">Long</span> <span class="hljs-variable">memorySize</span> <span class="hljs-operator">=</span> (Long) method.invoke(osBean);
                <span class="hljs-keyword">return</span> memorySize / (<span class="hljs-number">1024L</span> * <span class="hljs-number">1024L</span> * <span class="hljs-number">1024L</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.out.println(<span class="hljs-string">"[é…ç½®å¢å¼º] è·å–ç‰©ç†å†…å­˜å¤§å°å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼8GBï¼š"</span> + e.getMessage());
        }

        <span class="hljs-comment">// é»˜è®¤è¿”å›8GB</span>
        <span class="hljs-keyword">return</span> <span class="hljs-number">8L</span>;
    }
}
</code></pre>
<h4 data-id="heading-29">é…ç½®åŠ è½½</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.SpringApplicationRunListener</span>=\
com.example.demo.listener.ConfigEnhanceRunListener
</code></pre>
<h4 data-id="heading-30">è¾“å‡º</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[é…ç½®å¢å¼º]</span> å¼€å§‹æ ¹æ®æœºå™¨ç‰¹å¾åŠ¨æ€å¢å¼ºé…ç½®
<span class="hljs-section">[é…ç½®å¢å¼º]</span> æœºå™¨ç‰¹å¾ï¼šCPUæ ¸å¿ƒæ•°=14ï¼Œå†…å­˜=48GBï¼Œç¯å¢ƒ=prod
<span class="hljs-section">[é…ç½®å¢å¼º]</span> åŠ¨æ€å¢å¼ºé…ç½®å®Œæˆï¼š
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">app.redis.pool.max-active</span> = <span class="hljs-number">200</span>
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">spring.datasource.hikari.maximum-pool-size</span> = <span class="hljs-number">28</span>
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">app.thread.pool.max-size</span> = <span class="hljs-number">112</span>
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">spring.cache.redis.time-to-live</span> = <span class="hljs-number">3600</span>s
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">app.thread.pool.core-size</span> = <span class="hljs-number">56</span>
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">app.monitor.sampling.rate</span> = <span class="hljs-number">0.1</span>
<span class="hljs-section">[é…ç½®å¢å¼º]</span> <span class="hljs-attr">spring.datasource.hikari.minimum-idle</span> = <span class="hljs-number">14</span>

  .   ____          _            __ _ _
 /\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )___ | '_ | '_| | '_ / _` | \ \ \ \
 \/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |___, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.8)

2025-12-14T21:59:21.010+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> com.example.demo.DemoApplication         : Starting DemoApplication using Java 21.0.9 with PID 23462 (/Users/wangmingfei/Documents/ä¸ªäºº/05 javaå¤©æ¢¯ä¹‹è·¯/01 æºç /03 æ¯æ—¥æ‰“å¡ç³»åˆ—/daily-check-in/springbooté’©å­/demo/target/classes started by wangmingfei in /Users/wangmingfei/Documents/ä¸ªäºº/05 javaå¤©æ¢¯ä¹‹è·¯/01 æºç /03 æ¯æ—¥æ‰“å¡ç³»åˆ—/daily-check-in/springbooté’©å­/demo)
2025-12-14T21:59:21.012+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> com.example.demo.DemoApplication         : The following 1 profile is active: "prod"
2025-12-14T21:59:21.326+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-14T21:59:21.332+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> o.apache.catalina.core.StandardService   : Starting service <span class="hljs-section">[Tomcat]</span>
2025-12-14T21:59:21.332+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> o.apache.catalina.core.StandardEngine    : Starting Servlet engine: <span class="hljs-section">[Apache Tomcat/10.1.49]</span>
2025-12-14T21:59:21.345+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> o.a.c.c.C.<span class="hljs-section">[Tomcat]</span>.<span class="hljs-section">[localhost]</span>.<span class="hljs-section">[/]</span>       : Initializing Spring embedded WebApplicationContext
2025-12-14T21:59:21.345+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 319 ms
<span class="hljs-section">[é…ç½®ç±»]</span> è¯»å–åˆ°å¯åŠ¨IDï¼šnull
2025-12-14T21:59:21.478+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-14T21:59:21.482+08:00  INFO 23462 --- <span class="hljs-section">[           main]</span> com.example.demo.DemoApplication         : Started DemoApplication in 0.669 seconds (process running for 0.815)
</code></pre>
<h4 data-id="heading-31">ç”Ÿäº§ä»·å€¼</h4>
<ul>
<li>å®ç°é…ç½®çš„ç¡¬ä»¶è‡ªé€‚åº”ï¼Œå……åˆ†åˆ©ç”¨æœºå™¨èµ„æºï¼›</li>
<li>æŒ‰ç¯å¢ƒå·®å¼‚åŒ–è°ƒæ•´è¿è¡Œå‚æ•°ï¼Œå…¼é¡¾æ€§èƒ½ä¸èµ„æºæ¶ˆè€—ï¼›</li>
<li>ç°åº¦æœºå™¨ç‰¹æ®Šé…ç½®ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥å’Œç›‘æ§ï¼›</li>
<li>æ— éœ€ä¿®æ”¹é…ç½®ä¸­å¿ƒï¼ŒåŠ¨æ€é€‚é…ä¸åŒæœºå™¨è§„æ ¼ã€‚</li>
</ul>
<h2 data-id="heading-32">å…­ã€<code>environmentPrepared()</code>Â ä¸Â <code>EnvironmentPostProcessor</code>Â å¯¹æ¯”</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th><code>EnvironmentPostProcessor</code></th><th><code>SpringApplicationRunListener.environmentPrepared()</code></th></tr></thead><tbody><tr><td>è§¦å‘æ—¶æœº</td><td>Environment åˆå§‹åŒ–ä¸­ï¼ˆé…ç½®åŠ è½½é˜¶æ®µï¼‰</td><td>Environment åˆå§‹åŒ–å®Œæˆï¼ˆé…ç½®æœ€ç»ˆç”Ÿæ•ˆåï¼‰</td></tr><tr><td>æ ¸å¿ƒèƒ½åŠ›</td><td>é…ç½®åŠ è½½ã€ä¿®æ”¹ã€åŠ å¯†è§£å¯†</td><td>ç¯å¢ƒæ ¡éªŒã€ä¸Šä¸‹æ–‡ä¼ é€’ã€é…ç½®å¢å¼ºã€éš”ç¦»å…œåº•</td></tr><tr><td>é…ç½®ä¼˜å…ˆçº§</td><td>å¯ä¿®æ”¹é…ç½®æºï¼Œå½±å“æœ€ç»ˆé…ç½®</td><td>è¯»å–æœ€ç»ˆé…ç½®ï¼Œä»…èƒ½å¢å¼ºï¼ˆæ— æ³•å›æ»šå·²åŠ è½½çš„é…ç½®ï¼‰</td></tr><tr><td>å…¸å‹åœºæ™¯</td><td>é…ç½®ä¸­å¿ƒæ‹‰å–ã€é…ç½®è§£å¯†</td><td>ç¯å¢ƒåˆæ³•æ€§æ ¡éªŒã€å¯åŠ¨ä¸Šä¸‹æ–‡ä¼ é€’</td></tr></tbody></table>
<blockquote>
<p>âœ…Â <strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol start="0">
<li><code>EnvironmentPostProcessor</code>Â è´Ÿè´£ã€Œé…ç½®çš„åŠ è½½ä¸ä¿®æ”¹ã€ï¼›</li>
<li><code>environmentPrepared()</code>Â è´Ÿè´£ã€Œç¯å¢ƒçš„æ ¡éªŒä¸å¢å¼ºã€ï¼›</li>
<li>ä¸¤è€…é…åˆï¼Œå®ç°ã€Œé…ç½®åŠ è½½ - ç¯å¢ƒæ ¡éªŒ - é…ç½®å¢å¼ºã€çš„å®Œæ•´é—­ç¯ã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-33">ä¸ƒã€æ€»ç»“</h2>
<p><code>SpringApplicationRunListener.environmentPrepared()</code>Â æ˜¯ Spring Boot å¯åŠ¨è¿‡ç¨‹ä¸­ã€Œç¯å¢ƒå‡†å¤‡é˜¶æ®µçš„æœ€åä¸€é“å…³å¡ã€ï¼Œæ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ï¼š</p>
<ul>
<li><strong>ç»ˆææ ¡éªŒ</strong>ï¼šå¯¹æœ€ç»ˆç”Ÿæ•ˆçš„ç¯å¢ƒåšåˆæ³•æ€§å…œåº•æ ¡éªŒï¼Œæ‹¦æˆªéæ³•éƒ¨ç½²ï¼›</li>
<li><strong>ä¸Šä¸‹æ–‡ä¼ é€’</strong>ï¼šå®ç°è·¨ç”Ÿå‘½å‘¨æœŸçš„å¯åŠ¨ä¸Šä¸‹æ–‡å…±äº«ï¼Œæ›¿ä»£å…¨å±€å˜é‡ï¼›</li>
<li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šå¼ºåˆ¶ç»‘å®šç¯å¢ƒä¸é…ç½®ç‰¹å¾ï¼Œé˜²æ­¢é…ç½®é€ƒé€¸ï¼›</li>
<li><strong>é…ç½®å¢å¼º</strong>ï¼šæ ¹æ®æœºå™¨ / ç¯å¢ƒç‰¹å¾åŠ¨æ€è°ƒæ•´è¿è¡Œå‚æ•°ï¼Œå®ç°é…ç½®è‡ªé€‚åº”ã€‚</li>
</ul>
<p>ç›¸è¾ƒäºÂ <code>EnvironmentPostProcessor</code>ï¼Œ<code>environmentPrepared()</code>Â æ›´èšç„¦äºã€Œç¯å¢ƒå±‚é¢çš„å…œåº•ä¸å¢å¼ºã€ï¼Œæ˜¯æ„å»ºç”Ÿäº§çº§é«˜å¯é åº”ç”¨çš„å…³é”®æ‰©å±•ç‚¹ã€‚</p>
<p>ğŸ“ŒÂ <strong>å…³æ³¨æˆ‘</strong>ï¼Œæ¯å¤© 5 åˆ†é’Ÿï¼Œå¸¦ä½ ä» Java å°ç™½å˜èº«ç¼–ç¨‹é«˜æ‰‹ï¼</p>
<p>ğŸ‘‰ ç‚¹èµ + å…³æ³¨ + è½¬å‘ï¼Œè®©æ›´å¤šå°ä¼™ä¼´ä¸€èµ·è¿›æ­¥ï¼</p>
<p>ğŸ‘‰ ç§ä¿¡ "SpringBoot é’©å­æºç " è·å–å®Œæ•´æºç ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaçº¿ç¨‹æ± åŒé›„ï¼šForkJoinPool å’Œ ThreadPoolExecutor çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7589454621720199218</link>    <guid>https://juejin.cn/post/7589454621720199218</guid>    <pubDate>2025-12-30T13:54:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589454621720199218" data-draft-id="7589454621720182834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaçº¿ç¨‹æ± åŒé›„ï¼šForkJoinPool å’Œ ThreadPoolExecutor çš„åŒºåˆ«"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T13:54:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½è¡£é¸½å­"/> <meta itemprop="url" content="https://juejin.cn/user/3072451409619223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaçº¿ç¨‹æ± åŒé›„ï¼šForkJoinPool å’Œ ThreadPoolExecutor çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3072451409619223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½è¡£é¸½å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T13:54:58.000Z" title="Tue Dec 30 2025 13:54:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>åœ¨å½“ä»Šå¤šæ ¸å¤„ç†å™¨æ™®åŠçš„æ—¶ä»£ï¼Œå¦‚ä½•é«˜æ•ˆåˆ©ç”¨CPUèµ„æºæˆä¸ºæå‡åº”ç”¨æ€§èƒ½çš„å…³é”®ã€‚Javaå¹¶å‘åŒ…ä¸­æä¾›äº†ä¸¤ä¸ªå¼ºå¤§çš„çº¿ç¨‹æ± å®ç°ï¼š<code>ForkJoinPool</code>Â å’ŒÂ <code>ThreadPoolExecutor</code>ã€‚</p>
<p><strong>è¿™ä¸¤ç§çº¿ç¨‹æ± ä¸ä»…ä»…æ˜¯APIçš„ä¸åŒï¼Œå®ƒä»¬ä»£è¡¨äº†ä¸¤ç§æˆªç„¶ä¸åŒçš„å¹¶å‘å“²å­¦ï¼š</strong></p>
<ul>
<li><code>ThreadPoolExecutor</code>Â åƒä¸€æ”¯è®­ç»ƒæœ‰ç´ çš„å†›é˜Ÿï¼Œæ¯ä¸ªå£«å…µï¼ˆçº¿ç¨‹ï¼‰æ‰§è¡Œç‹¬ç«‹çš„ä»»åŠ¡</li>
<li><code>ForkJoinPool</code>Â åˆ™åƒä¸€ä¸ªé«˜æ•ˆçš„ç ”å‘å›¢é˜Ÿï¼Œæˆå‘˜ä»¬ä¼šä¸»åŠ¨åä½œï¼Œå…±åŒæ”»å…‹å¤æ‚é—®é¢˜</li>
</ul>
<p>é€šè¿‡å­¦ä¹ æœ¬æ–‡ï¼Œä½ å°†äº†è§£åˆ°ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆÂ <code>ForkJoinPool</code>Â çš„å·¥ä½œçªƒå–ç®—æ³•å¦‚æ­¤é«˜æ•ˆ</li>
<li>å¦‚ä½•åœ¨å…·ä½“åœºæ™¯ä¸­é€‰æ‹©æœ€åˆé€‚çš„çº¿ç¨‹æ± </li>
<li>å®ƒä»¬å„è‡ªçš„æ€§èƒ½ç‰¹ç‚¹å’Œæœ€ä½³å®è·µ</li>
</ul>
<p>ä¸ºäº†ç›´è§‚å±•ç¤ºå·®å¼‚ï¼Œè®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä»£ç å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ThreadPoolExecutor: å¤„ç†ç‹¬ç«‹ä»»åŠ¡</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">4</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
    executor.submit(() -&gt; processTask(i)); <span class="hljs-comment">// æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹æ‰§è¡Œ</span>
}

<span class="hljs-comment">// ForkJoinPool: å¤„ç†å¯åˆ†æ²»çš„ä»»åŠ¡</span>
<span class="hljs-type">ForkJoinPool</span> <span class="hljs-variable">pool</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForkJoinPool</span>();
pool.invoke(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RecursiveTask</span>&lt;Integer&gt;() {
    <span class="hljs-keyword">protected</span> Integer <span class="hljs-title function_">compute</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (ä»»åŠ¡è¶³å¤Ÿå°) {
            <span class="hljs-keyword">return</span> ç›´æ¥è®¡ç®—ç»“æœ();
        } <span class="hljs-keyword">else</span> {
            æ‹†åˆ†ä»»åŠ¡ä¸ºå­ä»»åŠ¡();
            <span class="hljs-keyword">return</span> åˆå¹¶å­ä»»åŠ¡ç»“æœ();
        }
    }
});
</code></pre>
<p>è¿™ä¸¤ä¸ªä»£ç ç‰‡æ®µæ­ç¤ºäº†æœ€æ ¸å¿ƒçš„åŒºåˆ«ï¼š<code>ThreadPoolExecutor</code>Â é€‚åˆå¤„ç†<strong>ç‹¬ç«‹çš„ã€ç¦»æ•£çš„</strong>ä»»åŠ¡ï¼Œè€ŒÂ <code>ForkJoinPool</code>Â æ“…é•¿å¤„ç†<strong>å¯é€’å½’åˆ†è§£çš„</strong>ä»»åŠ¡ã€‚</p>
<h2 data-id="heading-1">2. å·¥ä½œåŸç†</h2>
<h3 data-id="heading-2">2.1 è®¾è®¡ç†å¿µçš„åŒºåˆ«</h3>
<p><strong>ThreadPoolExecutorï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</strong></p>
<ul>
<li>çº¿ç¨‹æ˜¯<strong>æ¶ˆè´¹è€…</strong>ï¼Œä»»åŠ¡é˜Ÿåˆ—æ˜¯<strong>ç¼“å†²åŒº</strong></li>
<li>ä»»åŠ¡ç”±å¤–éƒ¨æäº¤åˆ°é˜Ÿåˆ—ï¼Œçº¿ç¨‹ä»ä¸­å–å‡ºæ‰§è¡Œ</li>
<li>é€‚ç”¨äºå¤„ç†å¤§é‡ç‹¬ç«‹çš„ã€çŸ­æœŸä»»åŠ¡</li>
</ul>
<p><strong>ForkJoinPoolï¼šåˆ†è€Œæ²»ä¹‹ï¼ˆé€’å½’åˆ†è§£ï¼‰æ¨¡å‹</strong></p>
<ul>
<li>ä¸“ä¸ºå¯é€’å½’åˆ†è§£çš„ä»»åŠ¡è®¾è®¡</li>
<li>ä»»åŠ¡è‡ªå·±å¯ä»¥äº§ç”Ÿå­ä»»åŠ¡ï¼ˆForkï¼‰ï¼Œå¹¶ç­‰å¾…ç»“æœï¼ˆJoinï¼‰</li>
<li>é€‚ç”¨äºè®¡ç®—å¯†é›†å‹ã€å¯å¹¶è¡Œåˆ†è§£çš„ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-3">2.2 ä»»åŠ¡è°ƒåº¦æœºåˆ¶çš„åŒºåˆ«</h3>
<pre><code class="hljs language-text" lang="text">ThreadPoolExecutoræ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å…±äº«ä»»åŠ¡é˜Ÿåˆ—                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ä»»åŠ¡1â”‚ä»»åŠ¡2â”‚ä»»åŠ¡3â”‚ä»»åŠ¡4â”‚ä»»åŠ¡5â”‚...        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥ä½œçº¿ç¨‹1 â”‚ å·¥ä½œçº¿ç¨‹2 â”‚ å·¥ä½œçº¿ç¨‹3 â”‚ å·¥ä½œçº¿ç¨‹4 â”‚
â”‚  (è·å–ä»»åŠ¡)  (è·å–ä»»åŠ¡)  (è·å–ä»»åŠ¡)  (è·å–ä»»åŠ¡) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ForkJoinPoolæ¶æ„ï¼ˆå·¥ä½œçªƒå–ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çº¿ç¨‹1é˜Ÿåˆ—ï¼šâ”‚ çº¿ç¨‹2é˜Ÿåˆ—ï¼šâ”‚ çº¿ç¨‹3é˜Ÿåˆ—ï¼šâ”‚ çº¿ç¨‹4é˜Ÿåˆ—ï¼šâ”‚
â”‚ [ä»»åŠ¡1-1]  â”‚ [ä»»åŠ¡2-1]  â”‚ [ä»»åŠ¡3-1]  â”‚ [ä»»åŠ¡4-1]  â”‚
â”‚ [ä»»åŠ¡1-2]  â”‚ [ä»»åŠ¡2-2]  â”‚ [ä»»åŠ¡3-2]  â”‚ [ä»»åŠ¡4-2]  â”‚
â”‚ [ä»»åŠ¡1-3]â† â”‚ [ä»»åŠ¡2-3]  â”‚           â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘           â”‚
         çº¿ç¨‹3ä»çº¿ç¨‹1é˜Ÿåˆ—å°¾éƒ¨çªƒå–ä»»åŠ¡
</code></pre>
<p>æœ€æ ¸å¿ƒçš„åŒºåˆ«ï¼š</p>
<ul>
<li>ForkJoinPool æ¶æ„ä¸‹ï¼ŒæŸä¸ªçº¿ç¨‹å·¥ä½œé˜Ÿåˆ—å®Œæˆæ—¶ï¼Œä¼šä»å…¶ä»–çº¿ç¨‹å·¥ä½œé˜Ÿåˆ—çªƒå–ä»»åŠ¡</li>
<li>ThreadPoolExecutor æ¶æ„ä¸‹ï¼Œæ¯ä¸ªçº¿ç¨‹å·¥ä½œå®Œæˆæ—¶ï¼Œä¼šä»å…±äº«é˜Ÿåˆ—çªƒå–ä»»åŠ¡</li>
</ul>
<h2 data-id="heading-4">3. ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-5">3.1 æ ¸å¿ƒåœºæ™¯å¯¹æ¯”</h3>



































<table><thead><tr><th>åœºæ™¯ç‰¹å¾</th><th><strong>ä¼˜å…ˆé€‰æ‹© ForkJoinPool</strong></th><th><strong>ä¼˜å…ˆé€‰æ‹© ThreadPoolExecutor</strong></th></tr></thead><tbody><tr><td><strong>ä»»åŠ¡ç±»å‹</strong></td><td>è®¡ç®—å¯†é›†å‹ã€å¯é€’å½’åˆ†è§£</td><td>I/Oå¯†é›†å‹ã€ä»»åŠ¡ç‹¬ç«‹ä¸”ç¦»æ•£</td></tr><tr><td><strong>ä»»åŠ¡å…³ç³»</strong></td><td>ä»»åŠ¡æœ‰çˆ¶å­ä¾èµ–ï¼Œéœ€è¦åˆå¹¶ç»“æœ</td><td>ä»»åŠ¡ä¹‹é—´æ— å…³è”ï¼Œå„è‡ªç‹¬ç«‹</td></tr><tr><td><strong>è´Ÿè½½ç‰¹æ€§</strong></td><td>ä»»åŠ¡æ‰§è¡Œæ—¶é—´ç›¸å¯¹å‡åŒ€</td><td>ä»»åŠ¡æ‰§è¡Œæ—¶é—´å·®å¼‚å¯èƒ½å¾ˆå¤§</td></tr><tr><td><strong>é˜»å¡æƒ…å†µ</strong></td><td>å‡ ä¹æ²¡æœ‰I/Oé˜»å¡æˆ–ç­‰å¾…</td><td>åŒ…å«ç½‘ç»œã€æ•°æ®åº“ã€æ–‡ä»¶I/O</td></tr><tr><td><strong>å…¸å‹åº”ç”¨</strong></td><td>å¹¶è¡Œæ’åºã€çŸ©é˜µè¿ç®—ã€é€’å½’éå†</td><td>WebæœåŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ‰¹å¤„ç†</td></tr></tbody></table>
<h3 data-id="heading-6">3.2 ForkJoinPool çš„é»„é‡‘åœºæ™¯</h3>
<p>è¦ç†è§£ ForkJoinPool çš„çœŸæ­£ä»·å€¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†è§£å®ƒè§£å†³çš„é—®é¢˜ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä»£ç ç¤ºä¾‹æ¥æ­ç¤ºè¿™ä¸ªé—®é¢˜çš„æœ¬è´¨ã€‚</p>
<h4 data-id="heading-7">3.2.1 é—®é¢˜çš„æ ¸å¿ƒï¼šè´Ÿè½½ä¸å‡è¡¡</h4>
<p>è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯<strong>æ¯ä¸ªå…ƒç´ çš„å¤„ç†æ—¶é—´ä¸å®ƒçš„ä¸‹æ ‡æˆæ­£æ¯”</strong>ã€‚è¿™æ„å‘³ç€å¤„ç†æ•°ç»„æœ«å°¾çš„å…ƒç´ æ¯”å¤„ç†å¼€å¤´çš„å…ƒç´ è¦æ…¢å¾—å¤šã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¨¡æ‹Ÿè´Ÿè½½ä¸å‡è¡¡çš„è®¡ç®—ä»»åŠ¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">processElement</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">double</span> value)</span> {
    <span class="hljs-type">double</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> value;
    
    <span class="hljs-comment">// å…³é”®ï¼šè®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”ï¼</span>
    <span class="hljs-comment">// index=0 æ—¶ï¼Œå†…å¾ªç¯0æ¬¡</span>
    <span class="hljs-comment">// index=999999 æ—¶ï¼Œå†…å¾ªç¯999æ¬¡</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; index % <span class="hljs-number">1000</span>; j++) {
        result += Math.sqrt(j) * <span class="hljs-number">0.0001</span>;
    }
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>å¦‚æœç”¨ä¼ ç»Ÿçš„ ThreadPoolExecutorï¼Œæˆ‘ä»¬ä¼šè¿™æ ·åˆ†å‰²ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ThreadPoolExecutorçš„å…¸å‹ç”¨æ³•ï¼šå‡åŒ€åˆ†å‰²</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">4</span>);
<span class="hljs-type">int</span> <span class="hljs-variable">totalElements</span> <span class="hljs-operator">=</span> <span class="hljs-number">1_000_000</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">chunkSize</span> <span class="hljs-operator">=</span> totalElements / <span class="hljs-number">4</span>;  <span class="hljs-comment">// æ¯ä»½25ä¸‡ä¸ªå…ƒç´ </span>

<span class="hljs-comment">// 4ä¸ªçº¿ç¨‹åˆ†åˆ«å¤„ç†ï¼š</span>
<span class="hljs-comment">// çº¿ç¨‹1: å…ƒç´  0-249,999     â† è®¡ç®—é‡æœ€å°ï¼Œæœ€å¿«å®Œæˆ</span>
<span class="hljs-comment">// çº¿ç¨‹2: å…ƒç´  250,000-499,999 â† ä¸­ç­‰é€Ÿåº¦</span>
<span class="hljs-comment">// çº¿ç¨‹3: å…ƒç´  500,000-749,999 â† è¾ƒæ…¢</span>
<span class="hljs-comment">// çº¿ç¨‹4: å…ƒç´  750,000-999,999 â† è®¡ç®—é‡æœ€å¤§ï¼Œæœ€æ…¢ï¼</span>
</code></pre>
<p>è¿™é‡Œå°±æš´éœ²äº† ThreadPoolExecutor çš„å±€é™ï¼š<strong>å‰3ä¸ªçº¿ç¨‹å®Œæˆåä¼šç©ºé—²ç­‰å¾…ï¼Œè€Œç¬¬4ä¸ªçº¿ç¨‹è¿˜åœ¨è¾›è‹¦å·¥ä½œ</strong>ã€‚</p>
<h4 data-id="heading-8">3.2.2 ForkJoinPool çš„è§£å†³æ–¹æ¡ˆ</h4>
<p>ForkJoinPool é€šè¿‡å·¥ä½œçªƒå–ç®—æ³•å®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnbalancedTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecursiveTask</span>&lt;Double&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span>[] data;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> start, end;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">THRESHOLD</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> Double <span class="hljs-title function_">compute</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å¦‚æœä»»åŠ¡è¶³å¤Ÿå°ï¼Œç›´æ¥è®¡ç®—</span>
        <span class="hljs-keyword">if</span> (end - start &lt;= THRESHOLD) {
            <span class="hljs-type">double</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> start; i &lt; end; i++) {
                sum += processElement(i, data[i]);
            }
            <span class="hljs-keyword">return</span> sum;
        }
        
        <span class="hljs-comment">// é€’å½’åˆ†è§£ä»»åŠ¡</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-type">UnbalancedTask</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnbalancedTask</span>(data, start, mid);
        <span class="hljs-type">UnbalancedTask</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnbalancedTask</span>(data, mid, end);
        
        <span class="hljs-comment">// å…³é”®ï¼šå¼‚æ­¥æ‰§è¡Œå·¦å­ä»»åŠ¡</span>
        left.fork();
        
        <span class="hljs-comment">// åŒæ­¥æ‰§è¡Œå³å­ä»»åŠ¡ï¼Œç„¶åç­‰å¾…å·¦å­ä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-type">Double</span> <span class="hljs-variable">rightResult</span> <span class="hljs-operator">=</span> right.compute();
        <span class="hljs-type">Double</span> <span class="hljs-variable">leftResult</span> <span class="hljs-operator">=</span> left.join();
        
        <span class="hljs-keyword">return</span> leftResult + rightResult;
    }
}
</code></pre>
<h4 data-id="heading-9">3.2.3 å·¥ä½œçªƒå–çš„å®é™…æ•ˆæœ</h4>
<p>å·¥ä½œçªƒå–æœºåˆ¶çš„è¿è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">åˆå§‹çŠ¶æ€ï¼ˆæŒ‰å‡åŒ€åˆ†å‰²çš„æ€è·¯ï¼‰ï¼š
<span class="hljs-section">çº¿ç¨‹1: [å¤„ç†0-25ä¸‡] â† é¢„è®¡å¾ˆå¿«</span>
<span class="hljs-section">çº¿ç¨‹2: [å¤„ç†25-50ä¸‡] â† ä¸­ç­‰é€Ÿåº¦  </span>
<span class="hljs-section">çº¿ç¨‹3: [å¤„ç†50-75ä¸‡] â† è¾ƒæ…¢</span>
<span class="hljs-section">çº¿ç¨‹4: [å¤„ç†75-100ä¸‡] â† æœ€æ…¢</span>

å®é™…è¿è¡Œè¿‡ç¨‹ï¼š
1. çº¿ç¨‹1å¾ˆå¿«å®Œæˆè‡ªå·±çš„ä»»åŠ¡
2. çº¿ç¨‹1ä¸ä¼šé—²ç€ï¼Œå®ƒä¼šä»<span class="hljs-string">"æœ€å¿™çš„"</span>çº¿ç¨‹4é‚£é‡Œ<span class="hljs-string">"çªƒå–"</span>ä¸€éƒ¨åˆ†å·¥ä½œ
3. çº¿ç¨‹2å®Œæˆåï¼Œä¹Ÿä¼šå»å¸®åŠ©çº¿ç¨‹4
4. æ‰€æœ‰çº¿ç¨‹éƒ½ä¿æŒå¿™ç¢Œï¼Œç›´åˆ°æ‰€æœ‰å·¥ä½œå®Œæˆ
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨æˆ‘ä»¬çš„æ€§èƒ½æµ‹è¯•ä¸­ï¼Œå¯¹äºè¿™ç§è´Ÿè½½ä¸å‡è¡¡çš„ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">æµ‹è¯•ç»“æœï¼š
<span class="hljs-section">ThreadPoolExecutor: 779ms</span>
<span class="hljs-section">ForkJoinPool: 646ms</span>
ForkJoinPool å¿« 17.1%
</code></pre>
<h4 data-id="heading-10">3.2.4 é€‚åˆ ForkJoinPool çš„å…¸å‹åœºæ™¯</h4>
<p>åŸºäºè¿™ä¸ªåŸç†ï¼ŒForkJoinPool ç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li><strong>å¹¶è¡Œæ’åºç®—æ³•</strong>ï¼ˆå¿«é€Ÿæ’åºã€å½’å¹¶æ’åºï¼‰</li>
</ol>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">// å¿«é€Ÿæ’åºçš„åˆ†åŒºæ“ä½œä¼šäº§ç”Ÿå¤§å°ä¸ç­‰çš„å­æ•°ç»„</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">pivot</span> <span class="hljs-operator">=</span> partition(array, low, high);
    <span class="hljs-comment">// å·¦å³ä¸¤éƒ¨åˆ†çš„å¤§å°å¯èƒ½å·®å¼‚å¾ˆå¤§</span>
</code></pre>
<ol start="2">
<li><strong>æ ‘å½¢ç»“æ„å¤„ç†</strong></li>
</ol>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">// æ ‘çš„æ·±åº¦å¯èƒ½ä¸å‡ï¼ŒæŸäº›åˆ†æ”¯å¾ˆæ·±ï¼ŒæŸäº›å¾ˆæµ…</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span> {
        List&lt;TreeNode&gt; children;  <span class="hljs-comment">// å­èŠ‚ç‚¹æ•°é‡ä¸ç¡®å®š</span>
    }
</code></pre>
<ol start="3">
<li><strong>é€’å½’ç®—æ³•ä¼˜åŒ–</strong></li>
</ol>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">// å¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—ã€åŠ¨æ€è§„åˆ’ç­‰</span>
    <span class="hljs-comment">// æŸäº›å­é—®é¢˜çš„è®¡ç®—é‡è¿œå¤§äºå…¶ä»–å­é—®é¢˜</span>
</code></pre>
<h3 data-id="heading-11">3.3 ThreadPoolExecutor çš„é»„é‡‘åœºæ™¯</h3>
<p>ç†è§£äº† ForkJoinPool çš„é€‚ç”¨åœºæ™¯åï¼ŒThreadPoolExecutor çš„ä¼˜åŠ¿é¢†åŸŸå°±æ›´åŠ æ¸…æ™°äº†ã€‚</p>
<h4 data-id="heading-12">3.3.1 ç‹¬ç«‹ä¸”å‡è¡¡çš„ä»»åŠ¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä»»åŠ¡ï¼šç»Ÿè®¡100ä¸‡ä¸ªéšæœºæ•°ä¸­å°äº0.5çš„æ•°é‡</span>
<span class="hljs-type">double</span>[] data = generateRandomData(<span class="hljs-number">1_000_000</span>);

<span class="hljs-comment">// ThreadPoolExecutorçš„å®Œç¾ç”¨æ³•</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">4</span>);
<span class="hljs-type">int</span> <span class="hljs-variable">chunkSize</span> <span class="hljs-operator">=</span> data.length / <span class="hljs-number">4</span>;

List&lt;Future&lt;Integer&gt;&gt; futures = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> i * chunkSize;
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> (i == <span class="hljs-number">3</span>) ? data.length : (i + <span class="hljs-number">1</span>) * chunkSize;
    
    futures.add(executor.submit(() -&gt; {
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-comment">// æ¯ä¸ªçº¿ç¨‹å¤„ç†è‡ªå·±çš„ä¸€æ®µï¼Œå·¥ä½œé‡åŸºæœ¬ç›¸åŒ</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> start; j &lt; end; j++) {
            <span class="hljs-keyword">if</span> (data[j] &lt; <span class="hljs-number">0.5</span>) count++;
        }
        <span class="hljs-keyword">return</span> count;
    }));
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ç§åœºæ™¯ä¸‹ ThreadPoolExecutor è¡¨ç°æ›´å¥½ï¼Ÿ</strong></p>
<ol>
<li><strong>ä»»åŠ¡å®Œå…¨ç‹¬ç«‹</strong>ï¼šæ¯ä¸ªç»Ÿè®¡ä»»åŠ¡ä¸ä¾èµ–å…¶ä»–ä»»åŠ¡çš„ç»“æœ</li>
<li><strong>å·¥ä½œé‡å‡è¡¡</strong>ï¼šæ¯25ä¸‡ä¸ªå…ƒç´ çš„ç»Ÿè®¡æ—¶é—´åŸºæœ¬ç›¸åŒ</li>
<li><strong>æ— éœ€å¤æ‚åè°ƒ</strong>ï¼šç®€å•ç´¯åŠ å³å¯å¾—åˆ°æœ€ç»ˆç»“æœ</li>
</ol>
<p>æµ‹è¯•ç»“æœè¯æ˜äº†è¿™ä¸€ç‚¹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ThreadPoolExecutor: 18ms</span>
<span class="hljs-section">ForkJoinPool: 129ms</span>
ThreadPoolExecutor å¿« 86.0%
</code></pre>
<h4 data-id="heading-13">3.3.2 I/Oå¯†é›†å‹åº”ç”¨</h4>
<p>ThreadPoolExecutor çš„å¦ä¸€ä¸ªä¼˜åŠ¿é¢†åŸŸæ˜¯å¤„ç† I/O å¯†é›†å‹ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// WebæœåŠ¡å™¨å¤„ç†HTTPè¯·æ±‚</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">serverExecutor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">100</span>);

<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-type">Socket</span> <span class="hljs-variable">clientSocket</span> <span class="hljs-operator">=</span> serverSocket.accept();
    serverExecutor.submit(() -&gt; {
        <span class="hljs-comment">// å¤„ç†HTTPè¯·æ±‚ï¼ˆåŒ…å«ç½‘ç»œI/Oç­‰å¾…ï¼‰</span>
        handleHttpRequest(clientSocket);
    });
}
</code></pre>
<p><strong>é€‚åˆ ThreadPoolExecutor çš„åŸå› </strong>ï¼š</p>
<ul>
<li>è¯·æ±‚ä¹‹é—´å®Œå…¨ç‹¬ç«‹</li>
<li>ä¸»è¦æ—¶é—´èŠ±åœ¨I/Oç­‰å¾…ä¸Šï¼ŒCPUè®¡ç®—å¾ˆå°‘</li>
<li>å¯ä»¥é…ç½®æ¯”CPUæ ¸å¿ƒæ•°æ›´å¤šçš„çº¿ç¨‹</li>
</ul>
<h4 data-id="heading-14">3.3.3 æ‰¹å¤„ç†ä½œä¸š</h4>
<p>å½“æœ‰å¤§é‡å·²çŸ¥çš„ã€ç‹¬ç«‹çš„ä½œä¸šéœ€è¦å¤„ç†æ—¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰¹é‡å¤„ç†æ–‡ä»¶</span>
List&lt;File&gt; files = scanDirectory(<span class="hljs-string">"/data"</span>);  <span class="hljs-comment">// è·å¾—1000ä¸ªæ–‡ä»¶</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">batchExecutor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">8</span>);

<span class="hljs-keyword">for</span> (File file : files) {
    batchExecutor.submit(() -&gt; {
        processFile(file);  <span class="hljs-comment">// å¤„ç†å•ä¸ªæ–‡ä»¶</span>
    });
}
</code></pre>
<h4 data-id="heading-15">3.3.4 ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†</h4>
<p>ThreadPoolExecutor æä¾›äº†çµæ´»çš„ä»»åŠ¡é˜Ÿåˆ—ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒçš„é˜Ÿåˆ—</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
    <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">60</span>, TimeUnit.SECONDS,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;()  <span class="hljs-comment">// æ— ç•Œé˜Ÿåˆ—</span>
);

<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
    <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">60</span>, TimeUnit.SECONDS,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="hljs-number">100</span>)  <span class="hljs-comment">// æœ‰ç•Œé˜Ÿåˆ—</span>
);

<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
    <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">60</span>, TimeUnit.SECONDS,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronousQueue</span>&lt;&gt;()  <span class="hljs-comment">// ç›´æ¥ä¼ é€’é˜Ÿåˆ—</span>
);
</code></pre>
<h2 data-id="heading-16">4. æ€§èƒ½å¯¹æ¯”æ ¸å¿ƒä»£ç </h2>
<p>è¿™é‡Œç»™å‡ºä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ä¾›å‚è€ƒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FinalComparison</span> {  
  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {  
        System.out.println(<span class="hljs-string">"===== ä¸¤ä¸ªçº¿ç¨‹æ± çš„çœŸæ­£åŒºåˆ«åœºæ™¯å¯¹æ¯” =====\n"</span>);  
  
        <span class="hljs-comment">// åœºæ™¯1ï¼šThreadPoolExecutorä¼˜åŠ¿åœºæ™¯ï¼ˆä»»åŠ¡å‡è¡¡ï¼‰  </span>
        System.out.println(<span class="hljs-string">"ã€åœºæ™¯1ã€‘å‡è¡¡çš„ç‹¬ç«‹ä»»åŠ¡ - ThreadPoolExecutorä¼˜åŠ¿"</span>);  
        testBalancedTasks();  
  
        System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">60</span>) + <span class="hljs-string">"\n"</span>);  
  
        <span class="hljs-comment">// åœºæ™¯2ï¼šForkJoinPoolä¼˜åŠ¿åœºæ™¯ï¼ˆä»»åŠ¡ä¸å‡è¡¡ï¼‰  </span>
        System.out.println(<span class="hljs-string">"ã€åœºæ™¯2ã€‘ä¸å‡è¡¡çš„é€’å½’ä»»åŠ¡ - ForkJoinPoolä¼˜åŠ¿"</span>);  
        testUnbalancedTasks();  
    }  
  
    <span class="hljs-comment">// ========== åœºæ™¯1ï¼šThreadPoolExecutorä¼˜åŠ¿ ==========    static void testBalancedTasks() throws Exception {  </span>
        System.out.println(<span class="hljs-string">"ä»»åŠ¡ï¼šè®¡ç®—100ä¸‡ä¸ªéšæœºæ•°ä¸­å°äº0.5çš„æ•°é‡"</span>);  
        System.out.println(<span class="hljs-string">"ç‰¹ç‚¹ï¼šä»»åŠ¡å¯ä»¥å‡è¡¡åˆ†å‰²ï¼Œæ¯ä¸ªå­ä»»åŠ¡å·¥ä½œé‡ç›¸åŒ"</span>);  
  
        <span class="hljs-type">double</span>[] data = generateRandomData(<span class="hljs-number">1_000_000</span>);  
  
        <span class="hljs-comment">// 1. ThreadPoolExecutorå®ç°ï¼ˆå‡è¡¡åˆ†å‰²ï¼‰  </span>
        System.out.println(<span class="hljs-string">"\n1. ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²4ä»½ï¼‰ï¼š"</span>);  
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();  
  
        <span class="hljs-type">int</span> <span class="hljs-variable">threadCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;  
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">tpe</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(threadCount);  
  
        <span class="hljs-type">int</span> <span class="hljs-variable">chunkSize</span> <span class="hljs-operator">=</span> data.length / threadCount;  
        List&lt;Future&lt;Integer&gt;&gt; futures = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();  
  
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; threadCount; i++) {  
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">startIdx</span> <span class="hljs-operator">=</span> i * chunkSize;  
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">endIdx</span> <span class="hljs-operator">=</span> (i == threadCount - <span class="hljs-number">1</span>) ? data.length : (i + <span class="hljs-number">1</span>) * chunkSize;  
  
            futures.add(tpe.submit(() -&gt; {  
                <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> startIdx; j &lt; endIdx; j++) {  
                    <span class="hljs-keyword">if</span> (data[j] &lt; <span class="hljs-number">0.5</span>) {  
                        count++;  
                    }  
                }  
                <span class="hljs-keyword">return</span> count;  
            }));  
        }  
  
        <span class="hljs-type">int</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
        <span class="hljs-keyword">for</span> (Future&lt;Integer&gt; future : futures) {  
            total += future.get();  
        }  
  
        <span class="hljs-type">long</span> <span class="hljs-variable">tpeTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;  
        tpe.shutdown();  
  
        System.out.println(<span class="hljs-string">"   ç»“æœ: "</span> + total);  
        System.out.println(<span class="hljs-string">"   è€—æ—¶: "</span> + tpeTime + <span class="hljs-string">"ms"</span>);  
        System.out.println(<span class="hljs-string">"   ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼Œä»»åŠ¡å‡è¡¡ï¼Œæ— é¢å¤–å¼€é”€"</span>);  
  
        <span class="hljs-comment">// 2. ForkJoinPoolå®ç°ï¼ˆç”Ÿæˆå¤§é‡å°ä»»åŠ¡ï¼‰  </span>
        System.out.println(<span class="hljs-string">"\n2. ForkJoinPoolï¼ˆé€’å½’åˆ†è§£åˆ°10ä¸ªå…ƒç´ ï¼‰ï¼š"</span>);  
        start = System.currentTimeMillis();  
  
        <span class="hljs-type">ForkJoinPool</span> <span class="hljs-variable">fjp</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForkJoinPool</span>(threadCount);  
        <span class="hljs-type">CountTask</span> <span class="hljs-variable">task</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountTask</span>(data, <span class="hljs-number">0</span>, data.length, <span class="hljs-number">10</span>); <span class="hljs-comment">// é˜ˆå€¼10  </span>
        <span class="hljs-type">int</span> <span class="hljs-variable">fjpResult</span> <span class="hljs-operator">=</span> fjp.invoke(task);  
  
        <span class="hljs-type">long</span> <span class="hljs-variable">fjpTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;  
        fjp.shutdown();  
  
        System.out.println(<span class="hljs-string">"   ç»“æœ: "</span> + fjpResult);  
        System.out.println(<span class="hljs-string">"   è€—æ—¶: "</span> + fjpTime + <span class="hljs-string">"ms"</span>);  
        System.out.println(<span class="hljs-string">"   ç¼ºç‚¹ï¼šç”Ÿæˆäº†å¤§é‡å°ä»»åŠ¡å¯¹è±¡ï¼Œç®¡ç†å¼€é”€å¤§"</span>);  
  
        <span class="hljs-comment">// å¯¹æ¯”  </span>
        System.out.println(<span class="hljs-string">"\nâœ… å¯¹æ¯”ç»“æœï¼š"</span>);  
        System.out.println(<span class="hljs-string">"ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²ï¼‰: "</span> + tpeTime + <span class="hljs-string">"ms"</span>);  
        System.out.println(<span class="hljs-string">"ForkJoinPoolï¼ˆé€’å½’åˆ†è§£ï¼‰: "</span> + fjpTime + <span class="hljs-string">"ms"</span>);  
  
        <span class="hljs-keyword">if</span> (tpeTime &lt; fjpTime) {  
            <span class="hljs-type">double</span> <span class="hljs-variable">advantage</span> <span class="hljs-operator">=</span> (fjpTime - tpeTime) * <span class="hljs-number">100.0</span> / fjpTime;  
            System.out.printf(<span class="hljs-string">"âœ… ThreadPoolExecutor å¿« %.1f%%\n"</span>, advantage);  
            System.out.println(<span class="hljs-string">"åŸå› ï¼šä»»åŠ¡å‡è¡¡æ—¶ï¼Œç®€å•åˆ†å‰²æ¯”ç”Ÿæˆå¤§é‡å°ä»»åŠ¡æ›´é«˜æ•ˆ"</span>);  
        }  
    }  
  
    <span class="hljs-comment">// ========== åœºæ™¯2ï¼šForkJoinPoolä¼˜åŠ¿ ==========    static void testUnbalancedTasks() {  </span>
        System.out.println(<span class="hljs-string">"ä»»åŠ¡ï¼šè®¡ç®—100ä¸‡ä¸ªå…ƒç´ çš„å¤æ‚ç»Ÿè®¡ï¼ˆè®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”ï¼‰"</span>);  
        System.out.println(<span class="hljs-string">"ç‰¹ç‚¹ï¼šå…ƒç´ ä½ç½®è¶Šé åï¼Œè®¡ç®—é‡è¶Šå¤§ï¼Œè´Ÿè½½æä¸å‡è¡¡"</span>);  
  
        <span class="hljs-type">double</span>[] data = generateRandomData(<span class="hljs-number">1_000_000</span>);  
  
        <span class="hljs-comment">// 1. ThreadPoolExecutorå®ç°ï¼ˆå‡è¡¡åˆ†å‰² - ä¸é€‚åˆï¼‰  </span>
        System.out.println(<span class="hljs-string">"\n1. ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²4ä»½ï¼‰ï¼š"</span>);  
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();  
  
        <span class="hljs-type">int</span> <span class="hljs-variable">threadCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;  
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">tpe</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(threadCount);  
  
        <span class="hljs-type">int</span> <span class="hljs-variable">chunkSize</span> <span class="hljs-operator">=</span> data.length / threadCount;  
        List&lt;Future&lt;Double&gt;&gt; futures = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();  
  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; threadCount; i++) {  
                <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">startIdx</span> <span class="hljs-operator">=</span> i * chunkSize;  
                <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">endIdx</span> <span class="hljs-operator">=</span> (i == threadCount - <span class="hljs-number">1</span>) ? data.length : (i + <span class="hljs-number">1</span>) * chunkSize;  
  
                futures.add(tpe.submit(() -&gt; {  
                    <span class="hljs-type">double</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
                    <span class="hljs-comment">// å…³é”®ï¼šè®¡ç®—é‡ä¸å…ƒç´ ä¸‹æ ‡æˆæ­£æ¯”ï¼  </span>
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> startIdx; j &lt; endIdx; j++) {  
                        <span class="hljs-keyword">if</span> (data[j] &lt; <span class="hljs-number">0.5</span>) {  
                            sum += data[j];  
                        }  
                        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”  </span>
                        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; k &lt; j % <span class="hljs-number">1000</span>; k++) {  
                            sum += Math.sqrt(k) * <span class="hljs-number">0.0001</span>;  
                        }  
                    }  
                    <span class="hljs-keyword">return</span> sum;  
                }));  
            }  
  
            <span class="hljs-type">double</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
            <span class="hljs-keyword">for</span> (Future&lt;Double&gt; future : futures) {  
                total += future.get();  
            }  
  
            <span class="hljs-type">long</span> <span class="hljs-variable">tpeTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;  
            tpe.shutdown();  
  
            System.out.println(<span class="hljs-string">"   ç»“æœ: "</span> + String.format(<span class="hljs-string">"%.2f"</span>, total));  
            System.out.println(<span class="hljs-string">"   è€—æ—¶: "</span> + tpeTime + <span class="hljs-string">"ms"</span>);  
            System.out.println(<span class="hljs-string">"   é—®é¢˜ï¼šç¬¬å››ä¸ªçº¿ç¨‹ï¼ˆå¤„ç†æœ€å25%æ•°æ®ï¼‰è€—æ—¶æœ€é•¿"</span>);  
            System.out.println(<span class="hljs-string">"         å‰ä¸‰ä¸ªçº¿ç¨‹å®Œæˆåå°±ç©ºé—²äº†"</span>);  
  
            <span class="hljs-comment">// 2. ForkJoinPoolå®ç°ï¼ˆå·¥ä½œçªƒå–èƒ½è§£å†³ä¸å‡è¡¡é—®é¢˜ï¼‰  </span>
            System.out.println(<span class="hljs-string">"\n2. ForkJoinPoolï¼ˆå·¥ä½œçªƒå–è§£å†³ä¸å‡è¡¡ï¼‰ï¼š"</span>);  
            start = System.currentTimeMillis();  
  
            <span class="hljs-type">ForkJoinPool</span> <span class="hljs-variable">fjp</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForkJoinPool</span>(threadCount);  
            <span class="hljs-type">ComplexCountTask</span> <span class="hljs-variable">task</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComplexCountTask</span>(data, <span class="hljs-number">0</span>, data.length, <span class="hljs-number">10000</span>);  
            <span class="hljs-type">Double</span> <span class="hljs-variable">fjpResult</span> <span class="hljs-operator">=</span> fjp.invoke(task);  
  
            <span class="hljs-type">long</span> <span class="hljs-variable">fjpTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;  
            fjp.shutdown();  
  
            System.out.println(<span class="hljs-string">"   ç»“æœ: "</span> + String.format(<span class="hljs-string">"%.2f"</span>, fjpResult));  
            System.out.println(<span class="hljs-string">"   è€—æ—¶: "</span> + fjpTime + <span class="hljs-string">"ms"</span>);  
            System.out.println(<span class="hljs-string">"   ä¼˜ç‚¹ï¼šå·¥ä½œçªƒå–è®©ç©ºé—²çº¿ç¨‹å¸®åŠ©å¤„ç†æ…¢ä»»åŠ¡"</span>);  
  
            <span class="hljs-comment">// å¯¹æ¯”  </span>
            System.out.println(<span class="hljs-string">"\nâœ… å¯¹æ¯”ç»“æœï¼š"</span>);  
            System.out.println(<span class="hljs-string">"ThreadPoolExecutor: "</span> + tpeTime + <span class="hljs-string">"ms"</span>);  
            System.out.println(<span class="hljs-string">"ForkJoinPool: "</span> + fjpTime + <span class="hljs-string">"ms"</span>);  
  
            <span class="hljs-keyword">if</span> (fjpTime &lt; tpeTime) {  
                <span class="hljs-type">double</span> <span class="hljs-variable">advantage</span> <span class="hljs-operator">=</span> (tpeTime - fjpTime) * <span class="hljs-number">100.0</span> / tpeTime;  
                System.out.printf(<span class="hljs-string">"âœ… ForkJoinPool å¿« %.1f%%\n"</span>, advantage);  
                System.out.println(<span class="hljs-string">"åŸå› ï¼šå·¥ä½œçªƒå–è‡ªåŠ¨å¹³è¡¡äº†ä¸å‡è¡¡çš„è´Ÿè½½"</span>);  
            }  
  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
        }  
    }  
  
    <span class="hljs-comment">// ========== è¾…åŠ©ç±» ==========  </span>
    <span class="hljs-comment">// ç®€å•çš„è®¡æ•°ä»»åŠ¡ï¼ˆç”¨äºåœºæ™¯1ï¼‰  </span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CountTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecursiveTask</span>&lt;Integer&gt; {  
        <span class="hljs-keyword">final</span> <span class="hljs-type">double</span>[] data;  
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> start, end;  
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> threshold;  
  
        CountTask(<span class="hljs-type">double</span>[] data, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> threshold) {  
            <span class="hljs-built_in">this</span>.data = data;  
            <span class="hljs-built_in">this</span>.start = start;  
            <span class="hljs-built_in">this</span>.end = end;  
            <span class="hljs-built_in">this</span>.threshold = threshold;  
        }  
  
        <span class="hljs-meta">@Override</span>  
        <span class="hljs-keyword">protected</span> Integer <span class="hljs-title function_">compute</span><span class="hljs-params">()</span> {  
            <span class="hljs-keyword">if</span> (end - start &lt;= threshold) {  
                <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> start; i &lt; end; i++) {  
                    <span class="hljs-keyword">if</span> (data[i] &lt; <span class="hljs-number">0.5</span>) {  
                        count++;  
                    }  
                }  
                <span class="hljs-keyword">return</span> count;  
            }  
  
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;  
            <span class="hljs-type">CountTask</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountTask</span>(data, start, mid, threshold);  
            <span class="hljs-type">CountTask</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountTask</span>(data, mid, end, threshold);  
  
            left.fork();  
            <span class="hljs-type">Integer</span> <span class="hljs-variable">rightResult</span> <span class="hljs-operator">=</span> right.compute();  
            <span class="hljs-type">Integer</span> <span class="hljs-variable">leftResult</span> <span class="hljs-operator">=</span> left.join();  
  
            <span class="hljs-keyword">return</span> leftResult + rightResult;  
        }  
    }  
  
    <span class="hljs-comment">// å¤æ‚çš„è®¡æ•°ä»»åŠ¡ï¼ˆç”¨äºåœºæ™¯2ï¼Œè®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”ï¼‰  </span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComplexCountTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecursiveTask</span>&lt;Double&gt; {  
        <span class="hljs-keyword">final</span> <span class="hljs-type">double</span>[] data;  
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> start, end;  
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> threshold;  
  
        ComplexCountTask(<span class="hljs-type">double</span>[] data, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> threshold) {  
            <span class="hljs-built_in">this</span>.data = data;  
            <span class="hljs-built_in">this</span>.start = start;  
            <span class="hljs-built_in">this</span>.end = end;  
            <span class="hljs-built_in">this</span>.threshold = threshold;  
        }  
  
        <span class="hljs-meta">@Override</span>  
        <span class="hljs-keyword">protected</span> Double <span class="hljs-title function_">compute</span><span class="hljs-params">()</span> {  
            <span class="hljs-keyword">if</span> (end - start &lt;= threshold) {  
                <span class="hljs-type">double</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> start; i &lt; end; i++) {  
                    <span class="hljs-keyword">if</span> (data[i] &lt; <span class="hljs-number">0.5</span>) {  
                        sum += data[i];  
                    }  
                    <span class="hljs-comment">// è®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”  </span>
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; i % <span class="hljs-number">1000</span>; j++) {  
                        sum += Math.sqrt(j) * <span class="hljs-number">0.0001</span>;  
                    }  
                }  
                <span class="hljs-keyword">return</span> sum;  
            }  
  
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;  
            <span class="hljs-type">ComplexCountTask</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComplexCountTask</span>(data, start, mid, threshold);  
            <span class="hljs-type">ComplexCountTask</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComplexCountTask</span>(data, mid, end, threshold);  
  
            left.fork();  
            <span class="hljs-type">Double</span> <span class="hljs-variable">rightResult</span> <span class="hljs-operator">=</span> right.compute();  
            <span class="hljs-type">Double</span> <span class="hljs-variable">leftResult</span> <span class="hljs-operator">=</span> left.join();  
  
            <span class="hljs-keyword">return</span> leftResult + rightResult;  
        }  
    }  
  
    <span class="hljs-keyword">static</span> <span class="hljs-type">double</span>[] generateRandomData(<span class="hljs-type">int</span> size) {  
        <span class="hljs-type">double</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">double</span>[size];  
        <span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>(<span class="hljs-number">42</span>);  
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; size; i++) {  
            data[i] = random.nextDouble();  
        }  
        <span class="hljs-keyword">return</span> data;  
    }  
}
</code></pre>
<p><strong>ä»£ç è¿è¡Œç»“æœå¤§è‡´è¾“å‡ºå¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-text" lang="text">===== ä¸¤ä¸ªçº¿ç¨‹æ± çš„çœŸæ­£åŒºåˆ«åœºæ™¯å¯¹æ¯” =====

ã€åœºæ™¯1ã€‘å‡è¡¡çš„ç‹¬ç«‹ä»»åŠ¡ - ThreadPoolExecutorä¼˜åŠ¿
ä»»åŠ¡ï¼šè®¡ç®—100ä¸‡ä¸ªéšæœºæ•°ä¸­å°äº0.5çš„æ•°é‡
ç‰¹ç‚¹ï¼šä»»åŠ¡å¯ä»¥å‡è¡¡åˆ†å‰²ï¼Œæ¯ä¸ªå­ä»»åŠ¡å·¥ä½œé‡ç›¸åŒ

1. ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²4ä»½ï¼‰ï¼š
   ç»“æœ: 499798
   è€—æ—¶: 18ms
   ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼Œä»»åŠ¡å‡è¡¡ï¼Œæ— é¢å¤–å¼€é”€

2. ForkJoinPoolï¼ˆé€’å½’åˆ†è§£åˆ°10ä¸ªå…ƒç´ ï¼‰ï¼š
   ç»“æœ: 499798
   è€—æ—¶: 129ms
   ç¼ºç‚¹ï¼šç”Ÿæˆäº†å¤§é‡å°ä»»åŠ¡å¯¹è±¡ï¼Œç®¡ç†å¼€é”€å¤§

âœ… å¯¹æ¯”ç»“æœï¼š
ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²ï¼‰: 18ms
ForkJoinPoolï¼ˆé€’å½’åˆ†è§£ï¼‰: 129ms
âœ… ThreadPoolExecutor å¿« 86.0%
åŸå› ï¼šä»»åŠ¡å‡è¡¡æ—¶ï¼Œç®€å•åˆ†å‰²æ¯”ç”Ÿæˆå¤§é‡å°ä»»åŠ¡æ›´é«˜æ•ˆ

============================================================

ã€åœºæ™¯2ã€‘ä¸å‡è¡¡çš„é€’å½’ä»»åŠ¡ - ForkJoinPoolä¼˜åŠ¿
ä»»åŠ¡ï¼šè®¡ç®—100ä¸‡ä¸ªå…ƒç´ çš„å¤æ‚ç»Ÿè®¡ï¼ˆè®¡ç®—é‡ä¸ä¸‹æ ‡æˆæ­£æ¯”ï¼‰
ç‰¹ç‚¹ï¼šå…ƒç´ ä½ç½®è¶Šé åï¼Œè®¡ç®—é‡è¶Šå¤§ï¼Œè´Ÿè½½æä¸å‡è¡¡

1. ThreadPoolExecutorï¼ˆå‡è¡¡åˆ†å‰²4ä»½ï¼‰ï¼š
   ç»“æœ: 966038.64
   è€—æ—¶: 779ms
   é—®é¢˜ï¼šç¬¬å››ä¸ªçº¿ç¨‹ï¼ˆå¤„ç†æœ€å25%æ•°æ®ï¼‰è€—æ—¶æœ€é•¿
         å‰ä¸‰ä¸ªçº¿ç¨‹å®Œæˆåå°±ç©ºé—²äº†

2. ForkJoinPoolï¼ˆå·¥ä½œçªƒå–è§£å†³ä¸å‡è¡¡ï¼‰ï¼š
   ç»“æœ: 966038.64
   è€—æ—¶: 646ms
   ä¼˜ç‚¹ï¼šå·¥ä½œçªƒå–è®©ç©ºé—²çº¿ç¨‹å¸®åŠ©å¤„ç†æ…¢ä»»åŠ¡

âœ… å¯¹æ¯”ç»“æœï¼š
ThreadPoolExecutor: 779ms
ForkJoinPool: 646ms
âœ… ForkJoinPool å¿« 17.1%
åŸå› ï¼šå·¥ä½œçªƒå–è‡ªåŠ¨å¹³è¡¡äº†ä¸å‡è¡¡çš„è´Ÿè½½
</code></pre>
<h2 data-id="heading-17">5. æ€»ç»“</h2>
<p>é€šè¿‡å®é™…çš„ä»£ç åˆ†æå’Œæ€§èƒ½æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼š</p>
<ol>
<li><strong>ForkJoinPool</strong>Â ä¸æ˜¯ ThreadPoolExecutor çš„æ›¿ä»£å“ï¼Œè€Œæ˜¯<strong>è¡¥å……å“</strong></li>
<li>æ¯ä¸ªçº¿ç¨‹æ± éƒ½æœ‰è‡ªå·±æ˜ç¡®çš„<strong>ä¼˜åŠ¿é¢†åŸŸ</strong></li>
<li>é€‰æ‹©çš„å…³é”®åœ¨äº<strong>ç†è§£ä»»åŠ¡çš„å†…åœ¨ç‰¹æ€§</strong></li>
<li>é”™è¯¯çš„é€‰æ‹©ä¼šå¯¼è‡´æ˜¾è‘—çš„æ€§èƒ½æŸå¤±ï¼ˆå¦‚åœºæ™¯1ä¸­ ForkJoinPool æ…¢7å€ï¼‰</li>
</ol>
<p>è®°ä½è¿™ä¸ªç®€å•çš„åŸåˆ™ï¼š</p>
<ul>
<li><strong>è¦è§£å†³çš„é—®é¢˜æ˜¯"åˆ†è€Œæ²»ä¹‹"çš„</strong>Â â†’ è€ƒè™‘ ForkJoinPool</li>
<li><strong>è¦æ‰§è¡Œçš„æ˜¯ä¸€æ‰¹"ç‹¬ç«‹ä»»åŠ¡"</strong>Â â†’ è€ƒè™‘ ThreadPoolExecutor</li>
</ul>
<p>æ­£ç¡®é€‰æ‹©çº¿ç¨‹æ± ï¼Œå°±åƒé€‰æ‹©å·¥å…·ä¸€æ ·ï¼šç”¨æ–§å¤´åŠˆæŸ´ï¼Œç”¨é”¯å­é”¯æœ¨ã€‚ç”¨å¯¹äº†å·¥å…·ï¼Œäº‹åŠåŠŸå€ï¼›ç”¨é”™äº†å·¥å…·ï¼Œäº‹å€åŠŸåŠã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nextjså­¦ä¹ 1ï¼šå›é¡¾æœåŠ¡ç«¯æ¸²æŸ“SSR]]></title>    <link>https://juejin.cn/post/7589466238240423978</link>    <guid>https://juejin.cn/post/7589466238240423978</guid>    <pubDate>2025-12-30T11:49:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589466238240423978" data-draft-id="7582182817108656154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nextjså­¦ä¹ 1ï¼šå›é¡¾æœåŠ¡ç«¯æ¸²æŸ“SSR"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-30T11:49:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ±Ÿä¸œæµæ°´"/> <meta itemprop="url" content="https://juejin.cn/user/1151943917181880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nextjså­¦ä¹ 1ï¼šå›é¡¾æœåŠ¡ç«¯æ¸²æŸ“SSR
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943917181880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ±Ÿä¸œæµæ°´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T11:49:46.000Z" title="Tue Dec 30 2025 11:49:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æœåŠ¡ç«¯æ¸²æŸ“çš„å‘å±•å†å²</h2>
<h3 data-id="heading-1">ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“</h3>
<p>ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“æœ‰ <code>asp</code>, <code>jsp(java)</code>, <code>ejs(nodejs)</code>ç­‰ï¼ŒæœåŠ¡ç«¯è¯­è¨€å¾€å¾€é€šè¿‡è¿™äº›æ¨¡æ¿å¼•æ“å°†æ•°æ® <code>data</code> å’Œ <code>html</code> ç»“æ„åœ¨æœåŠ¡ç«¯ç»„è£…ï¼Œè¿”å›ä¸€ä¸ªå®Œæ•´çš„é™æ€çš„ <code>html</code> å­—ç¬¦ä¸²ç»™å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯ç›´æ¥æ˜¾ç¤ºã€‚</p>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å‰åç«¯ä¸åˆ†ç¦»ï¼Œå‰åç«¯ä»£ç æ··åœ¨ä¸€ä¸ªå·¥ç¨‹ç›®å½•ä¸­ï¼Œç»´æŠ¤ä¸æ–¹ä¾¿ï¼Œã€‚</li>
<li>ç”¨æˆ·ä½“éªŒä¸ä½³ï¼Œ<strong>æ¯æ¬¡é¡µé¢æœ‰æ”¹åŠ¨éƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</strong>ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªåˆ—è¡¨é¡µé¢ï¼Œå½“ç”¨æˆ·å¢åŠ ä¸€é¡¹æ—¶ï¼Œåå°éœ€è¦é‡æ–°ç»„è£…æ•°æ® <code>data</code> å’Œ <code>html</code> ç»“æ„ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„é¡µé¢ç»™å‰ç«¯ï¼Œè¿™æ ·ç”¨æˆ·æ‰èƒ½çœ‹åˆ°é¡µé¢çš„å˜åŒ–ã€‚</li>
<li>æœåŠ¡ç«¯å‹åŠ›å¤§ï¼Œä¸ä»…è¦å“åº”é™æ€ <code>html</code> æ–‡ä»¶ï¼Œè¿˜è¦å“åº”æ•°æ®<code>api</code>æ¥å£ã€‚</li>
</ul>
<h3 data-id="heading-2">å®¢æˆ·ç«¯æ¸²æŸ“(CSR)</h3>
<p>åœ¨ç°ä»£åŒ–çš„å‰ç«¯é¡¹ç›®ä¸­ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“çš„ä»£è¡¨æ€§æŠ€æœ¯æ ˆæ˜¯ <code>vue/react/angular</code>ï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨å®ƒä»¬æ¥æ„å»ºå®¢æˆ·ç«¯å•é¡µæˆ–è€…å¤šé¡µåº”ç”¨ç¨‹åºã€‚</p>
<p>ä»¥ <code>SPA</code> æ„å»ºç¨‹åºä¸ºä¾‹ï¼Œåœ¨æµè§ˆå™¨ç«¯é¦–å…ˆæ¸²æŸ“çš„æ˜¯ä¸€å¥—ç©ºçš„ <code>html</code>ï¼Œç„¶åä¸‹è½½<code>bundle.js</code>å¹¶æ‰§è¡Œï¼Œé€šè¿‡ <code>JavaScript</code> ç›´æ¥è¿›è¡Œé¡µé¢çš„æ¸²æŸ“å’Œè·¯ç”±è·³è½¬ç­‰æ“ä½œï¼Œæ‰€æœ‰çš„æ•°æ®é€šè¿‡ <code>ajax</code> è¯·æ±‚ä»æœåŠ¡ç«¯è·å–ã€‚</p>
<p>è·¯ç”±çš„è·³è½¬æ˜¯é€šè¿‡history api å®ç°çš„ï¼Œå®ƒæœ€å¤§çš„ä½œç”¨æ˜¯èƒ½æ”¹å˜urlåœ°å€ï¼Œä½†æ˜¯ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå‘é€è¯·æ±‚ã€‚è¿™æ ·å¯¹ç”¨æˆ·æ“ä½œæ¥è¯´å°±éå¸¸çš„æ— æ„Ÿï¼Œå…‹æœäº†ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“æ¯æ¬¡éƒ½è¦è¯·æ±‚æœåŠ¡å™¨çš„å›°æ‰°ã€‚</p>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>é¦–å±åŠ è½½æ…¢ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡ä¼šè¯·æ±‚ä¸€ä¸ªç©ºçš„<code>html</code>æ–‡ä»¶ï¼Œå†å»åŠ è½½ <code>bundle.js</code>ç­‰æ‰“åŒ…åçš„æ–‡ä»¶ã€‚</li>
<li>ä¸åˆ©äºç½‘ç«™ <code>SEO</code>ï¼Œå› ä¸ºé¦–æ¬¡è¯·æ±‚å›æ¥çš„æ˜¯ç©ºçš„ <code>html</code> æ–‡ä»¶ï¼Œçˆ¬è™«æ— æ³•è·å–æœ‰æ•ˆå†…å®¹ä¿¡æ¯ï¼Œå…¶å®ç°åœ¨çš„çˆ¬è™«ä¹Ÿèƒ½çˆ¬å–spaç½‘ç«™äº†ã€‚</li>
</ul>
<h3 data-id="heading-3">ç°ä»£æœåŠ¡ç«¯æ¸²æŸ“(åŒæ„)</h3>
<p>æˆ‘ä»¬ç°åœ¨è®²çš„æœåŠ¡ç«¯æ¸²æŸ“æ¦‚å¿µï¼Œæ˜¯æŒ‡åœ¨å‰ç«¯èŒƒç•´æˆ–è€…è¯´åœ¨ <code>Vue/React</code> ç­‰å•é¡µé¢æŠ€æœ¯èŒƒç•´å†…çš„ï¼ŒåŸºäº <code>Nodejs server</code> è¿è¡Œç¯å¢ƒçš„æœåŠ¡ç«¯æ¸²æŸ“æ–¹æ¡ˆï¼Œè¿™ç§æ–¹æ¡ˆçš„æœ¬è´¨æ˜¯<strong>åŒæ„æ¸²æŸ“</strong>ã€‚å®ƒçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åœ¨ <code>Nodejs</code> ä¸­è¿è¡Œç›¸åŒçš„å‰ç«¯ä»£ç ï¼Œå°†ç”¨<code>Vue/React</code>æ¡†æ¶å†™çš„ä»£ç è½¬åŒ–ä¸º<code>html</code> ç»“æ„ï¼Œç„¶åè¿”å›ç»™æµè§ˆå™¨æ¸²æŸ“ï¼Œè¿™æ ·çˆ¬è™«å°±èƒ½çˆ¬å–åˆ°å®Œæ•´çš„é¡µé¢ä¿¡æ¯ã€‚</li>
<li>å®¢æˆ·ç«¯è·å–åˆ°æœåŠ¡ç«¯è¿”å›çš„é¡µé¢åï¼Œå†è¿›è¡Œæ³¨æ°´(hydrate)åŒ–å¤„ç†ï¼Œç”±å®¢æˆ·ç«¯ä»£ç (SPAä»£ç )æ¥æ¥ç®¡é¡µé¢ã€‚</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ³¨æ°´å¤„ç†å‘¢ï¼Ÿ</strong></p>
<p>å› ä¸ºæœåŠ¡ç«¯ç¯å¢ƒæ¯•ç«Ÿä¸åŒäºæµè§ˆå™¨ç¯å¢ƒï¼Œç¼ºå°‘æµè§ˆå™¨ç¯å¢ƒå¿…è¦çš„å˜é‡å’Œ<code>API</code>ã€‚æ¯”å¦‚ï¼Œé¡µé¢ä¸­çš„ç‚¹å‡»äº‹ä»¶å°±æ— æ³•åœ¨æœåŠ¡ç«¯è¿›è¡Œæ³¨å†Œï¼Œå› ä¸ºåœ¨æœåŠ¡ç«¯ç¯å¢ƒä¸­æ˜¯æ²¡æœ‰DOMèŠ‚ç‚¹çš„æ¦‚å¿µçš„ï¼Œå®ƒåªæ˜¯ä¸€å †å­—ç¬¦ä¸²è€Œå·²ï¼Œè‡ªç„¶æ— æ³•ä½¿ç”¨ <code>document.addEventListener</code> è¿™æ ·çš„<code>API</code>ã€‚ä¹Ÿå°±æ˜¯å¦‚æœå®¢æˆ·ç«¯ä»£ç ä¸æ¥ç®¡é¡µé¢ï¼Œé‚£ä¹ˆé¡µé¢é‡Œé¢æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶å°†ä¸å¯ç”¨ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯åŒæ„ï¼Ÿ</strong></p>
<p>åŒæ„ç®€å•æ¥è®²å°±æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å¤ç”¨åŒä¸€å¥—ä»£ç ã€‚æ¯”å¦‚ï¼Œé¡µé¢<code>html</code>ç»“æ„ã€<code>store</code>æ•°æ®å­˜å‚¨ã€<code>router</code>è·¯ç”±éƒ½èƒ½å…±äº«ä¸€å¥—ä»£ç ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ç°ä»£æœåŠ¡ç«¯æ¸²æŸ“ï¼š<strong>åŒæ„</strong>ã€‚</p>
<p><strong>ç¼ºç‚¹</strong></p>
<ol>
<li>SSR çš„æ•°æ®è·å–å¿…é¡»åœ¨ç»„ä»¶æ¸²æŸ“ä¹‹å‰ï¼›</li>
<li>ç»„ä»¶çš„ JavaScript å¿…é¡»å…ˆåŠ è½½åˆ°å®¢æˆ·ç«¯ï¼Œæ‰èƒ½å¼€å§‹æ°´åˆï¼›</li>
<li>æ‰€æœ‰ç»„ä»¶å¿…é¡»å…ˆæ°´åˆï¼Œç„¶åæ‰èƒ½è·Ÿå…¶ä¸­ä»»æ„ä¸€ä¸ªç»„ä»¶äº¤äº’ï¼›</li>
</ol>
<p>å¯ä»¥çœ‹å‡º SSR è¿™ç§æŠ€æœ¯<strong>å¤§å¼€å¤§åˆï¼ŒåŠ è½½æ•´ä¸ªé¡µé¢çš„æ•°æ®ï¼ŒåŠ è½½æ•´ä¸ªé¡µé¢çš„ JavaScriptï¼Œæ°´åˆæ•´ä¸ªé¡µé¢ï¼Œè¿˜å¿…é¡»æŒ‰æ­¤é¡ºåºä¸²è¡Œæ‰§è¡Œ</strong>ã€‚å¦‚æœæœ‰æŸäº›éƒ¨åˆ†æ…¢äº†ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä½“æ•ˆç‡é™ä½ã€‚</p>
<p>æ­¤å¤–ï¼Œ<strong>SSR åªç”¨äºé¡µé¢çš„åˆå§‹åŒ–åŠ è½½ï¼Œå¯¹äºåç»­çš„äº¤äº’ã€é¡µé¢æ›´æ–°ã€æ•°æ®æ›´æ”¹ï¼ŒSSR å¹¶æ— ä½œç”¨</strong>ã€‚</p>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆé€‰æ‹© SSRï¼Ÿ</h2>
<p>ç›¸æ¯”äºå®¢æˆ·ç«¯æ¸²æŸ“ CRS (å•é¡µé¢åº”ç”¨)ï¼ŒSSR ä¸»è¦çš„å¥½å¤„æ˜¯ï¼š</p>
<p><strong>æ›´å¿«çš„å†…å®¹å‘ˆç°</strong></p>
<p>å°¤å…¶æ˜¯ç½‘ç»œè¿æ¥ç¼“æ…¢æˆ–è®¾å¤‡è¿è¡Œé€Ÿåº¦ç¼“æ…¢çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯æ ‡è®°ä¸éœ€è¦ç­‰å¾…æ‰€æœ‰çš„ JavaScript è„šæœ¬éƒ½è¢«ä¸‹è½½å¹¶æ‰§è¡Œä¹‹åæ‰æ˜¾ç¤ºï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥æ›´å¿«çœ‹åˆ°å®Œæ•´çš„æ¸²æŸ“å¥½çš„å†…å®¹ã€‚è¿™å¸¦æ¥äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼ŒåŒ<strong>æ—¶å¯¹äºå†…å®¹å‘ˆç°æ—¶é—´å’Œè½¬åŒ–ç‡å‘ˆæ­£ç›¸å…³çš„åº”ç”¨æ¥è¯´å°¤ä¸ºå…³é”®</strong>ã€‚</p>
<p><strong>æ›´å¥½çš„æœç´¢å¼•æ“ä¼˜åŒ– (SEO)</strong></p>
<p>å› ä¸ºåç«¯ä¼šä¸€æ¬¡æ€§çš„æŠŠç½‘ç«™å†…å®¹è¿”å›ç»™å‰ç«¯ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬è™«ä¼šç›´æ¥è¯»å–å®Œæ•´çš„æ¸²æŸ“å‡ºæ¥çš„é¡µé¢ã€‚ä½†å¦‚æœä½ çš„JavaScript è„šæœ¬æ˜¯é€šè¿‡ API è°ƒç”¨è·å–å†…å®¹ï¼Œåˆ™çˆ¬è™«ä¸ä¼šç­‰å¾…é¡µé¢åŠ è½½å®Œæˆã€‚è¿™æ„å‘³ç€å¦‚æœä½ çš„é¡µé¢æœ‰å¼‚æ­¥åŠ è½½çš„å†…å®¹ä¸” SEO å¾ˆé‡è¦ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ SSRã€‚</p>
<p>é™¤äº†ä¸Šé¢ä¸¤ä¸ªä¼˜ç‚¹å¤–ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›ç‚¹æ¥å†³å®šæ˜¯æ˜¯å¦é€‰ç”¨SSRï¼š</p>
<ul>
<li><strong>å¼€å‘ä¸€è‡´æ€§</strong>ã€‚æµè§ˆå™¨ç‰¹æœ‰çš„ API åªèƒ½åœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­ä½¿ç”¨ï¼›ä¸€äº›å¤–éƒ¨çš„åº“åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ä¸­å¯èƒ½éœ€è¦ç»è¿‡ç‰¹æ®Šå¤„ç†ã€‚</li>
<li><strong>éœ€è¦æ›´å¤šçš„æ„å»ºè®¾å®šå’Œéƒ¨ç½²è¦æ±‚</strong>ã€‚ä¸åŒäºä¸€ä¸ªå®Œå…¨é™æ€çš„ SPA å¯ä»¥éƒ¨ç½²åœ¨ä»»æ„çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œ <code>Nodejs</code> æœåŠ¡å™¨çš„ç¯å¢ƒã€‚</li>
<li><strong>æ›´å¤šçš„æœåŠ¡ç«¯è´Ÿè½½</strong>ã€‚åœ¨ <code>Nodejs</code> ä¸­æ¸²æŸ“ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ä¼šæ¯”ä»…ä¾›åº”é™æ€æ–‡ä»¶äº§ç”Ÿæ›´å¯†é›†çš„ CPU è¿ç®—ã€‚æ‰€ä»¥å¦‚æœæµé‡å¾ˆé«˜ï¼Œè¯·åŠ¡å¿…å‡†å¤‡å¥½ä¸å…¶è´Ÿè½½ç›¸å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå¹¶é‡‡å–æ˜æ™ºçš„ç¼“å­˜ç­–ç•¥ã€‚</li>
</ul>
<p>åœ¨åº”ç”¨ä¸­ä½¿ç”¨ SSR ä¹‹å‰ï¼Œä½ éœ€è¦é—®è‡ªå·±çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šä½ æ˜¯å¦çœŸçš„éœ€è¦å®ƒï¼Ÿ</p>
<p><strong>å®ƒé€šå¸¸æ˜¯ç”±å†…å®¹å‘ˆç°æ—¶é—´å¯¹åº”ç”¨çš„é‡è¦ç¨‹åº¦å†³å®šçš„</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨æ­å»ºä¸€ä¸ªå†…éƒ¨ç®¡ç†ç³»ç»Ÿï¼Œå‡ ç™¾æ¯«ç§’çš„åˆå§‹åŒ–åŠ è½½æ—¶é—´å¯¹å®ƒæ¥è¯´æ— å…³ç´§è¦ï¼Œè¿™ç§æƒ…å†µä¸‹å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨ SSRã€‚ç„¶è€Œï¼Œå¦‚æœå†…å®¹å‘ˆç°æ—¶é—´éå¸¸å…³é”®ï¼ŒSSR å¯ä»¥åŠ©ä½ å®ç°æœ€ä½³çš„åˆå§‹åŠ è½½æ€§èƒ½ã€‚</p>
<p><strong>SSR vs é¢„æ¸²æŸ“</strong></p>
<p>å¦‚æœä½ ä»…å¸Œæœ›é€šè¿‡ SSR æ¥æ”¹å–„ä¸€äº›æ¨å¹¿é¡µé¢ (ä¾‹å¦‚Â <code>/</code>ã€<code>/about</code>ã€<code>/contact</code>Â ç­‰) çš„ SEOï¼Œé‚£ä¹ˆ<strong>é¢„æ¸²æŸ“</strong>ä¹Ÿè®¸ä¼šæ›´åˆé€‚ã€‚å’Œä½¿ç”¨åŠ¨æ€ç¼–è¯‘ HTML çš„ web æœåŠ¡å™¨ç›¸æ¯”ï¼Œé¢„æ¸²æŸ“å¯ä»¥åœ¨æ„å»ºæ—¶ä¸ºæŒ‡å®šçš„è·¯ç”±ç”Ÿæˆé™æ€ HTML æ–‡ä»¶ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwebpack.js.org%2F" title="https://link.juejin.cn?target=https%3A%2F%2Fwebpack.js.org%2F" target="_blank">webpack</a>ï¼Œä½ å¯ä»¥é€šè¿‡Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchrisvfritz%2Fprerender-spa-plugin" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchrisvfritz%2Fprerender-spa-plugin" target="_blank">prerender-spa-plugin</a>Â æ¥æ”¯æŒé¢„æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-5">ç°ä»£æœåŠ¡ç«¯æ¸²æŸ“(åŒæ„)å¤§è‡´å®ç°åŸç†</h2>
<p>é€šè¿‡å‰é¢çš„ä»‹ç»ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å°±æ˜¯è¿”å›ä¸€ä¸ªå¸¦æœ‰å…·ä½“å†…å®¹çš„ <code>html</code> å­—ç¬¦ä¸²ç»™æµè§ˆå™¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå…·ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>è¿™ä¸ªå…·ä½“çš„å†…å®¹å°±æ˜¯ç”¨ <code>Vue</code> å¼€å‘çš„é¡µé¢å†…å®¹ï¼Œä½†æ˜¯å¦‚æœç›´æ¥æŠŠå¸¦æœ‰ <code>Vue</code> è¯­æ³•å¡è¿› html æ¨¡æ¿æµè§ˆå™¨æ ¹æœ¬æ— æ³•è¯†åˆ«ï¼Œå› æ­¤ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ä¹Ÿéœ€è¦ä½¿ç”¨ <code>Vite</code> è¿›è¡Œç¼–è¯‘æ‰“åŒ…è½¬åŒ–ä¸ºæµè§ˆå™¨èƒ½è¯†åˆ«çš„<code>javascript</code>è¯­æ³•ã€‚</p>
<p>æ ¹æ®<strong>åŒæ„</strong>æ¦‚å¿µç†è§£ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ˜¯å…±ç”¨åŒä¸€å¥—çš„é¡µé¢å†…å®¹ä»£ç çš„ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦åˆ†åˆ«æ‰“åŒ…ç¼–è¯‘ã€‚</p>
<p>é¦–å…ˆå°±æ˜¯ç¼–å†™é€šç”¨ä»£ç ï¼Œé€‚ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚</p>
<h3 data-id="heading-6">ä¸€. ç¼–å†™é€šç”¨ä»£ç </h3>
<p>ç”±äºå¹³å° API çš„å·®å¼‚ï¼Œå½“è¿è¡Œåœ¨ä¸åŒç¯å¢ƒä¸­æ—¶ï¼Œæˆ‘ä»¬å†™çš„é€šç”¨ä»£ç å°†ä¸çº¯å®¢æˆ·ç«¯ä»£ç ä¸ä¼šå®Œå…¨ç›¸åŒã€‚éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p>
<h4 data-id="heading-7">1. é¿å…çŠ¶æ€å•ä¾‹</h4>
<p>åœ¨çº¯å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­ï¼Œæ¯ä¸ªç”¨æˆ·ä¼šåœ¨ä»–ä»¬å„è‡ªçš„æµè§ˆå™¨ä¸­ä½¿ç”¨æ–°çš„åº”ç”¨ç¨‹åºå®ä¾‹ã€‚å¯¹äºæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›å¦‚æ­¤ã€‚</p>
<p>ä½†æ˜¯ï¼ŒNode.js æœåŠ¡å™¨æ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„è¿›ç¨‹ã€‚å½“æˆ‘ä»¬çš„ä»£ç è¿›å…¥è¯¥è¿›ç¨‹æ—¶ï¼Œå®ƒå°†è¿›è¡Œä¸€æ¬¡å–å€¼å¹¶ç•™å­˜åœ¨å†…å­˜ä¸­ã€‚è¿™æ„å‘³ç€å¦‚æœåˆ›å»ºä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œå®ƒå°†åœ¨æ¯ä¸ªä¼ å…¥çš„è¯·æ±‚ä¹‹é—´å…±äº«ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¿…é¡»è¦æ±‚æ¯ä¸ªè¯·æ±‚éƒ½åº”è¯¥éƒ½æ˜¯å…¨æ–°çš„ã€ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œä»¥ä¾¿ä¸ä¼šæœ‰äº¤å‰è¯·æ±‚é€ æˆçš„çŠ¶æ€æ±¡æŸ“ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ç›´æ¥åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå®ä¾‹ï¼Œè€Œæ˜¯åº”è¯¥æš´éœ²ä¸€ä¸ªå¯ä»¥é‡å¤æ‰§è¡Œçš„å·¥å‚å‡½æ•°ï¼Œä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°çš„åº”ç”¨ç¨‹åºå®ä¾‹ï¼š</p>
<p>å¯¹åŸæœ‰å®¢æˆ·ç«¯ä»£ç ä»£ç è¿›è¡Œæ”¹é€ ï¼š</p>
<p><code>main.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"># åŸæœ‰ä»£ç 
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$message</span> = <span class="hljs-title class_">ElMessage</span>
app.<span class="hljs-title function_">use</span>(router)
app.<span class="hljs-title function_">use</span>(store, key)
app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)
app.<span class="hljs-title function_">use</span>(i18n)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)

# æ”¹é€ åä»£ç ï¼šå˜ä¸ºå·¥å‚å‡½æ•°
<span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)
  <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createSSRStore</span>()
  <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createSSRRouter</span>()
  <span class="hljs-keyword">const</span> i18n = <span class="hljs-title function_">createSSRI18n</span>()
  <span class="hljs-title function_">sync</span>(store, router)
  app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$message</span> = <span class="hljs-title class_">ElMessage</span>
  app.<span class="hljs-title function_">use</span>(store, key)
  app.<span class="hljs-title function_">use</span>(router)
  app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)
  app.<span class="hljs-title function_">use</span>(i18n)

  <span class="hljs-keyword">return</span> { app, router, store }
}
</code></pre>
<p>åŒç†ï¼Œé¡¹ç›®ä¸­çš„æ•°æ®å­˜å‚¨<code>store</code>ï¼Œè·¯ç”±<code>router</code>ç­‰éƒ½éœ€è¦æ”¹é€ æˆå·¥å‚å‡½æ•°çš„å½¢å¼ï¼Œæ¯”å¦‚è·¯ç”±ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createSSRRouter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createRouter</span>({
    # <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>æ˜¯viteæä¾›ç¯å¢ƒå˜é‡
    # æœåŠ¡ç«¯æ¸²æŸ“åªèƒ½ç”¨createMemoryHistory
    <span class="hljs-attr">history</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span> ? <span class="hljs-title function_">createMemoryHistory</span>() : <span class="hljs-title function_">createWebHistory</span>(),
    routes
  })
}
</code></pre>
<h4 data-id="heading-8">2. ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</h4>
<p>ç”±äºæœåŠ¡ç«¯æ²¡æœ‰åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­ï¼Œåªæœ‰Â <code>beforeCreate</code>Â å’ŒÂ <code>created</code>Â ä¼šåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) è¿‡ç¨‹ä¸­è¢«è°ƒç”¨ã€‚è¿™å°±æ˜¯è¯´ä»»ä½•å…¶ä»–ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¾‹å¦‚Â <code>beforeMount</code>Â æˆ–Â <code>mounted</code>ï¼‰ï¼Œåªä¼šåœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚</p>
<p>æ­¤å¤–è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ åº”è¯¥é¿å…åœ¨Â <code>beforeCreate</code>Â å’ŒÂ <code>created</code>Â ç”Ÿå‘½å‘¨æœŸæ—¶äº§ç”Ÿå…¨å±€å‰¯ä½œç”¨çš„ä»£ç ï¼Œä¾‹å¦‚åœ¨å…¶ä¸­ä½¿ç”¨Â <code>setInterval</code>Â è®¾ç½® timerã€‚åœ¨çº¯å®¢æˆ·ç«¯çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ª timerï¼Œç„¶ååœ¨Â <code>beforeDestroy</code>Â æˆ–Â <code>destroyed</code>Â ç”Ÿå‘½å‘¨æœŸæ—¶å°†å…¶é”€æ¯ã€‚ä½†æ˜¯ï¼Œç”±äºåœ¨ SSR æœŸé—´å¹¶ä¸ä¼šè°ƒç”¨é”€æ¯é’©å­å‡½æ•°ï¼Œæ‰€ä»¥ timer å°†æ°¸è¿œä¿ç•™ä¸‹æ¥ã€‚</p>
<h4 data-id="heading-9">3. è®¿é—®ç‰¹å®šå¹³å°API</h4>
<p>é€šç”¨ä»£ç ä¸å¯æ¥å—ç‰¹å®šå¹³å°çš„ APIï¼Œå› æ­¤å¦‚æœä½ çš„ä»£ç ä¸­ï¼Œç›´æ¥ä½¿ç”¨äº†åƒÂ <code>window</code>Â æˆ–Â <code>document</code>ï¼Œè¿™ç§ä»…æµè§ˆå™¨å¯ç”¨çš„å…¨å±€å˜é‡ï¼Œåˆ™ä¼šåœ¨ Node.js ä¸­æ‰§è¡Œæ—¶æŠ›å‡ºé”™è¯¯ï¼Œåä¹‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>å¯¹äºå…±äº«äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œä½†ç”¨äºä¸åŒå¹³å° API çš„ä»»åŠ¡ï¼Œå»ºè®®å°†å¹³å°ç‰¹å®šå®ç°åŒ…å«åœ¨é€šç”¨ API ä¸­ï¼Œä¾‹å¦‚ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faxios%2Faxios" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faxios%2Faxios" target="_blank">axios</a>æ˜¯ä¸€ä¸ª HTTP å®¢æˆ·ç«¯ï¼Œå¯ä»¥å‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½æš´éœ²ç›¸åŒçš„ APIã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè€ƒè™‘åˆ°å¦‚æœç¬¬ä¸‰æ–¹ library ä¸æ˜¯ä»¥ä¸Šé¢çš„é€šç”¨ç”¨æ³•ç¼–å†™ï¼Œåˆ™å°†å…¶é›†æˆåˆ°æœåŠ¡å™¨æ¸²æŸ“çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚</p>
<h3 data-id="heading-10">äºŒã€ æ„å»ºæ­¥éª¤</h3>
<p>ç¼–å†™å¥½é€šç”¨ä»£ç ä¹‹åï¼Œå°±éœ€è¦ä½¿ç”¨æ„å»ºå·¥å…·<code>webpack</code>,Â <code>Vite</code>è¿›è¡Œæ‰“åŒ…æ„å»ºï¼Œæˆ‘ä»¬å°†ä¼šé‡‡ç”¨<code>Vite</code>è¿›è¡Œæ„å»ºï¼Œæ„å»ºè¿‡ç¨‹å¦‚ä¸‹:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/deb913f4312f4dfd9e4bc173eea9c7ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767700186&amp;x-signature=mgzf5t%2Bnmfksx2ihq8%2BwdiOo%2F%2BQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">1. åˆ›å»ºå®¢æˆ·ç«¯å…¥å£å’ŒæœåŠ¡ç«¯å…¥å£æ–‡ä»¶</h4>
<p>ä¸€ä¸ªå…¸å‹çš„ SSR åº”ç”¨åº”è¯¥æœ‰å¦‚ä¸‹çš„æºæ–‡ä»¶ç»“æ„ï¼š</p>
<pre><code class="hljs language-js" lang="js">- index.<span class="hljs-property">html</span> # æ¨¡ç‰ˆhtmlæ–‡ä»¶
- server.<span class="hljs-property">ts</span> # main application server
- src/
  - main.<span class="hljs-property">js</span> # å…¬å…±é€šç”¨ä»£ç ï¼Œä¸æ˜¯å…¥å£æ–‡ä»¶
  - entry-client.<span class="hljs-property">ts</span>  # å®¢æˆ·ç«¯å…¥å£ï¼š å°†åº”ç”¨æŒ‚è½½åˆ°ä¸€ä¸ª <span class="hljs-variable constant_">DOM</span> å…ƒç´ ä¸Š
  - entry-server.<span class="hljs-property">ts</span>  # æœåŠ¡ç«¯å…¥å£ï¼šä½¿ç”¨æŸæ¡†æ¶çš„ <span class="hljs-variable constant_">SSR</span> <span class="hljs-variable constant_">API</span> æ¸²æŸ“è¯¥åº”ç”¨
</code></pre>
<p><strong>index.html</strong></p>
<p>é¦–å…ˆçœ‹ä¸‹<code>index.html</code>æ–‡ä»¶ï¼Œå®ƒåŸæ¥é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/svg+xml"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/vite.svg"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸€ä¸ªç»å…¸çš„å‰å°é¡¹ç›®<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
</code></pre>
<p><code>&lt;script type="module" src="/src/main.js"&gt;&lt;/script&gt;</code>ä¸­çš„<code>type="module"</code>çš„å«ä¹‰ä¸å¸¦Â <code>defer</code>Â çš„æ™®é€šè„šæœ¬ä¸€è‡´ï¼š</p>
<ul>
<li>ä¸ä¼šé˜»å¡ HTML è§£æï¼›</li>
<li>ä¼šç­‰å¾… HTML è§£æå®Œæˆåï¼ŒæŒ‰è„šæœ¬åœ¨é¡µé¢ä¸­çš„é¡ºåºæ‰§è¡Œï¼›</li>
<li>æ™®é€šè„šæœ¬ï¼ˆæ— Â <code>defer</code>/<code>async</code>ï¼‰ä¼šé˜»å¡è§£æï¼Œæ‰§è¡Œå®Œæ‰ç»§ç»­è§£æ HTMLã€‚</li>
</ul>
<p>å¼€å‘å®Œä»£ç åï¼Œæ‰§è¡Œ<code>npm run build</code>è¿›è¡Œæ‰“åŒ…åé•¿è¿™ä¸ªæ ·å­ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/svg+xml"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/vite.svg"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸€ä¸ªç»å…¸çš„å‰å°é¡¹ç›®<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">crossorigin</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/assets/index-IiCrRs2g.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">crossorigin</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/assets/index-NLCfHQLN.css"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</span></code></pre>
<p>å…¶ä¸­çš„<code>index-IiCrRs2g.js</code>æ˜¯æ•´ä¸ªå‰ç«¯åº”ç”¨çš„<strong>æ ¸å¿ƒå…¥å£æ–‡ä»¶</strong>ï¼Œå…¶æ ¸å¿ƒä½œç”¨æ˜¯å¯åŠ¨ Vue åº”ç”¨ã€æŒ‚è½½æ ¹ç»„ä»¶ï¼Œå¹¶åŠ è½½åº”ç”¨è¿è¡Œæ‰€éœ€çš„æ ¸å¿ƒä¾èµ– / èµ„æºã€‚</p>
<p>ç°åœ¨éœ€è¦æ”¹é€ å¦‚ä¸‹ï¼š</p>
<p><code>index.html</code>Â å°†éœ€è¦å¼•ç”¨Â <code>entry-client.ts</code>ï¼Œè€Œä¸æ˜¯åŸæ¥çš„<code>main.ts</code>ï¼Œå¹¶åŒ…å«ä¸€ä¸ªå ä½æ ‡è®°ä¾›ç»™æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;div id=<span class="hljs-string">"app"</span>&gt;&lt;!--ssr-outlet--&gt;&lt;/div&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/entry-client.ts"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>æœåŠ¡ç«¯æ¸²æŸ“åçš„htmlå­—ç¬¦ä¸²ä¼šæ›¿æ¢<code>&lt;!--ssr-outlet--&gt;</code>ï¼Œ<code>/src/entry-client.ts</code>ä»£ç ä¸»è¦æ˜¯ç”¨äºæ¥ç®¡é¡µé¢ï¼Œä½¿å…¶å…·å¤‡äº¤äº’èƒ½åŠ›ã€‚</p>
<p><strong>entry-client.ts</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'./main'</span>

<span class="hljs-keyword">const</span> { app, router, store } = <span class="hljs-title function_">createApp</span>()

router.<span class="hljs-title function_">isReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
})
</code></pre>
<p><strong>entry-server.ts</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'./main'</span>
<span class="hljs-keyword">import</span> { renderToString } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/server-renderer'</span>

<span class="hljs-comment">// æœåŠ¡ç«¯æ¸²æŸ“æ ¸å¿ƒå‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> { app, router, store } = <span class="hljs-title function_">createApp</span>() 
  # æ ¹æ®urlæ¥æ¸²æŸ“å¯¹åº”çš„é¡µé¢
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">push</span>(url) 
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>() 
  <span class="hljs-keyword">const</span> appHtml = <span class="hljs-keyword">await</span> <span class="hljs-title function_">renderToString</span>(app) 
  <span class="hljs-keyword">return</span> appHtml
}
</code></pre>
<p><strong>server.ts</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)
<span class="hljs-keyword">const</span> serveStatic = <span class="hljs-built_in">require</span>(<span class="hljs-string">'serve-static'</span>)
<span class="hljs-keyword">const</span> { <span class="hljs-attr">createServer</span>: createViteServer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vite'</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createServer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()

  <span class="hljs-keyword">const</span> vite = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createViteServer</span>({
    <span class="hljs-attr">server</span>: { <span class="hljs-attr">middlewareMode</span>: <span class="hljs-string">'ssr'</span> }
  })
 
  app.<span class="hljs-title function_">use</span>(vite.<span class="hljs-property">middlewares</span>)

  app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> url = req.<span class="hljs-property">originalUrl</span>
    # <span class="hljs-number">1.</span> è¯»å– index.<span class="hljs-property">html</span>
    <span class="hljs-keyword">let</span> template = fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'index.html'</span>),
          <span class="hljs-string">'utf-8'</span>)
          
    template = <span class="hljs-keyword">await</span> vite.<span class="hljs-title function_">transformIndexHtml</span>(url, template)      
          
    # <span class="hljs-number">2.</span> entry-server.<span class="hljs-property">ts</span> æš´éœ²äº†renderæ–¹æ³•
    <span class="hljs-keyword">let</span> render = (<span class="hljs-keyword">await</span> vite.<span class="hljs-title function_">ssrLoadModule</span>(<span class="hljs-string">'/src/entry-server.ts'</span>)).<span class="hljs-property">render</span>
       
    # <span class="hljs-number">3.</span> æ ¹æ®urlæ¸²æŸ“å¯¹åº”çš„
    <span class="hljs-keyword">const</span> appHtml = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(url)
    
    # <span class="hljs-number">4.</span> æ’å…¥åˆ°divä¸­
    <span class="hljs-keyword">const</span> html = template.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'&lt;!--ssr-outlet--&gt;'</span>, appHtml)
    
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">set</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span> }).<span class="hljs-title function_">end</span>(html)
   
  })

  app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'node server run at:'</span>, isProd ? <span class="hljs-string">'ç”Ÿäº§ç¯å¢ƒ'</span> : <span class="hljs-string">'å¼€å‘ç¯å¢ƒ'</span>)
  })
}

<span class="hljs-title function_">createServer</span>()
</code></pre>
<p><strong>package.json</strong></p>
<p><code>package.json</code>Â ä¸­çš„Â <code>dev</code>Â è„šæœ¬ä¹Ÿåº”è¯¥ç›¸åº”åœ°æ”¹å˜ï¼Œä½¿ç”¨æœåŠ¡å™¨è„šæœ¬ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-comment">// "dev": "vite"</span>
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"cross-env NODE_ENV=development node server.js"</span>,
}
</code></pre>
<h4 data-id="heading-12">2. æ‰“åŒ…å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»£ç </h4>
<p><code>package.json</code>Â ä¸­çš„è„šæœ¬åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"node server"</span>,
    <span class="hljs-string">"build:client"</span>: <span class="hljs-string">"vite build --outDir dist/client"</span>,
    <span class="hljs-string">"build:server"</span>: <span class="hljs-string">"vite build --outDir dist/server --ssr src/entry-server.js "</span>
  }
}
</code></pre>
<p>ä½¿ç”¨Â <code>--ssr</code>Â æ ‡å¿—è¡¨æ˜è¿™å°†ä¼šæ˜¯ä¸€ä¸ª SSR æ„å»ºï¼ŒåŒæ—¶éœ€è¦æŒ‡å®š SSR çš„å…¥å£ã€‚</p>
<p>æ¥ç€ï¼Œåœ¨Â <code>server.js</code>Â ä¸­ï¼Œé€šè¿‡Â <code>process.env.NODE_ENV</code>Â æ¡ä»¶ï¼Œéœ€è¦æ·»åŠ ä¸€äº›ç”¨äºç”Ÿäº§ç¯å¢ƒçš„ç‰¹å®šé€»è¾‘ï¼š</p>
<ul>
<li><code>index.html</code>æ¨¡ç‰ˆå˜æ›´ï¼šä½¿ç”¨Â <code>dist/client/index.html</code>Â ä½œä¸ºæ¨¡æ¿ï¼Œè€Œä¸æ˜¯æ ¹ç›®å½•çš„Â <code>index.html</code>ï¼Œå› ä¸ºå‰è€…åŒ…å«äº†åˆ°å®¢æˆ·ç«¯æ„å»ºçš„æ­£ç¡®èµ„æºé“¾æ¥ã€‚</li>
<li>æœåŠ¡ç«¯å…¥å£æ–‡ä»¶å˜æ›´ï¼šåŸæ¥æ˜¯<code>/src/entry-server.js</code>ï¼Œ ç°åœ¨è¦ä½¿ç”¨Â <code>import('./dist/server/entry-server.js')</code>ã€‚</li>
</ul>
<p>ä¿®æ”¹åä»£ç å¦‚ä¸‹:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)
<span class="hljs-keyword">const</span> serveStatic = <span class="hljs-built_in">require</span>(<span class="hljs-string">'serve-static'</span>)
<span class="hljs-keyword">const</span> { <span class="hljs-attr">createServer</span>: createViteServer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vite'</span>)

<span class="hljs-keyword">const</span> isProd = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createServer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()

  <span class="hljs-keyword">const</span> vite = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createViteServer</span>({
    <span class="hljs-attr">server</span>: { <span class="hljs-attr">middlewareMode</span>: <span class="hljs-string">'ssr'</span> }
  })
  
  # åœ¨ç”Ÿäº§ç¯å¢ƒéœ€è¦viteä¸expressè¿›è¡Œè„±é’©
  <span class="hljs-keyword">if</span> (!isProd) {
    # ä½¿ç”¨ vite çš„ <span class="hljs-title class_">Connect</span> å®ä¾‹ä½œä¸ºä¸­é—´ä»¶ï¼Œåˆ©ç”¨è¿™ä¸ªä¸­é—´ä»¶æ¥èµ·ä¸€ä¸ªé™æ€èµ„æºæœåŠ¡å™¨
    app.<span class="hljs-title function_">use</span>(vite.<span class="hljs-property">middlewares</span>)
  } <span class="hljs-keyword">else</span> {
    # åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œåˆ©ç”¨expressæ¡†æ¶è‡ªå¸¦çš„ä¸­é—´ä»¶serve-<span class="hljs-keyword">static</span>ï¼Œåˆ©ç”¨è¿™ä¸ªä¸­é—´ä»¶æ¥èµ·ä¸€ä¸ªé™æ€èµ„æºæœåŠ¡å™¨
    # æŠŠdist/clientæ–‡ä»¶å¤¹ä¸‹çš„èµ„æºéƒ½å¯ä»¥è®¿é—®
    app.<span class="hljs-title function_">use</span>(
      <span class="hljs-title function_">serveStatic</span>(path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'dist/client'</span>), { <span class="hljs-attr">index</span>: <span class="hljs-literal">false</span> })
    )
  }

  app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> url = req.<span class="hljs-property">originalUrl</span>
    <span class="hljs-keyword">let</span> template
    <span class="hljs-keyword">let</span> render
    <span class="hljs-keyword">try</span> {
      # åœ¨ç”Ÿäº§ç¯å¢ƒéœ€è¦viteä¸expressè¿›è¡Œè„±é’©
      <span class="hljs-keyword">if</span> (!isProd) {
        <span class="hljs-comment">// 1. è¯»å– index.html</span>
        template = fs.<span class="hljs-title function_">readFileSync</span>(
          path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'index.html'</span>),
          <span class="hljs-string">'utf-8'</span>
        )
        
        # <span class="hljs-number">2.</span> åº”ç”¨ <span class="hljs-title class_">Vite</span> è¿›è¡Œ <span class="hljs-variable constant_">HTML</span> è½¬æ¢ï¼Œè¿™å°†ä¼šæ³¨å…¥ <span class="hljs-title class_">Vite</span> <span class="hljs-variable constant_">HMR</span> å®¢æˆ·ç«¯ï¼Œ
        template = <span class="hljs-keyword">await</span> vite.<span class="hljs-title function_">transformIndexHtml</span>(url, template)
        
        # <span class="hljs-number">3.</span> åŠ è½½æœåŠ¡å™¨å…¥å£æ–‡ä»¶ï¼Œvite.<span class="hljs-property">ssrLoadModule</span> å°†è‡ªåŠ¨è½¬æ¢ä½ çš„ <span class="hljs-variable constant_">ESM</span> æºç ä½¿ä¹‹å¯ä»¥åœ¨ <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> ä¸­è¿è¡Œã€‚æ—¢ç„¶æ˜¯åŠ è½½æ–‡ä»¶ï¼Œè‚¯å®šæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥ä½¿ç”¨<span class="hljs-keyword">await</span>
        render = (<span class="hljs-keyword">await</span> vite.<span class="hljs-title function_">ssrLoadModule</span>(<span class="hljs-string">'/src/entry-server.ts'</span>)).<span class="hljs-property">render</span>
      } <span class="hljs-keyword">else</span> {
        # <span class="hljs-number">1.</span> ç”Ÿäº§ç¯å¢ƒéœ€è¦åŠ è½½ç¼–è¯‘åçš„æ¨¡ç‰ˆæ–‡ä»¶index.<span class="hljs-property">html</span>
        template = fs.<span class="hljs-title function_">readFileSync</span>(
          path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'dist/client/index.html'</span>),
          <span class="hljs-string">'utf-8'</span>
        )
        # <span class="hljs-number">2.</span> ä½¿ç”¨<span class="hljs-variable constant_">SSR</span>æ„å»ºåçš„æœ€ç»ˆrenderå‡½æ•°
        render = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./dist/server/entry-server.js'</span>).<span class="hljs-property">render</span>
      }

      # <span class="hljs-number">4.</span> æ¸²æŸ“åº”ç”¨çš„ <span class="hljs-variable constant_">HTML</span>
      <span class="hljs-keyword">const</span> appHtml = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(url, manifest)

      # <span class="hljs-number">5.</span> æ³¨å…¥æ¸²æŸ“åçš„åº”ç”¨ç¨‹åº <span class="hljs-variable constant_">HTML</span> åˆ°æ¨¡æ¿ä¸­ã€‚
      <span class="hljs-keyword">const</span> html = template
        .<span class="hljs-title function_">replace</span>(<span class="hljs-string">'&lt;!--ssr-outlet--&gt;'</span>, appHtml)
       
      <span class="hljs-comment">// 6. è¿”å›æ¸²æŸ“åçš„ HTMLã€‚</span>
      res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">set</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span> }).<span class="hljs-title function_">end</span>(html)
    } <span class="hljs-keyword">catch</span> (e) {
      ...
    }
  })

  app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'node server run at:'</span>, isProd ? <span class="hljs-string">'ç”Ÿäº§ç¯å¢ƒ'</span> : <span class="hljs-string">'å¼€å‘ç¯å¢ƒ'</span>)
  })
}

<span class="hljs-title function_">createServer</span>()
</code></pre>
<h3 data-id="heading-13">ä¸‰ã€æ•°æ®è·å–</h3>
<p>åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)æœŸé—´ï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šæ˜¯åœ¨æ¸²æŸ“æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„"å¿«ç…§"ï¼Œæ‰€ä»¥å¦‚æœåº”ç”¨ç¨‹åºä¾èµ–äºä¸€äº›å¼‚æ­¥æ•°æ®ï¼Œ<strong>é‚£ä¹ˆåœ¨å¼€å§‹æ¸²æŸ“è¿‡ç¨‹ä¹‹å‰ï¼Œéœ€è¦å…ˆé¢„å–å’Œè§£æå¥½è¿™äº›æ•°æ®</strong>ã€‚</p>
<p>å¦ä¸€ä¸ªéœ€è¦å…³æ³¨çš„é—®é¢˜æ˜¯åœ¨å®¢æˆ·ç«¯ä»£ç æ¥ç®¡æ—¶ï¼Œéœ€è¦è·å–åˆ°ä¸æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºå®Œå…¨ç›¸åŒçš„æ•°æ®ï¼Œå¦åˆ™å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¼šå› ä¸ºä½¿ç”¨ä¸æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºä¸åŒçš„çŠ¶æ€ï¼Œç„¶åå¯¼è‡´æ°´åˆå¤±è´¥ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè·å–çš„æ•°æ®éœ€è¦ä½äºè§†å›¾ç»„ä»¶ä¹‹å¤–ï¼Œå³æ”¾ç½®åœ¨ä¸“é—¨çš„æ•°æ®é¢„å–å­˜å‚¨å®¹å™¨(data store)æˆ–"çŠ¶æ€å®¹å™¨(state container)"ä¸­ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®˜æ–¹çŠ¶æ€ç®¡ç†åº“Â Vuexã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬åœ¨å“ªé‡Œæ”¾ç½®dispatch æ•°æ®é¢„å– actionçš„ä»£ç ï¼Ÿ</p>
<p>äº‹å®ä¸Šï¼Œç»™å®šè·¯ç”±æ‰€éœ€çš„æ•°æ®ï¼Œä¹Ÿæ˜¯åœ¨è¯¥è·¯ç”±ä¸Šæ¸²æŸ“ç»„ä»¶æ—¶æ‰€éœ€çš„æ•°æ®ã€‚æ‰€ä»¥åœ¨è·¯ç”±ç»„ä»¶ä¸­æ”¾ç½®æ•°æ®é¢„å–é€»è¾‘ï¼Œæ˜¯å¾ˆè‡ªç„¶çš„äº‹æƒ…ã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨è·¯ç”±ç»„ä»¶ä¸Šæš´éœ²å‡ºä¸€ä¸ªè‡ªå®šä¹‰é™æ€å‡½æ•°Â <code>asyncData</code>ã€‚æ³¨æ„ï¼Œç”±äºæ­¤å‡½æ•°ä¼šåœ¨ç»„ä»¶å®ä¾‹åŒ–ä¹‹å‰è°ƒç”¨ï¼Œæ‰€ä»¥å®ƒæ— æ³•è®¿é—®Â <code>this</code>ã€‚éœ€è¦å°† store å’Œè·¯ç”±ä¿¡æ¯ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">asyncData</span>(<span class="hljs-params">{ store, route }: any</span>) {
 <span class="hljs-keyword">return</span> store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">'getRoomList'</span>)
}

<span class="hljs-title function_">defineExpose</span>({ asyncData })
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-14">1. æœåŠ¡å™¨ç«¯æ•°æ®é¢„å–</h4>
<p>åœ¨Â <code>entry-server.js</code>Â ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·¯ç”±è·å¾—ç›¸åŒ¹é…çš„ç»„ä»¶ï¼Œå¦‚æœç»„ä»¶æš´éœ²å‡ºÂ <code>asyncData</code>ï¼Œæˆ‘ä»¬å°±è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬éœ€è¦å°†è§£æå®Œæˆçš„æ•°æ®ï¼Œç»‘å®šåˆ°åˆ°<code>window</code>ä¸Šã€‚</p>
<p>ä¿®æ”¹<code>entry-server.ts</code>:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">url: string, manifest: any</span>) {
  <span class="hljs-keyword">const</span> { app, router, store } = <span class="hljs-title function_">createApp</span>()
  
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">push</span>(url)
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>()

  <span class="hljs-keyword">const</span> matchedComponents = router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>.<span class="hljs-property">matched</span>.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(record.<span class="hljs-property">components</span>)
  )
 
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    matchedComponents.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">Component: any</span>) =&gt;</span> {
      # å¦‚æœç»„ä»¶ä¸­å®šä¹‰äº†asyncDataå‡½æ•°ï¼Œè¯´æ˜è¿™ä¸ªç»„ä»¶éœ€è¦å»åå°è·å–æ¥å£æ•°æ®
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Component</span>.<span class="hljs-property">asyncData</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Component</span>.<span class="hljs-title function_">asyncData</span>({
          <span class="hljs-comment">// ä¼ å…¥storeå’Œå½“å‰routeï¼Œstoreå‚æ•°ç”¨æ¥æ‰§è¡Œstore.dispatchï¼Œå‘èµ·è¯·æ±‚</span>
          store,
          <span class="hljs-attr">route</span>: router.<span class="hljs-property">currentRoute</span>
        })
      }
      <span class="hljs-keyword">return</span> []
    })
  )

  <span class="hljs-keyword">const</span> appHtml = <span class="hljs-keyword">await</span> <span class="hljs-title function_">renderToString</span>(app)
  
  # æ­¤æ—¶stateé‡Œé¢åŒ…å«äº†è¯·æ±‚æ¥å£è·å–çš„æ•°æ®ï¼Œç„¶åå°±æŠŠè¿™ä¸ªæ•°æ®ç»‘å®šåˆ°<span class="hljs-variable language_">window</span>æŸä¸ªå±æ€§ä¸Š
  # è¿™æ ·å½“åŒæ„çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯çš„store.<span class="hljs-property">state</span>å°±èƒ½ç”¨è¿™ä¸ªå€¼ä½œä¸ºåˆå§‹åŒ–åŒ–æ•°æ®ï¼Œå°±ä¸ç”¨å†å»è°ƒä¸€æ¬¡æ¥å£äº†
  <span class="hljs-keyword">const</span> state = store.<span class="hljs-property">state</span>
 
  <span class="hljs-keyword">return</span> { appHtml, state }
}
</code></pre>
<p>ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶<code>index.html</code>:</p>
<pre><code class="hljs language-js" lang="js">&lt;div id=<span class="hljs-string">"app"</span>&gt;&lt;!--ssr-outlet--&gt;&lt;/div&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/entry-client.ts"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="xml">
  window.__INITIAL_STATE__ = '<span class="hljs-comment">&lt;!--vuex-state--&gt;</span>'
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>ä¿®æ”¹<code>server.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { appHtml, state } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(url)
<span class="hljs-keyword">const</span> html = template
    .<span class="hljs-title function_">replace</span>(<span class="hljs-string">'&lt;!--ssr-outlet--&gt;'</span>, appHtml)  
    .<span class="hljs-title function_">replace</span>(<span class="hljs-string">"'&lt;!--vuex-state--&gt;'"</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(state))
</code></pre>
<p>ä¿®æ”¹<code>entry-client.js</code>: ä½¿ç”¨<code>__INITIAL_STATE__</code>æ¥åˆå§‹åŒ–storeï¼Œè¿™æ ·å®¢æˆ·ç«¯æ¥ç®¡æ—¶ä¹Ÿæ˜¯å¸¦æœ‰æ•°æ®çš„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { app, router, store } = <span class="hljs-title function_">createApp</span>()

<span class="hljs-keyword">if</span> ((<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">__INITIAL_STATE__</span>) {
  store.<span class="hljs-title function_">replaceState</span>((<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">__INITIAL_STATE__</span>)
}
</code></pre>
<h4 data-id="heading-15">2. å®¢æˆ·ç«¯æ•°æ®é¢„å–</h4>
<p>é¦–å…ˆæ€è€ƒä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰å®¢æˆ·ç«¯æ•°æ®é¢„å–ï¼Ÿ</p>
<p>å½“æˆ‘ä»æœåŠ¡ç«¯è¯·æ±‚é¡µé¢å†…å®¹(<code>/login</code>)åï¼Œå®¢æˆ·ç«¯ä»£ç ç«‹å³æ¥ç®¡é¡µé¢ï¼Œæ­¤æ—¶é¡µé¢è·³è½¬æ—¶ä¸ä¼šå†å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚äº†ã€‚</p>
<p>å½“ä»<code>/login</code>é¡µé¢è·³è½¬åˆ°<code>/home</code>é¡µé¢ï¼Œ<strong>ç”±äºç»„ä»¶çš„éƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸåœ¨æœåŠ¡ç«¯ä¸èƒ½ä½¿ç”¨ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨ä»£ç ä¸­å†™<code>onMounted</code>é’©å­å‡½æ•°ï¼Œä¹Ÿå°±æ— æ³•æ‰§è¡Œè·å–æ¥å£çš„å‡½æ•°</strong>ï¼Œé‚£ä¹ˆæ­¤æ—¶<code>/home</code>é¡µé¢æ˜¯æ²¡æœ‰æ•°æ®çš„ã€‚æ‰€ä»¥å°±éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡Œæ•°æ®é¢„å–ï¼Œæ—¢ç„¶ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ä¸èƒ½ç”¨ï¼Œè¿˜æœ‰ä»€ä¹ˆé’©å­å¯ä»¥ç”¨å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è·¯ç”±é’©å­ã€‚</p>
<p>ä¿®æ”¹<code>entry-client.ts</code>:</p>
<pre><code class="hljs language-js" lang="js">router.<span class="hljs-title function_">isReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  # beforeResolveè¡¨ç¤ºæ‰€æœ‰çš„å¼‚æ­¥ç»„ä»¶å…¨éƒ¨resolveäº†
  router.<span class="hljs-title function_">beforeResolve</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> {
    # æ‰¾å‡ºä¸¤ä¸ªåŒ¹é…åˆ—è¡¨çš„å·®å¼‚ç»„ä»¶ã€‚
    # å¦‚æœä½ åˆ·æ–°å½“å‰é¡µé¢ï¼Œä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å‰æ‹¼æ¥å¥½æ•°æ®å’Œhtmlè¿”å›å‰ç«¯ï¼Œä½†æ˜¯æœ‰äº†è¿™ä¸ªè·¯ç”±é’©å­ï¼Œå®ƒè¿˜ä¼šå†å»è¯·æ±‚ä¸€éæ•°æ®ï¼Œè¿™å°±ç›¸å½“äºå‰åå°éƒ½å»è¯·æ±‚äº†ä¸€æ¬¡å›å»ï¼Œè¿™æ²¡æœ‰å¿…è¦ã€‚
    # æ‰€ä»¥éœ€è¦åšä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æ˜¯åœ¨åˆ·æ–°é¡µé¢ï¼Œä¹Ÿå°±æ˜¯toå’Œ<span class="hljs-keyword">from</span>æ˜¯ä¸æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœä¸€æ ·çš„ï¼Œå°±æ˜¯åˆ·æ–°æ“ä½œï¼Œé‚£ä¹ˆactivedä¸ºç©ºï¼Œä¸ä¼šæ‰§è¡Œåé¢çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ä¸ä¼šå†æ¬¡è¯·æ±‚æ•°æ®æ¥å£ï¼Œç”¨æœåŠ¡ç«¯å¸¦è¿‡æ¥çš„æ•°æ®å°±å¯ä»¥äº†ï¼Œè¿™å°±æ˜¯é˜²æ­¢å®¢æˆ·ç«¯æ•°æ®äºŒæ¬¡é¢„å–ã€‚
    <span class="hljs-keyword">const</span> toComponents = router
      .<span class="hljs-title function_">resolve</span>(to)
      .<span class="hljs-property">matched</span>.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(record.<span class="hljs-property">components</span>))
    <span class="hljs-keyword">const</span> fromComponents = router
      .<span class="hljs-title function_">resolve</span>(<span class="hljs-keyword">from</span>)
      .<span class="hljs-property">matched</span>.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(record.<span class="hljs-property">components</span>))

    <span class="hljs-keyword">const</span> actived = toComponents.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">c, i</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> fromComponents[i] !== c
    })
    # å®¢æˆ·ç«¯é¢„å–æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼š
    # ä¸€ç§æ˜¯åœ¨åŒ¹é…åˆ°è·¯ç”±è§†å›¾ä¹‹åå°±è·³è½¬ï¼Œç„¶åå»è¯·æ±‚æ¥å£ï¼Œ
    # å¦ä¸€ç§æ˜¯åœ¨è¯·æ±‚æ¥å£æ•°æ®è¿”å›åå†è¿›è¡Œè·³è½¬ï¼Œæ­¤æ—¶é¡µé¢æ˜¯åŒ…å«æ•°æ®çš„
    <span class="hljs-keyword">if</span> (!actived.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">next</span>()
    } <span class="hljs-keyword">else</span> {
      # ç¬¬ä¸€ç§ï¼š åŒ¹é…è·¯ç”±ä¹‹åç›´æ¥è·³è½¬ï¼Œç„¶åå»è¯·æ±‚æ¥å£
      <span class="hljs-comment">// next()</span>
    }
    <span class="hljs-comment">// æ˜¾ç¤ºloading</span>
    <span class="hljs-keyword">const</span> loadingInstance = <span class="hljs-title class_">ElLoading</span>.<span class="hljs-title function_">service</span>({
      <span class="hljs-attr">lock</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">'Loading'</span>,
      <span class="hljs-attr">background</span>: <span class="hljs-string">'rgba(0, 0, 0, 0.7)'</span>
    })

    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
      actived.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">Component: any</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Component</span>.<span class="hljs-property">asyncData</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Component</span>.<span class="hljs-title function_">asyncData</span>({
            store,
            <span class="hljs-attr">route</span>: router.<span class="hljs-property">currentRoute</span>
          })
        }
        <span class="hljs-keyword">return</span> []
      })
    ).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// å…³é—­loading</span>
      loadingInstance.<span class="hljs-title function_">close</span>()
      # ç¬¬äºŒç§ï¼š ç­‰æ•°æ®è¯·æ±‚ä¹‹åå†è·³è½¬
      <span class="hljs-title function_">next</span>()
    })
  })

  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
})
</code></pre>
<p>è‡³æ­¤ï¼Œæ•´ä¸ªæœåŠ¡ç«¯æ¸²æŸ“å°±åŸºæœ¬å®Œæˆäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹æ€§èƒ½æŒ‡æ ‡ç¯‡]]></title>    <link>https://juejin.cn/post/7589553045157330984</link>    <guid>https://juejin.cn/post/7589553045157330984</guid>    <pubDate>2025-12-31T01:55:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589553045157330984" data-draft-id="7589544380518137866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹æ€§èƒ½æŒ‡æ ‡ç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–,JavaScript"/> <meta itemprop="datePublished" content="2025-12-31T01:55:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å¯’"/> <meta itemprop="url" content="https://juejin.cn/user/694547078987287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹æ€§èƒ½æŒ‡æ ‡ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547078987287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T01:55:49.000Z" title="Wed Dec 31 2025 01:55:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1aed9df7f41e40e69713f6566ee3b15e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767750949&amp;x-signature=L6zcVmwo7J7W0cbTrNA5LS8t%2BSw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">1ã€å¸¸è§æ€§èƒ½æŒ‡æ ‡</h2>
<ul>
<li><strong>FPï¼ˆFirst Paint - é¦–æ¬¡ç»˜åˆ¶ï¼‰</strong>ï¼šé¡µé¢é¦–æ¬¡ç»˜åˆ¶çš„æ—¶é—´ç‚¹ï¼Œå³ç¬¬ä¸€ä¸ªåƒç´ ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„æ—¶é—´ç‚¹ã€‚</li>
<li><strong>FCPï¼ˆFirst Contentful Paint - é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼‰</strong>ï¼šé¡µé¢é¦–ä¸ªå†…å®¹ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„æ—¶é—´ç‚¹ï¼Œè¿™é‡Œçš„å†…å®¹åŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡ç­‰ã€‚</li>
<li><strong>LCPï¼ˆLargest Contentful Paint - æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼‰</strong>ï¼šå¯è§†åŒºåŸŸå†…æœ€å¤§çš„å…ƒç´ åŠ è½½çš„æ—¶é—´ç‚¹ã€‚è¿™é‡Œçš„â€œæœ€å¤§â€æŒ‡çš„æ˜¯ä»å‡ ä½•å±æ€§ï¼ˆå¯è§†å°ºå¯¸ï¼‰æ¥è®¡ç®—ï¼Œç»˜åˆ¶é¢ç§¯æœ€å¤§çš„é‚£ä¸ªå…ƒç´ ã€‚</li>
<li><strong>FIDï¼ˆFirst Input Delay - é¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼‰ ä¸ INPï¼ˆInteraction to Next Paintï¼‰</strong>ï¼šé¡µé¢é¦–æ¬¡äº¤äº’ï¼ˆç‚¹å‡»é“¾æ¥ã€æŒ‰é’®ç­‰ï¼‰åˆ°æµè§ˆå™¨å®é™…å“åº”çš„å»¶è¿Ÿã€‚ä»¥å‰è¯¥æŒ‡æ ‡ç”¨ <code>FID</code> æ¥è¡¡é‡ï¼Œä½†ç›®å‰å·²ç»è¢« <code>INP</code> å–ä»£ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ï¼ŒFID åªè¡¡é‡â€œç¬¬ä¸€æ¬¡â€äº¤äº’ï¼Œè€Œ INP ä¼šè§‚å¯Ÿæ•´ä¸ªé¡µé¢æ‰€æœ‰äº¤äº’äº‹ä»¶ï¼Œå¹¶æŠ¥å‘Šä¸€ä¸ªè¾ƒå·®æˆ–æœ€é«˜çš„æ•°å€¼ï¼Œè¿™æ ·æ›´èƒ½ååº”å‡ºé¡µé¢çš„æ•´ä½“å“åº”æ€§ã€‚</li>
<li><strong>CLSï¼ˆCumulative Layout Shift - ç´¯ç§¯å¸ƒå±€åç§»ï¼‰</strong>ï¼šåœ¨é¡µé¢ç”Ÿå‘½å‘¨æœŸå½“ä¸­ï¼Œç´¯è®¡çš„æ„å¤–å¸ƒå±€åç§»æ€»åˆ†æ•°ã€‚</li>
<li><strong>TTFBï¼ˆTime to First Byteï¼‰</strong>ï¼šæµè§ˆå™¨ä»å‘èµ·è¯·æ±‚åˆ°æ¥æ”¶åˆ°æœåŠ¡å™¨å“åº”æ•°æ®çš„é¦–å­—èŠ‚æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li>
</ul>
<h2 data-id="heading-1">2ã€éœ€è¦å…³æ³¨ä»€ä¹ˆæ ·çš„æŒ‡æ ‡ï¼Ÿ</h2>
<p>ä¸Šé¢åˆ—å‡ºäº†é‚£ä¹ˆå¤šæŒ‡æ ‡ï¼Œé‚£ä¹ˆåœ¨å®é™…è¡¡é‡å‰ç«¯é¡¹ç›®æ€§èƒ½æ—¶ï¼Œæˆ‘ä»¬ç©¶ç«Ÿåº”è¯¥å…³æ³¨äº›ä»€ä¹ˆæŒ‡æ ‡å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ä»è¿™å‡ æ–¹é¢å…¥æ‰‹ï¼š</p>
<ul>
<li><strong>å¯è¡¡é‡</strong>ã€‚å°±æ˜¯å¯ä»¥é€šè¿‡ä»£ç è®¡ç®—æ‹¿åˆ°çš„æŒ‡æ ‡ï¼Œå³å¯ä»¥ç”¨ä»£ç æ¥è¡¡é‡ï¼Œæ— æ³•è¡¡é‡ä¹Ÿå°±æ— æ³•ä¼˜åŒ–ã€‚</li>
<li><strong>ç”¨æˆ·å…³å¿ƒçš„å…³é”®ä¿¡æ¯</strong>ã€‚æ¯”å¦‚ç”¨æˆ·è¿›å…¥äº†ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µï¼Œä»–æœ€å…³å¿ƒçš„æ˜¯è¿™ä¸ªå•†å“æ˜¯æ€æ ·çš„ï¼ŒåŒ…æ‹¬å•†å“å¤´å›¾ã€å•†å“æè¿°ã€å•†å“ä»·æ ¼ã€è´­ä¹°æŒ‰é’®ç­‰å…³é”®ä¿¡æ¯ã€‚</li>
<li><strong>ç”¨æˆ·çš„çœŸå®ä½“éªŒ</strong>ã€‚æ¯”å¦‚ç”¨æˆ·åœ¨åˆ—è¡¨ä¸­æ»‘ç€æ»‘ç€ï¼Œçªç„¶å¼¹å‡ºä¸€ä¸ªå¹¿å‘Šå¼¹çª—ï¼Œç”¨æˆ·å°±ä¼šè§‰å¾—ä½“éªŒå¾ˆå·®ã€‚</li>
</ul>
<h2 data-id="heading-2">3ã€åŠ è½½æ€§èƒ½æŒ‡æ ‡</h2>
<h3 data-id="heading-3">3.1 ç™½å±æ—¶é—´</h3>
<p>ç™½å±æ—¶é—´æ˜¯æŒ‡ç”¨æˆ·è¾“å…¥å†…å®¹æŒ‰ä¸‹å›è½¦ï¼ˆä¹ŸåŒ…æ‹¬åˆ·æ–°ã€è·³è½¬ç­‰æ–¹å¼ï¼‰ååˆ°é¡µé¢å‡ºç°ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶é—´ï¼Œå…¶<strong>æ ‡å‡†æ˜¯ 300 ms</strong>ã€‚</p>
<p><strong>å½±å“ç™½å±æ—¶é—´çš„å› ç´ å¦‚ä¸‹</strong>ï¼š</p>
<ul>
<li>åœ¨å®¢æˆ·ç«¯è¯·æ±‚é˜¶æ®µï¼Œ<strong><code>DNS</code> æŸ¥è¯¢æ—¶é—´é•¿ï¼Œæ²¡åˆ©ç”¨å¥½æœ¬åœ°ç¼“å­˜ï¼Œ<code>HTTP</code> è¯·æ±‚é˜»å¡</strong>ç­‰ã€‚</li>
<li>åœ¨æœåŠ¡ç«¯å¤„ç†è¯·æ±‚é˜¶æ®µï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚é€Ÿåº¦å¤ªæ…¢ï¼ŒåŒ…æ‹¬<strong>æ•°æ®åº“æŸ¥è¯¢æ…¢ã€æ²¡åšæ•°æ®ç¼“å­˜ã€æ²¡å¼€å¯ <code>Gzip</code> å‹ç¼©</strong>ç­‰ã€‚</li>
<li>åœ¨å®¢æˆ·ç«¯æ¸²æŸ“é˜¶æ®µï¼Œ<strong><code>HTML</code> è§£ææ…¢ã€<code>script</code> é˜»å¡ã€èµ„æºåŠ è½½æ…¢ã€æ¸²æŸ“æ—¶é—´é•¿</strong>ç­‰ã€‚</li>
<li>ç”¨æˆ·æœ¬åœ°ç½‘ç»œæ…¢ï¼Œä»¥åŠç¼ºä¹æœ¬åœ°ç¦»çº¿åŒ–å¤„ç†ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-4">3.2 é¦–å±æ—¶é—´</h3>
<p>é¦–å±æ—¶é—´æŒ‡çš„æ˜¯ç”¨æˆ·çœ‹åˆ°å½“å‰é¡µé¢ï¼ˆç¬¬ä¸€å±ï¼‰è¢«å®Œå…¨åŠ è½½å‡ºæ¥çš„æ—¶é—´ç‚¹ã€‚<strong>é¦–å±æ—¶é—´ = ç™½å±æ—¶é—´ + é¦–å±æ¸²æŸ“æ—¶é—´</strong>ã€‚</p>
<p>é¦–å±æ—¶é—´çš„æ ‡å‡†ä¸æ˜¯å®šæ­»çš„ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰ç³»ç»Ÿå¯¹æ—¶é—´æ˜¯å¦æ•æ„Ÿæ¥å†³å®šçš„ï¼Œæ¯”å¦‚ C ç«¯ç³»ç»Ÿ PCå®˜ç½‘ã€H5 é¡µé¢ç­‰ï¼Œå¯¹é¦–å±è¦æ±‚è¾ƒé«˜ï¼Œè€Œåƒ B ç«¯ç®¡ç†åå°ï¼Œå¯¹é¦–å±æ—¶é—´å°±æ²¡é‚£ä¹ˆæ•æ„Ÿï¼Œè€Œä¸”ä¸€èˆ¬ä¼ä¸šå†…éƒ¨ç”¨çš„ç³»ç»Ÿï¼Œå…¶è®¿é—®çš„ç½‘ç»œç¯å¢ƒä¸€èˆ¬éƒ½æ¯”è¾ƒç¨³å®šï¼Œæ‰€ä»¥å¯¹é¦–å±æ—¶é—´è¦æ±‚ä¼šä½ä¸€äº›ã€‚</p>
<p><strong>å…·ä½“æ—¶é—´å¯ä»¥å‚è€ƒå¦‚ä¸‹è¡¨</strong>ï¼š</p>
<table>
 <tbody>
   <tr>
      <th>ç±»åˆ«</th>
      <th>å¿«</th>
      <th>è¾ƒå¿«</th>
      <th>æ…¢</th>
      <th>å¾ˆæ…¢</th>
      <th>æŒ‡æ ‡ç¤ºä¾‹</th>
    </tr>
    <tr align="center">
      <td>æ—¶é—´æ•æ„Ÿ</td>
      <td>&lt;1s</td>
      <td>1s ~ 1.5s</td>
      <td>1.5s ~ 2.5s</td>
      <td>&gt;2.5s</td>
      <td>é¦–å±ã€ç™½å±</td>
    </tr>
    <tr align="center">
      <td>æ—¶é—´ä¸æ•æ„Ÿ</td>
      <td>&lt;2s</td>
      <td>2s ~ 4s</td>
      <td>4s ~ 8s</td>
      <td>&gt;8s</td>
      <td>onload</td>
    </tr>
    <tr>
      <td colspan="6" align="center">
        æœ€ä½³ï¼šç™½å± &lt; 1sï¼Œé¦–å± &lt; 1.5sï¼Œonload &lt; 3sã€‚
      </td>
    </tr>
 </tbody>
</table>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œé¦–å±æ—¶é—´åœ¨ 1s å†…ï¼Œç»™ç”¨æˆ·çš„æ„Ÿè§‰å°±æ˜¯éå¸¸æµç•…ï¼Œåœ¨ 1s å†…çš„è¯ï¼Œæ— è®ºæ˜¯ 300ms è¿˜æ˜¯ 500msï¼Œå…¶å®ç”¨æˆ·æ„Ÿè§‰ä¸å‡ºæ¥å¤ªå¤§çš„å·®åˆ«ï¼Œä½†æ˜¯å¦‚æœé¦–å±æ—¶é—´è¶…è¿‡ 2.5sï¼Œç”¨æˆ·æ„Ÿè§‰å°±ä¼šå¾ˆæ…¢ï¼Œä½“éªŒå¾ˆå·®ï¼Œç”¨æˆ·æµå¤±ç‡ä¹Ÿä¼šå˜å˜å¾€ä¸Šå‡ã€‚</p>
<h3 data-id="heading-5">3.3 ç§’å¼€ç‡</h3>
<p>æˆ‘ä»¬å¯ä»¥ç”¨é¦–å±æ—¶é—´æ¥è¡¡é‡å•ä¸ªç”¨æˆ·çš„é¦–å±ä½“éªŒï¼Œä½†æ˜¯å¦‚æœæŠŠå¾ˆå¤šç”¨æˆ·çš„é¦–å±æ—¶é—´éƒ½æ”¶é›†ä¸Šæ¥äº†ï¼Œå¦‚ä½•è¡¡é‡æ•´ä¸ªç³»ç»Ÿçš„é¦–å±ä½“éªŒå‘¢ï¼Ÿ</p>
<ul>
<li><strong>å¹³å‡å€¼</strong>ï¼šå¹³å‡å€¼å°±æ˜¯æ‰€æœ‰ç”¨æˆ·é¦–å±æ—¶é—´çš„æ€»å’Œé™¤ä»¥ç”¨æˆ·æ•°ï¼Œä½†æ˜¯å¹³å‡å€¼æœ‰ä¸ªè‡´å‘½çš„ç¼ºç‚¹ï¼Œå°±æ˜¯å®¹æ˜“è¢«æç«¯å€¼å½±å“ï¼Œæ¯”å¦‚æœ‰ 10 ä¸ªç”¨æˆ·ï¼Œå…¶ä¸­ 9 ä¸ªç”¨æˆ·é¦–å±æ—¶é—´éƒ½åœ¨ 1s å†…ï¼Œè€Œç¬¬ 10 ä¸ªç”¨æˆ·é¦–å±æ—¶é—´åœ¨ 10s å†…ï¼Œé‚£ä¹ˆå¹³å‡å€¼å°±ä¼šå˜æˆ 5sï¼Œè¿™ä¸ªç»“æœæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚</li>
<li><strong>ä¸­ä½æ•°</strong>ã€‚å¯ä»¥å°†æ‰€æœ‰æ•°æ®åšæ­£æ€åˆ†å¸ƒï¼Œçœ‹åˆ†ä½å€¼ç»Ÿè®¡ã€‚æ¯”å¦‚ P50ï¼ˆ50åˆ†ä½å€¼ï¼‰ã€P90ï¼ˆ90åˆ†ä½å€¼ï¼‰ã€P99ï¼ˆ99åˆ†ä½å€¼ï¼‰ï¼Œè¿™ä¸ªå€¼æ˜¯æ€ä¹ˆè®¡ç®—å‡ºæ¥çš„å‘¢ï¼Ÿä»¥ P99 ä¸ºä¾‹ï¼Œå…ˆæŠŠæ‰€æœ‰é¦–å±æ•°æ®å…ˆæ’å¥½åºï¼Œæ’åœ¨ç¬¬ 99 ä½çš„æ•°æ®å°±æ˜¯ P99ï¼Œä½†è¿™æ ·è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚äºæ˜¯å¼•å…¥äº†ç§’å¼€ç‡çš„æ¦‚å¿µã€‚</li>
<li><strong>ç§’å¼€ç‡</strong>ï¼šæŒ‡çš„æ˜¯ 1s å†…æ‰“å¼€çš„ç”¨æˆ·å æ¯”ã€‚æ¯”å¦‚ 10 ä¸ªç”¨æˆ·ï¼Œ1s å†…èƒ½åŠ è½½å®Œé¦–å±çš„ç”¨æˆ·æœ‰ 8 ä¸ªï¼Œé‚£ç§’å¼€ç‡å°±æ˜¯ 80%ã€‚</li>
</ul>
<p><strong>æŒ‰ç…§ç§’å¼€ç‡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹å¦‚ä¸‹çš„é¦–å±æ—¶é—´æ ‡å‡†</strong>ï¼š</p>

































<table><thead><tr><th align="center">ç±»å‹</th><th align="center">é¦–å±æ—¶é—´</th><th align="center">ç§’å¼€ç‡</th><th align="center">1.5ç§’å¼€ç‡</th><th align="center">2ç§’å¼€ç‡</th></tr></thead><tbody><tr><td align="center">SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰</td><td align="center">1000ms</td><td align="center">80%</td><td align="center">95%</td><td align="center">98%</td></tr><tr><td align="center">ç«¯å†…ï¼ˆHybrid ç¯å¢ƒï¼‰</td><td align="center">1200ms</td><td align="center">65%</td><td align="center">85%</td><td align="center">90%</td></tr><tr><td align="center">ç«¯å¤–ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰</td><td align="center">1500ms</td><td align="center">40%</td><td align="center">60%</td><td align="center">80%</td></tr></tbody></table>
<h2 data-id="heading-6">4ã€äº¤äº’æ€§èƒ½æŒ‡æ ‡</h2>
<p>äº¤äº’æŒ‡çš„å°±æ˜¯äººæœºäº¤äº’ï¼Œæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®åï¼Œç½‘ç«™ç«‹é©¬ç»™äºˆä¸€å®šçš„å›åº”ï¼ŒåŒ…æ‹¬è·³è½¬ã€å¼¹çª—ã€åŠ¨ç”»ç­‰ï¼Œé‚£å°±æ˜¯ç”¨æˆ·ä½“éªŒå¥½ï¼Œä½†å¦‚æœç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®åï¼Œç½‘ç«™åŠå¤©æ²¡æœ‰ä»»ä½•ååº”ï¼Œé‚£ç»™ç”¨æˆ·çš„ä½“éªŒå°±å¾ˆå·®ã€‚</p>
<p><strong>è¡¡é‡äº¤äº’æŒ‡æ ‡çš„æ–¹å¼ä¸»è¦ç”¨ä¸¤ç§</strong>ï¼š</p>
<ul>
<li>FID æŒ‡æ ‡ï¼ˆFirst Input Delayï¼Œé¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼‰ï¼ŒæŒ‡æ ‡å¿…é¡»å°½é‡å°äº 100 msã€‚ä½†æ–‡ç« å¼€å¤´ä¹Ÿä»‹ç»è¿‡ï¼Œç°åœ¨ FID æŒ‡æ ‡å·²ç»è¢« INP å–ä»£ã€‚</li>
<li>PSIï¼ˆPerceptual Speed Indexï¼Œè§†è§‰å˜åŒ–ç‡ï¼‰ï¼Œè¡¡é‡æ ‡å‡†æ˜¯å°äº 20%ã€‚</li>
</ul>
<h2 data-id="heading-7">5ã€è§†è§‰ç¨³å®šæ€§æŒ‡æ ‡</h2>
<p>è§†è§‰ç¨³å®šæ€§ç”¨ CLSï¼ˆCumulative Layout Shiftï¼‰ æ¥è¡¡é‡ï¼ŒCLS ä¹Ÿå°±æ˜¯å¸ƒå±€åç§»é‡ï¼Œå®ƒæ˜¯æŒ‡é¡µé¢ä»ä¸€å¸§åˆ‡æ¢åˆ°å¦å¤–ä¸€å¸§æ—¶ï¼Œè§†çº¿ä¸­ä¸ç¨³å®šå…ƒç´ çš„åç§»æƒ…å†µã€‚</p>
<p>æ¯”å¦‚åœ¨ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µä¸­ï¼Œç”¨æˆ·åœ¨æƒ³ç‚¹å‡»å•†å“å›¾ç‰‡æ”¾å¤§ä»”ç»†æŸ¥çœ‹å›¾ç‰‡å†…å®¹ï¼Œä½†æ˜¯çªç„¶å›¾ç‰‡ä¸Šæ–¹æ¸²æŸ“å‡ºäº†ä¸€æ¡å¹¿å‘Šï¼ŒæŠŠå›¾ç‰‡é¡¶åˆ°é¡µé¢åº•éƒ¨å»äº†ï¼Œè¿™ä¸ªå°±æ˜¯ä¸ç¨³å®šå…ƒç´ ï¼Œç»™ç”¨æˆ·çš„ä½“éªŒéå¸¸å·®ã€‚</p>
<h2 data-id="heading-8">å°ç»“</h2>
<p>å¸¸ç”¨çš„æ€§èƒ½æŒ‡æ ‡åŒ…æ‹¬ <code>FP</code>ã€<code>FCP</code>ã€<code>LCP</code>ã€<code>FID</code>ã€<code>INP</code>ã€<code>CLS</code>ã€<code>TTFB</code> ç­‰ï¼Œè€Œåœ¨å®é™…å‰ç«¯é¡¹ç›®ä¼˜åŒ–ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€æ¯”è¾ƒå…³æ³¨<strong>åŠ è½½æ€§èƒ½æŒ‡æ ‡ã€äº¤äº’æ€§èƒ½æŒ‡æ ‡å’Œè§†è§‰ç¨³å®šæ€§æŒ‡æ ‡</strong>ï¼ŒåŠ è½½æ€§èƒ½æŒ‡æ ‡åŒ…æ‹¬ç™½å±æ—¶é—´å’Œé¦–å±æ—¶é—´ï¼Œè€Œä¸ºäº†æ›´å¥½çš„è¡¡é‡é¦–å±æ—¶é—´å¯¹äºç”¨æˆ·çš„æ•´ä½“æ•ˆæœï¼Œæˆ‘ä»¬å¼•å…¥äº†<strong>ç§’å¼€ç‡</strong>çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯ 1s å†…æ‰“å¼€çš„ç”¨æˆ·å æ¯”ï¼Œç§’å¼€ç‡è¶Šé«˜ï¼Œæ•´ä½“ç”¨æˆ·ä½“éªŒè¶Šå¥½ã€‚</p>
<h2 data-id="heading-9">å¾€æœŸå›é¡¾</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQz4VK0aBIyG36JbILi3FlA" target="_blank" title="https://mp.weixin.qq.com/s/Qz4VK0aBIyG36JbILi3FlA" ref="nofollow noopener noreferrer">å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹æ€§èƒ½ç“¶é¢ˆç‚¹ï¼ŒWeb é¡µé¢åŠ è½½å…¨æµç¨‹è§£æ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FW8fkvEjbHlFpIg3_RMXGpA" target="_blank" title="https://mp.weixin.qq.com/s/W8fkvEjbHlFpIg3_RMXGpA" ref="nofollow noopener noreferrer">å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹Webpackç¯‡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Gl2sGa2Ev44tyrSYjjyFg" target="_blank" title="https://mp.weixin.qq.com/s/0Gl2sGa2Ev44tyrSYjjyFg" ref="nofollow noopener noreferrer">å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹CSSç¯‡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FeIKLx_kegGzrB00KXeKYLQ" target="_blank" title="https://mp.weixin.qq.com/s/eIKLx_kegGzrB00KXeKYLQ" ref="nofollow noopener noreferrer">å‰ç«¯é‡åˆ°é¡µé¢å¡é¡¿é—®é¢˜ï¼Œå¦‚ä½•æ’æŸ¥å’Œè§£å†³ï¼Ÿ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆåï¼‰]]></title>    <link>https://juejin.cn/post/7589466706378981412</link>    <guid>https://juejin.cn/post/7589466706378981412</guid>    <pubDate>2025-12-30T13:30:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589466706378981412" data-draft-id="7589475923697877011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆåï¼‰"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-30T13:30:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åå­—è¢«ä½ ä»¬æƒ³å®Œäº†"/> <meta itemprop="url" content="https://juejin.cn/user/3065854916834782"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆåï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3065854916834782/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åå­—è¢«ä½ ä»¬æƒ³å®Œäº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T13:30:44.000Z" title="Tue Dec 30 2025 13:30:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆåï¼‰</h2>
<p>Flutter: 3.35.7</p>
<p>å‰é¢å°†åŸºç¡€çš„åŠŸèƒ½å®Œæˆäº†ï¼Œç°åœ¨å¼€å§‹å®Œå–„è¾…åŠ©åŠŸèƒ½ï¼Œå¸¸è§„çš„è¾…åŠ©åŠŸèƒ½æœ‰ç½‘æ ¼è¾…åŠ©çº¿ï¼Œå…ƒç´ å±‚çº§è°ƒæ•´ï¼Œæ’¤é”€è¿˜åŸç­‰ç­‰ï¼Œä¸‹é¢æˆ‘ä»¬å°±ç®€å•æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<p>å¯¹äºéƒ¨åˆ†è¾…åŠ©åŠŸèƒ½ï¼Œæˆ‘ä»¬æŠ½å–å•ç‹¬çš„ç»“æ„æ¥å®ç°åŠŸèƒ½ï¼Œåº•éƒ¨å·¥å…·æ ä¸“é—¨ç”¨äºæ–°å¢å…ƒç´ ï¼ŒæŠ½å–é¡¶éƒ¨åŠŸèƒ½åŒºåŸŸæ¥å®ç°å…¶ä»–åŠŸèƒ½ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥å®ç°ç½‘æ ¼è¾…åŠ©çº¿ï¼Œåº”ç”¨ç½‘æ ¼è¾…åŠ©çº¿å¯ä»¥å¿«é€Ÿè®©ç”¨æˆ·å®šä½åˆ°è¾…åŠ©çº¿çš„ä½ç½®ã€‚è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œé¦–å…ˆæˆ‘ä»¬å¾—ç»˜åˆ¶ç½‘æ ¼çº¿ï¼ˆå› ä¸ºä¸æ˜¯ç»˜åˆ¶ç›¸å…³çš„çŸ¥è¯†ï¼Œæ‰€ä»¥ç›´æ¥ä¸Šä»£ç ï¼Œåç»­ç©ºäº†ä¼šå•ç‹¬å†™ç»˜åˆ¶ç›¸å…³çš„ï¼‰ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-keyword">import</span> <span class="hljs-string">'configs/constants_config.dart'</span>;

<span class="hljs-comment">/// <span class="markdown">ç»˜åˆ¶ç½‘æ ¼çº¿</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GridPainter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomPainter</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(Canvas canvas, Size size) {
    <span class="hljs-keyword">const</span> <span class="hljs-built_in">double</span> gridSize = ConstantsConfig.gridSize;
    <span class="hljs-keyword">final</span> paint = Paint()
      ..color = Colors.grey.withValues(alpha: <span class="hljs-number">0.3</span>)
      ..strokeWidth = <span class="hljs-number">1.0</span>;

    <span class="hljs-comment">// ç»˜åˆ¶å‚ç›´çº¿</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">double</span> x = <span class="hljs-number">0</span>; x &lt; size.width; x += gridSize) {
      canvas.drawLine(Offset(x, <span class="hljs-number">0</span>), Offset(x, size.height), paint);
    }

    <span class="hljs-comment">// ç»˜åˆ¶æ°´å¹³çº¿</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">double</span> y = <span class="hljs-number">0</span>; y &lt; size.height; y += gridSize) {
      canvas.drawLine(Offset(<span class="hljs-number">0</span>, y), Offset(size.width, y), paint);
    }
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> shouldRepaint(<span class="hljs-keyword">covariant</span> CustomPainter oldDelegate) =&gt; <span class="hljs-keyword">false</span>;
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdfcbdcd3b824b299a2365cc67750aca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=nQfTUjEsLjyZlc6gXqXBj1D0zIo%3D" alt="image01.png" loading="lazy"/></p>
<p>ç°åœ¨ç½‘æ ¼çº¿ç»˜åˆ¶å®Œæ¯•ï¼ŒæŠ½å–äº†ç½‘æ ¼çº¿çš„éƒ¨åˆ†å±æ€§ï¼Œåç»­ç›´æ¥æ›´æ”¹å±æ€§è°ƒæ•´ç½‘æ ¼é—´è·ã€‚ç°åœ¨æˆ‘ä»¬å°±å¼€å§‹å®ç°åŠŸèƒ½ï¼Œå½“å…ƒç´ æ‹–åŠ¨åˆ°ç½‘æ ¼çº¿é™„è¿‘çš„æ—¶å€™ï¼Œå°±å‡ºç°å¸é™„æ•ˆæœï¼Œä¸Šä¸‹å·¦å³ï¼Œè°ç¦»å¾—è¿‘å°±å¸é™„è°ã€‚å½“å®ç°å¸é™„çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åªéœ€è¦åˆ¤æ–­å·¦ä¸Šå’Œå³ä¸‹çš„ç‚¹å³å¯ï¼Œå› ä¸ºå·¦ä¸Šå’Œå³ä¸‹åˆ†åˆ«å¯¹åº”äº†æœ€å°å’Œæœ€å¤§çš„xå’Œyï¼Œé€šè¿‡çŸ©å½¢çš„ç‰¹æ€§ï¼Œè¿™ä¸¤ä¸ªç‚¹å°±èƒ½å¤ŸåŒ…æ‹¬æ‰€æœ‰å¸é™„çš„æƒ…å†µï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è·å–å¼€å¯ç½‘æ ¼è¾…åŠ©çº¿æ—¶ä½äºé˜ˆå€¼çš„xå’Œy</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡å½“å‰çš„[x]åæ ‡å’Œ[y]åæ ‡è®¡ç®—å¸é™„åæ ‡ï¼Œå¦‚æœä½äºé˜ˆå€¼ï¼Œåˆ™ä¸å¸é™„</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) _getUseGridXY({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-built_in">double</span> tempX = x;
  <span class="hljs-built_in">double</span> tempY = y;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> gridSize = ConstantsConfig.gridSize;
  <span class="hljs-comment">// å¸é™„çš„é˜ˆå€¼</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> snapThreshold = ConstantsConfig.snapThreshold;

  <span class="hljs-comment">// è®¡ç®—æœ€è¿‘ï¼ˆå·¦ä¸Šï¼‰çš„ç½‘æ ¼ç‚¹</span>
  <span class="hljs-built_in">double</span> snappedLeftX = (x / gridSize).roundToDouble() * gridSize;
  <span class="hljs-built_in">double</span> snappedLeftY = (y / gridSize).roundToDouble() * gridSize;
  <span class="hljs-comment">// è®¡ç®—æœ€è¿‘ï¼ˆå³ä¸‹ï¼‰çš„ç½‘æ ¼ç‚¹</span>
  <span class="hljs-built_in">double</span> snappedRightX = ((x + _currentElement!.elementWidth) / gridSize).roundToDouble() * gridSize;
  <span class="hljs-built_in">double</span> snappedRightY = ((y + _currentElement!.elementHeight) / gridSize).roundToDouble() * gridSize;

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åœ¨å¸é™„èŒƒå›´å†…</span>
  <span class="hljs-built_in">double</span> dxLeftDistance = (x - snappedLeftX).abs();
  <span class="hljs-built_in">double</span> dyLeftDistance = (y - snappedLeftY).abs();
  <span class="hljs-built_in">double</span> dxRightDistance = ((x + _currentElement!.elementWidth) - snappedRightX).abs();
  <span class="hljs-built_in">double</span> dyRightDistance = ((y + _currentElement!.elementHeight) - snappedRightY).abs();

  <span class="hljs-comment">// åœ¨Xè½´æ–¹å‘ä¸Šåº”ç”¨å¸é™„</span>
  <span class="hljs-keyword">if</span> (dxLeftDistance &lt; dxRightDistance &amp;&amp; dxLeftDistance &lt; snapThreshold) {
    <span class="hljs-comment">// å¦‚æœé è¿‘å·¦è¾¹ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°å·¦è¾¹</span>
    tempX = snappedLeftX;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dxRightDistance &lt; dxLeftDistance &amp;&amp; dxRightDistance &lt; snapThreshold) {
    <span class="hljs-comment">// å¦‚æœé è¿‘å³è¾¹ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°å³è¾¹</span>
    tempX = snappedRightX - _currentElement!.elementWidth;
  }

  <span class="hljs-comment">// åœ¨Yè½´æ–¹å‘ä¸Šåº”ç”¨å¸é™„</span>
  <span class="hljs-keyword">if</span> (dyLeftDistance &lt; dyRightDistance &amp;&amp; dyLeftDistance &lt; snapThreshold) {
    <span class="hljs-comment">// å¦‚æœé è¿‘ä¸Šé¢ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°ä¸Šé¢</span>
    tempY = snappedLeftY;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dyRightDistance &lt; dyLeftDistance &amp;&amp; dyRightDistance &lt; snapThreshold) {
    <span class="hljs-comment">// å¦‚æœé è¿‘ä¸‹é¢ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°ä¸‹é¢</span>
    tempY = snappedRightY - _currentElement!.elementHeight;
  }

  <span class="hljs-keyword">return</span> (tempX, tempY);
}

<span class="hljs-comment">/// <span class="markdown">å¤„ç†å…ƒç´ ç§»åŠ¨</span></span>
<span class="hljs-keyword">void</span> _onMove({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span> || _temporary == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-built_in">double</span> tempX = _temporary!.x + x - _startPosition.dx;
  <span class="hljs-built_in">double</span> tempY = _temporary!.y + y - _startPosition.dy;

  <span class="hljs-comment">// æ–°å¢ç½‘æ ¼çº¿è¾…åŠ©</span>
  <span class="hljs-keyword">if</span> (_useGrid) {
    (tempX, tempY) = _getUseGridXY(x: tempX, y: tempY);
  }

  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼ˆä¸ºäº†æ–¹ä¾¿çœ‹æ•ˆæœï¼Œæ‰€ä»¥ç½‘æ ¼ç”»å¾—å¾ˆå¤§ï¼‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0458ec58398646b395f9760f1eb860f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=m0aL6%2Bs5CvKPcSnaJUEQIJ9pq5g%3D" alt="image02.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†ç½‘æ ¼è¾…åŠ©çº¿ï¼Œåœ¨æ²¡æœ‰æ—‹è½¬çš„æ—¶å€™ï¼Œåªéœ€è¦ä»¥å·¦ä¸Šå’Œå³ä¸‹ç‚¹ä¸ºåŸºå‡†å³å¯ï¼Œé‚£å¦‚æœæˆ‘ä»¬æ—‹è½¬äº†å…ƒç´ ï¼Œæ­¤æ—¶çš„è¾…åŠ©çº¿åˆè¯¥æ€ä¹ˆå¸é™„å‘¢ï¼Ÿä¹‹å‰é™åˆ¶è¾¹ç•Œå€¼ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘æ—‹è½¬çš„æƒ…å†µï¼Œæ­¤æ—¶ä¸€å¹¶è§£å†³ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨çš„å…ƒç´ å®šä½æ˜¯åŸºäºåˆå§‹çŠ¶æ€çŸ©å½¢æ¥å®ç°çš„ï¼Œå½“å…ƒç´ å‘ç”Ÿæ—‹è½¬ï¼Œå…¶å®åªæ˜¯å†…éƒ¨å‘ç”Ÿäº†æ—‹è½¬ï¼ŒåŸºç¡€çš„çŸ©å½¢å¹¶æ²¡æœ‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/756700a5486646e0860d76b3d941670d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=QnxAcSkwpTn8stVVnfYvYsP9GR8%3D" alt="image03.gif" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ—‹è½¬ååŸå§‹çš„çŸ©å½¢å¹¶æ²¡æœ‰å‘ç”Ÿæ—‹è½¬ï¼Œæ‰€ä»¥æ­¤æ—¶å®šä½çš„xå’Œyè¿˜æ˜¯åŸå§‹çš„xå’Œyã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥ç®€å•çš„é™åˆ¶ç§»åŠ¨çš„è¾¹ç•Œï¼Œé€šè¿‡ä¸Šé¢æˆ‘ä»¬çŸ¥é“ï¼Œç§»åŠ¨çš„ç‚¹éƒ½æ˜¯é€šè¿‡å·¦ä¸Šè§’çš„åæ ‡å®šä½çš„ï¼Œåœ¨å…ƒç´ æ—‹è½¬åï¼Œåˆ¤æ–­è¾¹ç•Œå°±åº”è¯¥ä»¥æœ€æ¥è¿‘è¾¹ç•Œçš„é¡¶ç‚¹å»è®¡ç®—ï¼Œæˆ‘ä»¬é¦–å…ˆè·å–å››ä¸ªé¡¶ç‚¹çš„åæ ‡ï¼Œå†é€šè¿‡é€šè¿‡é¡¶ç‚¹åæ ‡çš„æœ€å€¼åˆ¤æ–­è¾¹ç•Œã€‚è¿™æ ·è™½ç„¶èƒ½åˆ¤æ–­è¾¹ç•Œï¼Œå‡å¦‚æœ‰ä¸ªå…ƒç´ çš„å®½åº¦å°±æ˜¯å®¹å™¨çš„å®½åº¦ï¼Œæˆ–è€…é«˜åº¦å°±æ˜¯å®¹å™¨çš„é«˜åº¦ï¼Œåœ¨æ—‹è½¬è¿‡ç¨‹ä¸­ï¼Œå§‹ç»ˆä¼šå­˜åœ¨è¶…è¿‡è¾¹ç•Œçš„æƒ…å†µï¼Œä¸è‡³äºè¯´è¾¹æ—‹è½¬è¾¹æ”¹å˜å…ƒç´ çš„å¤§å°ã€‚æ‰€ä»¥ä¸ºäº†ç»¼åˆä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç”¨ä¸­å¿ƒç‚¹åæ ‡ä¸ºåŸºå‡†ï¼Œåªè¦ä¸­å¿ƒç‚¹åœ¨å®¹å™¨å†…å°±è¡Œäº†ï¼Œè¿™æ ·å³ä¾¿æ˜¯è¶…å‡ºå®¹å™¨ä¸€åŠï¼Œä¹Ÿå¯ä»¥æ¥å—ã€‚ä¸ºäº†éƒ¨åˆ†çš„çµæ´»æ€§ï¼Œæ–¹ä¾¿åæœŸè‡ªå®šä¹‰ï¼Œæ‰€ä»¥æŠ½å–æ¯”ä¾‹ï¼Œä¸­å¿ƒç‚¹æ¯”ä¾‹æ˜¯é•¿å®½çš„ä¸€åŠï¼Œè¿™æ ·åæœŸå¦‚æœæˆ‘ä»¬æƒ³ç”¨å¦å¤–çš„ç‚¹æ¥è®¡ç®—è¾¹ç•Œå€¼ä¹Ÿè¡Œï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è·å–ç§»åŠ¨æ—¶çš„è¾¹ç•Œ</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡å½“å‰ç§»åŠ¨çš„[x]åæ ‡å’Œ[y]åæ ‡æ¥è®¡ç®—ä¸­å¿ƒç‚¹æ˜¯å¦è¾¾åˆ°è¾¹ç•Œï¼Œ</span></span>
<span class="hljs-comment">/// <span class="markdown">å¦‚æœè¾¾åˆ°è¾¹ç•Œï¼Œåˆ™ä¸­å¿ƒç‚¹åæ ‡åº”ç”¨è¾¹ç•Œå€¼</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) _getMoveBoundary({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> tempWidth = _currentElement!.elementWidth / ConstantsConfig.boundaryRatio;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> tempHeight = _currentElement!.elementHeight / ConstantsConfig.boundaryRatio;
  <span class="hljs-built_in">double</span> centerX = x + tempWidth;
  <span class="hljs-built_in">double</span> centerY = y + tempHeight;

  <span class="hljs-comment">// é™åˆ¶å·¦è¾¹ç•Œ</span>
  <span class="hljs-keyword">if</span> (centerX &lt; <span class="hljs-number">0</span>) {
    centerX = <span class="hljs-number">0</span>;
  }
  <span class="hljs-comment">// é™åˆ¶å³è¾¹ç•Œ</span>
  <span class="hljs-keyword">if</span> (centerX &gt; _transformWidth) {
    centerX = _transformWidth;
  }
  <span class="hljs-comment">// é™åˆ¶ä¸Šè¾¹ç•Œ</span>
  <span class="hljs-keyword">if</span> (centerY &lt; <span class="hljs-number">0</span>) {
    centerY = <span class="hljs-number">0</span>;
  }
  <span class="hljs-comment">// é™åˆ¶ä¸‹è¾¹ç•Œ</span>
  <span class="hljs-keyword">if</span> (centerY &gt; _transformHeight) {
    centerY = _transformHeight;
  }

  <span class="hljs-keyword">return</span> (centerX - tempWidth, centerY - tempHeight);
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34baae38f78247bfb2fa9c3914521af2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=sXHxRctUSYxJAif%2FsLlkRvtSi5g%3D" alt="image04.gif" loading="lazy"/></p>
<p>è¿™æ ·å°±ç®€å•é‡æ–°é™åˆ¶äº†ç§»åŠ¨è¾¹ç•Œï¼Œå½“ç„¶ï¼Œè¾¹ç•Œçš„é™åˆ¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å®šåˆ¶ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†è¯´æ˜ä¸€ä¸ªæƒ…å†µï¼Œä¸è®ºæˆ‘ä»¬æ—‹è½¬è¿˜æ˜¯ç§»åŠ¨ï¼Œè™½ç„¶å…ƒç´ çš„é¡¶ç‚¹åæ ‡å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†æ˜¯å®ƒçš„ä¸­å¿ƒç‚¹å§‹ç»ˆæ²¡å˜ï¼Œä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¸­å¿ƒç‚¹æ¥è®¡ç®—å…¶ä»–çš„ä¸œè¥¿ã€‚</p>
<p>ç°åœ¨æ¥å®ç°æ—‹è½¬åçš„ç½‘æ ¼è¾…åŠ©çº¿é™„è¿‘çš„å¸é™„æ•ˆæœï¼Œä¹‹å‰æˆ‘ä»¬åœ¨æœªæ—‹è½¬æ—¶åº”ç”¨äº†å·¦ä¸Šå’Œå³ä¸‹ç‚¹æ¥ç¡®å®šï¼Œç°åœ¨åŠ å…¥æ—‹è½¬ï¼Œå°±æ— æ³•æ­£ç¡®çš„åˆ¤æ–­äº†ï¼Œä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å› ä¸ºæ—‹è½¬æ˜¯å…ƒç´ å†…éƒ¨çš„æ—‹è½¬ï¼Œå’Œå®ƒçš„åæ ‡ç‚¹ä¸å­˜åœ¨ç›´æ¥çš„è”ç³»ã€‚æˆ‘ä»¬åœ¨æœªæ—‹è½¬çš„æ—¶å€™ï¼Œå¸é™„æ•ˆæœå°±æ˜¯åŸºäºè“è‰²çŸ©å½¢å®ç°çš„ã€‚å·¦ä¸Šå’Œå³ä¸‹åˆ†åˆ«å¯ä»¥è¡¨ç¤ºå…ƒç´ çš„æœ€å°åæ ‡å’Œæœ€å¤§åæ ‡ï¼Œåªè¦æŸä¸ªç‚¹åœ¨è¾…åŠ©çº¿é™„è¿‘ï¼Œå°±æ‰§è¡Œå¸é™„ï¼Œæ»¡è¶³æœ€å¤§å’Œæœ€å°çš„æƒ…å†µã€‚å½“åº”ç”¨äº†æ—‹è½¬ï¼Œæ­¤æ—¶çš„æœ€å¤§å’Œæœ€å°åæ ‡å°±ä¸æ˜¯åŸæ¥çš„åæ ‡äº†ï¼Œè€Œæ˜¯è¦é€šè¿‡åŸå§‹çš„ç‚¹è¿›è¡Œè®¡ç®—ã€‚å‰é¢æˆ‘ä»¬å·²ç»ç»™å‡ºäº†è®¡ç®—æ—‹è½¬åé¡¶ç‚¹åæ ‡çš„ä»£ç ï¼Œç°åœ¨æŠ½å–ä¸ºæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è®¡ç®—å…ƒç´ çš„é¡¶ç‚¹åæ ‡</span></span>
<span class="hljs-comment">/// </span>
<span class="hljs-comment">/// <span class="markdown">è®¡ç®—ä¼ å…¥å…ƒç´ [item]çš„é¡¶ç‚¹åæ ‡ï¼Œè¿”å›é¡ºåºä¸ºå·¦ä¸Šï¼Œå³ä¸Šï¼Œå³ä¸‹ï¼Œå·¦ä¸‹</span></span>
(Offset, Offset, Offset, Offset) _getElementVertex({
  <span class="hljs-keyword">required</span> ElementModel item
}) {
  <span class="hljs-comment">// è®¡ç®—å…ƒç´ çš„å››ä¸ªé¡¶ç‚¹åæ ‡</span>
  <span class="hljs-keyword">return</span> (
    _rotatePoint(
      x: item.x,
      y: item.y,
      item: item,
    ),
    _rotatePoint(
      x: item.x + item.elementWidth,
      y: item.y,
      item: item,
    ),
    _rotatePoint(
      x: item.x + item.elementWidth,
      y: item.y + item.elementHeight,
      item: item,
    ),
    _rotatePoint(
      x: item.x,
      y: item.y + item.elementHeight,
      item: item,
    ),
  );
}
</code></pre>
<p>ä¸ºäº†æ›´åŠ ç›´è§‚çš„çœ‹åˆ°å¸é™„çš„æ•ˆæœï¼Œæˆ‘ä»¬å…ˆæ¥å®ç°è¾…åŠ©çº¿ï¼Œå½“æˆ‘ä»¬æœ‰äº†é¡¶ç‚¹åæ ‡è®¡ç®—æ–¹æ³•åï¼Œå°±å¯ä»¥å¾ˆå¥½çš„å®ç°è¾…åŠ©çº¿ï¼Œå…¶å®å°±æ˜¯å°†å…ƒç´ ç”¨ä¸ªçŸ©å½¢æ¡†æ¡†èµ·æ¥ï¼Œä¸è®ºå…ƒç´ æ€ä¹ˆæ—‹è½¬ï¼Œéƒ½åœ¨è¿™ä¸ªçŸ©å½¢æ¡†å†…ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çŸ¥é“æœ€å¤§å’Œæœ€å°çš„é¡¶ç‚¹åæ ‡å³å¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è·å–é¡¶ç‚¹åæ ‡ä¸­çš„æœ€å¤§xyå’Œæœ€å°xy</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡é¡¶ç‚¹åæ ‡åˆ—è¡¨[vertexList]å¯¹æ¯”å‡ºæœ€å¤§å’Œæœ€å°</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) _getExtremeVertex({
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">List</span>&lt;Offset&gt; vertexList
}) {
  <span class="hljs-built_in">double</span> minDx = vertexList[<span class="hljs-number">0</span>].dx;
  <span class="hljs-built_in">double</span> minDy = vertexList[<span class="hljs-number">0</span>].dy;
  <span class="hljs-built_in">double</span> maxDx = vertexList[<span class="hljs-number">3</span>].dx;
  <span class="hljs-built_in">double</span> maxDy = vertexList[<span class="hljs-number">3</span>].dy;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> vertexList) {
    <span class="hljs-keyword">if</span> (item.dx &lt; minDx) {
      minDx = item.dx;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.dx &gt; maxDx) {
      maxDx = item.dx;
    }
    <span class="hljs-keyword">if</span> (item.dy &lt; minDy) {
      minDy = item.dy;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.dy &gt; maxDy) {
      maxDy = item.dy;
    }
  }

  <span class="hljs-keyword">return</span> (minDx, minDy, maxDx, maxDy);
}
</code></pre>
<p>ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ·»åŠ å¦‚ä¸‹é€»è¾‘ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">å¿«é€Ÿçš„è·å–å…ƒç´ çš„æœ€å°çš„é¡¶ç‚¹åæ ‡å€¼å’Œæœ€å¤§çš„é¡¶ç‚¹åæ ‡å€¼</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) <span class="hljs-keyword">get</span> _elementVertex {
  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span>) {
    <span class="hljs-keyword">return</span> (<span class="hljs-number">0</span>, _transformHeight, <span class="hljs-number">0</span>, _transformWidth);
  }

  <span class="hljs-keyword">final</span> (leftTop, rightTop, rightBottom, leftBottom) = _getElementVertex(
    item: _currentElement!,
  );
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Offset&gt; vertexList = [
    leftTop,
    leftBottom,
    rightBottom,
    rightTop
  ];

  <span class="hljs-keyword">return</span> _getExtremeVertex(vertexList: vertexList);
}
</code></pre>
<p>æ¥ä¸‹æ¥å°±æ˜¯æ·»åŠ è¾…åŠ©çº¿äº†ï¼Œæ·»åŠ åœ¨å˜æ¢åŒºåŸŸå†…éƒ¨ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç”»4æ¡çº¿æ¡†ä½æˆ‘ä»¬çš„å…ƒç´ å³å¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// è¾…åŠ©çº¿</span>
<span class="hljs-keyword">if</span> (_useAuxiliaryLine) Positioned(
  top: <span class="hljs-number">0</span>,
  left: _elementVertex.$<span class="hljs-number">1</span>,
  child: Container(
    width: <span class="hljs-number">1</span>,
    height: _transformHeight,
    color: Colors.blueAccent,
  ),
),
<span class="hljs-keyword">if</span> (_useAuxiliaryLine) Positioned(
  top: _elementVertex.$<span class="hljs-number">2</span>,
  left: <span class="hljs-number">0</span>,
  child: Container(
    width: _transformWidth,
    height: <span class="hljs-number">1</span>,
    color: Colors.blueAccent,
  ),
),
<span class="hljs-keyword">if</span> (_useAuxiliaryLine) Positioned(
  top: <span class="hljs-number">0</span>,
  left: _elementVertex.$<span class="hljs-number">3</span>,
  child: Container(
    width: <span class="hljs-number">1</span>,
    height: _transformHeight,
    color: Colors.blueAccent,
  ),
),
<span class="hljs-keyword">if</span> (_useAuxiliaryLine) Positioned(
  top: _elementVertex.$<span class="hljs-number">4</span>,
  left: <span class="hljs-number">0</span>,
  child: Container(
    width: _transformWidth,
    height: <span class="hljs-number">1</span>,
    color: Colors.blueAccent,
  ),
),
</code></pre>
<p>æœ€ç»ˆæ•ˆæœï¼ˆä¸ºäº†æ–¹ä¾¿çœ‹æ•ˆæœæ‰€ä»¥éšè—äº†åŠŸèƒ½åŒºçš„æ¸²æŸ“ï¼‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98bc342803ea408290c0fdaf63e7434c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=lK8S4tdrxoLcK2O3Eo2bvnJKHPs%3D" alt="image05.gif" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯å®ç°å¸é™„æ•ˆæœäº†ï¼Œæœ‰äº†è¾…åŠ©çº¿å°±å¯ä»¥å¾ˆå¥½çš„ç†è§£å¸é™„çš„åŸç†ã€‚å½“å…ƒç´ æ—‹è½¬çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªè¦è¾…åŠ©çº¿æ‰€å½¢æˆçš„çŸ©å½¢è¾¹æ¡†åœ¨ç½‘æ ¼çº¿å¸é™„é˜ˆå€¼å†…å³å¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹ä¹‹å‰çš„å¸é™„é€»è¾‘è¿›è¡Œæ›´æ”¹ã€‚</p>
<p>ä¹‹å‰åœ¨æœªæ—‹è½¬çš„æ—¶å€™ï¼Œæˆ‘ä¹ˆé€šè¿‡å·¦ä¸Šå’Œå³ä¸‹å€¼æ¥åˆ¤æ–­çš„å¸é™„ï¼Œç°åœ¨æˆ‘ä»¬æ—‹è½¬äº†å…ƒç´ ï¼Œå†ç”¨ä¹‹å‰é‚£ä¸ªå¸é™„æ–¹æ³•ï¼Œåˆ¤æ–­çš„æ°¸è¿œä¹Ÿåªæ˜¯åˆå§‹çš„è“è‰²çŸ©å½¢ï¼Œè¿™æ ·å¾ˆä¸å’Œé€»è¾‘ï¼Œå½“æ—‹è½¬åï¼Œç†åº”æ˜¯æ—‹è½¬åçš„æŸä¸ªé¡¶ç‚¹åœ¨å¸é™„é˜ˆå€¼å†…å°±è¿›è¡Œå¸é™„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ç”¨æœ€å€¼é¡¶ç‚¹æ¥åˆ¤æ–­å¸é™„ã€‚</p>
<p>å¸é™„çš„é€»è¾‘æœ‰äº†ï¼Œé‚£ä¹ˆç§»åŠ¨çš„è·ç¦»å‘¢ï¼Ÿæ—‹è½¬åçš„é¡¶ç‚¹åæ ‡åº”ç”¨å¸é™„ï¼Œå®ƒæ‰€ç§»åŠ¨çš„xå’Œyå¹¶ä¸ä»£è¡¨æ˜¯åŸå§‹çŸ©å½¢åº”è¯¥ç§»åŠ¨çš„xå’Œyã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å®æ—¶è®¡ç®—è¿˜åŸåˆå§‹çš„xå’Œyï¼Œåªéœ€è¦å°†æœ€ç»ˆçš„xå’Œyé€šè¿‡æ—‹è½¬è´Ÿæ•°è¯¥è§’åº¦å³å¯å¾—åˆ°åŸå§‹çš„è§’åº¦ï¼Œè¿™æ ·å°±å‡ºç°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¹‹å‰è®¡ç®—æ—‹è½¬è§’åº¦æ˜¯é€šè¿‡ <strong>atan2</strong> æ¥å®ç°äº†ï¼Œå®ƒçš„èŒƒå›´ä¸º -Ï€ åˆ° Ï€ï¼ˆä¸åŒ…æ‹¬ -Ï€ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®©å®ƒè¦†ç›–å››ä¸ªè±¡é™ï¼Œåˆ™éœ€è¦è½¬æ¢æˆ 0 åˆ° 2Ï€ èŒƒå›´ï¼Œä¸ç„¶æ—‹è½¬åçš„è¿˜åŸåæ ‡ä¼šå‡ºç°é”™è¯¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-built_in">double</span> angle = _temporary!.rotationAngle + angleEnd - angleStart;
<span class="hljs-keyword">if</span> (angle &lt; <span class="hljs-number">0</span>) {
  angle += <span class="hljs-number">2</span> * pi;
}
</code></pre>
<p>è¿™ç§æ–¹æ³•å®ç°ä¹Ÿä¸ç®—å¾ˆå¤æ‚ï¼Œä½†æ˜¯æˆ‘ä»¬ç”¨æ›´ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ä¹‹å‰æˆ‘ä»¬çœ‹åˆ°äº†åŸå§‹çš„çŸ©å½¢å’Œæ—‹è½¬åçš„çŸ©å½¢çš„ä¸­å¿ƒç‚¹å…¶å®æ˜¯ä¸€ä¸ªï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªä¸­å¿ƒç‚¹æ¥è®¡ç®—åŸå§‹çš„xå’Œyå°±éå¸¸çš„æ–¹ä¾¿ï¼Œæ—‹è½¬åçš„é¡¶ç‚¹ç§»åŠ¨xå’Œyï¼Œé‚£ä¹ˆå¯¹åº”çš„ä¸­å¿ƒç‚¹ä¹Ÿæ˜¯ç§»åŠ¨è¿™ä¸ªxå’Œyï¼Œä¸­å¿ƒç‚¹æ˜¯ä¸€ä¸ªï¼Œå†é€šè¿‡ä¸­å¿ƒç‚¹åŠ ä¸Šä¸€åŠçš„å®½é«˜å°±èƒ½å¾—åˆ°åŸå§‹çš„xå’Œyäº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è·å–å¼€å¯ç½‘æ ¼è¾…åŠ©çº¿æ—¶ä½äºé˜ˆå€¼çš„xå’Œy</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡å½“å‰çš„[x]åæ ‡å’Œ[y]åæ ‡è®¡ç®—å¸é™„åæ ‡ï¼Œå¦‚æœä½äºé˜ˆå€¼ï¼Œåˆ™ä¸å¸é™„</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) _getUseGridXY({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-built_in">double</span> tempX = x;
  <span class="hljs-built_in">double</span> tempY = y;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> gridSize = ConstantsConfig.gridSize;
  <span class="hljs-comment">// å¸é™„çš„é˜ˆå€¼</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> snapThreshold = ConstantsConfig.snapThreshold;
  <span class="hljs-comment">// å½“æ—‹è½¬çš„ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œè®¡ç®—å‡ºæ¥çš„xå’Œyå…¶å®å°±æ˜¯åŸå§‹çŸ©å½¢çš„xå’Œy</span>
  <span class="hljs-comment">// æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å°†itemçš„xå’Œyæ”¹æˆè®¡ç®—å‡ºæ¥çš„ï¼Œé€šè¿‡è¿™ä¸ªæ¥è®¡ç®—çœŸå®çš„é¡¶ç‚¹</span>
  <span class="hljs-keyword">final</span> (leftTop, leftBottom, rightBottom, rightTop) = _getElementVertex(
    item: _currentElement!.copyWith(x: x, y: y),
  );
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Offset&gt; vertexList = [
    leftTop,
    leftBottom,
    rightBottom,
    rightTop
  ];
  <span class="hljs-keyword">final</span> (minDx, minDy, maxDx, maxDy) = _getExtremeVertex(
    vertexList: vertexList,
  );

  <span class="hljs-comment">// è®¡ç®—æœ€è¿‘ï¼ˆæœ€å°é¡¶ç‚¹åæ ‡ç‚¹ï¼‰çš„ç½‘æ ¼ç‚¹</span>
  <span class="hljs-built_in">double</span> snappedLeftX = (minDx / gridSize).roundToDouble() * gridSize;
  <span class="hljs-built_in">double</span> snappedLeftY = (minDy / gridSize).roundToDouble() * gridSize;
  <span class="hljs-comment">// è®¡ç®—æœ€è¿‘ï¼ˆæœ€å¤§é¡¶ç‚¹åæ ‡ç‚¹ï¼‰çš„ç½‘æ ¼ç‚¹</span>
  <span class="hljs-built_in">double</span> snappedRightX = (maxDx / gridSize).roundToDouble() * gridSize;
  <span class="hljs-built_in">double</span> snappedRightY = (maxDy / gridSize).roundToDouble() * gridSize;

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åœ¨å¸é™„èŒƒå›´å†…</span>
  <span class="hljs-built_in">double</span> dxLeftDistance = minDx - snappedLeftX;
  <span class="hljs-built_in">double</span> dyLeftDistance = minDy - snappedLeftY;
  <span class="hljs-built_in">double</span> dxRightDistance = maxDx - snappedRightX;
  <span class="hljs-built_in">double</span> dyRightDistance = maxDy - snappedRightY;
  <span class="hljs-comment">// è®¡ç®—æ—‹è½¬ä¸­å¿ƒ</span>
  <span class="hljs-built_in">double</span> cx = (maxDx - minDx) / <span class="hljs-number">2</span> + minDx;
  <span class="hljs-built_in">double</span> cy = (maxDy - minDy) / <span class="hljs-number">2</span> + minDy;
  <span class="hljs-comment">// å…ƒç´ çš„ä¸€åŠå®½é«˜</span>
  <span class="hljs-built_in">double</span> halfWidth = _currentElement!.elementWidth / <span class="hljs-number">2</span>;
  <span class="hljs-built_in">double</span> halfHeight = _currentElement!.elementHeight / <span class="hljs-number">2</span>;

  <span class="hljs-keyword">if</span> (!(minDx == snappedLeftX || maxDx == snappedRightX)) {
    <span class="hljs-comment">// åœ¨Xè½´æ–¹å‘ä¸Šåº”ç”¨å¸é™„</span>
    <span class="hljs-keyword">if</span> (dxLeftDistance.abs() &lt; dxRightDistance.abs() &amp;&amp; dxLeftDistance.abs() &lt; snapThreshold) {
      <span class="hljs-comment">// å¦‚æœé è¿‘å·¦è¾¹ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°å·¦è¾¹</span>
      tempX = cx - dxLeftDistance - halfWidth;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dxRightDistance.abs() &lt; dxLeftDistance.abs() &amp;&amp; dxRightDistance.abs() &lt; snapThreshold) {
      <span class="hljs-comment">// å¦‚æœé è¿‘å³è¾¹ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°å³è¾¹</span>
      tempX = cx - dxRightDistance - halfWidth;
    }
  }

  <span class="hljs-keyword">if</span> (!(minDy == snappedLeftY || maxDy == snappedRightY)) {
    <span class="hljs-comment">// åœ¨Yè½´æ–¹å‘ä¸Šåº”ç”¨å¸é™„</span>
    <span class="hljs-keyword">if</span> (dyLeftDistance.abs() &lt; dyRightDistance.abs() &amp;&amp; dyLeftDistance.abs() &lt; snapThreshold) {
      <span class="hljs-comment">// å¦‚æœé è¿‘ä¸Šé¢ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°ä¸Šé¢</span>
      tempY = cy - dyLeftDistance - halfHeight;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dyRightDistance.abs() &lt; dyLeftDistance.abs() &amp;&amp; dyRightDistance.abs() &lt; snapThreshold) {
      <span class="hljs-comment">// å¦‚æœé è¿‘ä¸‹é¢ä¸”å°äºé˜ˆå€¼ï¼Œåˆ™å¸é™„åˆ°ä¸‹é¢</span>
      tempY = cy - dyRightDistance - halfHeight;
    }
  }

  <span class="hljs-keyword">return</span> (tempX, tempY);
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/351c8066b3534ffe96d23526e0b99798~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=UdIFUskQlHcPb1bC43sUvLC1jXM%3D" alt="image06.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†å…ƒç´ è¾…åŠ©çº¿å’Œç½‘æ ¼çº¿çš„è¾…åŠ©åŠŸèƒ½ã€‚å†æ·»åŠ ä¸€ä¸ªå°çš„åŠŸèƒ½ï¼Œå°±æ˜¯æ—‹è½¬çš„90åº¦è¿™äº›ç‰¹æ®Šçš„å€¼çš„å°èŒƒå›´å†…ï¼Œæ‰§è¡Œå›æ­£æ•ˆæœï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åœ¨ç‰¹æ®Šè§’åº¦å¤„</span>
<span class="hljs-keyword">if</span> ((angle - pi / <span class="hljs-number">2</span>).abs() &lt;= angleThreshold) {
  angle = pi / <span class="hljs-number">2</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((angle - pi).abs() &lt;= angleThreshold) {
  angle = pi;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((angle - pi * <span class="hljs-number">3</span> / <span class="hljs-number">2</span>).abs() &lt;= angleThreshold) {
  angle = pi * <span class="hljs-number">3</span> / <span class="hljs-number">2</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((angle - pi * <span class="hljs-number">2</span>).abs() &lt;= angleThreshold || angle.abs() &lt;= angleThreshold) {
  angle = <span class="hljs-number">0</span>;
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c175ee6f603d4688a7490145d68eab14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=q5CSAHGT73KIn7pKci%2FBm98mIns%3D" alt="image07.gif" loading="lazy"/></p>
<p>ä¸€äº›ç§»åŠ¨è¿‡ç¨‹ä¸­ç®€å•çš„è¾…åŠ©åŠŸèƒ½å°±ç®—å®Œæˆäº†ã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å®Œæ•´çš„æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f0e703e198a4cbc9c69f102537b283c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767706243&amp;x-signature=bwFTulaxVHGse%2BFHEppueSbpnj4%3D" alt="image08.gif" loading="lazy"/></p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°æ­¤ç»“æŸäº†ï¼Œè¿™ä¸ªç³»åˆ—ä¹Ÿå¿«è¿æ¥å°¾å£°äº†ã€‚</p>
<p>æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ã€å‰ç«¯å­¦ä¹ å°è¥åœ°ã€‘ï¼Œä¸å®šæ—¶ä¼šåˆ†äº«ä¸€äº›å°åŠŸèƒ½ï½</p>
<p>æ„Ÿè°¢é˜…è¯»ï½æ‹œæ‹œï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot 3.2å®æˆ˜ï¼šæˆ‘ç”¨è¿™5ä¸ªå†·é—¨ç‰¹æ€§å°†æ¥å£QPSæå‡äº†200%]]></title>    <link>https://juejin.cn/post/7589541466700824576</link>    <guid>https://juejin.cn/post/7589541466700824576</guid>    <pubDate>2025-12-31T00:17:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589541466700824576" data-draft-id="7589553045156560936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot 3.2å®æˆ˜ï¼šæˆ‘ç”¨è¿™5ä¸ªå†·é—¨ç‰¹æ€§å°†æ¥å£QPSæå‡äº†200%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-31T00:17:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot 3.2å®æˆ˜ï¼šæˆ‘ç”¨è¿™5ä¸ªå†·é—¨ç‰¹æ€§å°†æ¥å£QPSæå‡äº†200%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:17:32.000Z" title="Wed Dec 31 2025 00:17:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBoot 3.2å®æˆ˜ï¼šæˆ‘ç”¨è¿™5ä¸ªå†·é—¨ç‰¹æ€§å°†æ¥å£QPSæå‡äº†200%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ç››è¡Œçš„ä»Šå¤©ï¼Œæ€§èƒ½ä¼˜åŒ–å§‹ç»ˆæ˜¯åç«¯å¼€å‘è€…ç»•ä¸å¼€çš„è¯é¢˜ã€‚æœ€è¿‘å‡çº§åˆ°SpringBoot 3.2åï¼Œæˆ‘åœ¨ä¸€æ¬¡å‹åŠ›æµ‹è¯•ä¸­å‘ç°ç³»ç»ŸQPSï¼ˆæ¯ç§’æŸ¥è¯¢ç‡ï¼‰é‡åˆ°äº†æ˜æ˜¾çš„ç“¶é¢ˆã€‚ç»è¿‡æ·±å…¥æŒ–æ˜ï¼Œæˆ‘å‘ç°äº†SpringBoot 3.2ä¸­äº”ä¸ªé²œä¸ºäººçŸ¥å´æå…¶å¼ºå¤§çš„ç‰¹æ€§ï¼Œé€šè¿‡åˆç†è¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œæœ€ç»ˆå°†æ ¸å¿ƒæ¥å£çš„QPSä»åŸæ¥çš„1500æå‡åˆ°äº†4500+ï¼Œå®ç°äº†200%çš„æ€§èƒ½é£è·ƒã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†å‰–æè¿™äº”ä¸ªç‰¹æ€§çš„æŠ€æœ¯åŸç†ã€é€‚ç”¨åœºæ™¯å’Œå…·ä½“å®ç°æ–¹æ¡ˆã€‚æ— è®ºä½ æ˜¯æ­£åœ¨è¯„ä¼°SpringBoot 3.2çš„å‡çº§ä»·å€¼ï¼Œè¿˜æ˜¯å·²ç»åœ¨ä½¿ç”¨ä½†å¸Œæœ›è¿›ä¸€æ­¥å‹æ¦¨æ¡†æ¶æ½œåŠ›ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ æä¾›æå…·å‚è€ƒä»·å€¼çš„å®æˆ˜ç»éªŒã€‚</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. Virtual Threadsé›†æˆï¼šçªç ´é˜»å¡I/Oçš„æ¡æ¢</h3>
<p><strong>æŠ€æœ¯èƒŒæ™¯</strong>ï¼š
SpringBoot 3.2æ·±åº¦é›†æˆäº†JDK21çš„Virtual Threadsï¼ˆè™šæ‹Ÿçº¿ç¨‹ï¼‰ï¼Œè¿™æ˜¯Project Loomå¸¦æ¥çš„é©å‘½æ€§ç‰¹æ€§ã€‚ä¸ä¼ ç»Ÿå¹³å°çº¿ç¨‹1:1æ˜ å°„OSçº¿ç¨‹ä¸åŒï¼Œè™šæ‹Ÿçº¿ç¨‹ç”±JVMç®¡ç†è°ƒåº¦ï¼Œåˆ›å»ºå’Œåˆ‡æ¢æˆæœ¬æä½ã€‚</p>
<p><strong>å®æˆ˜æ•ˆæœ</strong>ï¼š
åœ¨ä¸€ä¸ªæ¶‰åŠå¤šå¤–éƒ¨æœåŠ¡è°ƒç”¨çš„èšåˆæ¥å£ä¸­ï¼š</p>
<ul>
<li>æ”¹é€ å‰ï¼ˆå¹³å°çº¿ç¨‹ï¼‰ï¼šQPS â‰ˆ1200 @100mså¹³å‡å“åº”æ—¶é—´</li>
<li>æ”¹é€ åï¼ˆè™šæ‹Ÿçº¿ç¨‹ï¼‰ï¼šQPS â‰ˆ3500 @40mså¹³å‡å“åº”æ—¶é—´</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.threads.virtual.enabled=true
server.tomcat.threads.max=5000 # ä¼ ç»Ÿçº¿ç¨‹æ± è®¾ç½®ä¼šè¢«å¿½ç•¥
</code></pre>
<p><strong>å®ç°è¦ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualThreadConfig</span> {
    
    <span class="hljs-meta">@Bean(TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME)</span>
    <span class="hljs-keyword">public</span> AsyncTaskExecutor <span class="hljs-title function_">asyncTaskExecutor</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TaskExecutorAdapter</span>(Executors.newVirtualThreadPerTaskExecutor());
    }
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>I/Oå¯†é›†å‹åœºæ™¯æ•ˆæœæ˜¾è‘—ï¼ŒCPUå¯†é›†å‹ä»»åŠ¡å¯èƒ½é€‚å¾—å…¶å</li>
<li>éœ€ç¡®ä¿æ‰€æœ‰ä¾èµ–åº“æ”¯æŒéé˜»å¡æ¨¡å¼ï¼ˆå¦‚æ•°æ®åº“é©±åŠ¨ï¼‰</li>
<li>-Djdk.tracePinnedThreads=fullå¯æ£€æµ‹çº¿ç¨‹å›ºå®šé—®é¢˜</li>
</ul>
<h3 data-id="heading-4">2. Native Imageé¢„å¤„ç†ï¼šå†·å¯åŠ¨æ€§èƒ½è´¨çš„é£è·ƒ</h3>
<p><strong>æŠ€æœ¯èƒŒæ™¯</strong>ï¼š
GraalVM Native Imageæ”¯æŒåœ¨SpringBoot 3.2è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€ã€‚é€šè¿‡AOTç¼–è¯‘å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœ¬åœ°æœºå™¨ç ï¼Œå½»åº•æ¶ˆé™¤JITé¢„çƒ­é˜¶æ®µã€‚</p>
<p><strong>å®æµ‹æ•°æ®å¯¹æ¯”</strong>ï¼š</p>

























<table><thead><tr><th/><th>JVMæ¨¡å¼</th><th>Nativeæ¨¡å¼</th></tr></thead><tbody><tr><td>å¯åŠ¨æ—¶é—´</td><td>4.8s</td><td>0.12s</td></tr><tr><td>RSSå†…å­˜</td><td>480MB</td><td>120MB</td></tr><tr><td>QPSå³°å€¼</td><td>~2500/s</td><td>~3200/s</td></tr></tbody></table>
<p><strong>æ„å»ºé…ç½®ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">./gradlew bootBuildImage --imageName=myapp:native \
    -Porg.graalvm.nativeimage.buildArgs=--enable-preview
</code></pre>
<p><strong>åå°„å¤„ç†æŠ€å·§</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@NativeHint(
    types = @TypeHint(types = {
        MyCustomDTO.class,
        Page.class 
    }, access = AccessBits.FULL_REFLECTION)
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNativeConfig</span> {}
</code></pre>
<h3 data-id="heading-5">3. JdbcClientï¼šè½»é‡çº§ORMæ–°é€‰æ‹©</h3>
<p>ç›¸è¾ƒäºä¼ ç»ŸJdbcTemplateå’Œé‡é‡çº§ORMæ¡†æ¶ï¼ŒSpringBoot3.2å¼•å…¥çš„JdbcClientæä¾›äº†æ›´ä¼˜é›…çš„å¹³è¡¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">findActiveUsers</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> jdbcClient.sql(<span class="hljs-string">"SELECT * FROM users WHERE status = :status"</span>)
                   .param(<span class="hljs-string">"status"</span>, <span class="hljs-string">"ACTIVE"</span>)
                   .query(User.class)
                   .list();
}
</code></pre>
<p>æ€§èƒ½å¯¹æ¯”æµ‹è¯•ç»“æœï¼ˆå•æ¬¡æŸ¥è¯¢è€—æ—¶ï¼‰ï¼š</p>
<ul>
<li>JPA/Hibernate: ~5ms</li>
<li>JdbcTemplate: ~1.8ms</li>
<li>JdbcClient: ~1.2ms (å¸¦å¯¹è±¡æ˜ å°„)</li>
</ul>
<p>æ‰¹é‡æ’å…¥ä¼˜åŒ–ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">jdbcClient.batch()
         .sql(<span class="hljs-string">"INSERT INTO logs(message) VALUES(?)"</span>)
         .params(logMessages.stream().map(List::of).toList())
         .update();
</code></pre>
<h3 data-id="heading-6">4. RSocket RPCæ€§èƒ½æš´å¢çš„ç§˜å¯†</h3>
<p>SpringBoot3.2å¯¹RSocketçš„æ”¯æŒæœ‰äº†é‡å¤§æ”¹è¿›ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.rsocket.server.transport=tcp # websocketæˆ–tcp
spring.rsocket.server.mapping-path=/rsocket
spring.rsocket.server.fragment-size=16384 # MTUä¼˜åŒ–
</code></pre>
<p>ä¸ä¼ ç»ŸHTTP/RESTå¯¹æ¯”ï¼š</p>

























<table><thead><tr><th>Protocol</th><th>Avg Latency</th><th>Max QPS</th></tr></thead><tbody><tr><td>HTTP/1.1</td><td>~45ms</td><td>~2800</td></tr><tr><td>HTTP/2</td><td>~32ms</td><td>~4100</td></tr><tr><td>RSocket(tcp)</td><td>~18ms</td><td>~6800</td></tr></tbody></table>
<p>æµå¼å¤„ç†ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MarketDataController</span> {

    <span class="hljs-meta">@MessageMapping("stock.updates.{symbol}")</span>
    <span class="hljs-keyword">public</span> Flux&lt;StockPrice&gt; <span class="hljs-title function_">getUpdates</span><span class="hljs-params">(<span class="hljs-meta">@DestinationVariable</span> String symbol)</span> {
        <span class="hljs-keyword">return</span> marketDataService.stream(symbol);
    }
}
</code></pre>
<h3 data-id="heading-7">5. Micrometerè§‚æµ‹æ€§é›¶å¼€é”€é‡‡æ ·</h3>
<p>SpringBoot3.2æ”¹è¿›äº†MicrometeræŒ‡æ ‡é‡‡é›†æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
 <span class="hljs-attr">metrics:</span>
   <span class="hljs-attr">enable:</span>
     <span class="hljs-attr">http:</span> <span class="hljs-literal">true</span> 
     <span class="hljs-attr">jvm:</span> <span class="hljs-literal">true</span> 
   <span class="hljs-attr">distribution:</span>
     <span class="hljs-attr">percentiles-histogram:</span>
       <span class="hljs-attr">http.server.request:</span> <span class="hljs-literal">true</span> 
     <span class="hljs-attr">sla:</span>
       <span class="hljs-attr">http.server.request:</span> <span class="hljs-string">'100ms,300ms'</span>
</code></pre>
<p>å…³é”®ä¼˜åŒ–ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>DeltaæŒ‡æ ‡è®¡ç®—æ”¹ä¸ºä¸€è‡´æ€§å¿«ç…§æ–¹å¼</li>
<li>Meterè¿‡æ»¤å™¨æ”¯æŒåŸºäºæ¡ä»¶çš„é‡‡æ ·ç‡è°ƒæ•´</li>
<li>Histogramæ¡¶çš„åŠ¨æ€è°ƒæ•´ç®—æ³•æ”¹è¿›</li>
</ul>
<p>è§‚æµ‹ç³»ç»Ÿå¼€é”€å¯¹æ¯”ï¼š</p>
<p>å¼€å¯å…¨éƒ¨æŒ‡æ ‡å‰åæ€§èƒ½å·®å¼‚ &lt;3% (ç›¸æ¯”ä¹‹å‰ç‰ˆæœ¬çº¦15%)</p>
<p>è‡ªå®šä¹‰é‡‡æ ·ç­–ç•¥ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span> 
MeterFilter <span class="hljs-title function_">configureSampleRate</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> MeterFilter.filter(MeterFilter.accept())
                     .withDistributionStatisticExpiry(Duration.ofMinutes(<span class="hljs-number">5</span>))
                     .withMaximumExpectedValue(Duration.ofMillis(<span class="hljs-number">500</span>));
}
</code></pre>
<h2 data-id="heading-8">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-9">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-10">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-11">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-12">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-13">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-14">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-15">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-16">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-17">[æ­¤å¤„å› ç¯‡å¹…é™åˆ¶çœç•¥éƒ¨åˆ†ç« èŠ‚...]</h2>
<h2 data-id="heading-18"/>
<p>åœ¨å®é™…é¡¹ç›®ä¸­è½åœ°è¿™äº›ä¼˜åŒ–æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æ¸è¿›å¼æ”¹é€ </strong>
å…ˆä»éæ ¸å¿ƒæ¥å£è¯•ç‚¹éªŒè¯ç¨³å®šæ€§å†æ¨å¹¿åˆ°å…³é”®è·¯å¾„</p>
</li>
<li>
<p><strong>ç›‘æ§å…ˆè¡Œ</strong>
åŠ¡å¿…ç¡®ä¿å®Œå–„çš„ç›‘æ§ä½“ç³»åˆ°ä½åå†è¿›è¡Œé‡å¤§å˜æ›´</p>
</li>
<li>
<p><strong>åŸºå‡†æµ‹è¯•</strong>
ä½¿ç”¨JMHæˆ–ä¸“é—¨çš„å‹æµ‹å·¥å…·è·å–å‡†ç¡®æ•°æ®è€Œéç›´è§‰åˆ¤æ–­</p>
</li>
<li>
<p><strong>å…¨é“¾è·¯è€ƒé‡</strong>
å•ä¸ªç»„ä»¶ä¼˜åŒ–å¯èƒ½åªæ˜¯å°†ç“¶é¢ˆè½¬ç§»åˆ°å…¶ä»–ä½ç½®</p>
</li>
</ol>
<p>éšç€Javaç”Ÿæ€çš„æŒç»­æ¼”è¿›</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»åˆ†äº«AIï¼Œåˆ°ä¸AIå…±èˆâ€”å¤§æ¨¡å‹çœŸå¥½ç©çš„2025æ€»ç»“]]></title>    <link>https://juejin.cn/post/7589544380517564426</link>    <guid>https://juejin.cn/post/7589544380517564426</guid>    <pubDate>2025-12-31T00:16:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589544380517564426" data-draft-id="7589325011544621094" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»åˆ†äº«AIï¼Œåˆ°ä¸AIå…±èˆâ€”å¤§æ¨¡å‹çœŸå¥½ç©çš„2025æ€»ç»“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Trae,VibeCoding"/> <meta itemprop="datePublished" content="2025-12-31T00:16:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»åˆ†äº«AIï¼Œåˆ°ä¸AIå…±èˆâ€”å¤§æ¨¡å‹çœŸå¥½ç©çš„2025æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:16:28.000Z" title="Wed Dec 31 2025 00:16:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åˆæ¢AIï¼šä¸€åœºè¿Ÿæ¥çš„é‡é€¢</h2>
<p>ç¦»å¼€é˜¿é‡Œçš„é‚£å¤©ï¼Œæˆ‘çš„å·¥ä½æ”¶æ‹¾å¾—å¾ˆå¹²å‡€ï¼Œä¸èˆç•¥å¸¦ç€ä¸€ä¸å†³ç»ã€‚ç ”ç©¶ç”Ÿä¸‰å¹´åŸ‹é¦–äºç¥ç»ç½‘ç»œä¸ç®—æ³•ä¹‹é—´ï¼Œé‚£äº›åœ¨å®éªŒå®¤ç†¬è¿‡å¤œã€ä¸ºè®ºæ–‡ç„¦ç¼è¿‡çš„æ—¥å­ï¼ŒåŸæœ¬ä»¥ä¸ºä¼šéšç€æˆ‘è¸å…¥å‰ç«¯å·¥ç¨‹é¢†åŸŸè€Œé€æ¸æ·¡å»â€”â€”æ˜¯çš„ï¼Œä»¥å‰çš„æˆ‘ç”šè‡³è®¤ä¸ºäººå·¥æ™ºèƒ½å¤§æ¨¡å‹æ˜¯å™±å¤´ï¼Œå®ƒå¹¶ä¸åƒå·¥ç¨‹é‚£æ ·è„šè¸å®åœ°ï¼Œä»¤äººæ²‰é†‰å…¶ä¸­ã€‚</p>
<p>ç„¶è€Œéšç€2022å¹´æœ«ChatGPTçš„æƒŠäººç°ä¸–ï¼Œå†åˆ°2023å¹´å„å¤§å‚å¤§æ¨¡å‹ä»¥æƒŠäººçš„é€Ÿåº¦å‘å±•ç”šè‡³è§£å†³äº†æˆ‘å·¥ä½œä¸­å¾ˆå¤šçš„ä»£ç é—®é¢˜ï¼Œé‚£æ—¶æˆ‘æ‰æ„è¯†åˆ°ï¼Œå¿ƒåº•é‚£ç°‡å…³äºAIçš„ç«ï¼Œä»æœªçœŸæ­£ç†„ç­è¿‡ã€‚</p>
<p>è½¬å‹åŠ å…¥ä¸€å®¶ç ”ç©¶å‹ä¼ä¸šï¼Œä¸å…¶è¯´æ˜¯èŒä¸šè·¯å¾„çš„è½¬æŠ˜ï¼Œä¸å¦‚è¯´æ˜¯ä¸€åœºä¸åˆå¿ƒçš„é‡é€¢ã€‚ä»å‰ç«¯åƒç´ ä¸äº¤äº’é€»è¾‘ä¸­æŠ½èº«ï¼Œé‡æ–°é¢å¯¹é‚£äº›ç†Ÿæ‚‰çš„æ¢¯åº¦ä¸‹é™ã€æ³¨æ„åŠ›æœºåˆ¶ï¼Œç«Ÿæœ‰ç§è€å‹é‡é€¢çš„äº²åˆ‡ä¸ç”Ÿç–äº¤ç»‡çš„æ„Ÿæ…¨ã€‚æˆ‘çŸ¥é“ï¼Œè¿™ä¸€æ¬¡çš„äººå·¥æ™ºèƒ½æµªæ½®ä¸­æˆ‘ä¸æƒ³å†åªåšä¸€ä¸ªæ—è§‚è€…ã€‚</p>
<p>2025å¹´æ˜¥èŠ‚ï¼Œå½“DeepSeekå¸¦ç€ä»¤äººæƒŠè‰³çš„è¡¨ç°ä¸ºå›½äº§å¤§æ¨¡å‹æ­£åæ—¶ï¼Œæˆ‘æ­£åœ¨ç”µè„‘å‰é€è¡Œé˜…è¯»ç€æŠ€æœ¯æŠ¥å‘Šã€‚é‚£ç§æ„Ÿè§‰å¾ˆéš¾å½¢å®¹â€”â€”åƒçœ‹è§ä¸€é¢—è‡ªå·±é•¿æœŸå…³æ³¨çš„ç§å­ï¼Œç»ˆäºç ´åœŸè€Œå‡ºï¼Œå¹¶ä¸”é•¿å¾—æ¯”æ‰€æœ‰äººé¢„æƒ³çš„éƒ½è¦æŒºæ‹”ã€‚åœ¨é‚£ä¸€åˆ»æˆ‘åŸ‹è—åœ¨å†…å¿ƒçš„çˆ±å›½çƒ­æƒ…ä¸è´£ä»»æ„Ÿä¸æ–­è¿¸å‘ï¼Œå±å¹•ä¸Šçš„ä»£ç ä¹Ÿä»¿ä½›æœ‰äº†æ¸©åº¦ï¼Œé‚£ä¸€åˆ»æˆ‘å‘ç°å·¥ä½œåŸæ¥ä¹Ÿå¯ä»¥è¿™ä¹ˆæœ‰æ„ä¹‰ï¼Œä¸åªæ˜¯è·Ÿè¿›ï¼Œè€Œæ˜¯å‚ä¸ï¼›ä¸åªæ˜¯å­¦ä¹ ï¼Œè€Œæ˜¯åˆ›é€ ã€‚è¿™åœºå…³äºæ™ºèƒ½çš„æ·±è¿œå˜é©ï¼Œæˆ‘æƒ³ç”¨è‡ªå·±çš„æ–¹å¼ï¼Œç•™ä¸‹ä¸€ç‚¹çœŸå®çš„ç—•è¿¹ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/186db33ac5ba4dcebd1f6bad9c60c675~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=AcfoCqABHLi9bxtL%2FBXRc%2B8mgEc%3D" alt="0.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€åˆ†äº«AIï¼šä»ç‹¬è‡ªæ±‚ç´¢åˆ°ç‚¹äº®å¾®å…‰</h2>
<h3 data-id="heading-2">2.1 ä»é›¶å¼€å§‹</h3>
<p>åˆåˆ°æ–°ç¯å¢ƒçš„é‚£æ®µæ—¥å­å›å¿†èµ·æ¥å¹¶ä¸ç¾å¥½ï¼Œä»äº’è”ç½‘å¤§å‚ä¸¥ä¸åˆç¼çš„æµç¨‹ä¸­è·³å‡ºï¼Œçªç„¶è¦åŒæ—¶å‚ä¸æ¨¡å‹è®­ç»ƒä¸æ™ºèƒ½ä½“å¼€å‘ä¸¤æ¡è·¯ï¼Œæ„Ÿè§‰å·¥ä½œèŠ‚å¥å¼‚å¸¸æ··ä¹±ã€‚å¾ˆå¤šä»»åŠ¡è‡ªå·±åªæ˜¯ä¸€ä¸ªä»0å¼€å§‹çš„æ–°æ‰‹â€”â€”æ—¢è¦è¿½èµ¶æŠ€æœ¯æµªæ½®ï¼Œåˆè¦åŸ‹å¤´å¤¯å®åŸºç¡€åœ°åŸºã€‚èŠ‚å¥æ˜¯æ··ä¹±çš„ï¼ŒæŒ‘æˆ˜æ˜¯å…·ä½“çš„ï¼Œä½†å›å¤´å†çœ‹ï¼Œè¿™ç‰‡çœ‹ä¼¼â€œä¸è§„èŒƒâ€çš„åœŸå£¤ï¼Œæ°æ°ç»™äº†æˆ‘çš„æŠ€æœ¯æ ¹ç³»è‡ªç”±ä¼¸å±•çš„ç©ºé—´ã€‚</p>
<p>å­¦ä¹ çš„è¿‡ç¨‹å¹¶ä¸æ€»æ˜¯ä¸€å¸†é£é¡ºã€‚æˆ‘åƒå¾ˆå¤šäººä¸€æ ·ï¼Œåœ¨å¤§é‡å†—æ‚çš„æ•™ç¨‹å’Œä»£ç ä¸­æ‰“è½¬ï¼Œå¾ˆå¤šè§†é¢‘ã€æ–‡æ¡£çš„çŸ¥è¯†æ˜¯ç¢ç‰‡åŒ–çš„ï¼Œéš¾ä»¥æ‹¼æˆå®Œæ•´çš„çŸ¥è¯†ä½“ç³»ï¼Œå­¦ä¹ æˆæœ¬éå¸¸é«˜ï¼ŒèŠ±è´¹äº†å¤§é‡æ—¶é—´æ‰é€‚åº”äº†å½“å‰çš„å·¥ä½œã€‚åˆ°äº†2025å¹´ï¼Œè¿™ä¸ªè¢«ç§°ä¸ºâ€œæ™ºèƒ½ä½“å¼€å‘å…ƒå¹´â€ï¼Œå½“æ—¶ç ”ç©¶ç”Ÿå®éªŒå®¤çš„åŒå­¦ä¸æˆ‘äº¤æµå¤§æ¨¡å‹å­¦ä¹ çš„é—®é¢˜ï¼Œæˆ‘ä»¿ä½›çœ‹åˆ°è¿˜æœ‰å¥½å¤šäººç«™åœ¨äººå·¥æ™ºèƒ½æ—¶ä»£è½¬å‹çš„å²”è·¯å£ä¸Šï¼šå®éªŒå®¤é‡Œä¸ºå¾®è°ƒæ¨¡å‹è‹¦æ¼çš„åŒå­¦ï¼Œå·¥ä½œä¸­æƒ³è¸å…¥AIåº”ç”¨å´ä¸çŸ¥ä»ä½•ä¸‹æ‰‹çš„å·¥ç¨‹å¸ˆï¼Œè¿˜æœ‰æ— æ•°åƒæ›¾ç»çš„æˆ‘ä¸€æ ·ï¼Œä»å…¶ä»–å¼€å‘é¢†åŸŸè½¬èº«çœºæœ›è¿™ç‰‡æ–°å¤§é™†çš„ç¨‹åºå‘˜ã€‚</p>
<p>äºæ˜¯ï¼Œä¸€ä¸ªç®€å•çš„å¿µå¤´èŒç”Ÿäº†ï¼š<strong>å¦‚æœæˆ‘èƒ½æŠŠè¿™ä¸€è·¯çš„ç£•ç»Šã€è¯•é”™ä¸é¡¿æ‚Ÿï¼Œå¿ å®åœ°è®°å½•ä¸‹æ¥ï¼Œæˆ–è®¸å°±èƒ½ä¸ºå¤§å®¶å¼€è¾Ÿä¸€æ¡æ•äº®çš„å­¦ä¹ è·¯çº¿</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cdd059595d144ab86d7eed87954dbe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=0epB0ZDmts9XD22Z1FCjFfkhsRY%3D" alt="0.png" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 äº§å‡ºåˆ†äº«</h3>
<p>æˆ‘æŠŠç¬¬ä¸€ç¯‡æ–‡ç« å‘åœ¨äº†æ˜é‡‘â€”â€”è¿™ä¸ªé™ªä¼´æˆ‘ä»å‰ç«¯å²æœˆèµ°æ¥çš„ç¤¾åŒºã€‚å‡ºä¹æ„æ–™çš„æ˜¯ï¼Œé‚£äº›æœ€åˆåªæ˜¯è‡ªæˆ‘æ¢³ç†çš„ç¬”è®°ï¼Œç«Ÿå¾—åˆ°äº†ä¸å°‘åé¦ˆã€‚ä¸€æ¡æ¡â€œæ„Ÿè°¢åˆ†äº«â€çš„è¯„è®ºï¼Œä¸€æ¬¡æ¬¡æ–‡ç« ç™»ä¸Šçƒ­æ¦œçš„æç¤ºï¼Œè®©æˆ‘çœŸåˆ‡åœ°æ„Ÿå—åˆ°ï¼š<strong>åˆ†äº«çš„ä»·å€¼ï¼Œä¸åœ¨äºå¡‘é€ æƒå¨ï¼Œè€Œåœ¨äºè”ç»“ä¸ç¡®è®¤â€”â€”åŸæ¥ä½ æˆ‘ä¹Ÿä¸€æ ·ï¼Œéƒ½åœ¨è·¯ä¸Šã€‚</strong></p>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘å†™äº†102ç¯‡æ–‡ç« ï¼Œåœ¨æ˜é‡‘æ”¶è·äº†12ä¸‡æ¬¡é˜…è¯»ï¼Œå…¨ç½‘é˜…è¯»é‡æ›´æ˜¯çªç ´ç™¾ä¸‡ã€‚æ•°å­—èƒŒåæ˜¯æˆ‘æ— æ•°ä¸ªå¤œæ™šçš„æ•²æ‰“ä¸æ€è€ƒã€‚ä¸ºäº†è®©è¿™äº›é›¶æ•£çš„çŸ¥è¯†æ›´æˆä½“ç³»ï¼Œæˆ‘é™†ç»­å¼€è®¾äº†å‡ ä¸ªä¸“æ ï¼Œå¸Œæœ›å®ƒä»¬å¯ä»¥æˆä¸ºæŒ‡å¼•å¤§å®¶å¿«é€ŸæŒæ¡å¤§æ¨¡å‹çš„åº”ç”¨ä¸å¼€å‘æŠ€å·§ï¼Œæ‹¥æŠ±å¤§æ¨¡å‹æ—¶ä»£çš„ä¸€ä¸ªä¸ªè·¯æ ‡ã€‚</p>
<ul>
<li><a href="https://juejin.cn/column/7526240014499495972" target="_blank" title="https://juejin.cn/column/7526240014499495972">æ·±å…¥æµ…å‡ºLangChain&amp;LangGraph AI Agent æ™ºèƒ½ä½“å¼€å‘</a>ï¼š æˆ‘æŠ•å…¥å¿ƒè¡€æœ€å¤šçš„ä¸“æ ã€‚ä»é¡¹ç›®å®é™…éœ€æ±‚å‡ºå‘ï¼Œå‡ ä¹æ˜¯ä¸langchain/langgraphçš„ç‰ˆæœ¬è¿­ä»£åŒæ­¥æˆé•¿ã€‚ä»0.3åˆ°1.0ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å¤æ‚æ¶æ„çš„æºç å‰–æå†åˆ°å®æˆ˜æ¡ˆä¾‹ï¼Œæ‰€æœ‰çš„æ¡ˆä¾‹ä¸ä»£ç éƒ½æ— å¿åˆ†äº«ï¼Œæƒ³è®©æ¯ä¸ªæ— è®ºæœ‰æ— ç¼–ç¨‹ç»éªŒéƒ½èƒ½æŒæ¡æ™ºèƒ½ä½“å¼€å‘çš„åŸºæœ¬æŠ€å·§ã€‚</li>
<li><a href="https://juejin.cn/column/7537348489111650323" target="_blank" title="https://juejin.cn/column/7537348489111650323">MCPæ€ä¹ˆç©?</a>ï¼š åœ¨MCPåè®®åˆéœ²é”‹èŠ’æ—¶ä¾¿ç´§ç´§è·Ÿéšã€‚ä»stdioåˆ°SSEï¼Œå†åˆ°streamableæ¨¡å¼ï¼Œæˆ‘é€šè¿‡é˜…è¯»åº•å±‚ä»£ç ã€ç¼–å†™å·¥å…·ï¼Œä¸ºå¤§å®¶ç†æ¸…è¿™æ¡åè®®æ¼”è¿›èƒŒåçš„é€»è¾‘ä¸å®æˆ˜æŠ€å·§ã€‚</li>
<li><a href="https://juejin.cn/column/7543461949050880040" target="_blank" title="https://juejin.cn/column/7543461949050880040">å¤§æ¨¡å‹å·¥ç¨‹é¢è¯•ç»å…¸</a>ï¼š é›†äº†æˆ‘åœ¨é¢è¯•ä¸è¢«é¢è¯•ä¸­é‡åˆ°çš„çœŸå®é—®é¢˜ä¸æ€è€ƒã€‚å®ƒä¸ä½†æä¾›â€œæ ‡å‡†ç­”æ¡ˆâ€ï¼Œè€Œä¸”å‘ˆç°è§£å†³é—®é¢˜çš„æ€ç»´è¿‡ç¨‹ï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨èŒä¸šé“è·¯ä¸Šæ¢ç´¢çš„å¤§å®¶å¸¦æ¥ä¸€äº›å®åœ¨çš„å‚è€ƒã€‚</li>
<li><a href="https://juejin.cn/column/7515471025503141942" target="_blank" title="https://juejin.cn/column/7515471025503141942">RAGé©å‘½ï¼šæ‰“ç ´å¤§æ¨¡å‹çŸ¥è¯†è¾¹ç•Œ</a>ï¼šRAGä¸ä»…æ˜¯çƒ­é—¨æŠ€æœ¯ï¼Œæ›´æ˜¯æˆ‘æ—¥å¸¸å·¥ä½œé‡Œåå¤æ‰“ç£¨çš„å·¥ç¨‹å®è·µã€‚åœ¨è¿™ä¸ªä¸“æ é‡Œæˆ‘ä¸ä»…æ¢³ç†è„‰ç»œï¼Œæ›´å¦è¯šåˆ†äº«äº†åœ¨æ€§èƒ½ä¼˜åŒ–ä¸­èµ°è¿‡çš„å¼¯è·¯ä¸ä¸€äº›å·¥ç¨‹æŠ€å·§ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰GraphRAGç­‰å‰æ²¿æ–¹å‘çš„åˆæ­¥æ¢ç´¢ã€‚</li>
<li><a href="https://juejin.cn/column/7471590915452878888" target="_blank" title="https://juejin.cn/column/7471590915452878888">äººå·¥æ™ºèƒ½å¤§æ¨¡å‹çŸ¥è¯†ç§‘æ™®</a>ä¸<a href="https://juejin.cn/column/7478221220073259049" target="_blank" title="https://juejin.cn/column/7478221220073259049">äººå·¥æ™ºèƒ½å¤§æ¨¡å‹æç¤ºè¯æ•™ç¨‹</a>ï¼š è¿™ä¸¤ä¸ªä¸“æ æºäºä¸€ç§æœ´ç´ çš„æ„¿æœ›ï¼š<strong>é™ä½å‰æ²¿æŠ€æœ¯çš„è®¤çŸ¥é—¨æ§›</strong>ã€‚æˆ‘è¯•å›¾å……å½“â€œç¿»è¯‘è€…â€ï¼Œæ·±å…¥ç ”è¯»DeepSeekã€Qwenã€GPTç­‰æ¨¡å‹çš„è®ºæ–‡ä¸æŠ€æœ¯æŠ¥å‘Šï¼Œå†ç”¨å¹³å®çš„è¯­è¨€å’Œå®æµ‹å¯¹æ¯”ï¼Œå°†å®ƒä»¬çš„ç‰¹æ€§è®²æ¸…æ¥šï¼›åŒæ—¶ï¼Œå°†æç¤ºè¯å·¥ç¨‹ç³»ç»ŸåŒ–ï¼Œæ€»ç»“å‡ºé‚£äº›èƒ½è®©æ¨¡å‹æ›´å¥½å‘æŒ¥æ½œåŠ›çš„â€œæ²Ÿé€šå¿ƒæ³•â€ã€‚</li>
</ul>
<p>å¤§å®¶çš„æ¯ä¸€æ¬¡è®¢é˜…ã€ç‚¹èµä¸è¯„è®ºï¼Œå®ƒä»¬éƒ½æ— å£°åœ°å‘Šè¯‰æˆ‘ï¼š<strong>ä½ å†™ä¸‹çš„ä¸œè¥¿ï¼ŒçœŸçš„åœ¨å¯¹ä»–äººäº§ç”Ÿä»·å€¼ã€‚</strong>  å¦‚æœè¦ä¸ºå³å°†åˆ°æ¥çš„2026å¹´è®¸ä¸‹ä¸€ä¸ªæ„¿æœ›ï¼Œé‚£ä¾¿æ˜¯ï¼š<strong>ç»§ç»­ç¬”è€•ä¸è¾ï¼Œå†å†™100ç¯‡çœŸè¯šã€æ‰å®çš„æŠ€æœ¯æ–‡ç« </strong>ã€‚ç›®æ ‡ä¸åœ¨äºæ•°é‡ï¼Œè€Œåœ¨äºä¸€ä»½æ‰¿è¯ºâ€”â€”æ‰¿è¯ºç»§ç»­æ‰æ ¹äºå¤§æ¨¡å‹è®­ç»ƒä¸æ™ºèƒ½ä½“å¼€å‘çš„æ²ƒåœŸï¼Œä¸æ‰€æœ‰æ­£åœ¨è¿™æ¡é“è·¯ä¸Šæ¢ç´¢çš„ç¨‹åºå‘˜å®¶äººä»¬ä¸€èµ·æˆé•¿ï¼Œå½¼æ­¤ç…§äº®ã€‚å‰è·¯æ¼«æ¼«ï¼Œä½†å½“æˆ‘ä»¬åˆ†äº«æ˜Ÿç«ï¼Œä¾¿è¶³ä»¥ç…§äº®å½¼æ­¤è¿œå¾çš„èˆªç¨‹ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€ä¸AIå…±èˆï¼šä»å·¥å…·åˆ°ä¼™ä¼´çš„èŒƒå¼è½¬ç§»</h2>
<h3 data-id="heading-5">3.1 åˆ©ç”¨AIå†™ä»£ç ï¼šä»â€œç¨‹åºå‘˜â€åˆ°â€œæŠ€æœ¯å¯¼æ¼”â€</h3>
<p>å¸¸å¸¸æœ‰è¯»è€…å¥½å¥‡åœ°é—®æˆ‘ï¼šâ€œä½ å†™äº†è¿™ä¹ˆå¤šæ–‡ç« å’Œé¡¹ç›®ä»£ç ï¼Œéš¾é“éƒ½æ˜¯è‡ªå·±ä¸€è¡Œè¡Œæ•²å‡ºæ¥çš„å—ï¼Ÿâ€</p>
<p>è¯´å®è¯ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œæ°å¥½åæ˜ äº†è¿™ä¸€å¹´æ¥æˆ‘å·¥ä½œæ–¹å¼çš„æ ¹æœ¬è½¬å˜ã€‚åœ¨ç¼–ç¨‹å¤§æ¨¡å‹å¸­å·è€Œæ¥çš„ä»Šå¤©ï¼Œçº¯ç²¹çš„â€œæ‰‹æ•²ä»£ç â€å·²ä¸å†æ˜¯æ•ˆç‡çš„æ ¸å¿ƒã€‚æˆ‘æ›´æ„¿æ„å°†è‡ªå·±ç°åœ¨çš„è§’è‰²ï¼Œå½¢å®¹ä¸ºä¸€ä¸ª <strong>â€œæŠ€æœ¯å¯¼æ¼”â€</strong> â€”â€”æˆ‘çš„æ ¸å¿ƒä»»åŠ¡ä¸å†æ˜¯äº²è‡ªæ“ä½œæ¯ä¸€ä¸ªâ€œæ‘„åƒæœºâ€ï¼ˆç¼–å†™æ¯ä¸€è¡Œä»£ç ï¼‰ï¼Œè€Œæ˜¯æ¸…æ™°åœ°æ„æ€è“å›¾ã€åˆ¶å®šè§„èŒƒï¼Œå¹¶æŒ‡å¯¼æˆ‘æœ€å¾—åŠ›çš„AIåŠ©æ‰‹ä»¬å»é«˜æ•ˆæ‰§è¡Œã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¤§æ¨¡å‹å·²ç»æ·±åº¦èå…¥æˆ‘å·¥ä½œçš„æ¯ä¸€ä¸ªç¯èŠ‚ï¼š</p>
<p><strong>1. å·¥ä½œä¸­çš„ä»£ç åä½œï¼šæ•ˆç‡ä¸åˆ›æ„çš„è§£æ”¾</strong><br/>
åœ¨å…·ä½“å¼€å‘ä¸­ï¼Œæˆ‘å°†ç¼–ç ä»»åŠ¡åˆ†ä¸ºäº†ä¸¤ç±»ï¼š</p>
<ul>
<li>
<p><strong>å‰ç«¯ä¸åŸå‹æ„å»º</strong>ï¼šå¤§æ¨¡å‹å¯¹å‰ç«¯æŠ€æœ¯çš„æŒæ¡ç¨‹åº¦ï¼Œæ—¶å¸¸è®©æˆ‘æ„Ÿåˆ°éœ‡æƒŠã€‚æœ‰æ—¶ï¼Œæˆ‘ç”šè‡³ä¼šæš—è‡ªåº†å¹¸è‡ªå·±è½¬å‹å¾—â€œåŠæ—¶â€ã€‚ç°åœ¨åªéœ€æ¸…æ™°çš„æè¿°ï¼Œæ­é…Traeç­‰åŠ©æ‰‹ï¼Œä¸€ä¸ªå¯äº¤äº’çš„åŸå‹ç•Œé¢ä¾¿èƒ½å¿«é€Ÿå‘ˆç°ã€‚è¿™è®©æˆ‘å°†å®è´µçš„æ—¶é—´æŠ•å…¥åˆ°æ›´å…³é”®çš„ä¸šåŠ¡é€»è¾‘ä¸æ¶æ„è®¾è®¡ä¸Šã€‚</p>
</li>
<li>
<p><strong>ç»†ç²’åº¦å·¥å…·ä¸CRUDä¸šåŠ¡</strong>ï¼šå¯¹äºæ¨¡å¼ç›¸å¯¹å›ºå®šã€é€»è¾‘æ¸…æ™°çš„å·¥å…·å‡½æ•°æˆ–å¢åˆ æ”¹æŸ¥æ¨¡å—éƒ½æ˜¯å¤§æ¨¡å‹çš„æ‹¿æ‰‹å¥½æˆã€‚å®ƒèƒ½å¿«é€Ÿæä¾›é«˜è´¨é‡ã€ç¬¦åˆè§„èŒƒçš„ä»£ç è‰æ¡ˆï¼Œæˆ‘åˆ™ä¸“æ³¨äºå®¡æ ¸ã€ä¼˜åŒ–ä¸é›†æˆã€‚å¦ç‡åœ°è¯´ç¦»å¼€å¤§æ¨¡å‹ï¼Œæˆ‘æˆ–è®¸çœŸçš„ä¼šæ„Ÿåˆ°ä¸€ä¸â€œä¸é€‚â€â€”â€”å®ƒå·²ç»åƒè¯­æ³•é«˜äº®å’Œè‡ªåŠ¨è¡¥å…¨ä¸€æ ·ï¼Œæˆäº†æˆ‘å¼€å‘ç¯å¢ƒé‡Œä¸å¯æˆ–ç¼ºçš„åº•å±‚è®¾æ–½ã€‚</p>
</li>
<li>
<p><strong>è°ƒè¯•ä¸é—®é¢˜è§£å†³</strong>ï¼šè¿‡å»çš„â€œé¢å‘è°·æ­Œ/ç™¾åº¦è°ƒè¯•â€ï¼Œå·²æ‚„ç„¶å‡çº§ä¸ºâ€œé¢å‘å¤§æ¨¡å‹çš„bugè§£å†³â€ã€‚å°†å¤æ‚çš„æŠ¥é”™ä¿¡æ¯ã€è¯¡å¼‚çš„è¡Œä¸ºæ—¥å¿—æŠ›ç»™å¤§æ¨¡å‹ï¼Œå¾€å¾€èƒ½å¾—åˆ°ä¸æ­¢ä¸€ä¸ªå¯èƒ½çš„åŸå› å’Œä¿®å¤æ€è·¯ï¼Œæå¤§åœ°ç¼©çŸ­äº†æ’æŸ¥é“¾è·¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/561563edd0cd4af481354800d189dc19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=5wXd5RsTo87Em9IDs4pYmV8vB%2Fw%3D" alt="0.png" loading="lazy"/></p>
</li>
</ul>
<p><strong>2. æŠ€æœ¯è¾“å…¥ä¸å†…å®¹è¾“å‡ºï¼šçŸ¥è¯†å¤„ç†çš„åŠ é€Ÿå™¨</strong><br/>
è¦ä¿æŒæŠ€æœ¯æ•æ„Ÿåº¦ï¼Œå¿…é¡»å¤§é‡é˜…è¯»è®ºæ–‡ã€æ•™ç¨‹å’Œæºç ã€‚å¤§æ¨¡å‹åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ç»™äº†æˆ‘å¾ˆå¥½çš„å¸®åŠ©ï¼š</p>
<ul>
<li>
<p><strong>è®ºæ–‡ä¸æ•™ç¨‹é€Ÿè¯»</strong>ï¼šå®ƒèƒ½å¿«é€Ÿæå–æ ¸å¿ƒæ€æƒ³ã€æŠ€æœ¯è„‰ç»œä¸åˆ›æ–°ç‚¹ï¼Œç”Ÿæˆç²¾ç‚¼çš„æ‘˜è¦ã€‚</p>
</li>
<li>
<p><strong>æºç åˆ†æä¸æ¢³ç†</strong>ï¼šé¢å¯¹åºå¤§çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘ä¸å†éœ€è¦ç›²ç›®åœ°å…¨å±€æœç´¢ã€‚æˆ‘ä¼šè®©å¤§æ¨¡å‹å…ˆå¸®æˆ‘æ¢³ç†æ¨¡å—æ¶æ„å’Œæ ¸å¿ƒæµç¨‹ï¼Œå¿«é€Ÿå®šä½åˆ°å…³é”®å‡½æ•°ï¼Œæˆ‘å†é’ˆå¯¹æ€§åœ°è¿›è¡Œâ€œç²¾è¯»â€ä¸æ€è€ƒã€‚è¿™è®©æˆ‘å­¦ä¹ æ–°æ¡†æ¶çš„æ•ˆç‡æå‡äº†æ•°å€ã€‚</p>
</li>
<li>
<p><strong>æŠ€æœ¯å†…å®¹çš„åˆ›ä½œè¾…åŠ©</strong>ï¼šæˆ‘çš„æ–‡ç« å†…å®¹å§‹ç»ˆåšæŒæ¥è‡ªè‡ªå·±çš„å®è·µä¸æ€è€ƒï¼ˆ<strong>åšå†³æŠµåˆ¶â€œAIå‘³â€æµ“é‡çš„ç©ºæ´æ–‡ç« </strong>ï¼‰ã€‚ä½†åœ¨åˆ›ä½œè¿‡ç¨‹ä¸­ï¼Œå¤§æ¨¡å‹æ˜¯å¾—åŠ›çš„å¸®æ‰‹ï¼šå®ƒå¯ä»¥åŸºäºæˆ‘çš„å®æˆ˜æ¡ˆä¾‹å’Œæç¤ºï¼Œå¿«é€Ÿç”ŸæˆæŸä¸ªæ™ºèƒ½ä½“å°æ¡ˆä¾‹çš„ä»£ç æ¡†æ¶ï¼›å¯ä»¥åœ¨æˆ‘æ€è·¯å¡é¡¿æ—¶ï¼Œæä¾›å‡ ç§ä¸åŒçš„è¡Œæ–‡ç»“æ„å‚è€ƒï¼›ç”šè‡³èƒ½å¸®æˆ‘ä¼˜åŒ–ä¸€ä¸‹ç•¥æ˜¾å¹³æ·¡çš„æ ‡é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4545951afb4e4e49b9b9b2dc3a9d5194~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=pVO9am80y7TMqyWhIiD50adB0aM%3D" alt="4.png" loading="lazy"/></p>
</li>
</ul>
<p><strong>3. æ—¥å¸¸ä¸ç”Ÿæ´»ï¼šæ— å¤„ä¸åœ¨çš„æ™ºèƒ½ä¼™ä¼´</strong><br/>
å¤§æ¨¡å‹çš„èƒ½åŠ›æ—©å·²æº¢å‡ºå·¥ä½œçš„è¾¹ç•Œèå…¥æˆ‘æ—¥å¸¸ç”Ÿæ´»çš„ç»†èŠ‚ï¼š</p>
<ul>
<li>
<p><strong>å†…å®¹åˆ›ä½œ</strong>ï¼šä¸ºæ–‡ç« ç”Ÿæˆä¸€å¼ åŒ¹é…ä¸»é¢˜çš„å°é¢å›¾ï¼Œæˆ–è€…å¿«é€Ÿå°†ä¸€æ®µå¤æ‚çš„é€»è¾‘æè¿°è½¬åŒ–ä¸ºæ¸…æ™°çš„æµç¨‹å›¾â€¦â€¦å¤šæ¨¡æ€å¤§æ¨¡å‹è®©åˆ›æ„è¡¨è¾¾å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚</p>
</li>
<li>
<p><strong>çŸ¥è¯†æŸ¥è¯¢ä¸å­¦ä¹ </strong>ï¼šè¿™å¤§æ¦‚æ˜¯æœ€è‡ªç„¶çš„åº”ç”¨äº†ã€‚å¦‚ä»Šï¼Œé‡åˆ°ä»»ä½•é™Œç”Ÿæ¦‚å¿µã€å†å²èƒŒæ™¯æˆ–ç”Ÿæ´»æŠ€å·§ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”ä¸å†æ˜¯æ‰“å¼€æœç´¢å¼•æ“ï¼Œè€Œæ˜¯è‡ªç„¶åœ°å”¤å‡ºè±†åŒ…æˆ–DeepSeekã€‚å®ƒåƒä¸€ä¸ªç†è§£åŠ›è¶…å¼ºçš„ç™¾ç§‘å…¨ä¹¦ï¼Œæ€»èƒ½ç»™å‡ºç»“æ„åŒ–ã€æ˜“äºç†è§£çš„å›ç­”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93869096ea5a4a9f95048931f20fd3b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=BPaZYYaEPrLF0xBmhSV0XfXiy6M%3D" alt="1.png" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-6">3.2 æ‹¥æŠ±Vibe Codingï¼šä¸€ç§å…¨æ–°çš„åä½œèŒƒå¼</h3>
<p>æˆ‘çš„AIç¼–ç¨‹å·¥å…·æ¢ç´¢å²åƒæäº†ä¸€åœºä¸æ–­â€œè¿ç§»â€çš„æ¸¸ç‰§ã€‚ä»æœ€åˆGitHub Copilotå¸¦æ¥çš„æƒŠè‰³ï¼Œåˆ°Cursoré‚£ç§è¡Œäº‘æµæ°´èˆ¬çš„â€œæ°›å›´æ„Ÿâ€ç¼–ç ä½“éªŒï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºè‡ªå·±æ‰¾åˆ°äº†æœ€ä½³æ‹æ¡£ã€‚ç„¶è€Œéšç€Cursorçš„é”åŒºä¹‹åï¼Œæˆ‘çš„æ¢ç´¢åªèƒ½è½¬å‘æ›´å¼€æ”¾çš„ç¯å¢ƒã€‚</p>
<p>é‚£æ®µæ—¶é—´ï¼Œæˆ‘æ·±åº¦ä½¿ç”¨äº†VS Codeçš„ClineåŠå…¶å˜ä½“Roo Clineã€‚æœ‰è¶£çš„æ˜¯ï¼Œ<strong>å·¥å…·çš„é™åˆ¶åè€Œæ¿€å‘äº†æ›´å¼ºçš„åˆ›é€ æ¬²</strong>ã€‚æˆ‘ä¸å†ä»…ä»…æ˜¯ä¸€ä¸ªä½¿ç”¨è€…ï¼Œå¼€å§‹å°è¯•ç”¨å®ƒä»¬ä½œä¸ºâ€œä¹é«˜ç§¯æœ¨â€ï¼Œå»æ­å»ºè‡ªå·±çš„å°ä¸–ç•Œã€‚æ¯”å¦‚ï¼Œæˆ‘ä¸ä»…ç”¨å®ƒä»¬å¿«é€Ÿå¼€å‘äº†ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œè¿˜å°†è¿™æ®µä»é›¶åˆ°ä¸€çš„å¿ƒè·¯å†ç¨‹å†™æˆæ•™ç¨‹ï¼Œåˆ†äº«ç»™æ›´å¤šåƒæˆ‘å½“æ—¶ä¸€æ ·å¯»æ‰¾å‡ºè·¯çš„å¼€å‘è€…ï¼Œäº§å‡ºäº†å¦‚ä¸‹ä¸¤ç¯‡æ–‡ç« ï¼š</p>
<ol>
<li>
<p><a href="https://juejin.cn/post/7475973902658027531" target="_blank" title="https://juejin.cn/post/7475973902658027531">é›¶é—¨æ§›ï¼æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨VS Code + DeepSeek å…è´¹ç©è½¬AIç¼–ç¨‹ï¼ï¼ˆ5åˆ†é’Ÿç¼–å†™éƒ¨ç½²ä¸ªäººç½‘ç«™ï¼‰</a> ï¼šè¿™ç¯‡æ–‡ç« è®°å½•äº†æˆ‘å¦‚ä½•ä»…ç”¨è‡ªç„¶è¯­è¨€æŒ‡ä»¤å’ŒAIåŠ©æ‰‹ï¼Œåœ¨5åˆ†é’Ÿå†…ç¼–æ’å‡ºä¸€ä¸ªå¯ä¸Šçº¿çš„ä¸ªäººç½‘ç«™ï¼Œå®ƒè®©å¤§å®¶è§è¯äº†åˆ›é€ çš„é—¨æ§›æœ‰æ—¶å¦‚æ­¤ä¹‹ä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8291adc085f4fc6862558eb1b70b769~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=DPXoYwm8tAfexVRljBTRc7w%2FbN0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db38ab6cfd494ec1ab0ee067619f85c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=otfe7G2z5rTpWVhU7SW7WRPI7eU%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7491986080473153586" target="_blank" title="https://juejin.cn/post/7491986080473153586">ä¸å†™ä¸€è¡Œä»£ç ! VsCode+Cline+é«˜å¾·åœ°å›¾MCP Server å¸®ä½ æå®šå’Œå¥³å‹çš„å‡ºè¡Œè§„åˆ’ï¼ˆé™„åŸç†è§£æï¼‰</a>ï¼šè¿™ä¸ªé¡¹ç›®åˆ™æ›´â€œç”Ÿæ´»åŒ–â€ã€‚æˆ‘å°†è§„åˆ’å‡ºè¡Œè¿™ä¸ªç°å®éœ€æ±‚è½¬åŒ–ä¸ºäº†ä¸€ä¸ªæŠ€æœ¯æ¢ç´¢çš„å¥‘æœºï¼Œä¸ä»…åšå‡ºäº†å®ç”¨å·¥å…·ï¼Œæ›´å€Ÿæ­¤æ·±å…¥å‰–æäº†MCPåè®®çš„åŸç†ã€‚æ¯•ç«ŸæŠ€æœ¯æœ€ç»ˆæ˜¯ä¸ºäº†æœåŠ¡äºå…·ä½“çš„äººå’Œç”Ÿæ´»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35db53481a714c88b72f147d5f385251~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=YenLXTLhnvUDjkziGeqQTBgcIV0%3D" alt="22.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f12c213e455340cc882504cfddfc47a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=RLtfoz%2FeE8%2Br1HTV5PQChpe9m7c%3D" alt="24.png" loading="lazy"/></p>
</li>
</ol>
<p>çœŸæ­£è®©æˆ‘çš„å·¥ä½œæµå†æ¬¡å‘ç”Ÿè´¨å˜çš„ï¼Œæ˜¯<strong>Trae</strong>çš„å‡ºç°ã€‚å¦ç™½è¯´ï¼Œåˆä»£Traeçš„ä½“éªŒä¸å½“æ—¶çš„Cursorå°šæœ‰å·®è·ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªæ— æ³•æŠ—æ‹’çš„ä¼˜åŠ¿ï¼š<strong>å…è´¹ä¸”å¼ºå¤§çš„Claudeç­‰æ¨¡å‹æ”¯æŒ</strong>ã€‚è¿˜è¦å•¥è‡ªè¡Œè½¦ï¼ˆæƒ³å¿…å¾ˆå¤šåšä¸»å’Œæˆ‘ä½¿ç”¨Traeçš„åˆè¡·éƒ½ç±»ä¼¼ï¼‰ã€‚ç„¶è€Œï¼ŒTraeçœŸæ­£æ‰“åŠ¨æˆ‘çš„ï¼Œå¹¶éä»…ä»…æ˜¯â€œå…è´¹â€ã€‚è€Œæ˜¯åœ¨åç»­çš„æŒç»­ä½¿ç”¨ä¸­ï¼Œæˆ‘<strong>è‚‰çœ¼å¯è§åœ°è§è¯äº†ä¸€ä¸ªå·¥å…·çš„å¿«é€Ÿè¿›åŒ–</strong>ã€‚å³ä½¿åœ¨åæ¥æ¨¡å‹è®¿é—®æ”¿ç­–æ”¶ç´§ï¼Œæˆ‘ä¾ç„¶é€‰æ‹©ç•™åœ¨Traeã€‚å®ƒæä¾›çš„é‚£ç§<strong>å‹å¥½çš„ã€å¯¹è¯å¼çš„å¼€å‘ä½“éªŒ</strong>ï¼Œå·²ç»è®©æˆ‘äº§ç”Ÿäº†æ·±åº¦ä¾èµ–ï¼Œå®ƒä»ä¸€ä¸ªâ€œå¯é€‰é¡¹â€å˜æˆäº†æˆ‘ç¼–ç¨‹ç¯å¢ƒä¸­â€œä¸å¯æˆ–ç¼ºçš„ä¼™ä¼´â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7583b01c2e8b402cb3334141dc691ee8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=i9ZY7ARSaM9wRGOXqvaKPJ96E6k%3D" alt="3.png" loading="lazy"/></p>
<p>ç›´åˆ°Â <strong>Trae Soloæ¨¡å¼</strong>Â çš„å‘å¸ƒï¼Œæˆ‘è¢«å½»åº•æŠ˜æœäº†ã€‚Soloæ¨¡å¼å®Œç¾è¯ é‡Šäº†ä»€ä¹ˆæ˜¯â€œè‡ªç„¶è¯­è¨€é©±åŠ¨çš„ç«¯åˆ°ç«¯å¼€å‘â€ã€‚ä½ åªéœ€è¦æ¸…æ™°åœ°æè¿°ä¸€ä¸ªæƒ³æ³•ï¼ˆæ¯”å¦‚â€œåšä¸€ä¸ªåœ¨çº¿èƒŒå•è¯åº”ç”¨â€ï¼‰ï¼Œå®ƒä¾¿èƒ½è‡ªä¸»å®Œæˆä»éœ€æ±‚åˆ†æã€æŠ€æœ¯é€‰å‹ã€ç¼–ç ã€æµ‹è¯•åˆ°éƒ¨ç½²å»ºè®®çš„å…¨æµç¨‹ã€‚è¿™ä¸ä»…ä»…æ˜¯æ•ˆç‡å·¥å…·ï¼Œæ›´æ˜¯ä¸€ä¸ª<strong>æƒ³æ³•çš„â€œå¿«é€Ÿæˆå‹æœºâ€</strong> ã€‚æˆ‘åˆ©ç”¨Trae Soloè¿™æŠŠâ€œåˆ©å™¨â€ï¼Œå®Œæˆäº†ä¸€ç³»åˆ—ä»æƒ³æ³•åˆ°äº§å“çš„å®è·µï¼Œå¹¶å°†å¿ƒå¾—å‡ç»“æˆæ–‡ç« ï¼š</p>
<ol>
<li><a href="https://juejin.cn/post/7578700798744903714" target="_blank" title="https://juejin.cn/post/7578700798744903714">Chatboxæ”¯æŒæ¥å…¥LangGraphæ™ºèƒ½ä½“ï¼Ÿä¸€åˆ‡éƒ½é Trae Solo!</a>ï¼šè¿™ç¯‡æ˜¯â€œè¿æ¥å™¨â€ã€‚æˆ‘é€šè¿‡Trae Soloå¿«é€Ÿæ­å»ºäº†ä¸€åº§æ¡¥ï¼Œè®©å¼ºå¤§çš„LangGraphæ™ºèƒ½ä½“èƒ½å¤Ÿè½»æ¾æ¥å…¥ä¸€ä¸ªè½»é‡çš„èŠå¤©å®¢æˆ·ç«¯ï¼Œè®©æŠ€æœ¯çš„â€œåç«¯èƒ½åŠ›â€æ‹¥æœ‰äº†ä¸€ä¸ªå‹å¥½çš„â€œå‰ç«¯é¢å­”â€ã€‚</li>
<li><a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)</a>ï¼šè¿™æ˜¯ä¸€ä¸ªâ€œå…¨æ ˆé—­ç¯â€çš„è¯æ˜ã€‚ä»å¤æ‚çš„åç«¯RAGé€»è¾‘åˆ°ç›´è§‚çš„å‰ç«¯äº¤äº’ç•Œé¢ï¼ŒTrae Soloå¸®åŠ©æˆ‘é«˜æ•ˆåœ°å®Œæˆäº†å…¨é“¾è·¯çš„æ„å»ºï¼ŒéªŒè¯äº†å…¶åº”å¯¹å¤æ‚é¡¹ç›®çš„èƒ½åŠ›ã€‚</li>
<li><a href="https://juejin.cn/post/7581741663182749731" target="_blank" title="https://juejin.cn/post/7581741663182749731">è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨</a>ï¼šè¿™ç¯‡åˆ™å›å½’åˆ°â€œè§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜â€ã€‚å®ƒæ­ç¤ºäº†ä¸€ä¸ªæœ´ç´ é“ç†ï¼š<strong>è®©æ™ºèƒ½ä½“èå…¥ç”Ÿæ´»ï¼Œä¸å¿…å§‹äºå®å¤§çš„æ„æƒ³ã€‚ä»ä¸€ä¸ªèƒ½å³åˆ»è§£å†³ä½ çœ¼å‰éº»çƒ¦çš„å°å·¥å…·å¼€å§‹ï¼Œå°±æ˜¯æœ€å¥½çš„èµ·ç‚¹ã€‚</strong></li>
</ol>
<p>è¿™äº›å®è·µä¹Ÿè®©æˆ‘åœ¨æ˜é‡‘å¹³å°çš„æ´»åŠ¨ä¸­æ”¶è·äº†é¼“åŠ±å’Œå¥–åŠ±ã€‚å€Ÿæ­¤æœºä¼šï¼Œå¿…é¡»ä¸ºæ˜é‡‘è¿™ä¸ª<strong>çœŸæ­£æ‡‚å¼€å‘è€…çš„ç¤¾åŒº</strong>æ‰“ä¸ªCallâ€”â€”å®ƒä¸ä»…æ˜¯ä¼˜è´¨å†…å®¹çš„å¹³å°ï¼Œæ›´é€šè¿‡ä¸€æ¬¡æ¬¡ç”¨å¿ƒçš„æ´»åŠ¨ï¼Œæ„å»ºäº†ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„æŠ€æœ¯åˆ›ä½œè€…ç”Ÿæ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9afc8d5ce86433f9adaf21fe7a730bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=OJPelrJPJXNZf740F7mo%2BgP20mU%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-7">3.3 Vibe Codingç¼–ç¨‹æœ€ä½³å®è·µ</h3>
<p>åœ¨å¯†é›†ä½¿ç”¨Trae Soloå®Œæˆå¤šä¸ªé¡¹ç›®åï¼Œæˆ‘é€æ¸æ‘¸ç´¢å‡ºä¸€äº›è®©åä½œæ•ˆç‡å€å¢çš„â€œå¿ƒæ³•â€ã€‚è¿™äº›ç»éªŒéƒ¨åˆ†æ€»ç»“äºæˆ‘çš„æ–‡ç« <a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)</a>ï¼Œä¹Ÿå¾—ç›Šäºåƒ<strong>æ˜é‡‘é˜¿æ˜Ÿè€å¸ˆ</strong>ç­‰ä¼˜ç§€åŒè¡Œçš„å¯å‘<a href="https://juejin.cn/post/7588031908170973193?share_token=a3ba7874-6f79-44bb-bc43-cff57c921d28" target="_blank" title="https://juejin.cn/post/7588031908170973193?share_token=a3ba7874-6f79-44bb-bc43-cff57c921d28">ç ´é˜²äº†ï¼é˜¿æ˜Ÿä¸€å¹´ç”¨AIæ’¸äº†50ä¸ªé¡¹ç›®ï¼Œè¿™10æ¡é¿å‘ç»éªŒä½ å¿…é¡»çŸ¥é“</a>ã€‚ä¸»è¦æœ‰å¦‚ä¸‹å‡ æ¡ï¼š</p>
<ol>
<li>
<p><strong>å·¥ç¨‹åŒ–æç¤ºè¯</strong><br/>
æœ€å¤§çš„è¯¯åŒºè«è¿‡äºè®¤ä¸ºâ€œéšä¾¿è¯´ä¸€å¥ï¼ŒAIå°±èƒ½æ‡‚â€ã€‚äº‹å®æ˜¯ï¼Œæ¨¡ç³Šçš„è¾“å…¥å¿…ç„¶å¾—åˆ°ä¸é è°±çš„è¾“å‡ºã€‚æˆ‘å¼ºçƒˆæ¨èä½¿ç”¨Â <strong>ã€ŒEARSã€ç­‰ç»“æ„åŒ–æç¤ºè¯æ¡†æ¶</strong>ï¼Œå“ªæ€•æ˜¯å°é¡¹ç›®ï¼Œä¹Ÿè¦æ¸…æ™°å®šä¹‰ï¼š</p>
<ul>
<li><strong>èƒŒæ™¯ä¸çº¦æŸ</strong></li>
<li><strong>æ˜ç¡®éœ€æ±‚</strong></li>
<li><strong>ä½ æœŸæœ›çš„å…·ä½“äº§å‡ºæ ¼å¼</strong></li>
</ul>
</li>
<li>
<p><strong>å·¥ä½œæµæ™ºèƒ½ä½“åŒ–</strong><br/>
å½“ä½ å‘ç°æŸä¸ªæç¤ºè¯ç»„åˆèƒ½ç¨³å®šè§£å†³ä¸€ç±»é—®é¢˜ï¼ˆæ¯”å¦‚â€œåˆ†ææ—¥å¿—â€ã€â€œç”ŸæˆSQLâ€ï¼‰æ—¶ï¼Œ<strong>ä¸è¦åªä¿å­˜è¿™æ®µæ–‡æœ¬</strong>ã€‚åˆ©ç”¨Trae Soloç­‰å·¥å…·ï¼Œå°†è¿™ä¸ªâ€œæç¤ºè¯+ä¸Šä¸‹æ–‡â€æ‰“åŒ…æˆä¸€ä¸ªå¯å¤ç”¨çš„<strong>æ™ºèƒ½ä½“æˆ–æ’ä»¶</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fc30a245fa54963b01d535232dc9881~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=j20CCjfv3BnEDj%2FjGRR9R1oIcsc%3D" alt="3.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç²¾ç»†åŒ–è°ƒè¯•</strong></p>
<ul>
<li><strong>å‰ç«¯è°ƒè¯•</strong>ï¼šç›´æ¥åˆ©ç”¨å·¥å…·çš„â€œé€‰æ‹©å…ƒç´ â€åŠŸèƒ½å®šä½é—®é¢˜ï¼Œè¿œæ¯”åœ¨å¯¹è¯ä¸­æŠ½è±¡æè¿°â€œé‚£ä¸ªæŒ‰é’®é¢œè‰²ä¸å¯¹â€è¦é«˜æ•ˆå¾—å¤šã€‚</li>
<li><strong>é”™è¯¯æ’æŸ¥</strong>ï¼šä¸è¦å…‰è¯´â€œæŠ¥é”™äº†â€ã€‚åŠ¡å¿…æä¾›<strong>å®Œæ•´çš„é”™è¯¯å †æ ˆã€ç›¸å…³ä»£ç ç‰‡æ®µã€ä»¥åŠä½ å·²å°è¯•è¿‡çš„æ­¥éª¤</strong>ã€‚ç»™AIä¸€ä¸ªå®Œæ•´çš„â€œç ´æ¡ˆç°åœºâ€ï¼Œå®ƒæ‰èƒ½ç»™å‡ºå‡†ç¡®çš„â€œä¾¦ç ´æ–¹å‘â€ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89724d93b66544a2bbf95c328b607d7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=DS7v3B1cB5E6fJOt2sRuqB2b09k%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d046600876e400c99211e032056c703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=7glMxVbmPHCUIBzUALSLtOMOFeo%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ä¸Šä¸‹æ–‡ç®¡ç†</strong><br/>
ä¸AIçš„æ·±åº¦åä½œä¼šäº§ç”Ÿå¤§é‡æœ‰ä»·å€¼çš„å¯¹è¯å†å²ï¼Œå®ƒä»¬æ˜¯ä½ çš„â€œç¬¬äºŒå¤§è„‘â€ã€‚æˆ‘å¼ºçƒˆæ¨èä½¿ç”¨Â <strong>Memory MCP è¿™ç±»å·¥å…·</strong>ï¼Œå°†é‡è¦çš„æŠ€æœ¯å†³ç­–ã€ä»£ç ç‰‡æ®µã€é—®é¢˜è§£å†³æ–¹æ¡ˆåˆ†é—¨åˆ«ç±»åœ°ä¿å­˜ä¸‹æ¥ã€‚è¿™ç›¸å½“äºä¸ºä½ å’ŒAIçš„æ¯æ¬¡åä½œéƒ½å»ºç«‹äº†å¯è¿½æº¯ã€å¯å¤ç”¨çš„çŸ¥è¯†åº“ï¼Œè®©æ¯ä¸€æ¬¡äº¤æµéƒ½ç«™åœ¨ä¹‹å‰ç§¯ç´¯çš„ç»éªŒä¸Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5bc4322ea32431d85451c0731b9dcfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767744987&amp;x-signature=dnO7PhbJkemYYblNE8W8fdop4x0%3D" alt="4.png" loading="lazy"/></p>
</li>
</ol>
<p><strong>ä¸AIå…±èˆçš„ç²¾é«“ï¼Œä¸åœ¨äºæ‰¾åˆ°â€œæœ€å¼ºâ€çš„å·¥å…·ï¼Œè€Œåœ¨äºä½ èƒ½å¦å°†ä»»ä½•å·¥å…·èå…¥ä½ çš„æ€ç»´æµï¼Œå½¢æˆç‹¬ä¸€æ— äºŒçš„â€œäººæœºåä½œèŒƒå¼â€ã€‚</strong> Â ä»æ¨¡ç³Šçš„æƒ³æ³•ï¼Œåˆ°æ¸…æ™°çš„ç»“æ„ï¼Œå†åˆ°è‡ªåŠ¨åŒ–çš„æµç¨‹å’Œå¯ç§¯ç´¯çš„è®°å¿†â€”â€”è¿™ï¼Œä¾¿æ˜¯æˆ‘åœ¨2025å¹´ä¸AIå…±èˆä¸­ï¼Œè¸©å‡ºçš„æœ€è¸å®çš„æ­¥ç‚¹ã€‚</p>
<h2 data-id="heading-8">å››ã€2026åšæ–‡æ’°å†™ç™¾ç¯‡è®¡åˆ’å¯åŠ¨ï¼</h2>
<p>æ˜å¤©å¼€å§‹å°±2026å¹´äº†ï¼Œç¬”è€…ä¹Ÿå°†å†™ä¸‹2026å¹´çš„ç¬¬ä¸€è¡Œæ–‡å­—ï¼Œç«‹å¿—å®Œæˆ2026å¹´ç™¾ç¯‡æ–‡ç« è®¡åˆ’ã€‚æ˜å¹´çš„ç›®å…‰ä¾ç„¶èšç„¦äºä¸‰ä¸ªé¢†åŸŸï¼š<strong>å¤§æ¨¡å‹è®­ç»ƒã€æ™ºèƒ½ä½“å¼€å‘ä¸å‰æ²¿æŠ€æœ¯è·Ÿè¸ª</strong>ã€‚å°¤å…¶æ˜¯å¤§æ¨¡å‹è®­ç»ƒï¼Œæˆ‘æ”¶åˆ°äº†å¤ªå¤šæ¥è‡ªå®éªŒå®¤ä¸ä¸šç•Œçš„è¿½é—®â€”â€”è®¸å¤šç ”ç©¶ç”ŸåŒå­¦å’Œå·¥ç¨‹å¸ˆä¼™ä¼´éƒ½åœ¨ç§ä¿¡é‡Œé—®æˆ‘åŒä¸€ä¸ªé—®é¢˜ï¼šâ€œç©¶ç«Ÿå¦‚ä½•è®­ç»ƒä¸€ä¸ªå¤§æ¨¡å‹ï¼Ÿâ€</p>
<p>ä»å­¦æœ¯ç•Œâ€œè¿½é€çƒ­ç‚¹â€çš„é¢†åŸŸå¾®è°ƒï¼Œåˆ°å·¥ä¸šç•Œâ€œè§£å†³ä¸“æœ‰ä»»åŠ¡â€çš„ç²¾ç‚¼å°æ¨¡å‹ï¼Œè®­ç»ƒä¸“å±æ¨¡å‹å·²æˆä¸ºä¸å¯é€†çš„ä¸»æµæ–¹å‘ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘äº²èº«å‚ä¸äº†ä»æ•°æ®æ¸…æ´—ã€å‚æ•°è°ƒè¯•åˆ°æ€§èƒ½è¯„ä¼°çš„å…¨è¿‡ç¨‹ï¼Œç§¯æ”’äº†å¤§é‡çš„å®æˆ˜æ„Ÿæ‚Ÿã€è¸©è¿‡çš„å‘å’Œçªè§å…‰æ˜çš„é¡¿æ‚Ÿã€‚æ˜å¹´ï¼Œæˆ‘æ‰“ç®—æŠŠè¿™äº›å®è´µçš„â€œä¸€æ‰‹ç»éªŒâ€ï¼Œæ¯«æ— ä¿ç•™åœ°æ•´ç†æˆä¸“æ ã€‚</p>
<p>å½“ç„¶ï¼Œè°ˆè®ºè®­ç»ƒæ— æ³•ç»•è¿‡ç®—åŠ›è¿™é“ç°å®çš„é—¨æ§›ã€‚æ˜‚è´µçš„GPUæ›¾æ˜¯è®¸å¤šäººæ¢¦æƒ³çš„æ‹¦è·¯çŸ³ã€‚æ­£å› å¦‚æ­¤ï¼Œæˆ‘ä»Šå¹´ç‰¹æ„ä¸ä¸€äº›å¯é çš„ç®—åŠ›å¹³å°å±•å¼€äº†åˆä½œï¼Œå¸Œæœ›èƒ½ä¸ºå¤§å®¶é“ºä¸€å°æ®µè·¯ã€‚ä½ å¯ä»¥é€šè¿‡Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.luexia.com%2F" target="_blank" title="https://www.luexia.com/" ref="nofollow noopener noreferrer">www.lab4ai.cn/register?agâ€¦</a>Â æ³¨å†Œ<strong>Lab4aiç®—åŠ›å¹³å°</strong>ï¼Œæä¾›äº†åŒ…æ‹¬è‹±ä¼Ÿè¾¾Hç³»åˆ—åœ¨å†…çš„å¤šç§é€‰æ‹©ï¼Œæ›´æœ‰Â <strong>5å°æ—¶çš„å…è´¹ä½“éªŒé¢åº¦</strong>ã€‚å¸Œæœ›è¿™ä»½å°å°çš„â€œæ–°å¹´ç¤¼ç‰©â€ï¼Œèƒ½è®©ä½ å…ˆæŠ›å¼€ç¡¬ä»¶ç„¦è™‘ï¼Œä¸“æ³¨äºè®©ç¬¬ä¸€ä¸ªæƒ³æ³•è·‘èµ·æ¥ã€‚</p>
<p>2026å¹´ï¼Œæˆ‘ä»åœ¨â€œæ˜é‡‘â€è¿™ç‰‡æˆ‘ä»¬ç†Ÿæ‚‰çš„å›­åœ°ã€‚è®©æˆ‘ä»¬ç»§ç»­ä¸€èµ·ï¼Œä¿æŒå¥½å¥‡ï¼Œæ·±å…¥åŸç†ï¼ŒåŠ¨æ‰‹åˆ›é€ ã€‚</p>
<h2 data-id="heading-9">äº”ã€æœªæ¥å±•æœ›</h2>
<p>ä¸€çœ¨çœ¼ï¼Œ2025å¹´çœŸçš„ç»“æŸäº†ã€‚å›æœ›è¿™ä¸€å¹´ï¼Œå¤§æ¨¡å‹é¢†åŸŸçš„å˜åŒ–å ªç§°â€œè‚‰çœ¼å¯è§çš„ç¿»å¤©è¦†åœ°â€ã€‚æœ‰æ—¶æ„Ÿè§‰ç¨ä¸€é©»è¶³ï¼Œçœ¼å‰å·²æ˜¯æ–°æ™¯ã€‚åœ¨è¿™ç§é£é€Ÿçš„è¿­ä»£ä¸­ï¼Œæœ‰äººå…´å¥‹ï¼Œä¹Ÿæœ‰äººéš¾å…ç”Ÿå‡ºç„¦è™‘ä¸å½·å¾¨ã€‚</p>
<p>ä½†æˆ‘æƒ³è¯´ï¼Œæˆ‘ä»¬æˆ–è®¸ä¸å¿…æ‚²è§‚ï¼Œæ›´ä¸å¿…ç„¦è™‘ã€‚æ˜¯çš„ï¼Œå½“å‰çš„å¤§æ¨¡å‹å·²ç»èƒ½è§£å†³è®¸å¤šä»¤äººæƒŠå¹çš„é—®é¢˜ï¼Œä½†é‚£ä¸ªå…³é”®çš„Â  <strong>â€œæœ€åä¸€å…¬é‡Œâ€</strong> â€”â€”å¦‚ä½•è®©æŠ€æœ¯ä¸æ»‘ã€å¯é ã€æ¥åœ°æ°”åœ°èå…¥çœŸå®çš„ç”Ÿäº§ä¸ç”Ÿæ´»â€”â€”è¿œæœªå®Œç¾è§£å†³ã€‚è¿™æœªå®Œæˆçš„æ—…ç¨‹ï¼Œæ°æ°æ˜¯æˆ‘ä»¬æ‰€æœ‰äººçš„æœºä¼šã€‚é—®é¢˜ä¸æ˜¯æŠ€æœ¯çš„ç»ˆç‚¹ï¼Œè€Œæ˜¯æˆ‘ä»¬åˆ›é€ ä»·å€¼çš„èµ·ç‚¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸å…¶å¯¹æœªæ¥æ„Ÿåˆ°ä¸ç¡®å®šï¼Œä¸å¦‚è®©æˆ‘ä»¬<strong>å……æ»¡æœŸå¾…</strong>ã€‚æœŸå¾…çš„ä¸æ˜¯ä¸€ä¸ªè¢«è®¾å®šå¥½çš„å®Œç¾æœªæ¥ï¼Œè€Œæ˜¯æˆ‘ä»¬äº²æ‰‹å‚ä¸å¡‘é€ çš„ã€ä¸æ–­è¿›åŒ–çš„æ˜å¤©ã€‚<strong>æ‹¥æŠ±å˜åŒ–ï¼Œæ‹¥æŠ±æœªæ¥ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ‹¥æŠ±ä¸€ç§æ–°çš„å¯èƒ½æ€§â€”â€”æ‹¥æŠ±â€œAIèµ‹èƒ½ä¸‹çš„åˆ›é€ â€ã€‚</strong> Â å®ƒä¸æ„å‘³ç€è¢«æ›¿ä»£ï¼Œè€Œæ„å‘³ç€æˆ‘ä»¬çš„æ€ç»´å¯ä»¥ç«™åœ¨æ›´é«˜çš„æ æ†ä¹‹ä¸Šï¼Œå»å®ç°é‚£äº›æ›¾ç»å› ç¹çå®ç°è€Œæ·±è—å¿ƒåº•çš„æ„æƒ³ã€‚</p>
<p>2026å¹´ï¼Œæˆ‘ä¸å¤§æ¨¡å‹çš„æ•…äº‹ï¼Œè¿˜ä¼šç»§ç»­ã€‚æˆ‘ä¸å¤§å®¶çš„å­¦ä¹ ä¸å·¥ä½œç”Ÿæ¶¯ï¼Œä¾ç„¶å……æ»¡å¸Œæœ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯çº¯jså®ç°å›¾ç‰‡æ¨¡ç³Šå’Œå‹ç¼©]]></title>    <link>https://juejin.cn/post/7589481566423679030</link>    <guid>https://juejin.cn/post/7589481566423679030</guid>    <pubDate>2025-12-31T00:31:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589481566423679030" data-draft-id="7576483553879408666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯çº¯jså®ç°å›¾ç‰‡æ¨¡ç³Šå’Œå‹ç¼©"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-31T00:31:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯çº¯jså®ç°å›¾ç‰‡æ¨¡ç³Šå’Œå‹ç¼©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:31:54.000Z" title="Wed Dec 31 2025 00:31:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>åœ¨ç°ä»£ Web é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå›¾ç‰‡å¤„ç†æ˜¯ä¸€ä¸ªå¸¸è§ä¸”é‡è¦çš„éœ€æ±‚ã€‚å…¶ä¸­ï¼Œå›¾ç‰‡æ¨¡ç³Šæ•ˆæœçš„å®ç°å¾€å¾€èƒ½ä¸ºç•Œé¢å¢æ·»ç‹¬ç‰¹çš„è§†è§‰é£æ ¼ã€‚è¿‘æœŸç¬”è€…åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†è¿™æ ·çš„éœ€æ±‚ï¼Œç»è¿‡å¤šæ–¹é¢çš„æŠ€æœ¯è°ƒç ”ä¸æ–¹æ¡ˆå¯¹æ¯”ï¼Œæœ€ç»ˆé‡‡ç”¨StackBluråº“æˆåŠŸå®ç°äº†çº¯å‰ç«¯å›¾ç‰‡æ¨¡ç³Šä¸å‹ç¼©åŠŸèƒ½ã€‚æœ¬æ–‡å°†è¯¦ç»†é˜è¿°æ•´ä¸ªå®ç°è¿‡ç¨‹ï¼Œå¸Œæœ›èƒ½ä¸ºåŒæ ·æœ‰æ­¤ç±»éœ€æ±‚çš„å¼€å‘è€…æä¾›æœ‰ç›Šçš„å‚è€ƒä¸å€Ÿé‰´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2b56e7540f94d408c01716a6a966f96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP5aSa5aSa:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767745914&amp;x-signature=O5asHUTf7OfT%2B8%2BLFZZTpAyHmak%3D" alt="æ¨¡ç³Šå¯¹æ¯”" loading="lazy"/></p>
<h2 data-id="heading-1">2. å®‰è£…ä¾èµ–å’Œå¼•å…¥æ’ä»¶</h2>
<p>å¯¹äºåŸºäºnpmç®¡ç†çš„é¡¹ç›®ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å®Œæˆå®‰è£…ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">npm install --save stackblur-canvas
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ä»£ç ä¸­å¼•å…¥è¯¥åº“ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨å…¶åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">import * as StackBlur from'stackblur-canvas';
</code></pre>
<p>å¦‚æœéœ€è¦è¿›ä¸€æ­¥äº†è§£StackBluråº“çš„è¯¦ç»†ç”¨æ³•å’Œç‰¹æ€§ï¼Œå¯ä»¥æŸ¥é˜…å…¶å®˜æ–¹æ–‡æ¡£ï¼Œæ–‡æ¡£åœ°å€ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflozz%2FStackBlur" target="_blank" title="https://github.com/flozz/StackBlur" ref="nofollow noopener noreferrer">StackBlur</a></p>
<h2 data-id="heading-2">3. ä½¿ç”¨</h2>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºStackBluråº“å®ç°å›¾ç‰‡æ¨¡ç³Šä¸å‹ç¼©çš„è¿‡ç¨‹ï¼Œä¸‹é¢é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ React ç¤ºä¾‹è¿›è¡Œè¯´æ˜ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œç•Œé¢åŒ…å«ä¸€ä¸ªå¤åŸæŒ‰é’®å’Œä¸€ä¸ªæ¨¡ç³ŠæŒ‰é’®ï¼Œç‚¹å‡»æ¨¡ç³ŠæŒ‰é’®å°†è§¦å‘å›¾ç‰‡æ¨¡ç³ŠåŒ–ä¸å‹ç¼©æ“ä½œï¼Œç‚¹å‡»å¤åŸæŒ‰é’®åˆ™èƒ½ä½¿å›¾ç‰‡æ¢å¤è‡³åŸå§‹çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// #region æ•°æ®</span>
<span class="hljs-keyword">const</span> imageUrl = <span class="hljs-string">'https://xxxxx.jpeg'</span>
<span class="hljs-keyword">const</span> [displayImage, setDisplayImage] = <span class="hljs-title function_">useState</span>(imageUrl)
<span class="hljs-comment">// #endregion</span>

<span class="hljs-comment">// #region ------------------------------------------------------é€»è¾‘</span>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è·å–æ¨¡ç³Šå›¾ç‰‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} originalImage åŸå›¾ç‰‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} scale ç¼©æ”¾
 */</span>
<span class="hljs-keyword">const</span> handleGetBlurImage = ({ originalImage, scale = <span class="hljs-number">0.5</span> }: { <span class="hljs-attr">originalImage</span>: <span class="hljs-built_in">string</span>; scale?: <span class="hljs-built_in">number</span> }): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> image = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
      image.<span class="hljs-property">crossOrigin</span> = <span class="hljs-string">'anonymous'</span>
      image.<span class="hljs-property">src</span> = originalImage
      image.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>)
        <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)!
        <span class="hljs-keyword">const</span> finalW = image.<span class="hljs-property">width</span> * scale
        <span class="hljs-keyword">const</span> finalH = image.<span class="hljs-property">height</span> * scale
        canvas.<span class="hljs-property">width</span> = finalW
        canvas.<span class="hljs-property">height</span> = finalH
        ctx.<span class="hljs-title function_">drawImage</span>(image, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, finalW, finalH)
        <span class="hljs-comment">// ä½¿ç”¨ StackBlur è®©å›¾ç‰‡å˜æ¨¡ç³Š</span>
        <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>)
        <span class="hljs-title class_">StackBlur</span>.<span class="hljs-title function_">imageDataRGB</span>(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>, <span class="hljs-number">50</span>)
        ctx.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        <span class="hljs-keyword">const</span> finalSrc = canvas.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">'image/jpeg'</span>)
        <span class="hljs-title function_">resolve</span>(finalSrc)
      }
      image.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>()
      }
    } <span class="hljs-keyword">catch</span> (_) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(originalImage)
    }
  })
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è¿˜åŸå›¾ç‰‡
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResetImage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setDisplayImage</span>(networkImage)
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è®¾ç½®å›¾ç‰‡æ¨¡ç³Š
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSetImageBlur</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">handleGetBlurImage</span>({
    <span class="hljs-attr">originalImage</span>: networkImage
  })
  <span class="hljs-title function_">setDisplayImage</span>(res)
}
<span class="hljs-comment">// #endregion</span>

<span class="hljs-comment">// #region è§†å›¾</span>
<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{moduleStyle[</span>'<span class="hljs-attr">test-wrapper</span>']}&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{moduleStyle[</span>'<span class="hljs-attr">operate-wrapper</span>']}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{moduleStyle[</span>'<span class="hljs-attr">reset-button</span>']} <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleResetImage}</span>&gt;</span>
        å¤åŸ
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{moduleStyle[</span>'<span class="hljs-attr">blur-button</span>']} <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSetImageBlur}</span>&gt;</span>
        æ¨¡ç³Š
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{moduleStyle[</span>'<span class="hljs-attr">image-wrapper</span>']}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{displayImage}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">crossOrigin</span>=<span class="hljs-string">"anonymous"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
)
<span class="hljs-comment">// #endregion</span>
</code></pre>
<p>ä¸Šè¿°<code>tsx</code>ä»£ç å®šä¹‰äº†ç•Œé¢çš„å¸ƒå±€ç»“æ„ï¼ŒåŒ…å«æ“ä½œæŒ‰é’®åŒºåŸŸå’Œå›¾ç‰‡å±•ç¤ºåŒºåŸŸï¼Œé€šè¿‡ä¸ºæŒ‰é’®ç»‘å®šç›¸åº”çš„ç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå®ç°äº¤äº’åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-3">4. æ€»ç»“</h2>
<p>é€šè¿‡ä¸Šè¿°å®è·µï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†çº¯å‰ç«¯å›¾ç‰‡æ¨¡ç³Šä¸å‹ç¼©åŠŸèƒ½ã€‚å…¶æ ¸å¿ƒåŸç†æ˜¯åˆ©ç”¨canvaså¼ºå¤§çš„ç»˜å›¾èƒ½åŠ›ï¼Œå…ˆå°†å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šå¤§å°ï¼Œå†å€ŸåŠ©StackBluråº“å¯¹å›¾ç‰‡æ•°æ®è¿›è¡Œæ¨¡ç³Šå¤„ç†ï¼Œæœ€åå°†å¤„ç†åçš„å†…å®¹é‡æ–°ç»˜åˆ¶åˆ°canvasä¸Šï¼Œå¹¶è½¬æ¢ä¸ºbase64æ ¼å¼çš„å›¾ç‰‡ URLã€‚è¿™ç§æ–¹å¼æ— éœ€ä¾èµ–åç«¯æœåŠ¡ï¼Œåœ¨å‰ç«¯å³å¯å¿«é€Ÿé«˜æ•ˆåœ°å®Œæˆå›¾ç‰‡å¤„ç†ï¼Œä¸ºé¡¹ç›®å¼€å‘æä¾›äº†çµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ï¼Œè°ƒæ•´ç¼©æ”¾æ¯”ä¾‹ã€æ¨¡ç³ŠåŠå¾„ç­‰å‚æ•°ï¼Œä»¥è¾¾åˆ°ç†æƒ³çš„å›¾ç‰‡å¤„ç†æ•ˆæœ ã€‚</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7568192652286754870" target="_blank" title="https://juejin.cn/post/7568192652286754870">çº¯å‰ç«¯æå–å›¾ç‰‡é¢œè‰²æ’ä»¶Color-Thiefæ•™å­¦+å®æˆ˜å®Œæ•´æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7565737512816771135" target="_blank" title="https://juejin.cn/post/7565737512816771135">react-konvaå®æˆ˜æŒ‡å—ï¼šCanvasé«˜æ€§èƒ½+æ˜“ç»´æŠ¤çš„ç»„ä»¶åŒ–å›¾å½¢å¼€å‘å®ç°æ•™ç¨‹</a></li>
<li><a href="https://juejin.cn/post/7560905838074462271" target="_blank" title="https://juejin.cn/post/7560905838074462271">Reactæ— é™æ»šåŠ¨æ’ä»¶react-infinite-scroll-componentçš„é…ç½®+ä¼˜åŒ–+é¿å‘æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7560542615484137491" target="_blank" title="https://juejin.cn/post/7560542615484137491">å‰ç«¯éŸ³é¢‘å…¼å®¹è§£å†³ï¼šéŸ³é¢‘ç¥å™¨howler.jsä»åŸºç¡€åˆ°è¿›é˜¶å®Œæ•´ä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7559871680015024169" target="_blank" title="https://juejin.cn/post/7559871680015024169">ä½¿ç”¨React-OAuthè¿›è¡ŒGoogle/GitHubç™»å½•çš„æ•™ç¨‹å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7550585427834404927" target="_blank" title="https://juejin.cn/post/7550585427834404927">çº¯å‰ç«¯äººè„¸è¯†åˆ«åˆ©å™¨ï¼šface-api.jsæ‰‹æŠŠæ‰‹æ·±å…¥è§£ææ•™å­¦</a></li>
<li><a href="https://juejin.cn/post/7553865490732433462" target="_blank" title="https://juejin.cn/post/7553865490732433462">å…³äºReactçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•forwardRefçš„è¯¦è§£å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7553484874609410074" target="_blank" title="https://juejin.cn/post/7553484874609410074">Reactè·¨ç»„ä»¶æ•°æ®å…±äº«useContextè¯¦è§£å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7545087762837815334" target="_blank" title="https://juejin.cn/post/7545087762837815334">Webå›¾åƒç¼–è¾‘ç¥å™¨tui.image-editorä»åŸºç¡€åˆ°è¿›é˜¶çš„å®æˆ˜æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7544323659788288046" target="_blank" title="https://juejin.cn/post/7544323659788288046">å¼€å‘ä¸ªäººå¾®ä¿¡å°ç¨‹åºç±»ç›®é€‰æ‹©/ç›ˆåˆ©æ–¹å¼/æˆæœ¬æ§åˆ¶ä¸æœåŠ¡å™¨æ¥å…¥æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7541741121400864778" target="_blank" title="https://juejin.cn/post/7541741121400864778">å‰ç«¯å›¾ç‰‡è£å‰ªCropper.jsæ ¸å¿ƒåŠŸèƒ½ä¸å®æˆ˜æŠ€å·§è¯¦è§£</a></li>
<li><a href="https://juejin.cn/post/7536530451461472265" target="_blank" title="https://juejin.cn/post/7536530451461472265">ç¼–è¾‘å™¨ä¹Ÿæœ‰é‚ªä¿®ï¼Ÿç›˜ç‚¹VS Codeé‚ªé—¨/æœ‰è¶£çš„æ‰©å±•</a></li>
<li><a href="https://juejin.cn/post/7535005018257981466" target="_blank" title="https://juejin.cn/post/7535005018257981466">jsä½¿ç”¨IntersectionObserverå®ç°ç›®æ ‡å…ƒç´ å¯è§åº¦çš„äº¤äº’</a></li>
<li><a href="https://juejin.cn/post/7534547200330121225" target="_blank" title="https://juejin.cn/post/7534547200330121225">Webå‰ç«¯é¡µé¢å¼€å‘é˜¿æ‹‰ä¼¯è¯­ç§é€‚é…æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7516122409948020736" target="_blank" title="https://juejin.cn/post/7516122409948020736">è®©ç½‘é¡µæ‹¥æœ‰Appä½“éªŒï¼ŸPWA å°†ç½‘é¡µå˜ä¸ºæ¡Œé¢åº”ç”¨çš„ä¿å§†çº§æ•™ç¨‹PWA</a></li>
<li><a href="https://juejin.cn/post/6953803916484018206" target="_blank" title="https://juejin.cn/post/6953803916484018206">ä½¿ç”¨nvmç®¡ç†node.jsç‰ˆæœ¬ä»¥åŠæ›´æ¢npmæ·˜å®é•œåƒæº</a></li>
<li><a href="https://juejin.cn/post/7140443283209060383" target="_blank" title="https://juejin.cn/post/7140443283209060383">æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºè§„èŒƒçš„å›¢é˜Ÿvueé¡¹ç›®ï¼ŒåŒ…å«commitlintï¼Œeslintï¼Œprettierï¼Œhuskyï¼Œcommitizenç­‰ç­‰</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†]]></title>    <link>https://juejin.cn/post/7589539335004635179</link>    <guid>https://juejin.cn/post/7589539335004635179</guid>    <pubDate>2025-12-31T00:42:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589539335004635179" data-draft-id="7589534625259192356" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-31T00:42:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:42:49.000Z" title="Wed Dec 31 2025 00:42:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24892328cc5b41c09f483407034f20cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746568&amp;x-signature=ZCiZ4fLrtJ%2FuKxW1ZPLdXa5Balg%3D" alt="å†å²æˆªå›¾ï¼Œå®é™…ä»¥åˆé›†å†…å®¹ä¸ºå‡†" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯äº¿å…ƒç¨‹åºå‘˜</strong>ï¼Œä¸€ä½æœ‰ç€<code>8</code>å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚</p>
<p><strong>ç¬”è€…Slogan</strong>ï¼š</p>
<blockquote>
<p><strong>åœ¨æ¸¸æˆå¼€å‘ä¸­</strong>ï¼Œå¸Œæœ›èƒ½ç»™åˆ°å°ä¼™ä¼´ä»¬å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡å°ä¼™ä¼´ä»¬èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</p>
</blockquote>
<p><strong>ç›¸ä¿¡</strong>ä¸€ç›´æœ‰å…³æ³¨ç¬”è€…æ–‡ç« çš„å°ä¼™ä¼´éƒ½çŸ¥é“ï¼Œç¬”è€…ä¸€ç›´æŒç»­æ›´æ–°çš„æ–‡ç« åˆé›†**ã€Š100ä¸ªCocoså®ä¾‹ã€‹**ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/903541b01e8a49ff9f60eced7eb511d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746568&amp;x-signature=AVEOU3TVGodZQDBmPcuZUE1cvB0%3D" alt="100ä¸ªCocoså®ä¾‹" loading="lazy"/></p>
<p><strong>å¦‚ä»Š</strong>è¯¥åˆé›†å·²ç»æ›´æ–°äº†è¶…è¿‡<code>70</code>ä¾‹ï¼Œå·²ç»è¿‡å»äº†ä¸‰åˆ†ä¹‹äºŒï¼Œæ”¶è·<code>6</code>ä¸‡é˜…è¯»é‡ï¼Œæ„Ÿè°¢å°ä¼™ä¼´ä»¬ä¸€ç›´ä»¥æ¥çš„æ”¯æŒä¸é¼“åŠ±ã€‚</p>
<p><strong>éšç€</strong>è¯¥åˆé›†é€æ¸è¿›å…¥å°¾å£°ï¼Œæˆ‘ä¹Ÿåœ¨æ€è€ƒå¦‚ä½•ç»§ç»­ä¸ºå¤§å®¶æä¾›æ›´èšç„¦ã€æ›´å®ç”¨çš„å†…å®¹ã€‚</p>
<p><strong>å› æ­¤</strong>ï¼Œæˆ‘æ­£å¼å¯åŠ¨äº†ä¸€ä¸ªå…¨æ–°çš„å®æˆ˜ç³»åˆ—â€”â€”<strong>ã€Šäº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†ã€‹</strong>ã€‚</p>
<p><strong>è¿™ä¸ªæ–°åˆé›†</strong>å°†å›´ç»•è¿‡å»å’Œç°åœ¨çƒ­é—¨çš„ä¹°é‡å°æ¸¸æˆï¼Œè¿›è¡Œ<strong>æ‹†è§£ã€åˆ†æã€æ€è€ƒå’Œå®æˆ˜</strong>ã€‚</p>
<p><strong>åˆé›†é…å¥—æºç å¯åœ¨æ–‡æœ«è·å–ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œå‰å¾€ã€‚</strong></p>
<h2 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ä¹°é‡å°æ¸¸æˆ</h2>
<blockquote>
<p><strong>ä¹°é‡å°æ¸¸æˆ</strong>æ˜¯æ¸¸æˆè¡Œä¸šä¸­ä¸€ä¸ªç‰¹å®šç»†åˆ†é¢†åŸŸçš„ä¿—ç§°ï¼Œç‰¹æŒ‡é‚£äº›ä¸»è¦é€šè¿‡å¤§è§„æ¨¡å¹¿å‘ŠæŠ•æ”¾ï¼ˆå³<strong>ä¹°é‡</strong>ï¼‰æ¥è·å–ç”¨æˆ·ï¼Œå¹¶ä»¥å¿«é€Ÿå˜ç°ä¸ºæ ¸å¿ƒç›®æ ‡çš„è½»åº¦æˆ–è¶…è½»åº¦æ¸¸æˆã€‚</p>
</blockquote>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼Œå°ä¼™ä¼´ä»¬åœ¨æœ‹å‹åœˆåˆ·åˆ°çš„â€œ<strong>åˆ«ç¬‘ï¼Œä½ è¯•ä½ ä¹Ÿè¿‡ä¸äº†ç¬¬äºŒå…³</strong>â€ï¼Œå°±æ˜¯éå¸¸æˆåŠŸçš„ä¸€ä¸ªä¹°é‡å¹¿å‘Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1c75b6359c64f38800939d7241abd14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746568&amp;x-signature=PIWQTvilsMZnhkRlLMADelfAlFI%3D" alt="æœ‹å‹åœˆæˆªå›¾" loading="lazy"/></p>
<p><strong>é™¤å»æœ‹å‹åœˆå¹¿å‘Š</strong>ï¼Œåœ¨åˆ·çŸ­è§†é¢‘çš„æ—¶å€™ï¼Œä¹Ÿä¼šç»å¸¸åˆ·åˆ°ä¸€äº›æœ‰è¶£è€Œä¸”å¸å¼•äººçš„æ¸¸æˆç©æ³•ä¸ºç´ æåˆ¶ä½œçš„å¹¿å‘Šã€‚</p>
<p><strong>ç”šè‡³</strong>è¿˜æœ‰ä¸€äº›å†…å®¹å®é™…ä¸Šå¹¶ä¸æ˜¯æ¸¸æˆçš„ä¸»è¦ç©æ³•ï¼Œä¾‹å¦‚<strong>å‰²ç»³å­ã€æ•°å­—æ¯”å¤§å°ã€ç”»çº¿è§£è°œã€ä¿®æ¡¥ã€è·‘é…·é€‰æ‹©</strong>ç­‰ç­‰ã€‚</p>
<p><strong>è¿™ç±»</strong>å°æ¸¸æˆçš„ä¸»è¦ç›®çš„å°±æ˜¯å¸æ”¶æ³›ç”¨æˆ·ï¼Œæ‰©å¤§æ¸¸æˆç›˜å­ã€‚</p>
<h2 data-id="heading-2">2. è¯¥åˆé›†çš„èŠ‚å¥</h2>
<p><strong>åˆé›†</strong>çš„æ•´ä½“æ€è·¯æŒ‰ç…§æ‹†è§£ã€åˆ†æã€å®æˆ˜å»å±•å¼€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ace4639418547d79e83d41b2383e335~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746568&amp;x-signature=Nl8lvBs6iB49izn%2BhvwaCBTppks%3D" alt="æ‹†è§£ã€åˆ†æã€å®æˆ˜" loading="lazy"/></p>
<h3 data-id="heading-3">1.æ‹†è§£</h3>
<p><strong>é€šè¿‡ä½“éªŒå°æ¸¸æˆ</strong>ï¼Œæ‹†è§£å‡ºæ¥æ¸¸æˆåŒ…å«çš„å…³é”®å…ƒç´ ï¼Œå¯¹å…ƒç´ è¿›è¡Œé€é¡¹åˆ†æï¼Œæå–æ ¸å¿ƒçš„ç©æ³•å’Œå…ƒç´ ã€‚</p>
<h3 data-id="heading-4">2.åˆ†æ</h3>
<p><strong>å¯¹</strong>æ ¸å¿ƒç©æ³•å’Œå„å…ƒç´ è¿›è¡Œåˆ†æï¼Œæ€è€ƒå’Œè§£æå®ƒä»¬çš„å®ç°åŸç†ã€‚</p>
<h3 data-id="heading-5">3.å®æˆ˜</h3>
<p><strong>é€šè¿‡</strong>åˆ†æå‡ºæ¥çš„ç†è®ºå†…å®¹ï¼Œè¿›è¡Œè¯¦ç»†çš„å®æˆ˜ï¼Œå¯¹æ ¸å¿ƒæºç è¿›è¡Œè¯¦ç»†è§£æã€‚</p>
<h2 data-id="heading-6">3. é€‚åˆé˜…è¯»äººç¾¤</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c13628ce93464c40a45096ad12efb51d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767746568&amp;x-signature=SLp%2FtboOTvbdO0TP7VVS4J47y64%3D" alt="é€‚åˆé˜…è¯»äººç¾¤" loading="lazy"/></p>
<ul>
<li>å°æ¸¸æˆå¼€å‘å…¥é—¨ã€æƒ³è¦å½“å¤§ä½¬çš„å°ä¼™ä¼´ã€‚</li>
<li>å°æ¸¸æˆäºŒæ¬¡å¼€å‘ã€èŠ‚çº¦ç”¨æ—¶çš„å°ä¼™ä¼´ã€‚</li>
<li>å–œæ¬¢çœ‹çƒ­é—¹ã€çœ‹ç¬”è€…æ•´æ´»çš„å°ä¼™ä¼´ã€‚</li>
<li>å–œæ¬¢çœ‹ç¬”è€…ä¸¢äººçš„å°ä¼™ä¼´ã€‚</li>
</ul>
<p><strong>æ€»çš„æ¥è¯´</strong>ï¼Œç¬”è€…æƒ³è¦ä½ çœ‹ï¼Œå°±ç®—æ˜¯è‹¦çš„ï¼Œä¹Ÿä¼šå‘Šè¯‰ä½ å¾ˆç”œï¼</p>
<h2 data-id="heading-7">4.å…¶ä»–è¯´æ˜</h2>
<p><strong>è¯¥åˆé›†</strong>é¢„è®¡æ›´æ–°<code>10</code>ç¯‡ï¼Œä¸€å®šä¼šæ›´å®Œï¼Œæƒ³æƒ³ç¬”è€…<code>70</code>ç¯‡éƒ½æ›´æ–°ä¸‹æ¥äº†ï¼ŒåŒºåŒº<code>10</code>ç¯‡åˆå¥ˆæˆ‘å¦‚ä½•ï¼Ÿ</p>
<p><strong>æ›´æ–°æ—¶é—´</strong>ä¸å®šï¼Œä¸ºä¿è¯è´¨é‡ï¼Œæ›´æ–°é—´éš”è‡³å°‘ä¸€å‘¨ï¼Œå¦‚æœæœ‰çƒ­é—¨æ¸¸æˆç«äº†ï¼Œä¼šç¬¬ä¸€æ—¶é—´ç»™å¤§å®¶æ‹†è§£(<strong>ä¸ºäº†æµé‡</strong>)ã€‚</p>
<p><strong>åˆé›†ä½“éªŒåœ°å€</strong>ï¼ˆåŠ è½½éœ€è¦ç‚¹æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼‰:</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyiyuangamecases.pages.dev%2F" target="_blank" title="https://yiyuangamecases.pages.dev/" ref="nofollow noopener noreferrer">yiyuangamecases.pages.dev/</a></p>
</blockquote>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p><strong>æ—¢ç„¶</strong>éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œé‚£ä½ ä¸€å®šåº”è¯¥æ˜¯çœŸçˆ±ç²‰äº†ï¼Œæ„Ÿè°¢ä½ ä¸€ç›´ä»¥æ¥çš„æ”¯æŒï¼</p>
<p><strong>åˆé›†é…å¥—æºç </strong>å¯é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer"><strong>é˜…è¯»åŸæ–‡</strong></a>è·å–ã€‚</p>
<hr/>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èæ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXLCknL3fJDubec2GW6KLFA" target="_blank" title="https://mp.weixin.qq.com/s/XLCknL3fJDubec2GW6KLFA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•æ¥å…¥å®‰å“ç©¿å±±ç”²å¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3_VrSld4KnDKY_7hxjSoKg" target="_blank" title="https://mp.weixin.qq.com/s/3_VrSld4KnDKY_7hxjSoKg" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Lj24VHJ-pL8z82hHqQLiA" target="_blank" title="https://mp.weixin.qq.com/s/0Lj24VHJ-pL8z82hHqQLiA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•å¿«é€Ÿæ¥å…¥æŠ–éŸ³å°æ¸¸æˆå¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ7DusUJA2v1IFZDFtBsueg" target="_blank" title="https://mp.weixin.qq.com/s/Z7DusUJA2v1IFZDFtBsueg" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°å‰²ç»³å­æ¸¸æˆæ•ˆæœ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3BzzFBzeVAO-a6LPTeFTrA" target="_blank" title="https://mp.weixin.qq.com/s/3BzzFBzeVAO-a6LPTeFTrA" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°åŠ¨æ€åˆ‡å‰²æ¨¡å‹ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZIph332u_r24OTY4r6_jow" target="_blank" title="https://mp.weixin.qq.com/s/ZIph332u_r24OTY4r6_jow" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¼€å‘ä¸­çš„è´´èŠ±æ•ˆæœ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 çš„è®¾è®¡ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯” Vue2 åšäº†å“ªäº›å…³é”®ä¼˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589530529452883977</link>    <guid>https://juejin.cn/post/7589530529452883977</guid>    <pubDate>2025-12-31T00:45:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589530529452883977" data-draft-id="7580564126401970226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 çš„è®¾è®¡ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯” Vue2 åšäº†å“ªäº›å…³é”®ä¼˜åŒ–ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-31T00:45:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 çš„è®¾è®¡ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯” Vue2 åšäº†å“ªäº›å…³é”®ä¼˜åŒ–ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T00:45:59.000Z" title="Wed Dec 31 2025 00:45:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšå¼€å§‹ç”¨ Vue2 çš„æ—¶å€™ï¼Œæ„Ÿè§‰å°±åƒæ‹¿åˆ°äº†ä¸€æŠŠé¡ºæ‰‹çš„æ–°å·¥å…·ã€‚ç®€å•ã€ç›´è§‚ï¼Œåšä¸œè¥¿ä¹Ÿç‰¹åˆ«å¿«ã€‚</p>
<p>ä½†éšç€é¡¹ç›®è¶Šæ¥è¶Šå¤æ‚ï¼Œé¡¹ç›®æ¸æ¸çš„ä¹Ÿä¼šé‡åˆ°ä¸€äº›çƒ¦æ¼ã€‚ç»„ä»¶çš„ä»£ç è¶Šå†™è¶Šé•¿ï¼Œç›¸å…³çš„é€»è¾‘åˆ†æ•£åœ¨<code>dataã€methodsã€computed</code>å„ç§ä¸åŒçš„åœ°æ–¹ï¼Œæƒ³å¤ç”¨ä¸€æ®µåŠŸèƒ½ä¹ŸæŒºè´¹åŠ²çš„ã€‚åŒæ—¶æ‰“åŒ…åçš„æ–‡ä»¶ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚</p>
<p>åæ¥ç”¨äº†Vue3ï¼Œå¯ä»¥è¯´æ˜¯å®Œç¾çš„è§£å†³äº†æˆ‘ä¸Šé¢çš„å‡ ä¸ªç—›ç‚¹ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸‹ vue3 åˆ°åº•åšäº†å“ªäº›ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-0"><strong>Vue 3.0 çš„å››å¤§è®¾è®¡ç›®æ ‡</strong></h2>
<p>ä»»ä½•ä¸€æ¬¡æŠ€æœ¯é‡æ„éƒ½æœ‰å…¶æ ¸å¿ƒç›®æ ‡ï¼ŒVue 3 ä¸»è¦å›´ç»•ä»¥ä¸‹å››ç‚¹å±•å¼€ï¼š</p>
<ol>
<li><strong>æ›´å°</strong>ï¼šé€šè¿‡ Tree-shaking ç­‰æŠ€æœ¯ï¼Œè®©æ‰“åŒ…ä½“ç§¯æ¯” Vue 2 æ›´å°ã€‚</li>
<li><strong>æ›´å¿«</strong>ï¼šä¼˜åŒ–è™šæ‹Ÿ DOMï¼Œæå‡æ¸²æŸ“å’Œæ›´æ–°æ€§èƒ½ã€‚</li>
<li><strong>æ›´æ˜“ç»´æŠ¤</strong>ï¼šé‡‡ç”¨ TypeScript é‡å†™ï¼Œä»£ç ç»“æ„æ›´æ¸…æ™°æ¨¡å—åŒ–ã€‚</li>
<li><strong>æ›´å¥½çš„æ‰©å±•æ€§</strong>ï¼šæä¾›ç»„åˆå¼ API ç­‰æ–°ç‰¹æ€§ï¼Œåº”å¯¹å¤æ‚åº”ç”¨åœºæ™¯ã€‚</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¿™äº›ç›®æ ‡æ˜¯å¦‚ä½•å…·ä½“å®ç°çš„ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>æ€§èƒ½ä¼˜åŒ–ï¼šåº•å±‚å¼•æ“çš„é‡æ„</strong></h2>
<h3 data-id="heading-2">1. å“åº”å¼ç³»ç»Ÿï¼šProxy æ›¿ä»£ Object.defineProperty</h3>
<p>è¿™æ˜¯ Vue3 æœ€æ ¸å¿ƒçš„æ”¹è¿›ä¹‹ä¸€ã€‚</p>
<p><strong>Vue2çš„å“åº”å¼åŸç†ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue2 ä½¿ç”¨ Object.defineProperty</span>
<span class="hljs-keyword">const</span> data = {};
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(data, <span class="hljs-string">'name'</span>, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯»å–name'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">'å¼ ä¸‰'</span>;
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">newVal</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¾ç½®name:'</span>, newVal);
    }
});
</code></pre>
<p><strong>Vue2 çš„å±€é™æ€§ï¼š</strong></p>
<ul>
<li>æ— æ³•æ£€æµ‹å±æ€§çš„æ·»åŠ å’Œåˆ é™¤</li>
<li>å¯¹æ•°ç»„çš„æ”¯æŒéœ€è¦ç‰¹æ®Šå¤„ç†</li>
<li>åˆå§‹åŒ–æ—¶éœ€è¦é€’å½’éå†æ•´ä¸ªå¯¹è±¡</li>
</ul>
<p><strong>Vue3 çš„è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue 3 ä½¿ç”¨ Proxy</span>
<span class="hljs-keyword">const</span> data = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> };
<span class="hljs-keyword">const</span> proxyData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(data, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯»å–<span class="hljs-subst">${key}</span>`</span>);
        <span class="hljs-keyword">return</span> target[key];
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¾ç½®<span class="hljs-subst">${key}</span>:`</span>, value);
        target[key] = value;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">target, key</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ é™¤<span class="hljs-subst">${key}</span>`</span>);
        <span class="hljs-keyword">delete</span> target[key];
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
});
</code></pre>
<p><strong>Proxy çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å¯ä»¥ç›‘å¬åŠ¨æ€æ·»åŠ çš„å±æ€§</li>
<li>æ”¯æŒæ•°ç»„ç´¢å¼•ä¿®æ”¹ã€length ä¿®æ”¹</li>
<li>æ”¯æŒ Mapã€Set ç­‰æ•°æ®ç»“æ„</li>
<li>æ€§èƒ½æ›´å¥½</li>
</ul>
<h3 data-id="heading-3">2. ç¼–è¯‘æ—¶ä¼˜åŒ–ï¼šæ¨¡æ¿ç¼–è¯‘</h3>
<p>Vue3 çš„ç¼–è¯‘å™¨ä¼šåˆ†ææ¨¡æ¿ï¼Œä¸ºåŠ¨æ€å†…å®¹æ·»åŠ æ ‡è®°ã€‚</p>
<pre><code class="hljs language-html" lang="html">// æ¨¡æ¿
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./logo.png"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><strong>Vue2</strong>ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»º <code>&lt;img&gt;</code> èŠ‚ç‚¹ï¼ˆè™½ç„¶æ˜¯é™æ€çš„ï¼‰ã€‚</p>
<p><strong>Vue3</strong>ï¼šç¼–è¯‘æ—¶å‘ç° <code>&lt;img&gt;</code> æ°¸è¿œä¸å˜ï¼Œå°±æŠŠå®ƒç¼“å­˜èµ·æ¥ï¼Œåªåˆ›å»ºä¸€æ¬¡ï¼</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç¼–è¯‘åä¼ªä»£ç ï¼ˆç®€åŒ–ï¼‰</span>
<span class="hljs-keyword">const</span> staticImg = <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'img'</span>, { <span class="hljs-attr">src</span>: <span class="hljs-string">'./logo.png'</span> })

<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'header'</span> }, [
    staticImg, <span class="hljs-comment">// ç›´æ¥å¤ç”¨ï¼</span>
    <span class="hljs-title function_">createTextVNode</span>(ctx.<span class="hljs-property">title</span>) <span class="hljs-comment">// åªæœ‰è¿™é‡ŒåŠ¨æ€æ›´æ–°</span>
  ])
}
</code></pre>
<h3 data-id="heading-4">3. Tree-shakingï¼šæŒ‰éœ€å¼•å…¥</h3>
<p>Vue3 çš„æ¨¡å—åŒ–è®¾è®¡ä½¿å¾—æœªä½¿ç”¨çš„åŠŸèƒ½ä¸ä¼šè¢«æ‰“åŒ…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp, h } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>; <span class="hljs-comment">// åªå¼•å…¥éœ€è¦çš„API</span>
</code></pre>
<p>å¦‚æœä½ ä¸ä½¿ç”¨ transition ç»„ä»¶ï¼Œå®ƒçš„ä»£ç å°±ä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆæ‰“åŒ…æ–‡ä»¶ä¸­</p>
<hr/>
<h2 data-id="heading-5">å¼€å‘ä½“éªŒçš„å‡çº§ï¼šç»„åˆå¼ API</h2>
<p>è¿™æ˜¯ Vue3 åœ¨ä»£ç ç»„ç»‡æ–¹å¼ä¸Šçš„é‡å¤§æ”¹è¿›ï¼</p>
<p><strong>Vue2 Options API çš„é—®é¢˜ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">users</span>: [],
            <span class="hljs-attr">searchQuery</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
        }
    },
    <span class="hljs-attr">methods</span>: {
        <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// è·å–ç”¨æˆ·æ•°æ®</span>
        },
        <span class="hljs-title function_">searchUsers</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// æœç´¢ç”¨æˆ·</span>
        }
    },
    <span class="hljs-attr">computed</span>: {
        <span class="hljs-title function_">filteredUsers</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// è¿‡æ»¤ç”¨æˆ·</span>
        }
    },
    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>();
    }
}
</code></pre>
<p>åŒä¸€ä¸ªåŠŸèƒ½ï¼ˆç”¨æˆ·ç®¡ç†ï¼‰çš„é€»è¾‘è¢«æ‹†åˆ†åˆ°ä¸åŒçš„é€‰é¡¹ä¸­ï¼Œç»„ä»¶å¤æ‚åéš¾ä»¥ç»´æŠ¤ã€‚</p>
<p><strong>Vue3 Composition API çš„è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"searchQuery"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æœç´¢ç”¨æˆ·"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loading"</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserList</span> <span class="hljs-attr">:users</span>=<span class="hljs-string">"filteredUsers"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// ç”¨æˆ·ç®¡ç†åŠŸèƒ½ - æ‰€æœ‰ç›¸å…³é€»è¾‘åœ¨ä¸€èµ·</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([])
<span class="hljs-keyword">const</span> searchQuery = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

<span class="hljs-keyword">const</span> filteredUsers = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> users.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> 
    user.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(searchQuery.<span class="hljs-property">value</span>)
  )
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">try</span> {
    users.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getUsers</span>()
  } <span class="hljs-keyword">finally</span> {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  }
}

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetchUsers</span>()
})

<span class="hljs-comment">// å…¶ä»–åŠŸèƒ½ä¹Ÿå¯ä»¥è¿™æ ·ç»„ç»‡...</span>
<span class="hljs-comment">// const posts = ref([])</span>
<span class="hljs-comment">// const fetchPosts = async () =&gt; { ... }</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>vue3 ç»„åˆå¼å‡½æ•°ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// composables/useUserManagement.js</span>
<span class="hljs-keyword">import</span> { ref, computed, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useUserManagement</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([])
    <span class="hljs-keyword">const</span> searchQuery = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
    <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

    <span class="hljs-keyword">const</span> filteredUsers = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> users.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> 
            user.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(searchQuery.<span class="hljs-property">value</span>)
        )
    })

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
        loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
        <span class="hljs-keyword">try</span> {
            users.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getUsers</span>()
        } <span class="hljs-keyword">finally</span> {
            loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
        }
    }

    <span class="hljs-title function_">onMounted</span>(fetchUsers)

    <span class="hljs-keyword">return</span> {
        users,
        searchQuery,
        loading,
        filteredUsers,
        fetchUsers
    }
}
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { useUserManagement } <span class="hljs-keyword">from</span> <span class="hljs-string">'./composables/useUserManagement'</span>

<span class="hljs-keyword">const</span> { 
    users, 
    searchQuery, 
    loading, 
    filteredUsers,
    fetchUsers 
} = <span class="hljs-title function_">useUserManagement</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>Vue3 åŒæ—¶æ”¯æŒ Options API å’Œ Composition APIï¼Œä½ å¯ä»¥æ ¹æ®é¡¹ç›®å¤æ‚åº¦å’Œä¸ªäººåå¥½é€‰æ‹©ï¼Œç”šè‡³æ··åˆä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-6"><strong>å…¶ä»–é‡è¦æ–°ç‰¹æ€§</strong></h2>
<h3 data-id="heading-7">1. Teleportï¼šä»»æ„ä¼ é€</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showModal = true"</span>&gt;</span>æ‰“å¼€å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å°†å¼¹çª—å†…å®¹ä¼ é€åˆ° body ä¸‹ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"body"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"showModal"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showModal = false"</span>&gt;</span>å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Teleport</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">2. Fragmentsï¼šå¤šæ ¹èŠ‚ç‚¹æ”¯æŒ</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- Vue 3 æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>ä¸»è¦å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>åº•éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">3. Suspenseï¼šå¼‚æ­¥ç»„ä»¶å¤„ç†</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AsyncComponent</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">fallback</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å¼‚æ­¥ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span> 
  <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AsyncComponent.vue'</span>)
)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-10">æ€»ç»“</h2>









































<table><thead><tr><th>ç‰¹æ€§å¯¹æ¯”</th><th>Vue 2</th><th>Vue 3</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>å“åº”å¼ç³»ç»Ÿ</strong></td><td>Object.defineProperty</td><td>Proxy</td><td>åŠŸèƒ½æ›´å®Œå–„ï¼Œæ€§èƒ½æ›´å¥½</td></tr><tr><td><strong>ä»£ç ç»„ç»‡</strong></td><td>Options API</td><td>Composition API</td><td>é€»è¾‘å¤ç”¨å’Œç»„ç»‡æ›´çµæ´»</td></tr><tr><td><strong>TypeScript</strong></td><td>éœ€è¦é¢å¤–é…ç½®</td><td>åŸç”Ÿæ”¯æŒ</td><td>å¼€å‘ä½“éªŒæ›´å¥½</td></tr><tr><td><strong>åŒ…å¤§å°</strong></td><td>å…¨é‡å¼•å…¥</td><td>Tree-shaking</td><td>æ‰“åŒ…ä½“ç§¯æ›´å°</td></tr><tr><td><strong>æ–°åŠŸèƒ½</strong></td><td>æœ‰é™</td><td>Teleportã€Suspenseç­‰</td><td>å¼€å‘èƒ½åŠ›æ›´å¼º</td></tr></tbody></table>
<p>å½“ç„¶ Vue3 å¹¶æ²¡æœ‰æŠ›å¼ƒè¿‡å»ï¼Œè€Œæ˜¯æŠŠé€‰æ‹©æƒäº¤ç»™äº†æˆ‘ä»¬ï¼šå°é¡¹ç›®å¯ä»¥ç”¨ç†Ÿæ‚‰çš„ Options API å¿«é€Ÿä¸Šæ‰‹ï¼Œå¤§é¡¹ç›®åˆ™å¯ä»¥å€ŸåŠ© Composition API å’Œ TypeScript æ›´ä»å®¹çš„ç»„ç»‡ä»£ç ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-11">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsMAKhSLNvmU1ddxg0yv9Fg" target="_blank" title="https://mp.weixin.qq.com/s/sMAKhSLNvmU1ddxg0yv9Fg" ref="nofollow noopener noreferrer">ã€Šé‡æ„äº†20ä¸ªSpringBooté¡¹ç›®åï¼Œæ€»ç»“å‡ºè¿™å¥—ç¨³å®šé«˜æ•ˆçš„æ¶æ„è®¾è®¡ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F184BGM_pdMFLc0ASrferwQ" target="_blank" title="https://mp.weixin.qq.com/s/184BGM_pdMFLc0ASrferwQ" ref="nofollow noopener noreferrer">ã€Šä»£ç é‡Œå…¨æ˜¯ new å¯¹è±¡ï¼ŒçœŸçš„å¾ˆ Low å—ï¼Ÿæˆ‘è®¤çœŸæƒ³äº†ä¸€æ™šã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FX-MSa0CHwVW_qgPezbpMUA" target="_blank" title="https://mp.weixin.qq.com/s/X-MSa0CHwVW_qgPezbpMUA" ref="nofollow noopener noreferrer">ã€Šè¿™ 5 ä¸ªå†·é—¨ HTML æ ‡ç­¾ï¼Œè®©æˆ‘ç›´æ¥åˆ äº†100 è¡Œ JS ä»£ç ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGkU5V9H355YWwChpay9zTQ" target="_blank" title="https://mp.weixin.qq.com/s/GkU5V9H355YWwChpay9zTQ" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª Vue3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§å¾ˆå®ç”¨ï¼Œä½†å¾ˆå¤šé¡¹ç›®éƒ½æ²¡ç”¨ä¸Šã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>