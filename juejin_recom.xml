<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[Adjustment-WhiteBalanceèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7583981974408380426</link>    <guid>https://juejin.cn/post/7583981974408380426</guid>    <pubDate>2025-12-16T03:02:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583981974408380426" data-draft-id="7583981974408364042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[Adjustment-WhiteBalanceèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2025-12-16T03:02:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[Adjustment-WhiteBalanceèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:02:55.000Z" title="Tue Dec 16 2025 03:02:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unityçš„é€šç”¨æ¸²æŸ“ç®¡çº¿ï¼ˆURPï¼‰ä¸­ï¼ŒShader Graphä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å¯è§†åŒ–ç€è‰²å™¨ç¼–è¾‘åŠŸèƒ½ã€‚White BalanceèŠ‚ç‚¹ä½œä¸ºè‰²å½©æ ¡æ­£çš„å…³é”®å·¥å…·ï¼Œé‡‡ç”¨ç§‘å­¦ç®—æ³•å®ç°ä¸“ä¸šçº§çš„ç™½å¹³è¡¡è°ƒèŠ‚ï¼Œå¹¿æ³›ç”¨äºæ¸¸æˆå¼€å‘ã€å½±è§†åæœŸåŠå®æ—¶æ¸²æŸ“ç­‰åœºæ™¯ã€‚æœ¬æ–‡åŸºäºå‰æœŸè®¨è®ºå†…å®¹ï¼Œè¿›ä¸€æ­¥æ‰©å±•å¹¶å®Œå–„è¯¥èŠ‚ç‚¹çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå½¢æˆä½“ç³»åŒ–çš„æŠ€æœ¯æ–‡æ¡£ã€‚</p>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/WhiteBalanceNodeThumb.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>èŠ‚ç‚¹åŠŸèƒ½æ·±åº¦è§£æ</strong></h2>
<h3 data-id="heading-1"><strong>è‰²å½©è°ƒæ•´åŸç†</strong></h3>
<p>White BalanceèŠ‚ç‚¹åŸºäºCIE 1931è‰²å½©ç©ºé—´æ¨¡å‹ï¼Œæ¨¡æ‹Ÿäººçœ¼å¯¹å…‰æºè‰²æ¸©çš„æ„ŸçŸ¥æœºåˆ¶ï¼Œå®ç°è‰²å½©å‡†ç¡®æ ¡æ­£ã€‚å…¶æ ¸å¿ƒæµç¨‹æ˜¯å°†è¾“å…¥é¢œè‰²ä»çº¿æ€§RGBç©ºé—´è½¬æ¢è‡³LMSï¼ˆé•¿ã€ä¸­ã€çŸ­æ³¢é•¿ï¼‰è‰²å½©ç©ºé—´ï¼Œé€šè¿‡è°ƒèŠ‚ç™½å¹³è¡¡ç³»æ•°ï¼Œç²¾ç¡®æ§åˆ¶è‰²æ¸©ä¸è‰²è°ƒå˜åŒ–ã€‚</p>
<h3 data-id="heading-2"><strong>å‚æ•°å½±å“æœºåˆ¶</strong></h3>
<ul>
<li>â€Œ<strong>Temperatureå‚æ•°</strong>â€Œï¼šè°ƒèŠ‚è‰²æ¸©åç§»ï¼Œæ¨èèŒƒå›´ä¸ºÂ±1.67
<ul>
<li>è´Ÿå€¼ï¼šè‰²å½©åå‘æš–é»„ï¼ˆå¯¹åº”3000Kâ€“4500Kè‰²æ¸©ï¼‰</li>
<li>æ­£å€¼ï¼šè‰²å½©åå‘å†·è“ï¼ˆå¯¹åº”5500Kâ€“6500Kè‰²æ¸©ï¼‰</li>
</ul>
</li>
<li>â€Œ<strong>Tintå‚æ•°</strong>â€Œï¼šè°ƒèŠ‚è‰²è°ƒåç§»ï¼Œæ¨èèŒƒå›´ä¸ºÂ±1.67
<ul>
<li>æ­£å€¼ï¼šè‰²å½©å‘å“çº¢è‰²åç§»</li>
<li>è´Ÿå€¼ï¼šè‰²å½©å‘ç»¿è‰²åç§»</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3"><strong>æœ€ä½³å®è·µèŒƒå›´</strong></h3>

























<table><thead><tr><th>å‚æ•°ç±»å‹</th><th>æœ‰æ•ˆèŒƒå›´</th><th>è§†è§‰æ•ˆæœ</th></tr></thead><tbody><tr><td>Temperature</td><td>-1.67~1.67</td><td>è‡ªç„¶å¹³æ»‘çš„è‰²æ¸©è¿‡æ¸¡</td></tr><tr><td>Tint</td><td>-1.67~1.67</td><td>å¾®å¦™ä¸”å¯æ§çš„è‰²è°ƒå˜åŒ–</td></tr><tr><td>è¶…å‡ºèŒƒå›´</td><td>&gt;Â±1.67</td><td>å¯èƒ½å¯¼è‡´è‰²å½©å¤±çœŸæˆ–è¿‡é¥±å’Œ</td></tr></tbody></table>
<h2 data-id="heading-4"><strong>æ ¸å¿ƒç®—æ³•å®ç°</strong></h2>
<h3 data-id="heading-5"><strong>é¢„å¤„ç†é˜¶æ®µ</strong></h3>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-comment">// å‚æ•°æ ‡å‡†åŒ–å¤„ç†</span>
<span class="hljs-type">float</span> t1 = Temperature * <span class="hljs-number">10</span> / <span class="hljs-number">6</span>;  <span class="hljs-comment">// æ¸©åº¦ç³»æ•°ç¼©æ”¾</span>
<span class="hljs-type">float</span> t2 = Tint * <span class="hljs-number">10</span> / <span class="hljs-number">6</span>;         <span class="hljs-comment">// è‰²è°ƒç³»æ•°ç¼©æ”¾</span>
</code></pre>
<h3 data-id="heading-6"><strong>CIEè‰²åº¦åæ ‡è®¡ç®—</strong></h3>
<p>åŸºäºD65æ ‡å‡†ç™½ç‚¹ï¼ˆ0.31271, 0.32902ï¼‰çš„è‰²åº¦åæ ‡è®¡ç®—ï¼š</p>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-comment">// è®¡ç®—xåˆ†é‡</span>
<span class="hljs-type">float</span> x = <span class="hljs-number">0.31271</span> - t1 * (t1 &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0.1</span> : <span class="hljs-number">0.05</span>);

<span class="hljs-comment">// è®¡ç®—yåˆ†é‡</span>
<span class="hljs-type">float</span> standardIlluminantY = <span class="hljs-number">2.87</span> * x - <span class="hljs-number">3</span> * x * x - <span class="hljs-number">0.27509507</span>;
<span class="hljs-type">float</span> y = standardIlluminantY + t2 * <span class="hljs-number">0.05</span>;
</code></pre>
<h3 data-id="heading-7"><strong>XYZä¸‰åˆºæ¿€å€¼è½¬æ¢</strong></h3>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-type">float</span> Y = <span class="hljs-number">1</span>;
<span class="hljs-type">float</span> X = Y * x / y;
<span class="hljs-type">float</span> Z = Y * (<span class="hljs-number">1</span> - x - y) / y;
</code></pre>
<h3 data-id="heading-8"><strong>LMSè‰²å½©ç©ºé—´è½¬æ¢</strong></h3>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-comment">// è½¬æ¢çŸ©é˜µ</span>
float3x3 LIN_2_LMS_MAT = {
    { <span class="hljs-number">0.39045</span>, <span class="hljs-number">0.54994</span>, <span class="hljs-number">0.00893</span> },
    { <span class="hljs-number">0.07084</span>, <span class="hljs-number">0.96317</span>, <span class="hljs-number">0.01357</span> },
    { <span class="hljs-number">0.02308</span>, <span class="hljs-number">0.12802</span>, <span class="hljs-number">0.93645</span> }
};

float3x3 LMS_2_LIN_MAT = {
    { <span class="hljs-number">2.85847</span>, <span class="hljs-number">-1.62879</span>, <span class="hljs-number">-0.02489</span> },
    { <span class="hljs-number">-0.21018</span>, <span class="hljs-number">1.15820</span>, <span class="hljs-number">0.00032</span> },
    { <span class="hljs-number">-0.04181</span>, <span class="hljs-number">-0.11817</span>, <span class="hljs-number">1.06867</span> }
};

<span class="hljs-comment">// è½¬æ¢è¿‡ç¨‹</span>
float3 lms = mul(LIN_2_LMS_MAT, In);
float3 balance = float3(<span class="hljs-number">0.949237</span>, <span class="hljs-number">1.03542</span>, <span class="hljs-number">1.08728</span>) / lms;
lms *= balance;
Out = mul(LMS_2_LIN_MAT, lms);
</code></pre>
<h2 data-id="heading-9"><strong>é«˜çº§åº”ç”¨åœºæ™¯</strong></h2>
<h3 data-id="heading-10"><strong>åŠ¨æ€ç¯å¢ƒé€‚é…</strong></h3>
<p>é€šè¿‡è„šæœ¬æ§åˆ¶å®ç°åŠ¨æ€ç™½å¹³è¡¡è°ƒèŠ‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">csharp
<span class="hljs-comment">// C#ç¤ºä¾‹ï¼šæ ¹æ®æ—¶é—´è°ƒæ•´è‰²æ¸©</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WhiteBalanceController</span> : <span class="hljs-title">MonoBehaviour</span>
{
    <span class="hljs-keyword">public</span> Material whiteBalanceMaterial;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> minTemperature = <span class="hljs-number">-1.5f</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> maxTemperature = <span class="hljs-number">1.5f</span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span>
    {
        <span class="hljs-built_in">float</span> timeOfDay = Time.time % <span class="hljs-number">86400</span> / <span class="hljs-number">86400</span>;
        <span class="hljs-built_in">float</span> temperature = Mathf.Lerp(minTemperature, maxTemperature, timeOfDay);
        whiteBalanceMaterial.SetFloat(<span class="hljs-string">"_Temperature"</span>, temperature);
    }
}
</code></pre>
<h3 data-id="heading-11"><strong>å¤šé€šé“ç‹¬ç«‹æ§åˆ¶</strong></h3>
<p>é€šè¿‡åˆ†ç¦»é¢œè‰²é€šé“å®ç°ç‰¹æ®Šè§†è§‰æ•ˆæœï¼š</p>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-comment">// HLSLç¤ºä¾‹ï¼šé€šé“ç‹¬ç«‹ç™½å¹³è¡¡</span>
float3 <span class="hljs-title function_">whiteBalanceChannels</span><span class="hljs-params">(float3 In, float3 Temperature, float3 Tint)</span>
{
    float3 w1 = float3(<span class="hljs-number">0.949237</span>, <span class="hljs-number">1.03542</span>, <span class="hljs-number">1.08728</span>);
    float3 w2 = float3(<span class="hljs-number">0.949237</span> + Temperature.x, <span class="hljs-number">1.03542</span> + Tint.y, <span class="hljs-number">1.08728</span> + Temperature.z);
    <span class="hljs-keyword">return</span> In * (w1 / w2);
}
</code></pre>
<h3 data-id="heading-12"><strong>æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</strong></h3>
<ul>
<li>é¢„è®¡ç®—ç™½å¹³è¡¡ç³»æ•°ï¼šä½¿ç”¨å¸¸æ•°èŠ‚ç‚¹æ›¿ä»£åŠ¨æ€è®¡ç®—ï¼Œå‡å°‘å®æ—¶è®¡ç®—å¼€é”€</li>
<li>ç®€åŒ–è½¬æ¢çŸ©é˜µï¼šé‡‡ç”¨è¿‘ä¼¼çŸ©é˜µæ›¿ä»£ç²¾ç¡®çŸ©é˜µï¼Œé™ä½è®¡ç®—å¤æ‚åº¦</li>
<li>åˆ†é€šé“å¤„ç†ï¼šå¯¹æ¯ä¸ªé¢œè‰²é€šé“åˆ†åˆ«å¤„ç†ï¼Œæé«˜å¹¶è¡Œå¤„ç†æ•ˆç‡</li>
</ul>
<h2 data-id="heading-13"><strong>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</strong></h2>
<h3 data-id="heading-14"><strong>è‰²å½©å¤±çœŸé—®é¢˜</strong></h3>
<p>â€Œ<strong>ç°è±¡</strong>â€Œï¼šå‚æ•°è°ƒæ•´åå‡ºç°ä¸è‡ªç„¶çš„è‰²å½©åç§»</p>
<p>â€Œ<strong>è§£å†³æ–¹æ¡ˆ</strong>â€Œï¼š</p>
<ul>
<li>ç¡®è®¤å‚æ•°æœªè¶…å‡ºæœ‰æ•ˆèŒƒå›´ï¼ˆÂ±1.67ï¼‰</li>
<li>ç»“åˆColor GradeèŠ‚ç‚¹è¿›è¡Œåç»­å¾®è°ƒ</li>
<li>ç¡®ä¿è¾“å…¥é¢œè‰²å¤„äºæ­£ç¡®çš„è‰²å½©ç©ºé—´ï¼ˆå¦‚çº¿æ€§ç©ºé—´ï¼‰</li>
</ul>
<h3 data-id="heading-15"><strong>æ€§èƒ½ç“¶é¢ˆé—®é¢˜</strong></h3>
<p>â€Œ<strong>ç°è±¡</strong>â€Œï¼šä½¿ç”¨ç™½å¹³è¡¡èŠ‚ç‚¹åå¸§ç‡æ˜¾è‘—ä¸‹é™</p>
<p>â€Œ<strong>è§£å†³æ–¹æ¡ˆ</strong>â€Œï¼š</p>
<ul>
<li>åœ¨ç§»åŠ¨å¹³å°é‡‡ç”¨ç®€åŒ–ç‰ˆç™½å¹³è¡¡ç®—æ³•</li>
<li>å°†ç™½å¹³è¡¡è®¡ç®—ç§»è‡³é¡¶ç‚¹ç€è‰²å™¨</li>
<li>ä½¿ç”¨LUTï¼ˆæŸ¥æ‰¾è¡¨ï¼‰æ›¿ä»£å®æ—¶è®¡ç®—</li>
</ul>
<h3 data-id="heading-16"><strong>ä¸å…¶ä»–æ•ˆæœå†²çª</strong></h3>
<p>â€Œ<strong>ç°è±¡</strong>â€Œï¼šç™½å¹³è¡¡ä¸å…¶ä»–åæœŸå¤„ç†æ•ˆæœå åŠ åå‡ºç°å¼‚å¸¸</p>
<p>â€Œ<strong>è§£å†³æ–¹æ¡ˆ</strong>â€Œï¼š</p>
<ul>
<li>è°ƒæ•´æ•ˆæœåº”ç”¨é¡ºåºï¼ˆç™½å¹³è¡¡é€šå¸¸åº”ä¼˜å…ˆå¤„ç†ï¼‰</li>
<li>é€šè¿‡æ··åˆæ¨¡å¼æ§åˆ¶å„æ•ˆæœå¼ºåº¦</li>
<li>åˆ†å±‚å¤„ç†ä¸åŒè‰²å½©è°ƒèŠ‚æ­¥éª¤</li>
</ul>
<h2 data-id="heading-17"><strong>æœ€ä½³å®è·µæŒ‡å—</strong></h2>
<h3 data-id="heading-18"><strong>å·¥ä½œæµç¨‹å»ºè®®</strong></h3>
<ul>
<li>é¡¹ç›®åˆæœŸç¡®ç«‹è‰²å½©å‚è€ƒæ ‡å‡†</li>
<li>ä½¿ç”¨Color CheckerèŠ‚ç‚¹è¿›è¡Œè‰²å½©æ ¡å‡†</li>
<li>å°†ç™½å¹³è¡¡å‚æ•°ä¸å…‰ç…§ç³»ç»Ÿå…³è”</li>
</ul>
<h3 data-id="heading-19"><strong>ç§»åŠ¨å¹³å°é€‚é…</strong></h3>
<ul>
<li>é‡‡ç”¨ä½ç²¾åº¦æµ®ç‚¹è®¡ç®—ï¼ˆå¦‚halfï¼‰</li>
<li>ç®€åŒ–è‰²å½©ç©ºé—´è½¬æ¢çŸ©é˜µ</li>
<li>åœ¨ä½ç«¯è®¾å¤‡ä¸Šç¦ç”¨å®æ—¶ç™½å¹³è¡¡</li>
</ul>
<h3 data-id="heading-20"><strong>æµ‹è¯•ä¸éªŒè¯æ–¹æ³•</strong></h3>
<ul>
<li>ä½¿ç”¨æ ‡å‡†è‰²å¡éªŒè¯è‰²å½©å‡†ç¡®æ€§</li>
<li>åœ¨ä¸åŒå…‰ç…§ç¯å¢ƒä¸‹æµ‹è¯•æ•ˆæœè¡¨ç°</li>
<li>å¼€å±•è·¨å¹³å°æ€§èƒ½ä¸å…¼å®¹æ€§æµ‹è¯•</li>
</ul>
<h2 data-id="heading-21"><strong>æ‰©å±•åº”ç”¨æ¡ˆä¾‹</strong></h2>
<h3 data-id="heading-22"><strong>å½±è§†çº§è°ƒè‰²ç³»ç»Ÿ</strong></h3>
<p>é€šè¿‡ç»„åˆå¤šä¸ªç™½å¹³è¡¡èŠ‚ç‚¹æ„å»ºä¸“ä¸šè°ƒè‰²æµç¨‹ï¼š</p>
<p>[Input] â†’ [White Balance] â†’ [Color Grade] â†’ [LUT] â†’ [Output]</p>
<h3 data-id="heading-23"><strong>åŠ¨æ€å¤©æ°”ç³»ç»Ÿ</strong></h3>
<p>æ ¹æ®å¤©æ°”ç±»å‹è‡ªåŠ¨è°ƒæ•´ç™½å¹³è¡¡å‚æ•°ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">csharp
<span class="hljs-comment">// å¤©æ°”ç±»å‹ä¸è‰²æ¸©å¯¹åº”è¡¨</span>
Dictionary&lt;WeatherType, <span class="hljs-built_in">float</span>&gt; weatherTemperatureMap = <span class="hljs-keyword">new</span>()
{
    { WeatherType.ClearDay, <span class="hljs-number">0.8f</span> },
    { WeatherType.Rainy, <span class="hljs-number">-0.5f</span> },
    { WeatherType.Foggy, <span class="hljs-number">1.2f</span> }
};
</code></pre>
<h3 data-id="heading-24"><strong>è‰ºæœ¯é£æ ¼åŒ–å¤„ç†</strong></h3>
<p>é€šè¿‡æç«¯å‚æ•°è®¾ç½®åˆ›é€ ç‰¹æ®Šè‰ºæœ¯æ•ˆæœï¼š</p>
<pre><code class="hljs language-c" lang="c">hlsl
<span class="hljs-comment">// å¤å¤ç”µå½±é£æ ¼</span>
float3 retroEffect = whiteBalance(In, <span class="hljs-number">-2.0f</span>, <span class="hljs-number">0.3f</span>);
</code></pre>
<p>White BalanceèŠ‚ç‚¹æ˜¯URP Shader Graphä¸­ç”¨äºè‰²å½©æ ¡æ­£çš„æ ¸å¿ƒå·¥å…·ï¼Œå€ŸåŠ©ç§‘å­¦çš„è‰²å½©ç©ºé—´è½¬æ¢ç®—æ³•ï¼Œå®ç°ä¸“ä¸šçº§çš„ç™½å¹³è¡¡è°ƒèŠ‚ã€‚</p>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PPIOå§šæ¬£ï¼šAIæ­£åœ¨è¿›å…¥è‡ªä¸»è¡ŒåŠ¨ä¸åˆ›é€ æ—¶ä»£ï¼Œæ™ºèƒ½ä½“éœ€è¦å…¨æ–°çš„æ“ä½œç³»ç»Ÿï½œMEET2026]]></title>    <link>https://juejin.cn/post/7583971282891931700</link>    <guid>https://juejin.cn/post/7583971282891931700</guid>    <pubDate>2025-12-16T02:39:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583971282891931700" data-draft-id="7583921477614452771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PPIOå§šæ¬£ï¼šAIæ­£åœ¨è¿›å…¥è‡ªä¸»è¡ŒåŠ¨ä¸åˆ›é€ æ—¶ä»£ï¼Œæ™ºèƒ½ä½“éœ€è¦å…¨æ–°çš„æ“ä½œç³»ç»Ÿï½œMEET2026"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T02:39:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PPIOå§šæ¬£ï¼šAIæ­£åœ¨è¿›å…¥è‡ªä¸»è¡ŒåŠ¨ä¸åˆ›é€ æ—¶ä»£ï¼Œæ™ºèƒ½ä½“éœ€è¦å…¨æ–°çš„æ“ä½œç³»ç»Ÿï½œMEET2026
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:39:14.000Z" title="Tue Dec 16 2025 02:39:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éšç€ AI ä»å›ç­”é—®é¢˜è¿ˆå‘è‡ªä¸»æ‰§è¡Œå’Œåˆ›é€ ï¼Œè¡Œä¸šå¼€å§‹è¿›å…¥çœŸæ­£çš„ Agentic AI è½åœ°å…ƒå¹´ã€‚è¿™ä¸ä»…æ”¹å˜äº†åº”ç”¨å½¢æ€ï¼Œä¹Ÿæ­£åœ¨é‡å¡‘æ•´ä¸ª AI æŠ€æœ¯æ ˆçš„åº•å±‚é€»è¾‘ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œæ™ºèƒ½ä½“ä½“ç³»ç»“æ„çš„å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œä»ä»»åŠ¡è§„åˆ’ã€å·¥å…·è°ƒç”¨åˆ°é•¿æœŸè®°å¿†ï¼Œæ¯ä¸€ç¯èŠ‚éƒ½å¯¹åº•å±‚æ¡†æ¶æå‡ºäº†æ›´é«˜è¦æ±‚ã€‚å¯¹æ­¤ï¼Œ<strong>PPIO è”åˆåˆ›å§‹äººå…¼ CEO å§šæ¬£</strong>è¡¨ç¤ºï¼š</p>
<blockquote>
<p>èƒ½çœ‹åˆ°æ— è®ºæ˜¯ PC æ—¶ä»£ï¼Œè¿˜æ˜¯ç§»åŠ¨æ—¶ä»£ã€äº‘æ—¶ä»£ï¼Œæ“ä½œç³»ç»Ÿæ‰æ˜¯æœ€æ ¸å¿ƒçš„ä¸­é—´å±‚ã€‚</p>
</blockquote>
<p>è¿™æ„å‘³ç€ï¼Œæœªæ¥çš„ AI åº”ç”¨å°†ä»å›ç­”é—®é¢˜çš„å·¥å…·è½¬å‘èƒ½å¤Ÿç›´æ¥å®Œæˆä»»åŠ¡çš„åŠ©æ‰‹ï¼Œè€Œè¦æ‰¿è½½è¿™ç±»èƒ½åŠ›ï¼Œè¡Œä¸šè¿«åˆ‡éœ€è¦ä¸€ç§æ–°çš„åŸºç¡€è®¾æ–½â€”â€”Agent æ—¶ä»£çš„æ“ä½œç³»ç»Ÿã€‚</p>
<p>åœ¨æœ¬æ¬¡<strong>é‡å­ä½ MEET2026 æ™ºèƒ½æœªæ¥å¤§ä¼š</strong>ä¸Šï¼Œå§šæ¬£å›´ç»•æ™ºèƒ½ä½“æ¼”è¿›ã€Agent Infra ç­‰å…³é”®è¯åˆ†äº«äº†è‡ªå·±å¯¹ AI åº•å±‚åŸºç¡€è®¾æ–½æ¶æ„é‡å¡‘çš„åˆ¤æ–­ï¼š</p>
<p>ä»Šå¤©çš„ Agent ä¼šæˆä¸ºæœªæ¥ AI åº”ç”¨çš„ä¸»åŠ›ï¼Œè€Œ Agent Infra ä¼šæˆä¸ºä¸‹ä¸€ä¸ª AI æ—¶ä»£çš„æ“ä½œç³»ç»Ÿã€‚</p>
<p>æ— è®ºæ¨¡å‹èƒ½åŠ›å¦‚ä½•æå‡ï¼Œæ— è®ºåº”ç”¨å½¢æ€å¦‚ä½•æ¼”è¿›ï¼Œæœªæ¥è¶‹åŠ¿éƒ½æŒ‡å‘åŒä¸€ä¸ªç›®æ ‡ï¼šåœ¨ AI æ—¶ä»£ï¼Œé€šè¿‡æ–°çš„ Runtime ä½“ç³»ï¼Œå®ç°æ¨¡å‹èƒ½åŠ›ã€å·¥å…·èƒ½åŠ›ä¸æ‰§è¡Œèƒ½åŠ›çš„é«˜åº¦èåˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/787e82154e7648fbb20edc41ecdc3a7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=Bg70ccx%2F%2B0hItlUrb%2BgCmDhvfcg%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†å®Œæ•´ä½“ç°å§šæ¬£çš„æ€è€ƒï¼Œåœ¨ä¸æ”¹å˜åŸæ„çš„åŸºç¡€ä¸Šï¼Œé‡å­ä½å¯¹æ¼”è®²å†…å®¹è¿›è¡Œäº†ç¼–è¾‘æ•´ç†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥æ›´å¤šå¯å‘ã€‚</p>
<p><em>MEET2026 æ™ºèƒ½æœªæ¥å¤§ä¼šæ˜¯ç”±é‡å­ä½ä¸»åŠçš„è¡Œä¸šå³°ä¼šï¼Œ20 ä½™ä½äº§ä¸šä»£è¡¨ä¸ä¼šè®¨è®ºã€‚çº¿ä¸‹å‚ä¼šè§‚ä¼— 1000+ï¼Œçº¿ä¸Šç›´æ’­è§‚ä¼— 320 ä¸‡ +ï¼Œè·å¾—äº†ä¸»æµåª’ä½“çš„å¹¿æ³›å…³æ³¨ä¸æŠ¥é“ã€‚</em></p>
<h2 data-id="heading-0">æ ¸å¿ƒè§‚ç‚¹æ¢³ç†</h2>
<ul>
<li>
<p>AI ä¸å†åªæ˜¯å›ç­”é—®é¢˜çš„å·¥å…·ï¼Œè€Œèƒ½åƒæ™ºèƒ½ä½“ä¸€æ ·ï¼Œè‡ªåŠ¨åŒ–åœ°æ¯”ä»·ã€ä¸‹å•ã€æ‰§è¡Œä»»åŠ¡ï¼Œæ•´ä¸ªç”Ÿæ€æ­£åœ¨ä» â€œç”Ÿæˆâ€ èµ°å‘â€œæ‰§è¡Œâ€ã€‚</p>
</li>
<li>
<p>å½“å‰å¾ˆå¤šäº§å“æŠŠå·¥ä½œæµã€ç¼–æ’å·¥å…·å½“ä½œ Agentï¼Œä½†è¿™åªæ˜¯æ—©æœŸå½¢æ€ï¼ŒçœŸæ­£çš„æ™ºèƒ½ä½“éœ€è¦è‡ªä¸»åˆ†æã€å†³ç­–ä¸æ‰§è¡Œã€‚</p>
</li>
<li>
<p>ä¼ ç»Ÿ AI å·¥å…·åªæ˜¯å¢å¼ºæœç´¢æˆ–å¤„ç†èƒ½åŠ›ï¼Œå¹¶ä¸èƒ½æ”¯æ’‘å®Œæ•´çš„æ™ºèƒ½ä½“è¿è¡Œï¼›çœŸæ­£çš„ Agent éœ€è¦æ–°çš„ç³»ç»Ÿæ¶æ„æ”¯æ’‘ï¼Œä¸èƒ½ä¾èµ–æ—§å¼åº”ç”¨æˆ–å·¥ä½œæµä½“ç³»ã€‚</p>
</li>
<li>
<p>æ¨¡å‹èƒ½åŠ›å†³å®šä¸Šé™ï¼Œä½†æ™ºèƒ½ä½“èƒ½å¦è·‘èµ·æ¥ã€èƒ½å¦åœ¨å„ç§ç¯å¢ƒé‡Œé€šç”¨è½åœ°ï¼Œå…³é”®åœ¨äº Runtimeã€‚</p>
</li>
</ul>
<p><em>ä»¥ä¸‹ä¸ºå§šæ¬£æ¼”è®²å…¨æ–‡ï¼š</em></p>
<h2 data-id="heading-1">AI ä»ç”Ÿæˆå¼è¿ˆå‘ Agent æ—¶ä»£</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘ä»Šå¤©åˆ†äº«çš„ä¸»é¢˜ä¹Ÿæ˜¯å¾ˆå¤šå˜‰å®¾è®²çš„æ–°è¯é¢˜ <strong>Agentic AI</strong>â€”â€”ä»Šå¹´ AI è¿›å…¥äº†åˆ°ä¸€ä¸ªå…¨æ–°çš„æ—¶ä»£ã€‚</p>
<p>è¿‡å»ä¸€å‘¨ï¼Œè±†åŒ…æ‰‹æœºæ¨ªç©ºå‡ºä¸–ï¼Œå®ƒèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ ä¸‹å•ã€æ¯”ä»·ã€æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬ä»Šå¹´æ‰€çœ‹åˆ°çš„â€”â€”ä» Generative AI å‘ Agent AI çš„è¿›æ­¥ã€‚</p>
<p>AI ä»¥å‰æ›´å¤šåªæ˜¯åšä¸€äº›èŠå¤©ã€å›ç­”é—®é¢˜ï¼›è€Œä»å¹´åˆçš„ Manusã€Gensparkï¼Œåˆ°ç°åœ¨çš„è±†åŒ…æ‰‹æœºï¼Œè¿™äº›äº§å“è¶Šæ¥è¶Šæ¸…æ™°åœ°å±•ç¤ºå‡º AI åº”ç”¨å¼€å§‹åƒæ™ºèƒ½ä½“ä¸€æ ·è‡ªåŠ¨åŒ–å®Œæˆä»»åŠ¡å’Œè¿›è¡Œåˆ›ä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/634fd9fad50c4eef8a4a4288adec6724~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=ijuDmHC9Jabxu1dDlTZnDyciPys%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¤©æåˆ°æ™ºèƒ½ä½“è¿™ä¸ªè¯é¢˜çš„æ—¶å€™ï¼Œæˆ‘å‘ç°è¡Œä¸šå†…ï¼Œç‰¹åˆ«å›½å†…å¾ˆå¤šäººæŠŠå®ƒå®šä½æˆå·¥ä½œæµã€‚</p>
<p>ä»¥å‰åƒæ‰£å­é‚£æ ·çš„ç¼–æ’å·¥å…·ï¼Œåªèƒ½ç®—æ˜¯æœ€æ—©æœŸçš„æ™ºèƒ½ä½“å½¢æ€ï¼Œå¹¶ä¸æ˜¯å®Œå…¨ä½“ã€‚</p>
<p>ä»Šå¤©çœŸæ­£çš„å®Œå…¨æ€æ™ºèƒ½ä½“éœ€è¦å…·å¤‡è‡ªä¸»åˆ†æã€è‡ªä¸»å†³ç­–ä»¥åŠè‡ªåŠ¨åŒ–å®Œæˆä»»åŠ¡çš„èƒ½åŠ›ï¼Œè€Œæ‰§è¡Œä¸è½åœ°æ­£æ˜¯å…¶ä¸­çš„å…³é”®ç¯èŠ‚ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨å¾ˆå¤š AI å·¥å…·ä¸­çœ‹åˆ°çš„ Deep Research åŠŸèƒ½ï¼Œè™½ç„¶èƒ½å¸®åŠ©åšæœç´¢å’Œå¤„ç†ï¼Œä½†æˆ‘è®¤ä¸ºè¿™ä»ç„¶åªæ˜¯æ™ºèƒ½ä½“çš„æ—©æœŸé˜¶æ®µï¼ŒçœŸæ­£çš„æ™ºèƒ½ä½“éœ€è¦å…¨æ–°çš„æ¶æ„å’Œå…¨æ–°çš„å½¢æ€ã€‚</p>
<h2 data-id="heading-2">çœŸæ­£çš„æ™ºèƒ½ä½“éœ€è¦ä»èƒ½åŠ›å †å èµ°å‘ç³»ç»ŸåŒ–ç»“æ„</h2>
<p>2023 å¹´çš„æ—¶å€™ï¼ŒOpenAI ç ”ç©¶å‘˜ LilianWeng ä¹Ÿå‘äº†ä¸€ç¯‡å¾ˆè‘—åçš„è®ºæ–‡ï¼Œã€ŠLLM Powered Autonomous Agentsã€‹ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« é‡Œé¢æ­ç¤ºäº†çœŸæ­£çš„æ™ºèƒ½ä½“æœ‰å“ªäº›æ ¸å¿ƒçš„ç»„ä»¶ï¼ŒåŒ…æ‹¬å››ä¸ªæ ¸å¿ƒçš„å…ƒç´ ï¼š<strong>Memoryã€Planningã€Toolsã€Actionã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d0fba0334f446acabb0c3892e8d7b5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=wW4lQ5%2FqNMjRL7%2FRlGjSYwXdqwY%3D" alt="" loading="lazy"/></p>
<p>åœ¨æ¢³ç†æ¯ä¸ªæ ¸å¿ƒç»„ä»¶çš„ç‰¹ç‚¹å’Œç‰¹æ€§æ—¶ï¼Œå‘ç°äº†è¿™æ ·ä¸€äº›ç±»æ¯”ï¼šå¦‚æœæŠŠæ™ºèƒ½ä½“å½“ä½œæ•°å­—ç”Ÿå‘½ä½“ï¼Œé‚£ä¹ˆ Memory æœ‰ç‚¹åƒå¤§è„‘çš„è®°å¿†åŠŸèƒ½ï¼Œè´Ÿè´£çŸ­æœŸè®°å¿†ã€é•¿æœŸè®°å¿†ï¼Œç”šè‡³éœ€è¦å…·å¤‡é—å¿˜èƒ½åŠ›ï¼›Planning æ›´åƒæ€è€ƒå•å…ƒï¼Œèƒ½å¤Ÿè¿›è¡Œæ·±åº¦æ¨ç†å’Œæ·±åº¦åˆ†æã€‚</p>
<p>Toolsã€Action åˆ™æ›´åƒæˆ‘ä»¬çš„äº”å®˜ï¼Œèƒ½å¤Ÿæ„ŸçŸ¥å¤–éƒ¨ä¸–ç•Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Œç”šè‡³åƒæ‰‹å’Œè„šä¸€æ ·å»å½±å“å’Œæ”¹é€ å¤–éƒ¨ä¸–ç•Œã€‚çœŸæ­£çš„æ™ºèƒ½ä½“ä¸ä»…æ˜¯æ‰§è¡Œçš„æœºå™¨ï¼Œæ›´é‡è¦çš„æ˜¯å…·å¤‡ä»æ€è€ƒåˆ°æ‰§è¡Œå†åˆ°åˆ†æçš„ä¸€æ•´å¥—<strong>ç»¼åˆç³»ç»Ÿ</strong>ã€‚</p>
<p>æˆ‘ä»¬æƒ³ä¸€æƒ³ï¼Œä»€ä¹ˆæ ·çš„ç³»ç»Ÿæ˜¯æ—¢èƒ½åšèµ„æºçš„ç®¡ç†åˆèƒ½åšè®°å¿†çš„ç®¡ç†ï¼Œç”šè‡³è°ƒç”¨å¤§é‡çš„å·¥å…·å‘¢ï¼Ÿ</p>
<p>æˆ‘è®¤ä¸ºä»Šå¤©çš„æ™ºèƒ½ä½“çš„åŸºç¡€è®¾æ–½æ›´åƒä»¥å‰çš„<strong>æ“ä½œç³»ç»Ÿ</strong>ï¼Œè¿™é‡Œæˆ‘åˆ—ä¸¾äº†ä¸€ä¸‹è¿‡å»ä¸‰å››åå¹´ä¸€ç³»åˆ—æ“ä½œç³»ç»Ÿçš„å‘å±•å’Œè¯ç”Ÿï¼Œèƒ½çœ‹åˆ°æ— è®ºä» PC æ—¶ä»£åˆ°ç§»åŠ¨æ—¶ä»£è¿˜æ˜¯åˆ°äº‘æ—¶ä»£ï¼Œæ“ä½œç³»ç»Ÿæ‰æ˜¯æœ€æ ¸å¿ƒçš„ä¸­é—´å±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/885d452c93df459da65fb0e4a209254a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=6G9XgfUKx%2BtsuMFv2cC%2BjQIY4Ow%3D" alt="" loading="lazy"/></p>
<p>ä¸€æ–¹é¢ï¼Œå®ƒè¦ç®¡ç†å¤§é‡ä¸åŒçš„å¼‚æ„èµ„æºï¼ŒæŠŠè®¡ç®—èµ„æºã€ç¡¬ä»¶èµ„æºï¼Œä»¥åŠå„ç±»å¼‚æ„çš„è®°å¿†ã€å­˜å‚¨ã€ä¼ è¾“èƒ½åŠ›æ•´åˆèµ·æ¥ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œè¿˜éœ€è¦æŠŠè¿™äº›èƒ½åŠ›æŠ½ç¦»å¹¶æŠ½è±¡æˆæ ‡å‡†åŒ–çš„åŠŸèƒ½è°ƒç”¨ï¼Œæš´éœ²ç»™ä¸Šå±‚åº”ç”¨ï¼Œè®©å¼€å‘è€…å¯ä»¥è½»æ¾è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œè€Œæ— éœ€é’ˆå¯¹æ¯ä¸€ç§ç¡¬ä»¶ç»“æ„å•ç‹¬å¼€å‘ã€‚</p>
<p>æ— è®ºæ˜¯åœ¨ PC æ—¶ä»£ã€æ‰‹æœºæ—¶ä»£ï¼Œè¿˜æ˜¯äº‘æ—¶ä»£ï¼Œæ“ä½œç³»ç»Ÿå§‹ç»ˆæ‰®æ¼”ç€è¿™æ ·çš„è§’è‰²ã€‚</p>
<h2 data-id="heading-3">Agent Infraï¼šæœªæ¥ AI æ—¶ä»£çš„æ–°æ“ä½œç³»ç»Ÿ</h2>
<p>æˆ‘æå‡ºä¸€ä¸ªçœ‹æ³•ï¼šä»Šå¤©æˆ‘ä»¬åšçš„ Agent Infraï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨æ„å»º <strong>AI æ—¶ä»£çš„æ“ä½œç³»ç»Ÿ</strong>ã€‚</p>
<p>ä¼ ç»Ÿæ“ä½œç³»ç»Ÿç®¡ç† CPUã€å†…å­˜ã€å­˜å‚¨ç­‰ç¡¬ä»¶èµ„æºï¼Œè€Œ Agent Infra ç®¡ç†çš„æ˜¯<strong>æ¨¡å‹èƒ½åŠ›</strong>ã€<strong>å·¥å…·è°ƒç”¨èƒ½åŠ›</strong>ï¼Œä»¥åŠ<strong>ä»»åŠ¡å’Œæ‰§è¡Œèƒ½åŠ›</strong>ï¼Œåœ¨è¿™ä¸ªç»´åº¦ä¸Šå®Œæˆèµ„æºç®¡ç†ã€ç»Ÿä¸€è°ƒåº¦ä¸æŠ½è±¡ï¼Œè®©ä¸Šå±‚å¼€å‘è€…èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°è¿›è¡Œåº”ç”¨æ„å»ºã€‚</p>
<p>åœ¨æ•´ä¸ª Agent Infra ä½“ç³»ä¸­ï¼Œæœ€æ ¸å¿ƒçš„éƒ¨åˆ†æˆ‘ä»¬è®¤ä¸ºæ˜¯ <strong>Runtime</strong>ã€‚</p>
<p>Runtime è§£å†³çš„æ˜¯ â€œèƒ½ä¸èƒ½è·‘èµ·æ¥â€ çš„é—®é¢˜ï¼ŒçœŸæ­£çš„æ™ºèƒ½ä½“èƒ½å¦åœ¨å„ç§ç¯å¢ƒä¸‹å¤§è§„æ¨¡ã€é€šç”¨åœ°é€‚é…å¹¶ç¨³å®šè¿è¡Œï¼Œä¾èµ–çš„æ­£æ˜¯æŠŠä¸åŒèƒ½åŠ›è¿›è¡Œç»¼åˆè°ƒåº¦çš„ Runtimeï¼Œè¿™ä¹Ÿæ˜¯ Agent Infra çš„æ ¸å¿ƒæ‰€åœ¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c82ce7d11d714ebfba8a350c6aea3473~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=MGyZB2TH6tS02lipnp67jKmLhCc%3D" alt="" loading="lazy"/></p>
<p>PPIO æ˜¯ä¸€å®¶ AI äº‘è®¡ç®—å…¬å¸ï¼Œæˆ‘ä»¬ä»åº•å±‚ç®—åŠ›åˆ° IaaSã€PaaSï¼Œå†åˆ° MaaSï¼Œé€å±‚æ„å»ºäº†å®Œæ•´çš„ AI äº‘èƒ½åŠ›ï¼Œä¸º Agent Infra æä¾›åº•åº§æ”¯æ’‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7374183cb84e4cedb603e817355b9c5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=ePZHimGxm7DIM4F2vFV9ASJMy7o%3D" alt="" loading="lazy"/></p>
<p>è‡ª 2020 å¹´ç®—åŠ›å‡ºç°çŸ­ç¼ºå¼€å§‹ï¼Œæˆ‘ä»¬æ•´åˆå¤§é‡æ•°æ®ä¸­å¿ƒé—²ç½®ç®—åŠ›ï¼Œæ„å»ºåˆ†å¸ƒå¼ç®—åŠ›ç½‘ç»œã€‚å¦‚ä»Šæˆ‘ä»¬åœ¨ä¸­å›½å·²æœ‰ <strong>4000 + ç®—åŠ›èŠ‚ç‚¹</strong>ã€1300 å¤šä¸ªèƒ½æä¾›å¤§é‡åˆ†å¸ƒå¼ç®—åŠ›çš„åˆä½œä¼™ä¼´ï¼›2023 å¹´ä» CPU æ‰©å±•åˆ° GPUï¼›2024 å¹´æˆ‘ä»¬åœ¨å…¨çƒå…­<strong>å¤§æ´²ä¸‰åå¤šä¸ªåœ°åŒº</strong>å’Œå›½å®¶å¼€å§‹éƒ¨ç½²ç®—åŠ›ç½‘ç»œèƒ½åŠ›ï¼Œæ•´åˆå…¨çƒå„åœ°çš„ç®—åŠ›èµ„æºï¼Œè¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€å±‚ã€‚</p>
<p>ç¬¬äºŒå±‚æ˜¯ GPU æ¨ç†äº‘å¹³å°ã€‚2023 å¹´æˆ‘ä»¬æ‰“é€ äº†<strong>ç¬¬ä¸€ä»£æ¨ç†äº‘å¹³å°</strong>ï¼Œå®ç°å¼‚æ„ç®—åŠ›çš„ç»Ÿä¸€è°ƒåº¦ã€‚2024 å¹´æ¨å‡ºåˆ†å¸ƒå¼æ¨ç†å¼•æ“ï¼Œå¹¶æ‰˜ç®¡è¿‘ç™¾ä¸ªå¼€æºä¸ç¤¾åŒºæ¨¡å‹ï¼Œæ¯å¤©å¤„ç†æ¥è¿‘ <strong>2000 äº¿ Token</strong>ï¼Œä¸ºæ¨¡å‹æä¾›æ¨ç†åŠ é€Ÿã€é™æœ¬å’Œæ€§èƒ½å¢å¼ºï¼Œæ˜¯æ”¯æ’‘å¼€æºæ¨¡å‹è½åœ°çš„é‡è¦åŸºç¡€ã€‚</p>
<p>åŸºäºå‰æœŸç§¯ç´¯ï¼Œæˆ‘ä»¬åœ¨ä»Šå¹´ WAIC å‘å¸ƒäº†é¦–ä¸ªå…¼å®¹ E2B çš„ <strong>Agent æ²™ç®±</strong>ï¼Œä»¥ Runtime ä¸ºæ ¸å¿ƒæ•´åˆæ¨¡å‹è°ƒç”¨ã€çŸ­æœŸ / é•¿æœŸè®°å¿†å’Œæ•°æ®åº“èƒ½åŠ›ï¼Œå¸®åŠ©å¤´éƒ¨ Agent å‚å•†è§„æ¨¡åŒ–è½åœ°ï¼Œé€šè¿‡æ›´å®‰å…¨ã€æ•æ·çš„æ²™ç®±ä½“ç³»é™ä½é”™è¯¯ç‡ã€‚</p>
<p>è¯¥æ²™ç®±æ˜¯ä¸“ä¸º Agent æ‰§è¡Œä»»åŠ¡è®¾è®¡çš„äº‘ç«¯è¿è¡Œç¯å¢ƒï¼Œä¸º Agent èµ‹äºˆå®‰å…¨å¯é ã€é«˜æ•ˆæ•æ·çš„ â€œæ‰‹å’Œè„šâ€ï¼Œæ²™ç®±å†…æ”¯æŒåŠ¨æ€è°ƒç”¨ Browser useã€Computer useã€MCPã€RAGã€Search ç­‰å„ç§å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ae777b358cf4b1088539d009ad7ecde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457554&amp;x-signature=ead2%2BmBC2%2ByvNEO8UjgNQ0ndiOA%3D" alt="" loading="lazy"/></p>
<p>PPIO Agent æ²™ç®±åŸºäº Firecracker MicroVM æ„å»ºï¼Œå…·å¤‡å¼ºå®‰å…¨éš”ç¦»ã€æ¯«ç§’çº§æé€Ÿå¯åŠ¨ã€é«˜å¹¶å‘åˆ›å»ºä¸‰å¤§ç‰¹æ€§ï¼Œæ— éœ€é¢„éƒ¨ç½²ï¼Œå³å¯å³ç”¨ï¼Œè®© Agent çš„æ‰€æœ‰æ“ä½œå‡å¤„äº â€œå—é™ã€å¯æ§â€ çš„çŠ¶æ€ã€‚</p>
<p>å¼ºå®‰å…¨éš”ç¦»ï¼Œè®©ä¸åŒ Agent æ²™ç®±çš„ç¯å¢ƒå¯å®ç°å®Œå…¨éš”ç¦»ï¼Œå½“å¤šä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½èƒ½åœ¨ç‹¬ç«‹ç¯å¢ƒä¸­è¿è¡Œï¼Œä»æ ¹æºä¸Šé¿å…æ•°æ®æ³„æ¼å’Œèµ„æºæŠ¢å å†²çªã€‚</p>
<p>å°äº 200ms çš„æé€Ÿå¯åŠ¨æ—¶é—´ï¼Œè¿œè¿œå°äºä¼ ç»Ÿè™šæ‹Ÿæœºæ²™ç®±æ•°åˆ†é’Ÿç”šè‡³æ›´é•¿çš„æ—¶æ•ˆï¼Œå¯ç¬é—´åˆ›å»ºæ²™ç®±ç¯å¢ƒã€è¿è¡Œç”Ÿæˆçš„ä»£ç å¹¶å±•ç¤ºé¢„è§ˆæ•ˆæœï¼Œå¤§å¹…æå‡ç”¨æˆ·çš„å¼€å‘æµç•…åº¦ã€‚</p>
<p>å¹¶ä¸” PPIO Agent æ²™ç®±è¿˜æ”¯æŒåŒæ—¶å¿«é€Ÿå¯åŠ¨æ•°åƒä¸ªæ²™ç®±å®ä¾‹çš„é«˜å¹¶å‘åˆ›å»ºèƒ½åŠ›ï¼Œå¯å……åˆ†æ»¡è¶³ä¸šåŠ¡åœºæ™¯ä¸­çš„é«˜å¹¶å‘éœ€æ±‚ï¼ŒåŠ å¿«ç»“æœäº¤ä»˜é€Ÿåº¦ï¼Œä¿éšœç”¨æˆ·ä½“éªŒã€‚</p>
<p>æ²™ç®±ä¸Šçº¿ä»¥æ¥ï¼Œæœˆåº¦æ´»è·ƒæ•°åœ¨æŒç»­å¢é•¿ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ Agent Infra æˆä¸º AI æ—¶ä»£æ–°çš„æ“ä½œç³»ç»Ÿï¼Œå¸®åŠ©æ›´å¤šå¼€å‘è€…æˆé•¿ä¸åˆ›ä¸šã€‚</p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·¥ä½œä¸­æœ€å¸¸ç”¨çš„6ç§ç¼“å­˜]]></title>    <link>https://juejin.cn/post/7583980250733559871</link>    <guid>https://juejin.cn/post/7583980250733559871</guid>    <pubDate>2025-12-16T02:57:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583980250733559871" data-draft-id="7583969283790159926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·¥ä½œä¸­æœ€å¸¸ç”¨çš„6ç§ç¼“å­˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-16T02:57:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·¥ä½œä¸­æœ€å¸¸ç”¨çš„6ç§ç¼“å­˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:57:03.000Z" title="Tue Dec 16 2025 02:57:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿™äº›å¹´æˆ‘å‚ä¸è®¾è®¡è¿‡å¾ˆå¤šç³»ç»Ÿï¼Œè¶Šæ¥è¶Šæ·±åˆ»åœ°è®¤è¯†åˆ°ï¼š<strong>ä¸€ä¸ªç³»ç»Ÿçš„æ€§èƒ½å¦‚ä½•ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºç¼“å­˜ç”¨å¾—æ€ä¹ˆæ ·</strong>ã€‚</p>
<p>åŒæ ·æ˜¯ç¼“å­˜ï¼Œä¸ºä½•æœ‰äººç”¨èµ·æ¥ç³»ç»Ÿé£å‡ï¼Œæœ‰äººå´è¸©å‘ä¸æ–­ï¼Ÿ</p>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­å¯èƒ½é‡åˆ°è¿‡è¿™æ ·çš„å›°æƒ‘ï¼šçŸ¥é“è¦ç”¨ç¼“å­˜ï¼Œä½†é¢å¯¹æœ¬åœ°ç¼“å­˜ã€Redisã€Memcachedã€CDNç­‰å¤šç§é€‰æ‹©ï¼Œåˆ°åº•è¯¥ç”¨å“ªç§ï¼Ÿ</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶ä¸€èµ·èŠèŠå·¥ä½œä¸­æœ€å¸¸ç”¨çš„6ç§ç¼“å­˜ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" title="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" target="_blank">æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼šwww.susan.net.cn/project</a></p>
<h2 data-id="heading-1">01 ä¸ºä»€ä¹ˆç¼“å­˜å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<p>åœ¨æ­£å¼ä»‹ç»å„ç§ç¼“å­˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç™½ï¼š<strong>ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿ</strong></p>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä½ çš„ç”µå•†ç½‘ç«™é¦–é¡µï¼Œæ¯æ¬¡æ‰“å¼€éƒ½è¦ä»æ•°æ®åº“ä¸­æŸ¥è¯¢è½®æ’­å›¾ã€çƒ­é—¨å•†å“ã€åˆ†ç±»ä¿¡æ¯ç­‰æ•°æ®ã€‚</p>
<p>å¦‚æœæ¯ç§’æœ‰1ä¸‡ä¸ªç”¨æˆ·è®¿é—®ï¼Œæ•°æ®åº“å°±è¦æ‰¿å—1ä¸‡æ¬¡æŸ¥è¯¢å‹åŠ›ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ²¡æœ‰ç¼“å­˜æ—¶çš„æŸ¥è¯¢</span>
<span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductById</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-comment">// æ¯æ¬¡éƒ½ç›´æ¥æŸ¥è¯¢æ•°æ®åº“</span>
    <span class="hljs-keyword">return</span> productDao.findById(id); <span class="hljs-comment">// æ¯æ¬¡éƒ½æ˜¯æ…¢é€Ÿçš„ç£ç›˜IO</span>
}
</code></pre>
<p>è¿™å°±æ˜¯å…¸å‹çš„<strong>æ— ç¼“å­˜åœºæ™¯</strong>ã€‚</p>
<p>æ•°æ®åº“çš„ç£ç›˜IOé€Ÿåº¦è¿œä½äºå†…å­˜ï¼Œå½“å¹¶å‘é‡ä¸Šæ¥åï¼Œç³»ç»Ÿå“åº”å˜æ…¢ï¼Œæ•°æ®åº“è¿æ¥æ± è¢«å æ»¡ï¼Œæœ€ç»ˆå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚</p>
<p>ç¼“å­˜çš„æ ¸å¿ƒä»·å€¼å¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå…¬å¼ç†è§£ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç³»ç»Ÿæ€§èƒ½ = (ç¼“å­˜å‘½ä¸­ç‡ Ã— ç¼“å­˜è®¿é—®é€Ÿåº¦) + ((<span class="hljs-number">1</span> - ç¼“å­˜å‘½ä¸­ç‡) Ã— åç«¯è®¿é—®é€Ÿåº¦)
</code></pre>
<p>ç¼“å­˜ä¹‹æ‰€ä»¥èƒ½æå‡æ€§èƒ½ï¼ŒåŸºäºä¸¤ä¸ªè®¡ç®—æœºç§‘å­¦çš„åŸºæœ¬åŸç†ï¼š</p>
<ol>
<li><strong>å±€éƒ¨æ€§åŸç†</strong>ï¼šç¨‹åºè®¿é—®çš„æ•°æ®é€šå¸¸å…·æœ‰æ—¶é—´å’Œç©ºé—´å±€éƒ¨æ€§</li>
<li><strong>å­˜å‚¨å±‚æ¬¡ç»“æ„</strong>ï¼šä¸åŒå­˜å‚¨ä»‹è´¨çš„é€Ÿåº¦å·®å¼‚å·¨å¤§ï¼ˆå†…å­˜æ¯”SSDå¿«100å€ï¼Œæ¯”HDDå¿«10ä¸‡å€ï¼‰</li>
</ol>
<p>ä»ç”¨æˆ·è¯·æ±‚åˆ°æ•°æ®è¿”å›ï¼Œæ•°æ®å¯èƒ½ç»è¿‡çš„å„çº§ç¼“å­˜è·¯å¾„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>ç†è§£äº†ç¼“å­˜çš„é‡è¦æ€§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€ä¸€å‰–æè¿™å…­ç§æœ€å¸¸ç”¨çš„ç¼“å­˜æŠ€æœ¯ã€‚</p>
<h2 data-id="heading-2">02 æœ¬åœ°ç¼“å­˜ï¼šæœ€ç®€å•ç›´æ¥çš„æ€§èƒ½æå‡</h2>
<p>æœ¬åœ°ç¼“å­˜æŒ‡çš„æ˜¯åœ¨<strong>åº”ç”¨è¿›ç¨‹å†…éƒ¨</strong>ç»´æŠ¤çš„ç¼“å­˜å­˜å‚¨ï¼Œæ•°æ®å­˜å‚¨åœ¨JVMå †å†…å­˜ä¸­ã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒç‰¹ç‚¹</h3>
<ul>
<li><strong>è®¿é—®æœ€å¿«</strong>ï¼šç›´æ¥å†…å­˜æ“ä½œï¼Œæ— ç½‘ç»œå¼€é”€</li>
<li><strong>å®ç°ç®€å•</strong>ï¼šæ— éœ€æ­å»ºé¢å¤–æœåŠ¡</li>
<li><strong>æ•°æ®éš”ç¦»</strong>ï¼šæ¯ä¸ªåº”ç”¨å®ä¾‹ç‹¬äº«è‡ªå·±çš„ç¼“å­˜</li>
</ul>
<h3 data-id="heading-4">å¸¸ç”¨å®ç°</h3>
<p><strong>1. Guava Cache</strong>ï¼šGoogleæä¾›çš„ä¼˜ç§€æœ¬åœ°ç¼“å­˜åº“</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Guava Cache ç¤ºä¾‹</span>
LoadingCache&lt;Long, Product&gt; productCache = CacheBuilder.newBuilder()
    .maximumSize(<span class="hljs-number">10000</span>) <span class="hljs-comment">// æœ€å¤§ç¼“å­˜é¡¹æ•°</span>
    .expireAfterWrite(<span class="hljs-number">10</span>, TimeUnit.MINUTES) <span class="hljs-comment">// å†™å…¥å10åˆ†é’Ÿè¿‡æœŸ</span>
    .expireAfterAccess(<span class="hljs-number">5</span>, TimeUnit.MINUTES) <span class="hljs-comment">// è®¿é—®å5åˆ†é’Ÿè¿‡æœŸ</span>
    .recordStats() <span class="hljs-comment">// å¼€å¯ç»Ÿè®¡</span>
    .build(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CacheLoader</span>&lt;Long, Product&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">load</span><span class="hljs-params">(Long productId)</span> {
            <span class="hljs-comment">// å½“ç¼“å­˜æœªå‘½ä¸­æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æ•°æ®</span>
            <span class="hljs-keyword">return</span> productDao.findById(productId);
        }
    });

<span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> productCache.get(id);
    } <span class="hljs-keyword">catch</span> (ExecutionException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åŠ è½½äº§å“å¤±è´¥"</span>, e);
    }
}
</code></pre>
<p><strong>2. Caffeine</strong>ï¼šGuava Cacheçš„ç°ä»£æ›¿ä»£å“ï¼Œæ€§èƒ½æ›´ä¼˜</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Caffeine ç¤ºä¾‹ï¼ˆæ€§èƒ½ä¼˜äºGuava Cacheï¼‰</span>
Cache&lt;Long, Product&gt; caffeineCache = Caffeine.newBuilder()
    .maximumSize(<span class="hljs-number">10_000</span>)
    .expireAfterWrite(<span class="hljs-number">10</span>, TimeUnit.MINUTES)
    .refreshAfterWrite(<span class="hljs-number">1</span>, TimeUnit.MINUTES) <span class="hljs-comment">// æ”¯æŒåˆ·æ–°ï¼ŒGuavaä¸æ”¯æŒ</span>
    .recordStats()
    .build(productId -&gt; productDao.findById(productId));

<span class="hljs-comment">// å¼‚æ­¥è·å–</span>
<span class="hljs-keyword">public</span> CompletableFuture&lt;Product&gt; <span class="hljs-title function_">getProductAsync</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-keyword">return</span> caffeineCache.get(id, productId -&gt; 
        CompletableFuture.supplyAsync(() -&gt; productDao.findById(productId)));
}
</code></pre>
<h3 data-id="heading-5">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>æ•°æ®é‡ä¸å¤§ï¼ˆé€šå¸¸ä¸è¶…è¿‡10ä¸‡æ¡ï¼‰</li>
<li>æ•°æ®å˜åŒ–ä¸é¢‘ç¹</li>
<li>å¯¹è®¿é—®é€Ÿåº¦è¦æ±‚æè‡´</li>
<li>å¦‚ï¼šé…ç½®ä¿¡æ¯ã€é™æ€å­—å…¸ã€ç”¨æˆ·ä¼šè¯ä¿¡æ¯ï¼ˆçŸ­æœŸï¼‰</li>
</ul>
<h3 data-id="heading-6">ä¼˜ç¼ºç‚¹åˆ†æ</h3>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæé€Ÿè®¿é—®ã€é›¶ç½‘ç»œå¼€é”€ã€å®ç°ç®€å•</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šæ•°æ®ä¸ä¸€è‡´ï¼ˆå„èŠ‚ç‚¹ç‹¬ç«‹ï¼‰ã€å†…å­˜é™åˆ¶ã€é‡å¯ä¸¢å¤±</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­å¯èƒ½ä¼šçŠ¯ä¸€ä¸ªé”™è¯¯ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¿‡åº¦ä¾èµ–æœ¬åœ°ç¼“å­˜ï¼Œå¯¼è‡´å„èŠ‚ç‚¹æ•°æ®ä¸ä¸€è‡´ã€‚è®°ä½ï¼š<strong>æœ¬åœ°ç¼“å­˜é€‚åˆå­˜å‚¨åªè¯»æˆ–å¼±ä¸€è‡´æ€§çš„æ•°æ®</strong>ã€‚</p>
<h2 data-id="heading-7">03 åˆ†å¸ƒå¼ç¼“å­˜ä¹‹ç‹ï¼šRedisçš„æ·±åº¦è§£æ</h2>
<p>å½“æ•°æ®éœ€è¦åœ¨å¤šä¸ªåº”ç”¨å®ä¾‹é—´å…±äº«æ—¶ï¼Œæœ¬åœ°ç¼“å­˜å°±ä¸å¤Ÿç”¨äº†ï¼Œè¿™æ—¶éœ€è¦<strong>åˆ†å¸ƒå¼ç¼“å­˜</strong>ã€‚è€ŒRedisæ— ç–‘æ˜¯è¿™ä¸€é¢†åŸŸçš„ç‹è€…ã€‚</p>
<h3 data-id="heading-8">Redisçš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Spring Boot + Redis ç¤ºä¾‹</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductCacheService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCT_KEY_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Duration</span> <span class="hljs-variable">CACHE_TTL</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">30</span>);
    
    <span class="hljs-comment">// ç¼“å­˜æŸ¥è¯¢</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> PRODUCT_KEY_PREFIX + id;
        
        <span class="hljs-comment">// 1. å…ˆæŸ¥ç¼“å­˜</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> (Product) redisTemplate.opsForValue().get(key);
        
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> product;
        }
        
        <span class="hljs-comment">// 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“</span>
        product = productDao.findById(id);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// 3. å†™å…¥ç¼“å­˜</span>
            redisTemplate.opsForValue().set(key, product, CACHE_TTL);
        }
        
        <span class="hljs-keyword">return</span> product;
    }
    
    <span class="hljs-comment">// ä½¿ç”¨æ›´é«˜æ•ˆçš„æ–¹å¼ï¼šç¼“å­˜ç©ºå€¼é˜²æ­¢ç¼“å­˜ç©¿é€</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductWithNullCache</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> PRODUCT_KEY_PREFIX + id;
        <span class="hljs-type">String</span> <span class="hljs-variable">nullKey</span> <span class="hljs-operator">=</span> PRODUCT_KEY_PREFIX + <span class="hljs-string">"null:"</span> + id;
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯ç©ºå€¼ï¼ˆé˜²ç¼“å­˜ç©¿é€ï¼‰</span>
        <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(redisTemplate.hasKey(nullKey))) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> (Product) redisTemplate.opsForValue().get(key);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> product;
        }
        
        product = productDao.findById(id);
        <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// ç¼“å­˜ç©ºå€¼ï¼ŒçŸ­æ—¶é—´è¿‡æœŸ</span>
            redisTemplate.opsForValue().set(nullKey, <span class="hljs-string">""</span>, Duration.ofMinutes(<span class="hljs-number">5</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        redisTemplate.opsForValue().set(key, product, CACHE_TTL);
        <span class="hljs-keyword">return</span> product;
    }
}
</code></pre>
<h3 data-id="heading-9">Redisçš„ä¸°å¯Œæ•°æ®ç»“æ„</h3>
<p>Redisä¸åªæ˜¯ç®€å•çš„Key-Valueå­˜å‚¨ï¼Œå®ƒçš„å¤šç§æ•°æ®ç»“æ„é€‚åº”ä¸åŒåœºæ™¯ï¼š</p>








































<table><thead><tr><th>æ•°æ®ç»“æ„</th><th>é€‚ç”¨åœºæ™¯</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>String</td><td>ç¼“å­˜å¯¹è±¡ã€è®¡æ•°å™¨</td><td><code>SET user:1 '{"name":"å¼ ä¸‰"}'</code></td></tr><tr><td>Hash</td><td>å­˜å‚¨å¯¹è±¡å±æ€§</td><td><code>HSET product:1001 name "æ‰‹æœº" price 2999</code></td></tr><tr><td>List</td><td>æ¶ˆæ¯é˜Ÿåˆ—ã€æœ€æ–°åˆ—è¡¨</td><td><code>LPUSH news:latest "æ–°é—»æ ‡é¢˜"</code></td></tr><tr><td>Set</td><td>æ ‡ç­¾ã€å…±åŒå¥½å‹</td><td><code>SADD user:100:tags "æ•°ç " "ç§‘æŠ€"</code></td></tr><tr><td>Sorted Set</td><td>æ’è¡Œæ¦œã€å»¶è¿Ÿé˜Ÿåˆ—</td><td><code>ZADD leaderboard 95 "ç©å®¶A"</code></td></tr><tr><td>Bitmap</td><td>ç”¨æˆ·ç­¾åˆ°ã€æ´»è·ƒç»Ÿè®¡</td><td><code>SETBIT sign:2023:10 1 1</code></td></tr></tbody></table>
<h3 data-id="heading-10">é›†ç¾¤æ¨¡å¼é€‰æ‹©</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42aa005753fc4a789c10618a7584a2f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458623&amp;x-signature=TCzPY7MSnNOgU46e2E%2BmJKXap%2Fo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>ä¼šè¯å­˜å‚¨ï¼ˆåˆ†å¸ƒå¼Sessionï¼‰</li>
<li>æ’è¡Œæ¦œã€è®¡æ•°å™¨</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>åˆ†å¸ƒå¼é”</li>
<li>çƒ­ç‚¹æ•°æ®ç¼“å­˜</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­ä½¿ç”¨Redisæ—¶ï¼ŒåªæŠŠå®ƒå½“ç®€å•çš„Key-Valueç”¨ï¼Œè¿™å°±åƒç”¨ç‘å£«å†›åˆ€åªå¼€ç“¶ç›–ä¸€æ ·æµªè´¹ã€‚</p>
<p><strong>æ·±å…¥ç†è§£Redisçš„æ•°æ®ç»“æ„ï¼Œèƒ½è®©ä½ çš„ç³»ç»Ÿè®¾è®¡æ›´ä¼˜é›…é«˜æ•ˆ</strong>ã€‚</p>
<h2 data-id="heading-12">04 Memcachedï¼šç®€å•é«˜æ•ˆçš„åˆ†å¸ƒå¼ç¼“å­˜</h2>
<p>åœ¨Rediså´›èµ·ä¹‹å‰ï¼ŒMemcachedæ˜¯åˆ†å¸ƒå¼ç¼“å­˜çš„é¦–é€‰ã€‚</p>
<p>è™½ç„¶ç°åœ¨Redisæ›´æµè¡Œï¼Œä½†Memcachedåœ¨æŸäº›åœºæ™¯ä¸‹ä»æœ‰å…¶ä»·å€¼ã€‚</p>
<h3 data-id="heading-13">Memcached vs Redis æ ¸å¿ƒåŒºåˆ«</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Memcached å®¢æˆ·ç«¯ç¤ºä¾‹ï¼ˆä½¿ç”¨XMemcachedï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemcachedService</span> {
    <span class="hljs-keyword">private</span> MemcachedClient memcachedClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// åˆ›å»ºå®¢æˆ·ç«¯</span>
        memcachedClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMemcachedClientBuilder</span>(
            AddrUtil.getAddresses(<span class="hljs-string">"server1:11211 server2:11211"</span>))
            .build();
    }
    
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(Long id)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product_"</span> + id;
        
        <span class="hljs-comment">// ä»Memcachedè·å–</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> memcachedClient.get(key);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> product;
        }
        
        <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­</span>
        product = productDao.findById(id);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// å­˜å‚¨åˆ°Memcachedï¼Œè¿‡æœŸæ—¶é—´30åˆ†é’Ÿ</span>
            memcachedClient.set(key, <span class="hljs-number">30</span> * <span class="hljs-number">60</span>, product);
        }
        
        <span class="hljs-keyword">return</span> product;
    }
}
</code></pre>
<p><strong>ä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Redis</th><th>Memcached</th></tr></thead><tbody><tr><td><strong>æ•°æ®ç»“æ„</strong></td><td>ä¸°å¯Œï¼ˆStringã€Hashã€Listç­‰ï¼‰</td><td>ç®€å•ï¼ˆKey-Valueï¼‰</td></tr><tr><td><strong>æŒä¹…åŒ–</strong></td><td>æ”¯æŒï¼ˆRDB/AOFï¼‰</td><td>ä¸æ”¯æŒ</td></tr><tr><td><strong>çº¿ç¨‹æ¨¡å‹</strong></td><td>å•çº¿ç¨‹</td><td>å¤šçº¿ç¨‹</td></tr><tr><td><strong>å†…å­˜ç®¡ç†</strong></td><td>å¤šç§ç­–ç•¥ï¼Œå¯æŒä¹…åŒ–</td><td>çº¯å†…å­˜ï¼Œé‡å¯ä¸¢å¤±</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>ç¼“å­˜+å¤šæ ·åŒ–æ•°æ®ç»“æ„</td><td>çº¯ç¼“å­˜</td></tr></tbody></table>
<h3 data-id="heading-14">ä½•æ—¶é€‰æ‹©Memcachedï¼Ÿ</h3>
<ol>
<li><strong>çº¯ç¼“å­˜åœºæ™¯</strong>ï¼šåªéœ€è¦ç®€å•çš„Key-Valueç¼“å­˜</li>
<li><strong>è¶…å¤§Valueå­˜å‚¨</strong>ï¼šMemcachedå¯¹è¶…å¤§Valueæ”¯æŒæ›´å¥½</li>
<li><strong>å¤šçº¿ç¨‹é«˜å¹¶å‘</strong>ï¼šMemcachedçš„å¤šçº¿ç¨‹æ¨¡å‹åœ¨æç«¯å¹¶å‘ä¸‹å¯èƒ½è¡¨ç°æ›´å¥½</li>
</ol>
<h2 data-id="heading-15">05 CDNç¼“å­˜ï¼šåŠ é€Ÿé™æ€èµ„æºçš„åˆ©å™¨</h2>
<p>æœ‰äº›å°ä¼™ä¼´å¯èƒ½ä¼šç–‘æƒ‘ï¼šCDNä¹Ÿç®—ç¼“å­˜å—ï¼Ÿå½“ç„¶ç®—ï¼Œè€Œä¸”æ˜¯<strong>åœ°ç†ä½ç½®æœ€è¿‘</strong>çš„ç¼“å­˜ã€‚</p>
<h3 data-id="heading-16">CDNçš„å·¥ä½œåŸç†</h3>
<p>CDNï¼ˆContent Delivery Networkï¼‰é€šè¿‡åœ¨å„åœ°éƒ¨ç½²è¾¹ç¼˜èŠ‚ç‚¹ï¼Œå°†é™æ€èµ„æºç¼“å­˜åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„èŠ‚ç‚¹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨åº”ç”¨ä¸­ç”ŸæˆCDNé“¾æ¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CDNService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">cdnDomain</span> <span class="hljs-operator">=</span> <span class="hljs-string">"https://cdn.yourcompany.com"</span>;
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getCDNUrl</span><span class="hljs-params">(String relativePath)</span> {
        <span class="hljs-comment">// æ·»åŠ ç‰ˆæœ¬å·æˆ–æ—¶é—´æˆ³ï¼Œé˜²æ­¢ç¼“å­˜æ—§ç‰ˆæœ¬</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">version</span> <span class="hljs-operator">=</span> getFileVersion(relativePath);
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s/%s?v=%s"</span>, cdnDomain, relativePath, version);
    }
    
    <span class="hljs-comment">// ä¸Šä¼ æ–‡ä»¶åˆ°CDNçš„ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">uploadToCDN</span><span class="hljs-params">(File file, String remotePath)</span> {
        <span class="hljs-comment">// 1. ä¸Šä¼ åˆ°æºç«™</span>
        uploadToOrigin(file, remotePath);
        
        <span class="hljs-comment">// 2. è§¦å‘CDNé¢„çƒ­ï¼ˆå°†æ–‡ä»¶ä¸»åŠ¨æ¨é€åˆ°è¾¹ç¼˜èŠ‚ç‚¹ï¼‰</span>
        preheatCDN(remotePath);
        
        <span class="hljs-comment">// 3. åˆ·æ–°æ—§ç¼“å­˜ï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
        refreshCDNCache(remotePath);
    }
}
</code></pre>
<h3 data-id="heading-17">CDNç¼“å­˜ç­–ç•¥é…ç½®</h3>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># Nginxä¸­çš„CDNç¼“å­˜é…ç½®ç¤ºä¾‹</span>
location ~* \.(jpg|<span class="hljs-params">jpeg</span>|png|<span class="hljs-params">gif</span>|ico|<span class="hljs-params">css</span>|js)<span class="hljs-variable">$ </span>{
    expires 365d;  <span class="hljs-comment"># ç¼“å­˜ä¸€å¹´</span>
    add_header <span class="hljs-title class_">Cache</span>-<span class="hljs-title class_">Control</span> <span class="hljs-string">"public, immutable"</span>;
    
    <span class="hljs-comment"># æ·»åŠ ç‰ˆæœ¬å·ä½œä¸ºæŸ¥è¯¢å‚æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$query_string</span> ~* <span class="hljs-string">"^v=\d+"</span>) {
        expires max;
    }
}
</code></pre>
<h3 data-id="heading-18">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>é™æ€èµ„æºï¼šå›¾ç‰‡ã€CSSã€JSæ–‡ä»¶</li>
<li>è½¯ä»¶ä¸‹è½½åŒ…</li>
<li>è§†é¢‘æµåª’ä½“</li>
<li>å…¨çƒè®¿é—®çš„ç½‘ç«™</li>
</ul>
<h2 data-id="heading-19">06 æµè§ˆå™¨ç¼“å­˜ï¼šæœ€å‰ç«¯çš„æ€§èƒ½ä¼˜åŒ–</h2>
<p>æµè§ˆå™¨ç¼“å­˜æ˜¯æœ€å®¹æ˜“è¢«å¿½è§†ä½†æ•ˆæœæœ€ç›´æ¥çš„ç¼“å­˜å±‚çº§ã€‚åˆç†åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œå¯ä»¥å¤§å¹…å‡å°‘æœåŠ¡å™¨å‹åŠ›ã€‚</p>
<h3 data-id="heading-20">HTTPç¼“å­˜å¤´è¯¦è§£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Spring Bootä¸­è®¾ç½®HTTPç¼“å­˜å¤´</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResourceController</span> {
    
    <span class="hljs-meta">@GetMapping("/static/{filename}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Resource&gt; <span class="hljs-title function_">getStaticFile</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String filename)</span> {
        <span class="hljs-type">Resource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> loadResource(filename);
        
        <span class="hljs-keyword">return</span> ResponseEntity.ok()
            .cacheControl(CacheControl.maxAge(<span class="hljs-number">7</span>, TimeUnit.DAYS)) <span class="hljs-comment">// ç¼“å­˜7å¤©</span>
            .eTag(computeETag(resource)) <span class="hljs-comment">// ETagç”¨äºåå•†ç¼“å­˜</span>
            .lastModified(resource.lastModified()) <span class="hljs-comment">// æœ€åä¿®æ”¹æ—¶é—´</span>
            .body(resource);
    }
    
    <span class="hljs-meta">@GetMapping("/dynamic/data")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Object&gt; <span class="hljs-title function_">getDynamicData</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> getData();
        
        <span class="hljs-comment">// åŠ¨æ€æ•°æ®è®¾ç½®è¾ƒçŸ­ç¼“å­˜</span>
        <span class="hljs-keyword">return</span> ResponseEntity.ok()
            .cacheControl(CacheControl.maxAge(<span class="hljs-number">30</span>, TimeUnit.SECONDS)) <span class="hljs-comment">// 30ç§’</span>
            .body(data);
    }
}
</code></pre>
<h3 data-id="heading-21">æµè§ˆå™¨ç¼“å­˜çš„ä¸¤ç§ç±»å‹</h3>
<p><img alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>æœ€è¿‘ä¸ºäº†å¸®åŠ©å¤§å®¶æ‰¾å·¥ä½œï¼Œä¸“é—¨å»ºäº†ä¸€äº›å·¥ä½œå†…æ¨ç¾¤ï¼Œå„å¤§åŸå¸‚éƒ½æœ‰ï¼Œæ¬¢è¿å„ä½HRå’Œæ‰¾å·¥ä½œçš„å°ä¼™ä¼´è¿›ç¾¤äº¤æµï¼Œç¾¤é‡Œç›®å‰å·²ç»æ”¶é›†äº†20å¤šå®¶å¤§å‚çš„å·¥ä½œå†…æ¨å²—ä½ã€‚åŠ è‹ä¸‰çš„å¾®ä¿¡ï¼šli_su223ï¼Œå¤‡æ³¨ï¼šæ˜é‡‘+æ‰€åœ¨åŸå¸‚ï¼Œå³å¯è¿›ç¾¤ã€‚</p>
<h3 data-id="heading-22">æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>é™æ€èµ„æº</strong>ï¼šè®¾ç½®é•¿æ—¶é—´ç¼“å­˜ï¼ˆå¦‚ä¸€å¹´ï¼‰ï¼Œé€šè¿‡æ–‡ä»¶åå“ˆå¸Œå¤„ç†æ›´æ–°</li>
<li><strong>åŠ¨æ€æ•°æ®</strong>ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾ç½®åˆç†ç¼“å­˜æ—¶é—´</li>
<li><strong>APIå“åº”</strong>ï¼šé€‚å½“ä½¿ç”¨ETagå’ŒLast-Modified</li>
</ol>
<h2 data-id="heading-23">07 æ•°æ®åº“ç¼“å­˜ï¼šå®¹æ˜“è¢«å¿½ç•¥çš„å†…éƒ¨ä¼˜åŒ–</h2>
<p>æ•°æ®åº“è‡ªèº«ä¹Ÿæœ‰ç¼“å­˜æœºåˆ¶ï¼Œç†è§£è¿™äº›æœºåˆ¶èƒ½å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´é«˜æ•ˆçš„SQLã€‚</p>
<h3 data-id="heading-24">MySQLæŸ¥è¯¢ç¼“å­˜ï¼ˆå·²åºŸå¼ƒä½†å€¼å¾—äº†è§£ï¼‰</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹æŸ¥è¯¢ç¼“å­˜çŠ¶æ€ï¼ˆMySQL 5.7åŠä¹‹å‰ï¼‰</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'query_cache%'</span>;

<span class="hljs-comment">-- åœ¨8.0ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ©ç”¨æŸ¥è¯¢ç¼“å­˜</span>
<span class="hljs-keyword">SELECT</span> SQL_CACHE <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> category_id <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
</code></pre>
<h3 data-id="heading-25">InnoDBç¼“å†²æ± ï¼ˆBuffer Poolï¼‰</h3>
<p>è¿™æ˜¯MySQLæ€§èƒ½çš„å…³é”®ï¼Œç¼“å­˜çš„æ˜¯<strong>æ•°æ®é¡µå’Œç´¢å¼•é¡µ</strong>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç¼“å†²æ± çŠ¶æ€</span>
<span class="hljs-keyword">SHOW</span> ENGINE INNODB STATUS;

<span class="hljs-comment">-- é‡è¦çš„ç›‘æ§æŒ‡æ ‡</span>
<span class="hljs-comment">-- ç¼“å†²æ± å‘½ä¸­ç‡ = (1 - (innodb_buffer_pool_reads / innodb_buffer_pool_read_requests)) * 100%</span>
<span class="hljs-comment">-- å‘½ä¸­ç‡åº”å°½å¯èƒ½æ¥è¿‘100%</span>
</code></pre>
<h3 data-id="heading-26">æ•°æ®åº“çº§ç¼“å­˜æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>åˆç†è®¾ç½®ç¼“å†²æ± å¤§å°</strong>ï¼šé€šå¸¸æ˜¯ç³»ç»Ÿå†…å­˜çš„50%-70%</li>
<li><strong>ä¼˜åŒ–æŸ¥è¯¢</strong>ï¼šé¿å…å…¨è¡¨æ‰«æï¼Œåˆç†ä½¿ç”¨ç´¢å¼•</li>
<li><strong>é¢„çƒ­ç¼“å­˜</strong>ï¼šé‡å¯åä¸»åŠ¨åŠ è½½çƒ­ç‚¹æ•°æ®</li>
<li><strong>ç›‘æ§å‘½ä¸­ç‡</strong>ï¼šæŒç»­ä¼˜åŒ–</li>
</ol>
<p>æœ‰äº›å°ä¼™ä¼´å¯èƒ½ä¼šè¿‡åº¦ä¾èµ–åº”ç”¨å±‚ç¼“å­˜ï¼Œè€Œå¿½ç•¥äº†æ•°æ®åº“è‡ªèº«çš„ç¼“å­˜ä¼˜åŒ–ã€‚</p>
<p><strong>æ•°æ®åº“ç¼“å­˜æ˜¯æœ€åä¸€é“é˜²çº¿ï¼Œä¼˜åŒ–å¥½å®ƒèƒ½è®©æ•´ä¸ªç³»ç»Ÿæ›´å¥å£®</strong>ã€‚</p>
<h2 data-id="heading-27">08 ç»¼åˆå¯¹æ¯”ä¸é€‰å‹æŒ‡å—</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ç»™å¤§å®¶ä¸€ä¸ªé€‰å‹æŒ‡å—ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f0dca268ce743fdb1b03c80cff84b0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458623&amp;x-signature=gM6U5qRP98tOrjybbtFLiJ83BFc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-28">å®æˆ˜ä¸­çš„å¤šçº§ç¼“å­˜æ¶æ„</h3>
<p>åœ¨å®é™…çš„é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡‡ç”¨<strong>å¤šçº§ç¼“å­˜ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¤šçº§ç¼“å­˜ç¤ºä¾‹ï¼šæœ¬åœ°ç¼“å­˜ + Redis</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiLevelCacheService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;
    
    <span class="hljs-comment">// ä¸€çº§ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜</span>
    <span class="hljs-keyword">private</span> Cache&lt;Long, Product&gt; localCache = Caffeine.newBuilder()
        .maximumSize(<span class="hljs-number">1000</span>)
        .expireAfterWrite(<span class="hljs-number">30</span>, TimeUnit.SECONDS) <span class="hljs-comment">// æœ¬åœ°ç¼“å­˜æ—¶é—´çŸ­</span>
        .build();
    
    <span class="hljs-comment">// äºŒçº§ç¼“å­˜ï¼šRedis</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Duration</span> <span class="hljs-variable">REDIS_TTL</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">10</span>);
    
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductWithMultiCache</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-comment">// 1. æŸ¥æœ¬åœ°ç¼“å­˜</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> localCache.getIfPresent(id);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> product;
        }
        
        <span class="hljs-comment">// 2. æŸ¥Redis</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span> + id;
        product = (Product) redisTemplate.opsForValue().get(redisKey);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// å›å¡«æœ¬åœ°ç¼“å­˜</span>
            localCache.put(id, product);
            <span class="hljs-keyword">return</span> product;
        }
        
        <span class="hljs-comment">// 3. æŸ¥æ•°æ®åº“</span>
        product = productDao.findById(id);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// å†™å…¥Redis</span>
            redisTemplate.opsForValue().set(redisKey, product, REDIS_TTL);
            <span class="hljs-comment">// å†™å…¥æœ¬åœ°ç¼“å­˜</span>
            localCache.put(id, product);
        }
        
        <span class="hljs-keyword">return</span> product;
    }
}
</code></pre>
<h2 data-id="heading-29">09 ç¼“å­˜å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…åœ°ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼š</p>
<h3 data-id="heading-30">1. ç¼“å­˜ç©¿é€</h3>
<p><strong>é—®é¢˜</strong>ï¼šå¤§é‡è¯·æ±‚æŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®ï¼Œç»•è¿‡ç¼“å­˜ç›´æ¥å‡»ç©¿æ•°æ®åº“ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¼“å­˜ç©ºå€¼æ–¹æ¡ˆ</span>
<span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductSafe</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span> + id;
    <span class="hljs-type">String</span> <span class="hljs-variable">nullKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:null:"</span> + id;
    
    <span class="hljs-comment">// æ£€æŸ¥ç©ºå€¼æ ‡è®°</span>
    <span class="hljs-keyword">if</span> (redisTemplate.hasKey(nullKey)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> (Product) redisTemplate.opsForValue().get(key);
    <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> product;
    }
    
    product = productDao.findById(id);
    <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// ç¼“å­˜ç©ºå€¼ï¼ŒçŸ­æ—¶é—´è¿‡æœŸ</span>
        redisTemplate.opsForValue().set(nullKey, <span class="hljs-string">""</span>, Duration.ofMinutes(<span class="hljs-number">5</span>));
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    redisTemplate.opsForValue().set(key, product, Duration.ofMinutes(<span class="hljs-number">30</span>));
    <span class="hljs-keyword">return</span> product;
}
</code></pre>
<h3 data-id="heading-31">2. ç¼“å­˜é›ªå´©</h3>
<p><strong>é—®é¢˜</strong>ï¼šå¤§é‡ç¼“å­˜åŒæ—¶è¿‡æœŸï¼Œè¯·æ±‚å…¨éƒ¨æ‰“åˆ°æ•°æ®åº“ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å·®å¼‚åŒ–è¿‡æœŸæ—¶é—´</span>
<span class="hljs-keyword">private</span> Duration <span class="hljs-title function_">getRandomTTL</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// åŸºç¡€30åˆ†é’Ÿ + éšæœº0-10åˆ†é’Ÿ</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">baseMinutes</span> <span class="hljs-operator">=</span> <span class="hljs-number">30</span>;
    <span class="hljs-type">long</span> <span class="hljs-variable">randomMinutes</span> <span class="hljs-operator">=</span> ThreadLocalRandom.current().nextLong(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> Duration.ofMinutes(baseMinutes + randomMinutes);
}
</code></pre>
<h3 data-id="heading-32">3. ç¼“å­˜å‡»ç©¿</h3>
<p><strong>é—®é¢˜</strong>ï¼šçƒ­ç‚¹Keyè¿‡æœŸç¬é—´ï¼Œå¤§é‡å¹¶å‘è¯·æ±‚åŒæ—¶æŸ¥è¯¢æ•°æ®åº“ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨äº’æ–¥é”ï¼ˆåˆ†å¸ƒå¼é”ï¼‰</span>
<span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductWithLock</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span> + id;
    <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> (Product) redisTemplate.opsForValue().get(key);
    
    <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// å°è¯•è·å–åˆ†å¸ƒå¼é”</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"lock:product:"</span> + id;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">locked</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue()
            .setIfAbsent(lockKey, <span class="hljs-string">"1"</span>, Duration.ofSeconds(<span class="hljs-number">10</span>));
        
        <span class="hljs-keyword">if</span> (locked) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åŒé‡æ£€æŸ¥</span>
                product = (Product) redisTemplate.opsForValue().get(key);
                <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
                    product = productDao.findById(id);
                    <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
                        redisTemplate.opsForValue()
                            .set(key, product, Duration.ofMinutes(<span class="hljs-number">30</span>));
                    }
                }
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// é‡Šæ”¾é”</span>
                redisTemplate.delete(lockKey);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æœªè·å–åˆ°é”ï¼Œç­‰å¾…åé‡è¯•</span>
            <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">50</span>); } 
            <span class="hljs-keyword">catch</span> (InterruptedException e) { Thread.currentThread().interrupt(); }
            <span class="hljs-keyword">return</span> getProductWithLock(id); <span class="hljs-comment">// é€’å½’é‡è¯•</span>
        }
    }
    
    <span class="hljs-keyword">return</span> product;
}
</code></pre>
<h2 data-id="heading-33">10 æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°æ¢è®¨äº†å·¥ä½œä¸­æœ€å¸¸ç”¨çš„å…­ç§ç¼“å­˜æŠ€æœ¯ã€‚</p>
<p>æ¯ç§ç¼“å­˜éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä»·å€¼å’Œåº”ç”¨åœºæ™¯ï¼š</p>
<ol>
<li><strong>æœ¬åœ°ç¼“å­˜</strong>ï¼šé€‚åˆè¿›ç¨‹å†…ã€å˜åŒ–ä¸é¢‘ç¹çš„åªè¯»æ•°æ®</li>
<li><strong>Redis</strong>ï¼šåŠŸèƒ½ä¸°å¯Œçš„åˆ†å¸ƒå¼ç¼“å­˜ï¼Œé€‚åˆå¤§å¤šæ•°å…±äº«ç¼“å­˜åœºæ™¯</li>
<li><strong>Memcached</strong>ï¼šç®€å•é«˜æ•ˆçš„åˆ†å¸ƒå¼ç¼“å­˜ï¼Œé€‚åˆçº¯Key-Valueåœºæ™¯</li>
<li><strong>CDNç¼“å­˜</strong>ï¼šåŠ é€Ÿé™æ€èµ„æºï¼Œæå‡å…¨çƒè®¿é—®é€Ÿåº¦</li>
<li><strong>æµè§ˆå™¨ç¼“å­˜</strong>ï¼šæœ€å‰ç«¯çš„ä¼˜åŒ–ï¼Œå‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚</li>
<li><strong>æ•°æ®åº“ç¼“å­˜</strong>ï¼šæœ€åä¸€é“é˜²çº¿ï¼Œä¼˜åŒ–æ•°æ®åº“è®¿é—®æ€§èƒ½</li>
</ol>
<p><strong>ç¼“å­˜ä½¿ç”¨çš„æ ¸å¿ƒåŸåˆ™å¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å‡ ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>åˆ†çº§ç¼“å­˜</strong>ï¼šåˆç†åˆ©ç”¨å¤šçº§ç¼“å­˜æ¶æ„</li>
<li><strong>åˆé€‚ç²’åº¦</strong>ï¼šæ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©ç¼“å­˜ç²’åº¦</li>
<li><strong>åŠæ—¶æ›´æ–°</strong>ï¼šè®¾è®¡åˆç†çš„ç¼“å­˜æ›´æ–°ç­–ç•¥</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šå»ºç«‹å®Œå–„çš„ç¼“å­˜ç›‘æ§ä½“ç³»</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­ä½¿ç”¨ç¼“å­˜æ—¶ï¼Œå®¹æ˜“é™·å…¥ä¸¤ä¸ªæç«¯ï¼šè¦ä¹ˆè¿‡åº¦è®¾è®¡ï¼Œæ‰€æœ‰æ•°æ®éƒ½åŠ ç¼“å­˜ï¼›è¦ä¹ˆå¿½è§†ç¼“å­˜ï¼Œè®©æ•°æ®åº“æ‰¿å—æ‰€æœ‰å‹åŠ›ã€‚</p>
<p><strong>æˆ‘ä»¬éœ€è¦æ‡‚å¾—åœ¨åˆé€‚çš„åœ°æ–¹ä½¿ç”¨åˆé€‚çš„ç¼“å­˜ï¼Œåœ¨æ€§èƒ½å’Œå¤æ‚æ€§ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹</strong>ã€‚</p>
<p>è®°ä½ï¼Œç¼“å­˜ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯å·¥å…·ç®±ä¸­çš„ä¸€ä»¶åˆ©å™¨ã€‚</p>
<h2 data-id="heading-34">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" title="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" target="_blank">www.susan.net.cn/project</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€RuoYi-SpringBoot3-Proã€‘ï¼šæ¥å…¥ AI å¯¹è¯èƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7583948178858590254</link>    <guid>https://juejin.cn/post/7583948178858590254</guid>    <pubDate>2025-12-16T02:30:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583948178858590254" data-draft-id="7581872532362903561" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€RuoYi-SpringBoot3-Proã€‘ï¼šæ¥å…¥ AI å¯¹è¯èƒ½åŠ›"/> <meta itemprop="keywords" content="Spring Boot,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T02:30:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="undsky"/> <meta itemprop="url" content="https://juejin.cn/user/3368559354850206"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€RuoYi-SpringBoot3-Proã€‘ï¼šæ¥å…¥ AI å¯¹è¯èƒ½åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3368559354850206/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    undsky
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:30:30.000Z" title="Tue Dec 16 2025 02:30:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€RuoYi-SpringBoot3-Proã€‘ï¼šæ¥å…¥ AI å¯¹è¯èƒ½åŠ›</h2>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fundsky%2FRuoYi-SpringBoot3-Pro" target="_blank" title="https://github.com/undsky/RuoYi-SpringBoot3-Pro" ref="nofollow noopener noreferrer">RuoYi-SpringBoot3-Pro</a> æ¡†æ¶ä¸­å†…ç½®çš„ OpenAI å·¥å…·ç±»ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿé›†æˆ AI å¯¹è¯èƒ½åŠ›ã€‚</p>
<blockquote>
<p>GitHubï¼š<code>https://github.com/undsky/RuoYi-SpringBoot3-Pro</code></p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€æ¦‚è¿°</h3>
<p>RuoYi-SpringBoot3-Pro åŸºäºå®˜æ–¹ OpenAI Java SDK å°è£…äº†ä¸€å¥—å¼€ç®±å³ç”¨çš„ AI å·¥å…·ç±»ï¼Œæ”¯æŒåŒæ­¥å¯¹è¯ã€æµå¼å¯¹è¯ã€å¤šè§’è‰²æ¶ˆæ¯ã€ä»£ç†é…ç½®ç­‰ç‰¹æ€§ï¼Œå¹¶å…¼å®¹æ‰€æœ‰éµå¾ª OpenAI åè®®çš„ç¬¬ä¸‰æ–¹ APIã€‚</p>
<p>æ ¸å¿ƒç»„ä»¶ä½äº <code>ruoyi-common</code> æ¨¡å—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ruoyi-common/src/main/java/com/ruoyi/common/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ OpenAIConfig.java      <span class="hljs-comment"># é…ç½®ç±»</span>
â””â”€â”€ utils/ai/
    â”œâ”€â”€ OpenAI.java            <span class="hljs-comment"># æ ¸å¿ƒå·¥å…·ç±»</span>
    â”œâ”€â”€ AIMessage.java         <span class="hljs-comment"># æ¶ˆæ¯å®ä½“</span>
    â””â”€â”€ AIRole.java            <span class="hljs-comment"># è§’è‰²æšä¸¾</span>
</code></pre>
<h3 data-id="heading-2">äºŒã€å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-3">2.1 Maven ä¾èµ–</h4>
<p>æ¡†æ¶å·²å†…ç½® OpenAI SDK ä¾èµ–ï¼Œæ— éœ€é¢å¤–å¼•å…¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.openai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>openai-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.20.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2.2 é…ç½®æ–‡ä»¶</h4>
<p>åœ¨ <code>application.yml</code> ä¸­æ·»åŠ  OpenAI é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># OpenAIé…ç½®</span>
<span class="hljs-attr">openai:</span>
  <span class="hljs-comment"># APIå¯†é’¥</span>
  <span class="hljs-attr">api-key:</span> <span class="hljs-string">sk-xxx</span>
  <span class="hljs-comment"># åŸºç¡€URLï¼ˆæ”¯æŒè‡ªå®šä¹‰APIåœ°å€ï¼‰</span>
  <span class="hljs-attr">base-url:</span> <span class="hljs-string">https://api.openai.com/v1</span>
  <span class="hljs-comment"># é»˜è®¤æ¨¡å‹</span>
  <span class="hljs-attr">model:</span> <span class="hljs-string">gpt-4o</span>
  <span class="hljs-comment"># ä»£ç†é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-attr">proxy:</span>
    <span class="hljs-comment"># æ˜¯å¦å¯ç”¨ä»£ç†</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span>
    <span class="hljs-comment"># ä»£ç†ç±»å‹ (HTTP/SOCKS)</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">HTTP</span>
    <span class="hljs-comment"># ä»£ç†ä¸»æœº</span>
    <span class="hljs-attr">host:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
    <span class="hljs-comment"># ä»£ç†ç«¯å£</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">7890</span>
</code></pre>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>













































<table><thead><tr><th>é…ç½®é¡¹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>api-key</code></td><td>OpenAI API å¯†é’¥</td><td><code>sk-xxx</code></td></tr><tr><td><code>base-url</code></td><td>API åŸºç¡€åœ°å€ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹å…¼å®¹ API</td><td><code>https://api.openai.com/v1</code></td></tr><tr><td><code>model</code></td><td>é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹</td><td><code>gpt-4o</code>ã€<code>gpt-3.5-turbo</code></td></tr><tr><td><code>proxy.enabled</code></td><td>æ˜¯å¦å¯ç”¨ä»£ç†</td><td><code>true</code>/<code>false</code></td></tr><tr><td><code>proxy.type</code></td><td>ä»£ç†ç±»å‹</td><td><code>HTTP</code>/<code>SOCKS</code></td></tr><tr><td><code>proxy.host</code></td><td>ä»£ç†æœåŠ¡å™¨åœ°å€</td><td><code>127.0.0.1</code></td></tr><tr><td><code>proxy.port</code></td><td>ä»£ç†æœåŠ¡å™¨ç«¯å£</td><td><code>7890</code></td></tr></tbody></table>
<h3 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒ API</h3>
<h4 data-id="heading-6">3.1 è§’è‰²æšä¸¾ - AIRole</h4>
<p>æ”¯æŒ OpenAI Chat API çš„ä¸‰ç§æ ‡å‡†è§’è‰²ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AIRole</span> {
    USER(<span class="hljs-string">"user"</span>),           <span class="hljs-comment">// ç”¨æˆ·æ¶ˆæ¯</span>
    SYSTEM(<span class="hljs-string">"system"</span>),       <span class="hljs-comment">// ç³»ç»Ÿæç¤ºè¯</span>
    ASSISTANT(<span class="hljs-string">"assistant"</span>); <span class="hljs-comment">// AI åŠ©æ‰‹å›å¤</span>
}
</code></pre>
<h4 data-id="heading-7">3.2 æ¶ˆæ¯å®ä½“ - AIMessage</h4>
<p>å°è£…å¯¹è¯æ¶ˆæ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AIMessage</span> {
    <span class="hljs-keyword">private</span> AIRole role;    <span class="hljs-comment">// æ¶ˆæ¯è§’è‰²</span>
    <span class="hljs-keyword">private</span> String message; <span class="hljs-comment">// æ¶ˆæ¯å†…å®¹</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AIMessage</span><span class="hljs-params">(AIRole role, String message)</span> {
        <span class="hljs-built_in">this</span>.role = role;
        <span class="hljs-built_in">this</span>.message = message;
    }
}
</code></pre>
<h4 data-id="heading-8">3.3 å·¥å…·ç±» - OpenAI</h4>
<p>æä¾›ä¸‰ä¸ªæ ¸å¿ƒé™æ€æ–¹æ³•ï¼š</p>

























<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>chatClient()</code></td><td>åˆ›å»º OpenAI å®¢æˆ·ç«¯</td></tr><tr><td><code>chatParams()</code></td><td>æ„å»ºä¼šè¯å‚æ•°</td></tr><tr><td><code>chat()</code></td><td>åŒæ­¥å¯¹è¯</td></tr><tr><td><code>chatStream()</code></td><td>æµå¼å¯¹è¯ï¼ˆSSEï¼‰</td></tr></tbody></table>
<h3 data-id="heading-9">å››ã€ä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-10">4.1 åŒæ­¥å¯¹è¯</h4>
<p>é€‚ç”¨äºç®€å•çš„é—®ç­”åœºæ™¯ï¼Œç­‰å¾… AI å®Œæ•´å“åº”åè¿”å›ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.openai.client.OpenAIClient;
<span class="hljs-keyword">import</span> com.openai.models.chat.completions.ChatCompletionCreateParams;
<span class="hljs-keyword">import</span> com.ruoyi.common.config.OpenAIConfig;
<span class="hljs-keyword">import</span> com.ruoyi.common.utils.ai.*;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ChatExample</span> {
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">simpleChat</span><span class="hljs-params">(String userMessage)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºå®¢æˆ·ç«¯</span>
        <span class="hljs-type">OpenAIClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> OpenAI.chatClient(
            OpenAIConfig.getApiKey(),
            OpenAIConfig.getBaseUrl(),
            OpenAIConfig.getProxy() != <span class="hljs-literal">null</span> ? OpenAIConfig.getProxy().toJavaProxy() : <span class="hljs-literal">null</span>
        );
        
        <span class="hljs-comment">// 2. æ„å»ºæ¶ˆæ¯åˆ—è¡¨</span>
        List&lt;AIMessage&gt; messages = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        messages.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.SYSTEM, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚"</span>));
        messages.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.USER, userMessage));
        
        <span class="hljs-comment">// 3. æ„å»ºè¯·æ±‚å‚æ•°</span>
        <span class="hljs-type">ChatCompletionCreateParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> OpenAI.chatParams(
            OpenAIConfig.getModel(), 
            messages
        );
        
        <span class="hljs-comment">// 4. å‘èµ·åŒæ­¥è¯·æ±‚</span>
        <span class="hljs-keyword">return</span> OpenAI.chat(client, params);
    }
}
</code></pre>
<h4 data-id="heading-11">4.2 æµå¼å¯¹è¯ï¼ˆSSEï¼‰</h4>
<p>é€‚ç”¨äºéœ€è¦å®æ—¶å±•ç¤ºç”Ÿæˆå†…å®¹çš„åœºæ™¯ï¼Œå¦‚èŠå¤©ç•Œé¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/ai")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AIController</span> {
    
    <span class="hljs-meta">@PostMapping("/chat/stream")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;StreamingResponseBody&gt; <span class="hljs-title function_">streamChat</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> String userMessage)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºå®¢æˆ·ç«¯</span>
        <span class="hljs-type">OpenAIClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> OpenAI.chatClient(
            OpenAIConfig.getApiKey(),
            OpenAIConfig.getBaseUrl(),
            OpenAIConfig.getProxy() != <span class="hljs-literal">null</span> ? OpenAIConfig.getProxy().toJavaProxy() : <span class="hljs-literal">null</span>
        );
        
        <span class="hljs-comment">// 2. æ„å»ºæ¶ˆæ¯</span>
        List&lt;AIMessage&gt; messages = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        messages.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.SYSTEM, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚"</span>));
        messages.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.USER, userMessage));
        
        <span class="hljs-comment">// 3. æ„å»ºå‚æ•°</span>
        <span class="hljs-type">ChatCompletionCreateParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> OpenAI.chatParams(
            OpenAIConfig.getModel(), 
            messages
        );
        
        <span class="hljs-comment">// 4. æµå¼å“åº”</span>
        <span class="hljs-keyword">return</span> OpenAI.chatStream(client, params, <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>.StreamContentListener() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onContent</span><span class="hljs-params">(String content)</span> {
                <span class="hljs-comment">// æ¯æ”¶åˆ°ä¸€æ®µå¢é‡å†…å®¹æ—¶è°ƒç”¨</span>
                System.out.print(content);
            }
            
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">(String fullContent)</span> {
                <span class="hljs-comment">// å…¨éƒ¨å†…å®¹æµå¼ç»“æŸåè°ƒç”¨</span>
                System.out.println(<span class="hljs-string">"\nå®Œæ•´å“åº”ï¼š"</span> + fullContent);
            }
        });
    }
}
</code></pre>
<h4 data-id="heading-12">4.3 å¤šè½®å¯¹è¯</h4>
<p>ç»´æŠ¤å¯¹è¯å†å²å®ç°ä¸Šä¸‹æ–‡è¿ç»­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTurnChat</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;AIMessage&gt; conversationHistory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OpenAIClient client;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiTurnChat</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.client = OpenAI.chatClient(
            OpenAIConfig.getApiKey(),
            OpenAIConfig.getBaseUrl(),
            OpenAIConfig.getProxy() != <span class="hljs-literal">null</span> ? OpenAIConfig.getProxy().toJavaProxy() : <span class="hljs-literal">null</span>
        );
        <span class="hljs-comment">// è®¾ç½®ç³»ç»Ÿæç¤ºè¯</span>
        conversationHistory.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.SYSTEM, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æŠ€æœ¯é¡¾é—®ã€‚"</span>));
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">chat</span><span class="hljs-params">(String userMessage)</span> {
        <span class="hljs-comment">// æ·»åŠ ç”¨æˆ·æ¶ˆæ¯</span>
        conversationHistory.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.USER, userMessage));
        
        <span class="hljs-comment">// æ„å»ºå‚æ•°å¹¶è¯·æ±‚</span>
        <span class="hljs-type">ChatCompletionCreateParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> OpenAI.chatParams(
            OpenAIConfig.getModel(), 
            conversationHistory
        );
        <span class="hljs-type">String</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> OpenAI.chat(client, params);
        
        <span class="hljs-comment">// ä¿å­˜ AI å›å¤åˆ°å†å²</span>
        conversationHistory.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(AIRole.ASSISTANT, response));
        
        <span class="hljs-keyword">return</span> response;
    }
}
</code></pre>
<h4 data-id="heading-13">4.4 ä½¿ç”¨ä»£ç†</h4>
<p>åœ¨ç½‘ç»œå—é™ç¯å¢ƒä¸‹é…ç½®ä»£ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.net.InetSocketAddress;
<span class="hljs-keyword">import</span> java.net.Proxy;

<span class="hljs-comment">// æ–¹å¼ä¸€ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„ä»£ç†</span>
<span class="hljs-type">OpenAIClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> OpenAI.chatClient(
    OpenAIConfig.getApiKey(),
    OpenAIConfig.getBaseUrl(),
    OpenAIConfig.getProxy().toJavaProxy()
);

<span class="hljs-comment">// æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»ºä»£ç†</span>
<span class="hljs-type">Proxy</span> <span class="hljs-variable">httpProxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(
    Proxy.Type.HTTP, 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">7890</span>)
);

<span class="hljs-type">Proxy</span> <span class="hljs-variable">socksProxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(
    Proxy.Type.SOCKS, 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">1080</span>)
);

<span class="hljs-type">OpenAIClient</span> <span class="hljs-variable">clientWithProxy</span> <span class="hljs-operator">=</span> OpenAI.chatClient(
    <span class="hljs-string">"sk-xxx"</span>,
    <span class="hljs-string">"https://api.openai.com/v1"</span>,
    httpProxy
);
</code></pre>
<h3 data-id="heading-14">äº”ã€å…¼å®¹ç¬¬ä¸‰æ–¹ API</h3>
<p>æ¡†æ¶æ”¯æŒæ‰€æœ‰å…¼å®¹ OpenAI åè®®çš„ç¬¬ä¸‰æ–¹ APIï¼Œåªéœ€ä¿®æ”¹ <code>base-url</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">openai:</span>
  <span class="hljs-attr">api-key:</span> <span class="hljs-string">your-api-key</span>
  <span class="hljs-comment"># ä½¿ç”¨ç¬¬ä¸‰æ–¹ API</span>
  <span class="hljs-attr">base-url:</span> <span class="hljs-string">https://your-custom-api.com/v1</span>
  <span class="hljs-attr">model:</span> <span class="hljs-string">your-model-name</span>
</code></pre>
<p>å¸¸è§å…¼å®¹ API ç¤ºä¾‹ï¼š</p>

























<table><thead><tr><th>æœåŠ¡å•†</th><th>base-url ç¤ºä¾‹</th></tr></thead><tbody><tr><td>Azure OpenAI</td><td><code>https://{resource}.openai.azure.com/openai/deployments/{deployment}</code></td></tr><tr><td>æ™ºè°± AI</td><td><code>https://open.bigmodel.cn/api/paas/v4</code></td></tr><tr><td>æœˆä¹‹æš—é¢</td><td><code>https://api.moonshot.cn/v1</code></td></tr><tr><td>DeepSeek</td><td><code>https://api.deepseek.com/v1</code></td></tr></tbody></table>
<h3 data-id="heading-15">å…­ã€å‰ç«¯é›†æˆ</h3>
<h4 data-id="heading-16">6.1 æ¥æ”¶æµå¼å“åº”</h4>
<p>å‰ç«¯ä½¿ç”¨ <code>fetch</code> API å¤„ç† SSE æµå¼å“åº”ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">streamChat</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/ai/chat/stream'</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ message })
    });
    
    <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
    <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();
    
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
        <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
        
        <span class="hljs-keyword">const</span> text = decoder.<span class="hljs-title function_">decode</span>(value);
        <span class="hljs-keyword">if</span> (text === <span class="hljs-string">'[DONE]'</span>) <span class="hljs-keyword">break</span>;
        
        <span class="hljs-comment">// å®æ—¶æ˜¾ç¤ºå†…å®¹</span>
        <span class="hljs-title function_">appendToChat</span>(text);
    }
}
</code></pre>
<h4 data-id="heading-17">6.2 Vue 3 ç»„ä»¶ç¤ºä¾‹</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="chat-container"&gt;
    &lt;div class="messages" ref="messagesRef"&gt;
      &lt;div v-for="msg in messages" :key="msg.id" :class="['message', msg.role]"&gt;
        {{ msg.content }}
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="input-area"&gt;
      &lt;input v-model="input" @keyup.enter="sendMessage" placeholder="è¾“å…¥æ¶ˆæ¯..." /&gt;
      &lt;button @click="sendMessage" :disabled="loading"&gt;å‘é€&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const messages = ref([])
const input = ref('')
const loading = ref(false)

async function sendMessage() {
    if (!input.value.trim() || loading.value) return
    
    const userMessage = input.value
    messages.value.push({ id: Date.now(), role: 'user', content: userMessage })
    input.value = ''
    loading.value = true
    
    // æ·»åŠ  AI æ¶ˆæ¯å ä½
    const aiMessage = { id: Date.now() + 1, role: 'assistant', content: '' }
    messages.value.push(aiMessage)
    
    try {
        const response = await fetch('/api/ai/chat/stream', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: userMessage })
        })
        
        const reader = response.body.getReader()
        const decoder = new TextDecoder()
        
        while (true) {
            const { done, value } = await reader.read()
            if (done) break
            
            const text = decoder.decode(value)
            if (text === '[DONE]') break
            
            aiMessage.content += text
        }
    } finally {
        loading.value = false
    }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-18">ä¸ƒã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19">7.1 é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">safeChatWithRetry</span><span class="hljs-params">(String message, <span class="hljs-type">int</span> maxRetries)</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; maxRetries; i++) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> simpleChat(message);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (i == maxRetries - <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"AI æœåŠ¡è°ƒç”¨å¤±è´¥: "</span> + e.getMessage(), e);
            }
            <span class="hljs-comment">// ç­‰å¾…åé‡è¯•</span>
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">1000</span> * (i + <span class="hljs-number">1</span>));
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {
                Thread.currentThread().interrupt();
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h4 data-id="heading-20">7.2 Token æ§åˆ¶</h4>
<p>åˆç†æ§åˆ¶å¯¹è¯å†å²é•¿åº¦ï¼Œé¿å…è¶…å‡ºæ¨¡å‹ Token é™åˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">trimConversationHistory</span><span class="hljs-params">(<span class="hljs-type">int</span> maxMessages)</span> {
    <span class="hljs-keyword">if</span> (conversationHistory.size() &gt; maxMessages) {
        <span class="hljs-comment">// ä¿ç•™ç³»ç»Ÿæç¤ºè¯å’Œæœ€è¿‘çš„æ¶ˆæ¯</span>
        <span class="hljs-type">AIMessage</span> <span class="hljs-variable">systemMessage</span> <span class="hljs-operator">=</span> conversationHistory.get(<span class="hljs-number">0</span>);
        List&lt;AIMessage&gt; recentMessages = conversationHistory.subList(
            conversationHistory.size() - maxMessages + <span class="hljs-number">1</span>, 
            conversationHistory.size()
        );
        conversationHistory.clear();
        conversationHistory.add(systemMessage);
        conversationHistory.addAll(recentMessages);
    }
}
</code></pre>
<h4 data-id="heading-21">7.3 æ•æ„Ÿä¿¡æ¯ä¿æŠ¤</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸è¦åœ¨æ—¥å¿—ä¸­æ‰“å°å®Œæ•´çš„ API Key</span>
<span class="hljs-type">String</span> <span class="hljs-variable">maskedKey</span> <span class="hljs-operator">=</span> apiKey.substring(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) + <span class="hljs-string">"..."</span> + apiKey.substring(apiKey.length() - <span class="hljs-number">4</span>);
log.info(<span class="hljs-string">"Using API Key: {}"</span>, maskedKey);
</code></pre>
<h3 data-id="heading-22">å…«ã€æ€»ç»“</h3>
<p>RuoYi-SpringBoot3-Pro çš„ AI èƒ½åŠ›é›†æˆæ¨¡å—å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šåŸºäºå®˜æ–¹ SDK å°è£…ï¼Œé…ç½®ç®€å•</li>
<li><strong>åŠŸèƒ½å®Œæ•´</strong>ï¼šæ”¯æŒåŒæ­¥/æµå¼å¯¹è¯ã€å¤šè§’è‰²ã€ä»£ç†é…ç½®</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šå…¼å®¹æ‰€æœ‰ OpenAI åè®®çš„ç¬¬ä¸‰æ–¹ API</li>
<li><strong>æ˜“äºé›†æˆ</strong>ï¼šæä¾›å®Œæ•´çš„å·¥å…·ç±»å’Œç¤ºä¾‹ä»£ç </li>
</ul>
<hr/>
<ul>
<li>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fundsky%2FRuoYi-SpringBoot3-Pro" target="_blank" title="https://github.com/undsky/RuoYi-SpringBoot3-Pro" ref="nofollow noopener noreferrer">RuoYi-SpringBoot3-Pro</a></li>
<li>å¼€å‘æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.undsky.com%2Fblog%2F%3Fcategory%3DRuoYi-SpringBoot3-Pro%23" target="_blank" title="https://www.undsky.com/blog/?category=RuoYi-SpringBoot3-Pro#" ref="nofollow noopener noreferrer">RuoYi-SpringBoot3-Pro æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€å§‹ä½¿ç”¨ Elastic Agent Builder å’Œ Strands Agents SDK]]></title>    <link>https://juejin.cn/post/7583984122235011114</link>    <guid>https://juejin.cn/post/7583984122235011114</guid>    <pubDate>2025-12-16T02:36:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583984122235011114" data-draft-id="7583984122234994730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€å§‹ä½¿ç”¨ Elastic Agent Builder å’Œ Strands Agents SDK"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-16T02:36:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€å§‹ä½¿ç”¨ Elastic Agent Builder å’Œ Strands Agents SDK
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:36:28.000Z" title="Tue Dec 16 2025 02:36:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Fjonathan-simon" title="https://www.elastic.co/search-labs/author/jonathan-simon" target="_blank" ref="nofollow noopener noreferrer">Jonathan Simon</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11ba9b4e53644aa39a1a352d8f776e87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=J5Yp2xy6fJT60smGnPDVr7BXiD0%3D" alt="" loading="lazy"/></p>
<p>å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Elastic Agent Builder åˆ›å»ºä¸€ä¸ª agentï¼Œç„¶åæ¢ç´¢å¦‚ä½•é€šè¿‡ A2A åè®®ï¼Œåœ¨ Strands Agents SDK çš„ç¼–æ’ä¸‹ä½¿ç”¨è¯¥ agentã€‚</p>
<p>Elasticsearch ä¸è¡Œä¸šé¢†å…ˆçš„ Gen AI å·¥å…·å’Œæä¾›å•†æœ‰åŸç”Ÿé›†æˆã€‚æŸ¥çœ‹æˆ‘ä»¬çš„ç½‘ç»œç ”è®¨ä¼šï¼Œäº†è§£å¦‚ä½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fvirtual-events%2Fbeyond-rag-basics" title="https://www.elastic.co/virtual-events/beyond-rag-basics" target="_blank" ref="nofollow noopener noreferrer">è¶…è¶Š RAG åŸºç¡€</a>ï¼Œæˆ–ä½¿ç”¨ Elastic vector database <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fvirtual-events%2Fvector-databases-fast-track-production" title="https://www.elastic.co/virtual-events/vector-databases-fast-track-production" target="_blank" ref="nofollow noopener noreferrer">æ„å»º prod-ready åº”ç”¨</a>ã€‚</p>
<p>ä¸ºäº†ä¸ºä½ çš„ä½¿ç”¨åœºæ™¯æ„å»ºæœ€ä½³çš„æœç´¢è§£å†³æ–¹æ¡ˆï¼Œç°åœ¨å°±å¼€å§‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.elastic.co%2Fregistration" title="https://cloud.elastic.co/registration" target="_blank" ref="nofollow noopener noreferrer">å…è´¹çš„ cloud è¯•ç”¨</a>ï¼Œæˆ–åœ¨ä½ çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143747798" title="https://elasticstack.blog.csdn.net/article/details/143747798" target="_blank" ref="nofollow noopener noreferrer">æœ¬åœ°æœºå™¨</a>ä¸Šè¯•ç”¨ Elasticã€‚</p>
<p>æœ‰ä¸€ä¸ª AI agent çš„æƒ³æ³•å—ï¼Ÿå®ƒå¾ˆå¯èƒ½æ¶‰åŠå¯¹æ•°æ®åšä¸€äº›äº‹æƒ…ï¼Œå› ä¸ºå¦‚æœä¸€ä¸ª agent è¦å‘èµ·æœ‰ç”¨çš„æ“ä½œï¼Œå®ƒéœ€è¦åšå‡ºå†³ç­–ï¼Œè€Œå®ƒéœ€è¦æ­£ç¡®çš„æ•°æ®æ¥åšå‡ºæ­£ç¡®çš„å†³ç­–ã€‚</p>
<p>Elastic Agent Builder è®©æ„å»ºä¸æ•°æ®è¿æ¥çš„ AI agent å˜å¾—ç®€å•ã€‚æˆ‘ä»¬å°†åœ¨è¿™ç¯‡åšå®¢ä¸­å‘ä½ å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚è®©æˆ‘ä»¬ä¸€èµ·èµ°è¿‡ä½¿ç”¨ä¸€ä¸ªè®¿é—®å­˜å‚¨åœ¨ Elastic ä¸­çš„æ•°æ®çš„ MCP å·¥å…·æ¥åˆ›å»ºä¸€ä¸ª agent æ‰€éœ€çš„æ‰€æœ‰æ­¥éª¤ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Strands Agents SDK åŠå…¶ Agent2Agent ( A2A ) åŠŸèƒ½æ¥è¿è¡Œè¯¥ agentã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fstrandsagents.com%2F" title="https://strandsagents.com/" target="_blank" ref="nofollow noopener noreferrer">Strands Agents SDK</a>æ˜¯ä¸€ä¸ªå¤š agent çš„ AI å¼€å‘å¹³å°ï¼Œä½ å¯ä»¥ç”¨å®ƒä»¥è¶³å¤Ÿå°‘çš„ä»£ç æ¥æ„å»º agentic åº”ç”¨ï¼Œä»è€Œç¡®ä¿ä½ è·å¾—æƒ³è¦çš„ç»“æœã€‚</p>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ª AI agent æ¥ç© RPS+ æ¸¸æˆï¼Œè¿™æ˜¯ç»å…¸çš„ Rock Paper Scissors æ¸¸æˆçš„ä¸€ä¸ªå˜ä½“ï¼Œå¢åŠ äº†ä¸€ç‚¹å˜åŒ–ï¼›å®ƒä¸ºæ¸¸æˆç©å®¶æä¾›äº†å‡ ä¸ªé¢å¤–çš„é€‰æ‹©ã€‚</p>
<p>æ›´å¤šé˜…è¯»ï¼š</p>
<ul>
<li>Elastic AI agent builder ä»‹ç»ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F152212513" title="https://elasticstack.blog.csdn.net/article/details/152212513" target="_blank" ref="nofollow noopener noreferrer">ä¸€</a>ï¼‰ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F153689733" title="https://elasticstack.blog.csdn.net/article/details/153689733" target="_blank" ref="nofollow noopener noreferrer">äºŒ</a>ï¼‰ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F154293247" title="https://elasticstack.blog.csdn.net/article/details/154293247" target="_blank" ref="nofollow noopener noreferrer">ä¸‰</a>ï¼‰ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F155194636" title="https://elasticstack.blog.csdn.net/article/details/155194636" target="_blank" ref="nofollow noopener noreferrer">å››</a>ï¼‰ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F155241617" title="https://elasticstack.blog.csdn.net/article/details/155241617" target="_blank" ref="nofollow noopener noreferrer">äº”</a>ï¼‰</li>
</ul>
<h2 data-id="heading-0">å…ˆå†³æ¡ä»¶</h2>
<p>ä»¥ä¸‹æ˜¯æŒ‰ç…§æœ¬åšæ–‡æ­¥éª¤æ‰€éœ€çš„æ¡ä»¶ï¼š</p>
<ul>
<li>åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œçš„æ–‡æœ¬ç¼–è¾‘å™¨
<ul>
<li>æœ¬åšæ–‡ç¤ºä¾‹è¯´æ˜ä¸­ä½¿ç”¨çš„æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fdownload" title="https://code.visualstudio.com/download" target="_blank" ref="nofollow noopener noreferrer">Visual Studio Code</a></li>
</ul>
</li>
<li>åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2F" title="https://www.python.org/downloads/" target="_blank" ref="nofollow noopener noreferrer">Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬</a></li>
</ul>
<h2 data-id="heading-1">åˆ›å»ºæ— æœåŠ¡å™¨é¡¹ç›®</h2>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ª Elasticsearch <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fcloud%2Fserverless" title="https://www.elastic.co/cloud/serverless" target="_blank" ref="nofollow noopener noreferrer">æ— æœåŠ¡å™¨</a>é¡¹ç›®ï¼Œå…¶ä¸­åŒ…æ‹¬ Elastic Agent Builderã€‚</p>
<p>è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Fcloud.elastic.co%2F" title="http://cloud.elastic.co/" target="_blank" ref="nofollow noopener noreferrer">cloud.elastic.co</a> å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ Elasticsearch æ— æœåŠ¡å™¨é¡¹ç›®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1530465ae69d4ee4a9784d33e52210af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=RwR%2Bs6C9NGyi0URBRUmxFqoSXJM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">åˆ›å»ºç´¢å¼•å¹¶æ·»åŠ æ•°æ®</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨ Elasticsearch é¡¹ç›®ä¸­æ·»åŠ ä¸€äº›æ•°æ®ã€‚æ‰“å¼€ Developer Toolsï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿è¡Œå‘½ä»¤æ¥åˆ›å»ºæ–°ç´¢å¼•å¹¶å‘å…¶ä¸­æ’å…¥æ•°æ®ã€‚ä»é¡¶å±‚å¯¼èˆªèœå•ä¸­é€‰æ‹© Developer Toolsã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1619ab5733c240c5a046f100c616529d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=uiyBCyZgLL%2FNDEP9WyABgvWY1Ko%3D" alt="" loading="lazy"/></p>
<p>å°†ä»¥ä¸‹ PUT å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ° Developer Tools æ§åˆ¶å°çš„è¯·æ±‚è¾“å…¥åŒºåŸŸã€‚æ­¤è¯­å¥ä¼šåˆ›å»ºä¸€ä¸ªåä¸º â€œgame-docsâ€ çš„ Elasticsearch ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  PUT /game-docs
2.  {
3.    <span class="hljs-string">"mappings"</span>: {
4.      <span class="hljs-string">"properties"</span>: {
5.        <span class="hljs-string">"title"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span> },
6.        <span class="hljs-string">"content"</span>: { 
7.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>
8.        },
9.        <span class="hljs-string">"filename"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"keyword"</span> },
10.        <span class="hljs-string">"last_modified"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"date"</span> }
11.      }
12.    }
13.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>ç‚¹å‡» Developer Tools ä¸­è¯­å¥å³ä¾§å‡ºç°çš„ Send request æŒ‰é’®ã€‚ä½ åº”è¯¥ä¼šåœ¨ Developer Tools çš„å“åº”åŒºåŸŸçœ‹åˆ°ä¸€æ¡é€šçŸ¥ï¼Œç¡®è®¤ game-docs ç´¢å¼•å·²åˆ›å»ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92502a7d1e9f450483a7ade805b5a39b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=3JWYVZOuzX0Q%2FD4g8RjHkk2d6jw%3D" alt="" loading="lazy"/></p>
<p>åä¸º game-docs çš„ç´¢å¼•æ˜¯å­˜å‚¨æˆ‘ä»¬æ­£åœ¨åˆ¶ä½œçš„æ¸¸æˆæ•°æ®çš„ç†æƒ³ä½ç½®ã€‚è®©æˆ‘ä»¬åœ¨è¯¥ç´¢å¼•ä¸­æ”¾å…¥ä¸€ä¸ªåä¸º rps+-md çš„æ–‡æ¡£ï¼Œå…¶ä¸­åŒ…å«æ¸¸æˆæ‰€éœ€çš„æ‰€æœ‰æ•°æ®ã€‚å°†ä»¥ä¸‹ PUT å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ° Developer Tools æ§åˆ¶å°ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  PUT /game-docs/_doc/rps+-md
2.  {
3.    <span class="hljs-string">"title"</span>: <span class="hljs-string">"Rock Paper Scissors +"</span>,
4.    <span class="hljs-string">"content"</span>: <span class="hljs-string">"
5.  # Game Name
6.  RPS+

8.  # Starting Prompt
9.  Let's play RPS+ !
10.  ---
11.  What do you choose?

13.  # Game Objects
14.  1. Rock ğŸª¨ ğŸ‘Š
15.  2. Paper ğŸ“œ ğŸ–
16.  3. Scissors âœ„ âœŒï¸
17.  4. Light â˜¼ ğŸ‘
18.  5. Dark Energy â˜„ ğŸ«±

20.  # Judgement of Victory
21.  * Rock beats Scissors
22.    * because rocks break scissors
23.  * Paper beats Rock
24.    * because paper covers rock
25.  * Scissors beat Paper
26.    * because scissors cut paper
27.  * Rock beats Light
28.    * because you can build a rock structure to block out light
29.  * Paper beats Light
30.    * because knowledge stored in files and paper books helps us understand light
31.  * Light beats Dark Energy
32.    * because light enables humans to lighten up and laugh in the face of dark energy as it causes the eventual heat death of the universe
33.  * Light beats Scissors
34.    * because light is needed to use scissors safely
35.  * Dark Energy beats Rock
36.    * because dark energy rocks more than rocks. It rocks rocks and everything else in its expansion of the universe
37.  * Dark Energy beats Paper
38.    * because humans, with their knowledge stored in files and paper books, can't explain dark energy 
39.  * Scissors beat Dark Energy
40.    * because a human running with scissors is darker than dark energy

42.  # Invalid Input
43.  I was hoping for an worthy opponent
44.    - but alas it appears that time has past
45.    - but alas there's little time for your todo list when [todo:fix this] is so vast

47.  # Cancel Game
48.  The future belongs to the bold. Goodbye..
49.  "</span>,
50.    <span class="hljs-string">"filename"</span>: <span class="hljs-string">"RPS+.md"</span>,
51.    <span class="hljs-string">"last_modified"</span>: <span class="hljs-string">"2025-11-25T12:00:00Z"</span>
52.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)æ”¶èµ·ä»£ç å—![](https://csdnimg.cn/release/blogv2/dist/pc/img/arrowup-line-top-White.png)
</code></pre>
<p>ç‚¹å‡»è¯­å¥æ—çš„ <strong>Send request</strong> æŒ‰é’®è¿è¡Œå®ƒï¼Œå°† rps+-md æ–‡æ¡£æ·»åŠ åˆ° game-docs ç´¢å¼•ä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/239a57e3648f42c18be567212452e945~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=GPF45u2ALQpgLsR4mPT4khqxZZU%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨æˆ‘ä»¬åº”è¯¥æœ‰ä¸€äº›å¯ä»¥æŸ¥è¯¢çš„æ•°æ®äº†ï¼Œä½¿ç”¨ Agent Builderï¼Œè¿™æ¯”ä»¥å¾€æ›´ç®€å•ã€‚</p>
<p>ä»é¡¶å±‚å¯¼èˆªèœå•ä¸­é€‰æ‹© <strong>Agents</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c751d7cb5d8472e9fcf83ac00a9c416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=xWh8itjql%2BcfCCiKfLQ3I4OuC6U%3D" alt="" loading="lazy"/></p>
<p>ç„¶åä½ åªéœ€é—®é»˜è®¤çš„ Elastic AI Agentï¼šâ€œæˆ‘æœ‰ä»€ä¹ˆæ•°æ®ï¼Ÿâ€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff6f67aab5004cba90d63cdc52a0c314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=3Ekzda%2FVZOa6%2BSeBBg64Wcd7hwQ%3D" alt="" loading="lazy"/></p>
<p>Elastic AI Agent ä¼šè¯„ä¼°æ•°æ®å¹¶è¿”å›æˆ‘ä»¬æ‹¥æœ‰çš„æ•°æ®çš„ç®€æ˜è¯´æ˜ã€‚</p>
<h2 data-id="heading-3">åˆ›å»ºå·¥å…·</h2>
<p>å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨åœ¨ Elastic ä¸­å·²æœ‰ä¸€äº›æ•°æ®ï¼Œè®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨å®ƒã€‚Agent Builder å†…ç½®æ”¯æŒåˆ›å»º <a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" title="https://modelcontextprotocol.io/" target="_blank" ref="nofollow noopener noreferrer">MCP</a> å·¥å…·ï¼Œå¸®åŠ© agent è®¿é—®æ‰€éœ€æ•°æ®ï¼Œä»è€Œè·å¾—ä»»åŠ¡çš„æ­£ç¡®ä¸Šä¸‹æ–‡ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥å…·æ¥æ£€ç´¢æˆ‘ä»¬çš„æ¸¸æˆæ•°æ®ã€‚</p>
<p>ç‚¹å‡» Agent Builder çš„ actions èœå•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/830e19bd82774d9692ec0bf090535c78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=Up5Zavq2YWGzMnBlQrU2%2Bbe5Oys%3D" alt="" loading="lazy"/></p>
<p>ä»èœå•é€‰é¡¹ä¸­é€‰æ‹© View all toolsã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8fbf09048bc4bb4a07ed58cd84ac333~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=la8xAVDmQE4GLk4ENTuk%2FlFMQAM%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» + New Toolã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b67c51ec4e734d9eb21a87c65c0fd1b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=ApI8o7d8PcOSyUeOyvEav0tg%2F5c%3D" alt="" loading="lazy"/></p>
<p>åœ¨ Create Tool è¡¨å•ä¸­ï¼Œé€‰æ‹© <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Fquery-filter%2Flanguages%2Fesql" title="https://www.elastic.co/docs/explore-analyze/query-filter/languages/esql" target="_blank" ref="nofollow noopener noreferrer">ES|QL</a> ä½œä¸ºå·¥å…· typeï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å€¼ã€‚</p>
<p><strong>Tool ID</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`example.get_game_docs`</span>AIå†™ä»£ç 
</code></pre>
<p><strong>Description</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`<span class="hljs-keyword">Get</span> RPS<span class="hljs-operator">+</span> doc <span class="hljs-keyword">from</span> Elasticsearch game<span class="hljs-operator">-</span>docs index.`AIå†™ä»£ç 
</code></pre>
<p><strong>Configuration</strong>ï¼šåœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Fquery-filter%2Flanguages%2Fesql" title="https://www.elastic.co/docs/explore-analyze/query-filter/languages/esql" target="_blank" ref="nofollow noopener noreferrer">ES|QL</a> Query æ–‡æœ¬åŒºåŸŸä¸­è¾“å…¥ä»¥ä¸‹æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">`FROM game-docs | WHERE <span class="hljs-attr">filename</span> == <span class="hljs-string">"RPS+.md"</span>`AIå†™ä»£ç 
</code></pre>
<p>å®Œæ•´å¡«å†™çš„ Create tool è¡¨å•åº”å¦‚ä¸‹æ‰€ç¤ºã€‚ç‚¹å‡» Save åˆ›å»ºå·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bdc0ab4e55f414a8f4459423f2bfeb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=AJiVBJuY3l52CrRx%2BXm5UTO7PWs%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨å·¥å…·æ¶ä¸Šæœ‰äº†ä¸€ä¸ªæ–°å·¥å…·ã€‚å·¥å…·ä¸åº”è¯¥åªæ˜¯ä¸€ç›´æŒ‚åœ¨æ¶å­ä¸Šï¼Œå®ƒä»¬åº”è¯¥è¢«å……åˆ†åˆ©ç”¨ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯ä»¥ä½¿ç”¨æˆ‘ä»¬æ–°è‡ªå®šä¹‰å·¥å…·çš„ agentã€‚</p>
<h2 data-id="heading-4">åˆ›å»º Agent å¹¶åˆ†é…å·¥å…·</h2>
<p>ä½¿ç”¨ Agent Builder åˆ›å»º agent éå¸¸ç®€å•ã€‚ä½ åªéœ€è¾“å…¥ agent æŒ‡ä»¤å’Œä¸€äº›ç»†èŠ‚ï¼Œå°±å®Œæˆäº†ã€‚ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª agentã€‚</p>
<p>ç‚¹å‡» Manage agentsã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b66c564303ec4c90ac022183b97ac0aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=ZCL4HhXTS%2F%2B3Ynzesm%2BeYY1mYbY%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» + New agentã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca458ff4c5be4ec5855f184dd718dc73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=4iJpFWQhQP4xUCfpiIYP2C9xRhE%3D" alt="" loading="lazy"/></p>
<p>åœ¨ New Agent è¡¨å•ä¸­è¾“å…¥ä»¥ä¸‹ä¿¡æ¯ã€‚</p>
<p>Agent IDï¼šè¾“å…¥ä»¥ä¸‹æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`rps_plus_agent`</span>AIå†™ä»£ç 
</code></pre>
<p>åœ¨ Custom Instructions æ–‡æœ¬åŒºåŸŸä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">`

<span class="hljs-number">1</span>.  <span class="hljs-keyword">When</span> prompted, <span class="hljs-keyword">if</span> the prompt contains an <span class="hljs-type">integer</span>, <span class="hljs-keyword">then</span> <span class="hljs-keyword">select</span> the corresponding numbered item <span class="hljs-keyword">in</span> the list <span class="hljs-keyword">of</span> <span class="hljs-string">"Game Objects"</span> <span class="hljs-keyword">from</span> your documents. Otherwise <span class="hljs-keyword">select</span> a random game <span class="hljs-type">object</span>. This <span class="hljs-built_in">is</span> your chosen game <span class="hljs-type">object</span> <span class="hljs-keyword">for</span> a <span class="hljs-type">single</span> round <span class="hljs-keyword">of</span> the game.

<span class="hljs-number">3</span>.  # General Game Rules
<span class="hljs-number">4</span>.  * <span class="hljs-number">2</span> players
<span class="hljs-number">5</span>.      - the user: the person playing the game
<span class="hljs-number">6</span>.      - you: the agent playing the game <span class="hljs-built_in">and</span> serving <span class="hljs-keyword">as</span> the game master
<span class="hljs-number">7</span>.  * <span class="hljs-keyword">Each</span> player chooses a game <span class="hljs-type">object</span> which will be compared <span class="hljs-built_in">and</span> cause them <span class="hljs-keyword">to</span> tie, win <span class="hljs-built_in">or</span> lose.

<span class="hljs-number">9</span>.  # Start the game
<span class="hljs-number">10</span>.  <span class="hljs-number">1</span>. This <span class="hljs-built_in">is</span> the way <span class="hljs-keyword">each</span> <span class="hljs-built_in">new</span> game always starts. You make the first line <span class="hljs-keyword">of</span> your response only the name <span class="hljs-keyword">of</span> your chosen game <span class="hljs-type">object</span>. 

<span class="hljs-number">12</span>.  <span class="hljs-number">2</span>. The remainder <span class="hljs-keyword">of</span> your response should be the <span class="hljs-string">"Starting Prompt"</span> <span class="hljs-keyword">text</span> <span class="hljs-keyword">from</span> your documents <span class="hljs-built_in">and</span> generate a list <span class="hljs-keyword">of</span> <span class="hljs-string">"Game Objects"</span> <span class="hljs-keyword">for</span> the person playing the game <span class="hljs-keyword">to</span> choose a game <span class="hljs-type">object</span> <span class="hljs-keyword">from</span>.  

<span class="hljs-number">14</span>.  # <span class="hljs-keyword">End</span> <span class="hljs-keyword">of</span> Game: The game ends <span class="hljs-keyword">in</span> one <span class="hljs-keyword">of</span> the following three outcomes:
<span class="hljs-number">15</span>.  <span class="hljs-number">1</span>. Invalid Input: <span class="hljs-keyword">If</span> the player responds <span class="hljs-keyword">with</span> an invalid game <span class="hljs-type">object</span> choice, respond <span class="hljs-keyword">with</span> variations <span class="hljs-keyword">of</span> the <span class="hljs-string">"Invalid Input"</span> <span class="hljs-keyword">text</span> <span class="hljs-keyword">from</span> your documents <span class="hljs-built_in">and</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">end</span> the game.

<span class="hljs-number">17</span>.  <span class="hljs-number">2</span>. Tie: The game ends <span class="hljs-keyword">in</span> a tie <span class="hljs-keyword">if</span> the user chooses the same game <span class="hljs-type">object</span> <span class="hljs-keyword">as</span> your game <span class="hljs-type">object</span> choice.

<span class="hljs-number">19</span>.  <span class="hljs-number">3</span>. Win <span class="hljs-built_in">or</span> Lose: The game winner <span class="hljs-built_in">is</span> decided based <span class="hljs-keyword">on</span> the <span class="hljs-string">"Judgement of Victory"</span> conditions <span class="hljs-keyword">from</span> your documents. <span class="hljs-keyword">Compare</span> the user<span class="hljs-comment">'s game object choice and your game object choice and determine who chose the winning game object.</span>

<span class="hljs-number">21</span>.  # Game conclusion
<span class="hljs-number">22</span>.  Respond <span class="hljs-keyword">with</span> a declaration <span class="hljs-keyword">of</span> the winner <span class="hljs-keyword">of</span> the game <span class="hljs-keyword">by</span> outputting the corresponding <span class="hljs-keyword">text</span> <span class="hljs-keyword">in</span> the <span class="hljs-string">"Judgement of Victory"</span> section <span class="hljs-keyword">of</span> your documents.

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><strong>Display name</strong>ï¼šè¾“å…¥ä»¥ä¸‹æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`RPS+ Agent`</span>AIå†™ä»£ç 
</code></pre>
<p><strong>Display description</strong>ï¼šè¾“å…¥ä»¥ä¸‹æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`An agent that plays the game RPS+`</span>AIå†™ä»£ç 
</code></pre>
<p>é€šè¿‡ç‚¹å‡» Tools é€‰é¡¹å¡ï¼Œå°†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„è‡ªå®šä¹‰å·¥å…·åˆ†é…ç»™è¯¥ agentã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b994b761ccf452192124e850fbf4b2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=028ZK%2Bhg4VEo1D0EljqddZA6heM%3D" alt="" loading="lazy"/></p>
<p>åªé€‰æ‹©æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ example.get_game_docs å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b047ee445e5455e98e470fd1b3a3713~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=jlZK37C9rrz0M8NulOUlXQ5Z%2BfQ%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» Save åˆ›å»ºæ–° agentã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55aec75b2d4e46d09541774bf5be8036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=Bmu8QmOHChvYW%2BrnhPGio6h1o90%3D" alt="" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æ–° agentã€‚ä» agent åˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„é“¾æ¥ï¼Œå¯ä»¥å¯åŠ¨ä¸ä»»æ„ agent çš„èŠå¤©ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33d63324613a469485624979018c6919~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=R435zc%2BKmfG8qiucWOacWe5qdq4%3D" alt="" loading="lazy"/></p>
<p>åªéœ€è¾“å…¥ â€œstart gameâ€ï¼Œæ¸¸æˆå°±ä¼šå¼€å§‹ã€‚å®ƒå¯ä»¥æ­£å¸¸è¿è¡Œï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9105918d1fc04d0d8e23f5d34fb69ae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=Ikx9Ud8zwJf3y9RrIdL5y8RvtJc%3D" alt="" loading="lazy"/></p>
<p>ä½ å¯ä»¥çœ‹åˆ° agent åœ¨å“åº”é¡¶éƒ¨æ˜¾ç¤ºäº†å®ƒé€‰æ‹©çš„æ¸¸æˆå¯¹è±¡ã€‚è¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ° agent çš„é€‰æ‹©å¹¶ç¡®è®¤æ¸¸æˆæŒ‰é¢„æœŸè¿è¡Œã€‚ç„¶è€Œï¼Œåœ¨ä½ é€‰æ‹©ä¹‹å‰çŸ¥é“å¯¹æ‰‹çš„é€‰æ‹©ï¼Œä¼šè®©å‰ªåˆ€çŸ³å¤´å¸ƒæ¸¸æˆä¸å¤ªæœ‰è¶£ã€‚ä¸ºäº†å°†æ¸¸æˆæ‰“ç£¨åˆ°æœ€ç»ˆå½¢æ€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶ agent çš„ agent ç¼–æ’å¹³å°ã€‚</p>
<p>Strands Agents SDK ç™»åœº</p>
<h2 data-id="heading-5">Strands Agents SDK</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a83bc22e84a74c7f81d5bb40e02f0e34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=n2%2F0E8qcpHiGhe63GtrbH2mZOqc%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³å°è¯•æ–°çš„ agent å¼€å‘æ¡†æ¶ï¼Œé‚£ä¹ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fstrandsagents.com%2Flatest%2F" title="https://strandsagents.com/latest/" target="_blank" ref="nofollow noopener noreferrer">Strands Agents SDK</a> å€¼å¾—ä½ èŠ±æ—¶é—´å°è¯•ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fblogs%2Fopensource%2Fintroducing-strands-agents-an-open-source-ai-agents-sdk%2F" title="https://aws.amazon.com/blogs/opensource/introducing-strands-agents-an-open-source-ai-agents-sdk/" target="_blank" ref="nofollow noopener noreferrer">Strands Agents SDK ç”± AWS äº 2025 å¹´ 5 æœˆå‘å¸ƒ</a>ï¼Œä½œä¸ºå¼€æº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fstrands-agents%2Fsdk-python" title="https://github.com/strands-agents/sdk-python" target="_blank" ref="nofollow noopener noreferrer">Python</a> å®ç°ï¼Œç°åœ¨ä¹Ÿæœ‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.to%2Faws%2Fstrands-agents-now-speaks-typescript-a-side-by-side-guide-12b3" title="https://dev.to/aws/strands-agents-now-speaks-typescript-a-side-by-side-guide-12b3" target="_blank" ref="nofollow noopener noreferrer">Typescript</a> ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-6">åœ¨ Python ä¸­å¿«é€Ÿä¸Šæ‰‹ Strands Agents SDK</h2>
<p>å¯åŠ¨ä½ çš„ç¼–ç ç¯å¢ƒï¼Œæˆ‘ä»¬ç°åœ¨å°†å¿«é€Ÿæµè§ˆå…‹éš†å¹¶è¿è¡Œä¸€ä¸ªç¤ºä¾‹åº”ç”¨çš„è¿‡ç¨‹ï¼Œè¯¥åº”ç”¨ä½¿ç”¨ Strands Agents é€šè¿‡ A2A åè®®æ§åˆ¶ RPS+ Agentã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç»è¿‡å¾®è°ƒçš„ RPS+ æ¸¸æˆç‰ˆæœ¬ï¼Œä½¿ agent çš„é€‰æ‹©åœ¨ä½ åšå‡ºé€‰æ‹©åæ‰æ˜¾ç¤ºï¼Œå› ä¸ºæ¯•ç«Ÿï¼ŒçŒœæµ‹å’ŒæƒŠå–œç»“æœæ‰æ˜¯å‰ªåˆ€çŸ³å¤´å¸ƒç­‰æ¸¸æˆçš„ä¹è¶£æ‰€åœ¨ã€‚</p>
<p>åœ¨ä½ çš„æœ¬åœ°ç”µè„‘ä¸Šï¼Œæ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fdownload" title="https://code.visualstudio.com/download" target="_blank" ref="nofollow noopener noreferrer">Visual Studio Code</a> å¹¶æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79ab8a70786f42fb97dedee60a67951d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=h1ySAB%2FussJwVLjF9XrNrZkYfUM%3D" alt="" loading="lazy"/></p>
<p>åœ¨æ–°æ‰“å¼€çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å…‹éš† Elasticsearch Labs ä»“åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`git <span class="hljs-built_in">clone</span> https://github.com/elastic/elasticsearch-labs`AIå†™ä»£ç 
</code></pre>
<p>è¿è¡Œä»¥ä¸‹ cd å‘½ä»¤ï¼Œå°†ç›®å½•åˆ‡æ¢åˆ° elasticsearch-labs ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`<span class="hljs-built_in">cd</span> elasticsearch-labs`AIå†™ä»£ç 
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ Visual Studio Code ä¸­æ‰“å¼€è¯¥ä»“åº“ï¼š</p>
<pre><code class="hljs language-css" lang="css">`<span class="hljs-selector-tag">code</span> .`AIå†™ä»£ç 
</code></pre>
<p>åœ¨ Visual Studio æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­ï¼Œå±•å¼€ supporting-blog-content å’Œ agent-builder-a2a-strands-agents æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€æ–‡ä»¶ elastic_agent_builder_a2a_rps+.pyã€‚æ–‡ä»¶åœ¨ Visual Studio Code ä¸­æ‰“å¼€åå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dbfb508e717421e896c2aa2dc82a2b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=geDFwJ204raLFy7CxYfPeVhoDok%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯ä½ åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­åº”è¯¥çœ‹åˆ°çš„ elastic_agent_builder_a2a_rps+.py æ–‡ä»¶å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">`

1.  import asyncio
2.  from dotenv import load_dotenv
3.  from uuid import uuid4
4.  import httpx
5.  import os
6.  import random
7.  from a2a.client import A2ACardResolver, ClientConfig, ClientFactory
8.  from a2a.types import Message, Part, Role, TextPart

<span class="hljs-attr">10.  DEFAULT_TIMEOUT</span> = <span class="hljs-number">60</span>  <span class="hljs-comment"># set request timeout to 1 minute</span>

13.  def create_message(*, role: <span class="hljs-attr">Role</span> = Role.user, text: str, context_id=None) -&gt; Message:
14.      return Message(
<span class="hljs-attr">15.          kind</span>=<span class="hljs-string">"message"</span>,
<span class="hljs-attr">16.          role</span>=<span class="hljs-string">"user"</span>,
<span class="hljs-attr">17.          parts</span>=[Part(TextPart(kind=<span class="hljs-string">"text"</span>, text=text))],
<span class="hljs-attr">18.          message_id</span>=uuid4().hex,
<span class="hljs-attr">19.          context_id</span>=context_id,
20.      )

23.  async def main():
24.      load_dotenv()
<span class="hljs-attr">25.      a2a_agent_host</span> = os.getenv(<span class="hljs-string">"ES_AGENT_URL"</span>)
<span class="hljs-attr">26.      a2a_agent_key</span> = os.getenv(<span class="hljs-string">"ES_API_KEY"</span>)
<span class="hljs-attr">27.      custom_headers</span> = {<span class="hljs-string">"Authorization"</span>: f<span class="hljs-string">"ApiKey {a2a_agent_key}"</span>}

29.      async with httpx.AsyncClient(
<span class="hljs-attr">30.          timeout</span>=DEFAULT_TIMEOUT, headers=custom_headers
31.      ) as httpx_client:
32.          <span class="hljs-comment"># Get agent card</span>
<span class="hljs-attr">33.          resolver</span> = A2ACardResolver(httpx_client=httpx_client, base_url=a2a_agent_host)
<span class="hljs-attr">34.          agent_card</span> = await resolver.get_agent_card(
<span class="hljs-attr">35.              relative_card_path</span>=<span class="hljs-string">"/rps_plus_agent.json"</span>
36.          )
37.          <span class="hljs-comment"># Create client using factory</span>
<span class="hljs-attr">38.          config</span> = ClientConfig(
<span class="hljs-attr">39.              httpx_client</span>=httpx_client,
<span class="hljs-attr">40.              streaming</span>=<span class="hljs-literal">True</span>,
41.          )
<span class="hljs-attr">42.          factory</span> = ClientFactory(config)
<span class="hljs-attr">43.          client</span> = factory.create(agent_card)
44.          <span class="hljs-comment"># Use the client to communicate with the agent</span>
45.          print("\nSending 'start game' message to Elastic A2A agent...")
<span class="hljs-attr">46.          random_game_object</span> = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)
<span class="hljs-attr">47.          msg</span> = create_message(text=f<span class="hljs-string">"start with game object {random_game_object}"</span>)
48.          async for event in client.send_message(msg):
49.              if isinstance(event, Message):
<span class="hljs-attr">50.                  context_id</span> = event.context_id
<span class="hljs-attr">51.                  response_complete</span> = event.parts[<span class="hljs-number">0</span>].root.text
52.                  <span class="hljs-comment"># Get agent choice from the first line of the response</span>
<span class="hljs-attr">53.                  parsed_response</span> = response_complete.split(<span class="hljs-string">"\n"</span>, <span class="hljs-number">1</span>)
<span class="hljs-attr">54.                  agent_choice</span> = parsed_response[<span class="hljs-number">0</span>]
55.                  print(parsed_response<span class="hljs-section">[1]</span>)
56.          <span class="hljs-comment"># User choice sent for game results from the agent</span>
<span class="hljs-attr">57.          prompt</span> = input(<span class="hljs-string">"Your Choice  : "</span>)
<span class="hljs-attr">58.          msg</span> = create_message(text=prompt, context_id=context_id)
59.          async for event in client.send_message(msg):
60.              if isinstance(event, Message):
61.                  print(f"Agent Choice : {agent_choice}")
62.                  print(event.parts<span class="hljs-section">[0]</span>.root.text)

65.  if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
66.      asyncio.run(main())

`AIå†™ä»£ç !<span class="hljs-section">[]</span>(https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)æ”¶èµ·ä»£ç å—!<span class="hljs-section">[]</span>(https://csdnimg.cn/release/blogv2/dist/pc/img/arrowup-line-top-White.png)
</code></pre>
<p>è®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹è¿™æ®µä»£ç çš„ä½œç”¨ã€‚ä» main() æ–¹æ³•å¼€å§‹ï¼Œä»£ç é¦–å…ˆè®¿é—® agent URL å’Œ API Key çš„ç¯å¢ƒå˜é‡ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨è¿™äº›å€¼åˆ›å»ºä¸€ä¸ª httpx å®¢æˆ·ç«¯ï¼Œç”¨äºè·å–è¯¥ agent çš„ agent cardã€‚å®¢æˆ·ç«¯éšåä½¿ç”¨ agent card çš„è¯¦ç»†ä¿¡æ¯å‘ agent å‘é€ â€œstart gameâ€ è¯·æ±‚ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬åœ¨ â€œstart gameâ€ è¯·æ±‚ä¸­åŒ…å«äº† random_game_object å€¼ã€‚è¿™ä¸ªå€¼æ˜¯ä½¿ç”¨ Python æ ‡å‡†åº“çš„ random æ¨¡å—ç”Ÿæˆçš„éšæœºæ•°ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ï¼Œå¼ºå¤§çš„ LLMï¼ˆä½¿ AI agent æˆä¸ºå¯èƒ½ï¼‰åœ¨ç”Ÿæˆéšæœºæ€§æ–¹é¢è¡¨ç°ä¸ä½³ã€‚æ²¡é—®é¢˜ï¼ŒPython æ¥æ•‘åœºã€‚</p>
<p>ç»§ç»­ä»£ç ï¼Œå½“ agent å“åº” â€œstart gameâ€ è¯·æ±‚åï¼Œä»£ç ä¼šæå– agent çš„æ¸¸æˆå¯¹è±¡é€‰æ‹©ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ agent_choice å˜é‡ä¸­ã€‚å…¶ä½™çš„å“åº”å†…å®¹ä»¥æ–‡æœ¬å½¢å¼æ˜¾ç¤ºç»™æœ€ç»ˆç”¨æˆ·ã€‚ç„¶åæç¤ºç”¨æˆ·è¾“å…¥ä»–ä»¬çš„æ¸¸æˆå¯¹è±¡é€‰æ‹©ï¼Œå¹¶å°†å…¶å‘é€ç»™ agentã€‚ä»£ç éšåæ˜¾ç¤º agent çš„æ¸¸æˆå¯¹è±¡é€‰æ‹©ä»¥åŠ agent å¯¹æ¸¸æˆç»“æœçš„æœ€ç»ˆåˆ¤æ–­ã€‚</p>
<h2 data-id="heading-7">å°† agent URL å’Œ API Key è®¾ç½®ä¸ºç¯å¢ƒå˜é‡</h2>
<p>ç”±äºç¤ºä¾‹åº”ç”¨å°†åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œï¼Œä¸ºäº†ä¸æˆ‘ä»¬çš„ Agent Builder agent é€šä¿¡ï¼Œæˆ‘ä»¬éœ€è¦ä¸º Strands Agents SDK æä¾› agent çš„ A2A URL å’Œ API Keyã€‚ç¤ºä¾‹åº”ç”¨ä½¿ç”¨åä¸º .env çš„æ–‡ä»¶æ¥å­˜å‚¨è¿™äº›å€¼ã€‚</p>
<p>å¤åˆ¶ env.example æ–‡ä»¶ï¼Œå¹¶å°†æ–°æ–‡ä»¶å‘½åä¸º .envã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/763b1ca501654248a0a0276d02f951b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=bvBH8uTNDNKkmAMJV73o7gD0LV4%3D" alt="" loading="lazy"/></p>
<p>è¿”å› Elastic Agent Builderï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè·å–æ‰€éœ€çš„ä¸¤ä¸ªå€¼ã€‚</p>
<p>ä»é¡µé¢å³ä¸Šè§’çš„ Agent Builder actions èœå•ä¸­é€‰æ‹© <strong>View all tools</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d658c959d7434d926b1cbfa643131f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=IcqL%2FsByh7TZw2ea%2FUT%2FkZhuH4A%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» Tools é¡µé¢é¡¶éƒ¨çš„ MCP Server ä¸‹æ‹‰èœå•ï¼Œå¹¶é€‰æ‹© Copy MCP Server URLã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d592dee70764e1ab0add80017647311~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=wbzVMyPz5OuD4CnNtjG7xeV%2BY0Y%3D" alt="" loading="lazy"/></p>
<p>å°† MCP Server URL ç²˜è´´åˆ° .env æ–‡ä»¶ä¸­ï¼Œæ›¿æ¢Â <strong/> å ä½ç¬¦ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹ URL åšä¸€ä¸ªä¿®æ”¹ï¼Œå³å°†ç»“å°¾çš„ â€œmcpâ€ æ›¿æ¢ä¸º â€œa2aâ€ï¼Œå› ä¸º Strands Agents SDK å°†ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fa2a-protocol.org%2F" title="https://a2a-protocol.org/" target="_blank" ref="nofollow noopener noreferrer">A2A åè®®</a>ä¸è¿è¡Œåœ¨ Elastic Agent Builder ä¸­çš„ agent é€šä¿¡ã€‚</p>
<p>ä¿®æ”¹åçš„ URL åº”è¯¥ç±»ä¼¼è¿™æ ·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`https://rps-game-project-12345a.kb.us-east-1.aws.elastic.cloud/api/agent_builder/a2a`AIå†™ä»£ç 
</code></pre>
<p>æˆ‘ä»¬åœ¨ Elastic Cloud ä¸­è¿˜éœ€è¦è·å–å¦ä¸€ä¸ªå€¼ â€”â€” API Keyã€‚ç‚¹å‡»é¡¶å±‚å¯¼èˆªä¸­çš„ Elasticsearchã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99e06fdc288c463691c3e3e8798786f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=M35GlEN9UdWP478IjJZe3Mn95GE%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» Copy API Key æŒ‰é’®å¤åˆ¶ API Keyã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/895e5561acdc4772b4cef6b258445f19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=qAMx%2B6Pcry9EgdsFE%2Bhjuk%2BsjxM%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨å›åˆ° Visual Studio Codeï¼Œåœ¨ .env æ–‡ä»¶ä¸­ç²˜è´´ API Keyï¼Œæ›¿æ¢ <strong/> å ä½ç¬¦æ–‡æœ¬ã€‚ä½ çš„ .env æ–‡ä»¶åº”ç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40e611adbc874a02a2cf1b02b021d378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=Iwij59c8OjdlB3DUGYKjNCd8Zy4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">è¿è¡Œç¤ºä¾‹åº”ç”¨</h2>
<p>åœ¨ Visual Studio Code ä¸­æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ca6ca135b3e46c384700808ec34006b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=mvGa2uF9tr0ziA0hJDBfHDIxsCw%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ cd å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`<span class="hljs-built_in">cd</span> elasticsearch-labs/supporting-blog-content/agent-builder-a2a-strands-agents`AIå†™ä»£ç 
</code></pre>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`python -m venv .venv`</span>AIå†™ä»£ç 
</code></pre>
<p>æ ¹æ®ä½ æœ¬åœ°ç”µè„‘çš„æ“ä½œç³»ç»Ÿï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚</p>
<ul>
<li>MacOS/Linux</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">`<span class="hljs-built_in">source</span> .venv/bin/activate`AIå†™ä»£ç 
</code></pre>
<ul>
<li>Windows</li>
</ul>

<pre><code class="hljs language-r" lang="r">`.venv\Scripts\activate`AIå†™ä»£ç 
</code></pre>
<p>ç¤ºä¾‹åº”ç”¨ä½¿ç”¨ Strands Agents SDKï¼Œç°åœ¨æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­éœ€è¦å®‰è£…å®ƒã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Strands Agents SDK åŠå…¶æ‰€æœ‰å¿…éœ€çš„ Python åº“ä¾èµ–ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`pip install -r requirements.txt`</span>AIå†™ä»£ç 
</code></pre>
<p>æ˜¯æ—¶å€™æ¸…ç†å‘å°„å¹³å°å¹¶å¼€å§‹å€’è®¡æ—¶äº†ã€‚æˆ‘ä»¬å‡†å¤‡å¥½å¯åŠ¨è¿™ä¸ªåº”ç”¨ã€‚åé€€ä¸€æ­¥ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå®ƒï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`python elastic_agent_builder_a2a_rps+.py`</span>AIå†™ä»£ç 
</code></pre>
<p>ä½ åº”è¯¥ä¼šè¿æ¥ä¸€åœº RPS+ æ¸¸æˆã€‚å¹²å¾—å¥½ï¼Œç¥ä½ å¥½è¿ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d82240f7964140ecbf371022f215f060~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457388&amp;x-signature=EIM%2FG82mftB%2BYa0NMEupOOu8yNw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">ç”¨ç›¸å…³ä¸Šä¸‹æ–‡æ„å»ºä½ çš„ AI åº”ç”¨</h2>
<p>æ„å»º AI Agent ç°åœ¨å·²æˆä¸ºä½ çš„æŠ€èƒ½å·¥å…·ä¹‹ä¸€ã€‚ä½ å·²ç»çœ‹åˆ°ï¼Œé€šè¿‡ A2A ä½¿ç”¨ Elastic Builder agent åœ¨åƒ Strands Agents SDK è¿™æ ·çš„ agent å¼€å‘æ¡†æ¶ä¸­æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚å°è¯•<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.elastic.co%2Fregistration%3Futm_source%3Dagentic-ai-category%26utm_medium%3Dsearch-labs%26utm_campaign%3Dagent-builder" title="https://cloud.elastic.co/registration?utm_source=agentic-ai-category&amp;utm_medium=search-labs&amp;utm_campaign=agent-builder" target="_blank" ref="nofollow noopener noreferrer">ä½¿ç”¨ Elastic</a> æ„å»ºä¸è‡ªå®šä¹‰æ•°æ®ç›¸å…³ä¸Šä¸‹æ–‡ç›¸è¿æ¥çš„ AI agentã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fagent-builder-a2a-strands-agents-guide" title="https://www.elastic.co/search-labs/blog/agent-builder-a2a-strands-agents-guide" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[UniPush 2.0 å®æˆ˜æŒ‡å—ï¼šå·¥å•æé†’ä¸å¤šå‚å•†é€šé“é…ç½®]]></title>    <link>https://juejin.cn/post/7583955708318351360</link>    <guid>https://juejin.cn/post/7583955708318351360</guid>    <pubDate>2025-12-16T02:53:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583955708318351360" data-draft-id="7583921477614518307" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="UniPush 2.0 å®æˆ˜æŒ‡å—ï¼šå·¥å•æé†’ä¸å¤šå‚å•†é€šé“é…ç½®"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-16T02:53:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hellsing"/> <meta itemprop="url" content="https://juejin.cn/user/4433705584572302"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            UniPush 2.0 å®æˆ˜æŒ‡å—ï¼šå·¥å•æé†’ä¸å¤šå‚å•†é€šé“é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4433705584572302/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hellsing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:53:55.000Z" title="Tue Dec 16 2025 02:53:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. æ–¹æ¡ˆé€‰å‹ä¸æ¶æ„ç­–ç•¥</h2>
<h3 data-id="heading-1">1.1 äº‘æœåŠ¡å•†é€‰æ‹©ï¼šæ¨èè…¾è®¯äº‘</h3>
<p>åœ¨ uniCloud çš„æœåŠ¡å•†é€‰æ‹©ä¸Šï¼Œé’ˆå¯¹ä¼ä¸šçº§é¡¹ç›®ï¼ˆå°¤å…¶æ˜¯æ¶‰åŠåˆ°å·¥å•ã€é¢„è­¦ç­‰éœ€è¦ç¨³å®šæ¨é€çš„åœºæ™¯ï¼‰ï¼Œæ¨èé€‰æ‹© <strong>è…¾è®¯äº‘</strong>ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼šå¼€å¯â€œäº‘å‡½æ•° URL åŒ–â€æ—¶ï¼Œè…¾è®¯äº‘<strong>ä¸éœ€è¦</strong>é‡æ–°è¿›è¡ŒåŸŸåå¤‡æ¡ˆï¼ˆICPå¤‡æ¡ˆï¼‰ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è…¾è®¯äº‘æä¾›çš„é»˜è®¤åŸŸåã€‚</li>
<li><strong>æˆæœ¬è€ƒé‡</strong>ï¼šè™½ç„¶å•ä»·ç•¥é«˜äºé˜¿é‡Œäº‘ï¼Œä½†çœå»äº†ç¹ççš„è¡Œæ”¿å¤‡æ¡ˆæµç¨‹ï¼Œå¯¹äºé¡¹ç›®å¿«é€Ÿä¸Šçº¿å’Œç»´æŠ¤æä¸ºæœ‰åˆ©ã€‚</li>
</ul>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒä¸šåŠ¡æµç¨‹</h3>
<p>æˆ‘ä»¬éœ€è¦å®ç°çš„æ˜¯â€œç‚¹å¯¹ç‚¹â€çš„å·¥å•é€šçŸ¥ï¼Œæ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å‰ç«¯ï¼ˆAPPç«¯ï¼‰</strong> ï¼šç”¨æˆ·ç™»å½•åï¼Œè·å–è®¾å¤‡çš„ <code>push_clientid</code>ã€‚</li>
<li><strong>ç»‘å®šå…³ç³»</strong>ï¼šå‰ç«¯è°ƒç”¨äº‘å‡½æ•°æˆ–æ¥å£ï¼Œå°† <code>user_id</code> ä¸ <code>push_clientid</code> å­˜å…¥ <code>uni-id-device</code> è¡¨ä¸­ï¼ˆå»ºç«‹ç”¨æˆ·ä¸è®¾å¤‡çš„æ˜ å°„ï¼‰ã€‚</li>
<li><strong>åç«¯è§¦å‘</strong>ï¼šç”±äºå·¥å•çŠ¶æ€å˜æ›´é€šå¸¸å‘ç”Ÿåœ¨åå°ï¼ˆJava/Python/Goç­‰ï¼‰ï¼Œåç«¯é€šè¿‡ HTTP è¯·æ±‚è°ƒç”¨ <strong>äº‘å‡½æ•° URL åŒ–æ¥å£</strong>ã€‚</li>
<li><strong>äº‘å‡½æ•°æ‰§è¡Œ</strong>ï¼šäº‘å‡½æ•°æ ¹æ®ä¼ å…¥çš„ <code>user_id</code> æŸ¥åº“æ‰¾åˆ° CIDï¼Œè°ƒç”¨ <code>uniPush</code> ä¸‹å‘æ¶ˆæ¯ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-3">2. äº‘å‡½æ•°å®ç°ï¼ˆCore Codeï¼‰</h2>
<p>æ­¤äº‘å‡½æ•°ä½œä¸ºç»Ÿä¸€çš„æ¨é€å…¥å£ï¼Œå¤„ç†äº†è®¾å¤‡æŸ¥æ‰¾å’Œå¤šå‚å•†å‚æ•°é€‚é…ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">'use strict'</span>;
<span class="hljs-keyword">const</span> uniPush = uniCloud.<span class="hljs-title function_">getPushManager</span>({ <span class="hljs-attr">appId</span>: <span class="hljs-string">"__UNI__XXXXXX"</span> }) <span class="hljs-comment">// æ›¿æ¢ä½ çš„ appId</span>
<span class="hljs-keyword">const</span> db = uniCloud.<span class="hljs-title function_">database</span>();
<span class="hljs-keyword">const</span> dbCmd = db.<span class="hljs-property">command</span>;

<span class="hljs-built_in">exports</span>.<span class="hljs-property">main</span> = <span class="hljs-keyword">async</span> (event, context) =&gt; {
    <span class="hljs-comment">// å‡è®¾åç«¯é€šè¿‡ POST è¯·æ±‚ä¼ å…¥ JSON body</span>
    <span class="hljs-keyword">let</span> body = event.<span class="hljs-property">body</span>;
    <span class="hljs-keyword">if</span>(event.<span class="hljs-property">isBase64Encoded</span>){
        body = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(body, <span class="hljs-string">'base64'</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>);
    }
    <span class="hljs-keyword">const</span> { userIds, title, content } = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body);

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// --- 3. æŸ¥åº“ï¼šè·å–ç›®æ ‡ç”¨æˆ·çš„ Push Client ID ---</span>
        <span class="hljs-keyword">const</span> deviceRes = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'uni-id-device'</span>)
            .<span class="hljs-title function_">where</span>({
                <span class="hljs-attr">user_id</span>: dbCmd.<span class="hljs-title function_">in</span>(userIds)
            })
            .<span class="hljs-title function_">field</span>({ <span class="hljs-string">'push_clientid'</span>: <span class="hljs-literal">true</span> })
            .<span class="hljs-title function_">get</span>();

        <span class="hljs-keyword">if</span> (deviceRes.<span class="hljs-property">data</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">404</span>, <span class="hljs-attr">msg</span>: <span class="hljs-string">'æŒ‡å®šçš„ç”¨æˆ·å‡æœªç»‘å®šä»»ä½•è®¾å¤‡'</span> };
        }

        <span class="hljs-comment">// å»é‡ï¼Œé˜²æ­¢åŒä¸€è®¾å¤‡æ”¶åˆ°å¤šæ¡ï¼ˆå¦‚æœç”¨æˆ·å¤šç«¯ç™»å½•ï¼‰</span>
        <span class="hljs-keyword">const</span> cids = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(deviceRes.<span class="hljs-property">data</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">push_clientid</span>))];

        <span class="hljs-comment">// --- 4. æ‰§è¡Œæ¨é€ï¼šé…ç½®å¤šå‚å•†é€šé“ ---</span>
        <span class="hljs-keyword">const</span> pushRes = <span class="hljs-keyword">await</span> uniPush.<span class="hljs-title function_">sendMessage</span>({
            <span class="hljs-string">"push_clientid"</span>: cids,
            <span class="hljs-string">"title"</span>: title,
            <span class="hljs-string">"content"</span>: content,
            <span class="hljs-string">"force_notification"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼ºåˆ¶æ˜¾ç¤ºé€šçŸ¥æ </span>
            <span class="hljs-string">"request_id"</span>: context.<span class="hljs-property">requestId</span>,
            <span class="hljs-string">"options"</span>: {
                <span class="hljs-string">"android"</span>: {
                    <span class="hljs-comment">// --- å°ç±³ (XM) é…ç½® ---</span>
                    <span class="hljs-string">"XM"</span>: {
                        <span class="hljs-comment">// å¿…é¡»åœ¨å°ç±³åå°ç”³è¯· Channel IDï¼Œå¦åˆ™å¯èƒ½è¢«æŠ˜å æˆ–é™éŸ³</span>
                        <span class="hljs-string">"/extra.channel_id"</span>: <span class="hljs-string">"ä½ çš„å°ç±³ChannelID"</span>, 
                    },
                    <span class="hljs-comment">// --- åä¸º (HW) é…ç½® ---</span>
                    <span class="hljs-string">"HW"</span>: {
                        <span class="hljs-comment">// å¿…é¡»é…ç½®è‡ªåˆ†ç±»æƒç›Šï¼Œ"SERVICE" ä¸ºæœåŠ¡æé†’ï¼Œæƒé‡é«˜äºé»˜è®¤</span>
                        <span class="hljs-string">"/message/android/category"</span>: <span class="hljs-string">"WORK"</span>, <span class="hljs-comment">// æˆ– SERVICE</span>
                    },
                    <span class="hljs-comment">// --- OPPO (OP) é…ç½® ---</span>
                    <span class="hljs-string">"OP"</span>: {
                        <span class="hljs-string">"/channel_id"</span>: <span class="hljs-string">"ä½ çš„OPPOé€šé“ID"</span>,
                        <span class="hljs-string">"/category"</span>: <span class="hljs-string">"MARKETING"</span>, <span class="hljs-comment">// æ³¨æ„ï¼šOPPO è¥é”€ç±»æ¶ˆæ¯é™åˆ¶è¾ƒå¤šï¼Œé‡è¦é€šçŸ¥å»ºè®®ç”³è¯·ç§ä¿¡é€šé“</span>
                        <span class="hljs-string">"/notify_level"</span>: <span class="hljs-number">16</span>
                    },
                    <span class="hljs-comment">// --- VIVO (VV) é…ç½® ---</span>
                    <span class="hljs-string">"VV"</span>: {
                        <span class="hljs-string">"/classification"</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 1: ç³»ç»Ÿç±»æ¶ˆæ¯ (éœ€è¦ç”³è¯·)ï¼Œ0: è¿è¥ç±»</span>
                    }
                }
            }
        });

        <span class="hljs-comment">// --- 5. è¿”å›ç»“æœ ---</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">msg</span>: <span class="hljs-string">'æ¨é€è¯·æ±‚å·²ä¸‹å‘'</span>,
            <span class="hljs-attr">target_user_count</span>: userIds.<span class="hljs-property">length</span>,
            <span class="hljs-attr">target_device_count</span>: cids.<span class="hljs-property">length</span>,
            <span class="hljs-attr">uni_push_result</span>: pushRes
        };

    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e);
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">code</span>: <span class="hljs-number">500</span>,
            <span class="hljs-attr">msg</span>: <span class="hljs-string">'æœåŠ¡ç«¯å†…éƒ¨é”™è¯¯'</span>,
            <span class="hljs-attr">error</span>: e.<span class="hljs-property">message</span>
        };
    }
};
</code></pre>
<hr/>
<h2 data-id="heading-4">3. å®‰å“å‚å•†ç‰¹æ®Šé…ç½®ï¼ˆå¿…è¯»ï¼‰</h2>
<p>éšç€ Android 8.0+ é€šçŸ¥æ¸ é“ï¼ˆNotification Channelsï¼‰çš„å¼•å…¥ï¼Œå¦‚æœä¸è¿›è¡Œé¢å¤–é…ç½®ï¼Œå·¥å•æé†’å¾ˆå¯èƒ½ä¼šè¢«å½’ç±»ä¸ºâ€œè¥é”€å¹¿å‘Šâ€ä»è€Œ<strong>é™éŸ³</strong>æˆ–<strong>æŠ˜å </strong>ã€‚</p>
<h3 data-id="heading-5">3.1 å°ç±³ (Xiaomi) é…ç½®</h3>
<p>å°ç±³éœ€è¦åˆ›å»ºè‡ªå®šä¹‰ Channel æ‰èƒ½è®©æ¶ˆæ¯æ­£å¸¸å“é“ƒæˆ–éœ‡åŠ¨ã€‚</p>
<ol>
<li>
<p><strong>æ“ä½œè·¯å¾„</strong>ï¼šå°ç±³å¼€æ”¾å¹³å° -&gt; æ¶ˆæ¯æ¨é€ -&gt; é…ç½®ç®¡ç† -&gt; é€šçŸ¥ç±»åˆ«ï¼ˆChannelï¼‰ç®¡ç†ã€‚</p>
</li>
<li>
<p><strong>ç”³è¯·</strong>ï¼šæ–°å»ºä¸€ä¸ªç±»åˆ«ï¼Œä¾‹å¦‚â€œå·¥å•æé†’â€æˆ–â€œäº‹åŠ¡é€šçŸ¥â€ã€‚</p>
</li>
<li>
<p><strong>è·å– ID</strong>ï¼šç”³è¯·é€šè¿‡åï¼Œä¼šè·å¾—ä¸€ä¸ª <code>Channel ID</code>ï¼ˆå¦‚ <code>Channel_A</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»£ç æ˜ å°„</strong>ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"XM"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"/extra.channel_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ ç”³è¯·çš„Channel_ID"</span> 
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä¸å¡«ï¼Œé»˜è®¤èµ°â€œæ™®é€šæ¶ˆæ¯â€é€šé“ï¼Œé™åˆ¶è¾ƒå¤šã€‚</p>
</blockquote>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf50699285b04afa816720aa68116146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGVsbHNpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458434&amp;x-signature=nYCUnmyTaUN6rzZD50Du60K9qZY%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">3.2 åä¸º (Huawei) é…ç½®</h3>
<p>åä¸ºå¼•å…¥äº†â€œè‡ªåˆ†ç±»æƒç›Šâ€ï¼Œéœ€è¦å°†æ¶ˆæ¯åˆ†ç±»ä¸ºâ€œæœåŠ¡ä¸é€šè®¯â€ç±»ï¼Œå¦åˆ™ä¼šè¢«å½“åšâ€œèµ„è®¯è¥é”€â€å¤„ç†ã€‚</p>
<ol>
<li>
<p><strong>æ“ä½œè·¯å¾„</strong>ï¼šåä¸ºå¼€å‘è€…è”ç›Ÿ -&gt; æˆ‘çš„é¡¹ç›® -&gt; æ¨é€æœåŠ¡ -&gt; é…ç½® -&gt; <strong>è‡ªåˆ†ç±»æƒç›Š</strong>ã€‚</p>
</li>
<li>
<p><strong>ç”³è¯·æƒç›Š</strong>ï¼šç‚¹å‡»ç”³è¯·ï¼ŒæŒ‰ç…§æŒ‡å¼•å¡«å†™ï¼ˆé€šå¸¸éœ€è¦ä¸Šä¼ APPæˆªå›¾è¯æ˜åœºæ™¯ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å‚æ•°è®¾ç½®</strong>ï¼š</p>
<ul>
<li>åœ¨ä»£ç ä¸­è®¾ç½® <code>category</code> å­—æ®µã€‚</li>
<li><code>WORK</code>ï¼šå·¥ä½œäº‹é¡¹æé†’ï¼ˆé€‚åˆå·¥å•ï¼‰ã€‚</li>
<li><code>IM</code>ï¼šå³æ—¶èŠå¤©ã€‚</li>
<li>å¦‚æœä¸ä¼ ï¼Œé»˜è®¤ä¸º <code>MARKETING</code>ï¼ˆè¥é”€ï¼‰ï¼Œææ˜“è¢«æ‹¦æˆªã€‚</li>
</ul>
<p>JavaScript</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"HW"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"/message/android/category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"WORK"</span> 
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60a0e94e85f84de8a5c0bb3d2934204f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGVsbHNpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458434&amp;x-signature=GC2VYc560Jc%2FkrvQ2UpNHc1Ezco%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">3.3 OPPO &amp; VIVO æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>OPPO</strong>ï¼šåŒæ ·æœ‰ Channel æ¦‚å¿µã€‚ç§ä¿¡é€šé“ï¼ˆé«˜æƒé‡ï¼‰éœ€è¦å•ç‹¬ç”³è¯·é‚®ä»¶æŠ¥å¤‡ï¼Œä¸”é—¨æ§›è¾ƒé«˜ã€‚ä»£ç ä¸­æ¼”ç¤ºçš„ <code>MARKETING</code> ä»…ä¾›æµ‹è¯•ï¼Œæ­£å¼ä¸Šçº¿å»ºè®®ç”³è¯· <code>IM</code> æˆ–ä¸šåŠ¡ç›¸å…³é€šé“ã€‚</li>
<li><strong>VIVO</strong>ï¼š<code>classification</code> ä¸º 1 ä»£è¡¨ç³»ç»Ÿæ¶ˆæ¯ï¼Œ0 ä»£è¡¨è¿è¥æ¶ˆæ¯ã€‚ç³»ç»Ÿæ¶ˆæ¯é…é¢æ›´é«˜ï¼Œæé†’æ›´æ˜æ˜¾ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">4. æ•…éšœæ’æŸ¥æµç¨‹ (Troubleshooting)</h2>
<p>å½“æ¶ˆæ¯æ²¡æœ‰é€è¾¾æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š</p>
<h3 data-id="heading-9">ğŸ“Œ é˜¶æ®µä¸€ï¼šåŸºç¡€ç¯å¢ƒæ£€æŸ¥</h3>
<ol>
<li>
<p><strong>CID æ˜¯å¦è·å–æˆåŠŸ</strong>ï¼šå‰ç«¯ <code>uni.getPushClientId</code> æ˜¯å¦æ‹¿åˆ°äº† IDï¼Ÿå¦‚æœæ˜¯åœ¨æ¨¡æ‹Ÿå™¨è¿è¡Œï¼Œé€šå¸¸æ— æ³•è·å–æœ‰æ•ˆçš„å‚å•† CIDã€‚</p>
</li>
<li>
<p><strong>äº‘å‡½æ•°æŠ¥é”™</strong>ï¼šæŸ¥çœ‹ uniCloud Web æ§åˆ¶å°çš„äº‘å‡½æ•°æ—¥å¿—ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ <code>appId</code> ä¸åŒ¹é…æˆ–æ•°æ®åº“æŸ¥è¯¢ä¸ºç©ºçš„æƒ…å†µã€‚</p>
</li>
<li>
<p><strong>æ‰“åŒ…æ£€æŸ¥</strong>ï¼š</p>
<ul>
<li>UniPush 2.0 ä¸¥é‡ä¾èµ–åº”ç”¨ç­¾åã€‚</li>
<li><strong>å¿…é¡»ä½¿ç”¨æ­£å¼ç­¾åæ‰“åŒ…çš„è‡ªå®šä¹‰åŸºåº§</strong>è¿›è¡Œè°ƒè¯•ï¼Œæ ‡å‡†åŸºåº§æ— æ³•æµ‹è¯•å‚å•†é€šé“ã€‚</li>
<li>ç¡®ä¿ <code>manifest.json</code> ä¸­å‹¾é€‰äº† UniPush 2.0 å¹¶æ­£ç¡®å¡«å†™äº†å„å‚å•†çš„ AppID/AppKeyã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">ğŸ“Œ é˜¶æ®µäºŒï¼šç¦»çº¿æ¨é€æ£€æŸ¥ï¼ˆå‚å•†é€šé“ï¼‰</h3>
<p>å¦‚æœ APP æ‰“å¼€æ—¶èƒ½æ”¶åˆ°ï¼ˆèµ°çš„æ˜¯ä¸ªæ¨åœ¨çº¿é€šé“ï¼‰ï¼Œä½†æ€æ‰è¿›ç¨‹åæ”¶ä¸åˆ°ï¼ˆèµ°çš„æ˜¯å‚å•†é€šé“ï¼‰ï¼Œåˆ™æ˜¯<strong>å‚å•†é…ç½®é—®é¢˜</strong>ã€‚</p>
<ol>
<li>
<p><strong>æ£€æŸ¥å‚å•†åå°å¼€å…³</strong>ï¼šç¡®ä¿åœ¨åä¸º/å°ç±³ç­‰åå°ï¼Œæ¨é€æœåŠ¡å·²â€œå¯ç”¨â€ã€‚</p>
</li>
<li>
<p><strong>åŒ…åä¸ç­¾å SHA1</strong>ï¼š</p>
<ul>
<li>åä¸º/å°ç±³åå°å¡«å†™çš„ <code>SHA256</code> æˆ– <code>SHA1</code> å¿…é¡»ä¸ä½ æ‰“åŒ…è¯ä¹¦çš„æŒ‡çº¹<strong>å®Œå…¨ä¸€è‡´</strong>ã€‚</li>
<li>è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯åŸå› ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‚æ•°æ˜ å°„</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥äº‘å‡½æ•°ä»£ç ä¸­ <code>options</code> é‡Œçš„å‚æ•°é”®å€¼å¯¹æ˜¯å¦æŒ‰ç…§å‚å•†æœ€æ–°æ–‡æ¡£ç¼–å†™ï¼ˆå¦‚åä¸ºçš„ <code>category</code> æ‹¼å†™ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é™æµä¸é…é¢</strong>ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯æµ‹è¯•é˜¶æ®µï¼ŒæŸäº›å‚å•†ï¼ˆå¦‚ VIVO/OPPOï¼‰å¯¹æœªä¸Šæ¶åº”ç”¨çš„æ¨é€æ•°é‡æœ‰é™åˆ¶ï¼ˆå¦‚ä¸€å¤©åªèƒ½æ¨å‡ æ¡ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-11">å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fask.dcloud.net.cn%2Farticle%2F40291" target="_blank" title="https://ask.dcloud.net.cn/article/40291" ref="nofollow noopener noreferrer">DCloud å®˜æ–¹ï¼šUniPush 2.0 å¸¸è§é—®é¢˜ç´¢å¼•</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fask.dcloud.net.cn%2Farticle%2F40283" target="_blank" title="https://ask.dcloud.net.cn/article/40283" ref="nofollow noopener noreferrer">DCloud å®˜æ–¹ï¼šå‚å•†é€šé“å‚æ•°è®¾ç½®æŒ‡å—</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¥å›´AAæ€»æ¦œTop 10ï¼ŒNon-Reasoning Modelæ¦œå•ç¬¬ä¸€ï¼KAT-Coder-Pro V1 æ–°ç‰ˆæœ¬è¸æµªå½’æ¥ï¼]]></title>    <link>https://juejin.cn/post/7583933107690422335</link>    <guid>https://juejin.cn/post/7583933107690422335</guid>    <pubDate>2025-12-16T03:00:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583933107690422335" data-draft-id="7583980250733641791" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¥å›´AAæ€»æ¦œTop 10ï¼ŒNon-Reasoning Modelæ¦œå•ç¬¬ä¸€ï¼KAT-Coder-Pro V1 æ–°ç‰ˆæœ¬è¸æµªå½’æ¥ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-12-16T03:00:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«æ‰‹æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3736571181793721"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¥å›´AAæ€»æ¦œTop 10ï¼ŒNon-Reasoning Modelæ¦œå•ç¬¬ä¸€ï¼KAT-Coder-Pro V1 æ–°ç‰ˆæœ¬è¸æµªå½’æ¥ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3736571181793721/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«æ‰‹æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:00:39.000Z" title="Tue Dec 16 2025 03:00:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>KAT-Coder-Pro V1 è¿æ¥ 1210 ç‰ˆå…³é”®è¿­ä»£ï¼Œæœ¬æ¬¡æ›´æ–°èšç„¦ Agentic Coding é¢†åŸŸæ ¸å¿ƒèƒ½åŠ›å‡çº§ï¼Œæ—¨åœ¨ä¸ºå…¨çƒå¼€å‘è€…æä¾›æ›´é«˜æ•ˆã€æ›´è´´åˆä¸šåŠ¡åœºæ™¯çš„ AI ç¼–ç è¾…åŠ©ä½“éªŒã€‚å‡­å€Ÿæ­¤æ¬¡è¿­ä»£ï¼ŒKAT-Coder-Pro V1 åœ¨æƒå¨è¯„æµ‹æœºæ„ Artificial Analysisï¼ˆAAï¼‰æ¦œå•ä¸­è¡¨ç°äº®çœ¼ï¼Œä»¥ 64 åˆ†ç»¼åˆè¯„åˆ†è·»èº«å…¨çƒæ€»æ¦œ TOP 10ï¼Œæ›´ä»¥ç»å¯¹ä¼˜åŠ¿åœ¨ Non-Reasoning Model ä¸­æ–©è·ç¬¬ä¸€åï¼Œå†æ¬¡å°è¯å…¶åœ¨ AI ç¼–ç é¢†åŸŸçš„é¡¶å°–å®åŠ›ã€‚</p>
<h3 data-id="heading-0">å››å¤§ç»´åº¦æ·±åº¦ä¼˜åŒ–ï¼Œç­‘ç‰¢ Agentic Coding æ ¸å¿ƒç«äº‰åŠ›</h3>
<p>ä¸ºåº”å¯¹å¤æ‚ç¼–ç¨‹åœºæ™¯ï¼ŒKAT-Coder-Pro V1 æ–°ç‰ˆæœ¬å›´ç»•å¼€å‘è€…å®é™…éœ€æ±‚ï¼Œåœ¨ä»¥ä¸‹å››å¤§å…³é”®ç»´åº¦å®Œæˆè¿›ä¸€æ­¥å‡çº§ï¼š</p>
<ul>
<li>
<p><strong>å“è¶Š Agentic äº¤äº’ä½“éªŒ</strong>ï¼šæ·±åº¦ä¼˜åŒ–äº†æ¨¡å‹åœ¨ Claude Codeã€Kilo Codeã€Roo Codeã€Clineã€Zed ç­‰æ•°åç§ä¸»æµ Agent å·¥å…·ä¸­çš„é›†æˆè¡¨ç°ï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹åœ¨ä¸åŒå¼€å‘ç¯å¢ƒä¸‹çš„äº¤äº’æµç•…åº¦å’Œå“åº”ç²¾ç¡®æ€§ã€‚</p>
</li>
<li>
<p><strong>å¼ºåŒ–ä»£ç æ¨ç†ä¸å·¥å…·è°ƒç”¨</strong>ï¼šè¿›ä¸€æ­¥æå‡äº†æ¨¡å‹çš„ Agentic Coding èƒ½åŠ›ï¼Œå¼ºåŒ–æ¨¡å‹åœ¨ä¸åŒåœºæ™¯ä¸‹è°ƒç”¨ Coding Tools å’Œ Web Search Tools è§£å†³å®é™…é—®é¢˜çš„èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>**æå‡å·¥å…·è°ƒç”¨ç¨³å®šæ€§ï¼š**é™ä½äº†å·¥å…·ï¼ˆAPIï¼‰è°ƒç”¨çš„æ•´ä½“é”™è¯¯ç‡ï¼Œæå‡äº†å¤æ‚ä»»åŠ¡æµçš„ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p>**å¢å¼ºå‰ç«¯ä»£ç ç”Ÿæˆèƒ½åŠ›ï¼š**é€šè¿‡ç”Ÿæˆå¼å¥–åŠ±æ¨¡å‹å¤§å¹…åº¦æå‡å‰ç«¯é¡µé¢ç¾æ„Ÿï¼Œæ˜¾è‘—å¢å¼ºäº† HTMLã€CSSã€JavaScript ç­‰å‰ç«¯ä»£ç çš„ç”Ÿæˆè´¨é‡ä¸å‡†ç¡®æ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">AA æ¦œå•æˆç»©äº®çœ¼ï¼Œå¤šç»´åº¦æ€§èƒ½æ¯”è‚©å›½é™…é¡¶å°–æ¨¡å‹</h3>
<p>éšç€æˆ‘ä»¬è¿›ä¸€æ­¥æå‡æ¨¡å‹çš„é€šç”¨ä»»åŠ¡èƒ½åŠ›ï¼ŒKAT-Coder-Pro V1 åœ¨ Artificial Analysisï¼ˆAAï¼‰æƒå¨è¯„æµ‹ä¸­å±•ç°å‡ºå…¨é¢ä¸”å¼ºåŠ²çš„æ€§èƒ½æå‡ï¼Œæ ¸å¿ƒæŒ‡æ ‡è¡¨ç°å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c35bdbbcf6240b8b76c16a6e7b9c03e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=j2K49up7AAXNazjONHXiGKVSSfk%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>ç»¼åˆæ’åè·»èº«å…¨çƒ TOP 10</strong>ï¼šArtificial Analysis intelligence index å–å¾— 64 åˆ†ï¼Œç»¼åˆæ¨¡å‹èƒ½åŠ›æ’åç¬¬ååï¼Œè¶…è¶Š Claude 4.5 Sonnetï¼Œæˆä¸ºæ¦œå•ä¸­è¡¨ç°æœ€çªå‡ºçš„å›½äº§ç¼–ç æ¨¡å‹ä¹‹ä¸€ï¼›åœ¨ Non-Reasoning Model èµ›é“ä¸­ï¼Œæ›´æ˜¯ä»¥ç»å¯¹ä¼˜åŠ¿æ‹¿ä¸‹æ¦œå•ç¬¬ä¸€ã€‚</p>
</li>
<li>
<p><strong>å·¥å…·è°ƒç”¨èƒ½åŠ›é¢†å…ˆ</strong>ï¼šåœ¨ğœÂ²-Bench Telecomï¼ˆAgentic Tool Useï¼‰ä¸­å–å¾— 89% çš„ä¼˜å¼‚æˆç»©ï¼Œå……åˆ†éªŒè¯å…¶åœ¨å¤æ‚å·¥å…·è°ƒç”¨åœºæ™¯ä¸‹çš„é«˜æ•ˆæ€§ä¸å¯é æ€§ã€‚</p>
</li>
<li>
<p><strong>é€šç”¨ä»»åŠ¡èƒ½åŠ›æå‡</strong>ï¼šåœ¨å„ç±»é«˜éš¾åº¦å­¦ç§‘æ¨ç†åŸºå‡†æµ‹è¯•ä¸­è¡¨ç°æ˜¾è‘—æå‡ï¼Œè¿›ä¸€æ­¥è´´è¿‘å®é™…å¼€å‘éœ€æ±‚ï¼ŒAA-LCRï¼ˆLong Context Reasoningï¼‰è¾¾åˆ° 74%ï¼›Humanity's Last Exam è¾¾åˆ° 33.4%ï¼›AIME 2025 è¾¾åˆ° 95%ã€‚</p>
</li>
<li>
<p><strong>æŒ‡ä»¤éµå¾ªèƒ½åŠ›çªå‡º</strong>ï¼šIFBenchï¼ˆInstruction Followingï¼‰æŒ‡æ ‡è¾¾ 68%ï¼Œè¶…è¿‡ Claude Opus 4.5ã€Deepseek V3.2 ç­‰æ¨¡å‹ï¼Œèƒ½æ›´ç²¾å‡†ç†è§£å¼€å‘è€…æ„å›¾ï¼Œå‡å°‘å› æŒ‡ä»¤åå·®å¯¼è‡´çš„æ— æ•ˆè¾“å‡ºï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287073d794d541d0a18d01c47386bdb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=%2BmimrOrUtrauGz4Vdm86dWzLTS8%3D" alt="" loading="lazy"/></p>
<p>åœ¨ AA æ¦œå•çš„å®˜æ–¹è¯„æµ‹ç»“æœä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ¸…æ™°çœ‹åˆ°äº† KAT-Coder-Pro V1 é™¤æ€§èƒ½å¤–çš„å…¶ä»–ä¼˜ç‚¹ã€‚</p>
<ul>
<li><strong>æè‡´æ€§ä»·æ¯”</strong></li>
</ul>
<p>åœ¨ AA è¯„æµ‹ä»»åŠ¡ä¸­ï¼ŒKAT-Coder-Pro V1 çš„è¾“å‡º Token æ¶ˆè€—é‡è¿œä½äºåŒæ€§èƒ½åŒºé—´çš„å…¶ä»–æ¨¡å‹ï¼ˆå¦‚ Claude 4.5 Sonnetã€Grok 4.1 Fastï¼‰ã€‚è¿™æ„å‘³ç€ï¼Œæ­é… KAT-Coder-Pro V1 æå…·ç«äº‰åŠ›çš„å®šä»·ï¼Œåœ¨çœŸå®ä¸–ç•Œçš„ç›¸åŒç¼–ç¨‹ä»»åŠ¡ä¸­ï¼ŒKAT-Coder-Pro V1 èƒ½è®©ç”¨æˆ·ä»¥æ›´ä½æˆæœ¬è·å¾—ç¨³å®šä¸”é«˜è´¨é‡çš„è¾“å‡ºï¼Œæ›´å¥½çš„å®ç°äº†ä»·æ ¼ä¸è´¨é‡çš„å¹³è¡¡ï¼Œæ— ç–‘æ˜¯ AI ç¼–ç¨‹åœºæ™¯ä¸‹æå…·ç«äº‰åŠ›çš„é«˜æ€§ä»·æ¯”ä¹‹é€‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d965feb5cdc4fc7b9cf8c42dc56b406~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=%2FGokwyyncIabUU0AgzzY6CCMxTI%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æé€Ÿå“åº”ï¼Œä¿éšœæ²‰æµ¸å¼ç¼–ç ä½“éªŒ</strong></li>
</ul>
<p>KAT-Coder-Pro V1 å…¼å…·å“è¶Šçš„æœåŠ¡æ€§èƒ½ï¼Œç«¯åˆ°ç«¯å“åº”è€—æ—¶ä¹Ÿè¿œä¼˜äºåŒæ€§èƒ½åŒºé—´çš„å…¶ä»–æ¨¡å‹ã€‚åœ¨çœŸå®å¼€å‘åœºæ™¯ä¸­ï¼Œå“åº”æ…¢çš„æ¨¡å‹ï¼Œå¾ˆå®¹æ˜“è®©å¼€å‘è€…é™·å…¥ â€œç­‰å¾…ç„¦è™‘â€ï¼ŒåŠåœ¨ Vibe coding è¿‡ç¨‹ä¸­ï¼Œéœ€è¦åœä¸‹æ¥ç­‰å¾…æ¨¡å‹åŠ è½½è¾“å‡ºï¼Œçªç„¶å†’å‡ºæ¥çš„æ€è·¯çµæ„Ÿå®¹æ˜“åœ¨ç­‰å¾…è¾“å‡ºçš„è¿‡ç¨‹ä¸­è¢«æ‰“æ–­è·‘åã€‚KAT-Coder-Pro V1 å¯ä»¥åš â€œå³è¾“å³å¾—â€ï¼Œè®©å¼€å‘è€…åœ¨æ²‰æµ¸å¼å¼€å‘ä¸­å½»åº•å‘Šåˆ«ç­‰å¾…ï¼Œå°½äº«è¡Œäº‘æµæ°´èˆ¬çš„ç¼–ç ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9f0d3d50c5f4e5c80c857c4af7dd2ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=jT8de0CD7SRj1XFr2hHl7ONiZiE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">æŠ€æœ¯æ­ç§˜ï¼šå¦‚ä½•è§£å†³ MOE æ¨¡å‹ RL è®­ç»ƒçš„ä¸ç¨³å®šæ€§ï¼Ÿ</h3>
<p>å½“å‰ä¸šç•Œå¤§å¤šæŠŠæ¨¡å‹åœ¨ RL è®­ç»ƒæ—¶å‡ºç° reward å´©æºƒçš„é—®é¢˜å½’å› äºâ€œè®­æ¨ä¸ä¸€è‡´â€ã€‚ç„¶è€Œï¼Œ<strong>æˆ‘ä»¬çš„å®éªŒå‘ç°ï¼šå½“å‰é˜¶æ®µ RL è®­ç»ƒä¸ç¨³å®šçš„ä¸»å¯¼å› ç´ å¹¶ä¸æ˜¯è®­æ¨ä¸ä¸€è‡´ï¼Œè€Œæ˜¯é‡‡æ ·å™ªå£°ï¼ˆSampling Noiseï¼‰æœ¬èº«</strong>ã€‚å½“æˆ‘ä»¬æ˜¾å¼æŠ‘åˆ¶å™ªå£°å¼ºåº¦åï¼Œå³ä½¿å­˜åœ¨æ˜æ˜¾çš„è®­æ¨å·®å¼‚ï¼Œè®­ç»ƒä¾æ—§ä¿æŒç¨³å®šï¼Œå¹¶èƒ½è·å¾—æ›´å¿«çš„æ”¶æ•›é€Ÿåº¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a772b9e5746841ac9a071a647f8b7fb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=S5dEhAyf3vrSpgDyanyZOo9bxEU%3D" alt="" loading="lazy"/></p>
<p>å›¾ä¸­ mean_8(é»„çº¿)ä»£è¡¨æˆ‘ä»¬æå‡ºçš„æŠ‘åˆ¶é‡‡æ ·å™ªå£°æ–¹æ³•ï¼Œå…¶ä½™æ›²çº¿ä¸º TIS ç­‰ä¸šç•Œå¸¸ç”¨æ–¹æ³•ã€‚å¯¹æ¯”å¯è§ï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½è·å¾—æ›´å¥½çš„è®­ç»ƒæ•ˆæœã€‚</p>
<p><strong>å…·ä½“æŠ€æœ¯ç»†èŠ‚è¯¦è§ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxie.infoq.cn%2Flink%3Ftarget%3Dhttps%253A%252F%252Fkwaikat.github.io%252Fkwaikat-blog%252Fposts%252Fkatcoder_1201%252F" target="_blank" title="https://xie.infoq.cn/link?target=https%3A%2F%2Fkwaikat.github.io%2Fkwaikat-blog%2Fposts%2Fkatcoder_1201%2F" ref="nofollow noopener noreferrer">kwaikat.github.io/kwaikat-bloâ€¦</a></p>
<h3 data-id="heading-3">ä¾¿æ·æ¥å…¥ï¼Œé™æ—¶å…è´¹ä½“éªŒé¡¶å°– AI ç¼–ç èƒ½åŠ›</h3>
<p>ç›®å‰ï¼ŒStreamLake å®˜æ–¹ API å·²åŒæ­¥æ›´æ–°ï¼Œæ¥å£ä¸è°ƒç”¨æ–¹å¼ä¿æŒä¸å˜ã€‚ä¸”ä¸ OpenRouterã€Novita AIã€AtlasCloudã€ZenMux ç­‰åˆä½œä¼™ä¼´å®Œæˆå…¼å®¹é€‚é…ï¼Œå¼€å‘è€…æ— éœ€é‡æ–°é…ç½®å³å¯ç»§ç»­å…è´¹ä½“éªŒæœ€æ–°æ¨¡å‹ã€‚</p>
<p><strong>å¼€å‘å·¥å…·æ¥å…¥æŒ‡å—</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxie.infoq.cn%2Flink%3Ftarget%3Dhttps%253A%252F%252Fwww.streamlake.com%252Fdocument%252FWANQING%252Fme6ymdjrqv8lp4iq0o9" target="_blank" title="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.streamlake.com%2Fdocument%2FWANQING%2Fme6ymdjrqv8lp4iq0o9" ref="nofollow noopener noreferrer">www.streamlake.com/document/WAâ€¦</a></p>
<p><strong>API KEY ç”³è¯·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxie.infoq.cn%2Flink%3Ftarget%3Dhttps%253A%252F%252Fstreamlake.com%252Fproduct%252Fkat-coder" target="_blank" title="https://xie.infoq.cn/link?target=https%3A%2F%2Fstreamlake.com%2Fproduct%2Fkat-coder" ref="nofollow noopener noreferrer">streamlake.com/product/katâ€¦</a></p>
<p>æœŸå¾…ä¸æ‚¨æºæ‰‹ï¼Œå…±åŒåˆ›é€ æ–°çš„æœªæ¥ã€‚</p>
<p>æ‰«ç å³å¯è¿›å…¥ã€ŒKwaiKAT äº¤æµç¾¤ã€è·å–æœ€æ–°èµ„è®¯ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f79a638b5fe4dfd8c8706ee875366e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458838&amp;x-signature=H%2FAVjl3N9WqORVeqqB2s5bVuQMQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°å½•æ›¾ç»æ‰“å¼€åŠå±å°ç¨‹åºé‡åˆ°çš„äº‹]]></title>    <link>https://juejin.cn/post/7583971282891882548</link>    <guid>https://juejin.cn/post/7583971282891882548</guid>    <pubDate>2025-12-16T02:33:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583971282891882548" data-draft-id="7582529173828141090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°å½•æ›¾ç»æ‰“å¼€åŠå±å°ç¨‹åºé‡åˆ°çš„äº‹"/> <meta itemprop="keywords" content="å‰ç«¯,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2025-12-16T02:33:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wangpq"/> <meta itemprop="url" content="https://juejin.cn/user/2172290705137415"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°å½•æ›¾ç»æ‰“å¼€åŠå±å°ç¨‹åºé‡åˆ°çš„äº‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2172290705137415/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wangpq
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:33:40.000Z" title="Tue Dec 16 2025 02:33:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¹´8æœˆå¼€å‘æ–°ç–†é¡¹ç›®æ—¶ï¼Œæ›¾æ¥åˆ°ä¸ªéœ€æ±‚ï¼Œéœ€è¦æˆ‘ä»¬è¿™è¾¹é…åˆç¬¬ä¸‰æ–¹çš„å°ç¨‹åºï¼ˆç«‹å…‹åŠï¼‰åŠå±æ‰“å¼€æˆ‘ä»¬çš„æ–°ç–†ä¸€ç æ¸¸å°ç¨‹åºï¼Œå¹¶ä¸”éœ€è¦åšå•ç‚¹ç™»å½•ï¼Œä»ç«‹å…‹åŠé‚£è¾¹ç›´æ¥æ— æ„Ÿç™»å½•æˆ‘ä»¬å°ç¨‹åºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b9cb609343f4d2b8bec25e4e4705ca0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FuZ3Bx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457220&amp;x-signature=3KqYnWB%2BRltQCYOT7VhGoCW0K7k%3D" alt="53a3eb48-2bf3-4a4e-b000-8b04b21eea40.png" loading="lazy"/></p>
<p>åˆšå¼€å§‹è§‰å¾—æ²¡å¤šå°‘äº‹ï¼Œäº‹ååšä¸‹æ¥ï¼Œè¿˜æ˜¯å‡ºäº†ä¸€äº›é—®é¢˜ã€‚ä¸»è¦åŸå› è¿˜æ˜¯å› ä¸ºæ¶‰åŠç¬¬ä¸‰æ–¹ï¼Œäº‹å…ˆç¼ºå°‘æ²Ÿé€šï¼Œæœ‰äº›ä¸œè¥¿æƒ³å½“ç„¶äº†ã€‚å½“æ—¶å¬äº§å“æè¿°éœ€æ±‚ï¼Œä»¥ä¸ºç¬¬ä¸‰æ–¹ï¼ˆç«‹å…‹åŠï¼‰é‚£è¾¹åŠå±æ‰“å¼€æˆ‘ä»¬çš„æ–°ç–†ä¸€ç æ¸¸å°ç¨‹åºï¼Œæ‰€æœ‰å‚æ•°éƒ½åœ¨<code>wx.navigateToMiniProgram</code>æ–¹æ³•çš„<code>path</code>å‚æ•°é‡Œé¢ï¼ˆå®é™…ä»–ä»¬ä¸€éƒ¨åˆ†å‚æ•°åœ¨<code>path</code>ä¸­ï¼Œå¦ä¸€éƒ¨åˆ†åœ¨<code>extraData</code>ä¸­ï¼‰ã€‚ç»“æœåšå®Œä¸Šçº¿ç”Ÿäº§ï¼ˆç¬¬ä¸‰æ–¹æ²¡æœ‰æä¾›å¼€å‘ç‰ˆå’Œä½“éªŒç‰ˆï¼Œåªæœ‰ç”Ÿäº§ç‰ˆæœ¬ï¼‰ï¼Œæ‰å‘ç°é—®é¢˜ï¼Œç»è¿‡å’Œç¬¬ä¸‰æ–¹å¤šç•ªçº¿ä¸Šè¯­è¨€æ²Ÿé€šï¼Œæ‰ææ¸…æ¥šé—®é¢˜æ‰€åœ¨ï¼Œæ²Ÿé€šè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸‰æ–¹å› ä¸ºä¸€äº›ç†ç”±æ‹’ç»ä¿®æ”¹ä¼ å‚æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘è¿™è¾¹åˆåªå¥½é…åˆä¿®æ”¹äº†æ¥æ”¶å‚æ•°æ–¹å¼ã€‚æœ€ç»ˆæ‰çº¿ä¸Šæµ‹è¯•æå®šã€‚</p>
<p>å•°å—¦äº†åŠå¤©ï¼Œè¿˜æ²¡è®²åˆ°æ­£é¢˜ï¼Œä»Šå¤©åœ¨è¿™é‡Œï¼Œæˆ‘ä¸»è¦æ˜¯æƒ³è®°å½•ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…ï¼Œéƒ½è¯´å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´å˜›ï¼Œä¸‹é¢å¼€å§‹è®°å½•ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…³äºæ‰“å¼€åŠå±å°ç¨‹åº</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fframework%2Fopen-ability%2FopenEmbeddedMiniProgram.html" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" ref="nofollow noopener noreferrer">æ‰“å¼€åŠå±å°ç¨‹åº</a>ï¼Œæˆ‘ä»¬å¯ä»¥ä»å¾®ä¿¡å®˜æ–¹æ–‡æ¡£ä¸­çŸ¥é“ï¼Œä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fapi%2Fnavigate%2Fwx.openEmbeddedMiniProgram.html" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/api/navigate/wx.openEmbeddedMiniProgram.html" ref="nofollow noopener noreferrer">wx.openEmbeddedMiniProgram</a> å³å¯ï¼Œä¸‹é¢ä»‹ç»ä¸‹å®ƒçš„å‡ ä¸ªé‡è¦å‚æ•°ã€‚</p>
<h3 data-id="heading-1">1ã€envVersion</h3>
<p><code>envVersion</code>è¡¨ç¤ºè¦æ‰“å¼€çš„å°ç¨‹åºç‰ˆæœ¬ï¼ŒåŒ…å«developã€trialã€release,ä»æ–‡æ¡£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa63b09a559b473688009a1cc9a0a1e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FuZ3Bx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457220&amp;x-signature=x%2F0Xw1YC7UuSyileyV%2FXqjEj8Hs%3D" alt="a5dbe248-974c-4210-aaea-a4ce93400199.png" loading="lazy"/>
ä¸­æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼Œå¦‚æœä¸»åŠ¨æ‰“å¼€æ–¹çš„å°ç¨‹åºæœªè®¾ç½®<code>envVersion</code>,æˆ–è€…è®¾ç½®ä¸ºæ­£å¼ç‰ˆ<code>release</code>ï¼Œé‚£ä¹ˆè¢«æ‰“å¼€æ–¹çš„å°ç¨‹åºä¹Ÿå¿…é¡»æ˜¯æ­£å¼ç‰ˆã€‚é€šä¿—è®²å°±æ˜¯ï¼Œæˆ‘å¼€å‘ï¼Œä½ ä¹Ÿå¼€å‘ï¼Œæˆ‘ä½“éªŒï¼Œä½ ä¹Ÿä½“éªŒï¼Œæˆ‘æ­£å¼ï¼Œä½ ä¹Ÿæ­£å¼ã€‚</p>
<p>å¦‚æœåŒæ–¹è¿˜åœ¨å¼€å‘è°ƒè¯•é˜¶æ®µï¼Œæœ€å¥½è¿˜æ˜¯è®¾ç½®ä¸ºä½“éªŒç‰ˆ<code>trial</code>æ¯”è¾ƒå¥½ï¼ŒåŒæ–¹éƒ½æ˜¯ä½“éªŒç‰ˆç‰ˆï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•ï¼Œç­‰å¼€å‘æµ‹è¯•æ²¡å•¥é—®é¢˜äº†ï¼Œå†æ”¹ä¸º<code>release</code>æˆ–è€…å»æ‰<code>envVersion</code>å‚æ•°ï¼Œä»¥é¿å…åœ¨æ­£å¼ç‰ˆå‘ç°é”™è¯¯ï¼Œç›²æ”¹åå†çº¿ä¸Šæµ‹è¯•ã€‚</p>
<p>æˆ‘ä»¬å½“æ—¶å°±æ˜¯åœ¨æ­£å¼ç‰ˆï¼Œæˆ‘è¿™é‡Œåªèƒ½ç›²æ”¹å¼€å‘ï¼Œæ˜“å‡ºé”™ï¼Œæ•ˆç‡ä½ã€‚</p>
<h3 data-id="heading-2">2ã€appIdã€pathã€extraData</h3>
<p><code>appId</code>ä¸ºè¦æ‰“å¼€çš„å°ç¨‹åº appIdï¼Œæ— éœ€å¤šè¨€ã€‚<code>path</code>ä¸ºè¦æ‰“å¼€çš„é¡µé¢è·¯å¾„ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²<code>string</code>ç±»å‹ï¼Œ<code>extraData</code>ä¸ºéœ€è¦ä¼ é€’ç»™ç›®æ ‡å°ç¨‹åºçš„æ•°æ®ï¼Œå€¼ä¸ºå¯¹è±¡<code>object</code>ç±»å‹ã€‚è¿™é‡Œçš„<code>path</code>ä¸ä»…ä»…å¯ä»¥è®¾ç½®è¦æ‰“å¼€çš„å°ç¨‹åºé¡µé¢è·¯å¾„ï¼Œè¿˜èƒ½ä¼ é€’å‚æ•°ï¼Œpath ä¸­ ? åé¢çš„éƒ¨åˆ†ä¼šæˆä¸º queryã€‚</p>
<p>è™½ç„¶<code>path</code>ã€<code>extraData</code>ä¸¤è€…éƒ½å¯ä»¥ä¼ é€’å‚æ•°ï¼Œä¸è¿‡å¤§å®¶éœ€è¦æ³¨æ„ä¸¤è€…è·å–å‚æ•°çš„åŒºåˆ«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b71d3f6caa104544b410f7c352abc965~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FuZ3Bx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457220&amp;x-signature=kjMsfR2%2F0sE3d9WbrUXthEkOig0%3D" alt="2abe8e13-7b1c-4358-a53a-f67382131344.png" loading="lazy"/></p>
<p>ä»æ–‡æ¡£ä¸­æˆ‘ä»¬å·²ç»å¾—çŸ¥ï¼Œä¸¤è€…ä¼ å‚æ–¹å¼éƒ½å¯ä»¥åœ¨appç”Ÿå‘½å‘¨æœŸ<code>onLaunch</code>,<code>onShow</code>ä¸­è·å–ï¼Œåªæœ‰<code>path</code>ä¼ é€’çš„å‚æ•°ï¼Œå¯ä»¥åœ¨é¡µé¢çº§ç”Ÿå‘½å‘¨æœŸ<code>onLoad</code>ä¸­å–å¾—ã€‚è¿™é‡Œå¤§å®¶å¼€å‘çš„æ—¶å€™ï¼Œä¸€å®šå¾—æ³¨æ„ã€‚</p>
<p>å…³äºå¦‚ä½•è·å–<code>extraData</code>å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å°ç¨‹åºApp.vueçš„<code>onLaunch</code>ã€<code>onShow</code>ä¸­æŒ‰å¦‚ä¸‹æ–¹å¼è·å–ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-comment">//onLaunch(opts) {</span>
        <span class="hljs-comment">// let extraData = opts?.referrerInfo?.extraData</span>
    <span class="hljs-comment">//},</span>
    <span class="hljs-comment">// å»ºè®®å¦‚æ— ç‰¹æ®Šè¦æ±‚åªæ‰§è¡Œä¸€æ¬¡ï¼Œè·å–extraDataå‚æ•°ï¼Œéƒ½åœ¨onShowä¸­æ‰§è¡Œ</span>
    onShow (opts) {
        <span class="hljs-keyword">let</span> extraData = opts?.<span class="hljs-property">referrerInfo</span>?.<span class="hljs-property">extraData</span>
    }
}
</code></pre>
<p>ä»ä¸Šæ¬¡é…åˆåŠå±æ‰“å¼€å°ç¨‹åºï¼Œå¼€å‘å•ç‚¹ç™»å½•çš„ç»éªŒæ¥çœ‹ï¼Œä¸€èˆ¬å†™åœ¨<code>onShow</code>ä¸­æœ€å¥½ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œ<code>onLaunch</code>åªåœ¨å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶è§¦å‘ï¼Œ<code>onShow</code>åˆ™æ˜¯å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–æ¯æ¬¡ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºæ—¶éƒ½ä¼šè§¦å‘ã€‚å¦‚æœæ²¡æœ‰éœ€æ±‚è¯´åªè¦æ‰§è¡Œä¸€æ¬¡ï¼Œé‚£ä¹ˆä½¿ç”¨<code>onShow</code>åˆ™æ˜¯æœ€ä¸ºç¨³å¦¥ã€‚</p>
<p>æˆ‘å½“æ—¶å°±æ˜¯æœ€å…ˆå†™åœ¨<code>onLaunch</code>ä¸­ï¼Œå¯¼è‡´ä»–ä»¬ç«‹å…‹åŠå°ç¨‹åºç”¨æˆ·æ‰“å¼€æˆ‘ä»¬ä¸€ç æ¸¸å°ç¨‹åºï¼Œä¹‹åé€€å‡ºæˆ‘ä»¬å°ç¨‹åºå(ç”¨æˆ·æ²¡æœ‰åˆ é™¤æˆ‘ä»¬ä¸€ç æ¸¸å°ç¨‹åº)ï¼Œå†æ¬¡æ“ä½œï¼Œè¿™æ—¶ï¼Œç™»å½•å¤±è´¥ã€‚åŸå› å°±æ˜¯è¿›å…¥æˆ‘ä»¬å°ç¨‹åºï¼Œä¸ä¼šå†æ‰§è¡Œ<code>onLaunch</code>ä¸­çš„ä»£ç ï¼Œè·å–ä¸åˆ°<code>extraData</code>å‚æ•°ï¼Œä»è€Œå¯¼è‡´ç™»å½•å¤±è´¥ã€‚åæ¥æˆ‘åˆæ”¹åˆ°<code>onShow</code>ä¸­æ‰è§£å†³äº†é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82fb935052fc4e299c636b33bbfb64c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FuZ3Bx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457220&amp;x-signature=ry2xHV141IcHINfjPf5Pht833o8%3D" alt="2cd48bac-714f-4799-b0dc-f4bb3ab52d98.png" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€åŒæ—¶åœ¨<code>path</code>ã€<code>extraData</code>ä¸­ä¼ äº†å‚ï¼Œè¢«åŠå±æ‰“å¼€çš„å°ç¨‹åºè¿™è¾¹ï¼Œå¦‚ä½•å¤„ç†å‚æ•°ï¼Ÿ</h2>
<p>æ‹¿æˆ‘ä»¬ä¸Šæ¬¡å¯¹æ¥ç«‹å…‹åŠä¸ºä¾‹ï¼Œåæ¥äº†è§£åˆ°ï¼Œä»–ä»¬æ˜¯è¿™æ ·ä¼ çš„å‚æ•°ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9228a662e77743ae826b60e7b5ca4d28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FuZ3Bx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457220&amp;x-signature=8oo9Ve5efUfzLNJV9fv34FfcPTs%3D" alt="81bb6b34b67ffbcceadd63d319690459.png" loading="lazy"/></p>
<p><code>path</code>ä¸­ä¼ é€’äº†å‚æ•°<code>?cityCode=650200000000</code>,<code>extraData</code>ä¸­ä¼ äº†stateã€tokenã€‚ä»ç«‹å…‹åŠå°ç¨‹åºè·³è½¬è¿‡æ¥ï¼Œæ˜¯éœ€è¦ç›´æ¥è¿›å…¥æˆ‘ä»¬ä¸€ç æ¸¸å°ç¨‹åºçš„æŒ‡å®šåœ°åŒºçš„é¦–é¡µã€‚</p>
<p>ç”±äº<code>extraData</code>ä¸­ä¹Ÿæœ‰ä¼ å‚ï¼Œä½†å¤„ç†é€»è¾‘åªèƒ½åœ¨è¢«è·³è½¬çš„é¡µé¢ä¸­å¤„ç†ï¼Œæ‰€ä»¥æˆ‘åœ¨<code>app.onShow</code>ä¸­è·å–å‚æ•°åï¼Œå°†å‚æ•°å­˜å‚¨åˆ°äº†storeä¸­ï¼Œè¿™æ ·åœ¨é¡µé¢ä¸­å°±èƒ½è·å–åˆ°ä¼ é€’è¿‡æ¥çš„<code>extraData</code>å‚æ•°äº†ï¼ˆä¸è¿‡åœ¨å°ç¨‹åºé€€å‡ºæˆ–è€…é€€å‡ºç™»å½•æ—¶ï¼Œè®°å¾—é”€æ¯ï¼Œé¿å…å…¶ä»–ç”¨æˆ·ç™»å½•è¯¯ç”¨ç«‹å…‹åŠçš„ç™»å½•é€»è¾‘ï¼‰ã€‚</p>
<p>App.vue</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">onUnload</span>(<span class="hljs-params"/>){ 
    uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">'lkbToken'</span>, <span class="hljs-string">""</span>) 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'setExtraData'</span>, <span class="hljs-literal">null</span>) 
}
</code></pre>
<p>store/index.js</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">logout</span>(<span class="hljs-params">state</span>) {
    <span class="hljs-comment">// å…¶ä»–ä»£ç å·²çœç•¥</span>
    state.<span class="hljs-property">extraData</span> = <span class="hljs-literal">null</span>
    uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">'extraData'</span>, <span class="hljs-literal">null</span>)
    uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">'lkbToken'</span>,  <span class="hljs-string">""</span>)  
    uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">'platformOpenId'</span>,  <span class="hljs-string">""</span>)
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€å®Œæ•´çš„åŠå±æ‰“å¼€å°ç¨‹åºï¼Œå•ç‚¹ç™»å½•åŠŸèƒ½æ¶‰åŠçš„æ”¹åŠ¨å¦‚ä¸‹ï¼š</h2>
<p>1ã€å°ç¨‹åº App.vue</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  onShow (opt) {
    <span class="hljs-keyword">let</span> extraData = opt?.<span class="hljs-property">referrerInfo</span>?.<span class="hljs-property">extraData</span>
    <span class="hljs-keyword">if</span>(extraData){
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'setExtraData'</span>,extraData);
    }<span class="hljs-keyword">else</span>{
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'setExtraData'</span>, <span class="hljs-literal">null</span>)
    }
  },
  <span class="hljs-title function_">onUnload</span>(<span class="hljs-params"/>){
    uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">'lkbToken'</span>, <span class="hljs-string">""</span>)  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'setExtraData'</span>, <span class="hljs-literal">null</span>)
  }
}
</code></pre>
<p>2ã€å°ç¨‹åº pages/index/main.vue</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">q</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// æ˜¯å¦æ˜¯æ‰«ç /ä¼ å‚åˆ‡æ¢åŸå¸‚,åŸæ¥è®¾ç½®çš„æ˜¯-1ï¼Œä½†æ˜¯å½“ä¸º-1æ—¶æ°¸è¿œéƒ½ä¸å¯èƒ½ä¼šå±•ç¤ºæ¨èæ™¯åŒºå’ŒåŸå¸‚</span>
            query : {},
            lkbLoading : <span class="hljs-literal">false</span>
        };
    },
    <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">opt</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span> = opt
        <span class="hljs-comment">// æ‰«æäºŒç»´ç è¿›å…¥å°ç¨‹åºï¼ŒäºŒç»´ç å‚æ•°è·å–</span>
        <span class="hljs-keyword">if</span> (opt.<span class="hljs-property">q</span>) {
            <span class="hljs-keyword">const</span> query = <span class="hljs-built_in">decodeURIComponent</span>(opt.<span class="hljs-property">q</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">"?"</span>)[<span class="hljs-number">1</span>];
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$qs</span>.<span class="hljs-title function_">parse</span>(query)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">q</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>.<span class="hljs-property">cityCode</span>;
        } 
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt.<span class="hljs-property">cityCode</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">q</span> = opt.<span class="hljs-property">cityCode</span>;
        }
        <span class="hljs-comment">// ç«‹å…‹åŠåŠå±æ‰“å¼€æˆ‘ä»¬å°ç¨‹åº,é»˜è®¤è¿›å…¥å…‹æ‹‰ç›ä¾é¦–é¡µ(è¿™é‡Œçš„opt.tokenæ˜¯ç«‹å…‹åŠçš„tokenå­—ç¬¦ä¸²)</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLkbBool</span>() ){
            opt.<span class="hljs-property">cityCode</span>= <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>.<span class="hljs-property">cityCode</span> || <span class="hljs-string">'650200000000'</span> 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">q</span> = opt.<span class="hljs-property">cityCode</span>;
            <span class="hljs-keyword">if</span> (!uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"token"</span>)) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">likeBanLogin</span>()
            };
        }
        
         <span class="hljs-comment">// å…¶ä»–æ— å…³é€»è¾‘ç•¥...</span>
    },

    <span class="hljs-title function_">onShow</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLkbBool</span>()){
            <span class="hljs-keyword">if</span> (!uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"token"</span>)) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">likeBanLogin</span>()
            };
            <span class="hljs-keyword">return</span> 
        }
        
        <span class="hljs-comment">// å…¶ä»–æ— å…³é€»è¾‘ç•¥...</span>
    },
    <span class="hljs-attr">methods</span>: {
        <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ç«‹å…‹åŠä¼ å‚</span>
        <span class="hljs-title function_">getLkbBool</span>(<span class="hljs-params"/>){
            <span class="hljs-keyword">const</span> extraData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>.<span class="hljs-property">extraData</span>;
            <span class="hljs-keyword">return</span> (extraData.<span class="hljs-property">token</span> &amp;&amp; extraData.<span class="hljs-property">state</span>===<span class="hljs-string">'likeban'</span>) || uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"lkbToken"</span>)
        },
        <span class="hljs-comment">// è·å–å°ç¨‹åºç™»å½•ç”¨æˆ·openidç­‰ä¿¡æ¯</span>
        <span class="hljs-title function_">getOpenId</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
                uni.<span class="hljs-title function_">showLoading</span>();
                uni.<span class="hljs-title function_">login</span>({
                    <span class="hljs-comment">//è·å–ç™»å½•å‡­è¯</span>
                    <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">{ code }</span>) =&gt;</span> {
                        <span class="hljs-keyword">if</span> (code) {
                            <span class="hljs-keyword">let</span> url = <span class="hljs-string">""</span>;
                            <span class="hljs-comment">// #ifdef MP-WEIXIN</span>
                            url = <span class="hljs-string">"/auth/getOpenId"</span>;
                            <span class="hljs-comment">// #endif</span>
                            <span class="hljs-comment">// #ifdef MP-ALIPAY</span>
                            url = <span class="hljs-string">"/auth/getAliPayUserId"</span>;
                            <span class="hljs-comment">// #endif</span>
                            <span class="hljs-comment">//è·å– openid</span>
                            <span class="hljs-variable language_">this</span>.<span class="hljs-property">$http</span>.<span class="hljs-title function_">post</span>(url, {
                                <span class="hljs-attr">code</span>: code.<span class="hljs-title function_">split</span>(<span class="hljs-string">"&amp;"</span>)[<span class="hljs-number">0</span>],
                            }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
                                uni.<span class="hljs-title function_">hideLoading</span>();
                                <span class="hljs-title function_">resolve</span>(res)
                            }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">() =&gt;</span> {
                                uni.<span class="hljs-title function_">hideLoading</span>();
                                <span class="hljs-title function_">reject</span>()
                            });
                        }
                    },
                    <span class="hljs-title function_">fail</span>(<span class="hljs-params">err</span>) {
                        uni.<span class="hljs-title function_">hideLoading</span>();
                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"uni.loginå¤±è´¥"</span>, err);
                        <span class="hljs-title function_">reject</span>(err)
                    },
                });
            })
        },
        <span class="hljs-comment">// ç«‹å…‹åŠç”¨æˆ·å•ç‚¹ç™»å½•</span>
        <span class="hljs-title function_">likeBanLogin</span>(<span class="hljs-params"/>){
            <span class="hljs-keyword">const</span> extraToken = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>.<span class="hljs-property">extraData</span>?.<span class="hljs-property">token</span>;
            <span class="hljs-keyword">if</span>(extraToken){
                <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>,<span class="hljs-string">'token'</span>,extraToken)
                uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"lkbToken"</span>,extraToken);
            }
            <span class="hljs-comment">// è¿™é‡Œçš„query.platformOpenIdæœ€ç»ˆæ²¡ç”¨åˆ°ï¼Œæœ€å…ˆä»å•†åŸè·³è½¬å›æ¥ä½¿ç”¨çš„ wx.miniProgram.switchTab,</span>
            <span class="hljs-comment">// å®é™…æµ‹è¯•å‘ç°æ— æ³•å¸¦å‚è·³è½¬ï¼Œæ”¹ä¸º wx.miniProgram.redirectTo è·³è½¬å›å°ç¨‹åºä¸­è½¬é¡µ pages/lkb/main.vue åï¼Œ</span>
            <span class="hljs-comment">// å·²ç»å°† platformOpenId å‚æ•°è®¾ç½®åœ¨äº†Storageä¸­ï¼ˆå¯æŸ¥çœ‹åé¢çš„ä»£ç ï¼‰</span>
            <span class="hljs-comment">//let platformOpenId = this.query.platformOpenId || uni.getStorageSync("platformOpenId"); </span>
            <span class="hljs-keyword">let</span> platformOpenId = uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>);
            <span class="hljs-keyword">if</span> (!platformOpenId) {
                <span class="hljs-comment">// let url = `${process.env.VUE_APP_H5_HOST}/yytour/wechat/mp-auth?source=${process.env.VUE_APP_SOURCE}&amp;lkbToken=${extraToken}`;</span>
                <span class="hljs-keyword">let</span> url = <span class="hljs-string">`<span class="hljs-subst">${process.env.VUE_APP_H5_HOST}</span>/yytour/wechat/mp-auth?source=<span class="hljs-subst">${process.env.VUE_APP_SOURCE}</span>`</span>;
                uni.<span class="hljs-title function_">redirectTo</span>({
                        <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/webView/main?url=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(url)}</span>`</span>,
                });
                <span class="hljs-keyword">return</span> 
            } 

            !uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>) &amp;&amp; uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>, platformOpenId);
            <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">lkbLoading</span>){
                <span class="hljs-keyword">return</span> 
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lkbLoading</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOpenId</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>{
                <span class="hljs-keyword">const</span> data = res.<span class="hljs-property">data</span>
                <span class="hljs-comment">// #ifdef MP-WEIXIN</span>
                uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"openid"</span>, data.<span class="hljs-property">openId</span>);
                <span class="hljs-comment">// #endif</span>
                <span class="hljs-comment">// #ifdef MP-ALIPAY</span>
                uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"aliPayUserId"</span>, data.<span class="hljs-property">aliPayUserId</span>);
                <span class="hljs-comment">// #endif</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">"updateUserInfo"</span>, data);
                <span class="hljs-keyword">let</span> storageLkbToken = extraToken || <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>.<span class="hljs-property">token</span> || uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"lkbToken"</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$http</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">"/auth/miniLoginOfLiKeBan"</span>, {
                    <span class="hljs-attr">openId</span>: data.<span class="hljs-property">openId</span>,
                    <span class="hljs-attr">platformOpenId</span>: data.<span class="hljs-property">platformOpenId</span> || uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>),
                    liKeBanEncryptToken : storageLkbToken
                })
                .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">"updateUserInfo"</span>, res.<span class="hljs-property">data</span>);
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">"setToken"</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">token</span>);
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">"setShopToken"</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">merchantToken</span>);
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lkbLoading</span> = <span class="hljs-literal">false</span>;
                    <span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">()=&gt;</span>{
                        <span class="hljs-comment">//this.autoMarketing()</span>
                    })
                }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>{
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lkbLoading</span> = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">if</span> (res.<span class="hljs-property">errorCode</span> === <span class="hljs-string">'00012'</span>) {
                        <span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
                            uni.<span class="hljs-title function_">navigateTo</span>({
                                <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/login/main?redirect=true`</span> 
                            })
                            <span class="hljs-built_in">clearTimeout</span>(timer)
                        },<span class="hljs-number">1500</span>)
                    }
                    <span class="hljs-comment">// $http ä¸­å·²ç»åšæç¤ºï¼Œè¿™é‡Œå°±ä¸å†é‡å¤å†™äº†</span>
                    <span class="hljs-comment">// else{</span>
                            <span class="hljs-comment">// uni.showToast({ title: res.message, icon: 'none' })</span>
                    <span class="hljs-comment">// }</span>
                });
            })
        },
    }
}
</code></pre>
<p>ä¸Šé¢<code>likeBanLogin</code>æ–¹æ³•ä¸­æœ‰ä¸€æ®µä»£ç ï¼Œ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> platformOpenId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>.<span class="hljs-property">platformOpenId</span> || uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>);
<span class="hljs-comment">// console.log('---likeBanLogin---platformOpenId---',platformOpenId)</span>
<span class="hljs-keyword">if</span> (!platformOpenId) {
    <span class="hljs-comment">// console.log('---likeBanLogin---!platformOpenId---')</span>
    <span class="hljs-keyword">let</span> url = <span class="hljs-string">`<span class="hljs-subst">${process.env.VUE_APP_H5_HOST}</span>/yytour/wechat/mp-auth?source=<span class="hljs-subst">${process.env.VUE_APP_SOURCE}</span>&amp;lkbToken=<span class="hljs-subst">${extraToken}</span>`</span>;
    uni.<span class="hljs-title function_">redirectTo</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/webView/main?url=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(url)}</span>`</span>,
    });
    <span class="hljs-keyword">return</span> 
} 
</code></pre>
<p>è¿™æ˜¯æˆ‘ä»¬ä»å•†åŸè·å–ç™»å½•æ¥å£çš„å¿…å¡«å‚æ•°<code>platformOpenId</code>,å•†åŸå‰ç«¯ç”¨çš„æ˜¯H5å¼€å‘çš„ï¼Œå…·ä½“ä¸ºå•¥è¦è·å–è¿™ä¸ªå‚æ•°ï¼Œè¿™æ˜¯è¿™ä¸ªé¡¹ç›®çš„ä¸€äº›åå°é€»è¾‘éœ€è¦ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å»çº ç»“è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å•†åŸH5é¡µé¢ pages/mp-auth/index.vue</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
        <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">if</span> (!code) {
            <span class="hljs-variable language_">this</span>.$toAuthUrl() <span class="hljs-comment">// å»æˆæƒ è·å–code</span>
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å·²è·å–code, è¿›è¡Œç™»å½•.</span>
            <span class="hljs-keyword">let</span> newMchId = (source == <span class="hljs-number">1</span> || source == <span class="hljs-number">0</span> || !source) ? mchId : -<span class="hljs-number">1</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">$http</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">'merchant/mch-user/userInfoByCode'</span>, {
              code,
              <span class="hljs-attr">mchId</span>: newMchId
            }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">{ data }</span>) =&gt;</span> {
              <span class="hljs-keyword">if</span> (!data) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç™»å½•æ¥å£å‡ºé”™, dataä¸ºç©º'</span>)
                <span class="hljs-keyword">return</span>
              }
              <span class="hljs-comment">// ç«‹å…‹åŠç™»å½•å¤„ç†é€»è¾‘</span>
              <span class="hljs-keyword">if</span>(lkbToken){
                <span class="hljs-comment">// switchTab æ— æ³•å¸¦å‚æ•°è·³è½¬,ä½¿ç”¨ä¸€ä¸ªä¸­è½¬é¡µé¢`/pages/lkb/main`æ¥æ”¶å‚æ•°å¹¶å¤„ç†ç›¸åº”é€»è¾‘ï¼Œç„¶åä»ä¸­è½¬é¡µé¢è·³è½¬é¦–é¡µ`/pages/index/main`</span>
                <span class="hljs-comment">// wx.miniProgram.switchTab({</span>
                <span class="hljs-comment">//   url: `/pages/index/main?platformOpenId=${data.platformOpenId}&amp;token=${lkbToken}`</span>
                <span class="hljs-comment">// })</span>
                wx.<span class="hljs-property">miniProgram</span>.<span class="hljs-title function_">redirectTo</span>({
                  <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/lkb/main?platformOpenId=<span class="hljs-subst">${data.platformOpenId}</span>&amp;token=<span class="hljs-subst">${lkbToken}</span>`</span>
                })
              }<span class="hljs-keyword">else</span>{
                wx.<span class="hljs-property">miniProgram</span>.<span class="hljs-title function_">redirectTo</span>({
                  <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/login/main?platformOpenId=<span class="hljs-subst">${data.platformOpenId}</span>&amp;redirect=<span class="hljs-subst">${redirect}</span>`</span>
                })
              }
            })
          }
        }
    }
</code></pre>
<p>æœ¬æ¥ç™»å½•å‰ä»å°ç¨‹åºè·³è½¬åˆ°å•†åŸè¿™ä¸ªé¡µé¢è·å–åˆ°å‚æ•°åå°±å¯ä»¥ç›´æ¥è¿”å›å°ç¨‹åºé¦–é¡µçš„ï¼Œå¯è¦è¿”å›çš„å°ç¨‹åºé¡µé¢æ˜¯tabé¦–é¡µï¼Œ<code>wx.miniProgram.switchTab</code>çš„urlä¸­æ— æ³•ä¼ é€’queryå‚æ•°ï¼Œæˆ‘åªå¥½ä½¿ç”¨<code>wx.miniProgram.redirectTo</code>ï¼Œåˆç‰¹æ„åœ¨å°ç¨‹åºä¸­å»ºäº†ä¸€ä¸ªé¡µé¢æ–‡ä»¶ <code>pages/lkb/main.vue</code>ï¼Œç”¨äºåœ¨å°ç¨‹åºä¸­æ¥æ”¶ä»å•†åŸH5è·å–åˆ°çš„ç™»å½•æ¥å£å‚æ•°<code>platformOpenId</code>ã€‚</p>
<p>å°ç¨‹åº pages/lkb/main.vue</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">opts</span>) {
        <span class="hljs-keyword">let</span> { platformOpenId, token } = opts;
        uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"platformOpenId"</span>, platformOpenId);
        <span class="hljs-comment">//token &amp;&amp; uni.setStorageSync("lkbToken", token);</span>
        <span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">() =&gt;</span> {
            uni.<span class="hljs-title function_">switchTab</span>({
                <span class="hljs-attr">url</span>: <span class="hljs-string">"/pages/index/main"</span>
            });
        });
    },
};
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ’æ§½(Slots)ï¼ˆå®Œæ•´è¯¦ç»†ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7583981974408445962</link>    <guid>https://juejin.cn/post/7583981974408445962</guid>    <pubDate>2025-12-16T03:13:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583981974408445962" data-draft-id="7582528397866123291" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ’æ§½(Slots)ï¼ˆå®Œæ•´è¯¦ç»†ç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-16T03:13:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="nnnnna"/> <meta itemprop="url" content="https://juejin.cn/user/248908298065256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ’æ§½(Slots)ï¼ˆå®Œæ•´è¯¦ç»†ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/248908298065256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    nnnnna
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:13:40.000Z" title="Tue Dec 16 2025 03:13:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åŒ¿åæ’æ§½</h2>
<h3 data-id="heading-1">1.é€‚ç”¨åœºæ™¯</h3>
<p>å­ç»„ä»¶ä¸­åªæœ‰ä¸€ä¸ªä½ç½®å…è®¸çˆ¶ç»„ä»¶è‡ªå®šä¹‰å†…å®¹</p>
<h3 data-id="heading-2">2.ä½¿ç”¨æ–¹æ³•</h3>
<p>ç¬¬ä¸€æ­¥ï¼šåœ¨å­ç»„ä»¶ä¸­å®šä¹‰slotæ’æ§½</p>
<pre><code class="hljs language-å­ç»„ä»¶" lang="å­ç»„ä»¶">&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    &lt;slot&gt;&lt;/slot&gt;
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­çš„å­ç»„ä»¶æ ‡ç­¾å†…ç›´æ¥å¡«å†™éœ€è¦æ’å…¥çš„å†…å®¹</p>
<pre><code class="hljs language-çˆ¶ç»„ä»¶" lang="çˆ¶ç»„ä»¶">&lt;template&gt;
  &lt;div&gt;
    &lt;TestComOne&gt;
      &lt;p&gt;æ’å…¥çš„æ–°å†…å®¹&lt;/p&gt;
    &lt;/TestComOne&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>æœ€ç»ˆåœ¨å­ç»„ä»¶æ¸²æŸ“å‡ºæ¥çš„ç»“æœï¼š</p>
<pre><code class="hljs language-æ¸²æŸ“" lang="æ¸²æŸ“">&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    &lt;p&gt;æ’å…¥çš„æ–°å†…å®¹&lt;/p&gt;
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>å½“çˆ¶ç»„ä»¶ä¸­æ²¡æœ‰æä¾›æ’æ§½å†…å®¹æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™å­ç»„ä»¶çš„æ’æ§½ä¸­æ·»åŠ é»˜è®¤å†…å®¹</p>
<pre><code class="hljs language-æ·»åŠ é»˜è®¤å†…å®¹" lang="æ·»åŠ é»˜è®¤å†…å®¹">&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    &lt;slot&gt;é»˜è®¤å†…å®¹&lt;/slot&gt;
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>æœ€ç»ˆåœ¨å­ç»„ä»¶æ¸²æŸ“å‡ºæ¥çš„ç»“æœï¼š</p>
<pre><code class="hljs language-æ¸²æŸ“" lang="æ¸²æŸ“">&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    é»˜è®¤å†…å®¹
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-3">äºŒã€å…·åæ’æ§½</h2>
<h3 data-id="heading-4">1.é€‚ç”¨åœºæ™¯</h3>
<p>å­ç»„ä»¶ä¸­æœ‰å¤šä¸ªä½ç½®å…è®¸çˆ¶ç»„ä»¶è‡ªå®šä¹‰å†…å®¹</p>
<h3 data-id="heading-5">2.ä½¿ç”¨æ–¹æ³•</h3>
<p>ç¬¬ä¸€æ­¥ï¼šåœ¨å­ç»„ä»¶ä¸­å®šä¹‰å¤šä¸ªslotæ’æ§½ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªæ’æ§½æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„attributeÂ <code>name</code></p>
<pre><code class="hljs language-å¤šä¸ªæ’æ§½" lang="å¤šä¸ªæ’æ§½">&lt;template&gt;
  &lt;div&gt;
    &lt;slot name="slotTop"&gt;&lt;/slot&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    &lt;slot name="slotContent"&gt;&lt;/slot&gt;
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
    &lt;slot name="slotBottom"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å¯¹åº”çš„æ’æ§½å</p>
<pre><code class="hljs language-çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ªæ’æ§½" lang="çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ªæ’æ§½">&lt;template&gt;
  &lt;div&gt;
    &lt;TestComOne&gt;
      &lt;template #slotTop&gt;å¤´éƒ¨ä¸Šé¢&lt;/template&gt;
      &lt;template #slotContent&gt;ä¸­é—´&lt;/template&gt;
      &lt;template #slotBottom&gt;å°¾éƒ¨ä¸‹é¢&lt;/template&gt;
    &lt;/TestComOne&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€ä½œç”¨åŸŸæ’æ§½</h2>
<h3 data-id="heading-7">1.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½</h3>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬æƒ³è¦æ’æ§½çš„å†…å®¹ä½¿ç”¨åˆ°å­ç»„ä»¶åŸŸå†…çš„æ•°æ®ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°æ’æ§½</p>
<h3 data-id="heading-8">2.ä½¿ç”¨æ–¹æ³•</h3>
<p>ç¬¬ä¸€æ­¥ï¼šåœ¨å­ç»„ä»¶ä¸­ï¼Œå¯ä»¥åƒç»„ä»¶ä¼ é€’propsé‚£æ ·ï¼Œå‘ä¸€ä¸ªæ’æ§½slotä¼ é€’<code>attributes</code></p>
<pre><code class="hljs language-å­ç»„ä»¶æ·»åŠ attributes" lang="å­ç»„ä»¶æ·»åŠ attributes">&lt;template&gt;
  &lt;div&gt;
    &lt;slot name="slotTop"&gt;&lt;/slot&gt;
    &lt;header&gt;å¤´éƒ¨&lt;/header&gt;
    &lt;slot name="slotContent" height="180" :list="list"&gt;&lt;/slot&gt;
    &lt;footer&gt;å°¾éƒ¨&lt;/footer&gt;
    &lt;slot name="slotBottom"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref } from "vue";
const list = ref({ name: "å¼ ä¸‰", old: 18 });
&lt;/script&gt;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œæ‹¿åˆ°å¯¹åº”çš„å€¼</p>
<pre><code class="hljs language-çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨" lang="çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨">&lt;template&gt;
  &lt;div&gt;
    &lt;TestComOne&gt;
      &lt;template #slotContent="{ height, list }"&gt;
        &lt;p&gt;èº«é«˜ï¼š{{ height }}&lt;/p&gt;
        &lt;p&gt;å§“åï¼š{{ list.name }}&lt;/p&gt;
        &lt;p&gt;å¹´é¾„ï¼š{{ list.old }}&lt;/p&gt;
      &lt;/template&gt;
    &lt;/TestComOne&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import TestComOne from "./components/index.vue";
&lt;/script&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ RAG æ‰“é€ ä¸“å±çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7583921477614239779</link>    <guid>https://juejin.cn/post/7583921477614239779</guid>    <pubDate>2025-12-16T02:15:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583921477614239779" data-draft-id="7583955708317990912" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ RAG æ‰“é€ ä¸“å±çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-16T02:15:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿæµ©AI"/> <meta itemprop="url" content="https://juejin.cn/user/2904236059009760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ RAG æ‰“é€ ä¸“å±çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2904236059009760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿæµ©AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:15:17.000Z" title="Tue Dec 16 2025 02:15:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®å½•</h2>
<ol>
<li><a href="#%E4%B8%80rag%E7%AE%80%E4%BB%8B" title="#%E4%B8%80rag%E7%AE%80%E4%BB%8B">ä¸€ã€RAGç®€ä»‹</a></li>
<li><a href="#%E4%BA%8Cembedding%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9" title="#%E4%BA%8Cembedding%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9">äºŒã€Embeddingæ¨¡å‹é€‰æ‹©</a></li>
<li><a href="#%E4%B8%89rag%E5%AE%9E%E6%88%98" title="#%E4%B8%89rag%E5%AE%9E%E6%88%98">ä¸‰ã€RAGå®æˆ˜</a></li>
<li><a href="#%E5%9B%9Blangchain%E4%B8%AD%E7%9A%84%E9%97%AE%E7%AD%94%E9%93%BE" title="#%E5%9B%9Blangchain%E4%B8%AD%E7%9A%84%E9%97%AE%E7%AD%94%E9%93%BE">å››ã€LangChainä¸­çš„é—®ç­”é“¾</a></li>
<li><a href="#%E4%BA%94%E5%A6%82%E6%9E%9Cllm%E5%8F%AF%E4%BB%A5%E5%A4%84%E7%90%86%E6%97%A0%E9%99%90%E4%B8%8A%E4%B8%8B%E6%96%87rag%E8%BF%98%E6%9C%89%E6%84%8F%E4%B9%89%E5%90%97" title="#%E4%BA%94%E5%A6%82%E6%9E%9Cllm%E5%8F%AF%E4%BB%A5%E5%A4%84%E7%90%86%E6%97%A0%E9%99%90%E4%B8%8A%E4%B8%8B%E6%96%87rag%E8%BF%98%E6%9C%89%E6%84%8F%E4%B9%89%E5%90%97">äº”ã€å¦‚æœLLMå¯ä»¥å¤„ç†æ— é™ä¸Šä¸‹æ–‡ï¼ŒRAGè¿˜æœ‰æ„ä¹‰å—ï¼Ÿ</a></li>
</ol>
<hr/>
<p>å¤§æ¨¡å‹èƒ½åŠ›å¼ºå¤§ï¼Œå´å—é™äºé™æ€çŸ¥è¯†åº“ï¼Œè¿˜å®¹æ˜“"ä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“"ã€‚RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ­£æ˜¯ç ´å±€å…³é”®ï¼æœ¬æ–‡æ·±å…¥æµ…å‡ºè®²è§£ RAG çš„æ ¸å¿ƒåŸç†â€”â€”é€šè¿‡å®æ—¶æ£€ç´¢å¤–éƒ¨çŸ¥è¯†åº“ï¼Œä¸ºç”Ÿæˆæ¨¡å‹æ³¨å…¥æœ€æ–°ã€æœ€å‡†çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ˜¾è‘—æå‡å›ç­”çš„å‡†ç¡®æ€§ã€ä¸“ä¸šæ€§ä¸å¯è§£é‡Šæ€§ã€‚</p>
<p>å¸¦ä½ <strong>ä»é›¶æ­å»ºæœ¬åœ° RAG ç³»ç»Ÿ</strong>ï¼šä½¿ç”¨ PyPDF2 è§£æ PDFã€DashScope åµŒå…¥æ¨¡å‹å‘é‡åŒ–ã€Faiss æ„å»ºé«˜æ•ˆæ£€ç´¢åº“ï¼Œå¹¶é€šè¿‡ LangChain è°ƒç”¨ DeepSeek å¤§æ¨¡å‹å®ç°æ™ºèƒ½é—®ç­”ã€‚å…¨æµç¨‹è¦†ç›–æ•°æ®é¢„å¤„ç†ã€ç´¢å¼•æ„å»ºåˆ°é—®ç­”ç”Ÿæˆï¼Œé™„å…³é”®æŠ€æœ¯ç»†èŠ‚ä¸å·¥ç¨‹å®è·µå»ºè®®ã€‚</p>
<p>æ— è®ºä½ æ˜¯å¼€å‘è€…ã€AI çˆ±å¥½è€…ï¼Œè¿˜æ˜¯ä¼ä¸šæŠ€æœ¯å†³ç­–è€…ï¼Œè¿™ç¯‡å¹²è´§éƒ½èƒ½å¸®ä½ å¿«é€ŸæŒæ¡ RAG è½åœ°çš„æ ¸å¿ƒèƒ½åŠ›ï¼</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€RAGç®€ä»‹</h2>
<h3 data-id="heading-2">1. ä»€ä¹ˆæ˜¯RAGï¼Ÿ</h3>
<p><strong>RAGï¼ˆRetrieval-Augmented Generationï¼‰ï¼š</strong></p>
<p>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæ˜¯ä¸€ç§ç»“åˆä¿¡æ¯æ£€ç´¢ï¼ˆRetrievalï¼‰å’Œæ–‡æœ¬ç”Ÿæˆï¼ˆGenerationï¼‰çš„æŠ€æœ¯ã€‚</p>
<p>RAGæŠ€æœ¯é€šè¿‡å®æ—¶æ£€ç´¢ç›¸å…³æ–‡æ¡£æˆ–ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥åˆ°ç”Ÿæˆæ¨¡å‹ä¸­ï¼Œä»è€Œæé«˜ç”Ÿæˆç»“æœçš„æ—¶æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7093c10b77e6404a916a6c430d91a3d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=z4ypXr30oYGdWzQ2QSYHs%2B6IN8g%3D" alt="img_1.jpg" loading="lazy"/></p>
<h3 data-id="heading-3">2. RAGçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>
<p><strong>è§£å†³çŸ¥è¯†æ—¶æ•ˆæ€§é—®é¢˜</strong><br/>
å¤§æ¨¡å‹çš„è®­ç»ƒæ•°æ®é€šå¸¸æ˜¯é™æ€çš„ï¼Œæ— æ³•æ¶µç›–æœ€æ–°ä¿¡æ¯ï¼Œè€ŒRAGå¯ä»¥æ£€ç´¢å¤–éƒ¨çŸ¥è¯†åº“å®æ—¶æ›´æ–°ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>å‡å°‘æ¨¡å‹å¹»è§‰</strong><br/>
é€šè¿‡å¼•å…¥å¤–éƒ¨çŸ¥è¯†ï¼ŒRAGèƒ½å¤Ÿå‡å°‘æ¨¡å‹ç”Ÿæˆè™šå‡æˆ–ä¸å‡†ç¡®å†…å®¹çš„å¯èƒ½æ€§ã€‚</p>
</li>
<li>
<p><strong>æå‡ä¸“ä¸šé¢†åŸŸå›ç­”è´¨é‡</strong><br/>
RAGèƒ½å¤Ÿç»“åˆå‚ç›´é¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†åº“ï¼Œç”Ÿæˆæ›´å…·ä¸“ä¸šæ·±åº¦çš„å›ç­”ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæˆå†…å®¹çš„æº¯æºï¼ˆå¯è§£é‡Šæ€§ï¼‰</strong></p>
</li>
</ul>
<h3 data-id="heading-4">3. RAG çš„æ ¸å¿ƒåŸç†ä¸æµç¨‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f2f0580e6cf4700ab79c85d5b1b9044~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=Ug3S4qdCTYRUyEKs4IyOTfdDoKQ%3D" alt="img_2.jpg" loading="lazy"/></p>
<p><strong>æ­¥éª¤1ï¼šæ•°æ®é¢„å¤„ç†ï¼Œæ„å»ºç´¢å¼•åº“</strong></p>
<ul>
<li>
<p><strong>çŸ¥è¯†åº“æ„å»ºï¼š</strong><br/>
æ”¶é›†å¹¶æ•´ç†æ–‡æ¡£ã€ç½‘é¡µã€æ•°æ®åº“ç­‰å¤šæºæ•°æ®ï¼Œæ„å»ºå¤–éƒ¨çŸ¥è¯†åº“ã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£åˆ†å—ï¼š</strong><br/>
å°†æ–‡æ¡£åˆ‡åˆ†ä¸ºé€‚å½“å¤§å°çš„ç‰‡æ®µï¼ˆchunksï¼‰ï¼Œä»¥ä¾¿åç»­æ£€ç´¢ã€‚åˆ†å—ç­–ç•¥éœ€è¦åœ¨è¯­ä¹‰å®Œæ•´æ€§ä¸æ£€ç´¢æ•ˆç‡ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
</li>
<li>
<p><strong>å‘é‡åŒ–å¤„ç†</strong><br/>
ä½¿ç”¨åµŒå…¥æ¨¡å‹ï¼ˆå¦‚BGEã€M3Eã€ChineseAlpaca2ç­‰ï¼‰å°†æ–‡æœ¬å—è½¬æ¢ä¸ºå‘é‡ï¼Œå¹¶å­˜å‚¨åœ¨å‘é‡æ•°æ®åº“ä¸­</p>
</li>
</ul>
<p><strong>æ­¥éª¤2ï¼šæ£€ç´¢é˜¶æ®µ</strong></p>
<ul>
<li>
<p><strong>æŸ¥è¯¢å¤„ç†</strong><br/>
å°†ç”¨æˆ·è¾“å…¥çš„é—®é¢˜è½¬æ¢ä¸ºå‘é‡ï¼Œå¹¶åœ¨å‘é‡æ•°æ®åº“ä¸­è¿›è¡Œç›¸ä¼¼åº¦æ£€ç´¢ï¼Œæ‰¾åˆ°æœ€ç›¸å…³çš„æ–‡æœ¬ç‰‡æ®µã€‚</p>
</li>
<li>
<p><strong>é‡æ’åº</strong><br/>
å¯¹æ£€ç´¢ç»“æœè¿›è¡Œç›¸å…³æ€§æ’åºï¼Œé€‰æ‹©æœ€ç›¸å…³çš„ç‰‡æ®µä½œä¸ºç”Ÿæˆé˜¶æ®µçš„è¾“å…¥ã€‚</p>
</li>
</ul>
<p><strong>æ­¥éª¤3ï¼šç”Ÿæˆé˜¶æ®µ</strong></p>
<ul>
<li>
<p><strong>ä¸Šä¸‹æ–‡ç»„è£…</strong><br/>
å°†æ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æ¡£ç‰‡æ®µä¸ç”¨æˆ·é—®é¢˜ç»„åˆï¼Œå½¢æˆå®Œæ•´çš„ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæˆå›ç­”</strong><br/>
å°†ç»„åˆåçš„ä¸Šä¸‹æ–‡è¾“å…¥åˆ°ç”Ÿæˆæ¨¡å‹ä¸­ï¼Œç”Ÿæˆæœ€ç»ˆç­”æ¡ˆã€‚</p>
</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>åˆ’é‡ç‚¹ï¼š</strong> RAGæœ¬è´¨ä¸Šå°±æ˜¯é‡æ„äº†ä¸€ä¸ªæ–°çš„ Promptï¼</p>
</blockquote>
<h3 data-id="heading-5">4. NativeRAG</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd85c5e7c0564c34aaab273dd0827abf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=CzjtYuAkXR%2B77qgf41tTqlo%2Fauk%3D" alt="img_3.jpg" loading="lazy"/></p>
<p><strong>NativeRAGçš„æ­¥éª¤ï¼š</strong></p>
<ul>
<li>
<p><strong>Indexing</strong><br/>
å¦‚ä½•æ›´å¥½åœ°æŠŠçŸ¥è¯†å­˜èµ·æ¥ã€‚</p>
</li>
<li>
<p><strong>Retrieval</strong><br/>
å¦‚ä½•åœ¨å¤§é‡çš„çŸ¥è¯†ä¸­ï¼Œæ‰¾åˆ°ä¸€å°éƒ¨åˆ†æœ‰ç”¨çš„ï¼Œç»™åˆ°æ¨¡å‹å‚è€ƒã€‚</p>
</li>
<li>
<p><strong>Generation</strong><br/>
å¦‚ä½•ç»“åˆç”¨æˆ·çš„æé—®å’Œæ£€ç´¢åˆ°çš„çŸ¥è¯†ï¼Œè®©æ¨¡å‹ç”Ÿæˆæœ‰ç”¨çš„ç­”æ¡ˆã€‚</p>
</li>
</ul>
<blockquote>
<p>âš ï¸ <strong>æç¤ºï¼š</strong> ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤è™½ç„¶çœ‹ä¼¼ç®€å•ï¼Œä½†åœ¨ RAG åº”ç”¨ä»æ„å»ºåˆ°è½åœ°å®æ–½çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠè¾ƒå¤šå¤æ‚çš„å·¥ä½œå†…å®¹ï¼</p>
</blockquote>
<h3 data-id="heading-6">5. Prompt vs RAG vs Fine-tuning ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49706febc28c4892ab83c9645f8ed214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=Bg%2FishuklGgWouRk0MhUi4u45Eo%3D" alt="img_4.jpg" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">äºŒã€Embeddingæ¨¡å‹é€‰æ‹©</h2>
<h3 data-id="heading-8">1. é€šç”¨æ–‡æœ¬åµŒå…¥æ¨¡å‹</h3>
<p><strong>BGE-M3ï¼ˆæ™ºæºç ”ç©¶é™¢ï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> æ”¯æŒ100+è¯­è¨€ï¼Œè¾“å…¥é•¿åº¦è¾¾8192tokensï¼Œèåˆå¯†é›†ã€ç¨€ç–ã€å¤šå‘é‡æ··åˆæ£€ç´¢ï¼Œé€‚åˆè·¨è¯­è¨€é•¿æ–‡æ¡£æ£€ç´¢ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> è·¨è¯­è¨€é•¿æ–‡æ¡£æ£€ç´¢ã€é«˜ç²¾åº¦RAGåº”ç”¨ã€‚</li>
<li><strong>æ–‡ä»¶å¤§å°ï¼š</strong> 2.3G</li>
</ul>
<p><strong>text-embedding-3-largeï¼ˆOpenAIï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> å‘é‡ç»´åº¦3072ç»´ï¼Œé•¿æ–‡æœ¬è¯­ä¹‰æ•æ‰èƒ½åŠ›å¼ºï¼Œè‹±æ–‡è¡¨ç°ä¼˜ç§€ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> è‹±æ–‡å†…å®¹ä¼˜å…ˆçš„å…¨çƒåŒ–åº”ç”¨ã€‚</li>
</ul>
<p><strong>jina-embedding-v2-smallï¼ˆJina AIï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> å‚æ•°é‡ä»…35Mï¼Œæ”¯æŒå®æ—¶æ¨ç†ï¼ˆRT&lt;50msï¼‰ï¼Œé€‚åˆè½»é‡åŒ–éƒ¨ç½²ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> è½»é‡çº§æ–‡æœ¬å¤„ç†ã€å®æ—¶æ¨ç†ä»»åŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-9">2. ä¸­æ–‡åµŒå…¥æ¨¡å‹</h3>
<p><strong>M3E-Base</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> é’ˆå¯¹ä¸­æ–‡ä¼˜åŒ–çš„è½»é‡æ¨¡å‹ï¼Œé€‚åˆæœ¬åœ°åŒ–éƒ¨ç½²ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ä¸­æ–‡æ³•å¾‹ã€åŒ»ç–—é¢†åŸŸæ£€ç´¢ä»»åŠ¡ã€‚</li>
<li><strong>æ–‡ä»¶å¤§å°ï¼š</strong> 0.4G</li>
</ul>
<p><strong>xiaobu-embedding-v2</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> é’ˆå¯¹ä¸­æ–‡è¯­ä¹‰ä¼˜åŒ–ï¼Œè¯­ä¹‰ç†è§£èƒ½åŠ›å¼ºã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ä¸­æ–‡æ–‡æœ¬åˆ†ç±»ã€è¯­ä¹‰æ£€ç´¢ã€‚</li>
</ul>
<p><strong>stella-mrl-large-zh-v3.5-1792</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> å¤„ç†å¤§è§„æ¨¡ä¸­æ–‡æ•°æ®èƒ½åŠ›å¼ºï¼Œæ•æ‰ç»†å¾®è¯­ä¹‰å…³ç³»ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ä¸­æ–‡æ–‡æœ¬é«˜çº§è¯­ä¹‰åˆ†æã€è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-10">3. æŒ‡ä»¤é©±åŠ¨ä¸å¤æ‚ä»»åŠ¡æ¨¡å‹</h3>
<p><strong>gte-Qwen2-7B-instructï¼ˆé˜¿é‡Œå·´å·´ï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> åŸºäºQwenå¤§æ¨¡å‹å¾®è°ƒï¼Œæ”¯æŒä»£ç ä¸æ–‡æœ¬è·¨æ¨¡æ€æ£€ç´¢ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å¤æ‚æŒ‡ä»¤é©±åŠ¨ä»»åŠ¡ã€æ™ºèƒ½é—®ç­”ç³»ç»Ÿã€‚</li>
</ul>
<p><strong>E5-mistral-7Bï¼ˆMicrosoftï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> åŸºäºMicrosoftæ¶æ„ï¼ŒZero-shotä»»åŠ¡è¡¨ç°ä¼˜å¼‚ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> åŠ¨æ€è°ƒæ•´è¯­ä¹‰å¯†åº¦çš„å¤æ‚ç³»ç»Ÿã€‚</li>
</ul>
<h3 data-id="heading-11">4. ä¼ä¸šçº§ä¸å¤æ‚ç³»ç»Ÿ</h3>
<p><strong>BGE-M3ï¼ˆæ™ºæºç ”ç©¶é™¢ï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> é€‚åˆä¼ä¸šçº§éƒ¨ç½²ï¼Œæ”¯æŒæ··åˆæ£€ç´¢ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ä¼ä¸šçº§è¯­ä¹‰æ£€ç´¢ã€å¤æ‚RAGåº”ç”¨ã€‚</li>
</ul>
<p><strong>E5-mistral-7Bï¼ˆMicrosoftï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> é€‚åˆä¼ä¸šçº§éƒ¨ç½²ï¼Œæ”¯æŒæŒ‡ä»¤å¾®è°ƒã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> éœ€è¦åŠ¨æ€è°ƒæ•´è¯­ä¹‰å¯†åº¦çš„å¤æ‚ç³»ç»Ÿã€‚</li>
</ul>
<h3 data-id="heading-12">5. CASE-BGE-M3ä½¿ç”¨</h3>
<p><strong>æ¨¡å‹ä¸‹è½½</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> FlagEmbedding <span class="hljs-keyword">import</span> BGEM3FlagModel
model = BGEM3FlagModel(<span class="hljs-string">'/root/models/BAAI/bge-m3'</span>,
                       use_fp16=<span class="hljs-literal">True</span>)
</code></pre>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> FlagEmbedding <span class="hljs-keyword">import</span> BGEM3FlagModel
model = BGEM3FlagModel(<span class="hljs-string">'/root/models/BAAI/bge-m3'</span>,
                       use_fp16=<span class="hljs-literal">True</span>)
sentences_1 = [<span class="hljs-string">"ä»€ä¹ˆæ˜¯ BGE M3ï¼Ÿ"</span>, <span class="hljs-string">"BM25 çš„å®šä¹‰"</span>]
sentences_2 = [<span class="hljs-string">"BGE M3 æ˜¯ä¸€ç§åµŒå…¥æ¨¡å‹ï¼Œæ”¯æŒç¨ å¯†æ£€ç´¢ã€è¯æ±‡åŒ¹é…å’Œå¤šå‘é‡äº¤äº’ã€‚"</span>,
               <span class="hljs-string">"BM25 æ˜¯ä¸€ç§åŸºäºè¯è¢‹çš„æ£€ç´¢å‡½æ•°ï¼Œæ ¹æ®æŸ¥è¯¢è¯åœ¨æ¯ä¸ªæ–‡æ¡£ä¸­å‡ºç°çš„æƒ…å†µå¯¹æ–‡æ¡£é›†åˆè¿›è¡Œæ’åºã€‚"</span>]
embeddings_1 = model.encode(sentences_1,
                            batch_size=<span class="hljs-number">12</span>,
                            max_length=<span class="hljs-number">8192</span>,  <span class="hljs-comment"># å¦‚æœä¸éœ€è¦è¿™ä¹ˆé•¿çš„é•¿åº¦ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªè¾ƒå°çš„å€¼ä»¥åŠ å¿«ç¼–ç é€Ÿåº¦ã€‚</span>
                            )[<span class="hljs-string">'dense_vecs'</span>]
embeddings_2 = model.encode(sentences_2)[<span class="hljs-string">'dense_vecs'</span>]
similarity = embeddings_1 @ embeddings_2.T
<span class="hljs-built_in">print</span>(similarity)
<span class="hljs-comment"># [[0.6265, 0.3477], [0.3499, 0.678 ]]</span>
</code></pre>
<p><strong>ä»£ç è§£é‡Š</strong></p>
<ul>
<li>
<p><code>similarity = embeddings_1 @ embeddings_2.T</code><br/>
è®¡ç®—ä¸¤ç»„åµŒå…¥å‘é‡ï¼ˆembeddingsï¼‰ä¹‹é—´çš„ç›¸ä¼¼åº¦çŸ©é˜µã€‚<br/>
<code>embeddings_1</code>åŒ…å«äº†ç¬¬ä¸€ç»„å¥å­(sentences_1)çš„åµŒå…¥å‘é‡ï¼Œå½¢çŠ¶ä¸º[sentences_1çš„æ•°é‡ï¼ŒåµŒå…¥ç»´åº¦]<br/>
<code>embeddings_2</code>åŒ…å«äº†ç¬¬äºŒç»„å¥å­(sentences_2)çš„åµŒå…¥å‘é‡ï¼Œå½¢çŠ¶ä¸º[sentences_2çš„æ•°é‡ï¼ŒåµŒå…¥ç»´åº¦]<br/>
<code>embeddings_2.T</code>æ˜¯å¯¹embeddings_2è¿›è¡Œè½¬ç½®æ“ä½œï¼Œå½¢æ€å˜ä¸º[åµŒå…¥ç»´åº¦ï¼Œsentences_2çš„æ•°é‡]</p>
</li>
<li>
<p><code>@</code>ç¬¦å·åœ¨Pythonä¸­è¡¨ç¤ºçŸ©é˜µä¹˜æ³•è¿ç®—<br/>
é€šè¿‡çŸ©é˜µä¹˜æ³•è®¡ç®—äº†ä¸¤ç»„å¥å­ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦çŸ©é˜µã€‚ç»“æœsimilarityå½¢çŠ¶æ˜¯[sentences_1çš„æ•°é‡ï¼Œsentences_2çš„æ•°é‡]</p>
</li>
</ul>
<h3 data-id="heading-13">6. gte-qwen2ä½¿ç”¨</h3>
<p><strong>æ¨¡å‹ä¸‹è½½</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> SentenceTransformer
model_dir = <span class="hljs-string">"/root/models/iic/gte_Qwen2-1___5B-instruct"</span>
model = SentenceTransformer(model_dir, trust_remote_code=<span class="hljs-literal">True</span>)
</code></pre>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> SentenceTransformer
model_dir = <span class="hljs-string">"/root/models/iic/gte_Qwen2-1___5B-instruct"</span>
model = SentenceTransformer(model_dir, trust_remote_code=<span class="hljs-literal">True</span>)
model.max_seq_length = <span class="hljs-number">8192</span>
queries = [    <span class="hljs-string">"å¥³æ€§æ¯å¤©åº”è¯¥æ‘„å…¥å¤šå°‘è›‹ç™½è´¨ï¼Ÿ"</span>,    <span class="hljs-string">""</span>summit<span class="hljs-string">"çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"</span>,]
documents = [    <span class="hljs-string">"æ ¹æ®ä¸€èˆ¬æŒ‡å—ï¼Œç¾å›½ç–¾æ§ä¸­å¿ƒï¼ˆCDCï¼‰å»ºè®®19è‡³70å²å¥³æ€§æ¯æ—¥å¹³å‡è›‹ç™½è´¨æ‘„å…¥é‡ä¸º46å…‹ã€‚ä½†å¦‚ä¸‹é¢å›¾è¡¨æ‰€ç¤ºï¼Œå¦‚æœä½ æ­£åœ¨å¤‡å­•æˆ–å¤‡æˆ˜é©¬æ‹‰æ¾ï¼Œå°±éœ€è¦å¢åŠ æ‘„å…¥é‡ã€‚è¯·æŸ¥çœ‹ä¸‹æ–¹å›¾è¡¨ï¼Œäº†è§£ä½ æ¯å¤©åº”æ‘„å…¥å¤šå°‘è›‹ç™½è´¨ã€‚"</span>,    <span class="hljs-string">""</span>summit<span class="hljs-string">"å¯¹è‹±è¯­å­¦ä¹ è€…çš„å®šä¹‰ï¼š1. å±±çš„æœ€é«˜ç‚¹ï¼›å±±é¡¶ã€‚2. æœ€é«˜æ°´å¹³ã€‚3. ä¸¤ä¸ªæˆ–å¤šä¸ªå›½å®¶é¢†å¯¼äººä¹‹é—´çš„ä¼šè®®æˆ–ç³»åˆ—ä¼šè®®ã€‚"</span>,]
document_embeddings = model.encode(documents)
<span class="hljs-built_in">print</span>(scores.tolist())
</code></pre>
<hr/>
<h2 data-id="heading-14">ä¸‰ã€RAGå®æˆ˜</h2>
<p>åŸºäºLangChainï¼Œé‡‡ç”¨DeepSeek+Faisså¿«é€Ÿæ­å»ºæœ¬åœ°çŸ¥è¯†åº“æ£€ç´¢ã€‚</p>
<h3 data-id="heading-15">3.1 ç¯å¢ƒå‡†å¤‡</h3>
<ol>
<li>
<p>æœ¬åœ°å®‰è£…å¥½Condaç¯å¢ƒ</p>
</li>
<li>
<p>æ¨èä½¿ç”¨é˜¿é‡Œå¤§æ¨¡å‹å¹³å°ç™¾ç‚¼ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbailian.console.aliyun.com%2F" target="_blank" title="https://bailian.console.aliyun.com/" ref="nofollow noopener noreferrer">bailian.console.aliyun.com/</a></p>
</li>
<li>
<p>ç™¾ç‚¼å¹³å°ä½¿ç”¨ï¼šæ³¨å†Œç™»å½•ã€ç”³è¯·api keyã€‚</p>
</li>
</ol>
<h3 data-id="heading-16">3.2 æŠ€æœ¯é€‰å‹</h3>
<ul>
<li><strong>å‘é‡æ•°æ®åº“ï¼š</strong> Faissä½œä¸ºé«˜æ•ˆçš„å‘é‡æ£€ç´¢</li>
<li><strong>åµŒå…¥æ¨¡å‹ï¼š</strong> é˜¿é‡Œäº‘DashScopeçš„text-embedding-v1</li>
<li><strong>å¤§è¯­è¨€æ¨¡å‹ï¼š</strong> deepseek-v3</li>
<li><strong>æ–‡æ¡£å¤„ç†ï¼š</strong> PyPDF2ç”¨äºPDFæ–‡æœ¬æå–</li>
</ul>
<h3 data-id="heading-17">3.3 ç¨‹åºé€»è¾‘ç»“æ„ä»‹ç»</h3>
<p><strong>æ­¥éª¤1ï¼šæ–‡æ¡£é¢„å¤„ç†</strong></p>
<p>PDFæ–‡ä»¶ â†’ æ–‡æœ¬æå– â†’ æ–‡æœ¬åˆ†å‰² â†’ é¡µç æ˜ å°„</p>
<p><strong>1) PDFæ–‡æœ¬æå–</strong></p>
<ul>
<li>é€é¡µæå–æ–‡æœ¬å†…å®¹</li>
<li>è®°å½•æ¯è¡Œæ–‡æœ¬å¯¹åº”çš„é¡µç ä¿¡æ¯</li>
<li>å¤„ç†ç©ºé¡µå’Œå¼‚å¸¸æƒ…å†µ</li>
</ul>
<p><strong>2ï¼‰æ–‡æœ¬åˆ†å‰²ç­–ç•¥</strong></p>
<ul>
<li>ä½¿ç”¨é€’å½’å­—ç¬¦åˆ†å‰²å™¨</li>
<li>åˆ†å‰²å‚æ•°ï¼š<code>chunk_size=1000</code>, <code>chunk_overlap=200</code></li>
<li>åˆ†å‰²ä¼˜å…ˆçº§ï¼šæ®µè½ â†’ å¥å­ â†’ ç©ºæ ¼ â†’ å­—ç¬¦</li>
</ul>
<p><strong>3ï¼‰é¡µé¢æ˜ å°„å¤„ç†</strong></p>
<ul>
<li>åŸºäºå­—ç¬¦ä½ç½®è®¡ç®—æ¯ä¸ªæ–‡æœ¬å—çš„é¡µé¢</li>
<li>ä½¿ç”¨ä¼—æ•°ç»Ÿè®¡ç¡®å®šæ–‡æœ¬å—çš„ä¸»è¦æ¥æºé¡µç </li>
<li>å»ºç«‹æ–‡æœ¬å—ä¸é¡µç çš„æ˜ å°„å…³ç³»</li>
</ul>
<p><strong>æ­¥éª¤2ï¼šçŸ¥è¯†åº“æ„å»º</strong></p>
<p>æ–‡æœ¬å— â†’ åµŒå…¥å‘é‡ â†’ Faissç´¢å¼• â†’ æœ¬åœ°æŒä¹…åŒ–</p>
<p><strong>1ï¼‰å‘é‡æ•°æ®åº“æ„å»º</strong></p>
<ul>
<li>ä½¿ç”¨DashScopeåµŒå…¥æ¨¡å‹ç”Ÿæˆå‘é‡</li>
<li>å°†å‘é‡å­˜å‚¨åˆ°Faissç´¢å¼•ç»“æ„</li>
</ul>
<p><strong>2ï¼‰æ•°æ®æŒä¹…åŒ–</strong></p>
<ul>
<li>ä¿å­˜Faissç´¢å¼•æ–‡ä»¶ï¼ˆ.faissï¼‰</li>
<li>ä¿å­˜å…ƒæ•°æ®ä¿¡æ¯ï¼ˆ.pklï¼‰</li>
<li>ä¿å­˜é¡µç æ˜ å°„å…³ç³»ï¼ˆpage_info.pklï¼‰</li>
</ul>
<p><strong>æ­¥éª¤3ï¼šé—®ç­”æŸ¥è¯¢</strong></p>
<p>ç”¨æˆ·é—®é¢˜ â†’ å‘é‡æ£€ç´¢ â†’ æ–‡æ¡£ç»„åˆ â†’ LLMç”Ÿæˆ â†’ ç­”æ¡ˆè¾“å‡º</p>
<p><strong>1ï¼‰ç›¸ä¼¼åº¦æ£€ç´¢</strong></p>
<ul>
<li>å°†ç”¨æˆ·é—®é¢˜è½¬æ¢ä¸ºå‘é‡</li>
<li>åœ¨Faissä¸­æœç´¢æœ€ç›¸ä¼¼çš„æ–‡æ¡£å—ï¼Œè¿”å›Top-Kç›¸å…³æ–‡æ¡£</li>
</ul>
<p><strong>2ï¼‰é—®ç­”é“¾å¤„ç†</strong></p>
<ul>
<li>ä½¿ç”¨LangChainçš„<code>load_qa_chain</code></li>
<li>é‡‡ç”¨stuffç­–ç•¥ç»„åˆæ–‡æ¡£</li>
<li>å°†ç»„åˆåçš„ä¸Šä¸‹æ–‡å’Œé—®é¢˜å‘é€ç»™LLM</li>
</ul>
<p><strong>3ï¼‰ç­”æ¡ˆç”Ÿæˆä¸å±•ç¤º</strong></p>
<h3 data-id="heading-18">3.4 ä»£ç å®ä¾‹</h3>
<p><strong>å®‰è£…ä¾èµ–çš„åŒ…</strong></p>
<pre><code class="hljs language-bash" lang="bash">!pip install pypdf2
!pip install dashscope
!pip install langchain
!pip install langchain-openai
!pip install langchain-community
!pip install faiss-cpu
</code></pre>
<p><strong>å¯¼å…¥ä¾èµ–çš„åŒ…</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PyPDF2 <span class="hljs-keyword">import</span> PdfReader
<span class="hljs-keyword">from</span> langchain.chains.question_answering <span class="hljs-keyword">import</span> load_qa_chain
<span class="hljs-keyword">from</span> langchain.text_splitter <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter
<span class="hljs-keyword">from</span> langchain_community.embeddings <span class="hljs-keyword">import</span> DashScopeEmbeddings
<span class="hljs-keyword">from</span> langchain_community.vectorstores <span class="hljs-keyword">import</span> FAISS
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Tuple</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pickle
</code></pre>
<p><strong>ä»PDFä¸­æå–æ–‡æœ¬å¹¶è®°å½•æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„é¡µç </strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_text_with_page_numbers</span>(<span class="hljs-params">pdf</span>) -&gt; <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">List</span>[<span class="hljs-type">Tuple</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]]]:
    <span class="hljs-string">"""
    ä»PDFä¸­æå–æ–‡æœ¬å¹¶è®°å½•æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„é¡µç 
    å‚æ•°:
        pdf: PDFæ–‡ä»¶å¯¹è±¡
    è¿”å›:
        text: æå–çš„æ–‡æœ¬å†…å®¹
        char_page_mapping: æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„é¡µç åˆ—è¡¨
    """</span>
    text = <span class="hljs-string">""</span>
    char_page_mapping = []
    <span class="hljs-keyword">for</span> page_number, page <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(pdf.pages, start=<span class="hljs-number">1</span>):
        extracted_text = page.extract_text()
        <span class="hljs-keyword">if</span> extracted_text:
            text += extracted_text
            <span class="hljs-comment"># ä¸ºå½“å‰é¡µé¢çš„æ¯ä¸ªå­—ç¬¦è®°å½•é¡µç </span>
            char_page_mapping.extend([page_number] * <span class="hljs-built_in">len</span>(extracted_text))
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"No text found on page <span class="hljs-subst">{page_number}</span>."</span>)
    <span class="hljs-keyword">return</span> text, char_page_mapping
</code></pre>
<p><strong>å¤„ç†æ–‡æœ¬å¹¶åˆ›å»ºå‘é‡å­˜å‚¨</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_text_with_splitter</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span>, char_page_mapping: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], save_path: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>) -&gt; FAISS:
    <span class="hljs-string">"""
    å¤„ç†æ–‡æœ¬å¹¶åˆ›å»ºå‘é‡å­˜å‚¨
    å‚æ•°:
        text: æå–çš„æ–‡æœ¬å†…å®¹
        char_page_mapping: æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„é¡µç åˆ—è¡¨
        save_path: å¯é€‰ï¼Œä¿å­˜å‘é‡æ•°æ®åº“çš„è·¯å¾„
    è¿”å›:
        knowledgeBase: åŸºäºFAISSçš„å‘é‡å­˜å‚¨å¯¹è±¡
    """</span>
    <span class="hljs-comment"># åˆ›å»ºæ–‡æœ¬åˆ†å‰²å™¨ï¼Œç”¨äºå°†é•¿æ–‡æœ¬åˆ†å‰²æˆå°å—</span>
    text_splitter = RecursiveCharacterTextSplitter(
        separators=[<span class="hljs-string">"\n\n"</span>, <span class="hljs-string">"\n"</span>, <span class="hljs-string">"."</span>, <span class="hljs-string">" "</span>, <span class="hljs-string">""</span>],
        chunk_size=<span class="hljs-number">1000</span>,
        chunk_overlap=<span class="hljs-number">200</span>,
        length_function=<span class="hljs-built_in">len</span>,
    )
    <span class="hljs-comment"># åˆ†å‰²æ–‡æœ¬</span>
    chunks = text_splitter.split_text(text)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡æœ¬è¢«åˆ†å‰²æˆ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunks)}</span> ä¸ªå—ã€‚"</span>)
    <span class="hljs-comment"># åˆ›å»ºåµŒå…¥æ¨¡å‹</span>
    embeddings = DashScopeEmbeddings(
        model=<span class="hljs-string">"text-embedding-v1"</span>,
        dashscope_api_key=DASHSCOPE_API_KEY,
    )
    <span class="hljs-comment"># ä»æ–‡æœ¬å—åˆ›å»ºçŸ¥è¯†åº“</span>
    knowledgeBase = FAISS.from_texts(chunks, embeddings)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å·²ä»æ–‡æœ¬å—åˆ›å»ºçŸ¥è¯†åº“ã€‚"</span>)
    <span class="hljs-comment"># ä¸ºæ¯ä¸ªæ–‡æœ¬å—æ‰¾åˆ°å¯¹åº”çš„é¡µç ä¿¡æ¯</span>
    page_info = {}
    current_pos = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
        chunk_start = current_pos
        chunk_end = current_pos + <span class="hljs-built_in">len</span>(chunk)
        <span class="hljs-comment"># æ‰¾åˆ°è¿™ä¸ªæ–‡æœ¬å—ä¸­å­—ç¬¦å¯¹åº”çš„é¡µç </span>
        chunk_pages = char_page_mapping[chunk_start:chunk_end]
        <span class="hljs-comment"># å–é¡µç çš„ä¼—æ•°ï¼ˆå‡ºç°æœ€å¤šçš„é¡µç ï¼‰ä½œä¸ºè¯¥å—çš„é¡µç </span>
        <span class="hljs-keyword">if</span> chunk_pages:
            <span class="hljs-comment"># ç»Ÿè®¡æ¯ä¸ªé¡µç å‡ºç°çš„æ¬¡æ•°</span>
            page_counts = {}
            <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> chunk_pages:
                page_counts[page] = page_counts.get(page, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
            <span class="hljs-comment"># æ‰¾åˆ°å‡ºç°æ¬¡æ•°æœ€å¤šçš„é¡µç </span>
            most_common_page = <span class="hljs-built_in">max</span>(page_counts, key=page_counts.get)
            page_info[chunk] = most_common_page
        <span class="hljs-keyword">else</span>:
            page_info[chunk] = <span class="hljs-number">1</span>  <span class="hljs-comment"># é»˜è®¤é¡µç </span>
        current_pos = chunk_end
    knowledgeBase.page_info = page_info
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f'é¡µç æ˜ å°„å®Œæˆï¼Œå…± <span class="hljs-subst">{<span class="hljs-built_in">len</span>(page_info)}</span> ä¸ªæ–‡æœ¬å—'</span>)
    <span class="hljs-comment"># å¦‚æœæä¾›äº†ä¿å­˜è·¯å¾„ï¼Œåˆ™ä¿å­˜å‘é‡æ•°æ®åº“å’Œé¡µç ä¿¡æ¯</span>
    <span class="hljs-keyword">if</span> save_path:
        <span class="hljs-comment"># ç¡®ä¿ç›®å½•å­˜åœ¨</span>
        os.makedirs(save_path, exist_ok=<span class="hljs-literal">True</span>)
        <span class="hljs-comment"># ä¿å­˜FAISSå‘é‡æ•°æ®åº“</span>
        knowledgeBase.save_local(save_path)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡æ•°æ®åº“å·²ä¿å­˜åˆ°: <span class="hljs-subst">{save_path}</span>"</span>)
        <span class="hljs-comment"># ä¿å­˜é¡µç ä¿¡æ¯åˆ°åŒä¸€ç›®å½•</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(os.path.join(save_path, <span class="hljs-string">"page_info.pkl"</span>), <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
            pickle.dump(page_info, f)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é¡µç ä¿¡æ¯å·²ä¿å­˜åˆ°: <span class="hljs-subst">{os.path.join(save_path, <span class="hljs-string">'page_info.pkl'</span>)}</span>"</span>)
    <span class="hljs-keyword">return</span> knowledgeBase
</code></pre>
<p><strong>ä»ç£ç›˜åŠ è½½å‘é‡æ•°æ®åº“å’Œé¡µç ä¿¡æ¯</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">load_knowledge_base</span>(<span class="hljs-params">load_path: <span class="hljs-built_in">str</span>, embeddings = <span class="hljs-literal">None</span></span>) -&gt; FAISS:
    <span class="hljs-string">"""
    ä»ç£ç›˜åŠ è½½å‘é‡æ•°æ®åº“å’Œé¡µç ä¿¡æ¯
    å‚æ•°:
        load_path: å‘é‡æ•°æ®åº“çš„ä¿å­˜è·¯å¾„
        embeddings: å¯é€‰ï¼ŒåµŒå…¥æ¨¡å‹ã€‚å¦‚æœä¸ºNoneï¼Œå°†åˆ›å»ºä¸€ä¸ªæ–°çš„DashScopeEmbeddingså®ä¾‹
    è¿”å›:
        knowledgeBase: åŠ è½½çš„FAISSå‘é‡æ•°æ®åº“å¯¹è±¡
    """</span>
    <span class="hljs-comment"># å¦‚æœæ²¡æœ‰æä¾›åµŒå…¥æ¨¡å‹ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„</span>
    <span class="hljs-keyword">if</span> embeddings <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        embeddings = DashScopeEmbeddings(
            model=<span class="hljs-string">"text-embedding-v1"</span>,
            dashscope_api_key=DASHSCOPE_API_KEY,
        )
    <span class="hljs-comment"># åŠ è½½FAISSå‘é‡æ•°æ®åº“ï¼Œæ·»åŠ allow_dangerous_deserialization=Trueå‚æ•°ä»¥å…è®¸ååºåˆ—åŒ–</span>
    knowledgeBase = FAISS.load_local(load_path, embeddings, allow_dangerous_deserialization=<span class="hljs-literal">True</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡æ•°æ®åº“å·²ä» <span class="hljs-subst">{load_path}</span> åŠ è½½ã€‚"</span>)
    <span class="hljs-comment"># åŠ è½½é¡µç ä¿¡æ¯</span>
    page_info_path = os.path.join(load_path, <span class="hljs-string">"page_info.pkl"</span>)
    <span class="hljs-keyword">if</span> os.path.exists(page_info_path):
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(page_info_path, <span class="hljs-string">"rb"</span>) <span class="hljs-keyword">as</span> f:
            page_info = pickle.load(f)
        knowledgeBase.page_info = page_info
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"é¡µç ä¿¡æ¯å·²åŠ è½½ã€‚"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è­¦å‘Š: æœªæ‰¾åˆ°é¡µç ä¿¡æ¯æ–‡ä»¶ã€‚"</span>)
    <span class="hljs-keyword">return</span> knowledgeBase
</code></pre>
<p><strong>è¯»å–PDFæ–‡ä»¶ï¼Œå¹¶å†™å…¥åˆ°çŸ¥è¯†åº“</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯»å–PDFæ–‡ä»¶</span>
pdf_reader = PdfReader(<span class="hljs-string">'./è€ƒæ ¸åŠæ³•.pdf'</span>)
<span class="hljs-comment"># æå–æ–‡æœ¬å’Œé¡µç ä¿¡æ¯</span>
text, char_page_mapping = extract_text_with_page_numbers(pdf_reader)
<span class="hljs-comment">#print('page_numbers=',page_numbers)</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æå–çš„æ–‡æœ¬é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(text)}</span> ä¸ªå­—ç¬¦ã€‚"</span>)
<span class="hljs-comment"># å¤„ç†æ–‡æœ¬å¹¶åˆ›å»ºçŸ¥è¯†åº“ï¼ŒåŒæ—¶ä¿å­˜åˆ°ç£ç›˜</span>
save_dir = <span class="hljs-string">"./vector_db"</span>
knowledgeBase = process_text_with_splitter(text, char_page_mapping, save_path=save_dir)
</code></pre>
<p><strong>å¦‚ä½•åŠ è½½å·²ä¿å­˜çš„å‘é‡æ•°æ®åº“</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºåµŒå…¥æ¨¡å‹</span>
embeddings = DashScopeEmbeddings(
    model=<span class="hljs-string">"text-embedding-v1"</span>,
    dashscope_api_key=DASHSCOPE_API_KEY,
)
<span class="hljs-comment"># ä»ç£ç›˜åŠ è½½å‘é‡æ•°æ®åº“</span>
loaded_knowledgeBase = load_knowledge_base(<span class="hljs-string">"./vector_db"</span>, embeddings)
<span class="hljs-comment"># ä½¿ç”¨åŠ è½½çš„çŸ¥è¯†åº“è¿›è¡ŒæŸ¥è¯¢</span>
docs = loaded_knowledgeBase.similarity_search(<span class="hljs-string">"å®¢æˆ·ç»ç†æ¯å¹´è¯„è˜ç”³æŠ¥æ—¶é—´æ˜¯æ€æ ·çš„ï¼Ÿ"</span>)
<span class="hljs-comment"># ç›´æ¥ä½¿ç”¨FAISS.load_localæ–¹æ³•åŠ è½½ï¼ˆæ›¿ä»£æ–¹æ³•ï¼‰</span>
<span class="hljs-comment"># loaded_knowledgeBase = FAISS.load_local("./vector_db", embeddings, allow_dangerous_deserialization=True)</span>
<span class="hljs-comment"># æ³¨æ„ï¼šä½¿ç”¨è¿™ç§æ–¹æ³•åŠ è½½æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ è½½é¡µç ä¿¡æ¯</span>
</code></pre>
<p><strong>å¯¹è¯è°ƒç”¨</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.llms <span class="hljs-keyword">import</span> Tongyi
llm = Tongyi(model_name=<span class="hljs-string">"deepseek-v3"</span>, dashscope_api_key=DASHSCOPE_API_KEY) <span class="hljs-comment"># qwen-turbo</span>
<span class="hljs-comment"># è®¾ç½®æŸ¥è¯¢é—®é¢˜</span>
query = <span class="hljs-string">"å®¢æˆ·ç»ç†è¢«æŠ•è¯‰äº†ï¼ŒæŠ•è¯‰ä¸€æ¬¡æ‰£å¤šå°‘åˆ†"</span>
<span class="hljs-comment">#query = "å®¢æˆ·ç»ç†æ¯å¹´è¯„è˜ç”³æŠ¥æ—¶é—´æ˜¯æ€æ ·çš„ï¼Ÿ"</span>
<span class="hljs-keyword">if</span> query:
    <span class="hljs-comment"># æ‰§è¡Œç›¸ä¼¼åº¦æœç´¢ï¼Œæ‰¾åˆ°ä¸æŸ¥è¯¢ç›¸å…³çš„æ–‡æ¡£</span>
    docs = knowledgeBase.similarity_search(query,k=<span class="hljs-number">10</span>)
    <span class="hljs-comment"># åŠ è½½é—®ç­”é“¾</span>
    chain = load_qa_chain(llm, chain_type=<span class="hljs-string">"stuff"</span>)
    <span class="hljs-comment"># å‡†å¤‡è¾“å…¥æ•°æ®</span>
    input_data = {<span class="hljs-string">"input_documents"</span>: docs, <span class="hljs-string">"question"</span>: query}
    <span class="hljs-comment"># æ‰§è¡Œé—®ç­”é“¾</span>
    response = chain.invoke(<span class="hljs-built_in">input</span>=input_data)
    <span class="hljs-built_in">print</span>(response[<span class="hljs-string">"output_text"</span>])
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¥æº:"</span>)
    <span class="hljs-comment"># è®°å½•å”¯ä¸€çš„é¡µç </span>
    unique_pages = <span class="hljs-built_in">set</span>()
    <span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªæ–‡æ¡£å—çš„æ¥æºé¡µç </span>
    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs:
        <span class="hljs-comment">#print('doc=',doc)</span>
        text_content = <span class="hljs-built_in">getattr</span>(doc, <span class="hljs-string">"page_content"</span>, <span class="hljs-string">""</span>)
        source_page = knowledgeBase.page_info.get(
            text_content.strip(), <span class="hljs-string">"æœªçŸ¥"</span>
        )
        <span class="hljs-keyword">if</span> source_page <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> unique_pages:
            unique_pages.add(source_page)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡æœ¬å—é¡µç : <span class="hljs-subst">{source_page}</span>"</span>)
</code></pre>
<h3 data-id="heading-19">3.5 ç¤ºä¾‹æ€»ç»“</h3>
<p><strong>1. PDFæ–‡æœ¬æå–ä¸å¤„ç†</strong></p>
<ul>
<li>ä½¿ç”¨PyPDF2åº“çš„PdfReaderä»PDFæ–‡ä»¶ä¸­æå–æ–‡æœ¬åœ¨æå–è¿‡ç¨‹ä¸­è®°å½•æ¯è¡Œæ–‡æœ¬å¯¹åº”çš„é¡µç ï¼Œä¾¿äºåç»­æº¯æºã€‚</li>
<li>ä½¿ç”¨RecursiveCharacterTextSplitterå°†é•¿æ–‡æœ¬åˆ†å‰²æˆå°å—ï¼Œä¾¿äºå‘é‡åŒ–å¤„ç†ã€‚</li>
</ul>
<p><strong>2. å‘é‡æ•°æ®åº“æ„å»º</strong></p>
<ul>
<li>ä½¿ç”¨OpenAIEmbeddings / DashScopeEmbeddingså°†æ–‡æœ¬å—è½¬æ¢ä¸ºå‘é‡è¡¨ç¤ºã€‚</li>
<li>ä½¿ç”¨FAISSå‘é‡æ•°æ®åº“å­˜å‚¨æ–‡æœ¬å‘é‡ï¼Œæ”¯æŒé«˜æ•ˆçš„ç›¸ä¼¼åº¦æœç´¢ä¸ºæ¯ä¸ªæ–‡æœ¬å—ä¿å­˜å¯¹åº”çš„é¡µç ä¿¡æ¯ï¼Œå®ç°æŸ¥è¯¢ç»“æœæº¯æºã€‚</li>
</ul>
<p><strong>3. è¯­ä¹‰æœç´¢ä¸é—®ç­”é“¾</strong></p>
<ul>
<li>åŸºäºç”¨æˆ·æŸ¥è¯¢ï¼Œä½¿ç”¨similarity_searchåœ¨å‘é‡æ•°æ®åº“ä¸­æ£€ç´¢ç›¸å…³æ–‡æœ¬å—ã€‚</li>
<li>ä½¿ç”¨æ–‡æœ¬è¯­è¨€æ¨¡å‹å’Œload_qa_chainæ„å»ºé—®ç­”é“¾å°†æ£€ç´¢åˆ°çš„æ–‡æ¡£å’Œç”¨æˆ·é—®é¢˜ä½œä¸ºè¾“å…¥ï¼Œç”Ÿæˆå›ç­”ã€‚</li>
</ul>
<p><strong>4. æˆæœ¬è·Ÿè¸ªä¸ç»“æœå±•ç¤º</strong></p>
<ul>
<li>ä½¿ç”¨get_openai_callbackè·Ÿè¸ªAPIè°ƒç”¨æˆæœ¬ã€‚</li>
<li>å±•ç¤ºé—®ç­”ç»“æœå’Œæ¥æºé¡µç ï¼Œæ–¹ä¾¿ç”¨æˆ·éªŒè¯ä¿¡æ¯ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-20">å››ã€LangChainä¸­çš„é—®ç­”é“¾</h2>
<p>åœ¨LangChainé—®ç­”é“¾ä¸­ï¼Œæœ‰4ç§chain_typeï¼Œchain_typeå‚æ•°å†³å®šäº†RAGæµç¨‹ä¸­ï¼Œå¦‚ä½•å°†æ£€ç´¢åˆ°çš„å¤šä¸ªç›¸å…³æ–‡æ¡£å—ä¸ç”¨æˆ·çš„é—®é¢˜ç»„åˆèµ·æ¥ï¼Œå‘é€ç»™å¤§æ¨¡å‹ä»¥ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆã€‚éœ€è¦æ ¹æ®åº”ç”¨åœºæ™¯ï¼Œé€‰æ‹©ä¸åŒçš„chain_typeï¼Œä»¥ä¿è¯åœ¨æ•ˆæœã€æˆæœ¬å’Œé€Ÿåº¦ä¸Šçš„æƒè¡¡ã€‚</p>
<h3 data-id="heading-21">1. stuffï¼ˆå †å å¼ï¼‰</h3>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<p>å°†æ‰€æœ‰æ£€ç´¢åˆ°çš„æ–‡æ¡£ç‰‡æ®µç›´æ¥æ‹¼æ¥æˆä¸€ä¸ªé•¿ä¸Šä¸‹æ–‡ï¼Œä¸é—®é¢˜ä¸€èµ·æ„é€  Promptï¼Œå•æ¬¡è°ƒç”¨ LLM ç”Ÿæˆç­”æ¡ˆã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å®ç°æœ€ç®€å•ã€å»¶è¿Ÿæœ€ä½ï¼›</li>
<li>å•æ¬¡LLMè°ƒç”¨ï¼Œæˆæœ¬æœ€ä½ï¼›</li>
<li>æ‰€æœ‰ä¿¡æ¯åŒæ—¶å¯è§ï¼Œåˆ©äºå…¨å±€ç†è§£ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å—é™äºLLMçš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œæ–‡æ¡£è¿‡å¤šæˆ–è¿‡é•¿æ—¶ä¼šæˆªæ–­ï¼›</li>
<li>è‹¥æ£€ç´¢ç»“æœåŒ…å«å™ªå£°ï¼Œå¯èƒ½å¹²æ‰°ç”Ÿæˆè´¨é‡ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ£€ç´¢è¿”å›çš„æ–‡æ¡£æ•°é‡å°‘ã€å†…å®¹ç²¾ç‚¼ï¼ˆå¦‚chunk_sizeè¾ƒå°ï¼‰ï¼›</li>
<li>å¯¹å“åº”é€Ÿåº¦å’Œæˆæœ¬æ•æ„Ÿçš„è½»é‡çº§åº”ç”¨ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cc4ad927c3b473e9ef8f9bbc44ed5d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=2vw%2BeNDnAYwe13Xup6lZFmaaVRg%3D" alt="img_5.jpg" loading="lazy"/></p>
<h3 data-id="heading-22">2. map_reduceï¼ˆæ˜ å°„-å½’çº¦ï¼‰</h3>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<ul>
<li><strong>Mapé˜¶æ®µï¼š</strong> å¯¹æ¯ä¸ªæ–‡æ¡£ï¼ˆchunkï¼‰ç‹¬ç«‹æ„é€ Promptï¼Œåˆ†åˆ«è°ƒç”¨LLMç”Ÿæˆä¸­é—´æ‘˜è¦æˆ–å›ç­”ã€‚</li>
<li><strong>Reduceé˜¶æ®µï¼š</strong> å°†æ‰€æœ‰ä¸­é—´ç»“æœåˆå¹¶ï¼Œå†æ¬¡è°ƒç”¨LLMç”Ÿæˆæœ€ç»ˆç­”æ¡ˆã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¯å¤„ç†è¶…é•¿æ–‡æ¡£é›†åˆï¼Œä¸å—å•æ¬¡ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶ï¼›</li>
<li>Mapé˜¶æ®µå¯å¹¶è¡Œæ‰§è¡Œï¼Œæå‡ååç‡ï¼›</li>
<li>é€‚åˆä¿¡æ¯åˆ†æ•£åœ¨å¤šä¸ªç‰‡æ®µä¸­çš„åœºæ™¯ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>è‡³å°‘éœ€è¦N+1æ¬¡LLMè°ƒç”¨ï¼ˆNä¸ºæ–‡æ¡£æ•°ï¼‰ï¼Œæˆæœ¬é«˜ï¼Œå»¶è¿Ÿå¤§ï¼›</li>
<li>å„æ–‡æ¡£ç‹¬ç«‹å¤„ç†ï¼Œç¼ºä¹æ–‡æ¡£ä¸Šä¸‹æ–‡å…³è”ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ£€ç´¢ç»“æœè¾ƒå¤šä¸”åˆ†æ•£ï¼›</li>
<li>éœ€è¦å¯¹å¤§é‡æ–‡æ¡£è¿›è¡Œç»¼åˆå½’çº³ï¼ˆå¦‚æŠ¥å‘Šç”Ÿæˆï¼Œå¤šæºä¿¡æ¯æ•´åˆï¼‰ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3022ff0f25bd416d9902444c1c62bd38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=JlLCkfRPHY7XDskW0qYqo5yRY3M%3D" alt="img_6.jpg" loading="lazy"/></p>
<h3 data-id="heading-23">3. refineï¼ˆè¿­ä»£ç»†åŒ–ï¼‰</h3>
<p>åœ¨ç¬¬ä¸€ä¸ªchunkä¸Šåšpromptå¾—åˆ°ç»“æœï¼Œç„¶åå†åˆå¹¶ä¸‹ä¸€ä¸ªæ–‡ä»¶å†è¾“å‡ºç»“æœ</p>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<p>å…ˆç”¨ç¬¬ä¸€ä¸ªæ–‡æ¡£å’Œé—®é¢˜ç”Ÿæˆåˆæ­¥ç­”æ¡ˆï¼›ä¾æ¬¡å°†åç»­æ–‡æ¡£ä¸å½“å‰ç­”æ¡ˆåˆå¹¶ï¼Œé€æ­¥"ç»†åŒ–"è¾“å‡ºï¼Œæ¯æ¬¡æ›´æ–°ç­”æ¡ˆã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿ç•™è·¨æ–‡æ¡£ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼›</li>
<li>æ¯æ¬¡åªå¤„ç†ä¸€ä¸ªæ–°æ–‡æ¡£ + å½“å‰ç­”æ¡ˆï¼ŒTokenä½¿ç”¨è¾ƒä¸ºå¯æ§ï¼›</li>
<li>æœ€ç»ˆç­”æ¡ˆèåˆäº†æ‰€æœ‰æ–‡æ¡£çš„ä¿¡æ¯æµã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å¿…é¡»ä¸²è¡Œå¤„ç†ï¼Œæ— æ³•å¹¶è¡Œï¼Œå»¶è¿Ÿè¾ƒé«˜ï¼›</li>
<li>æ—©æœŸé”™è¯¯å¯èƒ½è¢«ç´¯ç§¯æ”¾å¤§ï¼›</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ–‡æ¡£é—´å­˜åœ¨é€»è¾‘é€’è¿›æˆ–è¡¥å……å…³ç³»ï¼›</li>
<li>éœ€è¦åœ¨æœ‰é™ä¸Šä¸‹æ–‡çª—å£å†…å¤„ç†ä¸­ç­‰æ•°é‡æ–‡æ¡£ï¼›</li>
<li>å¯¹ç­”æ¡ˆè¿ç»­æ€§è¦æ±‚è¾ƒé«˜ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0859013afd47481d81016a623278a51a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=V4csTvhZWyT%2Ff49oFbA09d7HZ9Q%3D" alt="img_7.jpg" loading="lazy"/></p>
<h3 data-id="heading-24">4. map_rerankï¼ˆæ˜ å°„é‡æ’åºï¼‰</h3>
<p>å¯¹æ¯ä¸ªchunkåšpromptï¼Œç„¶åæ‰“ä¸ªåˆ†ï¼Œç„¶åæ ¹æ®åˆ†æ•°è¿”å›æœ€å¥½çš„æ–‡æ¡£ä¸­çš„ç»“æœã€‚</p>
<p>ä¼šå¤§é‡åœ°è°ƒç”¨LLMï¼Œæ¯ä¸ªdocumentä¹‹é—´æ˜¯ç‹¬ç«‹å¤„ç†ã€‚</p>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<p>å¯¹æ¯ä¸ªæ–‡æ¡£ç‹¬ç«‹æ„é€ Promptï¼Œè¦æ±‚LLMè¾“å‡ºä¸€ä¸ªç­”æ¡ˆ+ç½®ä¿¡åº¦åˆ†æ•°ï¼›æ ¹æ®åˆ†æ•°æ’åºï¼Œè¿”å›å¾—åˆ†æœ€é«˜çš„ç­”æ¡ˆï¼ˆé€šå¸¸åªå–Top-1ï¼‰ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>èƒ½æœ‰æ•ˆè¿‡æ»¤ä½è´¨é‡æˆ–æ— å…³æ–‡æ¡£ï¼›</li>
<li>è¿”å›çš„ç­”æ¡ˆæ¥è‡ªæœ€ç›¸å…³ç‰‡æ®µï¼Œç²¾å‡†åº¦é«˜ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªæ–‡æ¡£éƒ½éœ€è¦è°ƒç”¨ä¸€æ¬¡LLMï¼Œæˆæœ¬é«˜ï¼›</li>
<li>ä¸å‰¯åˆå¤šæ–‡æ¡£ä¿¡æ¯ï¼Œä»…è¿”å›å•ä¸ªæœ€ä½³ç­”æ¡ˆï¼Œå¯èƒ½ä¸¢å¤±äº’è¡¥ä¿¡æ¯ï¼›</li>
<li>ä¾èµ–LLMå¯¹"æ‰“åˆ†"çš„ä¸€è‡´æ€§ï¼Œéƒ¨åˆ†æ¨¡å‹ä¸æ“…é•¿æ­¤ä»»åŠ¡ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ£€ç´¢ç»“æœä¸­å­˜åœ¨æ˜æ˜¾"æœ€ä½³åŒ¹é…"æ–‡æ¡£ï¼›</li>
<li>ä»»åŠ¡ä¸ºäº‹å®å‹é—®ç­”ï¼ˆå¦‚"XX çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"ï¼‰ï¼›</li>
<li>éœ€è¦é«˜ç½®ä¿¡åº¦ã€ç®€æ´ç­”æ¡ˆï¼Œè€Œéç»¼åˆå½’çº³ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/effc4d5952394d47913e0cadfae60649~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif5rWpQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456117&amp;x-signature=Of91seJnUkyhxsdcu%2B4DrqgUDbE%3D" alt="img_8.jpg" loading="lazy"/></p>
<h3 data-id="heading-25">5. æ€»ç»“</h3>






















































<table><thead><tr><th>ç‰¹æ€§</th><th>stuff</th><th>map_reduce</th><th>refine</th><th>map_rerank</th></tr></thead><tbody><tr><td>LLMè°ƒç”¨æ¬¡æ•°</td><td>1</td><td>N + 1</td><td>N</td><td>N</td></tr><tr><td>é€Ÿåº¦</td><td>æœ€å¿«</td><td>ä¸­ç­‰</td><td>æœ€æ…¢</td><td>æ…¢</td></tr><tr><td>Token æ¶ˆè€—</td><td>ä½</td><td>é«˜</td><td>é«˜</td><td>é«˜</td></tr><tr><td>å¤„ç†é•¿æ–‡æ¡£èƒ½åŠ›</td><td>å·®</td><td>å¥½</td><td>å¥½</td><td>å¥½</td></tr><tr><td>ç­”æ¡ˆè´¨é‡</td><td>é«˜ (ä¸Šä¸‹æ–‡å®Œæ•´)</td><td>ä¸­ç­‰ (å¯èƒ½ä¸¢å¤±å…³è”)</td><td>æœ€é«˜ (è¿­ä»£ç»†åŒ–)</td><td>å–å†³äºæœ€ä½³å—</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é»˜è®¤é€‰æ‹©ï¼Œæ–‡æ¡£çŸ­</td><td>æ–‡æ¡£å¤šï¼Œéœ€å¹³è¡¡</td><td>æ–‡æ¡£å¤šï¼Œè¦æ±‚é«˜ç²¾åº¦</td><td>äº‹å®å‹é—®é¢˜ï¼Œç­”æ¡ˆåœ¨å•å—ä¸­</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-26">äº”ã€å¦‚æœLLMå¯ä»¥å¤„ç†æ— é™ä¸Šä¸‹æ–‡ï¼ŒRAGè¿˜æœ‰æ„ä¹‰å—ï¼Ÿ</h2>
<ul>
<li>
<p><strong>æ•ˆç‡æˆæœ¬</strong><br/>
LLMå¤„ç†ä¸Šä¸‹æ–‡æ—¶è®¡ç®—èµ„æºæ¶ˆè€—å¤§ï¼Œå“åº”æ—¶é—´å¢åŠ ã€‚RAGé€šè¿‡æ£€ç´¢ç›¸å…³ç‰‡æ®µï¼Œå‡å°‘è¾“å…¥é•¿åº¦ã€‚</p>
</li>
<li>
<p><strong>çŸ¥è¯†æ›´æ–°</strong><br/>
LLMçš„çŸ¥è¯†æˆªæ­¢äºè®­ç»ƒæ•°æ®ï¼Œæ— æ³•å®æ—¶æ›´æ–°ã€‚RAGå¯ä»¥è¿æ¥å¤–éƒ¨çŸ¥è¯†åº“ï¼Œå¢å¼ºæ—¶æ•ˆæ€§ã€‚</p>
</li>
<li>
<p><strong>å¯è§£é‡Šæ€§</strong><br/>
RAGçš„æ£€ç´¢è¿‡ç¨‹é€æ˜ï¼Œç”¨æˆ·å¯æŸ¥çœ‹æ¥æºï¼Œå¢å¼ºä¿¡ä»»ã€‚LLMçš„ç”Ÿæˆè¿‡ç¨‹åˆ™è¾ƒéš¾è¿½æº¯ã€‚</p>
</li>
<li>
<p><strong>å®šåˆ¶åŒ–</strong><br/>
RAGå¯é’ˆå¯¹ç‰¹å®šé¢†åŸŸå®šåˆ¶æ£€ç´¢ç³»ç»Ÿï¼Œæä¾›æ›´ç²¾å‡†çš„ç»“æœï¼Œè€ŒLLMçš„é€šç”¨æ€§å¯èƒ½æ— æ³•æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®éšç§</strong><br/>
RAGå…è®¸åœ¨æœ¬åœ°æˆ–ç§æœ‰æ•°æ®æºä¸Šæ£€ç´¢ï¼Œé¿å…æ•æ„Ÿæ•°æ®ä¸Šä¼ äº‘ç«¯ï¼Œé€‚åˆéšç§è¦æ±‚é«˜çš„åœºæ™¯ã€‚</p>
</li>
</ul>
<p>ç»“åˆLLMçš„ç”Ÿæˆèƒ½åŠ›å’ŒRAGçš„æ£€ç´¢èƒ½åŠ›ï¼Œå¯ä»¥æå‡æ•´ä½“æ€§èƒ½ï¼Œæä¾›æ›´å…¨é¢ã€å‡†ç¡®çš„å›ç­”ã€‚</p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—æœ¬æ–‡æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€åœ¨çœ‹ã€è½¬å‘ï¼Œä¹Ÿæ¬¢è¿ç•™è¨€åˆ†äº«ä½ çš„ç»éªŒï¼</p>
<p><strong>å¾€æœŸæ–‡ç« å›é¡¾ï¼š</strong></p>
<ul>
<li><strong>ä¸€æ–‡çœ‹æ‡‚ä¸»æµå‘é‡æ•°æ®åº“ï¼šé€‰å‹ä¸å†è¸©å‘</strong></li>
<li><a href="https://juejin.cn/post/7583598943071731747" target="_blank" title="https://juejin.cn/post/7583598943071731747">ä¸€æ–‡çœ‹æ‡‚ä¸»æµå‘é‡æ•°æ®åº“ï¼šé€‰å‹ä¸å†è¸©å‘</a></li>
<li><a href="https://juejin.cn/post/7582857981893918761" target="_blank" title="https://juejin.cn/post/7582857981893918761">AI å¹¶ä¸æ‡‚æ–‡å­—ï¼Œå®ƒåªè®¤å‘é‡ï¼šä¸€æ–‡ææ‡‚ Embedding</a></li>
<li><a href="https://juejin.cn/post/7582470341924077602" target="_blank" title="https://juejin.cn/post/7582470341924077602">ä¸ä¼šå†™æç¤ºè¯ï¼Ÿéš¾æ€ªä½ çš„AIæ€»åœ¨èƒ¡è¯´å…«é“ï¼</a></li>
<li><a href="https://juejin.cn/post/7582073642869702671" target="_blank" title="https://juejin.cn/post/7582073642869702671">AIå¤§æ¨¡å‹åŸç†ä¸APIä½¿ç”¨</a></li>
<li><a href="https://juejin.cn/post/7581814484065419316" target="_blank" title="https://juejin.cn/post/7581814484065419316">Spec Kit+Cursorï¼šAIé©±åŠ¨çš„è½¯ä»¶å¼€å‘æ–°èŒƒå¼</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pnpm ä½ ç”¨äº†å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583981974408478730</link>    <guid>https://juejin.cn/post/7583981974408478730</guid>    <pubDate>2025-12-16T03:14:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583981974408478730" data-draft-id="7583948178859032622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pnpm ä½ ç”¨äº†å—ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T03:14:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hayzone"/> <meta itemprop="url" content="https://juejin.cn/user/1750078243241607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pnpm ä½ ç”¨äº†å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1750078243241607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hayzone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:14:30.000Z" title="Tue Dec 16 2025 03:14:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">pnpm è¯¦è§£ï¼šæ›´å¿«ã€æ›´çœç©ºé—´çš„ç°ä»£åŒ–åŒ…ç®¡ç†å™¨</h2>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ pnpmï¼Ÿ</h3>
<p><strong>pnpm</strong>ï¼ˆ<strong>p</strong>erformant <strong>npm</strong>ï¼‰æ˜¯ä¸€ä¸ªå¿«é€Ÿã€èŠ‚çœç£ç›˜ç©ºé—´çš„ Node.js åŒ…ç®¡ç†å™¨ã€‚å®ƒé€šè¿‡ <strong>ç¡¬é“¾æ¥ + ç¬¦å·é“¾æ¥</strong> çš„æ–¹å¼ï¼Œåœ¨å…¨å±€å­˜å‚¨ä¸­åªä¿å­˜ä¸€ä»½ä¾èµ–åŒ…ï¼Œå¤šä¸ªé¡¹ç›®å…±äº«åŒä¸€ä»½ç‰©ç†æ–‡ä»¶ï¼Œä»è€Œæ˜¾è‘—å‡å°‘ç£ç›˜å ç”¨å¹¶æå‡å®‰è£…é€Ÿåº¦ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2F" target="_blank" title="https://pnpm.io/" ref="nofollow noopener noreferrer">pnpm.io</a></p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒä¼˜åŠ¿</h3>
<h4 data-id="heading-3">âœ… 1. <strong>èŠ‚çœç£ç›˜ç©ºé—´</strong></h4>
<ul>
<li><strong>npm/yarn</strong> æ¯ä¸ªé¡¹ç›®éƒ½ä¼šå¤åˆ¶å®Œæ•´ä¾èµ–æ ‘ã€‚</li>
<li><strong>pnpm</strong> ä½¿ç”¨ <strong>å†…å®¹å¯å¯»å€å­˜å‚¨ï¼ˆContent-addressable storeï¼‰</strong> ï¼Œç›¸åŒç‰ˆæœ¬çš„åŒ…åªå­˜ä¸€æ¬¡ã€‚</li>
<li><strong>å®æµ‹</strong>ï¼š10 ä¸ªç›¸ä¼¼é¡¹ç›®ï¼Œpnpm å¯èŠ‚çœ <strong>70%+</strong> ç£ç›˜ç©ºé—´ã€‚</li>
</ul>
<h4 data-id="heading-4">âœ… 2. <strong>å®‰è£…é€Ÿåº¦æ›´å¿«</strong></h4>
<ul>
<li>æ— éœ€é‡å¤ä¸‹è½½/è§£å‹ç›¸åŒåŒ…ã€‚</li>
<li>å¹¶è¡ŒåŒ–å¤„ç† + é«˜æ•ˆçš„ä¾èµ–è§£æç®—æ³•ã€‚</li>
<li><strong>CI/CD æˆ–å¤§å‹é¡¹ç›®ä¸­ä¼˜åŠ¿æ˜¾è‘—</strong>ã€‚</li>
</ul>
<h4 data-id="heading-5">âœ… 3. <strong>ä¸¥æ ¼çš„ä¾èµ–éš”ç¦»ï¼ˆæ— å¹½çµä¾èµ–ï¼‰</strong></h4>
<ul>
<li>pnpm ä¸¥æ ¼éµå¾ª <code>node_modules</code> çš„ <strong>symlink ç»“æ„</strong>ï¼Œåªæš´éœ²æ˜¾å¼å£°æ˜çš„ä¾èµ–ã€‚</li>
<li>é¿å… npm/yarn ä¸­å¸¸è§çš„â€œæœªå£°æ˜å´èƒ½å¼•ç”¨â€çš„ <strong>å¹½çµä¾èµ–</strong> é—®é¢˜ï¼Œæå‡é¡¹ç›®å¥å£®æ€§ã€‚</li>
</ul>
<h4 data-id="heading-6">âœ… 4. <strong>åŸç”Ÿæ”¯æŒ Monorepoï¼ˆå¤šé¡¹ç›®ç®¡ç†ï¼‰</strong></h4>
<ul>
<li>å†…ç½® <code>pnpm workspace</code> åŠŸèƒ½ï¼Œæ— éœ€é¢å¤–å·¥å…·ï¼ˆå¦‚ Lernaï¼‰å³å¯é«˜æ•ˆç®¡ç†å¤šä¸ªå­é¡¹ç›®ã€‚</li>
<li>æ”¯æŒè·¨é¡¹ç›®é“¾æ¥ã€ç»Ÿä¸€ä¾èµ–å‡çº§ã€è„šæœ¬æ‰¹é‡æ‰§è¡Œç­‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€å®‰è£… pnpm</h3>
<h4 data-id="heading-8">å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ npm</span>
npm install -g pnpm

<span class="hljs-comment"># ä½¿ç”¨ corepackï¼ˆNode.js 16.13+ å†…ç½®ï¼‰</span>
corepack <span class="hljs-built_in">enable</span>
corepack prepare pnpm@latest --activate
</code></pre>
<blockquote>
<p>ğŸ’¡ å»ºè®®ä½¿ç”¨ <code>corepack</code>ï¼Œå®ƒæ˜¯å®˜æ–¹æ¨èçš„åŒ…ç®¡ç†å™¨åˆ†å‘æ–¹å¼ï¼Œé¿å…å…¨å±€æ±¡æŸ“ã€‚</p>
</blockquote>
<h4 data-id="heading-9">éªŒè¯å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash">pnpm -v
<span class="hljs-comment"># è¾“å‡ºå¦‚ï¼š9.12.0</span>
</code></pre>
<hr/>
<h3 data-id="heading-10">å››ã€åŸºæœ¬ä½¿ç”¨å‘½ä»¤</h3>









































<table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–é¡¹ç›®</td><td><code>pnpm init</code></td></tr><tr><td>å®‰è£…ä¾èµ–</td><td><code>pnpm install</code> æˆ– <code>pnpm i</code></td></tr><tr><td>æ·»åŠ ä¾èµ–</td><td><code>pnpm add lodash</code></td></tr><tr><td>æ·»åŠ å¼€å‘ä¾èµ–</td><td><code>pnpm add -D typescript</code></td></tr><tr><td>åˆ é™¤ä¾èµ–</td><td><code>pnpm remove lodash</code></td></tr><tr><td>è¿è¡Œè„šæœ¬</td><td><code>pnpm run dev</code></td></tr><tr><td>æŸ¥çœ‹ä¾èµ–æ ‘</td><td><code>pnpm list</code></td></tr><tr><td>æ¸…ç† store</td><td><code>pnpm store prune</code></td></tr></tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<code>pnpm</code> ä¸æ”¯æŒ <code>npm install package --save</code> è¿™ç§å†™æ³•ï¼Œå¿…é¡»ç”¨ <code>pnpm add</code>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">äº”ã€ç‰ˆæœ¬ç­–ç•¥</h3>
<ul>
<li>pnpm éµå¾ª <strong>SemVerï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰</strong> ã€‚</li>
<li>ä¸»ç‰ˆæœ¬æ›´æ–°è¾ƒå¿«ï¼ˆç›®å‰ v9.xï¼‰ï¼Œä½† API ç¨³å®šã€‚</li>
<li>æ¨èä½¿ç”¨ <strong>æœ€æ–°ç¨³å®šç‰ˆ</strong>ï¼Œå¯é€šè¿‡ <code>pnpm env use --global latest</code> è‡ªåŠ¨ç®¡ç† Node.js + pnpm ç‰ˆæœ¬ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">å…­ã€å¤šé¡¹ç›®ç®¡ç†ï¼špnpm Workspace è¯¦è§£ï¼ˆæ ¸å¿ƒäº®ç‚¹ï¼‰</h3>
<h4 data-id="heading-13">1. ä»€ä¹ˆæ˜¯ Workspaceï¼Ÿ</h4>
<p>Workspace æ˜¯ pnpm æä¾›çš„ <strong>Monorepo ç®¡ç†æ–¹æ¡ˆ</strong>ï¼Œå…è®¸åœ¨ä¸€ä¸ªä»“åº“ä¸­ç®¡ç†å¤šä¸ªç›¸äº’å…³è”çš„åŒ…ï¼ˆå¦‚ç»„ä»¶åº“ã€å¾®å‰ç«¯ã€å·¥å…·é“¾ç­‰ï¼‰ã€‚</p>
<h4 data-id="heading-14">2. é…ç½®æ­¥éª¤</h4>
<h5 data-id="heading-15">(1) æ ¹ç›®å½•åˆ›å»º <code>pnpm-workspace.yaml</code></h5>
<pre><code class="hljs language-bash" lang="bash">packages:
  - <span class="hljs-string">'packages/*'</span>
  - <span class="hljs-string">'apps/*'</span>
  - <span class="hljs-string">'!**/test/**'</span>  <span class="hljs-comment"># æ’é™¤æµ‹è¯•ç›®å½•</span>
</code></pre>
<h5 data-id="heading-16">(2) å­é¡¹ç›®ç»“æ„ç¤ºä¾‹</h5>
<pre><code class="hljs language-go" lang="go">my-monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ui-components/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web-app/
â”‚   â””â”€â”€ admin/
â”œâ”€â”€ pnpm-workspace.yaml
â””â”€â”€ <span class="hljs-keyword">package</span>.json
</code></pre>
<h5 data-id="heading-17">(3) è·¨é¡¹ç›®å¼•ç”¨ï¼ˆè‡ªåŠ¨è½¯é“¾æ¥ï¼‰</h5>
<p>åœ¨ <code>apps/web-app/package.json</code> ä¸­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ui-components"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"workspace:*"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"utils"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"workspace:^1.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿è¡Œ <code>pnpm install</code> åï¼Œ<code>ui-components</code> å’Œ <code>utils</code> ä¼šè‡ªåŠ¨ä»¥ <strong>ç¬¦å·é“¾æ¥</strong> å½¢å¼é“¾æ¥åˆ° <code>web-app/node_modules</code>ï¼Œå®ç° <strong>å®æ—¶å¼€å‘è°ƒè¯•</strong>ï¼Œæ— éœ€ <code>npm link</code>ã€‚</p>
<h4 data-id="heading-18">3. æ‰¹é‡æ“ä½œå‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æ‰€æœ‰ workspace ä¸­è¿è¡Œ build</span>
pnpm -r run build

<span class="hljs-comment"># ä»…åœ¨åŒ…å« test è„šæœ¬çš„é¡¹ç›®ä¸­è¿è¡Œ</span>
pnpm -r --filter=<span class="hljs-string">'./packages/**'</span> run <span class="hljs-built_in">test</span>

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ workspace ä¾èµ–å…³ç³»å›¾</span>
pnpm m <span class="hljs-built_in">ls</span>
</code></pre>
<h4 data-id="heading-19">4. ä¼˜åŠ¿æ€»ç»“ï¼ˆvs Lerna + Yarn/NPMï¼‰</h4>



































<table><thead><tr><th>èƒ½åŠ›</th><th>pnpm Workspace</th><th>Lerna + Yarn</th></tr></thead><tbody><tr><td>ä¾èµ–å®‰è£…</td><td>å•æ¬¡ <code>pnpm install</code> å®Œæˆ</td><td>éœ€ <code>lerna bootstrap</code></td></tr><tr><td>ç£ç›˜å ç”¨</td><td>æä½ï¼ˆå…±äº« storeï¼‰</td><td>é«˜ï¼ˆæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ node_modulesï¼‰</td></tr><tr><td>å¹½çµä¾èµ–</td><td>ä¸¥æ ¼ç¦æ­¢</td><td>å¯èƒ½å­˜åœ¨</td></tr><tr><td>é…ç½®å¤æ‚åº¦</td><td>æç®€ï¼ˆä¸€ä¸ª yaml æ–‡ä»¶ï¼‰</td><td>éœ€ Lerna + Yarn é…ç½®</td></tr><tr><td>æ€§èƒ½</td><td>å¿«</td><td>è¾ƒæ…¢</td></tr></tbody></table>
<blockquote>
<p>ğŸš€ <strong>ç»“è®º</strong>ï¼šå¯¹äºæ–°é¡¹ç›®ï¼Œ<strong>ç›´æ¥ä½¿ç”¨ pnpm workspace æ˜¯ Monorepo çš„æœ€ä½³å®è·µ</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-20">ä¸ƒã€å¸¸è§é—®é¢˜ &amp; æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">Q1: pnpm å’Œ npm/yarn å…¼å®¹å—ï¼Ÿ</h4>
<ul>
<li>å®Œå…¨å…¼å®¹ <code>package.json</code> å’Œ npm registryã€‚</li>
<li>å¯æ— ç¼è¿ç§»ï¼šåˆ é™¤ <code>node_modules</code> å’Œ <code>package-lock.json</code>ï¼Œè¿è¡Œ <code>pnpm import</code>ï¼ˆä» yarn.lock/npm-lockï¼‰æˆ–ç›´æ¥ <code>pnpm install</code>ã€‚</li>
</ul>
<h4 data-id="heading-22">Q2: å¦‚ä½•è¿ç§»ç°æœ‰é¡¹ç›®åˆ° pnpmï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ é™¤æ—§ä¾èµ–</span>
<span class="hljs-built_in">rm</span> -rf node_modules package-lock.json

<span class="hljs-comment"># 2. å®‰è£… pnpm ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># 3. ï¼ˆå¯é€‰ï¼‰ä» yarn.lock å¯¼å…¥</span>
pnpm import  <span class="hljs-comment"># è‡ªåŠ¨è¯»å– yarn.lock æˆ– package-lock.json</span>
</code></pre>
<h4 data-id="heading-23">Q3: pnpm æ”¯æŒ .npmrc å—ï¼Ÿ</h4>
<ul>
<li>æ”¯æŒï¼é…ç½®æ–¹å¼ä¸ npm ä¸€è‡´ï¼Œå¦‚è®¾ç½® registryã€token ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-24">æœ€ä½³å®è·µå»ºè®®ï¼š</h4>
<ul>
<li>åœ¨ <code>.nvmrc</code> æˆ– <code>.tool-versions</code> ä¸­æŒ‡å®š Node.js ç‰ˆæœ¬ã€‚</li>
<li>ä½¿ç”¨ <code>pnpm dlx</code> ä¸´æ—¶è¿è¡ŒåŒ…ï¼ˆæ›¿ä»£ <code>npx</code>ï¼‰ï¼š<code>pnpm dlx create-react-app my-app</code></li>
<li>å¼€å¯ <code>hoist=false</code>ï¼ˆé»˜è®¤ï¼‰ä»¥ä¿æŒä¸¥æ ¼ä¾èµ–éš”ç¦»ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-25">å…«ã€ç»“è¯­</h3>
<p><strong>pnpm ä¸ä»…æ˜¯ä¸€ä¸ªæ›´å¿«çš„ npm æ›¿ä»£å“ï¼Œæ›´æ˜¯ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„åŸºç¡€è®¾æ–½</strong>ã€‚å®ƒåœ¨ <strong>ç£ç›˜æ•ˆç‡ã€å®‰è£…é€Ÿåº¦ã€ä¾èµ–å®‰å…¨æ€§å’Œ Monorepo æ”¯æŒ</strong> ä¸Šå…¨é¢é¢†å…ˆï¼Œå·²è¢« Viteã€Next.jsã€Nuxtã€Turborepo ç­‰ä¸»æµå·¥å…·é“¾å®˜æ–¹æ¨èã€‚</p>
<p>å¦‚æœä½ è¿˜åœ¨å¿å— <code>node_modules</code> çš„è‡ƒè‚¿å’Œå¹½çµä¾èµ–çš„å›°æ‰°ï¼Œ<strong>ç°åœ¨å°±æ˜¯åˆ‡æ¢åˆ° pnpm çš„æœ€ä½³æ—¶æœº</strong>ï¼</p>
<hr/>
<blockquote>
<p>ğŸ”— <strong>å‚è€ƒé“¾æ¥</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2F" target="_blank" title="https://pnpm.io/" ref="nofollow noopener noreferrer">pnpm å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Fbenchmarks" target="_blank" title="https://pnpm.io/benchmarks" ref="nofollow noopener noreferrer">pnpm vs npm vs yarn æ€§èƒ½å¯¹æ¯”</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.dev%2Fguide%2F%23scaffolding-your-first-vite-project" target="_blank" title="https://vitejs.dev/guide/#scaffolding-your-first-vite-project" ref="nofollow noopener noreferrer">Vite å®˜æ–¹æ¨èä½¿ç”¨ pnpm</a></li>
</ul>
</blockquote>
<hr/>
<p><strong>æ¬¢è¿ç‚¹èµã€æ”¶è—ã€è¯„è®ºäº¤æµï¼ä½ ç”¨è¿‡ pnpm å—ï¼Ÿä½“éªŒå¦‚ä½•ï¼Ÿ</strong> ğŸ˜Š</p>
<hr/>
<h4 data-id="heading-26">ğŸ“„ é™„ï¼šæ–‡æ¡£ç»“æ„è¯´æ˜</h4>









































<table><thead><tr><th>ç« èŠ‚</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>ä¸€</td><td>pnpm ç®€ä»‹</td></tr><tr><td>äºŒ</td><td>æ ¸å¿ƒä¼˜åŠ¿ï¼ˆå«å¤šé¡¹ç›®ç®¡ç†ï¼‰</td></tr><tr><td>ä¸‰</td><td>å®‰è£…æ–¹æ³•</td></tr><tr><td>å››</td><td>å¸¸ç”¨å‘½ä»¤</td></tr><tr><td>äº”</td><td>ç‰ˆæœ¬ç®¡ç†</td></tr><tr><td>å…­</td><td>Monorepo æ·±åº¦è§£æ</td></tr><tr><td>ä¸ƒ</td><td>å¸¸è§é—®é¢˜ä¸è¿ç§»æŒ‡å—</td></tr><tr><td>å…«</td><td>æ€»ç»“ä¸æ¨è</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[ç¯å¢ƒå˜é‡]exportå‘½ä»¤çš„ä½œç”¨æ˜¯ä»€ä¹ˆ]]></title>    <link>https://juejin.cn/post/7583980250733494335</link>    <guid>https://juejin.cn/post/7583980250733494335</guid>    <pubDate>2025-12-16T02:49:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583980250733494335" data-draft-id="7583933107690307647" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[ç¯å¢ƒå˜é‡]exportå‘½ä»¤çš„ä½œç”¨æ˜¯ä»€ä¹ˆ"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-12-16T02:49:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [ç¯å¢ƒå˜é‡]exportå‘½ä»¤çš„ä½œç”¨æ˜¯ä»€ä¹ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:49:13.000Z" title="Tue Dec 16 2025 02:49:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ <strong>.zshrc</strong> æ–‡ä»¶ä¸­ä½¿ç”¨ <code>export</code> å‘½ä»¤çš„ä¸»è¦ä½œç”¨æ˜¯å°†å˜é‡è®¾ç½®ä¸º <strong>ç¯å¢ƒå˜é‡</strong>ï¼Œä½¿å…¶åœ¨æ•´ä¸ªShellä¼šè¯åŠå…¶å­è¿›ç¨‹ä¸­å¯ç”¨ã€‚å…·ä½“ä½œç”¨å¦‚ä¸‹ï¼š</p>
<h2 data-id="heading-0">ä¸»è¦åŠŸèƒ½ï¼š</h2>
<h3 data-id="heading-1">1. <strong>ä½¿å˜é‡å…¨å±€å¯è§</strong></h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/bin:<span class="hljs-variable">$PATH</span>"</span>
</code></pre>
<ul>
<li>å°† <code>PATH</code> å˜é‡å¯¼å‡ºï¼Œä½¿æ‰€æœ‰å­è¿›ç¨‹ï¼ˆåŒ…æ‹¬å…¶ä»–ç¨‹åºã€è„šæœ¬ç­‰ï¼‰éƒ½èƒ½è®¿é—®è¿™ä¸ªå˜é‡</li>
</ul>
<h3 data-id="heading-2">2. <strong>ä½œç”¨åŸŸæ‰©å±•</strong></h3>
<pre><code class="hljs language-bash" lang="bash">MY_VAR=<span class="hljs-string">"hello"</span>       <span class="hljs-comment"># ä»…å½“å‰Shellå¯è§</span>
<span class="hljs-built_in">export</span> MY_VAR        <span class="hljs-comment"># å˜ä¸ºç¯å¢ƒå˜é‡ï¼Œå­è¿›ç¨‹å¯è§</span>
</code></pre>
<ul>
<li>æ²¡æœ‰ <code>export</code>ï¼šå˜é‡åªåœ¨å½“å‰Shellä¸­å¯ç”¨</li>
<li>æœ‰ <code>export</code>ï¼šå˜é‡å¯è¢«å­è¿›ç¨‹ç»§æ‰¿</li>
</ul>
<h3 data-id="heading-3">3. <strong>æŒä¹…åŒ–é…ç½®</strong></h3>
<p>åœ¨ <code>.zshrc</code> ä¸­ä½¿ç”¨ <code>export</code>ï¼Œæ¯æ¬¡å¯åŠ¨æ–°ç»ˆç«¯æ—¶éƒ½ä¼šè‡ªåŠ¨è®¾ç½®è¿™äº›ç¯å¢ƒå˜é‡ã€‚</p>
<h2 data-id="heading-4">å¸¸è§ç”¨ä¾‹ç¤ºä¾‹ï¼š</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Javaç¯å¢ƒ</span>
<span class="hljs-built_in">export</span> JAVA_HOME=<span class="hljs-string">"/usr/lib/jvm/java-11-openjdk"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$PATH</span>"</span>

<span class="hljs-comment"># ç¼–è¾‘å™¨è®¾ç½®</span>
<span class="hljs-built_in">export</span> EDITOR=<span class="hljs-string">"vim"</span>

<span class="hljs-comment"># è¯­è¨€è®¾ç½®</span>
<span class="hljs-built_in">export</span> LANG=<span class="hljs-string">"en_US.UTF-8"</span>

<span class="hljs-comment"># è‡ªå®šä¹‰å˜é‡</span>
<span class="hljs-built_in">export</span> MY_PROJECT_HOME=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/projects"</span>
<span class="hljs-built_in">export</span> GITHUB_TOKEN=<span class="hljs-string">"your_token_here"</span>  <span class="hljs-comment"># æ³¨æ„ï¼šä¸æ¨èåœ¨æ­¤ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯</span>
</code></pre>
<h2 data-id="heading-5">æ³¨æ„äº‹é¡¹ï¼š</h2>
<ol>
<li>
<p><strong>å®‰å…¨æ€§</strong>ï¼šä¸è¦åœ¨ <code>.zshrc</code> ä¸­å¯¼å‡ºæ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ã€APIå¯†é’¥ï¼‰ï¼Œå»ºè®®ä½¿ç”¨ä¸“ç”¨é…ç½®æ–‡ä»¶æˆ–å®‰å…¨å­˜å‚¨</p>
</li>
<li>
<p><strong>ç«‹å³ç”Ÿæ•ˆ</strong>ï¼šä¿®æ”¹ <code>.zshrc</code> åéœ€è¦é‡æ–°åŠ è½½ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> ~/.zshrc
<span class="hljs-comment"># æˆ–</span>
<span class="hljs-built_in">exec</span> zsh
</code></pre>
<ol start="3">
<li><strong>è·¯å¾„æ·»åŠ é¡ºåº</strong>ï¼š<code>PATH</code> å˜é‡æŒ‰é¡ºåºæŸ¥æ‰¾ï¼Œå¸¸ç”¨åšæ³•æ˜¯å°†è‡ªå®šä¹‰è·¯å¾„æ”¾åœ¨å‰é¢ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"/usr/local/bin:<span class="hljs-variable">$PATH</span>"</span>  <span class="hljs-comment"># ä¼˜å…ˆä½¿ç”¨/usr/local/bin</span>
</code></pre>
<ol start="4">
<li><strong>æŸ¥çœ‹ç¯å¢ƒå˜é‡</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span>        <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å¯¼å‡ºå˜é‡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span>    <span class="hljs-comment"># æŸ¥çœ‹PATHå˜é‡</span>
</code></pre>
<h2 data-id="heading-6">ä¸å…¶ä»–æ–¹å¼çš„åŒºåˆ«ï¼š</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸´æ—¶è®¾ç½®ï¼ˆä»…å½“å‰ä¼šè¯æœ‰æ•ˆï¼‰</span>
<span class="hljs-built_in">export</span> TEMP_VAR=<span class="hljs-string">"value"</span>

<span class="hljs-comment"># æ°¸ä¹…è®¾ç½®ï¼ˆå†™å…¥.zshrcï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export MY_VAR="value"'</span> &gt;&gt; ~/.zshrc

<span class="hljs-comment"># å±€éƒ¨å˜é‡ï¼ˆä¸å¯¼å‡ºï¼‰</span>
<span class="hljs-built_in">local</span> LOCAL_VAR=<span class="hljs-string">"only_in_current_scope"</span>
</code></pre>
<p>æ€»ä¹‹ï¼Œ<code>export</code> åœ¨ <code>.zshrc</code> ä¸­çš„ä½œç”¨æ˜¯ç¡®ä¿ä½ è®¾ç½®çš„å˜é‡åœ¨æ•´ä¸ªShellç¯å¢ƒå’Œæ‰€æœ‰å¯åŠ¨çš„ç¨‹åºä¸­éƒ½å¯ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot æ•´åˆ ElasticSearchï¼Œç»™æœç´¢æ’ä¸Šâ€œå…‰é€Ÿç¿…è†€â€]]></title>    <link>https://juejin.cn/post/7583955708318564352</link>    <guid>https://juejin.cn/post/7583955708318564352</guid>    <pubDate>2025-12-16T03:23:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583955708318564352" data-draft-id="7583973472322961423" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot æ•´åˆ ElasticSearchï¼Œç»™æœç´¢æ’ä¸Šâ€œå…‰é€Ÿç¿…è†€â€"/> <meta itemprop="keywords" content="åç«¯,Java,Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-16T03:23:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿç©ºç å­—"/> <meta itemprop="url" content="https://juejin.cn/user/3139860942296830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot æ•´åˆ ElasticSearchï¼Œç»™æœç´¢æ’ä¸Šâ€œå…‰é€Ÿç¿…è†€â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860942296830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿç©ºç å­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:23:48.000Z" title="Tue Dec 16 2025 03:23:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ‚Ÿã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ElasticSearch æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>ä½ æœ‰ä¸€ä¸ªè¶…çº§å¥å¿˜çš„æœ‹å‹ï¼ˆæ¯”å¦‚é‡‘é±¼è®°å¿†çš„é‚£ç§ï¼‰ï¼Œä½†ä»–å´èƒ½åœ¨0.0001ç§’å†…ä»100ä¸‡æœ¬ä¹¦é‡Œæ‰¾åˆ°ä½ æƒ³è¦çš„å¥å­ã€‚è¿™å°±æ˜¯ ElasticSearchï¼ˆç®€ç§° ESï¼‰ï¼</p>
<p><strong>ES çš„â€œäººæ ¼ç‰¹å¾â€ï¼š</strong></p>
<ul>
<li><strong>é€Ÿåº¦ç‹‚é­”</strong>ï¼šæœç´¢é€Ÿåº¦æ¯”å’–å•¡å› è¿‡é‡çš„ç¨‹åºå‘˜æ‰¾Bugè¿˜å¿«</li>
<li><strong>æ–‡æ¡£æ”¶è—å®¶</strong>ï¼šä»€ä¹ˆJSONã€æ—¥å¿—éƒ½èƒ½å­˜</li>
<li><strong>è¶…çº§ä¾¦æ¢</strong>ï¼šæ¨¡ç³Šæœç´¢ã€ç²¾ç¡®æœç´¢ã€æ‹¼éŸ³æœç´¢æ ·æ ·ç²¾é€š</li>
<li><strong>å¤§è±¡èƒƒå£</strong>ï¼šæ•°æ®é‡å†å¤§ä¹Ÿä¸æ€•ï¼ˆæ¯•ç«Ÿåå­—é‡Œå°±æœ‰â€œelasticâ€å¼¹æ€§ï¼‰</li>
<li><strong>é©¬æˆå›¢å›¢é•¿</strong>ï¼šå¤©ç”Ÿåˆ†å¸ƒå¼ï¼ŒèŠ‚ç‚¹ä¹‹é—´è·³æ¥è·³å»ä»ä¸å‡ºé”™</li>
</ul>
<h2 data-id="heading-1">äºŒã€æ•´åˆå¤§å†’é™©ï¼šSpringBoot ä¸ ES çš„â€œç›¸äº²å¤§ä¼šâ€</h2>
<h3 data-id="heading-2">ç¬¬ 1 æ­¥ï¼šå…ˆæ¥ä¸ªâ€œç›¸äº²ä»‹ç»äººâ€ï¼ˆMaven ä¾èµ–ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml é‡ŒåŠ å…¥è¿™äº›â€œçº¢å¨˜â€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- SpringBoot ç»™ ES çš„ä¸“å±â€œæƒ…ä¹¦â€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- é˜²æ­¢ç¨‹åºè¯´â€œæˆ‘ä¸ä¼šJSONâ€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">ç¬¬ 2 æ­¥ï¼šé…ç½®â€œçº¦ä¼šåœ°ç‚¹â€ï¼ˆapplication.ymlï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">elasticsearch:</span>
    <span class="hljs-attr">uris:</span> <span class="hljs-string">http://localhost:9200</span>  <span class="hljs-comment"># ES çš„â€œå®¶åº­åœ°å€â€</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">elastic</span>  <span class="hljs-comment"># ç”¨æˆ·åï¼ˆé»˜è®¤æ˜¯è¿™ä¸ªï¼‰</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">your_password</span>  <span class="hljs-comment"># å¯†ç ï¼ˆå®‰è£…æ—¶è®¾ç½®çš„ï¼‰</span>
    
  <span class="hljs-comment"># å¯é€‰ï¼šè®©æ—¥å¿—â€œå¤šè¯´ç‚¹è¯â€ï¼Œæ–¹ä¾¿è°ƒè¯•</span>
  <span class="hljs-attr">data:</span>
    <span class="hljs-attr">elasticsearch:</span>
      <span class="hljs-attr">repositories:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>

<span class="hljs-comment"># ç»™ ES å®¢æˆ·ç«¯ä¸€ç‚¹â€œå’–å•¡å› â€ï¼Œè®©å®ƒæ›´ç²¾ç¥</span>
<span class="hljs-attr">elasticsearch:</span>
  <span class="hljs-attr">connection-timeout:</span> <span class="hljs-number">5000</span>  <span class="hljs-comment"># è¿æ¥è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰</span>
  <span class="hljs-attr">socket-timeout:</span> <span class="hljs-number">30000</span>  <span class="hljs-comment"># socketè¶…æ—¶</span>
</code></pre>
<h3 data-id="heading-4">ç¬¬ 3 æ­¥ï¼šåˆ›å»ºâ€œç›¸äº²å¯¹è±¡â€ï¼ˆå®ä½“ç±»ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">annotation</span>.Id;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.annotations.Document;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.annotations.Field;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.annotations.FieldType;
<span class="hljs-keyword">import</span> java.util.Date;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Document(indexName = <span class="hljs-string">"book_index"</span>)</span>  <span class="hljs-comment">// å‘Šè¯‰ESï¼šâ€œè¿™æ˜¯æˆ‘å®¶çš„ä¹¦æ¶åå­—â€</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> {
    
    <span class="hljs-meta">@Id</span>  <span class="hljs-comment">// ç›¸å½“äºä¹¦çš„â€œèº«ä»½è¯å·â€</span>
    <span class="hljs-keyword">private</span> String id;
    
    <span class="hljs-meta">@Field(type = FieldType.Text, analyzer = <span class="hljs-string">"ik_max_word"</span>)</span>  <span class="hljs-comment">// ç”¨ä¸­æ–‡åˆ†è¯å™¨</span>
    <span class="hljs-keyword">private</span> String title;  <span class="hljs-comment">// ä¹¦å</span>
    
    <span class="hljs-meta">@Field(type = FieldType.Text, analyzer = <span class="hljs-string">"ik_smart"</span>)</span>
    <span class="hljs-keyword">private</span> String author;  <span class="hljs-comment">// ä½œè€…</span>
    
    <span class="hljs-meta">@Field(type = FieldType.Double)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Double</span> price;  <span class="hljs-comment">// ä»·æ ¼</span>
    
    <span class="hljs-meta">@Field(type = FieldType.Date)</span>
    <span class="hljs-keyword">private</span> Date publishDate;  <span class="hljs-comment">// å‡ºç‰ˆæ—¥æœŸ</span>
    
    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>  <span class="hljs-comment">// å…³é”®è¯ï¼Œä¸åˆ†è¯</span>
    <span class="hljs-keyword">private</span> String category;  <span class="hljs-comment">// åˆ†ç±»</span>
    
    <span class="hljs-meta">@Field(type = FieldType.Nested)</span>  <span class="hljs-comment">// åµŒå¥—å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> List&lt;Tag&gt; tags;
    
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">public</span> static <span class="hljs-keyword">class</span> <span class="hljs-title class_">Tag</span> {
        <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-meta">@Field(type = FieldType.Integer)</span>
        <span class="hljs-keyword">private</span> Integer priority;
    }
}
</code></pre>
<h3 data-id="heading-5">ç¬¬ 4 æ­¥ï¼šæ‰¾ä¸ªâ€œåª’å©†â€ï¼ˆRepository æ¥å£ï¼‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> org.springframework.data.domain.Page;
<span class="hljs-keyword">import</span> org.springframework.data.domain.Pageable;
<span class="hljs-keyword">import</span> org.springframework.data.elasticsearch.annotations.Query;
<span class="hljs-keyword">import</span> org.springframework.data.elasticsearch.repository.ElasticsearchRepository;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> interface <span class="hljs-type">BookRepository</span> extends <span class="hljs-type">ElasticsearchRepository</span>&lt;<span class="hljs-type">Book</span>, <span class="hljs-type">String</span>&gt; {
    
    <span class="hljs-comment">// æ–¹æ³•åå°±æ˜¯æŸ¥è¯¢ï¼Spring Data çš„â€œé­”æ³•â€</span>
    
    <span class="hljs-comment">// 1. æŒ‰ä½œè€…ç²¾ç¡®æŸ¥æ‰¾ï¼ˆæ¯”æ‰¾å¤±æ•£å¤šå¹´çš„å…„å¼Ÿè¿˜å‡†ï¼‰</span>
    <span class="hljs-type">List</span>&lt;<span class="hljs-type">Book</span>&gt; findByAuthor(<span class="hljs-type">String</span> author);
    
    <span class="hljs-comment">// 2. æŒ‰æ ‡é¢˜æ¨¡ç³ŠæŸ¥æ‰¾ï¼ˆæ”¯æŒåˆ†è¯ï¼‰</span>
    <span class="hljs-type">List</span>&lt;<span class="hljs-type">Book</span>&gt; findByTitleContaining(<span class="hljs-type">String</span> keyword);
    
    <span class="hljs-comment">// 3. ä»·æ ¼åŒºé—´æŸ¥æ‰¾ï¼ˆæ‰¾ä¹°å¾—èµ·çš„ä¹¦ï¼‰</span>
    <span class="hljs-type">List</span>&lt;<span class="hljs-type">Book</span>&gt; findByPriceBetween(<span class="hljs-type">Double</span> minPrice, <span class="hljs-type">Double</span> maxPrice);
    
    <span class="hljs-comment">// 4. å¤šæ¡ä»¶æŸ¥è¯¢ï¼ˆä½œè€…+åˆ†ç±»ï¼‰</span>
    <span class="hljs-type">List</span>&lt;<span class="hljs-type">Book</span>&gt; findByAuthorAndCategory(<span class="hljs-type">String</span> author, <span class="hljs-type">String</span> category);
    
    <span class="hljs-comment">// 5. è‡ªå®šä¹‰æŸ¥è¯¢ï¼ˆå±•ç¤ºçœŸæ­£çš„æŠ€æœ¯ï¼‰</span>
    <span class="hljs-meta">@Query</span>(<span class="hljs-string">"{<span class="hljs-subst">\"</span>bool<span class="hljs-subst">\"</span>: {<span class="hljs-subst">\"</span>must<span class="hljs-subst">\"</span>: [{<span class="hljs-subst">\"</span>match<span class="hljs-subst">\"</span>: {<span class="hljs-subst">\"</span>title<span class="hljs-subst">\"</span>: <span class="hljs-subst">\"</span>?0<span class="hljs-subst">\"</span>}}]}}"</span>)
    <span class="hljs-type">Page</span>&lt;<span class="hljs-type">Book</span>&gt; customSearch(<span class="hljs-type">String</span> keyword, <span class="hljs-type">Pageable</span> pageable);
    
    <span class="hljs-comment">// 6. ç»Ÿè®¡æŸä¸ªä½œè€…æœ‰å¤šå°‘ä¹¦</span>
    <span class="hljs-type">Long</span> countByAuthor(<span class="hljs-type">String</span> author);
}
</code></pre>
<h3 data-id="heading-6">ç¬¬ 5 æ­¥ï¼šå†™ä¸ªâ€œæ‹çˆ±å¯¼å¸ˆâ€ï¼ˆService å±‚ï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">beans</span>.<span class="hljs-property">factory</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Autowired</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">data</span>.<span class="hljs-property">domain</span>.<span class="hljs-property">Page</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">data</span>.<span class="hljs-property">domain</span>.<span class="hljs-property">Pageable</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Service</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">List</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Optional</span>;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">BookRepository</span> bookRepository;
    
    <span class="hljs-comment">/**
     * æ·»åŠ /æ›´æ–°ä¸€æœ¬ä¹¦
     * å¦‚æœä¹¦æœ‰idï¼Œå°±æ˜¯æ›´æ–°ï¼›æ²¡æœ‰idï¼Œå°±æ˜¯æ–°å¢
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Book</span> <span class="hljs-title function_">saveBook</span>(<span class="hljs-params">Book book</span>) {
        <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">save</span>(book);
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ·»åŠ ï¼ˆESæœ€å–œæ¬¢æ‰¹é‡æ“ä½œäº†ï¼Œæ•ˆç‡é«˜ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">saveAllBooks</span>(<span class="hljs-params">List&lt;Book&gt; books</span>) {
        bookRepository.<span class="hljs-title function_">saveAll</span>(books);
    }
    
    <span class="hljs-comment">/**
     * æŒ‰IDæŸ¥æ‰¾ï¼ˆé€Ÿåº¦é£å¿«ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Optional</span>&lt;<span class="hljs-title class_">Book</span>&gt; <span class="hljs-title function_">findById</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> id</span>) {
        <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">findById</span>(id);
    }
    
    <span class="hljs-comment">/**
     * å¤æ‚æœç´¢ï¼šæŒ‰æ ‡é¢˜å’Œä½œè€…æœç´¢
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Book</span>&gt; <span class="hljs-title function_">searchBooks</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> title, <span class="hljs-built_in">String</span> author</span>) {
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å†™æ›´å¤æ‚çš„é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (title != <span class="hljs-literal">null</span> &amp;&amp; author != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">findByTitleContainingAndAuthor</span>(title, author);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (title != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">findByTitleContaining</span>(title);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">findByAuthor</span>(author);
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ é™¤ä¸€æœ¬ä¹¦ï¼ˆè°¨æ…æ“ä½œï¼ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteBook</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> id</span>) {
        bookRepository.<span class="hljs-title function_">deleteById</span>(id);
    }
    
    <span class="hljs-comment">/**
     * åˆ†é¡µæŸ¥è¯¢ï¼ˆå¤§æ•°æ®é‡çš„å¥½æœ‹å‹ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Page</span>&lt;<span class="hljs-title class_">Book</span>&gt; <span class="hljs-title function_">findAllBooks</span>(<span class="hljs-params">Pageable pageable</span>) {
        <span class="hljs-keyword">return</span> bookRepository.<span class="hljs-title function_">findAll</span>(pageable);
    }
    
    <span class="hljs-comment">/**
     * é«˜çº§æœç´¢ï¼šä½¿ç”¨QueryBuilder
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Book</span>&gt; <span class="hljs-title function_">advancedSearch</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> keyword, Double minPrice, Double maxPrice</span>) {
        <span class="hljs-comment">// ä½¿ç”¨NativeSearchQueryBuilderæ„å»ºå¤æ‚æŸ¥è¯¢</span>
        <span class="hljs-comment">// è¿™é‡Œå…ˆçœç•¥ï¼Œä¸‹é¢ä¼šæœ‰è¯¦ç»†ç¤ºä¾‹</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-7">ç¬¬ 6 æ­¥ï¼šé«˜çº§æœç´¢çš„â€œç§˜å¯†æ­¦å™¨â€</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> org.elasticsearch.index.query.BoolQueryBuilder;
<span class="hljs-keyword">import</span> org.elasticsearch.index.query.QueryBuilders;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.ElasticsearchRestTemplate;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.SearchHits;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.query.NativeSearchQuery;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.query.NativeSearchQueryBuilder;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdvancedSearchService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ElasticsearchRestTemplate elasticsearchRestTemplate;
    
    <span class="hljs-comment">/**
     * å¤šæ¡ä»¶ç»„åˆæœç´¢ï¼ˆå¸ƒå°”æŸ¥è¯¢ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> List&lt;Book&gt; multiConditionSearch(String keyword, <span class="hljs-built_in">Double</span> minPrice, 
                                           <span class="hljs-built_in">Double</span> maxPrice, String category) {
        
        <span class="hljs-comment">// 1. åˆ›å»ºå¸ƒå°”æŸ¥è¯¢æ„å»ºå™¨ï¼ˆç›¸å½“äºSQLçš„WHEREï¼‰</span>
        BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();
        
        <span class="hljs-comment">// 2. æ·»åŠ å¿…é¡»æ¡ä»¶ï¼ˆmust = ANDï¼‰</span>
        <span class="hljs-keyword">if</span> (keyword != <span class="hljs-literal">null</span> &amp;&amp; !keyword.trim().isEmpty()) {
            boolQuery.must(QueryBuilders.multiMatchQuery(keyword, <span class="hljs-string">"title"</span>, <span class="hljs-string">"author"</span>)
                    .analyzer(<span class="hljs-string">"ik_max_word"</span>));
        }
        
        <span class="hljs-comment">// 3. æ·»åŠ ä»·æ ¼èŒƒå›´ï¼ˆrangeæŸ¥è¯¢ï¼‰</span>
        <span class="hljs-keyword">if</span> (minPrice != <span class="hljs-literal">null</span> || maxPrice != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> rangeQuery = QueryBuilders.rangeQuery(<span class="hljs-string">"price"</span>);
            <span class="hljs-keyword">if</span> (minPrice != <span class="hljs-literal">null</span>) {
                rangeQuery.gte(minPrice);
            }
            <span class="hljs-keyword">if</span> (maxPrice != <span class="hljs-literal">null</span>) {
                rangeQuery.lte(maxPrice);
            }
            boolQuery.must(rangeQuery);
        }
        
        <span class="hljs-comment">// 4. æ·»åŠ åˆ†ç±»è¿‡æ»¤ï¼ˆfilterä¸è®¡ç®—åˆ†æ•°ï¼Œæ›´å¿«ï¼‰</span>
        <span class="hljs-keyword">if</span> (category != <span class="hljs-literal">null</span> &amp;&amp; !category.trim().isEmpty()) {
            boolQuery.filter(QueryBuilders.termQuery(<span class="hljs-string">"category"</span>, category));
        }
        
        <span class="hljs-comment">// 5. æ„å»ºæŸ¥è¯¢</span>
        NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()
                .withQuery(boolQuery)
                .withSorts(org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.query.SortBuilders
                        .fieldSort(<span class="hljs-string">"price"</span>).order(org.springframework.<span class="hljs-keyword">data</span>.domain.Sort.Direction.ASC))
                .withPageable(org.springframework.<span class="hljs-keyword">data</span>.domain.PageRequest.of(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>))
                .build();
        
        <span class="hljs-comment">// 6. æ‰§è¡ŒæŸ¥è¯¢</span>
        SearchHits&lt;Book&gt; searchHits = elasticsearchRestTemplate.search(searchQuery, Book.<span class="hljs-keyword">class</span>);
        
        <span class="hljs-comment">// 7. è½¬æ¢ç»“æœ</span>
        <span class="hljs-keyword">return</span> searchHits.getSearchHits().stream()
                .map(hit -&gt; hit.getContent())
                .collect(Collectors.toList());
    }
    
    <span class="hljs-comment">/**
     * èšåˆæŸ¥è¯¢ï¼šç»Ÿè®¡æ¯ä¸ªåˆ†ç±»æœ‰å¤šå°‘æœ¬ä¹¦
     */</span>
    <span class="hljs-keyword">public</span> Map&lt;String, <span class="hljs-built_in">Long</span>&gt; categoryStatistics() {
        NativeSearchQuery query = new NativeSearchQueryBuilder()
                .addAggregation(org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.query.aggregation.AggregationBuilders
                        .terms(<span class="hljs-string">"category_agg"</span>).field(<span class="hljs-string">"category.keyword"</span>))
                .build();
        
        SearchHits&lt;Book&gt; searchHits = elasticsearchRestTemplate.search(query, Book.<span class="hljs-keyword">class</span>);
        
        <span class="hljs-comment">// å¤„ç†èšåˆç»“æœï¼ˆè¿™é‡Œç®€åŒ–äº†ï¼Œå®é™…éœ€è¦è§£æAggregationsï¼‰</span>
        <span class="hljs-keyword">return</span> new HashMap&lt;&gt;();
    }
}
</code></pre>
<h3 data-id="heading-8">ç¬¬ 7 æ­¥ï¼šREST API æ§åˆ¶å™¨ï¼ˆå¯¹å¤–æ¥å£ï¼‰</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.beans</span><span class="hljs-selector-class">.factory</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Autowired</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.data</span><span class="hljs-selector-class">.domain</span><span class="hljs-selector-class">.Page</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.data</span><span class="hljs-selector-class">.domain</span><span class="hljs-selector-class">.PageRequest</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.http</span><span class="hljs-selector-class">.ResponseEntity</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span>.*;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.List</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.Optional</span>;

@<span class="hljs-selector-tag">RestController</span>
@<span class="hljs-selector-tag">RequestMapping</span>(<span class="hljs-string">"/api/books"</span>)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">BookController</span> {
    
    <span class="hljs-variable">@Autowired</span>
    private BookService bookService;
    
    <span class="hljs-variable">@Autowired</span>
    private AdvancedSearchService advancedSearchService;
    
    <span class="hljs-comment">/**
     * åˆ›å»ºæ–°ä¹¦
     */</span>
    <span class="hljs-variable">@PostMapping</span>
    public ResponseEntity&lt;Book&gt; <span class="hljs-built_in">createBook</span>(<span class="hljs-variable">@RequestBody</span> Book book) {
        <span class="hljs-selector-tag">Book</span> <span class="hljs-selector-tag">savedBook</span> = <span class="hljs-selector-tag">bookService</span><span class="hljs-selector-class">.saveBook</span>(book);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(savedBook);
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡å¯¼å…¥ï¼ˆé€‚åˆåˆå§‹åŒ–æ•°æ®ï¼‰
     */</span>
    @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/batch"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;<span class="hljs-selector-tag">String</span>&gt; <span class="hljs-selector-tag">batchImport</span>(<span class="hljs-variable">@RequestBody</span> List&lt;Book&gt; books) {
        <span class="hljs-selector-tag">bookService</span><span class="hljs-selector-class">.saveAllBooks</span>(books);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(<span class="hljs-string">"æˆåŠŸå¯¼å…¥ "</span> + books.<span class="hljs-built_in">size</span>() + <span class="hljs-string">" æœ¬ä¹¦"</span>);
    }
    
    <span class="hljs-comment">/**
     * æœç´¢ä¹¦ç±ï¼ˆç®€å•ç‰ˆï¼‰
     */</span>
    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/search"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;<span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">Book</span>&gt;&gt; <span class="hljs-selector-tag">searchBooks</span>(
            <span class="hljs-variable">@RequestParam</span>(required = false) String title,
            <span class="hljs-variable">@RequestParam</span>(required = false) String author) {
        
        <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">Book</span>&gt; <span class="hljs-selector-tag">books</span> = <span class="hljs-selector-tag">bookService</span><span class="hljs-selector-class">.searchBooks</span>(title, author);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(books);
    }
    
    <span class="hljs-comment">/**
     * é«˜çº§æœç´¢ï¼ˆå¤šæ¡ä»¶ï¼‰
     */</span>
    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/advanced-search"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;<span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">Book</span>&gt;&gt; <span class="hljs-selector-tag">advancedSearch</span>(
            <span class="hljs-variable">@RequestParam</span>(required = false) String keyword,
            <span class="hljs-variable">@RequestParam</span>(required = false) Double minPrice,
            <span class="hljs-variable">@RequestParam</span>(required = false) Double maxPrice,
            <span class="hljs-variable">@RequestParam</span>(required = false) String category) {
        
        <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">Book</span>&gt; <span class="hljs-selector-tag">books</span> = <span class="hljs-selector-tag">advancedSearchService</span>
                <span class="hljs-selector-class">.multiConditionSearch</span>(keyword, minPrice, maxPrice, category);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(books);
    }
    
    <span class="hljs-comment">/**
     * åˆ†é¡µæŸ¥è¯¢
     */</span>
    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/page"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;<span class="hljs-selector-tag">Page</span>&lt;<span class="hljs-selector-tag">Book</span>&gt;&gt; <span class="hljs-selector-tag">getBooksByPage</span>(
            <span class="hljs-variable">@RequestParam</span>(defaultValue = <span class="hljs-string">"0"</span>) int page,
            <span class="hljs-variable">@RequestParam</span>(defaultValue = <span class="hljs-string">"10"</span>) int size) {
        
        <span class="hljs-selector-tag">Page</span>&lt;<span class="hljs-selector-tag">Book</span>&gt; <span class="hljs-selector-tag">books</span> = <span class="hljs-selector-tag">bookService</span><span class="hljs-selector-class">.findAllBooks</span>(PageRequest.<span class="hljs-built_in">of</span>(page, size));
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(books);
    }
}
</code></pre>
<h3 data-id="heading-9">ç¬¬ 8 æ­¥ï¼šé…ç½®ç±»ï¼ˆé”¦ä¸Šæ·»èŠ±ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Configuration;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.client.ClientConfiguration;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.client.RestClients;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.core.ElasticsearchRestTemplate;
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.elasticsearch.repository.config.EnableElasticsearchRepositories;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableElasticsearchRepositories(basePackages = <span class="hljs-string">"com.yourpackage.repository"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ElasticsearchConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RestHighLevelClient elasticsearchClient() {
        ClientConfiguration clientConfiguration = ClientConfiguration.builder()
                .connectedTo(<span class="hljs-string">"localhost:9200"</span>)
                .withBasicAuth(<span class="hljs-string">"elastic"</span>, <span class="hljs-string">"your_password"</span>)
                .withConnectTimeout(<span class="hljs-number">5000</span>)
                .withSocketTimeout(<span class="hljs-number">30000</span>)
                .build();
        
        <span class="hljs-keyword">return</span> RestClients.create(clientConfiguration).rest();
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ElasticsearchRestTemplate elasticsearchRestTemplate() {
        <span class="hljs-keyword">return</span> new ElasticsearchRestTemplate(elasticsearchClient());
    }
}
</code></pre>
<h2 data-id="heading-10">ä¸‰ã€æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„â€œæ°ä½œâ€</h2>
<h3 data-id="heading-11">æµ‹è¯•æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">POST /api/books/batch
[
  {
    <span class="hljs-string">"title"</span>: <span class="hljs-string">"SpringBootä»å…¥é—¨åˆ°æ”¾å¼ƒ"</span>,
    <span class="hljs-string">"author"</span>: <span class="hljs-string">"ç¨‹åºçŒ¿è€å¼ "</span>,
    <span class="hljs-string">"price"</span>: 68.5,
    <span class="hljs-string">"category"</span>: <span class="hljs-string">"æŠ€æœ¯"</span>,
    <span class="hljs-string">"publishDate"</span>: <span class="hljs-string">"2023-01-01"</span>,
    <span class="hljs-string">"tags"</span>: [
      {<span class="hljs-string">"name"</span>: <span class="hljs-string">"Java"</span>, <span class="hljs-string">"priority"</span>: 1},
      {<span class="hljs-string">"name"</span>: <span class="hljs-string">"åç«¯"</span>, <span class="hljs-string">"priority"</span>: 2}
    ]
  },
  {
    <span class="hljs-string">"title"</span>: <span class="hljs-string">"ElasticSearchå®æˆ˜æŒ‡å—"</span>,
    <span class="hljs-string">"author"</span>: <span class="hljs-string">"æœç´¢è¾¾äººæ"</span>,
    <span class="hljs-string">"price"</span>: 89.0,
    <span class="hljs-string">"category"</span>: <span class="hljs-string">"æŠ€æœ¯"</span>,
    <span class="hljs-string">"publishDate"</span>: <span class="hljs-string">"2023-02-15"</span>,
    <span class="hljs-string">"tags"</span>: [
      {<span class="hljs-string">"name"</span>: <span class="hljs-string">"æœç´¢"</span>, <span class="hljs-string">"priority"</span>: 1},
      {<span class="hljs-string">"name"</span>: <span class="hljs-string">"å¤§æ•°æ®"</span>, <span class="hljs-string">"priority"</span>: 2}
    ]
  }
]
</code></pre>
<h3 data-id="heading-12">æœç´¢ç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">GET /api/books/search?<span class="hljs-attr">title</span>=SpringBoot&amp;author=ç¨‹åºçŒ¿è€å¼ 
GET /api/books/advanced-search?<span class="hljs-attr">keyword</span>=å®æˆ˜&amp;minPrice=<span class="hljs-number">50</span>&amp;maxPrice=<span class="hljs-number">100</span>
</code></pre>
<h2 data-id="heading-13">å››ã€é‡åˆ°çš„â€œå‘â€å’Œè§£å†³æ–¹æ¡ˆ</h2>
<ol>
<li>
<p><strong>è¿æ¥é—®é¢˜</strong>ï¼šç¡®ä¿ESæœåŠ¡å·²å¯åŠ¨ï¼Œæ£€æŸ¥ç«¯å£9200</p>
<pre><code class="hljs language-arduino" lang="arduino">curl http:<span class="hljs-comment">//localhost:9200</span>
</code></pre>
</li>
<li>
<p><strong>ç‰ˆæœ¬å…¼å®¹</strong>ï¼šSpringBootç‰ˆæœ¬å’ŒESç‰ˆæœ¬è¦åŒ¹é…</p>
<ul>
<li>SpringBoot 2.7.x â†’ ES 7.17.x</li>
<li>SpringBoot 3.x â†’ ES 8.x</li>
</ul>
</li>
<li>
<p><strong>ä¸­æ–‡åˆ†è¯</strong>ï¼šå®‰è£…IKåˆ†è¯å™¨</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ESå®¹å™¨/å®‰è£…ç›®å½•çš„pluginsæ–‡ä»¶å¤¹</span>
./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.3/elasticsearch-analysis-ik-7.17.3.zip
</code></pre>
</li>
<li>
<p><strong>å†…å­˜ä¸è¶³</strong>ï¼šè°ƒæ•´JVMå‚æ•°</p>
<pre><code class="hljs language-diff" lang="diff"># config/jvm.options
<span class="hljs-deletion">-Xms1g</span>
<span class="hljs-deletion">-Xmx1g</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-14">äº”ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™å¯¹â€œé»„é‡‘æ­æ¡£â€ï¼Ÿ</h2>
<h3 data-id="heading-15">SpringBoot + ES = å¤©ä½œä¹‹åˆ</h3>
<p><strong>ä¼˜ç‚¹å¤§æ”¾é€ï¼š</strong></p>
<ol>
<li><strong>å¼€å‘é€Ÿåº¦</strong>ï¼šSpringBootçš„è‡ªåŠ¨é…ç½® + ESçš„ç®€å•API = ç”Ÿäº§åŠ›ç¿»å€</li>
<li><strong>æ€§èƒ½è¡¨ç°</strong>ï¼šESçš„å€’æ’ç´¢å¼• + åˆ†å¸ƒå¼æ¶æ„ = æœç´¢å¦‚é£</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šå¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒESå¯ä½œä¸ºç‹¬ç«‹çš„æœç´¢æœåŠ¡</li>
<li><strong>ç”Ÿæ€å®Œå–„</strong>ï¼šSpring Data Elasticsearch å°è£…äº†å¤§å¤šæ•°å¸¸ç”¨æ“ä½œ</li>
<li><strong>å®æ—¶æ€§</strong>ï¼šè¿‘å®æ—¶æœç´¢ï¼Œæ•°æ®ä¸€ç§’å†…å¯æŸ¥</li>
</ol>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯ï¼ˆESå¤§æ˜¾èº«æ‰‹çš„æ—¶å€™ï¼‰</h3>
<ol>
<li><strong>ç”µå•†ç½‘ç«™</strong>ï¼šå•†å“æœç´¢ã€ç­›é€‰ã€æ’åº</li>
<li><strong>æ—¥å¿—åˆ†æ</strong>ï¼šELKæ ˆä¸­çš„æ ¸å¿ƒç»„ä»¶</li>
<li><strong>å†…å®¹å¹³å°</strong>ï¼šæ–‡ç« ã€æ–°é—»çš„å…¨æ–‡æ£€ç´¢</li>
<li><strong>ç›‘æ§ç³»ç»Ÿ</strong>ï¼šå®æ—¶æ•°æ®åˆ†æ</li>
<li><strong>æ¨èç³»ç»Ÿ</strong>ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æ+ç›¸ä¼¼åº¦æœç´¢</li>
</ol>
<h3 data-id="heading-17">æœ€å</h3>
<ul>
<li><strong>ä¸è¦æ»¥ç”¨</strong>ï¼šç®€å•çš„CRUDç”¨MySQLï¼Œå¤æ‚æœç´¢å†ç”¨ES</li>
<li><strong>æ•°æ®åŒæ­¥</strong>ï¼šè€ƒè™‘ä½¿ç”¨Logstashæˆ–è‡ªå®šä¹‰åŒæ­¥æœºåˆ¶</li>
<li><strong>ç´¢å¼•è®¾è®¡</strong>ï¼šåˆç†çš„mappingè®¾è®¡æ˜¯æ€§èƒ½çš„å…³é”®</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šç”¨Kibanaç›‘æ§ESé›†ç¾¤å¥åº·çŠ¶æ€</li>
</ul>
<hr/>
<p>SpringBootæ•´åˆElasticSearchï¼Œå°±åƒç»™ç¨‹åºè£…ä¸Šäº†â€œè°·æ­Œå¤§è„‘â€â€”â€”å­˜å¾—å¤šã€æ‰¾å¾—å¿«ã€æŸ¥å¾—å‡†ã€‚è™½ç„¶é…ç½®è¿‡ç¨‹åƒåœ¨ç»„è£…ä¹é«˜ï¼Œå¶å°”ä¼šæ‰¾ä¸åˆ°é›¶ä»¶ï¼ˆç‰ˆæœ¬å…¼å®¹ï¼‰ï¼Œä½†ä¸€æ—¦æ­å»ºå®Œæˆï¼Œä½ å°±èƒ½äº«å—åˆ°â€œç§’çº§æœç´¢â€çš„å¿«æ„Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c58b062b574dc1af8c3b721e0928b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460228&amp;x-signature=o4lBBo1a6LzEydy1NhMjtdyxURo%3D" alt="Spring Boot æ•´åˆ Elasticsearch åŠå®æˆ˜åº”ç”¨.png" loading="lazy"/></p>
<p><strong>è°¢è°¢ä½ çœ‹æˆ‘çš„æ–‡ç« ï¼Œæ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœè§‰å¾—ä¸é”™ï¼Œéšæ‰‹ç‚¹ä¸ªèµã€è½¬å‘ã€åœ¨çœ‹ä¸‰è¿å§ï¼Œæ„Ÿè°¢æ„Ÿè°¢ã€‚é‚£æˆ‘ä»¬ï¼Œä¸‹æ¬¡å†è§ã€‚</strong></p>
<p>æ‚¨çš„ä¸€é”®ä¸‰è¿ï¼Œæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼Œè°¢è°¢</p>
<p>å±±æ°´æœ‰ç›¸é€¢ï¼Œæ¥æ—¥çš†å¯æœŸï¼Œè°¢è°¢é˜…è¯»ï¼Œæˆ‘ä»¬å†ä¼š</p>
<p>æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’ï¼Œä¸Šèƒ½é€šå¤©ï¼Œä¸‹èƒ½æ¢æµ·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git é…ç½®ä¸ä½¿ç”¨å…¨æ”»ç•¥ï¼ˆå«å·¥ä½œæµå¯¹æ¯”ä¸ AI åä½œï¼‰]]></title>    <link>https://juejin.cn/post/7583983152323903514</link>    <guid>https://juejin.cn/post/7583983152323903514</guid>    <pubDate>2025-12-16T03:22:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583983152323903514" data-draft-id="7583983152323887130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git é…ç½®ä¸ä½¿ç”¨å…¨æ”»ç•¥ï¼ˆå«å·¥ä½œæµå¯¹æ¯”ä¸ AI åä½œï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T03:22:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hayzone"/> <meta itemprop="url" content="https://juejin.cn/user/1750078243241607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git é…ç½®ä¸ä½¿ç”¨å…¨æ”»ç•¥ï¼ˆå«å·¥ä½œæµå¯¹æ¯”ä¸ AI åä½œï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1750078243241607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hayzone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:22:23.000Z" title="Tue Dec 16 2025 03:22:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Git åŸºç¡€é…ç½®ä¸æ“ä½œæµç¨‹</h2>
<h3 data-id="heading-1">1. å®‰è£…ä¸åˆå§‹åŒ–</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># ä¸‹è½½åœ°å€ï¼šhttps://git-scm.com/</span>
<span class="hljs-meta"># å®‰è£…åæ£€æŸ¥ç‰ˆæœ¬</span>
git --version

<span class="hljs-meta"># é…ç½®å…¨å±€èº«ä»½ï¼ˆå¿…å¡«ï¼‰</span>
git config --<span class="hljs-keyword">global</span> user.name <span class="hljs-string">"YourName"</span>
git config --<span class="hljs-keyword">global</span> user.email <span class="hljs-string">"your@email.com"</span>

<span class="hljs-meta"># ç”Ÿæˆ SSH å¯†é’¥ï¼ˆç”¨äºè¿œç¨‹è®¤è¯ï¼‰</span>
ssh-keygen -t rsa -C <span class="hljs-string">"your@email.com"</span>
</code></pre>
<h3 data-id="heading-2">2. æ ¸å¿ƒæ“ä½œæµç¨‹å›¾</h3>
<pre><code class="hljs language-css" lang="css">graph <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[åˆå§‹åŒ–ä»“åº“]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[æ‹‰å–ä»£ç ]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[åˆ‡æ¢åˆ†æ”¯]</span>
    C --&gt; D<span class="hljs-selector-attr">[ä¿®æ”¹æ–‡ä»¶]</span>
    D --&gt; E<span class="hljs-selector-attr">[æ·»åŠ ç¼“å­˜]</span>
    E --&gt; F<span class="hljs-selector-attr">[æäº¤æœ¬åœ°]</span>
    F --&gt; G<span class="hljs-selector-attr">[æ¨é€è¿œç¨‹]</span>
    G --&gt; H<span class="hljs-selector-attr">[åˆå¹¶åˆ†æ”¯]</span>
</code></pre>
<h3 data-id="heading-3">3. å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h3>




























































<table><thead><tr><th>æ“ä½œç±»å‹</th><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–</td><td><code>git init</code></td><td>åˆ›å»ºæ–°ä»“åº“</td></tr><tr><td>å…‹éš†è¿œç¨‹ä»£ç </td><td><code>git clone [ä»“åº“åœ°å€]</code></td><td>å¤åˆ¶è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</td></tr><tr><td>åˆ†æ”¯æ“ä½œ</td><td><code>git checkout [åˆ†æ”¯å]</code></td><td>åˆ‡æ¢åˆ†æ”¯</td></tr><tr><td>çŠ¶æ€æ£€æŸ¥</td><td><code>git status</code></td><td>æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€</td></tr><tr><td>æ–‡ä»¶ç®¡ç†</td><td><code>git add .</code></td><td>æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°ç¼“å­˜åŒº</td></tr><tr><td>æäº¤æ›´æ”¹</td><td><code>git commit -m "æè¿°"</code></td><td>æäº¤åˆ°æœ¬åœ°ä»“åº“</td></tr><tr><td>æ¨é€è¿œç¨‹</td><td><code>git push origin [åˆ†æ”¯å]</code></td><td>ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨</td></tr><tr><td>åˆå¹¶åˆ†æ”¯</td><td><code>git merge origin/[åˆ†æ”¯å]</code></td><td>å°†æŒ‡å®šåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</td></tr><tr><td>æ’¤é”€åˆå¹¶</td><td><code>git merge --abort</code></td><td>ä¸­æ­¢æœªå®Œæˆçš„åˆå¹¶æ“ä½œ</td></tr><tr><td>å†å²è¿½è¸ª</td><td><code>git reflog</code></td><td>æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">äºŒã€Git å·¥ä½œæµå®è·µå¯¹æ¯”</h2>
<h3 data-id="heading-5">1. å¸¸è§å·¥ä½œæµæ¨¡å¼</h3>
<ul>
<li>
<p><strong>é›†ä¸­å¼å·¥ä½œæµ</strong><br/>
æ‰€æœ‰å¼€å‘äººå‘˜ç›´æ¥å‘ä¸»åˆ†æ”¯æäº¤ä»£ç ï¼Œé€‚åˆå°å‹å›¢é˜Ÿå¿«é€Ÿè¿­ä»£ã€‚</p>
</li>
<li>
<p><strong>åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºåŠŸèƒ½åˆ†æ”¯</span>
git checkout -b feature/login
<span class="hljs-comment"># å®Œæˆå¼€å‘ååˆå¹¶å›ä¸»åˆ†æ”¯</span>
git checkout main
git merge feature/login
</code></pre>
</li>
<li>
<p><strong>GitFlow å·¥ä½œæµ</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-tag">main</span>(ç”Ÿäº§) â† <span class="hljs-built_in">develop</span>(å¼€å‘)
      â†— <span class="hljs-built_in">release</span>(å‘å¸ƒ) â†’ <span class="hljs-built_in">hotfix</span>(ç´§æ€¥ä¿®å¤)
</code></pre>
</li>
<li>
<p><strong>Trunk-Based å¼€å‘</strong><br/>
å¼ºè°ƒçŸ­å‘¨æœŸæäº¤ï¼ˆ&lt;1å¤©ï¼‰ï¼ŒæŒç»­é›†æˆæµ‹è¯•ï¼Œé€‚åˆ CI/CD æµæ°´çº¿ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">2. ä¸ SVN çš„å…³é”®å·®å¼‚å¯¹æ¯”</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Git (åˆ†å¸ƒå¼)</th><th>SVN (é›†ä¸­å¼)</th></tr></thead><tbody><tr><td>æ¶æ„</td><td>æ¯ä¸ªå¼€å‘è€…ç‹¬ç«‹å®Œæ•´ä»“åº“</td><td>ä¾èµ–ä¸­å¤®æœåŠ¡å™¨</td></tr><tr><td>æäº¤é€Ÿåº¦</td><td>æœ¬åœ°æäº¤å³æ—¶å®Œæˆ</td><td>éœ€è¦ç½‘ç»œè¿æ¥</td></tr><tr><td>åˆ†æ”¯ç®¡ç†</td><td>è½»é‡çº§åˆ†æ”¯ï¼ˆæ¯«ç§’çº§åˆ›å»ºï¼‰</td><td>é‡å‹åˆ†æ”¯ï¼ˆèµ„æºæ¶ˆè€—å¤§ï¼‰</td></tr><tr><td>åˆå¹¶å†²çªå¤„ç†</td><td>æ”¯æŒéå¿«è¿›å¼åˆå¹¶</td><td>å¿…é¡»å¿«è¿›å¼åˆå¹¶</td></tr><tr><td>æ•°æ®å®‰å…¨æ€§</td><td>æœ¬åœ°å¤‡ä»½+è¿œç¨‹å¤‡ä»½åŒé‡ä¿éšœ</td><td>å•ç‚¹æ•…éšœé£é™©é«˜</td></tr><tr><td>é€‚åˆåœºæ™¯</td><td>å¹¶è¡Œå¼€å‘ã€å¼€æºåä½œã€CI/CD</td><td>ä¼ ç»Ÿç€‘å¸ƒå¼å¼€å‘ã€æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ä¸»æµä»£ç æ‰˜ç®¡å¹³å°æ¨è</h2>






























<table><thead><tr><th>å¹³å°</th><th>ç‰¹ç‚¹</th><th>ä¸»è¦ç”¨æˆ·ç¾¤ä½“</th></tr></thead><tbody><tr><td>GitHub</td><td>ç¤¾åŒºæ´»è·ƒï¼Œæ”¯æŒå¼€æºé¡¹ç›®ï¼Œé›†æˆ CI/CD</td><td>å…¨çƒå¼€å‘è€…ã€å¼€æºçˆ±å¥½è€…</td></tr><tr><td>GitLab</td><td>ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼Œå†…ç½® DevOps æµæ°´çº¿</td><td>ä¼ä¸šå›¢é˜Ÿã€ç§æœ‰é¡¹ç›®</td></tr><tr><td>Gitee</td><td>å›½å†…é•œåƒåŠ é€Ÿï¼Œæ·±åº¦é›†æˆ AI åä½œå·¥å…·</td><td>ä¸­æ–‡å¼€å‘è€…ã€ä¼ä¸šå›¢é˜Ÿ</td></tr><tr><td>Bitbucket</td><td>ä¸ Jira æ·±åº¦é›†æˆï¼Œæ”¯æŒç§æœ‰ä»“åº“</td><td>Atlassian ç”Ÿæ€ç”¨æˆ·</td></tr></tbody></table>
<p><em>Gitee AI åä½œäº®ç‚¹</em></p>
<ul>
<li>è‡ªåŠ¨ PR ä»£ç å®¡æŸ¥</li>
<li>æ™ºèƒ½éœ€æ±‚è§£æï¼ˆæ”¯æŒè‡ªç„¶è¯­è¨€è½¬æŠ€æœ¯æ–‡æ¡£ï¼‰</li>
<li>AI ä»£ç è¡¥å…¨ï¼ˆå®æ—¶æç¤ºä¼˜åŒ–æ–¹æ¡ˆï¼‰</li>
<li>é¡¹ç›®è¿›åº¦é¢„æµ‹ï¼ˆåŸºäºå†å²æ•°æ®çš„äº¤ä»˜æ—¶é—´ä¼°ç®—ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-8">å››ã€é«˜çº§æ“ä½œä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-9">1. æäº¤å†å²ä¼˜åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤</span>
git commit --amend

<span class="hljs-comment"># åˆå¹¶è¿ç»­æäº¤</span>
git rebase -i HEAD~3
<span class="hljs-comment"># å°† pick æ”¹ä¸º squash åä¿å­˜</span>
</code></pre>
<h3 data-id="heading-10">2. æ¡ƒèŠ±å²›æ“ä½œï¼ˆCherry-pickï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¤åˆ¶ç‰¹å®šæäº¤åˆ°å½“å‰åˆ†æ”¯</span>
git cherry-pick <span class="hljs-section">[commit-id]</span>
</code></pre>
<h3 data-id="heading-11">3. åˆ†æ”¯å˜åŸºï¼ˆRebaseï¼‰</h3>
<pre><code class="hljs language-css" lang="css"># å°† feature åˆ†æ”¯å˜åŸºåˆ° <span class="hljs-selector-tag">main</span>
git checkout feature
git rebase <span class="hljs-selector-tag">main</span>
</code></pre>
<h3 data-id="heading-12">4. æ’¤é”€æ“ä½œ</h3>
<pre><code class="hljs language-css" lang="css"># æ’¤é”€æŸæ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset <span class="hljs-attr">--mixed</span> <span class="hljs-selector-attr">[commit-id]</span>
# å½»åº•åˆ é™¤æäº¤
git reset <span class="hljs-attr">--hard</span> <span class="hljs-selector-attr">[commit-id]</span>
</code></pre>
<hr/>
<h2 data-id="heading-13">äº”ã€Git åœ¨ AI é¡¹ç›®ä¸­çš„åº”ç”¨</h2>
<ol>
<li>
<p><strong>æ¨¡å‹ç‰ˆæœ¬ç®¡ç†</strong><br/>
ä½¿ç”¨ DVCï¼ˆData Version Controlï¼‰é…åˆ Git ç®¡ç† ML æ¨¡å‹æƒé‡ä¸æ•°æ®é›†ã€‚</p>
</li>
<li>
<p><strong>AI ä»£ç å®¡æŸ¥</strong><br/>
Gitee AI è‡ªåŠ¨æ£€æµ‹ï¼š</p>
<ul>
<li>ä»£ç è§„èŒƒï¼ˆPEP8/ESLintï¼‰</li>
<li>æ½œåœ¨ Bug é¢„è­¦</li>
<li>æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
<li>å®‰å…¨æ¼æ´æ‰«æ</li>
</ul>
</li>
<li>
<p><strong>æ™ºèƒ½ PR ç”Ÿæˆ</strong><br/>
è¾“å…¥è‡ªç„¶è¯­è¨€éœ€æ±‚ â†’ AI ç”Ÿæˆä»£ç è‰æ¡ˆ â†’ äººå·¥éªŒè¯ â†’ æäº¤ PR</p>
</li>
<li>
<p><strong>AI é©±åŠ¨çš„åˆ†æ”¯ç­–ç•¥</strong><br/>
æ ¹æ®é¡¹ç›®å¤æ‚åº¦è‡ªåŠ¨æ¨èï¼š</p>
<ul>
<li>GitFlowï¼ˆå¤§å‹é¡¹ç›®ï¼‰</li>
<li>Feature Toggleï¼ˆå¾®æœåŠ¡æ¶æ„ï¼‰</li>
<li>Monorepoï¼ˆå¤šè¯­è¨€ç»Ÿä¸€ç®¡ç†ï¼‰</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-14">å…­ã€å¸¸è§é—®é¢˜æ’æŸ¥</h2>
<ol>
<li>
<p><strong>åˆå¹¶å†²çªè§£å†³</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ ‡è®°å†²çªæ–‡ä»¶</span>
git status
<span class="hljs-meta"># æ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶</span>
<span class="hljs-meta"># æ ‡è®°å·²è§£å†³</span>
git <span class="hljs-keyword">add</span> [æ–‡ä»¶å]
<span class="hljs-meta"># å®Œæˆåˆå¹¶</span>
git commit
</code></pre>
</li>
<li>
<p><strong>å¯†é’¥ä¸¢å¤±æ¢å¤</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°ç”Ÿæˆå¯†é’¥</span>
ssh-keygen -t ed25519 -C <span class="hljs-string">"your@email.com"</span>
<span class="hljs-comment"># æ·»åŠ åˆ°ç³»ç»Ÿ</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(ssh-agent)</span>"</span>
ssh-add ~/.ssh/id_ed25519
</code></pre>
</li>
<li>
<p><strong>å¤§æ–‡ä»¶è¯¯æäº¤ä¿®å¤</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç§»é™¤æ–‡ä»¶å†å²</span>
git <span class="hljs-built_in">filter</span>-branch --tree-<span class="hljs-built_in">filter</span> <span class="hljs-string">'rm -f large_file'</span> HEAD
<span class="hljs-comment"># å¼ºåˆ¶æ¨é€</span>
git push origin --force
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Codingè€è·‘åï¼Ÿç”¨Comate RulesåŠŸèƒ½ï¼Œå°‘èµ°åå¹´å¼¯è·¯ï¼]]></title>    <link>https://juejin.cn/post/7583955708318613504</link>    <guid>https://juejin.cn/post/7583955708318613504</guid>    <pubDate>2025-12-16T03:28:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583955708318613504" data-draft-id="7583973472322813967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Codingè€è·‘åï¼Ÿç”¨Comate RulesåŠŸèƒ½ï¼Œå°‘èµ°åå¹´å¼¯è·¯ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-12-16T03:28:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–‡å¿ƒå¿«ç BaiduComate"/> <meta itemprop="url" content="https://juejin.cn/user/992209294070809"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Codingè€è·‘åï¼Ÿç”¨Comate RulesåŠŸèƒ½ï¼Œå°‘èµ°åå¹´å¼¯è·¯ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/992209294070809/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–‡å¿ƒå¿«ç BaiduComate
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:28:27.000Z" title="Tue Dec 16 2025 03:28:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ çš„Comateï¼Œæˆ‘çš„Comateï¼Œå¥½åƒä¸ä¸€æ ·ï¼Ÿ</p>
<p>ä¸ºä»€ä¹ˆå¤§ä½¬ç”¨AI Codingåˆå¿«åˆå¥½ï¼Œè€Œæˆ‘æ€»é‡åˆ°å„ç§é˜»ç¢ï¼Ÿ</p>
<p>åŸæ¥ï¼Œæ˜¯ä»–ä»¬å·²ç»ç”¨ä¸Šäº†æ•ˆç‡ç¥å™¨â€”â€”Rulesï¼</p>
<p>æ²¡å¬è¿‡ã€ä¸ä¼šç”¨ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>æ²¡å…³ç³»ï¼æˆ‘ä»¬é‚€è¯·äº†<strong>Rulesèµ„æ·±ç”¨æˆ·ã€å‰ç«¯å¼€å‘å´”åŒå­¦</strong>ï¼Œè·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹â€”â€”</p>
<p>ä»€ä¹ˆæ˜¯Rulesï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨Rulesï¼Ÿè¿˜æœ‰Rulesçš„ä½¿ç”¨å¿ƒå¾—ï½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3e3b2ae0ee245469d66a86a269033bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=uJd6mqHOspVfxgGTBHih4ZXVZNQ%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å¸¦å¥½ç¬”è®°æœ¬ï¼Œä¸‹é¢ï¼Œè®©æˆ‘ä»¬ä¸€èµ·å¬å¬Taæ€ä¹ˆè¯´ğŸ‘‡</p>
<h2 data-id="heading-0">01 åˆè¯†Rulesï¼šä»é™Œç”Ÿåˆ°ç†Ÿç»ƒ</h2>
<p>ğŸ˜ä½¿ç”¨Rulesæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„å¥‘æœºå‘¢ï¼Ÿå°±æ˜¯ä¹‹å‰æˆ‘å’ŒAI Codingå¯¹è¯çš„æ—¶å€™ï¼Œæ¯”è¾ƒå¤´ç–¼çš„ä¸€ç‚¹æ˜¯ï¼Œç»å¸¸é‡åˆ°<strong>é‡å¤æ€§çš„å¯¹è¯</strong>ã€‚åæœŸæˆ‘å‘ç°ï¼Œæ¯æ¬¡å¯¹è¯æ—¶ï¼Œä¿ç•™å¯¹è¯æ¡†é‡Œçš„èŠå¤©è®°å½•ï¼Œå‘å®ƒæé—®ï¼šâ€œä½ æƒ³æƒ³æˆ‘ä¹‹å‰è¯´äº†ä»€ä¹ˆï¼Œå†å›ç­”æˆ‘è¿™ä¸ªé—®é¢˜â€ï¼Œå®ƒå°±ä¼šè¯´ï¼Œâ€œå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†â€ã€‚ ç„¶åå®ƒå¼€å§‹æ£€ç´¢ä¹‹å‰çš„èŠå¤©è®°å½•ï¼Œå°±çŸ¥é“æ€ä¹ˆåšäº†ã€‚</p>
<p>ğŸ¤”å½“æ—¶æˆ‘æƒ³ï¼Œ<strong>è¿™ç±»æ— æ„ä¹‰çš„å¯¹è¯å¯ä»¥è§„é¿ä¹ˆï¼Œä¸èƒ½ç›´æ¥è¾“å‡ºä¹‹å‰é‚£ç§æƒ³è¦çš„ç»“æœå—</strong>ï¼Ÿäºæ˜¯æˆ‘æ‰¾åˆ°ç ”å‘åŒå­¦ï¼Œä»ä»–é‚£é‡Œäº†è§£åˆ° <strong>ã€Rulesã€‘</strong> ã€‚</p>
<p>ğŸ¤¯æˆ‘ç¬¬ä¸€æ¬¡è¯•æ•ˆæœä¹Ÿä¸å¤ªç†æƒ³ï¼Œæ„Ÿè§‰åŒºåˆ«ä¸å¤§ã€‚åé¢å¤§æ¦‚ç”¨äº†3å¤©çš„æ—¶é—´ï¼Œå°±é…ç½®å¥½äº†ç¬¦åˆæˆ‘ä¸ªäººä¹ æƒ¯çš„Rulesã€‚</p>
<p>ğŸ˜åˆ°ç°åœ¨ï¼Œ<strong>æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­å·²ç»ç¦»ä¸å¼€Rulesï¼Œå›¢é˜Ÿä¸­ä¹Ÿé…ç½®äº†Rules</strong>ï¼Œå¹¶ä¸”è¿™ç§Rulesæ˜¯é€‚ç”¨äºå›¢é˜Ÿæ‰€æœ‰äººä¸”ä¸ä¸è‡ªå·±Ruleså†²çªçš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fcaa7497c2443ca83dd79b6c16f1a0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=khsMKoNGnoKrjxkczIRSP6wq1OI%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¿™æ ·å¬èµ·æ¥ï¼ŒRuleså¥½åƒå°±æ˜¯ä¸€ä¸ªæœ‰memoryçš„AI Codingå·¥å…·ï¼Œé‚£å®ƒç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>å®šä¹‰ï¼š</strong> å­—é¢ç¿»è¯‘ä¸º â€œè§„åˆ™â€ï¼Œæ˜¯å’Œ AIå·¥å…·ç›¸è¾…ç›¸æˆçš„ â€œè¡Œä¸ºè§„èŒƒæ‰‹å†Œâ€ï¼Œçº¦å®š AI å·¥å…·çš„æ‰§è¡Œæµç¨‹ã€è¾“å‡ºç»“æœå’Œåå¥½ï¼Œ<strong>è®© AI æŒ‰ä¸ªäºº or å›¢é˜Ÿä¹ æƒ¯å·¥ä½œï¼Œå‡å°‘å¼¯è·¯å’Œé”™è¯¯</strong>ã€‚</p>
<p><strong>Rules çš„æ•ˆæœä¸»è¦åˆ†å‡ ä¸ªå±‚é¢</strong>ï¼š</p>
<p><strong>1. å‘½åçº¦å®š â€”â€” ä»£ç ç•Œçš„â€œèµ·åå¤§ä¼šâ€</strong></p>
<p><strong>æœ‰äº†å‘½åè§„åˆ™ä¹‹åï¼Œæ¨¡å‹å°±èƒ½ç»Ÿä¸€é£æ ¼ã€ä¿è¯å¯è¯»æ€§</strong>ã€‚ä¸å†å‡ºç°ä¸€å †â€œtemp1â€ã€â€œdata2â€ã€â€œfinal_final_true_versionâ€çš„å¥‡æ€ªåå­—ã€‚ä»æ­¤å›¢é˜Ÿåä½œæ›´é¡ºç•…ï¼Œè°ƒè¯•ä¹Ÿä¸å†åƒæ‹†ç›²ç›’ã€‚</p>
<p><strong>2.ä»£ç ç»“æ„ â€”â€” ç»™æ¨¡å‹æˆ´ä¸Šâ€œç´§ç®å’’â€</strong></p>
<p>ä»£ç ç»“æ„çº¦æŸå°±åƒæ˜¯ç»™æ¨¡å‹æˆ´äº†ä¸ªâ€œç´§ç®å’’â€ã€‚å®ƒä¸å…è®¸æ¨¡å‹å†™â€œä¿„ç½—æ–¯å¥—å¨ƒâ€å¼çš„åµŒå¥—ç»“æ„ï¼Œä¹Ÿä¸å…è®¸å‡½æ•°å˜æˆä¸€å›¢â€œæ„å¤§åˆ©é¢æ¡å¼â€çš„ç¾éš¾ä»£ç ã€‚<strong>æœ‰äº†ç»“æ„çº¦æŸåï¼Œä»£ç å±‚æ¬¡æ¸…æ™°ã€é€»è¾‘æ˜äº†</strong>ï¼Œå°±åƒå†™ä½œæ–‡æœ‰å¤§çº²ï¼Œæ¨¡å‹ä¸ä¼šä¹±é£™è‡ªç”±å‘æŒ¥ã€‚</p>
<p><strong>3.ä¸šåŠ¡é€»è¾‘å±‚ â€”â€” æ¨¡å‹çš„â€œé€»è¾‘äº¤è­¦â€</strong></p>
<p>ä¸šåŠ¡é€»è¾‘å±‚æ˜¯å¤§æ¨¡å‹çš„â€œè„‘å›è·¯â€ï¼Œè€Œ Rules åœ¨è¿™é‡Œæ‰®æ¼”çš„è§’è‰²ï¼Œå°±åƒä¸€ä¸ªâ€œé€»è¾‘äº¤è­¦â€ã€‚å®ƒè´Ÿè´£æŒ‡æŒ¥â€”â€”â€œè¿™ä¸ªæµç¨‹è¯¥å¾€å“ªè·‘â€ã€â€œé‚£ä¸ªåˆ¤æ–­åœ¨å“ªåœâ€ã€‚<strong>é˜²æ­¢æ¨¡å‹ä¹±å¼€è½¦ã€é€»è¾‘æ’è½¦ï¼Œè®©ä¸šåŠ¡æµè½¬æ›´é¡ºç•…ã€æ›´å¯æ§ã€‚</strong></p>
<p><strong>å±æ€§ï¼š</strong> ä¸æ˜¯ç‹¬ç«‹å·¥å…·ï¼Œè€Œæ˜¯ AI å·¥å…·çš„ â€œä¼˜åŒ–è¡¥å……â€â€”â€”AI åƒ â€œç™¾ç§‘å…¨ä¹¦â€ æ‡‚å¾ˆå¤šï¼Œä½† Rules èƒ½æ˜ç¡®ä½¿ç”¨æ–¹å¼ï¼Œè®©è¾“å‡ºæ›´è´´åˆéœ€æ±‚ï¼Œè¿˜èƒ½è®°å½•ç”¨æˆ·å–œå¥½ï¼Œæ›´å…·äººæ€§åŒ–ã€‚</p>
<p><strong>åº”ç”¨ï¼š</strong> æˆ‘ç°åœ¨å¸¸ç”¨çš„AI Codingå·¥å…·ï¼Œåƒ<strong>Comate</strong>è¿™ç§ï¼Œè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚é¢å¯¹å¤§é‡çš„çŸ¥è¯†åº“æ–‡æ¡£ã€éœ€æ±‚æ–‡æ¡£æ—¶ï¼Œå°±å¯ä»¥<strong>è®©Comateå¸®æˆ‘ä»¬æ€»ç»“å…¶ä¸­çš„å…³é”®ä¿¡æ¯å’ŒåŠŸèƒ½ï¼Œå†ç”¨Ruleså»è¾“å‡ºç»“æœ</strong>ï¼Œ<strong>å°±ä¼šæ›´åŠ è´´åˆå®é™…çš„å¼€å‘åœºæ™¯ï¼ŒèŠ‚çœäº†ä¸€ééè°ƒè¯•ã€è¾“å‡ºç»“æœçš„æ—¶é—´å’Œç²¾åŠ›</strong>ã€‚</p>
<p>ä¹‹å‰çš„AI Codingæˆ‘ä»¬å¯ä»¥çœ‹ä½œæ˜¯æœç´¢çš„åˆé›†ï¼ŒæŠŠæ‰€æœ‰çŸ¥è¯†æ±‡æ€»èµ·æ¥ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œç°åœ¨æœ‰äº†Ruleså¸®æˆ‘ä»¬ç²¾æŒ‘ç»†é€‰è¿‡æ»¤æ‰ä¸€äº›ï¼Œ<strong>æœ€ç»ˆç»“æœæ˜¯æ›´åŠ ç²¾ç»†ã€å®šåˆ¶åŒ–å’Œç¬¦åˆé¢„æœŸçš„</strong>ã€‚</p>
<p>æ‰“å¼€Comate IDEï¼Œç‚¹å‡»æ›´å¤šâ€”Rulesï¼Œå³å¯ä¹¦å†™è§„åˆ™ğŸ”½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54763214e77944f5af8b87ae5d9eae34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=GVmdJuuzRv0CO6dVLQj%2FyGakwWo%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-1">02 å®æˆ˜åº”ç”¨ï¼šç”¨Ruleä¸ºç”µå•†å¼€å‘èµ‹èƒ½ææ•ˆ</h2>
<p>Rulesç°åœ¨å¯ä»¥è¯´æ˜¯æˆ‘ä¸å¯æˆ–ç¼ºçš„å·¥ä½œæ­å­ï¼åœ¨ã€ç”µå•†ä¸šåŠ¡å‰ç«¯å¼€å‘ã€‘ä¸­ï¼Œæ¨¡å—å’Œåœºæ™¯çš„<strong>é‡å¤åº¦æ¯”è¾ƒé«˜</strong>ï¼Œæ¯”å¦‚æŸä¸ªæœç´¢é¡µã€å•†å“å¡çš„æ¨¡å—æˆ–è€…è®¢å•åˆ—è¡¨é¡µå¤§åŒå°å¼‚ï¼Œè¿™æ—¶å°±æ²¡å¿…è¦æ¯ä¸€ä¸ªéƒ½å»äººå·¥ç”Ÿæˆã€‚</p>
<p>ä½¿ç”¨<strong>Comate + Ruleså°±å¯ä»¥æ›¿æˆ‘å®Œæˆè¿™éƒ¨åˆ†é‡å¤å·¥ä½œï¼š</strong> å¯ä»¥<strong>å‚è€ƒdemoå»ç”Ÿæˆ</strong>ï¼Œè¿˜å¯ä»¥<strong>è®¾ç½®ä¸šåŠ¡è§„åˆ™</strong>ï¼ˆæ¯”å¦‚æ‰€æœ‰çš„ä»·æ ¼å±•ç¤ºç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ªç»„ä»¶ã€æ¶‰åŠåˆ°çš„è®¢å•çŠ¶æ€ç»Ÿä¸€ç»´æŠ¤ä¸€ä¸ªç»„ä»¶ç­‰ç­‰ï¼‰ï¼Œä»¥åŠ<strong>å®šä¹‰é”™è¯¯å¤„ç†æœºåˆ¶</strong>ï¼Œæ¯”å¦‚æ‰€æœ‰å¯èƒ½å‡ºé”™çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½å»ä½¿ç”¨ç»Ÿä¸€çš„ä¸€ä¸ªæœºåˆ¶å»å¤„ç†ï¼Œä¾‹å¦‚ç»Ÿä¸€å¼¹å‡ºé”™è¯¯ä¿¡æ¯ã€å¼‚å¸¸æ•è·ç­‰......</p>
<p>è®©æˆ‘ä»¬ä»¥ä¸€ä¸ª<strong>æ•°æ®çœ‹æ¿çš„éœ€æ±‚</strong>ä¸ºä¾‹å­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed28c15a768440588ce42b3855d34583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=tHkocwaPAsxu5hBYmfRo9o%2BMuYc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/809b6d2b34dc4aeb8b504618af8bd660~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=OALfbpW0%2BIECT4jq4SDr%2FN8Huac%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-2">03 å›¢é˜Ÿåä½œï¼šä»1å¤©åˆ°10åˆ†é’Ÿï¼ŒRulesç«‹å¤§åŠŸ</h2>
<p>Rulesçš„å¥½ç”¨ä¸ä»…ä½“ç°åœ¨æå‡ä¸ªäººCodingæ•ˆç‡ä¸Šï¼›<strong>å›¢é˜Ÿåä½œé‡Œï¼ŒåŒ¹é…ä¸ŠRulesçš„å›¢é˜Ÿä¹Ÿæ˜¯å¦‚æœ‰ç¥åŠ©</strong>ã€‚å®ƒè®©å›¢é˜Ÿé—´çš„ä¸åŒåŒå­¦æœç€ä¸€ä¸ªæ–¹å‘ã€æŒ‰ç…§ä¸€ä¸ªè§„èŒƒäº§å‡ºï¼Œè¿™æ ·å°±å¤§å¤§é™ä½äº†å¤§å®¶è°ƒæ•´é£æ ¼ã€ç»Ÿä¸€è§„èŒƒçš„æ—¶é—´ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­AI Coding æ—¶ï¼Œæˆ‘ä¼šæŠŠæ‰€æœ‰Ruleså’Œå›¢é˜Ÿå…¶ä»–åŒå­¦è§„å®šå¥½ï¼ŒæŒ‰ç…§è¿™ä¸ªå½“å‰çš„Ruleså»å®ç°æˆ‘ä»¬çš„é¡¹ç›®ã€‚è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘èƒ½è§„å®šå›¢é˜Ÿå…¶ä»–äººå’Œæˆ‘ä¸€æ ·çš„è§„åˆ™ï¼Œä»–ä¼šå¸®ä½ åœ¨åç»­çš„æäº¤ä»£ç å’Œçº¿ä¸Šçš„ç¨³å®šæ€§æ–¹é¢æŠŠå…³ï¼Œè€Œä¸æ˜¯è¯´åƒä¹‹å‰å’±ä»¬å›ºæœ‰çš„æ–¹å¼â€”â€”äººå·¥å»æŠŠå…³ï¼Œ<strong>æˆ‘ä»¬æ¯ä¸€ä¸ªçš„ä»£ç çš„è´¨é‡ï¼Œä»£ç çš„é£æ ¼ã€ä»£ç çš„æµç¨‹ï¼Œç°åœ¨æ˜¯é€šè¿‡ AI å·¥å…·å»å¸®æˆ‘ä»¬æ›´å¤šçš„æŠŠå…³</strong>ï¼Œå¤§å¤§èŠ‚çœäº†å›¢é˜Ÿæˆå‘˜é—´åä½œçš„æˆæœ¬ï½¡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8927a07130eb40a9a6616a2406ab4737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=cYiYQh6oKtutuRMeDwV7DOp%2Bc3E%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è·Ÿå¤§å®¶åˆ†äº«2ä¸ªæˆ‘æœ€è¿‘å°è±¡æ¯”è¾ƒæ·±çš„æ¡ˆä¾‹ï¼š</p>
<p>âœ¨å‰é˜µæˆ‘ä»¬å‡ºç°äº†ä¸€ä¸ª bugï¼Œå¦‚æœæ­£å¸¸ç”¨äººæ¥æ’æŸ¥çš„è¯ï¼Œå¤§æ¦‚éœ€è¦<strong>1å¤©</strong>æ—¶é—´ï¼Œä½†æ˜¯æˆ‘é€šè¿‡å·¥å…·å»æ’æŸ¥çš„è¯ï¼Œå¤§æ¦‚<strong>10åˆ†é’Ÿ</strong>æ’æŸ¥å‡ºçš„é—®é¢˜ï¼Œå¹¶ä¸”å¸®æˆ‘æ”¹æ­£ï¼Œè¿™æ˜¯ä¸€ä¸ªAIææ•ˆå¾ˆå¥½çš„æ¡ˆä¾‹ï½¡</p>
<p>ğŸŒŸå†æ¯”å¦‚å®é™…å¼€å‘ä¸­ï¼Œç”Ÿæˆé¡µé¢çš„ä»»åŠ¡ä½¿ç”¨äº†Rulesåå¯ä»¥å¾ˆå¿«æäº¤ï¼Œ<strong>èƒ½ä»5å¤©å‹ç¼©åˆ°3å¤©</strong>ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¿«çš„é€Ÿåº¦å‘¢ï¼Ÿå› ä¸ºä¸€äº›é‡å¤æ€§è¾ƒé«˜çš„é¡µé¢æˆ–è€…æ¨¡å—ç”Ÿæˆï¼Œæˆ‘ä»¬ä¸éœ€è¦å†é‡å¤æç¤ºå¤§æ¨¡å‹ï¼Œè¿™æ ·å°±å¤§å¤§ææ•ˆäº†ã€‚</p>
<p>ğŸ’«è€Œä¸”åœ¨å›¢é˜Ÿæ¨å¹¿ Rules æ—¶ï¼Œå¤§å®¶æœ€æ‹…å¿ƒçš„å…¶å®æ˜¯ä»£ç éšç§é—®é¢˜ã€‚é€‰ç”¨ Comate ä¹Ÿæ˜¯çœ‹é‡äº†å®ƒçš„<strong>ä¼ä¸šçº§å®‰å…¨åˆè§„</strong>ã€‚æˆ‘ä»¬æŠŠå›¢é˜Ÿçš„ Rules é…ç½®å¥½åï¼Œä¸€é”®åŒæ­¥ç»™æ‰€æœ‰æˆå‘˜ï¼Œ<strong>å¤§å®¶ä¸éœ€è¦æŠŠä»£ç ä¼ åˆ°ä¸å¯æ§çš„å…¬æœ‰äº‘ï¼Œåœ¨ä¿éšœæ•°æ®å®‰å…¨çš„å‰æä¸‹ï¼Œå®ç°äº†å…¨å‘˜ Coding æ•ˆç‡çš„é£å‡ã€‚</strong></p>
<h2 data-id="heading-3">04 é¿å‘æŒ‡å—ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ ç©è½¬Rules</h2>
<p>æœ€åï¼Œæˆ‘ä¹Ÿæ€»ç»“äº†Rulesä½¿ç”¨çš„ä¸€äº›ç»éªŒå’Œå¿ƒå¾—ï¼Œè¿™é‡Œåˆ†äº«ç»™å¤§å®¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf98f06cca5146b7a32cdb851b66ab71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=VkgD%2BINeWKVSaBRIIjk3YwiNub4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5260e1fb2d104d44aa9ad1ba9d6a58a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460506&amp;x-signature=lX3PmA6mzPpDBeIHoDHcQuLyGqA%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ğŸŒŸ ä¸€è¨€ä»¥è”½ä¹‹ï¼Œä¸ºä»€ä¹ˆæˆ‘æ¨è<strong>ç”¨ Comate è·‘ Rules</strong>ï¼Ÿ</p>
<ul>
<li><strong>æ›´æ‡‚ä¸­æ–‡ï¼š</strong> å›½å†…ä¸šåŠ¡é€»è¾‘å’Œæ–‡æ¡£ç†è§£æ— éšœç¢ï¼Œæ²Ÿé€šæˆæœ¬ä½ã€‚</li>
<li><strong>ååº”å¿«ï¼š</strong> å°¤å…¶æ˜¯ä»£ç ç»­å†™çš„é€Ÿåº¦ï¼Œé…åˆ Rules ç®€ç›´æ˜¯â€œå¦‚ä¸èˆ¬é¡ºæ»‘â€ã€‚</li>
<li><strong>ç”Ÿæ€å¥½ï¼š</strong> åƒæˆ‘ä»¬è¿™æ¬¡æåˆ°çš„ Rules é…ç½®ï¼ŒComate çš„å…¼å®¹æ€§å’Œæ‰§è¡Œä¸¥æ ¼åº¦æ˜¯æˆ‘è¯•è¿‡å·¥å…·é‡Œè¡¨ç°æœ€å¥½çš„ä¹‹ä¸€ã€‚</li>
</ul>
<p>ï¼ˆæœ¬å†…å®¹ç”±ç™¾åº¦å´”åŒå­¦&amp;æ›¹åŒå­¦æä¾›ï¼‰</p>
<p><strong>ğŸ‘‡ åˆ«å…‰å¿ƒåŠ¨ï¼Œç°åœ¨å°±ä¸Šæ‰‹å¼€é€ ï¼</strong></p>
<p><strong>ä¸€é”®ä¸‹è½½ Comateï¼ŒæŠŠä½ çš„è„‘æ´å˜æˆç°å®</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼š</strong> ç‚¹å‡» <a href="https://link.juejin.cn?target=https%3A%2F%2Fcomate.baidu.com%2Fzh%2Fdownload" target="_blank" title="https://comate.baidu.com/zh/download" ref="nofollow noopener noreferrer">comate.baidu.com/zh/download</a> ä¸‹è½½Comate AI IDEï¼Œäº«å—ä¸æ»‘å¼€å‘è¿‡ç¨‹</p>
<p><strong>æ–¹å¼äºŒï¼š</strong> åœ¨ VS Code æˆ– Jetbrains IDE ä¸­æœç´¢â€œæ–‡å¿ƒå¿«ç â€æ’ä»¶ï¼Œå®‰è£…å³ç”¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä»½ä¸­å›½äººå†™çš„å¤§æ¨¡å‹ä¹¦ï¼Œåœ¨å¤–ç½‘ç«Ÿç„¶è¢«åˆ·çˆ†äº†ï¼]]></title>    <link>https://juejin.cn/post/7584014975241797642</link>    <guid>https://juejin.cn/post/7584014975241797642</guid>    <pubDate>2025-12-16T03:29:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584014975241797642" data-draft-id="7582755817670557706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä»½ä¸­å›½äººå†™çš„å¤§æ¨¡å‹ä¹¦ï¼Œåœ¨å¤–ç½‘ç«Ÿç„¶è¢«åˆ·çˆ†äº†ï¼"/> <meta itemprop="keywords" content="LLM,Agent,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-16T03:29:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä»½ä¸­å›½äººå†™çš„å¤§æ¨¡å‹ä¹¦ï¼Œåœ¨å¤–ç½‘ç«Ÿç„¶è¢«åˆ·çˆ†äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:29:07.000Z" title="Tue Dec 16 2025 03:29:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>è¿™æœ¬ä¸­å›½äººå†™çš„å¤§æ¨¡å‹ä¹¦å·²ç»åœ¨å¤–ç½‘è¢«å¾ˆå¤šäººå¼•ç”¨ä¸º 2025 å¹´æœ€å¥½çš„å¤§æ¨¡å‹æ•™æï¼Œredditã€X ä¸Šå¾ˆå¤šäººåœ¨æ¨èï¼Œæœ‰äººè¯´ç¬¬ä¸€æ¬¡çŸ¥é“å¤§æ¨¡å‹åˆ°åº•åœ¨å¹²å˜›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7142106f98514b5992e661ec575f00e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=tfsVimfNJMzb%2FmB9AuMHuQvp7YA%3D" alt="" loading="lazy"/></p>
<p>è¿™æœ¬ä¹¦æŠŠtransformer æ¶æ„ã€é¢„è®­ç»ƒã€å¾®è°ƒã€å¯¹é½ã€æ¨ç†ã€token æµè¿‡ç¨‹è¿™äº›ä»¥å‰ç»•æ¥ç»•å»çš„çŸ¥è¯†ç‚¹ç»Ÿç»Ÿä¸²åœ¨äº†ä¸€èµ·ï¼Œæ„æˆäº†ä¸€å¥—æœ‰ä½“ç³»çš„è§£é‡Šæ¡†æ¶ã€‚</p>
<p>å®ƒæŠŠ Chain-of-Thoughtï¼ˆCoTï¼‰æç¤ºè¯çš„åŸç†ã€å‘å±•è„‰ç»œã€ä¸åŒç±»å‹ã€æ”¹è¿›æ–¹å‘å…¨éƒ½åšäº†éå¸¸ç»†è‡´çš„å½’çº³ï¼Œæ¯”å¦‚ï¼š</p>
<p>ä¸ºä»€ä¹ˆâ€œåˆ†æ­¥éª¤æç¤ºâ€èƒ½æå‡æ¨¡å‹çš„æ¨ç†èƒ½åŠ› ï¼Ÿ</p>
<p>è‡ªåŠ¨ç”Ÿæˆ CoT çš„æ–¹æ³•æœ‰å“ªäº› ï¼Ÿ</p>
<p>å„ç±» CoT promptåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p>è¿™äº›æ–¹æ³•åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹æœ‰æ•ˆï¼Œä»€ä¹ˆæ¨¡å‹ä¸Šé€‚é…æ€§æœ€å¥½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c95de2cd77244bd8feab6c093a4400b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=6ewnTNEnZOjUyCm4jyYqaESThrM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9517f40e573450aaa86b78d86cf6611~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=%2BooWEP37XdhFvPH8T4PkyoDq2Ls%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20af43abacb0423486ae420165973775~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=6lTYzczGAcJ2lXl1dBZQ53lghak%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1e4ff15a86542c6bae5f2488f5fa473~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=s4x54d9Li7vthVj8jkv7Zs17xms%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5e4194945ab4bbeb961ae88d770f641~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766460547&amp;x-signature=V35X3gZuMUSVYmMfZdlnirbkSx8%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ‰“ç®—äº†è§£å¤§æ¨¡å‹æ€ä¹ˆåšé€»è¾‘æ¨ç†ã€æ€ä¹ˆæ„é€ æœ‰æ•ˆ promptï¼Œè¿™ç¯‡æ–‡ç« çš„å‚è€ƒä»·å€¼è¿œé«˜äºé‚£äº›ç¢ç‰‡åšä¸»æ€»ç»“ã€‚</p>
<h2 data-id="heading-0">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebP/AVIF æœ‰å¤šé¦™ï¼Ÿæ¯” JPEG å° 30%ï¼Œ<picture>æ ‡ç­¾å®Œç¾è§£å†³å…¼å®¹æ€§]]></title>    <link>https://juejin.cn/post/7584014975241912330</link>    <guid>https://juejin.cn/post/7584014975241912330</guid>    <pubDate>2025-12-16T03:37:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584014975241912330" data-draft-id="7583948178858917934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebP/AVIF æœ‰å¤šé¦™ï¼Ÿæ¯” JPEG å° 30%ï¼Œ&lt;picture&gt;æ ‡ç­¾å®Œç¾è§£å†³å…¼å®¹æ€§"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-16T03:37:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PineappleCoder"/> <meta itemprop="url" content="https://juejin.cn/user/3323167184272627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebP/AVIF æœ‰å¤šé¦™ï¼Ÿæ¯” JPEG å° 30%ï¼Œ&lt;picture&gt;æ ‡ç­¾å®Œç¾è§£å†³å…¼å®¹æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323167184272627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PineappleCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:37:18.000Z" title="Tue Dec 16 2025 03:37:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ–¼ï¸ å‘Šåˆ«â€œå›¾å¤šæ€çŒ«â€ï¼šå‰ç«¯å›¾ç‰‡åŠ è½½ç­–ç•¥å…¨æ”»ç•¥ï¼Œè®©ä½ çš„é¡µé¢åˆå¿«åˆç¾ï¼</h2>
<blockquote>
<p><strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸“æ  - ç¬¬ä¸ƒç¯‡</strong></p>
</blockquote>
<p>åœ¨å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æˆ˜åœºä¸Šï¼Œ<strong>å›¾ç‰‡</strong>æ— ç–‘æ˜¯æœ€å¤§çš„â€œèµ„æºæ€æ‰‹â€ã€‚å®ƒä»¬é€šå¸¸å æ®äº†ç½‘é¡µä¸‹è½½ä½“ç§¯çš„<strong>ä¸€åŠä»¥ä¸Š</strong>ã€‚ä¸€ä¸ªå›¾ç‰‡åŠ è½½ç­–ç•¥ä¸å½“çš„ç½‘ç«™ï¼Œå°±åƒä¸€è¾†è£…æ»¡äº†è¶…é‡è¡Œæçš„è·‘è½¦ï¼Œå†å¥½çš„å¼•æ“ä¹Ÿè·‘ä¸å¿«ã€‚</p>
<p>æœ¬ç¯‡ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨å¦‚ä½•ç³»ç»Ÿæ€§åœ°ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼Œè®©ä½ çš„é¡µé¢æ—¢é«˜æ¸…åˆç§’å¼€ï¼</p>
<hr/>
<h3 data-id="heading-1">âš ï¸ å›¾ç‰‡ä¼˜åŒ–çš„æ„ä¹‰ï¼šä¸ä»…ä»…æ˜¯å¿«</h3>
<p>å›¾ç‰‡ä¼˜åŒ–æ˜¯ä¸€ç§<strong>ç³»ç»Ÿæ€§å·¥ç¨‹</strong>ï¼Œå®ƒçš„æ„ä¹‰è¿œè¶…ä¹â€œåŠ è½½å¿«ä¸€ç‚¹â€ï¼š</p>
<ul>
<li><strong>ä½“ç§¯æœ€å¤§ï¼š</strong> å›¾ç‰‡æ˜¯ç½‘é¡µä¸­ä½“ç§¯æœ€å¤§çš„é™æ€èµ„æºä¹‹ä¸€ï¼Œä¼˜åŒ–å¯æ˜¾è‘—é™ä½é¡µé¢é¦–å±åŠ è½½æ—¶é—´ã€‚</li>
<li><strong>å½±å“ SEOï¼š</strong> é¡µé¢åŠ è½½é€Ÿåº¦æ˜¯æœç´¢å¼•æ“æ’åçš„é‡è¦æŒ‡æ ‡ã€‚</li>
<li><strong>å½±å“è½¬åŒ–ç‡ï¼š</strong> é¡µé¢æ¯å»¶è¿Ÿä¸€ç§’ï¼Œç”¨æˆ·æµå¤±ç‡å’Œè½¬åŒ–ç‡éƒ½ä¼šå—åˆ°è´Ÿé¢å½±å“ã€‚</li>
<li><strong>ç”¨æˆ·ç•™å­˜ï¼š</strong> å¿«é€Ÿã€æµç•…çš„ä½“éªŒæ˜¯ç”¨æˆ·ç•™ä¸‹çš„å…³é”®ã€‚</li>
</ul>
<h3 data-id="heading-2">âœ¨ ç­–ç•¥ä¸€ï¼šæ ¼å¼é€‰æ‹© â€” æ–°æ—§æ ¼å¼çš„åšå¼ˆ</h3>
<p>é€‰æ‹©åˆé€‚çš„å›¾ç‰‡æ ¼å¼æ˜¯ä¼˜åŒ–çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ã€‚æˆ‘ä»¬å¿…é¡»æ ¹æ®åœºæ™¯å’Œå…¼å®¹æ€§ï¼Œåœ¨æ–°æ—§æ ¼å¼ä¹‹é—´åšå‡ºæƒè¡¡ã€‚</p>
<h4 data-id="heading-3">1. æ–°ä¸€ä»£æ ¼å¼ï¼šWebP ä¸ AVIF</h4>























<table><thead><tr><th>æ ¼å¼</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th><th>å…¼å®¹æ€§</th></tr></thead><tbody><tr><td><strong>WebP</strong></td><td>æ›´é«˜å‹ç¼©ç‡ï¼Œä½“ç§¯æ¯” JPEG å°çº¦ 30%ï¼Œæ”¯æŒæ— æŸå’Œæœ‰æŸå‹ç¼©ï¼Œæ”¯æŒé€æ˜åº¦ã€‚</td><td>ç½‘é¡µä¸­çš„å¤§éƒ¨åˆ†å›¾ç‰‡ï¼Œå°¤å…¶æ˜¯éœ€è¦é€æ˜åº¦çš„å›¾æ ‡ã€‚</td><td>å¹¿æ³›æ”¯æŒï¼ˆChrome, Firefox, Edge, Safariï¼‰ã€‚</td></tr><tr><td><strong>AVIF</strong></td><td>åŸºäº AV1 è§†é¢‘ç¼–ç ï¼Œå‹ç¼©ç‡æ¯” WebP æ›´é«˜ï¼Œä½“ç§¯æ›´å°ã€‚</td><td>å¯¹æ€§èƒ½è¦æ±‚æé«˜ï¼Œä¸”ç›®æ ‡ç”¨æˆ·ç¾¤æµè§ˆå™¨æ”¯æŒåº¦è¾ƒé«˜çš„åœºæ™¯ã€‚</td><td>è¾ƒæ–°ï¼Œæ”¯æŒåº¦ç¨ä½äº WebPã€‚</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a3acb337f824d21b3b4be715a92211d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGluZWFwcGxlQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461038&amp;x-signature=iPOITbpHwYrjl96%2BJNyenHlcepI%3D" alt="å›¾ç‰‡æ ¼å¼ä½“ç§¯ä¸è´¨é‡å¯¹æ¯”å›¾" loading="lazy"/></p>
<h4 data-id="heading-4">2. ä¼ ç»Ÿæ ¼å¼ï¼šJPEG ä¸ PNG</h4>
<ul>
<li><strong>JPEGï¼š</strong> é€‚åˆè‰²å½©ä¸°å¯Œçš„<strong>ç…§ç‰‡</strong>æˆ–<strong>å¤§å›¾</strong>ï¼Œé‡‡ç”¨æœ‰æŸå‹ç¼©ï¼Œä¸æ”¯æŒé€æ˜åº¦ã€‚</li>
<li><strong>PNGï¼š</strong> é€‚åˆéœ€è¦<strong>é€æ˜èƒŒæ™¯</strong>çš„å›¾æ ‡ã€Logo æˆ–æˆªå›¾ï¼Œé‡‡ç”¨æ— æŸå‹ç¼©ï¼Œä½“ç§¯é€šå¸¸è¾ƒå¤§ã€‚</li>
</ul>
<h3 data-id="heading-5">ğŸ”„ ç­–ç•¥äºŒï¼šå“åº”å¼å›¾ç‰‡ â€” æŒ‰éœ€åŠ è½½çš„æ™ºæ…§</h3>
<p>åœ¨ç§»åŠ¨è®¾å¤‡ã€å¹³æ¿å’Œé«˜æ¸…å±å¹¶å­˜çš„ä»Šå¤©ï¼Œç»™æ‰€æœ‰è®¾å¤‡éƒ½åŠ è½½åŒä¸€å¼ å¤§å›¾æ˜¯æå¤§çš„æµªè´¹ã€‚<strong>å“åº”å¼å›¾ç‰‡</strong>å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„â€œæ™ºæ…§å¤§è„‘â€ã€‚</p>
<h4 data-id="heading-6">1. <code>srcset</code> å®ç°åˆ†è¾¨ç‡é€‚é…</h4>
<p><code>srcset</code> å…è®¸æµè§ˆå™¨æ ¹æ®è®¾å¤‡çš„<strong>åˆ†è¾¨ç‡</strong>å’Œ<strong>è§†å£å¤§å°</strong>æ¥é€‰æ‹©æœ€åˆé€‚çš„å›¾ç‰‡æºã€‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;img <span class="hljs-attr">srcset</span>=<span class="hljs-string">"image-480w.jpg 480w,
 Â  Â  Â  Â  Â  Â  image-800w.jpg 800w"</span>ï¼ˆå›¾ç‰‡æºçš„é›†åˆï¼‰
 Â  Â  <span class="hljs-attr">sizes</span>=<span class="hljs-string">"(max-width: 600px) 480px, 800px"</span>ï¼ˆæä¾›ä¸Šä¸‹æ–‡ï¼Œ&lt;=<span class="hljs-number">600</span>åƒç´ ä½¿ç”¨<span class="hljs-number">480</span>ï¼Œå¤§äºä½¿ç”¨<span class="hljs-number">800</span>ï¼‰
 Â  Â  <span class="hljs-attr">src</span>=<span class="hljs-string">"image-800w.jpg"</span>ï¼ˆé™çº§æ–¹æ¡ˆï¼Œä¸ºæ—§æµè§ˆå™¨æä¾›ï¼‰
 Â  Â  <span class="hljs-attr">alt</span>=<span class="hljs-string">"å“åº”å¼å›¾ç‰‡"</span>&gt;
</code></pre>
<ul>
<li><strong><code>srcset</code>ï¼š</strong> å‘Šè¯‰æµè§ˆå™¨æœ‰å“ªäº›å¯ç”¨çš„å›¾ç‰‡èµ„æºåŠå…¶å¯¹åº”çš„å®½åº¦ï¼ˆ<code>w</code>ï¼‰ã€‚</li>
<li><strong><code>sizes</code>ï¼š</strong> å‘Šè¯‰æµè§ˆå™¨åœ¨ä¸åŒè§†å£å¤§å°ä¸‹ï¼Œå›¾ç‰‡å°†å æ®çš„å®½åº¦ã€‚</li>
<li><strong><code>src</code>ï¼š</strong> ä½œä¸ºæ—§æµè§ˆå™¨çš„<strong>é™çº§æ–¹æ¡ˆ</strong>ï¼Œä¿è¯å…¼å®¹æ€§ã€‚</li>
</ul>
<h4 data-id="heading-7">2. <code>&lt;picture&gt;</code> å…ƒç´ å®ç°æ ¼å¼åˆ‡æ¢</h4>
<p><code>&lt;picture&gt;</code> å…ƒç´ å¯ä»¥å®ç°æ›´é«˜çº§çš„æ§åˆ¶ï¼Œè®©æµè§ˆå™¨æ ¹æ®<strong>æ ¼å¼å…¼å®¹æ€§</strong>æ¥é€‰æ‹©å›¾ç‰‡æºï¼Œå®Œç¾è§£å†³æ–°æ ¼å¼çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">&lt;picture&gt;ï¼ˆä»ä¸Šå¾€ä¸‹ä¾æ¬¡è¯¢é—®æ˜¯å¦ç¬¦åˆè¿™ä¸ª<span class="hljs-built_in">source</span>ï¼‰
 Â &lt;<span class="hljs-built_in">source</span> srcset=<span class="hljs-string">"image.avif"</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">"image/avif"</span>&gt;
 Â &lt;<span class="hljs-built_in">source</span> srcset=<span class="hljs-string">"image.webp"</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">"image/webp"</span>&gt;
 Â &lt;img src=<span class="hljs-string">"image.jpg"</span> alt=<span class="hljs-string">"å¤šæ ¼å¼å›¾ç‰‡"</span>&gt;
&lt;/picture&gt;
</code></pre>
<p><strong>å·¥ä½œåŸç†ï¼š</strong> æµè§ˆå™¨ä¼šä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ£€æŸ¥ <code>&lt;source&gt;</code> æ ‡ç­¾ï¼Œä¸€æ—¦æ‰¾åˆ°ä¸€ä¸ªå®ƒæ”¯æŒçš„ <code>type</code> æˆ–ç¬¦åˆæ¡ä»¶çš„ <code>srcset</code>ï¼Œå°±ä¼šåŠ è½½è¯¥èµ„æºï¼Œå¹¶å¿½ç•¥åç»­çš„ <code>&lt;source&gt;</code>ã€‚å¦‚æœæ‰€æœ‰ <code>&lt;source&gt;</code> éƒ½ä¸æ”¯æŒï¼Œåˆ™ä¼šåŠ è½½æœ€åçš„ <code>&lt;img&gt;</code> æ ‡ç­¾ä¸­çš„ <code>src</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/229ddac3b6894cabadeb7f1b19fddbf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGluZWFwcGxlQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461038&amp;x-signature=dxKr6gYZoMzDofx0H%2BbZhxcCVds%3D" alt="picture å’Œ srcset å“åº”å¼åŠ è½½ç¤ºæ„å›¾" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ ¼å¼ä¸å°ºå¯¸</strong>ã€‚</li>
<li><strong>é¿å…æµªè´¹å¸¦å®½ä¸ä¸å¿…è¦çš„ä¸‹è½½</strong>ã€‚</li>
</ul>
<h3 data-id="heading-8">ğŸ”§ ç­–ç•¥ä¸‰ï¼šåŠ è½½æ—¶æœº â€” æ‡’åŠ è½½ä¸é¢„åŠ è½½</h3>
<p>é™¤äº†å›¾ç‰‡æœ¬èº«ï¼Œä½•æ—¶åŠ è½½å›¾ç‰‡ä¹Ÿè‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-9">1. æ‡’åŠ è½½ï¼ˆLazy Loadingï¼‰</h4>
<p>å¯¹äº<strong>é¦–å±ä»¥å¤–</strong>çš„å›¾ç‰‡ï¼Œåº”é‡‡ç”¨æ‡’åŠ è½½ã€‚å³åªæœ‰å½“å›¾ç‰‡è¿›å…¥æˆ–å³å°†è¿›å…¥ç”¨æˆ·è§†å£æ—¶æ‰å¼€å§‹åŠ è½½ã€‚</p>
<ul>
<li>
<p><strong>åŸç”Ÿæ”¯æŒï¼š</strong> ç°ä»£æµè§ˆå™¨å·²æ”¯æŒ <code>loading="lazy"</code> å±æ€§ï¼Œæ— éœ€ JavaScript åº“ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> loading=<span class="hljs-string">"lazy"</span> alt=<span class="hljs-string">"æ‡’åŠ è½½å›¾ç‰‡"</span>&gt;
</code></pre>
</li>
</ul>
<h4 data-id="heading-10">2. é¢„åŠ è½½ï¼ˆPreloadingï¼‰</h4>
<p>å¯¹äº<strong>é¦–å±å…³é”®</strong>çš„å›¾ç‰‡ï¼ˆå¦‚ Logoã€èƒŒæ™¯å›¾ï¼‰ï¼Œåº”ä½¿ç”¨é¢„åŠ è½½ï¼Œç¡®ä¿å®ƒä»¬å°½å¿«è¢«åŠ è½½ã€‚</p>
<ul>
<li>
<p><strong>HTML æ ‡ç­¾ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">&lt;link <span class="hljs-attr">rel</span>=<span class="hljs-string">"preload"</span> href=<span class="hljs-string">"critical-image.jpg"</span> as=<span class="hljs-string">"image"</span>&gt;
</code></pre>
</li>
</ul>
<h3 data-id="heading-11">âœ… æ€»ç»“ä¸å®è·µï¼šå›¾ç‰‡ä¼˜åŒ– Check List</h3>
<p>å›¾ç‰‡ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¤šç»´åº¦çš„å·¥ç¨‹ï¼Œä»¥ä¸‹æ˜¯å®è·µä¸­çš„ Check Listï¼š</p>



































<table><thead><tr><th>ä¼˜åŒ–å±‚é¢</th><th>å®è·µæ–¹æ³•</th><th>ç›®æ ‡</th></tr></thead><tbody><tr><td><strong>æ ¼å¼å±‚é¢</strong></td><td>ä¼˜å…ˆä½¿ç”¨ <strong>WebP / AVIF</strong>ï¼ŒPNG/JPEG ä½œä¸ºé™çº§ã€‚</td><td>æœ€å°åŒ–æ–‡ä»¶ä½“ç§¯ã€‚</td></tr><tr><td><strong>å“åº”å¼å±‚é¢</strong></td><td>åˆ©ç”¨ <strong><code>&lt;picture&gt;</code></strong> å’Œ <strong><code>srcset</code></strong> å®ç°æ ¼å¼å’Œå°ºå¯¸çš„æŒ‰éœ€åŠ è½½ã€‚</td><td>é¿å…åŠ è½½ä¸å¿…è¦çš„èµ„æºã€‚</td></tr><tr><td><strong>åŠ è½½å±‚é¢</strong></td><td><strong>é¦–å±å…³é”®å›¾</strong>ä½¿ç”¨é¢„åŠ è½½ï¼Œ<strong>éé¦–å±å›¾</strong>ä½¿ç”¨æ‡’åŠ è½½ã€‚</td><td>ä¼˜åŒ–åŠ è½½æ—¶æœºï¼Œæå‡é¦–å±é€Ÿåº¦ã€‚</td></tr><tr><td><strong>å‹ç¼©å±‚é¢</strong></td><td>åœ¨æ„å»ºé˜¶æ®µä½¿ç”¨å·¥å…·ï¼ˆå¦‚ <code>imagemin</code>ï¼‰è¿›è¡Œ<strong>è‡ªåŠ¨åŒ–æ— æŸ/æœ‰æŸå‹ç¼©</strong>ã€‚</td><td>ä¿è¯å›¾ç‰‡è´¨é‡çš„åŒæ—¶è¿›ä¸€æ­¥å‡å°ä½“ç§¯ã€‚</td></tr><tr><td><strong>æ¶æ„å±‚é¢</strong></td><td>æ¥å…¥ <strong>CDN</strong> ä¸ä¸“ä¸šçš„<strong>å›¾ç‰‡æœåŠ¡</strong>ï¼ˆå¦‚é˜¿é‡Œäº‘ OSSã€ä¸ƒç‰›äº‘ç­‰ï¼‰ã€‚</td><td>è‡ªåŠ¨å¤„ç†æ ¼å¼è½¬æ¢ã€ç¼©æ”¾å’Œå‹ç¼©ã€‚</td></tr></tbody></table>
<hr/>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Šï¼š</strong> é¢å¯¹å¤§é‡çš„å›¾æ ‡å’Œå°å›¾ç‰‡ï¼Œä¸€ä¸ªä¸ªè¯·æ±‚ä¸ä»…æ…¢ï¼Œè¿˜ä¼šé€ æˆå¤§é‡çš„ HTTP å¼€é”€ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•å°†è¿™äº›é›¶æ•£çš„èµ„æºâ€œæ‰“åŒ…â€èµ·æ¥ï¼Œå­¦ä¹  <strong>é›ªç¢§å›¾ï¼ˆCSS Spritesï¼‰</strong> çš„åŸç†å’Œå®è·µï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨å®ƒæ¥ä¼˜åŒ– <strong>SVG</strong> çš„åŠ è½½ã€‚æ•¬è¯·æœŸå¾…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android å®£å¸ƒ Runtime ç¼–è¯‘é€Ÿåº¦å²è¯—çº§æå‡ï¼šåœ¨ç¼–è¯‘æ—¶é—´ä¸Šä¼˜åŒ–äº† 18%]]></title>    <link>https://juejin.cn/post/7583980250733969471</link>    <guid>https://juejin.cn/post/7583980250733969471</guid>    <pubDate>2025-12-16T03:40:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583980250733969471" data-draft-id="7583933107690750015" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android å®£å¸ƒ Runtime ç¼–è¯‘é€Ÿåº¦å²è¯—çº§æå‡ï¼šåœ¨ç¼–è¯‘æ—¶é—´ä¸Šä¼˜åŒ–äº† 18%"/> <meta itemprop="keywords" content="å‰ç«¯,Android,Flutter"/> <meta itemprop="datePublished" content="2025-12-16T03:40:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android å®£å¸ƒ Runtime ç¼–è¯‘é€Ÿåº¦å²è¯—çº§æå‡ï¼šåœ¨ç¼–è¯‘æ—¶é—´ä¸Šä¼˜åŒ–äº† 18%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T03:40:54.000Z" title="Tue Dec 16 2025 03:40:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æœŸï¼Œ<strong>Android å®˜æ–¹å®£å¸ƒäº† Android Runtime åœ¨ç¼–è¯‘æ—¶é—´ä¸Šå®ç°äº† 18% çš„æ˜¾è‘—ä¼˜åŒ–ï¼ŒåŒæ—¶ä¸ç‰ºç‰²ç¼–è¯‘ä»£ç çš„è´¨é‡ï¼Œä¹Ÿæ²¡æœ‰å¢åŠ å³°å€¼å†…å­˜ä½¿ç”¨</strong>ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™å±äºæ˜¯ä¸€ä¸ªâ€œ<strong>é€Ÿåº¦æå‡ + é›¶æŸå¤±</strong>â€çš„ä¼˜åŒ–æˆæœã€‚</p>
<p>å®é™…ä¸Šè¿™ä¸ªè°ƒæ•´ä½œä¸º 2025 å¹´çš„å…³é”® KPI ï¼Œç›®å‰å·²ç»å®ç°äº†åˆ†é˜¶æ®µ rolloutï¼š<strong>éƒ¨åˆ†ä¼˜åŒ–å·²ç»åœ¨ 2025 å¹´ 6 æœˆçš„ Android å‘å¸ƒä¸­ä¸Šçº¿ï¼Œå…¶ä½™ä¼šåœ¨å¹´åº•å‘å¸ƒä¸­å®Œæˆ</strong>ï¼Œæ‰€æœ‰è¿è¡Œ Android 12 åŠä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·éƒ½å¯ä»¥é€šè¿‡ mainline æ›´æ–°å¾—åˆ°è¿™äº›æ”¹è¿›ã€‚</p>
<blockquote>
<p>â€œmainline æ›´æ–°â€ï¼ˆ Project Mainline / Google Play System Updatesï¼‰ æ˜¯ä¸€ç§æ¨¡å—åŒ–æ›´æ–°æœºåˆ¶ï¼Œå®ƒæ”¯æŒ Google é€šè¿‡ Google Play ç›´æ¥æ›´æ–° Android ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼ˆå¦‚Android Runtimeã€åª’ä½“æ¡†æ¶ã€å®‰å…¨æ¨¡å—ç­‰ï¼‰ï¼Œè¿™ä¸ªæ›´æ–°ä¸éœ€è¦ç”¨æˆ·ç­‰å¾… OTA ã€‚</p>
</blockquote>
<p>è€Œè¿™æ¬¡ä¼˜åŒ–æ›´åŠ å…·ä½“çš„è¯´å°±æ˜¯ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘æ—¶é—´å‡å°‘äº† 18%</strong></li>
</ul>

<ul>
<li>å¯¹ç¼–è¯‘å™¨æœ€ç»ˆè¾“å‡ºè´¨é‡æ²¡æœ‰è´Ÿé¢å½±å“</li>
</ul>

<ul>
<li>æ²¡æœ‰å‡ºç°å†…å­˜å›å½’ï¼ˆå°±æ˜¯æå‡è¿‡ç¨‹ä¸­ä¸å¢åŠ å†…å­˜å ç”¨å³°å€¼ï¼‰</li>
</ul>
<p>å¹¶ä¸”ï¼Œè¿™äº›æ”¹è¿›å¯¹äº JIT å’Œ AOTï¼ˆé¢„å…ˆç¼–è¯‘ï¼‰ éƒ½æœ‰ç”¨ï¼Œå½“ç„¶<strong>è¿™é‡Œæåˆ°çš„ Android Runtimeï¼ˆARTï¼‰â€œç¼–è¯‘é€Ÿåº¦â€ä¸æ˜¯ä½ åœ¨æœ¬åœ°ç”¨ Gradle æ„å»º APK çš„é€Ÿåº¦ï¼Œè€Œæ˜¯ã€Œè®¾å¤‡ç«¯ ART å¯¹ app å­—èŠ‚ç è¿›è¡Œ AOT / JIT ç¼–è¯‘çš„é€Ÿåº¦ã€</strong> ï¼Œä¸€èˆ¬è€Œè¨€é’ˆå¯¹ART å†…éƒ¨çš„â€œç¼–è¯‘å™¨æ‰§è¡Œé€Ÿåº¦â€ä¼šæœ‰ï¼š</p>
<ul>
<li>JIT ç¼–è¯‘é€Ÿåº¦</li>
<li>AOT / dex2oat ç¼–è¯‘é€Ÿåº¦</li>
<li>ç¼–è¯‘å™¨å„ä¸ª IR / ä¼˜åŒ– pass çš„æ‰§è¡Œæ—¶é—´</li>
</ul>
<p>ä¾‹å¦‚åœ¨ ART é‡Œæœ‰å¾ˆå¤š passï¼ˆæ¯”å¦‚ GVNã€æŸäº›æ•°æ®æµåˆ†æï¼‰ï¼Œæ¯æ¬¡éƒ½ä¼šéå† IRï¼Œå³ä½¿å½“å‰æ–¹æ³•æ ¹æœ¬ä¸æ»¡è¶³ä¼˜åŒ–æ¡ä»¶ä¹Ÿä¼šå®Œæ•´è·‘ä¸€éé€»è¾‘ï¼Œè¿™ç§è¡Œä¸ºå¸¦æ¥çš„å¼€é”€å¹¶æ²¡æœ‰äº§ç”Ÿæ”¶ç›Šï¼š</p>
<blockquote>
<p>å®˜æ–¹æåˆ°ï¼Œåœ¨ä¹‹å‰æœ‰ä¸€ä¸ªåä¸ºå…¨å±€å€¼ç¼–å· (GVN) çš„é˜¶æ®µï¼Œè¿™ä¸ªè¿‡ç¨‹é‡Œå®ƒæœ‰ä¸€ä¸ªåä¸º <code>Kill</code> çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæ ¹æ®è¿‡æ»¤å™¨åˆ é™¤ä¸€äº›èŠ‚ç‚¹ï¼Œç”±äºå®ƒéœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹å¹¶é€ä¸ªæ£€æŸ¥ï¼Œå› æ­¤éå¸¸è€—æ—¶ï¼Œè€Œäº‹å®ä¸Šæ— è®ºå½“æ—¶æœ‰å¤šå°‘èŠ‚ç‚¹å­˜æ´»ï¼Œå…¶å®éƒ½èƒ½é¢„å…ˆçŸ¥é“æ£€æŸ¥ç»“æœä¸º false ï¼Œé‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹å®Œå…¨å¯ä»¥è·³è¿‡éå†ï¼Œä»è€Œå°†æ€§èƒ½æ¶ˆè€—ä» 1.023% é™ä½åˆ°çº¦ 0.3%ï¼Œå¹¶å°† GVN çš„è¿è¡Œæ—¶é—´ç¼©çŸ­çº¦ 15%ã€‚</p>
</blockquote>
<p>å…¶ä»–çš„ä¸€äº›æ¡ˆä¾‹ï¼ŒåŒ…æ‹¬æœ‰ï¼š</p>
<h4 data-id="heading-0"><code>FindReferenceInfoOf</code> çš„æŸ¥æ‰¾ä¼˜åŒ–</h4>
<p><code>LoadStoreAnalysis</code> é˜¶æ®µçš„æ–¹æ³• <code>FindReferenceInfoOf</code> åŸæœ¬ä½¿ç”¨çº¿æ€§æœç´¢ O(n) åœ¨å‘é‡ä¸­æŸ¥æ‰¾ï¼Œè€Œç°åœ¨å°†æ•°æ®ç»“æ„æ”¹ä¸ºä»¥æŒ‡ä»¤ ID ä¸ºç´¢å¼•ï¼Œå®ç° O(1) æŸ¥æ‰¾ï¼Œå¹¶é¢„åˆ†é…å‘é‡ä»¥é¿å… resize ï¼Œ <strong>ä»è€Œåœ¨è¿™ä¸ªé˜¶æ®µåŠ é€Ÿ 34 - 66%ï¼Œæ€»ç¼–è¯‘æ—¶é—´æå‡ 0.5-1.8%ï¼Œè™½ç„¶å¢åŠ äº†ä¸€ä¸ªè®¡æ•°å­—æ®µï¼Œä½†å³°å€¼å†…å­˜æ²¡æœ‰å¢åŠ </strong>ã€‚</p>
<h4 data-id="heading-1">ç»“æ„è°ƒæ•´</h4>
<p>ä»£ç åº“ä¸­ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>HashSet</code>ï¼Œå¤šå¹´å‰æ˜¯ä¸ºäº†å¤„ç†æå°‘æ•°çš„å¤§å‹é›†åˆè€Œä¼˜åŒ–çš„ï¼Œä½†ç°åœ¨çš„ç”¨æ³•å˜æˆäº†åˆ›å»ºå¤§é‡å°å‹çš„ã€çŸ­ç”Ÿå‘½å‘¨æœŸçš„é›†åˆï¼Œæ‰€ä»¥æœ¬åœ°è°ƒæ•´å®ç°ä»¥é€‚åº”â€œå°è€ŒçŸ­â€çš„ç”¨æ³•ï¼Œå‡å°‘åˆ›å»ºå’Œé”€æ¯å¼€é”€ï¼Œ<strong>ä»è€Œè®©ç¼–è¯‘æ—¶é—´æå‡ 1.3-2%ï¼Œä¸”å†…å­˜ä½¿ç”¨é‡åè€Œä¸‹é™äº† 0.5-1%</strong> ã€‚</p>
<p>è¿˜æœ‰é€šè¿‡å°†æ•°æ®ç»“æ„ä»¥å¼•ç”¨æ–¹å¼ä¼ é€’ç»™ lambda è¡¨è¾¾å¼ï¼Œé¿å…äº†æ•°æ®ç»“æ„çš„å¤åˆ¶ï¼Œä»è€Œå°†ç¼–è¯‘æ—¶é—´ç¼©çŸ­äº†çº¦ 0.5% åˆ° 1% ï¼Œè¿™ä¸€ç‚¹åœ¨æœ€åˆçš„ä»£ç å®¡æŸ¥ä¸­è¢«å¿½ç•¥äº†ï¼Œå¹¶åœ¨ä»£ç åº“ä¸­ä¿ç•™äº†å¤šå¹´ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5884e1bdbb1451ba34bb04a5b1dcd18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461254&amp;x-signature=OnHrUf%2B0SjuZ0%2FkUTWq74fGATSo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-2">å†…è” (Inlining) æ£€æŸ¥</h4>
<p>ç¼–è¯‘å™¨ä¸ºäº†æ€§èƒ½ä¼šå†…è”å‡½æ•°ï¼ŒåŸæœ¬çš„æµç¨‹æ˜¯å…ˆè®¡ç®—å¤§é‡æ•°æ®ï¼Œæœ€åå†åšâ€œæœ€ç»ˆæ£€æŸ¥â€ï¼ˆå¦‚æŒ‡ä»¤æ•°ã€å¯„å­˜å™¨éœ€æ±‚ï¼‰å†³å®šæ˜¯å¦å†…è”ï¼Œè€Œç°åœ¨å°†è¿™äº›æ£€æŸ¥ä»â€œè®¡ç®—åâ€ç§»åˆ°äº†â€œè®¡ç®—å‰â€ä½œä¸ºå¯å‘å¼è§„åˆ™ï¼ˆHeuristicsï¼‰ï¼Œé¿å…äº†å¤§é‡æ— æ•ˆè®¡ç®—ï¼Œ<strong>ä»…æŒ‡ä»¤æ•°æ£€æŸ¥ä¸€é¡¹çš„ç§»åŠ¨å°±å¸¦æ¥äº†çº¦ 2% çš„æå‡</strong>ã€‚</p>
<p>äº‹å®ä¸Šå®˜æ–¹åœ¨è¿›è¡Œè¿™äº›è°ƒæ•´æ—¶ä¹Ÿé‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œå› ä¸ºå³ä½¿ä½ å‘ç°æŸä¸ªåŒºåŸŸå ç”¨äº†å¤§é‡ç¼–è¯‘æ—¶é—´ï¼Œå¹¶ä¸”æŠ•å…¥äº†å¼€å‘æ—¶é—´å°è¯•æ”¹è¿›ï¼Œæœ‰æ—¶ä¹Ÿæ‰¾ä¸åˆ°è§£å†³æ–¹æ¡ˆï¼Œå½“ä½ ä¿®æ”¹äº† A é—®é¢˜åï¼Œè‡ªç„¶è€Œç„¶å°±å¸¦äº† B é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>å†…å­˜å›å½’</strong> ï¼šåœ¨ä¼˜åŒ–â€œè¾“å‡ºå†™å…¥â€é˜¶æ®µæ—¶ï¼Œå›¢é˜Ÿé€šè¿‡ç¼“å­˜è®¡ç®—å€¼æ¥åŠ é€Ÿï¼ˆåŸæœ¬é¢„è®¡æå‡ 1.3-2.8%ï¼‰ï¼Œä½†è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶å‘ç°ï¼Œé¢å¤–çš„ç¼“å­˜æ•°æ®ç»“æ„å¯¼è‡´äº†å†…å­˜ä½¿ç”¨é‡çš„æ˜¾è‘—å¢åŠ </li>
<li><strong>å†å²é—ç•™è´Ÿæ‹…</strong> ï¼šè®¸å¤šä½æ•ˆä»£ç æ˜¯å› ä¸ºå†å²åŸå› é—ç•™ä¸‹æ¥çš„ï¼ˆæ¯”å¦‚ä¸Šè¿°çš„ <code>HashSet</code>ï¼‰ï¼Œæˆ–è€…æ˜¯å› ä¸ºä»£ç å®¡æŸ¥ç–å¿½ï¼ˆå°†å¯¹è±¡æŒ‰å€¼ä¼ é€’è€Œä¸æ˜¯æŒ‰å¼•ç”¨ä¼ é€’ï¼‰</li>
<li><strong>å¤æ‚åº¦çš„æƒè¡¡</strong> ï¼šæŸäº›ä¼˜åŒ–æ–¹æ¡ˆå¯èƒ½è¿‡äºå¤æ‚ï¼Œæˆ–è€…ä¼šå¢åŠ ä»£ç ç»´æŠ¤éš¾åº¦</li>
</ul>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œå®˜æ–¹è¿›è¡Œäº†ä¸€ç³»åˆ—çš„è°ƒæ•´å°è¯•ï¼š</p>
<ul>
<li><strong>é‡æ„è§£å†³å†…å­˜å›å½’</strong> ï¼šé’ˆå¯¹â€œè¾“å‡ºå†™å…¥â€é˜¶æ®µçš„å†…å­˜é—®é¢˜ï¼Œæœ¬æ¬¡ç›´æ¥é‡æ„äº†è¯¥é˜¶æ®µçš„é€»è¾‘ï¼Œè¿™é‡Œè®¾è®¡äº†ä¸€ç§æ–°æ–¹æ¡ˆï¼Œç§»é™¤äº†ä¸¤ä¸ªå†—ä½™æ•°æ®ç»“æ„ä¸­çš„ä¸€ä¸ªï¼Œè¿™ä¸ä»…è§£å†³äº†å†…å­˜å›é€€é—®é¢˜ï¼Œè¿˜è¿›ä¸€æ­¥æå‡äº† 0.5-1.8% çš„é€Ÿåº¦<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50691e9c962d41e7b558bfec3faf585d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461254&amp;x-signature=y4RTZRiorDUOScj7jbBlN682d%2BM%3D" alt="" loading="lazy"/></li>
<li><strong>ä½¿ç”¨ pprof è¿›è¡Œæ·±åº¦åˆ†æ</strong> ï¼šåˆ©ç”¨ <code>pprof</code> å·¥å…·ç”Ÿæˆ Flame Graphå’Œ Bottom-up è§†å›¾ï¼Œç²¾å‡†å®šä½é‚£äº›â€œéšå½¢â€çš„å¼€é”€ï¼ˆå¦‚é¢‘ç¹çš„ <code>Kill</code> æ–¹æ³•æˆ–æ„å¤–çš„å¯¹è±¡æ‹·è´ï¼‰<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44d769a04d2c4ba09f63dd56f255a84b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461254&amp;x-signature=oJMfUQSxGNIY9tA4UfQDKs01wwk%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8a0e32ebaca42288fd5b5af85f5da4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766461254&amp;x-signature=Y8%2B%2FsUtI717%2BYsyJ%2FxFtXxUsP9E%3D" alt="" loading="lazy"/></li>
<li><strong>â€œå¿«é€Ÿè¿­ä»£â€ç­–ç•¥</strong> ï¼šä¸ºäº†èŠ‚çœå¼€å‘æ—¶é—´ï¼Œå…ˆç”¨åŸå‹ï¼ˆPrototypeï¼‰åœ¨å…¸å‹åº”ç”¨ï¼ˆFirst-party apps, Android OSï¼‰ä¸Šå¿«é€ŸéªŒè¯æƒ³æ³•ï¼Œç¡®è®¤æ”¶ç›Šåå†è¿›è¡Œå®Œæ•´çš„å·¥ç¨‹å®ç°å’Œæµ‹è¯•</li>
<li><strong>åˆ©ç”¨å…¨æ–° C++ ç‰¹æ€§</strong> ï¼šæ¯”å¦‚ä½¿ç”¨ <code>BitVectorView</code> æ›¿ä»£å¯å˜é•¿çš„ <code>BitVector</code>ï¼Œå¹¶åˆ©ç”¨æ¨¡æ¿åŒ–å®ç°è®© <code>Union()</code> æ“ä½œåœ¨ 64 ä½å¹³å°ä¸Šä¸€æ¬¡å¤„ç†ä¸¤å€çš„ä½æ•°</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fr.android.com%2F3469440" target="_blank" title="http://r.android.com/3469440" ref="nofollow noopener noreferrer">Add bookkeeping</a> å°†ç¼–è¯‘æ—¶é—´ç¼©çŸ­çº¦ 0.6-1.6%</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fr.android.com%2F3492151" target="_blank" title="http://r.android.com/3492151" ref="nofollow noopener noreferrer">Lazily compute data</a> æ¥é¿å…å¾ªç¯è®¡ç®—</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fart%2F%2B%2Fbd15b243cda3f9c5038b76099e703e050890f280%255E!%2F%23F0" target="_blank" title="https://android.googlesource.com/platform/art/+/bd15b243cda3f9c5038b76099e703e050890f280%5E!/#F0" ref="nofollow noopener noreferrer">Refactor our code</a> è·³è¿‡ä¸ä¼šç”¨åˆ°çš„é¢„è®¡ç®—å·¥ä½œ</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fr.android.com%2F3497214" target="_blank" title="http://r.android.com/3497214" ref="nofollow noopener noreferrer">Avoid some dependent load chains</a> å¦‚æœå¯ä»¥ä»å…¶ä»–åœ°æ–¹è½»æ¾è·å– allocator</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fart%2F%2B%2Fbf625ebd279484bc5b0214e1659797dac2f27c8d%255E!%2F%23F0" target="_blank" title="https://android.googlesource.com/platform/art/+/bf625ebd279484bc5b0214e1659797dac2f27c8d%5E!/#F0" ref="nofollow noopener noreferrer">é¿å…åœ¨å¯„å­˜å™¨åˆ†é…ä¸­é¢‘ç¹åœ°å¯¹å¯„å­˜å™¨ç±»å‹ï¼ˆæ ¸å¿ƒ/æµ®ç‚¹ï¼‰è¿›è¡Œåˆ†æ”¯</a></li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fr.android.com%2F3802063" target="_blank" title="http://r.android.com/3802063" ref="nofollow noopener noreferrer">ç¡®ä¿æŸäº›æ•°ç»„</a>åœ¨ç¼–è¯‘æ—¶å·²åˆå§‹åŒ–ï¼Œä¸è¦ä¾èµ– clang æ¥å®Œæˆè¿™é¡¹å·¥ä½œ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fart%2F%2B%2F77a5d1e6464a03460fad1daa6f357f3a9e5d8f19%255E!%2F%23F0" target="_blank" title="https://android.googlesource.com/platform/art/+/77a5d1e6464a03460fad1daa6f357f3a9e5d8f19%5E!/#F0" ref="nofollow noopener noreferrer">ä¼˜åŒ–ä¸€äº›å¾ªç¯ </a>ï¼Œä½¿ç”¨èŒƒå›´å¾ªç¯ï¼Œå› ä¸º clang å¯ä»¥æ›´å¥½åœ°ä¼˜åŒ–èŒƒå›´å¾ªç¯ï¼Œé¿å…å› å¾ªç¯å‰¯ä½œç”¨è€Œé‡æ–°åŠ è½½å®¹å™¨çš„å†…éƒ¨æŒ‡é’ˆï¼Œé¿å…åœ¨å¾ªç¯ä¸­é€šè¿‡å†…è”çš„ <code>InputAt(.)</code> ä¸ºæ¯ä¸ªè¾“å…¥è°ƒç”¨è™šå‡½æ•° <code>HInstruction::GetInputRecords()</code></li>
<li>åˆ©ç”¨ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fart%2F%2B%2F85f6b01b978b0543e964fa65d9d66adfedfd90cb%255E!%2F%23F0" target="_blank" title="https://android.googlesource.com/platform/art/+/85f6b01b978b0543e964fa65d9d66adfedfd90cb%5E!/#F0" ref="nofollow noopener noreferrer"> é¿å…åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ä½¿ç”¨ Accept() å‡½æ•°</a></li>
</ul>
<h2 data-id="heading-3">æœ€å</h2>
<p>æœ€åï¼Œçœ‹ä¸æ‡‚ä¸è¦ç´§ï¼Œåªéœ€è¦çŸ¥é“å®ƒå¾ˆç‰›é€¼ï¼Œå¹¶ä¸”è¿˜èƒ½è®© Android 12 ä»¥åçš„æœºå™¨å˜å¾—æ›´å¿«ï¼Œåœ¨ç”¨æˆ·ç«¯ä½“ç°å‡ºæ¥å°±æ˜¯ï¼š</p>
<ul>
<li>app å¯åŠ¨æ›´å¿«</li>
<li>å†·å¯åŠ¨æ›´å°‘å¡é¡¿</li>
<li>ä½ç«¯æœºæ›´å‹å¥½</li>
<li>å®‰è£… / æ›´æ–°å˜å¿«</li>
</ul>
<p>åŒæ—¶ä¹Ÿå±•ç¤ºäº†æ•™ç§‘ä¹¦çº§åˆ«çš„ä¼˜åŒ–ç­–ç•¥ï¼Œä¸ä»…è¦çœ‹é€Ÿåº¦ï¼Œæ›´è¦çœ‹å†…å­˜ã€ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§ç­‰ç»¼åˆæŒ‡æ ‡ï¼Œæ‰€ä»¥å®˜æ–¹è¿™ä»½æŠ¥å‘Šä¸ä»…ä»…æ˜¯æŠ€æœ¯å…¬å‘Šï¼Œæ›´æ˜¯ä¸€ä»½ä¼˜ç§€çš„ç¼–è¯‘å™¨å·¥ç¨‹çš„æ¡ˆä¾‹ç ”ç©¶ã€‚</p>
<h2 data-id="heading-4">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid-developers.googleblog.com%2F2025%2F12%2F18-faster-compiles-0-compromises.html" target="_blank" title="https://android-developers.googleblog.com/2025/12/18-faster-compiles-0-compromises.html" ref="nofollow noopener noreferrer">android-developers.googleblog.com/2025/12/18-â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å˜é‡çš„æ±Ÿæ¹–æ©æ€¨ï¼šä¸€ç¯‡æ–‡ç« å½»åº•è®²æ¸…æ¥š]]></title>    <link>https://juejin.cn/post/7583921477614125091</link>    <guid>https://juejin.cn/post/7583921477614125091</guid>    <pubDate>2025-12-16T02:00:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583921477614125091" data-draft-id="7583921477614108707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å˜é‡çš„æ±Ÿæ¹–æ©æ€¨ï¼šä¸€ç¯‡æ–‡ç« å½»åº•è®²æ¸…æ¥š"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2025-12-16T02:00:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¯ä»¶æ±‚ç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1038379932466263"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å˜é‡çš„æ±Ÿæ¹–æ©æ€¨ï¼šä¸€ç¯‡æ–‡ç« å½»åº•è®²æ¸…æ¥š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1038379932466263/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¯ä»¶æ±‚ç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:00:07.000Z" title="Tue Dec 16 2025 02:00:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œåœ¨ JavaScript ä¸–ç•Œé‡Œï¼Œæœ‰ä¸€ä¸ªå«<strong>å˜é‡é•‡</strong>çš„åœ°æ–¹ã€‚è¿™é‡Œä½ç€ä¸‰å…„å¼Ÿï¼š<strong>varã€letã€const</strong>ã€‚ä»–ä»¬éƒ½èƒ½â€œè£…ä¸œè¥¿â€ï¼Œä½†æ€§æ ¼ã€è§„çŸ©ã€å‡ºèº«èƒŒæ™¯å®Œå…¨ä¸ä¸€æ ·ã€‚ä¹Ÿæ­£å› ä¸ºè¿™ä¸‰å…„å¼Ÿçš„æ€§æ ¼å·®å¼‚ï¼Œç¨‹åºå‘˜æ±Ÿæ¹–é‡Œæ¯å¤©éƒ½åœ¨ä¸Šæ¼”å„ç§äº‹æ•…ç°åœºã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ èµ°è¿›å˜é‡é•‡ï¼Œçœ‹çœ‹ä»–ä»¬å„è‡ªæ˜¯æ€ä¹ˆâ€œç¿»è½¦â€çš„ï¼Œåˆè¯¥å¦‚ä½•æ­£ç¡®ç›¸å¤„ã€‚</p>
<h2 data-id="heading-0">è€å¤§å“¥ varï¼šæ±Ÿæ¹–è€æ²¹æ¡</h2>
<p><strong>1ã€var å…³é”®å­—ï¼šæœ€æ—©çš„å±…æ°‘</strong></p>
<p>var æ˜¯ JavaScript æœ€æ—©çš„å˜é‡å£°æ˜æ–¹å¼ï¼Œå ªç§°<strong>ä¸Šå¤ç¥å™¨</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28deaf0d6a844195bc7caa30a7d83813~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=K5h9NfGX4vJhCr5eXQY39Yn1TC8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åœ¨ ES6 ä¹‹å‰ï¼Œæ•´ä¸ªå˜é‡é•‡å‡ ä¹è¢« var ä¸€ç»Ÿæ±Ÿæ¹–ã€‚ä½†é—®é¢˜ä¹Ÿæ­£æ˜¯ä»è¿™é‡Œå¼€å§‹çš„ã€‚</p>
<p><strong>2ã€ var å£°æ˜ä½œç”¨åŸŸï¼šæ²¡æœ‰å—çº§æ¦‚å¿µ</strong></p>
<p>åœ¨å˜é‡é•‡é‡Œï¼Œvar æœ‰ä¸ªéå¸¸â€œéšæ„â€çš„æ€§æ ¼ï¼š<strong>å®ƒåªè®¤å‡½æ•°ï¼Œä¸è®¤èŠ±æ‹¬å·ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90c1c989eb804ddca7096d90f7f8ed13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=gy9p6ovTp72ZeMgJwkIjCgGyphM%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å¾ˆå¤šæ–°æ‰‹ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªç»“æœæ—¶ï¼Œå†…å¿ƒéƒ½æ˜¯å´©æºƒçš„ï¼š</p>
<blockquote>
<p>â€œä¸æ˜¯å†™åœ¨ if é‡Œé¢å—ï¼Ÿæ€ä¹ˆè·‘å‡ºæ¥äº†ï¼Ÿâ€</p>
</blockquote>
<p>åœ¨ var çœ¼é‡Œï¼Œifã€forã€while éƒ½ä¸ç®—åœ°ç›˜ï¼Œåªæœ‰<strong>å‡½æ•°</strong>æ‰ç®—çœŸæ­£çš„è¾¹ç•Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c521decb3ca434bad59a00cd849abd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=GQ89rjnJsrksrRD9q7j2zUKqfJM%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>æ€»ç»“ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p>var åªæœ‰<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ï¼Œæ²¡æœ‰<strong>å—çº§ä½œç”¨åŸŸ</strong>ã€‚</p>
</blockquote>
<p><strong>3ã€ var å£°æ˜æå‡ï¼šå…ˆä¸Šè½¦åè¡¥ç¥¨</strong></p>
<p>var è¿˜æœ‰ä¸€ä¸ªè®©äººåˆçˆ±åˆæ¨çš„èƒ½åŠ›â€”â€”<strong>å£°æ˜æå‡</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28e9618edf554564a30ece01961a99d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=quTfGnFQINMvYsufwrgWLwHK65E%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åœ¨ JavaScript å¼•æ“çœ¼é‡Œï¼Œä¸Šé¢çš„ä»£ç å…¶å®æ˜¯è¿™æ ·æ‰§è¡Œçš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a44dab9927434a12bc7492bc16cfd15a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=NEN3PckLYYbDzc1WN0YmdrVjsyI%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å˜é‡å£°æ˜è¢«â€œå·å·â€æåˆ°äº†æœ€å‰é¢ï¼Œä½†èµ‹å€¼è¿˜åœ¨åŸåœ°ã€‚è¿™å°±åƒä½ å…ˆæŠ¥äº†åå­—è¿›ç¾¤ï¼Œä½†ä¸ªäººèµ„æ–™è¿˜æ²¡å¡«å®Œã€‚</p>
<p><strong>é£é™©ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸æŠ¥é”™</li>
<li>ä½†ç»“æœæ˜¯ undefined</li>
<li>å¾ˆå®¹æ˜“æ©ç›– bug</li>
</ul>
<h2 data-id="heading-1">äºŒå“¥ letï¼šè®²è§„çŸ©çš„ç°ä»£é’å¹´</h2>
<p>åæ¥ï¼ŒES6 æ¥äº†ï¼Œå˜é‡é•‡è¿æ¥äº†æ–°å±…æ°‘ï¼š<strong>let</strong>ã€‚</p>
<p><strong>1ã€let å£°æ˜ï¼šæœ‰è¾¹ç•Œæ„Ÿçš„äºº</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e565c0f2e2e4bdeb395f4761792a373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=caJzDKseBQ8go%2FV7Pnobl%2Bnvi6g%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>let çš„å‡ºç°ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯ï¼š<strong>ç»™å˜é‡åŠ ä¸Šè¾¹ç•Œæ„Ÿã€‚</strong></p>
<p><strong>2ã€ æš‚æ—¶æ€§æ­»åŒºï¼šæˆ‘æ²¡åˆ°ï¼Œä½ åˆ«ç¢°</strong></p>
<p>let æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼š<strong>æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/582ff83b22fe4eb489cc1741590d777a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=MVK95A9FF28Icyo9cto7YH3KAfw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç›´æ¥æŠ¥é”™ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01e120eb692d4432b224699cb9db5bfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=CemmIat1%2Bg5sceDsIwjyRVmGHis%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åœ¨ let çœ‹æ¥ï¼šâ€œä½ å¯ä»¥æå‰çŸ¥é“æˆ‘ä¼šæ¥ï¼Œä½†åœ¨æˆ‘çœŸæ­£ç™»åœºä¹‹å‰ï¼Œä½ ä¸èƒ½ç¢°æˆ‘ã€‚â€</p>
<p>è¿™å’Œ var çš„â€œå…ˆå£°æ˜åèµ‹å€¼â€å®Œå…¨ä¸åŒã€‚</p>
<p><strong>3ã€ let çš„å—çº§ä½œç”¨åŸŸ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ed80bd1aa9245d193e6ae511c39ea52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=9S3ym4G83zBZUXoGpnJbSdwbgzU%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¿™ä¸€æ¬¡ï¼Œå˜é‡ç»ˆäº<strong>è€è€å®å®å¾…åœ¨è‡ªå·±çš„èŠ±æ‹¬å·é‡Œ</strong>ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ let æœ€å¤§çš„ä»·å€¼ä¹‹ä¸€ï¼š<strong>å‡å°‘å˜é‡æ±¡æŸ“ï¼Œé™ä½å¿ƒæ™ºè´Ÿæ‹…ã€‚</strong></p>
<p><strong>4ã€ å…¨å±€å£°æ˜ï¼šä¸ä¼šæŒ‚åˆ° window ä¸Š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d178b524c6da45748148b6ac15cfb3da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=mUPRLfA0g5oII5VMsQv79gLIVnE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è€Œå¦‚æœæ˜¯ varï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e4b9c139ee648a0a970f8173e678795~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=5JUs6kK%2FRjSDmhQ4prqVxLJgdoM%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>var ä¼šæ±¡æŸ“å…¨å±€å¯¹è±¡</li>
<li>let ä¸ä¼š</li>
</ul>
<p>åœ¨å¤§å‹é¡¹ç›®é‡Œï¼Œè¿™ä¸€ç‚¹å°¤ä¸ºé‡è¦ã€‚</p>
<p><strong>5ã€ for å¾ªç¯ä¸­çš„ letï¼šä¸ºå¾ªç¯è€Œç”Ÿ</strong></p>
<p>è¿™æ˜¯ let æœ€è®©äººæ‹æ‰‹å«å¥½çš„åœ°æ–¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b857d92ae73f4ac59dc1234451dd9237~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=4ZXthja%2Bp3xGjeZbsNk6I057lQU%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¾“å‡ºç»“æœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d7d53fafa7c45f9b4f1ad5e23dd2899~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=vY7c0QgEmmyV93zs5yx7A48KWc0%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å¦‚æœæ¢æˆ varï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22f1769498364d04869548c5da3453e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=yy6fYvuds95yKSH3aj6lnJSbs0I%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç»“æœæ˜¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1941834751b74ef4b0fa4655cf95b9ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=aQIQXRRrXyep9BLeErfEykt7A4s%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åŸå› å¾ˆç®€å•ï¼š</p>
<ul>
<li>var åªæœ‰ä¸€ä¸ª i</li>
<li>let æ¯æ¬¡å¾ªç¯éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ i</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> åªè¦æ˜¯å¾ªç¯å˜é‡ï¼Œ<strong>ä¼˜å…ˆ let</strong>ã€‚</p>
<h2 data-id="heading-2">ä¸‰å¼Ÿ constï¼šå¤–å†·å†…çƒ­çš„å®ˆæŠ¤è€…</h2>
<p><strong>1ã€const å£°æ˜ï¼šä¸å¯å˜çš„æ‰¿è¯º</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00cd682707604f38ac220f49152b3557~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=HXpQGuXLZUCN%2BxA%2Fz%2BSWT3R9hLg%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>const çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>ä¸€æ—¦ç»‘å®šï¼Œå°±ä¸èƒ½é‡æ–°ç»‘å®šã€‚</strong></p>
<p>ä½†å¾ˆå¤šäººä¼šè¯¯è§£è¿™ä¸€ç‚¹ã€‚</p>
<p><strong>2ã€const å¹¶ä¸ç­‰äºâ€œå€¼ä¸å¯å˜â€</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7ab00b41a524ccc9fead1cae57efaf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=1kSW7Q8nuOJ5nYSNVYcKuxVryfc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>çœŸæ­£ä¸èƒ½åšçš„æ˜¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/082a2566fb12457884a6a0a87bace289~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=DpbQbIDRMsvxpRba39hUvWF80BA%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li>const é”çš„æ˜¯<strong>å¼•ç”¨</strong></li>
<li>ä¸æ˜¯å¯¹è±¡å†…éƒ¨çš„å±æ€§</li>
</ul>
<h2 data-id="heading-3">ä¸‰å…„å¼Ÿæ€§æ ¼å¯¹æ¯”è¡¨</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4560ae2f8654a0187941b086fe36a3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=nEue4PvJZSvSHs77j1%2B3weI8cn8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-4">å£°æ˜é£æ ¼åŠæœ€ä½³å®è·µ</h2>
<p>è®²å®Œæ•…äº‹ï¼Œæˆ‘ä»¬å›åˆ°ç°å®ä¸–ç•Œã€‚</p>
<p><strong>1ã€ ä¸ä½¿ç”¨ var</strong></p>
<p>è¿™æ˜¯ç°ä»£ JavaScript é¡¹ç›®çš„å…±è¯†ã€‚åŸå› å¾ˆç®€å•ï¼š</p>
<ul>
<li>å®¹æ˜“äº§ç”Ÿéšå¼ bug</li>
<li>ä½œç”¨åŸŸä¸ç›´è§‚</li>
<li>ä¸ç¬¦åˆç°ä»£å·¥ç¨‹åŒ–éœ€æ±‚</li>
</ul>
<p>é™¤éä½ åœ¨ç»´æŠ¤<strong>éå¸¸å¤è€çš„ä»£ç </strong>ï¼Œå¦åˆ™ï¼š<strong>è¯·å¿˜è®° var çš„å­˜åœ¨ã€‚</strong></p>
<p><strong>2ã€ const ä¼˜å…ˆï¼Œlet æ¬¡ä¹‹</strong></p>
<p>è¿™æ˜¯æˆ‘åœ¨å›¢é˜Ÿé‡Œåå¤å¼ºè°ƒçš„ä¸€æ¡è§„åˆ™ã€‚<strong>æ¨èé¡ºåºï¼š</strong></p>
<ol>
<li>èƒ½ç”¨ const å°±ç”¨ const</li>
<li>éœ€è¦é‡æ–°èµ‹å€¼æ—¶ï¼Œç”¨ let</li>
<li>æ°¸è¿œä¸è¦ç”¨ var</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bb341c4c39f42f7ad5099fcd910ee3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rGC55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766455207&amp;x-signature=q79NRTPN5SeETVz4kiv6MTi5ePo%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>ä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªäº›å˜é‡ä¸ä¼šå˜</li>
<li>é™ä½è®¤çŸ¥æˆæœ¬</li>
<li>ä»£ç æ›´å®‰å…¨ã€æ›´è‡ªè§£é‡Š</li>
</ul>
<h2 data-id="heading-5">æ€»ç»“ï¼šå˜é‡ï¼Œå…¶å®æ˜¯äººçš„å½±å­</h2>
<p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘è¶Šæ¥è¶Šè§‰å¾—ï¼š</p>
<blockquote>
<p>JavaScript çš„å˜é‡å£°æ˜ï¼Œå…¶å®ç‰¹åˆ«åƒäººã€‚</p>
<p>var åƒæ²¡è¾¹ç•Œæ„Ÿçš„è€å‰è¾ˆï¼Œçƒ­å¿ƒä½†å®¹æ˜“æ·»ä¹±</p>
<p>let åƒè®²è§„åˆ™çš„ç°ä»£èŒåœºäººï¼Œæ¸…æ™°ã€å¯é </p>
<p>const åƒç«‹ä¸‹æ‰¿è¯ºçš„äººï¼Œä¸€æ—¦å†³å®šå°±ä¸ä¼šè½»æ˜“æ”¹å˜</p>
</blockquote>
<p>å½“ä½ å¼€å§‹<strong>è®¤çœŸé€‰æ‹©å˜é‡å£°æ˜æ–¹å¼</strong>çš„æ—¶å€™ï¼Œè¯´æ˜ä½ å·²ç»ä¸å†åªæ˜¯â€œå†™èƒ½è·‘çš„ä»£ç â€ï¼Œè€Œæ˜¯åœ¨å†™<strong>é•¿æœŸå¯ç»´æŠ¤çš„å·¥ç¨‹</strong>ã€‚</p>
<h2 data-id="heading-6">END</h2>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿<strong>ç‚¹èµã€åœ¨çœ‹ã€è½¬å‘</strong>ï¼Œè®©æ›´å¤šäººè®¤è¯†å˜é‡é•‡çš„ä¸‰å…„å¼Ÿã€‚</p>
<p>æˆ‘æ˜¯å°ç±³ï¼Œä¸€ä¸ªå–œæ¬¢åˆ†äº«æŠ€æœ¯çš„31å²ç¨‹åºå‘˜ã€‚å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·â€œ<strong>è½¯ä»¶æ±‚ç”Ÿ</strong>â€ï¼Œè·å–æ›´å¤šæŠ€æœ¯å¹²è´§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ pnpm + Workspaces æ„å»º Monorepo çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7583970267132821510</link>    <guid>https://juejin.cn/post/7583970267132821510</guid>    <pubDate>2025-12-16T02:05:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583970267132821510" data-draft-id="7583980250733232191" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ pnpm + Workspaces æ„å»º Monorepo çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-16T02:05:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NolanKy"/> <meta itemprop="url" content="https://juejin.cn/user/2841599197616894"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ pnpm + Workspaces æ„å»º Monorepo çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2841599197616894/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NolanKy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:05:01.000Z" title="Tue Dec 16 2025 02:05:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin:30px 0 10px;color:#cca152;position:relative;padding-left:50px;border-bottom:2px solid rgba(209,163,78,.6);padding-bottom:0}.markdown-body h1{font-size:30px}.markdown-body h1:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:80%;bottom:-10px;left:-2px}.markdown-body h2{font-size:24px}.markdown-body h2:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:70%;bottom:-15px;left:-1px}.markdown-body h3{font-size:18px}.markdown-body h3:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:60%;bottom:-19px;left:-2px}.markdown-body h4{font-size:16px;padding-left:0;border-bottom:1px solid rgba(209,163,78,.6)}.markdown-body h5{font-size:15px;padding-left:0}.markdown-body em{color:#cca152}.markdown-body del{text-decoration-color:#cca152;text-decoration-thickness:2px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:80%;margin:6px auto;box-shadow:0 6px 15px #8e8e8e;display:block;margin:20px auto!important;object-fit:contain;border-radius:8px}.markdown-body hr{border:none;border-top:2px solid #e0c9a1;margin-top:32px 0}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background:#f6efde;color:#b69454;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Mono,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;background:#fef6e1;border-radius:4px;box-shadow:0 0 8px hsla(0,0%,47%,.45)}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAOCAMAAABaWb9VAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACHUExURUdwTMxCKdc8NvdYT/9hVyLJPABBAGubKNiIOv+/K+ytJBakH9aZG+5QR5VZDOBDPhmtJ8+VGuGjH/CwJR26MR6+NBq0LPW1KBmwKetNRfJUTONHP92fHuSmIeFEPhu3LR29M/BTS+mqIuqsI5qdHyLKPP++Kv9gVf9lW//KLSXXQCTQP//FLMVm5KQAAAAldFJOUwAlPPz7+woBBPu8Mzu+FlRRKmvnweeG+Wqg6mVNXmuc1OCbmjZJWF/9AAABKklEQVQoz3WS6XaCMBCFRzAM++KGsqhtDwES3//5OtmA2uP9A9zwzRoAgBC0QgQrdA68OZsDr229YGHoIEj7Pl0ZOgjKa5lYJ4Rd1vijn3nuD4Qurjmv48o6RFyfbGDnS6DeEXZfk5ZfuBhdPb9I87ECNMh1EFJKIU6agWzaa01NbmLkxznSmmObJBkkUxrERf3i+ftRiZi7ShPCYY64UhTx1AR5CDYoMXkOKEY7GmTcTzeD/FiER68DfSLgSRqEIBoB3P8h3x8RZhBXGJGusJdD6rfCBl0YqvZNkrV9zej2cWlfJWG6fRpyM41qYH+GTPPi2yFLQYC0Qybm5o96lW77kMbcrBKtgeWTsthVamNXFF4I6x0DTPuugsVRFyYpyxzWqNvHJwed8ws7QyP1UwjNjwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fef6e1}.markdown-body a{text-decoration:none;color:#d8ac5a;border-bottom:1px solid #d8ac5a}.markdown-body a:active,.markdown-body a:hover{color:#93753f;border-color:#93753f}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f4e8c7;border-collapse:collapse}.markdown-body thead{background:rgba(255,227,176,.6588235294);text-align:left;display:table-header-group;border-bottom:1px solid rgba(255,227,176,.6588235294)}.markdown-body tbody{background:rgba(255,247,229,.3882352941)}.markdown-body td,.markdown-body th{padding:7px;line-height:24px;min-width:100px}.markdown-body blockquote{color:#bd954f;padding:1px 23px;margin:22px 0;border-left:4px solid #dcb267;background-color:#fff7e5}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol .task-list-item,.markdown-body ul .task-list-item{list-style:none}.markdown-body ol li{padding-left:6px}.markdown-body::marker{color:#dcb267}.markdown-body .contains-task-list{padding-left:0}.markdown-body .contains-task-list .task-list-item{list-style:none;position:relative}.markdown-body .contains-task-list .task-list-item input[type=checkbox]{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:before{content:"";display:inline-block;height:12px;width:12px;position:absolute;left:-2px;top:-2px;border:2px solid #cda152;border-radius:5px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked:before{border:none;content:"";display:inline-block;height:17px;width:17px;position:absolute;left:-2px;top:-2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAYhJREFUOBFjYACC0/MDGsDEiyvr/zOCeUwMJxn/A8HZRUEMYBFGJsZ6kFoQYALiAyAGCgDpA+sFijKeWRj4H1kWpIWBW1SDQcm+BCzOAiK/vr7BcO/gDbAAI4hE1waWgRBnmWCGIwkyKFjnwow0BhsJk9QLncvw5dV1oPE9MCEGmBWrgCKhcFEowyR+PSNYwemFAZ4M/xjMkRWYJm5oAPFB/joDpI1BHHQANgGPDxj+//vfCA4IdJ3GcevgQnAFhlHLwYIgSVA0wABcwY3tFQzokiBFGIEP0wmigW5wZAK5FFkQib0a6NUDcEmgb7AGFpIGZOZqoMFhIAFQknEAJpn9yLLEssFOBCp2IFaDkl0xg6C8FbJyB3gowUS5RdQYBORQYpVB1iwVHIIMwJh///AYTCmYRklNIBFmNi4GeYt0BhnjeIa3dw8wSBlEgDUhxw2yCRgGfHp2geHiqiSwUwUVrFAiFVkjjA1LrjgTHEwhFvosMCZM4NEIUoAtWWNoBGZ70/gN22HiAD2uhAzsYNBZAAAAAElFTkSuQmCC) 0 0 no-repeat;background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼špnpm Workspace</h2>
<p>pnpm å†…ç½®äº†å¯¹ Monorepoï¼ˆå•ä¸€ä»£ç ä»“åº“ï¼‰çš„åŸç”Ÿæ”¯æŒï¼Œé€šè¿‡ <strong>Workspaceï¼ˆå·¥ä½œåŒºï¼‰</strong> â€‹ æœºåˆ¶å®ç°ã€‚Workspace å…è®¸ä½ åœ¨ä¸€ä¸ªä»“åº“ä¸­ç®¡ç†å¤šä¸ªç›¸äº’å…³è”ä½†ç‹¬ç«‹çš„é¡¹ç›®ï¼ˆåŒ…ï¼‰ï¼Œå¹¶æ™ºèƒ½åœ°å¤„ç†å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p>
<h2 data-id="heading-1">äºŒã€å°†æ™®é€šä»“åº“è½¬å˜ä¸º Monorepo çš„æ­¥éª¤</h2>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šåˆå§‹åŒ–é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•</span>
<span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">my</span>-monorepo
cd <span class="hljs-keyword">my</span>-monorepo

<span class="hljs-comment"># åˆå§‹åŒ–æ ¹ç›®å½• package.json</span>
pnpm init
</code></pre>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šé…ç½®æ ¹ç›®å½• package.json</h3>
<p>ä¿®æ”¹æ ¹ç›®å½•çš„ <code>package.json</code>ï¼Œå…³é”®é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"my-monorepo"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"private"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-regexp">//</span> å¿…é¡»è®¾ç½®ä¸º <span class="hljs-literal">true</span>ï¼Œé¿å…è¯¯å‘å¸ƒåˆ° npm
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"pnpm -r run dev"</span>,      <span class="hljs-regexp">//</span> -r è¡¨ç¤ºé€’å½’æ‰§è¡Œæ‰€æœ‰å­åŒ…
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"pnpm -r run build"</span>,
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"pnpm -r run test"</span>
  },
  <span class="hljs-string">"keywords"</span>: [],
  <span class="hljs-string">"author"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"ISC"</span>
}
</code></pre>
<p><strong>é‡è¦è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>"private": true</code>æ˜¯å¿…é¡»çš„ï¼Œç¡®ä¿æ•´ä¸ª Monorepo ä¸ä¼šè¢«æ„å¤–å‘å¸ƒ</li>
<li>å¯ä»¥ç§»é™¤ <code>main</code>ã€<code>test</code>ç­‰å­—æ®µï¼Œå› ä¸ºæ ¹ç›®å½•é€šå¸¸ä¸åŒ…å«ä¸šåŠ¡ä»£ç </li>
</ul>
<h3 data-id="heading-4">æ­¥éª¤ 3ï¼šåˆ›å»º pnpm-workspace.yaml é…ç½®æ–‡ä»¶</h3>
<p>åœ¨æ ¹ç›®å½•åˆ›å»º <code>pnpm-workspace.yaml</code>æ–‡ä»¶ï¼Œè¿™æ˜¯ pnpm Workspace çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># pnpm-workspace.yaml</span>
packages:
  <span class="hljs-comment"># packages ç›®å½•ä¸‹çš„æ‰€æœ‰ç›´æ¥å­ç›®å½•</span>
  - <span class="hljs-string">'packages/*'</span>
  
  <span class="hljs-comment"># apps ç›®å½•ä¸‹çš„æ‰€æœ‰ç›´æ¥å­ç›®å½•</span>
  - <span class="hljs-string">'apps/*'</span>
  
  <span class="hljs-comment"># components ç›®å½•ä¸‹çš„æ‰€æœ‰å±‚çº§å­ç›®å½•</span>
  - <span class="hljs-string">'components/**'</span>
  
  <span class="hljs-comment"># æ’é™¤åŒ…å« test çš„ç›®å½•</span>
  - <span class="hljs-string">'!**/test/**'</span>
</code></pre>
<p><strong>é…ç½®è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>packages/*</code>ï¼šåŒ¹é… <code>packages</code>ç›®å½•ä¸‹çš„æ‰€æœ‰ä¸€çº§å­ç›®å½•</li>
<li><code>apps/*</code>ï¼šåŒ¹é… <code>apps</code>ç›®å½•ä¸‹çš„æ‰€æœ‰ä¸€çº§å­ç›®å½•</li>
<li><code>components/**</code>ï¼šåŒ¹é… <code>components</code>ç›®å½•ä¸‹çš„æ‰€æœ‰å±‚çº§å­ç›®å½•</li>
<li><code>!**/test/**</code>ï¼šæ’é™¤æ‰€æœ‰åŒ…å« <code>test</code>çš„ç›®å½•</li>
</ul>
<p>pnpm ä¸­çš„ä¸¤ç§é…ç½®æ–¹å¼</p>
<h4 data-id="heading-5">æ–¹å¼ä¸€ï¼šä½¿ç”¨ <code>package.json</code>çš„ <code>workspaces</code>å­—æ®µ</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-monorepo"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"private"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"workspaces"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"packages/*"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"apps/*"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm -r run dev"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-6">æ–¹å¼äºŒï¼šä½¿ç”¨ <code>pnpm-workspace.yaml</code>æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># pnpm-workspace.yaml</span>
packages:
  - <span class="hljs-string">'packages/*'</span>
  - <span class="hljs-string">'apps/*'</span>
  - <span class="hljs-string">'!**/test/**'</span>  <span class="hljs-comment"># æ’é™¤åŒ…å« test çš„ç›®å½•</span>
</code></pre>
<h4 data-id="heading-7">ä¸¤ç§æ–¹å¼çš„ä¼˜å…ˆçº§ä¸å…¼å®¹æ€§</h4>
<ol>
<li>
<p><strong>pnpm çš„è¯»å–é¡ºåº</strong>ï¼š</p>
<ul>
<li>ä¼˜å…ˆè¯»å– <code>pnpm-workspace.yaml</code></li>
<li>å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯»å– <code>package.json</code>ä¸­çš„ <code>workspaces</code>å­—æ®µ</li>
<li>å¦‚æœä¸¤è€…éƒ½å­˜åœ¨ï¼Œ<strong><code>pnpm-workspace.yaml</code>ä¼˜å…ˆçº§æ›´é«˜</strong>â€‹</li>
</ul>
</li>
<li>
<p><strong>æ¨èä½¿ç”¨ <code>pnpm-workspace.yaml</code>çš„åŸå› </strong>ï¼š</p>
<ul>
<li><strong>æ›´ä¸°å¯Œçš„é…ç½®é€‰é¡¹</strong>ï¼šæ”¯æŒæ’é™¤æ¨¡å¼ï¼ˆ<code>!**/test/**</code>ï¼‰</li>
<li><strong>æ›´å¥½çš„å¯è¯»æ€§</strong>ï¼šYAML æ ¼å¼æ›´é€‚åˆå¤æ‚é…ç½®</li>
<li><strong>å·¥å…·å…¼å®¹æ€§</strong>ï¼šæ˜ç¡®æ ‡è¯†ä¸º pnpm å·¥ä½œåŒº</li>
<li><strong>æœªæ¥æ‰©å±•æ€§</strong>ï¼špnpm çš„æ–°åŠŸèƒ½ä¼šä¼˜å…ˆåœ¨ YAML é…ç½®ä¸­æ”¯æŒ</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">æ­¥éª¤ 4ï¼šåˆ›å»ºå­é¡¹ç›®ç»“æ„</h3>
<p>å…¸å‹çš„ Monorepo ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">my-monorepo/
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-<span class="hljs-keyword">lock</span>.yaml
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared-utils/     <span class="hljs-meta"># å…±äº«å·¥å…·åº“</span>
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”œâ”€â”€ ui-components/    <span class="hljs-meta"># UI ç»„ä»¶åº“</span>
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ src/
â”‚   â””â”€â”€ core-lib/         <span class="hljs-meta"># æ ¸å¿ƒåº“</span>
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ src/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web-app/          <span class="hljs-meta"># å‰ç«¯åº”ç”¨</span>
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ src/
â”‚   â””â”€â”€ mobile-app/       <span class="hljs-meta"># ç§»åŠ¨åº”ç”¨</span>
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ src/
â””â”€â”€ docs/                 <span class="hljs-meta"># æ–‡æ¡£</span>
</code></pre>
<h3 data-id="heading-9">æ­¥éª¤ 5ï¼šé…ç½®å­é¡¹ç›®çš„ package.json</h3>
<p>æ¯ä¸ªå­é¡¹ç›®éƒ½éœ€è¦æœ‰è‡ªå·±çš„ <code>package.json</code>ï¼Œå…³é”®é…ç½®å¦‚ä¸‹ï¼š <strong>ç¤ºä¾‹ï¼šå…±äº«å·¥å…·åº“ (packages/shared-utils/package.json)</strong></p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@my-monorepo/shared-utils"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"dist/index.js"</span>,
  <span class="hljs-string">"types"</span>: <span class="hljs-string">"dist/index.d.ts"</span>,
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"tsc"</span>,
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"tsc --watch"</span>
  },
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"lodash"</span>: <span class="hljs-string">"^4.17.21"</span>
  },
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"typescript"</span>: <span class="hljs-string">"^5.0.0"</span>
  }
}
</code></pre>
<p><strong>ç¤ºä¾‹ï¼šå‰ç«¯åº”ç”¨ (apps/web-app/package.json)</strong></p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"web-app"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"private"</span>: true,
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"vite"</span>,
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"vite build"</span>,
    <span class="hljs-string">"preview"</span>: <span class="hljs-string">"vite preview"</span>
  },
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"@my-monorepo/shared-utils"</span>: <span class="hljs-string">"workspace:*"</span>,  <span class="hljs-regexp">//</span> å…³é”®ï¼šå¼•ç”¨æœ¬åœ°åŒ…
    <span class="hljs-string">"@my-monorepo/ui-components"</span>: <span class="hljs-string">"workspace:*"</span>,
    <span class="hljs-string">"react"</span>: <span class="hljs-string">"^18.2.0"</span>,
    <span class="hljs-string">"react-dom"</span>: <span class="hljs-string">"^18.2.0"</span>
  },
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@types/react"</span>: <span class="hljs-string">"^18.2.0"</span>,
    <span class="hljs-string">"@types/react-dom"</span>: <span class="hljs-string">"^18.2.0"</span>,
    <span class="hljs-string">"vite"</span>: <span class="hljs-string">"^5.0.0"</span>
  }
}
</code></pre>
<h2 data-id="heading-10">ä¸‰ã€å…³é”®é…ç½®è¯¦è§£</h2>
<h3 data-id="heading-11">1. workspace:* åè®®</h3>
<p>è¿™æ˜¯ pnpm Workspace çš„æ ¸å¿ƒç‰¹æ€§ï¼Œç”¨äºå£°æ˜å¯¹æœ¬åœ°å…¶ä»–åŒ…çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"@my-monorepo/shared-utils"</span>: <span class="hljs-string">"workspace:*"</span>,      <span class="hljs-regexp">//</span> ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
    <span class="hljs-string">"@my-monorepo/ui-components"</span>: <span class="hljs-string">"workspace:^1.0.0"</span>, <span class="hljs-regexp">//</span> æŒ‡å®šç‰ˆæœ¬èŒƒå›´
    <span class="hljs-string">"@my-monorepo/core-lib"</span>: <span class="hljs-string">"workspace:../packages/core-lib"</span> // ç›¸å¯¹è·¯å¾„
  }
}
</code></pre>
<p><strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>å»ºç«‹æœ¬åœ°åŒ…ä¹‹é—´çš„è½¯é“¾æ¥ï¼Œæ— éœ€å‘å¸ƒåˆ° npm</li>
<li>ä¿®æ”¹æœ¬åœ°åŒ…æ—¶ï¼Œä¾èµ–å®ƒçš„é¡¹ç›®èƒ½ç«‹å³çœ‹åˆ°å˜åŒ–</li>
<li>ç¡®ä¿æ‰€æœ‰åŒ…ä½¿ç”¨åŒä¸€ä»½ä¾èµ–ï¼Œé¿å…é‡å¤å®‰è£…</li>
</ul>
<h3 data-id="heading-12">2. ä¾èµ–å®‰è£…ä¸ç®¡ç†</h3>
<h4 data-id="heading-13">åœ¨æ ¹ç›®å½•å®‰è£…å…¨å±€ä¾èµ–ï¼ˆæ‰€æœ‰åŒ…å…±äº«ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å®‰è£…åˆ°æ ¹ç›®å½•ï¼Œæ‰€æœ‰åŒ…å…±äº«</span>
pnpm <span class="hljs-keyword">add</span> typescript -w
<span class="hljs-meta"># æˆ–</span>
pnpm <span class="hljs-keyword">add</span> typescript --workspace-root
</code></pre>
<h4 data-id="heading-14">ä¸ºç‰¹å®šåŒ…å®‰è£…ä¾èµ–</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># ä¸º web-app å®‰è£… react</span>
pnpm <span class="hljs-keyword">add</span> react --filter web-app
<span class="hljs-meta"># æˆ–</span>
pnpm <span class="hljs-keyword">add</span> react -F web-app

<span class="hljs-meta"># ä¸ºå¤šä¸ªåŒ…å®‰è£…ä¾èµ–</span>
pnpm <span class="hljs-keyword">add</span> axios --filter <span class="hljs-string">"web-app"</span> --filter <span class="hljs-string">"mobile-app"</span>
</code></pre>
<h4 data-id="heading-15">å®‰è£…æœ¬åœ°åŒ…ä¾èµ–</h4>
<pre><code class="hljs language-sql" lang="sql"># åœ¨ web<span class="hljs-operator">-</span>app ä¸­å®‰è£… shared<span class="hljs-operator">-</span>utils
pnpm <span class="hljs-keyword">add</span> <span class="hljs-variable">@my</span><span class="hljs-operator">-</span>monorepo<span class="hljs-operator">/</span>shared<span class="hljs-operator">-</span>utils <span class="hljs-comment">--filter web-app</span>
</code></pre>
<h3 data-id="heading-16">3. è„šæœ¬æ‰§è¡Œ</h3>
<h4 data-id="heading-17">åœ¨æ‰€æœ‰åŒ…ä¸­æ‰§è¡Œç›¸åŒè„šæœ¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€’å½’æ‰§è¡Œæ‰€æœ‰åŒ…çš„ build è„šæœ¬</span>
pnpm -r run build

<span class="hljs-comment"># é€’å½’æ‰§è¡Œæ‰€æœ‰åŒ…çš„ test è„šæœ¬</span>
pnpm -r run <span class="hljs-built_in">test</span>
</code></pre>
<h4 data-id="heading-18">åœ¨ç‰¹å®šåŒ…ä¸­æ‰§è¡Œè„šæœ¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»…åœ¨ web-app ä¸­æ‰§è¡Œ dev è„šæœ¬</span>
pnpm --filter web-app run dev

<span class="hljs-comment"># ä½¿ç”¨åŒ…åï¼ˆpackage.json ä¸­çš„ nameï¼‰</span>
pnpm -F @my-monorepo/shared-utils run build
</code></pre>
<h2 data-id="heading-19">å››ã€å®Œæ•´ç¤ºä¾‹ï¼šVue é¡¹ç›® Monorepo</h2>
<h3 data-id="heading-20">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-lua" lang="lua">vue-monorepo/
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ui-lib/          # UI ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ vite.<span class="hljs-built_in">config</span>.ts
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°åº“
â”‚       â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â”‚       â””â”€â”€ src/
â””â”€â”€ apps/
    â”œâ”€â”€ admin/           # åå°ç®¡ç†ç³»ç»Ÿ
    â”‚   â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
    â”‚   â””â”€â”€ src/
    â””â”€â”€ portal/          # é—¨æˆ·ç½‘ç«™
        â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
        â””â”€â”€ src/
</code></pre>
<h3 data-id="heading-21">pnpm-workspace.yaml</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">packages:</span>
  - <span class="hljs-comment">'packages/*'</span>
  - <span class="hljs-comment">'apps/*'</span>
</code></pre>
<h3 data-id="heading-22">æ ¹ç›®å½• package.json</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-monorepo"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"private"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm -r run dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm -r run build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm -r run lint"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-23">åŒ…é—´ä¾èµ–ç¤ºä¾‹ (apps/admin/package.json)</h3>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"admin"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"private"</span>: true,
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"vue"</span>: <span class="hljs-string">"^3.3.0"</span>,
    <span class="hljs-string">"@vue-monorepo/ui-lib"</span>: <span class="hljs-string">"workspace:*"</span>,
    <span class="hljs-string">"@vue-monorepo/utils"</span>: <span class="hljs-string">"workspace:*"</span>
  },
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@vitejs/plugin-vue"</span>: <span class="hljs-string">"^4.0.0"</span>,
    <span class="hljs-string">"vite"</span>: <span class="hljs-string">"^5.0.0"</span>
  }
}
</code></pre>
<h2 data-id="heading-24">äº”ã€æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-25">1. å‘½åè§„èŒƒ</h3>
<ul>
<li>æ ¹é¡¹ç›®ï¼šä½¿ç”¨é¡¹ç›®æ€»åç§°ï¼Œå¦‚ <code>my-monorepo</code></li>
<li>å­åŒ…ï¼šä½¿ç”¨ä½œç”¨åŸŸåç§°ï¼Œå¦‚ <code>@my-monorepo/ui-components</code></li>
<li>åº”ç”¨ï¼šä½¿ç”¨æè¿°æ€§åç§°ï¼Œå¦‚ <code>web-app</code>ã€<code>admin-console</code></li>
</ul>
<h3 data-id="heading-26">2. ä¾èµ–ç®¡ç†</h3>
<ul>
<li>å…¬å…±ä¾èµ–ï¼ˆå¦‚ TypeScriptã€ESLintï¼‰å®‰è£…åœ¨æ ¹ç›®å½•</li>
<li>ä¸šåŠ¡ä¾èµ–å®‰è£…åœ¨å„è‡ªåŒ…ä¸­</li>
<li>ä½¿ç”¨ <code>pnpm-lock.yaml</code>ç¡®ä¿ä¾èµ–ä¸€è‡´æ€§</li>
</ul>
<h3 data-id="heading-27">3. ç‰ˆæœ¬æ§åˆ¶</h3>
<ul>
<li>æäº¤ <code>pnpm-lock.yaml</code>åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</li>
<li>è€ƒè™‘ä½¿ç”¨ Changesets æˆ– Lerna è¿›è¡Œç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒ</li>
</ul>
<h3 data-id="heading-28">4. æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li>pnpm ä½¿ç”¨ç¡¬é“¾æ¥å’Œç¬¦å·é“¾æ¥ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</li>
<li>æ‰€æœ‰åŒ…å…±äº«åŒä¸€ä»½ä¾èµ–ï¼Œå®‰è£…é€Ÿåº¦å¿«</li>
<li>æ”¯æŒè¿‡æ»¤å‘½ä»¤ï¼Œåªæ„å»ºéœ€è¦çš„åŒ…</li>
</ul>
<h3 data-id="heading-29">5. CI/CD é›†æˆ</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># GitHub Actions ç¤ºä¾‹</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v2</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">version:</span> <span class="hljs-number">8</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">18</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">'pnpm'</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">-r</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">-r</span> <span class="hljs-string">run</span> <span class="hljs-string">test</span>
</code></pre>
<h2 data-id="heading-30">å…­ã€å¸¸è§é—®é¢˜è§£å†³</h2>
<h3 data-id="heading-31">1. å¹½çµä¾èµ–é—®é¢˜</h3>
<p>ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½åœ¨ <code>package.json</code>ä¸­æ˜ç¡®å£°æ˜ï¼Œé¿å…ç›´æ¥å¼•ç”¨ <code>node_modules</code>ä¸­çš„æœªå£°æ˜åŒ…ã€‚</p>
<h3 data-id="heading-32">2. å¾ªç¯ä¾èµ–æ£€æµ‹</h3>
<p>ä½¿ç”¨ <code>pnpm why &lt;package-name&gt;</code>æ£€æŸ¥ä¾èµ–å…³ç³»ï¼Œé¿å…åŒ…ä¹‹é—´çš„å¾ªç¯ä¾èµ–ã€‚</p>
<h3 data-id="heading-33">3. åŒ…æ‰¾ä¸åˆ°é”™è¯¯</h3>
<p>å¦‚æœå‡ºç° <code>no matches found</code>é”™è¯¯ï¼Œæ£€æŸ¥ï¼š</p>
<ul>
<li>åŒ…åæ˜¯å¦æ­£ç¡®ï¼ˆåŒ…æ‹¬ä½œç”¨åŸŸï¼‰</li>
<li>åŒ…æ˜¯å¦åœ¨ <code>pnpm-workspace.yaml</code>é…ç½®çš„ç›®å½•ä¸­</li>
<li>åŒ…æ˜¯å¦æœ‰æ­£ç¡®çš„ <code>name</code>å­—æ®µ</li>
</ul>
<h3 data-id="heading-34">4. è·¨åŒ…ç±»å‹å¼•ç”¨</h3>
<p>å¯¹äº TypeScript é¡¹ç›®ï¼Œé…ç½® <code>tsconfig.json</code>ä¸­çš„ <code>paths</code>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"baseUrl"</span>: <span class="hljs-string">"."</span>,
    <span class="hljs-string">"paths"</span>: {
      <span class="hljs-string">"@my-monorepo/*"</span>: [<span class="hljs-string">"packages/*/src"</span>]
    }
  }
}
</code></pre>
<h2 data-id="heading-35">æ€»ç»“</h2>
<p>é€šè¿‡ pnpm + Workspaces æ„å»º Monorepo çš„ä¸»è¦ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ä¾èµ–å…±äº«</strong>ï¼šæ‰€æœ‰åŒ…å…±äº«åŒä¸€ä»½ä¾èµ–ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´å’Œå®‰è£…æ—¶é—´</li>
<li><strong>åŸå­æäº¤</strong>ï¼šè·¨åŒ…å˜æ›´å¯ä»¥ä¸€æ¬¡æ€§æäº¤ï¼Œä¿æŒä¸€è‡´æ€§</li>
<li><strong>æœ¬åœ°é“¾æ¥</strong>ï¼šä½¿ç”¨ <code>workspace:*</code>åè®®ï¼Œæœ¬åœ°å¼€å‘æ— éœ€å‘å¸ƒåˆ° npm</li>
<li><strong>ç²¾ç»†æ§åˆ¶</strong>ï¼šæ”¯æŒæŒ‰åŒ…è¿‡æ»¤çš„å‘½ä»¤æ‰§è¡Œ</li>
<li><strong>ç»Ÿä¸€ç®¡ç†</strong>ï¼šé›†ä¸­çš„ CI/CD å’Œä»£ç è´¨é‡æ£€æŸ¥</li>
</ol>
<p>è¿™ç§æ¶æ„ç‰¹åˆ«é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€å¾®å‰ç«¯æ¶æ„ã€ç»„ä»¶åº“å¼€å‘ç­‰åœºæ™¯ï¼Œèƒ½æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡å’Œä»£ç å¤ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å·¥ç¨‹åŒ–å®è·µï¼šæ‰“åŒ…å·¥å…·çš„é€‰æ‹©ä¸æ€è€ƒ]]></title>    <link>https://juejin.cn/post/7583984122234798122</link>    <guid>https://juejin.cn/post/7583984122234798122</guid>    <pubDate>2025-12-16T02:16:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583984122234798122" data-draft-id="7583984122234732586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å·¥ç¨‹åŒ–å®è·µï¼šæ‰“åŒ…å·¥å…·çš„é€‰æ‹©ä¸æ€è€ƒ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Webpack"/> <meta itemprop="datePublished" content="2025-12-16T02:16:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å·¥ç¨‹åŒ–å®è·µï¼šæ‰“åŒ…å·¥å…·çš„é€‰æ‹©ä¸æ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:16:24.000Z" title="Tue Dec 16 2025 02:16:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»é™æ€é¡µé¢åˆ°æ¨¡å—åŒ–å¼€å‘ï¼Œå‰ç«¯å·¥ç¨‹åŒ–ç»å†äº†æ€æ ·çš„æ¼”è¿›ï¼ŸWebpackã€Viteã€Rspack è¿™äº›æ‰“åŒ…å·¥å…·å„è‡ªè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­åˆè¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</p>
</blockquote>
<h2 data-id="heading-0">å‰ç«¯å·¥ç¨‹åŒ–çš„å‡ºç°ä¸å‘å±•</h2>
<p>å‰ç«¯å·¥ç¨‹åŒ–çš„å‘å±•ç»å†äº†å‡ ä¸ªé‡è¦é˜¶æ®µã€‚åœ¨ 1990 å¹´ä»£åˆ° 2000 å¹´ä»£åˆæœŸçš„é™æ€é¡µé¢æ—¶ä»£ï¼Œå¼€å‘è€…ä¸»è¦ä½¿ç”¨ Photoshop åˆ‡å›¾å’Œ Dreamweaver ç­‰å·¥å…·åˆ¶ä½œé¡µé¢ï¼Œä»£ç é€šå¸¸ç›´æ¥å†™åœ¨ HTML ä¸­ï¼Œå¤§é‡ä½¿ç”¨å†…è”æ ·å¼å’Œäº‹ä»¶å¤„ç†å™¨ï¼Œæ‰€æœ‰é€»è¾‘é›†ä¸­åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯¼è‡´ä»£ç ç»„ç»‡æ··ä¹±ã€å…¨å±€å˜é‡æ±¡æŸ“ä¸¥é‡ã€ç»´æŠ¤å›°éš¾ã€‚åˆ°äº† 2000 å¹´ä»£ä¸­æœŸåˆ° 2010 å¹´ä»£åˆæœŸï¼ŒjQuery ç­‰ç±»åº“çš„å‡ºç°è§£å†³äº†æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œç®€åŒ–äº† DOM æ“ä½œï¼Œä½†ä»£ç ç»„ç»‡é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œæ–‡ä»¶ä½“ç§¯æŒç»­å¢é•¿ï¼Œæ¨¡å—é—´çš„ä¾èµ–å…³ç³»ä»éœ€äººå·¥ç®¡ç†ã€‚2010 å¹´ä»£åˆæœŸè¿›å…¥æ¨¡å—åŒ–æ¢ç´¢é˜¶æ®µï¼Œå‡ºç°äº†å¤šç§æ¨¡å—åŒ–æ–¹æ¡ˆï¼šCommonJS ä¸»è¦ç”¨äº Node.js ç¯å¢ƒï¼ŒAMD ä¸“æ³¨äºæµè§ˆå™¨ç«¯çš„å¼‚æ­¥æ¨¡å—åŠ è½½ï¼ŒCMD å¼ºè°ƒæŒ‰éœ€åŠ è½½ï¼Œä½†è¿™äº›æ–¹æ¡ˆæ ‡å‡†ä¸ç»Ÿä¸€ï¼Œå·¥å…·é“¾ä¸å…¼å®¹ï¼Œç»™é¡¹ç›®åä½œå¸¦æ¥å›°éš¾ã€‚2010 å¹´ä»£ä¸­æœŸè‡³ä»Šï¼Œéšç€ ES6 æ¨¡å—æ ‡å‡†çš„ç¡®å®šï¼Œ<code>import / export</code> è¯­æ³•æˆä¸ºä¸»æµï¼ŒWebpack ç­‰æ‰“åŒ…å·¥å…·ç»Ÿä¸€äº†æ¨¡å—åŒ–å¤„ç†æµç¨‹ï¼ŒVite ç­‰æ–°ä¸€ä»£å·¥å…·åˆ©ç”¨åŸç”Ÿ ESM æå‡äº†å¼€å‘ä½“éªŒï¼ŒåŒæ—¶ Babel æä¾›äº†è¯­æ³•è½¬æ¢èƒ½åŠ›ï¼ŒTypeScript æä¾›äº†ç±»å‹ç³»ç»Ÿæ”¯æŒï¼ŒESLint å’Œ Prettier è§„èŒƒäº†ä»£ç é£æ ¼ï¼Œå‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»é€æ­¥å®Œå–„ï¼Œå‰ç«¯å¼€å‘è¿›å…¥äº†å·¥å…·é“¾é©±åŠ¨çš„æ—¶ä»£ã€‚</p>
<p>å‰ç«¯å·¥ç¨‹åŒ–çš„å‡ºç°ä¸»è¦æºäºé¡¹ç›®è§„æ¨¡æ‰©å¤§ã€å›¢é˜Ÿåä½œéœ€æ±‚å¢åŠ ã€ä¸šåŠ¡å¤æ‚åº¦æå‡ä»¥åŠäººå·¥ç®¡ç†ä»£ç çš„å±€é™æ€§ã€‚é¦–å…ˆï¼Œä¼ ç»Ÿå¼€å‘æ–¹å¼ä¸­ä»£ç ç»„ç»‡æ··ä¹±ï¼Œæ‰€æœ‰è„šæœ¬æ–‡ä»¶éœ€è¦åœ¨ HTML ä¸­æŒ‰æ­£ç¡®é¡ºåºå¼•å…¥ï¼Œä¾èµ–å…³ç³»å¿…é¡»äººå·¥ç»´æŠ¤ï¼Œåˆ é™¤æˆ–è°ƒæ•´æ–‡ä»¶é¡ºåºå®¹æ˜“å¯¼è‡´é”™è¯¯ã€‚å·¥ç¨‹åŒ–åé€šè¿‡ ES Modules ç­‰æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œä¾èµ–å…³ç³»ç”±å·¥å…·è‡ªåŠ¨ç®¡ç†ï¼Œå¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚å…¶æ¬¡ï¼Œæµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜çªå‡ºï¼Œä½¿ç”¨ <code>Promise</code>ã€<code>async/await</code> ç­‰æ–°ç‰¹æ€§æ—¶ï¼Œæ—§ç‰ˆæœ¬æµè§ˆå™¨æ— æ³•è¯†åˆ«ï¼Œéœ€è¦é€šè¿‡ Babel å°†é«˜çº§è¯­æ³•è½¬æ¢ä¸ºå…¼å®¹çš„ ES5 ä»£ç ï¼Œå¹¶é€šè¿‡ polyfill ä¸ºæ—§æµè§ˆå™¨è¡¥å……ç¼ºå¤±çš„ API æ”¯æŒã€‚ç¬¬ä¸‰ï¼Œå¼€å‘æ•ˆç‡ä½ä¸‹ï¼Œä¼ ç»Ÿæ–¹å¼éœ€è¦æ‰‹åŠ¨åˆ·æ–°é¡µé¢ã€é‡å¤æ“ä½œæ‰èƒ½çœ‹åˆ°ä¿®æ”¹æ•ˆæœï¼Œæ„å»ºè¿‡ç¨‹éœ€è¦æ‰‹åŠ¨è¿›è¡Œä»£ç å‹ç¼©ã€åˆå¹¶ã€æ·»åŠ æ–‡ä»¶å“ˆå¸Œç­‰æ“ä½œï¼Œå·¥ç¨‹åŒ–åé€šè¿‡çƒ­æ¨¡å—æ›¿æ¢å®ç°ä»£ç ä¿®æ”¹åè‡ªåŠ¨æ›´æ–°ï¼Œé€šè¿‡æ„å»ºå·¥å…·è‡ªåŠ¨åŒ–å®Œæˆå‹ç¼©ã€æ–‡ä»¶æŒ‡çº¹ã€ä»£ç åˆ†åŒ…ç­‰æµç¨‹ã€‚ç¬¬å››ï¼Œæ€§èƒ½ä¼˜åŒ–ç¼ºä¹ç³»ç»Ÿæ€§æ–¹æ¡ˆï¼Œæœªæ‰“åŒ…çš„é¡¹ç›®ä¼šäº§ç”Ÿå¤§é‡ HTTP è¯·æ±‚ï¼Œæœªè¿›è¡Œä»£ç åˆ†å‰²ä¼šå¯¼è‡´ç”¨æˆ·éœ€è¦åŠ è½½å…¨éƒ¨ä»£ç æ‰èƒ½ä½¿ç”¨éƒ¨åˆ†åŠŸèƒ½ï¼Œå·¥ç¨‹åŒ–åé€šè¿‡ä»£ç å‹ç¼©ã€Tree-shaking æ¶ˆé™¤æ— ç”¨ä»£ç ã€æŒ‰éœ€åŠ è½½ã€èµ„æºé¢„åŠ è½½ç­‰æŠ€æœ¯æ‰‹æ®µç³»ç»Ÿæ€§åœ°ä¼˜åŒ–æ€§èƒ½ã€‚ç¬¬äº”ï¼Œå›¢é˜Ÿåä½œç¼ºä¹ç»Ÿä¸€è§„èŒƒï¼Œä»£ç é£æ ¼ä¸ç»Ÿä¸€ã€ç±»å‹ä½¿ç”¨ä¸è§„èŒƒã€æ³¨é‡Šç¼ºå¤±ç­‰é—®é¢˜å½±å“ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ï¼Œå·¥ç¨‹åŒ–åé€šè¿‡ ESLint è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼Œé€šè¿‡ Prettier ç»Ÿä¸€ä»£ç æ ¼å¼ï¼Œé€šè¿‡ TypeScript åœ¨ç¼–è¯‘æœŸè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä»è€Œæå‡ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œæ•ˆç‡ã€‚</p>
<h2 data-id="heading-1">å‰ç«¯å·¥ç¨‹åŒ–ä¸æ‰“åŒ…å·¥å…·</h2>
<h3 data-id="heading-2">æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒä½œç”¨</h3>
<p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–çš„å·¥å…·é“¾ä¸­ï¼Œæ‰“åŒ…å·¥å…·æ‰¿æ‹…ç€æ ¸å¿ƒçš„æ„å»ºèŒè´£ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬æ¨¡å—ä¾èµ–è§£æã€ä»£ç è½¬æ¢ã€èµ„æºä¼˜åŒ–ä»¥åŠå¼€å‘ä½“éªŒæå‡ã€‚</p>
<h4 data-id="heading-3">æ¨¡å—ä¾èµ–è§£æ</h4>
<p>é¡¹ç›®å¼€å‘ä¸­ä¼šä½¿ç”¨å¤§é‡çš„ <code>import</code> å’Œ <code>require</code> è¯­å¥æ¥ç»„ç»‡ä»£ç ï¼Œæ‰“åŒ…å·¥å…·ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œé€’å½’åˆ†ææ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œæ„å»ºå®Œæ•´çš„ä¾èµ–å›¾ï¼Œæœ€ç»ˆå°†åˆ†æ•£çš„æ¨¡å—æ–‡ä»¶åˆå¹¶æˆæµè§ˆå™¨å¯ä»¥ç›´æ¥åŠ è½½çš„ JavaScriptã€CSS ç­‰èµ„æºæ–‡ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹è§£å†³äº†ä¼ ç»Ÿå¼€å‘ä¸­éœ€è¦æ‰‹åŠ¨ç»´æŠ¤è„šæœ¬åŠ è½½é¡ºåºçš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-4">ä»£ç è½¬æ¢ä¸é¢„å¤„ç†</h4>
<p>ç°ä»£å‰ç«¯å¼€å‘ä¸­å¹¿æ³›ä½¿ç”¨çš„ TypeScriptã€JSXã€Vue å•æ–‡ä»¶ç»„ä»¶ã€Less/SCSS ç­‰è¯­æ³•å’Œæ ¼å¼ï¼Œæµè§ˆå™¨æœ¬èº«å¹¶ä¸æ”¯æŒã€‚æ‰“åŒ…å·¥å…·é€šè¿‡é…ç½®ç›¸åº”çš„ Loader æˆ– Pluginï¼Œå°†è¿™äº›ä»£ç è½¬æ¢ä¸ºæµè§ˆå™¨èƒ½å¤Ÿç†è§£çš„ JavaScript å’Œ CSSã€‚ä¾‹å¦‚ï¼ŒBabel å¯ä»¥å°† ES6+ è¯­æ³•è½¬æ¢ä¸º ES5ï¼ŒTypeScript ç¼–è¯‘å™¨å¯ä»¥å°† TypeScript ä»£ç è½¬æ¢ä¸º JavaScriptã€‚</p>
<h4 data-id="heading-5">æ„å»ºä¼˜åŒ–</h4>
<p>æ‰“åŒ…å·¥å…·åœ¨æ„å»ºè¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨æ‰§è¡Œå¤šç§ä¼˜åŒ–æ“ä½œã€‚ä»£ç å‹ç¼©å¯ä»¥å‡å°æ–‡ä»¶ä½“ç§¯ï¼ŒTree-shaking å¯ä»¥ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ï¼Œä»£ç åˆ†å‰²å¯ä»¥å°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæŒ‰éœ€åŠ è½½çš„ä»£ç å—ï¼Œæ–‡ä»¶æŒ‡çº¹ hash å¯ä»¥å®ç°é•¿æœŸç¼“å­˜ï¼Œèµ„æºå‹ç¼©å¯ä»¥ä¼˜åŒ–å›¾ç‰‡ã€å­—ä½“ç­‰é™æ€èµ„æºã€‚è¿™äº›ä¼˜åŒ–å¦‚æœæ‰‹åŠ¨å®Œæˆï¼Œä¸ä»…å·¥ä½œé‡å¤§ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<h4 data-id="heading-6">å¼€å‘ä½“éªŒ</h4>
<p>æ‰“åŒ…å·¥å…·é€šå¸¸è¿˜æä¾›å¼€å‘æœåŠ¡å™¨åŠŸèƒ½ï¼Œæ”¯æŒ HMRï¼Œå½“ä»£ç ä¿®æ”¹åå¯ä»¥è‡ªåŠ¨æ›´æ–°é¡µé¢ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°ã€‚åŒæ—¶æä¾›æ¸…æ™°çš„é”™è¯¯æç¤ºå’Œ Source Map æ”¯æŒï¼Œæ–¹ä¾¿å¼€å‘è€…è°ƒè¯•ä»£ç ã€‚</p>
<p>ç›®å‰ä¸»æµçš„æ‰“åŒ…å·¥å…·åŒ…æ‹¬ Webpackã€Viteã€Rollupã€Rspack ç­‰ï¼Œå®ƒä»¬åœ¨è§£å†³ä¸Šè¿°é—®é¢˜çš„åŒæ—¶ï¼Œç”±äºè®¾è®¡ç†å¿µå’Œæ—¶ä»£èƒŒæ™¯çš„ä¸åŒï¼Œåœ¨å®ç°æ–¹å¼å’Œæ€§èƒ½è¡¨ç°ä¸Šå„æœ‰ç‰¹ç‚¹ã€‚</p>
<h2 data-id="heading-7">ä¸»æµæ‰“åŒ…å·¥å…·å…¨æ™¯</h2>
<h3 data-id="heading-8">Webpack</h3>
<p>Webpack æ˜¯å‰ç«¯æ‰“åŒ…å·¥å…·é¢†åŸŸçš„æˆç†Ÿæ–¹æ¡ˆï¼Œè‡ª 2012 å¹´å‘å¸ƒä»¥æ¥ï¼Œåœ¨å‰ç«¯å·¥ç¨‹åŒ–ä¸­å æ®é‡è¦åœ°ä½ã€‚å®ƒæ”¯æŒå¤šç§æ¨¡å—æ ¼å¼ï¼ŒåŒ…æ‹¬ CommonJSã€AMD å’Œ ES Modulesï¼Œèƒ½å¤Ÿå¤„ç†å„ç§ç±»å‹çš„é™æ€èµ„æºï¼Œå¦‚æ ·å¼æ–‡ä»¶ã€å›¾ç‰‡ã€å­—ä½“ç­‰ï¼Œåªè¦ç¼–å†™ç›¸åº”çš„ Loaderï¼Œå‡ ä¹å¯ä»¥å°†ä»»ä½•èµ„æºç±»å‹çº³å…¥æ‰“åŒ…æµç¨‹ã€‚Webpack çš„æ’ä»¶ç”Ÿæ€éå¸¸ä¸°å¯Œï¼Œæ¶µç›–äº† HTML æ¨¡æ¿ç”Ÿæˆã€ä½“ç§¯åˆ†æã€ä»£ç å‹ç¼©æ··æ·†ã€å›½é™…åŒ–ç­‰å„ä¸ªæ–¹é¢ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¤§é‡ç°æˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>Webpack çš„æ„å»ºæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šè¯»å–é…ç½®æ–‡ä»¶ï¼Œç¡®å®šå…¥å£æ–‡ä»¶ï¼Œé€’å½’åˆ†ææ¨¡å—ä¾èµ–å…³ç³»ï¼Œé€šè¿‡ Loader å¯¹å„ç±»èµ„æºè¿›è¡Œè½¬æ¢å¤„ç†ï¼Œå°†å¤„ç†åçš„æ¨¡å—ç»„ç»‡æˆ Chunkï¼Œæœ€ç»ˆè¾“å‡ºä¼˜åŒ–åçš„èµ„æºæ–‡ä»¶ã€‚åœ¨æ•´ä¸ªæ„å»ºè¿‡ç¨‹ä¸­ï¼ŒWebpack ä¼šè§¦å‘å„ç§ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ŒPlugin é€šè¿‡ç›‘å¬è¿™äº›é’©å­æ¥æ‰©å±•åŠŸèƒ½ï¼Œå®ç°è‡ªå®šä¹‰çš„æ„å»ºé€»è¾‘ã€‚</p>
<p>Webpack é€‚åˆåœ¨ä»¥ä¸‹åœºæ™¯ä½¿ç”¨ï¼šé¡¹ç›®è§„æ¨¡è¾ƒå¤§ã€ç»“æ„å¤æ‚ï¼Œéœ€è¦å¯¹æ‰“åŒ…è¿‡ç¨‹è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼›å·²æœ‰é¡¹ç›®åŸºäº Webpack æ„å»ºï¼Œè¿ç§»æˆæœ¬è¾ƒé«˜ï¼›éœ€è¦å¤„ç†å¤šç§ç‰¹æ®Šèµ„æºç±»å‹ï¼Œå¯¹ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€æœ‰è¾ƒå¼ºä¾èµ–ã€‚</p>
<p>Webpack çš„ä¸è¶³ä¹‹å¤„åœ¨äºï¼šé…ç½®æ–‡ä»¶è¾ƒä¸ºå¤æ‚ï¼Œå­¦ä¹ æ›²çº¿è¾ƒé™¡ï¼Œæ–°æˆå‘˜ä¸Šæ‰‹éœ€è¦ä¸€å®šæ—¶é—´ï¼›å¼€å‘ç¯å¢ƒéœ€è¦å…ˆè¿›è¡Œæ‰“åŒ…ï¼Œå†·å¯åŠ¨é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼›å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¦‚æœä¸è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ï¼Œæ„å»ºæ—¶é—´å¯èƒ½è¾ƒé•¿ã€‚</p>
<h3 data-id="heading-9">Vite</h3>
<p>Vite çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾›æé€Ÿçš„å¼€å‘ä½“éªŒï¼Œå®ç°å¼€å‘æœåŠ¡å™¨çš„å¿«é€Ÿå¯åŠ¨å’Œä»£ç ä¿®æ”¹çš„å³æ—¶åé¦ˆã€‚Vite çš„æ ¸å¿ƒæ€è·¯ä¸ Webpack ä¸åŒï¼šåœ¨å¼€å‘ç¯å¢ƒä¸­ï¼ŒVite ä¸è¿›è¡Œå…¨é‡æ‰“åŒ…ï¼Œè€Œæ˜¯å¯åŠ¨ä¸€ä¸ªè½»é‡çº§çš„å¼€å‘æœåŠ¡å™¨ï¼Œå½“æµè§ˆå™¨è¯·æ±‚æŸä¸ªæ¨¡å—æ—¶ï¼ŒVite æ‰å¯¹è¯¥æ¨¡å—è¿›è¡Œå®æ—¶ç¼–è¯‘å’Œè½¬æ¢ã€‚å¯¹äºç¬¬ä¸‰æ–¹ä¾èµ–ï¼ŒVite ä½¿ç”¨ esbuild è¿›è¡Œé¢„æ„å»ºï¼Œå°† CommonJS æˆ– UMD æ ¼å¼çš„ä¾èµ–è½¬æ¢ä¸º ESM æ ¼å¼ï¼Œé€šå¸¸ç¼“å­˜åœ¨ node_modules/.vite/deps ç›®å½•ä¸‹ï¼Œåç»­ç›´æ¥é¢„æ„å»ºç¼“å­˜çš„ç»“æœï¼Œå¤§å¹…æå‡å¼€å‘å¯åŠ¨é€Ÿåº¦ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒVite ä½¿ç”¨ Rollup è¿›è¡Œæ„å»ºï¼ˆVite 5 åŠä¹‹åç‰ˆæœ¬ä¹Ÿå¯ä»¥é€‰æ‹©åŸºäº Rust çš„ Rolldownï¼‰ï¼Œæ‰§è¡Œ Tree-shakingã€ä»£ç åˆ†å‰²ã€å‹ç¼©ç­‰ä¼˜åŒ–æ“ä½œï¼Œç”Ÿæˆç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„èµ„æºæ–‡ä»¶ã€‚</p>
<p>Vite çš„å¼€å‘ä½“éªŒä¼˜åŠ¿æ˜æ˜¾ï¼šæ–°é¡¹ç›®é…ç½®ç®€å•ï¼Œå‡ ä¹å¯ä»¥å¼€ç®±å³ç”¨ï¼›å¼€å‘æœåŠ¡å™¨å¯åŠ¨é€Ÿåº¦å¿«ï¼ŒHMR æ›´æ–°è¿…é€Ÿï¼›å¯¹ Vueã€React ç­‰ä¸»æµæ¡†æ¶æä¾›äº†è‰¯å¥½çš„å†…ç½®æ”¯æŒã€‚Vite çš„å±€é™æ€§åœ¨äºï¼šå¯¹æ—§ç‰ˆæœ¬æµè§ˆå™¨çš„æ”¯æŒéœ€è¦é¢å¤–çš„æ’ä»¶å’Œé…ç½®ï¼›å¯¹äºå·²ç»æ·±åº¦å®šåˆ¶ Webpack çš„å¤æ‚é¡¹ç›®ï¼Œè¿ç§»åˆ° Vite çš„æˆæœ¬å¯èƒ½è¾ƒé«˜ã€‚</p>
<h3 data-id="heading-10">Rspack</h3>
<p>Rspack æ˜¯ç”±å­—èŠ‚è·³åŠ¨å¼€å‘çš„åŸºäº Rust å®ç°çš„æ‰“åŒ…å·¥å…·ï¼Œäº 2023 å¹´å‘å¸ƒã€‚Rspack ä¸ Webpack ä¿æŒé«˜åº¦å…¼å®¹ï¼ŒAPI å…¼å®¹åº¦è¾¾åˆ° 95% ä»¥ä¸Šï¼Œè¿™æ„å‘³ç€å¤§å¤šæ•° Webpack é…ç½®å¯ä»¥ç›´æ¥è¿ç§»åˆ° Rspackã€‚åœ¨å®˜æ–¹åŸºå‡†æµ‹è¯•å’Œå®é™…é¡¹ç›®å®è·µä¸­ï¼ŒRspack çš„æ„å»ºé€Ÿåº¦é€šå¸¸æ¯”åŒç­‰é…ç½®çš„ Webpack å¿« 5 åˆ° 10 å€ã€‚</p>
<p>Rspack çš„æ ¸å¿ƒå®ç°ä½¿ç”¨ Rust é‡å†™äº† Webpack çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒæ—¶ä¿æŒäº† Webpack çš„é…ç½®æ–¹å¼å’Œæ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚Rspack å†…ç½®äº† SWC ç¼–è¯‘å™¨å’Œ Lightning CSSï¼Œæ— éœ€é¢å¤–é…ç½® Babel å³å¯å¤„ç† TypeScriptã€JSX ç­‰è¯­æ³•ï¼Œåœ¨æ€§èƒ½ä¸Šç›¸æ¯”ä¼ ç»Ÿæ–¹æ¡ˆæœ‰æ˜¾è‘—æå‡ã€‚</p>
<p>Rspack ä¸ Webpack é«˜åº¦å…¼å®¹ï¼Œè¿ç§»æˆæœ¬è¾ƒä½ï¼Œç°æœ‰ Webpack é¡¹ç›®å¯ä»¥ç›¸å¯¹å¹³æ»‘åœ°åˆ‡æ¢åˆ° Rspackï¼›æ„å»ºé€Ÿåº¦å¿«ï¼Œä¸­å¤§å‹é¡¹ç›®çš„å†·å¯åŠ¨æ—¶é—´é€šå¸¸åœ¨ 1 åˆ° 3 ç§’ä¹‹é—´ï¼›æ”¯æŒå¤§éƒ¨åˆ† Webpack Loader å’Œ Pluginï¼Œç”Ÿæ€å…¼å®¹æ€§å¥½ï¼›å†…ç½® SWC ç¼–è¯‘å™¨ï¼Œæ— éœ€é¢å¤–é…ç½® Babelï¼›æä¾›æ–‡ä»¶ç³»ç»Ÿç¼“å­˜æœºåˆ¶ï¼ŒäºŒæ¬¡æ„å»ºé€Ÿåº¦æ›´å¿«ã€‚</p>
<p>æµ‹è¯•é¡¹ç›®æ‰“åŒ…é€Ÿåº¦å¯¹æ¯”ç»“æœï¼šåŒä¸€å¥—é¡¹ç›®ä»£ç ï¼ˆå¤§æ¦‚ 400 ä¸ªå°æ–‡ä»¶ï¼‰ + é…ç½®ï¼›webpack é‡‡ç”¨äº† babelï¼Œrspack é‡‡ç”¨äº†å†…ç½®çš„ SWC(ä»…æ˜¯æµ‹è¯•ä»£ç æµ‹è¯•ï¼Œä»…åšå‚è€ƒ) <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed69c9392fee41cca3b90c4a655f148d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456184&amp;x-signature=EykjQ%2FiWRyq3VuI12OthQXlZCCM%3D" alt="compare" loading="lazy"/></p>
<h2 data-id="heading-11">æ‰“åŒ…åŸç†æµ…æ</h2>
<h3 data-id="heading-12">Webpack æ‰“åŒ…åŸç†é€Ÿé€š</h3>
<h4 data-id="heading-13">æ•´ä½“æ¶æ„</h4>
<p>Webpack çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œå®ƒå°†é¡¹ç›®ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆJavaScriptã€CSSã€å›¾ç‰‡ç­‰ï¼‰è§†ä¸ºæ¨¡å—ï¼Œé€šè¿‡æ„å»ºä¾èµ–å…³ç³»å›¾å°†å®ƒä»¬ç»„ç»‡èµ·æ¥ã€‚Webpack çš„æ¶æ„åŸºäºå‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šCompiler æ˜¯ç¼–è¯‘å™¨å®ä¾‹ï¼Œè´Ÿè´£æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼›Compilation ä»£è¡¨å•æ¬¡ç¼–è¯‘è¿‡ç¨‹ï¼ŒåŒ…å«æ¨¡å—ã€chunkã€èµ„æºç­‰ç¼–è¯‘ä¿¡æ¯ï¼›Module æ˜¯æ¨¡å—ï¼Œå¯ä»¥æ˜¯ JavaScriptã€CSSã€å›¾ç‰‡ç­‰ä»»ä½•ç±»å‹çš„æ–‡ä»¶ï¼›Chunk æ˜¯ä»£ç å—ï¼Œç”±å¤šä¸ªæ¨¡å—æŒ‰ç…§ä¸€å®šè§„åˆ™ç»„ç»‡è€Œæˆï¼›Asset æ˜¯èµ„æºæ–‡ä»¶ï¼Œå³æœ€ç»ˆè¾“å‡ºçš„æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-14">æ„å»ºæµç¨‹ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</h4>
<p>Webpack çš„æ„å»ºæµç¨‹å¯ä»¥åˆ†ä¸ºåˆå§‹åŒ–ã€ç¼–è¯‘ã€è¾“å‡ºå’Œå®Œæˆå››ä¸ªä¸»è¦é˜¶æ®µã€‚</p>
<p>åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒWebpack è¯»å–é…ç½®æ–‡ä»¶ï¼ˆwebpack.config.jsï¼‰ï¼Œåˆ›å»º Compiler å®ä¾‹ï¼Œç„¶åæ³¨å†Œæ‰€æœ‰é…ç½®çš„æ’ä»¶ã€‚æ’ä»¶é€šè¿‡ <code>apply</code> æ–¹æ³•æ³¨å†Œåˆ° Compiler çš„é’©å­ä¸Šï¼Œä»¥ä¾¿åœ¨æ„å»ºçš„ä¸åŒé˜¶æ®µæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">compiler</span>Â =Â webpack(config)<span class="hljs-comment">;</span>
plugins.forEach((plugin)Â =&gt;Â plugin.apply(compiler))<span class="hljs-comment">;</span>
</code></pre>
<p>ç¼–è¯‘é˜¶æ®µæ˜¯ Webpack çš„æ ¸å¿ƒå¤„ç†è¿‡ç¨‹ã€‚é¦–å…ˆç¡®å®šå…¥å£æ–‡ä»¶ï¼Œä»é…ç½®çš„ entry å¼€å§‹ï¼Œæ‰¾åˆ°æ‰€æœ‰å…¥å£æ–‡ä»¶ã€‚ç„¶åä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œé€’å½’è§£ææ‰€æœ‰ä¾èµ–å…³ç³»ï¼Œä½¿ç”¨ AST è§£æ import å’Œ require è¯­å¥ï¼Œæ„å»ºå®Œæ•´çš„æ¨¡å—ä¾èµ–å›¾ã€‚æ¥ä¸‹æ¥å¯¹æ¯ä¸ªæ¨¡å—æ‰§è¡Œå¯¹åº”çš„ Loader è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ä½¿ç”¨ babel-loader å¤„ç† JavaScript æ–‡ä»¶ï¼Œä½¿ç”¨ css-loader å’Œ style-loader å¤„ç† CSS æ–‡ä»¶ã€‚æœ€åæ ¹æ®å…¥å£å’Œä»£ç åˆ†å‰²è§„åˆ™ï¼Œå°†æ¨¡å—ç»„ç»‡æˆ Chunkã€‚</p>
<pre><code class="hljs language-css" lang="css">entry:Â {
Â Â <span class="hljs-selector-tag">main</span>:Â <span class="hljs-string">'./src/index.js'</span>,
Â Â vendor:Â <span class="hljs-string">'./src/vendor.js'</span>
}

module:Â {
Â Â rules:Â [
Â Â Â Â {Â test:Â /.js$/,Â use:Â <span class="hljs-string">'babel-loader'</span>Â },
Â Â Â Â {Â test:Â /.css$/,Â use:Â [<span class="hljs-string">'style-loader'</span>,Â <span class="hljs-string">'css-loader'</span>]Â }
Â Â ]
}
</code></pre>
<p>åœ¨è¾“å‡ºé˜¶æ®µï¼ŒWebpack é¦–å…ˆç”Ÿæˆè¿è¡Œæ—¶ä»£ç ï¼Œæ³¨å…¥æ¨¡å—åŠ è½½çš„è¿è¡Œæ—¶å‡½æ•°ï¼ˆå¦‚ <code>__webpack_require__</code>ï¼‰ã€‚ç„¶åæ‰§è¡Œä»£ç åˆ†å‰²å’Œä¼˜åŒ–ï¼Œé€šè¿‡ SplitChunksPlugin æ ¹æ®é…ç½®è§„åˆ™å°†ä»£ç åˆ†å‰²æˆå¤šä¸ª chunkï¼Œä¾‹å¦‚å°† node_modules ä¸­çš„ç¬¬ä¸‰æ–¹åº“å•ç‹¬æ‰“åŒ…ã€‚æœ€åå°† Chunk è½¬æ¢ä¸ºæœ€ç»ˆçš„ JavaScript æ–‡ä»¶ï¼Œæ‰§è¡Œå‹ç¼©ã€æ··æ·†ç­‰ä¼˜åŒ–æ“ä½œã€‚</p>
<pre><code class="hljs language-css" lang="css">optimization:Â {
Â Â splitChunks:Â {
Â Â Â Â chunks:Â <span class="hljs-string">'all'</span>,
Â Â Â Â cacheGroups:Â {
Â Â Â Â Â Â vendor:Â {
Â Â Â Â Â Â Â Â test:Â /[\/]node_modules[\/]/,
Â Â Â Â Â Â Â Â name:Â <span class="hljs-string">'vendors'</span>,
Â Â Â Â Â Â Â Â priority:Â <span class="hljs-number">10</span>
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }
}
</code></pre>
<p>æœ€åï¼Œæ ¹æ® output é…ç½®å°†å¤„ç†åçš„æ–‡ä»¶å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œç”Ÿæˆæœ€ç»ˆçš„æ„å»ºäº§ç‰©ã€‚</p>
<pre><code class="hljs language-css" lang="css">output:Â {
Â Â path:Â path.<span class="hljs-built_in">resolve</span>(__dirname,Â <span class="hljs-string">'dist'</span>),
Â Â filename:Â <span class="hljs-string">'[name].[contenthash].js'</span>
}
</code></pre>
<h4 data-id="heading-15">å¼€å‘ç¯å¢ƒï¼ˆwebpack-dev-serverï¼‰</h4>
<p>å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒçš„ä¸»è¦åŒºåˆ«åœ¨äºï¼šå¼€å‘ç¯å¢ƒé‡‡ç”¨å†…å­˜ç¼–è¯‘ï¼Œæ–‡ä»¶ä¸å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·å¯ä»¥æå‡ç¼–è¯‘é€Ÿåº¦ï¼›æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰ï¼Œåªæ›´æ–°å˜æ›´çš„æ¨¡å—ï¼Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼›ç”Ÿæˆ Source Map ä¾¿äºè°ƒè¯•ï¼Œå¯ä»¥å®šä½åˆ°åŸå§‹æºç ä½ç½®ï¼›æ–‡ä»¶å˜æ›´åèƒ½å¤Ÿå¿«é€Ÿé‡æ–°ç¼–è¯‘ï¼Œæä¾›å³æ—¶çš„åé¦ˆã€‚</p>
<p>HMR çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼šå½“å¯åŠ¨ webpack-dev-server æ—¶ï¼Œä¼šåœ¨é¡µé¢ä¸­æ³¨å…¥ HMR å®¢æˆ·ç«¯è„šæœ¬ï¼Œç„¶åå»ºç«‹ WebSocket è¿æ¥ï¼Œå®ç°å®¢æˆ·ç«¯ä¸å¼€å‘æœåŠ¡å™¨ä¹‹é—´çš„åŒå‘é€šä¿¡ã€‚å½“å¼€å‘è€…ä¿®æ”¹æºç æ–‡ä»¶æ—¶ï¼ŒWebpack ä¼šç›‘å¬åˆ°æ–‡ä»¶å˜æ›´äº‹ä»¶ï¼Œç„¶åé‡æ–°ç¼–è¯‘å—å½±å“çš„æ¨¡å—ï¼Œç”Ÿæˆæ–°çš„ hash å€¼å’Œçƒ­æ›´æ–°æ¸…å•æ–‡ä»¶ï¼ˆå¦‚ <code>main.[hash].hot-update.json</code>ï¼‰ã€‚æœåŠ¡å™¨é€šè¿‡ WebSocket å°†æ–°çš„ hash å€¼é€šçŸ¥ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°é€šçŸ¥åï¼Œä¼šå¯¹æ¯”æœ¬åœ°çš„ lastHash å’ŒæœåŠ¡ç«¯è¿”å›çš„ hash å€¼ã€‚å¦‚æœæ£€æµ‹åˆ°æœ‰æ›´æ–°ï¼Œå®¢æˆ·ç«¯ä¼šå‘èµ·è¯·æ±‚è·å–çƒ­æ›´æ–°æ¸…å•æ–‡ä»¶å’Œæ›´æ–°åçš„æ¨¡å—ä»£ç ï¼ˆ<code>hot-update.json</code> å’Œ <code>hot-update.js</code>ï¼‰ï¼ŒHMR runtime ä¼šåŠ è½½å¹¶æ‰§è¡Œæ›´æ–°åçš„æ¨¡å—ï¼Œç„¶åè°ƒç”¨ <code>module.hot.accept</code> ç­‰å›è°ƒå‡½æ•°ï¼Œåªæ›¿æ¢å‘ç”Ÿå˜æ›´çš„æ¨¡å—ï¼Œå°½é‡ä¿æŒé¡µé¢çŠ¶æ€ä¸å˜ã€‚å¦‚æœé‡åˆ°å¼‚å¸¸æƒ…å†µæˆ–æ¨¡å—ä¸æ”¯æŒ HMRï¼Œç³»ç»Ÿä¼šå›é€€åˆ°æ•´é¡µåˆ·æ–°çš„æ–¹å¼ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea23b12f3729442ba0b49f9b3d1235b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456184&amp;x-signature=5rxZ0uaDtinwO5lomVdtEuVN%2FRI%3D" alt="test" loading="lazy"/></p>
<p>test</p>
<h4 data-id="heading-16">æ¨¡å—è§£ææœºåˆ¶</h4>
<p>Webpack çš„æ¨¡å—è§£ææœºåˆ¶åŒ…æ‹¬è·¯å¾„è§£æã€åˆ«åå¤„ç†å’Œ node_modules æŸ¥æ‰¾ã€‚å½“é‡åˆ°ç›¸å¯¹è·¯å¾„å¯¼å…¥æ—¶ï¼ŒWebpack ä¼šæ ¹æ® <code>resolve.extensions</code> é…ç½®å°è¯•ä¸åŒçš„æ–‡ä»¶æ‰©å±•åï¼Œä¾‹å¦‚ <code>./utils</code> ä¼šä¾æ¬¡å°è¯• <code>./utils.js</code>ã€<code>./utils.json</code>ã€<code>./utils/index.js</code> ç­‰ã€‚å¯¹äºä½¿ç”¨åˆ«åçš„å¯¼å…¥ï¼ŒWebpack æ ¹æ® <code>resolve.alias</code> é…ç½®å°†åˆ«åè§£æä¸ºå®é™…è·¯å¾„ï¼Œä¾‹å¦‚ <code>@/components/Component</code> ä¼šè¢«è§£æä¸ºé…ç½®çš„å®é™…è·¯å¾„ã€‚å¯¹äºç¬¬ä¸‰æ–¹æ¨¡å—ï¼ŒWebpack ä¼šä» node_modules ç›®å½•ä¸­æŸ¥æ‰¾å¯¹åº”çš„åŒ…ã€‚</p>
<h3 data-id="heading-17">Vite æ‰“åŒ…åŸç†é€Ÿé€š</h3>
<h4 data-id="heading-18">æ•´ä½“æ¶æ„</h4>
<p>Vite é‡‡ç”¨åŒæ¨¡å¼æ¶æ„ï¼Œåœ¨å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸­é‡‡ç”¨ä¸åŒçš„ç­–ç•¥ã€‚å¼€å‘ç¯å¢ƒåŸºäºæµè§ˆå™¨åŸç”Ÿ ESMï¼Œæ— éœ€è¿›è¡Œæ‰“åŒ…æ“ä½œï¼Œè€Œæ˜¯é€šè¿‡ HTTP æœåŠ¡å™¨æŒ‰éœ€ç¼–è¯‘æ¨¡å—ã€‚ç”Ÿäº§ç¯å¢ƒåˆ™å›å½’ä¼ ç»Ÿæ‰“åŒ…æ€è·¯ï¼Œä½¿ç”¨ Rollup è¿›è¡Œä»£ç æ‰“åŒ…å’Œä¼˜åŒ–ã€‚è¿™ç§è®¾è®¡ä½¿å¾—å¼€å‘ä½“éªŒå’Œç”Ÿäº§æ„å»ºå„å–æ‰€é•¿ï¼Œæ—¢ä¿è¯äº†å¼€å‘æ—¶çš„æé€Ÿå¯åŠ¨ï¼Œåˆç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-19">å¼€å‘ç¯å¢ƒåŸç†</h4>
<p>Vite å¼€å‘ç¯å¢ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ No Bundleï¼Œå³ä¸è¿›è¡Œé¢„å…ˆæ‰“åŒ…ã€‚å½“æ‰§è¡Œ <code>vite dev</code> å‘½ä»¤æ—¶ï¼ŒVite é¦–å…ˆå¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œé»˜è®¤ç›‘å¬ 5173 ç«¯å£ã€‚è¿™ä¸ªæœåŠ¡å™¨ä¼šæ‹¦æˆªæµè§ˆå™¨çš„æ¨¡å—è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚çš„æ¨¡å—ç±»å‹è¿›è¡Œå®æ—¶ç¼–è¯‘å’Œè¿”å›ã€‚æ•´ä¸ªè¿‡ç¨‹æ˜¯åŠ¨æ€çš„ï¼Œåªæœ‰åœ¨æµè§ˆå™¨çœŸæ­£éœ€è¦æŸä¸ªæ¨¡å—æ—¶ï¼ŒVite æ‰ä¼šå¯¹å…¶è¿›è¡Œç¼–è¯‘å¤„ç†ã€‚</p>
<p>åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼ŒVite ä¼šæ‰§è¡Œä¾èµ–é¢„æ„å»ºæµç¨‹ã€‚å®ƒä¼šæ‰«æé¡¹ç›®çš„ package.json æ–‡ä»¶ï¼Œè¯†åˆ«å‡ºæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œç„¶åä½¿ç”¨ esbuild å¯¹è¿™äº›ä¾èµ–è¿›è¡Œé¢„æ„å»ºå¤„ç†ã€‚é¢„æ„å»ºçš„ç»“æœä¼šè¢«ç¼“å­˜åˆ° <code>node_modules/.vite/deps</code> ç›®å½•ä¸­ï¼Œåç»­å¯åŠ¨æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œå¤§å¹…æå‡å¯åŠ¨é€Ÿåº¦ã€‚é¢„æ„å»ºçš„ä¸»è¦ç›®çš„åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼šé¦–å…ˆæ˜¯å°† CommonJS æˆ– UMD æ ¼å¼çš„ä¾èµ–è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„ ESM æ ¼å¼ï¼Œå› ä¸ºæµè§ˆå™¨åŸç”Ÿä¸æ”¯æŒ CommonJSï¼›å…¶æ¬¡æ˜¯åˆå¹¶å¤šä¸ªå°æ–‡ä»¶ï¼Œå‡å°‘ HTTP è¯·æ±‚æ•°é‡ï¼Œä¾‹å¦‚ lodash è¿™æ ·çš„åº“åŒ…å«æ•°ç™¾ä¸ªæ–‡ä»¶ï¼Œé¢„æ„å»ºå¯ä»¥å°†å…¶åˆå¹¶ä¸ºå•ä¸ªæ–‡ä»¶ï¼›æœ€åæ˜¯ä¼˜åŒ–ä¾èµ–ç»“æ„ï¼Œæ‰å¹³åŒ–æŸäº›åŒ…å†…éƒ¨çš„å¤æ‚è·¯å¾„å¼•ç”¨ã€‚</p>
<p>å½“æµè§ˆå™¨å‘èµ·æ¨¡å—è¯·æ±‚æ—¶ï¼Œä¾‹å¦‚è¯·æ±‚ <code>http://localhost:5173/src/main.js</code>ï¼ŒVite æœåŠ¡å™¨ä¼šé¦–å…ˆæ£€æŸ¥è¯¥æ¨¡å—æ˜¯å¦æ˜¯å·²ç»é¢„æ„å»ºçš„ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚å¦‚æœæ˜¯é¢„æ„å»ºçš„ä¾èµ–ï¼Œç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœã€‚å¦‚æœæ˜¯é¡¹ç›®æºç æ–‡ä»¶ï¼ŒVite ä¼šè¿›è¡Œå®æ—¶ç¼–è¯‘ï¼Œå°†æ–‡ä»¶è½¬æ¢ä¸ºæµè§ˆå™¨å¯æ‰§è¡Œçš„ ESM ä»£ç å¹¶è¿”å›ã€‚ä»¥ Vue å•æ–‡ä»¶ç»„ä»¶ä¸ºä¾‹ï¼Œå½“æµè§ˆå™¨è¯·æ±‚ <code>.vue</code> æ–‡ä»¶æ—¶ï¼ŒVite ä¼šå®æ—¶ç¼–è¯‘ Vue SFCï¼Œå°†å…¶è½¬æ¢ä¸º JavaScript ä»£ç è¿”å›ç»™æµè§ˆå™¨ã€‚</p>
<p>Vite çš„çƒ­æ¨¡å—æ›¿æ¢æœºåˆ¶åŒæ ·åŸºäº ESM å®ç°ã€‚å½“æ–‡ä»¶å‘ç”Ÿå˜æ›´æ—¶ï¼ŒVite èƒ½å¤Ÿç²¾ç¡®åœ°çŸ¥é“å“ªäº›æ¨¡å—éœ€è¦æ›´æ–°ï¼Œå› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½æ˜¯ç‹¬ç«‹çš„ ESM æ¨¡å—ã€‚Vite é€šè¿‡ WebSocket è¿æ¥é€šçŸ¥å®¢æˆ·ç«¯å“ªäº›æ¨¡å—å‘ç”Ÿäº†å˜åŒ–ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°é€šçŸ¥åï¼Œå¯ä»¥ç›´æ¥æ›¿æ¢å¯¹åº”çš„ ESM æ¨¡å—ï¼Œåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿçš„æ¨¡å—ç³»ç»Ÿèƒ½åŠ›ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚è¿™ç§åŸºäº ESM çš„ HMR æœºåˆ¶ç›¸æ¯”ä¼ ç»Ÿçš„æ‰“åŒ…å·¥å…·æ›´åŠ ç²¾ç¡®å’Œé«˜æ•ˆã€‚</p>
<h4 data-id="heading-20">ç”Ÿäº§ç¯å¢ƒåŸç†</h4>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒVite ä¼šæ‰§è¡Œå®Œæ•´çš„æ‰“åŒ…æµç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVite ä½¿ç”¨ Rollup ä½œä¸ºæ‰“åŒ…æ ¸å¿ƒå¼•æ“ã€‚åœ¨ Vite 5 åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥åœ¨éƒ¨åˆ†é…ç½®æˆ–å®éªŒç‰¹æ€§ä¸‹åˆ‡æ¢ä¸º Rolldownï¼Œä½†æ•´ä½“æ„å»ºé˜¶æ®µå’Œæ€è·¯ä¸ Rollup åŸºæœ¬ä¸€è‡´ã€‚æ„å»ºæµç¨‹é¦–å…ˆä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œæ„å»ºå®Œæ•´çš„ä¾èµ–å›¾ï¼Œåˆ†ææ‰€æœ‰æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®å®šéœ€è¦æ‰“åŒ…çš„æ¨¡å—èŒƒå›´ã€‚éšåä½¿ç”¨ esbuild å¯¹ä¾èµ–è¿›è¡Œé¢„æ„å»ºï¼Œè¿™ä¸€æ­¥åœ¨å®˜æ–¹åŸºå‡†æµ‹è¯•ä¸­é€šå¸¸èƒ½æ¯”ä¼ ç»Ÿæ–¹å¼å¿«ä¸€ä¸ªæ•°é‡çº§ï¼Œå…·ä½“æå‡å¹…åº¦åœ¨ 10 åˆ° 100 å€ä¹‹é—´ï¼Œå®é™…æ•ˆæœå–å†³äºé¡¹ç›®è§„æ¨¡å’Œé…ç½®ã€‚é¢„æ„å»ºå®Œæˆåï¼ŒRollup ä¼šæ‰§è¡Œä»£ç åˆ†æã€è½¬æ¢ã€ä¼˜åŒ–å’Œæ‰“åŒ…ç­‰æ­¥éª¤ï¼Œæœ€ç»ˆè¾“å‡ºä¼˜åŒ–åçš„ç”Ÿäº§ä»£ç ã€‚</p>
<h4 data-id="heading-21">é¢„æ„å»º</h4>
<p>é¢„æ„å»ºæ˜¯ Vite æ¶æ„ä¸­çš„å…³é”®ç¯èŠ‚ï¼Œå…¶å¿…è¦æ€§ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ã€‚é¦–å…ˆæ˜¯å…¼å®¹æ€§é—®é¢˜ï¼Œè®¸å¤š npm åŒ…ä»ç„¶é‡‡ç”¨ CommonJS æ ¼å¼å‘å¸ƒï¼Œè€Œæµè§ˆå™¨åŸç”Ÿä¸æ”¯æŒ CommonJS æ¨¡å—ç³»ç»Ÿï¼Œå› æ­¤éœ€è¦å°†è¿™äº›ä¾èµ–è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„ ESM æ ¼å¼ã€‚å…¶æ¬¡æ˜¯æ€§èƒ½é—®é¢˜ï¼ŒæŸäº›å¤§å‹åº“å¦‚ lodash åŒ…å«æ•°ç™¾ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ä¼šäº§ç”Ÿå¤§é‡çš„ HTTP è¯·æ±‚ï¼Œä¸¥é‡å½±å“åŠ è½½æ€§èƒ½ï¼Œé¢„æ„å»ºå¯ä»¥å°†è¿™äº›æ–‡ä»¶åˆå¹¶ä¸ºå•ä¸ªæ–‡ä»¶ï¼Œå¤§å¹…å‡å°‘è¯·æ±‚æ•°é‡ã€‚æœ€åæ˜¯è·¯å¾„é—®é¢˜ï¼ŒæŸäº›åŒ…å†…éƒ¨ä½¿ç”¨å¤æ‚çš„ç›¸å¯¹è·¯å¾„å¼•ç”¨ï¼Œé¢„æ„å»ºå¯ä»¥æ‰å¹³åŒ–è¿™ç§ä¾èµ–ç»“æ„ï¼Œç®€åŒ–æ¨¡å—è§£æè¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-22">å¼€å‘ vs ç”Ÿäº§å¯¹æ¯”</h4>
<p>å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒåœ¨å¤šä¸ªç»´åº¦ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚åœ¨æ‰“åŒ…æ–¹å¼ä¸Šï¼Œå¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸æ‰“åŒ…ã€æŒ‰éœ€ç¼–è¯‘çš„ç­–ç•¥ï¼Œè€Œç”Ÿäº§ç¯å¢ƒåˆ™æ‰§è¡Œå®Œæ•´çš„ Rollup æ‰“åŒ…æµç¨‹ã€‚å¯åŠ¨é€Ÿåº¦æ–¹é¢ï¼Œå¼€å‘ç¯å¢ƒé€šå¸¸èƒ½åœ¨ 1 ç§’å†…å®Œæˆå¯åŠ¨ï¼Œè€Œç”Ÿäº§ç¯å¢ƒçš„æ„å»ºæ—¶é—´é€šå¸¸åœ¨ 5 åˆ° 10 ç§’ä¹‹é—´ã€‚ç¼–è¯‘æ–¹å¼ä¸Šï¼Œå¼€å‘ç¯å¢ƒæ˜¯å®æ—¶ç¼–è¯‘ï¼Œåªæœ‰è¢«è¯·æ±‚çš„æ¨¡å—æ‰ä¼šè¢«ç¼–è¯‘ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™æ˜¯å…¨é‡ç¼–è¯‘ï¼Œæ‰€æœ‰æ¨¡å—éƒ½ä¼šè¢«å¤„ç†ã€‚è¾“å‡ºæ ¼å¼ä¸Šï¼Œå¼€å‘ç¯å¢ƒç»Ÿä¸€è¾“å‡º ESM æ ¼å¼ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™å¯ä»¥æ ¹æ®é…ç½®è¾“å‡ºå¤šç§æ ¼å¼ã€‚ä»£ç ä¼˜åŒ–æ–¹é¢ï¼Œå¼€å‘ç¯å¢ƒä¸è¿›è¡Œä»£ç ä¼˜åŒ–ä»¥ä¿æŒç¼–è¯‘é€Ÿåº¦ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™ä¼šæ‰§è¡Œå‹ç¼©ã€æ··æ·†ã€tree-shaking ç­‰ä¼˜åŒ–æ“ä½œã€‚Source Map çš„ç”Ÿæˆç­–ç•¥ä¹Ÿä¸åŒï¼Œå¼€å‘ç¯å¢ƒé‡‡ç”¨å¿«é€Ÿç”Ÿæˆç­–ç•¥ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™ç”Ÿæˆå®Œæ•´çš„ Source Map ä»¥ä¾¿è°ƒè¯•ã€‚</p>
<h3 data-id="heading-23">æ ¸å¿ƒå·®å¼‚å¯¹æ¯”</h3>
<h4 data-id="heading-24">æ€§èƒ½å·®å¼‚</h4>
<p>è¿™é‡Œå¯ä»¥å…ˆæŒ‰ä¸€ä¸ªä¸­ç­‰åä¸Šçš„å•é¡µåº”ç”¨æ¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¤§æ¦‚çš„æ—¶é—´é‡çº§ä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼ˆåªæ˜¯ç»éªŒå€¼ï¼Œä¸æ˜¯ä¸¥è°¨ benchmarkï¼Œå…·ä½“è¿˜æ˜¯è¦çœ‹ä½ é¡¹ç›®çš„ä½“é‡å’Œæœºå™¨æ€§èƒ½ï¼‰ï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>Webpack</th><th>Vite</th><th>åŸå› </th></tr></thead><tbody><tr><td><strong>å†·å¯åŠ¨</strong></td><td>10 ï½ 30s</td><td>&lt; 1s</td><td>Vite ä¸æ‰“åŒ…ï¼ŒæŒ‰éœ€ç¼–è¯‘</td></tr><tr><td><strong>HMR</strong></td><td>1 ï½ 3s</td><td>&lt; 100ms</td><td>Vite åŸºäº ESMï¼Œæ›´ç²¾ç¡®</td></tr><tr><td><strong>ç”Ÿäº§æ„å»º</strong></td><td>30 ï½ 60s</td><td>10 ï½ 20s</td><td>Vite ä½¿ç”¨ esbuild é¢„æ„å»º</td></tr></tbody></table>
<h2 data-id="heading-25">æ·±åº¦å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-26">æ€§èƒ½å¯¹æ¯”</h3>
<p>ä»å¼€å‘è€…æœ€å…³å¿ƒçš„å‡ ä¸ªç»´åº¦æ¥çœ‹ï¼Œä¸‰ä¸ªå·¥å…·åœ¨æ€§èƒ½è¡¨ç°ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä»¥ä¸‹å¯¹æ¯”æ›´å¤šæ˜¯åŸºäºæ—¥å¸¸é¡¹ç›®å®è·µçš„ç»éªŒæ€»ç»“ï¼Œè€Œéä¸¥è°¨çš„åŸºå‡†æµ‹è¯•ï¼Œå…·ä½“è¡¨ç°ä¼šå› é¡¹ç›®è§„æ¨¡å’Œæœºå™¨æ€§èƒ½è€Œæœ‰æ‰€ä¸åŒã€‚</p>
<p>åœ¨å¼€å‘å¯åŠ¨é€Ÿåº¦æ–¹é¢ï¼ŒWebpack åœ¨å¤§å‹é¡¹ç›®ä¸­é¦–æ¬¡å¯åŠ¨æ—¶éœ€è¦è¿›è¡Œå®Œæ•´çš„æ‰“åŒ…è¿‡ç¨‹ï¼Œå¼€å‘è€…èƒ½å¤Ÿæ˜æ˜¾æ„Ÿå—åˆ°å†·å¯åŠ¨çš„ç­‰å¾…æ—¶é—´ï¼Œåå‡ ç§’ç”šè‡³å‡ åç§’çš„æƒ…å†µå¾ˆå¸¸è§ã€‚Vite åˆ™åŸºæœ¬å®ç°ç§’å¼€ï¼Œå¯åŠ¨ç“¶é¢ˆæ›´å¤šåœ¨äºæµè§ˆå™¨æ‰“å¼€é€Ÿåº¦ï¼Œè€Œéæ‰“åŒ…è¿‡ç¨‹æœ¬èº«ã€‚Rspack ç›¸æ¯” Webpack æœ‰æ˜æ˜¾æå‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šå…¥å£å’Œå¤§ä½“ç§¯é¡¹ç›®ä¸­ï¼Œå¯åŠ¨é€Ÿåº¦çš„æå‡æ›´ä¸ºæ˜¾è‘—ã€‚</p>
<p>åœ¨çƒ­æ¨¡å—æ›¿æ¢çš„åé¦ˆé€Ÿåº¦ä¸Šï¼ŒWebpack åœ¨å¤„ç†ç®€å•æ ·å¼ä¿®æ”¹æ—¶è¡¨ç°å°šå¯ï¼Œä½†åœ¨è¿›è¡Œå¤§å‹ç»„ä»¶æ”¹åŠ¨æ—¶ï¼Œé€šå¸¸éœ€è¦ç­‰å¾… 1 åˆ° 2 ç§’æ‰èƒ½çœ‹åˆ°æ›´æ–°æ•ˆæœã€‚Vite åœ¨å¤§éƒ¨åˆ†åœºæ™¯ä¸‹èƒ½å¤Ÿå®ç°ä¿å­˜å³åˆ·æ–°ï¼Œå‡ ä¹æ„Ÿè§‰ä¸åˆ°å»¶è¿Ÿã€‚Rspack é…åˆå¼€å‘æœåŠ¡å™¨ä½¿ç”¨æ—¶ï¼ŒHMR ä½“éªŒä¹Ÿæ¯”ä¼ ç»Ÿ Webpack æ›´åŠ æµç•…ã€‚</p>
<p>åœ¨ç”Ÿäº§æ„å»ºæ—¶é—´æ–¹é¢ï¼ŒWebpack åœ¨é…ç½®åˆç†çš„æƒ…å†µä¸‹ï¼Œä¸­å‹é¡¹ç›®çš„æ„å»ºæ—¶é—´é€šå¸¸åœ¨å‡ åç§’ï¼Œå¯¹äºè¶…å¤§é¡¹ç›®åˆ™éœ€è¦é‡ç‚¹è¿›è¡Œä»£ç æ‹†åˆ†å’Œç¼“å­˜ä¼˜åŒ–ã€‚Vite ä½¿ç”¨ Rollup è¿›è¡Œç”Ÿäº§æ„å»ºæ—¶ï¼Œåœ¨ä¸­å°å‹é¡¹ç›®ä¸Šé€šå¸¸ä¼˜äº Webpackï¼Œéšç€é¡¹ç›®è§„æ¨¡å¢å¤§ï¼Œè¿™ç§ä¼˜åŠ¿ä¼šæ›´åŠ æ˜æ˜¾ã€‚Rspack åœ¨å®˜æ–¹å¯¹æ¯”å’Œç¤¾åŒºå®è·µä¸­ï¼Œæ™®éæ¯”ç­‰ä»·é…ç½®çš„ Webpack å¿«ä¸€æˆªï¼Œç‰¹åˆ«é€‚åˆé‚£äº›å¸Œæœ›ä¿æŒ Webpack é…ç½®æ–¹å¼ä½†éœ€è¦æå‡æ„å»ºé€Ÿåº¦çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-27">é…ç½®å¤æ‚åº¦</h3>
<p>Webpack çš„é…ç½®ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦å¼€å‘è€…ç†è§£ä¸€æ•´å¥—æ¦‚å¿µä½“ç³»ï¼ŒåŒ…æ‹¬å…¥å£é…ç½® entryã€è¾“å‡ºé…ç½® outputã€æ¨¡å—å¤„ç†è§„åˆ™ module.rulesã€å„ç§ loaderã€æ’ä»¶ç³»ç»Ÿ pluginã€ä¼˜åŒ–é…ç½® optimizationã€è·¯å¾„è§£æ resolve ç­‰ã€‚ä¸€ä¸ªå…¸å‹çš„ Webpack é…ç½®æ–‡ä»¶éœ€è¦æ˜ç¡®æŒ‡å®šå…¥å£æ–‡ä»¶è·¯å¾„ã€è¾“å‡ºç›®å½•å’Œæ–‡ä»¶åæ¨¡å¼ã€å„ç§æ–‡ä»¶ç±»å‹çš„å¤„ç†è§„åˆ™ã€ä½¿ç”¨çš„ loader å’Œæ’ä»¶ã€ä»£ç æ‹†åˆ†ç­–ç•¥ç­‰ã€‚è¿™ç§é…ç½®æ–¹å¼è™½ç„¶çµæ´»ï¼Œä½†ä¹Ÿæ„å‘³ç€å­¦ä¹ æ›²çº¿è¾ƒä¸ºé™¡å³­ï¼Œæ–°æ‰‹éœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´æ‰èƒ½æŒæ¡ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒVite çš„é…ç½®è¦ç®€æ´å¾—å¤šã€‚Vite çš„é»˜è®¤é…ç½®å·²ç»èƒ½å¤Ÿè¿è¡Œç»å¤§å¤šæ•°å•é¡µåº”ç”¨ï¼Œå¼€å‘è€…é€šå¸¸åªéœ€è¦æ·»åŠ æ¡†æ¶æ’ä»¶ã€é…ç½®è·¯å¾„åˆ«åã€æŒ‰éœ€è°ƒæ•´ä¸€äº›æ„å»ºé€‰é¡¹å³å¯ã€‚ä¸€ä¸ªå…¸å‹çš„ Vite é…ç½®æ–‡ä»¶å¯èƒ½åªéœ€è¦å‡ è¡Œä»£ç ï¼ŒæŒ‡å®šä½¿ç”¨çš„æ¡†æ¶æ’ä»¶å’Œå°‘é‡æ„å»ºé€‰é¡¹ã€‚è¿™ç§è®¾è®¡å¤§å¤§é™ä½äº†é…ç½®é—¨æ§›ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹ï¼Œå°†æ›´å¤šç²¾åŠ›æŠ•å…¥åˆ°ä¸šåŠ¡å¼€å‘ä¸­ã€‚</p>
<h3 data-id="heading-28">ç”Ÿæ€æ”¯æŒ</h3>
<p>åœ¨ç”Ÿæ€æ”¯æŒæ–¹é¢ï¼Œä¸‰ä¸ªå·¥å…·å‘ˆç°å‡ºä¸åŒçš„æˆç†Ÿåº¦ã€‚Webpack ä½œä¸ºæœ€æ—©å‘å¸ƒçš„å·¥å…·ï¼Œè‡ª 2012 å¹´å‘å¸ƒä»¥æ¥å·²ç»ç§¯ç´¯äº†æœ€å®Œå–„çš„ç”Ÿæ€ç³»ç»Ÿï¼Œæ‹¥æœ‰æœ€å¤šçš„æ’ä»¶å’Œ loaderï¼Œç¤¾åŒºæ”¯æŒä¹Ÿæ˜¯æœ€å¥½çš„ã€‚Vite è™½ç„¶å‘å¸ƒæ—¶é—´è¾ƒæ™šï¼Œè‡ª 2020 å¹´å‘å¸ƒä»¥æ¥ç”Ÿæ€æˆç†Ÿåº¦å·²ç»è¾¾åˆ°è¾ƒé«˜æ°´å¹³ï¼Œç¤¾åŒºæ”¯æŒå¿«é€Ÿå¢é•¿ï¼Œæ’ä»¶æ•°é‡ä¹Ÿç›¸å½“ä¸°å¯Œã€‚Rspack ä½œä¸ºæœ€æ–°çš„å·¥å…·ï¼Œ2023 å¹´æ‰å‘å¸ƒï¼Œç”Ÿæ€æˆç†Ÿåº¦ç›¸å¯¹è¾ƒä½ï¼Œä½†ç¤¾åŒºæ”¯æŒä¹Ÿåœ¨å¿«é€Ÿå¢é•¿ï¼Œæ’ä»¶æ•°é‡ä¹Ÿåœ¨é€æ­¥å¢åŠ ã€‚æ€»ä½“è€Œè¨€ï¼ŒWebpack æ‹¥æœ‰æœ€æˆç†Ÿçš„ç”Ÿæ€ï¼ŒVite çš„ç”Ÿæ€å·²ç»ç›¸å½“å®Œå–„ï¼ŒRspack ä½œä¸ºæ–°å·¥å…·æ­£åœ¨å¿«é€Ÿå‘å±•ä¸­ã€‚</p>
<h2 data-id="heading-29">æ€»ç»“</h2>
<p>å‰ç«¯æ‰“åŒ…å·¥å…·çš„é€‰æ‹©æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œéœ€è¦æ ¹æ®é¡¹ç›®ç‰¹ç‚¹ã€å›¢é˜Ÿæƒ…å†µã€æŠ€æœ¯æ ˆç­‰å› ç´ ç»¼åˆè€ƒè™‘ï¼š</p>
<h3 data-id="heading-30">æœªæ¥å±•æœ›</h3>
<p>å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·æ­£åœ¨å‘<strong>æ›´å¿«ã€æ›´ç®€å•ã€æ›´æ™ºèƒ½</strong>çš„æ–¹å‘å‘å±•ï¼š</p>
<ul>
<li><strong>æ€§èƒ½</strong>ï¼šRust/Go å®ç°çš„å·¥å…·å°†æˆä¸ºä¸»æµ</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæ–°å·¥å…·ä¼šä¿æŒä¸ç°æœ‰ç”Ÿæ€çš„å…¼å®¹</li>
<li><strong>å¼€å‘ä½“éªŒ</strong>ï¼šé›¶é…ç½®ã€æ™ºèƒ½æç¤ºã€æ›´å¥½çš„é”™è¯¯ä¿¡æ¯</li>
<li><strong>æ ‡å‡†åŒ–</strong>ï¼šESM æˆä¸ºæ ‡å‡†ï¼Œå·¥å…·é“¾ç»Ÿä¸€</li>
</ul>
<hr/>
<p><strong>å‚è€ƒèµ„æºï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebpack.js.org%2F" target="_blank" title="https://webpack.js.org/" ref="nofollow noopener noreferrer">Webpack å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.dev%2F" target="_blank" title="https://vitejs.dev/" ref="nofollow noopener noreferrer">Vite å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frollupjs.org%2F" target="_blank" title="https://rollupjs.org/" ref="nofollow noopener noreferrer">Rollup å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fesbuild.github.io%2F" target="_blank" title="https://esbuild.github.io/" ref="nofollow noopener noreferrer">esbuild å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frspack.dev%2F" target="_blank" title="https://rspack.dev/" ref="nofollow noopener noreferrer">Rspack å®˜æ–¹æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[dart çš„ Lazy Iterable]]></title>    <link>https://juejin.cn/post/7583933107690029119</link>    <guid>https://juejin.cn/post/7583933107690029119</guid>    <pubDate>2025-12-16T02:24:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583933107690029119" data-draft-id="7583591656177123364" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="dart çš„ Lazy Iterable"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-12-16T02:24:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            dart çš„ Lazy Iterable
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:24:55.000Z" title="Tue Dec 16 2025 02:24:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›¸å…³æ–‡ç« : <a href="https://juejin.cn/post/7109433427245400078" target="_blank" title="https://juejin.cn/post/7109433427245400078">juejin.cn/post/710943â€¦</a></p>
<p>è¿™é‡Œä¸»è¦æåˆ°ä¸¤ä¸ªæˆ‘ä»¬ç»å¸¸ç”¨çš„æ“ä½œç¬¦ where/map</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> list = [<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>, <span class="hljs-string">"4"</span>, <span class="hljs-string">"5"</span>];
<span class="hljs-keyword">var</span> map = list.<span class="hljs-title function_">map</span>((e) {
  <span class="hljs-keyword">var</span> result = int.<span class="hljs-title function_">parse</span>(e) + <span class="hljs-number">10</span>;
  <span class="hljs-title function_">print</span>(<span class="hljs-string">"######### $result"</span>);
  <span class="hljs-keyword">return</span> result;
});
</code></pre>
<p>åƒä¸Šé¢çš„ä»£ç  è¿è¡Œæ˜¯ä¸ä¼šæœ‰æ—¥å¿—è¾“å‡ºçš„ã€‚åªæœ‰æ¯æ¬¡è°ƒç”¨ toList æˆ–è€…éå†mapçš„æ—¶å€™æ‰ä¼šè¾“å‡ºã€‚</p>
<p><code>ä¸€èˆ¬æƒ…å†µä¸‹ å¦‚æœä½ è¿™é‡Œè¿”å›çš„çŸ¥è¯†åŸºæœ¬ç±»å‹ æ¯”å¦‚ String æˆ–è€… int å•¥çš„,ç›´æ¥ç”¨ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ã€‚ä½†æ˜¯ä½ å¦‚æœè¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå½“ä½ å»åšä¸€äº›åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™å°±ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºä½ æ¯æ¬¡éå†è¿”å›çš„éƒ½æ˜¯æ–°çš„å¯¹è±¡ï¼Œå†å»åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¤§æ¦‚ç‡æ˜¯ä¸ä¸€æ ·çš„ã€‚</code></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ä¸šçº§ AI ç¼–ç¨‹ Prompt ä½“ç³»]]></title>    <link>https://juejin.cn/post/7583981974407970826</link>    <guid>https://juejin.cn/post/7583981974407970826</guid>    <pubDate>2025-12-16T02:29:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583981974407970826" data-draft-id="7583981974407921674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ä¸šçº§ AI ç¼–ç¨‹ Prompt ä½“ç³»"/> <meta itemprop="keywords" content="OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T02:29:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HBLOG"/> <meta itemprop="url" content="https://juejin.cn/user/131597124767479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ä¸šçº§ AI ç¼–ç¨‹ Prompt ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/131597124767479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HBLOG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:29:07.000Z" title="Tue Dec 16 2025 02:29:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å®šä½è¯´æ˜</strong>ï¼š<br/>
è¿™ä¸æ˜¯â€œæ•™ä½ æ€ä¹ˆç”¨ AI å†™ä»£ç â€çš„æ•™ç¨‹ï¼Œè€Œæ˜¯ä¸€å¥— <strong>ä¼ä¸šå¯å¤åˆ¶ã€å¯æ²»ç†ã€å¯å®¡è®¡çš„ AI ç¼–ç¨‹æ–¹æ³•è®º</strong>ã€‚</p>
<p><strong>é€‚ç”¨å¯¹è±¡ï¼š</strong></p>
<ul>
<li>CTO / æŠ€æœ¯è´Ÿè´£äºº</li>
<li>æŠ€æœ¯ä¸­å° / æ¶æ„ç»„</li>
<li>æ­£åœ¨æ¨è¿› AI ç¼–ç¨‹è½åœ°çš„ä¼ä¸š</li>
</ul>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆâ€œä¼šç”¨ AI å†™ä»£ç â€ä¸ç­‰äºâ€œèƒ½åœ¨ä¼ä¸šè½åœ°â€</h2>
<p>å½“å‰å¤§å¤šæ•°å›¢é˜Ÿåœ¨ä½¿ç”¨ AI ç¼–ç¨‹æ—¶ï¼Œéƒ½ä¼šé‡åˆ°ä¸‰ä¸ªå…¸å‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>äº§å‡ºä¸ç¨³å®š</strong>ï¼šåŒä¸€ä¸ªéœ€æ±‚ï¼Œä¸åŒäººé—®ï¼Œç»“æœå®Œå…¨ä¸åŒ</li>
<li><strong>é£é™©ä¸å¯æ§</strong>ï¼šAI æ“…è‡ªé‡æ„ã€ç¼–é€ é€»è¾‘ã€å¼•å…¥ä¾èµ–</li>
<li><strong>æ— æ³•è¯„ä¼°ä»·å€¼</strong>ï¼šåˆ°åº•æœ‰å¤šå°‘ä»£ç æ˜¯ AI å‚ä¸äº§å‡ºçš„ï¼Ÿ</li>
</ol>
<p><strong>æ ¹æœ¬åŸå› åªæœ‰ä¸€ä¸ªï¼š</strong></p>
<blockquote>
<p>ä¼ä¸šç¼ºçš„ä¸æ˜¯ AIï¼Œè€Œæ˜¯ä¸€å¥—ã€Œçº¦æŸ AI è¡Œä¸ºçš„å·¥ç¨‹ä½“ç³»ã€ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ–¹æ³•è®ºï¼šä¸‰å±‚ Prompt æ²»ç†æ¨¡å‹</h2>
<p>æˆ‘ä»¬å°† AI ç¼–ç¨‹ä¸­çš„æç¤ºè¯ï¼Œæ‹†è§£ä¸º <strong>ä¸‰å±‚ã€ä¸‰ç§èŒè´£ã€ä¸‰ç§ç¨³å®šåº¦</strong>ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">System Promptï¼ˆä¼ä¸šçº§ï½œå‡ ä¹ä¸å˜ï¼‰
   â†“
Project Promptï¼ˆé¡¹ç›®çº§ï½œéšé¡¹ç›®å˜åŒ–ï¼‰
   â†“
<span class="hljs-built_in">Task</span> Promptï¼ˆä»»åŠ¡çº§ï½œæ¯æ¬¡å¼€å‘ï¼‰
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€System Promptï¼šAI çš„â€œå…¬å¸å®ªæ³•â€</h2>
<p><strong>è§£å†³çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>AI åœ¨å…¬å¸é‡Œâ€œèƒ½ä¸èƒ½åšâ€</li>
<li>ä»€ä¹ˆæ—¶å€™å¿…é¡»åœä¸‹æ¥</li>
</ul>
<p><strong>æ ¸å¿ƒç‰¹å¾</strong>ï¼š</p>
<ul>
<li>ç¨³å®šæ€§ä¼˜å…ˆäºæ•ˆç‡</li>
<li>æ˜ç¡®ç¦æ­¢ AI å¹»è§‰ã€ç¼–é€ ã€æ“…è‡ªå†³ç­–</li>
<li>å†…ç½®â€œä¸­æ­¢æœºåˆ¶â€ï¼ˆä¿¡æ¯ä¸è¶³å³åœï¼‰</li>
</ul>
<p><strong>ä»·å€¼</strong>ï¼š</p>
<ul>
<li>é˜²æ­¢ AI æˆä¸ºé£é™©æº</li>
<li>ä¸ºæ‰€æœ‰é¡¹ç›®æä¾›ç»Ÿä¸€åº•çº¿</li>
</ul>
<h2 data-id="heading-3">å››ã€Project Promptï¼šAI çš„â€œé¡¹ç›®è¯´æ˜ä¹¦â€</h2>
<p><strong>è§£å†³çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>AI åœ¨â€œè¿™ä¸ªé¡¹ç›®é‡Œè¯¥æ€ä¹ˆå†™ä»£ç â€</li>
</ul>
<p><strong>æ ¸å¿ƒå†…å®¹</strong>ï¼š</p>
<ul>
<li>æŠ€æœ¯æ ˆä¸ç‰ˆæœ¬é”å®š</li>
<li>æ¶æ„åˆ†å±‚è§„åˆ™</li>
<li>é¡¹ç›®çº§ç¼–ç ä¸å¼‚å¸¸è§„èŒƒ</li>
<li>é¡¹ç›®ç‰¹æœ‰çš„ AI è¡Œä¸ºçº¦æŸ</li>
</ul>
<p><strong>ä»·å€¼</strong>ï¼š</p>
<ul>
<li>æ¶ˆé™¤ AI çš„â€œé€šç”¨æœ€ä½³å®è·µå¹»è§‰â€</li>
<li>è®© AI çš„è¾“å‡ºè´´åˆå…·ä½“é¡¹ç›®</li>
</ul>
<h2 data-id="heading-4">äº”ã€Task Promptï¼šAI çš„â€œä»»åŠ¡å·¥å•â€</h2>
<p><strong>è§£å†³çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>AI è¿™ä¸€æ¬¡å…·ä½“è¦åšä»€ä¹ˆ</li>
</ul>
<p><strong>æ ‡å‡†ç»“æ„</strong>ï¼š</p>
<ul>
<li>ä»»åŠ¡ç›®æ ‡</li>
<li>å·²æœ‰ä¸Šä¸‹æ–‡</li>
<li>å…·ä½“è¦æ±‚</li>
<li>å¼ºçº¦æŸ</li>
<li>è¾“å‡ºéªŒæ”¶æ ‡å‡†</li>
</ul>
<p><strong>ä»·å€¼</strong>ï¼š</p>
<ul>
<li>é™ä½ä¸ç¡®å®šæ€§</li>
<li>è®© AI è¾“å‡ºå…·å¤‡å¯éªŒæ”¶æ€§</li>
</ul>
<h2 data-id="heading-5">å…­ã€ä¸ºä»€ä¹ˆè¿™å¥—ä½“ç³»â€œå¯æ²»ç†ã€å¯å®¡è®¡â€</h2>
<h3 data-id="heading-6">1ï¸âƒ£ Prompt å³åˆ¶åº¦</h3>
<ul>
<li>Prompt æœ¬èº«å°±æ˜¯å·¥ç¨‹è§„åˆ™</li>
<li>å¯çº³å…¥ç‰ˆæœ¬ç®¡ç†</li>
</ul>
<h3 data-id="heading-7">2ï¸âƒ£ Prompt å³è¯æ®</h3>
<ul>
<li>æ¯ä¸€æ®µ AI äº§å‡ºï¼Œéƒ½æœ‰å¯¹åº” Prompt</li>
<li>å¯å¤ç›˜ã€å¯è¿½è´£</li>
</ul>
<h3 data-id="heading-8">3ï¸âƒ£ Prompt å³ç»Ÿè®¡åŸºç¡€</h3>
<ul>
<li>å¯ä»¥åŒºåˆ†ï¼š
<ul>
<li>AI ä¸»å¯¼</li>
<li>AI è¾…åŠ©</li>
<li>äººå·¥ç¼–å†™</li>
</ul>
</li>
</ul>
<h2 data-id="heading-9">ä¸ƒã€AI ä»£ç å‚ä¸åº¦çš„æ­£ç¡®è¯„ä¼°æ–¹å¼ï¼ˆå¯¹å¤–å¸¸è§è¯¯åŒºï¼‰</h2>
<p><strong>é”™è¯¯æ–¹å¼</strong>ï¼š</p>
<ul>
<li>çœ‹æ˜¯å¦â€œç”¨è¿‡ AIâ€</li>
<li>çœ‹æ˜¯å¦â€œå¤åˆ¶è¿‡ä»£ç â€</li>
</ul>
<p><strong>æ­£ç¡®æ–¹å¼</strong>ï¼š</p>
<ul>
<li>æ˜¯å¦ä½¿ç”¨ Task Prompt äº§å‡ºæ ¸å¿ƒé€»è¾‘</li>
<li>æ˜¯å¦åœ¨ Prompt çº¦æŸä¸‹å®Œæˆä»£ç </li>
<li>æ˜¯å¦é€šè¿‡äººå·¥ Review éªŒæ”¶</li>
</ul>
<blockquote>
<p><strong>ç»“è®º</strong>ï¼š<br/>
AI ä»·å€¼ä¸åœ¨â€œç”¨äº†æ²¡ç”¨â€ï¼Œè€Œåœ¨â€œè¢«ç®¡ç†åœ°ä½¿ç”¨â€ã€‚</p>
</blockquote>
<h2 data-id="heading-10">å…«ã€è¿™å¥—æ–¹æ³•è®ºçš„è¾¹ç•Œï¼ˆå¾ˆé‡è¦ï¼‰</h2>
<ul>
<li>ä¸è¿½æ±‚ 100% AI ç”Ÿæˆä»£ç </li>
<li>ä¸é¼“åŠ±å®Œå…¨æ— äººå®¡æŸ¥</li>
<li>ä¸æ›¿ä»£å·¥ç¨‹è´£ä»»ä¸»ä½“</li>
</ul>
<p>AI çš„å®šä½å§‹ç»ˆæ˜¯ï¼š</p>
<blockquote>
<p><strong>å—çº¦æŸçš„ç”Ÿäº§åŠ›ï¼Œè€Œä¸æ˜¯è‡ªä¸»å†³ç­–è€…</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-11">ä¹ã€ç»“è¯­ï¼šçœŸæ­£çš„ç«äº‰åŠ›æ˜¯ä»€ä¹ˆ</h2>
<blockquote>
<p>å½“æ‰€æœ‰å…¬å¸éƒ½èƒ½ç”¨ AI å†™ä»£ç æ—¶ï¼Œ<br/>
çœŸæ­£çš„å·®è·åœ¨äºï¼š</p>
<p><strong>è°èƒ½æŠŠ AI çº³å…¥å·¥ç¨‹ä½“ç³»ï¼Œè€Œä¸æ˜¯å·¥å…·æ¸…å•ã€‚</strong></p>
</blockquote>
<p>è¿™å¥—ä¸‰å±‚ Prompt æ–¹æ³•è®ºï¼Œæœ¬è´¨ä¸Šæ˜¯ï¼š</p>
<ul>
<li>æŠŠâ€œäººç±»çš„è½¯ä»¶å·¥ç¨‹ç»éªŒâ€</li>
<li>ç¿»è¯‘æˆâ€œAI å¯æ‰§è¡Œçš„è§„åˆ™ä½“ç³»â€</li>
</ul>
<p>ä¹Ÿæ˜¯ä¼ä¸šåœ¨ AI æ—¶ä»£æ„å»ºé•¿æœŸæŠ€æœ¯ç«äº‰åŠ›çš„å…³é”®åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Thinking Machinesé¦–æ¬¾äº§å“é‡å¤§æ›´æ–°ï¼šK2 Thinkingã€Qwen3-VLéƒ½å¯ä»¥å¾®è°ƒäº†]]></title>    <link>https://juejin.cn/post/7583991680748945435</link>    <guid>https://juejin.cn/post/7583991680748945435</guid>    <pubDate>2025-12-16T02:29:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583991680748945435" data-draft-id="7583952017674502195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Thinking Machinesé¦–æ¬¾äº§å“é‡å¤§æ›´æ–°ï¼šK2 Thinkingã€Qwen3-VLéƒ½å¯ä»¥å¾®è°ƒäº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-12-16T02:29:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Thinking Machinesé¦–æ¬¾äº§å“é‡å¤§æ›´æ–°ï¼šK2 Thinkingã€Qwen3-VLéƒ½å¯ä»¥å¾®è°ƒäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:29:37.000Z" title="Tue Dec 16 2025 02:29:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“å‰ï¼ŒAI é¢†åŸŸçš„ç ”ç©¶è€…ä¸å¼€å‘è€…åœ¨å…³æ³¨ OpenAIã€Google ç­‰é¢†å…ˆæœºæ„æœ€æ–°è¿›å±•çš„åŒæ—¶ï¼Œä¹Ÿå°†ç›®å…‰æŠ•å‘äº†ç”±å‰ OpenAI CTO Mira Murati åˆ›åŠçš„ Thinking Machines Labã€‚</p>
<p>ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œä»–ä»¬æ¨å‡ºäº†é¦–æ¬¾äº§å“Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2650993756%26idx%3D1%26sn%3D4bd29a2b9fdaf00b29f97f6f2139decb%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2650993756&amp;idx=1&amp;sn=4bd29a2b9fdaf00b29f97f6f2139decb&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Tinker</a>ï¼šè¿™æ˜¯ä¸€ä¸ª APIï¼Œç”¨äºå¸®å¼€å‘è€… / ç ”ç©¶äººå‘˜å¾®è°ƒè¯­è¨€æ¨¡å‹ã€‚ä½ åªéœ€è¦ä¸“æ³¨äºè®­ç»ƒæ•°æ®å’Œç®—æ³•ï¼Œè€Œä½ ä¸æ“…é•¿çš„å…³äº Infra çš„éƒ¨åˆ† â€”â€” è°ƒåº¦ã€è°ƒä¼˜ã€èµ„æºç®¡ç†å’Œ Infra å¯é æ€§ â€”â€” ç»Ÿç»Ÿç”± Tinker æ¥æå®šï¼Œä»è€Œå¤§å¤§ç®€åŒ–äº† LLM çš„åè®­ç»ƒè¿‡ç¨‹ã€‚</p>
<p>æ­¤å‰ï¼ŒTinker ä»…å‘ç ”ç©¶äººå‘˜å’Œå¼€å‘è€…å¼€æ”¾å†…éƒ¨æµ‹è¯•ï¼›è€Œå¦‚ä»Šï¼ŒThinking Machines å®£å¸ƒæ­£å¼å–æ¶ˆå€™é€‰åå•ï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ Tinkerã€‚</p>
<p>é™¤æ­¤ä»¥å¤–ï¼ŒTinker è¿˜å¸¦æ¥äº†å…¶ä»–ä¸‰é¡¹æ›´æ–°ï¼š</p>
<p>é¦–å…ˆï¼Œæ›´å¼ºæ¨ç†èƒ½åŠ›ï¼šç”¨æˆ·ç°åœ¨å¯ä»¥åœ¨ Tinker ä¸Šå¯¹ Kimi K2 Thinking è¿›è¡Œå¾®è°ƒã€‚ Kimi K2 æ‹¥æœ‰ä¸‡äº¿å‚æ•°è§„æ¨¡ï¼Œæ˜¯ Thinking Machines ç›®å‰è§„æ¨¡æœ€å¤§çš„æ¨¡å‹ï¼Œä¸“ä¸ºé•¿é“¾æ¨ç†å’Œå·¥å…·è°ƒç”¨åœºæ™¯è€Œè®¾è®¡ã€‚</p>
<p>å…¶æ¬¡ï¼Œå…¼å®¹ OpenAI API çš„å…¨æ–°æ¨ç†æ¥å£ï¼šTinker æä¾›äº†æ ‡å‡†çš„æ¨ç†æ¥å£ï¼Œä¾‹å¦‚ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/544708e9fd5f43eb80bc50bc3dc288f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=lqYKQG1PJOGx6aaO%2FCqlmShk0jo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å€ŸåŠ©æœ¬æ¬¡å‘å¸ƒï¼ŒTinker è¿˜æ–°å¢äº†å…¼å®¹ OpenAI API çš„æ¥å£å°è£…ï¼Œç”¨æˆ·åªéœ€é€šè¿‡æŒ‡å®šæ¨¡å‹è·¯å¾„ï¼Œå³å¯å¯¹æ¨¡å‹è¿›è¡Œå¿«é€Ÿé‡‡æ ·ï¼Œå³ä½¿æ¨¡å‹ä»å¤„äºè®­ç»ƒè¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>
<p>è¿™ä¹Ÿæ„å‘³ç€ï¼ŒTinker ç°åœ¨å¯ä»¥å³æ’å³ç”¨åœ°æ¥å…¥ä»»ä½•å…¼å®¹ OpenAI API çš„å¹³å°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cba51a97d2c741419f9afa70c6bf04a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=GXT4wcUCQVbzXyuCTSkWYk9uukQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€åï¼ŒQwen3-VL æ”¯æŒè§†è§‰è¾“å…¥ã€‚Tinker æ–°å¢äº†ä¸¤æ¬¾è§†è§‰æ¨¡å‹ï¼šQwen3-VL-30B-A3B-Instruct å’Œ Qwen3-VL-235B-A22B-Instructã€‚å€ŸåŠ©è¿™äº›æ¨¡å‹ï¼Œç”¨æˆ·å¯ä»¥åœ¨å¤šç§åº”ç”¨åœºæ™¯ä¸­å¤„ç†å›¾ç‰‡ã€æˆªå›¾ä»¥åŠç¤ºæ„å›¾ç­‰è§†è§‰å†…å®¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a234dee031d4f6890f1cf0dcbec275d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=DxIx7ZdyVoE0sw%2BPaN3HVd6Rrrc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™äº›è§†è§‰è¾“å…¥å¼€ç®±å³ç”¨ï¼Œå¯ç›´æ¥åº”ç”¨äºå¤šç§ä»»åŠ¡åœºæ™¯ï¼ŒåŒ…æ‹¬ç›‘ç£å¾®è°ƒå’Œå¼ºåŒ–å­¦ä¹ å¾®è°ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d7ab75624241ed93a1c2a6771ac6ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=x0FrQdtvBFU6V7rUHeIc0BkJfQw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Tinkeræ”¯æŒçš„æ¨¡å‹</p>
<p>è¿‡å»ï¼Œå¼€å‘è€…è‹¥æƒ³è®­ç»ƒæˆ–å¾®è°ƒå‰æ²¿å¤§æ¨¡å‹ï¼Œå¿…é¡»è‡ªè¡Œé‡‡è´­ GPUã€æ­å»ºé›†ç¾¤ã€å¤„ç† CUDA/NCCL ç¯å¢ƒã€ç»´æŠ¤åˆ†å¸ƒå¼è®­ç»ƒç¨³å®šæ€§ï¼Œé—¨æ§›æé«˜ä¸”æˆæœ¬å·¨å¤§ã€‚</p>
<p>è€Œ Tinker é€šè¿‡å°†æ‰€æœ‰è®­ç»ƒåŸºç¡€è®¾æ–½æŠ½è±¡ä¸ºä¸€ä¸ª APIï¼Œä½¿å¼€å‘è€…æ— éœ€ç®¡ç†ä»»ä½•ç®—åŠ›èµ„æºï¼Œåªéœ€å‡†å¤‡æ•°æ®å’Œç®—æ³•å³å¯è®­ç»ƒæ¨¡å‹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ­¤æ¬¡æ›´æ–°é¦–æ¬¡è®©æ™®é€šå¼€å‘è€…èƒ½å¤Ÿå¾®è°ƒä¸‡äº¿å‚æ•°çš„ Kimi K2 Thinkingï¼Œè¿™æœ¬æ¥æ˜¯åªæœ‰é¡¶çº§å®éªŒå®¤æ‰èƒ½æŒæ¡çš„èƒ½åŠ›ï¼Œè§†è§‰è¾“å…¥çš„åŠ å…¥è¿›ä¸€æ­¥é™ä½äº† VLM åº”ç”¨é—¨æ§›ã€‚</p>
<p>å¯¹æ­¤ï¼Œç ”ç©¶è€…çº·çº·è¡¨ç¤ºï¼šã€Œèƒ½å¤Ÿåœ¨æ— éœ€è‡ªè¡Œç®¡ç† GPU åŸºç¡€è®¾æ–½çš„æƒ…å†µä¸‹è®­ç»ƒè‡ªå®šä¹‰å›¾æ–‡æ•°æ®ï¼Œå¯¹å¼€å‘è€…æ¥è¯´æ˜¯ä¸€é¡¹å·¨å¤§çš„è¿›æ­¥ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c223f5243224b2f9b190ae4b4210c5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=12Q%2F8GTbGFB%2FBtCdjI3%2Fnvg2Lcc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨ Tinker è®­ç»ƒå›¾åƒåˆ†ç±»æ¨¡å‹</p>
<p>ä¸ºäº†å±•ç¤º Tinker æ–°å¢çš„è§†è§‰èƒ½åŠ›ï¼ŒThinking Machines Lab å¯¹ Qwen3-VL-235B-A22B-Instruct è¿›è¡Œäº†å¾®è°ƒï¼Œå¹¶å°†å…¶åº”ç”¨äºå¤šé¡¹ç»å…¸å›¾åƒåˆ†ç±»åŸºå‡†æµ‹è¯•ä¸­ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œç ”ç©¶å›¢é˜Ÿé€‰æ‹©äº†å››ä¸ªå¸¸ç”¨çš„æ•°æ®é›†è¿›è¡Œè¯„ä¼°ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>Caltech-101ï¼šåŒ…å« 101 ç±»å¸¸è§ç‰©ä½“çš„æ•°æ®é›†</p>
</li>
<li>
<p>Stanford Carsï¼šæ¶µç›–æ±½è½¦å“ç‰Œã€å‹å·å’Œå¹´ä»½çš„æ•°æ®é›†</p>
</li>
<li>
<p>Oxford Flowersï¼šèŠ±å‰å“ç§æ•°æ®é›†</p>
</li>
<li>
<p>Oxford Petsï¼šå® ç‰©å“ç§æ•°æ®é›†</p>
</li>
</ul>
<p>ç”±äº Qwen3-VL æœ¬è´¨ä¸Šæ˜¯è¯­è¨€æ¨¡å‹ï¼Œç ”ç©¶ä¸­å°†å›¾åƒåˆ†ç±»ä»»åŠ¡å»ºæ¨¡ä¸ºæ–‡æœ¬ç”Ÿæˆé—®é¢˜ï¼šç»™å®šä¸€å¼ å›¾ç‰‡ï¼Œæ¨¡å‹ç›´æ¥è¾“å‡ºå¯¹åº”çš„ç±»åˆ«åç§°ã€‚ç ”ç©¶äººå‘˜å°†è¿™ä¸€æ–¹æ³•ä¸ä¼ ç»Ÿçš„è§†è§‰åŸºçº¿æ–¹æ¡ˆ DINOv2 è¿›è¡Œäº†å¯¹æ¯”ã€‚</p>
<p>DINOv2 æ˜¯ä¸€ç§é€šè¿‡è‡ªç›‘ç£æ–¹å¼è®­ç»ƒçš„è§†è§‰ Transformerï¼Œå¸¸è¢«ç”¨ä½œçº¯è®¡ç®—æœºè§†è§‰ä»»åŠ¡çš„ backboneã€‚å¯¹äº DINOv2ï¼Œç ”ç©¶ä¸­åœ¨å…¶æ¨¡å‹ä¹‹ä¸Šæ·»åŠ äº†ä¸€ä¸ªåˆ†ç±»å¤´ï¼Œç”¨äºé¢„æµ‹æ‰€æœ‰ N ä¸ªç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒã€‚ä¸¤ç§æ¨¡å‹å‡é‡‡ç”¨ LoRA æ–¹å¼è¿›è¡Œå¾®è°ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ce8137e96154616bcf6ff0662715f8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456977&amp;x-signature=SpQK8lqLZAwRiVWzQIw%2BFcS7D4g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ä¸­å±•ç¤ºäº†ç»è¿‡å¾®è°ƒçš„ Qwen3-VL-235B-A22B ä¸ DINOv2 åœ¨ç®€å•å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸Šçš„æ€§èƒ½å¯¹æ¯”ã€‚</p>
<p>åœ¨å°æ ·æœ¬æ•°æ®åœºæ™¯ä¸‹ï¼ŒQwen3-VL-235B-A22B çš„è¡¨ç°ä¼˜äº DINOv2ã€‚è¿™ä¸ä»…æ˜¯å› ä¸ºå…¶æ¨¡å‹è§„æ¨¡æ›´å¤§ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä½œä¸ºè§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰ï¼Œå®ƒå¤©ç„¶å…·å¤‡è¯­è¨€çŸ¥è¯†ï¼ˆä¾‹å¦‚çŸ¥é“ã€Œå‘æ—¥è‘µã€æŒ‡ä»£ä»€ä¹ˆï¼‰ã€‚æ­£æ˜¯è¿™ç§é€šç”¨çš„è¯­è¨€ä¸è§†è§‰è”åˆèƒ½åŠ›ï¼Œä½¿å¾— Qwen3-VL åœ¨å›¾åƒåˆ†ç±»ä¹‹å¤–ï¼Œä¹Ÿèƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°è¿ç§»åˆ°å…¶ä»–è§†è§‰ä»»åŠ¡ä¸­ã€‚</p>
<p>è¿˜æ²¡ä½“éªŒçš„å°ä¼™ä¼´ï¼ŒTinker ç»å¯¹å€¼å¾—ä¸€è¯•ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fthinkingmachines.ai%2Ftinker%2F" target="_blank" title="https://thinkingmachines.ai/tinker/" ref="nofollow noopener noreferrer">thinkingmachines.ai/tinker/</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fthinkingmachines.ai%2Fblog%2Ftinker-general-availability%2F" target="_blank" title="https://thinkingmachines.ai/blog/tinker-general-availability/" ref="nofollow noopener noreferrer">thinkingmachines.ai/blog/tinkerâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ç±³è¯­éŸ³é¦–å¸­ç§‘å­¦å®¶ï¼šAIå‘å±•çš„æœ¬è´¨å°±åƒç”Ÿç‰©è¿›åŒ–ï¼Œä¸å¼€æºè¦æ…¢1000å€ | MEET2026]]></title>    <link>https://juejin.cn/post/7583955708318269440</link>    <guid>https://juejin.cn/post/7583955708318269440</guid>    <pubDate>2025-12-16T02:35:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583955708318269440" data-draft-id="7583921477614387235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ç±³è¯­éŸ³é¦–å¸­ç§‘å­¦å®¶ï¼šAIå‘å±•çš„æœ¬è´¨å°±åƒç”Ÿç‰©è¿›åŒ–ï¼Œä¸å¼€æºè¦æ…¢1000å€ | MEET2026"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T02:35:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ç±³è¯­éŸ³é¦–å¸­ç§‘å­¦å®¶ï¼šAIå‘å±•çš„æœ¬è´¨å°±åƒç”Ÿç‰©è¿›åŒ–ï¼Œä¸å¼€æºè¦æ…¢1000å€ | MEET2026
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:35:05.000Z" title="Tue Dec 16 2025 02:35:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»ç”Ÿç‰©è¿›åŒ–çš„æ¼«é•¿å†ç¨‹åˆ° AI æŠ€æœ¯çš„ç–¯ç‹‚è¿­ä»£ï¼Œä¸¤è€…éµå¾ªç€æƒŠäººç›¸ä¼¼çš„åº•å±‚é€»è¾‘ã€‚</p>
<p>åœ¨æ¢å¯»ä¸‹ä¸€ä»£ AI æ¶æ„çš„å…³é”®æ—¶åˆ»ï¼Œè‘—åçš„ â€œKaldi ä¹‹çˆ¶â€ã€å°ç±³é›†å›¢é¦–å¸­è¯­éŸ³ç§‘å­¦å®¶ã€IEEE FellowÂ <strong>Daniel Povey</strong> æå‡ºï¼š</p>
<blockquote>
<p>å°±åƒç”Ÿç‰©è¿›åŒ–ä¸€æ ·ï¼Œ AIâ€œé…æ–¹â€çš„è®¾è®¡æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªä¸æ–­è¯•é”™çš„è¿‡ç¨‹ï¼Œè€Œè¿›åŒ–çš„é€Ÿåº¦ï¼Œå–å†³äº â€œå¤åˆ¶â€ ä¸€ä¸ªæ–°æƒ³æ³•æ‰€éœ€çš„æ—¶é—´ã€‚</p>
</blockquote>
<p>åœ¨æœ¬æ¬¡<strong>é‡å­ä½ MEET2026 æ™ºèƒ½æœªæ¥å¤§ä¼š</strong>ä¸Šï¼Œä»–ä¹Ÿå°†å¼€æºè§†ä¸º AI è¿›åŒ–çš„æ ¸å¿ƒåŠ é€Ÿå™¨â€”â€”</p>
<p>è‹¥æ²¡æœ‰å¼€æºï¼Œè¡Œä¸šçš„è¿›åŒ–é€Ÿåº¦ææ€•è¦æ…¢ä¸Šä¸€åƒå€ï¼›æ­£æ˜¯å› ä¸ºæœ‰äº†å¼€æºï¼ŒæŠ€æœ¯æ‰èƒ½åƒç”Ÿç‰©é€‚åº”æ–°ç¯å¢ƒä¸€æ ·ï¼Œç»å† â€œé•¿æœŸåœæ» + ç¬é—´çˆ†å‘â€ çš„éçº¿æ€§è·ƒè¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60925c12fed84c5aacaf536dfc93bf07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=TA9%2FR3h9yzbU3KROc1h96ZDRE9k%3D" alt="" loading="lazy"/></p>
<p>è‡³äºå¦‚ä½•åœ¨æœªæ¥çš„ç«äº‰ä¸­ç”Ÿå­˜ï¼Œåœ¨ä»–çœ‹æ¥ï¼Œå¤§å…¬å¸æœ€æ˜æ™ºçš„ç­–ç•¥æ˜¯ â€œä¸¤æ¡è…¿èµ°è·¯â€â€”â€”</p>
<p>ä¸€è¾¹åˆ©ç”¨ Transformer èµ‹èƒ½å½“ä¸‹çš„äº§å“ï¼Œä¸€è¾¹ä¿ç•™èµ„æºæ¢ç´¢æœªçŸ¥ï¼ŒèµŒä¸­ä¸‹ä¸€ä¸ªé¢ è¦†ä¸–ç•Œçš„æœºä¼šã€‚</p>
<p>ä¸ºäº†å®Œæ•´ä½“ç° Daniel Povey çš„æ€è€ƒï¼Œåœ¨ä¸æ”¹å˜åŸæ„çš„åŸºç¡€ä¸Šï¼Œé‡å­ä½å¯¹æ¼”è®²å†…å®¹è¿›è¡Œäº†ç¿»è¯‘å’Œç¼–è¾‘æ•´ç†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥æ›´å¤šå¯å‘ã€‚</p>
<p><em>MEET2026 æ™ºèƒ½æœªæ¥å¤§ä¼šæ˜¯ç”±é‡å­ä½ä¸»åŠçš„è¡Œä¸šå³°ä¼šï¼Œè¿‘ 30 ä½äº§ä¸šä»£è¡¨ä¸ä¼šè®¨è®ºã€‚çº¿ä¸‹å‚ä¼šè§‚ä¼—è¿‘ 1500 äººï¼Œçº¿ä¸Šç›´æ’­è§‚ä¼— 350 ä¸‡ +ï¼Œè·å¾—äº†ä¸»æµåª’ä½“çš„å¹¿æ³›å…³æ³¨ä¸æŠ¥é“ã€‚</em></p>
<h2 data-id="heading-0">æ ¸å¿ƒè§‚ç‚¹æ¢³ç†</h2>
<ul>
<li>
<p>AI çš„æ¼”è¿›å’Œè‡ªç„¶ç•Œç”Ÿç‰©çš„è¿›åŒ–è¿‡ç¨‹éå¸¸ç›¸ä¼¼ï¼Œé€šè¿‡å°è¯•ä¸åŒçš„æŠ€æœ¯å˜ä½“ï¼Œç„¶åç­›é€‰å‡ºåœ¨ç›®æ ‡ä»»åŠ¡ä¸Šè¡¨ç°æ›´ä¼˜çš„æ–¹æ¡ˆï¼›</p>
</li>
<li>
<p>ç±»æ¯”ç”Ÿç‰©è¿›åŒ–ä¸­çš„ â€œé—´æ–­å¹³è¡¡â€ï¼ŒAI çš„å‘å±•å¹¶éè¿ç»­ï¼Œè€Œæ˜¯ â€œé•¿æœŸåœæ» + çªç„¶è·ƒè¿â€ï¼Œåœæ»æœŸä¹Ÿä¸ä¼šæ°¸è¿œæŒç»­ï¼›</p>
</li>
<li>
<p>å¼€æºå¯¹è¿›åŒ–é€Ÿåº¦è‡³å…³é‡è¦ï¼Œå¦‚æœæ¯å®¶å…¬å¸éƒ½é—­æºï¼Œé‚£ä¹ˆç ”ç©¶é€Ÿåº¦å¯èƒ½ä¼šé™ä½ä¸ºåŸæ¥çš„åƒåˆ†ä¹‹ä¸€ï¼›</p>
</li>
<li>
<p>ä¸è¦æŠ¼æ³¨å•ä¸€ä»»åŠ¡æˆ–å•ä¸€è·¯çº¿ï¼Œåœ¨è¿›åŒ–è¿‡ç¨‹ä¸­æ‰¾åˆ° AIâ€œé€šæ‰â€ä¸ â€œä¸“æ‰â€ çš„å¹³è¡¡ï¼Œä¿ç•™å¤šç§ä¸åŒæ¨¡å‹æ¶æ„çš„å­˜ç»­ï¼Œä»è€Œå¢åŠ å‘æ˜å®ç”¨æ–°æŠ€æœ¯çš„æœºä¼šï¼›</p>
</li>
<li>
<p>å¤§å…¬å¸åŒç®¡é½ä¸‹æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä¸€æ–¹é¢ä½¿ç”¨å½“å‰ä¸šç•Œé¢†å…ˆçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå¦ä¸€æ–¹é¢è¿›è¡Œæ¢ç´¢æ€§ç ”ç©¶ï¼Œä»¥å¯»æ‰¾ä¸‹ä¸€ä¸ªé‡å¤§çªç ´ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcb210310f564a2dbdee1a79800f10b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=wCWLanNYbmnHbDzWB%2F0UdMFSq5g%3D" alt="" loading="lazy"/></p>
<p><em>ä»¥ä¸‹ä¸º Daniel Povey æ¼”è®²åŸæ–‡ä¸­è¯‘æœ¬</em></p>
<h2 data-id="heading-1">åƒç”Ÿç‰©è¿›åŒ–ä¸€æ ·å¿«é€Ÿè¯•é”™</h2>
<p>å¤§å®¶å¥½ï¼Œä»Šå¤©æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€äº›å…³äº â€œè¿›åŒ–â€ å’Œâ€œAIâ€çš„æ€è€ƒï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•ä»ç”Ÿç‰©æ¼”åŒ–ä¸­æ±²å–å…³äº AI æœªæ¥çš„å¯ç¤ºã€‚æˆ‘å°†ä¸»è¦ä»ç§‘ç ”å’Œæ¨¡å‹æœ¬èº«çš„è§’åº¦è§£è¯»è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>äººä»¬è®¾è®¡ AIâ€œé…æ–¹â€ çš„è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šä¸»è¦è¿˜æ˜¯ä¸€ä¸ªä¸æ–­è¯•é”™çš„è¿‡ç¨‹ã€‚</p>
<p>å½“äººä»¬æœ‰äº†æ–°çš„ç†è§£ï¼Œå°±ä¼šå‘è¡¨è®¸å¤šå¯Œå«å…¬å¼çš„è®ºæ–‡ï¼Œä½†å…¶ä¸­ 99% çš„å†…å®¹éƒ½æ²¡ä»€ä¹ˆçœŸæ­£å¯æ“ä½œçš„ä»·å€¼ï¼Œæœ€åèƒ½è½åœ°çš„é€šå¸¸åªæ˜¯ â€œé…æ–¹â€ æœ¬èº«ã€‚</p>
<p>æ‰€ä»¥è®¾è®¡ AIâ€œé…æ–¹â€ çš„åŸºæœ¬æµç¨‹å°±æ˜¯å°è¯•ä¸åŒå˜ä½“ï¼Œç„¶åç­›é€‰å‡ºæœ‰æ•ˆçš„è¿›è¡Œå‘å¸ƒï¼Œåˆ«äººå†ç…§ç€åšã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/353e35fc4c02427c84d2edcdec53ad46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=VibhUMmINBiV5Kamhb0dDtD%2B06k%3D" alt="" loading="lazy"/></p>
<p>è¿™å…¶å®å’Œç”Ÿç‰©è¿›åŒ–éå¸¸ç›¸ä¼¼ã€‚</p>
<p>åœ¨ç”Ÿç‰©è¿›åŒ–ä¸­ï¼Œè¿›åŒ–è¿‡ç¨‹ä¹Ÿä¼šå’Œå¤–éƒ¨ç¯å¢ƒç›¸äº’å½±å“ï¼Œä¾‹å¦‚åœ°çƒä¸Šçš„è¿›åŒ–ä¼šå—åˆ°å¤ªé˜³è¾å°„å˜åŒ–ã€å¤§æ°”æˆåˆ†å˜åŒ–çš„å½±å“ï¼Œè€Œç”Ÿå‘½æœ¬èº«ä¹Ÿä¼šåè¿‡æ¥å½±å“è¿™äº›ç¯å¢ƒå› ç´ ï¼Œæ¯”å¦‚æ”¹å˜å¤§æ°”æˆåˆ†ã€‚</p>
<p>AI çš„è¿›åŒ–ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¯èƒ½ä¼šå—åˆ°ç¡¬ä»¶ã€æ•°æ®ç­‰èµ„æºçš„é™åˆ¶ï¼›åŒæ—¶ï¼ŒAI ä¹Ÿä¼šé€šè¿‡å•†ä¸šæ•ˆåº”ã€ç¾¤ä½“è¡Œä¸ºæ•ˆåº”åä½œç”¨äºè¿™äº›å¤–éƒ¨æ¡ä»¶ã€‚</p>
<p>åœ¨å†å²ä¸Šï¼Œç”Ÿç‰©è¿›åŒ–ç”šè‡³æ›¾ç»å¤šæ¬¡ â€œç ´åâ€ è‡ªèº«çš„ç”Ÿå­˜ç¯å¢ƒï¼Œä¾‹å¦‚â€œå¤§æ°§åŒ–äº‹ä»¶â€<em>ï¼ˆGreat Oxygenation Eventï¼‰</em>ï¼Œä¸è¿‡æœ€ç»ˆç”Ÿå‘½åˆä»ä¸­æ¢å¤äº†è¿‡æ¥ã€‚</p>
<p><em>ï¼ˆæ³¨ï¼šå¤§æ°§åŒ–äº‹ä»¶æ˜¯æŒ‡çº¦ 26 äº¿å¹´å‰ï¼Œå¤§æ°”ä¸­çš„æ¸¸ç¦»æ°§å«é‡çªç„¶å¢åŠ çš„äº‹ä»¶ï¼Œå…¶å…·ä½“åŸå› ä¸æ˜ã€‚è¯¥äº‹ä»¶ä½¿åœ°çƒä¸ŠçŸ¿ç‰©çš„æˆåˆ†å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿä½¿å¾—æ—¥ååŠ¨ç‰©çš„å‡ºç°æˆä¸ºäº†å¯èƒ½ã€‚ï¼‰</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b11f57b54874f9f894957efb552b9e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=MY0vJ7HwhdJdqa8G%2FJFJOLIrxnQ%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿç‰©å­¦ä¸­ â€œä¸–ä»£é—´éš”â€_ï¼ˆGeneration timeï¼‰_ç±»æ¯”åˆ° AIï¼Œå°±æ˜¯å¤åˆ¶ä¸€ä¸ªæ–°æƒ³æ³•æ‰€éœ€çš„æ—¶é—´ï¼Œé€šå¸¸è¿™ä¸ªæ—¶é—´ä¼šæŒç»­æ•°ä¸ªæœˆã€‚</p>
<p>å› ä¸ºå½“ä½ æœ‰äº†æ–°çš„å‘ç°ï¼Œå¾€å¾€è¦å…ˆå†™è®ºæ–‡ï¼Œè€Œä¸”ä¸€èˆ¬æ˜¯å†™å®Œæ‰å¯¹å¤–å…¬å¼€ï¼Œæœ‰äº›æœŸåˆŠç”šè‡³è§„å®šå‘è¡¨å‰ä¸èƒ½å…ˆä¸Šä¼  arXiv ä¹‹ç±»çš„é¢„å°æœ¬ã€‚</p>
<p>è¿‡å»è¿™æ ·çš„å‘¨æœŸå¯èƒ½éœ€è¦å¤§æ¦‚ä¸¤å¹´ï¼Œä½†ç°åœ¨å¯èƒ½ç¼©çŸ­åˆ°äº†<strong>å…­ä¸ªæœˆ</strong>ã€‚</p>
<p>ç°åœ¨ï¼Œæœ‰äº† PyTorch è¿™æ ·çš„å·¥å…·ï¼Œäººä»¬å¯ä»¥è¿‘ä¹å®Œç¾åœ°å¤ç°ä»–äººå‘å¸ƒçš„ â€œé…æ–¹â€ã€‚</p>
<p>å½“ç„¶ï¼Œæœ‰æ—¶äººä»¬å¯èƒ½åªç»™å‡ºäº†æè¿°_ï¼ˆè€Œæ²¡æœ‰ä»£ç ï¼‰_ï¼Œè¿™ä¼šä½¿å¾—å¤ç°è¿‡ç¨‹ç¨æ…¢ä¸€äº›ï¼Œä½†æ•´ä½“ä¸Šï¼Œä»£é™…å‘¨æœŸçš„é•¿çŸ­å†³å®šäº†è¿›åŒ–çš„å¿«æ…¢ã€‚</p>
<p>å°±åƒä¸–ä»£é—´éš”æ¼«é•¿çš„å¤§å‹ç”Ÿç‰©ï¼Œå¾€å¾€è¿›åŒ–ç¼“æ…¢ï¼›è€Œé‚£äº›èƒ½å¤Ÿå¿«é€Ÿç¹è¡çš„å°å‹ç”Ÿç‰©ï¼Œè¿›åŒ–é€Ÿåº¦åˆ™è¦å¿«å¾—å¤šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f26e0426551f4dd4b5f56f2f486553e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=9kcQNBLBNHD5e9FfL4sVcGOm%2F%2Fc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">å»ä¸åŒé¢†åŸŸå¯»æ‰¾ AI çªç ´å£</h2>
<p>åœ¨è‡ªç„¶ç•Œçš„è¿›åŒ–ä¸­ï¼Œå¾€å¾€å­˜åœ¨ä¸€ç§ â€œåœåœèµ°èµ°â€ çš„èŠ‚å¥ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œå‡ ä¹æ²¡æœ‰ä»€ä¹ˆåŠ¨é™ï¼Œéšåçªç„¶å‘ç”Ÿå‰§å˜ã€‚</p>
<p>å¯¹äºè‡ªç„¶ç•Œçš„ç‰©ç§æ¥è¯´ï¼Œè¿™ç§å˜åŒ–é€šå¸¸æ˜¯ç”±è¿ç§»åˆ°æ–°ç¯å¢ƒæ‰€å¯¼è‡´çš„ï¼›ä½†å¶å°”ï¼Œå®ƒä¹Ÿæºäºç”Ÿå‘½ â€œè§£é”â€ äº†æŸç§æ–°äº‹ç‰©ï¼Œæ¯”å¦‚å…‰åˆä½œç”¨æ¼”åŒ–å‡ºæ¥æ—¶ï¼Œæ•´ä¸ªè¿›åŒ–çš„èŠ‚å¥ä¾¿è¿…é€Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚</p>
<p>æˆ‘ä»äº‹ AI é¢†åŸŸå¤§æ¦‚æœ‰ 30 å¹´äº†ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯­éŸ³é¢†åŸŸï¼Œä¹Ÿç»å†è¿‡é•¿æ—¶é—´æ²¡æœ‰å¤ªå¤§è¿›å±•çš„é˜¶æ®µï¼Œå½“æ—¶æˆ‘ä»¬ç”šè‡³ä»¥ä¸º â€œè¿™å°±æ˜¯ç»ˆç‚¹â€ã€‚</p>
<p>å½“å¹´æˆ‘ä»¬åšé«˜æ–¯æ··åˆæ¨¡å‹ã€åˆ¤åˆ«å¼è®­ç»ƒæ—¶ï¼Œä»¥ä¸ºè¯­éŸ³è¯†åˆ«çš„æœ€ç»ˆå½¢æ€å°±æ˜¯é‚£æ ·äº†ï¼Œæ²¡äººèƒ½æƒ³è±¡æœªæ¥çš„æ”¹å˜ã€‚æ‰€ä»¥ä¹Ÿè®¸åå¹´åï¼Œä¹Ÿä¼šå‡ºç°ä»Šå¤©è°éƒ½æ— æ³•æƒ³è±¡çš„å…¨æ–°æ¨¡å‹ã€‚</p>
<p>AI çš„å‘å±•ä¸­ï¼Œä¸åŒä»»åŠ¡ä¹‹é—´çš„ç›¸äº’ä½œç”¨éå¸¸é‡è¦ï¼Œæ¯”å¦‚è§†è§‰é¢†åŸŸçš„æ–°æ–¹æ³•ï¼Œåæ¥å¯èƒ½ä¼šç”¨äºè¯­éŸ³ã€è¯­è¨€ç­‰ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a873ff2d68e480981d1f638d265c634~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=5i28sC3HOgx1LRT%2BCt1BvaFj9c4%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘ä¸€ä¸ªå…¸å‹ä¾‹å­å°±æ˜¯ Transformersï¼Œå®ƒæœ€åˆæ˜¯ä¸“é—¨ä¸ºè¯­è¨€æ¨¡å‹è®¾è®¡çš„ï¼Œåæ¥å´åœ¨å„ç§ä»»åŠ¡ä¸­å¤§æ”¾å¼‚å½©ã€‚</p>
<p>åœ¨è¿›åŒ–ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæµ·è±šç»æ— å¯èƒ½ä»…åœ¨æµ·æ´‹é‡Œå°±è¿›åŒ–æˆå‹ï¼Œå› ä¸ºå®ƒé‚£äº›å‘¼å¸ç©ºæ°”çš„æœºèƒ½ï¼ŒåŸæœ¬æ˜¯ä¸ºäº†é€‚åº”é™†åœ°ç”Ÿæ´»æ‰æ¼”åŒ–å‡ºæ¥çš„ã€‚ä½†å½“å®ƒé‡è¿”æµ·æ´‹åï¼Œå´æˆäº†æœ€æˆåŠŸçš„é¡¶çº§æ•é£Ÿè€…ã€‚</p>
<p>è¿™è¯´æ˜ï¼Œ<strong>æœ‰æ—¶å€™ä½ ç¡®å®éœ€è¦æš‚æ—¶å»åšä¸€äº›æˆªç„¶ä¸åŒçš„äº‹æƒ…ï¼Œæœ€ç»ˆæ‰èƒ½åœ¨åŸæœ¬çš„ç›®æ ‡ä¸Šå–å¾—æˆåŠŸ</strong>ã€‚</p>
<h2 data-id="heading-3">å¦‚æœä¸å¼€æºï¼ŒAI å¾—æ…¢ä¸Šä¸€åƒå€</h2>
<p>å½“ç„¶ï¼Œæ‹¿ç”Ÿç‰©è¿›åŒ–åšç±»æ¯”ä¹Ÿæœ‰å±€é™æ€§ã€‚æ¯•ç«Ÿæˆ‘ä»¬å¯ä»¥<strong>ä¸»åŠ¨å»ç†è§£äº‹ç‰©</strong>ï¼Œå¯ä»¥åˆ©ç”¨æ•°å­¦æ¨å¯¼ï¼Œæˆ–è€…æ”¹è¿›å¯è§†åŒ–å’Œè°ƒè¯•å·¥å…·ï¼Œä»è€ŒåŠ é€ŸæŠ€æœ¯çš„å‘å±•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43d79290e3364a0ab5111bcdd265332f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=ff5n3unEEmIBa7rCoschSGiNNX4%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œæé€Ÿä¹Ÿéå¸¸å…³é”®ã€‚å®éªŒè·‘å¾—è¶Šå¿«ï¼Œè¿›åŒ–çš„è¿­ä»£å°±è¶Šå¿«ï¼Œè¿™å¯¹ç ”ç©¶ä»·å€¼å·¨å¤§ã€‚</p>
<p>è€Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œ<strong>å¼€æº</strong>èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p>
<p>å¦‚æœæ¯å®¶å…¬å¸éƒ½å¾—è‡ªå·±ä»å¤´é‡å¤é€ è½®å­ï¼Œç ”ç©¶é€Ÿåº¦ææ€•è¦æ…¢ä¸Šä¸€åƒå€ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è®¾æƒ³ä¸€ä¸ªå¹³è¡Œä¸–ç•Œï¼Œå¦‚æœå¤§å…¬å¸å†³å®šä¸å¼€æº PyTorchï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å¼€æº Kaldi é¡¹ç›®ï¼Œé‚£ AI ç ”å‘çš„å±€é¢ä¼šå¾ˆä¸ç›¸åŒã€‚</p>
<p>ä¸è¿‡ï¼Œä¸å¼€æºåœ¨æŸäº›è¡Œä¸šç¡®å®æ˜¯å¸¸æ€ï¼Œå°¤å…¶æ˜¯æ¶‰åŠ<strong>å®ä½“å·¥ç¨‹</strong>çš„é¢†åŸŸï¼Œå› ä¸ºå¼€å‘ä¸€æ¬¾å·¥å…·å¾€å¾€æå…¶æ˜‚è´µï¼Œå¯èƒ½è¦ç ¸å‡ºæ•°ç™¾ä¸‡ç¾å…ƒï¼Œæ‰€ä»¥æ²¡äººä¼šæŠŠä»–ä»¬çš„æ¨¡å‹å¼€æºå‡ºæ¥ã€‚</p>
<p>å…¶å®ï¼Œ2012 å¹´æˆ‘ä¹‹æ‰€ä»¥ç¦»å¼€å·¥ä¸šç•Œï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜ã€‚å½“æ—¶çš„å¤§å…¬å¸æ™®éå¯¹å¼€æºéƒ½ä¸æ€ä¹ˆæ„Ÿå†’ï¼Œæ‰€ä»¥æˆ‘è½¬å»å­¦æœ¯ç•Œå¾…äº†ä¸€æ®µæ—¶é—´ã€‚</p>
<p>ä½†å¦‚ä»Šå¾ˆå¤šå…¬å¸éƒ½å¼€å§‹æ‹¥æŠ±å¼€æºäº†ï¼Œåƒå°ç±³å°±éå¸¸æ”¯æŒæˆ‘çš„å·¥ä½œï¼Œä¹Ÿæ”¯æŒå¼€æºï¼Œæ‰€ä»¥æˆ‘åˆå›åˆ°äº†å·¥ä¸šç•Œã€‚</p>
<h2 data-id="heading-4">å¯»æ‰¾ Transformer ä¹‹åçš„ä¸‹ä¸€ä¸ªé¢ è¦†è€…</h2>
<p>å›åˆ°å…³äºè¿›åŒ–çš„æ¯”å–»ï¼Œæˆ‘åˆšæ‰åæ§½è¿‡è®ºæ–‡ä¸­çš„é‚£äº›æ•°å­¦ç†è®ºå¾€å¾€ä¸å¤Ÿå…·ä½“ï¼Œæ²¡æ³•è½åœ°ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬åˆ°åº•èƒ½ä»ä¸­èƒ½å­¦åˆ°ä»€ä¹ˆå®å®åœ¨åœ¨çš„ä¸œè¥¿å‘¢ï¼Ÿ</p>
<p>æœ‰ä¸€ç‚¹å¾ˆå…³é”®ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬éœ€è¦åœ¨å„ç§ä¸åŒçš„ä»»åŠ¡ä¸Šä¸æ–­æ¢ç´¢æ–°æ€è·¯ã€‚</p>
<p>å› ä¸ºåœ¨è¿›åŒ–è¿™ä»¶äº‹ä¸Šï¼Œå¾ˆéš¾é¢„åˆ¤å“ªç§ç”Ÿç‰©æœ€ç»ˆä¼šèƒœå‡ºã€‚å°±åƒå•®é½¿ç±»åŠ¨ç‰©ï¼Œèµ·åˆå¯èƒ½åªæ˜¯ä¸ºäº†åƒç«¹å­ç§å­è¿™ç§æå…·ä½“çš„ç›®çš„è€Œè¿›åŒ–çš„ã€‚</p>
<p>ä½†ç»“æœè°æ›¾æƒ³ï¼Œè¿™åè€Œè®©å®ƒä»¬æ¼”åŒ–å‡ºäº†ä¸€ç§æå¼ºçš„ â€œé€šæ‰â€ å¼ç”Ÿå­˜èƒ½åŠ›ï¼Œæœ€ç»ˆéå¸ƒå…¨çƒã€æ— æ‰€ä¸èƒ½ã€‚</p>
<p>å¯åœ¨å½“æ—¶ï¼Œè°èƒ½æƒ³åˆ°åƒç«¹å­ç§å­è¿™äº‹å„¿èƒ½å¸¦æ¥è¿™ä¹ˆå¤§çš„çªç ´å‘¢ï¼Ÿè¿™ç§äº‹çœŸçš„å¤ªéš¾é¢„æµ‹äº†ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œå…³é”®å°±åœ¨äºè¦<strong>å¤šå°è¯•ä¸åŒçš„ä»»åŠ¡</strong>ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ºäº†çªç ´æŸä¸ªä»»åŠ¡ç‰¹æœ‰é™åˆ¶ç ”å‘å‡ºçš„è§£å†³æ–¹æ¡ˆï¼Œå¯èƒ½æœ€åä¼šè¢«è¯æ˜å…·æœ‰æé«˜çš„é€šç”¨ä»·å€¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b36641dd5f354d8db9fc4b5b624f0e4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457305&amp;x-signature=rN08PLNODxb43NIETQ7w5tlJIRc%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬éœ€è¦å…³æ³¨è¿›åŒ–è¿‡ç¨‹ä¸­ â€œé€šæ‰â€ ä¸â€œä¸“æ‰â€ä¹‹é—´çš„æƒè¡¡ï¼Œæˆ‘å¹¶éè¦åˆ†å‡ºå­°ä¼˜å­°åŠ£ï¼Œä½†æ˜¯ä»é•¿è¿œæ¥çœ‹ï¼Œä¸åŒçš„è¿›åŒ–ç­–ç•¥èƒ½å¤Ÿé€‚åº”ä¸åŒçš„ç¯å¢ƒâ€”â€”</p>
<p>å¦‚æœç¯å¢ƒé•¿æœŸç¨³å®šï¼Œè‡ªç„¶ç•Œå¾€å¾€ä¼šæ¶Œç°å‡ºå¤§é‡åƒç†ŠçŒ«è¿™æ ·çš„ â€œä¸“æ‰â€ï¼Œå®ƒä»¬è™½ç„¶åªåƒä¸€ç§é£Ÿç‰©ï¼Œå´èƒ½åšåˆ°æè‡´é€‚åº”ï¼›</p>
<p>å¯ä¸€æ—¦ç¯å¢ƒå˜å¾—åŠ¨è¡å¤šå˜ï¼Œåƒè€é¼ è¿™ç§é€‚åº”åŠ›æå¼ºçš„ â€œé€šæ‰â€ å¾€å¾€æ›´å…·ç”Ÿå­˜ä¼˜åŠ¿ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™ä¸¤ç§ç”Ÿå­˜ç­–ç•¥å¾ˆå¯èƒ½æ˜¯ç¼ºä¸€ä¸å¯çš„ã€‚</p>
<p>å¯¹äº AI è€Œè¨€ï¼Œæˆ‘ä»¬åº”è¯¥è®©æ¨¡å‹åœ¨å¤šä¸ªä¸åŒçš„ç”Ÿæ€ä½é‡ŒåŒæ—¶æ¼”è¿›ï¼Œè¿™å°±åƒè‡ªç„¶ç•Œåœ¨ä¸åŒç¯å¢ƒä¸­è¿›è¡Œçš„è¿›åŒ–ä¸€æ ·ã€‚æ¯•ç«Ÿï¼Œæ¯ä¸ªç‰©ç§é€šå¸¸éƒ½æœ‰å…¶æœ€é€‚åº”çš„ç‰¹å®šç”Ÿå­˜ç©ºé—´ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½åŒæ—¶ä¿ç•™å¤šç§ä¸åŒçš„æŠ€æœ¯è·¯çº¿ï¼Œè¯´ä¸å®šå…¶ä¸­æŸä¸€æ¡åœ¨ç»è¿‡è¿›ä¸€æ­¥æ‰“ç£¨åï¼Œå°±èƒ½å¸¦æ¥å·¨å¤§çš„å›æŠ¥ã€‚ä½†è¿™äº‹å„¿å¾ˆéš¾æå‰é¢„åˆ¤ï¼Œæ²¡äººçŸ¥é“çœ¼ä¸‹å“ªä¸ªæ¨¡å‹ä¼šåœ¨æœªæ¥ç§°ç‹ã€‚</p>
<p>å‡ºäºåŒæ ·çš„ç†ç”±ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥ç»´æŒ<strong>æ¨¡å‹æ¶æ„çš„å¤šæ ·æ€§</strong>ã€‚è¿™å°±åƒå¤§è‡ªç„¶ä¿ç•™äº†ä¸°å¯Œå¤šæ ·çš„ç‰©ç§ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä»¬æ ¹æœ¬æ— æ³•ç¡®å®šï¼Œåˆ°åº•å“ªä¸€ç§æ¶æ„ä¼šå­•è‚²å‡ºä¸‹ä¸€è½®çš„é‡å¤§çªç ´ã€‚</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œå¤§å¤šæ•°å¤§å‹æœºæ„é‡‡å–ä¸¤å¤´å¹¶é‡çš„ç­–ç•¥æ˜¯æ¯”è¾ƒæ˜æ™ºçš„â€”â€”æ—¢è¦æ²¿ç”¨åƒ Transformer ç­‰å½“å‰æœ€é¡¶å°–çš„æˆç†Ÿæ¨¡å‹ï¼ŒåŒæ—¶ä¹Ÿå¾—æŠ•å…¥ä¸€äº›èµ„æºå»åšæ¢ç´¢æ€§ç ”ç©¶ï¼Œå»å¯»æ‰¾ä¸‹ä¸€ä¸ªæŠ€æœ¯çªç ´å£ã€‚</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼ŒTransformer è¿™ç§æŠ€æœ¯é¢†åŸŸçš„ç«äº‰ç°çŠ¶ï¼Œå°±åƒæ˜¯ â€œæŠ¢æ¤…å­â€â€”â€”åªè¦éŸ³ä¹è¿˜åœ¨å“ï¼Œä½ å°±å¾—è·Ÿç€ä¸€ç›´è·³ã€‚</p>
<p>æ¯•ç«Ÿåœ¨ Transformer å’Œ LLM ä¾ç„¶ç§°éœ¸çš„å½“ä¸‹ï¼Œä»»ä½•ä¸€å®¶å…¬å¸éƒ½ç»æ— å¯èƒ½æŠŠèº«å®¶æ€§å‘½éƒ½æŠ¼åœ¨åˆ«çš„è·¯çº¿ä¸Šã€‚</p>
<p>ä½†å¤§å®¶å¿ƒé‡Œä¹Ÿéƒ½æ¸…æ¥šï¼ŒéŸ³ä¹è¿Ÿæ—©æœ‰åœä¸‹æ¥çš„é‚£ä¸€å¤©ã€‚</p>
<p>æ‰€ä»¥ï¼Œå°ç±³åœ¨ LLM ä¸Šçš„ç ”ç©¶ä¸»çº¿å¾ˆæ˜ç¡®ï¼Œé‚£å°±æ˜¯åˆ©ç”¨ SOTA çº§åˆ«çš„ AI å’Œå¤§æ¨¡å‹æŠ€æœ¯ï¼Œå»å…¨æ–¹ä½èµ‹èƒ½æˆ‘ä»¬çš„ â€œäººè½¦å®¶å…¨ç”Ÿæ€â€ã€‚</p>
<p>æˆ‘ä¸ªäººå…¶å®å¹¶æ²¡æœ‰æ·±åº¦å‚ä¸è¿™äº›å·¥ä½œï¼Œå› ä¸ºæˆ‘å’Œå›¢é˜Ÿä¸»è¦è´Ÿè´£çš„æ˜¯æ¢ç´¢æ€§ç ”ç©¶ã€‚æˆ‘ä»¬å°è¯•äº†å¤§é‡ä¸åŒçš„æ–¹å‘ï¼Œå°±æ˜¯å¸Œæœ›èƒ½æ‰¾åˆ°èƒ½äº§ç”Ÿå·¨å¤§å½±å“çš„æˆæœï¼Œä½†è¿™äº‹çš„æˆåŠŸç‡å‘æ¥æä½ã€‚</p>
<p>å›é¦–æˆ‘çš„æ•´ä¸ªç ”ç©¶ç”Ÿæ¶¯ï¼Œå°è¯•è¿‡çš„ç‚¹å­ææ€•å¾—æœ‰ä¸Šä¸‡ä¸ªã€‚ç°åœ¨å›å¤´çœ‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸¤ä¸ªå¦‚æœå½“æ—¶æˆ‘èƒ½æ¨å¹¿å¾—å†å¥½ä¸€ç‚¹ï¼Œè¯´ä¸å®šçœŸèƒ½æˆä¸ºé¢ è¦†æ€§çš„æŠ€æœ¯ã€‚</p>
<p>æ¯”å¦‚ï¼Œæ—©åœ¨å¤§å®¶è¿ BatchNorm éƒ½è¿˜æ²¡å¼€å§‹ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»„å…¶å®å°±å·²ç»è®¾è®¡å‡ºäº†ä¸€ç§ç±»ä¼¼äº LayerNorm çš„å½’ä¸€åŒ–æ¨¡å—ã€‚</p>
<p>ä½†æˆ‘ä¹Ÿä¸æƒ³åƒ JÃ¼rgen Schmidhuber é‚£æ ·è¯´ â€œæˆ‘åœ¨æ‰€æœ‰äººä¹‹å‰å‘æ˜äº†ä¸€åˆ‡â€ã€‚</p>
<p><em>ï¼ˆæ³¨ï¼šJurgen Schmidhuber æ˜¯è‘—åè®¡ç®—æœºç§‘å­¦å®¶ã€LSTM ä¹‹çˆ¶ï¼Œå–œæ¬¢åœ¨ AI é¢†åŸŸå‡ºç°æ–°æˆæœæ—¶å‘è¡¨æ–‡ç« æˆ–è¯„è®ºï¼Œåˆ—ä¸¾è‡ªå·±ä¸Šä¸–çºªçš„è®ºæ–‡ï¼Œè¡¨ç¤º â€œè¿™ä¸ªä¸œè¥¿æˆ‘å‡ åå¹´å‰å°±å‘æ˜è¿‡äº†â€ã€‚ï¼‰</em></p>
<p>å› ä¸ºä½œä¸ºä¸€åç ”ç©¶äººå‘˜ï¼Œæœ‰è´£ä»»å»åˆ¤æ–­å“ªäº›æ˜¯æœ‰ä»·å€¼çš„æƒ³æ³•ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¦¥å–„æ¨å¹¿ã€‚å¦‚æœä½ æ²¡åšåˆ°ï¼Œé‚£å°±å¾—æ‰¿è®¤æ˜¯è‡ªå·±çš„å¤±è¯¯ã€‚</p>
<p>è¨€å½’æ­£ä¼ ï¼Œæˆ‘çš„å›¢é˜Ÿç›®å‰æ­£åœ¨ç ”å‘ä¸€ç§é’ˆå¯¹è¯­éŸ³çš„æ–°æ¨¡å‹æ¶æ„ï¼Œå« <strong>Zapformer</strong>ï¼Œæ˜¯ä¸€ä¸ªé€šç”¨å£°éŸ³åŸºåº§ã€‚</p>
<p>ç›¸è¾ƒäºæˆ‘ä»¬å»å¹´æ¨å‡ºçš„ Zipformer è€Œè¨€ï¼ŒZapformer å®ç°äº†ä¸‰å¤§è·¨è¶Šï¼š</p>
<ul>
<li>
<p>ä» â€œäººå£°â€ åˆ°â€œä¸‡å£°â€çš„è·¨è¶Šï¼šä»ä¸“æ³¨äºäººå£°å»ºæ¨¡ï¼Œåˆ°æˆä¸ºèƒ½åŒæ—¶ç†è§£äººå£°ã€ç¯å¢ƒéŸ³ç­‰å¤šå…ƒä¿¡æ¯çš„é€šç”¨å£°éŸ³åŸºåº§ï¼›</p>
</li>
<li>
<p>ä»ä¼˜åŒ–ç»“æ„åˆ°åˆ›æ–°ç†è®ºçš„è·¨è¶Šï¼šé€šè¿‡å¼•å…¥æ¢¯åº¦æµï¼ˆGradient Flowï¼‰ç†è®ºæŒ‡å¯¼æ¨¡å‹è®¾è®¡ï¼Œåœ¨å·²å±ä¸šç•Œæ ‡æ†çš„ Zipformer åŸºç¡€ä¸Šï¼Œå°†è¯­éŸ³è¯†åˆ«ç²¾åº¦å†æ¬¡æ˜¾è‘—æå‡ 10%-15%ï¼›</p>
</li>
<li>
<p>ä»ä¸“ç”¨ä¼˜åŒ–åˆ°é€šç”¨å¥å£®çš„è·¨è¶Šï¼šä¸ºé€‚åº”æµ·é‡æ•°æ®è®­ç»ƒç§»é™¤äº† Dropout å±‚ï¼Œå¢å¼ºäº†å¤§æ•°æ®æ‹Ÿåˆèƒ½åŠ›ï¼ŒåŒæ—¶å°†ä¼˜åŒ–å™¨å‡çº§ä¸º TransformAdamï¼Œåœ¨ä¿æŒæé€Ÿæ”¶æ•›çš„åŒæ—¶ï¼Œå¤§å¹…æå‡äº†è®­ç»ƒçš„é€šç”¨æ€§ä¸ç¨³å®šæ€§ã€‚</p>
</li>
</ul>
<p>æˆ‘ä¸æƒ³æŠŠè¯è¯´å¤ªæ»¡ï¼Œè¯´å®ƒå°±æ˜¯ â€œä¸‹ä¸€ä¸ªå¤§çƒ­é—¨â€ï¼Œä½†å®ƒç¡®å®åŒ…å«äº†ä¸å°‘æœ‰æ„æ€çš„æƒ³æ³•ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æŠ¼ä¸­ä¸‹ä¸€ä¸ª â€œå¤§æ€å™¨â€ï¼Œä½†è¿™äº‹å„¿è°ä¹Ÿæ²¡æ³•æ‰“åŒ…ç¥¨ã€‚</p>
<p>æ‰€æœ‰è¿™äº›æˆæœå…¨éƒ½æ˜¯å¼€æºçš„ï¼Œå› ä¸ºæˆ‘æ˜¯å¼€æºçš„åšå®šä¿¡å¾’ã€‚é™¤äº†æˆ‘çš„é¡¹ç›®ï¼Œå°ç±³è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å¼€æºé¡¹ç›®ã€‚</p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è¯»æ‡‚å¤§æ¨¡å‹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ï¼šä»ç†è®ºåˆ°å®è·µ]]></title>    <link>https://juejin.cn/post/7583943503556788274</link>    <guid>https://juejin.cn/post/7583943503556788274</guid>    <pubDate>2025-12-16T02:37:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583943503556788274" data-draft-id="7583613222345064474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è¯»æ‡‚å¤§æ¨¡å‹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ï¼šä»ç†è®ºåˆ°å®è·µ"/> <meta itemprop="keywords" content="LLM,Agent,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-16T02:37:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è¯»æ‡‚å¤§æ¨¡å‹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ï¼šä»ç†è®ºåˆ°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:37:08.000Z" title="Tue Dec 16 2025 02:37:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<blockquote>
<p>â˜…</p>
<p>æœ¬æ–‡å…¨é¢æ¢³ç†äº†æ™ºèƒ½ä½“(Agent)çš„æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡ä¸å®ç°æ–¹æ³•ï¼Œä»¥åŠä¸»æµæ¡†æ¶çš„å¯¹æ¯”åˆ†æã€‚</p>
</blockquote>
<h2 data-id="heading-0">1.  æ™ºèƒ½ä½“åŸºç¡€ï¼šç†è§£Agentçš„å·¥ä½œåŸç†</h2>
<hr/>
<h4 data-id="heading-1">1.1 ä»»åŠ¡ç¯å¢ƒåˆ†æï¼šPEASæ¨¡å‹</h4>
<p>è¦ç†è§£æ™ºèƒ½ä½“çš„è¿ä½œï¼Œæˆ‘ä»¬å¿…é¡»å…ˆç†è§£å®ƒæ‰€å¤„çš„ä»»åŠ¡ç¯å¢ƒã€‚åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸï¼Œé€šå¸¸ä½¿ç”¨PEASæ¨¡å‹æ¥ç²¾ç¡®æè¿°ä¸€ä¸ªä»»åŠ¡ç¯å¢ƒï¼Œå³åˆ†æå…¶ï¼š</p>
<ul>
<li><strong>æ€§èƒ½åº¦é‡</strong>(Performance)ï¼šè¯„ä¼°æ™ºèƒ½ä½“æˆåŠŸä¸å¦çš„æ ‡å‡†</li>
<li><strong>ç¯å¢ƒ</strong>(Environment)ï¼šæ™ºèƒ½ä½“è¿ä½œçš„åœºæ™¯ä¸æ¡ä»¶</li>
<li><strong>æ‰§è¡Œå™¨</strong>(Actuators)ï¼šæ™ºèƒ½ä½“å½±å“ç¯å¢ƒçš„æ–¹å¼</li>
<li><strong>ä¼ æ„Ÿå™¨</strong>(Sensors)ï¼šæ™ºèƒ½ä½“è·å–ç¯å¢ƒä¿¡æ¯çš„æ¸ é“</li>
</ul>
<h4 data-id="heading-2">1.2 æ™ºèƒ½ä½“å¾ªç¯ï¼šæŒç»­äº¤äº’çš„æ ¸å¿ƒæœºåˆ¶</h4>
<p>æ™ºèƒ½ä½“å¹¶éä¸€æ¬¡æ€§å®Œæˆä»»åŠ¡ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªæŒç»­çš„å¾ªç¯ä¸ç¯å¢ƒè¿›è¡Œäº¤äº’ï¼Œè¿™ä¸ªæ ¸å¿ƒæœºåˆ¶è¢«ç§°ä¸º<strong>æ™ºèƒ½ä½“å¾ªç¯</strong>(Agent Loop)ã€‚åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼Œæ™ºèƒ½ä½“æ¥æ”¶ç¯å¢ƒä¿¡æ¯ï¼Œè¿›è¡Œå†…éƒ¨æ¨ç†ï¼Œç„¶åæ‰§è¡ŒåŠ¨ä½œï¼Œå†è§‚å¯Ÿç»“æœï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°è¾¾æˆç›®æ ‡ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b0c72a75308473389b1898bddf8bd7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=4JkOEtGG3ryleqVOtohXIlvjUa4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">1.3 æç¤ºå·¥ç¨‹ï¼šé©±åŠ¨LLMçš„å…³é”®</h4>
<p>é©±åŠ¨çœŸå®LLMçš„å…³é”®åœ¨äºæç¤ºå·¥ç¨‹(Prompt Engineering)ã€‚æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ª"æŒ‡ä»¤æ¨¡æ¿"ï¼Œå‘Šè¯‰LLMå®ƒåº”è¯¥æ‰®æ¼”ä»€ä¹ˆè§’è‰²ã€æ‹¥æœ‰å“ªäº›å·¥å…·ã€ä»¥åŠå¦‚ä½•æ ¼å¼åŒ–å®ƒçš„æ€è€ƒå’Œè¡ŒåŠ¨ã€‚è¿™æ˜¯æˆ‘ä»¬æ™ºèƒ½ä½“çš„"è¯´æ˜ä¹¦"ï¼Œå®ƒå°†ä½œä¸ºsystem_promptä¼ é€’ç»™LLMã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªæ—…è¡ŒåŠ©æ‰‹æ™ºèƒ½ä½“çš„ç³»ç»Ÿæç¤ºå¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">AGENT_SYSTEM_PROMPT</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½æ—…è¡ŒåŠ©æ‰‹ã€‚ä½ çš„ä»»åŠ¡æ˜¯åˆ†æç”¨æˆ·çš„è¯·æ±‚,å¹¶ä½¿ç”¨å¯ç”¨å·¥å…·ä¸€æ­¥æ­¥åœ°è§£å†³é—®é¢˜ã€‚ Â   
  
# å¯ç”¨å·¥å…·: Â   
- `get_weather(city: str)`: æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ã€‚Â   
- `get_attraction(city: str, weather: str)`: æ ¹æ®åŸå¸‚å’Œå¤©æ°”æœç´¢æ¨èçš„æ—…æ¸¸æ™¯ç‚¹ã€‚ Â   
  
# è¡ŒåŠ¨æ ¼å¼: Â   
ä½ çš„å›ç­”å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼ã€‚é¦–å…ˆæ˜¯ä½ çš„æ€è€ƒè¿‡ç¨‹,ç„¶åæ˜¯ä½ è¦æ‰§è¡Œçš„å…·ä½“è¡ŒåŠ¨ã€‚ Â   
Thought: [è¿™é‡Œæ˜¯ä½ çš„æ€è€ƒè¿‡ç¨‹å’Œä¸‹ä¸€æ­¥è®¡åˆ’] Â   
Action: [è¿™é‡Œæ˜¯ä½ è¦è°ƒç”¨çš„å·¥å…·,æ ¼å¼ä¸º function_name(arg_name="arg_value")] Â   
  
# ä»»åŠ¡å®Œæˆ: Â   
å½“ä½ æ”¶é›†åˆ°è¶³å¤Ÿçš„ä¿¡æ¯,èƒ½å¤Ÿå›ç­”ç”¨æˆ·çš„æœ€ç»ˆé—®é¢˜æ—¶,ä½ å¿…é¡»åœ¨`Action:`å­—æ®µåä½¿ç”¨ `finish(answer="...")` Â   
æ¥è¾“å‡ºæœ€ç»ˆç­”æ¡ˆã€‚ Â   
  
è¯·å¼€å§‹å§!  
"""</span>
</code></pre>
<h2 data-id="heading-4">2.  æ™ºèƒ½ä½“ vs ä¼ ç»Ÿå·¥ä½œæµï¼šæœ¬è´¨åŒºåˆ«</h2>
<hr/>
<h4 data-id="heading-5">2.1 å·¥ä½œæµ(Workflow)æ¨¡å¼</h4>
<p>å·¥ä½œæµæ˜¯ä¸€ç§ä¼ ç»Ÿçš„è‡ªåŠ¨åŒ–èŒƒå¼ï¼Œå…¶æ ¸å¿ƒæ˜¯å¯¹ä¸€ç³»åˆ—ä»»åŠ¡æˆ–æ­¥éª¤è¿›è¡Œé¢„å…ˆå®šä¹‰çš„ã€ç»“æ„åŒ–çš„ç¼–æ’ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç²¾ç¡®çš„ã€é™æ€çš„æµç¨‹å›¾ï¼Œè§„å®šäº†åœ¨ä½•ç§æ¡ä»¶ä¸‹ã€ä»¥ä½•ç§é¡ºåºæ‰§è¡Œå“ªäº›æ“ä½œã€‚</p>
<h4 data-id="heading-6">2.2 æ™ºèƒ½ä½“(Agent)æ¨¡å¼</h4>
<p>åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½ä½“æ˜¯ä¸€ä¸ªå…·å¤‡è‡ªä¸»æ€§çš„ã€ä»¥ç›®æ ‡ä¸ºå¯¼å‘çš„ç³»ç»Ÿã€‚å®ƒä¸ä»…ä»…æ˜¯æ‰§è¡Œé¢„è®¾æŒ‡ä»¤ï¼Œè€Œæ˜¯èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šç†è§£ç¯å¢ƒã€è¿›è¡Œæ¨ç†ã€åˆ¶å®šè®¡åˆ’ï¼Œå¹¶åŠ¨æ€åœ°é‡‡å–è¡ŒåŠ¨ä»¥è¾¾æˆæœ€ç»ˆç›®æ ‡ã€‚LLMåœ¨å…¶ä¸­æ‰®æ¼”ç€"å¤§è„‘"çš„è§’è‰²ã€‚è¿™ç§åŸºäºå®æ—¶ä¿¡æ¯è¿›è¡ŒåŠ¨æ€æ¨ç†å’Œå†³ç­–çš„èƒ½åŠ›ï¼Œæ­£æ˜¯Agentçš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb4dfb1618934a0d963747e54fd9b12d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=O4kcSQyCM%2FLUwDsh3RhIREIYAFo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">3.  æ¨¡å‹å‚æ•°è°ƒä¼˜ï¼šæå‡Agentæ€§èƒ½çš„å…³é”®</h2>
<hr/>
<h4 data-id="heading-8">3.1 æ¸©åº¦(Temperature)å‚æ•°</h4>
<p>Temperatureè¿™ç±»çš„å¯é…ç½®å‚æ•°ï¼Œå…¶æœ¬è´¨æ˜¯é€šè¿‡è°ƒæ•´æ¨¡å‹å¯¹"æ¦‚ç‡åˆ†å¸ƒ"çš„é‡‡æ ·ç­–ç•¥ï¼Œè®©è¾“å‡ºåŒ¹é…å…·ä½“åœºæ™¯éœ€æ±‚ï¼Œé…ç½®åˆé€‚çš„å‚æ•°å¯ä»¥æå‡Agentåœ¨ç‰¹å®šåœºæ™¯çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-9">3.2 Top-kä¸Top-pé‡‡æ ·</h4>
<ul>
<li><strong>Top-k</strong>ï¼šå°†æ‰€æœ‰tokenæŒ‰æ¦‚ç‡ä»é«˜åˆ°ä½æ’åºï¼Œå–æ’åå‰kä¸ªçš„tokenç»„æˆ"å€™é€‰é›†"ï¼Œéšåå¯¹ç­›é€‰å‡ºçš„kä¸ªtokençš„æ¦‚ç‡è¿›è¡Œ"å½’ä¸€åŒ–"</li>
<li><strong>Top-p</strong>ï¼šå°†æ‰€æœ‰tokenæŒ‰æ¦‚ç‡ä»é«˜åˆ°ä½æ’åºï¼Œä»æ’åºåçš„ç¬¬ä¸€ä¸ªtokenå¼€å§‹ï¼Œé€æ­¥ç´¯åŠ æ¦‚ç‡ï¼Œç›´åˆ°ç´¯ç§¯å’Œé¦–æ¬¡è¾¾åˆ°æˆ–è¶…è¿‡é˜ˆå€¼p</li>
</ul>
<h4 data-id="heading-10">3.3 å‚æ•°ååŒå·¥ä½œæœºåˆ¶</h4>
<p>åœ¨æ–‡æœ¬ç”Ÿæˆä¸­ï¼Œå½“åŒæ—¶è®¾ç½®Top-pã€Top-kå’Œæ¸©åº¦ç³»æ•°æ—¶ï¼Œè¿™äº›å‚æ•°ä¼šæŒ‰ç…§åˆ†å±‚è¿‡æ»¤çš„æ–¹å¼ååŒå·¥ä½œï¼Œå…¶ä¼˜å…ˆçº§é¡ºåºä¸ºï¼šæ¸©åº¦è°ƒæ•´â†’Top-kâ†’Top-pã€‚æ¸©åº¦è°ƒæ•´æ•´ä½“åˆ†å¸ƒçš„é™¡å³­ç¨‹åº¦ï¼ŒTop-kä¼šå…ˆä¿ç•™æ¦‚ç‡æœ€é«˜çš„kä¸ªå€™é€‰ï¼Œç„¶åTop-pä¼šä»Top-kçš„ç»“æœä¸­é€‰å–ç´¯ç§¯æ¦‚ç‡â‰¥pçš„æœ€å°é›†åˆä½œä¸ºæœ€ç»ˆçš„å€™é€‰é›†ã€‚</p>
<h2 data-id="heading-11">4.  æ ¸å¿ƒæ™ºèƒ½ä½“æ¶æ„ä¸å®ç°</h2>
<hr/>
<h4 data-id="heading-12">4.1 ReActæ™ºèƒ½ä½“</h4>
<p>ReActæ˜¯ä¸€ç§å°†æ¨ç†(Reasoning)ä¸è¡ŒåŠ¨(Action)ç›¸ç»“åˆçš„æ™ºèƒ½ä½“æ¶æ„ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯è®©æ™ºèƒ½ä½“åœ¨æ€è€ƒè¿‡ç¨‹ä¸­æ˜ç¡®è¡¨è¾¾æ¨ç†æ­¥éª¤ï¼Œç„¶ååŸºäºæ¨ç†é€‰æ‹©é€‚å½“çš„è¡ŒåŠ¨ï¼Œå†æ ¹æ®è¡ŒåŠ¨ç»“æœæ›´æ–°è®¤çŸ¥ï¼Œå½¢æˆä¸€ä¸ªæŒç»­çš„å¾ªç¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d696e9f05cd546fe98e100dc3ae441e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=y1ESV2NkPQiw51VF%2Bfm6Mh0dNBY%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ReActæç¤ºè¯æ¨¡æ¿  </span>
<span class="hljs-attr">REACT_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
è¯·æ³¨æ„,ä½ æ˜¯ä¸€ä¸ªæœ‰èƒ½åŠ›è°ƒç”¨å¤–éƒ¨å·¥å…·çš„æ™ºèƒ½åŠ©æ‰‹ã€‚ Â   
å¯ç”¨å·¥å…·å¦‚ä¸‹: Â {tools} Â   
  
è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿›è¡Œå›åº”: Â   
Thought: ä½ çš„æ€è€ƒè¿‡ç¨‹,ç”¨äºåˆ†æé—®é¢˜ã€æ‹†è§£ä»»åŠ¡å’Œè§„åˆ’ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚ Â   
Action: ä½ å†³å®šé‡‡å–çš„è¡ŒåŠ¨,å¿…é¡»æ˜¯ä»¥ä¸‹æ ¼å¼ä¹‹ä¸€: Â   
- `{tool_name}[{tool_input}]`:è°ƒç”¨ä¸€ä¸ªå¯ç”¨å·¥å…·ã€‚Â   
- `Finish[æœ€ç»ˆç­”æ¡ˆ]`:å½“ä½ è®¤ä¸ºå·²ç»è·å¾—æœ€ç»ˆç­”æ¡ˆæ—¶ã€‚ Â   
- å½“ä½ æ”¶é›†åˆ°è¶³å¤Ÿçš„ä¿¡æ¯,èƒ½å¤Ÿå›ç­”ç”¨æˆ·çš„æœ€ç»ˆé—®é¢˜æ—¶,ä½ å¿…é¡»åœ¨Action:å­—æ®µåä½¿ç”¨ finish(answer="...") æ¥è¾“å‡ºæœ€ç»ˆç­”æ¡ˆã€‚ Â   
  
ç°åœ¨,è¯·å¼€å§‹è§£å†³ä»¥ä¸‹é—®é¢˜:  
Question: {question} Â   
History: {history} Â   
"""</span>
</code></pre>
<p>æ™ºèƒ½ä½“å°†ä¸æ–­é‡å¤è¿™ä¸ªThought -&gt; Action -&gt; Observationçš„å¾ªç¯ï¼Œå°†æ–°çš„è§‚å¯Ÿç»“æœè¿½åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œå½¢æˆä¸€ä¸ªä¸æ–­å¢é•¿çš„ä¸Šä¸‹æ–‡ï¼Œç›´åˆ°å®ƒåœ¨Thoughtä¸­è®¤ä¸ºå·²ç»æ‰¾åˆ°äº†æœ€ç»ˆç­”æ¡ˆï¼Œç„¶åè¾“å‡ºç»“æœã€‚è¿™ä¸ªè¿‡ç¨‹å½¢æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ååŒæ•ˆåº”ï¼šæ¨ç†ä½¿å¾—è¡ŒåŠ¨æ›´å…·ç›®çš„æ€§ï¼Œè€Œè¡ŒåŠ¨åˆ™ä¸ºæ¨ç†æä¾›äº†äº‹å®ä¾æ®ã€‚</p>
<h4 data-id="heading-13">4.2 Plan-and-Solveæ™ºèƒ½ä½“</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d4ef1a7c03546e098fa946fdd8939ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=ufKPUFYMk1IeKbOYye8D7co2f0M%3D" alt="" loading="lazy"/></p>
<p>Plan-and-Solveå°†æ•´ä¸ªæµç¨‹è§£è€¦ä¸ºä¸¤ä¸ªæ ¸å¿ƒé˜¶æ®µï¼š</p>
<ol>
<li>è§„åˆ’é˜¶æ®µ(Planning Phase)ï¼šé¦–å…ˆï¼Œæ™ºèƒ½ä½“ä¼šæ¥æ”¶ç”¨æˆ·çš„å®Œæ•´é—®é¢˜ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªä»»åŠ¡ä¸æ˜¯ç›´æ¥å»è§£å†³é—®é¢˜æˆ–è°ƒç”¨å·¥å…·ï¼Œè€Œæ˜¯å°†é—®é¢˜åˆ†è§£ï¼Œå¹¶åˆ¶å®šå‡ºä¸€ä¸ªæ¸…æ™°ã€åˆ†æ­¥éª¤çš„è¡ŒåŠ¨è®¡åˆ’ã€‚è¿™ä¸ªè®¡åˆ’æœ¬èº«å°±æ˜¯ä¸€æ¬¡å¤§è¯­è¨€æ¨¡å‹çš„è°ƒç”¨äº§ç‰©ã€‚</li>
<li>æ‰§è¡Œé˜¶æ®µ(Solving Phase)ï¼šåœ¨è·å¾—å®Œæ•´çš„è®¡åˆ’åï¼Œæ™ºèƒ½ä½“è¿›å…¥æ‰§è¡Œé˜¶æ®µã€‚å®ƒä¼šä¸¥æ ¼æŒ‰ç…§è®¡åˆ’ä¸­çš„æ­¥éª¤ï¼Œé€ä¸€æ‰§è¡Œã€‚æ¯ä¸€æ­¥çš„æ‰§è¡Œéƒ½å¯èƒ½æ˜¯ä¸€æ¬¡ç‹¬ç«‹çš„LLMè°ƒç”¨ï¼Œæˆ–è€…æ˜¯å¯¹ä¸Šä¸€æ­¥ç»“æœçš„åŠ å·¥å¤„ç†ï¼Œç›´åˆ°è®¡åˆ’ä¸­çš„æ‰€æœ‰æ­¥éª¤éƒ½å®Œæˆï¼Œæœ€ç»ˆå¾—å‡ºç­”æ¡ˆã€‚</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è§„åˆ’å™¨æç¤ºè¯æ¨¡æ¿  </span>
<span class="hljs-attr">PLANNER_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä¸ªé¡¶çº§çš„AIè§„åˆ’ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯å°†ç”¨æˆ·æå‡ºçš„å¤æ‚é—®é¢˜åˆ†è§£æˆä¸€ä¸ªç”±å¤šä¸ªç®€å•æ­¥éª¤ç»„æˆçš„è¡ŒåŠ¨è®¡åˆ’ã€‚ Â   
è¯·ç¡®ä¿è®¡åˆ’ä¸­çš„æ¯ä¸ªæ­¥éª¤éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ã€å¯æ‰§è¡Œçš„å­ä»»åŠ¡,å¹¶ä¸”ä¸¥æ ¼æŒ‰ç…§é€»è¾‘é¡ºåºæ’åˆ—ã€‚ Â   
ä½ çš„è¾“å‡ºå¿…é¡»æ˜¯ä¸€ä¸ªPythonåˆ—è¡¨,å…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæè¿°å­ä»»åŠ¡çš„å­—ç¬¦ä¸²ã€‚ Â   
  
é—®é¢˜: {question} Â   
è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºä½ çš„è®¡åˆ’,`pythonä¸`ä½œä¸ºå‰åç¼€æ˜¯å¿…è¦çš„: Â   
`python Â   
["æ­¥éª¤1", "æ­¥éª¤2", "æ­¥éª¤3", ...] Â   
` Â   
"""</span>  
  
<span class="hljs-comment"># æ‰§è¡Œå™¨æç¤ºè¯æ¨¡æ¿  </span>
<span class="hljs-attr">EXECUTOR_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä½é¡¶çº§çš„AIæ‰§è¡Œä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä¸¥æ ¼æŒ‰ç…§ç»™å®šçš„è®¡åˆ’,ä¸€æ­¥æ­¥åœ°è§£å†³é—®é¢˜ã€‚ Â   
ä½ å°†æ”¶åˆ°åŸå§‹é—®é¢˜ã€å®Œæ•´çš„è®¡åˆ’ã€ä»¥åŠåˆ°ç›®å‰ä¸ºæ­¢å·²ç»å®Œæˆçš„æ­¥éª¤å’Œç»“æœã€‚ Â   
è¯·ä½ ä¸“æ³¨äºè§£å†³"å½“å‰æ­¥éª¤",å¹¶ä»…è¾“å‡ºè¯¥æ­¥éª¤çš„æœ€ç»ˆç­”æ¡ˆ,ä¸è¦è¾“å‡ºä»»ä½•é¢å¤–çš„è§£é‡Šæˆ–å¯¹è¯ã€‚ Â   
  
# åŸå§‹é—®é¢˜: Â   
{question} Â   
  
# å®Œæ•´è®¡åˆ’: Â   
{plan} Â   
  
# å†å²æ­¥éª¤ä¸ç»“æœ: Â   
{history} Â   
  
# å½“å‰æ­¥éª¤: Â   
{current_step} Â   
  
è¯·ä»…è¾“å‡ºé’ˆå¯¹"å½“å‰æ­¥éª¤"çš„å›ç­”: Â   
"""</span>
</code></pre>
<h4 data-id="heading-14">4.3 Reflectionæ™ºèƒ½ä½“</h4>
<p>Reflectionæœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸ºæ™ºèƒ½ä½“å¼•å…¥ä¸€ç§äº‹å(post-hoc)çš„è‡ªæˆ‘æ ¡æ­£å¾ªç¯ï¼Œä½¿å…¶èƒ½å¤Ÿåƒäººç±»ä¸€æ ·ï¼Œå®¡è§†è‡ªå·±çš„å·¥ä½œï¼Œå‘ç°ä¸è¶³ï¼Œå¹¶è¿›è¡Œè¿­ä»£ä¼˜åŒ–ã€‚å®ƒä¸ºæ™ºèƒ½ä½“æä¾›äº†ä¸€ä¸ªå†…éƒ¨çº é”™å›è·¯ï¼Œä½¿å…¶ä¸å†å®Œå…¨ä¾èµ–äºå¤–éƒ¨å·¥å…·çš„åé¦ˆ(ReActçš„Observation)ï¼Œä»è€Œèƒ½å¤Ÿä¿®æ­£æ›´é«˜å±‚æ¬¡çš„é€»è¾‘å’Œç­–ç•¥é”™è¯¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5696d4cbb0e46f981d1145ae840f40a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=OhqKXGZu%2FWvio9RHzNFvAQX08Hs%3D" alt="" loading="lazy"/></p>
<p>Reflectionæœºåˆ¶çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å°†ä¸€æ¬¡æ€§çš„ä»»åŠ¡æ‰§è¡Œè½¬å˜ä¸ºä¸€ä¸ªæŒç»­ä¼˜åŒ–çš„è¿‡ç¨‹ï¼Œæ˜¾è‘—æå‡å¤æ‚ä»»åŠ¡çš„æœ€ç»ˆæˆåŠŸç‡å’Œç­”æ¡ˆè´¨é‡</li>
<li>ä¸ºæ™ºèƒ½ä½“æ„å»ºäº†ä¸€ä¸ªä¸´æ—¶çš„"çŸ­æœŸè®°å¿†"ï¼Œæ•´ä¸ª"æ‰§è¡Œ-åæ€-ä¼˜åŒ–"çš„è½¨è¿¹å½¢æˆäº†å®è´µçš„ç»éªŒè®°å½•</li>
<li>æ”¯æŒå¤šæ¨¡æ€åæ€ï¼Œå¯ä»¥åæ€å’Œä¿®æ­£æ–‡æœ¬ä»¥å¤–çš„è¾“å‡º(å¦‚ä»£ç ã€å›¾åƒç­‰)</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆå§‹æ‰§è¡Œæç¤ºè¯  </span>
<span class="hljs-attr">INITIAL_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„Pythonç¨‹åºå‘˜ã€‚è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚,ç¼–å†™ä¸€ä¸ªPythonå‡½æ•°ã€‚ Â   
ä½ çš„ä»£ç å¿…é¡»åŒ…å«å®Œæ•´çš„å‡½æ•°ç­¾åã€æ–‡æ¡£å­—ç¬¦ä¸²,å¹¶éµå¾ªPEP 8ç¼–ç è§„èŒƒã€‚ Â   
è¦æ±‚: {task} Â   
è¯·ç›´æ¥è¾“å‡ºä»£ç ,ä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„è§£é‡Šã€‚ Â   
"""</span>  
  
<span class="hljs-comment"># åæ€æç¤ºè¯  </span>
<span class="hljs-attr">REFLECT_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä½æå…¶ä¸¥æ ¼çš„ä»£ç è¯„å®¡ä¸“å®¶å’Œèµ„æ·±ç®—æ³•å·¥ç¨‹å¸ˆ,å¯¹ä»£ç çš„æ€§èƒ½æœ‰æè‡´çš„è¦æ±‚ã€‚ Â   
ä½ çš„ä»»åŠ¡æ˜¯å®¡æŸ¥ä»¥ä¸‹Pythonä»£ç ,å¹¶ä¸“æ³¨äºæ‰¾å‡ºå…¶åœ¨&lt;strong&gt;ç®—æ³•æ•ˆç‡&lt;/strong&gt;ä¸Šçš„ä¸»è¦ç“¶é¢ˆã€‚ Â   
  
# åŸå§‹ä»»åŠ¡: Â   
{task}  
  
# å¾…å®¡æŸ¥çš„ä»£ç : Â   
`python Â   
{code} Â   
`  
  
è¯·åˆ†æè¯¥ä»£ç çš„æ—¶é—´å¤æ‚åº¦,å¹¶æ€è€ƒæ˜¯å¦å­˜åœ¨ä¸€ç§&lt;strong&gt;ç®—æ³•ä¸Šæ›´ä¼˜&lt;/strong&gt;çš„è§£å†³æ–¹æ¡ˆæ¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚ Â   
å¦‚æœå­˜åœ¨,è¯·æ¸…æ™°åœ°æŒ‡å‡ºå½“å‰ç®—æ³•çš„ä¸è¶³,å¹¶æå‡ºå…·ä½“çš„ã€å¯è¡Œçš„æ”¹è¿›ç®—æ³•å»ºè®®(ä¾‹å¦‚,ä½¿ç”¨ç­›æ³•æ›¿ä»£è¯•é™¤æ³•)ã€‚ Â   
å¦‚æœä»£ç åœ¨ç®—æ³•å±‚é¢å·²ç»è¾¾åˆ°æœ€ä¼˜,æ‰èƒ½å›ç­”"æ— éœ€æ”¹è¿›"ã€‚ Â   
  
è¯·ç›´æ¥è¾“å‡ºä½ çš„åé¦ˆ,ä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„è§£é‡Šã€‚ Â   
"""</span>  
  
<span class="hljs-comment"># ä¼˜åŒ–æç¤ºè¯  </span>
<span class="hljs-attr">REFINE_PROMPT_TEMPLATE</span> =Â <span class="hljs-string">"""  
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„Pythonç¨‹åºå‘˜ã€‚ä½ æ­£åœ¨æ ¹æ®ä¸€ä½ä»£ç è¯„å®¡ä¸“å®¶çš„åé¦ˆæ¥ä¼˜åŒ–ä½ çš„ä»£ç ã€‚ Â   
  
# åŸå§‹ä»»åŠ¡: Â   
{task} Â   
  
# ä½ ä¸Šä¸€è½®å°è¯•çš„ä»£ç : Â   
` Â   
{last_code_attempt} Â   
`  
  
è¯„å®¡å‘˜çš„åé¦ˆ: Â   
{feedback} Â   
  
è¯·æ ¹æ®è¯„å®¡å‘˜çš„åé¦ˆ,ç”Ÿæˆä¸€ä¸ªä¼˜åŒ–åçš„æ–°ç‰ˆæœ¬ä»£ç ã€‚ Â   
ä½ çš„ä»£ç å¿…é¡»åŒ…å«å®Œæ•´çš„å‡½æ•°ç­¾åã€æ–‡æ¡£å­—ç¬¦ä¸²,å¹¶éµå¾ªPEP 8ç¼–ç è§„èŒƒã€‚ Â   
è¯·ç›´æ¥è¾“å‡ºä¼˜åŒ–åçš„ä»£ç ,ä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„è§£é‡Šã€‚ Â   
"""</span>
</code></pre>
<h2 data-id="heading-15">5.  æ™ºèƒ½ä½“æ¡†æ¶å¯¹æ¯”åˆ†æ</h2>
<hr/>
<h4 data-id="heading-16">5.1 æ¡†æ¶çš„æœ¬è´¨ä¸ä»·å€¼</h4>
<p>æ¡†æ¶çš„æœ¬è´¨ï¼Œæ˜¯æä¾›ä¸€å¥—ç»è¿‡éªŒè¯çš„"è§„èŒƒ"ã€‚å®ƒå°†æ‰€æœ‰æ™ºèƒ½ä½“å…±æœ‰çš„ã€é‡å¤æ€§çš„å·¥ä½œ(å¦‚ä¸»å¾ªç¯ã€çŠ¶æ€ç®¡ç†ã€å·¥å…·è°ƒç”¨ã€æ—¥å¿—è®°å½•ç­‰)è¿›è¡ŒæŠ½è±¡å’Œå°è£…ï¼Œè®©æˆ‘ä»¬åœ¨æ„å»ºæ–°çš„æ™ºèƒ½ä½“æ—¶ï¼Œèƒ½å¤Ÿä¸“æ³¨äºå…¶ç‹¬ç‰¹çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œéé€šç”¨çš„åº•å±‚å®ç°ã€‚</p>
<h4 data-id="heading-17">5.2 AutoGenï¼šåŸºäºå¯¹è¯çš„åä½œ</h4>
<p>AutoGençš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¯¹è¯å®ç°åä½œã€‚å®ƒå°†å¤šæ™ºèƒ½ä½“ç³»ç»ŸæŠ½è±¡ä¸ºä¸€ä¸ªç”±å¤šä¸ª"å¯å¯¹è¯"æ™ºèƒ½ä½“ç»„æˆçš„ç¾¤èŠã€‚å¼€å‘è€…å¯ä»¥å®šä¹‰ä¸åŒè§’è‰²(å¦‚Coder, ProductManager, Tester)ï¼Œå¹¶è®¾å®šå®ƒä»¬ä¹‹é—´çš„äº¤äº’è§„åˆ™(ä¾‹å¦‚ï¼ŒCoderå†™å®Œä»£ç åç”±Testerè‡ªåŠ¨æ¥ç®¡)ã€‚ä»»åŠ¡çš„è§£å†³è¿‡ç¨‹ï¼Œå°±æ˜¯è¿™äº›æ™ºèƒ½ä½“åœ¨ç¾¤èŠä¸­é€šè¿‡è‡ªåŠ¨åŒ–æ¶ˆæ¯ä¼ é€’ï¼Œä¸æ–­å¯¹è¯ã€åä½œã€è¿­ä»£ç›´è‡³æœ€ç»ˆç›®æ ‡è¾¾æˆçš„è¿‡ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eb195e18354402a8f2d7243b908295e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=UAlBCKjaXH3JYr%2FiI7xwdmjqga4%3D" alt="" loading="lazy"/></p>
<p>AutoGençš„æ ¸å¿ƒæœºåˆ¶ï¼š</p>
<ul>
<li><strong>è½®è¯¢ç¾¤èŠ</strong>(RoundRobinGroupChat)ï¼šè¿™æ˜¯ä¸€ç§æ˜ç¡®çš„ã€é¡ºåºåŒ–çš„å¯¹è¯åè°ƒæœºåˆ¶ã€‚å®ƒä¼šè®©å‚ä¸çš„æ™ºèƒ½ä½“æŒ‰ç…§é¢„å®šä¹‰çš„é¡ºåºä¾æ¬¡å‘è¨€ã€‚è¿™ç§æ¨¡å¼éå¸¸é€‚ç”¨äºæµç¨‹å›ºå®šçš„ä»»åŠ¡ï¼Œä¾‹å¦‚ä¸€ä¸ªå…¸å‹çš„è½¯ä»¶å¼€å‘æµç¨‹ï¼šäº§å“ç»ç†å…ˆæå‡ºéœ€æ±‚ï¼Œç„¶åå·¥ç¨‹å¸ˆç¼–å†™ä»£ç ï¼Œæœ€åç”±ä»£ç å®¡æŸ¥å‘˜è¿›è¡Œæ£€æŸ¥ã€‚</li>
</ul>

<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create_product_manager</span>(<span class="hljs-params">model_client</span>):  
Â  Â Â <span class="hljs-string">"""åˆ›å»ºäº§å“ç»ç†æ™ºèƒ½ä½“"""</span>  
Â  Â  system_message =Â <span class="hljs-string">"""  
Â  Â  ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„äº§å“ç»ç†ï¼Œä¸“é—¨è´Ÿè´£è½¯ä»¶äº§å“çš„éœ€æ±‚åˆ†æå’Œé¡¹ç›®è§„åˆ’ã€‚  
Â  Â Â   
Â  Â  ä½ çš„æ ¸å¿ƒèŒè´£åŒ…æ‹¬ï¼š  
Â  Â  1. **éœ€æ±‚åˆ†æ**ï¼šæ·±å…¥ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œè¯†åˆ«æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæ¡ä»¶  
Â  Â  2. **æŠ€æœ¯è§„åˆ’**ï¼šåŸºäºéœ€æ±‚åˆ¶å®šæ¸…æ™°çš„æŠ€æœ¯å®ç°è·¯å¾„  
Â  Â  3. **é£é™©è¯„ä¼°**ï¼šè¯†åˆ«æ½œåœ¨çš„æŠ€æœ¯é£é™©å’Œç”¨æˆ·ä½“éªŒé—®é¢˜  
Â  Â  4. **åè°ƒæ²Ÿé€š**ï¼šä¸å·¥ç¨‹å¸ˆå’Œå…¶ä»–å›¢é˜Ÿæˆå‘˜è¿›è¡Œæœ‰æ•ˆæ²Ÿé€š  
Â  Â Â   
Â  Â  å½“æ¥åˆ°å¼€å‘ä»»åŠ¡æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹ç»“æ„è¿›è¡Œåˆ†æï¼š  
Â  Â  1. éœ€æ±‚ç†è§£ä¸åˆ†æ  
Â  Â  2. åŠŸèƒ½æ¨¡å—åˆ’åˆ†  
Â  Â  3. æŠ€æœ¯é€‰å‹å»ºè®®  
Â  Â  4. å®ç°ä¼˜å…ˆçº§æ’åº  
Â  Â  5. éªŒæ”¶æ ‡å‡†å®šä¹‰  
Â  Â Â   
Â  Â  è¯·ç®€æ´æ˜äº†åœ°å›åº”ï¼Œå¹¶åœ¨åˆ†æå®Œæˆåè¯´"è¯·å·¥ç¨‹å¸ˆå¼€å§‹å®ç°"ã€‚  
Â  Â  """</span>  
  
Â  Â Â <span class="hljs-keyword">return</span>Â AssistantAgent(  
Â  Â  Â  Â  name=<span class="hljs-string">"ProductManager"</span>,  
Â  Â  Â  Â  model_client=model_client,  
Â  Â  Â  Â  system_message=system_message,  
Â  Â  )
</code></pre>
<p>å·¥ä½œæµç¨‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªRoundRobinGroupChatå®ä¾‹ï¼Œå¹¶å°†æ‰€æœ‰å‚ä¸åä½œçš„æ™ºèƒ½ä½“åŠ å…¥å…¶ä¸­</li>
<li>å½“ä»»åŠ¡å¼€å§‹æ—¶ï¼Œç¾¤èŠæŒ‰é¢„è®¾é¡ºåºä¾æ¬¡æ¿€æ´»ç›¸åº”æ™ºèƒ½ä½“</li>
<li>è¢«é€‰ä¸­çš„æ™ºèƒ½ä½“æ ¹æ®å½“å‰å¯¹è¯ä¸Šä¸‹æ–‡è¿›è¡Œå“åº”</li>
<li>ç¾¤èŠå°†æ–°å›å¤åŠ å…¥å¯¹è¯å†å²ï¼Œå¹¶æ¿€æ´»ä¸‹ä¸€ä¸ªæ™ºèƒ½ä½“</li>
<li>è¿‡ç¨‹æŒç»­è¿›è¡Œï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§å¯¹è¯è½®æ¬¡æˆ–æ»¡è¶³é¢„è®¾ç»ˆæ­¢æ¡ä»¶</li>
</ol>
<h4 data-id="heading-18">5.3 AgentScopeï¼šå·¥ä¸šçº§å¤šæ™ºèƒ½ä½“å¹³å°</h4>
<p>AgentScopeæ˜¯ä¸€ä¸ªä¸“ä¸ºå¤šæ™ºèƒ½ä½“åº”ç”¨è®¾è®¡çš„ã€åŠŸèƒ½å…¨é¢çš„å¼€å‘å¹³å°ã€‚å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯æ˜“ç”¨æ€§å’Œå·¥ç¨‹åŒ–ã€‚å®ƒæä¾›äº†ä¸€å¥—éå¸¸å‹å¥½çš„ç¼–ç¨‹æ¥å£ï¼Œè®©å¼€å‘è€…å¯ä»¥è½»æ¾å®šä¹‰æ™ºèƒ½ä½“ã€æ„å»ºé€šä¿¡ç½‘ç»œï¼Œå¹¶ç®¡ç†æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚å…¶å†…ç½®çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶å’Œå¯¹åˆ†å¸ƒå¼éƒ¨ç½²çš„æ”¯æŒï¼Œä½¿å…¶éå¸¸é€‚åˆæ„å»ºå’Œè¿ç»´å¤æ‚ã€å¤§è§„æ¨¡çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c18803f92ccd43ca8b1ebff650fbd8f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=xcJfigC2JoZoQLuUPtbDirYyN2s%3D" alt="" loading="lazy"/></p>
<p>ä¸AutoGenç›¸æ¯”ï¼ŒAgentScopeçš„æ ¸å¿ƒå·®å¼‚åœ¨äºå…¶æ¶ˆæ¯é©±åŠ¨çš„æ¶æ„è®¾è®¡å’Œå·¥ä¸šçº§çš„å·¥ç¨‹å®è·µã€‚å¦‚æœè¯´AutoGenæ›´åƒæ˜¯ä¸€ä¸ªçµæ´»çš„"å¯¹è¯å·¥ä½œå®¤"ï¼Œé‚£ä¹ˆAgentScopeå°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„"æ™ºèƒ½ä½“æ“ä½œç³»ç»Ÿ"ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä»å¼€å‘ã€æµ‹è¯•åˆ°éƒ¨ç½²çš„å…¨ç”Ÿå‘½å‘¨æœŸæ”¯æŒã€‚ä¸è®¸å¤šæ¡†æ¶é‡‡ç”¨çš„ç»§æ‰¿å¼è®¾è®¡ä¸åŒï¼ŒAgentScopeé€‰æ‹©äº†ç»„åˆå¼æ¶æ„å’Œæ¶ˆæ¯é©±åŠ¨æ¨¡å¼ã€‚è¿™ç§è®¾è®¡ä¸ä»…å¢å¼ºäº†ç³»ç»Ÿçš„æ¨¡å—åŒ–ç¨‹åº¦ï¼Œä¹Ÿä¸ºå…¶å‡ºè‰²çš„å¹¶å‘æ€§èƒ½å’Œåˆ†å¸ƒå¼èƒ½åŠ›å¥ å®šäº†åŸºç¡€ã€‚</p>
<p>AgentScopeçš„å·¥ç¨‹åŒ–ä¼˜åŠ¿ä¹Ÿå¸¦æ¥äº†ä¸€å®šçš„å¤æ‚æ€§æˆæœ¬ã€‚å…¶æ¶ˆæ¯é©±åŠ¨æ¶æ„è™½ç„¶å¼ºå¤§ï¼Œä½†å¯¹å¼€å‘è€…çš„æŠ€æœ¯è¦æ±‚è¾ƒé«˜ï¼Œéœ€è¦ç†è§£å¼‚æ­¥ç¼–ç¨‹ã€åˆ†å¸ƒå¼é€šä¿¡ç­‰æ¦‚å¿µã€‚å¯¹äºç®€å•çš„å¤šæ™ºèƒ½ä½“å¯¹è¯åœºæ™¯ï¼Œè¿™ç§æ¶æ„å¯èƒ½æ˜¾å¾—è¿‡äºå¤æ‚ï¼Œå­˜åœ¨"è¿‡åº¦å·¥ç¨‹åŒ–"çš„é£é™©ã€‚æ­¤å¤–ï¼Œä½œä¸ºç›¸å¯¹è¾ƒæ–°çš„æ¡†æ¶ï¼Œå…¶ç”Ÿæ€ç³»ç»Ÿå’Œç¤¾åŒºèµ„æºè¿˜æœ‰å¾…è¿›ä¸€æ­¥å®Œå–„ã€‚å› æ­¤ï¼ŒAgentScopeæ›´é€‚åˆéœ€è¦æ„å»ºå¤§è§„æ¨¡ã€é«˜å¯é æ€§çš„ç”Ÿäº§çº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼Œè€Œå¯¹äºå¿«é€ŸåŸå‹å¼€å‘æˆ–ç®€å•åº”ç”¨åœºæ™¯ï¼Œé€‰æ‹©æ›´è½»é‡çº§çš„æ¡†æ¶å¯èƒ½æ›´ä¸ºåˆé€‚ã€‚</p>
<h4 data-id="heading-19">5.4 CAMELï¼šè§’è‰²æ‰®æ¼”åä½œ</h4>
<p>CAMELæœ€åˆçš„æ ¸å¿ƒç›®æ ‡æ˜¯æ¢ç´¢å¦‚ä½•åœ¨æœ€å°‘çš„äººç±»å¹²é¢„ä¸‹ï¼Œè®©ä¸¤ä¸ªæ™ºèƒ½ä½“é€šè¿‡"è§’è‰²æ‰®æ¼”"è‡ªä¸»åä½œè§£å†³å¤æ‚ä»»åŠ¡ã€‚CAMELå®ç°è‡ªä¸»åä½œçš„åŸºçŸ³æ˜¯ä¸¤å¤§æ ¸å¿ƒæ¦‚å¿µï¼šè§’è‰²æ‰®æ¼”(Role-Playing)å’Œå¼•å¯¼æ€§æç¤º(Inception Prompting)ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06d2ed53fdd64f1d8f2f8e78d5354587~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457427&amp;x-signature=XuTqOxlfiZ%2FN3JtXJa6LFmf5DyA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">5.5 LangGraphï¼šå›¾ç»“æ„å·¥ä½œæµ</h4>
<p>ä½œä¸ºLangChainç”Ÿæ€çš„æ‰©å±•ï¼ŒLangGraphå¦è¾Ÿè¹Šå¾„ï¼Œå°†æ™ºèƒ½ä½“çš„æ‰§è¡Œæµç¨‹å»ºæ¨¡ä¸ºå›¾(Graph)ã€‚åœ¨ä¼ ç»Ÿçš„é“¾å¼ç»“æ„ä¸­ï¼Œä¿¡æ¯åªèƒ½å•å‘æµåŠ¨ã€‚è€ŒLangGraphå°†æ¯ä¸€æ­¥æ“ä½œ(å¦‚è°ƒç”¨LLMã€æ‰§è¡Œå·¥å…·)å®šä¹‰ä¸ºå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹(Node)ï¼Œå¹¶ç”¨è¾¹(Edge)æ¥å®šä¹‰èŠ‚ç‚¹ä¹‹é—´çš„è·³è½¬é€»è¾‘ã€‚è¿™ç§è®¾è®¡å¤©ç„¶æ”¯æŒå¾ªç¯(Cycles)ï¼Œä½¿å¾—å®ç°å¦‚Reflectionè¿™æ ·çš„è¿­ä»£ã€ä¿®æ­£ã€è‡ªæˆ‘åæ€çš„å¤æ‚å·¥ä½œæµå˜å¾—å¼‚å¸¸ç®€å•å’Œç›´è§‚ã€‚</p>
<p>ä¸å‰é¢ä»‹ç»çš„åŸºäº"å¯¹è¯"çš„æ¡†æ¶(å¦‚AutoGenå’ŒCAMEL)ä¸åŒï¼ŒLangGraphå°†æ™ºèƒ½ä½“çš„æ‰§è¡Œæµç¨‹å»ºæ¨¡ä¸ºä¸€ç§çŠ¶æ€æœº(State Machine)ï¼Œå¹¶å°†å…¶è¡¨ç¤ºä¸ºæœ‰å‘å›¾(Directed Graph)ã€‚åœ¨è¿™ç§èŒƒå¼ä¸­ï¼Œå›¾çš„èŠ‚ç‚¹(Nodes)ä»£è¡¨ä¸€ä¸ªå…·ä½“çš„è®¡ç®—æ­¥éª¤(å¦‚è°ƒç”¨LLMã€æ‰§è¡Œå·¥å…·)ï¼Œè€Œè¾¹(Edges)åˆ™å®šä¹‰äº†ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è·³è½¬é€»è¾‘ã€‚è¿™ç§è®¾è®¡çš„é©å‘½æ€§ä¹‹å¤„åœ¨äºå®ƒå¤©ç„¶æ”¯æŒå¾ªç¯ï¼Œä½¿å¾—æ„å»ºèƒ½å¤Ÿè¿›è¡Œè¿­ä»£ã€åæ€å’Œè‡ªæˆ‘ä¿®æ­£çš„å¤æ‚æ™ºèƒ½ä½“å·¥ä½œæµå˜å¾—å‰æ‰€æœªæœ‰çš„ç›´è§‚å’Œç®€å•ã€‚</p>
<hr/>
<p>å½“å‰ä¸»æµçš„ä½ä»£ç æ™ºèƒ½ä½“å¼€å‘å¹³å°å‘ˆç°å¤šå…ƒåŒ–å‘å±•æ ¼å±€ï¼Œå­—èŠ‚è·³åŠ¨æ——ä¸‹çš„Cozeå‡­å€Ÿå¯è§†åŒ–æ‹–æ‹½å¼ç•Œé¢å’Œä¸°å¯Œçš„æ¨¡æ¿åº“ï¼Œæˆä¸ºé›¶ä»£ç ç”¨æˆ·çš„å…¥é—¨é¦–é€‰ï¼Œå°¤å…¶é€‚åˆå¯¹è¯ç±»åº”ç”¨å¼€å‘ï¼Œä½†å…¶æ‰©å±•æ€§æœ‰é™ä¸”ä»…æ”¯æŒäº‘æœåŠ¡éƒ¨ç½²ã€‚å›½äº§å¼€æºå¹³å°Difyåˆ™ä»¥çµæ´»å®šåˆ¶å’Œä¼ä¸šçº§èƒ½åŠ›è§é•¿ï¼Œæ”¯æŒäº‘æœåŠ¡ä¸æœ¬åœ°éƒ¨ç½²åŒæ¨¡å¼ï¼Œé›†æˆäº†ä¸»æµå¤§æ¨¡å‹å’Œä½ä»£ç å·¥ä½œæµåŠŸèƒ½ï¼Œæ·±å—å¼€å‘è€…é’çã€‚å¾·å›½å·¥å…·n8nå‡­å€Ÿå…¶å·¥åŒ ç²¾ç¥å’Œå¼ºå¤§çš„å·¥ä½œæµç¼–æ’èƒ½åŠ›ï¼Œåœ¨è½»é‡çº§åº”ç”¨é¢†åŸŸå æ®ä¸€å¸­ä¹‹åœ°ã€‚æ­¤å¤–ï¼Œä¸“æ³¨äºä¼ä¸šçº§çŸ¥è¯†åº“ç³»ç»Ÿå’Œæ™ºèƒ½é—®ç­”åº”ç”¨çš„FastGPTï¼Œä»¥åŠå…¨æ ˆå¼ä¼ä¸šå¹³å°å¾—åŠ©æ™ºèƒ½ç­‰ï¼Œå…±åŒæ„æˆäº†2025å¹´æ™ºèƒ½ä½“ä½ä»£ç å¼€å‘å¹³å°çš„ç”Ÿæ€çŸ©é˜µã€‚</p>
<p>ä¸ºäº†åœ¨æœ¬åœ°å®ç°é«˜æ€§èƒ½ã€ç”Ÿäº§çº§çš„æ¨¡å‹æ¨ç†æœåŠ¡ï¼Œç¤¾åŒºæ¶Œç°å‡ºäº†VLLMå’ŒOllamaç­‰ä¼˜ç§€å·¥å…·ã€‚è¿™äº›å·¥å…·èƒ½å¤Ÿæ˜¾è‘—æå‡æ¨ç†é€Ÿåº¦ï¼Œé™ä½èµ„æºæ¶ˆè€—ï¼Œä½¿æ™ºèƒ½ä½“åœ¨æœ¬åœ°ç¯å¢ƒä¸­ä¹Ÿèƒ½è·å¾—æ¥è¿‘äº‘ç«¯çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<p>éšç€æ¡†æ¶çš„æˆç†Ÿå’Œå·¥å…·é“¾çš„å®Œå–„ï¼Œæ™ºèƒ½ä½“å¼€å‘çš„é—¨æ§›æ­£åœ¨é€æ­¥é™ä½ï¼Œä½†å¯¹å¼€å‘è€…æ¥è¯´ï¼Œç†è§£å…¶åº•å±‚åŸç†å’Œè®¾è®¡æ¨¡å¼ä»ç„¶æ˜¯æ„å»ºé«˜æ€§èƒ½ã€é«˜å¯é æ€§æ™ºèƒ½ä½“ç³»ç»Ÿçš„å…³é”®ã€‚æœªæ¥ï¼Œéšç€å¤šæ¨¡æ€èƒ½åŠ›çš„å¢å¼ºå’Œä¸ç‰©ç†ä¸–ç•Œçš„æ·±åº¦ç»“åˆï¼Œæ™ºèƒ½ä½“å°†åœ¨æ›´å¹¿æ³›çš„åº”ç”¨åœºæ™¯ä¸­å‘æŒ¥é‡è¦ä½œç”¨ã€‚</p>
<h3 data-id="heading-21">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nginx HTTPSä»£ç†å¤§æ–‡ä»¶åŠ è½½å¤±è´¥çš„æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7583970267132919814</link>    <guid>https://juejin.cn/post/7583970267132919814</guid>    <pubDate>2025-12-16T02:26:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583970267132919814" data-draft-id="7583980250733346879" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nginx HTTPSä»£ç†å¤§æ–‡ä»¶åŠ è½½å¤±è´¥çš„æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Nginx"/> <meta itemprop="datePublished" content="2025-12-16T02:26:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ«å¶æ¢¨èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123816055"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nginx HTTPSä»£ç†å¤§æ–‡ä»¶åŠ è½½å¤±è´¥çš„æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123816055/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ«å¶æ¢¨èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:26:48.000Z" title="Tue Dec 16 2025 02:26:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é—®é¢˜èƒŒæ™¯</h2>
<p>ä»Šæ—¥è¿ç»´äººå‘˜å‘ŠçŸ¥æˆ‘ï¼Œçªç„¶ç½‘ç«™çš„ç™»å½•é¡µè®¿é—®å˜ç™½å±ï¼Œæˆ‘ç™»å½•åå°å‘ç°æœåŠ¡ä¸€åˆ‡æ­£å¸¸ï¼ŒNginxä¹Ÿæ­£å¸¸è¿è¡Œï¼Œæˆ‘å°è¯•è®¿é—®ç½‘ç«™ç™»å½•é¡µï¼Œå¹¶è¿ç‚¹åå‡ æ¬¡ä¼šè®¿é—®æ­£å¸¸ï¼Œä¹‹åå°±ä¼šæ­£å¸¸ï¼Œä½†æ˜¯ç™»å½•ä»¥åä¹Ÿä¼š<strong>æŸäº›é¡µé¢å­˜åœ¨ç™½å±çŠ¶æ€</strong>ï¼ŒæŸ¥çœ‹æµè§ˆå™¨è¯·æ±‚å‘ç°<strong>æŸäº›JSã€CSSæ–‡ä»¶æ²¡æœ‰æ­£å¸¸è¿”å›</strong>ï¼ŒNginxçš„<strong>è®¿é—®æ—¥å¿—å‡ºç°206ç­‰é—®é¢˜</strong>ï¼Œæƒ³åˆ°å‰å‡ å¤©åˆšç»­è´¹äº†HTTPSçš„åŸŸåè¯ä¹¦ï¼Œè¯ä¹¦ä¹Ÿæ¢è¿‡äº†ï¼Œç„¶ååˆ‡æ¢åˆ°<strong>å†…ç½‘HTTPå‘ç°æ­£å¸¸</strong>ï¼ŒçŒœæƒ³åº”è¯¥æ˜¯Nginxä¸­çš„HTTPSçš„é…ç½®æœ‰é—®é¢˜ï¼Œç¼“å­˜ç±»é…ç½®å¯èƒ½å­˜åœ¨é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€é—®é¢˜ç°è±¡</h2>
<p>æ€»ç»“å‡ºç°ä»¥ä¸‹å¼‚å¸¸ï¼š</p>
<ul>
<li><strong>HTTPSè®¿é—®ç™»å½•é¡µç™½å±</strong>ï¼Œè¿ç»­åˆ·æ–°20æ¬¡åå¶ç°æ­£å¸¸ï¼›</li>
<li><strong>HTTPå†…ç½‘è®¿é—®æ­£å¸¸</strong>ï¼Œæ— å¼‚å¸¸ï¼›</li>
<li>æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ˜¾ç¤ºï¼š<strong>å¤§ä½“ç§¯JSæ–‡ä»¶ï¼ˆå¦‚<code>chunk-vendors.js</code>ï¼‰åŠ è½½å¤±è´¥</strong>ï¼ŒçŠ¶æ€ç ä¸º<code>206 Partial Content</code>ï¼›</li>
<li>Nginxè®¿é—®æ—¥å¿—è®°å½•ï¼š
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">10.</span>xx.xxx<span class="hljs-number">.90</span> - - <span class="hljs-number">443</span> [<span class="hljs-number">25</span>/Oct/<span class="hljs-number">2025</span>:<span class="hljs-number">17</span>:<span class="hljs-number">40</span>:<span class="hljs-number">20</span> +<span class="hljs-number">0800</span>] 
  <span class="hljs-string">"GET /js/chunk-vendors.6112ac08.js HTTP/1.1"</span> <span class="hljs-number">206</span> <span class="hljs-number">1</span> 
  <span class="hljs-string">"https://xxxx/login"</span> 
  <span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"</span>
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€é—®é¢˜å®šä½ä¸æ ¹å› åˆ†æ</h2>
<h3 data-id="heading-3">1. æ ¸å¿ƒé—®é¢˜ï¼šNginxä»£ç†ç¼“å†²åŒºä¸è¶³</h3>
<h4 data-id="heading-4">ï¼ˆ1ï¼‰Nginxä»£ç†å·¥ä½œåŸç†</h4>
<p>å½“Nginxä½œä¸ºåå‘ä»£ç†æ—¶ï¼Œå…¶å¤„ç†ä¸Šæ¸¸å“åº”çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¥æ”¶åç«¯æœåŠ¡è¿”å›çš„å“åº”æ•°æ®ï¼›</li>
<li>å°†æ•°æ®<strong>ç¼“å­˜åˆ°å†…å­˜ç¼“å†²åŒº</strong>ä¸­ï¼›</li>
<li>è‹¥ç¼“å†²åŒºä¸è¶³ï¼Œåˆ™å°†æ•°æ®å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼ˆ<code>proxy_max_temp_file_size</code>æ§åˆ¶ï¼‰ï¼›</li>
<li>æœ€ç»ˆå°†æ•°æ®å‘é€ç»™å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-5">ï¼ˆ2ï¼‰é»˜è®¤é…ç½®çš„é™åˆ¶</h4>
<p>Nginxé»˜è®¤é…ç½®çš„ç¼“å†²åŒºå¤§å°ä¸ºï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">proxy_buffer_size 4k|8k;        # å“åº”å¤´ç¼“å†²åŒº
proxy_buffers 8 4k|8k;          # å“åº”ä½“ç¼“å†²åŒºï¼ˆæ•°é‡ Ã— å¤§å°ï¼‰
proxy_busy_buffers_size 8k|16k; # å¿™ç¢Œæ—¶å¯å‘é€çš„æœ€å¤§ç¼“å†²åŒº
</code></pre>
<ul>
<li><strong>æ€»ç¼“å†²å®¹é‡</strong>ï¼š<code>8 Ã— 4k = 32KB</code>ï¼Œä¸è¶³ä»¥æ‰¿è½½1~2MBçš„å‰ç«¯èµ„æºï¼›</li>
<li><strong>HTTPSåŠ é‡é—®é¢˜</strong>ï¼šTLSåŠ å¯†/è§£å¯†æ¶ˆè€—æ›´å¤šCPUèµ„æºï¼Œå¯¼è‡´ç¼“å†²åŒºæ›´å®¹æ˜“è¢«æ’‘æ»¡ï¼›</li>
<li><strong>206çŠ¶æ€ç çš„å«ä¹‰</strong>ï¼š<code>Partial Content</code>ï¼Œè¡¨ç¤ºå“åº”æœªå®Œæ•´ä¼ è¾“ï¼ŒNginxåœ¨ä¸´æ—¶æ–‡ä»¶å†™å…¥è¿‡ç¨‹ä¸­å¯èƒ½å› è¶…æ—¶æˆ–ä¸­æ–­å¯¼è‡´åŠ è½½å¤±è´¥ã€‚</li>
</ul>
<h4 data-id="heading-6">ï¼ˆ3ï¼‰ä¸ºä½•HTTPæ­£å¸¸ï¼Ÿ</h4>
<p>HTTPæ— éœ€åŠ å¯†ï¼ŒNginxå¤„ç†é€Ÿåº¦æ›´å¿«ï¼Œç¼“å†²åŒºåœ¨çŸ­æ—¶é—´å†…èƒ½å®Œæˆæ•°æ®ä¼ è¾“ï¼Œå› æ­¤æœªè§¦å‘é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€è§£å†³æ–¹æ¡ˆä¸é…ç½®è¯´æ˜</h2>
<h3 data-id="heading-8">1. è°ƒæ•´Nginxä»£ç†ç¼“å†²åŒºå‚æ•°</h3>
<p>åœ¨Nginxé…ç½®æ–‡ä»¶çš„<code>http</code>å—ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx"># å¢åŠ å†…å­˜ç¼“å†²åŒºå¤§å°ï¼Œé¿å…å†™å…¥ä¸´æ—¶æ–‡ä»¶
proxy_buffer_size 128k;         # å­˜å‚¨å“åº”å¤´ï¼ˆå«Cookie/CSPç­‰ï¼‰
proxy_buffers 32 128k;          # å­˜å‚¨å“åº”ä½“ï¼ˆ32 Ã— 128k = 4MBï¼‰
proxy_busy_buffers_size 128k;   # å¿™ç¢Œæ—¶æœ€å¤§å‘é€ç¼“å†²åŒº
</code></pre>
<h4 data-id="heading-9">å‚æ•°è¯¦è§£ï¼š</h4>





























<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th>æ¨èå€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>proxy_buffer_size</code></td><td>å“åº”å¤´ç¼“å†²åŒº</td><td>128k</td><td>ç¡®ä¿å¤§å¤´ä¿¡æ¯ï¼ˆå¦‚Cookieã€CSPï¼‰å®Œæ•´åŠ è½½</td></tr><tr><td><code>proxy_buffers</code></td><td>å“åº”ä½“ç¼“å†²åŒº</td><td>32 Ã— 128k</td><td>æ€»å®¹é‡4MBï¼Œè¦†ç›–å¸¸è§å‰ç«¯èµ„æºå¤§å°</td></tr><tr><td><code>proxy_busy_buffers_size</code></td><td>å¿™ç¢Œæ—¶å‘é€ç¼“å†²åŒº</td><td>128k</td><td>é¿å…ç¼“å†²åŒºäº‰ç”¨å¯¼è‡´å‘é€ä¸­æ–­</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>ç”Ÿæ•ˆèŒƒå›´</strong>ï¼šé…ç½®åº”æ”¾åœ¨<code>http</code>å—ä¸­å…¨å±€ç”Ÿæ•ˆï¼Œæˆ–é’ˆå¯¹ç‰¹å®š<code>server</code>/<code>location</code>å—ã€‚</p>
</blockquote>
<h3 data-id="heading-10">2. é‡è½½Nginxé…ç½®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥é…ç½®è¯­æ³•</span>
sudo nginx -t

<span class="hljs-comment"># é‡è½½é…ç½®</span>
sudo nginx -s reload
</code></pre>
<hr/>
<h2 data-id="heading-11">äº”ã€éªŒè¯ä¸æµ‹è¯•</h2>
<p><strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</strong>ä¹‹åé‡æ–°è®¿é—®ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œé—®é¢˜è§£å†³ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[mavené¡¹ç›®ä½¿ç”¨æŒ‡å®šJDKç‰ˆæœ¬æ‰“åŒ…]]></title>    <link>https://juejin.cn/post/7583970267132985350</link>    <guid>https://juejin.cn/post/7583970267132985350</guid>    <pubDate>2025-12-16T02:39:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583970267132985350" data-draft-id="7583991680748814363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mavené¡¹ç›®ä½¿ç”¨æŒ‡å®šJDKç‰ˆæœ¬æ‰“åŒ…"/> <meta itemprop="keywords" content="åç«¯,Java,maven"/> <meta itemprop="datePublished" content="2025-12-16T02:39:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€ƒè™‘è€ƒè™‘"/> <meta itemprop="url" content="https://juejin.cn/user/4406498335157287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mavené¡¹ç›®ä½¿ç”¨æŒ‡å®šJDKç‰ˆæœ¬æ‰“åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4406498335157287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€ƒè™‘è€ƒè™‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:39:48.000Z" title="Tue Dec 16 2025 02:39:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ä½¿ç”¨å¤šä¸ªJDKç‰ˆæœ¬ç¯å¢ƒæ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™æ‡’å¾—é…ç½®ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨mavenæ‰“åŒ…çš„æ—¶å€™,ä¼šæŠ¥ç‰ˆæœ¬å¯¹åº”ä¸ä¸Š</p>
<h3 data-id="heading-1">mavenæ‰“åŒ…</h3>
<p>æ²¡æœ‰é…ç½®å¯¹åº”é¡¹ç›®jdkç¯å¢ƒè€Œæ‰“åŒ…æ—¶ï¼Œä¼šæŠ¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0933efb769c94abd8f63cdd0b692b8a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICD6JmR6ICD6JmR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457587&amp;x-signature=2FfNwazhF5EdRZcbSAz7NnS5WHo%3D" alt="image.png" loading="lazy"/>
è¿™ä¸ªæ—¶å€™ï¼Œå¯ä»¥åœ¨<code>pom.xml</code>æ–‡ä»¶é…ç½®</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executable</span>&gt;</span>D:/soft/jdk-25.0.1/bin/javac<span class="hljs-tag">&lt;/<span class="hljs-name">executable</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">fork</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">fork</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">encoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">encoding</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<p>æ‰§è¡ŒJDKè·¯å¾„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4103657bb5ff47fd9ef22b21a05d78ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICD6JmR6ICD6JmR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457587&amp;x-signature=EXqe2UgpC092x2oUIb2oitvpRLg%3D" alt="image.png" loading="lazy"/>
æˆ–è€…ä½¿ç”¨mvnå‘½ä»¤</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä½¿ç”¨æŒ‡å®šJDKç‰ˆæœ¬ç¼–è¯‘æ‰“åŒ…</span>
mvn clean package <span class="hljs-attr">-Dmaven.compiler.source</span>=<span class="hljs-number">25</span> -Dmaven.compiler.target=<span class="hljs-number">25</span>

<span class="hljs-comment"># å¦‚æœéœ€è¦æŒ‡å®šJDKå®‰è£…è·¯å¾„ </span>
mvn clean package <span class="hljs-attr">-Dmaven.compiler.executable</span>=D:/soft/jdk-<span class="hljs-number">25.0</span>.<span class="hljs-number">1</span>/bin/javac
</code></pre>
<h3 data-id="heading-2">æ€»ç»“</h3>
<p>mavenæ‰“åŒ…å¯ä»¥æŒ‡å®šå¯¹åº”çš„JDKç‰ˆæœ¬æ‰“åŒ…ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éœ€è¦åˆ‡æ¢è·¯å¾„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 æ„å»º React + TypeScript è½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7583933107690176575</link>    <guid>https://juejin.cn/post/7583933107690176575</guid>    <pubDate>2025-12-16T02:36:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583933107690176575" data-draft-id="7583933107690127423" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 æ„å»º React + TypeScript è½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2025-12-16T02:36:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªç§‹åˆ€é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2907533671935453"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 æ„å»º React + TypeScript è½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2907533671935453/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªç§‹åˆ€é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:36:57.000Z" title="Tue Dec 16 2025 02:36:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä» 0 åˆ° 1 æ„å»º React + TypeScript è½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿ</h2>
<p>åœ¨ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿå¼€å‘ä¸­ï¼ŒReact ç»“åˆ TypeScript å·²æ˜¯ä¸»æµæŠ€æœ¯æ ˆ â€”â€”TypeScript çš„ç±»å‹æ ¡éªŒèƒ½å¤§å¹…é™ä½å¤§å‹é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ï¼ŒReact çš„ç»„ä»¶åŒ–ç‰¹æ€§åˆ™é€‚é…åå°ç³»ç»Ÿå¤æ‚çš„ UI ä¸äº¤äº’åœºæ™¯ã€‚æœ¬æ–‡ä»¥<strong>è½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿ</strong>ä¸ºä¾‹ï¼Œæ‹†è§£ä»æŠ€æœ¯é€‰å‹ã€æ¶æ„è®¾è®¡åˆ°æ ¸å¿ƒåŠŸèƒ½å®ç°çš„å…¨æµç¨‹ï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›å¯è½åœ°çš„å®æˆ˜æ€è·¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸æŠ€æœ¯æ ˆé€‰å‹</h3>
<h4 data-id="heading-2">1. ä¸šåŠ¡åœºæ™¯ç‰¹ç‚¹</h4>
<p>è½¦è¾†ç§Ÿèµåå°éœ€è¦†ç›–ã€Œè½¦è¾†ç®¡ç†ã€è®¢å•è°ƒé…ã€å®¢æˆ·ç®¡ç†ã€è´¢åŠ¡ç»“ç®—ã€æ“ä½œæ—¥å¿—ã€ç­‰æ ¸å¿ƒæ¨¡å—ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ•°æ®äº¤äº’é¢‘ç¹ï¼ˆå¦‚å®æ—¶æŸ¥è¯¢è½¦è¾†çŠ¶æ€ã€è®¢å•æµè½¬ï¼‰ï¼›</li>
<li>è¡¨å• / è¡¨æ ¼æ“ä½œå¯†é›†ï¼ˆå¦‚æ‰¹é‡æ´¾å‘ä»»åŠ¡ã€ç­›é€‰è½¦è¾†ä¿¡æ¯ï¼‰ï¼›</li>
<li>æƒé™åˆ†çº§ä¸¥æ ¼ï¼ˆä¸åŒè§’è‰²å¯è§ / å¯æ“ä½œçš„æ¨¡å—ä¸åŒï¼‰ï¼›</li>
<li>éœ€å…¼å®¹å¤šç«¯ï¼ˆPC ç«¯ä¸ºä¸»ï¼Œéƒ¨åˆ†åŠŸèƒ½é€‚é…å¹³æ¿ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">2. æ ¸å¿ƒæŠ€æœ¯æ ˆ</h4>

































<table><thead><tr><th>æŠ€æœ¯ / æ¡†æ¶</th><th>é€‰å‹ç†ç”±</th></tr></thead><tbody><tr><td>React 18</td><td>ç»„ä»¶åŒ–å¼€å‘ã€Hooks ç®€åŒ–çŠ¶æ€ç®¡ç†ã€Concurrent Mode æå‡äº¤äº’æµç•…åº¦</td></tr><tr><td>TypeScript 5.x</td><td>å¼ºç±»å‹çº¦æŸé¿å…ç±»å‹é”™è¯¯ã€æå‡ä»£ç å¯è¯»æ€§ã€ä¾¿äºå›¢é˜Ÿåä½œ</td></tr><tr><td>Umi 4</td><td>å¼€ç®±å³ç”¨çš„è·¯ç”± / æ„å»º / æƒé™æ–¹æ¡ˆï¼Œé€‚é…ä¸­åå°å¼€å‘çš„å·¥ç¨‹åŒ–éœ€æ±‚</td></tr><tr><td>Ant Design Pro</td><td>æä¾› ProTable/ProForm/Descriptions ç­‰ä¸­åå°é«˜é¢‘ç»„ä»¶ï¼Œå‡å°‘é‡å¤é€ è½®å­</td></tr><tr><td>ahooks</td><td>å°è£…å¸¸ç”¨ Hooksï¼ˆå¦‚ useRequestã€useSelectionsï¼‰ï¼Œç®€åŒ–å¼‚æ­¥è¯·æ±‚ / çŠ¶æ€ç®¡ç†</td></tr><tr><td>axios</td><td>ç»Ÿä¸€å°è£…è¯·æ±‚æ‹¦æˆªã€å“åº”å¤„ç†ï¼Œé€‚é…åç«¯æ¥å£è§„èŒƒ</td></tr></tbody></table>
<h3 data-id="heading-4">äºŒã€é¡¹ç›®æ¶æ„è®¾è®¡</h3>
<p>éµå¾ªã€Œé«˜å†…èšã€ä½è€¦åˆã€åŸåˆ™ï¼Œé‡‡ç”¨åˆ†å±‚å¼æ¶æ„ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ api/            <span class="hljs-comment">// æ¥å£è¯·æ±‚å°è£…ï¼ˆæŒ‰æ¨¡å—æ‹†åˆ†ï¼‰</span>
â”‚   â”œâ”€â”€ car<span class="hljs-selector-class">.ts</span>      <span class="hljs-comment">// è½¦è¾†ç®¡ç†æ¥å£</span>
â”‚   â”œâ”€â”€ <span class="hljs-attribute">order</span><span class="hljs-selector-class">.ts</span>    <span class="hljs-comment">// è®¢å•è°ƒé…æ¥å£</span>
â”‚   â””â”€â”€ user<span class="hljs-selector-class">.ts</span>     <span class="hljs-comment">// ç”¨æˆ·/æƒé™æ¥å£</span>
â”œâ”€â”€ components/     <span class="hljs-comment">// é€šç”¨ä¸šåŠ¡ç»„ä»¶ï¼ˆå¦‚OperationRecordã€PreviewFilesï¼‰</span>
â”œâ”€â”€ pages/          <span class="hljs-comment">// é¡µé¢çº§ç»„ä»¶ï¼ˆæŒ‰ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ï¼‰</span>
â”‚   â”œâ”€â”€ CarManage/  <span class="hljs-comment">// è½¦è¾†ç®¡ç†</span>
â”‚   â”œâ”€â”€ OrderAlloc/ <span class="hljs-comment">// è®¢å•è°ƒé…ï¼ˆæ ¸å¿ƒæ¨¡å—ï¼‰</span>
â”‚   â””â”€â”€ System/     <span class="hljs-comment">// ç³»ç»Ÿè®¾ç½®</span>
â”œâ”€â”€ utils/          <span class="hljs-comment">// å·¥å…·å‡½æ•°ï¼ˆå¦‚å­—å…¸æ˜ å°„ã€æ—¶é—´æ ¼å¼åŒ–ï¼‰</span>
â”œâ”€â”€ typings/        <span class="hljs-comment">// TSç±»å‹å£°æ˜ï¼ˆæ¥å£è¿”å›å€¼ã€ç»„ä»¶Propsï¼‰</span>
â””â”€â”€ access<span class="hljs-selector-class">.ts</span>       <span class="hljs-comment">// æƒé™æ§åˆ¶é…ç½®</span>
</code></pre>
<h4 data-id="heading-5">å…³é”®è®¾è®¡åŸåˆ™</h4>
<ol>
<li><strong>ç±»å‹å…ˆè¡Œ</strong>ï¼šæ‰€æœ‰æ¥å£è¿”å›å€¼ã€ç»„ä»¶ Propsã€å…¨å±€çŠ¶æ€å‡å®šä¹‰ TS ç±»å‹ï¼Œä¾‹å¦‚è®¢å•è°ƒé…æ¨¡å—çš„æ ¸å¿ƒç±»å‹ï¼š</li>
</ol>
<p>typescript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// typings/order.d.ts</span>
<span class="hljs-comment">/** è®¢å•åŸºç¡€ä¿¡æ¯ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AllocOrder</span> {
  <span class="hljs-attr">orderNo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å·¥å•ç¼–å·</span>
  <span class="hljs-attr">orderStatus</span>: <span class="hljs-string">'toFormulate'</span> | <span class="hljs-string">'toDistribute'</span> | <span class="hljs-string">'completed'</span>; <span class="hljs-comment">// è®¢å•çŠ¶æ€</span>
  <span class="hljs-attr">carNo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// è½¦ç‰Œ</span>
  <span class="hljs-attr">vin</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// è½¦æ¶å·</span>
  <span class="hljs-attr">allocateInfo</span>: {
    <span class="hljs-attr">batchNo</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">deliveryType</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// äº¤ä»˜ç±»å‹</span>
    <span class="hljs-attr">outContactsName</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// è°ƒå‡ºè”ç³»äºº</span>
  };
}

<span class="hljs-comment">/** è®¢å•åˆ—è¡¨è¯·æ±‚å‚æ•° */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AllocOrderParams</span> {
  <span class="hljs-attr">orderSource</span>: <span class="hljs-built_in">string</span>;
  batchNo?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">pageSize</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">current</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<ol start="2">
<li><strong>å¤ç”¨æ€§ä¼˜å…ˆ</strong>ï¼šæŠ½ç¦»é€šç”¨ä¸šåŠ¡ç»„ä»¶ï¼ˆå¦‚æ“ä½œè®°å½•ç»„ä»¶ OperationRecordï¼‰ï¼Œé¿å…é‡å¤ä»£ç ï¼š</li>
</ol>
<p>tsx</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// components/OperationRecordSection/index.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">ActionType</span>, <span class="hljs-title class_">ProColumns</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-table'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProTable</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-table'</span>;
<span class="hljs-keyword">import</span> { operationListPage } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/order'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">OperationRecordSectionProps</span> {
  <span class="hljs-attr">formValues</span>: {
    orderNo?: <span class="hljs-built_in">string</span>;
    [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
  };
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">OperationRecordSection</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">OperationRecordSectionProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ formValues }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> actionRef = useRef&lt;<span class="hljs-title class_">ActionType</span>&gt;();

  <span class="hljs-comment">// ç›‘å¬å·¥å•ç¼–å·å˜åŒ–ï¼Œè‡ªåŠ¨åˆ·æ–°æ“ä½œè®°å½•</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (formValues?.<span class="hljs-property">orderNo</span>) {
      actionRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">reload</span>();
    }
  }, [formValues?.<span class="hljs-property">orderNo</span>]);

  <span class="hljs-keyword">const</span> <span class="hljs-attr">columns</span>: <span class="hljs-title class_">ProColumns</span>[] = [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œèŠ‚ç‚¹'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'orderNode'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œäºº'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'operationName'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œæ—¶é—´'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'createdDate'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œè¯¦æƒ…'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'operatorDetail'</span> },
  ];

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProTable</span>
      <span class="hljs-attr">search</span>=<span class="hljs-string">{false}</span>
      <span class="hljs-attr">actionRef</span>=<span class="hljs-string">{actionRef}</span>
      <span class="hljs-attr">request</span>=<span class="hljs-string">{async</span> (<span class="hljs-attr">params</span>) =&gt;</span> {
        if (!formValues?.orderNo) return { data: [], total: 0 };
        return operationListPage({ ...params, orderNo: formValues.orderNo });
      }}
      columns={columns}
      pagination={{ defaultPageSize: 5 }}
    /&gt;</span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">OperationRecordSection</span>;
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½å®ç°</h3>
<h4 data-id="heading-7">1. è®¢å•è°ƒé…æ¨¡å—ï¼ˆæ ¸å¿ƒåœºæ™¯ï¼‰</h4>
<p>è®¢å•è°ƒé…æ˜¯è½¦è¾†ç§Ÿèµåå°çš„æ ¸å¿ƒï¼Œéœ€å®ç°ã€Œæ–¹æ¡ˆåˆ¶å®šã€ä»»åŠ¡æ´¾å‘ã€è¯¦æƒ…æŸ¥çœ‹ã€ç­‰åŠŸèƒ½ï¼Œä¸”éœ€ç»“åˆçŠ¶æ€æ§åˆ¶æƒé™ä¸äº¤äº’ã€‚</p>
<h5 data-id="heading-8">ï¼ˆ1ï¼‰å¸¦çŠ¶æ€æ§åˆ¶çš„è¡¨æ ¼æ¸²æŸ“</h5>
<p>ä½¿ç”¨ ProTable å®ç°è®¢å•åˆ—è¡¨ï¼Œæ ¹æ®è®¢å•çŠ¶æ€ï¼ˆtoFormulate/toDistributeï¼‰åŠ¨æ€å±•ç¤ºæ“ä½œæŒ‰é’®ï¼Œä¸”ä»…å…è®¸å‹¾é€‰ã€Œæ–¹æ¡ˆåˆ¶å®šã€çŠ¶æ€çš„è¡Œï¼š</p>
<p>tsx</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// pages/OrderAlloc/index.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PageHeaderWrapper</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-layout'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProTable</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-table'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span>, message } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> { getAllocationList } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/order'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Func</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/Func'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">OrderAlloc</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [selectedRowKeys, setSelectedRowKeys] = useState&lt;<span class="hljs-built_in">string</span>[]&gt;([]);
  <span class="hljs-keyword">const</span> [selectedRows, setSelectedRows] = useState&lt;<span class="hljs-title class_">AllocOrder</span>[]&gt;([]);

  <span class="hljs-comment">// è¡¨æ ¼åˆ—é…ç½®</span>
  <span class="hljs-keyword">const</span> columns = [
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'å·¥å•ç¼–å·'</span>,
      <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'orderNo'</span>,
      <span class="hljs-attr">key</span>: <span class="hljs-string">'orderNo'</span>,
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¢å•çŠ¶æ€'</span>,
      <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'orderStatus'</span>,
      <span class="hljs-attr">valueEnum</span>: <span class="hljs-title class_">Func</span>.<span class="hljs-title function_">dictEnum</span>(dictMap, <span class="hljs-string">'AllocOrderStatus'</span>), <span class="hljs-comment">// å­—å…¸æ˜ å°„</span>
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'è½¦ç‰Œ'</span>,
      <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'carNo'</span>,
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œ'</span>,
      <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'option'</span>,
      <span class="hljs-attr">valueType</span>: <span class="hljs-string">'option'</span>,
      <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">_, record</span>) =&gt;</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
          {/* ä»…ã€Œæ–¹æ¡ˆåˆ¶å®šã€çŠ¶æ€æ˜¾ç¤ºã€Œæ–¹æ¡ˆåˆ¶å®šã€æŒ‰é’® */}
          {record.orderStatus === 'toFormulate' &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleOpenFormulateModal(record)}&gt;æ–¹æ¡ˆåˆ¶å®š<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          )}
          {/* ä»…ã€Œå¾…æ´¾å‘ã€çŠ¶æ€æ˜¾ç¤ºã€Œæ´¾å‘ä»»åŠ¡ã€æŒ‰é’® */}
          {record.orderStatus === 'toDistribute' &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleOpenDispatchModal(record)}&gt;æ´¾å‘ä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          )}
          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleOpenDetail(record)}&gt;è¯¦æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
      ),
    },
  ];

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PageHeaderWrapper</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ProTable</span>
        <span class="hljs-attr">rowKey</span>=<span class="hljs-string">"orderNo"</span>
        <span class="hljs-attr">rowSelection</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">selectedRowKeys</span>,
          <span class="hljs-attr">onChange:</span> (<span class="hljs-attr">keys</span>, <span class="hljs-attr">rows</span>) =&gt;</span> {
            // ä»…ä¿ç•™ã€Œæ–¹æ¡ˆåˆ¶å®šã€çŠ¶æ€çš„é€‰ä¸­è¡Œ
            const validRows = rows.filter(row =&gt; row.orderStatus === 'toFormulate');
            setSelectedRowKeys(validRows.map(row =&gt; row.orderNo));
            setSelectedRows(validRows);
            if (rows.length &gt; validRows.length) {
              message.warning('ä»…"æ–¹æ¡ˆåˆ¶å®š"çŠ¶æ€çš„è®¢å•å¯å‹¾é€‰');
            }
          },
          // ç¦ç”¨éã€Œæ–¹æ¡ˆåˆ¶å®šã€çŠ¶æ€çš„è¡Œå‹¾é€‰
          getCheckboxProps: (record) =&gt; ({
            disabled: record.orderStatus !== 'toFormulate',
          }),
        }}
        request={(params) =&gt; getAllocationList({ ...params, orderSource: 'ALLOCATE' })}
        columns={columns}
        toolBarRender={() =&gt; [
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{selectedRows.length</span> === <span class="hljs-string">0}</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleBatchFormulate()}
          &gt;
            æ‰¹é‡æ–¹æ¡ˆåˆ¶å®š
          <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>,
        ]}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">PageHeaderWrapper</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">OrderAlloc</span>;
</code></pre>
<h5 data-id="heading-9">ï¼ˆ2ï¼‰è¯¦æƒ…å¼¹çª—å®ç°</h5>
<p>é€šè¿‡ Modal å°è£…è¯¦æƒ…å¼¹çª—ï¼Œæ•´åˆ ProTableã€Descriptions ç»„ä»¶å±•ç¤ºè®¢å•å¤šç»´åº¦ä¿¡æ¯ï¼Œå¹¶å¤ç”¨æ“ä½œè®°å½•ç»„ä»¶ï¼š</p>
<p>tsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// pages/OrderAlloc/components/DeploymentDetail.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Modal</span>, <span class="hljs-title class_">Descriptions</span>, <span class="hljs-title class_">Collapse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProTable</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-table'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">OperationRecordSection</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/OperationRecordSection'</span>;
<span class="hljs-keyword">import</span> { allocatePlanDetail } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/order'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Func</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/Func'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">DeploymentDetail</span> = (<span class="hljs-params">{ visible, onCancel, formValues }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [orderDetail, setOrderDetail] = useState&lt;<span class="hljs-title class_">AllocOrder</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [taskList, setTaskList] = useState&lt;<span class="hljs-title class_">AllocOrder</span>[]&gt;([]);

  <span class="hljs-comment">// è·å–è®¢å•è¯¦æƒ…</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (visible &amp;&amp; formValues?.<span class="hljs-property">batchNo</span>) {
      <span class="hljs-title function_">allocatePlanDetail</span>({ <span class="hljs-attr">batchNo</span>: formValues.<span class="hljs-property">batchNo</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
        <span class="hljs-title function_">setOrderDetail</span>(res.<span class="hljs-property">data</span>);
        <span class="hljs-title function_">setTaskList</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">taskList</span> || []);
      });
    }
  }, [visible, formValues]);

  <span class="hljs-comment">// å·¥å•ä¿¡æ¯è¡¨æ ¼åˆ—</span>
  <span class="hljs-keyword">const</span> workColumns = [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'å·¥å•ç¼–å·'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'orderNo'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'è½¦å‹'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'modelName'</span>, <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">_, r</span>) =&gt;</span> r.<span class="hljs-property">carInfo</span>?.<span class="hljs-property">modelName</span> || <span class="hljs-string">'-'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'äº¤ä»˜ç±»å‹'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'deliveryType'</span>, <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">_, r</span>) =&gt;</span> <span class="hljs-title class_">Func</span>.<span class="hljs-title function_">dictLabel</span>(dictMap, <span class="hljs-string">'DeliveryType'</span>, r.<span class="hljs-property">allocateInfo</span>?.<span class="hljs-property">deliveryType</span>) || <span class="hljs-string">'-'</span> },
  ];

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span>
      <span class="hljs-attr">open</span>=<span class="hljs-string">{visible}</span>
      <span class="hljs-attr">onCancel</span>=<span class="hljs-string">{onCancel}</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"80%"</span>
      <span class="hljs-attr">footer</span>=<span class="hljs-string">{null}</span>
      <span class="hljs-attr">destroyOnClose</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Collapse</span> <span class="hljs-attr">defaultActiveKey</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">1</span>', '<span class="hljs-attr">2</span>', '<span class="hljs-attr">3</span>']}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Collapse.Panel</span> <span class="hljs-attr">header</span>=<span class="hljs-string">"å·¥å•ä¿¡æ¯"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ProTable</span> <span class="hljs-attr">dataSource</span>=<span class="hljs-string">{taskList}</span> <span class="hljs-attr">columns</span>=<span class="hljs-string">{workColumns}</span> <span class="hljs-attr">pagination</span>=<span class="hljs-string">{false}</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Collapse.Panel</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Collapse.Panel</span> <span class="hljs-attr">header</span>=<span class="hljs-string">"è°ƒé…ä¿¡æ¯"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"2"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Descriptions</span> <span class="hljs-attr">column</span>=<span class="hljs-string">{3}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Descriptions.Item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"äº¤ä»˜ç±»å‹"</span>&gt;</span>
              {Func.dictLabel(dictMap, 'DeliveryType', orderDetail?.allocateInfo?.deliveryType) || '-'}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Descriptions.Item</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Descriptions.Item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"å¤‡æ³¨"</span>&gt;</span>{orderDetail?.remark || '-'}<span class="hljs-tag">&lt;/<span class="hljs-name">Descriptions.Item</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">Descriptions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Collapse.Panel</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Collapse.Panel</span> <span class="hljs-attr">header</span>=<span class="hljs-string">"æ“ä½œè®°å½•"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"3"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">OperationRecordSection</span> <span class="hljs-attr">formValues</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">...formValues</span>, <span class="hljs-attr">orderNo:</span> <span class="hljs-attr">orderDetail</span>?<span class="hljs-attr">.orderNo</span> }} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Collapse.Panel</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Collapse</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">DeploymentDetail</span>;
</code></pre>
<h4 data-id="heading-10">2. å­—å…¸æ˜ å°„å°è£…</h4>
<p>è½¦è¾†ç§Ÿèµç³»ç»ŸåŒ…å«å¤§é‡æšä¸¾å€¼ï¼ˆå¦‚äº¤ä»˜ç±»å‹ã€è®¢å•çŠ¶æ€ï¼‰ï¼Œå°è£…é€šç”¨å­—å…¸å·¥å…·å‡½æ•°ï¼Œç»Ÿä¸€å¤„ç†ç±»å‹æ˜ å°„ï¼š</p>
<p>typescript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/Func.ts</span>
<span class="hljs-comment">/**
 * å­—å…¸è½¬ä¸‹æ‹‰/è¡¨æ ¼æšä¸¾æ ¼å¼
 * <span class="hljs-doctag">@param</span> dictMap å…¨å±€å­—å…¸å¯¹è±¡
 * <span class="hljs-doctag">@param</span> dictKey å­—å…¸key
 * <span class="hljs-doctag">@returns</span> æšä¸¾å¯¹è±¡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">dictEnum</span> = (<span class="hljs-params">dictMap: <span class="hljs-built_in">any</span>, dictKey: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (!dictMap?.[dictKey]) <span class="hljs-keyword">return</span> {};
  <span class="hljs-keyword">return</span> dictMap[dictKey].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc: <span class="hljs-built_in">any</span>, item: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
    acc[item.<span class="hljs-property">value</span>] = item.<span class="hljs-property">label</span>;
    <span class="hljs-keyword">return</span> acc;
  }, {});
};

<span class="hljs-comment">/**
 * æ ¹æ®å€¼è·å–å­—å…¸æ ‡ç­¾
 * <span class="hljs-doctag">@param</span> dictMap å…¨å±€å­—å…¸å¯¹è±¡
 * <span class="hljs-doctag">@param</span> dictKey å­—å…¸key
 * <span class="hljs-doctag">@param</span> value å­—å…¸å€¼
 * <span class="hljs-doctag">@returns</span> å­—å…¸æ ‡ç­¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">dictLabel</span> = (<span class="hljs-params">dictMap: <span class="hljs-built_in">any</span>, dictKey: <span class="hljs-built_in">string</span>, value: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (!dictMap?.[dictKey] || !value) <span class="hljs-keyword">return</span> <span class="hljs-string">'-'</span>;
  <span class="hljs-keyword">const</span> item = dictMap[dictKey].<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">any</span></span>) =&gt;</span> item.<span class="hljs-property">value</span> === value);
  <span class="hljs-keyword">return</span> item?.<span class="hljs-property">label</span> || <span class="hljs-string">'-'</span>;
};
</code></pre>
<h3 data-id="heading-11">å››ã€é¡¹ç›®ä¼˜åŒ–è¦ç‚¹</h3>
<h4 data-id="heading-12">1. æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li><strong>æ•°æ®ç¼“å­˜</strong>ï¼šä½¿ç”¨ ahooks çš„ useRequest é…ç½® cacheKeyï¼Œç¼“å­˜é«˜é¢‘æŸ¥è¯¢çš„è®¢å•åˆ—è¡¨ï¼Œé¿å…é‡å¤è¯·æ±‚ï¼›</li>
<li><strong>ç»„ä»¶æ‡’åŠ è½½</strong>ï¼šé€šè¿‡ Umi çš„ dynamicImport å®ç°é¡µé¢çº§æ‡’åŠ è½½ï¼Œå‡å°‘é¦–å±åŠ è½½ä½“ç§¯ï¼›</li>
<li><strong>è¡¨æ ¼è™šæ‹Ÿæ»šåŠ¨</strong>ï¼šProTable å¼€å¯ scroll={{y: 600}} + virtual={true}ï¼Œä¼˜åŒ–å¤§æ•°æ®é‡è¡¨æ ¼æ¸²æŸ“ã€‚</li>
</ul>
<h4 data-id="heading-13">2. ä½“éªŒä¼˜åŒ–</h4>
<ul>
<li><strong>çŠ¶æ€è”åŠ¨</strong>ï¼šå‹¾é€‰è¡Œæ—¶å®æ—¶è¿‡æ»¤æ— æ•ˆè¡Œå¹¶ç»™å‡ºæç¤ºï¼Œé¿å…ç”¨æˆ·è¯¯æ“ä½œï¼›</li>
<li><strong>å…œåº•æ˜¾ç¤º</strong>ï¼šæ‰€æœ‰å­—å…¸æ˜ å°„ã€åµŒå¥—æ•°æ®è®¿é—®å‡æ·»åŠ å…œåº•ï¼ˆ|| '-'ï¼‰ï¼Œé¿å…é¡µé¢ç©ºç™½ï¼›</li>
<li><strong>åŠ è½½çŠ¶æ€</strong>ï¼šå¼‚æ­¥è¯·æ±‚æ—¶æ·»åŠ éª¨æ¶å± / åŠ è½½åŠ¨ç”»ï¼Œæå‡äº¤äº’ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-14">3. å¯ç»´æŠ¤æ€§ä¼˜åŒ–</h4>
<ul>
<li><strong>ç»Ÿä¸€è¯·æ±‚å°è£…</strong>ï¼šæ‹¦æˆªè¯·æ±‚ / å“åº”ï¼Œç»Ÿä¸€å¤„ç† tokenã€é”™è¯¯æç¤ºï¼›</li>
<li><strong>æ³¨é‡Šè§„èŒƒ</strong>ï¼šå…³é”®ä¸šåŠ¡é€»è¾‘ã€å·¥å…·å‡½æ•°æ·»åŠ  TSDoc æ³¨é‡Šï¼›</li>
<li><strong>åˆ†æ”¯ç®¡ç†</strong>ï¼šæŒ‰ã€ŒåŠŸèƒ½åˆ†æ”¯ - æµ‹è¯•åˆ†æ”¯ - ä¸»åˆ†æ”¯ã€æµç¨‹å¼€å‘ï¼Œé¿å…ä»£ç å†²çªã€‚</li>
</ul>
<h3 data-id="heading-15">äº”ã€æ€»ç»“</h3>
<p>React + TypeScript æ„å»ºè½¦è¾†ç§Ÿèµåå°ç®¡ç†ç³»ç»Ÿï¼Œæ ¸å¿ƒåœ¨äºã€Œç±»å‹çº¦æŸé™ä½é£é™©ã€ç»„ä»¶å¤ç”¨æå‡æ•ˆç‡ã€ä¸šåŠ¡é€»è¾‘åˆ†å±‚è§£è€¦ã€ã€‚æœ¬æ–‡ä»æ¶æ„è®¾è®¡åˆ°æ ¸å¿ƒåŠŸèƒ½å®ç°ï¼Œè¦†ç›–äº†ä¸­åå°å¼€å‘çš„é«˜é¢‘åœºæ™¯ï¼šè¡¨æ ¼çŠ¶æ€æ§åˆ¶ã€å­—å…¸æ˜ å°„ã€é€šç”¨ç»„ä»¶å°è£…ã€æƒé™æ§åˆ¶ç­‰ã€‚</p>
<p>å®é™…å¼€å‘ä¸­ï¼Œéœ€ç»“åˆä¸šåŠ¡åœºæ™¯çµæ´»è°ƒæ•´ â€”â€” ä¾‹å¦‚è½¦è¾†ç§Ÿèµçš„ã€Œè½¦è¾†å®šä½ã€åˆåŒç®¡ç†ã€ç­‰æ‰©å±•æ¨¡å—ï¼Œå¯å¤ç”¨æœ¬æ–‡çš„æ¶æ„æ€è·¯ï¼Œé€šè¿‡ TypeScript å®šä¹‰ç±»å‹ã€Pro ç»„ä»¶å¿«é€Ÿå®ç° UIï¼Œæœ€ç»ˆæ‰“é€ é«˜æ€§èƒ½ã€æ˜“ç»´æŠ¤çš„ä¼ä¸šçº§åå°ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨è 4 ä¸ª yyds çš„ AI æ§åˆ¶å®‰å“æ‰‹æœºçš„ GitHub é¡¹ç›®ã€‚]]></title>    <link>https://juejin.cn/post/7583969283790061622</link>    <guid>https://juejin.cn/post/7583969283790061622</guid>    <pubDate>2025-12-16T02:43:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583969283790061622" data-draft-id="7583984122235027498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨è 4 ä¸ª yyds çš„ AI æ§åˆ¶å®‰å“æ‰‹æœºçš„ GitHub é¡¹ç›®ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-16T02:43:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨è 4 ä¸ª yyds çš„ AI æ§åˆ¶å®‰å“æ‰‹æœºçš„ GitHub é¡¹ç›®ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:43:56.000Z" title="Tue Dec 16 2025 02:43:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€›é€›åœ¨ 11 æœˆå‘äº†ä¸€ç¯‡æ–‡ç« ï¼Œç›˜ç‚¹äº† GitHub ä¸Š AI æ“çºµæ‰‹æœºçš„å¼€æºé¡¹ç›®ã€‚</p>
<p>è·å¾—äº† 3 ä¸‡å¤šé˜…è¯»ï¼Œ3000 å¤šäººè½¬å‘æ”¶è—ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bd8410fb07046d8b8a6f6db0a62988d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=gPXulglpgqrxG9q4eQbYdwXMbEE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ²¡æƒ³åˆ°é‚£ç¯‡æ–‡ç« å‘å¸ƒ 5 å¤©åï¼Œè±†åŒ…å°±å®˜å®£æ¨å‡ºäº† AI æ‰‹æœºï¼Œç´§æ¥ç€æ™ºè°± AI å°±å¼€æºäº† AutoGLM æ¨¡å‹ã€‚</p>
<p>æˆ‘åˆæœç½—äº†å‡ ä¸ª AI æ“ä½œæ‰‹æœºçš„å¼€æºé¡¹ç›®ï¼Œå†åŠ ä¸Šæˆ‘ä¹‹å‰å‘çš„é‚£ç¯‡ã€‚æ•´ä¸ª GitHub ä¸Šå…³äº AI æ§åˆ¶æ‰‹æœºçš„é¡¹ç›®ç®—æ˜¯è¢«é€›é€›æœåˆ®å¹²å‡€äº†ã€‚</p>
<p>æ¬¢è¿æ”¶è—è½¬å‘ğŸ‘</p>
<h2 data-id="heading-0">01ã€æ™ºè°±å¼€æºï¼šOpen-AutoGLM</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da34e068012e4bc0bd7c51154d930bbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=WbikuqLDP0%2FID5RLuXWW92pCQrk%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®å¤ªé¡¶äº†ï¼Œä¸åˆ°ä¸€å‘¨å°± 1.3 ä¸‡çš„ Star äº†ã€‚</p>
<p>åŸºäºè¿™ä¸ªå¼€æºæ¡†æ¶ï¼Œå°±èƒ½è®© AI å¯ä»¥<strong>åƒäººçœ¼ä¸€æ ·çœ‹æ‰‹æœºå±å¹•</strong>ï¼Œç„¶ååƒäººæ‰‹ä¸€æ ·å»ç‚¹å‡»ã€‚</p>
<p>ä½ ç»™å®ƒä¸€ä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚ï¼šå¸®æˆ‘æ€»ç»“ä¸‹é•¿æ˜¥çš„æ™¯ç‚¹ï¼Œåˆ°é«˜å¾·åœ°å›¾ä¸Šæ”¶è—ä¸€ä¸‹è¿™å‡ ä¸ªæ™¯ç‚¹ï¼Œç‰¹åˆ«æ˜¯å…·ä½“çœ‹çœ‹åšç‰©é¦†é—¨ç¥¨ä»·æ ¼ï¼Œå†å»12306ä¸Šè®¢ä¸€å¼ ä¸Šåˆåç‚¹ä»åŒ—äº¬å»é•¿æ˜¥çš„é«˜é“ç¥¨ï¼ŒæŠŠç›¸å…³ä¿¡æ¯æ•´ç†å¥½ç»™æˆ‘ã€‚</p>
<p>AutoGLMÂ ä¼šå…ˆæŠŠæ‰‹æœºå±å¹•æˆªä¸ªå›¾ï¼Œæ¨¡å‹ä¼šåˆ†ææˆªå›¾ï¼Œé€šè¿‡è§†è§‰å®šä½æ‰¾åˆ°å½“å‰è¦ç‚¹å‡»å“ªä¸ªæŒ‰é’®æˆ–è€…åšå•¥æ“ä½œã€‚</p>
<p>å¹¶é€šè¿‡ ADBï¼ˆAndroid Debug Bridgeï¼‰å·¥å…·ï¼Œç›´æ¥å‘æ‰‹æœºå‘é€ç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥æ–‡å­—çš„æŒ‡ä»¤ã€‚</p>
<p>æœ€ç»ˆè¿™æ ·ä¸€æ­¥æ­¥æ¨¡æ‹Ÿäººçœ‹æ‰‹æœºã€æ“çºµæ‰‹æœºçš„è¡Œä¸ºï¼Œå®Œæˆä½ ç»™çš„ä»»åŠ¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64e6aa6b09424c75b4fdaa5772bc82e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=wpzrBWk26HX97tTekzAskgdwF8s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/zai-org/Open-AutoGLM</span>
</code></pre>
<p>è€Œä¸”è¿™ä¸ªå¼€æºå¯ä»¥æœ¬åœ°éƒ¨ç½²ï¼Œè€Œä¸”å¦‚æœä½ æœ‰æ˜¾å¡ï¼Œå¤§çº¦éœ€è¦ 24GB+ æ˜¾å­˜ï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ª Agent è·‘åœ¨æœ¬åœ°ã€‚</p>
<p>éšç§æ•°æ®ï¼Œæ¯”å¦‚èŠå¤©è®°å½•ã€æ”¯ä»˜ç”»é¢å•¥çš„ä¸ä¸Šä¼ åˆ°äº‘ç«¯ä¹Ÿèƒ½è‡ªåŠ¨åŒ–çš„ä½ çš„å®‰å“æ‰‹æœºäº†ã€‚</p>
<p>å¦‚ä½•ä½¿ç”¨</p>
<p>ä½ å¯ä»¥ä½¿ç”¨Claude Codeï¼Œé…ç½® GLM Coding Plan åï¼Œè¾“å…¥ä»¥ä¸‹æç¤ºè¯ï¼Œå¿«é€Ÿéƒ¨ç½²æœ¬é¡¹ç›®ã€‚Â </p>
<pre><code class="hljs language-bash" lang="bash">è®¿é—®æ–‡æ¡£ï¼Œä¸ºæˆ‘å®‰è£… AutoGLM ï¼šhttps://raw.githubusercontent.com/zai-org/Open-AutoGLM/refs/heads/main/README.md
</code></pre>
<h2 data-id="heading-1">02ã€é€šè¿‡ MCP æ§åˆ¶æ‰‹æœºï¼šDroidMind</h2>
<p><strong>DroidMind è¿™ä¸ªå¼€æºé¡¹ç›®çš„çš„æ ¸å¿ƒé€»è¾‘æ˜¯ä¸è‡ªå·±è®­ç»ƒä¸€ä¸ªæ–°æ¨¡å‹ï¼Œè€Œæ˜¯åšä¸€ä¸ª</strong> <strong>è¶…çº§é€‚é…å™¨</strong>ã€‚</p>
<p>å®ƒé€šè¿‡ MCP åè®®ï¼ŒæŠŠä½ çš„Â <strong>Android æ‰‹æœº</strong>ç›´æ¥æŒ‚è½½åˆ°Â <strong>Claude Desktop</strong>ã€<strong>Cursor</strong> æˆ–è€…Â Claude <strong>Code</strong>Â ä¸Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b02d0991fb2a43488648ebd3373427ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=ZyI3vsHOF6tLB5rtRPlXnQvddEM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ ä¸éœ€è¦è¿è¡Œä¸€ä¸ªæ²‰é‡çš„æœ¬åœ°æ¨¡å‹ã€‚</p>
<p>ä½ ç›´æ¥ç”¨æœ€èªæ˜çš„Â <strong>Claude æˆ– Gemini</strong>ï¼Œé€šè¿‡ DroidMind è¿™ä¸ªç¿»è¯‘å®˜ï¼Œç›´æ¥æ“æ§ä½ çš„å®‰å“æ‰‹æœºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea8675948f544464986d155332699dd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=l4ZxsDMfoe0IMphZqUryM7iUZSI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/hyperb1iss/DroidMind</span>
</code></pre>
<h2 data-id="heading-2">03ã€å¾®è½¯å¼€æºï¼šUFO</h2>
<p>è¿™ä¸ªå« UFO çš„å¼€æºé¡¹ç›®å…¶å®æ˜¯å¾®è½¯å¼€æºçš„ AI æ“ä½œ Windows ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ã€‚</p>
<p>åªä¸è¿‡Â 11 æœˆæ¨å‡ºçš„Â UFOÂ³Â Galaxy å·²ç»æ¼”å˜æˆäº†ä¸€ä¸ª<strong>è·¨è®¾å¤‡ã€è·¨å¹³å°çš„ç¼–æ’æ¡†æ¶ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b417d760183748f090dae85f029b2531~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=xJbKxU1sIV9N1HQhBISkQzbImJA%3D" alt="å›¾ç‰‡" loading="lazy"/><strong>UFOÂ³ Galaxy</strong>Â æ¶‰åŠåˆ°æ“çºµÂ <strong>Android æ‰‹æœºè®¾å¤‡</strong>çš„éƒ¨åˆ†æ˜¯è¿™æ¬¡æ›´æ–°çš„æ ¸å¿ƒäº®ç‚¹ä¹‹ä¸€ã€‚å®ƒä¹Ÿæ˜¯é€šè¿‡å¼•å…¥Â <strong>MCPÂ æ¶æ„æ¥å®ç°çš„ï¼Œè¿™ä½¿å¾— UFO ä¸å†å±€é™äº Windowsï¼Œè€Œæ˜¯èƒ½åƒæŒ‡æŒ¥å®˜ä¸€æ ·æ§åˆ¶å®‰å“æ‰‹æœºã€‚</strong><br/>
<strong><strong><strong><strong>UFOÂ³ Galaxy</strong>Â æ˜¯ä¸€ä¸ª</strong>å¤šè®¾å¤‡ç¼–æ’ç³»ç»Ÿ</strong>ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µåŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ã€‚</strong></p>
<ul>
<li>Galaxy (æ˜Ÿç³»)ï¼šæ•´ä¸ªæ§åˆ¶ä¸­æ¢ï¼Œè´Ÿè´£åˆ†å‘ä»»åŠ¡ã€‚</li>
<li>Constellation (æ˜Ÿåº§)ï¼šå®ƒå°†ä¸€ä¸ªå¤æ‚çš„ç”¨æˆ·æŒ‡ä»¤ï¼Œæ¯”å¦‚æŠŠæ‰‹æœºä¸Šçš„åˆšæ‹çš„ç…§ç‰‡ä¼ åˆ°ç”µè„‘å¹¶ç”¨ Photoshop ç¼–è¾‘ï¼Œæ‹†è§£æˆä¸€ä¸ª DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ã€‚</li>
</ul>
<p>Windows ç”µè„‘ã€Linux æœåŠ¡å™¨ã€<strong>Android æ‰‹æœº</strong>Â ç­‰éƒ½ä½œä¸ºç‹¬ç«‹çš„èŠ‚ç‚¹æ¥å…¥è¿™ä¸ªç½‘ç»œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd0c8f3f4526455695729b40dc244788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=9pxL%2FnAnkqzhnRzTDxKoFdSNlZ4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/microsoft/UFO</span>
</code></pre>
<h2 data-id="heading-3">04ã€å­—èŠ‚å¼€æºï¼šUI-TARS</h2>
<p>å­—èŠ‚è·³åŠ¨å¼€æºçš„ä¸€ä¸ªåŸºäºè§†è§‰-è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰çš„ GUI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰é¡¹ç›®ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯è®© AI åƒäººç±»ä¸€æ ·ï¼Œé€šè¿‡è§†è§‰è¯†åˆ«å±å¹•å’Œæ“ä½œé¼ æ ‡/é”®ç›˜/è§¦æ§ï¼Œç›´æ¥æ§åˆ¶æ‰‹æœºã€è®¡ç®—æœºæˆ–ç½‘é¡µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87b02bf798394c6796467a71a90fecc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=7O9xIgwUtSHFyzxOZb7Vh80wWtI%3D" alt="å›¾ç‰‡" loading="lazy"/><strong>å®‰å“æ‰‹æœºè®¾å¤‡æ“çºµï¼Œ</strong> UI-TARS é‡‡ç”¨äº†ä¸€ç§<strong>ç«¯åˆ°ç«¯ã€çº¯è§†è§‰é©±åŠ¨ã€åŸºäº ADB</strong>Â çš„æ§åˆ¶æ–¹æ¡ˆã€‚</p>
<p>ä¹Ÿæ˜¯æˆªå–æ‰‹æœºå±å¹•ç”»é¢ï¼ŒæŠŠæˆªå›¾è¾“å…¥ç»™è§†è§‰æ¨¡å‹ï¼Œæ¨¡å‹ç»“åˆç”¨æˆ·çš„æŒ‡ä»¤åˆ†æå±å¹•ä¸Šçš„å…ƒç´ ï¼Œå†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆã€‚</p>
<p>æœ€åæ¨¡å‹è¾“å‡ºå…·ä½“çš„åŠ¨ä½œæŒ‡ä»¤ï¼Œè½¬åŒ–ä¸ºåº•å±‚çš„ Android ADB å‘½ä»¤å‘é€ç»™æ‰‹æœºæ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af1610839b4d4f7b88f7c69b7653c7c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766457836&amp;x-signature=PIk7p7%2BqJx7i1I4rR5t9UmhPEPA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/bytedance/UI-TARS</span>
</code></pre>
<p>å¦å¤–ä¹‹å‰å‘å¸ƒçš„å¦å¤–ä¸€ä¸ªç›˜ç‚¹ AI æ§åˆ¶æ‰‹æœºå¼€æºé¡¹ç›®çš„é“¾æ¥å¦‚ä¸‹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹çœ‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxNjg4NDEzNA%3D%3D%26mid%3D2247529132%26idx%3D1%26sn%3D0b45b857cfd67f9144472f2017f46a14%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;mid=2247529132&amp;idx=1&amp;sn=0b45b857cfd67f9144472f2017f46a14&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">5 ä¸ª AI æ“çºµæ‰‹æœºçš„ GitHub é¡¹ç›®ï¼Œç‰›é€¼äº†ã€‚</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Monorepo æ¶æ„ï¼šç°ä»£è½¯ä»¶å¼€å‘çš„ä»£ç ç®¡ç†é©å‘½]]></title>    <link>https://juejin.cn/post/7583970267132854278</link>    <guid>https://juejin.cn/post/7583970267132854278</guid>    <pubDate>2025-12-16T02:10:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583970267132854278" data-draft-id="7583980250733150271" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Monorepo æ¶æ„ï¼šç°ä»£è½¯ä»¶å¼€å‘çš„ä»£ç ç®¡ç†é©å‘½"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-16T02:10:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NolanKy"/> <meta itemprop="url" content="https://juejin.cn/user/2841599197616894"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Monorepo æ¶æ„ï¼šç°ä»£è½¯ä»¶å¼€å‘çš„ä»£ç ç®¡ç†é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2841599197616894/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NolanKy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:10:31.000Z" title="Tue Dec 16 2025 02:10:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin:30px 0 10px;color:#cca152;position:relative;padding-left:50px;border-bottom:2px solid rgba(209,163,78,.6);padding-bottom:0}.markdown-body h1{font-size:30px}.markdown-body h1:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:80%;bottom:-10px;left:-2px}.markdown-body h2{font-size:24px}.markdown-body h2:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:70%;bottom:-15px;left:-1px}.markdown-body h3{font-size:18px}.markdown-body h3:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:60%;bottom:-19px;left:-2px}.markdown-body h4{font-size:16px;padding-left:0;border-bottom:1px solid rgba(209,163,78,.6)}.markdown-body h5{font-size:15px;padding-left:0}.markdown-body em{color:#cca152}.markdown-body del{text-decoration-color:#cca152;text-decoration-thickness:2px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:80%;margin:6px auto;box-shadow:0 6px 15px #8e8e8e;display:block;margin:20px auto!important;object-fit:contain;border-radius:8px}.markdown-body hr{border:none;border-top:2px solid #e0c9a1;margin-top:32px 0}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background:#f6efde;color:#b69454;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Mono,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;background:#fef6e1;border-radius:4px;box-shadow:0 0 8px hsla(0,0%,47%,.45)}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAOCAMAAABaWb9VAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACHUExURUdwTMxCKdc8NvdYT/9hVyLJPABBAGubKNiIOv+/K+ytJBakH9aZG+5QR5VZDOBDPhmtJ8+VGuGjH/CwJR26MR6+NBq0LPW1KBmwKetNRfJUTONHP92fHuSmIeFEPhu3LR29M/BTS+mqIuqsI5qdHyLKPP++Kv9gVf9lW//KLSXXQCTQP//FLMVm5KQAAAAldFJOUwAlPPz7+woBBPu8Mzu+FlRRKmvnweeG+Wqg6mVNXmuc1OCbmjZJWF/9AAABKklEQVQoz3WS6XaCMBCFRzAM++KGsqhtDwES3//5OtmA2uP9A9zwzRoAgBC0QgQrdA68OZsDr229YGHoIEj7Pl0ZOgjKa5lYJ4Rd1vijn3nuD4Qurjmv48o6RFyfbGDnS6DeEXZfk5ZfuBhdPb9I87ECNMh1EFJKIU6agWzaa01NbmLkxznSmmObJBkkUxrERf3i+ftRiZi7ShPCYY64UhTx1AR5CDYoMXkOKEY7GmTcTzeD/FiER68DfSLgSRqEIBoB3P8h3x8RZhBXGJGusJdD6rfCBl0YqvZNkrV9zej2cWlfJWG6fRpyM41qYH+GTPPi2yFLQYC0Qybm5o96lW77kMbcrBKtgeWTsthVamNXFF4I6x0DTPuugsVRFyYpyxzWqNvHJwed8ws7QyP1UwjNjwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fef6e1}.markdown-body a{text-decoration:none;color:#d8ac5a;border-bottom:1px solid #d8ac5a}.markdown-body a:active,.markdown-body a:hover{color:#93753f;border-color:#93753f}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f4e8c7;border-collapse:collapse}.markdown-body thead{background:rgba(255,227,176,.6588235294);text-align:left;display:table-header-group;border-bottom:1px solid rgba(255,227,176,.6588235294)}.markdown-body tbody{background:rgba(255,247,229,.3882352941)}.markdown-body td,.markdown-body th{padding:7px;line-height:24px;min-width:100px}.markdown-body blockquote{color:#bd954f;padding:1px 23px;margin:22px 0;border-left:4px solid #dcb267;background-color:#fff7e5}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol .task-list-item,.markdown-body ul .task-list-item{list-style:none}.markdown-body ol li{padding-left:6px}.markdown-body::marker{color:#dcb267}.markdown-body .contains-task-list{padding-left:0}.markdown-body .contains-task-list .task-list-item{list-style:none;position:relative}.markdown-body .contains-task-list .task-list-item input[type=checkbox]{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:before{content:"";display:inline-block;height:12px;width:12px;position:absolute;left:-2px;top:-2px;border:2px solid #cda152;border-radius:5px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked:before{border:none;content:"";display:inline-block;height:17px;width:17px;position:absolute;left:-2px;top:-2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAYhJREFUOBFjYACC0/MDGsDEiyvr/zOCeUwMJxn/A8HZRUEMYBFGJsZ6kFoQYALiAyAGCgDpA+sFijKeWRj4H1kWpIWBW1SDQcm+BCzOAiK/vr7BcO/gDbAAI4hE1waWgRBnmWCGIwkyKFjnwow0BhsJk9QLncvw5dV1oPE9MCEGmBWrgCKhcFEowyR+PSNYwemFAZ4M/xjMkRWYJm5oAPFB/joDpI1BHHQANgGPDxj+//vfCA4IdJ3GcevgQnAFhlHLwYIgSVA0wABcwY3tFQzokiBFGIEP0wmigW5wZAK5FFkQib0a6NUDcEmgb7AGFpIGZOZqoMFhIAFQknEAJpn9yLLEssFOBCp2IFaDkl0xg6C8FbJyB3gowUS5RdQYBORQYpVB1iwVHIIMwJh///AYTCmYRklNIBFmNi4GeYt0BhnjeIa3dw8wSBlEgDUhxw2yCRgGfHp2geHiqiSwUwUVrFAiFVkjjA1LrjgTHEwhFvosMCZM4NEIUoAtWWNoBGZ70/gN22HiAD2uhAzsYNBZAAAAAElFTkSuQmCC) 0 0 no-repeat;background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å½“ä»Šå¿«é€Ÿå‘å±•çš„è½¯ä»¶å¼€å‘é¢†åŸŸï¼Œéšç€é¡¹ç›®å¤æ‚åº¦çš„ä¸æ–­æå‡ï¼Œä¼ ç»Ÿçš„å¤šä»“åº“ï¼ˆMulti-repoï¼‰å¼€å‘æ¨¡å¼é€æ¸æš´éœ²å‡ºåä½œæˆæœ¬é«˜ã€ç‰ˆæœ¬ç®¡ç†æ··ä¹±ã€ä¾èµ–å¤ç”¨å›°éš¾ç­‰é—®é¢˜ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œ<strong>Monorepoï¼ˆå•ä¸€ä»£ç ä»“åº“ï¼‰</strong> â€‹ æ¶æ„åº”è¿è€Œç”Ÿï¼Œå¹¶å·²æˆä¸ºGoogleã€Facebookã€Microsoftç­‰å¤§å‹ç§‘æŠ€å…¬å¸çš„æ ‡å‡†å®è·µ</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯Monorepoï¼Ÿ</h2>
<p>Monorepoï¼ˆMonolithic Repositoryï¼‰æ˜¯ä¸€ç§å°†å¤šä¸ªé¡¹ç›®ï¼ˆå¦‚å¤šä¸ªå‰ç«¯åº”ç”¨ã€ç»„ä»¶åº“ã€å·¥å…·åº“ç­‰ï¼‰é›†ä¸­å­˜æ”¾åœ¨<strong>åŒä¸€ä¸ªä»£ç ä»“åº“</strong>ä¸­çš„å¼€å‘ç®¡ç†æ¨¡å¼ã€‚ä¸ä¼ ç»Ÿçš„â€œä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªä»“åº“â€ä¸åŒï¼ŒMonorepoå¼ºè°ƒåœ¨å•ä¸€ç‰ˆæœ¬æ§åˆ¶ä»“åº“ä¸­ç®¡ç†å¤šä¸ªç›¸å…³ä½†ç‹¬ç«‹çš„æ¨¡å—æˆ–æœåŠ¡ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹å¾</h3>
<ul>
<li><strong>ç»Ÿä¸€å­˜å‚¨</strong>ï¼šæ‰€æœ‰ç›¸å…³é¡¹ç›®çš„ä»£ç ã€é…ç½®å’Œæ–‡æ¡£éƒ½ä½äºåŒä¸€ä¸ªGitä»“åº“ä¸­</li>
<li><strong>å…±äº«ä¾èµ–</strong>ï¼šé€šè¿‡å·¥ä½œåŒºï¼ˆworkspaceï¼‰æœºåˆ¶å®ç°ä¾èµ–çš„ç»Ÿä¸€ç®¡ç†</li>
<li><strong>åŸå­æäº¤</strong>ï¼šè·¨é¡¹ç›®çš„å˜æ›´å¯ä»¥ä½œä¸ºä¸€ä¸ªåŸå­æäº¤ï¼Œç¡®ä¿ä¸€è‡´æ€§</li>
<li><strong>é›†ä¸­åŒ–æ„å»º</strong>ï¼šç»Ÿä¸€çš„CI/CDæµç¨‹å’Œæ„å»ºå·¥å…·é…ç½®</li>
</ul>
<h2 data-id="heading-2">äºŒã€Monorepoçš„æ¼”è¿›å†ç¨‹</h2>
<p>ä»£ç ä»“åº“ç®¡ç†æ–¹å¼ç»å†äº†ä¸‰ä¸ªä¸»è¦é˜¶æ®µçš„æ¼”è¿›ï¼š</p>
<h3 data-id="heading-3">1. å•ä»“åº“å·¨çŸ³åº”ç”¨ï¼ˆMonolithï¼‰</h3>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæ‰€æœ‰ä»£ç é›†ä¸­åœ¨ä¸€ä¸ªä»“åº“ä¸­ï¼Œä¾¿äºåˆæœŸç®¡ç†å’Œéƒ¨ç½²</li>
<li><strong>é—®é¢˜</strong>ï¼šéšç€é¡¹ç›®è§„æ¨¡å¢é•¿ï¼Œæ„å»ºæ—¶é—´å¢åŠ ã€ä»£ç å†²çªé¢‘ç¹ã€ç»´æŠ¤å›°éš¾</li>
</ul>
<h3 data-id="heading-4">2. å¤šä»“åº“å¤šæ¨¡å—åº”ç”¨ï¼ˆMulti-repoï¼‰</h3>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå°†é¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨å•ç‹¬çš„ä»“åº“ç®¡ç†</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæé«˜äº†æ¨¡å—ç‹¬ç«‹æ€§ï¼Œä¾¿äºå›¢é˜Ÿå¹¶è¡Œå¼€å‘</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼šè·¨ä»“åº“ä¾èµ–ç®¡ç†å¤æ‚ã€ç‰ˆæœ¬åŒæ­¥å›°éš¾ã€å·¥ä½œæµç¨‹ç¹ç</li>
</ul>
<h3 data-id="heading-5">3. å•ä»“åº“å¤šæ¨¡å—åº”ç”¨ï¼ˆMonorepoï¼‰</h3>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåœ¨å•ä¸€ä»“åº“ä¸­ç®¡ç†å¤šä¸ªç›¸å…³æ¨¡å—</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šç®€åŒ–è·¨æ¨¡å—ä¾èµ–ç®¡ç†ã€æé«˜ä»£ç å…±äº«æ•ˆç‡ã€ç»Ÿä¸€æ„å»ºæµç¨‹</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼šéœ€è¦æ›´ç²¾ç»†çš„æƒé™æ§åˆ¶ã€å¤§å‹ä»“åº“æ€§èƒ½ä¼˜åŒ–</li>
</ul>
<h2 data-id="heading-6">ä¸‰ã€Monorepo vs. Multi-repoï¼šæ ¸å¿ƒå¯¹æ¯”</h2>








































<table><thead><tr><th>ç»´åº¦</th><th>Monorepo</th><th>Multi-repo</th></tr></thead><tbody><tr><td><strong>ä»£ç å¯è§æ€§</strong>â€‹</td><td>æ•´ä¸ªä»£ç åº“å˜åŒ–è¶‹åŠ¿æ¸…æ™°ï¼Œä¾¿äºå›¢é˜Ÿåä½œ</td><td>ä»£ç éš”ç¦»ï¼Œç ”å‘è€…åªéœ€å…³æ³¨è´Ÿè´£çš„ä»“åº“</td></tr><tr><td><strong>ä¾èµ–ç®¡ç†</strong>â€‹</td><td>ç»Ÿä¸€ç‰ˆæœ¬æ§åˆ¶ï¼Œç›¸åŒä¾èµ–åªå®‰è£…ä¸€æ¬¡ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</td><td>æ¯ä¸ªä»“åº“ç‹¬ç«‹node_modulesï¼Œå­˜åœ¨é‡å¤å®‰è£…</td></tr><tr><td><strong>æ„å»ºæ•ˆç‡</strong>â€‹</td><td>å¯èƒ½è¾ƒæ…¢ï¼Œä½†æ”¯æŒå¢é‡æ„å»ºå’Œç¼“å­˜ä¼˜åŒ–</td><td>ç‹¬ç«‹æ„å»ºï¼Œé€šå¸¸æ›´å¿«</td></tr><tr><td><strong>ä»£ç æƒé™</strong>â€‹</td><td>ç¼ºä¹é¡¹ç›®ç²’åº¦æƒé™ç®¡æ§ï¼Œè¯¯æ”¹é£é™©è¾ƒé«˜</td><td>å„é¡¹ç›®å•ç‹¬ä»“åº“ï¼Œæƒé™æ§åˆ¶ç²¾ç»†</td></tr><tr><td><strong>è·¨é¡¹ç›®å˜æ›´</strong>â€‹</td><td>åŸå­æäº¤ç¡®ä¿ä¸€è‡´æ€§ï¼ŒåŒæ­¥æ›´æ–°å®¹æ˜“</td><td>éœ€è¦æ‰‹åŠ¨åè°ƒå¤šä¸ªä»“åº“çš„å˜æ›´</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong>â€‹</td><td>å¾®å‰ç«¯ã€å¾®æœåŠ¡é—´å¼ºè€¦åˆçš„ç³»ç»Ÿ</td><td>å›¢é˜Ÿè¾¹ç•Œæ¸…æ™°ã€ç‹¬ç«‹éƒ¨ç½²çš„ä¸šåŠ¡å•å…ƒ</td></tr></tbody></table>
<h2 data-id="heading-7">å››ã€Monorepoçš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-8">1. <strong>é«˜æ•ˆçš„ä»£ç å…±äº«ä¸å¤ç”¨</strong></h3>
<ul>
<li>å…±äº«ç»„ä»¶ã€å·¥å…·å‡½æ•°å’Œä¸šåŠ¡é€»è¾‘å¯ä»¥ç›´æ¥åœ¨ä»“åº“å†…å¼•ç”¨</li>
<li>ä¿®æ”¹å…¬å…±ç»„ä»¶åï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„åº”ç”¨å¯ä»¥åŒæ­¥æ›´æ–°</li>
</ul>
<h3 data-id="heading-9">2. <strong>ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†</strong></h3>
<ul>
<li>é€šè¿‡å·¥ä½œåŒºæœºåˆ¶å°†ç›¸åŒç‰ˆæœ¬çš„ä¾èµ–æå‡åˆ°é¡¶å±‚åªå®‰è£…ä¸€æ¬¡</li>
<li>é¿å…ç‰ˆæœ¬ç¢ç‰‡åŒ–ï¼Œå‡å°‘â€œä¾èµ–åœ°ç‹±â€é—®é¢˜</li>
</ul>
<h3 data-id="heading-10">3. <strong>åŸå­æ€§å˜æ›´ä¸é‡æ„</strong></h3>
<ul>
<li>è·¨å¤šä¸ªé¡¹ç›®æˆ–æ¨¡å—çš„æ›´æ”¹å¯ä»¥ä½œä¸ºä¸€ä¸ªåŸå­æäº¤è¿›è¡Œ</li>
<li>é™ä½äº†éƒ¨ç½²å’Œå›æ»šçš„å¤æ‚æ€§</li>
</ul>
<h3 data-id="heading-11">4. <strong>æ ‡å‡†åŒ–çš„å¼€å‘æµç¨‹</strong></h3>
<ul>
<li>ç»Ÿä¸€çš„ä»£ç è§„èŒƒã€æ„å»ºå·¥å…·ã€æµ‹è¯•æ¡†æ¶å’Œéƒ¨ç½²æµç¨‹</li>
<li>ç®€åŒ–æ–°æˆå‘˜å…¥èŒè¿‡ç¨‹ï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆç‡</li>
</ul>
<h3 data-id="heading-12">5. <strong>æ›´å¥½çš„å·¥å…·é›†æˆ</strong></h3>
<ul>
<li>é›†ä¸­å¼çš„ESLintã€TypeScriptã€Babelé…ç½®</li>
<li>ç»Ÿä¸€çš„CI/CDæµæ°´çº¿ï¼Œå¢å¼ºæ„å»ºä¸€è‡´æ€§</li>
</ul>
<h2 data-id="heading-13">äº”ã€Monorepoçš„æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥</h2>
<h3 data-id="heading-14">1. <strong>ä»“åº“è§„æ¨¡ä¸æ€§èƒ½é—®é¢˜</strong></h3>
<ul>
<li><strong>æŒ‘æˆ˜</strong>ï¼šéšç€ä»£ç é‡å¢é•¿ï¼ŒGitæ“ä½œå¯èƒ½å˜æ…¢</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨æµ…å…‹éš†ã€ç¨€ç–æ£€å‡ºã€Git LFSç­‰æŠ€æœ¯ä¼˜åŒ–</li>
</ul>
<h3 data-id="heading-15">2. <strong>æƒé™æ§åˆ¶ç²¾ç»†åŒ–ä¸è¶³</strong></h3>
<ul>
<li><strong>æŒ‘æˆ˜</strong>ï¼šç¼ºä¹é¡¹ç›®ç²’åº¦çš„ä»£ç è®¿é—®æ§åˆ¶</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç»“åˆGitå­æ¨¡å—ã€è·¯å¾„çº§æƒé™æ§åˆ¶å·¥å…·</li>
</ul>
<h3 data-id="heading-16">3. <strong>æ„å»ºæ—¶é—´å¯èƒ½è¾ƒé•¿</strong></h3>
<ul>
<li><strong>æŒ‘æˆ˜</strong>ï¼šå…¨é‡æ„å»ºè€—æ—¶å¢åŠ </li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šé‡‡ç”¨å¢é‡æ„å»ºã€è¿œç¨‹ç¼“å­˜ã€å¹¶è¡Œæ‰§è¡Œï¼ˆå¦‚Turborepoï¼‰</li>
</ul>
<h3 data-id="heading-17">4. <strong>å›¢é˜Ÿåä½œå¤æ‚åº¦</strong></h3>
<ul>
<li><strong>æŒ‘æˆ˜</strong>ï¼šæ‰€æœ‰å¼€å‘è€…éƒ½èƒ½çœ‹åˆ°æ•´ä¸ªä»£ç åº“ï¼Œå¯èƒ½å¢åŠ è¯¯æ”¹é£é™©</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå»ºç«‹æ¸…æ™°çš„ä»£ç æ‰€æœ‰æƒæ–‡åŒ–ã€ä»£ç å®¡æŸ¥æµç¨‹</li>
</ul>
<h2 data-id="heading-18">å…­ã€ä¸»æµMonorepoå·¥å…·å¯¹æ¯”ï¼ˆ2024å¹´ï¼‰</h2>















































<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>å­¦ä¹ æˆæœ¬</th></tr></thead><tbody><tr><td><strong>pnpm + Workspaces</strong>â€‹</td><td>å¿«é€Ÿã€èŠ‚çœç£ç›˜ç©ºé—´ï¼Œç”Ÿæ€é€æ¸ä¸°å¯Œ</td><td>ä¸­å°å‹åˆ°å¤§å‹é¡¹ç›®</td><td>ä½</td></tr><tr><td><strong>Lerna</strong>â€‹</td><td>å†å²è¾ƒä¹…ï¼Œä¸“æ³¨ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒæµç¨‹</td><td>å¤špackageå‘å¸ƒå‹é¡¹ç›®</td><td>ä½</td></tr><tr><td><strong>Turborepo</strong>â€‹</td><td>é«˜æ€§èƒ½æ„å»ºç¼“å­˜ï¼Œç”±Vercelæ¨å‡º</td><td>å¤§å‹é¡¹ç›®ï¼Œæ³¨é‡æ„å»ºæ€§èƒ½</td><td>ä¸­</td></tr><tr><td><strong>Nx</strong>â€‹</td><td>åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒä»»åŠ¡è°ƒåº¦ã€å¯è§†åŒ–ä¾èµ–å›¾</td><td>ä¸­å¤§å‹ï¼Œå°¤å…¶æ˜¯TS/Reacté¡¹ç›®</td><td>ä¸­é«˜</td></tr><tr><td><strong>Rush</strong>â€‹</td><td>å¾®è½¯å‡ºå“ï¼ŒåŠŸèƒ½å…¨é¢ä½†é…ç½®å¤æ‚</td><td>ä¼ä¸šçº§å¤§å‹Monorepo</td><td>é«˜</td></tr><tr><td><strong>Yarn/NPM Workspaces</strong>â€‹</td><td>å†…ç½®å·¥ä½œåŒºæ”¯æŒï¼Œä¸åŒ…ç®¡ç†å™¨æ·±åº¦é›†æˆ</td><td>åŸºç¡€Monorepoéœ€æ±‚</td><td>ä½</td></tr></tbody></table>
<p><strong>é€‰å‹å»ºè®®</strong>ï¼š</p>
<ul>
<li>æ–°æ‰‹æˆ–ä¸­å°å›¢é˜Ÿï¼šä»<strong>pnpm + workspaces</strong>æˆ–<strong>Turborepo/Nx</strong>å¼€å§‹</li>
<li>å¤§å‹ä¼ä¸šçº§é¡¹ç›®ï¼šè€ƒè™‘<strong>Rush</strong>æˆ–<strong>Nx</strong>çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ</li>
<li>æ³¨é‡æ„å»ºæ€§èƒ½ï¼š<strong>Turborepo</strong>çš„ç¼“å­˜æœºåˆ¶ä¼˜åŠ¿æ˜æ˜¾</li>
</ul>
<h2 data-id="heading-19">ä¸ƒã€Monorepoçš„å…¸å‹é¡¹ç›®ç»“æ„</h2>
<pre><code class="hljs language-bash" lang="bash">project-root/
â”œâ”€â”€ package.json              <span class="hljs-comment"># æ ¹ç›®å½•é…ç½®</span>
â”œâ”€â”€ pnpm-workspace.yaml       <span class="hljs-comment"># pnpmå·¥ä½œåŒºé…ç½®ï¼ˆæˆ–å…¶ä»–å·¥å…·é…ç½®ï¼‰</span>
â”œâ”€â”€ packages/                 <span class="hljs-comment"># å…±äº«åŒ…ç›®å½•</span>
â”‚   â”œâ”€â”€ ui/                  <span class="hljs-comment"># å…±äº«UIç»„ä»¶åº“</span>
â”‚   â”œâ”€â”€ core/                <span class="hljs-comment"># ä¸šåŠ¡æ ¸å¿ƒé€»è¾‘</span>
â”‚   â””â”€â”€ utils/               <span class="hljs-comment"># å·¥å…·å‡½æ•°åº“</span>
â”œâ”€â”€ apps/                    <span class="hljs-comment"># åº”ç”¨ç›®å½•</span>
â”‚   â”œâ”€â”€ web/                 <span class="hljs-comment"># Webåº”ç”¨å…¥å£</span>
â”‚   â”œâ”€â”€ mobile/              <span class="hljs-comment"># ç§»åŠ¨ç«¯åº”ç”¨</span>
â”‚   â””â”€â”€ admin/               <span class="hljs-comment"># ç®¡ç†åå°</span>
â”œâ”€â”€ configs/                 <span class="hljs-comment"># ç»Ÿä¸€é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ scripts/                 <span class="hljs-comment"># å…±äº«è„šæœ¬</span>
â””â”€â”€ .github/workflows/       <span class="hljs-comment"># CI/CDé…ç½®</span>
</code></pre>
<p>å…·ä½“æ€ä¹ˆæ­å»º monorepo é¡¹ç›®å¯ä»¥çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7583970267132821510" target="_blank" title="https://juejin.cn/post/7583970267132821510">juejin.cn/post/758397â€¦</a></p>
<h2 data-id="heading-20">å…«ã€Monorepoçš„é€‚ç”¨åœºæ™¯</h2>
<h3 data-id="heading-21">1. <strong>å¤§å‹å›¢é˜Ÿåä½œé¡¹ç›®</strong></h3>
<ul>
<li>å¤šä¸ªç›¸å…³é¡¹ç›®éœ€è¦ç´§å¯†åä½œå’Œä»£ç å…±äº«</li>
<li>å›¢é˜Ÿæˆå‘˜éœ€è¦é¢‘ç¹è®¿é—®å’Œä¿®æ”¹è·¨é¡¹ç›®ä»£ç </li>
</ul>
<h3 data-id="heading-22">2. <strong>å¾®æœåŠ¡æ¶æ„</strong></h3>
<ul>
<li>ç³»ç»Ÿç”±å¤šä¸ªå°å‹ã€ç‹¬ç«‹æœåŠ¡ç»„æˆ</li>
<li>éœ€è¦ç¡®ä¿æœåŠ¡ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œç®€åŒ–è·¨æœåŠ¡é‡æ„</li>
</ul>
<h3 data-id="heading-23">3. <strong>å¤šå¹³å°/å¤šäº§å“å¼€å‘</strong></h3>
<ul>
<li>å…¬å¸åŒæ—¶å¼€å‘Webã€iOSã€Androidç­‰å¤šä¸ªå¹³å°åº”ç”¨</li>
<li>éœ€è¦å…±äº«é€šç”¨åº“ã€ç»„ä»¶å’Œå·¥å…·</li>
</ul>
<h3 data-id="heading-24">4. <strong>å…±äº«åº“å’Œç»„ä»¶å¼€å‘</strong></h3>
<ul>
<li>å¼€å‘æ¶‰åŠå¤šä¸ªå…±äº«åº“æˆ–å¯é‡ç”¨ç»„ä»¶çš„é¡¹ç›®</li>
<li>éœ€è¦é¢‘ç¹æ›´æ–°å’Œç»´æŠ¤è¿™äº›å…±äº«èµ„æº</li>
</ul>
<h3 data-id="heading-25">5. <strong>å¼€æºé¡¹ç›®ç”Ÿæ€</strong></h3>
<ul>
<li>å¦‚Vue 3ã€Reactç­‰å¤§å‹å¼€æºé¡¹ç›®é‡‡ç”¨Monorepoç®¡ç†æ ¸å¿ƒåº“å’Œå‘¨è¾¹å·¥å…·</li>
</ul>
<h2 data-id="heading-26">ä¹ã€å®æ–½Monorepoçš„æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-27">1. <strong>æ¸è¿›å¼è¿ç§»</strong></h3>
<ul>
<li>ä¸è¦ä¸€æ¬¡æ€§å°†æ‰€æœ‰é¡¹ç›®è¿ç§»åˆ°Monorepo</li>
<li>å¯ä»¥å…ˆä»å…³è”æœ€ç´§å¯†çš„å‡ ä¸ªé¡¹ç›®å¼€å§‹è¯•ç‚¹</li>
</ul>
<h3 data-id="heading-28">2. <strong>æ¸…æ™°çš„ä»£ç ç»„ç»‡</strong></h3>
<ul>
<li>æŒ‰ç…§åŠŸèƒ½åŸŸæˆ–ä¸šåŠ¡è¾¹ç•Œåˆ’åˆ†ç›®å½•ç»“æ„</li>
<li>ä¿æŒæ¨¡å—é—´æ¥å£çš„æ¸…æ™°å®šä¹‰</li>
</ul>
<h3 data-id="heading-29">3. <strong>è‡ªåŠ¨åŒ–å·¥å…·é“¾</strong></h3>
<ul>
<li>é…ç½®ç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–ã€lintingå’Œæµ‹è¯•å·¥å…·</li>
<li>å»ºç«‹è‡ªåŠ¨åŒ–çš„ç‰ˆæœ¬å‘å¸ƒå’Œå˜æ›´æ—¥å¿—ç”Ÿæˆæµç¨‹</li>
</ul>
<h3 data-id="heading-30">4. <strong>æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–</strong></h3>
<ul>
<li>ç›‘æ§æ„å»ºæ—¶é—´å’Œä»“åº“æ“ä½œæ€§èƒ½</li>
<li>å®šæœŸè¯„ä¼°å’Œä¼˜åŒ–å·¥å…·é…ç½®</li>
</ul>
<h3 data-id="heading-31">5. <strong>å›¢é˜ŸåŸ¹è®­ä¸æ–‡åŒ–</strong></h3>
<ul>
<li>åŸ¹è®­å›¢é˜Ÿæˆå‘˜æŒæ¡Monorepoå·¥ä½œæµç¨‹</li>
<li>å»ºç«‹ä»£ç æ‰€æœ‰æƒå’Œåä½œæ–‡åŒ–</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ« AI è¾“å‡ºçš„é‡å¤è§£æï¼šæ­£å¸¸ markdown è§£ææ¸²æŸ“ä¹Ÿèƒ½æé€Ÿ 2-10 å€ä»¥ä¸Š]]></title>    <link>https://juejin.cn/post/7583991680749273115</link>    <guid>https://juejin.cn/post/7583991680749273115</guid>    <pubDate>2025-12-16T02:54:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583991680749273115" data-draft-id="7583952017674371123" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ« AI è¾“å‡ºçš„é‡å¤è§£æï¼šæ­£å¸¸ markdown è§£ææ¸²æŸ“ä¹Ÿèƒ½æé€Ÿ 2-10 å€ä»¥ä¸Š"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T02:54:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kingç‹ä¸€å¸…"/> <meta itemprop="url" content="https://juejin.cn/user/395479917018408"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ« AI è¾“å‡ºçš„é‡å¤è§£æï¼šæ­£å¸¸ markdown è§£ææ¸²æŸ“ä¹Ÿèƒ½æé€Ÿ 2-10 å€ä»¥ä¸Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479917018408/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kingç‹ä¸€å¸…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:54:22.000Z" title="Tue Dec 16 2025 02:54:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">incremark çš„æƒŠäººå®åŠ›</h2>
<p>æ˜¨å¤©å‘å¸ƒäº†å‘¨æ—¥å¼€å‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fincremark-docs.vercel.app%2F" target="_blank" title="https://incremark-docs.vercel.app/" ref="nofollow noopener noreferrer">incremark</a>ï¼Œæ²¡æƒ³åˆ°å®é™…ä½“éªŒæ€§èƒ½è¿œè¶…é¢„æœŸï¼Œæœ¬æƒ³ä½œä¸ºè‡ªå·±äº§å“å†…éƒ¨çš„ä¸€ä¸ªå°å·¥å…·ï¼Œä½†æƒ³äº†æƒ³ï¼Œå¼€æºæœªå°ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ–¹å‘ã€‚</p>
<p>å…ˆçœ‹ç»“æœï¼šæ™®é€šæ¯”è¾ƒçŸ­çš„ markdown åœ¨çº¿æµ‹è¯•ç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62954344ec504b44b8e95a92f788605a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga2luZ-eOi-S4gOW4hQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458461&amp;x-signature=PhcKLn%2FO2R94itVAX77pSIPNJa8%3D" alt="image.png" loading="lazy"/></p>
<p>ç¨é•¿çš„ markdown åœ¨çº¿æµ‹è¯•ç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b565e7980b5f4715b48b689d99ad13db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga2luZ-eOi-S4gOW4hQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458461&amp;x-signature=5RxpaO%2ByidGfeqZwSIoStd76B38%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è¯´æ˜ï¼šç½‘ç«™æ¯æ¬¡ benchmark æµ‹è¯•æ¯æ¬¡æå‡å€æ•°å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™æ˜¯ç”±äºåˆ†å—ç­–ç•¥å¯¼è‡´çš„ï¼Œdemo é¡µé¢æ¯æ¬¡åˆ†å—çš„ markdown å­—ç¬¦ä¸²é•¿åº¦æ˜¯éšæœºçš„ <code>const chunks = content.match(/[\s\S]{1,20}/g) || []</code>ï¼Œåˆ†å—ä¼šå½±å“ç¨³å®šå—çš„ç”Ÿæˆï¼Œè¿™æ ·ä¹Ÿæ›´ç¬¦åˆçœŸå®åœºæ™¯ï¼ŒæŸä¸ªå—å¯èƒ½ä¼šæœ‰ä¸Šä¸€ä¸ªå—çš„å†…å®¹è·Ÿä¸‹ä¸€ä¸ªå—çš„å†…å®¹ã€‚ä½†æ— è®ºæ€æ ·åˆ†ï¼Œæ€§èƒ½æå‡æ˜¯å¿…ç„¶çš„ï¼Œdemo ç½‘ç«™æœªé€šè¿‡è¿åˆè‡ªèº«åˆ©ç›Šçš„æ‰‹æ®µè¿›è¡Œ chunk æ‹†åˆ†ã€‚</p>
</blockquote>
<p>vue demo åœ¨çº¿é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fincremark-vue.vercel.app%2F" target="_blank" title="https://incremark-vue.vercel.app/" ref="nofollow noopener noreferrer">incremark-vue.vercel.app/</a></p>
<p>react demo åœ¨çº¿é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fincremark-react.vercel.app%2F" target="_blank" title="https://incremark-react.vercel.app/" ref="nofollow noopener noreferrer">incremark-react.vercel.app/</a></p>
<p>æ–‡æ¡£é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fincremark-docs.vercel.app%2F" target="_blank" title="https://incremark-docs.vercel.app/" ref="nofollow noopener noreferrer">incremark-docs.vercel.app/</a></p>
<p>è¶…é•¿çš„ markdown è¾“å‡ºä¼šæ¥æ›´æ›´åŠ ç¦»è°±çš„é€Ÿåº¦ï¼Œ20k çš„ markdown benchmark å¯ä»¥è¾¾åˆ°ææ€–çš„ 46 å€é€Ÿåº¦æå‡ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆå®ƒä¼šæœ‰å¦‚æ­¤æå‡ï¼Ÿ</h2>
<h3 data-id="heading-2">ä¼ ç»Ÿè§£ææ–¹æ¡ˆå¼Šç«¯</h3>
<p>åšè¿‡ AI èŠå¤©åº”ç”¨çš„äººå¯èƒ½éƒ½çŸ¥é“ï¼ŒAI çš„æµå¼è¾“å‡ºåœ¨å‰ç«¯æ¯æ¬¡è·å–åˆ°çš„éƒ½æ˜¯ä¸€ä¸ªä¸ªç®€çŸ­çš„ chunk,æ¯æ¬¡ chunk è¿‡æ¥åï¼Œéƒ½éœ€è¦å°†å®Œæ•´çš„ markdown å­—ç¬¦ä¸²å–‚ç»™ markdown è§£æå™¨ï¼Œå¯èƒ½æ˜¯ remarkã€ markedjsï¼Œä¹Ÿå¯èƒ½æ˜¯ markdown-itã€‚å®ƒä»¬æ¯æ¬¡éƒ½éœ€è¦å°†æ‰€æœ‰çš„ markdown è¿›è¡Œè§£æï¼Œæœ€ååœ¨è¿›è¡Œæ¸²æŸ“ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€éƒ¨åˆ†æ€§èƒ½æµªè´¹ï¼Œå³å·²ç»ç¨³å®šæ¸²æŸ“çš„å—ä¹Ÿè¦è¢«é‡å¤è§£æã€‚</p>
<p>vue-stream-markdown è¿™ç±»å‹å·¥å…·åœ¨æ¸²æŸ“å±‚ä¹Ÿåšäº†åŠªåŠ›ï¼Œå°†ç¨³å®šçš„ token æ¸²æŸ“ä¸ºç¨³å®šçš„ç»„ä»¶ï¼Œæ¯æ¬¡åªæ›´æ–°ä¸ç¨³å®šçš„ç»„ä»¶ï¼Œä»¥æ­¤è¾¾åˆ°æ¸²æŸ“å±‚çš„å¹³æ»‘æµå¼è¾“å‡ºã€‚</p>
<p>ä½†ã€è¿™ä»æ— æ³•è§£å†³æ€§èƒ½æµªè´¹çš„æœ¬è´¨é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ markdown æ–‡æœ¬çš„é‡å¤è§£æï¼Œè¿™ä¸€æ­¥æ‰æ˜¯åƒæ‰ cpu æ€§èƒ½çš„æ€ªå…½ï¼Œè¾“å‡ºæ–‡æ¡£è¶Šé•¿ï¼Œåˆ™æ€§èƒ½æµªè´¹è¶Šé«˜ã€‚</p>
<h3 data-id="heading-3">incremark æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–åŸç†</h3>
<p>incremark é™¤äº†åšåˆ°äº† UI æ¸²æŸ“å±‚çš„ç»„ä»¶å¤ç”¨å¹³æ»‘æ›´æ–°ï¼Œæœ€ä¸»è¦çš„æ˜¯åœ¨ markdown è§£æä¸Šåšäº†æ–‡æ¡£ï¼Œåªè§£æä¸ç¨³å®šçš„ markdownï¼Œä¸å†é‡å¤è§£æç¨³å®šçš„å—ã€‚å› æ­¤å°†è§£ææ€§èƒ½ä» O(nÂ²) æ‹‰åˆ°äº† O(n)ï¼Œç†è®ºä¸Šè¾“å‡ºè¶Šé•¿ï¼Œæå‡è¶Šå¤šã€‚</p>
<h4 data-id="heading-4">1. å¢é‡è§£æï¼šä» O(nÂ²) åˆ° O(n)</h4>
<p>ä¼ ç»Ÿè§£æå™¨æ¯æ¬¡éƒ½é‡æ–°è§£ææ•´ä¸ªæ–‡æ¡£ï¼Œå¯¼è‡´è§£æé‡å‘ˆå¹³æ–¹å¢é•¿ã€‚Incremark çš„Â <code>IncremarkParser</code>Â ç±»é‡‡ç”¨å¢é‡è§£æç­–ç•¥ï¼Œè§ä»£ç  <code>IncremarkParser.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// è®¾è®¡æ€è·¯ï¼š</span>
<span class="hljs-comment">// 1. ç»´æŠ¤ä¸€ä¸ªæ–‡æœ¬ç¼“å†²åŒºï¼Œæ¥æ”¶æµå¼è¾“å…¥ </span>
<span class="hljs-comment">// 2. è¯†åˆ«"ç¨³å®šè¾¹ç•Œ"ï¼Œå°†å·²å®Œæˆçš„å—æ ‡è®°ä¸º completed </span>
<span class="hljs-comment">// 3. å¯¹äºæ­£åœ¨æ¥æ”¶çš„å—ï¼Œæ¯æ¬¡é‡æ–°è§£æï¼Œä½†åªè§£æè¯¥å—çš„å†…å®¹ </span>
<span class="hljs-comment">// 4. å¤æ‚åµŒå¥—èŠ‚ç‚¹ä½œä¸ºæ•´ä½“å¤„ç†ï¼Œç›´åˆ°ç¡®è®¤å®Œæˆ</span>
</code></pre>
<h4 data-id="heading-5">2. æ™ºèƒ½è¾¹ç•Œæ£€æµ‹æœºåˆ¶</h4>
<p><code>append</code>Â æ–¹æ³•ä¸­çš„Â <code>findStableBoundary()</code>Â æ˜¯å…³é”®ä¼˜åŒ–ç‚¹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title function_">append</span>(<span class="hljs-attr">chunk</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">IncrementalUpdate</span> {  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> += chunk  
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateLines</span>()  
    
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">line</span>: stableBoundary, contextAtLine } = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">findStableBoundary</span>()  
    
  <span class="hljs-keyword">if</span> (stableBoundary &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingStartLine</span> &amp;&amp; stableBoundary &gt;= <span class="hljs-number">0</span>) {  
    <span class="hljs-comment">// åªè§£ææ–°å®Œæˆçš„å—ï¼Œä¸é‡å¤è§£æå·²å®Œæˆå†…å®¹  </span>
    <span class="hljs-keyword">const</span> stableText = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lines</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingStartLine</span>, stableBoundary + <span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>)  
    <span class="hljs-keyword">const</span> ast = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parse</span>(stableText)  
    <span class="hljs-comment">// ...  </span>
  }  
}
</code></pre>
<h4 data-id="heading-6">3. çŠ¶æ€ç®¡ç†é¿å…é‡å¤è®¡ç®—</h4>
<p>è§£æå™¨ç»´æŠ¤å¤šä¸ªå…³é”®çŠ¶æ€æ¥é¿å…é‡å¤å·¥ä½œ</p>
<ul>
<li><code>buffer</code>: ç´¯ç§¯çš„æœªè§£æå†…å®¹</li>
<li><code>completedBlocks</code>: å·²å®Œæˆä¸”æ°¸ä¸é‡æ–°è§£æçš„å—æ•°ç»„</li>
<li><code>lineOffsets</code>: è¡Œåç§»é‡å‰ç¼€å’Œï¼Œæ”¯æŒ O(1) è¡Œä½ç½®è®¡ç®—</li>
<li><code>context</code>: è·Ÿè¸ªä»£ç å—ã€åˆ—è¡¨ç­‰åµŒå¥—çŠ¶æ€</li>
</ul>
<h4 data-id="heading-7">4. å¢é‡è¡Œæ›´æ–°ä¼˜åŒ–</h4>
<p><code>updateLines()</code>Â æ–¹æ³•åªå¤„ç†æ–°å¢å†…å®¹ï¼Œé¿å…å…¨é‡ split æ“ä½œ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">private</span> <span class="hljs-title function_">updateLines</span>(): <span class="hljs-built_in">void</span> {  
  <span class="hljs-comment">// æ‰¾åˆ°æœ€åä¸€ä¸ªä¸å®Œæ•´çš„è¡Œï¼ˆå¯èƒ½è¢«æ–° chunk ç»­ä¸Šï¼‰  </span>
  <span class="hljs-keyword">const</span> lastLineStart = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineOffsets</span>[prevLineCount - <span class="hljs-number">1</span>]  
  <span class="hljs-keyword">const</span> textFromLastLine = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">slice</span>(lastLineStart)  
    
  <span class="hljs-comment">// é‡æ–° split æœ€åä¸€è¡ŒåŠä¹‹åçš„å†…å®¹  </span>
  <span class="hljs-keyword">const</span> newLines = textFromLastLine.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>)  
  <span class="hljs-comment">// åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†  </span>
}
</code></pre>
<h3 data-id="heading-8">æ€§èƒ½å¯¹æ¯”æ•°æ®</h3>
<p>è¿™ç§è®¾è®¡åœ¨å®é™…æµ‹è¯•ä¸­è¡¨ç°ä¼˜å¼‚Â ï¼š</p>





























<table><thead><tr><th>æ–‡æ¡£å¤§å°</th><th>ä¼ ç»Ÿè§£æå­—ç¬¦é‡</th><th>Incremark è§£æå­—ç¬¦é‡</th><th>å‡å°‘æ¯”ä¾‹</th></tr></thead><tbody><tr><td>1KB</td><td>1,010,000</td><td>20,000</td><td>98%</td></tr><tr><td>5KB</td><td>25,050,000</td><td>100,000</td><td>99.6%</td></tr><tr><td>20KB</td><td>400,200,000</td><td>400,000</td><td>99.9%</td></tr></tbody></table>
<h3 data-id="heading-9">å…³é”®ä¸å˜é‡</h3>
<p>Incremark çš„æ€§èƒ½ä¼˜åŠ¿æºäºä¸€ä¸ªå…³é”®ä¸å˜é‡ï¼š<strong>ä¸€æ—¦å—è¢«æ ‡è®°ä¸º completedï¼Œå°±æ°¸è¿œä¸ä¼šè¢«é‡æ–°è§£æ</strong>ã€‚è¿™ç¡®ä¿äº†æ¯ä¸ªå­—ç¬¦æœ€å¤šåªè¢«è§£æä¸€æ¬¡ï¼Œå®ç°äº† O(n) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
<h2 data-id="heading-10">å°ç»“</h2>
<p>æ˜¨å¤©åœ¨æ˜é‡‘å‘å¸ƒäº† <a href="https://juejin.cn/post/7583906846986469422" target="_blank" title="https://juejin.cn/post/7583906846986469422"># AI æ—¶ä»£çœŸæ­£æµå¼è§£æ+æ¸²æŸ“åŒé‡ä¼˜åŒ–çš„ Incremark</a> å¹¶æ²¡æœ‰è·å¾—æ¨æµï¼Œåœ¨ V ç«™éšæ„å‘å¸–ä¸‹ï¼Œgithub æ„å¤–æ”¶è·äº† 35 é¢— starï¼Œnpm æ”¶è· 92 ä¸‹è½½é‡ï¼Œçªç„¶æ„Ÿè§‰å®ƒä¼¼ä¹åº”è¯¥æ˜¯èƒ½å¯¹ä¸€äº›å°ä¼™ä¼´äº§ç”Ÿä½œç”¨çš„ï¼Œæ‰€ä»¥å°è¯•å½“ä¸ªäº‹æ¥åšï¼Œå¦‚æœä½ ä¹Ÿæ„Ÿå…´è¶£ï¼Œæ¬¢è¿è¯•ç”¨ä»¥åŠä»£ç è´¡çŒ®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ™ï¸ 2025 å¹´ä¸»æµ AI è¯­éŸ³è¾“å…¥å·¥å…·æµ‹è¯„ï¼šè§£é”é«˜æ•ˆç”Ÿäº§åŠ›çš„å…³é”®]]></title>    <link>https://juejin.cn/post/7583943503556689970</link>    <guid>https://juejin.cn/post/7583943503556689970</guid>    <pubDate>2025-12-16T02:21:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583943503556689970" data-draft-id="7583991680748781595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ™ï¸ 2025 å¹´ä¸»æµ AI è¯­éŸ³è¾“å…¥å·¥å…·æµ‹è¯„ï¼šè§£é”é«˜æ•ˆç”Ÿäº§åŠ›çš„å…³é”®"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-16T02:21:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€ç‚¹ä¸€æœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986187486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ™ï¸ 2025 å¹´ä¸»æµ AI è¯­éŸ³è¾“å…¥å·¥å…·æµ‹è¯„ï¼šè§£é”é«˜æ•ˆç”Ÿäº§åŠ›çš„å…³é”®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986187486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€ç‚¹ä¸€æœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:21:30.000Z" title="Tue Dec 16 2025 02:21:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0">å¼•è¨€ï¼šå½“ã€Œè¯´è¯ã€æˆä¸ºæ–°çš„ç”Ÿäº§åŠ›</h3>
<p>åœ¨ <strong><code>AI</code>å¤§æ¨¡å‹</strong>æŠ€æœ¯çš„æ¨åŠ¨ä¸‹ï¼Œ2025 å¹´çš„è¯­éŸ³è¾“å…¥å·¥å…·å·²ä»å•çº¯çš„è¯­éŸ³è½¬æ–‡å­—ï¼Œè¿›åŒ–ä¸ºé›†æˆäº†<strong>è¯­éŸ³ç†è§£ã€æ™ºèƒ½æ¶¦è‰²ã€å¤šè¯­ç§æ··åˆ</strong>çš„ç»¼åˆåˆ›ä½œå¹³å°ã€‚å®ƒä»¬ä¸ä»…èƒ½å‡†ç¡®è½¬å†™ï¼Œæ›´æ·±åº¦èå…¥äº†åŠå…¬ã€åˆ›ä½œã€å¼€å‘ç­‰ä¸“ä¸šå·¥ä½œæµã€‚æœ¬æ¬¡æµ‹è¯„ï¼Œæˆ‘ä»¬èšç„¦å››æ¬¾æœ€å…·ä»£è¡¨æ€§çš„ä¸»æµäº§å“ï¼š<strong><code>LazyTyper</code></strong> <strong>ã€</strong> <strong><code>Wispr Flow Pro</code></strong> <strong>ã€è±†åŒ…è¯­éŸ³è¾“å…¥æ³•ã€æ™ºè°±å°å‡¹è¾“å…¥æ³•</strong>ï¼Œä»è¯†åˆ«å‡†ç¡®ç‡ã€æ™ºèƒ½åŒ–ç¨‹åº¦ã€åº”ç”¨åœºæ™¯é€‚é…ç­‰å¤šä¸ªç»´åº¦è¿›è¡Œæ·±åº¦å¯¹æ¯”ï¼ŒåŠ©æ‚¨è§£é”é«˜æ•ˆç”Ÿäº§åŠ›çš„å…³é”®ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒæŠ€æœ¯ä¸åŠŸèƒ½å¯¹æ¯”æ¦‚è§ˆ</h3>
<p>ä»¥ä¸‹è¡¨æ ¼æ€»ç»“äº†å››æ¬¾å·¥å…·åœ¨æŠ€æœ¯è·¯çº¿å’Œæ ¸å¿ƒåŠŸèƒ½ä¸Šçš„å·®å¼‚ï¼Œå¸®åŠ©è¯»è€…ä¸€ç›®äº†ç„¶åœ°ç†è§£å®ƒä»¬çš„äº§å“å®šä½ã€‚</p>






















































<table><thead><tr><th>ç‰¹æ€§ / äº§å“</th><th><code>LazyTyper</code></th><th><code>Wispr Flow Pro</code></th><th>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</th><th>æ™ºè°±å°å‡¹è¾“å…¥æ³•</th></tr></thead><tbody><tr><td>æ ¸å¿ƒæŠ€æœ¯å®šä½</td><td>å¤šæ¨¡å‹é›†æˆä¸å®šåˆ¶åŒ–</td><td>è·¨å¹³å°ä¸è¯­éŸ³å‘½ä»¤ç¼–è¾‘</td><td>æè‡´é€Ÿåº¦ä¸ç”¨æˆ·ä½“éªŒ</td><td>å¤§æ¨¡å‹æ¶¦è‰²ä¸é£æ ¼è½¬æ¢</td></tr><tr><td>è¯­éŸ³æ¨¡å‹æ•°é‡</td><td>12 ä¸ªï¼ˆå« <code>ElevenLabs</code>ï¼Œ<code>Groq</code>ï¼Œé€šä¹‰åƒé—®ç­‰ï¼‰</td><td>ä¸“æœ‰é«˜ç²¾åº¦æ¨¡å‹</td><td>æŠ–éŸ³/å­—èŠ‚ä¸“æœ‰æ¨¡å‹</td><td>æ™ºè°± <code>AI</code> (<code>GLM</code>) å¤§æ¨¡å‹</td></tr><tr><td>ç¦»çº¿èƒ½åŠ›</td><td>5 ä¸ªæœ¬åœ°ç¦»çº¿æ¨¡å‹</td><td>æœªæ˜ç¡®</td><td>æœªæ˜ç¡®</td><td>æœªæ˜ç¡®</td></tr><tr><td>é«˜çº§ç¼–è¾‘åŠŸèƒ½</td><td><code>AI</code> æ¶¦è‰²ã€è‡ªå®šä¹‰è¯æ±‡è¡¨</td><td>å‘½ä»¤æ¨¡å¼ç¼–è¾‘ã€ä¸ªæ€§åŒ–çŸ­è¯­</td><td>æ™ºèƒ½æ ‡ç‚¹ã€ä¸Šä¸‹æ–‡è”æƒ³</td><td>å¤šé£æ ¼è¡¨è¾¾ã€æ·±åº¦ <code>AI</code> æ¶¦è‰²</td></tr><tr><td>å¤šè¯­è¨€æ”¯æŒ</td><td>ä¸­è‹±æ—¥æ··è¾“</td><td>ä¸­è‹±æ··åˆ</td><td>é«˜ç²¾åº¦ä¸­æ–‡è¯†åˆ«</td><td>é«˜ç²¾åº¦ä¸­æ–‡è¯†åˆ«</td></tr><tr><td>ç›®æ ‡ç”¨æˆ·</td><td>å¼€å‘è€…ã€é«˜é˜¶åˆ›ä½œè€…ã€æ•ˆç‡ä¸“å®¶</td><td>è·¨å¹³å°å·¥ä½œè€…ã€ç¨‹åºå‘˜ã€é‚®ä»¶åŠå…¬</td><td>å¤§ä¼—ç”¨æˆ·ã€è¿½æ±‚æé€Ÿè¾“å…¥è€…</td><td>ä¸“ä¸šå†™ä½œã€è¿½æ±‚æˆç¨¿è´¨é‡è€…</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-2">äºŒã€äº§å“ç‰¹ç‚¹ä¸æŠ€æœ¯èƒ½åŠ›æ·±åº¦è§£æ</h3>
<h4 data-id="heading-3">1. <code>LazyTyper</code>ï¼šæŠ€æœ¯çµæ´»ä¸é«˜é˜¶å®šåˆ¶çš„é¦–é€‰</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dca53d6a6556423fb0ef7d30565d2555~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA54K55LiA5pyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456579&amp;x-signature=H032Zgv0KwROdXgTgZ6FifZbP8I%3D" alt="" loading="lazy"/></p>
<p><code>LazyTyper</code> çš„æ ¸å¿ƒç«äº‰åŠ›åœ¨äºå…¶<strong>æŠ€æœ¯é›†æˆåº¦é«˜</strong>å’Œ<strong>ä½¿ç”¨æ¨¡å¼çµæ´»</strong>ã€‚å®ƒé›†æˆäº†åŒ…æ‹¬ <code>Groq Whisper</code>ã€é€šä¹‰åƒé—® <code>ASR</code> åœ¨å†…çš„ <strong>12 ä¸ªä¸“ä¸šè¯­éŸ³æ¨¡å‹</strong>ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ ¹æ®å½“å‰ä»»åŠ¡ä¸€é”®åˆ‡æ¢å¼•æ“ã€‚</p>
<ul>
<li><strong>æ¨¡å‹</strong> <strong>è‡ªç”±åº¦</strong> <strong>ä¸éšç§ï¼š</strong> å†…å« <strong>5 ä¸ªæœ¬åœ°ç¦»çº¿æ¨¡å‹</strong>ï¼Œç¡®ä¿åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹ç¨³å®šè¿è¡Œï¼ŒåŒæ—¶ä¿éšœé«˜åº¦çš„æ•°æ®éšç§æ€§ã€‚</li>
<li><strong>ä¸“ä¸šåœºæ™¯é€‚é…ï¼š</strong> é’ˆå¯¹æ€§åœ°æ”¯æŒ<strong>ä¸­è‹±æ—¥æ··è¾“</strong>ä»¥åŠ<strong>åŠ¨å£è¯´ä»£ç </strong>çš„èƒ½åŠ›ï¼Œæ˜¯æŠ€æœ¯å¼€å‘å’Œæ·±åº¦å†…å®¹åˆ›ä½œé¢†åŸŸçš„æœ‰åŠ›å·¥å…·ã€‚</li>
<li><strong>äº§å“æˆ˜ç•¥</strong>ï¼š<code>LazyTyper</code> ä¸“æ³¨äºæ¡Œé¢ç«¯çš„åŠå…¬æ•ˆç‡åœºæ™¯ï¼Œæš‚æ— ç§»åŠ¨ç«¯ç‰ˆæœ¬è®¡åˆ’ã€‚</li>
<li><strong>æ€§ä»·æ¯”ï¼š</strong> <strong>æ°¸ä¹…å…è´¹æ— å¹¿å‘Š</strong>çš„æ¨¡å¼ï¼Œé…åˆå¼ºå¤§çš„ä¸“ä¸šåŠŸèƒ½ï¼Œæä¾›äº†æé«˜çš„æ€§ä»·æ¯”ã€‚</li>
</ul>
<h4 data-id="heading-4">2. <code>Wispr Flow Pro</code>ï¼šè·¨å¹³å°æ— ç¼æµè½¬çš„ä¸“å®¶</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ab7801e895f41febda2d40decf19a5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA54K55LiA5pyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456579&amp;x-signature=KC5saaPy8Kum0gUATIfGrme2MKU%3D" alt="" loading="lazy"/></p>
<p><code>Wispr Flow Pro</code> å®šä½ä¸ºã€Œè·¨å¹³å°ã€è·¨åº”ç”¨çš„ <code>AI</code> è¯­éŸ³è¾“å…¥æ³•ã€ï¼Œè§£å†³äº†è®¸å¤šç”¨æˆ·åœ¨ä¸åŒè½¯ä»¶é—´åˆ‡æ¢çš„ç—›ç‚¹ã€‚</p>
<ul>
<li><strong>è·¨</strong> <strong><code>App</code></strong> <strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong> å…¶è®¾è®¡åˆè¡·å³æ˜¯åœ¨<strong>ä»»ä½•è¾“å…¥æ¡†</strong>ï¼ˆå¦‚å¾®ä¿¡ã€<code>Notion</code>ã€ä»£ç ç¼–è¾‘å™¨ï¼‰ä¸­å®ç°å¿«é€Ÿè¾“å…¥ï¼Œæå¤§åœ°æ‹“å®½äº†è¯­éŸ³è¾“å…¥çš„ä½¿ç”¨è¾¹ç•Œã€‚</li>
<li><strong>é«˜çº§å‘½ä»¤ç¼–è¾‘ï¼š</strong> <code>Pro</code> ç‰ˆæœ¬æ”¯æŒ<strong>è¯­éŸ³</strong> <strong>æŒ‡ä»¤</strong> <strong>å®æ—¶ç¼–è¾‘å’Œæ ¼å¼è°ƒæ•´</strong>ï¼ˆä¾‹å¦‚ï¼šã€ŒåŠ ä¸€ä¸ªè¦ç‚¹ã€ã€ã€Œåˆ é™¤ä¸Šä¸€å¥ã€ï¼‰ï¼Œè¿™åœ¨é•¿ç¯‡å†™ä½œæˆ–ç¼–ç¨‹ä¿®æ”¹ä¸­æ•ˆç‡æé«˜ã€‚</li>
<li><strong>é«˜ç²¾åº¦ä¸æ¶¦è‰²ï¼š</strong> å¼ºè°ƒé«˜ç²¾åº¦è¯†åˆ«ï¼Œ<strong>é»˜è®¤å¼€å¯äº‘ç«¯è‡ªåŠ¨æ¶¦è‰²</strong>ï¼Œæ™ºèƒ½çº æ­£è¯­æ³•å’Œæ ‡ç‚¹ï¼Œç”šè‡³èƒ½ç†è§£è¯­æ„ï¼Œä¿éšœè¾“å‡ºçš„<strong>æ–‡æ¡£ç»“æ„å’Œä¸“ä¸šæ€§</strong>ã€‚æ­¤å¤–ï¼Œè¿˜å…·å¤‡<strong>è€³è¯­æ¨¡å¼</strong>ä»¥é€‚åº”å®‰é™æˆ–å…¬å…±ç¯å¢ƒã€‚</li>
</ul>
<h4 data-id="heading-5">3. <a href="https://link.juejin.cn?target=https%3A%2F%2Fshurufa.doubao.com%2F" target="_blank" title="https://shurufa.doubao.com/" ref="nofollow noopener noreferrer">è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</a>ï¼šå¤§ä¼—å¸‚åœºä¸æè‡´é€Ÿåº¦ä½“éªŒ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9f980a3a64d421fb8da8ef39123b37e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA54K55LiA5pyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456579&amp;x-signature=k9YBEqBcxIpww6%2F6OTRLyDd9X2w%3D" alt="" loading="lazy"/></p>
<p>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•èšç„¦äº<strong>åŸºç¡€ä½“éªŒçš„æè‡´ä¼˜åŒ–</strong>ï¼Œæ˜¯ç§»åŠ¨ç«¯å’Œæ—¥å¸¸ä¸­æ–‡è¾“å…¥çš„ä½¼ä½¼è€…ã€‚</p>
<ul>
<li><strong>é€Ÿåº¦ä¸å‡†ç¡®æ€§ï¼š</strong> å¼ºè°ƒã€Œè¯­éŸ³è¾“å…¥åˆå¿«åˆå‡†ã€ï¼Œå°¤å…¶æ˜¯å…¶å¯¹<strong>æ ‡ç‚¹çš„è‡ªåŠ¨å¤„ç†</strong>èƒ½åŠ›â€”â€”ã€Œæ ‡ç‚¹æ— éœ€æ”¹ã€ï¼Œæå¤§å‡å°‘äº†åæœŸç¼–è¾‘å·¥ä½œã€‚</li>
<li><strong>ç¯å¢ƒé€‚åº”æ€§ï¼š</strong> å…·å¤‡ã€Œè½»å£°ç…§æ ·è¯´ã€çš„èƒ½åŠ›ï¼Œå¢å¼ºäº†åœ¨å…¬å…±åœºåˆçš„å®ç”¨æ€§ã€‚</li>
<li><strong>æ“ä½œæµç¨‹ç®€åŒ–ï¼š</strong> ã€ŒæŒ‰ä½è¯´è¯ï¼Œæ¾æ‰‹ç»“æŸã€çš„äº¤äº’é€»è¾‘ï¼Œéå¸¸ç¬¦åˆç§»åŠ¨ç«¯ç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œå®ç°äº†è¯­éŸ³è¾“å…¥çš„<strong>æ— ç—•åŒ–</strong>ã€‚</li>
</ul>
<h4 data-id="heading-6">4. <a href="https://link.juejin.cn?target=https%3A%2F%2Fautoglm.zhipuai.cn%2Fautotyper%2F" target="_blank" title="https://autoglm.zhipuai.cn/autotyper/" ref="nofollow noopener noreferrer">æ™ºè°±å°å‡¹è¾“å…¥æ³•(AutoGLM)</a>ï¼šå¤§æ¨¡å‹èµ‹èƒ½ä¸å†…å®¹æˆç¨¿</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/416ac6b0c8874176b4acd9f0086714ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA54K55LiA5pyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456579&amp;x-signature=12cspM5cNjfqWAQwx9%2FNEdQwaY8%3D" alt="" loading="lazy"/></p>
<p>æ™ºè°±å°å‡¹è¾“å…¥æ³•ç”±å›½å†…é¢†å…ˆçš„æ™ºè°± <code>AI</code> å¤§æ¨¡å‹æŠ€æœ¯é©±åŠ¨ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äº<strong>ä»è¯­éŸ³åˆ°æˆæ–‡çš„æ™ºèƒ½è½¬åŒ–</strong>ã€‚</p>
<ul>
<li><strong><code>AI</code></strong> <strong>æ·±åº¦èµ‹èƒ½ï¼š</strong> å‡­å€Ÿå…¶èƒŒåçš„ <code>GLM</code> å¤§æ¨¡å‹ï¼Œå®ƒä¸“æ³¨äº<strong>è‡ªåŠ¨æ¶¦è‰²æˆç¨¿</strong>ã€‚ç”¨æˆ·å¯ä»¥è¯´å‡ºæ€è·¯ç¢ç‰‡ï¼Œç”± <code>AI</code> è‡ªåŠ¨ç»„ç»‡ã€ä¼˜åŒ–ä¸ºæµç•…çš„æ–‡æœ¬ã€‚</li>
<li><strong>å¤šé£æ ¼è¡¨è¾¾è½¬æ¢ï¼š</strong> è¿™æ˜¯å…¶ç‹¬ç‰¹ä¼˜åŠ¿ï¼Œèƒ½å°†ä¸€æ®µè¯­éŸ³å†…å®¹è½¬æ¢ä¸ºé‚®ä»¶ã€ä¼šè®®çºªè¦æˆ–ä»£ç æ³¨é‡Šç­‰<strong>ä¸åŒé£æ ¼</strong>çš„æ–‡ä½“ï¼Œæå¤§åœ°æå‡äº†èŒä¸šåœºæ™¯ä¸‹çš„åˆ›ä½œæ•ˆç‡ã€‚</li>
<li><strong>æ€§èƒ½æŒ‡æ ‡ï¼š</strong> å®˜æ–¹æ•°æ®å®£ç§°è¯­éŸ³è¯†åˆ«å‡†ç¡®ç‡é«˜è¾¾ <strong>97.8%</strong> ï¼Œæ˜¾ç¤ºäº†å…¶åœ¨ä¸­æ–‡ä¹¦é¢è¯­è½¬æ¢ä¸Šçš„å¼ºåŠ²å®åŠ›ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€å®æˆ˜åœºæ™¯æµ‹è¯•ä¸æ€§èƒ½è¡¨ç°</h3>
<h4 data-id="heading-8">1. è¯†åˆ«å‡†ç¡®ç‡å®æµ‹ï¼ˆæ™®é€šè¯æ ‡å‡†å‘éŸ³ï¼‰</h4>








































<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th><code>LazyTyper</code></th><th><code>Wispr Flow Pro</code></th><th>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</th><th>æ™ºè°±å°å‡¹è¾“å…¥æ³•</th></tr></thead><tbody><tr><td>çº¯ä¸­æ–‡æ–°é—»ç¨¿</td><td><strong>97.70%</strong></td><td>93.80%</td><td><strong>95.40%</strong></td><td>94.10%</td></tr><tr><td>ä¸­è‹±æ··åˆæŠ€æœ¯æ–‡æ¡£</td><td><strong>93.50%</strong></td><td>93.20%</td><td>87.60%</td><td>89.30%</td></tr><tr><td>å¿«é€Ÿå£è¯­å¯¹è¯</td><td>92.10%</td><td>91.50%</td><td><strong>93.80%</strong></td><td>90.20%</td></tr><tr><td>ä¸“ä¸šæœ¯è¯­è¯†åˆ«</td><td>93.00%</td><td>92.60%</td><td>85.30%</td><td>88.90%</td></tr></tbody></table>
<blockquote>
<p><strong>å…³é”®å‘ç°ï¼š</strong> è±†åŒ…è¯­éŸ³è¾“å…¥æ³•åœ¨çº¯ä¸­æ–‡å’Œå¿«é€Ÿå£è¯­åœºæ™¯è¡¨ç°æœ€ä½³ã€‚<code>LazyTyper</code> åœ¨åˆ‡æ¢åˆ°é«˜æ€§èƒ½åœ¨çº¿æ¨¡å‹ï¼ˆå¦‚è±†åŒ…ã€é€šä¹‰åƒé—®ï¼‰åï¼Œå…¶ä¸­è‹±æ··åˆå’Œä¸“ä¸šæœ¯è¯­è¯†åˆ«èƒ½åŠ›æ˜¾è‘—æå‡ï¼Œä¸ <code>Wispr Flow Pro</code> å¤„äºç¬¬ä¸€æ¢¯é˜Ÿç«äº‰ã€‚</p>
</blockquote>
<h4 data-id="heading-9">2. æ ¸å¿ƒå·¥ä½œåœºæ™¯æµ‹è¯•</h4>



































<table><thead><tr><th>åœºæ™¯</th><th>æµ‹è¯•å†…å®¹/éœ€æ±‚</th><th>æœ€ä½³è¡¨ç°äº§å“</th><th>æ€§èƒ½æ€»ç»“</th></tr></thead><tbody><tr><td>æŠ€æœ¯æ–‡æ¡£ç¼–å†™</td><td>è¯­éŸ³è¾“å…¥ <code>API</code> æ¥å£æ–‡æ¡£ï¼ˆå«ä»£ç å’ŒæŠ€æœ¯æœ¯è¯­ï¼‰</td><td><code>Wispr Flow Pro</code></td><td>å‡†ç¡®ç‡é«˜è¾¾ 97%ï¼Œå¼€å¯è‡ªåŠ¨æ¶¦è‰²åå®Œç¾ä¿ç•™ä»£ç ç»“æ„å’ŒæŠ€æœ¯æœ¯è¯­ã€‚<code>LazyTyper</code> åœ¨åˆ‡æ¢æ¨¡å‹åæ€§èƒ½æ¥è¿‘ã€‚</td></tr><tr><td>è·¨è¯­ç§ä¼šè®®è®°å½•</td><td>ä¸­è‹±æ—¥æ··åˆçš„è·¨å›½å›¢é˜Ÿä¼šè®®</td><td><code>LazyTyper</code></td><td>å¾—ç›Šäºé›†æˆ <code>Soniox</code>/é€šä¹‰åƒé—®ç­‰æ¨¡å‹ï¼Œå¤šè¯­è¨€æ”¯æŒæœ€å…¨é¢ï¼Œä¸‰è¯­åˆ‡æ¢æµç•…ã€‚<code>Wispr Flow Pro</code> åœ¨ä¸­è‹±æ··åˆä¸Šè¡¨ç°ä¼˜ç§€ã€‚</td></tr><tr><td>ç§»åŠ¨ç«¯å¿«é€Ÿå›å¤</td><td>å¾®ä¿¡èŠå¤©å’Œé‚®ä»¶å¿«é€Ÿå›å¤</td><td>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</td><td>ç§»åŠ¨ç«¯ä½“éªŒæœ€ä½³ï¼Œå“åº”è¿…é€Ÿã€‚æ™ºè°±å°å‡¹çš„æ¶¦è‰²åŠŸèƒ½æå‡äº†å›å¤çš„ä¸“ä¸šæ€§ã€‚</td></tr><tr><td>é«˜è´¨é‡æ–‡æ¡ˆåˆ›ä½œ</td><td>å£è¿°æ€è·¯å¹¶è¦æ±‚è½¬æ¢ä¸ºæ­£å¼æ–‡ç¨¿</td><td>æ™ºè°±å°å‡¹è¾“å…¥æ³•</td><td>æ·±åº¦ <code>AI</code> æ¶¦è‰²å’Œå¤šé£æ ¼è½¬æ¢èƒ½åŠ›ï¼Œä½¿è½¬å½•æ–‡æœ¬çš„å¯è¯»æ€§å’Œè§„èŒƒæ€§æœ€é«˜ã€‚<code>LazyTyper</code> å¯é€šè¿‡é›†æˆ <code>GPT/Kimi</code> ç­‰æ¨¡å‹å®ç°é«˜çº§æ¶¦è‰²</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">å››ã€ç”¨æˆ·ä½“éªŒã€ç”Ÿæ€ä¸å•†ä¸šæ¨¡å¼</h3>
<h4 data-id="heading-11">1. å¹³å°æ”¯æŒä¸å…¼å®¹æ€§</h4>








































<table><thead><tr><th>å¹³å°</th><th><code>LazyTyper</code></th><th><code>Wispr Flow Pro</code></th><th>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</th><th>æ™ºè°±å°å‡¹è¾“å…¥æ³•</th></tr></thead><tbody><tr><td>Windows</td><td>âœ…</td><td>âœ…</td><td>è§„åˆ’ä¸­</td><td>âœ…</td></tr><tr><td>macOS</td><td>âœ…</td><td>âœ…</td><td>è§„åˆ’ä¸­</td><td>âœ…</td></tr><tr><td>Linux</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>ç§»åŠ¨ç«¯</td><td>æˆ˜ç•¥èšç„¦æ¡Œé¢</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr></tbody></table>
<blockquote>
<p><strong>å…³é”®å‘ç°ï¼š</strong> <code>LazyTyper</code> <strong>æ˜ç¡®å…¶äº§å“æˆ˜ç•¥æ˜¯èšç„¦æ¡Œé¢ç«¯çš„åŠå…¬æ•ˆç‡åœºæ™¯</strong>ã€‚å› æ­¤ï¼Œåœ¨ <code>PC</code> åŠå…¬é¢†åŸŸï¼Œå››æ¬¾å·¥å…·å‡æœ‰å¸ƒå±€ï¼Œè€Œ <strong>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</strong>å’Œ**<code>Wispr Flow Pro</code>**åœ¨ç§»åŠ¨ç«¯å®ç°äº†å…¨é¢è¦†ç›–ã€‚</p>
</blockquote>
<h4 data-id="heading-12">2. å•†ä¸šæ¨¡å¼ä¸æˆæœ¬æ•ˆç›Š</h4>



































<table><thead><tr><th>äº§å“</th><th>å…è´¹ç‰ˆæœ¬</th><th>ä¸ªäººä¸“ä¸šç‰ˆ</th><th>æ ¸å¿ƒä»·å€¼ä¸»å¼ </th></tr></thead><tbody><tr><td><code>LazyTyper</code></td><td>åŠŸèƒ½å®Œæ•´å…è´¹</td><td>æ— </td><td>è‡ªç”±ã€éšç§ã€æ— ç»‘å®šï¼Œæè‡´æ€§ä»·æ¯”</td></tr><tr><td><code>Wispr Flow Pro</code></td><td>åŸºç¡€åŠŸèƒ½è¯•ç”¨</td><td>15åˆ€/æœˆæˆ– 144åˆ€/å¹´</td><td>ä¸“ä¸šæ•ˆç‡å·¥å…·æŠ•èµ„ï¼Œæ— é™åˆ¶ä½¿ç”¨</td></tr><tr><td>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</td><td>å®Œå…¨å…è´¹</td><td>æ— ç‹¬ç«‹ç‰ˆæœ¬</td><td>ç”Ÿæ€å…¥å£ä¸ç”¨æˆ·ä½“éªŒï¼Œé›¶æˆæœ¬å…¥é—¨</td></tr><tr><td>æ™ºè°±å°å‡¹è¾“å…¥æ³•</td><td>åŸºç¡€åŠŸèƒ½å…è´¹</td><td>åˆ†äº«å¾—å…è´¹æ—¶é•¿</td><td><code>AI</code> å†™ä½œæ•ˆç‡æå‡ï¼Œå†…å®¹è´¨é‡ä¿éšœ</td></tr></tbody></table>
<blockquote>
<p><strong>æˆæœ¬æ•ˆç›Šåˆ†æ</strong> <strong>ï¼š</strong> å¯¹äºè¿½æ±‚é›¶æˆæœ¬å’Œæè‡´æ€§ä»·æ¯”çš„ç”¨æˆ·ï¼Œ<strong><code>LazyTyper</code></strong> å’Œ<strong>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</strong>æ˜¯é¦–é€‰ã€‚å¯¹äºæ„¿æ„ä¸ºä¸“ä¸šå·¥å…·ä»˜è´¹çš„æ•ˆç‡è¿½æ±‚è€…ï¼Œ<strong><code>Wispr Flow Pro</code></strong> æä¾›äº†æ›´é«˜çš„åŠŸèƒ½ä¸Šé™ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-13">äº”ã€ç»¼åˆè¯„ä»·ä¸æœ€ç»ˆé€‰æ‹©å»ºè®®</h3>
<ol>
<li>
<h4 data-id="heading-14">äº§å“åŠ›æ€»è¯„</h4>
</li>
</ol>
<ul>
<li><strong><code>Wispr Flow Pro</code></strong> <strong>ï¼šâ­â­â­â­â­</strong> (ä¼˜åŠ¿ï¼šä¸“ä¸šåŠŸèƒ½å…¨é¢ã€è·¨å¹³å°ä½“éªŒã€<strong>äº‘ç«¯æ¶¦è‰²å¼ºå¤§</strong>ã€‚ä¸è¶³ï¼šä»·æ ¼è¾ƒé«˜ï¼Œå­¦ä¹ æ›²çº¿ç¨é™¡ã€‚)</li>
<li><strong><code>LazyTyper</code></strong> <strong>ï¼šâ­â­â­â­â­</strong> (ä¼˜åŠ¿ï¼šæ¨¡å‹è‡ªç”±åº¦ã€éšç§ä¿æŠ¤ã€å®Œå…¨å…è´¹ï¼Œ<strong>é¡¶çº§ä¸­æ–‡/æ··è¾“æ€§èƒ½</strong>ã€‚ä¸è¶³ï¼š<strong>æ— ç§»åŠ¨ç«¯ç‰ˆæœ¬</strong>ï¼Œç•Œé¢è¾ƒç®€å•ã€‚)</li>
<li><strong>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•ï¼šâ­â­â­â­</strong> (ä¼˜åŠ¿ï¼šä¸­æ–‡ä½“éªŒæœ€ä½³ã€ç”Ÿæ€æ•´åˆã€å®Œå…¨å…è´¹ã€‚ä¸è¶³ï¼šä¸“ä¸šåŠŸèƒ½æœ‰é™ã€è‹±æ–‡èƒ½åŠ›ä¸€èˆ¬ã€‚)</li>
<li><strong>æ™ºè°±å°å‡¹è¾“å…¥æ³•ï¼šâ­â­â­â­</strong> (ä¼˜åŠ¿ï¼š<code>AI</code> å†™ä½œè¾…åŠ©å¼ºã€æ–‡æœ¬è´¨é‡é«˜ã€å¤šé£æ ¼æ”¯æŒã€‚ä¸è¶³ï¼šå“åº”é€Ÿåº¦ä¸€èˆ¬ï¼Œä¸“ä¸šæœ¯è¯­è¯†åˆ«å¾…åŠ å¼ºã€‚)</li>
</ul>
<ol start="2">
<li>
<h4 data-id="heading-15">2025 å¹´é€‰è´­å†³ç­–çŸ©é˜µ</h4>
</li>
</ol>
<p>æ²¡æœ‰ç»å¯¹çš„æœ€å¥½ï¼Œåªæœ‰æœ€åˆé€‚ã€‚æ‚¨çš„é€‰æ‹©åº”åŸºäº<strong>åŠŸèƒ½ä¼˜å…ˆçº§</strong>å’Œ<strong>ä¸»è¦ä½¿ç”¨åœºæ™¯</strong>ã€‚</p>






























<table><thead><tr><th>æ‚¨çš„åŠŸèƒ½/åœºæ™¯ä¼˜å…ˆçº§</th><th>æ¨èäº§å“</th><th>æ ¸å¿ƒç†ç”±</th></tr></thead><tbody><tr><td>é¦–è¦ï¼šæŠ€æœ¯å¼€å‘ã€éšç§ä¿æŠ¤ã€ç¦»çº¿ä½¿ç”¨</td><td><code>LazyTyper</code></td><td>é¡¶çº§å¤šæ¨¡å‹é›†æˆã€5 ç¦»çº¿æ¨¡å‹ï¼Œé€‚é…é«˜é˜¶ä¸“ä¸šéœ€æ±‚ã€‚</td></tr><tr><td>é¦–è¦ï¼šè·¨åº”ç”¨åŠå…¬ã€é¢‘ç¹ä½¿ç”¨è¯­éŸ³å‘½ä»¤</td><td><code>Wispr Flow Pro</code></td><td>è·¨ <code>App</code> æ— ç¼æ”¯æŒï¼Œè¯­éŸ³å‘½ä»¤ç¼–è¾‘åŠŸèƒ½å¼ºå¤§ï¼Œæ–‡æ¡£ç»“æ„ä¼˜åŒ–å‡ºè‰²ã€‚</td></tr><tr><td>é¦–è¦ï¼šé«˜æ•ˆç‡æ—¥å¸¸è¾“å…¥ã€ç§»åŠ¨ç«¯ä½“éªŒ</td><td>è±†åŒ…è¯­éŸ³è¾“å…¥æ³•</td><td>æè‡´çš„é€Ÿåº¦ä¸å‡†ç¡®ç‡ï¼Œæ“ä½œæµç¨‹æç®€ï¼Œé€‚åˆå¤§ä¼—å’Œç§»åŠ¨ç«¯ã€‚</td></tr><tr><td>é¦–è¦ï¼šä¸“ä¸šå†™ä½œã€å†…å®¹æ¶¦è‰²æˆç¨¿ã€æ–‡ä½“è½¬æ¢</td><td>æ™ºè°±å°å‡¹è¾“å…¥æ³•</td><td>æ™ºè°± <code>AI</code> å¤§æ¨¡å‹é©±åŠ¨ï¼Œå¼ºè°ƒè¯´è¯å³æˆæ–‡ï¼Œå®ç°é«˜è´¨é‡åˆ›ä½œã€‚</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿ä¸ç»“è®º</h3>
<p>2025 å¹´çš„ <code>AI</code> è¯­éŸ³è¾“å…¥å¸‚åœºå‘ˆç°æ˜æ˜¾çš„å·®å¼‚åŒ–ç«äº‰æ€åŠ¿ã€‚éšç€ <code>AI</code> æŠ€æœ¯çš„æŒç»­è¿›æ­¥ï¼Œæœªæ¥è¯­éŸ³è¾“å…¥å·¥å…·å°†æœç€<strong>å¤šæ¨¡æ€èåˆã€ä¸ªæ€§åŒ–é€‚åº”ã€å‚ç›´é¢†åŸŸæ·±åŒ–</strong>ç­‰æ–¹å‘å‘å±•ã€‚</p>
<p>ç»™å„å‚å•†çš„å»ºè®®ä¹Ÿåæ˜ äº†å…¶äº§å“çŸ­æ¿ï¼š<code>LazyTyper</code> æ€¥éœ€ç§»åŠ¨ç«¯ç‰ˆæœ¬ï¼›<code>Wispr Flow Pro</code> éœ€è¦é™ä½å…¥é—¨é—¨æ§›ï¼›è±†åŒ…è¯­éŸ³è¾“å…¥æ³•åº”å¢å¼ºä¸“ä¸šåŠŸèƒ½ï¼›æ™ºè°±å°å‡¹è¾“å…¥æ³•åˆ™éœ€æé«˜å“åº”é€Ÿåº¦ã€‚</p>
<p><strong>ç»“è®ºï¼š</strong> å¯¹äºå¤šæ•°ç”¨æˆ·ï¼Œå¯ä»¥å…ˆç”¨å…è´¹äº§å“ï¼ˆ<code>LazyTyper</code> æˆ–è±†åŒ…è¯­éŸ³ï¼‰å…¥é—¨ï¼Œä½“éªŒå…¶æ ¸å¿ƒä¼˜åŠ¿ï¼Œå†æ ¹æ®å®é™…éœ€æ±‚å’Œä»˜è´¹é¢„ç®—ï¼Œè€ƒè™‘æ˜¯å¦å‡çº§åˆ°æä¾›ä¸“ä¸šåŠŸèƒ½å’Œè·¨å¹³å°æ”¯æŒçš„å·¥å…·ï¼ˆ<code>Wispr Flow Pro</code> æˆ–æ™ºè°±å°å‡¹è¾“å…¥æ³•ï¼‰ã€‚æœ€ç»ˆç›®æ ‡æ˜¯å®ç°<strong>æ‰€æƒ³å³æ‰€å¾—</strong>çš„è‡ªç„¶äº¤äº’ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rust 1.92.0 å‘å¸ƒï¼šä¸º Never ç±»å‹é“ºè·¯ï¼Œå¼ºåŒ–è°ƒè¯•ä¸å®‰å…¨æ€§]]></title>    <link>https://juejin.cn/post/7583948178858950702</link>    <guid>https://juejin.cn/post/7583948178858950702</guid>    <pubDate>2025-12-16T02:57:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583948178858950702" data-draft-id="7583667970737176576" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rust 1.92.0 å‘å¸ƒï¼šä¸º Never ç±»å‹é“ºè·¯ï¼Œå¼ºåŒ–è°ƒè¯•ä¸å®‰å…¨æ€§"/> <meta itemprop="keywords" content="Rust,ç¼–ç¨‹è¯­è¨€,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-16T02:57:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RustCoder"/> <meta itemprop="url" content="https://juejin.cn/user/1926000099227592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rust 1.92.0 å‘å¸ƒï¼šä¸º Never ç±»å‹é“ºè·¯ï¼Œå¼ºåŒ–è°ƒè¯•ä¸å®‰å…¨æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1926000099227592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RustCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:57:53.000Z" title="Tue Dec 16 2025 02:57:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>Rust 1.92.0 ç¨³å®šç‰ˆå·²æ­£å¼å‘å¸ƒã€‚è¿™ä¸ªç‰ˆæœ¬å¹¶æ²¡æœ‰å¸¦æ¥é‡å¤§å˜åŒ–å’Œä¸»è¦æ–°åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ä¸ªè¾ƒä¸ºä¿å®ˆçš„ç‰ˆæœ¬ï¼Œå®ƒåªæ˜¯å·§å¦™åœ°è°ƒæ•´å’Œä¼˜åŒ–äº†è¯­è¨€è§„èŒƒå’Œç¼–è¯‘å™¨å·¥å…·é“¾ç­‰ã€‚å…¶ä¸­æœ€å¼•äººæ³¨ç›®çš„æ˜¯ä¸ºæœ€ç»ˆç¨³å®šåŒ–â€œNever Typeâ€æ‰€åšçš„å‡†å¤‡ï¼Œæ”¹å–„äº†å¯¹Linuxå¹³å°è°ƒè¯•ä½“éªŒï¼Œä»¥åŠå®Œå–„æ–‡æ¡£ä¸è°ƒè¯•èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/266b676cce534fed8a176b6023bb62e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUnVzdENvZGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458724&amp;x-signature=%2Bd5i%2Bs2cqngfNoXbSfvn6g2ji68%3D" alt="å›¾åƒ" loading="lazy"/></p>
<p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹ Rust 1.92.0 çš„ä¸»è¦å†…å®¹ï¼šæ¶‰åŠè¯­è¨€æ ¸å¿ƒã€ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“å±‚é¢çš„ä¸€ç³»åˆ—æ›´æ–°ã€‚</p>
<h2 data-id="heading-0">è¯­è¨€ç‰¹æ€§ä¸ç¼–è¯‘å™¨æ›´æ–°</h2>
<p><strong>1ã€è¯­è¨€æ ¸å¿ƒï¼šå‘ Never ç±»å‹çš„æœ€ç»ˆç¨³å®šåŒ–è¿ˆè¿›</strong></p>
<p>è¯­è¨€å’Œç¼–è¯‘å™¨å›¢é˜Ÿç»§ç»­æ¨è¿› Never ç±»å‹çš„ç¨³å®šåŒ–å·¥ä½œã€‚ä¸ºäº†æ¨è¿›Neverç±»å‹ï¼ˆÂ <code>!</code>Â ï¼‰ï¼ˆè¡¨ç¤ºæ°¸è¿œä¸ä¼šè¿”å›çš„ç±»å‹ï¼‰çš„æœ€ç»ˆç¨³å®šåŒ–ï¼Œåœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œç¼–è¯‘å™¨å›¢é˜Ÿå°†Â <code>never_type_fallback_flowing_into_unsafe</code>Â å’ŒÂ <code>dependency_on_unit_never_type_fallback</code>Â è¿™ä¸¤ä¸ªç›¸å…³çš„æœªæ¥å…¼å®¹æ€§æç¤ºï¼ˆlintï¼‰æå‡ä¸ºÂ <strong>Deny-by-default</strong>ï¼ˆé»˜è®¤ä¸ºæ‹’ç»ï¼‰ çº§åˆ«ã€‚å½“ç¼–è¯‘å™¨æ£€æµ‹åˆ°å¯èƒ½å›  Never ç±»å‹ç±»å‹å›é€€è§„åˆ™å˜åŒ–è€Œå—æŸçš„ä»£ç æ—¶ï¼Œè¿™ä¸¤ä¸ªlint å°†è§¦å‘<strong>ç¼–è¯‘é”™è¯¯</strong>ï¼Œè€Œéè­¦å‘Šï¼Œè¿™æ˜¾ç„¶æ˜¯ç¼–è¯‘å™¨å›¢é˜Ÿæœ‰æ„è®©å¼€å‘è€…æ›´åŠ å…³æ³¨ Never ç±»å‹è€Œåšå‡ºçš„åšé“ºå«å·¥ä½œï¼ˆä¸è¿‡ï¼Œé“ºå«å½’é“ºå«ï¼Œå› ä¸ºÂ <code>never</code>ï¼è¿™ä¸ªå…³é”®å­—èµ·å¾—å¤ªè¿‡ç„å­¦ï¼Œéš¾æ€ªç½‘å‹è°ƒä¾ƒï¼šæˆ‘ä»¬éƒ½çŸ¥é“â€œæ°¸ä¸â€ç±»å‹çš„çœŸæ­£ç¨³å®šæ—¥æœŸğŸ˜‰ï¼‰ã€‚</p>
<p>ä¸è¿‡æ­¤æ›´æ”¹ä»…åœ¨ç›´æ¥æ„å»ºå—å½±å“çš„ crate æ—¶ç”Ÿæ•ˆï¼›å¦‚æœè¿™äº› crate æ˜¯ä½œä¸ºä¾èµ–é¡¹è¢«æ„å»ºï¼Œåˆ™ä¸ä¼šè§¦å‘é”™è¯¯ã€‚è™½ç„¶å¼€å‘è€…å¯ä»¥é€šè¿‡Â <code>#[allow(...)]</code>Â å±æ€§æš‚æ—¶ç»•è¿‡è¿™äº›é”™è¯¯ï¼Œä½†å®˜æ–¹å¼ºçƒˆå»ºè®®ä¿®å¤è¢«æŠ¥å‘Šçš„é—®é¢˜ã€‚</p>
<p>æ­¤å¤–ï¼Œ<code>unused_must_use</code>Â lint å˜å¾—æ›´åŠ æ™ºèƒ½ã€‚å¯¹äºè¿”å›ç±»å‹ä¸ºÂ <code>Result&lt;(), !&gt;</code>Â æˆ–Â <code>ControlFlow&lt;!, ()&gt;</code>Â çš„å‡½æ•°ï¼Œè¯¥lintå°†ä¸å†å‘å‡ºâ€œæœªä½¿ç”¨å¿…é¡»ä½¿ç”¨çš„å€¼â€çš„è­¦å‘Šã€‚</p>
<p><strong>2ã€ç¼–è¯‘å™¨æ–¹é¢ï¼šLinux ä¸‹Â <code>panic=abort</code>Â é—®é¢˜ä¿®å¤</strong></p>
<p>åœ¨ç¼–è¯‘å™¨æ–¹é¢ï¼ŒRust 1.92.0 è§£å†³äº†ä¸€ä¸ªé•¿æœŸå½±å“Linuxå¼€å‘è€…è°ƒè¯•ä½“éªŒçš„é—®é¢˜ã€‚</p>
<p>è¿‡å»ï¼Œå½“ä½¿ç”¨Â <code>-C panic=abort</code>Â ç¼–è¯‘é€‰é¡¹ï¼ˆå³åœ¨panic æ—¶ç›´æ¥ç»ˆæ­¢ç¨‹åºè€Œéå±•å¼€ï¼‰æ—¶ï¼Œ<strong>ç¼–è¯‘å™¨é»˜è®¤ä¸ä¼šç”Ÿæˆå±•å¼€è¡¨ï¼ˆunwind tablesï¼‰</strong> ï¼Œè¿™å¯¼è‡´æ— æ³•è·å–æœ‰æ„ä¹‰çš„æ ˆå›æº¯ä¿¡æ¯ï¼ˆbacktraceï¼‰ã€‚</p>
<p>ä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œå³ä½¿åœ¨Linuxä¸Šä½¿ç”¨Â <code>-C panic=abort</code>ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šé»˜è®¤ç”Ÿæˆå±•å¼€è¡¨ï¼ˆunwind tablesï¼‰ã€‚è¿™æ„å‘³ç€ç¨‹åºå¼‚å¸¸ï¼ˆpanic ï¼‰ç»ˆæ­¢æ—¶ï¼Œå¼€å‘è€…èƒ½å¤Ÿè·å¾—å‡†ç¡®çš„å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯ï¼ˆbacktraceï¼‰ï¼Œæå¤§åœ°ä¾¿åˆ©äº†çº¿ä¸Šé—®é¢˜çš„è°ƒè¯•å’Œè¯Šæ–­ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœå‡ºäºæè‡´çš„äºŒè¿›åˆ¶ä½“ç§¯ä¼˜åŒ–è€ƒè™‘ï¼Œå¼€å‘è€…ä»å¯ä»¥é€šè¿‡Â <code>-C force-unwind-tables=no</code>Â é€‰é¡¹æ˜¾å¼å…³é—­æ­¤åŠŸèƒ½ã€‚</p>
<p><strong>3ã€å®å¯¼å‡ºå‚æ•°æ ¡éªŒ</strong>ï¼š</p>
<p>å¯¹Â <code>#[macro_export]</code>Â å±æ€§çš„å‚æ•°è¾“å…¥è¿›è¡Œäº†æ›´ä¸¥æ ¼çš„æ ¡éªŒï¼Œ<code>invalid_macro_export_arguments</code>Â lint ç°åœ¨é»˜è®¤æ‹’ç»ï¼ˆdenyï¼‰ã€‚</p>
<p><strong>4ã€Lint æ”¹è¿›</strong>ï¼š</p>
<p><code>unused_must_use</code>Â lint ç°åœ¨æ›´åŠ æ™ºèƒ½ï¼Œä¸å†å¯¹è¿”å›<code>Result&lt;(), Uninhabited&gt;</code>ï¼ˆä¾‹å¦‚Â <code>Result&lt;(), !&gt;</code>ï¼‰çš„å‡½æ•°å‘å‡ºè­¦å‘Šï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹é”™è¯¯åˆ†æ”¯åœ¨é€»è¾‘ä¸Šæ˜¯ä¸å¯èƒ½å‘ç”Ÿçš„ã€‚</p>
<h2 data-id="heading-1">æ ‡å‡†åº“ï¼šå®ç”¨çš„æ–°APIä¸é›¶å¼€é”€æŠ½è±¡</h2>
<p>Rust 1.92.0 åœ¨æ ‡å‡†åº“ä¸­ç¨³å®šäº†ä¸€æ‰¹æ–°çš„APIï¼Œæ¶µç›–äº†å†…å­˜æ“ä½œã€å¹¶å‘æ§åˆ¶å’Œæ•°æ®ç»“æ„ç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
<p><strong>é›¶åˆå§‹åŒ–æ™ºèƒ½æŒ‡é’ˆï¼š</strong> è¿™æ˜¯æœ¬æ¬¡æ›´æ–°çš„ä¸€ä¸ªäº®ç‚¹ã€‚æ–°å¢çš„Â <code>Box::new_zeroed</code>ã€<code>Box::new_zeroed_slice</code>Â ä»¥åŠå¯¹åº”çš„Â <code>Rc</code>Â å’ŒÂ <code>Arc</code>Â ç‰ˆæœ¬ï¼Œå…è®¸å¼€å‘è€…ç›´æ¥åˆ›å»ºå†…å­˜å†…å®¹ä¸ºé›¶çš„æ™ºèƒ½æŒ‡é’ˆã€‚</p>
<p>è¿™åœ¨å¤„ç†éœ€è¦æ¸…é›¶å†…å­˜çš„FFIï¼ˆå¤–éƒ¨å‡½æ•°æ¥å£ï¼‰äº¤äº’æˆ–å¯¹å®‰å…¨æ€§æœ‰æé«˜è¦æ±‚çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<p><strong>åœ¨å¹¶å‘ç¼–ç¨‹æ–¹é¢ï¼š</strong><code>RwLockWriteGuard::downgrade</code>Â æ–¹æ³•ç°å·²ç¨³å®šã€‚å®ƒå…è®¸å¼€å‘è€…å°†ä¸€ä¸ªå†™é”â€œé™çº§â€ä¸ºä¸€ä¸ªè¯»é”ï¼Œè€Œæ— éœ€å…ˆé‡Šæ”¾å†™é”å†ç«äº‰è¯»é”ã€‚</p>
<p>è¿™ä¸ªåŸå­æ€§æ“ä½œå¯¹äºéœ€è¦å…ˆä¿®æ”¹æ•°æ®ã€å†ä»¥åªè¯»æ–¹å¼é•¿æ—¶é—´æŒæœ‰è®¿é—®æƒçš„åœºæ™¯è‡³å…³é‡è¦ï¼Œèƒ½æœ‰æ•ˆé¿å…ä¸å¿…è¦çš„é”ç«äº‰ã€‚</p>
<p>å…¶å®ƒå€¼å¾—å…³æ³¨çš„ç¨³å®šAPIè¿˜åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>NonZero&lt;uN&gt;::div_ceil</code>ï¼šå¯¹éé›¶æ•´æ•°è¿›è¡Œå‘ä¸Šå–æ•´çš„é™¤æ³•ã€‚</li>
<li><code>Location::file_as_c_str</code>ï¼šè·å–å½“å‰æºä»£ç æ–‡ä»¶åçš„Cå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¾¿äºä¸Cè¯­è¨€äº¤äº’ã€‚</li>
<li><code>BTreeMap</code>Â çš„å…¥å£APIæ‰©å±•ï¼šå¦‚Â <code>btree_map::Entry::insert_entry</code>ã€‚</li>
<li>ä¸ºÂ <code>proc_macro::TokenStream</code>Â å®ç°äº†å¯¹Â <code>Group</code>ã€<code>Literal</code>Â ç­‰ç±»å‹çš„Â <code>Extend</code>Â traitï¼Œå¢å¼ºäº†è¿‡ç¨‹å®ç¼–å†™çš„çµæ´»æ€§ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œåˆ‡ç‰‡çš„Â <code>rotate_left</code>Â å’ŒÂ <code>rotate_right</code>Â æ–¹æ³•ç°åœ¨å¯ä»¥åœ¨å¸¸é‡ä¸Šä¸‹æ–‡ï¼ˆconst contextï¼‰ä¸­ä½¿ç”¨äº†ã€‚</p>
<h2 data-id="heading-2">å·¥å…·é“¾Â ï¼šæ›´æ™ºèƒ½çš„æ–‡æ¡£æœç´¢ä¸æ„å»ºæŒ‡å—</h2>
<p>Rust çš„å·¥å…·é“¾(Rustdoc &amp; Cargo)åœ¨æ­¤ç‰ˆæœ¬ä¸­ä¹Ÿè·å¾—äº†å®ç”¨æ€§æ”¹è¿›ã€‚</p>
<p><strong>Rustdocï¼ˆæ–‡æ¡£å·¥å…·ï¼‰çš„æœç´¢åŠŸèƒ½</strong>Â å˜å¾—æ›´åŠ æ™ºèƒ½å’Œå‹å¥½ã€‚</p>
<ul>
<li><strong>æœç´¢ç»“æœå»é‡</strong>ï¼šå½“æœç´¢ç»“æœä¸­åŒ…å«æŸä¸ªtraitå®šä¹‰çš„æ–¹æ³•æ—¶ï¼ŒRustdocä¼šè‡ªåŠ¨éšè—é‚£äº›å…·ä½“å®ç°è¯¥traitçš„ç±»å‹ä¸­çš„åŒåæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæœç´¢â€œlastâ€å°†ä¸»è¦æ˜¾ç¤ºÂ <code>Iterator::last</code>ï¼Œè€Œä¸ä¼šç”¨å„ä¸ªè¿­ä»£å™¨å®ç°çš„Â <code>last</code>Â æ–¹æ³•åˆ·å±ï¼Œä½¿å¾—åƒÂ <code>BTreeSet::last</code>Â è¿™æ ·çš„å›ºæœ‰æ–¹æ³•æ›´å®¹æ˜“è¢«æ‰¾åˆ°ã€‚</li>
<li><strong>æ”¾å®½æœç´¢è¯é™åˆ¶</strong>ï¼šç°åœ¨å¯ä»¥æœç´¢ä¸å®Œå…¨ç¬¦åˆRustæ ‡è¯†ç¬¦è§„åˆ™çš„è¯ï¼ˆä¾‹å¦‚ä»¥æ•°å­—å¼€å¤´çš„è¯æ¡ï¼‰ï¼Œä»è€Œæå‡äº†æœç´¢ä½“éªŒã€‚</li>
</ul>
<p>Cargo æ–°å¢äº†å…³äºÂ  <strong>â€œæ„å»ºæ€§èƒ½ä¼˜åŒ–â€çš„å®˜æ–¹æ–‡æ¡£ç« èŠ‚</strong>ã€‚è¿™å¯¹äºæƒ³è¦åŠ å¿«é¡¹ç›®ç¼–è¯‘é€Ÿåº¦çš„å¼€å‘è€…è€Œè¨€ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„å‚è€ƒã€‚</p>
<h2 data-id="heading-3">Rust ç‰ˆæœ¬å‡çº§æŒ‡å—</h2>
<p>å‡çº§åˆ° Rust 1.92.0 éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">rustupÂ update stable
</code></pre>
<p>å¯¹äºå®é™…é¡¹ç›®ï¼Œå»ºè®®å…ˆåœ¨æŒç»­é›†æˆï¼ˆCIï¼‰ç¯å¢ƒä¸­æµ‹è¯•å‡çº§ï¼Œç¡®ä¿æ–°çš„é»˜è®¤æ‹’ç» lintï¼ˆå¦‚Â <code>invalid_macro_export_arguments</code>ï¼‰ä¸ä¼šä¸­æ–­æ„å»ºã€‚æ ¹æ®å®˜æ–¹è¯´æ˜ï¼Œæœ€ä½æ”¯æŒçš„LLVMç‰ˆæœ¬å·²æ›´æ–°è‡³20ã€‚</p>
<h2 data-id="heading-4"><strong>æ€»ç»“</strong></h2>
<p>Rust 1.92.0æ­£å¼å‘å¸ƒï¼Œæ ¸å¿ƒæ”¹è¿›åŒ…æ‹¬ Never ç±»å‹ç¨³å®šåŒ–å‡†å¤‡ã€Linuxä¸‹ panic å›æº¯ä¿®å¤ï¼Œä»¥åŠæ™ºèƒ½æŒ‡é’ˆé›¶åˆå§‹åŒ–ç­‰æ ‡å‡†åº“ API è½åœ°ç­‰ã€‚</p>
<h2 data-id="heading-5"><strong>ç›¸å…³é“¾æ¥</strong></h2>
<ul>
<li>å‘å¸ƒç¬”è®°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.rust-lang.org%2F2025%2F12%2F11%2FRust-1.92.0" target="_blank" title="https://blog.rust-lang.org/2025/12/11/Rust-1.92.0" ref="nofollow noopener noreferrer">blog.rust-lang.org/2025/12/11/â€¦</a></li>
<li>å‡çº§æ—¥å¿—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Freleases%2Ftag%2F1.92.0" target="_blank" title="https://github.com/rust-lang/rust/releases/tag/1.92.0" ref="nofollow noopener noreferrer">github.com/rust-lang/râ€¦</a></li>
<li>å˜æ›´æ—¥å¿—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Freleases.rs%2Fdocs%2F1.92.0" target="_blank" title="https://releases.rs/docs/1.92.0" ref="nofollow noopener noreferrer">releases.rs/docs/1.92.0</a></li>
<li>ç‰ˆæœ¬è‰ç¨¿ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fissues%2F149161" target="_blank" title="https://github.com/rust-lang/rust/issues/149161" ref="nofollow noopener noreferrer">github.com/rust-lang/râ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹å…¥é—¨æŒ‡å— - Trainingï¼šå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„â€œæ¨¡å‹è®­ç»ƒâ€å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7583981974408314890</link>    <guid>https://juejin.cn/post/7583981974408314890</guid>    <pubDate>2025-12-16T02:59:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583981974408314890" data-draft-id="7582599972950294555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹å…¥é—¨æŒ‡å— - Trainingï¼šå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„â€œæ¨¡å‹è®­ç»ƒâ€å…¨è§£æ"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-16T02:59:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹å…¥é—¨æŒ‡å— - Trainingï¼šå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„â€œæ¨¡å‹è®­ç»ƒâ€å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:59:15.000Z" title="Tue Dec 16 2025 02:59:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>Trainingï¼ˆæ¨¡å‹è®­ç»ƒï¼‰æœ¬è´¨æ˜¯AIä¸–ç•Œçš„â€˜ç§‘å­¦çƒ¹é¥ªå®éªŒâ€™â€”â€”ä»¥æ•°æ®ä¸ºé£ŸæåŸæ–™ï¼Œç”¨è¶…å‚æ•°ä½œé…æ–¹æ¯”ä¾‹ï¼Œå€ŸéªŒè¯é›†åšå“æ§è´¨æ£€ï¼Œå°†â€˜ç„å­¦ç‚¼ä¸¹â€™çš„è¯•é”™è¿‡ç¨‹ï¼Œæ·¬ç‚¼æˆâ€˜å¯å¤ç°çš„ç²¾å¯†å·¥ç¨‹â€™ã€‚ä»Šå¤©ç”¨æœ€é€šä¿—çš„è¯ï¼Œå¸¦ä½ æ‹†è§£æ¨¡å‹è®­ç»ƒï¼ˆTrainingï¼‰å…¨è¿‡ç¨‹ã€‚</p>
<p><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/975fe6089c554346b6eaedcf66e45c04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458755&amp;x-signature=VS4SjWaWnpSZYV4y6DxgrGpIFBw%3D" alt="" loading="lazy"/></strong></p>
<h2 data-id="heading-0"><strong><strong>ä¸€ã€æ¦‚å¿µè§£è¯»</strong></strong></h2>
<p>Trainingï¼ˆæ¨¡å‹è®­ç»ƒï¼‰åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿ  æ¨¡å‹è®­ç»ƒæ˜¯ç”¨æ•°æ®å–‚AIï¼Œé€šè¿‡ç®—æ³•è°ƒå‚æ•°ï¼Œè®©å®ƒä»â€˜ççŒœâ€™åˆ°â€˜ç²¾å‡†é¢„æµ‹â€™çš„è¿‡ç¨‹ã€‚</p>
<p>æ¨¡å‹è®­ç»ƒä¸­çš„ä¸“ä¸šæœ¯è¯­å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong><strong>æ•°æ®ï¼ˆDataï¼‰ï¼šæ¨¡å‹çš„è¯¾æœ¬+ç»ƒä¹ é¢˜ï¼Œç”¨äºå­¦ä¹ ã€‚ç±»ä¼¼å­¦ç”Ÿé€šè¿‡åˆ·é¢˜ï¼ˆè®­ç»ƒæ•°æ®ï¼‰æŒæ¡çŸ¥è¯†ç‚¹ï¼Œé€šè¿‡æ¨¡æ‹Ÿè€ƒï¼ˆéªŒè¯é›†ï¼‰æ£€éªŒæ°´å¹³ã€‚</strong></strong></li>
<li><strong><strong>å‚æ•°ï¼ˆWeightsï¼‰ï¼šæ¨¡å‹çš„å¤§è„‘ç¥ç»å…ƒè¿æ¥å¼ºåº¦ï¼Œè®­ç»ƒä¸­ä¸æ–­è°ƒæ•´ã€‚ç±»ä¼¼å­¦ç”Ÿè§£é¢˜æ—¶è°ƒæ•´è§£é¢˜æ€è·¯ï¼ˆå‚æ•°ï¼‰ï¼Œä½¿ç­”æ¡ˆæ›´æ¥è¿‘æ ‡å‡†ç­”æ¡ˆï¼ˆçœŸå®æ ‡ç­¾ï¼‰ã€‚</strong></strong></li>
<li><strong><strong>æŸå¤±å‡½æ•°ï¼ˆLossï¼‰ï¼šè¡¡é‡æ¨¡å‹ç­”æ¡ˆä¸çœŸå®ç­”æ¡ˆçš„å·®è·ã€‚ç±»ä¼¼å­¦ç”Ÿç­”é”™é¢˜æ‰£åˆ†ï¼ˆLosså‡é«˜ï¼‰ï¼Œç­”å¯¹åŠ åˆ†ï¼ˆLossä¸‹é™ï¼‰ã€‚</strong></strong></li>
<li><strong><strong>ä¼˜åŒ–å™¨ï¼ˆOptimizerï¼‰ï¼šè°ƒæ•´å‚æ•°çš„å­¦ä¹ æ–¹æ³•ï¼Œå¦‚æ¢¯åº¦ä¸‹é™=æŸ¥æ¼è¡¥ç¼ºã€‚ç±»ä¼¼å­¦ç”Ÿæ ¹æ®é”™é¢˜æœ¬ï¼ˆæ¢¯åº¦ï¼‰è°ƒæ•´å­¦ä¹ ç­–ç•¥ï¼ˆå‚æ•°ï¼‰ï¼Œä¼˜å…ˆè¡¥è–„å¼±ç§‘ç›®ï¼ˆé«˜Lossæ–¹å‘ï¼‰ã€‚</strong></strong></li>
<li><strong><strong>æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰ï¼šé˜²æ­¢AIæ­»è®°ç¡¬èƒŒçš„è®°å¿†æŠ‘åˆ¶å™¨ã€‚ç±»ä¼¼å­¦ç”Ÿåšé¢˜æ—¶å¼ºåˆ¶ç†è§£åŸç†ï¼ˆL1/L2æ­£åˆ™åŒ–ï¼‰ï¼Œè€Œéæœºæ¢°èƒŒè¯µã€‚</strong></strong></li>
</ul>
<p>æ¨¡å‹è®­ç»ƒçš„æœ¬è´¨æ˜¯é€šè¿‡å‚æ•°ï¼ˆè§£é¢˜æ€è·¯ï¼‰ä¸æ–­è¯•é”™ã€ç”¨æŸå¤±å‡½æ•°ï¼ˆæ‰£åˆ†æœºåˆ¶ï¼‰é‡åŒ–å·®è·ã€é ä¼˜åŒ–å™¨ï¼ˆé”™é¢˜æœ¬å¤ç›˜æ³•ï¼‰è¿­ä»£ç­–ç•¥ã€å€Ÿæ­£åˆ™åŒ–ï¼ˆé˜²æœºæ¢°èƒŒè¯µè§„åˆ™ï¼‰å¼ºåŒ–æ³›åŒ–ï¼Œæœ€ç»ˆåœ¨éªŒè¯é›†ï¼ˆæ¨¡æ‹Ÿè€ƒï¼‰ä¸­äº¤å‡ºé«˜åˆ†ç­”å·çš„è¿‡ç¨‹ã€‚</p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/592001f992574632a6ebfd623f3c73b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458755&amp;x-signature=nIEPgCC5nP8lKZ%2FeKNCIVspNzgM%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦Trainingï¼ˆæ¨¡å‹è®­ç»ƒï¼‰ï¼Ÿ</strong> æ¨¡å‹åƒä¸€å¼ ç™½çº¸ï¼ˆéšæœºåˆå§‹åŒ–å‚æ•°ï¼‰ï¼Œæ— æ³•å®Œæˆä»»ä½•ä»»åŠ¡ï¼ŒTrainingè®©æ¨¡å‹é€æ­¥å­¦ä¼šä»è¾“å…¥åˆ°è¾“å‡ºçš„<strong>æ­£ç¡®æ˜ å°„ï¼Œ</strong> è®©æ¨¡å‹ä»â€˜æ–‡ç›²â€™å˜æˆâ€˜å­¦éœ¸â€™ã€‚</p>
<ul>
<li><strong><strong>äººç±»å­¦ä¹ ï¼šé€šè¿‡ã€Œè¯¾æœ¬+ç»ƒä¹ é¢˜+è€ƒè¯•ã€æŒæ¡çŸ¥è¯†ã€‚</strong></strong></li>
<li><strong><strong>æ¨¡å‹è®­ç»ƒï¼šé€šè¿‡ã€Œæ•°æ®+ä¼˜åŒ–ç®—æ³•+éªŒè¯é›†ã€è°ƒæ•´å‚æ•°ï¼Œä½¿æ¨¡å‹è¾“å‡ºæ¥è¿‘çœŸå®ç­”æ¡ˆã€‚</strong></strong></li>
</ul>
<h5 data-id="heading-1"><strong>æ¨¡å‹è®­ç»ƒä¸­çš„å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</strong></h5>
<ul>
<li><strong><strong>Lossä¸ä¸‹é™ï¼šæ¨¡å‹å­¦ä¸ä¼šï¼Œåƒå­¦ç”Ÿå¬å¤©ä¹¦ã€‚å¤§æ¦‚ç‡æ˜¯æ•°æ®è´¨é‡å·®ã€æ¨¡å‹æ¶æ„é”™è¯¯ã€å­¦ä¹ ç‡è¿‡å¤§ã€‚è¿™æ—¶å€™éœ€è¦æ¸…æ´—æ•°æ®ã€æ¢æ¨¡å‹ã€è°ƒå°å­¦ä¹ ç‡ã€‚</strong></strong></li>
<li><strong><strong>è¿‡æ‹Ÿåˆï¼šè®­ç»ƒé›†æ»¡åˆ†ï¼Œæµ‹è¯•é›†ç¿»è½¦ï¼Œåƒå­¦ç”ŸåªèƒŒé¢˜åº“ã€‚å¤§æ¦‚ç‡æ˜¯æ•°æ®é‡ä¸è¶³ã€æ¨¡å‹å¤æ‚åº¦è¿‡é«˜ã€‚è¿™æ—¶å€™éœ€è¦å¢åŠ æ•°æ®ã€ç®€åŒ–æ¨¡å‹ã€åŠ æ­£åˆ™åŒ–ã€‚</strong></strong></li>
<li><strong><strong>è®­ç»ƒé€Ÿåº¦æ…¢ï¼šæ¨¡å‹å­¦å¾—æ…¢ï¼Œåƒå­¦ç”Ÿèµ°ç¥ã€‚å¤§æ¦‚ç‡æ˜¯Batch Sizeè¿‡å¤§ã€ç¡¬ä»¶ç®—åŠ›ä¸è¶³ã€‚è¿™æ—¶å€™éœ€è¦å‡å°Batch Sizeã€æ¢GPUã€åˆ†å¸ƒå¼è®­ç»ƒã€‚</strong></strong></li>
<li><strong><strong>æ¢¯åº¦çˆ†ç‚¸/æ¶ˆå¤±ï¼šæ¨¡å‹å­¦å´©äº†ï¼Œåƒå­¦ç”Ÿç–¯ç™«/æ˜è¿·ã€‚å¤§æ¦‚ç‡æ˜¯ç½‘ç»œå±‚æ•°è¿‡æ·±ã€æ¿€æ´»å‡½æ•°é€‰æ‹©ä¸å½“ã€‚è¿™æ—¶å€™éœ€è¦åŠ æ¢¯åº¦è£å‰ªã€æ¢æ¿€æ´»å‡½æ•°ï¼ˆå¦‚ReLUâ†’LeakyReLUï¼‰ã€æ®‹å·®è¿æ¥ã€‚</strong></strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd22fc9e8017492891ae703a773f1a21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458755&amp;x-signature=mlo5mHpQPS26Kfck4X30fBUbNtU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong><strong>äºŒã€æŠ€æœ¯å®ç°</strong></strong></h2>
<p><em>Trainingï¼ˆæ¨¡å‹è®­ç»ƒï¼‰å¦‚ä½•è¿›è¡ŒæŠ€æœ¯å®ç°ï¼Ÿ<strong>æ¨¡å‹è®­ç»ƒæŒ‰â€˜æ•°æ®é¢„å¤„ç†â†’æ¶æ„æ­å»ºâ†’å‚æ•°è°ƒä¼˜â†’è¿­ä»£éªŒè¯â€™å››æ­¥èµ°ã€‚</strong></em></p>
<ul>
<li><strong>æ•°æ®é¢„å¤„ç† â†’</strong> â€œå–‚æ•°æ®â€ <strong>ï¼ˆæ¨¡å‹çš„â€œä¹å¹´ä¹‰åŠ¡æ•™è‚²â€é˜¶æ®µï¼Œå…ˆæ¸…æ´—ã€æ ‡æ³¨ã€åˆ’åˆ†æ•°æ®é›†ï¼‰</strong></li>
<li><strong>æ¶æ„æ­å»º â†’</strong> â€œæ­è„‘å›è·¯â€ <strong>ï¼ˆé€‰æ‹©Transformeræ¨¡å‹æ¶æ„ï¼Œåˆå§‹åŒ–å‚æ•°ï¼‰</strong></li>
<li><strong>å‚æ•°è°ƒä¼˜ â†’</strong> â€œåˆ·é¢˜+æ”¹é”™â€ <strong>ï¼ˆæŸå¤±å‡½æ•°æ‰£åˆ†â†’ä¼˜åŒ–å™¨æ”¹å‚æ•°â†’æ­£åˆ™åŒ–é˜²æ­»è®°ï¼Œæ¨¡å‹çš„â€œé«˜ä¸‰å†²åˆºâ€æ¨¡å¼ï¼‰</strong></li>
<li><strong>è¿­ä»£éªŒè¯ â†’</strong> â€œå‘¨è€ƒ+æœˆè€ƒâ€ <strong>ï¼ˆéªŒè¯é›†ç›‘æ§è¿‡æ‹Ÿåˆï¼Œæµ‹è¯•é›†â€œæ¯•ä¸šè€ƒâ€å®šç”Ÿæ­»ï¼Œæ¨¡å‹çš„â€œé«˜è€ƒè´¨æ£€å±€â€ï¼‰</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c56efc4cbb14d7b8b1397a4fa31538c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458755&amp;x-signature=ItfHL7OhPdgwt76DtDSE7ta1sWU%3D" alt="" loading="lazy"/></p>
<p>PyTorchå¦‚ä½•å®ç°Trainingï¼ˆæ¨¡å‹è®­ç»ƒï¼‰ï¼ŸPyTorché€šè¿‡å®šä¹‰æ¨¡å‹ç»“æ„ï¼ˆç»§æ‰¿nn.Moduleå¹¶å®ç°å‰å‘ä¼ æ’­ï¼‰ï¼Œé…ç½®æŸå¤±å‡½æ•°ï¼ˆå¦‚MSELossï¼‰ä¸ä¼˜åŒ–å™¨ï¼ˆå¦‚Adamï¼‰ï¼Œåœ¨è®­ç»ƒå¾ªç¯ä¸­åå‘ä¼ æ’­æ›´æ–°å‚æ•°ï¼ˆé€šè¿‡loss.backward()å’Œoptimizer.step()ï¼‰ï¼ŒåŒæ—¶åˆ©ç”¨DataLoaderå®ç°æ•°æ®æ‰¹é‡åŠ è½½ä¸é¢„å¤„ç†ï¼Œæœ€ç»ˆé€šè¿‡è¿­ä»£ä¼˜åŒ–ä½¿æ¨¡å‹æ‹Ÿåˆæ•°æ®ã€‚</p>
<p><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19c43199277b4e2aa75df4fce3ddf75c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766458755&amp;x-signature=DuY83KyaG%2BOEk6iKTr%2FtikBHO7o%3D" alt="" loading="lazy"/></strong></p>
<pre><code class="hljs language-ini" lang="ini">import torch
import torch.nn as nn
import torch.optim as optim
from torch.utils.data import DataLoader, TensorDataset
import math
<span class="hljs-comment"># å‚æ•°é…ç½®</span>
<span class="hljs-attr">input_dim</span> = <span class="hljs-number">10</span> Â  Â  Â  <span class="hljs-comment"># è¾“å…¥ç‰¹å¾ç»´åº¦</span>
<span class="hljs-attr">output_dim</span> = <span class="hljs-number">1</span> Â  Â  Â  <span class="hljs-comment"># è¾“å‡ºç»´åº¦ï¼ˆå›å½’ä»»åŠ¡ï¼‰</span>
<span class="hljs-attr">seq_length</span> = <span class="hljs-number">5</span> Â  Â  Â  <span class="hljs-comment"># åºåˆ—é•¿åº¦</span>
<span class="hljs-attr">batch_size</span> = <span class="hljs-number">32</span>
<span class="hljs-attr">num_epochs</span> = <span class="hljs-number">50</span> Â  Â   <span class="hljs-comment"># å¢åŠ è®­ç»ƒè½®æ¬¡</span>
<span class="hljs-attr">learning_rate</span> = <span class="hljs-number">0.001</span>
<span class="hljs-attr">d_model</span> = <span class="hljs-number">64</span> Â  Â  Â  Â  <span class="hljs-comment"># æ¨¡å‹ç»´åº¦</span>
<span class="hljs-attr">nhead</span> = <span class="hljs-number">4</span> Â  Â  Â  Â  Â   <span class="hljs-comment"># æ³¨æ„åŠ›å¤´æ•°</span>
<span class="hljs-attr">dim_feedforward</span> = <span class="hljs-number">256</span> <span class="hljs-comment"># å‰é¦ˆç½‘ç»œç»´åº¦</span>
<span class="hljs-comment"># ç”Ÿæˆè™šæ‹Ÿæ•°æ®ï¼ˆå¸¦æ—¶åºç‰¹å¾ï¼‰</span>
<span class="hljs-attr">X</span> = torch.randn(<span class="hljs-number">1000</span>, seq_length, input_dim) * torch.arange(<span class="hljs-number">1</span>, seq_length+<span class="hljs-number">1</span>).view(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
<span class="hljs-attr">y</span> = X.mean(dim=(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)).unsqueeze(-<span class="hljs-number">1</span>)  <span class="hljs-comment"># ç›®æ ‡ï¼šå¸¦æ—¶åºæƒé‡çš„å‡å€¼å›å½’</span>
<span class="hljs-comment"># æ•°æ®æ ‡å‡†åŒ–</span>
<span class="hljs-attr">X</span> = (X - X.mean()) / X.std()
<span class="hljs-attr">y</span> = (y - y.mean()) / y.std()
<span class="hljs-comment"># å°è£…ä¸ºDataLoader</span>
<span class="hljs-attr">dataset</span> = TensorDataset(X, y)
<span class="hljs-attr">dataloader</span> = DataLoader(dataset, batch_size=batch_size, shuffle=<span class="hljs-literal">True</span>, num_workers=<span class="hljs-number">2</span>)
class TransformerEncoderRegressor(nn.Module):
def __init__(self):
super().__init__()
<span class="hljs-attr">self.input_proj</span> = nn.Linear(input_dim, d_model)
<span class="hljs-comment"># Transformerç¼–ç å™¨ï¼ˆå‚è€ƒç½‘é¡µ7æ¶æ„ï¼‰</span>
<span class="hljs-attr">encoder_layer</span> = nn.TransformerEncoderLayer(
<span class="hljs-attr">d_model</span>=d_model,
<span class="hljs-attr">nhead</span>=nhead,
<span class="hljs-attr">dim_feedforward</span>=dim_feedforward,
<span class="hljs-attr">batch_first</span>=<span class="hljs-literal">True</span>  <span class="hljs-comment"># PyTorch 1.9+ç‰¹æ€§</span>
)
<span class="hljs-attr">self.encoder</span> = nn.TransformerEncoder(encoder_layer, num_layers=<span class="hljs-number">3</span>)
<span class="hljs-comment"># è¾“å‡ºå±‚ï¼ˆå¸¦ç‰¹å¾èšåˆï¼‰</span>
<span class="hljs-attr">self.output_layer</span> = nn.Sequential(
nn.Linear(d_model * seq_length, 128),
nn.ReLU(),
nn.Dropout(0.1),
nn.Linear(128, output_dim)
)
<span class="hljs-comment"># ä½ç½®ç¼–ç ï¼ˆå‚è€ƒç½‘é¡µ4å®ç°ï¼‰</span>
<span class="hljs-attr">self.pos_encoder</span> = PositionalEncoding(d_model, dropout=<span class="hljs-number">0.1</span>)
def forward(self, src):
<span class="hljs-comment"># è¾“å…¥æŠ•å½± [batch, seq, d_model]</span>
<span class="hljs-attr">src</span> = self.input_proj(src) * math.sqrt(d_model)
<span class="hljs-comment"># æ·»åŠ ä½ç½®ç¼–ç </span>
<span class="hljs-attr">src</span> = self.pos_encoder(src)
<span class="hljs-comment"># ç¼–ç å¤„ç† [batch, seq, d_model]</span>
<span class="hljs-attr">memory</span> = self.encoder(src)
<span class="hljs-comment"># ç‰¹å¾èšåˆ [batch, seq*d_model]</span>
<span class="hljs-attr">flattened</span> = memory.view(memory.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)
return self.output_layer(flattened)
class PositionalEncoding(nn.Module):
"""ç½‘é¡µ4ä½ç½®ç¼–ç å®ç°ï¼ˆé€‚é…batch_firstæ ¼å¼ï¼‰"""
def __init__(self, d_model: int, dropout: <span class="hljs-attr">float</span> = <span class="hljs-number">0.1</span>, max_len: int = <span class="hljs-number">5000</span>):
super().__init__()
<span class="hljs-attr">self.dropout</span> = nn.Dropout(p=dropout)
<span class="hljs-attr">position</span> = torch.arange(max_len).unsqueeze(<span class="hljs-number">1</span>)
<span class="hljs-attr">div_term</span> = torch.exp(torch.arange(<span class="hljs-number">0</span>, d_model, <span class="hljs-number">2</span>) * (-math.log(<span class="hljs-number">10000.0</span>) / d_model))
<span class="hljs-attr">pe</span> = torch.zeros(max_len, d_model)
pe<span class="hljs-section">[:, 0::2]</span> = torch.sin(position * div_term)
pe<span class="hljs-section">[:, 1::2]</span> = torch.cos(position * div_term)
self.register_buffer('pe', pe.unsqueeze(0))  <span class="hljs-comment"># [1, max_len, d_model]</span>
def forward(self, x):
<span class="hljs-attr">x</span> = x + self.pe[:, :x.size(<span class="hljs-number">1</span>), :]
return self.dropout(x)
<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
<span class="hljs-attr">model</span> = TransformerEncoderRegressor()
<span class="hljs-attr">criterion</span> = nn.MSELoss()
<span class="hljs-attr">optimizer</span> = optim.AdamW(model.parameters(), lr=learning_rate, weight_decay=<span class="hljs-number">1</span>e-<span class="hljs-number">4</span>)
<span class="hljs-attr">scheduler</span> = optim.lr_scheduler.ReduceLROnPlateau(optimizer, <span class="hljs-string">'min'</span>, patience=<span class="hljs-number">5</span>)
<span class="hljs-comment"># è®­ç»ƒå¾ªç¯ï¼ˆå¸¦éªŒè¯ï¼‰</span>
for epoch in range(num_epochs):
model.train()
<span class="hljs-attr">total_loss</span> = <span class="hljs-number">0</span>
for batch_X, batch_y in dataloader:
optimizer.zero_grad()
<span class="hljs-attr">outputs</span> = model(batch_X)
<span class="hljs-attr">loss</span> = criterion(outputs, batch_y)
loss.backward()
<span class="hljs-comment"># æ¢¯åº¦è£å‰ªï¼ˆç½‘é¡µ7å®è·µï¼‰</span>
nn.utils.clip_grad_norm_(model.parameters(), 1.0)
optimizer.step()
total_loss += loss.item()
<span class="hljs-attr">avg_loss</span> = total_loss / len(dataloader)
scheduler.step(avg_loss)
print(f'Epoch <span class="hljs-section">[{epoch+1}/{num_epochs}]</span>, Loss: {avg_loss:.4f}, LR: {optimizer.param_groups<span class="hljs-section">[0]</span><span class="hljs-section">["lr"]</span>:.2e}')
<span class="hljs-comment"># æµ‹è¯•æ¨ç†</span>
<span class="hljs-attr">test_input</span> = torch.randn(<span class="hljs-number">3</span>, seq_length, input_dim)  <span class="hljs-comment"># æ‰¹é‡æ¨ç†æµ‹è¯•</span>
model.eval()
with torch.no_grad():
<span class="hljs-attr">prediction</span> = model(test_input)
print('Test predictions:', prediction.squeeze().tolist())
</code></pre>
<h3 data-id="heading-3">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›½äº§èŠ¯ç‰‡ä¹Ÿèƒ½è·‘AIè§†é¢‘å®æ—¶ç”Ÿæˆäº†ï¼Œå•†æ±¤Seko 2.0æ­ç§˜å¹•åé»‘ç§‘æŠ€]]></title>    <link>https://juejin.cn/post/7583948178858541102</link>    <guid>https://juejin.cn/post/7583948178858541102</guid>    <pubDate>2025-12-16T02:25:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583948178858541102" data-draft-id="7583981974407872522" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›½äº§èŠ¯ç‰‡ä¹Ÿèƒ½è·‘AIè§†é¢‘å®æ—¶ç”Ÿæˆäº†ï¼Œå•†æ±¤Seko 2.0æ­ç§˜å¹•åé»‘ç§‘æŠ€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-12-16T02:25:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›½äº§èŠ¯ç‰‡ä¹Ÿèƒ½è·‘AIè§†é¢‘å®æ—¶ç”Ÿæˆäº†ï¼Œå•†æ±¤Seko 2.0æ­ç§˜å¹•åé»‘ç§‘æŠ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:25:09.000Z" title="Tue Dec 16 2025 02:25:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ª Sora 2 å‘å¸ƒä»¥æ¥ï¼Œå„å¤§ç§‘æŠ€å‚å•†è¿æ¥æ–°ä¸€è½®è§†é¢‘ç”Ÿæˆæ¨¡å‹ã€Œå†›å¤‡ç«èµ›ã€ï¼Œçº·çº·èµ¶åœ¨å¹´åº•å‰æ¨å‡ºæ›´å¼ºçš„è¿­ä»£ç‰ˆæœ¬ã€‚</p>
<p>è°·æ­Œæ¨å‡º Veo 3.1ï¼Œé€šè¿‡é¦–å°¾å¸§æ§åˆ¶å’Œå¤šå›¾å‚è€ƒè§£å†³äº†ä»¥å¾€è§†é¢‘ç”Ÿæˆã€ŒæŠ½å¡ã€éšæœºæ€§å¤ªå¼ºçš„é—®é¢˜ï¼›Runway æ‹¿å‡º Gen-4.5ï¼Œå¼ºåŒ–äº†ç‰©ç†æ¨¡æ‹Ÿå’Œè¡¨æƒ…åŠ¨ä½œè¿ç§»ï¼›å¿«æ‰‹ç¥­å‡º Kling 2.6ï¼Œå®ç°äº†åŸç”ŸéŸ³ç”»åŒæ­¥â€¦â€¦</p>
<p>å„å®¶éƒ½åœ¨ç‚«æŠ€ï¼Œä½†ä¸€ä¸ªæ›´æœ¬è´¨çš„é—®é¢˜å´å¸¸è¢«å¿½ç•¥ï¼šè¿™äº›æ¨¡å‹è·ç¦»çœŸæ­£çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œç©¶ç«Ÿè¿˜æœ‰å¤šè¿œï¼Ÿ</p>
<p>12 æœˆ 15 æ—¥ï¼Œå•†æ±¤ç§‘æŠ€äº§å“å‘å¸ƒå‘¨æ­£å¼å¼€å¯ï¼Œç¬¬ä¸€å¤©å°±é‡ç£…ä¸Šçº¿äº†å…¨æ–°çš„Â Seko 2.0 ç‰ˆæœ¬ï¼Œè®© AI çŸ­å‰§åˆ›ä½œçœŸæ­£å®ç°ã€Œä¸€äººå‰§ç»„ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81704c3cf4624c12a1787f22cd6d2a09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=LEGSmXom17dV2dqjtYMjh8veuuw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚åªéœ€è¾“å…¥ä¸€å¥ç®€å•çš„æç¤ºè¯ï¼Œå®ƒç«‹é©¬å°±èƒ½ç­–åˆ’å‰§æœ¬å¤§çº²ï¼Œç”Ÿæˆåˆ†é•œå’Œè§†é¢‘ï¼Œæ•´ä¸ªè¿‡ç¨‹ç›¸å½“éº»æºœã€‚</p>
<p>è§†é¢‘æ¥è‡ª Seko å®˜ç½‘ï¼Œåˆ›ä½œè€…ï¼šå°é“­AIç™¾å®ç®±</p>
<p>æ— è®ºæ˜¯ 1 åˆ†åŠé’Ÿçš„ 3D è‰ºæœ¯é£æ ¼çš„åŠ¨ç”»çŸ­ç‰‡ï¼š</p>
<p>è§†é¢‘æ¥è‡ª Seko å®˜ç½‘ï¼Œåˆ›ä½œè€…ï¼šå™ªç»´ AIGC</p>
<p>è¿˜æ˜¯ç”¨Â SekoTalkÂ ç®—æ³•èƒ½ç²¾å‡†åŒæ­¥å”‡å½¢çš„æ•°å­—äººéŸ³ä¹ MVï¼Œéƒ½èƒ½åœ¨æœ€çŸ­æ—¶é—´å†…ä¿¡æ‰‹æ‹ˆæ¥ã€‚</p>
<p>è§†é¢‘æ¥è‡ª Seko å®˜ç½‘ï¼Œåˆ›ä½œè€…ï¼šAIåˆ¶ç‰‡äººWebb</p>
<p>ä½œä¸ºè¡Œä¸šé¦–ä¸ªåˆ›ç¼–ä¸€ä½“ã€å¤šå‰§é›†ç”Ÿæˆæ™ºèƒ½ä½“ï¼ŒSeko å·²ç»æœåŠ¡ä¸Šç™¾å®¶çŸ­å‰§å·¥ä½œå®¤ï¼Œå¤§é‡ AI çŸ­å‰§æˆåŠŸä¸Šçº¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0df01fa553ee4bc4916e3043bdf55f10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=xv9Ta18Rz84BWGNn043QnukH2jM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç”¨å•†æ±¤ Seko åˆ›ä½œçš„ã€Šå©‰å¿ƒè®¡ã€‹ç™»é¡¶æŠ–éŸ³ AI çŸ­å‰§æ¦œç¬¬ä¸€</p>
<p>è€Œæ­¤æ¬¡ 2.0 ç‰ˆæœ¬çš„å‡çº§ï¼ŒèƒŒåæ˜¯å•†æ±¤åœ¨è§†é¢‘ç”Ÿæˆåº•å±‚æŠ€æœ¯ä¸Šçš„æ·±åº¦çªç ´ã€‚ä»å¼€æºæ¨ç†æ¡†æ¶ LightX2V åˆ°äº§å“åŒ–è½åœ°ï¼Œå†åˆ°å›½äº§èŠ¯ç‰‡çš„å…¨é¢é€‚é…ï¼Œå•†æ±¤æ­£åœ¨æ„å»ºä¸€æ¡å®Œæ•´çš„ AI è§†é¢‘ç”Ÿäº§é“¾è·¯ã€‚</p>
<p>è§†é¢‘ç”Ÿæˆçš„ã€Œä¸å¯èƒ½ä¸‰è§’ã€</p>
<p>å°½ç®¡èµ›é“ç«çƒ­ï¼Œä½†å½“ AI è§†é¢‘ç”Ÿæˆæ¨¡å‹æ­¥å…¥çŸ­å‰§åˆ¶ä½œç­‰å®æˆ˜åœºæ™¯æ—¶ï¼Œå¾€å¾€ä¼šæ’ä¸Šç”±æ•ˆç‡ã€æˆæœ¬ã€è´¨é‡æ„æˆçš„ã€Œä¸å¯èƒ½ä¸‰è§’ã€ã€‚</p>
<p>ç›®å‰å³ä¾¿å¦‚ Sora 2 çº§åˆ«çš„äº§å“ï¼Œç”Ÿæˆ 10 ç§’è§†é¢‘å¾€å¾€éœ€è¦æ•°åˆ†é’Ÿä¹ƒè‡³ååˆ†é’Ÿã€‚è¿™ç§æ¼«é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œè®©åˆ›ä½œè€…éš¾ä»¥è¿›è¡Œå¿«é€Ÿè¿­ä»£å’Œå®æ—¶åé¦ˆï¼Œä¸¥é‡åˆ¶çº¦äº†åˆ›ä½œæ•ˆç‡ï¼Œæ›´æ— æ³•æ”¯æ’‘å·¥ä¸šåŒ–ç”Ÿäº§ã€‚</p>
<p>æœ‰æ•°æ®è¡¨æ˜ï¼Œå¼€æºæ¨¡å‹ç”Ÿæˆä¸€æ®µ 5s è§†é¢‘é€šå¸¸è¶…è¿‡ååˆ†é’Ÿï¼Œå•†ç”¨é—­æºæ¨¡å‹ç”Ÿæˆ 5s çš„è§†é¢‘é€šå¸¸ä¹Ÿéœ€ 1 è‡³ 10 åˆ†é’Ÿä¸ç­‰ã€‚è¿™æ„å‘³ç€ç”Ÿæˆä¸å®æ—¶æ’­æ”¾ä¹‹é—´å­˜åœ¨ç€å¾ˆé•¿çš„æ—¶é—´å·®è·ï¼Œè·ç¦»çœŸæ­£çš„ã€Œå¼ºå®æ—¶ç”Ÿæˆã€ï¼Œå³ç”Ÿæˆ 5 ç§’è§†é¢‘æ‰€éœ€æ—¶é—´å°äº 5 ç§’ï¼Œè¿˜æœ‰é¥è¿œçš„è·ç¦»ã€‚</p>
<p>å®æ—¶æ€§é—®é¢˜çš„èƒŒåï¼Œæ˜¯æ›´ä¸ºæœ¬è´¨çš„è®¡ç®—æˆæœ¬å›°å¢ƒã€‚å¦‚æœè¦æŠ•å…¥å¦‚æ­¤é«˜æ˜‚çš„ç®—åŠ›æˆæœ¬ï¼Œä»»ä½•è¯•å›¾ç”¨ AI å¤§è§„æ¨¡ç”Ÿäº§è§†é¢‘å†…å®¹çš„å•†ä¸šè®¡åˆ’ï¼Œéƒ½ä¼šåœ¨è´¢åŠ¡æ¨¡å‹ä¸Šé­é‡æ»‘é“å¢ã€‚</p>
<p>å¯¹äº AI çŸ­å‰§å’Œæ¼«å‰§åˆ›ä½œè€Œè¨€ï¼Œè¿™ä¸ªé—®é¢˜æ›´åŠ å°–é”ã€‚çŸ­å‰§åˆ¶ä½œçš„æœ¬è´¨æ˜¯å¤šå‰§é›†ã€å¤šåœºæ™¯ã€å¤šåˆ†é•œçš„å¤æ‚å·¥ç¨‹ï¼Œè¿™ç›´æ¥å¯¼è‡´äº†è®¡ç®—é‡çš„æŒ‡æ•°çº§å¢é•¿ã€‚ä¸€ä¸ªä»… 5 ç§’çš„è§†é¢‘ç‰‡æ®µå°±éœ€è¦ç”Ÿæˆæ¥è¿‘ 10 ä¸‡ tokenï¼Œè€Œåœ¨å®é™…åˆ›ä½œæµç¨‹ä¸­ï¼Œä¸€é”®ç”Ÿæˆé€šå¸¸ä¼šäº§ç”Ÿ 10 åˆ° 20 ä¸ªåˆ†é•œï¼Œè¿™æ„å‘³ç€å•æ¬¡æ“ä½œçš„ token æ¶ˆè€—é‡å°±è¾¾åˆ° 100 ä¸‡åˆ° 200 ä¸‡çº§åˆ«ã€‚</p>
<p>æŒ‰ç…§ä¼ ç»Ÿè§†é¢‘ç”Ÿæˆæ¨¡å‹çš„æˆæœ¬ç»“æ„ï¼Œåˆ¶ä½œä¸€é›† 10 åˆ†é’Ÿçš„ AI çŸ­å‰§ï¼Œæ‰€éœ€çš„è®¡ç®—èµ„æºå’Œæ—¶é—´æˆæœ¬å°†è¾¾åˆ°ä»¤äººå’‹èˆŒçš„åœ°æ­¥ã€‚æ²¡æœ‰å“ªå®¶å†…å®¹åˆ¶ä½œå…¬å¸èƒ½å¤Ÿæ‰¿å—æ¯ç”Ÿæˆä¸€åˆ†é’Ÿå†…å®¹å°±è¦æ”¯ä»˜æ•°å°æ—¶é«˜ç«¯ GPU ç®—åŠ›çš„æˆæœ¬ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæ•ˆç‡ä¸æˆæœ¬ç›´æ¥å†³å®šäº†é¡¹ç›®çš„ç”Ÿæ­»ã€‚</p>
<p>å½“è¡Œä¸šè¯•å›¾é€šè¿‡é™ä½æ¨ç†æ­¥æ•°ã€å‹ç¼©æ¨¡å‹å‚æ•°ç­‰æ–¹å¼æå‡é€Ÿåº¦ã€é™ä½æˆæœ¬æ—¶ï¼Œåˆå¾€å¾€ä¼šé­é‡ç”Ÿæˆè´¨é‡ä¸‹é™çš„æŒ‘æˆ˜ã€‚è§†é¢‘çš„ä¸€è‡´æ€§ã€åŠ¨æ€æ€§ã€ç”»é¢æ¸…æ™°åº¦éƒ½å¯èƒ½åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­å—æŸï¼Œè€Œå¯¹äºå•†ä¸šåº”ç”¨è€Œè¨€ï¼Œè´¨é‡æ˜¯ä¸å¯å¦¥åçš„åº•çº¿ã€‚</p>
<p>å¦‚æ­¤çœ‹æ¥ï¼Œç°æœ‰çš„è§†é¢‘ç”ŸæˆæŠ€æœ¯æ¶æ„ä¼¼ä¹é™·å…¥äº†ä¸€ä¸ªã€Œä¸å¯èƒ½ä¸‰è§’ã€ï¼Œè¦ä¹ˆç‰ºç‰²è´¨é‡æ¢å–é€Ÿåº¦ï¼Œè¦ä¹ˆä¿è¯è´¨é‡ä½†ä»˜å‡ºå·¨å¤§çš„æ—¶é—´å’Œç®—åŠ›ä»£ä»·ï¼Œè¦ä¹ˆåœ¨ä¸¤è€…ä¹‹é—´è‰°éš¾å¹³è¡¡å´éš¾ä»¥çœŸæ­£æ»¡è¶³å•†ä¸šåº”ç”¨éœ€æ±‚ã€‚è¿™ä¸ªå›°å±€è®©æ— æ•°æŠ€æœ¯å›¢é˜Ÿåœ¨å®éªŒå®¤é‡Œçš„æƒŠè‰³æ¼”ç¤ºï¼Œæœ€ç»ˆæŠ˜æˆŸäºçœŸå®å•†ä¸šåœºæ™¯çš„ä¸¥è‹›è€ƒéªŒã€‚</p>
<p>æ‰“ç ´è¿™ä¸ªå›°å±€ï¼Œéœ€è¦çš„ä¸ä»…ä»…æ˜¯å•ç‚¹æŠ€æœ¯çš„çªç ´ï¼Œæ›´éœ€è¦ä»ç®—æ³•ã€æ¶æ„åˆ°ç³»ç»Ÿå·¥ç¨‹çš„å…¨æ–¹ä½åˆ›æ–°ã€‚</p>
<p>å•†æ±¤æ‚„æ‚„å¼€æºçš„ AI è§†é¢‘ç”Ÿæˆæ¡†æ¶</p>
<p>é€Ÿåº¦å¿« 10 å€</p>
<p>ä»Šå¹´ä¸ŠåŠå¹´ï¼Œä¸€ä¸ªåä¸º LightX2V çš„å¼€æºé¡¹ç›®åŠå…¶æ¨å‡ºçš„å›¾åƒå’Œè§†é¢‘ç”Ÿæˆ 4 æ­¥è’¸é¦æ¨¡å‹ï¼Œåœ¨ ComfyUI ç¤¾åŒºèµ°çº¢ï¼Œè¿˜åœ¨ Reddit ä¸Šå¼•å‘çƒ­çƒˆè®¨è®ºã€‚æˆªè‡³ç›®å‰ï¼Œè¯¥é¡¹ç›®ä¸Šä¼ çš„æ¨¡å‹ç´¯è®¡ä¸‹è½½é‡å·²çªç ´ 350 ä¸‡æ¬¡ã€‚</p>
<p>è¿™ä¸ªå¤‡å—ç©ç›®çš„é¡¹ç›®èƒŒåçš„ç ”å‘å›¢é˜Ÿä¸€åº¦é¢‡ä¸ºç¥ç§˜ï¼Œå¦‚ä»Šç­”æ¡ˆæ­æ™“ï¼ŒLightX2V æ˜¯ç”±å•†æ±¤ç§‘æŠ€ä¸åŒ—èˆªè”åˆç ”å‘çš„æˆæœï¼Œä¹Ÿæ˜¯ä¸šç•Œé¦–ä¸ªå¼€æºçš„å®æ—¶è§†é¢‘ç”Ÿæˆæ¨ç†æ¡†æ¶ã€‚</p>
<p>LightX2V çš„æ ¸å¿ƒä»·å€¼åœ¨äºçœŸæ­£åšåˆ°äº†å®æ—¶è§†é¢‘ç”Ÿæˆã€‚</p>
<p>å®ƒé€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°æŠ€æœ¯çš„ç»„åˆåº”ç”¨ï¼Œåœ¨æ¶ˆè´¹çº§æ˜¾å¡ä¸Šå®ç°äº†å¼ºå®æ—¶ç”Ÿæˆï¼Œç”Ÿæˆ 5 ç§’è§†é¢‘æ‰€éœ€æ—¶é—´å°äº 5 ç§’ï¼Œé€Ÿåº¦è¾¾åˆ°ç°åœ¨è¡Œä¸šä¸»æµçš„æ•°å€ç”šè‡³åå€ä»¥ä¸Šã€‚</p>
<p>ç®—æ³•åˆ›æ–°ï¼šå®æ—¶ç”Ÿæˆçš„åŸºç¡€</p>
<p>LightX2V çš„æ€§èƒ½çªç ´é¦–å…ˆæºäºå…¶æ·±å±‚çš„ç®—æ³•åˆ›æ–°ã€‚</p>
<p>å•†æ±¤åŸåˆ›è®¾è®¡çš„ Phased DMD æ­¥æ•°è’¸é¦æŠ€æœ¯ï¼Œè®©è§†é¢‘ç”Ÿæˆåœ¨ 4 æ­¥æ¨ç†ä¸‹å°±èƒ½å®ç°é«˜è´¨é‡çš„ä¸€è‡´æ€§å’ŒåŠ¨æ€æ€§ã€‚è¿™å¥—æŠ€æœ¯äº§å‡ºçš„ Wan2.1ã€Qwen-Image ç­‰å¤šæ­¥æ¨¡å‹ï¼Œç™»ä¸Š HuggingFace è¶‹åŠ¿æ¦œå‰ 10ï¼Œç´¯è®¡ä¸‹è½½é‡è¶…è¿‡ 358 ä¸‡æ¬¡ã€‚</p>
<p>ä¼ ç»Ÿçš„åˆ†å¸ƒåŒ¹é…è’¸é¦ï¼ˆDMDï¼‰æ–¹æ³•è™½ç„¶å¯ä»¥å°†åˆ†æ•°åŒ¹é…ç”Ÿæˆæ¨¡å‹å‹ç¼©æˆé«˜æ•ˆçš„å¤šæ­¥ç”Ÿæˆå™¨ï¼Œä½†åœ¨ç›´æ¥æ‰©å±•åˆ°å¤šæ­¥è’¸é¦æ—¶ï¼Œä¼šé¢ä¸´ç”Ÿæˆå¤šæ ·æ€§æ˜¾è‘—é™ä½ã€è®­ç»ƒä¸ç¨³å®šä»¥åŠéš¾ä»¥æœ‰æ•ˆå¤„ç†å¤æ‚åˆ†å¸ƒçš„å±€é™æ€§ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›éš¾é¢˜ï¼Œç ”ç©¶è€…æå‡ºäº† Phased DMDã€‚è¿™æ˜¯ä¸€ä¸ªç»“åˆäº†é˜¶æ®µå¼è’¸é¦å’Œä¸“å®¶æ··åˆæ€æƒ³çš„å¤šæ­¥è’¸é¦æ¡†æ¶ï¼Œæ—¨åœ¨é™ä½å­¦ä¹ éš¾åº¦å¹¶å¢å¼ºæ¨¡å‹èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8437f65ca3774549bdc540631611dbe7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=O4Gga2IyvEPCXhzJTJMb56hTNTg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ 1ï¼š(a) å¤šæ­¥ DMDã€(b) é‡‡ç”¨éšæœºæ¢¯åº¦æˆªæ–­ç­–ç•¥çš„å¤šæ­¥ DMDã€(c) Â Phased DMD å’Œ (d) é‡‡ç”¨ SGTS çš„ Phased DMD çš„ç¤ºæ„å›¾ã€‚</p>
<p>Phased DMD å»ºç«‹åœ¨ä¸¤ä¸ªæ ¸å¿ƒç†å¿µä¹‹ä¸Šï¼š</p>
<ul>
<li>
<p>æ¸è¿›å¼åˆ†å¸ƒåŒ¹é…ï¼šè¯¥æ–¹æ³•å°†ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰èŒƒå›´åˆ’åˆ†æˆå¤šä¸ªå­åŒºé—´ï¼Œé€šè¿‡è¿™ç§åˆ’åˆ†ï¼Œæ¨¡å‹å¯ä»¥æ¸è¿›å¼åœ°å°†è‡ªèº«ç²¾åº¦ä¼˜åŒ–åˆ°æ›´é«˜çš„ SNR çº§åˆ«ï¼Œä»è€Œæ›´å¥½åœ°æ•è·å¤æ‚åˆ†å¸ƒï¼Œå¹¶æé«˜è®­ç»ƒçš„ç¨³å®šæ€§å’Œç”Ÿæˆæ€§èƒ½ã€‚åœ¨å»å™ªè¿‡ç¨‹ä¸­ï¼Œä½ SNR é˜¶æ®µèšç„¦äºå…¨å±€ç»“æ„ï¼Œè€Œé«˜ SNR é˜¶æ®µåˆ™å…³æ³¨ç²¾ç»†ç»†èŠ‚ã€‚</p>
</li>
<li>
<p>å­åŒºé—´å†…åˆ†æ•°åŒ¹é…ï¼šç”±äºè¦å¯¹é½å­åŒºé—´çš„åˆ†å¸ƒï¼Œç ”ç©¶è€…é€šè¿‡ä¸¥æ ¼çš„æ¨å¯¼ï¼Œå¾—åˆ°ä¸€ä¸ªå…·æœ‰ç†è®ºä¿è¯çš„è®­ç»ƒç›®æ ‡ã€‚è¿™ä¸ªç›®æ ‡èƒ½å¤Ÿæ­£ç¡®ä¼°è®¡å­åŒºé—´å†…çš„åˆ†æ•°ï¼Œç¡®ä¿é˜¶æ®µå¼è®­ç»ƒçš„ç†è®ºæ­£ç¡®æ€§ã€‚</p>
</li>
</ul>
<p>Phased DMD çš„ç»“æ„è®¾è®¡æ˜¯ä¸€ä¸ªå¤©ç„¶çš„ Mixture-of-Experts æ¶æ„ï¼Œå…è®¸æ¨¡å‹ä¸­çš„ä¸åŒä¸“å®¶ä¸“é—¨å­¦ä¹ å¤„ç†ä¸åŒçš„ SNR é˜¶æ®µï¼Œè€Œä¸ä¼šå¼•å…¥é¢å¤–çš„æ¨ç†æˆæœ¬ã€‚Phased DMD ä¸ä»…åŸç”Ÿæ”¯æŒ MoE æ¨¡å‹ï¼Œè€Œä¸”å¯¹äºé MoE çš„æ•™å¸ˆæ¨¡å‹ï¼Œè¯¥æŠ€æœ¯ä¹Ÿå¯ä»¥å°†ä¹‹è’¸é¦ä¸º MoE å­¦ç”Ÿæ¨¡å‹ã€‚</p>
<p>å®éªŒç»“æœè¡¨æ˜ï¼ŒPhased DMD ç›¸è¾ƒäºä¼ ç»Ÿ DMD æ–¹æ³•ï¼Œèƒ½æ›´å¥½åœ°ä¿æŒåŸºæ¨¡å‹çš„åŠ¨æ€æ•ˆæœå’Œå¤šæ ·æ€§ã€‚Phased DMD é€šè¿‡è’¸é¦ Qwen-Image (20B å‚æ•°) å’Œ Wan2.2 (28B å‚æ•°) ç­‰å…ˆè¿›çš„æ¨¡å‹å¾—åˆ°äº†å……åˆ†éªŒè¯ï¼Œå¼€æºçš„éƒ¨åˆ†æ¨¡å‹ä¹Ÿå—åˆ°å¼€æºç¤¾åŒºçš„è®¨è®ºå’Œå¥½è¯„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82a9a3663c56470da2bb91e13f1fd465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=dCFoe4N5%2BqyfX63ISbT8nw9rKl4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥è‡ª Wan2.1-T2V-14B åŸºç¡€æ¨¡å‹ï¼ˆ40 æ­¥ã€CFG=4ï¼‰åŠå…¶è’¸é¦å˜ä½“ï¼ˆ4 æ­¥ã€CFG=1ï¼‰çš„æ ·æœ¬ï¼ˆéšæœºç§å­ 0â€“3ï¼‰ï¼š(a) åŸºç¡€æ¨¡å‹ï¼Œ(b) DMDï¼Œ(c) å¸¦ SGTS çš„ DMDï¼Œ(d) Phased DMDã€‚ä¸åŸºç¡€æ¨¡å‹å’Œ Phased DMD ç›¸æ¯”ï¼ŒDMD ä¸ SGTS å±•ç°å‡ºæ›´å¼±çš„è¿åŠ¨åŠ¨æ€ã€‚ç±»ä¼¼åœ°ï¼Œå¸¦ SGTS çš„ DMD å€¾å‘äºç”Ÿæˆç‰¹å†™è§†è§’ï¼Œè€Œ Phased DMD å’ŒåŸºç¡€æ¨¡å‹æ›´å¥½åœ°éµå¾ªæç¤ºä¸­çš„ç›¸æœºæŒ‡ä»¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/916826ede3694618b6f35a94050285e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=Bz7hnld6fFuyWCFZCmeBbFZ2Pdk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡ Phased DMD è’¸é¦ç”Ÿæˆçš„ Qwen-Image ç¤ºä¾‹ã€‚</p>
<p>åœ¨é«˜æ•ˆè§†é¢‘ç”Ÿæˆé¢†åŸŸï¼Œè‡ªç¼–ç å™¨ï¼ˆVAEï¼‰æ¨¡å‹æ˜¯ä¸å¯æˆ–ç¼ºçš„å…³é”®ç»„ä»¶ã€‚å®ƒè´Ÿè´£å°†åƒç´ ç©ºé—´å‹ç¼©åˆ°æ›´å°çš„æ½œåœ¨ç©ºé—´ï¼Œä»¥å®ç°æ›´å¿«å¤„ç†ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„å®˜æ–¹ VAE æ¨¡å‹å¾€å¾€å†…å­˜å ç”¨å¤§ã€æ¨ç†é€Ÿåº¦æ…¢ï¼Œä¸¥é‡åˆ¶çº¦äº†è§†é¢‘ç”Ÿæˆæ•ˆç‡ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸€è¡Œä¸šç—›ç‚¹ï¼ŒLightX2V å›¢é˜Ÿå‘å¸ƒäº†Â LightVAEã€LightTAE ç³»åˆ—é«˜æ•ˆè§†é¢‘è‡ªç¼–ç å™¨æ¨¡å‹é›†åˆï¼Œæ—¨åœ¨é€šè¿‡æ·±åº¦ä¼˜åŒ–å’Œè’¸é¦æŠ€æœ¯ï¼Œåœ¨æœ€å¤§é™åº¦ä¿æŒé«˜æ¸…ç”»è´¨çš„åŒæ—¶ï¼Œå®ç°é«˜è¾¾ 10 å€ä»¥ä¸Šçš„æ€§èƒ½æå‡ï¼Œä¸ºå®æ—¶ç”Ÿæˆå¥ å®šäº†åšå®çš„ç®—æ³•åŸºç¡€ã€‚</p>
<p>LightVAE ç³»åˆ—è¢«å®šä½ä¸ºã€Œæœ€ä½³å¹³è¡¡è§£å†³æ–¹æ¡ˆã€ï¼Œé€šè¿‡å¯¹å®˜æ–¹ VAE æ¶æ„è¿›è¡Œå‰ªæå’Œè’¸é¦ï¼Œä¾‹å¦‚å¯¹ Wan2.1 VAE å‰ªæ 75%ï¼ŒæˆåŠŸå°†æ˜¾å­˜å ç”¨å‡å°‘äº†çº¦ 50%ï¼ˆé™è‡³çº¦ 4-5 GBï¼‰ï¼ŒåŒæ—¶å°†æ¨ç†é€Ÿåº¦æå‡äº† 2 åˆ° 3 å€ã€‚LightVAE ä¿æŒäº†æ¥è¿‘å®˜æ–¹æ¨¡å‹çš„ä¼˜å¼‚è´¨é‡ï¼Œä½¿å…¶æˆä¸ºæ—¥å¸¸ç”Ÿäº§å’Œé«˜æ€§èƒ½éœ€æ±‚çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<p>å¯¹äºè¿½æ±‚æè‡´é€Ÿåº¦å’Œæœ€å°å†…å­˜å ç”¨çš„åœºæ™¯ï¼Œå›¢é˜Ÿåˆ™æ¨å‡ºäº† LightTAE ç³»åˆ—ï¼Œé‡‡ç”¨æ›´è½»é‡çº§çš„ 2D å·ç§¯æ¶æ„ï¼Œå°†æ˜¾å­˜å ç”¨é™è‡³æä½çš„çº¦ 0.4 GBï¼Œå¹¶å®ç°äº†æå¿«çš„æ¨ç†é€Ÿåº¦ã€‚å°½ç®¡å…¶åŸºç¡€æ¶æ„ä¸å¼€æºçš„ TAE ç›¸ä¼¼ï¼Œä½† LightTAE ç»è¿‡å›¢é˜Ÿçš„è’¸é¦ä¼˜åŒ–ï¼Œå…¶ç”Ÿæˆè´¨é‡æ˜¾è‘—è¶…è¶Šäº†æ™®é€šçš„å¼€æº TAEï¼Œè¾¾åˆ°äº†æ¥è¿‘å®˜æ–¹ VAE çš„æ°´å¹³ï¼Œéå¸¸é€‚åˆå¼€å‘æµ‹è¯•å’Œå¿«é€Ÿè¿­ä»£ç­‰å¯¹æ•ˆç‡æœ‰é«˜è¦æ±‚çš„åœºæ™¯ã€‚</p>
<p>å®é™…æµ‹è¯•ç»“æœè¡¨æ˜ï¼ŒLightX2V çš„ä¼˜åŒ–æ•ˆæœæ˜¯æ˜¾è‘—çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†ä¸€æ®µ 5 ç§’ 81 å¸§çš„è§†é¢‘æ—¶ï¼Œå®˜æ–¹ Wan2.1 VAE çš„è§£ç æ—¶é—´çº¦ä¸º 5.46 ç§’ï¼Œæ˜¾å­˜éœ€æ±‚è¶…è¿‡ 10 GBã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒLightVAE å°†è§£ç æ—¶é—´ç¼©çŸ­åˆ°çº¦ 2.07 ç§’ï¼Œæ˜¾å­˜é™è‡³ 5.57 GB å·¦å³ã€‚è€Œ LightTAE åˆ™è¡¨ç°å‡ºæƒŠäººçš„é€Ÿåº¦ï¼Œè§£ç æ—¶é—´ä»…éœ€çº¦ 0.25 ç§’ï¼Œä¸”æ˜¾å­˜å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45bfd549ead243278afecadc0a9beaeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=sW8ZhlsW9nF5Rgpn7%2Bhl2KqIxqA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å·¥ç¨‹åˆ›æ–°ï¼šå…¨æ ˆä¼˜åŒ–å®ç°ã€Œå¼ºå®æ—¶ã€</p>
<p>çœŸæ­£è®©å®æ—¶ç”Ÿæˆè§†é¢‘å˜ä¸ºå¯èƒ½çš„ï¼Œæ˜¯ LightX2V åœ¨å·¥ç¨‹å±‚é¢çš„å…¨æ ˆä¼˜åŒ–ã€‚</p>
<p>LightX2V æ„å»ºäº†ä¸€ä¸ªé¢å‘ä½æˆæœ¬ã€å¼ºå®æ—¶çš„è§†é¢‘ç”Ÿæˆæ¨ç†å®Œæ•´æ–¹æ¡ˆï¼Œè¦†ç›–äº†æ¨¡å‹ã€è°ƒåº¦ã€è®¡ç®—ã€å­˜å‚¨å’Œé€šä¿¡äº”ä¸ªç»´åº¦ï¼Œé€šè¿‡ä½æ¯”ç‰¹é‡åŒ–ã€ç¨€ç–æ³¨æ„åŠ›ã€ç‰¹å¾ç¼“å­˜ã€é«˜æ•ˆ Offloading å’Œå¤šå¡é€šä¿¡ä¼˜åŒ–ç­‰æŠ€æœ¯ï¼Œå½¢æˆäº†æ¸…æ™°ä¸”é«˜æ•ˆçš„äº”å±‚ä½“ç³»ç»“æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f71e2317052644f495cc74f7fd9f6eb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=9oU1s1LTOeQ9TcccWuJOjvNJF2c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ¡†æ¶çš„æœ€åº•å±‚æ˜¯ç®—å­å®ç°å±‚ï¼Œå®ƒæ˜¯æ‰€æœ‰æ€§èƒ½ä¼˜åŒ–çš„æ ¹åŸºï¼Œé›†æˆäº†å¤šç§é«˜åº¦å®šåˆ¶å’Œä¼˜åŒ–çš„ä½çº§è®¡ç®—æ“ä½œï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹è®¡ç®—å¯†é›†å‹çš„æ³¨æ„åŠ›æœºåˆ¶ã€‚é€šè¿‡å¼•å…¥ Flash Attention V3ã€Sage Attention V1/V2/V3ã€Radial Attention å’Œ Ring Attention ç­‰åˆ›æ–°ç®—å­ï¼ŒLightX2V ä¸ºä¸Šå±‚æä¾›äº†å¼ºå¤§çš„è®¡ç®—åŠ é€Ÿèƒ½åŠ›ï¼Œä»ç¡¬ä»¶å±‚é¢ä¿è¯äº†æ¨ç†çš„é«˜æ•ˆè¿è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b61de198d1d4034b39d90e55e07130a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=FGLd%2FRf4gvlYPQveTjSRTPlqGRs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç´§æ¥ç€æ˜¯å†…æ ¸åº“å±‚ï¼Œå®ƒè´Ÿè´£å°è£…åº•å±‚ç®—å­çš„å¤æ‚æ€§ï¼Œå¹¶ä¸ºä¸Šå±‚æ¨¡å‹æä¾›ç¨³å®šã€é«˜æ€§èƒ½çš„è°ƒç”¨æ¥å£å’Œè¿è¡Œæ—¶ç¯å¢ƒã€‚</p>
<p>å†å‘ä¸Šï¼Œæ¡†æ¶çš„æ ¸å¿ƒæ‰§è¡Œç¯å¢ƒä½äºæ¨¡å‹æ¨¡å—å±‚ã€‚è¯¥å±‚ä»¥å¹¶è¡Œæ¨ç†ä¸ºæ ¸å¿ƒæœºåˆ¶ï¼Œæœ€å¤§åŒ–äº†è®¡ç®—èµ„æºçš„åˆ©ç”¨ã€‚å®ƒåŒ…å«ä¸€ä¸ªè´Ÿè´£ä»»åŠ¡é¡ºåºå’Œæ—¶é—´æ­¥ç®¡ç†çš„è°ƒåº¦å™¨ï¼Œä»¥åŠä¸€ä¸ªæ”¯æŒä¸»æµè§†é¢‘ç”Ÿæˆæ¨¡å‹å¦‚ Hunyuanã€Cogvideo å’Œ Wan ç³»åˆ—çš„æ¨¡å‹ç»„ä»¶ï¼Œè¿˜é›†æˆäº† Offloadï¼ˆç”¨äºæ˜¾å­˜å¸è½½ç®¡ç†ï¼‰å’Œ Weightï¼ˆæƒé‡ç®¡ç†ï¼‰ç­‰æ¨¡å—ï¼Œç¡®ä¿äº†åœ¨æœ‰é™ç¡¬ä»¶èµ„æºä¸‹ä¾ç„¶èƒ½å¤Ÿé«˜æ•ˆè¿è¡Œå¤§å‹æ¨¡å‹ã€‚</p>
<p>åœ¨æ¨¡å‹æ¨¡å—ä¹‹ä¸Šï¼Œæ˜¯ LightX2V çš„ä¼˜åŒ–ç®—æ³•å±‚ï¼Œè¿™ä¸€å±‚æ±‡èšäº†æ¡†æ¶çš„å…³é”®åŠ é€Ÿç­–ç•¥ã€‚å®ƒé€šè¿‡é‡åŒ–æŠ€æœ¯æ¥å‹ç¼©æ¨¡å‹ä½“ç§¯å¹¶åŠ é€Ÿè®¡ç®—ï¼›åˆ©ç”¨ç‰¹å¾ç¼“å­˜æ¥é¿å…ä¸­é—´ç»“æœçš„é‡å¤è®¡ç®—ï¼›å¹¶ç»“åˆåº•å±‚çš„ä¼˜åŒ–ç®—å­å®ç°é«˜æ•ˆæ³¨æ„åŠ›æœºåˆ¶ï¼Œå…±åŒå°†æ¨¡å‹çš„æ¨ç†æ•ˆç‡æ¨å‘æè‡´ã€‚</p>
<p>æœ€åï¼Œä½äºé¡¶å±‚çš„æ˜¯ç”¨æˆ·å…¥å£å±‚ï¼Œå®ƒä½“ç°äº† LightX2V çš„æ˜“ç”¨æ€§ã€‚ä¸ºé€‚åº”ä¸åŒåœºæ™¯ï¼Œæ¡†æ¶æä¾›äº†å¤šæ ·åŒ–çš„æ¥å…¥æ–¹å¼ï¼ŒåŒ…æ‹¬é›†æˆåˆ°æµè¡Œçš„èŠ‚ç‚¹å¼å·¥å…· ComfyUI Workflow ä¸­ã€é€šè¿‡ Gradio Web å¿«é€Ÿéƒ¨ç½²åœ¨çº¿æ¼”ç¤ºæœåŠ¡ã€æ”¯æŒæœ¬åœ°æœåŠ¡å™¨éƒ¨ç½²ï¼Œä»¥åŠæä¾›ç”¨äºç¨³å®šç”Ÿäº§ç¯å¢ƒçš„é™æ€æ¨ç†æ¥å£ã€‚</p>
<p>è¿™ç§å…¨æ ˆä¼˜åŒ–å¸¦æ¥çš„ç›´æ¥æ•ˆæœå°±æ˜¯æ˜¾å­˜é—¨æ§›é™è‡³ 8GB ä»¥ä¸‹ï¼Œå…¥é—¨çº§æ¶ˆè´¹å¡å³å¯æµç•…è¿è¡Œï¼›åœ¨ RTX 5090 ç­‰æ¶ˆè´¹çº§æ˜¾å¡ä¸Šï¼Œå·²ç»å®ç°äº† 1:1 çš„å®æ—¶ç”Ÿæˆæ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efd081acac4644ae9b19d97801dc6667~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766456709&amp;x-signature=cUTzWuyWyNXnfm7Ibspkiu3Pb%2Bc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»æŠ€æœ¯æ¶æ„æ¥çœ‹ï¼Œä¸æ˜¯ç®€å•ä¼˜åŒ–æŸä¸ªç¯èŠ‚ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€å¥—é¢å‘ä½æˆæœ¬ã€å¼ºå®æ—¶çš„è§†é¢‘ç”Ÿæˆæ¨ç†å®Œæ•´æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒèƒ½åœ¨å¼€æºç¤¾åŒºè·å¾—å¦‚æ­¤å¹¿æ³›å…³æ³¨çš„åŸå› ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡å‹ï¼Œæ›´æ˜¯ä¸€ä¸ªå¯è½åœ°ã€å¯å¤ç”¨çš„æŠ€æœ¯æ¡†æ¶ã€‚</p>
<p>å›½äº§åŒ–èŠ¯ç‰‡é€‚é…</p>
<p>å•†ä¸šåŒ–çš„æœ€åä¸€å—æ‹¼å›¾</p>
<p>æŠ€æœ¯çªç ´ä¹‹å¤–ï¼Œå•†æ±¤åœ¨ Seko 2.0 ä¸­è¿˜å®ç°äº†å¦ä¸€ä¸ªå…³é”®å¸ƒå±€ â€”â€” å…¨é¢é€‚é…å›½äº§åŒ–èŠ¯ç‰‡ã€‚</p>
<p>å€ŸåŠ© LightX2V æ¡†æ¶ï¼ŒSeko å·²æˆåŠŸæ”¯æŒå¤šæ¬¾å›½äº§ AI èŠ¯ç‰‡ï¼ŒçœŸæ­£å®ç°äº†è§†é¢‘ç”Ÿæˆæ¨¡å‹çš„å…¨å›½äº§åŒ–éƒ¨ç½²èƒ½åŠ›ã€‚</p>
<p>ä»å®é™…æ•ˆæœæ¥çœ‹ï¼Œåœ¨å›½äº§èŠ¯ç‰‡ä¸è‹±ä¼Ÿè¾¾èŠ¯ç‰‡ä¸Šç”Ÿæˆçš„è§†é¢‘ï¼Œè´¨é‡å·®è·å¹¶ä¸æ˜æ˜¾ã€‚è™½ç„¶å›½äº§èŠ¯ç‰‡çš„ç”Ÿæˆé€Ÿåº¦ç•¥æ…¢ï¼Œä½†å…¶æ€§ä»·æ¯”ä¼˜åŠ¿çªå‡ºã€‚æœªæ¥å•†æ±¤è®¡åˆ’ç»™åˆ›ä½œè€…æä¾›å›½äº§åŒ–å’Œéå›½äº§åŒ–ä¸¤å¥—æ–¹æ¡ˆï¼Œä½¿ç”¨å›½äº§åŒ–æ–¹æ¡ˆçš„ç”¨æˆ·å°†è·å¾—æ›´ä¼˜æƒ çš„ä»·æ ¼æ”¿ç­–ã€‚</p>
<p>è‹±ä¼Ÿè¾¾èŠ¯ç‰‡ï¼ˆå·¦ï¼‰å’Œå›½äº§èŠ¯ç‰‡ï¼ˆå³ï¼‰ç”Ÿæˆè§†é¢‘å¯¹æ¯”</p>
<p>è¿™ä¸ä»…ä»…æ˜¯æˆæœ¬ä¼˜åŒ–çš„æŠ€æœ¯é€‰æ‹©ï¼Œæ›´æ˜¯å¯¹å›½äº§ AI ç”Ÿæ€çš„æˆ˜ç•¥æ€§æ”¯æŒã€‚åœ¨è§†é¢‘ç”Ÿæˆè¿™ä¸€ AI åº”ç”¨çš„å…³é”®åœºæ™¯ä¸­ï¼Œæ‰“é€šä»ç®—æ³•æ¡†æ¶åˆ°ç¡¬ä»¶èŠ¯ç‰‡çš„å…¨é“¾è·¯å›½äº§åŒ–èƒ½åŠ›ï¼Œæ„å‘³ç€ä¸­å›½ AI äº§ä¸šåœ¨æ ¸å¿ƒæŠ€æœ¯ä¸Šè¿ˆå‡ºäº†å®è´¨æ€§çš„ä¸€æ­¥ã€‚</p>
<p>å½“è§†é¢‘ç”ŸæˆçœŸæ­£åšåˆ°å®æ—¶ã€ä½æˆæœ¬ã€å¯è§„æ¨¡åŒ–ï¼ŒAI çŸ­å‰§ä¹ƒè‡³æ›´å¹¿æ³›çš„è§†é¢‘å†…å®¹åˆ›ä½œï¼Œæˆ–è®¸å°†è¿æ¥çœŸæ­£çš„ç”Ÿäº§åŠ›é©å‘½ã€‚è€Œè¿™åœºé©å‘½çš„èµ·ç‚¹ï¼Œæ­£æ˜¯åƒ LightX2V è¿™æ ·ä»åº•å±‚æŠ€æœ¯å¼€å§‹çš„ç³»ç»Ÿæ€§åˆ›æ–°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç çš„ä¸‰å¤§æ ¸å¿ƒç´ å…»ï¼šå¦‚ä½•åŒæ—¶å…¼é¡¾å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€å¯æµ‹è¯•æ€§]]></title>    <link>https://juejin.cn/post/7583948178858672174</link>    <guid>https://juejin.cn/post/7583948178858672174</guid>    <pubDate>2025-12-16T02:34:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583948178858672174" data-draft-id="7583948178858426414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç çš„ä¸‰å¤§æ ¸å¿ƒç´ å…»ï¼šå¦‚ä½•åŒæ—¶å…¼é¡¾å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€å¯æµ‹è¯•æ€§"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-12-16T02:34:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç çš„ä¸‰å¤§æ ¸å¿ƒç´ å…»ï¼šå¦‚ä½•åŒæ—¶å…¼é¡¾å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€å¯æµ‹è¯•æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:34:26.000Z" title="Tue Dec 16 2025 02:34:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¿™ä¸‰è€…æ˜¯ â€œå·¥ä¸šçº§ä»£ç â€ çš„åŸºçŸ³ï¼Ÿ</h3>
<p>å¾ˆå¤šåç«¯å¼€å‘è€…éƒ½æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼š</p>
<ul>
<li>æ¥æ‰‹è€é¡¹ç›®æ—¶ï¼Œé¢å¯¹ â€œé¢æ¡å¼ä»£ç â€ï¼Œæ”¹ä¸€è¡Œæ€•å´©ä¸€ç‰‡ï¼ˆç¼ºä¹å¯ç»´æŠ¤æ€§ï¼‰ï¼›</li>
</ul>

<ul>
<li>ä¸šåŠ¡æ–°å¢éœ€æ±‚ï¼ˆå¦‚æ–°å¢æ”¯ä»˜æ–¹å¼ã€æ‰©å±•å­—æ®µï¼‰ï¼Œéœ€è¦å¤§é¢ç§¯ä¿®æ”¹åŸæœ‰é€»è¾‘ï¼ˆç¼ºä¹å¯æ‰©å±•æ€§ï¼‰ï¼›</li>
</ul>

<ul>
<li>æƒ³å†™æµ‹è¯•éªŒè¯åŠŸèƒ½ï¼Œå´å› ä»£ç è€¦åˆä¸¥é‡ï¼Œè¿ Mock ä¾èµ–éƒ½éš¾ï¼ˆç¼ºä¹å¯æµ‹è¯•æ€§ï¼‰ã€‚</li>
</ul>
<p>è¿™ä¸‰è€…çœ‹ä¼¼ç‹¬ç«‹ï¼Œå®åˆ™ç›¸è¾…ç›¸æˆï¼š</p>
<ul>
<li><strong>å¯ç»´æŠ¤æ€§æ˜¯åŸºç¡€</strong>ï¼šä»£ç èƒ½è¢«å¿«é€Ÿç†è§£ã€ä¿®æ”¹ï¼Œå‡å°‘åä½œæˆæœ¬ï¼›</li>
</ul>

<ul>
<li><strong>å¯æ‰©å±•æ€§æ˜¯å»¶ä¼¸</strong>ï¼šåŸºäºè‰¯å¥½çš„ç»´æŠ¤æ€§ï¼Œåº”å¯¹å˜åŒ–æ—¶æ— éœ€é‡æ„æ ¸å¿ƒé€»è¾‘ï¼›</li>
</ul>

<ul>
<li><strong>å¯æµ‹è¯•æ€§æ˜¯ä¿éšœ</strong>ï¼šé€šè¿‡æµ‹è¯•éªŒè¯ä¿®æ”¹çš„æ­£ç¡®æ€§ï¼Œé¿å… â€œæ”¹ä¸€å¤„å´©å¤šå¤„â€ï¼Œåè¿‡æ¥åˆå€’é€¼ä»£ç ç»“æ„ä¼˜åŒ–ã€‚</li>
</ul>
<p>æ ¸å¿ƒç›®æ ‡ï¼šå†™å‡º â€œèƒ½æŠ—ä½ä¸šåŠ¡è¿­ä»£â€ çš„ä»£ç  â€”â€” æ—¢è®©å½“å‰å¼€å‘è€…çœå¿ƒï¼Œä¹Ÿè®©æœªæ¥çš„è‡ªå·± / åŒäº‹å°‘è¸©å‘ã€‚</p>
<h3 data-id="heading-1">äºŒã€å¯ç»´æŠ¤æ€§ï¼šè®©ä»£ç  â€œå¥½æ‡‚ã€å¥½æ”¹â€</h3>
<p>å¯ç»´æŠ¤æ€§çš„æ ¸å¿ƒæ˜¯ â€œé™ä½è®¤çŸ¥è´Ÿæ‹…â€ï¼šä»»ä½•äººæ‹¿åˆ°ä»£ç ï¼Œèƒ½å¿«é€Ÿç†æ¸…é€»è¾‘ã€å®šä½é—®é¢˜ã€å®‰å…¨ä¿®æ”¹ã€‚</p>
<h4 data-id="heading-2">1. æ ¸å¿ƒåŸåˆ™ï¼šä¸€è‡´æ€§ã€ç®€æ´æ€§ã€è‡ªè§£é‡Šæ€§</h4>
<ul>
<li>ä¸€è‡´æ€§ï¼šå‘½åè§„èŒƒã€ä»£ç ç»“æ„ã€å¼‚å¸¸å¤„ç†ã€æ—¥å¿—æ ¼å¼ç»Ÿä¸€ï¼ˆå¦‚å›¢é˜Ÿçº¦å®š â€œå¸ƒå°”å€¼ç”¨ is/has å¼€å¤´â€â€œæ—¥å¿—å¿…é¡»åŒ…å«ä¸šåŠ¡æ ‡è¯†â€ï¼‰ï¼›</li>
</ul>

<ul>
<li>ç®€æ´æ€§ï¼šæ‹’ç»å†—ä½™é€»è¾‘ã€è¿‡åº¦è®¾è®¡ï¼Œç”¨æœ€å°‘çš„ä»£ç å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼›</li>
</ul>

<ul>
<li>è‡ªè§£é‡Šæ€§ï¼šä»£ç æœ¬èº«èƒ½è¯´æ˜ â€œåšä»€ä¹ˆâ€ï¼Œæ³¨é‡Šè¡¥å…… â€œä¸ºä»€ä¹ˆâ€ã€‚</li>
</ul>
<h4 data-id="heading-3">2. è½åœ°æ–¹æ³•ï¼ˆé™„åä¾‹ / æ­£ä¾‹ï¼‰</h4>
<h5 data-id="heading-4">ï¼ˆ1ï¼‰å‘½åä¸æ³¨é‡Šï¼šæ‹’ç» â€œçŒœè°œæ¸¸æˆâ€</h5>
<ul>
<li>åä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åä¾‹1ï¼šå‘½åæ¨¡ç³Š</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">processData</span><span class="hljs-params">(List <span class="hljs-comment">// listæ˜¯ä»€ä¹ˆï¼Ÿç”¨æˆ·åˆ—è¡¨ï¼Ÿè®¢å•åˆ—è¡¨ï¼Ÿ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">String</span> s : list) {
        <span class="hljs-keyword">if</span> (s.length() &gt; <span class="hljs-number">6</span>) {
            <span class="hljs-comment">// åšæŸäº›æ“ä½œ</span>
        }
    }
}
<span class="hljs-comment">// åä¾‹2ï¼šæ³¨é‡Šå†—ä½™/æ— æ•ˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> add(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) {
    <span class="hljs-comment">// aåŠ bï¼Œè¿”å›ç»“æœï¼ˆä»£ç æœ¬èº«å·²è¯´æ˜ï¼Œæ³¨é‡Šå¤šä½™ï¼‰</span>
    <span class="hljs-keyword">return</span> a + b;
}
</span></span></code></pre>
<ul>
<li>æ­£ä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ­£ä¾‹1ï¼šå‘½åç²¾å‡†</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">filterInvalidUserIds</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">String</span>&gt; userIds</span>) { <span class="hljs-comment">// æ˜ç¡®æ˜¯â€œè¿‡æ»¤æ— æ•ˆç”¨æˆ·IDâ€</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-title class_">String</span> userId : userIds) {
        <span class="hljs-keyword">if</span> (userId.<span class="hljs-title function_">length</span>() &gt; <span class="hljs-number">6</span>) { <span class="hljs-comment">// ä¸ºä»€ä¹ˆæ˜¯6ï¼Ÿæ³¨é‡Šè¡¥å……èƒŒæ™¯</span>
            <span class="hljs-comment">// å…¼å®¹è€ç³»ç»Ÿï¼šè€ç”¨æˆ·IDä¸º6ä½ä»¥ä¸Šï¼Œæ–°ç”¨æˆ·ä¸º6ä½ï¼Œä»…ä¿ç•™æ–°ç”¨æˆ·ID</span>
            validUserIds.<span class="hljs-title function_">add</span>(userId);
        }
    }
}
</code></pre>
<h5 data-id="heading-5">ï¼ˆ2ï¼‰æ¨¡å—åŒ–æ‹†åˆ†ï¼šæ‹’ç» â€œå¤§æ³¥çƒä»£ç â€</h5>
<ul>
<li>åä¾‹ï¼šä¸€ä¸ªUserServiceåŒ…å«ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ä¿®æ”¹ã€æƒé™æ ¡éªŒã€è®¢å•æŸ¥è¯¢ç­‰æ‰€æœ‰é€»è¾‘ï¼Œä¸Šåƒè¡Œä»£ç ï¼›</li>
</ul>

<ul>
<li>æ­£ä¾‹ï¼šæŒ‰åŠŸèƒ½æ‹†åˆ†æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">com.example.user
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ register/  <span class="hljs-comment"># æ³¨å†Œç›¸å…³</span>
â”‚   â”‚   â”œâ”€â”€ UserRegisterService.java  <span class="hljs-comment"># æ³¨å†Œæ ¸å¿ƒé€»è¾‘</span>
â”‚   â”‚   â””â”€â”€ UserRegisterValidator.java  <span class="hljs-comment"># æ³¨å†Œå‚æ•°æ ¡éªŒ</span>
â”‚   â”œâ”€â”€ login/     <span class="hljs-comment"># ç™»å½•ç›¸å…³</span>
â”‚   â””â”€â”€ profile/   <span class="hljs-comment"># ä¸ªäººä¿¡æ¯ç›¸å…³</span>
â””â”€â”€ model/
    â”œâ”€â”€ dto/       <span class="hljs-comment"># å…¥å‚/å‡ºå‚DTO</span>
    â””â”€â”€ po/        <span class="hljs-comment"># æ•°æ®åº“å®ä½“</span>
</code></pre>
<h5 data-id="heading-6">ï¼ˆ3ï¼‰æ§åˆ¶é€»è¾‘å¤æ‚åº¦ï¼šæ‹’ç» â€œåµŒå¥—åœ°ç‹±â€</h5>
<ul>
<li>åä¾‹ï¼šå¤šå±‚ if-else åµŒå¥—ï¼Œé€»è¾‘ç»•åœˆï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql">public String getDiscount(<span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span>, <span class="hljs-keyword">Order</span> <span class="hljs-keyword">order</span>) {
    if (<span class="hljs-keyword">user</span> <span class="hljs-operator">!=</span> <span class="hljs-keyword">null</span>) {
        if (user.isVIP()) {
            if (order.getAmount().compareTo(<span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-number">1000</span>)) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> "8æŠ˜";
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> "9æŠ˜";
            }
        } <span class="hljs-keyword">else</span> {
            if (order.getAmount().compareTo(<span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-number">1000</span>)) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> "9.5æŠ˜";
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> "æ— æŠ˜æ‰£";
            }
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> "æ— æŠ˜æ‰£";
    }
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šæ‰å¹³åŒ–é€»è¾‘ï¼Œç”¨ â€œå«è¯­å¥â€ æå‰è¿”å›ï¼Œæˆ–ç”¨ç­–ç•¥æ¨¡å¼ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getDiscount</span>(<span class="hljs-params">User user, Order order</span>) {
    <span class="hljs-comment">// å«è¯­å¥ï¼šæå‰å¤„ç†å¼‚å¸¸åœºæ™¯</span>
    <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span> || !user.<span class="hljs-title function_">isVIP</span>()) {
        <span class="hljs-keyword">return</span> order.<span class="hljs-title function_">getAmount</span>().<span class="hljs-title function_">compareTo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">1000</span>)) &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">"9.5æŠ˜"</span> : <span class="hljs-string">"æ— æŠ˜æ‰£"</span>;
    }
    <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ç®€åŒ–</span>
    <span class="hljs-keyword">return</span> order.<span class="hljs-title function_">getAmount</span>().<span class="hljs-title function_">compareTo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">1000</span>)) &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">"8æŠ˜"</span> : <span class="hljs-string">"9æŠ˜"</span>;
}
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€å¯æ‰©å±•æ€§ï¼šè®©ä»£ç  â€œèƒ½åŠ ã€èƒ½æ”¹â€</h3>
<p>å¯æ‰©å±•æ€§çš„æ ¸å¿ƒæ˜¯ â€œæ‹¥æŠ±å˜åŒ–â€ï¼šå½“ä¸šåŠ¡æ–°å¢éœ€æ±‚ã€ä¿®æ”¹è§„åˆ™æ—¶ï¼Œæ— éœ€é‡æ„æ ¸å¿ƒé€»è¾‘ï¼Œä»…é€šè¿‡ â€œæ–°å¢ä»£ç â€ æˆ– â€œé…ç½®è°ƒæ•´â€ å®ç°ã€‚</p>
<h4 data-id="heading-8">1. æ ¸å¿ƒåŸåˆ™ï¼šå¼€é—­åŸåˆ™ã€ä¾èµ–æŠ½è±¡ã€æœ€å°ä¿®æ”¹</h4>
<ul>
<li>å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›</li>
</ul>

<ul>
<li>ä¾èµ–æŠ½è±¡ï¼šä¾èµ–æ¥å£ / æŠ½è±¡ç±»ï¼Œè€Œéå…·ä½“å®ç°ï¼›</li>
</ul>

<ul>
<li>æœ€å°ä¿®æ”¹ï¼šæ–°å¢åŠŸèƒ½æ—¶ï¼Œä¿®æ”¹çš„ä»£ç è¡Œæ•°è¶Šå°‘è¶Šå¥½ã€‚</li>
</ul>
<h4 data-id="heading-9">2. è½åœ°æ–¹æ³•ï¼ˆé™„åä¾‹ / æ­£ä¾‹ï¼‰</h4>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰é¢å‘æ¥å£ç¼–ç¨‹ï¼šè§£è€¦å®ç°ä¸è°ƒç”¨</h5>
<ul>
<li>åä¾‹ï¼šç¡¬ç¼–ç ä¾èµ–å…·ä½“å®ç°ï¼Œæ–°å¢åŠŸèƒ½éœ€ä¿®æ”¹åŸæœ‰é€»è¾‘ï¼š</li>
</ul>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> OrderPaymentService {
    // ç¡¬ç¼–ç ä¾èµ–æ”¯ä»˜å®å®ç°ï¼Œæ–°å¢å¾®ä¿¡æ”¯ä»˜éœ€ä¿®æ”¹æ­¤ç±»
    <span class="hljs-keyword">private</span> AlipayService alipayService = <span class="hljs-built_in">new</span> AlipayService();
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> pay(<span class="hljs-keyword">Order</span> <span class="hljs-keyword">order</span>) {
        <span class="hljs-keyword">return</span> alipayService.pay(<span class="hljs-keyword">order</span>.getOrderNo(), <span class="hljs-keyword">order</span>.getAmount());
    }
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šä¾èµ–æ¥å£ï¼Œæ–°å¢å®ç°æ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å®šä¹‰æ”¯ä»˜æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentProvider</span> {
    <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">pay</span>(<span class="hljs-title class_">String</span> orderNo, <span class="hljs-title class_">BigDecimal</span> amount);
}
<span class="hljs-comment">// 2. æ”¯ä»˜å®å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlipayProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentProvider</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderNo, BigDecimal amount</span>) { <span class="hljs-comment">/* æ”¯ä»˜å®é€»è¾‘ */</span> }
}
<span class="hljs-comment">// 3. å¾®ä¿¡æ”¯ä»˜å®ç°ï¼ˆæ–°å¢ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WechatPayProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentProvider</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderNo, BigDecimal amount</span>) { <span class="hljs-comment">/* å¾®ä¿¡é€»è¾‘ */</span> }
}
<span class="hljs-comment">// 4. æ ¸å¿ƒæœåŠ¡ä¾èµ–æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderPaymentService</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">PaymentProvider</span> paymentProvider;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥ï¼Œçµæ´»åˆ‡æ¢å®ç°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">OrderPaymentService</span>(<span class="hljs-title class_">PaymentProvider</span> paymentProvider) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">paymentProvider</span> = paymentProvider;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">Order order</span>) {
        <span class="hljs-keyword">return</span> paymentProvider.<span class="hljs-title function_">pay</span>(order.<span class="hljs-title function_">getOrderNo</span>(), order.<span class="hljs-title function_">getAmount</span>());
    }
}
</code></pre>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰é…ç½®åŒ–ä¸æ’ä»¶åŒ–ï¼šé¿å…ç¡¬ç¼–ç è§„åˆ™</h5>
<ul>
<li>åä¾‹ï¼šå°†ä¸šåŠ¡è§„åˆ™å†™æ­»åœ¨ä»£ç ä¸­ï¼Œä¿®æ”¹è§„åˆ™éœ€é‡æ–°éƒ¨ç½²ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiscountService</span> {
    <span class="hljs-comment">// ç¡¬ç¼–ç ï¼šVIPæŠ˜æ‰£8æŠ˜ï¼Œæ™®é€šç”¨æˆ·9.5æŠ˜ï¼Œä¿®æ”¹éœ€æ”¹ä»£ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">BigDecimal</span> <span class="hljs-title function_">calculateDiscount</span>(<span class="hljs-params">User user</span>) {
        <span class="hljs-keyword">return</span> user.<span class="hljs-title function_">isVIP</span>() ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.8"</span>) : <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.95"</span>);
    }
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šè§„åˆ™é…ç½®åŒ–ï¼Œä¿®æ”¹é…ç½®æ— éœ€æ”¹ä»£ç ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</span>
discount:
  vip: <span class="hljs-number">0.8</span>
  normal: <span class="hljs-number">0.95</span>
<span class="hljs-comment">// 2. ä»£ç è¯»å–é…ç½®</span>
<span class="hljs-meta">@ConfigurationProperties(prefix = <span class="hljs-string">"discount"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiscountProperties</span> {
    <span class="hljs-keyword">private</span> BigDecimal vip;
    <span class="hljs-keyword">private</span> BigDecimal normal;
    <span class="hljs-comment">// getter/setter</span>
}
<span class="hljs-comment">// 3. æ ¸å¿ƒæœåŠ¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiscountService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DiscountProperties discountProperties;
    
    <span class="hljs-keyword">public</span> BigDecimal calculateDiscount(User user) {
        <span class="hljs-keyword">return</span> user.isVIP() ? discountProperties.getVip() : discountProperties.getNormal();
    }
}
</code></pre>
<h5 data-id="heading-12">ï¼ˆ3ï¼‰é¢„ç•™æ‰©å±•ç‚¹ï¼šæå‰è§„åˆ’å˜åŒ–åœºæ™¯</h5>
<p>æ ¸å¿ƒä¸šåŠ¡ä¸­ï¼Œé¢„åˆ¤å¯èƒ½çš„å˜åŒ–ï¼Œé¢„ç•™æ‰©å±•æ¥å£ï¼Œé¿å…åç»­é‡æ„ã€‚</p>
<ul>
<li>ç¤ºä¾‹ï¼šç”µå•†è®¢å•çŠ¶æ€æµè½¬ï¼Œé¢„ç•™ â€œçŠ¶æ€å˜æ›´é’©å­â€ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderStatusMachine</span> {
    <span class="hljs-comment">// çŠ¶æ€å˜æ›´å¤„ç†å™¨ï¼Œæ”¯æŒæ‰©å±•ä¸åŒçŠ¶æ€çš„è‡ªå®šä¹‰é€»è¾‘</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">OrderStatus</span>, <span class="hljs-title class_">OrderStatusHandler</span>&gt; handlers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();
    
    <span class="hljs-comment">// æ³¨å†Œå¤„ç†å™¨ï¼ˆæ‰©å±•ç‚¹ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">registerHandler</span>(<span class="hljs-params">OrderStatus status, OrderStatusHandler handler</span>) {
        handlers.<span class="hljs-title function_">put</span>(status, handler);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">changeStatus</span>(<span class="hljs-params">Order order, OrderStatus newStatus</span>) {
        <span class="hljs-comment">// æ‰§è¡Œé»˜è®¤é€»è¾‘</span>
        order.<span class="hljs-title function_">setStatus</span>(newStatus);
        <span class="hljs-comment">// æ‰§è¡Œæ‰©å±•é€»è¾‘ï¼ˆå¦‚è®¢å•å®Œæˆåå‘é€é€šçŸ¥ã€æ›´æ–°åº“å­˜ï¼‰</span>
        <span class="hljs-title class_">OrderStatusHandler</span> handler = handlers.<span class="hljs-title function_">get</span>(newStatus);
        <span class="hljs-keyword">if</span> (handler != <span class="hljs-literal">null</span>) {
            handler.<span class="hljs-title function_">handle</span>(order);
        }
    }
}
<span class="hljs-comment">// æ‰©å±•ï¼šè®¢å•å®Œæˆåçš„å¤„ç†é€»è¾‘</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCompletedHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderStatusHandler</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">Order order</span>) {
        <span class="hljs-comment">// å‘é€é€šçŸ¥ã€æ›´æ–°åº“å­˜ç­‰</span>
    }
}
</code></pre>
<h3 data-id="heading-13">å››ã€å¯æµ‹è¯•æ€§ï¼šè®©ä»£ç  â€œèƒ½æµ‹ã€æ˜“æµ‹â€</h3>
<p>å¯æµ‹è¯•æ€§çš„æ ¸å¿ƒæ˜¯ â€œèƒ½ç‹¬ç«‹éªŒè¯é€»è¾‘æ­£ç¡®æ€§â€ï¼šæ— éœ€ä¾èµ–å¤æ‚ç¯å¢ƒï¼Œå°±èƒ½é€šè¿‡æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ ¸å¿ƒåœºæ™¯ã€‚</p>
<h4 data-id="heading-14">1. æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–éš”ç¦»ã€è¾“å…¥è¾“å‡ºæ˜ç¡®ã€æ— å‰¯ä½œç”¨</h4>
<ul>
<li>ä¾èµ–éš”ç¦»ï¼šæ ¸å¿ƒé€»è¾‘ä¸å¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ã€ç¼“å­˜ã€å¤–éƒ¨æ¥å£ï¼‰è§£è€¦ï¼›</li>
</ul>

<ul>
<li>è¾“å…¥è¾“å‡ºæ˜ç¡®ï¼šå‡½æ•° / æ–¹æ³•çš„è¾“å…¥ï¼ˆå‚æ•°ï¼‰å’Œè¾“å‡ºï¼ˆè¿”å›å€¼ï¼‰æ¸…æ™°ï¼Œæ— æ¨¡ç³ŠçŠ¶æ€ï¼›</li>
</ul>

<ul>
<li>æ— å‰¯ä½œç”¨ï¼šé¿å…ä¿®æ”¹å…¨å±€å˜é‡ã€é™æ€å˜é‡ï¼Œç›¸åŒè¾“å…¥å§‹ç»ˆå¾—åˆ°ç›¸åŒè¾“å‡ºï¼ˆçº¯å‡½æ•°ä¼˜å…ˆï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-15">2. è½åœ°æ–¹æ³•ï¼ˆé™„åä¾‹ / æ­£ä¾‹ï¼‰</h4>
<h5 data-id="heading-16">ï¼ˆ1ï¼‰ä¾èµ–æ³¨å…¥ï¼šæ›¿æ¢å¤–éƒ¨ä¾èµ–ä¸º Mock</h5>
<ul>
<li>åä¾‹ï¼šç¡¬ç¼–ç ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼Œæ— æ³• Mockï¼Œæµ‹è¯•å›°éš¾ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// ç¡¬ç¼–ç ä¾èµ–åº“å­˜æœåŠ¡ï¼Œæµ‹è¯•æ—¶éœ€å¯åŠ¨åº“å­˜æœåŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">StockService</span> <span class="hljs-variable">stockService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StockServiceImpl</span>();
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// æ‰£å‡åº“å­˜ï¼ˆä¾èµ–çœŸå®åº“å­˜æœåŠ¡ï¼‰</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">deductSuccess</span> <span class="hljs-operator">=</span> stockService.deduct(order.getProductId(), order.getQuantity());
        <span class="hljs-keyword">if</span> (deductSuccess) {
            <span class="hljs-comment">// åˆ›å»ºè®¢å•</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šæ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–ï¼Œæµ‹è¯•æ—¶ç”¨ Mock æ›¿æ¢ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> StockService stockService;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderMapper orderMapper;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥ï¼Œæµ‹è¯•æ—¶å¯ä¼ å…¥Mockå¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderService</span><span class="hljs-params">(StockService stockService, OrderMapper orderMapper)</span> {
        <span class="hljs-built_in">this</span>.stockService = stockService;
        <span class="hljs-built_in">this</span>.orderMapper = orderMapper;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">deductSuccess</span> <span class="hljs-operator">=</span> stockService.deduct(order.getProductId(), order.getQuantity());
        <span class="hljs-keyword">if</span> (deductSuccess) {
            orderMapper.insert(order);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ï¼ˆMockitoï¼‰</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCreateOrder_success</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. Mockä¾èµ–</span>
    <span class="hljs-type">StockService</span> <span class="hljs-variable">mockStockService</span> <span class="hljs-operator">=</span> Mockito.mock(StockService.class);
    <span class="hljs-type">OrderMapper</span> <span class="hljs-variable">mockOrderMapper</span> <span class="hljs-operator">=</span> Mockito.mock(OrderMapper.class);
    Mockito.when(mockStockService.deduct(<span class="hljs-string">"product_1001"</span>, <span class="hljs-number">2</span>)).thenReturn(<span class="hljs-literal">true</span>);
    
    <span class="hljs-comment">// 2. åˆå§‹åŒ–æœåŠ¡ï¼ˆæ³¨å…¥Mockï¼‰</span>
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">orderService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>(mockStockService, mockOrderMapper);
    
    <span class="hljs-comment">// 3. æ‰§è¡Œæµ‹è¯•</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_2001"</span>, <span class="hljs-string">"product_1001"</span>, <span class="hljs-number">2</span>);
    <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> orderService.createOrder(order);
    
    <span class="hljs-comment">// 4. éªŒè¯ç»“æœ</span>
    Assert.assertTrue(result);
    Mockito.verify(mockStockService, Mockito.times(<span class="hljs-number">1</span>)).deduct(<span class="hljs-string">"product_1001"</span>, <span class="hljs-number">2</span>);
    Mockito.verify(mockOrderMapper, Mockito.times(<span class="hljs-number">1</span>)).insert(order);
}
</code></pre>
<h5 data-id="heading-17">ï¼ˆ2ï¼‰æ‹†åˆ† â€œçº¯é€»è¾‘â€ ä¸ â€œå‰¯ä½œç”¨ä»£ç â€</h5>
<ul>
<li>åä¾‹ï¼šå‡½æ•°ä¸­æ··åˆä¸šåŠ¡é€»è¾‘ä¸æ•°æ®åº“æ“ä½œï¼Œéš¾ä»¥æµ‹è¯•æ ¸å¿ƒé€»è¾‘ï¼š</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">public BigDecimal calculateOrderAmount(List&gt; items) {
    BigDecimal <span class="hljs-attr">amount</span> = BigDecimal.ZERO<span class="hljs-comment">;</span>
    for (OrderItem item : items) {
        // ä¸šåŠ¡é€»è¾‘ï¼šè®¡ç®—é‡‘é¢ï¼ˆå«æŠ˜æ‰£ã€ç¨è´¹ï¼‰
        BigDecimal <span class="hljs-attr">itemAmount</span> = item.getPrice().multiply(new BigDecimal(item.getQuantity()))<span class="hljs-comment">;</span>
        <span class="hljs-attr">amount</span> = amount.add(itemAmount.multiply(new BigDecimal(<span class="hljs-string">"0.98"</span>)))<span class="hljs-comment">; // 98æŠ˜</span>
    }
    // å‰¯ä½œç”¨ï¼šå†™å…¥æ•°æ®åº“æ—¥å¿—ï¼ˆæ··åˆé€»è¾‘ï¼Œæµ‹è¯•éœ€ä¾èµ–æ•°æ®åº“ï¼‰
    orderLogMapper.insert(new OrderLog(amount))<span class="hljs-comment">;</span>
    return amount<span class="hljs-comment">;</span>
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šæ‹†åˆ†çº¯é€»è¾‘å‡½æ•°ï¼ˆæ— å‰¯ä½œç”¨ï¼‰å’Œå‰¯ä½œç”¨å‡½æ•°ï¼Œåˆ†åˆ«æµ‹è¯•ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// çº¯é€»è¾‘å‡½æ•°ï¼šä»…è®¡ç®—é‡‘é¢ï¼Œæ— ä¾èµ–ã€æ— å‰¯ä½œç”¨ï¼Œæ˜“æµ‹è¯•</span>
<span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">calculateOrderAmount</span><span class="hljs-params">(List&lt;OrderItem&gt; items)</span> {
    <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> BigDecimal.ZERO;
    <span class="hljs-keyword">for</span> (OrderItem item : items) {
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">itemAmount</span> <span class="hljs-operator">=</span> item.getPrice().multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(item.getQuantity()));
        amount = amount.add(itemAmount.multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.98"</span>)));
    }
    <span class="hljs-keyword">return</span> amount;
}
<span class="hljs-comment">// å‰¯ä½œç”¨å‡½æ•°ï¼šå¤„ç†æ•°æ®åº“æ“ä½œï¼Œä¾èµ–çº¯é€»è¾‘å‡½æ•°</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveOrderLog</span><span class="hljs-params">(List&lt;OrderItem&gt; items)</span> {
    <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> calculateOrderAmount(items);
    orderLogMapper.insert(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderLog</span>(amount));
}
<span class="hljs-comment">// æµ‹è¯•çº¯é€»è¾‘ï¼ˆæ— éœ€ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼‰</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCalculateOrderAmount</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å‡†å¤‡æµ‹è¯•æ•°æ®</span>
    List&gt; items = Arrays.asList(
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-string">"product_1"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"100"</span>), <span class="hljs-number">2</span>),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-string">"product_2"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"200"</span>), <span class="hljs-number">1</span>)
    );
    <span class="hljs-comment">// æ‰§è¡Œæµ‹è¯•</span>
    <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> calculateOrderAmount(items);
    <span class="hljs-comment">// éªŒè¯ç»“æœï¼ˆ100*2 + 200*1 = 400ï¼Œ98æŠ˜åä¸º392ï¼‰</span>
    Assert.assertEquals(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"392.00"</span>), result.setScale(<span class="hljs-number">2</span>));
}
<span class="hljs-comment">// æµ‹è¯•å‰¯ä½œç”¨å‡½æ•°ï¼ˆMockæ•°æ®åº“ä¾èµ–ï¼‰</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSaveOrderLog</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// Mockä¾èµ–</span>
    <span class="hljs-type">OrderLogMapper</span> <span class="hljs-variable">mockMapper</span> <span class="hljs-operator">=</span> Mockito.mock(OrderLogMapper.class);
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">orderService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>(mockStockService, mockOrderMapper, mockMapper);
    
    <span class="hljs-comment">// å‡†å¤‡æ•°æ®</span>
    List&gt; items = Arrays.asList(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-string">"product_1"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"100"</span>), <span class="hljs-number">1</span>));
    
    <span class="hljs-comment">// æ‰§è¡Œæµ‹è¯•</span>
    orderService.saveOrderLog(items);
    
    <span class="hljs-comment">// éªŒè¯ï¼šæ•°æ®åº“æ—¥å¿—è¢«æ­£ç¡®æ’å…¥</span>
    Mockito.verify(mockMapper, Mockito.times(<span class="hljs-number">1</span>)).insert(
        Mockito.argThat(log -&gt; log.getAmount().equals(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"98.00"</span>)))
    );
}
</code></pre>
<h5 data-id="heading-18">ï¼ˆ3ï¼‰é¿å…é™æ€æ–¹æ³•ä¾èµ–ï¼šé™æ€æ–¹æ³•éš¾ä»¥ Mock</h5>
<ul>
<li>åä¾‹ï¼šä¾èµ–é™æ€å·¥å…·ç±»ï¼Œæµ‹è¯•æ—¶æ— æ³•æ›¿æ¢é€»è¾‘ï¼ˆå¦‚æµ‹è¯• â€œè¿‡æœŸæ—¶é—´â€ åœºæ™¯ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderValidator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">validate</span>(<span class="hljs-params">Order order</span>) {
        <span class="hljs-comment">// ä¾èµ–é™æ€æ–¹æ³•ï¼Œæ— æ³•Mockâ€œæ—¶é—´â€ç›¸å…³é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DateUtils</span>.<span class="hljs-title function_">isAfterNow</span>(order.<span class="hljs-title function_">getPayTime</span>()) <span class="hljs-comment">// é™æ€æ–¹æ³•ï¼šåˆ¤æ–­ä»˜æ¬¾æ—¶é—´æ˜¯å¦åœ¨å½“å‰ä¹‹å</span>
                &amp;&amp; <span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isNotBlank</span>(order.<span class="hljs-title function_">getOrderNo</span>());
    }
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šå°†é™æ€å·¥å…·ç±»å°è£…ä¸ºå®ä¾‹ä¾èµ–ï¼Œæµ‹è¯•æ—¶å¯ Mockï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å°è£…é™æ€å·¥å…·ä¸ºå®ä¾‹ç±»ï¼ˆè§£è€¦é™æ€ä¾èµ–ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeValidator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isAfterNow</span>(<span class="hljs-params"><span class="hljs-built_in">Date</span> date</span>) {
        <span class="hljs-keyword">return</span> date.<span class="hljs-title function_">after</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()); <span class="hljs-comment">// åº•å±‚ä»å¯è°ƒç”¨DateUtilsï¼Œä½†å¯¹å¤–æä¾›å®ä¾‹æ–¹æ³•</span>
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringValidator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isNotBlank</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> str</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isNotBlank</span>(str);
    }
}
<span class="hljs-comment">// 2. ä¾èµ–æ³¨å…¥å®ä¾‹ï¼Œè€Œéé™æ€æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderValidator</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">TimeValidator</span> timeValidator;
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">StringValidator</span> stringValidator;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">OrderValidator</span>(<span class="hljs-title class_">TimeValidator</span> timeValidator, <span class="hljs-title class_">StringValidator</span> stringValidator) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">timeValidator</span> = timeValidator;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stringValidator</span> = stringValidator;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">validate</span>(<span class="hljs-params">Order order</span>) {
        <span class="hljs-keyword">return</span> timeValidator.<span class="hljs-title function_">isAfterNow</span>(order.<span class="hljs-title function_">getPayTime</span>()) 
                &amp;&amp; stringValidator.<span class="hljs-title function_">isNotBlank</span>(order.<span class="hljs-title function_">getOrderNo</span>());
    }
}
<span class="hljs-comment">// 3. æµ‹è¯•ç”¨ä¾‹ï¼šMockæ—¶é—´é€»è¾‘ï¼Œè¦†ç›–â€œè¿‡æœŸâ€åœºæ™¯</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">testValidate_fail_whenPayTimeExpired</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// Mockå·¥å…·ç±»å®ä¾‹</span>
    <span class="hljs-title class_">TimeValidator</span> mockTimeValidator = <span class="hljs-title class_">Mockito</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-title class_">TimeValidator</span>.<span class="hljs-property">class</span>);
    <span class="hljs-title class_">StringValidator</span> mockStringValidator = <span class="hljs-title class_">Mockito</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-title class_">StringValidator</span>.<span class="hljs-property">class</span>);
    
    <span class="hljs-comment">// å‡†å¤‡æµ‹è¯•æ•°æ®ï¼ˆä»˜æ¬¾æ—¶é—´å·²è¿‡æœŸï¼‰</span>
    <span class="hljs-title class_">Order</span> order = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_2001"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>() - <span class="hljs-number">3600000</span>));
    
    <span class="hljs-comment">// è®¾å®šMockè¡Œä¸ºï¼šæ¨¡æ‹Ÿâ€œä»˜æ¬¾æ—¶é—´å·²è¿‡æœŸâ€</span>
    <span class="hljs-title class_">Mockito</span>.<span class="hljs-title function_">when</span>(mockTimeValidator.<span class="hljs-title function_">isAfterNow</span>(order.<span class="hljs-title function_">getPayTime</span>())).<span class="hljs-title function_">thenReturn</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-title class_">Mockito</span>.<span class="hljs-title function_">when</span>(mockStringValidator.<span class="hljs-title function_">isNotBlank</span>(order.<span class="hljs-title function_">getOrderNo</span>())).<span class="hljs-title function_">thenReturn</span>(<span class="hljs-literal">true</span>);
    
    <span class="hljs-comment">// æ‰§è¡Œæµ‹è¯•</span>
    <span class="hljs-title class_">OrderValidator</span> validator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderValidator</span>(mockTimeValidator, mockStringValidator);
    <span class="hljs-built_in">boolean</span> result = validator.<span class="hljs-title function_">validate</span>(order);
    
    <span class="hljs-comment">// éªŒè¯ç»“æœï¼šéªŒè¯å¤±è´¥</span>
    <span class="hljs-title class_">Assert</span>.<span class="hljs-title function_">assertFalse</span>(result);
}
</code></pre>
<h5 data-id="heading-19">ï¼ˆ4ï¼‰æ§åˆ¶å‡½æ•°ç²’åº¦ï¼šé¿å… â€œå¤§å‡½æ•°â€ï¼Œå•ä¸ªå‡½æ•°ä»…åšä¸€ä»¶äº‹</h5>
<ul>
<li>åä¾‹ï¼šä¸€ä¸ªå‡½æ•°åŒ…å«å‚æ•°æ ¡éªŒã€ä¸šåŠ¡è®¡ç®—ã€å¤–éƒ¨è°ƒç”¨ï¼Œæµ‹è¯•åœºæ™¯æå¤šï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">public boolean <span class="hljs-built_in">processOrder</span>(OrderDTO orderDTO) {
    <span class="hljs-comment">// 1. å‚æ•°æ ¡éªŒ</span>
    if (orderDTO == null || StringUtils.isBlank(orderDTO.getProductId()) || orderDTO<span class="hljs-selector-class">.getQuantity</span>() 
        return false;
    }
    <span class="hljs-comment">// 2. ä¸šåŠ¡è®¡ç®—ï¼šè½¬æ¢DTOä¸ºPO</span>
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = new <span class="hljs-attribute">Order</span>();
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setOrderNo</span>(UUID.randomUUID()<span class="hljs-selector-class">.toString</span>());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setProductId</span>(orderDTO.getProductId());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setQuantity</span>(orderDTO.getQuantity());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setAmount</span>(orderDTO.getPrice()<span class="hljs-selector-class">.multiply</span>(new BigDecimal(orderDTO.getQuantity())));
    <span class="hljs-comment">// 3. å¤–éƒ¨è°ƒç”¨ï¼šæ‰£å‡åº“å­˜</span>
    boolean deductSuccess = stockService<span class="hljs-selector-class">.deduct</span>(orderDTO.getProductId(), orderDTO<span class="hljs-selector-class">.getQuantity</span>());
    if (!deductSuccess) {
        return false;
    }
    <span class="hljs-comment">// 4. æŒä¹…åŒ–ï¼šä¿å­˜è®¢å•</span>
    orderMapper<span class="hljs-selector-class">.insert</span>(order);
    return true;
}
</code></pre>
<ul>
<li>æ­£ä¾‹ï¼šæ‹†åˆ†ä¸ºå¤šä¸ªå°å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°èŒè´£å•ä¸€ï¼Œå•ç‹¬æµ‹è¯•ï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// 1. å‚æ•°æ ¡éªŒå‡½æ•°</span>
public boolean <span class="hljs-built_in">validateOrderDTO</span>(OrderDTO orderDTO) {
    return orderDTO != null 
            &amp;&amp; StringUtils<span class="hljs-selector-class">.isNotBlank</span>(orderDTO.getProductId()) 
            &amp;&amp; orderDTO<span class="hljs-selector-class">.getQuantity</span>() &gt; <span class="hljs-number">0</span>;
}
<span class="hljs-comment">// 2. DTOè½¬POå‡½æ•°ï¼ˆçº¯é€»è¾‘ï¼‰</span>
public <span class="hljs-attribute">Order</span> <span class="hljs-built_in">convertToOrder</span>(OrderDTO orderDTO) {
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = new <span class="hljs-attribute">Order</span>();
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setOrderNo</span>(UUID.randomUUID()<span class="hljs-selector-class">.toString</span>());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setProductId</span>(orderDTO.getProductId());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setQuantity</span>(orderDTO.getQuantity());
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setAmount</span>(orderDTO.getPrice()<span class="hljs-selector-class">.multiply</span>(new BigDecimal(orderDTO.getQuantity())));
    return <span class="hljs-attribute">order</span>;
}
<span class="hljs-comment">// 3. æ ¸å¿ƒæµç¨‹å‡½æ•°ï¼ˆç»„åˆå°å‡½æ•°ï¼‰</span>
public boolean <span class="hljs-built_in">processOrder</span>(OrderDTO orderDTO) {
    <span class="hljs-comment">// æ ¡éªŒ</span>
    if (!validateOrderDTO(orderDTO)) {
        return false;
    }
    <span class="hljs-comment">// è½¬æ¢</span>
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = <span class="hljs-built_in">convertToOrder</span>(orderDTO);
    <span class="hljs-comment">// æ‰£å‡åº“å­˜</span>
    boolean deductSuccess = stockService<span class="hljs-selector-class">.deduct</span>(orderDTO.getProductId(), orderDTO<span class="hljs-selector-class">.getQuantity</span>());
    if (!deductSuccess) {
        return false;
    }
    <span class="hljs-comment">// ä¿å­˜è®¢å•</span>
    orderMapper<span class="hljs-selector-class">.insert</span>(order);
    return true;
}
<span class="hljs-comment">// æµ‹è¯•ï¼šå•ç‹¬æµ‹è¯•å‚æ•°æ ¡éªŒï¼ˆæ— éœ€ä¾èµ–å…¶ä»–æœåŠ¡ï¼‰</span>
<span class="hljs-keyword">@Test</span>
public void testValidateOrderDTO_fail_whenQuantityZero() {
    OrderDTO orderDTO = new <span class="hljs-built_in">OrderDTO</span>("product_1001", new BigDecimal("<span class="hljs-number">100</span>"), <span class="hljs-number">0</span>);
    boolean result = <span class="hljs-built_in">validateOrderDTO</span>(orderDTO);
    Assert<span class="hljs-selector-class">.assertFalse</span>(result);
}
<span class="hljs-comment">// æµ‹è¯•ï¼šå•ç‹¬æµ‹è¯•DTOè½¬POï¼ˆçº¯é€»è¾‘ï¼Œæ— ä¾èµ–ï¼‰</span>
<span class="hljs-keyword">@Test</span>
public void testConvertToOrder() {
    OrderDTO orderDTO = new <span class="hljs-built_in">OrderDTO</span>("product_1001", new BigDecimal("<span class="hljs-number">100</span>"), <span class="hljs-number">2</span>);
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = <span class="hljs-built_in">convertToOrder</span>(orderDTO);
    Assert<span class="hljs-selector-class">.assertEquals</span>("product_1001", order.getProductId());
    Assert<span class="hljs-selector-class">.assertEquals</span>(new BigDecimal("<span class="hljs-number">200.00</span>"), <span class="hljs-attribute">order</span><span class="hljs-selector-class">.getAmount</span>()<span class="hljs-selector-class">.setScale</span>(<span class="hljs-number">2</span>));
}
</code></pre>
<h5 data-id="heading-20">ï¼ˆ5ï¼‰é¿å…å…¨å±€çŠ¶æ€ï¼šå…¨å±€å˜é‡ä¼šå¯¼è‡´æµ‹è¯•ç›¸äº’å¹²æ‰°</h5>
<ul>
<li>åä¾‹ï¼šä½¿ç”¨é™æ€å˜é‡ï¼ˆå…¨å±€çŠ¶æ€ï¼‰å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œé¡ºåºä¼šå½±å“ç»“æœï¼Œå¯¼è‡´æµ‹è¯•ä¸ç¨³å®šï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// å…¨å±€é™æ€å˜é‡ï¼šå­˜å‚¨å·²å¤„ç†çš„è®¢å•æ•°ï¼ˆæ‰€æœ‰å®ä¾‹å…±äº«ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">processedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šä¿å­˜è®¢å•</span>
        orderMapper.insert(order);
        processedCount++; <span class="hljs-comment">// ä¿®æ”¹å…¨å±€çŠ¶æ€ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«è¯¥å€¼</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getProcessedCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> processedCount;
    }
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹1ï¼šæ‰§è¡Œåä¼šä¿®æ”¹å…¨å±€çŠ¶æ€</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProcessOrder_case1</span><span class="hljs-params">()</span> {
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>();
    service.processOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_001"</span>));
    Assert.assertEquals(<span class="hljs-number">1</span>, service.getProcessedCount()); <span class="hljs-comment">// é¢„æœŸ1ï¼Œæ‰§è¡Œé€šè¿‡</span>
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹2ï¼šä¾èµ–æµ‹è¯•ç”¨ä¾‹1çš„æ‰§è¡Œç»“æœï¼Œé¡ºåºå˜äº†å°±å¤±è´¥</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProcessOrder_case2</span><span class="hljs-params">()</span> {
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>();
    service.processOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_002"</span>));
    <span class="hljs-comment">// è‹¥å…ˆæ‰§è¡Œcase2ï¼Œé¢„æœŸ2ä½†å®é™…æ˜¯1ï¼›è‹¥å…ˆæ‰§è¡Œcase1ï¼Œé¢„æœŸ2ä½†å®é™…æ˜¯2â€”â€”æµ‹è¯•ç»“æœä¸ç¨³å®š</span>
    Assert.assertEquals(<span class="hljs-number">2</span>, service.getProcessedCount()); 
}
</code></pre>
<p>é—®é¢˜æœ¬è´¨ï¼šå…¨å±€çŠ¶æ€æ˜¯ â€œå…±äº«èµ„æºâ€ï¼Œå¤šä¸ªæµ‹è¯•ç”¨ä¾‹ä¿®æ”¹åŒä¸€çŠ¶æ€ä¼šå¯¼è‡´ â€œæµ‹è¯•æ±¡æŸ“â€ï¼Œæµ‹è¯•ç»“æœä¾èµ–æ‰§è¡Œé¡ºåºï¼Œæ— æ³•ä¿è¯å¯é æ€§ã€‚</p>
<ul>
<li>æ­£ä¾‹ï¼šå»æ‰å…¨å±€é™æ€å˜é‡ï¼Œæ”¹ç”¨ â€œå®ä¾‹å˜é‡â€ æˆ– â€œçŠ¶æ€ä¸Šä¸‹æ–‡â€ï¼Œæ¯ä¸ªå®ä¾‹ç‹¬ç«‹æŒæœ‰çŠ¶æ€ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// å®ä¾‹å˜é‡ï¼šæ¯ä¸ªæœåŠ¡å®ä¾‹å•ç‹¬æŒæœ‰çŠ¶æ€ï¼Œä¸å…±äº«</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">processedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderMapper orderMapper;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderService</span><span class="hljs-params">(OrderMapper orderMapper)</span> {
        <span class="hljs-built_in">this</span>.orderMapper = orderMapper;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
        orderMapper.insert(order);
        processedCount++; <span class="hljs-comment">// ä»…ä¿®æ”¹å½“å‰å®ä¾‹çš„çŠ¶æ€ï¼Œä¸å½±å“å…¶ä»–å®ä¾‹</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getProcessedCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> processedCount;
    }
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹1ï¼šç‹¬ç«‹å®ä¾‹ï¼ŒçŠ¶æ€éš”ç¦»</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProcessOrder_case1</span><span class="hljs-params">()</span> {
    <span class="hljs-type">OrderMapper</span> <span class="hljs-variable">mockMapper</span> <span class="hljs-operator">=</span> Mockito.mock(OrderMapper.class);
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">service1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>(mockMapper); <span class="hljs-comment">// å®ä¾‹1</span>
    service1.processOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_001"</span>));
    Assert.assertEquals(<span class="hljs-number">1</span>, service1.getProcessedCount()); <span class="hljs-comment">// ç¨³å®šé€šè¿‡</span>
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹2ï¼šç‹¬ç«‹å®ä¾‹ï¼Œä¸case1çŠ¶æ€äº’ä¸å¹²æ‰°</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProcessOrder_case2</span><span class="hljs-params">()</span> {
    <span class="hljs-type">OrderMapper</span> <span class="hljs-variable">mockMapper</span> <span class="hljs-operator">=</span> Mockito.mock(OrderMapper.class);
    <span class="hljs-type">OrderService</span> <span class="hljs-variable">service2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>(mockMapper); <span class="hljs-comment">// å®ä¾‹2</span>
    service2.processOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"order_002"</span>));
    Assert.assertEquals(<span class="hljs-number">1</span>, service2.getProcessedCount()); <span class="hljs-comment">// ç¨³å®šé€šè¿‡ï¼Œä¸æ‰§è¡Œé¡ºåºæ— å…³</span>
}
</code></pre>
<ul>
<li>è¿›é˜¶åœºæ™¯ï¼šè‹¥ç¡®å®éœ€è¦ â€œå…±äº«çŠ¶æ€â€ï¼ˆå¦‚ç»Ÿè®¡å…¨ç³»ç»Ÿè®¢å•æ•°ï¼‰ï¼Œåº”é€šè¿‡ â€œå¤–éƒ¨å­˜å‚¨â€ï¼ˆå¦‚æ•°æ®åº“ã€Redisï¼‰è€Œéå†…å­˜å…¨å±€å˜é‡ï¼š</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OrderStatisticService</span> {
    <span class="hljs-keyword">private</span> final RedisTemplate&gt; redisTemplate;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final String KEY = <span class="hljs-string">"order:processed:count"</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">OrderStatisticService</span>(<span class="hljs-params">RedisTemplateTemplate</span>)</span> {
        <span class="hljs-keyword">this</span>.redisTemplate = redisTemplate;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">incrementCount</span>()</span> {
        <span class="hljs-comment">// ç”¨RedisåŸå­æ“ä½œè®°å½•çŠ¶æ€ï¼Œæµ‹è¯•æ—¶å¯Mock Redis</span>
        redisTemplate.opsForValue().increment(KEY, <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getCount</span>()</span> {
        <span class="hljs-keyword">return</span> redisTemplate.opsForValue().<span class="hljs-keyword">get</span>(KEY);
    }
}
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ï¼šMock Redisï¼Œéš”ç¦»å¤–éƒ¨ä¾èµ–</span>
@Test
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testIncrementCount</span>()</span> {
    RedisTemplateRedis = Mockito.mock(RedisTemplate.<span class="hljs-keyword">class</span>);
    ValueOperations&gt; mockOps = Mockito.mock(ValueOperations.<span class="hljs-keyword">class</span>);
    Mockito.<span class="hljs-keyword">when</span>(mockRedis.opsForValue()).thenReturn(mockOps);
    Mockito.<span class="hljs-keyword">when</span>(mockOps.increment(KEY, <span class="hljs-number">1</span>)).thenReturn(<span class="hljs-number">1</span>);
    
    OrderStatisticService service = <span class="hljs-keyword">new</span> OrderStatisticService(mockRedis);
    service.incrementCount();
    
    Mockito.verify(mockOps, Mockito.times(<span class="hljs-number">1</span>)).increment(KEY, <span class="hljs-number">1</span>);
    Assert.assertEquals(<span class="hljs-number">1</span>, service.getCount().intValue());
}
</code></pre>
<h4 data-id="heading-21">3. å¯æµ‹è¯•æ€§å¸¸è§è¯¯åŒº</h4>






























<table><thead><tr><th>è¯¯åŒº</th><th>åæœ</th><th>ä¿®æ­£æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ä¾èµ–å…¨å±€é™æ€å˜é‡ / å•ä¾‹ï¼ˆæ— æ³¨å…¥ï¼‰</td><td>æµ‹è¯•ç”¨ä¾‹ç›¸äº’æ±¡æŸ“ï¼Œç»“æœä¸ç¨³å®š</td><td>æ”¹ç”¨å®ä¾‹å˜é‡ï¼Œå•ä¾‹é€šè¿‡ä¾èµ–æ³¨å…¥æš´éœ²</td></tr><tr><td>å‡½æ•°è¿”å› voidï¼Œæ— è¾“å‡º</td><td>æ— æ³•éªŒè¯å‡½æ•°æ‰§è¡Œæ•ˆæœ</td><td>è®©å‡½æ•°è¿”å›æ‰§è¡Œç»“æœï¼ˆå¦‚å¸ƒå°”å€¼ã€çŠ¶æ€å¯¹è±¡ï¼‰ï¼Œæˆ–é€šè¿‡ Mock éªŒè¯å‰¯ä½œç”¨</td></tr><tr><td>ä¸šåŠ¡é€»è¾‘ä¸ HTTP è¯·æ±‚ / å“åº”å¼ºè€¦åˆ</td><td>æµ‹è¯•éœ€å¯åŠ¨ Web å®¹å™¨ï¼Œæ•ˆç‡ä½</td><td>æ‹†åˆ† Controller ä¸ Serviceï¼ŒService å±‚çº¯ä¸šåŠ¡é€»è¾‘æ—  Web ä¾èµ–</td></tr><tr><td>æµ‹è¯•ç”¨ä¾‹ä¾èµ–çœŸå®æ•°æ®åº“ / ç¼“å­˜</td><td>æµ‹è¯•ç¯å¢ƒè¦æ±‚é«˜ï¼Œæ‰§è¡Œæ…¢</td><td>ç”¨ H2 å†…å­˜æ•°æ®åº“ã€Mock å·¥å…·ï¼ˆMockitoã€TestContainersï¼‰éš”ç¦»å¤–éƒ¨ä¾èµ–</td></tr></tbody></table>
<h3 data-id="heading-22">äº”ã€ä¸‰è€…ååŒï¼šå¦‚ä½•å¹³è¡¡ â€œå¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€å¯æµ‹è¯•æ€§â€</h3>
<p>å¾ˆå¤šå¼€å‘è€…ä¼šé™·å…¥ â€œè¿‡åº¦è®¾è®¡â€ çš„è¯¯åŒºï¼šä¸ºäº†è¿½æ±‚æŸä¸€ä¸ªç‰¹æ€§ï¼Œå¯¼è‡´ä»£ç å¤æ‚åº¦é£™å‡ï¼ˆæ¯”å¦‚ä¸ºäº†å¯æ‰©å±•æ€§ï¼Œè®¾è®¡åå‡ å±‚æŠ½è±¡ï¼‰ã€‚æ ¸å¿ƒåŸåˆ™æ˜¯ â€œé€‚åº¦è®¾è®¡ï¼ŒæŒ‰éœ€ä¼˜åŒ–â€ï¼š</p>
<h4 data-id="heading-23">1. ååŒå…³ç³»ï¼šä¸€ä¸ªè‰¯æ€§å¾ªç¯</h4>
<ul>
<li>å¯ç»´æŠ¤æ€§æ˜¯åŸºç¡€ï¼šæ¨¡å—åŒ–ã€å‘½åæ¸…æ™°çš„ä»£ç ï¼Œè‡ªç„¶æ›´å®¹æ˜“æ‹†åˆ†æ‰©å±•ç‚¹ã€éš”ç¦»ä¾èµ–ï¼ˆæå‡å¯æ‰©å±•æ€§å’Œå¯æµ‹è¯•æ€§ï¼‰ï¼›</li>
</ul>

<ul>
<li>å¯æµ‹è¯•æ€§æ˜¯ä¿éšœï¼šå†™æµ‹è¯•çš„è¿‡ç¨‹ä¼šå€’é€¼ä½ æ‹†åˆ†è€¦åˆã€æ˜ç¡®è¾“å…¥è¾“å‡ºï¼ˆåè¿‡æ¥ä¼˜åŒ–å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼‰ï¼›</li>
</ul>

<ul>
<li>å¯æ‰©å±•æ€§æ˜¯ç›®æ ‡ï¼šåŸºäºå‰ä¸¤è€…ï¼Œä»£ç æ‰èƒ½ â€œä½æˆæœ¬åº”å¯¹å˜åŒ–â€ï¼Œé¿å…é¢‘ç¹é‡æ„ã€‚</li>
</ul>
<h4 data-id="heading-24">2. å¹³è¡¡æŠ€å·§</h4>
<ul>
<li>æ ¸å¿ƒä¸šåŠ¡ï¼šé‡ç‚¹ä¼˜åŒ–ä¸‰è€…ï¼Œé‡‡ç”¨æ¥å£æŠ½è±¡ã€ä¾èµ–æ³¨å…¥ã€æ¨¡å—åŒ–æ‹†åˆ†ï¼ˆå¦‚æ”¯ä»˜ã€è®¢å•æ ¸å¿ƒæµç¨‹ï¼‰ï¼›</li>
</ul>

<ul>
<li>éæ ¸å¿ƒä¸šåŠ¡ï¼šä¼˜å…ˆä¿è¯å¯ç»´æŠ¤æ€§ï¼Œæ— éœ€è¿‡åº¦è®¾è®¡å¯æ‰©å±•æ€§ï¼ˆå¦‚å†…éƒ¨å·¥å…·ã€ä¸´æ—¶æŠ¥è¡¨åŠŸèƒ½ï¼‰ï¼›</li>
</ul>

<ul>
<li>è¿­ä»£ä¼˜åŒ–ï¼šåˆæœŸæ— éœ€è¿½æ±‚ â€œå®Œç¾è®¾è®¡â€ï¼Œå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œåç»­é€šè¿‡é‡æ„é€æ­¥ä¼˜åŒ–ï¼ˆå¦‚å…ˆå†™ç®€å•å®ç°ï¼Œæœ‰æ‰©å±•éœ€æ±‚æ—¶å†æŠ½è±¡æ¥å£ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-25">å…­ã€æ€»ç»“ï¼šå†™å‡º â€œä¸‰ä¼˜ä»£ç â€ çš„æ ¸å¿ƒå¿ƒæ³•</h3>
<p>å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€å¯æµ‹è¯•æ€§ï¼Œæœ¬è´¨éƒ½æ˜¯ â€œé™ä½ä»£ç çš„è®¤çŸ¥æˆæœ¬å’Œä¿®æ”¹æˆæœ¬â€ã€‚è½åœ°çš„å…³é”®ä¸æ˜¯æ­»è®°è®¾è®¡æ¨¡å¼ï¼Œè€Œæ˜¯è®°ä½ä¸‰ä¸ªæ ¸å¿ƒï¼š</p>
<ol>
<li><strong>æ‹†åˆ†</strong>ï¼šæŒ‰èŒè´£æ‹†åˆ†æ¨¡å—ã€å‡½æ•°ï¼Œæ‹’ç» â€œå¤§æ³¥çƒä»£ç â€ï¼›</li>
</ol>

<ol start="2">
<li><strong>è§£è€¦</strong>ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°ï¼Œéš”ç¦»å¤–éƒ¨ä¾èµ–å’Œæ ¸å¿ƒé€»è¾‘ï¼›</li>
</ol>

<ol start="3">
<li><strong>ç®€æ´</strong>ï¼šé¿å…è¿‡åº¦è®¾è®¡ï¼Œç”¨æœ€å°‘çš„ä»£ç å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œè®©ä»£ç  â€œä¸€çœ¼èƒ½çœ‹æ‡‚â€ã€‚</li>
</ol>
<p>ä¼˜ç§€çš„åç«¯ä»£ç ï¼Œç»å¾—èµ·ä¸šåŠ¡è¿­ä»£çš„è€ƒéªŒï¼Œä¹Ÿç»å¾—èµ·æ—¶é—´çš„è€ƒéªŒ â€”â€” è¿™ä¸ä»…æ˜¯æŠ€æœ¯èƒ½åŠ›çš„ä½“ç°ï¼Œæ›´æ˜¯å¯¹å›¢é˜Ÿå’Œæœªæ¥è‡ªå·±çš„è´Ÿè´£ã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œè¯•ç€åœ¨å†™ä»£ç æ—¶å¤šé—®è‡ªå·±ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>åˆ«äººèƒ½å¿«é€Ÿçœ‹æ‡‚æˆ‘çš„ä»£ç å—ï¼Ÿï¼ˆå¯ç»´æŠ¤æ€§ï¼‰</li>
</ul>

<ul>
<li>æ–°å¢éœ€æ±‚æ—¶æˆ‘éœ€è¦æ”¹å¤šå°‘ä»£ç ï¼Ÿï¼ˆå¯æ‰©å±•æ€§ï¼‰</li>
</ul>

<ul>
<li>æˆ‘èƒ½è½»æ¾å†™å‡ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–æ ¸å¿ƒåœºæ™¯å—ï¼Ÿï¼ˆå¯æµ‹è¯•æ€§ï¼‰</li>
</ul>
<p>åšæŒä¸‹å»ï¼Œä½ çš„ç¼–ç èƒ½åŠ›ä¼šåœ¨æ½œç§»é»˜åŒ–ä¸­å®ç°è´¨çš„é£è·ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šæ·±åº¦è§£æ Wire ä¾èµ–æ³¨å…¥é›†æˆå®è·µ]]></title>    <link>https://juejin.cn/post/7583943503556722738</link>    <guid>https://juejin.cn/post/7583943503556722738</guid>    <pubDate>2025-12-16T02:30:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583943503556722738" data-draft-id="7583981974407954442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šæ·±åº¦è§£æ Wire ä¾èµ–æ³¨å…¥é›†æˆå®è·µ"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2025-12-16T02:30:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šæ·±åº¦è§£æ Wire ä¾èµ–æ³¨å…¥é›†æˆå®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T02:30:05.000Z" title="Tue Dec 16 2025 02:30:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šæ·±åº¦è§£æ Wire ä¾èµ–æ³¨å…¥é›†æˆå®è·µ</h2>
<p>åœ¨ä¼ä¸šçº§ä¸­åå°æ¡†æ¶å¼€å‘ä¸­ï¼Œä¾èµ–ç®¡ç†æ˜¯è´¯ç©¿å…¨ç”Ÿå‘½å‘¨æœŸçš„æ ¸å¿ƒæŒ‘æˆ˜ â€”â€” éšç€é¡¹ç›®è§„æ¨¡æ‰©å¼ ï¼Œæ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ã€ä¼ é€’ä¾èµ–ä¼šå¯¼è‡´ä»£ç è€¦åˆåº¦é™¡å¢ã€æµ‹è¯•æˆæœ¬å±…é«˜ä¸ä¸‹ã€ç»´æŠ¤éš¾åº¦æŒ‡æ•°çº§ä¸Šå‡ã€‚ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰é€šè¿‡ â€œæ§åˆ¶åè½¬â€ æœºåˆ¶ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºä¸ä¾èµ–ä¼ é€’è§£è€¦ï¼Œæˆä¸ºè§£å†³è¿™ä¸€é—®é¢˜çš„æœ€ä¼˜è§£ä¹‹ä¸€ã€‚æœ¬æ–‡ä»¥ GoWind Adminï¼ˆé£è¡Œï¼‰æ¡†æ¶ä¸ºå®è·µè½½ä½“ï¼Œæ·±åº¦è§£æ Google å¼€æºçš„ç¼–è¯‘æœŸä¾èµ–æ³¨å…¥å·¥å…· Wireï¼Œå¹¶å®Œæ•´å‘ˆç°å…¶åœ¨ä¼ä¸šçº§ä¸­åå°æ¡†æ¶ä¸­çš„æ ‡å‡†åŒ–é›†æˆæ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€è®¤çŸ¥ï¼šä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ï¼Ÿ</h3>
<p>ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼ŒDIï¼‰æ˜¯å®ç°æ§åˆ¶åè½¬ï¼ˆIoCï¼‰çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒæ€æƒ³å¯æ¦‚æ‹¬ä¸ºï¼š<strong>å¯¹è±¡çš„ä¾èµ–ç”±å¤–éƒ¨å®¹å™¨æä¾›ï¼Œè€Œéå¯¹è±¡è‡ªèº«åˆ›å»º</strong>ã€‚è¿™é‡Œçš„ â€œä¾èµ–â€ æŒ‡å¯¹è±¡è¿è¡Œæ‰€éœ€çš„å…¶ä»–ç»„ä»¶ï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€é…ç½®å®ä¾‹ã€ä¸šåŠ¡æœåŠ¡ç­‰ï¼‰ï¼Œâ€œæ³¨å…¥â€ åˆ™æ˜¯å¤–éƒ¨å®¹å™¨å°†ä¾èµ–ä¸»åŠ¨ä¼ é€’ç»™ç›®æ ‡å¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>
<p>é€šè¿‡ä¾èµ–æ³¨å…¥ï¼Œä½¿ç”¨ä¾èµ–çš„å¯¹è±¡ï¼ˆå®¢æˆ·ï¼‰æ— éœ€å…³å¿ƒä¾èµ–çš„åˆ›å»ºç»†èŠ‚ï¼Œä»…éœ€ä¾èµ–ç»Ÿä¸€çš„æ¥å£å¥‘çº¦ï¼›ä¾èµ–çš„åˆ›å»ºã€ç»„è£…ã€ä¼ é€’å…¨ç”±æ³¨å…¥å™¨ï¼ˆå®¹å™¨ï¼‰è´Ÿè´£ã€‚è¿™ä¸ä»…å‡å°‘äº† <code>new</code> å…³é”®å­—çš„ç›´æ¥ä½¿ç”¨ï¼Œæ›´å®ç°äº†ä»£ç çš„è§£è€¦ã€å¯æµ‹è¯•æ€§ä¸å¯ç»´æŠ¤æ€§çš„å¤§å¹…æå‡ã€‚</p>
<h4 data-id="heading-2">1.1 ä¾èµ–æ³¨å…¥çš„æ ¸å¿ƒå››è¦ç´ </h4>
<ul>
<li><strong>æœåŠ¡ï¼ˆServiceï¼‰</strong>ï¼šæä¾›å…·ä½“åŠŸèƒ½çš„å¯¹è±¡ï¼ˆå¦‚æ•°æ®åº“è¿æ¥æ± ã€ç”¨æˆ·ä»“å‚¨å®ä¾‹ï¼‰ï¼Œæ˜¯è¢«ä¾èµ–çš„ä¸€æ–¹ã€‚</li>
<li><strong>å®¢æˆ·ï¼ˆClientï¼‰</strong>ï¼šä½¿ç”¨æœåŠ¡çš„å¯¹è±¡ï¼ˆå¦‚ä¸šåŠ¡é€»è¾‘æœåŠ¡ï¼‰ï¼Œæ˜¯ä¾èµ–çš„æ¥æ”¶æ–¹ã€‚</li>
<li><strong>æ¥å£ï¼ˆInterfaceï¼‰</strong>ï¼šå®¢æˆ·ä¸æœåŠ¡ä¹‹é—´çš„å¥‘çº¦ï¼Œå®¢æˆ·ä»…ä¾èµ–æ¥å£è€Œéå…·ä½“å®ç°ï¼Œä¿è¯äº†ä¾èµ–çš„æŠ½è±¡æ€§ã€‚</li>
<li><strong>æ³¨å…¥å™¨ï¼ˆInjectorï¼‰</strong>ï¼šä¹Ÿç§°å®¹å™¨ã€è£…é…å™¨ï¼Œè´Ÿè´£ç®¡ç†æœåŠ¡çš„åˆ›å»ºã€ä¾èµ–å…³ç³»çš„è§£æï¼Œå¹¶å°†æœåŠ¡æ³¨å…¥åˆ°å®¢æˆ·ä¸­ã€‚</li>
</ul>
<h4 data-id="heading-3">1.2 Go è¯­è¨€ä¸­çš„ä¾èµ–æ³¨å…¥æ¡†æ¶å¯¹æ¯”</h4>
<p>Go ç”Ÿæ€ä¸­ä¸»æµçš„ä¾èµ–æ³¨å…¥æ¡†æ¶åˆ†ä¸ºä¸¤ç±»ï¼Œæ ¸å¿ƒå·®å¼‚åœ¨äºâ€œä¾èµ–è§£ææ—¶æœºâ€ï¼š</p>


























<table><thead><tr><th>ç±»å‹</th><th>ä»£è¡¨å·¥å…·</th><th>æ ¸å¿ƒåŸç†</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>è¿è¡Œæ—¶æ³¨å…¥</td><td>Uber dig</td><td>åå°„æœºåˆ¶åŠ¨æ€è§£æ</td><td>åŠŸèƒ½çµæ´»ï¼Œæ”¯æŒå¤æ‚ä¾èµ–åœºæ™¯</td><td>åå°„å¸¦æ¥æ€§èƒ½æŸè€—ï¼›ä¾èµ–é”™è¯¯ä»…è¿è¡Œæ—¶æš´éœ²</td></tr><tr><td>ç¼–è¯‘æœŸæ³¨å…¥</td><td>Google Wire</td><td>ä»£ç ç”Ÿæˆé™æ€è§£æ</td><td>æ— åå°„å¼€é”€ï¼›ç¼–è¯‘æœŸæš´éœ²é”™è¯¯ï¼›ä»£ç å¯è¯»æ€§é«˜</td><td>åŠŸèƒ½ç›¸å¯¹ç²¾ç®€ï¼›éœ€éµå¾ªå›ºå®šè§„èŒƒ</td></tr></tbody></table>
<blockquote>
<p>GoWind Admin é€‰æ‹© Wire ä½œä¸ºæ ¸å¿ƒä¾èµ–æ³¨å…¥æ–¹æ¡ˆçš„æ ¸å¿ƒåŸå› ï¼šä¸­åå°ç³»ç»Ÿå¯¹ç¨³å®šæ€§è¦æ±‚æé«˜ï¼Œç¼–è¯‘æœŸé”™è¯¯æ£€æµ‹å¯æœ€å¤§ç¨‹åº¦è§„é¿çº¿ä¸Šæ•…éšœï¼›åŒæ—¶ Wire ç®€æ´çš„è®¾è®¡ç¬¦åˆæ¡†æ¶ â€œè½»é‡ã€æ˜“ç”¨ã€å¯æ‰©å±•â€ çš„æ ¸å¿ƒå®šä½ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äºŒã€Wire æ ¸å¿ƒæ¦‚å¿µï¼šProvider ä¸ Injector</h3>
<p>Wire æ‘’å¼ƒäº†å¤æ‚çš„è¿è¡Œæ—¶æœºåˆ¶ï¼Œæ ¸å¿ƒé€šè¿‡ä¸¤ä¸ªæ¦‚å¿µå®ç°ä¾èµ–æ³¨å…¥ï¼š<strong>Providerï¼ˆæä¾›è€…ï¼‰</strong> å’Œ <strong>Injectorï¼ˆæ³¨å…¥å™¨ï¼‰</strong>ã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºï¼šProvider è´Ÿè´£â€œç”Ÿäº§â€ä¾èµ–å¯¹è±¡ï¼ŒInjector è´Ÿè´£â€œç»„è£…â€ä¾èµ–å…³ç³»ã€‚</p>
<h4 data-id="heading-5">2.1 Providerï¼šä¾èµ–å¯¹è±¡çš„â€œç”Ÿäº§è€…â€</h4>
<p>Provider æœ¬è´¨æ˜¯ä¸€ä¸ªæ™®é€šçš„ Go å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›æŸä¸ªå¯¹è±¡ï¼ˆå³â€œæœåŠ¡â€ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç†è§£ä¸ºå¯¹è±¡çš„â€œæ„é€ å‡½æ•°â€ã€‚Wire ä¼šé€šè¿‡ Provider å‡½æ•°çš„å‚æ•°åˆ—è¡¨è§£æå…¶ä¾èµ–ï¼Œé€šè¿‡è¿”å›å€¼ç¡®å®šå…¶æä¾›çš„æœåŠ¡ç±»å‹ã€‚</p>
<h5 data-id="heading-6">2.1.1 åŸºç¡€ Provider ç¤ºä¾‹</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"database/sql"</span>
    <span class="hljs-string">"github.com/go-sql-driver/mysql"</span>
)

<span class="hljs-comment">// Config æ•°æ®åº“é…ç½®ç»“æ„ä½“</span>
<span class="hljs-keyword">type</span> Config <span class="hljs-keyword">struct</span> {
    DSN <span class="hljs-type">string</span>
}

<span class="hljs-comment">// UserStore ç”¨æˆ·æ•°æ®å­˜å‚¨æœåŠ¡</span>
<span class="hljs-keyword">type</span> UserStore <span class="hljs-keyword">struct</span> {
    cfg *Config
    db  *sql.DB
}

<span class="hljs-comment">// NewUserStore æ˜¯ *UserStore çš„ Provider</span>
<span class="hljs-comment">// ä¾èµ–ï¼š*Configï¼ˆé…ç½®ï¼‰ã€*sql.DBï¼ˆæ•°æ®åº“è¿æ¥ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewUserStore</span><span class="hljs-params">(cfg *Config, db *sql.DB)</span></span> (*UserStore, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">return</span> &amp;UserStore{cfg: cfg, db: db}, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// NewDefaultConfig æ˜¯ *Config çš„ Providerï¼ˆæ— ä¾èµ–ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewDefaultConfig</span><span class="hljs-params">()</span></span> *Config {
    <span class="hljs-keyword">return</span> &amp;Config{
        DSN: <span class="hljs-string">"root:123456@tcp(127.0.0.1:3306)/test?parseTime=true"</span>,
    }
}

<span class="hljs-comment">// NewDB æ˜¯ *sql.DB çš„ Provider</span>
<span class="hljs-comment">// ä¾èµ–ï¼š*Configï¼ˆä»é…ç½®ä¸­è·å– DSNï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewDB</span><span class="hljs-params">(cfg *Config)</span></span> (*sql.DB, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">return</span> sql.Open(<span class="hljs-string">"mysql"</span>, cfg.DSN)
}
</code></pre>
<h5 data-id="heading-7">2.1.2 ProviderSetï¼šä¾èµ–çš„â€œé›†åˆå°è£…â€</h5>
<p>å½“é¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ªå…³è”çš„ Provider æ—¶ï¼Œå¯é€šè¿‡ wire.NewSet å°†å…¶ç»„åˆä¸º ProviderSetï¼ˆæä¾›è€…é›†åˆï¼‰ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œå¤ç”¨ã€‚ProviderSet æ”¯æŒåµŒå¥—ï¼Œå³ä¸€ä¸ª ProviderSet å¯åŒ…å«å…¶ä»– ProviderSetã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/google/wire"</span>

<span class="hljs-comment">// ProviderSet æ•°æ®å±‚çš„ Provider é›†åˆ</span>
<span class="hljs-keyword">var</span> ProviderSet = wire.NewSet(
    NewUserStore,   <span class="hljs-comment">// æä¾› *UserStore</span>
    NewDefaultConfig, <span class="hljs-comment">// æä¾› *Config</span>
    NewDB,          <span class="hljs-comment">// æä¾› *sql.DB</span>
)

<span class="hljs-comment">// å…¶ä»–åŒ…çš„ ProviderSet ç¤ºä¾‹ï¼ˆå¯åµŒå¥—ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"go-wind-admin/app/admin/service/internal/cache/providers"</span>

<span class="hljs-keyword">var</span> FullProviderSet = wire.NewSet(
    ProviderSet,          <span class="hljs-comment">// åµŒå¥—å½“å‰åŒ…çš„ ProviderSet</span>
    providers.CacheSet,   <span class="hljs-comment">// åµŒå¥—ç¼“å­˜å±‚çš„ ProviderSet</span>
)
</code></pre>
<blockquote>
<p><strong>æ ¸å¿ƒè¯´æ˜</strong>ï¼š<code>wire.NewSet</code> ä»…ç”¨äºâ€œå½’ç±»â€Providerï¼Œä¸æ‰§è¡Œä»»ä½•é€»è¾‘ã€‚å…¶è¿”å›å€¼å¯ä½œä¸ºå…¶ä»– <code>wire.NewSet</code> çš„å‚æ•°ï¼Œå®ç°ä¾èµ–çš„æ¨¡å—åŒ–ç®¡ç†ã€‚</p>
</blockquote>
<h4 data-id="heading-8">2.2 Injectorï¼šä¾èµ–å…³ç³»çš„â€œç»„è£…å™¨â€</h4>
<p>Injector æ˜¯ Wire ç”Ÿæˆçš„â€œä¾èµ–ç»„è£…å‡½æ•°â€ï¼Œè´Ÿè´£æŒ‰ä¾èµ–é¡ºåºè°ƒç”¨ Provider å‡½æ•°ï¼Œåˆ›å»ºå¹¶æ³¨å…¥æ‰€éœ€å¯¹è±¡ã€‚æˆ‘ä»¬åªéœ€å®šä¹‰ Injector çš„â€œå‡½æ•°ç­¾åâ€ï¼ŒWire ä¼šé€šè¿‡ <code>wire.Build</code> å£°æ˜çš„ Provider/ProviderSet è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ç»„è£…é€»è¾‘ã€‚</p>
<h5 data-id="heading-9">2.2.1 å®šä¹‰ Injector ç­¾å</h5>
<p>åˆ›å»º <code>wire.go</code> æ–‡ä»¶ï¼Œé€šè¿‡ç‰¹æ®Šæ„å»ºæ ‡ç­¾ï¼ˆ<code>//go:build wireinject</code>ï¼‰æ ‡è®°è¯¥æ–‡ä»¶ä»…ç”¨äºç”Ÿæˆ Injectorï¼Œä¸ä¼šè¢«ç¼–è¯‘åˆ°æœ€ç»ˆäº§ç‰©ä¸­ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//go:build wireinject</span>
<span class="hljs-comment">// +build wireinject</span>

<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/google/wire"</span>
    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/data"</span>
)

<span class="hljs-comment">// InitUserStore æ˜¯ Injector å‡½æ•°çš„ç­¾å</span>
<span class="hljs-comment">// å…¥å‚ï¼šæ— ï¼ˆè‹¥æœ‰ä¾èµ–å¯åœ¨æ­¤å£°æ˜ï¼‰</span>
<span class="hljs-comment">// å‡ºå‚ï¼š*data.UserStoreï¼ˆæœ€ç»ˆéœ€è¦çš„æœåŠ¡ï¼‰ã€errorï¼ˆé”™è¯¯å¤„ç†ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitUserStore</span><span class="hljs-params">()</span></span> (*data.UserStore, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// wire.Build å£°æ˜ç»„è£…æ‰€éœ€çš„ ProviderSet</span>
    wire.Build(data.ProviderSet)
    <span class="hljs-comment">// å ä½è¿”å›å€¼ï¼ˆç”Ÿæˆä»£ç æ—¶ä¼šè¢«æ›¿æ¢ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, <span class="hljs-literal">nil</span>
}
</code></pre>
<h5 data-id="heading-10">2.2.2 ç”Ÿæˆ Injector ä»£ç </h5>
<p>åœ¨ <code>wire.go</code> æ‰€åœ¨ç›®å½•æ‰§è¡Œ wire å‘½ä»¤ï¼ˆéœ€å…ˆé€šè¿‡ <code>go install github.com/google/wire/cmd/wire@latest</code> å®‰è£… Wire å·¥å…·ï¼‰ï¼ŒWire ä¼šè‡ªåŠ¨åˆ†æä¾èµ–å…³ç³»ï¼Œç”Ÿæˆ wire_gen.go æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å®Œæ•´çš„ Injector å®ç°ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Code generated by Wire. DO NOT EDIT.</span>

<span class="hljs-comment">//go:generate go run github.com/google/wire/cmd/wire</span>
<span class="hljs-comment">//go:build !wireinject</span>
<span class="hljs-comment">// +build !wireinject</span>

<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"go-wind-admin/app/admin/service/internal/data"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitUserStore</span><span class="hljs-params">()</span></span> (*data.UserStore, <span class="hljs-type">error</span>) {
    config := data.NewDefaultConfig()
    db, err := data.NewDB(config)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    userStore, err := data.NewUserStore(config, db)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    <span class="hljs-keyword">return</span> userStore, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç å®Œå…¨æ¨¡æ‹Ÿäº†æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æµç¨‹ï¼Œæ¸…æ™°å¯è§ä¾èµ–çš„åˆ›å»ºé¡ºåºï¼ˆå…ˆåˆ›å»º Config â†’ å†åˆ›å»º DB â†’ æœ€ååˆ›å»º UserStoreï¼‰ï¼Œä¸”åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†ï¼Œå¯è¯»æ€§æå¼ºã€‚</p>
<h3 data-id="heading-11">ä¸‰ã€GoWind Admin é›†æˆ Wire å®Œæ•´å®è·µ</h3>
<p>GoWind Admin é‡‡ç”¨ â€œServer å±‚ï¼ˆæœåŠ¡æš´éœ²ï¼‰â†’ Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰â†’ Data å±‚ï¼ˆæ•°æ®è®¿é—®ï¼‰â€ çš„åˆ†å±‚æ¶æ„ï¼Œä¸ºé¿å…ä¾èµ–æ··ä¹±ï¼Œæ¡†æ¶å°†å„å±‚çš„ Provider å•ç‹¬å°è£…åœ¨ <code>providers</code> ç›®å½•ä¸­ï¼Œæœ€ç»ˆåœ¨å…¥å£å¤„é€šè¿‡ Injector ç»Ÿä¸€ç»„è£…ã€‚</p>
<h4 data-id="heading-12">3.1 æ¶æ„è®¾è®¡ï¼šåˆ†å±‚ ProviderSet ç›®å½•ç»“æ„</h4>
<p>æ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼š<strong>æ¯å±‚çš„ ProviderSet å•ç‹¬æ”¾åœ¨åŒçº§çš„ providers ç›®å½•ä¸­</strong>ï¼Œå®ç°ä¸šåŠ¡ä»£ç ä¸ DI é…ç½®è§£è€¦ï¼Œä»ç‰©ç†ç»“æ„ä¸Šæœç»å¾ªç¯ä¾èµ–ã€‚</p>
<p>æ ‡å‡†ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">internal/
â”œâ”€â”€ data/                  // æ•°æ®å±‚ï¼ˆä»“å‚¨ã€æ•°æ®åº“æ“ä½œï¼‰
â”‚   â”œâ”€â”€ user_repo.go       // ä¸šåŠ¡ä»£ç ï¼šç”¨æˆ·ä»“å‚¨å®ç°
â”‚   â””â”€â”€ providers/
â”‚       â””â”€â”€ wire_set.go    // æ•°æ®å±‚ ProviderSetï¼ˆä»… DI é…ç½®ï¼‰
â”œâ”€â”€ service/               // æœåŠ¡å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ user_service.go    // ä¸šåŠ¡ä»£ç ï¼šç”¨æˆ·æœåŠ¡å®ç°
â”‚   â””â”€â”€ providers/
â”‚       â””â”€â”€ wire_set.go    // æœåŠ¡å±‚ ProviderSet
â””â”€â”€ server/                // æœåŠ¡æš´éœ²å±‚ï¼ˆHTTP/gRPC æœåŠ¡å™¨ï¼‰
    â”œâ”€â”€ http_server.go     // ä¸šåŠ¡ä»£ç ï¼šHTTP æœåŠ¡å™¨å®ç°
    â””â”€â”€ providers/
        â””â”€â”€ wire_set.go    // æœåŠ¡å™¨å±‚ ProviderSet
cmd/
â””â”€â”€ server/
    â””â”€â”€ wire.go            // å…¨å±€ Injector å…¥å£ï¼ˆç»„è£…æ‰€æœ‰å±‚ä¾èµ–ï¼‰
</code></pre>
<h4 data-id="heading-13">3.2 å„å±‚ ProviderSet å®ç°</h4>
<p>æ¯å±‚çš„ <code>wire_set.go</code> ä»…è´Ÿè´£å°è£…å½“å‰å±‚çš„ Providerï¼Œä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œç¡®ä¿ä¸šåŠ¡ä»£ç çš„çº¯ç²¹æ€§ã€‚</p>
<h5 data-id="heading-14">3.2.1 æ•°æ®å±‚ï¼ˆdata/providers/wire_set.goï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//go:build wireinject</span>
<span class="hljs-comment">// +build wireinject</span>

<span class="hljs-keyword">package</span> providers

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/google/wire"</span>

    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/data"</span>
)

<span class="hljs-comment">// ProviderSet æ•°æ®å±‚ä¾èµ–æ³¨å…¥é›†åˆ</span>
<span class="hljs-comment">// åŒ…å«æ‰€æœ‰æ•°æ®å±‚çš„ä»“å‚¨ Provider</span>
<span class="hljs-keyword">var</span> ProviderSet = wire.NewSet(
    data.NewUserRepo,   <span class="hljs-comment">// ç”¨æˆ·ä»“å‚¨ Providerï¼ˆä¾èµ– *sql.DBï¼‰</span>
    data.NewOrderRepo,  <span class="hljs-comment">// è®¢å•ä»“å‚¨ Providerï¼ˆä¾èµ– *sql.DBï¼‰</span>
    data.NewDB,         <span class="hljs-comment">// æ•°æ®åº“è¿æ¥ Providerï¼ˆä¾èµ– *Configï¼‰</span>
    data.NewConfig,     <span class="hljs-comment">// é…ç½® Providerï¼ˆæ— ä¾èµ–ï¼‰</span>
)
</code></pre>
<h5 data-id="heading-15">3.2.2 æœåŠ¡å±‚ï¼ˆservice/providers/wire_set.goï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//go:build wireinject</span>
<span class="hljs-comment">// +build wireinject</span>

<span class="hljs-keyword">package</span> providers

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/google/wire"</span>

    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/service"</span>
)

<span class="hljs-comment">// ProviderSet æœåŠ¡å±‚ä¾èµ–æ³¨å…¥é›†åˆ</span>
<span class="hljs-comment">// ä¾èµ–æ•°æ®å±‚çš„ ProviderSetï¼Œæä¾›ä¸šåŠ¡æœåŠ¡</span>
<span class="hljs-keyword">var</span> ProviderSet = wire.NewSet(
    service.NewUserService,  <span class="hljs-comment">// ç”¨æˆ·æœåŠ¡ï¼ˆä¾èµ– data.UserRepoï¼‰</span>
    service.NewOrderService, <span class="hljs-comment">// è®¢å•æœåŠ¡ï¼ˆä¾èµ– data.OrderRepoï¼‰</span>
)
</code></pre>
<h5 data-id="heading-16">3.2.3 æœåŠ¡å™¨å±‚ï¼ˆserver/providers/wire_set.goï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//go:build wireinject</span>
<span class="hljs-comment">// +build wireinject</span>

<span class="hljs-keyword">package</span> providers

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/google/wire"</span>

    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/server"</span>
)

<span class="hljs-comment">// ProviderSet æœåŠ¡å™¨å±‚ä¾èµ–æ³¨å…¥é›†åˆ</span>
<span class="hljs-comment">// ä¾èµ–æœåŠ¡å±‚çš„ ProviderSetï¼Œæä¾› HTTP/gRPC æœåŠ¡å™¨</span>
<span class="hljs-keyword">var</span> ProviderSet = wire.NewSet(
    server.NewHTTPServer,  <span class="hljs-comment">// HTTP æœåŠ¡å™¨ï¼ˆä¾èµ– service.UserServiceï¼‰</span>
    server.NewGRPCServer,  <span class="hljs-comment">// gRPC æœåŠ¡å™¨ï¼ˆä¾èµ– service.OrderServiceï¼‰</span>
)
</code></pre>
<h5 data-id="heading-17">3.2.4 ProviderSet åµŒå¥—å±‚çº§ç»“æ„</h5>
<p>åœ¨ä¼ä¸šçº§é¡¹ç›®ä¸­ï¼Œä¾èµ–å¾€å¾€å¤æ‚ä¸”å¤šå±‚çº§ï¼Œé€šè¿‡ â€œåŸå­çº§ â†’ æ¨¡å—èšåˆçº§ â†’ åº”ç”¨çº§â€ çš„åµŒå¥—ç»“æ„ï¼Œå¯å®ç°ä¾èµ–çš„ç²¾ç»†åŒ–ç®¡ç†ã€‚</p>
<blockquote>
<p>è®¾è®¡ä»·å€¼ï¼šåˆ†å±‚åµŒå¥—å¯è®©ä¾èµ–å…³ç³» â€œå¯è§†åŒ–â€ï¼Œæ–°å¢ / ç§»é™¤ä¾èµ–æ—¶åªéœ€è°ƒæ•´å¯¹åº”å±‚çº§çš„ Setï¼Œæ— éœ€ä¿®æ”¹å…¨å±€é…ç½®ï¼Œç¬¦åˆ â€œå¼€é—­åŸåˆ™â€ã€‚</p>
</blockquote>
<h6 data-id="heading-18">ç¬¬ä¸€å±‚ï¼šåŸå­çº§ï¼ˆLeaf Setsï¼‰â€”â€” æœ€å°ç²’åº¦ä¾èµ–</h6>
<p>åœ¨æ¯ä¸ªé€»è¾‘å­ç›®å½•å®šä¹‰ï¼Œä»…åŒ…å«å•ä¸€åŠŸèƒ½çš„ Providerï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// internal/data/providers/wire_set.go</span>

<span class="hljs-comment">// RepoSet ä»“å‚¨å±‚åŸå­ä¾èµ–ï¼ˆä»…ä»“å‚¨ç›¸å…³ï¼‰</span>
<span class="hljs-keyword">var</span> RepoSet = wire.NewSet(NewUserRepo, NewOrderRepo)
<span class="hljs-comment">// CacheSet ç¼“å­˜å±‚åŸå­ä¾èµ–ï¼ˆä»…ç¼“å­˜ç›¸å…³ï¼‰</span>
<span class="hljs-keyword">var</span> CacheSet = wire.NewSet(NewRedisClient, NewMemcachedClient)
</code></pre>
<h6 data-id="heading-19">ç¬¬äºŒå±‚ï¼šæ¨¡å—èšåˆçº§ï¼ˆModule Setsï¼‰â€”â€” å±‚çº§æ€»å…¥å£</h6>
<p>å°†åŒä¸€å±‚çš„å¤šä¸ªåŸå­çº§ Set èšåˆæˆä¸€ä¸ªæ€» Setï¼Œä½œä¸ºè¯¥å±‚çš„ç»Ÿä¸€å‡ºå£ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ä»åœ¨ internal/data/providers/wire_set.go ä¸­</span>
<span class="hljs-comment">// ProviderSet æ•°æ®å±‚æ€»ä¾èµ–é›†åˆï¼ˆå¯¹å¤–æš´éœ²çš„å”¯ä¸€å…¥å£ï¼‰</span>
<span class="hljs-keyword">var</span> ProviderSet = wire.NewSet(RepoSet, CacheSet)
</code></pre>
<h6 data-id="heading-20">ç¬¬ä¸‰å±‚ï¼šåº”ç”¨çº§ï¼ˆApp Setï¼‰â€”â€” å…¨å±€ç»„è£…</h6>
<p>åœ¨æœ€ç»ˆçš„ <code>wire.go</code> ä¸­ï¼Œä»…èšåˆå„å±‚çš„ â€œæ€»å‡ºå£â€ï¼Œé¿å…ä¾èµ–æ··ä¹±ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// app/admin/service/cmd/server/wire.go</span>
wire.Build(
    dataProviders.ProviderSet,    <span class="hljs-comment">// æ•°æ®å±‚æ€»ä¾èµ–ï¼ˆå«ä»“å‚¨+ç¼“å­˜ï¼‰</span>
    serviceProviders.ProviderSet, <span class="hljs-comment">// æœåŠ¡å±‚æ€»ä¾èµ–ï¼ˆå«æ‰€æœ‰ä¸šåŠ¡æœåŠ¡ï¼‰</span>
    serverProviders.ProviderSet,  <span class="hljs-comment">// æœåŠ¡å™¨å±‚æ€»ä¾èµ–ï¼ˆå«HTTP/gRPCï¼‰</span>
)
</code></pre>
<h4 data-id="heading-21">3.3 å…¨å±€ Injector å…¥å£ï¼ˆcmd/server/wire.goï¼‰</h4>
<p>å…¥å£æ–‡ä»¶è´Ÿè´£ç»„è£…æ‰€æœ‰å±‚çš„ ProviderSetï¼Œç”Ÿæˆæœ€ç»ˆçš„åº”ç”¨å®ä¾‹ï¼ˆå¦‚ Kratos åº”ç”¨ï¼‰ã€‚è¿™é‡Œä»¥ GoWind Admin åŸºäº Kratos æ¡†æ¶çš„å®ç°ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//go:build wireinject</span>
<span class="hljs-comment">// +build wireinject</span>

<span class="hljs-comment">//go:generate go run github.com/google/wire/cmd/wire</span>

<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/google/wire"</span>

    <span class="hljs-string">"github.com/go-kratos/kratos/v2"</span>
    <span class="hljs-string">"github.com/go-kratos/kratos/v2/log"</span>
    <span class="hljs-string">"github.com/go-kratos/kratos/v2/registry"</span>

    conf <span class="hljs-string">"github.com/tx7do/kratos-bootstrap/api/gen/go/conf/v1"</span>

    serverProviders <span class="hljs-string">"go-wind-admin/app/admin/service/internal/server/providers"</span>
    serviceProviders <span class="hljs-string">"go-wind-admin/app/admin/service/internal/service/providers"</span>
    dataProviders <span class="hljs-string">"go-wind-admin/app/admin/service/internal/data/providers"</span>
)

<span class="hljs-comment">// initApp å…¨å±€ Injector ç­¾åï¼ˆå£°æ˜åº”ç”¨å®ä¾‹çš„ä¾èµ–ä¸è¾“å‡ºï¼‰</span>
<span class="hljs-comment">// å…¥å‚ï¼šæ¡†æ¶åŸºç¡€ç»„ä»¶ï¼ˆæ—¥å¿—ã€æ³¨å†Œå™¨ã€é…ç½®ï¼‰ï¼›å‡ºå‚ï¼šåº”ç”¨å®ä¾‹ + èµ„æºæ¸…ç†å‡½æ•° + é”™è¯¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">initApp</span><span class="hljs-params">(logger log.Logger, reg registry.Registrar, cfg *conf.Bootstrap)</span></span> (*kratos.App, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span>, <span class="hljs-type">error</span>) {
    <span class="hljs-built_in">panic</span>(
        wire.Build(
            serverProviders.ProviderSet, <span class="hljs-comment">// æœåŠ¡å™¨å±‚ ProviderSet</span>
            serviceProviders.ProviderSet, <span class="hljs-comment">// æœåŠ¡å±‚ ProviderSet</span>
            dataProviders.ProviderSet, <span class="hljs-comment">// æ•°æ®åº“å±‚ ProviderSet</span>
            newApp, <span class="hljs-comment">// åº”ç”¨å®ä¾‹æ„é€ å‡½æ•°ï¼ˆä¾èµ– HTTP/gRPC æœåŠ¡å™¨ï¼‰</span>
        ),
    )
}
</code></pre>
<h4 data-id="heading-22">3.4 ç”Ÿæˆå¹¶ä½¿ç”¨ Injector</h4>
<h5 data-id="heading-23">3.4.1 å®‰è£… Wire å·¥å…·ï¼š</h5>
<pre><code class="hljs language-shell" lang="shell">go install github.com/google/wire/cmd/wire@latest
</code></pre>
<h5 data-id="heading-24">3.4.2 ç”Ÿæˆ Injector ä»£ç ï¼š</h5>
<p>ç”Ÿæˆä»£ç æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p>
<ol>
<li>åœ¨<code>cmd/app</code> ç›®å½•æ‰§è¡Œ <code>wire</code> å‘½ä»¤ï¼›</li>
<li>æ‰§è¡Œ<code>go generate ./...</code>å‘½ä»¤ï¼›</li>
<li>åœ¨<code>app/admin/service</code>ç›®å½•ä¸‹æ‰§è¡Œ<code>make wire</code>ã€‚</li>
</ol>
<p>æ‰§è¡Œåä¼šç”Ÿæˆ <code>wire_gen.go</code> æ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„åº”ç”¨ç»„è£…é€»è¾‘ã€‚</p>
<h5 data-id="heading-25">3.4.3 åœ¨åº”ç”¨å¯åŠ¨æµç¨‹ä¸­è°ƒç”¨ Injectorï¼š</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/go-kratos/kratos/v2/log"</span>
    <span class="hljs-string">"github.com/go-kratos/kratos/v2/registry/nacos"</span>

    <span class="hljs-string">"github.com/nacos-group/nacos-sdk-go/clients"</span>
    <span class="hljs-string">"github.com/nacos-group/nacos-sdk-go/common/constant"</span>
    <span class="hljs-string">"github.com/nacos-group/nacos-sdk-go/vo"</span>

    conf <span class="hljs-string">"github.com/tx7do/kratos-bootstrap/api/gen/go/conf/v1"</span>

    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/bootstrap"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. åˆå§‹åŒ–é…ç½®ã€æ—¥å¿—ã€æœåŠ¡æ³¨å†Œå™¨ï¼ˆæ¡†æ¶åŸºç¡€ç»„ä»¶ï¼‰</span>
    cfg := bootstrap.InitConfig()
    logger := bootstrap.InitLogger(cfg)
    reg := nacos.New(cfg.Nacos.Addrs, nacos.WithClientConfig(&amp;constant.ClientConfig{
        NamespaceId: cfg.Nacos.NamespaceId,
    }))

    <span class="hljs-comment">// 2. è°ƒç”¨ Wire ç”Ÿæˆçš„ Injectorï¼Œåˆ›å»ºåº”ç”¨å®ä¾‹</span>
    app, cleanup, err := initApp(logger, reg, cfg)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"failed to init app: %v"</span>, err)
    }
    <span class="hljs-keyword">defer</span> cleanup() <span class="hljs-comment">// èµ„æºæ¸…ç†</span>

    <span class="hljs-comment">// 3. å¯åŠ¨åº”ç”¨</span>
    <span class="hljs-keyword">if</span> err := app.Run(); err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"failed to run app: %v"</span>, err)
    }
}
</code></pre>
<h3 data-id="heading-26">å››ã€åˆ†å±‚ ProviderSet è®¾è®¡çš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>GoWind Admin é‡‡ç”¨ â€œæ¯å±‚ç‹¬ç«‹ <code>providers</code> ç›®å½•â€ çš„è®¾è®¡ï¼Œè€Œéå°† ProviderSet ä¸ä¸šåŠ¡ä»£ç æ··æ”¾ï¼Œæ ¸å¿ƒè§£å†³äº†ä¼ä¸šçº§å¼€å‘ä¸­çš„ä¸‰å¤§ç—›ç‚¹ï¼š</p>
<h4 data-id="heading-27">4.1 é™ä½ç»´æŠ¤æˆæœ¬</h4>
<p>è°ƒæ•´æŸä¸€å±‚çš„ä¾èµ–æ—¶ï¼Œå¯ç›´æ¥å®šä½åˆ° <code>[å±‚å]/providers/wire_set.go</code>ï¼Œæ— éœ€åœ¨ä¸šåŠ¡ä»£ç ä¸­æŸ¥æ‰¾ DI é…ç½®ï¼Œç¬¦åˆ â€œçº¦å®šä¼˜äºé…ç½®â€ çš„è®¾è®¡ç†å¿µï¼Œå‡å°‘å›¢é˜Ÿè®¤çŸ¥è´Ÿæ‹…ã€‚</p>
<h4 data-id="heading-28">4.2 æœç»å¾ªç¯ä¾èµ–</h4>
<p>ä¸¥æ ¼éµå¾ª â€œä¸Šå±‚ä¾èµ–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸ä¾èµ–ä¸Šå±‚â€ çš„è§„åˆ™ï¼ˆå¦‚ Service ä¾èµ– Dataï¼ŒData ä¸ä¾èµ– Serviceï¼‰ï¼›åŒæ—¶ <code>providers</code> ç›®å½•ä»…å¼•ç”¨åŒçº§ä¸šåŠ¡ç›®å½•ï¼Œä¸šåŠ¡ç›®å½•ä¸å¼•ç”¨ <code>providers</code> ç›®å½•ï¼Œä»ç‰©ç†ç»“æ„ä¸Šå½»åº•é¿å…å¾ªç¯ä¾èµ–ã€‚</p>
<h4 data-id="heading-29">4.3 æ”¯æŒå¢é‡å¼€å‘</h4>
<p>æ–°å¢å±‚ï¼ˆå¦‚ç¼“å­˜å±‚ã€æ¶ˆæ¯é˜Ÿåˆ—å±‚ï¼‰æ—¶ï¼Œåªéœ€åˆ›å»º <code>cache/providers/wire_set.go</code>ï¼Œåœ¨ä¸Šçº§ ProviderSet ä¸­åµŒå¥—å¼•ç”¨å³å¯å®Œæˆé›†æˆï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä¸šåŠ¡ä»£ç ï¼Œç¬¦åˆ â€œå¼€é—­åŸåˆ™â€ã€‚</p>
<h3 data-id="heading-30">äº”ã€ä¼ä¸šçº§å®è·µï¼šå¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-31">5.1 ç¼–è¯‘æœŸé”™è¯¯æ’æŸ¥</h4>
<p>Wire ç”Ÿæˆä»£ç æ—¶è‹¥æŠ¥é”™ï¼Œå¤šä¸ºä»¥ä¸‹åŸå› ï¼š</p>

























<table><thead><tr><th>é”™è¯¯ç±»å‹</th><th>å…¸å‹åœºæ™¯</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ä¾èµ–ç¼ºå¤±</td><td>Provider å‚æ•°æ— å¯¹åº” Provider</td><td>æ£€æŸ¥ <code>wire.Build</code> ä¸­æ˜¯å¦åŒ…å«è¯¥ä¾èµ–çš„ ProviderSet</td></tr><tr><td>å¾ªç¯ä¾èµ–</td><td>A ä¾èµ– Bï¼ŒB ä¾èµ– A</td><td>é€šè¿‡æ¥å£è§£è€¦ï¼›è°ƒæ•´åˆ†å±‚ç»“æ„ï¼Œç¡®ä¿ä¾èµ–å•å‘æµåŠ¨</td></tr><tr><td>è¿”å›å€¼ä¸åŒ¹é…</td><td>Provider è¿”å›å€¼ç±»å‹ä¸ç¬¦</td><td>æ£€æŸ¥ Provider å‡½æ•°è¿”å›å€¼ä¸ä¾èµ–ç±»å‹æ˜¯å¦ä¸€è‡´</td></tr></tbody></table>
<h4 data-id="heading-32">5.2 ä»£ç ç”Ÿæˆè§„èŒƒ</h4>
<ul>
<li>ä¸¥ç¦æ‰‹åŠ¨ä¿®æ”¹ <code>wire_gen.go</code>ï¼šè¯¥æ–‡ä»¶ä¸ºè‡ªåŠ¨ç”Ÿæˆï¼Œä¿®æ”¹åä¼šè¢«ä¸‹æ¬¡ <code>wire</code> å‘½ä»¤è¦†ç›–ï¼›</li>
<li>æ·»åŠ  <code>go:generate</code> æ³¨é‡Šï¼šåœ¨ <code>wire.go</code> å¤´éƒ¨æ·»åŠ  <code>//go:generate go run github.com/google/wire/cmd/wire</code>ï¼Œå¯é€šè¿‡ <code>go generate</code> æ‰¹é‡ç”Ÿæˆæ‰€æœ‰ Injector ä»£ç ï¼›</li>
<li>ç‰ˆæœ¬æ§åˆ¶ï¼šå°† <code>wire_gen.go</code> çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œç¡®ä¿å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„ä¾èµ–ç»„è£…é€»è¾‘ã€‚</li>
</ul>
<h4 data-id="heading-33">5.3 é«˜çº§æŠ€å·§ï¼šæ¥å£ä¸å®ç°ç»‘å®š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å®šä¹‰æ¥å£</span>
<span class="hljs-keyword">type</span> UserRepo <span class="hljs-keyword">interface</span> {
    GetUser(id <span class="hljs-type">int64</span>) (*User, <span class="hljs-type">error</span>)
}

<span class="hljs-comment">// Mock å®ç°</span>
<span class="hljs-keyword">type</span> MockUserRepo <span class="hljs-keyword">struct</span>{}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m *MockUserRepo)</span></span> GetUser(id <span class="hljs-type">int64</span>) (*User, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">return</span> &amp;User{ID: id, Name: <span class="hljs-string">"mock"</span>}, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Provider</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewMockUserRepo</span><span class="hljs-params">()</span></span> UserRepo {
    <span class="hljs-keyword">return</span> &amp;MockUserRepo{}
}

<span class="hljs-comment">// åœ¨ Injector ä¸­ç»‘å®š</span>
wire.Build(
    wire.Bind(<span class="hljs-built_in">new</span>(UserRepo), <span class="hljs-built_in">new</span>(*MockUserRepo)), <span class="hljs-comment">// ç»‘å®šæ¥å£ä¸ Mock å®ç°</span>
    NewMockUserRepo,
)
</code></pre>
<h3 data-id="heading-34">å…­ã€å°ç»“</h3>
<p>Wire ä½œä¸º Google å¼€æºçš„ç¼–è¯‘æœŸä¾èµ–æ³¨å…¥å·¥å…·ï¼Œä»¥ â€œæ— åå°„ã€ç¼–è¯‘æœŸæ ¡éªŒã€ä»£ç å¯è¯»æ€§é«˜â€ çš„ä¼˜åŠ¿ï¼Œå®Œç¾é€‚é…ä¼ä¸šçº§ä¸­åå°ç³»ç»Ÿçš„ç¨³å®šæ€§éœ€æ±‚ã€‚GoWind Admin åŸºäº Wire è®¾è®¡çš„ â€œåˆ†å±‚ ProviderSetâ€ æ–¹æ¡ˆï¼Œå®ç°äº†ä¾èµ–æ³¨å…¥é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘çš„å½»åº•è§£è€¦ï¼š</p>
<ul>
<li>ä»æ¶æ„ä¸Šï¼Œé€šè¿‡ â€œåŸå­çº§ â†’ æ¨¡å—èšåˆçº§ â†’ åº”ç”¨çº§â€ çš„åµŒå¥—ç»“æ„ï¼Œè®©ä¾èµ–å…³ç³»å¯è§†åŒ–ï¼›</li>
<li>ä»å·¥ç¨‹ä¸Šï¼Œé€šè¿‡ç‹¬ç«‹ <code>providers</code> ç›®å½•ï¼Œæœç»å¾ªç¯ä¾èµ–ã€é™ä½ç»´æŠ¤æˆæœ¬ï¼›</li>
<li>ä»å¼€å‘ä¸Šï¼Œé€šè¿‡è‡ªåŠ¨ç”Ÿæˆ Injector ä»£ç ï¼Œå‡å°‘æ‰‹åŠ¨ç»„è£…ä¾èµ–çš„é‡å¤å·¥ä½œã€‚</li>
</ul>
<p>è¯¥æ–¹æ¡ˆä¸ä»…é€‚ç”¨äº GoWind Adminï¼Œä¹Ÿå¯ç›´æ¥å¤ç”¨åˆ°å…¶ä»– Go è¯­è¨€ä¸­åå°é¡¹ç›®ï¼Œå¸®åŠ©å›¢é˜Ÿå¿«é€Ÿè½åœ°è§„èŒƒçš„ä¾èµ–æ³¨å…¥å®è·µï¼Œæå‡ä»£ç è´¨é‡ä¸å¼€å‘æ•ˆç‡ã€‚</p>
<h4 data-id="heading-35">ä¸ƒã€é¡¹ç›®ä»“åº“</h4>
<ul>
<li>GoWind Adminï¼ˆGiteeï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://gitee.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">gitee.com/tx7do/go-wiâ€¦</a></li>
<li>GoWind Adminï¼ˆGitHubï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://github.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">github.com/tx7do/go-wiâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[c++11 ä¹‹ æ™ºèƒ½æŒ‡é’ˆ]]></title>    <link>https://juejin.cn/post/7583906870827565065</link>    <guid>https://juejin.cn/post/7583906870827565065</guid>    <pubDate>2025-12-15T12:06:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583906870827565065" data-draft-id="7576124206397341706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="c++11 ä¹‹ æ™ºèƒ½æŒ‡é’ˆ"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-12-15T12:06:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GuSir"/> <meta itemprop="url" content="https://juejin.cn/user/3261574409623161"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            c++11 ä¹‹ æ™ºèƒ½æŒ‡é’ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261574409623161/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GuSir
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T12:06:17.000Z" title="Mon Dec 15 2025 12:06:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€. ä¸ºä»€ä¹ˆä¼šæœ‰æ™ºèƒ½æŒ‡é’ˆ</h2>
<p>c++ å¼•å…¥æ™ºèƒ½æŒ‡é’ˆï¼ˆSmart Pointersï¼‰çš„æ ¸å¿ƒç›®çš„ï¼Œæ˜¯Â <strong>è§£å†³ä¼ ç»Ÿ raw pointerï¼ˆè£¸æŒ‡é’ˆï¼‰çš„ä¸‰å¤§æ ¸å¿ƒé—®é¢˜</strong>ï¼ŒåŒæ—¶åœ¨ä¸ä¸§å¤± C++ åº•å±‚æ§åˆ¶èƒ½åŠ›çš„å‰æä¸‹ï¼Œå¼•å…¥æ›´å®‰å…¨ã€æ›´ç¬¦åˆç°ä»£ç¼–ç¨‹èŒƒå¼çš„å†…å­˜ç®¡ç†æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">1. å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰</h3>
<p>å½“åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼ˆ<code>new</code>Â å‡ºæ¥çš„ï¼‰æ²¡æœ‰è¢«æ‰‹åŠ¨Â <code>delete</code>Â æ—¶ï¼Œè¿™å—å†…å­˜ä¼šä¸€ç›´å ç”¨ï¼Œç›´åˆ°ç¨‹åºç»“æŸã€‚</p>
<ul>
<li>å‡½æ•°æå‰è¿”å›ï¼ˆæ¯”å¦‚ä¸­é—´æœ‰Â <code>if</code>Â åˆ†æ”¯è·³è¿‡Â <code>delete</code>ï¼‰ï¼›</li>
<li>å¼‚å¸¸æŠ›å‡ºï¼ˆ<code>try</code>Â å—ä¸­Â <code>new</code>ï¼Œ<code>catch</code>Â å—ä¸­æœªå¤„ç†Â <code>delete</code>ï¼‰ï¼›</li>
<li>é€»è¾‘ç–å¿½ï¼ˆå¿˜è®°å†™Â <code>delete</code>ï¼‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-type">int</span>* p = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// åŠ¨æ€åˆ†é…å†…å­˜</span>
    <span class="hljs-keyword">if</span> (some_condition) {
        <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æå‰è¿”å›ï¼Œp æŒ‡å‘çš„å†…å­˜æœªé‡Šæ”¾ â†’ å†…å­˜æ³„æ¼</span>
    }
    <span class="hljs-keyword">delete</span> p; <span class="hljs-comment">// æ­£å¸¸è·¯å¾„æ‰é‡Šæ”¾ï¼Œå¼‚å¸¸/æå‰è¿”å›æ—¶å¤±æ•ˆ</span>
}
</code></pre>
<h3 data-id="heading-2">2. é‡æŒ‡é’ˆï¼ˆDangling Pointerï¼‰</h3>
<p>å½“æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜è¢«é‡Šæ”¾ï¼ˆ<code>delete</code>ï¼‰åï¼ŒæŒ‡é’ˆæœ¬èº«æ²¡æœ‰è¢«ç½®ä¸ºÂ <code>nullptr</code>ï¼Œåç»­ä»å¯èƒ½è¢«è®¿é—® / æ“ä½œï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>ç¨‹åºå´©æºƒï¼ˆè®¿é—®å·²é‡Šæ”¾çš„å†…å­˜ï¼‰ï¼›</li>
<li>æ•°æ®é”™ä¹±ï¼ˆå†…å­˜è¢«é‡æ–°åˆ†é…ç»™å…¶ä»–å¯¹è±¡ï¼Œæ—§æŒ‡é’ˆè®¿é—®åˆ°æ— æ•ˆæ•°æ®ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-type">int</span>* p = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">delete</span> p; <span class="hljs-comment">// å†…å­˜é‡Šæ”¾ï¼Œä½† p ä»æŒ‡å‘åŸåœ°å€ï¼ˆé‡æŒ‡é’ˆï¼‰</span>
cout &lt;&lt; *p; <span class="hljs-comment">// æœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ï¼Œå¯èƒ½å´©æºƒæˆ–è¾“å‡ºåƒåœ¾å€¼</span>
</code></pre>
<h3 data-id="heading-3">3. äºŒæ¬¡é‡Šæ”¾ï¼ˆDouble Freeï¼‰</h3>
<p>åŒä¸€å†…å­˜è¢«Â <code>delete</code>Â ä¸¤æ¬¡ï¼Œä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼ˆå†…å­˜ç®¡ç†æœºåˆ¶æ£€æµ‹åˆ°éæ³•é‡Šæ”¾ï¼‰.</p>
<p>ç¤ºä¾‹ :</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-type">int</span>* p = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">delete</span> p; 
<span class="hljs-keyword">delete</span> p; <span class="hljs-comment">// äºŒæ¬¡é‡Šæ”¾ â†’ ç¨‹åºå´©æºƒ</span>
</code></pre>
<h2 data-id="heading-4">äºŒ. æ™ºèƒ½æŒ‡é’ˆçš„æ ¸å¿ƒè®¾è®¡ç†å¿µ</h2>
<p><strong>RAII + æ‰€æœ‰æƒè¯­ä¹‰</strong></p>
<p>æ™ºèƒ½æŒ‡é’ˆæœ¬è´¨æ˜¯Â  <strong>â€œå°è£…è£¸æŒ‡é’ˆçš„ç±»æ¨¡æ¿â€</strong> ï¼Œå…¶æ ¸å¿ƒæœºåˆ¶æ˜¯ï¼š</p>
<ol>
<li>
<p><strong>RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰</strong> ï¼šåˆ©ç”¨ç±»çš„æ„é€ å‡½æ•°è·å–èµ„æºï¼ˆå¦‚åŠ¨æ€å†…å­˜ï¼‰ï¼Œææ„å‡½æ•°è‡ªåŠ¨é‡Šæ”¾èµ„æºï¼ˆæ— éœ€æ‰‹åŠ¨Â <code>delete</code>ï¼‰ã€‚å› ä¸º C++ ä¿è¯ï¼šå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼ˆå¦‚ç¦»å¼€ä½œç”¨åŸŸã€å‡½æ•°è¿”å›ï¼‰ï¼Œå…¶ææ„å‡½æ•°ä¸€å®šä¼šè¢«è°ƒç”¨ã€‚</p>
</li>
<li>
<p><strong>æ‰€æœ‰æƒè¯­ä¹‰ï¼ˆOwnership Semanticsï¼‰</strong> ï¼šæ˜ç¡®æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ â€œå½’è°æ‰€æœ‰â€ï¼Œé¿å…å¤šæŒ‡é’ˆæ··ä¹±æ“ä½œï¼ˆæ¯”å¦‚Â <code>std::unique_ptr</code>Â ç‹¬å æ‰€æœ‰æƒï¼Œ<code>std::shared_ptr</code>Â å…±äº«æ‰€æœ‰æƒï¼‰</p>
</li>
</ol>
<blockquote>
<p><strong>RAII</strong> ç†è§£å¯ä»¥ç»§ç»­æ·±å…¥ç†è§£ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼</p>
</blockquote>
<h2 data-id="heading-5">ä¸‰. å…±äº«æ™ºèƒ½æŒ‡å¸§ <code>std::shared_ptr</code></h2>
<p>æ ¸å¿ƒç‰¹ç‚¹æ˜¯å…è®¸å¤šä¸ªÂ <code>shared_ptr</code>Â æŒ‡å‘åŒä¸€å—åŠ¨æ€å†…å­˜ï¼Œé€šè¿‡<strong>å¼•ç”¨è®¡æ•°ï¼ˆReference Countingï¼‰</strong> Â ç®¡ç†å†…å­˜ç”Ÿå‘½å‘¨æœŸï¼šå½“æœ€åä¸€ä¸ªæŒ‡å‘è¯¥å†…å­˜çš„Â <code>shared_ptr</code>Â è¢«é”€æ¯ / é‡ç½®æ—¶ï¼Œæ‰ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚</p>
<h3 data-id="heading-6">ï¼ˆ1ï¼‰å¼•ç”¨è®¡æ•°æœºåˆ¶</h3>
<ul>
<li><code>shared_ptr</code>Â å†…éƒ¨ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼š
<ul>
<li>æŒ‡å‘å®é™…æ•°æ®çš„<strong>è£¸æŒ‡é’ˆ</strong>ï¼ˆdata pointerï¼‰ï¼›</li>
<li>æŒ‡å‘æ§åˆ¶å—ï¼ˆcontrol blockï¼‰çš„æŒ‡é’ˆï¼ˆå­˜å‚¨å¼•ç”¨è®¡æ•°ã€ææ„å‡½æ•°ã€åˆ†é…å™¨ç­‰ï¼‰</li>
</ul>
</li>
<li>æ¯æ–°å¢ä¸€ä¸ªÂ <code>shared_ptr</code>Â æŒ‡å‘åŒä¸€èµ„æºï¼Œå¼•ç”¨è®¡æ•° +1ï¼›</li>
<li>æ¯é”€æ¯ / é‡ç½®ä¸€ä¸ªÂ <code>shared_ptr</code>ï¼Œå¼•ç”¨è®¡æ•° -1ï¼›</li>
<li>å½“å¼•ç”¨è®¡æ•°é™è‡³ 0 æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨Â <code>delete</code>ï¼ˆæˆ–è‡ªå®šä¹‰åˆ é™¤å™¨ï¼‰é‡Šæ”¾èµ„æºï¼Œå¹¶é”€æ¯æ§åˆ¶å—ã€‚</li>
</ul>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">MyInt</span> {
    <span class="hljs-type">int</span> val;
    <span class="hljs-built_in">MyInt</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">val</span>(v) {
        <span class="hljs-comment">// std::cout &lt;&lt; "MyInt æ„é€ ï¼š" &lt;&lt; val &lt;&lt; std::endl;</span>
    }
    ~<span class="hljs-built_in">MyInt</span>() {
        std::cout &lt;&lt; <span class="hljs-string">"MyInt ææ„ï¼š"</span> &lt;&lt; val &lt;&lt; std::endl;
    }
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(std::shared_ptr&lt;MyInt&gt;&amp; ptr)</span> </span>{
    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    <span class="hljs-comment">// èµ‹å€¼æ–°çš„ shared_ptr</span>
    ptr = std::<span class="hljs-built_in">make_shared</span>&lt;MyInt&gt;(<span class="hljs-number">20</span>);

    std::shared_ptr&lt;MyInt&gt; ptr2 = ptr;

    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;MyInt&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;MyInt&gt;(<span class="hljs-number">10</span>);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨å‰å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    <span class="hljs-built_in">func</span>(sp);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨åå¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    std::cout &lt;&lt; <span class="hljs-string">"sp æŒ‡å‘çš„å€¼ï¼š"</span> &lt;&lt; sp-&gt;val &lt;&lt; std::endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>æ‰§è¡Œç»“æœ:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13299364b93944098918a9fd261efe0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR3VTaXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766405177&amp;x-signature=sWnXNHrTolzBldR9fr4afv%2BaBMA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">ï¼ˆ2ï¼‰ç‹¬å æ€§ï¼ˆç›¸å¯¹ï¼‰ä¸æ‹·è´ / èµ‹å€¼</h3>
<ul>
<li>æ”¯æŒ<strong>æ‹·è´æ„é€ </strong>å’Œ<strong>èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼šæ‹·è´ / èµ‹å€¼æ—¶ä»…å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä¸æ·±æ‹·è´æ•°æ®ï¼›</li>
<li>ä¸åŒäºÂ <code>unique_ptr</code>ï¼ˆä¸å¯æ‹·è´ï¼‰ï¼Œ<code>shared_ptr</code>Â å¯è‡ªç”±æ‹·è´ã€ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ï¼ˆå€¼ä¼ é€’ï¼‰ã€å­˜å…¥å®¹å™¨ï¼ˆå¦‚Â <code>std::vector&lt;std::shared_ptr&lt;T&gt;&gt;</code>ï¼‰ã€‚</li>
</ul>
<p>//è¯¦ç»†è§£é‡Šï¼Œç»“åˆä¼ å‚</p>
<h3 data-id="heading-8">ï¼ˆ3ï¼‰è‡ªå®šä¹‰åˆ é™¤å™¨</h3>
<p><code>shared_ptr</code>Â æ”¯æŒè‡ªå®šä¹‰åˆ é™¤å™¨ï¼ˆDeletorï¼‰ï¼Œç”¨äºæ›¿ä»£é»˜è®¤çš„Â <code>delete</code>ï¼Œé€‚é…ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚æ•°ç»„ã€æ–‡ä»¶å¥æŸ„ã€å†…å­˜æ± åˆ†é…çš„å†…å­˜ç­‰ï¼‰ã€‚</p>
<blockquote>
<p>åœ¨è®¡æ•°åˆ°0çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œåˆ é™¤å™¨ï¼Œ-   å¦‚æœåªæ˜¯â€œå¤åˆ¶â€æˆ–â€œèµ‹å€¼â€äº§ç”Ÿæ–°çš„ shared_ptrï¼Œå¼•ç”¨è®¡æ•°ä» &gt;0ï¼Œåˆ é™¤å™¨ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
</blockquote>
<h4 data-id="heading-9">åœºæ™¯ A:æ•°ç»„</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">100</span>],          <span class="hljs-comment">// è£¸æŒ‡é’ˆ</span>
                       [](<span class="hljs-type">int</span>* p){ <span class="hljs-keyword">delete</span>[] p; } <span class="hljs-comment">// è‡ªå®šä¹‰åˆ é™¤å™¨</span>
)</span></span>;
</code></pre>
<h4 data-id="heading-10">åœºæ™¯ B:æ–‡ä»¶å¥æŸ„</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">auto</span> file_deleter = [](FILE* fp){
    <span class="hljs-keyword">if</span>(fp) <span class="hljs-built_in">fclose</span>(fp);
};
<span class="hljs-function">std::shared_ptr&lt;FILE&gt; <span class="hljs-title">sp</span><span class="hljs-params">(fopen(<span class="hljs-string">"log.txt"</span>,<span class="hljs-string">"w"</span>), file_deleter)</span></span>;
</code></pre>
<h4 data-id="heading-11">åœºæ™¯ Cï¼šå†…å­˜æ± </h4>
<pre><code class="hljs language-arduino" lang="arduino">MemoryPool pool;
<span class="hljs-function">std::shared_ptr&lt;Foo&gt; <span class="hljs-title">sp</span><span class="hljs-params">(
    <span class="hljs-keyword">static_cast</span>&lt;Foo*&gt;(pool.allocate()),
    [&amp;pool](Foo* p){ pool.deallocate(p); }
)</span></span>;
</code></pre>
<h4 data-id="heading-12">åœºæ™¯ Dï¼šå‡½æ•°å¯¹è±¡å½“åˆ é™¤å™¨</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">VerboseDeleter</span>{
    std::string name;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Widget* w)</span> <span class="hljs-type">const</span> </span>{
        std::cout &lt;&lt; <span class="hljs-string">"destroying "</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">'\n'</span>;
        <span class="hljs-keyword">delete</span> w;
    }
};
<span class="hljs-function">std::shared_ptr&lt;Widget&gt; <span class="hljs-title">pw</span><span class="hljs-params">(<span class="hljs-keyword">new</span> Widget, VerboseDeleter{<span class="hljs-string">"widget#1"</span>})</span></span>;
</code></pre>
<h3 data-id="heading-13">ï¼ˆ4ï¼‰ç©ºæŒ‡é’ˆå®‰å…¨</h3>
<ul>
<li>ç©ºçš„Â <code>shared_ptr</code>ï¼ˆæœªæŒ‡å‘ä»»ä½•èµ„æºï¼‰å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œæ“ä½œï¼ˆå¦‚Â <code>reset()</code>ã€<code>use_count()</code>ï¼‰ä¸ä¼šè§¦å‘æœªå®šä¹‰è¡Œä¸ºï¼›</li>
<li>å¯é€šè¿‡Â <code>operator bool()</code>Â åˆ¤æ–­æ˜¯å¦æŒ‡å‘æœ‰æ•ˆèµ„æºï¼š</li>
</ul>
<pre><code class="hljs language-cpp" lang="cpp">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; p;
<span class="hljs-keyword">if</span> (p) { <span class="hljs-comment">// ç­‰ä»·äº p != nullptr</span>
    std::cout &lt;&lt; *p &lt;&lt; std::endl;
} <span class="hljs-keyword">else</span> {
    std::cout &lt;&lt; <span class="hljs-string">"p ä¸ºç©º"</span> &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡ºè¯¥è¡Œ</span>
}
</code></pre>
<h3 data-id="heading-14">ï¼ˆ5ï¼‰å¤§å°ä¸æ€§èƒ½</h3>
<ul>
<li><code>shared_ptr</code>Â å¤§å°é€šå¸¸æ˜¯<strong>è£¸æŒ‡é’ˆçš„ 2 å€</strong>ï¼ˆå­˜å‚¨æ•°æ®æŒ‡é’ˆ + æ§åˆ¶å—æŒ‡é’ˆï¼‰ï¼›</li>
<li>å¼•ç”¨è®¡æ•°çš„å¢å‡æ˜¯<strong>åŸå­æ“ä½œ</strong>ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼Œä½†å­˜åœ¨è½»å¾®çš„æ€§èƒ½å¼€é”€ï¼ˆç›¸æ¯”è£¸æŒ‡é’ˆ /<code>unique_ptr</code>ï¼‰ï¼›</li>
<li>æ³¨æ„ï¼šå¼•ç”¨è®¡æ•°çº¿ç¨‹å®‰å…¨ â‰  æ•°æ®è®¿é—®çº¿ç¨‹å®‰å…¨ï¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹Â <code>shared_ptr</code>Â æŒ‡å‘çš„æ•°æ®ï¼Œä»éœ€åŠ é”ã€‚</li>
</ul>
<h3 data-id="heading-15">ï¼ˆ6ï¼‰é¿å…å¾ªç¯å¼•ç”¨ï¼ˆæ ¸å¿ƒå‘ç‚¹ï¼‰</h3>
<p><code>shared_ptr</code>Â çš„æœ€å¤§é—®é¢˜æ˜¯<strong>å¾ªç¯å¼•ç”¨</strong>ï¼šä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰<code>shared_ptr</code>Â äº’ç›¸æŒ‡å‘å¯¹æ–¹ï¼Œå¯¼è‡´å¼•ç”¨è®¡æ•°æ— æ³•é™è‡³ 0ï¼Œå†…å­˜æ³„æ¼ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> {
    std::shared_ptr&lt;Node&gt; next; <span class="hljs-comment">// å…±äº«æ‰€æœ‰æƒ</span>
    ~<span class="hljs-built_in">Node</span>() { std::cout &lt;&lt; <span class="hljs-string">"Node ææ„"</span> &lt;&lt; std::endl; }
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::shared_ptr&lt;Node&gt; <span class="hljs-title">n1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> Node)</span></span>;
    <span class="hljs-function">std::shared_ptr&lt;Node&gt; <span class="hljs-title">n2</span><span class="hljs-params">(<span class="hljs-keyword">new</span> Node)</span></span>;
    n1-&gt;next = n2; <span class="hljs-comment">// n1 å¼•ç”¨ n2</span>
    n2-&gt;next = n1; <span class="hljs-comment">// n2 å¼•ç”¨ n1 â†’ å¾ªç¯å¼•ç”¨</span>
    <span class="hljs-comment">// å‡½æ•°ç»“æŸæ—¶ï¼Œn1/n2 é”€æ¯ï¼Œä½†å¼•ç”¨è®¡æ•°ä»ä¸º1ï¼Œå†…å­˜æ³„æ¼ï¼ˆææ„å‡½æ•°ä¸æ‰§è¡Œï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-16">ï¼ˆ7ï¼‰é¿å…ä»è£¸æŒ‡é’ˆå¤šæ¬¡æ„é€  shared_ptr</h3>
<p>åŒä¸€è£¸æŒ‡é’ˆå¤šæ¬¡æ„é€ Â <code>shared_ptr</code>ï¼Œä¼šå¯¼è‡´å¤šä¸ªç‹¬ç«‹çš„æ§åˆ¶å—ï¼Œæœ€ç»ˆè§¦å‘<strong>äºŒæ¬¡é‡Šæ”¾</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">int</span>* raw = new <span class="hljs-type">int</span>(<span class="hljs-number">10</span>);
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title function_">p1</span><span class="hljs-params">(raw)</span>;
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title function_">p2</span><span class="hljs-params">(raw)</span>; <span class="hljs-comment">// é”™è¯¯ï¼šp1å’Œp2å„æœ‰ç‹¬ç«‹æ§åˆ¶å—ï¼Œææ„æ—¶ä¸¤æ¬¡delete raw</span>
</code></pre>
<h3 data-id="heading-17">ï¼ˆ8ï¼‰ä¼˜å…ˆä½¿ç”¨ std::make_shared</h3>
<ul>
<li>æ›´é«˜æ•ˆï¼šä¸€æ¬¡æ€§åˆ†é…æ•°æ®å†…å­˜ + æ§åˆ¶å—å†…å­˜ï¼ˆè£¸æŒ‡é’ˆæ„é€ éœ€ä¸¤æ¬¡åˆ†é…ï¼šæ•°æ® + æ§åˆ¶å—ï¼‰ï¼›</li>
<li>æ›´å®‰å…¨ï¼šé¿å…å¼‚å¸¸å®‰å…¨é—®é¢˜ï¼ˆå¦‚Â <code>func(shared_ptr&lt;int&gt;(new int), other_func())</code>Â å¯èƒ½å› ç¼–è¯‘å™¨ä¼˜åŒ–å¯¼è‡´å†…å­˜æ³„æ¼ï¼‰ï¼›</li>
<li>è¯­æ³•ç®€æ´ï¼šæ— éœ€æ‰‹åŠ¨å†™Â <code>new</code>ã€‚</li>
</ul>
<blockquote>
<p>é™åˆ¶ï¼š<code>make_shared</code>Â æ— æ³•ç›´æ¥æŒ‡å®šè‡ªå®šä¹‰åˆ é™¤å™¨ï¼ˆéœ€é€šè¿‡Â <code>shared_ptr</code>Â æ„é€ å‡½æ•°é…åˆï¼‰ã€‚</p>
</blockquote>
<h3 data-id="heading-18">ï¼ˆ9ï¼‰ä¸è¦å°† shared_ptr å­˜å‚¨åœ¨å…¨å±€ / é™æ€å˜é‡ä¸­ï¼ˆè°¨æ…ï¼‰</h3>
<p>å…¨å±€Â <code>shared_ptr</code>Â çš„ææ„é¡ºåºä¸ç¡®å®šï¼Œå¯èƒ½å¯¼è‡´èµ„æºé‡Šæ”¾æ—¶ä¾èµ–çš„å¯¹è±¡å·²é”€æ¯ï¼Œå¼•å‘æœªå®šä¹‰è¡Œä¸ºã€‚è€Œä¸”è¿™ä¸ªå¯¹è±¡æ­»çš„å¯èƒ½æ¯”mainè¿˜æ™š</p>
<h3 data-id="heading-19">ï¼ˆ10ï¼‰çº¿ç¨‹å®‰å…¨è¯´æ˜</h3>
<ul>
<li><strong>å¼•ç”¨è®¡æ•°æ“ä½œ</strong>ï¼š<code>shared_ptr</code>Â çš„å¼•ç”¨è®¡æ•°å¢å‡æ˜¯åŸå­æ“ä½œï¼Œå¤šçº¿ç¨‹æ‹·è´ / é‡ç½®Â <code>shared_ptr</code>Â æœ¬èº«æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›</li>
<li><strong>æ•°æ®è®¿é—®</strong>ï¼šå¤šçº¿ç¨‹åŒæ—¶è¯»å†™Â <code>shared_ptr</code>Â æŒ‡å‘çš„æ•°æ®ï¼Œ<strong>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</strong>ï¼Œéœ€é€šè¿‡äº’æ–¥é”ï¼ˆå¦‚Â <code>std::mutex</code>ï¼‰ä¿æŠ¤ï¼›</li>
<li><strong>åŒä¸€ shared_ptr å¯¹è±¡çš„ä¿®æ”¹</strong>ï¼šå¤šçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªÂ <code>shared_ptr</code>Â å¯¹è±¡ï¼ˆå¦‚Â <code>p.reset()</code>ï¼‰ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€åŠ é”ã€‚</li>
</ul>
<h3 data-id="heading-20">ï¼ˆ11ï¼‰è¡¥å……ï¼šshared_ptr ä½œä¸ºå‡½æ•°å‚æ•°æ—¶çš„å¼•ç”¨è®¡æ•°è¡Œä¸º</h3>
<ul>
<li>
<p><strong>å€¼ä¼ é€’ï¼šå¼•ç”¨è®¡æ•° +1ï¼Œå‡½æ•°ç»“æŸ -1</strong></p>
<p>å½“Â <code>shared_ptr</code>Â ä»¥<strong>å€¼ä¼ é€’</strong>æ–¹å¼ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œä¼šè§¦å‘Â <code>shared_ptr</code>Â çš„<strong>æ‹·è´æ„é€ </strong>ï¼š</p>
<ol>
<li>å‡½æ•°è°ƒç”¨æ—¶ï¼Œå®å‚çš„Â <code>shared_ptr</code>Â æ‹·è´ç»™å½¢å‚ï¼Œå¼•ç”¨è®¡æ•°Â  <strong>+1</strong>ï¼›</li>
<li>å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œå½¢å‚å‡ºä½œç”¨åŸŸè¢«é”€æ¯ï¼Œå¼•ç”¨è®¡æ•°Â <strong>-1</strong>ï¼›</li>
<li>æœ€ç»ˆå¼•ç”¨è®¡æ•°å›åˆ°è°ƒç”¨å‰çš„çŠ¶æ€ã€‚</li>
<li/>
</ol>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; ptr)</span> </span>{ <span class="hljs-comment">// å€¼ä¼ é€’ï¼Œæ‹·è´æ„é€ </span>
    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 2</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨å‰å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    <span class="hljs-built_in">func</span>(sp);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨åå¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ä¼˜ç¼ºç‚¹</strong></p>
<ul>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå‡½æ•°å†…å¯¹å½¢å‚çš„ä¿®æ”¹ï¼ˆå¦‚Â <code>ptr = nullptr</code>ï¼‰ä¸ä¼šå½±å“å®å‚ï¼Œé€»è¾‘éš”ç¦»ï¼›</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ol>
<li>æ‹·è´Â <code>shared_ptr</code>Â æœ‰å¼€é”€ï¼ˆåŸå­æ“ä½œ + æŒ‡é’ˆæ‹·è´ï¼‰ï¼Œé«˜é¢‘è°ƒç”¨æ—¶æ€§èƒ½æŸè€—æ˜æ˜¾ï¼›</li>
<li>è‹¥å‡½æ•°å†…é•¿æœŸæŒæœ‰å½¢å‚ï¼ˆå¦‚å­˜å‚¨åˆ°å…¨å±€å®¹å™¨ï¼‰ï¼Œå¯èƒ½å¯¼è‡´å¼•ç”¨è®¡æ•°é•¿æœŸä¸ä¸º 0ï¼Œå†…å­˜æ— æ³•åŠæ—¶é‡Šæ”¾ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>é const å¼•ç”¨ä¼ é€’ï¼šå¼•ç”¨è®¡æ•°ä¸å˜</strong></p>
<p>å½“Â <code>shared_ptr</code>Â ä»¥<strong>é const å¼•ç”¨ï¼ˆ<code>shared_ptr&lt;T&gt;&amp;</code>ï¼‰</strong> Â ä¼ é€’æ—¶ï¼Œå½¢å‚æ˜¯å®å‚çš„åˆ«åï¼Œä¸ä¼šè§¦å‘æ‹·è´æ„é€ ï¼Œå› æ­¤<strong>å¼•ç”¨è®¡æ•°å§‹ç»ˆä¸å˜</strong>ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">MyInt</span> {
    <span class="hljs-type">int</span> val;
    <span class="hljs-built_in">MyInt</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">val</span>(v) {
        std::cout &lt;&lt; <span class="hljs-string">"MyInt æ„é€ ï¼š"</span> &lt;&lt; val &lt;&lt; std::endl;
    }
    ~<span class="hljs-built_in">MyInt</span>() {
        std::cout &lt;&lt; <span class="hljs-string">"MyInt ææ„ï¼š"</span> &lt;&lt; val &lt;&lt; std::endl;
    }
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(std::shared_ptr&lt;MyInt&gt;&amp; ptr)</span> </span>{
    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    <span class="hljs-comment">// èµ‹å€¼æ–°çš„ shared_ptr</span>
    ptr = std::<span class="hljs-built_in">make_shared</span>&lt;MyInt&gt;(<span class="hljs-number">20</span>);
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;MyInt&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;MyInt&gt;(<span class="hljs-number">10</span>);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨å‰å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    <span class="hljs-built_in">func</span>(sp);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨åå¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;
    std::cout &lt;&lt; <span class="hljs-string">"sp æŒ‡å‘çš„å€¼ï¼š"</span> &lt;&lt; sp-&gt;val &lt;&lt; std::endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<blockquote>
<p>æ³¨æ„è¿™é‡Œæ–¹æ³•æ‰§è¡Œï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šææ„åŸæ¥çš„</p>
</blockquote>
<p><strong>ä¼˜ç¼ºç‚¹</strong></p>
<ul>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå‡½æ•°å†…å¯¹å½¢å‚çš„ä¿®æ”¹ï¼ˆå¦‚Â <code>ptr = nullptr</code>ï¼‰ä¸ä¼šå½±å“å®å‚ï¼Œé€»è¾‘éš”ç¦»ï¼›</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ol>
<li>æ‹·è´Â <code>shared_ptr</code>Â æœ‰å¼€é”€ï¼ˆåŸå­æ“ä½œ + æŒ‡é’ˆæ‹·è´ï¼‰ï¼Œé«˜é¢‘è°ƒç”¨æ—¶æ€§èƒ½æŸè€—æ˜æ˜¾ï¼›</li>
<li>è‹¥å‡½æ•°å†…é•¿æœŸæŒæœ‰å½¢å‚ï¼ˆå¦‚å­˜å‚¨åˆ°å…¨å±€å®¹å™¨ï¼‰ï¼Œå¯èƒ½å¯¼è‡´å¼•ç”¨è®¡æ•°é•¿æœŸä¸ä¸º 0ï¼Œå†…å­˜æ— æ³•åŠæ—¶é‡Šæ”¾ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>const å¼•ç”¨ä¼ é€’ï¼šå¼•ç”¨è®¡æ•°ä¸å˜</strong></p>
<p>å½“Â <code>shared_ptr</code>Â ä»¥<strong>const å¼•ç”¨ï¼ˆ<code>const shared_ptr&lt;T&gt;&amp;</code>ï¼‰</strong> Â ä¼ é€’æ—¶ï¼Œå½¢å‚æ˜¯å®å‚çš„åªè¯»åˆ«åï¼ŒåŒæ ·ä¸è§¦å‘æ‹·è´æ„é€ ï¼Œ<strong>å¼•ç”¨è®¡æ•°ä¸å˜</strong>ï¼›ä¸”å‡½æ•°å†…æ— æ³•ä¿®æ”¹å½¢å‚ï¼ˆå¦‚èµ‹å€¼ã€ç½®ç©ºï¼‰ï¼Œé¿å…äº†é const å¼•ç”¨çš„é£é™©ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;&amp; ptr)</span> </span>{ <span class="hljs-comment">// const å¼•ç”¨ä¼ é€’</span>
    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    <span class="hljs-comment">// ptr = std::make_shared&lt;int&gt;(20); // ç¼–è¯‘é”™è¯¯ï¼šconst å¼•ç”¨ä¸å¯ä¿®æ”¹</span>
    *ptr = <span class="hljs-number">20</span>; <span class="hljs-comment">// å…è®¸ä¿®æ”¹æŒ‡å‘çš„èµ„æºï¼ˆä»…é™åˆ¶ shared_ptr æœ¬èº«ï¼Œä¸é™åˆ¶èµ„æºï¼‰</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨å‰å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    <span class="hljs-built_in">func</span>(sp);
    std::cout &lt;&lt; <span class="hljs-string">"è°ƒç”¨åå¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    std::cout &lt;&lt; <span class="hljs-string">"sp æŒ‡å‘çš„å€¼ï¼š"</span> &lt;&lt; *sp &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 20</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ä¼˜ç¼ºç‚¹</strong></p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæ— æ‹·è´å¼€é”€ï¼Œæ€§èƒ½ä¼˜ï¼›åªè¯»ç‰¹æ€§é¿å…äº†æ„å¤–ä¿®æ”¹å®å‚çš„é£é™©ï¼Œæ˜¯æœ€å®‰å…¨çš„ä¼ å‚æ–¹å¼ï¼›</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šè‹¥å‡½æ•°å†…éœ€è¦é•¿æœŸæŒæœ‰è¯¥Â <code>shared_ptr</code>ï¼ˆå¦‚å­˜å‚¨åˆ°å®¹å™¨ï¼‰ï¼Œconst å¼•ç”¨å¯èƒ½æ‚¬ç©ºï¼ˆå®å‚é”€æ¯åå¼•ç”¨å¤±æ•ˆï¼‰ï¼Œéœ€æ‰‹åŠ¨æ‹·è´ï¼ˆæ­¤æ—¶å¼•ç”¨è®¡æ•°ä¼š +1ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç§»åŠ¨è¯­ä¹‰ï¼ˆstd::moveï¼‰ä¼ é€’</strong></p>
<p>è‹¥é€šè¿‡Â <code>std::move</code>Â å°†Â <code>shared_ptr</code>Â ä»¥å€¼ä¼ é€’æ–¹å¼ä¼ å…¥å‡½æ•°ï¼Œä¼šè§¦å‘<strong>ç§»åŠ¨æ„é€ </strong>ï¼š</p>
<ol>
<li>å®å‚çš„Â <code>shared_ptr</code>Â æ‰€æœ‰æƒè½¬ç§»ç»™å½¢å‚ï¼Œå¼•ç”¨è®¡æ•°Â <strong>ä¿æŒä¸å˜</strong>ï¼ˆè€Œé +1ï¼‰ï¼›</li>
<li>å®å‚å˜ä¸º â€œç©ºâ€ çŠ¶æ€ï¼ˆ<code>use_count() == 0</code>ï¼‰ï¼Œä¸å†ç®¡ç†èµ„æºï¼›</li>
<li>å‡½æ•°ç»“æŸåå½¢å‚ææ„ï¼Œå¼•ç”¨è®¡æ•° -1ï¼Œè‹¥æ­¤æ—¶æ— å…¶ä»–æŒæœ‰è€…ï¼Œèµ„æºè¢«é‡Šæ”¾ã€‚</li>
</ol>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; ptr)</span> </span>{ <span class="hljs-comment">// å€¼ä¼ é€’ + std::move</span>
    std::cout &lt;&lt; <span class="hljs-string">"func å†…å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; ptr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);
    std::cout &lt;&lt; <span class="hljs-string">"move å‰å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span>
    <span class="hljs-built_in">func</span>(std::<span class="hljs-built_in">move</span>(sp));
    std::cout &lt;&lt; <span class="hljs-string">"move åå®å‚å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 0</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>ç§»åŠ¨æ„é€ ä¼š â€œçªƒå–â€ å®å‚çš„èµ„æºæŒ‡é’ˆå’Œå¼•ç”¨è®¡æ•°ï¼Œå®å‚çš„å†…éƒ¨æŒ‡é’ˆè¢«ç½®ç©ºï¼Œå› æ­¤å¼•ç”¨è®¡æ•°ä¸ä¼šå¢åŠ ï¼ˆä»…æ‰€æœ‰æƒè½¬ç§»ï¼‰ï¼›é€‚ç”¨äºä¸å†ä½¿ç”¨å®å‚çš„åœºæ™¯ï¼Œé¿å…æ‹·è´å¼€é”€ã€‚</p>
</li>
</ul>
<h2 data-id="heading-21">å››. ç‹¬äº«æ™ºèƒ½æŒ‡å¸§ <code>std::unique_ptr</code></h2>
<p><code>std::unique_ptr</code>Â æ˜¯ C++11 å¼•å…¥çš„<strong>ç‹¬å å¼æ™ºèƒ½æŒ‡é’ˆ</strong>ï¼Œç”¨äºç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œæ ¸å¿ƒç‰¹æ€§æ˜¯<strong>æ‰€æœ‰æƒå”¯ä¸€</strong>â€”â€” åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªÂ <code>unique_ptr</code>Â æŒ‡å‘æŸä¸ªå¯¹è±¡ï¼Œé”€æ¯æ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œå½»åº•é¿å…å†…å­˜æ³„æ¼å’Œæ‰‹åŠ¨Â <code>delete</code>Â çš„é£é™©ã€‚ä½¿ç”¨ç›¸å¯¹å…±äº«æŒ‡é’ˆè¦ç®€å•ï¼Œä½†å´æ˜¯æœ€å¸¸ç”¨çš„æ™ºèƒ½æŒ‡é’ˆã€‚</p>
<ol>
<li><strong>ç‹¬å æ‰€æœ‰æƒ</strong>ï¼šä¸å¯æ‹·è´ï¼ˆC++11ï¼‰ï¼Œä»…å¯ç§»åŠ¨ï¼ˆmoveï¼‰ï¼Œç¡®ä¿å¯¹è±¡åªæœ‰ä¸€ä¸ªç®¡ç†è€…ï¼›</li>
<li><strong>è‡ªåŠ¨é‡Šæ”¾</strong>ï¼š<code>unique_ptr</code>Â ææ„æ—¶ï¼ˆå¦‚ç¦»å¼€ä½œç”¨åŸŸã€è¢«é‡ç½®ï¼‰ï¼Œè‡ªåŠ¨è°ƒç”¨Â <code>delete</code>Â é‡Šæ”¾æ‰€ç®¡ç†çš„å†…å­˜ï¼›</li>
<li><strong>è½»é‡çº§</strong>ï¼šæ— é¢å¤–å¼€é”€ï¼ˆå¤§å°ç­‰åŒäºåŸå§‹æŒ‡é’ˆï¼‰ï¼Œæ”¯æŒè‡ªå®šä¹‰åˆ é™¤å™¨ï¼›</li>
<li><strong>æ”¯æŒæ•°ç»„</strong>ï¼šC++11 åŸç”Ÿæ”¯æŒç®¡ç†åŠ¨æ€æ•°ç»„ï¼ˆ<code>unique_ptr&lt;T[]&gt;</code>ï¼‰ã€‚</li>
</ol>
<p>ç®€å•ç”¨æ³•ï¼Œå•ä¸ªå¯¹è±¡:</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-comment">// æ–¹å¼1ï¼šç›´æ¥æ„é€ ï¼ˆC++11 æ¨èï¼‰</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">10</span>))</span></span>;

<span class="hljs-comment">// æ–¹å¼2ï¼šmake_uniqueï¼ˆC++14 å¼•å…¥ï¼Œæ›´å®‰å…¨ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
<span class="hljs-comment">// C++11 æ—  make_uniqueï¼Œå¯è‡ªè¡Œå®ç°</span>
unique_ptr&lt;<span class="hljs-type">int</span>&gt; ptr2 = <span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">20</span>);

<span class="hljs-comment">// ç©º unique_ptr</span>
unique_ptr&lt;<span class="hljs-type">int</span>&gt; ptr3; <span class="hljs-comment">// åˆå§‹åŒ–ä¸º nullptr</span>
</code></pre>
<p>ç®¡ç†åŠ¨æ€æ•°ç»„ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-comment">// ç®¡ç† int æ•°ç»„ï¼Œææ„æ—¶è‡ªåŠ¨è°ƒç”¨ delete[]</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>[]&gt; <span class="hljs-title">arr_ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">5</span>]{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>})</span></span>;
<span class="hljs-comment">// è®¿é—®æ•°ç»„å…ƒç´ </span>
cout &lt;&lt; arr_ptr[<span class="hljs-number">0</span>] &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º 1</span>
</code></pre>
<p>é€šè¿‡Â <code>*</code>Â è§£å¼•ç”¨ï¼ˆå•ä¸ªå¯¹è±¡ï¼‰æˆ–Â <code>-&gt;</code>ï¼ˆæˆå‘˜è®¿é—®ï¼‰ï¼Œæˆ–Â <code>[]</code>ï¼ˆæ•°ç»„ï¼‰ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Person</span> {
    string name;
    <span class="hljs-type">int</span> age;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; name &lt;&lt; <span class="hljs-string">", "</span> &lt;&lt; age &lt;&lt; endl; }
};

<span class="hljs-comment">// å•ä¸ªå¯¹è±¡</span>
<span class="hljs-function">unique_ptr&lt;Person&gt; <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-keyword">new</span> Person{<span class="hljs-string">"Alice"</span>, <span class="hljs-number">20</span>})</span></span>;
cout &lt;&lt; (*p).name &lt;&lt; endl; <span class="hljs-comment">// è§£å¼•ç”¨è®¿é—®æˆå‘˜</span>
cout &lt;&lt; p-&gt;age &lt;&lt; endl;    <span class="hljs-comment">// -&gt; è®¿é—®æˆå‘˜</span>
p-&gt;<span class="hljs-built_in">show</span>();                 <span class="hljs-comment">// è°ƒç”¨æˆå‘˜å‡½æ•°</span>

<span class="hljs-comment">// æ•°ç»„</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>[]&gt; <span class="hljs-title">arr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">3</span>]{<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>})</span></span>;
cout &lt;&lt; arr[<span class="hljs-number">1</span>] &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º 20</span>
</code></pre>
<p><strong>é‡ç½®ä¸é‡Šæ”¾</strong></p>
<ul>
<li><code>reset()</code>ï¼šé‡Šæ”¾å½“å‰ç®¡ç†çš„å¯¹è±¡ï¼Œå¯é€‰ä¼ å…¥æ–°æŒ‡é’ˆï¼›</li>
<li><code>release()</code>ï¼šé‡Šæ”¾æ‰€æœ‰æƒï¼ˆè¿”å›åŸå§‹æŒ‡é’ˆï¼‰ï¼Œä½†ä¸é‡Šæ”¾å†…å­˜ï¼ˆéœ€æ‰‹åŠ¨ç®¡ç†ï¼‰ï¼›</li>
<li><code>nullptr</code>Â èµ‹å€¼ï¼šç­‰ä»·äºÂ <code>reset()</code>ã€‚</li>
</ul>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">50</span>))</span></span>;

<span class="hljs-comment">// é‡ç½®ï¼ˆé‡Šæ”¾åŸå†…å­˜ï¼ŒæŒ‡å‘æ–°å¯¹è±¡ï¼‰</span>
ptr.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">60</span>));
cout &lt;&lt; *ptr &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º 60</span>

<span class="hljs-comment">// é‡ç½®ä¸ºç©ºï¼ˆé‡Šæ”¾åŸå†…å­˜ï¼‰</span>
ptr.<span class="hljs-built_in">reset</span>();
cout &lt;&lt; (ptr ? <span class="hljs-string">"éç©º"</span> : <span class="hljs-string">"ç©º"</span>) &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º ç©º</span>

<span class="hljs-comment">// release()ï¼šé‡Šæ”¾æ‰€æœ‰æƒï¼Œè¿”å›åŸå§‹æŒ‡é’ˆ</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr2</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">70</span>))</span></span>;
<span class="hljs-type">int</span>* raw_ptr = ptr2.<span class="hljs-built_in">release</span>(); 
cout &lt;&lt; *raw_ptr &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º 70</span>
<span class="hljs-keyword">delete</span> raw_ptr; <span class="hljs-comment">// å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾ï¼Œå¦åˆ™å†…å­˜æ³„æ¼</span>
ptr2.<span class="hljs-built_in">reset</span>(); <span class="hljs-comment">// ptr2 å·²ç©ºï¼Œé‡ç½®æ— å½±å“</span>
</code></pre>
<p><strong>è‡ªå®šä¹‰åˆ é™¤å™¨</strong></p>
<p>é»˜è®¤åˆ é™¤å™¨è°ƒç”¨Â <code>delete</code>/<code>delete[]</code>ï¼Œä½†å¯è‡ªå®šä¹‰åˆ é™¤å™¨ï¼ˆå¦‚ç®¡ç†Â <code>FILE*</code>ã€åŠ¨æ€åº“å¥æŸ„ç­‰ï¼‰ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-comment">// è‡ªå®šä¹‰åˆ é™¤å™¨ï¼šå…³é—­æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">close_file</span><span class="hljs-params">(FILE* fp)</span> </span>{
    <span class="hljs-keyword">if</span> (fp) {
        <span class="hljs-built_in">fclose</span>(fp);
        cout &lt;&lt; <span class="hljs-string">"æ–‡ä»¶å·²å…³é—­"</span> &lt;&lt; endl;
    }
}

<span class="hljs-comment">// åˆ›å»º unique_ptrï¼ŒæŒ‡å®šåˆ é™¤å™¨ç±»å‹</span>
<span class="hljs-function">unique_ptr&lt;FILE, <span class="hljs-title">decltype</span><span class="hljs-params">(&amp;close_file)</span>&gt; <span class="hljs-title">file_ptr</span><span class="hljs-params">(fopen(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"w"</span>), close_file)</span></span>;
<span class="hljs-keyword">if</span> (file_ptr) {
    <span class="hljs-built_in">fputs</span>(<span class="hljs-string">"hello unique_ptr"</span>, file_ptr.<span class="hljs-built_in">get</span>());
}
<span class="hljs-comment">// ææ„æ—¶è‡ªåŠ¨è°ƒç”¨ close_file</span>
</code></pre>
<p><strong>Lambda ä½œä¸ºåˆ é™¤å™¨ï¼ˆæ›´ç®€æ´ï¼‰</strong></p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-comment">// ç®¡ç†åŠ¨æ€æ•°ç»„ï¼Œè‡ªå®šä¹‰åˆ é™¤å™¨ï¼ˆç¤ºä¾‹ï¼Œå®é™… delete[] å·²è¶³å¤Ÿï¼‰</span>
<span class="hljs-keyword">auto</span> deleter = [](<span class="hljs-type">int</span>* arr) {
    cout &lt;&lt; <span class="hljs-string">"é‡Šæ”¾æ•°ç»„å†…å­˜"</span> &lt;&lt; endl;
    <span class="hljs-keyword">delete</span>[] arr;
};
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>[], <span class="hljs-title">decltype</span><span class="hljs-params">(deleter)</span>&gt; <span class="hljs-title">arr_ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">3</span>], deleter)</span></span>;
</code></pre>
<p><strong>å…¶ä»–å¸¸ç”¨æˆå‘˜å‡½æ•°</strong></p>

















<table><thead><tr><th><code>get()</code></th><th>è¿”å›åŸå§‹æŒ‡é’ˆï¼ˆä»…è®¿é—®ï¼Œä¸é‡Šæ”¾æ‰€æœ‰æƒï¼‰</th></tr></thead><tbody><tr><td><code>swap()</code></td><td>äº¤æ¢ä¸¤ä¸ªÂ <code>unique_ptr</code>Â çš„æ‰€æœ‰æƒ</td></tr><tr><td><code>operator bool()</code></td><td>åˆ¤æ–­æ˜¯å¦æŒ‡å‘æœ‰æ•ˆå¯¹è±¡ï¼ˆéç©ºï¼‰</td></tr></tbody></table>
<p><strong>åœºæ™¯ä½¿ç”¨åœºæ™¯</strong></p>
<ul>
<li>æ›¿ä»£åŸå§‹æŒ‡é’ˆï¼Œé¿å…å†…å­˜æ³„æ¼</li>
</ul>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span>()</span> {
    <span class="hljs-built_in">int</span>* ptr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>);
    <span class="hljs-comment">// è‹¥ä¸­é—´æŠ›å‡ºå¼‚å¸¸ï¼Œdelete ä¸ä¼šæ‰§è¡Œï¼Œå†…å­˜æ³„æ¼</span>
    delete ptr;
}

<span class="hljs-comment">// unique_ptrï¼šè‡ªåŠ¨é‡Šæ”¾</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func_safe</span>()</span> {
    <span class="hljs-function">unique_ptr&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">ptr</span>(<span class="hljs-params"><span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span></span>))</span>;
    <span class="hljs-comment">// å³ä½¿æŠ›å‡ºå¼‚å¸¸ï¼Œææ„æ—¶è‡ªåŠ¨é‡Šæ”¾</span>
}
</code></pre>
<ul>
<li>ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼ˆç§»åŠ¨è¯­ä¹‰è‡ªåŠ¨ç”Ÿæ•ˆï¼‰</li>
</ul>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function">unique_ptr&lt;Person&gt; <span class="hljs-title">create_person</span><span class="hljs-params">(string name, <span class="hljs-type">int</span> age)</span> </span>{
    <span class="hljs-comment">// C++11 ä¸­ï¼Œè¿”å›å€¼ä¼šè‡ªåŠ¨ç§»åŠ¨ï¼ˆæ— éœ€æ˜¾å¼ std::moveï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">unique_ptr</span>&lt;Person&gt;(<span class="hljs-keyword">new</span> Person{name, age});
}

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-keyword">auto</span> p = <span class="hljs-built_in">create_person</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-number">25</span>);
p-&gt;<span class="hljs-built_in">show</span>(); <span class="hljs-comment">// è¾“å‡º Bob, 25</span>
</code></pre>
<ul>
<li>å­˜å‚¨åœ¨å®¹å™¨ä¸­</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino">vector&lt;unique_ptr&lt;<span class="hljs-type">int</span>&gt;&gt; vec;
<span class="hljs-comment">// æ–¹å¼1ï¼šemplace_back ç›´æ¥æ„é€ </span>
vec.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>));
<span class="hljs-comment">// æ–¹å¼2ï¼šmove æ’å…¥</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">20</span>))</span></span>;
vec.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">move</span>(ptr));

<span class="hljs-comment">// éå†å®¹å™¨</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; p : vec) {
    cout &lt;&lt; *p &lt;&lt; <span class="hljs-string">" "</span>; <span class="hljs-comment">// è¾“å‡º 10 20</span>
}
</code></pre>
<p><strong>å…¶ä»–äº‹é¡¹</strong></p>
<ul>
<li><strong>ç¦æ­¢æ‹·è´</strong>ï¼šC++11 ä¸­Â <code>unique_ptr</code>Â çš„æ‹·è´æ„é€ å’Œæ‹·è´èµ‹å€¼è¢«Â <code>delete</code></li>
<li><strong>é¿å…è£¸æŒ‡é’ˆä¸æ™ºèƒ½æŒ‡é’ˆæ··ç”¨</strong>ï¼šä¸è¦ç”¨Â <code>get()</code>Â è¿”å›çš„æŒ‡é’ˆåˆ›å»ºæ–°çš„Â <code>unique_ptr</code>ï¼Œå¦åˆ™ä¼šé‡å¤é‡Šæ”¾ï¼›</li>
</ul>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">10</span>))</span></span>;
<span class="hljs-comment">// é”™è¯¯ï¼šä¸¤ä¸ª unique_ptr ç®¡ç†åŒä¸€å†…å­˜ï¼Œææ„æ—¶åŒé‡é‡Šæ”¾</span>
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr2</span><span class="hljs-params">(ptr.get())</span></span>; 
</code></pre>
<ul>
<li><strong><code>make_unique</code>Â æ›´å®‰å…¨</strong>ï¼šC++14 å¼•å…¥Â <code>make_unique</code>ï¼Œé¿å… â€œnew è¡¨è¾¾å¼â€ å’Œ â€œæ™ºèƒ½æŒ‡é’ˆæ„é€ â€ ä¹‹é—´çš„å¼‚å¸¸å®‰å…¨é—®é¢˜ï¼ŒC++11 å¯è‡ªè¡Œå®ç°ï¼š</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Args&gt;
unique_ptr&lt;T&gt; <span class="hljs-title">make_unique</span><span class="hljs-params">(Args&amp;&amp;... args)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">unique_ptr</span>&lt;T&gt;(<span class="hljs-keyword">new</span> <span class="hljs-built_in">T</span>(std::forward&lt;Args&gt;(args)...));
}
</code></pre>
<p>-<strong>æ•°ç»„ç®¡ç†</strong>ï¼š<code>unique_ptr&lt;T[]&gt;</code>Â ä¸æ”¯æŒÂ <code>*</code>Â å’ŒÂ <code>-&gt;</code>ï¼Œä»…æ”¯æŒÂ <code>[]</code>Â è®¿é—®ï¼›</p>
<ul>
<li><strong>ä¸è¦ç®¡ç†æ ˆå†…å­˜</strong>ï¼š<code>unique_ptr</code>Â ä»…ç”¨äºç®¡ç†å †å†…å­˜ï¼ˆ<code>new</code>/<code>new[]</code>Â åˆ†é…ï¼‰ï¼Œè‹¥æŒ‡å‘æ ˆå¯¹è±¡ï¼Œææ„æ—¶ä¼šè°ƒç”¨Â <code>delete</code>ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼š</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;
<span class="hljs-function">unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr</span><span class="hljs-params">(&amp;a)</span></span>; <span class="hljs-comment">// é”™è¯¯ï¼šæ ˆå†…å­˜ä¸èƒ½è¢« delete</span>
</code></pre>
<h2 data-id="heading-22">äº”. å¼±å¼•ç”¨æ™ºèƒ½æŒ‡æ­£ <code>std::weak_ptr</code></h2>
<p><code>std::weak_ptr</code>Â æ˜¯ C++11 å¼•å…¥çš„æ™ºèƒ½æŒ‡é’ˆï¼Œ<strong>ä¸“é—¨ç”¨äºè§£å†³Â <code>std::shared_ptr</code>Â å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜</strong>ï¼Œå®ƒæœ¬èº«ä¸ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»…ä½œä¸ºÂ <code>shared_ptr</code>Â çš„ â€œå¼±å¼•ç”¨â€â€”â€” æ—¢å¯ä»¥è®¿é—®å…±äº«å¯¹è±¡ï¼Œåˆä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§</strong></p>
<ol>
<li><strong>ä¸å¢åŠ å¼•ç”¨è®¡æ•°</strong>ï¼šç»‘å®šåˆ°Â <code>shared_ptr</code>Â æ—¶ï¼Œä¸ä¼šæ”¹å˜å…¶å¼•ç”¨è®¡æ•°ï¼Œå› æ­¤ä¸ä¼šé˜»æ­¢å¯¹è±¡è¢«é”€æ¯</li>
<li><strong>å¯æ£€æµ‹å¯¹è±¡æ˜¯å¦å­˜æ´»</strong>ï¼šé€šè¿‡Â <code>expired()</code>Â æˆ–Â <code>lock()</code>Â æ£€æŸ¥æ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦å·²è¢«é”€æ¯</li>
<li><strong>ä¸èƒ½ç›´æ¥è§£å¼•ç”¨</strong>ï¼šå¿…é¡»å…ˆé€šè¿‡Â <code>lock()</code>Â è½¬æ¢ä¸ºÂ <code>shared_ptr</code>ï¼Œæ‰èƒ½å®‰å…¨è®¿é—®å¯¹è±¡ï¼ˆé¿å…è®¿é—®å·²é”€æ¯çš„å¯¹è±¡ï¼‰</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šä¸Â <code>shared_ptr</code>Â ç±»ä¼¼ï¼Œè¯»æ“ä½œçº¿ç¨‹å®‰å…¨ï¼Œå†™æ“ä½œï¼ˆå¦‚Â <code>lock()</code>ï¼‰éœ€åŠ é”</li>
</ol>
<blockquote>
<p><code>lock()</code>Â æ˜¯ç‰¹æ®Šçš„ â€œå†™æ“ä½œâ€â€”â€” å®ƒä¼šå…ˆæ£€æŸ¥Â <code>use_count</code>ï¼ˆè¯»ï¼‰ï¼Œè‹¥å¯¹è±¡å­˜æ´»åˆ™åˆ›å»ºÂ <code>shared_ptr</code>ï¼Œæ­¤æ—¶ä¼š<strong>åŸå­æ€§å¢åŠ Â <code>use_count</code></strong>ï¼ˆå†™ï¼‰</p>
</blockquote>
<p><strong>åŸºæœ¬ç”¨æ³•</strong>
<code>std::weak_ptr</code>Â ä¸èƒ½ç›´æ¥æŒ‡å‘è£¸æŒ‡é’ˆï¼Œå¿…é¡»é€šè¿‡Â <code>shared_ptr</code>Â åˆå§‹åŒ–æˆ–èµ‹å€¼ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// 1. é€šè¿‡ shared_ptr åˆå§‹åŒ–</span>
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);
    <span class="hljs-function">std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">wp</span><span class="hljs-params">(sp)</span></span>; <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ä»ä¸º 1</span>

    <span class="hljs-comment">// 2. ç©º weak_ptr</span>
    std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; wp_empty;

    <span class="hljs-comment">// 3. èµ‹å€¼æ“ä½œ</span>
    std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; wp2;
    wp2 = sp; <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ä»ä¸º 1</span>

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>æ ¸å¿ƒæˆå‘˜å‡½æ•°</strong></p>





























<table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>lock()</code></td><td>è½¬æ¢ä¸ºÂ <code>shared_ptr</code>ï¼šè‹¥å¯¹è±¡å­˜æ´»ï¼Œè¿”å›æŒ‡å‘è¯¥å¯¹è±¡çš„Â <code>shared_ptr</code>ï¼›å¦åˆ™è¿”å›ç©ºÂ <code>shared_ptr</code></td></tr><tr><td><code>expired()</code></td><td>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²é”€æ¯ï¼ˆå¼•ç”¨è®¡æ•°ä¸º 0ï¼‰ï¼Œè¿”å›Â <code>bool</code></td></tr><tr><td><code>reset()</code></td><td>æ¸…ç©ºÂ <code>weak_ptr</code>ï¼Œä¸å†å¼•ç”¨ä»»ä½•å¯¹è±¡</td></tr><tr><td><code>use_count()</code></td><td>è¿”å›å½“å‰Â <code>shared_ptr</code>Â çš„å¼•ç”¨è®¡æ•°ï¼ˆæ…ç”¨ï¼Œä»…ç”¨äºè°ƒè¯•ï¼‰</td></tr><tr><td><code>swap()</code></td><td>äº¤æ¢ä¸¤ä¸ªÂ <code>weak_ptr</code>Â çš„å¼•ç”¨å¯¹è±¡</td></tr></tbody></table>
<p><strong>å®‰å…¨è®¿é—®å¯¹è±¡ï¼ˆlock () æ ¸å¿ƒç”¨æ³•ï¼‰</strong></p>
<p><code>weak_ptr</code>Â ä¸èƒ½ç›´æ¥è§£å¼•ç”¨ï¼Œå¿…é¡»é€šè¿‡Â <code>lock()</code>Â è·å–Â <code>shared_ptr</code>Â åè®¿é—®ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-comment">// ä¸»å‡½æ•°ï¼šç¨‹åºæ‰§è¡Œçš„èµ·ç‚¹ï¼ˆå¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>


<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);
    <span class="hljs-function">std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">wp</span><span class="hljs-params">(sp)</span></span>;

    <span class="hljs-comment">// å®‰å…¨è®¿é—®ï¼šå…ˆ lock() è½¬æ¢ä¸º shared_ptr</span>
    
    <span class="hljs-keyword">if</span> (std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; temp = wp.<span class="hljs-built_in">lock</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å€¼ï¼š"</span> &lt;&lt; *temp &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 100</span>
        std::cout &lt;&lt; <span class="hljs-string">"å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; temp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 2</span>
    } <span class="hljs-keyword">else</span> {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å·²é”€æ¯"</span> &lt;&lt; std::endl;
    }

    std::cout &lt;&lt; <span class="hljs-string">"sp å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; sp.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 2</span>

    <span class="hljs-comment">// é”€æ¯ shared_ptrï¼Œå¯¹è±¡è¢«é‡Šæ”¾</span>
    sp.<span class="hljs-built_in">reset</span>();

    <span class="hljs-comment">// å†æ¬¡å°è¯•è®¿é—®</span>
    <span class="hljs-keyword">auto</span> temp2 = wp.<span class="hljs-built_in">lock</span>();
    <span class="hljs-keyword">if</span> (temp2) {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å€¼ï¼š"</span> &lt;&lt; *temp2 &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 100 std::cout &lt;&lt; *temp2 &lt;&lt; std::endl;</span>
        std::cout &lt;&lt; <span class="hljs-string">"å¼•ç”¨è®¡æ•°ï¼š"</span> &lt;&lt; temp2.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 2</span>
    } <span class="hljs-keyword">else</span> {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å·²é”€æ¯"</span> &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡ºæ­¤è¡Œ</span>
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>expired () æ£€æŸ¥å¯¹è±¡å­˜æ´»</strong></p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">200</span>);
    <span class="hljs-function">std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">wp</span><span class="hljs-params">(sp)</span></span>;

    <span class="hljs-keyword">if</span> (!wp.<span class="hljs-built_in">expired</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å­˜æ´»"</span> &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º</span>
    }

    sp.<span class="hljs-built_in">reset</span>();
    <span class="hljs-keyword">if</span> (wp.<span class="hljs-built_in">expired</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"å¯¹è±¡å·²é”€æ¯"</span> &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º</span>
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼ˆæ ¸å¿ƒåœºæ™¯ï¼‰</strong></p>
<p><code>shared_ptr</code>Â å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å¼•ç”¨è®¡æ•°æ— æ³•å½’ 0ï¼Œå¯¹è±¡æ— æ³•ææ„ï¼Œæœ€ç»ˆå†…å­˜æ³„æ¼ã€‚<code>weak_ptr</code>Â å› ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œå¯æ‰“ç ´å¾ªç¯ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">B</span>; <span class="hljs-comment">// å‰å‘å£°æ˜</span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span> {
    std::shared_ptr&lt;B&gt; b_ptr;
    ~<span class="hljs-built_in">A</span>() { std::cout &lt;&lt; <span class="hljs-string">"A ææ„"</span> &lt;&lt; std::endl; }
};

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">B</span> {
    std::shared_ptr&lt;A&gt; a_ptr; <span class="hljs-comment">// å¾ªç¯å¼•ç”¨</span>
    ~<span class="hljs-built_in">B</span>() { std::cout &lt;&lt; <span class="hljs-string">"B ææ„"</span> &lt;&lt; std::endl; }
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    {
        std::shared_ptr&lt;A&gt; a = std::<span class="hljs-built_in">make_shared</span>&lt;A&gt;();
        std::shared_ptr&lt;B&gt; b = std::<span class="hljs-built_in">make_shared</span>&lt;B&gt;();
        a-&gt;b_ptr = b;
        b-&gt;a_ptr = a;
        <span class="hljs-comment">// ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œa å’Œ b çš„å¼•ç”¨è®¡æ•°å‡ä¸º 2ï¼Œæ— æ³•ææ„</span>
    }
    std::cout &lt;&lt; <span class="hljs-string">"ä½œç”¨åŸŸç»“æŸ"</span> &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡ºï¼Œä½† A/B æœªææ„</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>ä¿®æ”¹å</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">B</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">A</span> {</span>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;B&gt; b_ptr;
    ~A() { <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"A ææ„"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>; }
};

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">B</span> {</span>
    <span class="hljs-built_in">std</span>::weak_ptr&lt;A&gt; a_ptr; <span class="hljs-comment">// æ”¹ä¸º weak_ptrï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°</span>
    ~B() { <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"B ææ„"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>; }
};

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    {
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;A&gt; a = <span class="hljs-built_in">std</span>::make_shared&lt;A&gt;();
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;B&gt; b = <span class="hljs-built_in">std</span>::make_shared&lt;B&gt;();
        a-&gt;b_ptr = b;
        b-&gt;a_ptr = a;
        <span class="hljs-comment">// a çš„å¼•ç”¨è®¡æ•°ï¼š1ï¼ˆb-&gt;a_ptr æ˜¯ weak_ptrï¼Œä¸è®¡æ•°ï¼‰</span>
        <span class="hljs-comment">// b çš„å¼•ç”¨è®¡æ•°ï¼š1ï¼ˆa-&gt;b_ptr æ˜¯ shared_ptrï¼Œè®¡æ•°+1ï¼‰</span>
    }
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"ä½œç”¨åŸŸç»“æŸ"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NumPyæ•°å€¼è®¡ç®—å…¨æ•™ç¨‹ï¼šå¤šç»´æ•°ç»„æ“ä½œã€å¹¿æ’­æœºåˆ¶ã€çº¿æ€§ä»£æ•°è¿ç®—ï¼ˆé™„å®æˆ˜æ¡ˆä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7583878719543984137</link>    <guid>https://juejin.cn/post/7583878719543984137</guid>    <pubDate>2025-12-15T12:37:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583878719543984137" data-draft-id="7583878719543967753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NumPyæ•°å€¼è®¡ç®—å…¨æ•™ç¨‹ï¼šå¤šç»´æ•°ç»„æ“ä½œã€å¹¿æ’­æœºåˆ¶ã€çº¿æ€§ä»£æ•°è¿ç®—ï¼ˆé™„å®æˆ˜æ¡ˆä¾‹ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-15T12:37:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIèƒ½åŠ›æ¢ç´¢"/> <meta itemprop="url" content="https://juejin.cn/user/1549641121016795"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NumPyæ•°å€¼è®¡ç®—å…¨æ•™ç¨‹ï¼šå¤šç»´æ•°ç»„æ“ä½œã€å¹¿æ’­æœºåˆ¶ã€çº¿æ€§ä»£æ•°è¿ç®—ï¼ˆé™„å®æˆ˜æ¡ˆä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1549641121016795/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIèƒ½åŠ›æ¢ç´¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T12:37:30.000Z" title="Mon Dec 15 2025 12:37:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>NumPyæ˜¯Pythonç§‘å­¦è®¡ç®—çš„æ ¸å¿ƒåº“ï¼Œä»¥é«˜æ€§èƒ½çš„å¤šç»´æ•°ç»„ï¼ˆndarrayï¼‰ä¸ºåŸºç¡€ï¼Œæä¾›äº†ä¸°å¯Œçš„æ•°å€¼è®¡ç®—åŠŸèƒ½ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ ã€ç§‘å­¦ä»¿çœŸç­‰é¢†åŸŸã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å‰æœŸå‡†å¤‡</h2>
<h3 data-id="heading-1">1. ç¯å¢ƒé…ç½®</h3>
<ul>
<li>å®‰è£…NumPyï¼š<code>pip install numpy</code>ï¼ˆå»ºè®®Python 3.8+ç‰ˆæœ¬ï¼‰ï¼›</li>
<li>éªŒè¯å®‰è£…ï¼šåœ¨Pythonç»ˆç«¯æ‰§è¡Œ<code>import numpy as np</code>ï¼Œæ— æŠ¥é”™åˆ™å®‰è£…æˆåŠŸï¼›</li>
<li>è¾…åŠ©å·¥å…·ï¼šJupyter Notebookï¼ˆä¾¿äºåˆ†æ®µè¿è¡Œä»£ç ã€æŸ¥çœ‹ç»“æœï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-2">2. æ ¸å¿ƒæ¦‚å¿µæ¢³ç†</h3>
<ul>
<li><strong>ndarray</strong>ï¼šNumPyçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œå³å¤šç»´æ•°ç»„ï¼Œæ”¯æŒåŒç±»å‹å…ƒç´ å­˜å‚¨ï¼Œæ¯”Pythonåˆ—è¡¨æ›´é«˜æ•ˆï¼›</li>
<li><strong>ç»´åº¦ï¼ˆndimï¼‰</strong>ï¼šæ•°ç»„çš„è½´æ•°ï¼Œå¦‚ä¸€ç»´æ•°ç»„ï¼ˆ1Dï¼‰ã€äºŒç»´æ•°ç»„ï¼ˆ2Dï¼ŒçŸ©é˜µï¼‰ã€ä¸‰ç»´æ•°ç»„ï¼ˆ3Dï¼‰ï¼›</li>
<li><strong>å½¢çŠ¶ï¼ˆshapeï¼‰</strong>ï¼šæ•°ç»„å„ç»´åº¦çš„å…ƒç´ ä¸ªæ•°ï¼Œå¦‚<code>(3,4)</code>è¡¨ç¤º3è¡Œ4åˆ—çš„äºŒç»´æ•°ç»„ï¼›</li>
<li><strong>æ•°æ®ç±»å‹ï¼ˆdtypeï¼‰</strong>ï¼šæ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œå¦‚<code>int32</code>ã€<code>float64</code>ã€<code>bool</code>ï¼›</li>
<li><strong>å¹¿æ’­æœºåˆ¶</strong>ï¼šä¸åŒå½¢çŠ¶æ•°ç»„é—´è¿ç®—æ—¶ï¼ŒNumPyè‡ªåŠ¨æ‰©å±•æ•°ç»„ç»´åº¦ä»¥åŒ¹é…å½¢çŠ¶çš„è§„åˆ™ï¼›</li>
<li><strong>çº¿æ€§ä»£æ•°</strong>ï¼šåŸºäºndarrayå®ç°çŸ©é˜µä¹˜æ³•ã€æ±‚é€†ã€ç‰¹å¾å€¼ã€è¡Œåˆ—å¼ç­‰è¿ç®—ã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€å®æˆ˜1ï¼šå¤šç»´æ•°ç»„æ ¸å¿ƒæ“ä½œ</h2>
<p>å¤šç»´æ•°ç»„æ˜¯NumPyçš„åŸºç¡€ï¼ŒæŒæ¡åˆ›å»ºã€ç´¢å¼•ã€å˜å½¢ã€æ‹¼æ¥ç­‰æ“ä½œï¼Œæ˜¯åç»­è®¡ç®—çš„å‰æã€‚</p>
<h3 data-id="heading-4">1. æ•°ç»„åˆ›å»ºï¼ˆå¸¸ç”¨æ–¹å¼ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># 1. ä»åˆ—è¡¨/åµŒå¥—åˆ—è¡¨åˆ›å»º</span>
arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])  <span class="hljs-comment"># ä¸€ç»´æ•°ç»„</span>
arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])  <span class="hljs-comment"># äºŒç»´æ•°ç»„ï¼ˆ3è¡Œ2åˆ—ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸€ç»´æ•°ç»„ï¼š\n"</span>, arr1)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"äºŒç»´æ•°ç»„å½¢çŠ¶ï¼š"</span>, arr2.shape)  <span class="hljs-comment"># è¾“å‡ºï¼š(3, 2)</span>

<span class="hljs-comment"># 2. ç‰¹æ®Šæ•°ç»„åˆ›å»ºï¼ˆå®æˆ˜é«˜é¢‘ï¼‰</span>
arr_zeros = np.zeros((<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))  <span class="hljs-comment"># å…¨0æ•°ç»„ï¼ˆ2è¡Œ3åˆ—ï¼‰</span>
arr_ones = np.ones((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), dtype=np.int32)  <span class="hljs-comment"># å…¨1æ•°ç»„ï¼ŒæŒ‡å®šint32ç±»å‹</span>
arr_empty = np.empty((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>))  <span class="hljs-comment"># ç©ºæ•°ç»„ï¼ˆå†…å­˜éšæœºå€¼ï¼Œä»…å ä½ï¼‰</span>
arr_range = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># ç­‰å·®æ•°åˆ—ï¼š0,2,4,6,8</span>
arr_linspace = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># ç­‰é—´éš”æ•°ç»„ï¼š0,0.25,0.5,0.75,1</span>
arr_eye = np.eye(<span class="hljs-number">3</span>)  <span class="hljs-comment"># å•ä½çŸ©é˜µï¼ˆ3x3ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å•ä½çŸ©é˜µï¼š\n"</span>, arr_eye)
</code></pre>
<h3 data-id="heading-5">2. æ•°ç»„ç´¢å¼•ä¸åˆ‡ç‰‡</h3>
<h4 data-id="heading-6">ï¼ˆ1ï¼‰ä¸€ç»´æ•°ç»„ï¼ˆä¸Pythonåˆ—è¡¨ç±»ä¼¼ï¼‰</h4>
<pre><code class="hljs language-python" lang="python">arr = np.arange(<span class="hljs-number">10</span>)
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">5</span>])  <span class="hljs-comment"># ç´¢å¼•ï¼šå–ç¬¬6ä¸ªå…ƒç´ ï¼ˆ5ï¼‰</span>
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">2</span>:<span class="hljs-number">7</span>])  <span class="hljs-comment"># åˆ‡ç‰‡ï¼š2-6ï¼ˆå·¦é—­å³å¼€ï¼‰</span>
<span class="hljs-built_in">print</span>(arr[::<span class="hljs-number">2</span>])  <span class="hljs-comment"># æ­¥é•¿2ï¼š0,2,4,6,8</span>
</code></pre>
<h4 data-id="heading-7">ï¼ˆ2ï¼‰äºŒç»´æ•°ç»„ï¼ˆè¡Œ+åˆ—ç´¢å¼•ï¼‰</h4>
<pre><code class="hljs language-python" lang="python">arr = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>], [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]])
<span class="hljs-comment"># å–ç¬¬2è¡Œç¬¬3åˆ—å…ƒç´ ï¼ˆ6ï¼‰</span>
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment"># å–ç¬¬1è¡Œæ‰€æœ‰åˆ—</span>
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">0</span>, :])
<span class="hljs-comment"># å–æ‰€æœ‰è¡Œçš„ç¬¬2åˆ—</span>
<span class="hljs-built_in">print</span>(arr[:, <span class="hljs-number">1</span>])
<span class="hljs-comment"># å–å‰2è¡Œã€å‰2åˆ—</span>
<span class="hljs-built_in">print</span>(arr[:<span class="hljs-number">2</span>, :<span class="hljs-number">2</span>])
<span class="hljs-comment"># å¸ƒå°”ç´¢å¼•ï¼šç­›é€‰å¤§äº5çš„å…ƒç´ </span>
<span class="hljs-built_in">print</span>(arr[arr &gt; <span class="hljs-number">5</span>])  <span class="hljs-comment"># è¾“å‡ºï¼š[6 7 8 9]</span>
</code></pre>
<h3 data-id="heading-8">3. æ•°ç»„å˜å½¢ä¸é‡å¡‘</h3>
<pre><code class="hljs language-python" lang="python">arr = np.arange(<span class="hljs-number">12</span>)
<span class="hljs-comment"># é‡å¡‘ä¸º3è¡Œ4åˆ—</span>
arr_reshape = arr.reshape(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"é‡å¡‘åï¼š\n"</span>, arr_reshape)

<span class="hljs-comment"># å±•å¹³æ•°ç»„ï¼ˆå¤šç»´è½¬ä¸€ç»´ï¼‰</span>
arr_flat = arr_reshape.flatten()  <span class="hljs-comment"># æ‹·è´æ•°æ®ï¼ŒåŸæ•°ç»„ä¸å˜</span>
arr_ravel = arr_reshape.ravel()   <span class="hljs-comment"># è§†å›¾ï¼ŒåŸæ•°ç»„æ”¹å˜ä¼šåŒæ­¥</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å±•å¹³æ•°ç»„ï¼š"</span>, arr_flat)

<span class="hljs-comment"># è½¬ç½®ï¼ˆè¡Œå˜åˆ—ï¼Œåˆ—å˜è¡Œï¼‰</span>
arr_trans = arr_reshape.T
<span class="hljs-built_in">print</span>(<span class="hljs-string">"è½¬ç½®åï¼š\n"</span>, arr_trans)
</code></pre>
<h3 data-id="heading-9">4. æ•°ç»„æ‹¼æ¥ä¸åˆ†å‰²</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‹¼æ¥</span>
arr1 = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>], [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]])
arr2 = np.array([[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>], [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]])
<span class="hljs-comment"># çºµå‘æ‹¼æ¥ï¼ˆè¡Œå¢åŠ ï¼‰</span>
arr_vstack = np.vstack((arr1, arr2))
<span class="hljs-comment"># æ¨ªå‘æ‹¼æ¥ï¼ˆåˆ—å¢åŠ ï¼‰</span>
arr_hstack = np.hstack((arr1, arr2))
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çºµå‘æ‹¼æ¥ï¼š\n"</span>, arr_vstack)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¨ªå‘æ‹¼æ¥ï¼š\n"</span>, arr_hstack)

<span class="hljs-comment"># åˆ†å‰²</span>
arr = np.arange(<span class="hljs-number">9</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)
<span class="hljs-comment"># æ¨ªå‘åˆ†å‰²ï¼ˆæŒ‰åˆ—åˆ†ï¼‰</span>
arr_split1, arr_split2 = np.hsplit(arr, <span class="hljs-number">2</span>)
<span class="hljs-comment"># çºµå‘åˆ†å‰²ï¼ˆæŒ‰è¡Œåˆ†ï¼‰</span>
arr_split3, arr_split4 = np.vsplit(arr, <span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¨ªå‘åˆ†å‰²ç»“æœï¼š\n"</span>, arr_split1)
</code></pre>
<h2 data-id="heading-10">ä¸‰ã€å®æˆ˜2ï¼šå¹¿æ’­æœºåˆ¶ï¼ˆæ ¸å¿ƒéš¾ç‚¹ï¼‰</h2>
<p>å¹¿æ’­æ˜¯NumPyä¸­ä¸åŒå½¢çŠ¶æ•°ç»„é—´è¿ç®—çš„æ ¸å¿ƒè§„åˆ™ï¼Œèƒ½é¿å…æ‰‹åŠ¨æ‰©å±•æ•°ç»„ï¼Œæå‡è®¡ç®—æ•ˆç‡ã€‚</p>
<h3 data-id="heading-11">1. å¹¿æ’­çš„æ ¸å¿ƒè§„åˆ™</h3>
<ul>
<li>è§„åˆ™1ï¼šå¦‚æœä¸¤ä¸ªæ•°ç»„ç»´åº¦ä¸åŒï¼Œå…ˆå°†ç»´åº¦å°‘çš„æ•°ç»„è¡¥1ï¼Œç›´åˆ°ç»´åº¦æ•°ç›¸åŒï¼›</li>
<li>è§„åˆ™2ï¼šå¯¹äºæ¯ä¸ªç»´åº¦ï¼Œè‹¥é•¿åº¦ç›¸åŒæˆ–å…¶ä¸­ä¸€ä¸ªä¸º1ï¼Œåˆ™å¯ä»¥å¹¿æ’­ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
<li>è§„åˆ™3ï¼šå¹¿æ’­æ—¶ï¼Œé•¿åº¦ä¸º1çš„ç»´åº¦ä¼šè¢«æ‰©å±•ä¸ºåŒ¹é…å¦ä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚</li>
</ul>
<h3 data-id="heading-12">2. åŸºç¡€å¹¿æ’­æ¡ˆä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¡ˆä¾‹1ï¼šæ ‡é‡ä¸æ•°ç»„è¿ç®—ï¼ˆæœ€å¸¸è§ï¼‰</span>
arr = np.array([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])
result = arr + <span class="hljs-number">5</span>  <span class="hljs-comment"># æ ‡é‡5å¹¿æ’­ä¸º[5,5,5]</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ ‡é‡å¹¿æ’­ï¼š"</span>, result)  <span class="hljs-comment"># è¾“å‡ºï¼š[6 7 8]</span>

<span class="hljs-comment"># æ¡ˆä¾‹2ï¼šä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„è¿ç®—</span>
arr1 = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]])  <span class="hljs-comment"># (2,3)</span>
arr2 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>])        <span class="hljs-comment"># (3,) â†’ è¡¥1ä¸º(1,3) â†’ å¹¿æ’­ä¸º(2,3)</span>
result = arr1 + arr2
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸€ç»´+äºŒç»´å¹¿æ’­ï¼š\n"</span>, result)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [[11 22 33]</span>
<span class="hljs-comment">#  [14 25 36]]</span>

<span class="hljs-comment"># æ¡ˆä¾‹3ï¼šä¸åŒç»´åº¦å¹¿æ’­ï¼ˆéœ€æ»¡è¶³è§„åˆ™ï¼‰</span>
arr3 = np.array([[<span class="hljs-number">1</span>], [<span class="hljs-number">2</span>], [<span class="hljs-number">3</span>]])  <span class="hljs-comment"># (3,1)</span>
arr4 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])         <span class="hljs-comment"># (2,) â†’ è¡¥1ä¸º(1,2) â†’ å¹¿æ’­ä¸º(3,2)</span>
result = arr3 * arr4
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸åŒç»´åº¦å¹¿æ’­ï¼š\n"</span>, result)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [[10 20]</span>
<span class="hljs-comment">#  [20 40]</span>
<span class="hljs-comment">#  [30 60]]</span>

<span class="hljs-comment"># é”™è¯¯æ¡ˆä¾‹ï¼ˆä¸æ»¡è¶³è§„åˆ™ï¼‰</span>
<span class="hljs-comment"># arr5 = np.array([1,2])  # (2,)</span>
<span class="hljs-comment"># arr6 = np.array([[1,2,3], [4,5,6]])  # (2,3)</span>
<span class="hljs-comment"># result = arr5 + arr6  # æŠ¥é”™ï¼šç»´åº¦ä¸åŒ¹é…</span>
</code></pre>
<h3 data-id="heading-13">3. å¹¿æ’­çš„å®æˆ˜åº”ç”¨ï¼ˆæ•°æ®å½’ä¸€åŒ–ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯¹äºŒç»´æ•°ç»„æ¯è¡Œè¿›è¡Œå½’ä¸€åŒ–ï¼š(å€¼-å‡å€¼)/æ ‡å‡†å·®</span>
data = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>], [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]])
<span class="hljs-comment"># è®¡ç®—æ¯è¡Œå‡å€¼ï¼ˆaxis=1ï¼Œä¿æŒç»´åº¦ä¾¿äºå¹¿æ’­ï¼‰</span>
mean = np.mean(data, axis=<span class="hljs-number">1</span>, keepdims=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># è®¡ç®—æ¯è¡Œæ ‡å‡†å·®</span>
std = np.std(data, axis=<span class="hljs-number">1</span>, keepdims=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># å¹¿æ’­è¿ç®—</span>
normalized_data = (data - mean) / std
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å½’ä¸€åŒ–åï¼š\n"</span>, normalized_data)
<span class="hljs-comment"># è¾“å‡ºæ¯è¡Œå‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1çš„æ•°ç»„</span>
</code></pre>
<h2 data-id="heading-14">å››ã€å®æˆ˜3ï¼šçº¿æ€§ä»£æ•°è¿ç®—ï¼ˆæ ¸å¿ƒåº”ç”¨ï¼‰</h2>
<p>NumPyçš„<code>numpy.linalg</code>æ¨¡å—æä¾›äº†å®Œæ•´çš„çº¿æ€§ä»£æ•°è¿ç®—æ¥å£ï¼Œæ»¡è¶³çŸ©é˜µåˆ†æã€çº¿æ€§æ–¹ç¨‹ç»„æ±‚è§£ç­‰éœ€æ±‚ã€‚</p>
<h3 data-id="heading-15">1. åŸºç¡€çŸ©é˜µè¿ç®—</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># çŸ©é˜µä¹˜æ³•ï¼ˆæ³¨æ„ï¼šä¸æ˜¯å…ƒç´ ç›¸ä¹˜ï¼‰</span>
A = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>], [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]])
B = np.array([[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>], [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]])
<span class="hljs-comment"># æ–¹æ³•1ï¼šnp.dot()ï¼ˆå…¼å®¹ä¸€ç»´/äºŒç»´ï¼‰</span>
dot_result = np.dot(A, B)
<span class="hljs-comment"># æ–¹æ³•2ï¼š@è¿ç®—ç¬¦ï¼ˆPython 3.5+ï¼Œæ¨èï¼‰</span>
at_result = A @ B
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ©é˜µä¹˜æ³•ï¼š\n"</span>, at_result)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [[19 22]</span>
<span class="hljs-comment">#  [43 50]]</span>

<span class="hljs-comment"># å…ƒç´ ç›¸ä¹˜ï¼ˆä¸çŸ©é˜µä¹˜æ³•åŒºåˆ†ï¼‰</span>
element_mul = A * B
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å…ƒç´ ç›¸ä¹˜ï¼š\n"</span>, element_mul)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [[ 5 12]</span>
<span class="hljs-comment">#  [21 32]]</span>

<span class="hljs-comment"># çŸ©é˜µæ±‚é€†ï¼ˆä»…æ–¹é˜µä¸”å¯é€†ï¼‰</span>
A_inv = np.linalg.inv(A)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ©é˜µAçš„é€†ï¼š\n"</span>, A_inv)

<span class="hljs-comment"># çŸ©é˜µè½¬ç½®</span>
A_trans = A.T
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ©é˜µAçš„è½¬ç½®ï¼š\n"</span>, A_trans)

<span class="hljs-comment"># è¡Œåˆ—å¼è®¡ç®—</span>
det_A = np.linalg.det(A)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ©é˜µAçš„è¡Œåˆ—å¼ï¼š"</span>, det_A)  <span class="hljs-comment"># è¾“å‡ºï¼š-2.0000000000000004</span>
</code></pre>
<h3 data-id="heading-16">2. çº¿æ€§æ–¹ç¨‹ç»„æ±‚è§£</h3>
<p>æ±‚è§£æ–¹ç¨‹ç»„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">x + <span class="hljs-attr">2y</span> = <span class="hljs-number">5</span>
3x + <span class="hljs-attr">4y</span> = <span class="hljs-number">13</span>
</code></pre>
<p>è½¬åŒ–ä¸ºçŸ©é˜µå½¢å¼ï¼š<code>Ax = b</code>ï¼Œå…¶ä¸­<code>A=[[1,2],[3,4]]</code>ï¼Œ<code>b=[5,13]</code>ï¼Œæ±‚è§£<code>x</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python">A = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>], [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]])
b = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">13</span>])
<span class="hljs-comment"># æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„</span>
x = np.linalg.solve(A, b)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–¹ç¨‹ç»„è§£ï¼šx={}, y={}"</span>.<span class="hljs-built_in">format</span>(x[<span class="hljs-number">0</span>], x[<span class="hljs-number">1</span>]))  <span class="hljs-comment"># è¾“å‡ºï¼šx=3.0, y=1.0</span>

<span class="hljs-comment"># éªŒè¯ï¼šA @ x åº”ç­‰äºb</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"éªŒè¯ç»“æœï¼š"</span>, A @ x)  <span class="hljs-comment"># è¾“å‡ºï¼š[ 5. 13.]</span>
</code></pre>
<h3 data-id="heading-17">3. ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</span>
A = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>], [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]])
eigenvalues, eigenvectors = np.linalg.eig(A)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç‰¹å¾å€¼ï¼š"</span>, eigenvalues)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç‰¹å¾å‘é‡ï¼š\n"</span>, eigenvectors)

<span class="hljs-comment"># éªŒè¯ï¼šAÂ·v = Î»Â·vï¼ˆvä¸ºç‰¹å¾å‘é‡ï¼ŒÎ»ä¸ºç‰¹å¾å€¼ï¼‰</span>
v = eigenvectors[:, <span class="hljs-number">0</span>]  <span class="hljs-comment"># ç¬¬ä¸€ä¸ªç‰¹å¾å‘é‡</span>
lamda = eigenvalues[<span class="hljs-number">0</span>]  <span class="hljs-comment"># ç¬¬ä¸€ä¸ªç‰¹å¾å€¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"éªŒè¯ç‰¹å¾å€¼ï¼š"</span>, np.allclose(A @ v, lamda * v))  <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
</code></pre>
<h3 data-id="heading-18">4. å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼Œå®æˆ˜é«˜é¢‘ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¥‡å¼‚å€¼åˆ†è§£ï¼ˆé€‚ç”¨äºéæ–¹é˜µï¼‰</span>
A = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]])
U, S, VT = np.linalg.svd(A)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"UçŸ©é˜µï¼š\n"</span>, U)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¥‡å¼‚å€¼ï¼š"</span>, S)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"VTçŸ©é˜µï¼š\n"</span>, VT)

<span class="hljs-comment"># é‡æ„çŸ©é˜µï¼ˆéªŒè¯SVDï¼‰</span>
<span class="hljs-comment"># éœ€å°†Sè½¬ä¸ºå¯¹è§’çŸ©é˜µ</span>
S_mat = np.zeros((<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))
S_mat[:<span class="hljs-number">2</span>, :<span class="hljs-number">2</span>] = np.diag(S)
A_recon = U @ S_mat @ VT
<span class="hljs-built_in">print</span>(<span class="hljs-string">"é‡æ„çŸ©é˜µä¸åŸçŸ©é˜µæ˜¯å¦ä¸€è‡´ï¼š"</span>, np.allclose(A, A_recon))  <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
</code></pre>
<h2 data-id="heading-19">äº”ã€å®æˆ˜ä¼˜åŒ–æŠ€å·§</h2>
<h3 data-id="heading-20">1. é¿å…å¾ªç¯ï¼Œç”¨å‘é‡åŒ–è¿ç®—</h3>
<p>NumPyå‘é‡åŒ–è¿ç®—æ¯”Pythonå¾ªç¯å¿«10~100å€ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½æ•ˆï¼šå¾ªç¯è®¡ç®—</span>
arr = np.arange(<span class="hljs-number">1000000</span>)
result = []
<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr:
    result.append(x * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>)
result = np.array(result)

<span class="hljs-comment"># é«˜æ•ˆï¼šå‘é‡åŒ–è¿ç®—</span>
result = arr * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>  <span class="hljs-comment"># å¹¿æ’­æœºåˆ¶è‡ªåŠ¨å¤„ç†</span>
</code></pre>
<h3 data-id="heading-21">2. æ•°æ®ç±»å‹ä¼˜åŒ–</h3>
<p>é»˜è®¤<code>float64</code>ç²¾åº¦é«˜ä½†å ç”¨å†…å­˜ï¼Œå¯æ ¹æ®éœ€æ±‚æ”¹ä¸º<code>float32</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python">arr = np.ones((<span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>), dtype=np.float32)  <span class="hljs-comment"># å†…å­˜å ç”¨å‡å°‘ä¸€åŠ</span>
</code></pre>
<h3 data-id="heading-22">3. é¿å…æ‹·è´ï¼Œä½¿ç”¨è§†å›¾</h3>
<pre><code class="hljs language-python" lang="python">arr1 = arr.reshape(-<span class="hljs-number">1</span>)  <span class="hljs-comment"># -1è‡ªåŠ¨è®¡ç®—ç»´åº¦ï¼Œè§†å›¾æ— æ‹·è´</span>
arr2 = arr[:, ::<span class="hljs-number">2</span>]      <span class="hljs-comment"># åˆ‡ç‰‡ä¸ºè§†å›¾ï¼ŒåŸæ•°ç»„ä¿®æ”¹ä¼šåŒæ­¥</span>
arr3 = arr.copy()       <span class="hljs-comment"># ä»…éœ€ç‹¬ç«‹æ•°æ®æ—¶æ‹·è´</span>
</code></pre>
<h2 data-id="heading-23">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³</h2>
<h3 data-id="heading-24">1. å¹¿æ’­æŠ¥é”™ï¼šç»´åº¦ä¸åŒ¹é…</h3>
<ul>
<li>æ’æŸ¥ï¼šæ‰“å°æ•°ç»„<code>shape</code>ï¼Œç¡®è®¤æ˜¯å¦æ»¡è¶³å¹¿æ’­è§„åˆ™ï¼›</li>
<li>è§£å†³ï¼šç”¨<code>reshape</code>æ‰‹åŠ¨æ‰©å±•ç»´åº¦ï¼Œä¾‹å¦‚<code>arr = arr.reshape(-1, 1)</code>ã€‚</li>
</ul>
<h3 data-id="heading-25">2. çŸ©é˜µä¹˜æ³•ä¸å…ƒç´ ç›¸ä¹˜æ··æ·†</h3>
<ul>
<li>åŒºåˆ†ï¼š<code>A @ B</code>æ˜¯çŸ©é˜µä¹˜æ³•ï¼Œ<code>A * B</code>æ˜¯å…ƒç´ ç›¸ä¹˜ï¼›</li>
<li>æ³¨æ„ï¼šçŸ©é˜µä¹˜æ³•è¦æ±‚å‰ä¸€ä¸ªæ•°ç»„åˆ—æ•°=åä¸€ä¸ªæ•°ç»„è¡Œæ•°ã€‚</li>
</ul>
<h3 data-id="heading-26">3. æ±‚é€†æŠ¥é”™ï¼šå¥‡å¼‚çŸ©é˜µ</h3>
<ul>
<li>åŸå› ï¼šçŸ©é˜µè¡Œåˆ—å¼ä¸º0ï¼Œä¸å¯é€†ï¼›</li>
<li>è§£å†³ï¼šæ£€æŸ¥çŸ©é˜µæ˜¯å¦æ­£ç¡®ï¼Œæˆ–ä½¿ç”¨ä¼ªé€†<code>np.linalg.pinv(A)</code>ã€‚</li>
</ul>
<h3 data-id="heading-27">4. ç²¾åº¦é—®é¢˜</h3>
<ul>
<li>ç°è±¡ï¼šæµ®ç‚¹æ•°è¿ç®—å‡ºç°<code>0.9999999999</code>è€Œé<code>1</code>ï¼›</li>
<li>è§£å†³ï¼šç”¨<code>np.allclose(a, b)</code>ä»£æ›¿<code>a == b</code>æ¯”è¾ƒæ•°ç»„ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ SSE å•å‘æ¨é€å®ç° ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7583912899389210667</link>    <guid>https://juejin.cn/post/7583912899389210667</guid>    <pubDate>2025-12-15T13:26:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583912899389210667" data-draft-id="7583898823921254442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ SSE å•å‘æ¨é€å®ç° ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-15T13:26:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cindershade"/> <meta itemprop="url" content="https://juejin.cn/user/2587590326494763"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ SSE å•å‘æ¨é€å®ç° ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2587590326494763/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cindershade
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T13:26:52.000Z" title="Mon Dec 15 2025 13:26:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½¿ç”¨ SSE å•å‘æ¨é€å®ç° ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½</h2>
<blockquote>
<p>è¯´æ˜ï¼šæœ¬è¯´æ˜åŸºäºè‡ªå·±æ¯•è®¾é¡¹ç›®ä¸­â€œç³»ç»Ÿé€šçŸ¥æ¨¡å— (Notification / SSE)â€çš„å®ç°ï¼Œé‡ç‚¹è®²æ¸…æ¥šåœ¨å‰ç«¯ä» **åˆå§‹åŒ–ç¯å¢ƒ â†’ å»ºç«‹ SSE è¿æ¥ â†’ è§£ææœåŠ¡ç«¯äº‹ä»¶ â†’ æ‰“å°æ—¥å¿— ** çš„å®Œæ•´æŠ€æœ¯é“¾è·¯ï¼Œè‡³äºæ”¶åˆ°ä¿¡æ¯å¦‚ä½•å¤„ç†å’Œå…·ä½“é¡¹ç›®æœ‰å…³ã€‚</p>
</blockquote>
<hr/>
<p>åœ¨æˆ‘çš„æ¯•è®¾ä¸­ï¼Œæœ‰ç³»ç»Ÿé€šçŸ¥è¿™ä¸ªåŠŸèƒ½ï¼Œå•å‘çš„ï¼Œå‘Šè¯‰ç”¨æˆ·ï¼Œä½ çš„å†…å®¹å‘å¸ƒå®¡æ ¸æˆåŠŸï¼Œæˆ–è€…å¤±è´¥ç­‰ç­‰ä¸€ç³»åˆ—çš„å•æ–¹é¢çš„é€šçŸ¥ï¼Œæ‰€æœ‰é€‰å‹sseè€Œä¸é€‰æ‹©websorket
æ¥ä¸‹æ¥å…ˆç»™å‡ºåç«¯å®ç°ï¼Œç„¶åæ˜¯å‰ç«¯å®ç°</p>
<h3 data-id="heading-1">åç«¯å®ç° ç³»ç»Ÿé€šçŸ¥æ¨¡å—åç«¯å®ç°è¯´æ˜</h3>
<p>æ¶‰åŠçš„æ ¸å¿ƒç±»ï¼š</p>
<ul>
<li><code>NotificationController</code>ï¼šé€šçŸ¥ç›¸å…³ HTTP æ¥å£ï¼ˆSSE æµã€å·²è¯»ã€æœªè¯»æ•°ã€åˆ†é¡µåˆ—è¡¨ï¼‰ã€‚</li>
<li><code>NotificationService</code>ï¼šé€šçŸ¥çš„æŒä¹…åŒ–ã€SSE è¿æ¥ç®¡ç†ä¸æ¨é€å®ç°ã€‚</li>
<li><code>Notification</code> / <code>notification</code> è¡¨ï¼šé€šçŸ¥å®ä½“ä¸æ•°æ®åº“è¡¨ç»“æ„ã€‚</li>
<li><code>NotificationType</code> / <code>NotificationStatus</code>ï¼šé€šçŸ¥ç±»å‹ä¸çŠ¶æ€æšä¸¾ï¼ˆå¦‚ <code>PRIVATE_MESSAGE</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€å»ºç«‹ SSE é€šçŸ¥è¿æ¥</h3>
<h4 data-id="heading-3">1. Controllerï¼š<code>GET /api/notify/stream</code></h4>
<ul>
<li><strong>æ¥å£ç±»</strong>ï¼š<code>NotificationController</code></li>
<li><strong>æ–¹æ³•</strong>ï¼š<code>stream(@RequestHeader(value = "Last-Event-ID", required = false) String lastEventId)</code></li>
<li><strong>è·¯å¾„</strong>ï¼š<code>/api/notify/stream</code></li>
<li><strong>ä½œç”¨</strong>ï¼š
<ul>
<li>æ ¡éªŒå½“å‰ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼ˆä» <code>UserContext.getUserId()</code> è¯»å– userIdï¼‰ã€‚</li>
<li>æœªç™»å½•æ—¶æŠ›å‡º <code>401 UNAUTHORIZED</code>ã€‚</li>
<li>ç™»å½•çŠ¶æ€ä¸‹ï¼Œè°ƒç”¨ <code>notificationService.connect(userId, lastEventId)</code> å»ºç«‹ SSE è¿æ¥ã€‚</li>
</ul>
</li>
</ul>
<p>ç®€è¦æµç¨‹ï¼š</p>
<ol>
<li>ä» <code>UserContext</code> è·å–å½“å‰ç”¨æˆ· IDã€‚</li>
<li>è‹¥æœªç™»å½•ï¼šæŠ›å‡º <code>ResponseStatusException(HttpStatus.UNAUTHORIZED)</code>ã€‚</li>
<li>è‹¥å·²ç™»å½•ï¼šå°† <code>userId</code> ä¸ <code>Last-Event-ID</code> äº¤ç»™ <code>NotificationService.connect</code>ã€‚</li>
<li>è¿”å› Spring çš„ <code>SseEmitter</code> å¯¹è±¡ï¼Œç”±æ¡†æ¶ç»´æŒ SSE é“¾æ¥ã€‚</li>
</ol>
<h4 data-id="heading-4">2. Serviceï¼š<code>NotificationService.connect</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public SseEmitter connect(Long userId, String lastEventId)</code></li>
<li><strong>å†…éƒ¨é€»è¾‘</strong>ï¼š
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>SseEmitter</code> å®ä¾‹ï¼Œè¶…æ—¶æ—¶é—´ä¸º <code>SSE_TIMEOUT = 30 * 60 * 1000L</code>ï¼ˆ30 åˆ†é’Ÿï¼‰ã€‚</li>
<li>å°†è¯¥ <code>SseEmitter</code> åŠ å…¥åˆ° <code>emitterPool</code> ä¸­ï¼š
<ul>
<li><code>emitterPool</code> ç±»å‹ä¸º <code>Map&lt;Long, CopyOnWriteArrayList&lt;SseEmitter&gt;&gt;</code>ï¼ŒæŒ‰ <code>userId</code> ç»´æŠ¤ç”¨æˆ·å½“å‰æ‰€æœ‰ SSE è¿æ¥ã€‚</li>
</ul>
</li>
<li>ä¸º <code>emitter</code> æ³¨å†Œå›è°ƒï¼š
<ul>
<li><code>onCompletion</code> / <code>onTimeout</code> / <code>onError</code> æ—¶ï¼Œä» <code>emitterPool</code> ä¸­ç§»é™¤å½“å‰è¿æ¥ã€‚</li>
</ul>
</li>
<li>å‘é€ä¸€æ¬¡ <strong>å¿ƒè·³äº‹ä»¶</strong>ï¼ˆ<code>heartbeat</code>ï¼‰ï¼Œåç§°ä¸º <code>"heartbeat"</code>ï¼Œæ•°æ®ä¸º <code>"ping"</code>ã€‚</li>
<li>è§£æ <code>Last-Event-ID</code>ï¼š
<ul>
<li>å¦‚æœæœ‰åˆæ³•çš„ <code>lastEventId</code>ï¼Œè§£æä¸º <code>lastId</code>ï¼ˆ<code>Long</code>ï¼‰ã€‚</li>
<li>è‹¥è§£æå¤±è´¥æˆ–ä¸ºç©ºï¼Œåˆ™ä¸º <code>null</code>ã€‚</li>
</ul>
</li>
<li>è°ƒç”¨ <code>resendPending(userId, lastId, emitter)</code> è¡¥å‘å†å²é€šçŸ¥ï¼ˆæœ€å¤š 100 æ¡ï¼‰ã€‚</li>
<li>è¿”å› <code>SseEmitter</code>ï¼Œç­‰å¾…åç»­é€šçŸ¥æ¨é€ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-5">3. SSE è¿æ¥æ–­å¼€/è¶…æ—¶</h4>
<ul>
<li>åœ¨ <code>connect</code> æ–¹æ³•ä¸­ï¼Œå¯¹ <code>SseEmitter</code> æ³¨å†Œäº†ï¼š
<ul>
<li><code>onCompletion</code>ï¼šè¿æ¥æ­£å¸¸å®Œæˆæ—¶è°ƒç”¨ <code>removeEmitter(userId, emitter)</code>ã€‚</li>
<li><code>onTimeout</code>ï¼šè¿æ¥è¶…æ—¶æ—¶è°ƒç”¨ <code>removeEmitter(userId, emitter)</code>ã€‚</li>
<li><code>onError</code>ï¼šå‘é€å¼‚å¸¸ç­‰é”™è¯¯æ—¶è°ƒç”¨ <code>removeEmitter(userId, emitter)</code>ã€‚</li>
</ul>
</li>
<li><code>removeEmitter</code> ä¼šä» <code>emitterPool</code> å¯¹åº”ç”¨æˆ·çš„åˆ—è¡¨ä¸­ç§»é™¤è¯¥ <code>SseEmitter</code>ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ä¸åç»­é‡å¤æ¨é€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">äºŒã€é€šçŸ¥çš„åˆ›å»ºä¸æ¨é€</h3>
<h4 data-id="heading-7">1. é€šç”¨åˆ›å»º+æ¨é€ï¼š<code>NotificationService.createAndDispatch</code></h4>
<ul>
<li>
<p><strong>æ–¹æ³•ç­¾å</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Notification <span class="hljs-title function_">createAndDispatch</span><span class="hljs-params">(Long userId, NotificationType type, String title, String content, String payload)</span>
</code></pre>
</li>
<li>
<p><strong>è°ƒç”¨æ–¹ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>ç§ä¿¡ä¸šåŠ¡ä¸­çš„ç¦»çº¿æé†’ï¼ˆ<code>ChatServiceImpl</code>ï¼‰ã€‚</li>
<li>ç®¡ç†å‘˜å…¬å‘Šç­‰å…¶ä»–ä¸šåŠ¡æ¨¡å—ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>buildNotification(userId, type, title, content, payload)</code> æ„é€ ä¸€ä¸ª <code>Notification</code> å®ä½“ï¼š
<ul>
<li><code>userId</code>ï¼šæ¥æ”¶é€šçŸ¥çš„ç”¨æˆ· IDã€‚</li>
<li><code>type</code>ï¼šé€šçŸ¥ç±»å‹ï¼ˆå¦‚ <code>PRIVATE_MESSAGE</code>ã€<code>SYSTEM_ANNOUNCEMENT</code> ç­‰ï¼‰ã€‚</li>
<li><code>title</code>ï¼šé€šçŸ¥æ ‡é¢˜/æ‘˜è¦ã€‚</li>
<li><code>content</code>ï¼šé€šçŸ¥æ­£æ–‡æˆ–ç®€è¿°ã€‚</li>
<li><code>payload</code>ï¼šæ‰©å±• JSON å­—ç¬¦ä¸²ï¼Œç”¨äºå‰ç«¯è·³è½¬æˆ–å±•ç¤ºæ›´å¤šä¿¡æ¯ã€‚</li>
<li><code>status</code>ï¼šåˆå§‹ä¸º <code>UNREAD</code>ã€‚</li>
<li><code>createdAt</code> / <code>updatedAt</code>ï¼šä¸ºå½“å‰æ—¶é—´ã€‚</li>
</ul>
</li>
<li>é€šè¿‡ <code>notificationMapper.insert(notification)</code> å°†é€šçŸ¥å†™å…¥ <code>notification</code> è¡¨ã€‚</li>
<li>è°ƒç”¨ <code>dispatch(notification)</code> å°†è¯¥é€šçŸ¥æ¨é€ç»™æ‰€æœ‰å½“å‰åœ¨çº¿çš„ SSE è¿æ¥ã€‚</li>
<li>è¿”å›æŒä¹…åŒ–åçš„ <code>Notification</code> å¯¹è±¡ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-8">2. æ‰¹é‡å‘é€ï¼š<code>createAndDispatchBatch</code></h4>
<ul>
<li>
<p><strong>æ–¹æ³•ç­¾å</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createAndDispatchBatch</span><span class="hljs-params">(List&lt;Long&gt; userIds, NotificationType type, String title, String content, String payload)</span>
</code></pre>
</li>
<li>
<p><strong>é€»è¾‘</strong>ï¼šå¯¹ <code>userIds</code> é€ä¸ªè°ƒç”¨ <code>createAndDispatch</code>ï¼Œç”¨äºå¯¹å¤šç”¨æˆ·å¹¿æ’­åŒä¸€ç±»å‹é€šçŸ¥ï¼ˆå¦‚ç³»ç»Ÿå…¬å‘Šæˆ–æ´»åŠ¨æ¨é€ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-9">3. é€šçŸ¥æ¨é€ï¼š<code>NotificationService.dispatch</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public void dispatch(Notification notification)</code></li>
<li><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š
<ol>
<li>ä» <code>emitterPool</code> ä¸­å–å‡ºè¯¥é€šçŸ¥å¯¹åº” <code>userId</code> çš„æ‰€æœ‰ <code>SseEmitter</code> åˆ—è¡¨ã€‚</li>
<li>è‹¥åˆ—è¡¨ä¸ºç©ºï¼Œè¯´æ˜ç”¨æˆ·æ­¤æ—¶æ²¡æœ‰æ‰“å¼€ SSE é€šé“ï¼Œæ–¹æ³•ç›´æ¥è¿”å›ï¼ˆä»…æ•°æ®åº“ä¸­ä¿ç•™é€šçŸ¥è®°å½•ï¼Œåç»­å»ºç«‹è¿æ¥æ—¶å†è¡¥å‘ï¼‰ã€‚</li>
<li>éå†æ¯ä¸ª <code>SseEmitter</code>ï¼Œè°ƒç”¨ï¼š
<ul>
<li><code>emitter.send(SseEmitter.event().id(String.valueOf(notification.getId())).name(notification.getType()).data(notification))</code>ï¼š
<ul>
<li><code>id</code>ï¼šä½¿ç”¨é€šçŸ¥ IDï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼Œç”¨äºå®¢æˆ·ç«¯çš„ <code>Last-Event-ID</code> ä¸æ–­ç‚¹ç»­ä¼ ã€‚</li>
<li><code>name</code>ï¼šä½¿ç”¨ <code>notification.getType()</code>ï¼Œå³ <code>NotificationType</code> çš„æšä¸¾åï¼ˆå¦‚ <code>PRIVATE_MESSAGE</code>ï¼‰ã€‚</li>
<li><code>data</code>ï¼šæ•´ä¸ª <code>Notification</code> å¯¹è±¡ï¼ˆå‰ç«¯æ¥æ”¶åå¯æŒ‰ <code>NotificationVO</code> è§£æï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚æœå‘é€è¿‡ç¨‹ä¸­æŠ›å‡º <code>IOException</code>ï¼Œè®°å½•æ—¥å¿—å¹¶è°ƒç”¨ <code>removeEmitter</code> ç§»é™¤å½“å‰å¤±æ•ˆè¿æ¥ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-10">4. å†å²é€šçŸ¥è¡¥å‘ï¼š<code>NotificationService.resendPending</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>private void resendPending(Long userId, Long lastId, SseEmitter emitter)</code></li>
<li><strong>è¡¥å‘ç­–ç•¥</strong>ï¼š
<ul>
<li>è‹¥ <code>lastId != null</code>ï¼šè¡¥å‘ <strong>ID å¤§äº <code>lastId</code></strong> çš„æ‰€æœ‰é€šçŸ¥ã€‚</li>
<li>è‹¥ <code>lastId == null</code>ï¼šè¡¥å‘ <strong>æ‰€æœ‰æœªè¯»ï¼ˆ<code>status = UNREAD</code>ï¼‰é€šçŸ¥</strong>ã€‚</li>
<li>å‡æŒ‰ ID å‡åºæ’åºï¼Œ<code>LIMIT 1</code> æ¡ï¼Œåªæ˜¯è¡¥å‘è¿‡æœ€æ–°ä¸€æ¡æ•°æ®ï¼Œåˆ—è¡¨é€šè¿‡æ•°æ®åº“æŸ¥è¯¢ã€‚</li>
</ul>
</li>
<li>é€šçŸ¥é€šè¿‡ <code>SseEmitter.event().id(...).name(...).data(...)</code> å‘é€ï¼Œä¸å®æ—¶æ¨é€ä¸€è‡´ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11">ä¸‰ã€é€šçŸ¥çš„å·²è¯»ã€æœªè¯»ä¸ç»Ÿè®¡</h3>
<h4 data-id="heading-12">1. æ ‡è®°å·²è¯»ï¼š<code>POST /api/notify/read</code></h4>
<h5 data-id="heading-13">Controllerï¼š<code>NotificationController.markRead</code></h5>
<ul>
<li><strong>è·¯å¾„</strong>ï¼š<code>/api/notify/read</code></li>
<li><strong>è¯·æ±‚ä½“</strong>ï¼š<code>NotificationReadRequest</code>ï¼ŒåŒ…å«ï¼š
<ul>
<li><code>notificationIds</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¦æ ‡è®°ä¸ºå·²è¯»çš„é€šçŸ¥ ID åˆ—è¡¨ã€‚</li>
<li><code>upToId</code>ï¼ˆå¯é€‰ï¼‰ï¼šå°† <code>id &lt;= upToId</code> çš„é€šçŸ¥å…¨éƒ¨æ ‡è®°ä¸ºå·²è¯»ã€‚</li>
</ul>
</li>
<li><strong>æ§åˆ¶å™¨é€»è¾‘</strong>ï¼š
<ol>
<li>ä» <code>UserContext</code> è·å–å½“å‰ç”¨æˆ· IDï¼Œæœªç™»å½•è¿”å› <code>Result.unauthorized("æœªç™»å½•")</code>ã€‚</li>
<li>è°ƒç”¨ <code>notificationService.markAsRead(userId, notificationIds, upToId)</code> æ‰§è¡Œæ›´æ–°ã€‚</li>
<li>å†è°ƒç”¨ <code>notificationService.countUnread(userId)</code> è·å–æœ€æ–°æœªè¯»æ•°é‡ã€‚</li>
<li>è¿”å› <code>Result.success(unread)</code>ã€‚</li>
</ol>
</li>
</ul>
<h5 data-id="heading-14">Serviceï¼š<code>NotificationService.markAsRead</code></h5>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public void markAsRead(Long userId, List&lt;Long&gt; notificationIds, Long upToId)</code></li>
<li><strong>æ‰§è¡Œé€»è¾‘</strong>ï¼š
<ol>
<li>è‹¥ <code>notificationIds</code> ä¸ºç©ºä¸” <code>upToId == null</code>ï¼Œç›´æ¥è¿”å›ï¼Œä¸åšæ›´æ–°ã€‚</li>
<li>åˆ›å»º <code>LambdaUpdateWrapper&lt;Notification&gt;</code>ï¼š
<ul>
<li><code>eq(Notification::getUserId, userId)</code>ï¼šåªæ›´æ–°å½“å‰ç”¨æˆ·çš„é€šçŸ¥ã€‚</li>
<li><code>eq(Notification::getStatus, NotificationStatus.UNREAD.name())</code>ï¼šåªå¤„ç†æœªè¯»é€šçŸ¥ã€‚</li>
<li>è‹¥ <code>notificationIds</code> ä¸ä¸ºç©ºï¼š<code>in(Notification::getId, notificationIds)</code>ã€‚</li>
<li>è‹¥ <code>upToId</code> ä¸ä¸º <code>null</code>ï¼š<code>le(Notification::getId, upToId)</code>ã€‚</li>
</ul>
</li>
<li><code>set(Notification::getStatus, NotificationStatus.READ.name())</code>ã€‚</li>
<li>æ‰§è¡Œ <code>notificationMapper.update(null, wrapper)</code> å®Œæˆæ‰¹é‡æ›´æ–°ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-15">2. æœªè¯»æ•°é‡ç»Ÿè®¡ï¼š<code>GET /api/notify/unread-count</code></h4>
<h5 data-id="heading-16">Controllerï¼š<code>NotificationController.unreadCount</code></h5>
<ul>
<li><strong>è·¯å¾„</strong>ï¼š<code>/api/notify/unread-count</code></li>
<li><strong>é€»è¾‘</strong>ï¼š
<ol>
<li>ä» <code>UserContext</code> è·å–å½“å‰ç”¨æˆ· IDï¼Œæœªç™»å½•è¿”å› <code>Result.unauthorized("æœªç™»å½•")</code>ã€‚</li>
<li>è°ƒç”¨ <code>notificationService.countUnread(userId)</code> è·å–æœªè¯»æ•°é‡ã€‚</li>
<li>è¿”å› <code>Result.success(unread)</code>ã€‚</li>
</ol>
</li>
</ul>
<h5 data-id="heading-17">Serviceï¼š<code>NotificationService.countUnread</code></h5>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public long countUnread(Long userId)</code></li>
<li><strong>é€»è¾‘</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>LambdaQueryWrapper&lt;Notification&gt;</code>ï¼š
<ul>
<li><code>eq(Notification::getUserId, userId)</code></li>
<li><code>eq(Notification::getStatus, NotificationStatus.UNREAD.name())</code></li>
</ul>
</li>
<li>è°ƒç”¨ <code>notificationMapper.selectCount(wrapper)</code> è¿”å›æœªè¯»æ€»æ•°ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18">3. æœ€è¿‘æœªè¯»åˆ—è¡¨ï¼š<code>GET /api/notify/recent</code></h4>
<ul>
<li><strong>è·¯å¾„</strong>ï¼š<code>/api/notify/recent</code></li>
<li><strong>è¯´æ˜</strong>ï¼šç”¨äºè°ƒè¯•æˆ–å‰ç«¯æ¢å¤ï¼Œè·å–å½“å‰ç”¨æˆ·æœ€è¿‘æœªè¯»é€šçŸ¥ï¼ˆæœ€å¤š 100 æ¡ï¼‰ã€‚</li>
<li><strong>Service æ–¹æ³•</strong>ï¼š<code>public List&lt;Notification&gt; recentUnread(Long userId)</code>
<ul>
<li>æ¡ä»¶ï¼š
<ul>
<li><code>userId</code> åŒ¹é…å½“å‰ç”¨æˆ·ï¼›</li>
<li><code>status = UNREAD</code>ï¼›</li>
</ul>
</li>
<li>æ’åºï¼š<code>createdAt</code> å€’åºï¼›</li>
<li><code>last("LIMIT 100")</code> é™åˆ¶æ•°é‡ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-19">å››ã€é€šçŸ¥åˆ†é¡µåˆ—è¡¨æ¥å£</h3>
<h4 data-id="heading-20">1. æ¥å£ï¼š<code>GET /api/notify/list</code></h4>
<h5 data-id="heading-21">Controllerï¼š<code>NotificationController.list</code></h5>
<ul>
<li><strong>è·¯å¾„</strong>ï¼š<code>/api/notify/list</code></li>
<li><strong>å…¥å‚ï¼ˆQueryï¼‰</strong>ï¼š
<ul>
<li><code>page</code>ï¼šé¡µç ï¼Œé»˜è®¤ <code>1</code>ã€‚</li>
<li><code>pageSize</code>ï¼šæ¯é¡µæ•°é‡ï¼Œé»˜è®¤ <code>10</code>ã€‚</li>
<li><code>status</code>ï¼šå¯é€‰ï¼Œ<code>UNREAD</code> / <code>READ</code> / <code>ALL</code>ï¼Œé»˜è®¤ <code>ALL</code>ï¼ˆä¸ä¼ æ—¶ä¹Ÿè§†ä¸º <code>ALL</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>æµç¨‹</strong>ï¼š
<ol>
<li>ä» <code>UserContext</code> è·å–å½“å‰ç”¨æˆ· IDï¼Œæœªç™»å½•è¿”å› <code>Result.unauthorized("æœªç™»å½•")</code>ã€‚</li>
<li>è°ƒç”¨ <code>notificationService.listNotifications(userId, page, pageSize, status)</code>ã€‚</li>
<li>è¿”å› <code>Result.success(Page&lt;NotificationVO&gt;)</code>ï¼Œåˆ†é¡µç»“æ„ä¸é¡¹ç›®ç»Ÿä¸€ï¼ˆ<code>total/size/current/pages/records</code> ç­‰ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<h5 data-id="heading-22">Serviceï¼š<code>NotificationService.listNotifications</code></h5>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public Page&lt;NotificationVO&gt; listNotifications(Long userId, int page, int pageSize, String status)</code></li>
<li><strong>å®ç°æ€è·¯</strong>ï¼š
<ol>
<li>æ„é€  <code>Page&lt;Notification&gt; pageParam = new Page&lt;&gt;(page, pageSize)</code>ã€‚</li>
<li>æ„é€  <code>LambdaQueryWrapper&lt;Notification&gt; wrapper</code>ï¼š
<ul>
<li><code>eq(Notification::getUserId, userId)</code>ã€‚</li>
<li>è‹¥ <code>status</code> éç©ºä¸”ä¸æ˜¯ <code>"ALL"</code>ï¼š<code>eq(Notification::getStatus, status.toUpperCase())</code>ã€‚</li>
<li><code>orderByDesc(Notification::getCreatedAt)</code>ã€‚</li>
</ul>
</li>
<li><code>notificationMapper.selectPage(pageParam, wrapper)</code> å¾—åˆ° <code>notificationPage</code>ã€‚</li>
<li>æ‰‹åŠ¨æ„é€  <code>Page&lt;NotificationVO&gt; voPage = new Page&lt;&gt;(page, pageSize, notificationPage.getTotal())</code>ï¼š
<ul>
<li>éå† <code>notificationPage.getRecords()</code>ï¼Œå°†æ¯æ¡è®°å½•æ˜ å°„ä¸º <code>NotificationVO</code>ï¼š
<ul>
<li>å¤åˆ¶ <code>id/userId/type/title/content/payload/status/createdAt</code> ç­‰å­—æ®µã€‚</li>
</ul>
</li>
<li><code>voPage.setRecords(records)</code>ã€‚</li>
</ul>
</li>
<li>è¿”å› <code>voPage</code>ã€‚</li>
</ol>
</li>
</ul>
<hr/>
<h3 data-id="heading-23">äº”ã€ä¸ç§ä¿¡æ¨¡å—çš„é›†æˆï¼ˆç¦»çº¿ç§ä¿¡æé†’ï¼‰</h3>
<h4 data-id="heading-24">1. åœºæ™¯æè¿°</h4>
<p>å½“ç”¨æˆ· A ç»™ç”¨æˆ· B å‘é€ä¸€å¯¹ä¸€ç§ä¿¡æ—¶ï¼š</p>
<ul>
<li>å¦‚æœ B å½“å‰é€šè¿‡ WebSocket åœ¨çº¿ï¼ˆæœ‰ <code>chat:online:{userId}</code> æ ‡è®°ï¼‰ï¼š
<ul>
<li>åªä¾èµ–èŠå¤©æ¨¡å—çš„å®æ—¶æ¶ˆæ¯æ¨é€ï¼ˆSTOMP <code>/topic/chat/{sessionId}</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>å¦‚æœ B ä¸åœ¨çº¿ï¼ˆæ²¡æœ‰åœ¨çº¿æ ‡è®°ï¼‰ï¼š
<ul>
<li>åœ¨èŠå¤©æ¶ˆæ¯æ­£å¸¸å†™å…¥ <code>chat_message</code> è¡¨çš„åŸºç¡€ä¸Šï¼Œ<strong>é¢å¤–</strong>ä¸º B åˆ›å»ºä¸€æ¡ <code>PRIVATE_MESSAGE</code> ç±»å‹çš„ç³»ç»Ÿé€šçŸ¥ï¼Œå†™å…¥ <code>notification</code> è¡¨å¹¶é€šè¿‡ SSE æ¨é€/è¡¥å‘ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-25">2. å…³é”®å®ç°ï¼š<code>ChatServiceImpl.sendMessage</code></h4>
<ul>
<li>åœ¨åˆ›å»º <code>ChatMessage</code> å¹¶æ›´æ–° <code>ChatSession.updatedAt</code> åï¼š
<ol>
<li>åˆ¤æ–­å½“å‰ä¼šè¯æ˜¯å¦ä¸ºå•èŠï¼š<code>"single".equalsIgnoreCase(session.getSessionType())</code>ã€‚</li>
<li>æŸ¥è¯¢è¯¥ä¼šè¯ä¸­â€œå¯¹æ–¹æˆå‘˜â€ (<code>ChatSessionMember</code>ï¼Œ<code>userId != å‘é€è€…</code>) è·å– <code>targetUserId</code>ã€‚</li>
<li>æ ¹æ® <code>RedisConstants.CHAT_ONLINE_PREFIX + targetUserId</code> ä» Redis ä¸­è¯»å–åœ¨çº¿æ ‡è®°ï¼š
<ul>
<li>è‹¥å­˜åœ¨å€¼ï¼šè®¤ä¸ºå¯¹æ–¹åœ¨çº¿ï¼Œä¸é¢å¤–ç”Ÿæˆé€šçŸ¥ã€‚</li>
<li>è‹¥ä¸å­˜åœ¨å€¼ï¼šè®¤ä¸ºå¯¹æ–¹ç¦»çº¿ï¼Œè¿›å…¥é€šçŸ¥åˆ›å»ºé€»è¾‘ã€‚</li>
</ul>
</li>
<li>ç¦»çº¿åœºæ™¯ä¸‹ï¼š
<ul>
<li>æŸ¥è¯¢å‘é€è€…ç”¨æˆ·ä¿¡æ¯ï¼Œå–æ˜µç§°æˆ–ç”¨æˆ·åä½œä¸º <code>senderName</code>ã€‚</li>
<li>æ„é€ æ ‡é¢˜ <code>title = "æ”¶åˆ°ä¸€æ¡æ–°çš„ç§ä¿¡"</code>ã€‚</li>
<li>æ„é€ é¢„è§ˆ <code>preview = content</code> çš„å‰è‹¥å¹²å­—ç¬¦ï¼ˆè¶…é•¿æˆªæ–­ï¼‰ã€‚</li>
<li>æ„é€  <code>payload</code> JSON å­—ç¬¦ä¸²ï¼šåŒ…å« <code>sessionId</code>ã€<code>messageId</code>ã€<code>senderId</code>ã€<code>senderName</code>ï¼Œä¾›å‰ç«¯è·³è½¬ä½¿ç”¨ã€‚</li>
<li>è°ƒç”¨ <code>notificationService.createAndDispatch(targetUserId, NotificationType.PRIVATE_MESSAGE, title, preview, payload)</code>ï¼š
<ul>
<li>å°†é€šçŸ¥å†™å…¥ <code>notification</code> è¡¨ã€‚</li>
<li>è‹¥ B æ­¤æ—¶å·²ç»å»ºç«‹ SSE è¿æ¥ï¼Œä¼šç«‹åˆ»æ”¶åˆ°ä¸€æ¡ <code>PRIVATE_MESSAGE</code> äº‹ä»¶ã€‚</li>
<li>è‹¥ B ä¹‹åæ‰å»ºç«‹ SSE è¿æ¥ï¼Œä¼šé€šè¿‡è¡¥å‘é€»è¾‘ <code>resendPending</code> æ”¶åˆ°å†å²é€šçŸ¥ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<hr/>
<h3 data-id="heading-26">å‰ç«¯å®ç°  å‰ç«¯ SSE é€šçŸ¥å®ç°è¯´æ˜ï¼ˆä» 0 åˆ°çœ‹åˆ°æ§åˆ¶å°æ—¥å¿—ï¼‰</h3>
<h3 data-id="heading-27">ä¸€ã€ç›¸å…³æ–‡ä»¶æ€»è§ˆ</h3>
<ul>
<li><code>vite.config.js</code>
<ul>
<li>å¼€å‘ç¯å¢ƒä»£ç†é…ç½®ï¼š<code>/api</code> â†’ åç«¯ <code>VITE_API_BASE_URL</code>ã€‚</li>
</ul>
</li>
<li><code>src/main.js</code>
<ul>
<li>åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–ç”¨æˆ·çŠ¶æ€å¹¶æ ¹æ®ç™»å½•æ€åˆå§‹åŒ–é€šçŸ¥ SSEã€‚</li>
</ul>
</li>
<li><code>src/utils/notificationStream.js</code>
<ul>
<li><strong>SSE è¿æ¥å’Œæ¶ˆæ¯è§£æçš„æ ¸å¿ƒé€»è¾‘ï¼ˆåŸºäº fetch + ReadableStreamï¼Œè‡ªå®ç° EventSourceï¼‰ã€‚</strong></li>
</ul>
</li>
<li><code>src/stores/notification.js</code>
<ul>
<li>é€šçŸ¥ç›¸å…³ Pinia Storeï¼Œç®¡ç†æœªè¯»æ•°é‡ã€é€šçŸ¥åˆ—è¡¨å’Œ SSE çŠ¶æ€ã€‚</li>
</ul>
</li>
<li><code>src/components/Header/index.vue</code>
<ul>
<li>é¡¶éƒ¨ Headerï¼Œå±•ç¤ºé€šçŸ¥é“ƒé“›å’Œæœªè¯»çº¢ç‚¹ã€‚</li>
</ul>
</li>
<li><code>src/pages/UserCenter/pages/Notifications/index.vue</code>
<ul>
<li>ç”¨æˆ·ä¸­å¿ƒã€Œæ¶ˆæ¯é€šçŸ¥ã€é¡µé¢ï¼Œå±•ç¤ºé€šçŸ¥åˆ—è¡¨ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-28">äºŒã€ç¯å¢ƒä¸ä»£ç†ï¼ˆä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒä¸ç›´æ¥è·¨åŸŸï¼‰</h3>
<h4 data-id="heading-29">2.1 Vite ä»£ç†é…ç½®</h4>
<p><code>vite.config.js</code> ä¸­å¼€å‘ç¯å¢ƒçš„æ ¸å¿ƒä»£ç†é…ç½®ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">server</span>: {
  <span class="hljs-attr">port</span>: <span class="hljs-number">3003</span>,
  <span class="hljs-attr">host</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">cors</span>: <span class="hljs-literal">true</span>,
  ...(isDev &amp;&amp; {
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-string">'/api'</span>: {
        <span class="hljs-attr">target</span>: env.<span class="hljs-property">VITE_API_BASE_URL</span> || <span class="hljs-string">'http://localhost:8080'</span>,
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">''</span>)
      }
    }
  })
}
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>æµè§ˆå™¨è®¿é—®çš„æ˜¯ <code>http://localhost:3003</code>ï¼ˆå‰ç«¯ dev serverï¼‰ã€‚</li>
<li>ä»»ä½•ä»¥ <code>/api</code> å¼€å¤´çš„è¯·æ±‚éƒ½ä¼šè¢« Vite è½¬å‘åˆ° <code>VITE_API_BASE_URL</code> å¯¹åº”çš„åç«¯ï¼Œä¾‹å¦‚ï¼š
<ul>
<li>æµè§ˆå™¨ï¼š<code>/api/api/notify/stream</code></li>
<li>Vite rewriteï¼šå»æ‰ç¬¬ä¸€ä¸ª <code>/api</code>ï¼Œè½¬æˆ <code>/api/notify/stream</code></li>
<li>åç«¯å®é™…æ”¶åˆ°ï¼š<code>http://127.0.0.1:8081/api/notify/stream</code>ï¼ˆå’Œåç«¯æ–‡æ¡£ä¸€è‡´ï¼‰ã€‚</li>
</ul>
</li>
<li>å¯¹æµè§ˆå™¨æ¥è¯´å§‹ç»ˆæ˜¯ <strong>åŒæº (3003)</strong>ï¼Œä¸ä¼šè§¦å‘ CORS æ ¡éªŒï¼Œè·¨åŸŸé—®é¢˜ç”± dev server å¸®æˆ‘ä»¬æŒ¡åœ¨èƒŒåã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-30">ä¸‰ã€åº”ç”¨å…¥å£ï¼šåœ¨ä»€ä¹ˆæ—¶æœºå»ºç«‹ SSE è¿æ¥ï¼Ÿ</h3>
<h4 data-id="heading-31">3.1 <code>src/main.js</code></h4>
<p>åœ¨ <code>main.js</code> ä¸­ï¼š</p>
<ol>
<li>åˆ›å»ºåº”ç”¨å®ä¾‹å¹¶æŒ‚è½½ Pinia / Router / UI åº“ã€‚</li>
<li>åˆå§‹åŒ–ç”¨æˆ·çŠ¶æ€ï¼ˆä» localStorage æ¢å¤ç™»å½•æ€ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(pinia)
app.<span class="hljs-title function_">use</span>(router)
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()
<span class="hljs-keyword">const</span> notificationStore = <span class="hljs-title function_">useNotificationStore</span>()

userStore.<span class="hljs-title function_">initUserState</span>()
</code></pre>
<ol start="3">
<li>å½“æ¢å¤ç™»å½•çŠ¶æ€åï¼Œå¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œç«‹å³åˆå§‹åŒ–é€šçŸ¥ SSEï¼Œå¹¶è·å–ä¸€æ¬¡æœªè¯»æ•°é‡ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (userStore.<span class="hljs-property">isLogin</span>) {
  <span class="hljs-title function_">initNotificationStream</span>()
  notificationStore.<span class="hljs-title function_">fetchUnreadCount</span>()
}
</code></pre>
<ol start="4">
<li>åŒæ—¶ç›‘å¬ç™»å½•çŠ¶æ€å˜åŒ–ï¼Œè‡ªåŠ¨å¤„ç†è¿æ¥çš„å»ºç«‹å’Œå…³é—­ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> userStore.<span class="hljs-property">isLogin</span>,
  <span class="hljs-function">(<span class="hljs-params">isLogin</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (isLogin) {
      <span class="hljs-title function_">initNotificationStream</span>()
      notificationStore.<span class="hljs-title function_">fetchUnreadCount</span>()
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">closeNotificationStream</span>()
      notificationStore.<span class="hljs-title function_">reset</span>()
    }
  }
)
</code></pre>
<p><strong>ç»“è®ºï¼š</strong></p>
<ul>
<li>åº”ç”¨å¯åŠ¨æ—¶ï¼Œå¦‚æœç”¨æˆ·å·²ç™»å½• â†’ è‡ªåŠ¨å»ºç«‹ SSE è¿æ¥ã€‚</li>
<li>ç”¨æˆ·ç™»å½•æˆåŠŸ â†’ è‡ªåŠ¨å»ºç«‹è¿æ¥ã€‚</li>
<li>ç”¨æˆ·ç™»å‡ºæˆ– token å¤±æ•ˆ â†’ è‡ªåŠ¨å…³é—­è¿æ¥å¹¶æ¸…ç©ºé€šçŸ¥çŠ¶æ€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-32">å››ã€SSE æ ¸å¿ƒï¼š<code>notificationStream.js</code> ä¸­çš„è¿æ¥ä¸è§£æ</h3>
<h4 data-id="heading-33">4.1 è¿æ¥åœ°å€</h4>
<pre><code class="hljs language-bash" lang="bash">/api/api/notify/stream
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>æµè§ˆå™¨è§†è§’ï¼š<code>http://localhost:3003/api/api/notify/stream</code>ï¼ˆåŒæºï¼‰ã€‚</li>
<li>Vite ä»£ç†ï¼šå»æ‰ç¬¬ä¸€ä¸ª <code>/api</code> â†’ <code>/api/notify/stream</code>ã€‚</li>
<li>åç«¯è§†è§’ï¼š<code>http://127.0.0.1:8081/api/notify/stream</code>ï¼ˆä¸æ¥å£æ–‡æ¡£ä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-34">4.2 å»ºç«‹ SSE è¿æ¥</h4>
<p><code>initNotificationStream</code> è´Ÿè´£å‘èµ·è¿æ¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initNotificationStream</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">'undefined'</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">if</span> (reading) <span class="hljs-keyword">return</span> <span class="hljs-comment">// å·²åœ¨è¯»æµåˆ™ä¸é‡å¤å»ºç«‹</span>

  <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()
  <span class="hljs-keyword">const</span> notificationStore = <span class="hljs-title function_">useNotificationStore</span>()

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> sseUrl = <span class="hljs-string">'/api/api/notify/stream'</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] å‡†å¤‡å»ºç«‹è¿æ¥:'</span>, sseUrl)

    abortController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>()
    reading = <span class="hljs-literal">true</span>
    notificationStore.<span class="hljs-title function_">setSseConnected</span>(<span class="hljs-literal">true</span>)

    <span class="hljs-title function_">fetch</span>(sseUrl, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-title class_">Accept</span>: <span class="hljs-string">'text/event-stream'</span>,
        <span class="hljs-string">'Cache-Control'</span>: <span class="hljs-string">'no-cache'</span>,
        ...(userStore.<span class="hljs-property">token</span>
          ? { <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${userStore.token}</span>`</span> }
          : {})
      },
      <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
      <span class="hljs-attr">signal</span>: abortController.<span class="hljs-property">signal</span>
    })
      .<span class="hljs-title function_">then</span>(<span class="hljs-comment">/* å¤„ç†å“åº”ä¸è¯»æµ */</span>)
      .<span class="hljs-keyword">catch</span>(<span class="hljs-comment">/* é”™è¯¯å¤„ç† */</span>)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>ä½¿ç”¨åŸç”Ÿ <code>fetch</code> è€Œä¸æ˜¯ <code>EventSource</code>ï¼Œæ˜¯å› ä¸ºéœ€è¦è‡ªå®šä¹‰ <code>Authorization</code> å¤´ã€‚</li>
<li>é€šè¿‡ <code>Authorization: Bearer &lt;token&gt;</code> æºå¸¦ç™»å½•çŠ¶æ€ï¼Œå…¼å®¹åç«¯é‰´æƒé€»è¾‘ã€‚</li>
<li><code>credentials: 'include'</code> ä¿ç•™ Cookie ä¿¡æ¯ï¼ˆå¦‚æœåç«¯éœ€è¦ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-35">4.3 å¤„ç† HTTP å“åº”å¹¶è¾“å‡ºåŸºç¡€æ—¥å¿—</h4>
<pre><code class="hljs language-js" lang="js">.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (response) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] å“åº”çŠ¶æ€:'</span>, response.<span class="hljs-property">status</span>, response.<span class="hljs-property">statusText</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] å“åº”å¤´ content-type:'</span>, response.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'content-type'</span>))

  <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span> || !response.<span class="hljs-property">body</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`SSE è¿æ¥å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>)
  }

  <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>()
  <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>(<span class="hljs-string">'utf-8'</span>)
  <span class="hljs-keyword">let</span> buffer = <span class="hljs-string">''</span>

  <span class="hljs-comment">// æŒç»­è¯»æµ...</span>
})
</code></pre>
<p>æ­¤æ—¶åœ¨æµè§ˆå™¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li><code>[SSE] å“åº”çŠ¶æ€: 200 OK</code></li>
<li><code>[SSE] å“åº”å¤´ content-type: text/event-stream;charset=UTF-8</code></li>
</ul>
<h4 data-id="heading-36">4.4 æŒç»­è¯»å– SSE æµå¹¶è§£æäº‹ä»¶</h4>
<p>æ ¸å¿ƒå¾ªç¯é€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
  <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>()
  <span class="hljs-keyword">if</span> (done) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] æµå·²ç»“æŸ'</span>)
    <span class="hljs-keyword">break</span>
  }

  buffer += decoder.<span class="hljs-title function_">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> })
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] æ”¶åˆ°åŸå§‹ chunk:'</span>, buffer)

  <span class="hljs-comment">// æ ¹æ® \n\n åˆ‡åˆ†äº‹ä»¶å—</span>
  <span class="hljs-keyword">const</span> events = buffer.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n\n'</span>)
  buffer = events.<span class="hljs-title function_">pop</span>() || <span class="hljs-string">''</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> rawEvent <span class="hljs-keyword">of</span> events) {
    <span class="hljs-keyword">const</span> lines = rawEvent.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>)
    <span class="hljs-keyword">let</span> eventType = <span class="hljs-string">'message'</span>
    <span class="hljs-keyword">let</span> data = <span class="hljs-string">''</span>
    <span class="hljs-keyword">let</span> lastEventId = <span class="hljs-literal">null</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines) {
      <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'event:'</span>)) {
        eventType = line.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">trim</span>()
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'data:'</span>)) {
        data += line.<span class="hljs-title function_">slice</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">trim</span>()
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'id:'</span>)) {
        lastEventId = line.<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>).<span class="hljs-title function_">trim</span>()
      }
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[SSE] è§£æåˆ°äº‹ä»¶:'</span>, {
      eventType,
      lastEventId,
      data,
      rawEvent
    })

    <span class="hljs-keyword">if</span> (lastEventId) {
      notificationStore.<span class="hljs-title function_">setLastEventId</span>(lastEventId)
    }

    <span class="hljs-keyword">if</span> (eventType === <span class="hljs-string">'heartbeat'</span>) <span class="hljs-keyword">continue</span>
    <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">continue</span>

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data)
      notificationStore.<span class="hljs-title function_">handleIncomingNotification</span>(parsed)
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è§£æé€šçŸ¥ SSE æ¶ˆæ¯å¤±è´¥:'</span>, error, data)
    }
  }
}
</code></pre>
<p><strong>æ§åˆ¶å°èƒ½çœ‹åˆ°çš„å…¸å‹æ—¥å¿—ï¼ˆä»¥ PRIVATE_MESSAGE ä¸ºä¾‹ï¼‰ï¼š</strong></p>
<ul>
<li><code>[SSE] æ”¶åˆ°åŸå§‹ chunk: id:21\nevent:PRIVATE_MESSAGE\ndata:{"id":21,"userId":3,"type":"PRIVATE_MESSAGE",...}\n\n</code></li>
<li><code>[SSE] è§£æåˆ°äº‹ä»¶: { eventType: 'PRIVATE_MESSAGE', lastEventId: '21', data: '{"id":21,"userId":3,"type":"PRIVATE_MESSAGE",...}', rawEvent: 'id:21\nevent:PRIVATE_MESSAGE\ndata:{"id":21,...}' }</code></li>
</ul>
<hr/>
<h3 data-id="heading-37">äº”ã€é€šçŸ¥ Storeï¼šå¦‚ä½•æ¶ˆè´¹å’Œå­˜å‚¨ SSE æ¶ˆæ¯</h3>
<p>æ–‡ä»¶ï¼š<code>src/stores/notification.js</code></p>
<h4 data-id="heading-38">5.1 çŠ¶æ€ç»“æ„</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">unreadCount</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">notifications</span>: [],
  <span class="hljs-attr">pagination</span>: {
    <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">current</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pages</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-attr">loadingList</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">loadingUnread</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">sseConnected</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">lastEventId</span>: <span class="hljs-literal">null</span>
})
</code></pre>
<h4 data-id="heading-39">5.2 å¤„ç† SSE æ¨é€çš„æ–°é€šçŸ¥</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">handleIncomingNotification</span>(<span class="hljs-params">notification</span>) {
  <span class="hljs-keyword">if</span> (!notification || !notification.<span class="hljs-property">id</span>) {
    <span class="hljs-comment">// å½“å‰çº¦å®šï¼šå¿…é¡»æœ‰ id æ‰è®¤ä¸ºæ˜¯æœ‰æ•ˆé€šçŸ¥</span>
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-keyword">const</span> exists = <span class="hljs-variable language_">this</span>.<span class="hljs-property">notifications</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === notification.<span class="hljs-property">id</span>)
  <span class="hljs-keyword">if</span> (!exists) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">notifications</span> = [notification, ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">notifications</span>]
  }

  <span class="hljs-comment">// æœªæ˜¾å¼æ ‡è®°ä¸º READ çš„ï¼Œéƒ½ç®—æœªè¯»</span>
  <span class="hljs-keyword">if</span> (!notification.<span class="hljs-property">status</span> || notification.<span class="hljs-property">status</span> === <span class="hljs-string">'UNREAD'</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">unreadCount</span> += <span class="hljs-number">1</span>
  }
}
</code></pre>
<p><strong>æ•ˆæœï¼š</strong></p>
<ul>
<li>æ¯ä¸€æ¡ä» SSE æ”¶åˆ°çš„ JSON é€šçŸ¥ï¼ˆåŒ…å« <code>id</code> å­—æ®µï¼‰ä¼šè¢«æ·»åŠ åˆ° <code>notifications</code> åˆ—è¡¨é¡¶éƒ¨ã€‚</li>
<li>æœªè¯»æ•°é‡ <code>unreadCount</code> ä¼šè‡ªå¢ï¼Œç”¨äº Header çº¢ç‚¹ç­‰ UI å±•ç¤ºã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-40">å…­ã€UI å±•ç¤ºï¼šä» Store åˆ°é¡µé¢/æ§åˆ¶å°</h3>
<h4 data-id="heading-41">6.1 Header é“ƒé“›çº¢ç‚¹</h4>
<p>æ–‡ä»¶ï¼š<code>src/components/Header/index.vue</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> notificationStore = <span class="hljs-title function_">useNotificationStore</span>()
<span class="hljs-keyword">const</span> hasUnread = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> notificationStore.<span class="hljs-property">unreadCount</span> &gt; <span class="hljs-number">0</span>)
</code></pre>
<p>åœ¨æ¨¡æ¿ä¸­ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;button class="gridButton" @click="handleNotificationClick"&gt;
  &lt;span style="position: relative; display: inline-block;"&gt;
    &lt;i class="fas fa-bell text-lg"&gt;&lt;/i&gt;
    &lt;span v-if="hasUnread" class="unreadBadge"&gt;&lt;/span&gt;
  &lt;/span&gt;
&lt;/button&gt;
</code></pre>
<p>å½“ SSE æ”¶åˆ°ä»»æ„ä¸€æ¡æœªè¯»é€šçŸ¥ï¼š</p>
<ul>
<li><code>handleIncomingNotification</code> â†’ <code>unreadCount++</code></li>
<li><code>hasUnread</code> å˜ä¸º <code>true</code></li>
<li><code>unreadBadge</code> æ¸²æŸ“ï¼Œå°çº¢ç‚¹ç‚¹äº®ã€‚</li>
</ul>
<h4 data-id="heading-42">6.2 ç”¨æˆ·ä¸­å¿ƒã€Œæ¶ˆæ¯é€šçŸ¥ã€é¡µé¢</h4>
<p>æ–‡ä»¶ï¼š<code>src/pages/UserCenter/pages/Notifications/index.vue</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> notificationStore = <span class="hljs-title function_">useNotificationStore</span>()

<span class="hljs-keyword">const</span> notifications = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> notificationStore.<span class="hljs-property">notifications</span>)
<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> notificationStore.<span class="hljs-property">loadingList</span>)
</code></pre>
<p>é¦–æ¬¡è¿›å…¥é¡µé¢æ—¶ï¼Œä¼šä»åç«¯æ‹‰ä¸€æ¬¡å†å²é€šçŸ¥åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  notificationStore.<span class="hljs-title function_">fetchNotifications</span>({
    <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-string">'ALL'</span>
  })
})
</code></pre>
<p>å½“ SSE æ¨é€æ–°é€šçŸ¥æ—¶ï¼š</p>
<ul>
<li>Store çš„ <code>notifications</code> é¦–å…ƒç´ ä¼šæ˜¯æœ€æ–°ä¸€æ¡ï¼›</li>
<li>æ­¤é¡µé¢ä¼šè‡ªåŠ¨å“åº”å¼æ›´æ–°ï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»æŸ¥çœ‹å¹¶æ ‡è®°ä¸ºå·²è¯»ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-43">æœ€åã€å°ç»“</h3>
<ol>
<li><strong>å»ºç«‹è¿æ¥</strong>ï¼š<code>/api/notify/stream</code> â†’ <code>NotificationService.connect</code> â†’ ç»´æŠ¤ <code>emitterPool</code> + å¿ƒè·³ + å†å²è¡¥å‘ã€‚</li>
<li><strong>åˆ›å»ºé€šçŸ¥</strong>ï¼šå„ä¸šåŠ¡ï¼ˆå¦‚ç§ä¿¡æ¨¡å—ï¼‰è°ƒç”¨ <code>NotificationService.createAndDispatch</code>ï¼Œå°†é€šçŸ¥å†™å…¥ <code>notification</code> è¡¨å¹¶å°è¯•é€šè¿‡ SSE æ¨é€ã€‚</li>
<li><strong>æ¥æ”¶ä¸è¡¥å‘</strong>ï¼šåœ¨çº¿ç”¨æˆ·é€šè¿‡ SSE ç«‹å³æ”¶åˆ°é€šçŸ¥ï¼›ç¦»çº¿ç”¨æˆ·ä¸‹æ¬¡è¿æ¥æ—¶é€šè¿‡ <code>Last-Event-ID</code> æˆ–æœªè¯»ç­›é€‰è¡¥å‘ï¼ˆæœ€å¤š 100 æ¡ï¼‰ã€‚</li>
<li><strong>å·²è¯»/æœªè¯»ç®¡ç†</strong>ï¼š<code>/api/notify/read</code> å’Œ <code>/api/notify/unread-count</code> è´Ÿè´£å·²è¯»æ ‡è®°ä¸æœªè¯»ç»Ÿè®¡ã€‚</li>
<li><strong>åˆ—è¡¨ä¸åˆ†é¡µ</strong>ï¼š<code>/api/notify/recent</code> æä¾›æœ€è¿‘æœªè¯»è°ƒè¯•æ¥å£ï¼›<code>/api/notify/list</code> æä¾›æŒ‰çŠ¶æ€è¿‡æ»¤çš„åˆ†é¡µé€šçŸ¥åˆ—è¡¨ã€‚</li>
<li><strong>ç§ä¿¡é›†æˆ</strong>ï¼š<code>ChatServiceImpl</code> åœ¨å•èŠç¦»çº¿åœºæ™¯ä¸‹ï¼Œä¸ºæ¥æ”¶æ–¹ç”Ÿæˆ <code>PRIVATE_MESSAGE</code> é€šçŸ¥ï¼Œå®ç°â€œæœ‰äººç»™ä½ å‘ç§ä¿¡â€ç±»å‹çš„ç³»ç»Ÿæç¤ºã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¯ Rect ä¸­é¼ æ ‡ç§»åŠ¨æ‹¾å–å…ƒç´ å¯è¡Œæ€§æ¶æ„åˆ†æ]]></title>    <link>https://juejin.cn/post/7583952017674190899</link>    <guid>https://juejin.cn/post/7583952017674190899</guid>    <pubDate>2025-12-16T01:46:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583952017674190899" data-draft-id="7583933107689701439" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¯ Rect ä¸­é¼ æ ‡ç§»åŠ¨æ‹¾å–å…ƒç´ å¯è¡Œæ€§æ¶æ„åˆ†æ"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,React.js"/> <meta itemprop="datePublished" content="2025-12-16T01:46:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¯ Rect ä¸­é¼ æ ‡ç§»åŠ¨æ‹¾å–å…ƒç´ å¯è¡Œæ€§æ¶æ„åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T01:46:15.000Z" title="Tue Dec 16 2025 01:46:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§  ä¸€ã€èƒŒæ™¯ï¼šä»€ä¹ˆæ˜¯æ‹¾å–ï¼ˆPickingï¼‰ï¼Ÿ</h2>
<p>â€œæ‹¾å–â€æ˜¯æŒ‡<strong>ä»ç”¨æˆ·äº¤äº’çš„äºŒç»´è¾“å…¥ï¼ˆé¼ æ ‡ã€è§¦æ§ï¼‰æ˜ å°„åˆ°å›¾å½¢å¯¹è±¡</strong>çš„è¿‡ç¨‹ã€‚</p>
<p>æƒ³è±¡ä½ åœ¨ä¸€ä¸ªå¯è§†åŒ–ç¼–è¾‘å™¨ä¸­ç§»åŠ¨é¼ æ ‡æŒ‡é’ˆâ€”â€”å½“å…‰æ ‡æ‚¬æµ®åœ¨æŸä¸ªçŸ©å½¢ï¼ˆRectï¼‰ä¸Šï¼Œå®ƒé«˜äº®ã€å˜è‰²ã€æç¤ºâ€œæˆ‘è¢«é€‰ä¸­äº†â€ï¼Œè¿™å°±æ˜¯ <em>æ‹¾å–ç³»ç»Ÿ</em> åœ¨èƒŒåæ–½å±•é­”æ³•ã€‚âœ¨</p>
<p>åœ¨äºŒç»´åœºæ™¯ä¸­ï¼Œæ‹¾å–æ–¹æ¡ˆé€šå¸¸åˆ†ä¸‰ç±»ï¼š</p>





























<table><thead><tr><th>æ¨¡å¼</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å‡ ä½•æ‹¾å–</td><td>åœ¨é€»è¾‘å±‚åˆ¤æ–­ <code>(x,y)</code> ä¸å„å¯¹è±¡è¾¹ç•Œå…³ç³»</td><td>ç²¾ç¡®ã€è½»é‡</td><td>å¤§é‡å…ƒç´ æ—¶è€—æ€§èƒ½</td></tr><tr><td>GPUé¢œè‰²æ‹¾å–ï¼ˆColor Pickingï¼‰</td><td>æ¯ä¸ªå¯¹è±¡æ¸²æŸ“å”¯ä¸€é¢œè‰²ï¼Œå¯¹é¼ æ ‡ç‚¹å–è‰²</td><td>å‡†ç¡®ã€ç‹¬ç«‹äºå½¢çŠ¶å¤æ‚åº¦</td><td>éœ€é¢å¤–æ¸²æŸ“ç¼“å†²åŒº</td></tr><tr><td>ç©ºé—´ç´¢å¼•æ‹¾å–ï¼ˆQuadTree / BVHï¼‰</td><td>å»ºç«‹ç©ºé—´æ•°æ®ç»“æ„åŠ é€Ÿå‘½ä¸­æŸ¥æ‰¾</td><td>é«˜æ•ˆã€å¯æ‰©å±•</td><td>å®ç°å¤æ‚åº¦é«˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">ğŸ”¬ äºŒã€å¯è¡Œæ€§æ¶æ„æ ¸å¿ƒè¦ç‚¹</h2>
<h3 data-id="heading-2">ï¼ˆ1ï¼‰æ•°æ®å±‚ï¼šç»“æ„åŒ–ç®¡ç† Rect å…ƒç´ </h3>
<p>é¦–å…ˆè¦æœ‰â€œ<strong>å¯ç´¢å¼•ã€å¯å¿«é€Ÿå‘½ä¸­</strong>â€çš„æ•°æ®ç»“æ„ã€‚<br/>
å‡è®¾æ¯ä¸ªçŸ©å½¢å…ƒç´ éƒ½æœ‰å¦‚ä¸‹å±æ€§ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rect</span> {
  <span class="hljs-keyword">constructor</span>(id, x, y, width, height) {
    <span class="hljs-keyword">this</span>.id = id;
    <span class="hljs-keyword">this</span>.bounds = { x, y, width, height };
    <span class="hljs-keyword">this</span>.state = <span class="hljs-string">"normal"</span>; <span class="hljs-comment">// normal, hover, selected</span>
  }

  contains(px, py) {
    <span class="hljs-keyword">return</span> (
      px &gt;= <span class="hljs-keyword">this</span>.bounds.x &amp;&amp;
      px &lt;= <span class="hljs-keyword">this</span>.bounds.x + <span class="hljs-keyword">this</span>.bounds.width &amp;&amp;
      py &gt;= <span class="hljs-keyword">this</span>.bounds.y &amp;&amp;
      py &lt;= <span class="hljs-keyword">this</span>.bounds.y + <span class="hljs-keyword">this</span>.bounds.height
    );
  }
}
</code></pre>
<p>åœ¨å°è§„æ¨¡ä¸‹ï¼Œæˆ‘ä»¬å¯ç›´æ¥çº¿æ€§æ‰«æï¼Œä½†åœ¨æ•°åƒä¸ªRectåœºæ™¯ä¸­ï¼Œè¿™ä¼šè®©GPUå“­æ³£ ğŸ˜­ã€‚</p>
<hr/>
<h3 data-id="heading-3">ï¼ˆ2ï¼‰ç©ºé—´å±‚ï¼šåŒºåŸŸåŠ é€Ÿç»“æ„è®¾è®¡</h3>
<p>ä¸ºè§£å†³æ€§èƒ½é—®é¢˜ï¼Œå¯å¼•å…¥ <strong>QuadTreeï¼ˆå››å‰æ ‘ï¼‰</strong> è¿›è¡Œç©ºé—´åˆ’åˆ†ã€‚</p>
<p><strong>åŸç†</strong>ï¼š</p>
<ul>
<li>å°†ç”»å¸ƒå¹³é¢é€’å½’åˆ’åˆ†ä¸ºå››ä¸ªè±¡é™ï¼Œæ¯ä¸ªè±¡é™å­˜å‚¨çŸ©å½¢å¯¹è±¡é›†åˆã€‚</li>
<li>é¼ æ ‡ç§»åŠ¨æ—¶ï¼ŒåªæŸ¥è¯¢å½“å‰è±¡é™èŠ‚ç‚¹ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼ŒæŸ¥è¯¢å¤æ‚åº¦ï¼šå¹³å‡ O(log n)ã€‚</li>
</ul>
<p>ä¼ªä»£ç æ¼”ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">QuadTree</span> {
  <span class="hljs-keyword">constructor</span>(boundary, capacity) {
    <span class="hljs-keyword">this</span>.boundary = boundary;  <span class="hljs-comment">// å½“å‰èŠ‚ç‚¹çŸ©å½¢åŒºåŸŸ</span>
    <span class="hljs-keyword">this</span>.capacity = capacity;  <span class="hljs-comment">// ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šçš„å…ƒç´ æ•°</span>
    <span class="hljs-keyword">this</span>.rects = [];
    <span class="hljs-keyword">this</span>.divided = <span class="hljs-literal">false</span>;
  }

  insert(rect) { <span class="hljs-comment">/* ...æ ¹æ®è¾¹ç•Œåˆ†è£‚æ’å…¥é€»è¾‘... */</span> }

  query(point) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.boundary.contains(point)) <span class="hljs-keyword">return</span> [];
    let found = [];
    <span class="hljs-keyword">for</span> (let r of <span class="hljs-keyword">this</span>.rects) {
      <span class="hljs-keyword">if</span> (r.contains(point.x, point.y)) found.push(r);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.divided) {
      found.push(...<span class="hljs-keyword">this</span>.northwest.query(point));
      found.push(...<span class="hljs-keyword">this</span>.northeast.query(point));
      found.push(...<span class="hljs-keyword">this</span>.southwest.query(point));
      found.push(...<span class="hljs-keyword">this</span>.southeast.query(point));
    }
    <span class="hljs-keyword">return</span> found;
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-4">ï¼ˆ3ï¼‰äº‹ä»¶å±‚ï¼šé¼ æ ‡ç§»åŠ¨æ‹¾å–æµé€»è¾‘</h3>
<p>æ ¸å¿ƒé€»è¾‘æ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">mousemove
   â†“
æ‹¾å–ç®¡ç†å™¨ (PickManager)
   â†“
ç©ºé—´æŸ¥è¯¢ (QuadTree.query)
   â†“
æ£€æµ‹å‘½ä¸­å¯¹è±¡ (Rect.contains)
   â†“
çŠ¶æ€åŒæ­¥ (hover / leave / select)
   â†“
æ¸²æŸ“å±‚é‡æ–°ç»˜åˆ¶ç›®æ ‡åŒºåŸŸ
</code></pre>
<p>å®Œæ•´ç®€åŒ–å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">canvas.addEventListener("mousemove", (e) =&gt; {
  const <span class="hljs-attr">mouse</span> = { x: e.<span class="hljs-literal">off</span>setX, y: e.<span class="hljs-literal">off</span>setY }<span class="hljs-comment">;</span>
  const <span class="hljs-attr">hitRects</span> = quadTree.query(mouse)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">newHover</span> = hitRects[<span class="hljs-number">0</span>] || null<span class="hljs-comment">;</span>
  if (currentHover !== newHover) {
    if (currentHover) <span class="hljs-attr">currentHover.state</span> = <span class="hljs-string">"normal"</span><span class="hljs-comment">;</span>
    if (newHover) <span class="hljs-attr">newHover.state</span> = <span class="hljs-string">"hover"</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">currentHover</span> = newHover<span class="hljs-comment">;</span>
    render()<span class="hljs-comment">; // å±€éƒ¨æˆ–å…¨å±€é‡ç»˜</span>
  }
})<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ul>
<li>âœ… <strong>å®æ—¶æ‹¾å–</strong></li>
<li>âœ… <strong>é«˜æ•ˆåŒºåŸŸæŸ¥è¯¢</strong></li>
<li>âœ… <strong>çŠ¶æ€åˆ†ç¦»ä¸æ¸²æŸ“è§£è€¦</strong></li>
</ul>
<hr/>
<h3 data-id="heading-5">ï¼ˆ4ï¼‰æ¸²æŸ“å±‚ï¼šCanvas / WebGL æ··åˆä¼˜åŒ–</h3>
<p>å¯¹äº Canvas 2D åœºæ™¯ï¼Œé€šå¸¸ç›´æ¥ redrawã€‚<br/>
å¯¹äºå¤æ‚ WebGL åœºæ™¯ï¼Œå¯é‡‡ç”¨åŒé€šé“ï¼š</p>
<ol>
<li>ä¸»é€šé“ç»˜åˆ¶å¯è§†å†…å®¹ï¼›</li>
<li>æ‹¾å–é€šé“ï¼ˆoff-screen bufferï¼‰ç»˜åˆ¶å”¯ä¸€é¢œè‰² IDï¼›</li>
<li>é¼ æ ‡äº‹ä»¶æ—¶ï¼Œé€šè¿‡ <code>gl.readPixels</code> è·å–ç‚¹å‡»åƒç´ é¢œè‰² -&gt; åæŸ¥å¯¹è±¡ IDã€‚</li>
</ol>
<p>è¿™ç§æ–¹æ¡ˆåœ¨å¤§å‹äº¤äº’å¼å›¾å½¢ç³»ç»Ÿï¼ˆå¦‚ Mapboxã€Three.jsï¼‰ä¸­ç”¨é€”æå¹¿ã€‚ğŸŒ</p>
<hr/>
<h2 data-id="heading-6">ğŸ§© ä¸‰ã€æ€§èƒ½å¯è¡Œæ€§åˆ†æ</h2>



































<table><thead><tr><th align="left">æŒ‡æ ‡</th><th align="left">å‡ ä½•æ‹¾å–</th><th align="left">å››å‰æ ‘åŠ é€Ÿ</th><th align="left">GPUé¢œè‰²æ‹¾å–</th></tr></thead><tbody><tr><td align="left">æŸ¥è¯¢å¤æ‚åº¦</td><td align="left">O(n)</td><td align="left">O(log n)</td><td align="left">O(1)</td></tr><tr><td align="left">æ¸²æŸ“æ€§èƒ½</td><td align="left">é«˜CPUå ç”¨</td><td align="left">ä¸­ç­‰</td><td align="left">é«˜GPUå¼€é”€</td></tr><tr><td align="left">å»¶è¿Ÿ</td><td align="left">æä½</td><td align="left">ä½</td><td align="left">å–å†³äºé¢œè‰²ç¼“å†²åŒæ­¥</td></tr><tr><td align="left">é€‚ç”¨åœºæ™¯</td><td align="left">å°‘é‡å¯¹è±¡</td><td align="left">å¤§é‡çŸ©å½¢å…ƒç´ </td><td align="left">å¤æ‚åœºæ™¯ï¼ˆ3D/WebGLï¼‰</td></tr></tbody></table>
<p>ç»“è®ºï¼š</p>
<blockquote>
<p>âœ… å¯¹äº Web ç«¯äºŒç»´ Rect ç¼–è¾‘å™¨æˆ–è®¾è®¡å·¥å…·ï¼Œ<strong>QuadTree + å‡ ä½•æ‹¾å–æ··åˆæ–¹æ¡ˆ</strong> æ˜¯å¯è¡Œä¸”ä¼˜é›…çš„æ¶æ„é€‰æ‹©ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">âš™ï¸ å››ã€å·¥ç¨‹ä¼˜åŒ–å»ºè®® ğŸ§ª</h2>
<ol>
<li><strong>äº‹ä»¶èŠ‚æµï¼ˆthrottleï¼‰</strong><br/>
é¿å…æ¯æ¬¡ <code>mousemove</code> éƒ½è§¦å‘å®Œæ•´æŸ¥è¯¢ï¼Œå¯åœ¨ 16msï¼ˆçº¦60Hzï¼‰èŠ‚æµæ‰§è¡Œã€‚</li>
<li><strong>å±€éƒ¨é‡ç»˜ï¼ˆDirty Rectï¼‰</strong><br/>
åªé‡ç»˜çŠ¶æ€å˜åŒ–åŒºåŸŸï¼Œæå‡æ¸²æŸ“æ€§èƒ½ã€‚</li>
<li><strong>å‘½ä¸­ç¼“å­˜ï¼ˆHover Cacheï¼‰</strong><br/>
è‹¥è¿ç»­å¤šå¸§å‘½ä¸­åŒä¸€å…ƒç´ ï¼Œä¸é‡å¤æŸ¥è¯¢ï¼Œé™ä½å¼€é”€ã€‚</li>
<li><strong>äº¤äº’ä¼˜å…ˆçº§åˆ†å±‚</strong><br/>
é’ˆå¯¹UIå±‚ã€å›¾å½¢å±‚åˆ†åˆ«æ‹¾å–ï¼ŒæŒ‰z-indexæ’åºå‘½ä¸­ç»“æœã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">ğŸª¶ äº”ã€å“²å­¦å±‚å°ç»“ï¼šæ‹¾å–ï¼Œä¸åªæ˜¯æ‹¾å–</h2>
<p>â€œæ‹¾å–â€çœ‹ä¼¼ä¸€ä¸ªè®¡ç®—å‡ ä½•é—®é¢˜ï¼Œå®åˆ™æ˜¯ä¸€æ¬¡<strong>äººä¸ç©ºé—´çš„æ˜ å°„å…³ç³»é‡å»º</strong>ã€‚</p>
<p>å½“ä½ ä»ä¸€å—å¹³é¢ä¸­ç²¾å‡†æ•æ‰ä¸€ä¸ªçŸ©å½¢ï¼ŒèƒŒåæ˜¯ï¼š</p>
<ul>
<li>ä¸€é¢—QuadTreeåœ¨é£é€Ÿåˆ¤æ–­åŒºå—ï¼›</li>
<li>ä¸€æ¬¡GPUåœ¨è‰²å½©ä¸–ç•Œç¼–ç IDï¼›</li>
<li>ä¸€ä»½äººæœºäº¤äº’çš„é»˜å¥‘åœ¨é—ªå…‰ã€‚</li>
</ul>
<blockquote>
<p>å·¥ç¨‹çš„æµªæ¼«ï¼Œè—åœ¨æ¯ä¸€æ¬¡ <code>mousemove</code> ä¸­ã€‚ğŸ’«</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ğŸ§­ æ€»ç»“</h2>






























<table><thead><tr><th>æ¨¡å—</th><th>å…³é”®æŠ€æœ¯</th><th>å·¥ç¨‹è¦ç‚¹</th></tr></thead><tbody><tr><td>æ•°æ®å±‚</td><td>Rect å¯¹è±¡ç»“æ„åŒ–</td><td>å®šä¹‰è¾¹ç•Œä¸çŠ¶æ€</td></tr><tr><td>ç©ºé—´å±‚</td><td>QuadTree or ç½‘æ ¼åˆ’åˆ†</td><td>åŠ é€ŸæŸ¥è¯¢æ€§èƒ½</td></tr><tr><td>äº‹ä»¶å±‚</td><td>MouseMove + çŠ¶æ€æœº</td><td>å¤„ç† hover/leave</td></tr><tr><td>æ¸²æŸ“å±‚</td><td>å±€éƒ¨åˆ·æ–° / GPUè§£ç </td><td>å¹³è¡¡æ€§èƒ½å’Œå‡†ç¡®æ€§</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Matplotlibé¥¼å›¾ç»˜åˆ¶æ•™ç¨‹ï¼šä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œç²¾å‡†å±•ç¤ºæ•°æ®å æ¯”]]></title>    <link>https://juejin.cn/post/7583871118949646386</link>    <guid>https://juejin.cn/post/7583871118949646386</guid>    <pubDate>2025-12-15T14:24:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583871118949646386" data-draft-id="7583878719544295433" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Matplotlibé¥¼å›¾ç»˜åˆ¶æ•™ç¨‹ï¼šä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œç²¾å‡†å±•ç¤ºæ•°æ®å æ¯”"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-15T14:24:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ°¸è¿œæ˜¯å¤å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1127429986061683"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Matplotlibé¥¼å›¾ç»˜åˆ¶æ•™ç¨‹ï¼šä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œç²¾å‡†å±•ç¤ºæ•°æ®å æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1127429986061683/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ°¸è¿œæ˜¯å¤å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T14:24:53.000Z" title="Mon Dec 15 2025 14:24:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¥¼å›¾æ˜¯æ•°æ®å¯è§†åŒ–ä¸­ç»å…¸çš„å æ¯”ç±»å›¾è¡¨ï¼Œæ ¸å¿ƒç”¨äºå±•ç¤ºå„åˆ†ç±»åœ¨æ•´ä½“ä¸­çš„æ¯”ä¾‹å…³ç³»ï¼Œå°¤å…¶é€‚åˆç±»åˆ«æ•°é‡è¾ƒå°‘ï¼ˆå»ºè®®ä¸è¶…è¿‡8ç±»ï¼‰çš„åœºæ™¯ã€‚æœ¬æ–‡åŸºäºMatplotlibè¯¦è§£é¥¼å›¾çš„ç»˜åˆ¶æ–¹æ³•ï¼Œæ¶µç›–åŸºç¡€ç»˜åˆ¶ã€æ ·å¼å®šåˆ¶ã€è¿›é˜¶ä¼˜åŒ–ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œç»“åˆå®æˆ˜æ¡ˆä¾‹è®©ä½ å¿«é€ŸæŒæ¡ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€é¥¼å›¾ç»˜åˆ¶</h2>
<h3 data-id="heading-1">1. æ ¸å¿ƒè¯­æ³•ä¸æœ€ç®€ç¤ºä¾‹</h3>
<p>Matplotlibç»˜åˆ¶é¥¼å›¾çš„æ ¸å¿ƒå‡½æ•°æ˜¯<code>plt.pie()</code>ï¼Œåªéœ€ä¼ å…¥â€œå„åˆ†ç±»æ•°å€¼â€å³å¯ç”ŸæˆåŸºç¡€é¥¼å›¾ã€‚
ç¤ºä¾‹ï¼šå±•ç¤ºæŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜ï¼ˆé€šç”¨é…ç½®ï¼‰</span>
plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]  <span class="hljs-comment"># Windows</span>
<span class="hljs-comment"># plt.rcParams["font.sans-serif"] = ["PingFang SC"]  # macOS</span>
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

<span class="hljs-comment"># 1. å‡†å¤‡æ•°æ®ï¼šåˆ†ç±»åç§° + å¯¹åº”æ•°å€¼ï¼ˆæ•°å€¼ä¼šè‡ªåŠ¨è®¡ç®—å æ¯”ï¼‰</span>
categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>]

<span class="hljs-comment"># 2. åˆ›å»ºç”»å¸ƒ</span>
plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))  <span class="hljs-comment"># é¥¼å›¾å»ºè®®ç”¨æ­£æ–¹å½¢ç”»å¸ƒï¼Œé¿å…å˜å½¢</span>

<span class="hljs-comment"># 3. ç»˜åˆ¶åŸºç¡€é¥¼å›¾</span>
plt.pie(sales,  <span class="hljs-comment"># æ ¸å¿ƒæ•°æ®ï¼šå„åˆ†ç±»æ•°å€¼</span>
        labels=categories)  <span class="hljs-comment"># åˆ†ç±»æ ‡ç­¾</span>

<span class="hljs-comment"># 4. æ˜¾ç¤ºå›¾è¡¨</span>
plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”"</span>, fontsize=<span class="hljs-number">14</span>)
plt.show()
</code></pre>
<h3 data-id="heading-2">2. æ ¸å¿ƒå‚æ•°è§£æï¼ˆåŸºç¡€ç‰ˆï¼‰</h3>



































<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>x</code></td><td>å¿…é€‰ï¼Œå„åˆ†ç±»çš„æ•°å€¼ï¼ˆéå æ¯”ï¼ŒMatplotlibè‡ªåŠ¨è®¡ç®—ï¼‰</td><td><code>x=[250, 180, 220]</code></td></tr><tr><td><code>labels</code></td><td>åˆ†ç±»æ ‡ç­¾ï¼Œå¯¹åº”xçš„æ¯ä¸ªæ•°å€¼</td><td><code>labels=["æœé¥°","ç¾å¦†","é£Ÿå“"]</code></td></tr><tr><td><code>autopct</code></td><td>æ˜¾ç¤ºå„éƒ¨åˆ†å æ¯”ï¼Œæ”¯æŒæ ¼å¼å­—ç¬¦ä¸²</td><td><code>autopct="%1.1f%%"</code>ï¼ˆä¿ç•™1ä½å°æ•°çš„ç™¾åˆ†æ¯”ï¼‰</td></tr><tr><td><code>colors</code></td><td>è‡ªå®šä¹‰å„æ‰‡åŒºé¢œè‰²</td><td><code>colors=["#FF6B6B","#4ECDC4","#45B7D1"]</code></td></tr><tr><td><code>startangle</code></td><td>é¥¼å›¾èµ·å§‹è§’åº¦ï¼ˆé»˜è®¤ä»xè½´æ­£æ–¹å‘å¼€å§‹ï¼Œé€†æ—¶é’ˆç»˜åˆ¶ï¼‰</td><td><code>startangle=90</code>ï¼ˆä»yè½´æ­£æ–¹å‘å¼€å§‹ï¼‰</td></tr></tbody></table>
<p>ä¼˜åŒ–ç‰ˆåŸºç¡€é¥¼å›¾ï¼ˆæ·»åŠ å æ¯”ã€è‡ªå®šä¹‰é¢œè‰²ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>]
<span class="hljs-comment"># è‡ªå®šä¹‰é…è‰²ï¼ˆæ¨èè«å…°è¿ª/æ¸…æ–°è‰²ç³»ï¼Œé¿å…åˆºçœ¼ï¼‰</span>
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#96CEB4"</span>, <span class="hljs-string">"#FECA57"</span>]

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))
<span class="hljs-comment"># ç»˜åˆ¶é¥¼å›¾ï¼Œæ·»åŠ å æ¯”å’Œé¢œè‰²</span>
plt.pie(sales,
        labels=categories,
        autopct=<span class="hljs-string">"%1.1f%%"</span>,  <span class="hljs-comment"># æ˜¾ç¤ºå æ¯”ï¼ˆ1ä½å°æ•°ï¼‰</span>
        colors=colors,
        startangle=<span class="hljs-number">90</span>)  <span class="hljs-comment"># èµ·å§‹è§’åº¦90åº¦</span>

plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”"</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">"equal"</span>)  <span class="hljs-comment"># å¼ºåˆ¶é¥¼å›¾ä¸ºæ­£åœ†å½¢ï¼ˆå…³é”®ï¼é¿å…æ‹‰ä¼¸å˜å½¢ï¼‰</span>
plt.show()
</code></pre>
<h2 data-id="heading-3">äºŒã€è¿›é˜¶ä¼˜åŒ–ï¼šçªå‡ºé‡ç‚¹ã€æå‡å¯è¯»æ€§</h2>
<h3 data-id="heading-4">1. çªå‡ºæ ¸å¿ƒåˆ†ç±»ï¼ˆexplodeå‚æ•°ï¼‰</h3>
<p>é€šè¿‡<code>explode</code>å‚æ•°å¯å°†æŒ‡å®šæ‰‡åŒºâ€œåˆ†ç¦»â€å‡ºæ¥ï¼Œçªå‡ºé‡ç‚¹ç±»åˆ«ï¼ˆå¦‚å æ¯”æœ€é«˜çš„â€œæ•°ç â€å“ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>]
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#96CEB4"</span>, <span class="hljs-string">"#FECA57"</span>]
<span class="hljs-comment"># explodeï¼šå¯¹åº”æ¯ä¸ªæ‰‡åŒºçš„åˆ†ç¦»è·ç¦»ï¼Œ0ä¸ºä¸åˆ†ç¦»ï¼Œæ•°å€¼è¶Šå¤§åˆ†ç¦»è¶Šè¿œ</span>
explode = (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0</span>)  <span class="hljs-comment"># ä»…â€œæ•°ç â€æ‰‡åŒºåˆ†ç¦»0.1è·ç¦»</span>

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))
plt.pie(sales,
        labels=categories,
        autopct=<span class="hljs-string">"%1.1f%%"</span>,
        colors=colors,
        startangle=<span class="hljs-number">90</span>,
        explode=explode,  <span class="hljs-comment"># å¯ç”¨åˆ†ç¦»æ•ˆæœ</span>
        shadow=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># æ·»åŠ é˜´å½±ï¼Œå¢å¼ºç«‹ä½“æ„Ÿ</span>

plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”ï¼ˆçªå‡ºæ•°ç å“ç±»ï¼‰"</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">"equal"</span>)
plt.show()
</code></pre>
<h3 data-id="heading-5">2. ä¼˜åŒ–æ ‡ç­¾æ ·å¼ï¼ˆå­—ä½“ã€ä½ç½®ï¼‰</h3>
<p>é»˜è®¤æ ‡ç­¾å¯èƒ½é‡å æˆ–æ ·å¼å•ä¸€ï¼Œå¯é€šè¿‡<code>textprops</code>è°ƒæ•´æ ‡ç­¾æ ·å¼ï¼Œæˆ–æ‰‹åŠ¨è°ƒæ•´å æ¯”æ ‡ç­¾ä½ç½®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>]
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#96CEB4"</span>, <span class="hljs-string">"#FECA57"</span>]
explode = (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0</span>)

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))
<span class="hljs-comment"># ç»˜åˆ¶é¥¼å›¾å¹¶æ•è·æ–‡æœ¬å¯¹è±¡ï¼ˆç”¨äºåç»­è°ƒæ•´ï¼‰</span>
patches, texts, autotexts = plt.pie(
    sales,
    labels=categories,
    autopct=<span class="hljs-string">"%1.1f%%"</span>,
    colors=colors,
    startangle=<span class="hljs-number">90</span>,
    explode=explode,
    shadow=<span class="hljs-literal">True</span>,
    textprops={<span class="hljs-string">"fontsize"</span>: <span class="hljs-number">11</span>}  <span class="hljs-comment"># ç»Ÿä¸€è®¾ç½®æ ‡ç­¾å­—ä½“å¤§å°</span>
)

<span class="hljs-comment"># å•ç‹¬è°ƒæ•´å æ¯”æ ‡ç­¾æ ·å¼ï¼ˆå¦‚é¢œè‰²ã€åŠ ç²—ï¼‰</span>
<span class="hljs-keyword">for</span> autotext <span class="hljs-keyword">in</span> autotexts:
    autotext.set_color(<span class="hljs-string">"white"</span>)  <span class="hljs-comment"># å æ¯”æ–‡å­—è®¾ä¸ºç™½è‰²</span>
    autotext.set_fontweight(<span class="hljs-string">"bold"</span>)  <span class="hljs-comment"># åŠ ç²—</span>

plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”"</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">"equal"</span>)
plt.show()
</code></pre>
<h3 data-id="heading-6">3. å¤„ç†å°å æ¯”ç±»åˆ«ï¼ˆé¿å…æ ‡ç­¾é‡å ï¼‰</h3>
<p>è‹¥éƒ¨åˆ†ç±»åˆ«å æ¯”è¿‡å°ï¼ˆå¦‚&lt;5%ï¼‰ï¼Œå¯å°†å…¶åˆå¹¶ä¸ºâ€œå…¶ä»–â€ç±»ï¼Œæˆ–é€šè¿‡<code>pctdistance</code>è°ƒæ•´å æ¯”æ ‡ç­¾ä½ç½®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

<span class="hljs-comment"># åŸå§‹æ•°æ®ï¼šå«å°å æ¯”ç±»åˆ«</span>
categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>, <span class="hljs-string">"å›¾ä¹¦"</span>, <span class="hljs-string">"é…é¥°"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>, <span class="hljs-number">20</span>]

<span class="hljs-comment"># åˆå¹¶å°å æ¯”ç±»åˆ«ï¼ˆå›¾ä¹¦+é…é¥°=å…¶ä»–ï¼‰</span>
new_categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>, <span class="hljs-string">"å…¶ä»–"</span>]
new_sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>]
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#96CEB4"</span>, <span class="hljs-string">"#FECA57"</span>, <span class="hljs-string">"#DDA0DD"</span>]

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))
plt.pie(new_sales,
        labels=new_categories,
        autopct=<span class="hljs-string">"%1.1f%%"</span>,
        colors=colors,
        startangle=<span class="hljs-number">90</span>,
        pctdistance=<span class="hljs-number">0.85</span>)  <span class="hljs-comment"># å æ¯”æ ‡ç­¾è·ç¦»åœ†å¿ƒçš„æ¯”ä¾‹ï¼ˆé»˜è®¤0.6ï¼Œè°ƒå¤§é¿å…é‡å ï¼‰</span>

plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”ï¼ˆåˆå¹¶å°å“ç±»ï¼‰"</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">"equal"</span>)
plt.show()
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ç‰¹æ®Šåœºæ™¯ï¼šç¯å½¢é¥¼å›¾ï¼ˆç©ºå¿ƒé¥¼å›¾ï¼‰</h2>
<p>ç¯å½¢é¥¼å›¾æ¯”æ™®é€šé¥¼å›¾æ›´ç¾è§‚ï¼Œä¸”å¯åœ¨ä¸­å¿ƒæ·»åŠ æ–‡å­—ï¼Œé€‚åˆå±•ç¤ºå¤šå±‚å æ¯”æˆ–çªå‡ºè§†è§‰æ•ˆæœã€‚
å®ç°åŸç†ï¼šç»˜åˆ¶ä¸¤ä¸ªé¥¼å›¾ï¼Œå¤–å±‚ä¸ºæ•°æ®ï¼Œå†…å±‚ä¸ºç™½è‰²å¡«å……çš„â€œç©ºå¿ƒâ€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

categories = [<span class="hljs-string">"æœé¥°"</span>, <span class="hljs-string">"ç¾å¦†"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"æ•°ç "</span>, <span class="hljs-string">"å®¶å±…"</span>]
sales = [<span class="hljs-number">250</span>, <span class="hljs-number">180</span>, <span class="hljs-number">220</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>]
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#96CEB4"</span>, <span class="hljs-string">"#FECA57"</span>]

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))
<span class="hljs-comment"># ç»˜åˆ¶å¤–å±‚æ•°æ®é¥¼å›¾</span>
plt.pie(sales,
        labels=categories,
        autopct=<span class="hljs-string">"%1.1f%%"</span>,
        colors=colors,
        startangle=<span class="hljs-number">90</span>,
        wedgeprops={<span class="hljs-string">"width"</span>: <span class="hljs-number">0.3</span>})  <span class="hljs-comment"># widthï¼šç¯å½¢å®½åº¦ï¼ˆ0-1ï¼Œè¶Šå°è¶Šç»†ï¼‰</span>

<span class="hljs-comment"># ç»˜åˆ¶å†…å±‚ç©ºå¿ƒï¼ˆç™½è‰²å¡«å……ï¼‰</span>
plt.pie([<span class="hljs-number">1</span>], colors=<span class="hljs-string">"white"</span>, radius=<span class="hljs-number">0.7</span>)  <span class="hljs-comment"># radiusï¼šå†…å±‚åŠå¾„ï¼ˆå°äºå¤–å±‚ï¼‰</span>

<span class="hljs-comment"># ä¸­å¿ƒæ·»åŠ æ–‡å­—</span>
plt.text(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"æ€»é”€å”®é¢\n1100ä¸‡"</span>, ha=<span class="hljs-string">"center"</span>, va=<span class="hljs-string">"center"</span>, fontsize=<span class="hljs-number">12</span>)

plt.title(<span class="hljs-string">"æŸç”µå•†å¹³å°å„å“ç±»é”€å”®é¢å æ¯”ï¼ˆç¯å½¢å›¾ï¼‰"</span>, fontsize=<span class="hljs-number">14</span>)
plt.axis(<span class="hljs-string">"equal"</span>)
plt.show()
</code></pre>
<h2 data-id="heading-8">å››ã€é¥¼å›¾ç»˜åˆ¶æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»…ç”¨äºå±•ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€å…³ç³»ï¼Œä¸”ç±»åˆ«æ•°ä¸å®œè¿‡å¤šï¼ˆå»ºè®®â‰¤6ç±»ï¼‰ï¼Œå¦åˆ™æ‰‡åŒºè¿‡å°ã€å¯è¯»æ€§å·®ï¼›</li>
<li><strong>é¿å…è¯¯å¯¼</strong>ï¼šé¥¼å›¾çš„è§†è§‰æ•ˆæœæ˜“å—èµ·å§‹è§’åº¦ã€æ‰‡åŒºé¡ºåºå½±å“ï¼Œè‹¥éœ€ç²¾å‡†å¯¹æ¯”å æ¯”ï¼Œä¼˜å…ˆç”¨æŸ±çŠ¶å›¾ï¼›</li>
<li><strong>æ­£åœ†å½¢ä¿éšœ</strong>ï¼šåŠ¡å¿…æ·»åŠ <code>plt.axis("equal")</code>ï¼Œå¦åˆ™ç”»å¸ƒæ‹‰ä¼¸ä¼šå¯¼è‡´é¥¼å›¾å˜å½¢ä¸ºæ¤­åœ†ï¼›</li>
<li><strong>ä¸­æ–‡ä¸è´Ÿå·</strong>ï¼šå§‹ç»ˆé…ç½®<code>rcParams</code>è§£å†³ä¸­æ–‡ä¹±ç å’Œè´Ÿå·æ˜¾ç¤ºé—®é¢˜ï¼›</li>
<li><strong>ä¿å­˜é«˜æ¸…å›¾</strong>ï¼šç”¨<code>plt.savefig("é¥¼å›¾.png", dpi=300, bbox_inches="tight")</code>æ›¿ä»£<code>plt.show()</code>ï¼Œé¿å…æ–‡å­—æˆªæ–­ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çº¿ç¨‹æ± ä¸­ä»»åŠ¡å †ç§¯ä¸é¥¥é¥¿æ­»é”é—®é¢˜]]></title>    <link>https://juejin.cn/post/7583943503556198450</link>    <guid>https://juejin.cn/post/7583943503556198450</guid>    <pubDate>2025-12-16T01:03:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583943503556198450" data-draft-id="7583912637471244339" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çº¿ç¨‹æ± ä¸­ä»»åŠ¡å †ç§¯ä¸é¥¥é¥¿æ­»é”é—®é¢˜"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-16T01:03:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uup"/> <meta itemprop="url" content="https://juejin.cn/user/4378706456356627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çº¿ç¨‹æ± ä¸­ä»»åŠ¡å †ç§¯ä¸é¥¥é¥¿æ­»é”é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4378706456356627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uup
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T01:03:44.000Z" title="Tue Dec 16 2025 01:03:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Bug åœºæ™¯</h2>
<p>åœ¨ä¸€ä¸ªç”µå•†åå°ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨çº¿ç¨‹æ± æ¥å¤„ç†è®¢å•å¤„ç†ã€åº“å­˜æ›´æ–°ã€ç‰©æµé€šçŸ¥ç­‰å¤šç§å¼‚æ­¥ä»»åŠ¡ã€‚éšç€ä¸šåŠ¡é‡çš„å¢é•¿ï¼Œç³»ç»Ÿé€æ¸å‡ºç°å“åº”å˜æ…¢çš„æƒ…å†µï¼Œéƒ¨åˆ†ä»»åŠ¡ç”šè‡³é•¿æ—¶é—´å¾—ä¸åˆ°æ‰§è¡Œï¼Œæœ€ç»ˆå¯¼è‡´ä¸€äº›å…³é”®ä¸šåŠ¡æµç¨‹å—é˜»ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-2">ä»»åŠ¡ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String taskName;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BusinessTask</span><span class="hljs-params">(String taskName)</span> {
        <span class="hljs-built_in">this</span>.taskName = taskName;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†</span>
            Thread.sleep(<span class="hljs-number">1000</span>);
            System.out.println(taskName + <span class="hljs-string">" ä»»åŠ¡å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
<h3 data-id="heading-3">çº¿ç¨‹æ± é…ç½®ä¸ä»»åŠ¡æäº¤ï¼ˆæœ‰ç¼ºé™·ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.LinkedBlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EcommerceSystem</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CORE_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MAX_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">QUEUE_CAPACITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">KEEP_ALIVE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        BlockingQueue&lt;Runnable&gt; taskQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(QUEUE_CAPACITY);
        <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
                CORE_POOL_SIZE,
                MAX_POOL_SIZE,
                KEEP_ALIVE_TIME,
                TimeUnit.SECONDS,
                taskQueue);

        <span class="hljs-comment">// æ¨¡æ‹Ÿæäº¤å¤§é‡ä»»åŠ¡</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">taskName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ä»»åŠ¡ "</span> + i;
            executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessTask</span>(taskName));
        }

        executor.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                executor.shutdownNow();
                <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                    System.err.println(<span class="hljs-string">"çº¿ç¨‹æ± æœªæ­£å¸¸å…³é—­"</span>);
                }
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            executor.shutdownNow();
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€é—®é¢˜æè¿°</h2>
<ol>
<li>
<p><strong>é¢„æœŸè¡Œä¸º</strong>ï¼šçº¿ç¨‹æ± èƒ½å¤Ÿé«˜æ•ˆå¤„ç†æäº¤çš„ä»»åŠ¡ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½èƒ½åœ¨åˆç†æ—¶é—´å†…å®Œæˆï¼Œç³»ç»Ÿä¿æŒç¨³å®šè¿è¡Œã€‚</p>
</li>
<li>
<p><strong>å®é™…è¡Œä¸º</strong>ï¼š</p>
<ul>
<li><strong>ä»»åŠ¡å †ç§¯</strong>ï¼šéšç€ä»»åŠ¡ä¸æ–­æäº¤ï¼Œä»»åŠ¡é˜Ÿåˆ—é€æ¸è¢«å¡«æ»¡ï¼Œæ–°ä»»åŠ¡åªèƒ½ç­‰å¾…é˜Ÿåˆ—æœ‰ç©ºä½æˆ–è€…çº¿ç¨‹æ± åˆ›å»ºæ–°çº¿ç¨‹ï¼ˆè¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°åä¹Ÿåªèƒ½ç­‰å¾…ï¼‰ã€‚è¿™æ˜¯å› ä¸ºçº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°è®¾ç½®ç›¸å¯¹ä¸šåŠ¡é‡è¿‡å°ï¼Œå¹¶ä¸”ä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œå¯¼è‡´ä»»åŠ¡å¤„ç†é€Ÿåº¦è·Ÿä¸ä¸Šæäº¤é€Ÿåº¦ã€‚</li>
<li><strong>é¥¥é¥¿æ­»é”</strong>ï¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­å¯èƒ½å­˜åœ¨ä¼˜å…ˆçº§ä¸åŒçš„ä»»åŠ¡ï¼Œä¾‹å¦‚è®¢å•å¤„ç†ä»»åŠ¡ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œç‰©æµé€šçŸ¥ä»»åŠ¡ä¼˜å…ˆçº§è¾ƒä½ã€‚å¦‚æœé«˜ä¼˜å…ˆçº§ä»»åŠ¡æŒç»­æäº¤ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ä¼šä¸€ç›´å¿™äºå¤„ç†é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œä½ä¼˜å…ˆçº§ä»»åŠ¡å¯èƒ½é•¿æ—¶é—´å¾—ä¸åˆ°æ‰§è¡Œï¼Œå‡ºç°é¥¥é¥¿ç°è±¡ã€‚æç«¯æƒ…å†µä¸‹ï¼Œå¯èƒ½å¯¼è‡´ä½ä¼˜å…ˆçº§ä»»åŠ¡æ°¸è¿œæ— æ³•æ‰§è¡Œï¼Œå½¢æˆä¸€ç§ç±»ä¼¼æ­»é”çš„çŠ¶æ€ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-5">å››ã€è§£å†³æ–¹æ¡ˆ</h2>
<ol>
<li><strong>ä¼˜åŒ–çº¿ç¨‹æ± å‚æ•°</strong>ï¼šæ ¹æ®å®é™…ä¸šåŠ¡è´Ÿè½½å’Œä»»åŠ¡ç‰¹æ€§ï¼Œåˆç†è°ƒæ•´çº¿ç¨‹æ± å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒçŸ­ä¸”æ•°é‡è¾ƒå¤šï¼Œå¯ä»¥é€‚å½“å¢åŠ æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼›å¦‚æœä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥æ‰©å¤§ä»»åŠ¡é˜Ÿåˆ—å®¹é‡ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CORE_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MAX_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">QUEUE_CAPACITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">50</span>;
</code></pre>
<ol start="2">
<li><strong>ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œä¼˜å…ˆçº§çº¿ç¨‹æ± </strong>ï¼šå¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆçº§åˆ’åˆ†ï¼Œä½¿ç”¨Â <code>PriorityBlockingQueue</code>Â ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—ï¼Œå¹¶è‡ªå®šä¹‰Â <code>PriorityThreadPoolExecutor</code>Â æ¥å¤„ç†ä¸åŒä¼˜å…ˆçº§çš„ä»»åŠ¡ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.PriorityBlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityBusinessTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span>, Comparable&lt;PriorityBusinessTask&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String taskName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> priority;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PriorityBusinessTask</span><span class="hljs-params">(String taskName, <span class="hljs-type">int</span> priority)</span> {
        <span class="hljs-built_in">this</span>.taskName = taskName;
        <span class="hljs-built_in">this</span>.priority = priority;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†</span>
            Thread.sleep(<span class="hljs-number">1000</span>);
            System.out.println(taskName + <span class="hljs-string">" ä»»åŠ¡å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(PriorityBusinessTask other)</span> {
        <span class="hljs-keyword">return</span> Integer.compare(other.priority, <span class="hljs-built_in">this</span>.priority);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityThreadPoolExecutor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ThreadPoolExecutor</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PriorityThreadPoolExecutor</span><span class="hljs-params">(<span class="hljs-type">int</span> corePoolSize, <span class="hljs-type">int</span> maximumPoolSize, <span class="hljs-type">long</span> keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue)</span> {
        <span class="hljs-built_in">super</span>(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeExecute</span><span class="hljs-params">(Thread t, Runnable r)</span> {
        <span class="hljs-built_in">super</span>.beforeExecute(t, r);
        <span class="hljs-keyword">if</span> (r <span class="hljs-keyword">instanceof</span> PriorityBusinessTask) {
            System.out.println(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œä¼˜å…ˆçº§ä»»åŠ¡: "</span> + ((PriorityBusinessTask) r).taskName);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterExecute</span><span class="hljs-params">(Runnable r, Throwable t)</span> {
        <span class="hljs-built_in">super</span>.afterExecute(r, t);
        <span class="hljs-keyword">if</span> (r <span class="hljs-keyword">instanceof</span> PriorityBusinessTask) {
            System.out.println(<span class="hljs-string">"å®Œæˆä¼˜å…ˆçº§ä»»åŠ¡: "</span> + ((PriorityBusinessTask) r).taskName);
        }
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EcommerceSystem</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CORE_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MAX_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">QUEUE_CAPACITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">50</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">KEEP_ALIVE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        BlockingQueue&lt;Runnable&gt; taskQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityBlockingQueue</span>&lt;&gt;(QUEUE_CAPACITY);
        <span class="hljs-type">PriorityThreadPoolExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityThreadPoolExecutor</span>(
                CORE_POOL_SIZE,
                MAX_POOL_SIZE,
                KEEP_ALIVE_TIME,
                TimeUnit.SECONDS,
                taskQueue);

        <span class="hljs-comment">// æ¨¡æ‹Ÿæäº¤ä¸åŒä¼˜å…ˆçº§ä»»åŠ¡</span>
        executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityBusinessTask</span>(<span class="hljs-string">"é«˜ä¼˜å…ˆçº§ä»»åŠ¡ 1"</span>, <span class="hljs-number">1</span>));
        executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityBusinessTask</span>(<span class="hljs-string">"ä½ä¼˜å…ˆçº§ä»»åŠ¡ 1"</span>, <span class="hljs-number">3</span>));
        executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityBusinessTask</span>(<span class="hljs-string">"é«˜ä¼˜å…ˆçº§ä»»åŠ¡ 2"</span>, <span class="hljs-number">1</span>));
        executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityBusinessTask</span>(<span class="hljs-string">"ä½ä¼˜å…ˆçº§ä»»åŠ¡ 2"</span>, <span class="hljs-number">3</span>));

        executor.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                executor.shutdownNow();
                <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                    System.err.println(<span class="hljs-string">"çº¿ç¨‹æ± æœªæ­£å¸¸å…³é—­"</span>);
                }
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            executor.shutdownNow();
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
<ol start="3">
<li><strong>åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± </strong>ï¼šæ ¹æ®ç³»ç»Ÿè¿è¡Œæ—¶çš„ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦ã€çº¿ç¨‹æ± æ´»è·ƒçº¿ç¨‹æ•°ç­‰æŒ‡æ ‡ï¼ŒåŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± çš„å‚æ•°ï¼Œä»¥é€‚åº”ä¸šåŠ¡é‡çš„å˜åŒ–ã€‚å¯ä»¥ä½¿ç”¨å®šæ—¶ä»»åŠ¡å®šæœŸæ£€æŸ¥å¹¶è°ƒæ•´çº¿ç¨‹æ± å¤§å°ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.LinkedBlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EcommerceSystem</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INITIAL_CORE_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INITIAL_MAX_POOL_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">QUEUE_CAPACITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">KEEP_ALIVE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        BlockingQueue&lt;Runnable&gt; taskQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(QUEUE_CAPACITY);
        <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
                INITIAL_CORE_POOL_SIZE,
                INITIAL_MAX_POOL_SIZE,
                KEEP_ALIVE_TIME,
                TimeUnit.SECONDS,
                taskQueue);

        <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">scheduler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScheduledThreadPoolExecutor</span>(<span class="hljs-number">1</span>);
        scheduler.scheduleAtFixedRate(() -&gt; {
            <span class="hljs-type">int</span> <span class="hljs-variable">queueSize</span> <span class="hljs-operator">=</span> taskQueue.size();
            <span class="hljs-type">int</span> <span class="hljs-variable">activeCount</span> <span class="hljs-operator">=</span> executor.getActiveCount();
            <span class="hljs-keyword">if</span> (queueSize &gt; QUEUE_CAPACITY * <span class="hljs-number">0.8</span> &amp;&amp; activeCount &lt; INITIAL_MAX_POOL_SIZE) {
                executor.setCorePoolSize(executor.getCorePoolSize() + <span class="hljs-number">1</span>);
                executor.setMaximumPoolSize(executor.getMaximumPoolSize() + <span class="hljs-number">1</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (queueSize &lt; QUEUE_CAPACITY * <span class="hljs-number">0.2</span> &amp;&amp; activeCount &gt; INITIAL_CORE_POOL_SIZE) {
                executor.setCorePoolSize(executor.getCorePoolSize() - <span class="hljs-number">1</span>);
                executor.setMaximumPoolSize(executor.getMaximumPoolSize() - <span class="hljs-number">1</span>);
            }
        }, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, TimeUnit.MINUTES);

        <span class="hljs-comment">// æ¨¡æ‹Ÿæäº¤å¤§é‡ä»»åŠ¡</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">taskName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ä»»åŠ¡ "</span> + i;
            executor.submit(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessTask</span>(taskName));
        }

        executor.shutdown();
        scheduler.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                executor.shutdownNow();
                <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                    System.err.println(<span class="hljs-string">"çº¿ç¨‹æ± æœªæ­£å¸¸å…³é—­"</span>);
                }
            }
            <span class="hljs-keyword">if</span> (!scheduler.awaitTermination(<span class="hljs-number">1</span>, TimeUnit.MINUTES)) {
                scheduler.shutdownNow();
                <span class="hljs-keyword">if</span> (!scheduler.awaitTermination(<span class="hljs-number">1</span>, TimeUnit.MINUTES)) {
                    System.err.println(<span class="hljs-string">"è°ƒåº¦å™¨æœªæ­£å¸¸å…³é—­"</span>);
                }
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            executor.shutdownNow();
            scheduler.shutdownNow();
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3çš„`:style`å¯¹è±¡è¯­æ³•ï¼šå•ä½ã€å±æ€§åã€å“åº”å¼ï¼Œè¿™äº›ç»†èŠ‚ä½ éƒ½è¸©è¿‡å‘å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583910418658983982</link>    <guid>https://juejin.cn/post/7583910418658983982</guid>    <pubDate>2025-12-15T16:08:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583910418658983982" data-draft-id="7583912637470605363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3çš„`:style`å¯¹è±¡è¯­æ³•ï¼šå•ä½ã€å±æ€§åã€å“åº”å¼ï¼Œè¿™äº›ç»†èŠ‚ä½ éƒ½è¸©è¿‡å‘å—ï¼Ÿ    "/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Trae"/> <meta itemprop="datePublished" content="2025-12-15T16:08:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kknone"/> <meta itemprop="url" content="https://juejin.cn/user/1366025597879930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3çš„`:style`å¯¹è±¡è¯­æ³•ï¼šå•ä½ã€å±æ€§åã€å“åº”å¼ï¼Œè¿™äº›ç»†èŠ‚ä½ éƒ½è¸©è¿‡å‘å—ï¼Ÿ    
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366025597879930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kknone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T16:08:48.000Z" title="Mon Dec 15 2025 16:08:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ä»â€œåŠ¨æ€æ”¹æ ·å¼â€è¯´èµ·ï¼šä¸ºä»€ä¹ˆéœ€è¦<code>:style</code>å¯¹è±¡è¯­æ³•ï¼Ÿ</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°**â€œæ•°æ®å˜ï¼Œæ ·å¼è·Ÿç€å˜â€**çš„åœºæ™¯â€”â€”æ¯”å¦‚ï¼š</p>
<ul>
<li>æŒ‰é’®ç‚¹å‡»åä»è“è‰²å˜æˆç»¿è‰²ï¼›</li>
<li>è¿›åº¦æ¡çš„å®½åº¦éšå®Œæˆåº¦å¢åŠ ï¼›</li>
<li>æ–‡æœ¬çš„å­—ä½“å¤§å°æ ¹æ®ç”¨æˆ·è®¾ç½®è°ƒæ•´ã€‚</li>
</ul>
<p>è¿™äº›åœºæ™¯å¦‚æœç”¨åŸç”ŸJSå®ç°ï¼Œéœ€è¦æ‰‹åŠ¨æ“ä½œ<code>element.style</code>ï¼Œä»£ç ç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚è€ŒVue3çš„<code>:style</code>ç»‘å®šï¼ˆå…¨ç§°<code>v-bind:style</code>ï¼‰ï¼Œå°¤å…¶æ˜¯<strong>å¯¹è±¡è¯­æ³•</strong>ï¼Œèƒ½è®©æˆ‘ä»¬ç”¨â€œå£°æ˜å¼â€çš„æ–¹å¼æŠŠå“åº”å¼æ•°æ®å’Œæ ·å¼å…³è”èµ·æ¥ï¼Œä¼˜é›…è§£å†³åŠ¨æ€æ ·å¼é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">äºŒã€<code>:style</code>å¯¹è±¡è¯­æ³•åŸºç¡€ï¼šæŠŠæ ·å¼å†™æˆâ€œé”®å€¼å¯¹â€</h3>
<p><code>:style</code>çš„å¯¹è±¡è¯­æ³•æœ¬è´¨æ˜¯<strong>å°†CSSæ ·å¼æ˜ å°„ä¸ºJavaScriptå¯¹è±¡</strong>â€”â€”å¯¹è±¡çš„<strong>é”®</strong>æ˜¯CSSå±æ€§ï¼ˆå¦‚<code>color</code>ã€<code>fontSize</code>ï¼‰ï¼Œ<strong>å€¼</strong>æ˜¯è¦ç»‘å®šçš„å“åº”å¼æ•°æ®ï¼ˆæˆ–æ™®é€šå€¼ï¼‰ã€‚</p>
<h4 data-id="heading-2">1. æœ€ç®€ç¤ºä¾‹ï¼šç»‘å®šé¢œè‰²å’Œå­—ä½“å¤§å°</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- ç”¨:styleç»‘å®šå¯¹è±¡ï¼Œé”®æ˜¯CSSå±æ€§ï¼Œå€¼æ˜¯å“åº”å¼æ•°æ® --&gt;
  &lt;div :style="{ color: textColor, fontSize: fontSize + 'px' }"&gt;
    æˆ‘æ˜¯åŠ¨æ€æ ·å¼çš„æ–‡æœ¬
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

// å“åº”å¼é¢œè‰²ï¼šåˆå§‹çº¢è‰²
const textColor = ref('red')
// å“åº”å¼å­—ä½“å¤§å°ï¼šåˆå§‹30pxï¼ˆæ•°å­—éœ€åŠ å•ä½ï¼‰
const fontSize = ref(30)
&lt;/script&gt;
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Š</strong>ï¼š</p>
<ul>
<li><strong>CSSå±æ€§çš„é”®</strong>ï¼šå¯ä»¥ç”¨<strong>é©¼å³°å‘½å</strong>ï¼ˆå¦‚<code>fontSize</code>ï¼‰æˆ–<strong>çŸ­æ¨ªçº¿å‘½å</strong>ï¼ˆå¦‚<code>'font-size'</code>ï¼Œéœ€åŠ å¼•å·ï¼‰ï¼ŒVueä¼šè‡ªåŠ¨å°†é©¼å³°è½¬æˆçŸ­æ¨ªçº¿ï¼ˆå¯¹åº”CSSåŸç”Ÿå±æ€§ï¼‰ã€‚</li>
<li><strong>å€¼çš„å•ä½</strong>ï¼šCSSå¤§éƒ¨åˆ†å±æ€§éœ€è¦å•ä½ï¼ˆå¦‚<code>px</code>ã€<code>em</code>ï¼‰ï¼ŒVue<strong>ä¸ä¼šè‡ªåŠ¨æ·»åŠ å•ä½</strong>ï¼ˆé™¤éå€¼æ˜¯<code>0</code>ï¼‰ã€‚å› æ­¤<code>fontSize</code>éœ€è¦æ‰‹åŠ¨æ‹¼æ¥<code>'px'</code>ï¼Œå¦åˆ™ä¼šæ¸²æŸ“æˆæ— æ•ˆçš„<code>font-size: 30</code>ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸‰ã€å“åº”å¼æ•°æ®ç»‘å®šï¼šè®©æ ·å¼â€œè·Ÿç€æ•°æ®èµ°â€</h3>
<p><code>:style</code>çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯<strong>å“åº”å¼</strong>â€”â€”å½“ç»‘å®šçš„<code>ref</code>æˆ–<code>reactive</code>æ•°æ®å˜åŒ–æ—¶ï¼Œæ ·å¼ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p>
<h4 data-id="heading-4">å®æˆ˜ï¼šç‚¹å‡»æ¢è‰²æŒ‰é’®</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;button 
    @click="toggleColor"
    :style="{ 
      backgroundColor: btnBg, 
      color: 'white', 
      padding: '8px 16px', 
      border: 'none', 
      borderRadius: '4px',
      cursor: 'pointer'
    }"
  &gt;
    {{ btnText }}
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

// å“åº”å¼èƒŒæ™¯è‰²ï¼šåˆå§‹è“è‰²
const btnBg = ref('#2196F3')
// å“åº”å¼æŒ‰é’®æ–‡æœ¬
const btnText = ref('ç‚¹å‡»å˜ç»¿')

// ç‚¹å‡»äº‹ä»¶ï¼šåˆ‡æ¢é¢œè‰²å’Œæ–‡æœ¬
const toggleColor = () =&gt; {
  if (btnBg.value === '#2196F3') {
    btnBg.value = '#4CAF50' // åˆ‡æ¢ä¸ºç»¿è‰²
    btnText.value = 'ç‚¹å‡»å˜è“'
  } else {
    btnBg.value = '#2196F3' // åˆ‡æ¢å›è“è‰²
    btnText.value = 'ç‚¹å‡»å˜ç»¿'
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šç‚¹å‡»æŒ‰é’®æ—¶ï¼Œ<code>btnBg</code>å’Œ<code>btnText</code>çš„å“åº”å¼æ•°æ®å˜åŒ–ï¼ŒæŒ‰é’®çš„èƒŒæ™¯è‰²å’Œæ–‡æœ¬ä¼š<strong>è‡ªåŠ¨æ›´æ–°</strong>â€”â€”æ— éœ€æ‰‹åŠ¨æ“ä½œDOMï¼Œè¿™å°±æ˜¯Vueçš„â€œæ•°æ®é©±åŠ¨è§†å›¾â€é­…åŠ›ã€‚</p>
<h3 data-id="heading-5">å››ã€CSSå±æ€§ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼æ€ä¹ˆç”¨ï¼Ÿ</h3>
<p><code>:style</code>æ”¯æŒçš„æ ·å¼å€¼ç±»å‹ä¸»è¦æœ‰3ç§ï¼š</p>

























<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²</td><td>æœ€å¸¸ç”¨ï¼Œé€‚ç”¨äºéœ€è¦å•ä½æˆ–å…³é”®å­—çš„å±æ€§ï¼ˆå¦‚é¢œè‰²ã€è¾¹æ¡†ã€å­—ä½“ï¼‰</td><td><code>'red'</code>ã€<code>'2px solid gray'</code></td></tr><tr><td>æ•°å­—</td><td>ä»…é€‚ç”¨äºæ— éœ€å•ä½çš„å±æ€§ï¼ˆå¦‚<code>z-index</code>ã€<code>opacity</code>ï¼‰æˆ–éœ€æ‰‹åŠ¨åŠ å•ä½çš„æƒ…å†µ</td><td><code>30</code>ï¼ˆéœ€è½¬<code>'30px'</code>ï¼‰ã€<code>0.5</code></td></tr><tr><td>å¸ƒå°”å€¼</td><td>ç”¨äºæ¡ä»¶æ§åˆ¶æ ·å¼å€¼ï¼ˆæœ€ç»ˆè¿˜æ˜¯å­—ç¬¦ä¸²ï¼‰</td><td><code>isShow ? 'block' : 'none'</code></td></tr></tbody></table>
<h4 data-id="heading-6">ç¤ºä¾‹ï¼šç”¨å¸ƒå°”å€¼æ§åˆ¶æ˜¾ç¤ºéšè—</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div :style="{ display: isVisible ? 'block' : 'none' }"&gt;
    æˆ‘æ˜¯å¯ä»¥éšè—çš„æ–‡æœ¬
  &lt;/div&gt;
  &lt;button @click="isVisible = !isVisible"&gt;
    {{ isVisible ? 'éšè—' : 'æ˜¾ç¤º' }}
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

// å¸ƒå°”å€¼æ§åˆ¶æ˜¾ç¤ºçŠ¶æ€
const isVisible = ref(true)
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">äº”ã€é©¼å³°vsçŸ­æ¨ªçº¿ï¼šé€‰å“ªä¸ªæ›´é¡ºæ‰‹ï¼Ÿ</h3>
<p><code>:style</code>çš„å¯¹è±¡é”®æ”¯æŒä¸¤ç§å†™æ³•ï¼Œæ•ˆæœå®Œå…¨ä¸€è‡´ï¼š</p>




















<table><thead><tr><th>å†™æ³•</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é©¼å³°å‘½åï¼ˆæ¨èï¼‰</td><td><code>fontSize: '30px'</code></td><td>ç¬¦åˆJavaScriptå¯¹è±¡å‘½åä¹ æƒ¯ï¼Œæ— éœ€å¼•å·</td></tr><tr><td>çŸ­æ¨ªçº¿å‘½å</td><td><code>'font-size': '30px'</code></td><td>è´´è¿‘CSSåŸç”Ÿå†™æ³•ï¼Œéœ€åŠ å¼•å·</td></tr></tbody></table>
<p><strong>æ¨èç”¨é©¼å³°</strong>ï¼šæ›´ç®€æ´ï¼Œä¸ç”¨è®°å¼•å·ï¼Œä¸”Vueå®˜æ–¹æ–‡æ¡£ä¹Ÿæ›´å€¾å‘è¿™ç§å†™æ³•ã€‚</p>
<details>
<summary>å¾€æœŸæ–‡ç« å½’æ¡£</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa0af08dd60a37b9a890a9957f2cbfc9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a0af08dd60a37b9a890a9957f2cbfc9f/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ–°å¢å±æ€§ã€æ•°ç»„æ”¹ç´¢å¼•ã€åŸå§‹å€¼ä»£ç†çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbc287e1e36287afd90750fd907eca85e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bc287e1e36287afd90750fd907eca85e/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchä¾¦å¬å™¨çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ä½ æŒæ¡äº†å—ï¼Ÿæ·±åº¦ç›‘å¬ã€ä¸watchEffectçš„å·®å¼‚åŠå¸¸è§æŠ¥é”™è§£æ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc405a8d9950af5b7c63b56c348ac36b6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c405a8d9950af5b7c63b56c348ac36b6/" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆVue 3éœ€è¦refå‡½æ•°ï¼Ÿå®ƒçš„å“åº”å¼åŸç†ä¸æ­£ç¡®ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa7e9abb9691a81e4404d9facabe0f7c3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a7e9abb9691a81e4404d9facabe0f7c3/" ref="nofollow noopener noreferrer">Vue 3ä¸­reactiveå‡½æ•°å¦‚ä½•é€šè¿‡Proxyå®ç°å“åº”å¼ï¼Ÿä½¿ç”¨æ—¶è¦é¿å¼€å“ªäº›è¯¯åŒºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd995ea45161727597fb85b62566c43d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd995ea45161727597fb85b62566c43d/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿçš„åº•å±‚åŸç†ä¸å®è·µè¦ç‚¹ä½ çœŸçš„æ‡‚å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F53e3f270a80675df662c6857a3332c0f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/53e3f270a80675df662c6857a3332c0f/" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿å¦‚ä½•é€šè¿‡ç¼–è¯‘ä¸‰é˜¶æ®µå®ç°ä»å£°æ˜å¼è¯­æ³•åˆ°é«˜æ•ˆæ¸²æŸ“çš„è·¨è¶Š - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fddbce4f2a23aa72c96b1c0473900321e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ddbce4f2a23aa72c96b1c0473900321e/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿å¼•ç”¨ï¼šä»æ”¶DOMâ€œå¿«é€’â€åˆ°è°ƒå­ç»„ä»¶æ–¹æ³•ï¼Œä½ ç©æ˜ç™½äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F23a2d5a334e15575277814c16e45df50%2F" target="_blank" title="https://blog.cmdragon.cn/posts/23a2d5a334e15575277814c16e45df50/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿é‡Œçš„JSè¡¨è¾¾å¼æœ‰å•¥ä¸èƒ½ç¢°ï¼Ÿè®¡ç®—å±æ€§ä¸ºå•¥æ¯”æ–¹æ³•æ›´èƒ½æ‰“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6be38de6382e31d282659b689c5b17f0%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6be38de6382e31d282659b689c5b17f0/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueçš„v-modelè¡¨å•ç»‘å®šï¼šè¯­æ³•ç³–ã€åŠ¨æ€å€¼ã€ä¿®é¥°ç¬¦çš„å°æŠ€å·§ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F60ce517684f4a418f453d66aa805606c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/60ce517684f4a418f453d66aa805606c/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3äº‹ä»¶å¤„ç†çš„æŒ‘æˆ˜é¢˜ï¼šv-onã€ä¿®é¥°ç¬¦ã€è‡ªå®šä¹‰äº‹ä»¶ä½ èƒ½é€šå…³å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe4ae7d5e4a9205bb11b2baccb230c637%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e4ae7d5e4a9205bb11b2baccb230c637/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3çš„v-æŒ‡ä»¤ï¼šæ•°æ®å’ŒDOMçš„â€œç¿»è¯‘å®˜â€åˆ°åº•æœ‰å¤šå°‘æœ¬äº‹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F999ce4fb32259ff4fbf4bf7bcb851654%2F" target="_blank" title="https://blog.cmdragon.cn/posts/999ce4fb32259ff4fbf4bf7bcb851654/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3ï¼Œæ’å€¼ã€åŠ¨æ€ç»‘å®šå’Œé¿å‘æŠ€å·§ä½ éƒ½ææ‡‚äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa6997d81b49cd232b87e1cf603888ad1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a6997d81b49cd232b87e1cf603888ad1/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLå¿«åˆ°é£èµ·ï¼Ÿå…ˆæ‰¾å¥åº·å¯†ç è¿˜æ˜¯å…ˆæ¢å¼•æ“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1fee7afbb9abd4540b8aa9c141d6845d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1fee7afbb9abd4540b8aa9c141d6845d/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLæŸ¥è¯¢å¿«åˆ°é£èµ·ï¼Ÿåˆ†åŒºè¡¨ã€ç‰©åŒ–è§†å›¾ã€å¹¶è¡ŒæŸ¥è¯¢è¿™ä¸‰æ‹›çµä¸çµï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F79c590fbd87ece535b11a71c9667884f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/79c590fbd87ece535b11a71c9667884f/" ref="nofollow noopener noreferrer">å­æŸ¥è¯¢æ€»æ‹–æ…¢æŸ¥è¯¢ï¼ŸæŠŠå®ƒå˜æˆè¿æ¥å°±èƒ½è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F748cdac2536008199abf8a8a2cd0ec85%2F" target="_blank" title="https://blog.cmdragon.cn/posts/748cdac2536008199abf8a8a2cd0ec85/" ref="nofollow noopener noreferrer">PostgreSQLå…¨è¡¨æ‰«ææ…¢åˆ°å´©æºƒï¼Ÿå»ºç´¢å¼•+æ”¹æŸ¥è¯¢+æ›´ç»Ÿè®¡ä¿¡æ¯ä¸‰æ‹›èƒ½ç ´ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F32ca943703226d317d4276a8fb53b0dd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/32ca943703226d317d4276a8fb53b0dd/" ref="nofollow noopener noreferrer">å¤æ‚æŸ¥è¯¢æ€»æ‹–åè…¿ï¼ŸPostgreSQLå¤šåˆ—ç´¢å¼•+è¦†ç›–ç´¢å¼•çš„ç¥ä»™æŠ€å·§ä½ getæ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fca93f1d53aa910e7ba5ffd8df611c12b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ca93f1d53aa910e7ba5ffd8df611c12b/" ref="nofollow noopener noreferrer">åªç»™è¡¨å­é›†å»ºç´¢å¼•ï¼Ÿç”¨å‡½æ•°ç»“æœå»ºç´¢å¼•ï¼ŸPostgreSQLè¿™ä¿©æ“ä½œå‡­å•¥èƒ½çœç©ºé—´åˆåŠ é€Ÿï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ff507856ebfddd592448813c510a53669%2F" target="_blank" title="https://blog.cmdragon.cn/posts/f507856ebfddd592448813c510a53669/" ref="nofollow noopener noreferrer">B-treeç´¢å¼•åƒå­—å…¸æŸ¥è¯ä¸€æ ·å·¥ä½œï¼Ÿé‚£å“ªäº›æ•°æ®åº“æŸ¥è¯¢å®ƒèƒ½åŠ é€Ÿï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb2213bfcb5b88a862f2138404c03d596%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b2213bfcb5b88a862f2138404c03d596/" ref="nofollow noopener noreferrer">æƒ³æŠ“PostgreSQLé‡Œçš„æ…¢SQLï¼Ÿpg_stat_statementsåŸºç¡€é»‘åŒ£å­å’Œpg_stat_monitoræ—¶é—´çª—ï¼Œè°èƒ½å¸®ä½ æ›´å‡†æªå‡ºæ€§èƒ½å°å·ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F26614eb7da6c476dde41d367ad888d2f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/26614eb7da6c476dde41d367ad888d2f/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œæ—¶å…‰æœºâ€MVCCå’Œé”æœºåˆ¶æ˜¯æ€ä¹ˆæå®šé«˜å¹¶å‘çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F69f99bc6972a860d559c74aad7280da4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/69f99bc6972a860d559c74aad7280da4/" ref="nofollow noopener noreferrer">PostgreSQLæ€§èƒ½æš´æ¶¨çš„å…³é”®ï¼Ÿå†…å­˜IOå¹¶å‘å‚æ•°å±…ç„¶è¦è¿™ä¹ˆè®¾ç½®ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7b7053f392147a8b3b1a16bebeb08d0a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7b7053f392147a8b3b1a16bebeb08d0a/" ref="nofollow noopener noreferrer">å¤§è¡¨æŸ¥è¯¢æ…¢åˆ°ç¿»éæ•´ä¸ªä¹¦æ¶ï¼ŸPostgreSQLåˆ†åŒºè¡¨æ•™ä½ æ€ä¹ˆâ€œåˆ†ç±»â€æ‰é«˜æ•ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc856e3cb073822349f3bf2d29995dcfc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c856e3cb073822349f3bf2d29995dcfc/" ref="nofollow noopener noreferrer">PostgreSQL æŸ¥è¯¢æ…¢ï¼Ÿæ˜¯ä¸æ˜¯å¿˜äº†ä¼˜åŒ– GROUP BYã€ORDER BY å’Œçª—å£å‡½æ•°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc096347d18e67b7431faacd2c4757093%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c096347d18e67b7431faacd2c4757093/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„å­æŸ¥è¯¢å’ŒCTEå±…ç„¶åœ¨æ€§èƒ½ä¸Šâ€œææ¶â€ï¼Ÿåˆ°åº•è¯¥ç«™å“ªè¾¹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F2eca89463454fd4250d7b66243b9fe5a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/2eca89463454fd4250d7b66243b9fe5a/" ref="nofollow noopener noreferrer">PostgreSQLé€‰Joinç­–ç•¥æœ‰å•¥å°ä¹ä¹ï¼ŸNested Loop/Merge/Hashè°æ˜¯å®ƒçš„èœï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F068ecb772a87d7df20a8c9fb4b233f8e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/068ecb772a87d7df20a8c9fb4b233f8e/" ref="nofollow noopener noreferrer">PostgreSQLæ–°æ‰‹SQLæ€»ç¿»è½¦ï¼Ÿè¿™7ä¸ªæ€§èƒ½é™·é˜±ä½ è¸©è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd498f63cd0a2d5a77e445c688a8b88db%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d498f63cd0a2d5a77e445c688a8b88db/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•é€‰B-Treeè¿˜æ˜¯GiSTï¼Ÿâ€œç‘å£«å†›åˆ€â€å’Œâ€œå¤šé¢æ‰‹â€çš„å·®åˆ«ä½ å±…ç„¶è¿˜ä¸çŸ¥é“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F9101b75bdec6faea9b35d54f14e37f36%2F" target="_blank" title="https://blog.cmdragon.cn/posts/9101b75bdec6faea9b35d54f14e37f36/" ref="nofollow noopener noreferrer">æƒ³çŸ¥é“æ•°æ®åº“æ€ä¹ˆç»™æŸ¥è¯¢â€œç®—æˆæœ¬é€‰è·¯çº¿â€ï¼ŸEXPLAINèƒ½å¸®ä½ çœ‹æ˜ç™½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd527f8ebb6e3dae2c7dfe4c8d8979444%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d527f8ebb6e3dae2c7dfe4c8d8979444/" ref="nofollow noopener noreferrer">PostgreSQLå¤„ç†SQLå±…ç„¶åƒåšè›‹ç³•ï¼Ÿè§£æåˆ°æ‰§è¡Œçš„4æ­¥é‡Œè—ç€å¤šå°‘æŸ¥è¯¢ä¼˜åŒ–çš„å°å¿ƒæœºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6bfdae84f313cf7ad0bb7045c4392347%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6bfdae84f313cf7ad0bb7045c4392347/" ref="nofollow noopener noreferrer">PostgreSQLå¤‡ä»½ä¸æ˜¯å¤åˆ¶æ–‡ä»¶ï¼Ÿç‰©ç†vsé€»è¾‘å’‹é€‰ï¼Ÿè¯¯åˆ è¿˜èƒ½ç²¾å‡†æ¢å¤åˆ°1åˆ†é’Ÿå‰ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fde3672803de34dbad244d0a8d48b0eb5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/de3672803de34dbad244d0a8d48b0eb5/" ref="nofollow noopener noreferrer">è½¬è´¦ä¸ç¿»è½¦ã€å¹¶å‘ä¸å¹²æ‰°ï¼ŒPostgreSQLçš„ACIDç‰¹æ€§åˆ°åº•æœ‰å•¥é­”æ³•ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe463e8a2668abdf00a228c9b79324ded%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e463e8a2668abdf00a228c9b79324ded/" ref="nofollow noopener noreferrer">é“¶è¡Œè½¬è´¦ä¸ç™½æ‰£é’±ã€ç”µå•†ä¸‹å•ä¸è¶…å–ï¼ŒPostgreSQLäº‹åŠ¡çš„è¯€çªæ˜¯å•¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F5c967e595058c4a1fc4474a68e64031d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/5c967e595058c4a1fc4474a68e64031d/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„PL/pgSQLåˆ°åº•æ˜¯å•¥ï¼Ÿèƒ½è®©SQLä»â€œè¯´ç›®æ ‡â€å˜â€œè®²æ­¥éª¤â€ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F325047855e3e23b5ef82f7d2db134fbd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/325047855e3e23b5ef82f7d2db134fbd/" ref="nofollow noopener noreferrer">PostgreSQLè§†å›¾ä¸å­˜æ•°æ®ï¼Ÿé‚£å®ƒæ€ä¹ˆç®€åŒ–æŸ¥è¯¢è¿˜èƒ½é€’å½’ç”Ÿæˆåºåˆ—å’Œæ§åˆ¶æƒé™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd2dba50bb6e4df7b27e735245a06a2a2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d2dba50bb6e4df7b27e735245a06a2a2/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•è¿™ä¹ˆç©ï¼Œæ‰èƒ½è®©ä½ çš„æŸ¥è¯¢çœŸçš„â€œé£â€èµ·æ¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F849ae5bab0f8c66e94c2f6ad1bb798e3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/849ae5bab0f8c66e94c2f6ad1bb798e3/" ref="nofollow noopener noreferrer">PostgreSQLçš„è¡¨å…³ç³»å’Œçº¦æŸï¼Œå’‹å¸®ä½ æå®šç”¨æˆ·è®¢å•ä¸æ··ä¹±ã€å­¦ç”Ÿé€‰è¯¾ä¸é‡å¤ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fef4800975ffa84f1ca51976a70a1585b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ef4800975ffa84f1ca51976a70a1585b/" ref="nofollow noopener noreferrer">PostgreSQLæŸ¥è¯¢çš„ç­›å­ã€æ’åºã€èšåˆã€åˆ†ç»„ï¼Ÿä½ ä¼šç”¨å®ƒä»¬æå®šæ•°æ®å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbf54711525c507c5eacfa7b0151c39d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bf54711525c507c5eacfa7b0151c39d2/" ref="nofollow noopener noreferrer">PostgreSQLæ•°æ®ç±»å‹æ€ä¹ˆé€‰æ‰é«˜æ•ˆä¸è¸©å‘ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F887809b3e0375f5956873cd442f516d8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/887809b3e0375f5956873cd442f516d8/" ref="nofollow noopener noreferrer">æƒ³è§£é”PostgreSQLæŸ¥è¯¢ä»åŸºç¡€åˆ°è¿›é˜¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Ÿä½ éƒ½getäº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F934be1203725e8be9d6f6e9104e5abcc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/934be1203725e8be9d6f6e9104e5abcc/" ref="nofollow noopener noreferrer">PostgreSQL DELETEå±…ç„¶æœ‰è¿™äº›æ“ä½œï¼Ÿè¿”å›æ•°æ®ã€è¿è¡¨åˆ ä½ è¯•è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0f0622e9b7402b599e618150d0596ffe%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0f0622e9b7402b599e618150d0596ffe/" ref="nofollow noopener noreferrer">PostgreSQL UPDATEè¯­å¥æ€ä¹ˆç©ï¼Ÿä»æ”¹é‚®ç®±åˆ°æ‰¹é‡æ›´æ–°çš„é¿å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0e3bf7efc030b024ea67ee855a00f2de%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0e3bf7efc030b024ea67ee855a00f2de/" ref="nofollow noopener noreferrer">PostgreSQLæ’å…¥æ•°æ®è¿˜åœ¨é€æ¡æ•²ï¼Ÿæ‰¹é‡ã€å†²çªå¤„ç†ã€è¿”å›è‡ªå¢IDçš„æŠ€å·§ä½ ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb6cd3c86da6aac26ed829e472d34078e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b6cd3c86da6aac26ed829e472d34078e/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œä»“åº“-æˆ¿é—´-è´§æ¶â€æ¸¸æˆï¼Œä½ èƒ½å»ºå‡ºç”µå•†æ•°æ®åº“å’Œè¡¨å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fba1f545a3410144552fbdbfcf31b5265%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ba1f545a3410144552fbdbfcf31b5265/" ref="nofollow noopener noreferrer">PostgreSQL 17å®‰è£…æ€»ç¿»è½¦ï¼ŸWindows/macOS/Linuxé¿å‘æŒ‡å—å¸®ä½ æå®šï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb5474d1480509c5072085abc80b3dd9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b5474d1480509c5072085abc80b3dd9f/" ref="nofollow noopener noreferrer">èƒ½å½“å…³ç³»å‹æ•°æ®åº“è¿˜èƒ½ç©å¯¹è±¡ç‰¹æ€§ï¼Œèƒ½æ‹†å¤æ‚æŸ¥è¯¢è¿˜èƒ½è‡ªåŠ¨ç®¡åº“å­˜ï¼ŒPostgreSQLå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fcc098d8836e787baa8a4d92e4d56d5c5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/cc098d8836e787baa8a4d92e4d56d5c5/" ref="nofollow noopener noreferrer">ç»™æ¥å£åŠ æ–°å­—æ®µåˆä¸æå´©è€å®¢æˆ·ç«¯ï¼ŸFastAPIçš„å¤šç‰ˆæœ¬APIé å“ªä¸‰æ‹›å®ç°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F46d05151c5bd31cf37a7bcf0b8f5b0b8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/46d05151c5bd31cf37a7bcf0b8f5b0b8/" ref="nofollow noopener noreferrer">æµé‡çªå¢è¦æå´©FastAPIï¼Ÿç†”æ–­æµ‹è¯•æ˜¯æ€ä¹ˆé˜²ç³»ç»Ÿé›ªå´©çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F65ce343cc5df9faf3a8e2eeaab42ae45%2F" target="_blank" title="https://blog.cmdragon.cn/posts/65ce343cc5df9faf3a8e2eeaab42ae45/" ref="nofollow noopener noreferrer">FastAPIç§’æ€åº“å­˜æ€»å˜è´Ÿæ•°ï¼ŸRedisåˆ†å¸ƒå¼é”èƒ½å¸®ä½ å®ˆä½åº•çº¿å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Feed6cd8985d9be0a4b092a7da38b3e0c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/eed6cd8985d9be0a4b092a7da38b3e0c/" ref="nofollow noopener noreferrer">FastAPIçš„CIæµæ°´çº¿æ€ä¹ˆè‡ªåŠ¨æµ‹ç«¯ç‚¹ï¼Œè¿˜èƒ½è®©AllureæŠ¥å‘Šç¾åˆ°çŠ¯è§„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6157d87338ce894d18c013c3c4777abb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6157d87338ce894d18c013c3c4777abb/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨GitHub Actionsä¸ºFastAPIé¡¹ç›®æ‰“é€ è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ffc4ef84559e04693a620d0714cb30787%2F" target="_blank" title="https://blog.cmdragon.cn/posts/fc4ef84559e04693a620d0714cb30787/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨Git Hookå’ŒCIæµæ°´çº¿ä¸ºFastAPIé¡¹ç›®ä¿é©¾æŠ¤èˆªï¼Ÿ - cmdragon's Blog</a></li>
</ul>
</details>
<details>
<summary>å…è´¹å¥½ç”¨çš„çƒ­é—¨åœ¨çº¿å·¥å…·</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fraid-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/raid-calculator" ref="nofollow noopener noreferrer">RAID è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fphotoshop-online" target="_blank" title="https://tools.cmdragon.cn/zh/apps/photoshop-online" ref="nofollow noopener noreferrer">åœ¨çº¿PS - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmermaid-live-editor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/mermaid-live-editor" ref="nofollow noopener noreferrer">Mermaid åœ¨çº¿ç¼–è¾‘å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmath-solver-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/math-solver-calculator" ref="nofollow noopener noreferrer">æ•°å­¦æ±‚è§£è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsmart-teleprompter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/smart-teleprompter" ref="nofollow noopener noreferrer">æ™ºèƒ½æè¯å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmagic-resume" target="_blank" title="https://tools.cmdragon.cn/zh/apps/magic-resume" ref="nofollow noopener noreferrer">é­”æ³•ç®€å† - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-puzzle-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-puzzle-tool" ref="nofollow noopener noreferrer">Image Puzzle Tool - å›¾ç‰‡æ‹¼å›¾å·¥å…· | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsubtitle-downloader" target="_blank" title="https://tools.cmdragon.cn/zh/apps/subtitle-downloader" ref="nofollow noopener noreferrer">å­—å¹•ä¸‹è½½å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flyrics-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lyrics-generator" ref="nofollow noopener noreferrer">æ­Œè¯ç”Ÿæˆå·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcloud-drive-search" target="_blank" title="https://tools.cmdragon.cn/zh/apps/cloud-drive-search" ref="nofollow noopener noreferrer">ç½‘ç›˜èµ„æºèšåˆæœç´¢ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fascii-art-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ascii-art-generator" ref="nofollow noopener noreferrer">ASCIIå­—ç¬¦ç”»ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fjwt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/jwt-tool" ref="nofollow noopener noreferrer">JSON Web Tokens å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbcrypt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/bcrypt-tool" ref="nofollow noopener noreferrer">Bcrypt å¯†ç å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-composer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-composer" ref="nofollow noopener noreferrer">GIF åˆæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-decomposer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-decomposer" ref="nofollow noopener noreferrer">GIF åˆ†è§£å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-steganography" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-steganography" ref="nofollow noopener noreferrer">æ–‡æœ¬éšå†™æœ¯ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh" target="_blank" title="https://tools.cmdragon.cn/zh" ref="nofollow noopener noreferrer">CMDragon åœ¨çº¿å·¥å…· - é«˜çº§AIå·¥å…·ç®±ä¸å¼€å‘è€…å¥—ä»¶ | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%3Fcategory%3Dtrending" target="_blank" title="https://tools.cmdragon.cn/zh/apps?category=trending" ref="nofollow noopener noreferrer">åº”ç”¨å•†åº— - å‘ç°1000+æå‡æ•ˆç‡ä¸å¼€å‘çš„AIå·¥å…·å’Œå®ç”¨ç¨‹åº | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fchangelog" target="_blank" title="https://tools.cmdragon.cn/zh/changelog" ref="nofollow noopener noreferrer">CMDragon æ›´æ–°æ—¥å¿— - æœ€æ–°æ›´æ–°ã€åŠŸèƒ½ä¸æ”¹è¿› | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fsponsor" target="_blank" title="https://tools.cmdragon.cn/zh/sponsor" ref="nofollow noopener noreferrer">æ”¯æŒæˆ‘ä»¬ - æˆä¸ºèµåŠ©è€… | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-ai" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-ai" ref="nofollow noopener noreferrer">AIæ–‡æœ¬ç”Ÿæˆå›¾åƒ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftemp-email" target="_blank" title="https://tools.cmdragon.cn/zh/apps/temp-email" ref="nofollow noopener noreferrer">ä¸´æ—¶é‚®ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fqrcode-parser" target="_blank" title="https://tools.cmdragon.cn/zh/apps/qrcode-parser" ref="nofollow noopener noreferrer">äºŒç»´ç è§£æå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-mindmap" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-mindmap" ref="nofollow noopener noreferrer">æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fregex-visualizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/regex-visualizer" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsteganography-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/steganography-tool" ref="nofollow noopener noreferrer">æ–‡ä»¶éšå†™å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fiptv-explorer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/iptv-explorer" ref="nofollow noopener noreferrer">IPTV é¢‘é“æ¢ç´¢å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsnapdrop" target="_blank" title="https://tools.cmdragon.cn/zh/apps/snapdrop" ref="nofollow noopener noreferrer">å¿«ä¼  - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flucky-draw" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lucky-draw" ref="nofollow noopener noreferrer">éšæœºæŠ½å¥–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fanime-scene-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/anime-scene-finder" ref="nofollow noopener noreferrer">åŠ¨æ¼«åœºæ™¯æŸ¥æ‰¾å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftime-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/time-toolkit" ref="nofollow noopener noreferrer">æ—¶é—´å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fspeed-test" target="_blank" title="https://tools.cmdragon.cn/zh/apps/speed-test" ref="nofollow noopener noreferrer">ç½‘é€Ÿæµ‹è¯• - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-remover" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-remover" ref="nofollow noopener noreferrer">AI æ™ºèƒ½æŠ å›¾å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-replacer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-replacer" ref="nofollow noopener noreferrer">èƒŒæ™¯æ›¿æ¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fartistic-qrcode" target="_blank" title="https://tools.cmdragon.cn/zh/apps/artistic-qrcode" ref="nofollow noopener noreferrer">è‰ºæœ¯äºŒç»´ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fopen-graph-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/open-graph-generator" ref="nofollow noopener noreferrer">Open Graph å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-comparison" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-comparison" ref="nofollow noopener noreferrer">å›¾åƒå¯¹æ¯”å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-compressor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-compressor" ref="nofollow noopener noreferrer">å›¾ç‰‡å‹ç¼©ä¸“ä¸šç‰ˆ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fpassword-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/password-generator" ref="nofollow noopener noreferrer">å¯†ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsvg-optimizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/svg-optimizer" ref="nofollow noopener noreferrer">SVGä¼˜åŒ–å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcolor-palette" target="_blank" title="https://tools.cmdragon.cn/zh/apps/color-palette" ref="nofollow noopener noreferrer">è°ƒè‰²æ¿ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fonline-metronome" target="_blank" title="https://tools.cmdragon.cn/zh/apps/online-metronome" ref="nofollow noopener noreferrer">åœ¨çº¿èŠ‚æ‹å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcss-grid-layout" target="_blank" title="https://tools.cmdragon.cn/zh/apps/css-grid-layout" ref="nofollow noopener noreferrer">CSSç½‘æ ¼å¸ƒå±€ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Femail-validator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/email-validator" ref="nofollow noopener noreferrer">é‚®ç®±éªŒè¯å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcalligraphy-practice" target="_blank" title="https://tools.cmdragon.cn/zh/apps/calligraphy-practice" ref="nofollow noopener noreferrer">ä¹¦æ³•ç»ƒä¹ å­—å¸– - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffinance-calculator-suite" target="_blank" title="https://tools.cmdragon.cn/zh/apps/finance-calculator-suite" ref="nofollow noopener noreferrer">é‡‘èè®¡ç®—å™¨å¥—ä»¶ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fchinese-kinship-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/chinese-kinship-calculator" ref="nofollow noopener noreferrer">ä¸­å›½äº²æˆšå…³ç³»è®¡ç®—å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fprotobuf-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/protobuf-toolkit" ref="nofollow noopener noreferrer">Protocol Buffer å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-upscaler" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-upscaler" ref="nofollow noopener noreferrer">å›¾ç‰‡æ— æŸæ”¾å¤§ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-compare" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-compare" ref="nofollow noopener noreferrer">æ–‡æœ¬æ¯”è¾ƒå·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-batch-lookup" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-batch-lookup" ref="nofollow noopener noreferrer">IPæ‰¹é‡æŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdomain-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/domain-finder" ref="nofollow noopener noreferrer">åŸŸåæŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdns-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/dns-toolkit" ref="nofollow noopener noreferrer">DNSå·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffavicon-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/favicon-generator" ref="nofollow noopener noreferrer">ç½‘ç«™å›¾æ ‡ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fsitemap_index.xml" target="_blank" title="https://tools.cmdragon.cn/sitemap_index.xml" ref="nofollow noopener noreferrer">XML Sitemap</a></li>
</ul>
</details>
<h3 data-id="heading-8">å…­ã€å®é™…æ¡ˆä¾‹ï¼šåŠ¨æ€è¿›åº¦æ¡</h3>
<p>æˆ‘ä»¬æ¥åšä¸€ä¸ª<strong>å®ç”¨çš„åŠ¨æ€è¿›åº¦æ¡</strong>â€”â€”ç‚¹å‡»æŒ‰é’®å¢åŠ è¿›åº¦ï¼Œè¿›åº¦æ¡çš„å®½åº¦å’Œé¢œè‰²éšè¿›åº¦å˜åŒ–ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="progress-container"&gt;
    &lt;!-- è¿›åº¦æ¡èƒŒæ™¯ --&gt;
    &lt;div class="progress-bg"&gt;
      &lt;!-- åŠ¨æ€è¿›åº¦æ¡ï¼šå®½åº¦=progress%ï¼Œé¢œè‰²éšè¿›åº¦å˜åŒ– --&gt;
      &lt;div 
        class="progress-bar"
        :style="{ 
          width: progress + '%', 
          backgroundColor: progress &gt; 50 ? '#4CAF50' : '#FF9800' 
        }"
      &gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- æ§åˆ¶æŒ‰é’® --&gt;
    &lt;button @click="addProgress" :disabled="progress &gt;= 100"&gt;
      {{ progress &gt;= 100 ? 'è¿›åº¦å·²æ»¡' : 'å¢åŠ è¿›åº¦' }}
    &lt;/button&gt;
    &lt;!-- è¿›åº¦æ˜¾ç¤º --&gt;
    &lt;p class="progress-text"&gt;å½“å‰è¿›åº¦ï¼š{{ progress }}%&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

// å“åº”å¼è¿›åº¦å€¼ï¼šåˆå§‹0%
const progress = ref(0)

// å¢åŠ è¿›åº¦ï¼šæ¯æ¬¡åŠ 10ï¼Œæœ€å¤š100
const addProgress = () =&gt; {
  if (progress.value &lt; 100) {
    progress.value += 10
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.progress-container {
  margin: 20px;
  font-family: Arial, sans-serif;
}
.progress-bg {
  width: 300px;
  height: 20px;
  background-color: #f0f0f0;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 10px;
}
.progress-bar {
  height: 100%;
  transition: width 0.3s ease; /* å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */
  border-radius: 10px;
}
button {
  padding: 8px 16px;
  background-color: #2196F3;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}
.progress-text {
  margin-top: 10px;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<p><strong>æ•ˆæœè¯´æ˜</strong>ï¼š</p>
<ul>
<li>è¿›åº¦æ¡å®½åº¦ï¼šç”¨<code>progress + '%'</code>åŠ¨æ€ç»‘å®šï¼Œè¿›åº¦ä»0åˆ°100æ—¶ï¼Œå®½åº¦ä»0%åˆ°100%ã€‚</li>
<li>è¿›åº¦æ¡é¢œè‰²ï¼šç”¨ä¸‰å…ƒè¡¨è¾¾å¼<code>progress &gt; 50 ? '#4CAF50' : '#FF9800'</code>ï¼Œè¿›åº¦è¶…è¿‡50%å˜ç»¿è‰²ï¼Œå¦åˆ™å˜æ©™è‰²ã€‚</li>
<li>è¿‡æ¸¡åŠ¨ç”»ï¼š<code>transition: width 0.3s ease</code>è®©è¿›åº¦å˜åŒ–æ›´å¹³æ»‘ã€‚</li>
</ul>
<h3 data-id="heading-9">ä¸ƒã€è¯¾åQuizï¼šå·©å›ºçŸ¥è¯†ç‚¹</h3>
<h4 data-id="heading-10">é—®é¢˜1ï¼š</h4>
<p>åœ¨Vue3ä¸­ï¼Œä½¿ç”¨<code>:style</code>å¯¹è±¡è¯­æ³•æ—¶ï¼Œä¸ºä»€ä¹ˆ<code>fontSize</code>éœ€è¦å†™æˆ<code>fontSize + 'px'</code>è€Œä¸æ˜¯ç›´æ¥å†™<code>fontSize</code>ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆè§£æ</strong>ï¼š<br/>
CSSçš„<code>font-size</code>å±æ€§éœ€è¦<strong>å•ä½</strong>ï¼ˆå¦‚<code>px</code>ï¼‰ï¼Œè€ŒVueä¸ä¼šè‡ªåŠ¨ä¸ºæ•°å­—æ·»åŠ å•ä½ï¼ˆé™¤éå€¼æ˜¯<code>0</code>ï¼‰ã€‚å¦‚æœç›´æ¥å†™<code>fontSize</code>ï¼ˆå‡è®¾æ˜¯<code>ref(30)</code>ï¼‰ï¼Œæ¨¡æ¿ä¼šæ¸²æŸ“æˆ<code>font-size: 30</code>â€”â€”è¿™åœ¨CSSä¸­æ˜¯æ— æ•ˆçš„ï¼Œå› æ­¤å¿…é¡»æ‰‹åŠ¨æ·»åŠ <code>'px'</code>å˜æˆ<code>'30px'</code>ã€‚</p>
<h4 data-id="heading-11">é—®é¢˜2ï¼š</h4>
<p>è¯·å†™å‡ºä¸€ä¸ªç”¨<code>:style</code>å¯¹è±¡è¯­æ³•ç»‘å®š<strong>å“åº”å¼èƒŒæ™¯è‰²</strong>å’Œ<strong>è¾¹æ¡†</strong>çš„ä¾‹å­ï¼Œè¦æ±‚ï¼š</p>
<ul>
<li>èƒŒæ™¯è‰²æ˜¯<code>ref('lightblue')</code>ï¼›</li>
<li>è¾¹æ¡†æ˜¯<code>ref('2px solid gray')</code>ã€‚</li>
</ul>
<p><strong>ç­”æ¡ˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div :style="{ backgroundColor: bgColor, border: borderStyle }"&gt;
    æˆ‘æ˜¯å¸¦åŠ¨æ€æ ·å¼çš„ç›’å­
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const bgColor = ref('lightblue')
const borderStyle = ref('2px solid gray')
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-12">å…«ã€å¸¸è§æŠ¥é”™ä¸è§£å†³åŠæ³•</h3>
<p>åœ¨ä½¿ç”¨<code>:style</code>æ—¶ï¼Œè¿™äº›é”™è¯¯ä½ å¯èƒ½ä¼šé‡åˆ°ï¼š</p>
<h4 data-id="heading-13">æŠ¥é”™1ï¼šçŸ­æ¨ªçº¿é”®æœªåŠ å¼•å·å¯¼è‡´è¯­æ³•é”™è¯¯</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š<code>{ font-size: '30px' }</code><br/>
<strong>åŸå› </strong>ï¼šJavaScriptå¯¹è±¡çš„é”®å¦‚æœåŒ…å«<code>-</code>ï¼Œå¿…é¡»ç”¨å­—ç¬¦ä¸²å¼•å·åŒ…è£¹ï¼Œå¦åˆ™ä¼šè¢«è§£ææˆ<strong>å‡æ³•è¿ç®—</strong>ï¼ˆ<code>font - size</code>ï¼‰ã€‚<br/>
<strong>è§£å†³</strong>ï¼šç»™çŸ­æ¨ªçº¿é”®åŠ å¼•å·ï¼ˆ<code>'font-size'</code>ï¼‰ï¼Œæˆ–æ”¹ç”¨é©¼å³°ï¼ˆ<code>fontSize</code>ï¼‰ã€‚</p>
<h4 data-id="heading-14">æŠ¥é”™2ï¼šå“åº”å¼æ•°æ®å˜äº†ï¼Œä½†æ ·å¼æ²¡æ›´æ–°</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨letå®šä¹‰éå“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">let</span> progress = <span class="hljs-number">0</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addProgress</span> = (<span class="hljs-params"/>) =&gt; {
  progress += <span class="hljs-number">10</span> <span class="hljs-comment">// Vueæ— æ³•æ£€æµ‹å˜åŒ–</span>
}
</code></pre>
<p><strong>åŸå› </strong>ï¼š<code>let</code>å˜é‡ä¸æ˜¯å“åº”å¼çš„ï¼ŒVueæ— æ³•è¿½è¸ªå…¶å˜åŒ–ã€‚<br/>
<strong>è§£å†³</strong>ï¼šç”¨<code>ref</code>æˆ–<code>reactive</code>å®šä¹‰å“åº”å¼æ•°æ®ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> progress = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addProgress</span> = (<span class="hljs-params"/>) =&gt; {
  progress.<span class="hljs-property">value</span> += <span class="hljs-number">10</span> <span class="hljs-comment">// ä¿®æ”¹å“åº”å¼æ•°æ®</span>
}
</code></pre>
<h4 data-id="heading-15">æŠ¥é”™3ï¼šå±æ€§åæ‹¼å†™é”™è¯¯å¯¼è‡´æ ·å¼ä¸ç”Ÿæ•ˆ</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š<code>{ backgroundcolor: 'lightblue' }</code>ï¼ˆå°å†™<code>C</code>ï¼‰<br/>
<strong>åŸå› </strong>ï¼šCSSå±æ€§çš„é©¼å³°å‘½åå¿…é¡»æ­£ç¡®ï¼ˆ<code>backgroundColor</code>å¯¹åº”<code>background-color</code>ï¼‰ï¼Œæ‹¼å†™é”™è¯¯ä¼šå¯¼è‡´Vueæ— æ³•è¯†åˆ«ã€‚<br/>
<strong>è§£å†³</strong>ï¼šæ£€æŸ¥å±æ€§åçš„å¤§å°å†™ï¼Œæˆ–ç”¨çŸ­æ¨ªçº¿åŠ å¼•å·ï¼ˆ<code>'background-color'</code>ï¼‰ã€‚</p>
<h3 data-id="heading-16">å‚è€ƒé“¾æ¥</h3>
<p>Vue3å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Fclass-and-style.html%23binding-inline-styles" target="_blank" title="https://vuejs.org/guide/essentials/class-and-style.html#binding-inline-styles" ref="nofollow noopener noreferrer">Class and Style Bindings - Binding Inline Styles</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼šä»åˆ›å»ºåˆ°é”€æ¯çš„å…¨è¿‡ç¨‹]]></title>    <link>https://juejin.cn/post/7583906478329020435</link>    <guid>https://juejin.cn/post/7583906478329020435</guid>    <pubDate>2025-12-15T16:09:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583906478329020435" data-draft-id="7583912899389456427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼šä»åˆ›å»ºåˆ°é”€æ¯çš„å…¨è¿‡ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2025-12-15T16:09:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„é‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/1458425238667008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼šä»åˆ›å»ºåˆ°é”€æ¯çš„å…¨è¿‡ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1458425238667008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„é‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-15T16:09:59.000Z" title="Mon Dec 15 2025 16:09:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å­¦ä¹  Vue çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€æ¸æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼š**ä¸ºä»€ä¹ˆåŒæ ·æ˜¯å†™æ•°æ®ã€æ”¹æ•°æ®ï¼Œæœ‰äº›ä»£ç åªèƒ½å†™åœ¨æŸäº›åœ°æ–¹ï¼Ÿä¸ºä»€ä¹ˆå®šæ—¶å™¨ã€è¯·æ±‚ã€äº‹ä»¶ç»‘å®šå¦‚æœä½ç½®ä¸å¯¹ï¼Œå°±ä¼šå‡º bugï¼Ÿ**ç­”æ¡ˆå‡ ä¹éƒ½æŒ‡å‘åŒä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µâ€”â€”<strong>Vue ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p>
<p>Vue ç”Ÿå‘½å‘¨æœŸå¹¶ä¸æ˜¯æŠ½è±¡çš„â€œç†è®ºåè¯â€ï¼Œè€Œæ˜¯ Vue åœ¨å®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œåœ¨<strong>å…³é”®æ—¶é—´ç‚¹è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€ç»„å‡½æ•°</strong>ã€‚è¿™äº›å‡½æ•°æœ‰å›ºå®šçš„åå­—ã€å›ºå®šçš„è°ƒç”¨æ—¶æœºï¼Œè€Œæˆ‘ä»¬èƒ½åšçš„ï¼Œå°±æ˜¯åœ¨åˆé€‚çš„é’©å­ä¸­å†™åˆé€‚çš„ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç”Ÿå‘½å‘¨æœŸçš„æœ¬è´¨ï¼šVue åœ¨â€œå…³é”®æ—¶åˆ»â€å¸®ä½ è°ƒç”¨å‡½æ•°</h2>
<p>ä»ç¬¬ä¸€ä¸ªç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿå‘½å‘¨æœŸä¹Ÿè¢«ç§°ä¸º<strong>ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æˆ–ç”Ÿå‘½å‘¨æœŸé’©å­</strong>ã€‚å®ƒçš„æœ¬è´¨å¹¶ä¸å¤æ‚ï¼š</p>
<blockquote>
<p>Vue åœ¨å†…éƒ¨æµç¨‹çš„æŸäº›å…³é”®é˜¶æ®µï¼Œ<strong>è‡ªåŠ¨è°ƒç”¨æˆ‘ä»¬æå‰å†™å¥½çš„å‡½æ•°</strong>1.å¼•å‡ºç”Ÿå‘½å‘¨æœŸ</p>
</blockquote>
<p>æœ‰å‡ ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§éœ€è¦å…ˆæ˜ç¡®ï¼š</p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„<strong>åå­—ä¸èƒ½éšä¾¿æ”¹</strong></li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°å†…éƒ¨çš„ä»£ç ç”±å¼€å‘è€…å†³å®š</li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„ <code>this</code> æ°¸è¿œæŒ‡å‘å½“å‰çš„ <strong>Vue å®ä¾‹ï¼ˆvmï¼‰</strong></li>
</ul>
<p>ä¹Ÿæ­£å› ä¸º <code>this</code> æŒ‡å‘ vmï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨ç”Ÿå‘½å‘¨æœŸä¸­è‡ªç”±è®¿é—® <code>data</code>ã€<code>methods</code>ã€<code>computed</code> ç­‰å†…å®¹ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€mountedï¼šæœ€å¸¸ç”¨ã€ä¹Ÿæœ€å®¹æ˜“è¢«è¯¯ç”¨çš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p>åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œé¡µé¢ä¸Šæœ‰ä¸€æ®µéå¸¸ç›´è§‚çš„åŠ¨ç”»æ•ˆæœï¼šæ–‡å­—é€æ˜åº¦ä¸æ–­é™ä½ï¼Œåˆå¾ªç¯æ¢å¤ã€‚è¿™ä¸ªæ•ˆæœå¹¶ä¸æ˜¯é€šè¿‡æ“ä½œ DOM å®ç°çš„ï¼Œè€Œæ˜¯é€šè¿‡<strong>ä¿®æ”¹å“åº”å¼æ•°æ® opacity</strong> æ¥å®Œæˆçš„1.å¼•å‡ºç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>å…³é”®ä»£ç å†™åœ¨äº† <code>mounted()</code> ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> -= <span class="hljs-number">0.01</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> = <span class="hljs-number">1</span>;
    }
  }, <span class="hljs-number">16</span>)
}
</code></pre>
<p>ä¹‹æ‰€ä»¥æŠŠå®šæ—¶å™¨å†™åœ¨ <code>mounted</code>ï¼ŒåŸå› éå¸¸æ˜ç¡®ï¼š</p>
<ul>
<li>åœ¨ <code>mounted</code> ä¹‹å‰ï¼Œæ¨¡æ¿è¿˜æ²¡æœ‰çœŸæ­£æ¸²æŸ“æˆ DOM</li>
<li>åªæœ‰åœ¨ <code>mounted</code> æ‰§è¡Œæ—¶ï¼Œ<strong>çœŸå® DOM å·²ç»æŒ‚è½½å®Œæˆ</strong></li>
<li>æ‰€æœ‰ä¾èµ–é¡µé¢ç»“æ„ã€DOM æˆ–è§†å›¾æ›´æ–°çš„é€»è¾‘ï¼Œéƒ½åº”è¯¥æ”¾åœ¨è¿™é‡Œ</li>
</ul>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼š<br/>
<strong>mounted åªä¼šåœ¨â€œåˆæ¬¡æŒ‚è½½â€æ—¶è°ƒç”¨ä¸€æ¬¡</strong>ï¼Œåç»­æ•°æ®å˜åŒ–å¼•èµ·çš„é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¸ä¼šå†æ¬¡è§¦å‘ mountedï¼Œè€Œæ˜¯èµ°æ›´æ–°ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ä¸ºä»€ä¹ˆè¦å­¦ beforeDestroyï¼Ÿâ€”â€”ç”Ÿå‘½å‘¨æœŸçš„â€œæ”¶å°¾é˜¶æ®µâ€</h2>
<p>ç¬¬äºŒä¸ªç¤ºä¾‹åœ¨ç¬¬ä¸€ä¸ªåŸºç¡€ä¸Šè¿›ä¸€æ­¥å®Œå–„äº†é€»è¾‘ï¼Œå¼•å‡ºäº†ä¸€ä¸ªéå¸¸ç°å®çš„é—®é¢˜ï¼š<br/>
**å®šæ—¶å™¨ä»€ä¹ˆæ—¶å€™æ¸…ï¼ŸVue å®ä¾‹é”€æ¯åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ**1.æ€»ç»“ç”Ÿå‘½å‘¨æœŸ</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç‚¹å‡»â€œç‚¹æˆ‘åœæ­¢â€æŒ‰é’®ï¼Œä¼šè°ƒç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">this</span>.$destroy();
</code></pre>
<p>è¿™è¡Œä»£ç ä¼šæ‰‹åŠ¨é”€æ¯å½“å‰ Vue å®ä¾‹ï¼Œè€Œåœ¨é”€æ¯ä¹‹å‰ï¼ŒVue ä¼šè°ƒç”¨ <code>beforeDestroy()</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
  <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);
}
</code></pre>
<p>è¿™æ­£æ˜¯ç”Ÿå‘½å‘¨æœŸçš„<strong>æ”¶å°¾ä»·å€¼æ‰€åœ¨</strong>ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼š</p>
<ul>
<li><code>mounted</code> è´Ÿè´£â€œåˆå§‹åŒ–â€</li>
<li><code>beforeDestroy</code> è´Ÿè´£â€œæ¸…ç†å–„åâ€</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>æ¸…é™¤å®šæ—¶å™¨</li>
<li>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶</li>
<li>å–æ¶ˆæ¶ˆæ¯è®¢é˜…</li>
<li>å…³é—­ WebSocket è¿æ¥</li>
</ul>
<p>å¦‚æœä¸åœ¨é”€æ¯å‰æ¸…ç†è¿™äº›å†…å®¹ï¼Œå°±ä¼šå¯¼è‡´<strong>å†…å­˜æ³„æ¼</strong>ï¼Œç”šè‡³é€»è¾‘æ··ä¹±ã€‚</p>
<p>å¦å¤–ï¼Œç¤ºä¾‹ä¸­è¿˜æ˜ç¡®æŒ‡å‡ºï¼š</p>
<ul>
<li>Vue å®ä¾‹é”€æ¯åï¼Œå¼€å‘è€…å·¥å…·ä¸­å°†ä¸å†æ˜¾ç¤ºè¯¥å®ä¾‹</li>
<li>Vue çš„è‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆ</li>
<li>åŸç”Ÿ DOM äº‹ä»¶ä¾ç„¶å­˜åœ¨</li>
<li>åœ¨ <code>beforeDestroy</code> ä¸­ä¿®æ”¹æ•°æ®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºæ›´æ–°æµç¨‹å·²ç»ä¸ä¼šå†è§¦å‘äº†1.æ€»ç»“ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<hr/>
<h2 data-id="heading-3">å››ã€å®Œæ•´ç”Ÿå‘½å‘¨æœŸæµç¨‹ï¼šä» beforeCreate åˆ° destroyed</h2>
<p>ç¬¬ä¸‰ä¸ªç¤ºä¾‹æ˜¯å¯¹ Vue ç”Ÿå‘½å‘¨æœŸæœ€ç³»ç»Ÿçš„ä¸€æ¬¡æ¼”ç¤ºï¼Œå®ƒå‡ ä¹è¦†ç›–äº†æ‰€æœ‰å¸¸è§çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå¹¶é€šè¿‡ <code>console.log</code> æ¸…æ™°åœ°å±•ç¤ºäº†è°ƒç”¨é¡ºåº2.åˆ†æç”Ÿå‘½å‘¨æœŸã€‚</p>
<h3 data-id="heading-4">1ï¸âƒ£ beforeCreate</h3>
<p>è¿™æ˜¯ Vue å®ä¾‹åˆšè¢«åˆ›å»ºæ—¶è°ƒç”¨çš„é’©å­ï¼š</p>
<ul>
<li>data å°šæœªåˆå§‹åŒ–</li>
<li>methods å°šæœªåˆå§‹åŒ–</li>
<li>è®¿é—® <code>this.n</code> å¾—åˆ°çš„æ˜¯ <code>undefined</code></li>
</ul>
<p>è¿™è¯´æ˜ï¼š<br/>
<strong>beforeCreate å‡ ä¹ä¸é€‚åˆå†™ä¸šåŠ¡ä»£ç </strong></p>
<hr/>
<h3 data-id="heading-5">2ï¸âƒ£ created</h3>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>data å·²ç»å˜æˆå“åº”å¼æ•°æ®</li>
<li>methods å·²ç»å¯ä»¥æ­£å¸¸è°ƒç”¨</li>
<li>ä½† DOM è¿˜æ²¡æœ‰ç”Ÿæˆ</li>
</ul>
<p>å¦‚æœä½ åªå…³å¿ƒæ•°æ®ã€è€Œä¸ä¾èµ–é¡µé¢ç»“æ„ï¼Œ<code>created</code> æ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„é˜¶æ®µã€‚</p>
<hr/>
<h3 data-id="heading-6">3ï¸âƒ£ beforeMount</h3>
<p>æ­¤æ—¶ï¼š</p>
<ul>
<li>æ¨¡æ¿å·²ç»ç¼–è¯‘å®Œæˆ</li>
<li>è™šæ‹Ÿ DOM å·²ç»ç”Ÿæˆ</li>
<li>ä½†è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Š</li>
</ul>
<p>æ‰“å° <code>this.$el</code> ä¼šå‘ç°ï¼Œå®ƒè¿˜ä¸æ˜¯æœ€ç»ˆå‘ˆç°åœ¨é¡µé¢ä¸­çš„ DOMã€‚</p>
<hr/>
<h3 data-id="heading-7">4ï¸âƒ£ mountedï¼ˆæœ€é‡è¦ï¼‰</h3>
<p>è¿™æ˜¯ç”Ÿå‘½å‘¨æœŸä¸­<strong>ä½¿ç”¨é¢‘ç‡æœ€é«˜</strong>çš„ä¸€ä¸ªé’©å­ï¼š</p>
<ul>
<li>è™šæ‹Ÿ DOM å·²è½¬ä¸ºçœŸå® DOM</li>
<li>é¡µé¢å·²ç»å®Œæˆé¦–æ¬¡æ¸²æŸ“</li>
<li><code>$el</code> å°±æ˜¯é¡µé¢ä¸­çœŸå®å­˜åœ¨çš„ DOM</li>
</ul>
<p>å‡ ä¹æ‰€æœ‰æ¶‰åŠ DOMã€è§†å›¾ã€ç¬¬ä¸‰æ–¹åº“åˆå§‹åŒ–çš„é€»è¾‘ï¼Œéƒ½åº”è¯¥å†™åœ¨è¿™é‡Œã€‚</p>
<hr/>
<h3 data-id="heading-8">5ï¸âƒ£ beforeUpdate / updated</h3>
<p>å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼š</p>
<ul>
<li><code>beforeUpdate</code> åœ¨è§†å›¾æ›´æ–°ä¹‹å‰è§¦å‘</li>
<li><code>updated</code> åœ¨è§†å›¾æ›´æ–°ä¹‹åè§¦å‘</li>
</ul>
<p>å®ƒä»¬å¸¸ç”¨äºï¼š</p>
<ul>
<li>è°ƒè¯•</li>
<li>å¯¹æ¯”æ›´æ–°å‰åçš„çŠ¶æ€</li>
<li>å°‘é‡ç‰¹æ®Šåœºæ™¯ä¸‹çš„ DOM åŒæ­¥æ“ä½œ</li>
</ul>
<p>ä½†åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œ<strong>ä¸å»ºè®®æ»¥ç”¨æ›´æ–°é’©å­</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-9">6ï¸âƒ£ beforeDestroy / destroyed</h3>
<p>è¿™æ˜¯ Vue å®ä¾‹ç”Ÿå‘½å‘¨æœŸçš„ç»ˆç‚¹ï¼š</p>
<ul>
<li><code>beforeDestroy</code>ï¼šè¿˜èƒ½è®¿é—® data å’Œ methods</li>
<li><code>destroyed</code>ï¼šå®ä¾‹å·²ç»å½»åº•ä¸å¯ç”¨</li>
</ul>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒçœŸæ­£æœ‰ä»·å€¼çš„æ˜¯ <code>beforeDestroy</code>ï¼Œè€Œ <code>destroyed</code> å¾ˆå°‘ä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-10">äº”ã€ä»â€œè®°ç”Ÿå‘½å‘¨æœŸâ€åˆ°â€œä¼šç”¨ç”Ÿå‘½å‘¨æœŸâ€</h2>
<p>é€šè¿‡è¿™ä¸‰æ®µä»£ç å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œç”Ÿå‘½å‘¨æœŸå¹¶ä¸æ˜¯è®©äººæ­»è®°ç¡¬èƒŒçš„æµç¨‹å›¾ï¼Œè€Œæ˜¯ä¸€å¥—<strong>æ˜ç¡®è§£å†³å®é™…é—®é¢˜çš„æ—¶é—´èŠ‚ç‚¹æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>åˆå§‹åŒ–é€»è¾‘ â†’ <code>mounted</code></li>
<li>æ•°æ®å‡†å¤‡ â†’ <code>created</code></li>
<li>DOM æ“ä½œ â†’ <code>mounted</code></li>
<li>æ›´æ–°ç›‘å¬ â†’ <code>updated</code></li>
<li>æ¸…ç†èµ„æº â†’ <code>beforeDestroy</code></li>
</ul>
<p>å½“æˆ‘çœŸæ­£ç†è§£è¿™äº›é’©å­çš„<strong>è°ƒç”¨æ—¶æœºå’Œè®¾è®¡ç›®çš„</strong>ä¹‹åï¼Œå¾ˆå¤šä¹‹å‰â€œå†™ç€å†™ç€å°±å‡º bugâ€çš„é—®é¢˜ï¼Œéƒ½ä¼šè‡ªç„¶æ¶ˆå¤±ã€‚</p>
<p>Vue ç”Ÿå‘½å‘¨æœŸçš„å­¦ä¹ é‡ç‚¹ï¼Œä»æ¥ä¸æ˜¯â€œæœ‰å¤šå°‘ä¸ªé’©å­â€ï¼Œè€Œæ˜¯â€”â€”<br/>
<strong>åœ¨å¯¹çš„æ—¶é—´ï¼Œåšå¯¹çš„äº‹ã€‚</strong></p>
<h2 data-id="heading-11">å…­ã€æ€»ç»“</h2>
<p>Vueç”Ÿå‘½å‘¨æœŸé’©å­ä¸ºå¼€å‘è€…æä¾›äº†åœ¨ç‰¹å®šé˜¶æ®µä»‹å…¥å®ä¾‹ç”Ÿå‘½å‘¨æœŸçš„èƒ½åŠ›ã€‚é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›é’©å­ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li>åœ¨æ­£ç¡®æ—¶æœºæ‰§è¡Œåˆå§‹åŒ–æ“ä½œ</li>
<li>æœ‰æ•ˆç®¡ç†èµ„æºï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</li>
<li>ä¼˜åŒ–åº”ç”¨æ€§èƒ½</li>
<li>æ›´å¥½åœ°ç†è§£å’Œæ§åˆ¶åº”ç”¨çŠ¶æ€</li>
</ul>
<p>æŒæ¡ç”Ÿå‘½å‘¨æœŸä¸ä»…æœ‰åŠ©äºç¼–å†™æ›´å¥å£®çš„Vueåº”ç”¨ï¼Œä¹Ÿæ˜¯æ·±å…¥ç†è§£Vueå“åº”å¼ç³»ç»Ÿå·¥ä½œåŸç†çš„å…³é”®ã€‚å»ºè®®å¼€å‘è€…åœ¨å®é™…é¡¹ç›®ä¸­å¤šå®è·µã€å¤šè§‚å¯Ÿï¼Œé€æ­¥å½¢æˆå¯¹ç”Ÿå‘½å‘¨æœŸå„é˜¶æ®µçš„ç›´è§‚æ„Ÿå—ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day30 | Javaé›†åˆæ¡†æ¶ä¹‹Collectionså·¥å…·ç±»]]></title>    <link>https://juejin.cn/post/7583943503556280370</link>    <guid>https://juejin.cn/post/7583943503556280370</guid>    <pubDate>2025-12-16T01:11:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583943503556280370" data-draft-id="7583912637471309875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day30 | Javaé›†åˆæ¡†æ¶ä¹‹Collectionså·¥å…·ç±»"/> <meta itemprop="keywords" content="åç«¯,Java,Java EE"/> <meta itemprop="datePublished" content="2025-12-16T01:11:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡’æƒ°èœ—ç‰›"/> <meta itemprop="url" content="https://juejin.cn/user/615342556327752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day30 | Javaé›†åˆæ¡†æ¶ä¹‹Collectionså·¥å…·ç±»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/615342556327752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡’æƒ°èœ—ç‰›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T01:11:57.000Z" title="Tue Dec 16 2025 01:11:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Day26~29çš„æ–‡ç« æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†Javaé›†åˆæ¡†æ¶çš„ä¸‰å¤§æ ¸å¿ƒæ¥å£ï¼šListã€Setå’ŒMapã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹java.util.Collectionsç±»ï¼Œæ³¨æ„ä¸æ˜¯ä¹‹å‰æˆ‘ä»¬æåˆ°çš„Collectionã€‚</p>
<p>Collectionæ¥å£å®šä¹‰äº†é›†åˆçš„æ˜¯ä»€ä¹ˆï¼Œå¤šäº†ä¸ªsçš„Collectionsæ˜¯ä¸€å¥—é›†åˆæ“ä½œçš„å·¥å…·ç®±ã€‚</p>
<p>Collectionsé‡Œæä¾›äº†å¾ˆå¤šå¼ºå¤§ã€æ–¹ä¾¿çš„é™æ€æ–¹æ³•ï¼Œèƒ½æå¤§ç®€åŒ–æˆ‘ä»¬å¯¹é›†åˆçš„æ“ä½œã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é›†åˆæ’åº</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯¹æ•°æ®è¿›è¡Œæ’åºæ˜¯æœ€å¸¸è§çš„éœ€æ±‚ä¹‹ä¸€ã€‚Collections.sort() æ–¹æ³•å¯ä»¥è½»æ¾åœ°å¯¹ä»»ä½•Listé›†åˆè¿›è¡Œæ’åºã€‚</p>
<h3 data-id="heading-1">1.1è‡ªç„¶æ’åº</h3>
<p>å¦‚æœListé‡Œçš„å…ƒç´ å®ç°äº†Comparableæ¥å£ï¼ˆå¦‚Integer, String ç­‰ï¼‰ï¼Œsortæ–¹æ³•ä¼šæŒ‰ç…§å®ƒä»¬çš„è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5bcd28af23a415dba43b89555c3509d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=KKQspnKSwENDYBmxrUsiciwvqDc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c0a581789f945159e134a5b6555f640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=R9xRQ7y90LjLq3ul1nOuWrHEIvc%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 15:13
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; numbers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        numbers.add(<span class="hljs-number">5</span>);
        numbers.add(<span class="hljs-number">1</span>);
        numbers.add(<span class="hljs-number">9</span>);
        numbers.add(<span class="hljs-number">3</span>);

        System.out.println(<span class="hljs-string">"æ’åºå‰: "</span> + numbers);
        Collections.sort(numbers);
        System.out.println(<span class="hljs-string">"æ’åºå: "</span> + numbers);
    }
}
</code></pre>
<p>æ¡ˆä¾‹ä¸­ä½¿ç”¨äº†Collectionsçš„sortæ–¹æ³•ï¼Œä½¿ç”¨å¯¹è±¡çš„è‡ªç„¶æ’åºå¯¹listè¿›è¡Œæ’åºã€‚</p>
<h3 data-id="heading-2">1.2è‡ªå®šä¹‰æ’åº</h3>
<p>å¦‚æœæˆ‘ä»¬è¦å¯¹è‡ªå®šä¹‰å¯¹è±¡ï¼ˆå¦‚Studentï¼‰è¿›è¡Œæ’åºï¼Œsortæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªæ¥å—Comparator(æ¯”è¾ƒå™¨)çš„ç‰ˆæœ¬ï¼Œè®©æˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°å®šä¹‰æ’åºè§„åˆ™ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.Comparator;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo2
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 15:21
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Student&gt; students = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        students.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>, <span class="hljs-number">28</span>));
        students.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"lazysnail"</span>, <span class="hljs-number">29</span>));

        <span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»å†™æ³•</span>
        Collections.sort(students, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Student&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Student o1, Student o2)</span> {
                <span class="hljs-keyword">return</span> o1.age - o2.age;
            }
        });

        <span class="hljs-comment">// Lambdaè¡¨è¾¾å¼</span>
        Collections.sort(students, (o1, o2) -&gt; o1.age - o2.age);

        <span class="hljs-comment">// Comparatorå·¥å…·æ–¹æ³•</span>
        Collections.sort(students, Comparator.comparingInt(o -&gt; o.age));
        
        System.out.println(<span class="hljs-string">"æŒ‰å¹´é¾„æ’åºå: "</span> + students);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    String name;
    <span class="hljs-type">int</span> age;
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> { <span class="hljs-built_in">this</span>.name = name; <span class="hljs-built_in">this</span>.age = age; }
    <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name + <span class="hljs-string">":"</span> + age; }
}
</code></pre>
<p>ä¸Šé¢çš„æ¡ˆä¾‹ä¸­Comparatorçš„åˆ›å»ºä½¿ç”¨äº†ä¸‰ç§å†™æ³•ï¼š</p>
<p>Java8ä¹‹å‰ä¼ ç»Ÿå†™æ³•ï¼Œä½¿ç”¨åŒ¿åå†…éƒ¨ç±»å®ç°Comparatoræ¥å£ã€‚</p>
<p>Java8+çš„Lambdaè¡¨è¾¾å¼ï¼Œè¿™ä¸ªå…¶å®æ˜¯åŒ¿åå†…éƒ¨ç±»çš„è¯­æ³•ç³–ã€‚</p>
<p>Comparatoræ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼ˆåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Lambdaæ›¿ä»£ã€‚</p>
<p>Comparator.comparingInt()æ˜¯Comparatoræä¾›çš„é™æ€å·¥å‚æ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥å¯¹intç±»å‹å­—æ®µçš„æ¯”è¾ƒã€‚</p>
<p>å†…éƒ¨å°è£…äº†compareçš„é€»è¾‘ã€‚</p>
<p>å…¶å®è‡ªJava8ä¹‹åï¼ŒListæ¥å£è‡ªèº«æä¾›äº†ä¸€ä¸ªsort()æ–¹æ³•ã€‚å¯ä»¥ç›´æ¥åœ¨åˆ—è¡¨å¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">students.sort((o1, o2) -&gt; o1.age - o2.age)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a95e0811d10741b695bfa6fa169dc691~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=lRn1q%2B3XPWrhas94uBHDGqP%2BfDA%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>åœ¨<a href="https://juejin.cn/post/7582425536464863258" target="_blank" title="https://juejin.cn/post/7582425536464863258">Day28 | Javaé›†åˆæ¡†æ¶ä¹‹Setæ¥å£è¯¦è§£</a>ä¸­çš„TreeSetè®²è§£ä¸­è®²åˆ°äº†è‡ªç„¶æ’åºå’Œè‡ªå®šä¹‰æ’åºï¼Œå¯ä»¥å›é¡¾ä¸‹ã€‚</p>
</blockquote>
<h2 data-id="heading-3">äºŒã€æŸ¥æ‰¾</h2>
<p>å¯¹äºä¸€ä¸ªå·²ç»æ’å¥½åºçš„Listï¼ŒbinarySearchæ–¹æ³•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œæ•ˆç‡è¦é«˜äºéå†ã€‚</p>
<blockquote>
<p>ä½¿ç”¨binarySearchä¹‹å‰ï¼Œåˆ—è¡¨å¿…é¡»æ˜¯æœ‰åºçš„ï¼å¦åˆ™ï¼Œç»“æœå°±ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-4">æ•ˆç‡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo3
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 15:52
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo3</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1_000_000</span>; i++) {
            list.add(i);
        }

        <span class="hljs-type">int</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> <span class="hljs-number">987654</span>;

        <span class="hljs-comment">// éå†</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">start1</span> <span class="hljs-operator">=</span> System.nanoTime();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size(); i++) {
            <span class="hljs-keyword">if</span> (list.get(i) == target) {
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">end1</span> <span class="hljs-operator">=</span> System.nanoTime();
        System.out.println(<span class="hljs-string">"éå†æŸ¥æ‰¾è€—æ—¶: "</span> + (end1 - start1) / <span class="hljs-number">1_000_000.0</span> + <span class="hljs-string">" ms"</span>);

        <span class="hljs-comment">// binarySearch</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">start2</span> <span class="hljs-operator">=</span> System.nanoTime();
        Collections.binarySearch(list, target);
        <span class="hljs-type">long</span> <span class="hljs-variable">end2</span> <span class="hljs-operator">=</span> System.nanoTime();
        System.out.println(<span class="hljs-string">"binarySearchæŸ¥æ‰¾è€—æ—¶: "</span> + (end2 - start2) / <span class="hljs-number">1_000_000.0</span> + <span class="hljs-string">" ms"</span>);
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4e549668a45483ab8366dccc91c1bb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=5FVAEMFJ6HjSl4csM7TcgzHEuxg%3D" alt="" loading="lazy"/></p>
<p>ä»è¿è¡Œçš„ç»“æœçœ‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡æ¯”æ™®é€šéå†çš„æ•ˆç‡é«˜å¾—å¤šã€‚</p>
<p>äºŒåˆ†æŸ¥æ‰¾è¿™ç§ç®—æ³•ï¼Œæ¯æ¬¡éƒ½èƒ½æ’é™¤æ‰ä¸€åŠçš„æ•°æ®ã€‚ç›¸è¾ƒäºæ™®é€šéå†çš„çº¿æ€§æœç´ ã€‚</p>
<p>åœ¨æ•°æ®é‡å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦è¦è¿œè¿œä½äºæ™®é€šéå†ã€‚</p>
<h3 data-id="heading-5">æœªæ’åºä½¿ç”¨binarySearch</h3>
<p>å¦‚æœå¯¹æ²¡æœ‰æ’åºçš„åˆ—è¡¨è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œç»“æœå°±æ˜¯æ‰¾ä¸åˆ°æ•°æ®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo4
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 16:08
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo4</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; list = Arrays.asList(<span class="hljs-number">50</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>, <span class="hljs-number">10</span>, <span class="hljs-number">30</span>);

        System.out.println(<span class="hljs-string">"åˆ—è¡¨å†…å®¹: "</span> + list);

        <span class="hljs-comment">// æƒ³æŸ¥æ‰¾å…ƒç´  30</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> Collections.binarySearch(list, <span class="hljs-number">30</span>);

        System.out.println(<span class="hljs-string">"binarySearch æŸ¥æ‰¾ç»“æœç´¢å¼•: "</span> + index);

    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/deadb0ff1de141d7affa04ab5ff397d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=oNQtl087t9qV2GcLSe8pvqH%2BSEo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸‰ã€çº¿ç¨‹å®‰å…¨è½¬æ¢</h2>
<p>æˆ‘ä»¬ç»å¸¸ç”¨çš„ArrayListã€HashMapç­‰éƒ½æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¹¶å‘ä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®é”™ä¹±ã€‚</p>
<p>Collectionsæä¾›äº†ä¸€ç³»åˆ—synchronizedXXX() æ–¹æ³•ï¼Œå¯ä»¥æŠŠå®ƒä»¬åŒ…è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3abc9a4b9db4efd8b3004e06ef7750a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=spG4chXEl49DrU9Ngua65y%2Fkq%2Fk%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.*;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo5
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 16:26
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo5</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        List&lt;String&gt; safeList = Collections.synchronizedList(list);

        safeList.add(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>);

        <span class="hljs-comment">//Set&lt;T&gt; safeSet = Collections.synchronizedSet(new HashSet&lt;&gt;());</span>
        <span class="hljs-comment">//Map&lt;K, V&gt; safeMap = Collections.synchronizedMap(new HashMap&lt;&gt;());</span>
    }
}
</code></pre>
<p>listæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ArrayListï¼Œé€šè¿‡Collectionsä¸­çš„synchronizedListæ–¹æ³•ã€‚</p>
<p>å°†æ™®é€šçš„ArrayListå°è£…æˆäº†çº¿ç¨‹å®‰å…¨çš„Listã€‚ä¹‹åå¯¹listçš„æ“ä½œå°±æ˜¯å®‰å…¨çš„ã€‚</p>
<p>setã€mapåŒæ ·æœ‰å¯¹åº”çš„æ–¹æ³•å°†ä¸å®‰å…¨çš„é›†åˆå°è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¿™ä¸ªæ“ä½œåªä¿è¯äº†å•ä¸ªæ–¹æ³•ï¼ˆå¦‚add, getï¼‰æ˜¯åŸå­çš„ã€‚å¯¹äºå¤åˆæ“ä½œï¼ˆæ¯”å¦‚â€œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ·»åŠ â€ï¼‰ï¼Œä»ç„¶éœ€è¦è‡ªå·±ä½¿ç”¨synchronizedå…³é”®å­—æ¥ä¿è¯æ•´ä¸ªæ“ä½œçš„åŸå­æ€§ã€‚</p>
</blockquote>
<h2 data-id="heading-7">å››ã€åˆ›å»ºä¸å¯å˜å’Œç©ºé›†åˆ</h2>
<h3 data-id="heading-8">ä¸å¯å˜</h3>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„é›†åˆï¼Œè¿™ä¸ªé›†åˆä¸è®©ä¿®æ”¹ã€‚å°±å¯ä»¥ç”¨Collectionsä¸­çš„unmodifiableXXX()æ–¹æ³•åˆ›å»ºåªè¯»çš„é›†åˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e76d38813494a7392f285ddff19fd96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=tm5qZWARW3Qmm9o355MMezdrU1s%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo6
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 16:56
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo6</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        list.add(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>);
        List&lt;String&gt; unmodifiableList = Collections.unmodifiableList(list);

        <span class="hljs-comment">//unmodifiableList.add("lazysnail");</span>
        unmodifiableList.remove(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>);
    }
}
</code></pre>
<p>å¦‚æœæƒ³å¯¹è¿™æ ·çš„é›†åˆè¿›è¡Œaddæˆ–removeç­‰æ“ä½œï¼Œå°±ä¼šæŠ›å‡ºUnsupportedOperationExceptionå¼‚å¸¸ã€‚</p>
<p>ä»Java9å¼€å§‹ï¼ŒList, Set, Mapæ¥å£è‡ªèº«æä¾›äº†æ›´æ–¹ä¾¿çš„é™æ€of()æ–¹æ³•æ¥ç›´æ¥åˆ›å»ºçœŸæ­£çš„ä¸å¯å˜é›†åˆã€‚</p>
<p>è¿™ç§æ–¹å¼åœ¨å®é™…å¼€å‘ä¸­æ›´åŠ å¸¸è§ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯çœŸæ­£çš„ä¸å¯å˜å‘ã€‚å›çœ‹ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œç¨ä½œä¸€ä¸‹ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo6
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 16:56
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo6</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        list.add(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>);
        List&lt;String&gt; unmodifiableList = Collections.unmodifiableList(list);

        System.out.println(<span class="hljs-string">"åŸé›†åˆä¿®æ”¹å‰çš„unmodifiableList:"</span> + unmodifiableList);

        list.add(<span class="hljs-string">"lazysnail"</span>);

        System.out.println(<span class="hljs-string">"åŸé›†åˆä¿®æ”¹åçš„unmodifiableList:"</span> + unmodifiableList);
    }
}
</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼ŒunmodifiableListå¹¶æ²¡æœ‰æ”¹å˜åŸé›†åˆçš„å¯å˜æ€§ï¼Œåªæ˜¯åŠ äº†ä¸€å±‚åªè¯»å¤–å£³ã€‚</p>
<p>å¦‚æœåŸé›†åˆä¸€æ—¦è¢«å¤–éƒ¨å¼•ç”¨æŒæœ‰ï¼Œä»ç„¶å¯ä»¥ä¿®æ”¹ã€‚</p>
<p>è€ŒList.of(...) æ˜¯çœŸæ­£çš„ä¸å¯å˜å¯¹è±¡ï¼Œå†…éƒ¨ç»“æ„ä¸å…è®¸ä»»ä½•ä¿®æ”¹æ“ä½œã€‚</p>
<p>æ‰€æœ‰å˜æ›´æ“ä½œï¼ˆaddã€removeã€setï¼‰éƒ½ä¼šç›´æ¥æŠ›UnsupportedOperationExceptionã€‚</p>
<pre><code class="hljs language-java" lang="java">List&lt;String&gt; list1 = List.of(<span class="hljs-string">"æ‡’æƒ°èœ—ç‰›"</span>);
list1.add(<span class="hljs-string">"lazysnail"</span>);
</code></pre>
<p>"list1.add("lazysnail");"å°±ä¼šæŠ›å‡ºUnsupportedOperationExceptionã€‚</p>
<h3 data-id="heading-9">ç©ºé›†åˆ</h3>
<p>å¾ˆå¤šè¿”å›é›†åˆçš„æ–¹æ³•ï¼Œå¦‚æœç›´æ¥è¿”å›nullï¼Œä¿ä¸å‡†ä»€ä¹ˆæ—¶å€™å°±ä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<p>å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæœ€å¥½è¿˜æ˜¯è¿”å›ä¸€ä¸ªç©ºé›†åˆã€‚</p>
<p>Collectionsçš„emptyList(), emptySet(), emptyMap()å°±æ´¾ä¸Šäº†ç”¨åœºã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day30;

<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day30Demo7
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/7 17:14
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day30Demo7</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String&gt; <span class="hljs-title function_">findUsers</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-comment">// if æ‰¾åˆ°</span>

        <span class="hljs-comment">// else</span>
        <span class="hljs-keyword">return</span> Collections.emptyList();
    }
}
</code></pre>
<p>å¯èƒ½ä½ ä¼šè¯´ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥returnçš„æ—¶å€™ç›´æ¥new ArrayList&lt;&gt;()ã€‚</p>
<p>æ¯æ¬¡returnçš„æ—¶å€™ï¼Œéƒ½å»newä¸€ä¸ªå¯¹è±¡ï¼Œè¿˜æ˜¯æœ‰å¼€é”€çš„ï¼Œèƒ½çœåˆ™çœã€‚</p>
<p>Collectionsçš„emptyList()è¿”å›çš„æ˜¯ä¸€ä¸ªä¸å¯å˜çš„ã€çº¿ç¨‹å®‰å…¨çš„ã€å¯è¢«åºåˆ—åŒ–çš„ç©ºé›†åˆã€‚</p>
<p>æ¯æ¬¡è¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªé™æ€å®ä¾‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c72d9ae779684a6c9fc2e2c248eed418~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766452317&amp;x-signature=KJt8053qJlwu8QUJKfy2tRkQF2w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">äº”ã€å…¶ä»–</h2>
<p>Collectionsä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å°å·¥å…·ï¼š</p>
<p>reverse(List&lt;?&gt; list): åè½¬Listä¸­å…ƒç´ çš„é¡ºåºã€‚</p>
<p>shuffle(List&lt;?&gt; list): éšæœºæ‰“ä¹±Listä¸­å…ƒç´ çš„é¡ºåºã€‚</p>
<p>max(Collection coll) / min(Collection coll): æ‰¾åˆ°é›†åˆä¸­çš„æœ€å¤§/æœ€å°å…ƒç´ ã€‚</p>
<p>fill(List&lt;?&gt; list, T obj): ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢Listä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<p>æ›´å¤šçš„æ–¹æ³•å‚è§APIæ–‡æ¡£ï¼š</p>
<p>Collections (Java SE 17 &amp; JDK 17)docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html</p>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p>Collectionsä¸­æœ‰éå¸¸å¤šå…³äºé›†åˆçš„æ“ä½œå·¥å…·ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬åªæ˜¯ä¸€èµ·çœ‹äº†ä¸€ä¸‹æ’åºã€æŸ¥æ‰¾ã€çº¿ç¨‹å®‰å…¨ã€åˆ›å»ºä¸å¯å˜é›†åˆç­‰å¸¸è§çš„åŠŸèƒ½ã€‚</p>
<p>è¿™äº›å·¥å…·éƒ½èƒ½å¤Ÿåœ¨å®é™…å¼€å‘ä¸­å¸®æˆ‘ä»¬è®©ä»£ç æ›´åŠ ç®€æ´ï¼Œè®©é›†åˆæ“ä½œæ›´åŠ ä¾¿æ·é«˜æ•ˆã€‚</p>
<p>Collectionsé‡Œçš„æ–¹æ³•ä¸éœ€è¦å–æ­»è®°ç¡¬èƒŒï¼Œåœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæ¶‰åŠæ“ä½œé›†åˆï¼Œ</p>
<p>å¯ä»¥ç¿»çœ‹ä¸€ä¸‹APIæ–‡æ¡£ï¼Œå¦‚æœæœ‰åˆé€‚çš„å·¥å…·ï¼Œä½¿ç”¨å³å¯ã€‚</p>
<p>ä¸‹ä¸€ç¯‡é¢„å‘Š</p>
<blockquote>
<p>Day31 | Lambdaè¡¨è¾¾å¼ä¸å‡½æ•°å¼æ¥å£</p>
</blockquote>
<p>å¦‚æœä½ è§‰å¾—è¿™ç³»åˆ—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨ä¸“æ ï¼Œæˆ‘ä»¬ä¸€èµ·åšæŒä¸‹å»ï¼</p>
<p><strong>æ›´å¤šæ–‡ç« è¯·å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Šæ‡’æƒ°èœ—ç‰›å·¥åŠã€‹</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Webpack vs Vite æ ¹æœ¬è®¾è®¡åŸç†æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆä¸¤è€…å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583910418659541038</link>    <guid>https://juejin.cn/post/7583910418659541038</guid>    <pubDate>2025-12-16T00:40:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583910418659541038" data-draft-id="7579215538271174666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Webpack vs Vite æ ¹æœ¬è®¾è®¡åŸç†æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆä¸¤è€…å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T00:40:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ycgg"/> <meta itemprop="url" content="https://juejin.cn/user/1926000101039192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Webpack vs Vite æ ¹æœ¬è®¾è®¡åŸç†æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆä¸¤è€…å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1926000101039192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ycgg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T00:40:29.000Z" title="Tue Dec 16 2025 00:40:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Webpack vs Vite æ ¹æœ¬è®¾è®¡åŸç†æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆä¸¤è€…å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿ</h2>
<p>ä¹‹å‰çš„å¯¹æ¯”æ›´å¤šèšç„¦äºâ€œè¡¨é¢å·®å¼‚â€ï¼Œä½†ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«æºäº <strong>åº•å±‚è®¾è®¡å“²å­¦å’ŒæŠ€æœ¯é€‰å‹çš„æ ¹æœ¬ä¸åŒ</strong>â€”â€”ç®€å•è¯´ï¼š</p>
<ul>
<li>Webpack çš„è®¾è®¡æ ¸å¿ƒæ˜¯ã€Œ<strong>å…¨åœºæ™¯å…¼å®¹çš„æå‰æ‰“åŒ…å“²å­¦</strong>ã€ï¼šæ— è®ºç¯å¢ƒã€æ— è®ºæ¨¡å—ç±»å‹ï¼Œéƒ½é€šè¿‡â€œæå‰è§£ææ‰€æœ‰ä¾èµ–ã€æ‰“åŒ…ä¸º bundleâ€å®ç°ç»Ÿä¸€å¤„ç†ï¼›</li>
<li>Vite çš„è®¾è®¡æ ¸å¿ƒæ˜¯ã€Œ<strong>ç°ä»£æµè§ˆå™¨ä¼˜å…ˆçš„å³æ—¶æ„å»ºå“²å­¦</strong>ã€ï¼šåˆ©ç”¨ç°ä»£æµè§ˆå™¨åŸç”Ÿèƒ½åŠ›ï¼ˆES æ¨¡å—ï¼‰ï¼Œæ‹†åˆ†â€œå¼€å‘æ—¶â€å’Œâ€œç”Ÿäº§æ—¶â€æµç¨‹ï¼ŒæŒ‰éœ€å¤„ç†æ¨¡å—ï¼Œæ”¾å¼ƒå¯¹è€åœºæ™¯çš„è¿‡åº¦å…¼å®¹ã€‚</li>
</ul>
<p>æœ¬æ–‡å°†ä»ã€Œè®¾è®¡åˆè¡·ã€æ ¸å¿ƒåŸç†ã€åº•å±‚å®ç°ã€ä¸‰ä¸ªç»´åº¦ï¼Œæ‰’é€ä¸¤è€…çš„æ ¹æœ¬å·®å¼‚ï¼Œè®©ä½ æ˜ç™½â€œä¸ºä»€ä¹ˆ Vite æ›´å¿«â€â€œä¸ºä»€ä¹ˆ Webpack æ›´å…¨èƒ½â€ä¸æ˜¯å¶ç„¶ï¼Œè€Œæ˜¯è®¾è®¡ä¹‹åˆå°±å®šå¥½çš„æ–¹å‘ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆç»Ÿä¸€è®¤çŸ¥ï¼šä»€ä¹ˆæ˜¯â€œæ„å»ºå·¥å…·çš„æ ¹æœ¬åŸç†â€ï¼Ÿ</h3>
<p>æ„å»ºå·¥å…·çš„æ ¸å¿ƒä½¿å‘½æ˜¯ï¼š<strong>å°†åˆ†æ•£çš„æºç æ¨¡å—ï¼ˆJS/TS/CSS/å›¾ç‰‡ç­‰ï¼‰ï¼Œé€šè¿‡â€œä¾èµ–è§£æã€è½¬è¯‘ã€ä¼˜åŒ–ã€åˆå¹¶â€ï¼Œæœ€ç»ˆç”Ÿæˆæµè§ˆå™¨/Node.js å¯æ‰§è¡Œçš„äº§ç‰©</strong>ã€‚</p>
<p>è€Œâ€œæ ¹æœ¬è®¾è®¡åŸç†â€ï¼Œå°±æ˜¯è§£å†³ä»¥ä¸‹ 3 ä¸ªæ ¸å¿ƒé—®é¢˜çš„â€œå†³ç­–é€»è¾‘â€ï¼š</p>
<ol>
<li><strong>ä½•æ—¶å¤„ç†æ¨¡å—ï¼Ÿ</strong>ï¼ˆæå‰ä¸€æ¬¡æ€§å¤„ç† vs æŒ‰éœ€å®æ—¶å¤„ç†ï¼‰</li>
<li><strong>å¦‚ä½•è§£æä¾èµ–ï¼Ÿ</strong>ï¼ˆé€’å½’æ„å»ºä¾èµ–å›¾ vs ä¾èµ–æµè§ˆå™¨åŸç”Ÿè§£æï¼‰</li>
<li><strong>å¦‚ä½•æ‰©å±•åŠŸèƒ½ï¼Ÿ</strong>ï¼ˆåˆ†å±‚æ¶æ„ vs å•ä¸€æ’ä»¶ä½“ç³»ï¼‰</li>
</ol>
<p>Webpack å’Œ Vite çš„æ‰€æœ‰å·®å¼‚ï¼Œéƒ½æºäºå¯¹è¿™ 3 ä¸ªé—®é¢˜çš„ä¸åŒå›ç­”ã€‚</p>
<h3 data-id="heading-2">äºŒã€Webpack æ ¹æœ¬è®¾è®¡åŸç†ï¼šå…¨åœºæ™¯å…¼å®¹çš„â€œæå‰æ‰“åŒ…â€å“²å­¦</h3>
<h4 data-id="heading-3">1. è®¾è®¡åˆè¡·ï¼šè§£å†³â€œå‰ç«¯æ¨¡å—æ··ä¹±â€çš„å†å²ç—›ç‚¹</h4>
<p>Webpack è¯ç”Ÿäº 2012 å¹´ï¼Œå½“æ—¶å‰ç«¯è¿˜æ²¡æœ‰ç»Ÿä¸€çš„æ¨¡å—æ ‡å‡†ï¼ˆCommonJS/AMD/UMD å¹¶å­˜ï¼‰ï¼Œä¾èµ–ç®¡ç†æ··ä¹±ï¼Œæ²¡æœ‰å·¥å…·èƒ½å°†å„ç§ç±»å‹çš„æ–‡ä»¶ï¼ˆJSã€CSSã€å›¾ç‰‡ï¼‰ç»Ÿä¸€å¤„ç†ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„èµ„æºã€‚</p>
<p>Webpack çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯ï¼š<strong>æä¾›ä¸€ä¸ªâ€œä¸‡èƒ½æ‰“åŒ…å™¨â€ï¼Œå…¼å®¹æ‰€æœ‰æ¨¡å—ç±»å‹ã€æ‰€æœ‰æ¨¡å—æ ‡å‡†ã€æ‰€æœ‰è¿è¡Œç¯å¢ƒï¼Œè®©å¼€å‘è€…æ— éœ€å…³å¿ƒåº•å±‚å…¼å®¹ï¼Œä¸“æ³¨ä¸šåŠ¡ä»£ç </strong>ã€‚</p>
<h4 data-id="heading-4">2. æ ¸å¿ƒåŸç†ï¼šâ€œä¾èµ–å›¾ + å…¨é‡æ‰“åŒ… + åˆ†å±‚æ‰©å±•â€</h4>
<p>Webpack çš„æ ¹æœ¬é€»è¾‘æ˜¯ã€Œ<strong>æå‰æŠŠæ‰€æœ‰äº‹åšå®Œ</strong>ã€ï¼Œæ— è®ºå¼€å‘è¿˜æ˜¯ç”Ÿäº§ï¼Œéƒ½éµå¾ªâ€œå…¨é‡å¤„ç†â€æµç¨‹ï¼Œæ ¸å¿ƒåˆ†ä¸º 3 å±‚ï¼š</p>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰ç¬¬ä¸€å±‚ï¼šâ€œä¸€åˆ‡çš†æ¨¡å—â€ + é€’å½’æ„å»ºä¾èµ–å›¾</h5>
<p>Webpack è®¤ä¸ºâ€œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯æ¨¡å—â€ï¼ˆJSã€CSSã€å›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰ï¼Œæ ¸å¿ƒæ­¥éª¤ï¼š</p>
<ol>
<li>ä»å…¥å£æ–‡ä»¶ï¼ˆå¦‚ <code>src/index.js</code>ï¼‰å¼€å§‹ï¼Œé€šè¿‡ <strong>AST è¯­æ³•è§£æ</strong>ï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œæ‰¾å‡ºæ‰€æœ‰ <code>import</code>/<code>require</code> ä¾èµ–ï¼›</li>
<li>é€’å½’è§£ææ¯ä¸ªä¾èµ–çš„ä¾èµ–ï¼Œç›´åˆ°æ‰€æœ‰æ¨¡å—éƒ½è¢«æ‰¾åˆ°ï¼Œæœ€ç»ˆæ„å»ºå‡ºä¸€ä¸ªã€Œå®Œæ•´çš„ä¾èµ–å…³ç³»å›¾ã€ï¼ˆDependency Graphï¼‰ï¼›</li>
<li>æ‰€æœ‰æ¨¡å—éƒ½è¢«çº³å…¥è¿™ä¸ªå›¾ä¸­ï¼Œåç»­çš„è½¬è¯‘ã€ä¼˜åŒ–ã€åˆå¹¶éƒ½åŸºäºè¿™ä¸ªå›¾è¿›è¡Œã€‚</li>
</ol>
<p><strong>åº•å±‚æŠ€æœ¯æ”¯æ’‘</strong>ï¼šä½¿ç”¨ <code>acorn</code> åº“è§£æ JS ç”Ÿæˆ ASTï¼Œéå† AST æ‰¾åˆ°ä¾èµ–å£°æ˜ï¼Œå®ç°é€’å½’è§£æã€‚</p>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰ç¬¬äºŒå±‚ï¼šâ€œå…¨é‡æ‰“åŒ…â€æµç¨‹ï¼ˆå¼€å‘/ç”Ÿäº§ä¸€è‡´ï¼‰</h5>
<p>æ— è®ºå¼€å‘è¿˜æ˜¯ç”Ÿäº§ï¼ŒWebpack éƒ½ä¼šå®Œæ•´æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼Œæ²¡æœ‰â€œæŒ‰éœ€å¤„ç†â€ï¼š</p>
<pre><code class="hljs">åˆå§‹åŒ–ï¼ˆè¯»å–é…ç½®ï¼‰â†’ ç¼–è¯‘ï¼ˆæ„å»ºä¾èµ–å›¾+Loader è½¬è¯‘ï¼‰â†’ ä¼˜åŒ–ï¼ˆChunk åˆå¹¶+Tree-shakingï¼‰â†’ è¾“å‡ºï¼ˆå†™å…¥ç£ç›˜ï¼‰
</code></pre>
<ul>
<li><strong>å¼€å‘æ—¶æ²¡æœ‰â€œç‰¹æ®Šå¾…é‡â€</strong>ï¼šå³ä½¿æ˜¯å¼€å‘ç¯å¢ƒï¼Œä¹Ÿéœ€è¦å…ˆæ„å»ºå®Œä¾èµ–å›¾ã€è½¬è¯‘æ‰€æœ‰æ¨¡å—ï¼Œæ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè¿™å°±æ˜¯ Webpack å†·å¯åŠ¨æ…¢çš„æ ¹æœ¬åŸå› ï¼‰ï¼›</li>
<li><strong>çƒ­æ›´æ–°ï¼ˆHMRï¼‰çš„æœ¬è´¨</strong>ï¼šä¿®æ”¹æ–‡ä»¶åï¼ŒWebpack ä¼šé‡æ–°è§£æè¯¥æ¨¡å—åŠå…¶ä¾èµ–é“¾ï¼Œæ›´æ–°ä¾èµ–å›¾ï¼Œé‡æ–°è½¬è¯‘å¹¶æ›¿æ¢å¯¹åº”çš„ Chunkï¼Œè€Œéä»…å¤„ç†ä¿®æ”¹çš„æ–‡ä»¶ã€‚</li>
</ul>
<h5 data-id="heading-7">ï¼ˆ3ï¼‰ç¬¬ä¸‰å±‚ï¼šâ€œLoader + Pluginâ€åˆ†å±‚æ‰©å±•æ¶æ„</h5>
<p>ä¸ºäº†å®ç°â€œå…¨åœºæ™¯å…¼å®¹â€ï¼ŒWebpack è®¾è®¡äº†åˆ†å±‚æ‰©å±•æœºåˆ¶ï¼Œé¿å…æ ¸å¿ƒé€»è¾‘è‡ƒè‚¿ï¼š</p>
<ul>
<li><strong>Loader å±‚</strong>ï¼šè´Ÿè´£â€œæ¨¡å—è½¬è¯‘â€ï¼ˆè§£å†³â€œä¸åŒç±»å‹æ¨¡å—å¦‚ä½•è½¬ä¸º JS æ¨¡å—â€ï¼‰ï¼›
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šé JS æ¨¡å—æ— æ³•ç›´æ¥è¿›å…¥ä¾èµ–å›¾ï¼Œå¿…é¡»é€šè¿‡ Loader è½¬è¯‘ä¸º JS æ¨¡å—ï¼ˆå¦‚ CSSâ†’JS å­—ç¬¦ä¸²ã€å›¾ç‰‡â†’Base64/è·¯å¾„ï¼‰ï¼›</li>
<li>è®¾è®¡æ€è·¯ï¼šå•ä¸€èŒè´£ï¼Œæ¯ä¸ª Loader åªåšä¸€ä»¶äº‹ï¼ˆå¦‚ <code>css-loader</code> è§£æ CSS ä¾èµ–ï¼Œ<code>style-loader</code> æ³¨å…¥æ ·å¼ï¼‰ï¼Œé€šè¿‡é“¾å¼è°ƒç”¨ç»„åˆåŠŸèƒ½ã€‚</li>
</ul>
</li>
<li><strong>Plugin å±‚</strong>ï¼šè´Ÿè´£â€œæµç¨‹æ‰©å±•â€ï¼ˆè§£å†³â€œæ‰“åŒ…æµç¨‹ä¸­éœ€è¦é¢å¤–åšä»€ä¹ˆâ€ï¼‰ï¼›
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šåŸºäº <strong>Tapable é’©å­ç³»ç»Ÿ</strong>ï¼ˆWebpack æ ¸å¿ƒäº‹ä»¶æ€»çº¿ï¼‰ï¼Œåœ¨æ‰“åŒ…çš„æ¯ä¸ªé˜¶æ®µï¼ˆå¦‚â€œç¼–è¯‘å¼€å§‹â€â€œäº§ç‰©è¾“å‡ºå‰â€ï¼‰è§¦å‘è‡ªå®šä¹‰é€»è¾‘ï¼›</li>
<li>è®¾è®¡æ€è·¯ï¼šæ— ä¾µå…¥å¼æ‰©å±•ï¼Œæ ¸å¿ƒä»£ç åªè´Ÿè´£æµç¨‹æ§åˆ¶ï¼Œæ’ä»¶è´Ÿè´£æ·»åŠ åŠŸèƒ½ï¼ˆå¦‚ç”Ÿæˆ HTMLã€å‹ç¼©ä»£ç ã€æ¸…ç†äº§ç‰©ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åº•å±‚æŠ€æœ¯æ”¯æ’‘</strong>ï¼šTapable åº“ï¼ˆWebpack å›¢é˜Ÿå¼€å‘ï¼‰ï¼Œæä¾›åŒæ­¥/å¼‚æ­¥é’©å­ï¼Œè®© Plugin èƒ½ä»‹å…¥æ‰“åŒ…å…¨æµç¨‹ã€‚</p>
<h5 data-id="heading-8">æ ¸å¿ƒä»£ç ç‰‡æ®µï¼ˆä½“ç° Webpack åŸç†ï¼‰</h5>
<p>Webpack æ ¸å¿ƒå®ä¾‹ <code>Compiler</code> çš„åˆå§‹åŒ–é€»è¾‘ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Webpack æ ¸å¿ƒï¼šCompiler å®ä¾‹ï¼ˆå…¨å±€å”¯ä¸€ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Compiler</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options; <span class="hljs-comment">// è¯»å–é…ç½®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tapable</span>(); <span class="hljs-comment">// åˆå§‹åŒ–é’©å­ç³»ç»Ÿ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modules</span> = []; <span class="hljs-comment">// å­˜å‚¨æ‰€æœ‰æ¨¡å—</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunks</span> = []; <span class="hljs-comment">// å­˜å‚¨æ‰€æœ‰ Chunk</span>
  }

  <span class="hljs-comment">// å¯åŠ¨æ‰“åŒ…æµç¨‹</span>
  <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 1. è§¦å‘ "compile" é’©å­ï¼ˆPlugin å¯ç›‘å¬ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">call</span>();

    <span class="hljs-comment">// 2. ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œæ„å»ºä¾èµ–å›¾</span>
    <span class="hljs-keyword">const</span> entryModule = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildModule</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">entry</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modules</span>.<span class="hljs-title function_">push</span>(entryModule);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildDependencyGraph</span>(entryModule);

    <span class="hljs-comment">// 3. è§¦å‘ "make" é’©å­ï¼ˆPlugin å¯å¹²é¢„æ¨¡å—ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">make</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">compilation</span>);

    <span class="hljs-comment">// 4. åˆå¹¶æ¨¡å—ä¸º Chunk</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createChunks</span>();

    <span class="hljs-comment">// 5. è§¦å‘ "emit" é’©å­ï¼ˆPlugin å¯ä¿®æ”¹äº§ç‰©ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">emit</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">compilation</span>);

    <span class="hljs-comment">// 6. è¾“å‡ºäº§ç‰©åˆ°ç£ç›˜</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">outputFiles</span>();

    <span class="hljs-comment">// 7. è§¦å‘ "done" é’©å­ï¼ˆPlugin å¯åšåç»­å¤„ç†ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">call</span>();
  }

  <span class="hljs-comment">// æ„å»ºå•ä¸ªæ¨¡å—ï¼ˆè°ƒç”¨ Loader è½¬è¯‘ï¼‰</span>
  <span class="hljs-title function_">buildModule</span>(<span class="hljs-params">modulePath</span>) {
    <span class="hljs-comment">// è¯»å–æ–‡ä»¶å†…å®¹</span>
    <span class="hljs-keyword">const</span> source = fs.<span class="hljs-title function_">readFileSync</span>(modulePath, <span class="hljs-string">'utf-8'</span>);
    <span class="hljs-comment">// åŒ¹é…å¯¹åº”çš„ Loader é“¾</span>
    <span class="hljs-keyword">const</span> loaders = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLoadersForFile</span>(modulePath);
    <span class="hljs-comment">// é“¾å¼æ‰§è¡Œ Loader è½¬è¯‘</span>
    <span class="hljs-keyword">const</span> transformedSource = loaders.<span class="hljs-title function_">reduceRight</span>(<span class="hljs-function">(<span class="hljs-params">code, loader</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> loader.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, code);
    }, source);
    <span class="hljs-comment">// è§£æè½¬è¯‘åçš„ä»£ç ï¼Œæ‰¾å‡ºä¾èµ–</span>
    <span class="hljs-keyword">const</span> dependencies = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseDependencies</span>(transformedSource);
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: modulePath, <span class="hljs-attr">source</span>: transformedSource, dependencies };
  }
}
</code></pre>
<h4 data-id="heading-9">3. åŸç†å¸¦æ¥çš„ä¼˜ç¼ºç‚¹</h4>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå…¼å®¹æ‰€æœ‰åœºæ™¯ï¼ˆè€æµè§ˆå™¨ã€å„ç§æ¨¡å—æ ‡å‡†ã€ç‰¹æ®Šèµ„æºï¼‰ã€æ‰©å±•èƒ½åŠ›æå¼ºï¼ˆLoader/Plugin ç”Ÿæ€åºå¤§ï¼‰ï¼›</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå…¨é‡æ‰“åŒ…å¯¼è‡´å¼€å‘æ—¶å†·å¯åŠ¨æ…¢ã€çƒ­æ›´æ–°å»¶è¿Ÿï¼›é…ç½®å¤æ‚ï¼ˆéœ€åŒºåˆ† Loader/Pluginï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-10">ä¸‰ã€Vite æ ¹æœ¬è®¾è®¡åŸç†ï¼šç°ä»£æµè§ˆå™¨ä¼˜å…ˆçš„â€œå³æ—¶æ„å»ºâ€å“²å­¦</h3>
<h4 data-id="heading-11">1. è®¾è®¡åˆè¡·ï¼šè§£å†³ Webpack çš„â€œå¼€å‘ä½“éªŒç—›ç‚¹â€</h4>
<p>Vite è¯ç”Ÿäº 2021 å¹´ï¼Œæ­¤æ—¶ç°ä»£æµè§ˆå™¨å·²æ™®éæ”¯æŒ ES æ¨¡å—ï¼ˆESMï¼Œ<code>import</code>/<code>export</code> åŸç”Ÿå¯ç”¨ï¼‰ï¼Œè€Œ Webpack çš„â€œå…¨é‡æ‰“åŒ…â€åœ¨å¤§å‹é¡¹ç›®ä¸­æš´éœ²çš„â€œå†·å¯åŠ¨æ…¢ã€çƒ­æ›´æ–°å¡â€é—®é¢˜æ„ˆå‘ä¸¥é‡ã€‚</p>
<p>Vite çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯ï¼š<strong>åˆ©ç”¨ç°ä»£æµè§ˆå™¨åŸç”Ÿèƒ½åŠ›ï¼ŒæŠ›å¼ƒâ€œæå‰æ‰“åŒ…â€çš„å†—ä½™æ­¥éª¤ï¼Œä¼˜åŒ–å¼€å‘ä½“éªŒï¼›ç”Ÿäº§æ—¶å¤ç”¨æˆç†Ÿçš„ Rollup æ‰“åŒ…èƒ½åŠ›ï¼Œå¹³è¡¡äº§ç‰©è´¨é‡</strong>ã€‚</p>
<p>ç®€å•è¯´ï¼šVite è®¤ä¸ºâ€œå¼€å‘æ—¶ä¸éœ€è¦æ‰“åŒ…â€ï¼Œåªéœ€è¦â€œæŒ‰éœ€è½¬è¯‘æ¨¡å—â€ï¼›â€œç”Ÿäº§æ—¶éœ€è¦æ‰“åŒ…â€ï¼Œä½†äº¤ç»™æ›´é«˜æ•ˆçš„ Rollup æ¥åšã€‚</p>
<h4 data-id="heading-12">2. æ ¸å¿ƒåŸç†ï¼šâ€œESM åŸç”Ÿæ”¯æŒ + åŒåœºæ™¯åˆ†ç¦» + é«˜æ•ˆè½¬è¯‘â€</h4>
<p>Vite çš„æ ¹æœ¬é€»è¾‘æ˜¯ã€Œ<strong>å¼€å‘æ—¶æŒ‰éœ€å¤„ç†ï¼Œç”Ÿäº§æ—¶ä¼˜åŒ–æ‰“åŒ…</strong>ã€ï¼Œæ ¸å¿ƒåˆ†ä¸º 3 å±‚ï¼š</p>
<h5 data-id="heading-13">ï¼ˆ1ï¼‰ç¬¬ä¸€å±‚ï¼šå¼€å‘æ—¶ï¼šä¾èµ–æµè§ˆå™¨ ESM åŸç”Ÿè§£æï¼Œä¸æ‰“åŒ…</h5>
<p>Vite å¼€å‘æ—¶å®Œå…¨æŠ›å¼ƒâ€œæ„å»ºä¾èµ–å›¾â€å’Œâ€œå…¨é‡æ‰“åŒ…â€ï¼Œæ ¸å¿ƒä¾èµ–ã€Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒ ESMã€ï¼š</p>
<ol>
<li>å¯åŠ¨ä¸€ä¸ª <strong>ESM å¼€å‘æœåŠ¡å™¨</strong>ï¼ˆåŸºäº <code>connect</code> åº“ï¼‰ï¼Œä¸å¤„ç†ä»»ä½•æ¨¡å—ï¼Œä»…ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼›</li>
<li>æµè§ˆå™¨è¯·æ±‚å…¥å£ <code>index.html</code> æ—¶ï¼ŒVite åŠ¨æ€æ”¹å†™ HTML ä¸­çš„æ¨¡å—å¼•ç”¨ï¼ˆå¦‚æŠŠ <code>import './main.ts'</code> æ”¹ä¸º <code>import '/src/main.ts'</code>ï¼ŒæŒ‡å‘æœåŠ¡å™¨è·¯å¾„ï¼‰ï¼›</li>
<li>æµè§ˆå™¨æ”¶åˆ° HTML åï¼ŒæŒ‰ ESM è§„èŒƒåŸç”ŸåŠ è½½ <code>main.ts</code>ï¼Œå¹¶è§£æå…¶ä¸­çš„ <code>import</code> ä¾èµ–ï¼Œå†æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚è¿™äº›ä¾èµ–æ¨¡å—ï¼›</li>
<li>æœåŠ¡å™¨æ”¶åˆ°æ¨¡å—è¯·æ±‚åï¼Œ<strong>å³æ—¶è½¬è¯‘</strong>è¯¥æ¨¡å—ï¼ˆå¦‚ TSâ†’JSã€Vueâ†’JSï¼‰ï¼Œè¿”å›è½¬è¯‘åçš„ ESM ä»£ç ï¼›</li>
<li>é‡å¤æ­¥éª¤ 3-4ï¼Œç›´åˆ°æ‰€æœ‰ä¾èµ–æ¨¡å—éƒ½è¢«æµè§ˆå™¨åŠ è½½å®Œæˆã€‚</li>
</ol>
<p><strong>æ ¸å¿ƒäº®ç‚¹</strong>ï¼šæ¨¡å—å¤„ç†æ˜¯â€œè¯·æ±‚é©±åŠ¨â€çš„â€”â€”åªæœ‰æµè§ˆå™¨è¯·æ±‚çš„æ¨¡å—æ‰ä¼šè¢«è½¬è¯‘ï¼Œæœªè¢«å¼•ç”¨çš„æ¨¡å—ï¼ˆå¦‚è·¯ç”±æ‡’åŠ è½½çš„ç»„ä»¶ï¼‰ä¸ä¼šè¢«å¤„ç†ï¼Œè¿™æ˜¯ Vite å†·å¯åŠ¨å¿«çš„æ ¹æœ¬åŸå› ã€‚</p>
<h5 data-id="heading-14">ï¼ˆ2ï¼‰ç¬¬äºŒå±‚ï¼šç”Ÿäº§æ—¶ï¼šå¤ç”¨ Rollup æ‰“åŒ…ï¼Œå¹³è¡¡äº§ç‰©è´¨é‡</h5>
<p>å¼€å‘æ—¶çš„â€œæŒ‰éœ€å¤„ç†â€ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒï¼ˆæµè§ˆå™¨è¯·æ±‚æ¬¡æ•°è¿‡å¤šã€æ— ä¼˜åŒ–ï¼‰ï¼Œå› æ­¤ Vite ç”Ÿäº§æ—¶åˆ‡æ¢ä¸ºã€ŒRollup æ‰“åŒ…ã€ï¼š</p>
<ol>
<li>æŒ‰ Rollup çš„é€»è¾‘ï¼Œé€’å½’æ„å»ºä¾èµ–å›¾ï¼ˆå…¨é‡å¤„ç†æ‰€æœ‰æ¨¡å—ï¼‰ï¼›</li>
<li>å¤ç”¨å¼€å‘æ—¶çš„æ’ä»¶é€»è¾‘ï¼ˆå¦‚ <code>transform</code> è½¬è¯‘æ¨¡å—ï¼‰ï¼›</li>
<li>åˆ©ç”¨ Rollup æ›´é«˜æ•ˆçš„ Tree-shakingã€Chunk æ‹†åˆ†ã€äº§ç‰©å‹ç¼©èƒ½åŠ›ï¼Œç”Ÿæˆä¼˜åŒ–åçš„é™æ€èµ„æºã€‚</li>
</ol>
<p><strong>è®¾è®¡æ€è·¯</strong>ï¼šå¼€å‘æ—¶ä¼˜å…ˆâ€œé€Ÿåº¦â€ï¼Œç”Ÿäº§æ—¶ä¼˜å…ˆâ€œäº§ç‰©è´¨é‡â€ï¼Œä¸¤è€…åˆ†ç¦»ä½†å…±äº«æ’ä»¶ç”Ÿæ€ï¼Œé¿å…é‡å¤å¼€å‘ã€‚</p>
<h5 data-id="heading-15">ï¼ˆ3ï¼‰ç¬¬ä¸‰å±‚ï¼šâ€œå•ä¸€æ’ä»¶ä½“ç³» + ESBuild è½¬è¯‘â€</h5>
<p>Vite æŠ›å¼ƒäº† Webpack çš„â€œLoader + Pluginâ€åˆ†å±‚ï¼Œç”¨ã€Œå•ä¸€æ’ä»¶ä½“ç³»ã€è¦†ç›–æ‰€æœ‰æ‰©å±•éœ€æ±‚ï¼ŒåŒæ—¶ç”¨ ESBuild æ›¿ä»£ Babel/TSC æå‡è½¬è¯‘é€Ÿåº¦ï¼š</p>
<ul>
<li><strong>æ’ä»¶ä½“ç³»</strong>ï¼šæ’ä»¶é€šè¿‡ã€Œé’©å­å‡½æ•°ã€ä»‹å…¥æµç¨‹ï¼Œæ—¢å¯ä»¥å¤„ç†æ¨¡å—è½¬è¯‘ï¼ˆå¯¹åº” Webpack Loaderï¼‰ï¼Œä¹Ÿå¯ä»¥æ‰©å±•æµç¨‹ï¼ˆå¯¹åº” Webpack Pluginï¼‰ï¼›
<ul>
<li>æ ¸å¿ƒé’©å­ï¼š<code>resolveId</code>ï¼ˆè§£ææ¨¡å—è·¯å¾„ï¼‰ã€<code>transform</code>ï¼ˆè½¬è¯‘æ¨¡å—å†…å®¹ï¼‰ã€<code>configureServer</code>ï¼ˆé…ç½®å¼€å‘æœåŠ¡å™¨ï¼‰ã€<code>writeBundle</code>ï¼ˆç”Ÿäº§æ—¶å¤„ç†äº§ç‰©ï¼‰ï¼›</li>
</ul>
</li>
<li><strong>ESBuild è½¬è¯‘</strong>ï¼šESBuild æ˜¯ç”¨ Go è¯­è¨€ç¼–å†™çš„è½¬è¯‘å·¥å…·ï¼Œæ¯” JS ç¼–å†™çš„ Babel/TSC å¿« 10-100 å€ï¼Œè´Ÿè´£å¼€å‘æ—¶çš„ TS/JSX/CSS è½¬è¯‘ï¼ˆç”Ÿäº§æ—¶å¯åˆ‡æ¢ä¸º Babel å…¼å®¹æ›´å¤šåœºæ™¯ï¼‰ã€‚</li>
</ul>
<p><strong>åº•å±‚æŠ€æœ¯æ”¯æ’‘</strong>ï¼š</p>
<ul>
<li>å¼€å‘æœåŠ¡å™¨ï¼šåŸºäº <code>connect</code> åº“ï¼Œæ‹¦æˆªæµè§ˆå™¨è¯·æ±‚ï¼Œå³æ—¶å¤„ç†æ¨¡å—ï¼›</li>
<li>è½¬è¯‘æ ¸å¿ƒï¼šESBuildï¼ˆè´Ÿè´£å¿«é€Ÿè½¬è¯‘ï¼‰ï¼›</li>
<li>æ‰“åŒ…æ ¸å¿ƒï¼šRollupï¼ˆè´Ÿè´£ç”Ÿäº§æ—¶ä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-16">æ ¸å¿ƒä»£ç ç‰‡æ®µï¼ˆä½“ç° Vite åŸç†ï¼‰</h5>
<p>Vite å¼€å‘æœåŠ¡å™¨çš„æ ¸å¿ƒé€»è¾‘ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createServer } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> esbuild <span class="hljs-keyword">from</span> <span class="hljs-string">'esbuild'</span>;

<span class="hljs-comment">// 1. åˆ›å»º ESM å¼€å‘æœåŠ¡å™¨</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-title function_">createServer</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-comment">/* æ’ä»¶åˆ—è¡¨ */</span>]
});

<span class="hljs-comment">// 2. ç›‘å¬æ¨¡å—è¯·æ±‚ï¼ˆå¦‚ /src/main.tsï¼‰</span>
server.<span class="hljs-property">middlewares</span>.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">async</span> (req, res, next) =&gt; {
  <span class="hljs-keyword">const</span> modulePath = <span class="hljs-title function_">resolve</span>(req.<span class="hljs-property">url</span>); <span class="hljs-comment">// è§£ææ¨¡å—è·¯å¾„</span>

  <span class="hljs-comment">// 3. æ’ä»¶çš„ resolveId é’©å­ï¼šé‡å†™æ¨¡å—è·¯å¾„ï¼ˆå¦‚åˆ«åã€ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> plugin <span class="hljs-keyword">of</span> server.<span class="hljs-property">config</span>.<span class="hljs-property">plugins</span>) {
    <span class="hljs-keyword">if</span> (plugin.<span class="hljs-property">resolveId</span>) {
      <span class="hljs-keyword">const</span> resolvedId = <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">resolveId</span>(modulePath);
      <span class="hljs-keyword">if</span> (resolvedId) modulePath = resolvedId;
    }
  }

  <span class="hljs-comment">// 4. è¯»å–æ¨¡å—æ–‡ä»¶å†…å®¹</span>
  <span class="hljs-keyword">let</span> code = fs.<span class="hljs-title function_">readFileSync</span>(modulePath, <span class="hljs-string">'utf-8'</span>);

  <span class="hljs-comment">// 5. æ’ä»¶çš„ transform é’©å­ï¼šè½¬è¯‘æ¨¡å—ï¼ˆå¦‚ TSâ†’JSã€Vueâ†’JSï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> plugin <span class="hljs-keyword">of</span> server.<span class="hljs-property">config</span>.<span class="hljs-property">plugins</span>) {
    <span class="hljs-keyword">if</span> (plugin.<span class="hljs-property">transform</span>) {
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> plugin.<span class="hljs-title function_">transform</span>(code, modulePath);
      <span class="hljs-keyword">if</span> (result) code = result.<span class="hljs-property">code</span>;
    }
  }

  <span class="hljs-comment">// 6. ç”¨ ESBuild å¿«é€Ÿè½¬è¯‘ï¼ˆå¦‚ TSâ†’JSï¼‰</span>
  <span class="hljs-keyword">if</span> (modulePath.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.ts'</span>) || modulePath.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.tsx'</span>)) {
    <span class="hljs-keyword">const</span> esbuildResult = <span class="hljs-keyword">await</span> esbuild.<span class="hljs-title function_">transform</span>(code, {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">'tsx'</span>,
      <span class="hljs-attr">target</span>: <span class="hljs-string">'esnext'</span>
    });
    code = esbuildResult.<span class="hljs-property">code</span>;
  }

  <span class="hljs-comment">// 7. è®¾ç½®å“åº”å¤´ï¼ˆå‘Šè¯‰æµè§ˆå™¨è¿™æ˜¯ ESM æ¨¡å—ï¼‰</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/javascript'</span>);
  res.<span class="hljs-title function_">end</span>(code); <span class="hljs-comment">// è¿”å›è½¬è¯‘åçš„ ESM ä»£ç </span>
});

<span class="hljs-comment">// 8. å¯åŠ¨æœåŠ¡å™¨</span>
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
</code></pre>
<h4 data-id="heading-17">3. åŸç†å¸¦æ¥çš„ä¼˜ç¼ºç‚¹</h4>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå¼€å‘æ—¶å†·å¯åŠ¨å¿«ã€çƒ­æ›´æ–°å³æ—¶ï¼ˆè¯·æ±‚é©±åŠ¨+ESBuildï¼‰ï¼›é…ç½®ç®€æ´ï¼ˆå•ä¸€æ’ä»¶ä½“ç³»ï¼‰ï¼›ç”Ÿäº§äº§ç‰©è´¨é‡é«˜ï¼ˆRollup ä¼˜åŒ–ï¼‰ï¼›</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå¼€å‘æ—¶ä¾èµ–ç°ä»£æµè§ˆå™¨ ESM æ”¯æŒï¼ˆä¸å…¼å®¹ IE11ï¼‰ï¼›å¯¹ CommonJS æ¨¡å—çš„å¤„ç†éœ€è¦é¢å¤–è½¬è¯‘ï¼ˆæ€§èƒ½æŸè€—ï¼‰ï¼›å¤æ‚åœºæ™¯ï¼ˆå¦‚å¤šå…¥å£ã€ç‰¹æ®Šèµ„æºå¤„ç†ï¼‰ç”Ÿæ€ä¸å¦‚ Webpack æˆç†Ÿã€‚</li>
</ul>
<h3 data-id="heading-18">å››ã€Webpack vs Vite æ ¹æœ¬åŸç†å¯¹æ¯”è¡¨ï¼ˆæ ¸å¿ƒæ€»ç»“ï¼‰</h3>


















































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td>æ ¸å¿ƒè®¾è®¡å“²å­¦</td><td>å…¨åœºæ™¯å…¼å®¹ï¼Œæå‰æ‰“åŒ…æ‰€æœ‰æ¨¡å—</td><td>ç°ä»£æµè§ˆå™¨ä¼˜å…ˆï¼Œå¼€å‘æ—¶æŒ‰éœ€å¤„ç†ï¼Œç”Ÿäº§æ—¶ä¼˜åŒ–æ‰“åŒ…</td></tr><tr><td>æ¨¡å—è§£ææ–¹å¼</td><td>é€’å½’æ„å»ºä¾èµ–å›¾ï¼ˆAST è§£æï¼‰</td><td>å¼€å‘æ—¶æµè§ˆå™¨åŸç”Ÿ ESM è§£æï¼Œç”Ÿäº§æ—¶ Rollup ä¾èµ–å›¾</td></tr><tr><td>æ¨¡å—å¤„ç†æ—¶æœº</td><td>å¼€å‘/ç”Ÿäº§å‡æå‰å…¨é‡å¤„ç†</td><td>å¼€å‘æ—¶è¯·æ±‚é©±åŠ¨ï¼ˆæŒ‰éœ€å¤„ç†ï¼‰ï¼Œç”Ÿäº§æ—¶å…¨é‡å¤„ç†</td></tr><tr><td>è½¬è¯‘æ ¸å¿ƒå·¥å…·</td><td>Babel/TSCï¼ˆJS ç¼–å†™ï¼Œé€Ÿåº¦æ…¢ï¼‰</td><td>ESBuildï¼ˆGo ç¼–å†™ï¼Œé€Ÿåº¦å¿«ï¼‰+ å¯é€‰ Babel</td></tr><tr><td>æ‰©å±•æ¶æ„</td><td>åˆ†å±‚æ¶æ„ï¼ˆLoader è½¬è¯‘ + Plugin æµç¨‹æ‰©å±•ï¼‰</td><td>å•ä¸€æ’ä»¶ä½“ç³»ï¼ˆé’©å­è¦†ç›–è½¬è¯‘+æµç¨‹æ‰©å±•ï¼‰</td></tr><tr><td>åº•å±‚æŠ€æœ¯æ”¯æ’‘</td><td>Tapable é’©å­ + acorn AST è§£æ</td><td>ESM æœåŠ¡å™¨ï¼ˆconnectï¼‰+ ESBuild + Rollup</td></tr><tr><td>è®¾è®¡ç›®æ ‡</td><td>è§£å†³â€œæ¨¡å—æ··ä¹±â€ï¼Œè¿½æ±‚å…¨èƒ½å…¼å®¹</td><td>è§£å†³â€œå¼€å‘ä½“éªŒå·®â€ï¼Œè¿½æ±‚é€Ÿåº¦å’Œç®€æ´</td></tr><tr><td>åŸç†å±‚é¢çš„æ ¸å¿ƒç¼ºç‚¹</td><td>å…¨é‡æ‰“åŒ…å¯¼è‡´å¼€å‘æ—¶é€Ÿåº¦æ…¢</td><td>ä¾èµ–ç°ä»£æµè§ˆå™¨ï¼Œå…¼å®¹åœºæ™¯æœ‰é™</td></tr></tbody></table>
<h3 data-id="heading-19">äº”ã€æœ€ç»ˆç»“è®ºï¼šåŸç†å†³å®šä¸€åˆ‡å·®å¼‚</h3>
<p>Webpack å’Œ Vite çš„æ‰€æœ‰è¡¨é¢å·®å¼‚ï¼ˆé€Ÿåº¦ã€é…ç½®å¤æ‚åº¦ã€ç”Ÿæ€ï¼‰ï¼Œéƒ½æºäºã€Œæ ¹æœ¬è®¾è®¡åŸç†ã€çš„ä¸åŒï¼š</p>
<ul>
<li>Webpack ä¸ºäº†â€œå…¨èƒ½å…¼å®¹â€ï¼Œé€‰æ‹©äº†â€œæå‰æ‰“åŒ…+åˆ†å±‚æ‰©å±•â€ï¼Œç‰ºç‰²äº†å¼€å‘é€Ÿåº¦å’Œé…ç½®ç®€æ´æ€§ï¼›</li>
<li>Vite ä¸ºäº†â€œç°ä»£æµè§ˆå™¨ä¸‹çš„å¼€å‘ä½“éªŒâ€ï¼Œé€‰æ‹©äº†â€œESM åŸç”Ÿæ”¯æŒ+æŒ‰éœ€å¤„ç†+åŒåœºæ™¯åˆ†ç¦»â€ï¼Œç‰ºç‰²äº†éƒ¨åˆ†å…¼å®¹æ€§å’Œå¤æ‚åœºæ™¯çš„ç”Ÿæ€æˆç†Ÿåº¦ã€‚</li>
</ul>
<p>é€‰å‹çš„æœ¬è´¨ï¼Œå°±æ˜¯åœ¨â€œå…¼å®¹éœ€æ±‚â€å’Œâ€œå¼€å‘ä½“éªŒâ€ä¹‹é—´åšæƒè¡¡ï¼š</p>
<ul>
<li>è‹¥éœ€è¦å…¼å®¹è€æµè§ˆå™¨ã€å¤„ç†å¤æ‚åœºæ™¯ï¼ˆå¤šå…¥å£ã€ç‰¹æ®Šèµ„æºï¼‰ï¼Œé€‰ Webpackï¼ˆåŸç†å†³å®šäº†å®ƒçš„å…¨èƒ½æ€§ï¼‰ï¼›</li>
<li>è‹¥ç›®æ ‡æ˜¯ç°ä»£æµè§ˆå™¨ã€è¿½æ±‚å¼€å‘æ•ˆç‡ï¼Œé€‰ Viteï¼ˆåŸç†å†³å®šäº†å®ƒçš„é€Ÿåº¦å’Œç®€æ´æ€§ï¼‰ã€‚</li>
</ul>
<p>ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œä½ å°±ä¸ä¼šå†çº ç»“â€œä¸ºä»€ä¹ˆ Vite ä¸èƒ½æ›¿ä»£ Webpackâ€æˆ–â€œä¸ºä»€ä¹ˆ Webpack ä¸å€Ÿé‰´ Vite çš„é€Ÿåº¦â€â€”â€”å®ƒä»¬çš„è®¾è®¡åŸç†ä»ä¸€å¼€å§‹å°±å†³å®šäº†å„è‡ªçš„å®šä½å’Œè¾¹ç•Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•å®ç°å€’è®¡æ—¶å·¥å…·]]></title>    <link>https://juejin.cn/post/7583948178858131502</link>    <guid>https://juejin.cn/post/7583948178858131502</guid>    <pubDate>2025-12-16T01:25:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583948178858131502" data-draft-id="7583948178858115118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•å®ç°å€’è®¡æ—¶å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T01:25:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MQliferecord"/> <meta itemprop="url" content="https://juejin.cn/user/1139543665814600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•å®ç°å€’è®¡æ—¶å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1139543665814600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MQliferecord
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T01:25:03.000Z" title="Tue Dec 16 2025 01:25:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€å¼€å§‹æŸ¥åˆ°è¿™ä¸ªæ˜¯å› ä¸ºåœ¨åšç‰ˆæœ¬æ›´æ–°å¼¹çª—çš„å®šæ—¶å™¨è½®è¯¢ï¼Œç„¶åæŸ¥çœ‹åˆ°ä¸€ç¯‡æ–‡ç« å…³äºå‰ç«¯å€’è®¡æ—¶å­˜åœ¨è¯¯å·®ï¼Œä»è€Œè¡ç”Ÿå‡ºé«˜å¹¶å‘ç§’æ€åœºæ™¯ä¸‹ï¼Œåº”è¯¥å¦‚ä½•å®ç°å€’è®¡æ—¶å·¥å…·ï¼š</p>
<p>æœ€å¼€å§‹æƒ³åˆ°çš„åŠæ³•æ˜¯setTimeoutã€‚</p>
<p>ä½†å› ä¸ºsetTimeoutæœ¬èº«å› ä¸ºJavaScriptæ˜¯å•çº¿ç¨‹ï¼Œ<code>setTimeout</code>Â çš„å›è°ƒå‡½æ•°ä¼šè¢«æ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ï¼Œæµè§ˆå™¨èµ„æºåˆ†é…ä¸­å‰é¢ä»»åŠ¡é˜»å¡å»¶è¿Ÿçš„é—®é¢˜ä¼šå­˜åœ¨ä¸€å®šæ€§çš„è¯¯å·®ï¼Œä½†æ˜¯è¯¯å·®è¾ƒå°ï¼Œå¤§éƒ¨åˆ†åœºæ™¯éƒ½å¯ä»¥å¿½ç•¥ã€‚</p>
<p>ä½†æ˜¯å¦‚æœåˆ‡æ¢Tabé¡µæˆ–è€…æœ€å°åŒ–ä¹‹åå†åˆ‡æ¢åˆ°å‰å°ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè¯†åˆ«å½“å‰é¡µé¢éœ€è¦èµ„æºå‡å°‘ï¼Œé™ä½å®šæ—¶å™¨çš„æ‰§è¡Œé¢‘ç‡ï¼Œç›´åˆ°åˆ‡å›æ¥åæ‰ä¼šæ¢å¤åŸæœ¬çš„è½®è¯¢é—´éš”ï¼Œæ‰€ä»¥è¿™æ ·åˆ‡å›æ¥çš„é‚£ä¸€æ¬¡è®¡ç®—æ—¶é—´ä¼šæœ‰è¯¯å·®ã€‚</p>
<p>å¯¹æ­¤å› ä¸ºé¡¹ç›®ä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½çš„æ—¶å€™ç«‹åˆ»å¼¹çª—ä»¥åŠåˆ‡æ¢åˆ°åå°å†åˆ‡å›å‰å°çš„æ—¶å€™å†æ¬¡ç«‹åˆ»å¼¹çª—ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨åˆ‡æ¢å›æ¥çš„æ—¶å€™ç«‹åˆ»æ‰§è¡Œä¸€æ¬¡versionListenerï¼Œ<strong>å¹¶åˆ é™¤å®šæ—¶å™¨ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨å°±èƒ½æ¢å¤åŸæœ¬çš„æ—¶é™è¯¯å·®</strong></p>
<p>å¦‚æœæ²¡æœ‰ä»¥ä¸Šçš„ç­–ç•¥ï¼ŒåšæŒåŸæœ¬çš„å®šæ—¶å™¨ï¼Œå¹¶ä¸”ä¸å¸Œæœ›å‡ºç°è¯¯å·®çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨web workerå•ç‹¬å¤„ç†å®šæ—¶å™¨ã€‚</p>
<p>Web Worker æ˜¯ç‹¬ç«‹äºä¸»çº¿ç¨‹çš„åå°çº¿ç¨‹ï¼Œ<strong>ä¸å—å‰å° / åå°æ ‡ç­¾çš„èŠ‚æµè§„åˆ™é™åˆ¶</strong>ï¼Œå…¶äº‹ä»¶å¾ªç¯å’Œå®šæ—¶å™¨æ‰§è¡Œé€»è¾‘å®Œå…¨ç‹¬ç«‹ï¼Œå› æ­¤åˆ‡åå°åä»èƒ½ä¿æŒæ¥è¿‘é¢„æœŸçš„æ‰§è¡Œé¢‘ç‡</p>
<p><a href="https://juejin.cn/post/7478687361737768986" target="_blank" title="https://juejin.cn/post/7478687361737768986">é¢è¯•å®˜ï¼šå‰ç«¯å€’è®¡æ—¶æœ‰è¯¯å·®æ€ä¹ˆè§£å†³å‰è¨€ å»å¹´é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯éå¸¸ç»å…¸çš„é¢è¯•é¢˜äº†ã€‚èƒ½èŠçš„ä¸œè¥¿è¿˜è›®å¤šçš„ å€’è®¡æ—¶ä¸ºå•¥ä¸å‡† ä¸€ - æ˜é‡‘ (juejin.cn)</a></p>
<p>çœ‹äº†ä¸€ä¸‹è¿™ä¸ªé‡Œé¢çš„ä¸€ä¸ªè¯„è®ºï¼š</p>
<blockquote>
<p>setTimeout çš„å»¶æ—¶ä¸åº”å½“è¢«ä¾èµ–ç”¨æ¥è¿›è¡Œå€’è®¡æ—¶ï¼Œå› ä¸ºå®ƒæœ‰éå¸¸å¤šçš„ä¸ç¨³å®šå› ç´ ï¼ˆå‚è§MDNï¼‰ã€‚<br/>
æœ€ä½³å®è·µæ˜¯å°†å€’è®¡æ—¶ç»“æŸçš„æ—¶é—´æˆ³è®¡ç®—å‡ºæ¥ï¼Œå†ç”¨ setTimeout æˆ–è€… requestAnimationFrame è¿›è¡Œæ›´æ–°ï¼ˆè®¡ç®—ç»“æŸå’Œå½“å‰æ—¶é—´æˆ³çš„æ—¶é—´å·®ï¼Œèˆå…¥åˆ°ç§’æ•°ç„¶åæ›´æ–°åˆ°é¡µé¢ä¸Šï¼‰ï¼Œè¿™ç§æ–¹å¼è¯¯å·®æœ€å°ä¸”æœ€èŠ‚èƒ½ã€‚è‡³äºéœ€è¦å’ŒæœåŠ¡å™¨å®æ—¶åŒæ­¥çš„åœºæ™¯åˆ™è€ƒè™‘sseæˆæ—¶ã€‚</p>
</blockquote>
<p>å…·ä½“ä¸ºï¼š</p>
<ol>
<li><strong>å®šæ—¶å™¨çš„æœ¬è´¨</strong>ï¼š<code>setTimeout</code>Â çš„Â <code>delay</code>Â æ˜¯ã€Œäº‹ä»¶å¾ªç¯ä¸­ä»»åŠ¡çš„æœ€å°ç­‰å¾…æ—¶é—´ã€ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­æœ‰å…¶ä»–ä»»åŠ¡ï¼Œå®é™…æ‰§è¡Œæ—¶é—´ä¼šæ›´é•¿ï¼›</li>
<li><strong>requestAnimationFrame ä¼˜åŠ¿</strong>ï¼šæµè§ˆå™¨ä¼šåœ¨é‡ç»˜å‰æ‰§è¡Œå›è°ƒï¼Œå‰å° 60fpsï¼ˆçº¦ 16ms / æ¬¡ï¼‰ï¼Œåå°è‡ªåŠ¨æš‚åœï¼Œæ¯”Â <code>setInterval</code>Â èŠ‚èƒ½ 90%+ï¼›</li>
<li><strong>æ—¶é—´æˆ³é€‰æ‹©</strong>ï¼š<code>performance.now()</code>Â æ˜¯é«˜ç²¾åº¦æ—¶é—´æˆ³ï¼ˆå¾®ç§’çº§ï¼‰ï¼Œä¸”ä¸å—ç³»ç»Ÿæ—¶é—´ä¿®æ”¹å½±å“ï¼Œä¼˜å…ˆäºÂ <code>Date.now()</code>ã€‚</li>
</ol>
<p>ç”±æ­¤è¡ç”Ÿä¸¤ç§æ ¸å¿ƒæ–¹æ³•:</p>
<ol>
<li>è®¡ç®—å‡ºå€’è®¡æ—¶ç»“æŸæ—¶é—´ï¼Œè½®è¯¢æ˜¯å¦åˆ°è¾¾ç»“å°¾æ—¶é—´ï¼Œè¿›è¡ŒæŠ¥æ—¶ï¼Œ<strong>performanceAPIåœ¨Nodeç¯å¢ƒä¸‹æ— æ³•ä½¿ç”¨,åªæ”¯æŒæµè§ˆå™¨ç¯å¢ƒ</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">preciseCountdown</span>(<span class="hljs-params">endTime:number, onUpdate:(seconds:number)=&gt;<span class="hljs-keyword">void</span>, onComplete:()=&gt;<span class="hljs-keyword">void</span></span>) {
  <span class="hljs-comment">// é«˜ç²¾åº¦æ—¶é—´æˆ³ï¼ˆä¼˜å…ˆç”¨ performance.nowï¼Œæ— å…¼å®¹é—®é¢˜æ—¶ç”¨ Date.nowï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getNow</span> = (<span class="hljs-params"/>) =&gt; performance.<span class="hljs-title function_">now</span>() + performance.<span class="hljs-property">timeOrigin</span>;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">update</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title function_">getNow</span>();
    <span class="hljs-keyword">const</span> remaining = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(endTime - now, <span class="hljs-number">0</span>); <span class="hljs-comment">// å‰©ä½™æ—¶é—´ï¼ˆmsï¼‰</span>
    <span class="hljs-keyword">const</span> remainingSeconds = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(remaining / <span class="hljs-number">1000</span>); <span class="hljs-comment">// èˆå…¥åˆ°ç§’</span>

    <span class="hljs-comment">// æ›´æ–°é¡µé¢ï¼ˆåªä¼ æœ€ç»ˆè¦æ˜¾ç¤ºçš„ç§’æ•°ï¼Œé¿å…æµ®ç‚¹è¯¯å·®ï¼‰ï¼Œåœ¨é«˜é¢‘æŠ¥æ•°åœºæ™¯ä¸‹æ¯ç§’æŠ¥æ•°å‘ç”Ÿå˜åŒ–ç”±æ­¤å®ç°å€’è®¡æ—¶</span>
    <span class="hljs-comment">//å®é™…ä¸Šæ˜¯10-&gt;10-&gt;...(çœç•¥nä¸ª10)-&gt;10 -&gt;9-&gt;9-&gt;...-&gt;9-&gt;8....</span>
    <span class="hljs-title function_">onUpdate</span>(remainingSeconds);

    <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-title function_">onComplete</span>();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// ä¼˜å…ˆç”¨ requestAnimationFrameï¼ˆæ›´èŠ‚èƒ½ï¼Œé€‚é…å±å¹•åˆ·æ–°ç‡ï¼‰</span>
    <span class="hljs-comment">// é™çº§ç”¨ setTimeoutï¼ˆå…¼å®¹è€ç¯å¢ƒï¼Œå»¶æ—¶è®¾ä¸º 16ms æ¥è¿‘ 60fpsï¼‰</span>
    <span class="hljs-keyword">if</span> (requestAnimationFrame) {
      <span class="hljs-comment">//è¿›è¡Œé«˜é¢‘æŠ¥æ•°å±•ç¤º</span>
      <span class="hljs-title function_">requestAnimationFrame</span>(update);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">setTimeout</span>(update, <span class="hljs-number">16</span>);
    }
  };

  <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡æ›´æ–°ï¼Œé¿å…é¦–å±å»¶è¿Ÿ</span>
  <span class="hljs-title function_">update</span>();
}

<span class="hljs-comment">// ç”¨æ³•ç¤ºä¾‹ï¼šå€’è®¡æ—¶ 10 ç§’</span>
<span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-number">10</span> * <span class="hljs-number">1000</span>;
<span class="hljs-title function_">preciseCountdown</span>(
  endTime,
  <span class="hljs-function">(<span class="hljs-params">seconds</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‰©ä½™ç§’æ•°ï¼š'</span>, seconds);
    <span class="hljs-comment">// æ›´æ–° DOMï¼šdocument.getElementById('countdown').textContent = seconds;</span>
  },
  <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å€’è®¡æ—¶ç»“æŸ'</span>);
  }
);
</code></pre>
<ol start="2">
<li>ä½¿ç”¨åç«¯sseè¿›è¡Œå¤„ç†ï¼Œç›¸æ¯”äºæ™®é€šçš„æ¥å£è¯·æ±‚ï¼Œsseå…·å¤‡é«˜åº¦çš„å®æ—¶æ€§</li>
</ol>








































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>æ™®é€šåç«¯æ¥å£ï¼ˆHTTP/RESTï¼‰</th><th>SSEï¼ˆServer-Sent Eventsï¼‰</th></tr></thead><tbody><tr><td><strong>é€šä¿¡æ–¹å‘</strong></td><td>åŒå‘ï¼ˆå®¢æˆ·ç«¯è¯·æ±‚ â†’ æœåŠ¡ç«¯å“åº”ï¼‰ï¼Œä½†ã€Œè¯·æ±‚ - å“åº”ã€æ˜¯<strong>å•æ¬¡å•å‘</strong></td><td>å•å‘ï¼ˆæœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯ï¼‰ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨æ¨é€</td></tr><tr><td><strong>è¿æ¥æ¨¡å¼</strong></td><td>çŸ­è¿æ¥ï¼šè¯·æ±‚å‘èµ· â†’ å“åº”è¿”å› â†’ TCP è¿æ¥å…³é—­</td><td>é•¿è¿æ¥ï¼šä¸€æ¬¡ TCP æ¡æ‰‹åï¼Œè¿æ¥æŒç»­ä¿æŒï¼ŒæœåŠ¡ç«¯æŒ‰éœ€æ¨æ•°æ®</td></tr><tr><td><strong>è§¦å‘æ–¹å¼</strong></td><td>å®¢æˆ·ç«¯ä¸»åŠ¨è§¦å‘ï¼ˆç‚¹å‡»ã€å®šæ—¶è½®è¯¢ã€é¡µé¢åŠ è½½ï¼‰</td><td>æœåŠ¡ç«¯ä¸»åŠ¨è§¦å‘ï¼ˆæ•°æ®æ›´æ–° / äº‹ä»¶å‘ç”Ÿæ—¶æ¨é€ï¼‰</td></tr><tr><td><strong>æ•°æ®ä¼ è¾“å½¢å¼</strong></td><td>å•æ¬¡å®Œæ•´æ•°æ®ï¼ˆJSON/Form/ äºŒè¿›åˆ¶ï¼‰ï¼Œå“åº”ç»“æŸå³ç»ˆæ­¢</td><td>æµå¼æ–‡æœ¬æ•°æ®ï¼ˆUTF-8ï¼‰ï¼Œåˆ†å—ä¼ è¾“ï¼ˆä¸€è¡Œ / å¤šè¡Œæ•°æ®ï¼‰</td></tr><tr><td><strong>å®æ—¶æ€§</strong></td><td>ä½ï¼ˆè½®è¯¢ä¾èµ–é—´éš”ï¼Œæœ‰å»¶è¿Ÿï¼‰</td><td>é«˜ï¼ˆæ•°æ®æ›´æ–°ç«‹å³æ¨é€ï¼Œæ— è½®è¯¢å»¶è¿Ÿï¼‰</td></tr><tr><td><strong>ç½‘ç»œå¼€é”€</strong></td><td>é«˜ï¼ˆè½®è¯¢åœºæ™¯ä¸‹å¤šæ¬¡ TCP æ¡æ‰‹ã€é‡å¤è¯·æ±‚å¤´ï¼‰</td><td>ä½ï¼ˆä¸€æ¬¡è¿æ¥æŒç»­ä¼ è¾“ï¼Œä»…é¦–æ¬¡æ¡æ‰‹å¼€é”€ï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-ini" lang="ini">// SSEï¼šå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œç›‘å¬æœåŠ¡ç«¯æ¨é€
const <span class="hljs-attr">sse</span> = new EventSource(<span class="hljs-string">'/api/sse/countdown'</span>)<span class="hljs-comment">;</span>
<span class="hljs-attr">sse.onmessage</span> = (e) =&gt; {
  const <span class="hljs-attr">data</span> = JSON.parse(e.data)<span class="hljs-comment">;</span>
  console.log('æœåŠ¡ç«¯æ¨é€çš„å®æ—¶æ•°æ®ï¼š', data)<span class="hljs-comment">; // æœåŠ¡ç«¯æœ‰æ›´æ–°å°±ä¼šè§¦å‘</span>
}<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li><strong>æ™®é€šæ¥å£</strong>ï¼šé»˜è®¤æ˜¯ã€ŒçŸ­è¿æ¥ã€â€”â€”TCP ä¸‰æ¬¡æ¡æ‰‹åä¼ è¾“æ•°æ®ï¼Œå“åº”å®Œæˆåå››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥ï¼›è‹¥è¦å®æ—¶æ€§ï¼Œéœ€ç”¨ã€Œå®šæ—¶è½®è¯¢ã€ï¼ˆå¦‚æ¯ 1 ç§’è¯·æ±‚ä¸€æ¬¡ï¼‰ï¼Œä½†ä¼šäº§ç”Ÿå¤§é‡é‡å¤çš„ TCP æ¡æ‰‹ / æŒ¥æ‰‹å¼€é”€ï¼Œä¸”æœ‰è½®è¯¢é—´éš”çš„å»¶è¿Ÿã€‚</li>
<li><strong>SSE</strong>ï¼šæ˜¯ã€ŒHTTP é•¿è¿æ¥ã€â€”â€” ä¸€æ¬¡ TCP æ¡æ‰‹åï¼Œè¿æ¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼ŒæœåŠ¡ç«¯é€šè¿‡ã€Œåˆ†å—ä¼ è¾“ç¼–ç ï¼ˆChunked Transfer Encodingï¼‰ã€å‘å®¢æˆ·ç«¯æµå¼æ¨é€æ•°æ®ï¼Œç›´åˆ°è¿æ¥è¢«ä¸»åŠ¨å…³é—­ï¼ˆå®¢æˆ·ç«¯Â <code>close()</code>Â æˆ–æœåŠ¡ç«¯æ–­å¼€ï¼‰ã€‚ä¼˜åŠ¿ï¼šæ— è½®è¯¢çš„é‡å¤å¼€é”€ï¼Œå®æ—¶æ€§æ¥è¿‘ â€œå³æ—¶â€</li>
<li><strong>WebSocket</strong> æ˜¯åŒå‘é€šä¿¡ï¼ˆå®¢æˆ·ç«¯â†”æœåŠ¡ç«¯ï¼‰ã€åŸºäºç‹¬ç«‹çš„ WebSocket åè®®ã€åŠŸèƒ½æ›´å¼ºä½†å¤æ‚åº¦æ›´é«˜ï¼›å¸¸ç”¨äºåŒå‘å®æ—¶äº¤äº’ï¼ˆå¦‚èŠå¤©ã€åœ¨çº¿æ¸¸æˆï¼‰åœºæ™¯ã€‚</li>
</ul>
<p><strong>ç›®å‰çš„ç”µå•†ç§’æ€å€’è®¡æ—¶ç”¨çš„ä¸»æµæ–¹æ¡ˆåº”è¯¥æ˜¯performanceè®¡ç®—æœ€ç»ˆæ—¶é—´-èµ·å§‹æ—¶é—´</strong>ï¼Œè€Œä¸æ˜¯sseï¼Œå› ä¸ºsseåœ¨ç”µå•†è¿™ç±»é«˜å¹¶å‘åœºæ™¯ä¸‹éœ€è¦å¤§é‡çš„åç«¯å¼€é”€å»å»ºç«‹é“¾æ¥çª—å£ã€‚</p>
<p>åœ¨è¿›è¡Œç§’æ€æ—¶é—´æ ¡å‡†çš„åœºæ™¯ä¸‹ï¼Œå¦‚ä½•é˜²æ­¢ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹æœ¬åœ°æ—¶é—´ï¼Œä¸»è¦ä¾èµ–ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ol>
<li>åç«¯åœ¨ç§’æ€å¼€å§‹å‰ä¼šä¼ ç»™å‰ç«¯æ¥å£ç§’æ€å¼€å§‹çš„å‡†ç¡®æ—¶é—´æˆ³ï¼Œæ¯”å¦‚xxxxxxxxxx</li>
<li>å‰ç«¯é€šè¿‡performance.timeOriginè·å–ç»å¯¹èµ·å§‹æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´ä¸€æ—¦å®šä¸‹ä¸ºYYYYYYYï¼Œæ— è®ºä¸­é€”ç”¨æˆ·ä¿®æ”¹å¤šå°‘æ¬¡æœ¬åœ°æ—¶é—´éƒ½ä¸ä¼šå‘ç”Ÿå˜åŒ–</li>
<li>å‰ç«¯åœ¨å»ºç«‹performance.timeOriginçš„æ—¶å€™ä¼šç»‘å®šå»ºç«‹performance.now()ï¼Œä¸ºç»å¯¹æµé€æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹performance.timeOriginç»å¯¹èµ·å§‹æ—¶é—´å˜åŒ–çš„æ—¶é—´ï¼Œä¸å—æœ¬åœ°æ—¶é—´å½±å“</li>
</ol>
<p>æœ€ç»ˆxxxxxxxxxx-(performance.timeOrigin+performance.now())å°±æ˜¯éœ€è¦å€’è®¡æ—¶çš„æ—¶é—´</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>