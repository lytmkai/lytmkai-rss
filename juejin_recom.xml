<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[é¢å‘è¯¾å ‚ä¸è‡ªä¹ åœºæ™¯çš„æ™ºèƒ½åå§¿è¯†åˆ«ç³»ç»Ÿâ€”â€”ä»è¡Œä¸ºæ„ŸçŸ¥åˆ°å¯è§†åŒ–éƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹ã€YOLOv8ã€‘]]></title>    <link>https://juejin.cn/post/7587312329173532726</link>    <guid>https://juejin.cn/post/7587312329173532726</guid>    <pubDate>2025-12-24T16:56:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587312329173532726" data-draft-id="7587299443643940927" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢å‘è¯¾å ‚ä¸è‡ªä¹ åœºæ™¯çš„æ™ºèƒ½åå§¿è¯†åˆ«ç³»ç»Ÿâ€”â€”ä»è¡Œä¸ºæ„ŸçŸ¥åˆ°å¯è§†åŒ–éƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹ã€YOLOv8ã€‘"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T16:56:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢å‘è¯¾å ‚ä¸è‡ªä¹ åœºæ™¯çš„æ™ºèƒ½åå§¿è¯†åˆ«ç³»ç»Ÿâ€”â€”ä»è¡Œä¸ºæ„ŸçŸ¥åˆ°å¯è§†åŒ–éƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹ã€YOLOv8ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T16:56:15.000Z" title="Wed Dec 24 2025 16:56:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢å‘è¯¾å ‚ä¸è‡ªä¹ åœºæ™¯çš„æ™ºèƒ½åå§¿è¯†åˆ«ç³»ç»Ÿâ€”â€”ä»è¡Œä¸ºæ„ŸçŸ¥åˆ°å¯è§†åŒ–éƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹ã€YOLOv8ã€‘</h2>
<h3 data-id="heading-1">ä¸€ã€ç ”ç©¶èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦åšâ€œåå§¿è¯†åˆ«â€ï¼Ÿ</h3>
<p>åœ¨ä¿¡æ¯åŒ–å­¦ä¹ ä¸åŠå…¬ç¯å¢ƒä¸­ï¼Œ<strong>ä¹…åä¸ä¸è‰¯åå§¿</strong>å·²æˆä¸ºé’å°‘å¹´ä¸ä¸Šç­æ—æ™®éé¢ä¸´çš„å¥åº·é—®é¢˜ã€‚é•¿æœŸé©¼èƒŒã€å‰å€¾ã€ä½å¤´ç­‰åå§¿è¡Œä¸ºï¼Œå®¹æ˜“å¼•å‘ï¼š</p>
<ul>
<li>è„ŠæŸ±ä¾§å¼¯ã€é¢ˆæ¤ç—…</li>
<li>æ³¨æ„åŠ›ä¸‹é™ã€å­¦ä¹ æ•ˆç‡é™ä½</li>
<li>è§†è§‰ç–²åŠ³ä¸è‚Œè‚‰åŠ³æŸ</li>
</ul>
<p>ä¼ ç»Ÿçš„åå§¿ç®¡ç†ä¸»è¦ä¾èµ–äººå·¥ç›‘ç£æˆ–ç®€å•ç¡¬ä»¶ä¼ æ„Ÿå™¨ï¼Œä¸ä»…æˆæœ¬é«˜ã€å®æ—¶æ€§å·®ï¼Œè€Œä¸”éš¾ä»¥è§„æ¨¡åŒ–æ¨å¹¿ã€‚</p>
<p>éšç€è®¡ç®—æœºè§†è§‰ä¸æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å‘å±•ï¼Œ<strong>åŸºäºæ‘„åƒå¤´çš„åå§¿è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿ</strong>é€æ¸æˆä¸ºä¸€ç§å¯è¡Œä¸”ä½æˆæœ¬çš„è§£å†³æ–¹æ¡ˆã€‚
æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸ª <strong>åŸºäº YOLOv8 çš„æ™ºèƒ½åå§¿æ£€æµ‹ç³»ç»Ÿ</strong>ï¼Œå®ç°å¯¹ <strong>æ ‡å‡†åå§¿ / ä¸è‰¯åå§¿ï¼ˆé©¼èƒŒï¼‰</strong> çš„è‡ªåŠ¨è¯†åˆ«ï¼Œå¹¶é€šè¿‡ <strong>PyQt5 æ„å»ºå®Œæ•´å›¾å½¢åŒ–åº”ç”¨</strong>ï¼Œå®ç°ä»æ¨¡å‹è®­ç»ƒåˆ°ç»ˆç«¯éƒ¨ç½²çš„å®Œæ•´é—­ç¯ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8dd7895b68c84dd9a16d1b405bb75b7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=iZ%2BPvZPr0hEaHFSJkYZyOsHyGSQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1R578zKE3o" target="_blank" title="https://www.bilibili.com/video/BV1R578zKE3o" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1R5â€¦</a></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dd3483d2bb6416d8cd311ca6e8f2bb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=41duhOObBJFPur20VgnJLUg6MRI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ€»ä½“è®¾è®¡ä¸æŠ€æœ¯è·¯çº¿</h3>
<h4 data-id="heading-4">2.1 ç³»ç»Ÿè®¾è®¡ç›®æ ‡</h4>
<p>æœ¬ç³»ç»Ÿçš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡åŒ…æ‹¬ï¼š</p>
<ul>
<li>ğŸ¯ å®æ—¶è¯†åˆ«å­¦ç”Ÿæˆ–ç”¨æˆ·åå§¿çŠ¶æ€</li>
<li>ğŸ¯ æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€æ‘„åƒå¤´ç­‰å¤šè¾“å…¥æº</li>
<li>ğŸ¯ æ£€æµ‹ç»“æœå¯è§†åŒ–ã€å¯ä¿å­˜</li>
<li>ğŸ¯ éç®—æ³•äººå‘˜ä¹Ÿå¯ç›´æ¥ä½¿ç”¨</li>
</ul>
<h4 data-id="heading-5">2.2 æŠ€æœ¯æ¶æ„æ¦‚è§ˆ</h4>
<p>ç³»ç»Ÿæ•´ä½“é‡‡ç”¨â€œ<strong>æ£€æµ‹æ¨¡å‹ + å›¾å½¢ç•Œé¢ + æ¨ç†å¼•æ“</strong>â€çš„ä¸‰å±‚ç»“æ„ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¾“å…¥ç«¯ï¼ˆå›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ï¼‰
<span class="hljs-code">            â†“
YOLOv8 åå§¿æ£€æµ‹æ¨¡å‹ï¼ˆ2 ç±»ï¼‰
            â†“
å§¿æ€åˆ¤å®šç»“æœï¼ˆgood / badï¼‰
            â†“
PyQt5 GUI å®æ—¶å±•ç¤ºä¸ç»“æœä¿å­˜
</span></code></pre>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è¯´æ˜</h3>
<h4 data-id="heading-7">3.1 å¤šæ¨¡å¼åå§¿æ£€æµ‹</h4>
<p>ç³»ç»Ÿæ”¯æŒä»¥ä¸‹å‡ ç§ä½¿ç”¨æ–¹å¼ï¼š</p>

































<table><thead><tr><th>åŠŸèƒ½æ¨¡å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å•å›¾æ£€æµ‹</td><td>é€‚åˆæ ·æœ¬åˆ†æä¸æµ‹è¯•</td></tr><tr><td>æ–‡ä»¶å¤¹æ£€æµ‹</td><td>æ‰¹é‡è¯„ä¼°åå§¿æ•°æ®</td></tr><tr><td>è§†é¢‘åˆ†æ</td><td>è¡Œä¸ºå›æ”¾ä¸ç»Ÿè®¡</td></tr><tr><td>æ‘„åƒå¤´å®æ—¶æ£€æµ‹</td><td>å®æ—¶æé†’ä¸ç›‘æ§</td></tr><tr><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba9954c6f35e46afb20e5f9358d0527c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=%2Fe6bWe2zSL3d3vLZfZzxCvRCXqs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></td><td/></tr><tr><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bb32c3eea6a49448c1a9ed16ae78c56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=9zyl6i2%2FKHORH77CThTeztIQXqk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></td><td/></tr></tbody></table>
<h4 data-id="heading-8">3.2 åå§¿ç±»åˆ«å®šä¹‰</h4>
<p>å½“å‰ç³»ç»Ÿèšç„¦äº<strong>æœ€å…·å®ç”¨ä»·å€¼çš„ä¸¤ç±»åå§¿çŠ¶æ€</strong>ï¼š</p>
<ul>
<li><code>sitting_good</code>ï¼šæ ‡å‡†åå§¿</li>
<li><code>sitting_bad</code>ï¼šä¸è‰¯åå§¿ï¼ˆé©¼èƒŒ / å‰å€¾ï¼‰</li>
</ul>
<p>è¯¥è®¾è®¡æœ‰åˆ©äºæå‡æ¨¡å‹ç¨³å®šæ€§ï¼Œå¹¶ä¾¿äºåç»­æ‰©å±•æ›´å¤šå§¿æ€ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-9">å››ã€YOLOv8 åœ¨åå§¿æ£€æµ‹ä¸­çš„åº”ç”¨ä¼˜åŠ¿</h3>
<h4 data-id="heading-10">4.1 ä¸ºä»€ä¹ˆé€‰æ‹© YOLOv8ï¼Ÿ</h4>
<p>YOLOv8 æ˜¯ Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­ä¸»è¦ä¼˜åŠ¿ä½“ç°åœ¨ï¼š</p>
<ul>
<li>ğŸš€ æ¨ç†é€Ÿåº¦å¿«ï¼Œé€‚åˆå®æ—¶æ‘„åƒå¤´åœºæ™¯</li>
<li>ğŸ¯ Anchor-Free æ¶æ„ï¼Œå¯¹å§¿æ€å˜åŒ–æ›´é²æ£’</li>
<li>ğŸ§  è®­ç»ƒä¸éƒ¨ç½²æµç¨‹é«˜åº¦å·¥ç¨‹åŒ–</li>
<li>ğŸ”Œ åŸç”Ÿæ”¯æŒ ONNX / TensorRT å¯¼å‡º</li>
</ul>
<h4 data-id="heading-11">4.2 åå§¿æ£€æµ‹çš„å»ºæ¨¡æ€è·¯</h4>
<p>ä¸ä¼ ç»Ÿâ€œå…³é”®ç‚¹å§¿æ€ä¼°è®¡â€ä¸åŒï¼Œæœ¬é¡¹ç›®é‡‡ç”¨ï¼š</p>
<blockquote>
<p><strong>åŸºäºç›®æ ‡æ£€æµ‹çš„åå§¿çŠ¶æ€åˆ¤å®š</strong></p>
</blockquote>
<p>å³ï¼š
é€šè¿‡æ£€æµ‹äººä½“ä¸ŠåŠèº«æ•´ä½“å§¿æ€åŒºåŸŸï¼Œç›´æ¥è¾“å‡ºâ€œåå§¿ç±»åˆ«â€ï¼Œåœ¨<strong>å®æ—¶æ€§ä¸å·¥ç¨‹å¤æ‚åº¦</strong>ä¹‹é—´å–å¾—è‰¯å¥½å¹³è¡¡ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a34e28a89e747c19086d471a6b21d65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=2yq0C%2BpdbfmTPIDkMwStDTQoQns%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12">äº”ã€æ•°æ®é›†æ„å»ºä¸æ ‡æ³¨è§„èŒƒ</h3>
<h4 data-id="heading-13">5.1 æ•°æ®æ¥æºä¸ç‰¹ç‚¹</h4>
<p>è®­ç»ƒæ•°æ®ä¸»è¦æ¥æºäºï¼š</p>
<ul>
<li>æ•™å®¤ä¸å±…å®¶å­¦ä¹ åœºæ™¯</li>
<li>ä¸åŒå…‰ç…§ä¸æ‹æ‘„è§’åº¦</li>
<li>å¤šç§èº«é«˜ã€åå§¿ä¹ æƒ¯</li>
</ul>
<p>ç¡®ä¿æ¨¡å‹åœ¨çœŸå®ç¯å¢ƒä¸­çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<hr/>
<h4 data-id="heading-14">5.2 æ•°æ®é›†ç»„ç»‡ç»“æ„</h4>
<p>é‡‡ç”¨ YOLO æ ‡å‡†æ•°æ®æ ¼å¼ï¼š</p>
<pre><code class="hljs language-text" lang="text">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
</code></pre>
<p>æ ‡ç­¾æ ¼å¼ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">0 0.51 0.36 0.39 0.32
</code></pre>
<p>ç±»åˆ«å®šä¹‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">nc:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">names:</span> [<span class="hljs-string">'sitting_bad'</span>, <span class="hljs-string">'sitting_good'</span>]
</code></pre>
<hr/>
<h3 data-id="heading-15">å…­ã€æ¨¡å‹è®­ç»ƒä¸æ€§èƒ½è¯„ä¼°</h3>
<h4 data-id="heading-16">6.1 è®­ç»ƒæµç¨‹</h4>
<p>æ¨¡å‹è®­ç»ƒåŸºäº Ultralytics YOLOv8 å®˜æ–¹æ¥å£ï¼Œæ ¸å¿ƒå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
model=yolov8n.pt \
data=data.yaml \
epochs=100 \
batch=16
</code></pre>
<h4 data-id="heading-17">6.2 è®­ç»ƒæŒ‡æ ‡åˆ†æ</h4>
<p>è®­ç»ƒè¿‡ç¨‹ä¸­é‡ç‚¹å…³æ³¨ï¼š</p>
<ul>
<li><code>box_loss</code>ï¼šäººä½“åŒºåŸŸå®šä½èƒ½åŠ›</li>
<li><code>cls_loss</code>ï¼šåå§¿ç±»åˆ«åŒºåˆ†èƒ½åŠ›</li>
<li><code>mAP@0.5</code>ï¼šæ•´ä½“æ£€æµ‹æ€§èƒ½</li>
</ul>
<p>å½“éªŒè¯é›† mAP@0.5 è¶…è¿‡ 90%ï¼Œæ¨¡å‹å³å¯ç”¨äºå®é™…éƒ¨ç½²ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81f1f3df862a48a2b888a7ee6b916b86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=b%2FCsuP%2FDZ%2BEtYRYDbgjepklZMBY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-18">ä¸ƒã€æ¨¡å‹æ¨ç†ä¸ç»“æœå±•ç¤º</h3>
<h4 data-id="heading-19">7.1 æ¨ç†ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"test.jpg"</span>, conf=<span class="hljs-number">0.25</span>, save=<span class="hljs-literal">True</span>)
</code></pre>
<h4 data-id="heading-20">7.2 è¾“å‡ºç»“æœè¯´æ˜</h4>
<p>æ¨ç†ç»“æœåŒ…å«ï¼š</p>
<ul>
<li>åå§¿ç±»åˆ«ï¼ˆgood / badï¼‰</li>
<li>ç½®ä¿¡åº¦è¯„åˆ†</li>
<li>è¾¹ç•Œæ¡†ä½ç½®</li>
<li>è‡ªåŠ¨ä¿å­˜çš„æ ‡æ³¨å›¾åƒ</li>
</ul>
<hr/>
<h3 data-id="heading-21">å…«ã€PyQt5 å›¾å½¢ç•Œé¢å®ç°</h3>
<h4 data-id="heading-22">8.1 GUI è®¾è®¡ç†å¿µ</h4>
<p>å›¾å½¢ç•Œé¢éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ul>
<li>ğŸ–±ï¸ é›¶å‘½ä»¤è¡Œæ“ä½œ</li>
<li>ğŸ‘¨â€ğŸ« é¢å‘æ•™è‚²ä¸æ—¥å¸¸ç”¨æˆ·</li>
<li>âš¡ å®æ—¶åˆ·æ–°ã€ä½å»¶è¿Ÿ</li>
<li>ğŸ’¾ æ”¯æŒç»“æœç•™å­˜ä¸å¤æŸ¥</li>
</ul>
<h4 data-id="heading-23">8.2 å®æ—¶æ£€æµ‹æµç¨‹</h4>
<p>æ‘„åƒå¤´æ£€æµ‹æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è·å–è§†é¢‘å¸§</li>
<li>YOLOv8 æ¨ç†</li>
<li>ç»˜åˆ¶æ£€æµ‹æ¡†</li>
<li>å®æ—¶æ˜¾ç¤ºä¸å­˜å‚¨</li>
</ol>
<p>ç³»ç»Ÿè¿è¡Œç¨³å®šï¼Œé€‚åˆé•¿æ—¶é—´ä½¿ç”¨ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78d8cff0ddab47078f9493b3f326db77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=TqIcarIOU3ToRdadFi7GgnVPxzY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-24">ä¹ã€åº”ç”¨åœºæ™¯ä¸æ‹“å±•æ–¹å‘</h3>
<h4 data-id="heading-25">9.1 å…¸å‹åº”ç”¨åœºæ™¯</h4>
<ul>
<li>ğŸ“š æ™ºèƒ½æ•™å®¤åå§¿ç®¡ç†</li>
<li>ğŸ§‘â€ğŸ’» åŠå…¬ä¹…åå¥åº·ç›‘æµ‹</li>
<li>ğŸ« æ ¡å›­è¡Œä¸ºè§„èŒƒç³»ç»Ÿ</li>
<li>ğŸ§ª è¡Œä¸ºè¯†åˆ«ç›¸å…³ç§‘ç ”å®éªŒ</li>
</ul>
<h4 data-id="heading-26">9.2 å¯æ‰©å±•æ–¹å‘</h4>
<ul>
<li>å¢åŠ ä½å¤´ã€ä¾§èº«ç­‰ç»†åˆ†ç±»åˆ«</li>
<li>èåˆå…³é”®ç‚¹å§¿æ€ä¼°è®¡æ¨¡å‹</li>
<li>æ¥å…¥å£°éŸ³æˆ–æ¶ˆæ¯æé†’æœºåˆ¶</li>
<li>éƒ¨ç½²è‡³è¾¹ç¼˜è®¾å¤‡ï¼ˆJetson / RKï¼‰</li>
</ul>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75b1b29f80714ba080ddef71d3e3fd3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767200174&amp;x-signature=74rAl%2BiOrLBM84Mymj4cKHG%2FqRI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-27">åã€æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ª <strong>åŸºäº YOLOv8 çš„æ™ºèƒ½åå§¿è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œä»æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒåˆ° PyQt5 å›¾å½¢åŒ–éƒ¨ç½²ï¼Œå®Œæ•´å±•ç¤ºäº†ä¸€ä¸ªè®¡ç®—æœºè§†è§‰é¡¹ç›®çš„å·¥ç¨‹åŒ–è½åœ°è¿‡ç¨‹ã€‚</p>
<p>è¯¥ç³»ç»Ÿå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>âœ… ç»“æ„æ¸…æ™°ã€æ˜“å¤ç°</li>
<li>âœ… å®æ—¶æ€§å¼ºã€éƒ¨ç½²æˆæœ¬ä½</li>
<li>âœ… é€‚åˆæ•™å­¦ã€ç§‘ç ”ä¸å®é™…åº”ç”¨</li>
<li>âœ… æ”¯æŒäºŒæ¬¡å¼€å‘ä¸åŠŸèƒ½æ‰©å±•</li>
</ul>
<p>åœ¨â€œæ™ºæ…§æ ¡å›­â€â€œå¥åº·åŠå…¬â€ç­‰åº”ç”¨èƒŒæ™¯ä¸‹ï¼Œæ­¤ç±»åŸºäºè§†è§‰çš„è¡Œä¸ºè¯†åˆ«ç³»ç»Ÿå…·æœ‰å¹¿é˜”çš„è½åœ°ç©ºé—´å’Œå®è·µä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JSä¹‹ç±»å‹åŒ–æ•°ç»„]]></title>    <link>https://juejin.cn/post/7587299670641229830</link>    <guid>https://juejin.cn/post/7587299670641229830</guid>    <pubDate>2025-12-24T15:09:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587299670641229830" data-draft-id="7587252766832246826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JSä¹‹ç±»å‹åŒ–æ•°ç»„"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-24T15:09:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ¢¦plus"/> <meta itemprop="url" content="https://juejin.cn/user/2875978149798093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JSä¹‹ç±»å‹åŒ–æ•°ç»„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978149798093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ¢¦plus
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:09:13.000Z" title="Wed Dec 24 2025 15:09:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JSä¹‹ç±»å‹åŒ–æ•°ç»„</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ä¼ ç»ŸJavaScriptä¸­ï¼Œæ•°ç»„æ˜¯åŠ¨æ€ç±»å‹çš„é€šç”¨å®¹å™¨ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œä½†è¿™ç§çµæ´»æ€§ä»¥æ€§èƒ½ä¸ºä»£ä»·ã€‚éšç€Webåº”ç”¨å¯¹é«˜æ€§èƒ½è®¡ç®—çš„éœ€æ±‚æ—¥ç›Šå¢é•¿ï¼ˆWebGLå›¾å½¢æ¸²æŸ“ã€éŸ³è§†é¢‘å¤„ç†ã€å¤§æ–‡ä»¶æ“ä½œã€WebAssemblyäº’æ“ä½œï¼‰ï¼ŒJavaScriptå¼•å…¥äº†ç±»å‹åŒ–æ•°ç»„ï¼ˆTyped Arraysï¼‰â€”â€” ä¸€ç§ä¸“é—¨ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„é«˜æ•ˆæ•°æ®ç»“æ„ã€‚</p>
<p>ç±»å‹åŒ–æ•°ç»„æä¾›äº†å¯¹åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºçš„è§†å›¾è®¿é—®ï¼Œä½¿JavaScriptèƒ½å¤Ÿä»¥æ¥è¿‘åŸç”Ÿæ€§èƒ½çš„æ–¹å¼å¤„ç†å¤§é‡æ•°å€¼æ•°æ®ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ç±»å‹åŒ–æ•°ç»„çš„è®¾è®¡åŸç†ã€å†…å­˜æ¨¡å‹ã€æ€§èƒ½ç‰¹æ€§ï¼Œä»¥åŠåœ¨ç°ä»£Webå¼€å‘ä¸­çš„å®é™…åº”ç”¨åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€ä¸æ™®é€šæ•°ç»„çš„åŒºåˆ«</h3>
<h4 data-id="heading-3">1.1 æ ¸å¿ƒå·®å¼‚å¯¹æ¯”</h4>
<p>ç±»å‹åŒ–æ•°ç»„ä¸æ™®é€šJavaScriptæ•°ç»„å­˜åœ¨æœ¬è´¨åŒºåˆ«ï¼Œç†è§£è¿™äº›å·®å¼‚æ˜¯æ­£ç¡®ä½¿ç”¨ç±»å‹åŒ–æ•°ç»„çš„å‰æã€‚</p>
<h5 data-id="heading-4"><strong>å…³é”®åŒºåˆ«å¯¹ç…§è¡¨</strong></h5>























































<table><thead><tr><th>ç‰¹æ€§</th><th>ç±»å‹åŒ–æ•°ç»„</th><th>æ™®é€šæ•°ç»„</th></tr></thead><tbody><tr><td><strong>å…ƒç´ ç±»å‹</strong></td><td>å›ºå®šç±»å‹ï¼ˆInt8, Uint32, Float64ç­‰ï¼‰</td><td>ä»»æ„ç±»å‹ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰</td></tr><tr><td><strong>å†…å­˜å¸ƒå±€</strong></td><td>è¿ç»­ã€ç´§å‡‘çš„äºŒè¿›åˆ¶å†…å­˜å—</td><td>ç¨€ç–æ•°ç»„ï¼Œå¯èƒ½å­˜åœ¨holes</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>é«˜æ€§èƒ½ï¼ˆ2-5å€é€Ÿåº¦æå‡ï¼‰</td><td>ç›¸å¯¹è¾ƒæ…¢</td></tr><tr><td><strong>å†…å­˜å ç”¨</strong></td><td>ç²¾ç¡®å¯æ§ï¼ˆæ¯ä¸ªå…ƒç´ å›ºå®šå­—èŠ‚æ•°ï¼‰</td><td>ä¸å¯é¢„æµ‹ï¼ˆæ¯ä¸ªå…ƒç´ 8-16å­—èŠ‚ä»¥ä¸Šï¼‰</td></tr><tr><td><strong>ç´¢å¼•è®¿é—®</strong></td><td>ä»…æ•°å­—ç´¢å¼• 0 åˆ° length-1</td><td>ä»»æ„å­—ç¬¦ä¸²ä½œä¸ºkey</td></tr><tr><td><strong>é•¿åº¦å¯å˜æ€§</strong></td><td>é•¿åº¦å›ºå®šï¼Œåˆ›å»ºåä¸å¯æ”¹å˜</td><td>é•¿åº¦å¯åŠ¨æ€å˜åŒ–</td></tr><tr><td><strong>å¯å­˜å‚¨å†…å®¹</strong></td><td>ä»…æ•°å€¼</td><td>ä»»æ„JavaScriptå€¼</td></tr><tr><td><strong>åŸå‹æ–¹æ³•</strong></td><td>éƒ¨åˆ†æ•°ç»„æ–¹æ³•ï¼ˆmap, filterç­‰ï¼‰</td><td>å®Œæ•´æ•°ç»„æ–¹æ³•ï¼ˆpush, popç­‰ï¼‰</td></tr><tr><td><strong>åº•å±‚å­˜å‚¨</strong></td><td>ArrayBufferäºŒè¿›åˆ¶ç¼“å†²åŒº</td><td>JavaScriptå¯¹è±¡</td></tr></tbody></table>
<h5 data-id="heading-5"><strong>ä»£ç ç¤ºä¾‹å¯¹æ¯”</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ™®é€šæ•°ç»„ - çµæ´»ä½†ä½æ•ˆ</span>
<span class="hljs-keyword">const</span> regularArray = [];
regularArray[<span class="hljs-number">0</span>] = <span class="hljs-number">42</span>;              <span class="hljs-comment">// æ•°å­—</span>
regularArray[<span class="hljs-number">1</span>] = <span class="hljs-string">'hello'</span>;         <span class="hljs-comment">// å­—ç¬¦ä¸²</span>
regularArray[<span class="hljs-number">2</span>] = { <span class="hljs-attr">name</span>: <span class="hljs-string">'obj'</span> }; <span class="hljs-comment">// å¯¹è±¡</span>
regularArray[<span class="hljs-number">100</span>] = <span class="hljs-string">'sparse'</span>;      <span class="hljs-comment">// ç¨€ç–æ•°ç»„</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regularArray.<span class="hljs-property">length</span>);  <span class="hljs-comment">// 101ï¼ˆä¸­é—´æœ‰holesï¼‰</span>

<span class="hljs-comment">// ç±»å‹åŒ–æ•°ç»„ - é«˜æ•ˆä½†ç±»å‹å›ºå®š</span>
<span class="hljs-keyword">const</span> typedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(<span class="hljs-number">4</span>);
typedArray[<span class="hljs-number">0</span>] = <span class="hljs-number">42</span>;                <span class="hljs-comment">// æ­£ç¡®</span>
typedArray[<span class="hljs-number">1</span>] = <span class="hljs-number">3.14</span>;              <span class="hljs-comment">// ä¼šè¢«æˆªæ–­ä¸º 3</span>
<span class="hljs-comment">// typedArray[2] = 'hello';        // æ— æ•ˆï¼Œä¼šå˜æˆ 0</span>
<span class="hljs-comment">// typedArray[2] = { name: 'obj' };// æ— æ•ˆï¼Œä¼šå˜æˆ 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-property">length</span>);    <span class="hljs-comment">// 4ï¼ˆé•¿åº¦å›ºå®šï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray);           <span class="hljs-comment">// Int32Array(4) [42, 3, 0, 0]</span>
</code></pre>
<h4 data-id="heading-6">1.2 æ€§èƒ½å¯¹æ¯”</h4>
<p>ç±»å‹åŒ–æ•°ç»„åœ¨æ•°å€¼è®¡ç®—åœºæ™¯ä¸‹å…·æœ‰æ˜¾è‘—æ€§èƒ½ä¼˜åŠ¿ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ€§èƒ½åŸºå‡†æµ‹è¯•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">benchmarkArrays</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> size = <span class="hljs-number">1000000</span>;
  <span class="hljs-keyword">const</span> iterations = <span class="hljs-number">100</span>;

  <span class="hljs-comment">// æµ‹è¯•æ™®é€šæ•°ç»„</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'æ™®é€šæ•°ç»„æ±‚å’Œ'</span>);
  <span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(size);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) arr[i] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> iter = <span class="hljs-number">0</span>; iter &lt; iterations; iter++) {
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) {
      sum += arr[i];
    }
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'æ™®é€šæ•°ç»„æ±‚å’Œ'</span>);

  <span class="hljs-comment">// æµ‹è¯•Float64Array</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'Float64Arrayæ±‚å’Œ'</span>);
  <span class="hljs-keyword">const</span> typedArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float64Array</span>(size);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) typedArr[i] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> iter = <span class="hljs-number">0</span>; iter &lt; iterations; iter++) {
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) {
      sum += typedArr[i];
    }
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'Float64Arrayæ±‚å’Œ'</span>);
}

<span class="hljs-title function_">benchmarkArrays</span>();
<span class="hljs-comment">/*
å…¸å‹è¾“å‡ºï¼š
æ™®é€šæ•°ç»„æ±‚å’Œ: 1842.50ms
Float64Arrayæ±‚å’Œ: 623.20ms  (å¿«çº¦3å€!)
*/</span>
</code></pre>
<h4 data-id="heading-7">1.3 å†…å­˜å ç”¨å¯¹æ¯”</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">compareMemoryUsage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> size = <span class="hljs-number">1000000</span>;

  <span class="hljs-comment">// æ™®é€šæ•°ç»„ - å†…å­˜å ç”¨ä¸ç¡®å®š</span>
  <span class="hljs-keyword">const</span> regularArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(size);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) {
    regularArray[i] = i;
  }
  <span class="hljs-comment">// ä¼°ç®—å†…å­˜å ç”¨: ~8-16 MBï¼ˆæ¯ä¸ªå…ƒç´ 8-16å­—èŠ‚ï¼‰</span>

  <span class="hljs-comment">// Int32Array - ç²¾ç¡®å†…å­˜æ§åˆ¶</span>
  <span class="hljs-keyword">const</span> int32Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(size);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) {
    int32Array[i] = i;
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Int32Arrayå­—èŠ‚é•¿åº¦:'</span>, int32Array.<span class="hljs-property">byteLength</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Int32Arrayå†…å­˜å ç”¨:'</span>, (int32Array.<span class="hljs-property">byteLength</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>), <span class="hljs-string">'MB'</span>);
  <span class="hljs-comment">// è¾“å‡º: 4000000 bytes = 3.81 MB</span>

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¯ä¸ªå…ƒç´ å­—èŠ‚æ•°:'</span>, int32Array.<span class="hljs-property">BYTES_PER_ELEMENT</span>); <span class="hljs-comment">// 4</span>
}

<span class="hljs-title function_">compareMemoryUsage</span>();
</code></pre>
<h4 data-id="heading-8">1.4 æ–¹æ³•å·®å¼‚</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> regularArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> typedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);

<span class="hljs-comment">// âœ… ä¸¤è€…éƒ½æ”¯æŒçš„æ–¹æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regularArray.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>));    <span class="hljs-comment">// [2, 4, 6, 8, 10]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>));      <span class="hljs-comment">// Int32Array [2, 4, 6, 8, 10]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regularArray.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">2</span>)); <span class="hljs-comment">// [3, 4, 5]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">2</span>));   <span class="hljs-comment">// Int32Array [3, 4, 5]</span>

<span class="hljs-comment">// âŒ æ™®é€šæ•°ç»„ç‹¬æœ‰çš„æ–¹æ³•ï¼ˆç±»å‹åŒ–æ•°ç»„ä¸æ”¯æŒï¼‰</span>
regularArray.<span class="hljs-title function_">push</span>(<span class="hljs-number">6</span>);      <span class="hljs-comment">// âœ… å¯ä»¥</span>
<span class="hljs-comment">// typedArray.push(6);     // âŒ TypeError: typedArray.push is not a function</span>

regularArray.<span class="hljs-title function_">pop</span>();        <span class="hljs-comment">// âœ… å¯ä»¥</span>
<span class="hljs-comment">// typedArray.pop();       // âŒ TypeError</span>

regularArray.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// âœ… å¯ä»¥</span>
<span class="hljs-comment">// typedArray.splice(1, 2);// âŒ TypeError</span>

<span class="hljs-comment">// âœ… ç±»å‹åŒ–æ•°ç»„ç‹¬æœ‰çš„å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-property">buffer</span>);           <span class="hljs-comment">// ArrayBufferå¯¹è±¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-property">byteLength</span>);       <span class="hljs-comment">// 20ï¼ˆ5ä¸ªå…ƒç´  Ã— 4å­—èŠ‚ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-property">byteOffset</span>);       <span class="hljs-comment">// 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(typedArray.<span class="hljs-property">BYTES_PER_ELEMENT</span>);<span class="hljs-comment">// 4</span>
</code></pre>
<hr/>
<h3 data-id="heading-9">äºŒã€ç±»å‹åŒ–æ•°ç»„æœ‰å“ªäº›</h3>
<h4 data-id="heading-10">2.1 å®Œæ•´ç±»å‹åˆ—è¡¨</h4>
<p>JavaScriptæä¾›äº†<strong>11ç§</strong>ç±»å‹åŒ–æ•°ç»„ï¼Œè¦†ç›–ä¸åŒçš„æ•´æ•°å’Œæµ®ç‚¹æ•°ç±»å‹ã€‚</p>
<h5 data-id="heading-11"><strong>ç±»å‹åŒ–æ•°ç»„æ¶æ„å›¾</strong></h5>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[ArrayBuffer åŸå§‹å†…å­˜ç¼“å†²åŒº] --&gt; B[TypedArrayè§†å›¾]
    A --&gt; C[DataViewè§†å›¾]

    B --&gt; D1[Int8Array&lt;br/&gt;8ä½æœ‰ç¬¦å·æ•´æ•°&lt;br/&gt;-128 åˆ° 127]
    B --&gt; D2[Uint8Array&lt;br/&gt;8ä½æ— ç¬¦å·æ•´æ•°&lt;br/&gt;0 åˆ° 255]
    B --&gt; D3[Uint8ClampedArray&lt;br/&gt;8ä½æ— ç¬¦å·æ•´æ•° é’³ä½&lt;br/&gt;0 åˆ° 255]
    B --&gt; D4[Int16Array&lt;br/&gt;16ä½æœ‰ç¬¦å·æ•´æ•°&lt;br/&gt;-32768 åˆ° 32767]
    B --&gt; D5[Uint16Array&lt;br/&gt;16ä½æ— ç¬¦å·æ•´æ•°&lt;br/&gt;0 åˆ° 65535]
    B --&gt; D6[Int32Array&lt;br/&gt;32ä½æœ‰ç¬¦å·æ•´æ•°&lt;br/&gt;-2^31 åˆ° 2^31-1]
    B --&gt; D7[Uint32Array&lt;br/&gt;32ä½æ— ç¬¦å·æ•´æ•°&lt;br/&gt;0 åˆ° 2^32-1]
    B --&gt; D8[Float32Array&lt;br/&gt;32ä½IEEEæµ®ç‚¹æ•°]
    B --&gt; D9[Float64Array&lt;br/&gt;64ä½IEEEæµ®ç‚¹æ•°]
    B --&gt; D10[BigInt64Array&lt;br/&gt;64ä½æœ‰ç¬¦å·BigInt]
    B --&gt; D11[BigUint64Array&lt;br/&gt;64ä½æ— ç¬¦å·BigInt]

    C --&gt; E[çµæ´»çš„æ··åˆç±»å‹è¯»å†™]

    style A fill:#FF6B6B,color:#fff
    style B fill:#4ECDC4,color:#000
    style C fill:#FFD93D,color:#000
</code></pre>
<h5 data-id="heading-12"><strong>è¯¦ç»†ç±»å‹è¯´æ˜è¡¨</strong></h5>













































































<table><thead><tr><th>ç±»å‹</th><th>å­—èŠ‚æ•°</th><th>å–å€¼èŒƒå›´</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>Int8Array</strong></td><td>1</td><td>-128 åˆ° 127</td><td>å°æ•´æ•°ã€ASCIIå­—ç¬¦</td></tr><tr><td><strong>Uint8Array</strong></td><td>1</td><td>0 åˆ° 255</td><td>äºŒè¿›åˆ¶æ•°æ®ã€åƒç´ RGBå€¼</td></tr><tr><td><strong>Uint8ClampedArray</strong></td><td>1</td><td>0 åˆ° 255ï¼ˆé’³ä½ï¼‰</td><td>Canvasåƒç´ æ•°æ®</td></tr><tr><td><strong>Int16Array</strong></td><td>2</td><td>-32,768 åˆ° 32,767</td><td>éŸ³é¢‘æ ·æœ¬</td></tr><tr><td><strong>Uint16Array</strong></td><td>2</td><td>0 åˆ° 65,535</td><td>Unicodeå­—ç¬¦</td></tr><tr><td><strong>Int32Array</strong></td><td>4</td><td>-2,147,483,648 åˆ° 2,147,483,647</td><td>å¤§æ•´æ•°è®¡ç®—</td></tr><tr><td><strong>Uint32Array</strong></td><td>4</td><td>0 åˆ° 4,294,967,295</td><td>é¢œè‰²RGBAå€¼</td></tr><tr><td><strong>Float32Array</strong></td><td>4</td><td>Â±1.18e-38 åˆ° Â±3.4e38</td><td>WebGLåæ ‡ã€3Då›¾å½¢</td></tr><tr><td><strong>Float64Array</strong></td><td>8</td><td>Â±5e-324 åˆ° Â±1.8e308</td><td>é«˜ç²¾åº¦ç§‘å­¦è®¡ç®—</td></tr><tr><td><strong>BigInt64Array</strong></td><td>8</td><td>-2^63 åˆ° 2^63-1</td><td>è¶…å¤§æ•´æ•°</td></tr><tr><td><strong>BigUint64Array</strong></td><td>8</td><td>0 åˆ° 2^64-1</td><td>è¶…å¤§æ— ç¬¦å·æ•´æ•°</td></tr></tbody></table>
<h4 data-id="heading-13">2.2 ç±»å‹é€‰æ‹©ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹1: 8ä½æ•´æ•°ç±»å‹</span>
<span class="hljs-keyword">const</span> int8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int8Array</span>(<span class="hljs-number">4</span>);
int8[<span class="hljs-number">0</span>] = <span class="hljs-number">127</span>;   <span class="hljs-comment">// æœ€å¤§å€¼</span>
int8[<span class="hljs-number">1</span>] = -<span class="hljs-number">128</span>;  <span class="hljs-comment">// æœ€å°å€¼</span>
int8[<span class="hljs-number">2</span>] = <span class="hljs-number">200</span>;   <span class="hljs-comment">// æº¢å‡º: 200 - 256 = -56</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(int8); <span class="hljs-comment">// Int8Array(4) [127, -128, -56, 0]</span>

<span class="hljs-keyword">const</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">4</span>);
uint8[<span class="hljs-number">0</span>] = <span class="hljs-number">255</span>;  <span class="hljs-comment">// æœ€å¤§å€¼</span>
uint8[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;    <span class="hljs-comment">// æœ€å°å€¼</span>
uint8[<span class="hljs-number">2</span>] = -<span class="hljs-number">10</span>;  <span class="hljs-comment">// è´Ÿæ•°æº¢å‡º: 256 - 10 = 246</span>
uint8[<span class="hljs-number">3</span>] = <span class="hljs-number">300</span>;  <span class="hljs-comment">// æº¢å‡º: 300 - 256 = 44</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uint8); <span class="hljs-comment">// Uint8Array(4) [255, 0, 246, 44]</span>

<span class="hljs-comment">// Uint8ClampedArray ç‰¹æ®Šé’³ä½è¡Œä¸º</span>
<span class="hljs-keyword">const</span> clamped = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(<span class="hljs-number">4</span>);
clamped[<span class="hljs-number">0</span>] = <span class="hljs-number">255</span>;  <span class="hljs-comment">// æ­£å¸¸</span>
clamped[<span class="hljs-number">1</span>] = <span class="hljs-number">300</span>;  <span class="hljs-comment">// é’³ä½åˆ° 255</span>
clamped[<span class="hljs-number">2</span>] = -<span class="hljs-number">10</span>;  <span class="hljs-comment">// é’³ä½åˆ° 0</span>
clamped[<span class="hljs-number">3</span>] = <span class="hljs-number">128.6</span>;<span class="hljs-comment">// å››èˆäº”å…¥åˆ° 129</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clamped); <span class="hljs-comment">// Uint8ClampedArray(4) [255, 255, 0, 129]</span>

<span class="hljs-comment">// ç¤ºä¾‹2: æµ®ç‚¹æ•°ç±»å‹</span>
<span class="hljs-keyword">const</span> float32 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">3</span>);
float32[<span class="hljs-number">0</span>] = <span class="hljs-number">3.14159265359</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(float32[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 3.1415927410125732 (ç²¾åº¦æŸå¤±)</span>

<span class="hljs-keyword">const</span> float64 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float64Array</span>(<span class="hljs-number">3</span>);
float64[<span class="hljs-number">0</span>] = <span class="hljs-number">3.14159265359</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(float64[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 3.14159265359 (é«˜ç²¾åº¦)</span>

<span class="hljs-comment">// ç¤ºä¾‹3: BigIntç±»å‹</span>
<span class="hljs-keyword">const</span> bigInt64 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigInt64Array</span>(<span class="hljs-number">2</span>);
bigInt64[<span class="hljs-number">0</span>] = <span class="hljs-number">9007199254740991n</span>;      <span class="hljs-comment">// JavaScriptå®‰å…¨æ•´æ•°æœ€å¤§å€¼</span>
bigInt64[<span class="hljs-number">1</span>] = <span class="hljs-number">9223372036854775807n</span>;   <span class="hljs-comment">// BigInt64æœ€å¤§å€¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bigInt64);

<span class="hljs-comment">// ç¤ºä¾‹4: æ¯ä¸ªç±»å‹çš„å­—èŠ‚å¤§å°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Int8Array:'</span>, <span class="hljs-title class_">Int8Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);          <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Int16Array:'</span>, <span class="hljs-title class_">Int16Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);        <span class="hljs-comment">// 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Int32Array:'</span>, <span class="hljs-title class_">Int32Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);        <span class="hljs-comment">// 4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Float32Array:'</span>, <span class="hljs-title class_">Float32Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);    <span class="hljs-comment">// 4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Float64Array:'</span>, <span class="hljs-title class_">Float64Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);    <span class="hljs-comment">// 8</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'BigInt64Array:'</span>, <span class="hljs-title class_">BigInt64Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);  <span class="hljs-comment">// 8</span>
</code></pre>
<h4 data-id="heading-14">2.3 ç±»å‹é€‰æ‹©å†³ç­–æ ‘</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[éœ€è¦å­˜å‚¨æ•°å€¼æ•°æ®] --&gt; B{æ•´æ•°è¿˜æ˜¯æµ®ç‚¹æ•°?}

    B --&gt;|æ•´æ•°| C{æ˜¯å¦æœ‰è´Ÿæ•°?}
    B --&gt;|æµ®ç‚¹æ•°| D{ç²¾åº¦è¦æ±‚}

    C --&gt;|æœ‰| E{æ•°å€¼èŒƒå›´?}
    C --&gt;|æ— | F{æ•°å€¼èŒƒå›´?}

    E --&gt;|å° -128~127| G[Int8Array]
    E --&gt;|ä¸­ -32K~32K| H[Int16Array]
    E --&gt;|å¤§ -2B~2B| I[Int32Array]
    E --&gt;|è¶…å¤§| J[BigInt64Array]

    F --&gt;|å° 0~255| K{æ˜¯å¦Canvasåƒç´ ?}
    F --&gt;|ä¸­ 0~65K| L[Uint16Array]
    F --&gt;|å¤§ 0~4B| M[Uint32Array]
    F --&gt;|è¶…å¤§| N[BigUint64Array]

    K --&gt;|æ˜¯| O[Uint8ClampedArray]
    K --&gt;|å¦| P[Uint8Array]

    D --&gt;|å•ç²¾åº¦è¶³å¤Ÿ| Q[Float32Array]
    D --&gt;|éœ€è¦é«˜ç²¾åº¦| R[Float64Array]

    style G fill:#4ECDC4,color:#000
    style H fill:#4ECDC4,color:#000
    style I fill:#4ECDC4,color:#000
    style J fill:#4ECDC4,color:#000
    style L fill:#4ECDC4,color:#000
    style M fill:#4ECDC4,color:#000
    style N fill:#4ECDC4,color:#000
    style O fill:#FFD93D,color:#000
    style P fill:#4ECDC4,color:#000
    style Q fill:#50C878,color:#fff
    style R fill:#50C878,color:#fff
</code></pre>
<hr/>
<h3 data-id="heading-15">ä¸‰ã€åˆ›å»ºå’Œä½¿ç”¨ç±»å‹åŒ–æ•°ç»„</h3>
<h4 data-id="heading-16">3.1 åˆ›å»ºç±»å‹åŒ–æ•°ç»„çš„å¤šç§æ–¹å¼</h4>
<h5 data-id="heading-17"><strong>æ–¹å¼1: æŒ‡å®šé•¿åº¦åˆ›å»º</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºæŒ‡å®šé•¿åº¦çš„ç±»å‹åŒ–æ•°ç»„ï¼ˆå…ƒç´ åˆå§‹åŒ–ä¸º0ï¼‰</span>
<span class="hljs-keyword">const</span> arr1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(<span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr1); <span class="hljs-comment">// Int32Array(5) [0, 0, 0, 0, 0]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr1.<span class="hljs-property">length</span>);      <span class="hljs-comment">// 5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr1.<span class="hljs-property">byteLength</span>);  <span class="hljs-comment">// 20 (5 Ã— 4å­—èŠ‚)</span>
</code></pre>
<h5 data-id="heading-18"><strong>æ–¹å¼2: ä»æ™®é€šæ•°ç»„åˆ›å»º</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»æ™®é€šæ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡åˆ›å»º</span>
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr2); <span class="hljs-comment">// Float32Array(5) [1, 2, 3, 4, 5]</span>

<span class="hljs-comment">// ä»Setåˆ›å»º</span>
<span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>]);
<span class="hljs-keyword">const</span> arr3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(set);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr3); <span class="hljs-comment">// Uint16Array(3) [10, 20, 30]</span>
</code></pre>
<h5 data-id="heading-19"><strong>æ–¹å¼3: ä»ArrayBufferåˆ›å»º</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºArrayBuffer</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">16</span>); <span class="hljs-comment">// 16å­—èŠ‚ç¼“å†²åŒº</span>

<span class="hljs-comment">// ä»ArrayBufferåˆ›å»ºä¸åŒè§†å›¾</span>
<span class="hljs-keyword">const</span> view8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);   <span class="hljs-comment">// 16ä¸ª8ä½å…ƒç´ </span>
<span class="hljs-keyword">const</span> view16 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(buffer); <span class="hljs-comment">// 8ä¸ª16ä½å…ƒç´ </span>
<span class="hljs-keyword">const</span> view32 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(buffer); <span class="hljs-comment">// 4ä¸ª32ä½å…ƒç´ </span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view8.<span class="hljs-property">length</span>);  <span class="hljs-comment">// 16</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view16.<span class="hljs-property">length</span>); <span class="hljs-comment">// 8</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view32.<span class="hljs-property">length</span>); <span class="hljs-comment">// 4</span>

<span class="hljs-comment">// æŒ‡å®šåç§»é‡å’Œé•¿åº¦</span>
<span class="hljs-keyword">const</span> partialView = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(partialView.<span class="hljs-property">length</span>); <span class="hljs-comment">// 8ï¼ˆä»ç¬¬4å­—èŠ‚å¼€å§‹ï¼Œè¯»å–8ä¸ªå­—èŠ‚ï¼‰</span>
</code></pre>
<h5 data-id="heading-20"><strong>æ–¹å¼4: ä»å¦ä¸€ä¸ªç±»å‹åŒ–æ•°ç»„åˆ›å»º</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¤åˆ¶å¦ä¸€ä¸ªç±»å‹åŒ–æ•°ç»„</span>
<span class="hljs-keyword">const</span> original = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);
<span class="hljs-keyword">const</span> copy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(original);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy); <span class="hljs-comment">// Int32Array(5) [1, 2, 3, 4, 5]</span>

<span class="hljs-comment">// ç±»å‹è½¬æ¢</span>
<span class="hljs-keyword">const</span> floatArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">2.7</span>, <span class="hljs-number">3.9</span>]);
<span class="hljs-keyword">const</span> intArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(floatArray); <span class="hljs-comment">// è‡ªåŠ¨æˆªæ–­å°æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(intArray); <span class="hljs-comment">// Int32Array(3) [1, 2, 3]</span>
</code></pre>
<h4 data-id="heading-21">3.2 åŸºæœ¬æ“ä½œ</h4>
<h5 data-id="heading-22"><strong>è¯»å–å’Œå†™å…¥å…ƒç´ </strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int16Array</span>(<span class="hljs-number">5</span>);

<span class="hljs-comment">// å†™å…¥å…ƒç´ </span>
arr[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>;
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">200</span>;
arr[<span class="hljs-number">2</span>] = <span class="hljs-number">300</span>;

<span class="hljs-comment">// è¯»å–å…ƒç´ </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 100</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">1</span>]); <span class="hljs-comment">// 200</span>

<span class="hljs-comment">// ä½¿ç”¨setæ–¹æ³•æ‰¹é‡è®¾ç½®</span>
arr.<span class="hljs-title function_">set</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>], <span class="hljs-number">2</span>); <span class="hljs-comment">// ä»ç´¢å¼•2å¼€å§‹è®¾ç½®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// Int16Array(5) [100, 200, 10, 20, 30]</span>

<span class="hljs-comment">// ä½¿ç”¨fillå¡«å……</span>
arr.<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// å…¨éƒ¨å¡«å……ä¸º0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// Int16Array(5) [0, 0, 0, 0, 0]</span>

arr.<span class="hljs-title function_">fill</span>(<span class="hljs-number">99</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// ä»ç´¢å¼•1åˆ°3å¡«å……99</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// Int16Array(5) [0, 99, 99, 99, 0]</span>
</code></pre>
<h5 data-id="heading-23"><strong>æ•°ç»„æ–¹æ³•</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">2.5</span>, <span class="hljs-number">3.5</span>, <span class="hljs-number">4.5</span>, <span class="hljs-number">5.5</span>]);

<span class="hljs-comment">// map - æ˜ å°„è½¬æ¢</span>
<span class="hljs-keyword">const</span> doubled = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubled); <span class="hljs-comment">// Float32Array(5) [3, 5, 7, 9, 11]</span>

<span class="hljs-comment">// filter - è¿‡æ»¤</span>
<span class="hljs-keyword">const</span> filtered = numbers.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">3</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filtered); <span class="hljs-comment">// Float32Array(3) [3.5, 4.5, 5.5]</span>

<span class="hljs-comment">// reduce - å½’çº¦</span>
<span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, val</span>) =&gt;</span> acc + val, <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum); <span class="hljs-comment">// 17.5</span>

<span class="hljs-comment">// forEach - éå†</span>
numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, index</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${index}</span>] = <span class="hljs-subst">${value}</span>`</span>);
});

<span class="hljs-comment">// find - æŸ¥æ‰¾</span>
<span class="hljs-keyword">const</span> found = numbers.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">4</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(found); <span class="hljs-comment">// 4.5</span>

<span class="hljs-comment">// some / every - æ£€æµ‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">5</span>));  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">0</span>)); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// sort - æ’åº</span>
<span class="hljs-keyword">const</span> unsorted = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">9</span>]);
unsorted.<span class="hljs-title function_">sort</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(unsorted); <span class="hljs-comment">// Int32Array(5) [1, 2, 5, 8, 9]</span>
</code></pre>
<h5 data-id="heading-24"><strong>åˆ‡ç‰‡æ“ä½œ</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>]);

<span class="hljs-comment">// slice - åˆ›å»ºæ–°æ•°ç»„ï¼ˆå¤åˆ¶æ•°æ®ï¼‰</span>
<span class="hljs-keyword">const</span> sliced = original.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sliced); <span class="hljs-comment">// Uint8Array(3) [20, 30, 40]</span>
sliced[<span class="hljs-number">0</span>] = <span class="hljs-number">99</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original[<span class="hljs-number">1</span>]); <span class="hljs-comment">// 20ï¼ˆåŸæ•°ç»„ä¸å—å½±å“ï¼‰</span>

<span class="hljs-comment">// subarray - åˆ›å»ºè§†å›¾ï¼ˆé›¶æ‹·è´ï¼Œå…±äº«å†…å­˜ï¼‰</span>
<span class="hljs-keyword">const</span> subView = original.<span class="hljs-title function_">subarray</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(subView); <span class="hljs-comment">// Uint8Array(3) [20, 30, 40]</span>
subView[<span class="hljs-number">0</span>] = <span class="hljs-number">99</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original[<span class="hljs-number">1</span>]); <span class="hljs-comment">// 99ï¼ˆåŸæ•°ç»„è¢«ä¿®æ”¹ï¼ï¼‰</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'sliceä¼šå¤åˆ¶:'</span>, sliced.<span class="hljs-property">buffer</span> !== original.<span class="hljs-property">buffer</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'subarrayå…±äº«å†…å­˜:'</span>, subView.<span class="hljs-property">buffer</span> === original.<span class="hljs-property">buffer</span>);
</code></pre>
<h4 data-id="heading-25">3.3 ArrayBufferä¸è§†å›¾çš„å…³ç³»</h4>
<h5 data-id="heading-26"><strong>å¤šä¸ªè§†å›¾å…±äº«åŒä¸€ç¼“å†²åŒº</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»º16å­—èŠ‚ç¼“å†²åŒº</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">16</span>);

<span class="hljs-comment">// åˆ›å»ºå¤šä¸ªè§†å›¾</span>
<span class="hljs-keyword">const</span> view8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
<span class="hljs-keyword">const</span> view16 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(buffer);
<span class="hljs-keyword">const</span> view32 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(buffer);

<span class="hljs-comment">// é€šè¿‡8ä½è§†å›¾å†™å…¥æ•°æ®</span>
view8[<span class="hljs-number">0</span>] = <span class="hljs-number">0xFF</span>;
view8[<span class="hljs-number">1</span>] = <span class="hljs-number">0x00</span>;
view8[<span class="hljs-number">2</span>] = <span class="hljs-number">0xFF</span>;
view8[<span class="hljs-number">3</span>] = <span class="hljs-number">0x00</span>;

<span class="hljs-comment">// é€šè¿‡16ä½è§†å›¾è¯»å–ï¼ˆå°ç«¯åºï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view16[<span class="hljs-number">0</span>].<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// ff (0x00FF)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view16[<span class="hljs-number">1</span>].<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// ff (0x00FF)</span>

<span class="hljs-comment">// é€šè¿‡32ä½è§†å›¾è¯»å–</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view32[<span class="hljs-number">0</span>].<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// ff00ff</span>

<span class="hljs-comment">// éªŒè¯å…±äº«</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view8.<span class="hljs-property">buffer</span> === view16.<span class="hljs-property">buffer</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view8.<span class="hljs-property">buffer</span> === view32.<span class="hljs-property">buffer</span>); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-27"><strong>å†…å­˜å¸ƒå±€å¯è§†åŒ–</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);
<span class="hljs-keyword">const</span> uint8View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
<span class="hljs-keyword">const</span> uint32View = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(buffer);

<span class="hljs-comment">// å†™å…¥32ä½æ•´æ•°</span>
uint32View[<span class="hljs-number">0</span>] = <span class="hljs-number">0x12345678</span>;
uint32View[<span class="hljs-number">1</span>] = <span class="hljs-number">0xABCDEF00</span>;

<span class="hljs-comment">// æŸ¥çœ‹å­—èŠ‚å¸ƒå±€ï¼ˆå°ç«¯åºç³»ç»Ÿï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­—èŠ‚å¸ƒå±€:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...uint8View].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>)));
<span class="hljs-comment">// å°ç«¯åºè¾“å‡º: ['78', '56', '34', '12', '00', 'ef', 'cd', 'ab']</span>
<span class="hljs-comment">// å¤§ç«¯åºè¾“å‡º: ['12', '34', '56', '78', 'ab', 'cd', 'ef', '00']</span>

<span class="hljs-comment">// å†…å­˜å¸ƒå±€ç¤ºæ„</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`
å†…å­˜åœ°å€:  0    1    2    3    4    5    6    7
å­—èŠ‚å€¼:   78   56   34   12   00   ef   cd   ab
          |___uint32[0]___|   |___uint32[1]___|
          0x12345678          0xABCDEF00
`</span>);
</code></pre>
<h4 data-id="heading-28">3.4 å®ç”¨å·¥å…·å‡½æ•°</h4>
<h5 data-id="heading-29"><strong>ç±»å‹è½¬æ¢å·¥å…·</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å·¥å…·ç±»ï¼šç±»å‹åŒ–æ•°ç»„è½¬æ¢</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedArrayUtils</span> {
  <span class="hljs-comment">// è½¬æ¢ä¸ºæ™®é€šæ•°ç»„</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">toArray</span>(<span class="hljs-params">typedArray</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(typedArray);
  }

  <span class="hljs-comment">// ä»åå…­è¿›åˆ¶å­—ç¬¦ä¸²åˆ›å»ºUint8Array</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">fromHex</span>(<span class="hljs-params">hexString</span>) {
    <span class="hljs-keyword">const</span> bytes = hexString.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/.{1,2}/g</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bytes.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">byte</span> =&gt;</span> <span class="hljs-built_in">parseInt</span>(byte, <span class="hljs-number">16</span>)));
  }

  <span class="hljs-comment">// è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">toHex</span>(<span class="hljs-params">typedArray</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(typedArray)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>))
      .<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
  }

  <span class="hljs-comment">// ä»Base64å­—ç¬¦ä¸²åˆ›å»º</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">fromBase64</span>(<span class="hljs-params">base64String</span>) {
    <span class="hljs-keyword">const</span> binaryString = <span class="hljs-title function_">atob</span>(base64String);
    <span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(binaryString.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; binaryString.<span class="hljs-property">length</span>; i++) {
      bytes[i] = binaryString.<span class="hljs-title function_">charCodeAt</span>(i);
    }
    <span class="hljs-keyword">return</span> bytes;
  }

  <span class="hljs-comment">// è½¬æ¢ä¸ºBase64å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">toBase64</span>(<span class="hljs-params">typedArray</span>) {
    <span class="hljs-keyword">const</span> binaryString = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(...typedArray);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">btoa</span>(binaryString);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> hexData = <span class="hljs-string">'deadbeef'</span>;
<span class="hljs-keyword">const</span> bytes = <span class="hljs-title class_">TypedArrayUtils</span>.<span class="hljs-title function_">fromHex</span>(hexData);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bytes); <span class="hljs-comment">// Uint8Array(4) [222, 173, 190, 239]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">TypedArrayUtils</span>.<span class="hljs-title function_">toHex</span>(bytes)); <span class="hljs-comment">// 'deadbeef'</span>

<span class="hljs-keyword">const</span> base64 = <span class="hljs-title class_">TypedArrayUtils</span>.<span class="hljs-title function_">toBase64</span>(bytes);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(base64); <span class="hljs-comment">// '3q2+7w=='</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">TypedArrayUtils</span>.<span class="hljs-title function_">fromBase64</span>(base64)); <span class="hljs-comment">// Uint8Array(4) [222, 173, 190, 239]</span>
</code></pre>
<h5 data-id="heading-30"><strong>æ•°æ®æ“ä½œå·¥å…·</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‹¼æ¥å¤šä¸ªç±»å‹åŒ–æ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">concatenate</span>(<span class="hljs-params">...arrays</span>) {
  <span class="hljs-keyword">const</span> totalLength = arrays.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, arr</span>) =&gt;</span> sum + arr.<span class="hljs-property">length</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> arrays[<span class="hljs-number">0</span>].<span class="hljs-title function_">constructor</span>(<span class="hljs-params">totalLength</span>);

  <span class="hljs-keyword">let</span> offset = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> arr <span class="hljs-keyword">of</span> arrays) {
    result.<span class="hljs-title function_">set</span>(arr, offset);
    offset += arr.<span class="hljs-property">length</span>;
  }

  <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> arr1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]);
<span class="hljs-keyword">const</span> arr3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);
<span class="hljs-keyword">const</span> combined = <span class="hljs-title function_">concatenate</span>(arr1, arr2, arr3);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(combined); <span class="hljs-comment">// Uint8Array(9) [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>

<span class="hljs-comment">// æ¯”è¾ƒä¸¤ä¸ªç±»å‹åŒ–æ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">equals</span>(<span class="hljs-params">arr1, arr2</span>) {
  <span class="hljs-keyword">if</span> (arr1.<span class="hljs-property">length</span> !== arr2.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr1.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">if</span> (arr1[i] !== arr2[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">equals</span>(arr1, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]))); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">equals</span>(arr1, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]))); <span class="hljs-comment">// false</span>
</code></pre>
<hr/>
<h3 data-id="heading-31">å››ã€DataViewï¼šçµæ´»çš„äºŒè¿›åˆ¶æ•°æ®è§†å›¾</h3>
<h4 data-id="heading-32">4.1 DataViewåŸºç¡€</h4>
<p>DataViewæä¾›äº†æ¯”TypedArrayæ›´çµæ´»çš„äºŒè¿›åˆ¶æ•°æ®è®¿é—®æ–¹å¼ï¼Œæ”¯æŒæ··åˆç±»å‹è¯»å†™å’Œæ˜¾å¼å­—èŠ‚åºæ§åˆ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºDataView</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">24</span>);
<span class="hljs-keyword">const</span> dataView = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);

<span class="hljs-comment">// å†™å…¥ä¸åŒç±»å‹çš„æ•°æ®</span>
dataView.<span class="hljs-title function_">setInt8</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">42</span>);                    <span class="hljs-comment">// 1å­—èŠ‚ï¼Œæœ‰ç¬¦å·</span>
dataView.<span class="hljs-title function_">setUint8</span>(<span class="hljs-number">1</span>, <span class="hljs-number">255</span>);                   <span class="hljs-comment">// 1å­—èŠ‚ï¼Œæ— ç¬¦å·</span>
dataView.<span class="hljs-title function_">setInt16</span>(<span class="hljs-number">2</span>, -<span class="hljs-number">1000</span>, <span class="hljs-literal">true</span>);           <span class="hljs-comment">// 2å­—èŠ‚ï¼Œå°ç«¯åº</span>
dataView.<span class="hljs-title function_">setUint16</span>(<span class="hljs-number">4</span>, <span class="hljs-number">65535</span>, <span class="hljs-literal">false</span>);         <span class="hljs-comment">// 2å­—èŠ‚ï¼Œå¤§ç«¯åº</span>
dataView.<span class="hljs-title function_">setInt32</span>(<span class="hljs-number">6</span>, -<span class="hljs-number">123456</span>, <span class="hljs-literal">true</span>);         <span class="hljs-comment">// 4å­—èŠ‚</span>
dataView.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">10</span>, <span class="hljs-number">4294967295</span>, <span class="hljs-literal">true</span>);    <span class="hljs-comment">// 4å­—èŠ‚</span>
dataView.<span class="hljs-title function_">setFloat32</span>(<span class="hljs-number">14</span>, <span class="hljs-number">3.14</span>, <span class="hljs-literal">true</span>);         <span class="hljs-comment">// 4å­—èŠ‚ï¼ŒIEEE 754</span>
dataView.<span class="hljs-title function_">setFloat64</span>(<span class="hljs-number">18</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">true</span>);      <span class="hljs-comment">// 8å­—èŠ‚</span>

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getInt8</span>(<span class="hljs-number">0</span>));            <span class="hljs-comment">// -42</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">1</span>));           <span class="hljs-comment">// 255</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getInt16</span>(<span class="hljs-number">2</span>, <span class="hljs-literal">true</span>));     <span class="hljs-comment">// -1000</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">4</span>, <span class="hljs-literal">false</span>));   <span class="hljs-comment">// 65535</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getFloat32</span>(<span class="hljs-number">14</span>, <span class="hljs-literal">true</span>));  <span class="hljs-comment">// 3.140000104904175</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataView.<span class="hljs-title function_">getFloat64</span>(<span class="hljs-number">18</span>, <span class="hljs-literal">true</span>));  <span class="hljs-comment">// 3.141592653589793</span>
</code></pre>
<h4 data-id="heading-33">4.2 å­—èŠ‚åºï¼ˆEndiannessï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹ç³»ç»Ÿå­—èŠ‚åº</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getEndianness</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">const</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
  <span class="hljs-keyword">const</span> uint16 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(buffer);

  uint16[<span class="hljs-number">0</span>] = <span class="hljs-number">0xAABB</span>;

  <span class="hljs-keyword">if</span> (uint8[<span class="hljs-number">0</span>] === <span class="hljs-number">0xBB</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Little-Endian'</span>; <span class="hljs-comment">// ä½å­—èŠ‚åœ¨å‰ï¼ˆx86/x64ï¼‰</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Big-Endian'</span>;    <span class="hljs-comment">// é«˜å­—èŠ‚åœ¨å‰ï¼ˆç½‘ç»œå­—èŠ‚åºï¼‰</span>
  }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç³»ç»Ÿå­—èŠ‚åº:'</span>, <span class="hljs-title function_">getEndianness</span>());

<span class="hljs-comment">// å­—èŠ‚åºè½¬æ¢å·¥å…·</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteOrderConverter</span> {
  <span class="hljs-comment">// 16ä½å­—èŠ‚åºè½¬æ¢</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">swap16</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> ((value &amp; <span class="hljs-number">0xFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((value &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>);
  }

  <span class="hljs-comment">// 32ä½å­—èŠ‚åºè½¬æ¢</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">swap32</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> (
      ((value &amp; <span class="hljs-number">0xFF</span>) &lt;&lt; <span class="hljs-number">24</span>) |
      ((value &amp; <span class="hljs-number">0xFF00</span>) &lt;&lt; <span class="hljs-number">8</span>) |
      ((value &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF00</span>) |
      ((value &gt;&gt; <span class="hljs-number">24</span>) &amp; <span class="hljs-number">0xFF</span>)
    );
  }

  <span class="hljs-comment">// ä»å¤§ç«¯åºè¯»å–32ä½æ•´æ•°</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">readUint32BE</span>(<span class="hljs-params">buffer, offset = <span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);
    <span class="hljs-keyword">return</span> view.<span class="hljs-title function_">getUint32</span>(offset, <span class="hljs-literal">false</span>); <span class="hljs-comment">// false = å¤§ç«¯åº</span>
  }

  <span class="hljs-comment">// ä»å°ç«¯åºè¯»å–32ä½æ•´æ•°</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">readUint32LE</span>(<span class="hljs-params">buffer, offset = <span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);
    <span class="hljs-keyword">return</span> view.<span class="hljs-title function_">getUint32</span>(offset, <span class="hljs-literal">true</span>); <span class="hljs-comment">// true = å°ç«¯åº</span>
  }
}

<span class="hljs-comment">// ç¤ºä¾‹ï¼šè·¨å¹³å°æ•°æ®äº¤æ¢</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4</span>);
<span class="hljs-keyword">const</span> dataView = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);

<span class="hljs-comment">// å†™å…¥å¤§ç«¯åºï¼ˆç½‘ç»œå­—èŠ‚åºï¼‰</span>
dataView.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0x12345678</span>, <span class="hljs-literal">false</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤§ç«¯åºè¯»å–:'</span>, <span class="hljs-title class_">ByteOrderConverter</span>.<span class="hljs-title function_">readUint32BE</span>(buffer, <span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// 12345678</span>

<span class="hljs-comment">// å†™å…¥å°ç«¯åº</span>
dataView.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0x12345678</span>, <span class="hljs-literal">true</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å°ç«¯åºè¯»å–:'</span>, <span class="hljs-title class_">ByteOrderConverter</span>.<span class="hljs-title function_">readUint32LE</span>(buffer, <span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// 12345678</span>
</code></pre>
<h4 data-id="heading-34">4.3 äºŒè¿›åˆ¶åè®®è§£æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šè§£æè‡ªå®šä¹‰äºŒè¿›åˆ¶åè®®å¤´</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtocolParser</span> {
  <span class="hljs-comment">/*
   * åè®®æ ¼å¼ï¼š
   * [0-3]   Magic Number (4å­—èŠ‚) - 0x89504E47
   * [4-7]   Version (4å­—èŠ‚)
   * [8-11]  Payload Length (4å­—èŠ‚)
   * [12-15] Checksum (4å­—èŠ‚)
   * [16-19] Timestamp (4å­—èŠ‚)
   * [20+]   Payload Data
   */</span>

  <span class="hljs-keyword">static</span> <span class="hljs-variable constant_">MAGIC_NUMBER</span> = <span class="hljs-number">0x89504E47</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-variable constant_">HEADER_SIZE</span> = <span class="hljs-number">20</span>;

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">parseHeader</span>(<span class="hljs-params">buffer</span>) {
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);

    <span class="hljs-keyword">const</span> magic = view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">if</span> (magic !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">MAGIC_NUMBER</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Invalid magic number'</span>);
    }

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">magic</span>: magic.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>),
      <span class="hljs-attr">version</span>: view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">4</span>, <span class="hljs-literal">false</span>),
      <span class="hljs-attr">payloadLength</span>: view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">false</span>),
      <span class="hljs-attr">checksum</span>: view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">12</span>, <span class="hljs-literal">false</span>),
      <span class="hljs-attr">timestamp</span>: view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">16</span>, <span class="hljs-literal">false</span>),
      <span class="hljs-attr">payloadOffset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">HEADER_SIZE</span>
    };
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">createHeader</span>(<span class="hljs-params">version, payloadLength, checksum</span>) {
    <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">HEADER_SIZE</span>);
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(buffer);

    view.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">MAGIC_NUMBER</span>, <span class="hljs-literal">false</span>);
    view.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">4</span>, version, <span class="hljs-literal">false</span>);
    view.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">8</span>, payloadLength, <span class="hljs-literal">false</span>);
    view.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">12</span>, checksum, <span class="hljs-literal">false</span>);
    view.<span class="hljs-title function_">setUint32</span>(<span class="hljs-number">16</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span>), <span class="hljs-literal">false</span>);

    <span class="hljs-keyword">return</span> buffer;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> header = <span class="hljs-title class_">ProtocolParser</span>.<span class="hljs-title function_">createHeader</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">0xDEADBEEF</span>);
<span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">ProtocolParser</span>.<span class="hljs-title function_">parseHeader</span>(header);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(parsed);
<span class="hljs-comment">/*
{
  magic: '89504e47',
  version: 1,
  payloadLength: 1024,
  checksum: 3735928559,
  timestamp: 1703347200,
  payloadOffset: 20
}
*/</span>
</code></pre>
<hr/>
<h3 data-id="heading-35">äº”ã€å®æˆ˜åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-36">5.1 WebGLçº¹ç†æ•°æ®å¤„ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// WebGLçº¹ç†ç”Ÿæˆå™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TextureGenerator</span> {
  <span class="hljs-comment">// åˆ›å»ºæ¸å˜çº¹ç†</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">createGradientTexture</span>(<span class="hljs-params">width, height</span>) {
    <span class="hljs-comment">// ä½¿ç”¨Uint8Arrayå­˜å‚¨RGBAåƒç´ æ•°æ®</span>
    <span class="hljs-keyword">const</span> size = width * height * <span class="hljs-number">4</span>; <span class="hljs-comment">// RGBA = 4 bytes per pixel</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(size);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {
        <span class="hljs-keyword">const</span> index = (y * width + x) * <span class="hljs-number">4</span>;

        <span class="hljs-comment">// è®¡ç®—æ¸å˜é¢œè‰²</span>
        <span class="hljs-keyword">const</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((x / width) * <span class="hljs-number">255</span>);
        <span class="hljs-keyword">const</span> g = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((y / height) * <span class="hljs-number">255</span>);
        <span class="hljs-keyword">const</span> b = <span class="hljs-number">128</span>;
        <span class="hljs-keyword">const</span> a = <span class="hljs-number">255</span>;

        data[index] = r;
        data[index + <span class="hljs-number">1</span>] = g;
        data[index + <span class="hljs-number">2</span>] = b;
        data[index + <span class="hljs-number">3</span>] = a;
      }
    }

    <span class="hljs-keyword">return</span> data;
  }

  <span class="hljs-comment">// åˆ›å»ºå™ªå£°çº¹ç†</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">createNoiseTexture</span>(<span class="hljs-params">width, height</span>) {
    <span class="hljs-keyword">const</span> size = width * height * <span class="hljs-number">4</span>;
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(size);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i += <span class="hljs-number">4</span>) {
      <span class="hljs-keyword">const</span> value = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">256</span>);
      data[i] = value;       <span class="hljs-comment">// R</span>
      data[i + <span class="hljs-number">1</span>] = value;   <span class="hljs-comment">// G</span>
      data[i + <span class="hljs-number">2</span>] = value;   <span class="hljs-comment">// B</span>
      data[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;     <span class="hljs-comment">// A</span>
    }

    <span class="hljs-keyword">return</span> data;
  }
}

<span class="hljs-comment">// åœ¨WebGLä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadTextureToWebGL</span>(<span class="hljs-params">gl, textureData, width, height</span>) {
  <span class="hljs-keyword">const</span> texture = gl.<span class="hljs-title function_">createTexture</span>();
  gl.<span class="hljs-title function_">bindTexture</span>(gl.<span class="hljs-property">TEXTURE_2D</span>, texture);

  gl.<span class="hljs-title function_">texImage2D</span>(
    gl.<span class="hljs-property">TEXTURE_2D</span>,
    <span class="hljs-number">0</span>,                    <span class="hljs-comment">// mipmap level</span>
    gl.<span class="hljs-property">RGBA</span>,              <span class="hljs-comment">// internal format</span>
    width,
    height,
    <span class="hljs-number">0</span>,                    <span class="hljs-comment">// border</span>
    gl.<span class="hljs-property">RGBA</span>,              <span class="hljs-comment">// format</span>
    gl.<span class="hljs-property">UNSIGNED_BYTE</span>,     <span class="hljs-comment">// type</span>
    textureData           <span class="hljs-comment">// Uint8Arrayæ•°æ®</span>
  );

  gl.<span class="hljs-title function_">texParameteri</span>(gl.<span class="hljs-property">TEXTURE_2D</span>, gl.<span class="hljs-property">TEXTURE_MIN_FILTER</span>, gl.<span class="hljs-property">LINEAR</span>);
  gl.<span class="hljs-title function_">texParameteri</span>(gl.<span class="hljs-property">TEXTURE_2D</span>, gl.<span class="hljs-property">TEXTURE_MAG_FILTER</span>, gl.<span class="hljs-property">LINEAR</span>);

  <span class="hljs-keyword">return</span> texture;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> gradientTexture = <span class="hljs-title class_">TextureGenerator</span>.<span class="hljs-title function_">createGradientTexture</span>(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çº¹ç†æ•°æ®å¤§å°:'</span>, gradientTexture.<span class="hljs-property">byteLength</span>, <span class="hljs-string">'bytes'</span>); <span class="hljs-comment">// 262144 bytes</span>
</code></pre>
<h4 data-id="heading-37">5.2 éŸ³é¢‘å¤„ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// éŸ³é¢‘æ³¢å½¢ç”Ÿæˆå™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AudioWaveformGenerator</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">audioContext</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">audioContext</span> = audioContext;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span> = audioContext.<span class="hljs-property">sampleRate</span>;
  }

  <span class="hljs-comment">// ç”Ÿæˆæ­£å¼¦æ³¢</span>
  <span class="hljs-title function_">generateSineWave</span>(<span class="hljs-params">frequency, duration, amplitude = <span class="hljs-number">0.5</span></span>) {
    <span class="hljs-keyword">const</span> sampleCount = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span> * duration);
    <span class="hljs-keyword">const</span> buffer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">audioContext</span>.<span class="hljs-title function_">createBuffer</span>(
      <span class="hljs-number">1</span>,                    <span class="hljs-comment">// å•å£°é“</span>
      sampleCount,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span>
    );

    <span class="hljs-comment">// è·å–Float32Arrayç±»å‹çš„éŸ³é¢‘æ•°æ®</span>
    <span class="hljs-keyword">const</span> channelData = buffer.<span class="hljs-title function_">getChannelData</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; sampleCount; i++) {
      <span class="hljs-keyword">const</span> t = i / <span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span>;
      channelData[i] = amplitude * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * frequency * t);
    }

    <span class="hljs-keyword">return</span> buffer;
  }

  <span class="hljs-comment">// ç”Ÿæˆæ–¹æ³¢</span>
  <span class="hljs-title function_">generateSquareWave</span>(<span class="hljs-params">frequency, duration, amplitude = <span class="hljs-number">0.5</span></span>) {
    <span class="hljs-keyword">const</span> sampleCount = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span> * duration);
    <span class="hljs-keyword">const</span> buffer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">audioContext</span>.<span class="hljs-title function_">createBuffer</span>(<span class="hljs-number">1</span>, sampleCount, <span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span>);
    <span class="hljs-keyword">const</span> channelData = buffer.<span class="hljs-title function_">getChannelData</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">const</span> period = <span class="hljs-variable language_">this</span>.<span class="hljs-property">sampleRate</span> / frequency;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; sampleCount; i++) {
      channelData[i] = ((i % period) &lt; (period / <span class="hljs-number">2</span>)) ? amplitude : -amplitude;
    }

    <span class="hljs-keyword">return</span> buffer;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> audioContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AudioContext</span>();
<span class="hljs-keyword">const</span> generator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AudioWaveformGenerator</span>(audioContext);

<span class="hljs-comment">// ç”Ÿæˆ440Hzçš„AéŸ³</span>
<span class="hljs-keyword">const</span> tone = generator.<span class="hljs-title function_">generateSineWave</span>(<span class="hljs-number">440</span>, <span class="hljs-number">1.0</span>);

<span class="hljs-comment">// æ’­æ”¾</span>
<span class="hljs-keyword">const</span> source = audioContext.<span class="hljs-title function_">createBufferSource</span>();
source.<span class="hljs-property">buffer</span> = tone;
source.<span class="hljs-title function_">connect</span>(audioContext.<span class="hljs-property">destination</span>);
source.<span class="hljs-title function_">start</span>();
</code></pre>
<h4 data-id="heading-38">5.3 æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ </h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ChunkedFileUploader</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">file, chunkSize = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span></span>) { <span class="hljs-comment">// é»˜è®¤1MBæ¯ç‰‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">file</span> = file;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span> = chunkSize;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalChunks</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(file.<span class="hljs-property">size</span> / chunkSize);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uploadedChunks</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">upload</span>(<span class="hljs-params">url, onProgress</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> chunkIndex = <span class="hljs-number">0</span>; chunkIndex &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalChunks</span>; chunkIndex++) {
      <span class="hljs-keyword">const</span> start = chunkIndex * <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>;
      <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">file</span>.<span class="hljs-property">size</span>);

      <span class="hljs-comment">// è¯»å–æ–‡ä»¶ç‰‡æ®µä¸ºArrayBuffer</span>
      <span class="hljs-keyword">const</span> chunkData = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">readChunk</span>(start, end);

      <span class="hljs-comment">// ä¸Šä¼ åˆ†ç‰‡</span>
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">uploadChunk</span>(url, chunkIndex, chunkData);

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">uploadedChunks</span>++;
      <span class="hljs-keyword">if</span> (onProgress) {
        <span class="hljs-title function_">onProgress</span>({
          chunkIndex,
          <span class="hljs-attr">totalChunks</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalChunks</span>,
          <span class="hljs-attr">progress</span>: (<span class="hljs-variable language_">this</span>.<span class="hljs-property">uploadedChunks</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalChunks</span>) * <span class="hljs-number">100</span>
        });
      }
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">readChunk</span>(<span class="hljs-params">start, end</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
      <span class="hljs-keyword">const</span> blob = <span class="hljs-variable language_">this</span>.<span class="hljs-property">file</span>.<span class="hljs-title function_">slice</span>(start, end);

      reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-title function_">resolve</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>);
      reader.<span class="hljs-property">onerror</span> = reject;

      reader.<span class="hljs-title function_">readAsArrayBuffer</span>(blob);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">uploadChunk</span>(<span class="hljs-params">url, chunkIndex, chunkData</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/octet-stream'</span>,
        <span class="hljs-string">'X-Chunk-Index'</span>: chunkIndex.<span class="hljs-title function_">toString</span>(),
        <span class="hljs-string">'X-Total-Chunks'</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalChunks</span>.<span class="hljs-title function_">toString</span>()
      },
      <span class="hljs-attr">body</span>: chunkData
    });

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Upload failed: <span class="hljs-subst">${response.statusText}</span>`</span>);
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> fileInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'input[type="file"]'</span>);
fileInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
  <span class="hljs-keyword">const</span> file = e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> uploader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChunkedFileUploader</span>(file, <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);

  <span class="hljs-keyword">await</span> uploader.<span class="hljs-title function_">upload</span>(<span class="hljs-string">'/api/upload'</span>, <span class="hljs-function">(<span class="hljs-params">progress</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä¸Šä¼ è¿›åº¦: <span class="hljs-subst">${progress.progress.toFixed(<span class="hljs-number">2</span>)}</span>%`</span>);
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸Šä¼ å®Œæˆ!'</span>);
});
</code></pre>
<hr/>
<h3 data-id="heading-39">å…­ã€æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-40">6.1 é¿å…é¢‘ç¹åˆ†é…</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šé¢‘ç¹åˆ›å»ºæ–°æ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processDataBad</span>(<span class="hljs-params">iterations</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; iterations; i++) {
    <span class="hljs-keyword">const</span> temp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// æ¯æ¬¡å¾ªç¯éƒ½åˆ†é…</span>
    <span class="hljs-comment">// ... å¤„ç†</span>
  }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šé‡ç”¨æ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processDataGood</span>(<span class="hljs-params">iterations</span>) {
  <span class="hljs-keyword">const</span> temp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// åªåˆ†é…ä¸€æ¬¡</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; iterations; i++) {
    temp.<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// æ¸…ç©ºé‡ç”¨</span>
    <span class="hljs-comment">// ... å¤„ç†</span>
  }
}
</code></pre>
<h4 data-id="heading-41">6.2 ä½¿ç”¨subarrayè€Œéslice</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">1000</span>);

<span class="hljs-comment">// âŒ sliceåˆ›å»ºæ–°æ•°ç»„ï¼ˆæ‹·è´æ•°æ®ï¼‰</span>
<span class="hljs-keyword">const</span> copied = original.<span class="hljs-title function_">slice</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);

<span class="hljs-comment">// âœ… subarrayåˆ›å»ºè§†å›¾ï¼ˆé›¶æ‹·è´ï¼‰</span>
<span class="hljs-keyword">const</span> view = original.<span class="hljs-title function_">subarray</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);
</code></pre>
<h4 data-id="heading-42">6.3 æ‰¹é‡æ“ä½œ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é€ä¸ªè®¾ç½®</span>
<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  arr[i] = i;
}

<span class="hljs-comment">// âœ… ä½¿ç”¨setæ‰¹é‡è®¾ç½®</span>
<span class="hljs-keyword">const</span> source = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  source[i] = i;
}
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000</span>);
arr2.<span class="hljs-title function_">set</span>(source);
</code></pre>
<h4 data-id="heading-43">6.4 å†…å­˜æ± ç®¡ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»å‹åŒ–æ•°ç»„å†…å­˜æ± </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedArrayPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">arrayType, initialSize = <span class="hljs-number">10</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ArrayType</span> = arrayType;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();

    <span class="hljs-comment">// é¢„åˆ†é…</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; initialSize; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">arrayType</span>(<span class="hljs-number">0</span>));
    }
  }

  <span class="hljs-title function_">acquire</span>(<span class="hljs-params">size</span>) {
    <span class="hljs-keyword">let</span> array = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">arr</span> =&gt;</span> arr.<span class="hljs-property">length</span> &gt;= size &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span>.<span class="hljs-title function_">has</span>(arr));

    <span class="hljs-keyword">if</span> (!array) {
      array = <span class="hljs-keyword">new</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">ArrayType</span>(size);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>(array);
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span>.<span class="hljs-title function_">add</span>(array);
    <span class="hljs-keyword">return</span> array.<span class="hljs-title function_">subarray</span>(<span class="hljs-number">0</span>, size);
  }

  <span class="hljs-title function_">release</span>(<span class="hljs-params">array</span>) {
    <span class="hljs-keyword">const</span> originalArray = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">arr</span> =&gt;</span>
      arr.<span class="hljs-property">buffer</span> === array.<span class="hljs-property">buffer</span> &amp;&amp;
      arr.<span class="hljs-property">byteOffset</span> === array.<span class="hljs-property">byteOffset</span>
    );

    <span class="hljs-keyword">if</span> (originalArray) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span>.<span class="hljs-title function_">delete</span>(originalArray);
    }
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">totalArrays</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">inUse</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">available</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">inUse</span>.<span class="hljs-property">size</span>
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> pool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypedArrayPool</span>(<span class="hljs-title class_">Float32Array</span>, <span class="hljs-number">5</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> buffer = pool.<span class="hljs-title function_">acquire</span>(data.<span class="hljs-property">length</span>);

  <span class="hljs-comment">// å¤„ç†æ•°æ®</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {
    buffer[i] = data[i] * <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">// ... ä½¿ç”¨buffer</span>

  <span class="hljs-comment">// é‡Šæ”¾å›æ± </span>
  pool.<span class="hljs-title function_">release</span>(buffer);
}
</code></pre>
<hr/>
<h3 data-id="heading-44">ä¸ƒã€æ€»ç»“ä¸å»ºè®®</h3>
<h4 data-id="heading-45">7.1 ä½•æ—¶ä½¿ç”¨ç±»å‹åŒ–æ•°ç»„</h4>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>âœ… WebGL/WebGPUå›¾å½¢æ¸²æŸ“</li>
<li>âœ… Canvasåƒç´ æ“ä½œ</li>
<li>âœ… Web AudioéŸ³é¢‘å¤„ç†</li>
<li>âœ… äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</li>
<li>âœ… ç½‘ç»œåè®®è§£æ</li>
<li>âœ… WebSocketäºŒè¿›åˆ¶é€šä¿¡</li>
<li>âœ… WebAssemblyæ•°æ®äº¤æ¢</li>
<li>âœ… å¤§é‡æ•°å€¼è®¡ç®—</li>
<li>âœ… å›¾åƒ/è§†é¢‘å¤„ç†</li>
</ul>
<p><strong>ä¸é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>âŒ å­˜å‚¨æ··åˆç±»å‹æ•°æ®ï¼ˆå­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰</li>
<li>âŒ éœ€è¦åŠ¨æ€æ”¹å˜æ•°ç»„é•¿åº¦</li>
<li>âŒ æ•°æ®é‡å¾ˆå°ï¼ˆ&lt; 100ä¸ªå…ƒç´ ï¼‰</li>
<li>âŒ éœ€è¦é¢‘ç¹push/popæ“ä½œ</li>
<li>âŒ ä¸å…³å¿ƒæ€§èƒ½çš„ä¸šåŠ¡é€»è¾‘</li>
</ul>
<h4 data-id="heading-46">7.2 ç±»å‹é€‰æ‹©å»ºè®®</h4>


















































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èç±»å‹</th><th>åŸå› </th></tr></thead><tbody><tr><td>Canvasåƒç´ æ•°æ®</td><td>Uint8ClampedArray</td><td>è‡ªåŠ¨é’³ä½0-255ï¼Œç¬¦åˆåƒç´ å€¼ç‰¹æ€§</td></tr><tr><td>WebGLé¡¶ç‚¹åæ ‡</td><td>Float32Array</td><td>GPUå‹å¥½ï¼Œè¶³å¤Ÿç²¾åº¦</td></tr><tr><td>éŸ³é¢‘æ ·æœ¬</td><td>Float32Array</td><td>éŸ³é¢‘å¤„ç†æ ‡å‡†æ ¼å¼</td></tr><tr><td>RGBé¢œè‰²å€¼</td><td>Uint8Array</td><td>0-255èŒƒå›´ï¼Œå†…å­˜é«˜æ•ˆ</td></tr><tr><td>äºŒè¿›åˆ¶åè®®</td><td>Uint8Array + DataView</td><td>çµæ´»çš„å­—èŠ‚çº§è®¿é—®</td></tr><tr><td>ç´¢å¼•æ•°æ®</td><td>Uint16Array æˆ– Uint32Array</td><td>æ ¹æ®é¡¶ç‚¹æ•°é‡é€‰æ‹©</td></tr><tr><td>ç§‘å­¦è®¡ç®—</td><td>Float64Array</td><td>é«˜ç²¾åº¦</td></tr><tr><td>å¤§æ•´æ•°ID</td><td>BigInt64Array</td><td>è¶…å‡ºå®‰å…¨æ•´æ•°èŒƒå›´</td></tr></tbody></table>
<h4 data-id="heading-47">7.3 å…³é”®è¦ç‚¹</h4>
<ol>
<li><strong>ç±»å‹åŒ–æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„</strong> - åˆ›å»ºåæ— æ³•æ”¹å˜å¤§å°</li>
<li><strong>å…ƒç´ ç±»å‹å¿…é¡»ç»Ÿä¸€</strong> - åªèƒ½å­˜å‚¨ç‰¹å®šæ•°å€¼ç±»å‹</li>
<li><strong>æ€§èƒ½ä¼˜äºæ™®é€šæ•°ç»„</strong> - 2-5å€é€Ÿåº¦æå‡ï¼Œæ›´å°‘å†…å­˜å ç”¨</li>
<li><strong>åŸºäºArrayBuffer</strong> - å¤šä¸ªè§†å›¾å¯å…±äº«åŒä¸€å†…å­˜</li>
<li><strong>subarrayæ˜¯é›¶æ‹·è´</strong> - ä¸åŸæ•°ç»„å…±äº«å†…å­˜</li>
<li><strong>DataViewæœ€çµæ´»</strong> - æ”¯æŒæ··åˆç±»å‹å’Œå­—èŠ‚åºæ§åˆ¶</li>
<li><strong>æ³¨æ„å­—èŠ‚åº</strong> - è·¨å¹³å°æ•°æ®äº¤æ¢éœ€æ˜¾å¼æŒ‡å®š</li>
<li><strong>é‡ç”¨è€Œéé‡å»º</strong> - ä½¿ç”¨å¯¹è±¡æ± å‡å°‘GCå‹åŠ›</li>
</ol>
<p>ç±»å‹åŒ–æ•°ç»„æ˜¯JavaScriptå¤„ç†äºŒè¿›åˆ¶æ•°æ®å’Œé«˜æ€§èƒ½æ•°å€¼è®¡ç®—çš„åŸºçŸ³ï¼Œåœ¨WebGLã€Canvasã€éŸ³è§†é¢‘å¤„ç†ã€ç½‘ç»œé€šä¿¡ã€WebAssemblyç­‰ç°ä»£WebæŠ€æœ¯æ ˆä¸­æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ã€‚æŒæ¡ç±»å‹åŒ–æ•°ç»„çš„åŸç†å’Œæœ€ä½³å®è·µï¼Œæ˜¯æ„å»ºé«˜æ€§èƒ½Webåº”ç”¨çš„å¿…å¤‡æŠ€èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-48">å…«ã€SharedArrayBufferä¸å¤šçº¿ç¨‹ç¼–ç¨‹</h3>
<h4 data-id="heading-49">8.1 SharedArrayBufferåŸºç¡€</h4>
<p>SharedArrayBufferå…è®¸å¤šä¸ªWorkerçº¿ç¨‹å…±äº«åŒä¸€å—å†…å­˜ï¼Œå®ç°çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹ main.js</span>
<span class="hljs-keyword">const</span> sharedBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedArrayBuffer</span>(<span class="hljs-number">1024</span>); <span class="hljs-comment">// 1KBå…±äº«å†…å­˜</span>
<span class="hljs-keyword">const</span> sharedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(sharedBuffer);

<span class="hljs-comment">// åˆå§‹åŒ–å…±äº«æ•°æ®</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; sharedArray.<span class="hljs-property">length</span>; i++) {
  sharedArray[i] = i;
}

<span class="hljs-comment">// åˆ›å»ºå¤šä¸ªWorkerå…±äº«åŒä¸€å†…å­˜</span>
<span class="hljs-keyword">const</span> worker1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'worker.js'</span>);
<span class="hljs-keyword">const</span> worker2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'worker.js'</span>);

worker1.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">buffer</span>: sharedBuffer, <span class="hljs-attr">startIndex</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">endIndex</span>: <span class="hljs-number">128</span> });
worker2.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">buffer</span>: sharedBuffer, <span class="hljs-attr">startIndex</span>: <span class="hljs-number">128</span>, <span class="hljs-attr">endIndex</span>: <span class="hljs-number">256</span> });

<span class="hljs-comment">// ç›‘å¬ç»“æœ</span>
worker1.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Worker 1 å®Œæˆ:'</span>, e.<span class="hljs-property">data</span>);
};

worker2.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Worker 2 å®Œæˆ:'</span>, e.<span class="hljs-property">data</span>);
};
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { buffer, startIndex, endIndex } = e.<span class="hljs-property">data</span>;
  <span class="hljs-keyword">const</span> array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);

  <span class="hljs-comment">// å¹¶è¡Œå¤„ç†æ•°æ®</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startIndex; i &lt; endIndex; i++) {
    array[i] = array[i] * <span class="hljs-number">2</span>; <span class="hljs-comment">// æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2</span>
  }

  self.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'complete'</span>, <span class="hljs-attr">range</span>: [startIndex, endIndex] });
};
</code></pre>
<h4 data-id="heading-50">8.2 AtomicsåŸå­æ“ä½œ</h4>
<p>Atomicsæä¾›åŸå­æ“ä½œï¼Œé¿å…å¤šçº¿ç¨‹ç«äº‰æ¡ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸå­æ“ä½œç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AtomicCounter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">sharedBuffer, index = <span class="hljs-number">0</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(sharedBuffer);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span> = index;
  }

  <span class="hljs-comment">// åŸå­å¢åŠ </span>
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>, <span class="hljs-number">1</span>);
  }

  <span class="hljs-comment">// åŸå­å‡å°‘</span>
  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">sub</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>, <span class="hljs-number">1</span>);
  }

  <span class="hljs-comment">// åŸå­è¯»å–</span>
  <span class="hljs-title function_">load</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>);
  }

  <span class="hljs-comment">// åŸå­å­˜å‚¨</span>
  <span class="hljs-title function_">store</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">store</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>, value);
  }

  <span class="hljs-comment">// æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCASï¼‰</span>
  <span class="hljs-title function_">compareExchange</span>(<span class="hljs-params">expectedValue, newValue</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">compareExchange</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>,
      expectedValue,
      newValue
    );
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹å®‰å…¨è®¡æ•°å™¨</span>
<span class="hljs-keyword">const</span> sharedBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedArrayBuffer</span>(<span class="hljs-number">4</span>);
<span class="hljs-keyword">const</span> counter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicCounter</span>(sharedBuffer);

<span class="hljs-comment">// åœ¨å¤šä¸ªWorkerä¸­å®‰å…¨åœ°å¢åŠ è®¡æ•°</span>
<span class="hljs-comment">// Worker 1: counter.increment();</span>
<span class="hljs-comment">// Worker 2: counter.increment();</span>
<span class="hljs-comment">// Worker 3: counter.increment();</span>
</code></pre>
<h4 data-id="heading-51">8.3 çº¿ç¨‹åŒæ­¥ï¼šç­‰å¾…ä¸é€šçŸ¥</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedQueue</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">size</span>) {
    <span class="hljs-comment">// å¸ƒå±€ï¼š[head, tail, ...data]</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedArrayBuffer</span>((size + <span class="hljs-number">2</span>) * <span class="hljs-number">4</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = size;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span> = <span class="hljs-number">1</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataStart</span> = <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">// ç”Ÿäº§è€…ï¼šæ·»åŠ æ•°æ®</span>
  <span class="hljs-title function_">enqueue</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> tail = <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span>);
      <span class="hljs-keyword">const</span> head = <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span>);
      <span class="hljs-keyword">const</span> count = (tail - head + <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) % <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>;

      <span class="hljs-comment">// é˜Ÿåˆ—å·²æ»¡ï¼Œç­‰å¾…æ¶ˆè´¹è€…</span>
      <span class="hljs-keyword">if</span> (count &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> - <span class="hljs-number">1</span>) {
        <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">wait</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span>, tail);
        <span class="hljs-keyword">continue</span>;
      }

      <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataStart</span> + (tail % <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>);
      <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">store</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, index, value);

      <span class="hljs-keyword">const</span> newTail = (tail + <span class="hljs-number">1</span>) % <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>;
      <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">store</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span>, newTail);

      <span class="hljs-comment">// é€šçŸ¥æ¶ˆè´¹è€…</span>
      <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">notify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span>, <span class="hljs-number">1</span>);
      <span class="hljs-keyword">break</span>;
    }
  }

  <span class="hljs-comment">// æ¶ˆè´¹è€…ï¼šå–å‡ºæ•°æ®</span>
  <span class="hljs-title function_">dequeue</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> head = <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span>);
      <span class="hljs-keyword">const</span> tail = <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span>);

      <span class="hljs-comment">// é˜Ÿåˆ—ä¸ºç©ºï¼Œç­‰å¾…ç”Ÿäº§è€…</span>
      <span class="hljs-keyword">if</span> (head === tail) {
        <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">wait</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span>, head);
        <span class="hljs-keyword">continue</span>;
      }

      <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataStart</span> + (head % <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>);
      <span class="hljs-keyword">const</span> value = <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">load</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, index);

      <span class="hljs-keyword">const</span> newHead = (head + <span class="hljs-number">1</span>) % <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>;
      <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">store</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">headIndex</span>, newHead);

      <span class="hljs-comment">// é€šçŸ¥ç”Ÿäº§è€…</span>
      <span class="hljs-title class_">Atomics</span>.<span class="hljs-title function_">notify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tailIndex</span>, <span class="hljs-number">1</span>);
      <span class="hljs-keyword">return</span> value;
    }
  }
}
</code></pre>
<h4 data-id="heading-52">8.4 å¹¶è¡Œå›¾åƒå¤„ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹ï¼šå¹¶è¡Œå›¾åƒæ»¤é•œ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ParallelImageProcessor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">workerCount = <span class="hljs-number">4</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerCount</span> = workerCount;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; workerCount; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'image-worker.js'</span>));
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processImage</span>(<span class="hljs-params">imageData</span>) {
    <span class="hljs-keyword">const</span> { width, height, data } = imageData;
    <span class="hljs-keyword">const</span> pixelCount = width * height;

    <span class="hljs-comment">// åˆ›å»ºå…±äº«å†…å­˜</span>
    <span class="hljs-keyword">const</span> sharedBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedArrayBuffer</span>(data.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">const</span> sharedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(sharedBuffer);
    sharedArray.<span class="hljs-title function_">set</span>(data);

    <span class="hljs-comment">// åˆ†é…ä»»åŠ¡ç»™Worker</span>
    <span class="hljs-keyword">const</span> chunkSize = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(pixelCount / <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerCount</span>);
    <span class="hljs-keyword">const</span> promises = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">worker, i</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> startPixel = i * chunkSize;
      <span class="hljs-keyword">const</span> endPixel = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>((i + <span class="hljs-number">1</span>) * chunkSize, pixelCount);

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
        worker.<span class="hljs-title function_">postMessage</span>({
          <span class="hljs-attr">buffer</span>: sharedBuffer,
          width,
          height,
          startPixel,
          endPixel
        });
      });
    });

    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);

    <span class="hljs-comment">// è¿”å›å¤„ç†åçš„æ•°æ®</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageData</span>(
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(sharedBuffer),
      width,
      height
    );
  }
}

<span class="hljs-comment">// image-worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { buffer, width, startPixel, endPixel } = e.<span class="hljs-property">data</span>;
  <span class="hljs-keyword">const</span> pixels = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(buffer);

  <span class="hljs-comment">// ç°åº¦åŒ–æ»¤é•œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startPixel; i &lt; endPixel; i++) {
    <span class="hljs-keyword">const</span> offset = i * <span class="hljs-number">4</span>;
    <span class="hljs-keyword">const</span> r = pixels[offset];
    <span class="hljs-keyword">const</span> g = pixels[offset + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> b = pixels[offset + <span class="hljs-number">2</span>];

    <span class="hljs-keyword">const</span> gray = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">0.299</span> * r + <span class="hljs-number">0.587</span> * g + <span class="hljs-number">0.114</span> * b);

    pixels[offset] = gray;
    pixels[offset + <span class="hljs-number">1</span>] = gray;
    pixels[offset + <span class="hljs-number">2</span>] = gray;
    <span class="hljs-comment">// Alphaä¿æŒä¸å˜</span>
  }

  self.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'complete'</span> });
};
</code></pre>
<hr/>
<h3 data-id="heading-53">ä¹ã€é«˜çº§å›¾åƒå¤„ç†ç®—æ³•</h3>
<h4 data-id="heading-54">9.1 å·ç§¯æ»¤é•œå¼•æ“</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é€šç”¨å·ç§¯æ»¤é•œå¼•æ“</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConvolutionFilter</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">applyKernel</span>(<span class="hljs-params">imageData, kernel</span>) {
    <span class="hljs-keyword">const</span> { width, height, data } = imageData;
    <span class="hljs-keyword">const</span> output = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(data.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">const</span> kernelSize = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(kernel.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">const</span> half = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(kernelSize / <span class="hljs-number">2</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {
        <span class="hljs-keyword">let</span> r = <span class="hljs-number">0</span>, g = <span class="hljs-number">0</span>, b = <span class="hljs-number">0</span>;

        <span class="hljs-comment">// åº”ç”¨å·ç§¯æ ¸</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> ky = <span class="hljs-number">0</span>; ky &lt; kernelSize; ky++) {
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> kx = <span class="hljs-number">0</span>; kx &lt; kernelSize; kx++) {
            <span class="hljs-keyword">const</span> px = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(width - <span class="hljs-number">1</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, x + kx - half));
            <span class="hljs-keyword">const</span> py = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(height - <span class="hljs-number">1</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, y + ky - half));
            <span class="hljs-keyword">const</span> pi = (py * width + px) * <span class="hljs-number">4</span>;
            <span class="hljs-keyword">const</span> weight = kernel[ky * kernelSize + kx];

            r += data[pi] * weight;
            g += data[pi + <span class="hljs-number">1</span>] * weight;
            b += data[pi + <span class="hljs-number">2</span>] * weight;
          }
        }

        <span class="hljs-keyword">const</span> i = (y * width + x) * <span class="hljs-number">4</span>;
        output[i] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, r));
        output[i + <span class="hljs-number">1</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, g));
        output[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, b));
        output[i + <span class="hljs-number">3</span>] = data[i + <span class="hljs-number">3</span>];
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageData</span>(output, width, height);
  }

  <span class="hljs-comment">// é¢„å®šä¹‰æ»¤é•œ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-variable constant_">KERNELS</span> = {
    <span class="hljs-comment">// è¾¹ç¼˜æ£€æµ‹ï¼ˆSobelç®—å­ï¼‰</span>
    <span class="hljs-attr">edgeDetect</span>: [
      -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>,
      -<span class="hljs-number">1</span>,  <span class="hljs-number">8</span>, -<span class="hljs-number">1</span>,
      -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>
    ],

    <span class="hljs-comment">// é”åŒ–</span>
    <span class="hljs-attr">sharpen</span>: [
       <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>,  <span class="hljs-number">0</span>,
      -<span class="hljs-number">1</span>,  <span class="hljs-number">5</span>, -<span class="hljs-number">1</span>,
       <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>,  <span class="hljs-number">0</span>
    ],

    <span class="hljs-comment">// æµ®é›•</span>
    <span class="hljs-attr">emboss</span>: [
      -<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>,
      -<span class="hljs-number">1</span>,  <span class="hljs-number">1</span>, <span class="hljs-number">1</span>,
       <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>
    ],

    <span class="hljs-comment">// é«˜æ–¯æ¨¡ç³Šï¼ˆ3x3ï¼‰</span>
    <span class="hljs-attr">gaussianBlur</span>: [
      <span class="hljs-number">1</span>/<span class="hljs-number">16</span>, <span class="hljs-number">2</span>/<span class="hljs-number">16</span>, <span class="hljs-number">1</span>/<span class="hljs-number">16</span>,
      <span class="hljs-number">2</span>/<span class="hljs-number">16</span>, <span class="hljs-number">4</span>/<span class="hljs-number">16</span>, <span class="hljs-number">2</span>/<span class="hljs-number">16</span>,
      <span class="hljs-number">1</span>/<span class="hljs-number">16</span>, <span class="hljs-number">2</span>/<span class="hljs-number">16</span>, <span class="hljs-number">1</span>/<span class="hljs-number">16</span>
    ],

    <span class="hljs-comment">// è¿åŠ¨æ¨¡ç³Š</span>
    <span class="hljs-attr">motionBlur</span>: [
      <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>, <span class="hljs-number">0</span>,
      <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>/<span class="hljs-number">9</span>
    ]
  };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'canvas'</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
<span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

<span class="hljs-comment">// åº”ç”¨è¾¹ç¼˜æ£€æµ‹</span>
<span class="hljs-keyword">const</span> edges = <span class="hljs-title class_">ConvolutionFilter</span>.<span class="hljs-title function_">applyKernel</span>(
  imageData,
  <span class="hljs-title class_">ConvolutionFilter</span>.<span class="hljs-property">KERNELS</span>.<span class="hljs-property">edgeDetect</span>
);
ctx.<span class="hljs-title function_">putImageData</span>(edges, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</code></pre>
<h4 data-id="heading-55">9.2 é¢œè‰²ç©ºé—´è½¬æ¢</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¢œè‰²ç©ºé—´è½¬æ¢å·¥å…·</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ColorSpaceConverter</span> {
  <span class="hljs-comment">// RGBè½¬HSV</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">rgbToHsv</span>(<span class="hljs-params">r, g, b</span>) {
    r /= <span class="hljs-number">255</span>;
    g /= <span class="hljs-number">255</span>;
    b /= <span class="hljs-number">255</span>;

    <span class="hljs-keyword">const</span> max = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(r, g, b);
    <span class="hljs-keyword">const</span> min = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, g, b);
    <span class="hljs-keyword">const</span> delta = max - min;

    <span class="hljs-keyword">let</span> h = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (delta !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">if</span> (max === r) {
        h = ((g - b) / delta) % <span class="hljs-number">6</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (max === g) {
        h = (b - r) / delta + <span class="hljs-number">2</span>;
      } <span class="hljs-keyword">else</span> {
        h = (r - g) / delta + <span class="hljs-number">4</span>;
      }
      h *= <span class="hljs-number">60</span>;
      <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">0</span>) h += <span class="hljs-number">360</span>;
    }

    <span class="hljs-keyword">const</span> s = max === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : delta / max;
    <span class="hljs-keyword">const</span> v = max;

    <span class="hljs-keyword">return</span> { h, s, v };
  }

  <span class="hljs-comment">// HSVè½¬RGB</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">hsvToRgb</span>(<span class="hljs-params">h, s, v</span>) {
    <span class="hljs-keyword">const</span> c = v * s;
    <span class="hljs-keyword">const</span> x = c * (<span class="hljs-number">1</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(((h / <span class="hljs-number">60</span>) % <span class="hljs-number">2</span>) - <span class="hljs-number">1</span>));
    <span class="hljs-keyword">const</span> m = v - c;

    <span class="hljs-keyword">let</span> r, g, b;
    <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">60</span>) {
      [r, g, b] = [c, x, <span class="hljs-number">0</span>];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">120</span>) {
      [r, g, b] = [x, c, <span class="hljs-number">0</span>];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">180</span>) {
      [r, g, b] = [<span class="hljs-number">0</span>, c, x];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">240</span>) {
      [r, g, b] = [<span class="hljs-number">0</span>, x, c];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (h &lt; <span class="hljs-number">300</span>) {
      [r, g, b] = [x, <span class="hljs-number">0</span>, c];
    } <span class="hljs-keyword">else</span> {
      [r, g, b] = [c, <span class="hljs-number">0</span>, x];
    }

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">r</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((r + m) * <span class="hljs-number">255</span>),
      <span class="hljs-attr">g</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((g + m) * <span class="hljs-number">255</span>),
      <span class="hljs-attr">b</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((b + m) * <span class="hljs-number">255</span>)
    };
  }

  <span class="hljs-comment">// æ‰¹é‡è½¬æ¢å›¾åƒåˆ°HSV</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">imageToHSV</span>(<span class="hljs-params">imageData</span>) {
    <span class="hljs-keyword">const</span> { width, height, data } = imageData;
    <span class="hljs-keyword">const</span> hsvData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(width * height * <span class="hljs-number">3</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; width * height; i++) {
      <span class="hljs-keyword">const</span> offset = i * <span class="hljs-number">4</span>;
      <span class="hljs-keyword">const</span> { h, s, v } = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rgbToHsv</span>(
        data[offset],
        data[offset + <span class="hljs-number">1</span>],
        data[offset + <span class="hljs-number">2</span>]
      );

      <span class="hljs-keyword">const</span> hsvOffset = i * <span class="hljs-number">3</span>;
      hsvData[hsvOffset] = h;
      hsvData[hsvOffset + <span class="hljs-number">1</span>] = s;
      hsvData[hsvOffset + <span class="hljs-number">2</span>] = v;
    }

    <span class="hljs-keyword">return</span> hsvData;
  }

  <span class="hljs-comment">// è°ƒæ•´å›¾åƒè‰²è°ƒ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">adjustHue</span>(<span class="hljs-params">imageData, hueDelta</span>) {
    <span class="hljs-keyword">const</span> { width, height, data } = imageData;
    <span class="hljs-keyword">const</span> output = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8ClampedArray</span>(data.<span class="hljs-property">length</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; width * height; i++) {
      <span class="hljs-keyword">const</span> offset = i * <span class="hljs-number">4</span>;
      <span class="hljs-keyword">const</span> { h, s, v } = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rgbToHsv</span>(
        data[offset],
        data[offset + <span class="hljs-number">1</span>],
        data[offset + <span class="hljs-number">2</span>]
      );

      <span class="hljs-keyword">const</span> newH = (h + hueDelta) % <span class="hljs-number">360</span>;
      <span class="hljs-keyword">const</span> { r, g, b } = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hsvToRgb</span>(newH, s, v);

      output[offset] = r;
      output[offset + <span class="hljs-number">1</span>] = g;
      output[offset + <span class="hljs-number">2</span>] = b;
      output[offset + <span class="hljs-number">3</span>] = data[offset + <span class="hljs-number">3</span>];
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageData</span>(output, width, height);
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-56">åã€3Dæ•°å­¦è¿ç®—åº“</h3>
<h4 data-id="heading-57">10.1 å‘é‡ä¸çŸ©é˜µè¿ç®—</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é«˜æ€§èƒ½3Dæ•°å­¦åº“</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Vec3</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>, z = <span class="hljs-number">0</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([x, y, z]);
  }

  <span class="hljs-keyword">get</span> <span class="hljs-title function_">x</span>() { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>]; }
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">v</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>] = v; }
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">y</span>() { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">1</span>]; }
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">y</span>(<span class="hljs-params">v</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">1</span>] = v; }
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">z</span>() { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">2</span>]; }
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">z</span>(<span class="hljs-params">v</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">2</span>] = v; }

  <span class="hljs-comment">// å‘é‡åŠ æ³•</span>
  <span class="hljs-title function_">add</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> + other.<span class="hljs-property">x</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> + other.<span class="hljs-property">y</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> + other.<span class="hljs-property">z</span>
    );
  }

  <span class="hljs-comment">// å‘é‡å‡æ³•</span>
  <span class="hljs-title function_">sub</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> - other.<span class="hljs-property">x</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> - other.<span class="hljs-property">y</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> - other.<span class="hljs-property">z</span>
    );
  }

  <span class="hljs-comment">// æ ‡é‡ä¹˜æ³•</span>
  <span class="hljs-title function_">scale</span>(<span class="hljs-params">scalar</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> * scalar,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> * scalar,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> * scalar
    );
  }

  <span class="hljs-comment">// ç‚¹ç§¯</span>
  <span class="hljs-title function_">dot</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> * other.<span class="hljs-property">x</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> * other.<span class="hljs-property">y</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> * other.<span class="hljs-property">z</span>;
  }

  <span class="hljs-comment">// å‰ç§¯</span>
  <span class="hljs-title function_">cross</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> * other.<span class="hljs-property">z</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> * other.<span class="hljs-property">y</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> * other.<span class="hljs-property">x</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> * other.<span class="hljs-property">z</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> * other.<span class="hljs-property">y</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> * other.<span class="hljs-property">x</span>
    );
  }

  <span class="hljs-comment">// é•¿åº¦</span>
  <span class="hljs-title function_">length</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dot</span>(<span class="hljs-variable language_">this</span>));
  }

  <span class="hljs-comment">// å½’ä¸€åŒ–</span>
  <span class="hljs-title function_">normalize</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> len = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">length</span>();
    <span class="hljs-keyword">return</span> len &gt; <span class="hljs-number">0</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scale</span>(<span class="hljs-number">1</span> / len) : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>();
  }
}

<span class="hljs-comment">// 4x4çŸ©é˜µ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mat4</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">16</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">identity</span>();
  }

  <span class="hljs-comment">// å•ä½çŸ©é˜µ</span>
  <span class="hljs-title function_">identity</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">5</span>] = <span class="hljs-number">1</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">10</span>] = <span class="hljs-number">1</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[<span class="hljs-number">15</span>] = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-comment">// çŸ©é˜µä¹˜æ³•</span>
  <span class="hljs-title function_">multiply</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Mat4</span>();
    <span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">const</span> b = other.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">const</span> out = result.<span class="hljs-property">data</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++) {
        <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">4</span>; k++) {
          sum += a[i * <span class="hljs-number">4</span> + k] * b[k * <span class="hljs-number">4</span> + j];
        }
        out[i * <span class="hljs-number">4</span> + j] = sum;
      }
    }

    <span class="hljs-keyword">return</span> result;
  }

  <span class="hljs-comment">// é€è§†æŠ•å½±çŸ©é˜µ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">perspective</span>(<span class="hljs-params">fov, aspect, near, far</span>) {
    <span class="hljs-keyword">const</span> mat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Mat4</span>();
    <span class="hljs-keyword">const</span> f = <span class="hljs-number">1.0</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">tan</span>(fov / <span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> nf = <span class="hljs-number">1</span> / (near - far);

    mat.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>] = f / aspect;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">5</span>] = f;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">10</span>] = (far + near) * nf;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">11</span>] = -<span class="hljs-number">1</span>;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">14</span>] = <span class="hljs-number">2</span> * far * near * nf;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">15</span>] = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">return</span> mat;
  }

  <span class="hljs-comment">// å¹³ç§»çŸ©é˜µ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">translation</span>(<span class="hljs-params">x, y, z</span>) {
    <span class="hljs-keyword">const</span> mat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Mat4</span>();
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">12</span>] = x;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">13</span>] = y;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">14</span>] = z;
    <span class="hljs-keyword">return</span> mat;
  }

  <span class="hljs-comment">// æ—‹è½¬çŸ©é˜µï¼ˆç»•Xè½´ï¼‰</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">rotationX</span>(<span class="hljs-params">angle</span>) {
    <span class="hljs-keyword">const</span> mat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Mat4</span>();
    <span class="hljs-keyword">const</span> c = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(angle);
    <span class="hljs-keyword">const</span> s = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(angle);

    mat.<span class="hljs-property">data</span>[<span class="hljs-number">5</span>] = c;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">6</span>] = s;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">9</span>] = -s;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">10</span>] = c;

    <span class="hljs-keyword">return</span> mat;
  }

  <span class="hljs-comment">// ç¼©æ”¾çŸ©é˜µ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">scaling</span>(<span class="hljs-params">x, y, z</span>) {
    <span class="hljs-keyword">const</span> mat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Mat4</span>();
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>] = x;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">5</span>] = y;
    mat.<span class="hljs-property">data</span>[<span class="hljs-number">10</span>] = z;
    <span class="hljs-keyword">return</span> mat;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼š3Då˜æ¢</span>
<span class="hljs-keyword">const</span> position = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
<span class="hljs-keyword">const</span> direction = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vec3</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> normalized = direction.<span class="hljs-title function_">normalize</span>();

<span class="hljs-keyword">const</span> translation = <span class="hljs-title class_">Mat4</span>.<span class="hljs-title function_">translation</span>(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> rotation = <span class="hljs-title class_">Mat4</span>.<span class="hljs-title function_">rotationX</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">4</span>);
<span class="hljs-keyword">const</span> transform = translation.<span class="hljs-title function_">multiply</span>(rotation);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å˜æ¢çŸ©é˜µ:'</span>, transform.<span class="hljs-property">data</span>);
</code></pre>
<hr/>
<h3 data-id="heading-58">åä¸€ã€æ–‡ä»¶æ ¼å¼æ·±åº¦è§£æ</h3>
<h4 data-id="heading-59">11.1 JPEGæ–‡ä»¶ç»“æ„è§£æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JPEGæ–‡ä»¶è§£æå™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">JPEGParser</span> {
  <span class="hljs-comment">/*
   * JPEGæ–‡ä»¶ç»“æ„ï¼š
   * - SOI (Start of Image): 0xFFD8
   * - APP0 (JFIF Header): 0xFFE0
   * - SOF0 (Start of Frame): 0xFFC0
   * - DHT (Huffman Table): 0xFFC4
   * - SOS (Start of Scan): 0xFFDA
   * - EOI (End of Image): 0xFFD9
   */</span>

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">file</span>) {
    <span class="hljs-keyword">const</span> arrayBuffer = <span class="hljs-keyword">await</span> file.<span class="hljs-title function_">arrayBuffer</span>();
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(arrayBuffer);

    <span class="hljs-comment">// éªŒè¯JPEGç­¾å</span>
    <span class="hljs-keyword">if</span> (view.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>) !== <span class="hljs-number">0xFFD8</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Not a valid JPEG file'</span>);
    }

    <span class="hljs-keyword">const</span> info = {
      <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">components</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">precision</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">markers</span>: []
    };

    <span class="hljs-keyword">let</span> offset = <span class="hljs-number">2</span>;

    <span class="hljs-keyword">while</span> (offset &lt; data.<span class="hljs-property">length</span>) {
      <span class="hljs-comment">// æŸ¥æ‰¾æ ‡è®°</span>
      <span class="hljs-keyword">if</span> (data[offset] !== <span class="hljs-number">0xFF</span>) {
        offset++;
        <span class="hljs-keyword">continue</span>;
      }

      <span class="hljs-keyword">const</span> marker = view.<span class="hljs-title function_">getUint16</span>(offset, <span class="hljs-literal">false</span>);
      <span class="hljs-keyword">const</span> length = view.<span class="hljs-title function_">getUint16</span>(offset + <span class="hljs-number">2</span>, <span class="hljs-literal">false</span>);

      info.<span class="hljs-property">markers</span>.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">marker</span>: marker.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>),
        offset,
        length
      });

      <span class="hljs-comment">// è§£æSOF0ï¼ˆå¸§å¤´ï¼‰</span>
      <span class="hljs-keyword">if</span> (marker === <span class="hljs-number">0xFFC0</span>) {
        info.<span class="hljs-property">precision</span> = data[offset + <span class="hljs-number">4</span>];
        info.<span class="hljs-property">height</span> = view.<span class="hljs-title function_">getUint16</span>(offset + <span class="hljs-number">5</span>, <span class="hljs-literal">false</span>);
        info.<span class="hljs-property">width</span> = view.<span class="hljs-title function_">getUint16</span>(offset + <span class="hljs-number">7</span>, <span class="hljs-literal">false</span>);
        info.<span class="hljs-property">components</span> = data[offset + <span class="hljs-number">9</span>];
      }

      <span class="hljs-comment">// è·³åˆ°ä¸‹ä¸€ä¸ªæ ‡è®°</span>
      offset += <span class="hljs-number">2</span> + length;

      <span class="hljs-comment">// é‡åˆ°EOIç»“æŸ</span>
      <span class="hljs-keyword">if</span> (marker === <span class="hljs-number">0xFFD9</span>) <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">return</span> info;
  }

  <span class="hljs-comment">// æå–EXIFä¿¡æ¯</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">extractEXIF</span>(<span class="hljs-params">arrayBuffer</span>) {
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(arrayBuffer);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);

    <span class="hljs-comment">// æŸ¥æ‰¾APP1æ ‡è®°ï¼ˆ0xFFE1ï¼ŒåŒ…å«EXIFï¼‰</span>
    <span class="hljs-keyword">let</span> offset = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">while</span> (offset &lt; data.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">if</span> (view.<span class="hljs-title function_">getUint16</span>(offset, <span class="hljs-literal">false</span>) === <span class="hljs-number">0xFFE1</span>) {
        <span class="hljs-keyword">const</span> length = view.<span class="hljs-title function_">getUint16</span>(offset + <span class="hljs-number">2</span>, <span class="hljs-literal">false</span>);

        <span class="hljs-comment">// éªŒè¯EXIFæ ‡è¯†</span>
        <span class="hljs-keyword">const</span> exifId = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(...data.<span class="hljs-title function_">slice</span>(offset + <span class="hljs-number">4</span>, offset + <span class="hljs-number">10</span>));
        <span class="hljs-keyword">if</span> (exifId === <span class="hljs-string">'Exif\0\0'</span>) {
          <span class="hljs-comment">// è§£æEXIFæ•°æ®</span>
          <span class="hljs-keyword">const</span> exifStart = offset + <span class="hljs-number">10</span>;
          <span class="hljs-keyword">const</span> byteOrder = view.<span class="hljs-title function_">getUint16</span>(exifStart, <span class="hljs-literal">false</span>);
          <span class="hljs-keyword">const</span> littleEndian = byteOrder === <span class="hljs-number">0x4949</span>; <span class="hljs-comment">// "II"</span>

          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">found</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">offset</span>: exifStart,
            <span class="hljs-attr">length</span>: length - <span class="hljs-number">8</span>,
            littleEndian
          };
        }
      }
      offset += <span class="hljs-number">2</span> + view.<span class="hljs-title function_">getUint16</span>(offset + <span class="hljs-number">2</span>, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">found</span>: <span class="hljs-literal">false</span> };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> fileInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'input[type="file"]'</span>);
fileInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
  <span class="hljs-keyword">const</span> file = e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> info = <span class="hljs-keyword">await</span> <span class="hljs-title class_">JPEGParser</span>.<span class="hljs-title function_">parse</span>(file);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'JPEGä¿¡æ¯:'</span>, info);
  <span class="hljs-comment">/*
  {
    width: 1920,
    height: 1080,
    components: 3,
    precision: 8,
    markers: [...]
  }
  */</span>
});
</code></pre>
<h4 data-id="heading-60">11.2 WAVéŸ³é¢‘æ–‡ä»¶è§£æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// WAVéŸ³é¢‘æ–‡ä»¶è§£æå™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WAVParser</span> {
  <span class="hljs-comment">/*
   * WAVæ–‡ä»¶ç»“æ„ï¼ˆRIFFæ ¼å¼ï¼‰ï¼š
   * [0-3]   "RIFF" æ ‡è¯†
   * [4-7]   æ–‡ä»¶å¤§å°-8
   * [8-11]  "WAVE" æ ‡è¯†
   * [12-15] "fmt " å­å—æ ‡è¯†
   * [16-19] å­å—å¤§å°
   * [20-21] éŸ³é¢‘æ ¼å¼ï¼ˆ1=PCMï¼‰
   * [22-23] å£°é“æ•°
   * [24-27] é‡‡æ ·ç‡
   * [28-31] å­—èŠ‚ç‡
   * [32-33] å—å¯¹é½
   * [34-35] ä½æ·±åº¦
   * ...
   * "data" å­å—
   */</span>

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">arrayBuffer</span>) {
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(arrayBuffer);

    <span class="hljs-comment">// éªŒè¯RIFFæ ‡è¯†</span>
    <span class="hljs-keyword">const</span> riff = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">0</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">1</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">2</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">3</span>)
    );

    <span class="hljs-keyword">if</span> (riff !== <span class="hljs-string">'RIFF'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Not a valid WAV file'</span>);
    }

    <span class="hljs-comment">// éªŒè¯WAVEæ ‡è¯†</span>
    <span class="hljs-keyword">const</span> wave = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">8</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">9</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">10</span>),
      view.<span class="hljs-title function_">getUint8</span>(<span class="hljs-number">11</span>)
    );

    <span class="hljs-keyword">if</span> (wave !== <span class="hljs-string">'WAVE'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Not a valid WAV file'</span>);
    }

    <span class="hljs-comment">// è§£æfmtå­å—</span>
    <span class="hljs-keyword">const</span> audioFormat = view.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">20</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> numChannels = view.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">22</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> sampleRate = view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">24</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> byteRate = view.<span class="hljs-title function_">getUint32</span>(<span class="hljs-number">28</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> blockAlign = view.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">32</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> bitsPerSample = view.<span class="hljs-title function_">getUint16</span>(<span class="hljs-number">34</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-comment">// æŸ¥æ‰¾dataå­å—</span>
    <span class="hljs-keyword">let</span> offset = <span class="hljs-number">36</span>;
    <span class="hljs-keyword">let</span> dataSize = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> dataOffset = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (offset &lt; arrayBuffer.<span class="hljs-property">byteLength</span>) {
      <span class="hljs-keyword">const</span> chunkId = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(
        view.<span class="hljs-title function_">getUint8</span>(offset),
        view.<span class="hljs-title function_">getUint8</span>(offset + <span class="hljs-number">1</span>),
        view.<span class="hljs-title function_">getUint8</span>(offset + <span class="hljs-number">2</span>),
        view.<span class="hljs-title function_">getUint8</span>(offset + <span class="hljs-number">3</span>)
      );

      <span class="hljs-keyword">const</span> chunkSize = view.<span class="hljs-title function_">getUint32</span>(offset + <span class="hljs-number">4</span>, <span class="hljs-literal">true</span>);

      <span class="hljs-keyword">if</span> (chunkId === <span class="hljs-string">'data'</span>) {
        dataSize = chunkSize;
        dataOffset = offset + <span class="hljs-number">8</span>;
        <span class="hljs-keyword">break</span>;
      }

      offset += <span class="hljs-number">8</span> + chunkSize;
    }

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">format</span>: audioFormat === <span class="hljs-number">1</span> ? <span class="hljs-string">'PCM'</span> : <span class="hljs-string">'Compressed'</span>,
      <span class="hljs-attr">channels</span>: numChannels,
      sampleRate,
      byteRate,
      blockAlign,
      bitsPerSample,
      dataSize,
      dataOffset,
      <span class="hljs-attr">duration</span>: dataSize / byteRate
    };
  }

  <span class="hljs-comment">// æå–éŸ³é¢‘æ ·æœ¬</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">extractSamples</span>(<span class="hljs-params">arrayBuffer, info</span>) {
    <span class="hljs-keyword">const</span> { dataOffset, dataSize, bitsPerSample, channels } = info;
    <span class="hljs-keyword">const</span> sampleCount = dataSize / (bitsPerSample / <span class="hljs-number">8</span>) / channels;

    <span class="hljs-keyword">if</span> (bitsPerSample === <span class="hljs-number">16</span>) {
      <span class="hljs-keyword">const</span> samples = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int16Array</span>(arrayBuffer, dataOffset, sampleCount * channels);
      <span class="hljs-keyword">return</span> samples;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (bitsPerSample === <span class="hljs-number">8</span>) {
      <span class="hljs-keyword">const</span> samples = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer, dataOffset, sampleCount * channels);
      <span class="hljs-keyword">return</span> samples;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (bitsPerSample === <span class="hljs-number">32</span>) {
      <span class="hljs-keyword">const</span> samples = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(arrayBuffer, dataOffset, sampleCount * channels);
      <span class="hljs-keyword">return</span> samples;
    }

    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unsupported bit depth: <span class="hljs-subst">${bitsPerSample}</span>`</span>);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadWAVFile</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
  <span class="hljs-keyword">const</span> arrayBuffer = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>();

  <span class="hljs-keyword">const</span> info = <span class="hljs-title class_">WAVParser</span>.<span class="hljs-title function_">parse</span>(arrayBuffer);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'WAVä¿¡æ¯:'</span>, info);

  <span class="hljs-keyword">const</span> samples = <span class="hljs-title class_">WAVParser</span>.<span class="hljs-title function_">extractSamples</span>(arrayBuffer, info);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'éŸ³é¢‘æ ·æœ¬æ•°:'</span>, samples.<span class="hljs-property">length</span>);

  <span class="hljs-keyword">return</span> { info, samples };
}
</code></pre>
<hr/>
<h3 data-id="heading-61">åäºŒã€åŠ å¯†ä¸å‹ç¼©</h3>
<h4 data-id="heading-62">12.1 ç®€å•åŠ å¯†ç®—æ³•ï¼ˆXORï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// XORåŠ å¯†/è§£å¯†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleEncryption</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">xorEncrypt</span>(<span class="hljs-params">data, key</span>) {
    <span class="hljs-keyword">const</span> encrypted = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(data.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">const</span> keyBytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(key);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {
      encrypted[i] = data[i] ^ keyBytes[i % keyBytes.<span class="hljs-property">length</span>];
    }

    <span class="hljs-keyword">return</span> encrypted;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">xorDecrypt</span>(<span class="hljs-params">encrypted, key</span>) {
    <span class="hljs-comment">// XORåŠ å¯†æ˜¯å¯¹ç§°çš„ï¼Œè§£å¯†ä½¿ç”¨ç›¸åŒå‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">xorEncrypt</span>(encrypted, key);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> message = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(<span class="hljs-string">'Hello, World!'</span>);
<span class="hljs-keyword">const</span> key = <span class="hljs-string">'secret'</span>;

<span class="hljs-keyword">const</span> encrypted = <span class="hljs-title class_">SimpleEncryption</span>.<span class="hljs-title function_">xorEncrypt</span>(message, key);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŠ å¯†å:'</span>, encrypted);

<span class="hljs-keyword">const</span> decrypted = <span class="hljs-title class_">SimpleEncryption</span>.<span class="hljs-title function_">xorDecrypt</span>(encrypted, key);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è§£å¯†å:'</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>().<span class="hljs-title function_">decode</span>(decrypted)); <span class="hljs-comment">// "Hello, World!"</span>
</code></pre>
<h4 data-id="heading-63">12.2 RLEå‹ç¼©ç®—æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Run-Length Encodingå‹ç¼©</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RLECompression</span> {
  <span class="hljs-comment">// å‹ç¼©</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">compress</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">const</span> compressed = [];
    <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (i &lt; data.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">const</span> value = data[i];
      <span class="hljs-keyword">let</span> count = <span class="hljs-number">1</span>;

      <span class="hljs-comment">// è®¡ç®—è¿ç»­ç›¸åŒå€¼çš„æ•°é‡</span>
      <span class="hljs-keyword">while</span> (i + count &lt; data.<span class="hljs-property">length</span> &amp;&amp; data[i + count] === value &amp;&amp; count &lt; <span class="hljs-number">255</span>) {
        count++;
      }

      compressed.<span class="hljs-title function_">push</span>(count, value);
      i += count;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(compressed);
  }

  <span class="hljs-comment">// è§£å‹ç¼©</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">decompress</span>(<span class="hljs-params">compressed</span>) {
    <span class="hljs-keyword">const</span> decompressed = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; compressed.<span class="hljs-property">length</span>; i += <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">const</span> count = compressed[i];
      <span class="hljs-keyword">const</span> value = compressed[i + <span class="hljs-number">1</span>];

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; count; j++) {
        decompressed.<span class="hljs-title function_">push</span>(value);
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(decompressed);
  }

  <span class="hljs-comment">// è®¡ç®—å‹ç¼©ç‡</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">compressionRatio</span>(<span class="hljs-params">original, compressed</span>) {
    <span class="hljs-keyword">return</span> (compressed.<span class="hljs-property">length</span> / original.<span class="hljs-property">length</span> * <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">'%'</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> original = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]);
<span class="hljs-keyword">const</span> compressed = <span class="hljs-title class_">RLECompression</span>.<span class="hljs-title function_">compress</span>(original);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŸå§‹æ•°æ®:'</span>, original);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‹ç¼©æ•°æ®:'</span>, compressed); <span class="hljs-comment">// [4, 1, 2, 2, 5, 3]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‹ç¼©ç‡:'</span>, <span class="hljs-title class_">RLECompression</span>.<span class="hljs-title function_">compressionRatio</span>(original, compressed));

<span class="hljs-keyword">const</span> decompressed = <span class="hljs-title class_">RLECompression</span>.<span class="hljs-title function_">decompress</span>(compressed);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è§£å‹æ•°æ®:'</span>, decompressed); <span class="hljs-comment">// [1, 1, 1, 1, 2, 2, 3, 3, 3, 3, 3]</span>
</code></pre>
<hr/>
<h3 data-id="heading-64">åä¸‰ã€æ€§èƒ½åˆ†æä¸è°ƒè¯•å·¥å…·</h3>
<h4 data-id="heading-65">13.1 æ€§èƒ½åˆ†æå™¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»å‹åŒ–æ•°ç»„æ€§èƒ½åˆ†æå·¥å…·</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedArrayProfiler</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">measurements</span> = [];
  }

  <span class="hljs-comment">// æµ‹é‡å‡½æ•°æ‰§è¡Œæ—¶é—´</span>
  <span class="hljs-title function_">measure</span>(<span class="hljs-params">name, fn, iterations = <span class="hljs-number">1000</span></span>) {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; iterations; i++) {
      <span class="hljs-title function_">fn</span>();
    }

    <span class="hljs-keyword">const</span> end = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> duration = end - start;
    <span class="hljs-keyword">const</span> average = duration / iterations;

    <span class="hljs-keyword">const</span> result = {
      name,
      <span class="hljs-attr">totalTime</span>: duration,
      <span class="hljs-attr">averageTime</span>: average,
      iterations,
      <span class="hljs-attr">opsPerSecond</span>: <span class="hljs-number">1000</span> / average
    };

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">measurements</span>.<span class="hljs-title function_">push</span>(result);
    <span class="hljs-keyword">return</span> result;
  }

  <span class="hljs-comment">// å¯¹æ¯”æµ‹è¯•</span>
  <span class="hljs-title function_">compare</span>(<span class="hljs-params">tests</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(
      tests.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">test</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">measure</span>(test.<span class="hljs-property">name</span>, test.<span class="hljs-property">fn</span>))
    );
  }

  <span class="hljs-comment">// å†…å­˜ä½¿ç”¨åˆ†æ</span>
  <span class="hljs-title function_">analyzeMemory</span>(<span class="hljs-params">createFn</span>) {
    <span class="hljs-keyword">if</span> (!performance.<span class="hljs-property">memory</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'performance.memoryä¸å¯ç”¨'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">const</span> before = performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span>;
    <span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">createFn</span>();
    <span class="hljs-keyword">const</span> after = performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span>;

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">memoryUsed</span>: after - before,
      <span class="hljs-attr">memoryUsedMB</span>: ((after - before) / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)
    };
  }

  <span class="hljs-comment">// ç”ŸæˆæŠ¥å‘Š</span>
  <span class="hljs-title function_">generateReport</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== æ€§èƒ½åˆ†ææŠ¥å‘Š ==='</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">measurements</span>);

    <span class="hljs-comment">// æ‰¾å‡ºæœ€å¿«å’Œæœ€æ…¢çš„æ“ä½œ</span>
    <span class="hljs-keyword">const</span> sorted = [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">measurements</span>].<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">averageTime</span> - b.<span class="hljs-property">averageTime</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¿«:'</span>, sorted[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>, sorted[<span class="hljs-number">0</span>].<span class="hljs-property">averageTime</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">4</span>), <span class="hljs-string">'ms'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€æ…¢:'</span>, sorted[sorted.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">name</span>, sorted[sorted.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">averageTime</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">4</span>), <span class="hljs-string">'ms'</span>);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> profiler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypedArrayProfiler</span>();

profiler.<span class="hljs-title function_">compare</span>([
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'æ™®é€šæ•°ç»„åˆ›å»º'</span>,
    <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">10000</span>);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) arr[i] = i;
    }
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Float32Arrayåˆ›å»º'</span>,
    <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">10000</span>);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) arr[i] = i;
    }
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Float32Array.from'</span>,
    <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title class_">Float32Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i);
    }
  }
]);

profiler.<span class="hljs-title function_">generateReport</span>();
</code></pre>
<h4 data-id="heading-66">13.2 å†…å­˜æ³„æ¼æ£€æµ‹å™¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…å­˜æ³„æ¼æ£€æµ‹å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryLeakDetector</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span> = [];
  }

  <span class="hljs-comment">// åˆ›å»ºå†…å­˜å¿«ç…§</span>
  <span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-params">label</span>) {
    <span class="hljs-keyword">if</span> (!performance.<span class="hljs-property">memory</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'performance.memoryä¸å¯ç”¨'</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>.<span class="hljs-title function_">push</span>({
      label,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
      <span class="hljs-attr">heapSize</span>: performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span>,
      <span class="hljs-attr">totalHeapSize</span>: performance.<span class="hljs-property">memory</span>.<span class="hljs-property">totalJSHeapSize</span>
    });
  }

  <span class="hljs-comment">// åˆ†æå†…å­˜å¢é•¿</span>
  <span class="hljs-title function_">analyze</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'éœ€è¦è‡³å°‘2ä¸ªå¿«ç…§è¿›è¡Œåˆ†æ'</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== å†…å­˜åˆ†æ ==='</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> prev = <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>[i - <span class="hljs-number">1</span>];
      <span class="hljs-keyword">const</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>[i];
      <span class="hljs-keyword">const</span> growth = curr.<span class="hljs-property">heapSize</span> - prev.<span class="hljs-property">heapSize</span>;
      <span class="hljs-keyword">const</span> growthMB = (growth / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>);

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${prev.label}</span> â†’ <span class="hljs-subst">${curr.label}</span>:`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  å†…å­˜å¢é•¿: <span class="hljs-subst">${growthMB}</span> MB`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  å½“å‰å †å¤§å°: <span class="hljs-subst">${(curr.heapSize / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>).toFixed(<span class="hljs-number">2</span>)}</span> MB`</span>);
    }
  }

  <span class="hljs-comment">// æ£€æµ‹å¯èƒ½çš„æ³„æ¼</span>
  <span class="hljs-title function_">detectLeaks</span>(<span class="hljs-params">threshold = <span class="hljs-number">10</span></span>) {
    <span class="hljs-keyword">const</span> leaks = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> prev = <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>[i - <span class="hljs-number">1</span>];
      <span class="hljs-keyword">const</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">snapshots</span>[i];
      <span class="hljs-keyword">const</span> growthMB = (curr.<span class="hljs-property">heapSize</span> - prev.<span class="hljs-property">heapSize</span>) / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>;

      <span class="hljs-keyword">if</span> (growthMB &gt; threshold) {
        leaks.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">from</span>: prev.<span class="hljs-property">label</span>,
          <span class="hljs-attr">to</span>: curr.<span class="hljs-property">label</span>,
          <span class="hljs-attr">growthMB</span>: growthMB.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)
        });
      }
    }

    <span class="hljs-keyword">if</span> (leaks.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'âš ï¸ æ£€æµ‹åˆ°å¯èƒ½çš„å†…å­˜æ³„æ¼:'</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(leaks);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… æœªæ£€æµ‹åˆ°æ˜æ˜¾çš„å†…å­˜æ³„æ¼'</span>);
    }

    <span class="hljs-keyword">return</span> leaks;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> detector = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MemoryLeakDetector</span>();

detector.<span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-string">'åˆå§‹çŠ¶æ€'</span>);

<span class="hljs-comment">// æ‰§è¡Œä¸€äº›æ“ä½œ</span>
<span class="hljs-keyword">const</span> arrays = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  arrays.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">100000</span>));
}

detector.<span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-string">'åˆ›å»º100ä¸ªæ•°ç»„å'</span>);

<span class="hljs-comment">// æ¸…ç†</span>
arrays.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">global</span>.<span class="hljs-property">gc</span>) <span class="hljs-variable language_">global</span>.<span class="hljs-title function_">gc</span>(); <span class="hljs-comment">// éœ€è¦--expose-gcæ ‡å¿—</span>

detector.<span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-string">'æ¸…ç†å'</span>);

detector.<span class="hljs-title function_">analyze</span>();
detector.<span class="hljs-title function_">detectLeaks</span>();
</code></pre>
<h4 data-id="heading-67">13.3 è°ƒè¯•è¾…åŠ©å·¥å…·</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»å‹åŒ–æ•°ç»„è°ƒè¯•å·¥å…·</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedArrayDebugger</span> {
  <span class="hljs-comment">// åå…­è¿›åˆ¶è½¬å‚¨</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">hexDump</span>(<span class="hljs-params">typedArray, bytesPerLine = <span class="hljs-number">16</span></span>) {
    <span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(typedArray.<span class="hljs-property">buffer</span>, typedArray.<span class="hljs-property">byteOffset</span>, typedArray.<span class="hljs-property">byteLength</span>);
    <span class="hljs-keyword">let</span> output = <span class="hljs-string">''</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; bytes.<span class="hljs-property">length</span>; i += bytesPerLine) {
      <span class="hljs-comment">// åœ°å€</span>
      output += i.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">8</span>, <span class="hljs-string">'0'</span>) + <span class="hljs-string">'  '</span>;

      <span class="hljs-comment">// åå…­è¿›åˆ¶</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; bytesPerLine; j++) {
        <span class="hljs-keyword">if</span> (i + j &lt; bytes.<span class="hljs-property">length</span>) {
          output += bytes[i + j].<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + <span class="hljs-string">' '</span>;
        } <span class="hljs-keyword">else</span> {
          output += <span class="hljs-string">'   '</span>;
        }

        <span class="hljs-keyword">if</span> (j === <span class="hljs-number">7</span>) output += <span class="hljs-string">' '</span>;
      }

      output += <span class="hljs-string">' |'</span>;

      <span class="hljs-comment">// ASCII</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; bytesPerLine &amp;&amp; i + j &lt; bytes.<span class="hljs-property">length</span>; j++) {
        <span class="hljs-keyword">const</span> byte = bytes[i + j];
        output += (byte &gt;= <span class="hljs-number">32</span> &amp;&amp; byte &lt; <span class="hljs-number">127</span>) ? <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(byte) : <span class="hljs-string">'.'</span>;
      }

      output += <span class="hljs-string">'|\n'</span>;
    }

    <span class="hljs-keyword">return</span> output;
  }

  <span class="hljs-comment">// æ¯”è¾ƒä¸¤ä¸ªç±»å‹åŒ–æ•°ç»„</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">arr1, arr2</span>) {
    <span class="hljs-keyword">if</span> (arr1.<span class="hljs-property">length</span> !== arr2.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">equal</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">reason</span>: <span class="hljs-string">`é•¿åº¦ä¸åŒ: <span class="hljs-subst">${arr1.length}</span> vs <span class="hljs-subst">${arr2.length}</span>`</span>
      };
    }

    <span class="hljs-keyword">const</span> differences = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr1.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">if</span> (arr1[i] !== arr2[i]) {
        differences.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">index</span>: i,
          <span class="hljs-attr">value1</span>: arr1[i],
          <span class="hljs-attr">value2</span>: arr2[i]
        });

        <span class="hljs-keyword">if</span> (differences.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">10</span>) {
          differences.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">note</span>: <span class="hljs-string">'... è¿˜æœ‰æ›´å¤šå·®å¼‚ ...'</span> });
          <span class="hljs-keyword">break</span>;
        }
      }
    }

    <span class="hljs-keyword">if</span> (differences.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">equal</span>: <span class="hljs-literal">true</span> };
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">equal</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">differenceCount</span>: differences.<span class="hljs-property">length</span>,
        differences
      };
    }
  }

  <span class="hljs-comment">// ç»Ÿè®¡ä¿¡æ¯</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">stats</span>(<span class="hljs-params">typedArray</span>) {
    <span class="hljs-keyword">let</span> min = typedArray[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">let</span> max = typedArray[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; typedArray.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> val = typedArray[i];
      <span class="hljs-keyword">if</span> (val &lt; min) min = val;
      <span class="hljs-keyword">if</span> (val &gt; max) max = val;
      sum += val;
    }

    <span class="hljs-keyword">const</span> mean = sum / typedArray.<span class="hljs-property">length</span>;

    <span class="hljs-comment">// è®¡ç®—æ ‡å‡†å·®</span>
    <span class="hljs-keyword">let</span> variance = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; typedArray.<span class="hljs-property">length</span>; i++) {
      variance += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(typedArray[i] - mean, <span class="hljs-number">2</span>);
    }
    <span class="hljs-keyword">const</span> stdDev = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(variance / typedArray.<span class="hljs-property">length</span>);

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">length</span>: typedArray.<span class="hljs-property">length</span>,
      min,
      max,
      sum,
      mean,
      stdDev,
      <span class="hljs-attr">byteLength</span>: typedArray.<span class="hljs-property">byteLength</span>,
      <span class="hljs-attr">type</span>: typedArray.<span class="hljs-property">constructor</span>.<span class="hljs-property">name</span>
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">0x48</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x6C</span>, <span class="hljs-number">0x6C</span>, <span class="hljs-number">0x6F</span>, <span class="hljs-number">0x20</span>, <span class="hljs-number">0x57</span>, <span class="hljs-number">0x6F</span>, <span class="hljs-number">0x72</span>, <span class="hljs-number">0x6C</span>, <span class="hljs-number">0x64</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">TypedArrayDebugger</span>.<span class="hljs-title function_">hexDump</span>(data));
<span class="hljs-comment">/*
00000000  48 65 6c 6c 6f 20 57 6f  72 6c 64                 |Hello World|
*/</span>

<span class="hljs-keyword">const</span> arr1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">TypedArrayDebugger</span>.<span class="hljs-title function_">compare</span>(arr1, arr2));

<span class="hljs-keyword">const</span> stats = <span class="hljs-title class_">TypedArrayDebugger</span>.<span class="hljs-title function_">stats</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">5.7</span>, <span class="hljs-number">8.1</span>, <span class="hljs-number">3.2</span>]));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»Ÿè®¡ä¿¡æ¯:'</span>, stats);
</code></pre>
<hr/>
<h3 data-id="heading-68">åå››ã€æµè§ˆå™¨å…¼å®¹æ€§ä¸Polyfill</h3>
<h4 data-id="heading-69">14.1 ç‰¹æ€§æ£€æµ‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»å‹åŒ–æ•°ç»„ç‰¹æ€§æ£€æµ‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedArraySupport</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">detect</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">typedArrays</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Uint8Array</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">arrayBuffer</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">ArrayBuffer</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">dataView</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">DataView</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">sharedArrayBuffer</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">SharedArrayBuffer</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">atomics</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Atomics</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">bigInt64Array</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">BigInt64Array</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">textEncoder</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">TextEncoder</span> !== <span class="hljs-string">'undefined'</span>,
      <span class="hljs-attr">textDecoder</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">TextDecoder</span> !== <span class="hljs-string">'undefined'</span>
    };
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">checkSupport</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> support = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">detect</span>();
    <span class="hljs-keyword">const</span> unsupported = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(support)
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">[_, supported]</span>) =&gt;</span> !supported)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[feature]</span>) =&gt;</span> feature);

    <span class="hljs-keyword">if</span> (unsupported.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'ä»¥ä¸‹ç‰¹æ€§ä¸æ”¯æŒ:'</span>, unsupported);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… æ‰€æœ‰ç±»å‹åŒ–æ•°ç»„ç‰¹æ€§éƒ½æ”¯æŒ'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title class_">TypedArraySupport</span>.<span class="hljs-title function_">checkSupport</span>();
</code></pre>
<h4 data-id="heading-70">14.2 æ€§èƒ½æœ€ä½³å®è·µæ€»ç»“</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ€§èƒ½æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPracticesChecker</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">code</span>) {
    <span class="hljs-keyword">const</span> warnings = [];

    <span class="hljs-comment">// æ£€æŸ¥1: é¿å…é¢‘ç¹åˆ†é…</span>
    <span class="hljs-keyword">if</span> (code.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'new Float32Array'</span>) &amp;&amp; code.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'for'</span>)) {
      warnings.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'æ€§èƒ½è­¦å‘Š'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'æ£€æµ‹åˆ°å¾ªç¯ä¸­åˆ›å»ºç±»å‹åŒ–æ•°ç»„ï¼Œè€ƒè™‘é‡ç”¨'</span>
      });
    }

    <span class="hljs-comment">// æ£€æŸ¥2: ä¼˜å…ˆä½¿ç”¨subarray</span>
    <span class="hljs-keyword">if</span> (code.<span class="hljs-title function_">includes</span>(<span class="hljs-params"><span class="hljs-string">'.slice('</span></span>)) {
      warnings.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'æ€§èƒ½æç¤º'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'ä½¿ç”¨subarrayä»£æ›¿sliceå¯ä»¥é¿å…æ•°æ®å¤åˆ¶'</span>
      });
    }

    <span class="hljs-comment">// æ£€æŸ¥3: æ‰¹é‡æ“ä½œ</span>
    <span class="hljs-keyword">if</span> (code.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\[\d+\]\s*=/g</span>) &amp;&amp; code.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\[\d+\]\s*=/g</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">5</span>) {
      warnings.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'æ€§èƒ½æç¤º'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'è€ƒè™‘ä½¿ç”¨set()æ–¹æ³•è¿›è¡Œæ‰¹é‡èµ‹å€¼'</span>
      });
    }

    <span class="hljs-keyword">return</span> warnings;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> codeSnippet = <span class="hljs-string">`
for (let i = 0; i &lt; 1000; i++) {
  const temp = new Float32Array(100);
  temp[0] = i;
  temp[1] = i * 2;
  temp[2] = i * 3;
}
`</span>;

<span class="hljs-keyword">const</span> warnings = <span class="hljs-title class_">BestPracticesChecker</span>.<span class="hljs-title function_">check</span>(codeSnippet);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»£ç æ£€æŸ¥ç»“æœ:'</span>, warnings);
</code></pre>
<hr/>
<h3 data-id="heading-71">åäº”ã€æ€»ç»“ä¸å±•æœ›</h3>
<p>ç±»å‹åŒ–æ•°ç»„ä½œä¸ºJavaScriptå¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œåœ¨ç°ä»£Webåº”ç”¨ä¸­æ‰®æ¼”ç€è¶Šæ¥è¶Šé‡è¦çš„è§’è‰²ã€‚ä»åŸºç¡€çš„ArrayBufferåˆ°é«˜çº§çš„SharedArrayBufferå¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œä»ç®€å•çš„æ•°æ®å­˜å‚¨åˆ°å¤æ‚çš„å›¾åƒå¤„ç†ç®—æ³•ï¼Œç±»å‹åŒ–æ•°ç»„ä¸ºJavaScriptå¸¦æ¥äº†æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-72">å…³é”®æŠ€æœ¯è¦ç‚¹</h4>
<ol>
<li><strong>åŸºç¡€æ¶æ„</strong> - ArrayBuffer + TypedArray/DataViewçš„åˆ†å±‚è®¾è®¡</li>
<li><strong>æ€§èƒ½ä¼˜åŠ¿</strong> - 2-5å€æ€§èƒ½æå‡ï¼Œç²¾ç¡®çš„å†…å­˜æ§åˆ¶</li>
<li><strong>å¤šçº¿ç¨‹</strong> - SharedArrayBuffer + Atomicså®ç°çœŸæ­£çš„å¹¶è¡Œè®¡ç®—</li>
<li><strong>å®æˆ˜åº”ç”¨</strong> - WebGLã€éŸ³è§†é¢‘ã€æ–‡ä»¶å¤„ç†ã€ç½‘ç»œåè®®</li>
<li><strong>æœ€ä½³å®è·µ</strong> - é‡ç”¨å†…å­˜ã€é›¶æ‹·è´ã€æ‰¹é‡æ“ä½œ</li>
</ol>
<h4 data-id="heading-73">æœªæ¥å‘å±•æ–¹å‘</h4>
<ul>
<li><strong>WebGPUé›†æˆ</strong> - æ›´å¼ºå¤§çš„GPUè®¡ç®—èƒ½åŠ›</li>
<li><strong>WASMæ·±åº¦èåˆ</strong> - é›¶æˆæœ¬çš„JavaScript-WASMäº’æ“ä½œ</li>
<li><strong>æ›´å¤šåŸå­æ“ä½œ</strong> - å¢å¼ºçš„å¹¶å‘åŸè¯­</li>
<li><strong>SIMDæ”¯æŒ</strong> - æ˜¾å¼çš„SIMDæŒ‡ä»¤é›†</li>
<li><strong>æ›´å¥½çš„è°ƒè¯•å·¥å…·</strong> - æµè§ˆå™¨DevToolså¢å¼º</li>
</ul>
<p>æŒæ¡ç±»å‹åŒ–æ•°ç»„ï¼Œä¸ä»…æ˜¯æ€§èƒ½ä¼˜åŒ–çš„éœ€è¦ï¼Œæ›´æ˜¯æ„å»ºç°ä»£é«˜æ€§èƒ½Webåº”ç”¨çš„åŸºçŸ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Canvas æ·±å…¥è§£æï¼šä»åŸºç¡€åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7587312329173172278</link>    <guid>https://juejin.cn/post/7587312329173172278</guid>    <pubDate>2025-12-24T15:12:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587312329173172278" data-draft-id="7587299443643531327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Canvas æ·±å…¥è§£æï¼šä»åŸºç¡€åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-24T15:12:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ¢¦plus"/> <meta itemprop="url" content="https://juejin.cn/user/2875978149798093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Canvas æ·±å…¥è§£æï¼šä»åŸºç¡€åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978149798093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ¢¦plus
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:12:23.000Z" title="Wed Dec 24 2025 15:12:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Canvas æ·±å…¥è§£æï¼šä»åŸºç¡€åˆ°å®æˆ˜</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>Canvas æ˜¯ HTML5 å¼•å…¥çš„ä¸€ä¸ªå¼ºå¤§çš„ 2D å›¾å½¢ç»˜åˆ¶ APIï¼Œå®ƒä¸º Web å¼€å‘æä¾›äº†åƒç´ çº§çš„å›¾å½¢æ§åˆ¶èƒ½åŠ›ã€‚é€šè¿‡ Canvasï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å®ç°å¤æ‚çš„æ•°æ®å¯è§†åŒ–ã€æ¸¸æˆå¼€å‘ã€å›¾åƒå¤„ç†ä»¥åŠåŠ¨ç”»æ•ˆæœã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€Canvas åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯ Canvas</h4>
<p>Canvas æ˜¯ä¸€ä¸ª HTML å…ƒç´ ï¼Œæä¾›äº†ä¸€ä¸ªé€šè¿‡ JavaScript è„šæœ¬æ¥ç»˜åˆ¶å›¾å½¢çš„ç”»å¸ƒåŒºåŸŸã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä½å›¾å®¹å™¨ï¼Œå¯ä»¥ç”¨æ¥æ¸²æŸ“å›¾å½¢ã€å›¾è¡¨ã€åŠ¨ç”»ä»¥åŠå›¾åƒåˆæˆç­‰ã€‚</p>
<p>Canvas çš„æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰æä¾›äº†å®é™…çš„ç»˜å›¾æ–¹æ³•å’Œå±æ€§ã€‚ç›®å‰ä¸»è¦æœ‰ä¸¤ç§ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li><strong>2D Context</strong>ï¼šç”¨äº 2D å›¾å½¢ç»˜åˆ¶</li>
<li><strong>WebGL Context</strong>ï¼šç”¨äº 3D å›¾å½¢æ¸²æŸ“</li>
</ul>
<h4 data-id="heading-4">1.2 Canvas ä¸ SVG çš„åŒºåˆ«</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[å›¾å½¢ç»˜åˆ¶æŠ€æœ¯] --&gt; B[Canvas]
    A --&gt; C[SVG]
    B --&gt; D[ä½å›¾/åƒç´ çº§æ“ä½œ]
    B --&gt; E[JavaScript é©±åŠ¨]
    B --&gt; F[é€‚åˆåŠ¨ç”»å¯†é›†åœºæ™¯]
    C --&gt; G[çŸ¢é‡å›¾/DOMå…ƒç´ ]
    C --&gt; H[å£°æ˜å¼]
    C --&gt; I[é€‚åˆäº¤äº’å¼å›¾å½¢]
</code></pre>
<p><strong>æ ¸å¿ƒå·®å¼‚ï¼š</strong></p>
<ul>
<li>Canvas åŸºäºåƒç´ ï¼Œç»˜åˆ¶åæ— æ³•ç›´æ¥ä¿®æ”¹å•ä¸ªå›¾å½¢å¯¹è±¡</li>
<li>SVG åŸºäºçŸ¢é‡ï¼Œæ¯ä¸ªå›¾å½¢éƒ½æ˜¯ DOM èŠ‚ç‚¹ï¼Œæ”¯æŒäº‹ä»¶ç»‘å®š</li>
<li>Canvas é€‚åˆé«˜é¢‘åŠ¨ç”»å’Œå¤§é‡å›¾å½¢æ¸²æŸ“</li>
<li>SVG é€‚åˆéœ€è¦äº¤äº’å’Œå¯ç¼©æ”¾çš„åœºæ™¯</li>
</ul>
<hr/>
<h3 data-id="heading-5">äºŒã€Canvas åŸºæœ¬ä½¿ç”¨</h3>
<h4 data-id="heading-6">2.1 åˆ›å»º Canvas å…ƒç´ </h4>
<p>é¦–å…ˆéœ€è¦åœ¨ HTML ä¸­å®šä¹‰ Canvas å…ƒç´ ï¼Œå¹¶é€šè¿‡ JavaScript è·å–ç»˜å›¾ä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// HTML: &lt;canvas id="myCanvas" width="800" height="600"&gt;&lt;/canvas&gt;</span>

<span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// è®¾ç½® Canvas åˆ†è¾¨ç‡é€‚é…é«˜æ¸…å±å¹•</span>
<span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>;
canvas.<span class="hljs-property">width</span> = <span class="hljs-number">800</span> * dpr;
canvas.<span class="hljs-property">height</span> = <span class="hljs-number">600</span> * dpr;
canvas.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'800px'</span>;
canvas.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">'600px'</span>;
ctx.<span class="hljs-title function_">scale</span>(dpr, dpr);
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong> ä¸Šè¿°ä»£ç å±•ç¤ºäº†å¦‚ä½•æ­£ç¡®å¤„ç†é«˜åˆ†è¾¨ç‡å±å¹•ï¼ˆå¦‚ Retina å±ï¼‰ã€‚é€šè¿‡ <code>devicePixelRatio</code> è°ƒæ•´å®é™…ç»˜åˆ¶åˆ†è¾¨ç‡ï¼Œç¡®ä¿å›¾å½¢æ¸…æ™°åº¦ã€‚</p>
<h4 data-id="heading-7">2.2 Canvas åæ ‡ç³»ç»Ÿ</h4>
<p>Canvas ä½¿ç”¨ç¬›å¡å°”åæ ‡ç³»ï¼ŒåŸç‚¹ (0, 0) ä½äºå·¦ä¸Šè§’ï¼Œx è½´å‘å³å»¶ä¼¸ï¼Œy è½´å‘ä¸‹å»¶ä¼¸ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[&amp;#34;(0,0) åŸç‚¹&amp;#34;] --&gt; B[&amp;#34;x è½´ â†’&amp;#34;]
    A --&gt; C[&amp;#34;y è½´ â†“&amp;#34;]
    B --&gt; D[&amp;#34;(width, 0)&amp;#34;]
    C --&gt; E[&amp;#34;(0, height)&amp;#34;]
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒç»˜å›¾ API</h3>
<h4 data-id="heading-9">3.1 ç»˜åˆ¶åŸºæœ¬å›¾å½¢</h4>
<h5 data-id="heading-10">çŸ©å½¢ç»˜åˆ¶</h5>
<p>Canvas æä¾›äº†ä¸‰ç§ç›´æ¥ç»˜åˆ¶çŸ©å½¢çš„æ–¹æ³•ï¼Œæ— éœ€è·¯å¾„æ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¡«å……çŸ©å½¢</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#4CAF50'</span>;
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// æè¾¹çŸ©å½¢</span>
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#2196F3'</span>;
ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span>;
ctx.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// æ¸…é™¤çŸ©å½¢åŒºåŸŸ</span>
ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong> <code>fillRect</code> å’Œ <code>strokeRect</code> æ˜¯ç«‹å³æ¸²æŸ“æ–¹æ³•ï¼Œ<code>clearRect</code> ç”¨äºæ“¦é™¤æŒ‡å®šåŒºåŸŸçš„åƒç´ ã€‚</p>
<h5 data-id="heading-11">è·¯å¾„ç»˜åˆ¶</h5>
<p>è·¯å¾„æ˜¯ Canvas ç»˜åˆ¶å¤æ‚å›¾å½¢çš„åŸºç¡€ï¼Œé€šè¿‡ä¸€ç³»åˆ—ç»˜å›¾æŒ‡ä»¤æ„å»ºå½¢çŠ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»˜åˆ¶ä¸‰è§’å½¢</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);
ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);
ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">100</span>);
ctx.<span class="hljs-title function_">closePath</span>();
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#FF5722'</span>;
ctx.<span class="hljs-title function_">fill</span>();
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000'</span>;
ctx.<span class="hljs-title function_">stroke</span>();
</code></pre>
<p><strong>ç»˜åˆ¶æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[beginPath] --&gt; B[moveTo/lineTo]
    B --&gt; C[closePath]
    C --&gt; D{å¡«å……æˆ–æè¾¹}
    D --&gt;|fill| E[å¡«å……è·¯å¾„]
    D --&gt;|stroke| F[æè¾¹è·¯å¾„]
</code></pre>
<h4 data-id="heading-12">3.2 åœ†å½¢ä¸å¼§çº¿</h4>
<p>åœ†å½¢ç»˜åˆ¶ä½¿ç”¨ <code>arc()</code> æ–¹æ³•ï¼Œéœ€è¦æŒ‡å®šåœ†å¿ƒã€åŠå¾„ã€èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»˜åˆ¶å®Œæ•´åœ†å½¢</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">400</span>, <span class="hljs-number">300</span>, <span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgba(33, 150, 243, 0.5)'</span>;
ctx.<span class="hljs-title function_">fill</span>();

<span class="hljs-comment">// ç»˜åˆ¶æ‰‡å½¢</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">600</span>, <span class="hljs-number">300</span>);
ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">600</span>, <span class="hljs-number">300</span>, <span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.75</span>);
ctx.<span class="hljs-title function_">closePath</span>();
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#FFC107'</span>;
ctx.<span class="hljs-title function_">fill</span>();
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>arc(x, y, radius, startAngle, endAngle, anticlockwise)</code></li>
<li>è§’åº¦ä½¿ç”¨å¼§åº¦åˆ¶ï¼š360Â° = 2Ï€</li>
</ul>
<h4 data-id="heading-13">3.3 è´å¡å°”æ›²çº¿</h4>
<p>è´å¡å°”æ›²çº¿ç”¨äºç»˜åˆ¶å¹³æ»‘æ›²çº¿ï¼Œå¸¸ç”¨äºå›¾å½¢è®¾è®¡å’ŒåŠ¨ç”»è·¯å¾„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// äºŒæ¬¡è´å¡å°”æ›²çº¿</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">400</span>);
ctx.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">400</span>);
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#9C27B0'</span>;
ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-title function_">stroke</span>();

<span class="hljs-comment">// ä¸‰æ¬¡è´å¡å°”æ›²çº¿</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
ctx.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">500</span>, <span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>, <span class="hljs-number">700</span>, <span class="hljs-number">400</span>);
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#E91E63'</span>;
ctx.<span class="hljs-title function_">stroke</span>();
</code></pre>
<hr/>
<h3 data-id="heading-14">å››ã€æ ·å¼ä¸é¢œè‰²</h3>
<h4 data-id="heading-15">4.1 é¢œè‰²ä¸é€æ˜åº¦</h4>
<p>Canvas æ”¯æŒå¤šç§é¢œè‰²æ ¼å¼ï¼ŒåŒ…æ‹¬å‘½åé¢œè‰²ã€åå…­è¿›åˆ¶ã€RGB å’Œ RGBAã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¤šç§é¢œè‰²è®¾ç½®æ–¹å¼</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'red'</span>;                          <span class="hljs-comment">// å‘½åé¢œè‰²</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#FF5722'</span>;                      <span class="hljs-comment">// åå…­è¿›åˆ¶</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255, 87, 34)'</span>;            <span class="hljs-comment">// RGB</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgba(255, 87, 34, 0.6)'</span>;      <span class="hljs-comment">// RGBA</span>

<span class="hljs-comment">// å…¨å±€é€æ˜åº¦</span>
ctx.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.5</span>;
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>);
ctx.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">1.0</span>; <span class="hljs-comment">// æ¢å¤é»˜è®¤</span>
</code></pre>
<h4 data-id="heading-16">4.2 æ¸å˜æ•ˆæœ</h4>
<p>Canvas æä¾›çº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜ä¸¤ç§æ¸å˜ç±»å‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çº¿æ€§æ¸å˜</span>
<span class="hljs-keyword">const</span> linearGradient = ctx.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">0</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'#FF6B6B'</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'#4ECDC4'</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'#45B7D1'</span>);
ctx.<span class="hljs-property">fillStyle</span> = linearGradient;
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">400</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// å¾„å‘æ¸å˜</span>
<span class="hljs-keyword">const</span> radialGradient = ctx.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">20</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>);
radialGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'#FFF'</span>);
radialGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'#FF6B6B'</span>);
ctx.<span class="hljs-property">fillStyle</span> = radialGradient;
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
ctx.<span class="hljs-title function_">fill</span>();
</code></pre>
<h4 data-id="heading-17">4.3 é˜´å½±æ•ˆæœ</h4>
<p>é€šè¿‡è®¾ç½®é˜´å½±å±æ€§ï¼Œå¯ä»¥ä¸ºå›¾å½¢æ·»åŠ ç«‹ä½“æ„Ÿã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">ctx.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgba(0, 0, 0, 0.5)'</span>;
ctx.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">15</span>;
ctx.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">5</span>;
ctx.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">5</span>;

ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#2196F3'</span>;
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>);

<span class="hljs-comment">// æ¸…é™¤é˜´å½±è®¾ç½®</span>
ctx.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'transparent'</span>;
</code></pre>
<hr/>
<h3 data-id="heading-18">äº”ã€æ–‡æœ¬ç»˜åˆ¶</h3>
<h4 data-id="heading-19">5.1 åŸºç¡€æ–‡æœ¬ API</h4>
<p>Canvas æä¾›äº†å¼ºå¤§çš„æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›ï¼Œæ”¯æŒå­—ä½“ã€å¯¹é½ã€åŸºçº¿ç­‰å¤šç§å±æ€§è®¾ç½®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®¾ç½®å­—ä½“æ ·å¼</span>
ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'bold 48px Arial, sans-serif'</span>;
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#333'</span>;
ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;
ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span>;

<span class="hljs-comment">// å¡«å……æ–‡æœ¬</span>
ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Hello Canvas'</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);

<span class="hljs-comment">// æè¾¹æ–‡æœ¬</span>
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#2196F3'</span>;
ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-title function_">strokeText</span>(<span class="hljs-string">'Hello Canvas'</span>, <span class="hljs-number">400</span>, <span class="hljs-number">400</span>);

<span class="hljs-comment">// æµ‹é‡æ–‡æœ¬å®½åº¦</span>
<span class="hljs-keyword">const</span> metrics = ctx.<span class="hljs-title function_">measureText</span>(<span class="hljs-string">'Hello Canvas'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡æœ¬å®½åº¦:'</span>, metrics.<span class="hljs-property">width</span>);
</code></pre>
<p><strong>æ–‡æœ¬å¯¹é½å±æ€§ï¼š</strong></p>
<ul>
<li><code>textAlign</code>: <code>left</code> | <code>right</code> | <code>center</code> | <code>start</code> | <code>end</code></li>
<li><code>textBaseline</code>: <code>top</code> | <code>middle</code> | <code>bottom</code> | <code>alphabetic</code> | <code>hanging</code></li>
</ul>
<h4 data-id="heading-20">5.2 æ–‡æœ¬æ¢è¡Œä¸æˆªæ–­</h4>
<p>Canvas ä¸æ”¯æŒè‡ªåŠ¨æ¢è¡Œï¼Œéœ€è¦æ‰‹åŠ¨å®ç°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">wrapText</span>(<span class="hljs-params">ctx, text, x, y, maxWidth, lineHeight</span>) {
  <span class="hljs-keyword">const</span> words = text.<span class="hljs-title function_">split</span>(<span class="hljs-string">' '</span>);
  <span class="hljs-keyword">let</span> line = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">let</span> offsetY = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> word <span class="hljs-keyword">of</span> words) {
    <span class="hljs-keyword">const</span> testLine = line + word + <span class="hljs-string">' '</span>;
    <span class="hljs-keyword">const</span> metrics = ctx.<span class="hljs-title function_">measureText</span>(testLine);

    <span class="hljs-keyword">if</span> (metrics.<span class="hljs-property">width</span> &gt; maxWidth &amp;&amp; line !== <span class="hljs-string">''</span>) {
      ctx.<span class="hljs-title function_">fillText</span>(line, x, y + offsetY);
      line = word + <span class="hljs-string">' '</span>;
      offsetY += lineHeight;
    } <span class="hljs-keyword">else</span> {
      line = testLine;
    }
  }
  ctx.<span class="hljs-title function_">fillText</span>(line, x, y + offsetY);
}

ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'16px Arial'</span>;
<span class="hljs-title function_">wrapText</span>(ctx, <span class="hljs-string">'è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬ï¼Œéœ€è¦è‡ªåŠ¨æ¢è¡Œæ˜¾ç¤º'</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">24</span>);
</code></pre>
<hr/>
<h3 data-id="heading-21">å…­ã€å›¾åƒå¤„ç†</h3>
<h4 data-id="heading-22">6.1 ç»˜åˆ¶å›¾åƒ</h4>
<p>Canvas å¯ä»¥ç»˜åˆ¶å›¾åƒæ–‡ä»¶ã€å…¶ä»– Canvas å…ƒç´ æˆ–è§†é¢‘å¸§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> image = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
image.<span class="hljs-property">src</span> = <span class="hljs-string">'photo.jpg'</span>;

image.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// åŸºç¡€ç»˜åˆ¶</span>
  ctx.<span class="hljs-title function_">drawImage</span>(image, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç¼©æ”¾ç»˜åˆ¶</span>
  ctx.<span class="hljs-title function_">drawImage</span>(image, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);

  <span class="hljs-comment">// è£å‰ªç»˜åˆ¶</span>
  ctx.<span class="hljs-title function_">drawImage</span>(
    image,
    <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>,  <span class="hljs-comment">// æºå›¾åƒè£å‰ªåŒºåŸŸ</span>
    <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>     <span class="hljs-comment">// ç›®æ ‡ç”»å¸ƒä½ç½®å’Œå°ºå¯¸</span>
  );
};
</code></pre>
<h4 data-id="heading-23">6.2 åƒç´ æ“ä½œ</h4>
<p>é€šè¿‡ <code>getImageData</code> å’Œ <code>putImageData</code> å¯ä»¥ç›´æ¥æ“ä½œåƒç´ æ•°æ®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·å–åƒç´ æ•°æ®</span>
<span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
<span class="hljs-keyword">const</span> data = imageData.<span class="hljs-property">data</span>; <span class="hljs-comment">// Uint8ClampedArray [r, g, b, a, r, g, b, a, ...]</span>

<span class="hljs-comment">// ç°åº¦æ»¤é•œ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {
  <span class="hljs-keyword">const</span> avg = (data[i] + data[i + <span class="hljs-number">1</span>] + data[i + <span class="hljs-number">2</span>]) / <span class="hljs-number">3</span>;
  data[i] = avg;     <span class="hljs-comment">// R</span>
  data[i + <span class="hljs-number">1</span>] = avg; <span class="hljs-comment">// G</span>
  data[i + <span class="hljs-number">2</span>] = avg; <span class="hljs-comment">// B</span>
  <span class="hljs-comment">// data[i + 3] æ˜¯ alpha é€šé“ï¼Œä¿æŒä¸å˜</span>
}

<span class="hljs-comment">// åº”ç”¨ä¿®æ”¹åçš„åƒç´ æ•°æ®</span>
ctx.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>åƒç´ æ•°æ®ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ImageData] --&gt; B[data: Uint8ClampedArray]
    B --&gt; C[åƒç´ 1: R G B A]
    B --&gt; D[åƒç´ 2: R G B A]
    B --&gt; E[åƒç´ 3: R G B A]
    C --&gt; F[èŒƒå›´: 0-255]
</code></pre>
<hr/>
<h3 data-id="heading-24">ä¸ƒã€å˜æ¢ä¸å˜å½¢</h3>
<h4 data-id="heading-25">7.1 åŸºç¡€å˜æ¢</h4>
<p>Canvas æä¾›äº†å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰å‡ ä½•å˜æ¢æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">ctx.<span class="hljs-title function_">save</span>(); <span class="hljs-comment">// ä¿å­˜å½“å‰çŠ¶æ€</span>

<span class="hljs-comment">// å¹³ç§»</span>
ctx.<span class="hljs-title function_">translate</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);

<span class="hljs-comment">// æ—‹è½¬ï¼ˆå¼§åº¦åˆ¶ï¼‰</span>
ctx.<span class="hljs-title function_">rotate</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">4</span>);

<span class="hljs-comment">// ç¼©æ”¾</span>
ctx.<span class="hljs-title function_">scale</span>(<span class="hljs-number">1.5</span>, <span class="hljs-number">1.5</span>);

<span class="hljs-comment">// ç»˜åˆ¶å›¾å½¢</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#FF5722'</span>;
ctx.<span class="hljs-title function_">fillRect</span>(-<span class="hljs-number">50</span>, -<span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);

ctx.<span class="hljs-title function_">restore</span>(); <span class="hljs-comment">// æ¢å¤ä¹‹å‰ä¿å­˜çš„çŠ¶æ€</span>
</code></pre>
<p><strong>å˜æ¢æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[saveä¿å­˜çŠ¶æ€] --&gt; B[translateå¹³ç§»]
    B --&gt; C[rotateæ—‹è½¬]
    C --&gt; D[scaleç¼©æ”¾]
    D --&gt; E[ç»˜åˆ¶å›¾å½¢]
    E --&gt; F[restoreæ¢å¤çŠ¶æ€]
</code></pre>
<h4 data-id="heading-26">7.2 å˜æ¢çŸ©é˜µ</h4>
<p>é«˜çº§å˜æ¢å¯ä»¥é€šè¿‡å˜æ¢çŸ©é˜µå®ç°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// transform(a, b, c, d, e, f)</span>
<span class="hljs-comment">// a: æ°´å¹³ç¼©æ”¾, b: æ°´å¹³å€¾æ–œ, c: å‚ç›´å€¾æ–œ</span>
<span class="hljs-comment">// d: å‚ç›´ç¼©æ”¾, e: æ°´å¹³ç§»åŠ¨, f: å‚ç›´ç§»åŠ¨</span>

ctx.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// é‡ç½®å˜æ¢çŸ©é˜µ</span>
ctx.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</code></pre>
<hr/>
<h3 data-id="heading-27">å…«ã€åŠ¨ç”»å®ç°</h3>
<h4 data-id="heading-28">8.1 åŠ¨ç”»å¾ªç¯</h4>
<p>Canvas åŠ¨ç”»çš„æ ¸å¿ƒæ˜¯æŒç»­æ›´æ–°å’Œé‡ç»˜ï¼Œé€šå¸¸ä½¿ç”¨ <code>requestAnimationFrame</code> å®ç°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> velocity = <span class="hljs-number">2</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ¸…é™¤ç”»å¸ƒ</span>
  ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-comment">// æ›´æ–°ä½ç½®</span>
  x += velocity;
  <span class="hljs-keyword">if</span> (x &gt; canvas.<span class="hljs-property">width</span> || x &lt; <span class="hljs-number">0</span>) {
    velocity *= -<span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">// ç»˜åˆ¶å¯¹è±¡</span>
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#2196F3'</span>;
  ctx.<span class="hljs-title function_">beginPath</span>();
  ctx.<span class="hljs-title function_">arc</span>(x, <span class="hljs-number">300</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
  ctx.<span class="hljs-title function_">fill</span>();

  <span class="hljs-comment">// è¯·æ±‚ä¸‹ä¸€å¸§</span>
  <span class="hljs-title function_">requestAnimationFrame</span>(animate);
}

<span class="hljs-title function_">animate</span>();
</code></pre>
<p><strong>åŠ¨ç”»å¾ªç¯æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[æ¸…é™¤ç”»å¸ƒ] --&gt; B[æ›´æ–°çŠ¶æ€]
    B --&gt; C[ç»˜åˆ¶å›¾å½¢]
    C --&gt; D[requestAnimationFrame]
    D --&gt; A
</code></pre>
<h4 data-id="heading-29">8.2 ç²’å­ç³»ç»Ÿ</h4>
<p>ç²’å­ç³»ç»Ÿæ˜¯å®ç°å¤æ‚è§†è§‰æ•ˆæœçš„å¸¸ç”¨æŠ€æœ¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Particle</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vx</span> = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">4</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vy</span> = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">4</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">life</span> = <span class="hljs-number">1</span>;
  }

  <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">vx</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">vy</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">life</span> -= <span class="hljs-number">0.01</span>;
  }

  <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx</span>) {
    ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">`rgba(255, 100, 100, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.life}</span>)`</span>;
    ctx.<span class="hljs-title function_">beginPath</span>();
    ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
    ctx.<span class="hljs-title function_">fill</span>();
  }
}

<span class="hljs-keyword">const</span> particles = [];

<span class="hljs-keyword">function</span> <span class="hljs-title function_">animateParticles</span>(<span class="hljs-params"/>) {
  ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-comment">// æ·»åŠ æ–°ç²’å­</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &lt; <span class="hljs-number">0.1</span>) {
    particles.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Particle</span>(<span class="hljs-number">400</span>, <span class="hljs-number">300</span>));
  }

  <span class="hljs-comment">// æ›´æ–°å¹¶ç»˜åˆ¶ç²’å­</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = particles.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    particles[i].<span class="hljs-title function_">update</span>();
    particles[i].<span class="hljs-title function_">draw</span>(ctx);

    <span class="hljs-keyword">if</span> (particles[i].<span class="hljs-property">life</span> &lt;= <span class="hljs-number">0</span>) {
      particles.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-title function_">requestAnimationFrame</span>(animateParticles);
}

<span class="hljs-title function_">animateParticles</span>();
</code></pre>
<hr/>
<h3 data-id="heading-30">ä¹ã€æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-31">9.1 ç¦»å± Canvas</h4>
<p>å¯¹äºå¤æ‚å›¾å½¢ï¼Œä½¿ç”¨ç¦»å± Canvas é¢„æ¸²æŸ“å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºç¦»å± Canvas</span>
<span class="hljs-keyword">const</span> offscreenCanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
offscreenCanvas.<span class="hljs-property">width</span> = <span class="hljs-number">200</span>;
offscreenCanvas.<span class="hljs-property">height</span> = <span class="hljs-number">200</span>;
<span class="hljs-keyword">const</span> offscreenCtx = offscreenCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// åœ¨ç¦»å± Canvas ä¸Šç»˜åˆ¶å¤æ‚å›¾å½¢</span>
offscreenCtx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#FF5722'</span>;
offscreenCtx.<span class="hljs-title function_">beginPath</span>();
offscreenCtx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
offscreenCtx.<span class="hljs-title function_">fill</span>();

<span class="hljs-comment">// åœ¨ä¸» Canvas ä¸Šå¤šæ¬¡ä½¿ç”¨é¢„æ¸²æŸ“ç»“æœ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
    ctx.<span class="hljs-title function_">drawImage</span>(offscreenCanvas, i * <span class="hljs-number">150</span>, <span class="hljs-number">100</span>);
  }

  <span class="hljs-title function_">requestAnimationFrame</span>(render);
}

<span class="hljs-title function_">render</span>();
</code></pre>
<h4 data-id="heading-32">9.2 åˆ†å±‚æ¸²æŸ“</h4>
<p>å°†é™æ€å†…å®¹å’ŒåŠ¨æ€å†…å®¹åˆ†ç¦»åˆ°ä¸åŒçš„ Canvas å±‚ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é™æ€èƒŒæ™¯å±‚</span>
<span class="hljs-keyword">const</span> bgCanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'bgCanvas'</span>);
<span class="hljs-keyword">const</span> bgCtx = bgCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// åŠ¨æ€å†…å®¹å±‚</span>
<span class="hljs-keyword">const</span> fgCanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fgCanvas'</span>);
<span class="hljs-keyword">const</span> fgCtx = fgCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// åªç»˜åˆ¶ä¸€æ¬¡èƒŒæ™¯</span>
bgCtx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#f0f0f0'</span>;
bgCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, bgCanvas.<span class="hljs-property">width</span>, bgCanvas.<span class="hljs-property">height</span>);

<span class="hljs-comment">// åŠ¨æ€å†…å®¹æŒç»­æ›´æ–°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
  fgCtx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, fgCanvas.<span class="hljs-property">width</span>, fgCanvas.<span class="hljs-property">height</span>);
  <span class="hljs-comment">// ç»˜åˆ¶åŠ¨æ€å†…å®¹...</span>
  <span class="hljs-title function_">requestAnimationFrame</span>(animate);
}
</code></pre>
<p><strong>åˆ†å±‚æ¶æ„ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Canvas åˆ†å±‚] --&gt; B[èƒŒæ™¯å±‚ - é™æ€]
    A --&gt; C[å†…å®¹å±‚ - åŠ¨æ€]
    A --&gt; D[UIå±‚ - äº¤äº’]
    B --&gt; E[æ¸²æŸ“ä¸€æ¬¡]
    C --&gt; F[æŒç»­æ›´æ–°]
    D --&gt; G[æŒ‰éœ€æ›´æ–°]
</code></pre>
<h4 data-id="heading-33">9.3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. æ‰¹é‡ç»˜åˆ¶è·¯å¾„</span>
ctx.<span class="hljs-title function_">beginPath</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  ctx.<span class="hljs-title function_">rect</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">800</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">600</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);
}
ctx.<span class="hljs-title function_">fill</span>(); <span class="hljs-comment">// ä¸€æ¬¡æ€§å¡«å……æ‰€æœ‰çŸ©å½¢</span>

<span class="hljs-comment">// 2. é¿å…ä¸å¿…è¦çš„çŠ¶æ€æ”¹å˜</span>
<span class="hljs-keyword">const</span> style = <span class="hljs-string">'#FF5722'</span>;
ctx.<span class="hljs-property">fillStyle</span> = style;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  <span class="hljs-comment">// ä¸è¦åœ¨å¾ªç¯å†…é‡å¤è®¾ç½®ç›¸åŒçš„æ ·å¼</span>
  ctx.<span class="hljs-title function_">fillRect</span>(i * <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>);
}

<span class="hljs-comment">// 3. ä½¿ç”¨æ•´æ•°åæ ‡</span>
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x), <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(y), width, height);

<span class="hljs-comment">// 4. é™åˆ¶é‡ç»˜åŒºåŸŸ</span>
ctx.<span class="hljs-title function_">clearRect</span>(x, y, width, height); <span class="hljs-comment">// åªæ¸…é™¤å¿…è¦åŒºåŸŸ</span>
</code></pre>
<hr/>
<h3 data-id="heading-34">åã€å®æˆ˜æ¡ˆä¾‹</h3>
<h4 data-id="heading-35">10.1 æ•°æ®å¯è§†åŒ–ï¼šåŠ¨æ€å›¾è¡¨</h4>
<p>å®ç°ä¸€ä¸ªå®æ—¶æ›´æ–°çš„æŠ˜çº¿å›¾ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineChart</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas, maxPoints = <span class="hljs-number">50</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = canvas;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxPoints</span> = maxPoints;
  }

  <span class="hljs-title function_">addData</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">push</span>(value);
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxPoints</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">shift</span>();
    }
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> { ctx, canvas, data } = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">const</span> padding = <span class="hljs-number">40</span>;
    <span class="hljs-keyword">const</span> width = canvas.<span class="hljs-property">width</span> - padding * <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> height = canvas.<span class="hljs-property">height</span> - padding * <span class="hljs-number">2</span>;

    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

    <span class="hljs-comment">// ç»˜åˆ¶åæ ‡è½´</span>
    ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#ccc'</span>;
    ctx.<span class="hljs-title function_">beginPath</span>();
    ctx.<span class="hljs-title function_">moveTo</span>(padding, padding);
    ctx.<span class="hljs-title function_">lineTo</span>(padding, canvas.<span class="hljs-property">height</span> - padding);
    ctx.<span class="hljs-title function_">lineTo</span>(canvas.<span class="hljs-property">width</span> - padding, canvas.<span class="hljs-property">height</span> - padding);
    ctx.<span class="hljs-title function_">stroke</span>();

    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// ç»˜åˆ¶æŠ˜çº¿</span>
    <span class="hljs-keyword">const</span> max = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...data);
    <span class="hljs-keyword">const</span> min = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(...data);
    <span class="hljs-keyword">const</span> range = max - min || <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> step = width / (<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxPoints</span> - <span class="hljs-number">1</span>);

    ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#2196F3'</span>;
    ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>;
    ctx.<span class="hljs-title function_">beginPath</span>();

    data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, index</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> x = padding + index * step;
      <span class="hljs-keyword">const</span> y = canvas.<span class="hljs-property">height</span> - padding - ((value - min) / range) * height;

      <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) {
        ctx.<span class="hljs-title function_">moveTo</span>(x, y);
      } <span class="hljs-keyword">else</span> {
        ctx.<span class="hljs-title function_">lineTo</span>(x, y);
      }
    });

    ctx.<span class="hljs-title function_">stroke</span>();
  }
}

<span class="hljs-keyword">const</span> chart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LineChart</span>(canvas);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateChart</span>(<span class="hljs-params"/>) {
  chart.<span class="hljs-title function_">addData</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>);
  chart.<span class="hljs-title function_">render</span>();
  <span class="hljs-built_in">setTimeout</span>(updateChart, <span class="hljs-number">200</span>);
}

<span class="hljs-title function_">updateChart</span>();
</code></pre>
<h4 data-id="heading-36">10.2 æ¸¸æˆå¼€å‘ï¼šç¢°æ’æ£€æµ‹</h4>
<p>å®ç°ç®€å•çš„çŸ©å½¢ç¢°æ’æ£€æµ‹ç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GameObject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y, width, height, color</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vx</span> = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">4</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vy</span> = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">4</span>;
  }

  <span class="hljs-title function_">update</span>(<span class="hljs-params">canvas</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">vx</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">vy</span>;

    <span class="hljs-comment">// è¾¹ç•Œåå¼¹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &lt;= <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> &gt;= canvas.<span class="hljs-property">width</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">vx</span> *= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &lt;= <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> &gt;= canvas.<span class="hljs-property">height</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">vy</span> *= -<span class="hljs-number">1</span>;
    }
  }

  <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx</span>) {
    ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>;
    ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>);
  }

  <span class="hljs-title function_">collidesWith</span>(<span class="hljs-params">other</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &lt; other.<span class="hljs-property">x</span> + other.<span class="hljs-property">width</span> &amp;&amp;
           <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> &gt; other.<span class="hljs-property">x</span> &amp;&amp;
           <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &lt; other.<span class="hljs-property">y</span> + other.<span class="hljs-property">height</span> &amp;&amp;
           <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> &gt; other.<span class="hljs-property">y</span>;
  }
}

<span class="hljs-keyword">const</span> objects = [
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">GameObject</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-string">'#FF5722'</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">GameObject</span>(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-string">'#2196F3'</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">GameObject</span>(<span class="hljs-number">500</span>, <span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-string">'#4CAF50'</span>)
];

<span class="hljs-keyword">function</span> <span class="hljs-title function_">gameLoop</span>(<span class="hljs-params"/>) {
  ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  objects.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> {
    obj.<span class="hljs-title function_">update</span>(canvas);
    obj.<span class="hljs-title function_">draw</span>(ctx);

    <span class="hljs-comment">// æ£€æµ‹ç¢°æ’</span>
    objects.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">other</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (obj !== other &amp;&amp; obj.<span class="hljs-title function_">collidesWith</span>(other)) {
        obj.<span class="hljs-property">color</span> = <span class="hljs-string">'#FFC107'</span>;
        other.<span class="hljs-property">color</span> = <span class="hljs-string">'#FFC107'</span>;
      }
    });
  });

  <span class="hljs-title function_">requestAnimationFrame</span>(gameLoop);
}

<span class="hljs-title function_">gameLoop</span>();
</code></pre>
<p><strong>ç¢°æ’æ£€æµ‹æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[éå†æ‰€æœ‰å¯¹è±¡] --&gt; B[æ›´æ–°ä½ç½®]
    B --&gt; C[è¾¹ç•Œæ£€æµ‹]
    C --&gt; D[ä¸å…¶ä»–å¯¹è±¡æ¯”è¾ƒ]
    D --&gt; E{AABBç¢°æ’æ£€æµ‹}
    E --&gt;|ç¢°æ’| F[è§¦å‘ç¢°æ’å“åº”]
    E --&gt;|æœªç¢°æ’| G[ç»§ç»­æ£€æµ‹]
    F --&gt; H[ç»˜åˆ¶å¯¹è±¡]
    G --&gt; H
    H --&gt; I[ä¸‹ä¸€å¸§]
</code></pre>
<h4 data-id="heading-37">10.3 å›¾åƒç¼–è¾‘ï¼šå®æ—¶æ»¤é•œ</h4>
<p>å®ç°å¤šç§å›¾åƒæ»¤é•œæ•ˆæœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageFilter</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">grayscale</span>(<span class="hljs-params">imageData</span>) {
    <span class="hljs-keyword">const</span> data = imageData.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {
      <span class="hljs-keyword">const</span> avg = (data[i] + data[i + <span class="hljs-number">1</span>] + data[i + <span class="hljs-number">2</span>]) / <span class="hljs-number">3</span>;
      data[i] = data[i + <span class="hljs-number">1</span>] = data[i + <span class="hljs-number">2</span>] = avg;
    }
    <span class="hljs-keyword">return</span> imageData;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">sepia</span>(<span class="hljs-params">imageData</span>) {
    <span class="hljs-keyword">const</span> data = imageData.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {
      <span class="hljs-keyword">const</span> r = data[i];
      <span class="hljs-keyword">const</span> g = data[i + <span class="hljs-number">1</span>];
      <span class="hljs-keyword">const</span> b = data[i + <span class="hljs-number">2</span>];

      data[i] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, r * <span class="hljs-number">0.393</span> + g * <span class="hljs-number">0.769</span> + b * <span class="hljs-number">0.189</span>);
      data[i + <span class="hljs-number">1</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, r * <span class="hljs-number">0.349</span> + g * <span class="hljs-number">0.686</span> + b * <span class="hljs-number">0.168</span>);
      data[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">255</span>, r * <span class="hljs-number">0.272</span> + g * <span class="hljs-number">0.534</span> + b * <span class="hljs-number">0.131</span>);
    }
    <span class="hljs-keyword">return</span> imageData;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">brightness</span>(<span class="hljs-params">imageData, value</span>) {
    <span class="hljs-keyword">const</span> data = imageData.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {
      data[i] += value;
      data[i + <span class="hljs-number">1</span>] += value;
      data[i + <span class="hljs-number">2</span>] += value;
    }
    <span class="hljs-keyword">return</span> imageData;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">contrast</span>(<span class="hljs-params">imageData, value</span>) {
    <span class="hljs-keyword">const</span> data = imageData.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">const</span> factor = (<span class="hljs-number">259</span> * (value + <span class="hljs-number">255</span>)) / (<span class="hljs-number">255</span> * (<span class="hljs-number">259</span> - value));

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {
      data[i] = factor * (data[i] - <span class="hljs-number">128</span>) + <span class="hljs-number">128</span>;
      data[i + <span class="hljs-number">1</span>] = factor * (data[i + <span class="hljs-number">1</span>] - <span class="hljs-number">128</span>) + <span class="hljs-number">128</span>;
      data[i + <span class="hljs-number">2</span>] = factor * (data[i + <span class="hljs-number">2</span>] - <span class="hljs-number">128</span>) + <span class="hljs-number">128</span>;
    }
    <span class="hljs-keyword">return</span> imageData;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">src</span> = <span class="hljs-string">'photo.jpg'</span>;
img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
  ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-title class_">ImageFilter</span>.<span class="hljs-title function_">sepia</span>(imageData);
  <span class="hljs-title class_">ImageFilter</span>.<span class="hljs-title function_">brightness</span>(imageData, <span class="hljs-number">20</span>);

  ctx.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
};
</code></pre>
<hr/>
<h3 data-id="heading-38">åä¸€ã€Canvas æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-39">11.1 å†…å­˜ç®¡ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠæ—¶æ¸…ç†ä¸å†ä½¿ç”¨çš„èµ„æº</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ¸…é™¤äº‹ä»¶ç›‘å¬å™¨</span>
  canvas.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove);

  <span class="hljs-comment">// æ¸…ç©ºå¤§å‹æ•°ç»„</span>
  particles.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// å–æ¶ˆåŠ¨ç”»å¸§</span>
  <span class="hljs-title function_">cancelAnimationFrame</span>(animationId);
}

<span class="hljs-comment">// é¿å…å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">let</span> imageCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadImage</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">if</span> (imageCache.<span class="hljs-title function_">has</span>(url)) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(imageCache.<span class="hljs-title function_">get</span>(url));
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
      imageCache.<span class="hljs-title function_">set</span>(url, img);
      <span class="hljs-title function_">resolve</span>(img);
    };
    img.<span class="hljs-property">src</span> = url;
  });
}
</code></pre>
<h4 data-id="heading-40">11.2 è·¨æµè§ˆå™¨å…¼å®¹æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…¼å®¹æ€§æ£€æŸ¥</span>
<span class="hljs-keyword">if</span> (!canvas.<span class="hljs-property">getContext</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Canvas not supported'</span>);
  <span class="hljs-keyword">return</span>;
}

<span class="hljs-comment">// ç‰¹æ€§æ£€æµ‹</span>
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ctx.<span class="hljs-property">ellipse</span> !== <span class="hljs-string">'function'</span>) {
  <span class="hljs-comment">// ä½¿ç”¨é™çº§æ–¹æ¡ˆ</span>
  ctx.<span class="hljs-property">ellipse</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">x, y, radiusX, radiusY, rotation, startAngle, endAngle</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">save</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">translate</span>(x, y);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rotate</span>(rotation);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scale</span>(radiusX, radiusY);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, startAngle, endAngle);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">restore</span>();
  };
}
</code></pre>
<h4 data-id="heading-41">11.3 è°ƒè¯•æŠ€å·§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ€§èƒ½ç›‘æ§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fps</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastTime</span> = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span>++;
    <span class="hljs-keyword">const</span> currentTime = performance.<span class="hljs-title function_">now</span>();

    <span class="hljs-keyword">if</span> (currentTime &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastTime</span> + <span class="hljs-number">1000</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">fps</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((<span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span> * <span class="hljs-number">1000</span>) / (currentTime - <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastTime</span>));
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span> = <span class="hljs-number">0</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastTime</span> = currentTime;
    }
  }

  <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx</span>) {
    ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#000'</span>;
    ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'16px monospace'</span>;
    ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">`FPS: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.fps}</span>`</span>, <span class="hljs-number">10</span>, <span class="hljs-number">30</span>);
  }
}

<span class="hljs-keyword">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitor</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">debugRender</span>(<span class="hljs-params"/>) {
  monitor.<span class="hljs-title function_">update</span>();
  monitor.<span class="hljs-title function_">draw</span>(ctx);
  <span class="hljs-title function_">requestAnimationFrame</span>(debugRender);
}
</code></pre>
<hr/>
<h3 data-id="heading-42">åäºŒã€Canvas ç”Ÿæ€ä¸å·¥å…·é“¾</h3>
<h4 data-id="heading-43">12.1 å¸¸ç”¨åº“ä¸æ¡†æ¶</h4>
<p><strong>2D æ¸²æŸ“å¼•æ“ï¼š</strong></p>
<ul>
<li><strong>Fabric.js</strong>ï¼šå¼ºå¤§çš„ Canvas å¯¹è±¡æ¨¡å‹å’Œäº¤äº’åº“</li>
<li><strong>Konva.js</strong>ï¼šé«˜æ€§èƒ½çš„ 2D Canvas æ¡†æ¶ï¼Œæ”¯æŒäº‹ä»¶ç³»ç»Ÿ</li>
<li><strong>Paper.js</strong>ï¼šçŸ¢é‡å›¾å½¢è„šæœ¬æ¡†æ¶ï¼ŒåŸºäº Canvas</li>
<li><strong>PixiJS</strong>ï¼šWebGL æ¸²æŸ“å¼•æ“ï¼Œå¯é™çº§åˆ° Canvas</li>
</ul>
<p><strong>å›¾è¡¨åº“ï¼š</strong></p>
<ul>
<li><strong>Chart.js</strong>ï¼šç®€æ´çš„å“åº”å¼å›¾è¡¨åº“</li>
<li><strong>ECharts</strong>ï¼šç™¾åº¦å¼€æºçš„ä¼ä¸šçº§å¯è§†åŒ–åº“</li>
<li><strong>D3.js</strong>ï¼šæ•°æ®é©±åŠ¨çš„æ–‡æ¡£æ“ä½œåº“ï¼ˆSVG + Canvasï¼‰</li>
</ul>
<h4 data-id="heading-44">12.2 å¼€å‘å·¥å…·</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Canvas è°ƒè¯•å·¥å…·ï¼šSpector.js</span>
<span class="hljs-comment">// å¯ä»¥å½•åˆ¶å’Œå›æ”¾ Canvas æ“ä½œåºåˆ—</span>

<span class="hljs-comment">// Chrome DevTools Canvas Inspector</span>
<span class="hljs-comment">// åœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­å¯ç”¨ Canvas è°ƒè¯•</span>
<span class="hljs-comment">// More tools &gt; Rendering &gt; Canvas</span>

<span class="hljs-comment">// æ€§èƒ½åˆ†æ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'render'</span>);
<span class="hljs-comment">// æ¸²æŸ“ä»£ç </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'render'</span>);

<span class="hljs-comment">// ä½¿ç”¨ Performance API</span>
<span class="hljs-keyword">const</span> perfEntry = performance.<span class="hljs-title function_">measure</span>(<span class="hljs-string">'canvas-render'</span>, <span class="hljs-string">'start'</span>, <span class="hljs-string">'end'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸²æŸ“è€—æ—¶:'</span>, perfEntry.<span class="hljs-property">duration</span>, <span class="hljs-string">'ms'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-45">åä¸‰ã€Canvas é«˜çº§åº”ç”¨</h3>
<h4 data-id="heading-46">13.1 WebGL é›†æˆ</h4>
<p>Canvas ä¸ä»…æ”¯æŒ 2D ç»˜å›¾ï¼Œè¿˜å¯ä»¥é€šè¿‡ WebGL å®ç° 3D æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> gl = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'webgl'</span>) || canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'experimental-webgl'</span>);

<span class="hljs-keyword">if</span> (!gl) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'WebGL not supported'</span>);
}

<span class="hljs-comment">// è®¾ç½®è§†å£</span>
gl.<span class="hljs-title function_">viewport</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

<span class="hljs-comment">// æ¸…é™¤é¢œè‰²ç¼“å†²åŒº</span>
gl.<span class="hljs-title function_">clearColor</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>);
gl.<span class="hljs-title function_">clear</span>(gl.<span class="hljs-property">COLOR_BUFFER_BIT</span>);
</code></pre>
<p><strong>Canvas æ¸²æŸ“ä¸Šä¸‹æ–‡é€‰æ‹©ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[Canvas Context] --&gt; B[2D Context]
    A --&gt; C[WebGL Context]
    A --&gt; D[WebGL2 Context]
    A --&gt; E[OffscreenCanvas]
    B --&gt; F[2D å›¾å½¢/å›¾è¡¨/æ¸¸æˆ]
    C --&gt; G[3D æ¸²æŸ“/å¤æ‚ç‰¹æ•ˆ]
    D --&gt; H[é«˜çº§ 3D åŠŸèƒ½]
    E --&gt; I[Web Worker ä¸­æ¸²æŸ“]
</code></pre>
<h4 data-id="heading-47">13.2 OffscreenCanvas</h4>
<p>OffscreenCanvas å…è®¸åœ¨ Web Worker ä¸­è¿›è¡Œæ¸²æŸ“ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹</span>
<span class="hljs-keyword">const</span> offscreen = canvas.<span class="hljs-title function_">transferControlToOffscreen</span>();
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'render-worker.js'</span>);
worker.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">canvas</span>: offscreen }, [offscreen]);

<span class="hljs-comment">// render-worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> canvas = e.<span class="hljs-property">data</span>.<span class="hljs-property">canvas</span>;
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
    <span class="hljs-comment">// æ‰§è¡Œæ¸²æŸ“æ“ä½œ</span>
    ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#2196F3'</span>;
    ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>);

    <span class="hljs-title function_">requestAnimationFrame</span>(render);
  }

  <span class="hljs-title function_">render</span>();
};
</code></pre>
<h4 data-id="heading-48">13.3 è§†é¢‘å¤„ç†</h4>
<p>Canvas å¯ä»¥å®æ—¶å¤„ç†è§†é¢‘æµï¼Œå®ç°ç‰¹æ•ˆå’Œæ»¤é•œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> video = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'video'</span>);
<span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'canvas'</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getUserMedia</span>({ <span class="hljs-attr">video</span>: <span class="hljs-literal">true</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">stream</span> =&gt;</span> {
    video.<span class="hljs-property">srcObject</span> = stream;
    video.<span class="hljs-title function_">play</span>();
  });

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processVideo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (video.<span class="hljs-property">paused</span> || video.<span class="hljs-property">ended</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// ç»˜åˆ¶å½“å‰å¸§</span>
  ctx.<span class="hljs-title function_">drawImage</span>(video, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-comment">// åº”ç”¨å®æ—¶æ»¤é•œ</span>
  <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
  <span class="hljs-title class_">ImageFilter</span>.<span class="hljs-title function_">grayscale</span>(imageData);
  ctx.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

  <span class="hljs-title function_">requestAnimationFrame</span>(processVideo);
}

video.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'play'</span>, processVideo);
</code></pre>
<hr/>
<h3 data-id="heading-49">åå››ã€æ€»ç»“ä¸å±•æœ›</h3>
<h4 data-id="heading-50">14.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4>
<p>Canvas ä½œä¸º Web å›¾å½¢æŠ€æœ¯çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>é«˜æ€§èƒ½æ¸²æŸ“</strong>ï¼šç›´æ¥æ“ä½œåƒç´ ï¼Œé€‚åˆå¤§é‡å›¾å½¢å’ŒåŠ¨ç”»</li>
<li><strong>çµæ´»æ€§å¼º</strong>ï¼šå®Œå…¨ç”± JavaScript æ§åˆ¶ï¼Œå¯å®ç°ä»»æ„æ•ˆæœ</li>
<li><strong>ç”Ÿæ€ä¸°å¯Œ</strong>ï¼šä¼—å¤šæˆç†Ÿçš„åº“å’Œæ¡†æ¶æ”¯æŒ</li>
<li><strong>åº”ç”¨å¹¿æ³›</strong>ï¼šä»æ•°æ®å¯è§†åŒ–åˆ°æ¸¸æˆå¼€å‘ï¼Œè¦†ç›–å¤šä¸ªé¢†åŸŸ</li>
</ol>
<p><strong>å­¦ä¹ è·¯å¾„ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Canvas åŸºç¡€] --&gt; B[ç»˜å›¾ API]
    B --&gt; C[åŠ¨ç”»ä¸äº¤äº’]
    C --&gt; D[æ€§èƒ½ä¼˜åŒ–]
    D --&gt; E[å®æˆ˜é¡¹ç›®]
    E --&gt; F[é«˜çº§åº”ç”¨]
    F --&gt; G[WebGL/3D]
</code></pre>
<h4 data-id="heading-51">14.2 æŠ€æœ¯å‘å±•è¶‹åŠ¿</h4>
<p><strong>2025 å¹´ Canvas å‘å±•æ–¹å‘ï¼š</strong></p>
<ol>
<li><strong>OffscreenCanvas æ™®åŠ</strong>ï¼šä¸»æµæµè§ˆå™¨å…¨é¢æ”¯æŒï¼Œå¤šçº¿ç¨‹æ¸²æŸ“æˆä¸ºæ ‡å‡†</li>
<li><strong>WebGPU å´›èµ·</strong>ï¼šä¸‹ä¸€ä»£å›¾å½¢ APIï¼Œæ€§èƒ½è¶…è¶Š WebGL</li>
<li><strong>AI é›†æˆ</strong>ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹åœ¨ Canvas ä¸­çš„å®æ—¶æ¨ç†åº”ç”¨</li>
<li><strong>AR/VR æ”¯æŒ</strong>ï¼šCanvas ä¸ WebXR API çš„æ·±åº¦æ•´åˆ</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæµè§ˆå™¨å¼•æ“å¯¹ Canvas çš„åŸç”Ÿä¼˜åŒ–æŒç»­å¢å¼º</li>
</ol>
<h4 data-id="heading-52">14.3 å­¦ä¹ èµ„æºæ¨è</h4>
<ul>
<li><strong>MDN Web Docs</strong>ï¼šæœ€æƒå¨çš„ Canvas API æ–‡æ¡£</li>
<li><strong>HTML5 Canvas Tutorials</strong>ï¼šç³»ç»ŸåŒ–çš„æ•™ç¨‹ç½‘ç«™</li>
<li><strong>CodePen</strong>ï¼šä¸°å¯Œçš„ Canvas ç¤ºä¾‹å’Œäº¤äº’å¼ä»£ç </li>
<li><strong>GitHub</strong>ï¼šä¼˜ç§€çš„å¼€æº Canvas é¡¹ç›®</li>
</ul>
<hr/>
<h3 data-id="heading-53">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FCanvas_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" ref="nofollow noopener noreferrer">MDN Canvas API Documentation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fcanvas.html" target="_blank" title="https://html.spec.whatwg.org/multipage/canvas.html" ref="nofollow noopener noreferrer">HTML5 Canvas Spec</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebglfundamentals.org%2F" target="_blank" title="https://webglfundamentals.org/" ref="nofollow noopener noreferrer">WebGL Fundamentals</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fcanvas.html%23the-offscreencanvas-interface" target="_blank" title="https://html.spec.whatwg.org/multipage/canvas.html#the-offscreencanvas-interface" ref="nofollow noopener noreferrer">OffscreenCanvas Specification</a></li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Canvasæ¸²æŸ“åŸç†ä¸æµè§ˆå™¨å›¾å½¢ç®¡çº¿]]></title>    <link>https://juejin.cn/post/7587299443643547711</link>    <guid>https://juejin.cn/post/7587299443643547711</guid>    <pubDate>2025-12-24T15:15:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587299443643547711" data-draft-id="7587265840065937414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Canvasæ¸²æŸ“åŸç†ä¸æµè§ˆå™¨å›¾å½¢ç®¡çº¿"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-24T15:15:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ¢¦plus"/> <meta itemprop="url" content="https://juejin.cn/user/2875978149798093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Canvasæ¸²æŸ“åŸç†ä¸æµè§ˆå™¨å›¾å½¢ç®¡çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978149798093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ¢¦plus
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:15:27.000Z" title="Wed Dec 24 2025 15:15:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Canvasæ¸²æŸ“åŸç†ä¸æµè§ˆå™¨å›¾å½¢ç®¡çº¿</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼ŒCanvasä½œä¸ºHTML5çš„æ ¸å¿ƒAPIä¹‹ä¸€ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å›¾å½¢ç»˜åˆ¶èƒ½åŠ›ã€‚æ— è®ºæ˜¯æ•°æ®å¯è§†åŒ–ã€æ¸¸æˆå¼€å‘è¿˜æ˜¯å›¾åƒå¤„ç†ï¼ŒCanvaséƒ½æ‰®æ¼”ç€ä¸å¯æˆ–ç¼ºçš„è§’è‰²ã€‚ç„¶è€Œï¼ŒCanvasçš„é«˜æ€§èƒ½è¡¨ç°ç¦»ä¸å¼€æµè§ˆå™¨åº•å±‚å¤æ‚çš„å›¾å½¢ç®¡çº¿æ”¯æŒã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€æµè§ˆå™¨å›¾å½¢æ¸²æŸ“æ¶æ„æ¦‚è§ˆ</h3>
<h4 data-id="heading-3">1.1 æ¸²æŸ“å¼•æ“çš„æ ¸å¿ƒç»„ä»¶</h4>
<p>ç°ä»£æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ï¼ˆå¦‚Chromiumçš„Blinkã€Firefoxçš„Geckoï¼‰é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„ï¼Œå›¾å½¢æ¸²æŸ“æ¶‰åŠä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li><strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong>ï¼šè´Ÿè´£JavaScriptæ‰§è¡Œã€DOMæ“ä½œã€æ ·å¼è®¡ç®—</li>
<li><strong>åˆæˆçº¿ç¨‹ï¼ˆCompositor Threadï¼‰</strong>ï¼šå¤„ç†å›¾å±‚åˆæˆã€æ»šåŠ¨ã€åŠ¨ç”»</li>
<li><strong>å…‰æ …åŒ–çº¿ç¨‹ï¼ˆRaster Threadï¼‰</strong>ï¼šå°†ç»˜å›¾æŒ‡ä»¤è½¬æ¢ä¸ºä½å›¾</li>
<li><strong>GPUè¿›ç¨‹ï¼ˆGPU Processï¼‰</strong>ï¼šç®¡ç†ç¡¬ä»¶åŠ é€Ÿï¼Œä¸æ˜¾å¡é€šä¿¡</li>
</ul>
<h4 data-id="heading-4">1.2 æ¸²æŸ“ç®¡çº¿çš„åŸºæœ¬æµç¨‹</h4>
<p>æµè§ˆå™¨å°†ç½‘é¡µå†…å®¹æ¸²æŸ“åˆ°å±å¹•ç»å†ä»¥ä¸‹é˜¶æ®µï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[JavaScript/DOM] --&gt; B[Styleè®¡ç®—]
    B --&gt; C[Layoutå¸ƒå±€]
    C --&gt; D[Paintç»˜åˆ¶]
    D --&gt; E[Compositeåˆæˆ]
    E --&gt; F[GPUå…‰æ …åŒ–]
    F --&gt; G[å±å¹•æ˜¾ç¤º]
</code></pre>
<p><strong>å…³é”®é˜¶æ®µè¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong>Style</strong>ï¼šè®¡ç®—å…ƒç´ çš„æœ€ç»ˆæ ·å¼</li>
<li><strong>Layout</strong>ï¼šç¡®å®šå…ƒç´ çš„å‡ ä½•ä½ç½®</li>
<li><strong>Paint</strong>ï¼šç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤åˆ—è¡¨</li>
<li><strong>Composite</strong>ï¼šå°†å¤šä¸ªå›¾å±‚åˆæˆä¸ºæœ€ç»ˆå›¾åƒ</li>
<li><strong>Rasterize</strong>ï¼šå°†çŸ¢é‡å›¾å½¢è½¬æ¢ä¸ºåƒç´ </li>
</ul>
<hr/>
<h3 data-id="heading-5">äºŒã€Canvasæ¸²æŸ“æ¨¡å¼</h3>
<h4 data-id="heading-6">2.1 Canvas 2Dæ¸²æŸ“ä¸Šä¸‹æ–‡</h4>
<p>Canvas 2Dæä¾›äº†å³æ—¶æ¨¡å¼ï¼ˆImmediate Modeï¼‰çš„ç»˜å›¾APIï¼Œæ¯æ¬¡è°ƒç”¨ç»˜å›¾æ–¹æ³•éƒ½ä¼šç«‹å³è¢«è®°å½•åˆ°ç»˜å›¾æŒ‡ä»¤é˜Ÿåˆ—ä¸­ã€‚</p>
<p><strong>åˆ›å»ºCanvas 2Dä¸Šä¸‹æ–‡ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// ç»˜åˆ¶çŸ©å½¢</span>
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#4A90E2'</span>;
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// ç»˜åˆ¶è·¯å¾„</span>
ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);
ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#E94B3C'</span>;
ctx.<span class="hljs-title function_">fill</span>();
</code></pre>
<h4 data-id="heading-7">2.2 WebGLæ¸²æŸ“ä¸Šä¸‹æ–‡</h4>
<p>WebGLåŸºäºOpenGL ESï¼Œæä¾›äº†ä¿ç•™æ¨¡å¼ï¼ˆRetained Modeï¼‰çš„3Då›¾å½¢æ¸²æŸ“èƒ½åŠ›ï¼Œç›´æ¥è®¿é—®GPUç¡¬ä»¶åŠ é€Ÿã€‚</p>
<p><strong>WebGLåŸºç¡€ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'webglCanvas'</span>);
<span class="hljs-keyword">const</span> gl = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'webgl2'</span>);

<span class="hljs-comment">// æ¸…ç©ºç”»å¸ƒ</span>
gl.<span class="hljs-title function_">clearColor</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>);
gl.<span class="hljs-title function_">clear</span>(gl.<span class="hljs-property">COLOR_BUFFER_BIT</span>);

<span class="hljs-comment">// åˆ›å»ºç€è‰²å™¨ç¨‹åº</span>
<span class="hljs-keyword">const</span> vertexShader = gl.<span class="hljs-title function_">createShader</span>(gl.<span class="hljs-property">VERTEX_SHADER</span>);
<span class="hljs-keyword">const</span> fragmentShader = gl.<span class="hljs-title function_">createShader</span>(gl.<span class="hljs-property">FRAGMENT_SHADER</span>);
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€Canvas 2Dæ¸²æŸ“ç®¡çº¿è¯¦è§£</h3>
<h4 data-id="heading-9">3.1 ç»˜å›¾å‘½ä»¤è®°å½•ä¸æ‰¹å¤„ç†</h4>
<p>å½“è°ƒç”¨Canvas 2Dçš„ç»˜å›¾æ–¹æ³•æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸ç«‹å³æ¸²æŸ“ï¼Œè€Œæ˜¯å°†å‘½ä»¤è®°å½•åˆ°**Display Listï¼ˆæ˜¾ç¤ºåˆ—è¡¨ï¼‰**ä¸­ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant JS as JavaScript
    participant Canvas as Canvas API
    participant DL as Display List
    participant Raster as å…‰æ …åŒ–å™¨
    participant GPU as GPU

    JS-&gt;&gt;Canvas: ctx.fillRect(0,0,100,100)
    Canvas-&gt;&gt;DL: è®°å½•ç»˜åˆ¶å‘½ä»¤
    JS-&gt;&gt;Canvas: ctx.drawImage(img,0,0)
    Canvas-&gt;&gt;DL: è®°å½•ç»˜åˆ¶å‘½ä»¤
    Note over DL: å‘½ä»¤æ‰¹é‡ç´¯ç§¯
    DL-&gt;&gt;Raster: æ‰§è¡Œå…‰æ …åŒ–
    Raster-&gt;&gt;GPU: ä¸Šä¼ çº¹ç†æ•°æ®
    GPU-&gt;&gt;GPU: åˆæˆè¾“å‡º
</code></pre>
<p><strong>æ‰¹å¤„ç†ä¼˜åŒ–ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸æ¨èï¼šæ¯æ¬¡ç»˜åˆ¶è§¦å‘æ¸²æŸ“</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  ctx.<span class="hljs-title function_">fillRect</span>(i, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>);
  <span class="hljs-comment">// æµè§ˆå™¨å¯èƒ½åœ¨æ¯æ¬¡å¾ªç¯ååˆ·æ–°</span>
}

<span class="hljs-comment">// æ¨èï¼šæ‰¹é‡ç»˜åˆ¶</span>
ctx.<span class="hljs-title function_">beginPath</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  ctx.<span class="hljs-title function_">rect</span>(i, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>);
}
ctx.<span class="hljs-title function_">fill</span>(); <span class="hljs-comment">// ä¸€æ¬¡æ€§æäº¤</span>
</code></pre>
<h4 data-id="heading-10">3.2 è·¯å¾„æ„å»ºä¸å…‰æ …åŒ–</h4>
<p>Canvasçš„è·¯å¾„ç»˜åˆ¶é‡‡ç”¨<strong>äºšåƒç´ æŠ—é”¯é½¿</strong>æŠ€æœ¯ï¼Œå…‰æ …åŒ–è¿‡ç¨‹å°†çŸ¢é‡è·¯å¾„è½¬æ¢ä¸ºåƒç´ æ•°æ®ã€‚</p>
<p><strong>è·¯å¾„å…‰æ …åŒ–æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[beginPath] --&gt; B[è·¯å¾„å‘½ä»¤ç´¯ç§¯]
    B --&gt; C{ç»˜åˆ¶æ–¹æ³•}
    C --&gt;|stroke| D[è¾¹ç¼˜æ‰«æç®—æ³•]
    C --&gt;|fill| E[æ‰«æçº¿å¡«å……ç®—æ³•]
    D --&gt; F[æŠ—é”¯é½¿å¤„ç†]
    E --&gt; F
    F --&gt; G[å†™å…¥åå¤‡ç¼“å†²åŒº]
    G --&gt; H[åˆæˆåˆ°å±å¹•]
</code></pre>
<p><strong>å¤æ‚è·¯å¾„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">ctx.<span class="hljs-title function_">beginPath</span>();
ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
ctx.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">20</span>, <span class="hljs-number">250</span>, <span class="hljs-number">80</span>, <span class="hljs-number">350</span>, <span class="hljs-number">50</span>);
ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">350</span>, <span class="hljs-number">150</span>);
ctx.<span class="hljs-title function_">closePath</span>();

<span class="hljs-comment">// å…‰æ …åŒ–æ—¶ä¼šè¿›è¡Œæ›²çº¿ç»†åˆ†å’ŒæŠ—é”¯é½¿</span>
ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000'</span>;
ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-title function_">stroke</span>();
</code></pre>
<h4 data-id="heading-11">3.3 åˆæˆä¸è¾“å‡º</h4>
<p>Canvasç»˜åˆ¶å®Œæˆåï¼Œç”Ÿæˆçš„ä½å›¾ä¼šä½œä¸º<strong>çº¹ç†</strong>ä¸Šä¼ åˆ°GPUï¼Œå‚ä¸é¡µé¢çš„æ•´ä½“åˆæˆã€‚</p>
<hr/>
<h3 data-id="heading-12">å››ã€æµè§ˆå™¨å›¾å½¢ç®¡çº¿æ ¸å¿ƒæµç¨‹</h3>
<h4 data-id="heading-13">4.1 ä»DOMåˆ°åƒç´ çš„å®Œæ•´æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph ä¸»çº¿ç¨‹
    A[Parse HTML] --&gt; B[æ„å»ºDOMæ ‘]
    B --&gt; C[CSSOMæ ‘]
    C --&gt; D[æ„å»ºæ¸²æŸ“æ ‘]
    D --&gt; E[Layoutè®¡ç®—]
    E --&gt; F[ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤]
    end

    subgraph åˆæˆçº¿ç¨‹
    F --&gt; G[å›¾å±‚æ ‘æ„å»º]
    G --&gt; H[å›¾å±‚åˆ†å—Tiling]
    H --&gt; I[ä¼˜å…ˆçº§é˜Ÿåˆ—]
    end

    subgraph å…‰æ …çº¿ç¨‹æ± 
    I --&gt; J[å…‰æ …åŒ–Tile]
    J --&gt; K[ç”Ÿæˆä½å›¾]
    end

    subgraph GPUè¿›ç¨‹
    K --&gt; L[ä¸Šä¼ çº¹ç†åˆ°GPU]
    L --&gt; M[åˆæˆQuad]
    M --&gt; N[æ˜¾ç¤ºåˆ°å±å¹•]
    end
</code></pre>
<p><strong>å…³é”®æ­¥éª¤è¯¦è§£</strong>ï¼š</p>
<ol>
<li><strong>Layoutï¼ˆå¸ƒå±€ï¼‰</strong>ï¼šè®¡ç®—Canvaså…ƒç´ çš„ä½ç½®å’Œå°ºå¯¸</li>
<li><strong>Paintï¼ˆç»˜åˆ¶ï¼‰</strong>ï¼šCanvaså†…éƒ¨å†…å®¹å·²åœ¨ç‹¬ç«‹ç®¡çº¿å¤„ç†</li>
<li><strong>Compositeï¼ˆåˆæˆï¼‰</strong>ï¼šCanvasä½œä¸ºç‹¬ç«‹å›¾å±‚å‚ä¸åˆæˆ</li>
</ol>
<h4 data-id="heading-14">4.2 å›¾å±‚æå‡ä¸åˆæˆä¼˜åŒ–</h4>
<p>Canvaså…ƒç´ é€šå¸¸ä¼šè¢«æå‡ä¸º<strong>åˆæˆå±‚ï¼ˆCompositing Layerï¼‰</strong>ï¼Œäº«å—ç¡¬ä»¶åŠ é€Ÿã€‚</p>
<p><strong>è§¦å‘åˆæˆå±‚çš„æ¡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨3Då˜æ¢</span>
canvas.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">'translateZ(0)'</span>;

<span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨will-change</span>
canvas.<span class="hljs-property">style</span>.<span class="hljs-property">willChange</span> = <span class="hljs-string">'transform'</span>;

<span class="hljs-comment">// æ–¹æ³•3ï¼šä½¿ç”¨opacityåŠ¨ç”»</span>
canvas.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = <span class="hljs-string">'0.99'</span>;
</code></pre>
<p><strong>åˆæˆå±‚ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ç‹¬ç«‹äºä¸»çº¿ç¨‹æ›´æ–°</li>
<li>GPUåŠ é€Ÿçš„å˜æ¢å’Œé€æ˜åº¦</li>
<li>å‡å°‘é‡ç»˜ï¼ˆRepaintï¼‰å’Œé‡æ’ï¼ˆReflowï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-15">äº”ã€Canvasæ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-16">5.1 ç¦»å±Canvasæ¸²æŸ“</h4>
<p>ä½¿ç”¨<strong>OffscreenCanvas</strong>å°†æ¸²æŸ“å·¥ä½œç§»è‡³Workerçº¿ç¨‹ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹</span>
<span class="hljs-keyword">const</span> offscreen = canvas.<span class="hljs-title function_">transferControlToOffscreen</span>();
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'render-worker.js'</span>);
worker.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">canvas</span>: offscreen }, [offscreen]);

<span class="hljs-comment">// render-worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> canvas = e.<span class="hljs-property">data</span>.<span class="hljs-property">canvas</span>;
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
    <span class="hljs-comment">// æ‰§è¡Œå¤æ‚ç»˜åˆ¶</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(render);
  }
  <span class="hljs-title function_">render</span>();
};
</code></pre>
<h4 data-id="heading-17">5.2 å‡å°‘çŠ¶æ€åˆ‡æ¢</h4>
<p>CanvasçŠ¶æ€åˆ‡æ¢ï¼ˆå¦‚fillStyleã€strokeStyleï¼‰ä¼šäº§ç”Ÿå¼€é”€ï¼Œåº”å°½é‡æ‰¹é‡å¤„ç†ç›¸åŒçŠ¶æ€çš„ç»˜åˆ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½æ•ˆï¼šé¢‘ç¹åˆ‡æ¢çŠ¶æ€</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> shape <span class="hljs-keyword">of</span> shapes) {
  ctx.<span class="hljs-property">fillStyle</span> = shape.<span class="hljs-property">color</span>;
  ctx.<span class="hljs-title function_">fillRect</span>(shape.<span class="hljs-property">x</span>, shape.<span class="hljs-property">y</span>, shape.<span class="hljs-property">w</span>, shape.<span class="hljs-property">h</span>);
}

<span class="hljs-comment">// é«˜æ•ˆï¼šæŒ‰é¢œè‰²åˆ†ç»„</span>
<span class="hljs-keyword">const</span> grouped = <span class="hljs-title function_">groupBy</span>(shapes, <span class="hljs-string">'color'</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [color, group] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(grouped)) {
  ctx.<span class="hljs-property">fillStyle</span> = color;
  group.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">shape</span> =&gt;</span> {
    ctx.<span class="hljs-title function_">fillRect</span>(shape.<span class="hljs-property">x</span>, shape.<span class="hljs-property">y</span>, shape.<span class="hljs-property">w</span>, shape.<span class="hljs-property">h</span>);
  });
}
</code></pre>
<h4 data-id="heading-18">5.3 ä½¿ç”¨å›¾å±‚ç¼“å­˜</h4>
<p>å¯¹äºé™æ€èƒŒæ™¯ï¼Œä½¿ç”¨ç‹¬ç«‹Canvasç¼“å­˜ï¼Œé¿å…é‡å¤ç»˜åˆ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> bgCanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
<span class="hljs-keyword">const</span> bgCtx = bgCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

<span class="hljs-comment">// ä»…ç»˜åˆ¶ä¸€æ¬¡èƒŒæ™¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">drawBackground</span>(<span class="hljs-params"/>) {
  bgCtx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#f0f0f0'</span>;
  bgCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, bgCanvas.<span class="hljs-property">width</span>, bgCanvas.<span class="hljs-property">height</span>);
  <span class="hljs-comment">// ç»˜åˆ¶å¤æ‚èƒŒæ™¯å›¾æ¡ˆ</span>
}
<span class="hljs-title function_">drawBackground</span>();

<span class="hljs-comment">// ä¸»å¾ªç¯ä¸­ç›´æ¥å¤åˆ¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  ctx.<span class="hljs-title function_">drawImage</span>(bgCanvas, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-comment">// ç»˜åˆ¶åŠ¨æ€å†…å®¹</span>
}
</code></pre>
<h4 data-id="heading-19">5.4 é¿å…æµ®ç‚¹æ•°åæ ‡</h4>
<p>ä½¿ç”¨æ•´æ•°åæ ‡å¯ä»¥é¿å…äºšåƒç´ æ¸²æŸ“ï¼Œæå‡æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸æ¨è</span>
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10.5</span>, <span class="hljs-number">20.3</span>, <span class="hljs-number">100.7</span>, <span class="hljs-number">50.2</span>);

<span class="hljs-comment">// æ¨è</span>
ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-number">10.5</span>), <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-number">20.3</span>), <span class="hljs-number">100</span>, <span class="hljs-number">50</span>);
</code></pre>
<hr/>
<h3 data-id="heading-20">å…­ã€WebGLä¸ç¡¬ä»¶åŠ é€Ÿç®¡çº¿</h3>
<h4 data-id="heading-21">6.1 GPUæ¸²æŸ“ç®¡çº¿</h4>
<p>WebGLç›´æ¥å¯¹æ¥GPUçš„å›¾å½¢ç®¡çº¿ï¼Œç»•è¿‡äº†æµè§ˆå™¨çš„éƒ¨åˆ†æ¸²æŸ“æµç¨‹ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[é¡¶ç‚¹æ•°æ®] --&gt; B[é¡¶ç‚¹ç€è‰²å™¨]
    B --&gt; C[å›¾å…ƒè£…é…]
    C --&gt; D[å…‰æ …åŒ–]
    D --&gt; E[ç‰‡æ®µç€è‰²å™¨]
    E --&gt; F[æµ‹è¯•ä¸æ··åˆ]
    F --&gt; G[å¸§ç¼“å†²åŒº]
    G --&gt; H[å±å¹•æ˜¾ç¤º]
</code></pre>
<p><strong>GPUç®¡çº¿é˜¶æ®µè¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong>é¡¶ç‚¹ç€è‰²å™¨ï¼ˆVertex Shaderï¼‰</strong>ï¼šå¤„ç†é¡¶ç‚¹ä½ç½®å˜æ¢</li>
<li><strong>å…‰æ …åŒ–ï¼ˆRasterizationï¼‰</strong>ï¼šå°†å›¾å…ƒè½¬æ¢ä¸ºç‰‡æ®µ</li>
<li><strong>ç‰‡æ®µç€è‰²å™¨ï¼ˆFragment Shaderï¼‰</strong>ï¼šè®¡ç®—æ¯ä¸ªåƒç´ çš„é¢œè‰²</li>
<li><strong>æ··åˆï¼ˆBlendingï¼‰</strong>ï¼šå¤„ç†é€æ˜åº¦å’Œæ·±åº¦æµ‹è¯•</li>
</ul>
<h4 data-id="heading-22">6.2 ç€è‰²å™¨ç¼–ç¨‹ç¤ºä¾‹</h4>
<p><strong>é¡¶ç‚¹ç€è‰²å™¨ï¼ˆGLSLï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> vertexShaderSource = <span class="hljs-string">`
  attribute vec4 a_position;
  attribute vec2 a_texCoord;
  varying vec2 v_texCoord;

  void main() {
    gl_Position = a_position;
    v_texCoord = a_texCoord;
  }
`</span>;

<span class="hljs-keyword">const</span> fragmentShaderSource = <span class="hljs-string">`
  precision mediump float;
  varying vec2 v_texCoord;
  uniform sampler2D u_texture;

  void main() {
    gl_FragColor = texture2D(u_texture, v_texCoord);
  }
`</span>;
</code></pre>
<hr/>
<h3 data-id="heading-23">ä¸ƒã€Canvasä¸ä¸»æ¸²æŸ“ç®¡çº¿çš„å…³ç³»</h3>
<h4 data-id="heading-24">7.1 Canvasåœ¨æ¸²æŸ“æ ‘ä¸­çš„ä½ç½®</h4>
<p>Canvasä½œä¸ºDOMå…ƒç´ å‚ä¸æ­£å¸¸çš„å¸ƒå±€å’Œç»˜åˆ¶æµç¨‹ï¼Œä½†å…¶å†…éƒ¨å†…å®¹é€šè¿‡ç‹¬ç«‹çš„ç»˜å›¾ä¸Šä¸‹æ–‡ç®¡ç†ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[HTMLæ–‡æ¡£] --&gt; B[DOMæ ‘]
    B --&gt; C[æ¸²æŸ“æ ‘]
    C --&gt; D[Canvaså…ƒç´ èŠ‚ç‚¹]
    D --&gt; E[Canvasç»˜å›¾ä¸Šä¸‹æ–‡]
    E --&gt; F[ç‹¬ç«‹ç»˜å›¾æŒ‡ä»¤é˜Ÿåˆ—]
    F --&gt; G[ä½å›¾çº¹ç†]
    C --&gt; H[å…¶ä»–DOMèŠ‚ç‚¹]
    H --&gt; I[æ ‡å‡†ç»˜åˆ¶æŒ‡ä»¤]
    G --&gt; J[åˆæˆå™¨]
    I --&gt; J
    J --&gt; K[æœ€ç»ˆå¸§]
</code></pre>
<h4 data-id="heading-25">7.2 è„çŸ©å½¢ä¼˜åŒ–</h4>
<p>ç°ä»£æµè§ˆå™¨ä½¿ç”¨**è„çŸ©å½¢ï¼ˆDirty Rectï¼‰**æŠ€æœ¯ï¼Œåªé‡ç»˜Canvasä¸­å˜åŒ–çš„åŒºåŸŸã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‰‹åŠ¨æ§åˆ¶é‡ç»˜åŒºåŸŸ</span>
<span class="hljs-keyword">let</span> dirtyRect = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">0</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateObject</span>(<span class="hljs-params">obj, newX, newY</span>) {
  <span class="hljs-comment">// è®¡ç®—è„çŸ©å½¢</span>
  dirtyRect.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(obj.<span class="hljs-property">x</span>, newX);
  dirtyRect.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(obj.<span class="hljs-property">y</span>, newY);
  dirtyRect.<span class="hljs-property">w</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(obj.<span class="hljs-property">x</span> + obj.<span class="hljs-property">w</span>, newX + obj.<span class="hljs-property">w</span>) - dirtyRect.<span class="hljs-property">x</span>;
  dirtyRect.<span class="hljs-property">h</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(obj.<span class="hljs-property">y</span> + obj.<span class="hljs-property">h</span>, newY + obj.<span class="hljs-property">h</span>) - dirtyRect.<span class="hljs-property">y</span>;

  obj.<span class="hljs-property">x</span> = newX;
  obj.<span class="hljs-property">y</span> = newY;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä»…æ¸…é™¤è„åŒºåŸŸ</span>
  ctx.<span class="hljs-title function_">clearRect</span>(dirtyRect.<span class="hljs-property">x</span>, dirtyRect.<span class="hljs-property">y</span>, dirtyRect.<span class="hljs-property">w</span>, dirtyRect.<span class="hljs-property">h</span>);
  <span class="hljs-comment">// é‡ç»˜å—å½±å“çš„å¯¹è±¡</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-26">å…«ã€å®è·µæ¡ˆä¾‹ï¼šé«˜æ€§èƒ½ç²’å­ç³»ç»Ÿ</h3>
<h4 data-id="heading-27">8.1 éœ€æ±‚åˆ†æ</h4>
<p>å®ç°ä¸€ä¸ªåŒ…å«10000ä¸ªç²’å­çš„åŠ¨ç”»ç³»ç»Ÿï¼Œä¿æŒ60fpsæµç•…è¿è¡Œã€‚</p>
<h4 data-id="heading-28">8.2 ä¼˜åŒ–å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ParticleSystem</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas, count</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>, { <span class="hljs-attr">alpha</span>: <span class="hljs-literal">false</span> });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = canvas.<span class="hljs-property">width</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = canvas.<span class="hljs-property">height</span>;

    <span class="hljs-comment">// ä½¿ç”¨ç±»å‹åŒ–æ•°ç»„æå‡æ€§èƒ½</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(count * <span class="hljs-number">2</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(count * <span class="hljs-number">2</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = count;

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[i * <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[i * <span class="hljs-number">2</span>] = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">2</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">2</span>;
    }
  }

  <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>; i++) {
      <span class="hljs-keyword">let</span> idx = i * <span class="hljs-number">2</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx] += <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[idx];
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx + <span class="hljs-number">1</span>] += <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[idx + <span class="hljs-number">1</span>];

      <span class="hljs-comment">// è¾¹ç•Œæ£€æµ‹</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx] &lt; <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx] &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[idx] *= -<span class="hljs-number">1</span>;
      }
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx + <span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[idx + <span class="hljs-number">1</span>] &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocities</span>[idx + <span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>;
      }
    }
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä½¿ç”¨ä¸é€æ˜èƒŒæ™¯é¿å…æ¸…é™¤å¼€é”€</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgba(0, 0, 0, 0.1)'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>);

    <span class="hljs-comment">// æ‰¹é‡ç»˜åˆ¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#fff'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>; i++) {
      <span class="hljs-keyword">let</span> x = <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[i * <span class="hljs-number">2</span>] | <span class="hljs-number">0</span>; <span class="hljs-comment">// å¿«é€Ÿå–æ•´</span>
      <span class="hljs-keyword">let</span> y = <span class="hljs-variable language_">this</span>.<span class="hljs-property">positions</span>[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] | <span class="hljs-number">0</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">rect</span>(x, y, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>);
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fill</span>();
  }

  <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">update</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>();
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">animate</span>());
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'particles'</span>);
<span class="hljs-keyword">const</span> system = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ParticleSystem</span>(canvas, <span class="hljs-number">10000</span>);
system.<span class="hljs-title function_">animate</span>();
</code></pre>
<h4 data-id="heading-29">8.3 æ€§èƒ½å¯¹æ¯”</h4>

























<table><thead><tr><th>ä¼˜åŒ–æŠ€æœ¯</th><th>æœªä¼˜åŒ–</th><th>ä¼˜åŒ–å</th></tr></thead><tbody><tr><td>å¸§ç‡</td><td>15fps</td><td>60fps</td></tr><tr><td>CPUä½¿ç”¨ç‡</td><td>85%</td><td>35%</td></tr><tr><td>å†…å­˜å ç”¨</td><td>120MB</td><td>45MB</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-30">ä¹ã€æµè§ˆå™¨å·®å¼‚ä¸å…¼å®¹æ€§</h3>
<h4 data-id="heading-31">9.1 ä¸åŒæµè§ˆå™¨çš„æ¸²æŸ“ç­–ç•¥</h4>





























<table><thead><tr><th>æµè§ˆå™¨</th><th>æ¸²æŸ“å¼•æ“</th><th>Canvasåç«¯</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>Chrome</td><td>Blink</td><td>Skia</td><td>æ¿€è¿›çš„ç¡¬ä»¶åŠ é€Ÿ</td></tr><tr><td>Firefox</td><td>Gecko</td><td>Cairo/Skia</td><td>å‡è¡¡çš„æ€§èƒ½ä¸å…¼å®¹æ€§</td></tr><tr><td>Safari</td><td>WebKit</td><td>Core Graphics</td><td>é’ˆå¯¹macOSä¼˜åŒ–</td></tr></tbody></table>
<h4 data-id="heading-32">9.2 ç‰¹æ€§æ£€æµ‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCanvasCapabilities</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
  <span class="hljs-keyword">const</span> gl = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'webgl2'</span>);

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">webgl2</span>: !!gl,
    <span class="hljs-attr">offscreenCanvas</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">OffscreenCanvas</span> !== <span class="hljs-string">'undefined'</span>,
    <span class="hljs-attr">imageBitmapRenderingContext</span>: <span class="hljs-string">'ImageBitmapRenderingContext'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>,
    <span class="hljs-attr">maxTextureSize</span>: gl ? gl.<span class="hljs-title function_">getParameter</span>(gl.<span class="hljs-property">MAX_TEXTURE_SIZE</span>) : <span class="hljs-number">0</span>
  };
}
</code></pre>
<hr/>
<h3 data-id="heading-33">åã€è°ƒè¯•ä¸æ€§èƒ½åˆ†æå·¥å…·</h3>
<h4 data-id="heading-34">10.1 Chrome DevTools</h4>
<p><strong>Performanceé¢æ¿åˆ†æ</strong>ï¼š</p>
<ol>
<li>å½•åˆ¶CanvasåŠ¨ç”»æ€§èƒ½</li>
<li>æŸ¥çœ‹Paintå’ŒCompositeæ—¶é—´</li>
<li>è¯†åˆ«æ¸²æŸ“ç“¶é¢ˆ</li>
</ol>
<h4 data-id="heading-35">10.2 æ¸²æŸ“ç»Ÿè®¡API</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">entryType</span> === <span class="hljs-string">'measure'</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${entry.name}</span>: <span class="hljs-subst">${entry.duration}</span>ms`</span>);
    }
  }
});
observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">'measure'</span>] });

<span class="hljs-comment">// æµ‹é‡ç»˜åˆ¶æ€§èƒ½</span>
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'render-start'</span>);
ctx.<span class="hljs-title function_">drawImage</span>(complexImage, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'render-end'</span>);
performance.<span class="hljs-title function_">measure</span>(<span class="hljs-string">'render-duration'</span>, <span class="hljs-string">'render-start'</span>, <span class="hljs-string">'render-end'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-36">åä¸€ã€æœªæ¥å‘å±•è¶‹åŠ¿</h3>
<h4 data-id="heading-37">11.1 WebGPU</h4>
<p>WebGPUæ˜¯ä¸‹ä¸€ä»£Webå›¾å½¢APIï¼Œæä¾›æ›´åº•å±‚çš„GPUè®¿é—®èƒ½åŠ›ï¼Œé¢„è®¡å°†é€æ­¥å–ä»£WebGLã€‚</p>
<p><strong>WebGPUç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ›´ç°ä»£çš„APIè®¾è®¡ï¼ˆåŸºäºVulkan/Metal/DirectX 12ï¼‰</li>
<li>è®¡ç®—ç€è‰²å™¨æ”¯æŒ</li>
<li>æ›´é«˜æ•ˆçš„å¤šçº¿ç¨‹æ¸²æŸ“</li>
</ul>
<h4 data-id="heading-38">11.2 Canvas 2Dæ–°ç‰¹æ€§</h4>
<p><strong>è·¯çº¿å›¾ä¸­çš„åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>Path2Då¯¹è±¡çš„æ‰©å±•æ–¹æ³•</li>
<li>æ›´ä¸°å¯Œçš„æ–‡æœ¬æµ‹é‡API</li>
<li>åŸç”Ÿçš„æ»¤é•œæ•ˆæœæ”¯æŒ</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœªæ¥å¯èƒ½çš„API</span>
ctx.<span class="hljs-property">filter</span> = <span class="hljs-string">'blur(5px) contrast(1.2)'</span>;
ctx.<span class="hljs-title function_">drawImage</span>(image, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</code></pre>
<hr/>
<h3 data-id="heading-39">æ€»ç»“</h3>
<p>Canvasçš„é«˜æ€§èƒ½æ¸²æŸ“ä¾èµ–äºæµè§ˆå™¨å¤æ‚çš„å›¾å½¢ç®¡çº¿æ”¯æŒã€‚ä»JavaScript APIè°ƒç”¨åˆ°æœ€ç»ˆåƒç´ æ˜¾ç¤ºï¼Œç»å†äº†ç»˜å›¾æŒ‡ä»¤è®°å½•ã€å…‰æ …åŒ–ã€å›¾å±‚åˆæˆã€GPUåŠ é€Ÿç­‰å¤šä¸ªé˜¶æ®µã€‚ç†è§£è¿™äº›åº•å±‚æœºåˆ¶å¯¹äºç¼–å†™é«˜æ€§èƒ½çš„Canvasåº”ç”¨è‡³å…³é‡è¦ã€‚</p>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>æ¶æ„ç†è§£</strong>ï¼šæŒæ¡æµè§ˆå™¨å¤šè¿›ç¨‹æ¸²æŸ“æ¶æ„</li>
<li><strong>ç®¡çº¿ä¼˜åŒ–</strong>ï¼šå‡å°‘çŠ¶æ€åˆ‡æ¢ï¼Œæ‰¹é‡æäº¤ç»˜å›¾æŒ‡ä»¤</li>
<li><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼šåˆç†ä½¿ç”¨åˆæˆå±‚å’ŒWebGL</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šä½¿ç”¨DevToolså®šä½ç“¶é¢ˆ</li>
<li><strong>å‰æ²¿æŠ€æœ¯</strong>ï¼šå…³æ³¨WebGPUç­‰æ–°æ ‡å‡†</li>
</ol>
<p>é€šè¿‡æ·±å…¥ç†è§£Canvasæ¸²æŸ“åŸç†ä¸æµè§ˆå™¨å›¾å½¢ç®¡çº¿ï¼Œå¼€å‘è€…èƒ½å¤Ÿç¼–å†™å‡ºæ›´æµç•…ã€æ›´é«˜æ•ˆçš„Webå›¾å½¢åº”ç”¨ï¼Œå……åˆ†å‘æŒ¥ç°ä»£æµè§ˆå™¨çš„å›¾å½¢å¤„ç†èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-40">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FCanvas_API" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" ref="nofollow noopener noreferrer">MDN Canvas APIæ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.chromium.org%2Fdevelopers%2Fdesign-documents%2Fgpu-accelerated-compositing-in-chrome%2F" target="_blank" title="https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome/" ref="nofollow noopener noreferrer">Chromiumæ¸²æŸ“æ¶æ„è®¾è®¡æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.khronos.org%2Fwebgl%2F" target="_blank" title="https://www.khronos.org/webgl/" ref="nofollow noopener noreferrer">WebGLè§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.chrome.com%2Fblog%2Finside-browser-part1%2F" target="_blank" title="https://developer.chrome.com/blog/inside-browser-part1/" ref="nofollow noopener noreferrer">Inside look at modern web browser</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1 å°æ—¶é€Ÿé€šï¼æ‰‹æŠŠæ‰‹æ•™ä½ ä»é›¶æ­å»º Astro åšå®¢å¹¶ä¸Šçº¿]]></title>    <link>https://juejin.cn/post/7587239837973430323</link>    <guid>https://juejin.cn/post/7587239837973430323</guid>    <pubDate>2025-12-24T15:26:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587239837973430323" data-draft-id="7587254134401335305" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1 å°æ—¶é€Ÿé€šï¼æ‰‹æŠŠæ‰‹æ•™ä½ ä»é›¶æ­å»º Astro åšå®¢å¹¶ä¸Šçº¿"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T15:26:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯æ›´å¥½è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/2735240657517816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1 å°æ—¶é€Ÿé€šï¼æ‰‹æŠŠæ‰‹æ•™ä½ ä»é›¶æ­å»º Astro åšå®¢å¹¶ä¸Šçº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2735240657517816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯æ›´å¥½è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:26:48.000Z" title="Wed Dec 24 2025 15:26:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b3d2e17331d40cfbabab6c484316c60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5pu05aW96K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767194807&amp;x-signature=ANu4vNhOg%2B9jKh8YGLAAnL%2FaCWw%3D" alt="3.jpg" loading="lazy"/>
ä¸Šå‘¨åœ¨æ˜é‡‘åˆ·æ–‡ç« ,ç‚¹å¼€ä¸€ä¸ªæŠ€æœ¯åšå®¢,0.8ç§’å°±å®Œæ•´åŠ è½½å®Œäº†,é¡µé¢åˆ‡æ¢ä¸æ»‘å¾—åƒåœ¨çœ‹Appã€‚å†çœ‹çœ‹è‡ªå·±çš„WordPressåšå®¢â€”â€”3ç§’ç™½å±,ç­‰å¾—æˆ‘è‡ªå·±éƒ½æƒ³å…³äº†ã€‚é‚£ä¸€åˆ»æˆ‘å°±åœ¨æƒ³,æ˜¯ä¸æ˜¯è¯¥æ¢ä¸ªæ¡†æ¶äº†?</p>
<p>è¯´å®è¯,è¿™ä¸æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æœ‰è¿™ä¸ªæƒ³æ³•ã€‚ä¹‹å‰ä¹ŸæŠ˜è…¾è¿‡Hexoã€Hugo,ç”šè‡³è¯•è¿‡ç”¨Gatsby,ä½†æ¯æ¬¡éƒ½å¡åœ¨æŸä¸ªç¯èŠ‚:è¦ä¹ˆå®˜æ–¹æ–‡æ¡£çœ‹å¾—äº‘é‡Œé›¾é‡Œ,è¦ä¹ˆæ•™ç¨‹å¤ªç¢ç‰‡åŒ–,ä»å®‰è£…åˆ°éƒ¨ç½²æ€»æ„Ÿè§‰å°‘äº†ç‚¹ä»€ä¹ˆã€‚</p>
<p>ç›´åˆ°æˆ‘é‡åˆ°Astroã€‚ç¬¬ä¸€æ¬¡å¬è¯´è¿™ä¸ªåå­—æ—¶,æˆ‘è¿˜ä»¥ä¸ºæ˜¯åˆä¸€ä¸ªæ¥è¹­çƒ­åº¦çš„æ¡†æ¶ã€‚ä½†å½“æˆ‘çœŸçš„åŠ¨æ‰‹æ­äº†ä¸€éå,æ‰å‘ç°è¿™ä¸œè¥¿ç¡®å®æœ‰ç‚¹ä¸œè¥¿â€”â€”æ€§èƒ½é£èµ·,å¼€å‘ä½“éªŒä¹Ÿä¸é”™,æœ€é‡è¦çš„æ˜¯,æ•´ä¸ªæµç¨‹å±…ç„¶æ¯”æˆ‘æƒ³è±¡çš„ç®€å•å¤ªå¤šã€‚</p>
<p>å¦‚æœä½ ä¹Ÿè·Ÿæˆ‘ä¸€æ ·,æƒ³æ­ä¸ªä¸ªäººåšå®¢ä½†ä¸çŸ¥é“ä»å“ªå¼€å§‹,æˆ–è€…åŒå€¦äº†WordPressçš„è‡ƒè‚¿å’ŒHexoçš„å•è°ƒ,é‚£è¿™ç¯‡æ–‡ç« å°±æ˜¯å†™ç»™ä½ çš„ã€‚æˆ‘ä¼šæ‰‹æŠŠæ‰‹å¸¦ä½ å®Œæˆä»é›¶åˆ°éƒ¨ç½²çš„å…¨æµç¨‹,1å°æ—¶å†…ä½ å°±èƒ½ä¸Šçº¿ä¸€ä¸ªåŒ…å«é¦–é¡µã€æ–‡ç« åˆ—è¡¨ã€æ ‡ç­¾åˆ†ç±»ã€RSSè®¢é˜…çš„å®Œæ•´åšå®¢ã€‚ä¸ç©è™šçš„,å°±æ˜¯å®æ‰“å®çš„æ“ä½œæ­¥éª¤ã€‚</p>
<p>å­¦å®Œåä½ èƒ½å¾—åˆ°ä»€ä¹ˆ?ä¸€ä¸ªçœŸæ­£èƒ½ç”¨çš„Astroåšå®¢,ä¸æ˜¯demoé‚£ç§ç©å…·é¡¹ç›®,è€Œæ˜¯å…·å¤‡SEOä¼˜åŒ–ã€æ€§èƒ½ä¼˜åŒ–ã€å¯ä»¥ç›´æ¥å†™æ–‡ç« å‘å¸ƒçš„ç”Ÿäº§çº§ç½‘ç«™ã€‚å’±ä»¬å¼€å§‹å§ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€ç« :ä¸ºä»€ä¹ˆé€‰æ‹©Astro?(ä¸æ˜¯å¹¿å‘Š,æ˜¯çœŸçš„å¥½ç”¨)</h2>
<h3 data-id="heading-2">æ€§èƒ½çœŸçš„æœ‰é‚£ä¹ˆå¤§å·®åˆ«å—?</h3>
<p>è€å®è®²,æˆ‘ä¸€å¼€å§‹ä¹ŸåŠä¿¡åŠç–‘ã€‚å®˜ç½‘è¯´"æ¯”ä¼ ç»ŸReactæ¡†æ¶å¿«40%"ã€"é»˜è®¤é›¶JavaScriptè¾“å‡º",è¿™å¬èµ·æ¥åƒè¥é”€è¯æœ¯å¯¹å§?ä½†å½“æˆ‘çœŸçš„æŠŠWordPressåšå®¢è¿ç§»åˆ°Astroå,æ•°æ®ä¸ä¼šéª—äºº:</p>
<ul>
<li><strong>é¦–å±åŠ è½½æ—¶é—´</strong>:ä»3.2ç§’é™åˆ°0.8ç§’</li>
<li><strong>Lighthouseè¯„åˆ†</strong>:ç›´æ¥æ‹‰æ»¡100åˆ†(ä¹‹å‰WordPressåªæœ‰65åˆ†)</li>
<li><strong>JavaScriptä½“ç§¯</strong>:ä»280KBå‡å°‘åˆ°ä¸åˆ°20KB</li>
</ul>
<p>ä½ å¯èƒ½ä¼šæƒ³,è¿™ä¹ˆå¤§çš„æ€§èƒ½æå‡æ˜¯æ€ä¹ˆåšåˆ°çš„?å…¶å®ç§˜å¯†å°±åœ¨Astroçš„æ ¸å¿ƒç†å¿µâ€”â€”<strong>å†…å®¹ä¼˜å…ˆ,JavaScriptæŒ‰éœ€åŠ è½½</strong>ã€‚å®ƒé»˜è®¤è¾“å‡ºçš„æ˜¯çº¯HTML+CSS,åªæœ‰ä½ æ˜ç¡®éœ€è¦äº¤äº’åŠŸèƒ½çš„åœ°æ–¹æ‰ä¼šåŠ è½½JavaScriptã€‚è¿™å’ŒReacté‚£ç§"å…¨å®¶æ¡¶ä¸€èµ·ä¸Š"çš„æ€è·¯å®Œå…¨ç›¸åã€‚</p>
<p>æœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„å¯¹æ¯”:æˆ‘ç”¨åŒä¸€ç¯‡æ–‡ç« åˆ†åˆ«åœ¨Next.jså’ŒAstroä¸Šæµ‹è¯•,Next.jsé¦–å±ä¼šåŠ è½½æ¡†æ¶è¿è¡Œæ—¶(çº¦100KB),è€ŒAstroå°±æ˜¯ä¸€ä¸ªå¹²å‡€çš„HTMLæ–‡ä»¶ã€‚å¯¹äºåšå®¢è¿™ç§ä»¥é˜…è¯»ä¸ºä¸»çš„åœºæ™¯,è¿™ç§å·®å¼‚å¤ªæ˜æ˜¾äº†ã€‚</p>
<h3 data-id="heading-3">å¼€å‘ä½“éªŒæ€ä¹ˆæ ·?</h3>
<p>è¯´å®Œæ€§èƒ½,å†èŠèŠå¼€å‘ä½“éªŒã€‚æˆ‘æœ€å–œæ¬¢Astroçš„ä¸€ç‚¹æ˜¯å®ƒçš„"<strong>Islandsæ¶æ„</strong>"â€”â€”å¬èµ·æ¥å¾ˆé«˜å¤§ä¸Š,å…¶å®å°±æ˜¯"å“ªé‡Œéœ€è¦äº¤äº’,å“ªé‡Œæ‰ç”¨JavaScript"ã€‚</p>
<p>æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªæ–‡ç« è¯¦æƒ…é¡µ:</p>
<ul>
<li>æ–‡ç« ä¸»ä½“å†…å®¹ â†’ é™æ€HTML(å¿«)</li>
<li>è¯„è®ºåŒº â†’ ç”¨Reactç»„ä»¶(å¯äº¤äº’)</li>
<li>å¯¼èˆªæ  â†’ ç”¨Vueç»„ä»¶(æ˜¯çš„,å¯ä»¥æ··ç”¨!)</li>
</ul>
<p>è¿™ç§çµæ´»æ€§è®©æˆ‘ä¸ç”¨ä¸ºäº†ä¸€ä¸ªå°åŠŸèƒ½å°±æŠŠæ•´ä¸ªç½‘ç«™å˜æˆSPAã€‚è€Œä¸”Astroå¯¹æ–°æ‰‹ç‰¹åˆ«å‹å¥½çš„ä¸€ç‚¹æ˜¯,ä½ å¯ä»¥ç›´æ¥ç”¨Markdownå†™æ–‡ç« ,ä¸éœ€è¦æŠ˜è…¾æ•°æ®åº“å’Œåå°ç®¡ç†ç³»ç»Ÿã€‚æˆ‘ç°åœ¨å†™åšå®¢å°±æ˜¯åœ¨VSCodeé‡Œå†™Markdown,å†™å®Œæ¨é€åˆ°GitHub,è‡ªåŠ¨éƒ¨ç½²,èˆ’æœã€‚</p>
<h3 data-id="heading-4">å’Œå…¶ä»–æ¡†æ¶æ¯”å‘¢?</h3>
<p>æˆ‘çŸ¥é“ä½ è‚¯å®šæƒ³é—®è¿™ä¸ªé—®é¢˜,å› ä¸ºæˆ‘å½“æ—¶ä¹Ÿçº ç»“äº†åŠå¤©ã€‚å’±ä»¬å®é™…ç‚¹,æ‹¿è¡¨æ ¼è¯´è¯:</p>








































<table><thead><tr><th>æ¡†æ¶</th><th>é€‚ç”¨åœºæ™¯</th><th>å­¦ä¹ æ›²çº¿</th><th>æ€§èƒ½</th><th>ç»´æŠ¤æˆæœ¬</th></tr></thead><tbody><tr><td><strong>Astro</strong></td><td>åšå®¢/æ–‡æ¡£ç«™</td><td>ä½(ä¼šHTMLå°±è¡Œ)</td><td>â­â­â­â­â­</td><td>ä½(å‡ ä¹é›¶ç»´æŠ¤)</td></tr><tr><td><strong>Next.js</strong></td><td>å¤æ‚åº”ç”¨</td><td>ä¸­(éœ€è¦æ‡‚React)</td><td>â­â­â­â­</td><td>ä¸­(éœ€è¦ç»´æŠ¤API)</td></tr><tr><td><strong>Hexo</strong></td><td>çº¯é™æ€åšå®¢</td><td>ä½(ä½†æ‰©å±•æ€§å·®)</td><td>â­â­â­</td><td>ä½</td></tr><tr><td><strong>WordPress</strong></td><td>éœ€è¦CMS</td><td>ä¸­(æ’ä»¶ç”Ÿæ€å¥½)</td><td>â­â­</td><td>é«˜(å®‰å…¨+æ›´æ–°çƒ¦)</td></tr></tbody></table>
<p>æˆ‘çš„å»ºè®®æ˜¯:</p>
<ul>
<li>å¦‚æœä½ è¦æ­<strong>åšå®¢æˆ–æŠ€æœ¯æ–‡æ¡£ç«™</strong>,é¦–é€‰Astro,æ€§èƒ½å’Œå¼€å‘ä½“éªŒéƒ½åœ¨çº¿</li>
<li>å¦‚æœè¦åš<strong>ç”µå•†æˆ–å¤æ‚äº¤äº’åº”ç”¨</strong>,é‚£è¿˜æ˜¯Next.jsæ›´åˆé€‚</li>
<li>å¦‚æœä½ å°±æ˜¯æƒ³è¦ä¸ª<strong>æœ€ç®€å•çš„é™æ€åšå®¢</strong>,ä¸éœ€è¦ä»»ä½•å®šåˆ¶,Hexoä¹Ÿå¤Ÿç”¨</li>
<li>å¦‚æœä½ éœ€è¦<strong>éæŠ€æœ¯å›¢é˜Ÿä¹Ÿèƒ½å‘æ–‡ç« </strong>çš„åå°,é‚£è¿˜æ˜¯WordPresså§</li>
</ul>
<p>å¯¹äº†,2025å¹´çš„æ•°æ®æ˜¾ç¤º,Astroçš„npmä¸‹è½½é‡å·²ç»çªç ´300ä¸‡æ¬¡,å¸‚åœºä»½é¢å¢é•¿åˆ°18%ã€‚è¿™è¯´æ˜è¶Šæ¥è¶Šå¤šå¼€å‘è€…åœ¨ç”¨è„šæŠ•ç¥¨,å®ƒä¸æ˜¯å°ä¼—æ¡†æ¶äº†ã€‚</p>
<h2 data-id="heading-5">ç¬¬äºŒç« :ç¯å¢ƒå‡†å¤‡(5åˆ†é’Ÿæå®š)</h2>
<h3 data-id="heading-6">å®‰è£…Node.js(å¦‚æœè¿˜æ²¡è£…çš„è¯)</h3>
<p>Astroéœ€è¦Node.js v18æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚å…ˆæ£€æŸ¥ä¸€ä¸‹ä½ çš„ç‰ˆæœ¬:</p>
<pre><code class="hljs language-bash" lang="bash">node -v
npm -v
</code></pre>
<p>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·äº†,é‚£å°±è·³è¿‡è¿™æ­¥ã€‚å¦‚æœè¿˜æ²¡è£…,å»<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F" target="_blank" title="https://nodejs.org/" ref="nofollow noopener noreferrer">Node.jså®˜ç½‘</a>ä¸‹è½½LTSç‰ˆæœ¬å°±è¡Œã€‚</p>
<p><strong>Windowsç”¨æˆ·çš„å°å‘</strong>:å®‰è£…æ—¶è®°å¾—å‹¾é€‰"Add to PATH",ä¸ç„¶åé¢å‘½ä»¤æ‰¾ä¸åˆ°ã€‚è¿˜æœ‰å°±æ˜¯æœ‰äº›æ€æ¯’è½¯ä»¶ä¼šæ‹¦æˆªnpmå®‰è£…,è£…å®Œåæœ€å¥½é‡å¯ä¸€æ¬¡å‘½ä»¤è¡Œã€‚</p>
<h3 data-id="heading-7">åˆ›å»ºAstroé¡¹ç›®</h3>
<p>è¿™æ­¥æ¯”ä½ æƒ³è±¡çš„ç®€å•ã€‚æ‰“å¼€å‘½ä»¤è¡Œ,è¾“å…¥:</p>
<pre><code class="hljs language-bash" lang="bash">npm create astro@latest
</code></pre>
<p>ç„¶åä¼šå¼¹å‡ºä¸€å †é€‰é¡¹,åˆ«æ…Œ,æˆ‘å‘Šè¯‰ä½ æ€ä¹ˆé€‰:</p>
<ol>
<li><strong>é¡¹ç›®åç§°</strong>:éšä¾¿èµ·ä¸€ä¸ª,æ¯”å¦‚ <code>my-blog</code></li>
<li><strong>é€‰æ‹©æ¨¡æ¿</strong>:é€‰ <strong>Blog</strong> æ¨¡æ¿(ç”¨æ–¹å‘é”®+å›è½¦)</li>
<li><strong>å®‰è£…ä¾èµ–</strong>:é€‰ <strong>Yes</strong></li>
<li><strong>TypeScripté…ç½®</strong>:é€‰ <strong>Strict</strong> æˆ– <strong>Strictest</strong>(ç›¸ä¿¡æˆ‘,ç±»å‹æ£€æŸ¥èƒ½å¸®ä½ çœå¾ˆå¤šbug)</li>
<li><strong>åˆå§‹åŒ–Gitä»“åº“</strong>:é€‰ <strong>Yes</strong></li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚1-2åˆ†é’Ÿ,å®ƒä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡æ¿å’Œä¾èµ–åŒ…ã€‚</p>
<p>**ä¸ºä»€ä¹ˆæ¨èBlogæ¨¡æ¿?**å› ä¸ºå®ƒå·²ç»å†…ç½®äº†æ–‡ç« åˆ—è¡¨ã€æ ‡ç­¾åˆ†ç±»ã€RSSè®¢é˜…çš„åŸºç¡€ä»£ç ,æ¯”ä»ç©ºç™½æ¨¡æ¿å¼€å§‹çœå¤ªå¤šäº‹äº†ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”¨ç©ºç™½æ¨¡æ¿,å…‰æåˆ†é¡µå°±æŠ˜è…¾äº†ä¸¤ä¸ªå°æ—¶ã€‚</p>
<h3 data-id="heading-8">å¯åŠ¨å¼€å‘æœåŠ¡å™¨</h3>
<p>è¿›å…¥é¡¹ç›®ç›®å½•,å¯åŠ¨æœåŠ¡:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> my-blog
npm run dev
</code></pre>
<p>çœ‹åˆ° <code>Local: http://localhost:4321</code> å°±æˆåŠŸäº†ã€‚æ‰“å¼€æµè§ˆå™¨è®¿é—®è¿™ä¸ªåœ°å€,ä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªå·²ç»æ­å¥½çš„åšå®¢æ¡†æ¶äº†ã€‚</p>
<p><strong>æ–°æ‰‹å‘é¢„è­¦</strong>:</p>
<ul>
<li>å¦‚æœç«¯å£4321è¢«å ç”¨,å¯ä»¥æ”¹ <code>astro.config.mjs</code> æ–‡ä»¶é‡Œçš„ <code>server.port</code></li>
<li>å¦‚æœå¯åŠ¨æŠ¥é”™ <code>EACCES</code>,å¯èƒ½æ˜¯æƒé™é—®é¢˜,è¯•è¯• <code>sudo npm run dev</code>(Mac/Linux)</li>
<li>å¦‚æœçœ‹åˆ°ä¹±ç ,æ£€æŸ¥å‘½ä»¤è¡Œç¼–ç æ˜¯ä¸æ˜¯UTF-8</li>
</ul>
<p>åˆ°è¿™é‡Œ,ç¯å¢ƒå°±å‡†å¤‡å¥½äº†ã€‚ä½ ç°åœ¨å·²ç»æœ‰ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„Astroåšå®¢äº†,æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹è¿™äº›æ–‡ä»¶éƒ½æ˜¯å¹²ä»€ä¹ˆçš„ã€‚</p>
<h2 data-id="heading-9">ç¬¬ä¸‰ç« :é¡¹ç›®ç»“æ„è¯¦è§£(çŸ¥é“æ¯ä¸ªæ–‡ä»¶å¤¹çš„ä½œç”¨)</h2>
<h3 data-id="heading-10">é¡¹ç›®ç›®å½•é•¿ä»€ä¹ˆæ ·?</h3>
<p>ç”¨VSCodeæˆ–ä»»ä½•ç¼–è¾‘å™¨æ‰“å¼€ <code>my-blog</code> æ–‡ä»¶å¤¹,ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ç»“æ„:</p>
<pre><code class="hljs language-csharp" lang="csharp">my-blog/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/           <span class="hljs-meta"># è·¯ç”±é¡µé¢,æ–‡ä»¶åå°±æ˜¯URL</span>
â”‚   â”œâ”€â”€ layouts/         <span class="hljs-meta"># å¸ƒå±€æ¨¡æ¿(å¤´éƒ¨ã€åº•éƒ¨ç­‰)</span>
â”‚   â”œâ”€â”€ components/      <span class="hljs-meta"># å¯å¤ç”¨ç»„ä»¶(æŒ‰é’®ã€å¡ç‰‡ç­‰)</span>
â”‚   â””â”€â”€ content/         <span class="hljs-meta"># ä½ çš„Markdownæ–‡ç« å­˜è¿™é‡Œ</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/              <span class="hljs-meta"># é™æ€èµ„æº(å›¾ç‰‡ã€å­—ä½“ã€favicon)</span>
â”œâ”€â”€ astro.config.mjs     <span class="hljs-meta"># Astroé…ç½®æ–‡ä»¶</span>
â””â”€â”€ package.json         <span class="hljs-meta"># é¡¹ç›®ä¾èµ–</span>
</code></pre>
<p>çœ‹èµ·æ¥è·Ÿæ™®é€šå‰ç«¯é¡¹ç›®å·®ä¸å¤šå¯¹å§?ä½†Astroæœ‰å‡ ä¸ªç‰¹åˆ«çš„åœ°æ–¹,ç†è§£äº†è¿™äº›ä½ å°±çŸ¥é“ä¸ºä»€ä¹ˆå®ƒè¿™ä¹ˆå¥½ç”¨äº†ã€‚</p>
<h3 data-id="heading-11"><code>pages/</code> ç›®å½•:æ–‡ä»¶å³è·¯ç”±</h3>
<p>è¿™æ˜¯Astroæœ€è®©æˆ‘å–œæ¬¢çš„åœ°æ–¹ã€‚ä½ ä¸éœ€è¦é…ç½®è·¯ç”±,æ–‡ä»¶åè‡ªåŠ¨å¯¹åº”URL:</p>
<ul>
<li><code>pages/index.astro</code> â†’ ç½‘ç«™é¦–é¡µ <code>/</code></li>
<li><code>pages/about.astro</code> â†’ å…³äºé¡µé¢ <code>/about</code></li>
<li><code>pages/blog/index.astro</code> â†’ åšå®¢åˆ—è¡¨ <code>/blog</code></li>
<li><code>pages/blog/[...slug].astro</code> â†’ æ–‡ç« è¯¦æƒ…é¡µ <code>/blog/xxx</code></li>
</ul>
<p>æœ€åé‚£ä¸ª <code>[...slug].astro</code> æ˜¯åŠ¨æ€è·¯ç”±,æ–¹æ‹¬å·åŒ…è£¹çš„éƒ¨åˆ†ä¼šå˜æˆå˜é‡ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šå¤„ç†æ‰€æœ‰ <code>/blog/</code> ä¸‹çš„æ–‡ç« é“¾æ¥ã€‚</p>
<p>æ¯”Next.jsçš„è·¯ç”±ç³»ç»Ÿç®€å•å¤ªå¤šäº†,æˆ‘å½“æ—¶ä»Nextè¿ç§»è¿‡æ¥,çœ‹åˆ°è¿™ä¸ªè®¾è®¡ç›´æ¥çˆ±äº†ã€‚</p>
<h3 data-id="heading-12"><code>content/</code> ç›®å½•:æ–‡ç« å­˜æ”¾åœ°</h3>
<p>æ‰“å¼€ <code>src/content/blog/</code> æ–‡ä»¶å¤¹,é‡Œé¢å·²ç»æœ‰å‡ ç¯‡ç¤ºä¾‹æ–‡ç« äº†ã€‚æ¯ç¯‡æ–‡ç« éƒ½æ˜¯ä¸€ä¸ª <code>.md</code> æˆ– <code>.mdx</code> æ–‡ä»¶,å¼€å¤´æœ‰ä¸ªFrontmatter(å°±æ˜¯ä¸‰ä¸ªçŸ­æ¨ªçº¿åŒ…èµ·æ¥çš„é‚£éƒ¨åˆ†):</p>
<pre><code class="hljs language-markdown" lang="markdown">
---

title: 'æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« '
description: 'è¿™æ˜¯ä¸€ç¯‡æµ‹è¯•æ–‡ç« '
pubDate: 'Dec 02 2025'
heroImage: '/blog-placeholder.jpg'
tags: ['Astro', 'æ•™ç¨‹']

---

è¿™é‡Œå¼€å§‹å†™æ­£æ–‡...
</code></pre>
<p>Astroä¼šè‡ªåŠ¨è¯†åˆ«è¿™äº›ä¿¡æ¯,ä½ åœ¨é¡µé¢é‡Œå°±èƒ½ç”¨ <code>post.data.title</code> è¿™æ ·è°ƒç”¨ã€‚è€Œä¸”å®ƒæœ‰ç±»å‹æ ¡éªŒ,å¦‚æœä½ å†™é”™å­—æ®µå,æ„å»ºæ—¶ä¼šæŠ¥é”™,è¿™ç‚¹å¯¹å¼ºè¿«ç—‡å¾ˆå‹å¥½ã€‚</p>
<h3 data-id="heading-13"><code>layouts/</code> å’Œ <code>components/</code>:å¤ç”¨ä½ çš„ä»£ç </h3>
<p><code>layouts/</code> æ”¾é¡µé¢å¸ƒå±€,æ¯”å¦‚æ‰€æœ‰æ–‡ç« éƒ½è¦æœ‰çš„å¤´éƒ¨ã€åº•éƒ¨ã€ä¾§è¾¹æ ç­‰ã€‚Blogæ¨¡æ¿é‡Œè‡ªå¸¦äº† <code>BaseLayout.astro</code> å’Œ <code>BlogPost.astro</code> ä¸¤ä¸ªå¸ƒå±€ã€‚</p>
<p><code>components/</code> æ”¾å¯å¤ç”¨çš„å°ç»„ä»¶,æ¯”å¦‚æŒ‰é’®ã€å¡ç‰‡ã€æ ‡ç­¾äº‘ç­‰ã€‚è¿™äº›ç»„ä»¶å¯ä»¥ç”¨Astroè¯­æ³•å†™,ä¹Ÿå¯ä»¥ç›´æ¥ç”¨React/Vue,è¶…çº§çµæ´»ã€‚</p>
<h3 data-id="heading-14"><code>public/</code> ç›®å½•:ç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºæ–‡ä»¶å¤¹</h3>
<p>è¿™é‡Œæ”¾çš„æ–‡ä»¶ä¼šåŸå°ä¸åŠ¨åœ°å¤åˆ¶åˆ°æœ€ç»ˆç½‘ç«™æ ¹ç›®å½•ã€‚æ¯”å¦‚ <code>public/favicon.ico</code> éƒ¨ç½²åå°±æ˜¯ <code>https://ä½ çš„åŸŸå/favicon.ico</code>ã€‚</p>
<p>æˆ‘ä¸€èˆ¬æŠŠåšå®¢é…å›¾ã€å­—ä½“æ–‡ä»¶ã€<code>robots.txt</code> è¿™äº›ä¸œè¥¿æ”¾è¿™é‡Œã€‚</p>
<h3 data-id="heading-15"><code>astro.config.mjs</code>:æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3>
<p>è¿™ä¸ªæ–‡ä»¶æ§åˆ¶ç€Astroçš„è¡Œä¸ºã€‚å¸¸ç”¨çš„é…ç½®é¡¹:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">site</span>: <span class="hljs-string">'https://ä½ çš„åŸŸå.com'</span>,  <span class="hljs-comment">// éƒ¨ç½²çš„åŸŸå</span>
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],          <span class="hljs-comment">// æ’ä»¶(Markdownæ‰©å±•ã€RSSç­‰)</span>
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">port</span>: <span class="hljs-number">4321</span>                    <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨ç«¯å£</span>
  }
})
</code></pre>
<p>ç°åœ¨ä½ ä¸éœ€è¦æ”¹å¤ªå¤š,ç­‰åé¢æ·»åŠ åŠŸèƒ½æ—¶å†å›æ¥è°ƒæ•´ã€‚</p>
<p>è¯´å®è¯,ç†è§£è¿™ä¸ªç›®å½•ç»“æ„çœŸçš„å¾ˆé‡è¦ã€‚æˆ‘è§è¿‡ä¸å°‘äººç›´æ¥å¼€å§‹å†™ä»£ç ,ç»“æœä¸çŸ¥é“æ–‡ä»¶è¯¥æ”¾å“ª,æœ€åé¡¹ç›®ç»“æ„ä¹±å¾—ä¸€å¡Œç³Šæ¶‚ã€‚èŠ±5åˆ†é’Ÿææ¸…æ¥šè¿™ä¸ª,åé¢èƒ½çœ1å°æ—¶ã€‚</p>
<h2 data-id="heading-16">ç¬¬å››ç« :æ ¸å¿ƒåŠŸèƒ½å®ç°(è¿™æ‰æ˜¯é‡å¤´æˆ)</h2>
<h3 data-id="heading-17">4.1 é¦–é¡µå¸ƒå±€:å±•ç¤ºæœ€æ–°æ–‡ç« </h3>
<p>Blogæ¨¡æ¿å·²ç»å¸®ä½ æ­å¥½äº†é¦–é¡µæ¡†æ¶,ä½†æˆ‘ä»¬è¦ç¨å¾®è°ƒæ•´ä¸€ä¸‹,è®©å®ƒæ›´å®ç”¨ã€‚æ‰“å¼€ <code>src/pages/index.astro</code>,ä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ä»£ç :</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

// è·å–æ‰€æœ‰åšå®¢æ–‡ç« ,æŒ‰æ—¥æœŸæ’åº,å–æœ€æ–°5ç¯‡
const allPosts = (await getCollection('blog'))
  .sort((a, b) =&gt; b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 5);

---

&lt;BaseLayout&gt;
  &lt;h1&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢&lt;/h1&gt;
  &lt;ul&gt;
    {allPosts.map((post) =&gt; (
      &lt;li&gt;
        &lt;a href={`/blog/${post.slug}/`}&gt;{post.data.title}&lt;/a&gt;
        &lt;time&gt;{post.data.pubDate.toDateString()}&lt;/time&gt;
      &lt;/li&gt;
    ))}
  &lt;/ul&gt;
&lt;/BaseLayout&gt;
</code></pre>
<p><strong>è¿™æ®µä»£ç åšäº†ä»€ä¹ˆ?</strong></p>
<ol>
<li>ç”¨ <code>getCollection('blog')</code> è·å–æ‰€æœ‰æ–‡ç« </li>
<li>æŒ‰å‘å¸ƒæ—¥æœŸå€’åºæ’åˆ—(æœ€æ–°çš„åœ¨å‰é¢)</li>
<li>ç”¨ <code>slice(0, 5)</code> åªå–å‰5ç¯‡</li>
<li>å¾ªç¯æ¸²æŸ“æˆåˆ—è¡¨</li>
</ol>
<p><strong>æ–°æ‰‹å‘</strong>:æ—¥æœŸæ’åºæ—¶è¦ç”¨ <code>.valueOf()</code>,ä¸ç„¶ä¼šæŒ‰å­—ç¬¦ä¸²æ’åº,ç»“æœå°±ä¹±äº†ã€‚</p>
<h3 data-id="heading-18">4.2 æ–‡ç« åˆ—è¡¨é¡µ:å¸¦åˆ†é¡µåŠŸèƒ½</h3>
<p>åˆ›å»º <code>src/pages/blog/index.astro</code>(å¦‚æœæ¨¡æ¿é‡Œæ²¡æœ‰çš„è¯),å®ç°ä¸€ä¸ªå®Œæ•´çš„æ–‡ç« åˆ—è¡¨:</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

const allPosts = (await getCollection('blog'))
  .sort((a, b) =&gt; b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const pageSize = 10;
const currentPage = 1;
const totalPages = Math.ceil(allPosts.length / pageSize);
const posts = allPosts.slice(0, pageSize);

---

&lt;BaseLayout title="æ–‡ç« åˆ—è¡¨"&gt;
  &lt;h1&gt;æ‰€æœ‰æ–‡ç« &lt;/h1&gt;

  &lt;div class="post-list"&gt;
    {posts.map((post) =&gt; (
      &lt;article&gt;
        &lt;h2&gt;&lt;a href={`/blog/${post.slug}/`}&gt;{post.data.title}&lt;/a&gt;&lt;/h2&gt;
        &lt;p&gt;{post.data.description}&lt;/p&gt;
        &lt;time&gt;{post.data.pubDate.toLocaleDateString('zh-CN')}&lt;/time&gt;
        &lt;div class="tags"&gt;
          {post.data.tags?.map(tag =&gt; &lt;span&gt;#{tag}&lt;/span&gt;)}
        &lt;/div&gt;
      &lt;/article&gt;
    ))}
  &lt;/div&gt;

  {totalPages &gt; 1 &amp;&amp; (
    &lt;div class="pagination"&gt;
      &lt;span&gt;ç¬¬ {currentPage} / {totalPages} é¡µ&lt;/span&gt;
    &lt;/div&gt;
  )}
&lt;/BaseLayout&gt;
</code></pre>
<p>è¿™é‡Œæˆ‘ç®€åŒ–äº†åˆ†é¡µé€»è¾‘,å®é™…é¡¹ç›®ä¸­ä½ å¯ä»¥ç”¨Astroçš„ <code>paginate()</code> å‡½æ•°è‡ªåŠ¨ç”Ÿæˆåˆ†é¡µã€‚ä½†å¯¹äºæ–‡ç« æ•°é‡ä¸å¤šçš„åšå®¢(&lt;100ç¯‡),å•é¡µå±•ç¤ºä¹Ÿå¤Ÿç”¨ã€‚</p>
<p><strong>ä½“éªŒä¼˜åŒ–å»ºè®®</strong>:</p>
<ul>
<li>åŠ ä¸ªé˜…è¯»æ—¶é•¿ä¼°ç®—(æŒ‰å­—æ•°Ã·400å­—/åˆ†é’Ÿè®¡ç®—)</li>
<li>æ–‡ç« æ‘˜è¦æˆªæ–­(å–å‰150å­—+çœç•¥å·)</li>
<li>æ·»åŠ ç¼©ç•¥å›¾(ç”¨ <code>heroImage</code> å­—æ®µ)</li>
</ul>
<h3 data-id="heading-19">4.3 æ–‡ç« è¯¦æƒ…é¡µ:æœ€æ ¸å¿ƒçš„é¡µé¢</h3>
<p>è¿™æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†,ç”¨åŠ¨æ€è·¯ç”±å®ç°ã€‚å¦‚æœBlogæ¨¡æ¿é‡Œæœ‰ <code>src/pages/blog/[...slug].astro</code>,ç›´æ¥ç¼–è¾‘å®ƒ;æ²¡æœ‰å°±æ–°å»ºä¸€ä¸ª:</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { getCollection } from 'astro:content';
import BlogPost from '../../layouts/BlogPost.astro';

// ç”Ÿæˆæ‰€æœ‰æ–‡ç« çš„é™æ€è·¯å¾„
export async function getStaticPaths() {
  const posts = await getCollection('blog');
  return posts.map(post =&gt; ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();

---

&lt;BlogPost {...post.data}&gt;
  &lt;Content /&gt;
&lt;/BlogPost&gt;
</code></pre>
<p><strong>è¿™æ®µä»£ç çš„é­”æ³•</strong>:</p>
<ul>
<li><code>getStaticPaths()</code> åœ¨æ„å»ºæ—¶è¿è¡Œ,ä¸ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆé™æ€HTML</li>
<li><code>post.render()</code> æŠŠMarkdownè½¬æˆHTMLç»„ä»¶</li>
<li><code>&lt;Content /&gt;</code> å°±æ˜¯ä½ æ–‡ç« çš„æ­£æ–‡</li>
</ul>
<p><strong>æ–°æ‰‹å®¹æ˜“å¡çš„åœ°æ–¹</strong>:</p>
<ol>
<li><strong>ä»£ç é«˜äº®ä¸ç”Ÿæ•ˆ</strong>:éœ€è¦å®‰è£…Shikiæ’ä»¶(Blogæ¨¡æ¿å·²è‡ªå¸¦)</li>
<li><strong>Markdownæ ·å¼ä¸å¥½çœ‹</strong>:æ¨èè£… <code>@tailwindcss/typography</code> æ’ä»¶</li>
<li><strong>å›¾ç‰‡è·¯å¾„é”™è¯¯</strong>:å›¾ç‰‡æ”¾ <code>public/</code> æ–‡ä»¶å¤¹,å¼•ç”¨æ—¶å†™ <code>/images/xxx.jpg</code></li>
</ol>
<p>å¦‚æœä½ æƒ³åŠ ç›®å½•å¯¼èˆª(TOC),å¯ä»¥ç”¨ç¤¾åŒºæ’ä»¶ <code>remark-toc</code>,åœ¨ <code>astro.config.mjs</code> é‡Œé…ç½®:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> remarkToc <span class="hljs-keyword">from</span> <span class="hljs-string">'remark-toc'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">remarkPlugins</span>: [remarkToc],
  },
});
</code></pre>
<h3 data-id="heading-20">4.4 æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿ:è®©å†…å®¹æ›´æœ‰åº</h3>
<p>åˆ›å»º <code>src/pages/tags/[tag].astro</code>,å®ç°æ ‡ç­¾ç­›é€‰åŠŸèƒ½:</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

export async function getStaticPaths() {
  const allPosts = await getCollection('blog');

  // æ”¶é›†æ‰€æœ‰å”¯ä¸€æ ‡ç­¾
  const allTags = [...new Set(allPosts.flatMap(post =&gt; post.data.tags || []))];

  // ä¸ºæ¯ä¸ªæ ‡ç­¾ç”Ÿæˆä¸€ä¸ªé¡µé¢
  return allTags.map(tag =&gt; ({
    params: { tag },
    props: {
      posts: allPosts.filter(post =&gt;
        post.data.tags?.includes(tag)
      ).sort((a, b) =&gt;
        b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
      ),
    },
  }));
}

const { tag } = Astro.params;
const { posts } = Astro.props;

---

&lt;BaseLayout title={`æ ‡ç­¾: ${tag}`}&gt;
  &lt;h1&gt;#{tag} ç›¸å…³æ–‡ç«  ({posts.length})&lt;/h1&gt;

  &lt;ul&gt;
    {posts.map((post) =&gt; (
      &lt;li&gt;
        &lt;a href={`/blog/${post.slug}/`}&gt;{post.data.title}&lt;/a&gt;
      &lt;/li&gt;
    ))}
  &lt;/ul&gt;
&lt;/BaseLayout&gt;
</code></pre>
<p>è¿™æ ·æ¯ä¸ªæ ‡ç­¾éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹é¡µé¢,æ¯”å¦‚ <code>/tags/astro</code>ã€<code>/tags/æ•™ç¨‹</code> ç­‰ã€‚</p>
<p><strong>è¿›é˜¶ç©æ³•</strong>:åšä¸€ä¸ªæ ‡ç­¾äº‘é¡µé¢(<code>src/pages/tags/index.astro</code>),å±•ç¤ºæ‰€æœ‰æ ‡ç­¾å’Œæ–‡ç« æ•°é‡,å­—ä½“å¤§å°æ ¹æ®æ–‡ç« æ•°é‡åŠ¨æ€å˜åŒ–,å¾ˆé…·ç‚«ã€‚</p>
<h3 data-id="heading-21">4.5 RSSè®¢é˜…:è®©è¯»è€…åŠæ—¶æ”¶åˆ°æ›´æ–°</h3>
<p>å®‰è£…RSSæ’ä»¶:</p>
<pre><code class="hljs language-bash" lang="bash">npx astro add rss
</code></pre>
<p>åˆ›å»º <code>src/pages/rss.xml.js</code>:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> rss <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/rss'</span>;
<span class="hljs-keyword">import</span> { getCollection } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro:content'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GET</span>(<span class="hljs-params">context</span>) {
  <span class="hljs-keyword">const</span> posts = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCollection</span>(<span class="hljs-string">'blog'</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">rss</span>({
    <span class="hljs-attr">title</span>: <span class="hljs-string">'æˆ‘çš„æŠ€æœ¯åšå®¢'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'åˆ†äº«å‰ç«¯å¼€å‘ç»éªŒå’Œå­¦ä¹ å¿ƒå¾—'</span>,
    <span class="hljs-attr">site</span>: context.<span class="hljs-property">site</span>,
    <span class="hljs-attr">items</span>: posts.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">post</span>) =&gt;</span> ({
      <span class="hljs-attr">title</span>: post.<span class="hljs-property">data</span>.<span class="hljs-property">title</span>,
      <span class="hljs-attr">pubDate</span>: post.<span class="hljs-property">data</span>.<span class="hljs-property">pubDate</span>,
      <span class="hljs-attr">description</span>: post.<span class="hljs-property">data</span>.<span class="hljs-property">description</span>,
      <span class="hljs-attr">link</span>: <span class="hljs-string">`/blog/<span class="hljs-subst">${post.slug}</span>/`</span>,
    })),
  });
}
</code></pre>
<p>éƒ¨ç½²å,ä½ çš„RSSè®¢é˜…åœ°å€å°±æ˜¯ <code>https://ä½ çš„åŸŸå.com/rss.xml</code>ã€‚è™½ç„¶ç°åœ¨ç”¨RSSçš„äººä¸å¤šäº†,ä½†æŠ€æœ¯åšå®¢åŠ ä¸ªè¿™ä¸ªè¿˜æ˜¯æŒºä¸“ä¸šçš„ã€‚</p>
<p>åˆ°è¿™é‡Œ,æ ¸å¿ƒåŠŸèƒ½å°±æ­å¥½äº†ã€‚ä½ å·²ç»æœ‰äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„åšå®¢ç³»ç»Ÿ:é¦–é¡µå±•ç¤ºã€æ–‡ç« åˆ—è¡¨ã€è¯¦æƒ…é¡µã€æ ‡ç­¾åˆ†ç±»ã€RSSè®¢é˜…ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è®©å®ƒå¯¹æœç´¢å¼•æ“æ›´å‹å¥½ã€‚</p>
<h2 data-id="heading-22">ç¬¬äº”ç« :SEOä¼˜åŒ–(è®©åˆ«äººèƒ½æ‰¾åˆ°ä½ çš„åšå®¢)</h2>
<p>æ­å¥½åšå®¢ä¸æ˜¯ç»ˆç‚¹,ä½ è¿˜å¾—è®©åˆ«äººæ‰¾å¾—åˆ°å¯¹å§?è¿™å°±æ˜¯SEO(æœç´¢å¼•æ“ä¼˜åŒ–)çš„æ„ä¹‰ã€‚å¥½æ¶ˆæ¯æ˜¯,Astroåœ¨SEOæ–¹é¢å¤©ç”Ÿæœ‰ä¼˜åŠ¿â€”â€”é™æ€HTMLã€å¿«é€ŸåŠ è½½ã€è¯­ä¹‰åŒ–æ ‡ç­¾,è¿™äº›éƒ½æ˜¯æœç´¢å¼•æ“å–œæ¬¢çš„ã€‚</p>
<h3 data-id="heading-23">é…ç½®Metaæ ‡ç­¾:å‘Šè¯‰æœç´¢å¼•æ“ä½ çš„å†…å®¹æ˜¯ä»€ä¹ˆ</h3>
<p>æ‰“å¼€ <code>src/layouts/BaseLayout.astro</code>(æˆ–è€…ä½ çš„åŸºç¡€å¸ƒå±€æ–‡ä»¶),åœ¨ <code>&lt;head&gt;</code> æ ‡ç­¾é‡ŒåŠ ä¸Šè¿™äº›:</p>
<pre><code class="hljs language-astro" lang="astro">
---

interface Props {
  title: string;
  description?: string;
  image?: string;
}

const { title, description = 'æˆ‘çš„æŠ€æœ¯åšå®¢', image = '/og-image.jpg' } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);

---

&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;meta name="viewport" content="width=device-width" /&gt;
  &lt;link rel="icon" type="image/svg+xml" href="/favicon.svg" /&gt;

  &lt;title&gt;{title} | æˆ‘çš„åšå®¢&lt;/title&gt;
  &lt;meta name="description" content={description} /&gt;
  &lt;link rel="canonical" href={canonicalURL} /&gt;

  &lt;!-- Open Graph (ç¤¾äº¤åª’ä½“åˆ†äº«) --&gt;
  &lt;meta property="og:title" content={title} /&gt;
  &lt;meta property="og:description" content={description} /&gt;
  &lt;meta property="og:image" content={new URL(image, Astro.site)} /&gt;
  &lt;meta property="og:url" content={canonicalURL} /&gt;

  &lt;!-- Twitter Card --&gt;
  &lt;meta name="twitter:card" content="summary_large_image" /&gt;
  &lt;meta name="twitter:title" content={title} /&gt;
  &lt;meta name="twitter:description" content={description} /&gt;
  &lt;meta name="twitter:image" content={new URL(image, Astro.site)} /&gt;
&lt;/head&gt;
</code></pre>
<p>è¿™æ ·æ¯ä¸ªé¡µé¢éƒ½æœ‰å®Œæ•´çš„Metaä¿¡æ¯,åˆ†äº«åˆ°å¾®ä¿¡ã€Twitteræ—¶ä¹Ÿä¼šæ˜¾ç¤ºæ¼‚äº®çš„å¡ç‰‡ã€‚</p>
<h3 data-id="heading-24">ç”ŸæˆSitemap:è®©æœç´¢å¼•æ“çŸ¥é“ä½ æœ‰å“ªäº›é¡µé¢</h3>
<p>è¶…çº§ç®€å•,ä¸€è¡Œå‘½ä»¤æå®š:</p>
<pre><code class="hljs language-bash" lang="bash">npx astro add sitemap
</code></pre>
<p>ç„¶ååœ¨ <code>astro.config.mjs</code> é‡Œé…ç½®ä½ çš„åŸŸå:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">site</span>: <span class="hljs-string">'https://ä½ çš„åŸŸå.com'</span>,
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">sitemap</span>()],
});
</code></pre>
<p>éƒ¨ç½²å,sitemapä¼šè‡ªåŠ¨ç”Ÿæˆåœ¨ <code>https://ä½ çš„åŸŸå.com/sitemap-index.xml</code>ã€‚å»Google Search Consoleæäº¤è¿™ä¸ªåœ°å€,è¿‡å‡ å¤©ä½ çš„æ–‡ç« å°±èƒ½è¢«æœåˆ°äº†ã€‚</p>
<h3 data-id="heading-25">æ€§èƒ½ä¼˜åŒ–:é€Ÿåº¦ä¹Ÿæ˜¯SEOçš„é‡è¦å› ç´ </h3>
<p>Astroæœ¬èº«å·²ç»å¤Ÿå¿«äº†,ä½†è¿˜æœ‰å‡ ä¸ªå°æŠ€å·§:</p>
<p><strong>1. å›¾ç‰‡ä¼˜åŒ–</strong></p>
<p>ç”¨Astroçš„ <code>&lt;Image&gt;</code> ç»„ä»¶ä»£æ›¿æ™®é€šçš„ <code>&lt;img&gt;</code> æ ‡ç­¾:</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { Image } from 'astro:assets';
import myImage from '../assets/photo.jpg';

---

&lt;Image src={myImage} alt="æè¿°æ–‡å­—" /&gt;
</code></pre>
<p>è¿™ä¼šè‡ªåŠ¨:</p>
<ul>
<li>è½¬æ¢æˆç°ä»£æ ¼å¼(WebP/AVIF)</li>
<li>ç”Ÿæˆå¤šå°ºå¯¸å“åº”å¼å›¾ç‰‡</li>
<li>æ‡’åŠ è½½</li>
</ul>
<p><strong>2. CSS/JSå‹ç¼©</strong></p>
<p>ç”Ÿäº§æ„å»ºæ—¶Astroä¼šè‡ªåŠ¨å‹ç¼©,ä½ ä¸éœ€è¦é¢å¤–é…ç½®ã€‚ä½†è®°å¾—åˆ æ‰æ²¡ç”¨çš„ä¾èµ–åŒ…,èƒ½å‡å°ä½“ç§¯ã€‚</p>
<p><strong>3. å­—ä½“ä¼˜åŒ–</strong></p>
<p>å¦‚æœä½ ç”¨Google Fontsæˆ–è‡ªå®šä¹‰å­—ä½“,è®°å¾—åŠ ä¸Š <code>font-display: swap</code>,é¿å…å­—ä½“åŠ è½½é˜»å¡æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'MyFont'</span>;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'/fonts/myfont.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">font-display</span>: swap;
}
</code></pre>
<p>è¯´å®è¯,åšå®Œè¿™äº›ä¼˜åŒ–,ä½ çš„åšå®¢Lighthouseè¯„åˆ†åŸºæœ¬èƒ½ç¨³å®šåœ¨95+ã€‚æˆ‘ç°åœ¨çš„åšå®¢é™¤äº†"Best Practices"å› ä¸ºç¬¬ä¸‰æ–¹è„šæœ¬æ‰£äº†ç‚¹åˆ†,å…¶ä»–é¡¹éƒ½æ˜¯æ»¡åˆ†ã€‚</p>
<h2 data-id="heading-26">ç¬¬å…­ç« :éƒ¨ç½²ä¸Šçº¿(å…è´¹æ‰˜ç®¡å¹³å°äºŒé€‰ä¸€)</h2>
<p>ä»£ç å†™å®Œäº†,ç°åœ¨æ˜¯æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†â€”â€”è®©å…¨ä¸–ç•Œéƒ½èƒ½è®¿é—®ä½ çš„åšå®¢!æˆ‘ä¼šä»‹ç»ä¸¤ä¸ªå…è´¹ä¸”å¥½ç”¨çš„æ‰˜ç®¡å¹³å°,ä½ é€‰ä¸€ä¸ªå°±è¡Œã€‚</p>
<h3 data-id="heading-27">æ–¹æ¡ˆä¸€:Verceléƒ¨ç½²(æ¨èæ–°æ‰‹)</h3>
<p>Vercelæ˜¯æˆ‘æœ€æ¨èçš„,å› ä¸ºå®ƒå¯¹Astroæœ‰åŸç”Ÿæ”¯æŒ,é›¶é…ç½®å°±èƒ½è·‘èµ·æ¥ã€‚</p>
<p><strong>æ­¥éª¤1:æ¨é€ä»£ç åˆ°GitHub</strong></p>
<p>å¦‚æœè¿˜æ²¡å»ºä»“åº“,åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ:</p>
<pre><code class="hljs language-bash" lang="bash">git add .
git commit -m <span class="hljs-string">"Initial commit"</span>
git branch -M main
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/my-blog.git
git push -u origin main
</code></pre>
<p><strong>æ­¥éª¤2:åœ¨Vercelå¯¼å…¥é¡¹ç›®</strong></p>
<ol>
<li>å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com" target="_blank" title="https://vercel.com" ref="nofollow noopener noreferrer">vercel.com</a> æ³¨å†Œè´¦å·(ç”¨GitHubç™»å½•æœ€æ–¹ä¾¿)</li>
<li>ç‚¹å‡»"New Project"</li>
<li>é€‰æ‹©ä½ çš„ <code>my-blog</code> ä»“åº“</li>
<li>Vercelä¼šè‡ªåŠ¨è¯†åˆ«Astroæ¡†æ¶,ä¸éœ€è¦æ”¹ä»»ä½•é…ç½®</li>
<li>ç‚¹å‡»"Deploy",ç­‰1-2åˆ†é’Ÿå°±å¥½äº†</li>
</ol>
<p><strong>æ­¥éª¤3:è®¿é—®ä½ çš„åšå®¢</strong></p>
<p>éƒ¨ç½²æˆåŠŸå,Vercelä¼šç»™ä½ ä¸€ä¸ª <code>xxx.vercel.app</code> çš„åŸŸå,ç›´æ¥è®¿é—®å°±èƒ½çœ‹åˆ°ä½ çš„åšå®¢äº†!</p>
<p><strong>ç»‘å®šè‡ªå®šä¹‰åŸŸå(å¯é€‰)</strong></p>
<p>å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸå,åœ¨Vercelé¡¹ç›®è®¾ç½®é‡Œæ·»åŠ åŸŸå,ç„¶åå»åŸŸåæœåŠ¡å•†æ·»åŠ CNAMEè®°å½•æŒ‡å‘Vercelç»™çš„åœ°å€å°±è¡Œã€‚å…·ä½“æ“ä½œVercelä¼šç»™ä½ æç¤º,è¶…çº§ç®€å•ã€‚</p>
<p><strong>æ–°æ‰‹å‘æé†’</strong>:</p>
<ul>
<li>ç¡®ä¿ <code>astro.config.mjs</code> é‡Œé…ç½®äº†æ­£ç¡®çš„ <code>site</code> åœ°å€</li>
<li>ç¯å¢ƒå˜é‡è¦åœ¨Vercelåå°é…ç½®,ä¸èƒ½ç›´æ¥å†™åœ¨ä»£ç é‡Œ</li>
<li>ç¬¬ä¸€æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦5åˆ†é’Ÿ,åˆ«ç€æ€¥</li>
</ul>
<h3 data-id="heading-28">æ–¹æ¡ˆäºŒ:Netlifyéƒ¨ç½²(å¤‡é€‰æ–¹æ¡ˆ)</h3>
<p>Netlifyå’ŒVercelå·®ä¸å¤š,ä½†åœ¨å›½å†…è®¿é—®é€Ÿåº¦ç¨å¥½ä¸€äº›ã€‚</p>
<p><strong>æ­¥éª¤1:æ¨é€ä»£ç åˆ°GitHub</strong></p>
<p>(å’ŒVercelä¸€æ ·,å…ˆæŠŠä»£ç æ¨åˆ°GitHub)</p>
<p><strong>æ­¥éª¤2:åœ¨Netlifyå¯¼å…¥é¡¹ç›®</strong></p>
<ol>
<li>å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.netlify.com" target="_blank" title="https://www.netlify.com" ref="nofollow noopener noreferrer">netlify.com</a> æ³¨å†Œè´¦å·</li>
<li>ç‚¹å‡»"Add new site" â†’ "Import an existing project"</li>
<li>è¿æ¥GitHub,é€‰æ‹©ä½ çš„ä»“åº“</li>
<li>æ„å»ºè®¾ç½®:
<ul>
<li>Build command: <code>npm run build</code></li>
<li>Publish directory: <code>dist</code></li>
</ul>
</li>
<li>ç‚¹å‡»"Deploy"</li>
</ol>
<p><strong>æ­¥éª¤3:è®¿é—®ä½ çš„åšå®¢</strong></p>
<p>åŒæ ·ä¼šç»™ä½ ä¸€ä¸ª <code>xxx.netlify.app</code> çš„åŸŸå,è®¿é—®æµ‹è¯•ã€‚</p>
<h3 data-id="heading-29">ä¸¤ä¸ªå¹³å°æ€ä¹ˆé€‰?</h3>























<table><thead><tr><th>å¹³å°</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th><th>é€‚åˆäººç¾¤</th></tr></thead><tbody><tr><td><strong>Vercel</strong></td><td>è¯†åˆ«Astroè‡ªåŠ¨é…ç½®<br/>è¾¹ç¼˜ç½‘ç»œå¿«<br/>CI/CDä½“éªŒå¥½</td><td>å›½å†…è®¿é—®å¶å°”æ…¢</td><td>è¿½æ±‚æè‡´ä½“éªŒçš„å¼€å‘è€…</td></tr><tr><td><strong>Netlify</strong></td><td>å›½å†…è®¿é—®ç¨³å®š<br/>å…è´¹é¢åº¦å¤§<br/>æ’ä»¶ç”Ÿæ€ä¸°å¯Œ</td><td>é…ç½®ç¨å¤æ‚ä¸€ç‚¹</td><td>é¢å‘ä¸­æ–‡ç”¨æˆ·çš„åšå®¢</td></tr></tbody></table>
<p>æˆ‘çš„å»ºè®®:<strong>å…ˆç”¨Vercelè¯•è¯•,å¦‚æœå›½å†…è®¿é—®æ…¢å†æ¢Netlify</strong>ã€‚ä¸¤ä¸ªå¹³å°éƒ½æ”¯æŒè‡ªåŠ¨éƒ¨ç½²,ä½ å¾€GitHubæ¨é€ä»£ç å,å®ƒä»¬ä¼šè‡ªåŠ¨æ„å»ºå’Œæ›´æ–°ç½‘ç«™,éå¸¸æ–¹ä¾¿ã€‚</p>
<h3 data-id="heading-30">è‡ªåŠ¨éƒ¨ç½²çš„é­”æ³•</h3>
<p>ç°åœ¨ä½ åªéœ€è¦:</p>
<ol>
<li>åœ¨æœ¬åœ°å†™å¥½æ–‡ç« (Markdownæ–‡ä»¶)</li>
<li><code>git add .</code> â†’ <code>git commit -m "æ–°æ–‡ç« "</code> â†’ <code>git push</code></li>
<li>ç­‰2åˆ†é’Ÿ,æ–‡ç« å°±è‡ªåŠ¨å‘å¸ƒåˆ°ç½‘ç«™äº†</li>
</ol>
<p>ä¸éœ€è¦ç™»å½•æœåŠ¡å™¨,ä¸éœ€è¦æ‰‹åŠ¨æ„å»º,ä¸éœ€è¦ä¸Šä¼ æ–‡ä»¶ã€‚è¿™å°±æ˜¯ç°ä»£åŒ–éƒ¨ç½²çš„é­”åŠ›,ç¬¬ä¸€æ¬¡ä½“éªŒçš„æ—¶å€™æˆ‘çœŸçš„æƒŠåˆ°äº†ã€‚</p>
<h2 data-id="heading-31">ç¬¬ä¸ƒç« :å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ(è¸©è¿‡çš„å‘å¸®ä½ é¿å¼€)</h2>
<p>è¿™éƒ¨åˆ†æ˜¯æˆ‘å’Œç¤¾åŒºé‡Œå…¶ä»–äººçœŸå®è¸©è¿‡çš„å‘,æå‰çŸ¥é“èƒ½å¸®ä½ çœä¸å°‘æ—¶é—´ã€‚</p>
<h3 data-id="heading-32">é—®é¢˜1:Tailwindæ ·å¼ä¸ç”Ÿæ•ˆ</h3>
<p><strong>ç—‡çŠ¶</strong>:å†™äº†Tailwindç±»å,ä½†é¡µé¢ä¸Šæ²¡æ•ˆæœã€‚</p>
<p><strong>åŸå› </strong>:<code>tailwind.config.mjs</code> çš„ <code>content</code> è·¯å¾„é…ç½®ä¸å¯¹,Tailwindæ²¡æ‰«æåˆ°ä½ çš„æ–‡ä»¶ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>æ‰“å¼€ <code>tailwind.config.mjs</code>,ç¡®ä¿ <code>content</code> æ•°ç»„åŒ…å«äº†æ‰€æœ‰éœ€è¦æ‰«æçš„æ–‡ä»¶:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">content</span>: [
    <span class="hljs-string">'./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}'</span>,
  ],
  <span class="hljs-attr">theme</span>: {
    <span class="hljs-attr">extend</span>: {},
  },
  <span class="hljs-attr">plugins</span>: [],
}
</code></pre>
<p>æ”¹å®Œåé‡å¯å¼€å‘æœåŠ¡å™¨(<code>Ctrl+C</code> åœæ­¢,å† <code>npm run dev</code>)ã€‚</p>
<h3 data-id="heading-33">é—®é¢˜2:æ„å»ºæ—¶æŠ¥é”™"Invalid frontmatter"</h3>
<p><strong>ç—‡çŠ¶</strong>:æœ¬åœ°è¿è¡Œæ­£å¸¸,ä½† <code>npm run build</code> æ—¶æŠ¥é”™ã€‚</p>
<p><strong>åŸå› </strong>:Markdownæ–‡ç« çš„frontmatteræ ¼å¼ä¸å¯¹,æˆ–è€…ç¼ºå°‘å¿…éœ€å­—æ®µã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>æ£€æŸ¥ <code>src/content/config.ts</code>(å¦‚æœæœ‰çš„è¯),çœ‹çœ‹å®šä¹‰äº†å“ªäº›å¿…éœ€å­—æ®µã€‚Blogæ¨¡æ¿ä¸€èˆ¬è¦æ±‚:</p>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-meta">---
</span>
<span class="hljs-attr">title:</span> <span class="hljs-string">'æ–‡ç« æ ‡é¢˜'</span>           <span class="hljs-comment"># å¿…éœ€</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">'æ–‡ç« æè¿°'</span>     <span class="hljs-comment"># å¿…éœ€</span>
<span class="hljs-attr">pubDate:</span> <span class="hljs-string">'Dec 02 2025'</span>     <span class="hljs-comment"># å¿…éœ€,æ³¨æ„æ—¥æœŸæ ¼å¼</span>
<span class="hljs-attr">tags:</span> [<span class="hljs-string">'æ ‡ç­¾1'</span>, <span class="hljs-string">'æ ‡ç­¾2'</span>]   <span class="hljs-comment"># å¯é€‰</span>

<span class="hljs-meta">---

</span></code></pre>
<p>ç”¨Content Collectionsçš„å¥½å¤„å°±æ˜¯è¿™ä¸ªâ€”â€”å®ƒä¼šåœ¨æ„å»ºæ—¶æ ¡éªŒ,é¿å…çº¿ä¸Šå‡ºé—®é¢˜ã€‚</p>
<h3 data-id="heading-34">é—®é¢˜3:éƒ¨ç½²å404,æœ¬åœ°æ­£å¸¸</h3>
<p><strong>ç—‡çŠ¶</strong>:æœ¬åœ°å¼€å‘ä¸€åˆ‡æ­£å¸¸,éƒ¨ç½²åˆ°Vercel/Netlifyåè®¿é—®æ–‡ç« é¡µé¢æ˜¾ç¤º404ã€‚</p>
<p><strong>åŸå› </strong>:<code>astro.config.mjs</code> é‡Œçš„ <code>base</code> è·¯å¾„é…ç½®é”™è¯¯,æˆ–è€… <code>site</code> æ²¡é…ç½®ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>ç¡®ä¿é…ç½®æ–‡ä»¶é‡Œæœ‰:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">site</span>: <span class="hljs-string">'https://ä½ çš„åŸŸå.com'</span>,  <span class="hljs-comment">// å¿…é¡»é…ç½®</span>
  <span class="hljs-comment">// base: '/blog',  // åªæœ‰å­ç›®å½•éƒ¨ç½²æ‰éœ€è¦</span>
});
</code></pre>
<p>å¦‚æœä½ çš„åšå®¢ä¸æ˜¯éƒ¨ç½²åœ¨å­ç›®å½•(æ¯”å¦‚ <code>xxx.com/blog</code>),å°±ä¸è¦è®¾ç½® <code>base</code>ã€‚</p>
<h3 data-id="heading-35">é—®é¢˜4:å›¾ç‰‡åŠ è½½å¾ˆæ…¢</h3>
<p><strong>ç—‡çŠ¶</strong>:æ–‡ç« é‡Œçš„å›¾ç‰‡åŠ è½½æ…¢,å½±å“ä½“éªŒã€‚</p>
<p><strong>åŸå› </strong>:æ²¡ç”¨Astroçš„Imageç»„ä»¶ä¼˜åŒ–,æˆ–è€…å›¾ç‰‡æœ¬èº«å¤ªå¤§ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<ol>
<li><strong>ä½¿ç”¨Imageç»„ä»¶</strong>(æ¨è):</li>
</ol>
<pre><code class="hljs language-astro" lang="astro">
---

import { Image } from 'astro:assets';

---

&lt;Image src="/images/photo.jpg" alt="æè¿°" width={800} height={600} /&gt;
</code></pre>
<ol start="2">
<li>
<p><strong>å‹ç¼©å›¾ç‰‡</strong>:ç”¨TinyPNGæˆ–Squoosh.appå‹ç¼©åå†ä¸Šä¼ </p>
</li>
<li>
<p><strong>ä½¿ç”¨CDN</strong>:æŠŠå›¾ç‰‡æ”¾åˆ°å›¾åºŠ(æ¯”å¦‚Cloudinaryã€Imgur),ç”¨CDNé“¾æ¥å¼•ç”¨</p>
</li>
</ol>
<h3 data-id="heading-36">é—®é¢˜5:ä»£ç å—æ²¡æœ‰è¯­æ³•é«˜äº®</h3>
<p><strong>ç—‡çŠ¶</strong>:Markdowné‡Œçš„ä»£ç å—æ˜¾ç¤ºçº¯æ–‡æœ¬,æ²¡æœ‰é¢œè‰²ã€‚</p>
<p><strong>åŸå› </strong>:ä¸»é¢˜æ²¡é…ç½®,æˆ–è€…Shikiæ’ä»¶æœ‰é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>åœ¨ <code>astro.config.mjs</code> é‡Œé…ç½®ä»£ç é«˜äº®ä¸»é¢˜:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">shikiConfig</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'github-dark'</span>,  <span class="hljs-comment">// æˆ–è€… 'dracula', 'nord' ç­‰</span>
    },
  },
});
</code></pre>
<p>Blogæ¨¡æ¿ä¸€èˆ¬è‡ªå¸¦Shiki,å¦‚æœè¿˜æ˜¯ä¸è¡Œ,è¯•è¯•é‡è£…ä¾èµ–:<code>rm -rf node_modules &amp;&amp; npm install</code>ã€‚</p>
<h3 data-id="heading-37">é—®é¢˜6:å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ…¢</h3>
<p><strong>ç—‡çŠ¶</strong>:<code>npm run dev</code> ç­‰åŠå¤©æ‰å¯åŠ¨ã€‚</p>
<p><strong>åŸå› </strong>:æ–‡ç« å¤ªå¤š,æˆ–è€…å®‰è£…äº†å¤ªå¤šæ’ä»¶ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<ul>
<li>åˆ æ‰ <code>node_modules</code> å’Œ <code>package-lock.json</code>,é‡æ–°å®‰è£…</li>
<li>å‡å°‘ä¸å¿…è¦çš„æ’ä»¶</li>
<li>å‡çº§åˆ°æœ€æ–°ç‰ˆAstro(<code>npm install astro@latest</code>)</li>
</ul>
<p>Astro 5.xç‰ˆæœ¬å¯åŠ¨é€Ÿåº¦æœ‰å¤§å¹…ä¼˜åŒ–,å¦‚æœä½ è¿˜åœ¨ç”¨4.x,å»ºè®®å‡çº§ã€‚</p>
<p>è¯´äº†è¿™ä¹ˆå¤š,å…¶å®å¤§éƒ¨åˆ†é—®é¢˜ä½ å¯èƒ½éƒ½ä¸ä¼šé‡åˆ°ã€‚ä½†ä¸‡ä¸€é‡åˆ°äº†,å›æ¥ç¿»ç¿»è¿™ç« ,èƒ½å¸®ä½ å¿«é€Ÿå®šä½ã€‚æˆ‘å½“æ—¶å°±æ˜¯åœ¨è¿™äº›å‘é‡Œæµªè´¹äº†ä¸å°‘æ—¶é—´,ç°åœ¨æŠŠç»éªŒåˆ†äº«ç»™ä½ ã€‚</p>
<h2 data-id="heading-38">ç»“è®º</h2>
<p>å¦‚æœä½ è·Ÿç€è¿™ç¯‡æ•™ç¨‹èµ°åˆ°è¿™é‡Œ,æ­å–œä½ !ä½ ç°åœ¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜ç§€ã€å¯ä»¥ç›´æ¥ä½¿ç”¨çš„Astroåšå®¢ã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä½ å®ç°äº†ä»€ä¹ˆ:</p>
<p>âœ… <strong>å®Œæ•´çš„åšå®¢ç³»ç»Ÿ</strong>:é¦–é¡µå±•ç¤ºã€æ–‡ç« åˆ—è¡¨ã€è¯¦æƒ…é¡µã€æ ‡ç­¾åˆ†ç±»ã€RSSè®¢é˜…
âœ… <strong>SEOä¼˜åŒ–</strong>:Metaæ ‡ç­¾ã€Sitemapã€æ€§èƒ½ä¼˜åŒ–,è®©ä½ çš„å†…å®¹æ›´å®¹æ˜“è¢«æœåˆ°
âœ… <strong>ç°ä»£åŒ–éƒ¨ç½²</strong>:è‡ªåŠ¨CI/CD,æ¨é€ä»£ç å³å‘å¸ƒ,ä¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤æœåŠ¡å™¨
âœ… <strong>ä¼˜ç§€çš„æ€§èƒ½</strong>:Lighthouse 95+è¯„åˆ†,0.8ç§’é¦–å±åŠ è½½,ç”¨æˆ·ä½“éªŒæ‹‰æ»¡</p>
<p>æ›´é‡è¦çš„æ˜¯,ä½ ç†è§£äº†Astroçš„æ ¸å¿ƒç†å¿µâ€”â€”<strong>å†…å®¹ä¼˜å…ˆ,æ€§èƒ½è‡³ä¸Š</strong>ã€‚è¿™ç§æ€è·¯ä¸ä»…é€‚ç”¨äºåšå®¢,ä¹Ÿèƒ½åº”ç”¨åˆ°å…¶ä»–é™æ€ç½‘ç«™é¡¹ç›®ä¸Šã€‚</p>
<p><strong>å­¦ä¹ èµ„æº</strong>(æ·±å…¥Astro):</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astro.build" target="_blank" title="https://docs.astro.build" ref="nofollow noopener noreferrer">Astroå®˜æ–¹æ–‡æ¡£</a> - æœ€æƒå¨çš„å­¦ä¹ èµ„æ–™,æœ‰ä¸­æ–‡ç‰ˆ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.astrojs.cn" target="_blank" title="https://www.astrojs.cn" ref="nofollow noopener noreferrer">Astroä¸­æ–‡ç½‘</a> - ç¤¾åŒºç»´æŠ¤çš„ä¸­æ–‡æ–‡æ¡£å’Œèµ„æº</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsatnaing%2Fastro-paper" target="_blank" title="https://github.com/satnaing/astro-paper" ref="nofollow noopener noreferrer">Astro Paper</a> - ä¼˜è´¨åšå®¢æ¨¡æ¿,SEOåšå¾—å¾ˆå¥½</li>
<li>Astro GitHubè®¨è®ºåŒº - é—®é¢˜æ±‚åŠ©å’Œç»éªŒåˆ†äº«</li>
</ul>
<p><strong>åŠ å…¥ç¤¾åŒº</strong>(ä¸è¦å­¤å†›å¥‹æˆ˜):</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fastro.build%2Fchat" target="_blank" title="https://astro.build/chat" ref="nofollow noopener noreferrer">Astro Discord</a> - å®˜æ–¹Discord,æ´»è·ƒåº¦å¾ˆé«˜</li>
<li>GitHubä¸Šæœ"awesome-astro",æœ‰å¾ˆå¤šä¼˜è´¨èµ„æºåˆé›†</li>
<li>åˆ†äº«ä½ çš„åšå®¢é“¾æ¥åˆ°Astroç¤¾åŒºçš„"Showcase"é¢‘é“,è·å¾—åé¦ˆå’Œå»ºè®®</li>
</ul>
<h3 data-id="heading-39">æœ€åæƒ³è¯´çš„è¯</h3>
<p>æ­åšå®¢è¿™ä»¶äº‹,æŠ€æœ¯åªæ˜¯ç¬¬ä¸€æ­¥,æ›´é‡è¦çš„æ˜¯<strong>æŒç»­å†™ä½œ</strong>ã€‚æˆ‘è§è¿‡å¤ªå¤šäººèŠ±ä¸€å‘¨æ—¶é—´æŠ˜è…¾åšå®¢æ¡†æ¶,ç»“æœå‘äº†ä¸¤ç¯‡æ–‡ç« å°±ä¸æ›´æ–°äº†ã€‚Astroå·²ç»å¸®ä½ æŠŠæŠ€æœ¯é—¨æ§›é™åˆ°æœ€ä½äº†,å‰©ä¸‹çš„å°±çœ‹ä½ æœ‰æ²¡æœ‰æŒç»­è¾“å‡ºçš„å†³å¿ƒã€‚</p>
<p>å¦‚æœä½ åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜,å¯ä»¥:</p>
<ol>
<li>å…ˆæŸ¥Astroå®˜æ–¹æ–‡æ¡£çš„"Troubleshooting"ç« èŠ‚</li>
<li>åœ¨GitHubä»“åº“çš„Issuesé‡Œæœç´¢å…³é”®è¯</li>
<li>åˆ°Astro Discordæé—®(è‹±æ–‡ä¸ºä¸»,ä½†æœ‰ä¸­æ–‡é¢‘é“)</li>
</ol>
<p>åˆ«å®³æ€•çŠ¯é”™,æˆ‘å½“æ—¶ä¹Ÿæ˜¯æŠ˜è…¾äº†ä¸‰å¤©æ‰æŠŠç¬¬ä¸€ä¸ªAstroåšå®¢å¼„ä¸Šçº¿ã€‚ä½†ä¸€æ—¦æŒæ¡äº†,åé¢ç»´æŠ¤åšå®¢çœŸçš„è½»æ¾å¤ªå¤šäº†ã€‚</p>
<p>ç°åœ¨,æ‰“å¼€ä½ çš„å‘½ä»¤è¡Œ,å¼€å§‹ä½ çš„Astroåšå®¢ä¹‹æ—…å§!ğŸ’«</p>
<blockquote>
<p>åŸæ–‡é¦–å‘<a href="https://link.juejin.cn?target=https%3A%2F%2Feastondev.com%2Fblog%2Fzh%2Fposts%2Fdev%2F20251202-astro-blog-tutorial%2F" target="_blank" title="https://eastondev.com/blog/zh/posts/dev/20251202-astro-blog-tutorial/" ref="nofollow noopener noreferrer">è‡ªä¸ªäººåšå®¢</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ­æ€è€ƒç¬¬263å¤©ï¼Œæ¯å¤©å¤ç›˜10åˆ†é’Ÿï¼Œèƒœè¿‡ç›²ç›®åŠªåŠ›ä¸€æ•´å¹´]]></title>    <link>https://juejin.cn/post/7587312329173418038</link>    <guid>https://juejin.cn/post/7587312329173418038</guid>    <pubDate>2025-12-24T15:26:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587312329173418038" data-draft-id="7587299443643678783" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ­æ€è€ƒç¬¬263å¤©ï¼Œæ¯å¤©å¤ç›˜10åˆ†é’Ÿï¼Œèƒœè¿‡ç›²ç›®åŠªåŠ›ä¸€æ•´å¹´"/> <meta itemprop="keywords" content="Android,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T15:26:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ç æ­Œ"/> <meta itemprop="url" content="https://juejin.cn/user/764915820529831"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ­æ€è€ƒç¬¬263å¤©ï¼Œæ¯å¤©å¤ç›˜10åˆ†é’Ÿï¼Œèƒœè¿‡ç›²ç›®åŠªåŠ›ä¸€æ•´å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/764915820529831/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ç æ­Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:26:01.000Z" title="Wed Dec 24 2025 15:26:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©èŠèŠå¤ç›˜ï¼ŒçœŸæ­£çš„æˆé•¿ï¼Œä»æ¥éƒ½ä¸æ˜¯é ä½“åŠ›åŠªåŠ›çš„å †ç Œï¼Œè€Œæ˜¯é è®¤çŸ¥çš„è¿­ä»£ã€‚</p>
<p>æœ‰äº›äººå·¥ä½œ10å¹´ï¼Œåªä¸è¿‡æ˜¯ä¸€å¹´å·¥ä½œç»éªŒé‡å¤10å¹´è€Œå·²ï¼Œåœ¨è¿™ä¸ªé¼“å¹â€œå¿«â€çš„æ—¶ä»£ï¼Œç»å¤§å¤šæ•°äººçš„åŠªåŠ›å…¶å®éƒ½åœ¨åŸåœ°æ‰“è½¬ã€‚</p>
<p>è¯•è¯•å¤šå¤ç›˜ï¼Œå¤ç›˜æœ‰ä»€ä¹ˆç”¨ï¼Ÿä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ï¼Œå°±åƒä½ åœ¨æ ‘æ—èµ°è·¯ï¼Œèµ°è¿‡ä¸€æ¬¡çš„è·¯ï¼Œå¦‚æœä¸‹æ¬¡è·¯è¿‡ï¼Œä½ é‡æ–°èµ°å¦ä¸€æ¡è·¯ï¼Œé‚£ä¹ˆä¹‹å‰é‚£ä¸€æ¡è·¯å°±ä¼šè¢«æ·¹æ²¡ï¼Œå¦‚æœä½ æ¯æ¬¡è·¯è¿‡åŒä¸€æ¡è·¯æ—¶ï¼Œå¤šè¸©å‡ è„šï¼Œæˆ–è€…ç è†åˆºï¼Œé‚£ä¹ˆä¸€å¹´åï¼Œè¿™æ¡è·¯å°±ä¼šå˜æˆä¸€ä¸ªåº·åº„å¤§é“ã€‚å¤ç›˜å…¶å®å°±æ˜¯è¸©å‡ è„šæˆ–è€…ç è†åˆºï¼Œå®ƒåˆ©ç”¨çš„æ˜¯å¤§è„‘çš„çªè§¦å¯å¡‘æ€§ã€‚</p>
<p>æ€ä¹ˆåˆ¤æ–­ä½ æ˜¯ä¸æ˜¯é‚£ä¸ªéœ€è¦å¤ç›˜çš„äººï¼Ÿ</p>
<p>è‡ªæŸ¥ä¸€ä¸‹ä½ æ˜¯å¦æœ‰ä»¥ä¸‹ç—‡çŠ¶ï¼š</p>
<p>1ã€ä½ ç»å¸¸è§‰å¾—è‡ªå·±ä¸€å¤©ä¸‹æ¥å¾ˆå¿™ï¼Œä½†å¦‚æœæœ‰äººä»Šé—®ä½ ä»Šå¤©å®Œæˆäº†ä»€ä¹ˆé‡å¤§æˆæœï¼Ÿä½ æ”¯æ”¯å¾å¾å´è¯´ä¸å‡ºæ¥</p>
<p>2ã€ä½ æœ‰æ²¡æœ‰å¤šæ¬¡å› ä¸ºæŸä¸ªåŸå› å’Œé¢†å¯¼å‘ç”Ÿå†²çªï¼Œæˆ–è€…è·Ÿå®¶äººè€å©†äº‰åµ</p>
<p>3ã€å½“ä½ å‘ç°åˆ«äººå‡èŒåŠ è–ªæˆ–è€…æœ‰çˆ†æ¬¾æ–‡ç« å‘å¸ƒæˆ–è€…æ‹¿äº†ä¼˜ç§€å‘˜å·¥ï¼Œä½ é™¤äº†ç¾¡æ…•å¦’å¦’å¿Œæ¨ï¼Œå®Œå…¨æ²¡æœ‰å…¶ä»–æƒ³æ³•ï¼Œæˆ–è€…è§‰å¾—åˆ«äººçº¯ç²¹æ˜¯è¿æ°”å¥½</p>
<p>4ã€ä½ çœ‹äº†æ— æ•°çš„æ–‡ç« ï¼Œæ”¶è—äº†æ— æ•°çš„å¹²è´§ï¼Œä½†ç”Ÿæ´»å´æ²¡æœ‰ä¸€ç‚¹å˜å¥½ï¼Œåè€Œç„¦è™‘è¶Šæ¥è¶Šé‡</p>
<p>5ã€ä¸€æ—¦æœ‰é›¶ç¢æ—¶é—´é—²ä¸‹æ¥ï¼Œå¿…é¡»çœ‹è§†é¢‘ã€åˆ·æ‰‹æœºï¼Œä¸æ•¢é¢å¯¹è‡ªå·±çš„å†…å¿ƒç©ºç™½</p>
<p>è¿™äº›ç—‡çŠ¶å¯ä»¥è¯´æ˜ä¸€ä»¶äº‹ï¼Œä½ çš„å¤§è„‘å¯èƒ½æ˜¯åœ¨ç©ºè½¬ï¼Œæ²¡æœ‰åšåˆ°æ·±åº¦æ€è€ƒã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©å°±èŠåˆ°è¿™å§ï¼Œæ˜å¤©ç»§ç»­èŠä¸€ä¸‹åº”è¯¥å¦‚ä½•å¤ç›˜ï¼Ÿæ™šå®‰ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­—èŠ‚è·³åŠ¨æ·±å¤œäº¤å·ï¼šæ•°å­¦é‡‘ç‰Œæ‹¿åˆ°æ‰‹è½¯ï¼ŒSeed Prover 1.5å¼ºåœ¨å“ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7587263750248955955</link>    <guid>https://juejin.cn/post/7587263750248955955</guid>    <pubDate>2025-12-24T15:30:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587263750248955955" data-draft-id="7587246055458029595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­—èŠ‚è·³åŠ¨æ·±å¤œäº¤å·ï¼šæ•°å­¦é‡‘ç‰Œæ‹¿åˆ°æ‰‹è½¯ï¼ŒSeed Prover 1.5å¼ºåœ¨å“ªï¼Ÿ"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-24T15:30:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­—èŠ‚è·³åŠ¨æ·±å¤œäº¤å·ï¼šæ•°å­¦é‡‘ç‰Œæ‹¿åˆ°æ‰‹è½¯ï¼ŒSeed Prover 1.5å¼ºåœ¨å“ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:30:20.000Z" title="Wed Dec 24 2025 15:30:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿˜è®°å¾—å»å¹´å¤§å®¶è¿˜åœ¨è®¨è®ºå¤§æ¨¡å‹åšå°å­¦å¥¥æ•°é¢˜èƒ½ä¸èƒ½åŠæ ¼å—ï¼Ÿå°±åœ¨2025å¹´çš„å¹³å®‰å¤œï¼Œå­—èŠ‚è·³åŠ¨Seedå›¢é˜Ÿç”©å‡ºäº†ä¸€ä¸ªé‡ç£…ç‚¸å¼¹ï¼šSeed Prover 1.5ã€‚</p>
<p>è¿™ä¸æ˜¯ä¸€æ¬¡æ™®é€šçš„ç‰ˆæœ¬æ›´æ–°ï¼Œè¿™æ›´åƒæ˜¯ä¸€ä¸ªåªä¼šåšé€‰æ‹©é¢˜çš„å­¦ç”Ÿï¼Œçªç„¶è¿›åŒ–æˆäº†èƒ½å†™å‡ºä¸¥è°¨è¯æ˜è¿‡ç¨‹çš„æ•°å­¦å®¶ã€‚ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªAIç°åœ¨ä¸ä»…èƒ½åšé¢˜ï¼Œè¿˜èƒ½ç”¨Leanè¯­è¨€å†™å‡ºå¯è¢«è®¡ç®—æœºç¼–è¯‘éªŒè¯çš„ä»£ç ï¼Œç›´æ¥æŠŠä»æœ¬ç§‘åˆ°åšå£«éš¾åº¦çš„æ•°å­¦é¢˜â€œæ‹¿æâ€äº†ã€‚</p>
<p>ä½œä¸ºä¸€åé•¿æœŸå…³æ³¨AIè¿›åŒ–çš„è§‚å¯Ÿè€…ï¼Œçœ‹å®Œä»–ä»¬çš„æŠ€æœ¯æŠ¥å‘Šï¼Œæˆ‘æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼šAIè§£é¢˜çš„é€»è¾‘å˜äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasfds-1024x570.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asfds-1024x570.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08ce9ad3ae73436186319611c1fe973d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767195020&amp;x-signature=olWFmiBVZy1mLeyF6%2F5tBLfUiGs%3D" alt="asfds" loading="lazy"/></a></p>
<h3 data-id="heading-0">å“ªæ€•æ˜¯é™¶å“²è½©çœ‹äº†ä¹Ÿè¦æ„£ä¸€ä¸‹çš„æˆ˜ç»©</h3>
<p>å…ˆåˆ«ç®¡æŠ€æœ¯ç»†èŠ‚ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è¿™ä¸œè¥¿åˆ°åº•æœ‰å¤šå¼ºã€‚</p>
<p>å›¢é˜Ÿæ‹¿å®ƒå»è·‘äº†2025å¹´çš„å›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ï¼ˆIMOï¼‰çœŸé¢˜ã€‚ç»“æœæ˜¯ï¼Œåœ¨å‰5é“é¢˜é‡Œï¼Œå®ƒæ‹¿ä¸‹äº†35åˆ†ï¼ˆæ»¡åˆ†42ï¼‰ã€‚è¿™ä¸ªåˆ†æ•°æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€å®ƒå·²ç»ç¨³ç¨³åœ°æ‹¿åˆ°äº†é‡‘ç‰Œã€‚è€Œä¸”ï¼Œå®ƒä¸æ˜¯é‚£ç§â€œæˆ‘è§‰å¾—ç­”æ¡ˆæ˜¯Xâ€çš„æ¨¡ç³Šå›ç­”ï¼Œè€Œæ˜¯åœ¨16.5å°æ—¶å†…ï¼Œç”Ÿæˆäº†å®Œæ•´ã€å¯è¿è¡Œã€é€»è¾‘æ— æ‡ˆå¯å‡»çš„Leanè¯æ˜ä»£ç ã€‚</p>
<p>å†çœ‹è¢«ç§°ä¸ºâ€œåŒ—ç¾æœ€éš¾æœ¬ç§‘æ•°å­¦ç«èµ›â€çš„Putnamç«èµ›ã€‚2025å¹´çš„12é“èµ›é¢˜ï¼Œå®ƒæå®šäº†11é“ï¼Œè€—æ—¶ä¸åˆ°9å°æ—¶ã€‚è€Œåœ¨Putnamçš„å†å²é¢˜åº“é‡Œï¼Œå®ƒçš„è§£å†³ç‡é£™åˆ°äº†88%ï¼Œåˆ·æ–°äº†ç›®å‰çš„ä¸–ç•Œæœ€ä½³çºªå½•ã€‚</p>
<p>æ›´æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨ä»£è¡¨ç¡•å£«éš¾åº¦çš„Fate-Hæµ‹è¯•é›†ä¸­ï¼Œå®ƒçš„è§£å†³ç‡æ˜¯80%ï¼›åˆ°äº†åšå£«éš¾åº¦çš„Fate-Xï¼Œè™½ç„¶é™åˆ°äº†33%ï¼Œä½†ä¹Ÿè¶³ä»¥è®©å¾ˆå¤šåœ¨è¯¥é¢†åŸŸæ‘¸çˆ¬æ»šæ‰“çš„äººç±»ç ”ç©¶å‘˜æ„Ÿåˆ°èƒŒè„Šå‘å‡‰ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fwefesd-838x1024.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/wefesd-838x1024.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d7a2648ddd14453a55d4eecbf3a65c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767195020&amp;x-signature=lD2g%2BzCE7Cz%2BjP4KYkrPKkK8Fak%3D" alt="wefesd" loading="lazy"/></a></p>
<h3 data-id="heading-1">ä¸å†æ˜¯â€œççŒœâ€ï¼Œè€Œæ˜¯åƒäººä¸€æ ·æ€è€ƒ</h3>
<p>ä»¥å‰çš„å¤§æ¨¡å‹åšæ•°å­¦é¢˜ï¼Œå¾ˆå¤šæ—¶å€™åƒæ˜¯åœ¨â€œèƒŒé¢˜åº“â€æˆ–è€…â€œæ–‡å­—æ¥é¾™â€ï¼Œä¸€æ—¦é€»è¾‘é“¾æ¡å¤ªé•¿ï¼Œå®ƒå°±å¼€å§‹èƒ¡è¨€ä¹±è¯­ã€‚</p>
<p>Seed Prover 1.5 çš„æ ¸å¿ƒçªç ´åœ¨äºï¼Œå®ƒæ¢äº†ä¸€ç§æ´»æ³•ã€‚å­—èŠ‚è·³åŠ¨è¿™æ¬¡æå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ¶æ„ï¼Œå« <strong>Agentic Prover</strong>ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªååœ¨å›¾ä¹¦é¦†é‡Œçš„ç ”ç©¶å‘˜ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåªä¼šç­”é¢˜çš„æœºå™¨ã€‚</p>
<p><strong>é¦–å…ˆï¼Œå®ƒå­¦ä¼šäº†ç”¨å·¥å…·ã€‚</strong> ä»¥å‰çš„æ¨¡å‹æ˜¯ä¸€å£æ°”æŠŠç­”æ¡ˆæ†‹å‡ºæ¥ï¼Œæ†‹é”™äº†å°±å®Œäº†ã€‚Seed Prover 1.5 ä¸ä¸€æ ·ï¼Œå®ƒæŠŠè‡ªå·±å½“æˆä¸€ä¸ªæ™ºèƒ½ä½“ï¼ˆAgentï¼‰ã€‚åœ¨è¯æ˜è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šå»æŸ¥é˜…æ•°å­¦åº“ï¼ˆMathlibï¼‰ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ç°æˆçš„å®šç†å¯ä»¥ç”¨ï¼›å®ƒç”šè‡³ä¼šå†™ä¸€æ®µPythonä»£ç æ¥éªŒè¯è‡ªå·±çš„æŸä¸ªçŒœæƒ³å¯¹ä¸å¯¹ã€‚è¿™ç§â€œå¢é‡å¼â€çš„è§£é¢˜æ–¹å¼ï¼Œå…è®¸å®ƒä¸€æ­¥æ­¥æ­å»ºè¯æ˜çš„å¤§å¦ï¼Œè€Œä¸æ˜¯è¯•å›¾ä¸€æ­¥ç™»å¤©ã€‚</p>
<p><strong>å…¶æ¬¡ï¼Œå®ƒæœ‰äº†â€œç›´è§‰â€ã€‚</strong> æ•°å­¦è¯æ˜æœ€éš¾çš„æ˜¯ä»è‡ªç„¶è¯­è¨€çš„â€œæ€è·¯â€åˆ°å½¢å¼åŒ–ä»£ç çš„â€œè½åœ°â€ã€‚å›¢é˜Ÿç»™å®ƒè£…äº†ä¸€ä¸ªâ€œSketch Modelï¼ˆè‰å›¾æ¨¡å‹ï¼‰â€ã€‚è¿™å°±å¥½æ¯”äººç±»æ•°å­¦å®¶è§£é¢˜æ—¶ï¼Œå…ˆåœ¨è‰ç¨¿çº¸ä¸Šç”»å‡ºå¤§æ¦‚çš„æ€è·¯æ¡†æ¶ï¼Œæœ‰äº†è¿™ä¸ªç›´è§‰å¼•è·¯ï¼Œå†æŠŠå¤æ‚çš„å‘½é¢˜æ‹†è§£æˆä¸€ä¸ªä¸ªå°é—®é¢˜ï¼Œæœ€åæ‰å»å†™é‚£äº›ä¸¥è°¨æ¯ç‡¥çš„ä»£ç ã€‚</p>
<p><strong>æœ€åï¼Œå®ƒæ˜¯è¢«â€œéª‚â€å‡ºæ¥çš„ã€‚</strong> è®­ç»ƒè¿™ä¸ªæ¨¡å‹ç”¨çš„æ˜¯å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ ã€‚å®ƒçš„è€å¸ˆæ˜¯é“é¢æ— ç§çš„Leanç¼–è¯‘å™¨ã€‚ä»£ç å†™å¯¹äº†å°±æ˜¯å¯¹ï¼Œå†™é”™äº†å°±æ˜¯é”™ï¼Œæ²¡æœ‰ä¸­é—´åœ°å¸¦ã€‚åœ¨è¿™ç§ç»å¯¹å®¢è§‚çš„åé¦ˆä¸‹ï¼Œæ¨¡å‹åœ¨æ•°ç™¾ä¸‡æ¬¡çš„å°è¯•ä¸­ï¼Œç¡¬ç”Ÿç”ŸæŠŠè§£é¢˜æˆåŠŸç‡ä»50%ç»ƒåˆ°äº†90%ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fwefwerger-1024x180.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/wefwerger-1024x180.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/613a25b3b713425dad098d457edbd585~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767195020&amp;x-signature=ItYtCo2ozjl7XIceLedF0Kce5jc%3D" alt="wefwerger" loading="lazy"/></a></p>
<h3 data-id="heading-2">è¿˜æ˜¯æœ‰å±€é™ï¼Œä½†æœªæ¥å·²æ¥</h3>
<p>å½“ç„¶ï¼Œè¦æŠŠå®ƒå¹æˆâ€œæ•°å­¦ä¹‹ç¥â€è¿˜ä¸ºæ—¶å°šæ—©ã€‚</p>
<p>Seedå›¢é˜Ÿè‡ªå·±ä¹Ÿå¾ˆè¯šå®ï¼Œä»–ä»¬åœ¨æŠ¥å‘Šé‡Œå¦è¨€ï¼Œç›®å‰çš„Seed Prover 1.5 è¿˜æ˜¯ä¸ªâ€œç«èµ›å‹é€‰æ‰‹â€ã€‚å®ƒæœ€æ“…é•¿çš„æ˜¯é‚£äº›è§„åˆ™æ¸…æ™°ã€èƒŒæ™¯å°é—­çš„ç«èµ›é¢˜ã€‚å¦‚æœä½ æ‰”ç»™å®ƒä¸€ç¯‡å‡ åé¡µçš„å‰æ²¿æ•°å­¦æ–‡çŒ®ï¼Œè®©å®ƒåŸºäºæ­¤è¿›è¡Œé•¿é“¾æ¡çš„å¤æ‚æ¨ç†ï¼Œå®ƒå¯èƒ½è¿˜æ˜¯ä¼šæ‡µåœˆã€‚</p>
<p>ä½†è¿™å¹¶ä¸å¦¨ç¢å®ƒçš„é‡Œç¨‹ç¢‘æ„ä¹‰ã€‚</p>
<p>å®ƒè¯æ˜äº†æœºå™¨ä¸å†ä»…ä»…æ˜¯è¯­è¨€çš„æ¨¡ä»¿è€…ï¼Œè€Œæ˜¯å¼€å§‹å…·å¤‡äº†ä¸¥è°¨é€»è¾‘çš„æ¢ç´¢èƒ½åŠ›ã€‚å½“AIå¼€å§‹å­¦ä¼šåƒæ•°å­¦å®¶ä¸€æ ·æŸ¥èµ„æ–™ã€å†™è‰ç¨¿ã€éªŒè¯çŒœæƒ³ï¼Œå¹¶æœ€ç»ˆç»™å‡ºä¸€æ®µå¯ç¼–è¯‘çš„è¯æ˜ä»£ç æ—¶ï¼Œæˆ‘ä»¬è·ç¦»é‚£ä¸ªèƒ½åœ¨ç§‘ç ”é¢†åŸŸè¾…åŠ©äººç±»çªç ´æœªçŸ¥çš„AIåŠ©æ‰‹ï¼Œå…¶å®å·²ç»ä¸è¿œäº†ã€‚</p>
<p>å¯¹äºæ•°å­¦ç³»çš„å­¦ç”Ÿå’ŒAIç ”ç©¶è€…æ¥è¯´ï¼ŒSeed Prover 1.5 çš„APIåç»­å¼€æ”¾ï¼Œç»å¯¹æ˜¯ä¸€ä¸ªå€¼å¾—ç¬¬ä¸€æ—¶é—´å»æ’é˜Ÿä½“éªŒçš„å¤§äº‹ä»¶ã€‚æ¯•ç«Ÿï¼Œè°ä¸æƒ³çœ‹çœ‹è¿™ä¸ªæ‹¿äº†IMOé‡‘ç‰Œçš„â€œç¡…åŸºå¤§è„‘â€ï¼Œåˆ°åº•æ˜¯æ€ä¹ˆæ€è€ƒçš„å‘¢ï¼Ÿ</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenAIæ¥å£æ€»æ˜¯è¶…æ—¶ï¼Ÿç”¨Workersæ­å»ºç§äººé€šé“ï¼Œ0æˆæœ¬æ›´ç¨³å®š]]></title>    <link>https://juejin.cn/post/7587264707284353034</link>    <guid>https://juejin.cn/post/7587264707284353034</guid>    <pubDate>2025-12-24T15:36:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587264707284353034" data-draft-id="7587246055458062363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenAIæ¥å£æ€»æ˜¯è¶…æ—¶ï¼Ÿç”¨Workersæ­å»ºç§äººé€šé“ï¼Œ0æˆæœ¬æ›´ç¨³å®š"/> <meta itemprop="keywords" content="OpenAI"/> <meta itemprop="datePublished" content="2025-12-24T15:36:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯æ›´å¥½è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/2735240657517816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenAIæ¥å£æ€»æ˜¯è¶…æ—¶ï¼Ÿç”¨Workersæ­å»ºç§äººé€šé“ï¼Œ0æˆæœ¬æ›´ç¨³å®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2735240657517816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯æ›´å¥½è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:36:53.000Z" title="Wed Dec 24 2025 15:36:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36c913b1b9d74f8f8dc36119735553dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5pu05aW96K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767195413&amp;x-signature=9v5qFnmnDz5%2BvMStmunAbqsbx8Q%3D" alt="4.jpg" loading="lazy"/></p>
<h3 data-id="heading-0">å¼•è¨€</h3>
<p>ä¸Šå‘¨æƒ³å¼€å‘ä¸€ä¸ªChatGPTåº”ç”¨ç©ç©ï¼Œå†™å®Œå‰ç«¯ä»£ç å…´å†²å†²åœ°è°ƒAPIï¼Œç»“æœè¿æ¥è¶…æ—¶ã€‚è¯•äº†å‡ æ¬¡è¿˜æ˜¯ä¸è¡Œï¼Œæ‰ååº”è¿‡æ¥â€”â€”OpenAIåœ¨å›½å†…å‹æ ¹è®¿é—®ä¸äº†ã€‚
è¯´å®è¯ï¼Œè¿™ç§è¢«ç½‘ç»œæ‹¦ä½çš„æ„Ÿè§‰çœŸçš„å¾ˆéš¾å—ã€‚è¯•è¿‡æ·˜å®ä¹°çš„ä»£ç†æœåŠ¡ï¼Œæ€»æ‹…å¿ƒä¸é è°±ï¼ŒAPI Keyä¸‡ä¸€æ³„éœ²å°±å®Œäº†ã€‚ä¹Ÿæƒ³è¿‡è‡ªå·±ä¹°VPSæ­å»ºï¼Œä½†ç®—äº†ç®—æˆæœ¬ï¼Œä¸€ä¸ªæœˆæœ€ä¾¿å®œä¹Ÿè¦å‡ åå—,å…³é”®è¿˜è¦æŠ˜è…¾æœåŠ¡å™¨é…ç½®å’Œç»´æŠ¤ï¼Œæƒ³æƒ³å°±å¤´å¤§ã€‚
åæ¥å‘ç°Cloudflare Workersè¿™ä¸ªæ–¹æ¡ˆï¼Œå®Œå…¨ä¸èŠ±é’±ï¼Œ5åˆ†é’Ÿå°±èƒ½æå®šã€‚ç”¨äº†ä¸¤ä¸ªå¤šæœˆï¼Œæ„Ÿè§‰çœŸé¦™â€”â€”ä¸ä»…ç¨³å®šï¼Œé€Ÿåº¦è¿˜æ¯”å¾ˆå¤šä»˜è´¹ä»£ç†å¿«ã€‚è¿™ç¯‡æ–‡ç« å°±æŠŠå®Œæ•´çš„æ­å»ºè¿‡ç¨‹åˆ†äº«ç»™ä½ ï¼Œé™„å¸¦å¯ä»¥ç›´æ¥ç”¨çš„ä»£ç ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹©Cloudflare Workersï¼Ÿ</h2>
<p>&lt;StatsGrid stats={[
{ value: "10ä¸‡æ¬¡/å¤©", label: "å…è´¹è¯·æ±‚é¢åº¦" },
{ value: "300+", label: "å…¨çƒCDNèŠ‚ç‚¹" },
{ value: "5åˆ†é’Ÿ", label: "å®Œæ•´éƒ¨ç½²æ—¶é—´" }
]} source="Cloudflareå®˜æ–¹æ•°æ®" /&gt;</p>
<h3 data-id="heading-2">é›¶æˆæœ¬ï¼Œå¯¹ä¸ªäººå¼€å‘è€…å¤Ÿç”¨</h3>
<p>Workersçš„å…è´¹è®¡åˆ’æ¯å¤©ç»™ä½ 10ä¸‡æ¬¡è¯·æ±‚é¢åº¦ï¼Œæ¯åˆ†é’Ÿ1000æ¬¡ã€‚ä½ å¯èƒ½ä¼šæƒ³ï¼Œå…è´¹çš„èƒ½å¥½ç”¨å—ï¼Ÿæˆ‘ä¸€å¼€å§‹ä¹Ÿè¿™ä¹ˆæƒ³ã€‚ä½†å®é™…ç”¨ä¸‹æ¥å‘ç°ï¼Œå¯¹äºä¸ªäººå¼€å‘ã€å­¦ä¹ æˆ–è€…å°é¡¹ç›®æ¥è¯´ï¼Œè¿™ä¸ªé¢åº¦å®Œå…¨å¤Ÿç”¨ã€‚
ç®—ç¬”è´¦ï¼šå‡è®¾ä½ å¹³å‡æ¯æ¬¡è¯·æ±‚è€—æ—¶2ç§’ï¼Œä¸€å¤©å·¥ä½œ8å°æ—¶ä¸é—´æ–­è°ƒç”¨ï¼Œä¹Ÿå°±2000å¤šæ¬¡ã€‚10ä¸‡æ¬¡çš„é¢åº¦ï¼Œä½ å¾—è¿ç»­ç”¨å¥½å‡ å¤©æ‰èƒ½ç”¨å®Œã€‚</p>
<h3 data-id="heading-3">ä¸ç”¨ä¹°æœåŠ¡å™¨ï¼Œçœå¿ƒ</h3>
<p>ä¼ ç»Ÿæ–¹æ¡ˆéœ€è¦ä¹°VPSï¼Œç„¶åè£…Nginxé…ç½®åå‘ä»£ç†ï¼Œè¿˜è¦æ‹…å¿ƒæœåŠ¡å™¨æŒ‚æ‰ã€‚Workerså®Œå…¨ä¸éœ€è¦è¿™äº›â€”â€”Cloudflareå¸®ä½ æå®šæ‰€æœ‰åŸºç¡€è®¾æ–½ï¼Œä½ åªè¦å†™å‡ è¡Œä»£ç å°±è¡Œã€‚
è€Œä¸”Workersè¿è¡Œåœ¨Cloudflareçš„å…¨çƒCDNç½‘ç»œä¸Šï¼Œç†è®ºä¸Šæ¯”ä½ è‡ªå·±æ­çš„å•å°æœåŠ¡å™¨è¿˜å¿«ã€‚æ¯•ç«ŸCloudflareåœ¨å…¨çƒ300å¤šä¸ªåŸå¸‚éƒ½æœ‰èŠ‚ç‚¹ã€‚</p>
<h3 data-id="heading-4">å¤©ç„¶ä¿æŠ¤APIå¯†é’¥</h3>
<p>è¿™ç‚¹ç‰¹åˆ«é‡è¦ã€‚å¦‚æœä½ åœ¨å‰ç«¯ç›´æ¥è°ƒOpenAI APIï¼Œå¯†é’¥è‚¯å®šä¼šæš´éœ²åœ¨æµè§ˆå™¨é‡Œï¼Œä»»ä½•äººæ‰“å¼€å¼€å‘è€…å·¥å…·å°±èƒ½çœ‹åˆ°ã€‚æœ‰äº†Workersåšä¸­é—´å±‚ï¼Œå‰ç«¯åªè°ƒç”¨ä½ çš„Workeråœ°å€ï¼ŒçœŸæ­£çš„API Keyå®‰å…¨åœ°å­˜åœ¨Cloudflareçš„ç¯å¢ƒå˜é‡é‡Œã€‚</p>
<h3 data-id="heading-5">2025å¹´çš„æ–°ç¦åˆ©</h3>
<p>å¯¹äº†ï¼Œ2025å¹´8æœˆCloudflareè¿˜å’ŒOpenAIåˆä½œï¼ŒæŠŠOpenAIçš„å¼€æºæ¨¡å‹ç›´æ¥é›†æˆåˆ°Workers AIé‡Œäº†ã€‚è¿™æ„å‘³ç€é™¤äº†ä»£ç†åŸç‰ˆAPIï¼Œä½ è¿˜èƒ½ç›´æ¥ç”¨Cloudflareæä¾›çš„æ¨¡å‹ï¼Œæ¯å¤©æœ‰10,000 Neuronsçš„å…è´¹é¢åº¦ã€‚</p>
<h2 data-id="heading-6">æ­å»ºå‰çš„å‡†å¤‡å·¥ä½œ</h2>
<p>å‡†å¤‡å·¥ä½œè¶…ç®€å•ï¼Œä½ éœ€è¦ï¼š
<strong>è´¦å·å’Œèµ„æºï¼š</strong></p>
<ul>
<li>Cloudflareè´¦å·ï¼ˆå…è´¹æ³¨å†Œï¼Œå‡ åˆ†é’Ÿæå®šï¼‰</li>
<li>OpenAIæˆ–Claudeçš„API Keyï¼ˆè¿™ä¸ªä½ åº”è¯¥å·²ç»æœ‰äº†ï¼‰</li>
<li>åŸŸåï¼ˆå¯é€‰ï¼ŒWorkersä¼šç»™ä½ ä¸€ä¸ªå…è´¹çš„.workers.devå­åŸŸåï¼‰
<strong>æŠ€æœ¯è¦æ±‚ï¼š</strong></li>
<li>ä¼šä¸€ç‚¹JavaScriptå°±è¡Œï¼ˆèƒ½çœ‹æ‡‚fetchè¯·æ±‚å°±å¤Ÿäº†ï¼‰</li>
<li>äº†è§£HTTPæ˜¯æ€ä¹ˆå›äº‹
<strong>æ—¶é—´æˆæœ¬ï¼š</strong></li>
<li>é¦–æ¬¡æ­å»ºï¼š5-10åˆ†é’Ÿ</li>
<li>ç†Ÿæ‚‰åï¼š3åˆ†é’Ÿ</li>
</ul>
<h2 data-id="heading-7">å®æˆ˜ï¼š5åˆ†é’Ÿæ­å»ºOpenAIä»£ç†</h2>
<h3 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºWorker</h3>
<p>ç™»å½•Cloudflareæ§åˆ¶å°ï¼Œåœ¨å·¦ä¾§èœå•æ‰¾åˆ°"Workers &amp; Pages"ã€‚ç‚¹å‡»"Create Application"ï¼Œé€‰æ‹©"Create Worker"ã€‚
Cloudflareä¼šè‡ªåŠ¨ç»™ä½ çš„Workerèµ·ä¸ªéšæœºåå­—ï¼ˆæ¯”å¦‚aged-shadow-1234ï¼‰ï¼Œä½ å¯ä»¥æ”¹æˆè‡ªå·±æƒ³è¦çš„åå­—ï¼Œæ¯”å¦‚"openai-proxy"ã€‚ç‚¹å‡»"Deploy"éƒ¨ç½²ã€‚
è¿™æ—¶å€™ä½ å·²ç»æœ‰äº†ä¸€ä¸ªèƒ½è¿è¡Œçš„Workerï¼Œè™½ç„¶å®ƒè¿˜å•¥éƒ½ä¸åšã€‚</p>
<h3 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šå†™ä»£ç </h3>
<p>ç‚¹å‡»"Edit Code"è¿›å…¥ä»£ç ç¼–è¾‘å™¨ï¼ŒæŠŠä¸‹é¢è¿™æ®µä»£ç å¤åˆ¶è¿›å»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>);
    <span class="hljs-comment">// æ›¿æ¢åŸŸåä¸ºOpenAIçš„APIåœ°å€</span>
    url.<span class="hljs-property">hostname</span> = <span class="hljs-string">'api.openai.com'</span>;
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„è¯·æ±‚</span>
    <span class="hljs-keyword">const</span> newRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>(url, {
      <span class="hljs-attr">method</span>: request.<span class="hljs-property">method</span>,
      <span class="hljs-attr">headers</span>: request.<span class="hljs-property">headers</span>,
      <span class="hljs-attr">body</span>: request.<span class="hljs-property">body</span>
    });
    <span class="hljs-comment">// è½¬å‘è¯·æ±‚å¹¶è¿”å›å“åº”</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(newRequest);
    <span class="hljs-comment">// å¤„ç†CORSè·¨åŸŸé—®é¢˜</span>
    <span class="hljs-keyword">const</span> newResponse = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(response.<span class="hljs-property">body</span>, response);
    newResponse.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>);
    newResponse.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Methods'</span>, <span class="hljs-string">'GET, POST, PUT, DELETE, OPTIONS'</span>);
    newResponse.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Headers'</span>, <span class="hljs-string">'Content-Type, Authorization'</span>);
    <span class="hljs-keyword">return</span> newResponse;
  }
};
</code></pre>
<p>ç®€å•è§£é‡Šä¸‹è¿™æ®µä»£ç åœ¨å¹²å•¥ï¼š</p>
<ol>
<li>æ¥æ”¶å‰ç«¯å‘æ¥çš„è¯·æ±‚</li>
<li>æŠŠè¯·æ±‚åœ°å€çš„åŸŸåæ¢æˆ<code>api.openai.com</code></li>
<li>æŠŠä¿®æ”¹åçš„è¯·æ±‚è½¬å‘ç»™OpenAI</li>
<li>æŠŠOpenAIçš„å“åº”åŸå°ä¸åŠ¨åœ°è¿”å›ç»™å‰ç«¯</li>
<li>é¡ºä¾¿å¤„ç†äº†è·¨åŸŸé—®é¢˜ï¼ˆCORSï¼‰
ç‚¹å‡»"Save and Deploy"ä¿å­˜ã€‚</li>
</ol>
<h3 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•ä¸€ä¸‹</h3>
<p>éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªWorkerçš„URLï¼Œæ¯”å¦‚<code>https://openai-proxy.ä½ çš„åå­—.workers.dev</code>ã€‚
ç”¨curlæµ‹è¯•ä¸€ä¸‹ï¼ˆæŠŠYOUR_API_KEYæ¢æˆä½ çš„OpenAIå¯†é’¥ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl https://openai-proxy.ä½ çš„åå­—.workers.dev/v1/chat/completions \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -H <span class="hljs-string">"Authorization: Bearer YOUR_API_KEY"</span> \
  -d <span class="hljs-string">'{
    "model": "gpt-3.5-turbo",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'</span>
</code></pre>
<p>å¦‚æœçœ‹åˆ°OpenAIçš„æ­£å¸¸å“åº”ï¼Œæ­å–œä½ ï¼Œå·²ç»æˆåŠŸäº†ï¼</p>
<h2 data-id="heading-11">è¿›é˜¶ï¼šæ”¯æŒå¤šä¸ªAIæœåŠ¡</h2>
<h3 data-id="heading-12">Claude APIä»£ç†</h3>
<p>Claudeçš„APIç»“æ„å’ŒOpenAIæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä¸»è¦æ˜¯è¯·æ±‚å¤´ä¸åŒã€‚ä¿®æ”¹ä»£ç æ”¯æŒClaudeï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>);
    <span class="hljs-comment">// æ ¹æ®è·¯å¾„åˆ¤æ–­æ˜¯å“ªä¸ªæœåŠ¡</span>
    <span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/claude'</span>)) {
      <span class="hljs-comment">// å»æ‰/claudeå‰ç¼€ï¼Œè½¬å‘åˆ°Anthropic</span>
      url.<span class="hljs-property">pathname</span> = url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'/claude'</span>, <span class="hljs-string">''</span>);
      url.<span class="hljs-property">hostname</span> = <span class="hljs-string">'api.anthropic.com'</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// é»˜è®¤æ˜¯OpenAI</span>
      url.<span class="hljs-property">hostname</span> = <span class="hljs-string">'api.openai.com'</span>;
    }
    <span class="hljs-keyword">const</span> newRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>(url, {
      <span class="hljs-attr">method</span>: request.<span class="hljs-property">method</span>,
      <span class="hljs-attr">headers</span>: request.<span class="hljs-property">headers</span>,
      <span class="hljs-attr">body</span>: request.<span class="hljs-property">body</span>
    });
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(newRequest);
    <span class="hljs-keyword">const</span> newResponse = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(response.<span class="hljs-property">body</span>, response);
    newResponse.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>);
    <span class="hljs-keyword">return</span> newResponse;
  }
};
</code></pre>
<p>ç°åœ¨è®¿é—®<code>/claude/v1/messages</code>å°±ä¼šè½¬å‘åˆ°Claude APIäº†ã€‚</p>
<h3 data-id="heading-13">Gemini APIä»£ç†</h3>
<p>Googleçš„Gemini API endpointæ˜¯<code>generativelanguage.googleapis.com</code>ï¼ŒåŠ ä¸ªåˆ¤æ–­å°±è¡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/gemini'</span>)) {
  url.<span class="hljs-property">pathname</span> = url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'/gemini'</span>, <span class="hljs-string">''</span>);
  url.<span class="hljs-property">hostname</span> = <span class="hljs-string">'generativelanguage.googleapis.com'</span>;
}
</code></pre>
<p>è¿™æ ·ä¸€ä¸ªWorkerå°±èƒ½ä»£ç†ä¸‰ä¸ªAIæœåŠ¡äº†ã€‚</p>
<h2 data-id="heading-14">å®‰å…¨æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-15">ä¸è¦ç¡¬ç¼–ç API Key</h3>
<p>ä½ å¯èƒ½çœ‹åˆ°æœ‰äº›æ•™ç¨‹æŠŠAPI Keyç›´æ¥å†™åœ¨Workerä»£ç é‡Œï¼Œåƒä¸‡åˆ«è¿™ä¹ˆå¹²ï¼ä»£ç æ˜¯æ˜æ–‡å­˜å‚¨çš„ï¼Œè€Œä¸”å¯èƒ½è¢«ä¸å°å¿ƒåˆ†äº«å‡ºå»ã€‚
æ­£ç¡®åšæ³•æ˜¯ç”¨ç¯å¢ƒå˜é‡ã€‚åœ¨Workerè®¾ç½®é‡Œæ‰¾åˆ°"Variables and Secrets"ï¼Œæ·»åŠ ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li>åç§°ï¼š<code>OPENAI_API_KEY</code></li>
<li>å€¼ï¼š<code>ä½ çš„API Key</code></li>
<li>ç±»å‹ï¼šé€‰"Secret"ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
ç„¶åä»£ç é‡Œè¿™ä¹ˆç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡è¯»å–API Key</span>
    <span class="hljs-keyword">const</span> apiKey = env.<span class="hljs-property">OPENAI_API_KEY</span>;
    <span class="hljs-comment">// ä¿®æ”¹è¯·æ±‚å¤´ï¼ŒåŠ ä¸ŠAPI Key</span>
    <span class="hljs-keyword">const</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>(request.<span class="hljs-property">headers</span>);
    headers.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">`Bearer <span class="hljs-subst">${apiKey}</span>`</span>);
    <span class="hljs-comment">// åé¢çš„ä»£ç å’Œä¹‹å‰ä¸€æ ·...</span>
  }
};
</code></pre>
<p>è¿™æ ·å‰ç«¯è°ƒç”¨æ—¶å°±ä¸éœ€è¦ä¼ API Keyäº†ï¼Œæ›´å®‰å…¨ã€‚</p>
<h3 data-id="heading-16">åŠ ä¸ªè‡ªå®šä¹‰è®¤è¯Token</h3>
<p>å¦‚æœæ‹…å¿ƒWorker URLè¢«åˆ«äººçŸ¥é“åæ»¥ç”¨ï¼Œå¯ä»¥åŠ ä¸€å±‚ç®€å•çš„è®¤è¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-comment">// æ£€æŸ¥è‡ªå®šä¹‰Token</span>
    <span class="hljs-keyword">const</span> authToken = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'X-Custom-Auth'</span>);
    <span class="hljs-keyword">if</span> (authToken !== env.<span class="hljs-property">MY_SECRET_TOKEN</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Unauthorized'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">401</span> });
    }
    <span class="hljs-comment">// éªŒè¯é€šè¿‡ï¼Œç»§ç»­å¤„ç†è¯·æ±‚...</span>
  }
};
</code></pre>
<p>åœ¨ç¯å¢ƒå˜é‡é‡Œè®¾ç½®<code>MY_SECRET_TOKEN</code>ï¼Œå‰ç«¯è°ƒç”¨æ—¶å¸¦ä¸Šè¿™ä¸ªè‡ªå®šä¹‰headerã€‚</p>
<h3 data-id="heading-17">ç›‘æ§ç”¨é‡</h3>
<p>Cloudflareæ§åˆ¶å°æœ‰ä¸ªAnalyticsæ ‡ç­¾ï¼Œèƒ½çœ‹åˆ°æ¯å¤©çš„è¯·æ±‚é‡ã€é”™è¯¯ç‡ç­‰æ•°æ®ã€‚å»ºè®®å®šæœŸçœ‹ä¸€çœ¼ï¼Œä¸‡ä¸€è¶…è¿‡å…è´¹é¢åº¦å¯ä»¥åŠæ—©å‘ç°ã€‚
ä½ ä¹Ÿå¯ä»¥è®¾ç½®å‘Šè­¦ï¼šåœ¨"Notifications"é‡Œåˆ›å»ºä¸€ä¸ªè§„åˆ™ï¼Œå½“è¯·æ±‚é‡æ¥è¿‘10ä¸‡æ—¶å‘é‚®ä»¶æé†’ä½ ã€‚</p>
<h2 data-id="heading-18">å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-19">è¯·æ±‚é€Ÿåº¦æ…¢æˆ–è¶…æ—¶</h3>
<p>å¦‚æœå‘ç°å“åº”ç‰¹åˆ«æ…¢ï¼Œå¯èƒ½æ˜¯Workeråˆ†é…çš„èŠ‚ç‚¹ä¸å¤ªç†æƒ³ã€‚
<strong>è§£å†³åŠæ³•</strong>ï¼šç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚Cloudflareä¼šæ ¹æ®ä½ çš„åŸŸåDNSé…ç½®ä¼˜åŒ–è·¯ç”±ï¼Œé€šå¸¸ä¼šæ¯”å…è´¹çš„.workers.devåŸŸåå¿«ä¸€äº›ã€‚
åœ¨Workerè®¾ç½®é‡Œé€‰"Triggers" â†’ "Add Custom Domain"ï¼Œè¾“å…¥ä½ çš„åŸŸåï¼ˆæ¯”å¦‚api.yourdomain.comï¼‰ï¼ŒæŒ‰æç¤ºæ·»åŠ DNSè®°å½•å°±è¡Œã€‚</p>
<h3 data-id="heading-20">403æˆ–401é”™è¯¯</h3>
<p>è¿™ç§æƒ…å†µé€šå¸¸æ˜¯API Keyçš„é—®é¢˜ï¼š</p>
<ol>
<li>æ£€æŸ¥ç¯å¢ƒå˜é‡çš„Keyåç§°å’Œä»£ç é‡Œçš„æ˜¯å¦ä¸€è‡´</li>
<li>ç¡®è®¤API Keyæœ‰æ•ˆä¸”æœ‰ä½™é¢</li>
<li>çœ‹çœ‹OpenAI/Claudeæœ‰æ²¡æœ‰åœ°åŸŸé™åˆ¶ï¼ˆè™½ç„¶Workerså…¨çƒåˆ†å¸ƒï¼Œä½†æœ‰äº›èŠ‚ç‚¹å¯èƒ½è¢«è¯†åˆ«ï¼‰
è°ƒè¯•æŠ€å·§ï¼šåœ¨ä»£ç é‡ŒåŠ ç‚¹æ—¥å¿—ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'API Key:'</span>, env.<span class="hljs-property">OPENAI_API_KEY</span> ? <span class="hljs-string">'å·²è®¾ç½®'</span> : <span class="hljs-string">'æœªè®¾ç½®'</span>);
</code></pre>
<p>ç„¶ååœ¨Workerçš„"Logs"æ ‡ç­¾é‡ŒæŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚</p>
<h3 data-id="heading-21">å…è´¹é¢åº¦ä¸å¤Ÿç”¨æ€ä¹ˆåŠ</h3>
<p>å¦‚æœä½ å‘ç°10ä¸‡æ¬¡çœŸçš„ä¸å¤Ÿï¼ˆæ¯”å¦‚åœ¨åšå•†ä¸šé¡¹ç›®ï¼‰ï¼Œå¯ä»¥è€ƒè™‘ä»˜è´¹è®¡åˆ’ï¼š</p>
<ul>
<li>Workersä»˜è´¹è®¡åˆ’ï¼š$5/æœˆï¼ŒåŒ…å«1000ä¸‡æ¬¡è¯·æ±‚</li>
<li>è¶…å‡ºéƒ¨åˆ†ï¼šæ¯100ä¸‡æ¬¡è¯·æ±‚$0.50
è¯´å®è¯ï¼Œå¯¹äºä¸­å°å‹åº”ç”¨ï¼Œè¿™ä¸ªä»·æ ¼æ¯”è‡ªå·±ä¹°VPSåˆ’ç®—å¤šäº†ã€‚è€Œä¸”ä¸ç”¨æ“å¿ƒæœåŠ¡å™¨ç»´æŠ¤ï¼Œçœä¸‹çš„æ—¶é—´æˆæœ¬æ›´å€¼é’±ã€‚</li>
</ul>
<p>&lt;StatsGrid stats={[
{ value: "<span class="math math-inline"><span class="katex-error" title="ParseError: KaTeX parse error: Expected 'EOF', got '}' at position 24: â€¦bel: &quot;ä»˜è´¹è®¡åˆ’èµ·æ­¥ä»·&quot; }Ì²,&#10;  { value: &quot;1â€¦" style="color:#cc0000">5/æœˆ", label: "ä»˜è´¹è®¡åˆ’èµ·æ­¥ä»·" },
  { value: "1000ä¸‡æ¬¡", label: "ä»˜è´¹è®¡åˆ’è¯·æ±‚é¢åº¦" },
  { value: "</span></span>0.50", label: "è¶…å‡ºéƒ¨åˆ†æ¯100ä¸‡æ¬¡" }
]} source="Cloudflareå®šä»·" /&gt;</p>
<p><strong>ä¼˜åŒ–å»ºè®®ï¼š</strong></p>
<ol>
<li>å‰ç«¯åšç¼“å­˜ï¼Œç›¸åŒçš„è¯·æ±‚ä¸è¦é‡å¤è°ƒç”¨</li>
<li>ä½¿ç”¨æ‰¹é‡æ¥å£ï¼ˆå¦‚æœAPIæ”¯æŒï¼‰å‡å°‘è¯·æ±‚æ¬¡æ•°</li>
<li>åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨Mockæ•°æ®ï¼Œåˆ«æ€»æ˜¯è°ƒçœŸå®API</li>
</ol>
<h2 data-id="heading-22">ç»“è®º</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼ŒWorkersä»£ç†æ–¹æ¡ˆçš„æ ¸å¿ƒä¼˜åŠ¿å°±ä¸‰ç‚¹ï¼š</p>
<ul>
<li><strong>é›¶æˆæœ¬</strong>ï¼šå…è´¹é¢åº¦å¯¹ä¸ªäººå¼€å‘ç»°ç»°æœ‰ä½™</li>
<li><strong>é›¶é—¨æ§›</strong>ï¼š5åˆ†é’Ÿé…ç½®å®Œæˆï¼Œä»£ç ä¸åˆ°30è¡Œ</li>
<li><strong>é›¶é£é™©</strong>ï¼šAPI Keyå®‰å…¨å­˜å‚¨ï¼Œä¸ä¼šæ³„éœ²
è¿™ä¸ªæ–¹æ¡ˆç‰¹åˆ«é€‚åˆä¸ªäººå­¦ä¹ ã€å¼€å‘demoã€å°å‹é¡¹ç›®ã€‚å¦‚æœä½ ä¹Ÿåœ¨æ‰¾ç¨³å®šçš„AI APIè®¿é—®æ–¹å¼ï¼ŒçœŸçš„å¯ä»¥è¯•è¯•Workersã€‚
ç°åœ¨å°±åŠ¨æ‰‹æ­ä¸€ä¸ªå§ï¼æŠŠè¿™ç¯‡æ–‡ç« æ”¶è—å¥½ï¼Œé‡åˆ°é—®é¢˜éšæ—¶å›æ¥çœ‹ã€‚å¦‚æœæ­å»ºè¿‡ç¨‹ä¸­ç¢°åˆ°äº†å…¶ä»–å‘ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè¯´è¯´ï¼Œæˆ‘ä¹Ÿæƒ³çŸ¥é“è¿˜æœ‰å“ªäº›åœ°æ–¹å¯ä»¥ä¼˜åŒ–ã€‚
å¯¹äº†ï¼Œæ–‡ç« é‡Œæåˆ°çš„å‡ ä¸ªå¼€æºé¡¹ç›®éƒ½å¾ˆä¸é”™ï¼Œå°¤å…¶æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fx-dr%2FchatgptProxyAPI" target="_blank" title="https://github.com/x-dr/chatgptProxyAPI" ref="nofollow noopener noreferrer">chatgptProxyAPI</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhahahumble%2Fworker-openai-proxy" target="_blank" title="https://github.com/hahahumble/worker-openai-proxy" ref="nofollow noopener noreferrer">worker-openai-proxy</a>ï¼Œä»£ç å†™å¾—å¾ˆæ¸…æ¥šï¼Œå¯ä»¥å»GitHubä¸Šå­¦ä¹ ä¸€ä¸‹ã€‚
ä½ ç°åœ¨ç”¨çš„æ˜¯ä»€ä¹ˆæ–¹æ¡ˆè®¿é—®AI APIï¼Ÿè¯„è®ºåŒºèŠèŠï¼Ÿ</li>
</ul>
<blockquote>
<p>åŸæ–‡é¦–å‘<a href="https://link.juejin.cn?target=https%3A%2F%2Feastondev.com%2Fblog%2Fzh%2Fposts%2Fai%2F20251201-workers-ai-proxy-guide%2F" target="_blank" title="https://eastondev.com/blog/zh/posts/ai/20251201-workers-ai-proxy-guide/" ref="nofollow noopener noreferrer">è‡ªä¸ªäººåšå®¢</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | Avesha åœ¨ Akamai äº‘ä¸Šæ‰©å±• Kubernetes è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7587239837973495859</link>    <guid>https://juejin.cn/post/7587239837973495859</guid>    <pubDate>2025-12-24T15:52:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587239837973495859" data-draft-id="7587239837973479475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | Avesha åœ¨ Akamai äº‘ä¸Šæ‰©å±• Kubernetes è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-24T15:52:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | Avesha åœ¨ Akamai äº‘ä¸Šæ‰©å±• Kubernetes è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:52:55.000Z" title="Wed Dec 24 2025 15:52:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>â€œAkamai çš„ç½‘ç»œè¦†ç›–ã€å…¨çƒå½±å“åŠ›ä»¥åŠå°†è®¡ç®—èµ„æºè´´è¿‘ç”¨æˆ·éƒ¨ç½²çš„èƒ½åŠ›ï¼Œä½¿å…¶æˆä¸ºæˆ‘ä»¬ç†æƒ³çš„åŸºç¡€è®¾æ–½åˆä½œä¼™ä¼´ã€‚â€</p>
<p>â€”â€”Eric Peterson, Avesha å·¥ç¨‹å‰¯æ€»è£</p>
</blockquote>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_251224_blogarticles238" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_251224_blogarticles238" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<p><strong><strong>æ‰©å±•å’Œç®¡ç† Kubernetes ç¯å¢ƒä¸­çš„æœåŠ¡</strong></strong></p>
<p>Avesha æ­£åœ¨é‡æ–°å®šä¹‰ç°ä»£åº”ç”¨ç¨‹åºå¦‚ä½•åœ¨äº‘å’Œè¾¹ç¼˜<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-edge-computing%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external1_blogarticles238" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-edge-computing?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external1_blogarticles238" ref="nofollow noopener noreferrer">ç¯å¢ƒ</a>ä¸­æ‰©å±•ä¸é€šä¿¡ã€‚å‡­å€Ÿå…¶ Kubernetes åŸç”Ÿå¥—ä»¶â€”â€”åŒ…æ‹¬ KubeSliceã€Smart Scaler å’Œ Elastic GPU Service (EGS)â€”â€”Avesha å®ç°äº†æ— ç¼äº’è”ã€å¼¹æ€§æ‰©å±•å’Œé«˜æ€§ä»·æ¯”çš„ç¼–æ’ã€‚ä½œä¸º Akamai è®¤è¯è®¡ç®—åˆä½œä¼™ä¼´ï¼ŒAvesha ä½¿ä¼ä¸šèƒ½å¤Ÿåˆ©ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fcloud%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external2_blogarticles238" target="_blank" title="https://www.akamai.com/zh/cloud?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external2_blogarticles238" ref="nofollow noopener noreferrer">Akamai äº‘</a>åœ¨ Kubernetes å·¥ä½œè´Ÿè½½ä¸Šçš„æ€§èƒ½å’Œæˆæœ¬ä¼˜åŠ¿ï¼Œè€Œæ— éœ€é‡å†™ä»£ç æˆ–ç‰ºç‰²ç°æœ‰äº‘æŠ•èµ„ã€‚æ­¤æ¬¡åˆä½œä¸ºé‚£äº›åœ¨åº”å¯¹å¤šäº‘ã€è¾¹ç¼˜å’Œ AI é©±åŠ¨åº”ç”¨æ¶æ„çš„ Akamai å®¢æˆ·ï¼Œè§£é”äº†å¼ºå¤§çš„æ–°èƒ½åŠ›ã€‚</p>
<p><strong><strong>æºäºç½‘ç»œï¼Œä¸º Kubernetes è€Œç”Ÿ</strong></strong></p>
<p>Avesha å§‹äºä¸€ä¸ªå¤§èƒ†çš„æ„¿æ™¯ï¼šå°†æ•°åå¹´çš„ç½‘ç»œç»éªŒåº”ç”¨äºäº‘åŸç”ŸåŸºç¡€è®¾æ–½çš„æ–°å…´æŒ‘æˆ˜ã€‚Avesha ä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-managed-kubernetes%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external3_blogarticles238" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-managed-kubernetes?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external3_blogarticles238" ref="nofollow noopener noreferrer">Kubernetes</a>ä¸ºæ ¸å¿ƒï¼Œå…¶å·¥å…·å¸®åŠ©ä¼ä¸šåœ¨æ··åˆç¯å¢ƒä¸­åè°ƒã€æ‰©å±•å’Œä¿æŠ¤åº”ç”¨ç¨‹åºâ€”â€”ä»ä¼ ç»Ÿç³»ç»Ÿåˆ° GPU å¯†é›†å‹ AI å·¥ä½œè´Ÿè½½ã€‚</p>
<p>â€œæˆ‘ä»¬è®¤ä¸º Kubernetes æ˜¯äº‘åŸºç¡€è®¾æ–½çš„è¿æ¥çº½å¸¦ï¼Œâ€ Avesha å·¥ç¨‹å‰¯æ€»è£ Eric Peterson è§£é‡Šé“ã€‚â€œå› æ­¤æˆ‘ä»¬ä¸“æ³¨äºåˆ©ç”¨å®ƒï¼Œè®©åˆ†å¸ƒå¼åº”ç”¨çš„ç®¡ç†ã€æ‰©å±•å’Œè¿ç§»å˜å¾—æ›´å®¹æ˜“ã€‚â€</p>
<p><strong><strong>å€ŸåŠ© Akamai åœ¨è¾¹ç¼˜å’Œäº‘ä¸­æ— ç¼æ‰©å±•</strong></strong></p>
<p>Akamai ä¸º Avesha æä¾›äº†ä¸€ä¸ªå¤©ç„¶çš„åˆä½œä¼™ä¼´ï¼Œå¸®åŠ©å…¶åœ¨è¾¹ç¼˜å’Œäº‘ç«¯æ‰©å±•å…¶æ„¿æ™¯ã€‚Avesha ä¸ Akamai çš„ååŒæ•ˆåº”åœ¨äºåº”ç”¨æ™ºèƒ½ä¸åŸºç¡€è®¾æ–½è¦†ç›–èŒƒå›´çš„ç»“åˆã€‚Akamai çš„å…¨çƒåˆ†å¸ƒå¼ç½‘ç»œå’Œè¾¹ç¼˜è®¡ç®—èƒ½åŠ›ï¼Œä½¿å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åº”ç”¨èƒ½å¤Ÿæ›´è´´è¿‘ç”¨æˆ·è¿è¡Œã€‚</p>
<p>â€œAkamai çš„å…¨çƒå¸ƒå±€ä¸ºæˆ‘ä»¬æä¾›äº†ä»‹äºåŸºç¡€è¿æ¥å’ŒèŠ‚ç‚¹é›†ç¾¤åŠŸèƒ½ä¹‹é—´çš„å·¨å¤§è¦†ç›–èŒƒå›´ã€‚è€Œå€ŸåŠ©è¿è¡Œåœ¨ Akamai äº‘ä¸Šçš„ Aveshaï¼Œä¼ä¸šèƒ½è·å¾—åº”ç”¨æ„ŸçŸ¥èƒ½åŠ›ï¼Œä»è€Œå……åˆ†åˆ©ç”¨è¿™ä¸€å…¨çƒåŸºç¡€è®¾æ–½ï¼Œâ€ Peterson è¡¨ç¤ºã€‚</p>
<p>é€šè¿‡åœ¨ Akamai äº‘ä¸Šéƒ¨ç½²ï¼ŒAvesha è·å¾—äº†ï¼š</p>
<ul>
<li>è·¨è¶ŠåŒºåŸŸã€äº‘ç¯å¢ƒå’Œæœ¬åœ°çš„<strong><strong>å…¨çƒé›†ç¾¤äº’è”æ€§</strong></strong></li>
<li>é€šè¿‡è¾¹ç¼˜è®¡ç®—åŒºåŸŸå®ç°çš„<strong><strong>ä½å»¶è¿Ÿåˆ†å‘</strong></strong></li>
<li>ä¸é«˜ä¿¡ä»»åº¦å“ç‰Œçš„<strong><strong>åˆä½œå…³ç³»</strong></strong>ï¼Œå¢å¼ºäº†ä¼ä¸šä¿¡å¿ƒ</li>
</ul>
<p>è¿™ç§å¥‘åˆä¹Ÿæºäºå…±åŒçš„æ„¿æ™¯ã€‚ä¸¤å®¶å…¬å¸éƒ½çœ‹åˆ°äº†å¯¹æ€§èƒ½æ•æ„Ÿçš„è¾¹ç¼˜åŸç”Ÿåº”ç”¨éƒ¨ç½²çš„å…´èµ·ï¼Œå¹¶æ­£åœ¨æ„å»ºæ”¯æŒå®ƒä»¬çš„å †æ ˆã€‚å‡­å€Ÿå¼ºå¤§çš„äº§å“å¥‘åˆåº¦ä»¥åŠåœ¨æ€§èƒ½ã€æˆæœ¬æ•ˆç›Šå’Œå¼€å‘è€…ä½“éªŒæ–¹é¢çš„å…±åŒç›®æ ‡ï¼ŒAvesha å’Œ Akamai æ­£åœ¨å¸®åŠ©ä¼ä¸šæ›´æ™ºèƒ½åœ°åœ¨æŒç»­äº‘ç¯å¢ƒä¸­è¿è¥ã€‚</p>
<p><strong><strong>å®ç°æ— ç¼çš„é›†ç¾¤äº’è”</strong></strong></p>
<p>Avesha äº§å“çš„æ ¸å¿ƒæ˜¯ KubeSliceï¼Œè¿™æ˜¯ä¸€ä¸ªè¿æ¥ç½‘ç»œï¼Œå…è®¸ Kubernetes é›†ç¾¤åƒæœ¬åœ°é›†ç¾¤ä¸€æ ·ç›¸äº’é€šä¿¡â€”â€”å³ä½¿è·¨è¶Šä¸åŒçš„äº‘å’Œè¾¹ç¼˜ã€‚å€ŸåŠ© Akamai çš„åŸºç¡€è®¾æ–½ï¼Œå®¢æˆ·ç°åœ¨å¯ä»¥å°†è¿™äº›â€œåˆ‡ç‰‡â€æ‰©å±•åˆ°å…¨çƒï¼Œä½¿ä»–ä»¬çš„åº”ç”¨æ›´è´´è¿‘ç”¨æˆ·ï¼Œæ— è®ºç”¨æˆ·èº«åœ¨ä½•å¤„ã€‚</p>
<p>â€œæ— è®ºæ‰˜ç®¡å…¶åº”ç”¨çš„é›†ç¾¤ä½äºä½•å¤„ï¼Œæˆ‘ä»¬éƒ½èƒ½ä¸ºå¼€å‘è€…æä¾›é›†ç¾¤é—´çš„è¿æ¥ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿè½»æ¾æ‰©å±•åº”ç”¨ï¼Œâ€ Peterson è¯´ã€‚</p>
<p>Avesha è¿˜ä½¿å…¶åœ¨è¾¹ç¼˜ç¯å¢ƒä¸­ä¹Ÿèƒ½è½»æ¾å®ç°è¿™ä¸€ç›®æ ‡ï¼ŒåŒæ—¶ä¿æŒ DevOps å·¥ä½œæµç®€å•ã€å¼€å‘è€…ä½“éªŒç›´è§‚ã€‚å¼€å‘è€…æ— éœ€è€ƒè™‘æœåŠ¡ä½äºä½•å¤„ï¼›ä»–ä»¬åªéœ€ç¼–å†™åº”ç”¨ã€‚KubeSlice ç¡®ä¿è¿™äº›æœåŠ¡å¯è®¿é—®ã€å®‰å…¨ä¸”å¯æ‰©å±•ï¼Œæ— éœ€ä»»ä½•éš§é“æˆ–ç¹é‡çš„ DevOps å·¥ä½œã€‚</p>
<p>â€œå®¢æˆ·ä¸ä»…èƒ½å®ç°é›†ç¾¤å’Œç«™ç‚¹äº’è”ã€‚ä»–ä»¬è¿˜å¯ä»¥ä½¿ç”¨ Avesha è¿æ¥åˆ°ä¸åœ¨é›†ç¾¤å†…çš„å…¶ä»–æœåŠ¡ï¼Œå¹¶ä¸ä¸å±äºåŒä¸€é›†ç¾¤çš„æ•°æ®åº“é€šä¿¡ï¼Œä¾‹å¦‚äº‘ä¸­çš„æ‰˜ç®¡æœåŠ¡ï¼Œâ€ Peterson ç»§ç»­è¯´é“ã€‚</p>
<p>æ­¤åŠŸèƒ½å¯¹äºè·¨åœ°åŸŸè¿è¡Œé›†ç¾¤æˆ–ä»è¶…å¤§è§„æ¨¡äº‘è¿ç§»å·¥ä½œè´Ÿè½½çš„ Akamai å®¢æˆ·è‡³å…³é‡è¦ã€‚KubeSlice æ¡¥æ¥äº†è¿™äº›ç¯å¢ƒï¼Œå®ç°äº†å®æ—¶æ•°æ®äº¤æ¢å’Œç®€åŒ–çš„å·¥ä½œè´Ÿè½½åˆ†å‘ã€‚</p>
<p><strong><strong>æä¾›æ›´æ™ºèƒ½çš„æ‰©å±•å’Œ AI é©±åŠ¨çš„ç¼–æ’</strong></strong></p>
<p>æ‰©å±• Kubernetes å·¥ä½œè´Ÿè½½â€”â€”å°¤å…¶æ˜¯ GPU é©±åŠ¨çš„ AI åº”ç”¨â€”â€”å¯èƒ½æ—¢å¤æ‚åˆæ˜‚è´µã€‚Avesha é€šè¿‡ Smart Scaler è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œå®ƒèƒ½å‡†ç¡®é¢„æµ‹éœ€æ±‚å¹¶ç²¾ç¡®åœ°æ‰©å±•æˆ–ç¼©å‡åŸºç¡€è®¾æ–½åŠåº”ç”¨èµ„æºã€‚ç»“åˆ Avesha çš„ EGSï¼Œè¿™ä¸º CPU å’Œ GPU å·¥ä½œè´Ÿè½½éƒ½å¸¦æ¥äº† AI é©±åŠ¨çš„ä¼˜åŒ–ã€‚</p>
<p>åœ¨ Akamai åŸºç¡€è®¾æ–½ä¸Šï¼Œè¿™æ„å‘³ç€åº”ç”¨ç¨‹åºèƒ½è‡ªåŠ¨æ‰©å±•ä»¥æ»¡è¶³éœ€æ±‚â€”â€”è€Œæ— éœ€è¿‡åº¦é…ç½®â€”â€”å¹¶åœ¨ç©ºé—²æ—¶ç¼©å‡ï¼Œä»è€Œé™ä½ Kubernetes äº‘æ”¯å‡ºã€‚è¿™äº›èƒ½åŠ›ä¸ Akamai çš„è¾¹ç¼˜å¹³å°ç»“åˆæ—¶å°¤å…¶å¼ºå¤§ã€‚</p>
<p>æ­¤å¤–ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linode.com%2Fzh%2Fsolutions%2Fai-inferencing%2F%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external4_blogarticles238" target="_blank" title="https://www.linode.com/zh/solutions/ai-inferencing/?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external4_blogarticles238" ref="nofollow noopener noreferrer">Akamai äº‘ä¸Šçš„ AI æ¨ç†</a>ç»“åˆäº†å°–ç«¯æŠ€æœ¯ä¸ Avesha ç­‰æˆ˜ç•¥åˆä½œä¼™ä¼´ï¼Œå…±åŒæ„å»ºäº†ä¸€ä¸ªé«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„ç”Ÿæ€ç³»ç»Ÿï¼Œç”¨äºå¤§è§„æ¨¡åœ°åœ¨è¾¹ç¼˜äº¤ä»˜ AIã€‚é€šè¿‡è®©å®¢æˆ·èƒ½å¤Ÿä»…åœ¨éœ€è¦çš„æ—¶é—´å’Œåœ°ç‚¹è¿è¡Œäº‘åŸºç¡€è®¾æ–½ï¼ŒAvesha å¸®åŠ©å‡å°‘æµªè´¹ã€å¤§å¹…é™ä½æˆæœ¬ï¼Œå¹¶ä½¿å°å‹å›¢é˜Ÿä¹Ÿèƒ½æ›´ä¾¿æ·åœ°ä½¿ç”¨äº¤äº’å¼ AIã€‚</p>
<p><strong><strong>æ¨åŠ¨è½»æ¾çš„å¤šäº‘å’Œåˆ†é˜¶æ®µè¿ç§»</strong></strong></p>
<p>Avesha çš„â€œKubernetes ä¼˜å…ˆâ€è®¾è®¡è¿˜æ”¯æŒçµæ´»ã€åˆ†é˜¶æ®µçš„å¤šäº‘é‡‡ç”¨æ–¹æ³•ã€‚ä½¿ç”¨ KubeSliceï¼Œä¼ä¸šå¯ä»¥é€æ­¥å°†æœåŠ¡ä»å…¶ä»–äº‘è¿ç§»åˆ° Akamaiï¼Œè€Œæ— éœ€åœæœºæˆ–è¿›è¡Œé‡å¤§ä»£ç é‡å†™ã€‚å·¥ä½œè´Ÿè½½å³ä½¿åœ¨è·¨äº‘é‡æ–°åˆ†å¸ƒæ—¶ä¹Ÿèƒ½ç»§ç»­æ— ç¼è¿è¡Œï¼Œè¿™ä½¿ Akamai æˆä¸ºå¸Œæœ›é™ä½äº‘æˆæœ¬æˆ–æé«˜æ€§èƒ½çš„ä¼ä¸šæå…·å¸å¼•åŠ›çš„é€‰æ‹©ã€‚</p>
<p>å³ä½¿åœ¨åˆ†é˜¶æ®µè¿ç§»è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ä¹Ÿæ— éœ€æ›´æ”¹ä»£ç å³å¯ç«‹å³åˆ©ç”¨ Akamai çš„é«˜æ€§èƒ½å’Œä½æˆæœ¬è®¡ç®—ï¼ŒåŒæ—¶ä¿ç•™è¶…å¤§è§„æ¨¡äº‘çš„æ‰˜ç®¡æœåŠ¡ã€‚äº‹å®ä¸Šï¼ŒAkamai å°±åˆ©ç”¨äº† KubeSliceï¼Œç®€å•ã€é€æ­¥åœ°å°†å·¥ä½œè´Ÿè½½ä»ç¬¬ä¸‰æ–¹äº‘è¿ç§»åˆ° Akamai äº‘ï¼Œæ— éœ€ä»»ä½•ä»£ç æ›´æ”¹æˆ–åœæœºã€‚</p>
<p>æ­£å¦‚ Peterson æ‰€è§£é‡Šçš„ï¼šâ€œå€ŸåŠ© Akamaiï¼Œä¼ä¸šå¯ä»¥è·å¾—å¼ºå¤§çš„è¾¹ç¼˜éƒ¨ç½²èƒ½åŠ›ã€‚æˆ‘ä»¬è®©åœ¨è¯¥ç¯å¢ƒä¸­çš„è¿æ¥ã€è¿ç§»å’Œæ‰©å±•å˜å¾—ç®€å•ã€‚â€</p>
<p><strong><strong>ä¸ºå…±åŒæˆé•¿è€Œå»ºç«‹çš„ä¼™ä¼´å…³ç³»</strong></strong></p>
<p>é™¤äº† Akamai çš„åŸºç¡€è®¾æ–½å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fcloud%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external5_blogarticles238" target="_blank" title="https://www.akamai.com/zh/cloud?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external5_blogarticles238" ref="nofollow noopener noreferrer">äº‘è®¡ç®—æœåŠ¡</a>ï¼ŒAvesha è¿˜è®¤è¯†åˆ°åŒæ–¹å¯¹å®¢æˆ·æˆåŠŸçš„å…±åŒæ‰¿è¯ºã€‚Akamai çš„æ”¯æŒã€è”åˆé”€å”®æœºä¼šå’Œåä½œå¼€å‘ï¼Œå¸®åŠ© Avesha æ›´é«˜æ•ˆåœ°å°†å…¶è§£å†³æ–¹æ¡ˆå¸¦ç»™æ›´å¤šä¼ä¸šã€‚â€œAkamai ç§¯æå¸®åŠ©æˆ‘ä»¬è¿æ¥å®¢æˆ·ã€éªŒè¯ç”¨ä¾‹å¹¶å…±åŒåˆ›é€ æ–°çš„å¯èƒ½æ€§ã€‚è¿™ç§åˆä½œä¼™ä¼´å…³ç³»éå¸¸ç½•è§ä¸”å®è´µï¼Œâ€ Peterson è§£é‡Šé“ã€‚</p>
<p>åˆ©ç”¨è¿™ä¸€æˆ˜ç•¥åˆä½œå®ç°äº†åŒèµ¢ã€‚â€œå€ŸåŠ© Akamaiï¼Œæˆ‘ä»¬è§¦è¾¾äº†æ­£ç¡®çš„å®¢æˆ·ï¼Œå¹¶ä¸æ–­å°±æœªæ¥å‘å±•äº¤æ¢æƒ³æ³•ã€‚è¿™ç§ä¸€è‡´æ€§å¸®åŠ©ä¸¤å®¶å…¬å¸ä¸ºå¸‚åœºå¸¦æ¥æ›´å¤šä»·å€¼ï¼Œâ€ Peterson æ€»ç»“é“ã€‚</p>
<p><strong><strong>å…³äº Avesha</strong></strong></p>
<p>Avesha æ˜¯ AI é©±åŠ¨ç¼–æ’å’Œæ‰©å±•è§£å†³æ–¹æ¡ˆçš„å…ˆé©±ï¼ŒåŸºäº Kubernetes æ„å»ºï¼Œå¹¶ä¸º CPU å’Œ GPU å·¥ä½œè´Ÿè½½è¿›è¡Œäº†ä¼˜åŒ–ã€‚Avesha è¢«å…¬è®¤ä¸º Gartner Cool Vendor å’Œ CNCF Sandbox é¡¹ç›®ï¼Œå…¶æŠ€æœ¯ï¼ˆç°å·²åŒ…æ‹¬æ™ºèƒ½ä½“ï¼‰èµ‹èƒ½é‡‘èã€åª’ä½“å’ŒåŒ»ç–—ä¿å¥ç­‰è¡Œä¸šï¼Œä»¥æ™ºèƒ½åŒ–ã€é«˜æ•ˆä¸”å¯æ§çš„æ–¹å¼å¤§è§„æ¨¡è¿è¡Œåˆ†å¸ƒå¼åº”ç”¨ã€‚</p>
<p><strong><strong>å…³äº Akamai</strong></strong></p>
<p>Akamai æ˜¯ä¸ºä¼ä¸šåœ¨çº¿ä¸šåŠ¡æä¾›åŠ¨åŠ›å’Œä¿æŠ¤çš„ç½‘ç»œå®‰å…¨å’Œäº‘è®¡ç®—å…¬å¸ã€‚æˆ‘ä»¬å¸‚åœºé¢†å…ˆçš„å®‰å…¨è§£å†³æ–¹æ¡ˆã€å“è¶Šçš„å¨èƒæƒ…æŠ¥å’Œå…¨çƒè¿è¥å›¢é˜Ÿæä¾›æ·±åº¦é˜²å¾¡ï¼Œéšæ—¶éšåœ°ä¿æŠ¤ä¼ä¸šæ•°æ®å’Œåº”ç”¨ç¨‹åºã€‚Akamai çš„å…¨æ ˆäº‘è®¡ç®—è§£å†³æ–¹æ¡ˆåœ¨å…¨çƒæœ€åˆ†æ•£çš„å¹³å°ä¸Šæä¾›å“è¶Šæ€§èƒ½å’Œå¯è´Ÿæ‹…æ€§ã€‚å…¨çƒä¼ä¸šä¿¡ä»» Akamai æä¾›è¡Œä¸šé¢†å…ˆçš„å¯é æ€§ã€è§„æ¨¡å’Œä¸“ä¸šçŸ¥è¯†ï¼Œä»è€Œå……æ»¡ä¿¡å¿ƒåœ°å‘å±•ä¸šåŠ¡ã€‚æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external6_blogarticles238" target="_blank" title="https://www.akamai.com/zh?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external6_blogarticles238" ref="nofollow noopener noreferrer">akamai.com</a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fblog%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251224_external7_blogarticles238" target="_blank" title="https://www.akamai.com/blog?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251224_external7_blogarticles238" ref="nofollow noopener noreferrer">akamai.com/blog</a>ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_251224_blogarticles238_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_251224_blogarticles238_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡å¸¦ä½ åƒé€ Java åå°„æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7587261929384411188</link>    <guid>https://juejin.cn/post/7587261929384411188</guid>    <pubDate>2025-12-24T15:58:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587261929384411188" data-draft-id="7586877892467458075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡å¸¦ä½ åƒé€ Java åå°„æœºåˆ¶"/> <meta itemprop="keywords" content="Java,åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T15:58:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BestAns"/> <meta itemprop="url" content="https://juejin.cn/user/1556564197248605"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡å¸¦ä½ åƒé€ Java åå°„æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564197248605/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BestAns
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:58:33.000Z" title="Wed Dec 24 2025 15:58:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€æ–‡å¸¦ä½ åƒé€ Java åå°„æœºåˆ¶</h2>
<p>åœ¨Javaå¼€å‘ä¸­ï¼Œâ€œåå°„â€ç»å¯¹æ˜¯ä¸ªè®©äººåˆçˆ±åˆæ¨çš„çŸ¥è¯†ç‚¹ã€‚æœ‰äººè§‰å¾—å®ƒæ™¦æ¶©éš¾æ‡‚ã€ç ´åå°è£…ï¼Œä¹Ÿæœ‰äººé å®ƒå®ç°äº†å„ç§çµæ´»çš„åŠŸèƒ½â€”â€”æ¯”å¦‚æ¡†æ¶å¼€å‘ã€åŠ¨æ€é…ç½®åŠ è½½ã€‚</p>
<p>å…¶å®åå°„æ²¡é‚£ä¹ˆç¥ç§˜ï¼Œä»Šå¤©å°±ç»™å¤§å®¶ç”¨æœ€é€šä¿—çš„è¯­è¨€è®²æ¸…æ¥šï¼šåå°„åˆ°åº•æ˜¯ä»€ä¹ˆã€æ€ä¹ˆç”¨ï¼Œä»¥åŠåå°„åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€Javaåå°„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘ä»¬å…ˆä»Javaçš„æ ¸å¿ƒç‰¹æ€§â€œå°è£…â€è¯´èµ·ã€‚å¹³æ—¶å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡newå…³é”®å­—åˆ›å»ºå¯¹è±¡ï¼Œè°ƒç”¨ç±»çš„æ–¹æ³•ã€è®¿é—®å±æ€§ï¼Œéƒ½æ˜¯åœ¨â€œç¼–è¯‘æœŸâ€å°±ç¡®å®šå¥½è¦æ“ä½œçš„ç±»ï¼Œæ¯”å¦‚<code>User user = new User();</code>ï¼Œç¼–è¯‘å™¨æ—©å°±çŸ¥é“æˆ‘ä»¬è¦æ“ä½œUserç±»ã€‚</p>
<p>è€Œåå°„æœºåˆ¶ï¼Œç®€å•è¯´å°±æ˜¯<strong>ç¨‹åºåœ¨è¿è¡Œæ—¶ï¼Œèƒ½å¤Ÿâ€œçœ‹é€â€ä¸€ä¸ªç±»çš„å†…éƒ¨ç»“æ„</strong>ï¼šçŸ¥é“å®ƒæœ‰å“ªäº›å±æ€§ã€å“ªäº›æ–¹æ³•ã€å“ªäº›æ„é€ å™¨ï¼Œè¿˜èƒ½åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å±æ€§ï¼Œå“ªæ€•è¿™äº›æˆå‘˜æ˜¯ç§æœ‰çš„ã€‚</p>
<p>å½¢è±¡ç‚¹è¯´ï¼Œæ™®é€šæ–¹å¼æ˜¯â€œå…ˆçŸ¥é“ç±»ï¼Œå†ç”¨ç±»â€ï¼›åå°„æ˜¯â€œå…ˆæ‹¿åˆ°ç±»çš„â€˜è¯´æ˜ä¹¦â€™ï¼Œå†æ ¹æ®è¯´æ˜ä¹¦ç”¨ç±»â€ã€‚è¿™ä¸ªâ€œè¯´æ˜ä¹¦â€ï¼Œå°±æ˜¯Javaä¸­çš„<code>Class</code>ç±»å¯¹è±¡ã€‚</p>
<p>Javaä¸­çš„åå°„ï¼Œæœ¬è´¨ä¸Šæ˜¯è¿ç”¨äº†ï¼š<strong>ç±»æ˜¯ç”±JVMåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„</strong>è¿™ä¸€åŸç†å®ç°çš„ã€‚</p>
<h3 data-id="heading-2">äºŒã€Classç±»æ˜¯å…³é”®</h3>
<p>åœ¨Javaä¸­ï¼Œä»»ä½•ä¸€ä¸ªç±»è¢«åŠ è½½åï¼ŒJVMéƒ½ä¼šä¸ºå®ƒåˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„<code>Class</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†è¯¥ç±»çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆæˆå‘˜å˜é‡ã€æ„é€ æ–¹æ³•ã€æˆå‘˜æ–¹æ³•ç­‰ï¼‰ã€‚åå°„çš„æ‰€æœ‰æ“ä½œï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡æ“ä½œè¿™ä¸ª<code>Class</code>å¯¹è±¡å®ç°çš„ã€‚</p>
<p>ç®€å•æ¢³ç†åå°„çš„æ ¸å¿ƒæµç¨‹ï¼š</p>
<ol>
<li>
<p>è·å–ç›®æ ‡ç±»çš„<code>Class</code>å¯¹è±¡ï¼ˆæ‹¿åˆ°â€œè¯´æ˜ä¹¦â€ï¼‰ï¼›</p>
</li>
<li>
<p>é€šè¿‡<code>Class</code>å¯¹è±¡è·å–éœ€è¦çš„æˆå‘˜ï¼ˆå±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ï¼‰ï¼›</p>
</li>
<li>
<p>åŠ¨æ€æ“ä½œè¿™äº›æˆå‘˜ï¼ˆåˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å±æ€§ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€åå°„çš„åŸºç¡€ç”¨æ³•</h3>
<p>å…ˆé“ºå«åŸºç¡€ç”¨æ³•ï¼Œåé¢çš„æ¡ˆä¾‹ä¼šåŸºäºè¿™äº›æ“ä½œå±•å¼€ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„<code>User</code>ç±»ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-comment">// æ— å‚æ„é€ </span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> {}

    <span class="hljs-comment">// æœ‰å‚æ„é€ </span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// æ™®é€šæ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sayHello</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"Hello, "</span> + name + <span class="hljs-string">"! You are "</span> + age + <span class="hljs-string">" years old."</span>);
    }
}
</code></pre>
<h4 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šè·å–Classå¯¹è±¡</h4>
<p>åœ¨Javaä¸­æ€»å…±æœ‰ä¸‰ç§æ–¹å¼è·å–Classå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹å¼1ï¼šé€šè¿‡ç±»å.classï¼ˆç¼–è¯‘æœŸç¡®å®šï¼Œæœ€å®‰å…¨ï¼‰</span>
Class&lt;User&gt; userClass1 = User.class;

<span class="hljs-comment">// æ–¹å¼2ï¼šé€šè¿‡å¯¹è±¡.getClass()ï¼ˆè¿è¡Œæ—¶è·å–ï¼Œéœ€å…ˆæœ‰å¯¹è±¡ï¼‰</span>
<span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
Class&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span>&gt; userClass2 = user.getClass();

<span class="hljs-comment">// æ–¹å¼3ï¼šé€šè¿‡Class.forName("å…¨ç±»å")ï¼ˆåŠ¨æ€åŠ è½½ï¼Œæœ€çµæ´»ï¼Œå¸¸ç”¨ï¼‰</span>
Class&lt;?&gt; userClass3 = Class.forName(<span class="hljs-string">"com.example.demo.User"</span>); <span class="hljs-comment">// å…¨ç±»å=åŒ…å+ç±»å</span>
</code></pre>
<p>å…¶ä¸­ï¼Œç¬¬ä¸‰ç§æ–¹å¼æœ€çµæ´»ï¼Œå› ä¸ºå…¨ç±»åå¯ä»¥æ¥è‡ªé…ç½®æ–‡ä»¶ã€æ•°æ®åº“ç­‰ï¼Œå®ç°â€œåŠ¨æ€æŒ‡å®šç±»â€ï¼Œç¨åæˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»è¿™ç§æ–¹å¼ã€‚</p>
<h4 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šé€šè¿‡Classå¯¹è±¡åˆ›å»ºå¯¹è±¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. é€šè¿‡æ— å‚æ„é€ åˆ›å»ºï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
Class&lt;?&gt; userClass = Class.forName(<span class="hljs-string">"com.example.demo.User"</span>);
<span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> (User) userClass.newInstance();

<span class="hljs-comment">// 2. é€šè¿‡æœ‰å‚æ„é€ åˆ›å»º</span>
Constructor&lt;?&gt; constructor = userClass.getConstructor(String.class, <span class="hljs-type">int</span>.class);
<span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> (User) constructor.newInstance(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">20</span>);
</code></pre>
<p>è¿™ä¸¤ç§åå°„åˆ›å»º User å®ä¾‹çš„æ–¹å¼æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼šå‰è€…è°ƒç”¨æ— å‚æ„é€ å™¨åˆ›å»ºå®ä¾‹ï¼Œä¸”è¯¥æ–¹å¼åœ¨ Java 9 è¢«æ ‡è®°ä¸º<code>è¿‡æ—¶(@Deprecated)</code>ï¼ŒJava 11 å½»åº•ç§»é™¤ï¼Œä¸æ¨èä½¿ç”¨ï¼›åè€…é€šè¿‡æŒ‡å®šæœ‰å‚æ„é€ å™¨åˆ›å»ºå®ä¾‹ï¼Œèƒ½ç›´æ¥ä¼ å…¥å‚æ•°å®Œæˆåˆå§‹åŒ–ï¼Œæ˜¯åå°„åˆ›å»ºå®ä¾‹çš„æ ‡å‡†æ¨èå†™æ³•ã€‚</p>
<h4 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨ç±»çš„æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. è·å–sayHelloæ–¹æ³•ï¼ˆæ— å‚ã€publicï¼‰</span>
<span class="hljs-type">Method</span> <span class="hljs-variable">sayHelloMethod</span> <span class="hljs-operator">=</span> userClass.getMethod(<span class="hljs-string">"sayHello"</span>);
<span class="hljs-comment">// 2. è°ƒç”¨æ–¹æ³•ï¼ˆéœ€è¦ä¼ å…¥å¯¹è±¡å®ä¾‹ï¼‰</span>
sayHelloMethod.invoke(user2); <span class="hljs-comment">// è¾“å‡ºï¼šHello, å¼ ä¸‰</span>

<span class="hljs-comment">// 3. è°ƒç”¨å¸¦å‚æ–¹æ³•ï¼ˆæ¯”å¦‚setNameï¼‰</span>
<span class="hljs-type">Method</span> <span class="hljs-variable">setNameMethod</span> <span class="hljs-operator">=</span> userClass.getMethod(<span class="hljs-string">"setName"</span>, String.class);
setNameMethod.invoke(user2, <span class="hljs-string">"æå››"</span>);
sayHelloMethod.invoke(user2); <span class="hljs-comment">// è¾“å‡ºï¼šHello, æå››</span>
</code></pre>
<p>å¦‚æœè¦æ“ä½œç§æœ‰æˆå‘˜ï¼ˆæ¯”å¦‚privateå±æ€§nameï¼‰ï¼Œéœ€è¦å…ˆè°ƒç”¨<code>setAccessible(true)</code>æ‰“ç ´å°è£…é™åˆ¶ï¼Œè¿™é‡Œå°±ä¸å±•å¼€è¯´æ˜äº†ã€‚</p>
<h3 data-id="heading-7">å››ã€åå°„çš„ä¸¤ä¸ªç»å…¸åº”ç”¨åœºæ™¯</h3>
<p>ç†è§£äº†åŸºç¡€ç”¨æ³•ï¼Œå†çœ‹ä¸¤ä¸ªå®é™…å¼€å‘ä¸­å¸¸ç”¨çš„æ¡ˆä¾‹ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´åŠ æ·±åˆ»çš„ç†è§£åå°„å­˜åœ¨çš„æ„ä¹‰ã€‚</p>
<h4 data-id="heading-8">æ¡ˆä¾‹1ï¼šè¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŠ¨æ€åŠ è½½ç±»å¹¶æ‰§è¡Œæ–¹æ³•</h4>
<p>æˆ‘ä»¬å¸Œæœ›ç¨‹åºä¸ä¿®æ”¹ä»£ç ï¼Œåªä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°±èƒ½åŠ è½½ä¸åŒçš„ç±»ã€æ‰§è¡Œä¸åŒçš„æ–¹æ³•ï¼Œè¿™åœ¨æ¡†æ¶å¼€å‘ï¼ˆæ¯”å¦‚Springï¼‰ä¸­éå¸¸å¸¸è§ï¼Œæ ¸å¿ƒå°±æ˜¯åå°„ã€‚</p>
<p>å®ç°æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚reflect.propertiesï¼‰ï¼Œå†™å…¥è¦åŠ è½½çš„ç±»åå’Œæ–¹æ³•åï¼›</p>
</li>
<li>
<p>é€šè¿‡IOæµè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„ç±»åå’Œæ–¹æ³•åï¼›</p>
</li>
<li>
<p>ç”¨åå°„åŠ¨æ€åŠ è½½ç±»ã€åˆ›å»ºå¯¹è±¡ã€æ‰§è¡Œæ–¹æ³•ã€‚</p>
</li>
</ol>
<h5 data-id="heading-9">æ­¥éª¤1ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆreflect.propertiesï¼‰</h5>
<pre><code class="hljs language-properties" lang="properties"># å…¨ç±»å
className=com.example.demo.User
# è¦æ‰§è¡Œçš„æ–¹æ³•å
methodName=sayHello
</code></pre>
<h5 data-id="heading-10">æ­¥éª¤2ï¼šç¼–å†™å·¥å…·ç±»è¯»å–é…ç½®æ–‡ä»¶</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.InputStream;
<span class="hljs-keyword">import</span> java.util.Properties;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PropertiesUtil</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Properties <span class="hljs-title function_">getProperties</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();
 
        <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> PropertiesUtil.class.getClassLoader().getResourceAsStream(<span class="hljs-string">"reflect.properties"</span>);
        <span class="hljs-keyword">try</span> {
            properties.load(is);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (is != <span class="hljs-literal">null</span>) is.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
        <span class="hljs-keyword">return</span> properties;
    }
}
</code></pre>
<h5 data-id="heading-11">æ­¥éª¤3ï¼šç”¨åå°„åŠ¨æ€åŠ è½½å¹¶æ‰§è¡Œ</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.util.Properties;
<span class="hljs-keyword">import</span> java.lang.reflect.Constructor;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReflectDemo1</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. è¯»å–é…ç½®æ–‡ä»¶</span>
        <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> PropertiesUtil.getProperties();
        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> properties.getProperty(<span class="hljs-string">"className"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> properties.getProperty(<span class="hljs-string">"methodName"</span>);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. è·å–Classå¯¹è±¡</span>
            Class&lt;?&gt; clazz = Class.forName(className);
            <span class="hljs-comment">// 3. åˆ›å»ºå¯¹è±¡</span>
            Constructor&lt;?&gt; constructor = clazz.getConstructor(String.class, <span class="hljs-type">int</span>.class);
            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> constructor.newInstance(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">18</span>);
            <span class="hljs-comment">// 4. è·å–æ–¹æ³•å¹¶æ‰§è¡Œ</span>
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> clazz.getMethod(methodName);
            method.invoke(obj); <span class="hljs-comment">// æ‰§è¡ŒsayHelloæ–¹æ³•</span>
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>è¿è¡Œç¨‹åºï¼Œä¼šæ‰§è¡ŒUserç±»çš„sayHelloæ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ¢ä¸€ä¸ªç±»æ‰§è¡Œï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ª<code>Order</code>ç±»ï¼Œåªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„<code>className</code>å’Œ<code>methodName</code>ï¼Œä¸ç”¨ä¿®æ”¹ä»£ç å°±èƒ½å®ç°ï¼Œè¿™å°±æ˜¯åå°„çš„â€œåŠ¨æ€æ€§â€ä»·å€¼ã€‚</p>
<h4 data-id="heading-12">æ¡ˆä¾‹2ï¼šå®ç°isClassPresentæ–¹æ³•ï¼Œä¼˜å…ˆåŠ è½½æŒ‡å®šç±»ï¼Œå¤±è´¥åˆ™åŠ è½½é»˜è®¤ç±»</h4>
<p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°â€œé™çº§ç­–ç•¥â€â€”â€”ä¼˜å…ˆåŠ è½½æŸä¸ªæŒ‡å®šçš„ç±»ï¼Œå¦‚æœè¯¥ç±»ä¸å­˜åœ¨ï¼ˆæ¯”å¦‚ä¾èµ–åŒ…æœªå¼•å…¥ï¼‰ï¼Œå°±åŠ è½½é»˜è®¤çš„å…œåº•ç±»ã€‚ç”¨åå°„å¯ä»¥è½»æ¾å®ç°è¿™ä¸ªé€»è¾‘ï¼Œå®šä¹‰ä¸€ä¸ª<code>isClassPresent</code>æ–¹æ³•æ¥åˆ¤æ–­ç±»æ˜¯å¦å­˜åœ¨å¹¶åŠ è½½ã€‚</p>
<p>å®ç°æ€è·¯ï¼š</p>
<ol>
<li>
<p>å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå‚æ•°ä¸º<code>className</code>å’Œ<code>defaultClassName</code>ï¼›</p>
</li>
<li>
<p>å°è¯•ç”¨<code>Class.forName()</code>åŠ è½½æŒ‡å®šç±»ï¼Œè‹¥ä¸æŠ›å¼‚å¸¸åˆ™è¯´æ˜ç±»å­˜åœ¨ï¼Œè¿”å›è¯¥ç±»çš„Classå¯¹è±¡ï¼›</p>
</li>
<li>
<p>è‹¥åŠ è½½æŒ‡å®šç±»æŠ›<code>ClassNotFoundException</code>ï¼Œåˆ™åŠ è½½é»˜è®¤ç±»å¹¶è¿”å›å…¶Classå¯¹è±¡ã€‚</p>
</li>
</ol>
<h5 data-id="heading-13">æ­¥éª¤1ï¼šåˆ›å»ºé»˜è®¤ç±»å’Œå¤‡é€‰ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é»˜è®¤å…œåº•ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doService</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ‰§è¡Œé»˜è®¤æœåŠ¡é€»è¾‘"</span>);
    }
}

<span class="hljs-comment">// å¤‡é€‰æŒ‡å®šç±»ï¼ˆå¯èƒ½ä¸å­˜åœ¨ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doService</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ‰§è¡Œè‡ªå®šä¹‰æœåŠ¡é€»è¾‘"</span>);
    }
}
</code></pre>
<h5 data-id="heading-14">æ­¥éª¤2ï¼šå®ç°isClassPresentæ–¹æ³•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassLoaderUtil</span> {
    <span class="hljs-comment">/**
     * ä¼˜å…ˆåŠ è½½æŒ‡å®šç±»ï¼Œå¤±è´¥åˆ™åŠ è½½é»˜è®¤ç±»
     * <span class="hljs-doctag">@param</span> className  è¦ä¼˜å…ˆåŠ è½½çš„ç±»å…¨ç±»å
     * <span class="hljs-doctag">@param</span> defaultClassName  å…œåº•çš„é»˜è®¤ç±»å…¨ç±»å
     * <span class="hljs-doctag">@return</span>  åŠ è½½æˆåŠŸçš„Classå¯¹è±¡
     * <span class="hljs-doctag">@throws</span> ClassNotFoundException  è‹¥é»˜è®¤ç±»ä¹Ÿä¸å­˜åœ¨åˆ™æŠ›å¼‚å¸¸
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Class&lt;?&gt; isClassPresent(String className, String defaultClassName) <span class="hljs-keyword">throws</span> ClassNotFoundException {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¼˜å…ˆåŠ è½½æŒ‡å®šç±»</span>
            <span class="hljs-keyword">return</span> Class.forName(className);
        } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
            System.out.println(<span class="hljs-string">"æŒ‡å®šç±»["</span> + className + <span class="hljs-string">"]ä¸å­˜åœ¨ï¼ŒåŠ è½½é»˜è®¤ç±»["</span> + defaultClassName + <span class="hljs-string">"]"</span>);
            <span class="hljs-comment">// åŠ è½½å¤±è´¥ï¼ŒåŠ è½½é»˜è®¤ç±»</span>
            <span class="hljs-keyword">return</span> Class.forName(defaultClassName);
        }
    }
}

</code></pre>
<h5 data-id="heading-15">æ­¥éª¤3ï¼šæµ‹è¯•éªŒè¯</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.lang.reflect.Constructor;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReflectDemo2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åœºæ™¯1ï¼šæŒ‡å®šç±»å­˜åœ¨ï¼ˆCustomServiceå·²åˆ›å»ºï¼‰</span>
        Class&lt;?&gt; clazz1 = ClassLoaderUtil.isClassPresent(
            <span class="hljs-string">"com.example.demo.CustomService"</span>, 
            <span class="hljs-string">"com.example.demo.DefaultService"</span>
        );
        Constructor&lt;?&gt; constructor1 = clazz1.getConstructor();
        <span class="hljs-type">Object</span> <span class="hljs-variable">obj1</span> <span class="hljs-operator">=</span> constructor1.newInstance();
        <span class="hljs-type">Method</span> <span class="hljs-variable">method1</span> <span class="hljs-operator">=</span> clazz1.getMethod(<span class="hljs-string">"doService"</span>);
        method1.invoke(obj1); <span class="hljs-comment">// è¾“å‡ºï¼šæ‰§è¡Œè‡ªå®šä¹‰æœåŠ¡é€»è¾‘</span>

        <span class="hljs-comment">// åœºæ™¯2ï¼šæŒ‡å®šç±»ä¸å­˜åœ¨ï¼ˆæ•…æ„å†™ä¸€ä¸ªé”™è¯¯çš„ç±»åï¼‰</span>
        Class&lt;?&gt; clazz2 = ClassLoaderUtil.isClassPresent(
            <span class="hljs-string">"com.example.demo.NonExistentService"</span>, <span class="hljs-comment">// ä¸å­˜åœ¨çš„ç±»</span>
            <span class="hljs-string">"com.example.demo.DefaultService"</span>
        );
        Constructor&lt;?&gt; constructor2 = clazz2.getConstructor();
        <span class="hljs-type">Object</span> <span class="hljs-variable">obj2</span> <span class="hljs-operator">=</span> constructor2.newInstance();
        <span class="hljs-type">Method</span> <span class="hljs-variable">method2</span> <span class="hljs-operator">=</span> clazz2.getMethod(<span class="hljs-string">"doService"</span>);
        method2.invoke(obj2); <span class="hljs-comment">// è¾“å‡ºï¼šæŒ‡å®šç±»[com.example.NonExistentService]ä¸å­˜åœ¨ï¼ŒåŠ è½½é»˜è®¤ç±»[com.example.DefaultService] + æ‰§è¡Œé»˜è®¤æœåŠ¡é€»è¾‘</span>
    }
}
</code></pre>
<p>è¿™ä¸ªé€»è¾‘åœ¨å®é™…å¼€å‘ä¸­å¾ˆå®ç”¨ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>
<p>æ¡†æ¶çš„æ’ä»¶åŒ–å¼€å‘ï¼šä¼˜å…ˆåŠ è½½ç”¨æˆ·è‡ªå®šä¹‰çš„æ’ä»¶ç±»ï¼Œæ²¡æœ‰åˆ™ç”¨é»˜è®¤å®ç°ï¼›</p>
</li>
<li>
<p>ä¾èµ–é™çº§ï¼šå½“æŸä¸ªç¬¬ä¸‰æ–¹ä¾èµ–åŒ…æœªå¼•å…¥æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°æœ¬åœ°é»˜è®¤å®ç°ï¼Œé¿å…ç¨‹åºå´©æºƒã€‚</p>
</li>
</ul>
<h3 data-id="heading-16">äº”ã€å†™åœ¨æœ€å</h3>
<p>Javaçš„åå°„ï¼Œæ‰“ç ´äº†Javaç¨‹åºåœ¨ç¼–è¯‘æœŸçš„æŸç¼šï¼Œèƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ç±»ã€æ‰§è¡Œæ–¹æ³•ï¼Œæ—¢å¤§å¹…æå‡äº†ç¨‹åºçš„çµæ´»æ€§ä¸æ‰©å±•æ€§ï¼Œä¹Ÿå‡å°‘äº†ç±»é—´çš„ç¡¬ç¼–ç ä¾èµ–ã€‚æ›´å…³é”®çš„æ˜¯ï¼Œåå°„æ˜¯è¯¸å¤šJavaæ ¸å¿ƒæŠ€æœ¯çš„åŸºçŸ³ï¼Œæ¯”å¦‚ï¼šSpring IOCã€MyBatis Mapperæ˜ å°„ã€JUnitå•å…ƒæµ‹è¯•æ¡†æ¶ç­‰ï¼Œåº•å±‚éƒ½ç¦»ä¸å¼€å®ƒçš„æ”¯æ’‘ã€‚</p>
<p>ä½†æˆ‘ä»¬ä¹Ÿä¸èƒ½å¿½è§†å®ƒçš„â€œå¦ä¸€é¢â€ï¼Œåå°„å¯¹ç§æœ‰æˆå‘˜çš„è®¿é—®ä¼šç ´åé¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™ï¼Œè§£æClasså¯¹è±¡ã€éªŒè¯æƒé™ç­‰æ“ä½œå¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬åœ¨ä½¿ç”¨Javaåå°„æ—¶ä¿æŒè°¨æ…ã€‚</p>
<p>æŒæ¡åå°„ï¼Œæœ¬è´¨ä¸Šæ˜¯æ‰“é€šäº†â€œä½¿ç”¨æ¡†æ¶â€åˆ°â€œç†è§£æ¡†æ¶åº•å±‚åŸç†â€çš„å…³é”®ä¸€ç¯ã€‚</p>
<p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµã€åœ¨çœ‹ã€è½¬å‘ä¸‰è¿ï½ æœ‰ç–‘é—®ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½</p>
<p><strong>æ›´å¤šç²¾å½©æ–‡ç« ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<code>å‰ç«¯æ¶æ„å¸ˆç¬”è®°</code></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE å›½å†…ç‰ˆ SOLO å…¨æ”¾å¼€]]></title>    <link>https://juejin.cn/post/7587252766832033834</link>    <guid>https://juejin.cn/post/7587252766832033834</guid>    <pubDate>2025-12-24T14:06:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587252766832033834" data-draft-id="7587253759092785188" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE å›½å†…ç‰ˆ SOLO å…¨æ”¾å¼€"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-24T14:06:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE å›½å†…ç‰ˆ SOLO å…¨æ”¾å¼€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T14:06:50.000Z" title="Wed Dec 24 2025 14:06:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çœŸä¸æ˜¯æˆ‘è¦å…è´¹å®£ä¼  TRAEï¼Œå®åœ¨æ˜¯ä»–ä»¬ç¡®å®å¤§æ–¹å•Šï¼</p>
<p>12 æœˆ 24 æ—¥è‡³ 25 æ—¥ï¼ŒTRAE ä¸­å›½ç‰ˆ SOLO æ¨¡å¼å°†é€æ­¥é¢å‘å…¨éƒ¨ç”¨æˆ·å¼€æ”¾ã€‚å°† TRAE ä¸­å›½ç‰ˆ IDE æ›´æ–°åˆ°æœ€æ–°ç‰ˆï¼ˆV3.3.10 æˆ–ä»¥ä¸Šï¼‰ï¼Œç›´æ¥è¿›å…¥ SOLO æ¨¡å¼å³å¯å…è´¹ä½¿ç”¨ï¼Œä½“éªŒé«˜æ•ˆå¼€å‘ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e46f47bf75045ada8022f128a779aaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767190010&amp;x-signature=ksrYfuP59mqMDttFVZbtDyey7S4%3D" alt="640 (13).png" loading="lazy"/></p>
<p>ç›®å‰ç°åº¦å·²å¼€å¯ï¼Œæˆ‘ä»¬å…¨åŠ›äº‰å– 12 æœˆ 25 æ—¥ 24 ç‚¹å‰å…¨é‡ä¸Šçº¿ï¼Œå…·ä½“æ—¶é—´ä¼šæ ¹æ®èµ„æºæƒ…å†µåŠ¨æ€è°ƒæ•´ï¼Œè¾›è‹¦å¤§å®¶è€å¿ƒç­‰å¾…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f67ae85b13c4156a12e664210ddacc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767190010&amp;x-signature=ISlV3L43iJvQCHMhfL0EoO%2Bu5Tg%3D" alt="640 (13).png" loading="lazy"/></p>
<p>è™½ç„¶ï¼ŒTRAE è·ç¦»å›½å¤–çš„ç«å“è¿˜æœ‰ä¸€äº›å·®è·ï¼Œä½†æ˜¯ä»–ä»¬çš„æ ¼å±€å€¼å¾—æ”¯æŒä¸€æ³¢~</p>
<p>å¼€å¯æ­¥éª¤ï¼š</p>
<ol>
<li>ä¸‹è½½ TRAE CN ï¼Œå³å›½å†…ç‰ˆï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.trae.cn%2F%25EF%25BC%2589%25EF%25BC%258C%25E6%2588%2596%25E8%2580%2585%25E6%259B%25B4%25E6%2596%25B0%25E5%2588%25B0" target="_blank" title="https://www.trae.cn/%EF%BC%89%EF%BC%8C%E6%88%96%E8%80%85%E6%9B%B4%E6%96%B0%E5%88%B0" ref="nofollow noopener noreferrer">www.trae.cn/ï¼‰ï¼Œæˆ–è€…æ›´æ–°åˆ°</a> V3.3.10 å³ä»¥ä¸Šï¼Œã€‚</li>
<li>å¦‚ä¸‹å›¾ç‚¹å‡»åˆ‡æ¢å³å¯ï¼Œå¦‚æœå½“å‰è¿˜ä¸è¡Œï¼Œè¯·ç¨å¾®ç­‰å€™ä¸€ä¸‹ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8485d719b5674238a4257e1b13220e8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767190010&amp;x-signature=7y3q0%2F0kDfbl%2FhljDnXqNXD28hc%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251224214230_1216_280.png" loading="lazy"/></p>
<p>ç”±äº TRAE é¢å‘çš„å¹¶ä¸åªæ˜¯æŠ€æœ¯äººå‘˜ï¼Œæ‰€ä»¥è¿™ä¸¤å¤©ä½¿ç”¨çš„äººæ•°åº”è¯¥ä¼šå¾ˆå¤šï¼Œå¦‚æœå‡ºç°å“åº”æ…¢çš„æƒ…å†µï¼Œå¸Œæœ›å¤§å®¶ç†è§£ä¸€ä¸‹~</p>
<p>å¸Œæœ› TRAE è¶Šæ¥è¶Šå¥½ï¼Œä¹Ÿå¸Œæœ›å›½å†…çš„å…¶ä»– AI å›¢é˜Ÿè¶Šæ¥è¶Šå¥½ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¾ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI æç¤ºè¯ç”Ÿæˆå’Œä¼˜åŒ–å·¥å…·ï¼Œä¸ºä½ æä¾›æ›´ç²¾å‡†ï¼Œä¸“ä¸šï¼Œå¯æŒç»­è¿­ä»£æç¤ºè¯ï¼]]></title>    <link>https://juejin.cn/post/7587265840065888262</link>    <guid>https://juejin.cn/post/7587265840065888262</guid>    <pubDate>2025-12-24T15:01:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587265840065888262" data-draft-id="7587252766832181290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¾ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI æç¤ºè¯ç”Ÿæˆå’Œä¼˜åŒ–å·¥å…·ï¼Œä¸ºä½ æä¾›æ›´ç²¾å‡†ï¼Œä¸“ä¸šï¼Œå¯æŒç»­è¿­ä»£æç¤ºè¯ï¼"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-24T15:01:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¾ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI æç¤ºè¯ç”Ÿæˆå’Œä¼˜åŒ–å·¥å…·ï¼Œä¸ºä½ æä¾›æ›´ç²¾å‡†ï¼Œä¸“ä¸šï¼Œå¯æŒç»­è¿­ä»£æç¤ºè¯ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T15:01:44.000Z" title="Wed Dec 24 2025 15:01:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨AIæŠ€æœ¯è¿…çŒ›å‘å±•çš„å½“ä¸‹ï¼Œé«˜æ•ˆä¸”ç²¾å‡†çš„æç¤ºè¯æˆä¸ºä¸AIæ¨¡å‹æœ‰æ•ˆäº¤äº’çš„å…³é”®ã€‚ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº«ä¸€æ¬¾ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI æç¤ºè¯ç”Ÿæˆå’Œä¼˜åŒ–å·¥å…·ï¼Œä¸ºä½ æä¾›æ›´ç²¾å‡†ï¼Œä¸“ä¸šï¼Œå¯æŒç»­è¿­ä»£æç¤ºè¯ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89381376279149b998279e6fcfadef69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=zkOp%2FJnyeIUd9XfCddze0NanwOs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å·¥å…·ä»‹ç»</h2>
<p>PromptPilot æ˜¯ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ä¸€æ¬¾ä¸“æ³¨äº AI æç¤ºè¯ä¼˜åŒ–ä¸æç¤ºè¯ç”Ÿæˆçš„å®ç”¨å·¥å…·ã€‚è¯¥å·¥å…·æ—¨åœ¨å¸®åŠ©ç”¨æˆ·æ›´é«˜æ•ˆåœ°ç”Ÿæˆå’Œä¼˜åŒ– AI æç¤ºè¯ï¼Œæå‡ä¸ AI æ¨¡å‹çš„äº¤äº’æ•ˆç‡å’Œè´¨é‡ã€‚é€šè¿‡ PromptPilotï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°åˆ›å»ºã€è°ƒè¯•å’Œç®¡ç†æç¤ºè¯ï¼Œä»¥æ»¡è¶³å¤šæ ·åŒ–çš„åº”ç”¨åœºæ™¯éœ€æ±‚ã€‚</p>
<ul>
<li><strong>åœ¨çº¿è®¿é—®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpromptpilot.volcengine.com" target="_blank" title="https://promptpilot.volcengine.com" ref="nofollow noopener noreferrer">promptpilot.volcengine.com</a></strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76655860d3e54e24a07d813ac460c781~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=h1HGk9acLk7F6uE2n5QLeC7VuWU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">åº”ç”¨åœºæ™¯</h2>
<ul>
<li><strong>å†…å®¹åˆ›ä½œ</strong>ï¼šåœ¨è‡ªåª’ä½“ã€å¹¿å‘Šã€è¥é”€ç­‰é¢†åŸŸï¼ŒPromptPilot å¯å¸®åŠ©åˆ›ä½œè€…å¿«é€Ÿç”Ÿæˆå¸å¼•äººçš„æ–‡æ¡ˆæç¤ºè¯ï¼Œæå‡å†…å®¹è´¨é‡å’Œå¸å¼•åŠ›ã€‚</li>
<li><strong>æ•°æ®åˆ†æ</strong>ï¼šåœ¨æ•°æ®åˆ†æåœºæ™¯ä¸­ï¼ŒPromptPilot å¯è¾…åŠ©åˆ†æå¸ˆç”Ÿæˆç²¾å‡†çš„æŸ¥è¯¢æç¤ºè¯ï¼Œæé«˜æ•°æ®æ£€ç´¢å’Œåˆ†ææ•ˆç‡ã€‚</li>
<li><strong>å®¢æˆ·æœåŠ¡</strong>ï¼šåœ¨å®¢æˆ·æœåŠ¡é¢†åŸŸï¼ŒPromptPilot å¯ç”¨äºç”Ÿæˆè‡ªåŠ¨åŒ–å›å¤çš„æç¤ºè¯ï¼Œæå‡å®¢æˆ·å“åº”é€Ÿåº¦å’Œæ»¡æ„åº¦ã€‚</li>
<li><strong>æ•™è‚²è¡Œä¸š</strong>ï¼šæ•™å¸ˆå’Œå­¦ç”Ÿå¯åˆ©ç”¨ PromptPilot ç”Ÿæˆæ•™å­¦å’Œå­¦ä¹ ç›¸å…³çš„æç¤ºè¯ï¼Œä¿ƒè¿›çŸ¥è¯†çš„æœ‰æ•ˆä¼ é€’å’Œå­¦ä¹ æ•ˆæœçš„æå‡ã€‚</li>
</ul>
<h2 data-id="heading-3">æç¤ºè¯ç”Ÿæˆ</h2>
<h3 data-id="heading-4">ä»»åŠ¡æè¿°ï¼š</h3>
<pre><code class="hljs">ç»™æˆ‘å†™ä¸€ä¸ªä¼ä¸šä¼˜ç§€å‘˜å·¥è·å¥–æ„Ÿè¨€ã€‚
</code></pre>
<h3 data-id="heading-5">ç”Ÿæˆåçš„ Promptï¼š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b138f61f7314e06bdc9803085d98c5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=xOf4dSVPPVmdhaN3OAAkNIMax8U%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â è·å¥–æ„Ÿè¨€åˆ›ä½œæŒ‡å—</span>
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â ä¸€ã€èº«ä»½è®¾å®š</span></span>
ä½ æ˜¯ä¼ä¸šè¡Œæ”¿éƒ¨é—¨çš„èµ„æ·±æ–‡æ¡ˆä¸“å‘˜ï¼Œè´Ÿè´£ä¸ºè·å¥–å‘˜å·¥æ’°å†™ç¬¦åˆå…¬å¸æ–‡åŒ–çš„æ­£å¼è·å¥–æ„Ÿè¨€ã€‚æ ¸å¿ƒèŒè´£æ˜¯ï¼šç»“åˆå‘˜å·¥å²—ä½ç‰¹æ€§ä¸è´¡çŒ®äº®ç‚¹ï¼Œæ‰“é€ æƒ…æ„ŸçœŸæŒšã€é€»è¾‘æ¸…æ™°ã€è´´åˆåœºæ™¯çš„å‘è¨€å†…å®¹ï¼Œå¸®åŠ©å‘˜å·¥åœ¨é¢å¥–ä»ªå¼ä¸Šå±•ç°ä¸“ä¸šå½¢è±¡ä¸å›¢é˜Ÿç²¾ç¥ã€‚
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â äºŒã€åˆ›ä½œå‡†åˆ™</span></span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">##Â å¿…åšäº‹é¡¹</span></span>
1.Â å¿…é¡»åŒ…å«è·å¥–å‘˜å·¥å§“åã€æ‰€è·å¥–é¡¹å…¨ç§°ã€å…¬å¸åç§°
2.Â å¿…é¡»çªå‡ºå‘˜å·¥å²—ä½æ ¸å¿ƒèŒè´£ä¸å…³é”®è´¡çŒ®æ•°æ®
3.Â å¿…é¡»ä½“ç°å¯¹å…¬å¸ã€å›¢é˜Ÿã€å®¶äººçš„æ„Ÿè°¢å±‚æ¬¡
4.Â å¿…é¡»åŒ…å«å¯¹æœªæ¥å·¥ä½œçš„æ‰¿è¯ºä¸å±•æœ›
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">##Â çº¦æŸæ¡ä»¶</span></span>
1.Â ç¦æ­¢ä½¿ç”¨å¤¸å¼ ä¸å®çš„è¡¨è¿°ï¼Œæ‰€æœ‰è´¡çŒ®éœ€åŸºäºæä¾›çš„äº‹å®
2.Â ç¦æ­¢å‡ºç°æ•æ„Ÿè¯æ±‡æˆ–ä¸å½“è¡¨è¿°
3.Â ç¦æ­¢é—æ¼æŒ‡å®šçš„æ„Ÿè°¢å¯¹è±¡
4.Â ç¦æ­¢è¶…è¿‡è§„å®šå­—æ•°é™åˆ¶
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â ä¸‰ã€å˜é‡è¯´æ˜</span></span>
&lt;å‘˜å·¥å§“å&gt;{{EMPLOYEE_NAME}}&lt;/å‘˜å·¥å§“å&gt;Â -Â è·å¥–å‘˜å·¥çš„å®Œæ•´å§“å
&lt;å¥–é¡¹ç±»å‹&gt;{{AWARD_TYPE}}&lt;/å¥–é¡¹ç±»å‹&gt;Â -Â å…·ä½“è·å¥–åç§°ï¼ˆå¦‚ï¼šå¹´åº¦ä¼˜ç§€å‘˜å·¥ã€å­£åº¦åˆ›æ–°ä¹‹æ˜Ÿï¼‰
&lt;å…¬å¸åç§°&gt;{{COMPANY_NAME}}&lt;/å…¬å¸åç§°&gt;Â -Â å‘˜å·¥æ‰€åœ¨ä¼ä¸šå…¨ç§°
&lt;å·¥ä½œèŒè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½œèŒè´£&gt;Â -Â å‘˜å·¥æ—¥å¸¸å·¥ä½œå†…å®¹æ¦‚è¿°
&lt;æ ¸å¿ƒè´¡çŒ®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿ƒè´¡çŒ®&gt;Â -Â å‘˜å·¥è·å¥–çš„å…³é”®ä¸šç»©æˆ–çªå‡ºè¡¨ç°
&lt;æ„Ÿè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æ„Ÿè°¢å¯¹è±¡&gt;Â -Â éœ€è¦ç‰¹åˆ«è‡´è°¢çš„ä¸ªäººæˆ–å›¢é˜Ÿ
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â å››ã€åˆ›ä½œæµç¨‹</span></span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">##Â ç¬¬ä¸€æ­¥ï¼šå†…å®¹æ¶æ„æ­å»º</span></span>
1.Â å¼€åœºé—®å€™ï¼šç¤¼è²Œæ€§ç§°å‘¼åœ¨åœºäººå‘˜
2.Â è·å¥–è‡´è°¢ï¼šè¡¨è¾¾è·å¥–çš„è£å¹¸ä¸æ¿€åŠ¨å¿ƒæƒ…
3.Â å·¥ä½œå›é¡¾ï¼šç®€è¿°å²—ä½ä»·å€¼ä¸æ ¸å¿ƒè´¡çŒ®
4.Â æ„Ÿæ©ç¯èŠ‚ï¼šåˆ†å±‚æ¬¡æ„Ÿè°¢å…¬å¸ã€å›¢é˜Ÿã€å®¶äºº
5.Â æœªæ¥å±•æœ›ï¼šæ‰¿è¯ºæœªæ¥å·¥ä½œæ–¹å‘ä¸ç›®æ ‡
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">##Â ç¬¬äºŒæ­¥ï¼šç»†èŠ‚å¡«å……</span></span>
1.Â å°†Â &lt;å‘˜å·¥å§“å&gt;{{EMPLOYEE_NAME}}&lt;/å‘˜å·¥å§“å&gt;Â è‡ªç„¶èå…¥å¼€åœºä¸è½æ¬¾
2.Â å‡†ç¡®å¼•ç”¨Â &lt;å¥–é¡¹ç±»å‹&gt;{{AWARD_TYPE}}&lt;/å¥–é¡¹ç±»å‹&gt;Â å…¨ç§°
3.Â ç»“åˆÂ &lt;å·¥ä½œèŒè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½œèŒè´£&gt;Â è¯´æ˜å²—ä½ä»·å€¼
4.Â ç”¨æ•°æ®åŒ–è¯­è¨€å‘ˆç°Â &lt;æ ¸å¿ƒè´¡çŒ®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿ƒè´¡çŒ®&gt;
5.Â æŒ‰é‡è¦æ€§æ’åºæåŠÂ &lt;æ„Ÿè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æ„Ÿè°¢å¯¹è±¡&gt;
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">##Â ç¬¬ä¸‰æ­¥ï¼šé£æ ¼æ¶¦è‰²</span></span>
1.Â è¯­è¨€é£æ ¼ï¼šæ­£å¼ä¸­å¸¦æœ‰æ¸©åº¦ï¼Œé¿å…è¿‡äºå£è¯­åŒ–
2.Â æƒ…æ„Ÿè¡¨è¾¾ï¼šæ§åˆ¶æƒ…ç»ªå°ºåº¦ï¼Œä¿æŒä¸“ä¸šå¾—ä½“
3.Â æ—¶é—´æ§åˆ¶ï¼šæŒ‰3åˆ†é’Ÿå‘è¨€é•¿åº¦è°ƒæ•´å†…å®¹è¯¦ç•¥ï¼ˆçº¦500-600å­—ï¼‰
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â äº”ã€è¾“å‡ºè§„èŒƒ</span></span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">##Â å†…å®¹ç»“æ„</span></span>
1.Â æ ‡é¢˜ï¼š[å¥–é¡¹åç§°]è·å¥–æ„Ÿè¨€
2.Â ç§°å‘¼ï¼šå°Šæ•¬çš„å„ä½é¢†å¯¼ã€äº²çˆ±çš„åŒäº‹ä»¬ï¼š
3.Â æ­£æ–‡ï¼šæŒ‰åˆ›ä½œæµç¨‹é¡ºåºå±•å¼€
4.Â è½æ¬¾ï¼š[å‘˜å·¥å§“å]Â [æ—¥æœŸ]
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">##Â æ ¼å¼è¦æ±‚</span></span>
1.Â ä½¿ç”¨æ ‡å‡†å®‹ä½“å››å·å­—ï¼Œ1.5å€è¡Œè·
2.Â å…³é”®è´¡çŒ®éƒ¨åˆ†åŠ ç²—æ˜¾ç¤º
3.Â æ„Ÿè°¢å¯¹è±¡å•ç‹¬åˆ†æ®µ
4.Â ç»“å°¾éƒ¨åˆ†éœ€åŒ…å«å¯¹å…¬å¸æœªæ¥çš„ç¾å¥½ç¥æ„¿
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">##Â è´¨é‡æ ‡å‡†</span></span>
1.Â ç¬¦åˆå…¬å¸æ–‡åŒ–ä»·å€¼è§‚
2.Â çªå‡ºä¸ªäººè´¡çŒ®åŒæ—¶ä½“ç°å›¢é˜Ÿç²¾ç¥
3.Â é¿å…ç©ºè¯å¥—è¯ï¼Œç”¨å…·ä½“äº‹ä¾‹æ”¯æ’‘
4.Â è¯­è¨€æµç•…ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæƒ…æ„ŸçœŸæŒš
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#Â å…­ã€åˆ›ä½œç¤ºä¾‹</span></span>
ï¼ˆæ­¤å¤„çœç•¥ç¤ºä¾‹å†…å®¹ï¼Œå®é™…åˆ›ä½œæ—¶éœ€æ ¹æ®å˜é‡å¡«å……ï¼‰

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸Šè¦æ±‚ï¼Œç»“åˆæä¾›çš„å˜é‡ä¿¡æ¯ï¼Œåˆ›ä½œä¸€ç¯‡å®Œæ•´çš„è·å¥–æ„Ÿè¨€ã€‚
</code></pre>
<h2 data-id="heading-6">è°ƒè¯• Prompt</h2>
<h3 data-id="heading-7">æ–‡æœ¬ç†è§£</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8613194ffe430b9e26aac69375b3b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=5HN0GvJG9IfWoXnXi7DfWG94Cn4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">è§†è§‰ç†è§£</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78551dc144c34faab1cbfa68043835c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=owY7pIn6JBCFg78f7wcAvsYbc%2BE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">å¤šè½®å¯¹è¯</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41ee58f98c9440388b8b6344fa542986~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=Tl0DxjoXJWJTOyV25T%2FkveGXSFc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">ä¼˜åŒ– Prompt</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/692067987a5342189584bd28cabd1cb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=SgMpI6VTLg7W%2BgiKb1m%2FE5ysX9Y%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/744984e9a39c4fedae8911f79947f0f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=8w1jX7eKDMsYq0HvRQAZnWDMZtM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">æ›´å¤šAIæç¤ºè¯å¤§å…¨</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/034b32f8cfb54987ac7d416775f72eb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767193303&amp;x-signature=nCF%2B6Aam5QnAGfAn4CKzkGzBPnw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ› ï¸ ä¿®å¤ macOS é¢„è§ˆä¹±ç  PDF çš„ç»ˆææ–¹æ¡ˆï¼šç”¨ Python æ‰¹é‡â€œå›¾åƒåŒ–â€æ‹¯æ•‘æ— æ³•æ‰“å¼€çš„ PDF]]></title>    <link>https://juejin.cn/post/7587252766832001066</link>    <guid>https://juejin.cn/post/7587252766832001066</guid>    <pubDate>2025-12-24T13:51:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587252766832001066" data-draft-id="7587265840065675270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ğŸ› ï¸ ä¿®å¤ macOS é¢„è§ˆä¹±ç  PDF çš„ç»ˆææ–¹æ¡ˆï¼šç”¨ Python æ‰¹é‡â€œå›¾åƒåŒ–â€æ‹¯æ•‘æ— æ³•æ‰“å¼€çš„ PDF"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T13:51:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="90åæ™¨ä»”"/> <meta itemprop="url" content="https://juejin.cn/user/2717648476705773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ğŸ› ï¸ ä¿®å¤ macOS é¢„è§ˆä¹±ç  PDF çš„ç»ˆææ–¹æ¡ˆï¼šç”¨ Python æ‰¹é‡â€œå›¾åƒåŒ–â€æ‹¯æ•‘æ— æ³•æ‰“å¼€çš„ PDF
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648476705773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    90åæ™¨ä»”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T13:51:00.000Z" title="Wed Dec 24 2025 13:51:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>é€‚ç”¨äººç¾¤</strong>ï¼šMac ç”¨æˆ·ã€åŠå…¬æ—ã€ç§‘ç ”äººå‘˜ã€PDF å¤„ç†çˆ±å¥½è€…<br/>
<strong>å…³é”®è¯</strong>ï¼šmacOS PDF ä¹±ç ã€é¢„è§ˆæ‰“ä¸å¼€ PDFã€Python æ‰¹é‡ä¿®å¤ PDFã€PyMuPDFã€PDF è½¬å›¾åƒ</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ” é—®é¢˜èƒŒæ™¯</h2>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Ÿ</p>
<ul>
<li>åœ¨ Chromeã€Safari ç­‰<strong>æµè§ˆå™¨ä¸­èƒ½æ­£å¸¸æŸ¥çœ‹ PDF</strong>ï¼›</li>
<li>ä½†ç”¨ macOS è‡ªå¸¦çš„ <strong>â€œé¢„è§ˆâ€ï¼ˆPreviewï¼‰æˆ– PDF é˜…è¯»å™¨æ‰“å¼€æ—¶ï¼Œé¡µé¢ç©ºç™½æˆ–æ˜¾ç¤ºä¹±ç </strong>ï¼Ÿ</li>
</ul>
<p>è¿™é€šå¸¸ä¸æ˜¯æ–‡ä»¶æŸåï¼Œè€Œæ˜¯ PDF ä½¿ç”¨äº†<strong>éæ ‡å‡†å­—ä½“åµŒå…¥ã€JavaScriptã€è¡¨å•å­—æ®µæˆ–ç‰¹æ®Šç¼–ç </strong>ï¼Œè€Œ macOS é¢„è§ˆå¯¹è¿™äº›ç‰¹æ€§æ”¯æŒæœ‰é™ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>æ ¹æœ¬åŸå› </strong>ï¼šPDF ç»“æ„ä¸è§„èŒƒï¼Œä½†æµè§ˆå™¨â€œå®¹é”™èƒ½åŠ›å¼ºâ€ï¼Œæœ¬åœ°é˜…è¯»å™¨åˆ™ä¸¥æ ¼è§£æå¤±è´¥ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">âœ… è§£å†³æ€è·¯ï¼šç”¨â€œå›¾åƒåŒ–â€ç»•è¿‡æ‰€æœ‰å…¼å®¹æ€§é—®é¢˜</h2>
<p>æœ€å¯é ã€é€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<blockquote>
<p><strong>å°†æ¯ä¸€é¡µ PDF æ¸²æŸ“ä¸ºé«˜åˆ†è¾¨ç‡å›¾ç‰‡ï¼Œå†é‡æ–°å°è£…æˆæ–°çš„ PDF æ–‡ä»¶</strong>ã€‚</p>
</blockquote>
<p>è¿™æ ·ç”Ÿæˆçš„ PDFï¼š</p>
<ul>
<li>ä¸ä¾èµ–ä»»ä½•å­—ä½“ï¼›</li>
<li>æ—  JavaScript/è¡¨å•ç­‰å¤æ‚å…ƒç´ ï¼›</li>
<li><strong>100% å…¼å®¹æ‰€æœ‰è®¾å¤‡å’Œé˜…è¯»å™¨</strong>ï¼ˆåŒ…æ‹¬ iPhoneã€iPadã€Windowsã€Macï¼‰ï¼›</li>
<li>å”¯ä¸€ä»£ä»·ï¼š<strong>æ–‡ä»¶ä½“ç§¯ç•¥å¤§ + æ— æ³•å¤åˆ¶æ–‡æœ¬</strong>ï¼ˆè‹¥åŸå§‹æ˜¯æ‰«æä»¶åˆ™æ— å½±å“ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">ğŸ è‡ªåŠ¨åŒ–è„šæœ¬ï¼šä¸€é”®æ‰¹é‡ä¿®å¤</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç”¨ <strong>Python + PyMuPDFï¼ˆfitzï¼‰</strong> ç¼–å†™çš„è„šæœ¬ï¼Œä¸“ä¸º Mac ç”¨æˆ·è®¾è®¡ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>è‡ªåŠ¨ä» <code>PDF/</code> æ–‡ä»¶å¤¹è¯»å–é—®é¢˜æ–‡ä»¶ï¼›</li>
<li>ä¿®å¤åç»Ÿä¸€è¾“å‡ºåˆ° <code>repairPdf/</code> æ–‡ä»¶å¤¹ï¼›</li>
<li>å¯é…ç½® DPIã€æ–‡ä»¶ååç¼€ã€è¾“å…¥/è¾“å‡ºç›®å½•åï¼›</li>
<li><strong>æ— éœ€å‘½ä»¤è¡Œå‚æ•°ï¼Œå¼€ç®±å³ç”¨</strong>ï¼</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ“œ å®Œæ•´è„šæœ¬ï¼ˆå«è¯¦ç»†ä¸­æ–‡æ³¨é‡Šï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-comment"># -*- coding: utf-8 -*-</span>

<span class="hljs-string">"""
ã€Mac PDF ä¹±ç ä¿®å¤å·¥å…·ã€‘
åŠŸèƒ½ï¼šå°†æ— æ³•åœ¨â€œé¢„è§ˆâ€ä¸­æ­£å¸¸æ˜¾ç¤ºçš„ PDF è½¬æ¢ä¸ºçº¯å›¾åƒ PDFï¼Œç¡®ä¿å…¨å¹³å°å…¼å®¹ã€‚
åŸç†ï¼šé€é¡µæ¸²æŸ“ PDF ä¸º PNG å›¾åƒï¼Œå†åˆæˆæ–° PDFã€‚

âœ… ä½¿ç”¨æ–¹æ³•ï¼š
1. å°†æœ¬è„šæœ¬æ”¾åœ¨ä»»æ„æ–‡ä»¶å¤¹ï¼ˆå¦‚ ~/Desktop/AITools/ï¼‰
2. åœ¨åŒçº§ç›®å½•åˆ›å»º "originalPDF" æ–‡ä»¶å¤¹ï¼Œæ”¾å…¥æ‰€æœ‰æœ‰é—®é¢˜çš„ PDF
3. ç»ˆç«¯è¿è¡Œï¼špython3 repair_pdf.py
4. ä¿®å¤åçš„æ–‡ä»¶è‡ªåŠ¨ä¿å­˜åˆ°åŒçº§ "repairPDF" æ–‡ä»¶å¤¹

ğŸ”§ é…ç½®è¯´æ˜ï¼š
- æ‰€æœ‰å¯è°ƒå‚æ•°é›†ä¸­åœ¨é¡¶éƒ¨ï¼Œä¿®æ”¹æ–¹ä¾¿
- æ”¯æŒè‡ªå®šä¹‰ DPIï¼ˆæ¸…æ™°åº¦ï¼‰ã€æ˜¯å¦åŠ  "_fixed" åç¼€ç­‰

ä½œè€…ï¼šJCodeï¼ˆåŸºäº Qwen æŠ€æœ¯æ”¯æŒï¼‰
"""</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> fitz  <span class="hljs-comment"># PyMuPDFï¼šå¼ºå¤§çš„ PDF å¤„ç†åº“</span>


<span class="hljs-comment"># ==============================</span>
<span class="hljs-comment"># ğŸ”§ ç”¨æˆ·é…ç½®åŒºï¼ˆæŒ‰éœ€ä¿®æ”¹è¿™é‡Œï¼‰</span>
<span class="hljs-comment"># ==============================</span>
INPUT_FOLDER_NAME = <span class="hljs-string">"originalPDF"</span>          <span class="hljs-comment"># åŸå§‹ PDF æ‰€åœ¨çš„å­æ–‡ä»¶å¤¹åï¼ˆå¿…é¡»å­˜åœ¨ï¼‰</span>
OUTPUT_FOLDER_NAME = <span class="hljs-string">"repairPDF"</span>   <span class="hljs-comment"># ä¿®å¤å PDF ä¿å­˜çš„å­æ–‡ä»¶å¤¹åï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºï¼‰</span>
DPI = <span class="hljs-number">150</span>                          <span class="hljs-comment"># æ¸²æŸ“åˆ†è¾¨ç‡ï¼ˆå•ä½ï¼šdots per inchï¼‰</span>
                                   <span class="hljs-comment"># æ¨èå€¼ï¼š150ï¼ˆæ™®é€šæ–‡æ¡£ï¼‰ã€200ï¼ˆå°å­—å·/å›¾è¡¨ï¼‰ã€300ï¼ˆå°åˆ·çº§ï¼‰</span>
ADD_FIXED_SUFFIX = <span class="hljs-literal">True</span>            <span class="hljs-comment"># æ˜¯å¦åœ¨è¾“å‡ºæ–‡ä»¶ååæ·»åŠ  "_fixed" åç¼€</span>
                                   <span class="hljs-comment"># è®¾ä¸º False åˆ™ä¿ç•™åŸæ–‡ä»¶åï¼ˆæ³¨æ„ï¼šå¯èƒ½è¦†ç›–ï¼ï¼‰</span>
<span class="hljs-comment"># ==============================</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">repair_pdf</span>(<span class="hljs-params">input_path, output_path, dpi=<span class="hljs-number">150</span></span>):
    <span class="hljs-string">"""
    ä¿®å¤å•ä¸ª PDF æ–‡ä»¶ï¼šå°†å…¶æ¯ä¸€é¡µè½¬ä¸ºå›¾åƒï¼Œå†åˆå¹¶ä¸ºæ–° PDF
    
    :param input_path: åŸå§‹ PDF çš„å®Œæ•´è·¯å¾„
    :param output_path: ä¿®å¤å PDF çš„å®Œæ•´è·¯å¾„
    :param dpi: æ¸²æŸ“åˆ†è¾¨ç‡ï¼Œè¶Šé«˜è¶Šæ¸…æ™°ä½†æ–‡ä»¶è¶Šå¤§
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ‰“å¼€åŸå§‹ PDF æ–‡æ¡£</span>
        doc = fitz.<span class="hljs-built_in">open</span>(input_path)
        <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„ç©º PDF æ–‡æ¡£ç”¨äºè¾“å‡º</span>
        new_doc = fitz.<span class="hljs-built_in">open</span>()
        <span class="hljs-comment"># åˆ›å»ºç¼©æ”¾çŸ©é˜µï¼šPDF é»˜è®¤ DPI æ˜¯ 72ï¼Œæ‰€ä»¥ (dpi / 72) æ˜¯ç¼©æ”¾æ¯”ä¾‹</span>
        mat = fitz.Matrix(dpi / <span class="hljs-number">72</span>, dpi / <span class="hljs-number">72</span>)

        <span class="hljs-comment"># éå†æ¯ä¸€é¡µ</span>
        <span class="hljs-keyword">for</span> page_num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(doc.page_count):
            page = doc[page_num]
            <span class="hljs-comment"># å°†é¡µé¢æ¸²æŸ“ä¸ºä½å›¾ï¼ˆalpha=False è¡¨ç¤ºä¸å¸¦é€æ˜é€šé“ï¼Œå‡å°ä½“ç§¯ï¼‰</span>
            pix = page.get_pixmap(matrix=mat, alpha=<span class="hljs-literal">False</span>)
            <span class="hljs-comment"># å°†å›¾åƒè½¬ä¸º PNG å­—èŠ‚æµï¼ˆä¹Ÿå¯ç”¨ "jpeg"ï¼Œä½† PNG æ— æŸæ›´å®‰å…¨ï¼‰</span>
            img_data = pix.tobytes(<span class="hljs-string">"png"</span>)
            <span class="hljs-comment"># å®šä¹‰å›¾åƒæ’å…¥åŒºåŸŸï¼ˆä»å·¦ä¸Šè§’ 0,0 å¼€å§‹ï¼Œå®½é«˜ä¸ºå›¾åƒå°ºå¯¸ï¼‰</span>
            img_rect = fitz.Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, pix.width, pix.height)

            <span class="hljs-comment"># åœ¨æ–° PDF ä¸­æ–°å»ºä¸€é¡µï¼Œå°ºå¯¸ä¸å›¾åƒä¸€è‡´</span>
            new_page = new_doc.new_page(width=pix.width, height=pix.height)
            <span class="hljs-comment"># å°†å›¾åƒæ’å…¥è¯¥é¡µ</span>
            new_page.insert_image(img_rect, stream=img_data)

        <span class="hljs-comment"># ä¿å­˜æ–° PDFï¼ˆgarbage=4 æ¸…ç†å†—ä½™å¯¹è±¡ï¼Œdeflate=True å‹ç¼©ï¼‰</span>
        new_doc.save(output_path, garbage=<span class="hljs-number">4</span>, deflate=<span class="hljs-literal">True</span>)
        new_doc.close()
        doc.close()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å·²ä¿®å¤: <span class="hljs-subst">{os.path.basename(output_path)}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å¤„ç†å¤±è´¥ <span class="hljs-subst">{input_path}</span>: <span class="hljs-subst">{e}</span>"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_repair</span>(<span class="hljs-params">input_folder, output_folder, dpi=<span class="hljs-number">150</span>, add_suffix=<span class="hljs-literal">True</span></span>):
    <span class="hljs-string">"""
    æ‰¹é‡å¤„ç†æŒ‡å®šæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰ PDF æ–‡ä»¶
    
    :param input_folder: è¾“å…¥æ–‡ä»¶å¤¹è·¯å¾„
    :param output_folder: è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
    :param dpi: æ¸²æŸ“ DPI
    :param add_suffix: æ˜¯å¦æ·»åŠ  "_fixed" åç¼€
    """</span>
    <span class="hljs-comment"># æ£€æŸ¥è¾“å…¥æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.isdir(input_folder):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯ï¼šè¾“å…¥æ–‡ä»¶å¤¹ä¸å­˜åœ¨ â†’ <span class="hljs-subst">{input_folder}</span>"</span>)
        <span class="hljs-keyword">return</span>

    <span class="hljs-comment"># è‡ªåŠ¨åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹ï¼ˆexist_ok=True è¡¨ç¤ºå¦‚æœå·²å­˜åœ¨ä¹Ÿä¸æŠ¥é”™ï¼‰</span>
    os.makedirs(output_folder, exist_ok=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰ .pdf æ–‡ä»¶ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</span>
    pdf_files = [
        f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> os.listdir(input_folder)
        <span class="hljs-keyword">if</span> f.lower().endswith(<span class="hljs-string">'.pdf'</span>)
    ]

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> pdf_files:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸  è¾“å…¥æ–‡ä»¶å¤¹ä¸­æ²¡æœ‰æ‰¾åˆ° PDF æ–‡ä»¶"</span>)
        <span class="hljs-keyword">return</span>

    <span class="hljs-comment"># é€ä¸ªå¤„ç†</span>
    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> pdf_files:
        input_file = os.path.join(input_folder, filename)
        base_name = os.path.splitext(filename)[<span class="hljs-number">0</span>]  <span class="hljs-comment"># å»æ‰ .pdf åç¼€</span>
        <span class="hljs-keyword">if</span> add_suffix:
            output_filename = <span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>_fixed.pdf"</span>
        <span class="hljs-keyword">else</span>:
            output_filename = <span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>.pdf"</span>  <span class="hljs-comment"># è°¨æ…ï¼šå¯èƒ½è¦†ç›–åŸå§‹æ–‡ä»¶ï¼</span>
        output_file = os.path.join(output_folder, output_filename)
        repair_pdf(input_file, output_file, dpi=dpi)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># è‡ªåŠ¨è·å–è„šæœ¬æ‰€åœ¨ç›®å½•</span>
    script_dir = os.path.dirname(os.path.abspath(__file__))
    <span class="hljs-comment"># æ„å»ºè¾“å…¥/è¾“å‡ºæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</span>
    input_dir = os.path.join(script_dir, INPUT_FOLDER_NAME)
    output_dir = os.path.join(script_dir, OUTPUT_FOLDER_NAME)

    <span class="hljs-comment"># æ‰“å°å½“å‰é…ç½®ï¼Œä¾¿äºç”¨æˆ·ç¡®è®¤</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš™ï¸  é…ç½®:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   è¾“å…¥æ–‡ä»¶å¤¹: <span class="hljs-subst">{input_dir}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   è¾“å‡ºæ–‡ä»¶å¤¹: <span class="hljs-subst">{output_dir}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   DPI: <span class="hljs-subst">{DPI}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   æ·»åŠ  '_fixed' åç¼€: <span class="hljs-subst">{ADD_FIXED_SUFFIX}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">50</span>)

    <span class="hljs-comment"># æ‰§è¡Œæ‰¹é‡ä¿®å¤</span>
    batch_repair(
        input_folder=input_dir,
        output_folder=output_dir,
        dpi=DPI,
        add_suffix=ADD_FIXED_SUFFIX
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ‰ ä¿®å¤å®Œæˆï¼ç»“æœå·²ä¿å­˜è‡³:\n<span class="hljs-subst">{output_dir}</span>"</span>)
</code></pre>
<hr/>
<h2 data-id="heading-4">â–¶ï¸ ä½¿ç”¨æ­¥éª¤ï¼ˆè¶…ç®€å•ï¼‰</h2>
<ol>
<li>
<p><strong>å®‰è£…ä¾èµ–</strong>ï¼ˆåªéœ€ä¸€æ¬¡ï¼‰ï¼š</p>
<pre><code class="hljs">pip3 install PyMuPDF
</code></pre>
</li>
<li>
<p><strong>å‡†å¤‡æ–‡ä»¶å¤¹ç»“æ„</strong>ï¼ˆä»¥æ¡Œé¢ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/Desktop/</span><span class="hljs-title class_">AITools</span>/
â”œâ”€â”€ originalPDF/         â† æŠŠä¹±ç  <span class="hljs-variable constant_">PDF</span> å…¨æ”¾è¿™é‡Œ
â”œâ”€â”€ repairPDF/           â† ä¿®å¤å¥½çš„ <span class="hljs-variable constant_">PDF</span> ä¼šæ”¾è¿™é‡Œ
â””â”€â”€ repair_pdf.<span class="hljs-property">py</span>        â† æœ¬è„šæœ¬
</code></pre>
</li>
<li>
<p><strong>è¿è¡Œè„šæœ¬</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">cd ~<span class="hljs-regexp">/Desktop/</span><span class="hljs-title class_">AITools</span>
python3 repair_pdf.<span class="hljs-property">py</span>
</code></pre>
</li>
<li>
<p><strong>æŸ¥çœ‹ç»“æœ</strong>ï¼š</p>
<ul>
<li>ä¿®å¤åçš„ PDF ä¼šå‡ºç°åœ¨ <code>AITools/repairPdf/</code>ï¼›</li>
<li>æ–‡ä»¶åå¦‚ <code>report_fixed.pdf</code>ï¼›</li>
<li>ç”¨â€œé¢„è§ˆâ€æ‰“å¼€ï¼Œä¸€åˆ‡æ­£å¸¸ï¼</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-5">âš ï¸ æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><strong>æ–‡æœ¬ä¸å¯å¤åˆ¶</strong>ï¼šå› ä¸º PDF å·²è½¬ä¸ºå›¾åƒã€‚å¦‚æœä½ éœ€è¦å¯æœç´¢æ–‡æœ¬ï¼Œè¯·è€ƒè™‘ <code>ocrmypdf</code>ï¼ˆéœ€é¢å¤–å®‰è£… Tesseract OCRï¼‰ã€‚</li>
<li><strong>æ–‡ä»¶ä½“ç§¯å¢å¤§</strong>ï¼š150 DPI ä¸‹ï¼Œä¸€é¡µçº¦ 200~500 KBã€‚å¯é€šè¿‡é™ä½ DPIï¼ˆå¦‚ 120ï¼‰å‡å°ä½“ç§¯ã€‚</li>
<li><strong>ä¸é€‚ç”¨äºåŠ å¯† PDF</strong>ï¼šè„šæœ¬æ— æ³•å¤„ç†å¯†ç ä¿æŠ¤çš„æ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ğŸ’¡ è¿›é˜¶å»ºè®®</h2>
<ul>
<li><strong>æ·»åŠ å³é”®æœåŠ¡</strong>ï¼šç”¨ Automator å°è£…æ­¤è„šæœ¬ï¼Œå®ç°â€œé€‰ä¸­æ–‡ä»¶å¤¹ â†’ å³é”®ä¿®å¤â€ï¼›</li>
<li><strong>é›†æˆ OCR</strong>ï¼šåœ¨å›¾åƒ PDF ä¸Šå åŠ  OCR å±‚ï¼Œå…¼é¡¾å…¼å®¹æ€§ä¸å¯æœç´¢æ€§ï¼›</li>
<li><strong>GUI ç‰ˆæœ¬</strong>ï¼šç”¨ Tkinter æˆ– PyQt åšå›¾å½¢ç•Œé¢ï¼Œé€‚åˆéæŠ€æœ¯ç”¨æˆ·ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">ğŸ™Œ ç»“è¯­</h2>
<p>è¿™ä¸ªå°å·¥å…·è§£å†³äº†æˆ‘åœ¨ Mac ä¸Šé•¿æœŸè¢« PDF ä¹±ç å›°æ‰°çš„é—®é¢˜ã€‚å¸Œæœ›å®ƒä¹Ÿèƒ½å¸®åˆ°ä½ ï¼å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ç»™åŒæ ·è¢«â€œé¢„è§ˆæ‰“ä¸å¼€ PDFâ€æŠ˜ç£¨çš„æœ‹å‹ã€‚</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ffengziii%2Fscript-tool" target="_blank" title="https://gitee.com/fengziii/script-tool" ref="nofollow noopener noreferrer">è„šæœ¬ä¸‹è½½åœ°å€</a></p>
</blockquote>
<hr/>
<p><strong>ç¥ä½  PDF ä»æ­¤ä¸å†ä¹±ç ï¼Œå·¥ä½œæ›´é«˜æ•ˆï¼</strong> ğŸ„ï¼ˆæ­£å¥½ä»Šå¤©æ˜¯å¹³å®‰å¤œ ğŸ˜Šï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯å­¦ä¹ AIã€‘å¤§æ¨¡å‹è°ƒç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7587284708946657295</link>    <guid>https://juejin.cn/post/7587284708946657295</guid>    <pubDate>2025-12-24T12:10:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587284708946657295" data-draft-id="7586855770505379874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯å­¦ä¹ AIã€‘å¤§æ¨¡å‹è°ƒç”¨å®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T12:10:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯å­¦ä¹ AIã€‘å¤§æ¨¡å‹è°ƒç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T12:10:41.000Z" title="Wed Dec 24 2025 12:10:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="arduino-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#434f54}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#00979d}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-literal{color:#d35400}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#00979d}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#005c5f}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-comment{color:rgba(149,165,166,.8)}.hljs-meta-keyword{color:#728e00}.hljs-meta{color:#434f54}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-function{color:#728e00}.hljs-number{color:#8a7b52}</style><h2 data-id="heading-0">æœ¬åœ°éƒ¨ç½²ï¼šåŸºäºOllamaè°ƒç”¨å¼€æºå¤§æ¨¡å‹</h2>
<p>Ollama æ˜¯è½»é‡çº§æœ¬åœ°å¤§æ¨¡å‹è¿è¡Œæ¡†æ¶ï¼Œæ— éœ€ä¾èµ–äº‘ç«¯æœåŠ¡ï¼Œå¯å¿«é€Ÿéƒ¨ç½²é€šä¹‰åƒé—®ã€Llama ç­‰å¼€æºå¤§æ¨¡å‹ï¼Œç‰¹åˆ«é€‚åˆæ— ç½‘ç»œç¯å¢ƒæˆ–éšç§æ•æ„Ÿåœºæ™¯ã€‚</p>
<h3 data-id="heading-1">æ­¥éª¤1ï¼šå®‰è£…Ollama</h3>
<p>ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Follama.com%2F" target="_blank" title="https://ollama.com/" ref="nofollow noopener noreferrer">ollama.com/</a></p>
<h3 data-id="heading-2">æ­¥éª¤2ï¼šæ‹‰å–å¹¶è¿è¡Œå¤§æ¨¡å‹ï¼ˆä»¥é€šä¹‰åƒé—®3-vl 2Bä¸ºä¾‹ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‹‰å–å¹¶è¿è¡Œæ¨¡å‹ï¼ˆé¦–æ¬¡æ‰§è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼‰</span>
ollama run qwen3-vl:2b

<span class="hljs-comment"># æŸ¥çœ‹æœ¬åœ°å·²ä¸‹è½½çš„æ‰€æœ‰å¤§æ¨¡å‹</span>
ollama <span class="hljs-built_in">ls</span>
</code></pre>
<blockquote>
<p><strong>å…³é”®æç¤º</strong>ï¼šé¦–æ¬¡è¿è¡Œéœ€ä¿æŒç½‘ç»œé€šç•…ï¼Œä¸‹è½½è€—æ—¶å–å†³äºæ¨¡å‹å¤§å°å’Œç½‘ç»œé€Ÿåº¦ï¼›<code>2b</code> ä»£è¡¨æ¨¡å‹å‚æ•°é‡ï¼ˆ20äº¿å‚æ•°ï¼‰ï¼Œå‚æ•°é‡è¶Šå°ï¼Œå¯¹æœ¬åœ°ç¡¬ä»¶ï¼ˆå†…å­˜ã€æ˜¾å¡ï¼‰çš„è¦æ±‚è¶Šä½ï¼Œè¿è¡Œé€Ÿåº¦ä¹Ÿè¶Šå¿«ã€‚</p>
</blockquote>
<h3 data-id="heading-3">æ­¥éª¤3ï¼šç”¨LangChainè°ƒç”¨Ollama</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…LangChainå¯¹æ¥Ollamaçš„ä¾èµ–åŒ…</span>
pip install langchain-ollama
<span class="hljs-keyword">from</span> langchain_ollama.chat_models <span class="hljs-keyword">import</span> ChatOllama

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹ï¼ˆæ¨¡å‹åç§°éœ€ä¸æœ¬åœ°è¿è¡Œçš„æ¨¡å‹ä¸€è‡´ï¼‰</span>
llm = ChatOllama(model=<span class="hljs-string">"qwen3:0.6b"</span>)
<span class="hljs-comment"># è°ƒç”¨æ¨¡å‹å¹¶æ‰“å°ç»“æœ</span>
output = llm.invoke(<span class="hljs-string">"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"</span>)
<span class="hljs-built_in">print</span>(output.content)
</code></pre>
<blockquote>
<p><strong>å‰ç½®æ¡ä»¶</strong>ï¼šè¿è¡Œä¸Šè¿°ä»£ç å‰ï¼Œéœ€ç¡®ä¿ Ollama æœåŠ¡å·²å¯åŠ¨ï¼ˆå¯é€šè¿‡ç»ˆç«¯æ‰§è¡Œ <code>ollama run æ¨¡å‹å</code> å¯åŠ¨å¯¹åº”æ¨¡å‹æœåŠ¡ï¼‰ã€‚</p>
</blockquote>
<h2 data-id="heading-4">äºŒã€äº‘ç«¯è°ƒç”¨ï¼šé˜¿é‡Œç™¾ç‚¼å¤§æ¨¡å‹ï¼ˆé€šä¹‰åƒé—®ï¼‰</h2>
<p>é˜¿é‡Œç™¾ç‚¼æ˜¯é˜¿é‡Œäº‘æ¨å‡ºçš„ä¼ä¸šçº§å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæ”¯æŒé€šè¿‡ OpenAI å…¼å®¹æ¥å£ã€LangChain ç­‰æ–¹å¼è°ƒç”¨é€šä¹‰åƒé—®ç³»åˆ—æ¨¡å‹ï¼Œå…·å¤‡ç¨³å®šç®—åŠ›ã€çµæ´»æ‰©å±•çš„ä¼˜åŠ¿ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒæˆ–å¼ºç®—åŠ›éœ€æ±‚çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-5">æ­¥éª¤1ï¼šè·å–API Keyï¼ˆæ ¸å¿ƒé‰´æƒå‡­è¯ï¼‰</h3>
<ol>
<li>ç™»å½•é˜¿é‡Œç™¾ç‚¼æ§åˆ¶å°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbailian.console.aliyun.com%2F" target="_blank" title="https://bailian.console.aliyun.com/" ref="nofollow noopener noreferrer">bailian.console.aliyun.com/</a></li>
<li>å®Œæˆå®åè®¤è¯åï¼Œåœ¨æ§åˆ¶å°çš„ã€ŒAPI-KEY ç®¡ç†ã€æ¨¡å—åˆ›å»ºå¹¶è·å– API Keyï¼ˆç”¨äºæ¥å£è°ƒç”¨çš„èº«ä»½é‰´æƒï¼‰ã€‚</li>
</ol>
<blockquote>
<p><strong>å…³é”®æç¤º</strong>ï¼šAPI Key å±äºæ•æ„Ÿä¿¡æ¯ï¼Œéœ€å¦¥å–„ä¿ç®¡ï¼Œé¿å…å…¬å¼€æ³„éœ²ï¼ˆå¦‚æäº¤è‡³å¼€æºä»“åº“ã€éšæ„åˆ†äº«ï¼‰ã€‚
è°ƒç”¨å‰éœ€ç¡®ä¿é˜¿é‡Œäº‘è´¦å·æœ‰å¯ç”¨é¢åº¦ï¼Œå¦åˆ™ä¼šæç¤ºæƒé™ä¸è¶³æˆ–é¢åº¦è€—å°½ã€‚</p>
</blockquote>
<h3 data-id="heading-6">æ­¥éª¤2ï¼šè°ƒç”¨å¤§æ¨¡å‹ï¼ˆä¸¤ç§å¸¸ç”¨æ–¹å¼ï¼‰</h3>
<h4 data-id="heading-7">æ–¹å¼ä¸€ï¼šé€šè¿‡OpenAI SDKè°ƒç”¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…OpenAI SDKä¾èµ–åŒ…</span>
pip install openai
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

<span class="hljs-comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯ï¼ˆé…ç½®é˜¿é‡Œç™¾ç‚¼çš„é‰´æƒä¿¡æ¯å’Œå…¼å®¹æ¥å£ï¼‰</span>
client = OpenAI(
	<span class="hljs-comment"># æ›¿æ¢ä¸ºè‡ªå·±çš„API Key</span>
    api_key=<span class="hljs-string">"ä½ çš„é˜¿é‡Œç™¾ç‚¼API Key"</span>,  
    <span class="hljs-comment"># é˜¿é‡Œç™¾ç‚¼OpenAIå…¼å®¹æ¥å£åœ°å€</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  
)

<span class="hljs-comment"># è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤</span>
completion = client.chat.completions.create(
	<span class="hljs-comment"># æŒ‡å®šé€šä¹‰åƒé—®æ¨¡å‹ç‰ˆæœ¬ï¼ˆå¦‚qwen-pluså¢å¼ºç‰ˆã€qwen-turboè½»é‡ç‰ˆï¼‰</span>
    model=<span class="hljs-string">"qwen-plus"</span>,  
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å«å°Qï¼Œæ˜¯ä¸€åä¸“ä¸šçš„ç¿»è¯‘åŠ©æ‰‹"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯è°ï¼Ÿ"</span>},
    ],
)

<span class="hljs-comment"># æ‰“å°æ¨¡å‹å›å¤å†…å®¹</span>
<span class="hljs-built_in">print</span>(completion.choices[<span class="hljs-number">0</span>].message.content)
</code></pre>
<h4 data-id="heading-8">æ–¹å¼äºŒï¼šé€šè¿‡LangChainè°ƒç”¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…LangChainå¯¹æ¥OpenAIçš„ä¾èµ–åŒ…ï¼ˆé€‚é…é˜¿é‡Œç™¾ç‚¼å…¼å®¹æ¥å£ï¼‰</span>
pip install langchain-openai
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹ï¼ˆé€‚é…é˜¿é‡Œç™¾ç‚¼æ¥å£ï¼‰</span>
llm = ChatOpenAI(
	<span class="hljs-comment"># é˜¿é‡Œç™¾ç‚¼çš„é€šä¹‰åƒé—®æ¨¡å‹åç§°</span>
    model_name=<span class="hljs-string">"qwen-plus"</span>,  
    <span class="hljs-comment"># é˜¿é‡Œç™¾ç‚¼OpenAIå…¼å®¹æ¥å£åœ°å€</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  
    <span class="hljs-comment"># æ›¿æ¢ä¸ºè‡ªå·±çš„API Key</span>
    api_key=<span class="hljs-string">"ä½ çš„é˜¿é‡Œç™¾ç‚¼API Key"</span>,  
)

<span class="hljs-comment"># è°ƒç”¨æ¨¡å‹å¹¶æ‰“å°ç»“æœ</span>
response = llm.invoke(
    [
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å«å°Qï¼Œæ˜¯ä¸€åä¸“ä¸šçš„ç¿»è¯‘åŠ©æ‰‹"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯è°ï¼Ÿ"</span>},
    ],
)
<span class="hljs-built_in">print</span>(response.content)
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹</h2>
<ul>
<li>å¤§æ¨¡å‹è°ƒç”¨ä¸»è¦åˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼š<strong>åŒæ­¥è°ƒç”¨</strong>ï¼ˆä¸€æ¬¡æ€§è·å–å®Œæ•´å›å¤ç»“æœï¼Œé€‚åˆç®€å•é—®ç­”ï¼‰å’Œ <strong>æµå¼è°ƒç”¨</strong>ï¼ˆé€å­—/é€æ®µå®æ—¶è¾“å‡ºï¼Œè´´è¿‘çœŸå®èŠå¤©ä½“éªŒï¼Œé€‚åˆé•¿æ–‡æœ¬ç”Ÿæˆåœºæ™¯ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-10">å››ã€å‚è€ƒæ–‡æ¡£</h2>
<ul>
<li>Ollama å®˜æ–¹å¤§æ¨¡å‹åˆ—è¡¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Follama.com%2Fsearch" target="_blank" title="https://ollama.com/search" ref="nofollow noopener noreferrer">ollama.com/search</a></li>
<li>LangChain å¯¹æ¥ Ollama å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Fintegrations%2Fchat%2Follama" target="_blank" title="https://docs.langchain.com/oss/python/integrations/chat/ollama" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
<li>é˜¿é‡Œç™¾ç‚¼å¼€æ”¾å¹³å°æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbailian.console.aliyun.com%2F%3Ftab%3Ddoc%23%2Fdoc" target="_blank" title="https://bailian.console.aliyun.com/?tab=doc#/doc" ref="nofollow noopener noreferrer">bailian.console.aliyun.com/?tab=doc#/dâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†è®© AI è‡ªç”±å‘æŒ¥äº†ï¼ç”¨ LangChain + Zod å¼ºåˆ¶å®ƒè¾“å‡ºåˆæ³• JSON]]></title>    <link>https://juejin.cn/post/7587074669818003482</link>    <guid>https://juejin.cn/post/7587074669818003482</guid>    <pubDate>2025-12-24T12:39:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587074669818003482" data-draft-id="7587074669817921562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†è®© AI è‡ªç”±å‘æŒ¥äº†ï¼ç”¨ LangChain + Zod å¼ºåˆ¶å®ƒè¾“å‡ºåˆæ³• JSON"/> <meta itemprop="keywords" content="LangChain,LLM,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T12:39:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xhxxx"/> <meta itemprop="url" content="https://juejin.cn/user/3235201610941578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†è®© AI è‡ªç”±å‘æŒ¥äº†ï¼ç”¨ LangChain + Zod å¼ºåˆ¶å®ƒè¾“å‡ºåˆæ³• JSON
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3235201610941578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xhxxx
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T12:39:37.000Z" title="Wed Dec 24 2025 12:39:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ LangChain + Zod æ„å»ºç±»å‹å®‰å…¨çš„ AI ç»“æ„åŒ–è¾“å‡º â€”â€” ä»â€œä¸€å¥è¯è§£é‡Š Promiseâ€å¼€å§‹</h2>
<p>å¤§æ¨¡å‹å¾ˆèªæ˜ï¼Œä½†ä¹Ÿå¾ˆâ€œè‡ªç”±â€ã€‚<br/>
ä½ è®©å®ƒè§£é‡Š <code>Promise</code>ï¼Œå®ƒå¯èƒ½å›ä½ ä¸€æ®µä¼˜ç¾çš„æ•£æ–‡ï¼›<br/>
ä½ æƒ³è¦ä¸€ä¸ªå¹²å‡€çš„ JSONï¼Œå®ƒå´åœ¨å‰ååŠ ä¸Šâ€œå¥½çš„ï¼â€â€œå¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ï¼â€ã€‚</p>
<p>è¿™ç§â€œè‡ªç”±å‘æŒ¥â€åœ¨èŠå¤©åœºæ™¯å¾ˆå‹å¥½ï¼Œä½†åœ¨å·¥ç¨‹å®è·µä¸­å´æ˜¯ç¾éš¾â€”â€”  <strong>æˆ‘ä»¬æ— æ³•æŠŠä¸€æ®µä¸ç¡®å®šçš„æ–‡æœ¬ï¼Œç›´æ¥å½“ä½œç»“æ„åŒ–æ•°æ®ä½¿ç”¨ã€‚</strong></p>
<p>ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¦‚ä½•è®©å¤§æ¨¡å‹ï¼ˆLLMï¼‰ä¸åªæ˜¯â€œèŠå¤©â€ï¼Œè€Œæ˜¯æˆä¸ºä¸€ä¸ª<strong>å¯é çš„æ•°æ®ç”Ÿæˆå™¨</strong>ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼šè¾“å…¥ <code>"Promise"</code>ï¼Œè®©å®ƒè¿”å›ä¸€ä¸ªä¸¥æ ¼ç¬¦åˆä»¥ä¸‹æ ¼å¼çš„ JSONï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Promise"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"core"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"useCase"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"AJAX è¯·æ±‚"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"å®šæ—¶å™¨å°è£…"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"difficulty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸­ç­‰"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™å¬èµ·æ¥ç®€å•ï¼Œä½†å®é™…å¼€å‘ä¸­ä¼šé‡åˆ°ä¸‰å¤§éš¾é¢˜ï¼š</p>
<ol>
<li><strong>æ¨¡å‹æ€»çˆ±åŠ è§£é‡Šæ–‡å­—</strong>ï¼Œå¯¼è‡´æ— æ³•ç›´æ¥ <code>JSON.parse</code></li>
<li><strong>å­—æ®µåæˆ–ç±»å‹å¯èƒ½å‡ºé”™</strong>ï¼ˆæ¯”å¦‚æŠŠ <code>useCase</code> å†™æˆ <code>usecase</code>ï¼‰</li>
<li><strong>TypeScript æ‹¿ä¸åˆ°ç²¾ç¡®ç±»å‹</strong>ï¼Œåªèƒ½ç”¨ <code>any</code></li>
</ol>
<p>è€Œè§£å†³è¿™äº›é—®é¢˜çš„ç­”æ¡ˆï¼Œå°±è—åœ¨ä¸‰è¡Œä»£ç é‡Œï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> schema = z.<span class="hljs-title function_">object</span>({ ... });
<span class="hljs-keyword">const</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonOutputParser</span>(schema);
<span class="hljs-keyword">const</span> instructions = parser.<span class="hljs-title function_">getFormatInstructions</span>();
</code></pre>
<p>æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥æ‹†è§£è¿™æ®µä»£ç èƒŒåçš„åŸç†ï¼Œç†è§£ <strong>LangChain + Zod å¦‚ä½•ååŒå·¥ä½œ</strong>ï¼Œå®ç°<strong>ç«¯åˆ°ç«¯çš„ç±»å‹å®‰å…¨ã€ç»“æ„åŒ– AI è¾“å‡º</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ§© ä¸€ã€Zodï¼šä¸åªæ˜¯æ ¡éªŒï¼Œæ›´æ˜¯â€œæ•°æ®å¥‘çº¦â€</h3>
<h4 data-id="heading-2">â“ ä»€ä¹ˆæ˜¯ Zodï¼Ÿ</h4>
<p>Zod æ˜¯ä¸€ä¸ª <strong>TypeScript ä¼˜å…ˆçš„è¿è¡Œæ—¶æ ¡éªŒåº“</strong>ã€‚å®ƒå…è®¸ä½ ç”¨ä»£ç å®šä¹‰â€œåˆæ³•æ•°æ®é•¿ä»€ä¹ˆæ ·â€ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">FrontendConceptSchema</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">name</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">'æ¦‚å¿µåç§°'</span>),
  <span class="hljs-attr">core</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">'æ ¸å¿ƒè¦ç‚¹'</span>),
  <span class="hljs-attr">useCase</span>: z.<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>()).<span class="hljs-title function_">describe</span>(<span class="hljs-string">'å¸¸è§ä½¿ç”¨åœºæ™¯'</span>),
  <span class="hljs-attr">difficulty</span>: z.<span class="hljs-title function_">enum</span>([<span class="hljs-string">'ç®€å•'</span>, <span class="hljs-string">'ä¸­ç­‰'</span>, <span class="hljs-string">'å¤æ‚'</span>]).<span class="hljs-title function_">describe</span>(<span class="hljs-string">'å­¦ä¹ éš¾åº¦'</span>)
});
</code></pre>
<h4 data-id="heading-3">âœ… <code>z.object()</code> åˆ°åº•åˆ›å»ºäº†ä»€ä¹ˆï¼Ÿ</h4>
<p>å®ƒ<strong>ä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡</strong>ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ª <strong>Zod Schemaï¼ˆæ ¡éªŒè§„åˆ™ï¼‰</strong> ï¼Œè¿™ä¸ª schema å…·å¤‡ä¸‰é‡èƒ½åŠ›ï¼š</p>





















<table><thead><tr><th>èƒ½åŠ›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è¿è¡Œæ—¶æ ¡éªŒ</strong></td><td>é€šè¿‡ <code>.parse(data)</code> éªŒè¯æ•°æ®æ˜¯å¦åˆæ³•</td></tr><tr><td><strong>é™æ€ç±»å‹æ¨å¯¼</strong></td><td><code>type T = z.infer&lt;typeof schema&gt;</code> è‡ªåŠ¨è·å¾— TypeScript ç±»å‹</td></tr><tr><td><strong>å…ƒä¿¡æ¯æè¿°</strong></td><td><code>.describe()</code> å¯è¢«å…¶ä»–å·¥å…·ï¼ˆå¦‚ LangChainï¼‰è¯»å–</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ æ‰€ä»¥ï¼Œ<code>FrontendConceptSchema</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>â€œæ•°æ®å¥‘çº¦â€</strong> â€”â€” å®ƒå‘Šè¯‰å…¨ä¸–ç•Œï¼šâ€œåªæœ‰ç¬¦åˆè¿™ä¸ªç»“æ„çš„æ•°æ®ï¼Œæ‰æ˜¯åˆæ³•çš„ã€‚â€</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">ğŸ” äºŒã€<code>JsonOutputParser</code>ï¼šç¿»è¯‘å®˜ + è´¨æ£€å‘˜</h3>
<p>ç°åœ¨é—®é¢˜æ¥äº†ï¼š<strong>å¦‚ä½•è®© LLM ç†è§£è¿™ä¸ªâ€œå¥‘çº¦â€ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯ï¼š<code>JsonOutputParser</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> jsonParser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonOutputParser</span>(<span class="hljs-title class_">FrontendConceptSchema</span>);
</code></pre>
<p>å¾ˆå¤šäººä»¥ä¸ºå®ƒåªæ˜¯ä¸€ä¸ªâ€œJSON è§£æå™¨â€ï¼Œå…¶å®å®ƒçš„è§’è‰²æ›´ä¸°å¯Œï¼š</p>
<h4 data-id="heading-5">ğŸ‘¨â€ğŸ« è§’è‰²ä¸€ï¼šç¿»è¯‘å®˜ï¼ˆæŒ‡å¯¼æ¨¡å‹æ€ä¹ˆå†™ï¼‰</h4>
<p>å®ƒè°ƒç”¨ <code>.getFormatInstructions()</code>ï¼ŒæŠŠ Zod Schema <strong>è‡ªåŠ¨ç¿»è¯‘æˆä¸€æ®µè‡ªç„¶è¯­è¨€æŒ‡ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> string <span class="hljs-comment">// æ¦‚å¿µåç§°</span>
  <span class="hljs-attr">"core"</span><span class="hljs-punctuation">:</span> string <span class="hljs-comment">// æ ¸å¿ƒè¦ç‚¹</span>
  <span class="hljs-attr">"useCase"</span><span class="hljs-punctuation">:</span> string<span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// å¸¸è§ä½¿ç”¨åœºæ™¯</span>
  <span class="hljs-attr">"difficulty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç®€å•"</span> | <span class="hljs-string">"ä¸­ç­‰"</span> | <span class="hljs-string">"å¤æ‚"</span> <span class="hljs-comment">// å­¦ä¹ éš¾åº¦</span>
<span class="hljs-punctuation">}</span>
*/
</code></pre>
<p>è¿™æ®µæ–‡æœ¬ä¼šè¢«æ’å…¥åˆ°æç¤ºè¯ä¸­ï¼Œ<strong>æ˜ç¡®å‘Šè¯‰æ¨¡å‹ï¼šâ€œä½ å¿…é¡»æŒ‰è¿™ä¸ªæ ¼å¼è¾“å‡ºï¼Œä¸èƒ½å¤šã€ä¸èƒ½å°‘ã€ä¸èƒ½é”™ã€‚â€</strong></p>
<blockquote>
<p>ğŸŒŸ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ éœ€è¦æ˜¾å¼ä¼ å…¥ <code>format_instructions: jsonParser.getFormatInstructions()</code> â€”â€”<br/>
<strong>LangChain ä¸ä¼šè‡ªåŠ¨å¡«å……å®ƒï¼Œè¿™æ˜¯ä½ ä¸»åŠ¨è¿æ¥â€œschemaâ€å’Œâ€œæç¤ºè¯â€çš„æ¡¥æ¢ã€‚</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-6">ğŸ‘® è§’è‰²äºŒï¼šè´¨æ£€å‘˜ï¼ˆæ£€æŸ¥æ¨¡å‹æœ‰æ²¡æœ‰å†™å¯¹ï¼‰</h4>
<p>å½“æ¨¡å‹è¿”å›æ–‡æœ¬åï¼Œ<code>JsonOutputParser</code> ä¼šï¼š</p>
<ol>
<li>å°è¯•æå– JSONï¼ˆå¦‚åŒ¹é… <code>json{...}</code>ï¼‰</li>
<li>ç”¨ <code>FrontendConceptSchema.parse(...)</code> è¿›è¡Œ Zod æ ¡éªŒ</li>
<li>å¦‚æœå­—æ®µç¼ºå¤±ã€ç±»å‹é”™è¯¯ã€æšä¸¾å€¼éæ³• â†’ æŠ›å‡º <code>ZodError</code></li>
<li>åªæœ‰å®Œå…¨åˆè§„çš„æ•°æ®æ‰ä¼šè¿”å›</li>
</ol>
<blockquote>
<p>âœ… è¿™ç›¸å½“äºåŒé‡ä¿é™©ï¼š</p>
<ul>
<li><strong>å‰éªŒ</strong>ï¼šç”¨æç¤ºè¯å¼•å¯¼æ¨¡å‹è¾“å‡ºåˆè§„æ ¼å¼</li>
<li><strong>åéªŒ</strong>ï¼šç”¨ Zod æ ¡éªŒå…œåº•ï¼Œé˜²æ­¢â€œå¹»è§‰â€æ±¡æŸ“ä¸šåŠ¡é€»è¾‘</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-7">âš™ï¸ ä¸‰ã€å®Œæ•´æµç¨‹ï¼šä»æç¤ºè¯åˆ°ç±»å‹å®‰å…¨å¯¹è±¡</h3>
<p>è®©æˆ‘ä»¬æŠŠæ‰€æœ‰é›¶ä»¶ç»„è£…èµ·æ¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. åˆå§‹åŒ–æ¨¡å‹</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatDeepSeek</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">'deepseek-reasoner'</span>,
  <span class="hljs-attr">temperature</span>: <span class="hljs-number">0</span>,
});

<span class="hljs-comment">// 2. æ„å»ºå¼ºçº¦æŸæç¤ºè¯</span>
<span class="hljs-keyword">const</span> prompt = <span class="hljs-title class_">PromptTemplate</span>.<span class="hljs-title function_">fromTemplate</span>(<span class="hljs-string">`
  ä½ æ˜¯ä¸€ä¸ªåªä¼šè¾“å‡º JSON çš„ APIï¼Œä¸å…è®¸è¾“å‡ºä»»ä½•è§£é‡Šæ€§æ–‡å­—ã€‚
  âš ï¸ ä½ å¿…é¡»ã€åªè¿”å›ã€‘ç¬¦åˆä»¥ä¸‹ Schema çš„ JSONï¼š
  {format_instructions}
  å‰ç«¯æ¦‚å¿µï¼š{topic}
`</span>);

<span class="hljs-comment">// 3. åˆ›å»ºè§£æé“¾</span>
<span class="hljs-keyword">const</span> chain = prompt.<span class="hljs-title function_">pipe</span>(model).<span class="hljs-title function_">pipe</span>(jsonParser);

<span class="hljs-comment">// 4. è°ƒç”¨</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chain.<span class="hljs-title function_">invoke</span>({
  <span class="hljs-attr">topic</span>: <span class="hljs-string">'Promise'</span>,
  <span class="hljs-attr">format_instructions</span>: jsonParser.<span class="hljs-title function_">getFormatInstructions</span>(),
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   name: 'Promise',</span>
<span class="hljs-comment">//   core: '...',</span>
<span class="hljs-comment">//   useCase: [...],</span>
<span class="hljs-comment">//   difficulty: 'ä¸­ç­‰'</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>æ­¤æ—¶ï¼Œ<code>response</code> çš„ç±»å‹å·²è¢« TypeScript ç²¾ç¡®æ¨å¯¼ä¸ºï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  name: string;
  core: string;
  useCase: string[];
  difficulty: <span class="hljs-string">"ç®€å•"</span> | <span class="hljs-string">"ä¸­ç­‰"</span> | <span class="hljs-string">"å¤æ‚"</span>;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bde1a0e0ec64041bc7f081ee59442c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGh4eHg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767184776&amp;x-signature=CKIPPMHisC8odfZbNX19fnCuNWg%3D" alt="image.png" loading="lazy"/>
<strong>æ— éœ€æ‰‹å†™ interfaceï¼Œç±»å‹ä¸æ ¡éªŒé€»è¾‘å®Œå…¨åŒæ­¥ï¼</strong></p>
<hr/>
<h3 data-id="heading-8">ğŸ§± å››ã€è¿™ä¸€åˆ‡ï¼Œéƒ½å»ºç«‹åœ¨ JavaScript æ¨¡å—åŒ–ä¹‹ä¸Š</h3>
<p>ä½ å¯èƒ½æ²¡æ³¨æ„åˆ°ï¼Œä½†è¿™æ®µä»£ç æœ¬èº«å°±æ˜¯ <strong>ç°ä»£ JS æ¨¡å—åŒ–æ€æƒ³çš„å…¸èŒƒ</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatDeepSeek</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/deepseek'</span>;           <span class="hljs-comment">// æ¨¡å‹æ¨¡å—</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptTemplate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/core/prompts'</span>;    <span class="hljs-comment">// æç¤ºè¯æ¨¡å—</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JsonOutputParser</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/core/output_parsers'</span>; <span class="hljs-comment">// è§£ææ¨¡å—</span>
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">'zod'</span>;                                     <span class="hljs-comment">// æ ¡éªŒæ¨¡å—</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'dotenv/config'</span>;                                      <span class="hljs-comment">// é…ç½®æ¨¡å—</span>
</code></pre>
<p>æ¯ä¸ª <code>import</code> éƒ½ä»£è¡¨ä¸€ä¸ª<strong>ç‹¬ç«‹ã€å¯å¤ç”¨ã€èŒè´£å•ä¸€</strong>çš„åŠŸèƒ½å•å…ƒã€‚è¿™ç§è®¾è®¡ä½¿å¾—ï¼š</p>
<ul>
<li>ä¾èµ–æ¸…æ™°ï¼Œæ— å…¨å±€æ±¡æŸ“</li>
<li>åŠŸèƒ½è§£è€¦ï¼Œæ˜“äºæµ‹è¯•å’Œæ›¿æ¢ï¼ˆæ¯”å¦‚æ¢ <code>ChatOpenAI</code> åªéœ€æ”¹ä¸€è¡Œï¼‰</li>
<li>æ”¯æŒ tree-shakingï¼Œæ‰“åŒ…ä½“ç§¯æ›´å°</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>æ²¡æœ‰ ES Modulesï¼Œå°±æ²¡æœ‰ç°ä»£ AI åº”ç”¨çš„å·¥ç¨‹åŒ–ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-9">âœ… äº”ã€ä¸ºä»€ä¹ˆè¿™å¥—æ–¹æ¡ˆå€¼å¾—åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Ÿ</h3>





























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>ç¼–è¯‘æ—¶ + è¿è¡Œæ—¶åŒé‡ä¿éšœï¼Œå‘Šåˆ« <code>any</code></td></tr><tr><td><strong>æŠ—å¹»è§‰</strong></td><td>å¼ºæç¤º + Zod æ ¡éªŒï¼Œå¤§å¹…é™ä½æ— æ•ˆè¾“å‡º</td></tr><tr><td><strong>å¯ç»´æŠ¤</strong></td><td>ä¿®æ”¹ schemaï¼Œæç¤ºè¯å’Œæ ¡éªŒè‡ªåŠ¨åŒæ­¥</td></tr><tr><td><strong>å¯æ‰©å±•</strong></td><td>æ˜“äºæ‹†åˆ†ä¸º <code>schemas/</code>ã€<code>chains/</code>ã€<code>services/</code> ç­‰æ¨¡å—</td></tr><tr><td><strong>å›½äº§å‹å¥½</strong></td><td>DeepSeek ç­‰å›½äº§æ¨¡å‹å®Œç¾æ”¯æŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">ğŸš€ ç»“è¯­ï¼šè®© AI æˆä¸ºå¯é çš„â€œæ•°æ®å·¥äººâ€</h3>
<p>è¿‡å»ï¼Œæˆ‘ä»¬æŠŠ LLM å½“ä½œâ€œèªæ˜çš„èŠå¤©æœºå™¨äººâ€ï¼›<br/>
ç°åœ¨ï¼Œå€ŸåŠ© LangChain + Zodï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå˜æˆ<strong>éµå®ˆå¥‘çº¦çš„æ•°æ®ç”Ÿæˆå™¨</strong>ã€‚</p>
<p>è€Œè¿™èƒŒåçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>ç”¨ä»£ç å®šä¹‰ç»“æ„ï¼ˆZodï¼‰ï¼Œç”¨æç¤ºè¯å¼•å¯¼è¡Œä¸ºï¼ˆLangChainï¼‰ï¼Œç”¨æ ¡éªŒç¡®ä¿ç»“æœï¼ˆJsonOutputParserï¼‰ã€‚</strong></p>
</blockquote>
<p>è¿™ä¸ä»…æ˜¯æŠ€æœ¯ç»„åˆï¼Œæ›´æ˜¯ä¸€ç§<strong>AI å·¥ç¨‹åŒ–æ€ç»´</strong>â€”â€”<br/>
<strong>ä¸ä¿¡ä»»é»‘ç›’è¾“å‡ºï¼Œç”¨å¥‘çº¦å’ŒéªŒè¯æ„å»ºå¯é ç³»ç»Ÿã€‚</strong></p>
<p>ä¸‹æ¬¡å½“ä½ éœ€è¦ä» AI ä¸­æå–ç»“æ„åŒ–æ•°æ®æ—¶ï¼Œä¸å¦¨è¯•è¯•è¿™å¥—æ¨¡å¼ã€‚ä½ ä¼šå‘ç°ï¼ŒAI ä¸ä»…èƒ½â€œè¯´äººè¯â€ï¼Œè¿˜èƒ½â€œå†™å¯¹æ•°æ®â€ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å¤§æ•°æ® & AIã€‘Flink Agents æºç è§£è¯» --- (1) --- è®¾è®¡]]></title>    <link>https://juejin.cn/post/7587254134401089545</link>    <guid>https://juejin.cn/post/7587254134401089545</guid>    <pubDate>2025-12-24T12:33:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587254134401089545" data-draft-id="7587245616754458675" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å¤§æ•°æ® &amp; AIã€‘Flink Agents æºç è§£è¯» --- (1) --- è®¾è®¡"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-24T12:33:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å¤§æ•°æ® &amp; AIã€‘Flink Agents æºç è§£è¯» --- (1) --- è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T12:33:52.000Z" title="Wed Dec 24 2025 12:33:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€å¤§æ•°æ® &amp; AIã€‘Flink Agents æºç è§£è¯» --- (1) --- è®¾è®¡</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ¦‚è¿°</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 ç›®æ ‡</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 äº‹ä»¶é©±åŠ¨çš„æ™ºèƒ½ä½“</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 å…¸å‹åº”ç”¨åœºæ™¯</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.3 äº‹ä»¶é©±åŠ¨æ™ºèƒ½ä½“çš„æŠ€æœ¯è¦æ±‚</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.4 æ ¸å¿ƒè®¾è®¡ç†å¿µ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.5 äº‹ä»¶é©±åŠ¨ç¼–æ’æ¶æ„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.6 æŠ€æœ¯å±•æœ›</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 è®¾è®¡åˆ†æ</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 Flink Agents è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 é’ˆå¯¹é—®é¢˜çš„æ ¸å¿ƒè®¾è®¡</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 å…³é”®è®¾è®¡çš„è½åœ°ç¤ºä¾‹</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.4 æ€»ç»“</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ¦‚è¿°</h3>
<p>Flink Agents æ˜¯Apache Flinkç¤¾åŒºæœ€è¿‘æ¨å‡ºçš„ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œä¸€ä¸ªä¸“é—¨ä¸ºäº‹ä»¶é©±åŠ¨åœºæ™¯è®¾è®¡çš„æ™ºèƒ½ä½“æ¡†æ¶ã€‚è¯¥é¡¹ç›®èšç„¦äº‹ä»¶é©±åŠ¨å‹AIæ™ºèƒ½ä½“ï¼Œç»“åˆFlinkçš„å®æ—¶å¤„ç†èƒ½åŠ›ï¼Œæ¨åŠ¨AIåœ¨å·¥ä¸šåœºæ™¯ä¸­çš„å·¥ç¨‹åŒ–è½åœ°ï¼Œæ¶µç›–æ™ºèƒ½è¿ç»´ã€ç›´æ’­åˆ†æç­‰å…¸å‹åº”ç”¨ï¼Œå±•ç°å…¶åœ¨AIå‘å±•ç¬¬å››å±‚æ¬¡â€”â€”æ™ºèƒ½ä½“AIä¸­çš„é‡è¦æ„ä¹‰ã€‚</p>
<p>æœ¬ç³»åˆ—ä»æºç å…¥æ‰‹ï¼Œæ·±å…¥è§£æ / åæ¨ Flink Agentsé¡¹ç›®çš„æ¶æ„è®¾è®¡ã€‚å› ä¸ºå±äºåæ¨ï¼Œè‚¯å®šå­˜åœ¨å„ç§é”™è¯¯ï¼Œè¿˜è¯·å¤§å®¶ä¸åæŒ‡å‡ºã€‚</p>
<h3 data-id="heading-2">0x01 ç›®æ ‡</h3>
<p>æœ¬èŠ‚å†…å®¹ æ‘˜å½•äºå®˜æ–¹åˆ†äº«"Flink Agentsï¼šåŸºäºApache Flinkçš„äº‹ä»¶é©±åŠ¨AIæ™ºèƒ½ä½“æ¡†æ¶"ã€‚</p>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼ŒAIåº”ç”¨ä»ç®€å•çš„å¯¹è¯äº¤äº’æ­£åœ¨å‘æ›´åŠ å¤æ‚å’Œæ™ºèƒ½åŒ–çš„æ–¹å‘æ¼”è¿›ã€‚æ™ºèƒ½ä½“AIå°±åƒç»™AIçš„"å¤§è„‘"é…ä¸Šäº†"èº«ä½“"ã€‚AIä¸ä»…èƒ½å¤Ÿæ€è€ƒå’Œåˆ†æï¼Œè¿˜èƒ½å¤Ÿåƒäººä¸€æ ·ä»¥ç‰¹å®šç›®æ ‡ä¸ºå¯¼å‘ï¼Œè‡ªä¸»åˆ†æåº”è¯¥é‡‡å–ä»€ä¹ˆè¡ŒåŠ¨ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒAIå¯ä»¥ä¸»åŠ¨è·å–æ‰€éœ€çš„ä¿¡æ¯ï¼ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œç”šè‡³ä½¿ç”¨å„ç§å·¥å…·æ¥çœŸæ­£å¯¹å¤–ç•Œäº§ç”Ÿå½±å“ã€‚</p>
<h4 data-id="heading-3">1.1 äº‹ä»¶é©±åŠ¨çš„æ™ºèƒ½ä½“</h4>
<p>Flink Agentsé¡¹ç›®ä¸“æ³¨äºæ™ºèƒ½ä½“AIçš„å·¥ç¨‹åŒ–å®ç°ã€‚</p>
<p>ä¸ºä»€ä¹ˆApache Flinkç¤¾åŒºè¿˜è¦å¼€å‘ä¸€ä¸ªæ–°çš„æ¡†æ¶å‘¢ï¼Ÿç­”æ¡ˆåœ¨äºFlink Agentsä¸“æ³¨äºä¸€ä¸ªç‰¹æ®Šçš„åº”ç”¨åœºæ™¯â€”â€”äº‹ä»¶é©±åŠ¨çš„æ™ºèƒ½ä½“ã€‚</p>
<p>ä¼ ç»Ÿçš„AIåº”ç”¨å¤§å¤šå±äºå¯¹è¯å¼ï¼ˆConversationalï¼‰æ™ºèƒ½ä½“ï¼Œè¿™ç§æ¨¡å¼ä¸‹ç”¨æˆ·é€šè¿‡å¯¹è¯æ¡†ç”¨è‡ªç„¶è¯­è¨€æè¿°é—®é¢˜æˆ–ä»»åŠ¡ï¼Œç„¶åè®©AIå»æ‰§è¡Œã€‚è¿™æ˜¯ä¸€ç§ç”¨æˆ·ä¸»åŠ¨è§¦å‘çš„äº¤äº’æ¨¡å¼ï¼Œæ¯”å¦‚å¸¸è§çš„ AI Codingã€ChatBIã€DeepResearchç­‰äº§å“éƒ½å±äºè¿™ä¸€ç±»å‹ã€‚</p>
<p>ä¸ä¹‹ç›¸å¯¹çš„æ˜¯äº‹ä»¶é©±åŠ¨ï¼ˆEvent-Drivenï¼‰æ™ºèƒ½ä½“ï¼Œè¿™ç§åº”ç”¨ç”±ç³»ç»Ÿè‡ªåŠ¨äº§ç”Ÿçš„å®æ—¶äº‹ä»¶æˆ–æ•°æ®æ›´æ–°æ¥è§¦å‘AIçš„å¤„ç†è¿‡ç¨‹ã€‚éšç€AIæŠ€æœ¯çš„å‘å±•å’Œæˆç†Ÿï¼Œæœªæ¥æ™ºèƒ½ä½“çš„å‘å±•æ–¹å‘å¿…ç„¶æ˜¯å·¥ä¸šåŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šæœ‰æ›´å¤šçš„AIè¯·æ±‚ç”±ç³»ç»Ÿè‡ªåŠ¨è§¦å‘ï¼Œè€Œä¸éœ€è¦äººå·¥æ‰‹åŠ¨æ“ä½œã€‚è¿™ä¸ªè¶‹åŠ¿å°±åƒæ•°æ®åˆ†æé¢†åŸŸçš„å‘å±•å†ç¨‹ä¸€æ ·ï¼Œä»æœ€åˆçš„äººå·¥ç¼–å†™SQLæŸ¥è¯¢ï¼Œå‘å±•åˆ°ä»Šå¤©å¤§é‡çš„OLAPåˆ†æéƒ½åŸºäºæ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆï¼Œèƒ½å¤Ÿè¾¾åˆ°æ¯ç§’æ•°ç™¾QPSçš„å¤„ç†èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-4">1.2 å…¸å‹åº”ç”¨åœºæ™¯</h4>
<p>ä¸€ä¸ªå…¸å‹åº”ç”¨åœºæ™¯æ˜¯å®æ—¶ç›´æ’­åˆ†æã€‚åœ¨ç½‘ç»œç›´æ’­æˆ–ç›´æ’­å¸¦è´§è¿‡ç¨‹ä¸­ï¼Œçƒ­é—¨ç›´æ’­é—´ä¼šäº§ç”Ÿå¤§é‡çš„è§‚ä¼—è¯„è®ºå’Œå¼¹å¹•ã€‚ä¸»æ’­æ— æ³•å®æ—¶é€æ¡é˜…è¯»å’Œåˆ†ææ‰€æœ‰å†…å®¹ï¼Œä¼ ç»Ÿåšæ³•éœ€è¦é…å¤‡åå°åˆ†æå›¢é˜Ÿå’Œå¯¼æ’­æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p>
<p>é€šè¿‡äº‹ä»¶é©±åŠ¨çš„AIæ™ºèƒ½ä½“ï¼Œç³»ç»Ÿå¯ä»¥å®æ—¶åˆ†ææœ€è¿‘å‡ åˆ†é’Ÿå†…çš„æ‰€æœ‰å¼¹å¹•è¯„è®ºï¼Œè¿›è¡Œä¿¡æ¯æå–å’Œæ±‡æ€»ã€‚æ¯”å¦‚è¯†åˆ«å‡ºè§‚ä¼—è¯¢é—®æœ€å¤šçš„é—®é¢˜ï¼Œæˆ–è€…åŠæ—¶å‘ç°æŠ€æœ¯é—®é¢˜ï¼ˆå¦‚éŸ³ç”»ä¸åŒæ­¥ã€å£°éŸ³å»¶è¿Ÿç­‰ï¼‰ï¼Œè®©ä¸»æ’­èƒ½å¤ŸåŠæ—¶å“åº”å’Œè§£å†³ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥ï¼Œç»“åˆå¤šæ¨¡æ€AIæ¨¡å‹ï¼Œç³»ç»Ÿè¿˜å¯ä»¥è¯†åˆ«å½“å‰ç›´æ’­çš„ä¸»é¢˜å’Œå•†å“ï¼Œåˆ†æè§‚ä¼—çš„ç”¨æˆ·ç”»åƒã€‚åŸºäºè¿™äº›åˆ†æç»“æœï¼ŒAIå¯ä»¥æä¾›æœ‰ä»·å€¼çš„å»ºè®®ï¼Œæ¯”å¦‚æ ¹æ®è§‚ä¼—çš„æ€§åˆ«å’Œå¹´é¾„åˆ†å¸ƒæ¥è°ƒæ•´å•†å“æ¨èç­–ç•¥ï¼Œæˆ–è€…æ ¹æ®è§‚ä¼—çš„å¹´é¾„ç‰¹å¾æ¥é€‰æ‹©åˆé€‚çš„èƒŒæ™¯éŸ³ä¹ã€‚</p>
<h4 data-id="heading-5">1.3 äº‹ä»¶é©±åŠ¨æ™ºèƒ½ä½“çš„æŠ€æœ¯è¦æ±‚</h4>
<p>äº‹ä»¶é©±åŠ¨æ™ºèƒ½ä½“çš„å‡ ä¸ªå…³é”®æŠ€æœ¯ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯å®æ—¶æ€§è¦æ±‚ï¼Œäº‹ä»¶äº§ç”Ÿåé€šå¸¸éœ€è¦å®æ—¶å¤„ç†ã€‚å…¶æ¬¡æ˜¯è§„æ¨¡å¤„ç†èƒ½åŠ›ï¼Œç³»ç»Ÿè‡ªåŠ¨è§¦å‘çš„äº‹ä»¶æ•°é‡å’Œé¢‘ç‡è¿œå¤§äºäººå·¥è§¦å‘çš„è¯·æ±‚ï¼Œéœ€è¦å¤§è§„æ¨¡åˆ†å¸ƒå¼è®¡ç®—èƒ½åŠ›æ”¯æ’‘ã€‚</li>
<li>ç¨³å®šæ€§æ˜¯å¦ä¸€ä¸ªé‡è¦è¦æ±‚ã€‚ä¸å¯¹è¯å¼æ™ºèƒ½ä½“ä¸åŒï¼Œäº‹ä»¶é©±åŠ¨çš„æ™ºèƒ½ä½“éœ€è¦7Ã—24å°æ—¶é•¿æ—¶é—´è¿è¡Œï¼Œæ²¡æœ‰äººèƒ½å¤ŸæŒç»­ç›‘æ§ï¼Œå› æ­¤å¿…é¡»å…·å¤‡å¼ºå¤§çš„å®¹é”™å’Œè‡ªæˆ‘æ¢å¤èƒ½åŠ›ã€‚æ•°æ®å¤„ç†èƒ½åŠ›ä¹Ÿå¿…ä¸å¯å°‘ï¼Œå› ä¸ºåœ¨æ•´ä¸ªåº”ç”¨çš„ç«¯åˆ°ç«¯æµç¨‹ä¸­ï¼Œå¾€å¾€ä¼´éšç€AIæ¨¡å‹çš„éç»“æ„åŒ–å¤„ç†å’Œä¼ ç»Ÿçš„ç»“æ„åŒ–æ•°æ®å¤„ç†ã€‚</li>
<li>æœ€åæ˜¯è¿æ¥èƒ½åŠ›ï¼Œéœ€è¦èƒ½å¤Ÿä»ä¸åŒç³»ç»Ÿä¸­æ¶ˆè´¹å„ç§å®æ—¶äº‹ä»¶ã€‚è¿™äº›æŠ€æœ¯è¦æ±‚æ°å¥½ä¸Apache Flinkçš„æ ¸å¿ƒèƒ½åŠ›é«˜åº¦å»åˆï¼šæ¯«ç§’çº§å®æ—¶æ€§ã€å¤§è§„æ¨¡åˆ†å¸ƒå¼å¤„ç†ã€çŠ¶æ€ç®¡ç†å’Œå®¹é”™èƒ½åŠ›ã€ä¸°å¯Œçš„æ•°æ®å¤„ç†åŠŸèƒ½ï¼Œä»¥åŠå¯¹ä¸»æµå­˜å‚¨ç³»ç»Ÿçš„å¹¿æ³›æ”¯æŒã€‚</li>
</ul>
<h4 data-id="heading-6">1.4 æ ¸å¿ƒè®¾è®¡ç†å¿µ</h4>
<p>Flink Agentsçš„æ¶æ„è®¾è®¡ä½“ç°äº†å‡ ä¸ªæ ¸å¿ƒè®¾è®¡ç†å¿µã€‚åœ¨æ™ºèƒ½ä½“æ ¸å¿ƒæ¦‚å¿µæ–¹é¢ï¼Œæ²¿ç”¨ AI Agent çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¯¹ç†Ÿæ‚‰ Agent çš„å¼€å‘è€…æ²¡æœ‰é¢å¤–å­¦ä¹ æˆæœ¬ã€‚åœ¨APIå±‚é¢ï¼Œé¡¹ç›®æ”¯æŒPythonå’ŒJavaä¸¤ç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒæ—¶æä¾›ä¸åŒæ¥å£æ¥æ”¯æŒWorkflowå’ŒReActä¸¤ç§ç¼–ç¨‹æ¨¡å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e884a19e535d45768ebc9bad89d8251d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767184432&amp;x-signature=A5A2Za%2FhF7bMGYx7zesWBvfCPug%3D" alt="1-1" loading="lazy"/></p>
<p>1-1</p>
<p>åœ¨ç”Ÿæ€ç³»ç»Ÿæ–¹é¢ï¼Œé¡¹ç›®é›†æˆäº†å¸‚é¢ä¸Šä¸»æµçš„æ¨¡å‹æä¾›å•†ï¼Œæ”¯æŒMCPåè®®å…¼å®¹ä»¥åŠJavaã€Pythonå‡½æ•°ç›´æ¥ä½œä¸ºå·¥å…·ä½¿ç”¨ã€‚å¯¹äºå‘é‡å­˜å‚¨ç­‰å¸¸ç”¨ç»„ä»¶ï¼Œä¹Ÿæä¾›äº†ç›¸åº”çš„æŠ½è±¡å’Œæ ‡å‡†å®ç°ï¼ŒåŒæ—¶æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ‰©å±•ã€‚</p>
<p>åœ¨è¿è¡Œæ—¶å±‚é¢ï¼Œé¡¹ç›®æä¾›äº†è½»é‡çº§çš„Pythonè¿è¡Œæ—¶ç”¨äºæœ¬åœ°å¼€å‘æµ‹è¯•ï¼Œä»¥åŠåŸºäºå®Œæ•´Flinkè¿è¡Œæ—¶çš„åˆ†å¸ƒå¼ç‰ˆæœ¬ï¼Œèƒ½å¤Ÿæä¾›å®Œæ•´çš„åˆ†å¸ƒå¼æ‰§è¡Œã€çŠ¶æ€ç®¡ç†ã€å®¹é”™å’Œç«¯åˆ°ç«¯ä¸€è‡´æ€§ä¿éšœã€‚</p>
<h4 data-id="heading-7">1.5 äº‹ä»¶é©±åŠ¨ç¼–æ’æ¶æ„</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a576a703e2e43ee99ee8c1ea407bca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767184432&amp;x-signature=ttbFGMDmskr5uR3YABFm5VrG9KQ%3D" alt="1-2" loading="lazy"/></p>
<p>1-2</p>
<p>åœ¨æ™ºèƒ½ä½“å†…éƒ¨ï¼ŒFlink Agentsé‡‡ç”¨äº†ä»¥äº‹ä»¶ä¸ºä¸­å¿ƒçš„ç¼–æ’æ–¹å¼ã€‚æ¯ä¸ªAgentç”±ä¸€ç³»åˆ—Actionç»„æˆï¼Œæ¯ä¸ªActionç”±ç‰¹å®šçš„äº‹ä»¶è§¦å‘ï¼ŒåŒæ—¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥é€šè¿‡å‘å‡ºæ–°çš„äº‹ä»¶æ¥è§¦å‘å…¶ä»–Actionçš„æ‰§è¡Œã€‚</p>
<p>è¿™ç§æ¶æ„æä¾›äº†è¶³å¤Ÿçš„çµæ´»æ€§ï¼Œèƒ½å¤ŸåŒæ—¶æ”¯æŒWorkflowå’ŒReActä¸¤ç§ä¸»æµçš„æ™ºèƒ½ä½“å¼€å‘æ–¹å¼ã€‚Workflowæ¨¡å¼å…è®¸ç”¨æˆ·å¯¹æ™ºèƒ½ä½“è¡Œä¸ºè¿›è¡Œç²¾ç»†åŒ–æ§åˆ¶ï¼Œæ˜ç¡®å®šä¹‰å…ˆåšä»€ä¹ˆã€ååšä»€ä¹ˆï¼Œä½†ç¼–ç¨‹å¤æ‚åº¦ç›¸å¯¹è¾ƒé«˜ã€‚ReActæ¨¡å¼åˆ™å°†æ›´å¤šæ§åˆ¶æƒäº¤ç»™AIæ¨¡å‹ï¼Œç”¨æˆ·åªéœ€è¦æŒ‡å®šæ¨¡å‹ç‰ˆæœ¬ã€æç¤ºè¯å’Œå¯ç”¨å·¥å…·ï¼Œå…¶ä½™å·¥ä½œäº¤ç»™AIè‡ªåŠ¨å¤„ç†ã€‚</p>
<p>é¡¹ç›®ä¸­æåˆ°çš„Actionå’Œäº‹ä»¶æ—¢å¯ä»¥æ˜¯æ¡†æ¶å†…ç½®çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œè¿˜æ”¯æŒä¸¤è€…æ··åˆä½¿ç”¨ã€‚è¿™ç§è®¾è®¡æ—¢æ”¯æŒæ¡†æ¶æœ¬èº«çš„å¼€å‘æ‰©å±•ï¼Œä¹Ÿæ»¡è¶³äº†ä¼ä¸šçº§åº”ç”¨ä¸­å¹³å°å‹éƒ¨é—¨æä¾›é€šç”¨åº“ä¾›ä¸šåŠ¡éƒ¨é—¨ä½¿ç”¨çš„éœ€æ±‚ã€‚</p>
<p>æ‰€æœ‰æ™ºèƒ½ä½“å†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…éƒ½ä»¥äº‹ä»¶ä¸ºè½½ä½“è¿›è¡Œä¼ é€’ï¼Œæ¡†æ¶ç”šè‡³å¯ä»¥æä¾›å…³äºäº‹ä»¶æ›´æ–°ã€Actionæ‰§è¡Œå¼€å§‹å’Œç»“æŸç­‰å…ƒäº‹ä»¶ã€‚ç»“åˆè¿™äº›äº‹ä»¶ä¿¡æ¯ï¼Œç³»ç»Ÿèƒ½å¤Ÿæä¾›è¯¦ç»†çš„äº‹ä»¶æ—¥å¿—æ¥å¸®åŠ©ç”¨æˆ·ç†è§£æ™ºèƒ½ä½“çš„æ‰§è¡Œè¿‡ç¨‹ï¼ŒåŒæ—¶æ”¯æŒåœ¨çº¿å›è°ƒæœºåˆ¶è¿›è¡Œè¿è¡Œæ—¶ç›‘æ§ã€‚</p>
<h4 data-id="heading-8">1.6 æŠ€æœ¯å±•æœ›</h4>
<p>Flink Agentsé¡¹ç›®çš„æ¨å‡ºæ ‡å¿—ç€Apache Flinkç¤¾åŒºåœ¨AIé¢†åŸŸçš„é‡è¦å¸ƒå±€ã€‚é€šè¿‡å°†Flinkå¼ºå¤§çš„æµå¤„ç†èƒ½åŠ›ä¸AIæ™ºèƒ½ä½“æŠ€æœ¯ç›¸ç»“åˆï¼Œä¸ºäº‹ä»¶é©±åŠ¨çš„AIåº”ç”¨æä¾›äº†ä¸€ä¸ªå·¥ä¸šçº§çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å¯¹äºå¸Œæœ›æ„å»ºå¤§è§„æ¨¡ã€é«˜å¯é æ€§AIåº”ç”¨çš„å¼€å‘è€…å’Œä¼ä¸šæ¥è¯´ï¼ŒFlink Agentsæä¾›äº†ä¸€ä¸ªå…¨æ–°çš„æŠ€æœ¯é€‰æ‹©ã€‚å®ƒä¸ä»…ç»§æ‰¿äº†Apache Flinkåœ¨æµå¤„ç†é¢†åŸŸçš„æŠ€æœ¯ä¼˜åŠ¿ï¼Œè¿˜é’ˆå¯¹AIåº”ç”¨çš„ç‰¹æ®Šéœ€æ±‚è¿›è¡Œäº†ä¸“é—¨çš„è®¾è®¡å’Œä¼˜åŒ–ï¼Œæœ‰æœ›æˆä¸ºä¸‹ä¸€ä»£AIåº”ç”¨å¼€å‘çš„é‡è¦å·¥å…·ã€‚</p>
<h3 data-id="heading-9">0x02 è®¾è®¡åˆ†æ</h3>
<p>æ—¢ç„¶åˆæ­¥äº†è§£äº†Flink Agentsä¸‹é¢ï¼Œæˆ‘ä»¬æ¥åæ¨ä¸‹å…¶è®¾è®¡ã€‚çœ‹çœ‹ Flink Agents æ¡†æ¶çš„æ ¸å¿ƒè§£å†³ç›®æ ‡ï¼Œä»¥åŠé’ˆå¯¹è¿™äº›é—®é¢˜çš„æ ¸å¿ƒè®¾è®¡æ€è·¯å’Œå…·ä½“æ–¹æ¡ˆï¼Œæœ¬è´¨æ˜¯ç†è§£è¯¥æ¡†æ¶çš„ â€œé—®é¢˜ - è®¾è®¡â€ å¯¹åº”é€»è¾‘ã€‚</p>
<p>Flink Agents æ˜¯åŸºäº Flink æµå¤„ç†èƒ½åŠ›æ„å»ºçš„ Agent è¿è¡Œæ—¶æ¡†æ¶ï¼Œæ ¸å¿ƒè§£å†³<strong>ä¼ ç»Ÿ Agent æ¡†æ¶åœ¨åˆ†å¸ƒå¼ã€é«˜å¹¶å‘ã€æµå¤„ç†åœºæ™¯ä¸‹çš„çŸ­æ¿</strong>ï¼ŒåŒæ—¶é€‚é… Agent ç‰¹æœ‰çš„ â€œäº‹ä»¶é©±åŠ¨ã€åŠ¨ä½œæ‰§è¡Œã€çŠ¶æ€ç®¡ç†â€ éœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯é—®é¢˜ä¸è®¾è®¡çš„å¯¹åº”åˆ†æï¼š</p>
<h4 data-id="heading-10">2.1 Flink Agents è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<h5 data-id="heading-11">2.1.1 é—®é¢˜1ï¼šå•æœºå±€é™</h5>
<p>ä¼ ç»Ÿ Agent æ¡†æ¶ï¼ˆå¦‚ LangChainã€AutoGPTï¼‰å¤šåŸºäºå•æœºè¿è¡Œï¼Œå­˜åœ¨ â€œå•æœºå±€é™â€â€”â€” æ— æ³•åº”å¯¹å¤§è§„æ¨¡æµæ•°æ® / é«˜å¹¶å‘äº‹ä»¶ã€‚å…·ä½“è€Œè¨€ï¼Œä¼ ç»Ÿ Agent æ¡†æ¶é¢å¯¹<strong>å®æ—¶æµæ•°æ®ï¼ˆå¦‚ç”¨æˆ·æŒ‡ä»¤æµã€è®¾å¤‡äº‹ä»¶æµï¼‰</strong> æˆ–é«˜å¹¶å‘ Agent è°ƒç”¨æ—¶ï¼Œå­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>æ— æ³•æ¨ªå‘æ‰©å±•ï¼Œå¹¶å‘é‡å—é™ï¼›</li>
<li>æ— å†…ç½®çš„æµå¤„ç†èƒ½åŠ›ï¼Œéš¾ä»¥å¤„ç†æŒç»­è¾“å…¥çš„äº‹ä»¶æµï¼›</li>
<li>ç¼ºä¹åˆ†å¸ƒå¼å®¹é”™æœºåˆ¶ï¼Œå•ç‚¹æ•…éšœå¯¼è‡´ Agent æ‰§è¡Œä¸­æ–­ã€‚</li>
</ul>
<h5 data-id="heading-12">2.1.2 é—®é¢˜2ï¼šå¼‚æ­¥ / åˆ†é˜¶æ®µå¤„ç†</h5>
<p>Agent æ‰§è¡Œæ—¶å­˜åœ¨ â€œå¼‚æ­¥ / åˆ†é˜¶æ®µå¤„ç†â€ éš¾é¢˜ â€”â€” éš¾ä»¥ç®¡ç†å¤æ‚åŠ¨ä½œçš„ç”Ÿå‘½å‘¨æœŸã€‚å…·ä½“è€Œè¨€ï¼ŒAgent çš„æ ¸å¿ƒæ˜¯ â€œäº‹ä»¶â†’å†³ç­–â†’åŠ¨ä½œæ‰§è¡Œâ†’ç»“æœåé¦ˆâ€ çš„å¾ªç¯ï¼Œè€ŒåŠ¨ä½œæ‰§è¡Œå¸¸åŒ…å«ï¼š</p>
<ul>
<li>å¼‚æ­¥æ“ä½œï¼ˆå¦‚è°ƒç”¨å¤–éƒ¨ APIã€æ‰§è¡Œ Python è„šæœ¬ï¼‰ï¼›</li>
<li>åˆ†é˜¶æ®µä»»åŠ¡ï¼ˆå¦‚å…ˆå‘èµ· HTTP è¯·æ±‚ï¼Œç­‰å¾…å“åº”åå†å¤„ç†ï¼‰ï¼›</li>
<li>åŠ¨æ€ç”Ÿæˆåç»­ä»»åŠ¡ï¼ˆå¦‚ä¸€æ¬¡å†³ç­–è§¦å‘å¤šä¸ªåŠ¨ä½œï¼‰ï¼›</li>
</ul>
<p>ä¼ ç»Ÿæ¡†æ¶éš¾ä»¥æ ‡å‡†åŒ–ç®¡ç†è¿™ç±» â€œéåŸå­åŒ–â€ çš„åŠ¨ä½œæ‰§è¡Œï¼Œæ˜“å‡ºç°ä»»åŠ¡ä¸¢å¤±ã€çŠ¶æ€æ··ä¹±ã€‚</p>
<h5 data-id="heading-13">2.1.3 é—®é¢˜3ï¼šé€‚é…é¸¿æ²Ÿ</h5>
<p>Agent ä¸æµå¤„ç†åœºæ™¯ä¹‹é—´å­˜åœ¨ â€œé€‚é…é¸¿æ²Ÿâ€â€”â€” åŸç”Ÿ Flink ä¸æ”¯æŒ Agent è¯­ä¹‰ã€‚å…·ä½“è€Œè¨€ï¼ŒåŸç”Ÿ Flink æ˜¯é€šç”¨æµå¤„ç†å¼•æ“ï¼Œç¼ºä¹ Agent ç‰¹æœ‰çš„è¯­ä¹‰æŠ½è±¡ï¼š</p>
<ul>
<li>æ—  â€œAgentâ€â€œActionï¼ˆåŠ¨ä½œï¼‰â€â€œEventï¼ˆäº‹ä»¶ï¼‰â€ çš„åŸç”Ÿå®šä¹‰ï¼Œç”¨æˆ·éœ€æ‰‹åŠ¨å°è£…ï¼›</li>
<li>æ— å†…ç½®çš„ Agent çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ä¼šè¯ä¸Šä¸‹æ–‡ã€å·¥å…·è°ƒç”¨è®°å½•ï¼‰ï¼›</li>
<li>æ— å·¥å…· / èµ„æºçš„ç»Ÿä¸€æ³¨å†Œä¸è°ƒåº¦æœºåˆ¶ï¼Œéœ€é‡å¤å¼€å‘é€‚é…é€»è¾‘ã€‚</li>
</ul>
<h5 data-id="heading-14">2.1.4 é—®é¢˜4ï¼šçŠ¶æ€ä¸€è‡´æ€§</h5>
<p>Agent æ‰§è¡Œå­˜åœ¨ â€œçŠ¶æ€ä¸€è‡´æ€§â€ é—®é¢˜ â€”â€” åˆ†å¸ƒå¼åœºæ™¯ä¸‹çŠ¶æ€æ˜“ä¸¢å¤± / ä¸ä¸€è‡´ã€‚å…·ä½“è€Œè¨€ï¼ŒAgent æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€ç»´æŠ¤ï¼š</p>
<ul>
<li>çŸ­æœŸçŠ¶æ€ï¼ˆå¦‚å½“å‰ä¼šè¯çš„åŠ¨ä½œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼›</li>
<li>é•¿æœŸçŠ¶æ€ï¼ˆå¦‚ Agent å®ä¾‹çš„è¿è¡ŒçŠ¶æ€ã€å·¥å…·è°ƒç”¨è®°å½•ï¼‰ï¼›</li>
</ul>
<p>ä¼ ç»Ÿåˆ†å¸ƒå¼æ¡†æ¶è‹¥ç›´æ¥é€‚é… Agentï¼Œæ˜“å‡ºç°çŠ¶æ€åˆ†ç‰‡æ··ä¹±ã€æ•…éšœæ¢å¤åçŠ¶æ€ä¸¢å¤±çš„é—®é¢˜ã€‚</p>
<h5 data-id="heading-15">2.1.5 é—®é¢˜5ï¼šå…¼å®¹æ€§</h5>
<p>ç›®å‰ä»å­˜åœ¨â€œå¤šè¯­è¨€åŠ¨ä½œæ‰§è¡Œâ€çš„å…¼å®¹éš¾é¢˜â€”â€”Agent çš„ Tool/Function å¯èƒ½åˆ†åˆ«ç”¨ Javaï¼ˆé«˜æ€§èƒ½ï¼‰æˆ– Pythonï¼ˆç”Ÿæ€ä¸°å¯Œï¼‰å®ç°ï¼Œä¼ ç»Ÿæ¡†æ¶æš´éœ²å‡ºä¸¤ç±»å¼±ç‚¹ï¼š</p>
<ul>
<li>è¿›ç¨‹é€šä¿¡æˆ– RPC éœ€æ‰‹å·¥ç¼–å†™ï¼Œå¼€å‘æˆæœ¬é«˜ï¼›</li>
<li>ç¼ºä¹ç»Ÿä¸€çš„å¤šè¯­è¨€ä»»åŠ¡è°ƒåº¦å™¨ï¼Œæ˜“å½¢æˆæ‰§è¡Œé˜»å¡ã€‚</li>
</ul>
<h4 data-id="heading-16">2.2 é’ˆå¯¹é—®é¢˜çš„æ ¸å¿ƒè®¾è®¡</h4>
<h5 data-id="heading-17">2.2.1 é—®é¢˜1ï¼šå•æœºå±€é™</h5>
<p>æ ¸å¿ƒè®¾è®¡æ€è·¯ä¸ºï¼šåŸºäº Flink åˆ†å¸ƒå¼æµå¤„ç†å†…æ ¸ï¼Œå°è£… Agent è¯­ä¹‰çš„æµå¤„ç†èƒ½åŠ›ã€‚</p>
<p>å…·ä½“å®ç°æ–¹æ¡ˆä¸ºï¼š</p>
<ul>
<li><strong>Agent ä½œä¸ºæµä½œä¸šæŠ½è±¡</strong>ï¼šå°† Agent é€»è¾‘å°è£…ä¸º Flink DataStream ä½œä¸šï¼Œå¤©ç„¶æ”¯æŒæ¨ªå‘æ‰©å±•ã€å¹¶è¡Œæ‰§è¡Œï¼›</li>
<li><strong>äº‹ä»¶é©±åŠ¨çš„æµè¾“å…¥é€‚é…</strong>ï¼šå®šä¹‰ InputEvent / OutputEvent ç­‰æ ‡å‡†åŒ–äº‹ä»¶ï¼Œç›´æ¥å¯¹æ¥ Flink çš„æµæ•°æ®è¾“å…¥ï¼Œå¤„ç†å®æ—¶äº‹ä»¶æµï¼›</li>
<li><strong>Flink åŸç”Ÿå®¹é”™</strong>ï¼šå¤ç”¨ Flink çš„ Checkpoint/StateBackend æœºåˆ¶ï¼Œå®ç° Agent æ‰§è¡Œçš„æ•…éšœæ¢å¤ã€‚</li>
</ul>
<h5 data-id="heading-18">2.2.2 é—®é¢˜2ï¼šå¼‚æ­¥ / åˆ†é˜¶æ®µå¤„ç†</h5>
<p>æ ¸å¿ƒè®¾è®¡æ€è·¯ä¸ºï¼šæ ‡å‡†åŒ– â€œåŠ¨ä½œæ‰§è¡Œ - ä»»åŠ¡æ‹†åˆ† - é˜Ÿåˆ—è°ƒåº¦â€ çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
<p>å…·ä½“å®ç°æ–¹æ¡ˆä¸ºï¼š</p>
<ul>
<li>
<p><strong>ActionTask åŸå­åŒ–æ‹†åˆ†</strong>ï¼šå°†å¤æ‚ Action æ‹†åˆ†ä¸ºæœ€å°æ‰§è¡Œå•å…ƒï¼ˆActionTaskï¼‰ï¼Œæ”¯æŒå¼‚æ­¥ / åˆ†é˜¶æ®µæ‰§è¡Œï¼›</p>
</li>
<li>
<p><strong>åŠ¨æ€ä»»åŠ¡ç”Ÿæˆä¸é˜Ÿåˆ—ç®¡ç†</strong>ï¼š</p>
<ul>
<li>ActionTask.invoke () å¯è¿”å›æ–°çš„ ActionTaskï¼Œå®ç°ä»»åŠ¡çš„åŠ¨æ€æ‰©å±•ï¼›</li>
<li>åŸºäº <code>ListState</code> å­˜å‚¨å¾…æ‰§è¡Œä»»åŠ¡ï¼Œé€šè¿‡ Mailbox æœºåˆ¶è°ƒåº¦ï¼Œé¿å…é˜»å¡ï¼›</li>
</ul>
</li>
<li>
<p><strong>ä»»åŠ¡æ‰§è¡Œé—­ç¯</strong>ï¼š<code>processActionTaskForKey</code> å®ç° â€œæ‰§è¡Œâ†’ç»“æœå¤„ç†â†’æ–°ä»»åŠ¡å…¥é˜Ÿâ†’å¾ªç¯è°ƒåº¦â€ï¼Œç¡®ä¿ä»»åŠ¡ä¸ä¸¢å¤±ã€‚</p>
</li>
</ul>
<h5 data-id="heading-19">2.2.3 é—®é¢˜3ï¼šé€‚é…é¸¿æ²Ÿ</h5>
<p>æ ¸å¿ƒè®¾è®¡æ€è·¯ä¸ºï¼šæŠ½è±¡ Agent æ ¸å¿ƒè¯­ä¹‰å±‚ï¼Œé€‚é…åŸç”Ÿ Flink æ‰§è¡Œå¼•æ“ã€‚</p>
<p>å…·ä½“å®ç°æ–¹æ¡ˆä¸ºï¼š</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒè¯­ä¹‰æŠ½è±¡</strong>ï¼š</p>
<ul>
<li><code>Agent</code>ï¼šå°è£… Agent é€»è¾‘ï¼ˆåŠ¨ä½œã€èµ„æºã€äº‹ä»¶ç»‘å®šï¼‰ï¼›</li>
<li><code>AgentPlan</code>ï¼šå°† Agent ç¼–è¯‘ä¸º Flink å¯æ‰§è¡Œçš„è®¡åˆ’ï¼ˆå¯¹åº” JobGraphï¼‰ï¼›</li>
<li><code>Action</code>ï¼šå®šä¹‰ Agent å¯æ‰§è¡Œçš„åŠ¨ä½œï¼Œé€šè¿‡ <code>@action</code> è£…é¥°å™¨ç»‘å®šäº‹ä»¶ï¼›</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶ - åŠ¨ä½œç»‘å®šæœºåˆ¶</strong>ï¼šAction ä¸ Event è§£è€¦ç»‘å®šï¼ˆå¦‚ <code>@action(UserCommandEvent)</code>ï¼‰ï¼Œæ”¯æŒäº‹ä»¶è§¦å‘æŒ‡å®šåŠ¨ä½œï¼›</p>
</li>
<li>
<p><strong>èµ„æºç»Ÿä¸€æ³¨å†Œ</strong>ï¼šé€šè¿‡ <code>ResourceProvider</code> æ³¨å†Œå·¥å…· / èµ„æºï¼ˆå¦‚ <code>menu_db</code>ï¼‰ï¼ŒAgent æŒ‰éœ€è·å–ï¼Œæ— éœ€é‡å¤åˆå§‹åŒ–ã€‚</p>
</li>
</ul>
<h5 data-id="heading-20">2.2.4 é—®é¢˜4ï¼šçŠ¶æ€ä¸€è‡´æ€§</h5>
<p>æ ¸å¿ƒè®¾è®¡æ€è·¯ä¸ºï¼šåŸºäº Flink é”®æ§çŠ¶æ€å®ç° Agent çŠ¶æ€éš”ç¦»ä¸æŒä¹…åŒ–ã€‚</p>
<p>å…·ä½“å®ç°æ–¹æ¡ˆä¸ºï¼š</p>
<ul>
<li>
<p><strong>Keyed State çŠ¶æ€éš”ç¦»</strong>ï¼šæŒ‰ Agent å®ä¾‹ / ä¼šè¯ ID ä½œä¸º keyï¼Œéš”ç¦»ä¸åŒ Agent çš„çŠ¶æ€ï¼ˆå¦‚ä¸Šä¸‹æ–‡ã€ä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆ†å±‚çŠ¶æ€ç®¡ç†</strong>ï¼š</p>
<ul>
<li>çŸ­æœŸçŠ¶æ€ï¼š<code>LocalRunnerContext</code> å­˜å‚¨ä¼šè¯çº§ä¸´æ—¶æ•°æ®ï¼›</li>
<li>é•¿æœŸçŠ¶æ€ï¼šå¤ç”¨ Flink çš„ StateBackendï¼ˆå¦‚ RocksDBï¼‰æŒä¹…åŒ– Agent è¿è¡ŒçŠ¶æ€ï¼›</li>
</ul>
</li>
<li>
<p><strong>Checkpoint çŠ¶æ€å¿«ç…§</strong>ï¼šå®šæœŸå¿«ç…§ Agent çŠ¶æ€ï¼Œæ•…éšœæ¢å¤æ—¶è¿˜åŸæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
</li>
</ul>
<h5 data-id="heading-21">2.2.5 é—®é¢˜5ï¼šå…¼å®¹æ€§</h5>
<p>æ ¸å¿ƒè®¾è®¡æ€è·¯ä¸ºï¼šç»Ÿä¸€çš„å¤šè¯­è¨€ ActionTask å°è£…ä¸è°ƒåº¦ã€‚</p>
<p>å…·ä½“å®ç°æ–¹æ¡ˆä¸ºï¼š</p>
<ul>
<li>
<p><strong>å¤šè¯­è¨€ ActionTask å®ç°</strong>ï¼š</p>
<ul>
<li><code>JavaActionTask</code>ï¼šå¤„ç† Java å®ç°çš„ Actionï¼›</li>
<li><code>PythonActionTask</code>ï¼šå°è£… Python è„šæœ¬æ‰§è¡Œï¼Œæ”¯æŒå¼‚æ­¥è°ƒç”¨ï¼›</li>
</ul>
</li>
<li>
<p><strong>è·¨è¯­è¨€é€šä¿¡æ ‡å‡†åŒ–</strong>ï¼šé€šè¿‡ç»“æ„åŒ–æ•°æ®ï¼ˆJSONï¼‰ä¼ é€’å‚æ•° / ç»“æœï¼Œé¿å…è¯­è¨€é—´é€‚é…æˆæœ¬ï¼›</p>
</li>
<li>
<p><strong>Python ç”Ÿæˆå™¨é€‚é…</strong>ï¼š<code>PythonGeneratorActionTask</code> æ”¯æŒ Python ç”Ÿæˆå™¨çš„åˆ†é˜¶æ®µæ‰§è¡Œï¼Œé€‚é…å¼‚æ­¥åœºæ™¯ã€‚</p>
</li>
</ul>
<h4 data-id="heading-22">2.3 å…³é”®è®¾è®¡çš„è½åœ°ç¤ºä¾‹</h4>
<p>æˆ‘ä»¬ä»¥ â€œç”¨æˆ·å‘é€â€˜æ˜¾ç¤ºèœå•â€™æŒ‡ä»¤â€ ä¸ºä¾‹ï¼Œè®¾è®¡å¦‚ä½•è§£å†³é—®é¢˜ï¼š</p>
<ol>
<li><strong>æµå¤„ç†é€‚é…</strong>ï¼šç”¨æˆ·æŒ‡ä»¤ä»¥äº‹ä»¶å½¢å¼è¿›å…¥ Flink æµï¼ŒAgent ä½œä¸šå¹¶è¡Œå¤„ç†è¯¥äº‹ä»¶æµï¼Œæ”¯æŒé«˜å¹¶å‘ï¼›</li>
<li><strong>ä»»åŠ¡æ‹†åˆ†</strong>ï¼šä»»åŠ¡åŠ¨ä½œè¢«å°è£…ä¸º <code>PythonActionTask</code>ï¼Œæ‰§è¡Œæ—¶å…ˆè·å– <code>menu_db</code> èµ„æºï¼ˆç»Ÿä¸€æ³¨å†Œçš„èµ„æºï¼‰ï¼Œå†å‘é€ <code>MenuDisplayEvent</code>ï¼›</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šæŒ‰ç”¨æˆ· ID ä½œä¸º keyï¼Œéš”ç¦»ä¸åŒç”¨æˆ·çš„èœå•æŸ¥è¯¢çŠ¶æ€ï¼ŒCheckpoint ç¡®ä¿çŠ¶æ€ä¸ä¸¢å¤±ï¼›</li>
<li><strong>åˆ†å¸ƒå¼æ‰§è¡Œ</strong>ï¼šActionExecutionOperator è¿è¡Œåœ¨å¤šä¸ª TaskManager ä¸Šï¼Œæ¨ªå‘æ‰©å±•å¤„ç†æµ·é‡ç”¨æˆ·æŒ‡ä»¤ã€‚</li>
</ol>
<h4 data-id="heading-23">2.4 æ€»ç»“</h4>
<ol>
<li>Flink Agents çš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>è®© Agent æ¡†æ¶å…·å¤‡åˆ†å¸ƒå¼ã€é«˜å¹¶å‘ã€æµå¤„ç†èƒ½åŠ›</strong>ï¼ŒåŒæ—¶è§£å†³ Agent ç‰¹æœ‰çš„ä»»åŠ¡ç®¡ç†ã€çŠ¶æ€ä¸€è‡´æ€§ã€å¤šè¯­è¨€æ‰§è¡Œé—®é¢˜ï¼›</li>
<li>æ ¸å¿ƒè®¾è®¡é€»è¾‘æ˜¯ <strong>â€œAgent è¯­ä¹‰æŠ½è±¡ + Flink åŸç”Ÿèƒ½åŠ›å¤ç”¨â€</strong> ï¼šæ—¢å°è£… Agent æ‰€éœ€çš„ Event/Action/State è¯­ä¹‰ï¼Œåˆå¤ç”¨ Flink çš„åˆ†å¸ƒå¼ã€å®¹é”™ã€æµå¤„ç†å†…æ ¸ï¼›</li>
<li>å…³é”®è®¾è®¡è½åœ°ï¼šActionTask è§£å†³ä»»åŠ¡æ‹†åˆ†ï¼ŒActionExecutionOperator è§£å†³æ‰§è¡Œè°ƒåº¦ï¼ŒKeyed State è§£å†³çŠ¶æ€ä¸€è‡´æ€§ï¼Œå¤šè¯­è¨€ ActionTask è§£å†³è·¨è¯­è¨€æ‰§è¡Œã€‚</li>
</ol>
<h3 data-id="heading-24">0xFF å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1681147" target="_blank" title="https://developer.aliyun.com/article/1681147" ref="nofollow noopener noreferrer">Flink Agentsï¼šåŸºäºApache Flinkçš„äº‹ä»¶é©±åŠ¨AIæ™ºèƒ½ä½“æ¡†æ¶</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºæ·±åº¦å­¦ä¹ çš„å†œä¸šè™«å®³è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼šYOLOv8 çš„å®Œæ•´å·¥ç¨‹]]></title>    <link>https://juejin.cn/post/7587252766831738922</link>    <guid>https://juejin.cn/post/7587252766831738922</guid>    <pubDate>2025-12-24T12:56:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587252766831738922" data-draft-id="7587299443643121727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºæ·±åº¦å­¦ä¹ çš„å†œä¸šè™«å®³è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼šYOLOv8 çš„å®Œæ•´å·¥ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T12:56:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºæ·±åº¦å­¦ä¹ çš„å†œä¸šè™«å®³è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼šYOLOv8 çš„å®Œæ•´å·¥ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T12:56:00.000Z" title="Wed Dec 24 2025 12:56:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºæ·±åº¦å­¦ä¹ çš„å†œä¸šè™«å®³è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼šYOLOv8 çš„å®Œæ•´å·¥ç¨‹</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ç ”ç©¶èƒŒæ™¯ï¼šå†œä¸šè™«å®³è¯†åˆ«ä¸ºä½•éœ€è¦ AIï¼Ÿ</h3>
<p>åœ¨å†œä¸šç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œ<strong>ç—…è™«å®³æ˜¯å½±å“ä½œç‰©äº§é‡å’Œè´¨é‡çš„æ ¸å¿ƒå› ç´ ä¹‹ä¸€</strong>ã€‚æ®ç»Ÿè®¡ï¼Œå…¨çƒæ¯å¹´å› è™«å®³é€ æˆçš„ç²®é£ŸæŸå¤±é«˜è¾¾ 20% ä»¥ä¸Šã€‚ä¼ ç»Ÿçš„è™«å®³é˜²æ²»æ–¹å¼ä¸»è¦ä¾èµ–ï¼š</p>
<ul>
<li>äººå·¥å·¡ç”°è§‚å¯Ÿ</li>
<li>ä¸“å®¶ç»éªŒåˆ¤æ–­</li>
<li>äº‹åç”¨è¯å¤„ç†</li>
</ul>
<p>è¿™ç§æ–¹å¼å­˜åœ¨æ˜æ˜¾é—®é¢˜ï¼š</p>
<ul>
<li>ğŸ <strong>è¯†åˆ«æ•ˆç‡ä½</strong>ï¼šäººå·¥å·¡æ£€éš¾ä»¥è¦†ç›–å¤§é¢ç§¯å†œç”°</li>
<li>ğŸ <strong>ä¸»è§‚æ€§å¼º</strong>ï¼šä¸åŒäººå‘˜åˆ¤æ–­æ ‡å‡†ä¸ä¸€è‡´</li>
<li>ğŸ <strong>å“åº”æ»å</strong>ï¼šå¾€å¾€åœ¨è™«å®³çˆ†å‘åæ‰å‘ç°</li>
</ul>
<p>éšç€è®¡ç®—æœºè§†è§‰ä¸æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„æˆç†Ÿï¼Œ<strong>åŸºäºç›®æ ‡æ£€æµ‹çš„å†œä¸šè™«å®³è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿ</strong> æ­£é€æ¸æˆä¸ºæ™ºæ…§å†œä¸šçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸ª <strong>åŸºäº YOLOv8 çš„å†œä¸šè™«å®³æ£€æµ‹ç³»ç»Ÿ</strong>ï¼Œè¦†ç›– <strong>102 ç±»å¸¸è§å†œä¸šå®³è™«</strong>ï¼Œå¹¶æä¾›ä»æ¨¡å‹è®­ç»ƒåˆ° PyQt5 å›¾å½¢åŒ–éƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹æ–¹æ¡ˆï¼ŒçœŸæ­£å®ç° <strong>â€œæ¨¡å‹å³å·¥å…·ï¼ŒAI å³ç”Ÿäº§åŠ›â€</strong>ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfcafbc25a074ae4b75f2d8139b4df53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=YERUtGauVkOKSPISJG2P09OpgKI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1ux7rzbEqw" target="_blank" title="https://www.bilibili.com/video/BV1ux7rzbEqw" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1uxâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53ef3b0da12e48ecbbdd7802497d867a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=5hzgr6X1ECJqNGltmPqq6tWkz%2F0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ•´ä½“è®¾è®¡ä¸æŠ€æœ¯è·¯çº¿</h3>
<h4 data-id="heading-4">2.1 ç³»ç»Ÿæ¶æ„è®¾è®¡</h4>
<p>æœ¬é¡¹ç›®é‡‡ç”¨å…¸å‹çš„ <strong>ç«¯åˆ°ç«¯è§†è§‰è¯†åˆ«ç³»ç»Ÿæ¶æ„</strong>ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">å›¾åƒ / è§†é¢‘ / æ‘„åƒå¤´
<span class="hljs-code">        â†“
YOLOv8 è™«å®³æ£€æµ‹æ¨¡å‹
        â†“
ç›®æ ‡æ¡† + ç±»åˆ« + ç½®ä¿¡åº¦
        â†“
PyQt5 å›¾å½¢ç•Œé¢å®æ—¶å±•ç¤º
        â†“
ç»“æœä¿å­˜ / åç»­åˆ†æ
</span></code></pre>
<h4 data-id="heading-5">2.2 æ ¸å¿ƒæŠ€æœ¯é€‰å‹</h4>






























<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯æ–¹æ¡ˆ</th><th>é€‰æ‹©åŸå› </th></tr></thead><tbody><tr><td>ç›®æ ‡æ£€æµ‹æ¨¡å‹</td><td>YOLOv8</td><td>å®æ—¶æ€§å¼ºã€ç²¾åº¦é«˜ã€å·¥ç¨‹æˆç†Ÿ</td></tr><tr><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>PyTorch</td><td>ç¤¾åŒºæ´»è·ƒã€æ˜“æ‰©å±•</td></tr><tr><td>GUI ç•Œé¢</td><td>PyQt5</td><td>è·¨å¹³å°ã€å¼€å‘æ•ˆç‡é«˜</td></tr><tr><td>æ¨ç†éƒ¨ç½²</td><td>Ultralytics API</td><td>ä¸€è¡Œä»£ç å³å¯æ¨ç†</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ç³»ç»ŸåŠŸèƒ½æ¦‚è¿°</h3>
<h4 data-id="heading-7">3.1 å¤šè¾“å…¥æºè™«å®³æ£€æµ‹</h4>
<p>ç³»ç»Ÿæ”¯æŒå¤šç§æ•°æ®è¾“å…¥æ–¹å¼ï¼Œèƒ½å¤Ÿé€‚é…ä¸åŒå†œä¸šåº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ğŸ“· <strong>å•å¼ å›¾ç‰‡æ£€æµ‹</strong>ï¼šç”¨äºæ ·æœ¬åˆ†æä¸ç§‘ç ”æ ‡æ³¨</li>
<li>ğŸ“ <strong>æ–‡ä»¶å¤¹æ‰¹é‡æ£€æµ‹</strong>ï¼šé€‚åˆå†å²æ•°æ®å¤„ç†</li>
<li>ğŸ¥ <strong>è§†é¢‘æ£€æµ‹</strong>ï¼šç”¨äºç›‘æ§è§†é¢‘å›æ”¾åˆ†æ</li>
<li>ğŸ“¹ <strong>æ‘„åƒå¤´å®æ—¶æ£€æµ‹</strong>ï¼šé€‚ç”¨äºæ¸©å®¤ã€ç”°é—´ç›‘æ§
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efb91583835a4e39ab3ca2d23043beb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=lOEIvd1CdZL%2BkekheoMVQbmTNXE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul>
<h4 data-id="heading-8">3.2 æ£€æµ‹ç»“æœå¯è§†åŒ–</h4>
<p>æ‰€æœ‰æ£€æµ‹ç»“æœå‡æ”¯æŒï¼š</p>
<ul>
<li>è‡ªåŠ¨ç»˜åˆ¶è™«å®³ç›®æ ‡æ¡†</li>
<li>æ˜¾ç¤ºè™«å®³ç±»åˆ«åç§°</li>
<li>æ˜¾ç¤ºç½®ä¿¡åº¦è¯„åˆ†</li>
<li>ä¸€é”®ä¿å­˜æ£€æµ‹ç»“æœ</li>
</ul>
<p>å³ä½¿ä¸å…·å¤‡æ·±åº¦å­¦ä¹ èƒŒæ™¯ï¼Œä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87431f1af6534264bf720c7103875513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=8cGg4jks0Hg2DJaFd6mCaaogl2A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddaaee2145d94c319cb4137af96131ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=rMN%2BCNGfWtSFkQu%2FBHB5hKFcSN4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">å››ã€YOLOv8 åœ¨å†œä¸šè™«å®³æ£€æµ‹ä¸­çš„ä¼˜åŠ¿</h3>
<h4 data-id="heading-10">4.1 YOLOv8 æ ¸å¿ƒç‰¹ç‚¹</h4>
<p>YOLOv8 æ˜¯ Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œåœ¨å†œä¸šè™«å®³è¯†åˆ«åœºæ™¯ä¸­å…·å¤‡æ˜æ˜¾ä¼˜åŠ¿ï¼š</p>
<ul>
<li>âœ… <strong>Anchor-Free ç»“æ„</strong>ï¼šæ›´é€‚åˆè™«å®³å°ºåº¦å˜åŒ–å¤§çš„åœºæ™¯</li>
<li>âœ… <strong>é«˜é€Ÿæ¨ç†</strong>ï¼šæ”¯æŒå®æ—¶ç›‘æµ‹</li>
<li>âœ… <strong>å¤šå°ºåº¦ç‰¹å¾èåˆ</strong>ï¼šå¯¹å°ç›®æ ‡è™«å®³æ›´å‹å¥½</li>
<li>âœ… <strong>å·¥ç¨‹éƒ¨ç½²ç®€å•</strong>ï¼šé€‚åˆéç®—æ³•äººå‘˜ä½¿ç”¨</li>
</ul>
<h4 data-id="heading-11">4.2 æ£€æµ‹ä»»åŠ¡ç‰¹ç‚¹åˆ†æ</h4>
<p>å†œä¸šè™«å®³æ£€æµ‹ç›¸æ¯”é€šç”¨ç›®æ ‡æ£€æµ‹ï¼Œæ›´å…·æŒ‘æˆ˜æ€§ï¼š</p>
<ul>
<li>è™«å®³ä½“ç§¯å°ã€å½¢æ€å¤šæ ·</li>
<li>èƒŒæ™¯å¤æ‚ï¼ˆå¶ç‰‡ã€åœŸå£¤ã€æå¹²ï¼‰</li>
<li>åŒä¸€å›¾åƒä¸­å¯èƒ½å­˜åœ¨å¤šç±»è™«å®³</li>
</ul>
<p>YOLOv8 çš„å¤šå°ºåº¦ç‰¹å¾æå–èƒ½åŠ›ï¼Œæ­£å¥½å¥‘åˆè¯¥ç±»éœ€æ±‚ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16af87c5a44e4725b22debf82dd1acb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=L5zAMpQOvmHErU1oUvCLkvu4dqc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12">äº”ã€102 ç±»å†œä¸šè™«å®³æ•°æ®é›†æ„å»º</h3>
<h4 data-id="heading-13">5.1 æ•°æ®é›†è§„æ¨¡ä¸æ¥æº</h4>
<p>æœ¬é¡¹ç›®æ„å»ºå¹¶æ•´ç†äº†ä¸€å¥— <strong>é«˜è´¨é‡å†œä¸šè™«å®³æ£€æµ‹æ•°æ®é›†</strong>ï¼š</p>
<ul>
<li>ğŸ“Š å›¾åƒæ€»é‡ï¼š<strong>20,000+</strong></li>
<li>ğŸ› è™«å®³ç±»åˆ«ï¼š<strong>102 ç±»</strong></li>
<li>ğŸ·ï¸ å…¨éƒ¨äººå·¥ç²¾æ ‡ï¼ˆYOLO æ ¼å¼ï¼‰</li>
</ul>
<p>è¦†ç›–æ°´ç¨»ã€å°éº¦ã€ç‰ç±³ã€æœæ ‘ã€è”¬èœç­‰å¤šç§ä½œç‰©çš„å¸¸è§è™«å®³ã€‚</p>
<hr/>
<h4 data-id="heading-14">5.2 æ•°æ®é›†ç»„ç»‡ç»“æ„</h4>
<pre><code class="hljs language-text" lang="text">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
</code></pre>
<p>æ ‡ç­¾æ–‡ä»¶é‡‡ç”¨ YOLO æ ‡å‡†æ ¼å¼ï¼Œé€‚é… YOLOv8 è®­ç»ƒæµç¨‹ã€‚</p>
<hr/>
<h4 data-id="heading-15">5.3 å¤šç±»åˆ«è™«å®³æ ‡æ³¨æŒ‘æˆ˜</h4>
<p>åœ¨ 102 ç±»è™«å®³æ ‡æ³¨è¿‡ç¨‹ä¸­ï¼Œé‡ç‚¹è§£å†³äº†ï¼š</p>
<ul>
<li>ç±»åˆ«ç›¸ä¼¼åº¦é«˜çš„é—®é¢˜</li>
<li>ä¸åŒç”Ÿé•¿é˜¶æ®µè™«æ€å·®å¼‚</li>
<li>å¤šè™«åŒæ¡†é®æŒ¡æƒ…å†µ</li>
</ul>
<p>è¿™äº›é—®é¢˜çš„è§£å†³æ˜¾è‘—æå‡äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-16">å…­ã€æ¨¡å‹è®­ç»ƒä¸æ€§èƒ½è¯„ä¼°</h3>
<h4 data-id="heading-17">6.1 è®­ç»ƒé…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
data=data.yaml \
model=yolov8n.pt \
epochs=100 \
batch=16 \
imgsz=640
</code></pre>
<h4 data-id="heading-18">6.2 è®­ç»ƒè¿‡ç¨‹ç›‘æ§</h4>
<p>YOLOv8 åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸»è¦å…³æ³¨ä¸‰ç±»æŸå¤±å‡½æ•°ï¼š</p>
<ul>
<li><strong>box_loss</strong>ï¼šç›®æ ‡å®šä½ç²¾åº¦</li>
<li><strong>cls_loss</strong>ï¼šç±»åˆ«è¯†åˆ«å‡†ç¡®ç‡</li>
<li><strong>dfl_loss</strong>ï¼šè¾¹ç•Œæ¡†åˆ†å¸ƒå­¦ä¹ </li>
</ul>
<p>è®­ç»ƒæ—¥å¿—ä¸å¯è§†åŒ–ç»“æœå°†è‡ªåŠ¨ä¿å­˜åœ¨ <code>runs/detect/train</code> ç›®å½•ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c31cdb164ab142ba9de5abf5b1ef5266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=JExsS9flb6kktAtLPXh664npX%2FY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-19">6.3 æ¨¡å‹æ•ˆæœè¯„ä¼°</h4>
<p>è¯„ä¼°æŒ‡æ ‡åŒ…æ‹¬ï¼š</p>
<ul>
<li>Precision / Recall</li>
<li>mAP@0.5</li>
<li>æ··æ·†çŸ©é˜µåˆ†æ</li>
</ul>
<p>åœ¨éªŒè¯é›†ä¸Šï¼Œå½“ <strong>mAP@0.5 è¶…è¿‡ 90%</strong>ï¼Œæ¨¡å‹å·²å…·å¤‡å®é™…éƒ¨ç½²ä»·å€¼ã€‚</p>
<hr/>
<h3 data-id="heading-20">ä¸ƒã€æ¨¡å‹æ¨ç†ä¸å·¥ç¨‹åŒ–éƒ¨ç½²</h3>
<h4 data-id="heading-21">7.1 æ¨ç†ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"test.jpg"</span>, conf=<span class="hljs-number">0.25</span>, save=<span class="hljs-literal">True</span>)
</code></pre>
<h4 data-id="heading-22">7.2 æ¨ç†ç»“æœè¯´æ˜</h4>
<p>è¾“å‡ºç»“æœåŒ…å«ï¼š</p>
<ul>
<li>è™«å®³ç±»åˆ«åç§°</li>
<li>ç½®ä¿¡åº¦åˆ†æ•°</li>
<li>è¾¹ç•Œæ¡†åæ ‡</li>
<li>ç»“æœä¿å­˜è·¯å¾„</li>
</ul>
<p>å¯ç›´æ¥ç”¨äºåç»­ç»Ÿè®¡åˆ†ææˆ–é¢„è­¦ç³»ç»Ÿã€‚</p>
<hr/>
<h3 data-id="heading-23">å…«ã€PyQt5 å›¾å½¢ç•Œé¢å®ç°</h3>
<h4 data-id="heading-24">8.1 GUI è®¾è®¡ç›®æ ‡</h4>
<ul>
<li>ğŸ–±ï¸ é›¶å‘½ä»¤è¡Œæ“ä½œ</li>
<li>ğŸ§‘â€ğŸŒ¾ é¢å‘å†œä¸šç”¨æˆ·å‹å¥½</li>
<li>âš¡ å®æ—¶æ£€æµ‹åé¦ˆ</li>
<li>ğŸ’¾ ç»“æœå¯è¿½æº¯ä¿å­˜</li>
</ul>
<h4 data-id="heading-25">8.2 å®æ—¶æ£€æµ‹æµç¨‹</h4>
<ol>
<li>é‡‡é›†å›¾åƒå¸§</li>
<li>è°ƒç”¨ YOLOv8 æ¨ç†</li>
<li>ç»˜åˆ¶æ£€æµ‹æ¡†</li>
<li>æ˜¾ç¤ºå¹¶ä¿å­˜ç»“æœ</li>
</ol>
<p>ç³»ç»Ÿæ•´ä½“å“åº”æµç•…ï¼Œé€‚åˆè¿ç»­ç›‘æµ‹åœºæ™¯ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5db01747c958471b99f3f45089ef98c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767185760&amp;x-signature=FD0XFcyfrPdu%2B88otCWhXt5s1gA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-26">ä¹ã€åº”ç”¨åœºæ™¯ä¸æ‰©å±•æ–¹å‘</h3>
<h4 data-id="heading-27">9.1 å®é™…åº”ç”¨åœºæ™¯</h4>
<ul>
<li>ğŸŒ¾ æ™ºæ…§å†œç”°è™«å®³ç›‘æµ‹</li>
<li>ğŸ”¬ å†œä¸šç§‘ç ”æ•°æ®åˆ†æ</li>
<li>ğŸšœ æ— äººæœºè™«å®³å·¡æ£€</li>
<li>ğŸ“¡ æ¸©å®¤è™«å®³è‡ªåŠ¨é¢„è­¦</li>
</ul>
<h4 data-id="heading-28">9.2 æœªæ¥æ‰©å±•æ–¹å‘</h4>
<ul>
<li>ç»“åˆ <strong>OCR / åˆ†ç±»æ¨¡å‹</strong> åšç²¾ç»†åŒ–è¯†åˆ«</li>
<li>éƒ¨ç½²è‡³ <strong>Jetson / è¾¹ç¼˜è®¾å¤‡</strong></li>
<li>è”åˆæ°”è±¡æ•°æ®å®ç°è™«å®³é¢„æµ‹</li>
<li>æ¥å…¥å†œä¸šç®¡ç†å¹³å°å½¢æˆé—­ç¯ç³»ç»Ÿ</li>
</ul>
<hr/>
<h3 data-id="heading-29">åã€æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ª <strong>åŸºäº YOLOv8 çš„ 102 ç±»å†œä¸šè™«å®³æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ</strong>ï¼Œä»æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒåˆ° PyQt5 å›¾å½¢åŒ–éƒ¨ç½²ï¼Œå®Œæ•´å±•ç¤ºäº† AI æŠ€æœ¯åœ¨æ™ºæ…§å†œä¸šä¸­çš„å·¥ç¨‹åŒ–è½åœ°è¿‡ç¨‹ã€‚</p>
<p>è¯¥é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>ğŸŒŸ å¤§è§„æ¨¡å¤šç±»åˆ«è™«å®³è¯†åˆ«èƒ½åŠ›</li>
<li>ğŸŒŸ å®Œæ•´å¯å¤ç°çš„å·¥ç¨‹æ–¹æ¡ˆ</li>
<li>ğŸŒŸ å¯¹éæŠ€æœ¯äººå‘˜å‹å¥½çš„æ“ä½œä½“éªŒ</li>
<li>ğŸŒŸ å…·å¤‡çœŸå®å†œä¸šåœºæ™¯åº”ç”¨æ½œåŠ›</li>
</ul>
<p>åœ¨æ™ºæ…§å†œä¸šå¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼Œè¿™ç±»ç³»ç»Ÿå°†æˆä¸º <strong>æ•°å­—å†œä¸šã€ç²¾å‡†æ–½è¯ã€ç—…è™«å®³é¢„è­¦ä½“ç³»</strong> ä¸­çš„é‡è¦åŸºç¡€è®¾æ–½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªå¤§é¾„ç¨‹åºå‘˜çš„åœ°é“æ—¥è®°ï¼ˆç¬¬5æœŸï¼‰ï¼Œå‡ ä¹éƒ½å…³äºè¯»ä¹¦]]></title>    <link>https://juejin.cn/post/7587245616754343987</link>    <guid>https://juejin.cn/post/7587245616754343987</guid>    <pubDate>2025-12-24T11:52:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587245616754343987" data-draft-id="7587264707283943434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªå¤§é¾„ç¨‹åºå‘˜çš„åœ°é“æ—¥è®°ï¼ˆç¬¬5æœŸï¼‰ï¼Œå‡ ä¹éƒ½å…³äºè¯»ä¹¦"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-24T11:52:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘è¦æ”¹åå«å˜Ÿå˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1698109849624061"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªå¤§é¾„ç¨‹åºå‘˜çš„åœ°é“æ—¥è®°ï¼ˆç¬¬5æœŸï¼‰ï¼Œå‡ ä¹éƒ½å…³äºè¯»ä¹¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1698109849624061/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘è¦æ”¹åå«å˜Ÿå˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T11:52:00.000Z" title="Wed Dec 24 2025 11:52:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ä¸€ä¸ªæœˆåœ°é“ä¸Šï¼Œè¾“å‡ºå†…å®¹å‡ ä¹éƒ½å›´ç»•ç€æŸä¸ªä¸»é¢˜ï¼Œäºæ˜¯æœ¬ç¯‡å†…å®¹å½“ä¸­éƒ½æœ‰å°æ ‡é¢˜ã€‚</p>
<h3 data-id="heading-0">1ã€è¯»ä»€ä¹ˆä¹¦å¯ä»¥è®©äººå˜å¾—å¹³é™ã€æ·¡å®šï¼Ÿ</h3>
<p>ä»¥æˆ‘çš„ç»éªŒâ€”â€”è¿‡å»5å¹´ï¼Œè¯»äº†ä¸€äº›ä¹¦ï¼Œæ•´ä¸ªäººå˜å¾—å†…æ•›æ²‰ç¨³å®‰é™å¾ˆå¤šâ€”â€”æ¥çœ‹ï¼Œä¼¼ä¹å˜åŒ–ä¸æŸä¸€æœ¬ä¹¦çš„å…³ç³»ä¸å¤§ï¼Œè€Œä»…ä»…åªå…³äºæŒç»­é˜…è¯»è¿™ä»¶äº‹ï¼Œåªè¦æŒç»­é˜…è¯»ï¼Œè¿‡ä¸ªä¸‰äº”å¹´ï¼Œæ•´ä¸ªäººä¾¿ä¼šå¹³é™ã€æ·¡å®šè®¸å¤šã€‚</p>
<p>æˆ‘è¿™ç»“è®ºï¼Œå¤§æ¦‚æ˜¯å¾ˆä¸»è§‚çš„ï¼Œæˆ‘ä¸€æ—¶è¯´ä¸å¤ªæ¸…å˜åŒ–å¦‚ä½•å‘ç”Ÿï¼Œä½†æˆ‘å°†å°½é‡å°†å‘ç”Ÿåœ¨æˆ‘èº«ä¸Šçš„å˜åŒ–è¯´æ¸…æ¥šã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¥ä¸ºä»…ä»…è¯»ä¸€æœ¬ä¹¦ï¼Œæ˜¯ä¸èƒ½åšåˆ°æ”¹å˜çš„ï¼Œä¸ç®¡æ˜¯è®¤çŸ¥è¿˜æ˜¯è¡Œä¸ºï¼Œéƒ½ä¸è¡Œã€‚</p>
<p>ä»¥ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247484824%26idx%3D1%26sn%3D248e953335962f291844655ce0afdc2f%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247484824&amp;idx=1&amp;sn=248e953335962f291844655ce0afdc2f&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å­¦ä¹ ä¹‹é“</a>ã€‹å’Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247484213%26idx%3D1%26sn%3D46ddc3d51191cfabf18a8784f3996c44%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247484213&amp;idx=1&amp;sn=46ddc3d51191cfabf18a8784f3996c44&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">äººæ€§çš„å¼±ç‚¹</a>ã€‹ä¸ºä¾‹ã€‚</p>
<p>ã€Šå­¦ä¹ ä¹‹é“ã€‹ï¼Œæ˜¯ä¸€ä½ä¸–ç•Œå† å†›ä¸¤æ¬¡å¤ºå¾—å† å†›çš„ä¸ªäººä¼ è®°ï¼Œä½œè€…åœ¨ä¹¦ä¸­åˆ†äº«äº†ä»–çš„å­¦ä¹ ä¹‹é“â€”â€”ä¸€åˆ‡éƒ½åŸºäºé‡å¤ç»ƒä¹ ï¼Œç»ƒä¹ è¿‡ç¨‹ä¸­éœ€è¦è¾…ä»¥çƒ­çˆ±ã€‚è¯»å®Œæœ¬ä¹¦å‰åå‡ ä¸ªæœˆï¼Œæˆ‘æ˜¯çœŸæœ‰æŒ‰ç…§ä½œè€…çš„åˆ†äº«å»è¡Œäº‹çš„ï¼Œç¯®çƒä»å¾®å°åŠ¨ä½œè°ƒæ•´ï¼Œå°çƒä¹Ÿä¸€ç‚¹ä¸€æ»´è¿›æ­¥ï¼Œä½†è¿™äº›å¾®å°è°ƒæ•´åªæŒç»­ä¸¤ä¸‰ä¸ªæœˆä¾¿è¢«æŠ›ä¹‹è„‘åã€‚</p>
<p>ã€Šäººæ€§çš„å¼±ç‚¹ã€‹ï¼Œæ˜¯æ•™å¯¼ä¸äººä¸ºå–„çš„ä¸€æœ¬ä¹¦ã€‚é˜…è¯»å½“æ—¶çš„æˆ‘ï¼Œå¤©å¤©è„¸å¸¦ç¬‘æ„ï¼Œè®¤çœŸå€¾å¬ï¼Œè€çƒ¦è®¨è®ºã€‚ä½†è¿™äº›å–„è‰¯çš„ç‰¹ç‚¹ï¼Œåœ¨å‡ ä¸ªæœˆåä¹Ÿæ…¢æ…¢æ¶ˆé€€ã€‚</p>
<p>å³ä»ä¹¦ä¸­æ”¶è·çš„è®¤çŸ¥å½±å“è‡ªå·±ä¸€æ®µæ—¶é—´è¡Œä¸ºåï¼Œå¹¶ä¸èƒ½æŒç»­ã€‚</p>
<p>ç„¶åï¼Œæ˜¯â€œå‡ ä¹æ‰€æœ‰çš„ä¹¦éƒ½æ˜¯æœ‰å…³è”çš„â€ã€‚è¿™äº›æ…¢æ…¢é€€åŒ–çš„è®¤çŸ¥ï¼Œåœ¨åæ¥çš„è¯»ä¹¦å½“ä¸­ï¼Œåˆè¢«å¼ºåŒ–ä¸å·©å›ºã€‚</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485376%26idx%3D1%26sn%3D73a55563bfc591b9c5fc819eaa607dd4%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485376&amp;idx=1&amp;sn=73a55563bfc591b9c5fc819eaa607dd4&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¤©æ‰å‡è±¡</a>ã€‹ä¹Ÿåœ¨è¯´é‡å¤ç»ƒä¹ ä¸çƒ­çˆ±ï¼Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485188%26idx%3D1%26sn%3Debbbd8b5f355ce65a89eaf3903229e04%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485188&amp;idx=1&amp;sn=ebbbd8b5f355ce65a89eaf3903229e04&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¹”å¸ƒæ–¯ä¼ </a>ã€‹ç”šè‡³å°†çƒ­çˆ±åŒ–ä½œæè‡´ï¼Œã€ŠåºŸé‚®å­˜åº•ã€‹è¯´è¯»ä¹¦å†™ä½œå¦‚æ˜¯ã€‚æ€»ä¹‹ï¼Œè¿™â€œåŸºäºçƒ­çˆ±çš„é‡å¤ç»ƒä¹ æ˜¯æˆåŠŸ/ç†Ÿç»ƒçš„å¿…è¦æ¡ä»¶â€è®¤çŸ¥ï¼Œæ…¢æ…¢åœ¨æˆ‘å†…å¿ƒå˜å¾—å·©å›ºã€‚</p>
<p>ç±»ä¼¼çš„è®¤çŸ¥ï¼Œå¦‚æ²‰ç¨³ã€å¦‚å®‰é™ã€å¦‚ä¸‰æ€è€Œåè¡Œã€å¦‚æ¢ä½æ€è€ƒâ€¦â€¦éƒ½åœ¨è¯»ä¹¦å½“ä¸­æ…¢æ…¢å˜å¾—å·©å›ºã€‚è¢«å·©å›ºçš„è®¤çŸ¥ï¼Œä¼šä¸è‡ªè§‰ä½“ç°åœ¨è¡Œä¸ºå½“ä¸­ï¼Œäºæ˜¯ï¼Œä¾¿è‡ªç„¶è€Œç„¶çš„å¹³é™ä¸”æ·¡å®šäº†ã€‚</p>
<p>è¿™è¿‡ç¨‹æ— å…³æŸä¸€æœ¬ä¹¦ï¼Œåªåœ¨äºæŒç»­é˜…è¯»ã€‚</p>
<h3 data-id="heading-1">2ã€çœ‹è¿‡çš„äººç‰©ä¼ è®°å½“ä¸­ï¼Œä½ æœ€æ¨èçš„æ˜¯å“ªä¸€æœ¬ï¼Ÿ</h3>
<p>æˆ‘ç›®å‰çœ‹è¿‡çš„äººç‰©ä¼ è®°ï¼Œæœ‰è¿™æ ·å‡ æœ¬ï¼šã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247484860%26idx%3D1%26sn%3D86e75da8951708f40996548980361630%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247484860&amp;idx=1&amp;sn=86e75da8951708f40996548980361630&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ›¾å›½è—©ä¼ </a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247484637%26idx%3D2%26sn%3D333113d87ab3080e4e288f04f2d6808f%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247484637&amp;idx=2&amp;sn=333113d87ab3080e4e288f04f2d6808f&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">äººç”Ÿéšæ—¶å¯ä»¥é‡æ¥</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247484979%26idx%3D1%26sn%3D42cd3716c384045d497004a57693fdd6%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247484979&amp;idx=1&amp;sn=42cd3716c384045d497004a57693fdd6&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä»æ–‡è‡ªä¼ </a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485177%26idx%3D1%26sn%3D47e4d29e34639dca2aabfca279369026%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485177&amp;idx=1&amp;sn=47e4d29e34639dca2aabfca279369026&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€ä¸ªç‘œä¼½è¡Œè€…çš„è‡ªä¼ </a>ã€‹ã€Šä¹”å¸ƒæ–¯ä¼ ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485199%26idx%3D1%26sn%3D90dac5fd75f47a63714041a34e19e2d2%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485199&amp;idx=1&amp;sn=90dac5fd75f47a63714041a34e19e2d2&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ¼«æ¼«å›å®¶è·¯</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485233%26idx%3D1%26sn%3D2131400b109af41d0e62c3bb78b27e05%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485233&amp;idx=1&amp;sn=2131400b109af41d0e62c3bb78b27e05&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸ºå¥´åäºŒå¹´</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485587%26idx%3D1%26sn%3De44da3e0c3418d6f7edeef23cfb5bc3c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485587&amp;idx=1&amp;sn=e44da3e0c3418d6f7edeef23cfb5bc3c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¤šä½™çš„è¯</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485685%26idx%3D1%26sn%3D1a8d59c9d14bc95ad6fdb1915ffab143%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485685&amp;idx=1&amp;sn=1a8d59c9d14bc95ad6fdb1915ffab143&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">äººç”Ÿç”±æˆ‘</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247485714%26idx%3D1%26sn%3Df70ff6e505a2eeb74af71b277e0637b3%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247485714&amp;idx=1&amp;sn=f70ff6e505a2eeb74af71b277e0637b3&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æˆ‘çš„å‰åŠç”Ÿ</a>ã€‹ä»¥åŠã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487166%26idx%3D1%26sn%3D45fcc533f4dbe9a1d3799a0d85e43d6c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487166&amp;idx=1&amp;sn=45fcc533f4dbe9a1d3799a0d85e43d6c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æˆ‘æ›¾èµ°åœ¨å´©æºƒçš„è¾¹ç¼˜</a>ã€‹ã€‚</p>
<p>è¿™äº›ä¹¦å½“ä¸­ï¼Œæˆ‘æœ€å–œæ¬¢çš„ï¼Œæ˜¯æ²ˆä»æ–‡å…ˆç”Ÿçš„ã€Šä»æ–‡è‡ªä¼ ã€‹ï¼Œå–œæ¬¢çš„ç¼˜ç”±å¾ˆç®€å•ï¼Œä¸€æ˜¯æ²ˆå…ˆç”Ÿçš„æ–‡å­—ç®€å•çœŸå®ä¸”çœŸè¯šï¼ŒäºŒæ˜¯ä»è¿™ä¼ è®°å½“ä¸­æ‰€æ„Ÿå—åˆ°çš„å®‰é™ä¸é¡½å¼ºã€‚</p>
<p>å¯¹çš„ï¼Œæ²ˆå…ˆç”Ÿç”Ÿå‘½ä¸­çš„é‚£äº›å˜åŒ–ï¼Œåœ¨ä»–çš„æ–‡å­—å½“ä¸­æ˜¾å¾—å®‰é™è‡ªç„¶ï¼›é¡½å¼ºï¼Œåˆ™æ¥è‡ªäºå®‰é™èƒŒåçš„å˜åŒ–ï¼Œé‚£äº›å˜åŒ–ï¼ˆæ¯”å¦‚çœŸæ­£æˆä¸ºä¸€ä¸ªé æ–‡å­—å…»æ´»è‡ªå·±çš„ä½œå®¶ï¼‰ï¼Œæ˜¯éœ€è¦å¾ˆå¼ºç”Ÿå‘½åŠ›å¾ˆå¼ºæ‰§è¡ŒåŠ›çš„ã€‚</p>
<p>è¿™äº›ä¹¦å½“ä¸­ï¼Œæˆ‘æœ€æƒ³è¦æ¨èçš„ï¼Œæ˜¯æº¥ä»ªå…ˆç”Ÿçš„ã€Šæˆ‘çš„å‰åŠç”Ÿã€‹ã€‚</p>
<p>è¯šç„¶ï¼Œæœ«ä»£çš‡å¸åšè¿‡è®¸å¤šäºä¸­å›½å¾ˆä¸å¥½çš„é”™äº‹ï¼Œä½†ä»–ç»ˆäºåœ¨äººç”ŸååŠæ®µæ„è¯†åˆ°è‡ªå·±é”™è¯¯å¹¶åçœå¹¶ç»™äºˆåäººä»¥åçœã€‚</p>
<p>æˆ‘è‡ªå·±è¯»ã€Šæˆ‘çš„å‰åŠç”Ÿã€‹è¿‡ç¨‹ï¼Œæ°ä¼¼ä»¥ç¬¬ä¸€äººç§°è§†è§’çœ‹æ­£å‘ç”Ÿçš„å†å²ã€‚çš‡å¸åˆ°åº•æ¯å¤©åœ¨æƒ³ä»€ä¹ˆï¼Ÿçš‡å¸å¤±åŠ¿åä¼šæ€æ ·ï¼Ÿ</p>
<p>åŸæ¥çš‡å¸ä¹Ÿæ…Œå¼ è’å”ï¼Œçš‡å¸ä¹Ÿä¼šç„¦è™‘åˆ°ç¡ä¸ç€è§‰ã€‚</p>
<p>æˆ‘æƒ³è‡ªå·±ï¼Œçœ‹åˆ°äº†ä¸€ä½å¾ˆçœŸå®çš„çš‡å¸ã€‚</p>
<p>åˆ°å…¨ä¹¦æœ€æœ«å°¾ï¼Œæº¥ä»ªå…ˆç”Ÿæœ‰ä½“éªŒåˆ°ä¸€ç§äººç”ŸçœŸè°›ï¼Œå³â€œåƒå¾—ä¸‹é¥­ï¼Œç¡å¾—ç€è§‰â€æ˜¯äººç”Ÿæœ€å®Œç¾çŠ¶æ€ã€‚çœ‹å®Œå…¨ä¹¦ï¼Œæˆ‘æ˜¯æœ‰æ„Ÿå—åˆ°è‡ªå·±å¤šå‡ºä¸€ç§â€œä»»å…¶è‡ªç„¶â€æ€åº¦çš„ï¼šâ€œæ—¢ç„¶è¿çš‡å¸éƒ½è¿½æ±‚åƒé¥±ç©¿æš–ç¡å¥½ï¼Œä¸ºä½•æˆ‘è‡ªå·±ä¸çæƒœæ­£æ‹¥æœ‰çš„äººç”ŸçŠ¶æ€å‘¢ï¼Ÿâ€</p>
<p>ã€Šæˆ‘çš„å‰åŠç”Ÿã€‹å·²ç»çœ‹äº†è®¸ä¹…ï¼Œå¥½äº›å³æ—¶ä½“éªŒè®°ä¸å¤ªä½ï¼Œä½†å½“ä¸‹è¿™ä¸€åˆ»ï¼Œå®ƒæ˜¯æˆ‘çœ‹è¿‡äººç‰©ä¼ è®°å½“ä¸­æœ€è¢«æ¨èçš„é‚£æœ¬ã€‚</p>
<h3 data-id="heading-2">3ã€ä»Šå¹´çœ‹äº†å“ªäº›ä¹¦ï¼Ÿ</h3>
<p>ä»Šå¹´è¯»å®Œçš„ä¹¦ï¼Œå¤§æ¦‚ï¼ˆä¸ç¡®å®šçš„æ„æ€ï¼Œæ˜¯å…¶ä¸­æœ‰ä¸¤æœ¬ä¹¦å¤§æ¦‚æ˜¯å‰äº›å¹´è¯»å®Œä½†æ²¡è®°å½•çš„ï¼‰æ˜¯25æœ¬ï¼Œå®ƒä»¬åˆ†ä½œè¿™æ ·å‡ ä¸ªç±»åˆ«ï¼š</p>
<p>å¿ƒç†å­¦æœ‰ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486833%26idx%3D1%26sn%3D76a087c56b7d1a03724c3deb155bff39%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486833&amp;idx=1&amp;sn=76a087c56b7d1a03724c3deb155bff39&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">è¡Œä¸ºä¸»ä¹‰</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487003%26idx%3D1%26sn%3Dd0f5fdd5d3d7292d0aaeca0de2e61d10%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487003&amp;idx=1&amp;sn=d0f5fdd5d3d7292d0aaeca0de2e61d10&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ— æ¡ä»¶å…»è‚²</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487051%26idx%3D1%26sn%3D338d1d2c99fbfa7377c402322b98534d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487051&amp;idx=1&amp;sn=338d1d2c99fbfa7377c402322b98534d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ååˆ†é’Ÿå†¥æƒ³</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487071%26idx%3D1%26sn%3D3d0c48bc4da1dff0a391491be629c097%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487071&amp;idx=1&amp;sn=3d0c48bc4da1dff0a391491be629c097&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¹¸ç¦çš„å‹‡æ°”</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487091%26idx%3D1%26sn%3Dff194b8ee00e41475b09cfe1419dcee4%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487091&amp;idx=1&amp;sn=ff194b8ee00e41475b09cfe1419dcee4&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç”˜äºå¹³å‡¡çš„å‹‡æ°”</a>ã€‹ã€Šçˆ±çš„è‰ºæœ¯ã€‹å’Œã€Šäº²å¯†å…³ç³»ã€‹ã€‚å¿ƒç†å­¦ä¹¦ç±ï¼Œä¾ç„¶å¸®åŠ©æˆ‘æ›´å¥½çš„è®¤è¯†è‡ªå·±ã€‚</p>
<p>å†å²æœ‰ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486826%26idx%3D1%26sn%3D953c7a408f4ed77e8d1703d72e86d288%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486826&amp;idx=1&amp;sn=953c7a408f4ed77e8d1703d72e86d288&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç§¦è°œ</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486916%26idx%3D1%26sn%3Da182c454037a9de9fc5638381f3519b6%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486916&amp;idx=1&amp;sn=a182c454037a9de9fc5638381f3519b6&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">äº”ä»£åå›½å…¨å²</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487160%26idx%3D1%26sn%3D0b46be43eab9b02943a9e471f31be86a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487160&amp;idx=1&amp;sn=0b46be43eab9b02943a9e471f31be86a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç»†è¯´å®‹æœ</a>ã€‹ã€‚è¿™äº›ä¹¦ï¼Œæˆ‘ä¾ç„¶å¯¹ç…§ç€ã€Šå›½å²å¤§çº²ã€‹æ¥çœ‹ï¼Œæˆ‘ä»¥ä¸ºç°åœ¨çš„è‡ªå·±ï¼Œè™½ç„¶ä¾ç„¶è®°ä¸ä½äº”ä»£åå›½æœ‰å“ªäº›äººã€å®‹æœå¦‚ä½•å˜åŒ–ï¼Œä½†å¿ƒä¸­å¯¹è¿™ä¸¤ä¸ªæœä»£æ˜¯å¤šå‡ºè®¸å¤šå°è±¡çš„ï¼Œäº”ä»£åå›½æœ€é»‘æš—ï¼Œè€Œå®‹ç§¯è´«ç§¯å¼±ã€‚</p>
<p>ä¼ è®°ä»¥åŠè®°å½•è‡ªå·±æˆ–ä»–äººç”Ÿæ´»äº‹çš„ä¹¦æœ‰ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486775%26idx%3D1%26sn%3D8febe91b349f10f51119777f0e4586ae%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486775&amp;idx=1&amp;sn=8febe91b349f10f51119777f0e4586ae&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é—­ç»è®°</a>ã€‹ã€Šæˆ‘æ›¾èµ°åœ¨å´©æºƒçš„è¾¹ç¼˜ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487405%26idx%3D1%26sn%3Db29454f463aae06415b5ae802f408f0b%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487405&amp;idx=1&amp;sn=b29454f463aae06415b5ae802f408f0b&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç“¦å°”ç™»æ¹–</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487424%26idx%3D1%26sn%3D3133242fda8f1a1d1661734fb68f7bbc%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487424&amp;idx=1&amp;sn=3133242fda8f1a1d1661734fb68f7bbc&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åˆè€çš„å¥³äºº</a>ã€‹ã€Šæ²ˆä»æ–‡è¯„ä¼ ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487330%26idx%3D1%26sn%3Dae49ac0abf9984c051faf259660b148a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487330&amp;idx=1&amp;sn=ae49ac0abf9984c051faf259660b148a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æˆ‘çš„è€å¸ˆæ²ˆä»æ–‡</a>ã€‹ã€‚</p>
<p>æˆ‘ä¾ç„¶å–œæ¬¢çœ‹äººç‰©ä¼ è®°ï¼Œæˆ‘ä»¥ä¸ºè¯»äººç‰©ä¼ è®°è¿™é€‰æ‹©çœŸä¸é”™ï¼Œå®ƒä»¬æ€»ç»™äºˆæˆ‘ä¸€ç§å€Ÿé‰´ï¼šæˆ‘ç»å†è¿‡çš„ï¼Œå‰äººä¹Ÿç»å†è¿‡ã€‚</p>
<p>å…³äºæ²ˆä»æ–‡å…ˆç”Ÿçš„ä¹¦ï¼Œæˆ‘æ–°åŠ å…¥ä¹¦æ¶çš„è¿˜æœ‰ã€Šæ‰§æ‹—çš„æ‹“è’è€…ã€‹ä»¥åŠã€Šæ²ˆä»æ–‡å…¨ä¼ ã€‹ã€‚</p>
<p>å°è¯´æœ‰ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486851%26idx%3D1%26sn%3D70c46b4fa18b866456587477babcc823%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486851&amp;idx=1&amp;sn=70c46b4fa18b866456587477babcc823&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é¢å°”å¤çº³æ²³å³å²¸</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486946%26idx%3D1%26sn%3Dec5abb657f9070a26059a051008ae16a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486946&amp;idx=1&amp;sn=ec5abb657f9070a26059a051008ae16a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ´»ç€</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486991%26idx%3D1%26sn%3Da0b97519ba38f0f736ad840693bc8ff1%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486991&amp;idx=1&amp;sn=a0b97519ba38f0f736ad840693bc8ff1&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¤šæƒ…å‰‘å®¢æ— æƒ…å‰‘</a>ã€‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487041%26idx%3D1%26sn%3D73f32f2ff37e643ca45ec7e228aeef61%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487041&amp;idx=1&amp;sn=73f32f2ff37e643ca45ec7e228aeef61&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é•¿å®‰çš„è”æ</a>ã€‹ã€‚è¿™å‡ æœ¬å°è¯´ï¼Œéƒ½çŸ­çŸ­çš„ï¼›ã€Šé¢å°”å¤çº³æ²³å³å²¸ã€‹å’Œã€Šæ´»ç€ã€‹ï¼Œæˆ‘éƒ½å“­ç€è¯»å®Œã€‚</p>
<p>å…¶å®ƒç±»åˆ«æš‚æ—¶åªæœ‰ä¸€æœ¬ï¼Œåªæ˜¯ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247487057%26idx%3D1%26sn%3Dc18d4c7dd1846a64696d701dc8bfcd72%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247487057&amp;idx=1&amp;sn=c18d4c7dd1846a64696d701dc8bfcd72&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">äººä½“ç®€å²</a>ã€‹ï¼Œè¿™æ˜¯ä¸€æœ¬å¾ˆå€¼å¾—æ¨èçš„å…³äºäººä½“çš„ç§‘æ™®ä¹¦ã€‚</p>
<p>æˆ‘æ­£åœ¨é˜…è¯»ï¼Œæˆ–è®¸åœ¨ä¸ä¹…å°†æ¥ä¼šè¯»å®Œçš„ä¹¦ï¼Œæœ‰ã€Šæˆ‘çœ‹è§çš„ä¸–ç•Œã€‹ã€Šè‹ä¸œå¡æ–°ä¼ ã€‹ã€Šæè‡ªæˆã€‹ã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹ã€Šé‡‘é’±å¿ƒç†å­¦ã€‹ä»¥åŠã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹ã€‚</p>
<h3 data-id="heading-3">4ã€ç”µå­ä¹¦æœ‰å“ªäº›ä¼˜ç‚¹ï¼Ÿ</h3>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œç°åœ¨ç”µå­ä¹¦å·²ç»å®Œå®Œå…¨å…¨ä»£æ›¿äº†çº¸è´¨ä¹¦ã€‚æˆ‘ä¹°çº¸è´¨ä¹¦ï¼Œæ›´å¤šåªä¸ºâ€œæ”¶è—â€ï¼Œæˆ‘æƒ³è¦çš„ï¼Œåªæ˜¯åœ¨æŸä¸ªæ¯”è¾ƒé—²æ•£æ—¶é—´ï¼Œæ‰¾ä¸€æ‰¾ç¿»ä¹¦çš„æ„Ÿè§‰ã€‚</p>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œç”µå­ä¹¦ç›¸è¾ƒçº¸è´¨ä¹¦æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<p>é¦–å…ˆï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„é‚£ä¸€ç‚¹ï¼Œç”µå­ä¹¦å¾ˆæ–¹ä¾¿ã€‚ç°åœ¨æˆ‘å·²ç»åœ¨ã€Šå¾®ä¿¡è¯»ä¹¦ã€‹ä¸Šè¿ç»­é˜…è¯»ä¸‰å¹´å¤šï¼ˆä¹‹å‰åœ¨ã€Šäº¬ä¸œè¯»ä¹¦ã€‹è¿ç»­é˜…è¯»ä¸€å¹´å¤šï¼‰ï¼Œæˆ‘çš„ç¢ç‰‡æ—¶é—´â€”â€”åœ°é“ä¸Šã€å«ç”Ÿé—´ã€ç­‰ç”µæ¢¯â€”â€”éƒ½èƒ½æ‹¿å‡ºæ‰‹æœºçœ‹ä¹¦ï¼Œä½¿ç”¨æ‰‹æœºè¯»ä¹¦ï¼Œé‚£è®¸å¤šçš„ç¢ç‰‡æ—¶é—´éƒ½æ…¢æ…¢æ”’æˆå¸®åŠ©æˆ‘è¿›æ­¥çš„é˜¶æ¢¯ã€‚</p>
<p>å…¶æ¬¡ï¼ŒåŸºäºç¢ç‰‡åŒ–é˜…è¯»ï¼Œç”µå­ä¹¦æ›´å®¹æ˜“å¸®åŠ©å…»æˆè¯»ä¹¦ä¹ æƒ¯ã€‚ä¸ç®¡çº¸è´¨ä¹¦æˆ–è€…Kindleï¼Œèº«ä¸Šå¤šå¸¦ä¸€ä¸ªè®¾å¤‡ï¼Œçœ‹ä¹¦çš„é—¨æ§›æ€»æ˜¯é«˜äº†è®¸å¤šã€‚</p>
<p>ç„¶åï¼Œæ˜¯ç”µå­ä¹¦ç›¸è¾ƒçº¸è´¨ä¹¦ä¾¿å®œè®¸å¤šã€‚æˆ‘åœ¨å¾®è¯»çš„ç¬¬ä¸€å¹´ï¼Œä¹°ä¸€å¹´ä»˜è´¹ä¼šå‘˜åªèŠ±168å…ƒï¼Œè¿™ä¼šå‘˜å¯ä»¥é˜…è¯»æ‰€æœ‰åœ¨å¾®è¯»ä¸Šæ¶çš„å‡ºç‰ˆä¹¦ã€‚åæ¥ï¼Œå¾®è¯»å¼€é€šäº†50å—é’±æŒ‘æˆ˜èµ›ï¼ˆèŠ±50å—é’±ï¼Œæ¯å¤©é˜…è¯»æŒç»­ä¸€å¹´ï¼Œç´¯ç§¯æ—¶é•¿è¾¾åˆ°300å°æ—¶ï¼‰ï¼Œæˆ‘ä¾¿åªéœ€è¦50å—é’±ï¼Œä¾¿èƒ½è¯»æˆåƒä¸Šä¸‡æœ¬æˆ‘æƒ³è¯»çš„ä¹¦äº†ã€‚</p>
<p>ç„¶åï¼Œæ˜¯ç¬”è®°ä¸é‡æ–°ç¿»é˜…çš„æ–¹ä¾¿ã€‚å¾®è¯»ä¸Šé¢è¯»ä¹¦ï¼Œå¯ä»¥åœ¨ç»™äºˆè‡ªå·±æ„Ÿè§¦å†…å®¹ä¸‹æ–¹åˆ’çº¿æˆ–è€…å†™ä¸Šè‡ªå·±çš„å³æ—¶æ„Ÿæ‚Ÿï¼Œè¿™äº›æ„Ÿæ‚Ÿè¢«æ”¶é›†åœ¨ä¸€èµ·ï¼Œå¯ä»¥æœç´¢ï¼Œå¯ä»¥ç›´æ¥å®šä½ã€‚å½“ä¹¦ä¸­å†…å®¹è®°ä¸å¤ªæ¸…éœ€è¦å›é¡¾æ—¶ï¼Œç›´æ¥æœç´¢ç¬”è®°ï¼Œç›´æ¥æœç´¢å…¨ä¹¦å³å¯ã€‚</p>
<p>æ€»ä¹‹ï¼Œç”µå­ä¹¦äºæˆ‘ï¼Œæ˜¯æ–¹ä¾¿è®¸å¤šçš„ã€‚</p>
<h3 data-id="heading-4">5ã€ä¸€ç¯‡æ—¥è®°</h3>
<p>ç°åœ¨æ—¶é—´æ˜¯æ™šä¸Šçš„9ç‚¹05åˆ†ï¼Œæˆ‘å·²ç»åœ¨å›å®¶åœ°é“ä¸Šå‰è¿›ä¸¤ç«™ã€‚ä¸‰ç«™è¿‡åæˆ‘è¦è½¬è½¦ï¼Œæˆ‘æ‰“ç®—å†å»æ‹¼ä¸€æ‹¼ä¸‹ä¸€è¶Ÿåˆ—è½¦çš„åŠæ—¶â€”â€”åœ¨å®ƒå…³é—¨ä¹‹å‰â€”â€”ä¸Šè½¦ï¼Œæˆ‘äºæ˜¯ç«™åœ¨è·ç¦»è½¬ç«™è·¯çº¿æœ€è¿‘é‚£ä¸ªå£å­ï¼Œåªå¾…åˆ—è½¦åˆ°ç«™ã€‚</p>
<p>æˆ‘çš„å³æ‰‹è¾¹ï¼Œå¤§æ¦‚æ˜¯ä¸¤ä¸ªå°å­¦ç”Ÿï¼ˆæˆ–è€…æ˜¯åˆä¸­ç”Ÿï¼‰æ­£ååœ°ä¸Šï¼Œä»–ä»¬çš„å¯¹è¯å†…å®¹ï¼Œæˆ‘æœ‰å¬åˆ°ä¸¤ä¸‰å¥ï¼š</p>
<p>â€œé‚£ä¸ªåˆ«äººåˆšèµ°äº†çš„åº§ä½è¿˜æ˜¯çƒ­ä¹çš„ï¼Œå¦‚æœåäº†å°±ä¼šé•¿ç—”ç–®ã€‚â€</p>
<p>â€œæˆ‘ä¸‹ä¸€ç«™å°±åˆ°çº¢æ——æ²³æ²Ÿäº†ã€‚åæ­£æ²¡ä½œä¸šâ€¦â€¦åæ­£æ²¡ä½œä¸šã€‚â€</p>
<p>å¯¹äºä»Šå¤©çš„å‡†æ—¶ä¸Šè½¦ï¼Œæˆ‘æ˜¯å¾ˆæœ‰äº›éª„å‚²çš„ã€‚æˆ‘ä¼¼ä¹å·²ç»å¥½ä¹…å¥½ä¹…ï¼Œæ²¡æœ‰9ç‚¹å‡†æ—¶ä¸‹ç­ã€‚</p>
<p>ï¼ˆæˆ‘è·‘è¿‡æ¢ä¹˜è·¯çº¿ï¼Œä¸‹ä¸€è¶Ÿåˆ—è½¦è¿˜æœ‰ä¸€åˆ†é’Ÿï¼Œä»Šå¤©çš„æ¢ä¹˜è®¡åˆ’æˆåŠŸäº†ã€‚ï¼‰</p>
<p>ä»Šå¤©çš„å·¥ä½œï¼Œåˆæ˜¯å’Œæç¤ºè¯ä½œæ–—äº‰çš„ä¸€å¤©ã€‚</p>
<p>ä»Šå¤©çš„æ–°é—»ï¼Œå¤§æ¦‚åªæœ‰ä¸€æ¡ï¼šæˆ‘çš„åŒäº‹è¯´ï¼Œä»–çš„ä¸€ä½æœ‹å‹ä»å¤–åœ°å›é‡åº†ï¼ŒOfferå¹´åŒ…å·²ç»è¿‡äº†60ã€‚å•Šå“ˆï¼Ÿæ‰€ä»¥é‡åº†è¿˜æ˜¯å¼€å¾—èµ·å·¥èµ„çš„ï¼Ÿ</p>
<p>å—ï¼åˆæœ‰äººåœ¨åœ°é“ä¸Šå¼€å¾ˆå¤§å£°çš„å¤–æ”¾ï¼Œä»–åº”è¯¥æ­£åœ¨ç©æŸä¸€ç§æ‰“æªæ¸¸æˆã€‚</p>
<p>è¯´èµ·åœ°é“å¤–æ”¾ï¼Œæˆ‘æƒ³é‡åº†å’ŒåŒ—äº¬ï¼ˆä¸Šå‘¨å»äº†åŒ—äº¬å‡ºå·®ï¼‰æ˜¯çœŸæœ‰ä¸€äº›å·®è·çš„ï¼Œæˆ‘åœ¨åŒ—äº¬ä¸€å‘¨ååœ°é“æ¬¡æ•°ä¸å¤šï¼ˆå¤§æ¦‚äº”å…­ä¸ƒæ¬¡ï¼‰ï¼Œä»æ²¡å¬åˆ°è¿‡æ‰‹æœºå¤–æ”¾ï¼Œè€Œé‡åº†ï¼Ÿæ¯ä¸€è¶Ÿåœ°é“ï¼Œæˆ‘éƒ½å¾—å’Œå¤–æ”¾ä¾ åšä¸€ç‚¹å°å°æ–—äº‰ï¼šé‚£äº›ä¸èƒ½ä¸“å¿ƒçš„æ—¶é—´ï¼Œæˆ‘æ€»å‘Šè¯‰è‡ªå·±â€œæ²¡å…³ç³»çš„ï¼Œä¸å¬ä¸å¬â€ã€‚</p>
<p>æœ€è¿‘ä¸¤å¤©çš„æ™šé¥­ï¼Œéƒ½æ˜¯åœ°é“å£çš„ä¸€ç¢—æ´‹èŠ‹ï¼Œ7å—é’±ã€‚åƒæ´‹èŠ‹å¾ˆå¿«ï¼Œäºæ˜¯æˆ‘å¯ä»¥åœ¨æ™šé¥­æ—¶é—´å‘å®¶é‡Œæ‰“å‡ ä¸ªç”µè¯ã€‚èº«ä½“å¥åº·ï¼Œå°±è¯¥æ˜¯æœ€é«˜ä¼˜çš„äº‹æƒ…ã€‚</p>
<p>è¿˜æœ‰å…¶å®ƒçš„åº”è¯¥è®°å½•çš„å†…å®¹ä¹ˆï¼Ÿå¥½åƒæ²¡æœ‰çš„ã€‚</p>
<p>ä¸å¯¹ï¼Œè¿˜æœ‰ä¸€æ¡ã€‚</p>
<p>æœ€è¿‘çš„è¯»ä¹¦æ—¶é—´ï¼Œå…¨éƒ¨ç»™äº†å°è¯´ï¼Œä¸€æœ¬æ˜¯ã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹ï¼Œä¸€æœ¬æ˜¯ã€Šæè‡ªæˆã€‹ã€‚è¿™ä¸¤æœ¬å°è¯´ï¼Œéƒ½å¥½é•¿å¥½é•¿ã€‚</p>
<h3 data-id="heading-5">6ã€è¯»ä¹¦ä¼šå¿˜è®°åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</h3>
<p>åŸºäºæˆ‘ç°åœ¨çš„è¯»ä¹¦è®¤çŸ¥ï¼ˆè¿‡å»äº”å¹´æ—¥å‡é˜…è¯»ä¸€å°æ—¶å¤šä¸€ç‚¹ï¼Œè¯»ä¹¦ç±»å‹å¤šç§å¤šæ ·ï¼Œç´¯ç§¯è¯»å®Œå¤§æ¦‚120æœ¬ä¹¦ï¼‰æ¥çœ‹ï¼Œæˆ‘ä»¥ä¸ºè®°ä½ä¹¦ä¸­å†…å®¹è¿™ä»¶äº‹ï¼Œä»¿ä½›æ˜¯å¯ä»¥ä¸éœ€è¦åˆ»æ„è¿½æ±‚çš„ã€‚</p>
<p>é‚£äº›æˆ‘ä»¬æƒ³è¦è®°ä½çš„ï¼Œæ€»èƒ½å¤Ÿå°è±¡ä¸ç†„ã€‚</p>
<p>ä»¥ã€Šå­¦ä¹ ä¹‹é“ã€‹é‡Œé¢çš„â€œZoneæ¦‚å¿µâ€ä¸ºä¾‹ï¼ŒæŠ•ç¯®ä¸ç®¡æ€ä¹ˆæŠ•éƒ½æœ‰ï¼Œå°çƒä¸ç®¡æ€ä¹ˆæ‰“éƒ½è¿›ï¼Œå…¨æ²¡æœ‰æŠ€å·§ï¼Œåªå‡­å€Ÿç€ä¸€ç§æ„Ÿè§‰ï¼Œè¿™ç§æ„Ÿè§‰æ˜¯å¯ä»¥æœ‰æ–¹æ³•åšåˆ°é¢‘ç¹è¿›å…¥çš„ã€‚</p>
<p>å¦‚ä½•è¿›å…¥ï¼Œå¸¦ç€çƒ­çˆ±ï¼Œç»ƒä¹ ä¸æ­¢å³å¯ã€‚</p>
<p>è¿˜æœ‰äº›å†…å®¹ï¼Œæ˜¯è¯»è¿‡ä¾¿å¿˜è®°çš„ï¼Œä½†è¿™å¿˜è®°çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ä¸€ç§ç®€å•çš„æ–¹æ³•è¢«è®°ä½ã€‚è¿™ç®€å•çš„æ–¹æ³•æ˜¯ä¸åœåœ°è¯»ï¼Œè¯»ç›¸å…³è”çš„ä¹¦ï¼Œçœ‹ç›¸å…³è”çš„å†…å®¹ã€‚</p>
<p>è¿™å†…å®¹å½“ä¸­çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œæ˜¯ç®—æ³•â€œå¿«æ…¢æŒ‡é’ˆâ€ï¼Œæœ€åˆæˆ‘å¹¶ä¸çŸ¥é“å¦‚ä½•æ¢æµ‹é“¾è¡¨æ˜¯å¦å¾ªç¯ï¼Œç¬¬ä¸€æ¬¡åˆ·é¢˜åä¹Ÿå¾ˆå¿«å¿˜è®°ã€‚ç›´åˆ°åœ¨ã€Šå‰‘æŒ‡Offerã€‹ã€Šæˆ‘çš„ç¬¬ä¸€æœ¬ç®—æ³•ä¹¦ã€‹ã€Šç¨‹åºå‘˜é¢è¯•é‡‘å…¸ã€‹ä¸­å¤šæ¬¡å¼ºåŒ–ï¼Œå®ƒè¢«åˆ»åœ¨è„‘å­é‡Œã€‚</p>
<p>æˆ‘æƒ³è‡ªå·±ï¼Œè¯»è¿‡ä¹¦å½“ä¸­å¯èƒ½è¶…è¿‡99ï¼…ï¼Œæ˜¯éƒ½è¢«æˆ‘å¿˜è®°çš„ã€‚è¿™äº›è¢«å¿˜è®°çš„å†…å®¹ï¼Œå¦‚ä½•èƒ½å¤Ÿè¢«æ›´å¥½çš„è®°ä½ï¼Œæˆ‘çŸ¥é“çš„æ–¹æ³•æ¥è‡ªäºã€Šæ´¥å·´å¤šæ™®é€šå¿ƒç†å­¦ã€‹åå«â€œç²¾ç»†å¤è¿°â€ï¼Œå³å°†è‡ªå·±å­¦åˆ°çš„çŸ¥è¯†ï¼Œç”¨è‡ªå·±çš„è¯è®¤çœŸåœ°é‡æ–°ç»„ç»‡ä¸€éï¼Œè¿™ä»¶äº‹åšå®Œï¼Œä¾¿èƒ½å°†çŸ¥è¯†è®°å¾—æ›´ä¹…äº›ã€‚</p>
<p>è¿™æ ·è®°ä½çš„å†…å®¹ï¼Œæœ‰â€œå°†æ„¤æ€’æˆ–è€…æ‚²ä¼¤å†™æˆæ–‡å­—ï¼Œèƒ½å¤Ÿç¼“è§£è‡ªå·±çš„æƒ…ç»ªâ€â€œè®°å¿†èƒ½åŠ›å¯ä»¥ä¸éšå¹´é¾„å˜åŒ–ï¼Œåªéœ€è¦ä¸€äº›ç»„è£…æŠ€å·§â€â€¦â€¦</p>
<p>æœ€åï¼Œç°åœ¨çš„æˆ‘çœŸçš„ä»¥ä¸ºâ€œè¯»ä¹¦æƒ³è¦è®°ä½â€è¿™ä»¶äº‹æ˜¯å¯ä»¥ä¸å¼ºæ±‚çš„ï¼Œåªè¦ä¸åœçœ‹ï¼Œå¤–åŠ ä¸€äº›æ€è€ƒï¼Œå°±å¥½çš„ã€‚</p>
<h3 data-id="heading-6">7ã€æ¨èå‡ æœ¬èƒ½å¤Ÿå¿«é€Ÿè¯»å®Œçš„å°ä¹¦å§ï¼Ÿ</h3>
<p>çœ‹åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è„‘å­é‡Œå†’å‡ºæ¥ä¸¤ä¸‰æœ¬å°ä¹¦ï¼Œå®ƒä»¬éƒ½æ˜¯æˆ‘è¯»å®Œè®¤ä¸ºä¸é”™ä¸åšç”šè‡³å¾ˆè–„çš„ä¸‰æœ¬å°ä¹¦ï¼šã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486071%26idx%3D1%26sn%3D4aacbe10662555f68f3fedc27f0a11b8%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486071&amp;idx=1&amp;sn=4aacbe10662555f68f3fedc27f0a11b8&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å®è´µçš„äººç”Ÿå»ºè®®</a>ã€‹ã€Šå—æˆ’ã€‹ä»¥åŠã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5ODczOTMzMA%3D%3D%26mid%3D2247486182%26idx%3D1%26sn%3De46c9ca86a99e80fedd8da36006c9e27%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MjM5ODczOTMzMA==&amp;mid=2247486182&amp;idx=1&amp;sn=e46c9ca86a99e80fedd8da36006c9e27&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ´»å‡ºç”Ÿå‘½çš„æ„ä¹‰</a>ã€‹ã€‚</p>
<p>ã€Šå®è´µçš„äººç”Ÿå»ºè®®ã€‹ï¼Œæ˜¯ä¸€ä½è€è€…ï¼ˆä½œè€…åå­—ä»¥åŠç”Ÿå¹³æˆ‘å¹¶ä¸èƒ½è®°ä½ï¼Œè®°ä½çš„åªæ˜¯ä½œè€…æ˜¯ä¸€ä½å…­åå¤šå²çš„è€äººï¼‰å†™ç»™ä»–å­å¥³ä»¥åŠå­™è¾ˆçš„äººç”Ÿå»ºè®®ã€‚æ¯ä¸€æ¡å»ºè®®ï¼Œéƒ½ä¸é•¿ã€‚</p>
<p>æˆ‘è®°ä½çš„å»ºè®®æœ‰å¥½äº›ï¼Œæ¯”å¦‚è€ç”Ÿå¸¸è°ˆçš„â€œç§ä¸€æ£µæ ‘çš„æœ€å¥½æ—¶æœºæ˜¯åå¹´å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨â€ï¼Œæ¯”å¦‚â€œå†™ä¸å‡ºæ–‡ç« æ—¶ï¼Œå‡è£…ä»¥è®²æ•…äº‹å½¢å¼è¯´ç»™æœ‹å‹å¬ï¼Œå½“å†™å®Œååˆ å»æœ‹å‹åå­—ï¼Œä¾¿æ˜¯ä¸€ç¯‡ä¸é”™è‰ç¨¿â€ã€‚ï¼ˆæ­¤å¤„åªæ˜¯è‡ªå·±çš„å¤è¿°ï¼Œå¹¶éä¹¦ä¸­åŸæ–‡ã€‚ï¼‰</p>
<p>æˆ‘ä»¥ä¸ºã€Šå®è´µçš„äººç”Ÿå»ºè®®ã€‹æ˜¯ä¸€æœ¬å¥½ä¹¦çš„ç¼˜ç”±åœ¨äºä½œè€…åœ¨æœ«å°¾æ‰€è¯´â€œä¹¦ä¸­å»ºè®®æ°ä¼¼å¸½å­ï¼Œå¯èƒ½å¹¶ä¸é€‚ç”¨æ¯ä¸€ä¸ªäººï¼Œé€‰æ‹©è‡ªå·±å–œæ¬¢çš„é‚£é¡¶å°±å¥½â€ï¼Œå³ä½œè€…å¹¶ä¸å¼ºè¿«è¯»è€…æ¥å—ä»–çš„è®¤çŸ¥ã€‚</p>
<p>ä¸å¼ºè¿«ï¼Œä¾¿æ˜¯é•¿è€…é£èŒƒã€‚</p>
<p>ã€Šå—æˆ’ã€‹æ˜¯æ±ªæ›¾ç¥ºå…ˆç”Ÿçš„çŸ­ç¯‡å°è¯´ï¼Œæˆ‘å¤§æ¦‚çœ‹å®Œè¿‡ä¸ä¸‹äº”éï¼Œå…¨ä¹¦å¾ˆçŸ­ï¼Œæˆ–è®¸ä¸åˆ°ä¸€å°æ—¶ä¾¿èƒ½è¯»å®Œã€‚æ¯ä¸€éé˜…è¯»ï¼Œæˆ‘éƒ½æ„Ÿå—åˆ°ä¸€ç§ç®€å•çš„ç¾å¥½ï¼šæ˜å­å’Œè‹±å­çš„çˆ±æƒ…ï¼Œå”¯ç¾ã€è‡ªç„¶ï¼Œå……æ»¡æ´»åŠ›ã€‚</p>
<p>ã€Šæ´»å‡ºç”Ÿå‘½çš„æ„ä¹‰ã€‹ï¼Œæ˜¯ä¸€æœ¬çŸ­çŸ­ä¼ è®°ï¼Œæˆ‘ä»ä¹¦ä¸­æ”¶è·çš„è®¤çŸ¥æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>æ‹¥æœ‰å¸Œæœ›æ˜¯ä¸€ä¸ªäººæ´»ä¸‹å»çš„æœ€åŸºæœ¬æ¡ä»¶ï¼›</li>
<li>ä¸ç®¡æ€æ ·çš„ç»æœ›åœºæ™¯ï¼Œæˆ‘ä»¬éƒ½æ‹¥æœ‰æœ€åçš„è‡ªç”±ï¼Œé€‰æ‹©ä»¥ä½•ç§æ€åº¦é¢å¯¹è¿™ç»æœ›çš„è‡ªç”±ã€‚</li>
</ol>
<p>ä»¥ä¸Šä¸‰æœ¬ä¹¦ï¼Œå¦‚æœå¿«ä¸€ç‚¹ï¼Œæˆ–è®¸ä¸€ä¸¤å¤©å†…å¯ä»¥å…¨éƒ¨è¯»å®Œã€‚ä½†å›å‘³æ— ç©·ã€‚</p>
<h3 data-id="heading-7">8ã€æ€æ ·åšåˆ°åšæŒé˜…è¯»ï¼Ÿ</h3>
<p>å¤§æ¦‚é ä¸€ç‚¹æƒ¯æ€§ï¼Œä¸€ç‚¹è´ªå¿µï¼Œä»¥åŠå¯¹ä¹¦ä¸­å†…å®¹çš„è®¸å¤šæœŸå¾…ã€‚</p>
<p>æƒ¯æ€§ï¼Œæ¥æºäºè¿‡å»äº”å¹´çš„ä½œæ¯ï¼Œä»¥åŠç”¨æ‰‹æœºçš„ä¹ æƒ¯ã€‚</p>
<p>è¿‡å»äº”å¹´ä»¥æ¥ï¼Œæˆ‘æœ‰ä¸¤å¹´åŠä¸Šç­é€šå‹¤æ˜¯ååœ°é“çš„ã€‚åœ°é“ä¸Šçš„æ—¶é—´ï¼Œéƒ½è¢«æˆ‘ç”¨æ¥çœ‹ä¹¦ï¼Œè¿™æ—¶é—´çš„çœ‹ä¹¦ï¼Œæ¯«æ— å¿ƒç†è´Ÿæ‹…ã€‚</p>
<p>ä¸Šç­è·¯ä¸Šï¼šâ€œæˆ‘æ­£è¦å»å…¬å¸å¹²æ´»å‘¢ï¼Œç°åœ¨é€šå‹¤è·¯ä¸Šè‚¯å®šä¸ä¼šæœ‰äººæ‰¾ã€‚â€</p>
<p>ä¸‹ç­è·¯ä¸Šï¼šâ€œä»Šå¤©çš„äº‹æƒ…å·²ç»éƒ½æœ‰äº†äº¤ä»£ï¼Œçœ‹ç‚¹è½»æ¾çš„ä¹¦æ‰“å‘ä¸‹æ—¶é—´å§ã€‚â€</p>
<p>äºæ˜¯çœ‹ä¹¦ï¼Œä¸“æ³¨ä¸”æœ‰è¶£ã€‚</p>
<p>å½“çœ‹ä¹¦æ¬¡æ•°å˜å¤šï¼Œå¾ˆè‡ªç„¶ä¾¿ä¼šæ‰“å¼€æ‰‹æœºä¸Šçš„ã€Šå¾®ä¿¡è¯»ä¹¦ã€‹ï¼Œäºæ˜¯å†çœ‹ä¸¤åˆ†é’Ÿã€‚</p>
<p>è´ªå¿µï¼Œä¹Ÿå¯ä»¥è¯´æˆæ˜¯å¯¹è®¤çŸ¥çš„æ¸´æ±‚ã€‚äº”å¹´ä»¥å‰ï¼Œæˆ‘æƒ³ç€é è‡ªå·±çš„ç”Ÿæ´»æ—¥è®°æ¢å–æµé‡ï¼Œåªå†™ä¸¤å‘¨ä¾¿å‘ç°æ²¡äº†ä¸œè¥¿å¯å†™ï¼Œäºæ˜¯æ‰¾ä¹¦æ¥çœ‹ã€‚</p>
<p>æˆ‘çš„çœ‹ä¹¦ï¼Œæ˜¯ä¸ºå†™ä½œè¨€ä¹‹æœ‰ç‰©ï¼Œæ˜¯ä¸ºæ›´æ–°ï¼ˆæˆ‘ç»™è‡ªå·±å®šä¸‹ç›®æ ‡ï¼Œä¸ç®¡æ˜¯æ€æ ·å†…å®¹ï¼Œæ¯å‘¨å¿…é¡»å®Œæˆä¸€ç¯‡æ›´æ–°ï¼‰æœ‰å†…å®¹å¯å†™ï¼Œæ˜¯ä¸ºå†…å®¹èƒ½å¤Ÿè¢«äººé˜…è¯»æ¢æˆæ”¶å…¥ã€‚</p>
<p>äºæ˜¯çœ‹ä¹¦ï¼Œä¸å†™ä½œç›¸è¾…ç›¸æˆï¼Œä¸–ä¿—åˆå¸¦ç›®çš„ã€‚</p>
<p>æœŸå¾…ï¼Œæ˜¯å¯¹ä¹¦ä¸­å†…å®¹æœ€çº¯ç²¹çš„æœŸå¾…ï¼Œæˆ‘ä»…ä»…æƒ³çŸ¥é“ï¼Œä¹¦ä¸­é‚£äººç‰©ã€äº‹ç‰©ã€ç†è®ºçš„æœªæ¥æ˜¯æ€æ ·çš„ã€‚</p>
<p>ã€Šå´‡ç¥¯ä¼ ã€‹é‡Œçš„å´‡ç¥¯æ€ä¹ˆå°±äº¡å›½äº†ï¼Ÿã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹é‡Œçš„å®‰å¨œå’Œå¼—éš†æ–¯åŸºæœ‰æœªæ¥ä¹ˆï¼Ÿã€Šæˆ‘æ›¾èµ°åœ¨å´©æºƒçš„è¾¹ç¼˜ã€‹ä¸­ä¿æ•æ´ªè€å¸ˆæ˜¯æ€æ ·ä¸å´©æºƒçš„ï¼Ÿã€Šä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠã€‹å½“ä¸­å¿ƒç†å’¨è¯¢å¸ˆæ¯å¤©éƒ½åšäº›ä»€ä¹ˆï¼Ÿ</p>
<p>æ€»ä¹‹ï¼Œé‚£äº›æ— å°½çš„æœŸç›¼ä¸å¥½å¥‡ç‰µç€æˆ‘ï¼Œçœ‹ä¹¦ä¸åœã€‚</p>
<h3 data-id="heading-8">9ã€ç³–é†‹æ’éª¨æ€ä¹ˆåšå‘¢ï¼Ÿ</h3>
<p>æœ€è¿‘åˆšåˆšè¯•è¿‡å†åšä¸€æ¬¡ç³–é†‹æ’éª¨ï¼Œä¸è„†ï¼Œä½†ä¾ç„¶æœ‰ç‚¹å¥½åƒã€‚åˆ¶ä½œæ­¥éª¤å¦‚ä¸‹ï¼Œæ¯ä¸€æ­¥éª¤åé¢æ‹¬å·ä¸­æ˜¯æˆ‘å½“ä¸‹å­˜åœ¨çš„ç–‘æƒ‘ï¼š</p>
<p>é€‰æ’éª¨ã€‚ï¼ˆè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œä¸Šä¸€æ¬¡åšæ—¶æ’éª¨éƒ½éª¨å¤´ä¸­é—´è‚‰åŒ…å‘¨è¾¹ï¼Œæˆå“å¥½çœ‹è®¸å¤šã€‚è¿™ä¸€æ¬¡ä¹°çš„æ‰“å…­æŠ˜çš„æ’éª¨ï¼Œæˆå“åˆ™å¾ˆä¸è§„åˆ™ã€‚ï¼‰</p>
<p>æ’éª¨æ´—å‡€ç„¯æ°´å†ç”¨çƒ­æ°´æ´—ä¸€æ´—ã€‚ï¼ˆè¿™ä¸ªæ­¥éª¤æˆ‘ä»ç½‘ä¸Šå­¦æ¥çš„ï¼Œå…¶å®æ²¡æŒæ¡åŸç†ï¼Œä¹Ÿä¸ç¡®å®šä¸ç„¯æ°´å‘³é“æ˜¯å¦ä¸ä¸€æ ·ï¼Ÿç„¯æ°´å‡ºé”…åç”¨å†·æ°´æ´—æ˜¯å¦çœŸçš„ä¼šæŸ´ï¼Ÿç”šè‡³ç„¯æ°´ä¹‹åæœ‰å¿…è¦æ´—ä¹ˆï¼Ÿï¼‰</p>
<p>é”…ä¸­æ”¾æ²¹ï¼Œå°ç«æ”¾ç³–ï¼ŒæŠŠç³–ç‚’å‡ºç³–è‰²ã€‚ï¼ˆè¿™ä¸ªæ­¥éª¤æˆ‘æƒ³è‡ªå·±æ²¹æ”¾å¤šäº†äº›è€Œç³–æ”¾å°‘äº†ç‚¹ï¼Œäºæ˜¯ç³–è‰²ä¸é»‘ï¼Œæ’éª¨ä¸ç”œã€‚å½“ç„¶ï¼Œæ²¡æœ‰é¥­åº—é‡Œé¢çš„ç”œï¼Œå´ä¼¼ä¹æ›´ç¬¦åˆè‡ªå·±çš„å£å‘³ã€‚ï¼‰</p>
<p>ä¸‹æ’éª¨ï¼Œä¸åœåœ°ç¿»ç¿»ç¿»ç¿»ï¼Œç›´åˆ°æ’éª¨æœ‰äº›ç„¦é»„ã€‚</p>
<p>ä¸‹å…¥æ²¡è¿‡æ’éª¨å†æ·±ä¸€æŒ‡çš„çƒ­æ°´ï¼ŒåŠ å…¥è°ƒå‘³çš„ç›ã€é†‹ã€é…±æ²¹ï¼Œç„–ã€‚ï¼ˆä»€ä¹ˆæ—¶å€™æ”¾ç›ä¾ç„¶æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘çœ‹åˆ°ä¸€æ¡é«˜èµè§†é¢‘è¯´æå‰æ”¾ç›æ’éª¨ä¼šæŸ´ï¼Œä½†çœŸæ­£åˆ¶ä½œæ—¶ï¼Œä¼šå¿˜è®°è¿™æ³¨æ„äº‹é¡¹ã€‚åˆç”±äºæ²¡æœ‰å¤©å¤©åšï¼Œäºæ˜¯ä¸èƒ½éªŒè¯ã€‚ï¼‰</p>
<p>æ°´å¿«å¹²ï¼Œå†ç¿»ç¿»ç¿»ï¼Œæ”¶æ±ã€‚å°ä¸€ä¸‹ï¼Œä¸å¤Ÿç”œå†åŠ ä¸€ç‚¹ç³–ã€‚å‡ºé”…ï¼Œæ’’ä¸€ç‚¹è‘±ç²’ã€çº¢æ¤’ç²’ï¼Œå¢é¦™å¢è‰²ã€‚</p>
<p>æœ€ç»ˆæˆå“ï¼Œä¸å«©ï¼Œæœ‰ä¸€ç‚¹æŸ´ï¼Œæœ‰åš¼åŠ²ï¼Œé¢œè‰²ä¸æ·±ï¼Œä½†ä¾ç„¶å¥½åƒçš„ã€‚</p>
<p>ä¸‹æ¬¡åšæ—¶çš„ä¼˜åŒ–ï¼šå°‘ä¸€ç‚¹æ²¹å¤šä¸€ç‚¹ç³–ã€‚</p>
<h3 data-id="heading-9">10ã€æœ€è¿‘æ­£é˜…è¯»çš„ä¹¦æœ‰å“ªäº›ï¼Ÿ</h3>
<p>æˆ‘æœ€è¿‘æ­£é˜…è¯»çš„ä¹¦ï¼Œæ˜¯è¿™å‡ æœ¬ï¼š</p>
<p>ã€Šæè‡ªæˆã€‹å’Œã€Šå´‡ç¥¯ä¼ ã€‹ï¼Œã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹ï¼Œã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹ï¼Œä»¥åŠã€Šäº²å¯†å…³ç³»ã€‹ã€‚</p>
<p>ç›®å‰ã€Šæè‡ªæˆã€‹åˆšåˆšçœ‹åˆ°å››åˆ†ä¹‹ä¸€ï¼Œæˆ‘å¯¹äºä¹¦ä¸­ä½œè€…å¯¹å´‡ç¥¯çš„è¯„ä»·â€”â€”åˆšæ„è‡ªç”¨ã€çŠ¹ç–‘çŒœå¿Œâ€”â€”ä¸å¤ªç›¸ä¿¡ï¼Œäºæ˜¯å…ˆè¯»ã€Šå´‡ç¥¯ä¼ ã€‹ã€‚</p>
<p>ã€Šå´‡ç¥¯ä¼ ã€‹ä¹Ÿæ­£è¯»åˆ°å››åˆ†ä¹‹ä¸€å¤„ï¼Œå´‡ç¥¯ç­äº†é­å¿ è´¤ï¼Œå·²ç»æ€æ‰è¢å´‡ç„•ï¼Œç°åœ¨ä¸ä¿¡ä»»å¤§è‡£ï¼Œæ­£å¯ç”¨å®¦å®˜åˆ°å„å¤„ç›‘ç£ã€‚</p>
<p>ç°åœ¨å´‡ç¥¯ç»™äºˆæˆ‘çš„å°è±¡ï¼Œæ˜¯å‹¤åŠ³çš‡å¸åšäº†ä¸€ä¸ªé”™è¯¯å†³å®šï¼ˆæ€è¢å´‡ç„•ï¼‰ï¼Œä»¥åŠèº«è¾¹å¸®æ‰‹å¾ˆä¸å¤Ÿã€‚</p>
<p>ã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹æ­£å¬åˆ°å…­åˆ†ä¹‹äº”å¤„ï¼ŒåŸºè¿ªå’Œåˆ—æ–‡æ­£åœ¨è«æ–¯ç§‘ç­‰å¾…ä»–ä»¬çš„ç¬¬ä¸€ä¸ªå°å­©å‡ºç”Ÿï¼›å®‰å¨œå’Œå¼—éš†æ–¯åŸºåœ¨ä¹¡ä¸‹ç”Ÿæ´»ï¼Œå¼—éš†æ–¯åŸºæ„Ÿå—åˆ°å®‰å¨œé™åˆ¶ç€ä»–ï¼Œå®‰å¨œåˆšåˆšç»™ä¸ˆå¤«å¡åˆ—å®å†™ä¿¡ç”³è¯·ç¦»å©šã€‚</p>
<p>åˆ°ç°åœ¨ï¼Œæˆ‘ä»¥ä¸ºå®‰å¨œå’Œå¼—éš†æ–¯åŸºä¹‹é—´ï¼Œä¼¼ä¹ä¹Ÿå¹¶éæ˜¯çœŸæ­£çš„çˆ±æƒ…ï¼Œåœ¨æœ€åˆçš„æ¿€æƒ…ã€æ¸©æƒ…è¿‡åï¼Œå½“çœŸæ­£å›åˆ°ç”Ÿæ´»å½“ä¸­ï¼Œä»–ä»¬çš„å…³ç³»ä¹Ÿæ˜¯å¹¶ä¸ç¨³å®šçš„ã€‚æˆ–è®¸å®‰å¨œå¹¶ä¸æ˜¯å‡ºè½¨çŠ¶æ€ï¼Œæ­¤ç§æƒ…å†µä¼šå¥½ä¸€äº›ï¼Ÿ</p>
<p>ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹å·²ç»çœ‹åˆ°æœ€åä¸€ä¸ªä¹ æƒ¯â€”â€”ä¸æ–­æ›´æ–°â€”â€”äº†ã€‚è™½ç„¶æˆ‘å¯¹ä½œè€…åœ¨ä¹¦ä¸­çš„é‚£äº›ä½è¯å¹¶ä¸å¾ˆä¿¡æœï¼Œä½†éšç€é˜…è¯»æ—¶é•¿å¢åŠ ï¼Œæˆ‘ä»¥ä¸ºè¿™ä¸ƒä¸ªä¹ æƒ¯æ˜¯çœŸæœ‰æ•ˆçš„ï¼Œå®ƒä»¬æ˜¯æ™ºæ…§ï¼Œæ¥è‡ªäºç”Ÿæ´»ã€å†å²ä¸­ç§¯æ”’çš„ç»éªŒã€‚</p>
<p>ã€Šäº²å¯†å…³ç³»ã€‹ï¼Œæˆ‘ä¹‹å‰å·²ç»å¬å®Œä¸€éæœ‰å£°ä¹¦ï¼Œç°åœ¨åˆšåˆšè¯»åˆ°ç¬¬äºŒç« ã€‚æˆ‘æƒ³è¦çš„ï¼Œæ˜¯åœ¨æœªæ¥å°†è¿™æœ¬ä¹¦ä¸­å†…å®¹ç†è§£çš„æ›´å¤šäº›ã€‚</p>
<p>å¯¹çš„ï¼Œã€Šäº²å¯†å…³ç³»ã€‹çœ‹ä¸¤éçš„åŸå› æ˜¯ï¼Œå®ƒæ˜¯æˆ‘è¶…çº§æ¨èçš„ä¸€æœ¬ä¹¦ï¼Œæˆ‘æƒ³è‡ªå·±ç†è§£æ›´å¤šäº›åå†ç»™å‡ºæœ‰ç†æœ‰æ®çš„æ¨èç†ç”±ã€‚</p>
<p>å¯¹çš„ï¼Œä¹¦è¯»ç¬¬äºŒéï¼Œé€Ÿåº¦æ…¢è®¸å¤šè®¸å¤šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„é¦–æ¬¾ Spec AI ç¼–è¾‘å™¨ï¼šKiro å®æˆ˜æµ‹è¯„ä¸ Trae å¯¹æ¯”åˆ†æ]]></title>    <link>https://juejin.cn/post/7587265840065150982</link>    <guid>https://juejin.cn/post/7587265840065150982</guid>    <pubDate>2025-12-24T10:06:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587265840065150982" data-draft-id="7587231644802596883" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„é¦–æ¬¾ Spec AI ç¼–è¾‘å™¨ï¼šKiro å®æˆ˜æµ‹è¯„ä¸ Trae å¯¹æ¯”åˆ†æ"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-12-24T10:06:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰åªèŒæ–°"/> <meta itemprop="url" content="https://juejin.cn/user/360295544400973"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„é¦–æ¬¾ Spec AI ç¼–è¾‘å™¨ï¼šKiro å®æˆ˜æµ‹è¯„ä¸ Trae å¯¹æ¯”åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295544400973/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰åªèŒæ–°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:06:19.000Z" title="Wed Dec 24 2025 10:06:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¶ç„¶é‡åˆ°Kiro</h2>
<p>ç¬”è€…å§‹ç»ˆå…³æ³¨å„ç±»å·¥å…·åœ¨å·¥ç¨‹åŒ–åœºæ™¯ä¸­çš„å®é™…è¡¨ç°ã€‚è¿‘æœŸåœ¨ç¤¾åŒºå¶ç„¶æ¥è§¦åˆ° AWS æ¨å‡ºçš„ AI IDE Kiroï¼Œå…¶æ ¸å¿ƒå–ç‚¹ä¹‹ä¸€çš„ Spec æ¨¡å¼å¼•å‘å…³æ³¨ â€”â€” æ­¤å‰åœ¨ Trae å¹³å°ä½¿ç”¨åŒç±»åŠŸèƒ½æ—¶ï¼Œæ›¾é­é‡è§„èŒƒé€‚é…ä¸è¶³ã€æµç¨‹å†—ä½™ç­‰é—®é¢˜ï¼Œä¸¥æ ¼æ¥è¯´Trae å¹¶æœªé›†æˆ spec åŠŸèƒ½ï¼Œå¯ä½¿ç”¨ Spec kit æ¥æ›²çº¿æ•‘å›½ï¼Œå¯¹ä¸¤æ¬¾å·¥å…·çš„ Spec æ¨¡å¼è¿›è¡Œç³»ç»Ÿæ€§å®æµ‹ï¼Œæ—¨åœ¨ä¸ºå›¢é˜Ÿé€‰å‹æä¾›å®¢è§‚å‚è€ƒã€‚</p>
<h2 data-id="heading-1">ä½¿ç”¨ Spec æ¨¡å¼</h2>
<p>åŸºæœ¬ç•Œé¢</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71531c33dc28412180a079548866cae9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=bOq2iFAeq%2BMpAsjk%2FKsbJLN6ptc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">éœ€æ±‚æè¿°</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6faf281b8f7d4066a7a42de0d31e52ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=i7UNIUWOL27n890XDXShkhcrYUY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">è®¾è®¡</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c97169d794474a5883ca4e45602a2c9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=%2Bu92vzVdgouMdBHJgRO6lskqE9g%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">ä»»åŠ¡æ‹†è§£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a85f47f46794065afe1b028c023c7f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=fXmmjEtVk91x%2FIPhOK8lXW3QkAg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">æ‰§è¡Œä»»åŠ¡</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f4e7d06503f485fb793fee6c49be79d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=dwoXpHH0cnqCnOV0nOSmyXHsqCc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d381f82f8f542319060dc8f3e071571~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=BvY7S1vRJnrIVdb7TxafFxqjK3U%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">æœ€ç»ˆäº§ç‰©</h3>
<p>åŒ…å«æ–‡æ¡£è®°å½•å’Œä»£ç ä»¥åŠé™æ€èµ„æºæ–‡ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b05a4598e0e34920b97f7d232c75c3c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=QTtSj9ActWFWGMUNaOk4s5HpBA4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">Kiro å’Œ Trae CN æ•ˆæœå¯¹æ¯”</h2>
<h3 data-id="heading-8">Kiro å®Œæˆæ•ˆæœ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74056e28ec894d2b874b5c198392952a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=h9fUtSJalUfjpmc3N48dZC3wJgQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">Trae CN ä½¿ç”¨ spec kit å®Œæˆæ•ˆæœã€‚</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebaccccd01644e4598e4e5db0ba1d089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=HRRYKqlYnt97uh0umw1dmp5ae6Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">ä»£ç å¯¹æ¯”</h2>
<h3 data-id="heading-11">kiro å®Œæˆçš„ä»£ç </h3>
<p>kiro åœ¨æœ¬æ¬¡å¼€å‘ä»»åŠ¡ä¸­ï¼Œæ ¸å¿ƒéµå¾ª<strong>å¤ç”¨ç°æœ‰èµ„æº</strong>çš„åŸåˆ™å¼€å±•ä»£ç ç¼–å†™å·¥ä½œï¼Œå…·ä½“å®æ–½ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç»„ä»¶å±‚é¢</strong>ï¼šä¼˜å…ˆé€‰ç”¨é¡¹ç›®ä¸­å·²å°è£…å®Œæˆçš„é€šç”¨ç»„ä»¶ï¼ˆå¦‚åŸºç¡€å¸ƒå±€ç»„ä»¶ã€è¡¨å•ç»„ä»¶ã€åˆ—è¡¨å±•ç¤ºç»„ä»¶ç­‰ï¼‰ï¼Œæœªé‡æ–°å¼€å‘æ–°çš„ç»„ä»¶æ¨¡å—ã€‚æ­¤ä¸¾æ—¢ä¿è¯äº†ç»„ä»¶é£æ ¼ä¸é¡¹ç›®æ•´ä½“çš„ä¸€è‡´æ€§ï¼Œä¹Ÿå‡å°‘äº†é‡å¤å¼€å‘çš„å·¥ä½œé‡ï¼Œæå‡äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</li>
<li><strong>å·¥å…·å‡½æ•°å±‚é¢</strong>ï¼šå……åˆ†è°ƒç”¨é¡¹ç›®ä¸­å·²æ²‰æ·€çš„å·¥å…·å‡½æ•°åº“ï¼ˆå¦‚æ•°æ®æ ¼å¼åŒ–å‡½æ•°ã€è¯·æ±‚å°è£…å‡½æ•°ã€æ ¡éªŒå‡½æ•°ç­‰ï¼‰ï¼Œé¿å…äº†åŒç±»åŠŸèƒ½çš„é‡å¤ç¼–ç ï¼ŒåŒæ—¶ä¾æ‰˜ç»è¿‡éªŒè¯çš„å·¥å…·å‡½æ•°ï¼Œæå‡äº†ä»£ç çš„ç¨³å®šæ€§ä¸æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8014cf267a6b454b867df3c5b192cde9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=zHJKpMT8XJ%2BM%2BjEl5%2FkBxV63xoM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62a1019dca4047ed99e11a527b4438d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=u0Si3QXEehwAGyKYTsP%2Frsc22s4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">Trae å®Œæˆçš„ä»£ç </h3>
<p>trae åœ¨æœ¬æ¬¡å¼€å‘ä»»åŠ¡ä¸­ï¼Œé‡‡ç”¨<strong>ç›´æ¥é›†æˆ Element UI ç»„ä»¶åº“</strong>çš„æ–¹å¼è¿›è¡Œä»£ç å®ç°ï¼Œå…·ä½“ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç»„ä»¶åº“é€‰ç”¨</strong>ï¼šç›´æ¥å¼•å…¥ Element UI å®˜æ–¹ç»„ä»¶åº“ä¸­çš„å„ç±»ç»„ä»¶</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f6ad2479c1c41ccbbab40080a278949~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=9oOK%2BV%2BwOtWtOdgAjfbC4SuQX44%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1d3c52e4d0f46df96a3f5f0acb98504~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=26lhTMuMrEQKNmGzzY7AijGtb%2Bs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">äº§ç‰©å¯¹æ¯”</h2>
<p>kiro</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2867214d9501451c8c3ab3a484fd4063~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=tiwqrb%2BHWEWhdkgt%2FU0xyyrvgRI%3D" alt="" loading="lazy"/></p>
<p>trae</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87def4451c3d4ac49b51d40c2b8308f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5Y-q6JCM5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175742&amp;x-signature=%2FwuISTlwVd7KjBeJKqgJiA7fO%2FM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">ç»“å°¾</h2>
<p>ä»å®æµ‹ä½“éªŒæ¥çœ‹ï¼ŒSpec æ¨¡å¼ç»é AI ç¼–ç¨‹å·¥å…·çš„é™„åŠ åŠŸèƒ½ï¼Œè€Œæ˜¯æœªæ¥å·¥ç¨‹åŒ–å¼€å‘çš„æ ¸å¿ƒèŒƒå¼ â€”â€” å®ƒæ­£åœ¨é‡æ„ â€œéœ€æ±‚ - è®¾è®¡ - å¼€å‘ - ç»´æŠ¤â€ çš„å…¨é“¾è·¯é€»è¾‘ï¼Œè®© â€œæ–‡æ¡£å³è§„èŒƒã€è§„èŒƒå³ä»£ç â€ æˆä¸ºç°å®ã€‚éšç€ AI å¯¹ç»“æ„åŒ–æŒ‡ä»¤çš„ç†è§£èƒ½åŠ›æŒç»­æå‡ï¼Œç²¾å‡†ã€å®Œæ•´çš„æ–‡æ¡£æè¿°å°†é€æ¸å–ä»£é‡å¤çš„ä»£ç ç¼–å†™å·¥ä½œï¼Œæˆä¸ºå¼€å‘æµç¨‹ä¸­çš„æ ¸å¿ƒäº§å‡ºç‰©ï¼Œå…¶ä»·å€¼ç”šè‡³ä¼šè¶…è¶Šä»£ç æœ¬èº«ã€‚</p>
<p>Kiro ä¸ Trae å‡æä¾›å…è´¹è¯•ç”¨é€šé“ï¼Œè¿™ä¸ºå¼€å‘è€…é™ä½äº†æ¢ç´¢æ–°èŒƒå¼çš„é—¨æ§› â€”â€” æ— éœ€ä»˜è´¹å³å¯åœ¨çœŸå®é¡¹ç›®ä¸­éªŒè¯å·¥å…·çš„é€‚é…æ€§ï¼Œäº²èº«æ„Ÿå—ä¸åŒ Spec æ¨¡å¼çš„è®¾è®¡é€»è¾‘ä¸è½åœ°èƒ½åŠ›ã€‚è®©æˆ‘ä»¬å¾—ä»¥é›¶æˆæœ¬å¯¹æ¯”å·¥å…·å·®å¼‚ï¼Œæ ¹æ®è‡ªèº«é¡¹ç›®åœºæ™¯ï¼ˆå¦‚å›¢é˜Ÿè§„æ¨¡ã€è§„èŒƒè¦æ±‚ã€æŠ€æœ¯æ ˆç±»å‹ï¼‰é€‰æ‹©æœ€é€‚åˆçš„ AI ç¼–è¾‘å™¨ã€‚</p>
<h2 data-id="heading-15">ç›¸å…³é“¾æ¥</h2>
<p><a href="https://juejin.cn/post/7564227311511076904" target="_blank" title="https://juejin.cn/post/7564227311511076904">TRAE Ã— Spec Kit å®æˆ˜ï¼šäº”æ­¥æ„å»ºæµå¼ AI å¯¹è¯ Web åº”ç”¨</a><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fkiro.dev%2F" target="_blank" title="https://kiro.dev/" ref="nofollow noopener noreferrer">kiro ä¸‹è½½åœ°å€</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ HBuilder ä¸Šæ¶ iOS åº”ç”¨æ—¶å¸¸è§çš„é—®é¢˜ä¸åº”å¯¹æ–¹å¼]]></title>    <link>https://juejin.cn/post/7587021119255658523</link>    <guid>https://juejin.cn/post/7587021119255658523</guid>    <pubDate>2025-12-24T10:02:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587021119255658523" data-draft-id="7587245616753885235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ HBuilder ä¸Šæ¶ iOS åº”ç”¨æ—¶å¸¸è§çš„é—®é¢˜ä¸åº”å¯¹æ–¹å¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T10:02:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒå°±å¥½2025"/> <meta itemprop="url" content="https://juejin.cn/user/3850962908492660"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ HBuilder ä¸Šæ¶ iOS åº”ç”¨æ—¶å¸¸è§çš„é—®é¢˜ä¸åº”å¯¹æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3850962908492660/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒå°±å¥½2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:02:17.000Z" title="Wed Dec 24 2025 10:02:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾ˆå¤š uni-app æˆ– HBuilder é¡¹ç›®ä¸­ï¼Œâ€œä¸Šæ¶ iOSâ€å¸¸è¢«ç†è§£ä¸ºä¸€ä¸ªé¡ºå»¶åŠ¨ä½œï¼š
é¡µé¢å†™å®Œ â†’ äº‘æ‰“åŒ… â†’ æäº¤ App Storeã€‚</p>
<p>ä½†å®é™…å‚ä¸è¿‡å®Œæ•´æµç¨‹ä¹‹åä¼šå‘ç°ï¼ŒHBuilder è§£å†³çš„æ˜¯å¼€å‘å’Œæ‰“åŒ…å…¥å£çš„é—®é¢˜ï¼Œè€Œ çœŸæ­£å½±å“ä¸Šæ¶æ˜¯å¦é¡ºåˆ©çš„ï¼Œä»ç„¶æ˜¯ iOS åŸç”Ÿå‘å¸ƒä½“ç³»é‚£ä¸€æ®µã€‚</p>
<p>å¾ˆå¤šå¡ç‚¹ï¼Œå¹¶ä¸æ˜¯ HBuilder æ²¡æœ‰èƒ½åŠ›ï¼Œè€Œæ˜¯è·¨ç«¯å·¥å…·ä¸åŸç”Ÿå‘å¸ƒæµç¨‹ä¹‹é—´ï¼Œå­˜åœ¨ä¸€äº›é»˜è®¤è¢«å¿½ç•¥çš„ç»†èŠ‚ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>HBuilder äº§å‡ºçš„ IPAï¼Œå¹¶ä¸ç­‰åŒäºå·²å‡†å¤‡å¥½ä¸Šæ¶</strong></h2>
<p>åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œæˆ‘è§è¿‡ä¸å°‘æƒ…å†µï¼š
HBuilder äº‘æ‰“åŒ…æˆåŠŸã€IPA ç”Ÿæˆæ­£å¸¸ï¼Œä½†åœ¨ä¸Šä¼ æˆ–å®¡æ ¸é˜¶æ®µåå¤å¤±è´¥ã€‚</p>
<p>åŸå› å¾€å¾€é›†ä¸­åœ¨å‡ ä¸ªåœ°æ–¹ï¼š</p>
<ul>
<li>Bundle ID ä¸å¼€å‘è€…è´¦å·ä¸­å·²æœ‰åº”ç”¨ä¸ä¸€è‡´</li>
<li>ä½¿ç”¨äº†ä¸ç¬¦åˆå‘å¸ƒè¦æ±‚çš„è¯ä¹¦æˆ–æè¿°æ–‡ä»¶</li>
<li>æ„å»ºäº§ç‰©æºå¸¦äº†æµ‹è¯•é˜¶æ®µé…ç½®</li>
</ul>
<p>è¿™äº›é—®é¢˜åœ¨ HBuilder æ‰“åŒ…é˜¶æ®µä¸ä¸€å®šä¼šè¢«æç¤ºï¼Œä½†åœ¨ App Store æµç¨‹ä¸­ä¸€å®šä¼šè¢«æ”¾å¤§ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>åœ¨ä¸Šæ¶ä¹‹å‰ï¼Œå…ˆæŠŠåº”ç”¨èº«ä»½çœ‹æ¸…æ¥š</strong></h2>
<p>HBuilder é¡¹ç›®ä¸­ï¼ŒBundle ID é€šå¸¸åœ¨æ—©æœŸé…ç½®åå°±å¾ˆå°‘å†åŠ¨ã€‚
ä½†åœ¨å‡†å¤‡ä¸Šæ¶æ—¶ï¼Œæˆ‘æ›´å€¾å‘äºé‡æ–°ç¡®è®¤è¿™ä»¶äº‹ï¼š</p>
<ul>
<li>è¿™ä¸ª Bundle ID æ˜¯å¦å·²ç»åœ¨è´¦å·ä¸­å­˜åœ¨</li>
<li>æ˜¯å¦æ›¾è¢«å…¶ä»–é¡¹ç›®ä½¿ç”¨</li>
<li>æ˜¯å¦ä¸å½“å‰ IPA å†…çš„ä¿¡æ¯ä¸€è‡´</li>
</ul>
<p>åœ¨æ²¡æœ‰ macOS ç¯å¢ƒçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ <strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰æŸ¥çœ‹ Apple å¼€å‘è€…è´¦å·ä¸­çš„ Bundle ID åˆ—è¡¨</strong>ï¼Œå¿«é€Ÿäº†è§£å½“å‰è´¦å·çš„çœŸå®çŠ¶æ€ã€‚è¿™ä¸€æ­¥å¹¶ä¸ä¼šå½±å“ HBuilder çš„æ‰“åŒ…æ–¹å¼ï¼Œä½†èƒ½é¿å…åœ¨é”™è¯¯çš„åº”ç”¨æ ‡è¯†ä¸Šç»§ç»­æŠ•å…¥æ—¶é—´ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47718c6fca154cc99df647e57c3e4254~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175337&amp;x-signature=wIm3tc1yx2VAUk6Z5jLBD%2FnPv0c%3D" alt="æŸ¥çœ‹bid" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2"><strong>è¯ä¹¦é—®é¢˜ï¼Œåœ¨ HBuilder é¡¹ç›®é‡ŒåŒæ ·ä¸ä¼šè‡ªåŠ¨æ­£ç¡®</strong></h2>
<p>ä¸å°‘å¼€å‘è€…åœ¨ä½¿ç”¨ HBuilder æ—¶ï¼Œå¯¹è¯ä¹¦çš„æ„ŸçŸ¥ä¼šå˜å¼±ï¼Œå› ä¸ºå¾ˆå¤šæ“ä½œè¢«äº‘æœåŠ¡åŒ…è£¹èµ·æ¥äº†ã€‚
ä½†è¯ä¹¦ä¾ç„¶æ˜¯ iOS ä¸Šæ¶çš„ç¡¬å‰æã€‚</p>
<p>æˆ‘é‡åˆ°è¿‡çš„æƒ…å†µåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ„å»ºé˜¶æ®µä½¿ç”¨çš„æ˜¯å¼€å‘è¯ä¹¦</li>
<li>å‘å¸ƒè¯ä¹¦åªå­˜åœ¨äºæŸä¸€å° Mac</li>
<li>æ— æ³•ç¡®è®¤å½“å‰ IPA ä½¿ç”¨çš„æ˜¯å“ªä¸€ä»½è¯ä¹¦</li>
</ul>
<p>åœ¨ä¸€äº›è·¨å¹³å°æˆ–å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡ å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰åˆ›å»º iOS è¯ä¹¦ï¼Œç”Ÿæˆå¯å¤ç”¨çš„ <code>.p12</code> æ–‡ä»¶ï¼Œç”¨äºæ„å»ºå’Œå‘å¸ƒæµç¨‹ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34bd1bca928e486d91a6f276fcbc2e2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175337&amp;x-signature=LLce8SIRHH%2BvxT98%2FmZkUWxHsqg%3D" alt="åˆ›å»ºè¯ä¹¦" loading="lazy"/></p>
<p>è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯å¦å®š HBuilder çš„äº‘æ‰“åŒ…èƒ½åŠ›ï¼Œè€Œæ˜¯è®©è¯ä¹¦ä»â€œå·¥å…·å†…éƒ¨çŠ¶æ€â€å˜æˆâ€œå·¥ç¨‹å¯ç®¡ç†èµ„æºâ€ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>æè¿°æ–‡ä»¶ï¼Œæ˜¯ HBuilder ä¸Šæ¶ä¸­æœ€å®¹æ˜“è¢«å¿½ç•¥çš„ä¸€ç¯</strong></h2>
<p>æè¿°æ–‡ä»¶åœ¨ HBuilder é¡¹ç›®ä¸­é€šå¸¸æ˜¯è‡ªåŠ¨ç”Ÿæˆæˆ–è‡ªåŠ¨åŒ¹é…çš„ï¼Œå¾ˆå°‘æœ‰äººä¼šä¸»åŠ¨æŸ¥çœ‹å®ƒçš„å†…å®¹ã€‚
ä½†åœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œå®ƒç»å¸¸æ˜¯å…³é”®çº¿ç´¢ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>æè¿°æ–‡ä»¶ç±»å‹ä¸º Developmentï¼Œå´ç”¨äºä¸Šæ¶</li>
<li>æè¿°æ–‡ä»¶ç»‘å®šçš„ Bundle ID ä¸åº”ç”¨ä¸ä¸€è‡´</li>
<li>æ–°å¢è®¾å¤‡åæœªæ›´æ–°æè¿°æ–‡ä»¶</li>
</ul>
<p>åœ¨ä¸Šæ¶å‰ï¼Œæˆ‘æ›´å€¾å‘äºç›´æ¥æŸ¥çœ‹æè¿°æ–‡ä»¶æœ¬èº«ã€‚
é€šè¿‡ å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰æŸ¥çœ‹ mobileprovision æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥æ˜ç¡®çœ‹åˆ°æè¿°æ–‡ä»¶ç±»å‹ã€ç»‘å®šå…³ç³»ä»¥åŠä½¿ç”¨çš„è¯ä¹¦æ˜¯å¦ç¬¦åˆå½“å‰é˜¶æ®µéœ€æ±‚ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15ce4500bf174228950a2f215635fecc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175337&amp;x-signature=2EfExQWUnZOM6MPjzeIJ97TcKPw%3D" alt="æŸ¥çœ‹æè¿°æ–‡ä»¶" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4"><strong>IPA æœ¬èº«ï¼Œå€¼å¾—åœ¨ä¸Šä¼ å‰è¢«ç‹¬ç«‹æ£€æŸ¥</strong></h2>
<p>åœ¨ä¸€äº›å›¢é˜Ÿé‡Œï¼ŒHBuilder ç”Ÿæˆçš„ IPA åªæ˜¯è¢«å½“ä½œä¸€ä¸ªâ€œç­‰ä¸Šä¼ çš„æ–‡ä»¶â€ã€‚
ä½†ä»å·¥ç¨‹ç»éªŒæ¥çœ‹ï¼ŒIPA æœ¬èº«å°±æ˜¯ä¸€ä¸ªéœ€è¦éªŒè¯çš„ç»“æœã€‚</p>
<p>æˆ‘é‡åˆ°è¿‡çš„é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>IPA å†…çš„ Bundle ID ä¸ App Store Connect ä¸­ä¸ä¸€è‡´</li>
<li>Info.plist ä¸­æ®‹ç•™æµ‹è¯•é…ç½®</li>
<li>å›¾æ ‡æˆ–èµ„æºç¼ºå¤±</li>
</ul>
<p>åœ¨é macOS ç¯å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡ å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰æŸ¥çœ‹ IPA å†…å®¹ï¼Œåœ¨ä¸Šä¼ å‰ç¡®è®¤è¿™äº›å…³é”®ä¿¡æ¯ã€‚è¿™ä¸€æ­¥å¹¶ä¸ä¼šæ”¹å˜ IPAï¼Œä½†èƒ½å‡å°‘å®¡æ ¸é˜¶æ®µçš„ä¸ç¡®å®šæ€§ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66eeefefb59740f0be38ee75cbf31987~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175337&amp;x-signature=pbiFYEP2piRd6X%2FSc5sNiV4XWyo%3D" alt="æŸ¥çœ‹ipa" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5"><strong>ä¸Šä¼ æ–¹å¼ï¼Œå¾€å¾€å†³å®š HBuilder é¡¹ç›®çš„åä½œæ•ˆç‡</strong></h2>
<p>åœ¨å•äººé¡¹ç›®ä¸­ï¼Œé€šè¿‡ Xcode æˆ–å®˜æ–¹æ¨èæ–¹å¼ä¸Šä¼  IPA å¹¶ä¸å¤æ‚ã€‚
ä½†åœ¨å¤šäººæˆ–è·¨å¹³å°å›¢é˜Ÿä¸­ï¼Œä¸Šä¼ æ­¥éª¤å¾ˆå®¹æ˜“æˆä¸ºç“¶é¢ˆã€‚</p>
<p>å½“æ„å»ºå‘ç”Ÿåœ¨äº‘ç«¯ï¼Œè€Œä¸Šä¼ åªèƒ½ä¾èµ–æŸä¸€å° Mac æ—¶ï¼Œå‘å¸ƒèŠ‚å¥å°±ä¼šè¢«äººä¸ºé™åˆ¶ã€‚</p>
<p>åœ¨ä¸€äº›é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰çš„ä¸Šä¼ æ–¹å¼ï¼Œåœ¨ Windows æˆ– Linux ç¯å¢ƒä¸­å®Œæˆ IPA æäº¤ï¼Œä½¿ HBuilder çš„æ„å»ºç»“æœå¯ä»¥è¢«ä¸åŒç³»ç»Ÿçš„æˆå‘˜æ¥æ‰‹å¤„ç†ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1991266f62cb4a9e935581dfc785f52b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175337&amp;x-signature=eG1xH35A8HZfCOYr2bYdgxZg9oU%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6"><strong>ç”¨ HBuilder ä¸Šæ¶ iOSï¼Œæœ¬è´¨ä»ç„¶æ˜¯ä¸€æ¬¡åŸç”Ÿå‘å¸ƒ</strong></h2>
<p>ç»å†è¿‡å¤šæ¬¡æµç¨‹ä¹‹åï¼Œæˆ‘é€æ¸å½¢æˆä¸€ä¸ªå…±è¯†ï¼š
HBuilder å¹¶æ²¡æœ‰ç»•è¿‡ iOS ä¸Šæ¶ï¼Œå®ƒåªæ˜¯æ”¹å˜äº†å¼€å‘å’Œæ‰“åŒ…çš„å…¥å£ã€‚</p>
<p>çœŸæ­£å†³å®šä¸Šæ¶æ˜¯å¦é¡ºåˆ©çš„ï¼Œä¾ç„¶æ˜¯è¿™äº›åŸç”Ÿå¯¹è±¡æ˜¯å¦æ¸…æ™°ï¼š</p>
<ul>
<li>åº”ç”¨æ ‡è¯†</li>
<li>è¯ä¹¦ä¸æè¿°æ–‡ä»¶</li>
<li>æ„å»ºäº§ç‰©</li>
<li>ä¸Šä¼ è·¯å¾„</li>
</ul>
<p>ç»“åˆHBuilderã€äº‘æ‰“åŒ…ã€å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰å¤šå·¥å…·ç»„åˆå®Œæˆä¸Šæ¶ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´é¡ºåˆ©åœ°å®Œæˆ HBuilder é¡¹ç›®çš„ä¸Šæ¶æµç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[9 ä¸ª è¶…ç»çš„ AI æ§åˆ¶ç”µè„‘ GitHub å¼€æºé¡¹ç›®ã€‚]]></title>    <link>https://juejin.cn/post/7586680977854906431</link>    <guid>https://juejin.cn/post/7586680977854906431</guid>    <pubDate>2025-12-23T06:10:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586680977854906431" data-draft-id="7586585688004755497" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="9 ä¸ª è¶…ç»çš„ AI æ§åˆ¶ç”µè„‘ GitHub å¼€æºé¡¹ç›®ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-23T06:10:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            9 ä¸ª è¶…ç»çš„ AI æ§åˆ¶ç”µè„‘ GitHub å¼€æºé¡¹ç›®ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T06:10:55.000Z" title="Tue Dec 23 2025 06:10:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€é€šè¿‡ç»ˆç«¯æ§åˆ¶ç”µè„‘</h2>
<p>æŠŠè¿™ä¸ªå¼€æºé¡¹ç›®è£…è¿›ç”µè„‘ï¼Œä½ çš„ç»ˆç«¯å°±æˆäº†è´¾ç»´æ–¯ã€‚è¿™ä¸ªÂ 61K Star çš„å¼€æºé¡¹ç›®é€šè¿‡ç»ˆç«¯æ¥æ§åˆ¶ç”µè„‘ã€‚</p>
<p>Open Interpreter æ˜¯ä¸€ä¸ªè®© AI å¤§æ¨¡å‹åœ¨æœ¬åœ°è¿è¡Œä»£ç çš„è§£é‡Šå™¨ï¼Œæ”¯æŒè¿è¡Œ Python, JavaScript, Shell å•¥çš„ï¼Œç›´æ¥è¿è¡Œåœ¨ä½ çš„ç»ˆç«¯é‡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0598db8a504f47e6b04af7cb3e05df30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=Jl%2FNHmCfCdP8CkloLMSIOazZq00%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡å’Œå®ƒå¯¹è¯ï¼Œå®ƒå¯ä»¥è®¿é—®äº’è”ç½‘ï¼Œä¸ä»…ä»…æ˜¯ Bing æœç´¢ï¼Œè€Œæ˜¯å®Œå…¨è‡ªç”±çš„è”ç½‘ã€‚Â </p>
<p>æ“ä½œä½ çš„æœ¬åœ°æ–‡ä»¶ï¼Œæ¯”å¦‚æ‰¹é‡é‡å‘½åã€è½¬æ¢æ ¼å¼ã€å¤„ç† Excelã€‚ è¿˜èƒ½æ§åˆ¶ä½ çš„ç”µè„‘ï¼Œæ¯”å¦‚æ‰“å¼€æµè§ˆå™¨ã€å‘é‚®ä»¶ã€ç”šè‡³è°ƒæ•´ç³»ç»Ÿè®¾ç½®ã€‚</p>
<p>è¿˜æ”¯æŒæ¥å…¥æœ¬åœ°çš„æ¨¡å‹ï¼Œæ¯”å¦‚ Ollamaã€Janã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19a2e39d959948dd9b8e4d7bd3c12920~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=CzsQqLgu3mg11nGc48gnY%2F97Pk0%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚è¾“å…¥ï¼šæŠŠæˆ‘çš„ç³»ç»Ÿè®¾ä¸ºæ·±è‰²æ¨¡å¼ï¼Œç„¶åæ‰“å¼€æµè§ˆå™¨å»æŸ¥ä¸€ä¸‹æ˜å¤©çš„å¤©æ°”ã€‚</p>
<p>å®ƒä¼šæ‰§è¡Œ Shell å‘½ä»¤æ¥ä¿®æ”¹ç³»ç»Ÿè®¾ç½®ï¼Œå¹¶è°ƒç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…· Selenium æˆ– Playwright å»æŸ¥è¯¢ä¿¡æ¯ã€‚</p>
<p>ä½ è¿˜å¯ä»¥æŠŠä¸€ä¸ª 500MB çš„ Excel è¡¨æ ¼æ‰”ç»™å®ƒï¼šåˆ†æè¿™ä¸ªè¡¨æ ¼ï¼Œç”»å‡ºè¿‡å»ä¸€å¹´é”€å”®é¢çš„è¶‹åŠ¿å›¾ï¼Œå¹¶ä¿å­˜ä¸º report.pngã€‚</p>
<p>ä¸ç”¨ä¸Šä¼ äº‘ç«¯ï¼Œæ•°æ®éšç§ç»å¯¹å®‰å…¨ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">å¼€æºåœ°å€<span class="hljs-symbol">:https</span><span class="hljs-symbol">://github</span>.com/openinterpreter/open-interpreter
</code></pre>
<h2 data-id="heading-1">02ã€å¾®è½¯å¼€æºï¼šOmniParser</h2>
<p>OmniParser æ˜¯å¾®è½¯å¼€æºçš„ä¸€ä¸ªä¸“é—¨ç”¨æ¥çœ‹å±å¹•çš„ç¥å™¨ã€‚</p>
<p>ä»Šå¹´æœ€æ–°çš„ V2 ç‰ˆæœ¬ï¼Œéœ¸æ¦œäº† Hugging Face å¥½ä¹…ï¼ŒçœŸçš„æŠŠ GUI Agent çš„èƒ½åŠ›æ‹‰å‡äº†ä¸€ä¸ªå°é˜¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66c1ed28ef4341fc8054e14f313e2cd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=dmtzjwH8J%2BZce0IGUEwWD3bk6iw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€ä¸ªå±å¹•è§£æå·¥å…·ï¼Œå¯ä»¥æŠŠå±å¹•æˆªå›¾è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ•°æ®ï¼Œè¿™æ˜¯æ„å»º AI æ§åˆ¶ç”µè„‘ Agent çš„æ ¸å¿ƒç»„ä»¶ã€‚è®¸å¤šåŸºäºè§†è§‰çš„è‡ªåŠ¨åŒ–é¡¹ç›®éƒ½ä¾èµ–è¿™ç±»æŠ€æœ¯æ¥ç²¾å‡†å®šä½å±å¹•å…ƒç´ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/286789e14d604f2ba13c64d2ccd006f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=%2Bvg3%2BP%2BBce9lOQcvpIUFp7rSlTg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c7e75c713494afc8581efa23512a27f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=qGhMnTdE5bozi4GA1ZWnKSD2GBY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒçš„å·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šDetectï¼šé€šè¿‡è®­ç»ƒå¥½çš„ YOLO æ¨¡å‹ï¼Œç²¾å‡†æ¡†é€‰å‡ºå±å¹•ä¸Šæ‰€æœ‰çš„<strong>å¯äº¤äº’åŒºåŸŸï¼Œæ¯”å¦‚</strong>æŒ‰é’®ã€è¾“å…¥æ¡†ã€å›¾æ ‡ã€ä¾§è¾¹æ å•¥çš„ã€‚å³ä¾¿å›¾æ ‡éå¸¸å¾®å°ï¼ŒV2 ç‰ˆæœ¬ä¹Ÿèƒ½ç²¾å‡†æ•æ‰ã€‚</p>
<p><strong>Caption</strong>ï¼šåˆ©ç”¨å¾®è½¯è‡ªå®¶çš„ Florence-2 æˆ– BLIP-2 æ¨¡å‹ï¼Œç»™æ¯ä¸€ä¸ªæ¡†é€‰å‡ºæ¥çš„å…ƒç´ åŠ ä¸Š<strong>åŠŸèƒ½æè¿°ï¼Œ</strong> æ¯”å¦‚â€œè¿™æ˜¯ä¸€ä¸ªæœç´¢å›¾æ ‡â€ã€â€œè¿™æ˜¯ä¸€ä¸ªè®¾ç½®æŒ‰é’®â€ã€‚</p>
<p><strong>Grounding</strong>ï¼šå°†è¿™äº›åæ ‡å’Œæè¿°æ‰“åŒ…å–‚ç»™ GPT-4V æˆ– DeepSeekï¼Œè®©å¤§æ¨¡å‹çŸ¥é“æŸæŒ‰é’®çš„åæ ‡åœ¨ (800, 600)ä½ å¯ä»¥æŠŠè¿™ä¸ªå¼€æºé¡¹ç›®ç†è§£æˆè¿æ¥å¤§æ¨¡å‹å¤§è„‘å’Œç”µè„‘å±å¹•ä¹‹é—´çš„é‚£å‰¯é«˜ç²¾åº¦çœ¼é•œã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">å¼€æºåœ°å€<span class="hljs-symbol">:https</span><span class="hljs-symbol">://github</span>.com/microsoft/<span class="hljs-title class_">OmniParser</span>
</code></pre>
<h2 data-id="heading-2">03ã€è‡ªæ“ä½œè®¡ç®—æœºæ¡†æ¶</h2>
<p>è¿™ä¸ªå¼€æºæ¡†æ¶ï¼Œä¹Ÿæ˜¯è®©å¤šæ¨¡æ€ AI æ¨¡å‹åƒäººç±»ä¸€æ ·æ“ä½œè®¡ç®—æœºã€‚ç°åœ¨å·²ç»æ–©è·äº† 1 ä¸‡çš„ Starã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea56d10d367f48be84799ca398bbcde7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=fujjDyHTKrr8KPloXm8Q4YxqQ%2FQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¨¡å‹é€šè¿‡æˆªå›¾çš„æ–¹å¼è§†è§‰è¯†åˆ«å±å¹•å†…å®¹ï¼Œç›´æ¥è°ƒç”¨ç³»ç»Ÿçš„é¼ æ ‡å’Œé”®ç›˜æ¥å£ï¼Œä½¿ç”¨ pyautogui åº“è¿›è¡Œäº¤äº’ï¼Œè€Œéä¾èµ–åå° APIã€‚</p>
<p>è€Œä¸”è¿™ä¸ªå¼€æºé¡¹ç›®å…¼å®¹ macOSã€Windows å’Œ Linuxã€‚</p>
<p>ä¸ºäº†è§£å†³å¤§æ¨¡å‹çœ‹ä¸å‡†æˆ–ç‚¹ä¸å‡†å±å¹•å…ƒç´ çš„é—®é¢˜ï¼Œå®ƒå¼•å…¥äº†å‡ ç§å…³é”®æ¨¡å¼ï¼š</p>
<p>OCR æ¨¡å¼ï¼šç”Ÿæˆå±å¹•ä¸Šå¯ç‚¹å‡»å…ƒç´ çš„åæ ‡å“ˆå¸Œå›¾ã€‚å½“æ¨¡å‹å†³å®šç‚¹å‡»æŸæ®µæ–‡å­—æ—¶ï¼Œç³»ç»Ÿèƒ½ç²¾ç¡®æ˜ å°„åˆ°å…·ä½“åæ ‡ï¼Œæ˜¾è‘—æé«˜äº†ç‚¹å‡»å‡†ç¡®ç‡ã€‚</p>
<p>Set-of-Mark (SoM) æç¤ºï¼šåœ¨å±å¹•æˆªå›¾ä¸Šçš„UIå…ƒç´ æ‰“ä¸Šæ•°å­—æ ‡è®° Labelï¼Œè®©æ¨¡å‹åªéœ€è¾“å‡ºæ•°å­—å³å¯å®šä½å…ƒç´ ï¼Œç±»ä¼¼äºç‰¹æ–¯æ‹‰è‡ªåŠ¨é©¾é©¶çš„è§†è§‰æ ‡æ³¨é€»è¾‘ã€‚</p>
<p>Voice Modeï¼šæ”¯æŒè¯­éŸ³è¾“å…¥æŒ‡ä»¤ï¼Œå¢åŠ äº¤äº’çš„ä¾¿æ·æ€§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€: https://github.com/OthersideAI/self-operating-computer
</code></pre>
<h2 data-id="heading-3">04ã€å‰æ²¿çš„ GUI æ™ºèƒ½ä½“ï¼šAgent S</h2>
<p>è¿™ä¸ª Agent S æ˜¯ç›®å‰æ¯”è¾ƒå‰æ²¿çš„å¼€æº GUI æ™ºèƒ½ä½“æ¡†æ¶ã€‚S3 æ˜¯é¦–ä¸ªåœ¨ OSWorld ä¸Šè¶…è¶Šäººç±»æ°´å¹³çš„æ¨¡å‹ï¼Œå–å¾—äº†å¾—åˆ† 72.60%ã€‚</p>
<p>ç›®å‰å·²ç»åœ¨ GitHub ä¸Šè·å¾— 9k çš„ Starã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5bfc3a41bbe4543ade547e2b236b290~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=qA5yYFe0a0WJEGjXy8oTNnVJJ%2B8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸æ™®é€šè„šæœ¬ä¸ä¸€æ ·ï¼ŒAgent-S å¼•å…¥äº†ç±»ä¼¼äººç±»çš„è®¤çŸ¥æ¶æ„ï¼š</p>
<p>ç»éªŒå¢å¼ºçš„å±‚æ¬¡åŒ–è§„åˆ’ï¼šå®ƒä¸æ˜¯ç›²ç›®åœ°ä¸€æ­¥æ­¥æ“ä½œï¼Œè€Œæ˜¯å…ˆæœç´¢å¤–éƒ¨çŸ¥è¯†ï¼ˆå¦‚åœ¨çº¿æ•™ç¨‹ï¼‰å’Œæ£€ç´¢å†…éƒ¨è®°å¿†ï¼Œå°†å¤§ä»»åŠ¡æ‹†è§£ä¸ºå­ä»»åŠ¡ã€‚</p>
<p>Agent-è®¡ç®—æœºæ¥å£ï¼šå®ƒä¸ç›´æ¥çœ‹åŸå§‹åƒç´ ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªä¸­é—´å±‚æ›´ç²¾ç¡®åœ°æ„ŸçŸ¥ GUI å…ƒç´ ï¼Œå¢å¼ºäº†æ¨¡å‹å¯¹å±å¹•çš„ç†è§£èƒ½åŠ›ã€‚</p>
<p>åŒé‡è®°å¿†æœºåˆ¶ï¼šå™äº‹è®°å¿†ï¼Œå­˜å‚¨é«˜å±‚æ¬¡çš„ä»»åŠ¡ç»éªŒï¼›æƒ…æ™¯è®°å¿†ï¼Œå­˜å‚¨å…·ä½“çš„æ­¥éª¤æ“ä½œã€‚å®ƒç”¨å¾—è¶Šå¤šï¼Œè¶Šæ“…é•¿å¤„ç†å¤æ‚ä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/simular-ai/Agent-S</span>
</code></pre>
<h2 data-id="heading-4">05ã€å¾®è½¯å¼€æºï¼šUFO</h2>
<p>ä¹‹å‰æåˆ°è¿‡ï¼Œè¿™ä¸ªå« UFO çš„æ¡†æ¶ä¹Ÿæ˜¯å¾®è½¯å¼€æºçš„ã€‚</p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®æ˜¯ä¸“ä¸º Windows ç”Ÿæ€æ·±åº¦å®šåˆ¶çš„åŸç”Ÿçº§æ™ºèƒ½ä½“ç³»ç»Ÿã€‚å®ƒåˆ©ç”¨å¾®è½¯å¯¹è‡ªå®¶ç³»ç»Ÿçš„ç†è§£ï¼Œå®ç°äº†æ¯”æ™®é€šè§†è§‰æ–¹æ¡ˆæ›´æ·±å±‚çš„æ§åˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/362ee22af5394cd9a202f37a275943a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=R9ioc6CjNJ52XOu2wOguARt%2Fx6s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸åŒäºè§†è§‰æ–¹æ¡ˆçš„æ¡†æ¶ä»…ä¾èµ–æˆªå›¾+é¼ æ ‡æ¨¡æ‹Ÿï¼ŒUFOÂ ç»“åˆäº†è§†è§‰ä¸åº•å±‚ç³»ç»Ÿæ¥å£ Windows UI Automation, Win32, COM APIã€‚</p>
<p>å®ƒä¸ä»…çœ‹å±å¹•ï¼Œè¿˜èƒ½ç›´æ¥è¯»æ§ä»¶æ ‘ã€‚å®ƒèƒ½å‡†ç¡®çŸ¥é“ä¸€ä¸ªæŒ‰é’®çš„åå­—ã€çŠ¶æ€å’Œéšè—å±æ€§ï¼Œç‚¹å‡»å‡†ç¡®ç‡æé«˜ã€‚</p>
<p>è€Œä¸”ï¼Œå®ƒä¸“é—¨é’ˆå¯¹ Windows å¸¸ç”¨è½¯ä»¶ Office å…¨å®¶æ¡¶ã€æ–‡ä»¶èµ„æºç®¡ç†å™¨ å•¥çš„è¿›è¡Œäº†ä¼˜åŒ–ï¼Œèƒ½ç†è§£åº”ç”¨ç¨‹åºå†…éƒ¨çš„é€»è¾‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d1a6f6d3ade45f2b1263f40afba5bc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=tJGbAm6HFUzT%2BsuLYSY%2BHwG67do%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒé‡‡ç”¨åŒä»£ç†æ¶æ„ï¼ˆAppAgent å’Œ OSWorld Agentï¼‰ï¼Œæ·±å…¥ç†è§£ Windows åº”ç”¨ç¨‹åºçš„ UI ç»“æ„ï¼Œè·¨å¤šä¸ªåº”ç”¨ç¨‹åºæ‰§è¡Œå¤æ‚è¯·æ±‚ï¼Œæ¯”å¦‚ä» PPT ä¸­æå–å†…å®¹å¹¶å‘é‚®ä»¶ã€‚</p>
<p>ä¸“ä¸º Windows ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåˆ©ç”¨ Windows åŸç”Ÿ API è¿›è¡Œæ›´ç¨³å®šçš„æ§åˆ¶ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/microsoft/UFO</span>
</code></pre>
<h2 data-id="heading-5">06ã€AI ç©è’é‡å¤§é•–å®¢</h2>
<p><strong>Cradle</strong>Â æ˜¯ç”±<strong>æ™ºæºç ”ç©¶é™¢ (BAAI)</strong> Â å›¢é˜Ÿå¼€å‘çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c793ebeedb0b4965b0b651203d310776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=hUwda5jd9H4Aw8urrFque%2FH%2FxGs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è®© AI æ™ºèƒ½ä½“èƒ½å¤Ÿåƒäººç±»ä¸€æ ·ï¼Œä»…é€šè¿‡å±å¹•æˆªå›¾å’Œ<strong>æ ‡å‡†è¾“å…¥/è¾“å‡ºæ¥å£</strong>æ¥æ“ä½œä»»ä½•è½¯ä»¶å’Œæ¸¸æˆï¼Œè€Œä¸éœ€è¦ä¾èµ–åç«¯çš„ API æˆ–å†…éƒ¨ä»£ç è®¿é—®ã€‚</p>
<p>å¯ä»¥ç©è’é‡å¤§é•–å®¢ã€åŸå¸‚å¤©é™…çº¿ï¼Œä¹Ÿä¼šç”¨é£ä¹¦ã€Chromeã€å‰ªæ˜ è½¯ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f96996c2247a47c484d11e65b5d4d714~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=KB%2BpHkTUhrK0Lckgi8lkTee5mT8%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>å®ƒæä¾›äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ¡†æ¶ï¼Œå°†æ§åˆ¶è¿‡ç¨‹åˆ†ä¸ºå‡ ä¸ªå…³é”®æ¨¡å—ï¼š</p>
<p>æ„ŸçŸ¥ï¼šæå–å±å¹•ä¸­çš„å…³é”®ä¿¡æ¯ï¼Œè¯†åˆ« UI ç•Œé¢ã€å›¾æ ‡ã€æ–‡æœ¬æˆ–æ¸¸æˆä¸­çš„ 3D åœºæ™¯ã€‚</p>
<p>å†³ç­–ä¸è§„åˆ’ï¼šÂ æ ¹æ®å½“å‰ä»»åŠ¡ç›®æ ‡å’Œå±å¹•çŠ¶æ€ï¼Œè§„åˆ’ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚è‡ªæˆ‘åæ€ï¼Œå¦‚æœæ“ä½œå¤±è´¥ï¼Œå®ƒä¼šåˆ†æåŸå› å¹¶ä¿®æ­£ç­–ç•¥ã€‚</p>
<p>è®°å¿†ç³»ç»Ÿï¼šçŸ­æœŸè®°å¿†ï¼Œè®°å½•æœ€è¿‘çš„æ“ä½œåºåˆ—å’Œæˆªå›¾ï¼›é•¿æœŸè®°å¿†ï¼Œ å­˜å‚¨æˆåŠŸç»éªŒå’Œå·¥å…·ä½¿ç”¨æ‰‹å†Œï¼ˆRAGï¼‰ï¼Œä»¥ä¾¿åœ¨ç±»ä¼¼åœºæ™¯ä¸‹å¿«é€Ÿè°ƒç”¨ã€‚</p>
<p>æ‰§è¡Œï¼šÂ å°†è§„åˆ’è½¬æ¢ä¸ºå…·ä½“çš„é”®ç›˜å’Œé¼ æ ‡æŒ‡ä»¤ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/BAAI-Agents/Cradle</span>
</code></pre>
<h2 data-id="heading-6">07ã€OS-Copilot</h2>
<p>ä¸€ä¸ªæ„å»ºé€šç”¨æ“ä½œç³»ç»Ÿä»£ç†çš„æ¡†æ¶ã€‚å¼ºè°ƒ Agent çš„è‡ªæˆ‘å­¦ä¹ å’Œè‡ªæˆ‘æ”¹è¿›èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¤„ç†ä»æœªè§è¿‡çš„åº”ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7932a5f34a7459f826a4543b682645e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=pMxrNZtdjiKZbEmm97s2QSZvOtY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶æ ¸å¿ƒ Agent FRIDAY èƒ½å¤Ÿé€šè¿‡è‡ªæˆ‘æ”¹è¿›æœºåˆ¶æ¥å­¦ä¹ å¦‚ä½•æ“ä½œ Excelã€PPT ä»¥åŠæµè§ˆç½‘é¡µã€‚</p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªæ— ç¼é›†æˆåˆ°æ“ä½œç³»ç»Ÿä¸­çš„ä¸ªäººåŠ©ç†ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/OS-Copilot/OS-Copilot</span>
</code></pre>
<h2 data-id="heading-7">08ã€ShowUI</h2>
<p>è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç«¯åˆ°ç«¯è§†è§‰-è¯­è¨€-åŠ¨ä½œï¼ˆVision-Language-Actionï¼‰æ¨¡å‹ï¼Œä¸“ä¸º GUI æ™ºèƒ½ä½“è®¾è®¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8dc1d392254d43c2b228681274fd2c05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=QWQy8DctkdLD9%2BkRJZPT9jVi9ZE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæƒ³è§£å†³å¤§æ¨¡å‹åœ¨å¤„ç† UI ç•Œé¢æ—¶çš„é«˜å»¶è¿Ÿå’Œè®¡ç®—æˆæœ¬é—®é¢˜ï¼Œæä¾›æ›´å¿«é€Ÿã€æ›´ç²¾å‡†çš„å±å¹•å…ƒç´ å®šä½å’Œæ“ä½œã€‚</p>
<p>æ¨¡å‹å°å·§é«˜æ•ˆï¼Œé€‚åˆåœ¨æœ¬åœ°éƒ¨ç½²è¿›è¡Œä½å»¶è¿Ÿçš„ UI è‡ªåŠ¨åŒ–æ§åˆ¶ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/showlab/ShowUI</span>
</code></pre>
<h2 data-id="heading-8">09ã€UI-TARS Desktop</h2>
<p>ä¹‹å‰ä»‹ç»è¿‡ï¼Œå­—èŠ‚è·³åŠ¨å¼€æºçš„åŸºäºÂ UI-TARSÂ è§†è§‰è¯­è¨€æ¨¡å‹çš„ GUI æ™ºèƒ½ä½“æ¡Œé¢åº”ç”¨ã€‚</p>
<p>å®ƒå…è®¸ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€ç›´æ¥æ§åˆ¶ Windows æˆ– macOS ç”µè„‘ã€‚</p>
<p>è¯¥é¡¹ç›®ç»“åˆäº†ç«¯åˆ°ç«¯çš„è§†è§‰æ¨¡å‹ï¼Œæ— éœ€å¤æ‚çš„ä¸­é—´ä»£ç è§£æï¼Œç›´æ¥åƒäººç±»ä¸€æ ·çœ‹å±å¹•å¹¶æ“ä½œé¼ æ ‡é”®ç›˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ff7a35c69f54c90afcf46ac32377df0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767075055&amp;x-signature=ItG2XzVU08B5u93hNC0kFvK02QY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç‰¹ç‚¹æ˜¯å¼€ç®±å³ç”¨ï¼Œæ”¯æŒè¿œç¨‹è®¡ç®—æœºæ§åˆ¶ï¼Œæ˜¯ç›®å‰è¾ƒæ–°çš„é«˜æ€§èƒ½ GUI Agent å®ç°ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/bytedance/UI-TARS-desktop</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AOP çš„çœŸç›¸ï¼šæ³¨è§£åªæ˜¯å£°æ˜ï¼Œä»£ç†æ‰æ˜¯æ‰§è¡Œ]]></title>    <link>https://juejin.cn/post/7586585688005115945</link>    <guid>https://juejin.cn/post/7586585688005115945</guid>    <pubDate>2025-12-23T03:41:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586585688005115945" data-draft-id="7586585498744684598" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AOP çš„çœŸç›¸ï¼šæ³¨è§£åªæ˜¯å£°æ˜ï¼Œä»£ç†æ‰æ˜¯æ‰§è¡Œ"/> <meta itemprop="keywords" content="é¢è¯•,æ¶æ„,Spring"/> <meta itemprop="datePublished" content="2025-12-23T03:41:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AOP çš„çœŸç›¸ï¼šæ³¨è§£åªæ˜¯å£°æ˜ï¼Œä»£ç†æ‰æ˜¯æ‰§è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T03:41:28.000Z" title="Tue Dec 23 2025 03:41:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¾ˆå¤šäººç”¨Spring AOPæ—¶ï¼Œä»¥ä¸ºåªè¦åœ¨æ–¹æ³•ä¸ŠåŠ ä¸ª<code>@Transactional</code>ã€<code>@Retry</code>ï¼Œå°±èƒ½è‡ªåŠ¨æœ‰äº‹åŠ¡ã€é‡è¯•åŠŸèƒ½ã€‚ä½†å½“ä»£ç å‡ºé—®é¢˜æ—¶ï¼Œå¾€å¾€ä¸€è„¸æ‡µé€¼ï¼šä¸ºä»€ä¹ˆæ³¨è§£æ²¡ç”Ÿæ•ˆï¼Ÿä¸ºä»€ä¹ˆä»£ç†å¤±è´¥äº†ï¼Ÿ</p>
<p>è¿™æ¬¡æˆ‘ç”¨ä¸åˆ°1000è¡Œä»£ç ï¼Œæ‰‹å†™äº†ä¸€ä¸ªMini-AOPæ¡†æ¶ï¼Œçº¯JDKå®ç°ï¼Œ0ä¾èµ–ã€‚ç›®çš„å¾ˆç®€å•ï¼š<strong>çœ‹æ¸…æ¥šAOPåˆ°åº•æ˜¯æ€ä¹ˆè¿ä½œçš„</strong>ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒè®¤çŸ¥ï¼šAOPä¸æ˜¯ä½ æƒ³çš„é‚£æ ·</h2>
<h3 data-id="heading-2">å¸¸è§è¯¯è§£</h3>
<p>å¾ˆå¤šäººä»¥ä¸ºAOPæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-meta">@Before("UserService.*")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(JoinPoint jp)</span> {
        System.out.println(<span class="hljs-string">"æ‰“æ—¥å¿—"</span>);
    }
}

<span class="hljs-comment">// ç„¶åå†™ä¸šåŠ¡ä»£ç </span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-comment">// è‡ªåŠ¨å°±æœ‰æ—¥å¿—äº†ï¼Ÿ</span>
    }
}
</code></pre>
<p>ä»¥ä¸ºåŠ äº†æ³¨è§£å°±è‡ªåŠ¨åœ¨æ–¹æ³•å‰åæ’å…¥ä»£ç äº†ã€‚<strong>è¿™æ˜¯é”™çš„ï¼</strong></p>
<h3 data-id="heading-3">çœŸå®æƒ…å†µ</h3>
<p>AOPçš„æœ¬è´¨æ˜¯<strong>ä¸‰å±‚ç»“æ„</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3952679a3a564030a456894b89ca990a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LiP5rWq5peg55eV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767066313&amp;x-signature=GuWiuKyLUtXpVgM%2F9v7BnwgT3uQ%3D" alt="115.jpg" loading="lazy"/></p>
<ol>
<li><strong>å£°æ˜å±‚</strong>ï¼šä½ å†™çš„<code>@Before</code>ã€<code>@Around</code>ç­‰æ³¨è§£ï¼Œåªæ˜¯é…ç½®ï¼Œä¸æ‰§è¡Œä»»ä½•é€»è¾‘</li>
<li><strong>è§¦å‘å±‚</strong>ï¼šä»£ç†å¯¹è±¡åœ¨æ–¹æ³•è°ƒç”¨æ—¶ï¼Œé€šè¿‡è¡¨è¾¾å¼åŒ¹é…å†³å®šå“ªäº›åˆ‡é¢è¦æ‰§è¡Œ</li>
<li><strong>ä¸šåŠ¡å±‚</strong>ï¼šè¢«AOPåŒ…è£¹çš„çœŸå®ä¸šåŠ¡ä»£ç </li>
</ol>
<p>ç”¨å¤§ç™½è¯è¯´ï¼š<strong>æ³¨è§£ä¸ä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œå¿…é¡»æœ‰ä¸€ä¸ªä»£ç†å±‚æ¥è¯†åˆ«æ³¨è§£ã€åŒ¹é…è¡¨è¾¾å¼ã€å†³å®šæ‰§è¡Œé¡ºåº</strong>ã€‚</p>
<h2 data-id="heading-4">Mini-AOPçš„æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-5">æ•´ä½“æ¶æ„</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ç”¨æˆ·è°ƒç”¨] --&gt; B[ä»£ç†å¯¹è±¡]
    B --&gt; C{åˆ‡ç‚¹åŒ¹é…}
    C --&gt;|åŒ¹é…æˆåŠŸ| D[æ”¶é›†é€šçŸ¥]
    D --&gt; E[æ‰§è¡ŒBefore]
    E --&gt; F[æ‰§è¡ŒAround]
    F --&gt; G[çœŸå®æ–¹æ³•]
    G --&gt; H[æ‰§è¡ŒAfter]
    C --&gt;|ä¸åŒ¹é…| G
</code></pre>
<h3 data-id="heading-6">å…³é”®ç±»è¯´æ˜</h3>
<p><strong>1. BeanFactory - å®¹å™¨å’Œä»£ç†åˆ›å»ºè€…</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanFactory</span> {
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; beans = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> List&lt;Object&gt; aspects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ³¨å†ŒBeanæ—¶ï¼Œè¯†åˆ«å‡ºåˆ‡é¢ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> clazz.newInstance();
        <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Aspect.class)) {
            aspects.add(instance);  <span class="hljs-comment">// æ”¶é›†åˆ‡é¢</span>
        }
        beans.put(getBeanName(clazz), instance);
    }
    
    <span class="hljs-comment">// è·å–Beanæ—¶ï¼Œå†³å®šæ˜¯å¦åˆ›å»ºä»£ç†</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name, Class&lt;T&gt; type)</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beans.get(name);
        <span class="hljs-keyword">if</span> (needProxy(bean)) {
            <span class="hljs-keyword">return</span> AopProxy.createProxy(bean, aspects);  <span class="hljs-comment">// åˆ›å»ºä»£ç†</span>
        }
        <span class="hljs-keyword">return</span> (T) bean;
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ul>
<li>æ³¨å†Œæ—¶æ”¶é›†æ‰€æœ‰<code>@Aspect</code>ç±»</li>
<li>è·å–Beanæ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦ä»£ç†ï¼Œå¦‚æœéœ€è¦å°±è¿”å›ä»£ç†å¯¹è±¡è€Œä¸æ˜¯åŸå§‹å¯¹è±¡</li>
</ul>
<p><strong>2. AopProxy - ä»£ç†å’Œåˆ‡ç‚¹åŒ¹é…æ ¸å¿ƒ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AopProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> Object target;
    <span class="hljs-keyword">private</span> List&lt;Object&gt; aspects;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> {
        <span class="hljs-comment">// 1. éå†æ‰€æœ‰åˆ‡é¢</span>
        <span class="hljs-keyword">for</span> (Object aspect : aspects) {
            <span class="hljs-keyword">for</span> (Method aspectMethod : aspect.getClass().getDeclaredMethods()) {
                <span class="hljs-comment">// 2. æ£€æŸ¥æ³¨è§£å’Œåˆ‡ç‚¹è¡¨è¾¾å¼</span>
                <span class="hljs-keyword">if</span> (aspectMethod.isAnnotationPresent(Before.class)) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">pointcut</span> <span class="hljs-operator">=</span> aspectMethod.getAnnotation(Before.class).value();
                    <span class="hljs-comment">// 3. åŒ¹é…è¡¨è¾¾å¼</span>
                    <span class="hljs-keyword">if</span> (matches(pointcut, method)) {
                        beforeAdvices.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Advice</span>(aspect, aspectMethod));
                    }
                }
            }
        }
        
        <span class="hljs-comment">// 4. æŒ‰é¡ºåºæ‰§è¡Œé€šçŸ¥é“¾</span>
        <span class="hljs-keyword">return</span> executeAdvices(method, args, beforeAdvices, afterAdvices);
    }
    
    <span class="hljs-comment">// ç®€å•çš„åˆ‡ç‚¹åŒ¹é…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">matches</span><span class="hljs-params">(String pointcut, Method method)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">fullName</span> <span class="hljs-operator">=</span> method.getDeclaringClass().getSimpleName() 
                        + <span class="hljs-string">"."</span> + method.getName();
        <span class="hljs-type">String</span> <span class="hljs-variable">regex</span> <span class="hljs-operator">=</span> pointcut.replace(<span class="hljs-string">"*"</span>, <span class="hljs-string">".*"</span>);
        <span class="hljs-keyword">return</span> fullName.matches(regex);
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ul>
<li>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œéå†æ‰€æœ‰åˆ‡é¢ç±»</li>
<li>è¯»å–åˆ‡é¢æ–¹æ³•ä¸Šçš„æ³¨è§£å’Œè¡¨è¾¾å¼</li>
<li>ç”¨è¡¨è¾¾å¼åŒ¹é…å½“å‰æ–¹æ³•ï¼Œå†³å®šæ˜¯å¦æ‰§è¡Œ</li>
<li>æ”¶é›†æ‰€æœ‰åŒ¹é…çš„é€šçŸ¥ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-7">å®Œæ•´çš„è°ƒç”¨æµç¨‹</h3>
<p>ä»¥è¿™æ®µä»£ç ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ³¨å†Œ</span>
factory.register(LogAspect.class);
factory.register(UserServiceImpl.class);

<span class="hljs-comment">// è·å–</span>
<span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> factory.getBean(<span class="hljs-string">"userService"</span>, UserService.class);

<span class="hljs-comment">// è°ƒç”¨</span>
userService.saveUser(<span class="hljs-string">"å¼ ä¸‰"</span>);
</code></pre>
<p>å®é™…æ‰§è¡Œæµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·ä»£ç 
    participant P as ä»£ç†å¯¹è±¡
    participant A as AopProxy.invoke
    participant L as LogAspect
    participant R as RetryAspect
    participant T as çœŸå®å¯¹è±¡

    U-&gt;&gt;P: saveUser(&amp;#34;å¼ ä¸‰&amp;#34;)
    P-&gt;&gt;A: invoke(method, args)
    A-&gt;&gt;A: åŒ¹é…åˆ‡ç‚¹è¡¨è¾¾å¼
    A-&gt;&gt;L: @BeforeåŒ¹é…æˆåŠŸ
    L--&gt;&gt;A: logBefore()
    A-&gt;&gt;R: @AroundåŒ¹é…æˆåŠŸ
    R-&gt;&gt;A: retry { proceed() }
    A-&gt;&gt;T: method.invoke(target, args)
    T--&gt;&gt;A: è¿”å›ç»“æœ
    A-&gt;&gt;L: @Afteræ‰§è¡Œ
    L--&gt;&gt;A: logAfter()
    A--&gt;&gt;P: è¿”å›æœ€ç»ˆç»“æœ
    P--&gt;&gt;U: è¿”å›ç»™ç”¨æˆ·
</code></pre>
<h3 data-id="heading-8">åˆ‡ç‚¹è¡¨è¾¾å¼çš„åŒ¹é…æœºåˆ¶</h3>
<p>è¿™æ˜¯æœ€å®¹æ˜“è¢«å¿½ç•¥çš„éƒ¨åˆ†ã€‚å¾ˆå¤šäººä»¥ä¸ºå†™äº†<code>@Before("UserService.*")</code>å°±è‡ªåŠ¨ç”Ÿæ•ˆï¼Œä½†å®é™…ä¸Šï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ‡é¢å®šä¹‰</span>
<span class="hljs-meta">@Before("UserService.*")</span>  <span class="hljs-comment">// åªæ˜¯å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(JoinPoint jp)</span> { }

<span class="hljs-comment">// å¿…é¡»æœ‰ä»£ç æ¥è§£æè¿™ä¸ªå­—ç¬¦ä¸²</span>
<span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">matches</span><span class="hljs-params">(String pointcut, Method method)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> method.getDeclaringClass().getSimpleName();
    <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> method.getName();
    <span class="hljs-type">String</span> <span class="hljs-variable">fullName</span> <span class="hljs-operator">=</span> className + <span class="hljs-string">"."</span> + methodName;  <span class="hljs-comment">// å¦‚ "UserService.saveUser"</span>
    
    <span class="hljs-comment">// æŠŠè¡¨è¾¾å¼è½¬æˆæ­£åˆ™</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">regex</span> <span class="hljs-operator">=</span> pointcut.replace(<span class="hljs-string">"*"</span>, <span class="hljs-string">".*"</span>);  <span class="hljs-comment">// "UserService.*" -&gt; "UserService\..*"</span>
    
    <span class="hljs-comment">// åŒ¹é…</span>
    <span class="hljs-keyword">return</span> fullName.matches(regex);
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li>è¡¨è¾¾å¼åªæ˜¯å­—ç¬¦ä¸²ï¼Œä¸ä¼šè‡ªåŠ¨åŒ¹é…</li>
<li>å¿…é¡»åœ¨è¿è¡Œæ—¶è§£æè¡¨è¾¾å¼å¹¶å’Œæ–¹æ³•åæ¯”å¯¹</li>
<li>è¿™ä¸ªåŒ¹é…å‘ç”Ÿåœ¨æ¯æ¬¡æ–¹æ³•è°ƒç”¨æ—¶</li>
</ol>
<h3 data-id="heading-9">é€šçŸ¥çš„æ‰§è¡Œé¡ºåº</h3>
<p>å¤šä¸ªåˆ‡é¢å åŠ æ—¶ï¼Œæ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d2454105344494a8a442d28ff982197~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LiP5rWq5peg55eV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767066313&amp;x-signature=d5Ic2AYQldRmHVRx7BNHWx92Qxs%3D" alt="116.jpg" loading="lazy"/></p>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">executeAdvices</span><span class="hljs-params">(Method method, Object[] args, 
                              List&lt;Advice&gt; beforeAdvices,
                              List&lt;Advice&gt; afterAdvices,
                              List&lt;Advice&gt; aroundAdvices)</span> {
    
    <span class="hljs-comment">// æ„å»ºè°ƒç”¨é“¾</span>
    Supplier&lt;Object&gt; chain = () -&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œ@Before</span>
            <span class="hljs-keyword">for</span> (Advice advice : beforeAdvices) {
                advice.method.invoke(advice.aspect, <span class="hljs-keyword">new</span> <span class="hljs-title class_">JoinPoint</span>(target, method, args));
            }
            
            <span class="hljs-comment">// æ‰§è¡ŒçœŸå®æ–¹æ³•</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args);
            
            <span class="hljs-comment">// æ‰§è¡Œ@After</span>
            <span class="hljs-keyword">for</span> (Advice advice : afterAdvices) {
                advice.method.invoke(advice.aspect, <span class="hljs-keyword">new</span> <span class="hljs-title class_">JoinPoint</span>(target, method, args));
            }
            
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    };
    
    <span class="hljs-comment">// @AroundåŒ…è£¹æ•´ä¸ªé“¾æ¡</span>
    <span class="hljs-keyword">for</span> (Advice around : aroundAdvices) {
        <span class="hljs-type">Object</span> <span class="hljs-variable">finalChain</span> <span class="hljs-operator">=</span> chain;
        chain = () -&gt; around.method.invoke(around.aspect, 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProceedingJoinPoint</span>(target, method, args, finalChain));
    }
    
    <span class="hljs-keyword">return</span> chain.get();
}
</code></pre>
<h2 data-id="heading-10">ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹</h2>
<h3 data-id="heading-11">åˆ‡é¢å®šä¹‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Order(1)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-meta">@Before("UserService.*")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logBefore</span><span class="hljs-params">(JoinPoint jp)</span> {
        System.out.println(<span class="hljs-string">"[æ—¥å¿—] æ–¹æ³•: "</span> + jp.getSignature());
    }
    
    <span class="hljs-meta">@After("UserService.*")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logAfter</span><span class="hljs-params">(JoinPoint jp)</span> {
        System.out.println(<span class="hljs-string">"[æ—¥å¿—] æ–¹æ³•æ‰§è¡Œå®Œæ¯•"</span>);
    }
}

<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Order(2)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryAspect</span> {
    <span class="hljs-meta">@Around("UserService.save*")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">retry</span><span class="hljs-params">(ProceedingJoinPoint pjp)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
            <span class="hljs-keyword">try</span> {
                System.out.println(<span class="hljs-string">"[é‡è¯•] ç¬¬ "</span> + (i + <span class="hljs-number">1</span>) + <span class="hljs-string">" æ¬¡"</span>);
                <span class="hljs-keyword">return</span> pjp.proceed();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span>) <span class="hljs-keyword">throw</span> e;
                Thread.sleep(<span class="hljs-number">1000</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-12">ä¸šåŠ¡ä»£ç </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(String name)</span>;
}

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(String name)</span> {
        count++;
        System.out.println(<span class="hljs-string">"==&gt; ä¿å­˜ç”¨æˆ·: "</span> + name);
        <span class="hljs-keyword">if</span> (count &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¿å­˜å¤±è´¥"</span>);
        }
    }
}
</code></pre>
<h3 data-id="heading-13">è¿è¡Œç»“æœ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BeanFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanFactory</span>();
factory.register(LogAspect.class);
factory.register(RetryAspect.class);
factory.register(UserServiceImpl.class);

<span class="hljs-type">UserService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> factory.getBean(<span class="hljs-string">"userService"</span>, UserService.class);
service.saveUser(<span class="hljs-string">"å¼ ä¸‰"</span>);
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[æ—¥å¿—]</span> æ–¹æ³•: UserService.saveUser
<span class="hljs-section">[é‡è¯•]</span> ç¬¬ 1 æ¬¡
==&gt; ä¿å­˜ç”¨æˆ·: å¼ ä¸‰
<span class="hljs-section">[é‡è¯•]</span> ç¬¬ 2 æ¬¡
==&gt; ä¿å­˜ç”¨æˆ·: å¼ ä¸‰
<span class="hljs-section">[é‡è¯•]</span> ç¬¬ 3 æ¬¡
==&gt; ä¿å­˜ç”¨æˆ·: å¼ ä¸‰
<span class="hljs-section">[æ—¥å¿—]</span> æ–¹æ³•æ‰§è¡Œå®Œæ¯•
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼š</p>
<ol>
<li>æ—¥å¿—åˆ‡é¢å…ˆæ‰§è¡Œï¼ˆOrder=1ï¼‰</li>
<li>é‡è¯•åˆ‡é¢åŒ…è£¹åœ¨å¤–é¢ï¼ˆOrder=2ï¼‰</li>
<li>å¤±è´¥ä¸¤æ¬¡åç¬¬ä¸‰æ¬¡æˆåŠŸ</li>
</ol>
<h2 data-id="heading-14">å’ŒSpring AOPçš„å¯¹æ¯”</h2>
<h3 data-id="heading-15">ç›¸åŒç‚¹</h3>
<ol>
<li>éƒ½ä½¿ç”¨JDKåŠ¨æ€ä»£ç†</li>
<li>éƒ½é€šè¿‡åˆ‡ç‚¹è¡¨è¾¾å¼åŒ¹é…æ–¹æ³•</li>
<li>éƒ½æ”¯æŒå¤šç§é€šçŸ¥ç±»å‹å’Œä¼˜å…ˆçº§</li>
</ol>
<h3 data-id="heading-16">ä¸åŒç‚¹</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Mini-AOP</th><th>Spring AOP</th></tr></thead><tbody><tr><td>ä»£ç†æ–¹å¼</td><td>åªæœ‰JDKä»£ç†</td><td>JDK + CGLIB</td></tr><tr><td>åˆ‡ç‚¹è¡¨è¾¾å¼</td><td>ç®€å•é€šé…ç¬¦</td><td>å®Œæ•´AspectJè¯­æ³•</td></tr><tr><td>å®¹å™¨</td><td>æ‰‹åŠ¨æ³¨å†Œ</td><td>è‡ªåŠ¨æ‰«æ</td></tr><tr><td>ä¾èµ–æ³¨å…¥</td><td>ä¸æ”¯æŒ</td><td>å®Œæ•´æ”¯æŒ</td></tr><tr><td>ä»£ç é‡</td><td>800è¡Œ</td><td>10ä¸‡è¡Œ+</td></tr></tbody></table>
<h3 data-id="heading-17">æœ¬è´¨æ˜¯ä¸€æ ·çš„</h3>
<p>Spring AOPçš„æ ¸å¿ƒæµç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fa4ed1312ad44bea8df2cfbbc312ef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LiP5rWq5peg55eV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767066313&amp;x-signature=oB45fePje47IQs5MRzWivlqok8w%3D" alt="117.jpg" loading="lazy"/></p>
<p>å’ŒMini-AOPå¯¹æ¯”ï¼š</p>






























<table><thead><tr><th>æ­¥éª¤</th><th>Mini-AOP</th><th>Spring AOP</th></tr></thead><tbody><tr><td>æ‰«æåˆ‡é¢</td><td><code>factory.register(LogAspect.class)</code></td><td><code>@ComponentScan + @Aspect</code></td></tr><tr><td>åˆ¤æ–­æ˜¯å¦éœ€è¦ä»£ç†</td><td><code>needProxy(bean)</code></td><td><code>AbstractAutoProxyCreator.wrapIfNecessary</code></td></tr><tr><td>åˆ›å»ºä»£ç†</td><td><code>AopProxy.createProxy</code></td><td><code>ProxyFactory.getProxy</code></td></tr><tr><td>åˆ‡ç‚¹åŒ¹é…</td><td><code>matches(pointcut, method)</code></td><td><code>AspectJExpressionPointcut.matches</code></td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šSpringåªæ˜¯æŠŠè¿™å¥—é€»è¾‘åšå¾—æ›´é€šç”¨ã€æ›´çµæ´»ï¼Œä½†åº•å±‚æ€æƒ³å®Œå…¨ä¸€è‡´ã€‚</p>
<h2 data-id="heading-18">å…³é”®æ”¶è·</h2>
<h3 data-id="heading-19">1. æ³¨è§£ä¸æ˜¯é­”æ³•</h3>
<p>å†™äº†<code>@Before</code>ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œå¿…é¡»æœ‰ä»£ç å»ï¼š</p>
<ol>
<li>è¯»å–æ³¨è§£</li>
<li>è§£æè¡¨è¾¾å¼</li>
<li>åŒ¹é…æ–¹æ³•</li>
<li>æ‰§è¡Œé€»è¾‘</li>
</ol>
<h3 data-id="heading-20">2. ä»£ç†æ˜¯æ ¸å¿ƒ</h3>
<p>AOPçš„æœ¬è´¨å°±æ˜¯åŠ¨æ€ä»£ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”¨æˆ·ä»¥ä¸ºè°ƒç”¨çš„æ˜¯</span>
<span class="hljs-type">UserService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();

<span class="hljs-comment">// å®é™…æ‹¿åˆ°çš„æ˜¯</span>
<span class="hljs-type">UserService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> Proxy.newProxyInstance(...);
</code></pre>
<p>æ‰€æœ‰AOPé€»è¾‘éƒ½åœ¨è¿™ä¸ªä»£ç†å¯¹è±¡çš„<code>invoke</code>æ–¹æ³•é‡Œã€‚</p>
<h3 data-id="heading-21">3. è¡¨è¾¾å¼åŒ¹é…æ˜¯å…³é”®</h3>
<p>åˆ‡é¢èƒ½ä¸èƒ½ç”Ÿæ•ˆï¼Œå–å†³äºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (matches(<span class="hljs-string">"UserService.*"</span>, method)) {
    <span class="hljs-comment">// æ‰§è¡Œåˆ‡é¢é€»è¾‘</span>
}
</code></pre>
<p>è¿™ä¸ªåŒ¹é…é€»è¾‘æ‰æ˜¯å†³å®š"å“ªäº›æ–¹æ³•è¢«æ‹¦æˆª"çš„çœŸæ­£åŸå› ã€‚</p>
<h3 data-id="heading-22">4. ä¸‰å±‚ç»“æ„</h3>
<p>æ°¸è¿œè®°ä½ï¼š</p>
<pre><code class="hljs">æ³¨è§£ï¼ˆå£°æ˜ï¼‰ + ä»£ç†ï¼ˆè§¦å‘ï¼‰ + åŒ¹é…ï¼ˆå†³ç­–ï¼‰ = AOP
</code></pre>
<p>ç¼ºå°‘ä»»ä½•ä¸€å±‚ï¼ŒAOPéƒ½ä¸ä¼šç”Ÿæ•ˆã€‚</p>
<h2 data-id="heading-23">æ€»ç»“</h2>
<p>æ‰‹å†™è¿™ä¸ªMini-AOPæ¡†æ¶åï¼Œå¯¹Spring AOPçš„ç†è§£å½»åº•é€šé€äº†ï¼š</p>
<ol>
<li>AOPä¸æ˜¯æ³¨è§£çš„é­”æ³•ï¼Œæ˜¯ä»£ç†å¯¹è±¡åœ¨è¿è¡Œæ—¶çš„åŠ¨æ€åŒ¹é…å’Œè°ƒç”¨</li>
<li>åˆ‡ç‚¹è¡¨è¾¾å¼åªæ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦æœ‰åŒ¹é…å™¨æ¥è§£æå’Œåˆ¤æ–­</li>
<li>é€šçŸ¥çš„æ‰§è¡Œé¡ºåºç”±ä»£ç†å¯¹è±¡æ§åˆ¶ï¼Œä¸æ˜¯æ³¨è§£å†³å®šçš„</li>
<li>Spring AOPåªæ˜¯æŠŠè¿™å¥—æœºåˆ¶åšå¾—æ›´å®Œå–„ï¼Œæœ¬è´¨å’Œ800è¡Œä»£ç æ²¡åŒºåˆ«</li>
</ol>
<p>ä¸‹æ¬¡é‡åˆ°"ä¸ºä»€ä¹ˆ@Transactionalæ²¡ç”Ÿæ•ˆ"è¿™ç§é—®é¢˜ï¼Œå°±èƒ½å¿«é€Ÿå®šä½ï¼šæ˜¯ä¸æ˜¯ä»£ç†æ²¡åˆ›å»ºï¼Ÿæ˜¯ä¸æ˜¯è¡¨è¾¾å¼æ²¡åŒ¹é…ä¸Šï¼Ÿæ˜¯ä¸æ˜¯è°ƒç”¨æ–¹å¼ä¸å¯¹ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SSEä¸æµå¼ä¼ è¾“(Streamable HTTP)]]></title>    <link>https://juejin.cn/post/7587023071067635764</link>    <guid>https://juejin.cn/post/7587023071067635764</guid>    <pubDate>2025-12-24T10:10:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587023071067635764" data-draft-id="7582528397865041947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SSEä¸æµå¼ä¼ è¾“(Streamable HTTP)"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-24T10:10:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SSEä¸æµå¼ä¼ è¾“(Streamable HTTP)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:10:28.000Z" title="Wed Dec 24 2025 10:10:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SSEè¢«å†·è½äº†åå¤šå¹´ï¼Œç»ˆäºéšAIç«äº†ä¸€æŠŠã€‚è¿‡å»å¤§å®¶å®å¯ç”¨websocketä¹Ÿä¸æ„¿æ„ä½¿ç”¨SSEï¼Œä»¥è‡³äºAIå‡ºæ¥åï¼Œå¾ˆå¤šäººè®¤ä¸ºè¿™æ˜¯ä¸ªæ–°æŠ€æœ¯ã€‚å®é™…ä¸Šå®ƒå¾ˆä¹…ä»¥å‰å°±æ˜¯HTML5æ ‡å‡†ä¸­çš„ä¸€éƒ¨åˆ†äº†ã€‚</p>
<p>MCPå…´èµ·åï¼Œæœ‰äº›äººè®¤ä¸ºSSEä¸Streamable HTTPæ˜¯ä¸¤ä¸ªæ¦‚å¿µï¼Œå…¶å®ä¸ç„¶ã€‚æœ¬æ–‡å°†ç†æ¸…SSEå’ŒStreamalbe HTTPä¸¤è€…çš„æ¦‚å¿µä¸å…³ç³»ï¼Œå¹¶ç»™å‡ºå®è·µä¸­çš„ä¸€äº›å°å»ºè®®ã€‚</p>
<h2 data-id="heading-0">SSE</h2>
<p>SSEæ˜¯Streamable HTTPçš„ä¸€ä¸ªå®ç°:SSEä¸ä»…å¯¹è¯·æ±‚å¤´æœ‰è¦æ±‚â€”â€”å¿…é¡»è®¾ç½®Content-Type: text/event-streamï¼Œè€Œä¸”å¯¹ä¼ è¾“æ ¼å¼ã€æ•°æ®è§£æåšäº†è¯¦ç»†çº¦å®šï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe10c5ef22b045d98a17c0a349114f3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175827&amp;x-signature=lvjhzi7NswjvKtHfnHeWIG%2B2kKk%3D" alt="image.png" loading="lazy"/></p>
<p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œå…·ä½“å¯è§HTML5æ ‡å‡† <a href="https://link.juejin.cn?target=https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fserver-sent-events.html%23concept-eventsource-url" target="_blank" title="https://html.spec.whatwg.org/multipage/server-sent-events.html#concept-eventsource-url" ref="nofollow noopener noreferrer">html.spec.whatwg.org/multipage/sâ€¦</a></p>
<p>é™¤äº†è¿™äº›å…·ä½“çš„è§„èŒƒå¤–ï¼ŒSSEåªèƒ½å‘é€getè¯·æ±‚ï¼Œå¹¶ä¸”åªèƒ½ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­ã€‚å¦å¤–ï¼Œä»"text/event-stream"ä¸Šå¯ä»¥çœ‹å‡ºï¼ŒSSEèšç„¦äºæ–‡æœ¬å†…å®¹ä¼ è¾“ï¼Œè¦ä¼ äºŒè¿›åˆ¶å†…å®¹å°±æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒSSEæ˜¯ç”±HTML5æ ‡å‡†è§„å®šï¼Œé’ˆå¯¹å‰ç«¯åœºæ™¯ç‰¹æ®Šè§„å®šçš„æµå¼ä¼ è¾“åè®®ã€‚åŸºäºSSEçš„æµå¼ä¼ è¾“ï¼Œå¯ä»¥é€šè¿‡EventSourceå¯¹è±¡å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡fetchè‡ªè¡Œå¤„ç†è¯·æ±‚/è§£æ/é‡è¿ã€‚</p>
<h2 data-id="heading-1">Streamable HTTP</h2>
<p>Streamable HTTPè™½ç„¶ä¸SSEä¸€æ ·ä¾èµ–httpåè®®ä¸­çš„keep-aliveï¼Œä½†æ›´åº•å±‚å’Œä¸­ç«‹ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒæ˜¯Transfer-Encoding: chunkedï¼ˆhttp1.1ï¼‰ï¼Œæ­¤å¤–æ²¡æœ‰å…¶ä»–çº¦æŸã€‚</p>
<p>å¦‚æœä½¿ç”¨http2ï¼Œå¯ä»¥ä¸å£°æ˜Transfer-Encodingï¼Œåªè¦æŒç»­å†™å°±è¡Œäº†ï¼Œå› ä¸ºhttp2èƒ½è‡ªåŠ¨åˆ†å¸§ã€‚</p>
<p>å½“æœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­ç¼ºå°‘<code>Content-Length</code>å¤´éƒ¨ï¼Œä¸”è¿æ¥ä¿æŒå¼€æ”¾ï¼ˆ<code>Connection: keep-alive</code>ï¼‰æ—¶ï¼ŒHTTP/1.1 åè®®ä¼šé»˜è®¤ä½¿ç”¨<code>Transfer-Encoding: chunked</code>ç¼–ç æ¥ä¼ è¾“å“åº”æ•°æ®ï¼ŒSSEåˆšå¥½æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œå› æ­¤ä¹Ÿæ˜¯chunked transferä¼ è¾“çš„ã€‚</p>
<p>ä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼ŒSSEå°±æ˜¯Streamable HTTPä¼ è¾“çš„ä¸€ä¸ªå®ç°â€”â€”<strong>SSE = Streamable HTTP + äº‹ä»¶ç¼–ç è§„èŒƒ</strong>ã€‚</p>
<p>ç”±äºStreamable HTTPå¹¶æ²¡æœ‰è§„å®šæ•°æ®æ ¼å¼å’Œè§£ææ–¹æ³•ï¼Œå› æ­¤ä½¿ç”¨è€…å¯ä»¥æ ¹æ®åœºæ™¯è‡ªè¡Œåå•†ï¼š</p>
<pre><code class="hljs language-css" lang="css">SSEä¼ è¾“ï¼š
data: {"token":<span class="hljs-string">"Hello"</span>}
data: {"token":<span class="hljs-string">"world"</span>}
data: [DONE]

Streamable HTTPä¼ è¾“ï¼š
{"type":<span class="hljs-string">"token"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello"</span>}
{"type":<span class="hljs-string">"token"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"world"</span>}
{"type":<span class="hljs-string">"done"</span>}

</code></pre>
<p>ä»å†…å®¹ä¸Šå¯ä»¥çœ‹å‡ºï¼ŒSSEå¿…é¡»è§£ædata:å¼€å¤´ï¼Œè€ŒStreamableå¯ä¼ è¾“json string lineç­‰å¤šç§æ ¼å¼ã€‚</p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆMCPæ›´é’çStreamable HTTP</h3>





























<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ğŸŒ <strong>è·¨è¯­è¨€å…¼å®¹</strong></td><td>SSE åŸç”Ÿä»…é™æµè§ˆå™¨ï¼›Streamable HTTP é€‚é… SDKã€CLIã€æœåŠ¡ç«¯</td></tr><tr><td>ğŸ§± <strong>ç»“æ„çµæ´»</strong></td><td>æ”¯æŒ NDJSONã€JSON Linesã€Protocol Buffers</td></tr><tr><td>âš™ï¸ <strong>æ›´è´´è¿‘åº•å±‚ I/O</strong></td><td>æ–¹ä¾¿æ§åˆ¶ chunk å¤§å°ã€æµé€Ÿã€å…³é—­æœºåˆ¶</td></tr><tr><td>ğŸ§© <strong>å¤šç±»å‹è¾“å‡º</strong></td><td>AI ä¸æ­¢å‘æ–‡æœ¬ï¼Œè¿˜è¦å‘å›¾åƒã€è¯­éŸ³ã€å‡½æ•°è°ƒç”¨ç­‰</td></tr><tr><td>ğŸ“¦ <strong>å·¥å…·é“¾ç»Ÿä¸€</strong></td><td>ä¸ç°ä»£ fetch/Response API ä¸€è‡´</td></tr></tbody></table>
<p>å¯¹aiåº”ç”¨æ¥è¯´ï¼ŒSSEè¿‡äºæ­»æ¿ã€‚å®ƒè§„å®šäº†ä¼ è¾“æ ¼å¼ï¼Œç¼–ç æ–¹å¼ï¼Œæ— æ³•ä»¥äºŒè¿›åˆ¶ä¼ è¾“ã€‚åœ¨éæµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä½¿ç”¨æ›´åŸå§‹çš„Streamable HTTPæ˜¾ç„¶æ›´åˆé€‚ã€‚</p>
<h2 data-id="heading-3">æµå¼ä¼ è¾“çš„å®è·µå»ºè®®</h2>
<ol>
<li>å¦‚æœæ²¡æœ‰äºŒè¿›åˆ¶ä¼ è¾“éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨SSEåè®®ï¼ŒæœåŠ¡ç«¯ç¬¬ä¸‰æ–¹å¼€æºå·¥å…·ä¹Ÿè¾ƒå¤š</li>
<li>æµè§ˆå™¨ç«¯å»ºè®®ä½¿ç”¨fetchè€Œä¸æ˜¯EventSourceï¼Œä¾¿äºä¼ å‚å’Œè®¤è¯</li>
<li>æµè§ˆå™¨ç«¯ä½¿ç”¨AbortControllerå–æ¶ˆæµå¼ä¼ è¾“</li>
<li>æœåŠ¡ç«¯æ ¹æ®è¯·æ±‚å¤´çš„ Accept: 'text/event-stream' åˆ¤æ–­æ˜¯å¦ä»¥SSEæ ¼å¼ä¼ è¾“ï¼ˆå¦‚æœéœ€è¦åŒæ—¶æ”¯æŒæµå¼ä¼ è¾“å’Œæ™®é€šåˆ†é¡µä¼ è¾“ï¼‰</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Vue3 å›¾ç‰‡æ ‡æ³¨æ’ä»¶ AILabel]]></title>    <link>https://juejin.cn/post/7586615716907073536</link>    <guid>https://juejin.cn/post/7586615716907073536</guid>    <pubDate>2025-12-23T07:58:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586615716907073536" data-draft-id="7586610067568820224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Vue3 å›¾ç‰‡æ ‡æ³¨æ’ä»¶ AILabel"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-23T07:58:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å«æˆ‘AddV"/> <meta itemprop="url" content="https://juejin.cn/user/4860749051150"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Vue3 å›¾ç‰‡æ ‡æ³¨æ’ä»¶ AILabel
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4860749051150/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å«æˆ‘AddV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T07:58:40.000Z" title="Tue Dec 23 2025 07:58:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue3 å›¾ç‰‡æ ‡æ³¨æ’ä»¶ AILabel</h2>
<blockquote>
<p>è¿‘æœŸåœ¨åšä¸€ä¸ªå›¾ç‰‡æ ‡æ³¨çš„é¡¹ç›®ï¼Œå°±æ˜¯å±•ç¤ºä¸€å¼ å›¾ç‰‡ï¼Œç„¶ååœ¨å›¾ç‰‡ä¸Šæ‹–æ‹–æ‹½æ‹½ç»˜åˆ¶ä¸€ä¸ªä¸€ä¸ªçš„æ¡†æ¡†ï¼Œç„¶åæŠŠæ¡†æ¡†çš„ä½ç½®æ•°æ®ä¿å­˜èµ·æ¥ã€‚</p>
</blockquote>
<h3 data-id="heading-1">æ’ä»¶ AILabel</h3>
<p>NPMï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Failabel%3FactiveTab%3Dreadme" target="_blank" title="https://www.npmjs.com/package/ailabel?activeTab=readme" ref="nofollow noopener noreferrer">www.npmjs.com/package/ailâ€¦</a>
GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjlifeng%2Failabel" target="_blank" title="https://github.com/jlifeng/ailabel" ref="nofollow noopener noreferrer">github.com/jlifeng/ailâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ce4e65032a648a2b3f94f24018d3712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767081520&amp;x-signature=BptN%2FDjEmIcO5FggX0D6TSUbqCE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å•Šï¼Œå°±æ˜¯è¿™ä¸ª github ä¸Šé¢æˆ–è€…æ˜¯ npm ä¸Šé¢çš„é“¾æ¥éƒ½æ˜¯å¤±æ•ˆçš„äº†ï¼Œæ–‡æ¡£éƒ½æ‰¾ä¸åˆ°ï¼Œä¸‹é¢è´´ä¸€ä¸ªæˆ‘å¼„åˆ°çš„æ–‡æ¡£ï¼Œèµ·ç æˆ‘å‘æ–‡çš„æ—¶å€™è¿˜æ˜¯å¯ä»¥æŸ¥çœ‹çš„ï¼Œä¸çŸ¥é“åæœŸè¿˜èƒ½ä¸èƒ½ä¿ä½ï¼</p>
<p>æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fluchuanqi.github.io%2FAILabel%2Fdoc%2Fpreview%2F%231" target="_blank" title="https://luchuanqi.github.io/AILabel/doc/preview/#1" ref="nofollow noopener noreferrer">luchuanqi.github.io/AILabel/docâ€¦</a></p>
<h3 data-id="heading-2">å®‰è£… AILabel æ’ä»¶</h3>
<p>å®‰è£…æ’ä»¶å¾ˆç®€å•å“ˆï¼Œä¸€è¡Œå‘½ä»¤å®Œäº‹å„¿äº†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm i ailabel
</code></pre>
<p>é™å¾…å®‰è£…å®Œæˆå°±å¯ä»¥äº†ã€‚</p>
<h3 data-id="heading-3">ä½¿ç”¨ï¼ˆå…³é”®ä»£ç ï¼‰</h3>
<p><code>AILabel</code> ä½¿ç”¨ç±»ä¼¼äº<code>openlayer</code>ï¼Œä¹Ÿæ˜¯é‚£ç§ä¸€ä¸ªä¸€ä¸ªçš„å›¾å±‚å¾€ä¸ŠåŠ ï¼Œä¸‹é¢ç®€å•æ¥ä¸ªæ¡ˆä¾‹å“ˆï¼</p>
<h4 data-id="heading-4">1. è·å–å›¾ç‰‡ï¼Œè·å–åŸå§‹å›¾ç‰‡çš„å®½é«˜</h4>
<p>æ¯”å¦‚æˆ‘æœ‰ä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘éœ€è¦è·å–è¿™ä¸ªå›¾ç‰‡çš„<code>å®½é«˜</code>æ˜¯å¤šå°‘ï¼Œå› ä¸ºæˆ‘å¿…é¡»äºåŸå§‹å›¾ç‰‡å¤§å°ä¸€æ ·ï¼Œä¸ç„¶çš„è¯æˆ‘æ ‡æ³¨å‡ºæ¥çš„ä½ç½®å°±æ˜¯ä¸å‡†çš„ï¼Œå› æ­¤éœ€è¦å…ˆè·å–åŸå§‹å›¾ç‰‡å®½é«˜ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> url = <span class="hljs-title function_">ref</span>(<span class="hljs-string">"http://192.168.78.17:5173/static/images/1.jpg"</span>)  <span class="hljs-comment">// å›¾ç‰‡åœ°å€</span>

<span class="hljs-comment">// åŠ è½½å›¾ç‰‡ è·å–å›¾ç‰‡å®½é«˜</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadImage</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
  img.<span class="hljs-property">src</span> = url.<span class="hljs-property">value</span>
  img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
    imageWidth.<span class="hljs-property">value</span> = img.<span class="hljs-property">width</span>  <span class="hljs-comment">// å›¾ç‰‡å®½åº¦</span>
    imageHeight.<span class="hljs-property">value</span> = img.<span class="hljs-property">height</span>   <span class="hljs-comment">// å›¾ç‰‡é«˜åº¦</span>
  }
}
</code></pre>
<h4 data-id="heading-5">2. åˆå§‹åŒ– AILabel</h4>
<p>åˆå§‹åŒ–æ ‡æ³¨å°±æ˜¯ä½¿ç”¨ AILabelï¼Œç„¶åæŠŠå›¾ç‰‡ä½œä¸ºå›¾å±‚ä¸­æ·»åŠ åˆ° AILabel ä¸­ï¼ŒåŒæ—¶éœ€è¦åœ¨ AILabel ä¸­æ·»åŠ ä¸€ä¸ªæ ‡æ³¨å›¾å±‚ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆå§‹åŒ–æ ‡æ³¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initAnno</span> = (<span class="hljs-params"/>) =&gt; {
  gMap.<span class="hljs-property">value</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-title class_">Map</span>(<span class="hljs-string">'ed-video-mask'</span>, {
    <span class="hljs-attr">center</span>: { <span class="hljs-attr">x</span>: imageWidth.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: imageHeight.<span class="hljs-property">value</span> / <span class="hljs-number">2</span> },  <span class="hljs-comment">// è®¾ç½®ä¸€ä¸‹ä¸­å¿ƒç‚¹ä½ç½®</span>
    <span class="hljs-attr">zoom</span>: imageWidth.<span class="hljs-property">value</span>,  <span class="hljs-comment">// zoomä¸‹é¢å•ç‹¬è¯´ï¼Œå¾ˆé‡è¦</span>
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'PAN'</span>,   <span class="hljs-comment">// è®¾ç½®ç±»å‹ä¸ºå¹³ç§»ï¼ˆå¯ä»¥è®¾ç½®ç»˜åˆ¶çŸ©å½¢ã€å¤šè¾¹å½¢ã€åœ†å½¢ç­‰ç­‰ï¼Œé»˜è®¤æ‹–æ‹½å°±è¡Œäº†ï¼‰</span>
    <span class="hljs-attr">refreshDelayWhenZooming</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// è¿™äº›åœ¨æ–‡æ¡£é‡Œé¢çœ‹å°±è¡Œ</span>
    <span class="hljs-attr">zoomWhenDrawing</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">panWhenDrawing</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">withHotKeys</span>: <span class="hljs-literal">false</span>
  })

  <span class="hljs-comment">// å›¾ç‰‡å›¾å±‚ ï¼ˆç”¨äºå±•ç¤ºå›¾ç‰‡ï¼‰</span>
  gImageLayer.<span class="hljs-property">value</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Layer</span>.<span class="hljs-title class_">Image</span>(<span class="hljs-string">'image-layer'</span>, {
    <span class="hljs-attr">src</span>: url.<span class="hljs-property">value</span>,  <span class="hljs-comment">// å›¾ç‰‡åœ°å€url ï¼ˆæ¯”å¦‚ï¼šhttps://xxx.com/1.pngï¼‰</span>
    <span class="hljs-attr">width</span>: imageWidth.<span class="hljs-property">value</span>,  <span class="hljs-comment">// å›¾ç‰‡å®é™…å®½åº¦</span>
    <span class="hljs-attr">height</span>: imageHeight.<span class="hljs-property">value</span>,   <span class="hljs-comment">// å›¾ç‰‡å®é™…é«˜åº¦</span>
    <span class="hljs-attr">crossOrigin</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> }  <span class="hljs-comment">// åˆå§‹ä½ç½®</span>
  },
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'å›¾ç‰‡å›¾å±‚'</span> },
    { <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1</span> })

  gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">addLayer</span>(gImageLayer.<span class="hljs-property">value</span>)  <span class="hljs-comment">// å›¾ç‰‡å›¾å±‚æ·»åŠ åˆ° AILabel</span>

  <span class="hljs-comment">// æ ‡æ³¨å›¾å±‚ ï¼ˆç»˜åˆ¶çš„æ¡†æ¡†åœ¨è¿™ä¸ªå›¾å±‚ä¸Šï¼‰</span>
  gFeatureLayer.<span class="hljs-property">value</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Layer</span>.<span class="hljs-title class_">Feature</span>(
    <span class="hljs-string">'feature-layer'</span>,
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'æ ‡æ³¨å›¾å±‚'</span> },
    { <span class="hljs-attr">zIndex</span>: <span class="hljs-number">2</span> }
  )
  gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">addLayer</span>(gFeatureLayer.<span class="hljs-property">value</span>)   <span class="hljs-comment">// æ ‡æ³¨å›¾å±‚æ·»åŠ åˆ° AILabel</span>
}
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥äº†ã€‚</p>
<p>é‚£ä¸ª zoom æ˜¯å•¥æ„æ€å“ˆï¼Œå¾ˆé‡è¦ï¼Œæ¯”å¦‚æˆ‘çš„å›¾ç‰‡åŸå§‹åˆ†è¾¨ç‡å°ºå¯¸æ˜¯ <code>3000 * 2000</code>ï¼Œä½†æ˜¯æˆ‘ä»¬æ ‡æ³¨ç»™çš„å¯æ˜¯åŒºåŸŸä¸ä¸€å®šè¿™ä¹ˆå¤§å•Šï¼Œä¹Ÿè®¸åªæœ‰1000* 500ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥æ ‡æ³¨çš„è¯å¯èƒ½å°±æœ‰é—®é¢˜ï¼Œæ ‡æ³¨å‡ºæ¥çš„æ¡†æ¡†ä½ç½®å¯èƒ½å’Œå®é™…ç…§ç‰‡çš„ä½ç½®ä¸åŒ¹é…ï¼Œè¿™ä¸ªzoomå°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</p>
<p>è¿™ä¸ª <code>zoom å°±æ˜¯å›¾ç‰‡å®½åº¦çš„å®é™…å¤§å°</code>ã€‚</p>
<p>æ¯”å¦‚ï¼Œæˆ‘çš„æ ‡æ³¨å¯è§†åŒºåŸŸå¯èƒ½åªæœ‰1000pxï¼Œä½†æ˜¯å›¾ç‰‡å®é™…å®½åº¦æ˜¯3000pxï¼Œå›¾ç‰‡ä¸ºäº†åœ¨å¯è§†åŒºåŸŸæ”¾å¾—ä¸‹ï¼Œä¼šè‡ªåŠ¨æŠŠå›¾ç‰‡ç¼©å°ï¼Œè®©å›¾ç‰‡å¯ä»¥åœ¨å¯è§†åŒºåŸŸå®Œæ•´å¾—æ”¾ä¸‹ã€‚è¿™æ—¶å€™å…¶å®å›¾ç‰‡æ˜¯è¢«ç¼©å°çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ ‡æ³¨å‡ºæ¥çš„ä½ç½®å’Œå¤§å°å°±å’ŒåŸå°ºå¯¸çš„å¯¹åº”ä¸ä¸Šäº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è®¾ç½® <code>zoom ä¸º 3000</code>ï¼Œé‚£ä¹ˆå°±å¯¹åº”ä¸Šäº†ï¼Œæ‰€ä»¥ï¼Œ<code>zoom è®¾ç½®ä¸ºåŸå§‹å›¾ç‰‡å®½åº¦å°±å¯ä»¥</code>ï¼åˆ‡è®°åˆ‡è®°ï¼ä¸ç„¶æ ‡æ³¨å‡ºæ¥çš„ä½ç½®æ˜¯é”™çš„ï¼ï¼ï¼</p>
<h4 data-id="heading-6">3. ä¿®æ”¹ AILabel çš„æ¨¡å¼</h4>
<p>ä¸Šé¢é»˜è®¤è®¾ç½®äº† <code>PAN</code>ï¼Œå°±æ˜¯å¹³ç§»ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯å¯ä»¥æ‹–æ‹½å›¾ç‰‡ä½ç½®ï¼Œæ»šè½®å®ç°å›¾ç‰‡ç¼©æ”¾çš„ã€‚</p>
<p>å½“éœ€è¦é¼ æ ‡æ‹–æ‹½ç»˜åˆ¶çš„æ—¶å€™ï¼Œéœ€è¦æ”¹ä¸ºå…¶ä»–çš„æ¨¡å¼ï¼Œä¿®æ”¹æ–¹å¼ä¸ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">setMode</span>(mode)
</code></pre>
<p>å…¶ä¸­ mode çš„å€¼å¯ä»¥æ˜¯ï¼š<code>RECT</code>ã€<code>CIRCLE</code>ã€<code>POLYGON</code>ã€<code>POINT</code>ã€<code>LINE</code>ã€‚</p>

































<table><thead><tr><th>å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>RECT</td><td>çŸ©å½¢</td></tr><tr><td>CIRCLE</td><td>åœ†å½¢</td></tr><tr><td>POLYGON</td><td>å¤šè¾¹å½¢</td></tr><tr><td>POINT</td><td>ç‚¹</td></tr><tr><td>LINE</td><td>çº¿æ®µ</td></tr><tr><td>PAN</td><td>å¹³ç§»</td></tr></tbody></table>
<h4 data-id="heading-7">4. è®¾ç½®æ‹–æ‹½æ ·å¼</h4>
<p>åœ¨æˆ‘ä»¬è®¾ç½®äº† <code>gMap.value.setMode('RECT')</code>  ç»˜åˆ¶çŸ©å½¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŒ‰ä¸‹é¼ æ ‡å·¦é”®æ‹–æ‹½çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªé»˜è®¤æ ·å¼ï¼Œå½“ç„¶è¿™æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œè®¾ç½®èµ·æ¥å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">setDrawingStyle</span>({
	<span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">'#409EFF'</span>,  <span class="hljs-comment">// è®¾ç½®è¾¹æ¡†é¢œè‰²</span>
  <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">2</span>,   <span class="hljs-comment">// è®¾ç½®è¾¹æ¡†å®½åº¦</span>
  <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">'#409EFF44'</span>,   <span class="hljs-comment">// è®¾ç½®å¡«å……é¢œè‰²</span>
  <span class="hljs-attr">fill</span>: <span class="hljs-literal">true</span>,    <span class="hljs-comment">// å¯ç”¨å¡«å……</span>
  <span class="hljs-attr">stroke</span>: <span class="hljs-literal">true</span>   <span class="hljs-comment">// å¯ç”¨è¾¹æ¡†</span>
})
</code></pre>
<h4 data-id="heading-8">5. äº‹ä»¶</h4>
<p>äº‹ä»¶æ˜¯å•¥å‘¢ï¼Œæ¯”å¦‚ï¼Œæˆ‘ç»˜åˆ¶å®Œä¼šèµ°å“ªä¸ªå‡½æ•°ï¼Œé€‰ä¸­ä¼šèµ°é‚£ä¸ªå‡½æ•°ï¼Œä¿®æ”¹ä¹‹åä¼šèµ°å“ªä¸ªå‡½æ•°ç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°ç»‘å®šè¿™äº›äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»‘å®šäº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">bindEvents</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// ç»˜åˆ¶å®Œæˆå›è°ƒç›‘å¬</span>
  gMap.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'drawDone'</span>, <span class="hljs-function">(<span class="hljs-params">type, data</span>) =&gt;</span> {
    <span class="hljs-title function_">createAnnotation</span>(type, data)  <span class="hljs-comment">// èµ°äº†ä¸€ä¸ªå‡½æ•°</span>
  })
  <span class="hljs-comment">// è¦ç´ é€‰ä¸­å›è°ƒç›‘å¬(éPANæ¨¡å¼ä¸‹åŒå‡»é€‰ä¸­)</span>
  gMap.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'featureSelected'</span>, <span class="hljs-function">(<span class="hljs-params">feature</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (feature) { gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">setActiveFeature</span>(feature) }
  })
  <span class="hljs-comment">// è¦ç´ å–æ¶ˆé€‰ä¸­å›è°ƒç›‘å¬(é€‰ä¸­åç‚¹å‡»å…¶ä»–ä½ç½®å–æ¶ˆé€‰ä¸­)</span>
  gMap.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'featureUnselected'</span>, <span class="hljs-function">() =&gt;</span> {
    gMap.<span class="hljs-property">value</span>.<span class="hljs-title function_">setActiveFeature</span>(<span class="hljs-literal">null</span>)
  })
  <span class="hljs-comment">// è¦ç´ æ›´æ–°å›è°ƒç›‘å¬(é€‰ä¸­åç¼–è¾‘å®Œæˆå›è°ƒ)</span>
  gMap.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'featureUpdated'</span>, <span class="hljs-function">(<span class="hljs-params">feature, shape</span>) =&gt;</span> {
    feature.<span class="hljs-title function_">updateShape</span>(shape)
  })
}
</code></pre>
<p>æˆ‘ä»¬å¼€å¯ç»˜åˆ¶ä¹‹åï¼Œç»˜åˆ¶å®Œä¸€æ¾æ‰‹å‘ç°æ¡†æ¡†æ²¡äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ç»˜åˆ¶ä¸Šå»ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç»˜åˆ¶å®Œæˆä¹‹åçš„å›è°ƒé‡Œé¢ï¼Œè·å¾—äº†ç»˜åˆ¶çš„æ•°æ®ï¼Œç„¶åæŠŠè¿™ä¸ªæ•°æ®è‡ªå·±æ‰‹å†™ä¸€ä¸ªæ¡†æ¡†æ”¾åˆ°å›¾å±‚ä¸Šé¢å»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ·»åŠ è¦ç´ </span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createAnnotation</span> = (<span class="hljs-params">type, shape</span>) =&gt; {
  <span class="hljs-keyword">const</span> id = <span class="hljs-string">`<span class="hljs-subst">${type}</span>_<span class="hljs-subst">${uuid4()}</span>`</span>  <span class="hljs-comment">// éšæœºID</span>
  <span class="hljs-keyword">let</span> feature = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">let</span> style = {
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">'#409EFF'</span>,  <span class="hljs-comment">// è®¾ç½®è¾¹æ¡†é¢œè‰²</span>
 		<span class="hljs-attr">lineWidth</span>: <span class="hljs-number">2</span>,   <span class="hljs-comment">// è®¾ç½®è¾¹æ¡†å®½åº¦</span>
    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">'#409EFF44'</span>,   <span class="hljs-comment">// è®¾ç½®å¡«å……é¢œè‰²</span>
    <span class="hljs-attr">fill</span>: <span class="hljs-literal">true</span>,    <span class="hljs-comment">// å¯ç”¨å¡«å……</span>
    <span class="hljs-attr">stroke</span>: <span class="hljs-literal">true</span>   <span class="hljs-comment">// å¯ç”¨è¾¹æ¡†</span>
  }
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'RECT'</span>) {   <span class="hljs-comment">// ç»˜åˆ¶çŸ©å½¢</span>
    feature = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Feature</span>.<span class="hljs-title class_">Rect</span>(id, shape, <span class="hljs-literal">null</span>, style)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'CIRCLE'</span>) {  <span class="hljs-comment">// ç»˜åˆ¶åœ†å½¢</span>
    feature = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Feature</span>.<span class="hljs-title class_">Circle</span>(id, shape, <span class="hljs-literal">null</span>, style)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'POLYGON'</span>) {  <span class="hljs-comment">// ç»˜åˆ¶å¤šè¾¹å½¢</span>
    feature = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Feature</span>.<span class="hljs-title class_">Polygon</span>(id, { <span class="hljs-attr">points</span>: shape }, <span class="hljs-literal">null</span>, style)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'POINT'</span>) {  <span class="hljs-comment">// ç»˜åˆ¶ç‚¹</span>
    feature = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Feature</span>.<span class="hljs-title class_">Point</span>(id, shape, <span class="hljs-literal">null</span>, style)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'LINE'</span>) {   <span class="hljs-comment">// ç»˜åˆ¶çº¿</span>
    feature = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AILabel</span>.<span class="hljs-property">Feature</span>.<span class="hljs-title class_">Line</span>(id, shape, <span class="hljs-literal">null</span>, style)
  }
  gFeatureLayer.<span class="hljs-property">value</span>.<span class="hljs-title function_">addFeature</span>(feature)
  <span class="hljs-keyword">return</span> feature;
}
</code></pre>
<p>ç„¶åå°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd4b27437f4493e8fb6f0711774ae71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767081520&amp;x-signature=KWeIW3cwZWib8UY%2BfcG%2BwOdXgHA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸åªæ˜¯ä½œå“é›†ï¼šç”¨ Next.js æ‰“é€ æˆ‘çš„æ•°å­—ä½œå“åº“]]></title>    <link>https://juejin.cn/post/7586540799251333174</link>    <guid>https://juejin.cn/post/7586540799251333174</guid>    <pubDate>2025-12-23T01:31:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799251333174" data-draft-id="7586504691846447113" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸åªæ˜¯ä½œå“é›†ï¼šç”¨ Next.js æ‰“é€ æˆ‘çš„æ•°å­—ä½œå“åº“"/> <meta itemprop="keywords" content="Next.js,React.js"/> <meta itemprop="datePublished" content="2025-12-23T01:31:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½é›¾èŒ«èŒ«ä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/1917147257534279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸åªæ˜¯ä½œå“é›†ï¼šç”¨ Next.js æ‰“é€ æˆ‘çš„æ•°å­—ä½œå“åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1917147257534279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½é›¾èŒ«èŒ«ä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:31:51.000Z" title="Tue Dec 23 2025 01:31:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p><strong>Hiï¼Œå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç™½é›¾èŒ«èŒ«ä¸¶ï¼</strong></p>
<p>å¾ˆä¹…æ²¡å’Œå¤§å®¶è§é¢äº†ï¼Œè¯´æ¥æƒ­æ„§ï¼Œè‡ªä»AIæˆäº†â€œå…¨èƒ½åŠ©æ‰‹â€ï¼Œæˆ‘è¿™ä¸ªâ€œç å­—å·¥â€çš„ç¬”å°±æœ‰ç‚¹é”ˆäº†â€”â€”æ„Ÿè§‰å¾ˆå¤šæŠ€æœ¯é—®é¢˜ï¼Œè¿˜æ²¡ç­‰æˆ‘å†™å®Œæ–‡ç« ï¼ŒAIä¸‰è¨€ä¸¤è¯­å°±è§£é‡Šæ¸…æ¥šäº†ã€‚å°‘äº†ç‚¹è¾“å‡ºæ·±åº¦å†…å®¹çš„åŠ¨åŠ›ï¼Œæ‰‹ä¹Ÿå°±æ…¢æ…¢æ‡’äº†ã€‚</p>
<p>ä¸è¿‡æœ€è¿‘ï¼Œæˆ‘åˆæ‰¾åˆ°äº†ä¸€ç‚¹ä¸ä¸€æ ·çš„æ„Ÿè§‰ã€‚å·¥ä½œä¸Šæ¥è§¦ä¸åˆ°ï¼Œæˆ‘å°±è‡ªå·±åŠ¨æ‰‹â€”â€”è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨æŠ˜è…¾ <strong>Next.js + Shadcn UI</strong> è¿™å¥—ç»„åˆã€‚ä¸å¾—ä¸è¯´ï¼Œç¡®å®å¾ˆç«ï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆé¡ºæ‰‹ï¼Œä»å¤´æ­ä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹ï¼Œåè€Œè®©æˆ‘æ‰¾å›äº†é‚£ç§è¾¹è¸©å‘è¾¹å­¦ä¹ çš„è¸å®æ„Ÿã€‚</p>
<p>ä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«çš„ï¼Œæ˜¯æˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åšå‡ºæ¥çš„ä¸€ä¸ªå°æˆæœï¼š<strong>ä¸€ä¸ªä¸ªäººä½œå“ä¿¡æ¯å±•ç¤ºçš„æ¨¡æ¿</strong>ã€‚æˆ‘è§‰å¾—å®ƒè®¾è®¡å¾—æŒºå¹²å‡€ï¼Œç»“æ„ä¹Ÿæ¸…æ™°ï¼Œä¸ç®¡æ˜¯æ‹¿æ¥å³ç”¨ï¼Œè¿˜æ˜¯å½“ä½œå­¦ä¹ å‚è€ƒï¼Œåº”è¯¥éƒ½è¿˜ä¸é”™ã€‚å¦‚æœä½ ä¹Ÿåœ¨æ‰¾ç±»ä¼¼çš„çµæ„Ÿæˆ–æ¨¡ç‰ˆï¼Œä¸å¦¨çœ‹çœ‹ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä½ ã€‚</p>
<h2 data-id="heading-1"><strong>çµæ„Ÿæ¥æº</strong></h2>
<p>åœ¨æˆ‘æ¢ç´¢ Shadcn UI çš„è¿‡ç¨‹ä¸­ï¼Œå¶ç„¶å‘ç°äº†ä¸€ä¸ªè®¾è®¡éå¸¸å‡ºè‰²çš„æ¨¡æ¿ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmagicui.design%2Fdocs%2Ftemplates%2Fportfolio" target="_blank" title="https://magicui.design/docs/templates/portfolio" ref="nofollow noopener noreferrer">magicui.design/docs/templaâ€¦</a></p>
<p>æœ€åˆæˆ‘åªæ˜¯æŠŠå®ƒé›†æˆåœ¨è‡ªå·±æ­£åœ¨æ£é¼“çš„é¡¹ç›®é‡Œè¯•è¯•æ°´ï¼Œä½†å¾ˆå¿«å‘ç°ï¼Œè¿™ä¸ªé¡µé¢æœ¬èº«å°±è¶³å¤Ÿå®Œæ•´å’Œä¼˜é›…â€”â€”å³ä½¿ç‹¬ç«‹å‡ºæ¥ï¼Œä¹Ÿå®Œå…¨èƒ½ä½œä¸ºä¸€ä¸ªä¸“ä¸šçš„ä½œå“å±•ç¤ºç«™ç‚¹ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å†³å®šæŠŠå®ƒå•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œæ­å»ºæˆäº†ä¸€ä¸ªä¸“æ³¨çš„ä½œå“å±•ç¤ºé¡¹ç›®ã€‚åœ¨ä¿ç•™å…¶åŸè®¾è®¡ç²¾é«“çš„åŸºç¡€ä¸Šï¼Œæˆ‘æ ¹æ®è‡ªå·±çš„åå¥½åšäº†ä¸€äº›è°ƒæ•´ï¼ŒåŠ å…¥äº†ä¸€äº›ä¸ªæ€§åŒ–çš„äº¤äº’ç»†èŠ‚å’ŒåŠ¨ç”»æ•ˆæœï¼Œè®©æ•´ä¸ªç•Œé¢åœ¨ç®€æ´ä¹‹ä¸­å¤šäº†ä¸€ç‚¹çµåŠ¨çš„æ°”æ¯ã€‚</p>
<p>æœ€ç»ˆå‘ˆç°å‡ºæ¥çš„ï¼Œå°±æ˜¯ç°åœ¨è¿™ä¸ªç‰ˆæœ¬â€”â€”æ•´ä½“ä¿æŒå¹²å‡€åˆ©è½ï¼Œåˆä¸å¤±ç»†èŠ‚å¤„çš„å·§æ€ã€‚å¦‚æœä½ ä¹Ÿåœ¨å¯»æ‰¾ä¸€ä¸ªè½»é‡ã€ç°ä»£ä¸”æ˜“äºå®šåˆ¶çš„ä½œå“é›†æ¨¡æ¿ï¼Œæˆ–è®¸è¿™ä¸ªå®ç°èƒ½ç»™ä½ å¸¦æ¥ä¸€äº›çµæ„Ÿã€‚</p>
<h2 data-id="heading-2"><strong>ä¸ºä»€ä¹ˆæ¯ä¸ªå¼€å‘è€…éƒ½éœ€è¦ä¸€ä¸ªä½œå“ç«™ç‚¹ï¼Ÿ</strong></h2>
<p>ä½œä¸ºå¼€ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨åˆ›é€ ä»·å€¼ï¼šåœ¨ GitHub æäº¤ä»£ç ã€åœ¨æ˜é‡‘å†™æŠ€æœ¯æ–‡ç« ã€åœ¨å¼€æºç¤¾åŒºè´¡çŒ®æ–¹æ¡ˆâ€¦â€¦</p>
<blockquote>
<p>ä½†è¿™äº›æˆæœå¾€å¾€æ•£è½åœ¨ä¸åŒçš„å¹³å°ï¼Œåƒä¸€åº§åº§ä¿¡æ¯å­¤å²›ã€‚é¢è¯•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åå¤è§£é‡Šè¿™äº›åˆ†æ•£çš„å†…å®¹ï¼›æ±‚èŒæ—¶ï¼Œç®€å†ä¸Šçš„çŸ­çŸ­å‡ è¡Œæè¿°ï¼Œéš¾ä»¥æ‰¿è½½æˆ‘ä»¬çœŸå®çš„æŠ€æœ¯æ€è€ƒä¸é¡¹ç›®æ·±åº¦ã€‚</p>
</blockquote>
<p>æ„å»ºä¸€ä¸ª<strong>ç»Ÿä¸€çš„æŠ€æœ¯èº«ä»½</strong>ï¼Œå°†åˆ†æ•£çš„é¡¹ç›®ã€æ–‡ç« ã€æ•°æ®å¯è§†åŒ–æ•´åˆåœ¨ä¸€ä¸ªä¸“ä¸šã€å¯è®¿é—®çš„ç©ºé—´ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªä½œå“é›†ï¼Œæ›´æ˜¯ï¼š</p>
<p>â€¢ <strong>é¢è¯•çš„éšå½¢åŠ åˆ†é¡¹</strong>â€”â€”å½“é¢è¯•å®˜é€šè¿‡ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ç«™ç‚¹çœ‹åˆ°ä½ çš„å®Œæ•´æŠ€æœ¯è·¯å¾„ã€çœŸå®çš„é¡¹ç›®æ€è€ƒè¿‡ç¨‹ï¼Œè¿™ç§ä½“éªŒè¿œèƒœè¿‡åƒç¯‡ä¸€å¾‹çš„ç®€å†</p>
<p>â€¢ <strong>æŠ€æœ¯èƒ½åŠ›çš„ç³»ç»Ÿè¯æ˜</strong>â€”â€”å¯è§†åŒ–ä½ çš„ GitHub è´¡çŒ®ã€æŠ€èƒ½é›·è¾¾å›¾ã€é¡¹ç›®è¿­ä»£å†å²ï¼Œè®©æŠ½è±¡çš„èƒ½åŠ›å˜å¾—å…·ä½“å¯è§</p>
<h2 data-id="heading-3">æŠ€æœ¯æ ˆ</h2>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- æ¡†æ¶ï¼šNext.js 16ã€React 19ã€TypeScript 5</span>
<span class="hljs-deletion">- æ ·å¼ï¼šTailwind CSS v4ã€tw-animate-css</span>
<span class="hljs-deletion">- å¯è§†åŒ–ï¼šRecharts</span>
<span class="hljs-deletion">- å…¶ä»–ï¼šahooksã€enum-plusã€lucide-react</span>
</code></pre>
<h2 data-id="heading-4">ç‰¹æ€§</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> åŸºäº <span class="hljs-code">`Next.js App Router`</span> çš„ç°ä»£æ¶æ„
<span class="hljs-bullet">-</span> ä½¿ç”¨ <span class="hljs-code">`Tailwind CSS v4`</span> ä¸è‡ªå®šä¹‰ä¸»é¢˜å˜é‡ï¼Œæ”¯æŒæš—è‰²æ¨¡å¼
<span class="hljs-bullet">-</span> GitHub ä»“åº“ä¸è´¡çŒ®ç»Ÿè®¡ API
<span class="hljs-bullet">-</span> Halo æ–‡ç« åˆ—è¡¨èšåˆ API
<span class="hljs-bullet">-</span> Recharts æ•°æ®å›¾è¡¨å¯è§†åŒ–
<span class="hljs-bullet">-</span> å®Œæ•´ SEO æ–‡ä»¶ï¼š<span class="hljs-code">`robots`</span>ã€<span class="hljs-code">`sitemap`</span>ã€<span class="hljs-code">`manifest`</span>
<span class="hljs-bullet">-</span> é›†æˆ Umamiã€Microsoft Clarityã€Google Analyticsï¼ˆç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å¯ç”¨ï¼‰
</code></pre>
<h2 data-id="heading-5">ç¯å¢ƒå˜é‡</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code>ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç«™ç‚¹ä¿¡æ¯</span>
<span class="hljs-attr">NEXT_PUBLIC_NAME</span>=<span class="hljs-string">"ä½ çš„åå­—"</span>
<span class="hljs-attr">NEXT_PUBLIC_APP_NAME</span>=<span class="hljs-string">"Portfolio"</span>
<span class="hljs-attr">NEXT_PUBLIC_DESC</span>=<span class="hljs-string">"ä¸€å¥è¯ç®€ä»‹/ç«™ç‚¹æè¿°"</span>
<span class="hljs-attr">NEXT_PUBLIC_APP_DOMAIN</span>=<span class="hljs-string">"https://your-domain.com"</span>
<span class="hljs-attr">NEXT_PUBLIC_THEME</span>=<span class="hljs-string">"light"</span> <span class="hljs-comment"># å¯é€‰ï¼šlight | dark | system</span>

<span class="hljs-comment"># åˆ†æç»Ÿè®¡ï¼ˆç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆï¼‰</span>
<span class="hljs-attr">NEXT_PUBLIC_UMAMI_ID</span>=<span class="hljs-string">""</span>
<span class="hljs-attr">NEXT_PUBLIC_CLARITY_ID</span>=<span class="hljs-string">""</span>
<span class="hljs-attr">NEXT_PUBLIC_GA_ID</span>=<span class="hljs-string">""</span>

<span class="hljs-comment"># GitHub API</span>
<span class="hljs-attr">GITHUB_TOKEN</span>=<span class="hljs-string">""</span> <span class="hljs-comment"># åªè¯» Token</span>
<span class="hljs-attr">NEXT_PUBLIC_GITHUB_USERNAME</span>=<span class="hljs-string">"your-github-username"</span>

<span class="hljs-comment"># Halo API</span>
<span class="hljs-attr">HALO_TOKEN</span>=<span class="hljs-string">""</span> <span class="hljs-comment"># åªè¯» Token</span>
</code></pre>
<h2 data-id="heading-6">æ•ˆæœé¢„è§ˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/950a3c041940463abe0c22cf41401586~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96Zu-6Iyr6Iyr5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767058990&amp;x-signature=6LfXOaKkPm6krsu4phL7HK%2BKWas%3D" alt="PixPin_2025-12-23_09-27-56.png" loading="lazy"/></p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>è¿™ä¸ªåŸºäº Next.js + Shadcn UI æ„å»ºçš„ä¸ªäººä½œå“å±•ç¤ºæ¨¡æ¿ï¼Œæ˜¯æˆ‘åœ¨æ¢ç´¢ç°ä»£å‰ç«¯æŠ€æœ¯æ ˆè¿‡ç¨‹ä¸­çš„ä¸€æ¬¡å®è·µä¸æ²‰æ·€ã€‚</p>
<p>æŠ€æœ¯æœ¬èº«æ˜¯å·¥å…·ï¼Œä½†å¦‚ä½•ç”¨å®ƒæ›´å¥½åœ°è¡¨è¾¾è‡ªå·±ã€å‘ˆç°ä»·å€¼ï¼Œæ‰æ˜¯æ›´æœ‰æ„ä¹‰çš„æ¢ç´¢ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ„å»ºä¸ªäººé¡¹ç›®ã€æ•´ç†ä½œå“é›†ï¼Œæˆ–å•çº¯æƒ³å­¦ä¹  Next.js å…¨æ ˆå®è·µï¼Œè¿™ä¸ªé¡¹ç›®æˆ–è®¸èƒ½ç»™ä½ ä¸€äº›å‚è€ƒã€‚</p>
<p>åœ¨çº¿é¢„è§ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fportfolio.baiwumm.com" target="_blank" title="https://portfolio.baiwumm.com" ref="nofollow noopener noreferrer">portfolio.baiwumm.com</a></p>
<p>Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbaiwumm%2Fportfolio" target="_blank" title="https://github.com/baiwumm/portfolio" ref="nofollow noopener noreferrer">github.com/baiwumm/porâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Tauri (22)â€”â€”è®© `Esc` å¿«æ·é”®ä¸€å±‚å±‚é€€å‡ºçš„åˆ†å±‚å…³é—­æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7586585688004411433</link>    <guid>https://juejin.cn/post/7586585688004411433</guid>    <pubDate>2025-12-23T02:15:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586585688004411433" data-draft-id="7586555198115594246" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Tauri (22)â€”â€”è®© `Esc` å¿«æ·é”®ä¸€å±‚å±‚é€€å‡ºçš„åˆ†å±‚å…³é—­æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,APP"/> <meta itemprop="datePublished" content="2025-12-23T02:15:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Tauri (22)â€”â€”è®© `Esc` å¿«æ·é”®ä¸€å±‚å±‚é€€å‡ºçš„åˆ†å±‚å…³é—­æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T02:15:10.000Z" title="Tue Dec 23 2025 02:15:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆ <code>Esc</code> ä¼šå˜å¾—â€œä¸å¯æ§â€</h2>
<p>åœ¨ Coco é‡Œï¼Œ<code>Esc</code> åŒæ—¶æ‰¿æ‹…äº†å¾ˆå¤šâ€œé€€å‡º/å…³é—­â€çš„èŒè´£ï¼š</p>
<ul>
<li>é€€å‡ºè¾“å…¥ï¼ˆInput/Textareaï¼‰ç¼–è¾‘æ€</li>
<li>å…³é—­å¼¹å±‚ï¼ˆPopover / èœå•ï¼‰</li>
<li>å…³é—­å†å²é¢æ¿ï¼ˆHistory Panelï¼‰</li>
<li>æœ€åéšè—çª—å£ï¼ˆTauri <code>hideWindow</code>ï¼‰</li>
</ul>
<p><strong>é—®é¢˜åœ¨äº</strong>ï¼šè¿™äº›å±‚çº§çš„ UI å¾€å¾€åŒæ—¶å­˜åœ¨ã€‚å¦‚æœä¸åšäº‹ä»¶éš”ç¦»ï¼Œ<code>Esc</code> å¯èƒ½ â€œä¸€é”®å…³é—­æ‰€æœ‰â€ï¼Œæˆ–è€…è¢«æŸä¸€å±‚åæ‰å¯¼è‡´ â€œè¯¥å…³çš„ä¸å…³â€ã€‚</p>
<p>æœ¬æ¬¡æ”¹åŠ¨çš„æ ¸å¿ƒï¼Œå°±æ˜¯æŠŠ <code>Esc</code> åšæˆ<strong>å¯é¢„æœŸçš„ä¼˜å…ˆçº§é“¾è·¯</strong>ï¼Œå¹¶é€šè¿‡ <strong><code>stopPropagation</code> + DOM çŠ¶æ€åˆ¤å®š</strong>è®©å„å±‚å„å¸å…¶èŒã€‚</p>
<hr/>
<h2 data-id="heading-1">è®¾è®¡ç›®æ ‡ï¼š<code>Esc</code> çš„å±‚çº§ä¼˜å…ˆçº§ï¼ˆä»è¿‘åˆ°è¿œï¼‰</h2>
<p>æˆ‘ä»¬æŠŠ <code>Esc</code> å®šä¹‰ä¸º â€œä»ç”¨æˆ·å½“å‰æ“ä½œç‚¹å¼€å§‹é€å±‚é€€å‡ºâ€ï¼Œä¼˜å…ˆçº§å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å¦‚æœæ­£åœ¨è¾“å…¥</strong>ï¼šå…ˆ blurï¼ˆé€€å‡ºè¾“å…¥æ€ï¼‰ï¼Œä¸åšå…¶å®ƒå…³é—­</li>
<li><strong>å¦‚æœåœ¨ Popover é‡Œ</strong>ï¼šå…³é—­å½“å‰ Popoverï¼ˆä½†ç¬¬ä¸€ä¸‹ <code>Esc</code> è‹¥åœ¨è¾“å…¥æ¡†é‡Œï¼Œä»å…ˆ blurï¼‰</li>
<li><strong>å¦‚æœä¸Šä¸‹æ–‡èœå•æ‰“å¼€</strong>ï¼šå…³é—­ä¸Šä¸‹æ–‡èœå•</li>
<li><strong>å¦‚æœ History Panel æ‰“å¼€</strong>ï¼šå…³é—­ History Panel</li>
<li><strong>å¦‚æœ Extension View æ‰“å¼€</strong>ï¼šä¸éšè—çª—å£ï¼ˆäº¤ç»™ Extension è‡ªå·±å¤„ç†æˆ–ä¿æŒç°çŠ¶ï¼‰</li>
<li><strong>å¦åˆ™</strong>ï¼šéšè—çª—å£ï¼ˆ<code>hideWindow()</code>ï¼‰</li>
</ol>
<p>è¿™æ¡é“¾è·¯çš„å…³é”®ç‚¹æ˜¯ï¼š<strong>â€œå†…å±‚ UI å¿…é¡»èƒ½æ‹¦æˆªå¹¶æ¶ˆè´¹ Escï¼Œé¿å…å†’æ³¡åˆ°å…¨å±€å¯¼è‡´ç›´æ¥ hideWindowâ€</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">å…¨å±€ <code>Esc</code>ï¼šç»Ÿä¸€å…¥å£ä¸â€œæœ€åå…œåº•â€</h2>
<p>å…¨å±€ <code>Esc</code> ç”± <code>LayoutOutlet</code> åˆå§‹åŒ–ï¼ˆ<code>src/routes/outlet.tsx</code> è°ƒç”¨ <code>useEscape()</code>ï¼‰ï¼Œæ ¸å¿ƒé€»è¾‘åœ¨ <code>src/hooks/useEscape.ts</code>ï¼š</p>
<ul>
<li>å…ˆåš <code>event.preventDefault()</code> + <code>event.stopPropagation()</code>ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
<li>å†æŒ‰ä¼˜å…ˆçº§å¤„ç†ï¼š
<ul>
<li>è¾“å…¥ blurï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
<li>å…³é—­å³é”®èœå•ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
<li>å…³é—­ History Panelï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
<li>Extension æ‰“å¼€æ—¶ç›´æ¥ <code>return</code>ï¼Œé¿å…è¯¯éšè—ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
<li>æœ€åéšè—çª—å£ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
</ul>
</li>
</ul>
<p>è¿™é‡Œæœ‰ä¸ªé‡è¦çš„å°ä¼˜åŒ–ï¼šå›è°ƒé‡Œç”¨ <code>useSearchStore.getState()</code> å–æœ€æ–°çŠ¶æ€ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰ï¼Œé¿å…å¿«æ·é”®å›è°ƒæ•è·æ—§çŠ¶æ€å¯¼è‡´ â€œæŒ‰äº†æ²¡ååº”â€ã€‚</p>
<hr/>
<h2 data-id="heading-3">Popover çš„ <code>Esc</code>ï¼šæŠŠâ€œå…³é—­å¼¹å±‚â€ä»å…¨å±€å‰¥ç¦»å‡ºæ¥</h2>
<p>çœŸæ­£å†³å®š â€œEsc æ˜¯å¦ä¸€å±‚å±‚é€€å‡ºâ€ çš„å…³é”®ï¼Œæ˜¯ Popover å¯¹ Esc çš„æ¶ˆè´¹ã€‚</p>
<p>åœ¨ Radix Popover ä¸­ï¼Œ<code>PopoverContent</code> æä¾›äº† <code>onEscapeKeyDown</code>ã€‚æœ¬æ¬¡åœ¨ç»„ä»¶å°è£…å±‚ç»Ÿä¸€åŠ å…¥ï¼š</p>
<ul>
<li>æ–‡ä»¶ï¼š<code>src/components/ui/popover.tsx</code></li>
<li>é€»è¾‘ï¼š<code>src/components/ui/popover.tsx</code></li>
</ul>
<p>è¡Œä¸ºæ˜¯ï¼š</p>
<ol>
<li><code>stopPropagation</code> + <code>preventDefault</code>ï¼ˆé¿å… Esc å†’æ³¡åˆ°å…¨å±€ <code>useEscape</code>ï¼Œä¹Ÿé¿å…æµè§ˆå™¨é»˜è®¤è¡Œä¸ºï¼‰</li>
<li>å¦‚æœç„¦ç‚¹åœ¨è¾“å…¥æ¡†/æ–‡æœ¬åŸŸï¼šåª blurï¼ˆ<code>src/components/ui/popover.tsx</code>ï¼‰
<ul>
<li>è¿™ä¿è¯äº†â€œç¬¬ä¸€ä¸‹ Esc é€€å‡ºè¾“å…¥â€ï¼Œè€Œä¸æ˜¯ç›´æ¥å…³æ‰ popover</li>
</ul>
</li>
<li>å¦åˆ™ï¼šæ‰¾åˆ°å½“å‰æ‰“å¼€çš„ popover trigger å¹¶ <code>click()</code>ï¼Œä»è€Œèµ° Radix çš„æ­£å¸¸å…³é—­æµç¨‹ï¼ˆ<code>src/components/ui/popover.tsx</code>ï¼‰</li>
</ol>
<p>ä¸ºäº†æ‰¾åˆ° â€œå½“å‰æ‰“å¼€çš„ triggerâ€ï¼Œæ–°å¢äº†é€‰æ‹©å™¨å¸¸é‡ï¼š</p>
<ul>
<li><code>OPENED_POPOVER_TRIGGER_SELECTOR</code>ï¼š<code>src/constants/index.ts</code></li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆè¦æ”¹é€‰æ‹©å™¨ï¼šä»â€œè‡ªå®šä¹‰æ ‡è®°â€åˆ° Radix çš„çœŸå® DOM</h2>
<p>è¿™æ¬¡å¯¹ Popover çš„è¯†åˆ«æ–¹å¼ä¹Ÿåšäº†ç»Ÿä¸€è°ƒæ•´ï¼š</p>
<ul>
<li><code>POPOVER_PANEL_SELECTOR</code> æ”¹ä¸º Radix wrapperï¼š<code>src/constants/index.ts</code>
<ul>
<li>å˜æˆ <code>"[data-radix-popper-content-wrapper]"</code>ï¼Œç”¨äºæ›´å¯é åœ°åˆ¤æ–­â€œç°åœ¨æ˜¯å¦å­˜åœ¨ popoverâ€</li>
</ul>
</li>
<li><code>HISTORY_PANEL_ID</code> / <code>CONTEXT_MENU_PANEL_ID</code> ä» <code>headlessui-...</code> å‘½åè¿ç§»åˆ° <code>popover-panel:...</code>ï¼ˆ<code>src/constants/index.ts</code>ï¼‰
<ul>
<li>é…åˆå½“å‰å®é™…æ¸²æŸ“ç»“æ„ï¼Œé¿å… ID ä¸ä¸€è‡´å¯¼è‡´å…³é—­é€»è¾‘å¤±æ•ˆ</li>
</ul>
</li>
</ul>
<p>å¯¹åº”çš„ History å…³é—­åŠ¨ä½œèµ°çš„æ˜¯ç‚¹å‡» triggerï¼š</p>
<ul>
<li><code>closeHistoryPanel()</code>ï¼š<code>src/utils/index.ts</code></li>
<li>å®ƒé€šè¿‡ <code>[aria-controls="${HISTORY_PANEL_ID}"]</code> æ‰¾åˆ°æŒ‰é’®å¹¶ç‚¹å‡»ï¼ˆ<code>src/utils/index.ts</code>ï¼‰</li>
<li><code>useEscape</code> ç”¨ <code>document.getElementById(HISTORY_PANEL_ID)</code> åˆ¤æ–­å†å²é¢æ¿æ˜¯å¦å­˜åœ¨ï¼ˆ<code>src/hooks/useEscape.ts</code>ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5"><code>VisibleKey</code> ä¸ â€œåœ¨ Popover é‡Œæ˜¾ç¤ºå¿«æ·é”®æç¤ºâ€</h2>
<p><code>VisibleKey</code> éœ€è¦çŸ¥é“ â€œå½“å‰å¿«æ·é”®æç¤ºæ˜¯å¦åº”è¯¥æ˜¾ç¤ºâ€ï¼Œå°¤å…¶æ˜¯åœ¨ popover æ‰“å¼€æ—¶ï¼Œåªåœ¨ popover å†…çš„å…ƒç´ ä¸Šæ˜¾ç¤ºã€‚</p>
<p>å®ƒé€šè¿‡ï¼š</p>
<ul>
<li><code>POPOVER_PANEL_SELECTOR</code> è·å– popover é¢æ¿ wrapperï¼ˆ<code>src/components/Common/VisibleKey.tsx</code>ï¼‰</li>
<li><code>OPENED_POPOVER_TRIGGER_SELECTOR</code> è·å–æ‰“å¼€çš„ triggerï¼ˆ<code>src/components/Common/VisibleKey.tsx</code>ï¼‰</li>
<li>åˆ¤æ–­å½“å‰ç»„ä»¶æ˜¯å¦åœ¨ panel æˆ– trigger å†…ï¼ˆ<code>src/components/Common/VisibleKey.tsx</code>ï¼‰</li>
</ul>
<p>è¿™æ ·ä¸€æ¥ï¼Œâ€œæ‰“å¼€ popover åï¼Œå¿«æ·é”®æç¤ºåªåœ¨å½“å‰ popover çš„äº¤äº’åŒºåŸŸå‡ºç°â€ï¼Œä¸ä¼šæ±¡æŸ“å¤–å±‚ UIã€‚</p>
<hr/>
<h2 data-id="heading-6">è¾“å…¥æ¡†ç»„ä»¶æ”¶æ•›ï¼šåˆ é™¤ <code>PopoverInput</code>ï¼Œç»Ÿä¸€ç”¨ shadcn <code>Input</code></h2>
<p><code>src/components/Common/PopoverInput.tsx</code> è¢«åˆ é™¤ï¼Œç›¸å…³ä½ç½®æ”¹ä¸ºç›´æ¥ä½¿ç”¨ <code>src/components/ui/input</code>ï¼š</p>
<ul>
<li><code>SearchPopover</code>ï¼š<code>src/components/Search/SearchPopover.tsx</code></li>
<li><code>MCPPopover</code>ï¼š<code>src/components/Search/MCPPopover.tsx</code></li>
<li><code>AssistantList</code>ï¼š<code>src/components/Assistant/AssistantList.tsx</code></li>
</ul>
<p>åŒæ—¶ç»Ÿä¸€åŠ äº† <code>autoCorrect="off"</code>ï¼Œå‡å°‘è¾“å…¥è”æƒ³å¸¦æ¥çš„å¹²æ‰°ï¼ˆä¾‹å¦‚è‹±æ–‡å…³é”®å­—/ID æœç´¢åœºæ™¯ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-7">å°ç»“</h2>
<p>æœ¬æ¬¡æ”¹åŠ¨å°† <code>Esc</code> ä»â€œä¸å¯æ§çš„ä¸€é”®é€€å‡ºâ€é‡æ„ä¸º<strong>æœ‰æ˜ç¡®ä¼˜å…ˆçº§çš„é€å±‚é€€å‡ºæœºåˆ¶</strong>ï¼š</p>
<p><strong>è¾“å…¥æ€ â†’ Popover â†’ èœå• / History â†’ Extension â†’ çª—å£éšè—</strong></p>
<p>æ ¸å¿ƒåšæ³•æ˜¯ï¼š</p>
<ul>
<li><strong>å…¨å±€ <code>useEscape</code> åªä½œä¸ºæœ€åå…œåº•</strong>ï¼ŒæŒ‰ä¼˜å…ˆçº§å¤„ç†å…³é—­é€»è¾‘</li>
<li><strong>Popover å†…éƒ¨æ¶ˆè´¹ <code>Esc</code></strong>ï¼ˆä¼˜å…ˆ blur è¾“å…¥ï¼Œå…¶æ¬¡å…³é—­å¼¹å±‚ï¼‰ï¼Œé˜²æ­¢äº‹ä»¶å†’æ³¡åˆ°å…¨å±€</li>
<li>åŸºäº <strong>Radix å®é™… DOM</strong> ç»Ÿä¸€åˆ¤æ–­ popover / history æ˜¯å¦æ‰“å¼€</li>
<li><code>VisibleKey</code> åªåœ¨å½“å‰ popover äº¤äº’åŒºåŸŸå†…æ˜¾ç¤º</li>
<li>ç»Ÿä¸€è¾“å…¥ç»„ä»¶ï¼Œå‡å°‘å¹²æ‰°</li>
</ul>
<p>ç»“æœæ˜¯ï¼š<strong>Esc è¡Œä¸ºç¨³å®šã€å¯é¢„æœŸï¼Œä¸å†è¯¯å…³ã€ä¸å†æ¼å…³ã€‚</strong></p>
<h2 data-id="heading-8">å¼€æº</h2>
<p>å¦‚æœä½ å¯¹æˆ‘ä»¬çš„æŠ€æœ¯ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œæˆ–è€…æƒ³ä½“éªŒä¸€ä¸‹è¿™æ¬¾å…¨èƒ½çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œæ¬¢è¿è®¿é—®æˆ‘ä»¬çš„å¼€æºä»“åº“å’Œå®˜ç½‘ï¼š</p>
<ul>
<li><strong>GitHub</strong>:Â <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Finfinilabs%2Fcoco-app" title="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Finfinilabs%2Fcoco-app" target="_blank">github.com/infinilabs/â€¦</a></li>
<li><strong>Website</strong>:Â <a href="https://link.juejin.cn/?target=https%3A%2F%2Fcoco.rs" title="https://link.juejin.cn/?target=https%3A%2F%2Fcoco.rs" target="_blank">coco.rs</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®€å•å¯¹æ¯”glm4.6ä¸minimaxm2.1]]></title>    <link>https://juejin.cn/post/7587256133790924840</link>    <guid>https://juejin.cn/post/7587256133790924840</guid>    <pubDate>2025-12-24T10:03:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587256133790924840" data-draft-id="7587243886427570191" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®€å•å¯¹æ¯”glm4.6ä¸minimaxm2.1"/> <meta itemprop="keywords" content="äº§å“"/> <meta itemprop="datePublished" content="2025-12-24T10:03:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Charlo"/> <meta itemprop="url" content="https://juejin.cn/user/1239904845853870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®€å•å¯¹æ¯”glm4.6ä¸minimaxm2.1
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904845853870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Charlo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:03:24.000Z" title="Wed Dec 24 2025 10:03:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•å¯¹æ¯”glm4.6ä¸minimaxm2.1</p>
<p>æ¨¡ä»¿CMIç½‘ç«™çš„åŠŸèƒ½å†™çš„prdæ–‡æ¡£</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c521eaa0eb3483ab81873ae6fd8f6ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=uPtCqNLyV5wYYWtWhdA74WY%2BRu4%3D" alt="image.png" loading="lazy"/>
ç›´æ¥åœ¨treaä¸­è¾“å…¥ï¼šæŒ‰ç…§éœ€æ±‚æ–‡æ¡£ä½¿ç”¨reactå†™å‡ºç½‘é¡µ</p>
<h2 data-id="heading-0">Trea ä¸­çš„ minimax</h2>
<p>é¦–æ¬¡å®Œæˆæœ‰é—®é¢˜
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/427f21c382e34a269baec82827fe107f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=0w5iGq3SGVJ9UwOghQW80741ngs%3D" alt="image.png" loading="lazy"/>
ä¸€è½®ä¿®æ”¹å</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/254d919b12404694847c8b399ad8e537~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=2nIY1%2B7sORoOYxNGIwPMZx5gxsk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eefe86d790d04b8ca917134acb421feb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=c9s4Oa2xWZcwXFX3Q83DPlQ2uBc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11496a2e8d2345b6a883a6627fc0fae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=q6KK77nGx9en29xF0UVA6P2Bl8Q%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">Trea ä¸­çš„ GLM4.7</h2>
<p>é™¤äº†ä¸­é—´æ–­äº†ä¸€æ¬¡ï¼Œæ•´ä½“æ•ˆæœå…¶å®è¿˜å¯ä»¥ï¼Œæœ‰äº›ç»†èŠ‚å¾ˆå¥‡æ€ªï¼Œä¼šæœ‰è«åå¥‡å¦™çš„è¾¹æ¡†çº¿å’Œæ¸å˜
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/464a2fb93d784afdbda2caef76a392ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=sD%2BR%2FLUWoOpFmY7nvF7u9Qqs%2B9o%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/583de70d63614ee19be264a3a133e2d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=kIlS8Fji5s%2B9N83cvqybsC1RK3M%3D" alt="image.png" loading="lazy"/></p>
<p>å¸ƒå±€ä¹Ÿæœ‰ä¸€äº›é”™è¯¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b10b966e4a2497a8da0e7ea9b93a106~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=tUhuCGIhfg%2FwKdZuCMAuiJbruao%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">Winsurf ä¸­çš„ gpt 5.2 high reasoning</h2>
<p>è™½ç„¶æ…¢ï¼Œä½†ä¹Ÿæ˜¯ä¸€æ¬¡æå¯¹</p>
<p>ä½†åæ¥å‘ç°ç”¨çš„æ˜¯ ant ui å¹¶ä¸æ˜¯shadcn</p>
<p>åé¢è®©æ”¹æˆshadcnï¼Œæ”¹äº†åŠå¤©ä¸ƒç»•å…«ç»•</p>
<p>è¿˜æŠŠæˆ‘é»˜è®¤çš„llm.txtæ”¹äº†</p>
<p>ä¹Ÿæ²¡æ”¹æ˜ç™½ postcss çš„bug</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2e173fc30c54656a9ff3c99e1e57590~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=grltR4tNd3XMUIBRolSMpMz4R4o%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">Winsurf ä¸­çš„ swe pro</h2>
<p>ä¸æä¹Ÿç½¢ï¼Œé™·å…¥æ­»å¾ªç¯äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d7f729dfc67435a958ad82df9a2aafa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=qVThwbSPv7b8HacIwF6u1EpaElE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">Winsurf ä¸­çš„ Sonnet 3.7</h2>
<p>ä¹Ÿé‡åˆ°äº†postcssçš„é—®é¢˜ï¼Œä¸è¿‡åœ¨ä¿®æ”¹äº†å››äº”è½®ä¹‹åæˆåŠŸäº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a83a4ea9a564e888c8daf6cade32d17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=YpMZ5pcnV3oweyfq%2ByGb48JvySc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cd99c88c2874b9f8b9c5f0f91f752ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=ukU126KPsA5JIJS9mYMpk5XeDjo%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">Winsur ä¸­çš„ Sonnet 4.5</h2>
<p>ä¸€æ¬¡æå®š</p>
<p>ä¸è¿‡å•†å“é€è§†æ²¡å†™ï¼Œè€Œä¸”å¸ƒå±€å’Œæ„æƒ³çš„æœ‰åŒºåˆ«</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa438b76928a498aba2f2d623cb41c0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=AZJP1Sk3gbKZjRvusWuNuJtJgjU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">Ai Studio Gemini 3.0 pro</h2>
<p>ä¸ªäººæœ€å–œæ¬¢çš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7b12351586d4ae9b4334b527dec10f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=f7GfjCqm0gnjK1dQ5VzupWXtb4E%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">Google Antigravity é‡Œçš„ Opus4.5 thinking</h2>
<p>æˆ‘å®Œå…¨ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆã€‚ã€‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f4dd9a7a4644f7aa4aef2c9e0bc9e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=7pTGgYiRRft9tvMcmeTuqMFbxMQ%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶å®æ˜¯å¤´åƒ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8aaa3b23806846cba20c41ef51379a1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhcmxv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767175694&amp;x-signature=ABnS7lAtzw9qet%2FNzvCpCT0UZN0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Guava ListenableFuture å­¦ä¹ ç”Ÿäº§çº§å¹¶å‘è°ƒç”¨å®è·µ]]></title>    <link>https://juejin.cn/post/7586942589321183268</link>    <guid>https://juejin.cn/post/7586942589321183268</guid>    <pubDate>2025-12-23T11:26:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586942589321183268" data-draft-id="7586940555403952169" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Guava ListenableFuture å­¦ä¹ ç”Ÿäº§çº§å¹¶å‘è°ƒç”¨å®è·µ"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-23T11:26:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Guava ListenableFuture å­¦ä¹ ç”Ÿäº§çº§å¹¶å‘è°ƒç”¨å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T11:26:18.000Z" title="Tue Dec 23 2025 11:26:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    25
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¹‹å‰ä» Elasticsearch æºç å­¦åˆ°äº†çº¿ç¨‹æ± é…ç½®çš„è®¾è®¡æ€æƒ³ï¼Œä½† ES çš„ä»£ç å¤ªåº•å±‚ï¼Œéš¾ä»¥ç›´æ¥è¿ç§»åˆ°ä¸šåŠ¡ç³»ç»Ÿã€‚ä»Šå¤©åœ¨ Guava æ¡†æ¶ä¸­æ‰¾åˆ°äº†æ›´å®ç”¨çš„æ–¹æ¡ˆï¼šç›¸æ¯” <code>CompletableFuture</code> å¤æ‚çš„é“¾å¼è°ƒç”¨ï¼Œ<code>ListenableFuture</code> æä¾›äº†æ›´æ¸…æ™°çš„å¹¶å‘ç¼–æ’æ¨¡å¼ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Guava ListenableFuture</h2>
<h3 data-id="heading-2">CompletableFuture çš„ç—›ç‚¹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// allOf è¿”å› Voidï¼Œè¿˜è¦æ‰‹åŠ¨ join</span>
CompletableFuture.allOf(productFuture, inventoryFuture)
    .thenApply(v -&gt; {
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> productFuture.join();  <span class="hljs-comment">// è¿˜è¦å†æ¬¡ join</span>
        <span class="hljs-type">Inventory</span> <span class="hljs-variable">inventory</span> <span class="hljs-operator">=</span> inventoryFuture.join();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductDetailDTO</span>(product, inventory);
    });
</code></pre>
<h3 data-id="heading-3">Guava çš„ä¼˜åŠ¿</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æäº¤ä»»åŠ¡</span>
ListenableFuture&lt;Product&gt; productFuture = executor.submit(() -&gt; 
    productService.getProduct(id));
ListenableFuture&lt;Inventory&gt; inventoryFuture = executor.submit(() -&gt; 
    inventoryService.getInventory(id));

<span class="hljs-comment">// ç­‰å¾…å…¨éƒ¨æˆåŠŸåç»„è£…</span>
<span class="hljs-keyword">return</span> Futures.whenAllSucceed(productFuture, inventoryFuture)
    .call(() -&gt; {
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> Futures.getDone(productFuture);
        <span class="hljs-type">Inventory</span> <span class="hljs-variable">inventory</span> <span class="hljs-operator">=</span> Futures.getDone(inventoryFuture);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductDetailDTO</span>(product, inventory);
    }, executor);
</code></pre>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>èŒè´£åˆ†ç¦»</strong>ï¼šæäº¤å’Œå¤„ç†åˆ†å¼€</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼š<code>getDone()</code> ç›´æ¥è¿”å›ç»“æœ</li>
<li><strong>è¯­ä¹‰æ¸…æ™°</strong>ï¼š<code>whenAllSucceed</code> æ˜ç¡®è¡¨è¾¾æ„å›¾</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€ä¸šåŠ¡åœºæ™¯ï¼šç”µå•†å•†å“è¯¦æƒ…é¡µ</h2>
<p>ç”¨æˆ·è®¿é—®å•†å“è¯¦æƒ…é¡µï¼Œéœ€è¦å¹¶è¡ŒæŸ¥è¯¢å•†å“æœåŠ¡å’Œåº“å­˜æœåŠ¡ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[GET /product/123] --&gt; B[ProductFacade]
    B --&gt; C[å•†å“æœåŠ¡ 80ms]
    B --&gt; D[åº“å­˜æœåŠ¡ 60ms]
    C --&gt; E[ç»„è£…ç»“æœ]
    D --&gt; E
    E --&gt; F[è¿”å›DTO]
</code></pre>
<ul>
<li>ä¸²è¡Œè€—æ—¶ï¼š80ms + 60ms = 140ms</li>
<li>å¹¶è¡Œè€—æ—¶ï¼šmax(80ms, 60ms) â‰ˆ 80ms</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€å®Œæ•´ä»£ç å®ç°</h2>
<h3 data-id="heading-6">æ•°æ®æ¨¡å‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•†å“ä¿¡æ¯</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String id;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> priceInCents;
    
    Product(String id, String name, <span class="hljs-type">int</span> priceInCents) {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.priceInCents = priceInCents;
    }
    
    String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> id; }
    String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
    <span class="hljs-type">int</span> <span class="hljs-title function_">getPriceInCents</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> priceInCents; }
}

<span class="hljs-comment">// åº“å­˜ä¿¡æ¯</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inventory</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String productId;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> quantity;
    
    Inventory(String productId, <span class="hljs-type">int</span> quantity) {
        <span class="hljs-built_in">this</span>.productId = productId;
        <span class="hljs-built_in">this</span>.quantity = quantity;
    }
    
    String <span class="hljs-title function_">getProductId</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> productId; }
    <span class="hljs-type">int</span> <span class="hljs-title function_">getQuantity</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> quantity; }
}

<span class="hljs-comment">// è¿”å›çš„ DTO</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductDetailDTO</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String productId;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> priceInCents;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> quantity;
    
    ProductDetailDTO(String productId, String name, <span class="hljs-type">int</span> priceInCents, <span class="hljs-type">int</span> quantity) {
        <span class="hljs-built_in">this</span>.productId = productId;
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.priceInCents = priceInCents;
        <span class="hljs-built_in">this</span>.quantity = quantity;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ProductDetailDTO{"</span> +
                <span class="hljs-string">"productId='"</span> + productId + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", name='"</span> + name + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", priceInCents="</span> + priceInCents +
                <span class="hljs-string">", quantity="</span> + quantity +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre>
<h3 data-id="heading-7">æ¨¡æ‹ŸæœåŠ¡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(String productId)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        TimeUnit.MILLISECONDS.sleep(<span class="hljs-number">80</span>);  <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè°ƒç”¨</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(productId, <span class="hljs-string">"MacBook Pro 14"</span>, <span class="hljs-number">149900</span>);
    }
}

<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InventoryService</span> {
    Inventory <span class="hljs-title function_">getInventory</span><span class="hljs-params">(String productId)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        TimeUnit.MILLISECONDS.sleep(<span class="hljs-number">60</span>);  <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè°ƒç”¨</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Inventory</span>(productId, <span class="hljs-number">42</span>);
    }
}
</code></pre>
<h3 data-id="heading-8">æ ¸å¿ƒé—¨é¢ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductFacade</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ProductService productService;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> InventoryService inventoryService;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ListeningExecutorService executor;
    
    ProductFacade(ProductService productService,
                  InventoryService inventoryService,
                  ListeningExecutorService executor) {
        <span class="hljs-built_in">this</span>.productService = productService;
        <span class="hljs-built_in">this</span>.inventoryService = inventoryService;
        <span class="hljs-built_in">this</span>.executor = executor;
    }
    
    <span class="hljs-comment">/**
     * å¹¶è¡Œè·å–å•†å“ä¿¡æ¯å’Œåº“å­˜ä¿¡æ¯ï¼Œç„¶åç»„è£…æˆ ProductDetailDTO
     */</span>
    ListenableFuture&lt;ProductDetailDTO&gt; <span class="hljs-title function_">getProductDetail</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String productId)</span> {
        <span class="hljs-comment">// æ­¥éª¤1ï¼šFan-Out å¹¶è¡ŒæŸ¥è¯¢</span>
        ListenableFuture&lt;Product&gt; productFuture = executor.submit(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Callable</span>&lt;Product&gt;() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
                    <span class="hljs-keyword">return</span> productService.getProduct(productId);
                }
            }
        );
        
        ListenableFuture&lt;Inventory&gt; inventoryFuture = executor.submit(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Callable</span>&lt;Inventory&gt;() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> Inventory <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
                    <span class="hljs-keyword">return</span> inventoryService.getInventory(productId);
                }
            }
        );
        
        <span class="hljs-comment">// æ­¥éª¤2ï¼šFan-In æ±‡æ€»ç»“æœ</span>
        <span class="hljs-comment">// whenAllSucceedï¼šåªæœ‰ä¸¤ä¸ª Future éƒ½æˆåŠŸï¼Œæ‰æ‰§è¡Œ call é‡Œçš„é€»è¾‘</span>
        <span class="hljs-keyword">return</span> Futures.whenAllSucceed(productFuture, inventoryFuture)
            .call(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callable</span>&lt;ProductDetailDTO&gt;() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> ProductDetailDTO <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
                    <span class="hljs-comment">// getDoneï¼šå®‰å…¨è·å–å·²å®Œæˆçš„ Future ç»“æœ</span>
                    <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> Futures.getDone(productFuture);
                    <span class="hljs-type">Inventory</span> <span class="hljs-variable">inventory</span> <span class="hljs-operator">=</span> Futures.getDone(inventoryFuture);
                    
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductDetailDTO</span>(
                        product.getId(),
                        product.getName(),
                        product.getPriceInCents(),
                        inventory.getQuantity()
                    );
                }
            }, executor);
    }
}
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong><code>executor.submit(Callable)</code></strong>ï¼šæäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± å¼‚æ­¥æ‰§è¡Œï¼Œç«‹å³è¿”å› <code>ListenableFuture</code></li>
<li><strong><code>Futures.whenAllSucceed(f1, f2)</code></strong>ï¼šç­‰å¾…æ‰€æœ‰ Future éƒ½æˆåŠŸå®Œæˆï¼Œä»»ä½•ä¸€ä¸ªå¤±è´¥æ•´ä½“å°±å¤±è´¥</li>
<li><strong><code>Futures.getDone(future)</code></strong>ï¼šå®‰å…¨è·å–å·²å®Œæˆçš„ç»“æœï¼Œå› ä¸º <code>whenAllSucceed</code> ä¿è¯äº†æˆåŠŸ</li>
</ol>
<h3 data-id="heading-9">ç¨‹åºå…¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹æ± </span>
    <span class="hljs-type">ListeningExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> MoreExecutors.listeningDecorator(
        Executors.newFixedThreadPool(<span class="hljs-number">4</span>)
    );
    
    <span class="hljs-comment">// åˆå§‹åŒ–æœåŠ¡</span>
    <span class="hljs-type">ProductService</span> <span class="hljs-variable">productService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();
    <span class="hljs-type">InventoryService</span> <span class="hljs-variable">inventoryService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InventoryService</span>();
    <span class="hljs-type">ProductFacade</span> <span class="hljs-variable">facade</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductFacade</span>(
        productService, inventoryService, executor
    );
    
    <span class="hljs-type">String</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"P123"</span>;
    <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();
    
    <span class="hljs-comment">// å‘èµ·å¹¶è¡ŒæŸ¥è¯¢</span>
    ListenableFuture&lt;ProductDetailDTO&gt; future = facade.getProductDetail(productId);
    
    <span class="hljs-comment">// é˜»å¡ç­‰å¾…ç»“æœï¼ˆDemo æ¼”ç¤ºç”¨ï¼Œå®é™… Web åœºæ™¯å¯ä»¥ç”¨å›è°ƒå¼‚æ­¥å¤„ç†ï¼‰</span>
    <span class="hljs-type">ProductDetailDTO</span> <span class="hljs-variable">dto</span> <span class="hljs-operator">=</span> future.get();
    
    <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.nanoTime();
    <span class="hljs-type">long</span> <span class="hljs-variable">costMillis</span> <span class="hljs-operator">=</span> (end - start) / <span class="hljs-number">1_000_000L</span>;
    
    System.out.println(<span class="hljs-string">"Result = "</span> + dto);
    System.out.println(<span class="hljs-string">"Cost   = "</span> + costMillis + <span class="hljs-string">" ms"</span>);
    
    executor.shutdown();
}
</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">Result</span> = ProductDetailDTO{productId=<span class="hljs-string">'P123'</span>, name=<span class="hljs-string">'MacBook Pro 14'</span>, priceInCents=<span class="hljs-number">149900</span>, quantity=<span class="hljs-number">42</span>}
<span class="hljs-attr">Cost</span>   = <span class="hljs-number">85</span> ms
</code></pre>
<hr/>
<h2 data-id="heading-10">å››ã€æ‰§è¡Œæµç¨‹</h2>
<h3 data-id="heading-11">æ—¶åºå›¾</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant C as Controller
    participant F as ProductFacade
    participant E as çº¿ç¨‹æ± 
    participant PS as ProductService
    participant IS as InventoryService
    
    C-&gt;&gt;F: getProductDetail(&amp;#34;P123&amp;#34;)
    F-&gt;&gt;E: submit(æŸ¥å•†å“)
    F-&gt;&gt;E: submit(æŸ¥åº“å­˜)
    
    par å¹¶è¡Œæ‰§è¡Œ
        E-&gt;&gt;PS: getProduct(&amp;#34;P123&amp;#34;)
        PS--&gt;&gt;E: Product(80ms)
    and
        E-&gt;&gt;IS: getInventory(&amp;#34;P123&amp;#34;)
        IS--&gt;&gt;E: Inventory(60ms)
    end
    
    E-&gt;&gt;F: ä¸¤ä¸ªç»“æœéƒ½å®Œæˆ
    F-&gt;&gt;F: ç»„è£… ProductDetailDTO
    F--&gt;&gt;C: è¿”å›ç»“æœ(~85ms)
</code></pre>
<h3 data-id="heading-12">Fan-Out / Fan-In æ¨¡å¼</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è¯·æ±‚] --&gt; B[Fan-Out]
    B --&gt; C[ä»»åŠ¡1]
    B --&gt; D[ä»»åŠ¡2]
    C --&gt; E[Fan-In]
    D --&gt; E
    E --&gt; F[ç»“æœ]
    
    style B fill:#e1f5ff
    style E fill:#fff4e1
</code></pre>
<p>è¿™æ˜¯å¹¶å‘ç¼–ç¨‹çš„ç»å…¸æ¨¡å¼ï¼š</p>
<ul>
<li><strong>Fan-Out</strong>ï¼šå°†ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªå¹¶è¡Œå­ä»»åŠ¡</li>
<li><strong>Fan-In</strong>ï¼šç­‰å¾…æ‰€æœ‰å­ä»»åŠ¡å®Œæˆåæ±‡æ€»ç»“æœ</li>
</ul>
<hr/>
<h2 data-id="heading-13">äº”ã€ä¸ Elasticsearch çš„å¯¹æ¯”</h2>
<h3 data-id="heading-14">ES çš„åœºæ™¯ï¼šå¤šç´¢å¼•å¹¶è¡ŒæŸ¥è¯¢</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æœç´¢è¯·æ±‚] --&gt; B[logs-2024-01]
    A --&gt; C[logs-2024-02]
    A --&gt; D[logs-2024-03]
    B --&gt; E[åˆå¹¶æ’åº]
    C --&gt; E
    D --&gt; E
    E --&gt; F[Top 10]
</code></pre>
<h3 data-id="heading-15">ç”µå•†åœºæ™¯ï¼šå¤šæœåŠ¡å¹¶è¡ŒæŸ¥è¯¢</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è¯¦æƒ…è¯·æ±‚] --&gt; B[å•†å“æœåŠ¡]
    A --&gt; C[åº“å­˜æœåŠ¡]
    B --&gt; D[ç®€å•ç»„è£…]
    C --&gt; D
    D --&gt; E[è¿”å›DTO]
</code></pre>
<h3 data-id="heading-16">å…±åŒç‚¹</h3>






























<table><thead><tr><th>ç»´åº¦</th><th>Elasticsearch</th><th>ç”µå•†å•†å“è¯¦æƒ…</th></tr></thead><tbody><tr><td>æ¨¡å¼</td><td>Fan-Out / Fan-In</td><td>Fan-Out / Fan-In</td></tr><tr><td>å¹¶è¡Œç›®æ ‡</td><td>å¤šä¸ªç´¢å¼•/åˆ†ç‰‡</td><td>å¤šä¸ªå¾®æœåŠ¡</td></tr><tr><td>æ±‡æ€»æ–¹å¼</td><td>åˆå¹¶æ’åº</td><td>ç®€å•ç»„è£…</td></tr><tr><td>æ ¸å¿ƒè¯‰æ±‚</td><td>æ­£ç¡®æ€§ + æ€§èƒ½</td><td>å“åº”æ—¶é—´</td></tr></tbody></table>
<p>è™½ç„¶åœºæ™¯ä¸åŒï¼Œä½†åº•å±‚æ€æƒ³ä¸€è‡´ï¼š</p>
<ol>
<li><strong>åˆ†è§£</strong>ï¼šæŠŠå¤§ä»»åŠ¡æ‹†æˆå¤šä¸ªç‹¬ç«‹å°ä»»åŠ¡</li>
<li><strong>å¹¶è¡Œ</strong>ï¼šåˆ©ç”¨çº¿ç¨‹æ± åŒæ—¶æ‰§è¡Œ</li>
<li><strong>æ±‡æ€»</strong>ï¼šç­‰å¾…å…¨éƒ¨å®Œæˆåç»„è£…ç»“æœ</li>
</ol>
<hr/>
<h2 data-id="heading-17">å…­ã€æ›´å¤šåº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-18">è®¢å•è¯¦æƒ…é¡µ</h3>
<pre><code class="hljs language-java" lang="java">ListenableFuture&lt;Order&gt; orderFuture = getOrder(orderId);
ListenableFuture&lt;User&gt; userFuture = getUser(userId);
ListenableFuture&lt;List&lt;OrderItem&gt;&gt; itemsFuture = getOrderItems(orderId);
ListenableFuture&lt;Logistics&gt; logisticsFuture = getLogistics(orderId);

<span class="hljs-keyword">return</span> Futures.whenAllSucceed(orderFuture, userFuture, itemsFuture, logisticsFuture)
    .call(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDetailDTO</span>(...), executor);
</code></pre>
<h3 data-id="heading-19">ç”¨æˆ·ä¸ªäººä¸­å¿ƒ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¹¶è¡ŒæŸ¥è¯¢ï¼šç”¨æˆ·ä¿¡æ¯ã€è®¢å•ç»Ÿè®¡ã€ä¼˜æƒ åˆ¸ã€ç§¯åˆ†</span>
ListenableFuture&lt;UserInfo&gt; userFuture = getUserInfo(userId);
ListenableFuture&lt;OrderStats&gt; statsFuture = getOrderStats(userId);
ListenableFuture&lt;List&lt;Coupon&gt;&gt; couponFuture = getCoupons(userId);
ListenableFuture&lt;Points&gt; pointsFuture = getPoints(userId);

<span class="hljs-keyword">return</span> Futures.whenAllSucceed(userFuture, statsFuture, couponFuture, pointsFuture)
    .call(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserCenterVO</span>(...), executor);
</code></pre>
<h3 data-id="heading-20">æ•°æ®æŠ¥è¡¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¹¶è¡ŒæŸ¥è¯¢ï¼šé”€å”®æ•°æ®ã€ç”¨æˆ·æ•°æ®ã€åº“å­˜æ•°æ®</span>
ListenableFuture&lt;SalesData&gt; salesFuture = getSalesData(startDate, endDate);
ListenableFuture&lt;UserData&gt; userDataFuture = getUserData(startDate, endDate);
ListenableFuture&lt;InventoryData&gt; inventoryFuture = getInventoryData();

<span class="hljs-keyword">return</span> Futures.whenAllSucceed(salesFuture, userDataFuture, inventoryFuture)
    .call(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReportVO</span>(...), executor);
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¸ƒã€å¼‚å¸¸å¤„ç†ä¸é™çº§</h2>
<h3 data-id="heading-22">å•ä¸ªæœåŠ¡é™çº§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ Futures.catching å¤„ç†å¼‚å¸¸</span>
ListenableFuture&lt;Product&gt; productWithFallback = Futures.catching(
    productFuture,
    Exception.class,
    ex -&gt; {
        log.error(<span class="hljs-string">"æŸ¥è¯¢å•†å“å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼"</span>, ex);
        <span class="hljs-keyword">return</span> getDefaultProduct(productId);
    },
    executor
);
</code></pre>
<h3 data-id="heading-23">è¶…æ—¶æ§åˆ¶</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ Futures.withTimeout æ·»åŠ è¶…æ—¶</span>
ListenableFuture&lt;Product&gt; productFuture = Futures.withTimeout(
    executor.submit(() -&gt; productService.getProduct(id)),
    <span class="hljs-number">2</span>, TimeUnit.SECONDS,
    scheduledExecutor  <span class="hljs-comment">// éœ€è¦ä¸€ä¸ª ScheduledExecutorService</span>
);
</code></pre>
<h3 data-id="heading-24">éƒ¨åˆ†å¤±è´¥å…è®¸</h3>
<p>å¦‚æœå…è®¸éƒ¨åˆ†æŸ¥è¯¢å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ <code>Futures.successfulAsList()</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å³ä½¿éƒ¨åˆ†å¤±è´¥ï¼Œä¹Ÿè¿”å›æˆåŠŸçš„ç»“æœï¼ˆå¤±è´¥çš„ä¸º nullï¼‰</span>
ListenableFuture&lt;List&lt;Object&gt;&gt; results = Futures.successfulAsList(
    productFuture, 
    inventoryFuture
);

<span class="hljs-keyword">return</span> Futures.transform(results, list -&gt; {
    <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> (Product) list.get(<span class="hljs-number">0</span>);
    <span class="hljs-type">Inventory</span> <span class="hljs-variable">inventory</span> <span class="hljs-operator">=</span> (Inventory) list.get(<span class="hljs-number">1</span>);
    
    <span class="hljs-comment">// å¤„ç†å¯èƒ½ä¸º null çš„æƒ…å†µ</span>
    <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) product = getDefaultProduct();
    <span class="hljs-keyword">if</span> (inventory == <span class="hljs-literal">null</span>) inventory = getDefaultInventory();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductDetailDTO</span>(...);
}, executor);
</code></pre>
<hr/>
<h2 data-id="heading-25">å…«ã€ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®</h2>
<h3 data-id="heading-26">çº¿ç¨‹æ± é…ç½®</h3>
<p>åŸºäº ES çš„ç»éªŒï¼ˆè¯¦è§æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ï¼‰ï¼Œæ¨èé…ç½®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">processors</span> <span class="hljs-operator">=</span> Runtime.getRuntime().availableProcessors();

<span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">threadPool</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
    processors,                          <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•° = CPU æ ¸å¿ƒæ•°</span>
    processors * <span class="hljs-number">2</span>,                      <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°ï¼ˆIO å¯†é›†å‹ï¼‰</span>
    <span class="hljs-number">60</span>, TimeUnit.SECONDS,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(<span class="hljs-number">256</span> * processors * <span class="hljs-number">2</span>),  <span class="hljs-comment">// æœ‰ç†è®ºä¾æ®çš„é˜Ÿåˆ—å¤§å°</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadFactoryBuilder</span>()
        .setNameFormat(<span class="hljs-string">"ProductQuery-%d"</span>)  <span class="hljs-comment">// çº¿ç¨‹å‘½å</span>
        .build(),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy()  <span class="hljs-comment">// ä¸šåŠ¡ç³»ç»Ÿç”¨é™çº§ç­–ç•¥</span>
);

<span class="hljs-type">ListeningExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> MoreExecutors.listeningDecorator(threadPool);
</code></pre>
<h3 data-id="heading-27">Spring Bean é…ç½®</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExecutorConfig</span> {
    
    <span class="hljs-meta">@Bean("productQueryExecutor")</span>
    <span class="hljs-keyword">public</span> ListeningExecutorService <span class="hljs-title function_">productQueryExecutor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">processors</span> <span class="hljs-operator">=</span> Runtime.getRuntime().availableProcessors();
        
        <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">threadPool</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
            processors,
            processors * <span class="hljs-number">2</span>,
            <span class="hljs-number">60</span>, TimeUnit.SECONDS,
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(<span class="hljs-number">256</span> * processors * <span class="hljs-number">2</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadFactoryBuilder</span>()
                .setNameFormat(<span class="hljs-string">"ProductQuery-%d"</span>)
                .build(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy()
        );
        
        <span class="hljs-keyword">return</span> MoreExecutors.listeningDecorator(threadPool);
    }
}
</code></pre>
<h3 data-id="heading-28">ç›‘æ§æŒ‡æ ‡</h3>
<p>å…³é”®ç›‘æ§ç‚¹ï¼š</p>
<ul>
<li><strong>æ´»è·ƒçº¿ç¨‹æ•°</strong>ï¼šå½“å‰æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ•°</li>
<li><strong>é˜Ÿåˆ—å¤§å°</strong>ï¼šç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡æ•°</li>
<li><strong>æ‹’ç»æ¬¡æ•°</strong>ï¼šçº¿ç¨‹æ± æ»¡äº†è¢«æ‹’ç»çš„ä»»åŠ¡æ•°</li>
<li><strong>å¹³å‡æ‰§è¡Œæ—¶é—´</strong>ï¼šä»»åŠ¡çš„å¹³å‡è€—æ—¶</li>
</ul>
<p>å‘Šè­¦é˜ˆå€¼ï¼š</p>
<ul>
<li>é˜Ÿåˆ—å †ç§¯ &gt; æœ€å¤§çº¿ç¨‹æ•° Ã— 100ï¼šå¯èƒ½æœ‰æ…¢æŸ¥è¯¢</li>
<li>æ‹’ç»æ¬¡æ•°çªå¢ï¼šæµé‡è¶…è¿‡å¤„ç†èƒ½åŠ›</li>
<li>æ´»è·ƒçº¿ç¨‹æ•°é•¿æœŸ = æœ€å¤§çº¿ç¨‹æ•°ï¼šéœ€è¦æ‰©å®¹</li>
</ul>
<hr/>
<h2 data-id="heading-29">ä¹ã€ä½•æ—¶ä½¿ç”¨å¹¶å‘</h2>
<h3 data-id="heading-30">é€‚åˆçš„åœºæ™¯</h3>
<ol>
<li><strong>å¤šä¸ªç‹¬ç«‹çš„ IO æ“ä½œ</strong>ï¼šæŸ¥è¯¢å¤šä¸ªæ•°æ®è¡¨ã€è°ƒç”¨å¤šä¸ªå¤–éƒ¨ API</li>
<li><strong>æ“ä½œä¹‹é—´æ— ä¾èµ–</strong>ï¼šæŸ¥å•†å“å’ŒæŸ¥è¯„è®ºæ²¡æœ‰å…ˆåé¡ºåº</li>
<li><strong>å¯¹å“åº”æ—¶é—´æ•æ„Ÿ</strong>ï¼šç”¨æˆ·ç­‰å¾…çš„æ¥å£</li>
</ol>
<h3 data-id="heading-31">ä¸é€‚åˆçš„åœºæ™¯</h3>
<ol>
<li><strong>æœ‰ä¾èµ–å…³ç³»çš„æ“ä½œ</strong>ï¼šç¬¬äºŒæ­¥ä¾èµ–ç¬¬ä¸€æ­¥çš„ç»“æœï¼ˆåº”è¯¥ç”¨ <code>transformAsync</code>ï¼‰</li>
<li><strong>éœ€è¦äº‹åŠ¡ä¸€è‡´æ€§</strong>ï¼šæ‰£åº“å­˜å’Œåˆ›å»ºè®¢å•å¿…é¡»åœ¨åŒä¸€äº‹åŠ¡</li>
<li><strong>çº¯ CPU å¯†é›†è®¡ç®—</strong>ï¼šåº”è¯¥ç”¨ <code>ParallelStream</code> æˆ– <code>ForkJoinPool</code></li>
<li><strong>éœ€è¦æ¶ˆæ¯å¯é æ€§ä¿è¯</strong>ï¼šç”¨ MQï¼ˆRabbitMQã€RocketMQï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-32">åã€æ€»ç»“</h2>
<h3 data-id="heading-33">æ ¸å¿ƒæ”¶è·</h3>
<ol>
<li>
<p><strong>Guava ListenableFuture æ¯” CompletableFuture æ›´æ¸…æ™°</strong></p>
<ul>
<li><code>whenAllSucceed</code> è¯­ä¹‰æ˜ç¡®</li>
<li><code>getDone</code> ç±»å‹å®‰å…¨</li>
<li>èŒè´£åˆ†ç¦»ï¼Œä»£ç å¯è¯»æ€§å¼º</li>
</ul>
</li>
<li>
<p><strong>Fan-Out / Fan-In æ˜¯é€šç”¨æ¨¡å¼</strong></p>
<ul>
<li>ES ç”¨äºå¤šç´¢å¼•æŸ¥è¯¢</li>
<li>ä¸šåŠ¡ç³»ç»Ÿç”¨äºå¤šæœåŠ¡èšåˆ</li>
<li>åº•å±‚æ€æƒ³ä¸€è‡´</li>
</ul>
</li>
<li>
<p><strong>çº¿ç¨‹æ± é…ç½®æœ‰ç†è®ºä¾æ®</strong></p>
<ul>
<li>æ ¸å¿ƒçº¿ç¨‹æ•° = CPU æ ¸å¿ƒæ•°</li>
<li>æœ€å¤§çº¿ç¨‹æ•° = CPU æ ¸å¿ƒæ•° Ã— 2ï¼ˆIO å¯†é›†å‹ï¼‰</li>
<li>é˜Ÿåˆ—å¤§å° = 256 Ã— æœ€å¤§çº¿ç¨‹æ•°</li>
</ul>
</li>
</ol>
<h3 data-id="heading-34">å®è·µå»ºè®®</h3>
<ol>
<li><strong>ä»ç®€å•åœºæ™¯å¼€å§‹</strong>ï¼šå…ˆç”¨åœ¨å•†å“è¯¦æƒ…è¿™ç±»å…¸å‹åœºæ™¯</li>
<li><strong>åŠ å¼ºç›‘æ§</strong>ï¼šå…³æ³¨çº¿ç¨‹æ± çŠ¶æ€å’Œä»»åŠ¡æ‰§è¡Œæ—¶é—´</li>
<li><strong>åšå¥½é™çº§</strong>ï¼šè€ƒè™‘å¼‚å¸¸å’Œè¶…æ—¶æƒ…å†µ</li>
<li><strong>å‹æµ‹éªŒè¯</strong>ï¼šç”¨çœŸå®æµé‡éªŒè¯é…ç½®åˆç†æ€§</li>
</ol>
<p>è¿™å¥—æ¨¡å¼å¯ä»¥ä½œä¸ºä½ ä»¥åæ‰€æœ‰"å¤šæœåŠ¡å¹¶è¡ŒæŸ¥è¯¢ + èšåˆè¿”å›"åœºæ™¯çš„æ¨¡æ¿ï¼šä»£ç æ¸…æ™°ã€æ€è·¯ç®€å•ã€è¶³å¤Ÿè´´è¿‘çœŸå®ä¸šåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯]]></title>    <link>https://juejin.cn/post/7586500093844733994</link>    <guid>https://juejin.cn/post/7586500093844733994</guid>    <pubDate>2025-12-23T01:02:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844733994" data-draft-id="7586555198115348486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯"/> <meta itemprop="keywords" content="Laravel,PHP,åç«¯"/> <meta itemprop="datePublished" content="2025-12-23T01:02:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:02:52.000Z" title="Tue Dec 23 2025 01:02:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="arduino-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#434f54}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#00979d}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-literal{color:#d35400}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#00979d}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#005c5f}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-comment{color:rgba(149,165,166,.8)}.hljs-meta-keyword{color:#728e00}.hljs-meta{color:#434f54}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-function{color:#728e00}.hljs-number{color:#8a7b52}</style><h2 data-id="heading-0">ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯</h2>
<p><code>Model Context Protocol</code> (MCP) æ­£åœ¨è¿…é€Ÿæˆä¸º AI åŠ©æ‰‹(å¦‚ Claudeã€ChatGPT å’Œ GitHub Copilot)ä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡äº¤äº’çš„æ ‡å‡†æ–¹å¼ã€‚é€šè¿‡ Laravel MCP,ä½ å¯ä»¥å°† Laravel Workflow æµç¨‹æš´éœ²ä¸ºå¯è°ƒç”¨çš„å·¥å…·,ä»»ä½•å…¼å®¹ MCP çš„ AI å®¢æˆ·ç«¯éƒ½å¯ä»¥å‘ç°ã€è°ƒç”¨å’Œç›‘æ§è¿™äº›å·¥å…·ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­,æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ª MCP æœåŠ¡å™¨,ä½¿ AI å®¢æˆ·ç«¯èƒ½å¤Ÿ:</p>
<ul>
<li>å‘ç°å¯ç”¨çš„å·¥ä½œæµ</li>
<li>å¼‚æ­¥å¯åŠ¨å·¥ä½œæµ</li>
<li>è½®è¯¢çŠ¶æ€å¹¶æ£€ç´¢ç»“æœ</li>
</ul>
<p>è¿™åˆ›å»ºäº†ä¸€ä¸ªå¼ºå¤§çš„æ¨¡å¼,AI ä»£ç†å¯ä»¥ç¼–æ’é•¿æ—¶é—´è¿è¡Œçš„æŒä¹…åŒ–å·¥ä½œæµ,éå¸¸é€‚åˆæ— æ³•åœ¨å•ä¸ªè¯·æ±‚ä¸­å®Œæˆçš„å¤æ‚ä»»åŠ¡ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Flaravel-workflows-mcp-tools-ai-clients" target="_blank" title="https://catchadmin.com/post/2025-12/laravel-workflows-mcp-tools-ai-clients" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥ ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯</a></p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹© MCP + Laravel Workflow?</h3>
<p>Laravel Workflow æ“…é•¿æŒä¹…åŒ–ã€æœ‰çŠ¶æ€çš„æ‰§è¡Œã€‚MCP æ“…é•¿ä¸º AI å®¢æˆ·ç«¯æä¾›å¯¹å¤–éƒ¨èƒ½åŠ›çš„ç»“æ„åŒ–è®¿é—®ã€‚ä¸¤è€…ç»“åˆå¯ä»¥å®ç°:</p>
<ul>
<li><strong>å¼‚æ­¥ AI æ“ä½œ</strong>:å¯åŠ¨å·¥ä½œæµ,ç»§ç»­å¯¹è¯,ç¨åæ£€æŸ¥ç»“æœ</li>
<li><strong>å¯é æ‰§è¡Œ</strong>:å·¥ä½œæµå¯ä»¥åœ¨å´©æºƒã€é‡è¯•å’Œé•¿æ—¶é—´ç­‰å¾…ä¸­å­˜æ´»</li>
<li><strong>å¯è§‚å¯Ÿæ€§</strong>:é€šè¿‡ Waterline çš„ä»ªè¡¨æ¿è·Ÿè¸ªæ¯ä¸ªå·¥ä½œæµ</li>
<li><strong>æ— çŠ¶æ€æœåŠ¡å™¨</strong>:MCP æœåŠ¡å™¨ä¸ä¿å­˜çŠ¶æ€ã€‚å®¢æˆ·ç«¯è·Ÿè¸ªå·¥ä½œæµ ID</li>
</ul>
<p>è¿™ç±»ä¼¼äºäººç±»å§”æ´¾ä»»åŠ¡çš„æ–¹å¼:"å¼€å§‹è¿™ä¸ªæŠ¥å‘Š,æˆ‘ç¨åå†æ£€æŸ¥ã€‚"</p>
<h3 data-id="heading-2">æˆ‘ä»¬è¦æ„å»ºä»€ä¹ˆ</h3>
<p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå·¥å…·çš„ MCP æœåŠ¡å™¨:</p>





















<table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>list_workflows</td><td>å‘ç°å¯ç”¨çš„å·¥ä½œæµå¹¶æŸ¥çœ‹æœ€è¿‘çš„è¿è¡Œè®°å½•</td></tr><tr><td>start_workflow</td><td>å¯åŠ¨å·¥ä½œæµå¹¶è·å–è·Ÿè¸ª ID</td></tr><tr><td>get_workflow_result</td><td>æ£€æŸ¥çŠ¶æ€å¹¶åœ¨å®Œæˆæ—¶æ£€ç´¢è¾“å‡º</td></tr></tbody></table>
<h3 data-id="heading-3">åˆ†æ­¥å®ç°</h3>
<h4 data-id="heading-4">å®‰è£… Laravel MCP</h4>
<pre><code class="hljs language-bash" lang="bash">composer require laravel/mcp
php artisan vendor:publish --tag=ai-routes
</code></pre>
<p>è¿™ä¼šä¸ºä½ æä¾› <code>routes/ai.php</code>,ä½ å°†åœ¨å…¶ä¸­æ³¨å†Œ MCP æœåŠ¡å™¨ã€‚</p>
<h4 data-id="heading-5">åˆ›å»º MCP æœåŠ¡å™¨</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-server WorkflowServer
</code></pre>
<p>ä¸º AI é…ç½®è¯´æ˜:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Servers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">GetWorkflowResultTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">ListWorkflowsTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">StartWorkflowTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WorkflowServer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Server</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span> = <span class="hljs-string">'Laravel Workflow Server'</span>;
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$version</span> = <span class="hljs-string">'1.0.0'</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$instructions</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        This server allows you to start <span class="hljs-keyword">and</span> monitor Laravel Workflows.

        <span class="hljs-comment">## Typical Usage Pattern</span>

        <span class="hljs-number">1</span>. Call `list_workflows` to see what workflows are available.
        <span class="hljs-number">2</span>. Call `start_workflow` with the workflow name <span class="hljs-keyword">and</span> arguments.
        <span class="hljs-number">3</span>. Store the returned `workflow_id`.
        <span class="hljs-number">4</span>. Call `get_workflow_result` until status is `WorkflowCompletedStatus`.
        <span class="hljs-number">5</span>. Read the `output` field <span class="hljs-keyword">for</span> the result.

        <span class="hljs-comment">## Status Values</span>

        - `WorkflowCreatedStatus` - Workflow has been created
        - `WorkflowPendingStatus` - Queued <span class="hljs-keyword">for</span> execution
        - `WorkflowRunningStatus` - Currently executing
        - `WorkflowWaitingStatus` - <span class="hljs-title function_ invoke__">Waiting</span> (timer, signal, etc.)
        - `WorkflowCompletedStatus` - Finished successfully
        - `WorkflowFailedStatus` - Encountered an error
    MARKDOWN;

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">array</span> <span class="hljs-variable">$tools</span> = [
        <span class="hljs-title class_">ListWorkflowsTool</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-title class_">StartWorkflowTool</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-title class_">GetWorkflowResultTool</span>::<span class="hljs-variable language_">class</span>,
    ];
}
</code></pre>
<h4 data-id="heading-6">åˆ›å»ºå¯åŠ¨å·¥ä½œæµå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool StartWorkflowTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Arr</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">Workflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">WorkflowStub</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StartWorkflowTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        Start a Laravel Workflow asynchronously <span class="hljs-keyword">and</span> <span class="hljs-keyword">return</span> its workflow ID.
        
        The workflow will execute in the background on the queue. Use the
        `get_workflow_result` tool to poll <span class="hljs-keyword">for</span> status <span class="hljs-keyword">and</span> retrieve results
        once the workflow completes.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'workflow'</span> =&gt; [<span class="hljs-string">'required'</span>, <span class="hljs-string">'string'</span>],
            <span class="hljs-string">'args'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'array'</span>],
            <span class="hljs-string">'external_id'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'max:255'</span>],
        ]);

        <span class="hljs-variable">$workflowKey</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'workflow'</span>];
        <span class="hljs-variable">$args</span> = <span class="hljs-title class_">Arr</span>::<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-variable">$data</span>, <span class="hljs-string">'args'</span>, []);
        <span class="hljs-variable">$externalId</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'external_id'</span>] ?? <span class="hljs-literal">null</span>;

        <span class="hljs-variable">$workflowClass</span> = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">resolveWorkflowClass</span>(<span class="hljs-variable">$workflowKey</span>);

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$workflowClass</span> === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"Unknown workflow: <span class="hljs-subst">{$workflowKey}</span>"</span>);
        }

        <span class="hljs-keyword">if</span> (! <span class="hljs-title function_ invoke__">class_exists</span>(<span class="hljs-variable">$workflowClass</span>) || ! <span class="hljs-title function_ invoke__">is_subclass_of</span>(<span class="hljs-variable">$workflowClass</span>, <span class="hljs-title class_">Workflow</span>::<span class="hljs-variable language_">class</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"Invalid workflow class: <span class="hljs-subst">{$workflowClass}</span>"</span>);
        }

        <span class="hljs-variable">$stub</span> = <span class="hljs-title class_">WorkflowStub</span>::<span class="hljs-title function_ invoke__">make</span>(<span class="hljs-variable">$workflowClass</span>);
        <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">start</span>(...<span class="hljs-title function_ invoke__">array_values</span>(<span class="hljs-variable">$args</span>));

        <span class="hljs-variable">$status</span> = <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">status</span>();
        <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">id</span>(),
            <span class="hljs-string">'workflow'</span> =&gt; <span class="hljs-variable">$workflowKey</span>,
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$statusName</span>,
            <span class="hljs-string">'external_id'</span> =&gt; <span class="hljs-variable">$externalId</span>,
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'Workflow started. Use get_workflow_result to poll status.'</span>,
        ]);
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolveWorkflowClass</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$key</span></span>): ?<span class="hljs-title">string</span>
    </span>{
        <span class="hljs-variable">$mapped</span> = <span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">"workflow_mcp.workflows.<span class="hljs-subst">{$key}</span>"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$mapped</span> !== <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable">$mapped</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.allow_fqcn'</span>, <span class="hljs-literal">false</span>) &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$key</span>, <span class="hljs-string">'\\'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable">$key</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">schema</span>(<span class="hljs-params">JsonSchema <span class="hljs-variable">$schema</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-variable">$workflows</span> = <span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">', '</span>, <span class="hljs-title function_ invoke__">array_keys</span>(<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.workflows'</span>, [])));

        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'workflow'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">"The workflow to start. Available: <span class="hljs-subst">{$workflows}</span>"</span>),
            <span class="hljs-string">'args'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">object</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Arguments for the workflow execute() method.'</span>),
            <span class="hljs-string">'external_id'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Optional idempotency key for tracking.'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-7">åˆ›å»ºè·å–ç»“æœå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool GetWorkflowResultTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">StoredWorkflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">States</span>\<span class="hljs-title">WorkflowCompletedStatus</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">States</span>\<span class="hljs-title">WorkflowFailedStatus</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">WorkflowStub</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetWorkflowResultTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        Fetch the status <span class="hljs-keyword">and</span>, <span class="hljs-keyword">if</span> completed, the output of a Laravel Workflow.
        
        Use the workflow_id returned by `start_workflow` to check progress.
        Once status is `WorkflowCompletedStatus`, the output field contains the result.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'workflow_id'</span> =&gt; [<span class="hljs-string">'required'</span>],
        ]);

        <span class="hljs-variable">$workflowId</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'workflow_id'</span>];
        <span class="hljs-variable">$stored</span> = <span class="hljs-title class_">StoredWorkflow</span>::<span class="hljs-title function_ invoke__">find</span>(<span class="hljs-variable">$workflowId</span>);

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$stored</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
                <span class="hljs-string">'found'</span> =&gt; <span class="hljs-literal">false</span>,
                <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">"Workflow <span class="hljs-subst">{$workflowId}</span> not found."</span>,
            ]);
        }

        <span class="hljs-variable">$workflow</span> = <span class="hljs-title class_">WorkflowStub</span>::<span class="hljs-title function_ invoke__">load</span>(<span class="hljs-variable">$workflowId</span>);
        <span class="hljs-variable">$status</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">status</span>();
        <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);
        <span class="hljs-variable">$running</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">running</span>();

        <span class="hljs-variable">$result</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable">$error</span> = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$running</span> &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$statusName</span>, <span class="hljs-string">'Completed'</span>)) {
            <span class="hljs-variable">$result</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">output</span>();
        }

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$running</span> &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$statusName</span>, <span class="hljs-string">'Failed'</span>)) {
            <span class="hljs-variable">$exception</span> = <span class="hljs-variable">$stored</span>-&gt;<span class="hljs-title function_ invoke__">exceptions</span>()-&gt;<span class="hljs-title function_ invoke__">latest</span>()-&gt;<span class="hljs-title function_ invoke__">first</span>();
            <span class="hljs-variable">$error</span> = <span class="hljs-variable">$exception</span>?-&gt;exception ?? <span class="hljs-string">'Unknown error'</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
            <span class="hljs-string">'found'</span> =&gt; <span class="hljs-literal">true</span>,
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$workflowId</span>,
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$statusName</span>,
            <span class="hljs-string">'running'</span> =&gt; <span class="hljs-variable">$running</span>,
            <span class="hljs-string">'output'</span> =&gt; <span class="hljs-variable">$result</span>,
            <span class="hljs-string">'error'</span> =&gt; <span class="hljs-variable">$error</span>,
            <span class="hljs-string">'created_at'</span> =&gt; <span class="hljs-variable">$stored</span>-&gt;created_at?-&gt;<span class="hljs-title function_ invoke__">toIso8601String</span>(),
            <span class="hljs-string">'updated_at'</span> =&gt; <span class="hljs-variable">$stored</span>-&gt;updated_at?-&gt;<span class="hljs-title function_ invoke__">toIso8601String</span>(),
        ]);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">schema</span>(<span class="hljs-params">JsonSchema <span class="hljs-variable">$schema</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'The workflow ID returned by start_workflow.'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-8">åˆ›å»ºåˆ—è¡¨å·¥ä½œæµå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool ListWorkflowsTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">StoredWorkflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListWorkflowsTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        List available workflow types <span class="hljs-keyword">and</span> optionally show recent workflow runs.
        
        Use this to discover what workflows can be started, <span class="hljs-keyword">or</span> to see
        the status of recent executions.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'show_recent'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'boolean'</span>],
            <span class="hljs-string">'limit'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'integer'</span>, <span class="hljs-string">'min:1'</span>, <span class="hljs-string">'max:50'</span>],
            <span class="hljs-string">'status'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'string'</span>],
        ]);

        <span class="hljs-variable">$showRecent</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'show_recent'</span>] ?? <span class="hljs-literal">false</span>;
        <span class="hljs-variable">$limit</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'limit'</span>] ?? <span class="hljs-number">10</span>;
        <span class="hljs-variable">$statusFilter</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'status'</span>] ?? <span class="hljs-literal">null</span>;

        <span class="hljs-variable">$availableWorkflows</span> = [];
        <span class="hljs-keyword">foreach</span> (<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.workflows'</span>, []) <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$class</span>) {
            <span class="hljs-variable">$availableWorkflows</span>[] = [<span class="hljs-string">'key'</span> =&gt; <span class="hljs-variable">$key</span>, <span class="hljs-string">'class'</span> =&gt; <span class="hljs-variable">$class</span>];
        }

        <span class="hljs-variable">$response</span> = [
            <span class="hljs-string">'available_workflows'</span> =&gt; <span class="hljs-variable">$availableWorkflows</span>,
        ];

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$showRecent</span>) {
            <span class="hljs-variable">$query</span> = <span class="hljs-title class_">StoredWorkflow</span>::<span class="hljs-title function_ invoke__">query</span>()
                -&gt;<span class="hljs-title function_ invoke__">orderBy</span>(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'desc'</span>)
                -&gt;<span class="hljs-title function_ invoke__">limit</span>(<span class="hljs-variable">$limit</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$statusFilter</span>) {
                <span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%<span class="hljs-subst">{$statusFilter}</span>%"</span>);
            }

            <span class="hljs-variable">$response</span>[<span class="hljs-string">'recent_workflows'</span>] = <span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">get</span>()-&gt;<span class="hljs-title function_ invoke__">map</span>(function (<span class="hljs-variable">$w</span>) {
                <span class="hljs-variable">$status</span> = <span class="hljs-variable">$w</span>-&gt;status;
                <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);

                <span class="hljs-keyword">return</span> [
                    <span class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$w</span>-&gt;id,
                    <span class="hljs-string">'class'</span> =&gt; <span class="hljs-variable">$w</span>-&gt;<span class="hljs-class"><span class="hljs-keyword">class</span>,
                    '<span class="hljs-title">status</span>' =&gt; $<span class="hljs-title">statusName</span>,
                    '<span class="hljs-title">created_at</span>' =&gt; $<span class="hljs-title">w</span>-&gt;<span class="hljs-title">created_at</span>?-&gt;<span class="hljs-title">toIso8601String</span>(),
                ];
            });
        }

        <span class="hljs-title">return</span> <span class="hljs-title">Response</span>::<span class="hljs-title">json</span>($<span class="hljs-title">response</span>);
    }

    <span class="hljs-title">public</span> <span class="hljs-title">function</span> <span class="hljs-title">schema</span>(<span class="hljs-title">JsonSchema</span> $<span class="hljs-title">schema</span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'show_recent'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">boolean</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Include recent workflow runs in response.'</span>),
            <span class="hljs-string">'limit'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">integer</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Max recent workflows to return (default: 10).'</span>),
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Filter by status (e.g., "Completed", "Failed").'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-9">é…ç½®å¯ç”¨çš„å·¥ä½œæµ</h4>
<p>åˆ›å»º <code>config/workflow_mcp.php</code> æ¥å°† AI å®¢æˆ·ç«¯å¯ä»¥å¯åŠ¨çš„å·¥ä½œæµåŠ å…¥ç™½åå•:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">return</span> [
    <span class="hljs-string">'allow_fqcn'</span> =&gt; <span class="hljs-title function_ invoke__">env</span>(<span class="hljs-string">'WORKFLOW_MCP_ALLOW_FQCN'</span>, <span class="hljs-literal">false</span>),

    <span class="hljs-string">'workflows'</span> =&gt; [
        <span class="hljs-string">'simple'</span> =&gt; <span class="hljs-title class_">App\Workflows\Simple\SimpleWorkflow</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-string">'prism'</span> =&gt; <span class="hljs-title class_">App\Workflows\Prism\PrismWorkflow</span>::<span class="hljs-variable language_">class</span>,
    ],
];
</code></pre>
<p>è¿™å¯ä»¥é˜²æ­¢ä»»æ„ç±»æ‰§è¡Œã€‚åªæœ‰æ˜ å°„çš„å·¥ä½œæµå¯ä»¥è®¿é—®ã€‚</p>
<h4 data-id="heading-10">æ³¨å†Œ MCP æœåŠ¡å™¨</h4>
<p>æ›´æ–° <code>routes/ai.php</code>:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Servers</span>\<span class="hljs-title">WorkflowServer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Mcp</span>;

<span class="hljs-title class_">Mcp</span>::<span class="hljs-title function_ invoke__">web</span>(<span class="hljs-string">'/mcp/workflows'</span>, <span class="hljs-title class_">WorkflowServer</span>::<span class="hljs-variable language_">class</span>);
</code></pre>
<h3 data-id="heading-11">è¿æ¥ AI å®¢æˆ·ç«¯</h3>
<h4 data-id="heading-12">VS Code / GitHub Copilot</h4>
<p>åœ¨é¡¹ç›®ä¸­åˆ›å»º <code>.vscode/mcp.json</code>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"laravel-workflow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost/mcp/workflows"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ­¤é…ç½®é€‚ç”¨äºæœ¬åœ°å¼€å‘å’Œ GitHub Codespacesã€‚åœ¨ Codespaces ä¸­,VS Code æœåŠ¡å™¨åœ¨å®¹å™¨å†…è¿è¡Œ,å› æ­¤ localhost å¯ä»¥æ­£ç¡®è®¿é—® Laravel æœåŠ¡å™¨,æ— éœ€å…¬å…±ç«¯å£æˆ– <code>*.app.github.dev</code> URLã€‚</p>
<p>é‡æ–°åŠ è½½ VS Code(Cmd/Ctrl+Shift+P â†’ "Developer: Reload Window")å,Copilot å¯ä»¥ç›´æ¥åœ¨èŠå¤©ä¸­ä½¿ç”¨å·¥ä½œæµå·¥å…·ã€‚</p>
<h3 data-id="heading-13">å®é™…ä½¿ç”¨</h3>
<p>è¿æ¥å,ä½ å¯ä»¥ä¸ AI åŠ©æ‰‹è¿›è¡Œè‡ªç„¶å¯¹è¯:</p>
<p><strong>ä½ </strong>:"æœ‰å“ªäº›å·¥ä½œæµå¯ç”¨?"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>list_workflows</code> "æˆ‘æ‰¾åˆ°äº† 2 ä¸ªå·¥ä½œæµ:simple å’Œ prismã€‚"</p>
<p><strong>ä½ </strong>:"å¯åŠ¨ prism å·¥ä½œæµ"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>start_workflow</code> "å·²å¯åŠ¨å·¥ä½œæµ ID 42ã€‚æˆ‘ä¼šæ£€æŸ¥å®ƒçš„çŠ¶æ€ã€‚"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>get_workflow_result</code> "å·¥ä½œæµå·²å®Œæˆ!è¿™æ˜¯ç”Ÿæˆçš„ç”¨æˆ·é…ç½®æ–‡ä»¶:{ name: 'Elena', hobbies: [...] }"</p>
<p>è¿™åˆ›é€ äº†ä¸€ç§æ— ç¼ä½“éªŒ,AI åŠ©æ‰‹å¯ä»¥ç¼–æ’å¤æ‚çš„é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œ,åŒæ—¶è®©ç”¨æˆ·äº†è§£æƒ…å†µã€‚</p>
<h3 data-id="heading-14">è¿™ç§æ¨¡å¼çš„å¼ºå¤§ä¹‹å¤„</h3>
<ul>
<li><strong>æŒä¹…åŒ–</strong>:å·¥ä½œæµå¯ä»¥åœ¨æœåŠ¡å™¨é‡å¯å’Œç½‘ç»œæ•…éšœä¸­å­˜æ´»</li>
<li><strong>å¼‚æ­¥è®¾è®¡</strong>:AI å®¢æˆ·ç«¯ä¸ä¼šé˜»å¡ç­‰å¾…å®Œæˆ</li>
<li><strong>å¯è§‚å¯Ÿ</strong>:æ¯ä¸ªå·¥ä½œæµéƒ½åœ¨ Waterline çš„ä»ªè¡¨æ¿ä¸­è·Ÿè¸ª</li>
<li><strong>å®‰å…¨</strong>:åŸºäºç™½åå•çš„å·¥ä½œæµè®¿é—®é˜²æ­¢ä»»æ„æ‰§è¡Œ</li>
<li><strong>æ— çŠ¶æ€ MCP</strong>:æœåŠ¡å™¨ä¸ä¿å­˜çŠ¶æ€ã€‚å®¢æˆ·ç«¯è·Ÿè¸ªå·¥ä½œæµ ID</li>
</ul>
<h3 data-id="heading-15">åœ¨æµè§ˆå™¨ä¸­ç«‹å³è¯•ç”¨</h3>
<p>æ­¤ MCP é›†æˆå·²åŒ…å«å¹¶é¢„é…ç½®åœ¨ Laravel Workflow Sample App ä¸­ã€‚</p>
<p>è¦è¯•ç”¨:</p>
<ol>
<li>åœ¨ GitHub ä¸Šæ‰“å¼€ sample-app ä»“åº“</li>
<li>ç‚¹å‡» Code â†’ Codespaces â†’ Create codespace on main</li>
<li>ç­‰å¾…ç¯å¢ƒæ„å»º</li>
<li>è®¾ç½®åº”ç”¨å¹¶å¯åŠ¨é˜Ÿåˆ—å·¥ä½œå™¨:</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">php artisan app:init
php artisan queue:work
</code></pre>
<ol start="5">
<li>å¯ç”¨ Laravel Workflow Server MCP å·¥å…·</li>
<li>è®©ä½ çš„ AI åˆ—å‡ºå¹¶è¿è¡Œå·¥ä½œæµ!</li>
</ol>
<h3 data-id="heading-16">æ¥ä¸‹æ¥å¯ä»¥åšä»€ä¹ˆ</h3>
<p>ä½ å¯ä»¥æ‰©å±•æ­¤æ¨¡å¼ä»¥å®ç°:</p>
<ul>
<li><strong>å‚æ•°åŒ–å·¥ä½œæµ</strong>:å°†ç”¨æˆ·è¾“å…¥ä¼ é€’ç»™å·¥ä½œæµå‚æ•°</li>
<li><strong>Webhook é€šçŸ¥</strong>:æ¨é€å®Œæˆäº‹ä»¶è€Œä¸æ˜¯è½®è¯¢</li>
<li><strong>å·¥ä½œæµä¿¡å·</strong>:è®© AI å®¢æˆ·ç«¯å‘ç­‰å¾…çš„å·¥ä½œæµå‘é€ä¿¡å·</li>
<li><strong>è¿›åº¦æµå¼ä¼ è¾“</strong>:ä½¿ç”¨ SSE å®æ—¶æµå¼ä¼ è¾“å·¥ä½œæµè¿›åº¦</li>
<li><strong>å¤šæ­¥éª¤ä»£ç†</strong>:åœ¨å¯¹è¯ä¸­å°†å¤šä¸ªå·¥ä½œæµé“¾æ¥åœ¨ä¸€èµ·</li>
</ul>
<p>Laravel Workflow çš„æŒä¹…åŒ–æ‰§è¡Œä¸ MCP çš„å·¥å…·åè®®ç›¸ç»“åˆ,ä¸ºçœŸæ­£æœ‰èƒ½åŠ›çš„ AI ä»£ç†åˆ›å»ºäº†ä¸€ä¸ªåŸºç¡€,è¿™äº›ä»£ç†å¯ä»¥å¤„ç†ç°å®ä¸–ç•Œçš„å¤æ‚æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œé‡‘èé¸¿è’™ç«¯éƒ¨ç½²AIè¶…åˆ†æ¨¡å‹å®è·µ]]></title>    <link>https://juejin.cn/post/7586877892467277851</link>    <guid>https://juejin.cn/post/7586877892467277851</guid>    <pubDate>2025-12-23T10:11:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586877892467277851" data-draft-id="7586865729702920230" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œé‡‘èé¸¿è’™ç«¯éƒ¨ç½²AIè¶…åˆ†æ¨¡å‹å®è·µ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-23T10:11:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œé‡‘èé¸¿è’™ç«¯éƒ¨ç½²AIè¶…åˆ†æ¨¡å‹å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T10:11:17.000Z" title="Tue Dec 23 2025 10:11:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>1. èƒŒæ™¯</strong></h2>
<p><strong>è¿™å¯èƒ½æ˜¯å…¨ç½‘ç¬¬ä¸€ç¯‡å®Œæ•´è®²è§£é¸¿è’™ç«¯ä½¿ç”¨CANNéƒ¨ç½²AIæ¨¡å‹çš„æ–‡ç« , æ»¡æ»¡å¹²è´§ã€‚</strong></p>
<p>ç¤¾åŒºä½œä¸ºç”¨æˆ·äº¤æµã€ä¿¡æ¯ä¼ é€’çš„æ ¸å¿ƒè½½ä½“ï¼Œå›¾ç‰‡å†…å®¹ï¼ˆå¦‚ç†è´¢äº§å“æˆªå›¾ã€æŠ•èµ„ç»éªŒåˆ†äº«é…å›¾ã€ç”¨æˆ·äº’åŠ¨è¯„è®ºå›¾ç‰‡ç­‰ï¼‰çš„å±•ç¤ºè´¨é‡ç›´æ¥å½±å“ç”¨æˆ·çš„ä¿¡æ¯è·å–æ•ˆç‡ä¸å¹³å°ä¿¡ä»»æ„Ÿã€‚ä»äº¬ä¸œé‡‘èAppç¤¾åŒºçš„ä¸šåŠ¡éœ€æ±‚æ¥çœ‹ï¼Œå½“å‰ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡æ™®éå­˜åœ¨å¤šæ ·æ€§å¤±çœŸé—®é¢˜ï¼šéƒ¨åˆ†ç”¨æˆ·é€šè¿‡è€æ—§è®¾å¤‡æ‹æ‘„çš„å›¾ç‰‡åˆ†è¾¨ç‡è¾ƒä½ï¼Œéƒ¨åˆ†ç”¨æˆ·ä¸ºèŠ‚çœæµé‡é€‰æ‹©ä½ç”»è´¨å‹ç¼©ä¸Šä¼ ï¼Œè¿˜æœ‰éƒ¨åˆ†æˆªå›¾ç±»å†…å®¹å› åŸå§‹æ¥æºæ¸…æ™°åº¦ä¸è¶³å¯¼è‡´ä¿¡æ¯æ¨¡ç³Šï¼ˆå¦‚ç†è´¢äº§å“æ”¶ç›Šç‡æ•°å­—ã€åˆåŒæ¡æ¬¾ç»†èŠ‚ç­‰ï¼‰ï¼Œè¿™äº›é—®é¢˜ä¸ä»…é™ä½äº†å†…å®¹å¯è¯»æ€§ï¼Œè¿˜å¯èƒ½å› ä¿¡æ¯ä¼ é€’ä¸æ¸…æ™°å¼•å‘ç”¨æˆ·è¯¯è§£ã€‚</p>
<p>äº¬ä¸œé‡‘èAppå›¢é˜Ÿå·²å®ŒæˆReal-ESRGAN-General-x4v3è¶…åˆ†è¾¨ç‡æ¨¡å‹åœ¨å®‰å“ç«¯çš„éƒ¨ç½²ï¼Œèƒ½å¤Ÿé’ˆå¯¹æ€§æå‡è¯„è®ºåŒºã€å†…å®¹è¯¦æƒ…é¡µã€ä¸ªäººä¸»é¡µç­‰æ ¸å¿ƒåœºæ™¯çš„å›¾ç‰‡æ¸…æ™°åº¦ï¼Œä»è§†è§‰ä½“éªŒå±‚é¢ä¼˜åŒ–ç”¨æˆ·ç•™å­˜ä¸äº’åŠ¨æ„æ„¿ã€‚</p>
<p>ESRGAN-General-x4v3æ¨¡å‹åœ¨å®‰å“ç«¯çš„éƒ¨ç½²ï¼Œé‡‡ç”¨çš„æ˜¯ONNXæ¡†æ¶ï¼Œè¯¥æ–¹æ¡ˆå·²æœ‰å¤§é‡å…¬å¼€èµ„æ–™å¯å‚è€ƒï¼Œä¸”å–å¾—æ˜¾è‘—ä¸šåŠ¡æˆæ•ˆã€‚ä½†é¸¿è’™ç«¯éƒ¨ç½²é¢ä¸´æ ¸å¿ƒæŠ€æœ¯ç“¶é¢ˆï¼šé¸¿è’™ç³»ç»Ÿä¸æ”¯æŒONNXæ¡†æ¶ï¼Œéƒ¨ç½²ç«¯ä¾§AIä»…èƒ½ä½¿ç”¨åä¸ºè‡ªç ”çš„CANNï¼ˆCompute Architecture for Neural Networksï¼‰æ¶æ„ï¼Œä¸”å½“å‰è¡Œä¸šå†…ç¼ºä¹åŸºäºCANNéƒ¨ç½²ç«¯ä¾§AIçš„å…¬å¼€èµ„æ–™ä¸æˆç†Ÿæ–¹æ¡ˆï¼Œå…¨ç¨‹éœ€æŠ€æœ¯å›¢é˜Ÿè‡ªä¸»æ¢ç´¢ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šä»¥ESRGAN-General-x4v3ä¸ºä¾‹, åˆ†äº«ä»æ¨¡å‹è½¬æ¢(NPUäº²å’Œæ€§æ”¹é€ )åˆ°ç«¯ä¾§ç¦»çº¿æ¨¡å‹éƒ¨ç½²çš„å…¨éƒ¨è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1"><strong>2. éƒ¨ç½²å‰æœŸå‡†å¤‡</strong></h2>
<h3 data-id="heading-2"><strong>2.1 ç¦»çº¿æ¨¡å‹è½¬æ¢</strong></h3>
<p>CANN Kitå½“å‰ä»…æ”¯æŒCaffeã€TensorFlowã€ONNXå’ŒMindSporeæ¨¡å‹è½¬æ¢ä¸ºç¦»çº¿æ¨¡å‹ï¼Œå…¶ä»–æ ¼å¼çš„æ¨¡å‹éœ€è¦å¼€å‘è€…è‡ªè¡Œè½¬æ¢ä¸ºCANN Kitæ”¯æŒçš„æ¨¡å‹æ ¼å¼ã€‚æ¨¡å‹è½¬æ¢ä¸ºOMç¦»çº¿æ¨¡å‹ï¼Œç§»åŠ¨ç«¯AIç¨‹åºç›´æ¥è¯»å–ç¦»çº¿æ¨¡å‹è¿›è¡Œæ¨ç†ã€‚</p>
<h4 data-id="heading-3"><strong>2.1.1 ä¸‹è½½CANNå·¥å…·</strong></h4>
<p>ä»é¸¿è’™å¼€å‘è€…å®˜ç½‘ä¸‹è½½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcontentcenter-vali-drcn.dbankcdn.cn%2Fpvt_2%2FDeveloperAlliance_package_901_9%2Fc0%2Fv3%2FEvg84kYpQlOkQvRT-Th0tw%2FDDK-tools-next-5.1.1.1.zip%3FHW-CC-KV%3DV1%26HW-CC-Date%3D20251015T082207Z%26HW-CC-Expire%3D315360000%26HW-CC-Sign%3D8D8CE92B39E6A5353B8A43EB6779C1D79C346C40776F2242593CBD751BE87EE4" target="_blank" title="https://contentcenter-vali-drcn.dbankcdn.cn/pvt_2/DeveloperAlliance_package_901_9/c0/v3/Evg84kYpQlOkQvRT-Th0tw/DDK-tools-next-5.1.1.1.zip?HW-CC-KV=V1&amp;HW-CC-Date=20251015T082207Z&amp;HW-CC-Expire=315360000&amp;HW-CC-Sign=8D8CE92B39E6A5353B8A43EB6779C1D79C346C40776F2242593CBD751BE87EE4" ref="nofollow noopener noreferrer">DDK-tools-5.1.1.1 </a>, è§£å‹ä½¿ç”¨Toolsä¸‹çš„OMGå·¥å…·ï¼Œå°†ONNXã€TensorFlowæ¨¡å‹è½¬æ¢ä¸ºOMæ¨¡å‹ã€‚(OMGå·¥å…·ä½äºToolsä¸‹è½½çš„tools/tools_omgä¸‹ï¼Œ<strong>ä»…å¯è¿è¡Œåœ¨64ä½Linuxå¹³å°ä¸Š</strong>ã€‚)</p>
<p>ï»¿</p>
<h4 data-id="heading-4"><strong>2.1.2 ä¸‹è½½ESRGAN-General-x4v3æ¨¡å‹æ–‡ä»¶</strong></h4>
<p>ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Faihub.qualcomm.com%2Fcompute%2Fmodels%2Freal_esrgan_general_x4v3" target="_blank" title="https://aihub.qualcomm.com/compute/models/real_esrgan_general_x4v3" ref="nofollow noopener noreferrer">aihub.qualcomm.com/compute/modâ€¦</a>ä¸‹è½½æ¨¡å‹çš„onnxæ–‡ä»¶.</p>
<p>æ³¨æ„: ä¸‹è½½é“¾æ¥ä¸­çš„a8a8çš„é‡åŒ–æ¨¡å‹ä½¿ç”¨äº†é«˜é€šçš„ç®—å­(äº²æµ‹æ— æ³•è½¬æ¢), CANNå·¥å…·æ— æ³•è¿›è¡Œè½¬æ¢, å› æ­¤è¯·ä¸‹è½½floatçš„é‡åŒ–æ¨¡å‹ã€‚</p>
<p><strong>ä¸‹è½½åæœ‰ä¸¤ä¸ªæ–‡ä»¶:</strong></p>
<p>â€¢model.onnxæ–‡ä»¶ (æ¨¡å‹ç»“æ„): åŒ…å«è®¡ç®—å›¾ã€opsetç‰ˆæœ¬ã€èŠ‚ç‚¹é…ç½®ç­‰ï¼Œæ–‡ä»¶è¾ƒå°ã€‚</p>
<p>â€¢model.dataæ–‡ä»¶ (æƒé‡æ•°æ®): åŒ…å«ç¥ç»ç½‘ç»œå‚æ•°ã€æƒé‡ç­‰ï¼Œæ–‡ä»¶è¾ƒå¤§ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠè¿™ç§åˆ†ç¦»æ–‡ä»¶æ ¼å¼çš„æ¨¡å‹åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶,åç»­çš„æ“ä½œéƒ½ä½¿ç”¨è¿™ä¸ªã€‚</p>
<p><strong>åˆå¹¶æ–‡ä»¶:</strong></p>
<p>è¯·ä½¿ç”¨JoyCodeå†™ä¸ªåˆå¹¶è„šæœ¬å³å¯, æç¤ºè¯: è¯·å†™ä¸€ä¸ªè„šæœ¬, æŠŠonnxæ¨¡å‹æ–‡ä»¶çš„.onnxå’Œ.dataæ–‡ä»¶åˆå¹¶ã€‚</p>
<h4 data-id="heading-5"><strong>2.1.3 OMæ¨¡å‹è½¬æ¢</strong></h4>
<p><strong>1. ONNX opset ç‰ˆæœ¬è½¬æ¢</strong></p>
<p>å½“å‰ä½¿ç”¨CANNè¿›è¡Œæ¨¡å‹è½¬æ¢, æ”¯æŒONNX opsetç‰ˆæœ¬7~18ï¼ˆæœ€é«˜æ”¯æŒåˆ°V1.13.1ï¼‰, é¦–å…ˆéœ€è¦æŸ¥çœ‹åŸå§‹çš„onnxæ¨¡å‹çš„opsetç‰ˆæœ¬æ˜¯å¦åœ¨æ”¯æŒèŒƒå›´, è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flutzroeder%2Fnetron%2Ftags" target="_blank" title="https://github.com/lutzroeder/netron/tags" ref="nofollow noopener noreferrer">Netron</a>(ç‚¹å‡»ä¸‹è½½)å¯è§†åŒ–å·¥å…·è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de53c34107d842da95851d71bc1915d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=GTZxPGBS3O3%2FeUQCZKdolPJZiyI%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ç›®å‰è¯¥æ¨¡å‹ä½¿ç”¨çš„opsetç‰ˆæœ¬æ˜¯20, å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠè¯¥æ¨¡å‹çš„opsetç‰ˆæœ¬è½¬æˆ18, æ‰å¯ä»¥ç”¨CANNè½¬æ¢æˆé¸¿è’™ä¸Šå¯éƒ¨ç½²çš„æ¨¡å‹ã€‚è¯·ä½¿ç”¨JoyCodeå†™ä¸ªopsetè½¬æ¢è„šæœ¬å³å¯, æç¤ºè¯: è¯·å†™ä¸€ä¸ªè„šæœ¬, æŠŠonnxæ¨¡å‹æ–‡ä»¶çš„opsetç‰ˆæœ¬ä»20è½¬æ¢æˆ18ã€‚</p>
<p>ï»¿</p>
<p><strong>2. OMç¦»çº¿æ¨¡å‹</strong>****</p>
<p>å‘½ä»¤è¡Œä¸­çš„å‚æ•°è¯´æ˜è¯·å‚è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fcannkit-overall-parameter" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-overall-parameter" ref="nofollow noopener noreferrer">OMGå‚æ•°</a>ï¼Œè½¬æ¢å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">./tools/tools_omg/omg <span class="hljs-attr">--model</span> new_model_opset18<span class="hljs-selector-class">.onnx</span> <span class="hljs-attr">--framework</span> <span class="hljs-number">5</span> <span class="hljs-attr">--output</span> ./model
</code></pre>
<p>è½¬æ¢å®Œæˆå, ç”Ÿæˆmodel.omçš„æ¨¡å‹æ–‡ä»¶, è¯¥æ¨¡å‹æ–‡ä»¶å°±æ˜¯é¸¿è’™ä¸Šå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„æ¨¡å‹æ–‡ä»¶</p>
<h3 data-id="heading-6"><strong>2.2 æŸ¥çœ‹æ¨¡å‹çš„è¾“å…¥/è¾“å‡ºå¼ é‡ä¿¡æ¯</strong></h3>
<p>éƒ¨ç½²AIæ¨¡å¼æ—¶, æˆ‘ä»¬éœ€è¦ç¡®è®¤æ¨¡å‹çš„è¾“å…¥å¼ é‡å’Œè¾“å‡ºå¼ é‡ä¿¡æ¯, è¯·ä½¿ç”¨JoyCodeç¼–å†™ä¸€ä¸ªè„šæœ¬, ç¡®å®šè¾“å…¥è¾“å‡ºå¼ é‡ä¿¡æ¯, æç¤ºè¯: å†™ä¸€ä¸ªè„šæœ¬æŸ¥çœ‹onnxæ¨¡å‹çš„è¾“å…¥è¾“å‡ºå¼ é‡ä¿¡æ¯ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e07ceb9dcfc04f71a9cf179cf399ffb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=OaBgcmN8vLYLQUhTU0GiR1jqx6E%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h4 data-id="heading-7"><strong>2.2.1 è¾“å…¥å¼ é‡</strong></h4>
<p>BCHWæ ¼å¼, æ˜¯æ·±åº¦å­¦ä¹ ä¸­å¸¸è§çš„å¼ é‡ç»´åº¦æ’åˆ—æ ¼å¼, åœ¨å›¾åƒå¤„ç†åœºæ™¯ä¸­:</p>
<p>â€¢B (Batch): æ‰¹æ¬¡å¤§å° - ä¸€æ¬¡å¤„ç†å¤šå°‘ä¸ªæ ·æœ¬ã€‚</p>
<p>â€¢C (Channel): é€šé“æ•° - å›¾åƒçš„é¢œè‰²é€šé“æ•°ã€‚</p>
<p>â€¢H (Height): é«˜åº¦ - å›¾åƒçš„åƒç´ é«˜åº¦ã€‚</p>
<p>â€¢W (Width): å®½åº¦ - å›¾åƒçš„åƒç´ å®½åº¦ã€‚</p>
<p>ç”±æ­¤å¯ä»¥å¾—å‡ºç»“è®º, è¯¥æ¨¡å‹1ä¸ªæ‰¹æ¬¡å¤„ç†1å¼ å®½é«˜ä¸º128*128çš„RGBå›¾ç‰‡(å› ä¸ºCæ˜¯3,å› æ­¤ä¸åŒ…å«Ré€šé“)ã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-8"><strong>2.2.2 è¾“å‡ºå¼ é‡</strong></h4>
<p>è¯¥æ¨¡å‹1ä¸ªæ‰¹æ¬¡è¾“å‡º1å¼ å®½é«˜ä¸º512*512çš„RGBå›¾ç‰‡ã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-9"><strong>2.2.3 BCHWå’ŒBHWCæ ¼å¼çš„åŒºåˆ«:</strong></h4>
<p>è¶…åˆ†æ¨¡å‹ä¸­çš„BCHWå’ŒBHWCæ˜¯ä¸¤ç§ä¸åŒçš„å¼ é‡å­˜å‚¨æ ¼å¼ï¼Œä¸»è¦åŒºåˆ«åœ¨äºé€šé“ç»´åº¦çš„ä½ç½®ï¼š</p>
<p>ï»¿</p>
<p>â€¢<strong>BCHWæ ¼å¼ï¼ˆBatch-Channel-Height-Widthï¼‰</strong></p>
<p>â—¦ç»´åº¦é¡ºåºï¼š[æ‰¹æ¬¡, é€šé“, é«˜åº¦, å®½åº¦]</p>
<p>â—¦å†…å­˜å¸ƒå±€ï¼šé€šé“ç»´åº¦åœ¨ç©ºé—´ç»´åº¦ä¹‹å‰</p>
<p>â—¦å¸¸ç”¨æ¡†æ¶ï¼šPyTorchã€TensorRTç­‰</p>
<p>ç¤ºä¾‹: å½¢çŠ¶ä¸º (1, 3, 256, 256) çš„RGBå›¾åƒ</p>
<p><strong>å†…å­˜ä¸­çš„å­˜å‚¨é¡ºåºï¼š</strong> Ré€šé“çš„æ‰€æœ‰åƒç´  -&gt; Gé€šé“çš„æ‰€æœ‰åƒç´  -&gt; Bé€šé“çš„æ‰€æœ‰åƒç´ </p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tensor_bchw</span> = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>)
è®¿é—®ç¬¬ä¸€ä¸ªåƒç´ çš„RGBå€¼éœ€è¦è·¨è¶Šä¸åŒçš„å†…å­˜åŒºåŸŸ
<span class="hljs-attr">pixel_0_0_r</span> = tensor_bchw[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]  <span class="hljs-comment"># Ré€šé“</span>
<span class="hljs-attr">pixel_0_0_g</span> = tensor_bchw[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]  <span class="hljs-comment"># Gé€šé“  </span>
<span class="hljs-attr">pixel_0_0_b</span> = tensor_bchw[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]  <span class="hljs-comment"># Bé€šé“</span>
</code></pre>
<p>â€¢<strong>BHWCæ ¼å¼ï¼ˆBatch-Height-Width-Channelï¼‰</strong></p>
<p>â—¦ç»´åº¦é¡ºåºï¼š[æ‰¹æ¬¡, é«˜åº¦, å®½åº¦, é€šé“]</p>
<p>â—¦å†…å­˜å¸ƒå±€ï¼šé€šé“ç»´åº¦åœ¨æœ€åï¼Œåƒç´ çš„æ‰€æœ‰é€šé“è¿ç»­å­˜å‚¨</p>
<p>â—¦å¸¸ç”¨æ¡†æ¶ï¼šTensorFlowã€OpenCVç­‰</p>
<p>ç¤ºä¾‹ï¼šå½¢çŠ¶ä¸º (1, 256, 256, 3) çš„RGBå›¾åƒ</p>
<p>å†…å­˜ä¸­çš„å­˜å‚¨é¡ºåºï¼šåƒç´ (0,0)çš„RGB -&gt; åƒç´ (0,1)çš„RGB -&gt; ... -&gt; åƒç´ (0,255)çš„RGB -&gt; åƒç´ (1,0)çš„RGB...</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tensor_bhwc</span> = tf.random.normal([<span class="hljs-number">1</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment"># è®¿é—®ç¬¬ä¸€ä¸ªåƒç´ çš„RGBå€¼åœ¨è¿ç»­çš„å†…å­˜ä½ç½®</span>
<span class="hljs-attr">pixel_0_0_rgb</span> = tensor_bhwc[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, :]  <span class="hljs-comment"># [R, G, B]</span>
</code></pre>
<p>ï»¿</p>
<h2 data-id="heading-10"><strong>3. é¸¿è’™ç«¯éƒ¨ç½²æ ¸å¿ƒæ­¥éª¤</strong></h2>
<h3 data-id="heading-11"><strong>3.1 åˆ›å»ºé¡¹ç›®</strong></h3>
<p>1.åˆ›å»ºDevEco Studioé¡¹ç›®ï¼Œé€‰æ‹©â€œNative C++â€æ¨¡æ¿ï¼Œç‚¹å‡»â€œNextâ€ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46f2d4161ef44984881401020f6a30fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=FO4ZXb3ysjT2qkzUpotPqVcQOaM%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>2.æŒ‰éœ€å¡«å†™â€œProject nameâ€ã€â€œSave locationâ€å’Œâ€œModule nameâ€ï¼Œé€‰æ‹©â€œCompile SDKâ€ä¸ºâ€œ5.1.0(18)â€åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œç‚¹å‡»â€œFinishâ€ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8bac1d934c44b7b3daff85617fbb4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=P6mxqs%2BLOWtEY%2BGaMsH5jxAlfrQ%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-12"><strong>3.2 é…ç½®é¡¹ç›®NAPI</strong></h3>
<p>CANNéƒ¨ç½²åªæä¾›äº†C++æ¥å£, å› æ­¤éœ€è¦ä½¿ç”¨NAPI, ç¼–è¯‘HAPæ—¶ï¼ŒNAPIå±‚çš„soéœ€è¦ç¼–è¯‘ä¾èµ–NDKä¸­çš„libneural_network_core.soå’Œlibhiai_foundation.soã€‚</p>
<p>ï»¿</p>
<p><strong>å¤´æ–‡ä»¶å¼•ç”¨</strong></p>
<p>æŒ‰éœ€å¼•ç”¨NNCoreå’ŒCANN Kitçš„å¤´æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"neural_network_runtime/neural_network_core.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"CANNKit/hiai_options.h"</span></span>
</code></pre>
<p><strong>ç¼–å†™CMakeLists.txt</strong></p>
<p>CMakeLists.txtç¤ºä¾‹ä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.5</span>.<span class="hljs-number">0</span>)
<span class="hljs-built_in">project</span>(myNpmLib)

<span class="hljs-built_in">set</span>(NATIVERENDER_ROOT_PATH ${CMAKE_CURRENT_SOURCE_DIR})

<span class="hljs-built_in">include_directories</span>(${NATIVERENDER_ROOT_PATH}
                    ${NATIVERENDER_ROOT_PATH}/include)

<span class="hljs-built_in">include_directories</span>(${HMOS_SDK_NATIVE}/sysroot/usr/lib)
<span class="hljs-built_in">FIND_LIBRARY</span>(cann-lib hiai_foundation)

<span class="hljs-built_in">add_library</span>(imagesr SHARED HIAIModelManager.cpp ImageSuperResolution.cpp)
<span class="hljs-built_in">target_link_libraries</span>(imagesr PUBLIC libace_napi.z.so
    libhilog_ndk.z.so
    librawfile.z.so
    ${cann-lib}
    libneural_network_core.so
    )
</code></pre>
<h3 data-id="heading-13"><strong>3.3 é›†æˆæ¨¡å‹</strong></h3>
<p>æ¨¡å‹çš„åŠ è½½ã€ç¼–è¯‘å’Œæ¨ç†ä¸»è¦æ˜¯åœ¨nativeå±‚å®ç°ï¼Œåº”ç”¨å±‚ä¸»è¦ä½œä¸ºæ•°æ®ä¼ é€’å’Œå±•ç¤ºä½œç”¨ã€‚æ¨¡å‹æ¨ç†ä¹‹å‰éœ€è¦å¯¹è¾“å…¥æ•°æ®è¿›è¡Œé¢„å¤„ç†ä»¥åŒ¹é…æ¨¡å‹çš„è¾“å…¥ï¼ŒåŒæ ·å¯¹äºæ¨¡å‹çš„è¾“å‡ºä¹Ÿéœ€è¦åšå¤„ç†è·å–è‡ªå·±æœŸæœ›çš„ç»“æœ</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb2af561a0954b37802f76a57a72b5a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=llwQdjDQLIDuprCBEFSSf29%2FQU8%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h4 data-id="heading-14"><strong>3.3.1 åŠ è½½ç¦»çº¿æ¨¡å‹</strong></h4>
<p>ä¸ºäº†è®©Appè¿è¡Œæ—¶èƒ½å¤Ÿè¯»å–åˆ°æ¨¡å‹æ–‡ä»¶å’Œå¤„ç†æ¨ç†ç»“æœï¼Œéœ€è¦å…ˆæŠŠç¦»çº¿æ¨¡å‹å’Œæ¨¡å‹å¯¹åº”çš„ç»“æœæ ‡ç­¾æ–‡ä»¶é¢„ç½®åˆ°å·¥ç¨‹çš„â€œentry/src/main/resources/rawfileâ€ç›®å½•ä¸­ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3e78a1905514c80af05ac4bbd3c9411~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767089477&amp;x-signature=UB4r11wWFJskohWLsZSQ3QNlSfs%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>åœ¨Appåº”ç”¨åˆ›å»ºæ—¶åŠ è½½æ¨¡å‹:</p>
<p>1.nativeå±‚è¯»å–æ¨¡å‹çš„bufferã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const char* <span class="hljs-attr">modelPath</span> = <span class="hljs-string">"imagesr.om"</span><span class="hljs-comment">;</span>
RawFile *<span class="hljs-attr">rawFile</span> = OH_ResourceManager_OpenRawFile(resourceMgr, modelPath)<span class="hljs-comment">;</span>
long <span class="hljs-attr">modelSize</span> = OH_ResourceManager_GetRawFileSize(rawFile)<span class="hljs-comment">;</span>
std::unique_ptr&lt;uint8_t<span class="hljs-section">[]</span>&gt; <span class="hljs-attr">modelData</span> = std::make_unique&lt;uint8_t[]&gt;(modelSize)<span class="hljs-comment">;</span>
int <span class="hljs-attr">res</span> = OH_ResourceManager_ReadRawFile(rawFile, modelData.get(), modelSize)<span class="hljs-comment">;</span>
</code></pre>
<p>2.ä½¿ç”¨æ¨¡å‹çš„buffer, è°ƒç”¨OH_NNCompilation_ConstructWithOfflineModelBufferåˆ›å»ºæ¨¡å‹çš„ç¼–è¯‘å®ä¾‹</p>
<pre><code class="hljs language-ini" lang="ini">HiAI_Compatibility <span class="hljs-attr">compibility</span> = HMS_HiAICompatibility_CheckFromBuffer(modelData, modelSize)<span class="hljs-comment">;</span>
OH_NNCompilation *<span class="hljs-attr">compilation</span> = OH_NNCompilation_ConstructWith<span class="hljs-literal">Off</span>lineModelBuffer(modelData, modelSize)<span class="hljs-comment">;</span>
</code></pre>
<p>3.ï¼ˆå¯é€‰ï¼‰æ ¹æ®éœ€è¦è°ƒç”¨HMS_HiAIOptions_SetOmOptionsæ¥å£ï¼Œæ‰“å¼€ç»´æµ‹åŠŸèƒ½ï¼ˆå¦‚Profilingï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const char *<span class="hljs-attr">out_path</span> = <span class="hljs-string">"/data/storage/el2/base/haps/entry/files"</span><span class="hljs-comment">;</span>
HiAI_OmType <span class="hljs-attr">omType</span> = HIAI_OM_TYPE_PROFILING<span class="hljs-comment">;</span>
OH_NN_ReturnCode <span class="hljs-attr">ret</span> = HMS_HiAIOptions_SetOmOptions(compilation, omType, out_path)<span class="hljs-comment">;     </span>
</code></pre>
<p>4.è®¾ç½®æ¨¡å‹çš„deviceIDã€‚</p>
<pre><code class="hljs language-ini" lang="ini">size_t <span class="hljs-attr">deviceID</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
const size_t *<span class="hljs-attr">allDevicesID</span> = nullptr<span class="hljs-comment">;</span>
uint32_t <span class="hljs-attr">deviceCount</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
OH_NN_ReturnCode <span class="hljs-attr">ret</span> = OH_NNDevice_GetAllDevicesID(&amp;allDevicesID, &amp;deviceCount)<span class="hljs-comment">;</span>

for (uint32_t <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; deviceCount; i++) {</span>
    const char *<span class="hljs-attr">name</span> = nullptr<span class="hljs-comment">;</span>
    <span class="hljs-attr">ret</span> = OH_NNDevice_GetName(allDevicesID[i], &amp;name)<span class="hljs-comment">;</span>
    if (ret != OH_NN_SUCCESS || <span class="hljs-attr">name</span> == nullptr) {
        OH_LOG_ERROR(LOG_APP, "OH_NNDevice_GetName failed")<span class="hljs-comment">;</span>
        return deviceID<span class="hljs-comment">;</span>
    }
    if (std::string(name) == "HIAI_F") {
        <span class="hljs-attr">deviceID</span> = allDevicesID[i]<span class="hljs-comment">;</span>
        break<span class="hljs-comment">;</span>
    }
}

<span class="hljs-attr">ret</span> = OH_NNCompilation_SetDevice(compilation, deviceID)<span class="hljs-comment">;</span>
</code></pre>
<p>5.è°ƒç”¨OH_NNCompilation_Buildï¼Œæ‰§è¡Œæ¨¡å‹ç¼–è¯‘ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">ret</span> = SetModelBuildOptions(compilation)<span class="hljs-comment">;</span>
<span class="hljs-attr">ret</span> = OH_NNCompilation_Build(compilation)<span class="hljs-comment">;</span>
</code></pre>
<p>6.è°ƒç”¨OH_NNExecutor_Constructï¼Œåˆ›å»ºæ¨¡å‹æ‰§è¡Œå™¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">executor_</span> = OH_NNExecutor_Construct(compilation)<span class="hljs-comment">;</span>
</code></pre>
<p>7.è°ƒç”¨OH_NNCompilation_Destroyï¼Œé‡Šæ”¾æ¨¡å‹ç¼–è¯‘å®ä¾‹ã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-15"><strong>3.3.2 å‡†å¤‡è¾“å…¥è¾“å‡º****Tensor</strong></h4>
<p>1.å¤„ç†æ¨¡å‹çš„è¾“å…¥ï¼Œæ¨¡å‹çš„è¾“å…¥ä¸º1<em>3</em>128*128æ ¼å¼(BCHW) Floatç±»å‹çš„æ•°æ®, éœ€è¦æŠŠRGB æ•°æ®è½¬æˆBCHWæ ¼å¼å¹¶è¿›è¡Œå½’ä¸€åŒ–ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">ä»å›¾ç‰‡ä¸­è¯»å–çš„RGBæ•°æ®ä¸ºBHWC,éœ€è¦è½¬æ¢æˆæ¨¡å‹å¯ä»¥è¯†åˆ«çš„BCHW
/**
 * æŠŠbhwcè½¬æˆbchw
 */
uint8_t *<span class="hljs-attr">rgbData</span> = static_cast&lt;uint8_t*&gt;(data)<span class="hljs-comment">;</span>
uint8_t *<span class="hljs-attr">floatData_tmp</span> = new uint8_t[length]<span class="hljs-comment">;</span>
for (int <span class="hljs-attr">c</span> = <span class="hljs-number">0</span><span class="hljs-comment">; c &lt; 3; ++c) {</span>
    for (int <span class="hljs-attr">h</span> = <span class="hljs-number">0</span><span class="hljs-comment">; h &lt; 128; ++h) {</span>
        for (int <span class="hljs-attr">w</span> = <span class="hljs-number">0</span><span class="hljs-comment">; w &lt; 128; ++w) {</span>
            // HWC ç´¢å¼•: h * width * channels + w * channels +c 
            int <span class="hljs-attr">hwc_index</span> = h * <span class="hljs-number">128</span> * <span class="hljs-number">3</span> + w * <span class="hljs-number">3</span> + c<span class="hljs-comment">;</span>
            // CHW ç´¢å¼•: C * height * width + h* width + W
            int <span class="hljs-attr">chw_index</span> = c * <span class="hljs-number">128</span> * <span class="hljs-number">128</span> + h * <span class="hljs-number">128</span> + w<span class="hljs-comment">;</span>
            floatData_tmp<span class="hljs-section">[chw_index]</span> = rgbData<span class="hljs-section">[hwc_index]</span><span class="hljs-comment">;</span>
        }
    }
}
//å½’ä¸€åŒ–
float *<span class="hljs-attr">floatData</span> = new float[length]<span class="hljs-comment">;</span>
for (size_t <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; length; ++i) {</span>
    floatData<span class="hljs-section">[i]</span> = static_cast&lt;float&gt;(floatData_tmp<span class="hljs-section">[i]</span>)/ 255.0f<span class="hljs-comment">;</span>
}
</code></pre>
<p>2.åˆ›å»ºæ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºTensorï¼Œå¹¶æŠŠåº”ç”¨å±‚ä¼ é€’çš„æ•°æ®å¡«å……åˆ°è¾“å…¥çš„Tensorä¸­</p>
<pre><code class="hljs language-ini" lang="ini">// å‡†å¤‡è¾“å…¥å¼ é‡
size_t <span class="hljs-attr">inputCount</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
OH_NN_ReturnCode <span class="hljs-attr">ret</span> = OH_NNExecutor_GetInputCount(executor_, &amp;inputCount)<span class="hljs-comment">;</span>
for (size_t <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; inputCount; ++i) {</span>
    NN_TensorDesc *<span class="hljs-attr">tensorDesc</span> = OH_NNExecutor_CreateInputTensorDesc(executor_, i)<span class="hljs-comment">;</span>
    NN_Tensor *<span class="hljs-attr">tensor</span> = OH_NNTensor_Create(deviceID_, tensorDesc)<span class="hljs-comment">;</span>
    if (tensor != nullptr) {
        inputTensors_.push_back(tensor)<span class="hljs-comment">;</span>
    }
    OH_NNTensorDesc_Destroy(&amp;tensorDesc)<span class="hljs-comment">;</span>
}


<span class="hljs-attr">ret</span> = SetInputTensorData(inputTensors_, inputData)<span class="hljs-comment">;</span>

// å‡†å¤‡è¾“å‡ºå¼ é‡
size_t <span class="hljs-attr">outputCount</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
<span class="hljs-attr">ret</span> = OH_NNExecutor_GetOutputCount(executor_, &amp;outputCount)<span class="hljs-comment">;</span>

for (size_t <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; outputCount; i++) {</span>
    NN_TensorDesc *<span class="hljs-attr">tensorDesc</span> = OH_NNExecutor_CreateOutputTensorDesc(executor_, i)<span class="hljs-comment">;</span>
    NN_Tensor *<span class="hljs-attr">tensor</span> = OH_NNTensor_Create(deviceID_, tensorDesc)<span class="hljs-comment">;</span>
    if (tensor != nullptr) {
        outputTensors_.push_back(tensor)<span class="hljs-comment">;</span>
    }
    OH_NNTensorDesc_Destroy(&amp;tensorDesc)<span class="hljs-comment">;</span>
}
if (outputTensors_.size() != outputCount) {
    DestroyTensors(inputTensors_)<span class="hljs-comment">;</span>
    DestroyTensors(outputTensors_)<span class="hljs-comment">;</span>
    OH_LOG_ERROR(LOG_APP, "output size mismatch.")<span class="hljs-comment">;</span>
    return OH_NN_FAILED<span class="hljs-comment">;</span>
}
</code></pre>
<p>ï»¿</p>
<h4 data-id="heading-16"><strong>3.3.3 è¿›è¡Œæ¨ç†</strong></h4>
<p>è°ƒç”¨OH_NNExecutor_RunSyncï¼Œå®Œæˆæ¨¡å‹çš„åŒæ­¥æ¨ç†ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">OH_NN_ReturnCode ret = <span class="hljs-built_in">OH_NNExecutor_RunSync</span>(executor_, inputTensors_.data(), inputTensors_<span class="hljs-selector-class">.size</span>(),
                                                 outputTensors_<span class="hljs-selector-class">.data</span>(), outputTensors_<span class="hljs-selector-class">.size</span>());
</code></pre>
<p>è¯´æ˜</p>
<p>â€¢å¦‚æœä¸æ›´æ¢æ¨¡å‹ï¼Œåˆ™é¦–æ¬¡ç¼–è¯‘åŠ è½½å®Œæˆåå¯å¤šæ¬¡æ¨ç†ï¼Œå³ä¸€æ¬¡ç¼–è¯‘åŠ è½½ï¼Œå¤šæ¬¡æ¨ç†ã€‚</p>
<p>â€¢æ‰€æœ‰å…³äºæ¨¡å‹çš„æ“ä½œ, å‡æ— æ³•å¤šçº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-17"><strong>3.3.4 è·å–æ¨¡å‹è¾“å‡ºå¹¶å¤„ç†æ•°æ®</strong></h4>
<p>1.è°ƒç”¨OH_NNTensor_GetDataBufferï¼Œè·å–è¾“å‡ºçš„Tensorï¼Œåœ¨è¾“å‡ºTensorä¸­ä¼šå¾—åˆ°æ¨¡å‹çš„è¾“å‡ºæ•°æ®ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// è·å–ç¬¬ä¸€ä¸ªè¾“å‡ºå¼ é‡
NN_Tensor* <span class="hljs-attr">tensor</span> = outputTensors_[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>

// è·å–å¼ é‡æ•°æ®ç¼“å†²åŒº
void *<span class="hljs-attr">tensorData</span> = OH_NNTensor_GetDataBuffer(tensor)<span class="hljs-comment">;</span>

// è·å–å¼ é‡å¤§å°
size_t <span class="hljs-attr">size</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
OH_NN_ReturnCode <span class="hljs-attr">ret</span> = OH_NNTensor_GetSize(tensor, &amp;size)<span class="hljs-comment">;</span>

float *<span class="hljs-attr">tensorDataOutput</span> = (float*)malloc(size)<span class="hljs-comment">;</span>
// å°†tensorDataçš„æ•°æ®ä¸€æ¬¡æ€§å¤åˆ¶åˆ°tensorDataOutputä¸­
memcpy(tensorDataOutput, tensorData, size)<span class="hljs-comment">;</span>
</code></pre>
<p>ï»¿</p>
<p>2.å¯¹Tensorè¾“å‡ºæ•°æ®è¿›è¡Œç›¸åº”çš„å¤„ç†</p>
<p>æŠŠæ¨¡å‹è¾“å‡ºçš„BCHWè½¬æˆBHWC, å¹¶è¿›è¡Œåå½’ä¸€åŒ–å¤„ç†</p>
<p>ï»¿</p>
<pre><code class="hljs language-ini" lang="ini">//æŠŠæ¨¡å‹è¾“å‡ºçš„BCHWè½¬æˆBHWC
float *<span class="hljs-attr">outputResult</span> = static_cast&lt;float *&gt;(tensorData)<span class="hljs-comment">;</span>
float *<span class="hljs-attr">output_tmp</span> = new float[size/sizeof(float)]<span class="hljs-comment">;</span>
for (int <span class="hljs-attr">h</span> = <span class="hljs-number">0</span><span class="hljs-comment">; h &lt; 512; ++h) {</span>
    for (int <span class="hljs-attr">w</span> = <span class="hljs-number">0</span><span class="hljs-comment">; w &lt; 512; ++w) {</span>
        for (int <span class="hljs-attr">c</span> = <span class="hljs-number">0</span><span class="hljs-comment">; c &lt; 3; ++c) {</span>
            output_tmp<span class="hljs-section">[h * 512 * 3 + w* 3 + c]</span> = outputResult<span class="hljs-section">[c * 512 * 512 + h * 512 + w]</span><span class="hljs-comment">;</span>
        }
    }
}
std::vector&lt;float&gt; output(size / sizeof(float), 0.0)<span class="hljs-comment">;</span>
for (size_t <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; size / sizeof(float); ++i) {</span>
    output<span class="hljs-section">[i]</span> = output_tmp<span class="hljs-section">[i]</span><span class="hljs-comment">;</span>
}
delete <span class="hljs-section">[]</span> output_tmp<span class="hljs-comment">;</span>


 // è®¡ç®—æ€»çš„æ•°æ®å¤§å°
size_t <span class="hljs-attr">totalSize</span> = output.size()<span class="hljs-comment">;</span>

// åˆ†é…ç»“æœæ•°æ®å†…å­˜
std::unique_ptr&lt;uint8_t<span class="hljs-section">[]</span>&gt; <span class="hljs-attr">result_data</span> = std::make_unique&lt;uint8_t[]&gt;(totalSize)<span class="hljs-comment">;</span>

// å°†floatæ•°æ®è½¬æ¢ä¸ºuint8_t (åå½’ä¸€åŒ–)
size_t <span class="hljs-attr">index</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
for (float value : result) {
    // å°†floatå€¼è½¬æ¢ä¸ºuint8_t (0-255èŒƒå›´)
    float <span class="hljs-attr">scaledValue</span> = value * <span class="hljs-number">255.0</span>f<span class="hljs-comment">;</span>
    <span class="hljs-attr">scaledValue</span> = std::max(<span class="hljs-number">0.0</span>f, std::min(<span class="hljs-number">255.0</span>f, scaledValue))<span class="hljs-comment">;</span>
    result_data<span class="hljs-section">[index++]</span> = static_cast&lt;uint8_t&gt;(scaledValue)<span class="hljs-comment">;</span>
}

result_data å°±æ˜¯æœ€ç»ˆçš„è¶…åˆ†æ•°æ®,å¯ä»¥æ­£å¸¸æ˜¾ç¤º
</code></pre>
<p>ï»¿</p>
<h2 data-id="heading-18"><strong>4. æ€»ç»“ä¸æŠ€æœ¯å±•æœ›</strong></h2>
<p>äº¬ä¸œé‡‘èAppåœ¨é¸¿è’™ç«¯éƒ¨ç½²Real-ESRGAN-General-x4v3è¶…åˆ†è¾¨ç‡æ¨¡å‹çš„å®Œæ•´å®è·µè¿‡ç¨‹ï¼ŒæˆåŠŸè§£å†³äº†ONNXæ¨¡å‹åˆ°OMç¦»çº¿æ¨¡å‹è½¬æ¢ã€BCHWä¸BHWCå¼ é‡æ ¼å¼å¤„ç†ã€ä»¥åŠåŸºäºCANN Kitå’ŒNAPIçš„å®Œæ•´éƒ¨ç½²é“¾è·¯ç­‰å…³é”®æŠ€æœ¯éš¾é¢˜ã€‚</p>
<p>å±•æœ›ç«¯æ™ºèƒ½çš„æœªæ¥å‘å±•ï¼Œéšç€èŠ¯ç‰‡ç®—åŠ›çš„æŒ‡æ•°çº§å¢é•¿ã€æ¨¡å‹å‹ç¼©æŠ€æœ¯çš„çªç ´æ€§è¿›å±•ä»¥åŠè¾¹ç¼˜è®¡ç®—æ¶æ„çš„æ—¥è¶‹æˆç†Ÿï¼Œç«¯ä¾§è®¾å¤‡å°†ä»å•çº¯çš„æ•°æ®é‡‡é›†ç»ˆç«¯æ¼”è¿›ä¸ºå…·å¤‡å¼ºå¤§æ¨ç†èƒ½åŠ›çš„æ™ºèƒ½è®¡ç®—èŠ‚ç‚¹ï¼Œé€šè¿‡å®ç°å¤šæ¨¡æ€AIèåˆã€å®æ—¶ä¸ªæ€§åŒ–å­¦ä¹ ã€éšç§ä¿æŠ¤è®¡ç®—å’Œè·¨è®¾å¤‡ååŒç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œå°†å¤§è¯­è¨€æ¨¡å‹ã€è®¡ç®—æœºè§†è§‰ã€è¯­éŸ³è¯†åˆ«ç­‰AIæŠ€æœ¯æ·±åº¦é›†æˆåˆ°ç§»åŠ¨è®¾å¤‡ä¸­ï¼Œæ„å»ºèµ·æ— éœ€è”ç½‘å³å¯æä¾›æ™ºèƒ½æœåŠ¡çš„è‡ªä¸»è®¡ç®—ç”Ÿæ€ï¼Œæ¨åŠ¨äººæœºäº¤äº’ä»è¢«åŠ¨å“åº”å‘ä¸»åŠ¨æ„ŸçŸ¥ã€é¢„æµ‹å’ŒæœåŠ¡çš„èŒƒå¼è½¬å˜ï¼Œæœ€ç»ˆå¼€å¯çœŸæ­£æ„ä¹‰ä¸Šçš„æ™®æƒ äººå·¥æ™ºèƒ½æ—¶ä»£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›é¡¾è®¡ç®—å±æ€§çš„ç¼“å­˜ä¸ç›‘å¬çš„è§¦å‘è¿”å›ç»“æœ]]></title>    <link>https://juejin.cn/post/7586879894207922239</link>    <guid>https://juejin.cn/post/7586879894207922239</guid>    <pubDate>2025-12-23T09:13:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586879894207922239" data-draft-id="7533501485156368418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›é¡¾è®¡ç®—å±æ€§çš„ç¼“å­˜ä¸ç›‘å¬çš„è§¦å‘è¿”å›ç»“æœ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2025-12-23T09:13:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹‰ä¸åŠ¨çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/1429793504759630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›é¡¾è®¡ç®—å±æ€§çš„ç¼“å­˜ä¸ç›‘å¬çš„è§¦å‘è¿”å›ç»“æœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1429793504759630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹‰ä¸åŠ¨çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T09:13:55.000Z" title="Tue Dec 23 2025 09:13:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-light">.hljs-comment,.hljs-quote{color:#6b7394}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f5f7ff;color:#5e6687}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>ç½‘ä¸Šçš„ç»™å‡ºçš„åŒºåˆ«æœ‰å¾ˆå¤šï¼Œä»Šå¤©åªæ˜¯ç®€å•æ¥å›å½’ä¸‹å…¶ä¸­çš„ä¸€äº›æµç¨‹å’ŒåŒºåˆ«çš„å…³é”®ç‚¹ã€‚</p>
<p><strong>ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹è¿›è¡Œæ€è€ƒï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"calc"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">"n1"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ•°å­—1"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">"n2"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ•°å­—2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å’Œï¼š{{ sum }} å¹³å‡å€¼ï¼š{{ avg }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç”¨æˆ·å"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{color: tipColor}"</span>&gt;</span>{{ tip }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">n1</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">n2</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">tip</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">tipColor</span>: <span class="hljs-string">'#333'</span> }
    },
    <span class="hljs-attr">computed</span>: {
      <span class="hljs-title function_">sum</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">n1</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">n2</span> },
      <span class="hljs-title function_">avg</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">sum</span> / <span class="hljs-number">2</span> }
    },
    <span class="hljs-attr">watch</span>: {
      <span class="hljs-title function_">name</span>(<span class="hljs-params">v</span>) {
        <span class="hljs-keyword">if</span> (!v.<span class="hljs-title function_">trim</span>()) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">tip</span> = <span class="hljs-string">'ä¸èƒ½ä¸ºç©º'</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tipColor</span> = <span class="hljs-string">'red'</span> }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">tip</span> = <span class="hljs-string">'ä¸å°‘äº3ä½'</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tipColor</span> = <span class="hljs-string">'orange'</span> }
        <span class="hljs-keyword">else</span> { <span class="hljs-variable language_">this</span>.<span class="hljs-property">tip</span> = <span class="hljs-string">'å¯ç”¨'</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tipColor</span> = <span class="hljs-string">'green'</span> }
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.calc</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto; }
  <span class="hljs-selector-tag">input</span> { <span class="hljs-attribute">display</span>: block; <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>å…³äº watch å’Œ computed çš„ä½¿ç”¨æˆ‘ä»¬å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ä¸€ä¸€ä»‹ç»ï¼Œ<strong>ä½†æ˜¯è¯·è®°ä½ï¼šç›‘å¬æ˜¯ä¸éœ€è¦ return çš„ï¼Œè®¡ç®—å±æ€§æ˜¯ç™¾åˆ†ç™¾å¿…é¡»è¦æœ‰çš„ã€‚</strong></p>
<h2 data-id="heading-1">1ã€ç›‘å¬å’Œè®¡ç®—å±æ€§çš„åŒºåˆ«</h2>
<h4 data-id="heading-2"><strong>æœ€å…³é”®çš„åŒºåˆ«ï¼š</strong></h4>
<p><strong>1ã€ç›‘å¬æ˜¯æ²¡æœ‰ç¼“å­˜çš„ï¼Œè®¡ç®—å±æ€§æ˜¯æœ‰ç¼“å­˜çš„</strong></p>
<p><strong>2ã€ç›‘å¬æ˜¯ä¸éœ€è¦æœ‰è¿”å›å€¼çš„ï¼Œä½†æ˜¯æœºæŸå±æ€§æ˜¯å¿…é¡»è¦æœ‰è¿”å›å€¼çš„ã€‚ï¼ˆæé™æƒ…å†µä¸‹ä¸returnåŸºæœ¬æ²¡æ„ä¹‰ï¼‰</strong></p>
<p><strong>å…¶ä»–çš„åŒºåˆ«ï¼š</strong></p>






























<table><thead><tr><th><strong>å¯¹æ¯”ç»´åº¦</strong></th><th><strong>è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰</strong></th><th><strong>ç›‘å¬å™¨ï¼ˆwatchï¼‰</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç”¨é€”</strong></td><td>åŸºäºå·²æœ‰æ•°æ®<strong>æ¨å¯¼ / è®¡ç®—æ–°æ•°æ®</strong>ï¼ˆæ•°æ®è½¬æ¢ / ç»„åˆï¼‰</td><td>ç›‘å¬å·²æœ‰æ•°æ®çš„<strong>å˜åŒ–</strong>ï¼Œæ‰§è¡Œå¼‚æ­¥æ“ä½œæˆ–å¤æ‚é€»è¾‘ï¼ˆæ— æ–°æ•°æ®äº§å‡ºï¼Œä¾§é‡ â€œå‰¯ä½œç”¨â€ï¼‰</td></tr><tr><td><strong>ä¾èµ–å…³ç³»</strong></td><td>åªèƒ½ä¾èµ– Vue å®ä¾‹ä¸­çš„å“åº”å¼æ•°æ®ï¼ˆ<code>data</code>/<code>props</code>/ å…¶ä»–Â <code>computed</code>ï¼‰ï¼Œè‡ªåŠ¨æ„ŸçŸ¥ä¾èµ–å˜åŒ–</td><td>å¯ç›‘å¬å•ä¸ªå“åº”å¼æ•°æ®ã€å¯¹è±¡å±æ€§ã€æ•°ç»„ï¼Œç”šè‡³é€šè¿‡Â <code>deep: true</code>ç›‘å¬å¯¹è±¡æ·±å±‚å˜åŒ–ï¼Œæ”¯æŒæ‰‹åŠ¨æŒ‡å®šç›‘å¬ç›®æ ‡</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>1. ç®€å•æ•°æ®æ‹¼æ¥ï¼ˆå¦‚å…¨åï¼š<code>firstName + lastName</code>ï¼‰2. æ•°æ®æ ¼å¼åŒ–ï¼ˆå¦‚æ—¶é—´æˆ³è½¬æ—¥æœŸå­—ç¬¦ä¸²ï¼‰3. ä¾èµ–å¤šæ•°æ®çš„è®¡ç®—ï¼ˆå¦‚æ€»ä»·ï¼š<code>price * count</code>ï¼‰4. éœ€ç¼“å­˜çš„é‡å¤è®¡ç®—åœºæ™¯</td><td>1. å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç›‘å¬è¾“å…¥æ¡†å˜åŒ–ï¼Œå»¶è¿Ÿè¯·æ±‚æ¥å£è·å–è”æƒ³æ•°æ®ï¼‰2. å¤æ‚é€»è¾‘å¤„ç†ï¼ˆå¦‚ç›‘å¬ç”¨æˆ·çŠ¶æ€å˜åŒ–ï¼ŒåŒæ­¥æ›´æ–°æƒé™èœå•ï¼‰3. ç›‘å¬å¯¹è±¡æ·±å±‚å˜åŒ–ï¼ˆå¦‚ç›‘å¬è¡¨å•å¯¹è±¡ï¼Œç»Ÿä¸€å¤„ç†æäº¤å‰æ ¡éªŒï¼‰4. æ•°æ®å˜åŒ–åçš„è”åŠ¨æ“ä½œï¼ˆéæ•°æ®æ¨å¯¼ç±»ï¼‰</td></tr><tr><td><strong>æ˜¯å¦æ”¯æŒå¼‚æ­¥</strong></td><td>ä¸æ”¯æŒå¼‚æ­¥æ“ä½œï¼šè‹¥åœ¨Â <code>computed</code>ä¸­ä½¿ç”¨å¼‚æ­¥ï¼ˆå¦‚å®šæ—¶å™¨ã€æ¥å£è¯·æ±‚ï¼‰ï¼Œæ— æ³•æ­£ç¡®è¿”å›æ¨å¯¼ç»“æœï¼Œä¼šå¾—åˆ°Â <code>undefined</code></td><td>æ”¯æŒå¼‚æ­¥æ“ä½œï¼šè¿™æ˜¯Â <code>watch</code>çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ï¼Œå¯åœ¨ç›‘å¬å‡½æ•°ä¸­æ‰§è¡Œä»»æ„å¼‚æ­¥é€»è¾‘</td></tr></tbody></table>
<h2 data-id="heading-3">2ï¼š ç›‘å¬å’Œè®¡ç®—å±æ€§çš„åŸºæœ¬è§¦å‘æµç¨‹ï¼š</h2>
<h3 data-id="heading-4">æ ¸å¿ƒé€»è¾‘ï¼š<code>set</code>Â â†’Â <code>Dep</code>Â â†’Â <code>Watcher</code>Â â†’Â <code>watch</code>/<code>computed</code>Â è”åŠ¨æµç¨‹</h3>
<p>æ— è®ºæ˜¯Â <code>watch</code>Â è¿˜æ˜¯Â <code>computed</code>ï¼Œåº•å±‚è”åŠ¨æµç¨‹çš„æ ¸å¿ƒä¸€è‡´ï¼Œ<strong>ä»…åœ¨</strong> <code>Watcher</code> <strong>æ‰§è¡Œé€»è¾‘ä¸Šæœ‰å·®å¼‚</strong>ï¼Œå®Œæ•´æµç¨‹å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–é˜¶æ®µ â€”â€” ä¾èµ–æ”¶é›†ï¼ˆ<code>get</code>Â æ‹¦æˆªå™¨ +Â <code>Dep</code>Â +Â <code>Watcher</code>Â ç»‘å®šï¼‰</h3>
<ol>
<li><code>computed</code> ****<strong>çš„ä¾èµ–æ”¶é›†</strong>ï¼š</li>
</ol>

<ol>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä¼šä¸ºæ¯ä¸ªè®¡ç®—å±æ€§åˆ›å»ºä¸€ä¸ªã€Œè®¡ç®—å±æ€§Â <code>Watcher</code>ã€ï¼›
1.  æ‰§è¡Œè®¡ç®—å±æ€§çš„Â <code>get</code>Â æ–¹æ³•ï¼Œè®¿é—®ä¾èµ–çš„å“åº”å¼æ•°æ®ï¼ˆå¦‚Â <code>this.num1</code>ï¼‰ï¼›
1.  è§¦å‘è¯¥æ•°æ®çš„Â <code>get</code>Â æ‹¦æˆªå™¨ï¼Œ<code>get</code>Â æ‹¦æˆªå™¨ä¼šå°†å½“å‰ã€Œè®¡ç®—å±æ€§Â <code>Watcher</code>ã€æ·»åŠ åˆ°è¯¥æ•°æ®çš„Â <code>Dep</code>Â ä¾èµ–åˆ—è¡¨ä¸­ï¼›
1.  æ‰€æœ‰ä¾èµ–æ•°æ®éƒ½å®ŒæˆÂ <code>Watcher</code>Â ç»‘å®šï¼Œæœ€ç»ˆç¼“å­˜è®¡ç®—å±æ€§çš„åˆå§‹ç»“æœã€‚</li>
</ol>

<ol start="2">
<li><code>watch</code> ****<strong>çš„ä¾èµ–æ”¶é›†</strong>ï¼š</li>
</ol>

<ol>
<li>
<ol>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä¼šä¸ºæ¯ä¸ªÂ <code>watch</code>Â ç›‘å¬ç›®æ ‡åˆ›å»ºä¸€ä¸ªã€Œæ™®é€šÂ <code>Watcher</code>ã€ï¼›</li>
<li>ä¸»åŠ¨è¯»å–ä¸€æ¬¡ç›‘å¬ç›®æ ‡æ•°æ®ï¼ˆå¦‚Â <code>this.username</code>ï¼‰ï¼Œè§¦å‘è¯¥æ•°æ®çš„Â <code>get</code>Â æ‹¦æˆªå™¨ï¼›</li>
<li><code>get</code>Â æ‹¦æˆªå™¨å°†å½“å‰ã€Œæ™®é€šÂ <code>Watcher</code>ã€æ·»åŠ åˆ°è¯¥æ•°æ®çš„Â <code>Dep</code>Â ä¾èµ–åˆ—è¡¨ä¸­ï¼›</li>
<li>è‹¥å¼€å¯Â <code>deep: true</code>ï¼Œä¼šé€’å½’éå†å¯¹è±¡ / æ•°ç»„çš„å†…éƒ¨å±æ€§ï¼Œå®Œæˆæ·±å±‚ä¾èµ–æ”¶é›†ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šæ›´æ–°é˜¶æ®µ â€”â€”<code>set</code>Â æ‹¦æˆªå™¨è§¦å‘Â <code>Watcher</code>Â æ‰§è¡Œ</h3>
<p>å½“ä¿®æ”¹å“åº”å¼æ•°æ®æ—¶ï¼ˆå¦‚Â <code>this.num1 = 10</code>ï¼‰ï¼Œè§¦å‘åº•å±‚è”åŠ¨ï¼š</p>
<ol>
<li>æ•°æ®è¢«ä¿®æ”¹ï¼Œè§¦å‘è¯¥æ•°æ®çš„Â <code>set</code>Â æ‹¦æˆªå™¨ï¼›</li>
<li><code>set</code>Â æ‹¦æˆªå™¨è°ƒç”¨å¯¹åº”Â <code>Dep</code>Â çš„Â <code>notify()</code>Â æ–¹æ³•ï¼ˆæ´¾å‘æ›´æ–°é€šçŸ¥ï¼‰ï¼›</li>
<li><code>Dep</code>Â éå†è‡ªèº«çš„ä¾èµ–åˆ—è¡¨ï¼Œé€šçŸ¥æ‰€æœ‰ç»‘å®šçš„Â <code>Watcher</code>ã€Œæ•°æ®å·²æ›´æ–°ã€ï¼›</li>
<li>ä¸åŒç±»å‹çš„Â <code>Watcher</code>Â æ¥æ”¶é€šçŸ¥åï¼Œæ‰§è¡Œå·®å¼‚åŒ–æ“ä½œï¼ˆè¿™æ˜¯Â <code>watch</code>Â å’ŒÂ <code>computed</code>Â è¡¨ç°ä¸åŒçš„æ ¸å¿ƒåŸå› ï¼‰ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>æ™®é€š</strong> <code>Watcher</code> <strong>ï¼ˆå¯¹åº”</strong> <code>watch</code> <strong>ï¼‰</strong> ï¼šæ”¶åˆ°é€šçŸ¥åï¼Œ<strong>ç«‹å³æ‰§è¡Œ</strong> <code>watch</code> <strong>çš„å›è°ƒå‡½æ•°</strong>ï¼Œä¼ å…¥Â <code>newVal</code>Â å’ŒÂ <code>oldVal</code>ï¼Œæ‰§è¡Œå¼‚æ­¥ / å¤æ‚é€»è¾‘ï¼›</li>
<li><strong>è®¡ç®—å±æ€§</strong> <code>Watcher</code> <strong>ï¼ˆå¯¹åº”</strong> <code>computed</code> <strong>ï¼‰</strong> ï¼šæ”¶åˆ°é€šçŸ¥åï¼Œ<strong>ä»…å°†è‡ªèº«æ ‡è®°ä¸ºã€Œè„çŠ¶æ€ã€ï¼ˆç¼“å­˜å¤±æ•ˆï¼‰</strong> ï¼Œä¸ç«‹å³æ‰§è¡Œè®¡ç®—é€»è¾‘ï¼Œç­‰å¾…ä¸‹æ¬¡è®¿é—®è®¡ç®—å±æ€§æ—¶ï¼Œæ‰é‡æ–°æ‰§è¡ŒÂ <code>get</code>Â æ–¹æ³•è®¡ç®—æ–°ç»“æœå¹¶æ›´æ–°ç¼“å­˜ã€‚</li>
</ul>
</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-attr">watch</span>: {
    <span class="hljs-title function_">num</span>(<span class="hljs-params">newVal, oldVal</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ã€watchã€‘ï¼šnumä»<span class="hljs-subst">${oldVal}</span>å˜ä¸º<span class="hljs-subst">${newVal}</span>ï¼Œæˆ‘ç«‹å³æ‰§è¡Œå›è°ƒ`</span>);
    }
  },
</code></pre>
<p>å½“ set è§¦å‘ watcher åï¼Œwatcher å°±ä¼šç«‹å³è§¦å‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">num</span>(<span class="hljs-params">newVal, oldVal</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ã€watchã€‘ï¼šnumä»<span class="hljs-subst">${oldVal}</span>å˜ä¸º<span class="hljs-subst">${newVal}</span>ï¼Œæˆ‘ç«‹å³æ‰§è¡Œå›è°ƒ`</span>);
    }
</code></pre>
<p><strong>ä»€ä¹ˆå«</strong> <strong>æ”¶åˆ°é€šçŸ¥åï¼Œ</strong> <strong>ä»…å°†è‡ªèº«æ ‡è®°ä¸ºã€Œè„çŠ¶æ€ã€ï¼ˆç¼“å­˜å¤±æ•ˆï¼‰</strong> <strong>ï¼Œä¸ç«‹å³æ‰§è¡Œè®¡ç®—é€»è¾‘ï¼Œç­‰å¾…ä¸‹æ¬¡è®¿é—®è®¡ç®—å±æ€§æ—¶ï¼Œæ‰é‡æ–°æ‰§è¡Œ</strong> <code>get</code> <strong>æ–¹æ³•è®¡ç®—æ–°ç»“æœå¹¶æ›´æ–°ç¼“å­˜ã€‚</strong></p>
<p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¿™é‡Œå°±æ˜¯ã€Œè®¿é—®è®¡ç®—å±æ€§ã€ï¼šæ¨¡æ¿æ¸²æŸ“æ—¶ä¼šè¯»å– numDouble çš„å€¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"num &lt; 2"</span>&gt;</span>ä¸¤å€æ•°ï¼š{{ numDouble }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">num</span>: <span class="hljs-number">1</span> };
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">numDouble</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è®¡ç®—å±æ€§æ‰§è¡Œè®¡ç®—"</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> * <span class="hljs-number">2</span>;
    },
  },
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = <span class="hljs-number">5</span>; <span class="hljs-comment">// 2ç§’åï¼Œv-ifä¸æˆç«‹</span>
  }, <span class="hljs-number">2000</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = <span class="hljs-number">1</span>; <span class="hljs-comment">// 4ç§’åï¼Œv-ifå†æ¬¡æˆç«‹</span>
  }, <span class="hljs-number">4000</span>);
  },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

// æ§åˆ¶å°åªä¼šæ‰“å°2æ¬¡â€œè®¡ç®—å±æ€§æ‰§è¡Œ
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆåªæ‰“å° 2 æ¬¡ï¼š</strong></p>
<p><strong>åŸå› å°±æ˜¯æˆ‘ä»¬çš„è®¡ç®—å±æ€§åœ¨ 2s åæ²¡æœ‰æ‰§è¡Œ</strong></p>
<p><strong>1ã€ å½“åˆå§‹åŒ–æ—¶ï¼Œé¡µé¢ä¸­ v-if æ¡ä»¶æ˜¯ç¬¦åˆçš„ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡ get è®¡ç®—å¾—åˆ°è¿”å›å€¼</strong></p>
<p><strong>2ã€å½“ç»è¿‡ä¸¤ç§’åã€</strong> <strong>v-if ä¸ç¬¦åˆæ¡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™è¡¨æ˜numDouble æ˜¯è„æ•°æ®ï¼Œä¼šå¯¹å…¶è¿›è¡Œæ ‡è®°ï¼ˆ</strong> <strong>v-if ä¸ç¬¦åˆæ¡ä»¶ï¼Œæ‰€ä»¥æ— æ³•å¯¹numDouble è¿›è¡Œè®¿é—®ï¼Œ</strong> <strong>è¿™é‡Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„ç¼“å­˜ï¼Œç¼“å­˜è®¡ç®—å±æ€§çš„ç»“æœå€¼ï¼Œå½“è„çŠ¶æ€å–æ¶ˆæ—¶æ‰ä¼šè¿›è¡Œæ–°çš„è®¡ç®—</strong> <strong>)</strong></p>
<p><strong>3ã€å½“ ç»è¿‡ 4 ç§’åæ¡ä»¶å†æ¬¡è¢«æ»¡è¶³æ—¶ï¼Œæ‰ä¼šæœ‰æ–°çš„è®¡ç®—ã€‚</strong></p>
<h2 data-id="heading-7">3ï¼š è®¡ç®—å±æ€§ä¸ºä»€ä¹ˆä¸èƒ½å¼‚æ­¥</h2>
<p><strong>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨å»¶æ—¶è¿›è¡Œæ¨¡ä»¿ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¿™é‡Œå°±æ˜¯ã€Œè®¿é—®è®¡ç®—å±æ€§ã€ï¼šæ¨¡æ¿æ¸²æŸ“æ—¶ä¼šè¯»å– numDouble çš„å€¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"num &lt; 2"</span>&gt;</span>ä¸¤å€æ•°ï¼š{{ numDouble }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">num</span>: <span class="hljs-number">1</span> };
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">numDouble</span>(<span class="hljs-params"/>) {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> * <span class="hljs-number">2</span>;
      }, <span class="hljs-number">1000</span>);
    },
  },
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">numDouble</span>);
  },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e5f59c20b284dd38f6f7325a9e275cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ouJ5LiN5Yqo55qE54yq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767086035&amp;x-signature=2Wg17EQIry85cV7xM1hV0RJP8W4%3D" alt="" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆä¼šæ‰“å° underfined å‘¢ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªåŸå› ï¼Ÿ</p>
<h3 data-id="heading-8">åŸå›  1ï¼šJavaScript ä¸­ï¼Œä»»ä½•å‡½æ•°å¦‚æœæ²¡æœ‰æ˜¾å¼å†™Â <code>return</code>Â è¯­å¥ï¼Œæˆ–Â <code>return</code>Â åæ²¡æœ‰è·Ÿéšå…·ä½“å€¼ï¼Œéƒ½ä¼šé»˜è®¤è¿”å›Â <code>undefined</code>ï¼Œè¿™æ˜¯è®¡ç®—å±æ€§è¿”å›Â <code>undefined</code>Â çš„åŸºç¡€åŸå› ã€‚</h3>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-number">11</span>;
        }, <span class="hljs-number">1000</span>);
      }
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">test</span>());
      }, <span class="hljs-number">2000</span>);
</code></pre>
<p>è¿™æ ·å†™æ˜¯å±äºè¯­æ³•çš„é”™è¯¯ã€‚</p>
<h3 data-id="heading-9">åŸå›  2ï¼šsetTimeout çš„å¼‚æ­¥ç‰¹æ€§ï¼ˆå…³é”®ï¼‰</h3>
<p>å³ä½¿ä½ åœ¨Â <code>setTimeout</code>Â å›è°ƒä¸­å†™äº†Â <code>return this.num * 2</code>ï¼Œè¿™ä¸ªè¿”å›å€¼ä¹Ÿæ¯«æ— æ„ä¹‰ï¼Œå› ä¸ºÂ <code>setTimeout</code>æ˜¯<strong>å¼‚æ­¥å®ä»»åŠ¡</strong>ï¼š</p>
<ol>
<li>å½“ Vue è®¿é—®Â <code>this.numDouble</code>Â æ—¶ï¼Œä¼šç«‹å³æ‰§è¡Œè®¡ç®—å±æ€§çš„å‡½æ•°ä½“ï¼›</li>
<li>å‡½æ•°ä½“æ‰§è¡Œåˆ°Â <code>setTimeout</code>Â æ—¶ï¼Œåªä¼šã€Œæ³¨å†Œä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ã€ï¼Œç„¶åç›´æ¥è·³è¿‡Â <code>setTimeout</code>Â ç»§ç»­æ‰§è¡Œï¼›</li>
<li>æ­¤æ—¶è®¡ç®—å±æ€§å‡½æ•°ä½“å·²ç»æ‰§è¡Œå®Œæ¯•ï¼ˆæ²¡æœ‰æ˜¾å¼Â <code>return</code>ï¼‰ï¼Œé»˜è®¤è¿”å›Â <code>undefined</code>ï¼Œå¹¶è¢«Â <code>console.log</code>Â æ‰“å°ï¼›</li>
<li>1 ç§’åï¼Œ<code>setTimeout</code>Â çš„å›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œï¼Œæ­¤æ—¶å›è°ƒä¸­çš„Â <code>return this.num * 2</code>Â åªæ˜¯å›è°ƒå‡½æ•°è‡ªèº«çš„è¿”å›å€¼ï¼Œæ— æ³•ä¼ é€’ç»™è®¡ç®—å±æ€§ï¼Œä¹Ÿæ— æ³•æ”¹å˜ä¹‹å‰å·²ç»è¿”å›çš„Â <code>undefined</code>ã€‚</li>
</ol>
<p><strong>ç®€å•è¯´ï¼šå¼‚æ­¥å›è°ƒçš„è¿”å›å€¼ï¼Œæ— æ³•æˆä¸ºè®¡ç®—å±æ€§çš„è¿”å›å€¼ï¼Œè®¡ç®—å±æ€§ä¼šåœ¨å¼‚æ­¥ä»»åŠ¡æ³¨å†Œåï¼Œç›´æ¥é»˜è®¤è¿”å›</strong> <code>undefined</code> <strong>ã€‚</strong></p>
<h3 data-id="heading-10"><strong>ä¹Ÿå¯ä»¥åˆ†ä¸¤æ­¥èµ°</strong></h3>
<h3 data-id="heading-11">ä¸€ã€å…ˆæ˜ç¡®ï¼šè®¡ç®—å±æ€§çš„å‡½æ•°ä½“ï¼Œ<strong>åªåœ¨ â€œè¢«è®¿é—®â€ æ—¶åŒæ­¥æ‰§è¡Œä¸€æ¬¡ï¼ˆé™¤éæ»¡è¶³é‡æ–°è®¡ç®—æ¡ä»¶ï¼‰</strong></h3>
<p>å½“Â <code>mounted</code>Â ä¸­è®¿é—®Â <code>this.numDouble</code>ï¼Œæˆ–è€…æ¨¡æ¿æ¸²æŸ“è®¿é—®Â <code>numDouble</code>Â æ—¶ï¼ŒVue ä¼š<strong>åŒæ­¥ã€å®Œæ•´åœ°æ‰§è¡Œä¸€é</strong> ****<code>numDouble</code> ****<strong>å‡½æ•°ä½“çš„ä»£ç </strong>ï¼Œä½†è¿™ä¸ªæ‰§è¡Œè¿‡ç¨‹å’ŒÂ <code>setTimeout</code>Â å†…éƒ¨çš„å›è°ƒæ˜¯å®Œå…¨åˆ†ç¦»çš„ï¼š</p>
<h4 data-id="heading-12">ç¬¬ä¸€æ­¥ï¼šè®¡ç®—å±æ€§å‡½æ•°ä½“ã€ŒåŒæ­¥æ‰§è¡Œã€ï¼ˆç¬é—´å®Œæˆï¼Œä¸ç­‰å¾…å¼‚æ­¥ï¼‰</h4>
<p>æˆ‘ä»¬æŠŠÂ <code>numDouble</code>Â çš„æ‰§è¡Œè¿‡ç¨‹æ‹†è§£æˆ â€œé€è¡Œæ‰§è¡Œâ€ï¼Œä½ å°±èƒ½çœ‹æ¸…æµç¨‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">numDouble</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç¬¬1æ­¥ï¼šæ‰§è¡Œ setTimeout è¿™è¡Œä»£ç </span>
  <span class="hljs-comment">// ä½œç”¨ï¼šå‘æµè§ˆå™¨â€œæ³¨å†Œä¸€ä¸ª1ç§’åæ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡â€ï¼Œä»…æ­¤è€Œå·²</span>
  <span class="hljs-comment">// æ³¨æ„ï¼šè¿™è¡Œä»£ç æ‰§è¡Œæ—¶ï¼Œä¸ä¼šç­‰å¾…1ç§’ï¼Œä¹Ÿä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°å†…éƒ¨çš„ä»£ç </span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è¿™æ˜¯å›è°ƒå‡½æ•°ï¼Œæ­¤æ—¶å®Œå…¨æ²¡æœ‰æ‰§è¡Œï¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å›è°ƒå‡½æ•°å¼€å§‹æ‰§è¡Œ"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> * <span class="hljs-number">2</span>;
  }, <span class="hljs-number">1000</span>);

  <span class="hljs-comment">// ç¬¬2æ­¥ï¼šè®¡ç®—å±æ€§å‡½æ•°ä½“æ‰§è¡Œåˆ°æœ«å°¾</span>
  <span class="hljs-comment">// æ²¡æœ‰æ˜¾å¼ returnï¼Œé»˜è®¤è¿”å› undefined</span>
  <span class="hljs-comment">// æ­¤æ—¶ï¼ŒnumDouble å·²ç»å®Œæˆäº†â€œè¿”å›å€¼â€çš„ä¼ é€’ï¼Œæ•´ä¸ªå‡½æ•°ä½“æ‰§è¡Œç»“æŸ</span>
}
</code></pre>
<p>ç®€å•æ¥è¯´å°±æ˜¯<code>numDouble</code>Â å‡½æ•°ä½“çš„æ‰§è¡Œï¼Œåªåšäº†ä¸€ä»¶äº‹ â€”â€”â€œå®‰æ’äº†ä¸€ä¸ª 1 ç§’åçš„ä»»åŠ¡â€ï¼Œç„¶åå°±ç›´æ¥è¿”å›äº†Â <code>undefined</code>ï¼Œå®ƒä¸ä¼šåœä¸‹æ¥ç­‰ 1 ç§’åå›è°ƒæ‰§è¡Œå®Œå†è¿”å›å€¼ã€‚</p>
<h4 data-id="heading-13">ç¬¬äºŒæ­¥ï¼š1 ç§’åï¼Œå¼‚æ­¥å›è°ƒæ‰æ‰§è¡Œï¼Œä½†ä¸ºæ—¶å·²æ™š</h4>
<ol>
<li>è®¡ç®—å±æ€§å·²ç»åœ¨ç¬¬ä¸€æ­¥å°±è¿”å›äº†Â <code>undefined</code>ï¼Œè¿™ä¸ªè¿”å›å€¼å·²ç»è¢«Â <code>console.log</code>Â æ‰“å°ï¼Œä¹Ÿè¢« Vue ç¼“å­˜èµ·æ¥äº†ï¼›</li>
<li>1 ç§’åï¼Œæµè§ˆå™¨æ‰ä¼šæ‰§è¡ŒÂ <code>setTimeout</code>Â çš„å›è°ƒå‡½æ•°ï¼Œæ­¤æ—¶å›è°ƒé‡Œçš„Â <code>return this.num * 2</code>Â åªæ˜¯ â€œå›è°ƒå‡½æ•°è‡ªå·±çš„è¿”å›å€¼â€â€”â€”Â <strong>è¿™ä¸ªå€¼æ²¡æœ‰ä»»ä½•æ¥æ”¶è€…ï¼Œæ—¢ä¸èƒ½ä¼ ç»™</strong> <code>numDouble</code> <strong>ï¼Œä¹Ÿä¸èƒ½æ”¹å˜ä¹‹å‰å·²ç»è¿”å›çš„</strong> <code>undefined</code> <strong>ï¼›</strong></li>
<li>æ›´å…³é”®çš„æ˜¯ï¼šå›è°ƒæ‰§è¡Œæ—¶ï¼Œ<code>numDouble</code>Â å‡½æ•°ä½“æ—©å°±æ‰§è¡Œå®Œæ¯•äº†ï¼Œ<strong>ä¸¤è€…æ˜¯å®Œå…¨ç‹¬ç«‹çš„æ‰§è¡Œæµç¨‹</strong>ï¼Œå›è°ƒçš„è¿”å›å€¼æ— æ³• â€œå›æº¯â€ ç»™å·²ç»æ‰§è¡Œå®Œçš„è®¡ç®—å±æ€§ã€‚</li>
</ol>
<h3 data-id="heading-14">ç®€å•æ¥è®²å°±æ˜¯ï¼š</h3>
<p><strong>è®¡ç®—å±æ€§æ˜¯è¦å†…ç½®è¿”å›ä¸€ä¸ªç»“æœçš„ï¼Œå¦‚æœåŠ å…¥å¼‚æ­¥å°±ä¼šå› ä¸ºæ‰§è¡Œé¡ºè®¯è¿”å›ä¸€ä¸ªundefinedï¼Œç›‘å¬æ˜¯åœ¨äº‹ä»¶è§¦å‘åå¯¹å†™å…¥çš„å›è°ƒå‡½æ•°çš„è°ƒç”¨ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7586570254860582952</link>    <guid>https://juejin.cn/post/7586570254860582952</guid>    <pubDate>2025-12-22T22:58:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586570254860582952" data-draft-id="7586518130761728040" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-22T22:58:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T22:58:00.000Z" title="Mon Dec 22 2025 22:58:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">åŸºç¡€çŸ¥è¯†</h3>

























<table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>EF Core</strong></td><td>.NET çš„ ORM æ¡†æ¶ï¼Œæ”¯æŒ Code Firstã€Database Firstã€‚</td></tr><tr><td><strong>dotnet ef</strong></td><td>ä¸€ä¸ª <strong>CLI å·¥å…·</strong>ï¼Œç”¨äºç®¡ç† EF Core è¿ç§»ã€æ•°æ®åº“æ“ä½œã€‚</td></tr><tr><td><strong>å®‰è£…æ–¹å¼</strong></td><td>é€šå¸¸å®‰è£…åœ¨é¡¹ç›®ä¸­ï¼ˆæ¨èï¼‰ï¼š<br/><code>dotnet add package Microsoft.EntityFrameworkCore.Design</code><br/>å…¨å±€å·¥å…·ï¼š<code>dotnet tool install --global dotnet-ef</code></td></tr><tr><td><strong>ä½¿ç”¨ä½ç½®</strong></td><td>åœ¨åŒ…å« <code>*.csproj</code> çš„ç›®å½•æ‰§è¡Œï¼Œæˆ–è€…ä½¿ç”¨ <code>--project</code> æŒ‡å®šé¡¹ç›®è·¯å¾„ã€‚</td></tr></tbody></table>
<blockquote>
<p>åœ¨æ‰§è¡Œä»»ä½• dotnet ef å‘½ä»¤å‰ï¼Œéœ€è¦åœ¨ csproj ä¸­åŒ…å« Microsoft.EntityFrameworkCore.Design åŒ…ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‘½ä»¤æ€»è§ˆ</h3>




























































<table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th><th>å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td><code>dotnet ef migrations add</code></td><td>æ·»åŠ æ–°çš„æ•°æ®åº“è¿ç§»</td><td>å¢åŠ æˆ–ä¿®æ”¹å®ä½“æ¨¡å‹å</td></tr><tr><td><code>dotnet ef migrations list</code></td><td>æŸ¥çœ‹å·²æœ‰è¿ç§»</td><td>ç¡®è®¤æ•°æ®åº“ç‰ˆæœ¬</td></tr><tr><td><code>dotnet ef migrations remove</code></td><td>åˆ é™¤æœ€æ–°è¿ç§»</td><td>å›æ»šåˆšæ·»åŠ ä½†æœªåº”ç”¨çš„è¿ç§»</td></tr><tr><td><code>dotnet ef migrations script</code></td><td>ç”Ÿæˆ SQL è„šæœ¬</td><td>æ‰‹å·¥æ‰§è¡Œè¿ç§»</td></tr><tr><td><code>dotnet ef database update</code></td><td>æ›´æ–°æ•°æ®åº“åˆ°æŒ‡å®šè¿ç§»</td><td>åŒæ­¥æ•°æ®åº“ä¸æ¨¡å‹</td></tr><tr><td><code>dotnet ef database drop</code></td><td>åˆ é™¤æ•°æ®åº“</td><td>é‡ç½®å¼€å‘ç¯å¢ƒ</td></tr><tr><td><code>dotnet ef dbcontext info</code></td><td>æŸ¥çœ‹ DbContext ä¿¡æ¯</td><td>è°ƒè¯•ä¸Šä¸‹æ–‡é…ç½®</td></tr><tr><td><code>dotnet ef dbcontext list</code></td><td>åˆ—å‡ºå¯ç”¨ DbContext</td><td>å¤šä¸Šä¸‹æ–‡é¡¹ç›®</td></tr><tr><td><code>dotnet ef dbcontext scaffold</code></td><td>æ ¹æ®ç°æœ‰æ•°æ®åº“ç”Ÿæˆå®ä½“</td><td>Database First é€†å‘å·¥ç¨‹</td></tr><tr><td><code>dotnet ef dbcontext optimize</code></td><td>é¢„ç”Ÿæˆæ¨¡å‹å¿«ç…§ä»¥æå‡å¯åŠ¨é€Ÿåº¦</td><td>é«˜æ€§èƒ½åœºæ™¯</td></tr></tbody></table>
<h3 data-id="heading-2">å¸¸ç”¨å‘½ä»¤è¯¦è§£ + ç¤ºä¾‹</h3>
<h4 data-id="heading-3">åˆ›å»ºè¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations add InitialCreate
</code></pre>
<p>åœ¨ <code>Migrations</code>/ ç›®å½•ä¸‹ç”Ÿæˆï¼š</p>
<ul>
<li>
<p><code>YYYYMMDDHHMMSS_InitialCreate.cs</code>ï¼šè¿ç§»ä»£ç </p>
</li>
<li>
<p><code>AppDbContextModelSnapshot.cs</code>ï¼šæ¨¡å‹å¿«ç…§æ–‡ä»¶</p>
</li>
</ul>
<p>å¸¸ç”¨å‚æ•°ï¼š</p>






























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>--project</code></td><td>æŒ‡å®šå¯åŠ¨é¡¹ç›®</td><td><code>--project ./MyApp</code></td></tr><tr><td><code>--startup-project</code></td><td>æŒ‡å®šåŒ…å« <code>Program.cs</code> çš„å¯åŠ¨é¡¹ç›®</td><td><code>--startup-project ./MyApp.Web</code></td></tr><tr><td><code>--context</code></td><td>æŒ‡å®š DbContext</td><td><code>--context AppDbContext</code></td></tr><tr><td><code>--output-dir</code></td><td>æŒ‡å®šè¿ç§»æ–‡ä»¶å¤¹</td><td><code>--output-dir Data/Migrations</code></td></tr></tbody></table>
<blockquote>
<p>åœ¨å¤šé¡¹ç›®æ¶æ„ä¸­ï¼ˆå¦‚åˆ†ç¦» <code>DAL</code>/å¯åŠ¨é¡¹ç›®ï¼‰ï¼ŒåŠ¡å¿…åŒæ—¶æŒ‡å®š <code>--project</code> å’Œ <code>--startup-project</code>ã€‚</p>
</blockquote>
<h4 data-id="heading-4">åº”ç”¨è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database update
</code></pre>
<ul>
<li>
<p>å°†æ•°æ®åº“æ›´æ–°åˆ°æœ€æ–°è¿ç§»ã€‚</p>
</li>
<li>
<p>å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p>
</li>
</ul>
<p>å¯æŒ‡å®šç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database update InitialCreate
</code></pre>
<p>å°†æ•°æ®åº“å›æ»šåˆ°æŒ‡å®šè¿ç§»ï¼ˆæˆ–å‡çº§åˆ°æŸä¸ªä¸­é—´ç‰ˆæœ¬ï¼‰ã€‚</p>
<h4 data-id="heading-5">æŸ¥çœ‹è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations list
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">20250922121212_InitialCreate
20250923104530_AddUserTable
</code></pre>
<h4 data-id="heading-6">åˆ é™¤è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations remove
</code></pre>
<ul>
<li>
<p>åˆ é™¤æœ€æ–°è¿ç§»æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>ä»…é™æœªæ‰§è¡Œ <code>database update</code> çš„è¿ç§»ã€‚</p>
</li>
</ul>
<h4 data-id="heading-7">ç”Ÿæˆ SQL è„šæœ¬</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations script
</code></pre>
<ul>
<li>
<p>ç”Ÿæˆä»åˆå§‹æ•°æ®åº“åˆ°æœ€æ–°è¿ç§»çš„ <code>SQL</code> è„šæœ¬ã€‚</p>
</li>
<li>
<p>å¯æŒ‡å®šèµ·æ­¢è¿ç§»ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations script InitialCreate AddUserTable -o update.sql
</code></pre>
<h4 data-id="heading-8">åˆ é™¤æ•°æ®åº“</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database drop
</code></pre>
<ul>
<li>
<p>äº¤äº’å¼ç¡®è®¤ååˆ é™¤æ•°æ®åº“ã€‚</p>
</li>
<li>
<p>å¯åŠ  <code>--force</code> è·³è¿‡ç¡®è®¤ã€‚</p>
</li>
</ul>
<h4 data-id="heading-9">æŸ¥çœ‹ DbContext ä¿¡æ¯</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext info
</code></pre>
<p>è¾“å‡ºæ•°æ®åº“æä¾›ç¨‹åºã€è¿æ¥å­—ç¬¦ä¸²ç­‰ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-10">åˆ—å‡º DbContext</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext list
</code></pre>
<p>ç”¨äºå¤šä¸Šä¸‹æ–‡é¡¹ç›®ï¼Œå¯å¿«é€Ÿç¡®è®¤å¯ç”¨çš„ <code>DbContext</code>ã€‚</p>
<h4 data-id="heading-11">æ•°æ®åº“é€†å‘ç”Ÿæˆå®ä½“ (Database First)</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext scaffold \
"Server=localhost;Database=MyDb;User Id=sa;Password=Passw0rd;" \
Microsoft.EntityFrameworkCore.SqlServer \
--output-dir Models --context MyDbContext
</code></pre>
<p>å¸¸ç”¨å‚æ•°ï¼š</p>





























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--schema</code></td><td>æŒ‡å®šæ•°æ®åº“æ¨¡å¼</td></tr><tr><td><code>--table</code></td><td>æŒ‡å®šè¡¨ï¼ˆå¯å¤šæ¬¡æŒ‡å®šï¼‰</td></tr><tr><td><code>--context-dir</code></td><td>æŒ‡å®š DbContext æ–‡ä»¶å¤¹</td></tr><tr><td><code>--force</code></td><td>è¦†ç›–å·²æœ‰æ–‡ä»¶</td></tr><tr><td><code>--use-database-names</code></td><td>ä¿ç•™æ•°æ®åº“åŸå§‹å‘½åï¼ˆä¸åš PascalCase è½¬æ¢ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-12">æ¨¡å‹é¢„ç¼–è¯‘ä¼˜åŒ–</h4>
<p><code>EF Core 6+</code> æä¾›ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext optimize
</code></pre>
<ul>
<li>
<p>åœ¨ç¼–è¯‘æ—¶é¢„ç”Ÿæˆæ¨¡å‹å…ƒæ•°æ®ï¼Œæå‡å¯åŠ¨é€Ÿåº¦ã€‚</p>
</li>
<li>
<p>é€‚åˆå¤§å‹æ•°æ®åº“æˆ–é«˜æ€§èƒ½åœºæ™¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">å¼€å‘å¸¸ç”¨æµç¨‹ç¤ºä¾‹</h3>
<h4 data-id="heading-14">Code First å¼€å‘æµç¨‹</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">1. æ·»åŠ åˆå§‹è¿ç§»</span>
dotnet ef migrations add InitialCreate
<span class="hljs-meta prompt_">
# </span><span class="bash">2. åˆ›å»º/æ›´æ–°æ•°æ®åº“</span>
dotnet ef database update
<span class="hljs-meta prompt_">
# </span><span class="bash">3. ä¿®æ”¹å®ä½“æ¨¡å‹åç”Ÿæˆæ–°è¿ç§»</span>
dotnet ef migrations add AddUserTable
<span class="hljs-meta prompt_">
# </span><span class="bash">4. åº”ç”¨åˆ°æ•°æ®åº“</span>
dotnet ef database update
</code></pre>
<h4 data-id="heading-15">Database First å¼€å‘æµç¨‹</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ä»ç°æœ‰æ•°æ®åº“ç”Ÿæˆå®ä½“ä¸ä¸Šä¸‹æ–‡</span>
dotnet ef dbcontext scaffold \
"Server=localhost;Database=MyDb;User Id=sa;Password=Passw0rd;" \
Microsoft.EntityFrameworkCore.SqlServer \
--output-dir Models
</code></pre>
<h3 data-id="heading-16">å¸¸è§é—®é¢˜ä¸æŠ€å·§</h3>





























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>æ‰¾ä¸åˆ° <code>dotnet ef</code> å‘½ä»¤</strong></td><td><code>dotnet tool install --global dotnet-ef</code></td></tr><tr><td><strong>æç¤ºæ‰¾ä¸åˆ° DbContext</strong></td><td>æ£€æŸ¥ <code>--startup-project</code> æˆ– <code>--context</code> æ˜¯å¦æŒ‡å®šæ­£ç¡®</td></tr><tr><td><strong>è·¨é¡¹ç›®è°ƒç”¨å¤±è´¥</strong></td><td>ä½¿ç”¨ <code>--project</code> æŒ‡å®šåŒ…å«è¿ç§»çš„ç±»åº“é¡¹ç›®ï¼Œ<code>--startup-project</code> æŒ‡å®šå¯åŠ¨é¡¹ç›®</td></tr><tr><td><strong>æ•°æ®åº“è¿æ¥ä¸ç”Ÿæ•ˆ</strong></td><td>æ£€æŸ¥ <code>Program.cs</code> ä¸­ <code>UseSqlServer/UseNpgsql</code> é…ç½®</td></tr><tr><td><strong>ç”Ÿäº§ç¯å¢ƒæ‰‹åŠ¨éƒ¨ç½²</strong></td><td>ä½¿ç”¨ <code>dotnet ef migrations script</code> ç”Ÿæˆ SQL å¹¶åœ¨ DBA å®¡æ ¸åæ‰§è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-17">æ€»ç»“</h3>





























<table><thead><tr><th>å‘½ä»¤</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td><code>dotnet ef migrations add</code></td><td><strong>åˆ›å»ºè¿ç§»</strong></td></tr><tr><td><code>dotnet ef database update</code></td><td><strong>åŒæ­¥æ•°æ®åº“</strong></td></tr><tr><td><code>dotnet ef migrations list</code></td><td><strong>æŸ¥çœ‹è¿ç§»å†å²</strong></td></tr><tr><td><code>dotnet ef dbcontext scaffold</code></td><td><strong>é€†å‘å·¥ç¨‹</strong></td></tr><tr><td><code>dotnet ef migrations script</code></td><td><strong>ç”Ÿæˆ SQL è„šæœ¬</strong></td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™ä¸€ä¸ª Askama æ¨¡æ¿å‹ç¼©å·¥å…·]]></title>    <link>https://juejin.cn/post/7586872817876074522</link>    <guid>https://juejin.cn/post/7586872817876074522</guid>    <pubDate>2025-12-23T13:56:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586872817876074522" data-draft-id="7586877892467916827" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™ä¸€ä¸ª Askama æ¨¡æ¿å‹ç¼©å·¥å…·"/> <meta itemprop="keywords" content="æ€§èƒ½ä¼˜åŒ–,Rust,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-23T13:56:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump_jump"/> <meta itemprop="url" content="https://juejin.cn/user/4230576474692765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™ä¸€ä¸ª Askama æ¨¡æ¿å‹ç¼©å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576474692765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump_jump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T13:56:07.000Z" title="Tue Dec 23 2025 13:56:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    32
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Web å¼€å‘ä¸­ï¼Œå‰ç«¯èµ„æºçš„å¤§å°ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚å¤§å‹æ¨¡æ¿æ–‡ä»¶ä¸ä»…å ç”¨å¸¦å®½ï¼Œè¿˜ä¼šå»¶é•¿é¡µé¢åŠ è½½æ—¶é—´ã€‚è™½ç„¶å¸‚é¢ä¸Šæœ‰å¾ˆå¤š HTML å‹ç¼©å·¥å…·ï¼Œä½†å¯¹äºä½¿ç”¨äº†æ¨¡æ¿å¼•æ“çš„ HTML æ–‡ä»¶ï¼ˆå¦‚ Askamaã€Jinja2 ç­‰ï¼‰ï¼Œé€šç”¨å‹ç¼©å™¨å¾€å¾€ä¼šç ´åæ¨¡æ¿è¯­æ³•ã€‚</p>
<p>äºæ˜¯ä¸ªäººå†™äº†ä¸€ä¸ª Askama æ¨¡æ¿å‹ç¼©å·¥å…· askama-minifyï¼Œä¸“é—¨ç”¨äºå‹ç¼© Askama æ¨¡æ¿æ–‡ä»¶ï¼ŒåŒæ—¶å®Œç¾ä¿ç•™æ¨¡æ¿è¯­æ³•ã€‚</p>
<h2 data-id="heading-0">Askama ä¸ºä»€ä¹ˆè¦å‹ç¼©</h2>
<h3 data-id="heading-1">æ¨¡æ¿æ–‡ä»¶å ç”¨çš„ç©ºé—´</h3>
<p>åœ¨å®é™…çš„ Web é¡¹ç›®ä¸­ï¼Œæ¨¡æ¿æ–‡ä»¶å¾€å¾€å æ®ç›¸å½“å¤§çš„ä½“ç§¯ï¼š</p>





























<table><thead><tr><th>é¡¹ç›®ç±»å‹</th><th>æ¨¡æ¿æ•°é‡</th><th>æ€»å¤§å°</th><th>å‹ç¼©åå¤§å°</th></tr></thead><tbody><tr><td>å°å‹ç½‘ç«™</td><td>10-20</td><td>200-500KB</td><td>100-250KB</td></tr><tr><td>ä¸­å‹åº”ç”¨</td><td>50-100</td><td>1-3MB</td><td>500KB-1.5MB</td></tr><tr><td>å¤§å‹ç³»ç»Ÿ</td><td>200+</td><td>5-10MB</td><td>2-5MB</td></tr></tbody></table>
<h3 data-id="heading-2">å‹ç¼©çš„å¥½å¤„</h3>
<ol>
<li><strong>å‡å°‘å¸¦å®½æ¶ˆè€—</strong>ï¼šæ¨¡æ¿å¤§å°å‡å°‘ 40-55%ï¼Œç›´æ¥é™ä½æµé‡æˆæœ¬</li>
<li><strong>åŠ å¿«é¡µé¢åŠ è½½</strong>ï¼šæ›´å°çš„æ–‡ä»¶æ„å‘³ç€æ›´å¿«çš„ä¼ è¾“é€Ÿåº¦</li>
<li><strong>æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼šé¦–å±æ¸²æŸ“æ—¶é—´ç¼©çŸ­ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨ç«¯ç”¨æˆ·</li>
<li><strong>é™ä½æœåŠ¡å™¨è´Ÿè½½</strong>ï¼šä¼ è¾“æ•°æ®é‡å‡å°‘ï¼ŒæœåŠ¡å™¨å‹åŠ›é™ä½</li>
<li><strong>èŠ‚çœå­˜å‚¨ç©ºé—´</strong>ï¼šç”Ÿäº§ç¯å¢ƒçš„æ¨¡æ¿æ–‡ä»¶å ç”¨æ›´å°‘ç©ºé—´</li>
</ol>
<h3 data-id="heading-3">Askama è‡ªå¸¦çš„å‹ç¼©é…ç½®</h3>
<p>Askama æœ¬èº«æä¾›äº† whitespace æ§åˆ¶åŠŸèƒ½ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code>askama.toml</code> ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[general]</span>
<span class="hljs-comment"># ä¸‰ç§æ¨¡å¼å¯é€‰</span>
<span class="hljs-attr">whitespace</span> = <span class="hljs-string">"suppress"</span>   <span class="hljs-comment"># æˆ– "minimize" / "preserve"</span>
</code></pre>
<p><strong>ä¸‰ç§æ¨¡å¼å¯¹æ¯”ï¼š</strong></p>

























<table><thead><tr><th>æ¨¡å¼</th><th>è¡Œä¸º</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>preserve</code></td><td>ä¿ç•™æ‰€æœ‰ç©ºç™½ï¼ˆé»˜è®¤ï¼‰</td><td>å¼€å‘è°ƒè¯•</td></tr><tr><td><code>suppress</code></td><td>æ¿€è¿›ç§»é™¤ç©ºç™½</td><td>ç”Ÿäº§ç¯å¢ƒ</td></tr><tr><td><code>minimize</code></td><td>é€‚åº¦ç§»é™¤ç©ºç™½</td><td>å¹³è¡¡æ¨¡å¼</td></tr></tbody></table>
<p>ä¹Ÿå¯ä»¥åœ¨å•ä¸ªæ¨¡æ¿ä¸Šè¦†ç›–ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Template)]</span>
<span class="hljs-meta">#[template(path = <span class="hljs-string">"example.html"</span>, whitespace = <span class="hljs-string">"suppress"</span>)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ExampleTemplate</span>;
</code></pre>
<h3 data-id="heading-4">Askama è‡ªå¸¦å‹ç¼©çš„å±€é™æ€§</h3>
<p>Askama çš„ whitespace æ§åˆ¶æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p>
<ol>
<li><strong>åªå¤„ç†ç©ºç™½å­—ç¬¦</strong>ï¼šä¸èƒ½ç§»é™¤ HTML æ³¨é‡Š <code>&lt;!-- --&gt;</code></li>
<li><strong>ä¸å½±å“ CSS</strong>ï¼š<code>&lt;style&gt;</code> æ ‡ç­¾å†…çš„ CSS å®Œå…¨ä¿ç•™</li>
<li><strong>ä¸å½±å“ JavaScript</strong>ï¼š<code>&lt;script&gt;</code> æ ‡ç­¾å†…çš„ JS å®Œå…¨ä¿ç•™</li>
<li><strong>ä¸ä¼˜åŒ–ä»£ç </strong>ï¼šæ— æ³•è¿›è¡Œå±æ€§åˆå¹¶ã€é¢œè‰²ä¼˜åŒ–ç­‰</li>
</ol>
<p><strong>ç¤ºä¾‹å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åŸå§‹æ¨¡æ¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;
        <span class="hljs-comment">/* è¿™æ˜¯ CSS æ³¨é‡Š */</span>
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ff0000</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// è¿™æ˜¯ JS æ³¨é‡Š</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- Askama whitespace = "suppress" çš„ç»“æœ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"><span class="hljs-selector-tag">body</span>{<span class="hljs-attribute">margin-top</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">margin-bottom</span>:<span class="hljs-number">0</span>;<span class="hljs-comment">/*è¿™æ˜¯CSSæ³¨é‡Š*/</span><span class="hljs-attribute">background-color</span>:<span class="hljs-number">#ff0000</span>;}</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-comment">//è¿™æ˜¯JSæ³¨é‡Š</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello"</span>);</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- askama-minify çš„ç»“æœ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"><span class="hljs-selector-tag">body</span>{<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> <span class="hljs-number">0</span>;<span class="hljs-attribute">background-color</span>:red}</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello"</span>);</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œaskama-minify åšå¾—æ›´å½»åº•ï¼š</p>
<ul>
<li>ç§»é™¤äº†æ‰€æœ‰æ³¨é‡Š</li>
<li>åˆå¹¶äº† CSS å±æ€§</li>
<li>ä¼˜åŒ–äº†é¢œè‰²å€¼</li>
<li>å‹ç¼©äº† JavaScript</li>
</ul>
<h2 data-id="heading-5">é¡¹ç›®æ¼”è¿›</h2>
<p>ä»»ä½•é¡¹ç›®éƒ½ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œä¸‹é¢æ˜¯å…³äº askama-minify åº“çš„ç¼–å†™æ€è·¯ã€‚å¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰ä¸€äº›å¸®åŠ©ã€‚</p>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„å·¥å…·ï¼ˆè¡¥å……ï¼‰</h2>
<p>åœ¨ä½¿ç”¨ Askama è¿™æ ·çš„ Rust æ¨¡æ¿å¼•æ“æ—¶ï¼Œæˆ‘ä»¬çš„æ¨¡æ¿æ–‡ä»¶ä¸­ä¼šåŒ…å«ç‰¹æ®Šçš„è¯­æ³•ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- Askama æ¨¡æ¿è¯­æ³• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
{% for item in items %}
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
{% endfor %}
</code></pre>
<p>é€šç”¨çš„ HTML å‹ç¼©å™¨ï¼ˆå¦‚ html-minifierï¼‰å¯èƒ½ä¼šï¼š</p>
<ul>
<li>å°† <code>{{ }}</code> è¯†åˆ«ä¸ºæ— æ•ˆè¯­æ³•è€Œç ´å</li>
<li>å°† <code>{% %}</code> ä¸­çš„ç©ºæ ¼é”™è¯¯å¤„ç†</li>
<li>æ— æ³•åŒºåˆ†æ¨¡æ¿è¯­æ³•å’Œæ™®é€šæ–‡æœ¬</li>
</ul>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸“é—¨è®¾è®¡çš„å‹ç¼©å·¥å…·ã€‚</p>
<h2 data-id="heading-7">ç®€å•çš„ HTML å‹ç¼©</h2>
<p>æœ€åŸºç¡€çš„ HTML å‹ç¼©éå¸¸ç®€å•ï¼šç§»é™¤å¤šä½™çš„ç©ºç™½å­—ç¬¦å³å¯ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">minify_html_simple</span>(content: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">result</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">with_capacity</span>(content.<span class="hljs-title function_ invoke__">len</span>());
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">last_was_space</span> = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">for</span> <span class="hljs-variable">ch</span> <span class="hljs-keyword">in</span> content.<span class="hljs-title function_ invoke__">chars</span>() {
        <span class="hljs-keyword">if</span> ch.<span class="hljs-title function_ invoke__">is_whitespace</span>() {
            <span class="hljs-keyword">if</span> !last_was_space &amp;&amp; !result.<span class="hljs-title function_ invoke__">is_empty</span>() {
                result.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-string">' '</span>);
                last_was_space = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            result.<span class="hljs-title function_ invoke__">push</span>(ch);
            last_was_space = <span class="hljs-literal">false</span>;
        }
    }

    result
}
</code></pre>
<p>è¿™ä¸ªç®€å•ç‰ˆæœ¬ä¼šå°†ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>   Hello   <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å‹ç¼©ä¸ºï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> Hello <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ä½†è¿™æ ·è¿˜ä¸å¤Ÿâ€”â€”æˆ‘ä»¬éœ€è¦ï¼š</p>
<ol>
<li>ç§»é™¤ HTML æ³¨é‡Š</li>
<li>å¤„ç†ç‰¹æ®Šæ ‡ç­¾ï¼ˆ<code>&lt;pre&gt;</code>, <code>&lt;textarea&gt;</code>ï¼‰</li>
<li>ä¿ç•™æ¨¡æ¿è¯­æ³•</li>
</ol>
<h2 data-id="heading-8">ä¿ç•™æ¨¡æ¿è¯­æ³•</h2>
<p>æ¨¡æ¿è¯­æ³•çš„ä¿ç•™æ˜¯æœ¬å·¥å…·çš„æ ¸å¿ƒã€‚æˆ‘ä»¬éœ€è¦åœ¨é‡åˆ° <code>{{</code> å’Œ <code>{%</code> æ—¶ï¼Œä¿æŒåŸæ ·è¾“å‡ºï¼Œç›´åˆ°é‡åˆ°å¯¹åº”çš„ <code>}}</code> å’Œ <code>%}</code>ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">minify_html</span>(content: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">result</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">with_capacity</span>(content.<span class="hljs-title function_ invoke__">len</span>());
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">chars</span> = content.<span class="hljs-title function_ invoke__">chars</span>().<span class="hljs-title function_ invoke__">peekable</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_template_brace</span> = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// {{ }}</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_template_chevron</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// {% %}</span>

    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(ch) = chars.<span class="hljs-title function_ invoke__">next</span>() {
        <span class="hljs-comment">// æ£€æµ‹æ¨¡æ¿è¯­æ³•å¼€å§‹</span>
        <span class="hljs-keyword">if</span> ch == <span class="hljs-string">'{'</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(&amp;next_ch) = chars.<span class="hljs-title function_ invoke__">peek</span>() {
                <span class="hljs-keyword">if</span> next_ch == <span class="hljs-string">'{'</span> {
                    in_template_brace = <span class="hljs-literal">true</span>;
                    result.<span class="hljs-title function_ invoke__">push</span>(ch);
                    <span class="hljs-keyword">continue</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> next_ch == <span class="hljs-string">'%'</span> {
                    in_template_chevron = <span class="hljs-literal">true</span>;
                    result.<span class="hljs-title function_ invoke__">push</span>(ch);
                    <span class="hljs-keyword">continue</span>;
                }
            }
        }

        <span class="hljs-comment">// åœ¨æ¨¡æ¿è¯­æ³•å†…ï¼Œä¿æŒåŸæ ·</span>
        <span class="hljs-keyword">if</span> in_template_brace || in_template_chevron {
            result.<span class="hljs-title function_ invoke__">push</span>(ch);
            <span class="hljs-comment">// æ£€æµ‹æ¨¡æ¿è¯­æ³•ç»“æŸ</span>
            <span class="hljs-keyword">if</span> in_template_brace &amp;&amp; ch == <span class="hljs-string">'}'</span> &amp;&amp; result.<span class="hljs-title function_ invoke__">ends_with</span>(<span class="hljs-string">"}}"</span>) {
                in_template_brace = <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> in_template_chevron &amp;&amp; ch == <span class="hljs-string">'}'</span> &amp;&amp; result.<span class="hljs-title function_ invoke__">ends_with</span>(<span class="hljs-string">"%}"</span>) {
                in_template_chevron = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// ... å…¶ä»–å¤„ç†é€»è¾‘</span>
    }

    result
}
</code></pre>
<p>æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">è¾“å…¥: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
è¾“å‡º: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>  <span class="hljs-comment">// å®Œç¾ä¿ç•™</span>

è¾“å…¥: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  {{  title  }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
è¾“å‡º: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> {{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>  <span class="hljs-comment">// æ¨¡æ¿å¤–ç©ºæ ¼å‹ç¼©ï¼Œæ¨¡æ¿å†…ä¿ç•™</span>
</code></pre>
<h2 data-id="heading-9">ç§»é™¤ HTML æ³¨é‡Š</h2>
<p>HTML æ³¨é‡Šçš„ç§»é™¤éœ€è¦å°å¿ƒï¼Œä¸èƒ½ç ´åå­—ç¬¦ä¸²ä¸­çš„ <code>&lt;!--</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// HTML æ³¨é‡Šå¤„ç†ï¼ˆåªåœ¨ä¸åœ¨ script/style å†…æ—¶å¤„ç†ï¼‰</span>
<span class="hljs-keyword">if</span> !in_script &amp;&amp; !in_style &amp;&amp; ch == <span class="hljs-string">'&lt;'</span> &amp;&amp; chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'!'</span>) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">comment</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"&lt;"</span>);
    comment.<span class="hljs-title function_ invoke__">push</span>(chars.<span class="hljs-title function_ invoke__">next</span>().<span class="hljs-title function_ invoke__">unwrap</span>()); <span class="hljs-comment">// '!'</span>

    <span class="hljs-keyword">if</span> chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'-'</span>) {
        comment.<span class="hljs-title function_ invoke__">push</span>(chars.<span class="hljs-title function_ invoke__">next</span>().<span class="hljs-title function_ invoke__">unwrap</span>()); <span class="hljs-comment">// first '-'</span>
        <span class="hljs-keyword">if</span> chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'-'</span>) {
            comment.<span class="hljs-title function_ invoke__">push</span>(chars.<span class="hljs-title function_ invoke__">next</span>().<span class="hljs-title function_ invoke__">unwrap</span>()); <span class="hljs-comment">// second '-'</span>
            <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šï¼Œè·³è¿‡ç›´åˆ° --&gt;</span>
            <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(c) = chars.<span class="hljs-title function_ invoke__">next</span>() {
                comment.<span class="hljs-title function_ invoke__">push</span>(c);
                <span class="hljs-keyword">if</span> comment.<span class="hljs-title function_ invoke__">ends_with</span>(<span class="hljs-string">"--&gt;"</span>) {
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// è·³è¿‡æ³¨é‡Š</span>
        }
    }
    result.<span class="hljs-title function_ invoke__">push_str</span>(&amp;comment);
    <span class="hljs-keyword">continue</span>;
}
</code></pre>
<h2 data-id="heading-10">å¤„ç†ç‰¹æ®Šæ ‡ç­¾</h2>
<p>æŸäº›æ ‡ç­¾ï¼ˆå¦‚ <code>&lt;pre&gt;</code> å’Œ <code>&lt;textarea&gt;</code>ï¼‰çš„å†…å®¹éœ€è¦å®Œå…¨ä¿ç•™åŸæ ·ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œæ¢è¡Œï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_pre</span> = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_textarea</span> = <span class="hljs-literal">false</span>;

<span class="hljs-comment">// åœ¨æ ‡ç­¾æ£€æµ‹æ—¶</span>
<span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"pre"</span> {
    in_pre = <span class="hljs-literal">true</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"textarea"</span> {
    in_textarea = <span class="hljs-literal">true</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"/pre"</span> {
    in_pre = <span class="hljs-literal">false</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"/textarea"</span> {
    in_textarea = <span class="hljs-literal">false</span>;
}

<span class="hljs-comment">// åœ¨å­—ç¬¦å¤„ç†æ—¶</span>
<span class="hljs-keyword">if</span> in_pre || in_textarea {
    result.<span class="hljs-title function_ invoke__">push</span>(ch);  <span class="hljs-comment">// å®Œå…¨ä¿ç•™</span>
    <span class="hljs-keyword">continue</span>;
}
</code></pre>
<h2 data-id="heading-11">æ·»åŠ  CSS ä¼˜åŒ–</h2>
<p>HTML ä¸­çš„ <code>&lt;style&gt;</code> æ ‡ç­¾å†…å®¹å¯ä»¥ä½¿ç”¨ä¸“ä¸šçš„ CSS ä¼˜åŒ–å™¨ã€‚è¿™é‡Œé€‰æ‹© lightningcssï¼Œå®ƒæ˜¯ Parcel å›¢é˜Ÿå¼€å‘çš„é«˜æ€§èƒ½ CSS è§£æå™¨ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> lightningcss::stylesheet::{MinifyOptions, ParserOptions, PrinterOptions, StyleSheet};

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">minify_css</span>(css_code: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">stylesheet</span> = StyleSheet::<span class="hljs-title function_ invoke__">parse</span>(css_code, ParserOptions::<span class="hljs-title function_ invoke__">default</span>());

    <span class="hljs-keyword">match</span> stylesheet {
        <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-keyword">mut</span> sheet) =&gt; {
            sheet.<span class="hljs-title function_ invoke__">minify</span>(MinifyOptions::<span class="hljs-title function_ invoke__">default</span>()).<span class="hljs-title function_ invoke__">ok</span>();
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> = sheet.<span class="hljs-title function_ invoke__">to_css</span>(PrinterOptions {
                minify: <span class="hljs-literal">true</span>,
                ..PrinterOptions::<span class="hljs-title function_ invoke__">default</span>()
            });

            <span class="hljs-keyword">match</span> result {
                <span class="hljs-title function_ invoke__">Ok</span>(output) =&gt; output.code,
                <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
                    eprintln!(<span class="hljs-string">"Warning: Failed to minify CSS: {:?}"</span>, e);
                    css_code.<span class="hljs-title function_ invoke__">to_string</span>()
                },
            }
        }
        <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
            eprintln!(<span class="hljs-string">"Warning: Failed to parse CSS: {:?}"</span>, e);
            css_code.<span class="hljs-title function_ invoke__">to_string</span>()
        },
    }
}
</code></pre>
<p>lightningcss çš„ä¼˜åŒ–æ•ˆæœéå¸¸å¥½ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* è¾“å…¥ */</span>
<span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ff0000</span>;
}

<span class="hljs-comment">/* è¾“å‡º */</span>
<span class="hljs-selector-tag">body</span>{<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> <span class="hljs-number">0</span>;<span class="hljs-attribute">background-color</span>:red}
</code></pre>
<ul>
<li>å±æ€§åˆå¹¶ï¼š<code>margin-top: 0; margin-bottom: 0</code> â†’ <code>margin: 0 0</code></li>
<li>é¢œè‰²ä¼˜åŒ–ï¼š<code>#ff0000</code> â†’ <code>red</code></li>
<li>ç§»é™¤æ‰€æœ‰ä¸å¿…è¦çš„ç©ºæ ¼å’Œæ¢è¡Œ</li>
</ul>
<h2 data-id="heading-12">æ·»åŠ  JavaScript å‹ç¼©</h2>
<p>JavaScript çš„å‹ç¼©éœ€è¦æ›´åŠ å°å¿ƒï¼Œå› ä¸ºï¼š</p>
<ol>
<li>å­—ç¬¦ä¸²ä¸­çš„æ³¨é‡Šè¯­æ³•ä¸åº”è¢«å¤„ç†</li>
<li>é™¤æ³•è¿ç®—ç¬¦ <code>/</code> å®¹æ˜“ä¸æ³¨é‡Šæ··æ·†</li>
<li>è½¬ä¹‰å­—ç¬¦éœ€è¦æ­£ç¡®å¤„ç†ï¼ˆ<code>\"</code>, <code>\'</code>ï¼‰</li>
<li>æ­£åˆ™è¡¨è¾¾å¼éœ€è¦ä¿æŠ¤</li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">minify_js</span>(js_code: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">result</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">with_capacity</span>(js_code.<span class="hljs-title function_ invoke__">len</span>());
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">chars</span> = js_code.<span class="hljs-title function_ invoke__">chars</span>().<span class="hljs-title function_ invoke__">peekable</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_string</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_single_comment</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_multi_comment</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">string_char</span> = <span class="hljs-string">'\0'</span>;

    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(ch) = chars.<span class="hljs-title function_ invoke__">next</span>() {
        <span class="hljs-comment">// å¤„ç†å•è¡Œæ³¨é‡Š</span>
        <span class="hljs-keyword">if</span> !in_string &amp;&amp; !in_multi_comment &amp;&amp; ch == <span class="hljs-string">'/'</span> &amp;&amp; chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'/'</span>) {
            in_single_comment = <span class="hljs-literal">true</span>;
            chars.<span class="hljs-title function_ invoke__">next</span>(); <span class="hljs-comment">// è·³è¿‡ç¬¬äºŒä¸ª /</span>
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> in_single_comment {
            <span class="hljs-keyword">if</span> ch == <span class="hljs-string">'\n'</span> {
                in_single_comment = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// å¤„ç†å¤šè¡Œæ³¨é‡Š</span>
        <span class="hljs-keyword">if</span> !in_string &amp;&amp; !in_single_comment &amp;&amp; ch == <span class="hljs-string">'/'</span> &amp;&amp; chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'*'</span>) {
            in_multi_comment = <span class="hljs-literal">true</span>;
            chars.<span class="hljs-title function_ invoke__">next</span>(); <span class="hljs-comment">// è·³è¿‡ *</span>
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> in_multi_comment {
            <span class="hljs-keyword">if</span> ch == <span class="hljs-string">'*'</span> &amp;&amp; chars.<span class="hljs-title function_ invoke__">peek</span>() == <span class="hljs-title function_ invoke__">Some</span>(&amp;<span class="hljs-string">'/'</span>) {
                in_multi_comment = <span class="hljs-literal">false</span>;
                chars.<span class="hljs-title function_ invoke__">next</span>(); <span class="hljs-comment">// è·³è¿‡ /</span>
            }
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// å¤„ç†å­—ç¬¦ä¸²</span>
        <span class="hljs-keyword">if</span> ch == <span class="hljs-string">'"'</span> || ch == <span class="hljs-string">'\''</span> || ch == <span class="hljs-string">'`'</span> {
            <span class="hljs-keyword">if</span> !in_string {
                in_string = <span class="hljs-literal">true</span>;
                string_char = ch;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ch == string_char {
                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¢«è½¬ä¹‰ï¼šè®¡ç®—å‰é¢çš„åæ–œæ æ•°é‡</span>
                <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">backslash_count</span> = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">temp_result</span> = result.<span class="hljs-title function_ invoke__">clone</span>();
                <span class="hljs-keyword">while</span> temp_result.<span class="hljs-title function_ invoke__">ends_with</span>(<span class="hljs-string">'\\'</span>) {
                    backslash_count += <span class="hljs-number">1</span>;
                    temp_result.<span class="hljs-title function_ invoke__">pop</span>();
                }
                <span class="hljs-comment">// å¶æ•°ä¸ªåæ–œæ ï¼ˆåŒ…æ‹¬0ä¸ªï¼‰æ„å‘³ç€å¼•å·æ²¡æœ‰è¢«è½¬ä¹‰</span>
                <span class="hljs-keyword">if</span> backslash_count % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> {
                    in_string = <span class="hljs-literal">false</span>;
                }
            }
            result.<span class="hljs-title function_ invoke__">push</span>(ch);
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> in_string {
            result.<span class="hljs-title function_ invoke__">push</span>(ch);
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// å‹ç¼©ç©ºç™½ï¼ˆä¿ç•™å¿…è¦çš„ç©ºæ ¼ï¼‰</span>
        <span class="hljs-comment">// ...</span>
    }

    result
}
</code></pre>
<p>æµ‹è¯•è½¬ä¹‰å­—ç¬¦å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¾“å…¥</span>
<span class="hljs-keyword">let</span> s = <span class="hljs-string">"test\\"</span>;  <span class="hljs-comment">// å­—ç¬¦ä¸²ä¸­æœ‰è½¬ä¹‰çš„åæ–œæ </span>
<span class="hljs-keyword">let</span> s2 = <span class="hljs-string">'quote\''</span>;

<span class="hljs-comment">// è¾“å‡º</span>
<span class="hljs-keyword">let</span> s=<span class="hljs-string">"test\\"</span>;   <span class="hljs-comment">// æ­£ç¡®ä¿ç•™è½¬ä¹‰å­—ç¬¦</span>
<span class="hljs-keyword">let</span> s2=<span class="hljs-string">'quote\''</span>;  <span class="hljs-comment">// æ­£ç¡®ä¿ç•™è½¬ä¹‰å­—ç¬¦</span>
</code></pre>
<h2 data-id="heading-13">æ•´åˆä¸‰å±‚å‹ç¼©</h2>
<p>å°† HTMLã€CSSã€JS å‹ç¼©æ•´åˆåœ¨ä¸€èµ·ï¼Œåœ¨è§£æ HTML æ—¶è¯†åˆ« <code>&lt;script&gt;</code> å’Œ <code>&lt;style&gt;</code> æ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">minify_html</span>(content: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_script</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">in_style</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">script_content</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">new</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">style_content</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">new</span>();

    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(ch) = chars.<span class="hljs-title function_ invoke__">next</span>() {
        <span class="hljs-comment">// æ ‡ç­¾å¤„ç†</span>
        <span class="hljs-keyword">if</span> ch == <span class="hljs-string">'&lt;'</span> {
            <span class="hljs-comment">// ... è¯»å–æ ‡ç­¾å</span>

            <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"script"</span> {
                in_script = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"/script"</span> {
                <span class="hljs-comment">// å‹ç¼©å¹¶è¾“å‡º script å†…å®¹</span>
                <span class="hljs-keyword">if</span> !script_content.<span class="hljs-title function_ invoke__">trim</span>().<span class="hljs-title function_ invoke__">is_empty</span>() {
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">minified</span> = <span class="hljs-title function_ invoke__">minify_js</span>(&amp;script_content);
                    result.<span class="hljs-title function_ invoke__">push_str</span>(&amp;minified);
                }
                script_content.<span class="hljs-title function_ invoke__">clear</span>();
                in_script = <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"style"</span> {
                in_style = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tag_name == <span class="hljs-string">"/style"</span> {
                <span class="hljs-comment">// å‹ç¼©å¹¶è¾“å‡º style å†…å®¹</span>
                <span class="hljs-keyword">if</span> !style_content.<span class="hljs-title function_ invoke__">trim</span>().<span class="hljs-title function_ invoke__">is_empty</span>() {
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">minified</span> = <span class="hljs-title function_ invoke__">minify_css</span>(&amp;style_content);
                    result.<span class="hljs-title function_ invoke__">push_str</span>(&amp;minified);
                }
                style_content.<span class="hljs-title function_ invoke__">clear</span>();
                in_style = <span class="hljs-literal">false</span>;
            }
        }

        <span class="hljs-comment">// æ”¶é›† script/style å†…å®¹</span>
        <span class="hljs-keyword">if</span> !in_tag {
            <span class="hljs-keyword">if</span> in_script {
                script_content.<span class="hljs-title function_ invoke__">push</span>(ch);
                <span class="hljs-keyword">continue</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> in_style {
                style_content.<span class="hljs-title function_ invoke__">push</span>(ch);
                <span class="hljs-keyword">continue</span>;
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-14">å‹ç¼©æ•ˆæœ</h2>
<p>ç»è¿‡ä¸‰å±‚å‹ç¼©ï¼Œæ•´ä½“å‹ç¼©ç‡å¯è¾¾ <strong>40-55%</strong>ï¼š</p>






























<table><thead><tr><th>å±‚çº§</th><th>è´¡çŒ®ç‡</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>CSS ä¼˜åŒ–</td><td>20-30%</td><td><code>margin-top: 0; margin-bottom: 0</code> â†’ <code>margin:0 0</code></td></tr><tr><td>JS å‹ç¼©</td><td>15-25%</td><td>ç§»é™¤æ³¨é‡Šå’Œç©ºç™½</td></tr><tr><td>HTML å‹ç¼©</td><td>10-15%</td><td>ç§»é™¤æ¢è¡Œå’Œç¼©è¿›</td></tr><tr><td>æ³¨é‡Šç§»é™¤</td><td>5-10%</td><td>å–å†³äºæ³¨é‡Šå¯†åº¦</td></tr></tbody></table>
<p>å®Œæ•´ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¾“å…¥ï¼š324 å­—èŠ‚ --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¿™æ˜¯æ³¨é‡Š --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> {
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f0f0f0</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ heading }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    {% for item in items %}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    {% endfor %}
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// è¿™æ˜¯æ³¨é‡Š</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello"</span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¾“å‡ºï¼š152 å­—èŠ‚ï¼Œ-53% --&gt;</span>
<span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">zh-CN</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">UTF-8</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"><span class="hljs-selector-tag">body</span>{<span class="hljs-attribute">background-color</span>:<span class="hljs-number">#f0f0f0</span>;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">padding</span>:<span class="hljs-number">20px</span>}</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ heading }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>{% for item in items %} <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>{% endfor %}<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello"</span>);</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-15">å…¶ä»–æŠ€æœ¯ç»†èŠ‚</h2>
<h3 data-id="heading-16">å‘½ä»¤è¡Œå‚æ•°è®¾è®¡</h3>
<p>ä½¿ç”¨ clap åº“æ¥å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> clap::Parser;

<span class="hljs-meta">#[derive(Parser, Debug)]</span>
<span class="hljs-meta">#[command(name = <span class="hljs-string">"askama-minify"</span>)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Args</span> {
    <span class="hljs-comment">/// è¦å‹ç¼©çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è·¯å¾„</span>
    <span class="hljs-meta">#[arg(value_name = <span class="hljs-string">"PATH"</span>)]</span>
    path: PathBuf,

    <span class="hljs-comment">/// é€’å½’å¤„ç†æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤å¯ç”¨ï¼‰</span>
    <span class="hljs-meta">#[arg(short, long, default_value_t = true)]</span>
    recursive: <span class="hljs-type">bool</span>,

    <span class="hljs-comment">/// è¾“å‡ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è·¯å¾„</span>
    <span class="hljs-meta">#[arg(short = 'd', long)]</span>
    output: <span class="hljs-type">Option</span>&lt;PathBuf&gt;,

    <span class="hljs-comment">/// è¾“å‡ºæ–‡ä»¶çš„åç¼€åï¼ˆä¾‹å¦‚: "min" ä¼šç”Ÿæˆ .min.htmlï¼‰</span>
    <span class="hljs-meta">#[arg(short = 's', long)]</span>
    suffix: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
}
</code></pre>
<h3 data-id="heading-17">æ–‡ä»¶å¤„ç†ä¼˜åŒ–</h3>
<p>ä½¿ç”¨ walkdir åº“å®ç°é«˜æ•ˆçš„æ–‡ä»¶å¤¹éå†ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> walkdir::WalkDir;

<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">walker</span> = <span class="hljs-keyword">if</span> recursive {
    WalkDir::<span class="hljs-title function_ invoke__">new</span>(path)
} <span class="hljs-keyword">else</span> {
    WalkDir::<span class="hljs-title function_ invoke__">new</span>(path).<span class="hljs-title function_ invoke__">max_depth</span>(<span class="hljs-number">1</span>)
};

<span class="hljs-keyword">for</span> <span class="hljs-variable">entry</span> <span class="hljs-keyword">in</span> walker.<span class="hljs-title function_ invoke__">into_iter</span>().<span class="hljs-title function_ invoke__">filter_map</span>(|e| e.<span class="hljs-title function_ invoke__">ok</span>()) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file_path</span> = entry.<span class="hljs-title function_ invoke__">path</span>();
    <span class="hljs-keyword">if</span> !file_path.<span class="hljs-title function_ invoke__">is_file</span>() || !<span class="hljs-title function_ invoke__">is_template_file</span>(file_path) {
        <span class="hljs-keyword">continue</span>;
    }
    <span class="hljs-comment">// å¤„ç†æ–‡ä»¶...</span>
}
</code></pre>
<h3 data-id="heading-18">ä»£ç è´¨é‡ä¼˜åŒ–</h3>
<ol>
<li><strong>å¸¸é‡æå–</strong>ï¼šé¿å…é­”æ³•å­—ç¬¦ä¸²</li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">const</span> DEFAULT_SUFFIX: &amp;<span class="hljs-type">str</span> = <span class="hljs-string">"min"</span>;
<span class="hljs-keyword">const</span> MIN_MARKER: &amp;<span class="hljs-type">str</span> = <span class="hljs-string">".min."</span>;
<span class="hljs-keyword">const</span> VALID_EXTENSIONS: &amp;[&amp;<span class="hljs-type">str</span>] = &amp;[<span class="hljs-string">"html"</span>, <span class="hljs-string">"htm"</span>, <span class="hljs-string">"xml"</span>, <span class="hljs-string">"svg"</span>];
</code></pre>
<ol start="2">
<li><strong>é¿å…ä¸å¿…è¦çš„å­—ç¬¦ä¸²åˆ†é…</strong>ï¼šä½¿ç”¨ <code>eq_ignore_ascii_case</code> è€Œä¸æ˜¯ <code>to_lowercase()</code></li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¼˜åŒ–å</span>
ext_str.<span class="hljs-title function_ invoke__">eq_ignore_ascii_case</span>(valid_ext)

<span class="hljs-comment">// ä¼˜åŒ–å‰ï¼ˆä¼šåˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼‰</span>
ext_str.<span class="hljs-title function_ invoke__">to_lowercase</span>() == valid_ext
</code></pre>
<ol start="3">
<li><strong>ç©ºæ–‡ä»¶å¿«é€Ÿå¤„ç†</strong></li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">if</span> original_size == <span class="hljs-number">0</span> {
    fs::<span class="hljs-title function_ invoke__">write</span>(output_path, <span class="hljs-string">""</span>)?;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Ok</span>((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>));
}
</code></pre>
<h2 data-id="heading-19">ä½¿ç”¨æ–¹å¼</h2>
<h3 data-id="heading-20">å®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†ä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/wsafight/askama-minify.git
<span class="hljs-built_in">cd</span> askama-minify

<span class="hljs-comment"># ç¼–è¯‘</span>
cargo build --release
</code></pre>
<p>ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ä½äº <code>target/release/askama-minify</code>ã€‚</p>
<h3 data-id="heading-21">åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‹ç¼©å•ä¸ªæ–‡ä»¶ï¼ˆé»˜è®¤ç”Ÿæˆ .min.html åç¼€ï¼‰</span>
./target/release/askama-minify template.html

<span class="hljs-comment"># æŒ‡å®šè¾“å‡ºæ–‡ä»¶</span>
./target/release/askama-minify -d output.html template.html

<span class="hljs-comment"># å‹ç¼©æ•´ä¸ªæ–‡ä»¶å¤¹</span>
./target/release/askama-minify templates/

<span class="hljs-comment"># è¾“å‡ºåˆ°æŒ‡å®šç›®å½•å¹¶ä¿æŒç›®å½•ç»“æ„</span>
./target/release/askama-minify -d dist/ templates/
</code></pre>
<h3 data-id="heading-22">å‘½ä»¤è¡Œé€‰é¡¹</h3>





























<table><thead><tr><th>é€‰é¡¹</th><th>ç®€å†™</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>--output &lt;PATH&gt;</code></td><td><code>-d</code></td><td>è¾“å‡ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è·¯å¾„</td><td>åŸè·¯å¾„</td></tr><tr><td><code>--suffix &lt;SUFFIX&gt;</code></td><td><code>-s</code></td><td>è¾“å‡ºæ–‡ä»¶åç¼€å</td><td><code>min</code></td></tr><tr><td><code>--recursive</code></td><td><code>-r</code></td><td>é€’å½’å¤„ç†å­æ–‡ä»¶å¤¹</td><td><code>true</code></td></tr></tbody></table>
<h3 data-id="heading-23">åç¼€è§„åˆ™</h3>






























<table><thead><tr><th>é…ç½®</th><th>ç»“æœ</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ—  <code>-d</code> æ—  <code>-s</code></td><td>é»˜è®¤åç¼€ <code>min</code></td><td><code>file.html</code> â†’ <code>file.min.html</code></td></tr><tr><td>æ—  <code>-d</code> æœ‰ <code>-s</code></td><td>è‡ªå®šä¹‰åç¼€</td><td><code>file.html</code> + <code>-s prod</code> â†’ <code>file.prod.html</code></td></tr><tr><td>æœ‰ <code>-d</code> æ—  <code>-s</code></td><td>ä¸æ·»åŠ åç¼€</td><td><code>file.html</code> + <code>-d out.html</code> â†’ <code>out.html</code></td></tr><tr><td>æœ‰ <code>-d</code> æœ‰ <code>-s</code></td><td>åç¼€ + è‡ªå®šä¹‰è·¯å¾„</td><td><code>file.html</code> + <code>-d out/</code> + <code>-s prod</code> â†’ <code>out/file.prod.html</code></td></tr></tbody></table>
<h3 data-id="heading-24">é›†æˆåˆ°æ„å»ºæµç¨‹</h3>
<h4 data-id="heading-25">æ–¹å¼ä¸€ï¼šåœ¨ <code>build.rs</code> ä¸­ä½¿ç”¨</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// build.rs</span>
<span class="hljs-keyword">use</span> std::process::Command;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// åœ¨ç”Ÿäº§æ„å»ºæ—¶è‡ªåŠ¨å‹ç¼©æ¨¡æ¿</span>
    <span class="hljs-keyword">if</span> std::env::<span class="hljs-title function_ invoke__">var</span>(<span class="hljs-string">"PROFILE"</span>).<span class="hljs-title function_ invoke__">as_deref</span>() == <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-string">"release"</span>) {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">status</span> = Command::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-string">"./target/release/askama-minify"</span>)
            .<span class="hljs-title function_ invoke__">args</span>([<span class="hljs-string">"-d"</span>, <span class="hljs-string">"dist/templates/"</span>, <span class="hljs-string">"templates/"</span>])
            .<span class="hljs-title function_ invoke__">status</span>()
            .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">"Failed to execute askama-minify"</span>);

        <span class="hljs-keyword">if</span> !status.<span class="hljs-title function_ invoke__">success</span>() {
            <span class="hljs-built_in">panic!</span>(<span class="hljs-string">"Template minification failed"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-26">æ–¹å¼äºŒï¼šåœ¨ Makefile ä¸­ä½¿ç”¨</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># Makefile</span>
<span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: build minify-templates</span>

<span class="hljs-section">build: minify-templates</span>
	cargo build --release

<span class="hljs-section">minify-templates:</span>
	askama-minify -d dist/templates/ -s prod templates/
</code></pre>
<h4 data-id="heading-27">æ–¹å¼ä¸‰ï¼šåœ¨ CI/CD ä¸­ä½¿ç”¨</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/deploy.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">deploy:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Rust</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions-rs/toolchain@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">toolchain:</span> <span class="hljs-string">stable</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">askama-minify</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          git clone https://github.com/wsafight/askama-minify.git
          cd askama-minify
          cargo build --release
</span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Minify</span> <span class="hljs-string">templates</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">./askama-minify/target/release/askama-minify</span> <span class="hljs-string">-d</span> <span class="hljs-string">dist/</span> <span class="hljs-string">-s</span> <span class="hljs-string">prod</span> <span class="hljs-string">templates/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span>
        <span class="hljs-attr">run:</span> <span class="hljs-comment"># ä½ çš„éƒ¨ç½²è„šæœ¬</span>
</code></pre>
<h3 data-id="heading-28">åœ¨ Askama ä¸­ä½¿ç”¨å‹ç¼©åçš„æ¨¡æ¿</h3>
<p>æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<h4 data-id="heading-29">æ–¹å¼ä¸€ï¼šåˆ‡æ¢æ¨¡æ¿è·¯å¾„ï¼ˆæ¨èï¼‰</h4>
<p>å¼€å‘ç¯å¢ƒä½¿ç”¨æºæ¨¡æ¿ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‹ç¼©æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> askama::Template;

<span class="hljs-meta">#[derive(Template)]</span>
<span class="hljs-meta">#[template(
    path = <span class="hljs-string">"{{ template_path }}"</span>,  // é€šè¿‡é…ç½®ä¼ å…¥
    whitespace = <span class="hljs-string">"suppress"</span>
)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">HomePage</span> {
    title: <span class="hljs-type">String</span>,
}

<span class="hljs-comment">// æ ¹æ®ç¯å¢ƒå˜é‡é€‰æ‹©æ¨¡æ¿è·¯å¾„</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_template_path</span>(name: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">if</span> std::env::<span class="hljs-title function_ invoke__">var</span>(<span class="hljs-string">"PROFILE"</span>).<span class="hljs-title function_ invoke__">as_deref</span>() == <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-string">"release"</span>) {
        <span class="hljs-built_in">format!</span>(<span class="hljs-string">"dist/{}.prod.html"</span>, name)  <span class="hljs-comment">// ä½¿ç”¨å‹ç¼©ç‰ˆ</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">format!</span>(<span class="hljs-string">"templates/{}.html"</span>, name)   <span class="hljs-comment">// ä½¿ç”¨æºæ–‡ä»¶</span>
    }
}
</code></pre>
<h4 data-id="heading-30">æ–¹å¼äºŒï¼šæ„å»ºæ—¶æ›¿æ¢</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å‘ç¯å¢ƒ</span>
<span class="hljs-built_in">cp</span> templates/*.html templates/

<span class="hljs-comment"># ç”Ÿäº§æ„å»ºæ—¶</span>
askama-minify -d templates/ -s prod templates/
</code></pre>
<h3 data-id="heading-31">å®é™…é¡¹ç›®ç¤ºä¾‹</h3>
<p>å‡è®¾ä½ æœ‰ä»¥ä¸‹é¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">my-app/
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ <span class="hljs-keyword">base</span>.html
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ profile.html
â”‚       â””â”€â”€ settings.html
â”œâ”€â”€ dist/              <span class="hljs-meta"># å‹ç¼©åçš„è¾“å‡ºç›®å½•</span>
â”œâ”€â”€ Cargo.toml
â””â”€â”€ build.rs
</code></pre>
<p><strong>å¼€å‘æ—¶</strong>ï¼šç›´æ¥ä½¿ç”¨ <code>templates/</code> ä¸‹çš„åŸå§‹æ–‡ä»¶</p>
<p><strong>éƒ¨ç½²å‰</strong>ï¼šè¿è¡Œå‹ç¼©å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">askama-minify -d dist/ -s prod templates/
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">dist/
â”œâ”€â”€ <span class="hljs-keyword">base</span>.prod.html
â”œâ”€â”€ index.prod.html
â””â”€â”€ user/
    â”œâ”€â”€ profile.prod.html
    â””â”€â”€ settings.prod.html
</code></pre>
<p><strong>é…ç½® Askama ä½¿ç”¨ç”Ÿäº§æ¨¡æ¿</strong>ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># askama.toml</span>
<span class="hljs-section">[general]</span>
<span class="hljs-attr">dirs</span> = [<span class="hljs-string">"dist"</span>]  <span class="hljs-comment"># æŒ‡å‘å‹ç¼©åçš„ç›®å½•</span>
</code></pre>
<h2 data-id="heading-32">æ€»ç»“</h2>
<p>askama-minify é€šè¿‡ä»¥ä¸‹æŠ€æœ¯å®ç°äº†é«˜æ•ˆçš„æ¨¡æ¿å‹ç¼©ï¼š</p>
<ol>
<li><strong>æ¨¡æ¿è¯­æ³•ä¿ç•™</strong>ï¼šå®Œæ•´ä¿ç•™ <code>{{ }}</code> å’Œ <code>{% %}</code> è¯­æ³•</li>
<li><strong>ä¸‰å±‚å‹ç¼©ç­–ç•¥</strong>ï¼šHTML å±‚ã€CSS å±‚ã€JS å±‚åˆ†åˆ«ä¼˜åŒ–</li>
<li><strong>æ™ºèƒ½è¾¹ç¼˜å¤„ç†</strong>ï¼šæ­£ç¡®å¤„ç†è½¬ä¹‰å­—ç¬¦ã€è¿ç®—ç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼</li>
<li><strong>ä¸“ä¸š CSS ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ lightningcss è¿›è¡Œå±æ€§åˆå¹¶å’Œé¢œè‰²ä¼˜åŒ–</li>
<li><strong>Rust å®ç°</strong>ï¼šé«˜æ€§èƒ½ã€å†…å­˜å®‰å…¨</li>
</ol>
<h3 data-id="heading-33">ä¸ Askama è‡ªå¸¦å‹ç¼©çš„å¯¹æ¯”</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Askama whitespace</th><th>askama-minify</th></tr></thead><tbody><tr><td>ç©ºç™½å‹ç¼©</td><td>âœ…</td><td>âœ…</td></tr><tr><td>HTML æ³¨é‡Šç§»é™¤</td><td>âŒ</td><td>âœ…</td></tr><tr><td>CSS å‹ç¼©ä¼˜åŒ–</td><td>âŒ</td><td>âœ…</td></tr><tr><td>JavaScript å‹ç¼©</td><td>âŒ</td><td>âœ…</td></tr><tr><td>æ¨¡æ¿è¯­æ³•ä¿ç•™</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ„å»ºæ—¶å¤„ç†</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<p>é¡¹ç›®å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwsafight%2Faskama-minify" target="_blank" title="https://github.com/wsafight/askama-minify" ref="nofollow noopener noreferrer">github.com/wsafight/asâ€¦</a></p>
<p>æ¬¢è¿å¤§å®¶æå‡º issue å’Œ prã€‚</p>
<h2 data-id="heading-34">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fparcel-bundler%2Flightningcss" target="_blank" title="https://github.com/parcel-bundler/lightningcss" ref="nofollow noopener noreferrer">lightningcss</a> - å‡ºè‰²çš„ CSS è§£æå’Œä¼˜åŒ–å·¥å…·</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fclap-rs%2Fclap" target="_blank" title="https://github.com/clap-rs/clap" ref="nofollow noopener noreferrer">clap</a> - å¼ºå¤§çš„å‘½ä»¤è¡Œå‚æ•°è§£æåº“</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdjc%2Faskama" target="_blank" title="https://github.com/djc/askama" ref="nofollow noopener noreferrer">Askama</a> - çµæ´»çš„ Rust æ¨¡æ¿å¼•æ“</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çº¯ç®—æ³•AECï¼šæ’­å½•å¹¶è¡Œåœºæ™¯çš„å›å£°æ¶ˆé™¤å®æˆ˜ç¬”è®°]]></title>    <link>https://juejin.cn/post/7586686861390757939</link>    <guid>https://juejin.cn/post/7586686861390757939</guid>    <pubDate>2025-12-23T07:39:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586686861390757939" data-draft-id="7586657335880810523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çº¯ç®—æ³•AECï¼šæ’­å½•å¹¶è¡Œåœºæ™¯çš„å›å£°æ¶ˆé™¤å®æˆ˜ç¬”è®°"/> <meta itemprop="keywords" content="Android,éŸ³è§†é¢‘å¼€å‘"/> <meta itemprop="datePublished" content="2025-12-23T07:39:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå°è½°_Rex"/> <meta itemprop="url" content="https://juejin.cn/user/3157453124930039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çº¯ç®—æ³•AECï¼šæ’­å½•å¹¶è¡Œåœºæ™¯çš„å›å£°æ¶ˆé™¤å®æˆ˜ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3157453124930039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå°è½°_Rex
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T07:39:24.000Z" title="Tue Dec 23 2025 07:39:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å¼•è¨€</h3>
<p>æœ€è¿‘åœ¨åšä¸€æ¬¾ AI è¯­éŸ³åº”ç”¨ï¼Œåœºæ™¯ç±»ä¼¼â€œå®æ—¶é€šè¯â€ï¼šä¸€è¾¹è®© TTS æ’­æŠ¥ï¼Œä¸€è¾¹æŠŠéº¦å…‹é£æ‰“å¼€åš STTã€‚</p>
<blockquote>
<p>é—®é¢˜åœ¨äºï¼Œæ‰¬å£°å™¨å‡ºæ¥çš„å£°éŸ³ä¸‹ä¸€ç§’å°±ä¼šè¢«éº¦å…‹é£åŸå°ä¸åŠ¨åœ°å½•å›å»ï¼ŒSTT ç«‹åˆ»æŠŠå®ƒå½“æˆç”¨æˆ·å†è¯´ä¸€éï¼Œå½¢æˆâ€œè‡ªå·±å¬æ‡‚è‡ªå·±â€çš„æ— é™å¾ªç¯ã€‚</p>
</blockquote>
<p>ä¸ºäº†åˆ‡æ–­è¿™æ¡å›å£°é€šè·¯ï¼Œæˆ‘è¯•äº†ä¸€åœˆç¡¬ä»¶æ–¹æ¡ˆæ— æœåï¼Œå†³å®šç”¨çº¯ç®—æ³•åœ¨è½¯ä»¶å±‚æŠŠæ’­æŠ¥å£°éŸ³ä»å½•éŸ³é‡Œâ€œæŠ â€æ‰ã€‚</p>
<h3 data-id="heading-1">å‚è€ƒ WebRTC</h3>
<p>åœ¨æˆ‘åŸæœ‰çš„è®¾è®¡é‡Œï¼ŒTTS æ’­æŠ¥èµ°çš„æ˜¯ç³»ç»Ÿè‡ªå¸¦æ’­æ”¾å™¨ï¼Œå½•éŸ³åˆæ¥è‡ª Android ç³»ç»ŸåŸç”Ÿçš„ AudioRecordï¼Œè¿™æ˜¯ä¸¤æ¡å¹¶è¡Œæ²¡æœ‰äº¤é›†çš„æ•°æ®å¤„ç†çº¿ã€‚å¦‚æœç»§ç»­ä¿æŒåŸæœ‰è®¾è®¡ï¼Œæ ¹æœ¬ä¸å¯èƒ½å®ç°æ•ˆæœï¼Œäºæ˜¯æˆ‘å‚è€ƒ <strong>WebRTC</strong> çš„è®¾è®¡ã€‚</p>
<blockquote>
<p>æŠŠ TTS å’Œå½•éŸ³å…¨éƒ¨â€œç»‘æ¶â€è¿› WebRTC çš„è½¨é“ï¼Œè®©å¼•æ“é‡æ–°æŒæ§ç”Ÿå‘½çº¿ã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ç”¨åˆ°äº†å¼€æºåº“ï¼š</p>
<pre><code class="hljs language-java" lang="java">implementation <span class="hljs-string">'io.github.webrtc-sdk:android:137.7151.05'</span>
</code></pre>
<h3 data-id="heading-2">æ–¹æ¡ˆè®¾è®¡</h3>
<p>æˆ‘ç”»äº†ä¸€å¼ æµç¨‹è®¾è®¡çš„ç®€å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2790ea56133c4f32b20345515a29eaee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5bCP6L2wX1JleA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767081023&amp;x-signature=lT4ZegCYu9L%2Fy5%2FohA6%2FU1%2FX0rA%3D" alt="267cd2b8ae0273f5498dfb21d0509155.png" loading="lazy"/></p>
<ol>
<li>è“è‰²æ³³é“ (TTS) : è´Ÿè´£äº§ç”Ÿå£°éŸ³ã€‚æ•°æ®è¿›å…¥ AECSchedule åï¼Œä¸ä»…æ˜¯ä¸ºäº†è®©ç”¨æˆ·å¬åˆ°ï¼ˆé€šè¿‡æ‰¬å£°å™¨ï¼‰ï¼Œæ›´æ˜¯ä¸ºäº†å‘Šè¯‰ AEC ç®—æ³•â€œè¿™æ˜¯æˆ‘ä»¬è‡ªå·±å‘å‡ºçš„å£°éŸ³ï¼Œè¯·ä¸è¦æŠŠå®ƒå½“æˆç”¨æˆ·è¯´çš„è¯â€ã€‚</li>
<li>æ©™è‰²æ³³é“ (AECSchedule) : æ ¸å¿ƒå¤„ç†åŒºã€‚
<ul>
<li>å…³é”®ç‚¹ : è™šçº¿ç®­å¤´è¡¨ç¤º AudioTrack æ’­æ”¾çš„å£°éŸ³è¢«ç”¨ä½œ å‚è€ƒä¿¡å· (Reference Signal) ã€‚</li>
<li>å¤„ç† : WebRTC å¼•æ“ (ADM) å°† éº¦å…‹é£é‡‡é›†çš„å£°éŸ³ å‡å» å‚è€ƒä¿¡å· ï¼Œä»è€Œæ¶ˆé™¤å›å£°ã€‚</li>
</ul>
</li>
<li>ç»¿è‰²æ³³é“ (STT) : æœ€ç»ˆæ¶ˆè´¹è€…ã€‚å®ƒæ¥æ”¶åˆ°çš„éŸ³é¢‘æ˜¯ç»è¿‡ AECï¼ˆå›å£°æ¶ˆé™¤ï¼‰å’Œ NSï¼ˆé™å™ªï¼‰å¤„ç†åçš„çº¯å‡€äººå£°ï¼Œä»è€Œæé«˜è¯†åˆ«å‡†ç¡®ç‡ã€‚</li>
</ol>
<p>æ–¹æ¡ˆæµç¨‹éå¸¸æ¸…æ™°ç®€å•ï¼Œä¸‹é¢æ˜¯é™„ä¸Šçš„ AECSchedule æºç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶ä½¿ç”¨</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> android.media.AudioAttributes
<span class="hljs-keyword">import</span> android.media.AudioFormat
<span class="hljs-keyword">import</span> android.media.AudioManager
<span class="hljs-keyword">import</span> android.media.AudioTrack
<span class="hljs-keyword">import</span> com.jiale.business_voice.config.TTSAudioConfig
<span class="hljs-keyword">import</span> com.jiale.commom.tools.log.JLog
<span class="hljs-keyword">import</span> org.webrtc.*
<span class="hljs-keyword">import</span> org.webrtc.audio.AudioDeviceModule
<span class="hljs-keyword">import</span> org.webrtc.audio.JavaAudioDeviceModule
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicBoolean

<span class="hljs-comment">/**
 * åŸºäº WebRTC çš„å›å£°æ¶ˆé™¤è°ƒåº¦å™¨ (AECSchedule)
 *
 * ä¸»è¦èŒè´£:
 * 1. æ’­æ”¾ (Playback): ç®¡ç† AudioTrack ä»¥ VOICE_COMMUNICATION æ¨¡å¼æ’­æ”¾ TTS æ•°æ®ã€‚
 *    è¿™ç¡®ä¿ç³»ç»Ÿ AEC å°†å…¶è§†ä¸ºâ€œå‚è€ƒä¿¡å·â€ (Reference Signal)ã€‚
 * 2. å½•éŸ³ (Recording): ä½¿ç”¨ WebRTC çš„ JavaAudioDeviceModule (ADM) é‡‡é›†éŸ³é¢‘ã€‚
 *    ADM è‡ªåŠ¨å¤„ç†ç³»ç»Ÿç¡¬ä»¶ AEC/NS/AGC é…ç½®ã€‚
 *    é‡‡é›†åˆ°çš„çº¯å‡€éŸ³é¢‘é€šè¿‡å›è°ƒæš´éœ²ç»™å¤–éƒ¨ã€‚
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AECSchedule</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context, <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> outputCallback: (ByteArray) -&gt; <span class="hljs-built_in">Unit</span>) {

    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> TAG = <span class="hljs-string">"AECSchedule"</span>
        
        <span class="hljs-comment">// éŸ³é¢‘é…ç½®</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> SAMPLE_RATE = TTSAudioConfig.SAMPLE_RATE
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> AUDIO_USAGE = AudioAttributes.USAGE_VOICE_COMMUNICATION
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> AUDIO_CONTENT_TYPE = AudioAttributes.CONTENT_TYPE_SPEECH
        
        <span class="hljs-comment">// WebRTC ID</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> AUDIO_TRACK_ID = <span class="hljs-string">"ARDAMSa0"</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> STREAM_ID = <span class="hljs-string">"ARDAMS"</span>

        <span class="hljs-comment">// WebRTC çº¦æŸæ¡ä»¶ Keys</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> CONSTRAINT_ECHO_CANCELLATION = <span class="hljs-string">"googEchoCancellation"</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> CONSTRAINT_AUTO_GAIN_CONTROL = <span class="hljs-string">"googAutoGainControl"</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> CONSTRAINT_NOISE_SUPPRESSION = <span class="hljs-string">"googNoiseSuppression"</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> CONSTRAINT_HIGHPASS_FILTER = <span class="hljs-string">"googHighpassFilter"</span>
    }

    <span class="hljs-comment">// --- æ’­æ”¾ç›¸å…³ (Speaker) ---</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> audioTrack: AudioTrack? = <span class="hljs-literal">null</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> audioManager: AudioManager <span class="hljs-keyword">by</span> lazy {
        context.getSystemService(Context.AUDIO_SERVICE) <span class="hljs-keyword">as</span> AudioManager
    }

    <span class="hljs-comment">// --- å½•éŸ³ç›¸å…³ (Mic &amp; Processing) ---</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> peerConnectionFactory: PeerConnectionFactory? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> audioDeviceModule: AudioDeviceModule? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> webrtcAudioSource: AudioSource? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> webrtcLocalTrack: org.webrtc.AudioTrack? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> dummyPeerConnection: PeerConnection? = <span class="hljs-literal">null</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> isRecording = AtomicBoolean(<span class="hljs-literal">false</span>)
    <span class="hljs-meta">@Volatile</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> hasLoggedRecordInfo = <span class="hljs-literal">false</span>

    <span class="hljs-comment">// ============================================================================================</span>
    <span class="hljs-comment">// æ’­æ”¾é€»è¾‘ (TTS)</span>
    <span class="hljs-comment">// ============================================================================================</span>

    <span class="hljs-comment">/**
     * æ¥æ”¶ TTS éŸ³é¢‘æ•°æ®å¹¶è¿›è¡Œæ’­æ”¾ã€‚
     * è¿™äº›æ•°æ®å°†ä½œä¸º AEC çš„â€œå‚è€ƒä¿¡å·â€ã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onTTSAudioData</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">ByteArray</span>)</span></span> {
        <span class="hljs-comment">// ç¡®ä¿éŸ³é¢‘è·¯ç”±åˆ°æ‰¬å£°å™¨ï¼ˆå¹¿æ’­æ¨¡å¼ï¼‰è€Œä¸æ˜¯å¬ç­’</span>
        setSpeakerphoneOn(<span class="hljs-literal">true</span>)
        
        <span class="hljs-keyword">if</span> (audioTrack == <span class="hljs-literal">null</span>) {
            initAudioTrack()
        }
        
        audioTrack?.let { track -&gt;
            <span class="hljs-keyword">if</span> (track.playState != AudioTrack.PLAYSTATE_PLAYING) {
                <span class="hljs-keyword">try</span> {
                    track.play()
                } <span class="hljs-keyword">catch</span> (e: Exception) {
                    JLog.e(TAG, <span class="hljs-string">"å¯åŠ¨ AudioTrack å¤±è´¥"</span>, e)
                    <span class="hljs-keyword">return</span>
                }
            }
            track.write(<span class="hljs-keyword">data</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">data</span>.size)
        }
    }

    <span class="hljs-comment">/**
     * åœæ­¢ TTS æ’­æ”¾å¹¶é‡Šæ”¾ AudioTrack èµ„æºã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">stopPlay</span><span class="hljs-params">()</span></span> {
        safeExecute(<span class="hljs-string">"åœæ­¢æ’­æ”¾"</span>) {
            audioTrack?.let {
                <span class="hljs-keyword">if</span> (it.playState == AudioTrack.PLAYSTATE_PLAYING) {
                    it.stop()
                }
                it.release()
            }
        }
        audioTrack = <span class="hljs-literal">null</span>
    }

    <span class="hljs-comment">/**
     * è®¾ç½®æ‰¬å£°å™¨çŠ¶æ€ã€‚
     * True: è·¯ç”±åˆ°æ‰¬å£°å™¨ (å¤–æ”¾)ã€‚
     * False: è·¯ç”±åˆ°å¬ç­’ (é€šè¯)ã€‚
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setSpeakerphoneOn</span><span class="hljs-params">(on: <span class="hljs-type">Boolean</span>)</span></span> {
        safeExecute(<span class="hljs-string">"è®¾ç½®æ‰¬å£°å™¨"</span>) {
            <span class="hljs-keyword">if</span> (audioManager.mode != AudioManager.MODE_IN_COMMUNICATION) {
                audioManager.mode = AudioManager.MODE_IN_COMMUNICATION
            }
            <span class="hljs-keyword">if</span> (audioManager.isSpeakerphoneOn != on) {
                audioManager.isSpeakerphoneOn = on
                JLog.i(TAG, <span class="hljs-string">"è®¾ç½®æ‰¬å£°å™¨çŠ¶æ€: <span class="hljs-variable">$on</span>"</span>)
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initAudioTrack</span><span class="hljs-params">()</span></span> {
        safeExecute(<span class="hljs-string">"åˆå§‹åŒ– AudioTrack"</span>) {
            <span class="hljs-keyword">val</span> minBufferSize = AudioTrack.getMinBufferSize(
                SAMPLE_RATE,
                AudioFormat.CHANNEL_OUT_MONO,
                AudioFormat.ENCODING_PCM_16BIT
            )

            <span class="hljs-keyword">val</span> attributes = AudioAttributes.Builder()
                .setUsage(AUDIO_USAGE)
                .setContentType(AUDIO_CONTENT_TYPE)
                .build()

            <span class="hljs-keyword">val</span> format = AudioFormat.Builder()
                .setEncoding(AudioFormat.ENCODING_PCM_16BIT)
                .setSampleRate(SAMPLE_RATE)
                .setChannelMask(AudioFormat.CHANNEL_OUT_MONO)
                .build()

            audioTrack = AudioTrack(
                attributes,
                format,
                minBufferSize,
                AudioTrack.MODE_STREAM,
                AudioManager.AUDIO_SESSION_ID_GENERATE
            )
            
            JLog.i(TAG, <span class="hljs-string">"AudioTrack å·²åˆå§‹åŒ– (VOICE_COMMUNICATION æ¨¡å¼)"</span>)
        }
    }

    <span class="hljs-comment">// ============================================================================================</span>
    <span class="hljs-comment">// å½•éŸ³é€»è¾‘ (WebRTC Engine)</span>
    <span class="hljs-comment">// ============================================================================================</span>

    <span class="hljs-comment">/**
     * å¯åŠ¨ WebRTC å¼•æ“è¿›è¡Œå½•éŸ³ã€‚
     * éŸ³é¢‘æ•°æ®å°†ç»è¿‡å¤„ç† (AEC/NS) å¹¶é€šè¿‡ outputCallback è¿”å›ã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startRecording</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (isRecording.<span class="hljs-keyword">get</span>()) {
            JLog.w(TAG, <span class="hljs-string">"å½•éŸ³å·²åœ¨è¿›è¡Œä¸­"</span>)
            <span class="hljs-keyword">return</span>
        }

        JLog.i(TAG, <span class="hljs-string">"æ­£åœ¨å¯åŠ¨ WebRTC å½•éŸ³..."</span>)
        hasLoggedRecordInfo = <span class="hljs-literal">false</span>
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 0. ç¡®ä¿éŸ³é¢‘æ¨¡å¼ä¸º IN_COMMUNICATION ä»¥å¯ç”¨ç¡¬ä»¶ AEC</span>
            setSpeakerphoneOn(<span class="hljs-literal">true</span>)

            <span class="hljs-comment">// 1. åˆå§‹åŒ– WebRTC å…¨å±€ä¸Šä¸‹æ–‡</span>
            initWebRTCContext()

            <span class="hljs-comment">// 2. åˆ›å»ºéŸ³é¢‘è®¾å¤‡æ¨¡å— (å¼•æ“æ ¸å¿ƒ)</span>
            createAudioDeviceModule()

            <span class="hljs-comment">// 3. åˆ›å»º PeerConnectionFactory (åè°ƒè€…)</span>
            createPeerConnectionFactory()

            <span class="hljs-comment">// 4. åˆ›å»ºéŸ³é¢‘æºå’Œè½¨é“ (ç®¡é“)</span>
            createAudioPipeline()

            <span class="hljs-comment">// 5. åˆ›å»ºè™šæ‹Ÿ PeerConnection ä»¥å¼ºåˆ¶ ADM å¼€å§‹å½•éŸ³</span>
            startDummyPeerConnection()

            isRecording.<span class="hljs-keyword">set</span>(<span class="hljs-literal">true</span>)
            JLog.i(TAG, <span class="hljs-string">"WebRTC å½•éŸ³å¯åŠ¨æˆåŠŸ"</span>)

        } <span class="hljs-keyword">catch</span> (e: Exception) {
            JLog.e(TAG, <span class="hljs-string">"å¯åŠ¨ WebRTC å½•éŸ³å¤±è´¥"</span>, e)
            releaseWebRTC() <span class="hljs-comment">// å¤±è´¥æ—¶æ¸…ç†èµ„æº</span>
        }
    }

    <span class="hljs-comment">/**
     * åœæ­¢å½•éŸ³å¹¶é‡Šæ”¾ WebRTC èµ„æºã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">stopRecording</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (!isRecording.<span class="hljs-keyword">get</span>()) <span class="hljs-keyword">return</span>
        
        JLog.i(TAG, <span class="hljs-string">"æ­£åœ¨åœæ­¢ WebRTC å½•éŸ³..."</span>)
        isRecording.<span class="hljs-keyword">set</span>(<span class="hljs-literal">false</span>)
        releaseWebRTC()
        JLog.i(TAG, <span class="hljs-string">"WebRTC å½•éŸ³å·²åœæ­¢"</span>)
    }

    <span class="hljs-comment">// --- WebRTC å†…éƒ¨åˆå§‹åŒ–æµç¨‹ ---</span>

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initWebRTCContext</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> options = PeerConnectionFactory.InitializationOptions.builder(context)
            .setEnableInternalTracer(<span class="hljs-literal">false</span>)
            .createInitializationOptions()
        PeerConnectionFactory.initialize(options)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createAudioDeviceModule</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// JavaAudioDeviceModule æ˜¯æ ‡å‡†çš„ Android å®ç°ã€‚</span>
        <span class="hljs-comment">// å®ƒç®¡ç† AudioRecord å’Œ AudioTrackã€‚</span>
        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šå®ƒè´Ÿè´£è®¾ç½®ç¡¬ä»¶ AEC (å¦‚æœå¯ç”¨)ã€‚</span>
        audioDeviceModule = JavaAudioDeviceModule.builder(context)
            .setUseHardwareAcousticEchoCanceler(<span class="hljs-literal">true</span>)
            .setUseHardwareNoiseSuppressor(<span class="hljs-literal">true</span>)
            .setAudioRecordErrorCallback(<span class="hljs-keyword">object</span> : JavaAudioDeviceModule.AudioRecordErrorCallback {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWebRtcAudioRecordInitError</span><span class="hljs-params">(p0: <span class="hljs-type">String</span>?)</span></span> = JLog.e(TAG, <span class="hljs-string">"å½•éŸ³åˆå§‹åŒ–é”™è¯¯: <span class="hljs-variable">$p0</span>"</span>)
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWebRtcAudioRecordStartError</span><span class="hljs-params">(p0: <span class="hljs-type">JavaAudioDeviceModule</span>.<span class="hljs-type">AudioRecordStartErrorCode</span>?, p1: <span class="hljs-type">String</span>?)</span></span> = JLog.e(TAG, <span class="hljs-string">"å½•éŸ³å¯åŠ¨é”™è¯¯: <span class="hljs-variable">$p1</span>"</span>)
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWebRtcAudioRecordError</span><span class="hljs-params">(p0: <span class="hljs-type">String</span>?)</span></span> = JLog.e(TAG, <span class="hljs-string">"å½•éŸ³è¿è¡Œæ—¶é”™è¯¯: <span class="hljs-variable">$p0</span>"</span>)
            })
            .setAudioRecordStateCallback(<span class="hljs-keyword">object</span> : JavaAudioDeviceModule.AudioRecordStateCallback {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWebRtcAudioRecordStart</span><span class="hljs-params">()</span></span> = JLog.i(TAG, <span class="hljs-string">"ADM: å½•éŸ³å·²å¼€å§‹"</span>)
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWebRtcAudioRecordStop</span><span class="hljs-params">()</span></span> = JLog.i(TAG, <span class="hljs-string">"ADM: å½•éŸ³å·²åœæ­¢"</span>)
            })
            <span class="hljs-comment">// ä½¿ç”¨ SamplesReadyCallback ç›´æ¥ä» ADM è·å–åŸå§‹éŸ³é¢‘æ•°æ®</span>
            <span class="hljs-comment">// è¿™ç»•è¿‡äº†å®Œæ•´çš„ PeerConnection åª’ä½“æµä¼ è¾“ï¼Œæ›´ç›´æ¥é«˜æ•ˆ</span>
            .setSamplesReadyCallback { audioSamples -&gt;
                processAudioSamples(audioSamples)
            }
            .createAudioDeviceModule()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processAudioSamples</span><span class="hljs-params">(audioSamples: <span class="hljs-type">JavaAudioDeviceModule</span>.<span class="hljs-type">AudioSamples</span>)</span></span> {
        <span class="hljs-comment">// æ£€æŸ¥å½•éŸ³çŠ¶æ€ï¼Œé˜²æ­¢å…³é—­è¿‡ç¨‹ä¸­çš„æ•°æ®æ³„æ¼</span>
        <span class="hljs-keyword">if</span> (!isRecording.<span class="hljs-keyword">get</span>()) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">if</span> (!hasLoggedRecordInfo) {
            JLog.i(TAG, <span class="hljs-string">"WebRTC å½•éŸ³æ ¼å¼: <span class="hljs-subst">${audioSamples.sampleRate}</span>Hz, <span class="hljs-subst">${audioSamples.channelCount}</span> å£°é“, æ ¼å¼=<span class="hljs-subst">${audioSamples.audioFormat}</span>, å¤§å°=<span class="hljs-subst">${audioSamples.data.size}</span>"</span>)
            hasLoggedRecordInfo = <span class="hljs-literal">true</span>
        }

        <span class="hljs-keyword">var</span> processedBytes = audioSamples.<span class="hljs-keyword">data</span>

        <span class="hljs-comment">// 1. ç«‹ä½“å£°è½¬å•å£°é“ (å¦‚æœéœ€è¦)</span>
        <span class="hljs-keyword">if</span> (audioSamples.channelCount == <span class="hljs-number">2</span>) {
            processedBytes = stereoToMono(processedBytes)
        }

        <span class="hljs-comment">// 2. é‡é‡‡æ · (å¦‚æœéœ€è¦)</span>
        <span class="hljs-keyword">if</span> (audioSamples.sampleRate == <span class="hljs-number">48000</span>) {
            processedBytes = resample48kTo16k(processedBytes)
        }

        <span class="hljs-comment">// å›è°ƒç»™ STT</span>
        outputCallback(processedBytes)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createPeerConnectionFactory</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> options = PeerConnectionFactory.Options()
        peerConnectionFactory = PeerConnectionFactory.builder()
            .setOptions(options)
            .setAudioDeviceModule(audioDeviceModule)
            .createPeerConnectionFactory()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createAudioPipeline</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// 4.1 åˆ›å»ºéŸ³é¢‘æº (AudioSource)</span>
        <span class="hljs-comment">// æ·»åŠ  Google ç‰¹å®šçš„çº¦æŸæ¡ä»¶ï¼Œæç¤ºå¼•æ“å¯ç”¨å¤„ç†</span>
        <span class="hljs-keyword">val</span> constraints = MediaConstraints().apply {
            mandatory.add(MediaConstraints.KeyValuePair(CONSTRAINT_ECHO_CANCELLATION, <span class="hljs-string">"true"</span>))
            mandatory.add(MediaConstraints.KeyValuePair(CONSTRAINT_AUTO_GAIN_CONTROL, <span class="hljs-string">"true"</span>))
            mandatory.add(MediaConstraints.KeyValuePair(CONSTRAINT_NOISE_SUPPRESSION, <span class="hljs-string">"true"</span>))
            mandatory.add(MediaConstraints.KeyValuePair(CONSTRAINT_HIGHPASS_FILTER, <span class="hljs-string">"true"</span>))
        }
        webrtcAudioSource = peerConnectionFactory?.createAudioSource(constraints)

        <span class="hljs-comment">// 4.2 åˆ›å»ºæœ¬åœ°éŸ³é¢‘è½¨é“ (AudioTrack)</span>
        webrtcLocalTrack = peerConnectionFactory?.createAudioTrack(AUDIO_TRACK_ID, webrtcAudioSource)
        webrtcLocalTrack?.setEnabled(<span class="hljs-literal">true</span>)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startDummyPeerConnection</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> rtcConfig = PeerConnection.RTCConfiguration(emptyList())
            rtcConfig.sdpSemantics = PeerConnection.SdpSemantics.UNIFIED_PLAN

            dummyPeerConnection = peerConnectionFactory?.createPeerConnection(rtcConfig, <span class="hljs-keyword">object</span> : SimplePeerConnectionObserver() {
                <span class="hljs-comment">// æˆ‘ä»¬ä¸éœ€è¦å¤„ç†ä»»ä½• P2P äº‹ä»¶ï¼Œå› ä¸ºè¿™åªæ˜¯ä¸€ä¸ªæœ¬åœ° Loopback</span>
            })
            
            <span class="hljs-comment">// å°†æœ¬åœ°è½¨é“æ·»åŠ åˆ°è¿æ¥ä¸­ä»¥è§¦å‘ ADM å½•éŸ³</span>
            <span class="hljs-keyword">if</span> (webrtcLocalTrack != <span class="hljs-literal">null</span>) {
                dummyPeerConnection?.addTrack(webrtcLocalTrack, listOf(STREAM_ID))
                JLog.i(TAG, <span class="hljs-string">"å·²æ·»åŠ æœ¬åœ°è½¨é“åˆ°è™šæ‹Ÿ PeerConnection"</span>)
            }

            <span class="hljs-comment">// å…³é”®æ­¥éª¤ï¼šåˆ›å»º Offer å¹¶è®¾ç½® Local Description ä»¥æ¿€æ´»åª’ä½“æµ</span>
            <span class="hljs-keyword">val</span> constraints = MediaConstraints()
            dummyPeerConnection?.createOffer(<span class="hljs-keyword">object</span> : SimpleSdpObserver() {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreateSuccess</span><span class="hljs-params">(sessionDescription: <span class="hljs-type">SessionDescription</span>?)</span></span> {
                    JLog.i(TAG, <span class="hljs-string">"è™šæ‹Ÿ Offer å·²åˆ›å»º"</span>)
                    dummyPeerConnection?.setLocalDescription(<span class="hljs-keyword">object</span> : SimpleSdpObserver() {
                        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSetSuccess</span><span class="hljs-params">()</span></span> {
                            JLog.i(TAG, <span class="hljs-string">"è™šæ‹Ÿæœ¬åœ°æè¿°å·²è®¾ç½® - å¼•æ“åº”å·²æ¿€æ´»"</span>)
                        }
                    }, sessionDescription)
                }
            }, constraints)

        } <span class="hljs-keyword">catch</span> (e: Exception) {
            JLog.e(TAG, <span class="hljs-string">"å¯åŠ¨è™šæ‹Ÿ PeerConnection å¤±è´¥"</span>, e)
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">releaseWebRTC</span><span class="hljs-params">()</span></span> {
        JLog.i(TAG, <span class="hljs-string">"æ­£åœ¨é‡Šæ”¾ WebRTC èµ„æº..."</span>)
        
        <span class="hljs-comment">// 1. å…³é—­ PeerConnection (åœæ­¢ç®¡é“)</span>
        safeExecute(<span class="hljs-string">"é‡Šæ”¾ PeerConnection"</span>) {
            dummyPeerConnection?.dispose()
            JLog.i(TAG, <span class="hljs-string">"PeerConnection å·²é‡Šæ”¾"</span>)
        }
        dummyPeerConnection = <span class="hljs-literal">null</span>

        <span class="hljs-comment">// 2. é‡Šæ”¾æœ¬åœ°è½¨é“</span>
        safeExecute(<span class="hljs-string">"é‡Šæ”¾ LocalTrack"</span>) {
            webrtcLocalTrack?.let {
                it.setEnabled(<span class="hljs-literal">false</span>)
                it.dispose()
                JLog.i(TAG, <span class="hljs-string">"LocalTrack å·²é‡Šæ”¾"</span>)
            }
        }
        webrtcLocalTrack = <span class="hljs-literal">null</span>
        
        <span class="hljs-comment">// 3. é‡Šæ”¾éŸ³é¢‘æº</span>
        safeExecute(<span class="hljs-string">"é‡Šæ”¾ AudioSource"</span>) {
            webrtcAudioSource?.dispose()
            JLog.i(TAG, <span class="hljs-string">"AudioSource å·²é‡Šæ”¾"</span>)
        }
        webrtcAudioSource = <span class="hljs-literal">null</span>
        
        <span class="hljs-comment">// 4. é‡Šæ”¾å·¥å‚</span>
        safeExecute(<span class="hljs-string">"é‡Šæ”¾ PeerConnectionFactory"</span>) {
            peerConnectionFactory?.dispose()
            JLog.i(TAG, <span class="hljs-string">"PeerConnectionFactory å·²é‡Šæ”¾"</span>)
        }
        peerConnectionFactory = <span class="hljs-literal">null</span>
        
        <span class="hljs-comment">// 5. é‡Šæ”¾ ADM (å¯¹äºåœæ­¢éº¦å…‹é£è‡³å…³é‡è¦)</span>
        safeExecute(<span class="hljs-string">"é‡Šæ”¾ AudioDeviceModule"</span>) {
            audioDeviceModule?.let {
                <span class="hljs-comment">// è§£é™¤å¯èƒ½çš„çŠ¶æ€é”å®š</span>
                it.setSpeakerMute(<span class="hljs-literal">false</span>) 
                it.setMicrophoneMute(<span class="hljs-literal">false</span>)
                it.release()
                JLog.i(TAG, <span class="hljs-string">"AudioDeviceModule å·²é‡Šæ”¾ - éº¦å…‹é£åº”å·²åœæ­¢"</span>)
            }
        }
        audioDeviceModule = <span class="hljs-literal">null</span>
    }

    <span class="hljs-comment">/**
     * å®Œå…¨é‡Šæ”¾æ‰€æœ‰èµ„æº (æ’­æ”¾å™¨å’Œå½•éŸ³æœº)ã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">release</span><span class="hljs-params">()</span></span> {
        stopPlay()
        stopRecording()
        <span class="hljs-comment">// é‡ç½®éŸ³é¢‘æ¨¡å¼</span>
        safeExecute(<span class="hljs-string">"é‡ç½®éŸ³é¢‘æ¨¡å¼"</span>) {
            audioManager.isSpeakerphoneOn = <span class="hljs-literal">false</span>
            audioManager.mode = AudioManager.MODE_NORMAL
        }
    }

    <span class="hljs-comment">// ============================================================================================</span>
    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•å’Œç±»</span>
    <span class="hljs-comment">// ============================================================================================</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">safeExecute</span><span class="hljs-params">(actionName: <span class="hljs-type">String</span>, action: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
        <span class="hljs-keyword">try</span> {
            action()
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            JLog.e(TAG, <span class="hljs-string">"<span class="hljs-variable">$actionName</span> å¤±è´¥"</span>, e)
        }
    }

    <span class="hljs-comment">/**
     * å°† 16-bit PCM ç«‹ä½“å£°è½¬æ¢ä¸ºå•å£°é“ (ä¸¢å¼ƒå³å£°é“)ã€‚
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">stereoToMono</span><span class="hljs-params">(stereoBytes: <span class="hljs-type">ByteArray</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">val</span> monoBytes = ByteArray(stereoBytes.size / <span class="hljs-number">2</span>)
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> until monoBytes.size step <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">val</span> stereoIndex = i * <span class="hljs-number">2</span>
            monoBytes[i] = stereoBytes[stereoIndex]
            monoBytes[i + <span class="hljs-number">1</span>] = stereoBytes[stereoIndex + <span class="hljs-number">1</span>]
        }
        <span class="hljs-keyword">return</span> monoBytes
    }

    <span class="hljs-comment">/**
     * å°† 16-bit PCM 48000Hz é™é‡‡æ ·åˆ° 16000Hz (3:1 æŠ½å–)ã€‚
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">resample48kTo16k</span><span class="hljs-params">(src: <span class="hljs-type">ByteArray</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">val</span> sampleCount = src.size / <span class="hljs-number">2</span>
        <span class="hljs-keyword">val</span> newSampleCount = sampleCount / <span class="hljs-number">3</span>
        <span class="hljs-keyword">val</span> dst = ByteArray(newSampleCount * <span class="hljs-number">2</span>)

        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> until newSampleCount) {
            <span class="hljs-keyword">val</span> srcIndex = i * <span class="hljs-number">3</span> * <span class="hljs-number">2</span>
            <span class="hljs-keyword">val</span> dstIndex = i * <span class="hljs-number">2</span>
            dst[dstIndex] = src[srcIndex]
            dst[dstIndex + <span class="hljs-number">1</span>] = src[srcIndex + <span class="hljs-number">1</span>]
        }
        <span class="hljs-keyword">return</span> dst
    }

    <span class="hljs-comment">// --- ç®€åŒ–çš„ Observer å®ç°ï¼Œé¿å…å†—ä½™ä»£ç  ---</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimplePeerConnectionObserver</span> : <span class="hljs-type">PeerConnection.Observer</span> {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSignalingChange</span><span class="hljs-params">(p0: <span class="hljs-type">PeerConnection</span>.<span class="hljs-type">SignalingState</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onIceConnectionChange</span><span class="hljs-params">(p0: <span class="hljs-type">PeerConnection</span>.<span class="hljs-type">IceConnectionState</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onIceConnectionReceivingChange</span><span class="hljs-params">(p0: <span class="hljs-type">Boolean</span>)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onIceGatheringChange</span><span class="hljs-params">(p0: <span class="hljs-type">PeerConnection</span>.<span class="hljs-type">IceGatheringState</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onIceCandidate</span><span class="hljs-params">(p0: <span class="hljs-type">IceCandidate</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onIceCandidatesRemoved</span><span class="hljs-params">(p0: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">out</span> <span class="hljs-type">IceCandidate</span>&gt;?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAddStream</span><span class="hljs-params">(p0: <span class="hljs-type">MediaStream</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onRemoveStream</span><span class="hljs-params">(p0: <span class="hljs-type">MediaStream</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDataChannel</span><span class="hljs-params">(p0: <span class="hljs-type">DataChannel</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onRenegotiationNeeded</span><span class="hljs-params">()</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAddTrack</span><span class="hljs-params">(p0: <span class="hljs-type">RtpReceiver</span>?, p1: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">out</span> <span class="hljs-type">MediaStream</span>&gt;?)</span></span> {}
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleSdpObserver</span> : <span class="hljs-type">SdpObserver</span> {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreateSuccess</span><span class="hljs-params">(p0: <span class="hljs-type">SessionDescription</span>?)</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSetSuccess</span><span class="hljs-params">()</span></span> {}
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreateFailure</span><span class="hljs-params">(p0: <span class="hljs-type">String</span>?)</span></span> { JLog.e(TAG, <span class="hljs-string">"SDP Create Error: <span class="hljs-variable">$p0</span>"</span>) }
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSetFailure</span><span class="hljs-params">(p0: <span class="hljs-type">String</span>?)</span></span> { JLog.e(TAG, <span class="hljs-string">"SDP Set Error: <span class="hljs-variable">$p0</span>"</span>) }
    }
}
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨æ–¹å¼</h3>
<h4 data-id="heading-4">1. åˆå§‹åŒ–</h4>
<p>è°ƒç”¨æ–¹éœ€è¦å®ä¾‹åŒ– AECSchedule ï¼Œå¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ¥æ”¶å¤„ç†åçš„çº¯å‡€éŸ³é¢‘æ•°æ®ï¼ˆç”¨äº STTï¼‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨ Activity æˆ– ViewModel ä¸­</span>
<span class="hljs-keyword">val</span> aecSchedule = AECSchedule(context) { processedPcmData -&gt;
    <span class="hljs-comment">// [å›è°ƒ] è¿™é‡Œæ¥æ”¶åˆ°çš„æ˜¯ç»è¿‡å›å£°æ¶ˆé™¤å’Œé™å™ªåçš„çº¯å‡€éŸ³é¢‘</span>
    <span class="hljs-comment">// é€šå¸¸åœ¨è¿™é‡Œå°†æ•°æ®å‘é€ç»™ STT (è¯­éŸ³è¯†åˆ«) å¼•æ“</span>
    sttClient.sendAudio(processedPcmData)
}
</code></pre>
<h4 data-id="heading-5">2. å¯åŠ¨å½•éŸ³ (Start Recording)</h4>
<p>å½“éœ€è¦å¼€å§‹å¬ç”¨æˆ·è¯´è¯æ—¶ï¼ˆä¾‹å¦‚å”¤é†’åï¼Œæˆ–è¿›å…¥å¯¹è¯çŠ¶æ€ï¼‰ï¼Œè°ƒç”¨ startRecording() ã€‚</p>
<ul>
<li>ä½œç”¨ ï¼šå¯åŠ¨ WebRTC å¼•æ“ï¼Œæ‰“å¼€éº¦å…‹é£ï¼Œå¼€å§‹é‡‡é›†å¹¶å¤„ç†éŸ³é¢‘ã€‚</li>
<li>æ—¶æœº ï¼šé€šå¸¸åœ¨ç”¨æˆ·ç‚¹å‡»â€œå¼€å§‹è¯´è¯â€æŒ‰é’®ï¼Œæˆ–ç³»ç»Ÿæ£€æµ‹åˆ°å”¤é†’è¯åã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">aecSchedule.startRecording()
</code></pre>
<h4 data-id="heading-6">3. æ’­æ”¾ TTS éŸ³é¢‘ (Playback)</h4>
<p>å½“æœ‰ TTSï¼ˆè¯­éŸ³åˆæˆï¼‰æ•°æ®éœ€è¦æ’­æ”¾æ—¶ï¼Œ å¿…é¡» é€šè¿‡ AECSchedule æ¥æ’­æ”¾ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ›å»º AudioTrack ã€‚</p>
<ul>
<li>å…³é”®ç‚¹ ï¼šåªæœ‰é€šè¿‡ onTTSAudioData æ’­æ”¾çš„å£°éŸ³ï¼Œæ‰èƒ½è¢« WebRTC å¼•æ“æ•æ‰ä¸ºâ€œå‚è€ƒä¿¡å·â€ï¼Œä»è€Œåœ¨éº¦å…‹é£é‡‡é›†çš„éŸ³é¢‘ä¸­å°†å…¶æ¶ˆé™¤ï¼ˆé¿å…è‡ªè¨€è‡ªè¯­ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‡è®¾ ttsData æ˜¯ä» TTS å¼•æ“è·å–çš„ PCM å­—èŠ‚æµï¼Œæˆ‘è¿™è¾¹æ‹¿åˆ°çš„æ˜¯ tts-websocket ä¸­è¿”å›çš„ byte[] ï¼ˆéŸ³é¢‘æ•°æ®ï¼‰</span>
aecSchedule.onTTSAudioData(ttsData)
</code></pre>
<h4 data-id="heading-7">4. åœæ­¢æ’­æ”¾ (Stop Playback)</h4>
<p>å¦‚æœéœ€è¦æ‰“æ–­æ’­æ”¾ï¼ˆä¾‹å¦‚ç”¨æˆ·ç‚¹å‡»â€œåœæ­¢â€æˆ–å¼€å§‹æ–°çš„å¯¹è¯ï¼‰ï¼Œè°ƒç”¨ stopPlay() ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">aecSchedule.stopPlay()
</code></pre>
<h4 data-id="heading-8">5. åœæ­¢å½•éŸ³ (Stop Recording)</h4>
<p>å½“ä¸éœ€è¦å†å¬ç”¨æˆ·è¯´è¯æ—¶ï¼ˆä¾‹å¦‚è¯†åˆ«ç»“æŸï¼Œè¿›å…¥æ€è€ƒçŠ¶æ€ï¼‰ï¼Œè°ƒç”¨ stopRecording() ã€‚</p>
<ul>
<li>æ³¨æ„ ï¼šè¿™å°†é‡Šæ”¾éº¦å…‹é£èµ„æºï¼Œç³»ç»ŸçŠ¶æ€æ çš„å½•éŸ³å›¾æ ‡ï¼ˆå°ç»¿ç‚¹ï¼‰åº”æ¶ˆå¤±ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">aecSchedule.stopRecording()
</code></pre>
<h4 data-id="heading-9">6. é”€æ¯èµ„æº (Release)</h4>
<p>åœ¨é¡µé¢é”€æ¯æˆ–é€€å‡ºåŠŸèƒ½æ—¶ï¼ŒåŠ¡å¿…è°ƒç”¨ release() ä»¥å½»åº•é‡Šæ”¾æ‰€æœ‰ç¡¬ä»¶èµ„æºã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">super</span>.onDestroy()
    aecSchedule.release()
}
</code></pre>
<h4 data-id="heading-10">ä¼ªä»£ç æµç¨‹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¼ªä»£ç ï¼šAEC è°ƒåº¦æµç¨‹</span>

<span class="hljs-comment">// 1. åˆå§‹åŒ– (Init)</span>
<span class="hljs-comment">// --------------------------------------------------------------------------------</span>
<span class="hljs-comment">// åˆ›å»º AEC è°ƒåº¦å™¨ï¼Œå¹¶å®šä¹‰å¤„ç†åçš„éŸ³é¢‘å»å‘ï¼ˆç»™ STTï¼‰</span>
<span class="hljs-keyword">val</span> aecSchedule = AECSchedule(context) { processedPcmData -&gt;
    <span class="hljs-comment">// å›è°ƒï¼šæ¥æ”¶ç»è¿‡å›å£°æ¶ˆé™¤çš„çº¯å‡€éŸ³é¢‘</span>
    sttClient.sendAudio(processedPcmData)
}

<span class="hljs-comment">// 2. å½•éŸ³æµç¨‹ (Recording Loop)</span>
<span class="hljs-comment">// --------------------------------------------------------------------------------</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startSession</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å¯åŠ¨ STT å¼•æ“ï¼ˆè®¾ç½®ä¸ºå¤–éƒ¨éŸ³é¢‘æºæ¨¡å¼ï¼‰</span>
    sttClient.startExternalAudioMode()
    
    <span class="hljs-comment">// å¯åŠ¨ AEC å½•éŸ³ï¼ˆæ‰“å¼€éº¦å…‹é£ + WebRTC å¤„ç†ï¼‰</span>
    aecSchedule.startRecording()
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">stopSession</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åœæ­¢å½•éŸ³</span>
    aecSchedule.stopRecording()
    <span class="hljs-comment">// åœæ­¢ STT</span>
    sttClient.stop()
}

<span class="hljs-comment">// 3. æ’­æ”¾æµç¨‹ (Playback with AEC)</span>
<span class="hljs-comment">// --------------------------------------------------------------------------------</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">speak</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-comment">// è°ƒç”¨ TTS å¼•æ“ç”ŸæˆéŸ³é¢‘</span>
    ttsClient.synthesize(text, <span class="hljs-keyword">object</span> : TTSCallback {
        
        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šæ‹¦æˆª TTS çš„éŸ³é¢‘æ•°æ®</span>
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAudioData</span><span class="hljs-params">(pcmData: <span class="hljs-type">ByteArray</span>)</span></span> {
            <span class="hljs-comment">// å°† TTS éŸ³é¢‘å–‚ç»™ AECSchedule è¿›è¡Œæ’­æ”¾</span>
            <span class="hljs-comment">// è¿™æ · WebRTC æ‰èƒ½å°†å…¶è¯†åˆ«ä¸ºâ€œå‚è€ƒä¿¡å·â€å¹¶æ¶ˆé™¤</span>
            aecSchedule.onTTSAudioData(pcmData)
        }
    })
}

<span class="hljs-comment">// 4. èµ„æºé‡Šæ”¾ (Cleanup)</span>
<span class="hljs-comment">// --------------------------------------------------------------------------------</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span></span> {
    aecSchedule.release() <span class="hljs-comment">// åŠ¡å¿…é‡Šæ”¾ç¡¬ä»¶èµ„æº</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2389299ab07041b2b6f78cb490922e6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5bCP6L2wX1JleA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767081023&amp;x-signature=bODgNIAO%2F%2FwK2Nx%2F0LREjk0fKCs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">æ•ˆæœæ¼”ç¤ºï¼ˆå¸¦å£°éŸ³ï¼‰</h3>
<p>ã€AEC å›å£°æ¶ˆé™¤æµ‹è¯•-è§†é¢‘æ¼”ç¤ºã€‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fb23.tv%2FkUEJYuP" target="_blank" title="https://b23.tv/kUEJYuP" ref="nofollow noopener noreferrer">b23.tv/kUEJYuP</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b40ff934fd3c4879929a01a99e7e3f2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5bCP6L2wX1JleA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767081023&amp;x-signature=9GEksZR388sc72gEtkxKYymBwUk%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”çªç ´LLMæ•ˆç‡ç“¶é¢ˆï¼šå¤šæ ‡è®°é¢„æµ‹(MTP)æŠ€æœ¯æ·±åº¦è§£æä¸å®æˆ˜]]></title>    <link>https://juejin.cn/post/7586615716905746432</link>    <guid>https://juejin.cn/post/7586615716905746432</guid>    <pubDate>2025-12-23T03:29:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586615716905746432" data-draft-id="7586570254861778984" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”çªç ´LLMæ•ˆç‡ç“¶é¢ˆï¼šå¤šæ ‡è®°é¢„æµ‹(MTP)æŠ€æœ¯æ·±åº¦è§£æä¸å®æˆ˜"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-23T03:29:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¾é†’"/> <meta itemprop="url" content="https://juejin.cn/user/708512558088669"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”çªç ´LLMæ•ˆç‡ç“¶é¢ˆï¼šå¤šæ ‡è®°é¢„æµ‹(MTP)æŠ€æœ¯æ·±åº¦è§£æä¸å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/708512558088669/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¾é†’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T03:29:20.000Z" title="Tue Dec 23 2025 03:29:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è½åœ°çš„è¿‡ç¨‹ä¸­ï¼Œâ€œç”Ÿæˆæ•ˆç‡â€å§‹ç»ˆæ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒç—›ç‚¹â€”â€”ä¼ ç»Ÿè‡ªå›å½’æ¨¡å‹åƒâ€œæŒ¤ç‰™è†â€ä¸€æ ·é€è¯å…ƒï¼ˆTokenï¼‰ç”Ÿæˆæ–‡æœ¬ï¼Œä¸ä»…æ¨ç†é€Ÿåº¦æ…¢ï¼Œè®­ç»ƒæ•ˆç‡ä¹Ÿéš¾ä»¥æ»¡è¶³å¤§è§„æ¨¡åº”ç”¨éœ€æ±‚ã€‚è€Œ<strong>å¤šæ ‡è®°é¢„æµ‹ï¼ˆMulti-Token Prediction, MTPï¼‰</strong> ä½œä¸ºè§£å†³è¿™ä¸€é—®é¢˜çš„å…³é”®æŠ€æœ¯ï¼Œæ­£åœ¨æˆä¸ºLLMæ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒæ–¹å‘ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯æœ¬è´¨ã€æ‰§è¡Œæµç¨‹ã€å®æˆ˜ç¤ºä¾‹åˆ°è½åœ°åº”ç”¨ï¼Œå…¨æ–¹ä½æ‹†è§£MTPæŠ€æœ¯ã€‚</p>
<h2 data-id="heading-1">MTPæ ¸å¿ƒå®šä¹‰ï¼šä¸æ­¢äºâ€œä¸€æ¬¡ç”Ÿæˆå¤šä¸ªTokenâ€</h2>
<p>å¤šæ ‡è®°é¢„æµ‹ï¼ˆMTPï¼‰æ˜¯ä¸€ç§è®©å¤§è¯­è¨€æ¨¡å‹åœ¨<strong>å•æ¬¡å‰å‘ä¼ æ’­ä¸­åŒæ—¶é¢„æµ‹å¤šä¸ªåç»­è¯å…ƒ</strong>çš„æŠ€æœ¯ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯æ‰“ç ´ä¼ ç»Ÿâ€œå•Tokené€æ¬¡ç”Ÿæˆâ€çš„æ•ˆç‡æ·é”ã€‚</p>
<p>ä¸ä¼ ç»Ÿå•æ ‡è®°é¢„æµ‹ï¼ˆNTPï¼‰çš„æ ¸å¿ƒå·®å¼‚ï¼š</p>
<ul>
<li>ä¼ ç»ŸNTPï¼šè¾“å…¥æ–‡æœ¬â†’æ¨¡å‹é¢„æµ‹ç¬¬t+1ä¸ªTokenâ†’ä»¥t+1ä¸ºæ–°è¾“å…¥â†’é¢„æµ‹t+2ä¸ªTokenï¼ˆå¾ªç¯å¾€å¤ï¼‰ï¼›</li>
<li>MTPï¼šè¾“å…¥æ–‡æœ¬â†’æ¨¡å‹å•æ¬¡å‰å‘ä¼ æ’­â†’åŒæ—¶é¢„æµ‹t+1ã€t+2â€¦t+nä¸ªTokenï¼Œç›´æ¥å®Œæˆå¤šæ­¥ç”Ÿæˆã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼ŒMTPè®©æ¨¡å‹ä»â€œä¸€æ­¥èµ°ä¸€æ ¼â€å˜æˆâ€œä¸€æ­¥èµ°å¤šæ ¼â€ï¼Œæ—¢æå‡è®­ç»ƒæ—¶çš„ä¿¡å·å¯†åº¦ï¼Œåˆå¤§å¹…é™ä½æ¨ç†æ—¶çš„è¿­ä»£æ¬¡æ•°ã€‚</p>
<h2 data-id="heading-2">MTPæ ¸å¿ƒæ‰§è¡Œæµç¨‹</h2>
<p>MTPçš„æ‰§è¡Œæµç¨‹åˆ†ä¸º<strong>è®­ç»ƒé˜¶æ®µ</strong>å’Œ<strong>æ¨ç†é˜¶æ®µ</strong>ï¼Œå…¶ä¸­æ¨ç†é˜¶æ®µç»“åˆâ€œæ¨æµ‹è§£ç ï¼ˆSpeculative Decodingï¼‰â€æ—¶æ•ˆæœæœ€ä¼˜ã€‚</p>
<h3 data-id="heading-3">1. åŸºç¡€MTPè®­ç»ƒæµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8bdb87ed6d14384bfe67b8ae906a43d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YaS:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767065360&amp;x-signature=FHOJWkUttJX1tday%2Bfper%2F%2FQVyU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æµç¨‹æ‹†è§£</strong>ï¼š</p>
<ol>
<li>è¾“å…¥æ–‡æœ¬ç»TokenåŒ–è½¬ä¸ºåºåˆ—<code>Xâ‚,Xâ‚‚...Xâ‚œ</code>ï¼›</li>
<li>å…±äº«Transformerç¼–ç å™¨å°†åºåˆ—ç¼–ç ä¸ºä¸Šä¸‹æ–‡è¡¨å¾<code>Hâ‚œ</code>ï¼›</li>
<li>å¤šä¸ªç‹¬ç«‹çš„MTPè¾“å‡ºå¤´åŸºäº<code>Hâ‚œ</code>ï¼Œå¹¶è¡Œé¢„æµ‹<code>t+1</code>åˆ°<code>t+n</code>ä¸ªTokenï¼›</li>
<li>è®¡ç®—æ¯ä¸ªMTPå¤´çš„é¢„æµ‹æŸå¤±ï¼ˆäº¤å‰ç†µï¼‰ï¼Œæ€»æŸå¤±ä¸ºæ‰€æœ‰å¤´æŸå¤±çš„å¹³å‡å€¼ï¼›</li>
<li>åå‘ä¼ æ’­æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›ã€‚</li>
</ol>
<h3 data-id="heading-4">2. MTP+æ¨æµ‹è§£ç æ¨ç†æµç¨‹ï¼ˆä¸»æµè½åœ°æ–¹æ¡ˆï¼‰</h3>
<p>å•çº¯çš„MTPå¯èƒ½å­˜åœ¨â€œå¤šTokené¢„æµ‹ä¸è¿è´¯â€çš„é—®é¢˜ï¼Œç»“åˆæ¨æµ‹è§£ç åï¼Œæ—¢èƒ½ä¿æ•ˆç‡åˆèƒ½ä¿è´¨é‡ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75fac2031b92462b86c9ccb07c36a6e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YaS:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767065360&amp;x-signature=yBzVOyNIwuotLibktiuEBvZ1pGo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æµç¨‹æ‹†è§£</strong>ï¼š</p>
<ol>
<li>è½»é‡çº§MTPâ€œè‰ç¨¿æ¨¡å‹â€åŸºäºè¾“å…¥ä¸Šä¸‹æ–‡ï¼Œå¹¶è¡Œç”ŸæˆKä¸ªå€™é€‰Tokenï¼ˆæ¯”å¦‚K=4ï¼‰ï¼›</li>
<li>é«˜ç²¾åº¦ä¸»æ¨¡å‹é€šè¿‡<strong>å•æ¬¡å‰å‘ä¼ æ’­</strong>ï¼Œæ‰¹é‡éªŒè¯è¿™Kä¸ªå€™é€‰Tokençš„åˆç†æ€§ï¼›</li>
<li>è‹¥éªŒè¯é€šè¿‡ï¼ˆDeepSeekå®æµ‹æ¥å—ç‡85%-90%ï¼‰ï¼Œç›´æ¥è¾“å‡ºè¿™Kä¸ªTokenï¼Œæ¨¡å‹æ­¥æ•°ä¸€æ¬¡æ€§+Kï¼›</li>
<li>è‹¥éƒ¨åˆ†TokenéªŒè¯å¤±è´¥ï¼Œä»…ä¿ç•™é€šè¿‡çš„Tokenï¼Œé‡æ–°ç”Ÿæˆè¢«æ‹’ç»çš„éƒ¨åˆ†ï¼›</li>
<li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°ç”Ÿæˆæ»¡è¶³é•¿åº¦è¦æ±‚çš„æ–‡æœ¬ã€‚</li>
</ol>
<h3 data-id="heading-5">3. DeepSeekä¾èµ–é“¾å¼MTPæ¶æ„ï¼ˆä¿è¿è´¯çš„è¿›é˜¶æ–¹æ¡ˆï¼‰</h3>
<p>ä¸ºè§£å†³â€œç‹¬ç«‹å¤šå¤´MTPç”Ÿæˆä¸è¿è´¯â€çš„é—®é¢˜ï¼ŒDeepSeekè®¾è®¡äº†ä¾èµ–é“¾å¼MTPæ¶æ„ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47f0c2adf901461ea3b724ef06529c95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YaS:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767065360&amp;x-signature=%2BtT0LazpV1e%2FixwrjSC8xE0tgrI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
æ ¸å¿ƒé€»è¾‘ï¼šåä¸€ä¸ªMTPå¤´çš„é¢„æµ‹ä¾èµ–å‰ä¸€ä¸ªå¤´çš„è¾“å‡ºè¡¨å¾ï¼Œæ—¢ä¿ç•™äº†â€œå¤šTokené¢„æµ‹â€çš„æ•ˆç‡ï¼Œåˆä¿è¯äº†æ–‡æœ¬çš„è¯­ä¹‰è¿è´¯æ€§ã€‚</p>
<h2 data-id="heading-6">MTPå®æˆ˜ç¤ºä¾‹ï¼šæç®€PyTorchå®ç°æ¡†æ¶</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„MTPæ¨¡å‹å®ç°ï¼Œå¸®åŠ©ä½ ç†è§£æ ¸å¿ƒä»£ç é€»è¾‘ï¼ˆä»…ä¿ç•™å…³é”®æ¨¡å—ï¼Œæ— å¤æ‚ä¼˜åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn
<span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim

<span class="hljs-comment"># è¶…å‚æ•°è®¾ç½®</span>
VOCAB_SIZE = <span class="hljs-number">10000</span>  <span class="hljs-comment"># è¯æ±‡è¡¨å¤§å°</span>
EMBED_DIM = <span class="hljs-number">256</span>     <span class="hljs-comment"># åµŒå…¥ç»´åº¦</span>
HIDDEN_DIM = <span class="hljs-number">512</span>    <span class="hljs-comment"># Transformeréšè—å±‚ç»´åº¦</span>
NUM_HEADS = <span class="hljs-number">8</span>       <span class="hljs-comment"># æ³¨æ„åŠ›å¤´æ•°</span>
NUM_LAYERS = <span class="hljs-number">2</span>      <span class="hljs-comment"># Transformerå±‚æ•°</span>
MTP_NUM = <span class="hljs-number">3</span>         <span class="hljs-comment"># ä¸€æ¬¡é¢„æµ‹3ä¸ªTokenï¼ˆt+1/t+2/t+3ï¼‰</span>

<span class="hljs-comment"># 1. å…±äº«Transformerç¼–ç å™¨ï¼ˆåŸºç¡€ç¼–ç æ¨¡å—ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedEncoder</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__()
        self.embedding = nn.Embedding(VOCAB_SIZE, EMBED_DIM)
        self.transformer_encoder = nn.TransformerEncoder(
            nn.TransformerEncoderLayer(EMBED_DIM, NUM_HEADS, HIDDEN_DIM),
            num_layers=NUM_LAYERS
        )
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        <span class="hljs-comment"># x: [seq_len, batch_size]</span>
        embed = self.embedding(x)  <span class="hljs-comment"># [seq_len, batch_size, embed_dim]</span>
        enc_out = self.transformer_encoder(embed)  <span class="hljs-comment"># [seq_len, batch_size, embed_dim]</span>
        <span class="hljs-keyword">return</span> enc_out[-<span class="hljs-number">1</span>]  <span class="hljs-comment"># è¿”å›æœ€åä¸€ä¸ªTokençš„è¡¨å¾: [batch_size, embed_dim]</span>

<span class="hljs-comment"># 2. MTPå¤šè¾“å‡ºå¤´ï¼ˆå¹¶è¡Œé¢„æµ‹å¤šä¸ªTokenï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MTPModel</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__()
        self.encoder = SharedEncoder()
        <span class="hljs-comment"># å®šä¹‰MTP_NUMä¸ªç‹¬ç«‹çš„è¾“å‡ºå¤´</span>
        self.mtp_heads = nn.ModuleList([
            nn.Linear(EMBED_DIM, VOCAB_SIZE) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MTP_NUM)
        ])
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        <span class="hljs-comment"># x: [seq_len, batch_size]</span>
        context_feat = self.encoder(x)  <span class="hljs-comment"># [batch_size, embed_dim]</span>
        <span class="hljs-comment"># æ¯ä¸ªå¤´å¹¶è¡Œé¢„æµ‹ä¸€ä¸ªToken</span>
        mtp_outputs = [head(context_feat) <span class="hljs-keyword">for</span> head <span class="hljs-keyword">in</span> self.mtp_heads]
        <span class="hljs-comment"># è¿”å›t+1/t+2/t+3çš„é¢„æµ‹logits: [MTP_NUM, batch_size, vocab_size]</span>
        <span class="hljs-keyword">return</span> torch.stack(mtp_outputs)

<span class="hljs-comment"># 3. è®­ç»ƒæµç¨‹ç¤ºä¾‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">train_mtp_model</span>():
    model = MTPModel()
    criterion = nn.CrossEntropyLoss()  <span class="hljs-comment"># äº¤å‰ç†µæŸå¤±</span>
    optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">1e-4</span>)
    
    <span class="hljs-comment"># æ¨¡æ‹Ÿè®­ç»ƒæ•°æ®ï¼šè¾“å…¥åºåˆ—[1,2,3,4]ï¼Œç›®æ ‡Tokenä¸º[5,6,7]ï¼ˆt+1=5, t+2=6, t+3=7ï¼‰</span>
    batch_size = <span class="hljs-number">2</span>
    input_seq = torch.tensor([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>], [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]]).T  <span class="hljs-comment"># [seq_len=4, batch_size=2]</span>
    target_tokens = torch.tensor([[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>], [<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]]).T    <span class="hljs-comment"># [MTP_NUM=3, batch_size=2]</span>
    
    model.train()
    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>):
        optimizer.zero_grad()
        <span class="hljs-comment"># å‰å‘ä¼ æ’­ï¼šè·å–3ä¸ªTokençš„é¢„æµ‹logits</span>
        mtp_logits = model(input_seq)  <span class="hljs-comment"># [3, 2, 10000]</span>
        
        <span class="hljs-comment"># è®¡ç®—æ€»æŸå¤±ï¼šæ¯ä¸ªMTPå¤´çš„æŸå¤±ç›¸åŠ </span>
        total_loss = <span class="hljs-number">0.0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MTP_NUM):
            <span class="hljs-comment"># logits: [2, 10000], target: [2]</span>
            loss = criterion(mtp_logits[i], target_tokens[i])
            total_loss += loss
        
        <span class="hljs-comment"># åå‘ä¼ æ’­</span>
        total_loss.backward()
        optimizer.step()
        
        <span class="hljs-keyword">if</span> (epoch+<span class="hljs-number">1</span>) % <span class="hljs-number">20</span> == <span class="hljs-number">0</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Epoch <span class="hljs-subst">{epoch+<span class="hljs-number">1</span>}</span>, Total Loss: <span class="hljs-subst">{total_loss.item():<span class="hljs-number">.4</span>f}</span>"</span>)

<span class="hljs-comment"># æ‰§è¡Œè®­ç»ƒ</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    train_mtp_model()
</code></pre>
<p><strong>ä»£ç å…³é”®è¯´æ˜</strong>ï¼š</p>
<ol>
<li><code>SharedEncoder</code>ï¼šå…±äº«çš„Transformerç¼–ç å™¨ï¼Œä¸ºæ‰€æœ‰MTPå¤´æä¾›ç»Ÿä¸€çš„ä¸Šä¸‹æ–‡è¡¨å¾ï¼›</li>
<li><code>MTPModel</code>ï¼šåŒ…å«3ä¸ªç‹¬ç«‹çš„çº¿æ€§è¾“å‡ºå¤´ï¼Œå¹¶è¡Œé¢„æµ‹<code>t+1</code>ã€<code>t+2</code>ã€<code>t+3</code>ä¸‰ä¸ªTokenï¼›</li>
<li>è®­ç»ƒé˜¶æ®µï¼šè®¡ç®—æ¯ä¸ªMTPå¤´çš„äº¤å‰ç†µæŸå¤±ï¼Œæ±‚å’Œåä½œä¸ºæ€»æŸå¤±åå‘ä¼ æ’­ï¼Œè®©æ¨¡å‹å­¦ä¹ â€œä¸€æ¬¡é¢„æµ‹å¤šä¸ªTokenâ€çš„èƒ½åŠ›ï¼›</li>
<li>è¾“å‡ºç¤ºä¾‹ï¼šè®­ç»ƒ100è½®åæŸå¤±ä¼šé€æ­¥ä¸‹é™ï¼Œè¯´æ˜æ¨¡å‹å·²å­¦ä¼šä»è¾“å…¥<code>[1,2,3,4]</code>é¢„æµ‹ç›®æ ‡<code>[5,6,7]</code>ã€‚</li>
</ol>
<h2 data-id="heading-7">MTP vs ä¼ ç»Ÿå•æ ‡è®°é¢„æµ‹ï¼ˆNTPï¼‰æ ¸å¿ƒå¯¹æ¯”</h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿå•æ ‡è®°é¢„æµ‹ï¼ˆNTPï¼‰</th><th>å¤šæ ‡è®°é¢„æµ‹ï¼ˆMTPï¼‰</th></tr></thead><tbody><tr><td>é¢„æµ‹æ–¹å¼</td><td>æ¯æ¬¡ç”Ÿæˆ1ä¸ªToken</td><td>ä¸€æ¬¡ç”Ÿæˆnä¸ªToken</td></tr><tr><td>æ¨ç†é€Ÿåº¦</td><td>åŸºå‡†å€¼ï¼ˆ1å€ï¼‰</td><td>1.8~2.6å€ï¼ˆç»“åˆæ¨æµ‹è§£ç ï¼‰</td></tr><tr><td>è®­ç»ƒä¿¡å·å¯†åº¦</td><td>ä½ï¼ˆæ¯æ­¥1ä¸ªæŸå¤±ï¼‰</td><td>é«˜ï¼ˆæ¯æ­¥nä¸ªæŸå¤±ï¼‰</td></tr><tr><td>æ–‡æœ¬è¿è´¯æ€§</td><td>ä¸€èˆ¬ï¼ˆä»…ä¾èµ–å‰1ä¸ªTokenï¼‰</td><td>ä¼˜ç§€ï¼ˆä¾èµ–é“¾å¼è¡¨å¾ï¼‰</td></tr><tr><td>ç¡¬ä»¶èµ„æºåˆ©ç”¨ç‡</td><td>ä½ï¼ˆå•æ¬¡å‰å‘ä¼ æ’­ä»…ç”¨1æ¬¡ï¼‰</td><td>é«˜ï¼ˆå•æ¬¡å‰å‘ä¼ æ’­ç”¨næ¬¡ï¼‰</td></tr><tr><td>å…¸å‹è½åœ°åœºæ™¯</td><td>å°æ¨¡å‹ã€ä½å»¶è¿Ÿè¦æ±‚åœºæ™¯</td><td>å¤§æ¨¡å‹ã€é•¿æ–‡æœ¬ç”Ÿæˆã€ç§»åŠ¨ç«¯</td></tr></tbody></table>
<h2 data-id="heading-8">MTPçš„è½åœ°åº”ç”¨ä¸æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-9">1. æ ¸å¿ƒä¼˜åŠ¿</h3>
<ol>
<li><strong>æ•ˆç‡ç¿»å€</strong>ï¼šæ¨ç†é€Ÿåº¦æå‡1.8~2.6å€ï¼Œè®­ç»ƒæ—¶ä¿¡å·å¯†åº¦æ›´é«˜ï¼Œæ”¶æ•›æ›´å¿«ï¼›</li>
<li><strong>è¯­ä¹‰æ›´è¿è´¯</strong>ï¼šä¾èµ–é“¾å¼æ¶æ„è®©å¤šTokenç”Ÿæˆç¬¦åˆè¯­è¨€é€»è¾‘ï¼Œé¿å…â€œå‰è¨€ä¸æ­åè¯­â€ï¼›</li>
<li><strong>ç¡¬ä»¶é€‚é…æ€§å¥½</strong>ï¼šè”å‘ç§‘å¤©ç‘9400+ç­‰èŠ¯ç‰‡å·²é›†æˆMTPç¡¬ä»¶åŠ é€Ÿï¼Œé€‚é…ç§»åŠ¨ç«¯éƒ¨ç½²ï¼›</li>
<li><strong>æˆæœ¬é™ä½</strong>ï¼šå‡å°‘æ¨ç†æ—¶çš„å‰å‘ä¼ æ’­æ¬¡æ•°ï¼Œå¤§å¹…é™ä½ç®—åŠ›æ¶ˆè€—ï¼ˆå°ç±³MiMoæ¨¡å‹ä»…ç”¨1/50ç®—åŠ›è¾¾åˆ°åŒç­‰æ€§èƒ½ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-10">2. å…¸å‹è½åœ°æ¡ˆä¾‹</h3>
<ul>
<li><strong>DeepSeek-V3</strong>ï¼šä¾èµ–é“¾å¼MTP+æ¨æµ‹è§£ç ï¼Œæ¨ç†é€Ÿåº¦æå‡1.8å€ï¼Œç”Ÿæˆè´¨é‡ä¸åŸç”Ÿæ¨¡å‹æŒå¹³ï¼›</li>
<li><strong>å°ç±³MiMoæ¨¡å‹</strong>ï¼šMTP+åœ¨çº¿ç­–ç•¥è’¸é¦ï¼Œ32å¹¶å‘æ—¶æ¨ç†é€Ÿåº¦è¾¾1146 Tokens/ç§’ï¼›</li>
<li><strong>è”å‘ç§‘å¤©ç‘9400+</strong>ï¼šç¡¬ä»¶çº§MTPåŠ é€Ÿï¼Œæ”¯æŒæ‰‹æœºç«¯é«˜æ•ˆè¿è¡ŒQwen3ç­‰å¤§æ¨¡å‹ã€‚</li>
</ul>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>MTPæŠ€æœ¯çš„æ ¸å¿ƒä»·å€¼ï¼Œæ˜¯åœ¨ä¸ç‰ºç‰²LLMç”Ÿæˆè´¨é‡çš„å‰æä¸‹ï¼Œè§£å†³äº†è‡ªå›å½’æ¨¡å‹â€œé€Tokenç”Ÿæˆâ€çš„æ•ˆç‡ç“¶é¢ˆã€‚ä»æŠ€æœ¯æ¼”è¿›æ¥çœ‹ï¼Œæœªæ¥MTPå°†æœç€â€œæ›´é«˜å¹¶è¡Œåº¦ã€æ›´å¼ºè¯­ä¹‰è¿è´¯æ€§ã€æ›´ä½ç¡¬ä»¶ä¾èµ–â€æ–¹å‘å‘å±•ï¼š</p>
<ol>
<li>ç»“åˆMoEï¼ˆæ··åˆä¸“å®¶æ¨¡å‹ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡MTPçš„å¹¶è¡Œè®¡ç®—æ•ˆç‡ï¼›</li>
<li>ä¼˜åŒ–ä¾èµ–é“¾å¼æ¶æ„ï¼Œå¹³è¡¡â€œå¹¶è¡Œåº¦â€ä¸â€œè¿è´¯æ€§â€ï¼›</li>
<li>è½»é‡åŒ–MTPæ¨¡å—ï¼Œè®©ä¸­å°æ¨¡å‹ä¹Ÿèƒ½äº«å—æ•ˆç‡æå‡ã€‚</li>
</ol>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç†è§£MTPçš„æ ¸å¿ƒé€»è¾‘ï¼ˆå…±äº«ç¼–ç +å¤šè¾“å‡ºå¤´+æŸå¤±èåˆï¼‰ï¼Œå¹¶æŒæ¡â€œMTP+æ¨æµ‹è§£ç â€çš„è½åœ°èŒƒå¼ï¼Œå°†æˆä¸ºä¼˜åŒ–LLMåº”ç”¨çš„æ ¸å¿ƒèƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI+PySide6å®ç°è‡ªå®šä¹‰çª—å£æ ‡é¢˜æ ç›®(titleBar)]]></title>    <link>https://juejin.cn/post/7587253759091998756</link>    <guid>https://juejin.cn/post/7587253759091998756</guid>    <pubDate>2025-12-24T10:23:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587253759091998756" data-draft-id="7587253759091933220" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI+PySide6å®ç°è‡ªå®šä¹‰çª—å£æ ‡é¢˜æ ç›®(titleBar)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T10:23:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒ_å¼€å¿ƒæ€¥äº†"/> <meta itemprop="url" content="https://juejin.cn/user/2975724155181111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI+PySide6å®ç°è‡ªå®šä¹‰çª—å£æ ‡é¢˜æ ç›®(titleBar)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2975724155181111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒ_å¼€å¿ƒæ€¥äº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:23:34.000Z" title="Wed Dec 24 2025 10:23:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI+PySide6å®ç°è‡ªå®šä¹‰çª—å£æ ‡é¢˜æ ç›®(titleBar)</h2>
<p>æœ¬æ•™ç¨‹å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ PySide6 å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è‡ªå®šä¹‰æ ‡é¢˜æ ï¼Œé€‚åˆæ²¡æœ‰ PySide åŸºç¡€çš„åˆå­¦è€…å­¦ä¹ ã€‚</p>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol start="0">
<li><a href="#%E6%95%88%E6%9E%9C%E4%B8%8E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" title="#%E6%95%88%E6%9E%9C%E4%B8%8E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">æ•ˆæœä¸å®Œæ•´ä»£ç </a></li>
<li><a href="#%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80" title="#%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80">çª—å£å¸ƒå±€</a></li>
<li><a href="#%E7%AA%97%E5%8F%A3%E4%BA%8B%E4%BB%B6" title="#%E7%AA%97%E5%8F%A3%E4%BA%8B%E4%BB%B6">çª—å£äº‹ä»¶</a></li>
<li><a href="#%E7%AA%97%E5%8F%A3%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6" title="#%E7%AA%97%E5%8F%A3%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6">çª—å£æŒ‰é’®äº‹ä»¶</a></li>
<li><a href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90" title="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90">å®Œæ•´ä»£ç è§£æ</a></li>
</ol>
<h3 data-id="heading-2">æ•ˆæœä¸å®Œæ•´ä»£ç </h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad840f215fc54c64960dc315434413de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176614&amp;x-signature=xT8YOg0ODmTXdKwtZn%2BKkro8Nkk%3D" alt="title_bar" loading="lazy"/></p>
<p>title_bar</p>
<p>å®Œæ•´ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># title_bar.py</span>
<span class="hljs-keyword">from</span> PySide6.QtWidgets <span class="hljs-keyword">import</span> (
                                QWidget,
                                QVBoxLayout,
                                QHBoxLayout,
                                QLabel,
                                QPushButton,
                                QStyle,
                                QApplication,
                            )
<span class="hljs-keyword">from</span> PySide6.QtGui <span class="hljs-keyword">import</span> QMouseEvent
<span class="hljs-keyword">from</span> PySide6.QtCore <span class="hljs-keyword">import</span> Qt


<span class="hljs-keyword">class</span> <span class="hljs-title class_">TitleBar</span>(<span class="hljs-title class_ inherited__">QWidget</span>):
    <span class="hljs-string">"""
    è‡ªå®šä¹‰æ ‡é¢˜æ 
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, parent=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""æ„é€ å‡½æ•°

        :param parent: çˆ¶ç±»çª—å£
        """</span>
        <span class="hljs-built_in">super</span>().__init__(parent)
        self.setWindowFlags(Qt.WindowType.FramelessWindowHint)
        self.setup_ui()
        self.setup_event_bind()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_ui</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½®ç•Œé¢"""</span>
        <span class="hljs-comment"># å…¨å±€ä½¿ç”¨å‚ç›´å¸ƒå±€</span>
        layout = QVBoxLayout(self)

        <span class="hljs-comment"># æ ‡é¢˜æ ä½¿ç”¨æ°´å¹³å¸ƒå±€</span>
        title_layout = QHBoxLayout()

        <span class="hljs-comment"># çª—å£å›¾æ ‡ çª—å£æ ‡é¢˜ çª—å£æŒ‰é’®</span>
        self.icon_label = QLabel(
            pixmap=self.style().standardPixmap(
                QStyle.StandardPixmap.SP_DialogApplyButton
            )
        )
        self.title_label = QLabel(<span class="hljs-string">"è‡ªå®šä¹‰æ ‡é¢˜æ "</span>)
        self.min_btn = QPushButton(
            icon=self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMinButton)
        )
        self.max_btn = QPushButton(
            icon=self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMaxButton)
        )
        self.close_btn = QPushButton(
            icon=self.style().standardPixmap(
                QStyle.StandardPixmap.SP_TitleBarCloseButton
            )
        )

        <span class="hljs-comment"># æœ€å¤§åŒ–çª—å£ å¯å‹¾é€‰ é»˜è®¤ä¸å‹¾é€‰</span>
        self.max_btn.setCheckable(<span class="hljs-literal">True</span>)
        self.max_btn.setChecked(<span class="hljs-literal">False</span>)

        <span class="hljs-comment"># å›ºå®šæ§ä»¶å¤§å°</span>
        self.min_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)
        self.max_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)
        self.close_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)

        <span class="hljs-comment"># æ·»åŠ å¸ƒå±€ä¸æ§ä»¶</span>
        layout.addLayout(title_layout)
        title_layout.addWidget(self.icon_label)
        title_layout.addWidget(self.title_label)
        title_layout.addWidget(self.min_btn)
        title_layout.addWidget(self.max_btn)
        title_layout.addWidget(self.close_btn)
        layout.addWidget(QLabel(<span class="hljs-string">"Hello World"</span>))

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_event_bind</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½®äº‹ä»¶ç»‘å®š"""</span>
        <span class="hljs-comment"># ç¼©å°çª—å£ æ”¾å¤§çª—å£ä¸æ¢å¤çª—å£ å…³é—­çª—å£</span>
        self.min_btn.clicked.connect(self.showMinimized)
        self.max_btn.clicked.connect(self.toggle_max_restore)
        self.close_btn.clicked.connect(self.close)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">toggle_max_restore</span>(<span class="hljs-params">self, checked: <span class="hljs-built_in">bool</span></span>):
        <span class="hljs-string">"""åˆ‡æ¢çª—å£æœ€å¤§ä¸æ¢å¤"""</span>
        <span class="hljs-keyword">if</span> checked:
            self.max_btn.setIcon(
                self.style().standardPixmap(
                    QStyle.StandardPixmap.SP_TitleBarNormalButton
                )
            )
            self.showMaximized()
        <span class="hljs-keyword">else</span>:
            self.max_btn.setIcon(
                self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMaxButton)
            )
            self.showNormal()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">mousePressEvent</span>(<span class="hljs-params">self, event: QMouseEvent</span>):
        <span class="hljs-keyword">if</span> event.button() == Qt.LeftButton:
            window = self.window().windowHandle()
            <span class="hljs-keyword">if</span> window:
                window.startSystemMove()
            event.accept()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    app = QApplication([])
    title_bar = TitleBar()
    title_bar.setStyleSheet(<span class="hljs-string">"background-color:grey;"</span>)
    title_bar.show()
    app.<span class="hljs-built_in">exec</span>()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h3 data-id="heading-3">çª—å£å¸ƒå±€</h3>
<h4 data-id="heading-4">1.0 å¸ƒå±€ç¤ºæ„å›¾</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9a01df0b084329990458c81d56788b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176614&amp;x-signature=uVZij43J45%2BaYqITxazpa49FAlA%3D" alt="title_bar" loading="lazy"/></p>
<p>title_bar</p>
<ul>
<li>ç»¿è‰²æ°´å¹³å¸ƒå±€(çª—å£å›¾æ ‡,æ ‡é¢˜æ ,çª—å£å›¾æ ‡)</li>
<li>æ•´ä½“å‚ç›´å¸ƒå±€</li>
</ul>
<h4 data-id="heading-5">1.1 åŸºç¡€æ¦‚å¿µ</h4>
<p>åœ¨ PySide6 ä¸­ï¼Œå¸ƒå±€ç®¡ç†å™¨ç”¨äºè‡ªåŠ¨æ’åˆ—å’Œè°ƒæ•´æ§ä»¶çš„ä½ç½®å’Œå¤§å°ã€‚æˆ‘ä»¬çš„è‡ªå®šä¹‰æ ‡é¢˜æ ä½¿ç”¨äº†ä¸¤ç§å¸ƒå±€ï¼š</p>
<ul>
<li><strong>QVBoxLayout</strong>: å‚ç›´å¸ƒå±€ï¼Œæ§ä»¶ä»ä¸Šåˆ°ä¸‹æ’åˆ—</li>
<li><strong>QHBoxLayout</strong>: æ°´å¹³å¸ƒå±€ï¼Œæ§ä»¶ä»å·¦åˆ°å³æ’åˆ—</li>
</ul>
<h4 data-id="heading-6">1.2 ç•Œé¢ä¸å¸ƒå±€ç»“æ„</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TitleBar</span>(<span class="hljs-title class_">QWidget</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, parent=<span class="hljs-title class_">None</span></span>):
        <span class="hljs-variable language_">super</span>().__init__(parent)
        <span class="hljs-variable language_">self</span>.setWindowFlags(<span class="hljs-title class_">Qt</span>.<span class="hljs-title class_">WindowType</span>.<span class="hljs-title class_">FramelessWindowHint</span>)  <span class="hljs-comment"># ç§»é™¤é»˜è®¤è¾¹æ¡†</span>
        <span class="hljs-variable language_">self</span>.setup_ui()
        <span class="hljs-variable language_">self</span>.setup_event_bind()
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ul>
<li><code>QWidget</code>: æ‰€æœ‰ç”¨æˆ·ç•Œé¢å¯¹è±¡çš„åŸºç¡€ç±»</li>
<li><code>setWindowFlags(Qt.WindowType.FramelessWindowHint)</code>: ç§»é™¤ç³»ç»Ÿé»˜è®¤çš„çª—å£è¾¹æ¡†ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½ä½¿ç”¨è‡ªå®šä¹‰æ ‡é¢˜æ </li>
</ul>
<h4 data-id="heading-7">1.3 å¸ƒå±€å±‚æ¬¡ç»“æ„</h4>
<pre><code class="hljs language-scss" lang="scss">TitleBar (QVBoxLayout - ä¸»å¸ƒå±€)
â”œâ”€â”€ title_layout (QHBoxLayout - æ ‡é¢˜æ å¸ƒå±€)
â”‚   â”œâ”€â”€ icon_label (QLabel - çª—å£å›¾æ ‡)
â”‚   â”œâ”€â”€ title_label (QLabel - çª—å£æ ‡é¢˜)
â”‚   â”œâ”€â”€ min_btn (QPushButton - æœ€å°åŒ–æŒ‰é’®)
â”‚   â”œâ”€â”€ max_btn (QPushButton - æœ€å¤§åŒ–æŒ‰é’®)
â”‚   â””â”€â”€ close_btn (QPushButton - å…³é—­æŒ‰é’®)
â””â”€â”€ QLabel ("Hello World" - ç¤ºä¾‹å†…å®¹åŒºåŸŸ)
</code></pre>
<h4 data-id="heading-8">1.4 åˆ›å»ºå¸ƒå±€å’Œæ§ä»¶</h4>
<pre><code class="hljs language-ini" lang="ini">def setup_ui(self):
    """è®¾ç½®ç•Œé¢"""
    <span class="hljs-comment"># å…¨å±€ä½¿ç”¨å‚ç›´å¸ƒå±€</span>
    <span class="hljs-attr">layout</span> = QVBoxLayout(self)

    <span class="hljs-comment"># æ ‡é¢˜æ ä½¿ç”¨æ°´å¹³å¸ƒå±€</span>
    <span class="hljs-attr">title_layout</span> = QHBoxLayout()

    <span class="hljs-comment"># åˆ›å»ºçª—å£å›¾æ ‡</span>
    <span class="hljs-attr">self.icon_label</span> = QLabel(
        <span class="hljs-attr">pixmap</span>=self.style().standardPixmap(
            QStyle.StandardPixmap.SP_DialogApplyButton
        )
    )
    
    <span class="hljs-comment"># åˆ›å»ºçª—å£æ ‡é¢˜</span>
    <span class="hljs-attr">self.title_label</span> = QLabel(<span class="hljs-string">"è‡ªå®šä¹‰æ ‡é¢˜æ "</span>)
    
    <span class="hljs-comment"># åˆ›å»ºçª—å£æŒ‰é’®</span>
    <span class="hljs-attr">self.min_btn</span> = QPushButton(
        <span class="hljs-attr">icon</span>=self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMinButton)
    )
    <span class="hljs-attr">self.max_btn</span> = QPushButton(
        <span class="hljs-attr">icon</span>=self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMaxButton)
    )
    <span class="hljs-attr">self.close_btn</span> = QPushButton(
        <span class="hljs-attr">icon</span>=self.style().standardPixmap(
            QStyle.StandardPixmap.SP_TitleBarCloseButton
        )
    )
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ol>
<li>
<p><strong>QLabel</strong>: ç”¨äºæ˜¾ç¤ºæ–‡æœ¬æˆ–å›¾ç‰‡çš„æ§ä»¶</p>
</li>
<li>
<p><strong>QPushButton</strong>: æŒ‰é’®æ§ä»¶</p>
</li>
<li>
<p><strong>self.style().standardPixmap()</strong> : è·å–ç³»ç»Ÿæ ‡å‡†å›¾æ ‡ï¼Œç¡®ä¿åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šéƒ½æœ‰åŸç”Ÿå¤–è§‚</p>
</li>
<li>
<p><strong>æ ‡å‡†å›¾æ ‡ç±»å‹</strong>ï¼š</p>
<ul>
<li><code>SP_DialogApplyButton</code>: å¯¹è¯æ¡†åº”ç”¨æŒ‰é’®å›¾æ ‡</li>
<li><code>SP_TitleBarMinButton</code>: æ ‡é¢˜æ æœ€å°åŒ–æŒ‰é’®å›¾æ ‡</li>
<li><code>SP_TitleBarMaxButton</code>: æ ‡é¢˜æ æœ€å¤§åŒ–æŒ‰é’®å›¾æ ‡</li>
<li><code>SP_TitleBarCloseButton</code>: æ ‡é¢˜æ å…³é—­æŒ‰é’®å›¾æ ‡</li>
</ul>
</li>
</ol>
<h4 data-id="heading-9">1.5 æ§ä»¶å±æ€§è®¾ç½®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æœ€å¤§åŒ–çª—å£ å¯å‹¾é€‰ é»˜è®¤ä¸å‹¾é€‰</span>
self.max_btn.setCheckable(<span class="hljs-literal">True</span>)
self.max_btn.setChecked(<span class="hljs-literal">False</span>)

<span class="hljs-comment"># å›ºå®šæ§ä»¶å¤§å°</span>
self.min_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)
self.max_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)
self.close_btn.setFixedSize(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ul>
<li><code>setCheckable(True)</code>: ä½¿æŒ‰é’®å¯ä»¥è¢«é€‰ä¸­/å–æ¶ˆé€‰ä¸­</li>
<li><code>setFixedSize(width, height)</code>: è®¾ç½®æ§ä»¶çš„å›ºå®šå¤§å°</li>
</ul>
<h4 data-id="heading-10">1.6 å¸ƒå±€ç®¡ç†</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># æ·»åŠ å¸ƒå±€ä¸æ§ä»¶</span>
layout.<span class="hljs-title function_ invoke__">addLayout</span>(title_layout)  <span class="hljs-comment"># å°†æ ‡é¢˜æ å¸ƒå±€æ·»åŠ åˆ°ä¸»å¸ƒå±€</span>
title_layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-built_in">self</span>.icon_label)  <span class="hljs-comment"># æ·»åŠ å›¾æ ‡</span>
title_layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-built_in">self</span>.title_label)  <span class="hljs-comment"># æ·»åŠ æ ‡é¢˜</span>
title_layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-built_in">self</span>.min_btn)  <span class="hljs-comment"># æ·»åŠ æœ€å°åŒ–æŒ‰é’®</span>
title_layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-built_in">self</span>.max_btn)  <span class="hljs-comment"># æ·»åŠ æœ€å¤§åŒ–æŒ‰é’®</span>
title_layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-built_in">self</span>.close_btn)  <span class="hljs-comment"># æ·»åŠ å…³é—­æŒ‰é’®</span>
layout.<span class="hljs-title function_ invoke__">addWidget</span>(<span class="hljs-title function_ invoke__">QLabel</span>(<span class="hljs-string">"Hello World"</span>))  <span class="hljs-comment"># æ·»åŠ å†…å®¹åŒºåŸŸ</span>
</code></pre>
<h3 data-id="heading-11">çª—å£äº‹ä»¶</h3>
<h4 data-id="heading-12">2.1 çª—å£æ‹–åŠ¨åŠŸèƒ½</h4>
<p>ä¸ºäº†å®ç°çª—å£æ‹–åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™ <code>mousePressEvent</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">def <span class="hljs-built_in">mousePressEvent</span>(self, event: QMouseEvent):
    if event.<span class="hljs-built_in">button</span>() == Qt.LeftButton:
        window = self.<span class="hljs-built_in">window</span>().<span class="hljs-built_in">windowHandle</span>()
        if window:
            window.<span class="hljs-built_in">startSystemMove</span>()
        event.<span class="hljs-built_in">accept</span>()
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ol>
<li><strong>QMouseEvent</strong>: é¼ æ ‡äº‹ä»¶ç±»ï¼ŒåŒ…å«é¼ æ ‡æ“ä½œçš„æ‰€æœ‰ä¿¡æ¯</li>
<li><code>event.button() == Qt.LeftButton</code>: æ£€æŸ¥æ˜¯å¦ä¸ºé¼ æ ‡å·¦é”®ç‚¹å‡»</li>
<li><code>self.window().windowHandle()</code>: è·å–çª—å£å¥æŸ„</li>
<li><code>window.startSystemMove()</code>: å¯åŠ¨ç³»ç»Ÿçº§åˆ«çš„çª—å£ç§»åŠ¨æ“ä½œ</li>
</ol>
<h4 data-id="heading-13">2.2 è·¨å¹³å°æ”¯æŒ</h4>
<p>è¿™ä¸ªå®ç°æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>Linux (Wayland/X11)</strong> : <code>startSystemMove()</code> æ–¹æ³•åœ¨ Linux çš„ä¸¤ç§æ˜¾ç¤ºæœåŠ¡å™¨ä¸Šéƒ½èƒ½æ­£å¸¸å·¥ä½œ</li>
<li><strong>Windows</strong>: åœ¨ Windows ç³»ç»Ÿä¸ŠåŒæ ·æ”¯æŒåŸç”Ÿçª—å£ç§»åŠ¨</li>
<li><strong>macOS</strong>: ä¹Ÿæ”¯æŒ macOS çš„çª—å£ç§»åŠ¨</li>
</ul>
<p>è¿™æ¯”ä¼ ç»Ÿçš„å®ç°æ–¹å¼ï¼ˆå¦‚è®°å½•é¼ æ ‡ä½ç½®å¹¶æ‰‹åŠ¨ç§»åŠ¨çª—å£ï¼‰æ›´åŠ å¯é å’Œè·¨å¹³å°ã€‚</p>
<h4 data-id="heading-14">2.3 äº‹ä»¶å¤„ç†æœºåˆ¶</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">event</span>.accept()  <span class="hljs-meta"># æ¥å—äº‹ä»¶ï¼Œé˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­</span>
</code></pre>
<p><code>event.accept()</code> å‘Šè¯‰ç³»ç»Ÿæˆ‘ä»¬å·²ç»å¤„ç†äº†è¿™ä¸ªäº‹ä»¶ï¼Œä¸éœ€è¦è¿›ä¸€æ­¥å¤„ç†ã€‚</p>
<h3 data-id="heading-15">çª—å£æŒ‰é’®äº‹ä»¶</h3>
<h4 data-id="heading-16">3.1 äº‹ä»¶ç»‘å®š</h4>
<p>åœ¨ <code>setup_event_bind</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶è¿æ¥åˆ°ç›¸åº”çš„å¤„ç†å‡½æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_event_bind</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""è®¾ç½®äº‹ä»¶ç»‘å®š"""</span>
    <span class="hljs-comment"># ç¼©å°çª—å£ æ”¾å¤§çª—å£ä¸æ¢å¤çª—å£ å…³é—­çª—å£</span>
    self.min_btn.clicked.connect(self.showMinimized)
    self.max_btn.clicked.connect(self.toggle_max_restore)
    self.close_btn.clicked.connect(self.close)
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ul>
<li><code>clicked.connect()</code>: å°†æŒ‰é’®çš„ç‚¹å‡»ä¿¡å·è¿æ¥åˆ°ç›¸åº”çš„æ§½å‡½æ•°</li>
<li>ä¿¡å·æ§½æœºåˆ¶æ˜¯ PySide6 çš„æ ¸å¿ƒç‰¹æ€§ï¼Œç”¨äºå®ç°å¯¹è±¡é—´çš„é€šä¿¡</li>
</ul>
<h4 data-id="heading-17">3.2 æœ€å°åŒ–çª—å£</h4>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span>.min_btn.clicked.connect(<span class="hljs-built_in">self</span>.showMinimized)
</code></pre>
<p><code>showMinimized()</code> æ˜¯ QWidget çš„å†…ç½®æ–¹æ³•ï¼Œç›´æ¥å°†çª—å£æœ€å°åŒ–åˆ°ä»»åŠ¡æ ã€‚</p>
<h4 data-id="heading-18">3.3 æœ€å¤§åŒ–ä¸æ¢å¤çª—å£</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">toggle_max_restore</span>(<span class="hljs-params">self, checked: <span class="hljs-built_in">bool</span></span>):
    <span class="hljs-string">"""åˆ‡æ¢çª—å£æœ€å¤§ä¸æ¢å¤"""</span>
    <span class="hljs-keyword">if</span> checked:
        self.max_btn.setIcon(
            self.style().standardPixmap(
                QStyle.StandardPixmap.SP_TitleBarNormalButton
            )
        )
        self.showMaximized()
    <span class="hljs-keyword">else</span>:
        self.max_btn.setIcon(
            self.style().standardPixmap(QStyle.StandardPixmap.SP_TitleBarMaxButton)
        )
        self.showNormal()
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ol>
<li>
<p><strong>checked å‚æ•°</strong>: ç”±äºæˆ‘ä»¬è®¾ç½®äº† <code>setCheckable(True)</code>ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºæŒ‰é’®çš„é€‰ä¸­çŠ¶æ€</p>
</li>
<li>
<p><strong>å›¾æ ‡åˆ‡æ¢</strong>ï¼š</p>
<ul>
<li>æœ€å¤§åŒ–æ—¶æ˜¾ç¤ºæ¢å¤å›¾æ ‡ (<code>SP_TitleBarNormalButton</code>)</li>
<li>æ¢å¤æ—¶æ˜¾ç¤ºæœ€å¤§åŒ–å›¾æ ‡ (<code>SP_TitleBarMaxButton</code>)</li>
</ul>
</li>
<li>
<p><strong>çª—å£çŠ¶æ€æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>showMaximized()</code>: å°†çª—å£æœ€å¤§åŒ–</li>
<li><code>showNormal()</code>: å°†çª—å£æ¢å¤åˆ°æ­£å¸¸å¤§å°</li>
</ul>
</li>
</ol>
<h4 data-id="heading-19">3.4 å…³é—­çª—å£</h4>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span>.close_btn.clicked.connect(<span class="hljs-built_in">self</span>.<span class="hljs-built_in">close</span>)
</code></pre>
<p><code>close()</code> æ˜¯ QWidget çš„å†…ç½®æ–¹æ³•ï¼Œå…³é—­çª—å£å¹¶é€€å‡ºåº”ç”¨ç¨‹åºã€‚</p>
<h3 data-id="heading-20">å®Œæ•´ä»£ç è§£æ</h3>
<h4 data-id="heading-21">4.1 å¯¼å…¥æ¨¡å—</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PySide6.QtWidgets <span class="hljs-keyword">import</span> (
    QWidget,        <span class="hljs-comment"># åŸºç¡€çª—å£æ§ä»¶</span>
    QVBoxLayout,    <span class="hljs-comment"># å‚ç›´å¸ƒå±€</span>
    QHBoxLayout,    <span class="hljs-comment"># æ°´å¹³å¸ƒå±€</span>
    QLabel,         <span class="hljs-comment"># æ ‡ç­¾æ§ä»¶</span>
    QPushButton,    <span class="hljs-comment"># æŒ‰é’®æ§ä»¶</span>
    QStyle,         <span class="hljs-comment"># æ ·å¼ç›¸å…³ç±»</span>
    QApplication,   <span class="hljs-comment"># åº”ç”¨ç¨‹åºç±»</span>
)
<span class="hljs-keyword">from</span> PySide6.QtGui <span class="hljs-keyword">import</span> QMouseEvent  <span class="hljs-comment"># é¼ æ ‡äº‹ä»¶</span>
<span class="hljs-keyword">from</span> PySide6.QtCore <span class="hljs-keyword">import</span> Qt         <span class="hljs-comment"># æ ¸å¿ƒæšä¸¾å’Œç±»</span>
</code></pre>
<h4 data-id="heading-22">4.2 ä¸»å‡½æ•°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    app = QApplication([])          <span class="hljs-comment"># åˆ›å»ºåº”ç”¨ç¨‹åºå®ä¾‹</span>
    title_bar = TitleBar()          <span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰æ ‡é¢˜æ å®ä¾‹</span>
    title_bar.setStyleSheet(<span class="hljs-string">"background-color:grey;"</span>)  <span class="hljs-comment"># è®¾ç½®èƒŒæ™¯è‰²</span>
    title_bar.show()                <span class="hljs-comment"># æ˜¾ç¤ºçª—å£</span>
    app.<span class="hljs-built_in">exec</span>()                      <span class="hljs-comment"># è¿›å…¥äº‹ä»¶å¾ªç¯</span>
</code></pre>
<p><strong>å…³é”®ç‚¹è§£é‡Šï¼š</strong></p>
<ol>
<li><code>QApplication([])</code>: åˆ›å»ºåº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œç®¡ç† GUI åº”ç”¨ç¨‹åº</li>
<li><code>setStyleSheet()</code>: è®¾ç½®æ§ä»¶æ ·å¼ï¼Œè¿™é‡Œè®¾ç½®èƒŒæ™¯è‰²ä¸ºç°è‰²</li>
<li><code>show()</code>: æ˜¾ç¤ºçª—å£</li>
<li><code>app.exec()</code>: è¿›å…¥åº”ç”¨ç¨‹åºçš„ä¸»äº‹ä»¶å¾ªç¯</li>
</ol>
<h4 data-id="heading-23">4.3 è¿è¡Œç¨‹åº</h4>
<pre><code class="hljs language-ini" lang="ini">if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p>è¿™æ˜¯ Python çš„æ ‡å‡†å†™æ³•ï¼Œç¡®ä¿åªæœ‰ç›´æ¥è¿è¡Œæ­¤æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œ <code>main()</code> å‡½æ•°ã€‚</p>
<h3 data-id="heading-24">æ€»ç»“</h3>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ï¼š</p>
<ol>
<li><strong>åˆ›å»ºè‡ªå®šä¹‰å¸ƒå±€</strong>: ä½¿ç”¨ QVBoxLayout å’Œ QHBoxLayout ç»„ç»‡ç•Œé¢å…ƒç´ </li>
<li><strong>æ·»åŠ çª—å£æ§ä»¶</strong>: åˆ›å»ºå›¾æ ‡ã€æ ‡é¢˜å’ŒæŒ‰é’®ç­‰ç•Œé¢å…ƒç´ </li>
<li><strong>å®ç°çª—å£æ‹–åŠ¨</strong>: ä½¿ç”¨ <code>startSystemMove()</code> å®ç°è·¨å¹³å°çª—å£æ‹–åŠ¨</li>
<li><strong>å¤„ç†çª—å£æ“ä½œ</strong>: å®ç°æœ€å°åŒ–ã€æœ€å¤§åŒ–/æ¢å¤ã€å…³é—­ç­‰åŠŸèƒ½</li>
</ol>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmd.axiaoxin.com%2F%3Ffrom%3Djuejin" target="_blank" title="https://md.axiaoxin.com/?from=juejin" ref="nofollow noopener noreferrer">äººè¨€å…‘.md-å…¬ä¼—å·æ’ç‰ˆç¼–è¾‘å™¨</a> æ’ç‰ˆ</p>
<ul>
<li>æœ¬æ–‡é‡‡ç”¨ã€Œäººè¨€å…‘.mdã€è‡ªåŠ¨æ’ç‰ˆ -</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AiåŠ Flutterå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ (appBar)]]></title>    <link>https://juejin.cn/post/7587253759092064292</link>    <guid>https://juejin.cn/post/7587253759092064292</guid>    <pubDate>2025-12-24T10:26:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587253759092064292" data-draft-id="7587253759092031524" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AiåŠ Flutterå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ (appBar)"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T10:26:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒ_å¼€å¿ƒæ€¥äº†"/> <meta itemprop="url" content="https://juejin.cn/user/2975724155181111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AiåŠ Flutterå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ (appBar)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2975724155181111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒ_å¼€å¿ƒæ€¥äº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:26:51.000Z" title="Wed Dec 24 2025 10:26:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AiåŠ Flutterå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ (appBar)</h2>
<p>åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œç¬”è€…ä¼šè®²è¯‰<strong>ä¸ºä»€ä¹ˆè¦å®ç°è‡ªå®šä¹‰æ ‡é¢˜æ </strong>ï¼Œ<strong>æ ‡é¢˜æ éƒ½æœ‰äº›ä»€ä¹ˆåŠŸèƒ½</strong>ï¼Œç„¶å<strong>ç»“åˆAIç®€å•å®ç°è‡ªå®šä¹‰æ ‡é¢˜æ </strong>ï¼</p>
<p>è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥å¼€å§‹å§ï¼</p>
<h3 data-id="heading-1">åŸºç¡€éœ€æ±‚ä¸ç¯å¢ƒå‡†å¤‡</h3>
<p>è¿™ç¯‡æ–‡æ¡£é»˜è®¤ä½ çš„è®¾å¤‡å·²ç»é…ç½®äº†<code>flutter</code>ç¯å¢ƒä¸”è‡ªèº«å…·å¤‡äº†å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸€å®šçš„<code>Dart</code>è¯­æ³•åŸºç¡€</li>
<li>äº†è§£ç”šè‡³ç†Ÿæ‚‰å…¶ä»–æ¡Œé¢åº”ç”¨å¼€å‘æ¡†æ¶(æ¯”å¦‚:<code>Qt</code>ä»¥åŠå…¶ä»–)</li>
<li>ä¸€ä¸ª<code>flutter</code>ç©ºé¡¹ç›®-&gt; <code>flutter create --empty your_project_name</code></li>
<li>æƒ³è¦å­¦ä¼š<code>flutter</code>çš„å¿ƒ</li>
</ul>
<blockquote>
<p><strong>è¡¥å……è¯´æ˜</strong>ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.dev%2F" target="_blank" title="https://docs.flutter.dev/" ref="nofollow noopener noreferrer">å®‰è£…flutterç¯å¢ƒæ¥è¿™é‡Œ</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.cn%2Flanguage%23additional-resources" target="_blank" title="https://dart.cn/language#additional-resources" ref="nofollow noopener noreferrer">dartè¯­æ³•åŸºç¡€æ¥è¿™é‡Œ</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fcodelabs.developers.google.com%2Fcodelabs%2Fflutter-codelab-first%3Fhl%3Dzh-cn%230" target="_blank" title="https://codelabs.developers.google.com/codelabs/flutter-codelab-first?hl=zh-cn#0" ref="nofollow noopener noreferrer">æ–°æ‰‹å…¥é—¨é¡¹ç›®æ¥è¿™é‡Œ</a></p>
</blockquote>
<p><strong>æ³¨æ„:</strong> å­¦ä¹ ç¨‹åº¦å› äººè€Œå¼‚ï¼Œå¦‚æœæ»¡è¶³çš„ç‚¹è¶Šå¤šï¼Œç†è®ºä¸Šå­¦ä¹ æ•ˆç‡è¶Šé«˜ï¼</p>
<p>ç¬”è€…çš„ç¯å¢ƒ:</p>
<ul>
<li><strong>Linux</strong>: <code>64</code>ä½ <code>fedora 43 gnome</code>ï¼Œæ¡Œé¢ç³»ç»Ÿ<code>Wayland</code>ï¼Œå†…æ ¸ç‰ˆæœ¬<code>Linux 6.17.9-300.fc43.x86_64</code></li>
<li><strong>Flutter</strong>: <code>Flutter 3.38.5</code></li>
<li><strong>Dart</strong>: <code>Dart 3.10.4</code></li>
<li><strong>DevTools</strong>: <code>2.51.1</code></li>
<li><strong>å¤§æ¨¡å‹</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.qianwen.com%2F" target="_blank" title="https://www.qianwen.com/" ref="nofollow noopener noreferrer">é€šä¹‰åƒé—®ç½‘é¡µç‰ˆ(<code>Qwen3-Coder</code>æ¨¡å‹)</a></li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰æ ‡é¢˜æ </h3>
<p>æˆ‘ä»¬å¯ä»¥å‚è€ƒå¸¸è§çš„åº”ç”¨<code>vscode</code>ã€<code>QQ</code>ã€<code>å¾®ä¿¡</code>ç­‰è¿™äº›åœ¨(<code>Windows</code>ã€<code>Linux</code>å’Œ<code>macOS</code>)éƒ½æœ‰è¾ƒå¼ºçš„ç»Ÿä¸€é£æ ¼ï¼Œè¿™å°±æ˜¯è‡ªå®šä¹‰æ ‡é¢˜æ çš„ç›®çš„â€”â€”<strong>ç»Ÿä¸€é£æ ¼</strong></p>
<blockquote>
<p><strong>æ’ä¸€å˜´</strong>ï¼šå…¶å®è‡ªå®šä¹‰æ ‡é¢˜æ å¯ä»¥é¿å…å¤§é‡å› æ ‡é¢˜æ æ ·å¼ä¸ç»Ÿä¸€è€Œå¯¼è‡´çš„é—®é¢˜(æ¯”å¦‚:<code>gnome49</code>çš„æ ‡é¢˜æ ä¸æ”¯æŒæš—è‰²ä¸»é¢˜ç­‰)</p>
</blockquote>
<h3 data-id="heading-3">æ€ä¹ˆå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ </h3>
<h4 data-id="heading-4">éœ€æ±‚æ‹†è§£</h4>
<h5 data-id="heading-5">(ç¬¬ä¸€æ€§åŸç†)â€”â€”æ ‡é¢˜æ çš„æ„æˆ</h5>
<p>æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªçœ‹ä¼¼å¤æ‚çš„é—®é¢˜ç®€å•åŒ–ï¼Œå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ é‚£æˆ‘ä»¬å°±è¦çŸ¥é“<strong>æ ‡é¢˜æ </strong>çš„æ„æˆï¼š<strong>çª—å£å›¾æ ‡</strong>ã€<strong>çª—å£æ ‡é¢˜</strong>ã€<strong>çª—å£æŒ‰é’®</strong>(æœ€å°åŒ–ã€æœ€å¤§ä¸è¿˜åŸã€å…³é—­)ï¼è§ä¸‹å›¾ï¼š <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ce8a5d91da24f448cb737f275b079ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=Lezo7xOtweXVg88aiJ3UC106gjw%3D" alt="æ ‡é¢˜æ " loading="lazy"/></p>
<blockquote>
<p><strong>æ³¨æ„</strong>: <code>gnome</code> å’Œ <code>macOS</code>ä¸æ”¯æŒçª—å£å›¾æ ‡ï¼</p>
</blockquote>
<h5 data-id="heading-6">(ç±»æ¯”æ€ç»´)â€”â€”AppBarçš„æ„æˆ</h5>
<p>äº‹å®çª—å£æ ‡é¢˜æ å’Œ<code>flutter</code>ä¸­çš„<code>appBar</code>æ˜¯å»åˆçš„ï¼Œè§ä¸‹å›¾ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed57af1654524e358482b293cfff0b26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=2HKXb21NNJ4J3n%2Bv%2BHIzBi3oWYs%3D" alt="appBar" loading="lazy"/></p>
<h5 data-id="heading-7">(éœ€æ±‚è½¬æ¢)â€”â€”éšè—ç³»ç»Ÿé»˜è®¤æ ‡é¢˜æ ä½¿ç”¨AppBar</h5>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“<code>AppBar</code>çš„åŠŸèƒ½å¯ä»¥å¹³æ›¿çª—å£æ ‡é¢˜æ ï¼Œ é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥éšè—é»˜è®¤çš„ä½¿ç”¨AppBarè‡ªå®šä¹‰ä¸€ä¸ªä¸å°±å¥½äº†ï¼Ÿ</p>
<h4 data-id="heading-8">è‡ªå®šä¹‰æ ‡é¢˜æ â€”â€”AppBar</h4>
<h5 data-id="heading-9">(éœ€æ±‚æ‹†è§£)â€”â€”éšè—ä¸appBarå®ç°å¯¹åº”åŠŸèƒ½</h5>
<p>å…³é—­ç³»ç»Ÿé»˜è®¤çš„æ ‡é¢˜æ  æ ‡é¢˜æ ä¸AppBarä»¥åŠåŠŸèƒ½æ˜ å°„å…³ç³»</p>
<ul>
<li>çª—å£å›¾æ ‡ -&gt; <code>leading</code>-&gt; æ˜¾ç¤ºçª—å£å›¾æ ‡</li>
<li>çª—å£æ ‡é¢˜ -&gt;<code>title</code>-&gt; æ˜¾ç¤ºçª—å£æ ‡é¢˜</li>
<li>çª—å£å›¾æ ‡ä»¬ -&gt; <code>actions</code> -&gt; æ˜¾ç¤ºå¯¹åº”å›¾æ ‡ä»¥åŠçª—å£çš„éšè—ï¼Œæ”¾å¤§å¤åŸï¼Œå…³é—­</li>
</ul>
<h5 data-id="heading-10">(window_manager)â€”â€”å®‰è£…ä¸å¯¼å…¥è‡ªå®šä¹‰æ ‡é¢˜æ æ’ä»¶</h5>
<ol>
<li>å®‰è£…<code>window_manager</code></li>
</ol>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹ï¼š</span>
flutter pub <span class="hljs-keyword">add</span> window_manager
</code></pre>
<p>2.  å¯¼å…¥æ’ä»¶</p>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç¨‹åºé¡¶éƒ¨æ·»åŠ å¦‚ä¸‹</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:window_manager/window_manager.dart'</span>;
</code></pre>
<h5 data-id="heading-11">(window_manager)â€”â€”éšè—é»˜è®¤æ ‡é¢˜æ </h5>
<ol>
<li>æ›¿æ¢ç¨‹åºå…¥å£ä»£ç å—</li>
</ol>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>()</span> {
  runApp(<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">MyApp</span>())</span>;
}
</code></pre>
<p>æ›¿æ¢ä¸º</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>() <span class="hljs-keyword">async</span></span> {
  WidgetsFlutterBinding.ensureInitialized();

  <span class="hljs-keyword">await</span> windowManager.ensureInitialized();
  WindowOptions windowOptions = WindowOptions(
    titleBarStyle: TitleBarStyle.hidden,
  );
  windowManager.waitUntilReadyToShow(windowOptions, () <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> windowManager.focus();
  });

  runApp(<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">MainApp</span>())</span>;
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š ç¡®ä¿ä½ åˆ›å»ºçš„æ˜¯ç©ºé¡¹ç›® <a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fwindow_manager" target="_blank" title="https://pub.dev/packages/window_manager" ref="nofollow noopener noreferrer">window_manageræ’ä»¶å®˜ç½‘</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b549c739d674f44959af263bbb09634~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=GBaI3cgzXU4fp%2FadzyBdzUOY4%2BU%3D" alt="æ˜¾ç¤ºæ•ˆæœ" loading="lazy"/></p>
<p>æ˜¾ç¤ºæ•ˆæœ</p>
<h5 data-id="heading-12">å€ŸåŠ©window_managerä¸appBarå®ç°è‡ªå®šä¹‰æ ‡é¢˜æ </h5>
<ol>
<li>æ›¿æ¢è„šæ‰‹æ¶é‡Œçš„å†…å®¹</li>
</ol>

<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">body</span>: <span class="hljs-built_in">Center</span>(child: <span class="hljs-built_in">Text</span>(<span class="hljs-string">'Hello World!'</span>))
</code></pre>

<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">//æ›¿æ¢ä¸º</span>
 appBar: AppBar(
          leading: <span class="hljs-attribute">Icon(Icons.favorite),
          title</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">"è‡ªå®šä¹‰æ ‡é¢˜æ "</span>),
          <span class="hljs-attribute">actions</span>: [
            <span class="hljs-built_in">IconButton</span>(<span class="hljs-attribute">onPressed</span>: () {}, <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.horizontal_rule)),
            <span class="hljs-built_in">IconButton</span>(<span class="hljs-attribute">onPressed</span>: () {}, <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.crop_square)),
            <span class="hljs-built_in">IconButton</span>(<span class="hljs-attribute">onPressed</span>: () {}, <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.close)),
          ],
        ),
</code></pre>
<p><strong>æ˜¾ç¤ºæ•ˆæœ</strong> <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65a1db5dc1904be485c9563c57e8bc54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=IzPF8cOd63e43essFzy5imqCxwc%3D" alt="æŒ‰é’®" loading="lazy"/></p>
<h5 data-id="heading-13">å€ŸåŠ©window_managerå®ç°appBarçª—å£æŒ‰é’®åŠŸèƒ½</h5>
<ol>
<li>æ·»åŠ æœ€å°åŒ–çª—å£å’Œå…³é—­çª—å£</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ›¿æ¢ä¸ºå¦‚ä¸‹ï¼š</span>
appBar: AppBar(
          leading: <span class="hljs-attribute">Icon(Icons.favorite),
          title</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">"è‡ªå®šä¹‰æ ‡é¢˜æ "</span>),
          <span class="hljs-attribute">actions</span>: [
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">onPressed</span>: () {
                windowManager.<span class="hljs-built_in">minimize</span>();
              },
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.horizontal_rule),
            ),
            <span class="hljs-built_in">IconButton</span>(<span class="hljs-attribute">onPressed</span>: () {}, <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.crop_square)),
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">onPressed</span>: () {
                windowManager.<span class="hljs-built_in">close</span>();
              },
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.close),
            ),
          ],
        ),
</code></pre>
<p>2.  è¿˜åŸä¸æœ€å¤§åŒ–çª—å£</p>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å°† StatelessWidget è½¬ä¸ºStatefulWidget</span>
<span class="hljs-comment">// vscode é€‰ä¸­StatelessWidget æ˜¾ç¤ºä»£ç æ“ä½œ(ctrl.)StatefulWidget</span>

<span class="hljs-comment">// _MainAppState åˆå§‹åŒ–å˜é‡ç”¨äºè®°å½•æ˜¯å¦æœ€å¤§åŒ–</span>
  <span class="hljs-type">bool</span> _isMaximized = <span class="hljs-literal">false</span>
</code></pre>
<p>æ›¿æ¢appBarä¸ºå¦‚ä¸‹:</p>
<pre><code class="hljs language-less" lang="less">         appBar: AppBar(
          leading: <span class="hljs-attribute">Icon(Icons.favorite),
          title</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">"è‡ªå®šä¹‰æ ‡é¢˜æ "</span>),
          <span class="hljs-attribute">actions</span>: [
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">onPressed</span>: () {
                windowManager.<span class="hljs-built_in">minimize</span>();
              },
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.horizontal_rule),
            ),
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">onPressed</span>: () {
                if (_isMaximized) {
                  windowManager.<span class="hljs-built_in">unmaximize</span>();
                  <span class="hljs-built_in">setState</span>(() {
                    _isMaximized = !_isMaximized;
                  });
                } else {
                  windowManager.<span class="hljs-built_in">maximize</span>();
                  <span class="hljs-built_in">setState</span>(() {
                    _isMaximized = !_isMaximized;
                  });
                }
              },
              <span class="hljs-attribute">icon</span>: _isMaximized
                  ? <span class="hljs-built_in">Icon</span>(Icons.crop_free)
                  : <span class="hljs-built_in">Icon</span>(Icons.crop_square),
            ),
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">onPressed</span>: () {
                windowManager.<span class="hljs-built_in">close</span>();
              },
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.close),
            ),
          ],
        ),
</code></pre>
<p><strong>æ˜¾ç¤ºæ•ˆæœ</strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f20750bf3d4642148459ed0943d7a1bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=Zl42JT%2FhPJYaHdK%2FDSiWgH6lxsg%3D" alt="æŒ‰é’®äº‹ä»¶" loading="lazy"/></p>
<h5 data-id="heading-14">å€ŸåŠ©window_managerå®ç°æ‹–åŠ¨çª—å£</h5>
<p><strong>ç®€å•çš„åŠæ³•</strong> ç›´æ¥ç›‘å¬é¼ æ ‡äº‹ä»¶</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//AppBaré‡Œæ·»åŠ å¦‚ä¸‹</span>
          flexibleSpace: <span class="hljs-built_in">Listener</span>(
            onPointerDown: (_) =&gt; windowManager.<span class="hljs-built_in">startDragging</span>(),
            child: <span class="hljs-built_in">Container</span>(color: Colors.transparent),
          ),
</code></pre>
<p><strong>å…‰æ ‡å¸¦æ‹–åŠ¨æ•ˆæœ</strong> æˆ‘çš„ç³»ç»Ÿå¹¶ä¸æ”¯æŒ</p>
<pre><code class="hljs language-less" lang="less">          flexibleSpace: MouseRegion(
            <span class="hljs-attribute">cursor</span>: SystemMouseCursors.move,
            <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Listener</span>(
              <span class="hljs-attribute">onPointerDown</span>: (_) =&gt; windowManager.<span class="hljs-built_in">startDragging</span>(),
              <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Container</span>(<span class="hljs-attribute">color</span>: Colors.transparent),
            ),
          ),
</code></pre>
<p><strong>æ˜¾ç¤ºæ•ˆæœ</strong> <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef671ffe05194aedae51163d5001b3a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-DX-W8gOW_g-aApeS6hg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767176810&amp;x-signature=IUdnrBHNm0VsmI5V0%2FIh9Hj8q2I%3D" alt="all" loading="lazy"/></p>
<blockquote>
<p><strong>æ³¨æ„</strong>:</p>
<ul>
<li>éƒ½æ˜¯é•¿æŒ‰é¼ æ ‡å·¦é”®æ‹–åŠ¨çª—å£,å³é”®é¼ æ ‡ è·Ÿéšå…‰æ ‡ç§»åŠ¨</li>
<li>ä¸€å®šè¦åœ¨Container ä¸­æ·»åŠ é¢œè‰²ä¸ºé€æ˜ ä¸ç„¶æ— æ³•ç§»åŠ¨</li>
</ul>
</blockquote>
<h4 data-id="heading-15">æœ€ç»ˆçš„ä»£ç </h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> '<span class="hljs-selector-tag">package</span>:<span class="hljs-selector-tag">flutter</span>/<span class="hljs-selector-tag">material</span><span class="hljs-selector-class">.dart</span>';
<span class="hljs-selector-tag">import</span> '<span class="hljs-selector-tag">package</span>:<span class="hljs-selector-tag">window_manager</span>/<span class="hljs-selector-tag">window_manager</span><span class="hljs-selector-class">.dart</span>';

<span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>() <span class="hljs-selector-tag">async</span> {
  <span class="hljs-selector-tag">WidgetsFlutterBinding</span><span class="hljs-selector-class">.ensureInitialized</span>();

  <span class="hljs-selector-tag">await</span> <span class="hljs-selector-tag">windowManager</span><span class="hljs-selector-class">.ensureInitialized</span>();
  <span class="hljs-selector-tag">WindowOptions</span> <span class="hljs-selector-tag">windowOptions</span> = <span class="hljs-selector-tag">WindowOptions</span>(
    <span class="hljs-attribute">titleBarStyle</span>: TitleBarStyle.hidden,
  );
  <span class="hljs-selector-tag">windowManager</span><span class="hljs-selector-class">.waitUntilReadyToShow</span>(windowOptions, () async {
    <span class="hljs-selector-tag">await</span> <span class="hljs-selector-tag">windowManager</span><span class="hljs-selector-class">.focus</span>();
  });

  <span class="hljs-selector-tag">runApp</span>(const <span class="hljs-built_in">MainApp</span>());
}

<span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">MainApp</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">StatefulWidget</span> {
  <span class="hljs-selector-tag">const</span> <span class="hljs-selector-tag">MainApp</span>({<span class="hljs-selector-tag">super</span><span class="hljs-selector-class">.key</span>});

  @<span class="hljs-selector-tag">override</span>
  <span class="hljs-selector-tag">State</span>&lt;<span class="hljs-selector-tag">MainApp</span>&gt; <span class="hljs-selector-tag">createState</span>() =&gt; <span class="hljs-selector-tag">_MainAppState</span>();
}

<span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">_MainAppState</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">State</span>&lt;<span class="hljs-selector-tag">MainApp</span>&gt; {
  <span class="hljs-selector-tag">bool</span> <span class="hljs-selector-tag">_isMaximized</span> = <span class="hljs-selector-tag">false</span>;

  <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">_toggleMaximize</span>() {
    <span class="hljs-selector-tag">if</span> (_isMaximized) {
      <span class="hljs-selector-tag">windowManager</span><span class="hljs-selector-class">.unmaximize</span>();
    } <span class="hljs-selector-tag">else</span> {
      <span class="hljs-selector-tag">windowManager</span><span class="hljs-selector-class">.maximize</span>();
    }
    <span class="hljs-selector-tag">setState</span>(() =&gt; _isMaximized = !_isMaximized);
  }

  @<span class="hljs-selector-tag">override</span>
  <span class="hljs-selector-tag">Widget</span> <span class="hljs-selector-tag">build</span>(BuildContext context) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">MaterialApp</span>(
      <span class="hljs-attribute">home</span>: <span class="hljs-built_in">Scaffold</span>(
        <span class="hljs-attribute">appBar</span>: <span class="hljs-built_in">AppBar</span>(
          <span class="hljs-attribute">leading</span>: <span class="hljs-built_in">Icon</span>(Icons.favorite),
          <span class="hljs-attribute">title</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">'è‡ªå®šä¹‰æ ‡é¢˜æ '</span>),
          <span class="hljs-attribute">flexibleSpace</span>: <span class="hljs-built_in">Listener</span>(
            <span class="hljs-attribute">onPointerDown</span>: (event) =&gt; windowManager.<span class="hljs-built_in">startDragging</span>(),
            <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Container</span>(<span class="hljs-attribute">color</span>: Colors.transparent),
          ),
          <span class="hljs-attribute">actions</span>: [
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.horizontal_rule),
              <span class="hljs-attribute">onPressed</span>: windowManager.minimize,
            ),
            <span class="hljs-built_in">IconButton</span>(
              <span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(_isMaximized ? Icons.<span class="hljs-attribute">crop_free </span>: Icons.crop_square),
              <span class="hljs-attribute">onPressed</span>: _toggleMaximize,
            ),
            <span class="hljs-built_in">IconButton</span>(<span class="hljs-attribute">icon</span>: <span class="hljs-built_in">Icon</span>(Icons.close), <span class="hljs-attribute">onPressed</span>: windowManager.close),
          ],
        ),
        <span class="hljs-attribute">body</span>: <span class="hljs-built_in">Center</span>(<span class="hljs-attribute">child</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">'Hello, World!'</span>)),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-16">AIè¯¢é—®è¿‡ç¨‹</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.qianwen.com%2Fshare%3FshareId%3Dbbc837bd-1e9f-4698-9f11-8c7783c31d87" target="_blank" title="https://www.qianwen.com/share?shareId=bbc837bd-1e9f-4698-9f11-8c7783c31d87" ref="nofollow noopener noreferrer">é€šä¹‰AIå¯¹è¯è¿‡ç¨‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯·æ±‚ ID è·Ÿè¸ªæ¨¡å¼ï¼šè§£å†³å¼‚æ­¥è¯·æ±‚ç«æ€æ¡ä»¶]]></title>    <link>https://juejin.cn/post/7587254134400696329</link>    <guid>https://juejin.cn/post/7587254134400696329</guid>    <pubDate>2025-12-24T10:36:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587254134400696329" data-draft-id="7587246055457112091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯·æ±‚ ID è·Ÿè¸ªæ¨¡å¼ï¼šè§£å†³å¼‚æ­¥è¯·æ±‚ç«æ€æ¡ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T10:36:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é²«å°é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1046390798032110"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯·æ±‚ ID è·Ÿè¸ªæ¨¡å¼ï¼šè§£å†³å¼‚æ­¥è¯·æ±‚ç«æ€æ¡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390798032110/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é²«å°é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T10:36:29.000Z" title="Wed Dec 24 2025 10:36:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“‹ ç›®å½•</h2>
<ul>
<li><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" title="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF">é—®é¢˜èƒŒæ™¯</a></li>
<li><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90" title="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90">é—®é¢˜åˆ†æ</a></li>
<li><a href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" title="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" title="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">å®ç°åŸç†</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E4%B8%8E-ref-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3" title="#%E9%97%AD%E5%8C%85%E4%B8%8E-ref-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3">é—­åŒ…ä¸ Ref æ·±å…¥ç†è§£</a></li>
<li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a></li>
<li><a href="#%E6%80%BB%E7%BB%93" title="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨æœç´¢åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¿«é€Ÿè¾“å…¥å…³é”®è¯æ—¶ä¼šè§¦å‘å¤šä¸ªå¹¶å‘è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨æˆ·å¿«é€Ÿè¾“å…¥ï¼ša â†’ ac â†’ acd</span>
<span class="hljs-comment">// ä¼šè§¦å‘ 3 ä¸ªè¯·æ±‚ï¼Œä½†è¿”å›é¡ºåºå¯èƒ½ä¸åŒ</span>
</code></pre>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong></p>
<ul>
<li>æ¨èå•†å“åˆ—è¡¨æœ‰æ—¶ä¼šå¤šå‡º 5 ä¸ªå•†å“</li>
<li>æ˜¾ç¤ºçš„å•†å“ä¸å½“å‰å…³é”®è¯ä¸åŒ¹é…</li>
<li>æ—§è¯·æ±‚çš„ç»“æœè¦†ç›–äº†æ–°è¯·æ±‚çš„ç»“æœ</li>
</ul>
<hr/>
<h2 data-id="heading-2">é—®é¢˜åˆ†æ</h2>
<h3 data-id="heading-3">ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰</h3>
<p>å½“å¤šä¸ªå¼‚æ­¥è¯·æ±‚å¹¶å‘æ‰§è¡Œæ—¶ï¼Œç”±äºç½‘ç»œå»¶è¿Ÿä¸åŒï¼Œè¿”å›é¡ºåºå¯èƒ½ä¸å‘èµ·é¡ºåºä¸ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">æ—¶é—´çº¿ï¼š
<span class="hljs-symbol">T1:</span> ç”¨æˆ·è¾“å…¥ <span class="hljs-string">"a"</span>  â†’ è§¦å‘è¯·æ±‚<span class="hljs-number">1</span>
<span class="hljs-symbol">T2:</span> ç”¨æˆ·è¾“å…¥ <span class="hljs-string">"ac"</span> â†’ è§¦å‘è¯·æ±‚<span class="hljs-number">2</span>
<span class="hljs-symbol">T3:</span> è¯·æ±‚<span class="hljs-number">2</span>è¿”å›     â†’ è®¾ç½® productList = [<span class="hljs-string">"acç›¸å…³å•†å“"</span>]
<span class="hljs-symbol">T4:</span> è¯·æ±‚<span class="hljs-number">1</span>è¿”å›     â†’ è®¾ç½® productList = [<span class="hljs-string">"aç›¸å…³å•†å“"</span>] âŒ é”™è¯¯ï¼
</code></pre>
<p><strong>æ ¹æœ¬åŸå› ï¼š</strong></p>
<ul>
<li>React çš„ <code>setState</code> æ˜¯å¼‚æ­¥çš„</li>
<li>å¤šä¸ªè¯·æ±‚åŒæ—¶è¿›è¡Œï¼Œæ— æ³•ä¿è¯å“ªä¸ªå…ˆè¿”å›</li>
<li>æ—§è¯·æ±‚çš„ç»“æœå¯èƒ½è¦†ç›–æ–°è¯·æ±‚çš„ç»“æœ</li>
</ul>
<hr/>
<h2 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-5">è¯·æ±‚ ID è·Ÿè¸ªæœºåˆ¶</h3>
<p>ä½¿ç”¨ä¸€ä¸ªå…¨å±€é€’å¢çš„è¯·æ±‚ ID æ¥è·Ÿè¸ªæ¯ä¸ªè¯·æ±‚ï¼Œç¡®ä¿åªå¤„ç†æœ€æ–°è¯·æ±‚çš„ç»“æœã€‚</p>
<h3 data-id="heading-6">æ ¸å¿ƒæ€è·¯</h3>
<ol>
<li><strong>æ¯ä¸ªè¯·æ±‚åˆ†é…å”¯ä¸€ ID</strong>ï¼šä½¿ç”¨ <code>useRef</code> ä¿å­˜ä¸€ä¸ªé€’å¢çš„è®¡æ•°å™¨</li>
<li><strong>è¯·æ±‚å¼€å§‹æ—¶ä¿å­˜ ID</strong>ï¼šåœ¨é—­åŒ…ä¸­ä¿å­˜å½“å‰è¯·æ±‚çš„ ID</li>
<li><strong>è¯·æ±‚è¿”å›æ—¶éªŒè¯</strong>ï¼šæ¯”è¾ƒä¿å­˜çš„ ID å’Œæœ€æ–°çš„ IDï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦ä»ç„¶æœ‰æ•ˆ</li>
</ol>
<hr/>
<h2 data-id="heading-7">å®ç°åŸç†</h2>
<h3 data-id="heading-8">1. æ·»åŠ è¯·æ±‚ ID è·Ÿè¸ªå™¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨äºè·Ÿè¸ªå½“å‰è¯·æ±‚çš„ IDï¼Œç¡®ä¿åªå¤„ç†æœ€æ–°è¯·æ±‚çš„ç»“æœ</span>
<span class="hljs-keyword">const</span> requestIdRef = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>useRef</code>ï¼Ÿ</strong></p>
<ul>
<li><code>useRef</code> çš„å€¼åœ¨ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ä¿æŒä¸å˜</li>
<li><code>.current</code> å±æ€§æ˜¯å¯å˜çš„ï¼Œå¯ä»¥éšæ—¶æ›´æ–°</li>
<li>ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</li>
</ul>
<h3 data-id="heading-9">2. è¯·æ±‚å¼€å§‹æ—¶ç”Ÿæˆå¹¶ä¿å­˜ ID</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchProductList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// ç”Ÿæˆæ–°çš„è¯·æ±‚ IDï¼ˆå…ˆé€’å¢å†å–å€¼ï¼‰</span>
    <span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>

    <span class="hljs-comment">// ä¿å­˜å½“å‰è¯·æ±‚çš„å…³é”®è¯ï¼ˆåŒé‡éªŒè¯ï¼‰</span>
    <span class="hljs-keyword">const</span> currentKeyword = keyWord.<span class="hljs-title function_">trim</span>()

    <span class="hljs-comment">// ... å‘èµ·è¯·æ±‚</span>
  }

  <span class="hljs-title function_">fetchProductList</span>()
}, [keyWord])
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><code>++requestIdRef.current</code> å…ˆé€’å¢å†å–å€¼</li>
<li><code>currentRequestId</code> è¢«é—­åŒ…æ•è·ï¼Œä¿å­˜è¯·æ±‚å¼€å§‹æ—¶çš„å€¼</li>
<li><code>currentKeyword</code> ä¹Ÿè¢«é—­åŒ…æ•è·ï¼Œç”¨äºåŒé‡éªŒè¯</li>
</ul>
<h3 data-id="heading-10">3. è¯·æ±‚è¿”å›æ—¶éªŒè¯ ID</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPublicSearchFilter</span>(params)

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯æœ€æ–°çš„è¯·æ±‚</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
  <span class="hljs-keyword">return</span>  <span class="hljs-comment">// å¿½ç•¥æ—§è¯·æ±‚çš„ç»“æœ</span>
}

<span class="hljs-comment">// åŒé‡éªŒè¯ï¼šæ£€æŸ¥å…³é”®è¯æ˜¯å¦ä»ç„¶åŒ¹é…</span>
<span class="hljs-keyword">if</span> (currentKeyword !== keyWord.<span class="hljs-title function_">trim</span>()) {
  <span class="hljs-keyword">return</span>  <span class="hljs-comment">// å…³é”®è¯å·²æ”¹å˜ï¼Œå¿½ç•¥ç»“æœ</span>
}

<span class="hljs-comment">// åªæœ‰é€šè¿‡æ‰€æœ‰æ£€æŸ¥æ‰è®¾ç½® state</span>
<span class="hljs-title function_">setProductList</span>([...proList])
</code></pre>
<hr/>
<h2 data-id="heading-11">å®Œæ•´ä»£ç ç¤ºä¾‹</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { useState, useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">SearchList</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [productList, setProductList] = useState&lt;<span class="hljs-built_in">any</span>[]&gt;([])
  <span class="hljs-keyword">const</span> [productLoading, setProductLoading] = useState&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">false</span>)

  <span class="hljs-comment">// ç”¨äºè·Ÿè¸ªå½“å‰è¯·æ±‚çš„ ID</span>
  <span class="hljs-keyword">const</span> requestIdRef = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)

  <span class="hljs-comment">// è·å–æ¨èå•†å“åˆ—è¡¨</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchProductList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æœç´¢å…³é”®å­—ï¼Œä¸è¯·æ±‚</span>
      <span class="hljs-keyword">if</span> (!keyWord || !keyWord.<span class="hljs-title function_">trim</span>()) {
        <span class="hljs-title function_">setProductList</span>([])
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// ç”Ÿæˆæ–°çš„è¯·æ±‚ ID</span>
      <span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>
      <span class="hljs-comment">// ä¿å­˜å½“å‰è¯·æ±‚çš„å…³é”®è¯ï¼Œç”¨äºéªŒè¯ç»“æœæ˜¯å¦ä»ç„¶æœ‰æ•ˆ</span>
      <span class="hljs-keyword">const</span> currentKeyword = keyWord.<span class="hljs-title function_">trim</span>()

      <span class="hljs-title function_">setProductLoading</span>(<span class="hljs-literal">true</span>)
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> <span class="hljs-attr">params</span>: <span class="hljs-title class_">Search</span>.<span class="hljs-property">SearchParams</span> = {
          <span class="hljs-attr">keyword</span>: currentKeyword,
          <span class="hljs-attr">size</span>: <span class="hljs-number">5</span>,
          <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
        }

 
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPublicSearchFilter</span>(params)

        <span class="hljs-comment">// âœ… æ£€æŸ¥1ï¼šæ˜¯å¦æ˜¯æœ€æ–°çš„è¯·æ±‚</span>
        <span class="hljs-comment">// å¦‚æœä¸æ˜¯åˆ™å¿½ç•¥ç»“æœï¼Œé¿å…æ—§çš„è¯·æ±‚ç»“æœè¦†ç›–æ–°çš„ç»“æœ</span>
        <span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
          <span class="hljs-keyword">return</span>
        }

        <span class="hljs-comment">// âœ… æ£€æŸ¥2ï¼šå…³é”®è¯æ˜¯å¦ä»ç„¶åŒ¹é…ï¼ˆåŒé‡ä¿é™©ï¼‰</span>
        <span class="hljs-keyword">if</span> (currentKeyword !== keyWord.<span class="hljs-title function_">trim</span>()) {
          <span class="hljs-keyword">return</span>
        }

        <span class="hljs-keyword">const</span> items = response?.<span class="hljs-property">itemList</span>?.<span class="hljs-property">data</span> || []
        <span class="hljs-keyword">const</span> proList = items.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)

        <span class="hljs-title function_">setProductList</span>([...proList])
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯æœ€æ–°çš„è¯·æ±‚ï¼Œå¦‚æœä¸æ˜¯åˆ™å¿½ç•¥é”™è¯¯</span>
        <span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
          <span class="hljs-keyword">return</span>
        }
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ¨èå•†å“å¤±è´¥:'</span>, error)
        <span class="hljs-title function_">setProductList</span>([])
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// åªæœ‰åœ¨æ˜¯æœ€æ–°è¯·æ±‚æ—¶æ‰æ›´æ–° loading çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (currentRequestId === requestIdRef.<span class="hljs-property">current</span>) {
          <span class="hljs-title function_">setProductLoading</span>(<span class="hljs-literal">false</span>)
        }
      }
    }

    <span class="hljs-title function_">fetchProductList</span>()
  }, [keyWord])

  <span class="hljs-comment">// ... å…¶ä»–ä»£ç </span>
}
</code></pre>
<hr/>
<h2 data-id="heading-12">é—­åŒ…ä¸ Ref æ·±å…¥ç†è§£</h2>
<h3 data-id="heading-13">å…³é”®æ¦‚å¿µ</h3>
<h4 data-id="heading-14">1. <code>currentRequestId</code> è¢«é—­åŒ…æ•è·</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchProductList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è¿™ä¸€è¡Œæ‰§è¡Œæ—¶ï¼ŒcurrentRequestId è¢«"å†»ç»“"åœ¨é—­åŒ…ä¸­</span>
  <span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>  <span class="hljs-comment">// å‡è®¾æ­¤æ—¶ = 1</span>

  <span class="hljs-comment">// ... å‘èµ·å¼‚æ­¥è¯·æ±‚ ...</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPublicSearchFilter</span>(params)  <span class="hljs-comment">// è¿™é‡Œç­‰å¾…ï¼Œå¯èƒ½éœ€è¦å‡ ç§’é’Ÿ</span>

  <span class="hljs-comment">// å½“è¯·æ±‚è¿”å›æ—¶ï¼ŒcurrentRequestId ä»ç„¶æ˜¯ 1ï¼ˆé—­åŒ…ä¿å­˜çš„å€¼ï¼‰</span>
  <span class="hljs-comment">// ä½† requestIdRef.current å¯èƒ½å·²ç»æ˜¯ 2ã€3ã€4...ï¼ˆæœ€æ–°å€¼ï¼‰</span>
  <span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
    <span class="hljs-keyword">return</span>
  }
}
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li><code>currentRequestId</code> æ˜¯å±€éƒ¨å¸¸é‡ï¼Œåœ¨å‡½æ•°æ‰§è¡Œæ—¶è¢«èµ‹å€¼</li>
<li>å¼‚æ­¥å‡½æ•°è¿”å›æ—¶ï¼Œå®ƒä»ç„¶ä¿æŒè¯·æ±‚å¼€å§‹æ—¶çš„å€¼</li>
<li><strong>è¿™å°±æ˜¯é—­åŒ…ï¼šå‡½æ•°"è®°ä½"äº†åˆ›å»ºæ—¶çš„å˜é‡å€¼</strong></li>
</ul>
<h4 data-id="heading-15">2. <code>requestIdRef.current</code> å§‹ç»ˆæ˜¯æœ€æ–°çš„</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// requestIdRef æ˜¯ä¸€ä¸ª ref å¯¹è±¡</span>
<span class="hljs-keyword">const</span> requestIdRef = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)

<span class="hljs-comment">// ref.current æ˜¯ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œæ¯æ¬¡è¯»å–éƒ½è¿”å›æœ€æ–°å€¼</span>
requestIdRef.<span class="hljs-property">current</span>  <span class="hljs-comment">// è¯»å–æ—¶æ€»æ˜¯æœ€æ–°å€¼</span>
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li><code>requestIdRef</code> æ˜¯ React çš„ ref å¯¹è±¡ï¼Œ<code>.current</code> æ˜¯å¯å˜çš„</li>
<li>æ¯æ¬¡è¯»å– <code>requestIdRef.current</code> éƒ½ä¼šå¾—åˆ°å½“å‰æœ€æ–°å€¼</li>
<li><strong>ä¸å—é—­åŒ…å½±å“ï¼Œå› ä¸ºå®ƒä¸æ˜¯è¢«æ•è·çš„å˜é‡ï¼Œè€Œæ˜¯é€šè¿‡å¼•ç”¨è®¿é—®</strong></li>
</ul>
<h3 data-id="heading-16">æ—¶é—´çº¿ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// === åˆå§‹çŠ¶æ€ ===</span>
requestIdRef.<span class="hljs-property">current</span> = <span class="hljs-number">0</span>

<span class="hljs-comment">// === T1: ç”¨æˆ·è¾“å…¥ "a"ï¼Œè§¦å‘è¯·æ±‚1 ===</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchProductList1</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>
  <span class="hljs-comment">// æ‰§è¡Œåï¼šcurrentRequestId = 1, requestIdRef.current = 1</span>

  <span class="hljs-comment">// é—­åŒ…æ•è·ï¼šcurrentRequestId = 1ï¼ˆè¢«"å†»ç»“"ï¼‰</span>
  <span class="hljs-comment">// ref å¼•ç”¨ï¼šrequestIdRef.currentï¼ˆéšæ—¶å¯è¯»å–æœ€æ–°å€¼ï¼‰</span>

  <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPublicSearchFilter</span>(...)  <span class="hljs-comment">// ç­‰å¾…å“åº”...</span>
}

<span class="hljs-comment">// === T2: ç”¨æˆ·è¾“å…¥ "ac"ï¼Œè§¦å‘è¯·æ±‚2ï¼ˆè¯·æ±‚1è¿˜åœ¨ç­‰å¾…ä¸­ï¼‰===</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchProductList2</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>
  <span class="hljs-comment">// æ‰§è¡Œåï¼šcurrentRequestId = 2, requestIdRef.current = 2</span>

  <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPublicSearchFilter</span>(...)  <span class="hljs-comment">// ç­‰å¾…å“åº”...</span>
}

<span class="hljs-comment">// === T3: è¯·æ±‚1è¿”å›ï¼ˆæ­¤æ—¶ requestIdRef.current å·²ç»æ˜¯ 2ï¼‰===</span>
<span class="hljs-comment">// åœ¨ fetchProductList1 çš„é—­åŒ…ä¸­ï¼š</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
  <span class="hljs-comment">// currentRequestId = 1ï¼ˆé—­åŒ…ä¿å­˜çš„æ—§å€¼ï¼‰</span>
  <span class="hljs-comment">// requestIdRef.current = 2ï¼ˆè¯»å–çš„æœ€æ–°å€¼ï¼‰</span>
  <span class="hljs-comment">// 1 !== 2 âœ… è¿”å›ï¼Œå¿½ç•¥ç»“æœ</span>
  <span class="hljs-keyword">return</span>
}

<span class="hljs-comment">// === T4: è¯·æ±‚2è¿”å› ===</span>
<span class="hljs-comment">// åœ¨ fetchProductList2 çš„é—­åŒ…ä¸­ï¼š</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
  <span class="hljs-comment">// currentRequestId = 2ï¼ˆé—­åŒ…ä¿å­˜çš„å€¼ï¼‰</span>
  <span class="hljs-comment">// requestIdRef.current = 2ï¼ˆå¦‚æœæ­¤æ—¶æ²¡æœ‰æ–°è¯·æ±‚ï¼‰</span>
  <span class="hljs-comment">// 2 === 2 âœ… é€šè¿‡æ£€æŸ¥ï¼Œè®¾ç½® state</span>
}
</code></pre>
<h3 data-id="heading-17">å†…å­˜ä¸­çš„çŠ¶æ€</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å†…å­˜å¸ƒå±€ç¤ºæ„ï¼š</span>

<span class="hljs-comment">// å…¨å±€ refï¼ˆæ‰€æœ‰å‡½æ•°å…±äº«ï¼‰</span>
requestIdRef = {
  <span class="hljs-attr">current</span>: <span class="hljs-number">3</span>  <span class="hljs-comment">// â† å§‹ç»ˆæ˜¯æœ€æ–°å€¼ï¼Œéšæ—¶å¯è¯»å–</span>
}

<span class="hljs-comment">// è¯·æ±‚1çš„é—­åŒ…ï¼ˆå·²åºŸå¼ƒï¼‰</span>
fetchProductList1 é—­åŒ…ç¯å¢ƒï¼š
  <span class="hljs-attr">currentRequestId</span>: <span class="hljs-number">1</span>  <span class="hljs-comment">// â† è¢«"å†»ç»“"ï¼Œä¸ä¼šæ”¹å˜</span>

<span class="hljs-comment">// è¯·æ±‚2çš„é—­åŒ…ï¼ˆå·²åºŸå¼ƒï¼‰</span>
fetchProductList2 é—­åŒ…ç¯å¢ƒï¼š
  <span class="hljs-attr">currentRequestId</span>: <span class="hljs-number">2</span>  <span class="hljs-comment">// â† è¢«"å†»ç»“"ï¼Œä¸ä¼šæ”¹å˜</span>

<span class="hljs-comment">// è¯·æ±‚3çš„é—­åŒ…ï¼ˆå½“å‰æœ‰æ•ˆï¼‰</span>
fetchProductList3 é—­åŒ…ç¯å¢ƒï¼š
  <span class="hljs-attr">currentRequestId</span>: <span class="hljs-number">3</span>  <span class="hljs-comment">// â† è¢«"å†»ç»“"ï¼Œä¸ä¼šæ”¹å˜</span>
</code></pre>
<h3 data-id="heading-18">å¯¹æ¯”ï¼šé—­åŒ… vs Ref</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th><code>currentRequestId</code> (é—­åŒ…)</th><th><code>requestIdRef.current</code> (Ref)</th></tr></thead><tbody><tr><td>å€¼çš„å˜åŒ–</td><td>åˆ›å»ºæ—¶èµ‹å€¼åä¸å†æ”¹å˜</td><td>æ¯æ¬¡è¯»å–éƒ½æ˜¯æœ€æ–°å€¼</td></tr><tr><td>ä½œç”¨åŸŸ</td><td>å‡½æ•°é—­åŒ…å†…</td><td>å…¨å±€å¯è®¿é—®</td></tr><tr><td>ç”¨é€”</td><td>ä¿å­˜è¯·æ±‚å¼€å§‹æ—¶çš„ ID</td><td>ä¿å­˜æœ€æ–°çš„è¯·æ±‚ ID</td></tr><tr><td>ç±»æ¯”</td><td>æ‹ç…§ï¼ˆå®šæ ¼ç¬é—´ï¼‰</td><td>å®æ—¶ç›‘æ§ï¼ˆåŠ¨æ€æ›´æ–°ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡æœ‰æ•ˆï¼Ÿ</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å…³é”®ä»£ç </span>
<span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>  <span class="hljs-comment">// é—­åŒ…æ•è·ï¼šä¿å­˜"å¿«ç…§"</span>
<span class="hljs-comment">// ... å¼‚æ­¥æ“ä½œ ...</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {  <span class="hljs-comment">// æ¯”è¾ƒ"å¿«ç…§"å’Œ"å®æ—¶å€¼"</span>
  <span class="hljs-keyword">return</span>  <span class="hljs-comment">// å¦‚æœä¸åŒï¼Œè¯´æ˜å·²æœ‰æ–°è¯·æ±‚</span>
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<ol>
<li><strong>è¯·æ±‚å¼€å§‹æ—¶</strong>ï¼š<code>currentRequestId</code> ä¿å­˜å½“å‰ IDï¼ˆå¿«ç…§ï¼‰</li>
<li><strong>è¯·æ±‚è¿›è¡Œä¸­</strong>ï¼š<code>requestIdRef.current</code> å¯èƒ½è¢«æ–°è¯·æ±‚æ›´æ–°</li>
<li><strong>è¯·æ±‚è¿”å›æ—¶</strong>ï¼šæ¯”è¾ƒå¿«ç…§å’Œæœ€æ–°å€¼
<ul>
<li>âœ… <strong>ç›¸åŒ</strong> â†’ ä»æ˜¯æœ€æ–°è¯·æ±‚ï¼Œå¤„ç†ç»“æœ</li>
<li>âŒ <strong>ä¸åŒ</strong> â†’ å·²è¢«æ–°è¯·æ±‚å–ä»£ï¼Œå¿½ç•¥ç»“æœ</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-20">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-21">1. ä½•æ—¶ä½¿ç”¨è¯·æ±‚ ID è·Ÿè¸ªï¼Ÿ</h3>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·è¾“å…¥è§¦å‘çš„æœç´¢è¯·æ±‚</li>
<li>ä¸‹æ‹‰é€‰æ‹©è§¦å‘çš„æ•°æ®åŠ è½½</li>
<li>ä»»ä½•å¯èƒ½å¿«é€Ÿè¿ç»­è§¦å‘çš„å¼‚æ­¥æ“ä½œ</li>
</ul>
<p>âŒ <strong>ä¸é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ä¸€æ¬¡æ€§è¯·æ±‚ï¼ˆå¦‚é¡µé¢åˆå§‹åŒ–ï¼‰</li>
<li>æŒ‰é’®ç‚¹å‡»è§¦å‘çš„è¯·æ±‚ï¼ˆç”¨æˆ·ä¸ä¼šå¿«é€Ÿç‚¹å‡»ï¼‰</li>
<li>å®šæ—¶è½®è¯¢è¯·æ±‚ï¼ˆé€šå¸¸éœ€è¦å–æ¶ˆæœºåˆ¶ï¼‰</li>
</ul>
<h3 data-id="heading-22">2. åŒé‡éªŒè¯çš„å¿…è¦æ€§</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æŸ¥1ï¼šè¯·æ±‚ IDï¼ˆä¸»è¦æ£€æŸ¥ï¼‰</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
  <span class="hljs-keyword">return</span>
}

<span class="hljs-comment">// æ£€æŸ¥2ï¼šå…³é”®è¯åŒ¹é…ï¼ˆåŒé‡ä¿é™©ï¼‰</span>
<span class="hljs-keyword">if</span> (currentKeyword !== keyWord.<span class="hljs-title function_">trim</span>()) {
  <span class="hljs-keyword">return</span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦åŒé‡éªŒè¯ï¼Ÿ</strong></p>
<ul>
<li>è¯·æ±‚ ID æ£€æŸ¥ï¼šé˜²æ­¢æ—§è¯·æ±‚è¦†ç›–æ–°è¯·æ±‚</li>
<li>å…³é”®è¯æ£€æŸ¥ï¼šé˜²æ­¢è¾¹ç•Œæƒ…å†µï¼ˆå¦‚è¯·æ±‚ ID ç›¸åŒä½†å…³é”®è¯å·²æ”¹å˜ï¼‰</li>
</ul>
<h3 data-id="heading-23">3. é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯æœ€æ–°çš„è¯·æ±‚ï¼Œå¦‚æœä¸æ˜¯åˆ™å¿½ç•¥é”™è¯¯</span>
  <span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ¨èå•†å“å¤±è´¥:'</span>, error)
  <span class="hljs-title function_">setProductList</span>([])
}
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li>é”™è¯¯å¤„ç†ä¹Ÿè¦æ£€æŸ¥è¯·æ±‚ ID</li>
<li>é¿å…æ—§è¯·æ±‚çš„é”™è¯¯å½±å“æ–°è¯·æ±‚çš„çŠ¶æ€</li>
</ul>
<h3 data-id="heading-24">4. Loading çŠ¶æ€ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">finally</span> {
  <span class="hljs-comment">// åªæœ‰åœ¨æ˜¯æœ€æ–°è¯·æ±‚æ—¶æ‰æ›´æ–° loading çŠ¶æ€</span>
  <span class="hljs-keyword">if</span> (currentRequestId === requestIdRef.<span class="hljs-property">current</span>) {
    <span class="hljs-title function_">setProductLoading</span>(<span class="hljs-literal">false</span>)
  }
}
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li>Loading çŠ¶æ€ä¹Ÿè¦æ£€æŸ¥è¯·æ±‚ ID</li>
<li>é¿å…æ—§è¯·æ±‚çš„ loading çŠ¶æ€å½±å“ UI</li>
</ul>
<hr/>
<h2 data-id="heading-25">å…¶ä»–è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h2>
<h3 data-id="heading-26">æ–¹æ¡ˆ1ï¼šAbortControllerï¼ˆæ¨èç”¨äºå¯å–æ¶ˆçš„è¯·æ±‚ï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> abortControllerRef = useRef&lt;<span class="hljs-title class_">AbortController</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„è¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (abortControllerRef.<span class="hljs-property">current</span>) {
    abortControllerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">abort</span>()
  }

  <span class="hljs-keyword">const</span> abortController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>()
  abortControllerRef.<span class="hljs-property">current</span> = abortController

  <span class="hljs-title function_">fetch</span>(url, { <span class="hljs-attr">signal</span>: abortController.<span class="hljs-property">signal</span> })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (abortController.<span class="hljs-property">signal</span>.<span class="hljs-property">aborted</span>) <span class="hljs-keyword">return</span>
      <span class="hljs-comment">// å¤„ç†å“åº”</span>
    })
}, [deps])
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¯ä»¥çœŸæ­£å–æ¶ˆç½‘ç»œè¯·æ±‚</li>
<li>èŠ‚çœå¸¦å®½å’ŒæœåŠ¡å™¨èµ„æº</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>éœ€è¦ API æ”¯æŒ <code>AbortController</code></li>
<li>æŸäº›æ—§çš„ API å¯èƒ½ä¸æ”¯æŒ</li>
</ul>
<h3 data-id="heading-27">æ–¹æ¡ˆ2ï¼šè¯·æ±‚ ID è·Ÿè¸ªï¼ˆæœ¬æ–‡æ–¹æ¡ˆï¼‰</h3>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>é€‚ç”¨äºä»»ä½•å¼‚æ­¥æ“ä½œ</li>
<li>ä¸ä¾èµ– API æ”¯æŒ</li>
<li>å®ç°ç®€å•</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ä¸èƒ½çœŸæ­£å–æ¶ˆç½‘ç»œè¯·æ±‚</li>
<li>è¯·æ±‚ä»ä¼šå ç”¨å¸¦å®½</li>
</ul>
<h3 data-id="heading-28">æ–¹æ¡ˆ3ï¼šé˜²æŠ–ï¼ˆDebounceï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> debouncedSearch = <span class="hljs-title function_">useMemo</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">keyword: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
    <span class="hljs-title function_">fetchProductList</span>(keyword)
  }, <span class="hljs-number">300</span>),
  []
)
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å‡å°‘è¯·æ±‚æ¬¡æ•°</li>
<li>ç®€å•æ˜“ç”¨</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å»¶è¿Ÿå“åº”</li>
<li>ç”¨æˆ·å¯èƒ½ç­‰å¾…æ›´é•¿æ—¶é—´</li>
</ul>
<hr/>
<h2 data-id="heading-29">æ€»ç»“</h2>
<h3 data-id="heading-30">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>é—®é¢˜æ ¹æº</strong>ï¼šå¤šä¸ªå¼‚æ­¥è¯·æ±‚å¹¶å‘æ‰§è¡Œï¼Œè¿”å›é¡ºåºä¸ç¡®å®š</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨è¯·æ±‚ ID è·Ÿè¸ªï¼Œç¡®ä¿åªå¤„ç†æœ€æ–°è¯·æ±‚</li>
<li><strong>å…³é”®æœºåˆ¶</strong>ï¼šé—­åŒ…ä¿å­˜"å¿«ç…§"ï¼ŒRef æä¾›"å®æ—¶å€¼"</li>
<li><strong>éªŒè¯ç­–ç•¥</strong>ï¼šåŒé‡éªŒè¯ï¼ˆè¯·æ±‚ ID + ä¸šåŠ¡å‚æ•°ï¼‰</li>
</ol>
<h3 data-id="heading-31">é€‚ç”¨åœºæ™¯</h3>
<p>âœ… æœç´¢è¾“å…¥æ¡†çš„è”æƒ³è¯/æ¨èå•†å“
âœ… ä¸‹æ‹‰é€‰æ‹©çš„æ•°æ®åŠ è½½
âœ… å¿«é€Ÿè¿ç»­è§¦å‘çš„å¼‚æ­¥æ“ä½œ</p>
<h3 data-id="heading-32">å…³é”®ä»£ç æ¨¡å¼</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. åˆ›å»ºè·Ÿè¸ªå™¨</span>
<span class="hljs-keyword">const</span> requestIdRef = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)

<span class="hljs-comment">// 2. è¯·æ±‚å¼€å§‹æ—¶ä¿å­˜ ID</span>
<span class="hljs-keyword">const</span> currentRequestId = ++requestIdRef.<span class="hljs-property">current</span>

<span class="hljs-comment">// 3. è¯·æ±‚è¿”å›æ—¶éªŒè¯</span>
<span class="hljs-keyword">if</span> (currentRequestId !== requestIdRef.<span class="hljs-property">current</span>) {
  <span class="hljs-keyword">return</span>  <span class="hljs-comment">// å¿½ç•¥æ—§è¯·æ±‚</span>
}
</code></pre>
<h3 data-id="heading-33">è®°å¿†å£è¯€</h3>
<blockquote>
<p><strong>"é—­åŒ…ä¿å­˜å¿«ç…§ï¼ŒRef æä¾›å®æ—¶å€¼ï¼Œæ¯”è¾ƒä¸¤è€…åˆ¤æ–­æœ‰æ•ˆæ€§"</strong></p>
</blockquote>
<blockquote>
<p>æœ€åæ„Ÿè°¢é˜…è¯»ï¼æ¬¢è¿å…³æ³¨æˆ‘ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼šã€Šé²«å°é±¼ä¸æ­£ç»ã€‹ã€‚æ¬¢è¿ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼Œä¸€é”®ä¸‰è¿ï¼ï¼ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’ï¼šæœºåˆ¶ä¸æ„ä¹‰è§£æ]]></title>    <link>https://juejin.cn/post/7587024296885207090</link>    <guid>https://juejin.cn/post/7587024296885207090</guid>    <pubDate>2025-12-24T09:23:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587024296885207090" data-draft-id="7587021119255347227" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’ï¼šæœºåˆ¶ä¸æ„ä¹‰è§£æ"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-24T09:23:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†»æ¢¨æ”¿å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/2373184444182659"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’ï¼šæœºåˆ¶ä¸æ„ä¹‰è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2373184444182659/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†»æ¢¨æ”¿å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:23:07.000Z" title="Wed Dec 24 2025 09:23:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’ï¼šæœºåˆ¶ä¸æ„ä¹‰è§£æ</h2>
<p>åœ¨ React ç»„ä»¶åŒ–å¼€å‘ä¸­ï¼Œç»„ä»¶é—´çš„é€šä¿¡æ˜¯æ„å»ºå¤æ‚åº”ç”¨çš„æ ¸å¿ƒç¯èŠ‚ã€‚æœ¬æ–‡ä»¥ä¸€ä¸ª Todo åˆ—è¡¨åº”ç”¨ä¸ºä¾‹ï¼Œè¯¦ç»†è§£æçˆ¶å­ç»„ä»¶çš„æ•°æ®ä¼ é€’æ–¹å¼åŠå…¶èƒŒåçš„è®¾è®¡æ„ä¹‰ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç»„ä»¶ç»“æ„ä¸é€šä¿¡åœºæ™¯</h3>
<p>åœ¨æä¾›çš„ Todo åº”ç”¨ä¸­ï¼Œå­˜åœ¨æ˜ç¡®çš„ç»„ä»¶å±‚çº§å…³ç³»ï¼š</p>
<ul>
<li><strong>çˆ¶ç»„ä»¶</strong>ï¼š<code>App</code>Â ç»„ä»¶ä½œä¸ºæ ¹ç»„ä»¶ï¼Œæ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¸å¿ƒ</li>
<li><strong>å­ç»„ä»¶</strong>ï¼š<code>TodoInput</code>ï¼ˆè¾“å…¥æ¡†ï¼‰ã€<code>TodoList</code>ï¼ˆåˆ—è¡¨å±•ç¤ºï¼‰ã€<code>TodoStatus</code>ï¼ˆçŠ¶æ€ç»Ÿè®¡ï¼‰ä¸‰ä¸ªå­ç»„ä»¶ï¼Œå‡ç”±Â <code>App</code>Â ç»„ä»¶ç›´æ¥æ¸²æŸ“</li>
</ul>
<p>è¿™äº›ç»„ä»¶éœ€è¦ååŒå·¥ä½œï¼šè¾“å…¥æ¡†æ·»åŠ å¾…åŠé¡¹ã€åˆ—è¡¨å±•ç¤ºæ‰€æœ‰é¡¹ã€ç»Ÿè®¡åŒºæ˜¾ç¤ºæ•°é‡å¹¶æä¾›æ¸…é™¤åŠŸèƒ½ã€‚è¿™ç§ååŒä¾èµ–äºç»„ä»¶é—´çš„æ•°æ®ä¼ é€’ã€‚</p>
<h3 data-id="heading-2">äºŒã€çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’çš„æ ¸å¿ƒæ–¹å¼</h3>
<p>React ä¸­çˆ¶å­ç»„ä»¶çš„é€šä¿¡éµå¾ª<strong>å•å‘æ•°æ®æµ</strong>åŸåˆ™ï¼Œé€šè¿‡Â <code>props</code>Â å®ç°æ•°æ®ä¼ é€’ï¼Œå…·ä½“åˆ†ä¸ºä¸¤ç§æ–¹å‘ï¼š</p>
<h4 data-id="heading-3">1. çˆ¶ç»„ä»¶ â†’ å­ç»„ä»¶ï¼šé€šè¿‡ props ä¼ é€’æ•°æ®</h4>
<p>çˆ¶ç»„ä»¶å°†éœ€è¦å…±äº«çš„æ•°æ®é€šè¿‡Â <code>props</code>Â ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡æ¥æ”¶Â <code>props</code>Â æ¥ä½¿ç”¨è¿™äº›æ•°æ®ã€‚</p>
<p><strong>ç¤ºä¾‹è§£æ</strong>ï¼š</p>
<ul>
<li>åœ¨Â <code>App</code>Â ç»„ä»¶ä¸­ï¼Œå®šä¹‰äº†æ ¸å¿ƒæ•°æ®Â <code>todos</code>ï¼ˆå¾…åŠé¡¹åˆ—è¡¨ï¼‰ï¼Œä»¥åŠåŸºäºÂ <code>todos</code>Â è®¡ç®—çš„ç»Ÿè®¡æ•°æ®ï¼ˆ<code>total</code>ã€<code>active</code>ã€<code>completed</code>ï¼‰</li>
<li>çˆ¶ç»„ä»¶é€šè¿‡Â <code>props</code>Â å°†è¿™äº›æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼š</li>
</ul>
<pre><code class="hljs language-xml" lang="xml">// App.jsx ä¸­ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶
<span class="hljs-tag">&lt;<span class="hljs-name">TodoList</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">{todos}</span> <span class="hljs-attr">...</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">TodoStatus</span> <span class="hljs-attr">total</span>=<span class="hljs-string">{todos.length}</span> <span class="hljs-attr">active</span>=<span class="hljs-string">{activeCount}</span> <span class="hljs-attr">completed</span>=<span class="hljs-string">{completedCount}</span> <span class="hljs-attr">...</span> /&gt;</span>
</code></pre>
<p>å­ç»„ä»¶é€šè¿‡è§£æ„Â <code>props</code>Â æ¥æ”¶å¹¶ä½¿ç”¨æ•°æ®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// TodoList æ¥æ”¶å¹¶å±•ç¤º todos æ•°æ®</span>
<span class="hljs-keyword">const</span> { todos } = props;
<span class="hljs-comment">// æ¸²æŸ“ todos åˆ—è¡¨</span>
todos.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> (...))

<span class="hljs-comment">// TodoStatus æ¥æ”¶å¹¶å±•ç¤ºç»Ÿè®¡æ•°æ®</span>
<span class="hljs-keyword">const</span> { total, active, completed } = props;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Total: {total} | Active: {active} | Completed: {completed}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-4">2. å­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶ï¼šé€šè¿‡å›è°ƒå‡½æ•°ä¼ é€’æ•°æ®å˜æ›´è¯·æ±‚</h4>
<p>å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼ˆReact ä¸­ props æ˜¯åªè¯»çš„ï¼‰ï¼Œéœ€é€šè¿‡è°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„<strong>å›è°ƒå‡½æ•°</strong>ï¼Œå°†æ•°æ®å˜æ›´çš„éœ€æ±‚ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œç”±çˆ¶ç»„ä»¶è´Ÿè´£æ›´æ–°æ•°æ®ã€‚</p>
<p><strong>ç¤ºä¾‹è§£æ</strong>ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶å®šä¹‰ä¿®æ”¹æ•°æ®çš„æ–¹æ³•ï¼ˆå¦‚Â <code>addTodo</code>ã€<code>deleteTodo</code>ï¼‰ï¼Œå¹¶é€šè¿‡Â <code>props</code>Â å°†è¿™äº›æ–¹æ³•ä¼ é€’ç»™å­ç»„ä»¶ï¼š</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">// App.jsx ä¸­å®šä¹‰æ–¹æ³•å¹¶ä¼ é€’
const <span class="hljs-attr">addTodo</span> = (text) =&gt; {
  setTodos(<span class="hljs-section">[...todos, { id: Date.now(), text, completed: false }]</span>)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

&lt;TodoInput <span class="hljs-attr">onAdd</span>={addTodo} /&gt;
&lt;TodoList <span class="hljs-attr">onDelete</span>={deleteTodo} <span class="hljs-literal">on</span>Toggle={toggleTodo} /&gt;
</code></pre>
<p>å­ç»„ä»¶è§¦å‘ç”¨æˆ·æ“ä½œæ—¶ï¼Œè°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„å›è°ƒå‡½æ•°ï¼Œä¼ é€’éœ€è¦å˜æ›´çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// TodoInput æ¥æ”¶ onAdd æ–¹æ³•ï¼Œåœ¨æäº¤æ—¶è°ƒç”¨</span>
const { onAdd } = props;
const handleSubmit = (e) =&gt; {
  e<span class="hljs-selector-class">.preventDefault</span>();
  <span class="hljs-built_in">onAdd</span>(inputValue); <span class="hljs-comment">// å°†è¾“å…¥çš„æ–‡æœ¬ä¼ é€’ç»™çˆ¶ç»„ä»¶</span>
  <span class="hljs-built_in">setInputValue</span>('');
};

<span class="hljs-comment">// TodoList æ¥æ”¶ onDelete æ–¹æ³•ï¼Œåœ¨ç‚¹å‡»åˆ é™¤æ—¶è°ƒç”¨</span>
&lt;<span class="hljs-selector-tag">button</span> onClick={() =&gt; <span class="hljs-built_in">onDelete</span>(todo.id)}&gt;X&lt;/<span class="hljs-selector-tag">button</span>&gt;
</code></pre>
<h3 data-id="heading-5">ä¸‰ã€è¿™ç§ä¼ é€’æ–¹å¼çš„æ ¸å¿ƒæ„ä¹‰</h3>
<ol>
<li>
<p><strong>æ•°æ®é›†ä¸­ç®¡ç†ï¼Œä¿æŒå•ä¸€æ•°æ®æº</strong>æ‰€æœ‰æ ¸å¿ƒæ•°æ®ï¼ˆ<code>todos</code>ï¼‰ç”±çˆ¶ç»„ä»¶Â <code>App</code>Â ç»Ÿä¸€æŒæœ‰å’Œç®¡ç†ï¼Œå­ç»„ä»¶ä»…é€šè¿‡Â <code>props</code>Â è·å–æ•°æ®æˆ–è¯·æ±‚ä¿®æ”¹ã€‚è¿™ç§è®¾è®¡é¿å…äº†æ•°æ®åˆ†æ•£åœ¨å¤šä¸ªç»„ä»¶ä¸­å¯¼è‡´çš„ "æ•°æ®æ··ä¹±"ï¼Œä¾¿äºè¿½è¸ªæ•°æ®çš„å˜æ›´å†å²ã€‚</p>
</li>
<li>
<p><strong>æ˜ç¡®ç»„ä»¶èŒè´£ï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»</strong></p>
<ul>
<li>çˆ¶ç»„ä»¶ï¼šä¸“æ³¨äºæ•°æ®çš„å­˜å‚¨ã€è®¡ç®—å’Œæ›´æ–°é€»è¾‘ï¼ˆå¦‚Â <code>addTodo</code>ã€<code>deleteTodo</code>Â æ–¹æ³•ï¼‰</li>
<li>å­ç»„ä»¶ï¼šä¸“æ³¨äº UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’ï¼ˆå¦‚Â <code>TodoInput</code>Â å¤„ç†è¾“å…¥ã€<code>TodoList</code>Â å±•ç¤ºåˆ—è¡¨ï¼‰èŒè´£åˆ†ç¦»è®©ç»„ä»¶æ›´æ˜“äºç»´æŠ¤å’Œå¤ç”¨ï¼Œä¾‹å¦‚Â <code>TodoList</code>Â ä»…ä¾èµ–ä¼ å…¥çš„Â <code>todos</code>Â å’Œå›è°ƒå‡½æ•°ï¼Œå¯åœ¨å…¶ä»–åœºæ™¯ä¸­ç›´æ¥å¤ç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>å•å‘æ•°æ®æµï¼Œæå‡å¯é¢„æµ‹æ€§</strong>æ•°æ®åªèƒ½ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ï¼Œå­ç»„ä»¶çš„å˜æ›´éœ€æ±‚å¿…é¡»é€šè¿‡çˆ¶ç»„ä»¶å¤„ç†ã€‚è¿™ç§å•å‘æµåŠ¨è®©åº”ç”¨çš„çŠ¶æ€å˜åŒ–å¯é¢„æµ‹ï¼Œå½“å‡ºç°é—®é¢˜æ—¶ï¼Œèƒ½å¿«é€Ÿå®šä½åˆ°æ•°æ®å˜æ›´çš„æºå¤´ï¼ˆçˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼‰ï¼Œé™ä½è°ƒè¯•éš¾åº¦ã€‚</p>
</li>
<li>
<p><strong>é—´æ¥å®ç°å…„å¼Ÿç»„ä»¶é€šä¿¡</strong>å…„å¼Ÿç»„ä»¶ï¼ˆå¦‚Â <code>TodoInput</code>Â å’ŒÂ <code>TodoList</code>ï¼‰æœ¬èº«æ— æ³•ç›´æ¥é€šä¿¡ï¼Œä½†é€šè¿‡çˆ¶ç»„ä»¶ä½œä¸º "ä¸­ä»‹"ï¼Œå¯é—´æ¥å®ç°æ•°æ®åŒæ­¥ã€‚ä¾‹å¦‚ï¼š<code>TodoInput</code>Â æ·»åŠ æ–°é¡¹åï¼Œçˆ¶ç»„ä»¶æ›´æ–°Â <code>todos</code>ï¼Œ<code>TodoList</code>Â å› æ¥æ”¶çš„Â <code>todos</code>Â å˜åŒ–è€Œé‡æ–°æ¸²æŸ“ï¼Œå®ç°äº†å…„å¼Ÿç»„ä»¶çš„çŠ¶æ€ååŒã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Viteé¡¹ç›®ä¸­processæŠ¥çº¢é—®é¢˜çš„æ·±å±‚åŸå› ä¸è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7587028972246695971</link>    <guid>https://juejin.cn/post/7587028972246695971</guid>    <pubDate>2025-12-24T09:25:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587028972246695971" data-draft-id="7587243886433386530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Viteé¡¹ç›®ä¸­processæŠ¥çº¢é—®é¢˜çš„æ·±å±‚åŸå› ä¸è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-24T09:25:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="shanLion"/> <meta itemprop="url" content="https://juejin.cn/user/2788017217477048"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Viteé¡¹ç›®ä¸­processæŠ¥çº¢é—®é¢˜çš„æ·±å±‚åŸå› ä¸è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017217477048/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    shanLion
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:25:47.000Z" title="Wed Dec 24 2025 09:25:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä½¿ç”¨Viteæ„å»ºçš„å‰ç«¯é¡¹ç›®ä¸­ï¼Œ<code>process</code>å¯¹è±¡åœ¨æŸäº›æ–‡ä»¶ä¸­æŠ¥çº¢ï¼ˆå¦‚VSCodeä¸­æ˜¾ç¤ºé”™è¯¯ï¼‰æ˜¯å¸¸è§é—®é¢˜ã€‚æœ¬æ–‡å°†ç³»ç»Ÿé˜è¿°è¯¥é—®é¢˜çš„æ·±å±‚åŸå› åŠè§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–ç¯å¢ƒé…ç½®ã€ä¾èµ–ç®¡ç†ä¸ä»£ç å…¼å®¹æ€§ä¸‰å¤§æ ¸å¿ƒç¯èŠ‚ã€‚é€šè¿‡è§„èŒƒåŒ–æµç¨‹ï¼Œç¡®ä¿<code>process</code>å¯¹è±¡åœ¨æ‰€æœ‰æ–‡ä»¶ä¸­ç¨³å®šå¯ç”¨ï¼Œé¿å…å¼€å‘ä¸­æ–­ã€‚</p>
<h2 data-id="heading-0">æ·±å±‚åŸå› åˆ†æ</h2>
<h3 data-id="heading-1">1. â€Œ<strong>TypeScriptç±»å‹æ£€æŸ¥æœºåˆ¶</strong>â€Œ</h3>
<ul>
<li>â€Œ<strong>TypeScriptçš„ä¸¥æ ¼ç±»å‹æ£€æŸ¥</strong>â€Œï¼šTypeScripté»˜è®¤ä¸è¯†åˆ«Node.jså†…ç½®å¯¹è±¡ï¼ˆå¦‚<code>process</code>ï¼‰ï¼Œå¯¼è‡´åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æŠ¥çº¢ã€‚ä¾‹å¦‚ï¼Œ<code>process</code>ä»…åœ¨Node.jsç¯å¢ƒä¸­æœ‰æ•ˆï¼Œè€ŒViteé»˜è®¤å°†ä»£ç è§†ä¸ºæµè§ˆå™¨ç¯å¢ƒï¼Œå¼•å‘ç±»å‹å†²çªã€‚</li>
<li>â€Œ<strong>ç¯å¢ƒéš”ç¦»é—®é¢˜</strong>â€Œï¼šViteé€šè¿‡ESMæ¨¡å—ç³»ç»Ÿè¿è¡Œä»£ç ï¼Œä¸Node.jsçš„CommonJSç¯å¢ƒéš”ç¦»ï¼Œå¯¼è‡´TypeScriptæ— æ³•è¯†åˆ«<code>process</code>çš„å…¨å±€å˜é‡ã€‚</li>
</ul>
<h3 data-id="heading-2">2. â€Œ<strong>Viteçš„é¢„æ„å»ºæœºåˆ¶</strong>â€Œ</h3>
<ul>
<li>â€Œ<strong>é¢„æ„å»ºå†²çª</strong>â€Œï¼šViteåœ¨æ„å»ºæ—¶ä¼šé¢„å¤„ç†ä¾èµ–ï¼Œè‹¥æœªæ­£ç¡®é…ç½®ï¼Œå¯èƒ½å¯¼è‡´Node.jså†…ç½®æ¨¡å—ï¼ˆå¦‚<code>process</code>ï¼‰ä¸æµè§ˆå™¨ç¯å¢ƒå†²çªã€‚ä¾‹å¦‚ï¼Œ<code>process</code>åœ¨é¢„æ„å»ºé˜¶æ®µè¢«è¯¯åˆ¤ä¸ºæµè§ˆå™¨ç¯å¢ƒå˜é‡ï¼Œå¼•å‘æŠ¥çº¢ã€‚</li>
<li>â€Œ<strong>ç¯å¢ƒå˜é‡å¤„ç†</strong>â€Œï¼šViteçš„<code>import.meta.env</code>æœºåˆ¶ä»…æ”¯æŒé™æ€ç¯å¢ƒå˜é‡ï¼ˆå¦‚<code>.env</code>æ–‡ä»¶ï¼‰ï¼Œè€Œ<code>process</code>æ˜¯åŠ¨æ€å…¨å±€å¯¹è±¡ï¼Œéœ€æ˜¾å¼å£°æ˜ã€‚</li>
</ul>
<h2 data-id="heading-3">è§£å†³æ–¹æ¡ˆ</h2>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<h3 data-id="heading-4">1. â€Œ<strong>ç¯å¢ƒé…ç½®è°ƒæ•´</strong>â€Œ</h3>
<ul>
<li>
<p>â€Œ<strong>å¼ºåˆ¶å£°æ˜å…¨å±€å˜é‡</strong>â€Œï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>vite.env.d.ts</code>æ–‡ä»¶ï¼Œæ˜¾å¼å£°æ˜<code>process</code>ç±»å‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">typescriptCopy Code
<span class="hljs-comment">// vite.env.d.ts</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;reference types="node" /&gt;</span></span>
</code></pre>
<p>æ­¤å£°æ˜å‘ŠçŸ¥TypeScript<code>process</code>æ˜¯Node.jså†…ç½®å¯¹è±¡ï¼Œé¿å…ç±»å‹å†²çªã€‚</p>
</li>
<li>
<p>â€Œ<strong>æ’é™¤Node.jsæ¨¡å—</strong>â€Œï¼šåœ¨<code>vite.config.ts</code>ä¸­æ’é™¤<code>process</code>æ¨¡å—ï¼Œé¿å…é¢„æ„å»ºå†²çªï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">javascriptCopy Code
<span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  optimizeDeps: {
    exclude: [<span class="hljs-string">'process'</span>]
  }
}
</code></pre>
<p>æ­¤é…ç½®ç¡®ä¿<code>process</code>ä»…åœ¨Node.jsç¯å¢ƒä¸­ç”Ÿæ•ˆï¼Œé¿å…æµè§ˆå™¨ç¯å¢ƒæŠ¥é”™ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">2. â€Œ<strong>ä¾èµ–ç®¡ç†ä¼˜åŒ–</strong>â€Œ</h3>
<ul>
<li>
<p>â€Œ<strong>å®‰è£…ç±»å‹å®šä¹‰</strong>â€Œï¼šè¿è¡Œ<code>pnpm i @types/node -D</code>å®‰è£…Node.jsç±»å‹å®šä¹‰ï¼Œå¢å¼ºTypeScriptè¯†åˆ«èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œåœ¨Vue3é¡¹ç›®ä¸­ï¼Œæ­¤å‘½ä»¤å¯è§£å†³<code>process</code>æŠ¥çº¢é—®é¢˜ã€‚</p>
</li>
<li>
<p>â€Œ<strong>åŠ¨æ€å¯¼å…¥å¤„ç†</strong>â€Œï¼šåœ¨å…³é”®é€»è¾‘ä¸­æ·»åŠ ç¯å¢ƒåˆ¤æ–­ï¼Œé¿å…<code>process</code>åœ¨æµè§ˆå™¨ä¸­æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">javascriptCopy Code
<span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">if</span> (typeof process !== <span class="hljs-string">'undefined'</span> &amp;&amp; process.env.NODE_ENV === <span class="hljs-string">'development'</span>) {
  console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Development mode'</span>);
}
</code></pre>
<p>æ­¤æ–¹æ³•ç¡®ä¿<code>process</code>ä»…åœ¨Node.jsç¯å¢ƒä¸­ç”Ÿæ•ˆï¼Œé¿å…æµè§ˆå™¨ç¯å¢ƒæŠ¥é”™ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">3. â€Œ<strong>ä»£ç å…¼å®¹æ€§å¢å¼º</strong>â€Œ</h3>
<ul>
<li>
<p>â€Œ<strong>ç¯å¢ƒå˜é‡å£°æ˜</strong>â€Œï¼šåœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ï¼ˆå¦‚<code>main.js</code>ï¼‰ä¸­æ˜¾å¼å£°æ˜<code>process</code>å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">javascriptCopy Code
<span class="hljs-comment">// main.js</span>
globalThis.process = globalThis.process || { env: {} };
</code></pre>
<p>æ­¤å£°æ˜ç¡®ä¿<code>process</code>åœ¨æ‰€æœ‰æ–‡ä»¶ä¸­å¯ç”¨ï¼Œé¿å…ç¼–è¯‘å™¨è¯¯åˆ¤ã€‚</p>
</li>
<li>
<p>â€Œ<strong>æ¡ä»¶ç¼–è¯‘å¤„ç†</strong>â€Œï¼šåœ¨å…³é”®é€»è¾‘ä¸­æ·»åŠ ç¯å¢ƒåˆ¤æ–­ï¼Œé¿å…<code>process</code>åœ¨æµè§ˆå™¨ä¸­æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">javascriptCopy Code
<span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">if</span> (typeof process !== <span class="hljs-string">'undefined'</span> &amp;&amp; process.env.NODE_ENV === <span class="hljs-string">'development'</span>) {
  console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Development mode'</span>);
}
</code></pre>
<p>æ­¤æ–¹æ³•ç¡®ä¿<code>process</code>ä»…åœ¨Node.jsç¯å¢ƒä¸­ç”Ÿæ•ˆï¼Œé¿å…æµè§ˆå™¨ç¯å¢ƒæŠ¥é”™ã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>Vite çš„é…ç½®æ–‡ä»¶ <code>vite.config.js</code> æœ¬è´¨ä¸Šæ˜¯ â€Œ<strong>Node.js ç¯å¢ƒä¸‹çš„ JavaScript æ–‡ä»¶</strong>â€Œï¼Œå®ƒåœ¨æ„å»ºæ—¶ç”± Node.js ç›´æ¥æ‰§è¡Œï¼Œè€Œéç»è¿‡ TypeScript ç¼–è¯‘å™¨ï¼ˆtscï¼‰ç±»å‹æ£€æŸ¥ã€‚å³ä½¿ä½ ä½¿ç”¨çš„æ˜¯ <code>.js</code> åç¼€ï¼ŒVite ä¹Ÿä¼šåœ¨ Node.js è¿è¡Œæ—¶ç¯å¢ƒä¸­åŠ è½½å®ƒï¼Œæ­¤æ—¶ <code>process</code> æ˜¯ Node.js å†…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œå³ä½¿æœªåœ¨tsconfig.jsonä¸­æ˜¾å¼æ·»åŠ <code>"types": ["node"]</code>ï¼Œä¹Ÿä¼šé»˜è®¤æ³¨å…¥Node.jsçš„å…¨å±€ç±»å‹å®šä¹‰ï¼ˆå¦‚<code>process</code>ã€<code>__dirname</code>ç­‰ï¼‰ã€‚æ— éœ€ç±»å‹å£°æ˜å³å¯ä½¿ç”¨ã€‚</p>
<p>æ­¤å¤–ï¼ŒVite åœ¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ³¨å…¥ <code>process.env</code> çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶åœ¨æ„å»ºé˜¶æ®µå°†å…¶æ›¿æ¢ä¸ºé™æ€å€¼ï¼Œå› æ­¤å®ƒå¤©ç„¶æ”¯æŒ <code>process</code> å¯¹è±¡ï¼Œæ— éœ€é¢å¤–ç±»å‹å®šä¹‰ã€‚</p>
<p>è€Œå…¶ä»– <code>.ts</code> æˆ– <code>.tsx</code> æ–‡ä»¶ä¸­ä½¿ç”¨ <code>process.env.NODE_ENV</code> æ—¶ï¼ŒTypeScript ä¼šè¿›è¡Œä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ã€‚æ­¤æ—¶ï¼ŒTypeScript å¹¶ä¸çŸ¥é“ <code>process</code> æ˜¯ä»€ä¹ˆâ€”â€”å› ä¸ºå®ƒé»˜è®¤ä¸åŒ…å« Node.js çš„å…¨å±€ç±»å‹å®šä¹‰ã€‚é™¤éä½ æ˜¾å¼å‘Šè¯‰ TypeScriptï¼šâ€œè¿™ä¸ªé¡¹ç›®è¿è¡Œåœ¨ Node.js ç¯å¢ƒä¸­â€ï¼Œå¦åˆ™å®ƒä¼šè®¤ä¸º <code>process</code> æœªå®šä¹‰ï¼Œä»è€ŒæŠ¥é”™ï¼šâ€œæ‰¾ä¸åˆ°åç§°â€˜processâ€™â€ã€‚</p>























<table><thead><tr><th>åœºæ™¯</th><th>æ–‡ä»¶ç±»å‹</th><th>æ‰§è¡Œç¯å¢ƒ</th><th>æ˜¯å¦éœ€è¦ <code>@types/node</code></th></tr></thead><tbody><tr><td><code>vite.config.js</code></td><td>JavaScript</td><td>Node.js è¿è¡Œæ—¶</td><td>âŒ ä¸éœ€è¦ï¼ˆç”± Node.js ç›´æ¥æ‰§è¡Œï¼‰</td></tr><tr><td><code>src/*.ts</code></td><td>TypeScript</td><td>TypeScript ç¼–è¯‘å™¨æ£€æŸ¥</td><td>âœ… å¿…é¡»å®‰è£…å¹¶é…ç½®</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ­å»ºä¸€ä¸ª React Todo åº”ç”¨ï¼šçˆ¶å­é€šä¿¡ã€çŠ¶æ€ç®¡ç†ä¸æœ¬åœ°æŒä¹…åŒ–]]></title>    <link>https://juejin.cn/post/7587254134400286729</link>    <guid>https://juejin.cn/post/7587254134400286729</guid>    <pubDate>2025-12-24T09:30:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587254134400286729" data-draft-id="7587062584165580838" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ­å»ºä¸€ä¸ª React Todo åº”ç”¨ï¼šçˆ¶å­é€šä¿¡ã€çŠ¶æ€ç®¡ç†ä¸æœ¬åœ°æŒä¹…åŒ–"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-24T09:30:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰å®‡å¤•è½"/> <meta itemprop="url" content="https://juejin.cn/user/3323164053734988"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ­å»ºä¸€ä¸ª React Todo åº”ç”¨ï¼šçˆ¶å­é€šä¿¡ã€çŠ¶æ€ç®¡ç†ä¸æœ¬åœ°æŒä¹…åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323164053734988/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰å®‡å¤•è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:30:50.000Z" title="Wed Dec 24 2025 09:30:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-scss" lang="scss">text
ç¼–è¾‘
<span class="hljs-attribute">src</span>/
â”œâ”€â”€ App<span class="hljs-selector-class">.jsx</span>
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TodoInput<span class="hljs-selector-class">.jsx</span>    <span class="hljs-comment">// æ·»åŠ ä»»åŠ¡è¾“å…¥æ¡†</span>
â”‚   â”œâ”€â”€ TodoList<span class="hljs-selector-class">.jsx</span>     <span class="hljs-comment">// ä»»åŠ¡åˆ—è¡¨å±•ç¤º</span>
â”‚   â””â”€â”€ TodoStats<span class="hljs-selector-class">.jsx</span>    <span class="hljs-comment">// ç»Ÿè®¡ä¿¡æ¯ä¸æ¸…é™¤å·²å®Œæˆ</span>
â””â”€â”€ styles/
    â””â”€â”€ app<span class="hljs-selector-class">.styl</span>         <span class="hljs-comment">// å…¨å±€æ ·å¼ï¼ˆä½¿ç”¨ Stylusï¼‰</span>
</code></pre>
<p>æ•´ä¸ªåº”ç”¨å›´ç»• <strong>â€œçˆ¶ç»„ä»¶æŒæœ‰çŠ¶æ€ï¼Œå­ç»„ä»¶é€šè¿‡ props æ¥æ”¶æ•°æ®å’Œå›è°ƒâ€</strong> çš„å•å‘æ•°æ®æµåŸåˆ™æ„å»ºã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ“¦ çˆ¶ç»„ä»¶ï¼š<code>App.jsx</code>Â â€”â€” çŠ¶æ€ç®¡ç†ä¸­å¿ƒ</h2>
<pre><code class="hljs language-javascript" lang="javascript">jsx
ç¼–è¾‘
<span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/app.styl'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/TodoList'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoInput</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/TodoInput'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoStats</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/TodoStats'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// âœ… å…³é”®ï¼šåˆå§‹åŒ–æ—¶ä» localStorage è¯»å–æ•°æ®ï¼Œå½¢æˆæŒä¹…åŒ–é—­ç¯çš„ç¬¬ä¸€æ­¥</span>
  <span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'todos'</span>)
    <span class="hljs-keyword">return</span> saved ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved) : []
  })

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addTodo</span> = (<span class="hljs-params">text</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!text.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span>
    <span class="hljs-title function_">setTodos</span>([...todos, {
      <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
      text,
      <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>,
    }])
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteTodo</span> = (<span class="hljs-params">id</span>) =&gt; {
    <span class="hljs-title function_">setTodos</span>(todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> !== id))
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleTodo</span> = (<span class="hljs-params">id</span>) =&gt; {
    <span class="hljs-title function_">setTodos</span>(todos.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span>
      todo.<span class="hljs-property">id</span> === id ? { ...todo, <span class="hljs-attr">completed</span>: !todo.<span class="hljs-property">completed</span> } : todo
    ))
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearCompleted</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setTodos</span>(todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">completed</span>))
  }

  <span class="hljs-keyword">const</span> activeCount = todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">completed</span>).<span class="hljs-property">length</span>
  <span class="hljs-keyword">const</span> completedCount = todos.<span class="hljs-property">length</span> - activeCount

  <span class="hljs-comment">// âš ï¸ æ³¨æ„ï¼šè¿™æ®µä»£ç ä»…å®Œæˆã€Œå†™å…¥ã€ï¼Œå¿…é¡»é…åˆåˆå§‹åŒ–è¯»å–æ‰èƒ½å®ç°å®Œæ•´æŒä¹…åŒ–</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'todos'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(todos))
  }, [todos])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-app"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My Todo List<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TodoInput</span> <span class="hljs-attr">onAdd</span>=<span class="hljs-string">{addTodo}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TodoList</span> 
        <span class="hljs-attr">todos</span>=<span class="hljs-string">{todos}</span>  
        <span class="hljs-attr">onDelete</span>=<span class="hljs-string">{deleteTodo}</span>
        <span class="hljs-attr">onToggle</span>=<span class="hljs-string">{toggleTodo}</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TodoStats</span> 
        <span class="hljs-attr">total</span>=<span class="hljs-string">{todos.length}</span>
        <span class="hljs-attr">active</span>=<span class="hljs-string">{activeCount}</span>
        <span class="hljs-attr">completed</span>=<span class="hljs-string">{completedCount}</span>
        <span class="hljs-attr">onClearCompleted</span>=<span class="hljs-string">{clearCompleted}</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h3 data-id="heading-1">ğŸ” æœ¬åœ°å­˜å‚¨çš„å®Œæ•´é—­ç¯ï¼šè¯» + å†™ç¼ºä¸€ä¸å¯</h3>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š<strong>ä»…é  <code>useEffect</code> ä¸­çš„ <code>localStorage.setItem</code> èƒ½å®ç°æœ¬åœ°å­˜å‚¨å—ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆæ˜¯ï¼šä¸èƒ½ã€‚</strong></p>
<ul>
<li><strong><code>useEffect</code>Â éƒ¨åˆ†åªè´Ÿè´£â€œå†™å…¥â€</strong> ï¼šå½“Â <code>todos</code>Â å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°Â <code>localStorage</code>ã€‚</li>
<li><strong>ä½†ç¼ºå°‘â€œè¯»å–â€ç¯èŠ‚</strong>ï¼šé¡µé¢åˆ·æ–°åï¼Œè‹¥ä¸ä»Â <code>localStorage</code>Â æ¢å¤æ•°æ®ï¼Œ<code>todos</code>Â ä¼šé‡ç½®ä¸ºç©ºæ•°ç»„ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</li>
</ul>
<p>âœ… <strong>å®Œæ•´æŒä¹…åŒ– = åˆå§‹åŒ–è¯»å– + å˜åŒ–æ—¶å†™å…¥</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-comment">// 1. åˆå§‹åŒ–è¯»å–ï¼ˆå…³é”®ï¼ï¼‰</span>
<span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'todos'</span>);
  <span class="hljs-keyword">return</span> saved ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved) : [];
});

<span class="hljs-comment">// 2. å˜åŒ–æ—¶å†™å…¥ï¼ˆä½ å·²æœ‰çš„ä»£ç ï¼‰</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'todos'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(todos));
}, [todos]);
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>æœ¬è´¨</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªâ€œå†…å­˜ â†” æœ¬åœ°å­˜å‚¨â€çš„åŒå‘åŒæ­¥é—­ç¯ã€‚<strong>åªæœ‰ä¸¤è€…éƒ½å­˜åœ¨ï¼Œæ‰èƒ½å®ç°â€œåˆ·æ–°ä¸ä¸¢æ•°æ®â€</strong> ã€‚</p>
</blockquote>
<h4 data-id="heading-2">âš ï¸ æ³¨æ„äº‹é¡¹</h4>
<ul>
<li><strong>JSON åºåˆ—åŒ–é™åˆ¶</strong>ï¼š<code>todos</code>Â ä¸­åªèƒ½åŒ…å«å¯åºåˆ—åŒ–çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ™®é€šå¯¹è±¡/æ•°ç»„ï¼‰ï¼Œä¸èƒ½åŒ…å«å‡½æ•°ã€Symbol ç­‰ã€‚</li>
<li><strong>å­˜å‚¨å®¹é‡</strong>ï¼š<code>localStorage</code>Â é€šå¸¸é™åˆ¶ä¸º 5MBï¼Œé€‚åˆè½»é‡çº§æ•°æ®ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…å› çŠ¶æ€å¼•ç”¨å˜åŒ–å¯¼è‡´Â <code>useEffect</code>Â é¢‘ç¹è§¦å‘ï¼ˆå¯é€šè¿‡Â <code>useMemo</code>Â æˆ–æ·±æ¯”è¾ƒä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">âœ… çŠ¶æ€ç®¡ç†çš„æ ¸å¿ƒåŸåˆ™ï¼šå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹æ•°æ®</h3>
<p>ä½ çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼š<strong>å­ç»„ä»¶ä¸å¯ä»¥ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œåªèƒ½â€œæäº¤ä¿®æ”¹è¯·æ±‚â€</strong> ã€‚è¿™æ˜¯ React <strong>å•å‘æ•°æ®æµ</strong>çš„åŸºçŸ³ã€‚</p>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h4>
<ol>
<li><strong>çŠ¶æ€ä¸å¯å˜æ€§ï¼ˆImmutabilityï¼‰</strong><br/>
React è¦æ±‚çŠ¶æ€æ›´æ–°å¿…é¡»é€šè¿‡ <code>setState</code> è¿”å›æ–°å¯¹è±¡ï¼Œè€Œéç›´æ¥ä¿®æ”¹åŸå¯¹è±¡ã€‚è‹¥å­ç»„ä»¶ç›´æ¥æ“ä½œ <code>props.todos.push(...)</code>ï¼Œæ—¢è¿åæ­¤åŸåˆ™ï¼Œä¹Ÿæ— æ³•è§¦å‘é‡æ¸²æŸ“ã€‚</li>
<li><strong>çŠ¶æ€å˜æ›´å¯è¿½æº¯</strong><br/>
æ‰€æœ‰ä¿®æ”¹é€»è¾‘é›†ä¸­åœ¨çˆ¶ç»„ä»¶ï¼ˆå¦‚ <code>addTodo</code>, <code>deleteTodo</code>ï¼‰ï¼Œä¾¿äºè°ƒè¯•ã€æµ‹è¯•å’Œç»´æŠ¤ã€‚</li>
<li><strong>è§£è€¦ä¸å¤ç”¨</strong><br/>
å­ç»„ä»¶åªéœ€å…³å¿ƒâ€œä½•æ—¶è§¦å‘â€ï¼Œæ— éœ€å…³å¿ƒâ€œå¦‚ä½•ä¿®æ”¹â€ï¼Œé™ä½è€¦åˆåº¦ã€‚</li>
</ol>
<h4 data-id="heading-5">å·¥ä½œæµç¨‹æ¯”å–»</h4>
<ul>
<li><strong>çˆ¶ç»„ä»¶ = ä»“åº“ç®¡ç†å‘˜</strong><br/>
æŒæœ‰ <code>todos</code>ï¼ˆè´§ç‰©æ¸…å•ï¼‰ï¼ŒæŒæ¡æ‰€æœ‰æ“ä½œæƒé™ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ï¼Œå¹¶è´Ÿè´£åŒæ­¥åˆ° <code>localStorage</code>ï¼ˆçº¸è´¨å°è´¦ï¼‰ã€‚</li>
<li><strong>å­ç»„ä»¶ = å‰å°æ¥å¾…å‘˜</strong><br/>
æ— æƒç›´æ¥æ“ä½œä»“åº“ï¼Œåªè´Ÿè´£æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤ï¼ˆç‚¹å‡»æŒ‰é’®ï¼‰ï¼Œå¹¶é€šè¿‡é¢„è®¾çš„â€œçƒ­çº¿ç”µè¯â€ï¼ˆå›è°ƒå‡½æ•°å¦‚ <code>onAdd</code>ï¼‰å°†è¯·æ±‚è½¬è¾¾ç»™ç®¡ç†å‘˜ã€‚</li>
<li><strong>æµç¨‹</strong>ï¼š<br/>
ç”¨æˆ·æ“ä½œ â†’ å­ç»„ä»¶è°ƒç”¨å›è°ƒ â†’ çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€ â†’ è§¦å‘é‡æ¸²æŸ“ + åŒæ­¥æœ¬åœ°å­˜å‚¨ â†’ å­ç»„ä»¶æ¥æ”¶æ–° <code>props</code> å¹¶æ›´æ–°è§†å›¾ã€‚</li>
</ul>
<blockquote>
<p>âœ… è¿™ç§è®¾è®¡è®©æ•´ä¸ªåº”ç”¨<strong>çŠ¶æ€æ¸…æ™°ã€é€»è¾‘é›†ä¸­ã€æ˜“äºæ‰©å±•</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ğŸ“ å­ç»„ä»¶ 1ï¼š<code>TodoInput</code>Â â€”â€” è¾“å…¥æ–°ä»»åŠ¡</h2>
<pre><code class="hljs language-javascript" lang="javascript">jsx
ç¼–è¾‘
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoInput</span> = (<span class="hljs-params">{ onAdd }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [inputValue, setInputValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">e</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">// é˜»æ­¢è¡¨å•é»˜è®¤æäº¤ï¼ˆé¡µé¢åˆ·æ–°ï¼‰</span>
    <span class="hljs-title function_">onAdd</span>(inputValue)
    <span class="hljs-title function_">setInputValue</span>(<span class="hljs-string">''</span>) <span class="hljs-comment">// æ¸…ç©ºè¾“å…¥æ¡†</span>
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-input"</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{inputValue}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setInputValue(e.target.value)}
        placeholder="What needs to be done?"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">TodoInput</span>
</code></pre>
<h3 data-id="heading-7">ğŸ” æ·±å…¥ç†è§£ä¸¤ä¸ªæ ¸å¿ƒæœºåˆ¶</h3>
<h4 data-id="heading-8">1. ä¸ºä»€ä¹ˆéœ€è¦Â <code>e.preventDefault()</code>ï¼Ÿ</h4>
<ul>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼š<code>&lt;form&gt;</code>Â æäº¤ä¼šè§¦å‘æµè§ˆå™¨<strong>é»˜è®¤è¡Œä¸ºâ€”â€”åˆ·æ–°é¡µé¢</strong>ã€‚</li>
<li>è‹¥ä¸é˜»æ­¢ï¼Œåˆšæ·»åŠ çš„ todo ä¼šå› é¡µé¢åˆ·æ–°è€Œä¸¢å¤±ã€‚</li>
<li><strong>å…³é”®åŸåˆ™</strong>ï¼š<code>e.preventDefault()</code>Â çš„ä½¿ç”¨<strong>å–å†³äºäº‹ä»¶æ˜¯å¦æœ‰é»˜è®¤è¡Œä¸º</strong>ï¼Œä¸â€œæ˜¯å¦æ˜¯æ·»åŠ æ“ä½œâ€æ— å…³ã€‚</li>
</ul>
<p>âœ… <strong>ä¸éœ€è¦ <code>preventDefault</code> çš„æ·»åŠ åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">jsx
ç¼–è¾‘
// æŒ‰é’®ç‚¹å‡»ï¼ˆæ— é»˜è®¤è¡Œä¸ºï¼‰
&lt;button <span class="hljs-attr">onClick</span>={() =&gt; { <span class="hljs-literal">on</span>Add(text)<span class="hljs-comment">; }}&gt;æ·»åŠ &lt;/button&gt;</span>

// è¾“å…¥æ¡†å›è½¦ç›‘å¬ï¼ˆéè¡¨å•æäº¤ï¼‰
&lt;input <span class="hljs-attr">onKeyDown</span>={(e) =&gt; {
  if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">'Enter'</span>) <span class="hljs-literal">on</span>Add(inputValue)<span class="hljs-comment">;</span>
}} /&gt;
</code></pre>
<h4 data-id="heading-9">2. ä¸ºä»€ä¹ˆÂ <code>setInputValue('')</code>Â èƒ½æ¸…ç©ºè¾“å…¥æ¡†ï¼Ÿ</h4>
<p>å› ä¸ºè¿™æ˜¯ <strong>å—æ§ç»„ä»¶ï¼ˆControlled Componentï¼‰</strong> ï¼š</p>
<ul>
<li><code>value={inputValue}</code>ï¼šè¾“å…¥æ¡†æ˜¾ç¤ºç”± React çŠ¶æ€é©±åŠ¨ã€‚</li>
<li><code>onChange</code>ï¼šç”¨æˆ·è¾“å…¥æ—¶åŒæ­¥æ›´æ–°çŠ¶æ€ã€‚</li>
<li>æ‰§è¡ŒÂ <code>setInputValue('')</code>Â â†’ çŠ¶æ€å˜ç©º â†’ ç»„ä»¶é‡æ¸²æŸ“ â†’ è¾“å…¥æ¡†æ˜¾ç¤ºä¸ºç©ºã€‚</li>
</ul>
<blockquote>
<p>âŒ éå—æ§ç»„ä»¶ï¼ˆç”¨ <code>ref</code>ï¼‰æ— æ³•é€šè¿‡æ­¤æ–¹å¼æ¸…ç©ºï¼Œéœ€ç›´æ¥æ“ä½œ DOMã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">ğŸ“‹ å­ç»„ä»¶ 2ï¼š<code>TodoList</code>Â â€”â€” æ¸²æŸ“ä»»åŠ¡é¡¹</h2>
<pre><code class="hljs language-ini" lang="ini">jsx
ç¼–è¾‘
const <span class="hljs-attr">TodoList</span> = ({ todos, <span class="hljs-literal">on</span>Delete, <span class="hljs-literal">on</span>Toggle }) =&gt; {
  return (
    &lt;ul <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-list"</span>&gt;
      {<span class="hljs-attr">todos.length</span> === <span class="hljs-number">0</span> ? (
        &lt;li&gt;&lt;p <span class="hljs-attr">className</span>=<span class="hljs-string">"empty"</span>&gt;<span class="hljs-literal">No</span> todos, yet!&lt;/p&gt;&lt;/li&gt;
      ) : (
        todos.map(<span class="hljs-attr">todo</span> =&gt; (
          &lt;li 
            <span class="hljs-attr">key</span>={todo.id} 
            <span class="hljs-attr">className</span>={todo.completed ? <span class="hljs-string">'completed'</span> : <span class="hljs-string">''</span>}
          &gt;
            &lt;label&gt;
              &lt;input 
                <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> 
                <span class="hljs-attr">checked</span>={todo.completed}
                <span class="hljs-attr">onChange</span>={() =&gt; <span class="hljs-literal">on</span>Toggle(todo.id)}
              /&gt;
              &lt;span&gt;{todo.text}&lt;/span&gt;
            &lt;/label&gt;
            &lt;button <span class="hljs-attr">onClick</span>={() =&gt; <span class="hljs-literal">on</span>Delete(todo.id)}&gt;Ã—&lt;/button&gt;
          &lt;/li&gt;
        ))
      )}
    &lt;/ul&gt;
  )
}

export default TodoList
</code></pre>
<h3 data-id="heading-11">ğŸ” åˆ é™¤é€»è¾‘æ·±åº¦è§£æ</h3>
<h4 data-id="heading-12">1.Â <code>filter</code>Â å¦‚ä½•å®ç°â€œåˆ é™¤â€ï¼Ÿ</h4>
<ul>
<li><code>filter</code>Â è¿”å›æ–°æ•°ç»„ï¼Œä¿ç•™Â <code>todo.id !== id</code>Â çš„é¡¹ã€‚</li>
<li>ç›®æ ‡é¡¹å› Â <code>id</code>Â ç›¸ç­‰è¢«è¿‡æ»¤æ‰ â†’ é—´æ¥å®ç°åˆ é™¤ã€‚</li>
<li>ç¬¦åˆ ReactÂ <strong>ä¸å¯å˜æ›´æ–°</strong>åŸåˆ™ã€‚</li>
</ul>
<h4 data-id="heading-13">2. ä¸ºä»€ä¹ˆä¾èµ–Â <code>id</code>Â çš„å”¯ä¸€æ€§ï¼Ÿ</h4>
<ul>
<li><code>id: Date.now()</code>Â <strong>ä»…åœ¨åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œä½œä¸ºè¯¥ todo çš„æ°¸ä¹…æ ‡è¯†ã€‚</li>
<li>åˆ é™¤æ—¶ä¼ é€’çš„æ˜¯<strong>åŸå§‹ id</strong>ï¼Œä¸æ˜¯å½“å‰æ—¶é—´æˆ³ã€‚</li>
<li>å› æ­¤Â <code>todo.id !== id</code>Â èƒ½ç²¾å‡†åŒ¹é…å”¯ä¸€ç›®æ ‡ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ <strong>é£é™©</strong>ï¼šè‹¥å¤šä¸ª todo å…±äº«ç›¸åŒ idï¼Œä¼šå¯¼è‡´è¯¯åˆ ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨ <code>uuid</code>ã€‚</p>
</blockquote>
<h4 data-id="heading-14">3. â€œå”¯ä¸€ idâ€ ä¸ â€œid ä¸åŒâ€ æ˜¯å¦çŸ›ç›¾ï¼Ÿ</h4>
<p><strong>ä¸çŸ›ç›¾ï¼</strong></p>
<ul>
<li><strong>å”¯ä¸€ id</strong>ï¼šç¡®ä¿æ¯ä¸ª todo æœ‰å”¯ä¸€èº«ä»½ï¼ˆç›®æ ‡é¡¹åªæœ‰ä¸€ä¸ªï¼‰ã€‚</li>
<li><strong>id â‰  ç›®æ ‡ id</strong>ï¼šæ˜¯Â <code>filter</code>Â çš„ç­›é€‰æ¡ä»¶ï¼ˆä¿ç•™éç›®æ ‡é¡¹ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ğŸ§© ç±»æ¯”ï¼šä» [å°æ˜(id=1), å°çº¢(id=2)] ä¸­åˆ é™¤å°çº¢ â†’ ç­›é€‰â€œid â‰  2â€ â†’ ç»“æœï¼š[å°æ˜]</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">ğŸ“Š å­ç»„ä»¶ 3ï¼š<code>TodoStats</code>Â â€”â€” æ˜¾ç¤ºç»Ÿè®¡ &amp; æ¸…é™¤æ“ä½œ</h2>
<pre><code class="hljs language-javascript" lang="javascript">jsx
ç¼–è¾‘
<span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoStats</span> = (<span class="hljs-params">{ total, active, completed, onClearCompleted }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-stats"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Total: {total} | Active: {active} | Completed: {completed}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      {completed &gt; 0 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClearCompleted}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"clear-btn"</span>&gt;</span>
          Clear Completed
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">TodoStats</span>
</code></pre>
<blockquote>
<p>âœ… æ¡ä»¶æ¸²æŸ“æå‡ç”¨æˆ·ä½“éªŒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-16">ğŸ” ç»„ä»¶é€šä¿¡æœºåˆ¶æ€»ç»“</h2>





















<table><thead><tr><th>é€šä¿¡æ–¹å‘</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td>çˆ¶ â†’ å­</td><td><code>props</code>Â ä¼ é€’æ•°æ®</td></tr><tr><td>å­ â†’ çˆ¶</td><td><code>props</code>Â ä¼ é€’å›è°ƒå‡½æ•°</td></tr><tr><td>å…„å¼Ÿç»„ä»¶</td><td>é€šè¿‡çˆ¶ç»„ä»¶çŠ¶æ€ä¸­è½¬</td></tr></tbody></table>
<blockquote>
<p>æ ¸å¿ƒï¼š<strong>æ•°æ®è‡ªä¸Šè€Œä¸‹ï¼Œäº‹ä»¶è‡ªä¸‹è€Œä¸Š</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-17">ğŸ§ª æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>çŠ¶æ€ä¸å¯å˜æ€§</strong>ï¼šå§‹ç»ˆè¿”å›æ–°æ•°ç»„/å¯¹è±¡ã€‚</li>
<li><strong>ID ç”Ÿæˆå¯é æ€§</strong>ï¼šé«˜é¢‘åœºæ™¯ç”¨Â <code>uuid</code>Â æ›¿ä»£Â <code>Date.now()</code>ã€‚</li>
<li><strong>è¡¨å•é˜²ç©ºæäº¤</strong>ï¼š<code>disabled={!inputValue.trim()}</code></li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š<code>React.memo</code>Â +Â <code>useCallback</code>ï¼ˆæŒ‰éœ€ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-18">ğŸ” æ‹“å±•æ€è€ƒï¼šçŠ¶æ€ç®¡ç†æ–¹æ¡ˆå¯¹æ¯”</h2>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>çŠ¶æ€æå‡</strong></td><td>å°å‹åº”ç”¨</td><td>âœ… ç®€å•ï¼›âŒ çŠ¶æ€é›†ä¸­</td></tr><tr><td><strong>Context</strong></td><td>è·¨å¤šå±‚ç»„ä»¶</td><td>âœ… é¿å… props drillingï¼›âŒ æ›´æ–°ç²’åº¦ç²—</td></tr><tr><td><strong>Zustand/Redux</strong></td><td>å¤§å‹åº”ç”¨</td><td>âœ… å¼ºå¤§ï¼›âŒ æˆæœ¬é«˜</td></tr></tbody></table>
<blockquote>
<p>âœ… Todo åº”ç”¨ï¼šçŠ¶æ€æå‡ + localStorage æœ€ä½³ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-19">âœ… æ€»ç»“è¦ç‚¹</h2>
<ul>
<li>âœ…Â <strong>æœ¬åœ°å­˜å‚¨ = åˆå§‹åŒ–è¯»å– + å˜åŒ–æ—¶å†™å…¥</strong>ï¼Œç¼ºä¸€ä¸å¯ã€‚</li>
<li>âœ…Â <strong><code>e.preventDefault()</code></strong> Â ä»…ç”¨äºé˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸ºï¼ˆå¦‚è¡¨å•åˆ·æ–°ï¼‰ã€‚</li>
<li>âœ…Â <strong>å—æ§ç»„ä»¶</strong>Â æ˜¯Â <code>setInputValue('')</code>Â æ¸…ç©ºè¾“å…¥æ¡†çš„æ ¹æœ¬åŸå› ã€‚</li>
<li>âœ…Â <strong><code>filter</code>Â åˆ é™¤</strong>Â ä¾èµ–Â <strong>å”¯ä¸€ä¸”ä¸å˜çš„ ID</strong>ï¼Œæœ¬è´¨æ˜¯â€œä¿ç•™éç›®æ ‡é¡¹â€ã€‚</li>
<li>âœ…Â <strong>å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çŠ¶æ€</strong>ï¼Œåªèƒ½é€šè¿‡å›è°ƒâ€œæäº¤è¯·æ±‚â€ï¼Œçˆ¶ç»„ä»¶ç»Ÿä¸€å¤„ç†ã€‚</li>
<li>âœ…Â <strong>çˆ¶ç»„ä»¶æŒæœ‰çŠ¶æ€</strong>Â æ˜¯å®ç°çŠ¶æ€å…±äº«ä¸æŒä¹…åŒ–çš„ç®€æ´è½½ä½“ï¼Œä½†æ ¸å¿ƒæ˜¯<strong>å®Œæ•´çš„æŒä¹…åŒ–é—­ç¯</strong>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ æ•ˆç‡æš´å¢ï¼Vue.jså¼€å‘å¿…çŸ¥çš„15ä¸ªç¥çº§ææ•ˆå·¥å…·]]></title>    <link>https://juejin.cn/post/7587252766830854186</link>    <guid>https://juejin.cn/post/7587252766830854186</guid>    <pubDate>2025-12-24T09:34:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587252766830854186" data-draft-id="7587238733503676459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ æ•ˆç‡æš´å¢ï¼Vue.jså¼€å‘å¿…çŸ¥çš„15ä¸ªç¥çº§ææ•ˆå·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T09:34:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mr_chiu"/> <meta itemprop="url" content="https://juejin.cn/user/1644525124592974"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ æ•ˆç‡æš´å¢ï¼Vue.jså¼€å‘å¿…çŸ¥çš„15ä¸ªç¥çº§ææ•ˆå·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1644525124592974/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mr_chiu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:34:50.000Z" title="Wed Dec 24 2025 09:34:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‘Šåˆ«996ï¼Œä»å–„ç”¨å·¥å…·å¼€å§‹</p>
</blockquote>
<h2 data-id="heading-0">å¼€ç¯‡ï¼šé‚£äº›å¹´æˆ‘ä»¬æµªè´¹çš„æ—¶é—´</h2>
<p>ä½œä¸ºä¸€åæœ‰äº”å¹´ç»éªŒçš„Vueå·¥ç¨‹å¸ˆï¼Œæˆ‘æ›¾æ— æ•°æ¬¡åœ¨é‡å¤åŠ³åŠ¨ä¸­æŒ£æ‰ï¼šæ‰‹åŠ¨å¤åˆ¶ç›¸ä¼¼çš„ç»„ä»¶ä»£ç ã€åœ¨æµè§ˆå™¨å’Œç¼–è¾‘å™¨ä¹‹é—´åå¤åˆ‡æ¢è°ƒè¯•ã€ä¸ºé¡¹ç›®åˆå§‹åŒ–é…ç½®èŠ±è´¹åŠå¤©æ—¶é—´â€¦â€¦ç›´åˆ°æˆ‘å¼€å§‹ç³»ç»Ÿæ€§åœ°æ”¶é›†å’Œæ•´åˆææ•ˆå·¥å…·ï¼Œæˆ‘çš„å¼€å‘æ•ˆç‡æ‰æœ‰äº†è´¨çš„é£è·ƒã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘åˆ†äº«çš„è¿™äº›å·¥å…·ï¼Œæ˜¯æˆ‘ä»æ— æ•°å·¥å…·ä¸­ç­›é€‰å‡ºçš„ç²¾åï¼Œæ¯ä¸ªéƒ½åœ¨æˆ‘çš„æ—¥å¸¸Vueå¼€å‘å·¥ä½œä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€è„šæ‰‹æ¶ä¸é¡¹ç›®å¯åŠ¨å·¥å…·</h2>
<h3 data-id="heading-2">1. <strong>Plop.js + Vueæ¨¡æ¿ - ä»£ç ç”Ÿæˆå™¨ä¸­çš„ç‘å£«å†›åˆ€</strong></h3>
<p>Plop.js æ˜¯æˆ‘Vueé¡¹ç›®ä¸­çš„æ ‡é…ã€‚å®ƒåŸºäºæ¨¡æ¿å¿«é€Ÿç”Ÿæˆç»„ä»¶ã€é¡µé¢æˆ–æ¨¡å—ï¼Œç¡®ä¿å›¢é˜Ÿä»£ç ä¸€è‡´æ€§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// plopfile.js é…ç½®ç¤ºä¾‹ - Vueç‰ˆæœ¬</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">plop</span>) {
  plop.<span class="hljs-title function_">setGenerator</span>(<span class="hljs-string">'component'</span>, {
    <span class="hljs-attr">description</span>: <span class="hljs-string">'åˆ›å»ºä¸€ä¸ªVueç»„ä»¶'</span>,
    <span class="hljs-attr">prompts</span>: [{
      <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'name'</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'ç»„ä»¶åç§°ï¼ˆä½¿ç”¨å¤§é©¼å³°å‘½åï¼‰:'</span>
    }],
    <span class="hljs-attr">actions</span>: [{
      <span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>,
      <span class="hljs-attr">path</span>: <span class="hljs-string">'src/components/{{properCase name}}/{{properCase name}}.vue'</span>,
      <span class="hljs-attr">templateFile</span>: <span class="hljs-string">'templates/component.hbs'</span>
    }, {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>,
      <span class="hljs-attr">path</span>: <span class="hljs-string">'src/components/{{properCase name}}/index.js'</span>,
      <span class="hljs-attr">templateFile</span>: <span class="hljs-string">'templates/index.hbs'</span>
    }]
  });
};

<span class="hljs-comment">// component.hbs æ¨¡æ¿ç¤ºä¾‹</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"{{kebabCase name}}"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç»„ä»¶å†…å®¹ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineProps</span>({
  <span class="hljs-comment">// propså®šä¹‰</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
.{{kebabCase name}} {
  <span class="hljs-comment">/* æ ·å¼ */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼šPlopä½¿ç”¨Handlebarsæ¨¡æ¿å¼•æ“ï¼Œç»“åˆInquirer.jså®ç°äº¤äº’å¼ç”Ÿæˆã€‚æˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒç±»å‹çš„Vueç»„ä»¶ï¼ˆå¦‚ç»„ä»¶ã€é¡µé¢ã€ç»„åˆå¼å‡½æ•°ï¼‰é¢„è®¾ä¸åŒçš„æ¨¡æ¿ã€‚</p>
<h3 data-id="heading-3">2. <strong>Vite + Vue 3 - æ–°ä¸€ä»£Vueæ„å»ºä½“éªŒ</strong></h3>
<p>Viteçš„é—ªç”µèˆ¬çš„çƒ­æ›´æ–°é€Ÿåº¦ï¼Œè®©Vueå¼€å‘ä½“éªŒè¾¾åˆ°äº†æ–°é«˜åº¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºVueé¡¹ç›®</span>
npm create vue@latest my-vue-app

<span class="hljs-comment"># é€‰æ‹©éœ€è¦çš„ç‰¹æ€§</span>
<span class="hljs-comment"># âˆš æ˜¯å¦ä½¿ç”¨ TypeScript? Yes</span>
<span class="hljs-comment"># âˆš æ˜¯å¦å¯ç”¨ JSX æ”¯æŒ? Yes  </span>
<span class="hljs-comment"># âˆš æ˜¯å¦æ·»åŠ  Vue Router? Yes</span>
<span class="hljs-comment"># âˆš æ˜¯å¦æ·»åŠ  Pinia? Yes</span>
<span class="hljs-comment"># âˆš æ˜¯å¦æ·»åŠ  Vitest? Yes</span>

<span class="hljs-comment"># å¼€å‘æ¨¡å¼å¯åŠ¨ï¼ˆæ¯«ç§’çº§ï¼‰</span>
npm run dev
</code></pre>
<p><strong>æ·±åº¦ä¼˜åŒ–æŠ€å·§</strong>ï¼šé€šè¿‡é…ç½®<code>vite.config.js</code>ä¸­çš„<code>vue</code>æ’ä»¶é€‰é¡¹ï¼Œå¼€å¯å“åº”å¼è¯­æ³•ç³–å’Œæ€§èƒ½ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>({
      <span class="hljs-attr">reactivityTransform</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨å“åº”å¼è¯­æ³•ç³–</span>
      <span class="hljs-attr">template</span>: {
        <span class="hljs-attr">compilerOptions</span>: {
          <span class="hljs-comment">// è‡ªå®šä¹‰ç¼–è¯‘å™¨é€‰é¡¹</span>
        }
      }
    })
  ]
})
</code></pre>
<h2 data-id="heading-4">äºŒã€å¼€å‘ä¸è°ƒè¯•åˆ©å™¨</h2>
<h3 data-id="heading-5">3. <strong>Vue.js devtools 6.0 - Vueå¼€å‘è€…çš„è¶…çº§æ­¦å™¨</strong></h3>
<p>Vue.js devtoolsæ˜¯Vueå¼€å‘è€…ä¸å¯æˆ–ç¼ºçš„è°ƒè¯•å·¥å…·ï¼Œæ–°ç‰ˆæ”¯æŒVue 3å’Œç»„åˆå¼APIï¼š</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li><strong>ç»„ä»¶æ ‘</strong>ï¼šå¯è§†åŒ–æŸ¥çœ‹ç»„ä»¶å±‚çº§å’ŒçŠ¶æ€</li>
<li><strong>æ—¶é—´æ—…è¡Œ</strong>ï¼šè·Ÿè¸ªçŠ¶æ€å˜åŒ–å¹¶å›é€€åˆ°ä»»æ„çŠ¶æ€</li>
<li><strong>ç»„åˆå¼å‡½æ•°è°ƒè¯•</strong>ï¼šç›‘æ§<code>ref</code>ã€<code>reactive</code>ã€<code>computed</code>ç­‰å“åº”å¼æ•°æ®</li>
<li><strong>è·¯ç”±è°ƒè¯•</strong>ï¼šVue Routerçš„çŠ¶æ€å’Œå¯¼èˆªå†å²</li>
<li><strong>Piniaé›†æˆ</strong>ï¼šç›´æ¥æŸ¥çœ‹å’Œä¿®æ”¹Pinia storeçŠ¶æ€</li>
</ul>
<p><strong>é«˜çº§æŠ€å·§</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨"Open in editor"åŠŸèƒ½å¿«é€Ÿå®šä½ç»„ä»¶æºç </li>
<li>é€šè¿‡æ—¶é—´è½´åŠŸèƒ½åˆ†æç»„ä»¶æ›´æ–°æ€§èƒ½</li>
<li>è‡ªå®šä¹‰é¢æ¿æ‰©å±•ï¼Œå¦‚VueUseçŠ¶æ€ç›‘æ§</li>
</ul>
<h3 data-id="heading-6">4. <strong>Volar + TypeScript - æ™ºèƒ½Vueå¼€å‘ä½“éªŒ</strong></h3>
<p>Volaræ˜¯Vue 3å®˜æ–¹æ¨èçš„VSCodeæ’ä»¶ï¼Œæä¾›æè‡´çš„TypeScriptæ”¯æŒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®Œæ•´çš„TypeScriptæ™ºèƒ½æç¤º</span>
&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// ç±»å‹æ¨æ–­å’Œè‡ªåŠ¨è¡¥å…¨</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// ç±»å‹ä¸ºRef&lt;number&gt;</span>

<span class="hljs-comment">// Propsç±»å‹æ£€æŸ¥</span>
defineProps&lt;{
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>
  value?: <span class="hljs-built_in">number</span>
}&gt;()

<span class="hljs-comment">// äº‹ä»¶ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">const</span> emit = defineEmits&lt;{
  (<span class="hljs-attr">e</span>: <span class="hljs-string">'update'</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span>
  (<span class="hljs-attr">e</span>: <span class="hljs-string">'change'</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>
}&gt;()
&lt;/script&gt;
</code></pre>
<p><strong>é…ç½®ä¼˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// .vscode/settings.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"volar.tsPlugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"volar.completion.preferredTagNameCase"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pascal"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"volar.autoCompleteRefs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"volar.codeLens.scriptSetupTools"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ä»£ç è´¨é‡ä¸è‡ªåŠ¨åŒ–</h2>
<h3 data-id="heading-8">5. <strong>Vue ESLintæ’ä»¶ + lint-staged - Vueä»£ç è´¨é‡å«å£«</strong></h3>
<p>é’ˆå¯¹Vueçš„ä¸“é—¨åŒ–ä»£ç æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// .eslintrc.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">extends</span>: [
    <span class="hljs-string">'plugin:vue/vue3-recommended'</span>,
    <span class="hljs-string">'@vue/typescript/recommended'</span>
  ],
  <span class="hljs-attr">rules</span>: {
    <span class="hljs-string">'vue/multi-word-component-names'</span>: <span class="hljs-string">'off'</span>,
    <span class="hljs-string">'vue/no-v-html'</span>: <span class="hljs-string">'warn'</span>,
    <span class="hljs-string">'vue/component-tags-order'</span>: [<span class="hljs-string">'error'</span>, {
      <span class="hljs-attr">order</span>: [<span class="hljs-string">'script'</span>, <span class="hljs-string">'template'</span>, <span class="hljs-string">'style'</span>]
    }]
  }
}

<span class="hljs-comment">// ç»“åˆHuskyå’Œlint-staged</span>
{
  <span class="hljs-string">"husky"</span>: {
    <span class="hljs-string">"hooks"</span>: {
      <span class="hljs-string">"pre-commit"</span>: <span class="hljs-string">"lint-staged"</span>,
      <span class="hljs-string">"commit-msg"</span>: <span class="hljs-string">"commitlint -E HUSKY_GIT_PARAMS"</span>
    }
  },
  <span class="hljs-string">"lint-staged"</span>: {
    <span class="hljs-string">"*.{vue,js,jsx,ts,tsx}"</span>: [
      <span class="hljs-string">"eslint --fix"</span>,
      <span class="hljs-string">"prettier --write"</span>
    ]
  }
}
</code></pre>
<h3 data-id="heading-9">6. <strong>Vue Test Utils + Vitest - ç°ä»£åŒ–Vueæµ‹è¯•æ–¹æ¡ˆ</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Component.test.ts</span>
<span class="hljs-keyword">import</span> { mount } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> { describe, it, expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vitest'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Counter.vue'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'Counter.vue'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'renders correctly'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">Counter</span>, {
      <span class="hljs-attr">props</span>: { <span class="hljs-attr">initialValue</span>: <span class="hljs-number">5</span> }
    })
    
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'5'</span>)
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">'button'</span>).<span class="hljs-title function_">exists</span>()).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
  })
  
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'increments count on button click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">Counter</span>)
    <span class="hljs-keyword">await</span> wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">'button'</span>).<span class="hljs-title function_">trigger</span>(<span class="hljs-string">'click'</span>)
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'1'</span>)
  })
})
</code></pre>
<h2 data-id="heading-10">å››ã€APIä¸æ•°æ®æ¨¡æ‹Ÿ</h2>
<h3 data-id="heading-11">7. <strong>Mirage JS - Vueåº”ç”¨çš„å…¨åŠŸèƒ½APIæ¨¡æ‹Ÿ</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨Vueåº”ç”¨ä¸­é…ç½®Mirage</span>
<span class="hljs-keyword">import</span> { createServer } <span class="hljs-keyword">from</span> <span class="hljs-string">'miragejs'</span>

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>) {
  <span class="hljs-title function_">createServer</span>({
    <span class="hljs-title function_">routes</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">namespace</span> = <span class="hljs-string">'api'</span>
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/users'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> [
          { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç”¨æˆ·1'</span> },
          { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç”¨æˆ·2'</span> }
        ]
      })
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/users'</span>, <span class="hljs-function">(<span class="hljs-params">schema, request</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> attrs = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(request.<span class="hljs-property">requestBody</span>)
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, ...attrs }
      })
    }
  })
}
</code></pre>
<h2 data-id="heading-12">äº”ã€è§†è§‰ä¸è®¾è®¡åä½œ</h2>
<h3 data-id="heading-13">8. <strong>Vue Figmaæ’ä»¶ + Vue Design System</strong></h3>
<p>å¯¹äºè®¾è®¡ç¨¿è½¬Vueä»£ç çš„å®Œæ•´æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨Vue Design System</span>
<span class="hljs-keyword">import</span> { defineComponent, h } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { 
  <span class="hljs-title class_">VButton</span>, 
  <span class="hljs-title class_">VInput</span>, 
  <span class="hljs-title class_">VCard</span>,
  tokens 
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-design-system'</span>

<span class="hljs-comment">// ä»Figmaæ’ä»¶å¯¼å‡ºçš„è®¾è®¡Token</span>
<span class="hljs-keyword">const</span> figmaTokens = {
  <span class="hljs-attr">colors</span>: {
    <span class="hljs-attr">primary</span>: <span class="hljs-string">'#007AFF'</span>,
    <span class="hljs-attr">secondary</span>: <span class="hljs-string">'#5856D6'</span>
  },
  <span class="hljs-attr">spacing</span>: {
    <span class="hljs-attr">xs</span>: <span class="hljs-string">'4px'</span>,
    <span class="hljs-attr">sm</span>: <span class="hljs-string">'8px'</span>,
    <span class="hljs-attr">md</span>: <span class="hljs-string">'16px'</span>
  }
}

<span class="hljs-comment">// è‡ªåŠ¨ç”ŸæˆVueç»„ä»¶é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> designSystem = {
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">VButton</span>,
    <span class="hljs-title class_">VInput</span>,
    <span class="hljs-title class_">VCard</span>
  },
  <span class="hljs-attr">tokens</span>: { ...tokens, ...figmaTokens }
}
</code></pre>
<h2 data-id="heading-14">å…­ã€æ–‡æ¡£ä¸ç»„ä»¶ç®¡ç†</h2>
<h3 data-id="heading-15">9. <strong>VitePress + Vue Demoblock - ç»„ä»¶æ–‡æ¡£è‡ªåŠ¨åŒ–</strong></h3>
<p>åŸºäºVitePressçš„Vueç»„ä»¶æ–‡æ¡£æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
<span class="hljs-section">title: Buttonç»„ä»¶
---</span>

<span class="hljs-section"># Button</span>

é€šç”¨çš„æŒ‰é’®ç»„ä»¶

<span class="hljs-section">## åŸºç¡€ç”¨æ³•</span>

:::demo
<span class="hljs-code">```vue
&lt;template&gt;
  &lt;v-button type="primary"&gt;ä¸»è¦æŒ‰é’®&lt;/v-button&gt;
&lt;/template&gt;
</span></code></pre>
<p>:::</p>
<h2 data-id="heading-16">API</h2>

```
<p><strong>è‡ªåŠ¨åŒ–è„šæœ¬</strong>ï¼šè‡ªåŠ¨ä»Vueç»„ä»¶ä¸­æå–Propsã€Eventsã€Slotsä¿¡æ¯ç”ŸæˆAPIæ–‡æ¡£ã€‚</p>
<h2 data-id="heading-17">ä¸ƒã€ç»ˆç«¯ä¸å·¥ä½œæµä¼˜åŒ–</h2>
<h3 data-id="heading-18">10. <strong>Vue CLIæ’ä»¶å¼€å‘ - è‡ªå®šä¹‰é¡¹ç›®ç”Ÿæˆå™¨</strong></h3>
<p>åˆ›å»ºè‡ªå·±çš„Vueé¡¹ç›®æ¨¡æ¿å’Œç”Ÿæˆå™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// generator.js - è‡ªå®šä¹‰Vue CLIæ’ä»¶</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-function">(<span class="hljs-params">api, options</span>) =&gt;</span> {
  api.<span class="hljs-title function_">render</span>(<span class="hljs-string">'./template'</span>)
  
  api.<span class="hljs-title function_">extendPackage</span>({
    <span class="hljs-attr">dependencies</span>: {
      <span class="hljs-string">'pinia'</span>: <span class="hljs-string">'^2.0.0'</span>,
      <span class="hljs-string">'vue-router'</span>: <span class="hljs-string">'^4.0.0'</span>
    },
    <span class="hljs-attr">scripts</span>: {
      <span class="hljs-string">'analyze'</span>: <span class="hljs-string">'vue-cli-service build --report'</span>
    }
  })
  
  api.<span class="hljs-title function_">injectImports</span>(api.<span class="hljs-property">entryFile</span>, <span class="hljs-string">`import router from './router'`</span>)
  api.<span class="hljs-title function_">afterInvoke</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç”Ÿæˆåå¤„ç†é€»è¾‘</span>
  })
}
</code></pre>
<h3 data-id="heading-19">11. <strong>VueUse - ç»„åˆå¼å‡½æ•°å·¥å…·é›†</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨VueUseæå‡å¼€å‘æ•ˆç‡</span>
<span class="hljs-keyword">import</span> { 
  useMouse, 
  useLocalStorage, 
  useFetch,
  useDebounceFn
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@vueuse/core'</span>

<span class="hljs-comment">// åœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useUserData</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è‡ªåŠ¨æŒä¹…åŒ–çš„çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useLocalStorage</span>(<span class="hljs-string">'user'</span>, <span class="hljs-literal">null</span>)
  
  <span class="hljs-comment">// é˜²æŠ–è¯·æ±‚</span>
  <span class="hljs-keyword">const</span> { data, error } = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">'/api/user'</span>)
    .<span class="hljs-title function_">debounced</span>(<span class="hljs-number">300</span>)
  
  <span class="hljs-keyword">return</span> { user, data, error }
}
</code></pre>
<h2 data-id="heading-20">å…«ã€æµè§ˆå™¨æ‰©å±•å®è—</h2>
<h3 data-id="heading-21">12. <strong>Vue.js devtools 6.0ï¼ˆæµè§ˆå™¨æ‰©å±•ï¼‰</strong></h3>
<p>å‰é¢æåˆ°çš„Vue devtoolsçš„æµè§ˆå™¨æ‰©å±•ç‰ˆæœ¬ï¼Œæ”¯æŒChromeã€Firefoxã€Edgeç­‰ä¸»æµæµè§ˆå™¨ã€‚</p>
<h3 data-id="heading-22">13. <strong>Vue Metaè°ƒè¯•å™¨ - SEOå’Œç®¡ç†å·¥å…·</strong></h3>
<p>å¯¹äºä½¿ç”¨Vue Metaçš„åº”ç”¨ï¼Œè¿™æ¬¾æ‰©å±•å¯ä»¥å®æ—¶æŸ¥çœ‹å’Œä¿®æ”¹é¡µé¢å…ƒä¿¡æ¯ã€‚</p>
<h2 data-id="heading-23">ä¹ã€é«˜çº§ä»£ç æœç´¢ä¸å¯¼èˆª</h2>
<h3 data-id="heading-24">14. <strong>Vue Language Tools + TypeScript - æ™ºèƒ½ä»£ç å¯¼èˆª</strong></h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// tsconfig.json ä¼˜åŒ–é…ç½®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"vueCompilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"@vue/language-plugin-pug"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"experimentalRuntimeMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"runtime-agnostic"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"experimentalTemplateCompilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"isCustomElement"</span><span class="hljs-punctuation">:</span> tag =&gt; tag.startsWith('x-')
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-25">15. <strong>StackBlitz Vueé¡¹ç›® - äº‘ç«¯Vueå¼€å‘ç¯å¢ƒ</strong></h3>
<p>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å®Œæ•´Vueå¼€å‘ç¯å¢ƒï¼š</p>
<ul>
<li>æ”¯æŒVite + Vue 3 + TypeScript</li>
<li>GitHubå®æ—¶åŒæ­¥</li>
<li>å®æ—¶åä½œåŠŸèƒ½</li>
<li>è‡ªå®šä¹‰æ¨¡æ¿åˆ†äº«</li>
</ul>
<h2 data-id="heading-26">åã€æ€§èƒ½åˆ†æä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-27">16. <strong>Vue Performance Devtool - ç»„ä»¶æ€§èƒ½åˆ†æ</strong></h3>
<p>ä¸“é—¨é’ˆå¯¹Vueåº”ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®‰è£…å’Œä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPerformanceMonitor } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-performance-devtool'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>) {
  <span class="hljs-keyword">const</span> monitor = <span class="hljs-title function_">createPerformanceMonitor</span>(app, {
    <span class="hljs-attr">maxComponents</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">trackHooks</span>: <span class="hljs-literal">true</span>
  })
  monitor.<span class="hljs-title function_">start</span>()
}
</code></pre>
<h2 data-id="heading-28">åä¸€ã€çŠ¶æ€ç®¡ç†å¢å¼º</h2>
<h3 data-id="heading-29">17. <strong>Pinia + Pinia Plugin - ç°ä»£åŒ–çŠ¶æ€ç®¡ç†</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨Piniaæ’ä»¶å¢å¼ºå¼€å‘ä½“éªŒ</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { createPersistedState } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia-plugin-persistedstate'</span>

<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
pinia.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPersistedState</span>({
  <span class="hljs-attr">storage</span>: <span class="hljs-variable language_">localStorage</span>,
  <span class="hljs-attr">serializer</span>: {
    <span class="hljs-attr">serialize</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-property">stringify</span>,
    <span class="hljs-attr">deserialize</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-property">parse</span>
  }
}))

<span class="hljs-comment">// è‡ªåŠ¨ç”ŸæˆTypeScriptç±»å‹</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>
  }),
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">displayName</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">name</span> || <span class="hljs-string">'åŒ¿åç”¨æˆ·'</span>
  },
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span>
    }
  }
})
</code></pre>
<h2 data-id="heading-30">æˆ‘çš„Vueå·¥å…·åŒ–å¼€å‘å“²å­¦</h2>
<p>å·¥å…·é€‰æ‹©çš„æ ¸å¿ƒåŸåˆ™ï¼š</p>
<ol>
<li><strong>Vueç”Ÿæ€ä¼˜å…ˆ</strong> - ä¼˜å…ˆé€‰æ‹©ä¸“é—¨ä¸ºVueä¼˜åŒ–çš„å·¥å…·</li>
<li><strong>ç»„åˆå¼APIå…¼å®¹</strong> - ç¡®ä¿å·¥å…·æ”¯æŒVue 3ç»„åˆå¼API</li>
<li><strong>TypeScriptå‹å¥½</strong> - å®Œæ•´çš„ç±»å‹æ”¯æŒæ˜¯å¿…å¤‡æ¡ä»¶</li>
<li><strong>å¼€å‘ä½“éªŒè‡³ä¸Š</strong> - çƒ­æ›´æ–°é€Ÿåº¦ã€æ™ºèƒ½æç¤ºè´¨é‡æ˜¯å…³é”®</li>
</ol>
<h2 data-id="heading-31">å®æˆ˜ï¼šæ­å»ºVueææ•ˆç³»ç»Ÿ</h2>
<p>æˆ‘å»ºè®®çš„é€æ­¥å®æ–½è®¡åˆ’ï¼š</p>
<p><strong>ç¬¬ä¸€å‘¨</strong>ï¼šé…ç½®Volar + TypeScript + Vue ESLintï¼Œå»ºç«‹å¼€å‘åŸºç¡€<br/>
<strong>ç¬¬äºŒå‘¨</strong>ï¼šé›†æˆPinia + Vue Routerï¼Œæ­å»ºçŠ¶æ€ç®¡ç†å’Œè·¯ç”±<br/>
<strong>ç¬¬ä¸‰å‘¨</strong>ï¼šé…ç½®Vitest + Vue Test Utilsï¼Œå»ºç«‹æµ‹è¯•ä½“ç³»<br/>
<strong>ç¬¬å››å‘¨</strong>ï¼šå¼•å…¥VitePress + ç»„ä»¶è‡ªåŠ¨åŒ–æ–‡æ¡£<br/>
<strong>ç¬¬äº”å‘¨</strong>ï¼šæ ¹æ®å›¢é˜Ÿéœ€æ±‚å®šåˆ¶ä»£ç ç”Ÿæˆå™¨å’Œå·¥ä½œæµ</p>
<h2 data-id="heading-32">ç»“è¯­ï¼šVueå·¥å…·é“¾çš„è¿›åŒ–</h2>
<p>ä»Vue 2åˆ°Vue 3ï¼ŒVueçš„å·¥å…·ç”Ÿæ€ç»å†äº†é©å‘½æ€§çš„å˜åŒ–ã€‚ç°ä»£Vueå¼€å‘ä¸å†æ˜¯ç®€å•çš„æ¨¡æ¿ç¼–å†™ï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ç¨‹åŒ–ä½“ç³»ã€‚æŒæ¡è¿™äº›å·¥å…·ï¼Œä¸ä»…èƒ½æå‡å¼€å‘æ•ˆç‡ï¼Œæ›´èƒ½æ·±å…¥ç†è§£Vueçš„è®¾è®¡å“²å­¦å’Œæœ€ä½³å®è·µã€‚</p>
<p>çœŸæ­£çš„é«˜çº§Vueå·¥ç¨‹å¸ˆï¼Œä¸ä»…è¦ä¼šå†™ç»„ä»¶ï¼Œæ›´è¦æ‡‚å¾—å¦‚ä½•åˆ©ç”¨å·¥å…·é“¾æ„å»ºå¯ç»´æŠ¤ã€é«˜æ€§èƒ½ã€å›¢é˜Ÿå‹å¥½çš„Vueåº”ç”¨ã€‚</p>
<hr/>
<p><strong>äº’åŠ¨è¯é¢˜</strong>ï¼šä½ åœ¨Vueå¼€å‘ä¸­æœ‰å“ªäº›ç§è—çš„ææ•ˆå·¥å…·ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«äº¤æµï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµæ”¶è—ï¼Œåç»­æˆ‘ä¼šåˆ†äº«æ›´å¤šVue 3å·¥ç¨‹åŒ–å®è·µå’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åå°æœåŠ¡Serviceé”€æ¯é€»è¾‘+å•ä¾‹é€ æˆçš„å†…å­˜æ³„éœ²]]></title>    <link>https://juejin.cn/post/7586983243926863910</link>    <guid>https://juejin.cn/post/7586983243926863910</guid>    <pubDate>2025-12-24T08:41:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586983243926863910" data-draft-id="7587020682011377691" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åå°æœåŠ¡Serviceé”€æ¯é€»è¾‘+å•ä¾‹é€ æˆçš„å†…å­˜æ³„éœ²"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-24T08:41:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GoldenPlayer"/> <meta itemprop="url" content="https://juejin.cn/user/2999123453948119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åå°æœåŠ¡Serviceé”€æ¯é€»è¾‘+å•ä¾‹é€ æˆçš„å†…å­˜æ³„éœ²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123453948119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GoldenPlayer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T08:41:55.000Z" title="Wed Dec 24 2025 08:41:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ä»½æ€»ç»“å®Œå…¨åŸºäºä½ çš„ <code>GlobalTaskService</code> å’Œ <code>AirIMEngine</code> çš„ç°åœºé—®é¢˜ã€‚æˆ‘ä»¬å°†è¿™ä¸ªé—®é¢˜æ‹†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒç»´åº¦ï¼š<strong>ä¿æ´»æœºåˆ¶å¤±æ•ˆ</strong>ã€<strong>å•ä¾‹å†…å­˜æ³„éœ²</strong>ã€<strong>Android 14 åˆè§„é™·é˜±</strong>ã€‚</p>
<p>ä½ å¯ä»¥æŠŠè¿™ä»½æ€»ç»“ä½œä¸ºåç»­å¼€å‘åå°ç±»åº”ç”¨çš„æŠ€æœ¯å¤‡å¿˜å½•ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ ç°åœºè¿˜åŸï¼šä¸ºä»€ä¹ˆâ€œæ¯å±å³æ­»ï¼Œäº®å±è¯ˆå°¸â€ï¼Ÿ</h3>
<p><strong>ç°è±¡æè¿°ï¼š</strong>
ä½ è§‚å¯Ÿåˆ° <code>GlobalTaskService</code> åœ¨æ¯å±æ—¶æ‰“å° <code>onDestroy</code>ï¼Œäº®å±æ—¶æ‰“å° <code>onCreate</code>ã€‚ç‰¹åˆ«æ˜¯å½“ IM è¿æ¥å»ºç«‹ï¼ˆæŒæœ‰ Socketï¼‰åï¼Œè¿™ç§ç°è±¡æ›´é¢‘ç¹ã€‚</p>
<p><strong>æ ¸å¿ƒåŸå› ï¼šè¿™ä¹Ÿæ˜¯ Android ç³»ç»Ÿçš„â€œæ€æ‰‹â€é€»è¾‘</strong></p>
<ol>
<li><strong>ä¼ªåå°æœåŠ¡</strong>ï¼šä½ çš„ä»£ç ä¸­ <code>startForeground</code> è¢«æ³¨é‡Šæ‰äº†ã€‚å¯¹ç³»ç»Ÿè€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„åå° Serviceã€‚</li>
<li><strong>çœç”µç­–ç•¥ (Doze Mode)</strong>ï¼šå½“å±å¹•å…³é—­ï¼Œç³»ç»Ÿè¿›å…¥æ‰“ç›¹æ¨¡å¼ã€‚ç³»ç»Ÿæ£€æµ‹åˆ°ä½ çš„ App åœ¨åå°è·‘ç€ï¼Œè¿˜æŒæœ‰ä¸€ä¸ªé«˜è€—ç”µçš„ Socket è¿æ¥ï¼ˆIMï¼‰ï¼Œä½†ç”¨æˆ·ç•Œé¢ä¸Šæ²¡æœ‰ä»»ä½•é€šçŸ¥ï¼ˆNotificationï¼‰æ˜¾ç¤ºä½ åœ¨è¿è¡Œã€‚</li>
<li><strong>ç³»ç»Ÿåˆ¤å®š</strong>ï¼šâ€œè¿™ä¸ª App åœ¨å·å·æ‘¸æ‘¸è€—ç”µï¼Œæ€æ‰å®ƒã€‚â€ -&gt; è§¦å‘ <code>onDestroy</code>ã€‚</li>
<li><strong>è¯ˆå°¸é‡å¯</strong>ï¼šå› ä¸ºä½ åœ¨ <code>onStartCommand</code> è¿”å›äº† <code>START_STICKY</code>ã€‚å½“äº®å±ç³»ç»Ÿèµ„æºå®½è£•æ—¶ï¼Œç³»ç»Ÿä¼šå°è¯•é‡å»ºæœåŠ¡ -&gt; è§¦å‘ <code>onCreate</code>ã€‚</li>
</ol>
<p><strong>ç»“è®º</strong>ï¼šä¸è°ƒç”¨ <code>startForeground</code>ï¼ŒService åœ¨ç°ä»£ Android ç³»ç»Ÿä¸­å°±åƒâ€œæ— è¯é©¾é©¶â€ï¼Œéšæ—¶ä¼šè¢«äº¤è­¦ï¼ˆç³»ç»Ÿï¼‰æ‰£è½¦ã€‚</p>
<hr/>
<h3 data-id="heading-1">äºŒã€ éšå½¢æ€æ‰‹ï¼šLambda å¯¼è‡´çš„å†…å­˜æ³„éœ²</h3>
<p><strong>ç°è±¡æè¿°ï¼š</strong>
è™½ç„¶ Service è¢«é”€æ¯é‡å»ºäº†ï¼Œä½†æ—§çš„ Service å°¸ä½“å¹¶æ²¡æœ‰ä»å†…å­˜ä¸­æ¸…é™¤ã€‚</p>
<p><strong>ä»£ç ç°åœºï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// GlobalTaskService.onCreate</span>
AirIMEngine.addMsgObserver { msg, sender -&gt; 
    <span class="hljs-comment">// è¿™ä¸ª Lambda å†…éƒ¨éšå¼æŒæœ‰äº† Service çš„å¼•ç”¨ (this)</span>
    dispatchMsgScene(...) 
}
</code></pre>
<p><strong>æ³„éœ²é€»è¾‘é—­ç¯ï¼š</strong></p>
<ol>
<li><strong>è°æ´»ç€ï¼Ÿ</strong> <code>AirIMEngine</code> æ˜¯ <code>object</code> (å•ä¾‹)ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸ = App è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå®ƒæ°¸è¿œæ´»ç€ï¼‰ã€‚</li>
<li><strong>è°è¢«æŠ“ä½äº†ï¼Ÿ</strong> å½“ä½ æ³¨å†Œ Lambda æ—¶ï¼Œ<code>AirIMEngine</code> é‡Œçš„åˆ—è¡¨ï¼ˆæˆ–å˜é‡ï¼‰å°±å¼•ç”¨äº†è¿™ä¸ª Lambdaã€‚è€Œ Lambda ä¸ºäº†èƒ½è°ƒç”¨ <code>dispatchMsgScene</code>ï¼Œå¿…é¡»æŒæœ‰ <code>GlobalTaskService</code> çš„å®ä¾‹ã€‚</li>
<li><strong>æ‚²å‰§å‘ç”Ÿï¼š</strong>
<ul>
<li>ç¬¬ä¸€æ¬¡ Service å¯åŠ¨ -&gt; <code>AirIMEngine</code> æŠ“ä½ <code>Service_V1</code>ã€‚</li>
<li>æ¯å±ï¼Œç³»ç»Ÿæ€æ‰ Service -&gt; <code>Service_V1</code> èµ° <code>onDestroy</code>ã€‚<strong>ä½†åœ¨å†…å­˜ä¸­ï¼Œå› ä¸º <code>AirIMEngine</code> è¿˜æŠ“ç€å®ƒï¼Œå®ƒæ— æ³•è¢«å›æ”¶ï¼ˆGCï¼‰ã€‚</strong></li>
<li>äº®å±ï¼ŒService é‡å¯ -&gt; åˆ›å»º <code>Service_V2</code>ã€‚</li>
<li><code>Service_V2</code> å†æ¬¡å‘ <code>AirIMEngine</code> æ³¨å†Œã€‚</li>
</ul>
</li>
<li><strong>ç»“æœ</strong>ï¼šå†…å­˜é‡ŒåŒæ—¶å­˜åœ¨ <code>Service_V1</code> (åƒµå°¸) å’Œ <code>Service_V2</code> (æ´»ä½“)ã€‚å¦‚æœä¸æ”¹ï¼Œåœ¨è¿™ä¸ª App çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œåƒµå°¸ä¼šè¶Šå †è¶Šå¤šã€‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒ</strong>ï¼š
ä» Lambda æ”¹ä¸º <strong>æ¥å£ (<code>interface</code>)</strong>ã€‚å› ä¸ºæ¥å£å…è®¸æˆ‘ä»¬æ˜ç¡®åœ°ä¼ å…¥ <code>this</code>ï¼Œä¹Ÿå…è®¸æˆ‘ä»¬åœ¨ <code>onDestroy</code> ä¸­æ˜ç¡®åœ°è°ƒç”¨ <code>removeListener(this)</code>ï¼Œæ‰“æ–­å•ä¾‹å¯¹ Service çš„å¼•ç”¨é“¾ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ åˆè§„é™·é˜±ï¼šAndroid 14 çš„â€œç±»å‹â€å¼ºæ ¡éªŒ</h3>
<p><strong>æ½œåœ¨é£é™©ï¼š</strong>
ä½ çš„ Manifest å£°æ˜äº† <code>foregroundServiceType="phoneCall"</code>ï¼Œè¿™åœ¨ Android 14+ æ˜¯é«˜å±æ“ä½œã€‚</p>
<p><strong>é€»è¾‘å†²çªï¼š</strong></p>
<ol>
<li><strong>åœºæ™¯ Aï¼ˆå¾…æœºï¼‰</strong>ï¼šApp å¯åŠ¨ï¼ŒIM è¿æ¥ä¸­ï¼Œä½†æ²¡æ‰“ç”µè¯ã€‚
<ul>
<li>ç³»ç»Ÿæ£€æŸ¥ï¼šä½ å¯åŠ¨äº†å‰å°æœåŠ¡ï¼Œå£°æ˜æ˜¯ <code>phoneCall</code>ã€‚</li>
<li>ç³»ç»Ÿè´¨é—®ï¼šä½ ç°åœ¨çš„ <code>TelecomManager</code> é‡Œæœ‰é€šè¯ä¼šè¯å—ï¼Ÿ</li>
<li>å›ç­”ï¼šæ²¡æœ‰ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šæŠ›å‡º <code>ForegroundServiceStartNotAllowedException</code> æˆ–ç›´æ¥ Crashã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯ Bï¼ˆé€šè¯ï¼‰</strong>ï¼šApp çœŸçš„åœ¨è‡ªåŠ¨æ‹¨æ‰“ç”µè¯ã€‚
<ul>
<li>æ­¤æ—¶ç”¨ <code>phoneCall</code> æ‰æ˜¯åˆæ³•çš„ã€‚</li>
</ul>
</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
é‡‡ç”¨ <strong>â€œåŒæ¨¡åˆ‡æ¢â€</strong> ç­–ç•¥ã€‚</p>
<ul>
<li><strong>å¾…æœºæ¨¡å¼</strong>ï¼šä½¿ç”¨ <code>dataSync</code> ç±»å‹ï¼ˆæ•°æ®åŒæ­¥ï¼‰ï¼Œå‘Šè¯‰ç³»ç»Ÿæˆ‘åœ¨ç»´æŒ IM è¿æ¥ï¼Œè¿™æ˜¯åˆæ³•çš„åå°è¡Œä¸ºã€‚</li>
<li><strong>é€šè¯æ¨¡å¼</strong>ï¼šæ£€æµ‹åˆ°æ‹¨å·æŒ‡ä»¤åï¼ŒåŠ¨æ€æ›´æ–° Notificationï¼Œå°†ç±»å‹åˆ‡æ¢ä¸º <code>phoneCall</code>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">å››ã€ æ€»ç»“æ¶æ„å›¾ï¼ˆæŠ€æœ¯å¤ç›˜ï¼‰</h3>
<p>è¿™æ˜¯æˆ‘ä»¬æœ€ç»ˆä¿®å¤åçš„æ¶æ„é€»è¾‘ï¼Œä½ å¯ä»¥å¯¹ç…§ä»£ç ç†è§£ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[GlobalTaskService å¯åŠ¨] --&gt; B(onCreate);
    
    B --&gt; C{ä¿®å¤ç‚¹1: ç«‹å³å¯åŠ¨å‰å°æœåŠ¡};
    C --&gt;|å¾…æœºçŠ¶æ€| D[startForeground type=DATA_SYNC];
    D -- è¯´æ˜ --&gt; E[ç³»ç»Ÿä¸å†æ€åå°, å…è®¸æŒæœ‰Socket];
    
    B --&gt; F{ä¿®å¤ç‚¹2: æ³¨å†ŒIMç›‘å¬};
    F --&gt;|AirIMEngine.addListener this | G[AirIMEngine (å•ä¾‹)];
    G -- å…³é”® --&gt; H[ä½¿ç”¨ WeakReference æˆ– æ˜ç¡®çš„ Remove];
    
    I[æ”¶åˆ°æ‹¨å·æŒ‡ä»¤] --&gt; J{ä¿®å¤ç‚¹3: åŠ¨æ€åˆ‡æ¢ç±»å‹};
    J --&gt; K[æ›´æ–° Notification type=PHONE_CALL];
    K -- è¯´æ˜ --&gt; L[Android 14 å…è®¸ä½¿ç”¨é€šè¯API];
    
    M[GlobalTaskService é”€æ¯] --&gt; N(onDestroy);
    N --&gt; O[AirIMEngine.removeListener this];
    O -- ç»“æœ --&gt; P[æ–­å¼€å¼•ç”¨é“¾, Serviceå†…å­˜æˆåŠŸå›æ”¶];
    N --&gt; Q[stopForeground];
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå¿ƒæ³•ï¼ˆè®°å¿†å£è¯€ï¼‰</h3>
<ol>
<li><strong>è¦ä¿æ´»ï¼Œå¿…å‰å°</strong>ï¼šæ²¡æœ‰ Notification çš„ Service åœ¨æ¯å±æ—¶å°±æ˜¯ç³»ç»Ÿçš„â€œçŒç‰©â€ã€‚</li>
<li><strong>ç”¨å•ä¾‹ï¼Œå¿…æœ‰å€Ÿæœ‰è¿˜</strong>ï¼šåœ¨ <code>onCreate</code> é‡Œ <code>add</code> è¿›å•ä¾‹çš„ä¸œè¥¿ï¼Œå¿…é¡»åœ¨ <code>onDestroy</code> é‡Œ <code>remove</code> æ‰ï¼Œå¦åˆ™å°±æ˜¯å†…å­˜æ³„éœ²ã€‚</li>
<li><strong>Android 14ï¼Œç±»å‹è¦å¯¹ç‰ˆ</strong>ï¼šå¹²ä»€ä¹ˆäº‹æŒ‚ä»€ä¹ˆç‰Œï¼ˆTypeï¼‰ï¼Œæ²¡æ‰“ç”µè¯åˆ«æŒ‚â€œæ­£åœ¨é€šè¯â€çš„ç‰Œå­ï¼Œä¼šè¢«ç³»ç»Ÿå°æ€ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‡ªå®šä¹‰APK&gradleå…¨å±€é…ç½®æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7587239837972299827</link>    <guid>https://juejin.cn/post/7587239837972299827</guid>    <pubDate>2025-12-24T09:36:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587239837972299827" data-draft-id="7587074669817315354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‡ªå®šä¹‰APK&amp;gradleå…¨å±€é…ç½®æ–‡ä»¶"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-24T09:36:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GoldenPlayer"/> <meta itemprop="url" content="https://juejin.cn/user/2999123453948119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‡ªå®šä¹‰APK&amp;gradleå…¨å±€é…ç½®æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123453948119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GoldenPlayer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:36:19.000Z" title="Wed Dec 24 2025 09:36:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éå¸¸ç†è§£ä½ çš„æ„Ÿå—ï¼Gradle çš„ Groovy è¯­æ³•ç¡®å®ä¹Ÿæ˜¯å¾ˆå¤š Android å¼€å‘è€…çš„â€œå™©æ¢¦â€ã€‚å®ƒå±äºä¸€ç§<strong>åŠ¨æ€è¯­è¨€ DSL (é¢†åŸŸç‰¹å®šè¯­è¨€)</strong>ï¼Œå†™èµ·æ¥çµæ´»ä½†è¯»èµ·æ¥æ™¦æ¶©ï¼Œè€Œä¸” IDE çš„ä»£ç æç¤ºå¾€å¾€ä¹Ÿä¸å¤ªå¥½ç”¨ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨ Google æ­£åœ¨å¤§åŠ›æ¨è¡Œ <strong>KTS (Kotlin DSL)</strong> çš„åŸå› ï¼ˆç”¨ Kotlin å†™ Gradle è„šæœ¬ï¼Œæœ‰ç±»å‹æ£€æŸ¥å’Œè‡ªåŠ¨è¡¥å…¨ï¼‰ã€‚</p>
<p>ä¸‹é¢æˆ‘é’ˆå¯¹ä½ æå‡ºçš„ä¸¤ä¸ªé—®é¢˜ï¼Œç”¨â€œè¯´äººè¯â€çš„æ–¹å¼æ‹†è§£ä¸€ä¸‹å®ƒä»¬çš„åŸç†ã€‚</p>
<hr/>
<h3 data-id="heading-0">ç¬¬ä¸€ä¸ªè¯é¢˜ï¼šè‡ªå®šä¹‰ APK åç§°</h3>
<p>è¿™æ®µä»£ç çœ‹èµ·æ¥å¤æ‚ï¼Œå…¶å®å®ƒæ˜¯ Android Gradle Plugin (AGP) æä¾›çš„ä¸€å¥—<strong>éå†é€»è¾‘</strong>ã€‚</p>
<pre><code class="hljs language-groovy" lang="groovy">applicationVariants.all { variant -&gt;
    // ...
}
</code></pre>
<h4 data-id="heading-1">åŸç†è§£æï¼š</h4>
<ol>
<li>
<p><strong><code>applicationVariants</code></strong>ï¼š
è¿™æ˜¯ Android æ’ä»¶æä¾›çš„ä¸€ä¸ªé›†åˆï¼Œé‡Œé¢è£…ç€ä½ æ‰€æœ‰çš„â€œå˜ä½“â€ã€‚</p>
<ul>
<li>ä»€ä¹ˆæ˜¯å˜ä½“ï¼Ÿå°±æ˜¯ <code>BuildType</code> (Debug/Release) å’Œ <code>Flavor</code> (æ¸ é“åŒ…) ç»„åˆåçš„äº§ç‰©ã€‚æ¯”å¦‚ï¼š<code>debug</code>, <code>release</code>, <code>demoDebug</code>, <code>fullRelease</code> ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>.all { variant -&gt; ... }</code></strong>ï¼š
è¿™æ˜¯ Groovy çš„è¯­æ³•ï¼Œç›¸å½“äº Java çš„ <code>forEach</code> å¾ªç¯ã€‚å®ƒåœ¨è¯´ï¼šâ€œ<strong>å¯¹äºæ¯ä¸€ä¸ªç”Ÿæˆçš„å˜ä½“ï¼Œéƒ½æ‰§è¡Œä¸‹é¢çš„ä»£ç </strong>â€ã€‚</p>
</li>
<li>
<p><strong><code>variant.outputs.all { ... }</code></strong>ï¼š
æ¯ä¸ªå˜ä½“æœ€ç»ˆå¯èƒ½ä¼šè¾“å‡ºå¤šä¸ªæ–‡ä»¶ï¼ˆè™½ç„¶ç»å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬åªè¾“å‡ºä¸€ä¸ª APKï¼Œä½† Android æ”¯æŒæ ¹æ® CPU æ¶æ„æˆ–å±å¹•å¯†åº¦æ‹†åˆ†è¾“å‡ºå¤šä¸ª APKï¼‰ã€‚
ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿™é‡Œåˆåšäº†ä¸€å±‚å¾ªç¯ï¼šâ€œ<strong>å¯¹äºè¿™ä¸ªå˜ä½“ä¸‹çš„æ¯ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶...</strong>â€ã€‚</p>
</li>
<li>
<p><strong><code>outputFileName = "..."</code></strong>ï¼š
è¿™å°±æ˜¯æœ€ç»ˆçš„ç›®çš„ã€‚ä¿®æ”¹è¿™ä¸ªè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶åå±æ€§ã€‚</p>
</li>
</ol>
<h4 data-id="heading-2">ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼Ÿ</h4>
<p>å› ä¸º Gradle åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒAPK çš„åç§°æ˜¯åœ¨æ„å»ºçš„ä¸­é€”ç”Ÿæˆçš„ã€‚ä½ ä¸èƒ½ç›´æ¥å†™ <code>outputFileName = "xxx"</code>ï¼Œå¿…é¡»æŒ‚è½½åˆ° <code>variant</code> çš„å¤„ç†æµç¨‹ä¸­ï¼Œç­‰ Gradle ç®—å‡ºå½“å‰æ˜¯å“ªä¸ªå˜ä½“åï¼Œä½ æ‰æœ‰æœºä¼šå»ä¿®æ”¹å®ƒçš„åå­—ã€‚</p>
<p><strong>æ€»ç»“å°±æ˜¯ï¼š</strong></p>
<blockquote>
<p>â€œGradleï¼Œè¯·ç›‘å¬æ„å»ºè¿‡ç¨‹ã€‚æ¯å½“ä½ å‡†å¤‡å¥½ä¸€ä¸ªå˜ä½“ï¼ˆæ¯”å¦‚ Release ç‰ˆï¼‰ï¼Œå°±å»æŠŠé‚£ä¸ªå˜ä½“å³å°†ç”Ÿæˆçš„ APK æ”¹ä¸ªåå­—ï¼Œåå­—æ ¼å¼æˆ‘å®šã€‚â€</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ç¬¬äºŒä¸ªè¯é¢˜ï¼šç»Ÿä¸€ç‰ˆæœ¬ç®¡ç† (config.gradle)</h3>
<p>ä½ çš„ç†è§£åŸºæœ¬æ˜¯æ­£ç¡®çš„ï¼Œä½†æœ‰ä¸€ç‚¹ç‚¹åå·®ï¼Œæˆ‘æ¥å¸®ä½ ç†æ¸…â€œå®ƒæ˜¯æ€ä¹ˆä¼ å¯¼çš„â€ã€‚</p>
<h4 data-id="heading-4">1. ä¸ºä»€ä¹ˆ <code>config.gradle</code> èƒ½è¢«å¼•ç”¨ï¼Ÿ</h4>
<p>åœ¨ <code>build.gradle</code> (Root) ä¸­ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">apply from: 'config.gradle'
</code></pre>
<p>è¿™å¥è¯çš„æ„æ€æ˜¯ï¼š<strong>æŠŠ <code>config.gradle</code> é‡Œçš„ä»£ç ï¼ŒåŸå°ä¸åŠ¨åœ°æ‹¿è¿‡æ¥ï¼Œåœ¨è¿™ä¸ªä½ç½®æ‰§è¡Œä¸€éã€‚</strong></p>
<p><em>æ³¨æ„ï¼šä½ æåˆ°ä½ æŠŠå®ƒæ”¾åœ¨äº† <code>buildscript { ... }</code> é‡Œé¢ã€‚é€šå¸¸çš„åšæ³•æ˜¯ç›´æ¥æ”¾åœ¨æ–‡ä»¶çš„æœ€å¤–å±‚ã€‚å¦‚æœæ”¾åœ¨ <code>buildscript</code> é‡Œè¿˜èƒ½ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯å› ä¸º Groovy çš„ä½œç”¨åŸŸç©¿é€æˆ–è€… Gradle ç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œä½†<strong>æ ‡å‡†åšæ³•æ˜¯æ”¾åœ¨æ ¹ç›®å½• build.gradle çš„ç¬¬ä¸€è¡Œæˆ– buildscript é—­åŒ…ä¹‹å</strong>ã€‚</em></p>
<h4 data-id="heading-5">2. <code>ext { ... }</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><code>ext</code> æ˜¯ Gradle çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼Œå…¨ç§°å« <strong>ExtraPropertiesExtension</strong>ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª <strong>Map (é”®å€¼å¯¹å­—å…¸)</strong>ã€‚
æ‰€æœ‰çš„ Gradle å¯¹è±¡ï¼ˆProject, Task ç­‰ï¼‰éƒ½æœ‰è¿™ä¸ª <code>ext</code>ã€‚</p>
<p>å½“ä½ åœ¨ <code>config.gradle</code> é‡Œå†™ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">ext {
    versionCode = 123
}
</code></pre>
<p>å› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯åº”ç”¨åœ¨ <strong>Root Project</strong> ä¸Šçš„ï¼Œæ‰€ä»¥ç›¸å½“äºç»™ <strong>æ ¹å·¥ç¨‹å¯¹è±¡</strong> æŒ‚è½½äº†ä¸€ä¸ªå…¨å±€å˜é‡ <code>rootProject.ext.versionCode = 123</code>ã€‚</p>
<h4 data-id="heading-6">3. <code>rootProject.versionCode</code> åŸç†</h4>
<p>åœ¨ä½ çš„ App Module (<code>app/build.gradle</code>) ä¸­ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">versionCode rootProject.versionCode
</code></pre>
<p>è¿™é‡Œçš„é€»è¾‘é“¾æ¡æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li><strong><code>rootProject</code></strong>ï¼šæŒ‡ä»£ä½ çš„æ ¹å·¥ç¨‹å¯¹è±¡ï¼ˆå°±æ˜¯æœ€å¤–å±‚çš„é‚£ä¸ªï¼‰ã€‚</li>
<li><strong><code>.versionCode</code></strong>ï¼šåœ¨ Java/Kotlin ä¸­ï¼Œå¹¶æ²¡æœ‰ <code>versionCode</code> è¿™ä¸ªå­—æ®µã€‚ä½†æ˜¯ Groovy æ˜¯åŠ¨æ€è¯­è¨€ï¼Œå½“å®ƒåœ¨ <code>rootProject</code> å¯¹è±¡é‡Œæ‰¾ä¸åˆ° <code>versionCode</code> å±æ€§æ—¶ï¼Œå®ƒä¼š<strong>è‡ªåŠ¨å» <code>ext</code> é‡Œé¢æ‰¾</strong>ã€‚
<ul>
<li>æ‰€ä»¥ <code>rootProject.versionCode</code> å…¶å®æ˜¯ <code>rootProject.ext.versionCode</code> çš„ç¼©å†™ï¼ˆè¯­æ³•ç³–ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-7">å›ç­”ä½ çš„ç–‘é—®ï¼š</h4>
<blockquote>
<p>è¿™é‡Œ rootProject å°±ä»£è¡¨ config.gradle çš„ ext { äº†æ˜¯å—ï¼Ÿ</p>
</blockquote>
<p><strong>ä¸å®Œå…¨æ˜¯ï¼Œä½†æ•ˆæœä¸€æ ·ã€‚</strong></p>
<ul>
<li><code>rootProject</code> ä»£è¡¨<strong>æ ¹å·¥ç¨‹å¯¹è±¡</strong>ã€‚</li>
<li><code>config.gradle</code> é‡Œçš„å†…å®¹é€šè¿‡ <code>apply from</code> è¢«æ³¨å…¥åˆ°äº†æ ¹å·¥ç¨‹å¯¹è±¡é‡Œçš„ <code>ext</code> å±æ€§ä¸­ã€‚</li>
<li>æ‰€ä»¥ä½ æ˜¯é€šè¿‡æ ¹å·¥ç¨‹å¯¹è±¡ï¼Œè®¿é—®åˆ°äº†è¢«æ³¨å…¥è¿›å»çš„å˜é‡ã€‚</li>
</ul>
<h4 data-id="heading-8">ä¸ºä»€ä¹ˆéªŒè¯æˆåŠŸä½†ä½ ä¸ç¡®å®šï¼Ÿ</h4>
<p>ä½ å®šä¹‰çš„é‚£å‡ ä¸ªæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">def getVersionCode(build){ ... }
</code></pre>
<p>è¿™äº›å®šä¹‰åœ¨ <code>config.gradle</code> é‡Œçš„æ–¹æ³•ï¼Œå› ä¸º <code>apply from</code> çš„ä½œç”¨ï¼Œå˜æˆäº†æ ¹å·¥ç¨‹è„šæœ¬çš„ä¸€éƒ¨åˆ†ã€‚å½“ä½ è°ƒç”¨ <code>ext.versionCode = getVersionCode(...)</code> æ—¶ï¼Œå®ƒåªæ˜¯åœ¨è„šæœ¬æ‰§è¡ŒæœŸé—´è®¡ç®—å‡ºäº†ä¸€ä¸ªæ•´æ•°ï¼Œå¹¶èµ‹å€¼ç»™äº† <code>versionCode</code> å˜é‡ã€‚å­æ¨¡å—æ‹¿åˆ°çš„æ˜¯è®¡ç®—å¥½çš„<strong>ç»“æœï¼ˆé‚£ä¸ªæ•´æ•°ï¼‰</strong>ï¼Œè€Œä¸æ˜¯é‚£ä¸ªå‡½æ•°ã€‚</p>
<hr/>
<h3 data-id="heading-9">æ€»ç»“ä¸å»ºè®®</h3>
<p>Gradle çš„ Groovy è¯­æ³•ç¡®å®å¾ˆâ€œä¹±â€ï¼Œå› ä¸ºå®ƒä¸ä»…æ˜¯é…ç½®ï¼Œè¿˜æ˜¯è„šæœ¬ä»£ç ï¼Œæ··æ‚äº†å£°æ˜å¼ï¼ˆé…ç½®ï¼‰å’Œå‘½ä»¤å¼ï¼ˆé€»è¾‘ï¼‰çš„ä»£ç ã€‚</p>
<p><strong>ç»™ä½ çš„å»ºè®®ï¼š</strong></p>
<ol>
<li>
<p><strong>å…³äº config.gradle çš„å¼•ç”¨ä½ç½®</strong>ï¼š
å»ºè®®å°† <code>apply from: 'config.gradle'</code> ç§»å‡º <code>buildscript {}</code> å—ï¼Œç›´æ¥æ”¾åœ¨æ ¹ç›®å½• <code>build.gradle</code> çš„é¡¶éƒ¨ã€‚è¿™æ ·é€»è¾‘æ›´ç¬¦åˆå®˜æ–¹è§„èŒƒï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">// æ ¹ç›®å½• build.gradle
apply from: 'config.gradle' // æ”¾åœ¨æœ€é¡¶å±‚

buildscript {
   // ...
}
</code></pre>
</li>
<li>
<p><strong>æ‹¥æŠ± Kotlin DSL (KTS)</strong>ï¼š
å¦‚æœä½ è§‰å¾— Groovy å¾ˆéš¾æ‡‚ï¼Œå¦‚æœæ˜¯æ–°é¡¹ç›®ï¼Œå¼ºçƒˆå»ºè®®å°è¯• <strong>Kotlin DSL (<code>build.gradle.kts</code>)</strong>ã€‚</p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šä½ å†™çš„ <code>android { ... }</code> éƒ½å¯ä»¥ç‚¹è¿›å»çœ‹æºç ï¼ŒçŸ¥é“é‡Œé¢æœ‰ä»€ä¹ˆå±æ€§ï¼Œéœ€è¦ä»€ä¹ˆç±»å‹ï¼ŒIDE ä¼šæ™ºèƒ½æç¤ºã€‚</li>
<li><strong>Version Catalog</strong>ï¼šç°åœ¨ Android å®˜æ–¹æ¨èç”¨ <code>libs.versions.toml</code> æ–‡ä»¶æ¥ç®¡ç†ç‰ˆæœ¬å·ï¼Œæ¯” <code>config.gradle</code> è¿™ç§æ–¹å¼æ›´æ¸…æ™°ã€æ›´è§„èŒƒï¼ŒAndroid Studio å¯¹å®ƒçš„æ”¯æŒä¹Ÿæ›´å¥½ã€‚</li>
</ul>
</li>
</ol>
<p>ç›®å‰çš„å†™æ³•è™½ç„¶â€œä¹±â€ï¼Œä½†åœ¨è¿™ä¸ªé¡¹ç›®ä¸­æ˜¯å¥æ•ˆä¸”æˆç†Ÿçš„æ–¹æ¡ˆï¼ˆå›½å†…å¾ˆå¤šæ—§é¡¹ç›®éƒ½è¿™ä¹ˆå¹²ï¼‰ï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°ç»§ç»­ä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼šåŸç†å‰–æä¸å®è·µæŒ‡å—]]></title>    <link>https://juejin.cn/post/7587017021315399715</link>    <guid>https://juejin.cn/post/7587017021315399715</guid>    <pubDate>2025-12-24T09:42:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587017021315399715" data-draft-id="7587023071067209780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼šåŸç†å‰–æä¸å®è·µæŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,three.js"/> <meta itemprop="datePublished" content="2025-12-24T09:42:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/1302259794456120"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼šåŸç†å‰–æä¸å®è·µæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1302259794456120/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:42:22.000Z" title="Wed Dec 24 2025 09:42:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>Vue3çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨æ˜¯æ¡†æ¶æ¶æ„ä¸­çš„ä¸€é¡¹é©å‘½æ€§ç‰¹æ€§ï¼Œå®ƒæ‰“ç ´äº†Vueåªèƒ½ç”¨äºDOMæ¸²æŸ“çš„é™åˆ¶ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå°†Vueç»„ä»¶æ¸²æŸ“åˆ°ä»»æ„ç›®æ ‡å¹³å°ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„æ ¸å¿ƒåŸç†ï¼Œå¹¶é€šè¿‡TresJSè¿™ä¸ªä¼˜ç§€çš„3Dæ¸²æŸ“åº“æ¥å±•ç¤ºå…¶å®é™…åº”ç”¨ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰æ¸²æŸ“å™¨</h2>
<p>åœ¨ä¼ ç»Ÿçš„Vueåº”ç”¨ä¸­ï¼Œæ¸²æŸ“å™¨è´Ÿè´£å°†Vueç»„ä»¶è½¬æ¢ä¸ºDOMå…ƒç´ ã€‚è€ŒVue3å¼•å…¥çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨APIå…è®¸æˆ‘ä»¬åˆ›å»ºä¸“é—¨çš„æ¸²æŸ“å™¨ï¼Œå°†Vueç»„ä»¶è½¬æ¢ä¸ºä»»æ„ç±»å‹çš„ç›®æ ‡å¯¹è±¡ã€‚TresJSæ­£æ˜¯åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå°†Vueç»„ä»¶è½¬æ¢ä¸ºThree.jsçš„3Då¯¹è±¡ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨å£°æ˜å¼çš„Vueè¯­æ³•æ¥æ„å»º3Dåœºæ™¯ã€‚</p>
<h3 data-id="heading-1">ä¼ ç»ŸDOMæ¸²æŸ“å™¨ vs è‡ªå®šä¹‰æ¸²æŸ“å™¨</h3>
<p>ä¼ ç»ŸDOMæ¸²æŸ“å™¨çš„æ“ä½œæµç¨‹éå¸¸ç›´è§‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue DOMæ¸²æŸ“å™¨æ“ä½œ</span>
<span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>)  <span class="hljs-comment">// åˆ›å»ºå…ƒç´ </span>
div.<span class="hljs-property">textContent</span> = <span class="hljs-string">'Hello World'</span>           <span class="hljs-comment">// è®¾ç½®å±æ€§</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(div)            <span class="hljs-comment">// æŒ‚è½½åˆ°çˆ¶å…ƒç´ </span>
div.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>                   <span class="hljs-comment">// æ›´æ–°å±æ€§</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(div)            <span class="hljs-comment">// å¸è½½å…ƒç´ </span>
</code></pre>
<p>è€ŒTresJSçš„è‡ªå®šä¹‰æ¸²æŸ“å™¨æ‰§è¡Œç±»ä¼¼çš„æ“ä½œï¼Œä½†ç›®æ ‡å¯¹è±¡æ˜¯Three.jså¯¹è±¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// TresJSæ¸²æŸ“å™¨æ“ä½œ</span>
<span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>()                    <span class="hljs-comment">// åˆ›å»ºThree.jså¯¹è±¡</span>
mesh.<span class="hljs-property">material</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>()    <span class="hljs-comment">// è®¾ç½®å±æ€§</span>
scene.<span class="hljs-title function_">add</span>(mesh)                                  <span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
mesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)                       <span class="hljs-comment">// æ›´æ–°å±æ€§</span>
scene.<span class="hljs-title function_">remove</span>(mesh)                               <span class="hljs-comment">// ä»åœºæ™¯ç§»é™¤</span>
</code></pre>
<h2 data-id="heading-2">è‡ªå®šä¹‰æ¸²æŸ“å™¨APIæ ¸å¿ƒ</h2>
<p>TresJSçš„è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼ˆnodeOpsï¼‰å®ç°äº†ä¸€å¥—æ“ä½œæ¥å£ï¼Œå½“Vueéœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶ä¼šè°ƒç”¨è¿™äº›æ¥å£ï¼š</p>
<ul>
<li>åˆ›å»ºæ–°çš„Three.jså¯¹è±¡</li>
<li>å°†å¯¹è±¡æ·»åŠ åˆ°åœºæ™¯æˆ–å…¶ä»–å¯¹è±¡ä¸­</li>
<li>æ›´æ–°å¯¹è±¡å±æ€§</li>
<li>ä»åœºæ™¯ä¸­ç§»é™¤å¯¹è±¡</li>
</ul>
<p>è¿™ç§æ¶æ„è®¾è®¡è®©Vueçš„ç»„ä»¶ç³»ç»Ÿä¸å…·ä½“çš„æ¸²æŸ“ç›®æ ‡è§£è€¦ï¼Œä½¿å¾—åŒä¸€ä¸ªç»„ä»¶æ¨¡å‹å¯ä»¥é©±åŠ¨ä¸åŒçš„æ¸²æŸ“åç«¯ã€‚</p>
<h2 data-id="heading-3">å“åº”å¼ç³»ç»Ÿåœ¨3Dæ¸²æŸ“ä¸­çš„æŒ‘æˆ˜</h2>
<p>Vueçš„å“åº”å¼ç³»ç»Ÿè™½ç„¶å¼ºå¤§ï¼Œä½†åœ¨3Dåœºæ™¯ä¸­éœ€è¦è°¨æ…ä½¿ç”¨ã€‚åœ¨60FPSçš„æ¸²æŸ“å¾ªç¯ä¸­ï¼Œä¸å½“çš„å“åº”å¼ä½¿ç”¨ä¼šå¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<h3 data-id="heading-4">æ€§èƒ½æŒ‘æˆ˜</h3>
<p>Vueçš„å“åº”å¼åŸºäºJavaScript Proxyï¼Œæ¯æ¬¡å±æ€§è®¿é—®å’Œä¿®æ”¹éƒ½ä¼šè¢«æ‹¦æˆªã€‚åœ¨3Dæ¸²æŸ“å¾ªç¯ä¸­ï¼Œè¿™æ„å‘³ç€æ¯ç§’60æ¬¡è§¦å‘å“åº”å¼ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ è¿™ç§åšæ³•ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜</span>
<span class="hljs-keyword">const</span> position = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> })

<span class="hljs-keyword">const</span> { onBeforeRender } = <span class="hljs-title function_">useLoop</span>()
<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æ¯ç§’è§¦å‘Vueå“åº”å¼ç³»ç»Ÿ60æ¬¡</span>
  position.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() * <span class="hljs-number">0.001</span>) * <span class="hljs-number">3</span>
  position.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() * <span class="hljs-number">0.001</span>) * <span class="hljs-number">2</span>
})
</code></pre>
<p>æ€§èƒ½å¯¹æ¯”æ•°æ®ä»¤äººè­¦é†’ï¼šæ™®é€šå¯¹è±¡çš„å±æ€§è®¿é—®å¯è¾¾æ¯ç§’5000ä¸‡æ¬¡ï¼Œè€Œå“åº”å¼å¯¹è±¡ç”±äºä»£ç†å¼€é”€åªèƒ½è¾¾åˆ°æ¯ç§’200ä¸‡æ¬¡ã€‚</p>
<h3 data-id="heading-5">è§£å†³æ–¹æ¡ˆï¼šæ¨¡æ¿å¼•ç”¨çš„è‰ºæœ¯</h3>
<p>æ¨¡æ¿å¼•ç”¨ï¼ˆTemplate Refsï¼‰æä¾›äº†ç›´æ¥è®¿é—®Three.jså®ä¾‹çš„èƒ½åŠ›ï¼Œé¿å…äº†å“åº”å¼å¼€é”€ï¼Œæ˜¯åŠ¨ç”»å’Œé¢‘ç¹æ›´æ–°çš„æœ€ä½³é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨èåšæ³•ï¼šä½¿ç”¨æ¨¡æ¿å¼•ç”¨</span>
<span class="hljs-keyword">const</span> meshRef = <span class="hljs-title function_">shallowRef</span>(<span class="hljs-literal">null</span>)

<span class="hljs-keyword">const</span> { onBeforeRender } = <span class="hljs-title function_">useLoop</span>()
<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">(<span class="hljs-params">{ elapsed }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (meshRef.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// ç›´æ¥å±æ€§ä¿®æ”¹ï¼Œæ— å“åº”å¼å¼€é”€</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> = elapsed * <span class="hljs-number">0.5</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = elapsed * <span class="hljs-number">0.3</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsed) * <span class="hljs-number">2</span>
  }
})
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;TresCanvas&gt;
    &lt;TresPerspectiveCamera :position="[0, 0, 5]" /&gt;
    &lt;TresAmbientLight /&gt;
    
    &lt;!-- æ¨¡æ¿å¼•ç”¨è¿æ¥åˆ°Three.jså®ä¾‹ --&gt;
    &lt;TresMesh ref="meshRef"&gt;
      &lt;TresBoxGeometry /&gt;
      &lt;TresMeshStandardMaterial color="#ff6b35" /&gt;
    &lt;/TresMesh&gt;
  &lt;/TresCanvas&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-6">æµ…å±‚å“åº”å¼ï¼šå¹³è¡¡çš„è‰ºæœ¯</h2>
<p>å½“éœ€è¦éƒ¨åˆ†å“åº”å¼æ—¶ï¼Œ<code>shallowRef</code>å’Œ<code>shallowReactive</code>æä¾›äº†å®Œç¾çš„å¹³è¡¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… åªè®©é¡¶å±‚å±æ€§å…·æœ‰å“åº”æ€§</span>
<span class="hljs-keyword">const</span> meshProps = <span class="hljs-title function_">shallowReactive</span>({
  <span class="hljs-attr">color</span>: <span class="hljs-string">'#ff6b35'</span>,
  <span class="hljs-attr">wireframe</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">visible</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> }  <span class="hljs-comment">// è¿™ä¸ªå¯¹è±¡ä¸æ˜¯æ·±åº¦å“åº”å¼çš„</span>
})

<span class="hljs-comment">// UIæ§åˆ¶ä¿®æ”¹å¤–è§‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleWireframe</span> = (<span class="hljs-params"/>) =&gt; {
  meshProps.<span class="hljs-property">wireframe</span> = !meshProps.<span class="hljs-property">wireframe</span>  <span class="hljs-comment">// å“åº”å¼æ›´æ–°</span>
}

<span class="hljs-keyword">const</span> { onBeforeRender } = <span class="hljs-title function_">useLoop</span>()
<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (meshRef.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// ç›´æ¥ä½ç½®ä¿®æ”¹ï¼Œæ— å“åº”å¼å¼€é”€</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() * <span class="hljs-number">0.001</span>) * <span class="hljs-number">2</span>
  }
})
</code></pre>
<h2 data-id="heading-7">æœ€ä½³å®è·µæ¨¡å¼</h2>
<h3 data-id="heading-8">1. åˆå§‹å®šä½ä¸åŠ¨ç”»åˆ†ç¦»</h3>
<p>ä½¿ç”¨å“åº”å¼å±æ€§è¿›è¡Œåˆå§‹å®šä½ï¼Œä½¿ç”¨æ¨¡æ¿å¼•ç”¨è¿›è¡ŒåŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… å“åº”å¼åˆå§‹çŠ¶æ€</span>
<span class="hljs-keyword">const</span> initialPosition = <span class="hljs-title function_">ref</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>])
<span class="hljs-keyword">const</span> color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'#ff6b35'</span>)

<span class="hljs-comment">// âœ… æ¨¡æ¿å¼•ç”¨ç”¨äºåŠ¨ç”»</span>
<span class="hljs-keyword">const</span> meshRef = <span class="hljs-title function_">shallowRef</span>(<span class="hljs-literal">null</span>)

<span class="hljs-keyword">const</span> { onBeforeRender } = <span class="hljs-title function_">useLoop</span>()
<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">(<span class="hljs-params">{ elapsed }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (meshRef.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// ç›¸å¯¹äºåˆå§‹ä½ç½®è¿›è¡ŒåŠ¨ç”»</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = initialPosition.<span class="hljs-property">value</span>[<span class="hljs-number">1</span>] + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsed) * <span class="hljs-number">2</span>
  }
})
</code></pre>
<h3 data-id="heading-9">2. è®¡ç®—å±æ€§ä¼˜åŒ–å¤æ‚è®¡ç®—</h3>
<p>å¯¹äºä¸åº”åœ¨æ¯å¸§è¿è¡Œçš„æ˜‚è´µè®¡ç®—ï¼Œä½¿ç”¨è®¡ç®—å±æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… è®¡ç®—å±æ€§åªåœ¨ä¾èµ–æ”¹å˜æ—¶é‡æ–°è®¡ç®—</span>
<span class="hljs-keyword">const</span> orbitPositions = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> positions = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; settings.<span class="hljs-property">objects</span>; i++) {
    <span class="hljs-keyword">const</span> angle = (i / settings.<span class="hljs-property">objects</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>
    positions.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(angle) * settings.<span class="hljs-property">radius</span>,
      <span class="hljs-attr">z</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(angle) * settings.<span class="hljs-property">radius</span>
    })
  }
  <span class="hljs-keyword">return</span> positions
})
</code></pre>
<h3 data-id="heading-10">3. åŸºäºç”Ÿå‘½å‘¨æœŸçš„æ›´æ–°</h3>
<p>ä½¿ç”¨Vueçš„ç”Ÿå‘½å‘¨æœŸé’©å­å¤„ç†æ€§èƒ½æ•æ„Ÿçš„æ›´æ–°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> animationState = {
  <span class="hljs-attr">time</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">amplitude</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">frequency</span>: <span class="hljs-number">1</span>
}

<span class="hljs-keyword">const</span> { onBeforeRender } = <span class="hljs-title function_">useLoop</span>()
<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">(<span class="hljs-params">{ delta }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!isAnimating.<span class="hljs-property">value</span> || !meshRef.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>
  
  <span class="hljs-comment">// æ›´æ–°éå“åº”å¼çŠ¶æ€</span>
  animationState.<span class="hljs-property">time</span> += delta
  
  <span class="hljs-comment">// åº”ç”¨åˆ°Three.jså®ä¾‹</span>
  meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(animationState.<span class="hljs-property">time</span> * animationState.<span class="hljs-property">frequency</span>) * animationState.<span class="hljs-property">amplitude</span>
})
</code></pre>
<h2 data-id="heading-11">å¸¸è§é™·é˜±ä¸è§„é¿</h2>
<h3 data-id="heading-12">é™·é˜±1ï¼šåœ¨åŠ¨ç”»ä¸­ä½¿ç”¨å“åº”å¼æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é¿å…ï¼šåœ¨æ¸²æŸ“å¾ªç¯ä¸­ä½¿ç”¨å“åº”å¼å¯¹è±¡</span>
<span class="hljs-keyword">const</span> rotation = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> })

<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">(<span class="hljs-params">{ elapsed }</span>) =&gt;</span> {
  rotation.<span class="hljs-property">x</span> = elapsed * <span class="hljs-number">0.5</span>  <span class="hljs-comment">// æ¯å¸§è§¦å‘Vueå“åº”å¼ç³»ç»Ÿ</span>
  rotation.<span class="hljs-property">y</span> = elapsed * <span class="hljs-number">0.3</span>
})
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ¨¡æ¿å¼•ç”¨</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨èï¼šç›´æ¥å®ä¾‹æ“ä½œ</span>
<span class="hljs-keyword">const</span> meshRef = <span class="hljs-title function_">shallowRef</span>(<span class="hljs-literal">null</span>)

<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">(<span class="hljs-params">{ elapsed }</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (meshRef.<span class="hljs-property">value</span>) {
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> = elapsed * <span class="hljs-number">0.5</span>
    meshRef.<span class="hljs-property">value</span>.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = elapsed * <span class="hljs-number">0.3</span>
  }
})
</code></pre>
<h3 data-id="heading-13">é™·é˜±2ï¼šæ·±åº¦å“åº”å¼æ•°ç»„</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é¿å…ï¼šæ·±åº¦å“åº”å¼æ•°ç»„æ›´æ–°</span>
<span class="hljs-keyword">const</span> particles = <span class="hljs-title function_">reactive</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
  <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: i, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },
  <span class="hljs-attr">velocity</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> }
})))

<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">() =&gt;</span> {
  particles.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">particle</span>) =&gt;</span> {
    <span class="hljs-comment">// 100ä¸ªå“åº”å¼å¯¹è±¡çš„å¼€é”€æå¤§</span>
    particle.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> += particle.<span class="hljs-property">velocity</span>.<span class="hljs-property">x</span>
  })
})
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šéå“åº”å¼æ•°æ®+æ¨¡æ¿å¼•ç”¨</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨èï¼šæ™®é€šå¯¹è±¡+æ¨¡æ¿å¼•ç”¨</span>
<span class="hljs-keyword">const</span> particleData = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
  <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: i, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },
  <span class="hljs-attr">velocity</span>: { <span class="hljs-attr">x</span>: (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">0.1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> }
}))

<span class="hljs-keyword">const</span> particleRefs = <span class="hljs-title function_">shallowRef</span>([])

<span class="hljs-title function_">onBeforeRender</span>(<span class="hljs-function">() =&gt;</span> {
  particleData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">particle, index</span>) =&gt;</span> {
    <span class="hljs-comment">// æ›´æ–°æ™®é€šå¯¹è±¡æ•°æ®</span>
    particle.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> += particle.<span class="hljs-property">velocity</span>.<span class="hljs-property">x</span>
    
    <span class="hljs-comment">// åº”ç”¨åˆ°Three.jså®ä¾‹</span>
    <span class="hljs-keyword">const</span> mesh = particleRefs.<span class="hljs-property">value</span>[index]
    <span class="hljs-keyword">if</span> (mesh) {
      mesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(particle.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, particle.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>, particle.<span class="hljs-property">position</span>.<span class="hljs-property">z</span>)
    }
  })
})
</code></pre>
<h2 data-id="heading-14">æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–</h2>
<p>ä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…·å¦‚<code>@tresjs/leches</code>æ¥å®æ—¶ç›‘æ§FPSï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TresLeches</span>, useControls } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tresjs/leches'</span>

<span class="hljs-comment">// å¯ç”¨FPSç›‘æ§</span>
<span class="hljs-title function_">useControls</span>(<span class="hljs-string">'fpsgraph'</span>)
</code></pre>
<h2 data-id="heading-15">æ ¸å¿ƒè¦ç‚¹æ€»ç»“</h2>
<p>Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨ä¸ºè·¨å¹³å°æ¸²æŸ“å¼€è¾Ÿäº†å…¨æ–°çš„å¯èƒ½æ€§ï¼Œä½†åœ¨3Dæ¸²æŸ“è¿™æ ·çš„é«˜æ€§èƒ½åœºæ™¯ä¸­ï¼Œéœ€è¦æ˜æ™ºåœ°é€‰æ‹©å“åº”å¼ç­–ç•¥ï¼š</p>
<ol>
<li><strong>æ¨¡æ¿å¼•ç”¨ä¼˜å…ˆ</strong>ï¼šåœ¨æ¸²æŸ“å¾ªç¯ä¸­ä½¿ç”¨æ¨¡æ¿å¼•ç”¨ç›´æ¥æ“ä½œThree.jså®ä¾‹ï¼Œé¿å…å“åº”å¼å¼€é”€</li>
<li><strong>æµ…å±‚å“åº”å¼</strong>ï¼šå½“éœ€è¦éƒ¨åˆ†å“åº”å¼æ—¶ï¼Œä½¿ç”¨<code>shallowRef</code>å’Œ<code>shallowReactive</code>è·å¾—å¹³è¡¡</li>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šä¿æŒUIçŠ¶æ€çš„å“åº”æ€§å’ŒåŠ¨ç”»çŠ¶æ€çš„éå“åº”æ€§ï¼Œä»¥è·å¾—æœ€ä½³æ€§èƒ½</li>
<li><strong>æŒç»­ç›‘æ§</strong>ï¼šä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…·è¯†åˆ«3Dåœºæ™¯ä¸­çš„å“åº”å¼ç“¶é¢ˆ</li>
</ol>
<p>é€šè¿‡ç†è§£å¹¶åº”ç”¨è¿™äº›æ¨¡å¼ï¼Œå¼€å‘è€…å¯ä»¥åˆ›å»ºæ—¢å…·æœ‰Vueå¼€å‘ä½“éªŒä¼˜åŠ¿ï¼Œåˆèƒ½åœ¨é«˜æ€§èƒ½3Dç¯å¢ƒä¸­æµç•…è¿è¡Œçš„åº”ç”¨ã€‚Vue3è‡ªå®šä¹‰æ¸²æŸ“å™¨ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ç‰¹æ€§ï¼Œæ›´æ˜¯è¿æ¥å£°æ˜å¼ç¼–ç¨‹ä¸å¤šæ ·åŒ–æ¸²æŸ“ç›®æ ‡çš„æ¡¥æ¢ï¼Œä¸ºå‰ç«¯å¼€å‘å¼€å¯äº†å…¨æ–°çš„åˆ›ä½œç©ºé—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æ¸¸ iOS SDK æ”¹ç”¨ CocoaPods é›†æˆ]]></title>    <link>https://juejin.cn/post/7587208390483197958</link>    <guid>https://juejin.cn/post/7587208390483197958</guid>    <pubDate>2025-12-24T08:47:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587208390483197958" data-draft-id="7587208390482837510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æ¸¸ iOS SDK æ”¹ç”¨ CocoaPods é›†æˆ"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2025-12-24T08:47:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LorrestGump"/> <meta itemprop="url" content="https://juejin.cn/user/1822323383742587"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æ¸¸ iOS SDK æ”¹ç”¨ CocoaPods é›†æˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1822323383742587/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LorrestGump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T08:47:41.000Z" title="Wed Dec 24 2025 08:47:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›®å‰æ‰‹æ¸¸ iOS SDK æ™®éä½¿ç”¨æ‰‹åŠ¨é›†æˆæ–¹æ¡ˆã€‚ä½†éšç€è¿‘å‡ å¹´å‡ºæµ·çƒ­ï¼ŒSDK éœ€è¦é›†æˆå¤§é‡ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ AppsFlyerã€Firebaseã€Admobã€Facebookã€Twitterã€AppLovin ç­‰ç­‰ã€‚å…¶ä¸­ä¸€äº›ä¸‰æ–¹åº“ä¸æ”¯æŒ CocoaPods é›†æˆï¼Œæ‰€ä»¥æˆ‘ä¹Ÿéƒ½ä½¿ç”¨æ‰‹åŠ¨é›†æˆã€‚</p>
<p>å› ä¸ºä¸åŒçš„æ¸¸æˆéœ€è¦æ¥å…¥çš„ç¬¬ä¸‰æ–¹åº“ä¸ä¸€æ ·ï¼Œå½“ç”¨ä¸åˆ°çš„æ—¶å€™ï¼ŒSDK é‡Œå°±éœ€è¦å‰”é™¤ç›¸å…³ä»£ç ï¼Œä¸ç„¶ç¼–è¯‘ä¹Ÿä¼šæŠ¥é”™ã€‚æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡å®æ¥è¿›è¡Œå¼€å…³éš”ç¦»ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">define</span> AppsFlyer 1</span>

<span class="hljs-meta">#<span class="hljs-keyword">if</span> AppsFlyer</span>
<span class="hljs-comment">// è°ƒç”¨ç›¸å…³æ¥å£</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p>åƒè¿™æ ·é€šè¿‡è®¾ç½®Â <code>AppsFlyer</code>Â ä¸º 1 æˆ–è€… 0 æ¥å¯ç”¨å’Œå…³é—­ç›¸å…³ä»£ç ï¼Œå…³é—­æ—¶ç¼–è¯‘å™¨ä¼šè¿‡æ»¤æ‰è¿™äº›ä»£ç ã€‚æ­¤å¤–ï¼Œå½“ä¸åŒçš„æ¸¸æˆæ¥å…¥çš„ SDK å‡ºç°ä¸€äº›é—®é¢˜éœ€è¦æµ‹è¯•æ—¶ï¼Œå°±éœ€è¦é¢‘ç¹æ”¹å‚æ•°ã€æ”¹å®å¼€å…³ã€‚è¿™äº›æ“ä½œç›¸å½“ç¹çï¼Œæ‰€ä»¥æˆ‘éƒ½æ˜¯æ¯ä¸ªåŒ…å¤åˆ¶ä¸€ä»½ SDK ä»£ç è¿›è¡Œè®¾ç½®ï¼Œç”¨ç©ºé—´æ¢æ–¹ä¾¿ã€‚</p>
<p>å¤åˆ¶ SDK æ—¶ä¸‰æ–¹åº“ä¹Ÿä¼šå¤åˆ¶ï¼Œä¸‰æ–¹åº“å¯å ç©ºé—´äº†ã€‚ä»¥è‹¹æœé‚£é‡‘å­èˆ¬çš„å†…å­˜ï¼Œè¿‡ä¸äº†å¤šä¹…ç”µè„‘å­˜å‚¨ç©ºé—´å°±ä¸å¤Ÿç”¨äº†ï¼Œå¿…é¡»å®šæœŸæ¸…ç†ã€‚</p>
<p>éšç€ SDK è¶‹è¿‘ç¨³å®šï¼Œä¸‰æ–¹åº“ä¹Ÿéœ€è¦ä¿æŒæ›´æ–°ï¼Œæˆ‘è®¡åˆ’å°† SDK æ”¹ç”¨ CocoaPods é›†æˆã€‚è¿™æ ·ä¸ç”¨æ¯æ¬¡éƒ½ç”Ÿæˆ SDK å‰¯æœ¬ï¼Œä¹Ÿæ–¹ä¾¿ç ”å‘æ¥å…¥ã€‚</p>
<p>æœ€å¼€å§‹æ˜¯è®¡åˆ’æŠŠ SDK é‡Œçš„ä¸‰æ–¹åº“ç›¸å…³ä»£ç æ‹†åˆ†æˆå•ç‹¬çš„åº“ï¼Œè®©å®ƒä»¬å•ç‹¬å»ä¾èµ–å¯¹åº”çš„ä¸‰æ–¹åº“ï¼Œæä¾›æ¥å£ç»™ SDK è°ƒç”¨ã€‚è¿™æ ·ä¸åŒçš„æ¸¸æˆç”¨åˆ°å“ªä¸ªä¸‰æ–¹åº“å°±å¯¼å…¥å¯¹åº”çš„åº“ï¼Œä¸å†ç”¨ SDK å†…éƒ¨å®å®šä¹‰å¼€å…³ã€‚</p>
<p>å› ä¸ºä¹‹å‰ä»æœªç”¨ Pod æ¥ç®¡ç†è‡ªå·±çš„åº“ï¼Œæˆ‘ä»¥ä¸ºè¿™ä¸ªäº‹åº”è¯¥å¾ˆå¿«å¼„å®Œï¼Œç»“æœæ„å¤–çš„æŠ˜è…¾äº†å¥½é•¿æ—¶é—´â€¦â€¦</p>
<p>æˆ‘é‡åˆ°çš„é—®é¢˜ä¸»è¦å½’ä¸ºä¸¤ç±»ï¼š</p>
<ol>
<li>ä¾èµ–å¯¼è‡´çš„é“¾æ¥å’Œé…ç½®é”™è¯¯ï¼›</li>
<li>é‡å¤å¼•ç”¨è­¦å‘Šï¼ˆå³æŠŠä¾èµ–çš„ä¸‰æ–¹åº“ä»£ç ä¹Ÿç¼–è¯‘åˆ°æˆ‘çš„æ‹†åˆ†åº“é‡Œï¼Œè€Œæ¸¸æˆå·¥ç¨‹é€šè¿‡ Pod ä¹Ÿä¼šå¼•å…¥ä¸€ä»½ï¼‰ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ˜¯æˆ‘å°†å°è£…å±‚ä»é™æ€åº“æ”¹æˆåŠ¨æ€åº“å†æ”¹æˆæºç ä¾èµ–çš„è¿‡ç¨‹å’Œé‡åˆ°çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">1. é™æ€åº“é˜¶æ®µ</h2>
<p>æˆ‘é¦–å…ˆæŠŠ SDK é‡Œçš„ä¸‰æ–¹åº“ç›¸å…³ä»£ç æ‹†åˆ†æˆäº†ä¸€ä¸ªä¸ªé™æ€åº“ï¼Œç›¸å½“äºæŠŠéœ€è¦ç”¨åˆ°çš„ä¸‰æ–¹åº“æ¥å£å°è£…äº†ä¸€å±‚ã€‚ä¸ºä»€ä¹ˆä¸ç”¨åŠ¨æ€åº“ï¼Ÿå› ä¸ºæˆ‘ä¸æƒ³è¦ ipa åŒ…é‡Œçš„ Framework é‡Œæœ‰å¤ªå¤šè‡ªå®šä¹‰åº“ã€‚å¦‚æœæ˜¯é™æ€åº“ï¼Œé‚£è¿™äº›ä»£ç ä¼šç¼–è¯‘åˆ°ä¸»äºŒè¿›åˆ¶é‡Œã€‚</p>
<p>åœ¨é™æ€åº“å¼€å‘å·¥ç¨‹é‡Œæµ‹è¯•ç¼–è¯‘éƒ½æ­£å¸¸ï¼Œä½†åœ¨éªŒè¯Â <code>podspec</code>Â æ—¶æŠ¥å„ç§é”™è¯¯ã€‚åŸå› æ˜¯ä¾èµ–å„ç§ç±»å‹çš„ä¸‰æ–¹åº“å¯¼è‡´çš„å¤æ‚çš„é“¾æ¥å’Œé…ç½®é”™è¯¯ï¼Œè¿˜è¦æºæ‚ä¸åŒç¼–ç¨‹è¯­è¨€ã€‚æŠ˜è…¾äº†ä¸¤ä¸‰å¤©æœ€ç»ˆæ”¾å¼ƒäº†ï¼Œæ”¹ä¸ºåŠ¨æ€åº“ã€‚</p>
<blockquote>
<p><strong>æ³¨</strong>ï¼š<code>podspec</code>Â æ–‡ä»¶å°±æ˜¯åº“çš„é…ç½®å’Œå¯¼å…¥è¯´æ˜ä¹¦ï¼Œéœ€è¦åœ¨é‡Œé¢è®¾ç½®åº“çš„åç§°ã€ç‰ˆæœ¬ã€æ”¯æŒç³»ç»Ÿç‰ˆæœ¬ã€åº“æ–‡ä»¶ä½ç½®ã€ç³»ç»Ÿåº“å’Œä¸‰æ–¹åº“ä¾èµ–ï¼Œä»¥åŠä¸€äº›å·¥ç¨‹é…ç½®å¦‚Â <code>Other Link Flag</code>Â çš„è®¾ç½®ç­‰ã€‚æŠŠè¿™ä¸ªæ–‡ä»¶æˆåŠŸå‘å¸ƒåˆ° Pod åï¼Œå¤§å®¶å°±å¯ä»¥é€šè¿‡ Pod æ¥å¼•å…¥ä½ çš„åº“äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-1">2. åŠ¨æ€åº“é˜¶æ®µ</h2>
<p>æŠŠæ‹†åˆ†åº“æ”¹æˆåŠ¨æ€åº“åï¼Œå°±å°‘äº†å¾ˆå¤šé“¾æ¥å’Œé…ç½®é”™è¯¯ã€‚æœ‰ä¸€éƒ¨åˆ†ä¸‰æ–¹åº“å¹¶æœªæä¾› Pod å¼•å…¥ï¼Œåªæä¾›äº†ä¸‹è½½é“¾æ¥ï¼Œè¿™ç§å°±æ— æ³•è‡ªåŠ¨ä¿æŒæ›´æ–°äº†ï¼Œåªèƒ½æˆ‘æ‰‹åŠ¨å»æ›¿æ¢ä¸‰æ–¹åº“ã€‚</p>
<p>ç†è®ºä¸Šå¯ä»¥åœ¨Â <code>podspec</code>Â é‡Œç›´æ¥æŠŠä¸‰æ–¹åº“çš„ä¸‹è½½é“¾æ¥è®¾ç½®ä¸ºå®ƒä»¬å®˜ç½‘çš„ä¸‹è½½é“¾æ¥ï¼Œå‰ææ˜¯ä»–ä»¬é“¾æ¥ä¿æŒä¸å˜å¹¶ä¸”é‡Œé¢çš„æ–‡ä»¶è·¯å¾„ä¸æ”¹ã€‚ä½†æ˜¯è¿™æ ·æˆ‘æ„Ÿè§‰ä¸å¤ªç¨³ï¼Œæ‰€ä»¥è¿˜æ˜¯æ‰‹åŠ¨æ›¿æ¢æ›´æ–°ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘çš„åº“éƒ½æ˜¯ç”¨ OC å†™çš„ï¼Œæœ‰ä¸€éƒ¨åˆ†ä¸‰æ–¹åº“æ˜¯ç”¨ Swift å†™çš„æˆ–è€…æ··åˆäº† Swiftï¼Œè¿™ç§æƒ…å†µéœ€è¦åœ¨Â <code>build setting</code>Â é‡Œè°ƒæ•´ä¸€äº›è®¾ç½®ã€‚è¿˜å¥½æœ‰ AI å¯ä»¥é—®ï¼Œä¸ç„¶æœ‰å¾—æŠ˜è…¾äº†ã€‚</p>
<p>SDK å†…éƒ¨ä¹‹å‰ä¼šè°ƒç”¨å¾ˆå¤šä¸‰æ–¹åº“ä»£ç ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›è¿™äº›ä¸‰æ–¹å°è£…å±‚ç‹¬ç«‹äº SDKï¼Œå³ SDK ä¸è¦ä¾èµ–è¿™äº›åº“ã€‚äºæ˜¯åŸæœ¬åœ¨ SDK å†…éƒ¨è°ƒç”¨çš„æ¥å£å°±æ”¾åˆ°å¤–éƒ¨ç”±ç ”å‘æ¥è°ƒç”¨ï¼Œåé¢å‘ç°å¤–éƒ¨æ¥å…¥å˜å¾—å¤æ‚äº†å¥½å¤šã€‚è€Œä¸”å¾ˆå¤šæ¥å£è·Ÿç ”å‘ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ï¼Œè¿™æ ·åšå¢åŠ äº†ä»–ä»¬çš„æ¥å…¥éš¾åº¦ï¼Œå’Œæ—§ç‰ˆ SDK æ¥å…¥å˜åŒ–å¾ˆå¤§ã€‚</p>
<p>æˆ‘æŠŠè¿™ä¸ªæƒ…å†µé—®äº†ä¸‹ AIï¼ŒAI ç»™çš„æ–¹æ¡ˆæ˜¯é€šè¿‡ä»£ç†å®ç°ï¼šå³æŠŠ SDK ç”¨åˆ°çš„ä¸‰æ–¹åº“å°è£…å±‚æ–¹æ³•å®šä¹‰æˆä¸€ä¸ªåè®®ï¼Œè®©å°è£…å±‚è‡ªè¡Œé€‰æ‹©å®ç°åè®®é‡Œçš„æ–¹æ³•ã€‚åœ¨ SDK å†…éƒ¨è°ƒç”¨å®ç°äº†ç›¸å…³åè®®æ–¹æ³•çš„ä»£ç†ï¼Œä»£ç†æŒ‡å®šç”±ç ”å‘åœ¨å¤–éƒ¨åˆå§‹åŒ–å°è£…å±‚åè®¾ç½®ã€‚</p>
<p>å½“ç„¶è¿™ä¸ªæ“ä½œåé¢ä¹Ÿçœç•¥äº†ï¼Œæ”¹æˆåœ¨ SDK å†…éƒ¨é€šè¿‡ç‰¹å®šæ–¹æ³•åœ¨åˆ¤æ–­ä¸‰æ–¹å°è£…å±‚ç±»å­˜åœ¨æ—¶åˆ›å»ºå°è£…å±‚å®ä¾‹å¹¶è®¾ç½®ä¸ºä»£ç†ã€‚ç»è¿‡è¿™äº›æ“ä½œï¼ŒSDK æ¥å£å¯¹æ¯”æ—§ç‰ˆå˜åŒ–å°±æ¯”è¾ƒå°äº†ã€‚</p>
<p>objectivec</p>
<pre><code class="hljs language-ini" lang="ini">// é€šè¿‡è¿è¡Œæ—¶è®¾ç½®ä»£ç†
SEL <span class="hljs-attr">sharef</span> = NSSelectorFromString(@<span class="hljs-string">"shared"</span>)<span class="hljs-comment">;</span>
// AppsFlyer
if (NSClassFromString(SDK_APPSFLYER)) {
    <span class="hljs-attr">self.appsFlyerDelegate</span> = [NSClassFromString(SDK_APPSFLYER) performSelector:sharef]<span class="hljs-comment">;</span>
}
</code></pre>
<p>ä»å‰é¢åˆ°è¿™é‡Œï¼Œæˆ‘çš„åº“çš„å¼€å‘å·¥ç¨‹éƒ½æ˜¯ç”¨ CocoaPod æ¥å¼•å…¥çš„ä¸‰æ–¹åº“ã€‚CocoaPod ä¼šåœ¨æˆ‘ç¼–è¯‘æ‹†åˆ†åº“çš„ Target ç”Ÿæˆ framework æ–‡ä»¶æ—¶ï¼ŒæŠŠä¾èµ–çš„ä¸‰æ–¹åº“ä»£ç å’Œæ–‡ä»¶éƒ½æ‰“åŒ…è¿›æ¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘å‘å¸ƒåˆ° Pod åç”¨ SDK Demo å·¥ç¨‹æµ‹è¯•æ—¶ä¼šæŠ¥è­¦å‘Šï¼Œå†…å®¹æ˜¯ä¸‰æ–¹åº“åœ¨æˆ‘çš„æ‹†åˆ†åº“é‡Œä¹Ÿæœ‰å®ç°ä»£ç ã€‚åœ¨è¯•äº† AI ç»™çš„å¾ˆå¤šè§£å†³æ–¹æ³•éƒ½æ²¡èƒ½è§£å†³è¿™ä¸ªé—®é¢˜åï¼Œæˆ‘åªèƒ½åœ¨åº“å¼€å‘å·¥ç¨‹é‡Œç§»é™¤äº† Podsï¼Œå°†ä¸‰æ–¹åº“æ”¹ä¸ºæ‰‹åŠ¨å¯¼å…¥ï¼Œä»¥æ­¤é¿å…ä¸‰æ–¹åº“æ‰“è¿›æˆ‘çš„å°è£…åº“é‡Œã€‚</p>
<p>è¿™é‡Œé¢æœ‰ä¸ªæ„å¤–å°±æ˜¯ VKID åº“ï¼ˆä¿„ç½—æ–¯å¾®ä¿¡ï¼‰ä»ç„¶å¾—ç”¨ Pods æ¥å¼•å…¥ï¼Œå› ä¸ºå®ƒæ˜¯ä»¥çº¯ Swift æºç å¯¼å…¥çš„ã€‚æˆ‘åœ¨æ‰‹åŠ¨å¯¼å…¥ Swift æºç æ—¶ä¼šæŠ¥ç¼ºå¤±æŸä¸ªä»£ç æ–‡ä»¶ï¼Œç”¨ Pod å°±æ­£å¸¸ï¼ŒæŒ‰ä½ command èƒ½æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ä»£ç ï¼Œä½†æˆ‘çœ‹ä¸åˆ°å®ƒåœ¨å“ªâ€”â€”æ ¹æœ¬æ²¡æœ‰è·¯å¾„â€¦â€¦</p>
<p>æ­¤æ—¶æˆ‘ä¹Ÿå‘ç°åœ¨ OC åŠ¨æ€åº“é‡Œä¾èµ–çš„ä¸‰æ–¹ Swift åº“ä¼šè¢«æ‰“åŒ…è¿›æ¥ï¼Œè®¾ç½®ä¸ºÂ <code>Do not embed</code>Â ä¹Ÿæ²¡æœ‰ç”¨ã€‚AI ç¡®è®¤äº†è¿™ä¸€ç‚¹å¹¶å»ºè®®æˆ‘æ”¹å›é™æ€åº“â€¦â€¦</p>
<p>æ— å¥ˆæˆ‘æœ€ç»ˆåªèƒ½æŠŠå°è£…åº“æ”¹æˆç”¨ Pod æºä»£ç å¼•å…¥ï¼Œè€Œä¸”è¦æ”¹å°±æŠŠæ‰€æœ‰ä¸‰æ–¹å°è£…åº“éƒ½æ”¹æˆæºç å¼•å…¥ç®—äº†ã€‚</p>
<h2 data-id="heading-2">3. æºä»£ç é˜¶æ®µ</h2>
<p>å½“æˆ‘æŠŠå…¶ä»–å°è£…åº“éƒ½æˆåŠŸå‘å¸ƒåˆ° Pod å®˜æ–¹åï¼Œæœ€åè½®åˆ° VKID æ—¶åˆæŠ¥é”™äº†ã€‚Swift å†™çš„ VKID å¹¶æœªæä¾› OC è°ƒç”¨çš„æ¥å£ï¼Œæˆ‘åœ¨å°è£…å±‚ç”¨Â <code>@objc</code>Â åšäº†ä¸‹æ¡¥æ¥ï¼Œç„¶åç”¨ OC å†™çš„ä¸€ä¸ª Manager ç±»æ¥è°ƒç”¨è½¬æ¥å£ï¼Œå¾ˆåˆç†å§ï¼Ÿè¿™æ ·å°±ä¸è¡Œï¼Œ<code>podspec</code>Â éªŒè¯ä¸é€šè¿‡ã€‚</p>
<p>æŠ˜è…¾æ¥æŠ˜è…¾å»ï¼Œæœ€ç»ˆ AI ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯æŠŠå°è£…å±‚çš„ Swift æ‹†åˆ†å‡ºæ¥å•ç‹¬æˆåº“ï¼Œä¸è¦è·Ÿ OC æ··åˆåœ¨ä¸€èµ·ã€‚æœç„¶æ‹†å¼€åå°±éªŒè¯é€šè¿‡äº†ï¼ŒæˆåŠŸå‘å¸ƒåˆ° Pod å®˜æ–¹ã€‚</p>
<h2 data-id="heading-3">å…³äºåº“ç­¾åå’Œéšç§æ–‡ä»¶</h2>
<p>ä¹‹å‰æ˜¯åŠ¨æ€åº“çš„æ—¶å€™ï¼Œéœ€è¦æŠŠå•ç‹¬ç¼–è¯‘æˆçš„çœŸæœºå’Œæ¨¡æ‹Ÿå™¨ framework åˆå¹¶æˆ xcframeworkï¼Œç„¶åå†å¯¹è¿™äº›åº“è¿›è¡Œç­¾åã€‚åŠ¨æ€åº“ç­¾åæ˜¯è‹¹æœè¿‘ä¸¤å¹´çš„è¦æ±‚ï¼Œä¸ç­¾åæåŒ…ä¼šè¢«æ‰“å›ã€‚æ”¹æˆæºç å¯¼å…¥åå°±çœå»è¿™äº›éº»çƒ¦äº†ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿™ç§æºç åº“çš„éšç§æ–‡ä»¶è¦ä¸è¦åŠ æš‚æ—¶ä¸ç¡®å®šã€‚ç†è®ºä¸Šä¸ç”¨ï¼Œæˆ‘æš‚æœªæåŒ…æµ‹è¯•è¿‡ï¼Œä½† AI å»ºè®®åŠ ä¸Šï¼Œçœ‹äº†ä¸‹ä¸€äº›ä¸‰æ–¹åº“ä¹Ÿæ˜¯åŠ äº†çš„ã€‚</p>
<h2 data-id="heading-4">å…³äº AI</h2>
<p>æˆ‘ç”¨åˆ°çš„ AI ä¸»è¦æ˜¯ DeepSeek å’Œ Geminiï¼Œéƒ½æ˜¯å…è´¹çš„ç‰ˆæœ¬ã€‚ä¹‹å‰ç”¨ AI å…»æˆä¹ æƒ¯å¼€æ–°å¯¹è¯ï¼Œè¿™æ¬¡å’¨è¯¢çš„é—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä¼šåœ¨ä¸€ä¸ªå¯¹è¯é‡Œç»§ç»­æ¥å›é—®å¾ˆå¤šæ¬¡ï¼Œå‘ç° AI å˜å¼ºå¥½å¤šï¼Œé—®åˆ°åé¢è¿˜ä¼šè®°å¾—å‰é¢çš„æ¨ç†ã€‚</p>
<p>è¯´å¥é¢˜å¤–è¯ï¼ŒAIç¼–ç¨‹éƒ½å‡ºæ¥è¿™ä¹ˆä¹…äº†ï¼ŒXcodeä»ç„¶æ²¡æœ‰å®˜æ–¹æ”¯æŒAIï¼ŒçœŸæ˜¯ä½äººä¸€ç­‰ã€‚éšä¾¿ç”¨ä¸€ä¸‹å…¶ä»–AIç¼–ç¨‹å·¥å…·ï¼Œæ„Ÿè§‰éƒ½ä¸æ˜¯ä¸€ä¸ªæ—¶ä»£çš„ä¸œè¥¿ã€‚è‹¹æœå…¬å¸çš„AIéƒ¨é—¨è²Œä¼¼å†…æ–—ä¸¥é‡ï¼Œè‡³ä»Šæ‹¿ä¸å‡ºåƒæ ·çš„ä¸œè¥¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[KTSè¯­æ³•]]></title>    <link>https://juejin.cn/post/7587254134400450569</link>    <guid>https://juejin.cn/post/7587254134400450569</guid>    <pubDate>2025-12-24T09:43:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587254134400450569" data-draft-id="7587239837972365363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KTSè¯­æ³•"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-24T09:43:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GoldenPlayer"/> <meta itemprop="url" content="https://juejin.cn/user/2999123453948119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KTSè¯­æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123453948119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GoldenPlayer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:43:45.000Z" title="Wed Dec 24 2025 09:43:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¶å® KTS (Kotlin Script) å¹¶æ²¡æœ‰é‚£ä¹ˆå¯æ€•ï¼Œå®ƒçš„æ ¸å¿ƒé€»è¾‘å’Œ Groovy æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯â€œæ–¹è¨€â€å˜äº†</p>
<p>Groovy åƒæ˜¯<strong>æ–‡è¨€æ–‡æˆ–è€…ç‹‚è‰</strong>ï¼ˆå†™æ„ï¼Œå°‘å†™ä¸€ä¸ªæ‹¬å·ä¹Ÿèƒ½è·‘ï¼Œä½†åœ¨å“ªé‡Œè·‘æˆ‘ä¹Ÿå¾—çŒœï¼‰ï¼›
KTS åƒæ˜¯<strong>æ³•å¾‹æ–‡ä¹¦æˆ–è€…æ¥·ä¹¦</strong>ï¼ˆä¸¥è°¨ï¼Œå¿…é¡»åŠ æ‹¬å·ï¼Œå¿…é¡»åŠ ç­‰å·ï¼Œä½†å“ªé‡Œå†™é”™äº† IDE ç«‹é©¬æ ‡çº¢ï¼‰</p>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ª HelloWorld çº§åˆ«çš„å·¥ç¨‹ï¼Œ<strong>å·¦è¾¹ Groovyï¼Œå³è¾¹ KTS</strong>ï¼Œæ¥ä¸€åœºé¢å¯¹é¢çš„â€œç¿»è¯‘â€</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ ä¸‰æ¡æ ¸å¿ƒâ€œç¿»è¯‘â€æ³•åˆ™</h3>
<p>åœ¨çœ‹ä»£ç å‰ï¼Œåªéœ€è¦è®°ä½è¿™ä¸‰æ¡æ³•åˆ™ï¼Œå°±èƒ½è¯»æ‡‚ 80% çš„ KTS ä»£ç ï¼š</p>
<ol>
<li><strong>å­—ç¬¦ä¸²å¿…é¡»ç”¨åŒå¼•å·</strong>ï¼š
<ul>
<li>Groovy: <code>'Hello'</code> æˆ– <code>"Hello"</code> éƒ½å¯ä»¥ã€‚</li>
<li>KTS: å¿…é¡»æ˜¯ <code>"Hello"</code>ã€‚</li>
</ul>
</li>
<li><strong>èµ‹å€¼å¿…é¡»ç”¨ <code>=</code></strong>ï¼š
<ul>
<li>Groovy: <code>compileSdkVersion 30</code> (åƒæ˜¯åœ¨å–Šå‘½ä»¤)ã€‚</li>
<li>KTS: <code>compileSdk = 30</code> (è¿™æ˜¯åœ¨ç»™å±æ€§èµ‹å€¼)ã€‚</li>
</ul>
</li>
<li><strong>å‡½æ•°è°ƒç”¨å°½é‡åŠ  <code>()</code></strong>ï¼š
<ul>
<li>Groovy: <code>implementation 'com.xxx'</code>ã€‚</li>
<li>KTS: <code>implementation("com.xxx")</code>ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-1">äºŒã€ æ ¹ç›®å½• build.gradle å¯¹ç…§</h3>
<p>è¿™æ˜¯é¡¹ç›®çš„å…¥å£é…ç½®</p>
<h4 data-id="heading-2">1. å£°æ˜æ’ä»¶ (Plugins)</h4>
<p><strong>Groovy (<code>build.gradle</code>):</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">// ä»¥å‰çš„æ—§å†™æ³•æ˜¯ buildscript { dependencies { classpath ... } }
// ç°åœ¨çš„å†™æ³•ï¼š
plugins {
    id 'com.android.application' version '8.2.0' apply false
    id 'com.android.library' version '8.2.0' apply false
    id 'org.jetbrains.kotlin.android' version '1.9.20' apply false
}
</code></pre>
<p><strong>KTS (<code>build.gradle.kts</code>):</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    <span class="hljs-comment">// åŒºåˆ«1ï¼šå¿…é¡»ç”¨åŒå¼•å·</span>
    <span class="hljs-comment">// åŒºåˆ«2ï¼šå¿…é¡»ç”¨æ‹¬å· id(...)</span>
    id(<span class="hljs-string">"com.android.application"</span>) version <span class="hljs-string">"8.2.0"</span> apply <span class="hljs-literal">false</span>
    id(<span class="hljs-string">"com.android.library"</span>) version <span class="hljs-string">"8.2.0"</span> apply <span class="hljs-literal">false</span>
    id(<span class="hljs-string">"org.jetbrains.kotlin.android"</span>) version <span class="hljs-string">"1.9.20"</span> apply <span class="hljs-literal">false</span>
}
</code></pre>
<p><em>æ„Ÿå—ï¼šè¿™é‡Œå·®åˆ«ä¸å¤§ï¼Œä¸»è¦æ˜¯åŠ äº†æ‹¬å·å’ŒåŒå¼•å·ã€‚</em></p>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€ App æ¨¡å— build.gradle å¯¹ç…§ (é‡å¤´æˆ)</h3>
<p>è¿™é‡Œæ˜¯å·®å¼‚æœ€å¤§çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯<strong>IDE æç¤ºä¼˜åŠ¿</strong>ä½“ç°æœ€æ˜æ˜¾çš„åœ°æ–¹</p>
<h4 data-id="heading-4">1. æ’ä»¶å¼•ç”¨</h4>
<p><strong>Groovy:</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">plugins {
    id 'com.android.application'
    id 'kotlin-android'
}
</code></pre>
<p><strong>KTS:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    id(<span class="hljs-string">"com.android.application"</span>)
    id(<span class="hljs-string">"kotlin-android"</span>)
}
</code></pre>
<h4 data-id="heading-5">2. Android é…ç½®å— (æœ€èƒ½ä½“ç°èµ‹å€¼è¯­æ³•çš„åŒºåˆ«)</h4>
<p><strong>Groovy:</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">android {
    namespace 'com.example.myapp' // åªæœ‰ç©ºæ ¼
    compileSdkVersion 34          // åªæœ‰ç©ºæ ¼

    defaultConfig {
        applicationId "com.example.myapp"
        minSdkVersion 24
        targetSdkVersion 34
        versionCode 1
        versionName "1.0"
    }
    
    // ç­¾åé…ç½®ç­‰...
}
</code></pre>
<p><strong>KTS:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    namespace = <span class="hljs-string">"com.example.myapp"</span> <span class="hljs-comment">// å¿…é¡»åŠ  = å·</span>
    compileSdk = <span class="hljs-number">34</span>                 <span class="hljs-comment">// å±æ€§åå˜äº†(æ›´ç®€æ´)ï¼Œä¸”å¿…é¡»åŠ  = å·</span>

    defaultConfig {
        applicationId = <span class="hljs-string">"com.example.myapp"</span>
        minSdk = <span class="hljs-number">24</span>                 <span class="hljs-comment">// å¿…é¡»åŠ  = </span>
        targetSdk = <span class="hljs-number">34</span>              <span class="hljs-comment">// å¿…é¡»åŠ  =</span>
        versionCode = <span class="hljs-number">1</span>
        versionName = <span class="hljs-string">"1.0"</span>
    }
}
</code></pre>
<blockquote>
<p><strong>ğŸ”¥ IDE æç¤ºä¼˜åŠ¿æ—¶åˆ»ï¼š</strong>
åœ¨ KTS ä¸­ï¼Œä½ æŠŠé¼ æ ‡æ”¾åœ¨ <code>compileSdk</code> ä¸Šï¼ŒæŒ‰ Ctrl+å·¦é”®ï¼ˆMac æ˜¯ Cmd+å·¦é”®ï¼‰ï¼Œ<strong>ä½ æ˜¯å¯ä»¥ç‚¹è¿›æºç çš„ï¼</strong>
ä½ ä¼šçœ‹åˆ°å®ƒæ˜¯ <code>BaseExtension</code> ç±»ä¸‹çš„ä¸€ä¸ª <code>var compileSdk: Int</code> å±æ€§ã€‚
<strong>è¿™æ„å‘³ç€ï¼š</strong> å¦‚æœä½ æ•² <code>compileSdk = "34"</code> (å­—ç¬¦ä¸²)ï¼ŒIDE ä¼š<strong>ç›´æ¥çˆ†çº¢</strong>å‘Šè¯‰ä½ ç±»å‹é”™è¯¯ï¼Œè€Œåœ¨ Groovy ä¸­å¯èƒ½è¦ç­‰åˆ°ç¼–è¯‘å¤±è´¥æ‰å‘Šè¯‰ä½ ã€‚</p>
</blockquote>
<h4 data-id="heading-6">3. BuildTypes (æ„å»ºç±»å‹)</h4>
<p>è¿™æ˜¯æœ€å®¹æ˜“è®©äººæ‡µçš„åœ°æ–¹ï¼Œå› ä¸º Groovy å¤ªåŠ¨æ€äº†</p>
<p><strong>Groovy:</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">buildTypes {
    release { // è¿™é‡Œçš„ release æ˜¯å‡­ç©ºå†™å‡ºæ¥çš„ï¼ŒGroovy ä¼šåŠ¨æ€åˆ›å»º
        minifyEnabled true
        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
}
</code></pre>
<p><strong>KTS:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">buildTypes {
    <span class="hljs-comment">// KTS æ˜¯é™æ€è¯­è¨€ï¼Œä¸èƒ½å‡­ç©ºå˜å‡º releaseã€‚</span>
    <span class="hljs-comment">// å¿…é¡»ç”¨ getByName æˆ–è€… create æ¥è·å–å·²ç»å­˜åœ¨çš„ release é…ç½®</span>
    getByName(<span class="hljs-string">"release"</span>) {
        isMinifyEnabled = <span class="hljs-literal">true</span> <span class="hljs-comment">// å¸ƒå°”å€¼é€šå¸¸åŠ  is å‰ç¼€ï¼Œä¸”å¿…é¡»ç”¨ =</span>
        
        <span class="hljs-comment">// å‡½æ•°è°ƒç”¨å¿…é¡»åŠ æ‹¬å·</span>
        proguardFiles(
            getDefaultProguardFile(<span class="hljs-string">"proguard-android-optimize.txt"</span>),
            <span class="hljs-string">"proguard-rules.pro"</span>
        )
    }
}
</code></pre>
<h4 data-id="heading-7">4. ä¾èµ– (Dependencies)</h4>
<p><strong>Groovy:</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">dependencies {
    implementation 'androidx.core:core-ktx:1.12.0'
    implementation 'androidx.appcompat:appcompat:1.6.1'
    testImplementation 'junit:junit:4.13.2'
}
</code></pre>
<p><strong>KTS:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    <span class="hljs-comment">// å¿…é¡»åŠ æ‹¬å·ï¼Œå¿…é¡»åŒå¼•å·</span>
    implementation(<span class="hljs-string">"androidx.core:core-ktx:1.12.0"</span>)
    implementation(<span class="hljs-string">"androidx.appcompat:appcompat:1.6.1"</span>)
    testImplementation(<span class="hljs-string">"junit:junit:4.13.2"</span>)
}
</code></pre>
<hr/>
<h3 data-id="heading-8">å››ã€ å›åº”â€œç—›ç‚¹â€ï¼šConfig.gradle åœ¨ KTS é‡Œæ€ä¹ˆåŠï¼Ÿ</h3>
<p>ä¹‹å‰ç”¨äº† <code>config.gradle</code> æ¥ç»Ÿä¸€ç®¡ç†ç‰ˆæœ¬å·ã€‚åœ¨ KTS æ—¶ä»£ï¼ˆä»¥åŠ 2025 å¹´ç°åœ¨çš„æ ‡å‡†ï¼‰ï¼Œæˆ‘ä»¬æœ‰äº†å®˜æ–¹é’¦å®šçš„æ›¿ä»£å“ï¼š<strong>Version Catalog (libs.versions.toml)</strong>ã€‚</p>
<p>è¿™æ¯” <code>config.gradle</code> çˆ½å¤ªå¤šäº†ï¼Œè€Œä¸”æ”¯æŒ KTS çš„ä»£ç æç¤º</p>
<p><strong>1. åˆ›å»º <code>gradle/libs.versions.toml</code> æ–‡ä»¶ï¼š</strong></p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[versions]</span>
<span class="hljs-attr">kotlin</span> = <span class="hljs-string">"1.9.20"</span>
<span class="hljs-attr">coreKtx</span> = <span class="hljs-string">"1.12.0"</span>

<span class="hljs-section">[libraries]</span>
<span class="hljs-attr">androidx-core-ktx</span> = { group = <span class="hljs-string">"androidx.core"</span>, name = <span class="hljs-string">"core-ktx"</span>, version.ref = <span class="hljs-string">"coreKtx"</span> }
</code></pre>
<p><strong>2. åœ¨ KTS ä¸­ä½¿ç”¨ (IDE æ™ºèƒ½æç¤ºç‚¸è£‚)ï¼š</strong></p>
<p>å½“åœ¨ <code>build.gradle.kts</code> é‡Œæ‰“å­—æ—¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    <span class="hljs-comment">// å½“ä½ æ•²ä¸‹ libs. æ—¶ï¼ŒIDE ä¼šè‡ªåŠ¨å¼¹å‡º androidxï¼Œç„¶åå¼¹å‡º core...</span>
    <span class="hljs-comment">// å°±åƒå†™ Java ä»£ç ä¸€æ ·çˆ½ï¼Œå®Œå…¨ä¸ç”¨å»è®°åå­—ï¼</span>
    implementation(libs.androidx.core.ktx) 
}
</code></pre>
<p>è¿™æ¯”ç”¨ <code>rootProject.ext.versionName</code> è¿™ç§â€œç›²çŒœâ€çš„å†™æ³•è¦å®‰å…¨èˆ’æœå¾—å¤š</p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>KTS å¹¶æ²¡æœ‰å¢åŠ å¤æ‚åº¦ï¼Œå®ƒåªæ˜¯å¢åŠ äº†<strong>ä¸¥è°¨åº¦</strong></p>
<p><strong>ä¸ºä»€ä¹ˆå€¼å¾—è½¬ï¼Ÿ</strong></p>
<ol>
<li><strong>å†™ä»£ç çš„æ„Ÿè§‰</strong>ï¼šåœ¨å†™ Gradle è„šæœ¬æ—¶ï¼Œä¸å†æ˜¯â€œæŠ„ä»£ç â€ï¼Œè€Œæ˜¯åƒå†™ Kotlin ä¸šåŠ¡ä»£ç ä¸€æ ·ï¼Œæœ‰ç±»ã€æœ‰å¯¹è±¡ã€æœ‰æ–¹æ³•ã€‚</li>
<li><strong>æ’é”™</strong>ï¼šå°‘å†™ä¸ªæ‹¬å·ï¼ŒIDE ç•Œé¢ä¸Šç›´æ¥æ ‡çº¢ï¼Œä¸ç”¨ç­‰åˆ°ç‚¹äº† Run è·‘äº†ä¸€åŠæ‰æŠ¥é”™ã€‚</li>
<li><strong>è·³è½¬</strong>ï¼šæŒ‰ä½ Ctrl/Cmd ç‚¹å‡»ä»»ä½•é…ç½®é¡¹ï¼Œç›´æ¥çœ‹æ–‡æ¡£æºç ï¼Œä¸å†éœ€è¦ç™¾åº¦â€œcompileSdkVersion æ¥å—ä»€ä¹ˆç±»å‹â€ã€‚</li>
</ol>
<p><strong>å»ºè®®</strong>ï¼šä¸‹æ¬¡æ–°å¼€ä¸€ä¸ªå° Demo é¡¹ç›®æ—¶ï¼Œå‹¾é€‰ "Kotlin DSL"ï¼Œç…§ç€ä¸Šé¢çš„å¯¹ç…§è¡¨è¯•ä¸€æ¬¡ï¼Œä¼šå‘ç°â€œçœŸé¦™â€çš„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­ŒGemini"Something went wrong"é”™è¯¯è§£å†³æ–¹æ³•ï¼š2æ­¥å¿«é€Ÿè§£é™¤é™åˆ¶ï¼ˆ2025æœ€æ–°æ•™ç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7586973107322568744</link>    <guid>https://juejin.cn/post/7586973107322568744</guid>    <pubDate>2025-12-23T22:10:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586973107322568744" data-draft-id="7586869907067093027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­ŒGemini&quot;Something went wrong&quot;é”™è¯¯è§£å†³æ–¹æ³•ï¼š2æ­¥å¿«é€Ÿè§£é™¤é™åˆ¶ï¼ˆ2025æœ€æ–°æ•™ç¨‹ï¼‰"/> <meta itemprop="keywords" content="Google,Gemini"/> <meta itemprop="datePublished" content="2025-12-23T22:10:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GPTMirrorsé•œåƒç³»ç»Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3173663916689419"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­ŒGemini"Something went wrong"é”™è¯¯è§£å†³æ–¹æ³•ï¼š2æ­¥å¿«é€Ÿè§£é™¤é™åˆ¶ï¼ˆ2025æœ€æ–°æ•™ç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3173663916689419/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GPTMirrorsé•œåƒç³»ç»Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T22:10:45.000Z" title="Tue Dec 23 2025 22:10:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">Â å‰è¨€ï¼šGeminiæ— æ³•ä½¿ç”¨ï¼Ÿä¸€åˆ†é’Ÿæ•™ä½ å®Œç¾è§£å†³</h2>
<p>æœ€è¿‘è°·æ­Œçš„<strong>Gemini AI</strong>ç«çˆ†å…¨ç½‘ï¼Œå¸å¼•äº†å¤§é‡ç”¨æˆ·å°è¯•ä½“éªŒã€‚ä½†è®¸å¤šæœ‹å‹åœ¨æ‰“å¼€Geminiæ—¶å´é­é‡äº†ä»¤äººå¤´ç–¼çš„"<strong>Something went wrong</strong>"é”™è¯¯æç¤ºï¼Œå¯¼è‡´æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>ç½‘ä¸Šå…³äºGeminiæŠ¥é”™çš„è§£å†³æ–¹æ³•äº”èŠ±å…«é—¨ï¼Œæœ‰äººè¯´è¦å®Œå–„è´¦å·èµ„æ–™ï¼Œæœ‰äººå»ºè®®ç»‘å®šæ‰‹æœºå·ï¼Œä½†è¿™äº›æ–¹æ³•å¾€å¾€æ•ˆæœä¸ä½³ã€‚<strong>æœ¬æ–‡åˆ†äº«ç»è¿‡å®æµ‹æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œåªéœ€2ä¸ªå…³é”®æ­¥éª¤ï¼Œ1åˆ†é’Ÿå³å¯è§£é™¤Geminiä½¿ç”¨é™åˆ¶ã€‚</strong> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/885131c0a42b45baaad680271cf068ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR1BUTWlycm9yc-mVnOWDj-ezu-e7nw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767167092&amp;x-signature=v3MK64GoPPZByvocsW5F1N0P5Pg%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h2 data-id="heading-1">Gemini "Something went wrong" é”™è¯¯åŸå› åˆ†æ</h2>
<p>å½“ä½ è®¿é—®Geminiæ—¶å‡ºç°"Something went wrong"æç¤ºï¼Œä¸»è¦åŸå› åŒ…æ‹¬ï¼š</p>
<p>-è´¦å·åœ°åŒºé™åˆ¶æ£€æµ‹</p>
<ul>
<li>IPåœ°å€å¼‚å¸¸</li>
<li>è´¦å·éªŒè¯æœªé€šè¿‡</li>
<li>è®¿é—®èŠ‚ç‚¹è´¨é‡é—®é¢˜</li>
</ul>
<p><strong>é‡ç‚¹æç¤º</strong>ï¼šè§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒåœ¨äºä¸¤ä¸ªè¦ç´ â€”â€”<strong>æ­£ç¡®çš„è®¿é—®èŠ‚ç‚¹</strong>å’Œ<strong>ç‰¹å®šçš„æ¿€æ´»é“¾æ¥</strong>ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8a3dbc81bbb460a856504e966a077f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR1BUTWlycm9yc-mVnOWDj-ezu-e7nw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767167092&amp;x-signature=OWbqlsU3WeFUq2o0lFZ5ZeBbxNU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h2 data-id="heading-2">è§£å†³æ–¹æ³•ï¼š2æ­¥è§£é™¤Geminiä½¿ç”¨é™åˆ¶</h2>
<h3 data-id="heading-3">æ­¥éª¤ä¸€ï¼šç¡®ä¿ä½¿ç”¨ç¾å›½åŒºåŸŸèŠ‚ç‚¹</h3>
<p><strong>å·¥å…·è¦æ±‚ï¼š</strong></p>
<ul>
<li>å¿…é¡»ä½¿ç”¨<strong>ç¾å›½IPåœ°å€</strong>çš„ç½‘ç»œè®¿é—®å·¥å…·</li>
<li>èŠ‚ç‚¹è´¨é‡ç›´æ¥å†³å®šæˆåŠŸç‡</li>
<li>å»ºè®®é€‰æ‹©ç¨³å®šã€é€Ÿåº¦å¿«çš„ç¾å›½èŠ‚ç‚¹</li>
</ul>
<p><strong>æ“ä½œæç¤ºï¼š</strong></p>
<ol>
<li>è¿æ¥ç¾å›½åœ°åŒºçš„ç½‘ç»œèŠ‚ç‚¹</li>
<li>ç¡®è®¤IPåœ°å€æ˜¾ç¤ºä¸ºç¾å›½åŒºåŸŸ</li>
<li>å¦‚æœç¬¬äºŒæ­¥æ“ä½œå¤±è´¥ï¼Œå°è¯•åˆ‡æ¢ä¸åŒçš„ç¾å›½èŠ‚ç‚¹</li>
<li>ä¼˜è´¨èŠ‚ç‚¹é€šå¸¸ä¸€æ¬¡å³å¯æˆåŠŸ</li>
</ol>
<p>âš ï¸ <strong>é‡è¦æé†’</strong>ï¼šå¦‚æœä½ ä¸äº†è§£ä»€ä¹ˆæ˜¯"ç½‘ç»œè®¿é—®å·¥å…·"ï¼Œå¯èƒ½éœ€è¦å…ˆå­¦ä¹ ç›¸å…³åŸºç¡€çŸ¥è¯†ã€‚</p>
<hr/>
<h3 data-id="heading-4">æ­¥éª¤äºŒï¼šä½¿ç”¨ä¸“ç”¨æ¿€æ´»é“¾æ¥ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>
<p><strong>å…³é”®é“¾æ¥ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">https://gemini.google.com/gems/create?<span class="hljs-attr">hl</span>=en-US&amp;pli=<span class="hljs-number">1</span>
 
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>è¯¦ç»†æ“ä½œæ­¥éª¤ï¼š</strong></p>
<ol>
<li><strong>æ‰“å¼€é“¾æ¥</strong></li>
</ol>
<ul>
<li>
<p>åœ¨è¿æ¥å¥½ç¾å›½èŠ‚ç‚¹åï¼Œ<strong>å¿…é¡»é€šè¿‡ä¸Šè¿°ä¸“ç”¨é“¾æ¥</strong>è®¿é—®Gemini</p>
<ul>
<li>ä¸è¦ç›´æ¥è®¿é—®Geminié¦–é¡µ</li>
</ul>
</li>
</ul>
<ol>
<li>
<p><strong>ç™»å½•è´¦å·</strong></p>
<ul>
<li>å¦‚æœå·²ç™»å½•Googleè´¦å·ï¼Œä¼šç›´æ¥è¿›å…¥Gemåˆ›å»ºé¡µé¢</li>
<li>æœªç™»å½•åˆ™ç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œä½¿ç”¨ä½ çš„Googleè´¦å·ç™»å½•</li>
</ul>
</li>
<li>
<p><strong>å¡«å†™Gemä¿¡æ¯</strong></p>
<ul>
<li>
<p>é¡µé¢ä¼šæ˜¾ç¤º3ä¸ªè‹±æ–‡å¡«å†™é€‰é¡¹</p>
</li>
<li>
<p><strong>ç”¨è‹±æ–‡å¡«å†™</strong>è¿™äº›é€‰é¡¹ï¼ˆNameã€Descriptionç­‰ï¼‰</p>
</li>
<li>
<p>å†…å®¹è¦çœŸå®åˆç†ï¼Œä¸è¦éšæ„ä¹±å¡«</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>Name: <code>My Assistant</code></li>
<li>Description: <code>A helpful AI assistant for daily tasks</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ebd81f02ce40ebbc0d21646c1bf608~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR1BUTWlycm9yc-mVnOWDj-ezu-e7nw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767167092&amp;x-signature=k64x9nseDQqB68gF6YoRd89G7ZU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</li>
</ul>
</li>
</ul>
</li>
</ol>

<ol>
<li>
<p><strong>ä¿å­˜è®¾ç½®</strong></p>
<ul>
<li>ç‚¹å‡»ä¿å­˜æŒ‰é’®</li>
<li><strong>å¦‚æœå‡ºç°æ— æ³•ä¿å­˜çš„æƒ…å†µ</strong>ï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹è´¨é‡ä¸ä½³ï¼Œéœ€è¦åˆ‡æ¢ç¾å›½èŠ‚ç‚¹é‡è¯•</li>
<li>æˆåŠŸä¿å­˜åï¼Œä½ çš„è´¦å·é™åˆ¶å°±å·²ç»è§£é™¤äº†</li>
</ul>
</li>
<li>
<p><strong>éªŒè¯ç»“æœ</strong></p>
<ul>
<li>ä¿å­˜æˆåŠŸåï¼Œè¿›å…¥Geminiå¯¹è¯é¡µé¢</li>
<li>æ­¤æ—¶åº”è¯¥å¯ä»¥æ­£å¸¸ä½¿ç”¨Geminiè¿›è¡Œå¯¹è¯äº†</li>
</ul>
</li>
</ol>
<h2 data-id="heading-5">å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰</h2>
<p><strong>Q1: ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨è¿™ä¸ªç‰¹å®šé“¾æ¥ï¼Ÿ</strong><br/>
A: è¿™ä¸ªé“¾æ¥ä¼šè§¦å‘Geminiçš„Gemåˆ›å»ºåŠŸèƒ½ï¼Œé€šè¿‡è¿™ä¸ªè¿‡ç¨‹å¯ä»¥æ¿€æ´»è´¦å·çš„å®Œæ•´æƒé™ï¼Œç»•è¿‡å¸¸è§„çš„åœ°åŒºé™åˆ¶æ£€æµ‹ã€‚</p>
<p><strong>Q2: å¡«å†™Gemä¿¡æ¯æ—¶æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹ï¼Ÿ</strong><br/>
A: åŠ¡å¿…ç”¨è‹±æ–‡å¡«å†™ï¼Œå†…å®¹è¦åˆç†çœŸå®ï¼Œä¸è¦ä½¿ç”¨éšæœºå­—ç¬¦æˆ–æ˜æ˜¾è™šå‡çš„ä¿¡æ¯ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¿å­˜å¤±è´¥ã€‚</p>
<p><strong>Q3: å¦‚æœå¤šæ¬¡åˆ‡æ¢èŠ‚ç‚¹ä»ç„¶å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</strong><br/>
A: å»ºè®®æ›´æ¢ç½‘ç»œè®¿é—®å·¥å…·ï¼Œé€‰æ‹©è´¨é‡æ›´å¥½ã€æ›´ç¨³å®šçš„ç¾å›½èŠ‚ç‚¹æœåŠ¡ã€‚</p>
<p><strong>Q4: è§£é™¤é™åˆ¶åä¼šä¸ä¼šå†æ¬¡å‡ºç°é—®é¢˜ï¼Ÿ</strong><br/>
A: æ­£å¸¸æƒ…å†µä¸‹ï¼ŒæˆåŠŸæ¿€æ´»åè´¦å·å°±å¯ä»¥ç¨³å®šä½¿ç”¨ã€‚ä½†å»ºè®®åœ¨ä½¿ç”¨Geminiæ—¶ä»ä¿æŒç¾å›½èŠ‚ç‚¹è¿æ¥ã€‚</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>è§£é™¤Gemini "Something went wrong"é”™è¯¯çš„<strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p>
<p>âœ… ä½¿ç”¨<strong>ç¾å›½åŒºåŸŸ</strong>çš„ä¼˜è´¨ç½‘ç»œèŠ‚ç‚¹<br/>
âœ… é€šè¿‡<strong>ä¸“ç”¨æ¿€æ´»é“¾æ¥</strong>è®¿é—®ï¼š<code>https://gemini.google.com/gems/create?hl=en-US&amp;pli=1</code><br/>
âœ… <strong>ç”¨è‹±æ–‡</strong>çœŸå®å¡«å†™Gemåˆ›å»ºä¿¡æ¯<br/>
âœ… æˆåŠŸä¿å­˜åå³å¯æ­£å¸¸ä½¿ç”¨Gemini</p>
<p>æŒ‰ç…§æœ¬æ•™ç¨‹æ“ä½œï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·éƒ½èƒ½åœ¨1åˆ†é’Ÿå†…æˆåŠŸè§£é™¤Geminiä½¿ç”¨é™åˆ¶ã€‚å¦‚æœä½ æˆåŠŸäº†ï¼Œæ¬¢è¿ç‚¹èµåˆ†äº«æœ¬æ•™ç¨‹ï¼</p>
<p>å¯¹äºåŠ¨æ‰‹èƒ½åŠ›ä¸å¼ºï¼Œä¸æƒ³æŠ˜è…¾çš„å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ•™ç¨‹ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//chat.gptmirrors.com/gemini-web-login-cn.html</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.jsçš„package.json]]></title>    <link>https://juejin.cn/post/7587023071067521076</link>    <guid>https://juejin.cn/post/7587023071067521076</guid>    <pubDate>2025-12-24T09:48:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587023071067521076" data-draft-id="7587256133790761000" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.jsçš„package.json"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-24T09:48:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å·¦Pythonå³Java"/> <meta itemprop="url" content="https://juejin.cn/user/4107431173952525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.jsçš„package.json
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431173952525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å·¦Pythonå³Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-24T09:48:33.000Z" title="Wed Dec 24 2025 09:48:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>package.json</code> æ˜¯ <strong>Node.js</strong> å’Œå‰ç«¯é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ª <strong>JSON æ ¼å¼</strong> çš„æ–‡ä»¶ï¼Œç”¨æ¥æè¿°é¡¹ç›®çš„å…ƒæ•°æ®ã€ä¾èµ–ã€è„šæœ¬ç­‰ä¿¡æ¯ã€‚</p>
<p>ä¸‹é¢æˆ‘ç»™ä½ ä¸€ä¸ª <strong>å®Œæ•´ç¤ºä¾‹</strong> å’Œ <strong>è¯¦ç»†è§£æ</strong>ï¼Œæ–¹ä¾¿ä½ å¿«é€ŸæŒæ¡ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. åŸºæœ¬ä½œç”¨</h2>
<ul>
<li><strong>é¡¹ç›®æè¿°</strong>ï¼ˆåç§°ã€ç‰ˆæœ¬ã€ä½œè€…ç­‰ï¼‰</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼ˆç”Ÿäº§ä¾èµ–ã€å¼€å‘ä¾èµ–ï¼‰</li>
<li><strong>è„šæœ¬å‘½ä»¤</strong>ï¼ˆ<code>npm run xxx</code>ï¼‰</li>
<li><strong>å·¥å…·é…ç½®</strong>ï¼ˆå¦‚ ESLintã€Babelã€TypeScript ç­‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-1">2. ç¤ºä¾‹ <code>package.json</code></h2>
<pre><code class="hljs language-perl" lang="perl">Json
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"my-node-app"</span>,                <span class="hljs-regexp">//</span> é¡¹ç›®åç§°ï¼ˆå¿…é¡»å°å†™ã€æ— ç©ºæ ¼ï¼‰
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,                   <span class="hljs-regexp">//</span> ç‰ˆæœ¬å·ï¼ˆéµå¾ª semver è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"A sample Node.js app"</span>,<span class="hljs-regexp">//</span> é¡¹ç›®æè¿°
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"index.js"</span>,                   <span class="hljs-regexp">//</span> å…¥å£æ–‡ä»¶
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"module"</span>,                     <span class="hljs-regexp">//</span> æ¨¡å—ç±»å‹: <span class="hljs-string">"commonjs"</span> æˆ– <span class="hljs-string">"module"</span> (ESM)
  <span class="hljs-string">"scripts"</span>: {                          <span class="hljs-regexp">//</span> npm è„šæœ¬å‘½ä»¤
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"node index.js"</span>,
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"nodemon index.js"</span>,
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"node test.js"</span>
  },
  <span class="hljs-string">"keywords"</span>: [<span class="hljs-string">"node"</span>, <span class="hljs-string">"example"</span>],      <span class="hljs-regexp">//</span> å…³é”®è¯ï¼ˆæ–¹ä¾¿ npm æœç´¢ï¼‰
  <span class="hljs-string">"author"</span>: <span class="hljs-string">"Your Name"</span>,                <span class="hljs-regexp">//</span> ä½œè€…
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"MIT"</span>,                     <span class="hljs-regexp">//</span> è®¸å¯è¯
  <span class="hljs-string">"dependencies"</span>: {                     <span class="hljs-regexp">//</span> ç”Ÿäº§ä¾èµ–
    <span class="hljs-string">"express"</span>: <span class="hljs-string">"^4.18.2"</span>
  },
  <span class="hljs-string">"devDependencies"</span>: {                  <span class="hljs-regexp">//</span> å¼€å‘ä¾èµ–
    <span class="hljs-string">"nodemon"</span>: <span class="hljs-string">"^3.0.1"</span>
  },
  <span class="hljs-string">"engines"</span>: {                           <span class="hljs-regexp">//</span> Node ç‰ˆæœ¬è¦æ±‚
    <span class="hljs-string">"node"</span>: <span class="hljs-string">"&gt;=18.0.0"</span>
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-2">3. å¸¸ç”¨å­—æ®µè¯´æ˜</h2>





















































<table><thead><tr><th>å­—æ®µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>name</code></td><td>åŒ…åï¼ˆnpm å‘å¸ƒæ—¶ä½¿ç”¨ï¼‰</td></tr><tr><td><code>version</code></td><td>ç‰ˆæœ¬å·ï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼šä¸».æ¬¡.è¡¥ä¸ï¼‰</td></tr><tr><td><code>description</code></td><td>é¡¹ç›®æè¿°</td></tr><tr><td><code>main</code></td><td>å…¥å£æ–‡ä»¶ï¼ˆ<code>require()</code> é»˜è®¤åŠ è½½ï¼‰</td></tr><tr><td><code>type</code></td><td>æ¨¡å—ç±»å‹ï¼ˆ<code>commonjs</code> æˆ– <code>module</code>ï¼‰</td></tr><tr><td><code>scripts</code></td><td>è‡ªå®šä¹‰å‘½ä»¤ï¼ˆ<code>npm run xxx</code>ï¼‰</td></tr><tr><td><code>dependencies</code></td><td>ç”Ÿäº§ç¯å¢ƒä¾èµ–</td></tr><tr><td><code>devDependencies</code></td><td>å¼€å‘ç¯å¢ƒä¾èµ–</td></tr><tr><td><code>peerDependencies</code></td><td>å¯¹ç­‰ä¾èµ–ï¼ˆæ’ä»¶/åº“å¸¸ç”¨ï¼‰</td></tr><tr><td><code>engines</code></td><td>æŒ‡å®š Node/npm ç‰ˆæœ¬</td></tr><tr><td><code>license</code></td><td>å¼€æºåè®®</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">4. å¸¸ç”¨å‘½ä»¤</h2>
<pre><code class="hljs language-csharp" lang="csharp">Bash
<span class="hljs-meta"># åˆå§‹åŒ– package.json</span>
npm <span class="hljs-keyword">init</span> -y

<span class="hljs-meta"># å®‰è£…ç”Ÿäº§ä¾èµ–</span>
npm install express

<span class="hljs-meta"># å®‰è£…å¼€å‘ä¾èµ–</span>
npm install nodemon --save-dev

<span class="hljs-meta"># è¿è¡Œè„šæœ¬</span>
npm run start
npm run dev
</code></pre>
<hr/>
<h2 data-id="heading-4">5. ç‰ˆæœ¬å·è§„åˆ™ï¼ˆSemVerï¼‰</h2>
<ul>
<li><code>^1.2.3</code>ï¼šå…è®¸ <strong>æ¬¡ç‰ˆæœ¬</strong> å’Œ <strong>è¡¥ä¸ç‰ˆæœ¬</strong> æ›´æ–°ï¼ˆ<code>1.x.x</code>ï¼‰</li>
<li><code>~1.2.3</code>ï¼šå…è®¸ <strong>è¡¥ä¸ç‰ˆæœ¬</strong> æ›´æ–°ï¼ˆ<code>1.2.x</code>ï¼‰</li>
<li><code>1.2.3</code>ï¼šå›ºå®šç‰ˆæœ¬</li>
<li><code>*</code>ï¼šä»»æ„ç‰ˆæœ¬ï¼ˆä¸æ¨èï¼‰</li>
</ul>
<hr/>
<p>å¦‚æœä½ éœ€è¦ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ª <strong>æœ€å°å¯è¿è¡Œçš„ Node.js é¡¹ç›®</strong>ï¼Œå¸¦ <code>package.json</code>ã€<code>index.js</code> å’Œ <code>npm scripts</code>ï¼Œç›´æ¥ <code>npm start</code> å°±èƒ½è·‘ã€‚<br/>
ä½ è¦æˆ‘å¸®ä½ åšè¿™ä¸ªå—ï¼Ÿè¿™æ ·ä½ å¯ä»¥ç›´æ¥è¿è¡Œæµ‹è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>