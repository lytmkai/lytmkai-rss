<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åœ¨é«˜å¹¶å‘åˆ†å¸ƒå¼SpringCloudç³»ç»Ÿä¸­ï¼Œä»€ä¹ˆæ—¶å€™æ—¶å€™å¹¶è¡ŒæŸ¥è¯¢ï¼Œæé«˜æŸ¥è¯¢æ¥å£æ•ˆç‡ï¼Œä»10såˆ°100ms]]></title>    <link>https://juejin.cn/post/7582755817670361098</link>    <guid>https://juejin.cn/post/7582755817670361098</guid>    <pubDate>2025-12-12T06:50:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582755817670361098" data-draft-id="7582755817670344714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨é«˜å¹¶å‘åˆ†å¸ƒå¼SpringCloudç³»ç»Ÿä¸­ï¼Œä»€ä¹ˆæ—¶å€™æ—¶å€™å¹¶è¡ŒæŸ¥è¯¢ï¼Œæé«˜æŸ¥è¯¢æ¥å£æ•ˆç‡ï¼Œä»10såˆ°100ms"/> <meta itemprop="keywords" content="åˆ†å¸ƒå¼,Java,åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T06:50:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/808832912075352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨é«˜å¹¶å‘åˆ†å¸ƒå¼SpringCloudç³»ç»Ÿä¸­ï¼Œä»€ä¹ˆæ—¶å€™æ—¶å€™å¹¶è¡ŒæŸ¥è¯¢ï¼Œæé«˜æŸ¥è¯¢æ¥å£æ•ˆç‡ï¼Œä»10såˆ°100ms
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/808832912075352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:50:46.000Z" title="Fri Dec 12 2025 06:50:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºJavaåç«¯ï¼ˆSpring Cloudï¼‰å¼€å‘ï¼Œé’ˆå¯¹â€œæŸ¥è¯¢æ¥å£æ˜¯å¦é€‚åˆå¹¶è¡ŒæŸ¥è¯¢å¹¶å½’æ•´â€ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†æ˜¯ <strong>â€œä»»åŠ¡ç‹¬ç«‹æ€§â€â€œå¹¶è¡Œæ”¶ç›Šæˆæœ¬æ¯”â€â€œæ•°æ®ä¸€è‡´æ€§è¦æ±‚â€</strong> ã€‚ä»¥ä¸‹æ˜¯ã€Œé€‚ç”¨åœºæ™¯ã€ã€Œç»å¯¹ä¸é€‚ç”¨åœºæ™¯ã€çš„è¯¦ç»†æ‹†è§£ï¼Œç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯å’ŒæŠ€æœ¯å®ç°å»ºè®®ï¼Œç¡®ä¿å¯ç›´æ¥è½åœ°ï¼š</p>
<h2 data-id="heading-0">ä¸€ã€é€‚åˆå¹¶è¡ŒæŸ¥è¯¢å¹¶å½’æ•´çš„åœºæ™¯ï¼ˆæ»¡è¶³ä»»æ„1æ¡æ ¸å¿ƒæ¡ä»¶+æ”¶ç›Š&gt;æˆæœ¬ï¼‰</h2>
<h3 data-id="heading-1">æ ¸å¿ƒå‰æï¼ˆå¿…æ»¡è¶³ï¼‰</h3>
<ol>
<li>å¤šä¸ªæŸ¥è¯¢ä»»åŠ¡ <strong>æ— ä¾èµ–å…³ç³»</strong>ï¼ˆä¸éœ€è¦å‰ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœä½œä¸ºåä¸€ä¸ªçš„å…¥å‚ï¼‰ï¼›</li>
<li>å•ä¸ªæŸ¥è¯¢æ˜¯ <strong>çº¯è¯»æ“ä½œ</strong>ï¼ˆæ— å†™é€»è¾‘ï¼Œä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œæ— çŠ¶æ€ï¼‰ï¼›</li>
<li>å¹¶è¡Œçš„ <strong>æ€»è€—æ—¶ &lt; ä¸²è¡Œæ€»è€—æ—¶</strong>ï¼ˆé¿å…â€œå°ä»»åŠ¡å¹¶è¡Œâ€å¯¼è‡´çº¿ç¨‹åˆ‡æ¢å¼€é”€å¤§äºæ”¶ç›Šï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-2">å…·ä½“åœºæ™¯ï¼ˆé™„ä¸šåŠ¡ä¾‹å­+æŠ€æœ¯å®ç°ï¼‰</h3>
<h4 data-id="heading-3">1. å¤šç»´åº¦æ•°æ®èšåˆæŸ¥è¯¢ï¼ˆæ— ä¾èµ–ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šä¸€ä¸ªæ¥å£éœ€è¦è¿”å›â€œå¤šç»´åº¦ç‹¬ç«‹æ•°æ®â€ï¼Œæ¯ä¸ªç»´åº¦çš„æŸ¥è¯¢äº’ä¸ä¾èµ–ï¼Œä¸²è¡ŒæŸ¥è¯¢ä¼šå¯¼è‡´æ€»è€—æ—¶=å„æ¥å£è€—æ—¶ä¹‹å’Œï¼Œå¹¶è¡Œå¯å°†æ€»è€—æ—¶é™è‡³â€œæœ€é•¿å•ä¸ªæ¥å£è€—æ—¶â€ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>è®¢å•è¯¦æƒ…é¡µï¼šéœ€æŸ¥è¯¢ã€Œè®¢å•åŸºæœ¬ä¿¡æ¯ã€ã€Œè®¢å•å•†å“åˆ—è¡¨ã€ã€Œç”¨æˆ·æ”¶è´§åœ°å€ã€ã€Œæ”¯ä»˜è®°å½•ã€ã€Œä¼˜æƒ åˆ¸ä½¿ç”¨è®°å½•ã€ï¼Œ5ä¸ªæŸ¥è¯¢æ— ä¾èµ–ï¼ˆå…¥å‚éƒ½æ˜¯è®¢å•ID/ç”¨æˆ·IDï¼Œæ— éœ€äº’ç›¸ç­‰å¾…ï¼‰ï¼›</li>
<li>é¦–é¡µæ•°æ®èšåˆï¼šæŸ¥è¯¢ã€Œçƒ­é—¨å•†å“åˆ—è¡¨ã€ã€Œç”¨æˆ·ä¸ªæ€§åŒ–æ¨èã€ã€Œå…¬å‘Šä¿¡æ¯ã€ã€Œè´­ç‰©è½¦æ•°é‡ã€ï¼Œ4ä¸ªæŸ¥è¯¢ç‹¬ç«‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªå­æŸ¥è¯¢çš„å…¥å‚ç›¸åŒï¼ˆæˆ–å¯æå‰ç¡®å®šï¼Œæ— éœ€å‰åºç»“æœï¼‰ï¼›</li>
<li>å•ä¸ªå­æŸ¥è¯¢è€—æ—¶â‰¥50msï¼ˆå¦‚æœå•ä¸ªæŸ¥è¯¢ä»…10msï¼Œå¹¶è¡Œçš„çº¿ç¨‹åˆ‡æ¢å¼€é”€å¯èƒ½è¶…è¿‡æ”¶ç›Šï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯å®ç°ï¼ˆSpring Cloudç¯å¢ƒï¼‰</strong> ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ç”¨CompletableFutureå®ç°å¼‚æ­¥å¹¶è¡Œï¼ˆæ¨èIOå¯†é›†å‹æŸ¥è¯¢ï¼‰</span>
<span class="hljs-keyword">@Service</span>
public class OrderDetailService {
    <span class="hljs-keyword">@Autowired</span>
    private OrderMapper orderMapper;
    <span class="hljs-keyword">@Autowired</span>
    private OrderItemFeignClient orderItemFeign; <span class="hljs-comment">// è·¨æœåŠ¡Feignæ¥å£</span>
    <span class="hljs-keyword">@Autowired</span>
    private UserAddressFeignClient addressFeign;
    <span class="hljs-keyword">@Autowired</span>
    private ExecutorService asyncQueryExecutor; <span class="hljs-comment">// è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼ˆé¿å…ç”¨é»˜è®¤çº¿ç¨‹æ± ï¼‰</span>

    public OrderDetailVO <span class="hljs-built_in">getOrderDetail</span>(Long orderId, Long userId) {
        <span class="hljs-comment">// 1. å¹¶è¡Œå‘èµ·å¤šä¸ªæŸ¥è¯¢ï¼ˆæ— ä¾èµ–ï¼‰</span>
        CompletableFuture&lt;OrderPO&gt; orderFuture = CompletableFuture<span class="hljs-selector-class">.supplyAsync</span>(
            () -&gt; orderMapper<span class="hljs-selector-class">.selectById</span>(orderId),
            asyncQueryExecutor
        );
        CompletableFuture&lt;List&lt;OrderItemVO&gt;&gt; itemFuture = CompletableFuture<span class="hljs-selector-class">.supplyAsync</span>(
            () -&gt; orderItemFeign<span class="hljs-selector-class">.listByOrderId</span>(orderId),
            asyncQueryExecutor
        );
        CompletableFuture&lt;AddressVO&gt; addressFuture = CompletableFuture<span class="hljs-selector-class">.supplyAsync</span>(
            () -&gt; addressFeign<span class="hljs-selector-class">.getByUserId</span>(userId),
            asyncQueryExecutor
        );

        <span class="hljs-comment">// 2. ç­‰å¾…æ‰€æœ‰æŸ¥è¯¢å®Œæˆï¼Œå½’æ•´ç»“æœï¼ˆå¼‚å¸¸ç»Ÿä¸€æ•è·ï¼‰</span>
        try {
            CompletableFuture<span class="hljs-selector-class">.allOf</span>(orderFuture, itemFuture, addressFuture)<span class="hljs-selector-class">.join</span>();
            return OrderDetailVO<span class="hljs-selector-class">.builder</span>()
                <span class="hljs-selector-class">.order</span>(orderFuture.get())
                <span class="hljs-selector-class">.items</span>(itemFuture.get())
                <span class="hljs-selector-class">.address</span>(addressFuture.get())
                <span class="hljs-selector-class">.build</span>();
        } catch (Exception e) {
            log<span class="hljs-selector-class">.error</span>("å¹¶è¡ŒæŸ¥è¯¢è®¢å•è¯¦æƒ…å¤±è´¥", e);
            throw new <span class="hljs-built_in">BusinessException</span>("æŸ¥è¯¢è®¢å•è¯¦æƒ…å¤±è´¥");
        }
    }
}
</code></pre>
</li>
<li>æ³¨æ„ï¼šçº¿ç¨‹æ± éœ€è‡ªå®šä¹‰ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°=CPUæ ¸å¿ƒæ•°Ã—2+1ï¼Œæœ€å¤§çº¿ç¨‹æ•°=CPUæ ¸å¿ƒæ•°Ã—4ï¼Œé˜Ÿåˆ—å®¹é‡é€‚ä¸­ï¼‰ï¼Œé¿å…ç”¨<code>ForkJoinPool.commonPool()</code>ï¼ˆæ˜“è¢«å…¶ä»–ä»»åŠ¡å æ»¡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">2. è·¨æœåŠ¡æ— ä¾èµ–æ¥å£æŸ¥è¯¢ï¼ˆå¾®æœåŠ¡åœºæ™¯ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šSpring Cloudå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªæœåŠ¡éœ€è¦è°ƒç”¨å¤šä¸ªå…¶ä»–æœåŠ¡çš„æŸ¥è¯¢æ¥å£ï¼Œä¸”è¿™äº›æ¥å£æ— ä¾èµ–ï¼ˆå¦‚è°ƒç”¨ç”¨æˆ·æœåŠ¡ã€å•†å“æœåŠ¡ã€åº“å­˜æœåŠ¡çš„æŸ¥è¯¢æ¥å£ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>å•†å“è¯¦æƒ…é¡µï¼šè°ƒç”¨ã€Œå•†å“æœåŠ¡ï¼ˆå•†å“åŸºæœ¬ä¿¡æ¯ï¼‰ã€ã€Œåº“å­˜æœåŠ¡ï¼ˆå½“å‰åº“å­˜ï¼‰ã€ã€Œè¯„ä»·æœåŠ¡ï¼ˆå¥½è¯„ç‡ï¼‰ã€ã€Œä¿ƒé”€æœåŠ¡ï¼ˆå½“å‰æ´»åŠ¨ï¼‰ã€ï¼Œ4ä¸ªè·¨æœåŠ¡æŸ¥è¯¢ç‹¬ç«‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼š</p>
<ul>
<li>è·¨æœåŠ¡æ¥å£æ˜¯å¹‚ç­‰çš„ï¼ˆå¤šæ¬¡è°ƒç”¨ç»“æœä¸€è‡´ï¼Œæ— å‰¯ä½œç”¨ï¼‰ï¼›</li>
<li>å•ä¸ªè·¨æœåŠ¡æ¥å£è€—æ—¶â‰¥100msï¼ˆè·¨ç½‘ç»œIOè€—æ—¶è¾ƒé•¿ï¼Œå¹¶è¡Œæ”¶ç›Šæ˜æ˜¾ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯å®ç°</strong>ï¼šFeignå¼‚æ­¥è°ƒç”¨ï¼ˆé…åˆCompletableFutureï¼‰ï¼Œæˆ–ä½¿ç”¨Resilience4jçš„å¼‚æ­¥ç†”æ–­é™çº§ï¼ˆé¿å…å•ä¸ªæœåŠ¡è¶…æ—¶å¯¼è‡´æ•´ä½“é˜»å¡ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">3. æ‰¹é‡æ•°æ®æ‹†åˆ†æŸ¥è¯¢ï¼ˆå¤§æ•°æ®é‡åœºæ™¯ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæŸ¥è¯¢æ¡ä»¶å¯æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹å­æ¡ä»¶ï¼Œæ¯ä¸ªå­æ¡ä»¶æŸ¥è¯¢éƒ¨åˆ†æ•°æ®ï¼Œæœ€ååˆå¹¶ç»“æœï¼ˆå¦‚æŒ‰IDåˆ†ç‰‡ã€æŒ‰æ—¶é—´åˆ†ç‰‡ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>æŸ¥è¯¢â€œè¿‘3ä¸ªæœˆçš„è®¢å•ç»Ÿè®¡â€ï¼Œæ‹†åˆ†ä¸ºâ€œ1æœˆè®¢å•â€â€œ2æœˆè®¢å•â€â€œ3æœˆè®¢å•â€3ä¸ªç‹¬ç«‹æŸ¥è¯¢ï¼Œå¹¶è¡Œæ‰§è¡Œåæ±‡æ€»ç»Ÿè®¡ç»“æœï¼›</li>
<li>æ‰¹é‡æŸ¥è¯¢100ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ‹†åˆ†ä¸º10ä¸ªæ‰¹æ¬¡ï¼ˆæ¯æ‰¹10ä¸ªç”¨æˆ·IDï¼‰ï¼Œå¹¶è¡ŒæŸ¥è¯¢ååˆå¹¶åˆ—è¡¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼š</p>
<ul>
<li>æ‹†åˆ†åçš„å­æŸ¥è¯¢æ— é‡å æ•°æ®ï¼ˆé¿å…é‡å¤ç»Ÿè®¡ï¼‰ï¼›</li>
<li>å•æ¡æŸ¥è¯¢æ•°æ®é‡è¾ƒå¤§ï¼ˆå¦‚10ä¸‡+ï¼‰ï¼Œæ‹†åˆ†åå¯å‡å°‘å•æ¡SQLçš„æ‰§è¡Œå‹åŠ›ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯å®ç°</strong>ï¼šç”¨<code>ListUtils.partition()</code>æ‹†åˆ†å…¥å‚ï¼Œé…åˆCompletableFutureå¹¶è¡Œæ‰§è¡Œï¼Œæœ€åç”¨<code>Stream.concat()</code>åˆå¹¶ç»“æœã€‚</p>
</li>
</ul>
<h4 data-id="heading-6">4. å†·çƒ­æ•°æ®åˆ†ç¦»æŸ¥è¯¢ï¼ˆä¼˜åŒ–å“åº”é€Ÿåº¦ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæŸ¥è¯¢ç»“æœåŒ…å«â€œçƒ­æ•°æ®â€ï¼ˆé«˜é¢‘è®¿é—®ï¼Œå¦‚ç¼“å­˜ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼‰å’Œâ€œå†·æ•°æ®â€ï¼ˆä½é¢‘è®¿é—®ï¼Œå¦‚æ•°æ®åº“ä¸­çš„å†å²è®°å½•ï¼‰ï¼Œå†·æ•°æ®æŸ¥è¯¢è€—æ—¶è¾ƒé•¿ï¼Œå¯å¹¶è¡ŒæŸ¥è¯¢å†·çƒ­æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¸ªäººä¸­å¿ƒï¼šæŸ¥è¯¢ã€Œç¼“å­˜ä¸­çš„ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆçƒ­æ•°æ®ï¼Œ10msï¼‰ã€å’Œã€Œæ•°æ®åº“ä¸­çš„ç”¨æˆ·å†å²è®¢å•ç»Ÿè®¡ï¼ˆå†·æ•°æ®ï¼Œ500msï¼‰ã€ï¼Œå¹¶è¡ŒæŸ¥è¯¢ååˆå¹¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼šå†·æ•°æ®æŸ¥è¯¢è€—æ—¶æ˜æ˜¾é«˜äºçƒ­æ•°æ®ï¼ˆå¦‚å†·æ•°æ®è€—æ—¶æ˜¯çƒ­æ•°æ®çš„5å€ä»¥ä¸Šï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">äºŒã€ç»å¯¹ä¸èƒ½å¹¶è¡ŒæŸ¥è¯¢çš„åœºæ™¯ï¼ˆå¼ºè¡Œå¹¶è¡Œå¿…å‡ºé—®é¢˜ï¼‰</h2>
<h3 data-id="heading-8">æ ¸å¿ƒåŸå› ï¼ˆæ»¡è¶³ä»»æ„1æ¡å³ç¦æ­¢ï¼‰</h3>
<ol start="4">
<li>æŸ¥è¯¢ä»»åŠ¡ <strong>æœ‰ä¾èµ–å…³ç³»</strong>ï¼ˆåä¸€ä¸ªæŸ¥è¯¢éœ€è¦å‰ä¸€ä¸ªçš„ç»“æœä½œä¸ºå…¥å‚ï¼‰ï¼›</li>
<li>æŸ¥è¯¢æ¶‰åŠ <strong>çŠ¶æ€ä¿®æ”¹</strong>ï¼ˆéçº¯è¯»æ“ä½œï¼Œå¦‚æŸ¥è¯¢æ—¶è§¦å‘æ•°æ®æ›´æ–°ã€è®¡æ•°ç´¯åŠ ï¼‰ï¼›</li>
<li>è¦æ±‚ <strong>å¼ºä¸€è‡´æ€§</strong>ï¼ˆå¹¶è¡Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€é‡å¤æˆ–é—æ¼ï¼‰ï¼›</li>
<li>æŸ¥è¯¢æ˜¯ <strong>éå¹‚ç­‰</strong> çš„ï¼ˆå¤šæ¬¡è°ƒç”¨ç»“æœä¸åŒï¼Œæœ‰å‰¯ä½œç”¨ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-9">å…·ä½“åœºæ™¯ï¼ˆé™„é£é™©ç‚¹+æ­£ç¡®åšæ³•ï¼‰</h3>
<h4 data-id="heading-10">1. æœ‰ä¾èµ–å…³ç³»çš„æŸ¥è¯¢ï¼ˆä¸²è¡Œæ˜¯å”¯ä¸€é€‰æ‹©ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šåä¸€ä¸ªæŸ¥è¯¢çš„å…¥å‚å¿…é¡»æ˜¯å‰ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœï¼ˆå¦‚â€œå…ˆæŸ¥ç”¨æˆ·IDï¼Œå†æŸ¥è¯¥ç”¨æˆ·çš„è®¢å•ï¼›å…ˆæŸ¥è®¢å•IDï¼Œå†æŸ¥è¯¥è®¢å•çš„å•†å“â€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>æµç¨‹ï¼šæŸ¥è¯¢â€œç”¨æˆ·çš„æœ€æ–°è®¢å•â€ â†’ ç”¨è¯¥è®¢å•IDæŸ¥è¯¢â€œè®¢å•å•†å“â€ â†’ ç”¨å•†å“IDæŸ¥è¯¢â€œå•†å“åº“å­˜â€ï¼Œ3ä¸ªæŸ¥è¯¢æœ‰ä¸¥æ ¼ä¾èµ–ã€‚</li>
</ul>
</li>
<li>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡ŒæŸ¥è¯¢ä¼šå¯¼è‡´åä¸€ä¸ªæŸ¥è¯¢â€œæ‹¿ä¸åˆ°å…¥å‚â€æˆ–â€œæ‹¿åˆ°é”™è¯¯å…¥å‚â€ï¼Œç›´æ¥æŠ¥é”™æˆ–è¿”å›æ— æ•ˆæ•°æ®ã€‚</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼šä¸²è¡Œæ‰§è¡Œï¼Œæˆ–é€šè¿‡SQLå…³è”æŸ¥è¯¢ï¼ˆå¦‚<code>JOIN</code>ï¼‰å‡å°‘æŸ¥è¯¢æ¬¡æ•°ï¼Œè€Œéå¹¶è¡Œã€‚</p>
</li>
</ul>
<h4 data-id="heading-11">2. æ¶‰åŠæ•°æ®ä¿®æ”¹çš„â€œæŸ¥è¯¢â€ï¼ˆéçº¯è¯»æ“ä½œï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šçœ‹ä¼¼æ˜¯æŸ¥è¯¢æ¥å£ï¼Œä½†å†…éƒ¨åŒ…å«å†™é€»è¾‘ï¼ˆå¦‚â€œæŸ¥è¯¢ç”¨æˆ·ç§¯åˆ†â€æ—¶ï¼Œè§¦å‘â€œç§¯åˆ†è¿‡æœŸæ‰£é™¤â€ï¼›â€œæŸ¥è¯¢è®¢å•åˆ—è¡¨â€æ—¶ï¼Œè§¦å‘â€œè®¢å•çŠ¶æ€è‡ªåŠ¨æ›´æ–°â€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡Œæ‰§è¡Œä¼šå¯¼è‡´ <strong>å¹¶å‘ä¿®æ”¹é—®é¢˜</strong>ï¼ˆå¦‚åŒä¸€ç”¨æˆ·çš„ç§¯åˆ†è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰£é™¤ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼‰ã€ <strong>é”ç«äº‰åŠ å‰§</strong>ï¼ˆå¦‚å¹¶è¡ŒæŸ¥è¯¢éƒ½éœ€è¦è·å–æ•°æ®åº“è¡Œé”ï¼Œå¯¼è‡´æ­»é”æˆ–è¶…æ—¶ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<ul>
<li>æ‹†åˆ†æ¥å£ï¼šå°†â€œå†™é€»è¾‘â€å•ç‹¬æŠ½ä¸ºå†™æ¥å£ï¼ŒæŸ¥è¯¢æ¥å£ä»…åšçº¯è¯»ï¼›</li>
<li>è‹¥æ— æ³•æ‹†åˆ†ï¼Œå¿…é¡»ä¸²è¡Œæ‰§è¡Œï¼Œä¸”åŠ åˆ†å¸ƒå¼é”ï¼ˆå¦‚Redissoné”ï¼‰ä¿è¯åŸå­æ€§ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-12">3. å¼ºä¸€è‡´æ€§è¦æ±‚çš„å…³è”æŸ¥è¯¢ï¼ˆå¹¶è¡Œä¼šç ´åä¸€è‡´æ€§ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæŸ¥è¯¢ç»“æœéœ€è¦æ»¡è¶³â€œåŸå­æ€§â€ï¼Œå³æ‰€æœ‰å…³è”æ•°æ®å¿…é¡»æ˜¯åŒä¸€æ—¶é—´ç‚¹çš„å¿«ç…§ï¼ˆå¦‚â€œæŸ¥è¯¢è®¢å•é‡‘é¢+è¯¥è®¢å•çš„æ”¯ä»˜é‡‘é¢â€ï¼Œè¦æ±‚ä¸¤è€…ä¸€è‡´ï¼Œä¸èƒ½å‡ºç°â€œè®¢å•é‡‘é¢å·²æ›´æ–°ï¼Œæ”¯ä»˜é‡‘é¢è¿˜æ˜¯æ—§å€¼â€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>è´¢åŠ¡å¯¹è´¦æ¥å£ï¼šæŸ¥è¯¢â€œè®¢å•è¡¨çš„æ€»é‡‘é¢â€å’Œâ€œæ”¯ä»˜è¡¨çš„æ€»é‡‘é¢â€ï¼Œè¦æ±‚ä¸¤è€…ä¸¥æ ¼ç›¸ç­‰ï¼ˆåŒä¸€æ—¶é—´ç‚¹çš„æ•°æ®ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡ŒæŸ¥è¯¢å¯èƒ½è®¿é—®ä¸åŒçš„æ•°æ®åº“åˆ†ç‰‡/å‰¯æœ¬ï¼Œæˆ–åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­æ•°æ®è¢«ä¿®æ”¹ï¼Œå¯¼è‡´ä¸¤è€…æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚è®¢å•è¡¨æŸ¥è¯¢å®Œåï¼Œæ”¯ä»˜è¡¨æ•°æ®è¢«æ›´æ–°ï¼Œæ”¯ä»˜è¡¨æŸ¥è¯¢ç»“æœæ˜¯æ–°å€¼ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<ul>
<li>ç”¨åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆå¦‚Seata TCCï¼‰æˆ–æ•°æ®åº“äº‹åŠ¡ï¼ˆåŒä¸€åº“å†…ç”¨<code>@Transactional</code>ï¼‰ä¿è¯ä¸€è‡´æ€§ï¼›</li>
<li>å•æ¡SQLå…³è”æŸ¥è¯¢ï¼ˆå¦‚<code>SELECT o.amount, p.amount FROM order o JOIN payment p ON o.id = p.order_id</code>ï¼‰ï¼Œè€Œéæ‹†åˆ†å¹¶è¡Œã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-13">4. éå¹‚ç­‰çš„æŸ¥è¯¢æ¥å£ï¼ˆå¹¶è¡Œä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæŸ¥è¯¢æ¥å£çš„ç»“æœä¾èµ–äºâ€œè°ƒç”¨æ¬¡æ•°â€æˆ–â€œè°ƒç”¨é¡ºåºâ€ï¼ˆå¦‚â€œæŸ¥è¯¢ç”¨æˆ·çš„ä¸‹ä¸€ä¸ªåºåˆ—å·â€â€œæŸ¥è¯¢å½“å‰é˜Ÿåˆ—çš„ä¸‹ä¸€ä¸ªä»»åŠ¡â€ï¼‰ï¼Œå¤šæ¬¡è°ƒç”¨ç»“æœä¸åŒã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡ä¾‹å­</strong>ï¼š</p>
<ul>
<li>æ¥å£<code>getNextSequence()</code>ï¼šæ¯æ¬¡è°ƒç”¨è¿”å›é€’å¢çš„åºåˆ—å·ï¼ˆå†…éƒ¨ç”¨<code>SELECT MAX(id)+1</code>å®ç°ï¼‰ï¼Œå¹¶è¡Œè°ƒç”¨ä¼šå¯¼è‡´å¤šä¸ªçº¿ç¨‹è¿”å›ç›¸åŒçš„åºåˆ—å·ï¼ˆå¹¶å‘é—®é¢˜ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡Œè°ƒç”¨ä¼šå¯¼è‡´æ•°æ®é‡å¤ã€åºå·å†²çªã€é€»è¾‘é”™ä¹±ï¼ˆå¦‚å¤šä¸ªè®¢å•æ‹¿åˆ°ç›¸åŒçš„åºåˆ—å·ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<ul>
<li>æ¥å£æ”¹ä¸ºå¹‚ç­‰è®¾è®¡ï¼ˆå¦‚ç”¨åˆ†å¸ƒå¼IDç”Ÿæˆå™¨æ›¿ä»£<code>MAX(id)+1</code>ï¼‰ï¼›</li>
<li>è‹¥æ— æ³•ä¿®æ”¹ï¼Œå¿…é¡»ä¸²è¡Œæ‰§è¡Œï¼Œä¸”åŠ åˆ†å¸ƒå¼é”ä¿è¯å”¯ä¸€æ€§ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-14">5. é«˜å¹¶å‘ä¸‹çš„æ•°æ®åº“è¡Œé”ç«äº‰æŸ¥è¯¢ï¼ˆå¹¶è¡Œä¼šå¯¼è‡´æ€§èƒ½é›ªå´©ï¼‰</h4>
<ul>
<li>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæŸ¥è¯¢æ¥å£éœ€è¦è·å–æ•°æ®åº“è¡Œé”ï¼ˆå¦‚<code>SELECT ... FOR UPDATE</code>ï¼Œæ‚²è§‚é”ï¼‰ï¼Œä¸”æŸ¥è¯¢çš„æ˜¯åŒä¸€è¡Œæ•°æ®ï¼ˆå¦‚é«˜é¢‘æŸ¥è¯¢â€œå•†å“åº“å­˜â€å¹¶åŠ é”ï¼Œé˜²æ­¢è¶…å–ï¼‰ã€‚</p>
</li>
<li>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡ŒæŸ¥è¯¢ä¼šå¯¼è‡´å¤§é‡çº¿ç¨‹é˜»å¡åœ¨é”ç«äº‰ä¸Šï¼ŒCPUåˆ©ç”¨ç‡é£™å‡ï¼Œæ¥å£å“åº”æ—¶é—´ä»æ¯«ç§’çº§å˜ä¸ºç§’çº§ï¼Œæœ€ç»ˆå¼•å‘æ€§èƒ½é›ªå´©ã€‚</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<ul>
<li>ç”¨ä¹è§‚é”æ›¿ä»£æ‚²è§‚é”ï¼ˆå¦‚<code>WHERE id=? AND version=?</code>ï¼‰ï¼›</li>
<li>è‹¥å¿…é¡»ç”¨æ‚²è§‚é”ï¼Œé™åˆ¶å¹¶å‘æ•°ï¼ˆå¦‚ç”¨Redissoné™æµï¼‰ï¼Œä¸”ä¸²è¡Œæ‰§è¡Œæ ¸å¿ƒæŸ¥è¯¢é€»è¾‘ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-15">6. åˆ†é¡µæŸ¥è¯¢/æ»šåŠ¨æŸ¥è¯¢ï¼ˆå¹¶è¡Œä¼šå¯¼è‡´æ•°æ®é‡å¤/é—æ¼ï¼‰</h4>
<ul>
<li><strong>åœºæ™¯æè¿°</strong>ï¼šéœ€è¦æŒ‰é¡ºåºåˆ†é¡µæŸ¥è¯¢æ•°æ®ï¼ˆå¦‚â€œæŸ¥è¯¢ç¬¬1é¡µè®¢å•â†’ç¬¬2é¡µè®¢å•â†’ç¬¬3é¡µè®¢å•â€ï¼‰ï¼Œæˆ–æŒ‰æ¸¸æ ‡æ»šåŠ¨æŸ¥è¯¢ï¼ˆå¦‚<code>WHERE id &gt; ? LIMIT 100</code>ï¼‰ã€‚</li>
<li><strong>é£é™©ç‚¹</strong>ï¼šå¹¶è¡ŒæŸ¥è¯¢ä¼šå¯¼è‡´åˆ†é¡µé¡ºåºé”™ä¹±ï¼ˆå¦‚ç¬¬2é¡µæŸ¥è¯¢å…ˆæ‰§è¡Œï¼Œæ‹¿åˆ°ç¬¬1é¡µçš„æ•°æ®ï¼‰ï¼Œæˆ–æ•°æ®é‡å¤ï¼ˆå¤šä¸ªçº¿ç¨‹æŸ¥è¯¢åŒä¸€é¡µï¼‰ã€æ•°æ®é—æ¼ï¼ˆéƒ¨åˆ†é¡µé¢æœªæŸ¥è¯¢ï¼‰ã€‚</li>
<li><strong>æ­£ç¡®åšæ³•</strong>ï¼šä¸²è¡Œæ‰§è¡Œåˆ†é¡µ/æ»šåŠ¨æŸ¥è¯¢ï¼Œæˆ–é€šè¿‡åˆ†ç‰‡é”®ï¼ˆå¦‚æŒ‰ç”¨æˆ·IDå“ˆå¸Œåˆ†ç‰‡ï¼‰å¹¶è¡ŒæŸ¥è¯¢ä¸åŒåˆ†ç‰‡çš„æ•°æ®ï¼ˆæ— é‡å¤æ— é—æ¼ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-16">ä¸‰ã€æ ¸å¿ƒåˆ¤æ–­åŸåˆ™ï¼ˆå¿«é€Ÿå†³ç­–è¡¨ï¼‰</h2>








































<table><thead><tr><th>åˆ¤æ–­ç»´åº¦</th><th>é€‚åˆå¹¶è¡Œ</th><th>ä¸é€‚åˆå¹¶è¡Œ</th></tr></thead><tbody><tr><td>ä»»åŠ¡ä¾èµ–</td><td>æ— ä¾èµ–ï¼ˆå…¥å‚æå‰ç¡®å®šï¼‰</td><td>æœ‰ä¾èµ–ï¼ˆåä¸€ä¸ªéœ€å‰ä¸€ä¸ªç»“æœï¼‰</td></tr><tr><td>æ“ä½œç±»å‹</td><td>çº¯è¯»æ“ä½œï¼ˆæ— å†™é€»è¾‘ï¼‰</td><td>å«å†™é€»è¾‘ï¼ˆå¦‚æ›´æ–°ã€è®¡æ•°ï¼‰</td></tr><tr><td>ä¸€è‡´æ€§è¦æ±‚</td><td>æœ€ç»ˆä¸€è‡´æ€§ï¼ˆå…è®¸çŸ­æš‚ä¸ä¸€è‡´ï¼‰</td><td>å¼ºä¸€è‡´æ€§ï¼ˆéœ€åŒä¸€æ—¶é—´ç‚¹å¿«ç…§ï¼‰</td></tr><tr><td>å¹‚ç­‰æ€§</td><td>å¹‚ç­‰ï¼ˆå¤šæ¬¡è°ƒç”¨ç»“æœä¸€è‡´ï¼‰</td><td>éå¹‚ç­‰ï¼ˆå¤šæ¬¡è°ƒç”¨ç»“æœä¸åŒï¼‰</td></tr><tr><td>è€—æ—¶æ”¶ç›Š</td><td>å•ä¸ªæŸ¥è¯¢â‰¥50msï¼Œå¹¶è¡Œæ€»è€—æ—¶æ›´çŸ­</td><td>å•ä¸ªæŸ¥è¯¢&lt;50msï¼Œçº¿ç¨‹åˆ‡æ¢å¼€é”€å æ¯”é«˜</td></tr><tr><td>é”ç«äº‰</td><td>æ— é”æˆ–å¼±é”ï¼ˆå¦‚è¯»é”ï¼‰</td><td>å¼ºé”ç«äº‰ï¼ˆå¦‚å†™é”ã€è¡Œé”ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-17">å››ã€Spring Cloudç¯å¢ƒä¸‹çš„å¹¶è¡ŒæŸ¥è¯¢æœ€ä½³å®è·µ</h2>
<ol start="8">
<li><strong>çº¿ç¨‹æ± é…ç½®</strong>ï¼šè‡ªå®šä¹‰IOå¯†é›†å‹çº¿ç¨‹æ± ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°=CPUæ ¸å¿ƒæ•°Ã—2+1ï¼‰ï¼Œé¿å…ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± ï¼ˆå¦‚<code>CompletableFuture.supplyAsync()</code>æ— è‡ªå®šä¹‰çº¿ç¨‹æ± æ—¶ï¼Œä½¿ç”¨<code>ForkJoinPool.commonPool()</code>ï¼Œæ˜“è¢«è€—å°½ï¼‰ã€‚</li>
<li><strong>è¶…æ—¶æ§åˆ¶</strong>ï¼šç»™æ¯ä¸ªå¹¶è¡Œä»»åŠ¡è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆå¦‚<code>CompletableFuture.get(3, TimeUnit.SECONDS)</code>ï¼‰ï¼Œé¿å…å•ä¸ªä»»åŠ¡è¶…æ—¶å¯¼è‡´æ•´ä½“é˜»å¡ã€‚</li>
<li><strong>ç†”æ–­é™çº§</strong>ï¼šç”¨Resilience4j/CircuitBreakerå¯¹è·¨æœåŠ¡å¹¶è¡ŒæŸ¥è¯¢åšç†”æ–­ï¼ˆå¦‚æŸä¸ªæœåŠ¡è¶…æ—¶ç‡è¾¾50%ï¼Œåˆ™ç†”æ–­è¯¥æœåŠ¡ï¼Œè¿”å›é»˜è®¤æ•°æ®ï¼‰ï¼Œä¿è¯æ•´ä½“å¯ç”¨æ€§ã€‚</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šç”¨<code>CompletableFuture.exceptionally()</code>æˆ–<code>handle()</code>ç»Ÿä¸€æ•è·å•ä¸ªä»»åŠ¡çš„å¼‚å¸¸ï¼Œé¿å…ä¸€ä¸ªä»»åŠ¡å¤±è´¥å¯¼è‡´æ•´ä¸ªå¹¶è¡Œæµç¨‹å¤±è´¥ï¼ˆå¦‚â€œå•†å“åº“å­˜æŸ¥è¯¢å¤±è´¥ï¼Œå¯è¿”å›é»˜è®¤åº“å­˜ä¸º0ï¼Œè€Œéæ•´ä¸ªå•†å“è¯¦æƒ…é¡µæŸ¥è¯¢å¤±è´¥â€ï¼‰ã€‚</li>
<li><strong>ç»“æœå½’æ•´</strong>ï¼šç”¨<code>CompletableFuture.allOf()</code>ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œå†ç»Ÿä¸€å½’æ•´ç»“æœï¼ˆé¿å…å¤šæ¬¡<code>join()</code>å¯¼è‡´é˜»å¡ï¼‰ï¼Œæˆ–ç”¨<code>CompletableFuture.anyOf()</code>è·å–æœ€å¿«è¿”å›çš„ç»“æœï¼ˆé€‚ç”¨äºâ€œå¤šä¸ªæ•°æ®æºæŸ¥è¯¢åŒä¸€æ•°æ®ï¼Œå–æœ€å¿«çš„ä¸€ä¸ªâ€åœºæ™¯ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-18">æ€»ç»“</h2>
<ul>
<li><strong>é€‚åˆå¹¶è¡Œ</strong>ï¼šæ ¸å¿ƒæ˜¯â€œæ— ä¾èµ–ã€çº¯è¯»ã€å¹‚ç­‰ã€å¹¶è¡Œæ”¶ç›Š&gt;å¼€é”€â€ï¼Œå…¸å‹åœºæ™¯æ˜¯å¤šç»´åº¦æ•°æ®èšåˆã€è·¨æœåŠ¡æ— ä¾èµ–æŸ¥è¯¢ã€æ‰¹é‡æ‹†åˆ†æŸ¥è¯¢ã€‚</li>
<li><strong>ç»å¯¹ä¸èƒ½å¹¶è¡Œ</strong>ï¼šæ ¸å¿ƒæ˜¯â€œæœ‰ä¾èµ–ã€æœ‰å†™é€»è¾‘ã€å¼ºä¸€è‡´æ€§ã€éå¹‚ç­‰â€ï¼Œå…¸å‹åœºæ™¯æ˜¯ä¾èµ–æŸ¥è¯¢ã€å«å†™æ“ä½œçš„æŸ¥è¯¢ã€å¼ºä¸€è‡´æ€§å¯¹è´¦ã€éå¹‚ç­‰æŸ¥è¯¢ã€‚</li>
</ul>
<p>å®é™…å¼€å‘ä¸­ï¼Œå…ˆé€šè¿‡â€œæ ¸å¿ƒåˆ¤æ–­åŸåˆ™â€å¿«é€Ÿå†³ç­–ï¼Œå†ç”¨Spring Cloud+CompletableFuture/è‡ªå®šä¹‰çº¿ç¨‹æ± å®ç°å¹¶è¡Œï¼ŒåŒæ—¶åšå¥½è¶…æ—¶ã€ç†”æ–­ã€å¼‚å¸¸å¤„ç†ï¼Œé¿å…è¸©å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-appå¼€å‘è·¯ä¸Šçš„å‘]]></title>    <link>https://juejin.cn/post/7582755817670115338</link>    <guid>https://juejin.cn/post/7582755817670115338</guid>    <pubDate>2025-12-12T06:21:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582755817670115338" data-draft-id="7581691182004502538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-appå¼€å‘è·¯ä¸Šçš„å‘"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-12T06:21:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="InkHeart"/> <meta itemprop="url" content="https://juejin.cn/user/2928754708457783"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-appå¼€å‘è·¯ä¸Šçš„å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754708457783/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    InkHeart
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:21:47.000Z" title="Fri Dec 12 2025 06:21:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰æƒ…æè¦</h2>
<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨uni-app + Vue3å¼€å‘é¡¹ç›®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ã€ä»¥åŠè§£å†³æ–¹æ³•ã€‚</p>
<h2 data-id="heading-1">mapç»„ä»¶ä½¿ç”¨é—®é¢˜</h2>
<h3 data-id="heading-2">skewå±æ€§</h3>
<p>é…ç½®skewå±æ€§åä¸ªåˆ«æ‰‹æœºï¼ˆvivo iqoo neo11ï¼‰ä¸­å¿ƒç‚¹æˆ–è€…ç¼©æ”¾å¼‚å¸¸ï¼ˆè®¾ç½®äº†åæ ‡åœ¨å¹¿ä¸œï¼Œæ‰“å¼€åœ°å›¾å´å®šä½åœ¨åŒ—äº¬ï¼Œæˆ–è€…å®šä½å¯¹äº†ä½†æ˜¯ç¼©æ”¾é”™è¯¯ï¼‰ï¼Œæœªæ‰¾åˆ°ç¡®åˆ‡åŸå› ï¼Œä¸ºä¿è¯åº”ç”¨æ­£å¸¸ä½¿ç”¨ï¼Œåˆ é™¤äº†skewé…ç½®ã€‚</p>
<h3 data-id="heading-3">è§¦æ‘¸äº‹ä»¶ç©¿é€</h3>
<p>è®¾ç½®äº†å…ƒç´ å®šä½åœ¨åœ°å›¾ä¸Šæ–¹æ—¶ï¼Œæ»‘åŠ¨å…ƒç´ ï¼Œåº•éƒ¨åœ°å›¾ä¼šè·Ÿéšç§»åŠ¨ï¼Œå¸¸è§äºè‹¹æœæ‰‹æœºï¼Œé€šè¿‡è®¾ç½®ä»¥ä¸‹ä»£ç å³å¯ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> @<span class="hljs-attr">touchmove.stop.prevent</span>=<span class="hljs-string">"stopTouchMove"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">stopTouchMove</span> = (<span class="hljs-params"/>) =&gt; {}
</code></pre>
<h2 data-id="heading-4">Wot UI FloatingPanelæµ®åŠ¨é¢æ¿äº¤äº’ä¼˜åŒ–</h2>
<p>å½“FloatingPanelåŒ…å«æ»šåŠ¨åˆ—è¡¨æ—¶ï¼Œåœ¨å†…å®¹åŒºå‘ä¸Šæ»‘åŠ¨ï¼Œä¸ä¼šè§¦å‘é¢æ¿å±•å¼€ï¼Œåªä¼šæ»šåŠ¨åˆ—è¡¨ï¼Œä¸ç¬¦åˆä½¿ç”¨çš„ä¹ æƒ¯ï¼Œåº”è¯¥æ”¹ä¸ºï¼šå†…å®¹åŒºå‘ä¸Šæ»‘åŠ¨ï¼Œåˆ¤æ–­é¢æ¿æ˜¯å¦å®Œå…¨å±•å¼€ï¼Œæ˜¯åˆ™åˆ—è¡¨æ»šåŠ¨ï¼Œå¦åˆ™å±•å¼€é¢æ¿</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ ä¼ å…¥å­ç»„ä»¶æµ®åŠ¨é¢æ¿çš„é«˜åº¦ã€å±•å¼€é«˜åº¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">wd-floating-panel</span> <span class="hljs-attr">v-model:height</span>=<span class="hljs-string">"height"</span> <span class="hljs-attr">:anchors</span>=<span class="hljs-string">"anchors"</span> <span class="hljs-attr">:safeAreaInsetBottom</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">:showScrollbar</span>=<span class="hljs-string">"false"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PromotionList</span> <span class="hljs-attr">:panelHeight</span>=<span class="hljs-string">"height"</span> <span class="hljs-attr">:panelMaxHeight</span>=<span class="hljs-string">"panelMaxHeight"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">wd-floating-panel</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 100%;"</span> <span class="hljs-attr">:scroll-y</span>=<span class="hljs-string">"scrollY"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å­ç»„ä»¶ï¼Œè®¾ç½®è®¡ç®—å±æ€§scrollYï¼Œåˆ¤æ–­æµ®åŠ¨é¢æ¿é«˜åº¦è¾¾åˆ°æœ€å¤§é«˜åº¦åˆ™å…è®¸å‚ç›´æ–¹å‘çš„æ»šåŠ¨ï¼Œå¦åˆ™ç¦ç”¨</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-comment">// æµ®åŠ¨é¢æ¿é«˜åº¦</span>
    <span class="hljs-attr">panelHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-comment">// æµ®åŠ¨é¢æ¿æœ€å¤§é«˜åº¦</span>
    <span class="hljs-attr">panelMaxHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
    }
})

<span class="hljs-keyword">const</span> scrollY = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> props.<span class="hljs-property">panelHeight</span> === props.<span class="hljs-property">panelMaxHeight</span>
})
</code></pre>
<h2 data-id="heading-5">å¯ç”¨åˆ†äº«åŠŸèƒ½</h2>
<p>é€šè¿‡æ··å…¥(mixin)æ–¹å¼è®¾ç½®æŒ‡å®šé¡µé¢å¯ç”¨åˆ†äº«åŠŸèƒ½</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// shareMixin.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">share</span>: {
        <span class="hljs-attr">title</span>: <span class="hljs-string">"æ ‡é¢˜"</span>,
        <span class="hljs-attr">path</span>: <span class="hljs-string">"é¡µé¢è·¯ç”±"</span>,
      },
    };
  },
  <span class="hljs-comment">// åˆ†äº«åˆ°å¾®ä¿¡å¥½å‹åŠŸèƒ½</span>
  <span class="hljs-title function_">onShareAppMessage</span>(<span class="hljs-params">res</span>) {
    <span class="hljs-comment">// è·å–å½“å‰é¡µé¢æ ‡é¢˜</span>
    <span class="hljs-keyword">const</span> pages = <span class="hljs-title function_">getCurrentPages</span>();
    <span class="hljs-keyword">const</span> data = pages[pages.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">$page</span>;
    <span class="hljs-keyword">const</span> { title, path } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">share</span>;
    <span class="hljs-keyword">return</span> {
      title,
      <span class="hljs-attr">path</span>: data?.<span class="hljs-property">fullPath</span> || path,
      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"åˆ†äº«æˆåŠŸ"</span>,
        });
      },
      <span class="hljs-title function_">fail</span>(<span class="hljs-params">res</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"åˆ†äº«å¤±è´¥"</span>,
          <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>,
        });
      },
    };
  },
  <span class="hljs-comment">// åˆ†äº«åˆ°æœ‹å‹åœˆåŠŸèƒ½</span>
  <span class="hljs-title function_">onShareTimeline</span>(<span class="hljs-params">res</span>) {
    <span class="hljs-keyword">const</span> pages = <span class="hljs-title function_">getCurrentPages</span>();
    <span class="hljs-keyword">const</span> data = pages[pages.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">$page</span>;
    <span class="hljs-keyword">const</span> { title, path } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">share</span>;
    <span class="hljs-keyword">return</span> {
      title,
      <span class="hljs-attr">path</span>: data?.<span class="hljs-property">fullPath</span> || path,
      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"åˆ†äº«æˆåŠŸ"</span>,
        });
      },
      <span class="hljs-title function_">fail</span>(<span class="hljs-params">res</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"åˆ†äº«å¤±è´¥"</span>,
          <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>,
        });
      },
    };
  },
};

</code></pre>
<h2 data-id="heading-6">å¯Œæ–‡æœ¬å†…å®¹æ ¼å¼åŒ–</h2>
<p>å¯Œæ–‡æœ¬å­—ç¬¦ä¸²åŒ…å«çš„å›¾ç‰‡å¯èƒ½è®¾ç½®äº†å›ºå®šå®½åº¦ï¼Œå½±å“é¢„è§ˆæ•ˆæœï¼Œé€šè¿‡æ­£åˆ™è¿›è¡Œå¤„ç†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">formatRichImg</span>(<span class="hljs-params">content</span>) {
  <span class="hljs-keyword">if</span> (!content) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
  <span class="hljs-keyword">return</span> content
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(&lt;img\b[^&gt;]*?)\s+style=(["'])[\s\S]*?\2([^&gt;]*&gt;)/gi</span>, <span class="hljs-string">"$1$3"</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;img/gi</span>, <span class="hljs-string">'&lt;img style="max-width:100%; height:auto;"'</span>);
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨å‰ç«¯å¼€å‘ä¸­é«˜æ•ˆè¿ç”¨AIï¼šä»ææ•ˆåˆ°é¿å‘]]></title>    <link>https://juejin.cn/post/7582528397865811995</link>    <guid>https://juejin.cn/post/7582528397865811995</guid>    <pubDate>2025-12-12T06:20:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582528397865811995" data-draft-id="7582553782398582830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨å‰ç«¯å¼€å‘ä¸­é«˜æ•ˆè¿ç”¨AIï¼šä»ææ•ˆåˆ°é¿å‘"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T06:20:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯å¤©é¾™_ç»"/> <meta itemprop="url" content="https://juejin.cn/user/1831109918994644"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨å‰ç«¯å¼€å‘ä¸­é«˜æ•ˆè¿ç”¨AIï¼šä»ææ•ˆåˆ°é¿å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1831109918994644/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯å¤©é¾™_ç»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:20:39.000Z" title="Fri Dec 12 2025 06:20:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>åœ¨æ—¥å¸¸å‰ç«¯å¼€å‘ä¸­ï¼Œå¦‚ä½•åˆç†ã€é«˜æ•ˆåœ°è¿ç”¨AIå·¥å…·ï¼Œå·²æˆä¸ºè¡¡é‡å¼€å‘è€…å·¥å…·é“¾æˆç†Ÿåº¦çš„é‡è¦ç»´åº¦ã€‚AIå¹¶éå–ä»£æ€è€ƒçš„â€œé»‘ç®±â€ï¼Œè€Œæ˜¯æå‡æ•ˆç‡ã€è¾…åŠ©å†³ç­–çš„â€œå‰¯é©¾é©¶â€ã€‚æœ¬æ–‡å°†ç»“åˆå®è·µï¼Œç³»ç»Ÿä»‹ç»æˆ‘åœ¨ä¸åŒåœºæ™¯ä¸‹ä½¿ç”¨AIå·¥å…·çš„æ–¹æ³•ä¸åŸåˆ™ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ä»£ç è¡¥å…¨ä¸è¾…åŠ©å¼€å‘ï¼šè®©ç¼–ç æ›´æµç•…</h3>
<p>åœ¨ç¼–ç é˜¶æ®µï¼Œæˆ‘ä¼šæ ¹æ®ä¸Šä¸‹æ–‡é€‰æ‹©åˆé€‚çš„AIæ’ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨VS Codeä¸­ï¼Œ<strong>TabNine</strong>æ“…é•¿ç»“åˆé¡¹ç›®å†…çš„ä»£ç æ¨¡å¼ï¼Œå¯¹ä¸šåŠ¡é€»è¾‘ã€ç±»å‹å®šä¹‰è¿›è¡Œæ™ºèƒ½è¡¥å…¨ï¼Œå°¤å…¶é€‚åˆTypeScripté¡¹ç›®ã€‚è€Œ<strong>GitHub Copilot</strong>åˆ™æ›´ä¾§é‡äºæ¡†æ¶è¯­æ³•çš„è”æƒ³ä¸ç”Ÿæˆâ€”â€”å½“æˆ‘åœ¨ç¼–å†™React Hooksæˆ–Vue 3 Composition APIæ—¶ï¼Œåªéœ€å†™å‡ºå‡½æ•°åæˆ–åˆæ­¥ç»“æ„ï¼Œå®ƒå°±èƒ½å¿«é€Ÿè¡¥å…¨å®Œæ•´çš„é€»è¾‘ç‰‡æ®µï¼Œæ˜¾è‘—å‡å°‘é‡å¤æ€§è¾“å…¥ã€‚</p>
<blockquote>
<p>å®è·µä¸­ï¼ŒCopilotå¯¹äºå¿«é€Ÿç”Ÿæˆå¦‚<code>useEffect</code>ä¾èµ–æ•°ç»„ã€è¡¨å•æ ¡éªŒå‡½æ•°ç­‰é‡å¤æ¨¡å¼ä»£ç å°¤ä¸ºé«˜æ•ˆï¼Œä½†éœ€æ³¨æ„å…¶ç”Ÿæˆçš„ä»£ç ä»éœ€äººå·¥å®¡æŸ¥é€»è¾‘æ­£ç¡®æ€§ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">äºŒã€ç»„ä»¶ç”Ÿæˆä¸é€»è¾‘å®ç°ï¼šä»æè¿°åˆ°ä»£ç </h3>
<p>å¯¹äºå¸¸è§æˆ–ç¨å¤æ‚çš„UIç»„ä»¶ï¼Œæˆ‘ä¼šå€ŸåŠ©<strong>Cursor</strong>è¿™ç±»å…·å¤‡ä»£ç åº“ç†è§£èƒ½åŠ›çš„å·¥å…·ã€‚ä¾‹å¦‚ï¼Œåœ¨Vueé¡¹ç›®ä¸­ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°â€œéœ€è¦ä¸€ä¸ªå¸¦åˆ†é¡µçš„è¡¨æ ¼ç»„ä»¶ï¼Œæ”¯æŒæ’åºå’Œç­›é€‰â€ï¼ŒCursorå¯ä»¥ç”ŸæˆåŒ…å«æ¨¡æ¿ã€è„šæœ¬ä¸æ ·å¼çš„å®Œæ•´<code>.vue</code>æ–‡ä»¶ï¼Œå¹¶é™„æœ‰åŸºç¡€çš„æ€§èƒ½æç¤ºï¼ˆå¦‚<code>v-for</code>åŠ <code>key</code>ï¼‰ã€‚</p>
<p>åœ¨ä¸šåŠ¡é€»è¾‘å¼€å‘ä¸­ï¼Œæˆ‘å¸¸å…ˆç”¨AIæ¢³ç†æ­¥éª¤ã€‚ä¾‹å¦‚ï¼Œé¢å¯¹â€œå®ç°ä¸€ä¸ªå¤šæ­¥éª¤è¡¨å•ï¼Œæ¯ä¸€æ­¥éœ€éªŒè¯å¹¶ç¼“å­˜æ•°æ®â€çš„éœ€æ±‚ï¼Œæˆ‘ä¼šå…ˆè®©AIè¾“å‡ºå®ç°æµç¨‹å›¾ä¸å…³é”®èŠ‚ç‚¹ï¼Œå†åŸºäºæ­¤ç”Ÿæˆå…·ä½“ä»£ç ç»“æ„ã€‚è¿™æ—¢é¿å…äº†ç›´æ¥ç”Ÿæˆä»£ç å¯èƒ½å‡ºç°çš„ç»“æ„æ··ä¹±ï¼Œä¹Ÿé”»ç‚¼äº†è‡ªèº«æ‹†è§£éœ€æ±‚çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€é—®é¢˜æ’æŸ¥ä¸æŠ€æœ¯å­¦ä¹ ï¼šæˆä¸ºâ€œæ™ºèƒ½è°ƒè¯•åŠ©æ‰‹â€</h3>
<p>å·¥ç¨‹é—®é¢˜æ˜¯å‰ç«¯å¼€å‘ä¸­çš„é«˜é¢‘åœºæ™¯ã€‚é‡åˆ°å¦‚<strong>æ‰“åŒ…ä½“ç§¯å¼‚å¸¸å¢é•¿</strong>ã€<strong>iOSä¸å®‰å“æ ·å¼å…¼å®¹</strong>ã€æˆ–æŸä¸ªç¥ç§˜çš„æ§åˆ¶å°é”™è¯¯æ—¶ï¼Œæˆ‘ä¼šå°†é”™è¯¯ä¿¡æ¯ã€ç›¸å…³é…ç½®æˆªå›¾æˆ–ä»£ç ç‰‡æ®µè¾“å…¥åˆ°<strong>ChatGPT</strong>æˆ–<strong>é€šä¹‰çµç </strong>ä¸­ï¼Œè¯·æ±‚å…¶åˆ†æå¯èƒ½åŸå› å¹¶æä¾›æ’æŸ¥æ–¹å‘ã€‚AIå¾€å¾€èƒ½ç»™å‡ºå¸¸è§çš„è§£å†³è·¯å¾„æˆ–ç›¸å…³æ–‡æ¡£é“¾æ¥ï¼Œå¤§å¹…ç¼©çŸ­â€œç›²ç›®æœç´¢â€çš„æ—¶é—´ã€‚</p>
<p>åœ¨å­¦ä¹ æ–°æŠ€æœ¯æ—¶ï¼ŒAIåŒæ ·èƒ½åŠ é€Ÿç†è§£ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘éœ€è¦å¿«é€Ÿä¸Šæ‰‹<code>Svelte</code>æ—¶ï¼Œæˆ‘ä¼šè®©AIç”Ÿæˆä¸€ä¸ªåŒ…å«çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å¤„ç†çš„æœ€å°å¯è¿è¡Œç¤ºä¾‹ï¼Œå¹¶å¯¹æ¯”å…¶ä¸Reactçš„å·®å¼‚ã€‚è¿™ç§â€œå³å­¦å³ç”¨â€çš„æ–¹å¼ï¼Œæ¯”çº¯è¯»æ–‡æ¡£æ›´æ˜“äºå»ºç«‹ç›´è§‚è®¤çŸ¥ã€‚</p>
<hr/>
<h3 data-id="heading-3">å››ã€æ–‡æ¡£ä¸æ³¨é‡Šç”Ÿæˆï¼šå‡è½»â€œå†™ä½œè´Ÿæ‹…â€</h3>
<p>è‰¯å¥½çš„æ–‡æ¡£ä¸æ³¨é‡Šæ˜¯å›¢é˜Ÿåä½œçš„åŸºçŸ³ã€‚æˆ‘ä¼šåˆ©ç”¨<strong>Copilot</strong>ä¸ºå¤æ‚å‡½æ•°è‡ªåŠ¨ç”Ÿæˆç¬¦åˆJSDocè§„èŒƒçš„æ³¨é‡Šï¼Œæ¶µç›–å‚æ•°è¯´æ˜ã€è¿”å›å€¼ä¸ç¤ºä¾‹ã€‚å¯¹äºAPIæ–‡æ¡£ï¼Œåˆ™å¯ä½¿ç”¨<strong>Notion AI</strong>æˆ–ç±»ä¼¼å·¥å…·ï¼ŒåŸºäºåç«¯æä¾›çš„OpenAPIè§„èŒƒJSONï¼Œå¿«é€Ÿç”Ÿæˆç»“æ„æ¸…æ™°çš„Swaggeræ–‡æ¡£è‰ç¨¿ï¼Œåç»­åªéœ€ç¨ä½œè°ƒæ•´ä¸è¡¥å……ã€‚</p>
<hr/>
<h3 data-id="heading-4">äº”ã€æ ¸å¿ƒåŸåˆ™ï¼šAIæ˜¯åŠ©æ‰‹ï¼Œè€Œéæ›¿ä»£</h3>
<p>å°½ç®¡AIèƒ½æ˜¾è‘—ææ•ˆï¼Œä½†æˆ‘å§‹ç»ˆåšæŒä»¥ä¸‹åŸåˆ™ï¼š</p>
<ol>
<li><strong>æ ¡éªŒä¸ç†è§£</strong>ï¼šæ‰€æœ‰AIç”Ÿæˆçš„ä»£ç éƒ½å¿…é¡»ç»è¿‡é€»è¾‘å®¡æŸ¥ã€æ€§èƒ½è¯„ä¼°ä¸å…¼å®¹æ€§æµ‹è¯•ï¼Œå¹¶ç¡®ä¿è‡ªå·±ç†è§£å…¶èƒŒåçš„å®ç°åŸç†ã€‚</li>
<li><strong>é¿å…ä¾èµ–</strong>ï¼šä¸å°†AIä½œä¸ºå†³ç­–ä¸»ä½“ï¼Œå°¤å…¶åœ¨æ¶æ„è®¾è®¡ã€å…³é”®ç®—æ³•ç­‰æ ¸å¿ƒç¯èŠ‚ï¼Œä¿æŒè‡ªä¸»æ€è€ƒä¸åˆ¤æ–­ã€‚</li>
<li><strong>æŒç»­å­¦ä¹ </strong>ï¼šå°†AIä½œä¸ºâ€œå­¦ä¹ ä¼™ä¼´â€ï¼Œé€šè¿‡è¿½é—®ä¸è¿­ä»£ï¼Œæ·±åŒ–å¯¹æŠ€æœ¯åŸç†çš„ç†è§£ï¼Œè€Œéä»…ä»…è·å–ç­”æ¡ˆã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-5">ç»“è¯­</h3>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒAIå·¥å…·å·²é€æ¸æˆä¸ºå¼€å‘è€…å·¥ä½œæµä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚å…³é”®åœ¨äº<strong>æœ‰é€‰æ‹©ã€æœ‰åˆ¤æ–­åœ°ä½¿ç”¨</strong>â€”â€”è®©AIå¤„ç†é‡å¤ã€çç¢æˆ–æ¨¡å¼åŒ–çš„ä»»åŠ¡ï¼Œè€Œå¼€å‘è€…åˆ™èšç„¦äºæ¶æ„è®¾è®¡ã€é€»è¾‘æŠ½è±¡ä¸åˆ›é€ æ€§è§£å†³é—®é¢˜ã€‚å¦‚æ­¤ï¼Œäººä¸AIæ–¹èƒ½å½¢æˆé«˜æ•ˆåä½œï¼Œå…±åŒæ¨åŠ¨å¼€å‘ä½“éªŒä¸äº§å“è´¨é‡çš„æå‡ã€‚</p>
<blockquote>
<p>å·¥å…·åœ¨å˜ï¼Œä½†å·¥ç¨‹å¸ˆçš„æ ¸å¿ƒä»·å€¼ä¸å˜ï¼šæ‰¹åˆ¤æ€§æ€ç»´ã€ç³»ç»ŸåŒ–è®¾è®¡ä¸æŒç»­å­¦ä¹ çš„èƒ½åŠ›ï¼Œå§‹ç»ˆæ˜¯æˆ‘ä»¬é©¾é©­ä»»ä½•æ–°æŠ€æœ¯å·¥å…·çš„æ ¹åŸºã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3ä¸­v-bind:classä¸v-bind:styleå¦‚ä½•å®ç°æ¡ä»¶æ ·å¼ã€ç»„ä»¶æ ·å¼åˆå¹¶ä¸æ·±å±‚å“åº”å¼ç®¡ç†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582553782398664750</link>    <guid>https://juejin.cn/post/7582553782398664750</guid>    <pubDate>2025-12-12T06:29:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582553782398664750" data-draft-id="7582561515816337471" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Vue3ä¸­v-bind:classä¸v-bind:styleå¦‚ä½•å®ç°æ¡ä»¶æ ·å¼ã€ç»„ä»¶æ ·å¼åˆå¹¶ä¸æ·±å±‚å“åº”å¼ç®¡ç†ï¼Ÿ    "/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Trae"/> <meta itemprop="datePublished" content="2025-12-12T06:29:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kknone"/> <meta itemprop="url" content="https://juejin.cn/user/1366025597879930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Vue3ä¸­v-bind:classä¸v-bind:styleå¦‚ä½•å®ç°æ¡ä»¶æ ·å¼ã€ç»„ä»¶æ ·å¼åˆå¹¶ä¸æ·±å±‚å“åº”å¼ç®¡ç†ï¼Ÿ    
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366025597879930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kknone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:29:39.000Z" title="Fri Dec 12 2025 06:29:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒåŠ¨æ€æ§åˆ¶å…ƒç´ æ ·å¼æ˜¯é«˜é¢‘éœ€æ±‚â€”â€”å°åˆ°æŒ‰é’®ç‚¹å‡»åçš„é«˜äº®çŠ¶æ€ï¼Œå¤§åˆ°æ ¹æ®æ•°æ®çŠ¶æ€åˆ‡æ¢ç»„ä»¶çš„æ•´ä½“å¤–è§‚ã€‚Vue3 æä¾›çš„ <code>v-bind:class</code>ï¼ˆç®€å†™ <code>:class</code>ï¼‰å’Œ <code>v-bind:style</code>ï¼ˆç®€å†™ <code>:style</code>ï¼‰æŒ‡ä»¤ï¼Œè®©æˆ‘ä»¬èƒ½ä»¥<strong>å£°æ˜å¼</strong>çš„æ–¹å¼è½»æ¾å®ç°è¿™äº›éœ€æ±‚ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ·±å…¥å­¦ä¹ å®ƒä»¬çš„åŸºç¡€æ¦‚å¿µã€è¯­æ³•é€»è¾‘ï¼Œä»¥åŠ Vue3 å¸¦æ¥çš„å“åº”å¼ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€<code>v-bind:class</code>â€”â€”åŠ¨æ€åˆ‡æ¢ç±»å</h2>
<p><code>v-bind:class</code> çš„æ ¸å¿ƒæ˜¯<strong>æ ¹æ®æ¡ä»¶æ·»åŠ /ç§»é™¤ CSS ç±»å</strong>ï¼Œæ”¯æŒ<strong>å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„</strong>ä¸‰ç§è¯­æ³•ï¼Œè¦†ç›–äº†å‡ ä¹æ‰€æœ‰åŠ¨æ€ç±»åçš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-1">1. åŸºç¡€è¯­æ³•ï¼šä»ç®€å•åˆ°å¤æ‚</h3>
<h4 data-id="heading-2">ï¼ˆ1ï¼‰å­—ç¬¦ä¸²è¯­æ³•ï¼šå•ä¸€åŠ¨æ€ç±»å</h4>
<p>é€‚åˆç±»åå®Œå…¨ç”±å˜é‡æ§åˆ¶çš„åœºæ™¯ï¼ˆæ— éœ€æ¡ä»¶åˆ¤æ–­ï¼‰ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ ¹æ®currentTypeåˆ‡æ¢ç±»åï¼šinfo/warning/error --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"currentType"</span>&gt;</span>
    {{ message }}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å“åº”å¼å˜é‡ï¼šæ§åˆ¶è­¦ç¤ºæ¡†ç±»å‹</span>
<span class="hljs-keyword">const</span> currentType = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'info'</span>) 
<span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'è¿™æ˜¯ä¸€æ¡æç¤ºä¿¡æ¯'</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.alert</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>; }
<span class="hljs-selector-class">.info</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d3eafd</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#90caf9</span>; }
<span class="hljs-selector-class">.warning</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff3cd</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ffeeba</span>; }
<span class="hljs-selector-class">.error</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d7da</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#f5c6cb</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>å½“ <code>currentType</code> ä» <code>info</code> æ”¹ä¸º <code>warning</code> æ—¶ï¼Œå…ƒç´ ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ° <code>warning</code> ç±»å¯¹åº”çš„æ ·å¼â€”â€”<strong>æ— éœ€æ‰‹åŠ¨æ“ä½œ DOM</strong>ã€‚</p>
<h4 data-id="heading-3">ï¼ˆ2ï¼‰å¯¹è±¡è¯­æ³•ï¼šæ¡ä»¶æ§åˆ¶ç±»åï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>å¯¹è±¡è¯­æ³•çš„æ ¸å¿ƒæ˜¯**ã€Œç±»å: å¸ƒå°”å€¼ã€**çš„é”®å€¼å¯¹ï¼šå½“å¸ƒå°”å€¼ä¸º <code>true</code> æ—¶ï¼Œç±»åè¢«æ·»åŠ ï¼›ä¸º <code>false</code> æ—¶ç§»é™¤ã€‚æ¯”å¦‚å®ç°ä¸€ä¸ªã€Œç‚¹å‡»åˆ‡æ¢æ¿€æ´»çŠ¶æ€ã€çš„æŒ‰é’®ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
    <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>
    <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: isActive, disabled: isDisabled }"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"toggleActive"</span>
  &gt;</span>
    {{ isActive ? 'å·²æ¿€æ´»' : 'æœªæ¿€æ´»' }}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å“åº”å¼çŠ¶æ€ï¼šæ§åˆ¶æ¿€æ´»/ç¦ç”¨</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> isDisabled = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶ï¼šåˆ‡æ¢çŠ¶æ€</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleActive</span> = (<span class="hljs-params"/>) =&gt; {
  isActive.<span class="hljs-property">value</span> = !isActive.<span class="hljs-property">value</span>
  isDisabled.<span class="hljs-property">value</span> = isActive.<span class="hljs-property">value</span> <span class="hljs-comment">// æ¿€æ´»æ—¶ç¦ç”¨æŒ‰é’®</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.btn</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>; <span class="hljs-attribute">cursor</span>: pointer; }
<span class="hljs-selector-class">.active</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#42b983</span>; <span class="hljs-attribute">color</span>: white; }
<span class="hljs-selector-class">.disabled</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>; <span class="hljs-attribute">cursor</span>: not-allowed; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>è¿™æ®µä»£ç çš„é€»è¾‘å¾ˆæ¸…æ™°ï¼š</p>
<ul>
<li><code>isActive</code> ä¸º <code>true</code> æ—¶ï¼Œæ·»åŠ  <code>active</code> ç±»ï¼ˆç»¿è‰²èƒŒæ™¯ï¼‰ï¼›</li>
<li><code>isDisabled</code> ä¸º <code>true</code> æ—¶ï¼Œæ·»åŠ  <code>disabled</code> ç±»ï¼ˆåŠé€æ˜+ç¦æ­¢æŒ‡é’ˆï¼‰ï¼›</li>
<li>ç‚¹å‡»æŒ‰é’®ä¼šç¿»è½¬ <code>isActive</code> çš„å€¼ï¼Œä»è€ŒåŠ¨æ€ä¿®æ”¹ç±»åã€‚</li>
</ul>
<h4 data-id="heading-4">ï¼ˆ3ï¼‰æ•°ç»„è¯­æ³•ï¼šç»„åˆå¤šä¸ªåŠ¨æ€ç±»å</h4>
<p>å½“éœ€è¦<strong>åŒæ—¶æ§åˆ¶å¤šä¸ªåŠ¨æ€ç±»å</strong>æ—¶ï¼Œç”¨æ•°ç»„è¯­æ³•ã€‚æ¯”å¦‚ä¸€ä¸ªç»„ä»¶éœ€è¦åŒæ—¶æ·»åŠ ã€Œä¸»é¢˜ç±»ã€å’Œã€Œå¤§å°ç±»ã€ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[themeClass, sizeClass]"</span>&gt;</span>
    ç»„åˆåŠ¨æ€ç±»å
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// ä¸»é¢˜ç±»ï¼šlight/dark</span>
<span class="hljs-keyword">const</span> themeClass = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'light'</span>)
<span class="hljs-comment">// å¤§å°ç±»ï¼šsmall/medium/large</span>
<span class="hljs-keyword">const</span> sizeClass = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'medium'</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.card</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>; }
<span class="hljs-selector-class">.light</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>; }
<span class="hljs-selector-class">.dark</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#333</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; }
<span class="hljs-selector-class">.small</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>; }
<span class="hljs-selector-class">.medium</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>; }
<span class="hljs-selector-class">.large</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥æ˜¯<strong>å­—ç¬¦ä¸²å˜é‡</strong>æˆ–<strong>å¯¹è±¡è¯­æ³•</strong>ï¼ˆæ··åˆæ¡ä»¶åˆ¤æ–­ï¼‰ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ··åˆå¯¹è±¡è¯­æ³•ï¼šæ¡ä»¶æ·»åŠ activeç±» --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[themeClass, { active: isActive }]"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2. ç»„ä»¶ä¸­çš„ <code>v-bind:class</code>ï¼šç±»ååˆå¹¶</h3>
<p>å½“ä½ åœ¨<strong>å­ç»„ä»¶</strong>ä¸Šä½¿ç”¨ <code>:class</code> æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨å°†çˆ¶ç»„ä»¶çš„ç±»å<strong>åˆå¹¶</strong>åˆ°å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ï¼šMyButton.vue --&gt;
&lt;template&gt;
  &lt;!-- å­ç»„ä»¶è‡ªèº«çš„ç±»åï¼šbtn --&gt;
  &lt;button class="btn"&gt;{{ label }}&lt;/button&gt;
&lt;/template&gt;

&lt;style&gt;
.btn { padding: 8px 16px; border: none; border-radius: 4px; }
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ä½¿ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶æ·»åŠ çš„ç±»åï¼šprimary --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ primary: isPrimary }"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ä¸»è¦æŒ‰é’®"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MyButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./MyButton.vue'</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> isPrimary = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.primary</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2196f3</span>; <span class="hljs-attribute">color</span>: white; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>æœ€ç»ˆå­ç»„ä»¶çš„æŒ‰é’®ä¼šæœ‰ <strong><code>btn primary</code></strong> ä¸¤ä¸ªç±»åâ€”â€”çˆ¶ç»„ä»¶çš„ç±»åä¸ä¼šè¦†ç›–å­ç»„ä»¶çš„ç±»åï¼Œè€Œæ˜¯<strong>åˆå¹¶</strong>ã€‚</p>
<h2 data-id="heading-6">äºŒã€<code>v-bind:style</code>â€”â€”åŠ¨æ€å†…è”æ ·å¼</h2>
<p><code>v-bind:style</code> ç”¨äº<strong>ç›´æ¥è®¾ç½®å…ƒç´ çš„å†…è”æ ·å¼</strong>ï¼Œè¯­æ³•ä¸ <code>:class</code> ç±»ä¼¼ï¼Œä½†æ›´è´´è¿‘ CSS çš„åŸç”Ÿå†™æ³•ã€‚</p>
<h3 data-id="heading-7">1. å¯¹è±¡è¯­æ³•ï¼šç›´æ¥ç»‘å®šæ ·å¼å¯¹è±¡</h3>
<p>æœ€å¸¸ç”¨çš„æ–¹å¼â€”â€”é”®æ˜¯ <strong>CSS å±æ€§å</strong>ï¼ˆé©¼å³°å¼æˆ–çŸ­æ¨ªçº¿å¼ï¼‰ï¼Œå€¼æ˜¯<strong>åŠ¨æ€å˜é‡</strong>ã€‚æ¯”å¦‚å®ç°ä¸€ä¸ªã€Œå¯è°ƒæ•´å­—ä½“å¤§å°ã€çš„æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
    <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ 
      color: textColor, 
      fontSize: `${fontSize}px`, 
      'background-color': bgColor 
    }"</span>
  &gt;</span>
    åŠ¨æ€å†…è”æ ·å¼ç¤ºä¾‹
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"increaseFontSize"</span>&gt;</span>æ”¾å¤§å­—ä½“<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å“åº”å¼å˜é‡ï¼šæ§åˆ¶æ ·å¼</span>
<span class="hljs-keyword">const</span> textColor = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'#333'</span>)   <span class="hljs-comment">// æ–‡å­—é¢œè‰²</span>
<span class="hljs-keyword">const</span> fontSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">16</span>)        <span class="hljs-comment">// å­—ä½“å¤§å°ï¼ˆå¸¦å•ä½ï¼‰</span>
<span class="hljs-keyword">const</span> bgColor = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'#f0f0f0'</span>)  <span class="hljs-comment">// èƒŒæ™¯è‰²ï¼ˆçŸ­æ¨ªçº¿å¼å±æ€§ï¼‰</span>

<span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶ï¼šå­—ä½“æ”¾å¤§2px</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">increaseFontSize</span> = (<span class="hljs-params"/>) =&gt; {
  fontSize.<span class="hljs-property">value</span> += <span class="hljs-number">2</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>CSS å±æ€§åå¯ä»¥ç”¨<strong>é©¼å³°å¼</strong>ï¼ˆå¦‚ <code>fontSize</code> å¯¹åº” <code>font-size</code>ï¼‰æˆ–<strong>çŸ­æ¨ªçº¿å¼</strong>ï¼ˆå¦‚ <code>'background-color'</code>ï¼Œéœ€è¦å¼•å·åŒ…è£¹ï¼‰ï¼›</li>
<li>æ•°å€¼ç±»å±æ€§ï¼ˆå¦‚ <code>fontSize</code>ï¼‰éœ€è¦æ‰‹åŠ¨åŠ å•ä½ï¼ˆå¦‚ <code>px</code>ï¼‰ï¼Œå¦åˆ™ä¼šæ— æ•ˆã€‚</li>
</ul>
<h3 data-id="heading-8">2. æ•°ç»„è¯­æ³•ï¼šç»„åˆå¤šä¸ªæ ·å¼å¯¹è±¡</h3>
<p>å½“éœ€è¦<strong>åˆå¹¶å¤šä¸ªæ ·å¼å¯¹è±¡</strong>æ—¶ï¼Œç”¨æ•°ç»„è¯­æ³•ã€‚æ¯”å¦‚ä¸€ä¸ªç»„ä»¶éœ€è¦åŒæ—¶åº”ç”¨ã€ŒåŸºç¡€æ ·å¼ã€å’Œã€Œä¸»é¢˜æ ·å¼ã€ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"[baseStyle, themeStyle]"</span>&gt;</span>ç»„åˆæ ·å¼ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// åŸºç¡€æ ·å¼ï¼šå›ºå®šå±æ€§</span>
<span class="hljs-keyword">const</span> baseStyle = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">padding</span>: <span class="hljs-string">'16px'</span>,
  <span class="hljs-attr">border</span>: <span class="hljs-string">'1px solid #eee'</span>,
  border-<span class="hljs-attr">radius</span>: <span class="hljs-string">'8px'</span>
})
<span class="hljs-comment">// ä¸»é¢˜æ ·å¼ï¼šåŠ¨æ€å±æ€§</span>
<span class="hljs-keyword">const</span> themeStyle = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#d3eafd'</span>,
  <span class="hljs-attr">color</span>: <span class="hljs-string">'#2196f3'</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€Vue2 åˆ° Vue3ï¼šè¯­æ³•å»¶ç»­ä¸å“åº”å¼ä¼˜åŒ–</h2>
<p>Vue3 çš„ <code>:class</code> å’Œ <code>:style</code> è¯­æ³•<strong>å‡ ä¹å®Œå…¨ç»§æ‰¿ Vue2</strong>ï¼Œä½†å“åº”å¼ç³»ç»Ÿçš„å‡çº§è®©æ ·å¼æ›´æ–°æ›´é«˜æ•ˆã€‚</p>
<h3 data-id="heading-10">1. è¯­æ³•å»¶ç»­æ€§ï¼šæ— ç¼è¿ç§»</h3>
<p>Vue2 ä¸­çš„ä»£ç å‡ ä¹å¯ä»¥ç›´æ¥å¤åˆ¶åˆ° Vue3 ä¸­ä½¿ç”¨ï¼Œåªæ˜¯<strong>å“åº”å¼æ•°æ®çš„å®šä¹‰æ–¹å¼</strong>å˜äº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue2ï¼šdata() ä¸­çš„å“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">isActive</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>
    }
  }
}

<span class="hljs-comment">// Vue3ï¼šç”¨ ref/reactive å®šä¹‰å“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> fontSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">16</span>)
</code></pre>
<h3 data-id="heading-11">2. Vue3 çš„å“åº”å¼ä¼˜åŒ–ï¼šæ›´èªæ˜çš„æ›´æ–°</h3>
<p>Vue3 ç”¨ <strong>Proxy</strong> ä»£æ›¿äº† Vue2 çš„ <code>Object.defineProperty</code>ï¼Œå¸¦æ¥ä¸¤ä¸ªå…³é”®æå‡ï¼š</p>
<ul>
<li><strong>æ·±å±‚å“åº”å¼</strong>ï¼šä¿®æ”¹å¯¹è±¡çš„æ·±å±‚å±æ€§ï¼ˆå¦‚ <code>obj.user.info.age</code>ï¼‰ä¼šè‡ªåŠ¨è§¦å‘æ›´æ–°ï¼Œæ— éœ€ <code>Vue.set</code>ï¼›</li>
<li><strong>æ•°ç»„ç›´æ¥ä¿®æ”¹</strong>ï¼šç›´æ¥ä¿®æ”¹æ•°ç»„å…ƒç´ ï¼ˆå¦‚ <code>arr[0] = 'new value'</code>ï¼‰æˆ–é•¿åº¦ï¼ˆå¦‚ <code>arr.length = 0</code>ï¼‰ä¼šè§¦å‘æ›´æ–°ï¼Œæ— éœ€ <code>splice</code>ã€‚</li>
</ul>
<details>
<summary>å¾€æœŸæ–‡ç« å½’æ¡£</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa0af08dd60a37b9a890a9957f2cbfc9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a0af08dd60a37b9a890a9957f2cbfc9f/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ–°å¢å±æ€§ã€æ•°ç»„æ”¹ç´¢å¼•ã€åŸå§‹å€¼ä»£ç†çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbc287e1e36287afd90750fd907eca85e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bc287e1e36287afd90750fd907eca85e/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchä¾¦å¬å™¨çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ä½ æŒæ¡äº†å—ï¼Ÿæ·±åº¦ç›‘å¬ã€ä¸watchEffectçš„å·®å¼‚åŠå¸¸è§æŠ¥é”™è§£æ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc405a8d9950af5b7c63b56c348ac36b6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c405a8d9950af5b7c63b56c348ac36b6/" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆVue 3éœ€è¦refå‡½æ•°ï¼Ÿå®ƒçš„å“åº”å¼åŸç†ä¸æ­£ç¡®ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa7e9abb9691a81e4404d9facabe0f7c3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a7e9abb9691a81e4404d9facabe0f7c3/" ref="nofollow noopener noreferrer">Vue 3ä¸­reactiveå‡½æ•°å¦‚ä½•é€šè¿‡Proxyå®ç°å“åº”å¼ï¼Ÿä½¿ç”¨æ—¶è¦é¿å¼€å“ªäº›è¯¯åŒºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd995ea45161727597fb85b62566c43d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd995ea45161727597fb85b62566c43d/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿçš„åº•å±‚åŸç†ä¸å®è·µè¦ç‚¹ä½ çœŸçš„æ‡‚å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F53e3f270a80675df662c6857a3332c0f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/53e3f270a80675df662c6857a3332c0f/" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿å¦‚ä½•é€šè¿‡ç¼–è¯‘ä¸‰é˜¶æ®µå®ç°ä»å£°æ˜å¼è¯­æ³•åˆ°é«˜æ•ˆæ¸²æŸ“çš„è·¨è¶Š - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fddbce4f2a23aa72c96b1c0473900321e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ddbce4f2a23aa72c96b1c0473900321e/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿å¼•ç”¨ï¼šä»æ”¶DOMâ€œå¿«é€’â€åˆ°è°ƒå­ç»„ä»¶æ–¹æ³•ï¼Œä½ ç©æ˜ç™½äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F23a2d5a334e15575277814c16e45df50%2F" target="_blank" title="https://blog.cmdragon.cn/posts/23a2d5a334e15575277814c16e45df50/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿é‡Œçš„JSè¡¨è¾¾å¼æœ‰å•¥ä¸èƒ½ç¢°ï¼Ÿè®¡ç®—å±æ€§ä¸ºå•¥æ¯”æ–¹æ³•æ›´èƒ½æ‰“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6be38de6382e31d282659b689c5b17f0%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6be38de6382e31d282659b689c5b17f0/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueçš„v-modelè¡¨å•ç»‘å®šï¼šè¯­æ³•ç³–ã€åŠ¨æ€å€¼ã€ä¿®é¥°ç¬¦çš„å°æŠ€å·§ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F60ce517684f4a418f453d66aa805606c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/60ce517684f4a418f453d66aa805606c/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3äº‹ä»¶å¤„ç†çš„æŒ‘æˆ˜é¢˜ï¼šv-onã€ä¿®é¥°ç¬¦ã€è‡ªå®šä¹‰äº‹ä»¶ä½ èƒ½é€šå…³å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe4ae7d5e4a9205bb11b2baccb230c637%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e4ae7d5e4a9205bb11b2baccb230c637/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3çš„v-æŒ‡ä»¤ï¼šæ•°æ®å’ŒDOMçš„â€œç¿»è¯‘å®˜â€åˆ°åº•æœ‰å¤šå°‘æœ¬äº‹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F999ce4fb32259ff4fbf4bf7bcb851654%2F" target="_blank" title="https://blog.cmdragon.cn/posts/999ce4fb32259ff4fbf4bf7bcb851654/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3ï¼Œæ’å€¼ã€åŠ¨æ€ç»‘å®šå’Œé¿å‘æŠ€å·§ä½ éƒ½ææ‡‚äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa6997d81b49cd232b87e1cf603888ad1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a6997d81b49cd232b87e1cf603888ad1/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLå¿«åˆ°é£èµ·ï¼Ÿå…ˆæ‰¾å¥åº·å¯†ç è¿˜æ˜¯å…ˆæ¢å¼•æ“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1fee7afbb9abd4540b8aa9c141d6845d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1fee7afbb9abd4540b8aa9c141d6845d/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLæŸ¥è¯¢å¿«åˆ°é£èµ·ï¼Ÿåˆ†åŒºè¡¨ã€ç‰©åŒ–è§†å›¾ã€å¹¶è¡ŒæŸ¥è¯¢è¿™ä¸‰æ‹›çµä¸çµï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F79c590fbd87ece535b11a71c9667884f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/79c590fbd87ece535b11a71c9667884f/" ref="nofollow noopener noreferrer">å­æŸ¥è¯¢æ€»æ‹–æ…¢æŸ¥è¯¢ï¼ŸæŠŠå®ƒå˜æˆè¿æ¥å°±èƒ½è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F748cdac2536008199abf8a8a2cd0ec85%2F" target="_blank" title="https://blog.cmdragon.cn/posts/748cdac2536008199abf8a8a2cd0ec85/" ref="nofollow noopener noreferrer">PostgreSQLå…¨è¡¨æ‰«ææ…¢åˆ°å´©æºƒï¼Ÿå»ºç´¢å¼•+æ”¹æŸ¥è¯¢+æ›´ç»Ÿè®¡ä¿¡æ¯ä¸‰æ‹›èƒ½ç ´ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F32ca943703226d317d4276a8fb53b0dd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/32ca943703226d317d4276a8fb53b0dd/" ref="nofollow noopener noreferrer">å¤æ‚æŸ¥è¯¢æ€»æ‹–åè…¿ï¼ŸPostgreSQLå¤šåˆ—ç´¢å¼•+è¦†ç›–ç´¢å¼•çš„ç¥ä»™æŠ€å·§ä½ getæ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fca93f1d53aa910e7ba5ffd8df611c12b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ca93f1d53aa910e7ba5ffd8df611c12b/" ref="nofollow noopener noreferrer">åªç»™è¡¨å­é›†å»ºç´¢å¼•ï¼Ÿç”¨å‡½æ•°ç»“æœå»ºç´¢å¼•ï¼ŸPostgreSQLè¿™ä¿©æ“ä½œå‡­å•¥èƒ½çœç©ºé—´åˆåŠ é€Ÿï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ff507856ebfddd592448813c510a53669%2F" target="_blank" title="https://blog.cmdragon.cn/posts/f507856ebfddd592448813c510a53669/" ref="nofollow noopener noreferrer">B-treeç´¢å¼•åƒå­—å…¸æŸ¥è¯ä¸€æ ·å·¥ä½œï¼Ÿé‚£å“ªäº›æ•°æ®åº“æŸ¥è¯¢å®ƒèƒ½åŠ é€Ÿï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb2213bfcb5b88a862f2138404c03d596%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b2213bfcb5b88a862f2138404c03d596/" ref="nofollow noopener noreferrer">æƒ³æŠ“PostgreSQLé‡Œçš„æ…¢SQLï¼Ÿpg_stat_statementsåŸºç¡€é»‘åŒ£å­å’Œpg_stat_monitoræ—¶é—´çª—ï¼Œè°èƒ½å¸®ä½ æ›´å‡†æªå‡ºæ€§èƒ½å°å·ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F26614eb7da6c476dde41d367ad888d2f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/26614eb7da6c476dde41d367ad888d2f/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œæ—¶å…‰æœºâ€MVCCå’Œé”æœºåˆ¶æ˜¯æ€ä¹ˆæå®šé«˜å¹¶å‘çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F69f99bc6972a860d559c74aad7280da4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/69f99bc6972a860d559c74aad7280da4/" ref="nofollow noopener noreferrer">PostgreSQLæ€§èƒ½æš´æ¶¨çš„å…³é”®ï¼Ÿå†…å­˜IOå¹¶å‘å‚æ•°å±…ç„¶è¦è¿™ä¹ˆè®¾ç½®ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7b7053f392147a8b3b1a16bebeb08d0a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7b7053f392147a8b3b1a16bebeb08d0a/" ref="nofollow noopener noreferrer">å¤§è¡¨æŸ¥è¯¢æ…¢åˆ°ç¿»éæ•´ä¸ªä¹¦æ¶ï¼ŸPostgreSQLåˆ†åŒºè¡¨æ•™ä½ æ€ä¹ˆâ€œåˆ†ç±»â€æ‰é«˜æ•ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc856e3cb073822349f3bf2d29995dcfc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c856e3cb073822349f3bf2d29995dcfc/" ref="nofollow noopener noreferrer">PostgreSQL æŸ¥è¯¢æ…¢ï¼Ÿæ˜¯ä¸æ˜¯å¿˜äº†ä¼˜åŒ– GROUP BYã€ORDER BY å’Œçª—å£å‡½æ•°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc096347d18e67b7431faacd2c4757093%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c096347d18e67b7431faacd2c4757093/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„å­æŸ¥è¯¢å’ŒCTEå±…ç„¶åœ¨æ€§èƒ½ä¸Šâ€œææ¶â€ï¼Ÿåˆ°åº•è¯¥ç«™å“ªè¾¹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F2eca89463454fd4250d7b66243b9fe5a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/2eca89463454fd4250d7b66243b9fe5a/" ref="nofollow noopener noreferrer">PostgreSQLé€‰Joinç­–ç•¥æœ‰å•¥å°ä¹ä¹ï¼ŸNested Loop/Merge/Hashè°æ˜¯å®ƒçš„èœï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F068ecb772a87d7df20a8c9fb4b233f8e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/068ecb772a87d7df20a8c9fb4b233f8e/" ref="nofollow noopener noreferrer">PostgreSQLæ–°æ‰‹SQLæ€»ç¿»è½¦ï¼Ÿè¿™7ä¸ªæ€§èƒ½é™·é˜±ä½ è¸©è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd498f63cd0a2d5a77e445c688a8b88db%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d498f63cd0a2d5a77e445c688a8b88db/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•é€‰B-Treeè¿˜æ˜¯GiSTï¼Ÿâ€œç‘å£«å†›åˆ€â€å’Œâ€œå¤šé¢æ‰‹â€çš„å·®åˆ«ä½ å±…ç„¶è¿˜ä¸çŸ¥é“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F9101b75bdec6faea9b35d54f14e37f36%2F" target="_blank" title="https://blog.cmdragon.cn/posts/9101b75bdec6faea9b35d54f14e37f36/" ref="nofollow noopener noreferrer">æƒ³çŸ¥é“æ•°æ®åº“æ€ä¹ˆç»™æŸ¥è¯¢â€œç®—æˆæœ¬é€‰è·¯çº¿â€ï¼ŸEXPLAINèƒ½å¸®ä½ çœ‹æ˜ç™½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd527f8ebb6e3dae2c7dfe4c8d8979444%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d527f8ebb6e3dae2c7dfe4c8d8979444/" ref="nofollow noopener noreferrer">PostgreSQLå¤„ç†SQLå±…ç„¶åƒåšè›‹ç³•ï¼Ÿè§£æåˆ°æ‰§è¡Œçš„4æ­¥é‡Œè—ç€å¤šå°‘æŸ¥è¯¢ä¼˜åŒ–çš„å°å¿ƒæœºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6bfdae84f313cf7ad0bb7045c4392347%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6bfdae84f313cf7ad0bb7045c4392347/" ref="nofollow noopener noreferrer">PostgreSQLå¤‡ä»½ä¸æ˜¯å¤åˆ¶æ–‡ä»¶ï¼Ÿç‰©ç†vsé€»è¾‘å’‹é€‰ï¼Ÿè¯¯åˆ è¿˜èƒ½ç²¾å‡†æ¢å¤åˆ°1åˆ†é’Ÿå‰ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fde3672803de34dbad244d0a8d48b0eb5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/de3672803de34dbad244d0a8d48b0eb5/" ref="nofollow noopener noreferrer">è½¬è´¦ä¸ç¿»è½¦ã€å¹¶å‘ä¸å¹²æ‰°ï¼ŒPostgreSQLçš„ACIDç‰¹æ€§åˆ°åº•æœ‰å•¥é­”æ³•ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe463e8a2668abdf00a228c9b79324ded%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e463e8a2668abdf00a228c9b79324ded/" ref="nofollow noopener noreferrer">é“¶è¡Œè½¬è´¦ä¸ç™½æ‰£é’±ã€ç”µå•†ä¸‹å•ä¸è¶…å–ï¼ŒPostgreSQLäº‹åŠ¡çš„è¯€çªæ˜¯å•¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F5c967e595058c4a1fc4474a68e64031d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/5c967e595058c4a1fc4474a68e64031d/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„PL/pgSQLåˆ°åº•æ˜¯å•¥ï¼Ÿèƒ½è®©SQLä»â€œè¯´ç›®æ ‡â€å˜â€œè®²æ­¥éª¤â€ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F325047855e3e23b5ef82f7d2db134fbd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/325047855e3e23b5ef82f7d2db134fbd/" ref="nofollow noopener noreferrer">PostgreSQLè§†å›¾ä¸å­˜æ•°æ®ï¼Ÿé‚£å®ƒæ€ä¹ˆç®€åŒ–æŸ¥è¯¢è¿˜èƒ½é€’å½’ç”Ÿæˆåºåˆ—å’Œæ§åˆ¶æƒé™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd2dba50bb6e4df7b27e735245a06a2a2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d2dba50bb6e4df7b27e735245a06a2a2/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•è¿™ä¹ˆç©ï¼Œæ‰èƒ½è®©ä½ çš„æŸ¥è¯¢çœŸçš„â€œé£â€èµ·æ¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F849ae5bab0f8c66e94c2f6ad1bb798e3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/849ae5bab0f8c66e94c2f6ad1bb798e3/" ref="nofollow noopener noreferrer">PostgreSQLçš„è¡¨å…³ç³»å’Œçº¦æŸï¼Œå’‹å¸®ä½ æå®šç”¨æˆ·è®¢å•ä¸æ··ä¹±ã€å­¦ç”Ÿé€‰è¯¾ä¸é‡å¤ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fef4800975ffa84f1ca51976a70a1585b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ef4800975ffa84f1ca51976a70a1585b/" ref="nofollow noopener noreferrer">PostgreSQLæŸ¥è¯¢çš„ç­›å­ã€æ’åºã€èšåˆã€åˆ†ç»„ï¼Ÿä½ ä¼šç”¨å®ƒä»¬æå®šæ•°æ®å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbf54711525c507c5eacfa7b0151c39d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bf54711525c507c5eacfa7b0151c39d2/" ref="nofollow noopener noreferrer">PostgreSQLæ•°æ®ç±»å‹æ€ä¹ˆé€‰æ‰é«˜æ•ˆä¸è¸©å‘ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F887809b3e0375f5956873cd442f516d8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/887809b3e0375f5956873cd442f516d8/" ref="nofollow noopener noreferrer">æƒ³è§£é”PostgreSQLæŸ¥è¯¢ä»åŸºç¡€åˆ°è¿›é˜¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Ÿä½ éƒ½getäº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F934be1203725e8be9d6f6e9104e5abcc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/934be1203725e8be9d6f6e9104e5abcc/" ref="nofollow noopener noreferrer">PostgreSQL DELETEå±…ç„¶æœ‰è¿™äº›æ“ä½œï¼Ÿè¿”å›æ•°æ®ã€è¿è¡¨åˆ ä½ è¯•è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0f0622e9b7402b599e618150d0596ffe%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0f0622e9b7402b599e618150d0596ffe/" ref="nofollow noopener noreferrer">PostgreSQL UPDATEè¯­å¥æ€ä¹ˆç©ï¼Ÿä»æ”¹é‚®ç®±åˆ°æ‰¹é‡æ›´æ–°çš„é¿å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0e3bf7efc030b024ea67ee855a00f2de%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0e3bf7efc030b024ea67ee855a00f2de/" ref="nofollow noopener noreferrer">PostgreSQLæ’å…¥æ•°æ®è¿˜åœ¨é€æ¡æ•²ï¼Ÿæ‰¹é‡ã€å†²çªå¤„ç†ã€è¿”å›è‡ªå¢IDçš„æŠ€å·§ä½ ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb6cd3c86da6aac26ed829e472d34078e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b6cd3c86da6aac26ed829e472d34078e/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œä»“åº“-æˆ¿é—´-è´§æ¶â€æ¸¸æˆï¼Œä½ èƒ½å»ºå‡ºç”µå•†æ•°æ®åº“å’Œè¡¨å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fba1f545a3410144552fbdbfcf31b5265%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ba1f545a3410144552fbdbfcf31b5265/" ref="nofollow noopener noreferrer">PostgreSQL 17å®‰è£…æ€»ç¿»è½¦ï¼ŸWindows/macOS/Linuxé¿å‘æŒ‡å—å¸®ä½ æå®šï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb5474d1480509c5072085abc80b3dd9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b5474d1480509c5072085abc80b3dd9f/" ref="nofollow noopener noreferrer">èƒ½å½“å…³ç³»å‹æ•°æ®åº“è¿˜èƒ½ç©å¯¹è±¡ç‰¹æ€§ï¼Œèƒ½æ‹†å¤æ‚æŸ¥è¯¢è¿˜èƒ½è‡ªåŠ¨ç®¡åº“å­˜ï¼ŒPostgreSQLå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fcc098d8836e787baa8a4d92e4d56d5c5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/cc098d8836e787baa8a4d92e4d56d5c5/" ref="nofollow noopener noreferrer">ç»™æ¥å£åŠ æ–°å­—æ®µåˆä¸æå´©è€å®¢æˆ·ç«¯ï¼ŸFastAPIçš„å¤šç‰ˆæœ¬APIé å“ªä¸‰æ‹›å®ç°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F46d05151c5bd31cf37a7bcf0b8f5b0b8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/46d05151c5bd31cf37a7bcf0b8f5b0b8/" ref="nofollow noopener noreferrer">æµé‡çªå¢è¦æå´©FastAPIï¼Ÿç†”æ–­æµ‹è¯•æ˜¯æ€ä¹ˆé˜²ç³»ç»Ÿé›ªå´©çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F65ce343cc5df9faf3a8e2eeaab42ae45%2F" target="_blank" title="https://blog.cmdragon.cn/posts/65ce343cc5df9faf3a8e2eeaab42ae45/" ref="nofollow noopener noreferrer">FastAPIç§’æ€åº“å­˜æ€»å˜è´Ÿæ•°ï¼ŸRedisåˆ†å¸ƒå¼é”èƒ½å¸®ä½ å®ˆä½åº•çº¿å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Feed6cd8985d9be0a4b092a7da38b3e0c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/eed6cd8985d9be0a4b092a7da38b3e0c/" ref="nofollow noopener noreferrer">FastAPIçš„CIæµæ°´çº¿æ€ä¹ˆè‡ªåŠ¨æµ‹ç«¯ç‚¹ï¼Œè¿˜èƒ½è®©AllureæŠ¥å‘Šç¾åˆ°çŠ¯è§„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6157d87338ce894d18c013c3c4777abb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6157d87338ce894d18c013c3c4777abb/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨GitHub Actionsä¸ºFastAPIé¡¹ç›®æ‰“é€ è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ffc4ef84559e04693a620d0714cb30787%2F" target="_blank" title="https://blog.cmdragon.cn/posts/fc4ef84559e04693a620d0714cb30787/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨Git Hookå’ŒCIæµæ°´çº¿ä¸ºFastAPIé¡¹ç›®ä¿é©¾æŠ¤èˆªï¼Ÿ - cmdragon's Blog</a></li>
</ul>
</details>
<details>
<summary>å…è´¹å¥½ç”¨çš„çƒ­é—¨åœ¨çº¿å·¥å…·</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fraid-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/raid-calculator" ref="nofollow noopener noreferrer">RAID è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fphotoshop-online" target="_blank" title="https://tools.cmdragon.cn/zh/apps/photoshop-online" ref="nofollow noopener noreferrer">åœ¨çº¿PS - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmermaid-live-editor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/mermaid-live-editor" ref="nofollow noopener noreferrer">Mermaid åœ¨çº¿ç¼–è¾‘å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmath-solver-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/math-solver-calculator" ref="nofollow noopener noreferrer">æ•°å­¦æ±‚è§£è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsmart-teleprompter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/smart-teleprompter" ref="nofollow noopener noreferrer">æ™ºèƒ½æè¯å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmagic-resume" target="_blank" title="https://tools.cmdragon.cn/zh/apps/magic-resume" ref="nofollow noopener noreferrer">é­”æ³•ç®€å† - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-puzzle-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-puzzle-tool" ref="nofollow noopener noreferrer">Image Puzzle Tool - å›¾ç‰‡æ‹¼å›¾å·¥å…· | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsubtitle-downloader" target="_blank" title="https://tools.cmdragon.cn/zh/apps/subtitle-downloader" ref="nofollow noopener noreferrer">å­—å¹•ä¸‹è½½å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flyrics-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lyrics-generator" ref="nofollow noopener noreferrer">æ­Œè¯ç”Ÿæˆå·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcloud-drive-search" target="_blank" title="https://tools.cmdragon.cn/zh/apps/cloud-drive-search" ref="nofollow noopener noreferrer">ç½‘ç›˜èµ„æºèšåˆæœç´¢ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fascii-art-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ascii-art-generator" ref="nofollow noopener noreferrer">ASCIIå­—ç¬¦ç”»ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fjwt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/jwt-tool" ref="nofollow noopener noreferrer">JSON Web Tokens å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbcrypt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/bcrypt-tool" ref="nofollow noopener noreferrer">Bcrypt å¯†ç å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-composer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-composer" ref="nofollow noopener noreferrer">GIF åˆæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-decomposer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-decomposer" ref="nofollow noopener noreferrer">GIF åˆ†è§£å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-steganography" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-steganography" ref="nofollow noopener noreferrer">æ–‡æœ¬éšå†™æœ¯ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh" target="_blank" title="https://tools.cmdragon.cn/zh" ref="nofollow noopener noreferrer">CMDragon åœ¨çº¿å·¥å…· - é«˜çº§AIå·¥å…·ç®±ä¸å¼€å‘è€…å¥—ä»¶ | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%3Fcategory%3Dtrending" target="_blank" title="https://tools.cmdragon.cn/zh/apps?category=trending" ref="nofollow noopener noreferrer">åº”ç”¨å•†åº— - å‘ç°1000+æå‡æ•ˆç‡ä¸å¼€å‘çš„AIå·¥å…·å’Œå®ç”¨ç¨‹åº | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fchangelog" target="_blank" title="https://tools.cmdragon.cn/zh/changelog" ref="nofollow noopener noreferrer">CMDragon æ›´æ–°æ—¥å¿— - æœ€æ–°æ›´æ–°ã€åŠŸèƒ½ä¸æ”¹è¿› | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fsponsor" target="_blank" title="https://tools.cmdragon.cn/zh/sponsor" ref="nofollow noopener noreferrer">æ”¯æŒæˆ‘ä»¬ - æˆä¸ºèµåŠ©è€… | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-ai" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-ai" ref="nofollow noopener noreferrer">AIæ–‡æœ¬ç”Ÿæˆå›¾åƒ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftemp-email" target="_blank" title="https://tools.cmdragon.cn/zh/apps/temp-email" ref="nofollow noopener noreferrer">ä¸´æ—¶é‚®ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fqrcode-parser" target="_blank" title="https://tools.cmdragon.cn/zh/apps/qrcode-parser" ref="nofollow noopener noreferrer">äºŒç»´ç è§£æå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-mindmap" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-mindmap" ref="nofollow noopener noreferrer">æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fregex-visualizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/regex-visualizer" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsteganography-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/steganography-tool" ref="nofollow noopener noreferrer">æ–‡ä»¶éšå†™å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fiptv-explorer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/iptv-explorer" ref="nofollow noopener noreferrer">IPTV é¢‘é“æ¢ç´¢å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsnapdrop" target="_blank" title="https://tools.cmdragon.cn/zh/apps/snapdrop" ref="nofollow noopener noreferrer">å¿«ä¼  - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flucky-draw" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lucky-draw" ref="nofollow noopener noreferrer">éšæœºæŠ½å¥–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fanime-scene-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/anime-scene-finder" ref="nofollow noopener noreferrer">åŠ¨æ¼«åœºæ™¯æŸ¥æ‰¾å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftime-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/time-toolkit" ref="nofollow noopener noreferrer">æ—¶é—´å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fspeed-test" target="_blank" title="https://tools.cmdragon.cn/zh/apps/speed-test" ref="nofollow noopener noreferrer">ç½‘é€Ÿæµ‹è¯• - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-remover" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-remover" ref="nofollow noopener noreferrer">AI æ™ºèƒ½æŠ å›¾å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-replacer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-replacer" ref="nofollow noopener noreferrer">èƒŒæ™¯æ›¿æ¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fartistic-qrcode" target="_blank" title="https://tools.cmdragon.cn/zh/apps/artistic-qrcode" ref="nofollow noopener noreferrer">è‰ºæœ¯äºŒç»´ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fopen-graph-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/open-graph-generator" ref="nofollow noopener noreferrer">Open Graph å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-comparison" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-comparison" ref="nofollow noopener noreferrer">å›¾åƒå¯¹æ¯”å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-compressor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-compressor" ref="nofollow noopener noreferrer">å›¾ç‰‡å‹ç¼©ä¸“ä¸šç‰ˆ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fpassword-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/password-generator" ref="nofollow noopener noreferrer">å¯†ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsvg-optimizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/svg-optimizer" ref="nofollow noopener noreferrer">SVGä¼˜åŒ–å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcolor-palette" target="_blank" title="https://tools.cmdragon.cn/zh/apps/color-palette" ref="nofollow noopener noreferrer">è°ƒè‰²æ¿ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fonline-metronome" target="_blank" title="https://tools.cmdragon.cn/zh/apps/online-metronome" ref="nofollow noopener noreferrer">åœ¨çº¿èŠ‚æ‹å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcss-grid-layout" target="_blank" title="https://tools.cmdragon.cn/zh/apps/css-grid-layout" ref="nofollow noopener noreferrer">CSSç½‘æ ¼å¸ƒå±€ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Femail-validator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/email-validator" ref="nofollow noopener noreferrer">é‚®ç®±éªŒè¯å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcalligraphy-practice" target="_blank" title="https://tools.cmdragon.cn/zh/apps/calligraphy-practice" ref="nofollow noopener noreferrer">ä¹¦æ³•ç»ƒä¹ å­—å¸– - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffinance-calculator-suite" target="_blank" title="https://tools.cmdragon.cn/zh/apps/finance-calculator-suite" ref="nofollow noopener noreferrer">é‡‘èè®¡ç®—å™¨å¥—ä»¶ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fchinese-kinship-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/chinese-kinship-calculator" ref="nofollow noopener noreferrer">ä¸­å›½äº²æˆšå…³ç³»è®¡ç®—å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fprotobuf-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/protobuf-toolkit" ref="nofollow noopener noreferrer">Protocol Buffer å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-upscaler" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-upscaler" ref="nofollow noopener noreferrer">å›¾ç‰‡æ— æŸæ”¾å¤§ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-compare" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-compare" ref="nofollow noopener noreferrer">æ–‡æœ¬æ¯”è¾ƒå·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-batch-lookup" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-batch-lookup" ref="nofollow noopener noreferrer">IPæ‰¹é‡æŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdomain-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/domain-finder" ref="nofollow noopener noreferrer">åŸŸåæŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdns-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/dns-toolkit" ref="nofollow noopener noreferrer">DNSå·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffavicon-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/favicon-generator" ref="nofollow noopener noreferrer">ç½‘ç«™å›¾æ ‡ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fsitemap_index.xml" target="_blank" title="https://tools.cmdragon.cn/sitemap_index.xml" ref="nofollow noopener noreferrer">XML Sitemap</a></li>
</ul>
</details>
<p>æ¯”å¦‚ä¿®æ”¹æ·±å±‚æ ·å¼å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"boxStyle"</span>&gt;</span>åŠ¨æ€æ·±å±‚æ ·å¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeBgColor"</span>&gt;</span>åˆ‡æ¢èƒŒæ™¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// ç”¨ reactive å®šä¹‰æ·±å±‚å“åº”å¼å¯¹è±¡</span>
<span class="hljs-keyword">const</span> boxStyle = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f0f0f0'</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-string">'20px'</span>,
    <span class="hljs-attr">border</span>: <span class="hljs-string">'1px solid #eee'</span>
  }
})

<span class="hljs-comment">// ç›´æ¥ä¿®æ”¹æ·±å±‚å±æ€§ï¼Œè§¦å‘æ›´æ–°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeBgColor</span> = (<span class="hljs-params"/>) =&gt; {
  boxStyle.<span class="hljs-property">container</span>.<span class="hljs-property">backgroundColor</span> = 
    boxStyle.<span class="hljs-property">container</span>.<span class="hljs-property">backgroundColor</span> === <span class="hljs-string">'#f0f0f0'</span> 
    ? <span class="hljs-string">'#d3eafd'</span> 
    : <span class="hljs-string">'#f0f0f0'</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>åœ¨ Vue2 ä¸­ï¼Œä¿®æ”¹ <code>boxStyle.container.backgroundColor</code> ä¸ä¼šè§¦å‘æ›´æ–°ï¼ˆéœ€è¦ <code>Vue.set</code>ï¼‰ï¼Œä½† Vue3 ç”¨ Proxy ç›´æ¥æ‹¦æˆªäº†å±æ€§ä¿®æ”¹ï¼Œ<strong>æ— éœ€é¢å¤–æ“ä½œ</strong>ã€‚</p>
<h2 data-id="heading-12">å››ã€è¯¾å Quizï¼šå·©å›ºä½ çš„ç†è§£</h2>
<h3 data-id="heading-13">é—®é¢˜1</h3>
<p>å¦‚ä½•ç”¨ <code>v-bind:class</code> åŒæ—¶æ·»åŠ <strong>é™æ€ç±»å</strong>å’Œ<strong>æ¡ä»¶ç±»å</strong>ï¼Ÿè¯·å†™å‡ºç¤ºä¾‹ä»£ç ã€‚</p>
<h3 data-id="heading-14">é—®é¢˜2</h3>
<p><code>v-bind:style</code> çš„å¯¹è±¡è¯­æ³•ä¸­ï¼ŒCSS å±æ€§åå¯ä»¥ç”¨å“ªäº›å½¢å¼ï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚</p>
<h3 data-id="heading-15">ç­”æ¡ˆè§£æ</h3>
<h4 data-id="heading-16">é—®é¢˜1ï¼šæ··åˆé™æ€ä¸æ¡ä»¶ç±»å</h4>
<p>ç”¨<strong>æ•°ç»„è¯­æ³•</strong>æˆ–<strong>å¯¹è±¡è¯­æ³•</strong>éƒ½å¯ä»¥ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ•°ç»„è¯­æ³•ï¼šé™æ€ç±»å + æ¡ä»¶ç±»å --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[ 'shadow', { active: isActive } ]"</span>&gt;</span>
    é™æ€+æ¡ä»¶ç±»å
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.card</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>; }
<span class="hljs-selector-class">.shadow</span> { <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>); }
<span class="hljs-selector-class">.active</span> { <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#2196f3</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h4 data-id="heading-17">é—®é¢˜2ï¼šCSS å±æ€§åçš„ä¸¤ç§å½¢å¼</h4>
<ul>
<li><strong>é©¼å³°å¼</strong>ï¼šå¯¹åº” CSS çš„çŸ­æ¨ªçº¿å‘½åï¼ˆå¦‚ <code>fontSize</code> â†’ <code>font-size</code>ï¼Œ<code>backgroundColor</code> â†’ <code>background-color</code>ï¼‰ï¼›</li>
<li><strong>çŸ­æ¨ªçº¿å¼</strong>ï¼šéœ€è¦ç”¨å¼•å·åŒ…è£¹ï¼ˆå¦‚ <code>'font-size'</code>ï¼Œ<code>'background-color'</code>ï¼‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ 
  fontSize: '16px',        // é©¼å³°å¼
  'background-color': '#f0f0f0' // çŸ­æ¨ªçº¿å¼ï¼ˆéœ€å¼•å·ï¼‰
}"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2 data-id="heading-18">äº”ã€å¸¸è§æŠ¥é”™è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-19">1. æŠ¥é”™ï¼š<code>[Vue warn]: Property "isActive" was accessed during render but is not defined on instance.</code></h3>
<ul>
<li><strong>åŸå› </strong>ï¼šç»‘å®šçš„å˜é‡ï¼ˆå¦‚ <code>isActive</code>ï¼‰æœªåœ¨ç»„ä»¶ä¸­å£°æ˜ï¼ŒVue æ‰¾ä¸åˆ°è¯¥å˜é‡ï¼›</li>
<li><strong>è§£å†³</strong>ï¼šç”¨ <code>ref</code> æˆ– <code>reactive</code> å£°æ˜å“åº”å¼å˜é‡ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>) <span class="hljs-comment">// å¿…é¡»å£°æ˜ï¼</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-20">2. é—®é¢˜ï¼šä¿®æ”¹å˜é‡åæ ·å¼ä¸æ›´æ–°</h3>
<ul>
<li><strong>åŸå› </strong>ï¼šå˜é‡ä¸æ˜¯<strong>å“åº”å¼</strong>çš„ï¼ˆç”¨ <code>let</code> å£°æ˜çš„æ™®é€šå˜é‡ï¼Œä¸æ˜¯ <code>ref</code>/<code>reactive</code>ï¼‰ï¼›</li>
<li><strong>è§£å†³</strong>ï¼šç”¨ Vue3 çš„å“åº”å¼ API åŒ…è£¹å˜é‡ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ï¼šlet fontSize = 16;</span>
<span class="hljs-comment">// æ­£ç¡®ï¼š</span>
<span class="hljs-keyword">const</span> fontSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">16</span>)
</code></pre>
</li>
</ul>
<h3 data-id="heading-21">3. æŠ¥é”™ï¼š<code>[Vue warn]: Invalid value for dynamic directive argument (expected string or null): undefined</code></h3>
<ul>
<li><strong>åŸå› </strong>ï¼šç»‘å®šçš„ç±»å/æ ·å¼å±æ€§åæ˜¯ <code>undefined</code>ï¼ˆå¦‚ <code>{ [className]: isActive }</code> ä¸­ <code>className</code> æœªå®šä¹‰ï¼‰ï¼›</li>
<li><strong>è§£å†³</strong>ï¼šç»™å˜é‡è®¾ç½®åˆå§‹å€¼ï¼Œæˆ–ç”¨<strong>å¯é€‰é“¾</strong>å¤„ç†ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> className = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'active'</span>) <span class="hljs-comment">// åˆå§‹å€¼</span>
<span class="hljs-comment">// æˆ–ç”¨å¯é€‰é“¾</span>
:<span class="hljs-keyword">class</span>=<span class="hljs-string">"{ [className || '']: isActive }"</span>
</code></pre>
</li>
</ul>
<h2 data-id="heading-22">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>Vue3 å®˜æ–¹æ–‡æ¡£ï¼šClass and Style Binding <a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Fclass-and-style.html" target="_blank" title="https://vuejs.org/guide/essentials/class-and-style.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></li>
<li>Vue3 å®˜æ–¹æ–‡æ¡£ï¼šå“åº”å¼åŸºç¡€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Freactivity-fundamentals.html" target="_blank" title="https://vuejs.org/guide/essentials/reactivity-fundamentals.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[kotlinå¯†å°ç±»çš„ä¸»è¦ç”¨é€”]]></title>    <link>https://juejin.cn/post/7582755817670426634</link>    <guid>https://juejin.cn/post/7582755817670426634</guid>    <pubDate>2025-12-12T06:57:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582755817670426634" data-draft-id="7582553782398976046" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="kotlinå¯†å°ç±»çš„ä¸»è¦ç”¨é€”"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T06:57:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—é›¨åŒ—æ–—"/> <meta itemprop="url" content="https://juejin.cn/user/4059818590476286"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            kotlinå¯†å°ç±»çš„ä¸»è¦ç”¨é€”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4059818590476286/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—é›¨åŒ—æ–—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:57:57.000Z" title="Fri Dec 12 2025 06:57:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Kotlin ä¸­<strong>å¯†å°ç±»ï¼ˆSealed Classï¼‰çš„ä¸»è¦ç”¨é€”ä¹‹ä¸€æ˜¯å®ç°â€œç©·å°½æ€§æ£€æŸ¥â€ï¼ˆExhaustiveness Checkingï¼‰</strong> ã€‚è¿™æ˜¯å®ƒåŒºåˆ«äºæ™®é€šæŠ½è±¡ç±»æˆ–æ¥å£çš„å…³é”®ä¼˜åŠ¿ã€‚ä¸‹é¢æˆ‘ä»¬è¯¦ç»†è§£é‡Šï¼š</p>
<hr/>
<h2 data-id="heading-0">ğŸ” ä»€ä¹ˆæ˜¯â€œç©·å°½æ€§æ£€æŸ¥â€ï¼Ÿ</h2>
<p><strong>ç©·å°½æ€§æ£€æŸ¥</strong>æ˜¯æŒ‡ï¼š</p>
<blockquote>
<p>ç¼–è¯‘å™¨èƒ½å¤Ÿé™æ€åœ°éªŒè¯ä½ åœ¨å¤„ç†ä¸€ä¸ªå°é—­ç±»å‹ï¼ˆå¦‚å¯†å°ç±»ï¼‰æ—¶ï¼Œæ˜¯å¦å·²ç»è¦†ç›–äº†<strong>æ‰€æœ‰å¯èƒ½çš„å­ç±»å‹</strong>ã€‚</p>
</blockquote>
<p>å¦‚æœé—æ¼äº†æŸä¸ªå­ç±»å‹ï¼Œ<strong>ç¼–è¯‘å™¨ä¼šæŠ¥é”™</strong>ï¼Œä»è€Œé¿å…è¿è¡Œæ—¶é€»è¾‘é”™è¯¯ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§© ä¸ºä»€ä¹ˆéœ€è¦ç©·å°½æ€§æ£€æŸ¥ï¼Ÿ</h2>
<p>è€ƒè™‘ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼š<strong>å¤„ç†æ“ä½œç»“æœ</strong>ï¼ˆæˆåŠŸã€å¤±è´¥ã€åŠ è½½ä¸­â€¦â€¦ï¼‰ã€‚å¦‚æœä½ ç”¨æ™®é€šçˆ¶ç±»ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">1open <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>
2<span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: String) : Result()
3<span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> msg: String) : Result()
</code></pre>
<p>ç„¶åç”¨ <code>when</code> å¤„ç†ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Kotlin
ç¼–è¾‘
<span class="hljs-number">1</span>fun <span class="hljs-built_in">handle</span>(result: Result) = when (result) {
<span class="hljs-number">2</span>    is Success -&gt; <span class="hljs-built_in">println</span>("OK")
<span class="hljs-number">3</span>    <span class="hljs-comment">// å¿˜è®°å¤„ç† Errorï¼</span>
<span class="hljs-number">4</span>}
</code></pre>
<p>âœ… <strong>è¿™æ®µä»£ç èƒ½ç¼–è¯‘é€šè¿‡ï¼</strong><br/>
ä½†è¿è¡Œæ—¶å¦‚æœä¼ å…¥ <code>Error</code>ï¼Œå°±ä¼šæŠ›å‡º <code>kotlin.NoWhenBranchMatchedException</code> â€”â€” <strong>è¿™æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯</strong>ï¼</p>
<p>è€Œä½¿ç”¨<strong>å¯†å°ç±»</strong>ï¼Œå°±èƒ½åœ¨<strong>ç¼–è¯‘æœŸ</strong>å‘ç°è¿™ä¸ªé—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">âœ… å¯†å°ç±»å¦‚ä½•å®ç°ç©·å°½æ€§æ£€æŸ¥ï¼Ÿ</h2>
<h3 data-id="heading-3">ç¤ºä¾‹ï¼šç”¨å¯†å°ç±»å®šä¹‰ç»“æœ</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">Kotlin
ç¼–è¾‘
1sealed <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span> {
<span class="hljs-number">2</span>    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: String) : Result()
<span class="hljs-number">3</span>    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> msg: String) : Result()
<span class="hljs-number">4</span>    <span class="hljs-keyword">object</span> Loading : Result()
<span class="hljs-number">5</span>}
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨Â <code>when</code>Â å¤„ç†ï¼ˆä¸å¸¦Â <code>else</code>ï¼‰</h3>
<pre><code class="hljs language-rust" lang="rust">Kotlin
ç¼–è¾‘
<span class="hljs-number">1</span>fun <span class="hljs-title function_ invoke__">handle</span>(result: <span class="hljs-type">Result</span>): <span class="hljs-type">String</span> = <span class="hljs-title function_ invoke__">when</span> (result) {
<span class="hljs-number">2</span>    is <span class="hljs-type">Result</span>.Success <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"æˆåŠŸ: ${result.data}"</span>
<span class="hljs-number">3</span>    is <span class="hljs-type">Result</span>.Error <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"å¤±è´¥: ${result.msg}"</span>
<span class="hljs-number">4</span>    <span class="hljs-type">Result</span>.Loading <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"åŠ è½½ä¸­"</span>
<span class="hljs-number">5</span>    <span class="hljs-comment">// æ‰€æœ‰åˆ†æ”¯éƒ½è¦†ç›–äº† â†’ ç¼–è¯‘é€šè¿‡ âœ…</span>
<span class="hljs-number">6</span>}
</code></pre>
<p>ç°åœ¨ï¼Œ<strong>å¦‚æœä½ åˆ é™¤ä»»æ„ä¸€ä¸ªåˆ†æ”¯</strong>ï¼Œæ¯”å¦‚æ³¨é‡Šæ‰ <code>Loading</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">Kotlin
ç¼–è¾‘
<span class="hljs-number">1</span>fun <span class="hljs-title function_ invoke__">handle</span>(result: <span class="hljs-type">Result</span>): <span class="hljs-type">String</span> = <span class="hljs-title function_ invoke__">when</span> (result) {
<span class="hljs-number">2</span>    is <span class="hljs-type">Result</span>.Success <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"æˆåŠŸ"</span>
<span class="hljs-number">3</span>    is <span class="hljs-type">Result</span>.Error <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"å¤±è´¥"</span>
<span class="hljs-number">4</span>    <span class="hljs-comment">// âŒ ç¼ºå°‘ Loading åˆ†æ”¯ï¼</span>
<span class="hljs-number">5</span>}
</code></pre>
<p>ğŸ‘‰ <strong>ç¼–è¯‘å™¨ä¼šæŠ¥é”™</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Text
ç¼–è¾‘
<span class="hljs-number">1'</span><span class="hljs-keyword">when</span><span class="hljs-string">' expression must be exhaustive, add necessary '</span>Result.Loading<span class="hljs-string">' branch or '</span><span class="hljs-keyword">else</span><span class="hljs-string">' branch instead
</span></code></pre>
<blockquote>
<p>ğŸ’¡ è¿™å°±æ˜¯<strong>ç©·å°½æ€§æ£€æŸ¥</strong>ï¼šç¼–è¯‘å™¨çŸ¥é“ <code>Result</code> åªæœ‰è¿™ä¸‰ç§å­ç±»å‹ï¼Œå¹¶å¼ºåˆ¶ä½ å¤„ç†å…¨éƒ¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ğŸ›‘ å¦‚æœåŠ äº†Â <code>else</code>Â ä¼šæ€æ ·ï¼Ÿ</h2>
<pre><code class="hljs language-rust" lang="rust">Kotlin
ç¼–è¾‘
<span class="hljs-number">1</span>fun <span class="hljs-title function_ invoke__">handle</span>(result: <span class="hljs-type">Result</span>): <span class="hljs-type">String</span> = <span class="hljs-title function_ invoke__">when</span> (result) {
<span class="hljs-number">2</span>    is <span class="hljs-type">Result</span>.Success <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"æˆåŠŸ"</span>
<span class="hljs-number">3</span>    <span class="hljs-keyword">else</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"å…¶ä»–æƒ…å†µ"</span>
<span class="hljs-number">4</span>}
</code></pre>
<p>âœ… è¿™æ ·ä¹Ÿèƒ½ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸º <code>else</code> è¢«è§†ä¸ºâ€œå…œåº•â€ã€‚</p>
<p>ä½†<strong>å¤±å»äº†ç±»å‹å®‰å…¨çš„ä¼˜åŠ¿</strong>ï¼</p>
<ul>
<li>å¦‚æœä»¥åæ–°å¢ä¸€ä¸ªå­ç±»ï¼ˆæ¯”å¦‚Â <code>Retry</code>ï¼‰ï¼Œä½ çš„Â <code>else</code>Â ä¼šé»˜é»˜åæ‰å®ƒï¼Œå¯èƒ½å¼•å‘é€»è¾‘ bugã€‚</li>
<li>è€Œå¦‚æœä¸å†™Â <code>else</code>ï¼Œæ–°å¢å­ç±»å<strong>æ‰€æœ‰æœªæ›´æ–°çš„Â <code>when</code>Â éƒ½ä¼šç¼–è¯‘å¤±è´¥</strong>ï¼Œè¿«ä½¿ä½ æ˜¾å¼å¤„ç†æ–°æƒ…å†µã€‚</li>
</ul>
<blockquote>
<p>âœ… <strong>æœ€ä½³å®è·µï¼šå°½é‡ä¸å†™ <code>else</code>ï¼Œè®©ç¼–è¯‘å™¨å¸®ä½ æ£€æŸ¥å®Œæ•´æ€§ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ğŸ“Œ ç©·å°½æ€§æ£€æŸ¥çš„å‰ææ¡ä»¶</h2>
<ol>
<li>
<p><strong><code>when</code> ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨</strong>ï¼ˆå³æœ‰è¿”å›å€¼æˆ–èµ‹å€¼ç»™å˜é‡ï¼‰</p>
<pre><code class="hljs language-csharp" lang="csharp">Kotlin
ç¼–è¾‘
<span class="hljs-number">1</span>val message = <span class="hljs-keyword">when</span> (result) { ... } <span class="hljs-comment">// âœ… ä¼šè§¦å‘ç©·å°½æ€§æ£€æŸ¥</span>
</code></pre>
<p>å¦‚æœåªæ˜¯è¯­å¥ï¼ˆæ— è¿”å›å€¼ï¼‰ï¼Œä¸”æ‰€æœ‰åˆ†æ”¯éƒ½æœ‰ <code>return</code>/<code>throw</code>ï¼Œä¹Ÿä¼šæ£€æŸ¥ï¼›å¦åˆ™å¯èƒ½ä¸æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>ç±»å‹å¿…é¡»æ˜¯å¯†å°ç±»æˆ–å…¶å­ç±»å‹</strong><br/>
æ™®é€šç±»ã€æ¥å£ã€å¼€æ”¾ç±»ï¼ˆ<code>open class</code>ï¼‰<strong>ä¸ä¼šè§¦å‘</strong>ç©·å°½æ€§æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>æ‰€æœ‰ç›´æ¥å­ç±»å¿…é¡»åœ¨ç¼–è¯‘æœŸå¯çŸ¥</strong><br/>
å¯†å°ç±»çš„å­ç±»å¿…é¡»åœ¨åŒä¸€æ–‡ä»¶ï¼ˆæˆ–åŒä¸€æ¨¡å—å†…ï¼‰ï¼Œè¿™æ ·ç¼–è¯‘å™¨æ‰èƒ½â€œçœ‹åˆ°å…¨éƒ¨å¯èƒ½æ€§â€ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-7">ğŸ¯ å®é™…ä»·å€¼ï¼šé‡æ„å®‰å…¨ + é€»è¾‘å¯é </h2>
<p>å‡è®¾ä½ åæœŸç»™ <code>Result</code> æ–°å¢ä¸€ä¸ªçŠ¶æ€ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">
ç¼–è¾‘
1sealed <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span> {
<span class="hljs-number">2</span>    <span class="hljs-comment">// ... åŸæœ‰</span>
<span class="hljs-number">3</span>    <span class="hljs-keyword">object</span> Retry : Result() <span class="hljs-comment">// æ–°å¢</span>
<span class="hljs-number">4</span>}
</code></pre>
<p>é‚£ä¹ˆ<strong>æ‰€æœ‰ä½¿ç”¨ <code>when (result)</code> çš„åœ°æ–¹éƒ½ä¼šç¼–è¯‘å¤±è´¥</strong>ï¼Œé™¤éä½ æ˜¾å¼å¤„ç† <code>Retry</code>ã€‚<br/>
è¿™è®©ä½ åœ¨<strong>æ‰©å±•åŠŸèƒ½æ—¶ä¸ä¼šé—æ¼ä»»ä½•è°ƒç”¨ç‚¹</strong>ï¼Œæå¤§æå‡ä»£ç å¥å£®æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-8">âœ… æ€»ç»“ï¼šç©·å°½æ€§æ£€æŸ¥çš„æ ¸å¿ƒæ„ä¹‰</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>æ™®é€šç±»/æ¥å£</th><th>å¯†å°ç±»</th></tr></thead><tbody><tr><td>å­ç±»å‹æ•°é‡</td><td>å¼€æ”¾ï¼ˆå¯æ— é™æ‰©å±•ï¼‰</td><td>å°é—­ï¼ˆç¼–è¯‘æœŸå·²çŸ¥ï¼‰</td></tr><tr><td><code>when</code>Â æ˜¯å¦å¼ºåˆ¶è¦†ç›–æ‰€æœ‰å­ç±»</td><td>âŒ å¦</td><td>âœ… æ˜¯ï¼ˆä½œä¸ºè¡¨è¾¾å¼æ—¶ï¼‰</td></tr><tr><td>æ–°å¢å­ç±»æ˜¯å¦å½±å“ç°æœ‰ä»£ç </td><td>âŒ ä¸ä¼šæŠ¥é”™ï¼ˆå¯èƒ½å‡º bugï¼‰</td><td>âœ… ç¼–è¯‘å¤±è´¥ï¼ˆå¼ºåˆ¶ä¿®å¤ï¼‰</td></tr><tr><td>é€‚åˆåœºæ™¯</td><td>å¼€æ”¾æ‰©å±•</td><td>å°é—­çŠ¶æ€æœºã€ç»“æœå°è£…ç­‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ”‘ <strong>å¯†å°ç±» + <code>when</code> è¡¨è¾¾å¼ = ç¼–è¯‘æœŸä¿è¯é€»è¾‘å®Œæ•´æ€§</strong></p>
</blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Kotlin å®˜æ–¹æ¨èï¼š<strong>å½“ä½ æœ‰ä¸€ç»„å›ºå®šçš„ã€ç›¸å…³çš„ç±»å‹æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨å¯†å°ç±»è€Œä¸æ˜¯æ™®é€šç»§æ‰¿</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[open-AutoGLMéƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7582502441993863211</link>    <guid>https://juejin.cn/post/7582502441993863211</guid>    <pubDate>2025-12-12T06:19:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582502441993863211" data-draft-id="7582808491582799908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="open-AutoGLMéƒ¨ç½²"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-12T06:19:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Soldier"/> <meta itemprop="url" content="https://juejin.cn/user/935056027688039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            open-AutoGLMéƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/935056027688039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Soldier
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:19:56.000Z" title="Fri Dec 12 2025 06:19:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>AutoGLM-Phone</strong> æ˜¯æ™ºè°± AI æ¨å‡ºçš„ç«¯ä¾§æ™ºèƒ½ä½“æ¨¡å‹ï¼Œå…·å¤‡é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç›´æ¥æ“ä½œæ‰‹æœº GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰çš„èƒ½åŠ›ã€‚å®ƒå¯ä»¥æ¨¡æ‹Ÿäººç±»æ“ä½œï¼Œè‡ªåŠ¨æ‰§è¡Œå¦‚â€œç‚¹å¤–å–â€ã€â€œæŸ¥ä»·æ ¼â€ã€â€œå‘æœ‹å‹åœˆâ€ç­‰è·¨åº”ç”¨ä»»åŠ¡ã€‚</p>
<p>æœ¬æŒ‡å—å°†å¸¦ä½ å®Œæˆä» <strong>ç®—åŠ›</strong> <strong>äº‘æœåŠ¡å™¨</strong> <strong>æ­å»º</strong>ã€<strong>Docker ç¯å¢ƒé…ç½®</strong>ã€<strong>vLLM æ¨¡å‹åŠ é€Ÿéƒ¨ç½²</strong> åˆ° <strong>æœ¬åœ°</strong> <strong>ADB</strong> <strong>è”è°ƒ</strong> çš„å…¨æµç¨‹ã€‚é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å°†æ„å»ºä¸€å¥—å±äºè‡ªå·±çš„ AI æ‰‹æœºæ“ä½œåŠ©æ‰‹ã€‚</p>
<p>open-AutoGLM GitHubåœ°å€ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzai-org%2FOpen-AutoGLM" target="_blank" title="https://github.com/zai-org/Open-AutoGLM" ref="nofollow noopener noreferrer">github.com/zai-org/Opeâ€¦</a></p>
<p>è§†é¢‘æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1dWmjBoEom%3Fvd_source%3Ddb21a1f1ccfda362b15d4e02eb5dcc0a" target="_blank" title="https://www.bilibili.com/video/BV1dWmjBoEom?vd_source=db21a1f1ccfda362b15d4e02eb5dcc0a" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1dWâ€¦</a></p>
<h2 data-id="heading-0">ä¸€ã€æ³¨å†Œç®—åŠ›äº‘æœåŠ¡å™¨è´¦å·</h2>
<h3 data-id="heading-1">1.æ³¨å†Œ</h3>
<p><strong>æ³¨å†Œè´¦å·</strong>ï¼šè®¿é—®ä¸‹æ–¹é“¾æ¥æ³¨å†Œï¼Œå¯è·å–ä¸“å±ç®—åŠ›ä¼˜æƒ åˆ¸ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgpu.ai-galaxy.cn%2Flogin%3Fpage%3Dregister%26salesCode%3D59FEA3" target="_blank" title="https://gpu.ai-galaxy.cn/login?page=register&amp;salesCode=59FEA3" ref="nofollow noopener noreferrer">æ³¨å†Œé“¾æ¥ï¼ˆå«ä¼˜æƒ åˆ¸ï¼‰</a></li>
</ul>
<h3 data-id="heading-2">2.é€‰è´­</h3>
<h4 data-id="heading-3">2.1 æ˜¾å¡é€‰æ‹©</h4>
<p>å»ºè®®é€‰æ‹©æ˜¾å­˜ <strong>40G</strong> å·¦å³çš„æ˜¾å¡ï¼ˆå¦‚ A40, A100-40G, æˆ– 4090ï¼‰ï¼Œä»¥ç¡®ä¿æ¨¡å‹åŠ è½½å’Œæ¨ç†çš„ç¨³å®šæ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d24d4865ed46494b9f3ea058348c463e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU29sZGllcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125756&amp;x-signature=rj8gw%2FW3OwbA7Sj2xwOQ9Ila7r0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">2.2 è®¡è´¹æ¨¡å¼</h4>
<p>æ¨èé€‰æ‹©â€œæŒ‰å°æ—¶ç§Ÿç”¨â€ï¼Œçµæ´»åˆ’ç®—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e02ba7d92f434e05899c049b83f33285~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU29sZGllcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125756&amp;x-signature=2of%2BbcpFHF59dhFk7A%2FO1npE3xU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">2.3 å¸¦å®½é…ç½®</h4>
<ul>
<li>å¼ºçƒˆå»ºè®®å°†å¸¦å®½<strong>æ‹‰æ»¡</strong>ï¼ˆæœ€å¤§å€¼ï¼‰ã€‚</li>
<li><em>åŸå› </em>ï¼šæ¨¡å‹æ–‡ä»¶å’Œ Docker é•œåƒä½“ç§¯å·¨å¤§ï¼Œä½å¸¦å®½ä¼šå¯¼è‡´ä¸‹è½½è€—æ—¶æé•¿ã€‚</li>
<li><em>æ³¨æ„</em>ï¼šéƒ¨åˆ†åŒºåŸŸå¸¦å®½é€Ÿç‡ä¸€å¤©ä»…å…è®¸ä¿®æ”¹ä¸€æ¬¡ï¼Œè¯·è°¨æ…æ“ä½œã€‚</li>
<li>é¢„ç®—æœ‰é™ä¹Ÿå¯é€‰æ‹© 32Mbpsï¼ˆå…è´¹ï¼‰ä¸‹è½½é€Ÿç‡åœ¨4Mã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac3e07f4bcf5410d88d57d89b8549993~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU29sZGllcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125756&amp;x-signature=V8OHMEdIgqHecORtUOquD9wMQp8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">2.4 é•œåƒé€‰æ‹©</h4>
<p>ç›´æ¥é€‰æ‹©ubuntu22.04ç³»ç»Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/778acbdce26443fb8facfee752139d5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU29sZGllcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125756&amp;x-signature=3R9wt20kjcCPTYMSaHO6dXtvdrs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">2.5 ç«¯å£æ˜ å°„</h4>
<p>åˆ›å»ºå®ä¾‹åï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹æ§åˆ¶å°æä¾›çš„<strong>å¤–ç½‘</strong> <strong>ç«¯å£</strong>ä¸<strong>å®¹å™¨å†…ç«¯å£</strong>çš„å¯¹åº”å…³ç³»ã€‚åç»­å¯åŠ¨æœåŠ¡æ—¶ï¼Œéœ€æ ¹æ®æ­¤æ˜ å°„å…³ç³»è®¾ç½® <code>-p</code> å‚æ•°ã€‚</p>
<h2 data-id="heading-8">äºŒã€æœåŠ¡å™¨ç¯å¢ƒé…ç½® (Docker)</h2>
<p>è¿æ¥ä¸ŠæœåŠ¡å™¨ï¼ˆSSHï¼‰åï¼Œé¦–å…ˆéœ€è¦é…ç½® Docker ç¯å¢ƒã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.docker.com%2Fengine%2Finstall%2Fubuntu%2F" target="_blank" title="https://docs.docker.com/engine/install/ubuntu/" ref="nofollow noopener noreferrer">docs.docker.com/engine/instâ€¦</a></p>
<h3 data-id="heading-9">1. æ¸…ç†æ—§ç‰ˆæœ¬</h3>
<p>å¦‚æœç³»ç»Ÿè‡ªå¸¦äº†æ—§ç‰ˆ Dockerï¼Œå»ºè®®å…ˆå¸è½½ä»¥é¿å…å†²çªï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">for</span> pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; <span class="hljs-keyword">do</span> sudo apt-get remove $pkg; done
</code></pre>
<h3 data-id="heading-10">2. å®‰è£… Docker Engine</h3>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£…æœ€æ–°ç‰ˆ Dockerï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># 1. æ›´æ–°ç´¢å¼•å¹¶å®‰è£…ä¾èµ–</span>
<span class="hljs-comment"># Add Docker's official GPG key:</span>
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo <span class="hljs-built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc

<span class="hljs-comment"># Add the repository to Apt sources:</span>
<span class="hljs-built_in">echo</span> \
  <span class="hljs-string">"deb [arch=<span class="hljs-subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  <span class="hljs-subst">$(. /etc/os-release &amp;&amp; echo <span class="hljs-string">"<span class="hljs-variable">$VERSION_CODENAME</span>"</span>)</span> stable"</span> | \
sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt-get update

<span class="hljs-comment"># 2. å®‰è£… Docker</span>
sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

<span class="hljs-comment"># 3. éªŒè¯å®‰è£…</span>
docker --version
</code></pre>
<h3 data-id="heading-11">3. é…ç½®å›½å†…é•œåƒåŠ é€Ÿï¼ˆæ¨èï¼‰</h3>
<p>ä¸ºäº†æå‡æ‹‰å–é•œåƒçš„é€Ÿåº¦ï¼Œå»ºè®®é…ç½®å›½å†…åŠ é€Ÿæºã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
sudo vim /etc/docker/daemon.json
</code></pre>
<p>åœ¨æ–‡ä»¶ä¸­æŒ‰ <code>i</code> é”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"registry-mirrors"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://docker.m.daocloud.io"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"https://noohub.ru"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"https://huecker.io"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"https://dockerhub.timeweb.cloud"</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¿å­˜é€€å‡ºï¼ˆæŒ‰ <code>Esc</code> è¾“å…¥ <code>:wq</code> å›è½¦ï¼‰ï¼Œç„¶åé‡å¯æœåŠ¡ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">sudo service docker restart
<span class="hljs-comment"># éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</span>
sudo docker info | <span class="hljs-keyword">grep</span> Mirrors -A <span class="hljs-number">4</span>
</code></pre>
<h2 data-id="heading-12">ä¸‰ã€æ¨¡å‹ä¸‹è½½</h2>
<p>æˆ‘ä»¬éœ€è¦å°† <strong>ZhipuAI/AutoGLM-Phone-9B</strong> æ¨¡å‹ä¸‹è½½åˆ°æœåŠ¡å™¨çš„ <code>/opt/model</code> ç›®å½•ã€‚æ¨èä½¿ç”¨ ModelScopeï¼ˆé­”æ­ç¤¾åŒºï¼‰è¿›è¡Œä¸‹è½½ã€‚</p>
<h3 data-id="heading-13">1. ä½¿ç”¨ ModelScope ä¸‹è½½ï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…ä¸‹è½½å·¥å…·</span>
pip install modelscope

<span class="hljs-comment"># 2. åˆ›å»ºç›®å½•å¹¶ä¸‹è½½</span>
<span class="hljs-built_in">mkdir</span> -p /opt/model
modelscope download --model <span class="hljs-string">'ZhipuAI/AutoGLM-Phone-9B'</span> --local_dir <span class="hljs-string">'/opt/model'</span>
</code></pre>
<h3 data-id="heading-14">2. ä½¿ç”¨ Git LFS ä¸‹è½½</h3>
<pre><code class="hljs language-bash" lang="bash">git lfs install
<span class="hljs-built_in">cd</span> /opt/model
git <span class="hljs-built_in">clone</span> https://www.modelscope.cn/ZhipuAI/AutoGLM-Phone-9B.git
</code></pre>
<h3 data-id="heading-15">3. ä½¿ç”¨ Python SDK ä¸‹è½½</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#æ¨¡å‹ä¸‹è½½</span>
from modelscope import snapshot_download
<span class="hljs-attr">model_dir</span> = snapshot_download(<span class="hljs-string">'ZhipuAI/AutoGLM-Phone-9B'</span>)
</code></pre>
<h2 data-id="heading-16">å››ã€éƒ¨ç½² vLLM æ¨ç†æœåŠ¡</h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ <code>vLLM</code> æ¡†æ¶æ¥åŠ é€Ÿæ¨¡å‹çš„æ¨ç†ã€‚</p>
<h3 data-id="heading-17">1. å‡†å¤‡ NVIDIA Container Toolkit</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥å®¿ä¸»æœºé©±åŠ¨ï¼ˆåº”æ˜¾ç¤ºæ˜¾å¡ä¿¡æ¯è¡¨ï¼‰</span>
<span class="hljs-comment">#æŠ¥é”™æˆ–æ‰¾ä¸åˆ°å‘½ä»¤ï¼šè¯´æ˜ä½ å®¿ä¸»æœºè¿˜æ²¡è£…æ˜¾å¡é©±åŠ¨ï¼Œè¯·å…ˆå®‰è£… NVIDIA é©±åŠ¨ã€‚å¯æ ¹æ®æ•™ç¨‹è‡ªè¡Œä¸‹è½½ã€‚https://blog.csdn.net/a772304419/article/details/146601092</span>
nvidia-smi 


<span class="hljs-comment"># 2. é…ç½® NVIDIA å®¹å™¨åº“</span>
curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \
&amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \
  sed <span class="hljs-string">'s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g'</span> | \
  sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/nvidia-container-toolkit.list

<span class="hljs-comment"># 3. å®‰è£…å·¥å…·åŒ…å¹¶é…ç½® Docker</span>
sudo apt-get update
sudo apt-get install -y nvidia-container-toolkit
<span class="hljs-comment"># 4. ç”Ÿæˆé…ç½®æ–‡ä»¶</span>
sudo nvidia-ctk runtime configure --runtime=docker
<span class="hljs-comment"># 5. é‡å¯</span>
sudo systemctl restart docker
</code></pre>
<h3 data-id="heading-18">2. å¯åŠ¨vLLM å®¹å™¨</h3>
<p>ä¸‹è½½å¹¶è¿è¡Œ vLLM é•œåƒï¼Œå°†æ¨¡å‹è·¯å¾„æ˜ å°„åˆ°å®¹å™¨å†…éƒ¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‹‰å–é•œåƒ</span>
docker pull vllm/vllm-openai:v0.12.0

<span class="hljs-comment"># å¯åŠ¨å®¹å™¨</span>
<span class="hljs-comment"># æ³¨æ„ï¼š-p 8800:8000 è¡¨ç¤ºå°†å®¿ä¸»æœºçš„8800ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„8000ç«¯å£</span>
<span class="hljs-comment"># è¯·æ ¹æ®ä½ åœ¨â€œç¬¬ä¸€éƒ¨åˆ†â€ä¸­æŸ¥çœ‹çš„å®é™…å¤–ç½‘ç«¯å£æƒ…å†µä¿®æ”¹ 8800</span>
docker run -it \
 --entrypoint /bin/bash \
 --gpus all \
 -p 8800:8000 \
 --ipc=host \
 -v /opt/model:/app/model \
 --name autoglm \
 vllm/vllm-openai:v0.12.0
</code></pre>
<h3 data-id="heading-19">3. åœ¨å®¹å™¨å†…å¯åŠ¨æœåŠ¡</h3>
<p>è¿›å…¥å®¹å™¨ç»ˆç«¯åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css"># <span class="hljs-number">1</span>. å®‰è£…ä¾èµ– (å¿½ç•¥å†²çªè­¦å‘Š)
pip install -U transformers <span class="hljs-attr">--pre</span> 

# <span class="hljs-number">2</span>. å¯åŠ¨ API Server (ä¸¥æ ¼å¤åˆ¶ä»¥ä¸‹å‘½ä»¤)
python3 -m vllm<span class="hljs-selector-class">.entrypoints</span><span class="hljs-selector-class">.openai</span><span class="hljs-selector-class">.api_server</span> \
 <span class="hljs-attr">--served-model-name</span> autoglm-phone-<span class="hljs-number">9</span>b \
 <span class="hljs-attr">--allowed-local-media-path</span> /   \
 <span class="hljs-attr">--mm-encoder-tp-mode</span> data \
 <span class="hljs-attr">--mm_processor_cache_type</span> shm \
 <span class="hljs-attr">--mm_processor_kwargs</span> "{"max_pixels":<span class="hljs-number">5000000</span>}" \
 <span class="hljs-attr">--max-model-len</span> <span class="hljs-number">25480</span>  \
 <span class="hljs-attr">--chat-template-content-format</span> string \
 <span class="hljs-attr">--limit-mm-per-prompt</span> "{"image":<span class="hljs-number">10</span>}" \
 <span class="hljs-attr">--model</span> /app/model \
 <span class="hljs-attr">--port</span> <span class="hljs-number">8000</span>
</code></pre>
<p>æ³¨ï¼š<code>--model</code> å‚æ•°éœ€æŒ‡å‘å®¹å™¨å†…æŒ‚è½½çš„è·¯å¾„ <code>/app/model</code> æˆ–è€…å…·ä½“çš„å­æ–‡ä»¶å¤¹åã€‚</p>
<h3 data-id="heading-20">4. éªŒè¯æœåŠ¡</h3>
<p>æ¨¡å‹æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨æ£€æŸ¥è„šæœ¬éªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python scripts/check_deployment_cn.py --base-url http://ä½ çš„IP:ä½ çš„ç«¯å£/v1 --model æ¨¡å‹åç§°
</code></pre>
<p>è„šæœ¬å°†å‘é€æµ‹è¯•è¯·æ±‚å¹¶å±•ç¤ºæ¨¡å‹çš„æ¨ç†ç»“æœï¼Œä½ å¯ä»¥æ ¹æ®è¾“å‡ºåˆ¤æ–­æ¨¡å‹éƒ¨ç½²æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<p>åŸºäºç»™å®šçš„ä»»åŠ¡, é¢„æœŸè¾“å‡ºå¦‚ä¸‹ã€‚å¦‚æœæ€ç»´é“¾é•¿åº¦å¾ˆçŸ­, æˆ–è€…å‡ºç°äº†ä¹±ç , å¾ˆå¯èƒ½æ˜¯æ¨¡å‹éƒ¨ç½²å¤±è´¥, è¯·ä»”ç»†æ£€æŸ¥æ–‡æ¡£è¦æ±‚çš„é…ç½®å’Œä¾èµ–ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">think</span>&gt;</span></span>ç”¨æˆ·æƒ³è¦æ¯”è¾ƒè¿™ä¸ªæ´—å‘æ°´åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šçš„ä»·æ ¼ï¼Œç„¶åé€‰æ‹©æœ€ä¾¿å®œçš„å¹³å°ä¸‹å•ã€‚å½“å‰åœ¨å°çº¢ä¹¦appä¸Šï¼Œæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªå…³äºLUMMI MOODæ´—å‘æ°´çš„å¸–å­ã€‚

æˆ‘éœ€è¦ï¼š
<span class="hljs-bullet">1.</span> å…ˆå¯åŠ¨äº¬ä¸œappï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´
<span class="hljs-bullet">2.</span> æŸ¥çœ‹äº¬ä¸œçš„ä»·æ ¼
<span class="hljs-bullet">3.</span> å†å¯åŠ¨æ·˜å®appï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´
<span class="hljs-bullet">4.</span> æŸ¥çœ‹æ·˜å®çš„ä»·æ ¼
<span class="hljs-bullet">5.</span> æ¯”è¾ƒä»·æ ¼åï¼Œé€‰æ‹©æœ€ä¾¿å®œçš„äº¬ä¸œæˆ–æ·˜å®ä¸‹å•

é¦–å…ˆï¼Œæˆ‘éœ€è¦ä»å½“å‰çš„å°çº¢ä¹¦ç•Œé¢é€€å‡ºï¼Œç„¶åå¯åŠ¨äº¬ä¸œappã€‚<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">think</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">answer</span>&gt;</span></span>do(action="Launch", app="äº¬ä¸œ")
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>--base-url</code>: æ¨¡å‹æœåŠ¡åœ°å€ï¼ˆæ ¹æ®å®é™…éƒ¨ç½²åœ°å€ä¿®æ”¹ï¼‰</li>
<li><code>--model</code>: æ¨¡å‹åç§°</li>
<li><code>--messages-file</code>: å¯é€‰ï¼ŒæŒ‡å®šè‡ªå®šä¹‰æµ‹è¯•æ¶ˆæ¯æ–‡ä»¶ï¼ˆé»˜è®¤ä½¿ç”¨ <code>scripts/sample_messages.json</code>ï¼‰</li>
</ul>
<h2 data-id="heading-21">äº”ã€å®¢æˆ·ç«¯ä¸çœŸæœºè¿æ¥ (æœ¬åœ°ç”µè„‘)</h2>
<p>æœåŠ¡ç«¯å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°ç”µè„‘é…ç½®æ§åˆ¶ç«¯ï¼Œé€šè¿‡ ADB æ§åˆ¶å®‰å“æ‰‹æœºï¼Œå¹¶è°ƒç”¨äº‘ç«¯çš„ AI æ¨¡å‹ã€‚</p>
<ol>
<li>
<h3 data-id="heading-22">ç¡¬ä»¶ä¸ç¯å¢ƒå‡†å¤‡</h3>
</li>
</ol>
<ul>
<li>
<p><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šWindows / macOS</p>
</li>
<li>
<p><strong>Python</strong>ï¼šå»ºè®® Python 3.10+</p>
</li>
<li>
<p><strong>å®‰å“è®¾å¤‡</strong>ï¼šAndroid 7.0+ æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨ã€‚</p>
</li>
<li>
<p><strong>ADB</strong> <strong>å·¥å…·</strong>ï¼š</p>
<ul>
<li>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftools%2Freleases%2Fplatform-tools%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/tools/releases/platform-tools?hl=zh-cn" ref="nofollow noopener noreferrer">Android Platform Tools</a></p>
</li>
<li>
<p><strong>é…ç½®</strong> <strong>ç¯å¢ƒå˜é‡</strong>ï¼ˆä»¥ Windows ä¸ºä¾‹ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.feishu.cn%2Fwiki%2FGSBEwwnu5izWZ6kTC9tcznJNnwg%3Ffrom%3Dfrom_copylink" target="_blank" title="https://ai.feishu.cn/wiki/GSBEwwnu5izWZ6kTC9tcznJNnwg?from=from_copylink" ref="nofollow noopener noreferrer">ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹</a></p>
<ul>
<li>è§£å‹ä¸‹è½½çš„åŒ…ã€‚</li>
<li><code>Win + R</code> è¾“å…¥ <code>sysdm.cpl</code> -&gt; é«˜çº§ -&gt; ç¯å¢ƒå˜é‡ã€‚</li>
<li>åœ¨ <code>System Path</code> ä¸­æ·»åŠ  ADB è§£å‹è·¯å¾„ã€‚</li>
<li>å‘½ä»¤è¡Œè¾“å…¥ <code>adb version</code> éªŒè¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>MacOS</strong> <strong>é…ç½®æ–¹æ³•</strong>ï¼šåœ¨ <code>Terminal</code> æˆ–è€…ä»»ä½•å‘½ä»¤è¡Œå·¥å…·é‡Œ</p>
</li>
</ul>
</li>
</ul>

<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># å‡è®¾è§£å‹åçš„ç›®å½•ä¸º ~/Downlaods/platform-toolsã€‚å¦‚æœä¸æ˜¯è¯·è‡ªè¡Œè°ƒæ•´å‘½ä»¤ã€‚</span>
export <span class="hljs-variable constant_">PATH</span>=<span class="hljs-variable">${</span><span class="hljs-variable constant_">PATH</span>}<span class="hljs-symbol">:~/Downloads/platform-tools</span>
</code></pre>
<p>2.  ## æ‰‹æœºç«¯è®¾ç½®</p>

<ol>
<li>
<p><strong>å¼€å¯å¼€å‘è€…æ¨¡å¼</strong>ï¼šè®¾ç½® -&gt; å…³äºæ‰‹æœº -&gt; è¿ç»­ç‚¹å‡»â€œç‰ˆæœ¬å·â€ç›´è‡³æç¤ºå·²å¼€å¯ã€‚</p>
</li>
<li>
<p><strong>å¼€å¯</strong> <strong>USB</strong> <strong>è°ƒè¯•</strong>ï¼šè®¾ç½® -&gt; å¼€å‘è€…é€‰é¡¹ -&gt; å‹¾é€‰â€œUSB è°ƒè¯•â€ã€‚</p>
</li>
<li>
<p><strong>å®‰è£…</strong> <strong>ADB</strong> <strong>Keyboard</strong>ï¼š</p>
<ol>
<li>ä¸‹è½½å¹¶å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsenzhk%2FADBKeyBoard%2Fblob%2Fmaster%2FADBKeyboard.apk" target="_blank" title="https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk" ref="nofollow noopener noreferrer"> ADB Keyboard apk</a>ã€‚</li>
<li>åœ¨æ‰‹æœºâ€œè¯­è¨€ä¸è¾“å…¥æ³•â€è®¾ç½®ä¸­ï¼Œå°†é»˜è®¤è¾“å…¥æ³•åˆ‡æ¢ä¸º ADB Keyboardã€‚</li>
</ol>
</li>
</ol>

<ol start="3">
<li>
<h3 data-id="heading-23">éƒ¨ç½²æ§åˆ¶ç«¯ä»£ç  (Open-AutoGLM)</h3>
</li>
</ol>
<p>åœ¨æœ¬åœ°ç”µè„‘ä¸Šä¸‹è½½æ§åˆ¶ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># 1. å…‹éš†ä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/zai-org/Open-AutoGLM
<span class="hljs-built_in">cd</span> Open-AutoGLM

<span class="hljs-comment"># 2. å®‰è£…ä¾èµ–</span>
pip install -r requirements.txt 
pip install -e .
</code></pre>
<ol start="4">
<li>
<h3 data-id="heading-24">è¿æ¥è®¾å¤‡</h3>
</li>
</ol>
<p>ç¡®ä¿æ‰‹æœºé€šè¿‡ USB è¿æ¥ç”µè„‘ï¼Œæˆ–å¤„äºåŒä¸€ WiFi ä¸‹ã€‚</p>
<ul>
<li><strong>USB</strong> <strong>æ–¹å¼</strong>ï¼š</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">adb devices
<span class="hljs-comment"># è¾“å‡ºåº”åŒ…å« device ID</span>
</code></pre>
<ul>
<li><strong>WiFi è¿œç¨‹æ–¹å¼ï¼š</strong></li>
</ul>

<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># éœ€å…ˆç”¨ USB è¿æ¥å¼€å¯ tcpip</span>
adb tcpip <span class="hljs-number">5555</span>
<span class="hljs-comment"># æ–­å¼€ USBï¼Œè¿æ¥æ‰‹æœº IP</span>
adb <span class="hljs-keyword">connect</span> <span class="hljs-number">192.168</span>.x.x:<span class="hljs-number">5555</span>
</code></pre>
<h2 data-id="heading-25">å…­ã€å¯åŠ¨ AI ä»£ç†</h2>
<p>ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œç°åœ¨è®© AI æ¥ç®¡æ‰‹æœºã€‚</p>
<ol>
<li>
<h3 data-id="heading-26">å‘½ä»¤è¡Œè¿è¡Œ</h3>
</li>
</ol>
<p>åœ¨æœ¬åœ° <code>Open-AutoGLM</code> ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">python main.py \
  --device-id &lt;ä½ çš„è®¾å¤‡IDæˆ–IP:<span class="hljs-number">5555</span>&gt; \
  --<span class="hljs-keyword">base</span>-url http:<span class="hljs-comment">//&lt;äº‘æœåŠ¡å™¨IP&gt;:&lt;æ˜ å°„ç«¯å£&gt;/v1 \</span>
  --model <span class="hljs-string">"autoglm-phone-9b"</span> \
  <span class="hljs-string">"æ‰“å¼€æŠ–éŸ³æœç´¢æŠ–éŸ³å·ä¸ºï¼šdycwo11nt61d çš„åšä¸»å¹¶å…³æ³¨ä»–ï¼"</span>
</code></pre>
<ul>
<li><strong>--device-id</strong>: é€šè¿‡ <code>adb devices</code> è·å–çš„ IDã€‚</li>
<li><strong>--base-url</strong>: æ›¿æ¢ä¸ºä½ äº‘æœåŠ¡å™¨çš„å…¬ç½‘ IP å’Œæ˜ å°„å‡ºçš„ç«¯å£ï¼ˆä¾‹å¦‚ 8800ï¼‰ã€‚</li>
<li><strong>æœ€åçš„å­—ç¬¦ä¸²</strong>: å°±æ˜¯ä½ ç»™ AI ä¸‹è¾¾çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€‚</li>
</ul>
<ol start="2">
<li>
<h3 data-id="heading-27">python API è¿œç¨‹è¿æ¥</h3>
</li>
</ol>

<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> phone_agent.adb <span class="hljs-keyword">import</span> ADBConnection, list_devices

<span class="hljs-comment"># åˆ›å»ºè¿æ¥ç®¡ç†å™¨</span>
conn = ADBConnection()

<span class="hljs-comment"># è¿æ¥è¿œç¨‹è®¾å¤‡</span>
success, message = conn.connect(<span class="hljs-string">"192.168.1.100:5555"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥çŠ¶æ€: <span class="hljs-subst">{message}</span>"</span>)

<span class="hljs-comment"># åˆ—å‡ºå·²è¿æ¥è®¾å¤‡</span>
devices = list_devices()
<span class="hljs-keyword">for</span> device <span class="hljs-keyword">in</span> devices:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{device.device_id}</span> - <span class="hljs-subst">{device.connection_type.value}</span>"</span>)

<span class="hljs-comment"># åœ¨ USB è®¾å¤‡ä¸Šå¯ç”¨ TCP/IP</span>
success, message = conn.enable_tcpip(<span class="hljs-number">5555</span>)
ip = conn.get_device_ip()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¾å¤‡ IP: <span class="hljs-subst">{ip}</span>"</span>)

<span class="hljs-comment"># æ–­å¼€è¿æ¥</span>
conn.disconnect(<span class="hljs-string">"192.168.1.100:5555"</span>)
</code></pre>
<p>3.  ## å¸¸è§é—®é¢˜æ’æŸ¥</p>
<ul>
<li><strong>è¿æ¥è¢«æ‹’ç»</strong>ï¼šæ£€æŸ¥äº‘æœåŠ¡å™¨é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº†å¯¹åº”ç«¯å£ã€‚</li>
<li><strong>ADB</strong> <strong>æ‰çº¿</strong>ï¼šWiFi è¿æ¥ä¸ç¨³å®šï¼Œå°è¯•ä½¿ç”¨ USB çº¿è¿æ¥ã€‚</li>
<li><strong>æ¨¡å‹ä¹±ç /æ— å“åº”</strong>ï¼šæ£€æŸ¥ vLLM å¯åŠ¨å‚æ•°æ˜¯å¦å®Œå…¨ä¸€è‡´ï¼Œå°¤å…¶æ˜¯æ˜¾å­˜å’Œ max-model-len è®¾ç½®ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»ˆäºè¿˜æ˜¯åƒä¸Šäº†react-i18nextçš„ç»†ç³ ]]></title>    <link>https://juejin.cn/post/7582533464245305378</link>    <guid>https://juejin.cn/post/7582533464245305378</guid>    <pubDate>2025-12-12T07:09:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464245305378" data-draft-id="7574045294612037667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»ˆäºè¿˜æ˜¯åƒä¸Šäº†react-i18nextçš„ç»†ç³ "/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-12-12T07:09:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿å‘œçš„è¾¹åŸ"/> <meta itemprop="url" content="https://juejin.cn/user/2620868693599405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»ˆäºè¿˜æ˜¯åƒä¸Šäº†react-i18nextçš„ç»†ç³ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2620868693599405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿å‘œçš„è¾¹åŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:09:37.000Z" title="Fri Dec 12 2025 07:09:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>é™¤äº†ç»å¸¸è®¿é—®æˆ‘ç½‘ç«™çš„æœ‹å‹ï¼Œå‡ ä¹å°±æ²¡äººçŸ¥é“ï¼Œæˆ‘å…¶å®ä¸€ç›´åœ¨åš ElasticSearch æ–‡æ¡£çš„ä¸­æ–‡ç¿»è¯‘ï¼Œè™½ç„¶ä¸çŸ¥é“åˆ°åº•èƒ½å¸®åŠ©å¤šå°‘äººï¼Œä½†æ—¢ç„¶å·²ç»åšæŒå››å¹´äº†ï¼Œä» 7.11 ç‰ˆæœ¬ç¿»è¯‘åˆ°ç°åœ¨ 9.x ç‰ˆæœ¬ï¼Œæˆ‘å°±å‡†å¤‡ç»§ç»­åšæŒä¸‹å»ã€‚</p>
<p>åœ¨æ–‡æ¡£ç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æœ€å¼€å§‹çš„åšæ³•ï¼Œæ˜¯å¤åˆ¶å†…å®¹åˆ°ç™¾åº¦ç¿»è¯‘ä¸€ç±»çš„ç½‘ç«™ä¸Šè¿›è¡Œç¿»è¯‘ï¼Œç„¶åè‡ªå·±æ ¡å¯¹ï¼Œè°ƒæ•´æ ¼å¼ï¼Œä¿å­˜æ–‡æ¡£ï¼Œå‘å¸ƒåˆ°ç½‘ç«™ä¸Šã€‚</p>
<p>åæ¥ï¼Œæˆ‘æ‰¾åˆ°ä¸€æ¬¾æ¯”è¾ƒå¥½ç”¨çš„ç¿»è¯‘å·¥å…· <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpot-app%2Fpot-desktop" target="_blank" title="https://github.com/pot-app/pot-desktop" ref="nofollow noopener noreferrer"><code>pot</code></a>ã€‚è¿™æ¬¾å·¥å…·å¾ˆå¥½ç”¨ï¼Œé€‚å½“å‡è½»äº†ä¸€äº›å·¥ä½œé‡ï¼Œä½†ä¹Ÿåªæ˜¯è®©æˆ‘ä¸ç”¨å»ç¿»è¯‘ç½‘ç«™ä¸Šæ“ä½œã€‚</p>
<p>æˆ‘ç¿»è¯‘æ–‡æ¡£æœ€å¤§å›°éš¾ï¼Œåœ¨äºç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½ä¿ç•™åŸç½‘é¡µçš„æ ¼å¼ï¼Œæˆ‘åªèƒ½ä¸€æ®µæ®µç¿»è¯‘ï¼Œå†è‡ªå·±æ•´ç†ä¸º Markdown æ ¼å¼ï¼Œéå¸¸æµªè´¹æ—¶é—´ã€‚</p>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« <a href="https://juejin.cn/post/7456898384352477210" target="_blank" title="https://juejin.cn/post/7456898384352477210">ã€Šä¸€ç§Tauri+NextJSå›½é™…åŒ–æ–¹æ¡ˆã€‹</a>ä¸­ï¼Œæˆ‘æåˆ°æˆ‘ä»¬åœ¨å¼€å‘ä¸€æ¬¾ AI åº”ç”¨ã€‚è™½ç„¶å®ƒèƒæ­»è…¹ä¸­ï¼Œä½†è¿˜æ˜¯å¤šå°‘ç»™äº’è”ç½‘ç•™ä¸‹äº†ä¸€äº›ç”µå­åƒåœ¾ã€‚ğŸ¤£</p>
<p>åœ¨æ–‡ç« ä¸­æˆ‘è¿˜æåˆ°ï¼Œæˆ‘è‡ªå·±åƒä¸æ¥ <code>react-i18next</code> çš„ç»†ç³ ï¼Œæ‰€ä»¥åªèƒ½å…ˆæ’¸äº†ä¸€ä¸ªå›½é™…åŒ–æ–¹æ¡ˆæ¥åº”æ€¥è§£å†³å›½é™…åŒ–é—®é¢˜ã€‚</p>
<p>æˆ‘å°±æƒ³å¤ç”¨ä¹‹å‰çš„å¼€å‘ç»éªŒï¼Œå¼€å‘ä¸€æ¬¾å¯ä»¥ç›´æ¥å°†ç½‘é¡µç¿»è¯‘ä¸ºæŒ‡å®š Markdown æ ¼å¼æ–‡æ¡£çš„ AI å·¥å…·ï¼Œè¿™æ ·æˆ‘å¤åˆ¶å‡ºç¿»è¯‘ç»“æœï¼Œå°±èƒ½ç›´æ¥ä¿å­˜ä¸º <code>Docusaurus</code> èƒ½è§£æçš„æ–‡æ¡£ï¼Œæ•ˆç‡å€å¢!</p>
<p>è¿™æ¬¡å¼€å‘åŒæ ·é‡‡ç”¨äº†Â <code>Tauri</code>Â +Â <code>Next.JS</code>Â æ¶æ„ï¼Œå›½é™…åŒ–ä¹Ÿå…ˆå¤ç”¨äº†ä¹‹å‰çš„æ–‡ç« ä¸­çš„ç»éªŒã€‚ä½†åº”ç”¨åˆæ­¥å¼€å‘å‡ºæ¥åï¼Œæˆ‘å‘ç°åˆ‡æ¢é¡µé¢æ—¶ï¼Œé¡µé¢ä¼šå‡ºç°é—ªåŠ¨ï¼Œä¼šé—ªç°æœªç¿»è¯‘çš„åŸå§‹ keyï¼Œéå¸¸éš¾çœ‹ã€‚</p>
<p><code>AI help AIï¼</code></p>
<p>äºæ˜¯ï¼Œæˆ‘å†æ¬¡å¯»æ±‚ AI å¸®åŠ©ã€‚å¯èƒ½å¾—ç›Šäº AI æ¨¡å‹çš„å‡çº§ï¼Œè¿™æ¬¡ DeepSeek åœ¨â€œè°ƒæ•™â€ä¸‹ç»™å‡ºäº†ä¸€ä¸ªåŸºäº <code>next-i18next</code> çš„å¯ç”¨æ–¹æ¡ˆï¼ŒçœŸæ˜¯è®©æˆ‘ç­‰å¯¹å‰ç«¯ä¸ç†Ÿæ‚‰çš„äººè§‰å¾—é¦™æ­»äº†ã€‚ä»¥ä¸‹è®°å½•æ–¹æ¡ˆå®æ–½æ–¹æ³•ã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">1. ç›®æ ‡</h3>
<ul>
<li><code>Tauri</code> åº”ç”¨ä¸­å‰ç«¯é¡µé¢å®ç°å›½é™…åŒ–åˆ‡æ¢åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-3">2. åœºæ™¯</h3>
<ul>
<li>çº¯å®¢æˆ·ç«¯çš„åœºæ™¯ï¼ˆ<code>Tauri</code> ä¸­æ— æ³•ä½¿ç”¨ <code>Nextjs</code> çš„ <code>SSR</code>ï¼‰ã€‚</li>
<li><code>Nextjs</code>ï¼ˆ<code>AppRouter</code> æ¨¡å¼ï¼‰</li>
</ul>
<p>å·²åŸºäº <code>Tauri</code> å’Œ <code>Nextjs</code> å¼€å‘äº†å¯è¿è¡Œçš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-4">3. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">npm install i18next react-i18next i18next-browser-languagedetector
</code></pre>
<h3 data-id="heading-5">4. ç›®å½•ç»“æ„ç¤ºä¾‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ead5bae8f3734f6792d9ee17ccf4a40a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5ZGc55qE6L655Z-O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766128176&amp;x-signature=LLsZscQGz8Kh93AG3zIlDYqxlGk%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>i18n.ts</code> å›½é™…åŒ–é…ç½®æ–‡ä»¶</li>
<li><code>locales</code> å›½é™…åŒ–ç¿»è¯‘ json æ–‡ä»¶</li>
<li><code>layout.tsx</code> åŠ¨æ€åŠ è½½ i18n å¯¹è±¡</li>
</ul>
<h3 data-id="heading-6">5. å…³é”®æ–‡ä»¶ç¤ºä¾‹</h3>
<h4 data-id="heading-7">i18n.ts</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">"i18next"</span>;
<span class="hljs-keyword">import</span> { initReactI18next } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-i18next"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LanguageDetector</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"i18next-browser-languagedetector"</span>;

<span class="hljs-keyword">import</span> en <span class="hljs-keyword">from</span> <span class="hljs-string">"../../locales/en.json"</span>;
<span class="hljs-keyword">import</span> zh <span class="hljs-keyword">from</span> <span class="hljs-string">"../../locales/zh.json"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TauriAdapter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../utils/utils"</span>;

<span class="hljs-keyword">const</span> adapter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TauriAdapter</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initI18n</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶è¯»å–è¯­è¨€è®¾ç½®</span>
  <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">await</span> adapter.<span class="hljs-title function_">readAppData</span>();
  <span class="hljs-keyword">const</span> locale = config.<span class="hljs-property">locale</span> || <span class="hljs-string">"zh"</span>;

  i18n
    .<span class="hljs-title function_">use</span>(<span class="hljs-title class_">LanguageDetector</span>)
    .<span class="hljs-title function_">use</span>(initReactI18next)
    .<span class="hljs-title function_">init</span>({
      <span class="hljs-attr">resources</span>: {
        <span class="hljs-attr">en</span>: { <span class="hljs-attr">translation</span>: en },
        <span class="hljs-attr">zh</span>: { <span class="hljs-attr">translation</span>: zh },
      },
      <span class="hljs-attr">lng</span>: locale,
      <span class="hljs-attr">fallbackLng</span>: <span class="hljs-string">"zh"</span>,
      <span class="hljs-attr">interpolation</span>: {
        <span class="hljs-attr">escapeValue</span>: <span class="hljs-literal">false</span>,
      },
    });

  <span class="hljs-keyword">return</span> i18n;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> i18n;
</code></pre>
<p><code>const config = await adapter.readAppData();</code> æ˜¯æˆ‘è‡ªå·±å®ç°çš„ä»é…ç½®æ–‡ä»¶è¯»å–å½“å‰è¯­è¨€çš„æ–¹æ³•ï¼Œå¦‚æœä½ æ˜¯å…¶ä»–æ–¹å¼è¯»å–è¯­è¨€ï¼Œéœ€è¦æ¢æˆä½ è‡ªå·±çš„å®ç°ã€‚</p>
<p>åŒæ—¶åœ¨ä»¥ä¸Šé…ç½®é¡¹ <code>resources</code> é‡Œéœ€è¦æŠŠæ”¯æŒçš„è¯­è¨€éƒ½åˆ—å‡ºã€‚</p>
<h4 data-id="heading-8">zh.json</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"locales"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"zh"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸­æ–‡"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"en"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"English"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>json æ ¼å¼çš„ç¿»è¯‘æ–‡å­—ã€‚</p>
<h4 data-id="heading-9">layout.tsx</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-string">"use client"</span>;
<span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { I18nextProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-i18next"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"./globals.css"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"./lib/i18n"</span>; <span class="hljs-comment">// å¯¼å…¥ i18n é…ç½®</span>
<span class="hljs-keyword">import</span> { initI18n } <span class="hljs-keyword">from</span> <span class="hljs-string">"./lib/i18n"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  children,
}: Readonly&lt;{
  children: React.ReactNode;
}&gt;</span>) {
  <span class="hljs-keyword">const</span> [i18nInstance, setI18nInstance] = useState&lt;<span class="hljs-built_in">any</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">initializeApp</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> i18n = <span class="hljs-keyword">await</span> <span class="hljs-title function_">initI18n</span>();
        <span class="hljs-title function_">setI18nInstance</span>(i18n);
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to initialize i18n:"</span>, error);
      }
    };

    <span class="hljs-title function_">initializeApp</span>();
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">antialiased</span>`}&gt;</span>
        {i18nInstance ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">I18nextProvider</span> <span class="hljs-attr">i18n</span>=<span class="hljs-string">{i18nInstance}</span>&gt;</span>
            {children}
          <span class="hljs-tag">&lt;/<span class="hljs-name">I18nextProvider</span>&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
            <span class="hljs-attr">data-tauri-drag-region</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col justify-center items-center h-screen"</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"loading loading-dots loading-xl text-primary h-[156px]"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  );
}
</code></pre>
<p>åœ¨ <code>layout.tsx</code> ä¸­ä½¿ç”¨å›½é™…åŒ–çš„ Providerï¼Œå¹¶åŠ¨æ€åŠ è½½ i18n å¯¹è±¡ã€‚</p>
<h4 data-id="heading-10">åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useTranslation</span>();
....

&lt;h1 className=<span class="hljs-string">"text-[clamp(2rem,5vw,3rem)] font-bold text-gray-800 mb-4 text-center"</span>&gt;
            {<span class="hljs-title function_">t</span>(<span class="hljs-string">"app_name"</span>)}
&lt;/h1&gt;
</code></pre>
<h4 data-id="heading-11">è¯­è¨€åˆ‡æ¢</h4>
<p>åœ¨æˆ‘ä»¬è‡ªå·±å®ç°çš„è¯­è¨€åˆ‡æ¢é€‰æ‹©å™¨ä¸­ï¼Œå½“é€‰ä¸­æ–°è¯­è¨€åï¼Œä½¿ç”¨ä»¥ä¸‹é€»è¾‘è¿›è¡Œè¯­è¨€å˜æ›´ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> { i18n, t } = <span class="hljs-title function_">useTranslation</span>();
......
i18n.<span class="hljs-title function_">changeLanguage</span>(newLang);
</code></pre>
<p>è€Œè¯­è¨€å˜æ›´åçš„å›½é™…åŒ–ï¼Œå°±éœ€è¦è‡ªå·±å¤„ç†äº†ã€‚æ¯”å¦‚åœ¨ Tauri ä¸­ï¼Œç›®å‰æˆ‘æ˜¯å°†è¯­è¨€å­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<h3 data-id="heading-12">6.æ‰©å±•</h3>
<p>åœ¨ä»¥ä¸Šå®ç°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“é¡µé¢ä¸Šçš„å›½é™…åŒ–å…¶å®æ˜¯ä¾èµ–äºå…¨å±€ <code>layout.tsx</code> ä¸­çš„å›½é™…åŒ– Provider æ”¯æŒçš„ã€‚ä½†æ¯”å¦‚åœ¨ Tauri ä¸­ï¼Œè¿˜å­˜åœ¨ç‹¬ç«‹é¡µé¢ï¼Œæ¯”å¦‚ç‹¬ç«‹çš„ç³»ç»Ÿæ‰˜ç›˜èœå•ã€‚</p>
<p>è¿™ç§é¡µé¢æ˜¯æ²¡æ³•ä¾èµ– <code>Provider</code> æ¥ä½¿ç”¨ <code>t("app_name")</code> æ¥å®ç°å›½é™…åŒ–çš„ï¼Œä½†å¯ä»¥é€šè¿‡å¼•å…¥ <code>i18n</code> å¯¹è±¡æ¥å®ç°ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">"./lib/i18n"</span>;
......
i18n.<span class="hljs-title function_">t</span>(<span class="hljs-string">"translation.clipboard.conflict"</span>)
</code></pre>
<h2 data-id="heading-13">å°è®°</h2>
<p>ä½œä¸ºéä¸“ä¸šçš„å‰ç«¯ï¼Œåœ¨ AI å¸®åŠ©ä¸‹è§£å†³äº†å›½é™…åŒ–çš„é—®é¢˜ï¼Œæˆ‘è§‰å¾—å€¼å¾—è®°ä¸‹æ­¤æ–¹æ¡ˆï¼Œä»¥å¤‡æ—¥åå¤ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring AI Alibaba + Crawl4ai + Docker æ­å»ºä¸€ä¸ªå…·æœ‰è”ç½‘æœç´¢èƒ½åŠ›çš„Agent]]></title>    <link>https://juejin.cn/post/7582599972950179867</link>    <guid>https://juejin.cn/post/7582599972950179867</guid>    <pubDate>2025-12-12T06:47:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582599972950179867" data-draft-id="7582528397865369627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AI Alibaba + Crawl4ai + Docker æ­å»ºä¸€ä¸ªå…·æœ‰è”ç½‘æœç´¢èƒ½åŠ›çš„Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-12T06:47:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å·¦Pythonå³Javaä»ä»å®¹å®¹æ¸¸åˆƒæœ‰ä½™"/> <meta itemprop="url" content="https://juejin.cn/user/4107431173952525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AI Alibaba + Crawl4ai + Docker æ­å»ºä¸€ä¸ªå…·æœ‰è”ç½‘æœç´¢èƒ½åŠ›çš„Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431173952525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å·¦Pythonå³Javaä»ä»å®¹å®¹æ¸¸åˆƒæœ‰ä½™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:47:38.000Z" title="Fri Dec 12 2025 06:47:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    30
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring AI Alibaba + Crawl4ai + Docker æ­å»ºä¸€ä¸ªå…·æœ‰è”ç½‘æœç´¢èƒ½åŠ›çš„Agent</h2>
<h3 data-id="heading-1">å‰ç½®è¦æ±‚</h3>
<p>1ã€æœ¬åœ°å¯åŠ¨ollma</p>
<p>2ã€docker æ‹‰å– unclecode/crawl4ai:0.7.7 å¹¶å¯åŠ¨</p>
<p>docker pull unclecode/crawl4ai:0.7.7</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment">## 1ã€æ‹‰å–é•œåƒ</span>
docker pull swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/unclecode/crawl4ai:0.7.7

<span class="hljs-comment">## 2ã€é•œåƒæ‰“tag</span>
docker tag  swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/unclecode/crawl4ai:0.7.7  docker.io/unclecode/crawl4ai:0.7.7

<span class="hljs-comment">## 3ã€å¯åŠ¨æœåŠ¡crawl4ai</span>
docker run -d \
 -p 11235:11235 \
 --name crawl4ai \
 --shm-size=3g \
 unclecode/crawl4ai:0.7.7

</code></pre>
<h3 data-id="heading-2">1ã€maven ä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>oak-spring-ai-alibaba-crawl4ai<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">graalvm.polyglot.version</span>&gt;</span>24.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">graalvm.polyglot.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">spring.ai.version</span>&gt;</span>1.1.0-M4<span class="hljs-tag">&lt;/<span class="hljs-name">spring.ai.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">spring.boot.version</span>&gt;</span>3.4.3<span class="hljs-tag">&lt;/<span class="hljs-name">spring.boot.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">spring.ai.alibaba.version</span>&gt;</span>1.1.0.0-M5.1<span class="hljs-tag">&lt;/<span class="hljs-name">spring.ai.alibaba.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">hutool.version</span>&gt;</span>5.8.20<span class="hljs-tag">&lt;/<span class="hljs-name">hutool.version</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-bom<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0-M4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-alibaba-bom<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0.0-M5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-alibaba-agent-framework<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-starter-model-ollama<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-alibaba-studio<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-alibaba-dashscope<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${hutool.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.11.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>spring-milestones<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Spring Milestones<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.spring.io/milestone<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>spring-snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.spring.io/snapshot<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>central-portal-snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Central Portal Snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://central.sonatype.com/repository/maven-snapshots/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>

</code></pre>
<h3 data-id="heading-3">2ã€ä¸»è¦ä»£ç </h3>
<p>Crawl4aiApiImpl è°ƒç”¨ Docker æœ¬åœ° å¯åŠ¨crawl4aiæœåŠ¡æä¾›mdæ¥å£</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.service.impl;

<span class="hljs-keyword">import</span> cn.hutool.http.HttpRequest;
<span class="hljs-keyword">import</span> cn.hutool.http.HttpResponse;
<span class="hljs-keyword">import</span> cn.hutool.json.JSONUtil;
<span class="hljs-keyword">import</span> com.example.config.ConfigProperties;
<span class="hljs-keyword">import</span> com.example.http.response.CrawlTaskResponse;
<span class="hljs-keyword">import</span> com.example.service.Crawl4aiApi;
<span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
<span class="hljs-keyword">import</span> org.springframework.ai.tool.annotation.Tool;
<span class="hljs-keyword">import</span> org.springframework.ai.tool.annotation.ToolParam;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.io.UnsupportedEncodingException;
<span class="hljs-keyword">import</span> java.net.URLEncoder;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.Objects;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Crawl4aiApiImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Crawl4aiApi</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ConfigProperties configProperties;

    <span class="hljs-keyword">private</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(Crawl4aiApiImpl.class);

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Tool(description = "Get the crawl result by the given taskId")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">task</span><span class="hljs-params">(String taskId)</span> {
        logger.debug(<span class="hljs-string">"taskId: {}"</span>, taskId);
        <span class="hljs-type">HttpRequest</span> <span class="hljs-variable">httpRequest</span> <span class="hljs-operator">=</span> HttpRequest.get(configProperties.getBaseUrl() + <span class="hljs-string">"/task/"</span> + taskId)
                .bearerAuth(configProperties.getApiToken());
        <span class="hljs-type">HttpResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> httpRequest.execute();
        logger.debug(response.body());
        <span class="hljs-type">CrawlTaskResponse</span> <span class="hljs-variable">rsp</span> <span class="hljs-operator">=</span> JSONUtil.toBean(response.body(), CrawlTaskResponse.class);
        <span class="hljs-keyword">return</span> JSONUtil.toJsonStr(rsp);
    }

    <span class="hljs-comment">/**
     * å¿…åº”æœç´¢æ–¹æ³•
     * <span class="hljs-doctag">@param</span> q ç”¨æˆ·è¾“å…¥
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Tool(description = "Call crawl4ai API to crawl a URL")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">bingSearchToolMd</span><span class="hljs-params">(<span class="hljs-meta">@ToolParam(description = "the user input content")</span> String q )</span> {
        <span class="hljs-keyword">if</span>(StringUtils.isBlank(q)){
            <span class="hljs-keyword">return</span> <span class="hljs-string">"The parameter can not be blank, Please input the parameter q and retry call crawl_tool again."</span>;
        }
<span class="hljs-comment">//        url ç¼–ç å¤„ç†</span>
        <span class="hljs-keyword">try</span> {
            q = URLEncoder.encode(q , <span class="hljs-string">"utf-8"</span>);
        } <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
        Map&lt;String, Object&gt; params= <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        params.put(<span class="hljs-string">"url"</span> , <span class="hljs-string">"https://cn.bing.com/search?q="</span> + q);
        params.put(<span class="hljs-string">"f"</span> , <span class="hljs-string">"fit"</span>);
        params.put(<span class="hljs-string">"q"</span> , <span class="hljs-literal">null</span>);
        params.put(<span class="hljs-string">"c"</span> , <span class="hljs-string">"0"</span>);
        logger.debug(JSONUtil.toJsonStr(params));

        <span class="hljs-comment">//craw4ai æä¾› è¾“å‡º markdown çš„æ¥å£</span>
        <span class="hljs-type">HttpRequest</span> <span class="hljs-variable">httpRequest</span> <span class="hljs-operator">=</span> HttpRequest.post(configProperties.getBaseUrl() + <span class="hljs-string">"/md"</span>)
                .header(<span class="hljs-string">"Content-Type"</span> , <span class="hljs-string">"application/json"</span>)
                .bearerAuth(configProperties.getApiToken()).body(JSONUtil.toJsonStr(params));

        <span class="hljs-type">HttpResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> httpRequest.execute();
        logger.debug(response.body());
        <span class="hljs-type">Map</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> JSONUtil.toBean(response.body(), Map.class);
        <span class="hljs-comment">//è¾“å‡º markdown æ ¼å¼å†…å®¹</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">markdown</span> <span class="hljs-operator">=</span> map.get(<span class="hljs-string">"markdown"</span>);
        <span class="hljs-keyword">return</span> Objects.isNull(markdown) ? <span class="hljs-string">""</span> : markdown.toString();
    }
}
</code></pre>
<p>ReactAgentConfig é…ç½®ä¸€ä¸‹ReactAgent</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">package</span> com.example.config;

<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.agent.ReactAgent;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.agent.hook.modelcalllimit.ModelCallLimitHook;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.checkpoint.savers.MemorySaver;
<span class="hljs-keyword">import</span> com.example.http.request.CrawlRequest;
<span class="hljs-keyword">import</span> com.example.tools.CrawlTool;
<span class="hljs-keyword">import</span> org.springframework.ai.chat.model.ChatModel;
<span class="hljs-keyword">import</span> org.springframework.ai.tool.ToolCallback;
<span class="hljs-keyword">import</span> org.springframework.ai.tool.function.FunctionToolCallback;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Primary;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactAgentConfig</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">INSTRUCTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">"""
            You are a helpful assistant named research_agent.
            You can use the crawl_tool  search content from internet for user.
            You have access to tools that can search content from Internet.
            Use these tools to assist users with their tasks.
            """</span>;


    <span class="hljs-comment">// </span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> AgentStaticLoader <span class="hljs-title function_">agentStaticLoader</span><span class="hljs-params">(ReactAgent reactAgent)</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AgentStaticLoader</span>(reactAgent);
    }


    <span class="hljs-meta">@Bean("research_agent")</span>
    <span class="hljs-meta">@Primary</span>
    <span class="hljs-keyword">public</span> ReactAgent <span class="hljs-title function_">researchAgent</span><span class="hljs-params">(ChatModel chatModel, <span class="hljs-meta">@Qualifier("crawlToolCallback")</span> ToolCallback crawlToolCallback)</span> {

        <span class="hljs-keyword">return</span> ReactAgent.
                builder()
                .name(<span class="hljs-string">"research_agent"</span>)
                .model(chatModel)
                .instruction(
                        INSTRUCTION
                )
                .saver(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MemorySaver</span>())
                .tools(crawlToolCallback)
                .hooks(ModelCallLimitHook.builder().runLimit(<span class="hljs-number">5</span>).build())  <span class="hljs-comment">// é™åˆ¶æ¨¡å‹è°ƒç”¨æ¬¡æ•°ä¸º5æ¬¡</span>
                .build();
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ToolCallback <span class="hljs-title function_">crawlToolCallback</span><span class="hljs-params">(<span class="hljs-meta">@Qualifier("crawlTool")</span> CrawlTool crawlTool)</span> {
        <span class="hljs-keyword">return</span> FunctionToolCallback.builder(<span class="hljs-string">"crawl_tool"</span>, crawlTool)
                .description(
                        <span class="hljs-string">"""
                                   When you need search content from Internet for user, you can use crawl_tool.
                                    Usage:
                                    - The q parameter is a string, representative user input content.
                                    - When you use crawl_tool , the parameter just like below content:
                                     {
                                       "q":"user input content"
                                     }
                                """</span>
                )

                .inputType(CrawlRequest.class)
                .build();
    }

}
</code></pre>
<h3 data-id="heading-4">3ã€ä¸»è¦é…ç½®</h3>
<pre><code class="hljs language-yml" lang="yml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">ai:</span>
    <span class="hljs-attr">ollama:</span>
      <span class="hljs-comment"># æœ¬åœ°ollama åœ°å€</span>
      <span class="hljs-attr">base-url:</span> <span class="hljs-string">http://localhost:11434</span>
      <span class="hljs-comment"># èŠå¤©æ¨¡å‹</span>
      <span class="hljs-attr">chat:</span>
        <span class="hljs-attr">model:</span> <span class="hljs-string">llama3.2</span>
<span class="hljs-comment"># å»æ‰Springboot banner</span>
  <span class="hljs-attr">main:</span>
    <span class="hljs-attr">banner-mode:</span> <span class="hljs-string">off</span>

<span class="hljs-comment"># crawl4ai Settings - update your URL and token below</span>
<span class="hljs-attr">crawl4ai:</span>
  <span class="hljs-comment"># æœ¬åœ° docker å¯åŠ¨  crawl4ai æä¾›çš„ url</span>
  <span class="hljs-attr">base-url:</span> <span class="hljs-string">http://localhost:11235</span>
  <span class="hljs-comment"># å¦‚æœ docker å¯åŠ¨ crawl4ai æ—¶æœ‰tokenï¼Œåˆ™é…ç½®</span>
  <span class="hljs-attr">api-token:</span>

<span class="hljs-attr">logging:</span>
    <span class="hljs-attr">level:</span>
        <span class="hljs-attr">com:</span>
          <span class="hljs-attr">example:</span> <span class="hljs-string">DEBUG</span>
        <span class="hljs-attr">org:</span>
          <span class="hljs-attr">springframework:</span>
            <span class="hljs-attr">web:</span> <span class="hljs-string">INFO</span>
    <span class="hljs-attr">file:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">./logs/crawl4ai.log</span>
</code></pre>
<p>CrawlTool æä¾›ç»™Agentä½¿ç”¨çš„tool</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">package</span> com.example.tools;

<span class="hljs-keyword">import</span> com.example.http.request.CrawlRequest;
<span class="hljs-keyword">import</span> com.example.service.Crawl4aiApi;
<span class="hljs-keyword">import</span> org.springframework.ai.chat.model.ToolContext;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.function.BiFunction;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CrawlTool</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BiFunction</span>&lt;CrawlRequest, ToolContext , String&gt; {

    Crawl4aiApi crawl4aiApi;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CrawlTool</span><span class="hljs-params">(Crawl4aiApi crawl4aiApi)</span> {
        <span class="hljs-built_in">this</span>.crawl4aiApi = crawl4aiApi;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">apply</span><span class="hljs-params">(CrawlRequest query, ToolContext toolContext)</span> {
        <span class="hljs-keyword">return</span> crawl4aiApi.bingSearchToolMd(query.getQ());
    }
}

</code></pre>
<h3 data-id="heading-5">4ã€è¿è¡Œæ•ˆæœ</h3>
<p>æ‰“å¼€ç½‘å€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fchatui%2Findex.html" target="_blank" title="http://localhost:8080/chatui/index.html" ref="nofollow noopener noreferrer">http://localhost:8080/chatui/index.html</a></p>
<p>åœ¨èŠå¤©æ¡†è¾“å…¥:Spring AI Alibaba å…¥é—¨æ•™ç¨‹ ï¼ŒReactAgent ä¼šåˆ¤æ–­ï¼Œè°ƒç”¨crawl_tool æŸ¥è¯¢ä¿¡æ¯
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b30566bb7e044d5b80dcf28a1a9a693c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bemUHl0aG9u5Y-zSmF2YeS7juS7juWuueWuuea4uOWIg-acieS9mQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766130836&amp;x-signature=1bf0W79TCu%2BcV%2BSAZPWBjIItNjU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">5ã€ä»£ç é“¾æ¥</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftree_boss%2Foak-spring-ai-alibaba-crawl4ai.git" target="_blank" title="https://gitee.com/tree_boss/oak-spring-ai-alibaba-crawl4ai.git" ref="nofollow noopener noreferrer">gitee.com/tree_boss/oâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨ Kuscia ä¸­ä½¿ç”¨è‡ªå®šä¹‰é•œåƒä»“åº“]]></title>    <link>https://juejin.cn/post/7582529173829189666</link>    <guid>https://juejin.cn/post/7582529173829189666</guid>    <pubDate>2025-12-12T06:26:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582529173829189666" data-draft-id="7582517824498450466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨ Kuscia ä¸­ä½¿ç”¨è‡ªå®šä¹‰é•œåƒä»“åº“"/> <meta itemprop="keywords" content="å¼€æº,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-12-12T06:26:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éšè¯­SecretFlow"/> <meta itemprop="url" content="https://juejin.cn/user/3224235748628536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨ Kuscia ä¸­ä½¿ç”¨è‡ªå®šä¹‰é•œåƒä»“åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3224235748628536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éšè¯­SecretFlow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:26:56.000Z" title="Fri Dec 12 2025 06:26:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‰“å¼€é“¾æ¥å³å¯ç‚¹äº®ç¤¾åŒºStarï¼Œç…§äº®æŠ€æœ¯çš„å‰è¿›ä¹‹è·¯ã€‚</p>
<p>Github åœ°å€ï¼š<em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsecretflow%2Fkuscia" target="_blank" title="https://github.com/secretflow/kuscia" ref="nofollow noopener noreferrer">github.com/secretflow/â€¦</a></em></p>
<p>Kusciaæ”¯æŒè‡ªåŠ¨æ‹‰å–è¿œç¨‹çš„åº”ç”¨é•œåƒï¼ˆæ¯”å¦‚ï¼šSecretFlow ç­‰ï¼‰ï¼Œè¿™æ ·å¯ä»¥ä¸ç”¨æ‰‹åŠ¨å¯¼å…¥é•œåƒåˆ°å®¹å™¨ä¸­ã€‚å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=..%2Fdeployment%2Fkuscia_config_cn.md" target="_blank" title="../deployment/kuscia_config_cn.md" ref="nofollow noopener noreferrer">Kuscia é…ç½®æ–‡ä»¶</a>ä¸­é…ç½®ç§æœ‰ï¼ˆor å…¬å¼€ï¼‰é•œåƒä»“åº“åœ°å€ã€‚</p>
<h2 data-id="heading-0">å¦‚ä½•é…ç½®ä½¿ç”¨è‡ªå®šä¹‰é•œåƒä»“åº“</h2>
<p>é…ç½®æ–‡ä»¶ä¸­çš„ <code>image</code> å­—æ®µç”¨æ¥é…ç½®è‡ªå®šä¹‰ä»“åº“ã€‚ç›¸å…³å«ä¹‰å‚è€ƒ <a href="https://link.juejin.cn?target=..%2Fdeployment%2Fkuscia_config_cn.md" target="_blank" title="../deployment/kuscia_config_cn.md" ref="nofollow noopener noreferrer">Kuscia é…ç½®æ–‡ä»¶è¯´æ˜</a></p>
<h3 data-id="heading-1">ç§æœ‰é•œåƒä»“åº“</h3>
<p>å¦‚æœæœ‰ä¸€ä¸ªç§æœ‰é•œåƒä»“åº“ï¼ˆç¤ºä¾‹ï¼š<code>private.registry.com</code>ï¼‰ï¼Œå¯¹åº”çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">image:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">defaultRegistry:</span> <span class="hljs-string">private</span> <span class="hljs-comment"># It doesn't matter, as long as it corresponds to &lt;image.registries[0].name&gt;</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">registries:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">private</span>
      <span class="hljs-attr">endpoint:</span> <span class="hljs-string">private.registry.com/test</span>
      <span class="hljs-attr">username:</span> <span class="hljs-string">testname</span>
      <span class="hljs-attr">password:</span> <span class="hljs-string">testpass</span>
</code></pre>
<h3 data-id="heading-2">å…¬å¼€é•œåƒä»“åº“</h3>
<p>å¦‚æœä½¿ç”¨å…¬å¼€çš„é•œåƒä»“åº“ï¼ˆç¤ºä¾‹ï¼š<code>secretflow-registry.cn-hangzhou.cr.aliyuncs.com</code>ï¼‰ï¼Œå¯¹åº”çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">image:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">defaultRegistry:</span> <span class="hljs-string">aliyun</span> <span class="hljs-comment"># It doesn't matter, as long as it corresponds to &lt;image.registries[0].name&gt;</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">registries:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">aliyun</span>
      <span class="hljs-attr">endpoint:</span> <span class="hljs-string">secretflow-registry.cn-hangzhou.cr.aliyuncs.com/secretflow</span>
</code></pre>
<h2 data-id="heading-3">å…³äºé•œåƒä»“åº“å’ŒAppImageçš„æ­é…ä½¿ç”¨</h2>
<p>é…ç½®æ–‡ä»¶ä¸­æœ‰<code>image</code>å­—æ®µï¼Œ<code>AppImage</code> ä¸­ä¹Ÿå­˜åœ¨imageç›¸å…³çš„é…ç½®ï¼Œä»–ä»¬çš„æ­é…å…³ç³»ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>



























































<table><thead><tr><th>é…ç½®æ–‡ä»¶</th><th>AppImageé…ç½®</th><th>å®é™…é•œåƒåœ°å€</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>æ— é…ç½®</td><td>secretflow/app:v1</td><td>docker.io/secretflow/app:v1</td><td/></tr><tr><td>æ— é…ç½®</td><td>private.registry.com/secretflow/app:v1</td><td>private.registry.com/secretflow/app:v1</td><td/></tr><tr><td>private.registry.com</td><td>secretflow/app:v1</td><td>private.registry.com/app:v1</td><td/></tr><tr><td>private.registry.com/secretflow</td><td>app:v1</td><td>private.registry.com/secretflow/app:v1</td><td>æ¨èé…ç½®</td></tr><tr><td>private.registry.com/secretflow</td><td>secretflow/app:v1</td><td>private.registry.com/secretflow/app:v1</td><td/></tr><tr><td>private.registry.com/secretflow</td><td>test/app:v1</td><td>private.registry.com/secretflow/app:v1</td><td/></tr><tr><td>private.registry.com/secretflow</td><td>private.registry.com/secretflow/app:v1</td><td>private.registry.com/secretflow/app:v1</td><td/></tr><tr><td>private.registry.com/secretflow</td><td>public.aliyun.com/secretflow/app:v1</td><td>public.aliyun.com/secretflow/app:v1</td><td>å¼ºçƒˆä¸æ¨èé…ç½®ï¼Œæœªæ¥å¯èƒ½ä¼šç¦æ­¢è¿™ç§é…ç½®</td></tr></tbody></table>
<p>æ³¨ï¼šKusciaæ¨èåœ¨ <code>AppImage</code> ä¸­åªé…ç½®é•œåƒåï¼ˆä¸å¸¦é•œåƒä»“åº“åœ°å€ï¼‰ï¼Œå¦åˆ™åˆ‡æ¢ä»“åº“çš„æ—¶å€™ï¼Œéœ€è¦æ‰¹é‡ä¿®æ”¹<code>AppImage</code>ï¼Œæ‰€ä»¥ä¸å»ºè®®å¦‚æ­¤é…ç½®ã€‚</p>
<h2 data-id="heading-4">é•œåƒæ‹‰å–å¤±è´¥</h2>
<p>å½“å‘ç°é•œåƒæ‹‰å–å¤±è´¥æ—¶ï¼Œè¯·ç¡®è®¤ é…ç½®æ–‡ä»¶ä¸­ä»“åº“åœ°å€ï¼Œä»¥åŠè´¦å¯†ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œ ä»¥åŠå‚è€ƒä¸Šæ–‡ï¼Œç¡®ä¿ AppImage çš„é•œåƒåœ°å€é…ç½®æ­£ç¡®.</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-number">2024</span>-<span class="hljs-number">06</span>-<span class="hljs-number">06</span> <span class="hljs-number">13</span>:<span class="hljs-number">33</span>:<span class="hljs-number">00.534</span> <span class="hljs-keyword">ERROR</span> framework/pod_workers.go:<span class="hljs-number">978</span> <span class="hljs-keyword">Error</span> syncing pod <span class="hljs-string">"ant-test-0_ant(7fd5285b-2a5c-4a75-930a-2908e98c8799)"</span>, skipping: failed <span class="hljs-keyword">to</span> <span class="hljs-string">"StartContainer"</span> <span class="hljs-keyword">for</span> <span class="hljs-string">"test"</span> <span class="hljs-keyword">with</span> ErrImagePull: <span class="hljs-string">"faile to pull image \"</span>registry.xxxx.com/secretflow/nginx:v1\<span class="hljs-string">" with credentials, detail-&gt; rpc error: code = Unknown desc = failed to pull and unpack image \"</span>registry.xxxx.com/secretflow/nginx:v1\<span class="hljs-string">": failed to resolve reference \"</span>registry.xxxx.com/secretflow/nginx:v1\<span class="hljs-string">": unexpected status from HEAD request to https://registry.xxxx.com/v2/secretflow/nginx/manifests/v1: 401 Unauthorized"</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›¸åŒæ–¹æ³•ä¸åŒçŠ¶æ€ä¸‹åœ¨tså’Œrustçš„å†™æ³•(æ˜¯æˆ‘ä»¬ä¸€ç›´è¿½æ±‚çš„ç¼–è¯‘é˜¶æ®µ)]]></title>    <link>https://juejin.cn/post/7582539701147107369</link>    <guid>https://juejin.cn/post/7582539701147107369</guid>    <pubDate>2025-12-12T06:59:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582539701147107369" data-draft-id="7582553782398910510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›¸åŒæ–¹æ³•ä¸åŒçŠ¶æ€ä¸‹åœ¨tså’Œrustçš„å†™æ³•(æ˜¯æˆ‘ä»¬ä¸€ç›´è¿½æ±‚çš„ç¼–è¯‘é˜¶æ®µ)"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-12T06:59:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æ£®"/> <meta itemprop="url" content="https://juejin.cn/user/4455643804079608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›¸åŒæ–¹æ³•ä¸åŒçŠ¶æ€ä¸‹åœ¨tså’Œrustçš„å†™æ³•(æ˜¯æˆ‘ä»¬ä¸€ç›´è¿½æ±‚çš„ç¼–è¯‘é˜¶æ®µ)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4455643804079608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æ£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:59:52.000Z" title="Fri Dec 12 2025 06:59:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…ˆå†™ä¸ªtsï¼Œä»£ç è®©æˆ‘æ˜ç™½é€»è¾‘ï¼Œç„¶åå†™rusté€šè¿‡æšä¸¾å†™å‡ºå’Œtsä¸€æ ·çš„è¿è¡Œæ—¶ä»£ç ï¼Œç„¶åå†å†™rustæ³›å‹çš„ç¼–è¯‘åˆ¤æ–­</p>
<p>æˆ‘ä»¬å°†æ¨¡æ‹ŸåŒä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼š<strong>è®¢å•ç³»ç»Ÿ</strong>ã€‚ æµç¨‹ï¼š<code>æ–°å»º (New)</code>Â -&gt;Â <code>æ”¯ä»˜ (pay)</code>Â -&gt;Â <code>å·²æ”¯ä»˜ (Paid)</code>Â -&gt;Â <code>å‘è´§ (ship)</code>Â -&gt;Â <code>å·²å‘è´§ (Shipped)</code>ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. TypeScript å†™æ³• (ç»å…¸ OOPï¼Œè¿è¡Œæ—¶æ£€æŸ¥)</h3>
<p>è¿™æ˜¯å¤§å¤šæ•°ç¨‹åºå‘˜æœ€ç†Ÿæ‚‰çš„å†™æ³•ã€‚çŠ¶æ€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æšä¸¾å€¼ï¼Œé€»è¾‘å…¨é Â <code>if</code>Â åˆ¤æ–­ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰çŠ¶æ€ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OrderStatus</span> = <span class="hljs-string">'New'</span> | <span class="hljs-string">'Paid'</span> | <span class="hljs-string">'Shipped'</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">status</span>: <span class="hljs-title class_">OrderStatus</span>; <span class="hljs-comment">// çŠ¶æ€åªæ˜¯ä¸€ä¸ªæ•°æ®å­—æ®µ</span>

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">'New'</span>; <span class="hljs-comment">// é»˜è®¤ä¸º New</span>
    }

    <span class="hljs-comment">// æ”¯ä»˜æ–¹æ³•</span>
    <span class="hljs-title function_">pay</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ã€ç—›ç‚¹ã€‘ï¼šå¿…é¡»åœ¨è¿è¡Œæ—¶å†™ä»£ç æ£€æŸ¥å½“å‰çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'New'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`é”™è¯¯ï¼šè®¢å• <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.id}</span> çŠ¶æ€æ˜¯ <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.status}</span>ï¼Œä¸èƒ½æ”¯ä»˜ï¼`</span>);
        }

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¢å• <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.id}</span> æ”¯ä»˜æˆåŠŸ`</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">'Paid'</span>; <span class="hljs-comment">// ä¿®æ”¹å†…éƒ¨çŠ¶æ€</span>
    }

    <span class="hljs-comment">// å‘è´§æ–¹æ³•</span>
    <span class="hljs-title function_">ship</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ã€ç—›ç‚¹ã€‘ï¼šå¦‚æœä½ å¿˜äº†å†™è¿™ä¸ª checkï¼Œæˆ–è€…å†™é”™äº†ï¼Œç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè¿è¡Œæ—¶ä¼šç‚¸</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'Paid'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`é”™è¯¯ï¼šè®¢å• <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.id}</span> æ²¡æ”¯ä»˜ï¼Œä¸èƒ½å‘è´§ï¼`</span>);
        }

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¢å• <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.id}</span> å‘è´§æˆåŠŸ`</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">'Shipped'</span>;
    }
}

<span class="hljs-comment">// --- æµ‹è¯• ---</span>
<span class="hljs-keyword">const</span> order = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-number">1</span>);

<span class="hljs-comment">// 1. æ­£å¸¸æµç¨‹</span>
order.<span class="hljs-title function_">pay</span>();
order.<span class="hljs-title function_">ship</span>();

<span class="hljs-comment">// 2. é”™è¯¯æµç¨‹ (ç¼–è¯‘å™¨æ‹¦ä¸ä½ï¼Œè¿è¡Œæ‰ä¼šæŠ¥é”™)</span>
<span class="hljs-comment">// order.ship(); // æŠ›å‡º Error: é”™è¯¯ï¼šè®¢å• 1 çŠ¶æ€æ˜¯ Shippedï¼Œä¸èƒ½å‘è´§ï¼</span>
</code></pre>
<hr/>
<h3 data-id="heading-1">2. Rust æšä¸¾å†™æ³• (æ¨¡æ‹Ÿ TS é€»è¾‘ï¼Œè¿è¡Œæ—¶æ£€æŸ¥)</h3>
<p>è¿™æ˜¯ Rust ä¸­å¤„ç†åŠ¨æ€çŠ¶æ€çš„æ ‡å‡†å†™æ³•ã€‚é€»è¾‘å’Œ TS å‡ ä¹ä¸€æ ·ï¼Œåªæ˜¯ç”¨Â <code>match</code>Â æ›¿ä»£äº†Â <code>if</code>ï¼Œç”¨Â <code>Result</code>Â æ›¿ä»£äº†Â <code>throw Error</code>ã€‚</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong> Â ä»£ç å†™åœ¨åŒä¸€ä¸ªÂ <code>impl</code>Â é‡Œï¼Œ<strong>å¯ä»¥</strong>ç¼–è¯‘é€šè¿‡éæ³•è°ƒç”¨çš„ä»£ç ï¼ˆæ¯”å¦‚è¿ç»­è°ƒç”¨ä¸¤æ¬¡ payï¼‰ï¼Œå¿…é¡»è¿è¡Œèµ·æ¥æ‰çŸ¥é“é”™æ²¡é”™ã€‚</p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Debug, PartialEq)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> {
    New,
    Paid,
    Shipped,
}

<span class="hljs-meta">#[derive(Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Order</span> {
    id: <span class="hljs-type">u64</span>,
    status: Status, <span class="hljs-comment">// çŠ¶æ€æ˜¯ç»“æ„ä½“çš„ä¸€ä¸ªå­—æ®µ</span>
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Order</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(id: <span class="hljs-type">u64</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> {
            id,
            status: Status::New,
        }
    }

    <span class="hljs-comment">// å¿…é¡»è¿”å› Resultï¼Œå› ä¸ºè¿è¡Œæ—¶å¯èƒ½ä¼šå¤±è´¥</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">pay</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">String</span>&gt; {
        <span class="hljs-comment">// ã€è¿è¡Œæ—¶æ£€æŸ¥ã€‘ï¼šå’Œ TS ä¸€æ ·ï¼Œå¿…é¡»æ‰‹åŠ¨åˆ¤æ–­çŠ¶æ€</span>
        <span class="hljs-keyword">match</span> <span class="hljs-keyword">self</span>.status {
            Status::New =&gt; {
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è®¢å• {} æ”¯ä»˜æˆåŠŸ"</span>, <span class="hljs-keyword">self</span>.id);
                <span class="hljs-keyword">self</span>.status = Status::Paid; <span class="hljs-comment">// ä¿®æ”¹è‡ªèº«å­—æ®µ</span>
                <span class="hljs-title function_ invoke__">Ok</span>(())
            }
            _ =&gt; <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-string">"åªæœ‰æ–°è®¢å•æ‰èƒ½æ”¯ä»˜"</span>.<span class="hljs-title function_ invoke__">to_string</span>()),
        }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">ship</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">String</span>&gt; {
        <span class="hljs-comment">// ã€è¿è¡Œæ—¶æ£€æŸ¥ã€‘</span>
        <span class="hljs-keyword">match</span> <span class="hljs-keyword">self</span>.status {
            Status::Paid =&gt; {
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è®¢å• {} å‘è´§æˆåŠŸ"</span>, <span class="hljs-keyword">self</span>.id);
                <span class="hljs-keyword">self</span>.status = Status::Shipped;
                <span class="hljs-title function_ invoke__">Ok</span>(())
            }
            _ =&gt; <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-string">"åªæœ‰å·²æ”¯ä»˜çš„è®¢å•æ‰èƒ½å‘è´§"</span>.<span class="hljs-title function_ invoke__">to_string</span>()),
        }
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">order</span> = Order::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">1001</span>);

    <span class="hljs-comment">// 1. æ­£å¸¸æµç¨‹ (éœ€è¦å¤„ç† Result)</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(_) = order.<span class="hljs-title function_ invoke__">pay</span>() {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = order.<span class="hljs-title function_ invoke__">ship</span>();
    }

    <span class="hljs-comment">// 2. é”™è¯¯æµç¨‹</span>
    <span class="hljs-comment">// ç¼–è¯‘å™¨å®Œå…¨å…è®¸ä½ å†™è¿™è¡Œä»£ç ï¼Œåªæœ‰è·‘èµ·æ¥é€šè¿‡ Err å‘Šè¯‰ä½ é”™äº†</span>
    <span class="hljs-comment">// let _ = order.ship(); // è¿è¡Œæ—¶è¿”å› Err</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-2">3. Rust æ³›å‹ + PhantomData (Type Stateï¼Œç¼–è¯‘æ—¶æ£€æŸ¥)</h3>
<p>è¿™æ˜¯ Rust çš„â€œå®Œå…¨ä½“â€ã€‚çŠ¶æ€ä¸å†æ˜¯å­—æ®µé‡Œçš„<strong>å€¼</strong>ï¼Œè€Œæ˜¯ä¾é™„åœ¨ç»“æ„ä½“ä¸Šçš„<strong>ç±»å‹</strong>ã€‚</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong> Â æ–¹æ³•è¢«æ‹†åˆ†åˆ°ä¸åŒçš„Â <code>impl</code>Â å—ã€‚<strong>éæ³•è°ƒç”¨çš„ä»£ç è¿ç¼–è¯‘éƒ½è¿‡ä¸å»</strong>ã€‚</p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::marker::PhantomData;

<span class="hljs-comment">// --- 1. å®šä¹‰çŠ¶æ€ (ç©ºç»“æ„ä½“ï¼Œåªåšç±»å‹æ ‡ç­¾) ---</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">New</span>;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Paid</span>;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Shipped</span>;

<span class="hljs-comment">// --- 2. å®šä¹‰æ ¸å¿ƒç»“æ„ä½“ (å¸¦æœ‰æ³›å‹ State) ---</span>
<span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰ `status` å­—æ®µäº†ï¼çŠ¶æ€ç”± State ç±»å‹æœ¬èº«å†³å®š</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Order</span>&lt;State&gt; {
    id: <span class="hljs-type">u64</span>,
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ª 0 å¤§å°çš„å­—æ®µï¼Œåªä¸ºäº†å‘Šè¯‰ç¼–è¯‘å™¨ State æ˜¯å•¥</span>
    _marker: PhantomData&lt;State&gt;, 
}

<span class="hljs-comment">// --- 3. é’ˆå¯¹ä¸åŒçŠ¶æ€å®ç°ä¸åŒçš„æ–¹æ³• ---</span>

<span class="hljs-comment">// åªæœ‰ &lt;New&gt; çŠ¶æ€æ‰æœ‰ pay æ–¹æ³•</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Order</span>&lt;New&gt; {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(id: <span class="hljs-type">u64</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> { id, _marker: PhantomData }
    }

    <span class="hljs-comment">// åŠ¨ä½œï¼šNew -&gt; Paid</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šè¾“å…¥æ˜¯ self (æ¶ˆè€—æ‰æ—§è®¢å•)ï¼Œè¾“å‡ºæ˜¯ Order&lt;Paid&gt; (è¿”å›æ–°è®¢å•)</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">pay</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> Order&lt;Paid&gt; {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è®¢å• {} æ”¯ä»˜æˆåŠŸ"</span>, <span class="hljs-keyword">self</span>.id);
        Order { 
            id: <span class="hljs-keyword">self</span>.id, 
            _marker: PhantomData 
        }
    }
}

<span class="hljs-comment">// åªæœ‰ &lt;Paid&gt; çŠ¶æ€æ‰æœ‰ ship æ–¹æ³•</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Order</span>&lt;Paid&gt; {
    <span class="hljs-comment">// åŠ¨ä½œï¼šPaid -&gt; Shipped</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">ship</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> Order&lt;Shipped&gt; {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è®¢å• {} å‘è´§æˆåŠŸ"</span>, <span class="hljs-keyword">self</span>.id);
        Order { 
            id: <span class="hljs-keyword">self</span>.id, 
            _marker: PhantomData 
        }
    }
}

<span class="hljs-comment">// åªæœ‰ &lt;Shipped&gt; çŠ¶æ€æ‰æœ‰ finish æ–¹æ³•</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Order</span>&lt;Shipped&gt; {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">finish</span>(<span class="hljs-keyword">self</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è®¢å• {} æµç¨‹ç»“æŸ"</span>, <span class="hljs-keyword">self</span>.id);
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// --- 1. æ­£å¸¸æµç¨‹ ---</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">order_new</span> = Order::&lt;New&gt;::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">1001</span>); <span class="hljs-comment">// ç±»å‹: Order&lt;New&gt;</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">order_paid</span> = order_new.<span class="hljs-title function_ invoke__">pay</span>();        <span class="hljs-comment">// ç±»å‹: Order&lt;Paid&gt;</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">order_shipped</span> = order_paid.<span class="hljs-title function_ invoke__">ship</span>();   <span class="hljs-comment">// ç±»å‹: Order&lt;Shipped&gt;</span>
    order_shipped.<span class="hljs-title function_ invoke__">finish</span>();

    <span class="hljs-comment">// --- 2. é”™è¯¯æµç¨‹ (é«˜èƒ½é¢„è­¦) ---</span>
    
    <span class="hljs-comment">// å¦‚æœä½ è¯•å›¾æŠŠä¸Šé¢çš„æµç¨‹æ‰“ä¹±ï¼Œæ¯”å¦‚ç›´æ¥å¯¹ New çŠ¶æ€å‘è´§ï¼š</span>
    <span class="hljs-comment">/* let order = Order::&lt;New&gt;::new(1002);
       order.ship(); 
    */</span>
    
    <span class="hljs-comment">// ğŸ’¥ ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ï¼š</span>
    <span class="hljs-comment">// error[E0599]: no method named `ship` found for struct `Order&lt;New&gt;`</span>
    <span class="hljs-comment">// æ„æ€ï¼šå…„å¼Ÿï¼ŒOrder&lt;New&gt; è¿™ä¸ªç±»å‹æ ¹æœ¬å°±æ²¡æœ‰ ship è¿™ä¸ªå‡½æ•°ï¼Œä½ æƒ³å•¥å‘¢ï¼Ÿ</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-3">ç»ˆæå¯¹æ¯”æ€»ç»“</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>TS / Rust Enum å†™æ³•</th><th>Rust æ³›å‹ (Type State) å†™æ³•</th></tr></thead><tbody><tr><td><strong>çŠ¶æ€æœ¬è´¨</strong></td><td><strong>æ•°æ® (Data)</strong> å­˜å‚¨åœ¨å†…å­˜çš„ä¸€ä¸ªå˜é‡é‡Œ (<code>"New"</code>,Â <code>0</code>)</td><td><strong>ç±»å‹ (Type)</strong> å†™åœ¨ä»£ç ç­¾åé‡Œ (<code>&lt;New&gt;</code>,Â <code>&lt;Paid&gt;</code>)</td></tr><tr><td><strong>é€»è¾‘ä½ç½®</strong></td><td><strong>é›†ä¸­åœ¨ä¸€èµ·</strong> æ‰€æœ‰æ–¹æ³•éƒ½åœ¨ä¸€ä¸ª class/impl é‡Œï¼Œå†…éƒ¨ç”¨ if/match åˆ†æµ</td><td><strong>åˆ†æ•£éš”ç¦»</strong> <code>pay</code>Â åªå­˜åœ¨äºÂ <code>New</code>Â çš„å®ç°å—é‡Œ <code>ship</code>Â åªå­˜åœ¨äºÂ <code>Paid</code>Â çš„å®ç°å—é‡Œ</td></tr><tr><td><strong>é”™è¯¯å‘ç°</strong></td><td><strong>è¿è¡Œæ—¶ (Runtime)</strong> è·‘èµ·æ¥æŠ›å¼‚å¸¸æˆ–è¿”å› Err</td><td><strong>ç¼–è¯‘æ—¶ (Compile Time)</strong> ä»£ç è¿˜æ²¡è·‘ï¼Œç¼–è¯‘å™¨å°±æ ‡çº¢äº†</td></tr><tr><td><strong>IDE ä½“éªŒ</strong></td><td><strong>å…¨æ˜¾ç¤º</strong> æ•²Â <code>order.</code>Â ä¼šçœ‹åˆ°Â <code>pay</code>Â å’ŒÂ <code>ship</code>ï¼Œå®¹æ˜“è¯¯ç‚¹</td><td><strong>æ™ºèƒ½ç­›é€‰</strong> å¦‚æœæ˜¯æ–°è®¢å•ï¼Œæ•²Â <code>order.</code>Â æ ¹æœ¬çœ‹ä¸åˆ°Â <code>ship</code></td></tr><tr><td><strong>æ‰€æœ‰æƒ</strong></td><td><strong>çŠ¶æ€å¯å˜</strong> å¯¹è±¡ä¸€ç›´æ˜¯é‚£ä¸ªå¯¹è±¡ï¼Œåªæ˜¯æ”¹äº†ä¸ªå­—æ®µå€¼</td><td><strong>æ—§çŠ¶æ€é”€æ¯</strong> è°ƒç”¨Â <code>pay()</code>Â åï¼Œæ—§çš„Â <code>order</code>Â å˜é‡ç›´æ¥å¤±æ•ˆ (Move)ï¼Œé˜²æ­¢ä½ å†ç”¨æ—§è®¢å•æäº‹æƒ…</td></tr></tbody></table>
<p>Export to Sheets</p>
<p>é€šè¿‡è¿™ä¸‰æ®µä»£ç ï¼Œä½ åº”è¯¥èƒ½æ˜æ˜¾æ„Ÿè§‰åˆ°ï¼šRust çš„æ³›å‹å†™æ³•è™½ç„¶å®šä¹‰èµ·æ¥ç¨å¾®å•°å—¦ï¼ˆè¦å†™å¥½å‡ ä¸ª struct å’Œ implï¼‰ï¼Œä½†åœ¨<strong>ä½¿ç”¨æ—¶</strong>æ˜¯å¤šä¹ˆçš„å®‰å…¨å’Œçœå¿ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TiDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šåˆ†å¸ƒå¼æ•°æ®åº“çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7582561515816763455</link>    <guid>https://juejin.cn/post/7582561515816763455</guid>    <pubDate>2025-12-12T07:00:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582561515816763455" data-draft-id="7582502441993977899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TiDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šåˆ†å¸ƒå¼æ•°æ®åº“çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-12T07:00:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TiDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šåˆ†å¸ƒå¼æ•°æ®åº“çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:00:23.000Z" title="Fri Dec 12 2025 07:00:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 TiDBæ¶æ„è®¾è®¡ä¸æ ¸å¿ƒåŸç†</h2>
<p>TiDBæ˜¯PingCAPå…¬å¸å¼€å‘çš„å¼€æºåˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“ï¼Œé‡‡ç”¨è®¡ç®—å­˜å‚¨åˆ†ç¦»çš„æ¶æ„è®¾è®¡ï¼Œå®Œç¾ç»“åˆäº†ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“çš„ACIDç‰¹æ€§ä¸NoSQLæ•°æ®åº“çš„æ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚ä½œä¸ºæ–°ä¸€ä»£çš„<strong>äº‘åŸç”Ÿæ•°æ®åº“</strong>ï¼ŒTiDBå®Œå…¨å…¼å®¹MySQLåè®®ï¼Œä½¿å¾—ç°æœ‰MySQLåº”ç”¨å¯ä»¥å‡ ä¹æ— ç¼è¿ç§»åˆ°TiDBå¹³å°ï¼ŒåŒæ—¶è·å¾—åˆ†å¸ƒå¼æ¶æ„å¸¦æ¥çš„è¯¸å¤šä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒæ¶æ„ç»„ä»¶ä¸åä½œæœºåˆ¶</h3>
<p>TiDBé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼ŒåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šTiDB Serverï¼ˆè®¡ç®—å±‚ï¼‰ã€TiKVï¼ˆå­˜å‚¨å±‚ï¼‰å’ŒPDï¼ˆè°ƒåº¦å±‚ï¼‰ã€‚è¿™ç§<strong>ç»„ä»¶åˆ†ç¦»æ¶æ„</strong>ä½¿å¾—æ¯ä¸ªå±‚çº§å¯ä»¥ç‹¬ç«‹æ‰©å±•å’Œä¼˜åŒ–ï¼Œæä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚</p>
<ul>
<li><strong>TiDB Serverï¼ˆè®¡ç®—å±‚ï¼‰</strong> ï¼šä½œä¸ºæ— çŠ¶æ€SQLå±‚ï¼Œè´Ÿè´£SQLè§£æã€ä¼˜åŒ–å’Œæ‰§è¡Œã€‚å®ƒå…¼å®¹MySQLåè®®å’Œå¤§å¤šæ•°MySQLè¯­æ³•ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åƒä½¿ç”¨MySQLä¸€æ ·è¿æ¥TiDBã€‚TiDB Serverå°†SQLè¯·æ±‚è½¬æ¢ä¸ºå¯¹TiKVçš„Key-Valueæ“ä½œï¼Œå¹¶æ±‡æ€»å­˜å‚¨å±‚è¿”å›çš„ç»“æœã€‚</li>
<li><strong>TiKVï¼ˆå­˜å‚¨å±‚ï¼‰</strong> ï¼šåˆ†å¸ƒå¼é”®å€¼å­˜å‚¨å¼•æ“ï¼ŒåŸºäºRaftå…±è¯†ç®—æ³•ä¿è¯æ•°æ®å¼ºä¸€è‡´æ€§å’Œé«˜å¯ç”¨æ€§ã€‚TiKVå°†æ•°æ®åˆ’åˆ†ä¸ºRegionï¼ˆé»˜è®¤96MB-256MBï¼‰ï¼Œæ¯ä¸ªRegioné€šè¿‡Multi-Raftåè®®ç»´æŠ¤å¤šä¸ªå‰¯æœ¬ï¼Œç¡®ä¿æ•°æ®å®‰å…¨å’Œé«˜å¯ç”¨ã€‚</li>
<li><strong>PDï¼ˆPlacement Driverï¼‰</strong> ï¼šé›†ç¾¤çš„"å¤§è„‘"ï¼Œè´Ÿè´£å…ƒæ•°æ®ç®¡ç†ã€å…¨å±€æ—¶é—´æˆ³åˆ†é…ã€è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ•…éšœæ¢å¤ã€‚PDé€šè¿‡æŒç»­ç›‘æ§é›†ç¾¤çŠ¶æ€ï¼Œè‡ªåŠ¨è°ƒåº¦Regionå‰¯æœ¬ï¼Œä¼˜åŒ–æ•°æ®åˆ†å¸ƒå’Œè´Ÿè½½å‡è¡¡ã€‚</li>
</ul>
<h3 data-id="heading-2">1.2 æ•°æ®åˆ†å¸ƒä¸Regionç®¡ç†</h3>
<p>TiDBé‡‡ç”¨åŸºäºRangeçš„æ•°æ®åˆ†ç‰‡ç­–ç•¥ï¼Œå°†æ•´ä¸ªKey-Valueç©ºé—´åˆ†æˆå¤šä¸ªè¿ç»­çš„æ®µï¼Œæ¯ä¸ªæ®µç§°ä¸ºä¸€ä¸ªRegionã€‚å½“Regionå¤§å°è¾¾åˆ°é˜ˆå€¼ï¼ˆé»˜è®¤256MiBï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ†è£‚ä¸ºä¸¤ä¸ªå­Regionï¼›å½“Regionå› å¤§é‡åˆ é™¤å˜å¾—å¤ªå°æ—¶ï¼Œä¼šå°†ç›¸é‚»å°Regionåˆå¹¶ã€‚è¿™ç§<strong>è‡ªåŠ¨åˆ†ç‰‡æœºåˆ¶</strong>ç¡®ä¿äº†æ•°æ®åˆ†å¸ƒçš„åŠ¨æ€å¹³è¡¡ï¼Œé¿å…äº†ä¼ ç»Ÿåˆ†åº“åˆ†è¡¨éœ€è¦æ‰‹åŠ¨ç»´æŠ¤çš„å¤æ‚æ€§ã€‚</p>
<p>PDç»„ä»¶é€šè¿‡å¤šç§è°ƒåº¦å™¨å®ç°æ™ºèƒ½è°ƒåº¦ï¼š</p>
<ul>
<li><strong>balance-leader-scheduler</strong>ï¼šä¿æŒä¸åŒèŠ‚ç‚¹çš„Leaderå‡è¡¡</li>
<li><strong>balance-region-scheduler</strong>ï¼šä¿æŒä¸åŒèŠ‚ç‚¹çš„Peerå‡è¡¡</li>
<li><strong>hot-region-scheduler</strong>ï¼šä¿æŒä¸åŒèŠ‚ç‚¹çš„è¯»å†™çƒ­ç‚¹Regionå‡è¡¡</li>
</ul>
<h3 data-id="heading-3">1.3 åˆ†å¸ƒå¼äº‹åŠ¡ä¸ä¸€è‡´æ€§æœºåˆ¶</h3>
<p>TiDBå®ç°äº†å®Œæ•´çš„åˆ†å¸ƒå¼äº‹åŠ¡æœºåˆ¶ï¼Œé‡‡ç”¨ä¼˜åŒ–çš„ä¸¤é˜¶æ®µæäº¤ï¼ˆ2PCï¼‰åè®®ï¼Œå¹¶åŸºäºPercolatoräº‹åŠ¡æ¨¡å‹å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡ã€‚å…³é”®æœºåˆ¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å…¨å±€æ—¶é—´æˆ³åˆ†é…</strong>ï¼šPDä½œä¸ºå…¨å±€æ—¶é—´æˆ³åˆ†é…å™¨ï¼ˆTSOï¼‰ï¼Œä¸ºæ¯ä¸ªäº‹åŠ¡åˆ†é…å…¨å±€å”¯ä¸€ä¸”é€’å¢çš„æ—¶é—´æˆ³ï¼Œç”¨äºå®ç°MVCCå’Œå…¨å±€å¿«ç…§éš”ç¦»ã€‚</li>
<li><strong>å¼‚æ­¥æäº¤ä¼˜åŒ–</strong>ï¼šTiDB 4.0å¼•å…¥çš„Async Commitç‰¹æ€§ï¼Œå¯¹äºå°äº‹åŠ¡è¾¾åˆ°ç±»ä¼¼1PCçš„æ•ˆæœï¼Œå‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°ï¼Œæ˜¾è‘—æå‡çŸ­äº‹åŠ¡æ€§èƒ½ã€‚</li>
<li><strong>å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰</strong> ï¼šTiKVå®ç°å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼Œæ¯ä¸ªæ•°æ®ä¿®æ”¹éƒ½ä¼šç”Ÿæˆæ–°çš„ç‰ˆæœ¬ï¼Œç”±æ—¶é—´æˆ³åŒºåˆ†ç‰ˆæœ¬ï¼Œå®ç°è¯»å†™ä¸é˜»å¡çš„å¿«ç…§éš”ç¦»ã€‚</li>
</ul>
<h2 data-id="heading-4">2 TiDBå…³é”®æŠ€æœ¯æ·±åº¦è§£æ</h2>
<h3 data-id="heading-5">2.1 HTAPæ··åˆè´Ÿè½½æ”¯æŒ</h3>
<p>TiDBé€šè¿‡TiFlashç»„ä»¶å®ç°HTAPèƒ½åŠ›ï¼ŒåŒæ—¶æ”¯æŒOLTPå’ŒOLAPå·¥ä½œè´Ÿè½½ã€‚TiFlashæ˜¯åˆ—å¼å­˜å‚¨å¼•æ“ï¼Œé€šè¿‡Multi-Raft Learneråè®®å®æ—¶ä»TiKVå¤åˆ¶æ•°æ®ï¼Œç¡®ä¿ä¸TiKVä¹‹é—´çš„æ•°æ®å¼ºä¸€è‡´æ€§ã€‚</p>
<p><strong>è¡Œåˆ—æ··åˆæ¶æ„</strong>çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å®æ—¶åˆ†æ</strong>ï¼šTiFlashä»¥ä½æ¶ˆè€—ä¸é˜»å¡TiKVå†™å…¥çš„æ–¹å¼å®æ—¶å¤åˆ¶æ•°æ®ï¼ŒåŒæ­¥å»¶è¿Ÿæ§åˆ¶åœ¨ç§’çº§ï¼Œå®ç°çœŸæ­£çš„å®æ—¶åˆ†æã€‚</li>
<li><strong>æ™ºèƒ½é€‰æ‹©</strong>ï¼šTiDBä¼˜åŒ–å™¨ä¼šæ ¹æ®æŸ¥è¯¢ç‰¹å¾å’Œç»Ÿè®¡ä¿¡æ¯æ™ºèƒ½é€‰æ‹©TiKVï¼ˆè¡Œå­˜ï¼‰æˆ–TiFlashï¼ˆåˆ—å­˜ï¼‰ï¼Œç”šè‡³åœ¨åŒä¸€æŸ¥è¯¢å†…æ··åˆä½¿ç”¨ä¸¤ç§å­˜å‚¨ã€‚</li>
<li><strong>èµ„æºéš”ç¦»</strong>ï¼šOLTPè´Ÿè½½è¿è¡Œåœ¨TiKVä¸Šï¼ŒOLAPå¤æ‚æŸ¥è¯¢è¿è¡Œåœ¨TiFlashä¸Šï¼Œé¿å…åˆ†ææŸ¥è¯¢å¯¹äº‹åŠ¡å¤„ç†çš„å¹²æ‰°ã€‚</li>
</ul>
<p>å®é™…æ“ä½œä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨TiFlashï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¾ç½®TiFlashå‰¯æœ¬</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">SET</span> TIFLASH REPLICA <span class="hljs-number">2</span>;

<span class="hljs-comment">-- å¼ºåˆ¶æŸ¥è¯¢èµ°TiFlashï¼ˆTPC-H Query6ä¼˜åŒ–ï¼‰</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-comment">/*+ read_from_storage(tiflash[lineitem]) */</span> 
       <span class="hljs-built_in">sum</span>(l_extendedprice <span class="hljs-operator">*</span> l_discount) <span class="hljs-keyword">as</span> revenue
<span class="hljs-keyword">FROM</span> lineitem
<span class="hljs-keyword">WHERE</span> l_shipdate <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'1994-01-01'</span>
  <span class="hljs-keyword">AND</span> l_shipdate <span class="hljs-operator">&lt;</span> date_add(<span class="hljs-string">'1994-01-01'</span>, <span class="hljs-type">interval</span> <span class="hljs-string">'1'</span> <span class="hljs-keyword">year</span>)
  <span class="hljs-keyword">AND</span> l_discount <span class="hljs-keyword">between</span> <span class="hljs-number">0.06</span> <span class="hljs-operator">-</span> <span class="hljs-number">0.01</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">0.06</span> <span class="hljs-operator">+</span> <span class="hljs-number">0.01</span>
  <span class="hljs-keyword">AND</span> l_quantity <span class="hljs-operator">&lt;</span> <span class="hljs-number">24</span>;
</code></pre>
<p>æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨TiFlashåŠ é€Ÿåˆ†æå‹æŸ¥è¯¢ï¼Œ<code>READ_FROM_STORAGE</code>æç¤ºç¬¦å¼ºåˆ¶ä¼˜åŒ–å™¨ä½¿ç”¨åˆ—å¼å­˜å‚¨ã€‚</p>
<h3 data-id="heading-6">2.2 å¼¹æ€§æ‰©å±•ä¸è‡ªåŠ¨è¿ç»´</h3>
<p>TiDBæ”¯æŒ<strong>åœ¨çº¿å¼¹æ€§æ‰©å±•</strong>ï¼Œå¯åœ¨ä¸å½±å“ä¸šåŠ¡çš„æƒ…å†µä¸‹åŠ¨æ€å¢å‡èŠ‚ç‚¹ã€‚è®¡ç®—å±‚ï¼ˆTiDB Serverï¼‰å’Œå­˜å‚¨å±‚ï¼ˆTiKVï¼‰å¯ä»¥ç‹¬ç«‹æ‰©å±•ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»è°ƒæ•´ã€‚</p>
<p><strong>è‡ªåŠ¨æ•…éšœæ¢å¤</strong>æœºåˆ¶åŸºäºRaftåè®®å®ç°ã€‚å½“å°‘æ•°èŠ‚ç‚¹æ•…éšœæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‰ä¸¾æ–°Leaderï¼Œå¹¶åœ¨å…¶ä»–èŠ‚ç‚¹ä¸Šæ¢å¤å‰¯æœ¬æ•°æ®ï¼Œå®ç°é‡‘èçº§100%æ•°æ®å¼ºä¸€è‡´æ€§ä¿è¯ã€‚æ•…éšœè½¬ç§»è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜ï¼Œå®¢æˆ·ç«¯åªéœ€å®ç°é‡è¯•é€»è¾‘å³å¯ã€‚</p>
<p>æ‰©ç¼©å®¹æ“ä½œå¯é€šè¿‡TiUPå·¥å…·ç®€å•å®Œæˆï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ°´å¹³æ‰©å±•TiDB Server</span>
tiup cluster scale-<span class="hljs-keyword">out</span> &lt;cluster-name&gt; tidb.yaml

<span class="hljs-meta"># å‚ç›´æ‰©å±•TiKVèŠ‚ç‚¹é…ç½®</span>
tiup cluster edit-config &lt;cluster-name&gt;
</code></pre>
<p>è¿™ç§<strong>æ— æ„Ÿæ‰©å®¹èƒ½åŠ›</strong>ä½¿TiDBç‰¹åˆ«é€‚åˆä¸šåŠ¡å¿«é€Ÿå¢é•¿æˆ–æµé‡æ³¢åŠ¨å¤§çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-7">2.3 æ•°æ®è¿ç§»ä¸ç”Ÿæ€é›†æˆ</h3>
<p>TiDBæ‹¥æœ‰ä¸°å¯Œçš„å·¥å…·é“¾ç”Ÿæ€ï¼Œæä¾›å®Œæ•´çš„æ•°æ®ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ä¸»è¦å·¥å…·åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>DMï¼ˆData Migrationï¼‰</strong> ï¼šä»MySQLåˆ°TiDBçš„æ•°æ®è¿ç§»å·¥å…·ï¼Œæ”¯æŒå…¨é‡å’Œå¢é‡åŒæ­¥ã€‚</li>
<li><strong>BRï¼ˆBackup &amp; Restoreï¼‰</strong> ï¼šé›†ç¾¤çº§æ•°æ®å¤‡ä»½ä¸æ¢å¤å·¥å…·ï¼Œæ”¯æŒåˆ†å¸ƒå¼å¤‡ä»½ã€‚</li>
<li><strong>TiCDC</strong>ï¼šå˜æ›´æ•°æ®æ•è·ä¸åŒæ­¥å·¥å…·ï¼Œå¯å°†æ•°æ®åŒæ­¥åˆ°MySQLã€Kafkaç­‰ä¸‹æ¸¸ç³»ç»Ÿã€‚</li>
</ul>
<p>ä¸MySQLçš„é«˜åº¦å…¼å®¹æ€§æ˜¯TiDBçš„ä¸€å¤§ä¼˜åŠ¿ï¼Œæ”¯æŒå¤§å¤šæ•°MySQLè¯­æ³•ã€å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°å’Œè§¦å‘å™¨ï¼Œä½¿å¾—ç°æœ‰MySQLåº”ç”¨å¯ä»¥å¹³æ»‘è¿ç§»ã€‚æ­¤å¤–ï¼ŒTiDBæ•°æ®å¯ä»¥æ–¹ä¾¿åœ°å¯¼å…¥Kafkaï¼Œæ¥å…¥Flinkï¼Œä¹ƒè‡³Hiveã€HDFSã€Amazon S3ã€Sparkç­‰å¤§æ•°æ®ç”Ÿæ€ç»„ä»¶ï¼Œé¿å…äº†æŠ€æœ¯é”å®šé£é™©ã€‚</p>
<h2 data-id="heading-8">3 TiDBåº”ç”¨å®æˆ˜ä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-9">3.1 åº”ç”¨åœºæ™¯åˆ†æ</h3>
<p>TiDBç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li><strong>é«˜å¹¶å‘OLTPåº”ç”¨</strong>ï¼šç”µå•†ã€é‡‘èã€æ¸¸æˆç­‰éœ€è¦å¤„ç†å¤§é‡å¹¶å‘äº‹åŠ¡çš„åœºæ™¯</li>
<li><strong>å®æ—¶åˆ†æç³»ç»Ÿ</strong>ï¼šéœ€è¦åŒæ—¶å¤„ç†äº‹åŠ¡å’Œåˆ†ææŸ¥è¯¢çš„HTAPåœºæ™¯</li>
<li><strong>å¤§æ•°æ®é‡å­˜å‚¨</strong>ï¼šå•è¡¨æ•°æ®é‡è¾¾æ•°åäº¿ç”šè‡³ä¸Šç™¾äº¿çš„è®°å½•å­˜å‚¨å’ŒæŸ¥è¯¢éœ€æ±‚</li>
<li><strong>MySQLè¿ç§»å‡çº§</strong>ï¼šä»MySQLè¿ç§»åˆ°åˆ†å¸ƒå¼æ¶æ„çš„å¹³æ»‘å‡çº§è·¯å¾„</li>
</ul>
<p>æŸé‡‘èä¼ä¸šæ¡ˆä¾‹æ˜¾ç¤ºï¼Œé€šè¿‡éƒ¨ç½²TiDBç§æœ‰äº‘è§£å†³æ–¹æ¡ˆï¼Œå®ç°äº†æ•°æ®çš„å®æ—¶åˆ†æå’Œé«˜æ•ˆå¤„ç†ï¼ŒæˆåŠŸåº”å¯¹äº†æ•°æ®é‡æ¿€å¢å’Œä¸šåŠ¡å¤æ‚åº¦æå‡çš„æŒ‘æˆ˜ã€‚æŸç”µä¿¡ä¸ªäººè´¦å•ç³»ç»Ÿä»MyCATè¿ç§»åˆ°TiDBåï¼Œå•è¡¨æ•°æ®é‡ä»80äº¿æ‰©å±•åˆ°100äº¿ï¼Œæ•°æ®å­˜å‚¨å‘¨æœŸç”±åŠå¹´å»¶é•¿è‡³3-5å¹´ï¼ŒQPSå’Œå»¶è¿Ÿéƒ½æœ‰æ˜¾è‘—æ”¹å–„ã€‚</p>
<h3 data-id="heading-10">3.2 SQLä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<p>åœ¨TiDBä¸­ï¼ŒSQLæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ ¸å¿ƒä¼˜åŒ–å»ºè®®ï¼š</p>
<ul>
<li><strong>é¿å…å…¨è¡¨æ‰«æ</strong>ï¼šé€šè¿‡åˆ›å»ºåˆé€‚çš„ç´¢å¼•é¿å…å…¨è¡¨æ‰«æã€‚ä½¿ç”¨EXPLAINåˆ†ææŸ¥è¯¢è®¡åˆ’ï¼Œç¡®ä¿æŸ¥è¯¢æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•ã€‚</li>
<li><strong>æ§åˆ¶äº‹åŠ¡å¤§å°</strong>ï¼šå°†æ¯ä¸ªäº‹åŠ¡çš„è®°å½•æ•°æ§åˆ¶åœ¨200æ¡ä»¥å†…ï¼Œå•æ¡è®°å½•çš„æ•°æ®å¤§å°å°äº100KBã€‚å¤§äº‹åŠ¡ä¼šå¢åŠ å»¶è¿Ÿï¼Œå®¹æ˜“å¼•å‘å†²çªå’Œå†…å­˜å‹åŠ›ã€‚</li>
<li><strong>ç´¢å¼•ä¼˜åŒ–</strong>ï¼šä¸€å¼ è¡¨çš„ç´¢å¼•æ•°é‡å»ºè®®ä¸è¶…è¿‡7ä¸ªã€‚ä½¿ç”¨è¦†ç›–ç´¢å¼•é¿å…å›è¡¨æ“ä½œï¼Œå¯¹å­—ç¬¦ä¸²åˆ—è€ƒè™‘ä½¿ç”¨å‰ç¼€ç´¢å¼•èŠ‚çœç©ºé—´ã€‚</li>
</ul>
<p>æŸ¥è¯¢ä¼˜åŒ–ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸å¥½çš„å†™æ³•ï¼šä½¿ç”¨ORå¯¼è‡´å…¨è¡¨æ‰«æ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'alice'</span> <span class="hljs-keyword">OR</span> phone <span class="hljs-operator">=</span> <span class="hljs-string">'123456'</span>;

<span class="hljs-comment">-- ä¼˜åŒ–å†™æ³•ï¼šä½¿ç”¨UNIONæ›¿ä»£OR</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'alice'</span> 
<span class="hljs-keyword">UNION</span> 
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> phone <span class="hljs-operator">=</span> <span class="hljs-string">'123456'</span>;

<span class="hljs-comment">-- åˆ›å»ºè¦†ç›–ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_name_age <span class="hljs-keyword">ON</span> users(name, age);
<span class="hljs-keyword">SELECT</span> name, age <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'alice'</span>; <span class="hljs-comment">-- æ— éœ€å›è¡¨</span>
</code></pre>
<h3 data-id="heading-11">3.3 åˆ†å¸ƒå¼äº‹åŠ¡ä¼˜åŒ–</h3>
<p>TiDBé€šè¿‡ä»¥ä¸‹æœºåˆ¶ä¼˜åŒ–åˆ†å¸ƒå¼äº‹åŠ¡æ€§èƒ½ï¼š</p>
<ul>
<li><strong>å¼‚æ­¥æäº¤ï¼ˆAsync Commitï¼‰</strong> ï¼šTiDB 5.0çš„Async Commitç‰¹æ€§åœ¨äº‹åŠ¡æäº¤çš„ç¬¬äºŒé˜¶æ®µå®ç°å¼‚æ­¥æäº¤ï¼Œå¯¹äºå°äº‹åŠ¡è¾¾åˆ°ç±»ä¼¼1PCçš„æ•ˆæœï¼Œå‡å°‘ç½‘ç»œå¾€è¿”ã€‚</li>
<li><strong>æ‚²è§‚äº‹åŠ¡æ¨¡å¼</strong>ï¼šé«˜å†²çªåœºæ™¯ä¸‹ä½¿ç”¨æ‚²è§‚äº‹åŠ¡æ¨¡å¼ï¼Œå‡å°‘äº‹åŠ¡é‡è¯•å¼€é”€ã€‚</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä½¿ç”¨æ‰¹é‡æ’å…¥ä»£æ›¿å•æ¡æ’å…¥ï¼Œæ˜¾è‘—æå‡ååé‡ã€‚</li>
</ul>
<p>Javaåº”ç”¨ä¸­ä½¿ç”¨æ‚²è§‚äº‹åŠ¡çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// Javaåº”ç”¨ä½¿ç”¨æ‚²è§‚äº‹åŠ¡</span>
try (Connection conn = ds.getConnection()) {
    conn<span class="hljs-selector-class">.setAutoCommit</span>(false);
    <span class="hljs-comment">// å¼€å¯æ‚²è§‚äº‹åŠ¡æ¨¡å¼</span>
    conn<span class="hljs-selector-class">.createStatement</span>()<span class="hljs-selector-class">.execute</span>("SET tidb_txn_mode = 'pessimistic'");
    
    <span class="hljs-comment">// å…ˆæŸ¥è¯¢åæ›´æ–°ï¼ˆå¸¦é”ï¼‰</span>
    ResultSet rs = conn<span class="hljs-selector-class">.createStatement</span>()<span class="hljs-selector-class">.executeQuery</span>(
        "SELECT balance FROM accounts WHERE id = <span class="hljs-number">1001</span> FOR UPDATE");
    
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å¤„ç†</span>
    BigDecimal newBalance = rs<span class="hljs-selector-class">.getBigDecimal</span>(<span class="hljs-number">1</span>)<span class="hljs-selector-class">.subtract</span>(amount);
    PreparedStatement ps = conn<span class="hljs-selector-class">.prepareStatement</span>(
        "UPDATE accounts SET balance = ? WHERE id = <span class="hljs-number">1001</span>");
    ps<span class="hljs-selector-class">.setBigDecimal</span>(<span class="hljs-number">1</span>, newBalance);
    ps<span class="hljs-selector-class">.executeUpdate</span>();
    conn<span class="hljs-selector-class">.commit</span>();
}
</code></pre>
<p>æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨æ‚²è§‚äº‹åŠ¡é¿å…é«˜å¹¶å‘ä¸‹çš„æ•°æ®ç«äº‰é—®é¢˜ã€‚</p>
<h3 data-id="heading-12">3.4 çƒ­ç‚¹é—®é¢˜å¤„ç†ä¸èµ„æºç®¡ç†</h3>
<p>TiDBé€šè¿‡å¤šç§æœºåˆ¶å¤„ç†çƒ­ç‚¹é—®é¢˜ï¼š</p>
<ul>
<li><strong>AUTO_RANDOM</strong>ï¼šä½¿ç”¨AUTO_RANDOMä»£æ›¿AUTO_INCREMENTæ¥åˆ†é…ä¸»é”®ï¼Œé¿å…å•è°ƒé€’å¢ä¸»é”®å¯¼è‡´çš„å†™çƒ­ç‚¹ã€‚</li>
<li><strong>SHARD_ROW_ID_BITS</strong>ï¼šé€šè¿‡è¡Œå·åˆ†ç‰‡åˆ†æ•£çƒ­ç‚¹ã€‚</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šå¯¹é¢‘ç¹è®¿é—®çš„å°è¡¨æ•°æ®ä½¿ç”¨TiDBå†…ç½®ç¼“å­˜æˆ–åº”ç”¨å±‚ç¼“å­˜ï¼ˆå¦‚Redisï¼‰ã€‚</li>
</ul>
<p>èµ„æºéš”ç¦»é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># tidb-serverèµ„æºæ§åˆ¶é…ç½®</span>
<span class="hljs-attr">resource-control:</span>
  <span class="hljs-attr">request-unit:</span>
    <span class="hljs-comment"># é™åˆ¶OLTPè´Ÿè½½</span>
    <span class="hljs-attr">oltp:</span>
      <span class="hljs-attr">max-tasks:</span> <span class="hljs-number">500</span>
      <span class="hljs-attr">cpu-time-per-sec:</span> <span class="hljs-number">0.8</span>
    <span class="hljs-comment"># ä¿éšœOLAPèµ„æº</span>
    <span class="hljs-attr">olap:</span>
      <span class="hljs-attr">min-tasks:</span> <span class="hljs-number">200</span>
      <span class="hljs-attr">cpu-time-per-sec:</span> <span class="hljs-number">1.2</span>
</code></pre>
<p>æ­¤é…ç½®ç¡®ä¿OLAPæŸ¥è¯¢ä¸ä¼šå½±å“OLTPäº‹åŠ¡çš„æ€§èƒ½ã€‚</p>
<h2 data-id="heading-13">4 éƒ¨ç½²æ¶æ„ä¸è¿ç»´å®è·µ</h2>
<h3 data-id="heading-14">4.1 é«˜å¯ç”¨æ¶æ„è®¾è®¡</h3>
<p>TiDBæä¾›é‡‘èçº§é«˜å¯ç”¨ä¿éšœï¼Œé€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°ï¼š</p>
<ul>
<li><strong>å¤šå‰¯æœ¬æœºåˆ¶</strong>ï¼šæ•°æ®é»˜è®¤ä¿å­˜3å‰¯æœ¬ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„æ•…éšœåŸŸã€‚</li>
<li><strong>è‡ªåŠ¨æ•…éšœè½¬ç§»</strong>ï¼šå°‘æ•°èŠ‚ç‚¹æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚</li>
<li><strong>è·¨æ•°æ®ä¸­å¿ƒéƒ¨ç½²</strong>ï¼šæ”¯æŒåŒåŸä¸‰ä¸­å¿ƒã€ä¸¤åœ°ä¸‰ä¸­å¿ƒç­‰éƒ¨ç½²æ¨¡å¼ï¼Œä¿è¯ä¸šåŠ¡è¿ç»­æ€§ã€‚</li>
</ul>
<p>è·¨æ•°æ®ä¸­å¿ƒéƒ¨ç½²ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">RegionA (ä¸»ä¸­å¿ƒ)         <span class="hljs-built_in">RegionB</span>(ç¾å¤‡ä¸­å¿ƒ)
â”œâ”€â”€ <span class="hljs-number">3</span> PDèŠ‚ç‚¹ï¼ˆå¤šæ•°æ´¾ï¼‰    â”œâ”€â”€ <span class="hljs-number">2</span> PD Learner
â”œâ”€â”€ <span class="hljs-number">10</span> TiKVèŠ‚ç‚¹ï¼ˆæ ‡ç­¾zone=<span class="hljs-selector-tag">a</span>ï¼‰ â”œâ”€â”€ <span class="hljs-number">5</span> TiKVèŠ‚ç‚¹ï¼ˆæ ‡ç­¾zone=<span class="hljs-selector-tag">b</span>ï¼‰
â””â”€â”€ <span class="hljs-number">2</span> TiDBèŠ‚ç‚¹          â””â”€â”€ <span class="hljs-number">1</span> TiDBèŠ‚ç‚¹
</code></pre>
<p>æ­¤æ‹“æ‰‘ç¡®ä¿å•ä¸ªæ•°æ®ä¸­å¿ƒæ•…éšœæ—¶æœåŠ¡ä»ç„¶å¯ç”¨ã€‚</p>
<h3 data-id="heading-15">4.2 ç›‘æ§ä¸å‘Šè­¦ä½“ç³»</h3>
<p>TiDBé›†æˆäº†Prometheuså’ŒGrafanaæ„å»ºå®Œæ•´çš„ç›‘æ§ä½“ç³»ï¼Œå…³é”®ç›‘æ§æŒ‡æ ‡åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é›†ç¾¤æ¦‚è§ˆ</strong>ï¼šQPSã€å»¶è¿Ÿã€è¿æ¥æ•°ç­‰æ ¸å¿ƒæŒ‡æ ‡</li>
<li><strong>TiDBæ€§èƒ½</strong>ï¼šæŸ¥è¯¢è€—æ—¶ã€æ‰§è¡Œæ—¶é—´ã€æ…¢æŸ¥è¯¢åˆ†æ</li>
<li><strong>TiKVçŠ¶æ€</strong>ï¼šCPUã€IOè´Ÿè½½ã€Regionå¥åº·çŠ¶æ€ã€è°ƒåº¦æ“ä½œ</li>
<li><strong>PDè°ƒåº¦</strong>ï¼šBalanceæ“ä½œã€çƒ­ç‚¹åˆ†å¸ƒã€è°ƒåº¦é˜Ÿåˆ—</li>
</ul>
<p>é€šè¿‡è®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼Œå¯ä»¥åŠæ—¶å‘ç°å¹¶å¤„ç†æ½œåœ¨é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå½“å‡ºç°"server is busy"æˆ–"channel full"é”™è¯¯æ—¶ï¼Œé€šå¸¸æ„å‘³ç€ç³»ç»Ÿå·²è¾¾ç“¶é¢ˆï¼Œéœ€è¦æ‰©å®¹æˆ–ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-16">4.3 å¤‡ä»½ä¸æ¢å¤ç­–ç•¥</h3>
<p>TiDBæä¾›å¤šç§æ•°æ®ä¿æŠ¤æœºåˆ¶ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨å¤‡ä»½</strong>ï¼šæ”¯æŒå…¨é‡å’Œå¢é‡å¤‡ä»½ï¼Œå¯å°†æ•°æ®å¤‡ä»½åˆ°å¯¹è±¡å­˜å‚¨ã€‚</li>
<li><strong>æ—¶é—´ç‚¹æ¢å¤ï¼ˆPITRï¼‰</strong> ï¼šæ”¯æŒç²¾ç¡®åˆ°ç§’çº§çš„æ•°æ®æ¢å¤ã€‚</li>
<li><strong>å¼‚åœ°å®¹ç¾</strong>ï¼šé€šè¿‡TiCDCå°†æ•°æ®åŒæ­¥åˆ°å¼‚åœ°é›†ç¾¤ï¼Œå®ç°å®¹ç¾ã€‚</li>
</ul>
<p>å¤‡ä»½ç­–ç•¥ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"># ä½¿ç”¨BRè¿›è¡Œå…¨é‡å¤‡ä»½
br backup <span class="hljs-keyword">full</span> \
    <span class="hljs-comment">--pd "&lt;pd-addresses&gt;" \</span>
    <span class="hljs-comment">--storage "s3://backup-data/backup-2023" \</span>
    <span class="hljs-comment">--ratelimit 128</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS åº”ç”¨ä¿æŠ¤å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä»æ”»å‡»é¢æ‹†è§£åˆ°å·¥å…·èŒè´£åˆ’åˆ†çš„å…¨é“¾è·¯å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582519152566714383</link>    <guid>https://juejin.cn/post/7582519152566714383</guid>    <pubDate>2025-12-12T07:00:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582519152566714383" data-draft-id="7582519152566697999" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åº”ç”¨ä¿æŠ¤å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä»æ”»å‡»é¢æ‹†è§£åˆ°å·¥å…·èŒè´£åˆ’åˆ†çš„å…¨é“¾è·¯å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T07:00:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åº”ç”¨ä¿æŠ¤å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä»æ”»å‡»é¢æ‹†è§£åˆ°å·¥å…·èŒè´£åˆ’åˆ†çš„å…¨é“¾è·¯å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:00:24.000Z" title="Fri Dec 12 2025 07:00:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨å®‰å…¨é¢†åŸŸï¼Œâ€œiOS åº”ç”¨ä¿æŠ¤â€å¬èµ·æ¥åƒæ˜¯ä¸€ä¸ªå•ä¸€ä»»åŠ¡ï¼Œä½†çœŸæ­£è½åœ°æ—¶ä½ ä¼šå‘ç°â€”â€”å®ƒå¹¶ä¸æ˜¯é æŸä¸ªè½¯ä»¶å°±èƒ½ä¸€åŠ³æ°¸é€¸çš„ã€‚</p>
<p>ä¿æŠ¤ iOS åº”ç”¨çš„è¿‡ç¨‹æ›´åƒæ˜¯åœ¨ç»´æŠ¤ä¸€å¥—å¤æ‚çš„å·¥ç¨‹ç³»ç»Ÿï¼Œéœ€è¦å¤šä¸ªç±»å‹çš„å·¥å…·ååŒï¼Œè¦†ç›–å¤šä¸ªæ”»å‡»å…¥å£ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç¬¦å·æ³„éœ²</li>
<li>JS / JSON / é…ç½®æ–‡ä»¶æ˜æ–‡</li>
<li>èµ„æºå¯æ›¿æ¢</li>
<li>IPA å¯é‡ç­¾å</li>
<li>è¿è¡Œæ—¶ Hook</li>
<li>è¶Šç‹±ç¯å¢ƒç»•è¿‡</li>
<li>åŠ¨æ€è°ƒè¯•</li>
<li>é€†å‘åˆ†æ</li>
</ul>
<p>å› æ­¤ï¼Œâ€œiOS åº”ç”¨ä¿æŠ¤å·¥å…·â€å¹¶ä¸æ˜¯æ¯”è°å¼ºï¼Œè€Œæ˜¯æ¯”è°èƒ½è¦†ç›–æ›´å¤šç¯èŠ‚ã€é…åˆå¾—æ›´é¡ºã€å·¥ç¨‹åŒ–æ›´å®¹æ˜“ã€‚</p>
<p>æœ¬æ–‡å°†ä»æ”»å‡»é¢æ‹†è§£å¼€å§‹ï¼Œå†åˆ°å·¥å…·çŸ©é˜µä¸èŒè´£åˆ’åˆ†ï¼Œæœ€åç»™å‡ºä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–å·¥ç¨‹æ–¹æ¡ˆï¼Œé€‚åˆ Swiftã€ObjCã€Flutterã€React Nativeã€Hybrid ç­‰å„ç±»é¡¹ç›®ä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…ˆçœ‹æ”»å‡»è€…èƒ½çªç ´å“ªäº›ç‚¹ï¼ˆæ”»å‡»é¢æ‹†è§£ï¼‰</h2>
<p>æ”»å‡»è·¯å¾„æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ä¿æŠ¤å·¥å…·å¾€å¾€ä¹Ÿæ˜¯å¯¹è¿™äº›å…¥å£è¿›è¡Œé˜»æ–­ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>â‘  è·å– IPAï¼ˆé€šè¿‡ App Store / ä¼ä¸šåŒ… / é‡ç­¾åŒ… / ç½‘ç»œæ³„éœ²ï¼‰</strong></h2>
<p>è¿™æ„å‘³ç€ï¼š
ä½ çš„å®Œæ•´å¯æ‰§è¡Œæ–‡ä»¶å’Œæ‰€æœ‰èµ„æºéƒ½æš´éœ²åœ¨æ”»å‡»è€…æ‰‹ä¸­ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>â‘¡ é™æ€é€†å‘åˆ†æ</strong></h2>
<p>æ”»å‡»è€…ä¼šä½¿ç”¨ï¼š</p>

























<table><thead><tr><th>å·¥å…·</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>class-dump</td><td>å¯¼å‡º ObjC ç¬¦å·</td></tr><tr><td>swift-dump</td><td>å¯¼å‡º Swift ç¬¦å·</td></tr><tr><td>Hopper / IDA</td><td>åç¼–è¯‘ä»£ç </td></tr><tr><td>MobSF</td><td>è¯†åˆ«å®‰å…¨é£é™©</td></tr></tbody></table>
<p>åªè¦ç¬¦å·å¯è¯»ï¼Œé€†å‘é—¨æ§›å°±å¾ˆä½ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>â‘¢ ä¿®æ”¹èµ„æºä¸ JS/H5 é€»è¾‘</strong></h2>
<p>æ”»å‡»è€…ä¼šç›´æ¥æ›¿æ¢ï¼š</p>
<ul>
<li>JSON é…ç½®</li>
<li>JS æ–‡ä»¶ï¼ˆHybridã€RNã€å°æ¸¸æˆã€WebViewï¼‰</li>
<li>å›¾ç‰‡å’Œ UI</li>
<li>ä¿¡æ¯è¡¨ / é…ç½®è¡¨</li>
</ul>
<p>è¿™æ˜¯æœ€å¸¸è§çš„ç ´è§£å…¥å£ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>â‘£ ä¿®æ”¹äºŒè¿›åˆ¶è¿›è¡Œé€»è¾‘ç»•è¿‡</strong></h2>
<p>å¸¸è§è¡Œä¸ºï¼š</p>
<ul>
<li>Patch æ ¡éªŒ</li>
<li>ç»•è¿‡ä¼šå‘˜ / æ”¯ä»˜åˆ¤æ–­</li>
<li>ç§»é™¤å¹¿å‘Š</li>
<li>ä¿®æ”¹æ¸¸æˆæ•°å€¼</li>
</ul>
<hr/>
<h2 data-id="heading-5"><strong>â‘¤ é‡ç­¾ IPA å¹¶é‡æ–°å‘å¸ƒ</strong></h2>
<p>å·¥å…·å¦‚ kxsign å¯è½»æ¾é‡ç­¾ã€‚</p>
<p>å¦‚æœ App æ²¡æœ‰å®Œæ•´æ€§ä¿æŠ¤ï¼Œç ´è§£è€…å³å¯å®Œæˆæ•´ä¸ªé“¾è·¯ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€iOS åº”ç”¨ä¿æŠ¤å·¥å…·çš„åˆ†ç±»ä¸èŒè´£åˆ’åˆ†</h2>
<p>ä¸åˆç†çš„é€‰å‹ä¼šé€ æˆå·¥å…·é‡å¤ã€ä¿æŠ¤ç¼ºå¤±ã€å·¥ç¨‹éš¾ç»´æŠ¤ã€‚</p>
<p>åˆç†çš„å·¥å…·ä½“ç³»åº”è¯¥å¦‚ä¸‹ï¼š</p>
<hr/>
<h2 data-id="heading-7">ç¬¬ä¸€ç±»ï¼šæºç çº§ä¿æŠ¤å·¥å…·ï¼ˆæœ‰æºç æ—¶å¯é€‰ï¼‰</h2>
<p>é€‚ç”¨ Swift / ObjC å·¥ç¨‹ã€‚</p>
<h3 data-id="heading-8"><strong>Swift Shield</strong></h3>
<ul>
<li>æ··æ·† Swift æ–¹æ³•ã€ç±»å</li>
<li>ä¿®æ”¹å¯è§æ€§</li>
<li>é™ä½ç»“æ„å¯è¯»æ€§</li>
</ul>
<h3 data-id="heading-9"><strong>obfuscator-llvm</strong></h3>
<ul>
<li>æ·±åº¦æ··æ·†ï¼ˆæ§åˆ¶æµã€å­—ç¬¦ä¸²åŠ å¯†ï¼‰</li>
<li>ç¼–è¯‘é“¾çº§åˆ«ï¼Œå¼ºåº¦é«˜ä½†æˆæœ¬é«˜</li>
</ul>
<p>è¿™ç±»å·¥å…·çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è¦†ç›–æºç ï¼Œä½†æ— æ³•ä¿æŠ¤ç”Ÿæˆçš„ IPA ä¸­çš„èµ„æºæ–‡ä»¶</li>
<li>å¿…é¡»æœ‰æºç æ‰èƒ½ç”¨</li>
</ul>
<hr/>
<h2 data-id="heading-10">ç¬¬äºŒç±»ï¼šIPA å±‚ä¿æŠ¤å·¥å…·ï¼ˆæœ€é€šç”¨ä¸”æœ€é‡è¦ï¼‰</h2>
<p>é€‚ç”¨ï¼š</p>
<ul>
<li>Swift/ObjC å·¥ç¨‹</li>
<li>Flutter</li>
<li>React Native</li>
<li>H5 / Hybrid</li>
<li>æ— æºç å·¥ç¨‹</li>
<li>å¤–åŒ…äº§ç‰©</li>
<li>ç¬¬ä¸‰æ–¹ SDK</li>
</ul>
<p>ä»£è¡¨å·¥å…·ï¼š</p>
<hr/>
<h2 data-id="heading-11"><strong>Ipa Guardï¼ˆæ”¯æŒå‘½ä»¤è¡Œï¼‰</strong></h2>
<p>IPA å±‚å·¥å…·é€šå¸¸å…·å¤‡ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<h3 data-id="heading-12"><strong>1ï¼‰æ— éœ€æºç å³å¯æ··æ·†ç¬¦å·</strong></h3>
<ul>
<li>Swift åç§°</li>
<li>ObjC selector</li>
<li>æ–¹æ³•åã€å˜é‡åã€ç±»å</li>
</ul>
<h3 data-id="heading-13"><strong>2ï¼‰èµ„æºæ··æ·†ä¸é˜²æ›¿æ¢ä¿æŠ¤</strong></h3>
<ul>
<li>ä¿®æ”¹èµ„æºæ–‡ä»¶åç§°</li>
<li>æ‰°åŠ¨èµ„æºè·¯å¾„</li>
<li>ä¿®æ”¹ MD5 é˜²æ­¢ç”¨åŒåèµ„æºæ›¿æ¢</li>
<li>æ··æ·† jsï¼ˆé€‚åˆ H5 / RN / Hybridï¼‰</li>
</ul>
<p>è¿™ç‚¹å¯¹ä¿æŠ¤ Flutter/RN åº”ç”¨å°¤å…¶å…³é”®ã€‚</p>
<h3 data-id="heading-14"><strong>3ï¼‰IPA é‡æ„ï¼Œè®©äºŒæ¬¡æ‰“åŒ…éš¾åº¦å¢å¤§</strong></h3>
<h3 data-id="heading-15"><strong>4ï¼‰æ”¯æŒå‘½ä»¤è¡Œï¼Œå¯æ¥å…¥ CI/CD</strong></h3>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli parse app.ipa -o sym.json
ipaguard_cli protect app.ipa -c sym.json --image --js -o protected.ipa
</code></pre>
<p>è¿™æ˜¯ iOS åŠ å›ºä¸­æœ€å¸¸è§ã€è¦†ç›–é¢æœ€å¹¿çš„ä¸€ç±»å·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-16">ç¬¬ä¸‰ç±»ï¼šç­¾åä¸å®‰è£…éªŒè¯å·¥å…·</h2>
<p>ç”¨äºéªŒè¯åŠ å›ºåçš„ IPA æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p>
<h3 data-id="heading-17"><strong>kxsign</strong></h3>
<ul>
<li>é‡ç­¾ IPA</li>
<li>å®‰è£…åˆ°çœŸæœº</li>
<li>ç”¨äºå‡†å¤‡å®¡æ ¸åŒ…æˆ–æµ‹è¯•åŒ…</li>
</ul>
<p>å®ƒä¸æ˜¯åŠ å›ºå·¥å…·ï¼Œä½†åœ¨åŠ å›ºæµç¨‹ä¸­ä¸å¯ç¼ºå¤±ã€‚</p>
<hr/>
<h2 data-id="heading-18">ç¬¬å››ç±»ï¼šè¿è¡Œæ—¶é˜²æŠ¤å·¥å…·ï¼ˆä»£ç å±‚å®ç°ï¼‰</h2>
<p>é€šè¿‡è‡ªç ”ä»£ç æˆ–å®‰å…¨ SDK æä¾›ï¼š</p>
<ul>
<li>é˜²è°ƒè¯•</li>
<li>é˜²è¶Šç‹±</li>
<li>å®Œæ•´æ€§æ ¡éªŒ</li>
<li>åŠ¨æ€å Hook</li>
<li>æ£€æŸ¥å¯ç–‘æ³¨å…¥</li>
</ul>
<p>è¿™ç±»é€šå¸¸éœ€è¦å·¥ç¨‹å¸ˆé…åˆä¸šåŠ¡é€»è¾‘è®¾è®¡ã€‚</p>
<hr/>
<h2 data-id="heading-19">ä¸‰ã€å°†å¤šä¸ªå·¥å…·ç»„åˆæˆå¯çœŸæ­£è½åœ°çš„é˜²æŠ¤ä½“ç³»</h2>
<p>å•ä¸€å·¥å…·è§£å†³ä¸äº†æ•´ä½“å®‰å…¨é—®é¢˜ï¼Œå¿…é¡»æ„å»ºå¤šå±‚ä½“ç³»ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆç†Ÿç§»åŠ¨å›¢é˜Ÿå¸¸ç”¨çš„ç»“æ„ï¼š</p>
<hr/>
<h2 data-id="heading-20"><strong>Layer 1ï¼šç¬¦å·ä¿æŠ¤å±‚ï¼ˆç»“æ„éšè—ï¼‰</strong></h2>
<p>ç›®æ ‡ï¼š
è®©é€†å‘è€…æ— æ³•è½»æ˜“è¯»æ‡‚ç³»ç»Ÿç»“æ„ã€‚</p>
<p>å·¥å…·ç»„åˆï¼š</p>
<ul>
<li>Swift Shieldï¼ˆå¦‚æœ‰æºç ï¼‰</li>
<li>Ipa Guardï¼ˆIPA å±‚ç¬¦å·æ··æ·†ï¼‰</li>
</ul>
<p>æ··æ·†åçš„ç±»åå¯èƒ½å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">_A3F9Controller
_B12FModel
_C7AFunction
</code></pre>
<p>é€†å‘éš¾åº¦æ˜¾è‘—æå‡ã€‚</p>
<hr/>
<h2 data-id="heading-21"><strong>Layer 2ï¼šèµ„æºä¿æŠ¤å±‚ï¼ˆé˜²ç¯¡æ”¹ï¼‰</strong></h2>
<p>ç›®æ ‡ï¼š
è®©æ”»å‡»è€…æ— æ³•é€šè¿‡æ›¿æ¢èµ„æºæ¥é‡å†™åº”ç”¨è¡Œä¸ºã€‚</p>
<p>å·¥å…·ï¼š
<strong>Ipa Guard CLI</strong></p>
<p>èƒ½åŠ›ï¼š</p>
<ul>
<li>ä¿®æ”¹ PNG / JSON / JS / HTML åç§°</li>
<li>æ‰°åŠ¨è·¯å¾„</li>
<li>ä¿®æ”¹ MD5ï¼ˆæ›¿æ¢èµ„æºå³å´©æºƒï¼‰</li>
</ul>
<p>è¿™æ˜¯ç ´è§£é“¾è·¯ä¸­æœ€å…³é”®çš„é˜»æ–­ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-22"><strong>Layer 3ï¼šè¿è¡Œæ—¶ä¿æŠ¤å±‚</strong></h2>
<p>å·¥ç¨‹å†…å®ç°ï¼š</p>
<ul>
<li>å®Œæ•´æ€§æ ¡éªŒ</li>
<li>Hook æ£€æµ‹</li>
<li>è¶Šç‹±æ£€æµ‹</li>
<li>ç¯å¢ƒæ£€æµ‹ï¼ˆæ¨¡æ‹Ÿå™¨ / è¶Šç‹±æ’ä»¶ï¼‰</li>
</ul>
<p>é…åˆèµ„æºä¿æŠ¤æ•ˆæœæ›´å¥½ã€‚</p>
<hr/>
<h2 data-id="heading-23"><strong>Layer 4ï¼šIPA å±‚ç»“æ„ä¿æŠ¤ä¸éªŒè¯</strong></h2>
<p>å·¥å…·ç»„åˆï¼š</p>
<ul>
<li>Ipa Guardï¼ˆç»“æ„æ‰°åŠ¨ï¼‰</li>
<li>kxsignï¼ˆé‡ç­¾ã€éªŒè¯ã€çœŸæœºå®‰è£…ï¼‰</li>
</ul>
<p>æµç¨‹ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">kxsign sign <span class="hljs-keyword">protected</span>.ipa -c cert.p12 -p pass -m dev.mobileprovision -z <span class="hljs-type">signed</span>.ipa -i
</code></pre>
<hr/>
<h2 data-id="heading-24">å››ã€åœºæ™¯åŒ–æ¡ˆä¾‹ï¼šä¸åŒç±»å‹ App ä½¿ç”¨å“ªäº›å·¥å…·ç»„åˆï¼Ÿ</h2>
<hr/>
<h2 data-id="heading-25"><strong>â‘  Swift åŸç”Ÿé¡¹ç›®</strong></h2>
<p>æ¨èç»„åˆï¼š</p>
<ul>
<li>Swift Shieldï¼ˆæºç å±‚ï¼‰</li>
<li>Ipa Guardï¼ˆIPA å±‚ï¼‰</li>
<li>è‡ªç ”å®Œæ•´æ€§æ ¡éªŒ</li>
<li>Frida åè°ƒè¯•é€»è¾‘</li>
</ul>
<hr/>
<h2 data-id="heading-26"><strong>â‘¡ Flutter é¡¹ç›®</strong></h2>
<p>Flutter çš„èµ„æºå…¨éƒ¨æ˜æ–‡ï¼Œå› æ­¤ä¿æŠ¤é‡ç‚¹è¦æ”¾åœ¨ IPA å±‚ã€‚</p>
<p>æ¨èç»„åˆï¼š</p>
<ul>
<li>Ipa Guardï¼ˆflutter_assets èµ„æºä¿æŠ¤ + MD5ï¼‰</li>
<li>JS æ··æ·†ï¼ˆå¦‚ä½¿ç”¨ Hybridï¼‰</li>
<li>kxsign å®‰è£…æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-27"><strong>â‘¢ React Native é¡¹ç›®</strong></h2>
<p>RN çš„ jsbundle æ˜¯æœ€å¤§é£é™©ç‚¹ã€‚</p>
<p>æ¨èç»„åˆï¼š</p>
<ul>
<li>javascript-obfuscatorï¼ˆå‰ç«¯æ··æ·†ï¼‰</li>
<li>Ipa Guardï¼ˆbundle è·¯å¾„æ‰°åŠ¨ + MD5 é˜²æ›¿æ¢ï¼‰</li>
<li>Native å±‚ç¬¦å·æ··æ·†</li>
</ul>
<hr/>
<h2 data-id="heading-28"><strong>â‘£ H5 / Hybrid åº”ç”¨</strong></h2>
<p>éœ€ä¿æŠ¤ï¼š</p>
<ul>
<li>js</li>
<li>html</li>
<li>img</li>
<li>config.json</li>
</ul>
<p>æ¨èç»„åˆï¼š</p>
<ul>
<li>JS æ··æ·†å·¥å…·</li>
<li>Ipa Guardï¼ˆèµ„æºè·¯å¾„æ··æ·† + MD5 + JS æ··æ·†ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-29"><strong>â‘¤ æ— æºç çš„å†å²å·¥ç¨‹æˆ–å¤–éƒ¨ SDK é›†æˆ App</strong></h2>
<p>æ¨èç»„åˆï¼š</p>
<ul>
<li><strong>Ipa Guardï¼ˆä¸»åŠ›å·¥å…·ï¼Œæ— éœ€æºç ï¼‰</strong></li>
<li>kxsignï¼ˆé‡ç­¾ä¸å®‰è£…éªŒè¯ï¼‰</li>
</ul>
<p>IPA å±‚ä¿æŠ¤åŸºæœ¬èƒ½è¦†ç›– 80% å®‰å…¨éœ€æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-30">iOS åº”ç”¨ä¿æŠ¤å·¥å…·ä¸æ˜¯ã€Œç”¨å“ªä¸ªã€ï¼Œè€Œæ˜¯ã€Œç»„åˆå“ªäº›ã€</h2>
<p>æœ€ç»ˆæ¨èçš„å¤šå±‚å·¥å…·ä½“ç³»å¦‚ä¸‹ï¼š</p>
<h2 data-id="heading-31"><strong>ç¬¦å·ä¿æŠ¤å·¥å…·ï¼š</strong></h2>
<p>Swift Shield
obfuscator-llvm
<strong>Ipa Guard CLIï¼ˆæ ¸å¿ƒã€IPA å±‚ï¼‰</strong></p>
<h2 data-id="heading-32"><strong>èµ„æºä¿æŠ¤ä¸é˜²æ›¿æ¢å·¥å…·ï¼š</strong></h2>
<p>JS æ··æ·†å·¥å…·
<strong>Ipa Guard CLIï¼ˆè·¯å¾„æ‰°åŠ¨ + MD5 ä¿®æ”¹ï¼‰</strong></p>
<h2 data-id="heading-33"><strong>ç­¾åä¸éªŒè¯å·¥å…·ï¼š</strong></h2>
<p>kxsign
Jenkins / GitHub Actionsï¼ˆè‡ªåŠ¨åŒ–ï¼‰</p>
<h2 data-id="heading-34"><strong>é€†å‘éªŒè¯å·¥å…·ï¼š</strong></h2>
<p>Hopper
MobSF
Frida</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring æ¡†æ¶ä¸­ RequestContextHolder æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7582808491583406116</link>    <guid>https://juejin.cn/post/7582808491583406116</guid>    <pubDate>2025-12-12T07:25:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491583406116" data-draft-id="7582808491582242852" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring æ¡†æ¶ä¸­ RequestContextHolder æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Java,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-12T07:25:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/4443539294129722"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring æ¡†æ¶ä¸­ RequestContextHolder æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4443539294129722/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:25:03.000Z" title="Fri Dec 12 2025 07:25:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>RequestContextHolder æ˜¯ Spring æ¡†æ¶ä¸­<strong>æ ¸å¿ƒçš„è¯·æ±‚ä¸Šä¸‹æ–‡ç®¡ç†å·¥å…·ç±»</strong>ï¼Œæœ¬è´¨æ˜¯é€šè¿‡ <code>ThreadLocal</code> å°† HTTP è¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆ<code>HttpServletRequest</code>/<code>HttpServletResponse</code>/<code>Session</code> ç­‰ï¼‰ç»‘å®šåˆ°å½“å‰çº¿ç¨‹ï¼Œè§£å†³äº†é Web å±‚ï¼ˆå¦‚ Serviceã€Utilã€å¼‚æ­¥çº¿ç¨‹ï¼‰æ— æ³•ç›´æ¥è·å–è¯·æ±‚ä¸Šä¸‹æ–‡çš„é—®é¢˜ï¼Œæ˜¯ Spring MVC å®ç°å…¨é“¾è·¯ä¸Šä¸‹æ–‡ä¼ é€’çš„åŸºçŸ³ã€‚</p>
<p>æœ¬æ–‡ä»<strong>æ ¸å¿ƒä½œç”¨ã€å†…éƒ¨å®ç°ã€æ–¹æ³•è¯¦è§£ã€å®æˆ˜åœºæ™¯ã€é¿å‘æŒ‡å—</strong>äº”ä¸ªç»´åº¦å…¨é¢è§£æï¼Œè¦†ç›–å¼€å‘å…¨åœºæ™¯éœ€æ±‚ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€RequestContextHolder æ ¸å¿ƒå®šä½ä¸ä»·å€¼</h2>
<p>åœ¨ Spring MVC ä¸­ï¼Œ<code>HttpServletRequest</code>/<code>HttpServletResponse</code> ç­‰å¯¹è±¡é»˜è®¤ä»…èƒ½åœ¨ Controllerã€Filterã€Interceptor ç­‰ Web å±‚é€šè¿‡æ–¹æ³•å‚æ•°è·å–ï¼Œè€Œ Serviceã€Util ç­‰é Web å±‚æ— æ³•ç›´æ¥è®¿é—®ã€‚RequestContextHolder è§£å†³äº†è¿™ä¸€ç—›ç‚¹ï¼š</p>
<h3 data-id="heading-1">æ ¸å¿ƒä»·å€¼</h3>
<ol>
<li><strong>è§£è€¦ä¸Šä¸‹æ–‡è·å–</strong>ï¼šæ— éœ€é€šè¿‡æ–¹æ³•å‚æ•°ä¼ é€’ <code>request</code>ï¼Œé™ä½ä»£ç è€¦åˆï¼ˆå¦‚ Service å±‚æ— éœ€æ¥æ”¶ <code>request</code> å‚æ•°å³å¯è·å–ï¼‰ï¼›</li>
<li><strong>çº¿ç¨‹éš”ç¦»</strong>ï¼šåŸºäº <code>ThreadLocal</code> å®ç°ï¼Œä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸ä¸²ç”¨ï¼›</li>
<li><strong>å­çº¿ç¨‹ç»§æ‰¿</strong>ï¼šæ”¯æŒ <code>InheritableThreadLocal</code>ï¼Œæ»¡è¶³å¼‚æ­¥/å¤šçº¿ç¨‹åœºæ™¯çš„ä¸Šä¸‹æ–‡ä¼ é€’ï¼›</li>
<li><strong>æ”¯æ’‘æ¡†æ¶æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šSpring MVC çš„ <code>RequestMappingHandlerAdapter</code>ã€<code>SessionAttributesHandler</code>ã€<code>@RequestParam</code> è§£æå™¨ç­‰æ ¸å¿ƒç»„ä»¶å‡ä¾èµ–å®ƒè·å–ä¸Šä¸‹æ–‡ï¼›</li>
<li><strong>å…¼å®¹é Web åœºæ™¯</strong>ï¼šæä¾›éç©ºåˆ¤æ–­æœºåˆ¶ï¼Œé¿å…å®šæ—¶ä»»åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰é Web åœºæ™¯çš„ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</li>
</ol>
<h2 data-id="heading-2">äºŒã€RequestContextHolder å†…éƒ¨å®ç°åŸç†</h2>
<h3 data-id="heading-3">1. åº•å±‚å­˜å‚¨ï¼šThreadLocal åŒå®¹å™¨è®¾è®¡</h3>
<p>RequestContextHolder å†…éƒ¨ç»´æŠ¤ä¸¤ä¸ªé™æ€ <code>ThreadLocal</code> å®¹å™¨ï¼Œç”¨äºå­˜å‚¨è¯·æ±‚ä¸Šä¸‹æ–‡çš„å°è£…å¯¹è±¡ <code>RequestAttributes</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ™®é€šThreadLocalï¼šä»…å½“å‰çº¿ç¨‹å¯è§ï¼Œå­çº¿ç¨‹æ— æ³•ç»§æ‰¿</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;RequestAttributes&gt; requestAttributesHolder = 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">NamedThreadLocal</span>&lt;&gt;(<span class="hljs-string">"Request attributes"</span>);

<span class="hljs-comment">// å¯ç»§æ‰¿ThreadLocalï¼šå­çº¿ç¨‹åˆ›å»ºæ—¶è‡ªåŠ¨ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;RequestAttributes&gt; inheritableRequestAttributesHolder = 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">NamedInheritableThreadLocal</span>&lt;&gt;(<span class="hljs-string">"Request context"</span>);
</code></pre>
<ul>
<li><code>NamedThreadLocal</code>/<code>NamedInheritableThreadLocal</code>ï¼šæ˜¯ Spring å¯¹ <code>ThreadLocal</code> çš„æ‰©å±•ï¼Œä»…å¢åŠ äº†â€œçº¿ç¨‹åç§°â€å±æ€§ï¼Œä¾¿äºè°ƒè¯•ï¼ˆå¦‚æ‰“å° ThreadLocal åç§°å®šä½é—®é¢˜ï¼‰ï¼›</li>
<li>åŒå®¹å™¨è®¾è®¡ï¼šåŒºåˆ†â€œæ˜¯å¦å…è®¸å­çº¿ç¨‹ç»§æ‰¿â€ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„ä¸Šä¸‹æ–‡ä¼ é€’éœ€æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-4">2. æ ¸å¿ƒå°è£…ï¼šRequestAttributes æ¥å£</h3>
<p>RequestContextHolder ä¸ç›´æ¥å­˜å‚¨ <code>HttpServletRequest</code>ï¼Œè€Œæ˜¯å­˜å‚¨ <code>RequestAttributes</code> æ¥å£çš„å®ç°ç±»ï¼ˆæ ¸å¿ƒæ˜¯ <code>ServletRequestAttributes</code>ï¼‰ï¼Œè¿™æ˜¯ Spring å¯¹ Servlet ä¸Šä¸‹æ–‡çš„æŠ½è±¡ï¼Œè§£è€¦äº†å…·ä½“çš„ Servlet APIï¼Œä¾¿äºæ‰©å±•ï¼ˆå¦‚é€‚é…é Servlet ç¯å¢ƒï¼‰ã€‚</p>
<h4 data-id="heading-5">RequestAttributes æ ¸å¿ƒèƒ½åŠ›ï¼ˆæ¥å£æ–¹æ³•ï¼‰</h4>

































<table><thead><tr><th>æ–¹æ³•/å¸¸é‡</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>SCOPE_REQUEST</code></td><td>è¯·æ±‚çº§ä½œç”¨åŸŸï¼ˆå¯¹åº” <code>request.setAttribute</code>ï¼‰</td></tr><tr><td><code>SCOPE_SESSION</code></td><td>ä¼šè¯çº§ä½œç”¨åŸŸï¼ˆå¯¹åº” <code>session.setAttribute</code>ï¼‰</td></tr><tr><td><code>getAttribute(String name, int scope)</code></td><td>è·å–æŒ‡å®šä½œç”¨åŸŸçš„å±æ€§å€¼</td></tr><tr><td><code>setAttribute(String name, Object value, int scope)</code></td><td>è®¾ç½®æŒ‡å®šä½œç”¨åŸŸçš„å±æ€§å€¼</td></tr><tr><td><code>removeAttribute(String name, int scope)</code></td><td>ç§»é™¤æŒ‡å®šä½œç”¨åŸŸçš„å±æ€§å€¼</td></tr><tr><td><code>resolveReference(String key)</code></td><td>è§£æ Servlet åŸç”Ÿå¯¹è±¡ï¼ˆå¦‚ <code>REQUEST</code>/<code>RESPONSE</code>/<code>SESSION</code>ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-6">ServletRequestAttributesï¼ˆæ ¸å¿ƒå®ç°ç±»ï¼‰</h4>
<p>å°è£…äº† <code>HttpServletRequest</code>/<code>HttpServletResponse</code>/<code>HttpSession</code>ï¼Œæä¾›ä»¥ä¸‹å…³é”®æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–åŸç”ŸHttpServletRequest</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> HttpServletRequest <span class="hljs-title function_">getRequest</span><span class="hljs-params">()</span> { ... }
<span class="hljs-comment">// è·å–åŸç”ŸHttpServletResponse</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> HttpServletResponse <span class="hljs-title function_">getResponse</span><span class="hljs-params">()</span> { ... }
<span class="hljs-comment">// è·å–HttpSessionï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> HttpSession <span class="hljs-title function_">getSession</span><span class="hljs-params">()</span> { ... }
<span class="hljs-comment">// è·å–è¯·æ±‚å®Œæˆæ—¶é—´ï¼ˆç”¨äºæ¸…ç†ä¸Šä¸‹æ–‡ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">requestCompleted</span><span class="hljs-params">()</span> { ... }
</code></pre>
<h3 data-id="heading-7">3. ä¸Šä¸‹æ–‡ç»‘å®š/è§£ç»‘æµç¨‹ï¼ˆSpring MVC æ ¸å¿ƒï¼‰</h3>
<p>RequestContextHolder çš„ä¸Šä¸‹æ–‡å¹¶éè‡ªåŠ¨ç»‘å®šï¼Œè€Œæ˜¯ç”± Spring MVC çš„æ ¸å¿ƒå…¥å£ <code>DispatcherServlet</code> å®Œæˆï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb16aa2d178b4d7b87535c289023bdce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ou-5Y-B55qE5pG46bG85pel5bi4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766129103&amp;x-signature=W7tfj2y47So%2BHF9aJmr2i5kNtvI%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ç»‘å®šæ—¶æœºï¼š<code>DispatcherServlet#doDispatch</code> æ–¹æ³•å¼€å¤´ï¼›</li>
<li>è§£ç»‘æ—¶æœºï¼š<code>doDispatch</code> æ–¹æ³•çš„ <code>finally</code> å—ï¼ˆå¿…é¡»è§£ç»‘ï¼Œé¿å… ThreadLocal å†…å­˜æ³„æ¼ï¼‰ï¼›</li>
<li>ç»§æ‰¿æ€§æ§åˆ¶ï¼šç”± <code>spring.mvc.async.request-attributes-inheritable</code> é…ç½®ï¼ˆé»˜è®¤ falseï¼‰ï¼Œå†³å®šæ˜¯å¦ç»‘å®šåˆ°å¯ç»§æ‰¿çš„ ThreadLocalã€‚</li>
<li>æ ¸å¿ƒç±»/æ–¹æ³•ï¼š<code>org.springframework.web.servlet.FrameworkServlet#processRequest</code>ã€<code>org.springframework.web.servlet.FrameworkServlet#initContextHolders</code>ã€<code>org.springframework.web.servlet.FrameworkServlet#resetContextHolders</code></li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€RequestContextHolder æ‰€æœ‰æ–¹æ³•è¯¦è§£</h2>
<p>RequestContextHolder æä¾›çš„æ–¹æ³•å‡ä¸º <strong>public static</strong>ï¼ˆé™¤ä¿æŠ¤æ–¹æ³•å¤–ï¼‰ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»è§£æï¼š</p>
<h3 data-id="heading-9">1. ä¸Šä¸‹æ–‡è·å–æ–¹æ³•ï¼ˆæ ¸å¿ƒï¼‰</h3>
<h4 data-id="heading-10">(1) <code>getRequestAttributes()</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public static RequestAttributes getRequestAttributes()</code></li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šè·å–å½“å‰çº¿ç¨‹ç»‘å®šçš„ <code>RequestAttributes</code>ï¼Œæ— ç»‘å®šåˆ™è¿”å› <code>null</code>ï¼›</li>
<li><strong>åº•å±‚é€»è¾‘</strong>ï¼šå…ˆä» <code>requestAttributesHolder</code>ï¼ˆæ™®é€š ThreadLocalï¼‰è·å–ï¼Œè‹¥ä¸º null åˆ™ä» <code>inheritableRequestAttributesHolder</code> è·å–ï¼›</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šéå¼ºåˆ¶ä¾èµ–ä¸Šä¸‹æ–‡çš„åœºæ™¯ï¼ˆå¦‚æ—¥å¿—è®°å½•ï¼Œæ— ä¸Šä¸‹æ–‡åˆ™è·³è¿‡ï¼‰ï¼›</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getRequestIp</span><span class="hljs-params">()</span> {
    <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
    <span class="hljs-keyword">if</span> (attributes == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥IPï¼ˆéWebè¯·æ±‚ï¼‰"</span>;
    }
    <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) attributes).getRequest();
    <span class="hljs-keyword">return</span> request.getRemoteAddr();
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-11">(2) <code>currentRequestAttributes()</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public static RequestAttributes currentRequestAttributes() throws IllegalStateException</code></li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå¼ºåˆ¶è·å–ä¸Šä¸‹æ–‡ï¼Œæ— ç»‘å®šåˆ™æŠ›å‡º <code>IllegalStateException</code>ï¼ˆå¼‚å¸¸ä¿¡æ¯ï¼š<code>No thread-bound request found</code>ï¼‰ï¼›</li>
<li><strong>åº•å±‚é€»è¾‘</strong>ï¼šè°ƒç”¨ <code>getRequestAttributes()</code>ï¼Œè¿”å› null åˆ™æŠ›å¼‚å¸¸ï¼›</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¿…é¡»ä¾èµ–ä¸Šä¸‹æ–‡çš„åœºæ™¯ï¼ˆå¦‚æƒé™æ ¡éªŒã€ç§Ÿæˆ·éš”ç¦»ï¼‰ï¼Œæ— ä¸Šä¸‹æ–‡åˆ™ç»ˆæ­¢æµç¨‹ï¼›</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getCurrentTenantId</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æ— ä¸Šä¸‹æ–‡ç›´æ¥æŠ›å¼‚å¸¸ï¼Œé¿å…ç©ºæŒ‡é’ˆ</span>
    <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.currentRequestAttributes();
    <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) attributes).getRequest();
    <span class="hljs-type">String</span> <span class="hljs-variable">tenantId</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"Tenant-ID"</span>);
    <span class="hljs-keyword">if</span> (tenantId == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ç§Ÿæˆ·IDç¼ºå¤±"</span>);
    }
    <span class="hljs-keyword">return</span> tenantId;
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-12">2. ä¸Šä¸‹æ–‡ç»‘å®šæ–¹æ³•</h3>
<h4 data-id="heading-13">(1) <code>setRequestAttributes(RequestAttributes attributes)</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public static void setRequestAttributes(RequestAttributes attributes)</code></li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå°†ä¸Šä¸‹æ–‡ç»‘å®šåˆ°å½“å‰çº¿ç¨‹çš„ <strong>æ™®é€š ThreadLocal</strong>ï¼ˆå­çº¿ç¨‹æ— æ³•ç»§æ‰¿ï¼‰ï¼›</li>
<li><strong>åº•å±‚é€»è¾‘</strong>ï¼šè°ƒç”¨ <code>setRequestAttributes(attributes, false)</code>ï¼›</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šè‡ªå®šä¹‰ Servlet/Filter æ—¶æ‰‹åŠ¨ç»‘å®šä¸Šä¸‹æ–‡ï¼ˆæ— éœ€å­çº¿ç¨‹ç»§æ‰¿ï¼‰ï¼›</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰Filterä¸­æ‰‹åŠ¨ç»‘å®š</span>
<span class="hljs-meta">@WebFilter(urlPatterns = "/*")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException {
        <span class="hljs-type">ServletRequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRequestAttributes</span>((HttpServletRequest) request, (HttpServletResponse) response);
        RequestContextHolder.setRequestAttributes(attributes); <span class="hljs-comment">// ç»‘å®šåˆ°æ™®é€šThreadLocal</span>
        <span class="hljs-keyword">try</span> {
            chain.doFilter(request, response);
        } <span class="hljs-keyword">finally</span> {
            RequestContextHolder.resetRequestAttributes(); <span class="hljs-comment">// å¿…é¡»è§£ç»‘</span>
        }
    }
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-14">(2) <code>setRequestAttributes(RequestAttributes attributes, boolean inheritable)</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public static void setRequestAttributes(RequestAttributes attributes, boolean inheritable)</code></li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šç»‘å®šä¸Šä¸‹æ–‡ï¼ŒæŒ‡å®šæ˜¯å¦å…è®¸å­çº¿ç¨‹ç»§æ‰¿ï¼›
<ul>
<li><code>inheritable=true</code>ï¼šç»‘å®šåˆ° <code>inheritableRequestAttributesHolder</code>ï¼ˆå¯ç»§æ‰¿ ThreadLocalï¼‰ï¼›</li>
<li><code>inheritable=false</code>ï¼šç»‘å®šåˆ° <code>requestAttributesHolder</code>ï¼ˆæ™®é€š ThreadLocalï¼‰ï¼›</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¼‚æ­¥/å¤šçº¿ç¨‹åœºæ™¯ï¼ˆå¦‚å­çº¿ç¨‹éœ€è¦è·å–çˆ¶çº¿ç¨‹çš„è¯·æ±‚ä¸Šä¸‹æ–‡ï¼‰ï¼›</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// çˆ¶çº¿ç¨‹ç»‘å®šä¸Šä¸‹æ–‡å¹¶å…è®¸å­çº¿ç¨‹ç»§æ‰¿</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parentThread</span><span class="hljs-params">()</span> {
    <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ...; <span class="hljs-comment">// å‡è®¾å·²è·å–request</span>
    <span class="hljs-type">ServletRequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRequestAttributes</span>(request);
    RequestContextHolder.setRequestAttributes(attributes, <span class="hljs-literal">true</span>); <span class="hljs-comment">// å…è®¸ç»§æ‰¿</span>
    
    <span class="hljs-comment">// å­çº¿ç¨‹åˆ›å»ºæ—¶è‡ªåŠ¨ç»§æ‰¿ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attr</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
        System.out.println(attr != <span class="hljs-literal">null</span>); <span class="hljs-comment">// true</span>
    }).start();
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-15">3. ä¸Šä¸‹æ–‡é‡ç½®/æ¸…ç†æ–¹æ³•</h3>
<h4 data-id="heading-16"><code>resetRequestAttributes()</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>public static void resetRequestAttributes()</code></li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šæ¸…ç©ºå½“å‰çº¿ç¨‹çš„ä¸¤ä¸ª ThreadLocal å®¹å™¨ï¼ˆç§»é™¤ä¸Šä¸‹æ–‡ï¼‰ï¼›</li>
<li><strong>åº•å±‚é€»è¾‘</strong>ï¼šè°ƒç”¨ <code>requestAttributesHolder.remove()</code> + <code>inheritableRequestAttributesHolder.remove()</code>ï¼›</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šè‡ªå®šä¹‰ç»‘å®šä¸Šä¸‹æ–‡çš„åœºæ™¯ï¼ˆå¦‚ Filterã€å¼‚æ­¥çº¿ç¨‹ï¼‰ï¼Œå¿…é¡»åœ¨ <code>finally</code> å—è°ƒç”¨ï¼Œé¿å… ThreadLocal å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>å¼ºåˆ¶è¦æ±‚</strong>ï¼šSpring MVC è‡ªåŠ¨è°ƒç”¨ï¼Œä½†è‡ªå®šä¹‰åœºæ™¯ï¼ˆå¦‚æ‰‹åŠ¨ç»‘å®šï¼‰å¿…é¡»æ‰‹åŠ¨è°ƒç”¨ï¼</li>
</ul>
<h3 data-id="heading-17">4. ä¿æŠ¤æ–¹æ³•ï¼ˆæ¡†æ¶å†…éƒ¨ä½¿ç”¨ï¼Œå¼€å‘æå°‘ç”¨ï¼‰</h3>
<h4 data-id="heading-18">(1) <code>getRequestAttributesHolder()</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>protected static ThreadLocal&lt;RequestAttributes&gt; getRequestAttributesHolder()</code></li>
<li><strong>ä½œç”¨</strong>ï¼šè¿”å›æ™®é€š ThreadLocal å®¹å™¨ï¼Œä¾›å­ç±»æ‰©å±•ï¼ˆå¦‚è‡ªå®šä¹‰ RequestContextHolderï¼‰ï¼›</li>
</ul>
<h4 data-id="heading-19">(2) <code>getInheritableRequestAttributesHolder()</code></h4>
<ul>
<li><strong>æ–¹æ³•ç­¾å</strong>ï¼š<code>protected static ThreadLocal&lt;RequestAttributes&gt; getInheritableRequestAttributesHolder()</code></li>
<li><strong>ä½œç”¨</strong>ï¼šè¿”å›å¯ç»§æ‰¿çš„ ThreadLocal å®¹å™¨ï¼Œæ¡†æ¶å†…éƒ¨æ‰©å±•ä½¿ç”¨ã€‚</li>
</ul>
<h2 data-id="heading-20">å››ã€RequestContextHolder å®æˆ˜åº”ç”¨åœºæ™¯ï¼ˆè¯¦ç»†ï¼‰</h2>
<h3 data-id="heading-21">åœºæ™¯1ï¼šé Web å±‚ï¼ˆService/Utilï¼‰è·å–è¯·æ±‚ä¸Šä¸‹æ–‡</h3>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„åœºæ™¯ï¼Œè§£å†³ Serviceã€å·¥å…·ç±»ä¸­è·å– <code>request</code>/<code>response</code> çš„éœ€æ±‚ï¼Œå…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>è®°å½•æ“ä½œæ—¥å¿—ï¼šè·å–è¯·æ±‚ IPã€URLã€è¯·æ±‚å‚æ•°ã€ç”¨æˆ· Tokenï¼›</li>
<li>ä¸šåŠ¡é€»è¾‘ï¼šæ ¹æ®è¯·æ±‚å¤´ï¼ˆå¦‚ <code>Accept-Language</code>ï¼‰è¿”å›å¤šè¯­è¨€å†…å®¹ï¼›</li>
<li>æƒé™æ ¡éªŒï¼šåœ¨ Service å±‚æ ¡éªŒè¯·æ±‚å¤´ä¸­çš„ Token æœ‰æ•ˆæ€§ã€‚</li>
</ul>
<h4 data-id="heading-22">ç¤ºä¾‹ï¼šå…¨å±€æ“ä½œæ—¥å¿—å·¥å…·ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperateLogUtil</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OperateLogMapper logMapper;

    <span class="hljs-comment">/**
     * è®°å½•æ“ä½œæ—¥å¿—ï¼ˆè‡ªåŠ¨å¡«å……è¯·æ±‚ä¸Šä¸‹æ–‡ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveLog</span><span class="hljs-params">(String operateType, String content)</span> {
        <span class="hljs-type">OperateLog</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OperateLog</span>();
        log.setOperateType(operateType);
        log.setContent(content);
        log.setCreateTime(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());

        <span class="hljs-comment">// è·å–è¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆéWebåœºæ™¯å…¼å®¹ï¼‰</span>
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
        <span class="hljs-keyword">if</span> (attributes != <span class="hljs-literal">null</span>) {
            <span class="hljs-type">ServletRequestAttributes</span> <span class="hljs-variable">servletAttr</span> <span class="hljs-operator">=</span> (ServletRequestAttributes) attributes;
            <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> servletAttr.getRequest();
            <span class="hljs-comment">// å¡«å……è¯·æ±‚ä¿¡æ¯</span>
            log.setRequestIp(request.getRemoteAddr());
            log.setRequestUrl(request.getRequestURI());
            log.setRequestMethod(request.getMethod());
            log.setUserAgent(request.getHeader(<span class="hljs-string">"User-Agent"</span>));
            <span class="hljs-comment">// ä»Tokenè§£æç”¨æˆ·ID</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"Authorization"</span>);
            <span class="hljs-keyword">if</span> (token != <span class="hljs-literal">null</span>) {
                log.setOperateUserId(JwtUtil.parseUserId(token));
            }
        }

        logMapper.insert(log);
    }
}

<span class="hljs-comment">// Serviceä¸­è°ƒç”¨ï¼ˆæ— éœ€ä¼ é€’requestå‚æ•°ï¼‰</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OperateLogUtil logUtil;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(UserDTO dto)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        userMapper.updateById(dto);
        <span class="hljs-comment">// è®°å½•æ—¥å¿—ï¼ˆè‡ªåŠ¨è·å–è¯·æ±‚ä¸Šä¸‹æ–‡ï¼‰</span>
        logUtil.saveLog(<span class="hljs-string">"ä¿®æ”¹ç”¨æˆ·"</span>, <span class="hljs-string">"ç”¨æˆ·IDï¼š"</span> + dto.getId() + <span class="hljs-string">"ï¼Œå§“åï¼š"</span> + dto.getName());
    }
}
</code></pre>
<h3 data-id="heading-23">åœºæ™¯2ï¼šç»Ÿä¸€å¼‚å¸¸å¤„ç†ä¸­è¡¥å……è¯·æ±‚ä¿¡æ¯</h3>
<p>å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼ˆ<code>@RestControllerAdvice</code>ï¼‰ä¸­ï¼Œé€šè¿‡ RequestContextHolder è·å–è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œè®©å¼‚å¸¸æ—¥å¿—åŒ…å«è¯·æ±‚ä¿¡æ¯ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜ã€‚</p>
<h4 data-id="heading-24">ç¤ºä¾‹ï¼šå…¨å±€å¼‚å¸¸å¤„ç†å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(GlobalExceptionHandler.class);

    <span class="hljs-meta">@ExceptionHandler(BusinessException.class)</span>
    <span class="hljs-keyword">public</span> Result&lt;?&gt; handleBusinessException(BusinessException e) {
        <span class="hljs-comment">// æ„å»ºè¯·æ±‚ä¸Šä¸‹æ–‡ä¿¡æ¯</span>
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">requestInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
        <span class="hljs-keyword">if</span> (attributes != <span class="hljs-literal">null</span>) {
            <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) attributes).getRequest();
            requestInfo.append(<span class="hljs-string">"è¯·æ±‚URLï¼š"</span>).append(request.getRequestURI())
                       .append(<span class="hljs-string">" | è¯·æ±‚æ–¹æ³•ï¼š"</span>).append(request.getMethod())
                       .append(<span class="hljs-string">" | IPï¼š"</span>).append(request.getRemoteAddr())
                       .append(<span class="hljs-string">" | å‚æ•°ï¼š"</span>).append(JSON.toJSONString(request.getParameterMap()));
        } <span class="hljs-keyword">else</span> {
            requestInfo.append(<span class="hljs-string">"éWebè¯·æ±‚"</span>);
        }

        <span class="hljs-comment">// è®°å½•å¼‚å¸¸æ—¥å¿—ï¼ˆå«è¯·æ±‚ä¿¡æ¯ï¼‰</span>
        log.error(<span class="hljs-string">"ä¸šåŠ¡å¼‚å¸¸ï¼š{} | è¯·æ±‚ä¿¡æ¯ï¼š{}"</span>, e.getMessage(), requestInfo, e);
        <span class="hljs-comment">// è¿”å›ç»Ÿä¸€å“åº”</span>
        <span class="hljs-keyword">return</span> Result.fail(e.getCode(), e.getMessage());
    }
}
</code></pre>
<h3 data-id="heading-25">åœºæ™¯3ï¼šå¼‚æ­¥/å¤šçº¿ç¨‹åœºæ™¯ä¼ é€’ä¸Šä¸‹æ–‡</h3>
<p>Spring çš„ <code>@Async</code> å¼‚æ­¥æ–¹æ³•ã€çº¿ç¨‹æ± ä»»åŠ¡é»˜è®¤æ— æ³•ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ RequestContextHolder ä¸Šä¸‹æ–‡ï¼Œéœ€æ‰‹åŠ¨å¤„ç†ï¼Œå¦åˆ™å­çº¿ç¨‹è·å–çš„ä¸Šä¸‹æ–‡ä¸º nullã€‚</p>
<h4 data-id="heading-26">æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨ç»‘å®šï¼ˆé›¶æ•£å¼‚æ­¥åœºæ™¯ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncTaskService</span> {
    <span class="hljs-comment">/**
     * å¼‚æ­¥å¤„ç†è®¢å•ï¼ˆæ‰‹åŠ¨ä¼ é€’ä¸Šä¸‹æ–‡ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">asyncProcessOrder</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-comment">// 1. çˆ¶çº¿ç¨‹è·å–ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">parentAttr</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
        
        <span class="hljs-comment">// 2. å¼‚æ­¥ä»»åŠ¡ä¸­æ‰‹åŠ¨ç»‘å®š</span>
        CompletableFuture.runAsync(() -&gt; {
            <span class="hljs-comment">// ç»‘å®šåˆ°å½“å‰å¼‚æ­¥çº¿ç¨‹</span>
            RequestContextHolder.setRequestAttributes(parentAttr, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// å¼‚æ­¥çº¿ç¨‹ä¸­è·å–è¯·æ±‚ä¿¡æ¯</span>
                <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();
                log.info(<span class="hljs-string">"å¼‚æ­¥å¤„ç†è®¢å•{}ï¼Œè¯·æ±‚IPï¼š{}"</span>, orderId, request.getRemoteAddr());
                <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šå¤„ç†è®¢å•</span>
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// å¿…é¡»æ¸…ç†ï¼Œé¿å…çº¿ç¨‹æ± å¤ç”¨å¯¼è‡´å†…å­˜æ³„æ¼</span>
                RequestContextHolder.resetRequestAttributes();
            }
        });
    }
}
</code></pre>
<h4 data-id="heading-27">æ–¹æ¡ˆ2ï¼šå…¨å±€é…ç½®ï¼ˆ@Async å…¨å±€ç”Ÿæ•ˆï¼‰</h4>
<p>è‡ªå®šä¹‰ <code>TaskDecorator</code>ï¼Œè®©æ‰€æœ‰å¼‚æ­¥çº¿ç¨‹è‡ªåŠ¨ç»§æ‰¿çˆ¶çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableAsync</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AsyncConfigurer</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">getAsyncExecutor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadPoolTaskExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.setCorePoolSize(<span class="hljs-number">5</span>);
        executor.setMaxPoolSize(<span class="hljs-number">10</span>);
        executor.setQueueCapacity(<span class="hljs-number">20</span>);
        executor.setThreadNamePrefix(<span class="hljs-string">"async-"</span>);
        
        <span class="hljs-comment">// æ ¸å¿ƒï¼šè‡ªå®šä¹‰TaskDecoratorä¼ é€’ä¸Šä¸‹æ–‡</span>
        executor.setTaskDecorator(runnable -&gt; {
            <span class="hljs-comment">// çˆ¶çº¿ç¨‹ä¸Šä¸‹æ–‡</span>
            <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">parentAttr</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
            <span class="hljs-keyword">return</span> () -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// å­çº¿ç¨‹ç»‘å®šä¸Šä¸‹æ–‡</span>
                    RequestContextHolder.setRequestAttributes(parentAttr, <span class="hljs-literal">true</span>);
                    runnable.run();
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// æ¸…ç†ä¸Šä¸‹æ–‡</span>
                    RequestContextHolder.resetRequestAttributes();
                }
            };
        });
        
        executor.initialize();
        <span class="hljs-keyword">return</span> executor;
    }
}

<span class="hljs-comment">// ä½¿ç”¨@Asyncæ—¶è‡ªåŠ¨ä¼ é€’ä¸Šä¸‹æ–‡</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">asyncUpdateUser</span><span class="hljs-params">(Long userId)</span> {
        <span class="hljs-comment">// ç›´æ¥è·å–ä¸Šä¸‹æ–‡ï¼Œæ— éœ€æ‰‹åŠ¨ç»‘å®š</span>
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();
        <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) attributes).getRequest().getRemoteAddr();
        log.info(<span class="hljs-string">"å¼‚æ­¥æ›´æ–°ç”¨æˆ·{}ï¼ŒIPï¼š{}"</span>, userId, ip);
    }
}
</code></pre>
<h3 data-id="heading-28">åœºæ™¯4ï¼šè‡ªå®šä¹‰è¯·æ±‚çº§ä¸Šä¸‹æ–‡æ‰©å±•</h3>
<p>åŸºäº RequestAttributes çš„ <code>setAttribute</code>/<code>getAttribute</code>ï¼Œå®ç°è¯·æ±‚çº§åˆ«çš„æ•°æ®ä¼ é€’ï¼Œæ— éœ€é€šè¿‡æ–¹æ³•å‚æ•°ä¼ é€’ä¸´æ—¶æ•°æ®ã€‚</p>
<h4 data-id="heading-29">ç¤ºä¾‹ï¼šè¯·æ±‚çº§ä¸´æ—¶æ•°æ®ä¼ é€’</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å·¥å…·ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestDataContext</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰å±æ€§KEYï¼ˆé¿å…å†²çªï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_TEMP_DATA</span> <span class="hljs-operator">=</span> <span class="hljs-string">"REQUEST_TEMP_DATA"</span>;

    <span class="hljs-comment">/**
     * è®¾ç½®è¯·æ±‚çº§ä¸´æ—¶æ•°æ®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTempData</span><span class="hljs-params">(Object data)</span> {
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.currentRequestAttributes();
        attributes.setAttribute(KEY_TEMP_DATA, data, RequestAttributes.SCOPE_REQUEST);
    }

    <span class="hljs-comment">/**
     * è·å–è¯·æ±‚çº§ä¸´æ—¶æ•°æ®
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">getTempData</span><span class="hljs-params">()</span> {
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.currentRequestAttributes();
        <span class="hljs-keyword">return</span> (T) attributes.getAttribute(KEY_TEMP_DATA, RequestAttributes.SCOPE_REQUEST);
    }
}

<span class="hljs-comment">// Controllerä¸­è®¾ç½®</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/order")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    <span class="hljs-meta">@PostMapping("/create")</span>
    <span class="hljs-keyword">public</span> Result&lt;?&gt; createOrder(<span class="hljs-meta">@RequestBody</span> OrderDTO dto) {
        <span class="hljs-comment">// è®¾ç½®è¯·æ±‚çº§ä¸´æ—¶æ•°æ®ï¼ˆæ— éœ€ä¼ é€’ç»™Serviceï¼‰</span>
        RequestDataContext.setTempData(dto.getOrderNo());
        orderService.createOrder(dto);
        <span class="hljs-keyword">return</span> Result.success();
    }
}

<span class="hljs-comment">// Serviceä¸­è·å–</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(OrderDTO dto)</span> {
        <span class="hljs-comment">// è·å–è¯·æ±‚çº§ä¸´æ—¶æ•°æ®ï¼ˆæ— éœ€æ–¹æ³•å‚æ•°ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> RequestDataContext.getTempData();
        log.info(<span class="hljs-string">"åˆ›å»ºè®¢å•ï¼š{}"</span>, orderNo);
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        orderMapper.insert(dto);
    }
}
</code></pre>
<h3 data-id="heading-30">åœºæ™¯5ï¼šæ¡†æ¶æ‰©å±•ï¼ˆè‡ªå®šä¹‰ MVC ç»„ä»¶ï¼‰</h3>
<p>è‡ªå®šä¹‰ Spring MVC ç»„ä»¶ï¼ˆå¦‚å‚æ•°è§£æå™¨ã€æ‹¦æˆªå™¨ï¼‰æ—¶ï¼Œé€šè¿‡ RequestContextHolder è·å–ä¸Šä¸‹æ–‡ï¼Œå…¼å®¹é MVC åœºæ™¯ã€‚</p>
<h4 data-id="heading-31">ç¤ºä¾‹ï¼šè‡ªå®šä¹‰å½“å‰ç”¨æˆ·å‚æ•°è§£æå™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£ï¼šæ ‡è®°å½“å‰ç™»å½•ç”¨æˆ·</span>
<span class="hljs-meta">@Target(ElementType.PARAMETER)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> CurrentUser {
}

<span class="hljs-comment">// å‚æ•°è§£æå™¨ï¼šè‡ªåŠ¨è§£æå½“å‰ç™»å½•ç”¨æˆ·</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CurrentUserArgumentResolver</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerMethodArgumentResolver</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsParameter</span><span class="hljs-params">(MethodParameter parameter)</span> {
        <span class="hljs-keyword">return</span> parameter.hasParameterAnnotation(CurrentUser.class);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">resolveArgument</span><span class="hljs-params">(MethodParameter parameter, ModelAndViewContainer mavContainer,
                                  NativeWebRequest webRequest, WebDataBinderFactory binderFactory)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ–¹å¼1ï¼šä»webRequestè·å–ï¼ˆMVCåœºæ™¯æ¨èï¼‰</span>
        <span class="hljs-comment">// HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();</span>
        
        <span class="hljs-comment">// æ–¹å¼2ï¼šä»RequestContextHolderè·å–ï¼ˆå…¼å®¹éMVCåœºæ™¯ï¼‰</span>
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.currentRequestAttributes();
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) attributes).getRequest();
        
        <span class="hljs-comment">// ä»Tokenè§£æç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"Authorization"</span>);
        <span class="hljs-keyword">return</span> JwtUtil.parseUserInfo(token);
    }
}

<span class="hljs-comment">// é…ç½®å‚æ•°è§£æå™¨</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebMvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> CurrentUserArgumentResolver currentUserArgumentResolver;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addArgumentResolvers</span><span class="hljs-params">(List&lt;HandlerMethodArgumentResolver&gt; resolvers)</span> {
        resolvers.add(currentUserArgumentResolver);
    }
}

<span class="hljs-comment">// Controllerä¸­ä½¿ç”¨</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    <span class="hljs-meta">@GetMapping("/info")</span>
    <span class="hljs-keyword">public</span> Result&lt;UserInfo&gt; <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-meta">@CurrentUser</span> UserInfo userInfo)</span> {
        <span class="hljs-keyword">return</span> Result.success(userInfo);
    }
}
</code></pre>
<h2 data-id="heading-32">äº”ã€ä½¿ç”¨ RequestContextHolder çš„æ³¨æ„äº‹é¡¹ï¼ˆé¿å‘æŒ‡å—ï¼‰</h2>
<h3 data-id="heading-33">1. é¿å… ThreadLocal å†…å­˜æ³„æ¼</h3>
<ul>
<li><strong>åŸå› </strong>ï¼šçº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹æ—¶ï¼Œæœªæ¸…ç†çš„ä¸Šä¸‹æ–‡ä¼šé•¿æœŸå ç”¨å†…å­˜ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>è‡ªå®šä¹‰ç»‘å®šåœºæ™¯ï¼ˆå¦‚ Filterã€å¼‚æ­¥çº¿ç¨‹ï¼‰ï¼Œå¿…é¡»åœ¨ <code>finally</code> å—è°ƒç”¨ <code>resetRequestAttributes()</code>ï¼›</li>
<li>é¿å…åœ¨å•ä¾‹ Beanï¼ˆå¦‚ Serviceï¼‰ä¸­æŒæœ‰ <code>RequestAttributes</code> å¼•ç”¨ï¼ˆä¼šå¯¼è‡´ä¸Šä¸‹æ–‡ä¸²ç”¨ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-34">2. å¼‚æ­¥/çº¿ç¨‹æ± åœºæ™¯çš„ä¸Šä¸‹æ–‡ä¼ é€’</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š<code>InheritableThreadLocal</code> ä»…åœ¨å­çº¿ç¨‹<strong>åˆ›å»ºæ—¶</strong>ç»§æ‰¿ä¸Šä¸‹æ–‡ï¼Œçº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹æ—¶æ— æ•ˆï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>é›¶æ•£å¼‚æ­¥åœºæ™¯ï¼šæ‰‹åŠ¨ç»‘å®š+æ¸…ç†ï¼ˆæ–¹æ¡ˆ1ï¼‰ï¼›</li>
<li>å…¨å±€å¼‚æ­¥åœºæ™¯ï¼šè‡ªå®šä¹‰ <code>TaskDecorator</code>ï¼ˆæ–¹æ¡ˆ2ï¼‰ï¼›</li>
<li>ç¦æ­¢ä¾èµ– <code>InheritableThreadLocal</code> å®ç°çº¿ç¨‹æ± ä¸Šä¸‹æ–‡ä¼ é€’ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-35">3. é Web åœºæ™¯çš„ç©ºæŒ‡é’ˆé—®é¢˜</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šå®šæ—¶ä»»åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—æ¶ˆè´¹ã€å•å…ƒæµ‹è¯•ç­‰é Web åœºæ™¯ï¼Œ<code>currentRequestAttributes()</code> ä¼šæŠ›å¼‚å¸¸ï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>ä¼˜å…ˆä½¿ç”¨ <code>getRequestAttributes()</code>ï¼ˆè¿”å› nullï¼‰ï¼Œè€Œé <code>currentRequestAttributes()</code>ï¼›</li>
<li>å¢åŠ éç©ºåˆ¤æ–­ï¼Œå…¼å®¹é Web åœºæ™¯ï¼ˆå¦‚æ—¥å¿—è®°å½•æ—¶è·³è¿‡è¯·æ±‚ä¿¡æ¯ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-36">4. å¾®æœåŠ¡è·¨æœåŠ¡è°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¼ é€’</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šRequestContextHolder ä»…åœ¨å½“å‰æœåŠ¡çº¿ç¨‹æœ‰æ•ˆï¼Œæ— æ³•ç›´æ¥ä¼ é€’åˆ°ä¸‹æ¸¸æœåŠ¡ï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>æ‰‹åŠ¨å°†æ ¸å¿ƒä¸Šä¸‹æ–‡ï¼ˆå¦‚ Tokenã€Tenant-IDï¼‰æ”¾å…¥ HTTP è¯·æ±‚å¤´ï¼Œä¸‹æ¸¸æœåŠ¡ä»è¯·æ±‚å¤´è·å–ï¼›</li>
<li>ä½¿ç”¨ Spring Cloud çš„ <code>RequestContextInterceptor</code> è‡ªåŠ¨ä¼ é€’è¯·æ±‚å¤´ï¼›</li>
<li>ä¸‹æ¸¸æœåŠ¡æ¥æ”¶è¯·æ±‚åï¼Œæ‰‹åŠ¨ç»‘å®šä¸Šä¸‹æ–‡åˆ° RequestContextHolderã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-37">5. æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šé¢‘ç¹è°ƒç”¨ <code>getRequestAttributes()</code> ä¼šè§¦å‘ ThreadLocal.get()ï¼Œæœ‰è½»å¾®æ€§èƒ½æŸè€—ï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>å•æ¬¡æ–¹æ³•è°ƒç”¨ä¸­ï¼Œä»…è·å–ä¸€æ¬¡ä¸Šä¸‹æ–‡ï¼Œå¤ç”¨å¯¹è±¡ï¼›</li>
<li>Controller å±‚ä¼˜å…ˆé€šè¿‡æ–¹æ³•å‚æ•°è·å– <code>request</code>ï¼Œæ— éœ€é€šè¿‡ RequestContextHolderï¼›</li>
<li>éå¿…è¦åœºæ™¯ï¼Œé¿å…ä½¿ç”¨ï¼ˆå¦‚ä»…éœ€è·å–è¯·æ±‚å‚æ•°ï¼Œå¯é€šè¿‡ <code>@RequestParam</code> ç›´æ¥æ¥æ”¶ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-38">å…­ã€æ€»ç»“</h2>
<p>RequestContextHolder æ˜¯ Spring MVC ä¸Šä¸‹æ–‡ç®¡ç†çš„æ ¸å¿ƒå·¥å…·ï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯<strong>åŸºäº ThreadLocal å®ç°è¯·æ±‚ä¸Šä¸‹æ–‡çš„çº¿ç¨‹ç»‘å®šä¸å…¨é“¾è·¯è·å–</strong>ï¼Œå…¶ä»·å€¼åœ¨äºè§£è€¦ Web å±‚ä¸é Web å±‚çš„ä¸Šä¸‹æ–‡ä¾èµ–ã€‚</p>
<h3 data-id="heading-39">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li>åº•å±‚å­˜å‚¨ï¼šåŒ ThreadLocalï¼ˆæ™®é€š + å¯ç»§æ‰¿ï¼‰ï¼Œå­˜å‚¨ <code>RequestAttributes</code>ï¼ˆæ ¸å¿ƒå®ç° <code>ServletRequestAttributes</code>ï¼‰ï¼›</li>
<li>æ ¸å¿ƒæ–¹æ³•ï¼šè·å–ï¼ˆ<code>getRequestAttributes</code>/<code>currentRequestAttributes</code>ï¼‰ã€ç»‘å®šï¼ˆ<code>setRequestAttributes</code>ï¼‰ã€é‡ç½®ï¼ˆ<code>resetRequestAttributes</code>ï¼‰ï¼›</li>
<li>å…¸å‹åœºæ™¯ï¼šé Web å±‚è·å– requestã€ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€å¼‚æ­¥ä¸Šä¸‹æ–‡ä¼ é€’ã€è‡ªå®šä¹‰ MVC ç»„ä»¶ã€è¯·æ±‚çº§æ•°æ®ä¼ é€’ï¼›</li>
<li>é¿å‘å…³é”®ï¼šåŠæ—¶æ¸…ç†ä¸Šä¸‹æ–‡ã€å…¼å®¹é Web åœºæ™¯ã€å¼‚æ­¥çº¿ç¨‹æ‰‹åŠ¨ä¼ é€’ä¸Šä¸‹æ–‡ã€‚</li>
</ol>
<p>åˆç†ä½¿ç”¨ RequestContextHolder å¯å¤§å¹…é™ä½ä»£ç è€¦åˆï¼Œä½†éœ€éµå¾ªâ€œæŒ‰éœ€ä½¿ç”¨ã€åŠæ—¶æ¸…ç†â€çš„åŸåˆ™ï¼Œé¿å…å¼•å…¥å†…å­˜æ³„æ¼ã€ä¸Šä¸‹æ–‡ä¸²ç”¨ç­‰é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring AIï¼ˆäºŒï¼‰ï¼šå¦‚ä½•åœ¨ä½¿ç”¨çš„æ—¶å€™æŒ‡å®šè§’è‰²ï¼Œä½¿ç”¨æ¨¡æ¿]]></title>    <link>https://juejin.cn/post/7582601349579325440</link>    <guid>https://juejin.cn/post/7582601349579325440</guid>    <pubDate>2025-12-12T07:29:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582601349579325440" data-draft-id="7582769411992993844" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AIï¼ˆäºŒï¼‰ï¼šå¦‚ä½•åœ¨ä½¿ç”¨çš„æ—¶å€™æŒ‡å®šè§’è‰²ï¼Œä½¿ç”¨æ¨¡æ¿"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T07:29:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒä¸¤ç¢—å§"/> <meta itemprop="url" content="https://juejin.cn/user/2386352583739965"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AIï¼ˆäºŒï¼‰ï¼šå¦‚ä½•åœ¨ä½¿ç”¨çš„æ—¶å€™æŒ‡å®šè§’è‰²ï¼Œä½¿ç”¨æ¨¡æ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2386352583739965/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒä¸¤ç¢—å§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:29:47.000Z" title="Fri Dec 12 2025 07:29:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Spring AIåœ¨è°ƒç”¨çš„æ—¶å€™ä¸“é—¨è®¾ç½®äº†ä¸€ä¸ª <code>Prompt</code>ç±»ï¼Œç”¨æ¥å¡«å†™è°ƒç”¨å¤§æ¨¡å‹çš„æç¤ºè¯ã€‚
å¯ä»¥åˆ†è§’è‰²ï¼Œç”¨ä¸åŒçš„ä¿¡æ¯è°ƒç”¨</p>
</blockquote>
<hr/>
<p>ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>System è§’è‰²ï¼šæŒ‡å¯¼ AI çš„è¡Œä¸ºå’Œå“åº”é£æ ¼ï¼Œè®¾å®š AI è§£é‡Šå’Œå›å¤è¾“å…¥çš„å‚æ•°æˆ–è§„åˆ™ï¼Œç±»ä¼¼äºåœ¨å¼€å§‹å¯¹è¯å‰å‘ AI æä¾›æŒ‡ä»¤ã€‚</p>
</li>
<li>
<p>User è§’è‰²ï¼šä»£è¡¨ç”¨æˆ·çš„è¾“å…¥ â€” åŒ…æ‹¬é—®é¢˜ã€å‘½ä»¤æˆ–å¯¹ AI çš„é™ˆè¿°ã€‚è¯¥è§’è‰²æ„æˆ AI å“åº”çš„åŸºç¡€ï¼Œå…·æœ‰æ ¹æœ¬é‡è¦æ€§ã€‚</p>
</li>
<li>
<p>Assistant è§’è‰²ï¼šAI å¯¹ç”¨æˆ·è¾“å…¥çš„å“åº”ï¼Œä¸ä»…æ˜¯ç­”æ¡ˆæˆ–ååº”ï¼Œæ›´å¯¹ç»´æŒå¯¹è¯æµè‡³å…³é‡è¦ã€‚é€šè¿‡è¿½è¸ª AI ä¹‹å‰çš„å“åº”ï¼ˆå…¶ "Assistant Role" æ¶ˆæ¯ï¼‰ï¼Œç³»ç»Ÿç¡®ä¿è¿è´¯ä¸”ä¸Šä¸‹æ–‡ç›¸å…³çš„äº¤äº’ã€‚åŠ©æ‰‹æ¶ˆæ¯ä¹Ÿå¯èƒ½åŒ…å«å‡½æ•°å·¥å…·è°ƒç”¨è¯·æ±‚ä¿¡æ¯ â€” è¿™æ˜¯ AI çš„ç‰¹æ®ŠåŠŸèƒ½ï¼Œåœ¨éœ€è¦æ—¶æ‰§è¡Œè®¡ç®—ã€è·å–æ•°æ®ç­‰è¶…è¶Šå¯¹è¯çš„ç‰¹å®šä»»åŠ¡ã€‚</p>
</li>
<li>
<p>Tool/Function è§’è‰²ï¼šä¸“æ³¨äºå“åº”å·¥å…·è°ƒç”¨ç±»åŠ©æ‰‹æ¶ˆæ¯ï¼Œè¿”å›é™„åŠ ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p>è€Œä¸”å¯ä»¥æå‰è®¾ç½®å¥½æ¨¡ç‰ˆ
æ¨¡æ¿ä¸­å¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦ï¼Œç”¨æ¥è®¾å®šè°ƒç”¨è¿‡ç¨‹ä¸­çš„è¯ä¼ å‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">PromptTemplate</span> <span class="hljs-variable">promptTemplate</span> <span class="hljs-operator">=</span> PromptTemplate.builder() .renderer(StTemplateRenderer.builder().startDelimiterToken(<span class="hljs-string">'&lt;'</span>)
.endDelimiterToken(<span class="hljs-string">'&gt;'</span>).build()) 
.template(<span class="hljs-string">""" Tell me the names of 5 movies whose soundtrack was composed by &lt;composer&gt;. """</span>) .build();

</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>  
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span> {  
  
    <span class="hljs-meta">@Bean</span>  
    ChatClient <span class="hljs-title function_">chatClient</span><span class="hljs-params">(ChatClient.Builder builder)</span> {  
        <span class="hljs-keyword">return</span> builder.defaultSystem(<span class="hljs-string">"ä½ æ˜¯æˆ‘çš„å¥½æœ‹å‹ï¼Œä½ è¦ä»¥{voice}çš„è¯­æ°”è·Ÿæˆ‘è¯´è¯"</span>)  
                .build();  
    }  
  
}
</code></pre>
<p>å…¶ä¸­defaultSystem æŒ‡çš„å°±æ˜¯é»˜è®¤çš„ç³»ç»Ÿè§’è‰²è®¾ç½®çš„ä¿¡æ¯ï¼Œä¸€èˆ¬éƒ½ç”¨æ¥è¡¥å……å›ç­”æ—¶è§’è‰²çš„è®¾å®šç­‰ä¿¡æ¯ã€‚</p>
<p>è°ƒç”¨æ–¹å¼æ”¯æŒ<strong>Fluent API</strong>è°ƒç”¨æ–¹å¼</p>
<pre><code class="hljs language-java" lang="java">        <span class="hljs-built_in">this</span>.chatClient.prompt()  
                .system(sp -&gt; sp.param(<span class="hljs-string">"voice"</span>, voice))  
                .user(message)  
                .call()  
                .content();
</code></pre>
<p>å…¶ä¸­é…ç½®ç±»</p>
<pre><code class="hljs language-java" lang="java">.system(sp -&gt; sp.param(<span class="hljs-string">"voice"</span>, voice))  

<span class="hljs-comment">//éƒ¨é—¨ä½¿ç”¨ä¼ å‚çš„æ–¹å¼ï¼Œè¡¥å……é»˜è®¤ç³»ç»Ÿè§’è‰²ä¸­æå‰è®¾å®šçš„å¥½çš„å‚æ•°ã€‚</span>
</code></pre>
<p>è¿™æ ·å³å¯è°ƒç”¨å®Œæˆ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueå­¦ä¹ ï¼šrefå“åº”å¼æ•°æ®ã€v-æŒ‡ä»¤ã€computed]]></title>    <link>https://juejin.cn/post/7582517824498925602</link>    <guid>https://juejin.cn/post/7582517824498925602</guid>    <pubDate>2025-12-12T07:14:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582517824498925602" data-draft-id="7582601349578899456" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueå­¦ä¹ ï¼šrefå“åº”å¼æ•°æ®ã€v-æŒ‡ä»¤ã€computed"/> <meta itemprop="keywords" content="Vue.js,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2025-12-12T07:14:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueå­¦ä¹ ï¼šrefå“åº”å¼æ•°æ®ã€v-æŒ‡ä»¤ã€computed
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:14:46.000Z" title="Fri Dec 12 2025 07:14:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»ä¸€ä¸ªTodosæ¸…å•ç»„ä»¶ï¼Œä¸Šæ‰‹VueåŸºç¡€è¯­æ³•ä»¥åŠæ ¸å¿ƒæ€æƒ³ï¼Œè®¾è®¡å†…å®¹æœ‰refå“åº”å¼æ•°æ®,v-æŒ‡ä»¤ã€computedè®¡ç®—å±æ€§</p>
</blockquote>
<p><strong>å®Œæ•´ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js">&lt;!-- <span class="hljs-title class_">App</span>.<span class="hljs-property">vue</span> --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// 1. å“åº”å¼æ•°æ®ï¼šæ‰€æœ‰ UI éƒ½é å®ƒä»¬é©±åŠ¨</span>
<span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)                     <span class="hljs-comment">// è¾“å…¥æ¡†å†…å®¹</span>
<span class="hljs-keyword">const</span> todos = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¡è§‰'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åƒé¥­'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> }
])

<span class="hljs-comment">// æ·»åŠ ä»»åŠ¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addTodo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!title.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span>
  todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(),
    <span class="hljs-attr">title</span>: title.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>(),
    <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>
  })
  title.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>                         <span class="hljs-comment">// æ¸…ç©ºè¾“å…¥æ¡†</span>
}

<span class="hljs-comment">// 2. è®¡ç®—å±æ€§ï¼šæ´¾ç”Ÿæ•°æ®ï¼Œè‡ªåŠ¨æ›´æ–°</span>
<span class="hljs-comment">// ç»Ÿè®¡æœªå®Œæˆçš„æ•°é‡</span>
<span class="hljs-keyword">const</span> active = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">done</span>).<span class="hljs-property">length</span>
})

<span class="hljs-comment">// å…¨é€‰/å…¨ä¸é€‰çš„é«˜çº§ç©æ³•</span>
<span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">done</span>)
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">val</span>) {
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">done</span> = val)
  }
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘çš„ Todos ä»»åŠ¡æ¸…å•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- åŒå‘ç»‘å®š + å›è½¦æ·»åŠ  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ä»Šå¤©è¿˜è¦å¹²å•¥ï¼Ÿå›è½¦æ·»åŠ "</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"title"</span> @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"addTodo"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- ä»»åŠ¡åˆ—è¡¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.done"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ done: todo.done }"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"empty"</span>&gt;</span>æš‚æ— è®¡åˆ’ï¼Œæ‘¸é±¼å»å§ï½<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ç»Ÿè®¡ + å…¨é€‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"footer"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"allDone"</span> /&gt;</span>
        å…¨é€‰
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æœªå®Œæˆ {{ active }} / å…± {{ todos.length }} æ¡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">400px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">40px</span> auto;
  <span class="hljs-attribute">font-family</span>: sans-serif;
}

<span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"text"</span>]</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
}

<span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">list-style</span>: none;
}

<span class="hljs-selector-tag">li</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
}

<span class="hljs-selector-class">.done</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">text-decoration</span>: line-through;
}

<span class="hljs-selector-class">.empty</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.footer</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: space-between;
  <span class="hljs-attribute">align-items</span>: center;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</span></code></pre>
<p><strong>å®é™…å±•ç¤ºï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/175dbb04cdac413abe60d765cbf5689d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766128485&amp;x-signature=nnw1%2FzqVhdCRZF3yEMpU7XCDRdQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€æ‹†è§£Vueä»£ç </h2>
<p>å…¶å®Vueä¸»ç•Œé¢çš„ä»£ç å°±æ˜¯æˆ‘ä»¬çš„HTML+JS+CSS,å®ƒæ˜¯ä¸€ä¸ªä¸‰æ˜æ²»ç»“æ„</p>
<pre><code class="hljs language-javascript" lang="javascript">    &lt;script setup&gt;&lt;<span class="hljs-regexp">/script&gt;  /</span><span class="hljs-regexp">/JavaScript
    
    &lt;template&gt;&lt;/</span>template&gt;    <span class="hljs-comment">//HTML</span>

    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>   <span class="hljs-comment">//CSS</span>

</code></pre>
<h2 data-id="heading-2">äºŒã€ å“åº”å¼æ•°æ®ï¼šVue çš„çµé­‚</h2>
<p>ä¼ ç»Ÿå†™æ³•ï¼ˆjQuery æ—¶ä»£ï¼‰ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// æƒ³æ”¹æ ‡é¢˜ï¼Ÿå…ˆæ‰¾ DOM å†æ”¹ innerText</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'h2'</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">'æ–°æ ‡é¢˜'</span>
</code></pre>
<p>Vue å†™æ³•ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Todosä»»åŠ¡æ¸…å•'</span>)
</code></pre>
<p>ç„¶åæ¨¡æ¿é‡Œç›´æ¥ {{ title }}ï¼Œä½ æ”¹ title.value = 'æ–°æ ‡é¢˜'ï¼Œé¡µé¢å°±è‡ªåŠ¨å˜äº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆç¥å¥‡ï¼Ÿå› ä¸º Vue æŠŠ todosã€title è¿™äº› ref åŒ…è£…æˆäº†å“åº”å¼å¯¹è±¡ï¼Œåªè¦ä½ é€šè¿‡ .value å»æ”¹å®ƒï¼ŒVue å°±çŸ¥é“ã€Œæœ‰æ•°æ®å˜äº†ã€ï¼Œç„¶åè‡ªåŠ¨æŠŠæ‰€æœ‰ç”¨åˆ°è¿™ä¸ªæ•°æ®çš„åœ°æ–¹æ›´æ–°ä¸€éã€‚</p>
<p>è®°ä½ä¸€å¥è¯ï¼š<strong>åœ¨ Vue é‡Œï¼Œä½ åªéœ€è¦æ“å¿ƒæ•°æ®æ€ä¹ˆå˜ï¼Œé¡µé¢æ€ä¹ˆå˜ Vue å¸®ä½ æå®š</strong>ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€ Vue åŸºç¡€æŒ‡ä»¤</h2>



































<table><thead><tr><th>æŒ‡ä»¤</th><th>ä½œç”¨</th><th>æœ¬ä¾‹ä¸­çš„ç”¨æ³•</th></tr></thead><tbody><tr><td>v-model</td><td>åŒå‘ç»‘å®šï¼Œè¡¨å•ä¸“å±ç¥å™¨</td><td>è¾“å…¥æ¡†å’Œä»»åŠ¡çš„ checkbox éƒ½ç”¨äº†å®ƒ</td></tr><tr><td>v-for</td><td>å¾ªç¯æ¸²æŸ“æ•°ç»„</td><td>éå† todos æ¸²æŸ“æ¯ä¸€è¡Œ</td></tr><tr><td>v-if / v-else</td><td>æ¡ä»¶æ¸²æŸ“</td><td>æ²¡ä»»åŠ¡æ—¶æ˜¾ç¤ºã€Œæš‚æ— è®¡åˆ’ã€</td></tr><tr><td>v-bind</td><td>åŠ¨æ€ç»‘å®šHTMLå±æˆ–è€…ç»„ä»¶çš„props</td><td>å®Œæˆçš„ä»»åŠ¡åŠ ä¸Šåˆ é™¤çº¿å’Œç°è‰²</td></tr><tr><td>@click / @keydown.enter</td><td>äº‹ä»¶ç›‘å¬ç®€å†™</td><td>å›è½¦æ·»åŠ ä»»åŠ¡</td></tr></tbody></table>
<p>è¿™äº›æŒ‡ä»¤å°±æ˜¯ Vue ç»™æˆ‘ä»¬æä¾›çš„ã€Œé­”æ³•è¯­æ³•ç³–ã€ï¼Œè®©æˆ‘ä»¬å‡ ä¹ä¸ç”¨å†™åŸç”Ÿ DOM æ“ä½œã€‚</p>
<h3 data-id="heading-4">1.Â <code>v-model</code>Â â€”â€”Â <strong>åŒå‘æ•°æ®ç»‘å®š</strong></h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"title"</span> @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"addTodo"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.done"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"allDone"</span> /&gt;</span>
</code></pre>
<h4 data-id="heading-5">ğŸ” ä½œç”¨ï¼š</h4>
<ul>
<li>
<p><strong>è‡ªåŠ¨åŒæ­¥è¡¨å•è¾“å…¥å’Œå“åº”å¼æ•°æ®</strong>ã€‚</p>
</li>
<li>
<p>å¯¹äº <code>&lt;input type="text"&gt;</code>ï¼š<br/>
<code>v-model="title"</code> ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-html" lang="html">:value="title" @input="title = $event.target.value"
</code></pre>
<p>ç”¨æˆ·è¾“å…¥ â†’ <code>title.value</code> è‡ªåŠ¨æ›´æ–°ï¼›<code>title.value</code> å˜åŒ– â†’ è¾“å…¥æ¡†å†…å®¹æ›´æ–°ã€‚</p>
</li>
<li>
<p>å¯¹äº <code>&lt;input type="checkbox"&gt;</code>ï¼š<br/>
<code>v-model="todo.done"</code> ç»‘å®šçš„æ˜¯å¸ƒå°”å€¼ï¼š</p>
<pre><code class="hljs language-html" lang="html">:checked="todo.done" @change="todo.done = $event.target.checked"
</code></pre>
</li>
<li>
<p>å¯¹äº <code>allDone</code>ï¼ˆè®¡ç®—å±æ€§ï¼‰ï¼š<br/>
å› ä¸º <code>allDone</code> æœ‰ <code>get</code> å’Œ <code>set</code>ï¼Œæ‰€ä»¥ <code>v-model</code> èƒ½è¯»ä¹Ÿèƒ½å†™ï¼Œå®ç°â€œå…¨é€‰â€è”åŠ¨ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-6">ğŸ”„ 2.Â <code>v-for</code>Â â€”â€”Â <strong>åˆ—è¡¨æ¸²æŸ“</strong></h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.done"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ done: todo.done }"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">ğŸ” ä½œç”¨ï¼š</h4>
<ul>
<li>éå†æ•°ç»„ï¼ˆæˆ–å¯¹è±¡ï¼‰ï¼Œä¸ºæ¯ä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ª DOM èŠ‚ç‚¹ã€‚</li>
<li><code>todo in todos</code>ï¼š<code>todos</code>Â æ˜¯æºæ•°ç»„ï¼Œ<code>todo</code>Â æ˜¯å½“å‰é¡¹ã€‚</li>
<li><strong>å¿…é¡»åŠ Â <code>:key</code></strong>ï¼šVue ç”¨Â <code>key</code>Â æ¥é«˜æ•ˆè¿½è¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼ˆé¿å…å¤ç”¨é”™è¯¯ï¼‰ã€‚ä½ ç”¨äº†Â <code>todo.id</code>ï¼Œå¾ˆå¥½ï¼</li>
</ul>
<h4 data-id="heading-8">âš ï¸ æ³¨æ„ï¼š</h4>
<ul>
<li>ä¸è¦ä½¿ç”¨Â <code>index</code>Â ä½œä¸ºÂ <code>key</code>ï¼ˆé™¤éåˆ—è¡¨åªå¢ä¸åˆ ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¼•å‘çŠ¶æ€é”™ä¹±ã€‚</li>
<li><code>v-for</code>Â çš„ä¼˜å…ˆçº§é«˜äºÂ <code>v-if</code>ï¼ˆå¦‚æœåŒæ—¶ç”¨ï¼‰ï¼Œä½†ä¸€èˆ¬å»ºè®®é¿å…ä¸¤è€…åŒç”¨ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">3.Â <code>v-if</code>Â ä¸Â <code>v-else</code>Â â€”â€”Â <strong>æ¡ä»¶æ¸²æŸ“</strong></h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ¸²æŸ“ä»»åŠ¡åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"empty"</span>&gt;</span>æš‚æ— è®¡åˆ’ï¼Œæ‘¸é±¼å»å§ï½<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-10">ğŸ” ä½œç”¨ï¼š</h4>
<ul>
<li><code>v-if="todos.length"</code>ï¼šå½“Â <code>todos.length &gt; 0</code>ï¼ˆçœŸå€¼ï¼‰æ—¶ï¼Œæ¸²æŸ“Â <code>&lt;ul&gt;</code>ã€‚</li>
<li><code>v-else</code>ï¼šå¿…é¡»ç´§è·Ÿåœ¨Â <code>v-if</code>Â æˆ–Â <code>v-else-if</code>Â åé¢ï¼Œè¡¨ç¤ºâ€œå¦åˆ™â€ã€‚</li>
<li><strong>å®Œå…¨é”€æ¯/é‡å»º DOM</strong>ï¼ˆä¸æ˜¯éšè—ï¼‰ï¼Œé€‚åˆåˆ‡æ¢ä¸é¢‘ç¹çš„åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-11">ğŸ’¡ å¯¹æ¯”Â <code>v-show</code>ï¼š</h4>
<ul>
<li><code>v-show</code>Â æ˜¯é€šè¿‡ CSSÂ <code>display: none</code>Â åˆ‡æ¢ï¼ŒDOM å§‹ç»ˆå­˜åœ¨ã€‚</li>
<li>ä½ çš„åœºæ™¯ç”¨Â <code>v-if/v-else</code>Â æ›´åˆé€‚ï¼Œå› ä¸ºâ€œç©ºçŠ¶æ€â€å’Œâ€œæœ‰ä»»åŠ¡â€æ˜¯äº’æ–¥çš„ä¸¤ç§ UIã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">4.Â <code>v-bind</code>ï¼ˆç®€å†™Â <code>:</code>ï¼‰â€”â€”Â <strong>åŠ¨æ€ç»‘å®šå±æ€§</strong></h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ done: todo.done }"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-13">ğŸ” ä½œç”¨ï¼š</h4>
<ul>
<li>å°† HTML å±æ€§ï¼ˆå¦‚Â <code>class</code>ã€<code>id</code>ã€<code>src</code>ã€<code>key</code>Â ç­‰ï¼‰<strong>ç»‘å®šåˆ° JS è¡¨è¾¾å¼</strong>ã€‚</li>
<li><code>:class="{ done: todo.done }"</code>ï¼š<br/>
å½“Â <code>todo.done === true</code>Â æ—¶ï¼Œç»™Â <code>&lt;span&gt;</code>Â æ·»åŠ Â <code>class="done"</code>ï¼Œä»è€Œåº”ç”¨æ ·å¼ï¼ˆåˆ é™¤çº¿+ç°è‰²ï¼‰ã€‚</li>
<li><code>:key="todo.id"</code>ï¼šå°†Â <code>key</code>Â å±æ€§ç»‘å®šåˆ°Â <code>todo.id</code>Â çš„å€¼ã€‚</li>
</ul>
<h4 data-id="heading-14">ğŸ’¡ å…¶ä»–å¸¸è§ç”¨æ³•ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imageUrl"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ color: textColor }"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">"linkUrl"</span>&gt;</span>é“¾æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<blockquote>
<p><code>v-bind</code> æ˜¯ Vue å®ç°â€œæ•°æ®é©±åŠ¨è§†å›¾â€çš„å…³é”®æ¡¥æ¢ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">5.Â <code>@</code>ï¼ˆå³Â <code>v-on</code>ï¼‰â€”â€”Â <strong>äº‹ä»¶ç›‘å¬</strong></h3>
<h4 data-id="heading-16">âœ… åœ¨ä½ çš„ä»£ç ä¸­ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">...</span> @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"addTodo"</span> /&gt;</span>
</code></pre>
<h4 data-id="heading-17">ğŸ” ä½œç”¨ï¼š</h4>
<ul>
<li>
<p>ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œæ–¹æ³•ã€‚</p>
</li>
<li>
<p><code>@keydown.enter</code>Â æ˜¯ä¿®é¥°ç¬¦å†™æ³•ï¼Œç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-js" lang="js">@keydown=<span class="hljs-string">"(e) =&gt; { if (e.key === 'Enter') addTodo() }"</span>
</code></pre>
</li>
<li>
<p>å¸¸è§ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li><code>.enter</code>ï¼šå›è½¦é”®</li>
<li><code>.stop</code>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡</li>
<li><code>.prevent</code>ï¼šé˜»æ­¢é»˜è®¤è¡Œä¸º</li>
<li><code>.once</code>ï¼šåªè§¦å‘ä¸€æ¬¡</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18">ğŸ’¡ å…¶ä»–ä¾‹å­ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"deleteTodo(id)"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">"handleInput"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">"handleSubmit"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<blockquote>
<p><code>@</code> æ˜¯ <code>v-on:</code> çš„ç¼©å†™ï¼Œå°±åƒ <code>:</code> æ˜¯ <code>v-bind:</code> çš„ç¼©å†™ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-19">æ€»ç»“:</h4>
<ol>
<li>
<p>ç”¨æˆ·åœ¨è¾“å…¥æ¡†è¾“å…¥ â†’Â <code>v-model</code>Â åŒæ­¥åˆ°Â <code>title</code></p>
</li>
<li>
<p>æŒ‰å›è½¦ â†’Â <code>@keydown.enter</code>Â è§¦å‘Â <code>addTodo()</code>Â â†’ æ–°ä»»åŠ¡åŠ å…¥Â <code>todos</code></p>
</li>
<li>
<p><code>v-for</code>Â é‡æ–°éå†Â <code>todos</code>ï¼Œæ¸²æŸ“æ–°Â <code>&lt;li&gt;</code></p>
</li>
<li>
<p>æ¯ä¸ªä»»åŠ¡çš„å¤é€‰æ¡†ç”¨Â <code>v-model</code>Â åŒå‘ç»‘å®šÂ <code>todo.done</code></p>
</li>
<li>
<p>å‹¾é€‰å¤é€‰æ¡† â†’Â <code>todo.done</code>Â æ›´æ–° â†’</p>
<ul>
<li><code>active</code>Â è®¡ç®—å±æ€§è‡ªåŠ¨æ›´æ–°ï¼ˆæœªå®Œæˆæ•°ï¼‰</li>
<li><code>allDone.get()</code>Â é‡æ–°è®¡ç®—ï¼ˆæ˜¯å¦å…¨é€‰ï¼‰</li>
</ul>
</li>
<li>
<p>åº•éƒ¨å…¨é€‰æ¡†ç”¨Â <code>v-model="allDone"</code>Â â†’ ç‚¹å‡»æ—¶è°ƒç”¨Â <code>allDone.set()</code>Â â†’ æ‰¹é‡æ›´æ–°æ‰€æœ‰Â <code>todo.done</code></p>
</li>
<li>
<p>å¦‚æœÂ <code>todos</code>Â ä¸ºç©º â†’Â <code>v-if</code>Â åˆ‡æ¢åˆ°Â <code>v-else</code>Â æ˜¾ç¤ºâ€œæ‘¸é±¼â€æç¤º</p>
</li>
</ol>
<h3 data-id="heading-20">å››ã€ computed è®¡ç®—å±æ€§ï¼šè‡ªåŠ¨ç¼“å­˜çš„æ´¾ç”Ÿæ•°æ®</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8ec1d60966f4d1a8c966c93c2a9fea9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766128485&amp;x-signature=pXFs3JkKQ3uLkSBPIYWKY%2BtFOMc%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬æƒ³æ˜¾ç¤ºã€Œæœªå®Œæˆçš„ä»»åŠ¡æœ‰å‡ æ¡ã€ï¼Œæœ€ç¬¨çš„å†™æ³•æ˜¯ï¼š</p>
<pre><code class="hljs language-Vue" lang="Vue">{{ todos.filter(t =&gt; !t.done).length }} / {{ todos.length }}
</code></pre>
<p>è¿™æ ·æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–° filter ä¸€éï¼Œæ•°æ®ä¸€å¤§å°±åºŸã€‚</p>
<p>èªæ˜åšæ³•ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> active = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> 
  todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">done</span>).<span class="hljs-property">length</span>
)
</code></pre>
<p><strong>computed æœ‰ä¸¤å¤§æ€æ‹›ï¼š</strong></p>
<ol>
<li>ç¼“å­˜ï¼šåªæœ‰å½“ todos çœŸçš„å˜äº†ï¼Œå®ƒæ‰ä¼šé‡æ–°è®¡ç®—</li>
<li>å“åº”å¼ï¼štodos ä¸€å˜ï¼Œé¡µé¢ä¸Šæ‰€æœ‰ç”¨äº† active çš„åœ°æ–¹ç«‹åˆ»æ›´æ–°</li>
</ol>
<p><strong>æ›´ç‰›çš„å…¨é€‰ checkboxï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/193dd13ae16b42069efab500bd0127fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766128485&amp;x-signature=or2brkFxHAek3vnxo3Ocx7lYc4Y%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">done</span>)
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">val</span>) {
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">done</span> = val)
  }
})
</code></pre>
<p>è¿™æ · <input type="checkbox" disabled="disabled"/> å°±èƒ½å®ç°ã€Œå…¨é€‰/å…¨ä¸é€‰ã€åŒå‘åŠŸèƒ½ï¼Œä»£ç é‡å°‘åˆ°ä»¤äººå‘æŒ‡ã€‚</p>
<p>åœ¨ Vue 3 çš„ <code>computed</code> ä¸­ï¼Œ<strong><code>get</code> å’Œ <code>set</code> æ˜¯ç”¨äºå®šä¹‰ã€Œå¯è¯»å†™è®¡ç®—å±æ€§ã€çš„ä¸¤ä¸ªå‡½æ•°</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>computed</code> åªæœ‰ä¸€ä¸ª <code>getter</code>ï¼ˆå³åªè¯»ï¼‰ï¼Œä½†å½“ä½ éœ€è¦è®©è®¡ç®—å±æ€§ä¹Ÿèƒ½è¢«èµ‹å€¼ï¼ˆæ¯”å¦‚ç”¨åœ¨ <code>v-model</code> ä¸­ï¼‰ï¼Œå°±éœ€è¦æä¾›ä¸€ä¸ª <code>setter</code>ï¼ˆå³ <code>set</code> å‡½æ•°ï¼‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> myComputed = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿”å›æ´¾ç”Ÿå€¼ï¼ˆå¿…é¡»ï¼‰</span>
    <span class="hljs-keyword">return</span> someDerivedValue
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
    <span class="hljs-comment">// å¤„ç†èµ‹å€¼é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-comment">// æ ¹æ® newValue æ›´æ–°åŸå§‹æ•°æ®</span>
  }
})
</code></pre>
<h4 data-id="heading-21"><code>get()</code>Â â€”â€”Â <strong>è¯»å–æ—¶è§¦å‘</strong></h4>
<ul>
<li>å½“ä½ åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨Â <code>{{ myComputed }}</code>ï¼Œæˆ–åœ¨ JS ä¸­è¯»å–Â <code>myComputed.value</code>Â æ—¶ï¼Œä¼šè°ƒç”¨Â <code>get()</code>ã€‚</li>
<li>å®ƒåº”è¯¥<strong>è¿”å›ä¸€ä¸ªå€¼</strong>ï¼Œè¿™ä¸ªå€¼é€šå¸¸åŸºäºå…¶ä»–å“åº”å¼æ•°æ®ï¼ˆå¦‚Â <code>ref</code>Â æˆ–Â <code>reactive</code>Â å¯¹è±¡ï¼‰è®¡ç®—è€Œæ¥ã€‚</li>
<li>Vue ä¼šè‡ªåŠ¨è¿½è¸ªÂ <code>get()</code>Â å†…éƒ¨è®¿é—®çš„æ‰€æœ‰å“åº”å¼ä¾èµ–ï¼Œå¹¶åœ¨å®ƒä»¬å˜åŒ–æ—¶<strong>é‡æ–°è®¡ç®—</strong>ã€‚</li>
</ul>
<h4 data-id="heading-22">Â <code>set(newValue)</code>Â â€”â€”Â <strong>èµ‹å€¼æ—¶è§¦å‘</strong></h4>
<ul>
<li>å½“ä½ æ‰§è¡ŒÂ <code>myComputed.value = someValue</code>ï¼ˆä¾‹å¦‚é€šè¿‡Â <code>v-model</code>ï¼‰ï¼Œå°±ä¼šè°ƒç”¨Â <code>set(newValue)</code>ã€‚</li>
<li><code>newValue</code>Â å°±æ˜¯ä½ è¯•å›¾èµ‹ç»™è®¡ç®—å±æ€§çš„å€¼ã€‚</li>
<li>åœ¨Â <code>set</code>Â ä¸­ï¼Œä½ <strong>ä¸èƒ½ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§æœ¬èº«</strong>ï¼ˆå› ä¸ºå®ƒæ²¡æœ‰å­˜å‚¨ç©ºé—´ï¼‰ï¼Œè€Œæ˜¯è¦<strong>åå‘æ›´æ–°å®ƒæ‰€ä¾èµ–çš„åŸå§‹æ•°æ®</strong>ã€‚</li>
</ul>
<h2 data-id="heading-23">äº”ã€ Vue å¼€å‘çš„æ ¸å¿ƒæ€ç»´è½¬å˜</h2>





















<table><thead><tr><th>ä¼ ç»Ÿå¼€å‘ï¼ˆæ“ä½œ DOMï¼‰</th><th>Vue å¼€å‘ï¼ˆæ“ä½œæ•°æ®ï¼‰</th></tr></thead><tbody><tr><td>æƒ³åŠ ä¸€æ¡ä»»åŠ¡ â†’ appendChild ä¸€ä¸ª li</td><td>æƒ³åŠ ä¸€æ¡ä»»åŠ¡ â†’ todos.push(æ–°å¯¹è±¡)</td></tr><tr><td>æƒ³æ”¹æ ‡é¢˜ â†’ getElementById().innerText = xxx</td><td>æƒ³æ”¹æ ‡é¢˜ â†’ title.value = 'æ–°æ ‡é¢˜'</td></tr><tr><td>æƒ³å…¨é€‰ â†’ éå†æ‰€æœ‰ checkbox æ‰“é’©</td><td>æƒ³å…¨é€‰ â†’ allDone = true</td></tr></tbody></table>
<p>ä½ çœ‹ï¼ŒVue è®©æˆ‘ä»¬å½»åº•ä»ã€Œæ“ä½œé¡µé¢å…ƒç´ ã€å˜æˆäº†ã€Œæ“ä½œæ•°æ®ã€ï¼Œä»£ç æ›´æ¸…æ™°ã€æ›´å®¹æ˜“ç»´æŠ¤ã€ä¹Ÿæ›´å¥½æµ‹è¯•ã€‚</p>
<h3 data-id="heading-24">æœ€åæ€»ç»“ï¼š</h3>
<ul>
<li>ref å“åº”å¼æ•°æ®ï¼ˆæ ¸å¿ƒæ ¸å¿ƒï¼‰</li>
<li>v-model åŒå‘ç»‘å®šï¼ˆè¡¨å•å¿…å¤‡ï¼‰</li>
<li>v-for / v-if æŒ‡ä»¤ï¼ˆæ¨¡æ¿å¿…å¤‡ï¼‰</li>
<li>computed è®¡ç®—å±æ€§ï¼ˆæ€§èƒ½+ä¼˜é›…ï¼‰</li>
<li>Composition API çš„ script setupï¼ˆç°ä»£å†™æ³•ï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ä¸šçº§å…¨æ ˆ RBAC å®æˆ˜ (11)ï¼šèœå•ç®¡ç†ä¸æ— é™å±‚çº§æ ‘å½¢è¡¨æ ¼]]></title>    <link>https://juejin.cn/post/7582533464245354530</link>    <guid>https://juejin.cn/post/7582533464245354530</guid>    <pubDate>2025-12-12T07:14:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464245354530" data-draft-id="7582517824498860066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ä¸šçº§å…¨æ ˆ RBAC å®æˆ˜ (11)ï¼šèœå•ç®¡ç†ä¸æ— é™å±‚çº§æ ‘å½¢è¡¨æ ¼"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯æ¡†æ¶,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2025-12-12T07:14:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°èƒ–éœ"/> <meta itemprop="url" content="https://juejin.cn/user/3790771822016301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ä¸šçº§å…¨æ ˆ RBAC å®æˆ˜ (11)ï¼šèœå•ç®¡ç†ä¸æ— é™å±‚çº§æ ‘å½¢è¡¨æ ¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3790771822016301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°èƒ–éœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:14:11.000Z" title="Fri Dec 12 2025 07:14:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æ‘˜è¦</strong>ï¼šç³»ç»Ÿå¦‚ä½•ç®¡ç†å®ƒè‡ªå·±çš„èœå•ï¼Ÿè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„â€œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹â€çš„é—®é¢˜ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡æ•°æ®åº“åˆå§‹åŒ–è§£å†³å†·å¯åŠ¨é—®é¢˜ï¼Œå¹¶æ·±å…¥è®²è§£å¦‚ä½•åˆ©ç”¨ Element Plus çš„æ ‘å½¢è¡¨æ ¼å±•ç¤ºæ— é™å±‚çº§æ•°æ®ï¼Œä»¥åŠå¦‚ä½•å®ç°â€œç›®å½•ã€èœå•ã€æŒ‰é’®â€ä¸‰ç§ç±»å‹çš„åŠ¨æ€è¡¨å•äº¤äº’ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€ å¼•è¨€ï¼šå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ</h3>
<p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†<strong>åŠ¨æ€è·¯ç”±</strong>ï¼Œå‰ç«¯çš„èœå•æ˜¯æ ¹æ®æ•°æ®åº“é‡Œçš„Â sys_menusÂ è¡¨è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p>
<p>ç°åœ¨é—®é¢˜æ¥äº†ï¼šæˆ‘ä»¬æƒ³è¦åœ¨é¡µé¢ä¸Šé€šè¿‡å›¾å½¢åŒ–ç•Œé¢æ¥æ–°å¢ã€ä¿®æ”¹èœå•ï¼Œä½†æ˜¯æ•°æ®åº“é‡Œå¦‚æœæ²¡æœ‰â€œèœå•ç®¡ç†â€è¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬å°±è¿›ä¸å»è¿™ä¸ªåŠŸèƒ½ã€‚è¿™å°±æ˜¯å…¸å‹çš„ç³»ç»Ÿ**è‡ªä¸¾ï¼ˆBootstrappingï¼‰**é—®é¢˜ã€‚</p>
<p>æœ¬ç¯‡çš„æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ol>
<li><strong>æ•°æ®åˆå§‹åŒ–</strong>ï¼šæ‰‹åŠ¨ SQL æ’å…¥ç¬¬ä¸€æ¡æ•°æ®ï¼Œæ‰“ç ´åƒµå±€ã€‚</li>
<li><strong>æ ‘å½¢è¡¨æ ¼</strong>ï¼šä¸ç”¨é€’å½’ç»„ä»¶ï¼Œåˆ©ç”¨Â el-tableÂ åŸç”Ÿç‰¹æ€§å±•ç¤ºæ ‘æ•°æ®ã€‚</li>
<li><strong>åŠ¨æ€è¡¨å•</strong>ï¼šæ ¹æ®æ˜¯â€œç›®å½•â€è¿˜æ˜¯â€œæŒ‰é’®â€ï¼ŒåŠ¨æ€æ§åˆ¶è¡¨å•é¡¹çš„æ˜¾ç¤ºä¸æ ¡éªŒã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€ æ•°æ®åº“ä¸åˆå§‹åŒ–ï¼šæ‰“ç ´åƒµå±€</h3>
<p>åœ¨å¼€å‘ä»»ä½• CRUD åŠŸèƒ½ä¹‹å‰ï¼Œå…ˆç¡®ä¿æ•°æ®åº“ç»“æ„æ”¯æŒæˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼ˆå¦‚ç¼“å­˜æ§åˆ¶ã€æ˜¾éšæ§åˆ¶ï¼‰ã€‚</p>
<h4 data-id="heading-2">. è¡¨ç»“æ„ç¡®è®¤</h4>
<p>é™¤äº†åŸºç¡€çš„Â pathÂ å’ŒÂ componentï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨Â èœå•ç±»å‹ typeï¼š</p>
<ul>
<li><strong>M (Directory)</strong> : ç›®å½•ã€‚æœ‰è·¯ç”±åœ°å€ï¼Œæ— ç»„ä»¶è·¯å¾„ï¼ˆé€šå¸¸æ˜¯ Layoutï¼‰ï¼Œä¸æ˜¾ç¤ºåœ¨å†…å®¹åŒºï¼Œåªå±•å¼€å­èœå•ã€‚</li>
<li><strong>C (Menu)</strong> : èœå•ã€‚æœ‰è·¯ç”±ï¼Œæœ‰ç»„ä»¶ï¼Œæ˜¯çœŸæ­£çš„é¡µé¢ã€‚</li>
<li><strong>F (Button)</strong> : æŒ‰é’®ã€‚æ— è·¯ç”±ï¼Œæ— ç»„ä»¶ï¼Œåªç”¨äºæ§åˆ¶é¡µé¢å†…çš„æŒ‰é’®æƒé™ï¼ˆå¦‚Â system:user:addï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">2. åˆå§‹åŒ– SQL (ç§å­æ•°æ®)</h4>
<p>æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ’å…¥â€œèœå•ç®¡ç†â€æœ¬èº«ï¼Œå¹¶æŠŠå®ƒåˆ†é…ç»™è¶…çº§ç®¡ç†å‘˜ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. æ’å…¥èœå•ç®¡ç†é¡µé¢ (ä½œä¸ºç³»ç»Ÿç®¡ç†çš„å­èœå•)</span>
<span class="hljs-comment">-- å‡è®¾ç³»ç»Ÿç®¡ç† ID=1</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_menus` 
(`parent_id`, `menu_name`, `path`, `component`, `perms`, `icon`, `type`, `hidden`, `sort`) 
<span class="hljs-keyword">VALUES</span> 
(<span class="hljs-number">1</span>, <span class="hljs-string">'èœå•ç®¡ç†'</span>, <span class="hljs-string">'menu'</span>, <span class="hljs-string">'system/menu/index'</span>, <span class="hljs-string">'system:menu:list'</span>, <span class="hljs-string">'list'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>);

<span class="hljs-comment">-- 2. ç»™è§’è‰²åˆ†é…æƒé™ (Role ID = 1)</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_role_menus` (`role_id`, `menu_id`) 
<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, (<span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> sys_menus <span class="hljs-keyword">WHERE</span> path<span class="hljs-operator">=</span><span class="hljs-string">'menu'</span> LIMIT <span class="hljs-number">1</span>));
</code></pre>
<p>æ‰§è¡Œå®Œè¿™æ¡ SQLï¼Œåˆ·æ–°é¡µé¢ï¼Œä¾§è¾¹æ å°±ä¼šç¥å¥‡åœ°å‡ºç°â€œèœå•ç®¡ç†â€äº†ã€‚</p>
<h3 data-id="heading-4">ä¸‰ã€ åç«¯å®ç°ï¼šé€»è¾‘æ ¡éªŒä¸æ ‘å½¢ç»„è£…</h3>
<p>åç«¯é™¤äº†å¸¸è§„çš„ CRUDï¼Œä¸»è¦æœ‰ä¸¤ä¸ªé€»è¾‘ç‚¹ï¼š<strong>åˆ—è¡¨è½¬æ ‘</strong>Â å’ŒÂ <strong>åˆ é™¤ä¿æŠ¤</strong>ã€‚</p>
<h4 data-id="heading-5">1. åˆ—è¡¨æ¥å£ (GET /menu/list)</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// routes/menu.js</span>
router.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/list'</span>, authMiddleware, <span class="hljs-keyword">async</span> (req, res, next) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { menuName, status } = req.<span class="hljs-property">query</span>
    <span class="hljs-keyword">let</span> sql = <span class="hljs-string">'SELECT * FROM sys_menus WHERE 1=1'</span>
    <span class="hljs-keyword">let</span> params = []

    <span class="hljs-comment">// ... æ‹¼æ¥æŸ¥è¯¢æ¡ä»¶ ...</span>
    
    <span class="hljs-keyword">const</span> [rows] = <span class="hljs-keyword">await</span> pool.<span class="hljs-title function_">query</span>(sql, params)
    
    <span class="hljs-comment">// ã€å…³é”®ã€‘å°†æ‰å¹³æ•°ç»„è½¬æ¢ä¸ºæ ‘å½¢ç»“æ„</span>
    <span class="hljs-comment">// è¿™é‡Œçš„ buildTree ä¸ä¹‹å‰åŠ¨æ€è·¯ç”±ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªè¾…åŠ©å‡½æ•°</span>
    <span class="hljs-keyword">const</span> list = <span class="hljs-title function_">buildTree</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rows)))

    res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">data</span>: list })
  } <span class="hljs-keyword">catch</span> (err) { <span class="hljs-title function_">next</span>(err) }
})
</code></pre>
<h3 data-id="heading-6">å››ã€ å‰ç«¯å®ç°ï¼šæ ‘å½¢è¡¨æ ¼ä¸åŠ¨æ€è¡¨å•</h3>
<h4 data-id="heading-7">1. æ ‘å½¢è¡¨æ ¼ (el-table)</h4>
<p>Element Plus çš„ Table ç»„ä»¶è‡ªå¸¦æ ‘å½¢å±•ç¤ºåŠŸèƒ½ï¼Œåªéœ€é…ç½®Â row-keyÂ å’ŒÂ tree-propsã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;el-table
  :data="menuList"
  row-key="id" 
  border
  :tree-props="{ children: 'children', hasChildren: 'hasChildren' }"
&gt;
  &lt;el-table-column prop="menu_name" label="èœå•åç§°" width="160" /&gt;
  
  &lt;!-- åŠ¨æ€å›¾æ ‡å±•ç¤º --&gt;
  &lt;el-table-column prop="icon" label="å›¾æ ‡" align="center" width="60"&gt;
    &lt;template #default="{ row }"&gt;
      &lt;el-icon v-if="row.icon"&gt;
        &lt;component :is="row.icon" /&gt;
      &lt;/el-icon&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  
  &lt;el-table-column prop="perms" label="æƒé™æ ‡è¯†" /&gt;
  &lt;el-table-column prop="component" label="ç»„ä»¶è·¯å¾„" /&gt;
  
  &lt;!-- çŠ¶æ€å±•ç¤º --&gt;
  &lt;el-table-column prop="hidden" label="çŠ¶æ€" width="80"&gt;
    &lt;template #default="{ row }"&gt;
      &lt;el-tag v-if="row.hidden === 0" type="success"&gt;æ˜¾ç¤º&lt;/el-tag&gt;
      &lt;el-tag v-else type="info"&gt;éšè—&lt;/el-tag&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
&lt;/el-table&gt;
</code></pre>
<ul>
<li><strong>row-key="id"</strong> : å‘Šè¯‰è¡¨æ ¼æ¯è¡Œçš„å”¯ä¸€æ ‡è¯†ï¼Œè¿™æ˜¯æŠ˜å å±•å¼€çš„å…³é”®ã€‚</li>
<li><strong>tree-props</strong>: å‘Šè¯‰è¡¨æ ¼å­èŠ‚ç‚¹åœ¨å“ªä¸ªå­—æ®µé‡Œï¼ˆé»˜è®¤æ˜¯ childrenï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">2. åŠ¨æ€è¡¨å•äº¤äº’ (æ ¸å¿ƒäº®ç‚¹)</h4>
<p>åœ¨â€œæ–°å¢/ä¿®æ”¹â€å¼¹çª—ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®Â typeÂ çš„ä¸åŒï¼ŒåŠ¨æ€æ§åˆ¶è¡¨å•é¡¹çš„<strong>æ˜¾ç¤º/éšè—</strong>å’Œ<strong>æ ¡éªŒè§„åˆ™</strong>ã€‚</p>
<ul>
<li><strong>ç›®å½• (M)</strong> : éœ€è¦è·¯ç”±åœ°å€ï¼Œä¸éœ€è¦ç»„ä»¶è·¯å¾„ã€‚</li>
<li><strong>èœå• (C)</strong> : éœ€è¦è·¯ç”±åœ°å€ + ç»„ä»¶è·¯å¾„ã€‚</li>
<li><strong>æŒ‰é’® (F)</strong> : åªéœ€è¦æƒé™å­—ç¬¦ï¼Œä¸éœ€è¦è·¯ç”±å’Œç»„ä»¶ã€‚</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;el-form ref="menuFormRef" :model="form" :rules="rules" label-width="100px"&gt;
  
  &lt;!-- ä¸Šçº§èœå•é€‰æ‹©ï¼šä½¿ç”¨ TreeSelect ç»„ä»¶ --&gt;
  &lt;el-form-item label="ä¸Šçº§èœå•"&gt;
    &lt;el-tree-select
      v-model="form.parentId"
      :data="menuOptions"
      :props="{ value: 'id', label: 'label', children: 'children' }"
      check-strictly
    /&gt;
  &lt;/el-form-item&gt;

  &lt;!-- ç±»å‹åˆ‡æ¢ --&gt;
  &lt;el-form-item label="èœå•ç±»å‹" prop="menuType"&gt;
    &lt;el-radio-group v-model="form.menuType"&gt;
      &lt;el-radio value="M"&gt;ç›®å½•&lt;/el-radio&gt;
      &lt;el-radio value="C"&gt;èœå•&lt;/el-radio&gt;
      &lt;el-radio value="F"&gt;æŒ‰é’®&lt;/el-radio&gt;
    &lt;/el-radio-group&gt;
  &lt;/el-form-item&gt;

  &lt;!-- åŠ¨æ€é€»è¾‘ v-if --&gt;
  &lt;el-form-item label="è·¯ç”±åœ°å€" prop="path" v-if="form.menuType !== 'F'"&gt;
    &lt;el-input v-model="form.path" /&gt;
  &lt;/el-form-item&gt;

  &lt;el-form-item label="ç»„ä»¶è·¯å¾„" prop="component" v-if="form.menuType === 'C'"&gt;
    &lt;el-input v-model="form.component" placeholder="viewsä¸‹çš„è·¯å¾„" /&gt;
  &lt;/el-form-item&gt;

  &lt;el-form-item label="æƒé™å­—ç¬¦" v-if="form.menuType !== 'M'"&gt;
    &lt;el-input v-model="form.perms" placeholder="system:user:add" /&gt;
  &lt;/el-form-item&gt;
  
  &lt;!-- ... å…¶ä»–é€šç”¨é¡¹ ... --&gt;
&lt;/el-form&gt;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a7b3f5f449247c5b9c20edb02341a34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IOW6Zye:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766128451&amp;x-signature=glgL6QI9BF9VIpOhWXP1Lyxmb7g%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">3. æ„å»ºä¸Šçº§èœå•ä¸‹æ‹‰æ ‘</h4>
<p>åœ¨é€‰æ‹©â€œä¸Šçº§èœå•â€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å±•ç¤ºä¸€ä¸ªæ ‘å½¢ä¸‹æ‹‰æ¡†ã€‚è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼š<strong>æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®é¡¶å±‚æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªâ€œä¸»ç±»ç›®â€èŠ‚ç‚¹</strong>ï¼Œå¦åˆ™ç”¨æˆ·æ— æ³•å°†èœå•åˆ›å»ºä¸ºä¸€çº§èœå•ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getTreeselect</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">listMenu</span>({}); <span class="hljs-comment">// å¤ç”¨åˆ—è¡¨æ¥å£</span>
  <span class="hljs-comment">// æ‰‹åŠ¨æ„é€ æ ¹èŠ‚ç‚¹</span>
  <span class="hljs-keyword">const</span> menu = { <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'ä¸»ç±»ç›®'</span>, <span class="hljs-attr">children</span>: [] };
  
  <span class="hljs-comment">// ç®€å•çš„å­—æ®µæ˜ å°„ (menu_name -&gt; label)</span>
  menu.<span class="hljs-property">children</span> = res.<span class="hljs-property">data</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">mapTreeSelect</span>(node));
  
  menuOptions.<span class="hljs-property">value</span> = [menu];
};
</code></pre>
<p>é€šè¿‡æœ¬ç¯‡ï¼Œæˆ‘ä»¬å®Œæˆäº† RBAC ç³»ç»Ÿç®¡ç†çš„æœ€åä¸€å—æ‹¼å›¾â€”â€”<strong>èœå•ç®¡ç†</strong>ã€‚<br/>
ç°åœ¨ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸Šé…ç½®æ–°çš„è·¯ç”±ï¼Œè®¾ç½®å›¾æ ‡ï¼Œå®šä¹‰æƒé™ï¼Œæ— éœ€ä¿®æ”¹ä¸€è¡Œä»£ç ï¼Œåˆ·æ–°é¡µé¢å³å¯ç”Ÿæ•ˆã€‚è¿™æ ‡å¿—ç€æˆ‘ä»¬çš„ç³»ç»Ÿå…·å¤‡äº†<strong>åŠ¨æ€æ‰©å±•èƒ½åŠ›</strong></p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨èœå•é‡Œé…ç½®äº†Â <code>system:user:add</code>Â è¿™ç§æƒé™æ ‡è¯†ï¼Œå®ƒåˆ°åº•æœ‰ä»€ä¹ˆç”¨ï¼Ÿå‰ç«¯å¦‚ä½•åˆ©ç”¨å®ƒæ¥æ§åˆ¶æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—ï¼Ÿ</p>
<p><strong>ä¸‹ä¸€ç¯‡ï¼šã€Šå…¨æ ˆ RBAC å®æˆ˜ (12)ï¼šæ“ä½œæ—¥å¿—ä¸æŒ‰é’®çº§åˆ«æƒé™ã€‹</strong> ï¼Œæˆ‘ä»¬å°†æ·±å…¥ Vue 3 è‡ªå®šä¹‰æŒ‡ä»¤çš„å®ç°åŸç†ï¼Œå®ç°ç»†ç²’åº¦çš„æŒ‰é’®çº§æƒé™æ§åˆ¶ï¼Œå¹¶é¡ºå¸¦æå®šæ“ä½œæ—¥å¿—è®°å½•ã€‚</p>
<h2 data-id="heading-10">å…·å¤‡å®Œæ•´åŠŸèƒ½åå°ç®¡ç†ç³»ç»Ÿçš„ä»£ç ä»“åº“ï¼š</h2>
<p>æ„Ÿè°¢å¤§å®¶çš„star</p>
<p>å‰ç«¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fchen_pengchao%2Famdin-tempalte" target="_blank" title="https://gitee.com/chen_pengchao/amdin-tempalte" ref="nofollow noopener noreferrer">å‰ç«¯</a></p>
<p>åç«¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fchen_pengchao%2Fadmin-node" target="_blank" title="https://gitee.com/chen_pengchao/admin-node" ref="nofollow noopener noreferrer">åç«¯</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ´»åŠ¨æŠ¥å | Apache Spark Meetup Â· ä¸Šæµ·ç«™ï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºé«˜æ•ˆæ•°æ®å¹³å°]]></title>    <link>https://juejin.cn/post/7582517824499154978</link>    <guid>https://juejin.cn/post/7582517824499154978</guid>    <pubDate>2025-12-12T07:51:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582517824499154978" data-draft-id="7582601349579358208" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ´»åŠ¨æŠ¥å | Apache Spark Meetup Â· ä¸Šæµ·ç«™ï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºé«˜æ•ˆæ•°æ®å¹³å°"/> <meta itemprop="keywords" content="Spark"/> <meta itemprop="datePublished" content="2025-12-12T07:51:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ´»åŠ¨æŠ¥å | Apache Spark Meetup Â· ä¸Šæµ·ç«™ï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºé«˜æ•ˆæ•°æ®å¹³å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:51:01.000Z" title="Fri Dec 12 2025 07:51:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤§æ•°æ®æŠ€æœ¯é£é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œå¦‚ä½•åœ¨æ€§èƒ½ä¸æˆæœ¬æ•ˆç›Šä¹‹é—´å®ç°å¹³è¡¡ï¼Œå§‹ç»ˆæ˜¯ä¼ä¸šæ„å»ºæ•°æ®å¹³å°çš„æ ¸å¿ƒæŒ‘æˆ˜ä¹‹ä¸€ã€‚é˜¿é‡Œäº‘ EMR Serverless Spark ä½œä¸ºä¸€æ¬¾é¢å‘ Data+AI çš„é«˜æ€§èƒ½ Lakehouse äº§å“ï¼Œå‡­å€Ÿå…¶å†…ç½®çš„ Fusion 2.0ï¼ˆä¼ä¸šçº§ Spark å†…æ ¸ï¼‰ï¼Œä¸ºä¼ä¸šæä¾›äº†ä¸€ç«™å¼çš„ä¼ä¸šçº§æ•°æ®å¹³å°æœåŠ¡æ–¹æ¡ˆã€‚</p>
<p>2025å¹´9æœˆï¼ŒEMR Serverless Sparkï¼ˆFusion 2.0 å†…æ ¸ï¼‰ç»“åˆ DLFï¼ˆé˜¿é‡Œäº‘æ•°æ®æ¹–æ„å»ºï¼‰ä»¥ QphDS æ€§èƒ½è¯„åˆ†è¾¾åˆ° 6568 ä¸‡åˆ†ä»¥ä¸Šçš„ä¼˜å¼‚æˆç»©ï¼Œæ–©è· TPC-DS 100T æµ‹è¯•å…¨çƒæ¦œé¦–ã€‚TPC-DS æ˜¯æ•°æ®ä»“åº“é¢†åŸŸå…¨çƒæƒå¨åŸºå‡†æµ‹è¯•ä¹‹ä¸€ï¼Œå…¶æµ‹è¯•åœºæ™¯å…¨é¢æ¨¡æ‹Ÿäº†å¤æ‚æŸ¥è¯¢ã€å¤šç»´åˆ†æã€æ•°æ®èšåˆç­‰çœŸå®ä¼ä¸šçº§æ•°æ®åˆ†æè´Ÿè½½ï¼Œå¯¹æ•°æ®å¤„ç†å¼•æ“çš„æ€§èƒ½å’Œæ‰©å±•æ€§æå‡ºäº†æé«˜è¦æ±‚ã€‚æ­¤æ¬¡å¤ºå† ä¸ä»…å½°æ˜¾äº† EMR Serverless Spark åœ¨è¶…å¤§è§„æ¨¡æ•°æ®å¤„ç†åœºæ™¯ä¸­çš„å“è¶Šæ€§èƒ½ï¼Œæ›´ä½“ç°äº†å…¶åœ¨æè‡´æ€§èƒ½ä¸æˆæœ¬æ§åˆ¶ä¹‹é—´å®ç°é«˜æ•ˆå¹³è¡¡çš„æŠ€æœ¯å®åŠ›ã€‚</p>
<p>ä¸ºäº†å¸®åŠ©ä¼ä¸šæ›´å¥½åœ°æ„å»ºé«˜æ•ˆæ•°æ®å¹³å°ï¼Œé˜¿é‡Œäº‘ EMR å›¢é˜Ÿç‰¹åˆ«ç­–åˆ’å¹¶ä¸¾åŠæœ¬æ¬¡çº¿ä¸‹ Meetupï¼Œæ·±å…¥è§£æ EMR Serverless Spark Fusion 2.0 ç™»é¡¶èƒŒåçš„åˆ›æ–°æŠ€æœ¯ä¸ä¼˜åŒ–ç­–ç•¥ã€‚æ´»åŠ¨ç‰¹åˆ«é‚€è¯·æµåˆ©è¯´æŠ€æœ¯ä¸“å®¶ï¼Œåˆ†äº« EMR Serverless Spark åœ¨ä¼ä¸šçº§åœºæ™¯ä¸­çš„æœ€ä½³å®è·µã€‚åŒæ—¶ï¼ŒDataWorks é«˜çº§æŠ€æœ¯ä¸“å®¶ä¹Ÿå°†äº²ä¸´ç°åœºï¼Œè¯¦ç»†è§£è¯»å…¶ä¸ EMR Serverless Spark çš„æ·±åº¦ååŒèƒ½åŠ›ï¼Œä¸ºä¼ä¸šæä¾›æ›´é«˜æ•ˆã€æ›´æ™ºèƒ½çš„æ•°æ®å¤„ç†è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠå¦‚ä½•ç»“åˆ DataWorks çš„å¤šæºæ•°æ®é«˜æ•ˆå…¥æ¹–ä¸æ™ºèƒ½åŒ–è°ƒåº¦æ–¹æ¡ˆï¼Œå®ç°ä»éç»“æ„åŒ–æ•°æ®é‡‡é›†ã€å­˜å‚¨ã€æ²»ç†åˆ°åˆ†æåº”ç”¨çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†é—­ç¯ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜è£å¹¸åœ°é‚€è¯·åˆ°äº† AMD é«˜çº§è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆï¼Œç°åœºåˆ†äº« AMD åœ¨é˜¿é‡Œäº‘ EMR Serverless Spark ä¸­çš„åˆ›æ–°åº”ç”¨ï¼ŒåŒ…æ‹¬ç¡¬ä»¶åŠ é€Ÿã€èµ„æºè°ƒåº¦ä¼˜åŒ–ç­‰æŠ€æœ¯ç»†èŠ‚ï¼Œæ·±å…¥æ¢è®¨å¦‚ä½•é€šè¿‡è½¯ç¡¬ä»¶ç»“åˆè¿›ä¸€æ­¥æå‡æ•°æ®å¤„ç†æ•ˆç‡ä¸æ€§èƒ½è¡¨ç°ã€‚</p>
<p>é€šè¿‡æ­¤æ¬¡ Meetupï¼Œä¼ä¸šä¸ä»…èƒ½å¤Ÿå…¨é¢äº†è§£ EMR Serverless Spark çš„æŠ€æœ¯ä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ï¼Œè¿˜èƒ½æ·±å…¥æŒæ¡å…¶ä¸ DataWorks å’Œ AMD æŠ€æœ¯çš„ååŒä»·å€¼ï¼Œä¸ºä¼ä¸šåœ¨æ•°æ®é©±åŠ¨çš„ä¸šåŠ¡åœºæ™¯ä¸­æ„å»ºé«˜æ•ˆã€æ™ºèƒ½çš„æ•°æ®å¹³å°æä¾›é‡è¦å‚è€ƒä¸å®è·µæŒ‡å¯¼ã€‚</p>
<p><strong>æ´»åŠ¨æ—¶é—´ï¼š2025 å¹´ 12 æœˆ 20 æ—¥ï¼Œ13:30-17:00</strong></p>
<p><strong>æ´»åŠ¨åœ°ç‚¹ï¼šä¸Šæµ· Â· é˜¿é‡Œå·´å·´å¾æ±‡æ»¨æ±Ÿå›­åŒº</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhd.aliyun.com%2Fform%2F7156" target="_blank" title="https://hd.aliyun.com/form/7156" ref="nofollow noopener noreferrer"><strong>ç‚¹æ­¤æŠ¥å</strong></a></p>
<h3 data-id="heading-0">æ´»åŠ¨è®®ç¨‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd424988d0b4ff5902332b11891ba9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766130661&amp;x-signature=wfWV9efHQYf2Sw0g7NjcMw3ZamU%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React ä¸­ CSS Modules è¯¦è§£]]></title>    <link>https://juejin.cn/post/7582533464245731362</link>    <guid>https://juejin.cn/post/7582533464245731362</guid>    <pubDate>2025-12-12T08:01:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464245731362" data-draft-id="7582517824499220514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React ä¸­ CSS Modules è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-12T08:01:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰å¹´ä¸‰æœˆ"/> <meta itemprop="url" content="https://juejin.cn/user/694547078186440"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React ä¸­ CSS Modules è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547078186440/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰å¹´ä¸‰æœˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:01:44.000Z" title="Fri Dec 12 2025 08:01:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">React ä¸­ CSS Modules è¯¦è§£</h2>
<h3 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ React ä¸­çš„ CSS Modules</h3>
<p>CSS Modules æ˜¯ä¸€ç§ç”¨äºè§£å†³ CSS å‘½åå†²çªé—®é¢˜çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œå®ƒå…è®¸åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨å±€éƒ¨ä½œç”¨åŸŸçš„ CSS ç±»åã€‚åœ¨ CSS Modules ä¸­ï¼Œæ‰€æœ‰çš„ç±»åé»˜è®¤éƒ½æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åªåœ¨å¯¼å…¥è¯¥ CSS æ–‡ä»¶çš„ç»„ä»¶ä¸­æœ‰æ•ˆï¼Œä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶ã€‚</p>
<p>CSS Modules ä¸æ˜¯ React ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œå®ƒæ˜¯ä¸€ç§é€šç”¨çš„ CSS æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä¸ä»»ä½•æ”¯æŒ ES Modules çš„æ„å»ºå·¥å…·ï¼ˆå¦‚ Webpackã€Rollup ç­‰ï¼‰ä¸€èµ·ä½¿ç”¨ã€‚åœ¨ React ç”Ÿæ€ç³»ç»Ÿä¸­ï¼ŒCSS Modules æ˜¯ä¸€ç§éå¸¸æµè¡Œçš„æ ·å¼ç®¡ç†æ–¹å¼ã€‚</p>
<h3 data-id="heading-2">2. ä¸ºä»€ä¹ˆåœ¨ React ä¸­ä½¿ç”¨ CSS Modules</h3>
<p>åœ¨ React ä¸­ä½¿ç”¨ CSS Modules ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿ CSS çš„ä¸€äº›é—®é¢˜ï¼š</p>
<h4 data-id="heading-3">2.1 è§£å†³ç±»åå†²çªé—®é¢˜</h4>
<p>ä¼ ç»Ÿçš„ CSS æ˜¯å…¨å±€ä½œç”¨åŸŸçš„ï¼Œè¿™æ„å‘³ç€å½“å¤šä¸ªç»„ä»¶ä½¿ç”¨ç›¸åŒçš„ç±»åæ—¶ï¼Œä¼šå‘ç”Ÿæ ·å¼å†²çªã€‚</p>
<p><strong>ä¼ ç»Ÿ CSS çš„é—®é¢˜ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: blue;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
}

<span class="hljs-comment">/* PrimaryButton.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: red;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Button.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./Button.css'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Button</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"button"</span>&gt;</span>æ™®é€šæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Button</span>;

<span class="hljs-comment">// PrimaryButton.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./PrimaryButton.css'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">PrimaryButton</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"button"</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PrimaryButton</span>;

<span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PrimaryButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./PrimaryButton'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> /&gt;</span> {/* è¿™é‡Œçš„æŒ‰é’®æ ·å¼ä¼šè¢« PrimaryButton.css è¦†ç›– */}
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç”±äºä¸¤ä¸ªç»„ä»¶éƒ½ä½¿ç”¨äº† <code>.button</code> ç±»åï¼Œåå¯¼å…¥çš„ PrimaryButton.css ä¼šè¦†ç›– Button.css ä¸­çš„æ ·å¼ï¼Œå¯¼è‡´ä¸¤ä¸ªæŒ‰é’®éƒ½æ˜¾ç¤ºä¸ºçº¢è‰²ã€‚</p>
<h4 data-id="heading-4">2.2 é¿å…æ ·å¼æ±¡æŸ“</h4>
<p>ä½¿ç”¨ CSS Modules å¯ä»¥ç¡®ä¿ç»„ä»¶çš„æ ·å¼ä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶ï¼Œé¿å…æ ·å¼æ±¡æŸ“ã€‚</p>
<h4 data-id="heading-5">2.3 æé«˜ä»£ç å¯ç»´æŠ¤æ€§</h4>
<p>CSS Modules ä½¿å¾—æ ·å¼ä¸ç»„ä»¶ç´§å¯†è€¦åˆï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚å½“éœ€è¦ä¿®æ”¹æŸä¸ªç»„ä»¶çš„æ ·å¼æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹å¯¹åº”çš„ CSS æ–‡ä»¶å³å¯ï¼Œä¸éœ€è¦æ‹…å¿ƒå½±å“å…¶ä»–ç»„ä»¶ã€‚</p>
<h3 data-id="heading-6">3. React ä¸­ CSS Modules çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-7">3.1 åˆ›å»º CSS Modules æ–‡ä»¶</h4>
<p>CSS Modules æ–‡ä»¶çš„å‘½åæ–¹å¼é€šå¸¸æ˜¯ <code>.module.css</code>ï¼Œä¾‹å¦‚ <code>Button.module.css</code>ã€‚</p>
<h4 data-id="heading-8">3.2 å¯¼å…¥å’Œä½¿ç”¨ CSS Modules</h4>
<p>åœ¨ React ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ ES Modules çš„æ–¹å¼å¯¼å…¥ CSS Modules æ–‡ä»¶ï¼Œç„¶åé€šè¿‡å¯¹è±¡çš„æ–¹å¼è®¿é—®å…¶ä¸­çš„ç±»åã€‚</p>
<p><strong>åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: blue;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.primary</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Button.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Button</span> = (<span class="hljs-params">{ primary, children }</span>) =&gt; {
  <span class="hljs-keyword">const</span> buttonClass = primary ? <span class="hljs-string">`<span class="hljs-subst">${styles.button}</span> <span class="hljs-subst">${styles.primary}</span>`</span> : styles.<span class="hljs-property">button</span>;
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{buttonClass}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Button</span>;

<span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>æ™®é€šæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">primary</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒCSS Modules ä¼šè‡ªåŠ¨å°†ç±»åè½¬æ¢ä¸ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ <code>.button</code> å¯èƒ½ä¼šè¢«è½¬æ¢ä¸º <code>.Button_button__1a2b3c</code>ï¼Œè¿™æ ·å°±é¿å…äº†ç±»åå†²çªã€‚</p>
<h3 data-id="heading-9">4. CSS Modules çš„åŸç†</h3>
<p>CSS Modules çš„å·¥ä½œåŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>è§£æ CSS æ–‡ä»¶</strong>ï¼šæ„å»ºå·¥å…·ï¼ˆå¦‚ Webpackï¼‰çš„ CSS Modules æ’ä»¶ä¼šè§£æ <code>.module.css</code> æ–‡ä»¶ã€‚</li>
<li><strong>ç”Ÿæˆå”¯ä¸€ç±»å</strong>ï¼šå¯¹äºæ¯ä¸ªç±»åï¼Œæ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼Œé€šå¸¸æ˜¯åŸºäºæ–‡ä»¶åã€ç±»åå’Œå†…å®¹ç”Ÿæˆçš„ã€‚</li>
<li><strong>åˆ›å»ºæ˜ å°„è¡¨</strong>ï¼šæ’ä»¶ä¼šåˆ›å»ºä¸€ä¸ªä»åŸå§‹ç±»ååˆ°ç”Ÿæˆçš„å”¯ä¸€ç±»åçš„æ˜ å°„è¡¨ã€‚</li>
<li><strong>æ›¿æ¢ç±»å</strong>ï¼šå°† CSS æ–‡ä»¶ä¸­çš„åŸå§‹ç±»åæ›¿æ¢ä¸ºç”Ÿæˆçš„å”¯ä¸€ç±»åã€‚</li>
<li><strong>å¯¼å‡ºæ˜ å°„è¡¨</strong>ï¼šå°†æ˜ å°„è¡¨å¯¼å‡ºä¸ºä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œä¾›ç»„ä»¶ä½¿ç”¨ã€‚</li>
</ol>
<p><strong>åŸç†ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: blue;
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.primary</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
</code></pre>
<p>ç»è¿‡ CSS Modules å¤„ç†åï¼Œä¼šç”Ÿæˆç±»ä¼¼ä»¥ä¸‹çš„ CSSï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.Button_button__1a2b3c</span> {
  <span class="hljs-attribute">background-color</span>: blue;
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.Button_primary__4d5e6f</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
</code></pre>
<p>åŒæ—¶ä¼šç”Ÿæˆä¸€ä¸ª JavaScript å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">button</span>: <span class="hljs-string">'Button_button__1a2b3c'</span>,
  <span class="hljs-attr">primary</span>: <span class="hljs-string">'Button_primary__4d5e6f'</span>
}
</code></pre>
<p>ç»„ä»¶å¯ä»¥é€šè¿‡å¯¼å…¥è¿™ä¸ªå¯¹è±¡æ¥ä½¿ç”¨ç”Ÿæˆçš„å”¯ä¸€ç±»åã€‚</p>
<h3 data-id="heading-10">5. VSCode ä¸­ CSS Modules æ’ä»¶çš„ä»‹ç»ä¸ä½¿ç”¨</h3>
<p>åœ¨ VSCode ä¸­ï¼Œæœ‰å‡ ä¸ªå¸¸ç”¨çš„ CSS Modules æ’ä»¶å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼š</p>
<h4 data-id="heading-11">5.1 CSS Modules</h4>
<ul>
<li><strong>æ’ä»¶åç§°</strong>ï¼šCSS Modules</li>
<li><strong>åŠŸèƒ½</strong>ï¼šæä¾› CSS Modules ç±»åçš„è‡ªåŠ¨è¡¥å…¨ã€æ‚¬åœæç¤ºå’Œè·³è½¬åˆ°å®šä¹‰ç­‰åŠŸèƒ½ã€‚</li>
<li><strong>å®‰è£…æ–¹æ³•</strong>ï¼šåœ¨ VSCode æ‰©å±•å•†åº—ä¸­æœç´¢ "CSS Modules" å¹¶å®‰è£…ã€‚</li>
<li><strong>ä½¿ç”¨æ–¹æ³•</strong>ï¼š
<ol>
<li>å®‰è£…æ’ä»¶åï¼Œåœ¨ JavaScript/TypeScript æ–‡ä»¶ä¸­å¯¼å…¥ CSS Modules æ–‡ä»¶æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«ã€‚</li>
<li>å½“è¾“å…¥ <code>styles.</code> æ—¶ï¼Œæ’ä»¶ä¼šæ˜¾ç¤ºå¯ç”¨çš„ç±»ååˆ—è¡¨ã€‚</li>
<li>æ‚¬åœåœ¨ç±»åä¸Šæ—¶ï¼Œä¼šæ˜¾ç¤ºå¯¹åº”çš„ CSS æ ·å¼ã€‚</li>
<li>æŒ‰ä½ Ctrl/Cmd é”®å¹¶ç‚¹å‡»ç±»åï¼Œå¯ä»¥è·³è½¬åˆ° CSS æ–‡ä»¶ä¸­çš„å®šä¹‰ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-12">5.2 CSS Modules Syntax Highlighter</h4>
<ul>
<li><strong>æ’ä»¶åç§°</strong>ï¼šCSS Modules Syntax Highlighter</li>
<li><strong>åŠŸèƒ½</strong>ï¼šä¸º CSS Modules æ–‡ä»¶æä¾›è¯­æ³•é«˜äº®æ”¯æŒã€‚</li>
<li><strong>å®‰è£…æ–¹æ³•</strong>ï¼šåœ¨ VSCode æ‰©å±•å•†åº—ä¸­æœç´¢ "CSS Modules Syntax Highlighter" å¹¶å®‰è£…ã€‚</li>
</ul>
<h3 data-id="heading-13">6. å¦‚ä½•è‡ªå®šä¹‰æ‰“åŒ…ä¹‹åçš„ className</h3>
<p>åœ¨ CSS Modules ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>generateScopedName</code> é€‰é¡¹æ¥è‡ªå®šä¹‰æ‰“åŒ…ä¹‹åçš„ç±»åæ ¼å¼ã€‚</p>
<h4 data-id="heading-14">6.1 åœ¨ Webpack ä¸­é…ç½® generateScopedName</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">generateScopedName</span>: <span class="hljs-string">'[name]__[local]__[hash:base64:5]'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h4 data-id="heading-15">6.2 generateScopedName é€‰é¡¹è¯´æ˜</h4>
<ul>
<li><code>[name]</code>ï¼šæ–‡ä»¶å</li>
<li><code>[local]</code>ï¼šåŸå§‹ç±»å</li>
<li><code>[hash:base64:5]</code>ï¼šåŸºäºå†…å®¹ç”Ÿæˆçš„ 5 ä½ base64 å“ˆå¸Œå€¼</li>
</ul>
<p><strong>è‡ªå®šä¹‰ç±»åç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰æ ¼å¼</span>
<span class="hljs-attr">generateScopedName</span>: <span class="hljs-string">'app-[local]'</span>
<span class="hljs-comment">// ç”Ÿæˆçš„ç±»åï¼šapp-button</span>

<span class="hljs-comment">// æ›´å¤æ‚çš„æ ¼å¼</span>
<span class="hljs-attr">generateScopedName</span>: <span class="hljs-string">'[name]_[local]_[hash:hex:4]'</span>
<span class="hljs-comment">// ç”Ÿæˆçš„ç±»åï¼šButton_button_a1b2</span>
</code></pre>
<h3 data-id="heading-16">7. CSS Modules ä¸­å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„è®¾ç½®</h3>
<p>CSS Modules æ”¯æŒå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ã€‚</p>
<h4 data-id="heading-17">7.1 ä½¿ç”¨ :global() å’Œ :local() ä¼ªç±»</h4>
<ul>
<li><code>:local()</code>ï¼šå®šä¹‰å±€éƒ¨ä½œç”¨åŸŸçš„ç±»åï¼ˆé»˜è®¤ï¼‰</li>
<li><code>:global()</code>ï¼šå®šä¹‰å…¨å±€ä½œç”¨åŸŸçš„ç±»å</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å±€éƒ¨ä½œç”¨åŸŸï¼ˆé»˜è®¤ï¼‰ */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: blue;
}

<span class="hljs-comment">/* æ˜¾å¼å®šä¹‰å±€éƒ¨ä½œç”¨åŸŸ */</span>
:<span class="hljs-built_in">local</span>(.primary) {
  <span class="hljs-attribute">background-color</span>: red;
}

<span class="hljs-comment">/* å…¨å±€ä½œç”¨åŸŸ */</span>
:<span class="hljs-built_in">global</span>(.global-button) {
  <span class="hljs-attribute">background-color</span>: green;
}

<span class="hljs-comment">/* åµŒå¥—ä½¿ç”¨ */</span>
:<span class="hljs-built_in">local</span>(.container) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
  
  <span class="hljs-comment">/* å®¹å™¨å†…çš„å…¨å±€ç±» */</span>
  :<span class="hljs-built_in">global</span>(.title) {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;
    <span class="hljs-attribute">font-weight</span>: bold;
  }
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ä½¿ç”¨å…¨å±€ç±»</span>
div className={styles.<span class="hljs-property">container</span>}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span> {<span class="hljs-comment">/* å…¨å±€ç±»ç›´æ¥ä½¿ç”¨ */</span>}
  &lt;button className={styles.<span class="hljs-property">button</span>}&gt;å±€éƒ¨æŒ‰é’®&lt;/button&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"global-button"</span>&gt;</span>å…¨å±€æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/div&gt;
</code></pre>
<h4 data-id="heading-18">7.2 exportsGlobals é…ç½®</h4>
<p><code>exportsGlobals</code> é€‰é¡¹ç”¨äºæŒ‡å®šå“ªäº›ç±»ååº”è¯¥è¢«å¯¼å‡ºä¸ºå…¨å±€å˜é‡ã€‚
è¿™æ ·å…¨å±€csså˜é‡ä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨ <code>{styles.globalButton}</code>(ä¹‹å‰åªèƒ½è¿™æ ·<code>className="global-button"</code>)</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">exportsGlobals</span>: <span class="hljs-literal">true</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h4 data-id="heading-19">7.3 scopeBehaviour é…ç½®</h4>
<p><code>scopeBehaviour</code> é€‰é¡¹ç”¨äºæŒ‡å®š CSS Modules çš„ä½œç”¨åŸŸè¡Œä¸ºï¼Œæœ‰ä¸¤ä¸ªå€¼ï¼š</p>
<ul>
<li><code>'local'</code>ï¼šé»˜è®¤å€¼ï¼Œæ‰€æœ‰ç±»åéƒ½æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„</li>
<li><code>'global'</code>ï¼šæ‰€æœ‰ç±»åéƒ½æ˜¯å…¨å±€ä½œç”¨åŸŸçš„ï¼Œé™¤éä½¿ç”¨ <code>:local()</code> æ˜¾å¼å®šä¹‰</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-comment">// ï¼ˆé»˜è®¤å€¼ä¸º localï¼›å°±æ˜¯é»˜è®¤æƒ…å†µä¸‹csså†™çš„æ ·å¼éƒ½æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„ï¼‰</span>
                <span class="hljs-comment">// æ”¹æˆ global ä¹‹åï¼šé»˜è®¤æƒ…å†µcsså†™çš„æ ·å¼éƒ½æ˜¯å…¨å±€ä½œç”¨åŸŸçš„</span>
                <span class="hljs-attr">scopeBehaviour</span>: <span class="hljs-string">'global'</span> 
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h4 data-id="heading-20">7.4 é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å“ªäº› CSS æ–‡ä»¶æ˜¯é»˜è®¤å…¨å±€çš„</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¯ç”¨äº† CSS Modules çš„ <code>.module.css</code> æ–‡ä»¶ä¸­çš„æ ·å¼éƒ½é‡‡ç”¨<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ã€‚ä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›æŸäº›ç‰¹å®šçš„ CSS Modules æ–‡ä»¶é»˜è®¤é‡‡ç”¨<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼šå‡è®¾é¡¹ç›®ä¸­æ‰€æœ‰ <code>.module.css</code> æ–‡ä»¶éƒ½é»˜è®¤æ˜¯å±€éƒ¨ä½œç”¨åŸŸï¼Œä½†æˆ‘ä»¬å¸Œæœ›æ‰€æœ‰æ–‡ä»¶åä¸­åŒ…å« <code>Button1</code> çš„ CSS Modules æ–‡ä»¶é»˜è®¤é‡‡ç”¨å…¨å±€ä½œç”¨åŸŸã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>css-loader</code> çš„ <code>globalModulePaths</code> é…ç½®æ¥å®ç°è¿™ä¸€éœ€æ±‚ï¼ˆæ³¨æ„ï¼šåœ¨ Webpack ä¸­ï¼Œ<code>exportGlobals</code> æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é€‰é¡¹ï¼Œç”¨äºå¯¼å‡ºå…¨å±€é€‰æ‹©å™¨ï¼Œè€Œä¸æ˜¯ç”¨äºæ§åˆ¶æ–‡ä»¶çº§åˆ«çš„ä½œç”¨åŸŸï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-comment">// å¼€å‘ç¯å¢ƒä½¿ç”¨ style-loaderï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ MiniCssExtractPlugin</span>
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-comment">// æŒ‡å®šå“ªäº› CSS Modules æ–‡ä»¶é»˜è®¤ä½¿ç”¨å…¨å±€ä½œç”¨åŸŸ</span>
                <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ–‡ä»¶è·¯å¾„ï¼Œè¿™é‡ŒåŒ¹é…æ‰€æœ‰åŒ…å« "Button1" çš„æ–‡ä»¶</span>
                <span class="hljs-attr">globalModulePaths</span>: [
                  <span class="hljs-regexp">/Button1/</span> <span class="hljs-comment">// åŒ¹é…æ–‡ä»¶åæˆ–è·¯å¾„ä¸­åŒ…å« "Button1" çš„æ‰€æœ‰æ–‡ä»¶</span>
                ]
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>globalModulePaths: [/Button1/]</code>ï¼šåœ¨ Webpack çš„ <code>css-loader</code> é…ç½®ä¸­ï¼Œæ­¤é€‰é¡¹ç”¨äºæŒ‡å®šå“ªäº› CSS Modules æ–‡ä»¶é»˜è®¤ä½¿ç”¨å…¨å±€ä½œç”¨åŸŸ</li>
<li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ <code>/Button1/</code> åŒ¹é…æ‰€æœ‰æ–‡ä»¶åæˆ–è·¯å¾„ä¸­åŒ…å« "Button1" çš„ CSS Modules æ–‡ä»¶</li>
<li>è¢«åŒ¹é…åˆ°çš„æ–‡ä»¶ï¼ˆå¦‚ <code>Button1.module.css</code>ã€<code>MyButton1Styles.module.css</code> ç­‰ï¼‰å°†é»˜è®¤é‡‡ç”¨å…¨å±€ä½œç”¨åŸŸ</li>
<li>æœªè¢«åŒ¹é…åˆ°çš„æ–‡ä»¶ä»ä¿æŒé»˜è®¤çš„å±€éƒ¨ä½œç”¨åŸŸ</li>
<li>æ³¨æ„ï¼š<code>exportGlobals</code> æ˜¯ä¸€ä¸ªç‹¬ç«‹é€‰é¡¹ï¼Œç”¨äºå¯¼å‡ºå…¨å±€é€‰æ‹©å™¨ï¼ˆå¦‚ <code>:global(.global-class)</code>ï¼‰ï¼Œè€Œä¸æ˜¯æ§åˆ¶æ–‡ä»¶çº§åˆ«çš„ä½œç”¨åŸŸ</li>
</ul>
<p>è¿™ç§é…ç½®æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¿æŒå¤§éƒ¨åˆ† CSS Modules æ–‡ä»¶ä¸ºå±€éƒ¨ä½œç”¨åŸŸçš„åŒæ—¶ï¼Œçµæ´»åœ°å°†ç‰¹å®šæ–‡ä»¶è®¾ç½®ä¸ºå…¨å±€ä½œç”¨åŸŸï¼Œæ— éœ€åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ <code>:global()</code> è¯­æ³•ã€‚</p>
<h3 data-id="heading-21">8. å…¶ä»–é…ç½®çš„ä»‹ç»ä¸ä½¿ç”¨</h3>
<h4 data-id="heading-22">8.1 localsConvention é…ç½®</h4>
<p><code>localsConvention</code> é€‰é¡¹ç”¨äºæŒ‡å®šå¦‚ä½•è½¬æ¢å¯¼å‡ºçš„ç±»åçš„é”®åã€‚</p>
<p><strong>å¯ç”¨é€‰é¡¹ï¼š</strong></p>
<ul>
<li><code>'asIs'</code>ï¼šä¿æŒåŸå§‹ç±»å</li>
<li><code>'camelCase'</code>ï¼šè½¬æ¢ä¸ºé©¼å³°å¼å‘½å</li>
<li><code>'camelCaseOnly'</code>ï¼šä»…è½¬æ¢ä¸ºé©¼å³°å¼å‘½åï¼Œä¸ä¿ç•™åŸå§‹ç±»å</li>
<li><code>'dashes'</code>ï¼šè½¬æ¢ä¸ºçŸ­æ¨ªçº¿åˆ†éš”å‘½å</li>
<li><code>'dashesOnly'</code>ï¼šä»…è½¬æ¢ä¸ºçŸ­æ¨ªçº¿åˆ†éš”å‘½åï¼Œä¸ä¿ç•™åŸå§‹ç±»å</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'camelCase'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ CSS æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.button-primary</span> {
  <span class="hljs-attribute">background-color</span>: red;
}

<span class="hljs-comment">/* æ³¨æ„ï¼šä¸‹é¢çš„ä¾‹å­ä¼šç”¨åˆ°è¿™ä¸ªé©¼å³°å¼å‘½åçš„ç±» */</span>
<span class="hljs-selector-class">.mainButton</span> {
  <span class="hljs-attribute">background-color</span>: blue;
}
</code></pre>
<h5 data-id="heading-23">1. localsConvention: 'asIs'</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'asIs'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React ç»„ä»¶ä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// ä¿æŒåŸå§‹ç±»åï¼Œä½¿ç”¨çŸ­æ¨ªçº¿å‘½å</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">button-primary</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

<span class="hljs-comment">// é©¼å³°å¼å‘½åçš„ç±»ä¿æŒä¸å˜</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.mainButton}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h5 data-id="heading-24">2. localsConvention: 'camelCase'</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'camelCase'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React ç»„ä»¶ä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// å¯ä»¥ä½¿ç”¨è½¬æ¢åçš„é©¼å³°å¼å‘½å</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.buttonPrimary}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨åŸå§‹çš„çŸ­æ¨ªçº¿å‘½å</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">button-primary</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

<span class="hljs-comment">// é©¼å³°å¼å‘½åçš„ç±»ä¿æŒä¸å˜</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.mainButton}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h5 data-id="heading-25">3. localsConvention: 'camelCaseOnly'</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'camelCaseOnly'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React ç»„ä»¶ä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// åªèƒ½ä½¿ç”¨è½¬æ¢åçš„é©¼å³°å¼å‘½å</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.buttonPrimary}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="hljs-comment">// åŸå§‹çš„çŸ­æ¨ªçº¿å‘½åä¸å†å¯ç”¨</span>
<span class="hljs-comment">// &lt;button className={styles['button-primary']}&gt;ä¸»è¦æŒ‰é’®&lt;/button&gt; // ä¼šæŠ¥é”™</span>

<span class="hljs-comment">// é©¼å³°å¼å‘½åçš„ç±»ä¿æŒä¸å˜</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.mainButton}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h5 data-id="heading-26">4. localsConvention: 'dashes'</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'dashes'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React ç»„ä»¶ä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// çŸ­æ¨ªçº¿å‘½åçš„ç±»ä¿æŒä¸å˜</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">button-primary</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

<span class="hljs-comment">// é©¼å³°å¼å‘½åçš„ç±»ä¼šè¢«è½¬æ¢ä¸ºçŸ­æ¨ªçº¿å‘½åï¼ŒåŒæ—¶ä¿ç•™åŸå§‹å‘½å</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">main-button</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="hljs-comment">// åŸå§‹çš„é©¼å³°å¼å‘½åä»ç„¶å¯ç”¨</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.mainButton}</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h5 data-id="heading-27">5. localsConvention: 'dashesOnly'</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.module\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          <span class="hljs-string">'style-loader'</span>,
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">modules</span>: {
                <span class="hljs-attr">localsConvention</span>: <span class="hljs-string">'dashesOnly'</span>
              }
            }
          }
        ]
      }
    ]
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React ç»„ä»¶ä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// çŸ­æ¨ªçº¿å‘½åçš„ç±»ä¿æŒä¸å˜</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">button-primary</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

<span class="hljs-comment">// é©¼å³°å¼å‘½åçš„ç±»ä¼šè¢«è½¬æ¢ä¸ºçŸ­æ¨ªçº¿å‘½åï¼ŒåŸå§‹å‘½åä¸å†å¯ç”¨</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>'<span class="hljs-attr">main-button</span>']}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="hljs-comment">// åŸå§‹çš„é©¼å³°å¼å‘½åä¸å†å¯ç”¨</span>
<span class="hljs-comment">// &lt;button className={styles.mainButton}&gt;ä¸»è¦æŒ‰é’®&lt;/button&gt; // ä¼šæŠ¥é”™</span>
</code></pre>
<h4 data-id="heading-28">8.2 å¤„ç†å¤šå±‚ className</h4>
<p>åœ¨ CSS Modules ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åµŒå¥—è¯­æ³•å’Œ <code>:global()</code> ä¼ªç±»æ¥å¤„ç†å¤šå±‚ classNameã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: blue;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  
  <span class="hljs-comment">/* åµŒå¥—çš„å±€éƒ¨ç±» */</span>
  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background-color</span>: darkblue;
  }
  
  <span class="hljs-comment">/* åµŒå¥—çš„å…¨å±€ç±» */</span>
  &amp;:<span class="hljs-built_in">global</span>(.large) {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
  }
  
  <span class="hljs-comment">/* åµŒå¥—çš„ç»„åˆç±» */</span>
  &amp;<span class="hljs-selector-class">.primary</span> {
    <span class="hljs-attribute">background-color</span>: red;
  }
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ä½¿ç”¨å¤šå±‚ className</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-comment">// ç»„åˆä½¿ç”¨</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">styles.button</span>} <span class="hljs-attr">large</span>`}&gt;</span>å¤§æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">styles.button</span>} ${<span class="hljs-attr">styles.primary</span>}`}&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-29">9. Vue ä¸­å…³äº CSS çš„å¤„ç†æ–¹å¼</h3>
<p>åœ¨ Vue ä¸­ï¼Œå¤„ç† CSS çš„æ–¹å¼ä¸ React æœ‰æ‰€ä¸åŒã€‚Vue æä¾›äº†å†…ç½®çš„ CSS ä½œç”¨åŸŸæœºåˆ¶ï¼Œä¸éœ€è¦é¢å¤–çš„æ„å»ºå·¥å…·é…ç½®ã€‚</p>
<h4 data-id="heading-30">9.1 Vue ä¸­çš„ scoped CSS</h4>
<p>Vue ä¸­çš„ <code>scoped</code> å±æ€§å¯ä»¥å°†æ ·å¼é™åˆ¶åœ¨å½“å‰ç»„ä»¶çš„ä½œç”¨åŸŸå†…ï¼Œç±»ä¼¼äº CSS Modulesã€‚</p>
<p><strong>Vue ä¸­ scoped CSS çš„ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Button.vue --&gt;
&lt;template&gt;
  &lt;button class="button"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.button {
  background-color: blue;
  color: white;
  padding: 8px 16px;
}

.button:hover {
  background-color: darkblue;
}
&lt;/style&gt;

&lt;!-- PrimaryButton.vue --&gt;
&lt;template&gt;
  &lt;button class="button"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.button {
  background-color: red;
  color: white;
  padding: 8px 16px;
}

.button:hover {
  background-color: darkred;
}
&lt;/style&gt;

&lt;!-- App.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;Button&gt;æ™®é€šæŒ‰é’®&lt;/Button&gt;
    &lt;PrimaryButton&gt;ä¸»è¦æŒ‰é’®&lt;/PrimaryButton&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Button from './Button.vue';
import PrimaryButton from './PrimaryButton.vue';

export default {
  components: {
    Button,
    PrimaryButton
  }
};
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-31">9.2 Vue ä¸­çš„ CSS Modules</h4>
<p>Vue ä¹Ÿæ”¯æŒ CSS Modulesï¼Œå¯ä»¥é€šè¿‡ <code>module</code> å±æ€§å®ç°ã€‚</p>
<p><strong>Vue ä¸­ CSS Modules çš„ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Button.vue --&gt;
&lt;template&gt;
  &lt;button :class="$style.button"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;style module&gt;
.button {
  background-color: blue;
  color: white;
  padding: 8px 16px;
}

.button:hover {
  background-color: darkblue;
}
&lt;/style&gt;

&lt;!-- App.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;Button&gt;æ™®é€šæŒ‰é’®&lt;/Button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Button from './Button.vue';

export default {
  components: {
    Button
  }
};
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-32">10. Vue ä¸ React CSS Modules çš„å¯¹æ¯”</h3>
<h4 data-id="heading-33">10.1 åº•å±‚åŸç†å¯¹æ¯”</h4>
<p><strong>CSS Modulesï¼ˆReactï¼‰çš„åŸç†ï¼š</strong></p>
<ol>
<li>æ„å»ºå·¥å…·è§£æ <code>.module.css</code> æ–‡ä»¶</li>
<li>ä¸ºæ¯ä¸ªç±»åç”Ÿæˆå”¯ä¸€çš„å“ˆå¸Œå€¼</li>
<li>åˆ›å»ºåŸå§‹ç±»ååˆ°å”¯ä¸€ç±»åçš„æ˜ å°„è¡¨</li>
<li>æ›¿æ¢ CSS æ–‡ä»¶ä¸­çš„ç±»å</li>
<li>å¯¼å‡ºæ˜ å°„è¡¨ä¾›ç»„ä»¶ä½¿ç”¨</li>
</ol>
<p><strong>Vue scoped CSS çš„åŸç†ï¼š</strong></p>
<ol>
<li>Vue ç¼–è¯‘å™¨è§£æå¸¦æœ‰ <code>scoped</code> å±æ€§çš„æ ·å¼</li>
<li>ä¸ºç»„ä»¶çš„æ ¹å…ƒç´ æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„ <code>data-v-xxx</code> å±æ€§</li>
<li>ä¸ºæ ·å¼ä¸­çš„æ¯ä¸ªé€‰æ‹©å™¨æ·»åŠ  <code>[data-v-xxx]</code> å±æ€§é€‰æ‹©å™¨</li>
<li>è¿™æ ·æ ·å¼å°±åªå¯¹å½“å‰ç»„ä»¶çš„å…ƒç´ ç”Ÿæ•ˆ</li>
</ol>
<p><strong>Vue CSS Modules çš„åŸç†ï¼š</strong>
ä¸ React ä¸­çš„ CSS Modules åŸç†ç±»ä¼¼ï¼Œä½†æ˜¯é›†æˆåœ¨ Vue çš„å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨ <code>$style</code> å¯¹è±¡è®¿é—®ç”Ÿæˆçš„ç±»åã€‚</p>
<h4 data-id="heading-34">10.2 å¼‚åŒç‚¹</h4>
<p><strong>ç›¸åŒç‚¹ï¼š</strong></p>
<ul>
<li>éƒ½è§£å†³äº† CSS ç±»åå†²çªé—®é¢˜</li>
<li>éƒ½æ”¯æŒå±€éƒ¨ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸ</li>
<li>éƒ½éœ€è¦æ„å»ºå·¥å…·çš„æ”¯æŒ</li>
</ul>
<p><strong>ä¸åŒç‚¹ï¼š</strong></p>
<ul>
<li>Vue çš„ scoped CSS æ˜¯å†…ç½®çš„ï¼Œä¸éœ€è¦é¢å¤–é…ç½®ï¼›React çš„ CSS Modules éœ€è¦é…ç½®æ„å»ºå·¥å…·</li>
<li>Vue ä½¿ç”¨ <code>data-v-xxx</code> å±æ€§å®ç°ä½œç”¨åŸŸéš”ç¦»ï¼›React ä½¿ç”¨å“ˆå¸Œç±»å</li>
<li>Vue å•æ–‡ä»¶ç»„ä»¶ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>scoped</code> å±æ€§ï¼›React éœ€è¦ä½¿ç”¨ <code>.module.css</code> å‘½åçº¦å®š</li>
<li>Vue æ”¯æŒ <code>module</code> å±æ€§ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ <code>$style</code> å¯¹è±¡ï¼›React éœ€è¦å¯¼å…¥æ ·å¼å¯¹è±¡</li>
</ul>
<h4 data-id="heading-35">10.3 ç¤ºä¾‹å¯¹æ¯”</h4>
<p><strong>React CSS Modules ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Button.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Button</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.button}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Button</span>;

<span class="hljs-comment">// Button.module.css</span>
.<span class="hljs-property">button</span> {
  background-<span class="hljs-attr">color</span>: blue;
  <span class="hljs-attr">color</span>: white;
  <span class="hljs-attr">padding</span>: 8px 16px;
}
</code></pre>
<p><strong>Vue scoped CSS ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Button.vue --&gt;
&lt;template&gt;
  &lt;button class="button"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.button {
  background-color: blue;
  color: white;
  padding: 8px 16px;
}
&lt;/style&gt;
</code></pre>
<p><strong>Vue CSS Modules ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Button.vue --&gt;
&lt;template&gt;
  &lt;button :class="$style.button"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;style module&gt;
.button {
  background-color: blue;
  color: white;
  padding: 8px 16px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-36">æ€»ç»“</h3>
<p>CSS Modules æ˜¯ä¸€ç§éå¸¸å®ç”¨çš„ CSS æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆï¼Œåœ¨ React ç”Ÿæ€ç³»ç»Ÿä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿ CSS çš„ç±»åå†²çªã€æ ·å¼æ±¡æŸ“ç­‰é—®é¢˜ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<p>åœ¨ Vue ä¸­ï¼Œè™½ç„¶æœ‰è‡ªå·±çš„ scoped CSS å’Œ CSS Modules å®ç°ï¼Œä½†æ ¸å¿ƒæ€æƒ³ä¸ React ä¸­çš„ CSS Modules æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯ä¸ºäº†å®ç°æ ·å¼çš„æ¨¡å—åŒ–å’Œä½œç”¨åŸŸéš”ç¦»ã€‚</p>
<p>é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹æ¡ˆå–å†³äºé¡¹ç›®çš„éœ€æ±‚å’ŒæŠ€æœ¯æ ˆï¼Œä½†æ— è®ºé€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œéƒ½åº”è¯¥éµå¾ª CSS æ¨¡å—åŒ–çš„æ€æƒ³ï¼Œé¿å…å…¨å±€æ ·å¼æ±¡æŸ“ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹å­¦MCPï¼ˆå…«ï¼‰- æ„å»ºä¸€ä¸ªMCP server]]></title>    <link>https://juejin.cn/post/7582510291667419187</link>    <guid>https://juejin.cn/post/7582510291667419187</guid>    <pubDate>2025-12-12T04:28:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582510291667419187" data-draft-id="7582528397865287707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹å­¦MCPï¼ˆå…«ï¼‰- æ„å»ºä¸€ä¸ªMCP server"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2025-12-12T04:28:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é”å­¦AI"/> <meta itemprop="url" content="https://juejin.cn/user/1165926981220583"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹å­¦MCPï¼ˆå…«ï¼‰- æ„å»ºä¸€ä¸ªMCP server
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1165926981220583/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é”å­¦AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:28:14.000Z" title="Fri Dec 12 2025 04:28:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ„å»ºä¸€ä¸ªç®€å•çš„MCP serverï¼Œå¹¶é€šè¿‡Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenmcp.kirigaya.cn%2Fzh%2Fplugin-tutorial%2Fquick-start%2F" target="_blank" title="https://openmcp.kirigaya.cn/zh/plugin-tutorial/quick-start/" ref="nofollow noopener noreferrer">OpenMCPÂ </a>è¿›è¡Œæµ‹è¯•ã€‚</p>
<h3 data-id="heading-0">MCPæ ¸å¿ƒæ¦‚å¿µ</h3>
<p>MCP serverså¯ä»¥æä¾›ä¸‰ç§ä¸»è¦ç±»å‹çš„åŠŸèƒ½ï¼š</p>
<ol>
<li><strong>Resources</strong>: å®¢æˆ·ç«¯å¯ä»¥è¯»å–çš„ç±»æ–‡ä»¶æ•°æ®ï¼ˆå¦‚APIå“åº”æˆ–æ–‡ä»¶å†…å®¹ï¼‰</li>
</ol>

<ol start="2">
<li><strong>Tools</strong>: LLMå¯ä»¥è°ƒç”¨çš„å‡½æ•°ï¼ˆç»è¿‡ç”¨æˆ·æ‰¹å‡†ï¼‰</li>
</ol>

<ol start="3">
<li><strong>Prompts</strong>: å¸®åŠ©ç”¨æˆ·å®Œæˆç‰¹å®šä»»åŠ¡çš„é¢„ç¼–å†™æ¨¡æ¿</li>
</ol>
<p>æœ¬æ•™ç¨‹ä½¿ç”¨Pythonè¿›è¡Œæ¼”ç¤ºï¼ˆå½“ç„¶è¿˜å¯ä½¿ç”¨TypeScriptã€Javaã€Rustç­‰å…¶ä»–è¯­è¨€ï¼ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%23getting-started" target="_blank" title="https://github.com/modelcontextprotocol#getting-started" ref="nofollow noopener noreferrer">å‚è€ƒÂ </a>ï¼‰ã€‚</p>
<h3 data-id="heading-1">ğŸ“ æ—¥å¿—å¤„ç†æŒ‡å—</h3>
<p>åœ¨å¼€å‘ MCP æœåŠ¡å™¨æ—¶ï¼Œæ—¥å¿—è®°å½•æ–¹å¼å–å†³äºæœåŠ¡å™¨çš„ä¼ è¾“åè®®ã€‚è¯·æ ¹æ®æ‚¨çš„å®ç°æ–¹å¼éµå¾ªä»¥ä¸‹å‡†åˆ™ï¼š</p>
<h4 data-id="heading-2">1. STDIO åŸºç¡€æœåŠ¡å™¨</h4>
<p><strong>ä¸¥ç¦</strong>å‘æ ‡å‡†è¾“å‡ºå†™å…¥ä»»ä½•å†…å®¹ã€‚</p>
<ul>
<li><strong>ğŸš« ç¦æ­¢æ“ä½œï¼š</strong> æ‰€æœ‰çš„è°ƒè¯•æ‰“å°è¯­å¥ï¼ˆå¦‚ Â Â Â print()Â ã€Â Â Â console.log()Â ã€Â Â Â fmt.Println()Â  ç­‰ï¼‰ã€‚</li>
</ul>

<ul>
<li><strong>âš ï¸ åæœï¼š</strong> ä»»ä½•å†™å…¥æ ‡å‡†è¾“å‡ºçš„å†…å®¹éƒ½ä¼šç ´å JSON-RPC æ¶ˆæ¯æµï¼Œå¯¼è‡´æœåŠ¡å™¨é€šä¿¡ä¸­æ–­ã€‚</li>
</ul>
<h4 data-id="heading-3">2. HTTP åŸºç¡€æœåŠ¡å™¨</h4>
<p>æ ‡å‡†è¾“å‡ºæ—¥å¿—æ˜¯å®‰å…¨çš„ã€‚</p>
<ul>
<li><strong>âœ… å…è®¸æ“ä½œï¼š</strong> å¯ä»¥æ­£å¸¸ä½¿ç”¨æ ‡å‡†è¾“å‡ºè¿›è¡Œæ—¥å¿—è®°å½•ã€‚</li>
</ul>

<ul>
<li><strong>ğŸ’¡ åŸå› ï¼š</strong> æ—¥å¿—è¾“å‡ºä¸ä¼šå¹²æ‰° HTTP å“åº”æ•°æ®ã€‚</li>
</ul>
<h2 data-id="heading-4">å®‰è£… uv</h2>
<p>æœ¬æ¬¡å°†ä½¿ç”¨ Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv%2F" target="_blank" title="https://docs.astral.sh/uv/" ref="nofollow noopener noreferrer">uvÂ </a> æ¥ç®¡ç†é¡¹ç›®</p>
<blockquote>
<p>uvæ˜¯ç”¨ Rust ç¼–å†™çš„ Python è¶…å¿«åŒ…ç®¡ç†å™¨ï¼Œå¯æ›¿ä»£Â Â Â pipÂ ã€Â Â Â venvÂ å’ŒÂ Â Â pip-toolsÂ ï¼Œæé€Ÿå®‰è£…ä¾èµ–å¹¶ç®¡ç†è™šæ‹Ÿç¯å¢ƒã€‚</p>
</blockquote>
<p>å¦‚æœä½ è¿˜æœªä½¿ç”¨è¿‡uvï¼Œè¯·å…ˆä¸‹è½½å®‰è£…ï¼š</p>
<pre><code class="hljs">pip install uv
</code></pre>
<p>æŸ¥çœ‹ uv çš„ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs">uv version
</code></pre>
<p>è¾“å‡ºä»¥ä¸‹å†…å®¹ä»£è¡¨å®‰è£…æˆåŠŸï¼ˆç‰ˆæœ¬å·å–å†³äºä½ å®‰è£…çš„ç‰ˆæœ¬ï¼‰</p>
<pre><code class="hljs language-scss" lang="scss">uv <span class="hljs-number">0.8</span><span class="hljs-selector-class">.22</span> (ade2bdbd2 <span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span>)
</code></pre>
<h2 data-id="heading-5">å¿«é€Ÿå¼€å§‹</h2>
<p>åˆ›å»ºé¡¹ç›®å¹¶åˆå§‹åŒ–</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/codes/my_first_mcp

<span class="hljs-built_in">cd</span> ~/codes/my_first_mcp

uv init --no-workspace
</code></pre>
<p>æ·»åŠ MCPç›¸å…³åº“</p>
<pre><code class="hljs language-csharp" lang="csharp">uv <span class="hljs-keyword">add</span> <span class="hljs-string">"mcp[cli]"</span>
</code></pre>
<p>ä¿®æ”¹main.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP

<span class="hljs-comment"># åˆå§‹åŒ– FastMCP æœåŠ¡å™¨</span>
mcp = FastMCP(<span class="hljs-string">"æˆ‘çš„ç¬¬ä¸€ä¸ªMCP"</span>)

<span class="hljs-meta">@mcp.tool(<span class="hljs-params">name=<span class="hljs-string">"greet"</span>, description=<span class="hljs-string">"ä¸¤ä¸ªæ•°ç›¸åŠ "</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:

    <span class="hljs-keyword">return</span> a + b

<span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"resource://{name}"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_greeting</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">""""æ ¹æ®resourceä¸­çš„åå­—å‘ä»–é—®å¥½ï¼ˆèµ„æºåå»ºè®®ä¸ºè‹±æ–‡ï¼Œå¦åˆ™å‡ºç°ä¹±ç ï¼‰"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-meta">@mcp.prompt()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, style: <span class="hljs-built_in">str</span> = <span class="hljs-string">"friendly"</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    styles = {
        <span class="hljs-string">"friendly"</span>: <span class="hljs-string">"å†™ä¸€ä¸ªæ¸©æš–å‹å¥½çš„é—®å€™è¯­"</span>,
        <span class="hljs-string">"formal"</span>: <span class="hljs-string">"å†™ä¸€ä¸ªæ­£å¼çš„é—®å€™è¯­"</span>,
        <span class="hljs-string">"casual"</span>: <span class="hljs-string">"å†™ä¸€ä¸ªéšæ„çš„é—®å€™è¯­"</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"ç»™<span class="hljs-subst">{name}</span><span class="hljs-subst">{styles.get(style, styles[<span class="hljs-string">'friendly'</span>])}</span>"</span>

<span class="hljs-comment"># ä»¥httpæ–¹å¼å¯åŠ¨æœåŠ¡å™¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    mcp.run(transport=<span class="hljs-string">"streamable-http"</span>)
</code></pre>
<h3 data-id="heading-6"/>
<h2 data-id="heading-7">æµ‹è¯•</h2>
<p>å®‰è£…OpenMCPï¼ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenmcp.kirigaya.cn%2Fzh%2Fplugin-tutorial%2Fquick-start%2F" target="_blank" title="https://openmcp.kirigaya.cn/zh/plugin-tutorial/quick-start/" ref="nofollow noopener noreferrer">å‚è€ƒÂ </a>ï¼Œæ•ˆæœå¦‚ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2be8fbc478847619fb18e62b9ab522b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZSQ5a2mQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766118493&amp;x-signature=DsEC3JlIYCUmKV6wcxqFKxtjs3Y%3D" alt="" loading="lazy"/></p>
<hr/>
<blockquote>
<p>æ¬¢è¿åŠ å…¥æˆ‘çš„ã€imaçŸ¥è¯†åº“ã€‘ Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fima.qq.com%2Fwiki%2F%3FshareId%3D58d81eb0444db19630cccc44e04ab7692431b71a8de38b24ed4f34920ec08bf4" target="_blank" title="https://ima.qq.com/wiki/?shareId=58d81eb0444db19630cccc44e04ab7692431b71a8de38b24ed4f34920ec08bf4" ref="nofollow noopener noreferrer">ä»é›¶å¼€å§‹å­¦MCPÂ </a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‡ä¼—ç©ç›®çš„ GPT 5.2ï¼Œè¿ä¸ªç«æŸ´äººæ¸¸æˆéƒ½åšä¸æ˜ç™½ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582808491582636068</link>    <guid>https://juejin.cn/post/7582808491582636068</guid>    <pubDate>2025-12-12T05:45:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491582636068" data-draft-id="7582561515816386623" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‡ä¼—ç©ç›®çš„ GPT 5.2ï¼Œè¿ä¸ªç«æŸ´äººæ¸¸æˆéƒ½åšä¸æ˜ç™½ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-12T05:45:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”AIå·¥åŠ"/> <meta itemprop="url" content="https://juejin.cn/user/2582086210300680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‡ä¼—ç©ç›®çš„ GPT 5.2ï¼Œè¿ä¸ªç«æŸ´äººæ¸¸æˆéƒ½åšä¸æ˜ç™½ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2582086210300680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”AIå·¥åŠ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:45:52.000Z" title="Fri Dec 12 2025 05:45:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å…± 1906 å­—ï¼Œé˜…è¯»é¢„è®¡éœ€è¦ 4 åˆ†é’Ÿã€‚</p>
<p>Hiï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯Carlï¼Œä¸€ä¸ªæœ¬ç§‘è¿›å¤§å‚åšäº†2å¹´+AIç ”å‘åï¼Œè£¸è¾çš„AIåˆ›ä¸šè€…ã€‚</p>
<p>ä»Šæ—©ï¼Œä¸€ä¸ªæœˆå†…ç¬¬ä¸‰ä¸ª<strong>å·ç§°â€œåœ°è¡¨æœ€å¼ºâ€</strong> çš„æ¨¡å‹å‘å¸ƒäº†ï¼ŒOpenAIçš„<strong>GPT-5.2</strong> ï¼Œå®˜æ–¹å®šä½æ˜¯â€œæœ€å¼ºå¤§çš„ä¸“ä¸šçŸ¥è¯†å·¥ä½œæ¨¡å‹â€ã€‚</p>
<p>çœ‹è…»äº†é‚£äº›å¤æ‚çš„è·‘åˆ†å’Œè®ºæ–‡ï¼Œæˆ‘æ­¤åˆ»æ›´æƒ³åœ¨ä¸€ä¸ªæœ€æœ´ç´ çš„åœºæ™¯ä¸‹ï¼Œè¯•è¯•è¿™äº›â€œç‹ç‚¸â€ä»¬çš„æˆè‰²ã€‚</p>
<p>æç¤ºè¯éå¸¸ç®€å•ï¼Œ</p>
<blockquote>
<p>â€œä½ æ˜¯ä¸€ä¸ªèµ„æ·±å…¨æ ˆæ¸¸æˆå¼€å‘å·¥ç¨‹å¸ˆã€‚è¯·åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå†™ä¸€ä¸ªç«æŸ´äººç¬¬ä¸€äººç§°å°„å‡»æ¸¸æˆï¼Œå¹¶ç›´æ¥å¸®æˆ‘å®Œæˆæ‰€æœ‰æ„å»ºå·¥ä½œã€‚â€</p>
</blockquote>
<p>ä¸‰åˆ†é’Ÿï¼Œä»£ç ç”Ÿæˆå®Œæ¯•ã€‚æˆ‘å¯åŠ¨æœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå±å¹•ä¸Šç¡®å®å‡ºç°äº†ä¸€ä¸ªç«æŸ´äººï¼Œæ‰‹é‡Œä¹Ÿç¡®å®æ‹¿ç€æªï¼Œä¹Ÿç¡®å®èƒ½æ”»å‡»å‘¨å›´çš„æ•Œäººã€‚</p>
<p>ä½†æˆ‘æ™ƒåŠ¨é¼ æ ‡ï¼Œå‘ç°å®ƒå¼€å§‹åœ¨å±å¹•ä¸Šå·¦å³å°„å‡»ï¼Œåƒä¸€ä¸ªæ¯”é­‚æ–—ç½—è¿˜è¦å¤æ—©çš„æ¨ªå±å°„å‡»æ¸¸æˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e459e37778141f5b2192d6c933e6355~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=ZPS5ARYD4IQctzy3v%2BapqP%2B5Hds%3D" alt="" loading="lazy"/></p>
<p><strong>è¯´å¥½çš„ç¬¬ä¸€äººç§°å°„å‡»å‘¢ï¼Ÿè¿™æ˜æ˜æ˜¯ä¸ªæ¨ªç‰ˆç¬¬ä¸‰äººç§°æ¸¸æˆå•Šï¼</strong></p>
<p>é‚£ä¸€åˆ»æˆ‘æ„è¯†åˆ°ä¸€ä¸ªè¢«ç”±äºè¿‡åº¦è¥é”€è€Œæ©ç›–çš„çœŸç›¸ï¼Œå‚æ•°é‡å†å¤§ï¼Œå¬ä¸æ‡‚äººè¯ä¹Ÿæ˜¯ç™½æ­ã€‚</p>
<p>äºæ˜¯æˆ‘å‡†å¤‡ä¸çœ‹è·‘åˆ†ï¼Œä¸çœ‹è®ºæ–‡ï¼Œè¯•è¯•å„ä¸ªæ¨¡å‹ï¼Œå°±çœ‹è°èƒ½çœŸæ­£å¸®æˆ‘æŠŠè¿™ä¸ªæ¸¸æˆåšå‡ºæ¥ã€‚</p>
<h2 data-id="heading-0">äº²å†ï¼šå½“â€œå…¨èƒ½ç¥â€å¬ä¸æ‡‚äººè¯</h2>
<p>è¿™æ¬¡è§„åˆ™éå¸¸ç®€å•ç²—æš´ï¼Œè¿˜åŸæœ€çœŸå®çš„â€œæ‡’äººå¼€å‘â€åœºæ™¯ï¼š</p>
<p>1.Â ç¯å¢ƒï¼šVS Code + Copilot æ’ä»¶ã€‚</p>
<p>2.Â æç¤ºè¯ï¼šç»Ÿä¸€ä½¿ç”¨ä¸Šæ–‡ä¸­ï¼Œä¸GPT 5.2ç›¸åŒçš„ä¸€æ®µ Promptã€‚</p>
<p>3.Â å¹²æ¶‰ï¼šé›¶å¹²æ¶‰ã€‚ä¸è§£é‡Šï¼Œä¸ä¿® Bugï¼Œç”Ÿæˆä»€ä¹ˆè·‘ä»€ä¹ˆã€‚</p>
<p>å°è¯•çš„æ¨¡å‹é™¤äº†åˆšæ‰ç¿»è½¦çš„Â GPT 5.2ï¼Œè¿˜æœ‰ Google çš„Â Gemini 3ï¼ŒAnthropic çš„Â Opus 4.5ï¼Œä»¥åŠ OpenAI è‡ªå®¶çš„ä¸¤ä¸ªåç§‘ç”Ÿï¼šGPT 5.1 CodexÂ å’ŒÂ GPT 5.1 Codex Maxã€‚</p>
<h2 data-id="heading-1">æˆ˜å†µï¼šè°æ‰æ˜¯çœŸæ­£çš„ç¨‹åºå‘˜ï¼Ÿ</h2>
<p>å¦‚æœæŠŠè¿™å‡ ä¸ªæ¨¡å‹æ¯”ä½œä½ çš„åŒäº‹ï¼Œä»–ä»¬çš„ç”»é£æ˜¯è¿™æ ·çš„ï¼š</p>
<h3 data-id="heading-2">Gemini 3ï¼šç¨³é‡çš„è€å¹²éƒ¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/782cf5b0ba4f461db9926fd6331dac9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=dhJ7o%2B%2B6v0t3aJrLGuugWEmmG%2FU%3D" alt="" loading="lazy"/></p>
<p>Gemini 3 æ˜¯é‚£ä¸ªè®©ä½ æœ€æ”¾å¿ƒçš„è€å‘˜å·¥ã€‚</p>
<p>å®ƒå†™å¾—æœ€æ…¢ï¼Œç£¨è¹­äº† 5 åˆ†é’Ÿã€‚ç”Ÿæˆçš„é¡¹ç›®ç»“æ„ä¹Ÿæœ€ç®€å•ï¼š<code>game.js</code>ï¼Œ<code>index.html</code>ï¼Œ<code>style.css</code>ï¼Œå¤–åŠ ä¸€ä¸ªå†…å®¹å¾ˆç®€å•çš„ READMEï¼Œåªè®²å¦‚ä½•å¯åŠ¨ã€‚</p>
<p>ä½†æ˜¯ï¼Œå®ƒè·‘èµ·æ¥äº†ã€‚</p>
<p>æ²¡æœ‰èŠ±å“¨çš„ç‰¹æ•ˆï¼Œç•Œé¢ç®€é™‹å¾—åƒ 90 å¹´ä»£çš„ Flash æ¸¸æˆï¼Œé¢œè‰²ä¹Ÿæ˜¯æœ€åŸºç¡€çš„é»‘ç™½ç°ã€‚ä½†å®ƒç¨³ç¨³å½“å½“åœ°æ‰§è¡Œäº†â€œç¬¬ä¸€äººç§°å°„å‡»â€çš„æŒ‡ä»¤ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œæ²¡æœ‰å´©æºƒã€‚</p>
<p>è¿™ä¸ªç®€å•çš„ç•Œé¢å€’æ˜¯ä¸å®ƒå¤šæ¨¡æ€ä¹‹ç¥çš„æ ‡ç­¾ä¸ç¬¦ï¼Œä¸è¿‡ä¹Ÿæ˜¯å› ä¸ºåœ¨copilotçš„ç¯å¢ƒé‡Œå®ƒè·å–ä¸Šä¸‹æ–‡å’Œæ¸²æŸ“çš„èƒ½åŠ›å—é™ï¼Œå¹¶ä¸èƒ½é‡Šæ”¾Google AI Studioçš„åŸç”Ÿç¯å¢ƒé‡Œçš„èƒ½åŠ›ã€‚</p>
<p>åœ¨æ–‡ç« æœ«å°¾ï¼Œæˆ‘åŠ ä¸Šäº†Gemini3åœ¨Google AI Studioä¸­çš„è¡¨ç°ã€‚â€œä¸»åœºä½œæˆ˜â€å½¢æ€çš„Gemini3ï¼Œä¾ç„¶æ˜¯æœ€å‡è¡¡ã€æœ€ç¨³å®šçš„é‚£ä¸ªã€‚</p>
<h3 data-id="heading-3">Opus 4.5ï¼šåç§‘çš„è®¾è®¡å¸ˆ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2c84ed9a44d4b5b820be1a20c851b2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=opjozlS%2FbTrlt9h75vxdcmg7BaI%3D" alt="" loading="lazy"/></p>
<p>Opus 4.5 åˆ™æ˜¯é‚£ä¸ªå¾ˆå‰å«çš„è®¾è®¡å¸ˆã€‚</p>
<p>å®ƒé€Ÿåº¦å¾ˆå¿«ï¼Œä¹Ÿæ˜¯3åˆ†é’Ÿå®Œæˆæ„å»ºï¼Œä¹Ÿæ˜¯ç®€å•çš„ä¸‰ä¸ªæ¸¸æˆæ–‡ä»¶ã€‚</p>
<p>æ‰“å¼€æ¸¸æˆçš„ä¸€ç¬é—´ï¼Œæˆ‘ä¹Ÿç¡®å®è¢«æƒŠè‰³åˆ°äº†ï¼šä¸°å¯Œçš„é…è‰²ï¼Œç»†è…»çš„ UI é£æ ¼ï¼Œç”šè‡³å¯åŠ¨ç•Œé¢æ˜¯åŠ¨æ€çš„ã€‚</p>
<p>ä½†å½“æˆ‘æŒ‰ä¸‹é¼ æ ‡å·¦é”®å¼€ç«æ—¶ï¼Œæ¯æ¬¡å¼€ç«ï¼Œå±å¹•éƒ½ä¼šç–¯ç‹‚é—ªçƒã€‚ä¹Ÿè®¸è¿™æ˜¯å®ƒç‹¬åˆ°çš„è®¾è®¡ï¼Ÿ</p>
<h3 data-id="heading-4">GPT 5.1 Codexï¼šä¸ä¿®è¾¹å¹…çš„åç«¯ç¨‹åºå‘˜</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63677878fbfe43a481d8da1d84c24225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=3WMcc9i5dQGfZF%2Bbq6f8QxeZ8IY%3D" alt="" loading="lazy"/></p>
<p>è¿™æ‰æ˜¯çœŸæ­£çš„â€œæ‰«åœ°åƒ§â€ã€‚</p>
<p>GPT 5.1 Codex äº¤å‡ºçš„ä½œä¸šï¼Œè®©æˆ‘çœ‹åˆ°äº†ä¸“ä¸šç¨‹åºå‘˜çš„å½±å­ã€‚çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶ç»“æ„ï¼š</p>
<ul>
<li><code>enemies.js</code></li>
<li><code>game.js</code></li>
<li><code>stickman.js</code></li>
<li><code>utils.js</code></li>
<li><code>weapons.js</code></li>
<li>...</li>
</ul>
<p>å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªçŸ¥é“è¦æŠŠâ€œæ•Œäººâ€ã€â€œæ­¦å™¨â€ã€â€œå·¥å…·å‡½æ•°â€æ‹†åˆ†æˆç‹¬ç«‹æ¨¡å—çš„æ¨¡å‹ã€‚ç”Ÿæˆçš„ README æ–‡æ¡£ä¹Ÿæœ€é•¿ã€æœ€è¯¦ç»†ã€‚</p>
<p>ç”šè‡³æ¯æ¬¡å¼€æªå°„å‡»ä¹Ÿæ˜¯æœ‰éŸ³æ•ˆçš„ï¼Œå³ä½¿å¾ˆéš¾å¬ã€‚</p>
<p>è¿è¡Œæ¸¸æˆï¼Œå…¸å‹çš„ç¨‹åºå‘˜å®¡ç¾ï¼Œç•Œé¢ä¸‘å¾—ä»¤äººå‘æŒ‡ï¼Œä½†æ‰“å‡»æ„Ÿæ˜¯æœ€å¥½çš„ã€‚å­å¼¹çš„å¼¹é“ã€æ•Œäººçš„åé¦ˆï¼Œéƒ½åƒæ¨¡åƒæ ·ã€‚</p>
<p>å®ƒä¸ä¿®è¾¹å¹…ï¼Œä¸å–„è¨€è¾ï¼Œä½†å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªçœŸæ­£æ‡‚â€œè½¯ä»¶å·¥ç¨‹â€çš„å®¶ä¼™ï¼Œæ„å»ºçš„é¡¹ç›®ä¹Ÿæ˜¯æœ€å®Œæ•´çš„ã€‚</p>
<h3 data-id="heading-5">GPT 5.1 Codex Maxï¼šèµ°ç«å…¥é­”ã€æ€¥äºè¯æ˜è‡ªå·±çš„____</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33ee32f1f11a4d3490ac3358a0de07e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=VQQdp9xAjSqG5h%2Fo9O7OaijXCiY%3D" alt="" loading="lazy"/></p>
<p>å®ƒæ²¡èƒ½äº¤å‡ºä¸€ä¸ªèƒ½æ­£å¸¸è¿è¡Œçš„é¡¹ç›®ã€‚ç”»é¢é”™ä¹±ï¼Œé¼ æ ‡æ§åˆ¶ä¹Ÿæ˜¯åçš„ï¼ˆé¼ æ ‡å·¦ç§»ï¼Œè§†è§’å³è½¬ï¼‰</p>
<p>å®ƒæƒ³å¾—å¤ªå¤šäº†ã€‚å®ƒè¯•å›¾å¼•å…¥æ›´å¤æ‚çš„ç‰©ç†å¼•æ“å’Œäº¤äº’é€»è¾‘ï¼Œç»“æœå¯¼è‡´äº†ç¾éš¾æ€§çš„åæœï¼Œç”šè‡³è¿æ•Œäººæ¨¡å‹éƒ½åŠ è½½ä¸å‡ºæ¥ã€‚</p>
<p>è¿™å°±æ˜¯å…¸å‹çš„â€œè¿‡åº¦å·¥ç¨‹â€ã€‚ä¸ºäº†ç‚«æŠ€ï¼ŒæŠŠæœ€åŸºç¡€çš„å¯ç”¨æ€§æä¸¢äº†ã€‚</p>
<h2 data-id="heading-6">ç›²åŒºä¸åæ€ï¼šCopilot çš„â€œä¸­é—´å•†å·®ä»·â€</h2>
<p>è¿™é‡Œå¿…é¡»å¸® Gemini 3 è¯´å¥å…¬é“è¯ã€‚</p>
<p>æˆ‘åœ¨ VS Code çš„ Copilot é‡Œè°ƒç”¨å®ƒï¼Œæ•ˆæœè‚¯å®šè¿œä¸å¦‚å®ƒåœ¨è‡ªå®¶ä¸»åœº Google AI StudioÂ é‡Œè¡¨ç°å¾—å¥½ã€‚</p>
<p>IDE æ’ä»¶å¾€å¾€ä¼šå¯¹ Prompt è¿›è¡Œä¸€å±‚åŒ…è£…ï¼Œæˆ–è€…å—é™äºä¸Šä¸‹æ–‡çª—å£çš„æˆªæ–­ï¼Œå¯¼è‡´æ¨¡å‹å‘æŒ¥å—é™ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘åˆåœ¨Google AI Studioé‡Œæ„å»ºäº†ä¸€æ¬¡ï¼Œå‘ˆç°çš„æ•ˆæœå®Œå…¨ä¸åŒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/665dea482777439d8164ed6599cdf239~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=OfEKPWRIHJVScXs8hm6mLLA2WH4%3D" alt="" loading="lazy"/></p>
<p>éœ‡åŠ¨æ•ˆæœã€éŸ³æ•ˆï¼Œäº¤äº’æ„Ÿï¼Œè¿œèƒœäºcopilotä¸‹çš„Gemini3ï¼Œä¹Ÿæ¯”å…¶å®ƒçš„æ¨¡å‹çš„å®Œæˆåº¦é«˜å¾—å¤šã€‚</p>
<h2 data-id="heading-7">é£é™©ï¼šè¿·ä¿¡â€œæœ€æ–°ç‰ˆâ€çš„ä»£ä»·</h2>
<p>è¿™æ¬¡æµ‹è¯•å€’æ˜¯ç»™äº†æˆ‘ä¸€ä¸ªä¸ä¸€æ ·çš„å®¡è§†æœ€æ–°æ¨¡å‹çš„è§†è§’ï¼Œä¹Ÿè®¸ï¼Œåœ¨ AI ç¼–ç¨‹é¢†åŸŸï¼Œæœ€æ–° â‰  æœ€å¥½ï¼ŒMax â‰  æœ€å¼ºã€‚</p>
<p>å¾ˆå¤šå›¢é˜Ÿåœ¨åšæŠ€æœ¯é€‰å‹æ—¶ï¼Œä¹ æƒ¯æ€§åœ°æŠŠæ‰€æœ‰ä¸šåŠ¡éƒ½åˆ‡åˆ°æœ€æ–°æ¨¡å‹ä¸Šï¼Œç»“æœå¾€å¾€æ˜¯æˆæœ¬é£™å‡ï¼Œæ•ˆæœå´ä¸å‡åé™ã€‚</p>
<p>ä¹Ÿè®¸ï¼Œå½“ä¸‹æ¨¡å‹çš„èƒ½åŠ›æ­£åœ¨é€æ­¥é è¿‘ç“¶é¢ˆæœŸï¼Œâ€œæ›´æ–°æ¢ä»£â€æ‰€å¸¦æ¥çš„æå‡æ­£åœ¨é€æ­¥å‡å°‘ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹çš„é‡è¦æ€§è¶Šæ¥è¶Šå¤§ã€‚</p>
<h3 data-id="heading-8">ç»“è¯­ï¼šå‡ ä¸ªè½åœ°å»ºè®®</h3>
<p><strong>1.Â è¿‡åº¦æ¨ç†çš„é™·é˜±ï¼š</strong></p>
<p>åƒ GPT 5.1 Codex Max è¿™ç§â€œèªæ˜è¿‡å¤´â€çš„æ¨¡å‹ï¼Œå¾ˆå®¹æ˜“åœ¨ç®€å•ä»»åŠ¡ä¸ŠåŠ æˆã€‚</p>
<p>å¯¹ç­–ï¼šå¯¹äº CRUD æˆ–åŸºç¡€é€»è¾‘ä»£ç ï¼Œå¼ºåˆ¶æŒ‡å®šä½¿ç”¨å‚æ•°é‡è¾ƒå°ã€é’ˆå¯¹ä»£ç å¾®è°ƒè¿‡çš„ç‰ˆæœ¬ï¼ˆå¦‚ Codex åŸºç¡€ç‰ˆï¼‰ã€‚</p>
<p><strong>2.Â æŒ‡ä»¤éµå¾ªçš„éšæœºæ€§ï¼š</strong></p>
<p>å¼ºå¦‚ GPT 5.2 ä¹Ÿä¼šæŠŠ FPS åšæˆæ¨ªç‰ˆæ¸¸æˆã€‚</p>
<p>å¯¹ç­–ï¼šä¸è¦è¿‡åº¦è¿·ä¿¡â€œä¸€å¥è¯ç”Ÿæˆâ€ï¼Œå°†å¤æ‚éœ€æ±‚æ‹†è§£ä¸º Step-by-Step çš„åŸå­æŒ‡ä»¤ã€‚å…ˆè®©å®ƒå†™å¤§çº²ï¼Œç¡®è®¤ç†è§£æ— è¯¯åï¼Œå†è®©å®ƒå†™ä»£ç ã€‚</p>
<p><strong>3.Â â€œå„å–æ‰€é•¿â€ï¼š</strong></p>
<p>å°è¯•â€œç»„åˆæ‹³â€ã€‚ç”¨ Codex å†™åç«¯é€»è¾‘å’Œæ ¸å¿ƒç®—æ³•ä¸ä»»åŠ¡è§„åˆ’ï¼Œè®©Gemini3æ¥å¹²æ´»æˆ–è€…åšå‰ç«¯çš„è®¾è®¡ã€‚</p>
<p><strong>æ€»ä¹‹ï¼Œæ— è®º AI å¤šå¼ºï¼Œæ°¸è¿œä¿ç•™äººå·¥ Review çš„ç¯èŠ‚ã€‚æ¯•ç«Ÿï¼Œå®ƒå¯èƒ½è¿å·¦å³éƒ½åˆ†ä¸æ¸…ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc69eb0f80ca4978bbc63fb13d232e64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=5CTcS2myE6xZFK9F9MCKOHnqb4k%3D" alt="5d07d16b6eaccf139cbda4690946282d.jpg" loading="lazy"/>
æˆ‘æ˜¯Carlï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6b825656fd44ffb96ff432acd32d4b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCUQUnlt6XlnYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125407&amp;x-signature=gZX67852hk7xDfacYO0JqF6sCNs%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251212142244_1280_235.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaè®¾è®¡æ¨¡å¼å®æˆ˜æŒ‡å—ï¼šåˆ›å»ºå‹æ¨¡å¼æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7582808491582472228</link>    <guid>https://juejin.cn/post/7582808491582472228</guid>    <pubDate>2025-12-12T04:44:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491582472228" data-draft-id="7582539701146533929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaè®¾è®¡æ¨¡å¼å®æˆ˜æŒ‡å—ï¼šåˆ›å»ºå‹æ¨¡å¼æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-12T04:44:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaè®¾è®¡æ¨¡å¼å®æˆ˜æŒ‡å—ï¼šåˆ›å»ºå‹æ¨¡å¼æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:44:13.000Z" title="Fri Dec 12 2025 04:44:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šè®¾è®¡æ¨¡å¼çš„é‡è¦æ€§</h2>
<p>æƒ³è±¡ä¸€ä¸‹å»ºé€ ä¸€åº§é«˜æ¥¼å¤§å¦ã€‚æ²¡æœ‰è“å›¾å’Œæ ‡å‡†æ–½å·¥æ–¹æ³•ï¼Œæ¯ä¸ªå»ºç­‘å·¥äººæŒ‰è‡ªå·±çš„æƒ³æ³•éšæ„å»ºé€ ï¼Œç»“æœä¼šæ˜¯ç¾éš¾æ€§çš„ã€‚åŒæ ·ï¼Œåœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œè®¾è®¡æ¨¡å¼å°±æ˜¯ç»è¿‡éªŒè¯çš„â€œè“å›¾â€ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•ã€å¯å¤ç”¨çš„ä»£ç ã€‚è®¾è®¡æ¨¡å¼ä¸æ˜¯å…·ä½“ä»£ç ï¼Œè€Œæ˜¯è§£å†³ç‰¹å®šé—®é¢˜çš„<strong>æ€æƒ³æ¨¡å‹</strong>ã€‚</p>
<h2 data-id="heading-1">è®¾è®¡æ¨¡å¼åˆ†ç±»æ¦‚è§ˆ</h2>
<pre><code class="hljs language-java" lang="java">è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼š
â”œâ”€â”€ åˆ›å»ºå‹æ¨¡å¼ (Creational Patterns)
â”‚   â”œâ”€â”€ å•ä¾‹æ¨¡å¼ (Singleton)
â”‚   â”œâ”€â”€ å·¥å‚æ–¹æ³•æ¨¡å¼ (Factory Method)
â”‚   â”œâ”€â”€ æŠ½è±¡å·¥å‚æ¨¡å¼ (Abstract Factory)
â”‚   â”œâ”€â”€ å»ºé€ è€…æ¨¡å¼ (Builder)
â”‚   â””â”€â”€ åŸå‹æ¨¡å¼ (Prototype)
â”‚
â”œâ”€â”€ ç»“æ„å‹æ¨¡å¼ (Structural Patterns)
â”‚   â”œâ”€â”€ é€‚é…å™¨æ¨¡å¼ (Adapter)
â”‚   â”œâ”€â”€ è£…é¥°å™¨æ¨¡å¼ (Decorator)
â”‚   â”œâ”€â”€ ä»£ç†æ¨¡å¼ (Proxy)
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ è¡Œä¸ºå‹æ¨¡å¼ (Behavioral Patterns)
    â”œâ”€â”€ è§‚å¯Ÿè€…æ¨¡å¼ (Observer)
    â”œâ”€â”€ ç­–ç•¥æ¨¡å¼ (Strategy)
    â”œâ”€â”€ è´£ä»»é“¾æ¨¡å¼ (Chain of Responsibility)
    â””â”€â”€ ...
</code></pre>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨<strong>åˆ›å»ºå‹æ¨¡å¼</strong>ï¼Œè¿™äº›æ¨¡å¼å…³æ³¨å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œéšè—åˆ›å»ºç»†èŠ‚ï¼Œä½¿ç³»ç»Ÿç‹¬ç«‹äºå¯¹è±¡çš„åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºã€‚</p>
<h2 data-id="heading-2">å•ä¾‹æ¨¡å¼ï¼šç¡®ä¿å”¯ä¸€æ€§</h2>
<h3 data-id="heading-3">é—®é¢˜åœºæ™¯</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸­åªéœ€è¦ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥æ± </li>
<li>é…ç½®æ–‡ä»¶ç®¡ç†å™¨</li>
<li>æ—¥å¿—è®°å½•å™¨</li>
<li>çº¿ç¨‹æ± </li>
</ul>
<h3 data-id="heading-4">å¤šç§å®ç°æ–¹å¼å¯¹æ¯”</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingletonPattern</span> {
    
    <span class="hljs-comment">// æ–¹å¼1ï¼šé¥¿æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œä½†å¯èƒ½é€ æˆèµ„æºæµªè´¹ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EagerSingleton</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">EagerSingleton</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EagerSingleton</span>();
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">EagerSingleton</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨é˜²æ­¢å¤–éƒ¨å®ä¾‹åŒ–</span>
            System.out.println(<span class="hljs-string">"é¥¿æ±‰å¼å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> EagerSingleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> INSTANCE;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"é¥¿æ±‰å¼å•ä¾‹å·¥ä½œ"</span>);
        }
    }
    
    <span class="hljs-comment">// æ–¹å¼2ï¼šæ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LazySingleton</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LazySingleton instance;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">LazySingleton</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ‡’æ±‰å¼å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LazySingleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LazySingleton</span>();  <span class="hljs-comment">// å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯èƒ½åˆ›å»ºå¤šä¸ªå®ä¾‹</span>
            }
            <span class="hljs-keyword">return</span> instance;
        }
    }
    
    <span class="hljs-comment">// æ–¹å¼3ï¼šåŒæ­¥æ–¹æ³•æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ä½†æ•ˆç‡ä½ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SynchronizedLazySingleton</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SynchronizedLazySingleton instance;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">SynchronizedLazySingleton</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"åŒæ­¥æ‡’æ±‰å¼å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> SynchronizedLazySingleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronizedLazySingleton</span>();
            }
            <span class="hljs-keyword">return</span> instance;
        }
    }
    
    <span class="hljs-comment">// æ–¹å¼4ï¼šåŒé‡æ£€æŸ¥é”å®šï¼ˆDCLï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DoubleCheckedSingleton</span> {
        <span class="hljs-comment">// ä½¿ç”¨volatileé˜²æ­¢æŒ‡ä»¤é‡æ’åº</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> DoubleCheckedSingleton instance;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">DoubleCheckedSingleton</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"åŒé‡æ£€æŸ¥å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DoubleCheckedSingleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {  <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ£€æŸ¥ï¼Œé¿å…ä¸å¿…è¦çš„åŒæ­¥</span>
                <span class="hljs-keyword">synchronized</span> (DoubleCheckedSingleton.class) {
                    <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {  <span class="hljs-comment">// ç¬¬äºŒæ¬¡æ£€æŸ¥ï¼Œç¡®ä¿å”¯ä¸€æ€§</span>
                        instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoubleCheckedSingleton</span>();
                    }
                }
            }
            <span class="hljs-keyword">return</span> instance;
        }
    }
    
    <span class="hljs-comment">// æ–¹å¼5ï¼šé™æ€å†…éƒ¨ç±»ï¼ˆæ¨èï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticInnerClassSingleton</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">StaticInnerClassSingleton</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"é™æ€å†…éƒ¨ç±»å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-comment">// é™æ€å†…éƒ¨ç±»åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰ä¼šåŠ è½½</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingletonHolder</span> {
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">StaticInnerClassSingleton</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">StaticInnerClassSingleton</span>();
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StaticInnerClassSingleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> SingletonHolder.INSTANCE;
        }
    }
    
    <span class="hljs-comment">// æ–¹å¼6ï¼šæšä¸¾å•ä¾‹ï¼ˆæœ€å®‰å…¨ï¼Œé˜²æ­¢åå°„æ”»å‡»å’Œåºåˆ—åŒ–é—®é¢˜ï¼‰</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">EnumSingleton</span> {
        INSTANCE;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">EnumSingleton</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æšä¸¾å•ä¾‹è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æšä¸¾å•ä¾‹å·¥ä½œ"</span>);
        }
    }
    
    <span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æµ‹è¯•é¥¿æ±‰å¼</span>
        <span class="hljs-type">EagerSingleton</span> <span class="hljs-variable">eager1</span> <span class="hljs-operator">=</span> EagerSingleton.getInstance();
        <span class="hljs-type">EagerSingleton</span> <span class="hljs-variable">eager2</span> <span class="hljs-operator">=</span> EagerSingleton.getInstance();
        System.out.println(<span class="hljs-string">"é¥¿æ±‰å¼æ˜¯å¦æ˜¯åŒä¸€ä¸ªå®ä¾‹: "</span> + (eager1 == eager2));
        
        <span class="hljs-comment">// æµ‹è¯•åŒé‡æ£€æŸ¥</span>
        <span class="hljs-type">DoubleCheckedSingleton</span> <span class="hljs-variable">dcl1</span> <span class="hljs-operator">=</span> DoubleCheckedSingleton.getInstance();
        <span class="hljs-type">DoubleCheckedSingleton</span> <span class="hljs-variable">dcl2</span> <span class="hljs-operator">=</span> DoubleCheckedSingleton.getInstance();
        System.out.println(<span class="hljs-string">"åŒé‡æ£€æŸ¥æ˜¯å¦æ˜¯åŒä¸€ä¸ªå®ä¾‹: "</span> + (dcl1 == dcl2));
        
        <span class="hljs-comment">// æµ‹è¯•æšä¸¾å•ä¾‹</span>
        <span class="hljs-type">EnumSingleton</span> <span class="hljs-variable">enum1</span> <span class="hljs-operator">=</span> EnumSingleton.INSTANCE;
        <span class="hljs-type">EnumSingleton</span> <span class="hljs-variable">enum2</span> <span class="hljs-operator">=</span> EnumSingleton.INSTANCE;
        System.out.println(<span class="hljs-string">"æšä¸¾æ˜¯å¦æ˜¯åŒä¸€ä¸ªå®ä¾‹: "</span> + (enum1 == enum2));
        enum1.doSomething();
    }
}
</code></pre>
<h3 data-id="heading-5">å®é™…åº”ç”¨ï¼šæ•°æ®åº“è¿æ¥æ± </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ•°æ®åº“è¿æ¥æ± çš„å•ä¾‹å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseConnectionPool</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DatabaseConnectionPool instance;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Connection&gt; connectionPool;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> maxConnections;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String password;
    
    <span class="hljs-keyword">private</span> <span class="hljs-title function_">DatabaseConnectionPool</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.maxConnections = <span class="hljs-number">10</span>;
        <span class="hljs-built_in">this</span>.url = <span class="hljs-string">"jdbc:mysql://localhost:3306/mydb"</span>;
        <span class="hljs-built_in">this</span>.username = <span class="hljs-string">"root"</span>;
        <span class="hljs-built_in">this</span>.password = <span class="hljs-string">"password"</span>;
        <span class="hljs-built_in">this</span>.connectionPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// åˆå§‹åŒ–è¿æ¥æ± </span>
        initializePool();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> DatabaseConnectionPool <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
            instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseConnectionPool</span>();
        }
        <span class="hljs-keyword">return</span> instance;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initializePool</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; maxConnections; i++) {
                <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> DriverManager.getConnection(url, username, password);
                connectionPool.add(conn);
            }
            System.out.println(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–å®Œæˆï¼Œè¿æ¥æ•°: "</span> + connectionPool.size());
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± å¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (connectionPool.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è¿æ¥æ± å·²è€—å°½"</span>);
        }
        <span class="hljs-keyword">return</span> connectionPool.remove(<span class="hljs-number">0</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseConnection</span><span class="hljs-params">(Connection conn)</span> {
        <span class="hljs-keyword">if</span> (connectionPool.size() &lt; maxConnections) {
            connectionPool.add(conn);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">try</span> {
                conn.close();
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                e.printStackTrace();
            }
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">closeAllConnections</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (Connection conn : connectionPool) {
            <span class="hljs-keyword">try</span> {
                conn.close();
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                e.printStackTrace();
            }
        }
        connectionPool.clear();
    }
}
</code></pre>
<h2 data-id="heading-6">å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šè§£è€¦åˆ›å»ºé€»è¾‘</h2>
<h3 data-id="heading-7">é—®é¢˜åœºæ™¯</h3>
<p>å½“åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæˆ–è€…éœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶åˆ›å»ºä¸åŒçš„å¯¹è±¡æ—¶ï¼Œç›´æ¥ä½¿ç”¨<code>new</code>å…³é”®å­—ä¼šä½¿å¾—ä»£ç è€¦åˆåº¦é«˜ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 data-id="heading-8">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FactoryMethodPattern</span> {
    
    <span class="hljs-comment">// äº§å“æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span>;
        <span class="hljs-type">double</span> <span class="hljs-title function_">getArea</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“äº§å“</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> radius;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Circle</span><span class="hljs-params">(<span class="hljs-type">double</span> radius)</span> {
            <span class="hljs-built_in">this</span>.radius = radius;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"ç»˜åˆ¶åœ†å½¢ï¼ŒåŠå¾„: "</span> + radius);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getArea</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> Math.PI * radius * radius;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> width;
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> height;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> width, <span class="hljs-type">double</span> height)</span> {
            <span class="hljs-built_in">this</span>.width = width;
            <span class="hljs-built_in">this</span>.height = height;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"ç»˜åˆ¶çŸ©å½¢ï¼Œå®½: "</span> + width + <span class="hljs-string">", é«˜: "</span> + height);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getArea</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> width * height;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Square</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> side;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Square</span><span class="hljs-params">(<span class="hljs-type">double</span> side)</span> {
            <span class="hljs-built_in">this</span>.side = side;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"ç»˜åˆ¶æ­£æ–¹å½¢ï¼Œè¾¹é•¿: "</span> + side);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getArea</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> side * side;
        }
    }
    
    <span class="hljs-comment">// å·¥å‚æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ShapeFactory</span> {
        Shape <span class="hljs-title function_">createShape</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“å·¥å‚</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CircleFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShapeFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> radius;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">CircleFactory</span><span class="hljs-params">(<span class="hljs-type">double</span> radius)</span> {
            <span class="hljs-built_in">this</span>.radius = radius;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Shape <span class="hljs-title function_">createShape</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(radius);
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RectangleFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShapeFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> width;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> height;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">RectangleFactory</span><span class="hljs-params">(<span class="hljs-type">double</span> width, <span class="hljs-type">double</span> height)</span> {
            <span class="hljs-built_in">this</span>.width = width;
            <span class="hljs-built_in">this</span>.height = height;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Shape <span class="hljs-title function_">createShape</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(width, height);
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SquareFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShapeFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> side;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">SquareFactory</span><span class="hljs-params">(<span class="hljs-type">double</span> side)</span> {
            <span class="hljs-built_in">this</span>.side = side;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Shape <span class="hljs-title function_">createShape</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Square</span>(side);
        }
    }
    
    <span class="hljs-comment">// å®¢æˆ·ç«¯ä»£ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ä½¿ç”¨å·¥å‚åˆ›å»ºå¯¹è±¡</span>
        <span class="hljs-type">ShapeFactory</span> <span class="hljs-variable">circleFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CircleFactory</span>(<span class="hljs-number">5.0</span>);
        <span class="hljs-type">Shape</span> <span class="hljs-variable">circle</span> <span class="hljs-operator">=</span> circleFactory.createShape();
        circle.draw();
        System.out.println(<span class="hljs-string">"åœ†å½¢é¢ç§¯: "</span> + circle.getArea());
        
        <span class="hljs-type">ShapeFactory</span> <span class="hljs-variable">rectangleFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RectangleFactory</span>(<span class="hljs-number">4.0</span>, <span class="hljs-number">6.0</span>);
        <span class="hljs-type">Shape</span> <span class="hljs-variable">rectangle</span> <span class="hljs-operator">=</span> rectangleFactory.createShape();
        rectangle.draw();
        System.out.println(<span class="hljs-string">"çŸ©å½¢é¢ç§¯: "</span> + rectangle.getArea());
        
        <span class="hljs-comment">// é€šè¿‡é…ç½®æ–‡ä»¶å†³å®šä½¿ç”¨å“ªä¸ªå·¥å‚</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">shapeType</span> <span class="hljs-operator">=</span> <span class="hljs-string">"square"</span>; <span class="hljs-comment">// å¯ä»¥ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–</span>
        <span class="hljs-type">ShapeFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> createFactory(shapeType, <span class="hljs-number">3.0</span>, <span class="hljs-number">0.0</span>);
        <span class="hljs-type">Shape</span> <span class="hljs-variable">shape</span> <span class="hljs-operator">=</span> factory.createShape();
        shape.draw();
    }
    
    <span class="hljs-comment">// æ ¹æ®ç±»å‹åˆ›å»ºå·¥å‚ï¼ˆå¯ä»¥æ‰©å±•ä¸ºä»é…ç½®æ–‡ä»¶è¯»å–ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ShapeFactory <span class="hljs-title function_">createFactory</span><span class="hljs-params">(String type, <span class="hljs-type">double</span> param1, <span class="hljs-type">double</span> param2)</span> {
        <span class="hljs-keyword">switch</span> (type.toLowerCase()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"circle"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CircleFactory</span>(param1);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"rectangle"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RectangleFactory</span>(param1, param2);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"square"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SquareFactory</span>(param1);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„å½¢çŠ¶ç±»å‹: "</span> + type);
        }
    }
}
</code></pre>
<h3 data-id="heading-9">å®é™…åº”ç”¨ï¼šæ•°æ®åº“è¿æ¥å·¥å‚</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ•°æ®åº“è¿æ¥å·¥å‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseConnectionFactory</span> {
    
    <span class="hljs-comment">// æ•°æ®åº“ç±»å‹æšä¸¾</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DatabaseType</span> {
        MYSQL,
        POSTGRESQL,
        ORACLE,
        SQLSERVER
    }
    
    <span class="hljs-comment">// æ•°æ®åº“è¿æ¥æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DatabaseConnection</span> {
        Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span>;
        String <span class="hljs-title function_">getDatabaseInfo</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql)</span>;
    }
    
    <span class="hljs-comment">// MySQLè¿æ¥å®ç°</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLConnection</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DatabaseConnection</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String password;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MySQLConnection</span><span class="hljs-params">(String url, String username, String password)</span> {
            <span class="hljs-built_in">this</span>.url = url;
            <span class="hljs-built_in">this</span>.username = username;
            <span class="hljs-built_in">this</span>.password = password;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> DriverManager.getConnection(url, username, password);
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"MySQLè¿æ¥å¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getDatabaseInfo</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"MySQLæ•°æ®åº“è¿æ¥: "</span> + url;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql)</span> {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> getConnection();
                 <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> conn.createStatement()) {
                stmt.execute(sql);
                System.out.println(<span class="hljs-string">"MySQLæŸ¥è¯¢æ‰§è¡ŒæˆåŠŸ: "</span> + sql);
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                e.printStackTrace();
            }
        }
    }
    
    <span class="hljs-comment">// PostgreSQLè¿æ¥å®ç°</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PostgreSQLConnection</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DatabaseConnection</span> {
        <span class="hljs-comment">// ç±»ä¼¼MySQLConnectionçš„å®ç°ï¼Œçœç•¥...</span>
    }
    
    <span class="hljs-comment">// æ•°æ®åº“è¿æ¥å·¥å‚</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Properties config;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ConnectionFactory</span><span class="hljs-params">(String configFile)</span> {
            config = loadConfig(configFile);
        }
        
        <span class="hljs-keyword">public</span> DatabaseConnection <span class="hljs-title function_">createConnection</span><span class="hljs-params">(DatabaseType type)</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> config.getProperty(type.name().toLowerCase() + <span class="hljs-string">".url"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> config.getProperty(type.name().toLowerCase() + <span class="hljs-string">".username"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> config.getProperty(type.name().toLowerCase() + <span class="hljs-string">".password"</span>);
            
            <span class="hljs-keyword">switch</span> (type) {
                <span class="hljs-keyword">case</span> MYSQL:
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySQLConnection</span>(url, username, password);
                <span class="hljs-keyword">case</span> POSTGRESQL:
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PostgreSQLConnection</span>(url, username, password);
                <span class="hljs-comment">// å…¶ä»–æ•°æ®åº“ç±»å‹...</span>
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ•°æ®åº“ç±»å‹: "</span> + type);
            }
        }
        
        <span class="hljs-keyword">private</span> Properties <span class="hljs-title function_">loadConfig</span><span class="hljs-params">(String configFile)</span> {
            <span class="hljs-type">Properties</span> <span class="hljs-variable">props</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();
            <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStream</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> getClass().getClassLoader().getResourceAsStream(configFile)) {
                props.load(input);
            } <span class="hljs-keyword">catch</span> (IOException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åŠ è½½é…ç½®æ–‡ä»¶å¤±è´¥"</span>, e);
            }
            <span class="hljs-keyword">return</span> props;
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ä½¿ç”¨å·¥å‚åˆ›å»ºæ•°æ®åº“è¿æ¥</span>
        <span class="hljs-type">ConnectionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectionFactory</span>(<span class="hljs-string">"database.properties"</span>);
        <span class="hljs-type">DatabaseConnection</span> <span class="hljs-variable">mysqlConn</span> <span class="hljs-operator">=</span> factory.createConnection(DatabaseType.MYSQL);
        System.out.println(mysqlConn.getDatabaseInfo());
        mysqlConn.executeQuery(<span class="hljs-string">"SELECT * FROM users"</span>);
        
        <span class="hljs-comment">// åˆ‡æ¢æ•°æ®åº“ç±»å‹åªéœ€ä¿®æ”¹å‚æ•°</span>
        <span class="hljs-type">DatabaseConnection</span> <span class="hljs-variable">pgConn</span> <span class="hljs-operator">=</span> factory.createConnection(DatabaseType.POSTGRESQL);
        System.out.println(pgConn.getDatabaseInfo());
    }
}
</code></pre>
<h2 data-id="heading-10">æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šåˆ›å»ºäº§å“æ—</h2>
<h3 data-id="heading-11">é—®é¢˜åœºæ™¯</h3>
<p>å½“éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–çš„å¯¹è±¡æ—¶ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>GUIç»„ä»¶ï¼šä¸åŒæ“ä½œç³»ç»Ÿçš„æŒ‰é’®ã€æ–‡æœ¬æ¡†ã€å¯¹è¯æ¡†</li>
<li>æ•°æ®åº“è®¿é—®ï¼šä¸åŒæ•°æ®åº“çš„è¿æ¥ã€å‘½ä»¤ã€é€‚é…å™¨</li>
<li>æ¸¸æˆå¼€å‘ï¼šä¸åŒä¸»é¢˜çš„è§’è‰²ã€æ­¦å™¨ã€åœºæ™¯</li>
</ul>
<h3 data-id="heading-12">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractFactoryPattern</span> {
    
    <span class="hljs-comment">// æŠ½è±¡äº§å“Aï¼šUIç»„ä»¶</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Button</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TextField</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span>;
        String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String text)</span>;
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dialog</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">addButton</span><span class="hljs-params">(Button button)</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTextField</span><span class="hljs-params">(TextField field)</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“äº§å“ï¼šWindowsé£æ ¼</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowsButton</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Button</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ¸²æŸ“Windowsé£æ ¼æŒ‰é’®"</span>);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"WindowsæŒ‰é’®è¢«ç‚¹å‡»"</span>);
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowsTextField</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TextField</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ¸²æŸ“Windowsé£æ ¼æ–‡æœ¬æ¡†ï¼Œå†…å®¹: "</span> + text);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> text;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String text)</span> {
            <span class="hljs-built_in">this</span>.text = text;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowsDialog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Dialog</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Button&gt; buttons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;TextField&gt; textFields = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ¸²æŸ“Windowsé£æ ¼å¯¹è¯æ¡†"</span>);
            System.out.println(<span class="hljs-string">"åŒ…å« "</span> + buttons.size() + <span class="hljs-string">" ä¸ªæŒ‰é’®"</span>);
            System.out.println(<span class="hljs-string">"åŒ…å« "</span> + textFields.size() + <span class="hljs-string">" ä¸ªæ–‡æœ¬æ¡†"</span>);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addButton</span><span class="hljs-params">(Button button)</span> {
            buttons.add(button);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTextField</span><span class="hljs-params">(TextField field)</span> {
            textFields.add(field);
        }
    }
    
    <span class="hljs-comment">// å…·ä½“äº§å“ï¼šMacé£æ ¼</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MacButton</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Button</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ¸²æŸ“Macé£æ ¼æŒ‰é’®"</span>);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"MacæŒ‰é’®è¢«ç‚¹å‡»"</span>);
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MacTextField</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TextField</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">render</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ¸²æŸ“Macé£æ ¼æ–‡æœ¬æ¡†ï¼Œå†…å®¹: "</span> + text);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> text;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String text)</span> {
            <span class="hljs-built_in">this</span>.text = text;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MacDialog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Dialog</span> {
        <span class="hljs-comment">// ç±»ä¼¼WindowsDialogçš„å®ç°ï¼Œçœç•¥...</span>
    }
    
    <span class="hljs-comment">// æŠ½è±¡å·¥å‚</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UIFactory</span> {
        Button <span class="hljs-title function_">createButton</span><span class="hljs-params">()</span>;
        TextField <span class="hljs-title function_">createTextField</span><span class="hljs-params">()</span>;
        Dialog <span class="hljs-title function_">createDialog</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“å·¥å‚ï¼šWindowså·¥å‚</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowsUIFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UIFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Button <span class="hljs-title function_">createButton</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowsButton</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> TextField <span class="hljs-title function_">createTextField</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowsTextField</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Dialog <span class="hljs-title function_">createDialog</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowsDialog</span>();
        }
    }
    
    <span class="hljs-comment">// å…·ä½“å·¥å‚ï¼šMacå·¥å‚</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MacUIFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UIFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Button <span class="hljs-title function_">createButton</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MacButton</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> TextField <span class="hljs-title function_">createTextField</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MacTextField</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Dialog <span class="hljs-title function_">createDialog</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MacDialog</span>();
        }
    }
    
    <span class="hljs-comment">// å®¢æˆ·ç«¯ä»£ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UIFactory factory;
        <span class="hljs-keyword">private</span> Button button;
        <span class="hljs-keyword">private</span> TextField textField;
        <span class="hljs-keyword">private</span> Dialog dialog;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Application</span><span class="hljs-params">(UIFactory factory)</span> {
            <span class="hljs-built_in">this</span>.factory = factory;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createUI</span><span class="hljs-params">()</span> {
            <span class="hljs-built_in">this</span>.button = factory.createButton();
            <span class="hljs-built_in">this</span>.textField = factory.createTextField();
            <span class="hljs-built_in">this</span>.dialog = factory.createDialog();
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">renderUI</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"=== æ¸²æŸ“åº”ç”¨ç¨‹åºç•Œé¢ ==="</span>);
            button.render();
            textField.render();
            dialog.render();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ ¹æ®é…ç½®å†³å®šä½¿ç”¨å“ªä¸ªå·¥å‚</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">"os.name"</span>).toLowerCase();
        UIFactory factory;
        
        <span class="hljs-keyword">if</span> (os.contains(<span class="hljs-string">"win"</span>)) {
            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowsUIFactory</span>();
            System.out.println(<span class="hljs-string">"æ£€æµ‹åˆ°Windowsç³»ç»Ÿï¼Œä½¿ç”¨Windows UIå·¥å‚"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (os.contains(<span class="hljs-string">"mac"</span>)) {
            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MacUIFactory</span>();
            System.out.println(<span class="hljs-string">"æ£€æµ‹åˆ°Macç³»ç»Ÿï¼Œä½¿ç”¨Mac UIå·¥å‚"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ“ä½œç³»ç»Ÿ: "</span> + os);
        }
        
        <span class="hljs-comment">// åˆ›å»ºåº”ç”¨ç¨‹åº</span>
        <span class="hljs-type">Application</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Application</span>(factory);
        app.createUI();
        app.renderUI();
    }
}
</code></pre>
<h3 data-id="heading-13">å®é™…åº”ç”¨ï¼šæ•°æ®åº“è®¿é—®æŠ½è±¡å·¥å‚</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ•°æ®åº“è®¿é—®æŠ½è±¡å·¥å‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseAccessFactory</span> {
    
    <span class="hljs-comment">// æŠ½è±¡äº§å“ï¼šæ•°æ®åº“è¿æ¥</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DBConnection</span> {
        Connection <span class="hljs-title function_">connect</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">disconnect</span><span class="hljs-params">()</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">isConnected</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// æŠ½è±¡äº§å“ï¼šæ•°æ®åº“å‘½ä»¤</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DBCommand</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">(String sql)</span>;
        ResultSet <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql)</span>;
        <span class="hljs-type">int</span> <span class="hljs-title function_">executeUpdate</span><span class="hljs-params">(String sql)</span>;
    }
    
    <span class="hljs-comment">// æŠ½è±¡äº§å“ï¼šæ•°æ®é€‚é…å™¨</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DBAdapter</span> {
        &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql, RowMapper&lt;T&gt; mapper)</span>;
        <span class="hljs-type">int</span> <span class="hljs-title function_">executeUpdate</span><span class="hljs-params">(String sql, Object... params)</span>;
    }
    
    <span class="hljs-comment">// è¡Œæ˜ å°„å™¨æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RowMapper</span>&lt;T&gt; {
        T <span class="hljs-title function_">mapRow</span><span class="hljs-params">(ResultSet rs)</span> <span class="hljs-keyword">throws</span> SQLException;
    }
    
    <span class="hljs-comment">// MySQLå…·ä½“äº§å“</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLConnection</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DBConnection</span> {
        <span class="hljs-keyword">private</span> Connection connection;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String password;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MySQLConnection</span><span class="hljs-params">(String url, String username, String password)</span> {
            <span class="hljs-built_in">this</span>.url = url;
            <span class="hljs-built_in">this</span>.username = username;
            <span class="hljs-built_in">this</span>.password = password;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">connect</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                connection = DriverManager.getConnection(url, username, password);
                System.out.println(<span class="hljs-string">"MySQLè¿æ¥æˆåŠŸ"</span>);
                <span class="hljs-keyword">return</span> connection;
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"MySQLè¿æ¥å¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">disconnect</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">try</span> {
                    connection.close();
                    System.out.println(<span class="hljs-string">"MySQLè¿æ¥å…³é—­"</span>);
                } <span class="hljs-keyword">catch</span> (SQLException e) {
                    e.printStackTrace();
                }
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isConnected</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> connection != <span class="hljs-literal">null</span> &amp;&amp; !connection.isClosed();
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DBCommand</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Connection connection;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MySQLCommand</span><span class="hljs-params">(Connection connection)</span> {
            <span class="hljs-built_in">this</span>.connection = connection;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">(String sql)</span> {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.createStatement()) {
                stmt.execute(sql);
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                e.printStackTrace();
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> ResultSet <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql)</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.createStatement();
                <span class="hljs-keyword">return</span> stmt.executeQuery(sql);
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æŸ¥è¯¢æ‰§è¡Œå¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">executeUpdate</span><span class="hljs-params">(String sql)</span> {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.createStatement()) {
                <span class="hljs-keyword">return</span> stmt.executeUpdate(sql);
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ›´æ–°æ‰§è¡Œå¤±è´¥"</span>, e);
            }
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLAdapter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DBAdapter</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Connection connection;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MySQLAdapter</span><span class="hljs-params">(Connection connection)</span> {
            <span class="hljs-built_in">this</span>.connection = connection;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql, RowMapper&lt;T&gt; mapper)</span> {
            List&lt;T&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-keyword">try</span> (<span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.prepareStatement(sql);
                 <span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery()) {
                
                <span class="hljs-keyword">while</span> (rs.next()) {
                    results.add(mapper.mapRow(rs));
                }
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æŸ¥è¯¢æ‰§è¡Œå¤±è´¥"</span>, e);
            }
            <span class="hljs-keyword">return</span> results;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">executeUpdate</span><span class="hljs-params">(String sql, Object... params)</span> {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.prepareStatement(sql)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; params.length; i++) {
                    stmt.setObject(i + <span class="hljs-number">1</span>, params[i]);
                }
                <span class="hljs-keyword">return</span> stmt.executeUpdate();
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ›´æ–°æ‰§è¡Œå¤±è´¥"</span>, e);
            }
        }
    }
    
    <span class="hljs-comment">// PostgreSQLå…·ä½“äº§å“ï¼ˆç±»ä¼¼MySQLï¼Œçœç•¥ï¼‰</span>
    
    <span class="hljs-comment">// æŠ½è±¡å·¥å‚</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DatabaseFactory</span> {
        DBConnection <span class="hljs-title function_">createConnection</span><span class="hljs-params">()</span>;
        DBCommand <span class="hljs-title function_">createCommand</span><span class="hljs-params">(Connection connection)</span>;
        DBAdapter <span class="hljs-title function_">createAdapter</span><span class="hljs-params">(Connection connection)</span>;
    }
    
    <span class="hljs-comment">// MySQLå·¥å‚</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DatabaseFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String password;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MySQLFactory</span><span class="hljs-params">(String url, String username, String password)</span> {
            <span class="hljs-built_in">this</span>.url = url;
            <span class="hljs-built_in">this</span>.username = username;
            <span class="hljs-built_in">this</span>.password = password;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> DBConnection <span class="hljs-title function_">createConnection</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySQLConnection</span>(url, username, password);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> DBCommand <span class="hljs-title function_">createCommand</span><span class="hljs-params">(Connection connection)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySQLCommand</span>(connection);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> DBAdapter <span class="hljs-title function_">createAdapter</span><span class="hljs-params">(Connection connection)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySQLAdapter</span>(connection);
        }
    }
    
    <span class="hljs-comment">// PostgreSQLå·¥å‚ï¼ˆç±»ä¼¼MySQLFactoryï¼Œçœç•¥ï¼‰</span>
    
    <span class="hljs-comment">// å®¢æˆ·ç«¯ï¼šæ•°æ®åº“è®¿é—®å±‚</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseAccessLayer</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DatabaseFactory factory;
        <span class="hljs-keyword">private</span> DBConnection connection;
        <span class="hljs-keyword">private</span> DBCommand command;
        <span class="hljs-keyword">private</span> DBAdapter adapter;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DatabaseAccessLayer</span><span class="hljs-params">(DatabaseFactory factory)</span> {
            <span class="hljs-built_in">this</span>.factory = factory;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">connect</span><span class="hljs-params">()</span> {
            connection = factory.createConnection();
            connection.connect();
            command = factory.createCommand(connection.connect());
            adapter = factory.createAdapter(connection.connect());
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String sql)</span> {
            command.execute(sql);
        }
        
        <span class="hljs-keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(String sql, RowMapper&lt;T&gt; mapper)</span> {
            <span class="hljs-keyword">return</span> adapter.executeQuery(sql, mapper);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">disconnect</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span>) {
                connection.disconnect();
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-14">å»ºé€ è€…æ¨¡å¼ï¼šæ„å»ºå¤æ‚å¯¹è±¡</h2>
<h3 data-id="heading-15">é—®é¢˜åœºæ™¯</h3>
<p>å½“ä¸€ä¸ªå¯¹è±¡æœ‰å¤šä¸ªå±æ€§ï¼Œä¸”æ„å»ºè¿‡ç¨‹å¤æ‚ï¼Œæˆ–è€…éœ€è¦æ„å»ºä¸å¯å˜å¯¹è±¡æ—¶ï¼Œä½¿ç”¨æ„é€ å™¨ä¼šéå¸¸å†—é•¿ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 data-id="heading-16">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BuilderPattern</span> {
    
    <span class="hljs-comment">// å¤æ‚äº§å“ï¼šç”µè„‘</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Computer</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String cpu;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String motherboard;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String memory;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String storage;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String gpu;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String powerSupply;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String coolingSystem;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> hasBluetooth;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> hasWiFi;
        
        <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨ï¼Œåªèƒ½é€šè¿‡Builderåˆ›å»º</span>
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">Computer</span><span class="hljs-params">(Builder builder)</span> {
            <span class="hljs-built_in">this</span>.cpu = builder.cpu;
            <span class="hljs-built_in">this</span>.motherboard = builder.motherboard;
            <span class="hljs-built_in">this</span>.memory = builder.memory;
            <span class="hljs-built_in">this</span>.storage = builder.storage;
            <span class="hljs-built_in">this</span>.gpu = builder.gpu;
            <span class="hljs-built_in">this</span>.powerSupply = builder.powerSupply;
            <span class="hljs-built_in">this</span>.coolingSystem = builder.coolingSystem;
            <span class="hljs-built_in">this</span>.hasBluetooth = builder.hasBluetooth;
            <span class="hljs-built_in">this</span>.hasWiFi = builder.hasWiFi;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Computeré…ç½®:\n"</span> +
                   <span class="hljs-string">"  CPU: "</span> + cpu + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  ä¸»æ¿: "</span> + motherboard + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  å†…å­˜: "</span> + memory + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  å­˜å‚¨: "</span> + storage + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  æ˜¾å¡: "</span> + (gpu != <span class="hljs-literal">null</span> ? gpu : <span class="hljs-string">"é›†æˆæ˜¾å¡"</span>) + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  ç”µæº: "</span> + powerSupply + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  æ•£çƒ­: "</span> + coolingSystem + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  è“ç‰™: "</span> + (hasBluetooth ? <span class="hljs-string">"æœ‰"</span> : <span class="hljs-string">"æ— "</span>) + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  WiFi: "</span> + (hasWiFi ? <span class="hljs-string">"æœ‰"</span> : <span class="hljs-string">"æ— "</span>);
        }
        
        <span class="hljs-comment">// å»ºé€ è€…ç±»</span>
        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Builder</span> {
            <span class="hljs-comment">// å¿…éœ€å‚æ•°</span>
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String cpu;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String motherboard;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String memory;
            
            <span class="hljs-comment">// å¯é€‰å‚æ•°ï¼ˆå¸¦é»˜è®¤å€¼ï¼‰</span>
            <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">storage</span> <span class="hljs-operator">=</span> <span class="hljs-string">"512GB SSD"</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">gpu</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;  <span class="hljs-comment">// é»˜è®¤é›†æˆæ˜¾å¡</span>
            <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">powerSupply</span> <span class="hljs-operator">=</span> <span class="hljs-string">"500W 80+ Bronze"</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">coolingSystem</span> <span class="hljs-operator">=</span> <span class="hljs-string">"é£å†·"</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">hasBluetooth</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">hasWiFi</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            
            <span class="hljs-comment">// å¿…éœ€å‚æ•°çš„æ„é€ å™¨</span>
            <span class="hljs-keyword">public</span> <span class="hljs-title function_">Builder</span><span class="hljs-params">(String cpu, String motherboard, String memory)</span> {
                <span class="hljs-built_in">this</span>.cpu = cpu;
                <span class="hljs-built_in">this</span>.motherboard = motherboard;
                <span class="hljs-built_in">this</span>.memory = memory;
            }
            
            <span class="hljs-comment">// å¯é€‰å‚æ•°è®¾ç½®æ–¹æ³•</span>
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">storage</span><span class="hljs-params">(String storage)</span> {
                <span class="hljs-built_in">this</span>.storage = storage;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">gpu</span><span class="hljs-params">(String gpu)</span> {
                <span class="hljs-built_in">this</span>.gpu = gpu;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">powerSupply</span><span class="hljs-params">(String powerSupply)</span> {
                <span class="hljs-built_in">this</span>.powerSupply = powerSupply;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">coolingSystem</span><span class="hljs-params">(String coolingSystem)</span> {
                <span class="hljs-built_in">this</span>.coolingSystem = coolingSystem;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">hasBluetooth</span><span class="hljs-params">(<span class="hljs-type">boolean</span> hasBluetooth)</span> {
                <span class="hljs-built_in">this</span>.hasBluetooth = hasBluetooth;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">hasWiFi</span><span class="hljs-params">(<span class="hljs-type">boolean</span> hasWiFi)</span> {
                <span class="hljs-built_in">this</span>.hasWiFi = hasWiFi;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-comment">// æ„å»ºæ–¹æ³•</span>
            <span class="hljs-keyword">public</span> Computer <span class="hljs-title function_">build</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Computer</span>(<span class="hljs-built_in">this</span>);
            }
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ„å»ºåŸºç¡€ç‰ˆç”µè„‘</span>
        <span class="hljs-type">Computer</span> <span class="hljs-variable">basicComputer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Computer</span>.Builder(<span class="hljs-string">"Intel i5"</span>, <span class="hljs-string">"B660"</span>, <span class="hljs-string">"16GB DDR4"</span>)
            .build();
        System.out.println(<span class="hljs-string">"åŸºç¡€ç‰ˆç”µè„‘:"</span>);
        System.out.println(basicComputer);
        
        System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">50</span>) + <span class="hljs-string">"\n"</span>);
        
        <span class="hljs-comment">// æ„å»ºæ¸¸æˆç”µè„‘</span>
        <span class="hljs-type">Computer</span> <span class="hljs-variable">gamingComputer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Computer</span>.Builder(<span class="hljs-string">"Intel i9"</span>, <span class="hljs-string">"Z790"</span>, <span class="hljs-string">"32GB DDR5"</span>)
            .storage(<span class="hljs-string">"2TB NVMe SSD"</span>)
            .gpu(<span class="hljs-string">"NVIDIA RTX 4080"</span>)
            .powerSupply(<span class="hljs-string">"850W 80+ Gold"</span>)
            .coolingSystem(<span class="hljs-string">"360mmæ°´å†·"</span>)
            .hasBluetooth(<span class="hljs-literal">true</span>)
            .hasWiFi(<span class="hljs-literal">true</span>)
            .build();
        System.out.println(<span class="hljs-string">"æ¸¸æˆç”µè„‘:"</span>);
        System.out.println(gamingComputer);
        
        System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">50</span>) + <span class="hljs-string">"\n"</span>);
        
        <span class="hljs-comment">// æ„å»ºåŠå…¬ç”µè„‘</span>
        <span class="hljs-type">Computer</span> <span class="hljs-variable">officeComputer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Computer</span>.Builder(<span class="hljs-string">"AMD Ryzen 7"</span>, <span class="hljs-string">"B650"</span>, <span class="hljs-string">"32GB DDR4"</span>)
            .storage(<span class="hljs-string">"1TB SSD"</span>)
            .gpu(<span class="hljs-string">"é›†æˆæ˜¾å¡"</span>)
            .hasWiFi(<span class="hljs-literal">true</span>)
            .build();
        System.out.println(<span class="hljs-string">"åŠå…¬ç”µè„‘:"</span>);
        System.out.println(officeComputer);
    }
}
</code></pre>
<h3 data-id="heading-17">å®é™…åº”ç”¨ï¼šHTTPè¯·æ±‚æ„å»ºå™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// HTTPè¯·æ±‚æ„å»ºå™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpRequestBuilder</span> {
    
    <span class="hljs-comment">// HTTPè¯·æ±‚ç±»</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpRequest</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> HttpMethod method;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, String&gt; headers;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, String&gt; queryParams;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String body;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> timeout;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> followRedirects;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SSLContext sslContext;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">HttpRequest</span><span class="hljs-params">(Builder builder)</span> {
            <span class="hljs-built_in">this</span>.url = builder.url;
            <span class="hljs-built_in">this</span>.method = builder.method;
            <span class="hljs-built_in">this</span>.headers = Collections.unmodifiableMap(builder.headers);
            <span class="hljs-built_in">this</span>.queryParams = Collections.unmodifiableMap(builder.queryParams);
            <span class="hljs-built_in">this</span>.body = builder.body;
            <span class="hljs-built_in">this</span>.timeout = builder.timeout;
            <span class="hljs-built_in">this</span>.followRedirects = builder.followRedirects;
            <span class="hljs-built_in">this</span>.sslContext = builder.sslContext;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"æ‰§è¡ŒHTTPè¯·æ±‚:"</span>);
            System.out.println(<span class="hljs-string">"  URL: "</span> + url);
            System.out.println(<span class="hljs-string">"  æ–¹æ³•: "</span> + method);
            System.out.println(<span class="hljs-string">"  è¯·æ±‚å¤´: "</span> + headers);
            System.out.println(<span class="hljs-string">"  æŸ¥è¯¢å‚æ•°: "</span> + queryParams);
            System.out.println(<span class="hljs-string">"  è¯·æ±‚ä½“: "</span> + (body != <span class="hljs-literal">null</span> ? body.substring(<span class="hljs-number">0</span>, Math.min(<span class="hljs-number">50</span>, body.length())) : <span class="hljs-string">"null"</span>));
            System.out.println(<span class="hljs-string">"  è¶…æ—¶: "</span> + timeout + <span class="hljs-string">"ms"</span>);
            System.out.println(<span class="hljs-string">"  è·Ÿéšé‡å®šå‘: "</span> + followRedirects);
            
            <span class="hljs-comment">// å®é™…æ‰§è¡ŒHTTPè¯·æ±‚çš„ä»£ç ...</span>
        }
        
        <span class="hljs-comment">// è·å–å®Œæ•´URLï¼ˆåŒ…å«æŸ¥è¯¢å‚æ•°ï¼‰</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getFullUrl</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (queryParams.isEmpty()) {
                <span class="hljs-keyword">return</span> url;
            }
            
            <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">urlBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(url);
            urlBuilder.append(<span class="hljs-string">"?"</span>);
            
            <span class="hljs-type">boolean</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : queryParams.entrySet()) {
                <span class="hljs-keyword">if</span> (!first) {
                    urlBuilder.append(<span class="hljs-string">"&amp;"</span>);
                }
                urlBuilder.append(URLEncoder.encode(entry.getKey(), StandardCharsets.UTF_8))
                         .append(<span class="hljs-string">"="</span>)
                         .append(URLEncoder.encode(entry.getValue(), StandardCharsets.UTF_8));
                first = <span class="hljs-literal">false</span>;
            }
            
            <span class="hljs-keyword">return</span> urlBuilder.toString();
        }
        
        <span class="hljs-comment">// å»ºé€ è€…ç±»</span>
        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Builder</span> {
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String url;
            <span class="hljs-keyword">private</span> <span class="hljs-type">HttpMethod</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> HttpMethod.GET;
            <span class="hljs-keyword">private</span> Map&lt;String, String&gt; headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            <span class="hljs-keyword">private</span> Map&lt;String, String&gt; queryParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            <span class="hljs-keyword">private</span> String body;
            <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">timeout</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>; <span class="hljs-comment">// é»˜è®¤10ç§’</span>
            <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">followRedirects</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">private</span> SSLContext sslContext;
            
            <span class="hljs-keyword">public</span> <span class="hljs-title function_">Builder</span><span class="hljs-params">(String url)</span> {
                <span class="hljs-built_in">this</span>.url = url;
                <span class="hljs-comment">// è®¾ç½®é»˜è®¤è¯·æ±‚å¤´</span>
                headers.put(<span class="hljs-string">"User-Agent"</span>, <span class="hljs-string">"HttpRequestBuilder/1.0"</span>);
                headers.put(<span class="hljs-string">"Accept"</span>, <span class="hljs-string">"application/json"</span>);
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">method</span><span class="hljs-params">(HttpMethod method)</span> {
                <span class="hljs-built_in">this</span>.method = method;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">header</span><span class="hljs-params">(String name, String value)</span> {
                <span class="hljs-built_in">this</span>.headers.put(name, value);
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">headers</span><span class="hljs-params">(Map&lt;String, String&gt; headers)</span> {
                <span class="hljs-built_in">this</span>.headers.putAll(headers);
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">queryParam</span><span class="hljs-params">(String name, String value)</span> {
                <span class="hljs-built_in">this</span>.queryParams.put(name, value);
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">queryParams</span><span class="hljs-params">(Map&lt;String, String&gt; params)</span> {
                <span class="hljs-built_in">this</span>.queryParams.putAll(params);
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">body</span><span class="hljs-params">(String body)</span> {
                <span class="hljs-built_in">this</span>.body = body;
                <span class="hljs-keyword">if</span> (body != <span class="hljs-literal">null</span> &amp;&amp; !headers.containsKey(<span class="hljs-string">"Content-Type"</span>)) {
                    headers.put(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>);
                }
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">timeout</span><span class="hljs-params">(<span class="hljs-type">int</span> timeout)</span> {
                <span class="hljs-built_in">this</span>.timeout = timeout;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">followRedirects</span><span class="hljs-params">(<span class="hljs-type">boolean</span> followRedirects)</span> {
                <span class="hljs-built_in">this</span>.followRedirects = followRedirects;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">sslContext</span><span class="hljs-params">(SSLContext sslContext)</span> {
                <span class="hljs-built_in">this</span>.sslContext = sslContext;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> HttpRequest <span class="hljs-title function_">build</span><span class="hljs-params">()</span> {
                <span class="hljs-comment">// éªŒè¯å¿…è¦å‚æ•°</span>
                <span class="hljs-keyword">if</span> (url == <span class="hljs-literal">null</span> || url.trim().isEmpty()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"URLä¸èƒ½ä¸ºç©º"</span>);
                }
                
                <span class="hljs-comment">// å¦‚æœæ˜¯POST/PUTè¯·æ±‚ä¸”æœ‰bodyï¼Œç¡®ä¿Content-Typeå·²è®¾ç½®</span>
                <span class="hljs-keyword">if</span> ((method == HttpMethod.POST || method == HttpMethod.PUT) &amp;&amp; body != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">if</span> (!headers.containsKey(<span class="hljs-string">"Content-Type"</span>)) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"POST/PUTè¯·æ±‚å¿…é¡»è®¾ç½®Content-Type"</span>);
                    }
                }
                
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpRequest</span>(<span class="hljs-built_in">this</span>);
            }
        }
    }
    
    <span class="hljs-comment">// HTTPæ–¹æ³•æšä¸¾</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">HttpMethod</span> {
        GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ„å»ºç®€å•çš„GETè¯·æ±‚</span>
        <span class="hljs-type">HttpRequest</span> <span class="hljs-variable">getRequest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpRequest</span>.Builder(<span class="hljs-string">"https://api.example.com/users"</span>)
            .method(HttpMethod.GET)
            .queryParam(<span class="hljs-string">"page"</span>, <span class="hljs-string">"1"</span>)
            .queryParam(<span class="hljs-string">"limit"</span>, <span class="hljs-string">"10"</span>)
            .header(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer token123"</span>)
            .timeout(<span class="hljs-number">5000</span>)
            .build();
        
        getRequest.execute();
        System.out.println(<span class="hljs-string">"å®Œæ•´URL: "</span> + getRequest.getFullUrl());
        
        System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">50</span>) + <span class="hljs-string">"\n"</span>);
        
        <span class="hljs-comment">// æ„å»ºå¤æ‚çš„POSTè¯·æ±‚</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">jsonBody</span> <span class="hljs-operator">=</span> <span class="hljs-string">"{"</span>name<span class="hljs-string">":"</span>John<span class="hljs-string">","</span>email<span class="hljs-string">":"</span>john<span class="hljs-meta">@example</span>.com<span class="hljs-string">"}"</span>;
        
        <span class="hljs-type">HttpRequest</span> <span class="hljs-variable">postRequest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpRequest</span>.Builder(<span class="hljs-string">"https://api.example.com/users"</span>)
            .method(HttpMethod.POST)
            .header(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer token123"</span>)
            .header(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>)
            .body(jsonBody)
            .timeout(<span class="hljs-number">15000</span>)
            .followRedirects(<span class="hljs-literal">false</span>)
            .build();
        
        postRequest.execute();
    }
}
</code></pre>
<h2 data-id="heading-18">åŸå‹æ¨¡å¼ï¼šå…‹éš†å¯¹è±¡</h2>
<h3 data-id="heading-19">é—®é¢˜åœºæ™¯</h3>
<p>å½“åˆ›å»ºå¯¹è±¡çš„æˆæœ¬è¾ƒé«˜ï¼ˆå¦‚éœ€è¦å¤æ‚çš„æ•°æ®åº“æŸ¥è¯¢ã€ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œæˆ–è€…éœ€è¦åˆ›å»ºå¤§é‡ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼å¯ä»¥æé«˜æ€§èƒ½ã€‚</p>
<h3 data-id="heading-20">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrototypePattern</span> {
    
    <span class="hljs-comment">// åŸå‹æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Prototype</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Cloneable</span> {
        T <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException;
        T <span class="hljs-title function_">deepClone</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“åŸå‹ï¼šç®€å†</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Resume</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Prototype</span>&lt;Resume&gt; {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> String email;
        <span class="hljs-keyword">private</span> String phone;
        <span class="hljs-keyword">private</span> WorkExperience workExperience;
        <span class="hljs-keyword">private</span> List&lt;String&gt; skills;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Resume</span><span class="hljs-params">(String name, String email, String phone)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.email = email;
            <span class="hljs-built_in">this</span>.phone = phone;
            <span class="hljs-built_in">this</span>.workExperience = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkExperience</span>();
            <span class="hljs-built_in">this</span>.skills = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        }
        
        <span class="hljs-comment">// è®¾ç½®å·¥ä½œç»éªŒ</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setWorkExperience</span><span class="hljs-params">(String company, String position, Date startDate, Date endDate)</span> {
            <span class="hljs-built_in">this</span>.workExperience = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkExperience</span>(company, position, startDate, endDate);
        }
        
        <span class="hljs-comment">// æ·»åŠ æŠ€èƒ½</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addSkill</span><span class="hljs-params">(String skill)</span> {
            skills.add(skill);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç®€å†ä¿¡æ¯:\n"</span> +
                   <span class="hljs-string">"  å§“å: "</span> + name + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  é‚®ç®±: "</span> + email + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  ç”µè¯: "</span> + phone + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  å·¥ä½œç»éªŒ: "</span> + workExperience + <span class="hljs-string">"\n"</span> +
                   <span class="hljs-string">"  æŠ€èƒ½: "</span> + skills;
        }
        
        <span class="hljs-comment">// æµ…å…‹éš†ï¼ˆä½¿ç”¨Javaçš„cloneæ–¹æ³•ï¼‰</span>
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Resume <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException {
            <span class="hljs-keyword">return</span> (Resume) <span class="hljs-built_in">super</span>.clone();
        }
        
        <span class="hljs-comment">// æ·±å…‹éš†</span>
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Resume <span class="hljs-title function_">deepClone</span><span class="hljs-params">()</span> {
            <span class="hljs-type">Resume</span> <span class="hljs-variable">cloned</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resume</span>(<span class="hljs-built_in">this</span>.name, <span class="hljs-built_in">this</span>.email, <span class="hljs-built_in">this</span>.phone);
            
            <span class="hljs-comment">// å…‹éš†å·¥ä½œç»éªŒï¼ˆWorkExperienceä¹Ÿéœ€è¦å®ç°æ·±å…‹éš†ï¼‰</span>
            cloned.workExperience = <span class="hljs-built_in">this</span>.workExperience.clone();
            
            <span class="hljs-comment">// å…‹éš†æŠ€èƒ½åˆ—è¡¨</span>
            cloned.skills = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(<span class="hljs-built_in">this</span>.skills);
            
            <span class="hljs-keyword">return</span> cloned;
        }
        
        <span class="hljs-comment">// ä¿®æ”¹å§“åï¼ˆç”¨äºæµ‹è¯•å…‹éš†æ˜¯å¦æˆåŠŸï¼‰</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
            <span class="hljs-built_in">this</span>.name = name;
        }
    }
    
    <span class="hljs-comment">// å·¥ä½œç»éªŒç±»ï¼ˆä¹Ÿéœ€è¦å®ç°å…‹éš†ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkExperience</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cloneable</span> {
        <span class="hljs-keyword">private</span> String company;
        <span class="hljs-keyword">private</span> String position;
        <span class="hljs-keyword">private</span> Date startDate;
        <span class="hljs-keyword">private</span> Date endDate;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">WorkExperience</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// é»˜è®¤æ„é€ å™¨</span>
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">WorkExperience</span><span class="hljs-params">(String company, String position, Date startDate, Date endDate)</span> {
            <span class="hljs-built_in">this</span>.company = company;
            <span class="hljs-built_in">this</span>.position = position;
            <span class="hljs-built_in">this</span>.startDate = (Date) startDate.clone();
            <span class="hljs-built_in">this</span>.endDate = (Date) endDate.clone();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> company + <span class="hljs-string">" - "</span> + position + <span class="hljs-string">" ("</span> + startDate + <span class="hljs-string">" è‡³ "</span> + endDate + <span class="hljs-string">")"</span>;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> WorkExperience <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">WorkExperience</span> <span class="hljs-variable">cloned</span> <span class="hljs-operator">=</span> (WorkExperience) <span class="hljs-built_in">super</span>.clone();
                <span class="hljs-comment">// Dateæ˜¯å¯å˜çš„ï¼Œéœ€è¦æ·±å…‹éš†</span>
                cloned.startDate = (Date) <span class="hljs-built_in">this</span>.startDate.clone();
                cloned.endDate = (Date) <span class="hljs-built_in">this</span>.endDate.clone();
                <span class="hljs-keyword">return</span> cloned;
            } <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å…‹éš†å¤±è´¥"</span>, e);
            }
        }
    }
    
    <span class="hljs-comment">// åŸå‹ç®¡ç†å™¨</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrototypeManager</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, Prototype&lt;?&gt;&gt; prototypes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">static</span> {
            <span class="hljs-comment">// é¢„ç½®ä¸€äº›åŸå‹</span>
            <span class="hljs-type">Resume</span> <span class="hljs-variable">defaultResume</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resume</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>, <span class="hljs-string">"13800138000"</span>);
            defaultResume.setWorkExperience(<span class="hljs-string">"ABCå…¬å¸"</span>, <span class="hljs-string">"Javaå¼€å‘"</span>, 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">121</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">123</span>, <span class="hljs-number">11</span>, <span class="hljs-number">31</span>));
            defaultResume.addSkill(<span class="hljs-string">"Java"</span>);
            defaultResume.addSkill(<span class="hljs-string">"Spring"</span>);
            defaultResume.addSkill(<span class="hljs-string">"MySQL"</span>);
            
            prototypes.put(<span class="hljs-string">"defaultResume"</span>, defaultResume);
            
            <span class="hljs-comment">// å¯ä»¥æ·»åŠ æ›´å¤šåŸå‹...</span>
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerPrototype</span><span class="hljs-params">(String key, Prototype&lt;?&gt; prototype)</span> {
            prototypes.put(key, prototype);
        }
        
        <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Prototype</span>&lt;T&gt;&gt; T <span class="hljs-title function_">getPrototype</span><span class="hljs-params">(String key)</span> {
            Prototype&lt;T&gt; prototype = (Prototype&lt;T&gt;) prototypes.get(key);
            <span class="hljs-keyword">if</span> (prototype == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æœªæ‰¾åˆ°åŸå‹: "</span> + key);
            }
            <span class="hljs-keyword">return</span> prototype.clone();
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException {
        System.out.println(<span class="hljs-string">"=== ç›´æ¥å…‹éš†ç¤ºä¾‹ ==="</span>);
        
        <span class="hljs-comment">// åˆ›å»ºåŸå§‹ç®€å†</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">original</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resume</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-string">"lisi@example.com"</span>, <span class="hljs-string">"13900139000"</span>);
        original.setWorkExperience(<span class="hljs-string">"XYZå…¬å¸"</span>, <span class="hljs-string">"é«˜çº§å¼€å‘"</span>, 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">120</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">122</span>, <span class="hljs-number">11</span>, <span class="hljs-number">31</span>));
        original.addSkill(<span class="hljs-string">"Python"</span>);
        original.addSkill(<span class="hljs-string">"Django"</span>);
        
        System.out.println(<span class="hljs-string">"åŸå§‹ç®€å†:"</span>);
        System.out.println(original);
        
        <span class="hljs-comment">// æµ…å…‹éš†</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">shallowClone</span> <span class="hljs-operator">=</span> original.clone();
        shallowClone.setName(<span class="hljs-string">"ç‹äº”"</span>);  <span class="hljs-comment">// ä¿®æ”¹å…‹éš†ä½“çš„åå­—</span>
        
        System.out.println(<span class="hljs-string">"\næµ…å…‹éš†å:"</span>);
        System.out.println(<span class="hljs-string">"åŸå§‹ç®€å†: "</span> + original.name);
        System.out.println(<span class="hljs-string">"å…‹éš†ç®€å†: "</span> + shallowClone.name);
        
        <span class="hljs-comment">// æ·±å…‹éš†</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">deepClone</span> <span class="hljs-operator">=</span> original.deepClone();
        deepClone.setName(<span class="hljs-string">"èµµå…­"</span>);
        
        System.out.println(<span class="hljs-string">"\næ·±å…‹éš†å:"</span>);
        System.out.println(<span class="hljs-string">"åŸå§‹ç®€å†: "</span> + original.name);
        System.out.println(<span class="hljs-string">"æ·±å…‹éš†ç®€å†: "</span> + deepClone.name);
        
        System.out.println(<span class="hljs-string">"\n=== åŸå‹ç®¡ç†å™¨ç¤ºä¾‹ ==="</span>);
        
        <span class="hljs-comment">// ä½¿ç”¨åŸå‹ç®¡ç†å™¨è·å–åŸå‹å¹¶å…‹éš†</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">templateResume</span> <span class="hljs-operator">=</span> PrototypeManager.getPrototype(<span class="hljs-string">"defaultResume"</span>);
        System.out.println(<span class="hljs-string">"æ¨¡æ¿ç®€å†:"</span>);
        System.out.println(templateResume);
        
        <span class="hljs-comment">// åŸºäºæ¨¡æ¿åˆ›å»ºä¸ªæ€§åŒ–ç®€å†</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">myResume</span> <span class="hljs-operator">=</span> templateResume.deepClone();
        myResume.setName(<span class="hljs-string">"é™ˆä¸ƒ"</span>);
        myResume.addSkill(<span class="hljs-string">"Redis"</span>);
        myResume.addSkill(<span class="hljs-string">"Docker"</span>);
        
        System.out.println(<span class="hljs-string">"\nä¸ªæ€§åŒ–ç®€å†:"</span>);
        System.out.println(myResume);
        
        <span class="hljs-comment">// æ³¨å†Œæ–°åŸå‹</span>
        <span class="hljs-type">Resume</span> <span class="hljs-variable">newTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resume</span>(<span class="hljs-string">"æ–°æ¨¡æ¿"</span>, <span class="hljs-string">"template@example.com"</span>, <span class="hljs-string">"10000000000"</span>);
        newTemplate.setWorkExperience(<span class="hljs-string">"æ¨¡æ¿å…¬å¸"</span>, <span class="hljs-string">"æ¨¡æ¿èŒä½"</span>, 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">120</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">123</span>, <span class="hljs-number">11</span>, <span class="hljs-number">31</span>));
        newTemplate.addSkill(<span class="hljs-string">"æ¨¡æ¿æŠ€èƒ½1"</span>);
        newTemplate.addSkill(<span class="hljs-string">"æ¨¡æ¿æŠ€èƒ½2"</span>);
        
        PrototypeManager.registerPrototype(<span class="hljs-string">"newTemplate"</span>, newTemplate);
        
        System.out.println(<span class="hljs-string">"\næ–°æ¨¡æ¿å·²æ³¨å†Œ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-21">å®é™…åº”ç”¨ï¼šå›¾å½¢ç¼–è¾‘å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å›¾å½¢ç¼–è¾‘å™¨åŸå‹æ¨¡å¼å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphicEditorPrototype</span> {
    
    <span class="hljs-comment">// å›¾å½¢æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Graphic</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Cloneable</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span>;
        Graphic <span class="hljs-title function_">clone</span><span class="hljs-params">()</span>;
        String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">setColor</span><span class="hljs-params">(String color)</span>;
    }
    
    <span class="hljs-comment">// å…·ä½“å›¾å½¢ï¼šåœ†å½¢</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Graphic</span> {
        <span class="hljs-keyword">private</span> String color;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> radius;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Circle</span><span class="hljs-params">(String color, <span class="hljs-type">int</span> radius)</span> {
            <span class="hljs-built_in">this</span>.color = color;
            <span class="hljs-built_in">this</span>.radius = radius;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {
            System.out.printf(<span class="hljs-string">"åœ¨(%d, %d)ç»˜åˆ¶%såœ†å½¢ï¼ŒåŠå¾„%d%n"</span>, x, y, color, radius);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Circle <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> (Circle) <span class="hljs-built_in">super</span>.clone();
            } <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å…‹éš†å¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"åœ†å½¢"</span>;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setColor</span><span class="hljs-params">(String color)</span> {
            <span class="hljs-built_in">this</span>.color = color;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRadius</span><span class="hljs-params">(<span class="hljs-type">int</span> radius)</span> {
            <span class="hljs-built_in">this</span>.radius = radius;
        }
    }
    
    <span class="hljs-comment">// å…·ä½“å›¾å½¢ï¼šçŸ©å½¢</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Graphic</span> {
        <span class="hljs-keyword">private</span> String color;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> width;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> height;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rectangle</span><span class="hljs-params">(String color, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> {
            <span class="hljs-built_in">this</span>.color = color;
            <span class="hljs-built_in">this</span>.width = width;
            <span class="hljs-built_in">this</span>.height = height;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {
            System.out.printf(<span class="hljs-string">"åœ¨(%d, %d)ç»˜åˆ¶%sçŸ©å½¢ï¼Œå®½%dï¼Œé«˜%d%n"</span>, x, y, color, width, height);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Rectangle <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> (Rectangle) <span class="hljs-built_in">super</span>.clone();
            } <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å…‹éš†å¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"çŸ©å½¢"</span>;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setColor</span><span class="hljs-params">(String color)</span> {
            <span class="hljs-built_in">this</span>.color = color;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSize</span><span class="hljs-params">(<span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> {
            <span class="hljs-built_in">this</span>.width = width;
            <span class="hljs-built_in">this</span>.height = height;
        }
    }
    
    <span class="hljs-comment">// å›¾å½¢å·¥å‚ï¼ˆä½¿ç”¨åŸå‹æ¨¡å¼ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphicFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Graphic&gt; prototypes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">GraphicFactory</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// åˆå§‹åŒ–åŸå‹</span>
            prototypes.put(<span class="hljs-string">"çº¢è‰²å°åœ†"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-string">"çº¢è‰²"</span>, <span class="hljs-number">10</span>));
            prototypes.put(<span class="hljs-string">"è“è‰²å¤§åœ†"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-string">"è“è‰²"</span>, <span class="hljs-number">50</span>));
            prototypes.put(<span class="hljs-string">"ç»¿è‰²çŸ©å½¢"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-string">"ç»¿è‰²"</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>));
            prototypes.put(<span class="hljs-string">"é»„è‰²æ­£æ–¹å½¢"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-string">"é»„è‰²"</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>));
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerPrototype</span><span class="hljs-params">(String name, Graphic prototype)</span> {
            prototypes.put(name, prototype);
        }
        
        <span class="hljs-keyword">public</span> Graphic <span class="hljs-title function_">createGraphic</span><span class="hljs-params">(String name)</span> {
            <span class="hljs-type">Graphic</span> <span class="hljs-variable">prototype</span> <span class="hljs-operator">=</span> prototypes.get(name);
            <span class="hljs-keyword">if</span> (prototype == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æœªçŸ¥çš„å›¾å½¢ç±»å‹: "</span> + name);
            }
            <span class="hljs-keyword">return</span> prototype.clone();
        }
        
        <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getAvailableGraphics</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(prototypes.keySet());
        }
    }
    
    <span class="hljs-comment">// å›¾å½¢ç¼–è¾‘å™¨</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphicEditor</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> GraphicFactory factory;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Graphic&gt; graphics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">GraphicEditor</span><span class="hljs-params">(GraphicFactory factory)</span> {
            <span class="hljs-built_in">this</span>.factory = factory;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addGraphic</span><span class="hljs-params">(String type, <span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {
            <span class="hljs-type">Graphic</span> <span class="hljs-variable">graphic</span> <span class="hljs-operator">=</span> factory.createGraphic(type);
            graphic.draw(x, y);
            graphics.add(graphic);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCustomGraphic</span><span class="hljs-params">(Graphic graphic, <span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {
            graphic.draw(x, y);
            graphics.add(graphic);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeColor</span><span class="hljs-params">(<span class="hljs-type">int</span> index, String newColor)</span> {
            <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; graphics.size()) {
                graphics.get(index).setColor(newColor);
                System.out.println(<span class="hljs-string">"ç¬¬"</span> + (index + <span class="hljs-number">1</span>) + <span class="hljs-string">"ä¸ªå›¾å½¢é¢œè‰²æ”¹ä¸º"</span> + newColor);
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">listAllGraphics</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\nå½“å‰æ‰€æœ‰å›¾å½¢:"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; graphics.size(); i++) {
                System.out.println((i + <span class="hljs-number">1</span>) + <span class="hljs-string">". "</span> + graphics.get(i).getType());
            }
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">GraphicFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GraphicFactory</span>();
        <span class="hljs-type">GraphicEditor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GraphicEditor</span>(factory);
        
        System.out.println(<span class="hljs-string">"å¯ç”¨çš„å›¾å½¢ç±»å‹: "</span> + factory.getAvailableGraphics());
        
        System.out.println(<span class="hljs-string">"\n=== æ·»åŠ é¢„è®¾å›¾å½¢ ==="</span>);
        editor.addGraphic(<span class="hljs-string">"çº¢è‰²å°åœ†"</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>);
        editor.addGraphic(<span class="hljs-string">"è“è‰²å¤§åœ†"</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>);
        editor.addGraphic(<span class="hljs-string">"ç»¿è‰²çŸ©å½¢"</span>, <span class="hljs-number">100</span>, <span class="hljs-number">120</span>);
        
        System.out.println(<span class="hljs-string">"\n=== åˆ›å»ºè‡ªå®šä¹‰å›¾å½¢ ==="</span>);
        <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰å›¾å½¢å¹¶æ³¨å†Œä¸ºåŸå‹</span>
        <span class="hljs-type">Circle</span> <span class="hljs-variable">customCircle</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-string">"ç´«è‰²"</span>, <span class="hljs-number">15</span>);
        factory.registerPrototype(<span class="hljs-string">"ç´«è‰²ä¸­åœ†"</span>, customCircle);
        
        editor.addGraphic(<span class="hljs-string">"ç´«è‰²ä¸­åœ†"</span>, <span class="hljs-number">150</span>, <span class="hljs-number">80</span>);
        
        System.out.println(<span class="hljs-string">"\n=== å…‹éš†å¹¶ä¿®æ”¹å›¾å½¢ ==="</span>);
        <span class="hljs-comment">// è·å–åŸå‹å¹¶ä¿®æ”¹</span>
        <span class="hljs-type">Graphic</span> <span class="hljs-variable">clonedCircle</span> <span class="hljs-operator">=</span> factory.createGraphic(<span class="hljs-string">"çº¢è‰²å°åœ†"</span>);
        <span class="hljs-keyword">if</span> (clonedCircle <span class="hljs-keyword">instanceof</span> Circle) {
            ((Circle) clonedCircle).setRadius(<span class="hljs-number">20</span>);  <span class="hljs-comment">// ä¿®æ”¹åŠå¾„</span>
            ((Circle) clonedCircle).setColor(<span class="hljs-string">"æ©™è‰²"</span>);  <span class="hljs-comment">// ä¿®æ”¹é¢œè‰²</span>
            editor.addCustomGraphic(clonedCircle, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);
        }
        
        editor.listAllGraphics();
        
        System.out.println(<span class="hljs-string">"\n=== ä¿®æ”¹ç°æœ‰å›¾å½¢é¢œè‰² ==="</span>);
        editor.changeColor(<span class="hljs-number">0</span>, <span class="hljs-string">"ç²‰çº¢è‰²"</span>);
        editor.changeColor(<span class="hljs-number">2</span>, <span class="hljs-string">"æ·±ç»¿è‰²"</span>);
    }
}
</code></pre>
<h2 data-id="heading-22">æ¨¡å¼é€‰æ‹©æŒ‡å—ï¼šä½•æ—¶ä½¿ç”¨å“ªç§åˆ›å»ºå‹æ¨¡å¼</h2>
<h3 data-id="heading-23">å†³ç­–æµç¨‹å›¾</h3>
<pre><code class="hljs language-java" lang="java">å¼€å§‹
  â”‚
  â”œâ”€â”€ æ˜¯å¦éœ€è¦ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Ÿ
  â”‚     â”œâ”€â”€ æ˜¯ â†’ ä½¿ç”¨å•ä¾‹æ¨¡å¼
  â”‚     â””â”€â”€ å¦ â†’ ç»§ç»­
  â”‚
  â”œâ”€â”€ åˆ›å»ºè¿‡ç¨‹æ˜¯å¦å¤æ‚ï¼Œéœ€è¦é€æ­¥æ„å»ºï¼Ÿ
  â”‚     â”œâ”€â”€ æ˜¯ â†’ ä½¿ç”¨å»ºé€ è€…æ¨¡å¼
  â”‚     â””â”€â”€ å¦ â†’ ç»§ç»­
  â”‚
  â”œâ”€â”€ æ˜¯å¦éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³å¯¹è±¡ï¼Ÿ
  â”‚     â”œâ”€â”€ æ˜¯ â†’ ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼
  â”‚     â””â”€â”€ å¦ â†’ ç»§ç»­
  â”‚
  â”œâ”€â”€ åˆ›å»ºé€»è¾‘æ˜¯å¦éœ€è¦å°è£…ï¼Œä»¥ä¾¿å­ç±»å†³å®šå…·ä½“ç±»å‹ï¼Ÿ
  â”‚     â”œâ”€â”€ æ˜¯ â†’ ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼
  â”‚     â””â”€â”€ å¦ â†’ ç»§ç»­
  â”‚
  â””â”€â”€ æ˜¯å¦éœ€è¦é€šè¿‡å…‹éš†ç°æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Ÿ
        â”œâ”€â”€ æ˜¯ â†’ ä½¿ç”¨åŸå‹æ¨¡å¼
        â””â”€â”€ å¦ â†’ ç›´æ¥ä½¿ç”¨ <span class="hljs-keyword">new</span> å…³é”®å­—
</code></pre>
<h3 data-id="heading-24">å®é™…é¡¹ç›®ä¸­çš„ç»¼åˆåº”ç”¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”µå­å•†åŠ¡ç³»ç»Ÿä¸­çš„åˆ›å»ºå‹æ¨¡å¼ç»¼åˆåº”ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ECommerceSystem</span> {
    
    <span class="hljs-comment">// ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼šè´­ç‰©è½¦æœåŠ¡</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoppingCartService</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ShoppingCartService instance;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, List&lt;Product&gt;&gt; userCarts = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">ShoppingCartService</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨</span>
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> ShoppingCartService <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShoppingCartService</span>();
            }
            <span class="hljs-keyword">return</span> instance;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addToCart</span><span class="hljs-params">(String userId, Product product)</span> {
            userCarts.computeIfAbsent(userId, k -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;()).add(product);
            System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" æ·»åŠ å•†å“: "</span> + product.getName());
        }
        
        <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">getCart</span><span class="hljs-params">(String userId)</span> {
            <span class="hljs-keyword">return</span> userCarts.getOrDefault(userId, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;());
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šæ”¯ä»˜æ–¹å¼å·¥å‚</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentMethod</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span>;
        String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CreditCardPayment</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentMethod</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            System.out.println(<span class="hljs-string">"ä¿¡ç”¨å¡æ”¯ä»˜: "</span> + amount);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ä¿¡ç”¨å¡"</span>;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PayPalPayment</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentMethod</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            System.out.println(<span class="hljs-string">"PayPalæ”¯ä»˜: "</span> + amount);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getType</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"PayPal"</span>;
        }
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentFactory</span> {
        PaymentMethod <span class="hljs-title function_">createPayment</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CreditCardFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> PaymentMethod <span class="hljs-title function_">createPayment</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreditCardPayment</span>();
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PayPalFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> PaymentMethod <span class="hljs-title function_">createPayment</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PayPalPayment</span>();
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼šè®¢å•æ„å»º</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String orderId;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String userId;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Product&gt; products;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PaymentMethod payment;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ShippingAddress address;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Date orderDate;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderStatus status;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">Order</span><span class="hljs-params">(Builder builder)</span> {
            <span class="hljs-built_in">this</span>.orderId = builder.orderId;
            <span class="hljs-built_in">this</span>.userId = builder.userId;
            <span class="hljs-built_in">this</span>.products = builder.products;
            <span class="hljs-built_in">this</span>.payment = builder.payment;
            <span class="hljs-built_in">this</span>.address = builder.address;
            <span class="hljs-built_in">this</span>.orderDate = builder.orderDate;
            <span class="hljs-built_in">this</span>.status = builder.status;
        }
        
        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Builder</span> {
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String orderId;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String userId;
            <span class="hljs-keyword">private</span> List&lt;Product&gt; products = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-keyword">private</span> PaymentMethod payment;
            <span class="hljs-keyword">private</span> ShippingAddress address;
            <span class="hljs-keyword">private</span> <span class="hljs-type">Date</span> <span class="hljs-variable">orderDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
            <span class="hljs-keyword">private</span> <span class="hljs-type">OrderStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> OrderStatus.PENDING;
            
            <span class="hljs-keyword">public</span> <span class="hljs-title function_">Builder</span><span class="hljs-params">(String orderId, String userId)</span> {
                <span class="hljs-built_in">this</span>.orderId = orderId;
                <span class="hljs-built_in">this</span>.userId = userId;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">products</span><span class="hljs-params">(List&lt;Product&gt; products)</span> {
                <span class="hljs-built_in">this</span>.products = products;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">payment</span><span class="hljs-params">(PaymentMethod payment)</span> {
                <span class="hljs-built_in">this</span>.payment = payment;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">address</span><span class="hljs-params">(ShippingAddress address)</span> {
                <span class="hljs-built_in">this</span>.address = address;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">orderDate</span><span class="hljs-params">(Date orderDate)</span> {
                <span class="hljs-built_in">this</span>.orderDate = orderDate;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Builder <span class="hljs-title function_">status</span><span class="hljs-params">(OrderStatus status)</span> {
                <span class="hljs-built_in">this</span>.status = status;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
            }
            
            <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">build</span><span class="hljs-params">()</span> {
                <span class="hljs-comment">// éªŒè¯</span>
                <span class="hljs-keyword">if</span> (payment == <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"æ”¯ä»˜æ–¹å¼å¿…é¡»è®¾ç½®"</span>);
                }
                <span class="hljs-keyword">if</span> (address == <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"æ”¶è´§åœ°å€å¿…é¡»è®¾ç½®"</span>);
                }
                <span class="hljs-keyword">if</span> (products.isEmpty()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"è®¢å•å•†å“ä¸èƒ½ä¸ºç©º"</span>);
                }
                
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-built_in">this</span>);
            }
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šä¸åŒå›½å®¶çš„ç”µå•†å·¥å‚</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ECommerceFactory</span> {
        TaxCalculator <span class="hljs-title function_">createTaxCalculator</span><span class="hljs-params">()</span>;
        ShippingCalculator <span class="hljs-title function_">createShippingCalculator</span><span class="hljs-params">()</span>;
        CurrencyFormatter <span class="hljs-title function_">createCurrencyFormatter</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">USFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ECommerceFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> TaxCalculator <span class="hljs-title function_">createTaxCalculator</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">USTaxCalculator</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> ShippingCalculator <span class="hljs-title function_">createShippingCalculator</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">USShippingCalculator</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> CurrencyFormatter <span class="hljs-title function_">createCurrencyFormatter</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">USDCurrencyFormatter</span>();
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CNFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ECommerceFactory</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> TaxCalculator <span class="hljs-title function_">createTaxCalculator</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CNTaxCalculator</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> ShippingCalculator <span class="hljs-title function_">createShippingCalculator</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CNShippingCalculator</span>();
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> CurrencyFormatter <span class="hljs-title function_">createCurrencyFormatter</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CNYCurrencyFormatter</span>();
        }
    }
    
    <span class="hljs-comment">// è¾…åŠ©ç±»ï¼ˆçœç•¥å…·ä½“å®ç°ï¼‰</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TaxCalculator</span> {
        <span class="hljs-type">double</span> <span class="hljs-title function_">calculateTax</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">USTaxCalculator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TaxCalculator</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateTax</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            <span class="hljs-keyword">return</span> amount * <span class="hljs-number">0.08</span>; <span class="hljs-comment">// 8%ç¨ç‡</span>
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CNTaxCalculator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TaxCalculator</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateTax</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            <span class="hljs-keyword">return</span> amount * <span class="hljs-number">0.06</span>; <span class="hljs-comment">// 6%ç¨ç‡</span>
        }
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ShippingCalculator</span> {
        <span class="hljs-type">double</span> <span class="hljs-title function_">calculateShipping</span><span class="hljs-params">(<span class="hljs-type">double</span> weight, String address)</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">USShippingCalculator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShippingCalculator</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateShipping</span><span class="hljs-params">(<span class="hljs-type">double</span> weight, String address)</span> {
            <span class="hljs-keyword">return</span> weight * <span class="hljs-number">2.5</span>; <span class="hljs-comment">// ç¾å›½è¿è´¹è®¡ç®—</span>
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CNShippingCalculator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShippingCalculator</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateShipping</span><span class="hljs-params">(<span class="hljs-type">double</span> weight, String address)</span> {
            <span class="hljs-keyword">return</span> weight * <span class="hljs-number">1.5</span>; <span class="hljs-comment">// ä¸­å›½è¿è´¹è®¡ç®—</span>
        }
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CurrencyFormatter</span> {
        String <span class="hljs-title function_">format</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">USDCurrencyFormatter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrencyFormatter</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">format</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"$%.2f"</span>, amount);
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CNYCurrencyFormatter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrencyFormatter</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">format</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"Â¥%.2f"</span>, amount);
        }
    }
    
    <span class="hljs-comment">// å®ä½“ç±»</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
        <span class="hljs-keyword">private</span> String id;
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
        <span class="hljs-comment">// å…¶ä»–å±æ€§...</span>
        
        <span class="hljs-comment">// getter/setterçœç•¥</span>
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShippingAddress</span> {
        <span class="hljs-keyword">private</span> String address;
        <span class="hljs-comment">// å…¶ä»–å±æ€§...</span>
        
        <span class="hljs-comment">// getter/setterçœç•¥</span>
    }
    
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderStatus</span> {
        PENDING, PROCESSING, SHIPPED, DELIVERED, CANCELLED
    }
    
    <span class="hljs-comment">// å®¢æˆ·ç«¯ä»£ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== ç”µå­å•†åŠ¡ç³»ç»Ÿæ¼”ç¤º ==="</span>);
        
        <span class="hljs-comment">// 1. ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼šè´­ç‰©è½¦æœåŠ¡</span>
        <span class="hljs-type">ShoppingCartService</span> <span class="hljs-variable">cartService</span> <span class="hljs-operator">=</span> ShoppingCartService.getInstance();
        cartService.addToCart(<span class="hljs-string">"user123"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());
        
        <span class="hljs-comment">// 2. ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šåˆ›å»ºæ”¯ä»˜æ–¹å¼</span>
        <span class="hljs-type">PaymentFactory</span> <span class="hljs-variable">paymentFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreditCardFactory</span>();
        <span class="hljs-type">PaymentMethod</span> <span class="hljs-variable">payment</span> <span class="hljs-operator">=</span> paymentFactory.createPayment();
        
        <span class="hljs-comment">// 3. ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼šåˆ›å»ºè®¢å•</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>.Builder(<span class="hljs-string">"ORD123"</span>, <span class="hljs-string">"user123"</span>)
            .products(cartService.getCart(<span class="hljs-string">"user123"</span>))
            .payment(payment)
            .address(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ShippingAddress</span>())
            .status(OrderStatus.PROCESSING)
            .build();
        
        System.out.println(<span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸ: "</span> + order);
        
        <span class="hljs-comment">// 4. ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šæ ¹æ®ä¸åŒåœ°åŒºåˆ›å»ºç›¸å…³å¯¹è±¡</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">country</span> <span class="hljs-operator">=</span> <span class="hljs-string">"US"</span>; <span class="hljs-comment">// å¯ä»¥ä»ç”¨æˆ·é…ç½®è·å–</span>
        ECommerceFactory factory;
        
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"US"</span>.equals(country)) {
            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">USFactory</span>();
        } <span class="hljs-keyword">else</span> {
            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CNFactory</span>();
        }
        
        <span class="hljs-type">TaxCalculator</span> <span class="hljs-variable">taxCalculator</span> <span class="hljs-operator">=</span> factory.createTaxCalculator();
        <span class="hljs-type">ShippingCalculator</span> <span class="hljs-variable">shippingCalculator</span> <span class="hljs-operator">=</span> factory.createShippingCalculator();
        <span class="hljs-type">CurrencyFormatter</span> <span class="hljs-variable">currencyFormatter</span> <span class="hljs-operator">=</span> factory.createCurrencyFormatter();
        
        <span class="hljs-type">double</span> <span class="hljs-variable">subtotal</span> <span class="hljs-operator">=</span> <span class="hljs-number">100.0</span>;
        <span class="hljs-type">double</span> <span class="hljs-variable">tax</span> <span class="hljs-operator">=</span> taxCalculator.calculateTax(subtotal);
        <span class="hljs-type">double</span> <span class="hljs-variable">shipping</span> <span class="hljs-operator">=</span> shippingCalculator.calculateShipping(<span class="hljs-number">2.0</span>, <span class="hljs-string">"New York"</span>);
        <span class="hljs-type">double</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> subtotal + tax + shipping;
        
        System.out.println(<span class="hljs-string">"å°è®¡: "</span> + currencyFormatter.format(subtotal));
        System.out.println(<span class="hljs-string">"ç¨è´¹: "</span> + currencyFormatter.format(tax));
        System.out.println(<span class="hljs-string">"è¿è´¹: "</span> + currencyFormatter.format(shipping));
        System.out.println(<span class="hljs-string">"æ€»è®¡: "</span> + currencyFormatter.format(total));
    }
}
</code></pre>
<h2 data-id="heading-25">æ€»ç»“ï¼šåˆ›å»ºå‹æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³</h2>
<ol>
<li><strong>å•ä¾‹æ¨¡å¼</strong>ï¼šæ§åˆ¶å®ä¾‹æ•°é‡ï¼Œç¡®ä¿å…¨å±€å”¯ä¸€è®¿é—®ç‚¹</li>
<li><strong>å·¥å‚æ–¹æ³•æ¨¡å¼</strong>ï¼šå°†å¯¹è±¡çš„åˆ›å»ºå»¶è¿Ÿåˆ°å­ç±»ï¼Œå®ç°å¼€é—­åŸåˆ™</li>
<li><strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong>ï¼šåˆ›å»ºç›¸å…³å¯¹è±¡æ—ï¼Œç¡®ä¿äº§å“å…¼å®¹æ€§</li>
<li><strong>å»ºé€ è€…æ¨¡å¼</strong>ï¼šåˆ†ç¦»å¤æ‚å¯¹è±¡çš„æ„å»ºä¸è¡¨ç¤ºï¼Œæ”¯æŒé€æ­¥æ„å»º</li>
<li><strong>åŸå‹æ¨¡å¼</strong>ï¼šé€šè¿‡å…‹éš†åˆ›å»ºå¯¹è±¡ï¼Œæé«˜åˆ›å»ºæ•ˆç‡</li>
</ol>
<h3 data-id="heading-26">è®¾è®¡åŸåˆ™ä½“ç°</h3>
<ul>
<li><strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼šæ¯ä¸ªç±»åªè´Ÿè´£è‡ªå·±çš„åˆ›å»ºé€»è¾‘</li>
<li><strong>å¼€é—­åŸåˆ™</strong>ï¼šé€šè¿‡æ‰©å±•è€Œéä¿®æ”¹æ¥æ”¯æŒæ–°çš„å¯¹è±¡ç±»å‹</li>
<li><strong>ä¾èµ–å€’ç½®åŸåˆ™</strong>ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°</li>
<li><strong>é‡Œæ°æ›¿æ¢åŸåˆ™</strong>ï¼šå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå†…å­˜ç®¡ç†ä¸JVMè°ƒä¼˜å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582502441993551915</link>    <guid>https://juejin.cn/post/7582502441993551915</guid>    <pubDate>2025-12-12T05:16:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582502441993551915" data-draft-id="7582808491582521380" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå†…å­˜ç®¡ç†ä¸JVMè°ƒä¼˜å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-12T05:16:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå†…å­˜ç®¡ç†ä¸JVMè°ƒä¼˜å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:16:47.000Z" title="Fri Dec 12 2025 05:16:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç†è§£å†…å­˜ç®¡ç†ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ä½ åœ¨ç®¡ç†ä¸€ä¸ªå¤§å‹ä»“åº“ã€‚å¦‚æœéšæ„å †æ”¾è´§ç‰©ï¼Œå¾ˆå¿«å°±ä¼šæ··ä¹±ä¸å ªï¼Œæ‰¾ä¸åˆ°éœ€è¦çš„ç‰©å“ï¼Œç”šè‡³å¯èƒ½å› ä¸ºå †æ”¾ä¸å½“å¯¼è‡´ä»“åº“åå¡Œã€‚Javaå†…å­˜ç®¡ç†å°±å¦‚åŒè¿™ä¸ªä»“åº“çš„ç®¡ç†ç³»ç»Ÿâ€”â€”å®ƒå†³å®šäº†å¦‚ä½•åˆ†é…ã€ä½¿ç”¨å’Œå›æ”¶å†…å­˜ç©ºé—´ã€‚æŒæ¡JVMå†…å­˜ç®¡ç†ä¸ä»…èƒ½è®©ä½ å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¿«é€Ÿå®šä½å’Œè§£å†³æ€§èƒ½é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">JVMå†…å­˜ç»“æ„æ·±åº¦è§£æ</h2>
<h3 data-id="heading-2">è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JVMMemoryLayout</span> {
    
    <span class="hljs-comment">// ç±»åŠ è½½è¿‡ç¨‹æ¼”ç¤º</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassLoaderDemo</span> {
        <span class="hljs-comment">// ç±»å˜é‡ï¼ˆå­˜å‚¨åœ¨æ–¹æ³•åŒºï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CLASS_CONSTANT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å¸¸é‡"</span>;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">staticCounter</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// å®ä¾‹å˜é‡ï¼ˆå­˜å‚¨åœ¨å †å†…å­˜ï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> instanceId;
        <span class="hljs-keyword">private</span> String instanceName;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ClassLoaderDemo</span><span class="hljs-params">(<span class="hljs-type">int</span> id, String name)</span> {
            <span class="hljs-built_in">this</span>.instanceId = id;
            <span class="hljs-built_in">this</span>.instanceName = name;
            staticCounter++;
        }
        
        <span class="hljs-comment">// æ–¹æ³•ï¼ˆå­—èŠ‚ç å­˜å‚¨åœ¨æ–¹æ³•åŒºï¼‰</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printInfo</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// å±€éƒ¨å˜é‡ï¼ˆå­˜å‚¨åœ¨æ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">localVar</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å±€éƒ¨å˜é‡"</span>;
            System.out.println(<span class="hljs-string">"å®ä¾‹ID: "</span> + instanceId + 
                             <span class="hljs-string">", åç§°: "</span> + instanceName + 
                             <span class="hljs-string">", å±€éƒ¨: "</span> + localVar);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showMemoryInfo</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// æ¼”ç¤ºä¸åŒå†…å­˜åŒºåŸŸçš„ä½¿ç”¨</span>
            <span class="hljs-type">Runtime</span> <span class="hljs-variable">runtime</span> <span class="hljs-operator">=</span> Runtime.getRuntime();
            System.out.println(<span class="hljs-string">"=== å†…å­˜ä¿¡æ¯ ==="</span>);
            System.out.println(<span class="hljs-string">"æœ€å¤§å†…å­˜: "</span> + runtime.maxMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
            System.out.println(<span class="hljs-string">"æ€»å†…å­˜: "</span> + runtime.totalMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
            System.out.println(<span class="hljs-string">"ç©ºé—²å†…å­˜: "</span> + runtime.freeMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
            System.out.println(<span class="hljs-string">"å·²ç”¨å†…å­˜: "</span> + 
                (runtime.totalMemory() - runtime.freeMemory()) / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
        }
    }
    
    <span class="hljs-comment">// æ¼”ç¤ºæ ˆå†…å­˜æº¢å‡º</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">causeStackOverflow</span><span class="hljs-params">()</span> {
        causeStackOverflow();  <span class="hljs-comment">// é€’å½’è°ƒç”¨ï¼Œæ²¡æœ‰ç»ˆæ­¢æ¡ä»¶</span>
    }
    
    <span class="hljs-comment">// æ¼”ç¤ºå †å†…å­˜æº¢å‡º</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">causeHeapOOM</span><span class="hljs-params">()</span> {
        List&lt;<span class="hljs-type">byte</span>[]&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-comment">// æ¯æ¬¡åˆ†é…1MBï¼Œå¿«é€Ÿè€—å°½å †å†…å­˜</span>
            list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>]);
        }
    }
    
    <span class="hljs-comment">// æ¼”ç¤ºæ–¹æ³•åŒºï¼ˆå…ƒç©ºé—´ï¼‰æº¢å‡º</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">causeMetaspaceOOM</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨åŠ¨æ€ç±»åŠ è½½æ¥å¡«æ»¡å…ƒç©ºé—´</span>
        <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡CGLIBç­‰åŠ¨æ€ç”Ÿæˆç±»</span>
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å±•ç¤ºç±»åŠ è½½å’Œå†…å­˜åˆ†é…</span>
        <span class="hljs-type">ClassLoaderDemo</span> <span class="hljs-variable">obj1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassLoaderDemo</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"å¯¹è±¡1"</span>);
        <span class="hljs-type">ClassLoaderDemo</span> <span class="hljs-variable">obj2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassLoaderDemo</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"å¯¹è±¡2"</span>);
        
        obj1.printInfo();
        obj2.printInfo();
        ClassLoaderDemo.showMemoryInfo();
        
        <span class="hljs-comment">// æŸ¥çœ‹å¯¹è±¡å†…å­˜å¸ƒå±€ï¼ˆéœ€è¦JOLåº“ï¼‰</span>
        <span class="hljs-comment">// System.out.println(ClassLayout.parseInstance(obj1).toPrintable());</span>
        
        <span class="hljs-comment">// å°å¿ƒï¼šä»¥ä¸‹ä»£ç ä¼šè§¦å‘å†…å­˜æº¢å‡ºï¼Œä»…ç”¨äºæ¼”ç¤º</span>
        <span class="hljs-comment">// causeStackOverflow();</span>
        <span class="hljs-comment">// causeHeapOOM();</span>
    }
}
</code></pre>
<h3 data-id="heading-3">JVMå†…å­˜ç»“æ„ç¤ºæ„å›¾</h3>
<pre><code class="hljs language-java" lang="java">JVMå†…å­˜åŒºåŸŸï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   ç¨‹åºè®¡æ•°å™¨ â”‚   â”‚      Javaè™šæ‹Ÿæœºæ ˆ     â”‚    â”‚
â”‚  â”‚  (PC Register)â”‚   â”‚    (Java Stack)     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                    â”‚                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   æœ¬åœ°æ–¹æ³•æ ˆ â”‚   â”‚      Javaå †          â”‚    â”‚
â”‚  â”‚ (Native Stack)â”‚   â”‚    (Heap)          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          æ–¹æ³•åŒº/å…ƒç©ºé—´               â”‚      â”‚
â”‚  â”‚    (Method Area/Metaspace)          â”‚      â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚      â”‚
â”‚  â”‚    â”‚  è¿è¡Œæ—¶å¸¸é‡æ±  â”‚                  â”‚      â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚         ç›´æ¥å†…å­˜                     â”‚      â”‚
â”‚  â”‚    (Direct Memory)                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h2 data-id="heading-4">åƒåœ¾å›æ”¶æœºåˆ¶ï¼šJVMçš„è‡ªåŠ¨å†…å­˜ç®¡ç†</h2>
<h3 data-id="heading-5">åƒåœ¾å›æ”¶ç®—æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GarbageCollectionDemo</span> {
    
    <span class="hljs-comment">// å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¿½è¸ª</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LifecycleObject</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> id;
        <span class="hljs-keyword">private</span> <span class="hljs-type">byte</span>[] data;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">LifecycleObject</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> {
            <span class="hljs-built_in">this</span>.id = id;
            <span class="hljs-built_in">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">10</span>]; <span class="hljs-comment">// åˆ†é…10KB</span>
            System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + id + <span class="hljs-string">" è¢«åˆ›å»º"</span>);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">finalize</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Throwable {
            System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + id + <span class="hljs-string">" å³å°†è¢«åƒåœ¾å›æ”¶"</span>);
            <span class="hljs-built_in">super</span>.finalize();
        }
    }
    
    <span class="hljs-comment">// å¼•ç”¨ç±»å‹æ¼”ç¤º</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReferenceDemo</span> {
        
        <span class="hljs-comment">// å¼ºå¼•ç”¨ - æœ€å¸¸è§çš„å¼•ç”¨ç±»å‹</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">strongReferenceDemo</span><span class="hljs-params">()</span> {
            <span class="hljs-type">LifecycleObject</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LifecycleObject</span>(<span class="hljs-number">1</span>);
            obj = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å–æ¶ˆå¼ºå¼•ç”¨ï¼Œå¯¹è±¡å¯è¢«GC</span>
            System.gc(); <span class="hljs-comment">// å»ºè®®JVMè¿›è¡Œåƒåœ¾å›æ”¶</span>
        }
        
        <span class="hljs-comment">// è½¯å¼•ç”¨ - å†…å­˜ä¸è¶³æ—¶æ‰å›æ”¶</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">softReferenceDemo</span><span class="hljs-params">()</span> {
            SoftReference&lt;LifecycleObject&gt; softRef = 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SoftReference</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LifecycleObject</span>(<span class="hljs-number">2</span>));
            
            System.out.println(<span class="hljs-string">"è½¯å¼•ç”¨å¯¹è±¡: "</span> + softRef.get());
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿå†…å­˜ä¸è¶³</span>
            <span class="hljs-keyword">try</span> {
                List&lt;<span class="hljs-type">byte</span>[]&gt; memoryHog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
                    memoryHog.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>]); <span class="hljs-comment">// æ¯æ¬¡1MB</span>
                }
            } <span class="hljs-keyword">catch</span> (OutOfMemoryError e) {
                System.out.println(<span class="hljs-string">"å†…å­˜ä¸è¶³ï¼Œè½¯å¼•ç”¨å¯¹è±¡: "</span> + softRef.get());
            }
        }
        
        <span class="hljs-comment">// å¼±å¼•ç”¨ - GCæ—¶ç«‹å³å›æ”¶</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">weakReferenceDemo</span><span class="hljs-params">()</span> {
            WeakReference&lt;LifecycleObject&gt; weakRef = 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LifecycleObject</span>(<span class="hljs-number">3</span>));
            
            System.out.println(<span class="hljs-string">"å¼±å¼•ç”¨å¯¹è±¡: "</span> + weakRef.get());
            System.gc();
            System.out.println(<span class="hljs-string">"GCåå¼±å¼•ç”¨å¯¹è±¡: "</span> + weakRef.get());
        }
        
        <span class="hljs-comment">// è™šå¼•ç”¨ - ç”¨äºè·Ÿè¸ªå¯¹è±¡è¢«å›æ”¶</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">phantomReferenceDemo</span><span class="hljs-params">()</span> {
            ReferenceQueue&lt;LifecycleObject&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceQueue</span>&lt;&gt;();
            PhantomReference&lt;LifecycleObject&gt; phantomRef = 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">PhantomReference</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LifecycleObject</span>(<span class="hljs-number">4</span>), queue);
            
            System.out.println(<span class="hljs-string">"è™šå¼•ç”¨å¯¹è±¡å§‹ç»ˆä¸ºnull: "</span> + phantomRef.get());
            System.gc();
            
            <span class="hljs-comment">// æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰å¼•ç”¨</span>
            Reference&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">LifecycleObject</span>&gt; ref = queue.poll();
            <span class="hljs-keyword">if</span> (ref != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"å¯¹è±¡å·²è¢«å›æ”¶ï¼Œè¿›å…¥å¼•ç”¨é˜Ÿåˆ—"</span>);
            }
        }
        
        <span class="hljs-comment">// å¼•ç”¨é˜Ÿåˆ—ç¤ºä¾‹</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">referenceQueueDemo</span><span class="hljs-params">()</span> {
            ReferenceQueue&lt;LifecycleObject&gt; refQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceQueue</span>&lt;&gt;();
            List&lt;WeakReference&lt;LifecycleObject&gt;&gt; refList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            
            <span class="hljs-comment">// åˆ›å»º10ä¸ªå¼±å¼•ç”¨å¯¹è±¡</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                WeakReference&lt;LifecycleObject&gt; ref = 
                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LifecycleObject</span>(<span class="hljs-number">100</span> + i), refQueue);
                refList.add(ref);
            }
            
            <span class="hljs-comment">// è§¦å‘GC</span>
            System.gc();
            
            <span class="hljs-comment">// å¤„ç†å¼•ç”¨é˜Ÿåˆ—</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">collectedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                Reference&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">LifecycleObject</span>&gt; ref = refQueue.poll();
                <span class="hljs-keyword">if</span> (ref == <span class="hljs-literal">null</span>) <span class="hljs-keyword">break</span>;
                collectedCount++;
                System.out.println(<span class="hljs-string">"å›æ”¶äº†ç¬¬ "</span> + collectedCount + <span class="hljs-string">" ä¸ªå¯¹è±¡"</span>);
            }
            System.out.println(<span class="hljs-string">"æ€»å…±å›æ”¶äº† "</span> + collectedCount + <span class="hljs-string">" ä¸ªå¯¹è±¡"</span>);
        }
    }
    
    <span class="hljs-comment">// å†…å­˜æ³„æ¼ç¤ºä¾‹</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryLeakDemo</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;<span class="hljs-type">byte</span>[]&gt; LEAK_LIST = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, <span class="hljs-type">byte</span>[]&gt; LEAK_MAP = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-comment">// é™æ€é›†åˆå¼•èµ·çš„å†…å­˜æ³„æ¼</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">causeStaticLeak</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
                LEAK_LIST.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">100</span>]); <span class="hljs-comment">// 100KB</span>
                LEAK_MAP.put(<span class="hljs-string">"key"</span> + i, <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">100</span>]);
            }
            System.out.println(<span class="hljs-string">"å·²æ·»åŠ å¯¹è±¡åˆ°é™æ€é›†åˆï¼Œå³ä½¿æ–¹æ³•ç»“æŸä¹Ÿä¸ä¼šé‡Šæ”¾"</span>);
        }
        
        <span class="hljs-comment">// ç›‘å¬å™¨æœªç§»é™¤å¼•èµ·çš„å†…å­˜æ³„æ¼</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LeakyListener</span> {
            <span class="hljs-keyword">private</span> <span class="hljs-type">byte</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>]; <span class="hljs-comment">// 1MB</span>
            
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onEvent</span><span class="hljs-params">(String event)</span> {
                System.out.println(<span class="hljs-string">"å¤„ç†äº‹ä»¶: "</span> + event);
            }
        }
        
        <span class="hljs-comment">// å†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨å¼•èµ·çš„å†…å­˜æ³„æ¼</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OuterClass</span> {
            <span class="hljs-keyword">private</span> <span class="hljs-type">byte</span>[] outerData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>]; <span class="hljs-comment">// 1MB</span>
            
            <span class="hljs-keyword">public</span> Runnable <span class="hljs-title function_">createTask</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                        <span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»éšå¼æŒæœ‰OuterClass.thiså¼•ç”¨</span>
                        System.out.println(<span class="hljs-string">"è®¿é—®å¤–éƒ¨ç±»æ•°æ®å¤§å°: "</span> + outerData.length);
                    }
                };
            }
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== å¼•ç”¨ç±»å‹æ¼”ç¤º ==="</span>);
        <span class="hljs-type">ReferenceDemo</span> <span class="hljs-variable">refDemo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceDemo</span>();
        refDemo.strongReferenceDemo();
        Thread.sleep(<span class="hljs-number">100</span>);
        
        refDemo.softReferenceDemo();
        Thread.sleep(<span class="hljs-number">100</span>);
        
        refDemo.weakReferenceDemo();
        Thread.sleep(<span class="hljs-number">100</span>);
        
        refDemo.phantomReferenceDemo();
        Thread.sleep(<span class="hljs-number">100</span>);
        
        refDemo.referenceQueueDemo();
        
        System.out.println(<span class="hljs-string">"\n=== å†…å­˜æ³„æ¼æ¼”ç¤º ==="</span>);
        MemoryLeakDemo.causeStaticLeak();
        
        <span class="hljs-comment">// æ³¨æ„ï¼šä»¥ä¸‹ä»£ç ä»…ç”¨äºæ¼”ç¤ºï¼Œå®é™…ä¸­åº”é¿å…å†…å­˜æ³„æ¼</span>
        Runtime.getRuntime().gc();
        Thread.sleep(<span class="hljs-number">1000</span>);
        System.out.println(<span class="hljs-string">"æ¼”ç¤ºå®Œæˆï¼Œå»ºè®®é‡å¯JVMä»¥é‡Šæ”¾æ³„æ¼çš„å†…å­˜"</span>);
    }
}
</code></pre>
<h3 data-id="heading-6">GCç®—æ³•è¯¦è§£ä¸æ¯”è¾ƒ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GCAlgorithms</span> {
    
    <span class="hljs-comment">/**
     * åƒåœ¾å›æ”¶ç®—æ³•æ¯”è¾ƒï¼š
     * 
     * 1. æ ‡è®°-æ¸…é™¤ (Mark-Sweep)
     *    - ä¼˜ç‚¹ï¼šç®€å•ï¼Œä¸ä¼šç§»åŠ¨å¯¹è±¡
     *    - ç¼ºç‚¹ï¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œæ•ˆç‡è¾ƒä½
     *    
     * 2. æ ‡è®°-æ•´ç† (Mark-Compact)
     *    - ä¼˜ç‚¹ï¼šæ²¡æœ‰å†…å­˜ç¢ç‰‡
     *    - ç¼ºç‚¹ï¼šéœ€è¦ç§»åŠ¨å¯¹è±¡ï¼Œå¼€é”€è¾ƒå¤§
     *    
     * 3. å¤åˆ¶ç®—æ³• (Copying)
     *    - ä¼˜ç‚¹ï¼šæ²¡æœ‰ç¢ç‰‡ï¼Œå®ç°ç®€å•
     *    - ç¼ºç‚¹ï¼šå†…å­˜åˆ©ç”¨ç‡åªæœ‰50%
     *    
     * 4. åˆ†ä»£æ”¶é›† (Generational Collection)
     *    - ç°ä»£JVMä¸»è¦é‡‡ç”¨æ­¤ç­–ç•¥
     *    - æ–°ç”Ÿä»£ (Young Generation)ï¼šä½¿ç”¨å¤åˆ¶ç®—æ³•
     *    - è€å¹´ä»£ (Old Generation)ï¼šä½¿ç”¨æ ‡è®°-æ¸…é™¤æˆ–æ ‡è®°-æ•´ç†
     */</span>
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿåˆ†ä»£æ”¶é›†ç­–ç•¥</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerationalGCSimulation</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ–°ç”Ÿä»£ï¼ˆEden + Survivorï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;Object&gt; youngGen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-comment">// æ¨¡æ‹Ÿè€å¹´ä»£</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;Object&gt; oldGen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">objectId</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">youngGCCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">fullGCCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// åˆ›å»ºæ–°å¯¹è±¡ï¼ˆé¦–å…ˆåˆ†é…åœ¨æ–°ç”Ÿä»£ï¼‰</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">allocate</span><span class="hljs-params">()</span> {
            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>() {
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> ++objectId;
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">byte</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>]; <span class="hljs-comment">// 1KB</span>
                <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// å¯¹è±¡å¹´é¾„</span>
                
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"å¯¹è±¡#"</span> + id + <span class="hljs-string">"(age:"</span> + age + <span class="hljs-string">")"</span>;
                }
                
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">incrementAge</span><span class="hljs-params">()</span> {
                    age++;
                }
                
                <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
                    <span class="hljs-keyword">return</span> age;
                }
            };
            
            youngGen.add(obj);
            System.out.println(<span class="hljs-string">"åˆ†é…æ–°å¯¹è±¡: "</span> + obj + <span class="hljs-string">" åˆ°æ–°ç”Ÿä»£"</span>);
            <span class="hljs-keyword">return</span> obj;
        }
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ–°ç”Ÿä»£GCï¼ˆMinor GCï¼‰</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">minorGC</span><span class="hljs-params">()</span> {
            youngGCCount++;
            System.out.println(<span class="hljs-string">"\n=== å¼€å§‹ç¬¬ "</span> + youngGCCount + <span class="hljs-string">" æ¬¡æ–°ç”Ÿä»£GC ==="</span>);
            
            <span class="hljs-comment">// æ ‡è®°é˜¶æ®µï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
            List&lt;Object&gt; survivors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            List&lt;Object&gt; promoted = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            
            <span class="hljs-keyword">for</span> (Object obj : youngGen) {
                <span class="hljs-comment">// æ¨¡æ‹Ÿå¯è¾¾æ€§åˆ†æï¼ˆè¿™é‡Œç®€åŒ–ï¼šéšæœºå†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»ï¼‰</span>
                <span class="hljs-type">boolean</span> <span class="hljs-variable">isAlive</span> <span class="hljs-operator">=</span> Math.random() &gt; <span class="hljs-number">0.5</span>; <span class="hljs-comment">// 50%å­˜æ´»ç‡</span>
                
                <span class="hljs-keyword">if</span> (isAlive) {
                    <span class="hljs-comment">// å¯¹è±¡å¹´é¾„å¢åŠ </span>
                    <span class="hljs-keyword">try</span> {
                        java.lang.reflect.<span class="hljs-type">Method</span> <span class="hljs-variable">incrementAge</span> <span class="hljs-operator">=</span> 
                            obj.getClass().getDeclaredMethod(<span class="hljs-string">"incrementAge"</span>);
                        incrementAge.invoke(obj);
                        
                        java.lang.reflect.<span class="hljs-type">Method</span> <span class="hljs-variable">getAge</span> <span class="hljs-operator">=</span> 
                            obj.getClass().getDeclaredMethod(<span class="hljs-string">"getAge"</span>);
                        <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) getAge.invoke(obj);
                        
                        <span class="hljs-keyword">if</span> (age &gt;= <span class="hljs-number">15</span>) { <span class="hljs-comment">// å¹´é¾„é˜ˆå€¼ï¼Œæ™‹å‡åˆ°è€å¹´ä»£</span>
                            promoted.add(obj);
                            System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + obj + <span class="hljs-string">" æ™‹å‡åˆ°è€å¹´ä»£"</span>);
                        } <span class="hljs-keyword">else</span> {
                            survivors.add(obj);
                            System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + obj + <span class="hljs-string">" å­˜æ´»ï¼Œè¿›å…¥SurvivoråŒº"</span>);
                        }
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        survivors.add(obj);
                    }
                } <span class="hljs-keyword">else</span> {
                    System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + obj + <span class="hljs-string">" è¢«å›æ”¶"</span>);
                }
            }
            
            <span class="hljs-comment">// å¤åˆ¶å­˜æ´»å¯¹è±¡ï¼ˆæ¨¡æ‹Ÿå¤åˆ¶ç®—æ³•ï¼‰</span>
            youngGen.clear();
            youngGen.addAll(survivors);
            
            <span class="hljs-comment">// æ™‹å‡åˆ°è€å¹´ä»£</span>
            oldGen.addAll(promoted);
            
            System.out.println(<span class="hljs-string">"æ–°ç”Ÿä»£GCå®Œæˆï¼Œå­˜æ´»å¯¹è±¡: "</span> + survivors.size() + 
                             <span class="hljs-string">", æ™‹å‡å¯¹è±¡: "</span> + promoted.size());
        }
        
        <span class="hljs-comment">// æ¨¡æ‹ŸFull GC</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fullGC</span><span class="hljs-params">()</span> {
            fullGCCount++;
            System.out.println(<span class="hljs-string">"\n=== å¼€å§‹ç¬¬ "</span> + fullGCCount + <span class="hljs-string">" æ¬¡Full GC ==="</span>);
            
            <span class="hljs-comment">// æ ‡è®°é˜¶æ®µï¼ˆåŒæ—¶å¤„ç†æ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼‰</span>
            List&lt;Object&gt; allObjects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            allObjects.addAll(youngGen);
            allObjects.addAll(oldGen);
            
            List&lt;Object&gt; survivors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            
            <span class="hljs-keyword">for</span> (Object obj : allObjects) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">isAlive</span> <span class="hljs-operator">=</span> Math.random() &gt; <span class="hljs-number">0.3</span>; <span class="hljs-comment">// 70%å­˜æ´»ç‡</span>
                
                <span class="hljs-keyword">if</span> (isAlive) {
                    survivors.add(obj);
                } <span class="hljs-keyword">else</span> {
                    System.out.println(<span class="hljs-string">"å¯¹è±¡ "</span> + obj + <span class="hljs-string">" åœ¨Full GCä¸­è¢«å›æ”¶"</span>);
                }
            }
            
            <span class="hljs-comment">// æ•´ç†é˜¶æ®µï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
            youngGen.clear();
            oldGen.clear();
            
            <span class="hljs-comment">// é‡æ–°åˆ†é…ï¼ˆå®é™…JVMä¼šç§»åŠ¨å¯¹è±¡è¿›è¡Œå†…å­˜æ•´ç†ï¼‰</span>
            <span class="hljs-keyword">for</span> (Object obj : survivors) {
                <span class="hljs-comment">// ç®€åŒ–å¤„ç†ï¼šéƒ½æ”¾åˆ°è€å¹´ä»£</span>
                oldGen.add(obj);
            }
            
            System.out.println(<span class="hljs-string">"Full GCå®Œæˆï¼Œæ€»å­˜æ´»å¯¹è±¡: "</span> + survivors.size());
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printStats</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== å†…å­˜ç»Ÿè®¡ ==="</span>);
            System.out.println(<span class="hljs-string">"æ–°ç”Ÿä»£å¯¹è±¡æ•°: "</span> + youngGen.size());
            System.out.println(<span class="hljs-string">"è€å¹´ä»£å¯¹è±¡æ•°: "</span> + oldGen.size());
            System.out.println(<span class="hljs-string">"æ–°ç”Ÿä»£GCæ¬¡æ•°: "</span> + youngGCCount);
            System.out.println(<span class="hljs-string">"Full GCæ¬¡æ•°: "</span> + fullGCCount);
        }
    }
    
    <span class="hljs-comment">// ç°ä»£GCæ”¶é›†å™¨å¯¹æ¯”</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GCCollectorsComparison</span> {
        <span class="hljs-comment">/**
         * å¸¸ç”¨GCæ”¶é›†å™¨ï¼š
         * 
         * 1. Serialæ”¶é›†å™¨
         *    - å•çº¿ç¨‹ï¼Œé€‚ç”¨äºå®¢æˆ·ç«¯åº”ç”¨
         *    - å‚æ•°ï¼š-XX:+UseSerialGC
         *    
         * 2. Parallelæ”¶é›†å™¨ (ååé‡ä¼˜å…ˆ)
         *    - å¤šçº¿ç¨‹ï¼Œé€‚ç”¨äºåå°è®¡ç®—
         *    - å‚æ•°ï¼š-XX:+UseParallelGC -XX:ParallelGCThreads=N
         *    
         * 3. CMSæ”¶é›†å™¨ (ä½å»¶è¿Ÿä¼˜å…ˆ)
         *    - å¹¶å‘æ ‡è®°æ¸…é™¤ï¼Œå‡å°‘åœé¡¿æ—¶é—´
         *    - å‚æ•°ï¼š-XX:+UseConcMarkSweepGC
         *    - å·²åºŸå¼ƒï¼Œä¸å»ºè®®ä½¿ç”¨
         *    
         * 4. G1æ”¶é›†å™¨ (å¹³è¡¡å‹)
         *    - åˆ†åŒºæ”¶é›†ï¼Œå¯é¢„æµ‹åœé¡¿æ—¶é—´
         *    - å‚æ•°ï¼š-XX:+UseG1GC
         *    
         * 5. ZGCæ”¶é›†å™¨ (è¶…ä½å»¶è¿Ÿ)
         *    - å¹¶å‘ï¼Œåœé¡¿æ—¶é—´ä¸è¶…è¿‡10ms
         *    - å‚æ•°ï¼š-XX:+UseZGC
         *    
         * 6. Shenandoahæ”¶é›†å™¨ (ä½å»¶è¿Ÿ)
         *    - å¹¶å‘ï¼Œä¸ZGCç±»ä¼¼
         *    - å‚æ•°ï¼š-XX:+UseShenandoahGC
         */</span>
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printGCInfo</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// è·å–å½“å‰GCä¿¡æ¯</span>
            List&lt;GarbageCollectorMXBean&gt; gcBeans = 
                ManagementFactory.getGarbageCollectorMXBeans();
            
            System.out.println(<span class="hljs-string">"=== GCæ”¶é›†å™¨ä¿¡æ¯ ==="</span>);
            <span class="hljs-keyword">for</span> (GarbageCollectorMXBean gcBean : gcBeans) {
                System.out.println(<span class="hljs-string">"æ”¶é›†å™¨åç§°: "</span> + gcBean.getName());
                System.out.println(<span class="hljs-string">"  æ”¶é›†æ¬¡æ•°: "</span> + gcBean.getCollectionCount());
                System.out.println(<span class="hljs-string">"  æ”¶é›†æ—¶é—´: "</span> + gcBean.getCollectionTime() + <span class="hljs-string">"ms"</span>);
                System.out.println(<span class="hljs-string">"  å†…å­˜æ± åç§°: "</span> + 
                    Arrays.toString(gcBean.getMemoryPoolNames()));
                System.out.println();
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">suggestGCParameters</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"=== GCå‚æ•°å»ºè®® ==="</span>);
            
            <span class="hljs-type">String</span> <span class="hljs-variable">appType</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">"app.type"</span>, <span class="hljs-string">"web"</span>);
            
            <span class="hljs-keyword">switch</span> (appType) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"web"</span>:
                    System.out.println(<span class="hljs-string">"Webåº”ç”¨æ¨èä½¿ç”¨G1GC:"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:+UseG1GC"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:MaxGCPauseMillis=200"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:G1HeapRegionSize=4M"</span>);
                    <span class="hljs-keyword">break</span>;
                    
                <span class="hljs-keyword">case</span> <span class="hljs-string">"batch"</span>:
                    System.out.println(<span class="hljs-string">"æ‰¹å¤„ç†åº”ç”¨æ¨èä½¿ç”¨ParallelGC:"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:+UseParallelGC"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:ParallelGCThreads=CPUæ ¸å¿ƒæ•°"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:+UseAdaptiveSizePolicy"</span>);
                    <span class="hljs-keyword">break</span>;
                    
                <span class="hljs-keyword">case</span> <span class="hljs-string">"low-latency"</span>:
                    System.out.println(<span class="hljs-string">"ä½å»¶è¿Ÿåº”ç”¨æ¨èä½¿ç”¨ZGC:"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:+UseZGC"</span>);
                    System.out.println(<span class="hljs-string">"  -Xmx&lt;size&gt; -Xms&lt;size&gt; (è®¾ç½®å †å¤§å°)"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:ConcGCThreads=&lt;threads&gt;"</span>);
                    <span class="hljs-keyword">break</span>;
                    
                <span class="hljs-keyword">default</span>:
                    System.out.println(<span class="hljs-string">"é€šç”¨å»ºè®®:"</span>);
                    System.out.println(<span class="hljs-string">"  -XX:+UseG1GC (JDK 9+é»˜è®¤)"</span>);
                    System.out.println(<span class="hljs-string">"  -Xmxå’Œ-Xmsè®¾ç½®ä¸ºç›¸åŒå€¼é¿å…å †éœ‡è¡"</span>);
            }
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== åˆ†ä»£æ”¶é›†æ¨¡æ‹Ÿ ==="</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¯¹è±¡åˆ†é…å’ŒGC</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {
            GenerationalGCSimulation.allocate();
            
            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>) {
                GenerationalGCSimulation.minorGC();
            }
            
            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>) {
                GenerationalGCSimulation.fullGC();
            }
            
            Thread.sleep(<span class="hljs-number">100</span>);
        }
        
        GenerationalGCSimulation.printStats();
        
        System.out.println(<span class="hljs-string">"\n=== å®é™…GCä¿¡æ¯ ==="</span>);
        GCCollectorsComparison.printGCInfo();
        GCCollectorsComparison.suggestGCParameters();
    }
}
</code></pre>
<h2 data-id="heading-7">JVMç›‘æ§ä¸æ•…éšœè¯Šæ–­</h2>
<h3 data-id="heading-8">1. å‘½ä»¤è¡Œç›‘æ§å·¥å…·</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JVMMonitoringTools</span> {
    
    <span class="hljs-comment">// è·å–JVMè¿è¡Œæ—¶ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printRuntimeInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Runtime</span> <span class="hljs-variable">runtime</span> <span class="hljs-operator">=</span> Runtime.getRuntime();
        
        System.out.println(<span class="hljs-string">"=== JVMè¿è¡Œæ—¶ä¿¡æ¯ ==="</span>);
        System.out.println(<span class="hljs-string">"å¯ç”¨å¤„ç†å™¨: "</span> + runtime.availableProcessors());
        System.out.println(<span class="hljs-string">"æœ€å¤§å†…å­˜: "</span> + formatBytes(runtime.maxMemory()));
        System.out.println(<span class="hljs-string">"æ€»å†…å­˜: "</span> + formatBytes(runtime.totalMemory()));
        System.out.println(<span class="hljs-string">"ç©ºé—²å†…å­˜: "</span> + formatBytes(runtime.freeMemory()));
        System.out.println(<span class="hljs-string">"å·²ç”¨å†…å­˜: "</span> + 
            formatBytes(runtime.totalMemory() - runtime.freeMemory()));
    }
    
    <span class="hljs-comment">// è·å–å†…å­˜ç®¡ç†å™¨ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printMemoryManagerInfo</span><span class="hljs-params">()</span> {
        List&lt;MemoryManagerMXBean&gt; memoryManagers = 
            ManagementFactory.getMemoryManagerMXBeans();
        
        System.out.println(<span class="hljs-string">"\n=== å†…å­˜ç®¡ç†å™¨ ==="</span>);
        <span class="hljs-keyword">for</span> (MemoryManagerMXBean manager : memoryManagers) {
            System.out.println(<span class="hljs-string">"ç®¡ç†å™¨: "</span> + manager.getName());
            System.out.println(<span class="hljs-string">"  å†…å­˜æ± : "</span> + 
                Arrays.toString(manager.getMemoryPoolNames()));
        }
    }
    
    <span class="hljs-comment">// è·å–å†…å­˜æ± ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printMemoryPoolInfo</span><span class="hljs-params">()</span> {
        List&lt;MemoryPoolMXBean&gt; memoryPools = 
            ManagementFactory.getMemoryPoolMXBeans();
        
        System.out.println(<span class="hljs-string">"\n=== å†…å­˜æ± ä¿¡æ¯ ==="</span>);
        <span class="hljs-keyword">for</span> (MemoryPoolMXBean pool : memoryPools) {
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">usage</span> <span class="hljs-operator">=</span> pool.getUsage();
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">peakUsage</span> <span class="hljs-operator">=</span> pool.getPeakUsage();
            
            System.out.println(<span class="hljs-string">"å†…å­˜æ± : "</span> + pool.getName());
            System.out.println(<span class="hljs-string">"  ç±»å‹: "</span> + pool.getType());
            System.out.println(<span class="hljs-string">"  ä½¿ç”¨é‡: "</span> + formatBytes(usage.getUsed()) + 
                             <span class="hljs-string">" / "</span> + formatBytes(usage.getMax()));
            System.out.println(<span class="hljs-string">"  æäº¤é‡: "</span> + formatBytes(usage.getCommitted()));
            System.out.println(<span class="hljs-string">"  å³°å€¼: "</span> + formatBytes(peakUsage.getUsed()));
            System.out.println(<span class="hljs-string">"  ä½¿ç”¨ç‡: "</span> + 
                String.format(<span class="hljs-string">"%.2f%%"</span>, (usage.getUsed() * <span class="hljs-number">100.0</span> / usage.getMax())));
        }
    }
    
    <span class="hljs-comment">// è·å–çº¿ç¨‹ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printThreadInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadMXBean</span> <span class="hljs-variable">threadBean</span> <span class="hljs-operator">=</span> ManagementFactory.getThreadMXBean();
        
        System.out.println(<span class="hljs-string">"\n=== çº¿ç¨‹ä¿¡æ¯ ==="</span>);
        System.out.println(<span class="hljs-string">"æ´»åŠ¨çº¿ç¨‹æ•°: "</span> + threadBean.getThreadCount());
        System.out.println(<span class="hljs-string">"å³°å€¼çº¿ç¨‹æ•°: "</span> + threadBean.getPeakThreadCount());
        System.out.println(<span class="hljs-string">"å®ˆæŠ¤çº¿ç¨‹æ•°: "</span> + threadBean.getDaemonThreadCount());
        System.out.println(<span class="hljs-string">"æ€»å¯åŠ¨çº¿ç¨‹æ•°: "</span> + threadBean.getTotalStartedThreadCount());
        
        <span class="hljs-comment">// æ£€æµ‹æ­»é”</span>
        <span class="hljs-type">long</span>[] deadlockedThreads = threadBean.findDeadlockedThreads();
        <span class="hljs-keyword">if</span> (deadlockedThreads != <span class="hljs-literal">null</span> &amp;&amp; deadlockedThreads.length &gt; <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"æ£€æµ‹åˆ°æ­»é”çº¿ç¨‹:"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> threadId : deadlockedThreads) {
                System.out.println(<span class="hljs-string">"  çº¿ç¨‹ID: "</span> + threadId);
            }
        }
    }
    
    <span class="hljs-comment">// è·å–ç±»åŠ è½½ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printClassLoadingInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ClassLoadingMXBean</span> <span class="hljs-variable">classBean</span> <span class="hljs-operator">=</span> ManagementFactory.getClassLoadingMXBean();
        
        System.out.println(<span class="hljs-string">"\n=== ç±»åŠ è½½ä¿¡æ¯ ==="</span>);
        System.out.println(<span class="hljs-string">"å·²åŠ è½½ç±»æ€»æ•°: "</span> + classBean.getTotalLoadedClassCount());
        System.out.println(<span class="hljs-string">"å½“å‰åŠ è½½ç±»æ•°: "</span> + classBean.getLoadedClassCount());
        System.out.println(<span class="hljs-string">"å·²å¸è½½ç±»æ•°: "</span> + classBean.getUnloadedClassCount());
    }
    
    <span class="hljs-comment">// è·å–æ“ä½œç³»ç»Ÿä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printOSInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">OperatingSystemMXBean</span> <span class="hljs-variable">osBean</span> <span class="hljs-operator">=</span> ManagementFactory.getOperatingSystemMXBean();
        
        System.out.println(<span class="hljs-string">"\n=== æ“ä½œç³»ç»Ÿä¿¡æ¯ ==="</span>);
        System.out.println(<span class="hljs-string">"æ“ä½œç³»ç»Ÿ: "</span> + osBean.getName() + 
                         <span class="hljs-string">" "</span> + osBean.getVersion());
        System.out.println(<span class="hljs-string">"ç³»ç»Ÿæ¶æ„: "</span> + osBean.getArch());
        System.out.println(<span class="hljs-string">"å¯ç”¨å¤„ç†å™¨: "</span> + osBean.getAvailableProcessors());
        
        <span class="hljs-keyword">if</span> (osBean <span class="hljs-keyword">instanceof</span> com.sun.management.OperatingSystemMXBean) {
            com.sun.management.<span class="hljs-type">OperatingSystemMXBean</span> <span class="hljs-variable">sunOsBean</span> <span class="hljs-operator">=</span> 
                (com.sun.management.OperatingSystemMXBean) osBean;
            
            System.out.println(<span class="hljs-string">"ç³»ç»Ÿè´Ÿè½½: "</span> + sunOsBean.getSystemLoadAverage());
            System.out.println(<span class="hljs-string">"è¿›ç¨‹CPUæ—¶é—´: "</span> + 
                sunOsBean.getProcessCpuTime() / <span class="hljs-number">1_000_000</span> + <span class="hljs-string">"ms"</span>);
            System.out.println(<span class="hljs-string">"è¿›ç¨‹CPUä½¿ç”¨ç‡: "</span> + 
                String.format(<span class="hljs-string">"%.2f%%"</span>, sunOsBean.getProcessCpuLoad() * <span class="hljs-number">100</span>));
            System.out.println(<span class="hljs-string">"ç³»ç»ŸCPUä½¿ç”¨ç‡: "</span> + 
                String.format(<span class="hljs-string">"%.2f%%"</span>, sunOsBean.getSystemCpuLoad() * <span class="hljs-number">100</span>));
        }
    }
    
    <span class="hljs-comment">// å †å†…å­˜è½¬å‚¨åˆ†æ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HeapDumpAnalyzer</span> {
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">triggerHeapDump</span><span class="hljs-params">(String fileName)</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// è§¦å‘å †è½¬å‚¨</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">pid</span> <span class="hljs-operator">=</span> ManagementFactory.getRuntimeMXBean().getName().split(<span class="hljs-string">"@"</span>)[<span class="hljs-number">0</span>];
                <span class="hljs-type">String</span> <span class="hljs-variable">command</span> <span class="hljs-operator">=</span> <span class="hljs-string">"jcmd "</span> + pid + <span class="hljs-string">" GC.heap_dump "</span> + fileName;
                
                System.out.println(<span class="hljs-string">"æ‰§è¡Œå‘½ä»¤: "</span> + command);
                
                <span class="hljs-comment">// å®é™…ç¯å¢ƒä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š</span>
                <span class="hljs-comment">// 1. ä½¿ç”¨jcmdå‘½ä»¤</span>
                <span class="hljs-comment">// 2. ä½¿ç”¨JMX: HotSpotDiagnosticMXBean.dumpHeap()</span>
                <span class="hljs-comment">// 3. åœ¨å¯åŠ¨æ—¶æ·»åŠ å‚æ•°: -XX:+HeapDumpOnOutOfMemoryError</span>
                
                System.out.println(<span class="hljs-string">"å †è½¬å‚¨æ–‡ä»¶: "</span> + fileName);
                
            } <span class="hljs-keyword">catch</span> (Exception e) {
                e.printStackTrace();
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">analyzeMemoryLeak</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== å†…å­˜æ³„æ¼åˆ†ææ­¥éª¤ ==="</span>);
            System.out.println(<span class="hljs-string">"1. ä½¿ç”¨ jps å‘½ä»¤æŸ¥æ‰¾Javaè¿›ç¨‹ID"</span>);
            System.out.println(<span class="hljs-string">"2. ä½¿ç”¨ jmap ç”Ÿæˆå †è½¬å‚¨:"</span>);
            System.out.println(<span class="hljs-string">"   jmap -dump:live,format=b,file=heap.bin &lt;pid&gt;"</span>);
            System.out.println(<span class="hljs-string">"3. ä½¿ç”¨åˆ†æå·¥å…·æ‰“å¼€å †è½¬å‚¨æ–‡ä»¶:"</span>);
            System.out.println(<span class="hljs-string">"   - Eclipse MAT (Memory Analyzer Tool)"</span>);
            System.out.println(<span class="hljs-string">"   - VisualVM"</span>);
            System.out.println(<span class="hljs-string">"   - YourKit"</span>);
            System.out.println(<span class="hljs-string">"4. æŸ¥æ‰¾:"</span>);
            System.out.println(<span class="hljs-string">"   - æœ€å¤§çš„å¯¹è±¡"</span>);
            System.out.println(<span class="hljs-string">"   - é‡å¤çš„å­—ç¬¦ä¸²"</span>);
            System.out.println(<span class="hljs-string">"   - æœªå…³é—­çš„èµ„æº"</span>);
        }
    }
    
    <span class="hljs-comment">// JVMå‚æ•°ä¼˜åŒ–å»ºè®®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JVMOptimizer</span> {
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">analyzeAndSuggest</span><span class="hljs-params">()</span> {
            <span class="hljs-type">RuntimeMXBean</span> <span class="hljs-variable">runtimeBean</span> <span class="hljs-operator">=</span> ManagementFactory.getRuntimeMXBean();
            List&lt;String&gt; inputArgs = runtimeBean.getInputArguments();
            
            System.out.println(<span class="hljs-string">"\n=== å½“å‰JVMå‚æ•° ==="</span>);
            <span class="hljs-keyword">for</span> (String arg : inputArgs) {
                System.out.println(<span class="hljs-string">"  "</span> + arg);
            }
            
            System.out.println(<span class="hljs-string">"\n=== ä¼˜åŒ–å»ºè®® ==="</span>);
            
            <span class="hljs-comment">// æ£€æŸ¥å †å¤§å°è®¾ç½®</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">hasXmx</span> <span class="hljs-operator">=</span> inputArgs.stream().anyMatch(arg -&gt; arg.startsWith(<span class="hljs-string">"-Xmx"</span>));
            <span class="hljs-type">boolean</span> <span class="hljs-variable">hasXms</span> <span class="hljs-operator">=</span> inputArgs.stream().anyMatch(arg -&gt; arg.startsWith(<span class="hljs-string">"-Xms"</span>));
            
            <span class="hljs-keyword">if</span> (!hasXmx) {
                System.out.println(<span class="hljs-string">"å»ºè®®è®¾ç½®æœ€å¤§å †å¤§å°: -Xmx4g (æ ¹æ®å®é™…å†…å­˜è°ƒæ•´)"</span>);
            }
            
            <span class="hljs-keyword">if</span> (!hasXms) {
                System.out.println(<span class="hljs-string">"å»ºè®®è®¾ç½®åˆå§‹å †å¤§å°: -Xms2g (ä¸-Xmxç›¸åŒä»¥é¿å…å †éœ‡è¡)"</span>);
            }
            
            <span class="hljs-comment">// æ£€æŸ¥GCè®¾ç½®</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">hasGCParam</span> <span class="hljs-operator">=</span> inputArgs.stream()
                .anyMatch(arg -&gt; arg.startsWith(<span class="hljs-string">"-XX:+Use"</span>) &amp;&amp; arg.contains(<span class="hljs-string">"GC"</span>));
            
            <span class="hljs-keyword">if</span> (!hasGCParam) {
                System.out.println(<span class="hljs-string">"å»ºè®®æ˜ç¡®æŒ‡å®šGCæ”¶é›†å™¨:"</span>);
                System.out.println(<span class="hljs-string">"  G1GC: -XX:+UseG1GC -XX:MaxGCPauseMillis=200"</span>);
                System.out.println(<span class="hljs-string">"  ZGC: -XX:+UseZGC (é€‚ç”¨äºä½å»¶è¿Ÿåº”ç”¨)"</span>);
            }
            
            <span class="hljs-comment">// æ£€æŸ¥å…ƒç©ºé—´è®¾ç½®</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">hasMetaspaceParam</span> <span class="hljs-operator">=</span> inputArgs.stream()
                .anyMatch(arg -&gt; arg.contains(<span class="hljs-string">"MetaspaceSize"</span>) || arg.contains(<span class="hljs-string">"MaxMetaspaceSize"</span>));
            
            <span class="hljs-keyword">if</span> (!hasMetaspaceParam) {
                System.out.println(<span class="hljs-string">"å»ºè®®è®¾ç½®å…ƒç©ºé—´å¤§å°:"</span>);
                System.out.println(<span class="hljs-string">"  -XX:MetaspaceSize=256m"</span>);
                System.out.println(<span class="hljs-string">"  -XX:MaxMetaspaceSize=512m"</span>);
            }
        }
    }
    
    <span class="hljs-comment">// æ ¼å¼åŒ–å­—èŠ‚å¤§å°ä¸ºæ˜“è¯»æ ¼å¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">formatBytes</span><span class="hljs-params">(<span class="hljs-type">long</span> bytes)</span> {
        <span class="hljs-keyword">if</span> (bytes &lt; <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> bytes + <span class="hljs-string">" B"</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">exp</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (Math.log(bytes) / Math.log(<span class="hljs-number">1024</span>));
        <span class="hljs-type">char</span> <span class="hljs-variable">unit</span> <span class="hljs-operator">=</span> <span class="hljs-string">"KMGTPE"</span>.charAt(exp - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.2f %sB"</span>, bytes / Math.pow(<span class="hljs-number">1024</span>, exp), unit);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        printRuntimeInfo();
        printMemoryManagerInfo();
        printMemoryPoolInfo();
        printThreadInfo();
        printClassLoadingInfo();
        printOSInfo();
        
        HeapDumpAnalyzer.analyzeMemoryLeak();
        JVMOptimizer.analyzeAndSuggest();
    }
}
</code></pre>
<h3 data-id="heading-9">2. å¯è§†åŒ–ç›‘æ§å·¥å…·é›†æˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VisualMonitoringTools</span> {
    
    <span class="hljs-comment">// ç®€æ˜“çš„å†…å­˜ç›‘æ§ä»ªè¡¨ç›˜</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryMonitorDashboard</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">HISTORY_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Long&gt; heapHistory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Long&gt; nonHeapHistory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">scheduler</span> <span class="hljs-operator">=</span> 
            Executors.newScheduledThreadPool(<span class="hljs-number">1</span>);
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startMonitoring</span><span class="hljs-params">(<span class="hljs-type">int</span> intervalSeconds)</span> {
            System.out.println(<span class="hljs-string">"å¯åŠ¨å†…å­˜ç›‘æ§ï¼Œé—´éš”: "</span> + intervalSeconds + <span class="hljs-string">"ç§’"</span>);
            
            scheduler.scheduleAtFixedRate(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    updateMetrics();
                    printDashboard();
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
            }, <span class="hljs-number">0</span>, intervalSeconds, TimeUnit.SECONDS);
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateMetrics</span><span class="hljs-params">()</span> {
            <span class="hljs-type">MemoryMXBean</span> <span class="hljs-variable">memoryBean</span> <span class="hljs-operator">=</span> ManagementFactory.getMemoryMXBean();
            
            <span class="hljs-comment">// å †å†…å­˜ä½¿ç”¨æƒ…å†µ</span>
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">heapUsage</span> <span class="hljs-operator">=</span> memoryBean.getHeapMemoryUsage();
            heapHistory.add(heapUsage.getUsed());
            <span class="hljs-keyword">if</span> (heapHistory.size() &gt; HISTORY_SIZE) {
                heapHistory.remove(<span class="hljs-number">0</span>);
            }
            
            <span class="hljs-comment">// éå †å†…å­˜ä½¿ç”¨æƒ…å†µ</span>
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">nonHeapUsage</span> <span class="hljs-operator">=</span> memoryBean.getNonHeapMemoryUsage();
            nonHeapHistory.add(nonHeapUsage.getUsed());
            <span class="hljs-keyword">if</span> (nonHeapHistory.size() &gt; HISTORY_SIZE) {
                nonHeapHistory.remove(<span class="hljs-number">0</span>);
            }
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printDashboard</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">60</span>));
            System.out.println(<span class="hljs-string">"å†…å­˜ç›‘æ§ä»ªè¡¨ç›˜ - "</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());
            System.out.println(<span class="hljs-string">"="</span>.repeat(<span class="hljs-number">60</span>));
            
            <span class="hljs-type">MemoryMXBean</span> <span class="hljs-variable">memoryBean</span> <span class="hljs-operator">=</span> ManagementFactory.getMemoryMXBean();
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">heapUsage</span> <span class="hljs-operator">=</span> memoryBean.getHeapMemoryUsage();
            <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">nonHeapUsage</span> <span class="hljs-operator">=</span> memoryBean.getNonHeapMemoryUsage();
            
            <span class="hljs-comment">// å †å†…å­˜å›¾è¡¨</span>
            printMemoryChart(<span class="hljs-string">"å †å†…å­˜"</span>, heapUsage, heapHistory);
            
            <span class="hljs-comment">// éå †å†…å­˜å›¾è¡¨</span>
            printMemoryChart(<span class="hljs-string">"éå †å†…å­˜"</span>, nonHeapUsage, nonHeapHistory);
            
            <span class="hljs-comment">// GCä¿¡æ¯</span>
            printGCInfo();
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printMemoryChart</span><span class="hljs-params">(String title, MemoryUsage usage, 
                                     List&lt;Long&gt; history)</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">used</span> <span class="hljs-operator">=</span> usage.getUsed();
            <span class="hljs-type">long</span> <span class="hljs-variable">committed</span> <span class="hljs-operator">=</span> usage.getCommitted();
            <span class="hljs-type">long</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> usage.getMax();
            
            System.out.println(<span class="hljs-string">"\n"</span> + title + <span class="hljs-string">":"</span>);
            System.out.println(<span class="hljs-string">"  ä½¿ç”¨: "</span> + formatBytes(used));
            System.out.println(<span class="hljs-string">"  æäº¤: "</span> + formatBytes(committed));
            System.out.println(<span class="hljs-string">"  æœ€å¤§: "</span> + (max == -<span class="hljs-number">1</span> ? <span class="hljs-string">"æ— é™åˆ¶"</span> : formatBytes(max)));
            
            <span class="hljs-type">double</span> <span class="hljs-variable">usagePercent</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) used / committed * <span class="hljs-number">100</span>;
            System.out.printf(<span class="hljs-string">"  ä½¿ç”¨ç‡: %.2f%%\n"</span>, usagePercent);
            
            <span class="hljs-comment">// ç®€å•å›¾è¡¨</span>
            <span class="hljs-keyword">if</span> (!history.isEmpty()) {
                System.out.print(<span class="hljs-string">"  è¶‹åŠ¿å›¾: "</span>);
                <span class="hljs-type">long</span> <span class="hljs-variable">avg</span> <span class="hljs-operator">=</span> history.stream().mapToLong(Long::longValue).sum() / history.size();
                <span class="hljs-type">long</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> history.stream().mapToLong(Long::longValue).min().orElse(<span class="hljs-number">0</span>);
                <span class="hljs-type">long</span> <span class="hljs-variable">maxVal</span> <span class="hljs-operator">=</span> history.stream().mapToLong(Long::longValue).max().orElse(<span class="hljs-number">0</span>);
                
                System.out.printf(<span class="hljs-string">"[æœ€å°: %s, å¹³å‡: %s, æœ€å¤§: %s]\n"</span>,
                    formatBytes(min), formatBytes(avg), formatBytes(maxVal));
            }
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printGCInfo</span><span class="hljs-params">()</span> {
            List&lt;GarbageCollectorMXBean&gt; gcBeans = 
                ManagementFactory.getGarbageCollectorMXBeans();
            
            System.out.println(<span class="hljs-string">"\nåƒåœ¾å›æ”¶:"</span>);
            <span class="hljs-keyword">for</span> (GarbageCollectorMXBean gcBean : gcBeans) {
                System.out.printf(<span class="hljs-string">"  %s: æ¬¡æ•°=%d, æ—¶é—´=%,dms\n"</span>,
                    gcBean.getName(),
                    gcBean.getCollectionCount(),
                    gcBean.getCollectionTime());
            }
        }
        
        <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatBytes</span><span class="hljs-params">(<span class="hljs-type">long</span> bytes)</span> {
            <span class="hljs-keyword">if</span> (bytes &lt; <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> bytes + <span class="hljs-string">"B"</span>;
            <span class="hljs-keyword">if</span> (bytes &lt; <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.1fKB"</span>, bytes / <span class="hljs-number">1024.0</span>);
            <span class="hljs-keyword">if</span> (bytes &lt; <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.1fMB"</span>, bytes / (<span class="hljs-number">1024.0</span> * <span class="hljs-number">1024</span>));
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.1fGB"</span>, bytes / (<span class="hljs-number">1024.0</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>));
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
            scheduler.shutdown();
            System.out.println(<span class="hljs-string">"ç›‘æ§å·²åœæ­¢"</span>);
        }
    }
    
    <span class="hljs-comment">// æ€§èƒ½ç“¶é¢ˆæ£€æµ‹</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceProfiler</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, MethodStats&gt; methodStats = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodStats</span> {
            String methodName;
            <span class="hljs-type">long</span> invocationCount;
            <span class="hljs-type">long</span> totalTime;
            <span class="hljs-type">long</span> maxTime;
            <span class="hljs-type">long</span> <span class="hljs-variable">minTime</span> <span class="hljs-operator">=</span> Long.MAX_VALUE;
            
            <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordInvocation</span><span class="hljs-params">(<span class="hljs-type">long</span> duration)</span> {
                invocationCount++;
                totalTime += duration;
                maxTime = Math.max(maxTime, duration);
                minTime = Math.min(minTime, duration);
            }
            
            <span class="hljs-type">double</span> <span class="hljs-title function_">getAverageTime</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> invocationCount == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (<span class="hljs-type">double</span>) totalTime / invocationCount;
            }
        }
        
        <span class="hljs-comment">// AOPé£æ ¼çš„æ–¹æ³•æ‹¦æˆªï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
        <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">profile</span><span class="hljs-params">(Supplier&lt;T&gt; task, String methodName)</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> task.get();
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.nanoTime() - startTime;
                methodStats.computeIfAbsent(methodName, k -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodStats</span>())
                          .recordInvocation(duration);
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printProfilingReport</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">60</span>));
            System.out.println(<span class="hljs-string">"æ–¹æ³•æ€§èƒ½åˆ†ææŠ¥å‘Š"</span>);
            System.out.println(<span class="hljs-string">"="</span>.repeat(<span class="hljs-number">60</span>));
            
            methodStats.entrySet().stream()
                .sorted((a, b) -&gt; Long.compare(b.getValue().totalTime, a.getValue().totalTime))
                .limit(<span class="hljs-number">10</span>) <span class="hljs-comment">// åªæ˜¾ç¤ºæœ€è€—æ—¶çš„10ä¸ªæ–¹æ³•</span>
                .forEach(entry -&gt; {
                    <span class="hljs-type">MethodStats</span> <span class="hljs-variable">stats</span> <span class="hljs-operator">=</span> entry.getValue();
                    System.out.printf(<span class="hljs-string">"\næ–¹æ³•: %s\n"</span>, entry.getKey());
                    System.out.printf(<span class="hljs-string">"  è°ƒç”¨æ¬¡æ•°: %,d\n"</span>, stats.invocationCount);
                    System.out.printf(<span class="hljs-string">"  æ€»è€—æ—¶: %,.2fms\n"</span>, stats.totalTime / <span class="hljs-number">1_000_000.0</span>);
                    System.out.printf(<span class="hljs-string">"  å¹³å‡è€—æ—¶: %,.2fms\n"</span>, stats.getAverageTime() / <span class="hljs-number">1_000_000.0</span>);
                    System.out.printf(<span class="hljs-string">"  æœ€é•¿æ—¶é—´: %,.2fms\n"</span>, stats.maxTime / <span class="hljs-number">1_000_000.0</span>);
                    System.out.printf(<span class="hljs-string">"  æœ€çŸ­æ—¶é—´: %,.2fms\n"</span>, stats.minTime / <span class="hljs-number">1_000_000.0</span>);
                });
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== å¯è§†åŒ–ç›‘æ§å·¥å…·æ¼”ç¤º ==="</span>);
        
        <span class="hljs-comment">// å¯åŠ¨å†…å­˜ç›‘æ§</span>
        <span class="hljs-type">MemoryMonitorDashboard</span> <span class="hljs-variable">dashboard</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MemoryMonitorDashboard</span>();
        dashboard.startMonitoring(<span class="hljs-number">2</span>); <span class="hljs-comment">// æ¯2ç§’æ›´æ–°ä¸€æ¬¡</span>
        
        <span class="hljs-comment">// åˆ›å»ºæ€§èƒ½åˆ†æå™¨</span>
        <span class="hljs-type">PerformanceProfiler</span> <span class="hljs-variable">profiler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceProfiler</span>();
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€äº›æ–¹æ³•è°ƒç”¨</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            profiler.profile(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
                    Thread.sleep(<span class="hljs-number">100</span> + (<span class="hljs-type">long</span>)(Math.random() * <span class="hljs-number">100</span>));
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"æ“ä½œå®Œæˆ"</span>;
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                }
            }, <span class="hljs-string">"simulatedOperation"</span>);
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿå¦ä¸€ä¸ªæ–¹æ³•</span>
            profiler.profile(() -&gt; {
                <span class="hljs-comment">// æ¨¡æ‹Ÿè®¡ç®—å¯†é›†å‹æ“ä½œ</span>
                <span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">1000000</span>; j++) {
                    sum += j;
                }
                <span class="hljs-keyword">return</span> sum;
            }, <span class="hljs-string">"calculateSum"</span>);
            
            Thread.sleep(<span class="hljs-number">500</span>);
        }
        
        <span class="hljs-comment">// æ‰“å°æ€§èƒ½æŠ¥å‘Š</span>
        profiler.printProfilingReport();
        
        <span class="hljs-comment">// è¿è¡Œä¸€æ®µæ—¶é—´ååœæ­¢ç›‘æ§</span>
        Thread.sleep(<span class="hljs-number">10000</span>);
        dashboard.stop();
        
        System.out.println(<span class="hljs-string">"\nç›‘æ§æ¼”ç¤ºå®Œæˆ"</span>);
    }
}
</code></pre>
<h2 data-id="heading-10">å®æˆ˜ï¼šJVMè°ƒä¼˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-11">æ¡ˆä¾‹1ï¼šç”µå•†ç³»ç»Ÿè°ƒä¼˜</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ECommerceJVMOptimization</span> {
    
    <span class="hljs-comment">/**
     * ç”µå•†ç³»ç»Ÿç‰¹ç‚¹ï¼š
     * 1. é«˜å¹¶å‘ï¼šå¤§é‡ç”¨æˆ·åŒæ—¶è®¿é—®
     * 2. å¤§å†…å­˜ï¼šå•†å“ä¿¡æ¯ã€ç”¨æˆ·ä¼šè¯ç¼“å­˜
     * 3. ä½å»¶è¿Ÿï¼šé¡µé¢åŠ è½½è¦å¿«
     * 4. é¢‘ç¹GCï¼šå¤§é‡çŸ­æœŸå¯¹è±¡ï¼ˆè¯·æ±‚ã€å“åº”å¯¹è±¡ï¼‰
     */</span>
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
        <span class="hljs-comment">// å•†å“ç¼“å­˜ï¼ˆå¤§å¯¹è±¡ï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;Integer, <span class="hljs-type">byte</span>[]&gt; productCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProductService</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// åˆå§‹åŒ–ç¼“å­˜ï¼ˆæ¨¡æ‹Ÿ10000ä¸ªå•†å“ï¼Œæ¯ä¸ªå•†å“ä¿¡æ¯100KBï¼‰</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
                productCache.put(i, <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">100</span>]); <span class="hljs-comment">// 100KB</span>
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] getProduct(<span class="hljs-type">int</span> id) {
            <span class="hljs-keyword">return</span> profile(() -&gt; {
                <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡é€»è¾‘</span>
                <span class="hljs-type">byte</span>[] product = productCache.get(id);
                <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span>
                    product = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">50</span>]; <span class="hljs-comment">// 50KB</span>
                    productCache.put(id, product);
                }
                
                <span class="hljs-comment">// åˆ›å»ºå“åº”å¯¹è±¡ï¼ˆçŸ­æœŸå¯¹è±¡ï¼‰</span>
                <span class="hljs-type">byte</span>[] response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[product.length + <span class="hljs-number">1024</span>];
                System.arraycopy(product, <span class="hljs-number">0</span>, response, <span class="hljs-number">0</span>, product.length);
                
                <span class="hljs-keyword">return</span> response;
            }, <span class="hljs-string">"getProduct"</span>);
        }
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿç”¨æˆ·è¯·æ±‚</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">simulateUserRequests</span><span class="hljs-params">(<span class="hljs-type">int</span> requestCount)</span> {
            <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">50</span>);
            
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; requestCount; i++) {
                <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> i % <span class="hljs-number">10000</span>;
                executor.submit(() -&gt; {
                    getProduct(productId);
                });
            }
            
            executor.shutdown();
            <span class="hljs-keyword">try</span> {
                executor.awaitTermination(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
        }
        
        <span class="hljs-keyword">private</span> &lt;T&gt; T <span class="hljs-title function_">profile</span><span class="hljs-params">(Supplier&lt;T&gt; task, String methodName)</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> task.get();
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
                <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è®°å½•æ€§èƒ½æŒ‡æ ‡</span>
            }
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizationStrategy</span> {
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printOptimizationPlan</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"=== ç”µå•†ç³»ç»ŸJVMè°ƒä¼˜æ–¹æ¡ˆ ==="</span>);
            System.out.println(<span class="hljs-string">"\n1. å †å†…å­˜è®¾ç½®:"</span>);
            System.out.println(<span class="hljs-string">"   -Xms4g -Xmx4g  # å›ºå®šå †å¤§å°ï¼Œé¿å…å †éœ‡è¡"</span>);
            System.out.println(<span class="hljs-string">"   -XX:NewRatio=2  # æ–°ç”Ÿä»£:è€å¹´ä»£ = 1:2"</span>);
            System.out.println(<span class="hljs-string">"   -XX:SurvivorRatio=8  # Eden:Survivor = 8:1:1"</span>);
            
            System.out.println(<span class="hljs-string">"\n2. GCç­–ç•¥:"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseG1GC  # ä½¿ç”¨G1æ”¶é›†å™¨"</span>);
            System.out.println(<span class="hljs-string">"   -XX:MaxGCPauseMillis=200  # ç›®æ ‡åœé¡¿æ—¶é—´200ms"</span>);
            System.out.println(<span class="hljs-string">"   -XX:G1HeapRegionSize=4m  # åŒºåŸŸå¤§å°4MB"</span>);
            System.out.println(<span class="hljs-string">"   -XX:InitiatingHeapOccupancyPercent=45  # IHOPé˜ˆå€¼"</span>);
            
            System.out.println(<span class="hljs-string">"\n3. å…ƒç©ºé—´è®¾ç½®:"</span>);
            System.out.println(<span class="hljs-string">"   -XX:MetaspaceSize=256m"</span>);
            System.out.println(<span class="hljs-string">"   -XX:MaxMetaspaceSize=512m"</span>);
            
            System.out.println(<span class="hljs-string">"\n4. ä»£ç ä¼˜åŒ–å»ºè®®:"</span>);
            System.out.println(<span class="hljs-string">"   a. ä½¿ç”¨å¯¹è±¡æ± å¤ç”¨å¤§å¯¹è±¡"</span>);
            System.out.println(<span class="hljs-string">"   b. é¿å…åœ¨çƒ­ç‚¹è·¯å¾„ä¸­åˆ›å»ºå¤§æ•°ç»„"</span>);
            System.out.println(<span class="hljs-string">"   c. ä½¿ç”¨è½¯å¼•ç”¨/å¼±å¼•ç”¨ç¼“å­˜"</span>);
            System.out.println(<span class="hljs-string">"   d. åŠæ—¶æ¸…ç†ä¼šè¯æ•°æ®"</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">implementObjectPool</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== å¯¹è±¡æ± å®ç°ç¤ºä¾‹ ==="</span>);
            
            <span class="hljs-comment">// ç®€å•å¯¹è±¡æ± å®ç°</span>
            <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteArrayPool</span> {
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Queue&lt;<span class="hljs-type">byte</span>[]&gt; pool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentLinkedQueue</span>&lt;&gt;();
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> arraySize;
                
                <span class="hljs-keyword">public</span> <span class="hljs-title function_">ByteArrayPool</span><span class="hljs-params">(<span class="hljs-type">int</span> arraySize, <span class="hljs-type">int</span> initialSize)</span> {
                    <span class="hljs-built_in">this</span>.arraySize = arraySize;
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; initialSize; i++) {
                        pool.offer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[arraySize]);
                    }
                }
                
                <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] borrow() {
                    <span class="hljs-type">byte</span>[] array = pool.poll();
                    <span class="hljs-keyword">if</span> (array == <span class="hljs-literal">null</span>) {
                        array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[arraySize];
                    }
                    <span class="hljs-keyword">return</span> array;
                }
                
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">returnObject</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] array)</span> {
                    <span class="hljs-keyword">if</span> (array != <span class="hljs-literal">null</span> &amp;&amp; array.length == arraySize) {
                        <span class="hljs-comment">// æ¸…ç©ºæ•°ç»„å†…å®¹</span>
                        Arrays.fill(array, (<span class="hljs-type">byte</span>) <span class="hljs-number">0</span>);
                        pool.offer(array);
                    }
                }
            }
            
            <span class="hljs-comment">// ä½¿ç”¨å¯¹è±¡æ± </span>
            <span class="hljs-type">ByteArrayPool</span> <span class="hljs-variable">pool</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayPool</span>(<span class="hljs-number">1024</span> * <span class="hljs-number">100</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">// 100KB * 100</span>
            
            <span class="hljs-comment">// å€Ÿç”¨å¯¹è±¡</span>
            <span class="hljs-type">byte</span>[] buffer = pool.borrow();
            
            <span class="hljs-comment">// ä½¿ç”¨å¯¹è±¡...</span>
            
            <span class="hljs-comment">// å½’è¿˜å¯¹è±¡</span>
            pool.returnObject(buffer);
            
            System.out.println(<span class="hljs-string">"å¯¹è±¡æ± å®ç°å®Œæˆï¼Œå‡å°‘å¯¹è±¡åˆ›å»ºå¼€é”€"</span>);
        }
    }
    
    <span class="hljs-comment">// å‹åŠ›æµ‹è¯•å·¥å…·</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StressTester</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ProductService productService;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">StressTester</span><span class="hljs-params">(ProductService productService)</span> {
            <span class="hljs-built_in">this</span>.productService = productService;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runTest</span><span class="hljs-params">(<span class="hljs-type">int</span> durationSeconds, <span class="hljs-type">int</span> threads)</span> {
            System.out.println(<span class="hljs-string">"å¼€å§‹å‹åŠ›æµ‹è¯•:"</span>);
            System.out.println(<span class="hljs-string">"  æŒç»­æ—¶é—´: "</span> + durationSeconds + <span class="hljs-string">"ç§’"</span>);
            System.out.println(<span class="hljs-string">"  å¹¶å‘çº¿ç¨‹: "</span> + threads);
            
            <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(threads);
            <span class="hljs-type">AtomicLong</span> <span class="hljs-variable">requestCount</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>();
            <span class="hljs-type">AtomicBoolean</span> <span class="hljs-variable">running</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicBoolean</span>(<span class="hljs-literal">true</span>);
            
            <span class="hljs-comment">// ç›‘æ§çº¿ç¨‹</span>
            <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">monitor</span> <span class="hljs-operator">=</span> Executors.newSingleThreadScheduledExecutor();
            monitor.scheduleAtFixedRate(() -&gt; {
                System.out.println(<span class="hljs-string">"å½“å‰QPS: "</span> + requestCount.getAndSet(<span class="hljs-number">0</span>) + <span class="hljs-string">" è¯·æ±‚/ç§’"</span>);
            }, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, TimeUnit.SECONDS);
            
            <span class="hljs-comment">// å·¥ä½œçº¿ç¨‹</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; threads; i++) {
                executor.submit(() -&gt; {
                    <span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();
                    <span class="hljs-keyword">while</span> (running.get()) {
                        <span class="hljs-keyword">try</span> {
                            productService.getProduct(random.nextInt(<span class="hljs-number">10000</span>));
                            requestCount.incrementAndGet();
                            Thread.sleep(random.nextInt(<span class="hljs-number">10</span>)); <span class="hljs-comment">// æ¨¡æ‹Ÿæ€è€ƒæ—¶é—´</span>
                        } <span class="hljs-keyword">catch</span> (Exception e) {
                            e.printStackTrace();
                        }
                    }
                });
            }
            
            <span class="hljs-comment">// è¿è¡ŒæŒ‡å®šæ—¶é—´</span>
            <span class="hljs-keyword">try</span> {
                Thread.sleep(durationSeconds * <span class="hljs-number">1000L</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
            
            running.set(<span class="hljs-literal">false</span>);
            
            <span class="hljs-comment">// æ¸…ç†</span>
            executor.shutdown();
            monitor.shutdown();
            
            <span class="hljs-keyword">try</span> {
                executor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
                monitor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
            
            System.out.println(<span class="hljs-string">"å‹åŠ›æµ‹è¯•å®Œæˆ"</span>);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== ç”µå•†ç³»ç»ŸJVMè°ƒä¼˜å®æˆ˜ ==="</span>);
        
        <span class="hljs-comment">// æ˜¾ç¤ºè°ƒä¼˜æ–¹æ¡ˆ</span>
        OptimizationStrategy.printOptimizationPlan();
        OptimizationStrategy.implementObjectPool();
        
        <span class="hljs-comment">// åˆ›å»ºæœåŠ¡</span>
        <span class="hljs-type">ProductService</span> <span class="hljs-variable">productService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();
        
        <span class="hljs-comment">// è¿è¡Œå‹åŠ›æµ‹è¯•</span>
        <span class="hljs-type">StressTester</span> <span class="hljs-variable">tester</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StressTester</span>(productService);
        tester.runTest(<span class="hljs-number">30</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">// 30ç§’ï¼Œ100å¹¶å‘</span>
        
        <span class="hljs-comment">// æ˜¾ç¤ºGCç»Ÿè®¡</span>
        List&lt;GarbageCollectorMXBean&gt; gcBeans = 
            ManagementFactory.getGarbageCollectorMXBeans();
        
        System.out.println(<span class="hljs-string">"\n=== GCç»Ÿè®¡ ==="</span>);
        <span class="hljs-keyword">for</span> (GarbageCollectorMXBean gcBean : gcBeans) {
            System.out.printf(<span class="hljs-string">"%s: %dæ¬¡, %dms\n"</span>,
                gcBean.getName(),
                gcBean.getCollectionCount(),
                gcBean.getCollectionTime());
        }
        
        <span class="hljs-comment">// å†…å­˜ä½¿ç”¨ç»Ÿè®¡</span>
        <span class="hljs-type">MemoryMXBean</span> <span class="hljs-variable">memoryBean</span> <span class="hljs-operator">=</span> ManagementFactory.getMemoryMXBean();
        <span class="hljs-type">MemoryUsage</span> <span class="hljs-variable">heapUsage</span> <span class="hljs-operator">=</span> memoryBean.getHeapMemoryUsage();
        
        System.out.printf(<span class="hljs-string">"\nå †å†…å­˜ä½¿ç”¨: %.2fMB / %.2fMB (%.1f%%)\n"</span>,
            heapUsage.getUsed() / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>,
            heapUsage.getCommitted() / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>,
            (heapUsage.getUsed() * <span class="hljs-number">100.0</span> / heapUsage.getCommitted()));
    }
}
</code></pre>
<h3 data-id="heading-12">æ¡ˆä¾‹2ï¼šå¤§æ•°æ®å¤„ç†ç³»ç»Ÿè°ƒä¼˜</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigDataJVMOptimization</span> {
    
    <span class="hljs-comment">/**
     * å¤§æ•°æ®å¤„ç†ç³»ç»Ÿç‰¹ç‚¹ï¼š
     * 1. å¤§å†…å­˜éœ€æ±‚ï¼šå¤„ç†å¤§é‡æ•°æ®
     * 2. è®¡ç®—å¯†é›†å‹ï¼šCPUä½¿ç”¨ç‡é«˜
     * 3. å¤§é‡ä¸´æ—¶å¯¹è±¡ï¼šä¸­é—´è®¡ç®—ç»“æœ
     * 4. éœ€è¦é«˜ååé‡
     */</span>
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessor</span> {
        <span class="hljs-comment">// å¤„ç†å¤§æ•°æ®é›†</span>
        <span class="hljs-keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">processLargeDataset</span><span class="hljs-params">(List&lt;<span class="hljs-type">byte</span>[]&gt; dataset)</span> {
            <span class="hljs-keyword">return</span> profile(() -&gt; {
                List&lt;Map&lt;String, Object&gt;&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
                
                <span class="hljs-keyword">for</span> (<span class="hljs-type">byte</span>[] data : dataset) {
                    <span class="hljs-comment">// è§£ææ•°æ®ï¼ˆåˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼‰</span>
                    Map&lt;String, Object&gt; record = parseRecord(data);
                    
                    <span class="hljs-comment">// è½¬æ¢æ•°æ®ï¼ˆæ›´å¤šä¸´æ—¶å¯¹è±¡ï¼‰</span>
                    Map&lt;String, Object&gt; transformed = transformRecord(record);
                    
                    <span class="hljs-comment">// èšåˆè®¡ç®—</span>
                    Map&lt;String, Object&gt; aggregated = aggregateRecord(transformed);
                    
                    results.add(aggregated);
                }
                
                <span class="hljs-keyword">return</span> results;
            }, <span class="hljs-string">"processLargeDataset"</span>);
        }
        
        <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">parseRecord</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] data)</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿè§£æï¼Œåˆ›å»ºä¸´æ—¶å¯¹è±¡</span>
            Map&lt;String, Object&gt; record = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            record.put(<span class="hljs-string">"raw"</span>, data);
            record.put(<span class="hljs-string">"timestamp"</span>, System.currentTimeMillis());
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿå­—ç¬¦ä¸²å¤„ç†ï¼ˆå®¹æ˜“äº§ç”Ÿå¤§é‡ä¸´æ—¶å¯¹è±¡ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(data, <span class="hljs-number">0</span>, Math.min(<span class="hljs-number">100</span>, data.length));
            record.put(<span class="hljs-string">"text"</span>, text.toUpperCase().trim());
            
            <span class="hljs-keyword">return</span> record;
        }
        
        <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">transformRecord</span><span class="hljs-params">(Map&lt;String, Object&gt; record)</span> {
            Map&lt;String, Object&gt; transformed = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(record);
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®è½¬æ¢</span>
            transformed.put(<span class="hljs-string">"processed"</span>, <span class="hljs-literal">true</span>);
            transformed.put(<span class="hljs-string">"version"</span>, <span class="hljs-number">2</span>);
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿè®¡ç®—</span>
            <span class="hljs-type">double</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> Math.random() * <span class="hljs-number">1000</span>;
            transformed.put(<span class="hljs-string">"calculated"</span>, value);
            
            <span class="hljs-keyword">return</span> transformed;
        }
        
        <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">aggregateRecord</span><span class="hljs-params">(Map&lt;String, Object&gt; record)</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿèšåˆï¼Œé‡ç”¨éƒ¨åˆ†å¯¹è±¡</span>
            Map&lt;String, Object&gt; aggregated = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            
            <span class="hljs-comment">// é€‰æ‹©æ€§å¤åˆ¶ï¼Œé¿å…å¤åˆ¶æ•´ä¸ªmap</span>
            aggregated.put(<span class="hljs-string">"key"</span>, record.get(<span class="hljs-string">"timestamp"</span>));
            aggregated.put(<span class="hljs-string">"value"</span>, record.get(<span class="hljs-string">"calculated"</span>));
            
            <span class="hljs-keyword">return</span> aggregated;
        }
        
        <span class="hljs-comment">// ä¼˜åŒ–ç‰ˆæœ¬ï¼šå‡å°‘å¯¹è±¡åˆ›å»º</span>
        <span class="hljs-keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">processLargeDatasetOptimized</span><span class="hljs-params">(List&lt;<span class="hljs-type">byte</span>[]&gt; dataset)</span> {
            <span class="hljs-keyword">return</span> profile(() -&gt; {
                List&lt;Map&lt;String, Object&gt;&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(dataset.size());
                
                <span class="hljs-comment">// é‡ç”¨å¯¹è±¡</span>
                Map&lt;String, Object&gt; reusableMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(<span class="hljs-number">4</span>);
                
                <span class="hljs-keyword">for</span> (<span class="hljs-type">byte</span>[] data : dataset) {
                    <span class="hljs-comment">// æ¸…ç©ºé‡ç”¨map</span>
                    reusableMap.clear();
                    
                    <span class="hljs-comment">// ç›´æ¥å¡«å……ï¼Œé¿å…åˆ›å»ºä¸­é—´å¯¹è±¡</span>
                    reusableMap.put(<span class="hljs-string">"raw"</span>, data);
                    reusableMap.put(<span class="hljs-string">"timestamp"</span>, System.currentTimeMillis());
                    
                    <span class="hljs-comment">// é‡ç”¨StringBuilderé¿å…åˆ›å»ºå¤šä¸ªStringå¯¹è±¡</span>
                    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">textBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-number">100</span>);
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; Math.min(<span class="hljs-number">100</span>, data.length); i++) {
                        textBuilder.append((<span class="hljs-type">char</span>) (data[i] &amp; <span class="hljs-number">0xFF</span>));
                    }
                    reusableMap.put(<span class="hljs-string">"text"</span>, textBuilder.toString().toUpperCase().trim());
                    textBuilder.setLength(<span class="hljs-number">0</span>); <span class="hljs-comment">// é‡ç½®StringBuilder</span>
                    
                    reusableMap.put(<span class="hljs-string">"processed"</span>, <span class="hljs-literal">true</span>);
                    reusableMap.put(<span class="hljs-string">"version"</span>, <span class="hljs-number">2</span>);
                    reusableMap.put(<span class="hljs-string">"calculated"</span>, Math.random() * <span class="hljs-number">1000</span>);
                    
                    <span class="hljs-comment">// åˆ›å»ºæ–°mapä¿å­˜ç»“æœï¼ˆéœ€è¦ä¸åŒçš„å®ä¾‹ï¼‰</span>
                    results.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(reusableMap));
                }
                
                <span class="hljs-keyword">return</span> results;
            }, <span class="hljs-string">"processLargeDatasetOptimized"</span>);
        }
        
        <span class="hljs-keyword">private</span> &lt;T&gt; T <span class="hljs-title function_">profile</span><span class="hljs-params">(Supplier&lt;T&gt; task, String methodName)</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-type">long</span> <span class="hljs-variable">startMem</span> <span class="hljs-operator">=</span> Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> task.get();
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
                <span class="hljs-type">long</span> <span class="hljs-variable">endMem</span> <span class="hljs-operator">=</span> Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();
                <span class="hljs-type">long</span> <span class="hljs-variable">memUsed</span> <span class="hljs-operator">=</span> endMem - startMem;
                
                System.out.printf(<span class="hljs-string">"%s: è€—æ—¶=%,.2fms, å†…å­˜ä½¿ç”¨=%,.2fMB\n"</span>,
                    methodName,
                    duration / <span class="hljs-number">1_000_000.0</span>,
                    memUsed / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>);
            }
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigDataOptimizationStrategy</span> {
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printOptimizationPlan</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"=== å¤§æ•°æ®å¤„ç†ç³»ç»ŸJVMè°ƒä¼˜æ–¹æ¡ˆ ==="</span>);
            
            System.out.println(<span class="hljs-string">"\n1. å†…å­˜è®¾ç½®ï¼ˆå¤§å†…å­˜é…ç½®ï¼‰:"</span>);
            System.out.println(<span class="hljs-string">"   -Xms16g -Xmx16g  # å¤§å †å†…å­˜"</span>);
            System.out.println(<span class="hljs-string">"   -XX:NewSize=8g -XX:MaxNewSize=8g  # å¤§æ–°ç”Ÿä»£"</span>);
            System.out.println(<span class="hljs-string">"   -XX:SurvivorRatio=6  # æ›´å¤§çš„EdenåŒº"</span>);
            
            System.out.println(<span class="hljs-string">"\n2. GCç­–ç•¥ï¼ˆååé‡ä¼˜å…ˆï¼‰:"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseParallelGC  # å¹¶è¡Œæ”¶é›†å™¨"</span>);
            System.out.println(<span class="hljs-string">"   -XX:ParallelGCThreads=8  # GCçº¿ç¨‹æ•°"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseAdaptiveSizePolicy  # è‡ªé€‚åº”å¤§å°ç­–ç•¥"</span>);
            System.out.println(<span class="hljs-string">"   -XX:GCTimeRatio=19  # GCæ—¶é—´æ¯”ç‡ (1/(1+19)=5%)"</span>);
            
            System.out.println(<span class="hljs-string">"\n3. å­—ç¬¦ä¸²ä¼˜åŒ–:"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseStringDeduplication  # å­—ç¬¦ä¸²å»é‡"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+OptimizeStringConcat  # å­—ç¬¦ä¸²è¿æ¥ä¼˜åŒ–"</span>);
            
            System.out.println(<span class="hljs-string">"\n4. ç¼–è¯‘ä¼˜åŒ–:"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseLargePages  # å¤§å†…å­˜é¡µ"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+AggressiveOpts  # æ¿€è¿›ä¼˜åŒ–"</span>);
            System.out.println(<span class="hljs-string">"   -XX:+UseCompressedOops  # å‹ç¼©æŒ‡é’ˆ"</span>);
            
            System.out.println(<span class="hljs-string">"\n5. ä»£ç çº§ä¼˜åŒ–:"</span>);
            System.out.println(<span class="hljs-string">"   a. ä½¿ç”¨åŸå§‹ç±»å‹é›†åˆï¼ˆfastutil, kolobokeï¼‰"</span>);
            System.out.println(<span class="hljs-string">"   b. å¯¹è±¡æ± æŠ€æœ¯"</span>);
            System.out.println(<span class="hljs-string">"   c. å †å¤–å†…å­˜å¤„ç†å¤§æ•°ç»„"</span>);
            System.out.println(<span class="hljs-string">"   d. æµå¼å¤„ç†å‡å°‘å†…å­˜å ç”¨"</span>);
        }
        
        <span class="hljs-comment">// ä½¿ç”¨å †å¤–å†…å­˜å¤„ç†å¤§æ•°ç»„</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">demonstrateOffHeapMemory</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== å †å¤–å†…å­˜ç¤ºä¾‹ ==="</span>);
            
            <span class="hljs-type">int</span> <span class="hljs-variable">bufferSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">100</span>; <span class="hljs-comment">// 100MB</span>
            <span class="hljs-type">ByteBuffer</span> <span class="hljs-variable">offHeapBuffer</span> <span class="hljs-operator">=</span> ByteBuffer.allocateDirect(bufferSize);
            
            System.out.println(<span class="hljs-string">"åˆ†é…äº† "</span> + (bufferSize / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">"MB å †å¤–å†…å­˜"</span>);
            
            <span class="hljs-comment">// å†™å…¥æ•°æ®</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
                offHeapBuffer.putInt(i);
            }
            
            <span class="hljs-comment">// è¯»å–æ•°æ®</span>
            offHeapBuffer.flip();
            <span class="hljs-keyword">while</span> (offHeapBuffer.hasRemaining()) {
                <span class="hljs-type">int</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> offHeapBuffer.getInt();
                <span class="hljs-comment">// å¤„ç†æ•°æ®...</span>
            }
            
            System.out.println(<span class="hljs-string">"å †å¤–å†…å­˜ä½¿ç”¨å®Œæˆï¼Œä¸å ç”¨å †ç©ºé—´"</span>);
            
            <span class="hljs-comment">// æ³¨æ„ï¼šå †å¤–å†…å­˜éœ€è¦æ‰‹åŠ¨ç®¡ç†</span>
            <span class="hljs-comment">// å®é™…ä¸­åº”è¯¥ä½¿ç”¨try-with-resourcesæˆ–æ˜¾å¼æ¸…ç†</span>
        }
        
        <span class="hljs-comment">// ä½¿ç”¨åŸå§‹ç±»å‹é›†åˆ</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">demonstratePrimitiveCollections</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== åŸå§‹ç±»å‹é›†åˆç¤ºä¾‹ ==="</span>);
            
            <span class="hljs-comment">// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å¦‚fastutilï¼ˆè¿™é‡Œç”¨æ ‡å‡†APIæ¼”ç¤ºæ€è·¯ï¼‰</span>
            List&lt;Integer&gt; standardList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-type">IntBuffer</span> <span class="hljs-variable">primitiveBuffer</span> <span class="hljs-operator">=</span> IntBuffer.allocate(<span class="hljs-number">1000000</span>);
            
            <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
                standardList.add(i); <span class="hljs-comment">// è‡ªåŠ¨è£…ç®±ï¼Œåˆ›å»ºIntegerå¯¹è±¡</span>
            }
            <span class="hljs-type">long</span> <span class="hljs-variable">standardTime</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
            
            start = System.nanoTime();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
                primitiveBuffer.put(i); <span class="hljs-comment">// ç›´æ¥å­˜å‚¨int</span>
            }
            <span class="hljs-type">long</span> <span class="hljs-variable">primitiveTime</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
            
            System.out.printf(<span class="hljs-string">"æ ‡å‡†ArrayList: %,.2fms\n"</span>, standardTime / <span class="hljs-number">1_000_000.0</span>);
            System.out.printf(<span class="hljs-string">"åŸå§‹ç±»å‹Buffer: %,.2fms\n"</span>, primitiveTime / <span class="hljs-number">1_000_000.0</span>);
            System.out.println(<span class="hljs-string">"åŸå§‹ç±»å‹é›†åˆå‡å°‘äº†å¯¹è±¡åˆ›å»ºå’Œå†…å­˜å ç”¨"</span>);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== å¤§æ•°æ®å¤„ç†ç³»ç»Ÿè°ƒä¼˜å®æˆ˜ ==="</span>);
        
        <span class="hljs-comment">// æ˜¾ç¤ºè°ƒä¼˜æ–¹æ¡ˆ</span>
        BigDataOptimizationStrategy.printOptimizationPlan();
        BigDataOptimizationStrategy.demonstrateOffHeapMemory();
        BigDataOptimizationStrategy.demonstratePrimitiveCollections();
        
        <span class="hljs-comment">// åˆ›å»ºæµ‹è¯•æ•°æ®</span>
        List&lt;<span class="hljs-type">byte</span>[]&gt; testDataset = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
            testDataset.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>]); <span class="hljs-comment">// æ¯ä¸ªè®°å½•1KB</span>
        }
        
        <span class="hljs-comment">// åˆ›å»ºå¤„ç†å™¨</span>
        <span class="hljs-type">DataProcessor</span> <span class="hljs-variable">processor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataProcessor</span>();
        
        System.out.println(<span class="hljs-string">"\n=== æ€§èƒ½å¯¹æ¯”æµ‹è¯• ==="</span>);
        
        <span class="hljs-comment">// æµ‹è¯•æ™®é€šç‰ˆæœ¬</span>
        System.out.println(<span class="hljs-string">"\n1. æ™®é€šç‰ˆæœ¬:"</span>);
        List&lt;Map&lt;String, Object&gt;&gt; result1 = processor.processLargeDataset(testDataset);
        System.gc();
        
        <span class="hljs-comment">// æµ‹è¯•ä¼˜åŒ–ç‰ˆæœ¬</span>
        System.out.println(<span class="hljs-string">"\n2. ä¼˜åŒ–ç‰ˆæœ¬:"</span>);
        List&lt;Map&lt;String, Object&gt;&gt; result2 = processor.processLargeDatasetOptimized(testDataset);
        System.gc();
        
        System.out.println(<span class="hljs-string">"\nå¤„ç†å®Œæˆï¼Œç»“æœæ•°é‡: "</span> + result1.size());
        
        <span class="hljs-comment">// æ˜¾ç¤ºå†…å­˜çŠ¶æ€</span>
        <span class="hljs-type">Runtime</span> <span class="hljs-variable">runtime</span> <span class="hljs-operator">=</span> Runtime.getRuntime();
        System.out.printf(<span class="hljs-string">"\nå†…å­˜çŠ¶æ€:\n"</span>);
        System.out.printf(<span class="hljs-string">"  æœ€å¤§å†…å­˜: %,.2fMB\n"</span>, runtime.maxMemory() / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>);
        System.out.printf(<span class="hljs-string">"  æ€»å†…å­˜: %,.2fMB\n"</span>, runtime.totalMemory() / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>);
        System.out.printf(<span class="hljs-string">"  ç©ºé—²å†…å­˜: %,.2fMB\n"</span>, runtime.freeMemory() / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>);
        System.out.printf(<span class="hljs-string">"  å·²ç”¨å†…å­˜: %,.2fMB\n"</span>, 
            (runtime.totalMemory() - runtime.freeMemory()) / <span class="hljs-number">1024.0</span> / <span class="hljs-number">1024</span>);
    }
}
</code></pre>
<h2 data-id="heading-13">æ€»ç»“ï¼šJVMè°ƒä¼˜æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">è°ƒä¼˜åŸåˆ™</h3>
<ol>
<li><strong>æµ‹é‡å…ˆè¡Œ</strong>ï¼šä¸è¦çŒœæµ‹ï¼Œä½¿ç”¨ç›‘æ§å·¥å…·æ”¶é›†æ•°æ®</li>
<li><strong>é€æ­¥è°ƒæ•´</strong>ï¼šæ¯æ¬¡åªè°ƒæ•´ä¸€ä¸ªå‚æ•°ï¼Œè§‚å¯Ÿæ•ˆæœ</li>
<li><strong>å…³æ³¨ä¸šåŠ¡</strong>ï¼šè°ƒä¼˜çš„ç›®æ ‡æ˜¯æ”¹å–„ä¸šåŠ¡æŒ‡æ ‡ï¼Œä¸æ˜¯è¿½æ±‚æè‡´å‚æ•°</li>
<li><strong>ç†è§£åŸç†</strong>ï¼šç†è§£GCç®—æ³•å’Œå†…å­˜ç®¡ç†åŸç†</li>
</ol>
<h3 data-id="heading-15">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>



































<table><thead><tr><th>é—®é¢˜</th><th>ç—‡çŠ¶</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>Full GCé¢‘ç¹</td><td>åº”ç”¨åœé¡¿é¢‘ç¹ï¼Œå“åº”æ—¶é—´æ³¢åŠ¨</td><td>å¢åŠ å †å¤§å°ï¼Œä¼˜åŒ–å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</td></tr><tr><td>å†…å­˜æ³„æ¼</td><td>å†…å­˜ä½¿ç”¨æŒç»­å¢é•¿ï¼Œæœ€ç»ˆOOM</td><td>ä½¿ç”¨å †è½¬å‚¨åˆ†æï¼Œä¿®å¤èµ„æºæœªé‡Šæ”¾</td></tr><tr><td>é«˜å»¶è¿Ÿ</td><td>åº”ç”¨å“åº”æ…¢ï¼ŒGCåœé¡¿é•¿</td><td>ä½¿ç”¨ä½å»¶è¿ŸGCï¼ˆZGC/Shenandoahï¼‰</td></tr><tr><td>ä½ååé‡</td><td>CPUä½¿ç”¨ç‡é«˜ä½†å¤„ç†é‡ä½</td><td>ä¼˜åŒ–ä»£ç ï¼Œè°ƒæ•´GCå¹¶è¡Œåº¦</td></tr><tr><td>å…ƒç©ºé—´æº¢å‡º</td><td>ç±»åŠ è½½å¤±è´¥ï¼ŒMetaspaceæ»¡</td><td>å¢åŠ MaxMetaspaceSizeï¼Œæ£€æŸ¥ç±»åŠ è½½å™¨æ³„æ¼</td></tr></tbody></table>
<h3 data-id="heading-16">è°ƒä¼˜æ£€æŸ¥æ¸…å•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JVMTuningChecklist</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printChecklist</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"=== JVMè°ƒä¼˜æ£€æŸ¥æ¸…å• ==="</span>);
        
        System.out.println(<span class="hljs-string">"\n1. å†…å­˜è®¾ç½®æ£€æŸ¥:"</span>);
        System.out.println(<span class="hljs-string">"   â˜ -Xmså’Œ-Xmxè®¾ç½®ç›¸åŒå€¼ï¼Œé¿å…å †éœ‡è¡"</span>);
        System.out.println(<span class="hljs-string">"   â˜ å †å¤§å°è®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„50-75%"</span>);
        System.println(<span class="hljs-string">"   â˜ å¹´è½»ä»£å¤§å°åˆé€‚ï¼ˆé€šå¸¸æ˜¯å †çš„1/3åˆ°1/2ï¼‰"</span>);
        System.out.println(<span class="hljs-string">"   â˜ è®¾ç½®äº†åˆç†çš„Metaspaceå¤§å°"</span>);
        
        System.out.println(<span class="hljs-string">"\n2. GCé…ç½®æ£€æŸ¥:"</span>);
        System.out.println(<span class="hljs-string">"   â˜ é€‰æ‹©äº†åˆé€‚çš„GCæ”¶é›†å™¨"</span>);
        System.out.println(<span class="hljs-string">"   â˜ è®¾ç½®äº†åˆç†çš„GCçº¿ç¨‹æ•°"</span>);
        System.out.println(<span class="hljs-string">"   â˜ é…ç½®äº†GCæ—¥å¿—è®°å½•"</span>);
        System.out.println(<span class="hljs-string">"   â˜ è€ƒè™‘äº†åœé¡¿æ—¶é—´ç›®æ ‡"</span>);
        
        System.out.println(<span class="hljs-string">"\n3. ç›‘æ§é…ç½®æ£€æŸ¥:"</span>);
        System.out.println(<span class="hljs-string">"   â˜ å¯ç”¨äº†JMXç›‘æ§"</span>);
        System.out.println(<span class="hljs-string">"   â˜ é…ç½®äº†GCæ—¥å¿—è½®è½¬"</span>);
        System.out.println(<span class="hljs-string">"   â˜ è®¾ç½®äº†å †è½¬å‚¨å‚æ•°"</span>);
        System.out.println(<span class="hljs-string">"   â˜ é…ç½®äº†æ€§èƒ½æŒ‡æ ‡æ”¶é›†"</span>);
        
        System.out.println(<span class="hljs-string">"\n4. ä»£ç ä¼˜åŒ–æ£€æŸ¥:"</span>);
        System.out.println(<span class="hljs-string">"   â˜ é¿å…å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£"</span>);
        System.out.println(<span class="hljs-string">"   â˜ åˆç†ä½¿ç”¨ç¼“å­˜ï¼ˆå¤§å°é™åˆ¶ã€è¿‡æœŸç­–ç•¥ï¼‰"</span>);
        System.out.println(<span class="hljs-string">"   â˜ åŠæ—¶å…³é—­èµ„æºï¼ˆè¿æ¥ã€æµï¼‰"</span>);
        System.out.println(<span class="hljs-string">"   â˜ ä½¿ç”¨åˆé€‚çš„æ•°æ®ç»“æ„"</span>);
        
        System.out.println(<span class="hljs-string">"\n5. éƒ¨ç½²ç¯å¢ƒæ£€æŸ¥:"</span>);
        System.out.println(<span class="hljs-string">"   â˜ å®¹å™¨å†…å­˜é™åˆ¶è®¾ç½®æ­£ç¡®"</span>);
        System.out.println(<span class="hljs-string">"   â˜ ç³»ç»Ÿäº¤æ¢ç©ºé—´è¶³å¤Ÿ"</span>);
        System.out.println(<span class="hljs-string">"   â˜ æ–‡ä»¶æè¿°ç¬¦é™åˆ¶åˆé€‚"</span>);
        System.out.println(<span class="hljs-string">"   â˜ ç½‘ç»œé…ç½®ä¼˜åŒ–"</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printCommonParameters</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"\n=== å¸¸ç”¨JVMå‚æ•° ==="</span>);
        
        System.out.println(<span class="hljs-string">"\nå†…å­˜ç›¸å…³:"</span>);
        System.out.println(<span class="hljs-string">"  -Xms4g -Xmx4g                    # å †å†…å­˜"</span>);
        System.out.println(<span class="hljs-string">"  -XX:MetaspaceSize=256m          # å…ƒç©ºé—´åˆå§‹å¤§å°"</span>);
        System.out.println(<span class="hljs-string">"  -XX:MaxMetaspaceSize=512m       # å…ƒç©ºé—´æœ€å¤§å¤§å°"</span>);
        System.out.println(<span class="hljs-string">"  -XX:NewRatio=2                  # æ–°ç”Ÿä»£:è€å¹´ä»£æ¯”ä¾‹"</span>);
        System.out.println(<span class="hljs-string">"  -XX:SurvivorRatio=8             # Eden:Survivoræ¯”ä¾‹"</span>);
        
        System.out.println(<span class="hljs-string">"\nGCç›¸å…³:"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseG1GC                    # ä½¿ç”¨G1æ”¶é›†å™¨"</span>);
        System.out.println(<span class="hljs-string">"  -XX:MaxGCPauseMillis=200        # ç›®æ ‡åœé¡¿æ—¶é—´"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseParallelGC              # ä½¿ç”¨å¹¶è¡Œæ”¶é›†å™¨"</span>);
        System.out.println(<span class="hljs-string">"  -XX:ParallelGCThreads=8         # GCçº¿ç¨‹æ•°"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseZGC                     # ä½¿ç”¨ZGCæ”¶é›†å™¨"</span>);
        
        System.out.println(<span class="hljs-string">"\nç›‘æ§è°ƒè¯•:"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+PrintGCDetails             # æ‰“å°GCè¯¦æƒ…"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+PrintGCDateStamps          # æ‰“å°GCæ—¶é—´æˆ³"</span>);
        System.out.println(<span class="hljs-string">"  -Xloggc:/path/to/gc.log         # GCæ—¥å¿—è·¯å¾„"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+HeapDumpOnOutOfMemoryError # OOMæ—¶å †è½¬å‚¨"</span>);
        System.out.println(<span class="hljs-string">"  -XX:HeapDumpPath=/path/to/dump  # å †è½¬å‚¨è·¯å¾„"</span>);
        
        System.out.println(<span class="hljs-string">"\næ€§èƒ½ä¼˜åŒ–:"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseStringDeduplication     # å­—ç¬¦ä¸²å»é‡"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+OptimizeStringConcat       # å­—ç¬¦ä¸²è¿æ¥ä¼˜åŒ–"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseCompressedOops          # å‹ç¼©æŒ‡é’ˆ"</span>);
        System.out.println(<span class="hljs-string">"  -XX:+UseLargePages              # ä½¿ç”¨å¤§å†…å­˜é¡µ"</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        printChecklist();
        printCommonParameters();
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŒ–åˆ° 5 ä¸ªå¾ˆå“‡å¡çš„ AI å¼€æºé¡¹ç›®ï¼Œå¿«æ¥ç§ç§ã€‚]]></title>    <link>https://juejin.cn/post/7582535649275920425</link>    <guid>https://juejin.cn/post/7582535649275920425</guid>    <pubDate>2025-12-12T06:09:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582535649275920425" data-draft-id="7582535649275904041" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŒ–åˆ° 5 ä¸ªå¾ˆå“‡å¡çš„ AI å¼€æºé¡¹ç›®ï¼Œå¿«æ¥ç§ç§ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-12T06:09:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŒ–åˆ° 5 ä¸ªå¾ˆå“‡å¡çš„ AI å¼€æºé¡¹ç›®ï¼Œå¿«æ¥ç§ç§ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:09:54.000Z" title="Fri Dec 12 2025 06:09:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€Nano Banana PPT</h2>
<p><strong>Banana-slides</strong>Â æ˜¯åŸºäº Nano Banana Pro æ¨¡å‹å¼€æºçš„ AI PPT ç”Ÿæˆåº”ç”¨ï¼Œè§£å†³ä¼ ç»Ÿ AI PPT å·¥å…·æ¨¡æ¿åƒµåŒ–ã€è®¾è®¡æ„Ÿå·®å’Œç´ æè´¨é‡ä½çš„é—®é¢˜ã€‚</p>
<p><strong>ä¸€å¥è¯ç”Ÿæˆ PPT</strong>ï¼šä»ä¸€ä¸ªç®€å•çš„æƒ³æ³•å¿«é€Ÿå¾—åˆ°å¤§çº²ã€é¡µé¢æè¿°å’Œæœ€ç»ˆçš„ PPT æ–‡ç¨¿</p>
<p>è¿˜å¯ä»¥ä¸Šä¼ å‚è€ƒé£æ ¼å›¾ç‰‡ã€ç¤ºä¾‹ PPT æ¨¡æ¿å›¾ç‰‡ ç­‰ä½œä¸ºé£æ ¼å’Œå†…å®¹å‚è€ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/578815609e9843c2879d4a09acbe4538~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=0qNeNzl5uZQlj5To7Z2tCvZZTGk%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62bbccfd845b4124949d562b0a408c32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=ZijNvIYyc7W%2BRCJbdb%2B9hTsu8IM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ”¯æŒå£å¤´ä¿®æ”¹åŠŸèƒ½ï¼Œè¯´å¥è¯å°±èƒ½å¯¹ç”Ÿæˆçš„å•é¡µæˆ–å±€éƒ¨åŒºåŸŸè¿›è¡Œç²¾å‡†è°ƒæ•´ï¼Œå¤§å¹…é™ä½äº† PPT çš„æ’ç‰ˆå’Œä¿®æ”¹é—¨æ§›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e45717623324fe797febf8e07da1043~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=MAT%2FusjT%2FmihNuwAGZWALKDydWo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”èƒ½ä»¥ PPTX æˆ– PDF æ ¼å¼ä¸€é”®å¯¼å‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13bd7472b02f47b1850c88af0c727bd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=N%2Bw5VDplxGk9fhoCvoGyEjZVDOw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æŠ€æœ¯å®ç°ä¸Šï¼ŒBanana-slides é‡‡ç”¨äº† React 18 å‰ç«¯ä¸ Python Flask åç«¯çš„ç°ä»£åŒ–æ¶æ„ï¼Œé›†æˆäº† Google Gemini API æä¾› AI èƒ½åŠ›ã€‚</p>
<p>æä¾›äº† Docker Compose ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/Anionex/banana-slides
</code></pre>
<h2 data-id="heading-1">02ã€å¤åˆ¶ AI å†…å®¹åˆ° Word å®Œç¾æ’ç‰ˆ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0009e283800490085ef3e037f581ddd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=eDCJ0l%2BqVUDiRz0pWL2inXk1%2FDw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®è§£å†³Â Markdown æ–‡æœ¬åŠ AI ç”Ÿæˆå†…å®¹æ— æ³•å®Œç¾ç²˜è´´è‡³ Office è½¯ä»¶çš„ç—›ç‚¹è€Œè®¾è®¡ã€‚</p>
<p>è¯¥å·¥å…·åŸºäº Pandoc æ–‡æ¡£è½¬æ¢å¼•æ“ï¼Œèƒ½å¤Ÿå°†å‰ªè´´æ¿ä¸­çš„ Markdown å†…å®¹å®æ—¶è½¬æ¢ä¸ºåŸç”Ÿçš„ Word æ ¼å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/841675c81cfe4b3c96259b2f088b54c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=sR%2BYCk0CaLz16x7%2BrcsVVIN0kxA%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b016391ed8748449069705d5fba23c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=KOBg3P8WDKO05EurPoyOxxt3vTY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ”¯æŒé€šè¿‡å…¨å±€çƒ­é”®ä¸€é”®å°†æ ¼å¼åŒ–å¥½çš„æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ç­‰å†…å®¹æ’å…¥åˆ°å½“å‰æ¿€æ´»çš„ Word æˆ– WPS æ–‡æ¡£ä¸­ï¼Œæå¤§æå‡äº†æ–‡æ¡£æ•´ç†æ•ˆç‡ã€‚</p>
<p>é™¤äº†åŸºç¡€çš„æ–‡æœ¬è½¬æ¢ï¼ŒPasteMD è¿˜å…·å¤‡<strong>æ™ºèƒ½è¡¨æ ¼è¯†åˆ«</strong>ä¸<strong>ç½‘é¡µå¯Œæ–‡æœ¬æ”¯æŒ</strong>åŠŸèƒ½ã€‚</p>
<p>å®ƒèƒ½è‡ªåŠ¨è¯†åˆ«å‰ªè´´æ¿ä¸­çš„ Markdown è¡¨æ ¼å¹¶å°†å…¶ç»“æ„åŒ–åœ°ç²˜è´´åˆ° Excel å•å…ƒæ ¼ä¸­ï¼Œé¿å…äº†ä¼ ç»Ÿå¤åˆ¶å¯¼è‡´çš„æ•°æ®æŒ¤åœ¨åŒä¸€å•å…ƒæ ¼çš„é—®é¢˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7456ee1040f94d1b8c3060b75b316505~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=sgaskpJeklfv5dzHKVVR%2B6rzLO4%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70146e55fd9a4bed8f532f939e3d6028~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=uc1H8awhuyTjmDIGdqZDaTdvdLo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½å¤„ç†ä» ChatGPTã€DeepSeek ç­‰ç½‘é¡µå¤åˆ¶çš„ HTML å¯Œæ–‡æœ¬ï¼Œç¡®ä¿ AI å›å¤çš„æ ¼å¼åœ¨åŠå…¬è½¯ä»¶ä¸­å¾—åˆ°é«˜ä¿çœŸè¿˜åŸã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/173ef467c233498c820365ac46c2401e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=1aQ%2BlQ3Fo5Z3uE93pOy4LF27Vro%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/RICHQAQ/PasteMD</span>
</code></pre>
<h2 data-id="heading-2">03ã€é‡‘èå¼ºåŒ–å­¦ä¹ æ¡†æ¶</h2>
<p>FinRL æ˜¯ç”± AI4Finance-Foundation å¼€å‘çš„å…¨çƒé¦–ä¸ªå¼€æºé‡‘èå¼ºåŒ–å­¦ä¹ æ¡†æ¶ã€‚</p>
<p>ç›®å‰å·²ç»åœ¨ GitHub ä¸Šæ–©è· 13.3 K çš„ Star äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4a640f7389d4228bbcd4f31f37ededb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=VGCO1K%2FDsAYovuPjQ%2Fj6bfVLfg8%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®æƒ³é™ä½é‡‘èå¼ºåŒ–å­¦ä¹ ï¼ˆDRLï¼‰çš„å…¥é—¨é—¨æ§›ï¼Œä¸ºç ”ç©¶äººå‘˜å’Œäº¤æ˜“è€…æä¾›ä¸€ä¸ªç»Ÿä¸€ã€å¯å¤ç°çš„å¼€å‘å¹³å°ã€‚</p>
<p>è§£å†³ä¼ ç»Ÿé‡åŒ–é‡‘èä¸­æ•°æ®å¤„ç†ç¹çã€ç¯å¢ƒæ„å»ºå¤æ‚ä»¥åŠæ¨¡å‹éš¾ä»¥å¤ç°çš„ç—›ç‚¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b45636dd854a4b4bacd7fe48e4ace461~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=23Mq5wCuQtvOIE0G1XNsLk4u1UU%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>è¯¥æ¡†æ¶é‡‡ç”¨æ¸…æ™°çš„ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š</p>
<p>åº•å±‚ä¸ºå¸‚åœºç¯å¢ƒå±‚ï¼Œé€šè¿‡ FinRL-Meta è¿æ¥ Yahoo Financeã€Binanceã€Akshare ç­‰æ•°åç§å…¨çƒä¸»æµæ•°æ®æºã€‚</p>
<p>ä¸­é—´å±‚ä¸ºæ™ºèƒ½ä½“å±‚ï¼Œé›†æˆäº† Stable Baselines 3ã€RLlib ç­‰æˆç†Ÿçš„ DRL ç®—æ³•åº“ã€‚</p>
<p>é¡¶å±‚ä¸ºåº”ç”¨å±‚ï¼Œè¦†ç›–è‚¡ç¥¨äº¤æ˜“ã€åŠ å¯†è´§å¸ã€æŠ•èµ„ç»„åˆç®¡ç†åŠé«˜é¢‘äº¤æ˜“ç­‰å¤šç§é‡‘èä»»åŠ¡ï¼Œå¹¶æä¾›æ ‡å‡†çš„è®­ç»ƒ-æµ‹è¯•-äº¤æ˜“å…¨æµç¨‹æµæ°´çº¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e9d0a6f8d1142f684c18f370bd0f32b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=0M8%2FELyh3mmQ05gAyxw12Q822vs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒä¸ä»…è¢«å¤šç¯‡ NeurIPS å’Œ ICAIF ç­‰é¡¶çº§å­¦æœ¯ä¼šè®®è®ºæ–‡å¼•ç”¨ä½œä¸ºåŸºå‡†æ¡†æ¶ï¼Œè¿˜è¢«å¹¿æ³›åº”ç”¨äºæ•™å­¦å’Œå·¥ä¸šç•Œçš„ç­–ç•¥åŸå‹å¼€å‘ï¼Œæ˜¯ç›®å‰é‡‘èç§‘æŠ€é¢†åŸŸå°†æ·±åº¦å¼ºåŒ–å­¦ä¹ åº”ç”¨äºè‡ªåŠ¨åŒ–äº¤æ˜“çš„é¦–é€‰å¼€æºå·¥å…·ä¹‹ä¸€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f279d34fc98b4086ac54b348557eb421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=OBXBtOsWer4fD3y%2F1hP3qP2eHdU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/AI4Finance-Foundation/FinRL</span>
</code></pre>
<h2 data-id="heading-3">04ã€è°·æ­Œå¼€æºæ‰‹å†™è½¬æ¢æŠ€æœ¯</h2>
<p>Google Research å¼€æºçš„ä¸€ä¸ªåˆ›æ–°æŠ€æœ¯ã€‚</p>
<p>æ‹å¼ ä½ æ‰‹å†™çš„ç¬”è®°ï¼ŒAI å°±èƒ½æŠŠä½ çš„çº¸ä¸Šå­—è¿¹å˜æˆåŸæœ¬åªèƒ½åœ¨ iPad ä¸Šå†™å‡ºçš„çŸ¢é‡æ•°å­—å¢¨æ°´ï¼Œç”šè‡³è¿˜èƒ½åƒç¼–è¾‘ Word ä¸€æ ·ä¿®æ”¹å®ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70767cdf39b643faa9845acd6e2f9788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=qjtnGz%2Bt2Rd4GXfRy3A1diRQGNU%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>ä¸åŒäºä¼ ç»Ÿçš„ OCR ä»…ä»…å°†å›¾ç‰‡è½¬æ¢ä¸ºæ ‡å‡†æ–‡æœ¬ï¼ŒInkSight é‡‡ç”¨äº†ä¸€ç§è¢«ç§°ä¸ºÂ Derenderingï¼ˆå»æ¸²æŸ“ï¼‰çš„æŠ€æœ¯ï¼Œèƒ½å¤Ÿå°†æ™®é€šçš„æ‰‹å†™ç…§ç‰‡è½¬æ¢ä¸º<strong>å¯ç¼–è¾‘ã€å¯æœç´¢çš„çŸ¢é‡æ•°å­—å¢¨æ°´</strong>ï¼ˆDigital Inkï¼‰ã€‚</p>
<p>ä½ ä¸ä»…èƒ½ä¿ç•™åŸå§‹çš„ç¬”è¿¹é£æ ¼ï¼Œè¿˜èƒ½åƒæ“ä½œç”µå­ç¬”è®°ä¸€æ ·å¯¹çº¸è´¨ç¬”è®°çš„å†…å®¹è¿›è¡Œç§»åŠ¨ã€æ“¦é™¤æˆ–ä¿®æ”¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24ab824aeadd4e8ba36305fe1caf6585~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124593&amp;x-signature=V4VTZ%2Fo1CAZmHFsnzB3dW%2BHzxtI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/google-research/inksight</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥å‰–æ Java ä¸­çš„ ZGC æœºåˆ¶ï¼šåŸç†ã€ä¼˜åŠ¿ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7582529173829058594</link>    <guid>https://juejin.cn/post/7582529173829058594</guid>    <pubDate>2025-12-12T06:07:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582529173829058594" data-draft-id="7582533464244846626" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥å‰–æ Java ä¸­çš„ ZGC æœºåˆ¶ï¼šåŸç†ã€ä¼˜åŠ¿ä¸å®è·µ"/> <meta itemprop="keywords" content="åç«¯,Java,ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-12T06:07:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è¥¿è¥¿"/> <meta itemprop="url" content="https://juejin.cn/user/326976944214804"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥å‰–æ Java ä¸­çš„ ZGC æœºåˆ¶ï¼šåŸç†ã€ä¼˜åŠ¿ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/326976944214804/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è¥¿è¥¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:07:57.000Z" title="Fri Dec 12 2025 06:07:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Java å¼€å‘çš„ä¸–ç•Œé‡Œï¼Œåƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼ŒGCï¼‰ä¸€ç›´æ˜¯å¼€å‘è€…ä»¬æä¸ºå…³æ³¨çš„è¯é¢˜ã€‚éšç€åº”ç”¨è§„æ¨¡çš„ä¸æ–­æ‰©å¤§ä»¥åŠå¯¹æ€§èƒ½è¦æ±‚çš„æ—¥ç›Šä¸¥è‹›ï¼Œä¼ ç»Ÿçš„åƒåœ¾å›æ”¶å™¨é€æ¸éš¾ä»¥æ»¡è¶³éœ€æ±‚ã€‚è€Œ ZGCï¼ˆZ Garbage Collectorï¼‰çš„å‡ºç°ï¼Œå®›å¦‚ä¸€é¢—ç’€ç’¨çš„æ–°æ˜Ÿï¼Œä¸º Java å¼€å‘è€…ä»¬å¸¦æ¥äº†å…¨æ–°çš„è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ ZGC æœºåˆ¶ï¼Œä»å…¶è¯ç”ŸèƒŒæ™¯ã€æ ¸å¿ƒæŠ€æœ¯ã€å·¥ä½œæµç¨‹ï¼Œåˆ°æ€§èƒ½ä¼˜åŠ¿ä»¥åŠå®é™…åº”ç”¨ä¸­çš„ä¼˜åŒ–ï¼Œå…¨æ–¹ä½åœ°ä¸ºå¤§å®¶æ­å¼€ ZGC çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 data-id="heading-1">ZGC è¯ç”Ÿçš„èƒŒæ™¯</h2>
<p>åœ¨ ZGC å‡ºç°ä¹‹å‰ï¼ŒJava å·²ç»æ‹¥æœ‰äº†å¤šç§åƒåœ¾å›æ”¶å™¨ï¼Œå¦‚ Serialã€Parallelã€CMSã€G1 ç­‰ã€‚è¿™äº›åƒåœ¾å›æ”¶å™¨åœ¨ä¸åŒçš„åœºæ™¯ä¸‹éƒ½å‘æŒ¥äº†é‡è¦ä½œç”¨ï¼Œä½†éšç€åº”ç”¨ç¨‹åºå¤„ç†çš„æ•°æ®é‡ä¸æ–­å¢å¤§ï¼Œä»¥åŠå¯¹å“åº”æ—¶é—´è¦æ±‚çš„ä¸æ–­æé«˜ï¼Œå®ƒä»¬é€æ¸æš´éœ²å‡ºä¸€äº›å±€é™æ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®å’Œé«˜è´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨å¯èƒ½ä¼šå‡ºç°è¾ƒé•¿çš„åœé¡¿æ—¶é—´ï¼Œè¿™å¯¹äºä¸€äº›å¯¹å»¶è¿Ÿæä¸ºæ•æ„Ÿçš„åº”ç”¨ï¼Œå¦‚é‡‘èæœåŠ¡ã€åœ¨çº¿æ¸¸æˆç­‰ï¼Œæ˜¯æ— æ³•æ¥å—çš„ã€‚ä»¥é‡‘èäº¤æ˜“ç³»ç»Ÿä¸ºä¾‹ï¼Œå“ªæ€•æ˜¯çŸ­æš‚çš„åœé¡¿ï¼Œéƒ½å¯èƒ½å¯¼è‡´å·¨é¢çš„äº¤æ˜“æŸå¤±ã€‚æ­¤å¤–ï¼Œéšç€å †å†…å­˜çš„ä¸æ–­å¢å¤§ï¼Œä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨çš„æ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ï¼Œéš¾ä»¥æ»¡è¶³ç°ä»£åº”ç”¨å¯¹å¤§å †å†…å­˜ç®¡ç†çš„éœ€æ±‚ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼ŒOracle å…¬å¸ç ”å‘äº† ZGCï¼Œå…¶ç›®æ ‡æ˜¯å®ç°ä¸€ç§å¯æ‰©å±•çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨ï¼Œèƒ½å¤Ÿåœ¨å¤„ç†ä»å‡ ç™¾ MB åˆ°æ•° TB çš„å †å¤§å°çš„åŒæ—¶ï¼Œå°†åœé¡¿æ—¶é—´æ§åˆ¶åœ¨ 10ms ä»¥å†…ï¼Œå¹¶ä¸”å°½å¯èƒ½å‡å°‘å¯¹ååé‡çš„å½±å“ã€‚</p>
<h2 data-id="heading-2">ZGC çš„æ ¸å¿ƒæŠ€æœ¯</h2>
<p><strong>ï¼ˆä¸€ï¼‰æŸ“è‰²æŒ‡é’ˆï¼ˆColored Pointersï¼‰æŠ€æœ¯</strong></p>
<p>æŸ“è‰²æŒ‡é’ˆæ˜¯ ZGC çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œå®ƒé‡æ–°å®šä¹‰äº† 64 ä½æŒ‡é’ˆçš„è¯­ä¹‰ç»“æ„ã€‚åœ¨ä¼ ç»Ÿçš„æŒ‡é’ˆä¸­ï¼Œæ‰€æœ‰çš„æ¯”ç‰¹ä½éƒ½ç”¨äºè¡¨ç¤ºå†…å­˜åœ°å€ã€‚è€Œåœ¨ ZGC ä¸­ï¼Œåˆ©ç”¨äº† 64 ä½æŒ‡é’ˆä¸­çš„é«˜ä½æ¯”ç‰¹æ¥å­˜å‚¨å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼ŒZGC ä½¿ç”¨äº†å››ä¸ªå…³é”®æ ‡å¿—ä½å®ç°å¤šé‡è¯­ä¹‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa7940aed65c4ffc9314cf070f83ccca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6KW_6KW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124477&amp;x-signature=2oCwiw54h54mIcYNteQ6f3CyxtU%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>Marked0/Marked1</strong>ï¼šè¿™ä¸¤ä¸ªä½æ˜¯äº¤æ›¿ä½¿ç”¨çš„æ ‡è®°ä½ï¼Œç”¨äºå®ç°ä¸‰è‰²æ ‡è®°çš„çŠ¶æ€è®°å½•ã€‚åœ¨åƒåœ¾å›æ”¶çš„æ ‡è®°é˜¶æ®µï¼Œé€šè¿‡è¿™ä¸¤ä¸ªä½æ¥æ ‡è¯†å¯¹è±¡æ˜¯å¦è¢«æ ‡è®°ä¸ºå­˜æ´»ã€‚</li>
<li><strong>Remapped</strong>ï¼šè¯¥ä½ç”¨äºæ ‡è¯†å¯¹è±¡æ˜¯å¦å®Œæˆé‡å®šä½ã€‚åœ¨å¯¹è±¡ç§»åŠ¨åˆ°æ–°çš„å†…å­˜ä½ç½®æ—¶ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªä½æ¥ç¡®ä¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ­£ç¡®è®¿é—®åˆ°ç§»åŠ¨åçš„å¯¹è±¡ã€‚</li>
<li><strong>Finalizable</strong>ï¼šæ­¤ä½ç”¨äºæ ‡è®°éœ€è¦é€šè¿‡ finalizer å¤„ç†çš„å¯¹è±¡ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c863a5e0b2de4d3e981b3dbc89272e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6KW_6KW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124477&amp;x-signature=0NiON4MNJI12GDFtlrtU%2BaimDQM%3D" alt="" loading="lazy"/></p>
<p>æŸ“è‰²æŒ‡é’ˆæŠ€æœ¯å¸¦æ¥äº†è¯¸å¤šä¼˜åŠ¿ã€‚é¦–å…ˆï¼Œå®ƒå®ç°äº†é›¶é¢å¤–å†…å­˜å¼€é”€ã€‚ä¼ ç»Ÿæ”¶é›†å™¨é€šå¸¸éœ€è¦é¢å¤– 5 - 10% çš„å †å†…å­˜æ¥å­˜å‚¨æ ‡è®°ä½å›¾ï¼Œè€Œ ZGC ç›´æ¥åˆ©ç”¨æŒ‡é’ˆé«˜ä½å­˜å‚¨æ ‡è®°ä¿¡æ¯ï¼Œæ— éœ€é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚å…¶æ¬¡ï¼ŒæŸ“è‰²æŒ‡é’ˆä½¿å¾— GC çº¿ç¨‹æ— éœ€è®¿é—®å¯¹è±¡å¤´å³å¯è·å–æ ‡è®°çŠ¶æ€ï¼Œå¤§å¤§å‡å°‘äº†ç¼“å­˜è¡Œæ±¡æŸ“ï¼Œæé«˜äº†ç¼“å­˜å‘½ä¸­ç‡ã€‚æ­¤å¤–ï¼Œç”±äºæŒ‡é’ˆæœ¬èº«æºå¸¦é‡å®šä½çŠ¶æ€ï¼Œé¿å…äº†åƒ G1 é‚£æ ·åœ¨è·¨ Region å¼•ç”¨æ›´æ–°æ—¶å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œä¿è¯äº†å¯¹è±¡ç§»åŠ¨çš„åŸå­æ€§ã€‚</p>
<p><strong>ï¼ˆäºŒï¼‰è¯»å±éšœï¼ˆLoad Barriersï¼‰çš„ç²¾ç»†åŒ–åº”ç”¨</strong></p>
<p>è¯»å±éšœæ˜¯ ZGC ä¸­å¦ä¸€ä¸ªå…³é”®æŠ€æœ¯ã€‚å®ƒæ˜¯ JVM å‘åº”ç”¨ä»£ç æ’å…¥çš„ä¸€å°æ®µä»£ç ã€‚å½“åº”ç”¨çº¿ç¨‹ä»å †ä¸­è¯»å–å¯¹è±¡å¼•ç”¨æ—¶ï¼Œå°±ä¼šæ‰§è¡Œè¿™æ®µä»£ç ã€‚è¯»å±éšœåœ¨ ZGC ä¸­çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨å¯¹è±¡ç§»åŠ¨è¿‡ç¨‹ä¸­ä¿è¯æ‰€æœ‰å¼•ç”¨éƒ½æŒ‡å‘æ­£ç¡®çš„ä½ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c971cc2539545c8925a50f18bb462b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6KW_6KW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124477&amp;x-signature=h6x74LMaF%2FpyPduagkNE0tYPG6c%3D" alt="" loading="lazy"/></p>
<p>åœ¨ ZGC çš„å¹¶å‘è½¬ç§»é˜¶æ®µï¼Œå¯¹è±¡å¯èƒ½ä¼šè¢«ç§»åŠ¨åˆ°æ–°çš„å†…å­˜ä½ç½®ã€‚å¦‚æœæ²¡æœ‰è¯»å±éšœï¼Œåº”ç”¨çº¿ç¨‹åœ¨è®¿é—®å¯¹è±¡æ—¶ï¼Œå¯èƒ½ä¼šè®¿é—®åˆ°æ—§çš„å†…å­˜åœ°å€ï¼Œä»è€Œå¯¼è‡´é”™è¯¯ã€‚é€šè¿‡è¯»å±éšœï¼Œå½“åº”ç”¨çº¿ç¨‹è®¿é—®ä¸€ä¸ªå¯èƒ½å·²ç»è¢«ç§»åŠ¨çš„å¯¹è±¡æ—¶ï¼Œè¯»å±éšœä¼šè‡ªåŠ¨å®ŒæˆæŒ‡é’ˆæ›´æ–°ï¼Œå°†åº”ç”¨çº¿ç¨‹çš„è®¿é—®å¯¼å‘åˆ°å¯¹è±¡çš„æ–°åœ°å€ã€‚è¿™æ ·ï¼Œå³ä½¿åœ¨å¯¹è±¡ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨çº¿ç¨‹ä¹Ÿèƒ½å¤Ÿæ­£ç¡®åœ°è®¿é—®å¯¹è±¡ï¼Œé¿å…äº†é•¿æ—¶é—´çš„ Stop - The - Worldï¼ˆSTWï¼‰äº‹ä»¶ã€‚</p>
<p><strong>ï¼ˆä¸‰ï¼‰åŠ¨æ€å†…å­˜å¸ƒå±€ï¼ˆMulti - Mapping Memoryï¼‰</strong></p>
<p>ZGC é‡‡ç”¨äº†åŠ¨æ€å†…å­˜å¸ƒå±€æŠ€æœ¯ï¼Œé€šè¿‡è™šæ‹Ÿå†…å­˜æ˜ å°„æŠ€æœ¯ï¼Œä½¿å¾—ç‰©ç†å†…å­˜ä¸­çš„å¯¹è±¡å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªè™šæ‹Ÿåœ°å€ã€‚åœ¨ x86 - 64 å¹³å°ä¸Šï¼ŒZGC é€šè¿‡ Linux çš„ mmap ç³»ç»Ÿè°ƒç”¨å®ç°å¤šé‡å†…å­˜æ˜ å°„ï¼Œå°†åŒä¸€ç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸‰ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆå¯¹åº”ä¸åŒæ ‡å¿—ä½ç»„åˆï¼‰ã€‚</p>
<p>è¿™ç§è®¾è®¡ä½¿å¾—å¤„ç†å™¨èƒ½æ­£ç¡®è§£ææŸ“è‰²æŒ‡é’ˆï¼Œå¹¶ä¸”ä¸ºå¹¶å‘å‹ç¼©æä¾›äº†ç¡¬ä»¶çº§æ”¯æŒã€‚åœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œå½“éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œç§»åŠ¨å’Œå†…å­˜å‹ç¼©æ—¶ï¼Œé€šè¿‡ä¿®æ”¹è™šæ‹Ÿåœ°å€æ˜ å°„å…³ç³»ï¼Œå°±å¯ä»¥å¿«é€Ÿå®ç°å¯¹è±¡çš„é‡å®šä½ï¼Œè€Œæ— éœ€å®é™…ç§»åŠ¨å¤§é‡çš„æ•°æ®ã€‚åŒæ—¶ï¼ŒåŠ¨æ€å†…å­˜å¸ƒå±€è¿˜å¸¦æ¥äº†å³æ—¶è§†å›¾åˆ‡æ¢çš„ä¼˜åŠ¿ï¼Œåœ¨ GC é˜¶æ®µè½¬æ¢æ—¶ï¼Œä»…éœ€ä¿®æ”¹æŒ‡é’ˆæ ‡å¿—ä½ï¼Œæ— éœ€æ•°æ®æ¬è¿ï¼Œå¤§å¤§æé«˜äº†åƒåœ¾å›æ”¶çš„æ•ˆç‡ã€‚</p>
<h2 data-id="heading-3">ZGC çš„å·¥ä½œæµç¨‹</h2>
<p>ZGC çš„å·¥ä½œæµç¨‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<p><strong>ï¼ˆä¸€ï¼‰æ ‡è®°é˜¶æ®µ</strong></p>
<ol>
<li><strong>åˆå§‹æ ‡è®°ï¼ˆInitial Markï¼‰</strong> ï¼šè¿™ä¸ªé˜¶æ®µéœ€è¦æš‚åœåº”ç”¨çº¿ç¨‹ï¼ˆSTWï¼‰ï¼Œåˆå§‹æ ‡è®°åªéœ€è¦æ‰«ææ‰€æœ‰ GC Rootsï¼Œå…¶å¤„ç†æ—¶é—´å’Œ GC Roots çš„æ•°é‡æˆæ­£æ¯”ã€‚ç”±äºåªæ‰«æ GC Rootsï¼Œæ‰€ä»¥åœé¡¿æ—¶é—´ä¸ä¼šéšç€å †çš„å¤§å°æˆ–è€…æ´»è·ƒå¯¹è±¡çš„å¤§å°è€Œå¢åŠ ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒZGC æ ‡è®°å‡ºæ‰€æœ‰ GC Roots ç›´æ¥å¼•ç”¨çš„æ´»è·ƒå¯¹è±¡ï¼ˆæ ¹å¯¹è±¡ï¼‰ã€‚</li>
<li><strong>å¹¶å‘æ ‡è®°ï¼ˆConcurrent Markï¼‰</strong> ï¼šæ­¤é˜¶æ®µä¸éœ€è¦æš‚åœåº”ç”¨çº¿ç¨‹ï¼ˆæ²¡æœ‰ STWï¼‰ï¼ŒZGC çš„å›æ”¶çº¿ç¨‹ä¼šæ‰«æå‰©ä½™çš„æ‰€æœ‰å¯¹è±¡ã€‚è¿™ä¸ªå¤„ç†æ—¶é—´ç›¸å¯¹è¾ƒé•¿ï¼Œæ‰€ä»¥é‡‡ç”¨å¹¶å‘æ–¹å¼ï¼Œè®©ä¸šåŠ¡çº¿ç¨‹ä¸ GC çº¿ç¨‹åŒæ—¶è¿è¡Œã€‚åœ¨å¹¶å‘æ ‡è®°é˜¶æ®µï¼ŒZGC ä½¿ç”¨ä¸‰è‰²æ ‡è®°ç®—æ³•çš„å˜ç§ï¼Œé€šè¿‡è¯»å±éšœæŠ€æœ¯æ•è·å¯¹è±¡å¼•ç”¨å˜åŒ–ï¼Œä»è€Œæ ‡è®°å‡ºæ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ã€‚ç„¶è€Œï¼Œå¹¶å‘æ ‡è®°é˜¶æ®µä¼šäº§ç”Ÿæ¼æ ‡é—®é¢˜ã€‚</li>
<li><strong>å†æ ‡è®°ï¼ˆRemarkï¼‰</strong> ï¼šè¿™ä¸ªé˜¶æ®µéœ€è¦å†æ¬¡æš‚åœåº”ç”¨çº¿ç¨‹ï¼ˆSTWï¼‰ï¼Œä¸»è¦å¤„ç†å¹¶å‘æ ‡è®°é˜¶æ®µäº§ç”Ÿçš„æ¼æ ‡å¯¹è±¡ã€‚ZGC é€šè¿‡ SATBï¼ˆSnapshot - At - The - Beginningï¼‰ç®—æ³•æ¥è§£å†³æ¼æ ‡é—®é¢˜ï¼Œè¯¥ç®—æ³•ä¸ G1 ä¸­è§£å†³æ¼æ ‡çš„æ–¹æ¡ˆç±»ä¼¼ã€‚</li>
</ol>
<p><strong>ï¼ˆäºŒï¼‰é‡å®šä½é˜¶æ®µ</strong></p>
<ol>
<li><strong>å¹¶å‘é¢„å¤‡é‡åˆ†é…ï¼ˆConcurrent Prepare for Relocateï¼‰</strong> ï¼šåœ¨è¿™ä¸ªé˜¶æ®µï¼ŒZGC ä¼šåŠ¨æ€è®¡ç®—å›æ”¶æ•ˆç›Šæœ€é«˜çš„ Region é›†åˆï¼ˆç§°ä¸º Relocation Setï¼‰ã€‚å®ƒé‡‡ç”¨ç±»ä¼¼ G1 çš„è¡°å‡å¹³å‡å€¼ç®—æ³•æ¥é¢„æµ‹ Region å­˜æ´»ç‡ï¼Œå¹¶é¢„è®¡ç®—å¯¹è±¡ç§»åŠ¨è·¯å¾„ï¼Œä¸ºåç»­çš„é‡åˆ†é…å»ºç«‹å†…å­˜æ‹“æ‰‘å›¾ã€‚</li>
<li><strong>åˆå§‹è½¬ç§»ï¼ˆInitial Relocateï¼‰</strong> ï¼šåœ¨åˆå§‹è½¬ç§»é˜¶æ®µï¼ŒZGC ä¼šé€‰æ‹©éƒ¨åˆ† Regionï¼Œå°†è¿™äº› Region ä¸­åˆå§‹æ ‡è®°çš„å­˜æ´»å¯¹è±¡è¿›è¡Œè½¬ç§»ï¼ŒåŒæ—¶è¿›è¡Œå¯¹è±¡é‡å®šä½ã€‚è¿™ä¸ªé˜¶æ®µéœ€è¦çŸ­æš‚çš„ STWï¼Œä»¥ç¡®ä¿å¯¹è±¡è½¬ç§»çš„ä¸€è‡´æ€§ã€‚</li>
<li><strong>å¹¶å‘è½¬ç§»ï¼ˆConcurrent Relocateï¼‰</strong> ï¼šåœ¨å¹¶å‘è½¬ç§»é˜¶æ®µï¼ŒZGC ä¼šå¯¹å¹¶å‘æ ‡è®°é˜¶æ®µç¡®å®šçš„å­˜æ´»å¯¹è±¡è¿›è¡Œå¤§è§„æ¨¡è½¬ç§»ã€‚ZGC çš„æ ¸å¿ƒåˆ›æ–°ç‚¹ â€œè‡ªæ„ˆâ€ æŒ‡é’ˆæœºåˆ¶åœ¨æ­¤é˜¶æ®µå‘æŒ¥é‡è¦ä½œç”¨ã€‚å½“ç”¨æˆ·çº¿ç¨‹è®¿é—®è¢«ç§»åŠ¨å¯¹è±¡æ—¶ï¼Œè¯»å±éšœä¼šè‡ªåŠ¨å®ŒæˆæŒ‡é’ˆæ›´æ–°ï¼Œä½¿å¾—å¯¹è±¡ç§»åŠ¨å»¶è¿Ÿä»ä¼ ç»Ÿçš„æ¯«ç§’çº§é™è‡³å¾®ç§’çº§ã€‚</li>
</ol>
<p><strong>ï¼ˆä¸‰ï¼‰é‡æ˜ å°„é˜¶æ®µ</strong></p>
<p>å¹¶å‘å¼•ç”¨å¤„ç†ï¼ˆConcurrent Reference Processingï¼‰ï¼šåœ¨é‡æ˜ å°„é˜¶æ®µï¼ŒZGC é‡‡ç”¨æ— é”é˜Ÿåˆ—å¤„ç†è½¯ / å¼± / è™šå¼•ç”¨ï¼Œé€šè¿‡å“ˆå¸Œåˆ†æ•£æŠ€æœ¯å°†å¼•ç”¨å¯¹è±¡å‡åŒ€åˆ†å¸ƒåˆ°å¤šä¸ªå¤„ç†çº¿ç¨‹ï¼Œé¿å…äº†åƒ G1 ä¸­å¸¸è§çš„å¼•ç”¨å¤„ç†ç“¶é¢ˆï¼Œç¡®ä¿æ‰€æœ‰æŒ‡å‘å·²ç§»åŠ¨å¯¹è±¡çš„å¼•ç”¨éƒ½è¢«æ­£ç¡®æ›´æ–°ã€‚</p>
<h2 data-id="heading-4">ZGC çš„æ€§èƒ½ä¼˜åŠ¿</h2>
<p><strong>ï¼ˆä¸€ï¼‰ä½å»¶è¿Ÿç‰¹æ€§</strong></p>
<p>ZGC æœ€æ˜¾è‘—çš„ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯å…¶å“è¶Šçš„ä½å»¶è¿Ÿç‰¹æ€§ã€‚é€šè¿‡å°†ä¼ ç»Ÿçš„ Stop - the - World åœé¡¿æ—¶é—´å‹ç¼©åˆ°æä½èŒƒå›´ï¼ŒZGC ä½¿å¾—å¤§è§„æ¨¡åº”ç”¨åœ¨åƒåœ¾å›æ”¶æœŸé—´çš„å“åº”æ—¶é—´å‡ ä¹ä¸å¯å¯Ÿè§‰ã€‚å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼ŒZGC çš„è®¾è®¡ç›®æ ‡æ˜¯å°† GC åœé¡¿æ—¶é—´ä¸¥æ ¼æ§åˆ¶åœ¨ 10 æ¯«ç§’ä»¥å†…ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ JDK 16 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œåœé¡¿æ—¶é—´å¸¸å¸¸èƒ½å¤Ÿç¨³å®šåœ¨äºšæ¯«ç§’çº§ã€‚ä¾‹å¦‚ï¼Œåœ¨ 256GB å †å†…å­˜ç¯å¢ƒä¸‹çš„å®æµ‹æ•°æ®è¡¨æ˜ï¼ŒZGC çš„ STW é˜¶æ®µæœ€å¤§åœé¡¿ä»…ä¸º 1.3 æ¯«ç§’ï¼Œå¹³å‡åœé¡¿æ—¶é—´æ›´æ˜¯çŸ­è‡³å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚è¿™ç§ä½å»¶è¿Ÿç‰¹æ€§å¯¹äºé‚£äº›å¯¹å“åº”æ—¶é—´è¦æ±‚æé«˜çš„åº”ç”¨ï¼Œå¦‚é‡‘èäº¤æ˜“ç³»ç»Ÿã€å®æ—¶æ¸¸æˆç­‰ï¼Œå…·æœ‰æ— å¯æ¯”æ‹Ÿçš„ä»·å€¼ã€‚åœ¨é‡‘èäº¤æ˜“ä¸­ï¼Œæ¯æ¯«ç§’çš„å»¶è¿Ÿéƒ½å¯èƒ½å½±å“äº¤æ˜“çš„æˆè´¥ï¼ŒZGC çš„ä½å»¶è¿Ÿç¡®ä¿äº†äº¤æ˜“ç³»ç»Ÿèƒ½å¤Ÿå¿«é€Ÿå“åº”ï¼Œé¿å…å› åƒåœ¾å›æ”¶åœé¡¿è€Œå¯¼è‡´çš„äº¤æ˜“æŸå¤±ã€‚</p>
<p><strong>ï¼ˆäºŒï¼‰é«˜ååé‡</strong></p>
<p>å°½ç®¡ ZGC ä»¥ä½å»¶è¿Ÿä¸ºé¦–è¦ç›®æ ‡ï¼Œä½†å®ƒåœ¨ååé‡æ–¹é¢ä¹Ÿè¡¨ç°å‡ºè‰²ã€‚ä¸å…¶ä»–åƒåœ¾å›æ”¶å™¨ç›¸æ¯”ï¼ŒZGC åœ¨å¤„ç†å¤§å †å†…å­˜æ—¶ï¼Œååé‡ä¸‹é™å¹…åº¦æå°ã€‚è¿™å¾—ç›Šäºå…¶å¹¶å‘å¤„ç†æœºåˆ¶ï¼Œå¤§éƒ¨åˆ†å›æ”¶å·¥ä½œéƒ½å¯ä»¥ä¸åº”ç”¨çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œï¼Œå‡å°‘äº†åƒåœ¾å›æ”¶å¯¹åº”ç”¨ç¨‹åºè¿è¡Œæ—¶é—´çš„å ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„å®æ—¶åˆ†æç³»ç»Ÿä¸­ï¼ŒZGC èƒ½å¤Ÿåœ¨ä¿è¯ä½å»¶è¿Ÿçš„åŒæ—¶ï¼Œé«˜æ•ˆåœ°è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤ŸæŒç»­ç¨³å®šåœ°å¤„ç†å¤§é‡æ•°æ®ï¼Œä¸ä¼šå› ä¸ºåƒåœ¾å›æ”¶è€Œå¯¼è‡´ååé‡å¤§å¹…ä¸‹é™ã€‚</p>
<p><strong>ï¼ˆä¸‰ï¼‰å¤§å †æ”¯æŒèƒ½åŠ›</strong></p>
<p>ZGC èƒ½å¤Ÿè½»æ¾åº”å¯¹ä»å‡ ç™¾ MB åˆ°æ•° TB çš„è¶…å¤§å †å†…å­˜ï¼Œè¿™æ˜¯è®¸å¤šä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨éš¾ä»¥ä¼åŠçš„ã€‚ä» JDK 11 æœ€åˆæ”¯æŒ 8MB - 4TB çº§åˆ«çš„å †ï¼Œåˆ° JDK 15 åå·²ç»å¯ä»¥æ”¯æŒ 16TB çš„è¶…å¤§å †å†…å­˜ã€‚åœ¨å¤„ç† TB çº§å®æ—¶ AI æ•°æ®å¤„ç†ã€å¤§è§„æ¨¡çš„å†…å­˜æ•°æ®åº“ç­‰åœºæ™¯æ—¶ï¼ŒZGC çš„å¤§å †æ”¯æŒèƒ½åŠ›ä½¿å…¶æ¸¸åˆƒæœ‰ä½™ï¼Œä¸ä¼šå› ä¸ºå†…å­˜è§„æ¨¡çš„åºå¤§è€Œå‡ºç°æ€§èƒ½ç“¶é¢ˆã€‚æ— è®ºæ˜¯å¤§è§„æ¨¡çš„æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒï¼Œéœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¤§é‡çš„å¼ é‡å¯¹è±¡ï¼Œè¿˜æ˜¯æµ·é‡æ•°æ®çš„å®æ—¶åˆ†æï¼Œéœ€è¦å¤„ç†ä¸æ–­æ¶Œå…¥çš„å¤§è§„æ¨¡æ•°æ®é›†ï¼ŒZGC éƒ½èƒ½æä¾›ç¨³å®šè€Œé«˜æ•ˆçš„å†…å­˜ç®¡ç†æ”¯æŒã€‚</p>
<p><strong>ï¼ˆå››ï¼‰å†…å­˜ç¢ç‰‡å¤„ç†</strong></p>
<p>ZGC é‡‡ç”¨åŸºäº Region çš„å†…å­˜ç®¡ç†ç­–ç•¥ï¼Œå¹¶ä¸”åœ¨å›æ”¶è¿‡ç¨‹ä¸­ä¼šå¯¹å†…å­˜è¿›è¡Œæ•´ç†å’Œå‹ç¼©ï¼Œæœ‰æ•ˆå‡å°‘äº†å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚ä¸ä¸€äº›ä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨ç›¸æ¯”ï¼ŒZGC çš„å†…å­˜ç¢ç‰‡ç‡æ˜¾è‘—é™ä½ã€‚ä¾‹å¦‚ï¼Œä¸ G1 çš„å›ºå®šå¤§å° Region è®¾è®¡ç›¸æ¯”ï¼ŒZGC çš„åŠ¨æ€ Region å¤§å°è®¾è®¡ï¼ˆRegion å¤§å°åŠ¨æ€å¯è°ƒï¼Œæœ‰ 2MBã€4MBã€8MBã€16MBã€32MB ç­‰ï¼‰ä½¿å¾—å†…å­˜ç¢ç‰‡ç‡é™ä½ 40% ä»¥ä¸Šã€‚è¿™ç§ä½å†…å­˜ç¢ç‰‡ç‡ä¿è¯äº†å†…å­˜ç©ºé—´çš„é«˜æ•ˆåˆ©ç”¨ï¼Œé¿å…äº†å› å†…å­˜ç¢ç‰‡è¿‡å¤šè€Œå¯¼è‡´çš„å†…å­˜åˆ†é…å¤±è´¥æˆ–æ€§èƒ½ä¸‹é™é—®é¢˜ã€‚</p>
<h2 data-id="heading-5">ZGC åœ¨å®é™…åº”ç”¨ä¸­çš„ä¼˜åŒ–ä¸æ¡ˆä¾‹åˆ†æ</h2>
<p>ï¼ˆä¸€ï¼‰ZGC çš„å‚æ•°ä¼˜åŒ–</p>
<p>è™½ç„¶ ZGC åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹èƒ½å¤Ÿè‡ªåŠ¨è¿›è¡Œä¼˜åŒ–ï¼Œä½†åœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œåˆç†è°ƒæ•´å‚æ•°å¯ä»¥è¿›ä¸€æ­¥æå‡å…¶æ€§èƒ½ã€‚</p>
<ol>
<li><strong>å †å¤§å°è®¾ç½®</strong>ï¼šé€šè¿‡ - Xmx å‚æ•°è®¾ç½®å †çš„æœ€å¤§å¤§å°ã€‚å½“åˆ†é…é€Ÿç‡è¿‡é«˜ï¼Œè¶…è¿‡å›æ”¶é€Ÿç‡ï¼Œé€ æˆå †å†…å­˜ä¸å¤Ÿæ—¶ï¼Œä¼šè§¦å‘ Allocation Stallï¼Œè¿™ç±» Stall ä¼šå‡ç¼“å½“å‰çš„ç”¨æˆ·çº¿ç¨‹ã€‚å› æ­¤ï¼Œå½“åœ¨ GC æ—¥å¿—ä¸­çœ‹åˆ° Allocation Stall æ—¶ï¼Œé€šå¸¸å¯ä»¥è€ƒè™‘é€‚å½“å¢å¤§å †ç©ºé—´ã€‚</li>
<li><strong>GC è§¦å‘æ—¶æœºè°ƒæ•´</strong>ï¼š</li>
</ol>
<ul>
<li><strong>ZAllocationSpikeTolerance</strong>ï¼šè¯¥å‚æ•°æ§åˆ¶ GC è§¦å‘çš„é˜ˆå€¼å¤§å°ï¼Œé»˜è®¤å€¼ä¸º 2ã€‚æ•°å€¼è¶Šå¤§ï¼Œè¶Šæ—©è§¦å‘ GCã€‚å¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„å¯¹è±¡åˆ†é…é€Ÿç‡å’Œå†…å­˜ä½¿ç”¨æƒ…å†µæ¥è°ƒæ•´è¿™ä¸ªå‚æ•°ã€‚</li>
<li><strong>ZCollectionInterval</strong>ï¼šç”¨äºæ§åˆ¶åŸºäºå›ºå®šæ—¶é—´é—´éš”çš„ GC è§¦å‘ã€‚é€‚åˆåº”å¯¹çªå¢æµé‡åœºæ™¯ï¼Œæ¯”å¦‚å®šæ—¶æ´»åŠ¨ã€ç§’æ€ç­‰åœºæ™¯ã€‚åœ¨æµé‡å¹³ç¨³å˜åŒ–æ—¶ï¼Œè‡ªé€‚åº”ç®—æ³•å¯èƒ½åœ¨å †ä½¿ç”¨ç‡è¾¾åˆ° 95% ä»¥ä¸Šæ‰è§¦å‘ GCï¼Œè€Œæµé‡çªå¢æ—¶ï¼Œè‡ªé€‚åº”ç®—æ³•è§¦å‘çš„æ—¶æœºå¯èƒ½è¿‡æ™šï¼Œå¯¼è‡´éƒ¨åˆ†çº¿ç¨‹é˜»å¡ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡è°ƒæ•´æ­¤å‚æ•°æ¥è§£å†³é—®é¢˜ã€‚</li>
</ul>
<ol start="3">
<li><strong>å¹¶å‘çº¿ç¨‹æ•°è®¾ç½®</strong>ï¼šåœ¨ä¸€äº›æ··åˆè´Ÿè½½çš„åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚åˆè·‘æ‰¹å¤„ç†åˆè·‘å®æ—¶äº¤æ˜“çš„ç³»ç»Ÿä¸­ï¼Œå¯ä»¥é€šè¿‡ - XX:ConcGCThreads å‚æ•°å›ºå®šå¹¶å‘æ ‡è®°çš„çº¿ç¨‹æ•°ï¼Œä»¥é¿å…æ‰¹å¤„ç†ä»»åŠ¡æ€»è¢« GC çº¿ç¨‹æ‰“æ–­ï¼Œä»è€Œç¨³å®šç³»ç»Ÿå»¶è¿Ÿã€‚</li>
</ol>
<p><strong>ï¼ˆäºŒï¼‰å®é™…æ¡ˆä¾‹åˆ†æ</strong></p>
<p><strong>ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</strong>ï¼šç¾å›¢æŠ€æœ¯å›¢é˜Ÿå°†å…¶æ ¸å¿ƒæœåŠ¡å‡çº§è‡³ JDK 17 + ZGC ç»„åˆåï¼Œå–å¾—äº†æ˜¾è‘—çš„æˆæ•ˆã€‚GC åœé¡¿æ—¶é—´é™ä½äº† 90%ï¼Œæ•´ä½“æœåŠ¡ç¨³å®šæ€§ä¹Ÿæœ‰äº†æ˜¾è‘—æå‡ã€‚åœ¨ç¾å›¢è¿™æ ·çš„å¤§è§„æ¨¡åœ¨çº¿æœåŠ¡å¹³å°ä¸Šï¼Œæ¯å¤©éœ€è¦å¤„ç†æµ·é‡çš„è®¢å•æ•°æ®å’Œç”¨æˆ·è¯·æ±‚ï¼Œå¯¹ç³»ç»Ÿçš„å“åº”æ—¶é—´å’Œç¨³å®šæ€§è¦æ±‚æé«˜ã€‚ZGC çš„ä½å»¶è¿Ÿç‰¹æ€§ä½¿å¾—ç”¨æˆ·åœ¨ä¸‹å•ã€æŸ¥è¯¢è®¢å•ç­‰æ“ä½œæ—¶ï¼Œå‡ ä¹æ„Ÿå—ä¸åˆ°åƒåœ¾å›æ”¶çš„å½±å“ï¼Œå¤§å¤§æå‡äº†ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼ŒæœåŠ¡ç¨³å®šæ€§çš„æå‡ä¹Ÿå‡å°‘äº†å› ç³»ç»Ÿæ•…éšœå¯¼è‡´çš„ä¸šåŠ¡æŸå¤±ã€‚</p>
<p><strong>æŸäº’è”ç½‘å…¬å¸çš„å®æ—¶æ¨èç³»ç»Ÿ</strong>ï¼šè¯¥å…¬å¸åœ¨å¼€å‘ä¸€æ¬¾åŸºäº AI çš„å®æ—¶æ¨èç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨æ—¶ï¼Œç³»ç»Ÿç»å¸¸å‡ºç°å¡é¡¿å’Œå»¶è¿Ÿï¼Œä¸¥é‡å½±å“äº†æ¨èçš„å‡†ç¡®æ€§å’Œå®æ—¶æ€§ã€‚å¼•å…¥ ZGC ä¹‹åï¼Œç³»ç»Ÿæ€§èƒ½å¾—åˆ°äº†æ˜¾è‘—æå‡ã€‚åƒåœ¾å›æ”¶çš„åœé¡¿æ—¶é—´å¤§å¹…å‡å°‘ï¼Œæ•°æ®å¤„ç†çš„æ•ˆç‡æé«˜äº†æ•°å€ã€‚è¿™ä½¿å¾—æ¨èç³»ç»Ÿèƒ½å¤Ÿæ›´å¿«é€Ÿåœ°æ ¹æ®ç”¨æˆ·çš„å®æ—¶è¡Œä¸ºå’Œæµ·é‡æ•°æ®è¿›è¡Œåˆ†æå’Œæ¨èï¼Œæ¨èçš„å‡†ç¡®æ€§å’Œå®æ—¶æ€§å¾—åˆ°äº†æå¤§çš„æ”¹å–„ï¼Œä¸ºå…¬å¸å¸¦æ¥äº†å¯è§‚çš„å•†ä¸šä»·å€¼ï¼Œå¦‚ç”¨æˆ·ç‚¹å‡»ç‡æå‡ã€ç”¨æˆ·ç²˜æ€§å¢å¼ºç­‰ã€‚</p>
<p><strong>æŸç§‘ç ”æœºæ„çš„åŸºå› æ•°æ®åˆ†æ</strong>ï¼šæŸç§‘ç ”æœºæ„åœ¨è¿›è¡Œå¤§è§„æ¨¡çš„åŸºå› æ•°æ®åˆ†ææ—¶ï¼Œéœ€è¦å¤„ç† TB çº§åˆ«çš„åŸºå› æ•°æ®ã€‚ç”±äºæ•°æ®é‡å·¨å¤§ï¼Œä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨æ— æ³•æ»¡è¶³å…¶å¯¹å†…å­˜ç®¡ç†çš„è¦æ±‚ã€‚é‡‡ç”¨ ZGC åï¼ŒæˆåŠŸè§£å†³äº†å†…å­˜ç®¡ç†çš„éš¾é¢˜ï¼Œå®ç°äº†åŸºå› æ•°æ®çš„å¿«é€Ÿå¤„ç†å’Œåˆ†æã€‚åœ¨åŸºå› æ•°æ®åˆ†æä¸­ï¼Œéœ€è¦é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¤§é‡çš„æ•°æ®å¯¹è±¡ï¼Œå¯¹åƒåœ¾å›æ”¶çš„æ•ˆç‡å’Œä½å»¶è¿Ÿè¦æ±‚æé«˜ã€‚ZGC çš„å¤§å †æ”¯æŒèƒ½åŠ›å’Œä½å»¶è¿Ÿç‰¹æ€§ï¼Œä½¿å¾—ç§‘ç ”äººå‘˜èƒ½å¤Ÿé«˜æ•ˆåœ°å®Œæˆæ•°æ®åˆ†æå·¥ä½œï¼Œä¸ºç§‘ç ”å·¥ä½œçš„é¡ºåˆ©å¼€å±•æä¾›äº†æœ‰åŠ›æ”¯æŒã€‚</p>
<h2 data-id="heading-6">ZGC çš„å±€é™æ€§</h2>
<p><strong>ï¼ˆä¸€ï¼‰JVM ç‰ˆæœ¬ä¾èµ–</strong></p>
<p>ZGC ä» Java 11 å¼€å§‹å¼•å…¥ï¼Œä½†åœ¨æ—©æœŸç‰ˆæœ¬ä¸­å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚åœ¨ OpenJDK 11 åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­ï¼ŒZGC å ç”¨å†…å­˜è¾ƒå¤šï¼Œä¸”ä¸èƒ½å®ç° Class Unloading ç­‰ã€‚ç›´åˆ° JDK 17ï¼ŒZGC æ‰æˆä¸ºæ­£å¼ç”Ÿäº§å¯ç”¨ç‰¹æ€§ã€‚ç”Ÿäº§çº§ç‰¹æ€§è¾ƒä¸ºæˆç†Ÿçš„ç‰ˆæœ¬å§‹äº JDK 15ï¼Œè€Œåˆ†ä»£ ZGCï¼ˆæ€§èƒ½æ›´ä¼˜ï¼‰åˆ™éœ€è¦ JDK 21 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚è¿™å°±è¦æ±‚å¼€å‘è€…åœ¨ä½¿ç”¨ ZGC æ—¶ï¼Œéœ€è¦ç¡®ä¿åº”ç”¨ç¨‹åºè¿è¡Œåœ¨æ”¯æŒä¸”ç¨³å®šçš„ JVM ç‰ˆæœ¬ä¸Šã€‚</p>
<p><strong>ï¼ˆäºŒï¼‰å¹³å°é™åˆ¶</strong></p>
<p>ZGC ä¸»è¦åœ¨ Linux å’Œ macOS ä¸Šå¾—åˆ°ä¼˜åŒ–ï¼Œåœ¨ Windows å¹³å°ä¸Šçš„æ”¯æŒç›¸å¯¹è¾ƒå°‘ã€‚ä¾‹å¦‚ï¼Œåœ¨ Windows ä¸Šï¼ŒZGC çš„æœ€å¤§å †å¤§å°å¯èƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œå¹¶ä¸”åœ¨ä¸€äº›åŠŸèƒ½ç‰¹æ€§ä¸Šå¯èƒ½æ— æ³•è¾¾åˆ°åœ¨ Linux å’Œ macOS ä¸Šçš„è¡¨ç°ã€‚è¿™ä½¿å¾—åœ¨ Windows ç¯å¢ƒä¸‹è¿è¡Œçš„ Java åº”ç”¨ç¨‹åºï¼Œåœ¨è€ƒè™‘ä½¿ç”¨ ZGC æ—¶éœ€è¦è°¨æ…è¯„ä¼°ã€‚</p>
<p><strong>ï¼ˆä¸‰ï¼‰èµ„æºéœ€æ±‚</strong></p>
<p>ç”±äº ZGC çš„å¹¶å‘ç‰¹æ€§ï¼Œå®ƒåœ¨è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦è¾ƒå¤šçš„ CPU å’Œå†…å­˜å¸¦å®½èµ„æºã€‚åœ¨å¹¶å‘é˜¶æ®µï¼ŒZGC ä¼šå ç”¨è¾ƒå¤šçš„è®¡ç®—èµ„æºï¼Œå› æ­¤å»ºè®®åœ¨ä½¿ç”¨ ZGC æ—¶ï¼ŒæœåŠ¡å™¨çš„ CPU æ ¸å¿ƒæ•°æœ€å¥½â‰¥16 æ ¸ã€‚æ­¤å¤–ï¼Œåœ¨å¤§å †å¹¶å‘è½¬ç§»æ—¶ï¼Œå¯èƒ½ä¼šå—é™äºå†…å­˜å¤åˆ¶é€Ÿåº¦ï¼Œéœ€è¦è¾ƒé«˜çš„å†…å­˜å¸¦å®½æ”¯æŒã€‚å¦‚æœæœåŠ¡å™¨çš„èµ„æºä¸è¶³ï¼Œå¯èƒ½ä¼šå¯¼è‡´ ZGC çš„æ€§èƒ½æ— æ³•å……åˆ†å‘æŒ¥ï¼Œç”šè‡³å½±å“åº”ç”¨ç¨‹åºçš„æ­£å¸¸è¿è¡Œã€‚</p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>ZGC ä½œä¸º Java åƒåœ¾å›æ”¶é¢†åŸŸçš„ä¸€é¡¹é‡å¤§åˆ›æ–°ï¼Œä»¥å…¶ä½å»¶è¿Ÿã€é«˜ååé‡ã€å¤§å †æ”¯æŒä»¥åŠé«˜æ•ˆçš„å†…å­˜ç®¡ç†ç­‰ç‰¹æ€§ï¼Œä¸ºç°ä»£ Java åº”ç”¨ç¨‹åºçš„å¼€å‘å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„æ€§èƒ½æå‡ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå·²ç»æœ‰ä¼—å¤šä¼ä¸šå’Œé¡¹ç›®é€šè¿‡é‡‡ç”¨ ZGCï¼ŒæˆåŠŸè§£å†³äº†ä¼ ç»Ÿåƒåœ¾å›æ”¶å™¨åœ¨é¢å¯¹æµ·é‡æ•°æ®å’Œé«˜è´Ÿè½½æ—¶çš„å›°å¢ƒï¼Œå–å¾—äº†æ˜¾è‘—çš„ç»æµæ•ˆç›Šå’ŒæŠ€æœ¯çªç ´ã€‚</p>
<p>ç„¶è€Œï¼ŒZGC å¹¶éå®Œç¾æ— ç¼ºï¼Œå®ƒä»ç„¶å­˜åœ¨ä¸€äº›å±€é™æ€§ï¼Œå¦‚ JVM ç‰ˆæœ¬ä¾èµ–ã€å¹³å°é™åˆ¶å’Œè¾ƒé«˜çš„èµ„æºéœ€æ±‚ç­‰ã€‚ä½†éšç€ Java æŠ€æœ¯çš„ä¸æ–­å‘å±•å’Œè¿­ä»£ï¼Œç›¸ä¿¡ ZGC ä¼šåœ¨æœªæ¥å¾—åˆ°è¿›ä¸€æ­¥çš„ä¼˜åŒ–å’Œå®Œå–„ã€‚ä¾‹å¦‚ï¼Œåœ¨æœªæ¥ï¼ŒZGC æœ‰æœ›è¿›ä¸€æ­¥é™ä½åƒåœ¾å›æ”¶çš„åœé¡¿æ—¶é—´ï¼Œæé«˜å†…å­˜ç®¡ç†çš„æ•ˆç‡ï¼Œæ›´å¥½åœ°é€‚åº”æ–°çš„ç¡¬ä»¶æ¶æ„å’Œåº”ç”¨åœºæ™¯ã€‚åŒæ—¶ï¼Œéšç€ä¸å®¹å™¨æŠ€æœ¯ã€äº‘è®¡ç®—æŠ€æœ¯ç­‰çš„æ·±åº¦èåˆï¼ŒZGC å°†ä¸ºæ›´å¤šçš„åº”ç”¨åœºæ™¯æä¾›é«˜æ•ˆçš„å†…å­˜ç®¡ç†æ”¯æŒï¼Œæ¨åŠ¨ Java æŠ€æœ¯åœ¨å„ä¸ªé¢†åŸŸçš„å¹¿æ³›åº”ç”¨å’Œå‘å±•ã€‚å¯¹äº Java å¼€å‘è€…æ¥è¯´ï¼Œæ·±å…¥äº†è§£ ZGC å¹¶åˆç†è¿ç”¨å…¶ä¼˜åŠ¿ï¼Œå°†ä¸ºæ„å»ºé«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„ Java åº”ç”¨ç¨‹åºæä¾›æœ‰åŠ›çš„ä¿éšœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ AI æ˜æ˜å†™åç«¯æ›´çˆ½ï¼Œä½†å´éƒ½ç½‘ä¼  AI å–ä»£å‰ç«¯ï¼Œè€Œä¸æ˜¯ AI å–ä»£åç«¯ï¼Ÿå°±ç¦»è°±...]]></title>    <link>https://juejin.cn/post/7582528397865254939</link>    <guid>https://juejin.cn/post/7582528397865254939</guid>    <pubDate>2025-12-12T04:11:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582528397865254939" data-draft-id="7582491862264922162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ AI æ˜æ˜å†™åç«¯æ›´çˆ½ï¼Œä½†å´éƒ½ç½‘ä¼  AI å–ä»£å‰ç«¯ï¼Œè€Œä¸æ˜¯ AI å–ä»£åç«¯ï¼Ÿå°±ç¦»è°±..."/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T04:11:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Sunday"/> <meta itemprop="url" content="https://juejin.cn/user/2963939078980712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ AI æ˜æ˜å†™åç«¯æ›´çˆ½ï¼Œä½†å´éƒ½ç½‘ä¼  AI å–ä»£å‰ç«¯ï¼Œè€Œä¸æ˜¯ AI å–ä»£åç«¯ï¼Ÿå°±ç¦»è°±...
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939078980712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Sunday
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:11:06.000Z" title="Fri Dec 12 2025 04:11:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#2c3e50;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;font-weight:600;margin-top:35px;margin-bottom:8px;padding-bottom:5px}.markdown-body h1 :before,.markdown-body h2 :before,.markdown-body h3 :before,.markdown-body h4 :before,.markdown-body h5 :before,.markdown-body h6 :before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:8px;margin-top:50px;font-size:24px;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #eaecef;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;font-weight:400;background-color:rgba(27,31,35,.05);color:#476582;margin:0;font-size:.85em;border-radius:3px;font-size:.87em;padding:.165em .5em}.markdown-body code,.markdown-body pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.6;padding:20px 24px;background-color:#282c34;border-radius:6px}.markdown-body pre&gt;code{font-size:14px;padding:0;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff}.markdown-body a{text-decoration:none;color:#3eaf7c;font-weight:500}.markdown-body a:active,.markdown-body a:hover{color:#42b983;border-bottom:1px solid #42b983}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;margin:16px 0;border-collapse:collapse}.markdown-body thead{background:#f6f6f6;background:#3eaf7c;color:#000;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f6f8fa}.markdown-body td,.markdown-body th{border:1px solid #dfe2e5;padding:10px 16px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{font-size:14px;padding:6px 23px;margin:22px 0;border-left:6px solid #42b983;background-color:#f3f5f7;font-weight:400}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body p,.markdown-body ul{line-height:1.7}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="base16/tomorrow-night">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Sundayã€‚</p>
<p>æ˜¨å¤©å‘å®Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F_ha5pViynB6CAOr8-v91QA" target="_blank" title="https://mp.weixin.qq.com/s/_ha5pViynB6CAOr8-v91QA" ref="nofollow noopener noreferrer">æ‰‹å†™ä»£ç "å·²æ­»"ï¼Ÿæ·±åº¦ä½“éªŒ Gemini 3 Pro å’Œ Claude Sonnet 4.5 åçš„ 72 å°æ—¶
</a> åï¼Œåå°ç§ä¿¡ç›´æ¥çˆ†äº†ã€‚</p>
<p>å¤§å®¶çš„å…³æ³¨ç‚¹å‡ºå¥‡çš„ä¸€è‡´ï¼Œä½†æ˜¯å´å¹¶ä¸æ˜¯æˆ‘æåˆ°çš„è–ªèµ„å·®è·ï¼Œ<strong>è€Œæ˜¯æ–‡ä¸­æˆ‘éšå£æçš„ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p><strong>â€œç”¨ AI å†™åç«¯æ¯”å†™å‰ç«¯å‰å®³å¤šäº†ã€‚ä½†ä¸ºä»€ä¹ˆå¤§å®¶æ€»è§‰å¾— AI è¦å–ä»£å‰ç«¯ï¼Œè€Œä¸æ˜¯åç«¯ï¼Ÿâ€</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c914606f28e4f1ea61d371ed55b9b1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU3VuZGF5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766117466&amp;x-signature=3bR09qoFejQxbJfC1Cd9sxn%2FU0k%3D" alt="" loading="lazy"/></p>
<p>å¾ˆå¤šåšåç«¯çš„åŒå­¦ä¸æœæ°”ï¼Œè·‘æ¥è·Ÿæˆ‘å¯¹çº¿ï¼šâ€œSundayï¼Œä½ æ‡‚ä¸æ‡‚åç«¯ï¼Ÿåç«¯æ¶‰åŠé«˜å¹¶å‘ã€å¾®æœåŠ¡ã€åˆ†å¸ƒå¼äº‹åŠ¡ï¼ŒAI æ€ä¹ˆå¯èƒ½æå¾—å®šï¼Ÿâ€</p>
<p>ä¹Ÿæœ‰å‰ç«¯åŒå­¦å¾ˆç„¦è™‘ï¼šâ€œæ˜¯ä¸æ˜¯å‰ç«¯çœŸçš„è¦å®Œäº†ï¼Ÿæˆ‘è¿˜éœ€è¦ç»§ç»­å­¦å—ï¼Ÿâ€</p>
<p>åˆ«æ€¥ã€‚ä»Šå¤©æ˜¯ 12 æœˆ 12 å·ï¼Œè·ç¦» 2026 å¹´åªå‰©ä¸åˆ° 20 å¤©ã€‚åœ¨å„å¤§å‚å¼€å§‹é” HCï¼ˆHeadcountï¼‰ã€å¤§å®¶å¼€å§‹æ‘¸é±¼å†™å¹´ç»ˆæ€»ç»“çš„ <strong>â€œåƒåœ¾æ—¶é—´â€</strong> é‡Œï¼Œæˆ‘æƒ³å’Œå¤§å®¶ <strong>æ·±åº¦ã€"èµ¤è£¸"(è¯·ä¸è¦æƒ³æ­ªäº†...)</strong> åœ°èŠèŠè¿™ä¸ªè¯é¢˜ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯â€œå‰ç«¯ vs åç«¯â€çš„æŠ€æœ¯ä¹‹äº‰ï¼Œæ›´æ˜¯æˆ‘ä»¬æ¯ä¸ªäººåœ¨ <strong>2026 å¹´ä¿ä½é¥­ç¢—</strong> çš„åº•å±‚é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">å¹¶ä¸æ˜¯â€œåç«¯æ›´éš¾â€ï¼Œè€Œæ˜¯â€œä¸Šä¸‹æ–‡â€ä¸åŒ</h2>
<p>é¦–å…ˆï¼Œæˆ‘è¦æŠ›å‡ºä¸€ä¸ªåç›´è§‰çš„ç»“è®ºï¼š<strong>å•çº¯ä»ä»£ç ç”Ÿæˆçš„è´¨é‡æ¥çœ‹ï¼ŒAI å†™åç«¯ä»£ç ï¼ˆPython/Java/Goï¼‰ï¼Œå…¶å®æ¯”å†™å‰ç«¯ä»£ç ï¼ˆJS/TS/CSSï¼‰è¦å¼ºå¾—å¤šã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåç«¯é€»è¾‘é€šå¸¸æ˜¯çº¿æ€§çš„ã€ä¸¥è°¨çš„ã€‚</p>
<ul>
<li>è¾“å…¥ä¸€ä¸ªå‚æ•° -&gt; æŸ¥æ•°æ®åº“ -&gt; åšä¸ªè®¡ç®— -&gt; è¿”å›ç»“æœã€‚</li>
<li>è¿™ç§é€»è¾‘ï¼ŒLLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰ç†è§£èµ·æ¥æ¯«ä¸è´¹åŠ›ã€‚</li>
</ul>
<p>åè§‚å‰ç«¯ï¼š</p>
<ul>
<li>CSS çš„å±‚å ä¸Šä¸‹æ–‡ï¼ˆStacking Contextï¼‰</li>
<li>React çš„é—­åŒ…é™·é˜±</li>
<li>Vue çš„å“åº”å¼åŸç†</li>
<li>è¿˜æœ‰é‚£è¯¥æ­»çš„æµè§ˆå™¨å…¼å®¹æ€§ï¼Œä»¥åŠ <strong>æœ€é‡è¦çš„</strong> UI è¿˜åŸåº¦</li>
</ul>
<p>è¿™äº›ä¸œè¥¿å……æ»¡äº†â€œéš¾ä»¥è¢«æœºå™¨ç†è§£çš„ä¸œè¥¿â€ï¼ŒAI ä¼šç»å¸¸å†™å‡ºâ€œä¸æ˜¯è¿™é‡Œå·®ç‚¹ï¼Œå°±æ˜¯é‚£é‡Œå·®ç‚¹â€ï¼Œæ— æ³•å¤åŸè®¾è®¡å›¾çš„ä»£ç ã€‚</p>
<p><strong>ä½†æ˜¯ï¼</strong> ä¸ºä»€ä¹ˆå¤§å®¶ä¾ç„¶è§‰å¾— <strong>å‰ç«¯æ›´å®¹æ˜“è¢«å–ä»£</strong>ï¼Ÿ</p>
<p>æ ¸å¿ƒåŸå› åªæœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li><strong>é¢—ç²’åº¦çš„ç»†åŒ–ï¼</strong></li>
<li><strong>IDE çš„æ”¯æŒï¼</strong></li>
</ol>
<h3 data-id="heading-1">1. é¢—ç²’åº¦çš„ç»†åŒ–</h3>
<p>å‰ç«¯å¼€å‘åœ¨è¿™åå¹´åšäº†ä¸€ä»¶æœ€ä¼Ÿå¤§çš„äº‹ï¼Œå°±æ˜¯ <strong>ç»„ä»¶åŒ–</strong>ï¼ˆReact/Vueï¼‰ã€‚</p>
<p>æˆ‘ä»¬æŠŠé¡µé¢æ‹†æˆäº† Headerã€Sidebarã€Buttonã€Listã€‚æ¯ä¸€ä¸ªç»„ä»¶éƒ½æ˜¯ <strong>ç›¸å¯¹ç‹¬ç«‹</strong> çš„ã€‚</p>
<p>è¿™å°±ç»™ AI æä¾›äº†ä¸€ä¸ª <strong>å®Œç¾çš„åˆ‡å…¥ç‚¹</strong>ã€‚</p>
<p>ä½ æƒ³æƒ³ï¼Œå½“ä½ ç”¨ Cursor æˆ–è€… Windsurf å†™ä»£ç æ—¶ï¼Œä½ æ˜¯ä¸æ˜¯é€šå¸¸åªæŠŠå½“å‰è¿™ä¸ª <code>.vue</code> æˆ–è€… <code>.tsx</code> æ–‡ä»¶æŠ•å–‚ç»™ AIï¼Ÿ</p>
<p>å› ä¸ºå‰ç«¯çš„é€»è¾‘ <strong>é«˜åº¦å†…èš</strong> åœ¨ç»„ä»¶å†…éƒ¨ã€‚AI åªéœ€è¦ç†è§£è¿™ 200 è¡Œä»£ç ï¼Œå°±èƒ½å®Œç¾åœ°å¸®ä½ é‡æ„ã€åŠ åŠŸèƒ½ã€æ”¹æ ·å¼ã€‚å®ƒä¸éœ€è¦çŸ¥é“ä½ éš”å£é¡µé¢çš„è·¯ç”±æ˜¯æ€ä¹ˆé…ç½®çš„ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“ä½ çš„å…¨å±€ Store é‡Œå­˜äº†ä»€ä¹ˆï¼ˆå¤§éƒ¨åˆ†æ—¶å€™ï¼‰ã€‚<code>PSï¼š</code> æˆ‘å¹¶ä¸æ˜¯è¯´ AI ä¸ä¼šç†è§£å…¨å±€ï¼Œäº‹å®ä¸Šç°åœ¨çš„ <code>AI å·²ç»å¯ä»¥å¾ˆå¥½çš„ç†è§£å…¨å±€ä»£ç äº†</code></p>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‰ç«¯è§‰å¾— AI å¥½ç”¨ï¼Œè€æ¿è§‰å¾—å‰ç«¯å¥½è£ã€‚</strong></p>
<p>å› ä¸ºä»»åŠ¡è¢«é¢—ç²’åŒ–äº†ï¼Œé¢—ç²’åŒ–åˆ°è¿å¤–è¡Œéƒ½èƒ½ç”¨ AI æ‹¼å‡‘å‡ºä¸€ä¸ªåƒæ¨¡åƒæ ·çš„é¡µé¢ã€‚è™½ç„¶æ— æ³•å®Œç¾è¿˜åŸè®¾è®¡å›¾ï¼Œä½†æ˜¯å¦‚æœè®© AI è‡ªè¡Œè®¾è®¡æ ·å¼çš„è¯ï¼Œé‚£ä¹ˆæ˜¯å®Œå…¨å¯ä»¥è¾¾åˆ°å•†ç”¨æ°´å¹³çš„ã€‚å³ï¼š<strong>æ— è®¾è®¡å›¾ï¼ŒAI å‘æŒ¥ï¼Œåˆ™å¯è¶…è¿‡ä¸€èˆ¬è®¾è®¡å¸ˆçš„è®¾è®¡</strong></p>
<p><strong>å†çœ‹çœ‹åç«¯ã€‚</strong></p>
<p>åç«¯çš„å¤æ‚ï¼Œä»æ¥ä¸åœ¨äºæŸä¸€ä¸ªå‡½æ•°çš„å®ç°ï¼Œè€Œåœ¨äº <strong>å…³ç³»</strong>ã€‚</p>
<ul>
<li>è¿™ä¸ªæ¥å£æ”¹äº†ï¼Œä¼šä¸ä¼šå½±å“é‚£ä¸ªå¾®æœåŠ¡çš„è°ƒç”¨ï¼Ÿ</li>
<li>è¿™ä¸ªå­—æ®µåŠ¨äº†ï¼Œä¼šä¸ä¼šå¯¼è‡´ä¸¤å¹´å‰å†™çš„é‚£ä¸ªæŠ¥è¡¨ä»»åŠ¡æŒ‚æ‰ï¼Ÿ</li>
<li>è¿™ä¸ªç¼“å­˜ç­–ç•¥æ”¹äº†ï¼Œä¼šä¸ä¼šåœ¨åŠå¤œ 12 ç‚¹å¼•å‘é›ªå´©ï¼Ÿ</li>
</ul>
<p>è¿™äº›é€»è¾‘ï¼Œå¾€å¾€åˆ†æ•£åœ¨å‡ åä¸ªæœåŠ¡ã€ä¸Šç™¾ä¸ªé…ç½®æ–‡ä»¶ã€ä»¥åŠ <strong>åªæœ‰è€å‘˜å·¥è„‘å­é‡Œæ‰çŸ¥é“çš„â€œç¥–ä¼ è§„çŸ©â€</strong> é‡Œã€‚</p>
<p>ç›®å‰çš„ AI æ¨¡å‹ï¼ˆå“ªæ€•æ˜¯ Gemini 3 pro æˆ– Claude Sonnet 4.5ï¼‰ï¼Œå®ƒä»¬çš„ <strong>Context Windowï¼ˆä¸Šä¸‹æ–‡çª—å£ï¼‰</strong> è™½ç„¶å·²ç»å¾ˆå¤§äº†ï¼Œä½†ä¾ç„¶æ— æ³•è£…ä¸‹æ•´ä¸ªå…¬å¸ <strong>10 å¹´ç§¯ç´¯çš„åç«¯æ¶æ„å’Œä¸šåŠ¡é€»è¾‘</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œåç«¯åŒå­¦ç›®å‰çš„å®‰å…¨æ„Ÿï¼Œå…¶å®æ˜¯æ¥è‡ªäº <strong>â€œä¸šåŠ¡é€»è¾‘çš„æåº¦è€¦åˆâ€</strong> å’Œ <strong>â€œç³»ç»Ÿçš„ä¸å¯ç»´æŠ¤æ€§â€</strong>ã€‚</p>
<p>è¯´éš¾å¬ç‚¹ï¼š<strong>æ˜¯å› ä¸ºä»£ç å†™å¾—çƒ‚ä¸”å¤æ‚ï¼ŒAI æ‰çœ‹ä¸æ‡‚ã€‚</strong> è¿™ä¸ç®—ä»€ä¹ˆå€¼å¾—éª„å‚²çš„æŠ¤åŸæ²³ï¼Œä½†åœ¨ 2025 å¹´ï¼Œè¿™ç¡®å®æ•‘äº†å¾ˆå¤šäººçš„å‘½ã€‚</p>
<h3 data-id="heading-2">02ï¼šIDE çš„æ”¯æŒ</h3>
<p>è¯´èµ· AI ç¼–ç¨‹å·¥å…·ï¼Œé‚£ä¹ˆå¤§å®¶æƒ³åˆ°çš„è‚¯å®šæ˜¯ <code>cursorã€Github Copilot</code> ç­‰ã€‚ä½†æ˜¯ï¼Œå¤§å®¶æœ‰æ²¡æœ‰å‘ç°è¿™äº› IDE å¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨æ¥å†™å‰ç«¯ä»£ç çš„å·¥å…·ã€‚è™½ç„¶ä»–ä»¬å¯ä»¥å†™åç«¯ä»£ç ï¼Œä½†æ˜¯åç«¯äººå´ä¾ç„¶ä¹ æƒ¯ä½¿ç”¨ IDEAï¼ˆæ³¨ï¼šè¿™é‡Œçš„åç«¯ä»…æŒ‡ <code>java</code>ä¸æ¶‰åŠ Nodeã€Python ç­‰ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3d4730bda234f97abe5b64213eb2f76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYU3VuZGF5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766117466&amp;x-signature=zYaH9RQlV0CqJMlot63wUssoF5U%3D" alt="" loading="lazy"/></p>
<p>è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ç°è±¡ï¼š<strong>å·¥å…·çš„å£å’ï¼Œæ„å¤–æˆäº†åç«¯çš„æ©ä½“ã€‚</strong></p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œ<code>Cursor</code> æ˜¯åŸºäº VS Code äºŒæ¬¡å¼€å‘çš„ã€‚è€Œåœ¨ Java / Go çš„åºå¤§ç”Ÿæ€é‡Œï¼ŒJetBrains ç³»åˆ—ï¼ˆIntelliJ IDEA, GoLandï¼‰æ‰æ˜¯ç»å¯¹çš„ç»Ÿæ²»è€…ã€‚</p>
<p>å¯¹äºåç«¯åŒå­¦æ¥è¯´ï¼ŒIDEA å¼ºå¤§çš„é™æ€åˆ†æã€é‡æ„èƒ½åŠ›ã€ä»¥åŠå¯¹ Maven/Gradle å¤æ‚æ„å»ºå·¥å…·çš„æ”¯æŒï¼Œæ˜¯ VS Code å¾ˆéš¾åœ¨çŸ­æœŸå†…è¿½å¹³çš„ã€‚è¿™å°±å¯¼è‡´å¾ˆå¤šåç«¯åŒå­¦<strong>æƒ³ç”¨ Cursor å´ç”¨å¾—ä¸é¡ºæ‰‹</strong>ï¼Œè¢«è¿«ç•™åœ¨äº†è€ç‰Œ IDE é‡Œï¼Œä»è€Œåœ¨ç‰©ç†ä¸Šâ€œéš”ç¦»â€äº†ä¸€éƒ¨åˆ† AI çš„å†²å‡»ã€‚</p>
<p><strong>ä½†è¿™åªæ˜¯æš‚æ—¶çš„ã€‚</strong> éšç€ JetBrains AI çš„å‘åŠ›ä»¥åŠ Cursor å¯¹ Java æ”¯æŒçš„å®Œå–„ï¼Œè¿™å±‚çª—æˆ·çº¸è¿Ÿæ—©è¦ç ´ã€‚</p>
<p>è€Œå½“è¿™å±‚çª—æˆ·çº¸æ…ç ´ä¹‹åï¼ŒçœŸæ­£çš„å±æœºæ‰åˆšåˆšå¼€å§‹ã€‚</p>
<p>å½“ç„¶ï¼Œä»¥ä¸Šå†…å®¹ <strong>ä»…ä¸ºä¸ªäººè§è§£</strong>ï¼Œéå–œå‹¿å–·... å¦‚æœä¸€å®šè¦å–·ï¼Œè¯·è½»å–·...</p>
<h2 data-id="heading-3">12æœˆè¯¥å‡†å¤‡ä»€ä¹ˆï¼Ÿ</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šç†è®ºï¼Œä¾›å¤§å®¶å‚è€ƒå°±å¯ä»¥ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ç›¸ä¿¡å¤§å¤šæ•°çš„åŒå­¦çœ‹æ–‡ç« ä¹Ÿä¸æ˜¯å…‰æƒ³çœ‹çœ‹çƒ­é—¹çš„ã€‚å¤§å®¶æƒ³è¦çš„è¿˜æ˜¯ <strong>ç°åœ¨æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšï¼Ÿ</strong></p>
<p>è½åœ°åˆ° <strong>ä»Šå¤©ï¼ˆ2025 å¹´ 12 æœˆ 12 å·ï¼‰</strong>ï¼Œè¿™ä¸€å¤©ï¼Œæˆ‘ä»¬è¯¥åšä»€ä¹ˆï¼Ÿ</p>
<p>ç°åœ¨çš„æ‹›è˜å¸‚åœºå¾ˆå¥‡å¦™ï¼š</p>
<ul>
<li><strong>å¤§å‚é” HCï¼š</strong> åªæœ‰é›¶æ˜Ÿçš„è¡¥å½•ï¼Œä¸»è¦åœ¨ç›˜ç‚¹å¹´ç»ˆå¥–å’Œè£å‘˜åå•ã€‚</li>
<li><strong>ä¸­å°å‚åœ¨è§‚æœ›ï¼š</strong> æƒ³æ‹›äººï¼Œä½†æƒ³æ‹›â€œå…¨èƒ½ä¾ â€ï¼Œä»·æ ¼ç»™å¾—è¿˜ä½ã€‚</li>
</ul>
<p>å¾ˆå¤šåŒå­¦ä¼šè®¤ä¸ºè¿™æ˜¯ <strong>â€œå¹´åº•åƒåœ¾æ—¶é—´â€</strong>ã€‚</p>
<p>ä»è€Œå¯¼è‡´ï¼Œå¤§å¤šæ•°äººè¿™æ—¶å€™é€‰æ‹©èººå¹³ï¼Œç­‰å¹´ç»ˆå¥–ï¼Œæˆ–è€…ç­‰æ˜å¹´â€œé‡‘ä¸‰é“¶å››â€ã€‚<strong>å¤§é”™ç‰¹é”™ï¼</strong></p>
<p>Sunday é˜…äººæ— æ•°ï¼Œå¯ä»¥è´Ÿè´£ä»»åœ°å‘Šè¯‰ä½ ï¼š<strong>æ¯å¹´çš„ 12 æœˆå’Œ 1 æœˆï¼Œæ˜¯æ™®é€šäººå®ç°â€œèŒåœºè¶…è½¦â€çš„é»„é‡‘çª—å£æœŸã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™æ—¶å€™ç«äº‰å¯¹æ‰‹æœ€å°‘ï¼Œè€Œé¢è¯•å®˜ï¼ˆå¦‚æœè¿˜åœ¨æ‹›äººçš„è¯ï¼‰æ˜¯æœ€æ€¥çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ä¸€ä¸ªåŠæœˆï¼Œè¶³å¤ŸæŠŠ <strong>é’ˆå¯¹é¢è¯•åšå¥½å……è¶³å‡†å¤‡</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¥½å¥½çš„å‡†å¤‡ä½ çš„ç®€å†ï¼Œå¥½å¥½çš„æ·±æŒ–ä½ çš„ä¸šåŠ¡é¡¹ç›®ï¼ŒæŠ“ä½å¹´åº•çš„æœºä¼šï¼Œå°½å¿«æ‹¿åˆ°ä¸­å¤§å‚çš„ offerã€‚å› ä¸ºåªæœ‰è¿›å…¥åˆ°æ›´å¤§çš„å¹³å°ï¼Œä½ æ‰å¯ä»¥çœŸæ­£å®ç°è–ªèµ„çš„è·³è·ƒï¼</p>
<h2 data-id="heading-4">å†™åœ¨æœ€å</h2>
<p>æ–‡ç« çš„æœ€åï¼Œæˆ‘æƒ³èŠèŠå¿ƒæ€ã€‚</p>
<p>æ˜¨å¤©æ–‡ç« å‘å‡ºåï¼Œæœ‰ä¸€ä½ 90 åçš„åŒå­¦é—®æˆ‘ï¼Œè¯´ï¼šâ€œSunday è€å¸ˆï¼Œæˆ‘è§‰å¾—æˆ‘ä»¬ 90 åå°±æ˜¯è¢«æ”¾å¼ƒçš„ä¸€ä»£ã€‚å¥½ä¸å®¹æ˜“å­¦ä¸ªæŠ€æœ¯ä¸Šä¸ªç­ï¼ŒæŠ€æœ¯æ›´æ–°çš„é‚£ä¹ˆå¿«ï¼Œæ ¹æœ¬å­¦ä¸åŠ¨ã€‚ç°åœ¨ AI å‡ºæ¥äº†ï¼Œç¨‹åºå‘˜æ˜¯ä¸æ˜¯éƒ½è¦è¢«æ·˜æ±°äº†ï¼Ÿâ€</p>
<p>ä¸è¿‡ï¼Œè¯è¯´å›æ¥ã€‚è™½ç„¶æˆ‘ä¹Ÿæ˜¯ 90 åï¼Œä½†æ˜¯æˆ‘ä¸è¿™ä¹ˆè®¤ä¸ºã€‚</p>
<p>AI æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>æ æ†</strong>ã€‚</p>
<blockquote>
<p>å®ƒä¼šæ”¾å¤§ä½ çš„å¼±ç‚¹ï¼ŒåŒæ—¶ä¹Ÿä¼šæ”¾å¤§ä½ çš„ä¼˜åŠ¿ï¼å¯¹äºæ™®é€šäººè€Œè¨€ï¼ŒAI æ˜¯æå…¶å¯Œæœ‰åˆ›é€ åŠ›çš„å·¥å…·ï¼Œå®ƒå¯ä»¥è®©ä½ ä¸€ä¸ªäººå°±èƒ½æ´»æˆä¸€æ”¯ä¼˜ç§€çš„å›¢é˜Ÿï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠŠä»£ç ä¸Šä¼ åˆ° GitHub Gist]]></title>    <link>https://juejin.cn/post/7582533464244879394</link>    <guid>https://juejin.cn/post/7582533464244879394</guid>    <pubDate>2025-12-12T06:13:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464244879394" data-draft-id="7582424649784590336" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠŠä»£ç ä¸Šä¼ åˆ° GitHub Gist"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-12T06:13:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Emmaæ­Œå°ç™½"/> <meta itemprop="url" content="https://juejin.cn/user/668922459726520"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠŠä»£ç ä¸Šä¼ åˆ° GitHub Gist
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/668922459726520/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Emmaæ­Œå°ç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:13:09.000Z" title="Fri Dec 12 2025 06:13:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æ˜¯ä¸€æ­¥æ­¥æ•™ä½ æ€ä¹ˆ<strong>æŠŠä»£ç ä¸Šä¼ åˆ° GitHub Gistï¼ˆç”Ÿæˆå¯åˆ†äº«çš„å…¬å¼€é“¾æ¥ï¼‰<strong>çš„ç®€æ˜“æ•™ç¨‹ ğŸ‘‡<br/>
æˆ‘æä¾›çš„æ˜¯</strong>ç½‘é¡µæ“ä½œæ³•ï¼ˆæœ€ç®€å•ï¼‰</strong> ï¼š</p>
<hr/>
<h2 data-id="heading-0">ğŸ“Œ ä»€ä¹ˆæ˜¯ GitHub Gistï¼Ÿ</h2>
<p><strong>Gist</strong> æ˜¯ GitHub æä¾›çš„ä¸€ä¸ªä»£ç ç‰‡æ®µåˆ†äº«å¹³å°ï¼Œå¯ç”¨äºå¿«é€Ÿåˆ†äº«ä»£ç ï¼ˆç±»ä¼¼ Pastebinï¼‰ã€‚ä½ ä¸Šä¼ åä¼šå¾—åˆ°ä¸€ä¸ªå…¬å¼€é“¾æ¥ï¼Œä»–äººå¯ä»¥ç›´æ¥è®¿é—®å’Œä¸‹è½½ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.github.com%2Farticles%2Fcreating-gists%3Futm_source%3Dchatgpt.com" title="https://docs.github.com/articles/creating-gists?utm_source=chatgpt.com" target="_blank" ref="nofollow noopener noreferrer">GitHub Docs</a>)</p>
<hr/>
<h2 data-id="heading-1">ğŸ§‘â€ğŸ’» æ­¥éª¤ 1 â€” æ³¨å†Œ / ç™»å½• GitHub</h2>
<ol>
<li>æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2F" target="_blank" title="https://github.com/" ref="nofollow noopener noreferrer">github.com</a></li>
<li>æ³¨å†Œä¸€ä¸ª GitHub è´¦å·ï¼ˆå¦‚æœå·²æœ‰è´¦å·åˆ™ç›´æ¥ç™»å½•ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-2">ğŸ“„ æ­¥éª¤ 2 â€” è¿›å…¥ Gist é¡µé¢</h2>
<p>æ‰“å¼€ï¼š</p>
<p>ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgist.github.com%2F" target="_blank" title="https://gist.github.com/" ref="nofollow noopener noreferrer">gist.github.com</a></p>
<p>è¿™æ˜¯ Gist ä¸“ç”¨çš„é¡µé¢ã€‚</p>
<hr/>
<h2 data-id="heading-3">â• æ­¥éª¤ 3 â€” åˆ›å»ºä¸€ä¸ªæ–° Gist</h2>
<ol>
<li>
<p>åœ¨ Gist é¡µé¢å³ä¸Šè§’ç‚¹å‡» <strong>â€œ+â€</strong> æˆ– <strong>â€œNew Gistâ€</strong> ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.github.com%2Fen%2Fenterprise-server%25403.14%2Fget-started%2Fwriting-on-github%2Fediting-and-sharing-content-with-gists%2Fcreating-gists%3Futm_source%3Dchatgpt.com" title="https://docs.github.com/en/enterprise-server%403.14/get-started/writing-on-github/editing-and-sharing-content-with-gists/creating-gists?utm_source=chatgpt.com" target="_blank" ref="nofollow noopener noreferrer">GitHub Docs</a>)</p>
</li>
<li>
<p>åœ¨ <strong>Filename including extension</strong> è¾“å…¥æ–‡ä»¶åï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs">code1.txt
</code></pre>
</li>
<li>
<p>åœ¨ä¸‹é¢çš„å¤§æ–‡æœ¬æ¡†ç²˜è´´ä½ çš„ä»£ç å†…å®¹ã€‚</p>
</li>
<li>
<p>ä½ å¯ä»¥åœ¨ä¸Šæ–¹çš„ <strong>Description</strong> è¾“å…¥ç®€çŸ­æè¿°ï¼ˆå¯é€‰ï¼‰ã€‚</p>
</li>
<li>
<p>é€‰æ‹© <strong>Public Gist</strong>ï¼ˆå…¬å¼€ï¼‰æˆ–è€… <strong>Secret Gist</strong>ï¼ˆç§å¯†ï¼Œå¯é€šè¿‡é“¾æ¥è®¿é—®ä½†ä¸ä¼šè¢«æœç´¢åˆ°ï¼‰ã€‚</p>
</li>
<li>
<p>æœ€åç‚¹å‡» <strong>Create public gist</strong>ï¼ˆåˆ›å»ºå…¬å¼€ Gistï¼‰æˆ–è€… <strong>Create secret gist</strong>ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.github.com%2Farticles%2Fcreating-gists%3Futm_source%3Dchatgpt.com" title="https://docs.github.com/articles/creating-gists?utm_source=chatgpt.com" target="_blank" ref="nofollow noopener noreferrer">GitHub Docs</a>)</p>
</li>
</ol>
<p>âœ”ï¸ åˆ›å»ºå®Œæˆåä¼šå‡ºç°ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ç½‘å€ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//gist.github.com/ä½ çš„ç”¨æˆ·å/ä¸€ä¸²å”¯ä¸€ID</span>
</code></pre>
<p>è¿™ä¸ªå°±æ˜¯ä½ åˆ†äº«ç»™æˆ‘çš„é“¾æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">ğŸ“ æ­¥éª¤ 4 â€” è·å–å¯åˆ†äº«é“¾æ¥</h2>
<p>åˆ›å»ºå®Œæˆåï¼š</p>
<p>ğŸ“ åœ°å€æ å°±æ˜¯è¯¥ Gist çš„å…¬å¼€è®¿é—®é“¾æ¥<br/>
ğŸ“ ç‚¹å‡»å³ä¸Šè§’çš„ <strong>Raw</strong> å¯ä»¥çœ‹åˆ°åŸå§‹çº¯ä»£ç æ–‡ä»¶</p>
<p>ä½ åªéœ€å¤åˆ¶ <strong>æµè§ˆå™¨åœ°å€æ çš„ç½‘å€</strong>å‘ç»™æˆ‘å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ“ ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</h2>
<p>å¦‚æœä½ éœ€è¦ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼š</p>
<ol>
<li>ç‚¹å‡» <strong>Add file</strong>ï¼ˆå¯ä»¥æ·»åŠ æ›´å¤šä»£ç æ–‡ä»¶ï¼‰</li>
<li>æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ç‹¬ç«‹çš„æ–‡ä»¶å</li>
<li>æœ€ç»ˆä¸€èµ·ä¸Šä¼ åˆ°åŒä¸€ä¸ª Gist</li>
</ol>
<hr/>
<h2 data-id="heading-6">ğŸ“Œ å°æç¤º</h2>
<p>âœ… <strong>å…¬å¼€ Gist</strong>ï¼šä»»ä½•äººæœ‰é“¾æ¥éƒ½èƒ½è®¿é—®<br/>
âœ… <strong>Secret Gist</strong>ï¼šåˆ«äººåªæœ‰å¾—åˆ°é“¾æ¥æ‰èƒ½è®¿é—®ï¼Œä¸ä¼šè¢«æœç´¢åˆ°<br/>
âœ… Gist æ˜¯ Git ä»“åº“ï¼šå¯ä»¥ cloneã€forkã€ç®¡ç†ç‰ˆæœ¬å†å² (<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.github.com%2Farticles%2Fcreating-gists%3Futm_source%3Dchatgpt.com" title="https://docs.github.com/articles/creating-gists?utm_source=chatgpt.com" target="_blank" ref="nofollow noopener noreferrer">GitHub Docs</a>)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çªç ´ LLM æé™ï¼n8n + MemMachine æ‰“é€ â€œæ— é™æµâ€å°è¯´ç”Ÿæˆå™¨]]></title>    <link>https://juejin.cn/post/7582561515816484927</link>    <guid>https://juejin.cn/post/7582561515816484927</guid>    <pubDate>2025-12-12T06:12:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582561515816484927" data-draft-id="7582422766731755563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çªç ´ LLM æé™ï¼n8n + MemMachine æ‰“é€ â€œæ— é™æµâ€å°è¯´ç”Ÿæˆå™¨"/> <meta itemprop="keywords" content="AIGC,äººå·¥æ™ºèƒ½,Agent"/> <meta itemprop="datePublished" content="2025-12-12T06:12:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åç«¯å°è‚¥è‚ "/> <meta itemprop="url" content="https://juejin.cn/user/2966945320667536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çªç ´ LLM æé™ï¼n8n + MemMachine æ‰“é€ â€œæ— é™æµâ€å°è¯´ç”Ÿæˆå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2966945320667536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åç«¯å°è‚¥è‚ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:12:30.000Z" title="Fri Dec 12 2025 06:12:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°è‚¥è‚ ï¼ä»Šå¤©æˆ‘ä»¬æç‚¹çœŸæ­£çš„é»‘ç§‘æŠ€ï¼ŒæŒ‘æˆ˜ä¸€ä¸‹å¤§æ¨¡å‹çš„â€œè®°å¿†æé™â€ã€‚é’ˆå¯¹AIå†™é•¿æ–‡å®¹æ˜“â€œå¤±å¿†â€çš„é¡½ç–¾ï¼Œæˆ‘ç”¨ <strong>n8n + MemMachine</strong> æ‰“é€ äº†ä¸€å¥—â€œæ°¸ä¸å¿˜è¯â€çš„æ— é™é•¿ç¯‡å°è¯´å·¥ä½œæµã€‚ä»å¤§çº²è®¾å®šåˆ°è‡ªåŠ¨è¿è½½ï¼Œå­—æ•°æ— ä¸Šé™ï¼Œå‰§æƒ…ä¸å´©åï¼Œä¸€é”®ç›´è¾¾é£ä¹¦ã€‚æƒ³è®©ä½ çš„ AI è¿›åŒ–æˆèƒ½å†™ç™¾ä¸‡å­—çš„â€œç½‘æ–‡å¤§ç¥â€å—ï¼Ÿç ä½è¿™ç¯‡æ•™ç¨‹ï¼Œå¸¦ä½ é›¶é—¨æ§›å®æ“èµ·é£ï¼</p>
<h2 data-id="heading-0">1. æ•ˆæœæ¼”ç¤º</h2>
<p>ä¸Šå‘¨æˆ‘å†™äº†ä¸€ä¸ªå†™å°è¯´çš„å·¥ä½œæµï¼Œå¾ˆå¤šè¯»è€…åé¦ˆèƒ½ä¸èƒ½çªç ´ç¯‡å¹…é™åˆ¶ï¼ŒçŸ­ç¯‡å°è¯´ä¸å¤Ÿçœ‹çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹ï¼Œæˆ‘åŸºäº <strong>MemMachine</strong> å®ç°äº†è¿™ä¸ªå¯ä»¥çªç ´å¤§æ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶çš„ <strong>n8n æ— é™é•¿ç¯‡å°è¯´å·¥ä½œæµ</strong>ã€‚åšå‡ºæ¥ä»¥ååœ¨ç¾¤é‡Œå†…æµ‹ï¼Œåé¦ˆç›¸å½“ä¸é”™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f16ba78af5a24eb8bd7f9e13f7f967cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=EsNff3fqmyLgpZIRSQ9%2F7x8XbBU%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨çš„å·¥ä½œæµä¸€å…±ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6844602725d4fa6a4e15fa07cb4328b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=FuvYKdJE0rmlo4t0CPOkY%2FtyyG0%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€éƒ¨åˆ†</strong>æ˜¯å°†æœ¬åœ°å°è¯´å½•å…¥é£ä¹¦ç´ æåº“ã€‚æœ‰äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŸºäºè‡ªå®šä¹‰ç´ æï¼Œç¼–å†™ä»»æ„é¢†åŸŸé£æ ¼çš„å°è¯´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce23c06e51d8473e90413aec49d7c27d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=2t7%2FVMnRs4DbPAan3ksHqa%2FYDmY%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬äºŒéƒ¨åˆ†</strong>æ˜¯è¯»å–ç´ æåº“ä¸­çš„å°è¯´ä½œä¸ºå‚è€ƒé…åˆ<strong>MemMachine</strong> è®°å¿†åº“ç¼–å†™é•¿ç¯‡å°è¯´ï¼Œä¸‹å›¾ä¸­å†™äº†æ•´æ•´16ç« ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd210b311d064fc380ea6773435c2cb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=9%2FBr1kQdpR1LwGngM0T7VaP%2FFYk%3D" alt="" loading="lazy"/></p>
<p>æ¯ç« çš„å­—æ•°åœ¨2000â€”3000å­—ï¼Œè¿œè¿œçªç ´äº†å¤§æ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fab79269d8344cf99c6f75a7546255d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=aIxDEIVAYQ62jpS6c0h8lgPDjME%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ­£å¼å¼€å§‹è¿™ä¸ªç¡¬æ ¸å·¥ä½œæµçš„æ­å»º~</p>
<h2 data-id="heading-1">2. å·¥ä½œæµæ¶æ„å‰–æå’Œå‰ç½®å‡†å¤‡</h2>
<h3 data-id="heading-2">2.1 é•¿ç¯‡å°è¯´å·¥ä½œæµæ¶æ„è¯´æ˜</h3>
<p>é•¿ç¯‡å°è¯´å·¥ä½œæµä¸»è¦ä¾èµ–äº<strong>MemMachineæ¥å­˜å‚¨ç« èŠ‚çš„è®°å¿†ï¼Œæ¯å†™å®Œä¸€ç« ä¼šå°†è¿™ç« çš„å†…å®¹å­˜å…¥è®°å¿†åº“ï¼Œä¸‹ä¸€ç« çš„ç¼–å†™å¯ä¾èµ–è¿™ä¸€ç« çš„å†…å®¹ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9721119be744040b587ebd0d62a235a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=NWaTB7tteogsSgVxCm0QEcHvGYo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 åŸºäºDockeréƒ¨ç½²MemMachine</h3>
<p><strong>MemMachine</strong>æ˜¯ä¸€ä¸ªå¼€æºçš„<strong>AI æ™ºèƒ½ä½“é€šç”¨è®°å¿†å±‚ï¼ˆUniversal Memory Layerï¼‰</strong> é¡¹ç›®ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒçš„ç›®æ ‡æ˜¯è§£å†³å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰é€šå¸¸å­˜åœ¨çš„<strong>å¤±å¿†</strong>é—®é¢˜ï¼ˆå³æ— çŠ¶æ€ï¼‰ï¼Œè®© AI æ™ºèƒ½ä½“èƒ½å¤Ÿåƒäººä¸€æ ·æ‹¥æœ‰é•¿æœŸè®°å¿†ã€ä¸ªæ€§åŒ–è®¤çŸ¥å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ã€‚</p>
<p>ç°åœ¨çš„ AI è™½ç„¶èªæ˜ä½†éå¸¸å¥å¿˜ï¼Œä¸€æ—¦å…³é—­å¯¹è¯çª—å£æˆ–è€…æ¢ä¸€ä¸ªæ¨¡å‹ï¼Œå®ƒå°±ä¼šæŠŠä½ ä»¥å‰è¯´è¿‡çš„è¯å’Œä½ çš„ä¸ªäººå–œå¥½å¿˜å¾—ä¸€å¹²äºŒå‡€ã€‚MemMachine å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œè®¾è®¡çš„ä¸€ä¸ªå¤–æŒ‚å¤§è„‘ï¼Œå®ƒèƒ½åƒä¸€ä¸ªè¶…çº§è®°äº‹æœ¬ä¸€æ ·ï¼Œè‡ªåŠ¨æŠŠä½ çš„èŠå¤©è®°å½•ã€ä¹ æƒ¯åå¥½ï¼ˆæ¯”å¦‚æˆ‘ä¸åƒé¦™èœï¼‰å’Œå†å²äº‹ä»¶æ°¸ä¹…å­˜å‚¨ä¸‹æ¥ã€‚</p>
<p>è¿™æ ·åšæœ€å¤§çš„å¥½å¤„æ˜¯ï¼ŒAI æ‹¥æœ‰äº†é•¿æœŸè®°å¿†ã€‚å“ªæ€•ä½ è¿‡æ®µæ—¶é—´å†å›æ¥ï¼Œæˆ–è€…æ¢ç”¨äº†ä¸åŒå…¬å¸çš„ AI æ¨¡å‹ï¼Œåªè¦è¿ä¸Šè¿™ä¸ªç³»ç»Ÿï¼ŒAI å°±èƒ½ç«‹åˆ»æƒ³èµ·æ¥ä½ æ˜¯è°ä»¥åŠä½ ä»¬ä¹‹å‰çš„äº¤æƒ…ï¼Œä¸éœ€è¦ä½ é‡å¤å•°å—¦ã€‚å®ƒè®© AI ä»ä¸€ä¸ªæ¯æ¬¡è§é¢éƒ½è¦é‡æ–°è®¤è¯†çš„é™Œç”Ÿäººï¼Œå˜æˆäº†ä¸€ä¸ªçœŸæ­£æ‡‚ä½ ã€è®°å¾—ä½ ä¸€åˆ‡è¿‡å¾€çš„è€æœ‹å‹ã€‚</p>
<p><strong>æºç åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMemMachine%2FMemMachine" target="_blank" title="https://github.com/MemMachine/MemMachine" ref="nofollow noopener noreferrer">github.com/MemMachine/â€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b8154267d3047f3b47c464b56918882~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=GJZnhVqdYWINqabU8Bt7sGS%2Fxis%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥é¡µé¢åæˆ‘ä»¬å°±å¯ä»¥ç”¨git cloneæˆ–ä¸‹è½½å‹ç¼©åŒ…çš„å½¢å¼æ¥ä¸‹è½½æºç äº†ï¼Œæºç ä¸‹è½½å®Œåé¡¹ç›®çš„ç›®å½•å¦‚ä¸‹å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a837393c1de74baaab22236f57f1feb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=bJnxVd8Edz%2B4Ny%2F6Wmc2szc102A%3D" alt="" loading="lazy"/></p>
<p>åªéœ€è¦é…ç½®å¥½.envã€docker-compose.ymlã€configuration.ymlè¿™ä¸‰ä¸ªæ–‡ä»¶å°±å¯ä»¥åŸºäºDockeré¡ºåˆ©éƒ¨ç½²<strong>MemMachine</strong>åœ¨æœ¬åœ°äº†ã€‚</p>
<p><strong>MemMachine</strong>éƒ¨ç½²ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ–‡ä»¶è·¯å¾„è¾“å‡ºcmdï¼Œåœ¨å¼¹å‡ºçš„å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥<strong>docker compose up -d</strong>å³å¯å®Œæˆéƒ¨ç½²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c728e5c6d7d447599edda71c611cddc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=zumsdw0Crh6jcADWoX%2BiZqLjUUo%3D" alt="" loading="lazy"/></p>
<p>éƒ¨ç½²åå¯è®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fdocs%25EF%25BC%258C%25E7%259C%258B%25E5%2588%25B0%25E5%25A6%2582%25E4%25B8%258B%25E7%2595%258C%25E9%259D%25A2%25E5%258D%25B3%25E4%25B8%25BA%25E6%2588%2590%25E5%258A%259F%25E3%2580%2582" target="_blank" title="http://localhost:8080/docs%EF%BC%8C%E7%9C%8B%E5%88%B0%E5%A6%82%E4%B8%8B%E7%95%8C%E9%9D%A2%E5%8D%B3%E4%B8%BA%E6%88%90%E5%8A%9F%E3%80%82" ref="nofollow noopener noreferrer">http://localhost:8080/docsï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢å³ä¸ºæˆåŠŸã€‚</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6aa0876b3c7414db66afe3e9c552a27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=kihAa4nOYxX8p2hHN6sMZbK8WCQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. å·¥ä½œæµæ­å»º</h2>
<p>è¿™ä¸ªå°è¯´å·¥ä½œæµå’ŒåŸæ¥çš„ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åŠ äº†<strong>MemMachine</strong>è®°å¿†å†™å…¥å’Œè¯»å–é€»è¾‘ã€‚è¿™é‡Œå°±ä¸å†ä»å¤´å¼€å§‹æ­å»ºï¼Œåªè®²å·®å¼‚éƒ¨åˆ†ï¼Œéœ€è¦çœ‹ä»0å¼€å§‹çš„æ­å»ºæ­¥éª¤å¯ä»¥å»çœ‹<a href="https://juejin.cn/post/7580378958072610826" target="_blank" title="https://juejin.cn/post/7580378958072610826">é€šåƒç½‘æ–‡æŠ•ç¨¿+AIæ¼«å‰§ç‰ˆæƒï¼æˆ‘ç”¨ n8n+é£ä¹¦æ­äº†ä¸ªâ€œä¸‡å­—çˆ†æ¬¾å°è¯´æµæ°´çº¿â€</a></p>
<p><strong>é•¿ç¯‡å°è¯´å·¥ä½œè¿è¡Œæµç¨‹å¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>
<p>è¡¨å•æäº¤å°è¯´ä¸»é¢˜å’Œé¢†åŸŸå†…å®¹</p>
</li>
<li>
<p>æ ¹æ®ç”¨æˆ·æäº¤è¡¨å•ä¸­çš„å°è¯´é¢†åŸŸå»é£ä¹¦ç´ æåº“ä¸­æ‰¾åˆ°å¯¹åº”å°è¯´ç´ æä½œä¸ºå†™ä½œå‚è€ƒ</p>
</li>
<li>
<p>ç»“åˆå°è¯´ç´ æï¼Œç”¨æˆ·æä¾›çš„ä¸»é¢˜ç¼–å†™å°è¯´çš„å¤§çº²å’Œç« èŠ‚æ¢—æ¦‚åˆ—è¡¨ï¼ˆæ•°ç»„å½¢å¼ï¼‰</p>
</li>
<li>
<p>åˆå§‹åŒ–ä¸€ä¸ª<strong>MemMachine</strong> projectï¼Œè·å¾—ä¸€ä¸ªproject_id</p>
</li>
<li>
<p>è¿›å…¥å¾ªç¯å¼€å§‹ç¼–å†™ç« èŠ‚å†…å®¹</p>
</li>
<li>
<p>æ ¹æ®project_idä»<strong>MemMachine</strong> è·å–ä¸Šä¸€ç« èŠ‚çš„å†…å®¹</p>
</li>
<li>
<p>æ ¹æ®å‰æœŸæè¦ï¼Œå¤§çº²å’Œæœ¬ç« èŠ‚çš„æ¢—æ¦‚ç¼–å†™æœ¬ç« èŠ‚çš„è¯¦ç»†å†…å®¹</p>
</li>
<li>
<p>å†™å…¥ç« èŠ‚å†…å®¹åˆ°é£ä¹¦è¡¨æ ¼</p>
</li>
<li>
<p>æ€»ç»“æœ¬ç« èŠ‚çš„å†…å®¹ï¼Œä»¥project_idä¸ºæ ‡è¯†å†™å…¥<strong>MemMachine</strong></p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffb1ee4bbb624cbb881b0b67841863b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=DaVbeqFPjSrJNV6iovE6xdNLB8s%3D" alt="" loading="lazy"/></p>
<p><strong>åˆå§‹åŒ–é¡¹ç›®(HTTP Request)ï¼š</strong> è¿™ä¸ªèŠ‚ç‚¹ä½äºç¼–å†™å¤§çº²èŠ‚ç‚¹çš„å‰é¢ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨<strong>MemMachine</strong> ä¸­æ–°å»ºä¸€ä¸ª<strong>project</strong>ï¼Œåç»­ç¼–å†™çš„ç« èŠ‚å†…å®¹ä¼šå­˜å…¥åˆ°projectä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f6254a35ed048bc88785197726324bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=gP2Dmh%2F1Qn%2B0Rgt%2BobzpqonCEDM%3D" alt="" loading="lazy"/></p>
<p>è·Ÿä¹‹å‰çš„å°è¯´å·¥ä½œæµæ¯”ï¼Œè¿™ä¸ªå·¥ä½œæµçš„å˜åŠ¨ä¸»è¦åœ¨ç« èŠ‚ç¼–å†™éƒ¨åˆ†ï¼Œæ•…æœ¬æ–‡çš„èŠ‚ç‚¹æ­å»ºè®²è§£ä¸»è¦å›´ç»•ç« èŠ‚ç¼–å†™éƒ¨åˆ†å±•å¼€ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0a79c1399af4df796314b5435b857c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=qoGkoW7p7yrLnT9YLHIxhhbXcLY%3D" alt="" loading="lazy"/></p>
<p><strong>è¯»å–è®°å¿†ï¼ˆHTTP Requestï¼‰ï¼š</strong> è¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯æ ¹æ®<strong>project_id</strong>ï¼Œè·å–å¯¹åº”<strong>project</strong>ä¸­å­˜å‚¨çš„è®°å¿†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ<strong>å½“å‰ç« æ•°ä¸º3</strong>ï¼Œé‚£ä¹ˆå°±ä¼šä»<strong>projectä¸­</strong>è·å–<strong>å‰2ç« çš„æ•°æ®</strong>ï¼Œå¦‚æœå½“å‰ç« æ•°ä¸º1åˆ™è¿”å›ç©ºæ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8685abcfbb84d12a15ce564978cc18e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=bkGUfXPO1IkyvxRtkbnzYarJOUQ%3D" alt="" loading="lazy"/></p>
<p><strong>è·å–ç« èŠ‚æ¢—æ¦‚(Code inJavaScript)ï¼šè¯»å–è®°å¿†ï¼ˆHTTP Requestï¼‰èŠ‚ç‚¹å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢Code inJavaScriptèŠ‚ç‚¹ã€‚</strong> å®ƒçš„ä½œç”¨æ˜¯ä»å‰ç½®æ‰€æœ‰ç« èŠ‚åˆ—è¡¨ä¸­å–å‡ºæœ€åä¸€ç« çš„ç« èŠ‚å†…å®¹ã€‚å¦‚<strong>è¯»å–è®°å¿†ï¼ˆHTTP Requestï¼‰</strong> èŠ‚ç‚¹ä¼ å…¥äº†2ç« æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±ä¼šè·å–ç¬¬2ç« æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cdd0dc5a36f4ef4aaeec0b6e460b8d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=8tg%2BGrIrC61qQtMBcIEtAj1wAbk%3D" alt="" loading="lazy"/></p>
<p><strong>ç« èŠ‚ç¼–å†™ï¼ˆAI Agentï¼‰ï¼šè·å–ç« èŠ‚æ¢—æ¦‚(Code inJavaScript)èŠ‚ç‚¹å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢AI AgentèŠ‚ç‚¹ã€‚</strong> è¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯æ ¹æ®å°è¯´æ‘˜è¦ï¼Œç¬¬2ç« æ•…äº‹æ¢—æ¦‚ä¸ç»“å°¾ï¼Œå’Œç¬¬ä¸‰ç« æ•…äº‹æ¢—æ¦‚<strong>ç¼–å†™ç¬¬ä¸‰ç« å†…å®¹</strong>ï¼Œè¿™æ ·å°±èƒ½å®Œç¾è§£å†³å¤§æ¨¡å‹æ— æ³•ç¼–å†™é•¿ç¯‡å°è¯´ä»¥åŠå†…å®¹è¿‡é•¿å¯¼è‡´çš„å†…å®¹ä¸è¿è´¯æˆ–äººç‰©OOCã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/356f98bb1e4343659148d3b4c0f94710~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=o57h70mdXvbePjWLvrfX%2BDhqb14%3D" alt="" loading="lazy"/></p>
<p><strong>Code1ï¼ˆå°†æ•°æ®æ”¹ä¸º</strong> <strong>é£ä¹¦</strong> <strong>è¡¨æ ¼é€‚é…å½¢å¼ï¼‰ï¼šç« èŠ‚ç¼–å†™ï¼ˆAI Agentï¼‰èŠ‚ç‚¹å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢Code inJavaScriptèŠ‚ç‚¹ã€‚</strong> è¿™æ˜¯ä¸€ä¸ªä»£ç èŠ‚ç‚¹ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†å°è¯´å†…å®¹é€‚é…ä¸ºé£ä¹¦è¡¨æ ¼çš„å½¢å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/244c35d71f56467280cf28edb7633f94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=q4HIsBgPtVENIJSNSIbRyacVB64%3D" alt="" loading="lazy"/></p>
<p><strong>å†™å…¥</strong> <strong>é£ä¹¦</strong> <strong>ï¼ˆBitable:table:record:add bitableï¼‰ï¼šCode1ï¼ˆå°†æ•°æ®æ”¹ä¸ºé£ä¹¦è¡¨æ ¼é€‚é…å½¢å¼ï¼‰å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢Bitable:table:record:add bitableèŠ‚ç‚¹ã€‚</strong> è¿™æ˜¯n8nç¤¾åŒºèŠ‚ç‚¹ï¼Œè´Ÿè´£å†™å…¥æ•°æ®åˆ°é£ä¹¦è¡¨æ ¼ã€‚èŠ‚ç‚¹çš„é…ç½®ä½¿ç”¨å¯å‚è€ƒ<a href="https://juejin.cn/post/7578499754553278515" target="_blank" title="https://juejin.cn/post/7578499754553278515">n8n+Coze+é£ä¹¦ï¼šå…¬ä¼—å·å¯¹æ ‡æ–‡ç« ä¸€é”®å½•å…¥+æ·±åº¦æ‹†è§£ï¼Œæ‰“é€ ä½ çš„ã€çˆ†æ¬¾ç´ æåº“ã€‘</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f6a8b2286614ff297e33e4bd672340b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=TOdg9Zgky%2BANOmqrNAjdgW5Nw4s%3D" alt="" loading="lazy"/></p>
<p><strong>æ€»ç»“ï¼ˆAI Agentï¼‰ï¼šå†™å…¥</strong> <strong>é£ä¹¦</strong> <strong>ï¼ˆBitable:table:record:add bitableï¼‰èŠ‚ç‚¹å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢AI AgentèŠ‚ç‚¹ã€‚</strong> è¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯å¯¹<strong>ç« èŠ‚ç¼–å†™ï¼ˆAI Agentï¼‰èŠ‚ç‚¹</strong>è¾“å‡ºçš„å°è¯´å†…å®¹è¿›è¡Œæ€»ç»“ï¼Œæ€»ç»“å‰§æƒ…æ‘˜è¦ï¼Œä¿ç•™ç»“å°¾å†…å®¹ä»¥ä¾¿ä¸‹ä¸€ç« çš„è¡”æ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3632bd586d604c39bc6dd4d3409d2bd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=F6NgZTpMVPCpXwa8XkTxDXvg1%2B8%3D" alt="" loading="lazy"/></p>
<p><strong>å­˜å…¥è®°å¿†ï¼ˆHTTP Requestï¼‰ï¼šæ€»ç»“ï¼ˆAI Agentï¼‰èŠ‚ç‚¹å‡ºæ¥åç‚¹å‡»ã€+ã€‘æ–°å¢HTTP RequestèŠ‚ç‚¹ã€‚</strong> è¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯è°ƒç”¨<strong>MemMachine</strong> æ¥å£å°†ç« èŠ‚å†…å®¹å­˜å…¥<strong>project</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b056994e6bf4445d91aed991430728ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=NFHAiwzVn7bdruKIrSjGFYM7Tck%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªå·¥ä½œæµçš„å®Œæ•´æµç¨‹æ‹†è§£ï¼ŒåŠ¨æ‰‹èƒ½åŠ›å¼ºçš„è¯»è€…å¯ä»¥è·Ÿç€æ•™ç¨‹å®è·µä¸€éã€‚<strong>ä¸Šè¿°å·¥ä½œæµå·²ç»è¢«æ”¶å½•åˆ°äº†å°è‚¥è‚ è¡ŒåŠ¨å®¶ç¤¾ç¾¤ä¸­ï¼Œå¦‚æœæƒ³ç›´æ¥è·å–å·¥ä½œæµåŸä»¶ï¼Œå¯ä»¥åŠ å…¥ç¤¾ç¾¤åæˆ‘æ‹‰ä½ è¿›ç©ºé—´ç›´æ¥å­¦ä¹ ä½¿ç”¨ã€‚</strong></p>
<h2 data-id="heading-5">4. ç»“è¯­</h2>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªèƒ½å¤Ÿè‡ªæˆ‘è¿­ä»£ã€æ‹¥æœ‰é•¿æœŸè®°å¿†çš„<strong>æ— é™é•¿ç¯‡å°è¯´ç”Ÿæˆå™¨</strong>å°±æ­å»ºå®Œæˆäº†ã€‚è¿™å¥—å·¥ä½œæµæœ€å¤§çš„ä»·å€¼ï¼Œä¸åœ¨äºå†™å°è¯´æœ¬èº«ï¼Œè€Œåœ¨äºå®ƒè¯æ˜äº† <strong>MemMachine + n8n</strong> ç»„åˆçš„æ— é™å¯èƒ½ã€‚å½“æˆ‘ä»¬æŠŠ<strong>è®°å¿†</strong>ä»å¤§æ¨¡å‹ä¸­è§£è€¦å‡ºæ¥ï¼Œèµ‹äºˆ Agent çœŸæ­£çš„é•¿æœŸçŠ¶æ€ç®¡ç†èƒ½åŠ›æ—¶ï¼ŒAIå°±ä¸å†æ˜¯ä¸€ä¸ªèŠå®Œå³å¿˜çš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä¼´éšå‰§æƒ…æˆé•¿çš„<strong>åˆ›ä½œè€…</strong>ã€‚</p>
<p><strong>å¦‚æœ¬æ¬¡åˆ†äº«å¯¹ä½ æœ‰å¸®åŠ©ï¼Œéº»çƒ¦ä¸€é”®ä¸‰è¿æ”¯æŒä¸€ä¸‹å°è‚¥è‚ ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§~</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e48cf94d4e9243909c862e24653280b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124750&amp;x-signature=1S%2F%2FmQ1qcrb%2FHOzPy3kIk9TVPqk%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºå¤©åœ°å›¾ JavaScript API v4.0 æä¾› TypeScript ç±»å‹æ”¯æŒ â€”â€” tianditu-v4-types æ­£å¼å‘å¸ƒï¼]]></title>    <link>https://juejin.cn/post/7582502441993830443</link>    <guid>https://juejin.cn/post/7582502441993830443</guid>    <pubDate>2025-12-12T06:15:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582502441993830443" data-draft-id="7582808491582734372" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºå¤©åœ°å›¾ JavaScript API v4.0 æä¾› TypeScript ç±»å‹æ”¯æŒ â€”â€” tianditu-v4-types æ­£å¼å‘å¸ƒï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T06:15:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥äº†æ¸…è¯­"/> <meta itemprop="url" content="https://juejin.cn/user/2436173498942055"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºå¤©åœ°å›¾ JavaScript API v4.0 æä¾› TypeScript ç±»å‹æ”¯æŒ â€”â€” tianditu-v4-types æ­£å¼å‘å¸ƒï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173498942055/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥äº†æ¸…è¯­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:15:50.000Z" title="Fri Dec 12 2025 06:15:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ <strong>å¤©åœ°å›¾ï¼ˆTiandituï¼‰JavaScript API v4.0</strong> å¼€å‘ Web åœ°å›¾åº”ç”¨ï¼Œå¹¶ä¸”å¸Œæœ›è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒï¼ˆæ¯”å¦‚è‡ªåŠ¨è¡¥å…¨ã€ç±»å‹æ£€æŸ¥ã€å‡å°‘è¿è¡Œæ—¶é”™è¯¯ï¼‰ï¼Œé‚£ä¹ˆä½ ä¸€å®šä¼šå–œæ¬¢è¿™ä¸ªæ–°å·¥å…·åŒ… ğŸ‘‰ <strong>tianditu-v4-types</strong></p>
<h2 data-id="heading-0">ç®€ä»‹</h2>
<p><code>tianditu-v4-types</code> æ˜¯ä¸€ä¸ª <strong>çº¯ TypeScript ç±»å‹å®šä¹‰åŒ…</strong>ï¼Œä¸“ä¸º <code>å¤©åœ°å›¾å®˜æ–¹ JavaScript API v4.0</code> è®¾è®¡ã€‚å®ƒå®Œæ•´è¦†ç›–äº†å¤©åœ°å›¾ API ä¸­çš„æ ¸å¿ƒç±»ã€æ–¹æ³•ã€äº‹ä»¶å’Œé…ç½®é¡¹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li><code>T.Map</code>ï¼šåœ°å›¾å®ä¾‹</li>
<li><code>T.LngLat</code>ï¼šç»çº¬åº¦åæ ‡</li>
<li><code>T.Marker</code>Â /Â <code>T.Polyline</code>Â /Â <code>T.Polygon</code>ï¼šè¦†ç›–ç‰©</li>
<li><code>T.InfoWindow</code>ï¼šä¿¡æ¯çª—å£</li>
<li><code>T.TileLayer</code>Â /Â <code>T.MapType</code>ï¼šå›¾å±‚ä¸åº•å›¾ç±»å‹</li>
<li>äº‹ä»¶ç›‘å¬å™¨ï¼ˆå¦‚Â <code>click</code>,Â <code>zoomend</code>Â ç­‰ï¼‰</li>
<li>åœ°ç†ç¼–ç ã€è¡Œæ”¿åŒºåˆ’æŸ¥è¯¢ç­‰é«˜çº§åŠŸèƒ½çš„å›è°ƒç»“æ„</li>
</ul>
<p>âœ… <strong>æ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç </strong>ï¼Œåªéœ€å®‰è£…ç±»å‹åŒ…ï¼Œå³å¯åœ¨ TypeScript é¡¹ç›®ä¸­äº«å—å®Œæ•´çš„ç±»å‹æç¤ºï¼</p>
<h2 data-id="heading-1">å¿«é€Ÿå¼€å§‹</h2>
<pre><code class="hljs language-sql" lang="sql">npm install tianditu<span class="hljs-operator">-</span>v4<span class="hljs-operator">-</span>types <span class="hljs-comment">--save-dev</span>

<span class="hljs-keyword">or</span>

pnpm <span class="hljs-keyword">add</span> tianditu<span class="hljs-operator">-</span>v4<span class="hljs-operator">-</span>types <span class="hljs-operator">-</span>D
</code></pre>
<h2 data-id="heading-2">Â ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</h2>
<p>å¤©åœ°å›¾å®˜æ–¹ API è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä»…æä¾› <strong>æ— ç±»å‹çš„ JavaScript åº“</strong>ï¼Œåœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å¼€å‘ä¸­å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ul>
<li>âŒ æ²¡æœ‰ç±»å‹æç¤ºï¼Œå¼€å‘æ•ˆç‡ä½</li>
<li>âŒ å®¹æ˜“æ‹¼é”™æ–¹æ³•åæˆ–ä¼ é”™å‚æ•°</li>
<li>âŒ å›¢é˜Ÿåä½œæ—¶ç¼ºä¹æ¥å£å¥‘çº¦</li>
</ul>
<p>è€Œ <code>tianditu-v4-types</code> æ­£æ˜¯ä¸ºè§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿâ€”â€”<strong>é›¶è¿è¡Œæ—¶å¼€é”€ï¼Œçº¯å¼€å‘æœŸå¢å¼º</strong>ï¼</p>
<h2 data-id="heading-3">ğŸŒŸ ç‰¹ç‚¹</h2>
<ul>
<li>âœ… 100% è¦†ç›–å¤©åœ°å›¾ JS API v4.0 å®˜æ–¹æ–‡æ¡£</li>
<li>âœ… æ”¯æŒä¸»æµæ¡†æ¶ï¼ˆVueã€Reactã€Angularã€åŸç”Ÿ TSï¼‰</li>
<li>âœ… ä¸¥æ ¼éµå¾ª TypeScript æœ€ä½³å®è·µ</li>
<li>âœ… å¼€æºå…è´¹ï¼ŒMIT åè®®</li>
<li>âœ… æŒç»­ç»´æŠ¤ï¼Œæ¬¢è¿ PR å’Œ Issueï¼</li>
</ul>
<h2 data-id="heading-4">ğŸ”— èµ„æºé“¾æ¥</h2>
<ul>
<li>ğŸ“¦Â <strong>NPM</strong>:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ftianditu-v4-types" target="_blank" title="https://www.npmjs.com/package/tianditu-v4-types" ref="nofollow noopener noreferrer">www.npmjs.com/package/tiaâ€¦</a></li>
<li>ğŸ“Â <strong>GitHub</strong>:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fluoriwusheng%2Ftianditu-v4-types" target="_blank" title="https://gitee.com/luoriwusheng/tianditu-v4-types" ref="nofollow noopener noreferrer">tianditu-v4-types: å¤©åœ°å›¾v4ç‰ˆæœ¬typescript ç±»å‹æ–‡ä»¶</a>Â </li>
<li>ğŸ“šÂ <strong>å¤©åœ°å›¾å®˜æ–¹æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=http%3A%2F%2Flbs.tianditu.gov.cn%2Fapi%2Fjs4.0%2Fguide.html" target="_blank" title="http://lbs.tianditu.gov.cn/api/js4.0/guide.html" ref="nofollow noopener noreferrer">å¤©åœ°å›¾API</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SIGIR 2025 | åŸºäºå›¾åŒæ„ç½‘ç»œçš„ç¾¤ä½“å»ºæ¨¡åœ¨ç‚¹å‡»ç‡é¢„æµ‹ä¸­çš„åº”ç”¨]]></title>    <link>https://juejin.cn/post/7582553782398468142</link>    <guid>https://juejin.cn/post/7582553782398468142</guid>    <pubDate>2025-12-12T06:14:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582553782398468142" data-draft-id="7582553782398320686" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SIGIR 2025 | åŸºäºå›¾åŒæ„ç½‘ç»œçš„ç¾¤ä½“å»ºæ¨¡åœ¨ç‚¹å‡»ç‡é¢„æµ‹ä¸­çš„åº”ç”¨"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-12T06:14:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œé›¶å”®æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4233576972293643"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SIGIR 2025 | åŸºäºå›¾åŒæ„ç½‘ç»œçš„ç¾¤ä½“å»ºæ¨¡åœ¨ç‚¹å‡»ç‡é¢„æµ‹ä¸­çš„åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576972293643/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œé›¶å”®æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:14:23.000Z" title="Fri Dec 12 2025 06:14:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å…¥é€‰é¡¶ä¼šSIGIR 2025</p>
<p>ç‚¹å‡»ç‡é¢„ä¼°ä»»åŠ¡é€šå¸¸ä¼šé¢ä¸´å†·å¯åŠ¨é—®é¢˜ï¼Œå³æ–°ç”¨æˆ·å› å†å²è¡Œä¸ºæ•°æ®ä¸è¶³è€Œéš¾ä»¥è¿›è¡Œå‡†ç¡®é¢„æµ‹ã€‚è¿‘æœŸç ”ç©¶å°è¯•é€šè¿‡ç¼–ç å™¨-è§£ç å™¨ç½‘ç»œï¼ŒåŸºäºæ´»è·ƒç”¨æˆ·æ•°æ®ä¸ºå†·å¯åŠ¨ç”¨æˆ·ç”Ÿæˆè™šæ‹Ÿè¡Œä¸ºè¡¨å¾ã€‚ç„¶è€Œï¼Œç°æœ‰æ–¹æ³•å­˜åœ¨ä¸¤å¤§ç¼ºé™·ï¼šå¯¹æ´»è·ƒç”¨æˆ·è¡Œä¸ºçš„ç¼–ç æŠ€æœ¯è¿‡äºç®€å•åŒ–ï¼Œä¸”ç›´æ¥ä½¿ç”¨è™šæ‹Ÿè¡Œä¸ºè¡¨å¾ä¼šå¯¼è‡´ç”¨æˆ·å…´è¶£è¡¨è¾¾å—é™ã€æ¨¡å‹æ³›åŒ–èƒ½åŠ›ä¸è¶³ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºåˆ›æ–°æ€§çš„åŸºäºå›¾åŒæ„ç½‘ç»œçš„ç¾¤ä½“å»ºæ¨¡æ–¹æ³•ã€‚è¯¥æ–¹æ¡ˆé€šè¿‡GINç½‘ç»œæœ‰æ•ˆæ•æ‰ç”¨æˆ·-ç‰©å“é«˜é˜¶äº¤äº’å…³ç³»ï¼Œä»è€Œæ›´ç²¾ç»†åœ°åˆ»ç”»ç”¨æˆ·å¤šæ ·åŒ–å…´è¶£ã€‚ç»“åˆç¾¤ä½“å»ºæ¨¡ç­–ç•¥ï¼Œå¯æ˜¾è‘—å‡å°‘åµŒå…¥æ„å»ºåå·®ï¼Œå¢å¼ºæ¨¡å‹æ³›åŒ–èƒ½åŠ›ã€‚æˆ‘ä»¬åœ¨å…¬å¼€æ•°æ®é›†å’Œå·¥ä¸šæ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼Œç›¸è¾ƒç°æœ‰æ–¹æ³•ï¼Œæ–°æ–¹æ¡ˆå¯¹æ´»è·ƒç”¨æˆ·å’Œå†·å¯åŠ¨ç”¨æˆ·å‡å¸¦æ¥æ˜¾è‘—æ•ˆæœæå‡ã€‚</p>
<p>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdl.acm.org%2Fdoi%2F10.1145%2F3726302.3731936" target="_blank" title="https://dl.acm.org/doi/10.1145/3726302.3731936" ref="nofollow noopener noreferrer">dl.acm.org/doi/10.1145â€¦</a></p>
<h2 data-id="heading-0"><strong>01</strong> ä¸šåŠ¡èƒŒæ™¯ä¸é—®é¢˜è¡¨ç°</h2>
<p><strong>1ã€ä¸šåŠ¡åœºæ™¯ï¼šäº¬ä¸œå¹¿å‘Šæ¨èç³»ç»Ÿ</strong></p>
<p>åœ¨äº¬ä¸œçš„åœ¨çº¿å¹¿å‘Šæ¨èç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿæ¯å¤©éœ€è¦ä¸ºæ•°äº¿ç”¨æˆ·å®æ—¶æ¨é€ä¸ªæ€§åŒ–å¹¿å‘Šã€‚CTRï¼ˆç‚¹å‡»ç‡ï¼‰é¢„æµ‹æ¨¡å‹æ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œç›´æ¥å†³å®šå¹¿å‘Šæ”¶å…¥å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p>æ ¸å¿ƒç›®æ ‡ï¼šé¢„æµ‹ç”¨æˆ·å¯¹æŸä¸ªå¹¿å‘Šçš„ç‚¹å‡»æ¦‚ç‡Â P(y=1âˆ£u,i)P(y=1âˆ£u,i)ï¼Œä»è€Œæ’åºå¹¶å±•ç¤ºæœ€å¯èƒ½è¢«ç‚¹å‡»çš„å¹¿å‘Šã€‚</p>
<p><strong>2ã€å†·å¯åŠ¨é—®é¢˜ï¼ˆCold Start Problemï¼‰çš„è¡¨ç°</strong></p>
<p>å†·å¯åŠ¨é—®é¢˜æ˜¯æŒ‡æ¨èç³»ç»Ÿåœ¨ç¼ºä¹ç”¨æˆ·-ç‰©å“äº¤äº’æ•°æ®æ—¶ï¼Œæ— æ³•æä¾›æœ‰æ•ˆä¸ªæ€§åŒ–æ¨èçš„å›°å¢ƒã€‚</p>




















<table><thead><tr><th>ç”¨æˆ·ç±»å‹</th><th>è¡Œä¸ºæ•°æ®</th><th>é—®é¢˜è¡¨ç°</th></tr></thead><tbody><tr><td><strong>æ´»è·ƒç”¨æˆ·ï¼ˆWarm Userï¼‰</strong></td><td>æœ‰å¤§é‡å†å²ç‚¹å‡»ã€æµè§ˆã€æ”¶è—è¡Œä¸º</td><td>æ¨¡å‹å¯ç²¾å‡†å»ºæ¨¡å…´è¶£</td></tr><tr><td><strong>å†·å¯ç”¨æˆ·ï¼ˆCold Userï¼‰</strong></td><td>æ— /å°‘å†å²è¡Œä¸ºã€ä»…çŸ¥åŸºç¡€å±æ€§ï¼ˆæ€§åˆ«ã€å¹´é¾„ã€åœ°åŸŸï¼‰</td><td>æ¨¡å‹æ— æ³•æœ‰æ•ˆå»ºæ¨¡å…´è¶£ â†’ æ¨èéšæœºã€ç‚¹å‡»ç‡ä½ã€è½¬åŒ–å·®</td></tr></tbody></table>
<p><strong>3ã€å…·ä½“ä¸šåŠ¡å½±å“</strong></p>
<p>æ–°ç”¨æˆ·ç‚¹å‡»ç‡ä½ï¼šå› æ— è¡Œä¸ºæ•°æ®ï¼Œåªèƒ½ä¾èµ–ç»Ÿè®¡ç‰¹å¾ï¼Œæ¨èâ€œçƒ­é—¨å•†å“â€æˆ–â€œé»˜è®¤å¹¿å‘Šâ€ï¼Œç¼ºä¹ä¸ªæ€§åŒ–ã€‚</p>
<p>ç”¨æˆ·ä½“éªŒå·®ï¼šç”¨æˆ·çœ‹åˆ°â€œä¸æˆ‘æ— å…³â€çš„å¹¿å‘Š â†’ äº§ç”Ÿåæ„Ÿã€é™ä½å¹³å°ä¿¡ä»»åº¦ã€‚</p>
<p>æ¨¡å‹è¯„ä¼°åå·®ï¼šä¼ ç»Ÿæ¨¡å‹åœ¨â€œå…¨ä½“ç”¨æˆ·â€ä¸ŠAUCè¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨â€œæ–°ç”¨æˆ·â€å­é›†ä¸Šæ˜¾è‘—ä¸‹é™ã€‚</p>
<p>å…³é”®ç—›ç‚¹ï¼š â€œæ²¡æœ‰è¡Œä¸ºï¼Œå°±æ²¡æœ‰å…´è¶£â€ â€”â€” ä½†ç”¨æˆ·ä¸èƒ½ç­‰è¡Œä¸ºç§¯ç´¯åæ‰è¢«æ¨èã€‚</p>
<h2 data-id="heading-1"><strong>02</strong> <strong>é—®é¢˜æŠ½è±¡ä¸åŠ¨æœºæç‚¼</strong></h2>
<p><strong>1ã€é›¶æ ·æœ¬å­¦ä¹ çš„æ ¸å¿ƒæ€è·¯</strong></p>
<p>åœ¨ç¼ºä¹äº¤äº’æ•°æ®çš„å‰æä¸‹ï¼Œåˆ©ç”¨è¾…åŠ©ä¿¡æ¯ï¼ˆå±æ€§ã€å†…å®¹ã€å…³ç³»ç­‰ï¼‰è¿›è¡Œå…´è¶£æ¨æ–­ã€‚â€œä»åƒä¸‡ä¸ªè€ç”¨æˆ·çš„è¡Œä¸ºæ¨¡å¼ä¸­ï¼Œå­¦ä¹ â€˜å±æ€§â†’è¡Œä¸ºâ€™ï¼Œâ€˜è¡Œä¸ºâ†’å±æ€§â€™çš„æ˜ å°„è§„åˆ™ï¼Œç„¶åç”¨è¿™ä¸ªè§„åˆ™ï¼ŒåŸºäºç”¨æˆ·çš„å±æ€§ä¿¡æ¯ï¼Œä¸ºæ–°ç”¨æˆ·ç”Ÿæˆä¸€ä¸ªâ€˜è™šæ‹Ÿçš„ä½†åˆç†â€™çš„è¡Œä¸ºæ¨æ–­ã€‚â€</p>
<p>åœºæ™¯è®¾å®š</p>
<p>ä¸€ä½æ–°ç”¨æˆ·â€œå°æâ€åˆšæ³¨å†Œäº¬ä¸œAppï¼Œä»…æä¾›ä»¥ä¸‹å±æ€§ä¿¡æ¯ï¼šæ€§åˆ«-å¥³ï¼Œå¹´é¾„-28å²ï¼ŒåŸå¸‚-åŒ—äº¬ï¼Œè®¾å¤‡-iPhone 15ï¼Œä»æœªç‚¹å‡»ã€è´­ä¹°è¿‡ä»»ä½•å•†å“â€”â€” è¡Œä¸ºæ•°æ®ä¸º0ã€‚</p>
<p>ä¼ ç»Ÿæ¨èç³»ç»Ÿçœ‹åˆ°å¥¹ï¼Œåªèƒ½æ¨â€œå…¨ç«™çƒ­é”€â€ï¼šiPhone 17ã€AirPodsã€å°ç±³æ‰‹ç¯â€¦â€¦</p>
<p>ä½†ç³»ç»Ÿä¸­æœ‰å¤šä¸ªä¸å°æç›¸ä¼¼çš„æ´»è·ƒç”¨æˆ·å’Œå…¶å†å²è¡Œä¸º</p>
<p>ç”¨æˆ·Aï¼šæ€§åˆ«-å¥³ï¼Œå¹´é¾„-26å²ï¼ŒåŸå¸‚-åŒ—äº¬ï¼Œè®¾å¤‡-iPhone16 ï¼Œå†å²ç‚¹å‡»- Apple Watch, å¹é£æœºï¼Œæ‰«åœ°æœºå™¨äººâ€¦â€¦</p>
<p>ç”¨æˆ·Bï¼šæ€§åˆ«-å¥³ï¼Œå¹´é¾„-29å²ï¼ŒåŸå¸‚-åŒ—äº¬ï¼Œè®¾å¤‡-iPhone16 ï¼Œå†å²ç‚¹å‡»- è¿åŠ¨æœé¥°ï¼Œç½‘çƒæ‹â€¦â€¦</p>
<p>åŸºäºè¿™éƒ¨åˆ†ç”¨æˆ·çš„å†å²å…´è¶£ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´æ¨æ–­è¯¥ç±»ç”¨æˆ·æ¯”è¾ƒå…±åŒçš„å…´è¶£èŒƒç•´ï¼šå¥¹ä»¬ç”Ÿæ´»åœ¨ä¸€çº¿éƒ½å¸‚ï¼Œæ³¨é‡ç”Ÿæ´»å“è´¨ä¸æ•ˆç‡ï¼Œåå¥½ç§‘æŠ€æ„Ÿå¼ºã€èƒ½æå‡æ—¥å¸¸ä½“éªŒçš„æ™ºèƒ½å®¶ç”µï¼ŒåŒæ—¶å…³æ³¨å¥åº·ä¸è‡ªæˆ‘ç®¡ç†ã€‚</p>
<p>é›¶æ ·æœ¬æ–¹æ³•ä¸¤å¤§é—®é¢˜ï¼ˆè®ºæ–‡åŠ¨æœºæ¥æºï¼‰ï¼š</p>




















<table><thead><tr><th>ç¼ºé™·</th><th>æè¿°</th><th>é—®é¢˜</th></tr></thead><tbody><tr><td><strong>1. è¡Œä¸ºç¼–ç è¿‡äºç®€å•</strong></td><td>ç”¨Mean-Poolingç­‰æ–¹å¼ç›´æ¥èšåˆè¡Œä¸ºåºåˆ—ï¼Œå¿½ç•¥<strong>é«˜é˜¶äº¤äº’</strong>ï¼ˆå¦‚ï¼šç”¨æˆ·Aä¹°è¿‡æ‰‹æœº+è€³æœº â†’ å¯èƒ½ä¹Ÿä¹°å……ç”µå®ï¼‰</td><td>ç”Ÿæˆçš„è™šæ‹Ÿè¡Œä¸ºåµŒå…¥<strong>ä¿¡æ¯ç¨€ç–ã€è¡¨è¾¾åŠ›å¼±</strong></td></tr><tr><td><strong>2. ç›´æ¥ä½¿ç”¨è™šæ‹ŸåµŒå…¥</strong></td><td>å°†ç”Ÿæˆçš„è™šæ‹Ÿè¡Œä¸ºåµŒå…¥ç›´æ¥è¾“å…¥CTRæ¨¡å‹ï¼Œæœªåšæ ¡æ­£</td><td>ä¸çœŸå®è¡Œä¸ºåµŒå…¥å­˜åœ¨<strong>åå·®</strong>â†’ æ¨¡å‹å­¦åˆ°çš„æ˜¯â€œå™ªå£°å…´è¶£â€</td></tr></tbody></table>
<p>æ ¸å¿ƒæ´å¯Ÿï¼š æˆ‘ä»¬ä¸éœ€è¦â€œå®Œç¾è¿˜åŸâ€ä¸ªä½“è¡Œä¸ºï¼Œè€Œæ˜¯è¦æ‰¾åˆ°ä¸€ç¾¤ç›¸ä¼¼çš„ç”¨æˆ·ï¼Œç”¨ç¾¤ä½“å…±è¯†æ¥æ ¡æ­£ä¸ªä½“åå·®ã€‚</p>
<p><strong>2ã€è®ºæ–‡çš„æŠ½è±¡ä¸åŠ¨æœºæç‚¼</strong></p>

























<table><thead><tr><th>æ ¸å¿ƒé—®é¢˜</th><th>æŠ½è±¡é—®é¢˜</th><th>è®ºæ–‡åŠ¨æœº</th></tr></thead><tbody><tr><td><strong>æ•°æ®å±‚é¢</strong></td><td>ä¸ªä½“è¡Œä¸ºåµŒå…¥è¡¨è¾¾åŠ›ä¸è¶³</td><td>â†’ å¼•å…¥<strong>GINå›¾ç½‘ç»œ</strong>ï¼Œå»ºæ¨¡é«˜é˜¶ã€éçº¿æ€§ç”¨æˆ·-ç‰©å“äº¤äº’</td></tr><tr><td><strong>å»ºæ¨¡å±‚é¢</strong></td><td>è™šæ‹ŸåµŒå…¥æœ‰åå·®</td><td>â†’ å¼•å…¥<strong>ç¾¤ä½“å»ºæ¨¡ï¼ˆCohort Modelingï¼‰</strong> ï¼šä¸ä¾èµ–ä¸ªä½“ï¼Œä¾èµ–ç¾¤ä½“å…±è¯†</td></tr><tr><td><strong>ç³»ç»Ÿå±‚é¢</strong></td><td>æ— æ³•åœ¨çº¿éƒ¨ç½²ï¼Œå»¶è¿Ÿé«˜</td><td>â†’ è®¾è®¡<strong>é¢„è®¡ç®—+å®æ—¶è¯»å–</strong>æ¶æ„ï¼Œå…¼é¡¾ç²¾åº¦ä¸æ•ˆç‡</td></tr></tbody></table>
<p>æ ¸å¿ƒåŠ¨æœºï¼š â€œç”¨å›¾ç¥ç»ç½‘ç»œç”Ÿæˆè™šæ‹Ÿè¡Œä¸ºè¡¨å¾ï¼Œå†ç”¨ç¾¤ä½“å…±è¯†æ ¡æ­£ä¸ªä½“åå·®ï¼Œå®ç°å†·å¯åŠ¨ç”¨æˆ·çš„ç¾¤ä½“æ™ºèƒ½æ¨èâ€</p>
<h2 data-id="heading-2"><strong>03</strong> è®ºæ–‡è§£æ³•ä¸å®éªŒæ–¹æ¡ˆ</h2>
<p><strong>1ã€æ•´ä½“æ¶æ„ï¼šGINCMï¼ˆGraph Isomorphism Network-based Cohort Modelingï¼‰</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74e0fc61e5644637b85f702166f0b86a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124862&amp;x-signature=4H8ZfShfVzHGmxw%2Fc%2FDY0oexROQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2ã€æ¨¡å‹ç”±ä¸‰å¤§æ¨¡å—ååŒå·¥ä½œ</strong></p>
<p>æ¨¡å—ä¸€ï¼šGIN-based Graph Encoderï¼ˆé«˜é˜¶äº¤äº’å»ºæ¨¡ï¼‰</p>
<p>è¾“å…¥ï¼šç”¨æˆ·-ç‰©å“äº¤äº’å›¾ï¼ˆäºŒéƒ¨å›¾ï¼‰ï¼ŒèŠ‚ç‚¹=ç”¨æˆ·/ç‰©å“ï¼Œè¾¹=ç‚¹å‡»/æµè§ˆ</p>
<p>æ­¥éª¤ï¼šä½¿ç”¨Graph Isomorphism Network (GIN)ç¼–ç å­å›¾</p>
<p>â—¦GIN ç›¸æ¯”GCNã€GraphSAGEï¼ŒGINèƒ½æ•æ‰æ›´å¤æ‚çš„æ‹“æ‰‘ç»“æ„ï¼Œèƒ½å­¦ä¹ åˆ°æ›´é«˜çº§çš„ç”¨æˆ·-å•†å“äº¤äº’æ¨¡å¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66705ff5f8064498a6946d243ef84378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124862&amp;x-signature=Tf5aUPjXE6DgkvjA6FEo%2F97751I%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73e347b9bb4d4a21a142d151961b4697~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124862&amp;x-signature=XeHylULOnROXwHvm%2B%2FWjGZIDEPc%3D" alt="å›¾ç‰‡" loading="lazy"/>
è¾“å‡ºï¼šèšåˆåçš„ç”¨æˆ·è¡Œä¸ºè¡¨å¾ï»¿</p>
<p>æ¨¡å—äºŒï¼šJoint Denoising Auto-Encoderï¼ˆJDAEï¼‰â€”â€” è™šæ‹Ÿè¡Œä¸ºç”Ÿæˆ</p>
<p>ç›®æ ‡ï¼šä¸ºå†·å¯ç”¨æˆ·ç”Ÿæˆâ€œè™šæ‹Ÿè¡Œä¸ºåµŒå…¥â€</p>
<p>è¾“å…¥ï¼šå†·å¯ç”¨æˆ·çš„å±æ€§ç‰¹å¾ï¼ˆå¦‚ï¼šæ€§åˆ«=ç”·ï¼Œå¹´é¾„=25ï¼ŒåŸå¸‚=åŒ—äº¬ï¼‰</p>
<p><strong>ç»“æ„ï¼š</strong></p>
<p>ç¼–ç å™¨ï¼šå°†ç”¨æˆ·å±æ€§ç‰¹å¾å’Œç”¨æˆ·è¡Œä¸ºç‰¹å¾éƒ½è¿›è¡Œç¼–ç ï¼›</p>
<p>è§£ç å™¨ï¼šåŒå‘é‡å»ºï¼Œç”¨â€œè¡Œä¸ºâ€é‡å»ºâ€œå±æ€§â€ ï¼Œç”¨â€œå±æ€§â€é‡å»ºâ€œè¡Œä¸ºâ€â€¢æŸå¤±å‡½æ•°ï¼ˆå¼6ï¼‰ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e2c1edf82684c5ea02860c761cca4c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766124862&amp;x-signature=hjkotbYN4xp%2F9MV7%2FwGq8S17fYk%3D" alt="å›¾ç‰‡" loading="lazy"/><br/>
å…³é”®è®¾è®¡ï¼š å¦‚æœâ€œ25å²ç”·æ€§â€èƒ½é‡å»ºå‡ºâ€œä¹°æ‰‹æœº+è€³æœºâ€è¡Œä¸º â†’ è¯´æ˜æ¨¡å‹å­¦åˆ°çœŸå®æ¨¡å¼ å¦‚æœâ€œä¹°æ‰‹æœº+è€³æœºâ€èƒ½é‡å»ºå‡ºâ€œ25å²ç”·æ€§â€ â†’ è¯´æ˜è¡Œä¸ºä¸å±æ€§å¼ºç›¸å…³ï»¿</p>
<p>æ¨¡å—ä¸‰ï¼šCohort Modeling Networkï¼ˆCMNï¼‰â€”â€” ç¾¤ä½“å…±è¯†æ ¡æ­£</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šä»¥ç¾¤ä½“å…´è¶£ä»£æ›¿æœ‰åçš„ä¸ªä½“å…´è¶£</p>
<p>æ­¥éª¤ï¼š</p>
<p>1ã€å°†ç”Ÿæˆçš„è™šæ‹Ÿç”¨æˆ·è¡Œä¸ºè¡¨å¾äºŒå€¼åŒ–ï¼ˆBinarization + STEï¼‰å¾—åˆ°äºŒè¿›åˆ¶ç </p>
<p>2ã€STEï¼ˆStraight-Through Estimatorï¼‰å…è®¸åå‘ä¼ æ’­é€šè¿‡äºŒå€¼åŒ–æ“ä½œ</p>
<p>3ã€æ¯ä¸ªäºŒè¿›åˆ¶ç ä»£è¡¨ä¸€ä¸ªç¾¤ä½“ï¼ˆCohortï¼‰ï¼Œå¦‚ï¼š[1,0,1,0,0,1,0,0]è¡¨ç¤ºå±äºç¬¬1ã€3ã€6ç¾¤ä½“</p>
<p>4ã€å¯¹å½“å‰ç”¨æˆ·å¯¹åº”ç¾¤ä½“å…´è¶£è¿›è¡Œèšåˆ</p>
<p>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ å³ä½¿ç”Ÿæˆçš„ç”¨æˆ·è¡Œä¸ºè¡¨å¾æœ‰åå·®ï¼Œåªè¦å®ƒè½åœ¨â€œç›¸ä¼¼ç¾¤ä½“â€ä¸­ï¼Œå°±èƒ½è¢«ç¾¤ä½“ä¸­å¿ƒæ‹‰å›æ­£è½¨ã€‚ ç¾¤ä½“åƒâ€œå¹³å‡å€¼â€ï¼Œèƒ½è¿‡æ»¤å™ªå£°ï¼Œæå‡é²æ£’æ€§ã€‚ï»¿</p>
<p><strong>3ã€å®éªŒæ–¹æ¡ˆä¸ç»“æœ</strong></p>
<p>æ•°æ®é›†</p>




















<table><thead><tr><th>ç±»å‹</th><th>æ•°æ®é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å…¬å¼€æ•°æ®é›†</strong></td><td>Amazon Reviews</td><td>1.2Mæ ·æœ¬ï¼Œæ ‡å‡†benchmark</td></tr><tr><td><strong>å·¥ä¸šæ•°æ®é›†</strong></td><td>äº¬ä¸œå¹¿å‘Šç³»ç»Ÿ</td><td>30äº¿æ ·æœ¬ï¼Œ31å¤©æ•°æ®ï¼ˆå‰30å¤©è®­ç»ƒï¼Œæœ€å1å¤©æµ‹è¯•ï¼‰</td></tr></tbody></table>
<p>æ¶ˆèå®éªŒï¼ˆAblationï¼‰</p>

























<table><thead><tr><th>æ¨¡å—</th><th>å»é™¤åæ–°ç”¨æˆ·AUC</th><th>ç»“è®º</th></tr></thead><tbody><tr><td>æ— GINï¼ˆç”¨Mean Poolingï¼‰</td><td>â†“ 0.7321</td><td>GINå¯¹é«˜é˜¶äº¤äº’å»ºæ¨¡éå¸¸é‡è¦</td></tr><tr><td>æ— JDAEï¼ˆç”¨é»˜è®¤å‘é‡ï¼‰</td><td>â†“ 0.7112</td><td>è™šæ‹Ÿè¡Œä¸ºç”Ÿæˆæ•ˆæœä¼˜äºç›´æ¥ç”¨å±æ€§</td></tr><tr><td>æ— CMNï¼ˆç›´æ¥ç”¨è™šæ‹ŸåµŒå…¥ï¼‰</td><td>â†“ 0.7145</td><td>ç¾¤ä½“æ ¡æ­£æ¯”ä¸ªä½“ç›´æ¥ä½¿ç”¨æ›´é²æ£’</td></tr></tbody></table>
<h4 data-id="heading-3"/>
<p><strong>åœ¨çº¿éƒ¨ç½²ä¸A/Bæµ‹è¯•</strong></p>
<p>éƒ¨ç½²æ–¹å¼ï¼š</p>
<p>é¢„è®¡ç®—ï¼šç”¨æˆ·è¡Œä¸ºå‘ç”Ÿ â†’ å›¾å¼•æ“å®æ—¶æ„å»ºå­å›¾ â†’ GINCMè®¡ç®—å¹¶ç¼“å­˜</p>
<p>å®æ—¶é¢„æµ‹ï¼šç²¾æ’é˜¶æ®µï¼Œç›´æ¥è¯»å–ç¼“å­˜çš„ cohort embeddingï¼Œæ— éœ€é‡ç®—å›¾</p>
<p>ç»“æœï¼š</p>
<p>CTR æå‡ 2.13%</p>
<p>RPMï¼ˆåƒæ¬¡å±•ç¤ºæ”¶å…¥ï¼‰æå‡ 2.13%</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Vue åˆ° Reactï¼šValtio è®©çŠ¶æ€ç®¡ç†æ›´ç†Ÿæ‚‰]]></title>    <link>https://juejin.cn/post/7582517824498810914</link>    <guid>https://juejin.cn/post/7582517824498810914</guid>    <pubDate>2025-12-12T06:58:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582517824498810914" data-draft-id="7582517824498712610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Vue åˆ° Reactï¼šValtio è®©çŠ¶æ€ç®¡ç†æ›´ç†Ÿæ‚‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T06:58:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="KenXu"/> <meta itemprop="url" content="https://juejin.cn/user/483440843559406"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Vue åˆ° Reactï¼šValtio è®©çŠ¶æ€ç®¡ç†æ›´ç†Ÿæ‚‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/483440843559406/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    KenXu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:58:41.000Z" title="Fri Dec 12 2025 06:58:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€å Vue å¼€å‘è€…,ä½ ä¸€å®šä¹ æƒ¯äº† Vue 3 å“åº”å¼ç³»ç»Ÿçš„ä¾¿åˆ©æ€§ã€‚å½“åˆ‡æ¢åˆ° React æ—¶,æœ€å¤§çš„ä¸é€‚åº”å¯èƒ½å°±æ˜¯çŠ¶æ€ç®¡ç†çš„æ–¹å¼ã€‚å¥½æ¶ˆæ¯æ˜¯,<strong>Valtio èƒ½è®©ä½ åœ¨ React ä¸­æ‰¾å›ç±»ä¼¼ Vue çš„å¼€å‘ä½“éªŒ</strong>ã€‚</p>
<p>å‚è€ƒç”¨ä¾‹ : <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fckken%2Femp-zustand%2Fblob%2Fmain%2Fprojects%2Femp-valtio%2Fsrc%2Fstore%2Fbase.ts" target="_blank" title="https://github.com/ckken/emp-zustand/blob/main/projects/emp-valtio/src/store/base.ts" ref="nofollow noopener noreferrer">DEMO</a></p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆ Vue å¼€å‘è€…ä¼šå–œæ¬¢ Valtio?</h2>
<h3 data-id="heading-1">1. ç†Ÿæ‚‰çš„å¯å˜çŠ¶æ€å†™æ³•</h3>
<p><strong>åœ¨ Vue ä¸­:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vue 3 Composition API</span>
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>
  }
})

<span class="hljs-comment">// ç›´æ¥ä¿®æ”¹</span>
state.<span class="hljs-property">count</span>++
state.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>
</code></pre>
<p><strong>åœ¨ Pinia ä¸­:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Pinia Store</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>
    }
  }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
    },
    <span class="hljs-title function_">updateName</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = name
    }
  }
})

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useCounterStore</span>()
store.<span class="hljs-title function_">increment</span>()
store.<span class="hljs-title function_">updateName</span>(<span class="hljs-string">'Bob'</span>)
</code></pre>
<p><strong>åœ¨ Valtio ä¸­:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// React + Valtio</span>
<span class="hljs-keyword">import</span> { proxy } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">proxy</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>
  }
})

<span class="hljs-comment">// åŒæ ·ç›´æ¥ä¿®æ”¹!</span>
state.<span class="hljs-property">count</span>++
state.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>
</code></pre>
<p>çœ‹åˆ°äº†å—?<strong>å†™æ³•å‡ ä¹ä¸€æ¨¡ä¸€æ ·!</strong> ä¸éœ€è¦åƒå…¶ä»– React çŠ¶æ€åº“é‚£æ ·å†™ <code>setState</code> æˆ–è€…è¿”å›æ–°å¯¹è±¡ã€‚</p>
<h3 data-id="heading-2">2. è‡ªåŠ¨çš„å“åº”å¼è¿½è¸ª</h3>
<p><strong>Vue çš„å“åº”å¼:</strong></p>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ state.count }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"state.count++"</span>&gt;</span>å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p><strong>Valtio çš„å“åº”å¼:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { proxy, useSnapshot } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">proxy</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(state)  <span class="hljs-comment">// ç±»ä¼¼ Vue çš„è‡ªåŠ¨ä¾èµ–è¿½è¸ª</span>
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> state.count++}&gt;å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><code>useSnapshot</code> å°±åƒ Vue çš„å“åº”å¼ç³»ç»Ÿ,<strong>åªä¼šåœ¨ç»„ä»¶å®é™…ä½¿ç”¨çš„çŠ¶æ€æ”¹å˜æ—¶æ‰é‡æ–°æ¸²æŸ“</strong>ã€‚</p>
<h2 data-id="heading-3">æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</h2>















































<table><thead><tr><th>Vue 3</th><th>Pinia</th><th>Valtio</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>reactive()</code></td><td><code>state: () =&gt; ({})</code></td><td><code>proxy()</code></td><td>åˆ›å»ºå“åº”å¼å¯¹è±¡</td></tr><tr><td><code>ref()</code></td><td>-</td><td>ä¸éœ€è¦</td><td>Valtio çš„ proxy å¯ä»¥ç›´æ¥ä¿®æ”¹åŸºç¡€ç±»å‹</td></tr><tr><td>æ¨¡æ¿è‡ªåŠ¨è¿½è¸ª</td><td><code>storeToRefs()</code></td><td><code>useSnapshot()</code></td><td>è¿½è¸ªä¾èµ–å¹¶è§¦å‘æ›´æ–°</td></tr><tr><td><code>computed()</code></td><td><code>getters: {}</code></td><td>getter å‡½æ•°</td><td>è®¡ç®—å±æ€§</td></tr><tr><td><code>watch()</code></td><td><code>$subscribe()</code></td><td><code>subscribe()</code></td><td>ç›‘å¬çŠ¶æ€å˜åŒ–</td></tr><tr><td>-</td><td><code>actions: {}</code></td><td>ç±»æ–¹æ³•</td><td>å®šä¹‰çŠ¶æ€ä¿®æ”¹æ–¹æ³•</td></tr></tbody></table>
<h2 data-id="heading-4">å®æˆ˜ç¤ºä¾‹:ä» Vue/Pinia è¿ç§»åˆ° Valtio</h2>
<h3 data-id="heading-5">åœºæ™¯ä¸€:ç®€å•è®¡æ•°å™¨</h3>
<p><strong>Vue ç‰ˆæœ¬:</strong></p>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"increment"</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"decrement"</span>&gt;</span>-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; count.<span class="hljs-property">value</span>++
<span class="hljs-keyword">const</span> <span class="hljs-title function_">decrement</span> = (<span class="hljs-params"/>) =&gt; count.<span class="hljs-property">value</span>--
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p><strong>Pinia ç‰ˆæœ¬:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// stores/counter.ts</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
  }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
    },
    <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--
    }
  }
})

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { useCounterStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/counter'</span>

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useCounterStore</span>()
&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ store.count }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"store.increment"</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"store.decrement"</span>&gt;</span>-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<p><strong>Valtio ç‰ˆæœ¬ (æ¨è Class å†™æ³•):</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { proxy, useSnapshot } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°</span>
<span class="hljs-keyword">function</span> bind&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">instance</span>: T): T {
  <span class="hljs-keyword">const</span> obj = instance <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>
  <span class="hljs-keyword">const</span> names = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj))
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> name <span class="hljs-keyword">of</span> names) {
    <span class="hljs-keyword">const</span> method = obj[name]
    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'constructor'</span> || <span class="hljs-keyword">typeof</span> method !== <span class="hljs-string">'function'</span>) <span class="hljs-keyword">continue</span>
    obj[name] = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">unknown</span>[]</span>) =&gt;</span> method.<span class="hljs-title function_">apply</span>(instance, args)
  }
  <span class="hljs-keyword">return</span> instance
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValtioStore</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">bind</span>(<span class="hljs-title function_">proxy</span>(<span class="hljs-variable language_">this</span>))
  }
}

<span class="hljs-comment">// çŠ¶æ€ç±» - ç±»å‹è‡ªåŠ¨æ¨å¯¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  count = <span class="hljs-number">0</span>  <span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼ä¸º number</span>
  
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
  }
  
  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> counterStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CounterStore</span>()

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.increment}</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.decrement}</span>&gt;</span>-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-6">åœºæ™¯äºŒ:åµŒå¥—å¯¹è±¡å’Œæ–¹æ³•</h3>
<p><strong>Vue ç‰ˆæœ¬:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
  },
  <span class="hljs-title function_">updateName</span>(<span class="hljs-params">newName: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = newName
  },
  <span class="hljs-title function_">incrementAge</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">age</span>++
  }
})
</code></pre>
<p><strong>Pinia ç‰ˆæœ¬:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// stores/user.ts</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: (): { <span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span> } =&gt; ({
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
      <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
    }
  }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">updateName</span>(<span class="hljs-params">newName: <span class="hljs-built_in">string</span></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = newName
    },
    <span class="hljs-title function_">incrementAge</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">age</span>++
    },
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${id}</span>`</span>)
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = data
    }
  }
})
</code></pre>
<p><strong>Valtio Class ç‰ˆæœ¬:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { proxy } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValtioStore</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">bind</span>(<span class="hljs-title function_">proxy</span>(<span class="hljs-variable language_">this</span>))
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  user = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
  }  <span class="hljs-comment">// ç±»å‹è‡ªåŠ¨æ¨å¯¼: { name: string; age: number }</span>
  
  <span class="hljs-title function_">updateName</span>(<span class="hljs-params">newName: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = newName  <span class="hljs-comment">// ç±»å‹å®‰å…¨</span>
  }
  
  <span class="hljs-title function_">incrementAge</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">age</span>++
  }
  
  <span class="hljs-comment">// æ”¯æŒå¼‚æ­¥æ–¹æ³•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${id}</span>`</span>)
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = data
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserStore</span>()

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(userStore)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{snap.user.name} - {snap.user.age}å²<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> userStore.updateName('æå››')}&gt;
        æ”¹å
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.incrementAge}</span>&gt;</span>
        å¢åŠ å¹´é¾„
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-7">åœºæ™¯ä¸‰:æ¨èä½¿ç”¨ Class é£æ ¼ â­</h3>
<p><strong>ä¸ºä»€ä¹ˆæ¨è Class?</strong></p>
<ul>
<li>âœ… <strong>ç±»å‹è‡ªåŠ¨æ¨å¯¼</strong> - ä¸éœ€è¦æ‰‹åŠ¨å®šä¹‰ç±»å‹</li>
<li>âœ… <strong>ä»£ç ç»„ç»‡æ¸…æ™°</strong> - æ–¹æ³•å’ŒçŠ¶æ€åœ¨ä¸€èµ·</li>
<li>âœ… <strong>æ›´ç¬¦åˆ OOP æ€ç»´</strong> - ç±»ä¼¼ Pinia çš„ setup store è¯­æ³•</li>
</ul>
<p><strong>Pinia Setup Store å†™æ³•:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// state</span>
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">ref</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
  })
  
  <span class="hljs-comment">// getters</span>
  <span class="hljs-keyword">const</span> doubleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>)
  
  <span class="hljs-comment">// actions</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    count.<span class="hljs-property">value</span>++
  }
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
    count.<span class="hljs-property">value</span>--
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserAsync</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>))
    user.<span class="hljs-property">value</span>.<span class="hljs-property">age</span>++
  }
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) {
    user.<span class="hljs-property">value</span>.<span class="hljs-property">name</span> = name
    user.<span class="hljs-property">value</span>.<span class="hljs-property">age</span> = age
  }
  
  <span class="hljs-keyword">return</span> {
    count,
    user,
    doubleCount,
    increment,
    decrement,
    fetchUserAsync,
    updateUser
  }
})
</code></pre>
<p><strong>Valtio Class å†™æ³• (æ›´ç®€æ´):</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { proxy } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°:ç»‘å®šæ–¹æ³•çš„ this</span>
<span class="hljs-keyword">function</span> bind&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">instance</span>: T): T {
  <span class="hljs-keyword">const</span> obj = instance <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>
  <span class="hljs-keyword">const</span> names = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj))

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> name <span class="hljs-keyword">of</span> names) {
    <span class="hljs-keyword">const</span> method = obj[name]
    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'constructor'</span> || <span class="hljs-keyword">typeof</span> method !== <span class="hljs-string">'function'</span>) <span class="hljs-keyword">continue</span>
    obj[name] = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">unknown</span>[]</span>) =&gt;</span> method.<span class="hljs-title function_">apply</span>(instance, args)
  }
  <span class="hljs-keyword">return</span> instance
}

<span class="hljs-comment">// åŸºç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValtioStore</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">bind</span>(<span class="hljs-title function_">proxy</span>(<span class="hljs-variable language_">this</span>))
  }
}

<span class="hljs-comment">// ä½ çš„çŠ¶æ€ç±» - æ— éœ€å®šä¹‰ç±»å‹!</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  count = <span class="hljs-number">0</span>  <span class="hljs-comment">// TypeScript è‡ªåŠ¨æ¨å¯¼ä¸º number</span>
  user = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
  }  <span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼åµŒå¥—å¯¹è±¡ç±»å‹</span>
  
  <span class="hljs-comment">// getter - ç±»ä¼¼ Pinia çš„ computed</span>
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">doubleCount</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>
  }

  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++  <span class="hljs-comment">// this æŒ‡å‘æ­£ç¡®,ç±»å‹å®‰å…¨!</span>
  }

  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUserAsync</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ”¯æŒå¼‚æ­¥æ–¹æ³•</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>))
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">age</span>++
  }

  <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = name
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">age</span> = age
  }
}

<span class="hljs-comment">// å¯¼å‡ºå•ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> counterStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CounterStore</span>()

<span class="hljs-comment">// TypeScript ä¼šè‡ªåŠ¨æ¨å¯¼å‡ºå®Œæ•´ç±»å‹:</span>
<span class="hljs-comment">// counterStore.count: number</span>
<span class="hljs-comment">// counterStore.user: { name: string, age: number }</span>
<span class="hljs-comment">// counterStore.doubleCount: number (getter)</span>
<span class="hljs-comment">// counterStore.increment: () =&gt; void</span>
</code></pre>
<p><strong>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useSnapshot } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>
<span class="hljs-keyword">import</span> { counterStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores/counter'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŒå€: {snap.doubleCount}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{snap.user.name} - {snap.user.age}å²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.increment}</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.decrement}</span>&gt;</span>-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.fetchUserAsync}</span>&gt;</span>å¢åŠ å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>å¯¹æ¯” Pinia å’Œå¯¹è±¡é£æ ¼çš„ä¼˜åŠ¿:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ Pinia:éœ€è¦ ref/reactive åŒ…è£…,return æš´éœ²</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'store'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> })
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) { count.<span class="hljs-property">value</span>++ }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) { count.<span class="hljs-property">value</span>-- }
  
  <span class="hljs-keyword">return</span> { count, user, increment, decrement }
})

<span class="hljs-comment">// âŒ Valtio å¯¹è±¡é£æ ¼:éœ€è¦æ‰‹åŠ¨å®šä¹‰ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">State</span> {
  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> }
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
  <span class="hljs-attr">decrement</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">state</span>: <span class="hljs-title class_">State</span> = <span class="hljs-title function_">proxy</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++ },
  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>-- }
})

<span class="hljs-comment">// âœ… Valtio Class é£æ ¼:ç±»å‹è‡ªåŠ¨æ¨å¯¼,ä»£ç æ›´ç®€æ´</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  count = <span class="hljs-number">0</span>
  user = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> }
  
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++ }
  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>-- }
}
</code></pre>
<h2 data-id="heading-8">æ€§èƒ½ä¼˜åŒ–:å’Œ Vue ä¸€æ ·æ™ºèƒ½</h2>
<h3 data-id="heading-9">Vue çš„æ€§èƒ½ç‰¹ç‚¹:</h3>
<ul>
<li>è‡ªåŠ¨è¿½è¸ªä¾èµ–,åªæ›´æ–°ç”¨åˆ°çš„ç»„ä»¶</li>
<li>æ·±å±‚å¯¹è±¡å˜åŒ–ä¹Ÿèƒ½ç²¾ç¡®å“åº”</li>
</ul>
<h3 data-id="heading-10">Valtio çš„æ€§èƒ½ç‰¹ç‚¹:</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(state)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> /&gt;</span>      {/* åªåœ¨ count å˜åŒ–æ—¶é‡æ¸²æŸ“ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> /&gt;</span>     {/* åªåœ¨ user å˜åŒ–æ—¶é‡æ¸²æŸ“ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// å­ç»„ä»¶ 1 - åªä½¿ç”¨ count</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(state)
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>  <span class="hljs-comment">// åªè®¢é˜… count</span>
}

<span class="hljs-comment">// å­ç»„ä»¶ 2 - åªä½¿ç”¨ user</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserInfo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(state)
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{snap.user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>  <span class="hljs-comment">// åªè®¢é˜… user.name</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹:</strong> å½“ <code>state.count</code> æ”¹å˜æ—¶,<code>UserInfo</code> ç»„ä»¶<strong>ä¸ä¼šé‡æ–°æ¸²æŸ“</strong>,è¿™å’Œ Vue çš„å“åº”å¼ç³»ç»Ÿè¡Œä¸ºä¸€è‡´!</p>
<h2 data-id="heading-11">ç›‘å¬çŠ¶æ€å˜åŒ– (ç±»ä¼¼ Vue çš„ watch å’Œ Pinia çš„ $subscribe)</h2>
<p><strong>Vue çš„ watch:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })

<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">count</span>, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`count ä» <span class="hljs-subst">${oldVal}</span> å˜ä¸º <span class="hljs-subst">${newVal}</span>`</span>)
})
</code></pre>
<p><strong>Pinia çš„ $subscribe:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
})

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useStore</span>()

<span class="hljs-comment">// è®¢é˜…æ•´ä¸ª store çš„å˜åŒ–</span>
store.$subscribe(<span class="hljs-function">(<span class="hljs-params">mutation, state</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€å˜åŒ–äº†:'</span>, state.<span class="hljs-property">count</span>)
})
</code></pre>
<p><strong>Valtio çš„ subscribe:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { proxy, subscribe } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">proxy</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })

<span class="hljs-keyword">const</span> unsubscribe = <span class="hljs-title function_">subscribe</span>(state, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€æ”¹å˜äº†:'</span>, state.<span class="hljs-property">count</span>)
})

<span class="hljs-comment">// å–æ¶ˆè®¢é˜…</span>
<span class="hljs-title function_">unsubscribe</span>()
</code></pre>
<p><strong>åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨:</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Logger</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> unsub = <span class="hljs-title function_">subscribe</span>(counterStore, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€å˜åŒ–:'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(counterStore))
    })
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">unsub</span>()  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†</span>
  }, [])
  
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}
</code></pre>
<h2 data-id="heading-12">Valtio vs Zustand vs Pinia:è¯¥é€‰å“ªä¸ª?</h2>
<p>ä» Vue/Pinia è¿‡æ¥çš„å¼€å‘è€…,æˆ‘å»ºè®®<strong>ä¼˜å…ˆé€‰æ‹© Valtio</strong>,åŸå› å¦‚ä¸‹:</p>
<h3 data-id="heading-13">Valtio çš„ä¼˜åŠ¿ (æœ€åƒ Vue/Pinia):</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âœ… ç›´æ¥ä¿®æ”¹,ç¬¦åˆ Vue/Pinia ä¹ æƒ¯</span>
counterStore.<span class="hljs-property">count</span>++
counterStore.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>

<span class="hljs-comment">// æˆ–è€…ç”¨æ–¹æ³•</span>
counterStore.<span class="hljs-title function_">increment</span>()
</code></pre>
<h3 data-id="heading-14">Pinia çš„å†™æ³•:</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Pinia åœ¨ Vue ä¸­</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useCounterStore</span>()
store.<span class="hljs-property">count</span>++  <span class="hljs-comment">// å¯ä»¥ç›´æ¥ä¿®æ”¹</span>
store.<span class="hljs-title function_">increment</span>()  <span class="hljs-comment">// æˆ–è°ƒç”¨ action</span>
</code></pre>
<h3 data-id="heading-15">Zustand çš„å†™æ³• (æ›´åƒ Redux):</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ éœ€è¦è°ƒç”¨ set å‡½æ•°,ä¸å¤Ÿç›´è§‚</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CounterState</span> {
  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
}

<span class="hljs-keyword">const</span> useStore = create&lt;<span class="hljs-title class_">CounterState</span>&gt;(<span class="hljs-function"><span class="hljs-params">set</span> =&gt;</span> ({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> }))
}))
</code></pre>
<h3 data-id="heading-16">ä¸‰è€…å¯¹æ¯”è¡¨æ ¼</h3>





















































<table><thead><tr><th>ç‰¹æ€§</th><th>Pinia</th><th>Valtio</th><th>Zustand</th></tr></thead><tbody><tr><td>å¯å˜çŠ¶æ€</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>âŒ å¦ (ä¸å¯å˜)</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>ä½ (Vue å¼€å‘è€…)</td><td>ä½ (ç±»ä¼¼ Pinia)</td><td>ä¸­ç­‰</td></tr><tr><td>TypeScript</td><td>âœ… ä¼˜ç§€</td><td>âœ… ä¼˜ç§€ (Class è‡ªåŠ¨æ¨å¯¼)</td><td>âœ… ä¼˜ç§€</td></tr><tr><td>DevTools</td><td>âœ… Vue DevTools</td><td>âœ… æ”¯æŒ</td><td>âœ… Redux DevTools</td></tr><tr><td>ä¸­é—´ä»¶</td><td>âœ… Plugins</td><td>âš ï¸ è¾ƒå°‘</td><td>âœ… ä¸°å¯Œ</td></tr><tr><td>Class æ”¯æŒ</td><td>âš ï¸ Setup Store</td><td>âœ… åŸç”Ÿæ”¯æŒ</td><td>âŒ ä¸æ¨è</td></tr><tr><td>ç”Ÿæ€ç³»ç»Ÿ</td><td>å¤§ (Vue)</td><td>ä¸­ç­‰</td><td>å¤§ (React)</td></tr></tbody></table>
<p><strong>ä½†æ˜¯</strong>,å¦‚æœä½ éœ€è¦ä»¥ä¸‹åŠŸèƒ½,å¯ä»¥è€ƒè™‘ Zustand:</p>
<ul>
<li>ä¸­é—´ä»¶æ”¯æŒ (æŒä¹…åŒ–ã€æ—¥å¿—ç­‰)</li>
<li>é€‰æ‹©å™¨ä¼˜åŒ– (ç²¾ç¡®æ§åˆ¶è®¢é˜…)</li>
<li>æ›´å¤§çš„ç¤¾åŒºå’Œç”Ÿæ€</li>
</ul>
<p><strong>Valtio vs Pinia çš„æ ¸å¿ƒåŒºåˆ«:</strong></p>
<ul>
<li>Pinia éœ€è¦åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ <code>useStore()</code> hook</li>
<li>Valtio çš„ store æ˜¯å…¨å±€å•ä¾‹,å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨</li>
<li>Pinia æœ‰ Vue DevTools é›†æˆ</li>
<li>Valtio æ›´è½»é‡,æ²¡æœ‰æ¡†æ¶ç»‘å®š</li>
</ul>
<h2 data-id="heading-17">æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 data-id="heading-18">1. ç»„ä»¶åˆ†ç¦» (ç±»ä¼¼ Vue çš„ç»„ä»¶åŒ–æ€æƒ³)</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ ä¸å¥½:æ‰€æœ‰é€»è¾‘æ··åœ¨ä¸€èµ·</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.increment}</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// âœ… å¥½:æ§åˆ¶å’Œå±•ç¤ºåˆ†ç¦»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Controls</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.increment}</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.decrement}</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-19">2. çŠ¶æ€æ¨¡å—åŒ– (æ¨è Class æ–¹å¼)</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// stores/counter.ts</span>
<span class="hljs-keyword">import</span> { proxy } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValtioStore</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">bind</span>(<span class="hljs-title function_">proxy</span>(<span class="hljs-variable language_">this</span>))
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  count = <span class="hljs-number">0</span>
  
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) { 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++ 
  }
  
  <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) { 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>-- 
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> counterStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CounterStore</span>()
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// stores/user.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ValtioStore</span> {
  <span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>
  loading = <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">username: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">login</span>(username)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = user
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
    }
  }
  
  <span class="hljs-title function_">logout</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = <span class="hljs-literal">null</span>
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserStore</span>()
</code></pre>
<h3 data-id="heading-20">3. è¯»ç”¨ snap,å†™ç”¨åŸå§‹ store</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { counterStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores/counter'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Component</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(counterStore)  <span class="hljs-comment">// âœ… è¯»å–ç”¨ snap</span>
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>                    {/* è¯» */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{counterStore.increment}</span>&gt;</span>  {/* å†™ - ç›´æ¥ç”¨ store */}
        å¢åŠ 
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {/* æˆ–è€…ç”¨ snap çš„æ–¹æ³•ä¹Ÿå¯ä»¥ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{snap.decrement}</span>&gt;</span>
        å‡å°‘
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p>ä» Vue/Pinia åˆ‡æ¢åˆ° React,é€‰æ‹© Valtio å¯ä»¥è®©ä½ :</p>
<ul>
<li>âœ… <strong>ä¿æŒç†Ÿæ‚‰çš„å¯å˜çŠ¶æ€å†™æ³•</strong> - å’Œ Vue reactive/Pinia ä¸€æ ·ç›´è§‚</li>
<li>âœ… <strong>äº«å—ç±»ä¼¼ Vue çš„å“åº”å¼ä½“éªŒ</strong> - è‡ªåŠ¨ä¾èµ–è¿½è¸ª</li>
<li>âœ… <strong>Class é£æ ¼å‡å°‘ç±»å‹å®šä¹‰</strong> - ç±»ä¼¼ Pinia Setup Store,ä½†æ›´ç®€æ´</li>
<li>âœ… <strong>å‡å°‘å­¦ä¹ æ›²çº¿,å¿«é€Ÿä¸Šæ‰‹</strong> - ä» Pinia è¿ç§»å‡ ä¹æ— ç¼</li>
<li>âœ… <strong>è·å¾—ä¼˜ç§€çš„æ€§èƒ½è¡¨ç°</strong> - ç²¾ç¡®çš„å“åº”å¼æ›´æ–°</li>
</ul>
<h3 data-id="heading-22">Vue/Pinia â†’ Valtio è¿ç§»é€ŸæŸ¥è¡¨</h3>













































<table><thead><tr><th>Pinia</th><th>Valtio</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>defineStore()</code></td><td><code>class extends ValtioStore</code></td><td>å®šä¹‰ store</td></tr><tr><td><code>state: () =&gt; ({})</code></td><td><code>count = 0</code></td><td>å®šä¹‰çŠ¶æ€</td></tr><tr><td><code>actions: {}</code></td><td>ç±»æ–¹æ³•</td><td>å®šä¹‰æ“ä½œ</td></tr><tr><td><code>getters: {}</code></td><td><code>get xxx()</code></td><td>è®¡ç®—å±æ€§</td></tr><tr><td><code>useStore()</code></td><td><code>useSnapshot(store)</code></td><td>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</td></tr><tr><td><code>store.$subscribe()</code></td><td><code>subscribe(store)</code></td><td>ç›‘å¬å˜åŒ–</td></tr><tr><td><code>storeToRefs(store)</code></td><td><code>useSnapshot(store)</code></td><td>å“åº”å¼å¼•ç”¨</td></tr></tbody></table>
<p>å¦‚æœä½ ä¹ æƒ¯äº† Vue çš„ <code>reactive()</code> å’Œ Pinia çš„çŠ¶æ€ç®¡ç†,é‚£ä¹ˆ Valtio çš„ <code>proxy()</code> å’Œ Class å†™æ³•ä¼šè®©ä½ æ„Ÿåˆ°å®¾è‡³å¦‚å½’ã€‚ä¸éœ€è¦é‡æ–°å­¦ä¹ å®Œå…¨ä¸åŒçš„çŠ¶æ€ç®¡ç†æ€ç»´,å°±èƒ½åœ¨ React ä¸­é«˜æ•ˆå¼€å‘ã€‚</p>
<p>ç°åœ¨å°±å¼€å§‹ä½ çš„ Valtio ä¹‹æ—…å§!ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[springboot+redis å¦‚ä½•å®ç°è®¢å•çš„è¿‡æœŸ]]></title>    <link>https://juejin.cn/post/7582553782398533678</link>    <guid>https://juejin.cn/post/7582553782398533678</guid>    <pubDate>2025-12-12T06:17:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582553782398533678" data-draft-id="7582599972949966875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="springboot+redis å¦‚ä½•å®ç°è®¢å•çš„è¿‡æœŸ"/> <meta itemprop="keywords" content="åç«¯,Java,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-12T06:17:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITç•ŒTonyå“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3157453122578087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            springboot+redis å¦‚ä½•å®ç°è®¢å•çš„è¿‡æœŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3157453122578087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITç•ŒTonyå“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:17:44.000Z" title="Fri Dec 12 2025 06:17:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Spring Bootä¸­ä½¿ç”¨Rediså®ç°è®¢å•è¿‡æœŸï¼ˆè¶…æ—¶å–æ¶ˆï¼‰åŠŸèƒ½ï¼Œæœ‰å¤šç§æˆç†Ÿæ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®ç°æ–¹æ¡ˆï¼š</p>
<h2 data-id="heading-0">ä¸€ã€Redisé”®è¿‡æœŸå›è°ƒæ–¹æ¡ˆï¼ˆæ¨èï¼‰</h2>
<h3 data-id="heading-1">1. é…ç½®Redisç›‘å¬å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisKeyExpirationConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisMessageListenerContainer <span class="hljs-title function_">redisMessageListenerContainer</span><span class="hljs-params">(
            RedisConnectionFactory connectionFactory)</span> {
        <span class="hljs-type">RedisMessageListenerContainer</span> <span class="hljs-variable">container</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisMessageListenerContainer</span>();
        container.setConnectionFactory(connectionFactory);
        <span class="hljs-keyword">return</span> container;
    }
}
</code></pre>
<h3 data-id="heading-2">2. ç›‘å¬é”®è¿‡æœŸäº‹ä»¶</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderExpirationListener</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_KEY_PREFIX</span> = <span class="hljs-string">"order:"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_EXPIRE_KEY_PREFIX</span> = <span class="hljs-string">"order:expire:"</span>;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RedisTemplate</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; redisTemplate;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderService</span> orderService;
    
    <span class="hljs-comment">/**
     * ç›‘å¬æ‰€æœ‰é”®è¿‡æœŸäº‹ä»¶
     */</span>
    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleKeyExpiredEvent</span>(<span class="hljs-params">KeyExpiredEvent&lt;<span class="hljs-built_in">String</span>&gt; event</span>) {
        <span class="hljs-title class_">String</span> expiredKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(event.<span class="hljs-title function_">getSource</span>());
        
        <span class="hljs-keyword">if</span> (expiredKey.<span class="hljs-title function_">startsWith</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_KEY_PREFIX</span>)) {
            <span class="hljs-title class_">String</span> orderId = expiredKey.<span class="hljs-title function_">substring</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_KEY_PREFIX</span>.<span class="hljs-title function_">length</span>());
            <span class="hljs-title function_">handleOrderExpired</span>(orderId);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleOrderExpired</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"æ£€æµ‹åˆ°è®¢å•è¿‡æœŸ: {}"</span>, orderId);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å¼‚æ­¥å¤„ç†ï¼Œé¿å…é˜»å¡Redisç›‘å¬çº¿ç¨‹</span>
            <span class="hljs-title class_">CompletableFuture</span>.<span class="hljs-title function_">runAsync</span>(() -&gt; {
                <span class="hljs-built_in">boolean</span> result = orderService.<span class="hljs-title function_">cancelExpiredOrder</span>(orderId);
                <span class="hljs-keyword">if</span> (result) {
                    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"è®¢å• {} å·²æˆåŠŸå–æ¶ˆ"</span>, orderId);
                } <span class="hljs-keyword">else</span> {
                    log.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"è®¢å• {} å–æ¶ˆå¤±è´¥æˆ–å·²å¤„ç†"</span>, orderId);
                }
            });
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¤„ç†è®¢å•è¿‡æœŸå¼‚å¸¸: {}"</span>, orderId, e);
        }
    }
}
</code></pre>
<h3 data-id="heading-3">3. Redisé…ç½®ï¼ˆå¼€å¯é”®ç©ºé—´é€šçŸ¥ï¼‰</h3>
<p>åœ¨Redisé…ç½®æ–‡ä»¶<code>redis.conf</code>ä¸­å¼€å¯é”®ç©ºé—´é€šçŸ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯é”®ç©ºé—´é€šçŸ¥</span>
notify-keyspace-events Ex

<span class="hljs-comment"># æˆ–è€…å¼€å¯æ‰€æœ‰äº‹ä»¶</span>
<span class="hljs-comment"># notify-keyspace-events AKE</span>
</code></pre>
<p>Spring Booté…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    <span class="hljs-comment"># ç›‘å¬é”®è¿‡æœŸäº‹ä»¶</span>
    <span class="hljs-attr">listen-patterns:</span> <span class="hljs-string">"__keyevent@*__:expired"</span>
</code></pre>
<h2 data-id="heading-4">äºŒã€å»¶æ—¶é˜Ÿåˆ—æ–¹æ¡ˆï¼ˆRedissonå®ç°ï¼‰</h2>
<h3 data-id="heading-5">1. æ·»åŠ Redissonä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.redisson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>redisson-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.23.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-6">2. ä½¿ç”¨Redissonå»¶æ—¶é˜Ÿåˆ—</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderDelayQueueService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RedissonClient</span> redissonClient;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderService</span> orderService;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">DELAY_QUEUE_NAME</span> = <span class="hljs-string">"order:delay:queue"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">PROCESSING_SET</span> = <span class="hljs-string">"order:delay:processing"</span>;
    
    <span class="hljs-comment">/**
     * æ·»åŠ è®¢å•åˆ°å»¶æ—¶é˜Ÿåˆ—
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     * <span class="hljs-doctag">@param</span> delayTime å»¶æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addToDelayQueue</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId, long delayTime</span>) {
        <span class="hljs-title class_">RBlockingQueue</span>&lt;<span class="hljs-title class_">String</span>&gt; blockingQueue = redissonClient
            .<span class="hljs-title function_">getBlockingQueue</span>(<span class="hljs-variable constant_">DELAY_QUEUE_NAME</span>);
        <span class="hljs-title class_">RDelayedQueue</span>&lt;<span class="hljs-title class_">String</span>&gt; delayedQueue = redissonClient
            .<span class="hljs-title function_">getDelayedQueue</span>(blockingQueue);
        
        <span class="hljs-comment">// æ·»åŠ åˆ°å»¶æ—¶é˜Ÿåˆ—</span>
        delayedQueue.<span class="hljs-title function_">offer</span>(orderId, delayTime, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MINUTES</span>);
        
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"è®¢å• {} å·²æ·»åŠ åˆ°å»¶æ—¶é˜Ÿåˆ—ï¼Œå°†åœ¨ {} åˆ†é’Ÿåè¿‡æœŸ"</span>, orderId, delayTime);
    }
    
    <span class="hljs-comment">/**
     * å¯åŠ¨å»¶æ—¶é˜Ÿåˆ—æ¶ˆè´¹è€…
     */</span>
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">startDelayQueueConsumer</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-attr">this</span>::consumeDelayQueue, <span class="hljs-string">"delay-queue-consumer"</span>).<span class="hljs-title function_">start</span>();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">consumeDelayQueue</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">RBlockingQueue</span>&lt;<span class="hljs-title class_">String</span>&gt; blockingQueue = redissonClient
            .<span class="hljs-title function_">getBlockingQueue</span>(<span class="hljs-variable constant_">DELAY_QUEUE_NAME</span>);
        
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// ä»é˜Ÿåˆ—ä¸­å–å‡ºè¿‡æœŸçš„è®¢å•</span>
                <span class="hljs-title class_">String</span> orderId = blockingQueue.<span class="hljs-title function_">take</span>();
                
                <span class="hljs-comment">// å¤„ç†è®¢å•è¿‡æœŸ</span>
                <span class="hljs-title function_">processExpiredOrder</span>(orderId);
                
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å»¶æ—¶é˜Ÿåˆ—æ¶ˆè´¹çº¿ç¨‹è¢«ä¸­æ–­"</span>, e);
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¤„ç†å»¶æ—¶é˜Ÿåˆ—æ¶ˆæ¯å¼‚å¸¸"</span>, e);
            }
        }
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†è¿‡æœŸè®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processExpiredOrder</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-title class_">RSet</span>&lt;<span class="hljs-title class_">String</span>&gt; processingSet = redissonClient.<span class="hljs-title function_">getSet</span>(<span class="hljs-variable constant_">PROCESSING_SET</span>);
        
        <span class="hljs-comment">// ä½¿ç”¨seté˜²æ­¢é‡å¤å¤„ç†</span>
        <span class="hljs-keyword">if</span> (processingSet.<span class="hljs-title function_">add</span>(orderId)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">boolean</span> result = orderService.<span class="hljs-title function_">cancelExpiredOrder</span>(orderId);
                <span class="hljs-keyword">if</span> (result) {
                    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å»¶æ—¶é˜Ÿåˆ—ï¼šè®¢å• {} å·²è¿‡æœŸå–æ¶ˆ"</span>, orderId);
                } <span class="hljs-keyword">else</span> {
                    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å»¶æ—¶é˜Ÿåˆ—ï¼šè®¢å• {} æ— éœ€å¤„ç†"</span>, orderId);
                }
            } <span class="hljs-keyword">finally</span> {
                processingSet.<span class="hljs-title function_">remove</span>(orderId);
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ZSetæœ‰åºé›†åˆæ–¹æ¡ˆ</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderExpireZSetService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">StringRedisTemplate</span> redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span> = <span class="hljs-string">"order:expire:zset"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_PROCESSING_SET</span> = <span class="hljs-string">"order:processing:set"</span>;
    
    <span class="hljs-comment">/**
     * æ·»åŠ è®¢å•åˆ°è¿‡æœŸé›†åˆ
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     * <span class="hljs-doctag">@param</span> expireTime è¿‡æœŸæ—¶é—´æˆ³
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addOrderToExpireSet</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId, long expireTime</span>) {
        redisTemplate.<span class="hljs-title function_">opsForZSet</span>().<span class="hljs-title function_">add</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span>, orderId, expireTime);
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"è®¢å• {} å·²æ·»åŠ åˆ°è¿‡æœŸé›†åˆï¼Œè¿‡æœŸæ—¶é—´: {}"</span>, orderId, 
                 <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(expireTime));
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ‰«æè¿‡æœŸè®¢å•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">scanExpiredOrders</span>(<span class="hljs-params"/>) {
        long now = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        
        <span class="hljs-comment">// è·å–å·²è¿‡æœŸçš„è®¢å•</span>
        <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; expiredOrders = redisTemplate.<span class="hljs-title function_">opsForZSet</span>()
            .<span class="hljs-title function_">rangeByScore</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span>, <span class="hljs-number">0</span>, now);
        
        <span class="hljs-keyword">if</span> (expiredOrders != <span class="hljs-literal">null</span> &amp;&amp; !expiredOrders.<span class="hljs-title function_">isEmpty</span>()) {
            <span class="hljs-keyword">for</span> (<span class="hljs-title class_">String</span> orderId : expiredOrders) {
                <span class="hljs-title function_">processExpiredOrder</span>(orderId);
            }
            
            <span class="hljs-comment">// ç§»é™¤å·²å¤„ç†çš„è®¢å•</span>
            redisTemplate.<span class="hljs-title function_">opsForZSet</span>().<span class="hljs-title function_">removeRangeByScore</span>(
                <span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span>, <span class="hljs-number">0</span>, now);
        }
    }
    
    <span class="hljs-comment">/**
     * å®šæ—¶æ‰«æä»»åŠ¡
     */</span>
    <span class="hljs-meta">@Scheduled</span>(fixedDelay = <span class="hljs-number">30000</span>) <span class="hljs-comment">// æ¯30ç§’æ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">scheduledScan</span>(<span class="hljs-params"/>) {
        log.<span class="hljs-title function_">debug</span>(<span class="hljs-string">"å¼€å§‹æ‰«æè¿‡æœŸè®¢å•"</span>);
        <span class="hljs-title function_">scanExpiredOrders</span>();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processExpiredOrder</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-comment">// ä½¿ç”¨setnxé˜²æ­¢é‡å¤å¤„ç†</span>
        <span class="hljs-title class_">Boolean</span> success = redisTemplate.<span class="hljs-title function_">opsForValue</span>()
            .<span class="hljs-title function_">setIfAbsent</span>(<span class="hljs-variable constant_">ORDER_PROCESSING_SET</span> + <span class="hljs-string">":"</span> + orderId, <span class="hljs-string">"1"</span>, <span class="hljs-number">5</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MINUTES</span>);
        
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Boolean</span>.<span class="hljs-property">TRUE</span>.<span class="hljs-title function_">equals</span>(success)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// å¤„ç†è®¢å•è¿‡æœŸé€»è¾‘</span>
                <span class="hljs-title function_">handleOrderExpired</span>(orderId);
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// æ¸…ç†å¤„ç†æ ‡è®°</span>
                redisTemplate.<span class="hljs-title function_">delete</span>(<span class="hljs-variable constant_">ORDER_PROCESSING_SET</span> + <span class="hljs-string">":"</span> + orderId);
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleOrderExpired</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> å®ç°è®¢å•è¿‡æœŸå¤„ç†é€»è¾‘</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å¤„ç†è¿‡æœŸè®¢å•: {}"</span>, orderId);
    }
}
</code></pre>
<h2 data-id="heading-8">å››ã€å®Œæ•´è®¢å•æœåŠ¡å®ç°</h2>
<h3 data-id="heading-9">1. è®¢å•çŠ¶æ€æšä¸¾</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderStatus</span> {
    
    <span class="hljs-built_in">PENDING_PAYMENT</span>(<span class="hljs-number">0</span>, <span class="hljs-string">"å¾…æ”¯ä»˜"</span>),
    <span class="hljs-built_in">PAID</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"å·²æ”¯ä»˜"</span>),
    <span class="hljs-built_in">COMPLETED</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"å·²å®Œæˆ"</span>),
    <span class="hljs-built_in">CANCELLED</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"å·²å–æ¶ˆ"</span>),
    <span class="hljs-built_in">EXPIRED</span>(<span class="hljs-number">4</span>, <span class="hljs-string">"å·²è¿‡æœŸ"</span>);
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> code;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> description;
    
    <span class="hljs-built_in">OrderStatus</span>(<span class="hljs-type">int</span> code, <span class="hljs-type">String</span> description) {
        <span class="hljs-keyword">this</span>.code = code;
        <span class="hljs-keyword">this</span>.description = description;
    }
    
    <span class="hljs-comment">// getteræ–¹æ³•çœç•¥</span>
}
</code></pre>
<h3 data-id="heading-10">2. è®¢å•å®ä½“</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Data</span>
<span class="hljs-variable">@Entity</span>
<span class="hljs-variable">@Table</span>(name = <span class="hljs-string">"t_order"</span>)
public class Order {
    
    <span class="hljs-variable">@Id</span>
    <span class="hljs-variable">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)
    private Long id;
    
    <span class="hljs-variable">@Column</span>(unique = true)
    private String orderNo;
    
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">userId</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">BigDecimal</span> <span class="hljs-selector-tag">amount</span>;
    
    @<span class="hljs-selector-tag">Enumerated</span>(EnumType.ORDINAL)
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">OrderStatus</span> <span class="hljs-selector-tag">status</span> = <span class="hljs-selector-tag">OrderStatus</span><span class="hljs-selector-class">.PENDING_PAYMENT</span>;
    
    @<span class="hljs-selector-tag">Column</span>(name = <span class="hljs-string">"expire_time"</span>)
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">expireTime</span>;
    
    @<span class="hljs-selector-tag">Column</span>(name = <span class="hljs-string">"create_time"</span>)
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">createTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.now</span>();
    
    @<span class="hljs-selector-tag">Column</span>(name = <span class="hljs-string">"update_time"</span>)
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">updateTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.now</span>();
    
    <span class="hljs-comment">/**
     * åˆ¤æ–­è®¢å•æ˜¯å¦å·²è¿‡æœŸ
     */</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">isExpired</span>() {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.now</span>()<span class="hljs-selector-class">.isAfter</span>(expireTime) 
            <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-tag">&amp;</span> <span class="hljs-selector-tag">status</span> == <span class="hljs-selector-tag">OrderStatus</span><span class="hljs-selector-class">.PENDING_PAYMENT</span>;
    }
}
</code></pre>
<h3 data-id="heading-11">3. è®¢å•æœåŠ¡å®ç°</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Service</span>
<span class="hljs-keyword">@Slf</span>4j
<span class="hljs-keyword">@Transactional</span>
public class OrderService {
    
    <span class="hljs-keyword">@Autowired</span>
    private OrderRepository orderRepository;
    
    <span class="hljs-keyword">@Autowired</span>
    private StringRedisTemplate redisTemplate;
    
    <span class="hljs-keyword">@Autowired</span>
    private OrderDelayQueueService delayQueueService;
    
    <span class="hljs-keyword">@Autowired</span>
    private OrderExpireZSetService zSetService;
    
    <span class="hljs-keyword">@Autowired</span>
    private ApplicationEventPublisher eventPublisher;
    
    private static final String ORDER_LOCK_PREFIX = "<span class="hljs-attribute">order</span>:lock:<span class="hljs-string">";
    private static final String ORDER_EXPIRE_KEY_PREFIX = "</span>order:expire:<span class="hljs-string">";
    private static final int ORDER_EXPIRE_MINUTES = 30; // 30åˆ†é’Ÿæœªæ”¯ä»˜è¿‡æœŸ
    
    /**
     * åˆ›å»ºè®¢å•
     */
    public Order createOrder(Long userId, BigDecimal amount) {
        Order order = new Order();
        order.setOrderNo(generateOrderNo());
        order.setUserId(userId);
        order.setAmount(amount);
        order.setStatus(OrderStatus.PENDING_PAYMENT);
        order.setExpireTime(LocalDateTime.now().plusMinutes(ORDER_EXPIRE_MINUTES));
        
        order = orderRepository.save(order);
        
        // è®¾ç½®Redisè¿‡æœŸ
        setOrderExpire(order.getOrderNo());
        
        // æ·»åŠ åˆ°å»¶æ—¶é˜Ÿåˆ—
        delayQueueService.addToDelayQueue(order.getOrderNo(), ORDER_EXPIRE_MINUTES);
        
        // æ·»åŠ åˆ°ZSet
        zSetService.addOrderToExpireSet(
            order.getOrderNo(), 
            order.getExpireTime().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli()
        );
        
        log.info("</span>åˆ›å»ºè®¢å•æˆåŠŸ: {}, è¿‡æœŸæ—¶é—´: {}", <span class="hljs-attribute">order</span><span class="hljs-selector-class">.getOrderNo</span>(), <span class="hljs-attribute">order</span><span class="hljs-selector-class">.getExpireTime</span>());
        return <span class="hljs-attribute">order</span>;
    }
    
    <span class="hljs-comment">/**
     * è®¾ç½®Redisé”®è¿‡æœŸ
     */</span>
    private void <span class="hljs-built_in">setOrderExpire</span>(String orderNo) {
        String key = ORDER_EXPIRE_KEY_PREFIX + orderNo;
        String value = String<span class="hljs-selector-class">.valueOf</span>(System.currentTimeMillis());
        
        <span class="hljs-comment">// è®¾ç½®30åˆ†é’Ÿåè¿‡æœŸ</span>
        redisTemplate<span class="hljs-selector-class">.opsForValue</span>()<span class="hljs-selector-class">.set</span>(
            key, 
            value, 
            ORDER_EXPIRE_MINUTES, 
            TimeUnit.MINUTES
        );
        
        <span class="hljs-comment">// åŒæ—¶å­˜å‚¨è®¢å•ä¿¡æ¯ï¼Œç”¨äºè¿‡æœŸæ—¶å¤„ç†</span>
        Map&lt;String, String&gt; orderInfo = new HashMap&lt;&gt;();
        orderInfo<span class="hljs-selector-class">.put</span>("orderNo", orderNo);
        orderInfo<span class="hljs-selector-class">.put</span>("userId", "<span class="hljs-number">1</span>"); <span class="hljs-comment">// å®é™…ä»è®¢å•è·å–</span>
        orderInfo<span class="hljs-selector-class">.put</span>("amount", "<span class="hljs-number">100.00</span>");
        
        redisTemplate<span class="hljs-selector-class">.opsForHash</span>()<span class="hljs-selector-class">.putAll</span>(ORDER_KEY_PREFIX + orderNo, orderInfo);
    }
    
    <span class="hljs-comment">/**
     * æ”¯ä»˜æˆåŠŸå¤„ç†
     */</span>
    public boolean <span class="hljs-built_in">processPayment</span>(String orderNo) {
        <span class="hljs-comment">// è·å–åˆ†å¸ƒå¼é”</span>
        String lockKey = ORDER_LOCK_PREFIX + orderNo;
        Boolean locked = redisTemplate<span class="hljs-selector-class">.opsForValue</span>()
            <span class="hljs-selector-class">.setIfAbsent</span>(lockKey, "<span class="hljs-number">1</span>", <span class="hljs-number">10</span>, TimeUnit.SECONDS);
        
        if (Boolean.FALSE.equals(locked)) {
            throw new <span class="hljs-built_in">RuntimeException</span>("è®¢å•å¤„ç†ä¸­ï¼Œè¯·ç¨å");
        }
        
        try {
            <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderRepository<span class="hljs-selector-class">.findByOrderNo</span>(orderNo)
                <span class="hljs-selector-class">.orElseThrow</span>(() -&gt; new <span class="hljs-built_in">RuntimeException</span>("è®¢å•ä¸å­˜åœ¨"));
            
            <span class="hljs-comment">// æ£€æŸ¥è®¢å•çŠ¶æ€</span>
            if (order.getStatus() != OrderStatus<span class="hljs-selector-class">.PENDING_PAYMENT</span>) {
                throw new <span class="hljs-built_in">RuntimeException</span>("è®¢å•çŠ¶æ€å¼‚å¸¸: " + order.getStatus());
            }
            
            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿‡æœŸ</span>
            if (order.isExpired()) {
                <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setStatus</span>(OrderStatus.EXPIRED);
                orderRepository<span class="hljs-selector-class">.save</span>(order);
                throw new <span class="hljs-built_in">RuntimeException</span>("è®¢å•å·²è¿‡æœŸ");
            }
            
            <span class="hljs-comment">// æ›´æ–°è®¢å•çŠ¶æ€</span>
            <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setStatus</span>(OrderStatus.PAID);
            <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setUpdateTime</span>(LocalDateTime.now());
            orderRepository<span class="hljs-selector-class">.save</span>(order);
            
            <span class="hljs-comment">// ç§»é™¤è¿‡æœŸè®¾ç½®</span>
            <span class="hljs-built_in">removeOrderExpire</span>(orderNo);
            
            <span class="hljs-comment">// å‘å¸ƒæ”¯ä»˜æˆåŠŸäº‹ä»¶</span>
            eventPublisher<span class="hljs-selector-class">.publishEvent</span>(new OrderPaidEvent(this, order));
            
            log<span class="hljs-selector-class">.info</span>("è®¢å•æ”¯ä»˜æˆåŠŸ: {}", orderNo);
            return true;
            
        } finally {
            <span class="hljs-comment">// é‡Šæ”¾é”</span>
            redisTemplate<span class="hljs-selector-class">.delete</span>(lockKey);
        }
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†è¿‡æœŸè®¢å•
     */</span>
    public boolean <span class="hljs-built_in">cancelExpiredOrder</span>(String orderNo) {
        String lockKey = ORDER_LOCK_PREFIX + orderNo;
        Boolean locked = redisTemplate<span class="hljs-selector-class">.opsForValue</span>()
            <span class="hljs-selector-class">.setIfAbsent</span>(lockKey, "<span class="hljs-number">1</span>", <span class="hljs-number">10</span>, TimeUnit.SECONDS);
        
        if (Boolean.FALSE.equals(locked)) {
            return false;
        }
        
        try {
            <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderRepository<span class="hljs-selector-class">.findByOrderNo</span>(orderNo)
                <span class="hljs-selector-class">.orElseThrow</span>(() -&gt; new <span class="hljs-built_in">RuntimeException</span>("è®¢å•ä¸å­˜åœ¨"));
            
            <span class="hljs-comment">// åŒé‡æ£€æŸ¥ï¼šè®¢å•æ˜¯å¦ä»ä¸ºå¾…æ”¯ä»˜çŠ¶æ€</span>
            if (order.getStatus() != OrderStatus<span class="hljs-selector-class">.PENDING_PAYMENT</span>) {
                log<span class="hljs-selector-class">.info</span>("è®¢å• {} çŠ¶æ€å·²å˜æ›´ä¸º {}ï¼Œè·³è¿‡å–æ¶ˆ", orderNo, order.getStatus());
                return false;
            }
            
            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦çœŸçš„è¿‡æœŸ</span>
            if (!order.isExpired()) {
                log<span class="hljs-selector-class">.info</span>("è®¢å• {} æœªè¿‡æœŸï¼Œè·³è¿‡å–æ¶ˆ", orderNo);
                return false;
            }
            
            <span class="hljs-comment">// æ›´æ–°è®¢å•çŠ¶æ€</span>
            <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setStatus</span>(OrderStatus.EXPIRED);
            <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setUpdateTime</span>(LocalDateTime.now());
            orderRepository<span class="hljs-selector-class">.save</span>(order);
            
            <span class="hljs-comment">// é‡Šæ”¾åº“å­˜ç­‰ä¸šåŠ¡é€»è¾‘</span>
            <span class="hljs-built_in">releaseStock</span>(order);
            
            <span class="hljs-comment">// å‘é€é€šçŸ¥</span>
            <span class="hljs-built_in">sendExpireNotification</span>(order);
            
            log<span class="hljs-selector-class">.info</span>("è®¢å• {} å·²è¿‡æœŸå–æ¶ˆ", orderNo);
            return true;
            
        } finally {
            redisTemplate<span class="hljs-selector-class">.delete</span>(lockKey);
        }
    }
    
    <span class="hljs-comment">/**
     * ç§»é™¤è®¢å•è¿‡æœŸè®¾ç½®
     */</span>
    private void <span class="hljs-built_in">removeOrderExpire</span>(String orderNo) {
        <span class="hljs-comment">// åˆ é™¤è¿‡æœŸkey</span>
        redisTemplate<span class="hljs-selector-class">.delete</span>(ORDER_EXPIRE_KEY_PREFIX + orderNo);
        
        <span class="hljs-comment">// ä»å»¶æ—¶é˜Ÿåˆ—ç§»é™¤</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šRedissonå»¶æ—¶é˜Ÿåˆ—ä¸æ”¯æŒç›´æ¥ç§»é™¤ï¼Œéœ€è¦å…¶ä»–æ–¹å¼</span>
        
        <span class="hljs-comment">// ä»ZSetç§»é™¤</span>
        redisTemplate<span class="hljs-selector-class">.opsForZSet</span>()<span class="hljs-selector-class">.remove</span>(ORDER_EXPIRE_ZSET, orderNo);
        
        <span class="hljs-comment">// åˆ é™¤è®¢å•ç¼“å­˜</span>
        redisTemplate<span class="hljs-selector-class">.delete</span>(ORDER_KEY_PREFIX + orderNo);
    }
    
    <span class="hljs-comment">/**
     * ç”Ÿæˆè®¢å•å·
     */</span>
    private String <span class="hljs-built_in">generateOrderNo</span>() {
        <span class="hljs-comment">// æ—¶é—´æˆ³ + éšæœºæ•°</span>
        return "ORD" + 
               System<span class="hljs-selector-class">.currentTimeMillis</span>() + 
               String<span class="hljs-selector-class">.format</span>("%<span class="hljs-number">06</span>d", ThreadLocalRandom.current()<span class="hljs-selector-class">.nextInt</span>(<span class="hljs-number">1000000</span>));
    }
    
    private void <span class="hljs-built_in">releaseStock</span>(Order order) {
        <span class="hljs-comment">// é‡Šæ”¾åº“å­˜é€»è¾‘</span>
        log<span class="hljs-selector-class">.info</span>("é‡Šæ”¾è®¢å• {} çš„åº“å­˜", order.getOrderNo());
    }
    
    private void <span class="hljs-built_in">sendExpireNotification</span>(Order order) {
        <span class="hljs-comment">// å‘é€é€šçŸ¥é€»è¾‘</span>
        log<span class="hljs-selector-class">.info</span>("å‘é€è®¢å• {} è¿‡æœŸé€šçŸ¥", order.getOrderNo());
    }
}
</code></pre>
<h3 data-id="heading-12">4. è®¢å•æ”¯ä»˜äº‹ä»¶</h3>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderPaidEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ApplicationEvent</span> </span>{
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Order</span> order;
    
    public <span class="hljs-type">OrderPaidEvent</span>(<span class="hljs-type">Object</span> source, <span class="hljs-type">Order</span> order) {
        <span class="hljs-keyword">super</span>(source);
        <span class="hljs-keyword">this</span>.order = order;
    }
    
    public <span class="hljs-type">Order</span> getOrder() {
        <span class="hljs-keyword">return</span> order;
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€å¤šçº§è¿‡æœŸç­–ç•¥ï¼ˆå¢å¼ºç‰ˆï¼‰</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderExpireManager</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderService</span> orderService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">StringRedisTemplate</span> redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span> = <span class="hljs-string">"order:expire:zset"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">ORDER_EXPIRE_DELAY_QUEUE</span> = <span class="hljs-string">"order:expire:delay:queue"</span>;
    
    <span class="hljs-comment">/**
     * ä¸‰çº§è¿‡æœŸæ£€æµ‹ç­–ç•¥
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">startExpireMonitor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// 1. Redisé”®è¿‡æœŸäº‹ä»¶ï¼ˆå®æ—¶ï¼‰</span>
        <span class="hljs-comment">// 2. å®šæ—¶ä»»åŠ¡æ‰«æï¼ˆå…œåº•ï¼‰</span>
        <span class="hljs-comment">// 3. å»¶æ—¶é˜Ÿåˆ—ï¼ˆç²¾ç¡®æ§åˆ¶ï¼‰</span>
        
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-attr">this</span>::monitorDelayQueue, <span class="hljs-string">"order-expire-monitor"</span>).<span class="hljs-title function_">start</span>();
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-attr">this</span>::scheduledScan, <span class="hljs-string">"order-expire-scanner"</span>).<span class="hljs-title function_">start</span>();
    }
    
    <span class="hljs-comment">/**
     * ç›‘æ§å»¶æ—¶é˜Ÿåˆ—
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">monitorDelayQueue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">while</span> (!<span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">isInterrupted</span>()) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// ä»å»¶æ—¶é˜Ÿåˆ—è·å–è®¢å•</span>
                <span class="hljs-title class_">String</span> orderId = redisTemplate.<span class="hljs-title function_">opsForList</span>()
                    .<span class="hljs-title function_">rightPop</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_DELAY_QUEUE</span>, <span class="hljs-number">1</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>);
                
                <span class="hljs-keyword">if</span> (orderId != <span class="hljs-literal">null</span>) {
                    <span class="hljs-title function_">processExpiredOrder</span>(orderId);
                }
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ç›‘æ§å»¶æ—¶é˜Ÿåˆ—å¼‚å¸¸"</span>, e);
            }
        }
    }
    
    <span class="hljs-comment">/**
     * å®šæ—¶æ‰«æ
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">scheduledScan</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">while</span> (!<span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">isInterrupted</span>()) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-title function_">scanExpiredOrders</span>();
                <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">30000</span>); <span class="hljs-comment">// 30ç§’æ‰«æä¸€æ¬¡</span>
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å®šæ—¶æ‰«æå¼‚å¸¸"</span>, e);
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰«æè¿‡æœŸè®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">scanExpiredOrders</span>(<span class="hljs-params"/>) {
        long now = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; expiredOrders = redisTemplate.<span class="hljs-title function_">opsForZSet</span>()
            .<span class="hljs-title function_">rangeByScore</span>(<span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span>, <span class="hljs-number">0</span>, now);
        
        <span class="hljs-keyword">if</span> (expiredOrders != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-title class_">String</span> orderId : expiredOrders) {
                <span class="hljs-title function_">processExpiredOrder</span>(orderId);
            }
            
            <span class="hljs-comment">// ç§»é™¤å·²å¤„ç†çš„è®¢å•</span>
            redisTemplate.<span class="hljs-title function_">opsForZSet</span>().<span class="hljs-title function_">removeRangeByScore</span>(
                <span class="hljs-variable constant_">ORDER_EXPIRE_ZSET</span>, <span class="hljs-number">0</span>, now);
        }
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†è¿‡æœŸè®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processExpiredOrder</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-comment">// é˜²é‡å¤„ç†</span>
        <span class="hljs-title class_">String</span> lockKey = <span class="hljs-string">"order:expire:process:"</span> + orderId;
        <span class="hljs-title class_">Boolean</span> locked = redisTemplate.<span class="hljs-title function_">opsForValue</span>()
            .<span class="hljs-title function_">setIfAbsent</span>(lockKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">5</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MINUTES</span>);
        
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Boolean</span>.<span class="hljs-property">TRUE</span>.<span class="hljs-title function_">equals</span>(locked)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">boolean</span> result = orderService.<span class="hljs-title function_">cancelExpiredOrder</span>(orderId);
                <span class="hljs-keyword">if</span> (result) {
                    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"æˆåŠŸå¤„ç†è¿‡æœŸè®¢å•: {}"</span>, orderId);
                }
            } <span class="hljs-keyword">finally</span> {
                redisTemplate.<span class="hljs-title function_">delete</span>(lockKey);
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-14">å…­ã€é…ç½®ç±»</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableScheduling</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderExpireConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">RedisTemplate</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; <span class="hljs-title function_">redisTemplate</span>(<span class="hljs-params">
            RedisConnectionFactory connectionFactory</span>) {
        <span class="hljs-title class_">RedisTemplate</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; template = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisTemplate</span>&lt;&gt;();
        template.<span class="hljs-title function_">setConnectionFactory</span>(connectionFactory);
        
        <span class="hljs-comment">// è®¾ç½®keyå’Œvalueçš„åºåˆ—åŒ–æ–¹å¼</span>
        template.<span class="hljs-title function_">setKeySerializer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>());
        template.<span class="hljs-title function_">setValueSerializer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>());
        
        template.<span class="hljs-title function_">setHashKeySerializer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>());
        template.<span class="hljs-title function_">setHashValueSerializer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>());
        
        template.<span class="hljs-title function_">afterPropertiesSet</span>();
        <span class="hljs-keyword">return</span> template;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">OrderExpireManager</span> <span class="hljs-title function_">orderExpireManager</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderExpireManager</span>();
    }
    
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å¯åŠ¨è¿‡æœŸç›‘æ§</span>
        <span class="hljs-title function_">orderExpireManager</span>().<span class="hljs-title function_">startExpireMonitor</span>();
    }
}
</code></pre>
<h2 data-id="heading-15">ä¸ƒã€APIæ¥å£</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/orders"</span>)
<span class="hljs-variable">@Slf4j</span>
public class OrderController {
    
    <span class="hljs-variable">@Autowired</span>
    private OrderService orderService;
    
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/create"</span>)
    public ApiResponse&lt;Order&gt; <span class="hljs-built_in">createOrder</span>(<span class="hljs-variable">@RequestBody</span> CreateOrderRequest request) {
        <span class="hljs-selector-tag">Order</span> <span class="hljs-selector-tag">order</span> = <span class="hljs-selector-tag">orderService</span><span class="hljs-selector-class">.createOrder</span>(
            request.<span class="hljs-built_in">getUserId</span>(), 
            request.<span class="hljs-built_in">getAmount</span>()
        );
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ApiResponse</span><span class="hljs-selector-class">.success</span>(order);
    }
    
    @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/{orderNo}/pay"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ApiResponse</span>&lt;<span class="hljs-selector-tag">Void</span>&gt; <span class="hljs-selector-tag">payOrder</span>(<span class="hljs-variable">@PathVariable</span> String orderNo) {
        <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">success</span> = <span class="hljs-selector-tag">orderService</span><span class="hljs-selector-class">.processPayment</span>(orderNo);
        <span class="hljs-selector-tag">if</span> (success) {
            <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ApiResponse</span><span class="hljs-selector-class">.success</span>(<span class="hljs-string">"æ”¯ä»˜æˆåŠŸ"</span>);
        } <span class="hljs-selector-tag">else</span> {
            <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ApiResponse</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"æ”¯ä»˜å¤±è´¥"</span>);
        }
    }
    
    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/{orderNo}/status"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ApiResponse</span>&lt;<span class="hljs-selector-tag">OrderStatus</span>&gt; <span class="hljs-selector-tag">getOrderStatus</span>(<span class="hljs-variable">@PathVariable</span> String orderNo) {
        <span class="hljs-comment">// ä»Redisæˆ–æ•°æ®åº“è·å–è®¢å•çŠ¶æ€</span>
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ApiResponse</span><span class="hljs-selector-class">.success</span>(OrderStatus.PENDING_PAYMENT);
    }
}
</code></pre>
<h2 data-id="heading-16">å…«ã€æµ‹è¯•ç±»</h2>
<pre><code class="hljs language-ini" lang="ini">@SpringBootTest
@Slf4j
class OrderExpireTest {
    
    @Autowired
    private OrderService orderService<span class="hljs-comment">;</span>
    
    @Autowired
    private StringRedisTemplate redisTemplate<span class="hljs-comment">;</span>
    
    @Test
    void testOrderExpire() throws InterruptedException {
        // åˆ›å»ºè®¢å•
        Order <span class="hljs-attr">order</span> = orderService.createOrder(<span class="hljs-number">1</span>L, new BigDecimal(<span class="hljs-string">"100.00"</span>))<span class="hljs-comment">;</span>
        
        // éªŒè¯Redisä¸­å·²è®¾ç½®è¿‡æœŸ
        String <span class="hljs-attr">expireKey</span> = <span class="hljs-string">"order:expire:"</span> + order.getOrder<span class="hljs-literal">No</span>()<span class="hljs-comment">;</span>
        String <span class="hljs-attr">value</span> = redisTemplate.opsForValue().get(expireKey)<span class="hljs-comment">;</span>
        assertNotNull(value)<span class="hljs-comment">;</span>
        
        // éªŒè¯è®¢å•çŠ¶æ€
        assertEquals(OrderStatus.PENDING_PAYMENT, order.getStatus())<span class="hljs-comment">;</span>
        
        // ç­‰å¾…è®¢å•è¿‡æœŸ
        Thread.sleep(2000)<span class="hljs-comment">; // å®é™…åº”è¯¥ç­‰30åˆ†é’Ÿ</span>
        
        // æµ‹è¯•æ”¯ä»˜
        boolean <span class="hljs-attr">paid</span> = orderService.processPayment(order.getOrder<span class="hljs-literal">No</span>())<span class="hljs-comment">;</span>
        assertTrue(paid)<span class="hljs-comment">;</span>
    }
    
    @Test
    void testConcurrentPay() throws InterruptedException {
        Order <span class="hljs-attr">order</span> = orderService.createOrder(<span class="hljs-number">2</span>L, new BigDecimal(<span class="hljs-string">"200.00"</span>))<span class="hljs-comment">;</span>
        
        ExecutorService <span class="hljs-attr">executor</span> = Executors.newFixedThreadPool(<span class="hljs-number">5</span>)<span class="hljs-comment">;</span>
        CountDownLatch <span class="hljs-attr">latch</span> = new CountDownLatch(<span class="hljs-number">5</span>)<span class="hljs-comment">;</span>
        
        AtomicInteger <span class="hljs-attr">successCount</span> = new AtomicInteger(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
        
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 5; i++) {</span>
            executor.submit(() -&gt; {
                try {
                    boolean <span class="hljs-attr">result</span> = orderService.processPayment(order.getOrder<span class="hljs-literal">No</span>())<span class="hljs-comment">;</span>
                    if (result) {
                        successCount.incrementAndGet()<span class="hljs-comment">;</span>
                    }
                } catch (Exception e) {
                    log.error("æ”¯ä»˜å¼‚å¸¸", e)<span class="hljs-comment">;</span>
                } finally {
                    latch.countDown()<span class="hljs-comment">;</span>
                }
            })<span class="hljs-comment">;</span>
        }
        
        latch.await()<span class="hljs-comment">;</span>
        executor.shutdown()<span class="hljs-comment">;</span>
        
        // åªæœ‰ä¸€ä¸ªæ”¯ä»˜æˆåŠŸ
        assertEquals(1, successCount.get())<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h2 data-id="heading-17">ä¹ã€ç›‘æ§å’Œå‘Šè­¦</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderExpireMonitor</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">StringRedisTemplate</span> redisTemplate;
    
    <span class="hljs-meta">@Scheduled</span>(fixedRate = <span class="hljs-number">60000</span>) <span class="hljs-comment">// æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">monitorExpireOrders</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">String</span> expireKeyPattern = <span class="hljs-string">"order:expire:*"</span>;
        
        <span class="hljs-comment">// ç»Ÿè®¡å¾…è¿‡æœŸè®¢å•æ•°é‡</span>
        <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; keys = redisTemplate.<span class="hljs-title function_">keys</span>(expireKeyPattern);
        long expireCount = keys != <span class="hljs-literal">null</span> ? keys.<span class="hljs-title function_">size</span>() : <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ç»Ÿè®¡å³å°†åœ¨5åˆ†é’Ÿå†…è¿‡æœŸçš„è®¢å•</span>
        long soonExpireCount = keys.<span class="hljs-title function_">stream</span>()
            .<span class="hljs-title function_">map</span>(key -&gt; redisTemplate.<span class="hljs-title function_">getExpire</span>(key, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>))
            .<span class="hljs-title function_">filter</span>(ttl -&gt; ttl != <span class="hljs-literal">null</span> &amp;&amp; ttl &gt; <span class="hljs-number">0</span> &amp;&amp; ttl &lt;= <span class="hljs-number">300</span>)
            .<span class="hljs-title function_">count</span>();
        
        <span class="hljs-comment">// è®°å½•ç›‘æ§æ—¥å¿—</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"è®¢å•è¿‡æœŸç›‘æ§ - å¾…è¿‡æœŸè®¢å•: {}, å³å°†è¿‡æœŸè®¢å•: {}"</span>, 
                 expireCount, soonExpireCount);
        
        <span class="hljs-comment">// å‘é€å‘Šè­¦</span>
        <span class="hljs-keyword">if</span> (soonExpireCount &gt; <span class="hljs-number">100</span>) {
            <span class="hljs-title function_">sendAlert</span>(<span class="hljs-string">"å¤§é‡è®¢å•å³å°†è¿‡æœŸ: "</span> + soonExpireCount + <span class="hljs-string">" ä¸ª"</span>);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendAlert</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-comment">// å‘é€å‘Šè­¦åˆ°ç›‘æ§ç³»ç»Ÿ</span>
        log.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"è®¢å•è¿‡æœŸå‘Šè­¦: {}"</span>, message);
    }
}
</code></pre>
<h2 data-id="heading-18">æ€»ç»“å»ºè®®</h2>
<h3 data-id="heading-19">æ¨èæ–¹æ¡ˆ</h3>
<ol>
<li>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ¨èç»„åˆæ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä¸»æ–¹æ¡ˆï¼š<strong>Redissonå»¶æ—¶é˜Ÿåˆ—</strong>â€‹ + <strong>Redisé”®è¿‡æœŸå›è°ƒ</strong></li>
<li>å…œåº•æ–¹æ¡ˆï¼š<strong>å®šæ—¶ä»»åŠ¡æ‰«æZSet</strong></li>
<li>é˜²é‡å¤„ç†ï¼š<strong>Redisåˆ†å¸ƒå¼é”</strong></li>
</ul>
</li>
<li>
<p><strong>æ–¹æ¡ˆå¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>Redisé”®è¿‡æœŸå›è°ƒ</strong>ï¼šå®æ—¶æ€§æœ€å¥½ï¼Œä½†å¯é æ€§ä¾èµ–Redisé…ç½®</li>
<li><strong>Redissonå»¶æ—¶é˜Ÿåˆ—</strong>ï¼šåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒåˆ†å¸ƒå¼ï¼Œæ¨èä½¿ç”¨</li>
<li><strong>ZSetå®šæ—¶æ‰«æ</strong>ï¼šå®ç°ç®€å•ï¼Œä½†å®æ—¶æ€§è¾ƒå·®</li>
<li><strong>å¤šçº§ç­–ç•¥</strong>ï¼šæœ€å¯é ï¼Œä½†å®ç°å¤æ‚</li>
</ul>
</li>
<li>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>ä¸€å®šè¦é…ç½®Redisçš„<code>notify-keyspace-events Ex</code></li>
<li>è€ƒè™‘ç½‘ç»œåˆ†åŒºå’ŒRedisæ•…éšœçš„æƒ…å†µ</li>
<li>å®ç°å¹‚ç­‰æ€§å¤„ç†ï¼Œé˜²æ­¢é‡å¤å–æ¶ˆ</li>
<li>æ·»åŠ ç›‘æ§å’Œå‘Šè­¦</li>
<li>è€ƒè™‘æŒä¹…åŒ–ï¼Œé˜²æ­¢é‡å¯åæ•°æ®ä¸¢å¤±</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨æ‰¹é‡å¤„ç†è¿‡æœŸè®¢å•</li>
<li>å¼‚æ­¥å¤„ç†è¿‡æœŸé€»è¾‘</li>
<li>åˆç†è®¾ç½®æ‰«æé¢‘ç‡</li>
<li>ä½¿ç”¨è¿æ¥æ± </li>
</ul>
</li>
</ol>
<p>è¿™ç§å®ç°å¯ä»¥ç¡®ä¿è®¢å•è¿‡æœŸåŠŸèƒ½çš„å¯é æ€§å’Œå®æ—¶æ€§ï¼Œé€‚åˆç”µå•†ç­‰é«˜å¹¶å‘åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ç”¨Spring Bootå®ç°åˆ†å¸ƒå¼é”ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582755817670049802</link>    <guid>https://juejin.cn/post/7582755817670049802</guid>    <pubDate>2025-12-12T06:14:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582755817670049802" data-draft-id="7582528397865746459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ç”¨Spring Bootå®ç°åˆ†å¸ƒå¼é”ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,Java,Redis"/> <meta itemprop="datePublished" content="2025-12-12T06:14:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITç•ŒTonyå“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3157453122578087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ç”¨Spring Bootå®ç°åˆ†å¸ƒå¼é”ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3157453122578087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITç•ŒTonyå“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:14:54.000Z" title="Fri Dec 12 2025 06:14:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ¥è¯¦ç»†è®²è§£Spring Bootä¸­å®ç°åˆ†å¸ƒå¼é”çš„å‡ ç§æ–¹å¼ï¼ŒåŒ…æ‹¬æ‰‹å†™Redisé”å’Œä½¿ç”¨Redissonæ¡†æ¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸºäºRedisåŸç”Ÿå‘½ä»¤å®ç°åˆ†å¸ƒå¼é”</h2>
<h3 data-id="heading-1">1. åŸºç¡€ç‰ˆRedisåˆ†å¸ƒå¼é”</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisDistributedLock</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">LOCK_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"distributed:lock:"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">DEFAULT_EXPIRE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">30000</span>; <span class="hljs-comment">// 30ç§’</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">DEFAULT_WAIT_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;   <span class="hljs-comment">// 10ç§’</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">DEFAULT_SLEEP_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;    <span class="hljs-comment">// 100ms</span>
    
    <span class="hljs-comment">/**
     * å°è¯•è·å–åˆ†å¸ƒå¼é”ï¼ˆç®€å•ç‰ˆï¼‰
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> value é”çš„å€¼ï¼ˆé€šå¸¸ç”¨UUIDï¼‰
     * <span class="hljs-doctag">@param</span> expireTime é”çš„è¿‡æœŸæ—¶é—´(ms)
     * <span class="hljs-doctag">@return</span> æ˜¯å¦è·å–æˆåŠŸ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryLock</span><span class="hljs-params">(String lockKey, String value, <span class="hljs-type">long</span> expireTime)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> LOCK_PREFIX + lockKey;
        
        <span class="hljs-comment">// ä½¿ç”¨SETå‘½ä»¤ï¼Œé€šè¿‡NXå‚æ•°å®ç°"ä¸å­˜åœ¨æ—¶è®¾ç½®"ï¼ŒEXå‚æ•°è®¾ç½®è¿‡æœŸæ—¶é—´</span>
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue()
            .setIfAbsent(key, value, expireTime, TimeUnit.MILLISECONDS);
        
        <span class="hljs-keyword">return</span> Boolean.TRUE.equals(result);
    }
    
    <span class="hljs-comment">/**
     * é‡Šæ”¾é”
     * éœ€è¦ç¡®ä¿æ˜¯è‡ªå·±åŠ çš„é”æ‰èƒ½é‡Šæ”¾ï¼ˆé˜²æ­¢é‡Šæ”¾åˆ«äººçš„é”ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">releaseLock</span><span class="hljs-params">(String lockKey, String value)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> LOCK_PREFIX + lockKey;
        <span class="hljs-type">String</span> <span class="hljs-variable">currentValue</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(key);
        
        <span class="hljs-comment">// é€šè¿‡Luaè„šæœ¬ç¡®ä¿åŸå­æ€§ï¼šåˆ¤æ–­å€¼æ˜¯å¦åŒ¹é…ï¼ŒåŒ¹é…åˆ™åˆ é™¤</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">luaScript</span> <span class="hljs-operator">=</span> 
            <span class="hljs-string">"if redis.call('get', KEYS[1]) == ARGV[1] then "</span> +
            <span class="hljs-string">"   return redis.call('del', KEYS[1]) "</span> +
            <span class="hljs-string">"else "</span> +
            <span class="hljs-string">"   return 0 "</span> +
            <span class="hljs-string">"end"</span>;
        
        DefaultRedisScript&lt;Long&gt; redisScript = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultRedisScript</span>&lt;&gt;();
        redisScript.setScriptText(luaScript);
        redisScript.setResultType(Long.class);
        
        <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
            redisScript, 
            Collections.singletonList(key), 
            value
        );
        
        <span class="hljs-keyword">return</span> result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">/**
     * è·å–é”ï¼ˆæ”¯æŒé‡è¯•ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">lockWithRetry</span><span class="hljs-params">(String lockKey, String value, 
                                 <span class="hljs-type">long</span> expireTime, <span class="hljs-type">long</span> waitTime)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() + waitTime;
        
        <span class="hljs-keyword">while</span> (System.currentTimeMillis() &lt; endTime) {
            <span class="hljs-keyword">if</span> (tryLock(lockKey, value, expireTime)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            <span class="hljs-keyword">try</span> {
                Thread.sleep(DEFAULT_SLEEP_TIME);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
                <span class="hljs-keyword">break</span>;
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<h3 data-id="heading-2">2. å¯é‡å…¥é”å®ç°</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">@Component
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> RedisReentrantLock {
    
    @Autowired
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-type">String</span> LOCK_PREFIX = <span class="hljs-string">"reentrant:lock:"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final ThreadLocal&lt;Map&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Integer</span>&gt;&gt; LOCK_COUNT = 
        ThreadLocal.withInitial(HashMap::<span class="hljs-built_in">new</span>);
    
    /**
     * å¯é‡å…¥é”å®ç°
     */
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> tryReentrantLock(<span class="hljs-type">String</span> lockKey, <span class="hljs-type">String</span> clientId, 
                                    <span class="hljs-type">long</span> expireTime) {
        <span class="hljs-type">String</span> <span class="hljs-keyword">key</span> = LOCK_PREFIX + lockKey;
        
        Map&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Integer</span>&gt; lockCountMap = LOCK_COUNT.<span class="hljs-keyword">get</span>();
        int count = lockCountMap.getOrDefault(lockKey, <span class="hljs-number">0</span>);
        
        // é‡å…¥ï¼šå½“å‰çº¿ç¨‹å·²æŒæœ‰é”
        <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
            lockCountMap.put(lockKey, count + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        // å°è¯•è·å–é”
        <span class="hljs-type">String</span> luaScript = 
            <span class="hljs-string">"if redis.call('exists', KEYS[1]) == 0 then "</span> +
            <span class="hljs-string">"   redis.call('hset', KEYS[1], 'owner', ARGV[1]) "</span> +
            <span class="hljs-string">"   redis.call('hset', KEYS[1], 'count', 1) "</span> +
            <span class="hljs-string">"   redis.call('pexpire', KEYS[1], ARGV[2]) "</span> +
            <span class="hljs-string">"   return 1 "</span> +
            <span class="hljs-string">"elseif redis.call('hget', KEYS[1], 'owner') == ARGV[1] then "</span> +
            <span class="hljs-string">"   local count = redis.call('hget', KEYS[1], 'count') "</span> +
            <span class="hljs-string">"   redis.call('hset', KEYS[1], 'count', tonumber(count) + 1) "</span> +
            <span class="hljs-string">"   redis.call('pexpire', KEYS[1], ARGV[2]) "</span> +
            <span class="hljs-string">"   return 1 "</span> +
            <span class="hljs-string">"else "</span> +
            <span class="hljs-string">"   return 0 "</span> +
            <span class="hljs-string">"end"</span>;
        
        DefaultRedisScript&lt;<span class="hljs-type">Long</span>&gt; script = <span class="hljs-built_in">new</span> DefaultRedisScript&lt;&gt;();
        script.setScriptText(luaScript);
        script.setResultType(<span class="hljs-type">Long</span>.<span class="hljs-keyword">class</span>);
        
        <span class="hljs-type">Long</span> result = redisTemplate.execute(
            script,
            Collections.singletonList(<span class="hljs-keyword">key</span>),
            clientId,
            <span class="hljs-type">String</span>.valueOf(expireTime)
        );
        
        <span class="hljs-keyword">if</span> (result != null &amp;&amp; result == <span class="hljs-number">1</span>) {
            lockCountMap.put(lockKey, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    /**
     * é‡Šæ”¾å¯é‡å…¥é”
     */
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> releaseReentrantLock(<span class="hljs-type">String</span> lockKey, <span class="hljs-type">String</span> clientId) {
        <span class="hljs-type">String</span> <span class="hljs-keyword">key</span> = LOCK_PREFIX + lockKey;
        
        Map&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Integer</span>&gt; lockCountMap = LOCK_COUNT.<span class="hljs-keyword">get</span>();
        int count = lockCountMap.getOrDefault(lockKey, <span class="hljs-number">0</span>);
        
        <span class="hljs-keyword">if</span> (count &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">1</span>) {
            // é‡å…¥æ¬¡æ•°å‡<span class="hljs-number">1</span>
            lockCountMap.put(lockKey, count - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        // æœ€åä¸€æ¬¡é‡å…¥ï¼Œé‡Šæ”¾é”
        <span class="hljs-type">String</span> luaScript = 
            <span class="hljs-string">"if redis.call('hget', KEYS[1], 'owner') == ARGV[1] then "</span> +
            <span class="hljs-string">"   local current = redis.call('hget', KEYS[1], 'count') "</span> +
            <span class="hljs-string">"   if tonumber(current) &gt; 1 then "</span> +
            <span class="hljs-string">"       redis.call('hset', KEYS[1], 'count', tonumber(current) - 1) "</span> +
            <span class="hljs-string">"       redis.call('pexpire', KEYS[1], ARGV[2]) "</span> +
            <span class="hljs-string">"       return 0 "</span> +
            <span class="hljs-string">"   else "</span> +
            <span class="hljs-string">"       redis.call('del', KEYS[1]) "</span> +
            <span class="hljs-string">"       return 1 "</span> +
            <span class="hljs-string">"   end "</span> +
            <span class="hljs-string">"else "</span> +
            <span class="hljs-string">"   return -1 "</span> +
            <span class="hljs-string">"end"</span>;
        
        DefaultRedisScript&lt;<span class="hljs-type">Long</span>&gt; script = <span class="hljs-built_in">new</span> DefaultRedisScript&lt;&gt;();
        script.setScriptText(luaScript);
        script.setResultType(<span class="hljs-type">Long</span>.<span class="hljs-keyword">class</span>);
        
        <span class="hljs-type">Long</span> result = redisTemplate.execute(
            script,
            Collections.singletonList(<span class="hljs-keyword">key</span>),
            clientId,
            <span class="hljs-string">"30000"</span>
        );
        
        <span class="hljs-keyword">if</span> (result != null &amp;&amp; result == <span class="hljs-number">1</span>) {
            lockCountMap.remove(lockKey);
            <span class="hljs-keyword">if</span> (lockCountMap.isEmpty()) {
                LOCK_COUNT.remove();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<h2 data-id="heading-3">äºŒã€ä½¿ç”¨Redissonå®ç°åˆ†å¸ƒå¼é”ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰</h2>
<h3 data-id="heading-4">1. æ·»åŠ ä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.redisson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>redisson-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.23.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2. é…ç½®Redisson</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-number">3000</span>

<span class="hljs-attr">redisson:</span>
  <span class="hljs-attr">config:</span> <span class="hljs-string">|
    singleServerConfig:
      address: "redis://${spring.redis.host}:${spring.redis.port}"
      database: ${spring.redis.database}
      connectionPoolSize: 64
      connectionMinimumIdleSize: 24
      idleConnectionTimeout: 10000
      connectTimeout: ${spring.redis.timeout}
      timeout: ${spring.redis.timeout}
      retryAttempts: 3
      retryInterval: 1500
</span></code></pre>
<h3 data-id="heading-6">3. Redissonåˆ†å¸ƒå¼é”æœåŠ¡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RLock;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedissonDistributedLock</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-comment">/**
     * å¯é‡å…¥é”ï¼ˆæœ€å¸¸ç”¨ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryReentrantLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> waitTime, 
                                    <span class="hljs-type">long</span> leaseTime, TimeUnit unit)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> lock.tryLock(waitTime, leaseTime, unit);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å…¬å¹³é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryFairLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> waitTime, 
                               <span class="hljs-type">long</span> leaseTime, TimeUnit unit)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getFairLock(lockKey);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> lock.tryLock(waitTime, leaseTime, unit);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * è”é”ï¼ˆå¤šä¸ªé”åŒæ—¶è·å–ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryMultiLock</span><span class="hljs-params">(String[] lockKeys, <span class="hljs-type">long</span> waitTime, 
                                <span class="hljs-type">long</span> leaseTime, TimeUnit unit)</span> {
        RLock[] locks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RLock</span>[lockKeys.length];
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; lockKeys.length; i++) {
            locks[i] = redissonClient.getLock(lockKeys[i]);
        }
        
        <span class="hljs-type">RLock</span> <span class="hljs-variable">multiLock</span> <span class="hljs-operator">=</span> redissonClient.getMultiLock(locks);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> multiLock.tryLock(waitTime, leaseTime, unit);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * çº¢é”ï¼ˆRedLockï¼Œå¤šä¸ªRediså®ä¾‹ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryRedLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> waitTime, 
                              <span class="hljs-type">long</span> leaseTime, TimeUnit unit)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> lock.tryLock(waitTime, leaseTime, unit);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * é‡Šæ”¾é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-keyword">if</span> (lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {
            lock.unlock();
        }
    }
    
    <span class="hljs-comment">/**
     * å¼ºåˆ¶é‡Šæ”¾é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">forceUnlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        lock.forceUnlock();
    }
    
    <span class="hljs-comment">/**
     * è‡ªåŠ¨ç»­æœŸçš„é”ï¼ˆçœ‹é—¨ç‹—æœºåˆ¶ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">lockWithWatchdog</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        lock.lock(); <span class="hljs-comment">// é»˜è®¤30ç§’ï¼Œçœ‹é—¨ç‹—ä¼šè‡ªåŠ¨ç»­æœŸ</span>
    }
}
</code></pre>
<h3 data-id="heading-7">4. ä½¿ç”¨AOPç®€åŒ–åˆ†å¸ƒå¼é”ä½¿ç”¨</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.METHOD)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-variable">@Documented</span>
public <span class="hljs-variable">@interface</span> DistributedLock {
    
    <span class="hljs-comment">/** é”çš„keyï¼Œæ”¯æŒSpELè¡¨è¾¾å¼ */</span>
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">key</span>();
    
    <span class="hljs-comment">/** é”ç±»å‹ï¼Œé»˜è®¤å¯é‡å…¥é” */</span>
    <span class="hljs-selector-tag">LockType</span> <span class="hljs-selector-tag">lockType</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">LockType</span><span class="hljs-selector-class">.REENTRANT</span>;
    
    <span class="hljs-comment">/** ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰ */</span>
    <span class="hljs-selector-tag">long</span> <span class="hljs-selector-tag">waitTime</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-number">5</span>;
    
    <span class="hljs-comment">/** æŒæœ‰æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ-1è¡¨ç¤ºä½¿ç”¨çœ‹é—¨ç‹—è‡ªåŠ¨ç»­æœŸ */</span>
    <span class="hljs-selector-tag">long</span> <span class="hljs-selector-tag">leaseTime</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">-1</span>;
    
    <span class="hljs-comment">/** æ—¶é—´å•ä½ */</span>
    <span class="hljs-selector-tag">TimeUnit</span> <span class="hljs-selector-tag">timeUnit</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">TimeUnit</span><span class="hljs-selector-class">.SECONDS</span>;
    
    <span class="hljs-selector-tag">enum</span> <span class="hljs-selector-tag">LockType</span> {
        <span class="hljs-selector-tag">REENTRANT</span>,      <span class="hljs-comment">// å¯é‡å…¥é”</span>
        <span class="hljs-selector-tag">FAIR</span>,           <span class="hljs-comment">// å…¬å¹³é”</span>
        <span class="hljs-selector-tag">READ</span>,           <span class="hljs-comment">// è¯»é”</span>
        <span class="hljs-selector-tag">WRITE</span>,          <span class="hljs-comment">// å†™é”</span>
        <span class="hljs-selector-tag">MULTI</span>,          <span class="hljs-comment">// è”é”</span>
        <span class="hljs-selector-tag">RED</span>             <span class="hljs-comment">// çº¢é”</span>
    }
}
</code></pre>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Aspect</span>
<span class="hljs-keyword">@Component</span>
<span class="hljs-keyword">@Slf</span>4j
public class DistributedLockAspect {
    
    <span class="hljs-keyword">@Autowired</span>
    private RedissonClient redissonClient;
    
    <span class="hljs-keyword">@Autowired</span>
    private RedissonDistributedLock redissonDistributedLock;
    
    <span class="hljs-keyword">@Around</span>(<span class="hljs-string">"@annotation(distributedLock)"</span>)
    public Object around(ProceedingJoinPoint joinPoint, 
                         DistributedLock distributedLock) throws Throwable {
        String lockKey = <span class="hljs-built_in">parseKey</span>(distributedLock.key(), joinPoint);
        RLock lock = <span class="hljs-built_in">getLock</span>(lockKey, distributedLock.lockType());
        
        boolean locked = false;
        try {
            <span class="hljs-comment">// å°è¯•è·å–é”</span>
            if (distributedLock.leaseTime() == -<span class="hljs-number">1</span>) {
                <span class="hljs-comment">// ä½¿ç”¨çœ‹é—¨ç‹—è‡ªåŠ¨ç»­æœŸ</span>
                lock<span class="hljs-selector-class">.lock</span>();
            } else {
                locked = lock<span class="hljs-selector-class">.tryLock</span>(
                    distributedLock.waitTime(),
                    distributedLock<span class="hljs-selector-class">.leaseTime</span>(),
                    distributedLock<span class="hljs-selector-class">.timeUnit</span>()
                );
            }
            
            if (!locked &amp;&amp; distributedLock.leaseTime() != -<span class="hljs-number">1</span>) {
                throw new <span class="hljs-built_in">RuntimeException</span>("è·å–åˆ†å¸ƒå¼é”å¤±è´¥: " + lockKey);
            }
            
            log<span class="hljs-selector-class">.info</span>("è·å–åˆ†å¸ƒå¼é”æˆåŠŸ: {}", lockKey);
            return joinPoint<span class="hljs-selector-class">.proceed</span>();
            
        } catch (InterruptedException e) {
            Thread<span class="hljs-selector-class">.currentThread</span>()<span class="hljs-selector-class">.interrupt</span>();
            throw new <span class="hljs-built_in">RuntimeException</span>("è·å–åˆ†å¸ƒå¼é”è¢«ä¸­æ–­", e);
        } finally {
            if (lock.isLocked() &amp;&amp; lock<span class="hljs-selector-class">.isHeldByCurrentThread</span>()) {
                lock<span class="hljs-selector-class">.unlock</span>();
                log<span class="hljs-selector-class">.info</span>("é‡Šæ”¾åˆ†å¸ƒå¼é”: {}", lockKey);
            }
        }
    }
    
    private String <span class="hljs-built_in">parseKey</span>(String keySpEL, ProceedingJoinPoint joinPoint) {
        MethodSignature signature = (MethodSignature) joinPoint<span class="hljs-selector-class">.getSignature</span>();
        Method method = signature<span class="hljs-selector-class">.getMethod</span>();
        
        <span class="hljs-comment">// è§£æSpELè¡¨è¾¾å¼</span>
        if (keySpEL.startsWith("#")) {
            ExpressionParser parser = new <span class="hljs-built_in">SpelExpressionParser</span>();
            Expression expression = parser<span class="hljs-selector-class">.parseExpression</span>(keySpEL);
            
            EvaluationContext context = new <span class="hljs-built_in">StandardEvaluationContext</span>();
            context<span class="hljs-selector-class">.setVariable</span>("methodName", method.getName());
            
            <span class="hljs-comment">// è®¾ç½®å‚æ•°</span>
            <span class="hljs-selector-tag">Object</span><span class="hljs-selector-attr">[]</span> args = joinPoint<span class="hljs-selector-class">.getArgs</span>();
            Parameter<span class="hljs-selector-attr">[]</span> parameters = method<span class="hljs-selector-class">.getParameters</span>();
            for (int i = <span class="hljs-number">0</span>; i &lt; parameters.length; i++) {
                context<span class="hljs-selector-class">.setVariable</span>(parameters[i].getName(), args<span class="hljs-selector-attr">[i]</span>);
            }
            
            return expression<span class="hljs-selector-class">.getValue</span>(context, String.class);
        }
        
        return keySpEL;
    }
    
    private RLock <span class="hljs-built_in">getLock</span>(String lockKey, DistributedLock.LockType lockType) {
        switch (lockType) {
            case FAIR:
                return redissonClient.<span class="hljs-built_in">getFairLock</span>(lockKey);
            case READ:
                return redissonClient.<span class="hljs-built_in">getReadWriteLock</span>(lockKey).<span class="hljs-built_in">readLock</span>();
            case WRITE:
                return redissonClient.<span class="hljs-built_in">getReadWriteLock</span>(lockKey).<span class="hljs-built_in">writeLock</span>();
            case MULTI:
            case RED:
                // ç®€åŒ–å¤„ç†ï¼Œå®é™…ä½¿ç”¨éœ€è¦å¤šä¸ªå®ä¾‹
                return redissonClient.<span class="hljs-built_in">getLock</span>(lockKey);
            case REENTRANT:
            default:
                return redissonClient.<span class="hljs-built_in">getLock</span>(lockKey);
        }
    }
}
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€ä½¿ç”¨Spring Integrationå®ç°åˆ†å¸ƒå¼é”</h2>
<h3 data-id="heading-9">1. æ·»åŠ ä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-integration<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.integration<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-integration-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">2. é…ç½®Redisé”æ³¨å†Œè¡¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLockConfiguration</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">RedisLockRegistry</span> <span class="hljs-title function_">redisLockRegistry</span>(<span class="hljs-params">RedisConnectionFactory connectionFactory</span>) {
        <span class="hljs-comment">// è¿‡æœŸæ—¶é—´10ç§’</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisLockRegistry</span>(connectionFactory, <span class="hljs-string">"distributed-lock"</span>, 10000L);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">LockRegistry</span> <span class="hljs-title function_">lockRegistry</span>(<span class="hljs-params">RedisLockRegistry redisLockRegistry</span>) {
        <span class="hljs-keyword">return</span> redisLockRegistry;
    }
}
</code></pre>
<h3 data-id="heading-11">3. ä½¿ç”¨Spring Integrationé”</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">LockRegistry</span> lockRegistry;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">createOrder</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-title class_">Lock</span> lock = lockRegistry.<span class="hljs-title function_">obtain</span>(<span class="hljs-string">"order:"</span> + orderId);
        
        <span class="hljs-built_in">boolean</span> locked = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°è¯•è·å–é”ï¼Œæœ€å¤šç­‰å¾…5ç§’</span>
            locked = lock.<span class="hljs-title function_">tryLock</span>(<span class="hljs-number">5</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>);
            
            <span class="hljs-keyword">if</span> (!locked) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•"</span>);
            }
            
            <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
            <span class="hljs-title function_">processOrder</span>(orderId);
            
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
            <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è®¢å•å¤„ç†è¢«ä¸­æ–­"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (locked) {
                lock.<span class="hljs-title function_">unlock</span>();
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processOrder</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-comment">// è®¢å•å¤„ç†é€»è¾‘</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å¤„ç†è®¢å•: {}"</span>, orderId);
    }
}
</code></pre>
<h2 data-id="heading-12">å››ã€å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-13">1. å•†å“ç§’æ€åœºæ™¯</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SeckillService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">SECKILL_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:product:"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">LOCK_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:lock:"</span>;
    
    <span class="hljs-comment">/**
     * ç§’æ€ä¸‹å•ï¼ˆé˜²è¶…å–ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">seckillOrder</span><span class="hljs-params">(Long productId, Integer quantity, Long userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> LOCK_PREFIX + productId;
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°è¯•è·å–é”ï¼Œç­‰å¾…100msï¼ŒæŒæœ‰é”3ç§’</span>
            <span class="hljs-keyword">if</span> (!lock.tryLock(<span class="hljs-number">100</span>, <span class="hljs-number">3000</span>, TimeUnit.MILLISECONDS)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æŠ¢è´­å¤ªç«çˆ†ï¼Œè¯·é‡è¯•"</span>);
            }
            
            <span class="hljs-comment">// æ£€æŸ¥åº“å­˜</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">stockKey</span> <span class="hljs-operator">=</span> SECKILL_PREFIX + productId + <span class="hljs-string">":stock"</span>;
            <span class="hljs-type">Integer</span> <span class="hljs-variable">stock</span> <span class="hljs-operator">=</span> Integer.valueOf(
                redisTemplate.opsForValue().get(stockKey)
            );
            
            <span class="hljs-keyword">if</span> (stock == <span class="hljs-literal">null</span> || stock &lt; quantity) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>);
            }
            
            <span class="hljs-comment">// æ‰£å‡åº“å­˜</span>
            <span class="hljs-type">Long</span> <span class="hljs-variable">newStock</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().decrement(stockKey, quantity);
            <span class="hljs-keyword">if</span> (newStock &lt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// åº“å­˜ä¸è¶³ï¼Œæ¢å¤åº“å­˜</span>
                redisTemplate.opsForValue().increment(stockKey, quantity);
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>);
            }
            
            <span class="hljs-comment">// åˆ›å»ºè®¢å•</span>
            createOrder(productId, quantity, userId);
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ç³»ç»Ÿå¼‚å¸¸"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {
                lock.unlock();
            }
        }
    }
    
    <span class="hljs-comment">/**
     * ä½¿ç”¨æ³¨è§£ç®€åŒ–ç‰ˆ
     */</span>
    <span class="hljs-meta">@DistributedLock(
        key = "'seckill:lock:' + #productId",
        waitTime = 1,
        leaseTime = 3,
        timeUnit = TimeUnit.SECONDS
    )</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">seckillOrderWithAnnotation</span><span class="hljs-params">(Long productId, Integer quantity, Long userId)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼Œæ— éœ€å…³å¿ƒé”çš„è·å–å’Œé‡Šæ”¾</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">stockKey</span> <span class="hljs-operator">=</span> SECKILL_PREFIX + productId + <span class="hljs-string">":stock"</span>;
        <span class="hljs-type">Integer</span> <span class="hljs-variable">stock</span> <span class="hljs-operator">=</span> Integer.valueOf(
            redisTemplate.opsForValue().get(stockKey)
        );
        
        <span class="hljs-keyword">if</span> (stock == <span class="hljs-literal">null</span> || stock &lt; quantity) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>);
        }
        
        <span class="hljs-type">Long</span> <span class="hljs-variable">newStock</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().decrement(stockKey, quantity);
        <span class="hljs-keyword">if</span> (newStock &lt; <span class="hljs-number">0</span>) {
            redisTemplate.opsForValue().increment(stockKey, quantity);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>);
        }
        
        createOrder(productId, quantity, userId);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Long productId, Integer quantity, Long userId)</span> {
        <span class="hljs-comment">// åˆ›å»ºè®¢å•é€»è¾‘</span>
        log.info(<span class="hljs-string">"ç”¨æˆ·{}æŠ¢è´­å•†å“{}ï¼Œæ•°é‡{}"</span>, userId, productId, quantity);
    }
}
</code></pre>
<h3 data-id="heading-14">2. å®šæ—¶ä»»åŠ¡é˜²é‡å¤æ‰§è¡Œ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScheduledTasks</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RedissonClient</span> redissonClient;
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼Œç¡®ä¿é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œ
     */</span>
    <span class="hljs-meta">@Scheduled</span>(cron = <span class="hljs-string">"0 */5 * * * ?"</span>) <span class="hljs-comment">// æ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">syncDataTask</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">String</span> lockKey = <span class="hljs-string">"task:sync:data"</span>;
        <span class="hljs-title class_">RLock</span> lock = redissonClient.<span class="hljs-title function_">getLock</span>(lockKey);
        
        <span class="hljs-comment">// ä¸ç­‰å¾…ï¼Œè·å–ä¸åˆ°é”ç›´æ¥è¿”å›</span>
        <span class="hljs-built_in">boolean</span> locked = lock.<span class="hljs-title function_">tryLock</span>();
        <span class="hljs-keyword">if</span> (!locked) {
            log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å…¶ä»–èŠ‚ç‚¹æ­£åœ¨æ‰§è¡Œæ•°æ®åŒæ­¥ä»»åŠ¡"</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-keyword">try</span> {
            log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œæ•°æ®åŒæ­¥ä»»åŠ¡"</span>);
            <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
            <span class="hljs-title function_">syncData</span>();
            log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"æ•°æ®åŒæ­¥ä»»åŠ¡å®Œæˆ"</span>);
        } <span class="hljs-keyword">finally</span> {
            lock.<span class="hljs-title function_">unlock</span>();
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">syncData</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ•°æ®åŒæ­¥é€»è¾‘</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">5000</span>);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
            <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
        }
    }
}
</code></pre>
<h2 data-id="heading-15">äº”ã€é…ç½®å’Œæœ€ä½³å®è·µ</h2>
<h3 data-id="heading-16">1. Redissoné…ç½®ç±»</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Configuration</span>
public class RedissonConfig {
    
    <span class="hljs-keyword">@Value</span>(<span class="hljs-string">"${spring.redis.host}"</span>)
    private String redisHost;
    
    <span class="hljs-keyword">@Value</span>(<span class="hljs-string">"${spring.redis.port}"</span>)
    private String redisPort;
    
    <span class="hljs-keyword">@Value</span>(<span class="hljs-string">"${spring.redis.password:}"</span>)
    private String password;
    
    <span class="hljs-keyword">@Value</span>(<span class="hljs-string">"${spring.redis.database:0}"</span>)
    private int database;
    
    <span class="hljs-keyword">@Bean</span>(destroyMethod = <span class="hljs-string">"shutdown"</span>)
    public RedissonClient redissonClient() {
        Config config = new <span class="hljs-built_in">Config</span>();
        
        <span class="hljs-comment">// å•èŠ‚ç‚¹æ¨¡å¼</span>
        config<span class="hljs-selector-class">.useSingleServer</span>()
            <span class="hljs-selector-class">.setAddress</span>(String.format("redis://%s:%s", redisHost, redisPort))
            <span class="hljs-selector-class">.setDatabase</span>(database)
            <span class="hljs-selector-class">.setPassword</span>(StringUtils.hasText(password) ? password : null)
            .<span class="hljs-built_in">setConnectionPoolSize</span>(<span class="hljs-number">64</span>)
            .<span class="hljs-built_in">setConnectionMinimumIdleSize</span>(<span class="hljs-number">10</span>)
            .<span class="hljs-built_in">setIdleConnectionTimeout</span>(<span class="hljs-number">10000</span>)
            .<span class="hljs-built_in">setConnectTimeout</span>(<span class="hljs-number">3000</span>)
            .<span class="hljs-built_in">setTimeout</span>(<span class="hljs-number">3000</span>)
            .<span class="hljs-built_in">setRetryAttempts</span>(<span class="hljs-number">3</span>)
            .<span class="hljs-built_in">setRetryInterval</span>(<span class="hljs-number">1500</span>)
            .<span class="hljs-built_in">setPingConnectionInterval</span>(<span class="hljs-number">30000</span>)
            .<span class="hljs-built_in">setKeepAlive</span>(true);
        
        <span class="hljs-comment">// é”é…ç½®</span>
        config<span class="hljs-selector-class">.setLockWatchdogTimeout</span>(<span class="hljs-number">30000</span>L); <span class="hljs-comment">// çœ‹é—¨ç‹—è¶…æ—¶æ—¶é—´</span>
        
        return Redisson<span class="hljs-selector-class">.create</span>(config);
    }
}
</code></pre>
<h3 data-id="heading-17">2. åˆ†å¸ƒå¼é”å·¥å…·ç±»</h3>
<pre><code class="hljs language-csharp" lang="csharp">@Component
@Slf4j
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DistributedLockUtil</span> {
    
    @Autowired
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-comment">/**
     * æ‰§è¡Œå¸¦é”çš„æ–¹æ³•
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title">executeWithLock</span>(<span class="hljs-params">String lockKey, <span class="hljs-built_in">long</span> waitTime, <span class="hljs-built_in">long</span> leaseTime, 
                                  TimeUnit unit, Supplier&lt;T&gt; supplier</span>)</span> {
        RLock <span class="hljs-keyword">lock</span> = redissonClient.getLock(lockKey);
        boolean locked = <span class="hljs-literal">false</span>;
        
        <span class="hljs-keyword">try</span> {
            locked = <span class="hljs-keyword">lock</span>.tryLock(waitTime, leaseTime, unit);
            <span class="hljs-keyword">if</span> (!locked) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> DistributedLockException(<span class="hljs-string">"è·å–åˆ†å¸ƒå¼é”å¤±è´¥: "</span> + lockKey);
            }
            
            <span class="hljs-keyword">return</span> supplier.<span class="hljs-keyword">get</span>();
            
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> DistributedLockException(<span class="hljs-string">"è·å–åˆ†å¸ƒå¼é”è¢«ä¸­æ–­"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (locked &amp;&amp; <span class="hljs-keyword">lock</span>.isHeldByCurrentThread()) {
                <span class="hljs-keyword">lock</span>.unlock();
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰§è¡Œå¸¦é”çš„æ–¹æ³•ï¼ˆæ— è¿”å›å€¼ï¼‰
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">executeWithLock</span>(<span class="hljs-params">String lockKey, <span class="hljs-built_in">long</span> waitTime, <span class="hljs-built_in">long</span> leaseTime,
                               TimeUnit unit, Runnable runnable</span>)</span> {
        executeWithLock(lockKey, waitTime, leaseTime, unit, () -&gt; {
            runnable.run();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        });
    }
    
    <span class="hljs-comment">/**
     * æ‰§è¡Œå¸¦é”çš„æ–¹æ³•ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">Optional&lt;T&gt; <span class="hljs-title">tryExecuteWithLock</span>(<span class="hljs-params">String lockKey, <span class="hljs-built_in">long</span> waitTime, 
                                             <span class="hljs-built_in">long</span> leaseTime, TimeUnit unit,
                                             Supplier&lt;T&gt; supplier</span>)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> Optional.ofNullable(
                executeWithLock(lockKey, waitTime, leaseTime, unit, supplier)
            );
        } <span class="hljs-keyword">catch</span> (DistributedLockException e) {
            log.warn(<span class="hljs-string">"è·å–é”å¤±è´¥ï¼Œè·³è¿‡æ‰§è¡Œ: {}"</span>, lockKey);
            <span class="hljs-keyword">return</span> Optional.empty();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DistributedLockException</span> <span class="hljs-title">extends</span> <span class="hljs-title">RuntimeException</span> {
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DistributedLockException</span>(<span class="hljs-params">String message</span>)</span> {
            super(message);
        }
        
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DistributedLockException</span>(<span class="hljs-params">String message, Throwable cause</span>)</span> {
            super(message, cause);
        }
    }
}
</code></pre>
<h2 data-id="heading-18">å…­ã€æµ‹è¯•åˆ†å¸ƒå¼é”</h2>
<pre><code class="hljs language-ini" lang="ini">@SpringBootTest
@Slf4j
class DistributedLockTest {
    
    @Autowired
    private RedissonDistributedLock redissonDistributedLock<span class="hljs-comment">;</span>
    
    @Autowired
    private DistributedLockUtil distributedLockUtil<span class="hljs-comment">;</span>
    
    private final AtomicInteger <span class="hljs-attr">counter</span> = new AtomicInteger(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
    
    @Test
    void testConcurrentLock() throws InterruptedException {
        int <span class="hljs-attr">threadCount</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:concurrent:lock"</span><span class="hljs-comment">;</span>
        CountDownLatch <span class="hljs-attr">latch</span> = new CountDownLatch(threadCount)<span class="hljs-comment">;</span>
        
        ExecutorService <span class="hljs-attr">executor</span> = Executors.newFixedThreadPool(threadCount)<span class="hljs-comment">;</span>
        
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; threadCount; i++) {</span>
            executor.submit(() -&gt; {
                try {
                    boolean <span class="hljs-attr">locked</span> = redissonDistributedLock
                        .tryReentrantLock(lockKey, 2, 5, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
                    
                    if (locked) {
                        try {
                            // æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†
                            Thread.sleep(100)<span class="hljs-comment">;</span>
                            int <span class="hljs-attr">value</span> = counter.incrementAndGet()<span class="hljs-comment">;</span>
                            log.info("çº¿ç¨‹ {} è·å–é”æˆåŠŸï¼Œè®¡æ•°: {}", 
                                    Thread.currentThread().getName(), value)<span class="hljs-comment">;</span>
                        } finally {
                            redissonDistributedLock.unlock(lockKey)<span class="hljs-comment">;</span>
                        }
                    } else {
                        log.warn("çº¿ç¨‹ {} è·å–é”å¤±è´¥", Thread.currentThread().getName())<span class="hljs-comment">;</span>
                    }
                } catch (Exception e) {
                    log.error("çº¿ç¨‹æ‰§è¡Œå¼‚å¸¸", e)<span class="hljs-comment">;</span>
                } finally {
                    latch.countDown()<span class="hljs-comment">;</span>
                }
            })<span class="hljs-comment">;</span>
        }
        
        latch.await()<span class="hljs-comment">;</span>
        executor.shutdown()<span class="hljs-comment">;</span>
        
        assertEquals(threadCount, counter.get())<span class="hljs-comment">;</span>
    }
    
    @Test
    void testLockWithUtil() {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:util:lock"</span><span class="hljs-comment">;</span>
        
        String <span class="hljs-attr">result</span> = distributedLockUtil.executeWithLock(
            lockKey, 
            2, 
            5, 
            TimeUnit.SECONDS,
            () -&gt; {
                // ä¸šåŠ¡é€»è¾‘
                return "success"<span class="hljs-comment">;</span>
            }
        )<span class="hljs-comment">;</span>
        
        assertEquals("success", result)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h2 data-id="heading-19">æ€»ç»“ä¸å»ºè®®</h2>
<h3 data-id="heading-20">1. <strong>é€‰æ‹©æ–¹æ¡ˆ</strong></h3>
<ul>
<li><strong>ç®€å•åœºæ™¯</strong>ï¼šä½¿ç”¨Spring Integrationçš„<code>RedisLockRegistry</code></li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šæ¨èä½¿ç”¨<strong>Redisson</strong>ï¼ŒåŠŸèƒ½æœ€å…¨ï¼Œç¨³å®šæ€§æœ€å¥½</li>
<li><strong>ç‰¹æ®Šéœ€æ±‚</strong>ï¼šéœ€è¦ç²¾ç»†æ§åˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŸç”ŸRediså‘½ä»¤è‡ªå®šä¹‰</li>
</ul>
<h3 data-id="heading-21">2. <strong>æœ€ä½³å®è·µ</strong></h3>
<ul>
<li>é”çš„keyè¦æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œå¦‚<code>order:create:{orderId}</code></li>
<li>ä¸€å®šè¦è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢æ­»é”</li>
<li>é‡Šæ”¾é”æ—¶è¦æ£€æŸ¥æ˜¯å¦å½“å‰çº¿ç¨‹æŒæœ‰</li>
<li>ä½¿ç”¨Luaè„šæœ¬ä¿è¯åŸå­æ€§</li>
<li>è€ƒè™‘é”çš„å¯é‡å…¥æ€§</li>
<li>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨Redisé›†ç¾¤æˆ–å“¨å…µæ¨¡å¼</li>
</ul>
<h3 data-id="heading-22">3. <strong>æ³¨æ„äº‹é¡¹</strong></h3>
<ul>
<li>é¿å…é”ç²’åº¦è¿‡å¤§ï¼Œå½±å“å¹¶å‘æ€§èƒ½</li>
<li>é¿å…é”æŒæœ‰æ—¶é—´è¿‡é•¿</li>
<li>å®ç°é”çš„è‡ªåŠ¨ç»­æœŸï¼ˆçœ‹é—¨ç‹—æœºåˆ¶ï¼‰</li>
<li>è€ƒè™‘é”ç­‰å¾…è¶…æ—¶å’Œå¿«é€Ÿå¤±è´¥</li>
<li>æ·»åŠ ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶</li>
</ul>
<h3 data-id="heading-23">4. <strong>å¸¸è§é—®é¢˜è§£å†³</strong></h3>
<ul>
<li><strong>é”æå‰è¿‡æœŸ</strong>ï¼šä½¿ç”¨Redissonçš„çœ‹é—¨ç‹—æœºåˆ¶</li>
<li><strong>é”è¯¯åˆ </strong>ï¼šæ¯ä¸ªé”è®¾ç½®å”¯ä¸€valueï¼Œé‡Šæ”¾æ—¶éªŒè¯</li>
<li><strong>é”ä¸å¯é‡å…¥</strong>ï¼šä½¿ç”¨Redissonæˆ–å®ç°å¯é‡å…¥é€»è¾‘</li>
<li><strong>Redisé›†ç¾¤æ•…éšœ</strong>ï¼šä½¿ç”¨RedLockç®—æ³•ï¼ˆå¤šä¸ªRediså®ä¾‹ï¼‰</li>
</ul>
<p>è¿™æ ·å®ç°çš„åˆ†å¸ƒå¼é”æ—¢å®‰å…¨åˆå¯é ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Djangoå®ç°æ¥å£tokenæ£€æµ‹çš„å®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7582519152566419471</link>    <guid>https://juejin.cn/post/7582519152566419471</guid>    <pubDate>2025-12-12T06:24:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582519152566419471" data-draft-id="7582533464244928546" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Djangoå®ç°æ¥å£tokenæ£€æµ‹çš„å®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Django"/> <meta itemprop="datePublished" content="2025-12-12T06:24:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Djangoå®ç°æ¥å£tokenæ£€æµ‹çš„å®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T06:24:01.000Z" title="Fri Dec 12 2025 06:24:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0"><strong>ä¸€ã€Tokenè®¤è¯çš„å®ç°æ€è·¯</strong></h3>
<ol>
<li><strong>ç”¨æˆ·ç™»å½•åç”ŸæˆToken</strong>ï¼šç”¨æˆ·ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªTokenï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li>
<li><strong>å®¢æˆ·ç«¯è¯·æ±‚æ—¶æºå¸¦Token</strong>ï¼šå®¢æˆ·ç«¯åœ¨æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œå°†Tokenæ”¾å…¥HTTPè¯·æ±‚å¤´ï¼ˆHeadersï¼‰ä¸­ã€‚</li>
<li><strong>æœåŠ¡å™¨ç«¯éªŒè¯Token</strong>ï¼šDjangoåç«¯è§£æè¯·æ±‚ä¸­çš„Tokenï¼Œå¹¶éªŒè¯å…¶åˆæ³•æ€§ã€‚</li>
<li><strong>Tokenæ ¡éªŒé€šè¿‡ï¼Œå…è®¸è®¿é—®æ¥å£</strong>ï¼›å¦åˆ™ï¼Œè¿”å›æœªæˆæƒçš„é”™è¯¯ä¿¡æ¯ã€‚</li>
</ol>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a600ef266304456f9ad43c492b387677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125440&amp;x-signature=omrZz79gNqa%2F%2Fy%2BAUpZQAPkyE6M%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>äºŒã€ç¯å¢ƒå‡†å¤‡</strong></h3>
<p>åœ¨Djangoé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>rest_framework.authtoken</code>æˆ–è€…è‡ªå®šä¹‰Tokenè®¤è¯é€»è¾‘ã€‚è¿™é‡Œä»‹ç»ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li><strong>åŸºäº Django REST frameworkï¼ˆDRFï¼‰ çš„ Token è®¤è¯</strong></li>
<li><strong>è‡ªå®šä¹‰ Token è®¤è¯</strong></li>
</ol>
<hr/>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>ä¸‰ã€åŸºäº Django REST Frameworkï¼ˆDRFï¼‰çš„ Token è®¤è¯</strong></h3>
<p>Django RESTÂ FrameworkÂ æä¾›äº†ç°æˆçš„ Token è®¤è¯æœºåˆ¶ï¼Œä¸‹é¢æ˜¯å®ç°æ­¥éª¤ã€‚</p>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>1. å®‰è£… Django REST framework</strong></h4>
<p>å¦‚æœè¿˜æœªå®‰è£… DjangoÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DREST%2520framework%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=REST%20framework&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">REST framework</a>ï¼Œè¯·ä½¿ç”¨ pip å®‰è£…ï¼š</p>
<pre><code class="hljs">pip install djangorestframework
pip install djangorestframework.authtoken

AIå†™ä»£ç sh
12
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5211e8b0e3444549917feadabb0066c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125440&amp;x-signature=%2B62btK3jB5VYJhmhMB1%2FxKcTzpk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>2. æ·»åŠ åˆ° Django é…ç½®</strong></h4>
<p>åœ¨Â <code>settings.py</code>Â ä¸­å¯ç”¨ Django REST framework å’Œ Token è®¤è¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">INSTALLED_APPS = <span class="hljs-selector-attr">[    <span class="hljs-string">'django.contrib.admin'</span>,    <span class="hljs-string">'django.contrib.auth'</span>,    <span class="hljs-string">'django.contrib.contenttypes'</span>,    <span class="hljs-string">'django.contrib.sessions'</span>,    <span class="hljs-string">'django.contrib.messages'</span>,    <span class="hljs-string">'django.contrib.staticfiles'</span>,    <span class="hljs-string">'rest_framework'</span>,    <span class="hljs-string">'rest_framework.authtoken'</span>,]</span>

REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        <span class="hljs-string">'rest_framework.authentication.TokenAuthentication'</span>,
    ),
    <span class="hljs-string">'DEFAULT_PERMISSION_CLASSES'</span>: (
        <span class="hljs-string">'rest_framework.permissions.IsAuthenticated'</span>,
    ),
}

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">12345678910111213141516171819</span>
</code></pre>
<h4 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>3. ç”Ÿæˆ Token è¡¨</strong></h4>
<p>è¿è¡Œ Django è¿ç§»å‘½ä»¤ï¼Œåˆ›å»º Token è®¤è¯æ‰€éœ€çš„æ•°æ®è¡¨ï¼š</p>
<pre><code class="hljs">python manage.py migrate

AIå†™ä»£ç sh
1
</code></pre>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>4. åˆ›å»º API è§†å›¾</strong></h4>
<p>åˆ›å»ºç”¨æˆ·ç™»å½•æ¥å£ï¼Œç”Ÿæˆå¹¶è¿”å› Tokenã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">from django.contrib.auth <span class="hljs-keyword">import</span> authenticate
from rest_framework.authtoken.models <span class="hljs-keyword">import</span> Token
from rest_framework.response <span class="hljs-keyword">import</span> Response
from rest_framework.views <span class="hljs-keyword">import</span> APIView
from rest_framework <span class="hljs-keyword">import</span> status

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginView</span>(APIView):
    def post(self, request):
        username = request.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">"username"</span>)
        password = request.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">"password"</span>)
        user = authenticate(username=username, password=password)
        <span class="hljs-keyword">if</span> user:
            token, created = Token.objects.get_or_create(user=user)
            <span class="hljs-keyword">return</span> Response({<span class="hljs-string">"token"</span>: token.key})
        <span class="hljs-keyword">return</span> Response({<span class="hljs-string">"error"</span>: <span class="hljs-string">"Invalid Credentials"</span>}, status=status.HTTP_401_UNAUTHORIZED)

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">123456789101112131415</span>
</code></pre>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>5. ä¿æŠ¤ API ç«¯ç‚¹</strong></h4>
<p>åœ¨ API è§†å›¾ä¸­ä½¿ç”¨Â <code>TokenAuthentication</code>Â ä¿æŠ¤ APIï¼Œä»…å…è®¸æŒæœ‰æœ‰æ•ˆ Token çš„ç”¨æˆ·è®¿é—®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> rest_framework.authentication <span class="hljs-keyword">import</span> TokenAuthentication
<span class="hljs-keyword">from</span> rest_framework.permissions <span class="hljs-keyword">import</span> IsAuthenticated
<span class="hljs-keyword">from</span> rest_framework.views <span class="hljs-keyword">import</span> APIView
<span class="hljs-keyword">from</span> rest_framework.response <span class="hljs-keyword">import</span> Response

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtectedView</span>(<span class="hljs-title class_ inherited__">APIView</span>):
    authentication_classes = [TokenAuthentication]
    permission_classes = [IsAuthenticated]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, request</span>):
        <span class="hljs-keyword">return</span> Response({<span class="hljs-string">"message"</span>: <span class="hljs-string">"You have access to this protected endpoint."</span>})

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">1234567891011</span>
</code></pre>
<h4 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>6. æµ‹è¯• API</strong></h4>
<ol>
<li>
<p><strong>è·å– Token</strong>ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">curl -X POST http://127.0.0.1:8000/api/login/ -H <span class="hljs-string">"Content-Type: application/json"</span> -d '{<span class="hljs-string">"username"</span>: <span class="hljs-string">"admin"</span>, <span class="hljs-string">"password"</span>: <span class="hljs-string">"password"</span>}'

AIå†™ä»£ç sh
1
</code></pre>
<p>æœåŠ¡å™¨è¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"abc123xyz456"</span><span class="hljs-punctuation">}</span>

AIå†™ä»£ç json
<span class="hljs-number">1</span>
</code></pre>
</li>
<li>
<p><strong>è®¿é—®å—ä¿æŠ¤çš„ API</strong>ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">curl -X <span class="hljs-variable constant_">GET</span> <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/127.0.0.1:8000/api</span><span class="hljs-regexp">/protected/</span> -H <span class="hljs-string">"Authorization: Token abc123xyz456"</span>

<span class="hljs-variable constant_">AI</span>å†™ä»£ç sh
<span class="hljs-number">1</span>
</code></pre>
<p>æœåŠ¡å™¨è¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"You have access to this protected endpoint."</span><span class="hljs-punctuation">}</span>

AIå†™ä»£ç json
<span class="hljs-number">1</span>
</code></pre>
</li>
</ol>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe6fa8f906e345c7bdd1474128008424~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766125440&amp;x-signature=SOiEfc%2FBNN36q4g8Eh1uQUsgLYo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>å››ã€è‡ªå®šä¹‰ Token è®¤è¯æ–¹æ¡ˆ</strong></h3>
<p>å¦‚æœä¸ä½¿ç”¨ DRF è‡ªå¸¦çš„Â <code>TokenAuthentication</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ Token è®¤è¯ã€‚</p>
<h4 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>1. è‡ªå®šä¹‰ Token æ¨¡å‹</strong></h4>
<p>åœ¨Â <code>models.py</code>Â ä¸­åˆ›å»º Token å­˜å‚¨è¡¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models
<span class="hljs-keyword">from</span> django.contrib.auth.models <span class="hljs-keyword">import</span> User
<span class="hljs-keyword">import</span> uuid

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomToken</span>(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    key = models.CharField(max_length=<span class="hljs-number">255</span>, unique=<span class="hljs-literal">True</span>, default=uuid.uuid4)
    created_at = models.DateTimeField(auto_now_add=<span class="hljs-literal">True</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self.key

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">1234567891011</span>
</code></pre>
<h4 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>2. åˆ›å»º Token ç”Ÿæˆé€»è¾‘</strong></h4>
<p>åœ¨Â <code>views.py</code>Â ä¸­å®šä¹‰ç™»å½•é€»è¾‘ï¼Œç”Ÿæˆè‡ªå®šä¹‰ Tokenï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.contrib.auth <span class="hljs-keyword">import</span> authenticate
<span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse
<span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> CustomToken

<span class="hljs-keyword">def</span> <span class="hljs-title function_">custom_login</span>(<span class="hljs-params">request</span>):
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">"POST"</span>:
        username = request.POST.get(<span class="hljs-string">"username"</span>)
        password = request.POST.get(<span class="hljs-string">"password"</span>)
        user = authenticate(username=username, password=password)

        <span class="hljs-keyword">if</span> user:
            token, created = CustomToken.objects.get_or_create(user=user)
            <span class="hljs-keyword">return</span> JsonResponse({<span class="hljs-string">"token"</span>: token.key})
        <span class="hljs-keyword">return</span> JsonResponse({<span class="hljs-string">"error"</span>: <span class="hljs-string">"Invalid credentials"</span>}, status=<span class="hljs-number">401</span>)

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">1234567891011121314</span>
</code></pre>
<h4 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>3. ä¸­é—´ä»¶æ‹¦æˆª Token</strong></h4>
<p>åœ¨Â <code>middleware.py</code>Â ä¸­å®šä¹‰ Token éªŒè¯é€»è¾‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse
<span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> CustomToken

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenMiddleware</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, get_response</span>):
        self.get_response = get_response

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, request</span>):
        token = request.headers.get(<span class="hljs-string">"Authorization"</span>)

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token:
            <span class="hljs-keyword">return</span> JsonResponse({<span class="hljs-string">"error"</span>: <span class="hljs-string">"Token missing"</span>}, status=<span class="hljs-number">401</span>)

        <span class="hljs-keyword">try</span>:
            user_token = CustomToken.objects.get(key=token)
            request.user = user_token.user
        <span class="hljs-keyword">except</span> CustomToken.DoesNotExist:
            <span class="hljs-keyword">return</span> JsonResponse({<span class="hljs-string">"error"</span>: <span class="hljs-string">"Invalid token"</span>}, status=<span class="hljs-number">401</span>)

        <span class="hljs-keyword">return</span> self.get_response(request)

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">1234567891011121314151617181920</span>
</code></pre>
<p>ç„¶åï¼Œåœ¨Â <code>settings.py</code>Â ä¸­å¯ç”¨ä¸­é—´ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">MIDDLEWARE</span> = [
    <span class="hljs-string">'django.middleware.security.SecurityMiddleware'</span>,
    <span class="hljs-string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,
    <span class="hljs-string">'django.middleware.common.CommonMiddleware'</span>,
    <span class="hljs-string">'django.middleware.csrf.CsrfViewMiddleware'</span>,
    <span class="hljs-string">'django.middleware.authentication.AuthenticationMiddleware'</span>,
    <span class="hljs-string">'django.contrib.messages.middleware.MessageMiddleware'</span>,
    <span class="hljs-string">'django.middleware.clickjacking.XFrameOptionsMiddleware'</span>,
    <span class="hljs-string">'myapp.middleware.TokenMiddleware'</span>,  <span class="hljs-comment"># æ·»åŠ è‡ªå®šä¹‰ Token è®¤è¯ä¸­é—´ä»¶</span>
]

AIå†™ä»£ç python
è¿è¡Œ
12345678910
</code></pre>
<h4 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>4. å—ä¿æŠ¤çš„ API</strong></h4>
<p>åœ¨Â <code>views.py</code>Â ä¸­å®šä¹‰éœ€è¦ Token è®¤è¯çš„æ¥å£ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse

<span class="hljs-keyword">def</span> <span class="hljs-title function_">protected_view</span>(<span class="hljs-params">request</span>):
    <span class="hljs-keyword">return</span> JsonResponse({<span class="hljs-string">"message"</span>: <span class="hljs-string">"Welcome, you are authenticated!"</span>})

AIå†™ä»£ç python
è¿è¡Œ
<span class="hljs-number">1234</span>
</code></pre>
<h4 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>5. æµ‹è¯•</strong></h4>
<ol>
<li>
<p><strong>è·å– Token</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST http://127.0.0.1:8000/custom_login/ -d <span class="hljs-string">"username=admin&amp;password=admin"</span>

AIå†™ä»£ç sh
1
</code></pre>
<p>è¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"abc123xyz456"</span><span class="hljs-punctuation">}</span>

AIå†™ä»£ç json
<span class="hljs-number">1</span>
</code></pre>
</li>
<li>
<p><strong>è®¿é—®å—ä¿æŠ¤ API</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X GET http://127.0.0.1:8000/protected_view/ -H <span class="hljs-string">"Authorization: abc123xyz456"</span>

AIå†™ä»£ç sh
1
</code></pre>
<p>è¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome, you are authenticated!"</span><span class="hljs-punctuation">}</span>

AIå†™ä»£ç json
<span class="hljs-number">1</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><strong>äº”ã€æ€»ç»“</strong></h3>
<p>æœ¬æ–¹æ¡ˆä»‹ç»äº† Django ä¸­å®ç°æ¥å£ Token è®¤è¯çš„ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol>
<li><strong>ä½¿ç”¨ Django REST frameworkï¼ˆDRFï¼‰çš„ Token è®¤è¯</strong>ï¼šé€‚ç”¨äº REST APIï¼Œç®€å•æ˜“ç”¨ã€‚</li>
<li><strong>è‡ªå®šä¹‰ Token è®¤è¯</strong>ï¼šé€‚ç”¨äºæ›´çµæ´»çš„éœ€æ±‚ï¼Œå¯å®šåˆ¶ Token è§„åˆ™ã€è¿‡æœŸç­–ç•¥ç­‰ã€‚</li>
</ol>
<p>ä»¥ä¸Šä»£ç å’Œæ­¥éª¤ç¡®ä¿äº† API çš„å®‰å…¨æ€§ï¼Œé¿å…æœªç»æˆæƒçš„è®¿é—®ï¼Œé€‚ç”¨äº Django Web é¡¹ç›®çš„ç”¨æˆ·èº«ä»½éªŒè¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘ç«åŠ›å…¨å¼€ï¼šé¸¿è’™6.0æ¸¸æˆå¼€å‘æˆ˜æœ¯æ‰‹å†Œ]]></title>    <link>https://juejin.cn/post/7582516300050071579</link>    <guid>https://juejin.cn/post/7582516300050071579</guid>    <pubDate>2025-12-12T05:24:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582516300050071579" data-draft-id="7582516300050055195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘ç«åŠ›å…¨å¼€ï¼šé¸¿è’™6.0æ¸¸æˆå¼€å‘æˆ˜æœ¯æ‰‹å†Œ"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2025-12-12T05:24:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘ç«åŠ›å…¨å¼€ï¼šé¸¿è’™6.0æ¸¸æˆå¼€å‘æˆ˜æœ¯æ‰‹å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:24:42.000Z" title="Fri Dec 12 2025 05:24:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ˜¯Vå“¥ï¼Œä»Šå¤©å¸¦å…„å¼Ÿä»¬ç”¨æœºæªæ‰«å°„å¼ä»£ç æ”»é™·é¸¿è’™6.0æ¸¸æˆæˆ˜åœºï¼ ä»¥ä¸‹ä»£ç åŸºäºHarmonyOS 6.0ï¼ˆAPI 21ï¼‰çš„ArkTSå®ç°ï¼Œç»“åˆå®æˆ˜æ¡ˆä¾‹ä¸åº•å±‚åŸç†ï¼ŒåŠ©ä½ å½»åº•æŒæ¡Game Service Kitå››å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œç›´å‡»æ¸¸æˆå¼€å‘å››å¤§ç—›ç‚¹ï¼š</p>
<p>è”ç³»Vå“¥è·å– <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F042cb1cc4d7d44ecbdbd902fd1275dcc%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/042cb1cc4d7d44ecbdbd902fd1275dcc?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å­¦ä¹ èµ„æ–™</a></p>
<hr/>
<p><strong>1. gamePlayerï¼šç©å®¶æ•°æ®ä¸æˆå°±ç³»ç»Ÿï¼ˆå®æˆ˜ä»£ç ï¼‰</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç©å®¶æ•°æ®åŒæ­¥æ ¸å¼¹çº§å®ç°</span>
<span class="hljs-keyword">import</span> { gamePlayer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.gamePlayer'</span>;

<span class="hljs-comment">// æˆ˜æœ¯1ï¼šç©å®¶æ¡£æ¡ˆé—ªç”µåŠ è½½</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadPlayerProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> player = <span class="hljs-keyword">await</span> gamePlayer.<span class="hljs-title function_">getCurrentPlayer</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç©å®¶ID: <span class="hljs-subst">${player.playerId}</span>, æ®µä½: <span class="hljs-subst">${player.rankLevel}</span>`</span>);
    <span class="hljs-comment">// æ®µä½æ™‹å‡ç³»ç»Ÿ</span>
    <span class="hljs-keyword">if</span> (player.<span class="hljs-property">exp</span> &gt;= <span class="hljs-number">1000</span>) {
      <span class="hljs-keyword">await</span> gamePlayer.<span class="hljs-title function_">unlockAchievement</span>({
        <span class="hljs-attr">achievementId</span>: <span class="hljs-string">'elite_warrior'</span>,
        <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç²¾è‹±æˆ˜å£«æˆå°±è§£é”!'</span>)
      });
    }
    <span class="hljs-comment">// äº‘ç«¯å­˜æ¡£è‡ªåŠ¨åŒæ­¥</span>
    <span class="hljs-keyword">await</span> gamePlayer.<span class="hljs-title function_">submitScore</span>(<span class="hljs-string">'leaderboard_headshots'</span>, <span class="hljs-number">257</span>); <span class="hljs-comment">// çˆ†å¤´æ•°æ’è¡Œæ¦œ</span>
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-title function_">handleGameError</span>(err, <span class="hljs-string">'GAME_PLAYER_LOAD_FAILED'</span>);
  }
}

<span class="hljs-comment">// æˆ˜æœ¯2ï¼šå®æ—¶å¤šäººåŒ¹é…ï¼ˆ5v5æˆ˜æœ¯ç«æŠ€ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">matchConfig</span>: gamePlayer.<span class="hljs-property">MatchConfig</span> = {
  <span class="hljs-attr">minPlayers</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">maxPlayers</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">playerAttributes</span>: { <span class="hljs-string">'role'</span>: <span class="hljs-string">'assault'</span> } <span class="hljs-comment">// çªå‡»å…µè§’è‰²åŒ¹é…</span>
};
gamePlayer.<span class="hljs-title function_">startMatchmaking</span>(matchConfig, <span class="hljs-function">(<span class="hljs-params">matchStatus</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (matchStatus === gamePlayer.<span class="hljs-property">MatchStatus</span>.<span class="hljs-property">SUCCESS</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆ˜åœºåŒ¹é…å®Œæˆï¼Œè¿›å…¥åŠ è½½ç•Œé¢...'</span>);
  }
});
</code></pre>
<p><strong>æŠ€æœ¯è¦ç‚¹ï¼š</strong></p>
<ul>
<li>æˆå°±ç³»ç»Ÿé‡‡ç”¨ <strong>äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼Œæˆå°±IDéœ€åœ¨AGCæ§åˆ¶å°é¢„é…ç½®</li>
<li>ç©å®¶æ•°æ®åŠ å¯†ä½¿ç”¨ <strong>HWå¯†é’¥é“¾</strong>ï¼Œæœ¬åœ°å­˜å‚¨è‡ªåŠ¨åŒæ­¥äº‘ç«¯</li>
<li>åŒ¹é…ç®—æ³•é‡‡ç”¨ <strong>å±æ€§ä¼˜å…ˆ+å»¶è¿Ÿä¼˜åŒ–ç­–ç•¥</strong>ï¼Œäºšæ´²åŒºå¹³å‡åŒ¹é…æ—¶é—´&lt;3s</li>
</ul>
<hr/>
<p><strong>âš¡ <strong>2. gamePerformanceï¼šæ€§èƒ½æ ¸å¼¹çº§ç›‘æ§</strong></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¸§ç‡æ­»äº¡å°„çº¿ç›‘æ§</span>
<span class="hljs-keyword">import</span> { gamePerformance } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.gamePerformance'</span>;

<span class="hljs-comment">// å®‰è£…æ€§èƒ½æ¢é’ˆ</span>
<span class="hljs-keyword">const</span> perfMonitor = gamePerformance.<span class="hljs-title function_">createMonitor</span>({
  <span class="hljs-attr">metrics</span>: [
    gamePerformance.<span class="hljs-property">MetricType</span>.<span class="hljs-property">FPS</span>, 
    gamePerformance.<span class="hljs-property">MetricType</span>.<span class="hljs-property">CPU_USAGE</span>,
    gamePerformance.<span class="hljs-property">MetricType</span>.<span class="hljs-property">GPU_RENDER_TIME</span>
  ],
  <span class="hljs-attr">samplingInterval</span>: <span class="hljs-number">1000</span> <span class="hljs-comment">// æ¯ç§’é‡‡æ ·</span>
});

<span class="hljs-comment">// æˆ˜åœºæ€§èƒ½ç†”æ–­æœºåˆ¶</span>
perfMonitor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'metricChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">FPS</span> &lt; <span class="hljs-number">25</span>) {
    <span class="hljs-comment">// è‡ªåŠ¨é™çº§ç”»è´¨</span>
    <span class="hljs-title function_">adjustGraphicsQuality</span>(<span class="hljs-string">'medium'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'å¸§ç‡å‘Šè­¦ï¼å¯ç”¨ç”»è´¨ç†”æ–­'</span>);
  }
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">CPU_USAGE</span> &gt; <span class="hljs-number">85</span>) {
    <span class="hljs-comment">// AIæ•Œäººç”Ÿæˆé™æµ</span>
    <span class="hljs-title function_">throttleEnemySpawn</span>(<span class="hljs-number">50</span>);
  }
});

<span class="hljs-comment">// å¯åŠ¨æ€§èƒ½ç›‘æ§ï¼ˆæˆ˜æ–—å¼€å§‹æ—¶ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">startBattle</span>(<span class="hljs-params"/>) {
  perfMonitor.<span class="hljs-title function_">start</span>();
  <span class="hljs-comment">// ...æˆ˜æ–—é€»è¾‘</span>
}
</code></pre>
<p><strong>æ€§èƒ½ä¼˜åŒ–é»‘ç§‘æŠ€ï¼š</strong></p>
<ul>
<li><strong>åŠ¨æ€åˆ†è¾¨ç‡æ¸²æŸ“(DRR)</strong>ï¼šGPUå‹åŠ›&gt;70%æ—¶è‡ªåŠ¨é™ä½25%æ¸²æŸ“åˆ†è¾¨ç‡</li>
<li><strong>AIé¢„æµ‹æ€§åŠ è½½</strong>ï¼šåŸºäºç©å®¶åŠ¨çº¿é¢„åŠ è½½ä¸‹ä¸ªåŒºåŸŸçš„èµ„æº</li>
<li><strong>çƒ­åŠ›ç†”æ–­æœºåˆ¶</strong>ï¼šCPU/GPU/æ¸©åº¦ä¸‰è·¯ç›‘æ§ï¼Œè§¦å‘é˜ˆå€¼è‡ªåŠ¨é™çº§ç‰¹æ•ˆ</li>
</ul>
<hr/>
<p><strong>ğŸ“¡ <strong>3. gameNearbyTransferï¼šé›¶å»¶è¿Ÿè¿‘åœºå¿«ä¼ </strong></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç™¾å…†åœ°å›¾ç§’ä¼ å®ç°</span>
<span class="hljs-keyword">import</span> { gameNearbyTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.gameNearbyTransfer'</span>;

<span class="hljs-comment">// å»ºç«‹P2Pæ­»äº¡é€šé“</span>
<span class="hljs-keyword">const</span> transferManager = gameNearbyTransfer.<span class="hljs-title function_">createTransferManager</span>({
  <span class="hljs-attr">fileType</span>: gameNearbyTransfer.<span class="hljs-property">FileType</span>.<span class="hljs-property">MAP_DATA</span>,
  <span class="hljs-attr">strategy</span>: gameNearbyTransfer.<span class="hljs-property">TransferStrategy</span>.<span class="hljs-property">HIGH_SPEED</span>
});

<span class="hljs-comment">// å‘é€ç«¯ï¼ˆä¸»æœºï¼‰</span>
transferManager.<span class="hljs-title function_">sendFiles</span>([<span class="hljs-string">'/maps/desert_warzone.bin'</span>], {
  <span class="hljs-attr">onProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä¼ è¾“è¿›åº¦: <span class="hljs-subst">${progress}</span>%`</span>);
  },
  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    <span class="hljs-title function_">startMultiplayerGame</span>(file); <span class="hljs-comment">// æ¥æ”¶å®Œæˆåè‡ªåŠ¨å¼€æˆ˜</span>
  }
});

<span class="hljs-comment">// æ¥æ”¶ç«¯ï¼ˆåƒšæœºï¼‰</span>
transferManager.<span class="hljs-title function_">receiveFiles</span>({
  <span class="hljs-attr">onReceive</span>: <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åœ°å›¾æ¥æ”¶å®Œæˆ: <span class="hljs-subst">${file.fileName}</span>`</span>);
    <span class="hljs-comment">// ç›´æ¥è½½å…¥å†…å­˜é¿å…IOå»¶è¿Ÿ</span>
    <span class="hljs-title function_">loadMapFromMemory</span>(file.<span class="hljs-property">rawData</span>);
  }
});
</code></pre>
<p><strong>ä¼ è¾“åè®®è§£æï¼š</strong></p>
<ol>
<li><strong>Wi-Fi P2Pç›´è¿</strong>ï¼šè‡ªåŠ¨åˆ‡æ¢5GHzé¢‘æ®µï¼Œç†è®ºé€Ÿç‡867Mbps</li>
<li><strong>æ™ºèƒ½åˆ†åŒ…ç­–ç•¥</strong>ï¼šå¤§æ–‡ä»¶åˆ‡ç‰‡ä¼ è¾“ï¼Œæ–­ç‚¹ç»­ä¼ è¯¯å·®&lt;0.1%</li>
<li><strong>ArkTSå†…å­˜æ˜ å°„</strong>ï¼šæ¥æ”¶æ•°æ®ç›´è¯»å†…å­˜ï¼Œé¿å…äºŒæ¬¡æ‹·è´</li>
</ol>
<hr/>
<p><strong>ğŸš¨ <strong>4. ArkTSé”™è¯¯ç æˆ˜åœºç”Ÿå­˜æŒ‡å—</strong></strong>
<strong>å¸¸è§æ­»äº¡ä»£ç å¤„ç†æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ç æˆ˜æœ¯æ‰‹å†Œ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleGameError</span>(<span class="hljs-params">err: BusinessError, context: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">switch</span> (err.<span class="hljs-property">code</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1800001</span>: <span class="hljs-comment">// GAME_SERVICE_UNAVAILABLE</span>
      <span class="hljs-title function_">showToast</span>(<span class="hljs-string">'æ¸¸æˆæœåŠ¡æœªå¯åŠ¨ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥'</span>);
      <span class="hljs-title function_">retryAfter</span>(<span class="hljs-number">3000</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">1820003</span>: <span class="hljs-comment">// NEARBY_TRANSFER_DEVICE_NOT_FOUND</span>
      <span class="hljs-keyword">if</span> (context === <span class="hljs-string">'MULTIPLAYER'</span>) {
        <span class="hljs-title function_">restartBluetooth</span>();
      }
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">1810002</span>: <span class="hljs-comment">// ACHIEVEMENT_UNLOCK_FAILED</span>
      <span class="hljs-title function_">logToServer</span>(<span class="hljs-string">`æˆå°±è§£é”å¤±è´¥: <span class="hljs-subst">${err.message}</span>`</span>, <span class="hljs-string">'CRITICAL'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-attr">default</span>:
      <span class="hljs-comment">// è‡´å‘½é”™è¯¯ä¸ŠæŠ¥+ç©å®¶ä¿æŠ¤</span>
      crashReporter.<span class="hljs-title function_">log</span>(<span class="hljs-string">`CODE:<span class="hljs-subst">${err.code}</span> | CTX:<span class="hljs-subst">${context}</span>`</span>);
      <span class="hljs-title function_">safeExitGame</span>();
  }
}
</code></pre>
<p><strong>æ ¸å¿ƒé”™è¯¯ç é‡Šä¹‰ï¼š</strong></p>

























<table><thead><tr><th>é”™è¯¯ç </th><th>å¸¸é‡å®šä¹‰</th><th>æˆ˜åœºå¤„ç†æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>1800001</td><td>GAME_SERVICE_UNAVAILABLE</td><td>æ£€æŸ¥ç½‘ç»œ/HMS CoreæœåŠ¡çŠ¶æ€</td></tr><tr><td>1820005</td><td>TRANSFER_FILE_CORRUPTED</td><td>å¯ç”¨SHA256æ ¡éªŒé‡ä¼ </td></tr><tr><td>1810007</td><td>LEADERBOARD_SUBMIT_TIMEOUT</td><td>æœ¬åœ°ç¼“å­˜+åå°è‡ªåŠ¨é‡è¯•</td></tr></tbody></table>
<hr/>
<p><strong>ğŸ’£ <strong>Vå“¥çš„å®æˆ˜ç»éªŒå¼¹å¤¹</strong></strong></p>
<ol>
<li><strong>æ€§èƒ½ç›‘æ§æ­»äº¡é™·é˜±</strong>ï¼š
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šé«˜é¢‘é‡‡æ ·å¯¼è‡´æ€§èƒ½åå™¬</span>
gamePerformance.<span class="hljs-title function_">createMonitor</span>({ <span class="hljs-attr">samplingInterval</span>: <span class="hljs-number">10</span> }); <span class="hljs-comment">// 10msé‡‡æ ·=è‡ªæ€è¡Œä¸ºï¼</span>

<span class="hljs-comment">// æ­£ç¡®å§¿åŠ¿ï¼šåŠ¨æ€è°ƒæ•´é‡‡æ ·é¢‘ç‡</span>
<span class="hljs-keyword">const</span> dynamicInterval = isBattleIntensive ? <span class="hljs-number">500</span> : <span class="hljs-number">1000</span>;
</code></pre>
</li>
<li><strong>è¿‘åœºå¿«ä¼ çš„EMPæ”»å‡»é˜²å¾¡</strong>ï¼š
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯ç”¨é‡å­åŠ å¯†ä¼ è¾“ï¼ˆé¸¿è’™6.0ç‹¬æœ‰ï¼‰</span>
gameNearbyTransfer.<span class="hljs-title function_">setCipherSuite</span>(
  gameNearbyTransfer.<span class="hljs-property">CipherSuite</span>.<span class="hljs-property">HW_QUANTUM_128</span>
);
</code></pre>
</li>
<li><strong>æˆå°±ç³»ç»Ÿé˜²ç ´è§£æœºåˆ¶</strong>ï¼š
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æˆå°±éªŒè¯ä¸‰é‡é”</span>
gamePlayer.<span class="hljs-title function_">verifyAchievement</span>(<span class="hljs-string">'god_mode'</span>, {
  <span class="hljs-attr">antiCheatLevel</span>: <span class="hljs-string">'EXTREME'</span>,
  <span class="hljs-attr">cloudCheck</span>: <span class="hljs-literal">true</span>
});
</code></pre>
</li>
</ol>
<h2 data-id="heading-0"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adba6ecf618647a2aae7157f453cb2b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766121882&amp;x-signature=kNhjQiGYa%2FHPH462BZyfBm55SbI%3D" alt="å·äºŒ_å‰¯æœ¬2.jpg" loading="lazy"/></h2>
<p><strong><strong>ç»“è¯­ï¼šç”¨æœºå…³æªå†™ä»£ç çš„è‰ºæœ¯</strong></strong></p>
<p>åœ¨é¸¿è’™6.0çš„æ¸¸æˆæˆ˜åœºï¼ŒGame Service Kitå°±æ˜¯ä½ çš„æ ¸å¼¹å‘å°„äº•ã€‚gamePlayeræ„å»ºç©å®¶å…ƒå®‡å®™ï¼ŒgamePerformanceæ‰“é€ ä¸æ»‘æˆ˜åœºï¼ŒgameNearbyTransferå®ç°é—ªç”µååŒï¼Œè€Œç²¾å‡†çš„é”™è¯¯å¤„ç†â€”â€”æ˜¯ä½ åœ¨ä»£ç æˆ˜åœºä¸Šçš„é˜²å¼¹è¡£ã€‚è®°ä½ï¼šçœŸæ­£çš„æ¸¸æˆå¼€å‘è€…ï¼Œå·¦æ‰‹å†™ArkTSï¼Œå³æ‰‹æ¡çš„æ˜¯å†›åˆ€â€ã€‚é€šæœ¬æ–¹æ¡ˆçš„å®æˆ˜éªŒè¯ï¼Œç©å®¶ç•™å­˜æå‡40%ï¼Œå´©æºƒç‡é™è‡³0.03%ã€‚å…³æ³¨Vå“¥ï¼Œä¸€èµ·åœ¨é¸¿è’™çš„ä¸–ç•Œæ‰¬å¸†èµ·èˆªã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterè¾“å…¥æ¡†TextFieldçš„å±æ€§ä¸å®æˆ˜ç”¨æ³•å…¨é¢è§£æ+ç¤ºä¾‹]]></title>    <link>https://juejin.cn/post/7582808491582619684</link>    <guid>https://juejin.cn/post/7582808491582619684</guid>    <pubDate>2025-12-12T05:33:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491582619684" data-draft-id="7581117416811561003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterè¾“å…¥æ¡†TextFieldçš„å±æ€§ä¸å®æˆ˜ç”¨æ³•å…¨é¢è§£æ+ç¤ºä¾‹"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2025-12-12T05:33:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterè¾“å…¥æ¡†TextFieldçš„å±æ€§ä¸å®æˆ˜ç”¨æ³•å…¨é¢è§£æ+ç¤ºä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:33:04.000Z" title="Fri Dec 12 2025 05:33:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>åœ¨ Flutter å¼€å‘ä¸­ï¼Œè¾“å…¥æ¡†æ˜¯ä¸ç”¨æˆ·äº¤äº’çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œæ— è®ºæ˜¯ç™»å½•æ³¨å†Œã€æœç´¢æ¡†è¿˜æ˜¯è¡¨å•å¡«å†™ï¼Œéƒ½ç¦»ä¸å¼€ <code>TextField</code> æˆ–å…¶å°è£…ç»„ä»¶ <code>TextFormField</code>ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»è¾“å…¥æ¡†çš„<code>æ ¸å¿ƒå±æ€§</code>ã€<code>å¸¸ç”¨åŠŸèƒ½</code>åŠ<code>å®æˆ˜ç”¨æ³•</code>ï¼Œé¢„è®¡é˜…è¯»æ—¶é—´<code>5</code>åˆ†é’Ÿï¼Œä¸‹é¢å¼€å§‹å§~</p>
<h2 data-id="heading-0">1. åŸºç¡€æ¦‚å¿µ</h2>
<p>Flutter æä¾›äº†ä¸¤ä¸ªä¸»è¦çš„è¾“å…¥æ¡†ç»„ä»¶ï¼š</p>
<ul>
<li><strong>TextField</strong>ï¼šåŸºç¡€è¾“å…¥æ¡†ç»„ä»¶ï¼Œæä¾›åŸºæœ¬çš„æ–‡æœ¬è¾“å…¥åŠŸèƒ½ã€‚</li>
<li><strong>TextFormField</strong>ï¼šç»§æ‰¿è‡ª <code>TextField</code>ï¼Œå¢åŠ äº†è¡¨å•éªŒè¯ã€è‡ªåŠ¨ä¿å­˜ç­‰åŠŸèƒ½ï¼Œé€‚åˆåœ¨ <code>Form</code> ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</li>
</ul>
<p>ä¸¤è€…æ ¸å¿ƒå±æ€§åŸºæœ¬ä¸€è‡´ï¼Œæœ¬æ–‡ä»¥ <code>TextField</code> ä¸ºä¾‹è®²è§£ï¼Œå·®å¼‚éƒ¨åˆ†ä¼šå•ç‹¬è¯´æ˜ã€‚</p>
<h2 data-id="heading-1">2. æ ¸å¿ƒå±æ€§è¯¦è§£</h2>
<p>æ ¸å¿ƒå±æ€§çš„è¯¦è§£ï¼Œæˆ‘ä¼šæŒ‰ç…§åˆ†ç±»å½’çº³ï¼Œå¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">2.1. åŸºæœ¬é…ç½®</h3>




























































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>controller</code></td><td><code>TextEditingController</code></td><td>æ§åˆ¶è¾“å…¥æ¡†æ–‡æœ¬ï¼ˆè·å–ã€è®¾ç½®ã€ç›‘å¬æ–‡æœ¬å˜åŒ–ï¼‰</td></tr><tr><td><code>keyboardType</code></td><td><code>TextInputType</code></td><td>é”®ç›˜ç±»å‹ï¼ˆå¦‚æ•°å­—ã€é‚®ç®±ã€æ‰‹æœºå·ç­‰ï¼‰</td></tr><tr><td><code>textInputAction</code></td><td><code>TextInputAction</code></td><td>é”®ç›˜åŠ¨ä½œæŒ‰é’®ï¼ˆå¦‚å®Œæˆã€ä¸‹ä¸€æ­¥ã€æœç´¢ï¼‰</td></tr><tr><td><code>obscureText</code></td><td><code>bool</code></td><td>æ˜¯å¦éšè—è¾“å…¥å†…å®¹ï¼ˆå¯†ç æ¡†å¸¸ç”¨ï¼‰</td></tr><tr><td><code>maxLines</code></td><td><code>int</code></td><td>æœ€å¤§è¡Œæ•°ï¼ˆå•è¡Œè¾“å…¥è®¾ä¸º 1ï¼Œå¤šè¡Œè®¾ä¸º null æˆ–æ›´å¤§å€¼ï¼‰</td></tr><tr><td><code>minLines</code></td><td><code>int</code></td><td>æœ€å°è¡Œæ•°</td></tr><tr><td><code>maxLength</code></td><td><code>int</code></td><td>æœ€å¤§è¾“å…¥é•¿åº¦ï¼ˆä¼šæ˜¾ç¤ºè®¡æ•°å™¨ï¼‰</td></tr><tr><td><code>maxLengthEnforcement</code></td><td><code>MaxLengthEnforcement</code></td><td>è¶…å‡ºé•¿åº¦æ—¶çš„å¤„ç†æ–¹å¼ï¼ˆæˆªæ–­/ç¦æ­¢è¾“å…¥ï¼‰</td></tr><tr><td><code>scrollPhysics</code></td><td><code>ScrollPhysics</code></td><td>è¾“å…¥æ¡†å†…å®¹æ»šåŠ¨æ—¶çš„ç‰©ç†æ•ˆæœï¼ˆå¦‚ç¦æ­¢æ»šåŠ¨ã€æ€»æ˜¯å¯æ»šåŠ¨ç­‰ï¼‰</td></tr><tr><td><code>textCapitalization</code></td><td><code>TextCapitalization</code></td><td>è‡ªåŠ¨å¤§å†™è§„åˆ™ï¼ˆå¦‚å¥å­é¦–å­—æ¯å¤§å†™ã€æ‰€æœ‰å­—æ¯å¤§å†™ç­‰ï¼‰</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼šåŸºç¡€é…ç½®</strong></p>
<pre><code class="hljs language-dart" lang="dart">TextField(
  controller: _controller, <span class="hljs-comment">// ç»‘å®šæ§åˆ¶å™¨</span>
  keyboardType: TextInputType.number, <span class="hljs-comment">// æ•°å­—é”®ç›˜</span>
  textInputAction: TextInputAction.done, <span class="hljs-comment">// é”®ç›˜æŒ‰é’®ä¸º"å®Œæˆ"</span>
  obscureText: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// ä¸éšè—æ–‡æœ¬</span>
  maxLines: <span class="hljs-number">1</span>, <span class="hljs-comment">// å•è¡Œè¾“å…¥</span>
  maxLength: <span class="hljs-number">11</span>, <span class="hljs-comment">// æœ€å¤§é•¿åº¦11ï¼ˆå¦‚æ‰‹æœºå·ï¼‰</span>
  <span class="hljs-comment">// å¤šè¡Œè¾“å…¥æ—¶ç¦æ­¢æ»šåŠ¨ï¼ˆå†…å®¹è¶…å‡ºæ—¶ä¹Ÿä¸æ»šåŠ¨ï¼‰</span>
  scrollPhysics: NeverScrollableScrollPhysics(),
  <span class="hljs-comment">// å¥å­é¦–å­—æ¯è‡ªåŠ¨å¤§å†™ï¼ˆé€‚åˆè‹±æ–‡è¾“å…¥ï¼‰</span>
  textCapitalization: TextCapitalization.sentences,
  ç•¥......
)
</code></pre>
<h3 data-id="heading-3">2.2. æ ·å¼é…ç½®</h3>




























































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>style</code></td><td><code>TextStyle</code></td><td>è¾“å…¥æ–‡æœ¬çš„æ ·å¼ï¼ˆå­—ä½“ã€å¤§å°ã€é¢œè‰²ç­‰ï¼‰</td></tr><tr><td><code>decoration</code></td><td><code>InputDecoration</code></td><td>è¾“å…¥æ¡†è£…é¥°ï¼ˆè¾¹æ¡†ã€æç¤ºæ–‡æœ¬ã€å›¾æ ‡ç­‰ï¼‰</td></tr><tr><td><code>cursorColor</code></td><td><code>Color</code></td><td>å…‰æ ‡é¢œè‰²</td></tr><tr><td><code>cursorWidth</code></td><td><code>double</code></td><td>å…‰æ ‡å®½åº¦</td></tr><tr><td><code>cursorHeight</code></td><td><code>double</code></td><td>å…‰æ ‡é«˜åº¦</td></tr><tr><td><code>textAlign</code></td><td><code>TextAlign</code></td><td>æ–‡æœ¬å¯¹é½æ–¹å¼ï¼ˆå·¦ã€ä¸­ã€å³ï¼‰</td></tr><tr><td><code>textDirection</code></td><td><code>TextDirection</code></td><td>æ–‡æœ¬æ–¹å‘ï¼ˆä»å·¦åˆ°å³/ä»å³åˆ°å·¦ï¼‰</td></tr><tr><td><code>strutStyle</code></td><td><code>StrutStyle</code></td><td>æ§åˆ¶æ–‡æœ¬çš„åŸºçº¿å¯¹é½ï¼ˆè§£å†³ä¸åŒå­—ä½“å¤§å°å¯¼è‡´çš„å¯¹é½é—®é¢˜ï¼‰</td></tr><tr><td><code>toolbarOptions</code></td><td><code>ToolbarOptions</code></td><td>é•¿æŒ‰æ–‡æœ¬æ—¶æ˜¾ç¤ºçš„å·¥å…·æ é€‰é¡¹ï¼ˆå¦‚å¤åˆ¶ã€ç²˜è´´ã€å‰ªåˆ‡ï¼‰</td></tr><tr><td><code>selectionControls</code></td><td><code>TextSelectionControls</code></td><td>è‡ªå®šä¹‰æ–‡æœ¬é€‰æ‹©æ§ä»¶ï¼ˆå¦‚æ›¿æ¢ç³»ç»Ÿé»˜è®¤çš„å¤åˆ¶ç²˜è´´å·¥å…·æ ï¼‰</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼šè‡ªå®šä¹‰æ ·å¼</strong></p>
<pre><code class="hljs language-dart" lang="dart">TextField(
  style: TextStyle(
    fontSize: <span class="hljs-number">16</span>,
    color: Colors.black87,
  ),
  cursorColor: Colors.blue,
  cursorWidth: <span class="hljs-number">2</span>,
  textAlign: TextAlign.start,
  decoration: InputDecoration(
    hintText: <span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>, <span class="hljs-comment">// æç¤ºæ–‡æœ¬</span>
    hintStyle: TextStyle(color: Colors.grey), <span class="hljs-comment">// æç¤ºæ–‡æœ¬æ ·å¼</span>
    prefixIcon: Icon(Icons.person), <span class="hljs-comment">// å·¦ä¾§å›¾æ ‡</span>
    border: OutlineInputBorder( <span class="hljs-comment">// è¾¹æ¡†æ ·å¼</span>
      borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>),
    ),
    contentPadding: EdgeInsets.symmetric(vertical: <span class="hljs-number">12</span>, horizontal: <span class="hljs-number">16</span>), <span class="hljs-comment">// å†…è¾¹è·</span>
  ),
  <span class="hljs-comment">// ä»…å…è®¸å¤åˆ¶å’Œç²˜è´´æ“ä½œï¼ˆç¦ç”¨å‰ªåˆ‡ï¼‰</span>
  toolbarOptions: ToolbarOptions(
    copy: <span class="hljs-keyword">true</span>,
    paste: <span class="hljs-keyword">true</span>,
    cut: <span class="hljs-keyword">false</span>,
  ),
  <span class="hljs-comment">// è‡ªå®šä¹‰é€‰æ‹©æ§ä»¶ï¼ˆéœ€å®ç°TextSelectionControlsï¼‰</span>
  <span class="hljs-comment">// selectionControls: CustomSelectionControls(),</span>
  ç•¥......
)
</code></pre>
<h3 data-id="heading-4">2.3. äº¤äº’æ§åˆ¶</h3>

































































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>enabled</code></td><td><code>bool</code></td><td>æ˜¯å¦å¯ç”¨è¾“å…¥æ¡†ï¼ˆfalse æ—¶ç¦ç”¨ï¼Œä¸å¯è¾“å…¥ï¼‰</td></tr><tr><td><code>readOnly</code></td><td><code>bool</code></td><td>æ˜¯å¦åªè¯»ï¼ˆå¯ç‚¹å‡»ä½†ä¸å¯ç¼–è¾‘ï¼ŒåŒºåˆ«äºç¦ç”¨ï¼‰</td></tr><tr><td><code>autofocus</code></td><td><code>bool</code></td><td>æ˜¯å¦è‡ªåŠ¨è·å–ç„¦ç‚¹</td></tr><tr><td><code>focusNode</code></td><td><code>FocusNode</code></td><td>ç„¦ç‚¹æ§åˆ¶å™¨ï¼ˆæ‰‹åŠ¨ç®¡ç†ç„¦ç‚¹çŠ¶æ€ï¼‰</td></tr><tr><td><code>onChanged</code></td><td><code>Function(String)</code></td><td>æ–‡æœ¬å˜åŒ–æ—¶è§¦å‘ï¼ˆå®æ—¶ç›‘å¬è¾“å…¥ï¼‰</td></tr><tr><td><code>onSubmitted</code></td><td><code>Function(String)</code></td><td>ç‚¹å‡»é”®ç›˜åŠ¨ä½œæŒ‰é’®æ—¶è§¦å‘ï¼ˆå¦‚ç‚¹å‡»"å®Œæˆ"ï¼‰</td></tr><tr><td><code>onTap</code></td><td><code>Function()</code></td><td>ç‚¹å‡»è¾“å…¥æ¡†æ—¶è§¦å‘</td></tr><tr><td><code>inputFormatters</code></td><td><code>List&lt;TextInputFormatter&gt;</code></td><td>è¾“å…¥æ ¼å¼åŒ–ï¼ˆé™åˆ¶è¾“å…¥å†…å®¹ï¼Œå¦‚åªå…è®¸æ•°å­—ï¼‰</td></tr><tr><td><code>onEditingComplete</code></td><td><code>VoidCallback</code></td><td>ç¼–è¾‘å®Œæˆæ—¶è§¦å‘ï¼ˆåŒºåˆ«äº<code>onSubmitted</code>ï¼Œä¸æ¥æ”¶æ–‡æœ¬å‚æ•°ï¼‰</td></tr><tr><td><code>onAppPrivateCommand</code></td><td><code>Function(String, Map&lt;String, dynamic&gt;)</code></td><td>å¤„ç†ç§æœ‰å‘½ä»¤ï¼ˆé€šå¸¸ç”¨äºåŸç”Ÿä¸Flutteräº¤äº’æ—¶ä¼ é€’æŒ‡ä»¤ï¼‰</td></tr><tr><td><code>enableIMEPersonalizedLearning</code></td><td><code>bool</code></td><td>æ˜¯å¦å…è®¸è¾“å…¥æ³•ä¸ªæ€§åŒ–å­¦ä¹ è¾“å…¥å†…å®¹ï¼ˆé»˜è®¤trueï¼‰</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart">TextField(
  enabled: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// å¯ç”¨è¾“å…¥</span>
  readOnly: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// å¯ç¼–è¾‘</span>
  autofocus: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// è‡ªåŠ¨èšç„¦</span>
  onChanged: (value) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¾“å…¥å˜åŒ–ï¼š<span class="hljs-subst">$value</span>"</span>); <span class="hljs-comment">// å®æ—¶ç›‘å¬</span>
  },
  onSubmitted: (value) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æäº¤å†…å®¹ï¼š<span class="hljs-subst">$value</span>"</span>); <span class="hljs-comment">// ç‚¹å‡»å®Œæˆæ—¶è§¦å‘</span>
  },
  <span class="hljs-comment">// ç¼–è¾‘å®Œæˆæ—¶è§¦å‘ï¼ˆå¦‚æ‰‹åŠ¨è°ƒç”¨_controller.textåï¼‰</span>
  onEditingComplete: () {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¼–è¾‘å·²å®Œæˆ"</span>);
    <span class="hljs-comment">// é€šå¸¸é…åˆç„¦ç‚¹ç®¡ç†ï¼Œå¦‚åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¾“å…¥æ¡†</span>
    FocusScope.of(context).nextFocus();
  },
  <span class="hljs-comment">// ç¦ç”¨è¾“å…¥æ³•ä¸ªæ€§åŒ–å­¦ä¹ ï¼ˆé€‚ç”¨äºæ•æ„Ÿè¾“å…¥åœºæ™¯ï¼‰</span>
  enableIMEPersonalizedLearning: <span class="hljs-keyword">false</span>,
  inputFormatters: [
    FilteringTextInputFormatter.digitsOnly, <span class="hljs-comment">// åªå…è®¸è¾“å…¥æ•°å­—</span>
  ],
  ç•¥......
)
</code></pre>
<h4 data-id="heading-5">ç„¦ç‚¹ç®¡ç†</h4>
<p><code>FocusNode</code> ç”¨äºæ‰‹åŠ¨æ§åˆ¶è¾“å…¥æ¡†çš„ç„¦ç‚¹çŠ¶æ€ï¼Œå¸¸è§åœºæ™¯åŒ…æ‹¬ï¼šåˆ‡æ¢è¾“å…¥æ¡†ç„¦ç‚¹ã€ç›‘å¬ç„¦ç‚¹å˜åŒ–ã€å¼ºåˆ¶è·å–/å¤±å»ç„¦ç‚¹ç­‰ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. åˆå§‹åŒ–ç„¦ç‚¹èŠ‚ç‚¹</span>
<span class="hljs-keyword">final</span> FocusNode _usernameFocus = FocusNode();
<span class="hljs-keyword">final</span> FocusNode _passwordFocus = FocusNode();

<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> dispose() {
  <span class="hljs-comment">// é”€æ¯ç„¦ç‚¹èŠ‚ç‚¹ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
  _usernameFocus.dispose();
  _passwordFocus.dispose();
  <span class="hljs-keyword">super</span>.dispose();
}

<span class="hljs-comment">// 2. ç›‘å¬ç„¦ç‚¹å˜åŒ–</span>
<span class="hljs-keyword">void</span> initState() {
  <span class="hljs-keyword">super</span>.initState();
  _usernameFocus.addListener(() {
    <span class="hljs-keyword">if</span> (_usernameFocus.hasFocus) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨æˆ·åè¾“å…¥æ¡†è·å–ç„¦ç‚¹"</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨æˆ·åè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹"</span>);
    }
  });
}

<span class="hljs-comment">// 3. ç»„ä»¶ä¸­ä½¿ç”¨</span>
Column(
  children: [
    TextField(
      focusNode: _usernameFocus,
      decoration: InputDecoration(hintText: <span class="hljs-string">"ç”¨æˆ·å"</span>),
      textInputAction: TextInputAction.next, <span class="hljs-comment">// é”®ç›˜æ˜¾ç¤º"ä¸‹ä¸€æ­¥"</span>
      onSubmitted: (_) {
        <span class="hljs-comment">// ç‚¹å‡»ä¸‹ä¸€æ­¥æ—¶ï¼Œå°†ç„¦ç‚¹åˆ‡æ¢åˆ°å¯†ç æ¡†</span>
        FocusScope.of(context).requestFocus(_passwordFocus);
      },
    ),
    TextField(
      focusNode: _passwordFocus,
      decoration: InputDecoration(hintText: <span class="hljs-string">"å¯†ç "</span>),
      obscureText: <span class="hljs-keyword">true</span>,
    ),
    ElevatedButton(
      onPressed: () {
        <span class="hljs-comment">// æ‰‹åŠ¨è®©å¯†ç æ¡†è·å–ç„¦ç‚¹</span>
        FocusScope.of(context).requestFocus(_passwordFocus);
        <span class="hljs-comment">// æˆ–æ‰‹åŠ¨å¤±å»æ‰€æœ‰ç„¦ç‚¹ï¼ˆæ”¶èµ·é”®ç›˜ï¼‰</span>
        <span class="hljs-comment">// FocusScope.of(context).unfocus();</span>
      },
      child: Text(<span class="hljs-string">"æ“ä½œç„¦ç‚¹"</span>),
    ),
  ],
)
</code></pre>
<h3 data-id="heading-6">2.4. å…¶ä»–å®ç”¨å±æ€§</h3>


















































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>autocorrect</code></td><td><code>bool</code></td><td>æ˜¯å¦å¯ç”¨è‡ªåŠ¨çº é”™ï¼ˆé»˜è®¤ trueï¼‰</td></tr><tr><td><code>autocompleteMode</code></td><td><code>AutocompleteMode</code></td><td>è‡ªåŠ¨å®Œæˆæ¨¡å¼ï¼ˆå¦‚å…³é—­ã€ç”¨æˆ·åã€é‚®ç®±ç­‰ï¼‰</td></tr><tr><td><code>scrollPadding</code></td><td><code>EdgeInsets</code></td><td>æ»šåŠ¨æ—¶çš„å†…è¾¹è·ï¼ˆé¿å…è¢«é”®ç›˜é®æŒ¡ï¼‰</td></tr><tr><td><code>enableInteractiveSelection</code></td><td><code>bool</code></td><td>æ˜¯å¦å…è®¸é•¿æŒ‰é€‰ä¸­æ–‡æœ¬ï¼ˆé»˜è®¤ trueï¼‰</td></tr><tr><td><code>mouseCursor</code></td><td><code>MouseCursor</code></td><td>é¼ æ ‡æ‚¬åœæ—¶çš„å…‰æ ‡æ ·å¼ï¼ˆæ¡Œé¢ç«¯å¼€å‘å¸¸ç”¨ï¼‰</td></tr><tr><td><code>clipBehavior</code></td><td><code>Clip</code></td><td>å†…å®¹è¶…å‡ºè¾“å…¥æ¡†æ—¶çš„è£å‰ªæ–¹å¼ï¼ˆå¦‚<code>Clip.none</code>ä¸è£å‰ªï¼‰</td></tr><tr><td><code>restorationId</code></td><td><code>String</code></td><td>ç”¨äºçŠ¶æ€æ¢å¤ï¼ˆé…åˆ<code>RestorationMixin</code>ä¿å­˜/æ¢å¤è¾“å…¥çŠ¶æ€ï¼‰</td></tr><tr><td><code>scribbleEnabled</code></td><td><code>bool</code></td><td>æ˜¯å¦å¯ç”¨æ‰‹å†™è¾“å…¥ï¼ˆiPadç­‰æ”¯æŒApple Pencilçš„è®¾å¤‡ï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-dart" lang="dart">TextField(
  <span class="hljs-comment">// æ¡Œé¢ç«¯é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ–‡æœ¬è¾“å…¥å…‰æ ‡</span>
  mouseCursor: SystemMouseCursors.text,
  <span class="hljs-comment">// å†…å®¹è¶…å‡ºæ—¶ä¸è£å‰ªï¼ˆå¯èƒ½å¯¼è‡´UIæº¢å‡ºï¼Œè°¨æ…ä½¿ç”¨ï¼‰</span>
  clipBehavior: Clip.none,
  <span class="hljs-comment">// å¯ç”¨æ‰‹å†™è¾“å…¥ï¼ˆiPadåœºæ™¯ï¼‰</span>
  scribbleEnabled: <span class="hljs-keyword">true</span>,
  ç•¥......
)
</code></pre>
<h2 data-id="heading-7">3. æ§åˆ¶å™¨TextEditingControllerçš„ä½¿ç”¨</h2>
<p><code>TextEditingController</code> æ˜¯æ§åˆ¶è¾“å…¥æ¡†æ–‡æœ¬çš„æ ¸å¿ƒå·¥å…·ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-8">3.1. è·å–è¾“å…¥æ–‡æœ¬</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åˆå§‹åŒ–æ§åˆ¶å™¨</span>
<span class="hljs-keyword">final</span> TextEditingController _controller = TextEditingController();

<span class="hljs-comment">// è·å–æ–‡æœ¬ï¼ˆé€šå¸¸åœ¨æŒ‰é’®ç‚¹å‡»ç­‰äº‹ä»¶ä¸­è°ƒç”¨ï¼‰</span>
ElevatedButton(
  onPressed: () {
    <span class="hljs-built_in">String</span> inputText = _controller.text;
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨æˆ·è¾“å…¥ï¼š<span class="hljs-subst">$inputText</span>"</span>);
  },
  child: Text(<span class="hljs-string">"è·å–è¾“å…¥"</span>),
)

<span class="hljs-comment">// ç»„ä»¶ä¸­ç»‘å®š</span>
TextField(controller: _controller)
</code></pre>
<h3 data-id="heading-9">3.2. è®¾ç½®æ–‡æœ¬å†…å®¹</h3>
<pre><code class="hljs language-dart" lang="dart">ElevatedButton(
  onPressed: () {
    <span class="hljs-comment">// ç›´æ¥è®¾ç½®æ–‡æœ¬</span>
    _controller.text = <span class="hljs-string">"é»˜è®¤æ–‡æœ¬"</span>;
  },
  child: Text(<span class="hljs-string">"è®¾ç½®é»˜è®¤å€¼"</span>),
)
</code></pre>
<h3 data-id="heading-10">3.3. æ¸…ç©ºæ–‡æœ¬</h3>
<pre><code class="hljs language-dart" lang="dart">ElevatedButton(
  onPressed: () {
    <span class="hljs-comment">// æ¸…ç©ºè¾“å…¥æ¡†</span>
    _controller.clear();
  },
  child: Text(<span class="hljs-string">"æ¸…ç©ºè¾“å…¥"</span>),
)
</code></pre>
<h3 data-id="heading-11">3.4. ç›‘å¬æ–‡æœ¬å˜åŒ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> initState() {
  <span class="hljs-keyword">super</span>.initState();
  <span class="hljs-comment">// ç›‘å¬æ–‡æœ¬å˜åŒ–ï¼ˆå®æ—¶å“åº”è¾“å…¥ï¼‰</span>
  _controller.addListener(() {
    <span class="hljs-built_in">String</span> currentText = _controller.text;
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å½“å‰è¾“å…¥ï¼š<span class="hljs-subst">$currentText</span>"</span>);
    <span class="hljs-comment">// å¯åœ¨è¿™é‡Œå®ç°å®æ—¶éªŒè¯ï¼Œå¦‚è¾“å…¥é•¿åº¦åˆ¤æ–­</span>
    <span class="hljs-keyword">if</span> (currentText.length &gt; <span class="hljs-number">5</span>) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¾“å…¥é•¿åº¦è¶…è¿‡5ä¸ªå­—ç¬¦"</span>);
    }
  });
}

<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> dispose() {
  <span class="hljs-comment">// é”€æ¯æ§åˆ¶å™¨ï¼ˆå¿…é¡»è°ƒç”¨ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
  _controller.dispose();
  <span class="hljs-keyword">super</span>.dispose();
}
</code></pre>
<h3 data-id="heading-12">3.5. æ§åˆ¶å…‰æ ‡ä½ç½®</h3>
<pre><code class="hljs language-dart" lang="dart">ElevatedButton(
  onPressed: () {
    <span class="hljs-comment">// å°†å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æœ¬æœ«å°¾</span>
    _controller.selection = TextSelection.fromPosition(
      TextPosition(offset: _controller.text.length),
    );
  },
  child: Text(<span class="hljs-string">"å…‰æ ‡ç§»è‡³æœ«å°¾"</span>),
)
</code></pre>
<h2 data-id="heading-13">4. TextFormFieldä¸è¡¨å•éªŒè¯</h2>
<p><code>TextFormField</code> ç”¨äº <code>Form</code> ç»„ä»¶ä¸­ï¼Œæ”¯æŒè¡¨å•éªŒè¯ï¼Œæ ¸å¿ƒå±æ€§å¢åŠ äº† <code>validator</code>ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">Form(
  key: _formKey, <span class="hljs-comment">// è¡¨å•keyï¼Œç”¨äºè§¦å‘éªŒè¯</span>
  child: Column(
    children: [
      TextFormField(
        decoration: InputDecoration(hintText: <span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±"</span>),
        keyboardType: TextInputType.emailAddress,
        <span class="hljs-comment">// éªŒè¯é€»è¾‘</span>
        validator: (value) {
          <span class="hljs-keyword">if</span> (value == <span class="hljs-keyword">null</span> || value.isEmpty) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±"</span>;
          }
          <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">RegExp</span>(<span class="hljs-string">r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$'</span>).hasMatch(value)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼"</span>;
          }
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>; <span class="hljs-comment">// éªŒè¯é€šè¿‡</span>
        },
      ),
      ElevatedButton(
        onPressed: () {
          <span class="hljs-comment">// è§¦å‘è¡¨å•éªŒè¯</span>
          <span class="hljs-keyword">if</span> (_formKey.currentState!.validate()) {
            <span class="hljs-comment">// éªŒè¯é€šè¿‡ï¼Œæ‰§è¡Œæäº¤é€»è¾‘</span>
            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(content: Text(<span class="hljs-string">"æäº¤æˆåŠŸ"</span>)),
            );
          }
        },
        child: Text(<span class="hljs-string">"æäº¤"</span>),
      ),
    ],
  ),
)
</code></pre>
<h2 data-id="heading-14">5. å®æˆ˜æŠ€å·§</h2>
<ol>
<li>
<p><strong>è§£å†³é”®ç›˜é®æŒ¡é—®é¢˜</strong>ï¼š</p>
<ul>
<li>åœ¨ <code>Scaffold</code> ä¸­è®¾ç½® <code>resizeToAvoidBottomInset: true</code>ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œé”®ç›˜å¼¹å‡ºæ—¶è‡ªåŠ¨è°ƒæ•´å¸ƒå±€ã€‚</li>
<li>ç»“åˆ <code>SingleChildScrollView</code> ç­‰æ»‘åŠ¨ç»„ä»¶åŒ…è£¹èµ·æ¥ï¼Œä½¿é¡µé¢å¯æ»šåŠ¨ã€‚</li>
<li>è§£å†³é”®ç›˜å¼¹å‡ºä¼šé®æŒ¡è¾“å…¥æ¡†çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fpdd11997110103%2Farticle%2Fdetails%2F149609237" target="_blank" title="https://blog.csdn.net/pdd11997110103/article/details/149609237" ref="nofollow noopener noreferrer">ä¼ é€é—¨</a></li>
</ul>
</li>
<li>
<p><strong>è‡ªå®šä¹‰è¾“å…¥æ¡†æ ·å¼</strong>ï¼š</p>
<ul>
<li>é€šè¿‡ <code>InputDecoration</code> çš„ <code>border</code>ã€<code>focusedBorder</code>ã€<code>enabledBorder</code> åŒºåˆ†ä¸åŒçŠ¶æ€çš„è¾¹æ¡†æ ·å¼ã€‚</li>
<li>ç¤ºä¾‹ï¼šèšç„¦æ—¶æ˜¾ç¤ºè“è‰²è¾¹æ¡†ï¼Œæœªèšç„¦æ—¶æ˜¾ç¤ºç°è‰²è¾¹æ¡†ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯†ç æ¡†åˆ‡æ¢æ˜¾ç¤º/éšè—</strong>ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">   <span class="hljs-built_in">bool</span> _obscureText = <span class="hljs-keyword">true</span>;

   TextField(
     obscureText: _obscureText,
     decoration: InputDecoration(
       suffixIcon: IconButton(
         icon: Icon(
           _obscureText ? Icons.visibility : Icons.visibility_off,
         ),
         onPressed: () {
           setState(() {
             _obscureText = !_obscureText;
           });
         },
       ),
     ),
   )
</code></pre>
<ol start="4">
<li><strong>é™åˆ¶è¾“å…¥ç±»å‹</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>inputFormatters</code> é…åˆ <code>FilteringTextInputFormatter</code> é™åˆ¶è¾“å…¥ï¼ˆå¦‚æ•°å­—ã€å­—æ¯ã€ç¦æ­¢è¡¨æƒ…ç­‰ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-15">6. æ€»ç»“</h2>
<p><code>TextField</code> å’Œ <code>TextFormField</code> æ˜¯ Flutter ä¸­å¤„ç†æ–‡æœ¬è¾“å…¥çš„æ ¸å¿ƒç»„ä»¶ï¼Œé€šè¿‡ <code>TextEditingController</code> å¯çµæ´»æ§åˆ¶æ–‡æœ¬å†…å®¹ï¼Œé€šè¿‡ <code>FocusNode</code> å¯ç²¾å‡†ç®¡ç†ç„¦ç‚¹çŠ¶æ€ã€‚æŒæ¡è¾“å…¥æ¡†çš„æ ·å¼å®šåˆ¶ã€æ–‡æœ¬æ§åˆ¶ã€ç„¦ç‚¹ç®¡ç†å’Œè¡¨å•éªŒè¯ï¼Œèƒ½æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒã€‚å®é™…å¼€å‘ä¸­ï¼Œéœ€æ³¨æ„æ§åˆ¶å™¨å’Œç„¦ç‚¹èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆåŠæ—¶é”€æ¯ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼‰ï¼Œå¹¶æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„ç»„ä»¶é…ç½®ã€‚</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7580389111921786943" target="_blank" title="https://juejin.cn/post/7580389111921786943">flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7579101504289882166" target="_blank" title="https://juejin.cn/post/7579101504289882166">flutter-ä½¿ç”¨url_launcheræ‰“å¼€é“¾æ¥/åº”ç”¨/çŸ­ä¿¡/é‚®ä»¶å’Œè¯„åˆ†è·³è½¬ç­‰</a></li>
<li><a href="https://juejin.cn/post/7570923924365230143" target="_blank" title="https://juejin.cn/post/7570923924365230143">flutterå›¾ç‰‡é€‰æ‹©åº“multi_image_picker_pluså’Œimage_pickerçš„å¯¹æ¯”å’Œä½¿ç”¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7568136081302978623" target="_blank" title="https://juejin.cn/post/7568136081302978623">è§£é”flutterå¼¹çª—æ–°å§¿åŠ¿ï¼šdialog-flutter_smart_dialogæ’ä»¶è§£è¯»+æ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7559089440901545999" target="_blank" title="https://juejin.cn/post/7559089440901545999">flutter-åˆ‡æ¢çŠ¶æ€æ˜¾ç¤ºä¸åŒç»„ä»¶10ç§å®ç°æ–¹æ¡ˆå…¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7555079970491318308" target="_blank" title="https://juejin.cn/post/7555079970491318308">flutter-è¯¦è§£æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºçš„ä¸¤ç§æ–¹å¼Offstageä¸Visibility</a></li>
<li><a href="https://juejin.cn/post/7535358416182788122" target="_blank" title="https://juejin.cn/post/7535358416182788122">flutter-ä½¿ç”¨AnimatedDefaultTextStyleå®ç°æ–‡æœ¬åŠ¨ç”»</a></li>
<li><a href="https://juejin.cn/post/7537339432291434496" target="_blank" title="https://juejin.cn/post/7537339432291434496">flutter-ä½¿ç”¨SafeAreaç»„ä»¶å¤„ç†å„æœºå‹çš„å®‰å…¨è·ç¦»</a></li>
<li><a href="https://juejin.cn/spost/7537593417099149321" target="_blank" title="https://juejin.cn/spost/7537593417099149321">flutter-å®ç°æ¸å˜è‰²è¾¹æ¡†èƒŒæ™¯ä»¥åŠæ¸å˜è‰²æ–‡å­—</a></li>
<li><a href="https://juejin.cn/post/7543474419240370185" target="_blank" title="https://juejin.cn/post/7543474419240370185">flutter-ä½¿ç”¨confettiåˆ¶ä½œç‚«é…·çº¸å±‘çˆ†ç‚¸ç²’å­åŠ¨ç”»</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬3è¯¾ï¼šç”¨LangChainå¼€å‘ä¸€ä¸ªåšé¢˜Agentï¼‰]]></title>    <link>https://juejin.cn/post/7582553782398058542</link>    <guid>https://juejin.cn/post/7582553782398058542</guid>    <pubDate>2025-12-12T05:34:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582553782398058542" data-draft-id="7582149417768337458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬3è¯¾ï¼šç”¨LangChainå¼€å‘ä¸€ä¸ªåšé¢˜Agentï¼‰"/> <meta itemprop="keywords" content="LangChain,Agent,LLM"/> <meta itemprop="datePublished" content="2025-12-12T05:34:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬3è¯¾ï¼šç”¨LangChainå¼€å‘ä¸€ä¸ªåšé¢˜Agentï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:34:33.000Z" title="Fri Dec 12 2025 05:34:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>ä»Šå¤©è®²ç¬¬3è¯¾ï¼Œç”¨ä¸€ä¸ªåšAgentçš„ç»å…¸æ¡†æ¶â€”â€”LangChainï¼Œå¼€å‘ä¸€ä¸ªåšæ•°å­¦é¢˜çš„Agentã€‚</p>
<p>LangChainæ˜¯éå¸¸å¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹åº”ç”¨å¼€å‘åº“ï¼ŒåšAgentå¾ˆæ–¹ä¾¿ï¼Œå¯èƒ½å¤§å®¶ä¹Ÿå¾ˆç†Ÿæ‚‰ï¼Œä½†LangChainæœ€å¤§çš„é—®é¢˜æ˜¯ç‰ˆæœ¬å’Œç‰ˆæœ¬ä¹‹é—´å˜åŒ–å¤ªå¿«ï¼Œå°¤å…¶ç°åœ¨ç»ˆäºåˆ°äº†1.0.0ï¼Œä¸æ—§ç‰ˆæ¯”è¾ƒï¼Œç±»åº“ç»“æ„å·²é¢ç›®å…¨éï¼Œå¯èƒ½è¿˜è¦é‡æ–°ç†Ÿæ‚‰ã€‚æœ¬è¯¾æ˜¯é’ˆå¯¹LangChianæœ€æ–°ç‰ˆV1.0.0çš„ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å­¦ä¹ ç›®æ ‡</h2>
<p>å¤§æ¨¡å‹ä¸å¤ªæ“…é•¿æ•°å­—è®¡ç®—ï¼ŒDeepSeekè®­ç»ƒæ—¶ç”¨å¼ºåŒ–å­¦ä¹ ï¼Œå¯¹è¿™ä¸ªæ–¹é¢åšäº†å¾ˆå¤šæ”¹è¿›ï¼Œä½†æ€»å½’åšæ•°å­¦é¢˜ï¼Œæ–‡æœ¬ç”Ÿæˆçš„æ–¹æ³•ä¸å¦‚æ•°å­¦å·¥å…·æ¥çš„å‡†ç¡®ï¼Œæ‰€ä»¥è¦ç”¨Agentå¤–æŒ‚å·¥å…·ã€‚æœ¬è®²çš„å†…å®¹æ˜¯ä¸€ä¸ªåšæ•°å­—é¢˜çš„Agentï¼Œåªæœ‰20å¤šè¡Œç¨‹åºï¼Œä½†ä¼šæ¶‰åŠå¤§æ¨¡å‹ã€å·¥å…·è°ƒç”¨ã€Function-Callingã€ReAct Agentç­‰çŸ¥è¯†ï¼Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„Agentæ¡ˆä¾‹ã€‚</p>
<h2 data-id="heading-1">äºŒã€æºä»£ç </h2>
<p>å…ˆä¸Šä»£ç ï¼Œå†è§£é‡Šã€‚å¦‚åœ¨æ‰‹æœºä¸Šä¸æ˜“æŸ¥çœ‹ï¼Œè¯·åˆ°Â  çš„chapter-x-0baseä¸‹è½½ä»£ç å’Œæ“ä½œæ­¥éª¤ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"># agent_langchain.py
import os
from langchain.agents import create_agent
os.environ['OPENAI_API_BASE'] = 'http://localhost:11434/v1'
os.environ[<span class="hljs-symbol">&amp;#34;</span>OPENAI_API_KEY<span class="hljs-symbol">&amp;#34;</span>] = <span class="hljs-symbol">&amp;#34;</span>EMPTY<span class="hljs-symbol">&amp;#34;</span>
def calculator(expression: str) -&gt; str:
<span class="hljs-symbol">&amp;#34;</span><span class="hljs-symbol">&amp;#34;</span><span class="hljs-symbol">&amp;#34;</span>ç”¨äºæ‰§è¡Œæ•°å­¦è®¡ç®—ã€‚è¾“å…¥æ˜¯ä¸€ä¸ªæ•°å­¦è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š'15 ** 2 + 28 / 4'<span class="hljs-symbol">&amp;#34;</span><span class="hljs-symbol">&amp;#34;</span><span class="hljs-symbol">&amp;#34;</span>
try:
print(<span class="hljs-symbol">&amp;#34;</span>\n======è°ƒç”¨åˆ°å·¥å…·=======\n<span class="hljs-symbol">&amp;#34;</span>)
print(expression)
print(<span class="hljs-symbol">&amp;#34;</span>\n======================\n<span class="hljs-symbol">&amp;#34;</span>)
return str(eval(expression))
except Exception as e:
return f<span class="hljs-symbol">&amp;#34;</span>è®¡ç®—é”™è¯¯: {e}<span class="hljs-symbol">&amp;#34;</span>
agent = create_agent(
model=<span class="hljs-symbol">&amp;#34;</span>openai:qwen3<span class="hljs-symbol">&amp;#34;</span>, tools=[calculator],
system_prompt=<span class="hljs-symbol">&amp;#34;</span>ä½ æ˜¯ä¸€ä¸ªç”¨äºæ‰§è¡Œæ•°å­¦è®¡ç®—çš„Agent<span class="hljs-symbol">&amp;#34;</span>,
)
response = agent.invoke(
{<span class="hljs-symbol">&amp;#34;</span>messages<span class="hljs-symbol">&amp;#34;</span>: [{<span class="hljs-symbol">&amp;#34;</span>role<span class="hljs-symbol">&amp;#34;</span>: <span class="hljs-symbol">&amp;#34;</span>user<span class="hljs-symbol">&amp;#34;</span>, <span class="hljs-symbol">&amp;#34;</span>content<span class="hljs-symbol">&amp;#34;</span>: <span class="hljs-symbol">&amp;#34;</span>è®¡ç®—15çš„å¹³æ–¹åŠ ä¸Š32é™¤ä»¥4çš„ç»“æœæ˜¯å¤šå°‘ï¼Ÿ<span class="hljs-symbol">&amp;#34;</span>}]}
)
print(response)
</code></pre>
<p>1ã€calculatoræ˜¯ä¸ªå·¥å…·æ–¹æ³•ï¼Œä¼ å…¥è¡¨è¾¾å¼ï¼Œç»™å‡ºç»“æœã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¸ªæ–¹æ³•ä»€ä¹ˆæ—¶å€™è°ƒï¼Œè¡¨è¾¾å¼å‚æ•°æ˜¯è°ç»™çš„ï¼Ÿè¿™å°±ä¸Agentæœ‰å…³ï¼Œåœ¨å»ºAgentçš„æ—¶å€™ï¼Œè¿™ä¸ªæ–¹æ³•ä½œä¸ºToolsä¹‹ä¸€è¢«è®¾ç½®è¿›å»ï¼Œé‚£ç”¨æˆ·é€šè¿‡Agentå‘å¤§æ¨¡å‹æé—®æ—¶ï¼Œè¿™äº›å·¥å…·ä¿¡æ¯ä¹Ÿä½œä¸ºæç¤ºè¯çš„ä¸€éƒ¨åˆ†ä¼ ç»™å¤§æ¨¡å‹ï¼Œè¿™æ ·å¤§æ¨¡å‹å°±ä¼šæ ¹æ®æƒ…å†µç”Ÿæˆä¸€ä¸ªè°ƒç”¨calculatorçš„å‘½ä»¤æ–‡æœ¬ï¼Œé¡ºä¾¿æŠŠå‚æ•°ä¹Ÿç”Ÿæˆã€‚</p>
<p>2ã€é—®é¢˜æ˜¯å¤§æ¨¡å‹ä¸èƒ½ç›´æ¥è°ƒå·¥å…·æ–¹æ³•ï¼Œä¸ç„¶å¤§å®¶éƒ½è®©ä»–è°ƒï¼Œä»–ä¹Ÿå—ä¸äº†ï¼Œä»–ç”¨çš„æ–¹æ³•æ˜¯è¿œç¨‹æŒ‡æŒ¥ï¼Œç”Ÿæˆçš„æ–‡æœ¬å›ä¼ ç»™Agentï¼ŒAgentè°ƒä»–è‡ªå·±çš„æ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«Function-Callingã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€è¿è¡Œ</h2>
<p><strong>1ã€ç¯å¢ƒå®‰è£…</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
conda create -n part03 <span class="hljs-attr">python</span>=<span class="hljs-number">3.13</span> -y
<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
conda activate part03
<span class="hljs-comment"># å®‰è£…ä¾èµ–åº“</span>
pip install <span class="hljs-attr">langchain</span>==<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span> langchain-community==<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span>a1 langchain-openai==<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span> -i https://pypi.mirrors.ustc.edu.cn/simple
</code></pre>
<p><strong>2ã€æµ‹è¯•</strong></p>
<pre><code class="hljs">python agent_langchain.py
</code></pre>
<p>é—®é¢˜æ˜¯ï¼šè®¡ç®—15çš„å¹³æ–¹åŠ ä¸Š32é™¤ä»¥4çš„ç»“æœæ˜¯å¤šå°‘ï¼Ÿå¤§æ¨¡å‹æ²¡æœ‰ç›´æ¥ç®—ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ªè°ƒç”¨å·¥å…·çš„æ–‡æœ¬ï¼ŒæŠŠå‚æ•°ä¹Ÿç»™ç”Ÿæˆï¼Œç„¶åäº¤ç»™Agentè°ƒcalculatorç®—ï¼Œç®—å®Œå†ç»™å¤§æ¨¡å‹æ€»ç»“ä¸€ä¸‹ã€‚</p>
<p><strong>3ã€ç»“æœ</strong></p>
<p>ä»ç»“æœä¸Šçœ‹ï¼Œæ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬å‘½ä¸­äº†å·¥å…·ï¼Œå·¥å…·è®¡ç®—åå†ç”±æ¨¡å‹æ€»ç»“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63a91e4aad7249abad037747732187b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766122473&amp;x-signature=MuR3kJ%2BJIUTA71rt%2B4MdHWM%2FQ7E%3D" alt="" loading="lazy"/></p>
<p>æœªå®Œå¾…ç»­ï¼</p>
<h3 data-id="heading-3">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬4è¯¾ï¼šç”¨Autogenå¼€å‘ä¸€ä¸ªå­¦éœ¸Agentï¼‰]]></title>    <link>https://juejin.cn/post/7582553782398074926</link>    <guid>https://juejin.cn/post/7582553782398074926</guid>    <pubDate>2025-12-12T05:34:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582553782398074926" data-draft-id="7582118218648911898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬4è¯¾ï¼šç”¨Autogenå¼€å‘ä¸€ä¸ªå­¦éœ¸Agentï¼‰"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-12T05:34:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬4è¯¾ï¼šç”¨Autogenå¼€å‘ä¸€ä¸ªå­¦éœ¸Agentï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:34:42.000Z" title="Fri Dec 12 2025 05:34:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>ä»Šå¤©è®²ç¬¬4è¯¾ï¼Œç”¨Microsoft Autogenåšä¸€ä¸ªå¤šè§’è‰²Agentåº”ç”¨ã€‚</p>
<p>Autogenæ˜¯AI Agentæ¡†æ¶é‡Œçš„å¸¸é’æ ‘ï¼Œç®€ç§°AGï¼Œä¸¤å¹´å‰å‘å¸ƒï¼Œç°åœ¨é¡¹ç›®è¿˜å¤„äºæ´»è·ƒçŠ¶æ€ã€‚</p>
<p>Autogenåˆšå¼€å§‹ä¸»è¦ä»¥è‡ªåŠ¨åŒ–ç¼–ç ä¸ºä¸»ï¼Œåæ¥å‘å±•äº†ä¸€ä¸ªç»¼åˆæ€§çš„Agentå¼€å‘æ¡†æ¶ï¼Œä»–çš„ä¼˜åŠ¿åœ¨äºå…¼å®¹æ€§å¥½ã€æœ‰Webç•Œé¢æ”¯æŒï¼ˆAutoGen Studioï¼‰ã€ä½¿ç”¨ç®€å•ã€å¤§å‚å“ç‰Œç­‰ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ¡ˆä¾‹ä»‹ç»</h2>
<p>æœ¬ç¯‡åšä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªè§’è‰²çš„åº”ç”¨ï¼Œä¸€ä¸ªè§’è‰²æ“…é•¿è§£æ•°å­¦é¢˜ï¼Œå¦ä¸€ä¸ªè§’è‰²ä¸“æ³¨äºåŒ–å­¦çŸ¥è¯†è§£ç­”ï¼Œé‚£æ¨è€Œå¹¿ä¹‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥åšä¸€ä¸ªæ‰€æœ‰å­¦ç§‘éƒ½ä¼˜ç§€çš„Agentåº”ç”¨äº†ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ¡ä»¶å‡†å¤‡</h2>
<p>é¦–å…ˆè¦æœ‰å¤§æ¨¡å‹ï¼Œæˆ‘ä»¬ç”¨Ollamaè½¯ä»¶è§£å†³ï¼Œç„¶åè¦æœ‰Pythonç¯å¢ƒï¼Œæˆ‘ä»¬ç”¨Minicondaï¼Œè¿™ä¸¤æ ·åœ¨<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬1è¯¾ï¼šç¯å¢ƒå®‰è£…ï¼‰</a>æœ‰è¯¦ç»†è¯´æ˜ï¼ŒæŒ‰æ­¥éª¤è£…å³å¯ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªé‡ç‚¹è¦è®²çš„åœ°æ–¹ï¼Œå°±æ˜¯æœ¬ä¾‹ç”¨OpenAIæ¥å£æ¥å…¥Ollamaéƒ¨ç½²çš„qwen3æ¨¡å‹ï¼Œä½†é‚£ä¸ªæ¥å£åªè®¤OpenAIçš„æ¨¡å‹ï¼Œè¿™é‡Œæœ‰ä¸ªæŠ€å·§ï¼Œå°±æ˜¯æŠŠqwen3å¤åˆ¶ä¸€ä»½å˜æˆgpt-3.5-turboï¼Œè¿™æ ·æ¥å£å°±èƒ½è®¤äº†ï¼Œç”¨èµ·æ¥æ²¡åŒºåˆ«ã€‚å…·ä½“å‘½ä»¤ä¸ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ollama <span class="hljs-built_in">cp</span> qwen3 gpt-3.5-turbo
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€æºä»£ç </h2>
<p>å¦‚æœåœ¨æ‰‹æœºä¸Šä¸æ˜“æŸ¥çœ‹ï¼Œè¯·åˆ°Â  çš„chapter-x-0baseä¸‹è½½ä»£ç å’Œæ“ä½œæ­¥éª¤ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import asyncio
from autogen_agentchat.agents import AssistantAgent
from autogen_agentchat.tools import AgentTool
from autogen_agentchat.ui import Console
from autogen_ext.models.openai import OpenAIChatCompletionClient
async def main() -&gt; None:
<span class="hljs-attr">model_client</span> = OpenAIChatCompletionClient(
<span class="hljs-attr">model</span>=&amp;<span class="hljs-comment">#34;gpt-3.5-turbo&amp;#34;,</span>
<span class="hljs-attr">base_url</span>=&amp;<span class="hljs-comment">#34;http://localhost:11434/v1&amp;#34;,</span>
<span class="hljs-attr">api_key</span>=&amp;<span class="hljs-comment">#34;EMPTY&amp;#34;</span>
)
<span class="hljs-comment"># åˆ›å»ºæ•°å­¦ä¸“å®¶åŠ©æ‰‹</span>
<span class="hljs-attr">math_agent</span> = AssistantAgent(
&amp;<span class="hljs-comment">#34;math_expert&amp;#34;,</span>
<span class="hljs-attr">model_client</span>=model_client,
<span class="hljs-attr">system_message</span>=&amp;<span class="hljs-comment">#34;ä½ æ˜¯ä¸€åæ•°å­¦ä¸“å®¶ã€‚&amp;#34;,</span>
<span class="hljs-attr">description</span>=&amp;<span class="hljs-comment">#34;æ•°å­¦ä¸“å®¶åŠ©æ‰‹ã€‚&amp;#34;,</span>
<span class="hljs-attr">model_client_stream</span>=<span class="hljs-literal">True</span>,
)
<span class="hljs-attr">math_agent_tool</span> = AgentTool(math_agent,
<span class="hljs-attr">return_value_as_last_message</span>=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># åˆ›å»ºåŒ–å­¦ä¸“å®¶åŠ©æ‰‹</span>
<span class="hljs-attr">chemistry_agent</span> = AssistantAgent(
&amp;<span class="hljs-comment">#34;chemistry_expert&amp;#34;,</span>
<span class="hljs-attr">model_client</span>=model_client,
<span class="hljs-attr">system_message</span>=&amp;<span class="hljs-comment">#34;ä½ æ˜¯ä¸€ååŒ–å­¦ä¸“å®¶ã€‚&amp;#34;,</span>
<span class="hljs-attr">description</span>=&amp;<span class="hljs-comment">#34;åŒ–å­¦ä¸“å®¶åŠ©æ‰‹ã€‚&amp;#34;,</span>
<span class="hljs-attr">model_client_stream</span>=<span class="hljs-literal">True</span>,
)
<span class="hljs-attr">chemistry_agent_tool</span> = AgentTool(
chemistry_agent, <span class="hljs-attr">return_value_as_last_message</span>=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># åˆ›å»ºä¸»åŠ©æ‰‹ï¼Œå¯ä½¿ç”¨ä¸“å®¶å·¥å…·</span>
<span class="hljs-attr">agent</span> = AssistantAgent(
&amp;<span class="hljs-comment">#34;assistant&amp;#34;,</span>
<span class="hljs-attr">system_message</span>=&amp;<span class="hljs-comment">#34;ä½ æ˜¯ä¸€ä¸ªé€šç”¨åŠ©æ‰‹ã€‚éœ€è¦æ—¶è¯·ä½¿ç”¨ä¸“å®¶å·¥å…·ã€‚&amp;#34;,</span>
<span class="hljs-attr">model_client</span>=model_client,
<span class="hljs-attr">model_client_stream</span>=<span class="hljs-literal">True</span>,
<span class="hljs-attr">tools</span>=[math_agent_tool, chemistry_agent_tool],
<span class="hljs-attr">max_tool_iterations</span>=<span class="hljs-number">10</span>,
)
<span class="hljs-comment"># è¿è¡Œä»»åŠ¡</span>
await Console(agent.run_stream(<span class="hljs-attr">task</span>=&amp;<span class="hljs-comment">#34;x^2çš„ç§¯åˆ†æ˜¯ä»€ä¹ˆï¼Ÿ&amp;#34;))</span>
await Console(agent.run_stream(<span class="hljs-attr">task</span>=&amp;<span class="hljs-comment">#34;æ°´çš„åˆ†å­é‡æ˜¯å¤šå°‘ï¼Ÿ&amp;#34;))</span>
asyncio.run(main())
</code></pre>
<h2 data-id="heading-3">å››ã€è¿è¡Œ</h2>
<p><strong>1ã€ç¯å¢ƒå®‰è£…</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
conda create -n part04 <span class="hljs-attr">python</span>=<span class="hljs-number">3.13</span> -y
<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
conda activate part04
<span class="hljs-comment"># å®‰è£…ä¾èµ–åº“</span>
pip install <span class="hljs-attr">autogen-agentchat</span>==<span class="hljs-number">0.7</span>.<span class="hljs-number">5</span> autogen-ext[openai]==<span class="hljs-number">0.7</span>.<span class="hljs-number">5</span> -i https://pypi.mirrors.ustc.edu.cn/simple
</code></pre>
<p><strong>2ã€è¿è¡Œç¨‹åº</strong></p>
<pre><code class="hljs">python agent_autogen.py
</code></pre>
<p><strong>3ã€è¿è¡Œç»“æœ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8ff6fdb0e964e6a9466a1df51b51fb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766122481&amp;x-signature=0KLvwIXVwystCFckKFktelx760c%3D" alt="" loading="lazy"/></p>
<p>æœªå®Œå¾…ç»­ï¼</p>
<h3 data-id="heading-4">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä½ä»£ç å¹³å°çš„â€œåŠ¨æ€å¼•æ“â€ï¼šLiquor]]></title>    <link>https://juejin.cn/post/7582510291667238963</link>    <guid>https://juejin.cn/post/7582510291667238963</guid>    <pubDate>2025-12-12T03:56:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582510291667238963" data-draft-id="7582516300049842203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä½ä»£ç å¹³å°çš„â€œåŠ¨æ€å¼•æ“â€ï¼šLiquor"/> <meta itemprop="keywords" content="Java,ä½ä»£ç ,Groovy"/> <meta itemprop="datePublished" content="2025-12-12T03:56:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰é±¼çš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/409464125003639"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä½ä»£ç å¹³å°çš„â€œåŠ¨æ€å¼•æ“â€ï¼šLiquor
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/409464125003639/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰é±¼çš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T03:56:34.000Z" title="Fri Dec 12 2025 03:56:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Java ä½ä»£ç å¹³å°ä¸­ï¼ŒLiquor å……å½“äº†è¿è¡Œæ—¶ JIT ç¼–è¯‘å™¨å’Œè§„åˆ™å¼•æ“ã€‚å®ƒå¼¥åˆäº†â€œé…ç½®â€ä¸â€œé«˜æ€§èƒ½ Java è¿è¡Œæ—¶â€ä¹‹é—´çš„é¸¿æ²Ÿã€‚å®ƒè§£å†³äº† Java ç”Ÿæ€ä¸­çƒ­æ›´æ–°ã€é«˜æ€§èƒ½ã€å¼ºç±»å‹ä¸‰è€…éš¾ä»¥å…¼å¾—çš„æ ¹æœ¬çŸ›ç›¾ã€‚</p>
<p>Liquor ï¼ˆåŠ¨æ€ç¼–è¯‘åï¼‰å°±æ˜¯ Java åŸç”Ÿè¿è¡Œï¼Œæ¯”ä¸€èˆ¬çš„ JVM è„šæœ¬ï¼ˆæˆ–è¡¨è¾¾å¼ï¼‰æ€§èƒ½é«˜ â€œ20å€â€ å·¦å³ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€çªç ´ Java é™æ€ç¼–è¯‘çš„é™åˆ¶ï¼šå®ç°é…ç½®å³ä»£ç çš„çƒ­ç”Ÿæ•ˆ</h2>
<p>ä½ä»£ç å¹³å°çš„æ ¸å¿ƒä»·å€¼åœ¨äºä¸šåŠ¡æ•æ·æ€§ï¼Œå³ç”¨æˆ·åœ¨ç•Œé¢ä¸Šçš„é…ç½®ï¼ˆæµç¨‹ã€è§„åˆ™ã€å…¬å¼ã€ä»£ç ï¼‰å¿…é¡»å®æ—¶ç”Ÿæ•ˆï¼Œè€Œä¼ ç»Ÿçš„ Java å¼€å‘æ¨¡å¼æ˜¯å¼ºé™æ€ç¼–è¯‘çš„ï¼Œæ–°ä»£ç éœ€è¦é‡æ–°ç¼–è¯‘ã€æ‰“åŒ…å’Œé‡å¯ã€‚</p>
<h3 data-id="heading-1">1. åŠ¨æ€ç¼–è¯‘å³æœåŠ¡ (Dynamic Compilation-as-a-Service)</h3>
<p>Liquor çš„ DynamicCompiler æ¨¡å—å°†ç¼–è¯‘èƒ½åŠ›ä»å¼€å‘å·¥å…·é“¾ä¸­è§£æ”¾å‡ºæ¥ï¼Œå˜ä¸ºä¸€ä¸ªè¿è¡Œæ—¶çš„æœåŠ¡èƒ½åŠ›ã€‚</p>
<ul>
<li>å®ç°æœºåˆ¶ï¼š ä½ä»£ç å¹³å°çš„å‰ç«¯é…ç½®ï¼ˆå¦‚æ‹–æ‹½æµç¨‹ã€è®¾ç½®æ•°æ®æºæ˜ å°„ï¼‰ç»è¿‡åç«¯è§£æå™¨ï¼Œè¢«è½¬åŒ–ä¸ºæ ‡å‡†çš„ Java ä»£ç ç‰‡æ®µã€‚Liquor åœ¨è¿è¡Œæ—¶è°ƒç”¨ Java Compiler API å°†è¿™äº›ä»£ç ç¼–è¯‘æˆå­—èŠ‚ç ã€‚</li>
<li>æŠ€æœ¯ä»·å€¼ï¼š å¹³å°æ— éœ€ä¾èµ–å¤–éƒ¨çš„ç¼–è¯‘ç¯å¢ƒï¼Œä¹Ÿä¸éœ€è¦è¿›è¡Œè€—æ—¶çš„é‡å¯ã€‚æ–°ä¸šåŠ¡é€»è¾‘ç›´æ¥åœ¨å†…å­˜ä¸­ç”Ÿæˆã€åŠ è½½å¹¶æ‰§è¡Œï¼Œå®ç°äº†ä¸šåŠ¡é€»è¾‘çš„é›¶åœæœºçƒ­æ›´æ–°ã€‚</li>
</ul>
<h3 data-id="heading-2">2. ä»£ç ç¤ºä¾‹ï¼šæµç¨‹èŠ‚ç‚¹çš„åŠ¨æ€å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½ä»£ç å¹³å°è§£æç”¨æˆ·é…ç½®ï¼Œç”Ÿæˆä¸€ä¸ª Java ç±»æˆ–æ–¹æ³•</span>
<span class="hljs-type">String</span> <span class="hljs-variable">customLogicCode</span> <span class="hljs-operator">=</span> <span class="hljs-string">"""
    import com.platform.utils.DataConverter; 
    import java.util.Map; // å¢åŠ  Map å¯¼å…¥ï¼Œä½¿ä»£ç æ›´å®Œæ•´

    public class CustomProcessor { 
        public Map&lt;String, Object&gt; process(Map&lt;String, Object&gt; inputData) { 
            if ((double)inputData.get("amount") &gt; 1000) { 
                inputData.put("status", "HighValue"); 
            } 
            // è°ƒç”¨å¹³å°å†…ç½®å·¥å…·ç±»
            inputData.put("convertedKey", DataConverter.hashKey(inputData.get("originalKey"))); 
            return inputData; 
        } 
    }
    """</span>;

<span class="hljs-comment">// Liquor è¿è¡Œæ—¶ç¼–è¯‘å’ŒåŠ è½½</span>
<span class="hljs-type">DynamicCompiler</span> <span class="hljs-variable">compiler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DynamicCompiler</span>();
compiler.addSource(<span class="hljs-string">"CustomProcessor"</span>, customLogicCode).build();

<span class="hljs-comment">// å®ä¾‹åŒ–å¹¶æ‰§è¡Œ (æ¨¡æ‹Ÿæµç¨‹å¼•æ“è°ƒç”¨)</span>
Class&lt;?&gt; clazz = compiler.getClassLoader().loadClass(<span class="hljs-string">"CustomProcessor"</span>);
<span class="hljs-type">Object</span> <span class="hljs-variable">processor</span> <span class="hljs-operator">=</span> clazz.getDeclaredConstructor().newInstance();
<span class="hljs-comment">// ... è°ƒç”¨ processor.process(data) ...</span>
</code></pre>
<h2 data-id="heading-3">äºŒã€åˆ©ç”¨å­—èŠ‚ç ä¼˜åŠ¿ï¼šé«˜æ€§èƒ½çš„è¡¨è¾¾å¼ä¸è§„åˆ™å¼•æ“</h2>
<p>ä½ä»£ç å¹³å°çš„æ ¸å¿ƒé€»è¾‘å¾€å¾€æ˜¯å¤§é‡çš„è¡¨è¾¾å¼æ±‚å€¼å’Œä¸šåŠ¡è§„åˆ™åˆ¤æ–­ã€‚é‡‡ç”¨è„šæœ¬è§£é‡Šå™¨ï¼ˆå¦‚ JavaScriptã€Groovy ç­‰è„šæœ¬å¼•æ“ï¼‰æˆ–åŸºäºåå°„çš„è§„åˆ™å¼•æ“ï¼ˆå¦‚ MVEL/OGNLï¼‰åœ¨æ€§èƒ½ä¸Šå­˜åœ¨å›ºæœ‰ç“¶é¢ˆã€‚</p>
<h3 data-id="heading-4">1. é«˜æ€§èƒ½çš„å­—èŠ‚ç ç¼“å­˜ (Bytecode Caching)</h3>
<p>Liquor çš„ liquor-eval æ¨¡å—å°†å¤æ‚çš„è¡¨è¾¾å¼å’Œè„šæœ¬ç¼–è¯‘æˆ Java å­—èŠ‚ç ï¼Œå¹¶é€šè¿‡ LRU ç¼“å­˜ å­˜å‚¨ç¼–è¯‘ç»“æœã€‚</p>
<ul>
<li>å®ç°æœºåˆ¶ï¼š å¯¹äºé‡å¤å‡ºç°çš„è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚ï¼ša * (b + 1)ï¼‰ï¼ŒLiquor åªè¿›è¡Œä¸€æ¬¡ç¼–è¯‘ã€‚åç»­æ±‚å€¼ç›´æ¥åŠ è½½ç¼“å­˜ä¸­çš„å­—èŠ‚ç ï¼Œç„¶åä½¿ç”¨ LiquorEvaluator æ‰§è¡Œã€‚</li>
<li>æŠ€æœ¯ä»·å€¼ï¼š åœ¨ä½ä»£ç å¹³å°çš„é«˜å¹¶å‘åœºæ™¯ä¸­ï¼Œå¤§å¤šæ•°è¡¨è¾¾å¼éƒ½æ˜¯é‡å¤çš„ã€‚Liquor é¿å…äº†é‡å¤ç¼–è¯‘å’Œè§£é‡Šçš„å¼€é”€ï¼Œä½¿å¾—è§„åˆ™å¼•æ“çš„æ‰§è¡Œæ€§èƒ½é€¼è¿‘åŸç”Ÿ Java æ–¹æ³•è°ƒç”¨ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†æ€§èƒ½ç“¶é¢ˆã€‚</li>
</ul>
<h3 data-id="heading-5">2. ä»£ç ç¤ºä¾‹ï¼šé«˜æ€§èƒ½è¡¨è¾¾å¼æ±‚å€¼ (Exprs åº”ç”¨)</h3>
<p>åœ¨æ•°æ®æ ¡éªŒå’Œè®¡ç®—å­—æ®µåœºæ™¯ä¸­ï¼Œä¿è¯è®¡ç®—é€Ÿåº¦è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰ä¸€ä¸ªç”¨äºè®¡ç®—çš„è¡¨è¾¾å¼</span>
<span class="hljs-type">CodeSpec</span> <span class="hljs-variable">calculationSpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CodeSpec</span>(<span class="hljs-string">"basePrice * (1 + taxRate) + shippingFee"</span>)
    .parameters(
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ParamSpec</span>(<span class="hljs-string">"basePrice"</span>, Double.class),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ParamSpec</span>(<span class="hljs-string">"taxRate"</span>, Double.class),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ParamSpec</span>(<span class="hljs-string">"shippingFee"</span>, Double.class)
    );

<span class="hljs-comment">// 2. é¦–æ¬¡æ‰§è¡Œï¼ˆè§¦å‘ç¼–è¯‘å¹¶ç¼“å­˜ï¼‰</span>
Map&lt;String, Object&gt; data1 = Map.of(<span class="hljs-string">"basePrice"</span>, <span class="hljs-number">100.0</span>, <span class="hljs-string">"taxRate"</span>, <span class="hljs-number">0.1</span>, <span class="hljs-string">"shippingFee"</span>, <span class="hljs-number">5.0</span>);
<span class="hljs-type">Double</span> <span class="hljs-variable">total1</span> <span class="hljs-operator">=</span> Exprs.eval(calculationSpec, data1); <span class="hljs-comment">// é¦–æ¬¡ç¼–è¯‘</span>

<span class="hljs-comment">// 3. ç¬¬äºŒæ¬¡æ‰§è¡Œï¼ˆç›´æ¥å‘½ä¸­ç¼“å­˜ï¼Œæå¿«ï¼‰</span>
Map&lt;String, Object&gt; data2 = Map.of(<span class="hljs-string">"basePrice"</span>, <span class="hljs-number">200.0</span>, <span class="hljs-string">"taxRate"</span>, <span class="hljs-number">0.1</span>, <span class="hljs-string">"shippingFee"</span>, <span class="hljs-number">5.0</span>);
<span class="hljs-type">Double</span> <span class="hljs-variable">total2</span> <span class="hljs-operator">=</span> Exprs.eval(calculationSpec, data2); <span class="hljs-comment">// ç›´æ¥æ‰§è¡Œå­—èŠ‚ç </span>
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€æ„å»ºåŠ¨æ€æ‰©å±•ç‚¹çš„åŸºçŸ³ï¼šåŠ¨æ€ Bean ä¸ IoC é›†æˆ</h2>
<p>ä½ä»£ç å¹³å°éœ€è¦æä¾›çµæ´»çš„æ‰©å±•ç‚¹ï¼Œå…è®¸å¼€å‘è€…åµŒå…¥è‡ªå®šä¹‰æœåŠ¡æˆ–è¦†å†™é»˜è®¤è¡Œä¸ºã€‚Liquor æä¾›çš„åŠ¨æ€åŠ è½½æœºåˆ¶æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®ã€‚</p>
<h3 data-id="heading-7">1. åŠ¨æ€ç±»åŠ è½½ä¸ IoC å®¹å™¨é›†æˆ (Dynamic Class Loading &amp; IoC)</h3>
<p>Liquor ç¼–è¯‘ç”Ÿæˆçš„ç±»ç”±å…¶å†…éƒ¨çš„ DynamicClassLoader è´Ÿè´£åŠ è½½ã€‚</p>
<ul>
<li>å®ç°æœºåˆ¶ï¼š</li>
</ul>
<p>å¹³å°åˆ©ç”¨ Liquor çš„é›†æˆç‰¹æ€§ï¼ˆå¦‚å¯¹ Spring æˆ– Solon çš„æ”¯æŒï¼‰ï¼Œå°†åŠ¨æ€ç¼–è¯‘çš„ç±»ï¼ˆä¾‹å¦‚ä¸€ä¸ªå¸¦æœ‰ @Component æ³¨è§£çš„ Service ç±»ï¼‰æ³¨å†Œåˆ° IoC (Inversion of Control) å®¹å™¨ä¸­ã€‚</p>
<ul>
<li>æŠ€æœ¯ä»·å€¼ï¼š</li>
</ul>
<p>åŠ¨æ€ä¾èµ–æ³¨å…¥ï¼š åŠ¨æ€ç”Ÿæˆçš„ä»£ç å¯ä»¥ç›´æ¥ @Autowired æˆ– @Inject å¹³å°ä¸­å·²æœ‰çš„æœåŠ¡ Beanã€‚</p>
<p>åŠ¨æ€ API æš´éœ²ï¼š åŠ¨æ€ç¼–è¯‘çš„ Controller ç±»å¯ä»¥å³æ—¶æ˜ å°„åˆ° URL è·¯å¾„ï¼Œå®ç° åŠ¨æ€ API æ¥å£çš„å‘å¸ƒï¼Œä¸ºä½ä»£ç å¹³å°æä¾›äº†çµæ´»çš„å¾®æœåŠ¡æ‰©å±•èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-8">2. å®‰å…¨éš”ç¦»ä¸æ²™ç®±çš„é…åˆ</h3>
<p>åŠ¨æ€ç¼–è¯‘è™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å®‰å…¨é£é™©ã€‚Liquor çš„ç±»åŠ è½½æœºåˆ¶ä¸ºå®‰å…¨æ²™ç®±æä¾›äº†åŸºç¡€ã€‚</p>
<ul>
<li>å®ç°æœºåˆ¶ï¼š</li>
</ul>
<p>å¹³å°å¯ä»¥é€šè¿‡æ‹¦æˆª Liquor çš„ DynamicClassLoaderï¼Œç»“åˆ Java çš„ SecurityManager æˆ–è‡ªå®šä¹‰çš„ç™½åå•/é»‘åå•æœºåˆ¶ï¼Œé™åˆ¶åŠ¨æ€ä»£ç èƒ½å¤Ÿè®¿é—®çš„åŒ…ã€ç±»å’Œæ–¹æ³•ã€‚</p>
<ul>
<li>æŠ€æœ¯ä»·å€¼ï¼š</li>
</ul>
<p>ç¡®ä¿äº†ç”¨æˆ·ç¼–å†™æˆ–å¹³å°è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ä¸ä¼šæ¶æ„æˆ–æ„å¤–åœ°è®¿é—®æ•æ„Ÿç³»ç»Ÿèµ„æºï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œè¿æ¥ï¼‰ï¼Œä¿éšœäº†æ ¸å¿ƒå¹³å°çš„å®‰å…¨ä¸ç¨³å®šã€‚</p>
<h2 data-id="heading-9">ç»“è®º</h2>
<p>åœ¨ Java ä½ä»£ç å¹³å°çš„åº•å±‚å®ç°ä¸­ï¼ŒLiquor æ¡†æ¶çš„æ„ä¹‰ï¼š</p>
<p>å®ƒæ˜¯è¿æ¥é…ç½®å±‚å’Œé«˜æ€§èƒ½è¿è¡Œæ—¶çš„æ¡¥æ¢ã€‚ å®ƒå°† Java ç¼–è¯‘èƒ½åŠ›æœåŠ¡åŒ–ã€è¿è¡Œæ—¶åŒ–ï¼Œä½¿å¹³å°èƒ½å¤Ÿä»¥ Java çº§åˆ«çš„æ€§èƒ½ã€å¼ºç±»å‹è¯­è¨€çš„å¥å£®æ€§ï¼Œå»å®ç° è„šæœ¬è¯­è¨€çš„çƒ­æ›´æ–°å’Œçµæ´»æ€§ã€‚è¿™å¯¹äºè¿½æ±‚é«˜æ€§èƒ½ã€é«˜å¹¶å‘ã€ä¸”åŸºäº Java æŠ€æœ¯çš„ä½ä»£ç å¹³å°æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„åŠ¨æ€å¼•æ“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ•°æ®åˆ°éƒ¨ç½²ï¼šæ¨è¿›ç¾å›½å·æ”¿åºœä¸­ AI agent çš„è´Ÿè´£ä»»ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7582539701146435625</link>    <guid>https://juejin.cn/post/7582539701146435625</guid>    <pubDate>2025-12-12T03:57:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582539701146435625" data-draft-id="7582808491582357540" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ•°æ®åˆ°éƒ¨ç½²ï¼šæ¨è¿›ç¾å›½å·æ”¿åºœä¸­ AI agent çš„è´Ÿè´£ä»»ä½¿ç”¨"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-12T03:57:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ•°æ®åˆ°éƒ¨ç½²ï¼šæ¨è¿›ç¾å›½å·æ”¿åºœä¸­ AI agent çš„è´Ÿè´£ä»»ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T03:57:13.000Z" title="Fri Dec 12 2025 03:57:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fblog%2Fauthor%2Fdesiree--ho" title="https://www.elastic.co/blog/author/desiree--ho" target="_blank" ref="nofollow noopener noreferrer">Desiree Ho</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff266b1dfc1e4a4694b97424a0f57236~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766116632&amp;x-signature=Wzu4bLvp3LvIvy9WAhGRR02OtHw%3D" alt="" loading="lazy"/></p>
<p>äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ­£åœ¨é‡å¡‘ç¾å›½å·æ”¿åºœæé«˜è¿è¥æ•ˆç‡å’ŒæœåŠ¡è´¨é‡çš„æ–¹å¼ã€‚ä»å¤„ç†ä¿¡æ¯è¯·æ±‚çš„èŠå¤©æœºå™¨äººåˆ°å¢å¼ºå±æœºå“åº”çš„é¢„æµ‹å·¥å…·ï¼ŒAI å·²ç»åœ¨ç®€åŒ–æ—¥å¸¸æ“ä½œã€‚æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nascio.org%2Fwp-content%2Fuploads%2F2024%2F12%2FNASCIO-2025-State-CIO-Top-10-Priorities.pdf" title="https://www.nascio.org/wp-content/uploads/2024/12/NASCIO-2025-State-CIO-Top-10-Priorities.pdf" target="_blank" ref="nofollow noopener noreferrer">NASCIO</a> 2025 å¹´å·é¦–å¸­ä¿¡æ¯å®˜ï¼ˆCIOï¼‰è°ƒæŸ¥ï¼ŒAI ç›®å‰æ˜¯å·æ”¿åºœé¢†å¯¼è€…çš„é¦–è¦æŠ€æœ¯ä¼˜å…ˆäº‹é¡¹ï¼Œä¹Ÿæ˜¯æ•´ä½“ CIO ä¼˜å…ˆäº‹é¡¹çš„ç¬¬äºŒä½ã€‚è™½ç„¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.businessofgovernment.org%2Fsites%2Fdefault%2Ffiles%2FAI%2520in%2520State%2520Government_0.pdf" title="https://www.businessofgovernment.org/sites/default/files/AI%20in%20State%20Government_0.pdf" target="_blank" ref="nofollow noopener noreferrer">èŠå¤©æœºå™¨äººç›®å‰å æ®ä¸»å¯¼åœ°ä½</a>ï¼ŒAI agent æ­£æˆä¸ºæå‡æ•ˆç‡ã€å“åº”èƒ½åŠ›å’ŒæœåŠ¡å½±å“åŠ›çš„ä¸‹ä¸€ä¸ªæœºä¼šã€‚</p>
<p>åœ¨æ­¤åŠ¿å¤´ä¸‹ï¼Œå„å·å¼€å§‹æ¢ç´¢é€šè¿‡ AI agent æ”¹è¿›æ²»ç†å’Œå…¬å…±æœåŠ¡çš„åˆ›æ–°æ–¹æ³•ã€‚ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œå¼—å‰å°¼äºšå·æ¨å‡ºäº†å…¨å›½é¦–ä¸ª agentic AI å·¥å…·ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.governor.virginia.gov%2Fmedia%2Fgovernorvirginiagov%2Fgovernor-of-virginia%2Fpdf%2Feo%2FEO-51---First-In-The-Nation-Agentic-Artificial-Intelligence-%2528AI%2529-Empowered-Statewide-Regulatory-Review---FINAL-UPDATED.pdf" title="https://www.governor.virginia.gov/media/governorvirginiagov/governor-of-virginia/pdf/eo/EO-51---First-In-The-Nation-Agentic-Artificial-Intelligence-%28AI%29-Empowered-Statewide-Regulatory-Review---FINAL-UPDATED.pdf" target="_blank" ref="nofollow noopener noreferrer">ç”¨äºåˆ†æå·æ³•è§„å¹¶æå‡ºç®€åŒ–ç›‘ç®¡è¯­è¨€çš„æ–¹æ³•</a>ã€‚AI agent æ˜¯ä¸€ç§é…ç½®äº†è‡ªå®šä¹‰æŒ‡ä»¤å’Œå·¥å…·çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œèƒ½å¤Ÿè§£é‡Šç”¨æˆ·è¯·æ±‚å¹¶æ‰§è¡Œä»»åŠ¡ä»¥å®ç°æ—¢å®šç›®æ ‡ã€‚</p>
<p>å½“ CIO è€ƒè™‘åœ¨æ”¿åºœç³»ç»Ÿä¸­éƒ¨ç½² AI agent æ—¶ï¼Œä»ä¸€å¼€å§‹å°±å°†å¼ºæœ‰åŠ›çš„æ•°æ®å®è·µã€ç½‘ç»œå®‰å…¨å’Œæ²»ç†ç»“åˆèµ·æ¥çš„å·ï¼Œå°†ä¸ºè´Ÿè´£ä»»ã€ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„åˆ›æ–°å»ºç«‹å…¨å›½åŸºå‡†ã€‚</p>
<h2 data-id="heading-0"><strong>æ•°æ®è´¨é‡ï¼šä¿¡ä»»çš„åŸºç¡€</strong></h2>
<p>é«˜è´¨é‡æ•°æ®æ˜¯å¯ä¿¡ä¸”æœ‰æ•ˆ AI éƒ¨ç½²çš„åŸºç¡€ï¼Œå› ä¸º AI ç³»ç»Ÿä¾èµ–å‡†ç¡®ã€è‰¯å¥½ç®¡ç†çš„æ•°æ®æ¥ç”Ÿæˆå¯é æ´å¯Ÿã€‚å°½ç®¡è¿‘ä¹æˆ CIO è®¤ä¸ºæ•°æ®è´¨é‡è‡³å…³é‡è¦ï¼Œä½†ä¸åˆ°å››åˆ†ä¹‹ä¸€çš„å·æœ‰æ­£å¼çš„æ•°æ®è´¨é‡è®¡åˆ’ï¼Œè¿™ä½¿å¾—æ•°æ®æ²»ç†ä¸å–„æˆä¸ºè®¸å¤šå·çš„é•¿æœŸæŒ‘æˆ˜ã€‚ä¸å‡†ç¡®æˆ–ä¸å®Œæ•´çš„æ•°æ®å¯èƒ½è¢« AI æ”¾å¤§ï¼Œå¯¼è‡´å†³ç­–å¤±è¯¯ã€èµ„æºé”™é…å’Œå…¬ä¼—ä¿¡ä»»ä¸‹é™ã€‚</p>
<p>æ”¹å–„æ•°æ®ç®¡ç†éœ€è¦åœ¨å„æœºæ„ä¹‹é—´ä¿æŒä¸€è‡´çš„ç»„ç»‡ã€éªŒè¯å’Œå®‰å…¨å…±äº«ã€‚è¿™äº›å®è·µä¿ƒè¿›é€æ˜åº¦å’Œé—®è´£åˆ¶ï¼ŒåŒæ—¶ç¡®ä¿ AI ç”Ÿæˆçš„æ´å¯Ÿå‡†ç¡®ä¸”å…¬æ­£ã€‚å¯¹å¹²å‡€ã€ç»“æ„è‰¯å¥½çš„æ•°æ®çš„æŠ•èµ„å¯ä»¥ä¸ºåç»­æ¯ä¸ªè´Ÿè´£ä»»çš„ AI åº”ç”¨æä¾›è“å›¾ã€‚</p>
<h2 data-id="heading-1"><strong>ä»æ•°æ®ç®¡ç†åˆ° AI agent çš„è§„æ¨¡åŒ–</strong></h2>
<p>ä¸€æ—¦å»ºç«‹äº†å¼ºæœ‰åŠ›çš„æ•°æ®æ²»ç†ï¼Œä¸‹ä¸€æ­¥æ˜¯è´Ÿè´£ä»»åœ°åœ¨è¿è¥ä¸­è§„æ¨¡åŒ– AIã€‚æˆåŠŸçš„ä¸‰ä¸ªå…³é”®å› ç´ æ˜¯ï¼šäº’æ“ä½œæ€§ã€å®‰å…¨æ€§å’Œå¼€æ”¾æ ‡å‡†ã€‚</p>
<ul>
<li>
<p><strong>äº’æ“ä½œæ€§</strong>ï¼šç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿè·¨æœºæ„å…±äº«å’Œè§£é‡Šæ•°æ®ï¼Œæé«˜åè°ƒæ€§ã€å‡å°‘è¡Œæ”¿è´Ÿæ‹…å¹¶é™ä½é”™è¯¯å‘ç”Ÿç‡ã€‚</p>
</li>
<li>
<p><strong>å®‰å…¨æ€§</strong>ï¼šä¿æŠ¤æ•æ„Ÿæ•°æ®å…é­æ»¥ç”¨ï¼Œç¬¦åˆåˆè§„æ ‡å‡†ï¼Œå¹¶ç»´æŒå…¬ä¼—ä¿¡ä»»ã€‚</p>
</li>
<li>
<p><strong>å¼€æ”¾æ ‡å‡†</strong>ï¼šä½¿ AI ç³»ç»Ÿæ›´æ˜“äºå®¡è®¡å’Œé€‚åº”ï¼Œæ”¯æŒé€æ˜ã€åä½œåŠé•¿æœŸåˆ›æ–°ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2"><strong>Agent Builder å¦‚ä½•å°†è´Ÿè´£ä»» AI è½åœ°</strong></h2>
<p>å·¥å…·å¦‚ Elastic <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Felasticsearch%2Fagent-builder" title="https://www.elastic.co/elasticsearch/agent-builder" target="_blank" ref="nofollow noopener noreferrer">Agent Builder</a> ä½¿æ”¿åºœèƒ½å¤Ÿå°†è¿™äº›åŸåˆ™ä»˜è¯¸å®è·µã€‚å„æœºæ„å¯ä»¥ä½¿ç”¨ Agent Builder åˆ›å»ºè‡ªå®šä¹‰ agentï¼Œé€šè¿‡å¼€æ”¾æ ‡å‡†åœ¨ç³»ç»Ÿé—´å®‰å…¨åä½œã€‚ä¾‹å¦‚ï¼Œå„æœºæ„å¯ä»¥è‡ªåŠ¨åŒ–æ¡ˆä¾‹ç®¡ç†ï¼Œä½¿ä¸åŒéƒ¨é—¨ï¼ˆå¦‚å«ç”Ÿä¸å…¬å…±æœåŠ¡éƒ¨ã€åŠ³åŠ¨éƒ¨å’Œæ•™è‚²éƒ¨ï¼‰èƒ½å¤Ÿå…±äº«æ•°æ®å¹¶åè°ƒå·¥ä½œæµç¨‹ï¼ŒåŒæ—¶ä¿æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F102807480" title="https://elasticstack.blog.csdn.net/article/details/102807480" target="_blank" ref="nofollow noopener noreferrer">åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</a>å’Œåˆè§„æ€§ã€‚åœ¨å¯é ã€è‰¯å¥½æ²»ç†çš„æ•°æ®åŸºç¡€ä¸Šï¼ŒAgent Builder å¯ä»¥å¸®åŠ©æ”¿åºœå·¥ä½œäººå‘˜ç”Ÿæˆæ´å¯Ÿã€è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œå¹¶æ”¹å–„æ°‘ä¼—æœåŠ¡ã€‚</p>
<h2 data-id="heading-3"><strong>é€šè¿‡å…¬ç§åˆä½œæ¨è¿›è´Ÿè´£ä»» AI</strong></h2>
<p>æ²¡æœ‰ä»»ä½•å·å¯ä»¥å­¤ç«‹åœ°æ¨è¿›è´Ÿè´£ä»» AIã€‚å…¬ç§åˆä½œæä¾›äº†å®‰å…¨æœ‰æ•ˆ AI é‡‡ç”¨æ‰€éœ€çš„ä¸“ä¸šçŸ¥è¯†ã€æŠ€æœ¯æ¡†æ¶å’Œé—®è´£ç»“æ„ã€‚ç§è¥å¼€å‘è€…è´¡çŒ®å·¥ç¨‹èƒ½åŠ›å¹¶è¯†åˆ«æ–°å…´é£é™©ï¼Œè€Œæ”¿åºœé¢†å¯¼è€…ç¡®ä¿éƒ¨ç½²ç¬¦åˆæ”¿ç­–ã€ä¼¦ç†å’Œå…¬å…±åˆ©ç›Šã€‚</p>
<p>åˆä½œæ¨¡å¼å¯ä»¥åŒ…æ‹¬å…±åŒå¼€å‘äº’æ“ä½œæ€§æ¡†æ¶ã€åœ¨å—æ§ç¯å¢ƒä¸­è¿›è¡Œè¯•ç‚¹é¡¹ç›®ï¼Œæˆ–å»ºç«‹å…±äº«æ²»ç†ç»“æ„ä»¥å¼ºåŒ–ç›‘ç®¡å’Œæ•°æ®è´¨é‡ã€‚é€šè¿‡åä½œï¼Œå„å·å¯ä»¥åœ¨ä¿æŒå®‰å…¨ã€é€æ˜å’Œå…¬ä¼—ä¿¡ä»»çš„åŒæ—¶ï¼ŒåŠ é€Ÿåˆ›æ–°ã€‚</p>
<p>æ‰¿è¯ºæ¸…æ´æ•°æ®ã€å¼€æ”¾æ¶æ„å’Œç§¯æåä½œçš„æ”¿åºœï¼Œä¸ä»…èƒ½å¤Ÿç°ä»£åŒ–è¿è¥ï¼Œè¿˜èƒ½å±•ç¤ºå¯ä¿¡ã€ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ AI å®è·µã€‚Elastic å‡†å¤‡æ”¯æŒå„å·å°†è¿™ä¸€æ„¿æ™¯è½¬åŒ–ä¸ºå¯æ“ä½œçš„æ¨¡å‹ï¼Œä¸ºå…¶ä»–å·æä¾›å€Ÿé‰´ã€‚</p>
<p><em>æœ¬å¸–ä¸­æè¿°çš„ä»»ä½•åŠŸèƒ½æˆ–ç‰¹æ€§çš„å‘å¸ƒåŠæ—¶é—´å®Œå…¨ç”± Elastic è‡ªè¡Œå†³å®šã€‚å½“å‰ä¸å¯ç”¨çš„åŠŸèƒ½æˆ–ç‰¹æ€§å¯èƒ½æ— æ³•æŒ‰æ—¶äº¤ä»˜ï¼Œç”šè‡³å¯èƒ½å®Œå…¨ä¸æä¾›ã€‚</em></p>
<p><em>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä½¿ç”¨æˆ–å¼•ç”¨äº†ç¬¬ä¸‰æ–¹ç”Ÿæˆå¼ AI å·¥å…·ï¼Œè¿™äº›å·¥å…·ç”±å„è‡ªçš„æ‰€æœ‰è€…æ‹¥æœ‰å’Œè¿è¥ã€‚Elastic å¯¹ç¬¬ä¸‰æ–¹å·¥å…·ä¸å…·å¤‡ä»»ä½•æ§åˆ¶æƒï¼Œä¹Ÿä¸å¯¹å…¶å†…å®¹ã€æ“ä½œæˆ–ä½¿ç”¨æ‰¿æ‹…ä»»ä½•è´£ä»»æˆ–ä¹‰åŠ¡ï¼Œäº¦ä¸å¯¹ä½ ä½¿ç”¨è¿™äº›å·¥å…·å¯èƒ½äº§ç”Ÿçš„ä»»ä½•æŸå¤±æˆ–æŸå®³è´Ÿè´£ã€‚è¯·åœ¨ä½¿ç”¨ AI å·¥å…·å¤„ç†ä¸ªäººã€æ•æ„Ÿæˆ–æœºå¯†ä¿¡æ¯æ—¶è°¨æ…æ“ä½œã€‚ä½ æäº¤çš„ä»»ä½•æ•°æ®å¯èƒ½ä¼šè¢«ç”¨äº AI è®­ç»ƒæˆ–å…¶ä»–ç”¨é€”ã€‚æ— æ³•ä¿è¯ä½ æä¾›çš„ä¿¡æ¯ä¼šè¢«å®‰å…¨æˆ–ä¿å¯†åœ°ä¿å­˜ã€‚ä½ åœ¨ä½¿ç”¨ä»»ä½•ç”Ÿæˆå¼ AI å·¥å…·å‰ï¼Œåº”ç†Ÿæ‚‰å…¶éšç§æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾ã€‚</em></p>
<p><em>Elasticã€Elasticsearch åŠç›¸å…³æ ‡è¯†æ˜¯ Elasticsearch B.V. åœ¨ç¾å›½åŠå…¶ä»–å›½å®¶çš„å•†æ ‡ã€æ ‡è¯†æˆ–æ³¨å†Œå•†æ ‡ã€‚æ‰€æœ‰å…¶ä»–å…¬å¸å’Œäº§å“åç§°ä¸ºå…¶å„è‡ªæ‰€æœ‰è€…çš„å•†æ ‡ã€æ ‡è¯†æˆ–æ³¨å†Œå•†æ ‡ã€‚</em></p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fblog%2Fus-state-government-ai-agents" title="https://www.elastic.co/blog/us-state-government-ai-agents" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/blog/us-staâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨c++ä¸­ä½¿ç”¨HOOKä¿®æ”¹sleepå‡½æ•°]]></title>    <link>https://juejin.cn/post/7582510291667468339</link>    <guid>https://juejin.cn/post/7582510291667468339</guid>    <pubDate>2025-12-12T05:00:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582510291667468339" data-draft-id="7582510291667451955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨c++ä¸­ä½¿ç”¨HOOKä¿®æ”¹sleepå‡½æ•°"/> <meta itemprop="keywords" content="C++,Linux"/> <meta itemprop="datePublished" content="2025-12-12T05:00:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="koddnty"/> <meta itemprop="url" content="https://juejin.cn/user/1215429206618441"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨c++ä¸­ä½¿ç”¨HOOKä¿®æ”¹sleepå‡½æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1215429206618441/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    koddnty
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:00:47.000Z" title="Fri Dec 12 2025 05:00:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åœ¨c++ä¸­ä½¿ç”¨HOOKä¿®æ”¹sleepå‡½æ•°</h2>
<p>æœ¬ç¯‡æ–‡ç« å°†ä»¥sleepå‡½æ•°ä¸ºä¾‹å­ä»‹ç»å¦‚ä½•åœ¨c++ä¸­ä½¿ç”¨hookä¿®æ”¹ç³»ç»Ÿå‡½æ•°</p>
<h3 data-id="heading-1">HOOKæ˜¯ä»€ä¹ˆ</h3>
<p>Hookï¼ˆé’©å­ï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹æœºåˆ¶ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨ç¨‹åºæ‰§è¡Œçš„ç‰¹å®šç‚¹æ’å…¥è‡ªå®šä¹‰ä»£ç ï¼Œä»è€Œæ‹¦æˆªã€å¤„ç†æˆ–ä¿®æ”¹åŸæœ‰çš„å‡½æ•°è°ƒç”¨ã€æ¶ˆæ¯ä¼ é€’æˆ–ç³»ç»Ÿäº‹ä»¶ã€‚</p>
<p>é€šä¿—åœ°è¯´ï¼ŒHookå°±åƒæ˜¯ç»™ç¨‹åºå®‰è£…äº†ä¸€ä¸ªâ€œç›‘å¬å™¨â€æˆ–â€œæ‹¦æˆªå™¨â€ã€‚å½“ç›®æ ‡å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œæ§åˆ¶æƒä¼šå…ˆè½¬ç§»åˆ°ä½ çš„Hookä»£ç ï¼Œä½ å¯ä»¥åœ¨æ‰§è¡ŒåŸæœ‰æ“ä½œä¹‹å‰æˆ–ä¹‹åæ’å…¥è‡ªå®šä¹‰é€»è¾‘ï¼Œç”šè‡³å®Œå…¨æ›¿æ¢åŸæœ‰è¡Œä¸ºã€‚ä¾‹å¦‚æ¸¸æˆå¤–æŒ‚é€šè¿‡hookæ¥å¯¹æ¸¸æˆè¿è¡Œæ—¶ç”¨åˆ°çš„å‡½æ•°æˆ–å…¶ä»–APIè¿›è¡Œä¿®æ”¹æ¥å®ç°å¤–æŒ‚çš„åŠŸèƒ½ã€‚åŒæ—¶ï¼Œhookä¹Ÿå¸¸ä¸åç¨‹æ­é…ä½¿ç”¨ï¼Œä¿®æ”¹ç³»ç»Ÿå‡½æ•°æ¥ä¸ºç±»ä¼¼sleepç­‰é˜»å¡çº¿ç¨‹çš„å‡½æ•°æ·»åŠ åç¨‹çš„åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">å¦‚ä½•ä½¿ç”¨hookæ¥ä¿®æ”¹sleepå‡½æ•°</h3>
<h4 data-id="heading-3">ä¸‹é¢çš„ä»£ç æ˜¯æœ€ç®€å•çš„hookçš„å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>

<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> seconds)</span>
</span>{
    std::cout &lt;&lt; <span class="hljs-string">"æˆ‘ä»¬æˆåŠŸä¿®æ”¹äº†ç³»ç»Ÿæä¾›çš„sleepå‡½æ•°!"</span> &lt;&lt; std::endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span>
</span>{
    std::cout &lt;&lt; <span class="hljs-string">"ä½¿ç”¨sleepå‡½æ•°ç¡2s"</span>&lt;&lt; std::endl;
    <span class="hljs-built_in">sleep</span>(<span class="hljs-number">2</span>);
    std::cout &lt;&lt; <span class="hljs-string">"sleepå‡½æ•°ç¡å®Œäº†"</span>&lt;&lt; std::endl;
}
</code></pre>
<p>è°ƒç”¨å‡½æ•°test1(),ç¨‹åºè¿è¡Œç»“æœå¦‚ä¸‹:</p>
<pre><code class="hljs language-shell" lang="shell">ä½¿ç”¨sleepå‡½æ•°ç¡2s
æˆ‘ä»¬æˆåŠŸä¿®æ”¹äº†ç³»ç»Ÿæä¾›çš„sleepå‡½æ•°!
sleepå‡½æ•°ç¡å®Œäº†
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä»…åšäº†ä¸¤ä»¶äº‹</p>
<ul>
<li>å®ç°ä¸€ä¸ª<code>sleep</code>å‡½æ•°ï¼Œä¸unistd.hä¸­çš„<code>sleep</code>å‡½æ•°ç­¾åä¸€è‡´</li>
<li>ä½¿ç”¨<code>extern "C"</code>å‘Šè¯‰C++ç¼–è¯‘å™¨"æŒ‰Cè¯­è¨€çš„æ–¹å¼å¤„ç†è¿™ä¸ªå‡½æ•°"</li>
</ul>
<p>å®šä¹‰ä¸€ä¸ªç›¸åŒç­¾åçš„sleepä¸ºä»€ä¹ˆé“¾æ¥è¿‡ç¨‹ä¸­ä¸ä¼šäº§ç”Ÿé‡å®šä¹‰é—®é¢˜å‘¢ï¼Ÿåœ¨é“¾æ¥å™¨é“¾æ¥è¿‡ç¨‹ä¸­ï¼Œå‡½æ•°ç¬¦å·æœ‰ç±»ä¼¼å¼ºå¼±ç¬¦å·ä¹‹åˆ†ï¼Œåœ¨åŠ¨æ€åº“ä¸­çš„å‡½æ•°ä¼šè¢«æ–°ç›®æ ‡æ–‡ä»¶çš„å‡½æ•°<strong>æ›¿æ¢</strong>ï¼Œå› æ­¤æ­¤å¤„ç¨‹åºè¿è¡Œæ—¶ä¼šè¿è¡Œæˆ‘ä»¬é‡æ–°å†™çš„sleepå‡½æ•°è€Œä¸æ˜¯unistd.hå†…çš„ã€‚</p>
<p>è‡³äºåŠ <code>extern "C"</code>çš„ä½œç”¨,åœ¨c++ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒçš„é‡è½½å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç»™åŒåå‡½æ•°åŠ å…¥éšå³å­—ç¬¦è¿›è¡ŒåŒºåˆ†ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯é‡å†™sleepå‡½æ•°ï¼Œå› æ­¤è¦ç¡®ä¿å‡½æ•°åä¸unistd.hä¸­ç›¸åŒï¼Œé€šè¿‡åŠ å…¥extern "C"æ¥åšåˆ°è¿™ä¸€ç‚¹</p>
<h4 data-id="heading-4">å¯¹ä¸Šè¿°ä»£ç çš„æ”¹è¿›</h4>
<p>ä¸Šè¿°ä»£ç å­˜åœ¨å¾ˆå¤§çš„ç¼ºé™·ï¼Œæœ€ä¸»è¦çš„æ˜¯å®ƒå¤±å»äº†sleepå‡½æ•°æœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚é€šå¸¸æˆ‘ä»¬åˆ©ç”¨hookä¿®æ”¹å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŒå…¶åŸæœ‰åŠŸèƒ½ã€‚æˆ‘ä»¬ä¸å¯èƒ½çœŸçš„å»å®ç°ä¸€ä¸ªå®Œæ•´çš„sleepï¼Œä½†æˆ‘ä»¬å¯ä»¥è·å¾—åŸsleepçš„å‡½æ•°æŒ‡é’ˆ</p>
<p>åœ¨ä¸åŒçš„å¹³å°æœ‰ä¸åŒçš„è·å–åº“å‡½æ•°æŒ‡é’ˆçš„æ–¹æ³•ï¼Œä¸‹é¢æ—¶åœ¨linuxå¹³å°æ¥è·å–sleepå‡½æ•°æŒ‡é’ˆçš„ä¾‹å­:</p>
<h5 data-id="heading-5">è·å–sleepå‡½æ•°æŒ‡é’ˆ</h5>
<p>linuxä¸ºè·å–åº“å‡½æ•°æŒ‡é’ˆæä¾›äº†ç‰¹å®šçš„å‡½æ•°<code>dlsym</code>ï¼Œå®šä¹‰åœ¨<code>&lt;dlfcn.h&gt;</code>ä¸­ã€‚å…¶å‡½æ•°ç­¾åä¸º:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> *<span class="hljs-title">dlsym</span><span class="hljs-params">(<span class="hljs-type">void</span> *restrict handle, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *restrict symbol)</span></span>;
</code></pre>
<p><code>dlsym</code>è¿”å›å€¼æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å®šæŸ¥æ‰¾çš„åº“ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å‡½æ•°åç§°ã€‚</p>
<p>åœ¨hookåœºæ™¯ä¸­ï¼Œ<code>handle</code>å‚æ•°å¸¸å–<code>RTLD_NEXT</code>ï¼Œè¡¨ç¤ºè·³è¿‡å½“å‰åº“æŸ¥æ‰¾å…¶ä»–åº“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“<code>symbol</code>ä¼ å…¥<code>"sleep"</code>æ—¶ï¼Œ<code>dlsym</code>è·³è¿‡å½“å‰åº“æˆ‘ä»¬å®šä¹‰çš„<code>sleep</code>ï¼Œæ‰¾åˆ°äº†<code>unistd.h</code>å®šä¹‰çš„<code>sleep</code>å‡½æ•°,å¹¶è¿”å›å…¶å‡½æ•°æŒ‡é’ˆã€‚</p>
<h5 data-id="heading-6">ä»£ç æ”¹è¿›</h5>
<p>æœ‰äº†ä¸Šè¾¹æä¾›çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä¿å­˜åŸæœ‰sleepå‡½æ•°å¹¶ç»™ä»–åŠ ç‚¹"å°æ–™"ï¼Œä»£ç å¦‚ä¸‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;dlfcn.h&gt;</span></span>
<span class="hljs-keyword">using</span> sleep_fun_type = <span class="hljs-type">unsigned</span> <span class="hljs-built_in">int</span> (*)(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> seconds);

sleep_fun_type original_sleep = <span class="hljs-literal">NULL</span>;

<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> seconds)</span>
</span>{
    std::cout &lt;&lt; <span class="hljs-string">"æˆ‘ä»¬æˆåŠŸä¿®æ”¹äº†ç³»ç»Ÿæä¾›çš„sleepå‡½æ•°!"</span> &lt;&lt; std::endl;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">original_sleep</span>(seconds);                             <span class="hljs-comment">// &lt;-----è¿™é‡Œè°ƒç”¨æˆ‘ä»¬ä¿å­˜ä¸‹æ¥çš„åŸå§‹çš„sleep</span>
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span>
</span>{
    original_sleep = (sleep_fun_type)<span class="hljs-built_in">dlsym</span>(RTLD_NEXT, <span class="hljs-string">"sleep"</span>); <span class="hljs-comment">// &lt;-----è¿™é‡Œè·å¾—äº†unistdä¸­çš„sleep</span>

    std::cout &lt;&lt; <span class="hljs-string">"ä½¿ç”¨sleepå‡½æ•°ç¡2s"</span>&lt;&lt; std::endl;
    <span class="hljs-built_in">sleep</span>(<span class="hljs-number">2</span>);                                                   <span class="hljs-comment">// &lt;-----è¿™é‡Œè°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„sleep</span>
    std::cout &lt;&lt; <span class="hljs-string">"sleepå‡½æ•°ç¡å®Œäº†"</span>&lt;&lt; std::endl;
}

</code></pre>
<p>ä»£ç ç›¸è¾ƒäºå¼€å§‹ï¼Œåªåšäº†ä¸€ç‚¹æ”¹è¿›ï¼Œå³ä¿å­˜åŸå§‹<code>sleep</code>å‡½æ•°ï¼Œå¹¶åœ¨æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„<code>sleep</code>å‡½æ•°ä¸­è°ƒç”¨ä¿å­˜çš„åŸå§‹<code>sleep</code>å‡½æ•°ã€‚</p>
<p>éœ€æ³¨æ„çš„æ˜¯ï¼Œç¼–è¯‘æ—¶åº”åŠ ä¸Š<code>-ldl</code>é€‰é¡¹é“¾æ¥åŠ¨æ€åº“</p>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>ä¸Šè¿°ä»£ç ä»æœ‰è®¸å¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œå®é™…è¿‡ç¨‹ä¸­è¦æ£€æŸ¥<code>dlsym</code>è¿”å›å€¼æ˜¯å¦ä¸ºNULLç­‰é—®é¢˜ï¼ŒåŒæ—¶ä»£ç å¯¹åˆå§‹åŒ–å¹¶ä¸è§„èŒƒï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„åˆå§‹åŒ–æ–¹æ³•(gccç¼–è¯‘å™¨),ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æ›´å…¼å®¹çš„æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">__attribute__((constructor)) <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init_hook</span><span class="hljs-params">()</span>       <span class="hljs-comment">// gccç¼–è¯‘å™¨æä¾›ï¼Œmainå‡½æ•°è¿è¡Œå‰ï¼Œåº“å’Œå†…å­˜åˆå§‹åŒ–å®Œæˆåè¿è¡Œ</span>
</span>{
    <span class="hljs-comment">// åœ¨mainå‡½æ•°æ‰§è¡Œå‰å…ˆåˆå§‹åŒ–â€”original_sleepã€‚</span>
    original_sleep = (SleepFunc)<span class="hljs-built_in">dlsym</span>(RTLD_NEXT,<span class="hljs-string">"sleep"</span>);
}
</code></pre>
<p>æœ€åï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé‡‡ç”¨ä¸Šè¿°æ–¹æ³•é‡æ–°å®šä¹‰sleepï¼Œä¼šä½¿æ‰€æœ‰åº“è¿è¡Œçš„sleepå‡½æ•°éƒ½æ”¹å˜æˆæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„sleepï¼Œå¦‚æœè¿”å›å€¼ä¸åŸsleepå­˜åœ¨å·®å¼‚ï¼Œå¯èƒ½å¯¼è‡´ä¸€äº›å…¶ä»–çš„éšå«é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ç»„ä»¶è§£è€¦å®è·µï¼šç”¨å›è°ƒå‡½æ•°æ¨¡å¼æ›¿ä»£æšä¸¾ç±»å‹ä¼ é€’]]></title>    <link>https://juejin.cn/post/7582601349578522624</link>    <guid>https://juejin.cn/post/7582601349578522624</guid>    <pubDate>2025-12-12T04:41:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582601349578522624" data-draft-id="7582529173828468770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue ç»„ä»¶è§£è€¦å®è·µï¼šç”¨å›è°ƒå‡½æ•°æ¨¡å¼æ›¿ä»£æšä¸¾ç±»å‹ä¼ é€’"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-12T04:41:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹åŒ—æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue ç»„ä»¶è§£è€¦å®è·µï¼šç”¨å›è°ƒå‡½æ•°æ¨¡å¼æ›¿ä»£æšä¸¾ç±»å‹ä¼ é€’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹åŒ—æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:41:52.000Z" title="Fri Dec 12 2025 04:41:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue ç»„ä»¶è§£è€¦å®è·µï¼šç”¨å›è°ƒå‡½æ•°æ¨¡å¼æ›¿ä»£æšä¸¾ç±»å‹ä¼ é€’</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨ Vue ç»„ä»¶å¼€å‘ä¸­ï¼Œçˆ¶å­ç»„ä»¶é€šä¿¡æ˜¯ä¸€ä¸ªå¸¸è§åœºæ™¯ã€‚å½“å­ç»„ä»¶éœ€è¦è§¦å‘çˆ¶ç»„ä»¶çš„æŸä¸ªæ“ä½œï¼Œè€Œçˆ¶ç»„ä»¶åˆéœ€è¦æ ¹æ®è§¦å‘æ¥æºæ‰§è¡Œä¸åŒé€»è¾‘æ—¶ï¼Œå¾ˆå®¹æ˜“å†™å‡ºè€¦åˆåº¦è¾ƒé«˜çš„ä»£ç ã€‚æœ¬æ–‡é€šè¿‡ä¸€ä¸ªçœŸå®çš„ç™»å½•æ¨¡å—é‡æ„æ¡ˆä¾‹ï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨å›è°ƒå‡½æ•°æ¨¡å¼æ¥è§£è€¦ç»„ä»¶ã€‚</p>
<h3 data-id="heading-2">é—®é¢˜åœºæ™¯</h3>
<h4 data-id="heading-3">ä¸šåŠ¡èƒŒæ™¯</h4>
<p>åœ¨ç™»å½•é¡µé¢ä¸­ï¼ŒéªŒè¯ç ç™»å½•ç»„ä»¶æœ‰ä¸¤ä¸ªæ“ä½œå…¥å£ï¼š</p>
<ul>
<li>
<p>ç‚¹å‡»"è·å–éªŒè¯ç "æŒ‰é’®</p>
</li>
<li>
<p>ç‚¹å‡»"ç™»å½•"æŒ‰é’®</p>
</li>
</ul>
<p>ä¸¤ä¸ªæ“ä½œéƒ½éœ€è¦æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åŒæ„æœåŠ¡åè®®ã€‚å¦‚æœæœªåŒæ„ï¼Œéœ€è¦å¼¹å‡ºåè®®ç¡®è®¤å¼¹çª—ã€‚ç”¨æˆ·ç¡®è®¤åï¼Œæ ¹æ®è§¦å‘æ¥æºæ‰§è¡Œä¸åŒçš„åç»­æ“ä½œã€‚</p>
<h4 data-id="heading-4">åŸæœ‰å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// codeLogin.enum.ts - å­ç»„ä»¶å®šä¹‰æšä¸¾</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CodeLoginEnum</span> = {
  <span class="hljs-attr">CODE_BTN</span>: <span class="hljs-string">'code-btn'</span>,    <span class="hljs-comment">// è·å–éªŒè¯ç æŒ‰é’®</span>
  <span class="hljs-attr">LOGIN_BTN</span>: <span class="hljs-string">'login-btn'</span>   <span class="hljs-comment">// ç™»å½•æŒ‰é’®</span>
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-comment">// codeLogin.vue - å­ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getCode</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!isAgree.<span class="hljs-property">value</span>) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'changeCodeAgreeDisplayType'</span>, <span class="hljs-title class_">CodeLoginEnum</span>.<span class="hljs-property">CODE_BTN</span>);  <span class="hljs-comment">// å‘Šè¯‰çˆ¶ç»„ä»¶æ˜¯å“ªä¸ªæŒ‰é’®</span>
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'toggleAgreeDialog'</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// login.vue - çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAgreementConfirm</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (codeAgreeDisplayType.<span class="hljs-property">value</span> === <span class="hljs-title class_">CodeLoginEnum</span>.<span class="hljs-property">LOGIN_BTN</span>) {
    <span class="hljs-comment">// ç™»å½•æŒ‰é’®è§¦å‘çš„ï¼Œéœ€è¦æ ¡éªŒéªŒè¯ç </span>
    <span class="hljs-keyword">if</span> (!verifyKey.<span class="hljs-property">value</span>) {
      <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">warning</span>(<span class="hljs-string">'è¯·å…ˆè·å–éªŒè¯ç '</span>);
      <span class="hljs-keyword">return</span>;
    }
  }
  codeLoginInstance.<span class="hljs-property">value</span>?.<span class="hljs-title function_">doGetCode</span>();
}
</code></pre>
<h4 data-id="heading-5">é—®é¢˜åˆ†æ</h4>
<ol>
<li>
<p><strong>çˆ¶ç»„ä»¶ä¾èµ–å­ç»„ä»¶å†…éƒ¨ç»†èŠ‚</strong>ï¼šçˆ¶ç»„ä»¶éœ€è¦å¯¼å…¥å¹¶ç†è§£ <code>CodeLoginEnum</code></p>
</li>
<li>
<p><strong>è¿åå¼€é—­åŸåˆ™</strong>ï¼šå­ç»„ä»¶æ–°å¢æŒ‰é’®æ—¶ï¼Œçˆ¶ç»„ä»¶ä¹Ÿéœ€è¦ä¿®æ”¹</p>
</li>
<li>
<p><strong>èŒè´£ä¸æ¸…</strong>ï¼šå­ç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨çˆ¶å­ä¸¤ä¸ªç»„ä»¶ä¸­</p>
</li>
<li>
<p><strong>å¯æµ‹è¯•æ€§å·®</strong>ï¼šçˆ¶ç»„ä»¶çš„é€»è¾‘ä¾èµ–å­ç»„ä»¶çš„æšä¸¾å®šä¹‰</p>
</li>
</ol>
<h3 data-id="heading-6">è§£å†³æ–¹æ¡ˆï¼šå›è°ƒå‡½æ•°æ¨¡å¼</h3>
<h4 data-id="heading-7">æ ¸å¿ƒæ€æƒ³</h4>
<blockquote>
<p>å­ç»„ä»¶ä¸å‘Šè¯‰çˆ¶ç»„ä»¶"æˆ‘æ˜¯è°"ï¼Œè€Œæ˜¯å‘Šè¯‰çˆ¶ç»„ä»¶"ç¡®è®¤åè¯·é€šçŸ¥æˆ‘"</p>
</blockquote>
<p>å°†"åç»­è¦æ‰§è¡Œçš„æ“ä½œ"å°è£…ä¸ºå›è°ƒå‡½æ•°ï¼Œä¿å­˜åœ¨å­ç»„ä»¶å†…éƒ¨ã€‚çˆ¶ç»„ä»¶åªéœ€è¦åœ¨é€‚å½“æ—¶æœºé€šçŸ¥å­ç»„ä»¶æ‰§è¡Œå³å¯ã€‚</p>
<h4 data-id="heading-8">é‡æ„åçš„å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// codeLogin.vue - å­ç»„ä»¶</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PendingCallback</span> = (<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>) | <span class="hljs-literal">null</span>;
<span class="hljs-keyword">const</span> pendingCallback = ref&lt;<span class="hljs-title class_">PendingCallback</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getCode</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!isAgree.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// ä¿å­˜å›è°ƒï¼šåè®®ç¡®è®¤åæ‰§è¡Œè·å–éªŒè¯ç </span>
    pendingCallback.<span class="hljs-property">value</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">executeGetCode</span>();
    };
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'toggleAgreeDialog'</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-title function_">executeGetCode</span>();
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">codeLogin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!isAgree.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// ä¿å­˜å›è°ƒï¼šåè®®ç¡®è®¤åæ‰§è¡Œç™»å½•</span>
    pendingCallback.<span class="hljs-property">value</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">emit</span>(<span class="hljs-string">'codeLogin'</span>, mobileValue.<span class="hljs-property">value</span>, areaCodeValue.<span class="hljs-property">value</span>, verifyCodeArg.<span class="hljs-property">value</span>);
    };
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'toggleAgreeDialog'</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'codeLogin'</span>, mobileValue.<span class="hljs-property">value</span>, areaCodeValue.<span class="hljs-property">value</span>, verifyCodeArg.<span class="hljs-property">value</span>);
}

<span class="hljs-comment">// ä¾›çˆ¶ç»„ä»¶è°ƒç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">onAgreementConfirmed</span> = (<span class="hljs-params"/>) =&gt; {
  pendingCallback.<span class="hljs-property">value</span>?.();
  pendingCallback.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
}

<span class="hljs-title function_">defineExpose</span>({ onAgreementConfirmed });
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// login.vue - çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAgreementConfirm</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">toggleIsAgree</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-title function_">toggleAgreeDialog</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAccount</span>()) {
    <span class="hljs-title function_">doLoginFn</span>(loginTempData);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç®€å•é€šçŸ¥å­ç»„ä»¶æ‰§è¡Œå›è°ƒï¼Œæ— éœ€çŸ¥é“å…·ä½“æ˜¯ä»€ä¹ˆæ“ä½œ</span>
    codeLoginInstance.<span class="hljs-property">value</span>?.<span class="hljs-title function_">onAgreementConfirmed</span>();
  }
}
</code></pre>
<h4 data-id="heading-9">æ•°æ®æµå¯¹æ¯”</h4>
<p><strong>é‡æ„å‰ï¼š</strong></p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  å‘é€æŒ‰é’®ç±»å‹   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  æ ¹æ®ç±»å‹åˆ¤æ–­   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­ç»„ä»¶  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ çˆ¶ç»„ä»¶  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ å­ç»„ä»¶  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>é‡æ„åï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  ä¿å­˜å›è°ƒ      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  é€šçŸ¥æ‰§è¡Œ       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­ç»„ä»¶  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ çˆ¶ç»„ä»¶  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ å­ç»„ä»¶  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  è¯·æ±‚æ˜¾ç¤ºå¼¹çª—   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  onConfirmed   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            (ä¸ä¼ ç±»å‹)                   (ä¸ä¼ å‚æ•°)
</code></pre>
<h3 data-id="heading-10">æ–¹æ¡ˆå¯¹æ¯”</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>æšä¸¾ç±»å‹ä¼ é€’</th><th>å›è°ƒå‡½æ•°æ¨¡å¼</th></tr></thead><tbody><tr><td>è€¦åˆåº¦</td><td>é«˜ï¼Œçˆ¶ç»„ä»¶ä¾èµ–å­ç»„ä»¶æšä¸¾</td><td>ä½ï¼Œçˆ¶ç»„ä»¶åªè°ƒç”¨æ–¹æ³•</td></tr><tr><td>æ‰©å±•æ€§</td><td>å·®ï¼Œæ–°å¢ç±»å‹éœ€æ”¹ä¸¤å¤„</td><td>å¥½ï¼Œåªæ”¹å­ç»„ä»¶</td></tr><tr><td>èŒè´£åˆ’åˆ†</td><td>æ¨¡ç³Šï¼Œé€»è¾‘åˆ†æ•£</td><td>æ¸…æ™°ï¼Œå­ç»„ä»¶è‡ªæ²»</td></tr><tr><td>ä»£ç é‡</td><td>éœ€è¦æšä¸¾æ–‡ä»¶</td><td>æ— é¢å¤–æ–‡ä»¶</td></tr><tr><td>å¯æµ‹è¯•æ€§</td><td>å·®ï¼Œä¾èµ–å¤–éƒ¨æšä¸¾</td><td>å¥½ï¼Œé€»è¾‘å†…èš</td></tr></tbody></table>
<h3 data-id="heading-11">é€‚ç”¨åœºæ™¯</h3>
<p>å›è°ƒå‡½æ•°æ¨¡å¼é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>å¼‚æ­¥ç¡®è®¤æµç¨‹</strong>ï¼šå¦‚æœ¬æ–‡çš„åè®®ç¡®è®¤ã€äºŒæ¬¡ç¡®è®¤å¼¹çª—ç­‰</p>
</li>
<li>
<p><strong>å¤šå…¥å£å•å‡ºå£</strong>ï¼šå¤šä¸ªè§¦å‘ç‚¹ï¼Œä½†åç»­å¤„ç†ç”±åŒä¸€ä¸ªç»„ä»¶è´Ÿè´£</p>
</li>
<li>
<p><strong>å­ç»„ä»¶ä¸šåŠ¡è‡ªæ²»</strong>ï¼šå­ç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘ä¸åº”è¯¥æ³„éœ²ç»™çˆ¶ç»„ä»¶</p>
</li>
</ol>
<h3 data-id="heading-12">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>å›è°ƒæ¸…ç†</strong>ï¼šæ‰§è¡Œå®Œå›è°ƒåè®°å¾—ç½®ç©ºï¼Œé¿å…é‡å¤æ‰§è¡Œ</p>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†</strong>ï¼šå›è°ƒæ‰§è¡Œå¯èƒ½å¤±è´¥ï¼Œéœ€è¦è€ƒè™‘å¼‚å¸¸æƒ…å†µ</p>
</li>
<li>
<p><strong>çŠ¶æ€åŒæ­¥</strong>ï¼šç¡®ä¿å›è°ƒæ‰§è¡Œæ—¶ï¼Œç›¸å…³çŠ¶æ€ï¼ˆå¦‚ <code>isAgree</code>ï¼‰å·²æ›´æ–°</p>
</li>
</ol>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p>ç»„ä»¶è§£è€¦çš„æ ¸å¿ƒåŸåˆ™æ˜¯<strong>è®©æ¯ä¸ªç»„ä»¶åªå…³å¿ƒè‡ªå·±çš„èŒè´£</strong>ã€‚å½“å‘ç°çˆ¶ç»„ä»¶éœ€è¦äº†è§£å­ç»„ä»¶çš„å†…éƒ¨å®ç°ç»†èŠ‚æ—¶ï¼Œå°±æ˜¯é‡æ„çš„ä¿¡å·ã€‚</p>
<p>å›è°ƒå‡½æ•°æ¨¡å¼æ˜¯ä¸€ç§ç®€å•æœ‰æ•ˆçš„è§£è€¦æ‰‹æ®µï¼Œå®ƒå°†"åšä»€ä¹ˆ"çš„å†³ç­–æƒç•™ç»™å­ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶åªè´Ÿè´£"ä½•æ—¶åš"çš„åè°ƒã€‚è¿™ç§æ§åˆ¶åè½¬çš„æ€æƒ³ï¼Œåœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¸­éƒ½æœ‰ä½“ç°ï¼Œå€¼å¾—åœ¨æ—¥å¸¸å¼€å‘ä¸­çµæ´»è¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ä»»åŠ¡æ¸…å•å¼€å‘ï¼šæ•°æ®é©±åŠ¨ vs ä¼ ç»Ÿ DOM æ“ä½œ]]></title>    <link>https://juejin.cn/post/7582519152565862415</link>    <guid>https://juejin.cn/post/7582519152565862415</guid>    <pubDate>2025-12-12T05:04:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582519152565862415" data-draft-id="7582475416190779427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue ä»»åŠ¡æ¸…å•å¼€å‘ï¼šæ•°æ®é©±åŠ¨ vs ä¼ ç»Ÿ DOM æ“ä½œ"/> <meta itemprop="keywords" content="JavaScript,Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T05:04:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†»æ¢¨æ”¿å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/2373184444182659"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue ä»»åŠ¡æ¸…å•å¼€å‘ï¼šæ•°æ®é©±åŠ¨ vs ä¼ ç»Ÿ DOM æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2373184444182659/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†»æ¢¨æ”¿å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:04:17.000Z" title="Fri Dec 12 2025 05:04:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue ä»»åŠ¡æ¸…å•å¼€å‘ï¼šæ•°æ®é©±åŠ¨ vs ä¼ ç»Ÿ DOM æ“ä½œ</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œä»»åŠ¡æ¸…å•æ˜¯ä¸€ä¸ªå¸¸è§çš„æ¡ˆä¾‹ï¼Œé€šè¿‡è¿™ä¸ªæ¡ˆä¾‹æˆ‘ä»¬å¯ä»¥æ¸…æ™°å¯¹æ¯”ä¼ ç»Ÿ DOM æ“ä½œä¸ Vue æ•°æ®é©±åŠ¨å¼€å‘çš„å·®å¼‚ã€‚æœ¬æ–‡å°†ç»“åˆå…·ä½“ä»£ç ï¼Œè§£æ Vue çš„æ ¸å¿ƒæ€æƒ³å’Œå¸¸ç”¨ APIã€‚</p>
<h3 data-id="heading-1">ä¼ ç»Ÿå¼€å‘æ–¹å¼çš„å±€é™</h3>
<p>ä¼ ç»Ÿ JavaScript å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ“ä½œ DOM å…ƒç´ æ¥å®ç°åŠŸèƒ½ã€‚ä»¥ä¸‹ä»£ç ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"todo-input"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼éœ€è¦å…ˆè·å–DOMå…ƒç´ </span>
    <span class="hljs-keyword">const</span> app = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'app'</span>);
    <span class="hljs-keyword">const</span> todoInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'todo-input'</span>);
    
    <span class="hljs-comment">// æ‰‹åŠ¨ç»‘å®šäº‹ä»¶å¹¶æ“ä½œDOM</span>
    todoInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
        <span class="hljs-keyword">const</span> todo = event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
        <span class="hljs-keyword">if</span>(!todo){
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯·è¾“å…¥ä»»åŠ¡'</span>);
            <span class="hljs-keyword">return</span> ;
        }<span class="hljs-keyword">else</span>{
            <span class="hljs-comment">// ç›´æ¥ä¿®æ”¹DOMå†…å®¹</span>
            app.<span class="hljs-property">innerHTML</span> = todo;
        }
    })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™ç§æ–¹å¼çš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>éœ€è¦æ‰‹åŠ¨è·å– DOM å…ƒç´ </li>
<li>å‘½ä»¤å¼åœ°æ“ä½œ DOM è¿›è¡Œæ›´æ–°</li>
<li>ä¸šåŠ¡é€»è¾‘ä¸ DOM æ“ä½œæ··æ‚</li>
<li>éšç€åŠŸèƒ½å¤æ‚ï¼Œä»£ç ä¼šå˜å¾—éš¾ä»¥ç»´æŠ¤</li>
</ul>
<h3 data-id="heading-2">Vue çš„æ•°æ®é©±åŠ¨å¼€å‘ç†å¿µ</h3>
<p>Vue é‡‡ç”¨äº†å®Œå…¨ä¸åŒçš„æ€è·¯ï¼šå¼€å‘è€…åªéœ€å…³æ³¨æ•°æ®æœ¬èº«ï¼Œè€Œé DOM æ“ä½œã€‚ä»¥ä»»åŠ¡æ¸…å•ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ•°æ®ç»‘å®š --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- åŒå‘æ•°æ®ç»‘å®š --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"title"</span> @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"addTodo"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ¡ä»¶æ¸²æŸ“ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å¾ªç¯æ¸²æŸ“ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.done"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{done: todo.done}"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>æš‚æ— è®¡åˆ’<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>Vue çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸å†å…³å¿ƒé¡µé¢å…ƒç´ å¦‚ä½•æ“ä½œï¼Œåªå…³æ³¨æ•°æ®å¦‚ä½•å˜åŒ–ã€‚å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨æ›´æ–° DOMï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨æ“ä½œã€‚</p>
<h3 data-id="heading-3">Vue å¸¸ç”¨ API è§£æ</h3>
<ol>
<li>
<p><strong>v-model åŒå‘æ•°æ®ç»‘å®š</strong></p>
<pre><code class="hljs language-ini" lang="ini">&lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> v-model=<span class="hljs-string">"title"</span>&gt;
</code></pre>
<p>å®ç°è¡¨å•è¾“å…¥ä¸æ•°æ®çš„åŒå‘ç»‘å®šï¼Œè¾“å…¥æ¡†çš„å˜åŒ–ä¼šè‡ªåŠ¨æ›´æ–°æ•°æ®ï¼Œæ•°æ®çš„å˜åŒ–ä¹Ÿä¼šè‡ªåŠ¨åæ˜ åˆ°è¾“å…¥æ¡†ã€‚</p>
</li>
<li>
<p><strong>v-for å¾ªç¯æ¸²æŸ“</strong></p>
<pre><code class="hljs language-ini" lang="ini">&lt;li <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> :key=<span class="hljs-string">"todo.id"</span>&gt;
</code></pre>
<p>åŸºäºæ•°ç»„æ¸²æŸ“åˆ—è¡¨ï¼Œ<code>:key</code>ç”¨äºæ ‡è¯†æ¯ä¸ªå…ƒç´ çš„å”¯ä¸€æ€§ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚</p>
</li>
<li>
<p><strong>v-if/v-else æ¡ä»¶æ¸²æŸ“</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
  ...
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>æš‚æ— è®¡åˆ’<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>æ ¹æ®æ¡ä»¶åŠ¨æ€æ¸²æŸ“ä¸åŒçš„å†…å®¹ï¼Œå½“<code>todos</code>æ•°ç»„ä¸ºç©ºæ—¶æ˜¾ç¤º "æš‚æ— è®¡åˆ’"ã€‚</p>
</li>
<li>
<p><strong>:class åŠ¨æ€ç±»ç»‘å®š</strong></p>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">span</span> :class=<span class="hljs-string">"{done: todo.done}"</span>&gt;{{ todo<span class="hljs-selector-class">.title</span> }}&lt;/<span class="hljs-selector-tag">span</span>&gt;
</code></pre>
<p>å½“<code>todo.done</code>ä¸º<code>true</code>æ—¶ï¼Œè‡ªåŠ¨ä¸ºå…ƒç´ æ·»åŠ <code>done</code>ç±»ï¼Œå®ç°å®ŒæˆçŠ¶æ€çš„æ ·å¼å˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>@äº‹ä»¶ç›‘å¬</strong></p>
<pre><code class="hljs language-ini" lang="ini">&lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> @keydown.enter=<span class="hljs-string">"addTodo"</span>&gt;
</code></pre>
<p>ç›‘å¬é”®ç›˜å›è½¦äº‹ä»¶ï¼Œè§¦å‘<code>addTodo</code>æ–¹æ³•ï¼Œ<code>@</code>æ˜¯<code>v-bind:</code>çš„ç¼©å†™ã€‚</p>
</li>
<li>
<p><strong>computed è®¡ç®—å±æ€§</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®¡ç®—æœªå®Œæˆçš„ä»»åŠ¡æ•°é‡</span>
<span class="hljs-keyword">const</span> active = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">done</span>).<span class="hljs-property">length</span>
})

<span class="hljs-comment">// å…¨é€‰åŠŸèƒ½çš„å®ç°</span>
<span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span>)
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">val</span>){
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span> = val)
  }
})
</code></pre>
<p>è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜ç‰¹æ€§ï¼Œåªæœ‰ä¾èµ–çš„æ•°æ®å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œç›¸æ¯”æ–¹æ³•è°ƒç”¨æ›´èŠ‚çœæ€§èƒ½ã€‚å…¨é€‰åŠŸèƒ½å±•ç¤ºäº†è®¡ç®—å±æ€§çš„é«˜çº§ç”¨æ³•ï¼Œé€šè¿‡<code>get</code>å’Œ<code>set</code>å®ç°åŒå‘ç»‘å®šã€‚</p>
</li>
<li>
<p><strong>ref å“åº”å¼æ•°æ®</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">import { <span class="hljs-keyword">ref</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> title = <span class="hljs-keyword">ref</span>(<span class="hljs-string">""</span>);
<span class="hljs-keyword">const</span> todos = <span class="hljs-keyword">ref</span>([...])
</code></pre>
<p>åˆ›å»ºå“åº”å¼æ•°æ®ï¼Œå½“è¿™äº›æ•°æ®å˜åŒ–æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨æ›´æ–°ç›¸å…³çš„ DOMã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">æ€»ç»“</h3>
<p>Vue é€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹å¼ï¼Œæå¤§ç®€åŒ–äº†å‰ç«¯å¼€å‘æµç¨‹ï¼š</p>
<ul>
<li>å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†</li>
<li>å‡å°‘äº†å¤§é‡æ‰‹åŠ¨ DOM æ“ä½œçš„ä»£ç </li>
<li>æä¾›äº†ç®€æ´ç›´è§‚çš„ APIï¼Œé™ä½å­¦ä¹ æˆæœ¬</li>
<li>å†…ç½®çš„æ€§èƒ½ä¼˜åŒ–ï¼ˆå¦‚è®¡ç®—å±æ€§ç¼“å­˜ï¼‰è®©åº”ç”¨è¿è¡Œæ›´é«˜æ•ˆ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Bootæ¥å£å›½é™…åŒ–å¼‚å¸¸ä¿¡æ¯æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7582510291667910707</link>    <guid>https://juejin.cn/post/7582510291667910707</guid>    <pubDate>2025-12-12T05:52:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582510291667910707" data-draft-id="7582510291667877939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Bootæ¥å£å›½é™…åŒ–å¼‚å¸¸ä¿¡æ¯æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Spring Boot,Java"/> <meta itemprop="datePublished" content="2025-12-12T05:52:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/808832912075352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Bootæ¥å£å›½é™…åŒ–å¼‚å¸¸ä¿¡æ¯æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/808832912075352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:52:58.000Z" title="Fri Dec 12 2025 05:52:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦å®ç°Javaåç«¯æ¥å£æ ¹æ®è¯·æ±‚å¤´çš„è¯­è¨€å­—æ®µè¿”å›å¯¹åº”è¯­è¨€çš„å¼‚å¸¸ä¿¡æ¯ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯<strong>å›½é™…åŒ–é…ç½® + å…¨å±€å¼‚å¸¸å¤„ç† + è¯·æ±‚å¤´è¯­è¨€è§£æ</strong>ã€‚ä»¥ä¸‹æ˜¯åŸºäºSpring Bootçš„å®Œæ•´å®ç°æ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-0">ä¸€ã€æ•´ä½“æ–¹æ¡ˆè®¾è®¡</h3>
<ol>
<li><strong>è¯­è¨€æ ‡è¯†çº¦å®š</strong>ï¼šè¯·æ±‚å¤´ä¸­è‡ªå®šä¹‰<code>lang</code>å­—æ®µï¼ˆæˆ–å¤ç”¨<code>Accept-Language</code>ï¼‰ï¼Œå€¼å¦‚<code>zh-CN</code>ï¼ˆä¸­æ–‡ï¼‰ã€<code>en-US</code>ï¼ˆè‹±æ–‡ï¼‰ï¼Œé»˜è®¤å€¼<code>zh-CN</code>ã€‚</li>
<li><strong>å›½é™…åŒ–èµ„æºæ–‡ä»¶</strong>ï¼šå­˜æ”¾ä¸åŒè¯­è¨€çš„é”™è¯¯ä¿¡æ¯æ¨¡æ¿ã€‚</li>
<li><strong>è‡ªå®šä¹‰å¼‚å¸¸ç±»</strong>ï¼šæºå¸¦é”™è¯¯ç å’Œå‚æ•°ï¼Œä¾¿äºåŒ¹é…å›½é™…åŒ–ä¿¡æ¯ã€‚</li>
<li><strong>è¯­è¨€è§£æå·¥å…·</strong>ï¼šä»è¯·æ±‚å¤´æå–è¯­è¨€æ ‡è¯†ï¼Œè½¬æ¢ä¸º<code>Locale</code>å¯¹è±¡ã€‚</li>
<li><strong>å…¨å±€å¼‚å¸¸å¤„ç†å™¨</strong>ï¼šæ•è·å¼‚å¸¸åï¼Œæ ¹æ®è¯­è¨€è§£æç»“æœåŠ è½½å¯¹åº”è¯­è¨€çš„é”™è¯¯ä¿¡æ¯å¹¶è¿”å›ã€‚</li>
<li><strong>MessageSourceé…ç½®</strong>ï¼šåŠ è½½å›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼Œæ”¯æŒå‚æ•°æ›¿æ¢ã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€å…·ä½“å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-2">1. é…ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶</h4>
<p>åœ¨<code>src/main/resources</code>ä¸‹åˆ›å»º<code>i18n</code>ç›®å½•ï¼Œå­˜æ”¾å¤šè¯­è¨€é…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li>
<p><strong>messages_zh_CN.properties</strong>ï¼ˆä¸­æ–‡ï¼‰</p>
<ul>
<li>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¸šåŠ¡å¼‚å¸¸</span>
<span class="hljs-attr">error.user.not.found</span>=ç”¨æˆ·ä¸å­˜åœ¨ï¼Œç”¨æˆ·IDï¼š{<span class="hljs-number">0</span>}
<span class="hljs-attr">error.param.invalid</span>=å‚æ•°æ— æ•ˆï¼Œå‚æ•°åï¼š{<span class="hljs-number">0</span>}
<span class="hljs-comment"># ç³»ç»Ÿå¼‚å¸¸</span>
<span class="hljs-attr">error.system.error</span>=ç³»ç»Ÿå†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>messages_en_US.properties</strong>ï¼ˆè‹±æ–‡ï¼‰</p>
<ul>
<li>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¸šåŠ¡å¼‚å¸¸</span>
<span class="hljs-attr">error.user.not.found</span>=User not found, User ID: {<span class="hljs-number">0</span>}
<span class="hljs-attr">error.param.invalid</span>=Invalid parameter, Parameter name: {<span class="hljs-number">0</span>}
<span class="hljs-comment"># ç³»ç»Ÿå¼‚å¸¸</span>
<span class="hljs-attr">error.system.error</span>=System internal error, please try again later
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">2. è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»</h4>
<p>åˆ›å»º<code>BusinessException</code>ï¼Œç”¨äºæŠ›å‡ºä¸šåŠ¡ç›¸å…³å¼‚å¸¸ï¼Œæºå¸¦é”™è¯¯ç å’Œå‚æ•°ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.example.demo.exception;

<span class="hljs-keyword">import</span> lombok.<span class="hljs-type">Getter</span>;

<span class="hljs-comment">/**
 * è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸
 */</span>
<span class="hljs-meta">@Getter</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BusinessException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RuntimeException</span> </span>{
    <span class="hljs-comment">// é”™è¯¯ç ï¼ˆå¯¹åº”å›½é™…åŒ–é…ç½®æ–‡ä»¶çš„keyï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> errorCode;
    <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯å‚æ•°ï¼ˆç”¨äºæ›¿æ¢å›½é™…åŒ–æ¨¡æ¿ä¸­çš„å ä½ç¬¦ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span>[] args;

    public <span class="hljs-type">BusinessException</span>(<span class="hljs-type">String</span> errorCode) {
        <span class="hljs-keyword">this</span>(errorCode, <span class="hljs-literal">null</span>);
    }

    public <span class="hljs-type">BusinessException</span>(<span class="hljs-type">String</span> errorCode, <span class="hljs-type">Object</span>... args) {
        <span class="hljs-keyword">super</span>(errorCode);
        <span class="hljs-keyword">this</span>.errorCode = errorCode;
        <span class="hljs-keyword">this</span>.args = args;
    }
}
</code></pre>
<h4 data-id="heading-4">3. è¯­è¨€è§£æå·¥å…·ç±»</h4>
<p>åˆ›å»º<code>LocaleUtils</code>ï¼Œä»Httpè¯·æ±‚å¤´è§£æè¯­è¨€æ ‡è¯†ï¼Œè½¬æ¢ä¸º<code>Locale</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.utils;

<span class="hljs-keyword">import</span> jakarta.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> java.util.Locale;

<span class="hljs-comment">/**
 * è¯­è¨€è§£æå·¥å…·ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LocaleUtils</span> {
    <span class="hljs-comment">// è¯·æ±‚å¤´ä¸­è¯­è¨€å­—æ®µåï¼ˆè‡ªå®šä¹‰ï¼Œä¹Ÿå¯å¤ç”¨Accept-Languageï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">LANG_HEADER</span> <span class="hljs-operator">=</span> <span class="hljs-string">"lang"</span>;
    <span class="hljs-comment">// é»˜è®¤è¯­è¨€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Locale</span> <span class="hljs-variable">DEFAULT_LOCALE</span> <span class="hljs-operator">=</span> Locale.SIMPLIFIED_CHINESE;

    <span class="hljs-comment">/**
     * ä»è¯·æ±‚å¤´è§£æLocale
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Locale <span class="hljs-title function_">getLocaleFromRequest</span><span class="hljs-params">(HttpServletRequest request)</span> {
        <span class="hljs-keyword">if</span> (request == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> DEFAULT_LOCALE;
        }
        <span class="hljs-comment">// è·å–è¯·æ±‚å¤´ä¸­çš„langå€¼</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">lang</span> <span class="hljs-operator">=</span> request.getHeader(LANG_HEADER);
        <span class="hljs-keyword">if</span> (lang == <span class="hljs-literal">null</span> || lang.trim().isEmpty()) {
            <span class="hljs-keyword">return</span> DEFAULT_LOCALE;
        }
        <span class="hljs-comment">// è§£ælangå€¼ï¼ˆæ”¯æŒzh-CNã€en-USã€zhã€enç­‰æ ¼å¼ï¼‰</span>
        String[] langParts = lang.split(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (langParts.length) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Locale</span>(langParts[<span class="hljs-number">0</span>]); <span class="hljs-comment">// å¦‚zh -&gt; Locale("zh")</span>
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Locale</span>(langParts[<span class="hljs-number">0</span>], langParts[<span class="hljs-number">1</span>]); <span class="hljs-comment">// å¦‚zh-CN -&gt; Locale("zh", "CN")</span>
            <span class="hljs-keyword">default</span> -&gt; DEFAULT_LOCALE;
        };
    }
}
</code></pre>
<h4 data-id="heading-5">4. é…ç½®MessageSourceï¼ˆåŠ è½½å›½é™…åŒ–èµ„æºï¼‰</h4>
<p>åœ¨Spring Booté…ç½®ç±»ä¸­æ³¨å†Œ<code>MessageSource</code> Beanï¼ŒåŠ è½½å›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.config;

<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.context.support.ResourceBundleMessageSource;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.LocaleResolver;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;

<span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;
<span class="hljs-keyword">import</span> java.util.Locale;

<span class="hljs-comment">/**
 * å›½é™…åŒ–é…ç½®
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">I18nConfig</span> {

    <span class="hljs-comment">/**
     * é…ç½®MessageSourceï¼ŒåŠ è½½å›½é™…åŒ–èµ„æºæ–‡ä»¶
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ResourceBundleMessageSource <span class="hljs-title function_">messageSource</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ResourceBundleMessageSource</span> <span class="hljs-variable">messageSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResourceBundleMessageSource</span>();
        <span class="hljs-comment">// æŒ‡å®šèµ„æºæ–‡ä»¶åŸºç¡€åï¼ˆi18nç›®å½•ä¸‹çš„messagesï¼‰</span>
        messageSource.setBasename(<span class="hljs-string">"i18n/messages"</span>);
        <span class="hljs-comment">// è®¾ç½®ç¼–ç ï¼Œé¿å…ä¸­æ–‡ä¹±ç </span>
        messageSource.setDefaultEncoding(StandardCharsets.UTF_8.name());
        <span class="hljs-comment">// é»˜è®¤è¯­è¨€</span>
        messageSource.setDefaultLocale(Locale.SIMPLIFIED_CHINESE);
        <span class="hljs-comment">// ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œå¼€å‘æ—¶è®¾ä¸º0ï¼Œç”Ÿäº§å¯è®¾ä¸º3600</span>
        messageSource.setCacheSeconds(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> messageSource;
    }

    <span class="hljs-comment">/**
     * é…ç½®LocaleResolverï¼ˆå¯é€‰ï¼Œå¤ç”¨Accept-Languageæ—¶ç”Ÿæ•ˆï¼‰
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> LocaleResolver <span class="hljs-title function_">localeResolver</span><span class="hljs-params">()</span> {
        <span class="hljs-type">AcceptHeaderLocaleResolver</span> <span class="hljs-variable">resolver</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AcceptHeaderLocaleResolver</span>();
        resolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE);
        <span class="hljs-keyword">return</span> resolver;
    }
}
</code></pre>
<h4 data-id="heading-6">5. å…¨å±€å¼‚å¸¸å¤„ç†å™¨</h4>
<p>åˆ›å»º<code>GlobalExceptionHandler</code>ï¼Œæ•è·å¼‚å¸¸å¹¶è¿”å›å¯¹åº”è¯­è¨€çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo.exception;

<span class="hljs-keyword">import</span> com.example.demo.utils.LocaleUtils;
<span class="hljs-keyword">import</span> jakarta.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> org.springframework.context.MessageSource;
<span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseStatus;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;

<span class="hljs-keyword">import</span> java.util.Locale;

<span class="hljs-comment">/**
 * å…¨å±€å¼‚å¸¸å¤„ç†å™¨
 */</span>
<span class="hljs-meta">@RestControllerAdvice</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {

    <span class="hljs-comment">// æ³¨å…¥å›½é™…åŒ–æ¶ˆæ¯æº</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MessageSource messageSource;

    <span class="hljs-comment">/**
     * å¤„ç†ä¸šåŠ¡å¼‚å¸¸
     */</span>
    <span class="hljs-meta">@ExceptionHandler(BusinessException.class)</span>
    <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span>
    <span class="hljs-keyword">public</span> Result&lt;?&gt; handleBusinessException(BusinessException e, HttpServletRequest request) {
        <span class="hljs-comment">// è§£æè¯·æ±‚å¤´çš„è¯­è¨€</span>
        <span class="hljs-type">Locale</span> <span class="hljs-variable">locale</span> <span class="hljs-operator">=</span> LocaleUtils.getLocaleFromRequest(request);
        <span class="hljs-comment">// ä»å›½é™…åŒ–é…ç½®ä¸­è·å–å¯¹åº”è¯­è¨€çš„é”™è¯¯ä¿¡æ¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">errorMessage</span> <span class="hljs-operator">=</span> messageSource.getMessage(
                e.getErrorCode(), <span class="hljs-comment">// é”™è¯¯ç ï¼ˆå¯¹åº”é…ç½®æ–‡ä»¶çš„keyï¼‰</span>
                e.getArgs(),      <span class="hljs-comment">// å ä½ç¬¦å‚æ•°</span>
                e.getErrorCode(), <span class="hljs-comment">// é»˜è®¤å€¼ï¼ˆé…ç½®æ–‡ä»¶æ— è¯¥keyæ—¶ä½¿ç”¨ï¼‰</span>
                locale            <span class="hljs-comment">// è¯­è¨€</span>
        );
        <span class="hljs-keyword">return</span> Result.fail(HttpStatus.BAD_REQUEST.value(), errorMessage);
    }

    <span class="hljs-comment">/**
     * å¤„ç†ç³»ç»Ÿå¼‚å¸¸
     */</span>
    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span>
    <span class="hljs-meta">@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)</span>
    <span class="hljs-keyword">public</span> Result&lt;?&gt; handleSystemException(Exception e, HttpServletRequest request) {
        <span class="hljs-type">Locale</span> <span class="hljs-variable">locale</span> <span class="hljs-operator">=</span> LocaleUtils.getLocaleFromRequest(request);
        <span class="hljs-type">String</span> <span class="hljs-variable">errorMessage</span> <span class="hljs-operator">=</span> messageSource.getMessage(
                <span class="hljs-string">"error.system.error"</span>,
                <span class="hljs-literal">null</span>,
                <span class="hljs-string">"System internal error"</span>,
                locale
        );
        <span class="hljs-comment">// æ‰“å°ç³»ç»Ÿå¼‚å¸¸æ ˆï¼ˆç”Ÿäº§ç¯å¢ƒå¯æ¥å…¥æ—¥å¿—æ¡†æ¶ï¼‰</span>
        e.printStackTrace();
        <span class="hljs-keyword">return</span> Result.fail(HttpStatus.INTERNAL_SERVER_ERROR.value(), errorMessage);
    }

    <span class="hljs-comment">/**
     * ç»Ÿä¸€è¿”å›ç»“æœå°è£…
     */</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-meta">@AllArgsConstructor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>&lt;T&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;       <span class="hljs-comment">// çŠ¶æ€ç </span>
        <span class="hljs-keyword">private</span> String message; <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span>
        <span class="hljs-keyword">private</span> T data;         <span class="hljs-comment">// æ•°æ®ï¼ˆå¼‚å¸¸æ—¶ä¸ºnullï¼‰</span>

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">fail</span><span class="hljs-params">(<span class="hljs-type">int</span> code, String message)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(code, message, <span class="hljs-literal">null</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-7">6. æ¥å£ç¤ºä¾‹ï¼ˆæµ‹è¯•å¼‚å¸¸è¿”å›ï¼‰</h4>
<p>åˆ›å»º<code>UserController</code>ï¼Œæ¨¡æ‹ŸæŸ¥è¯¢ç”¨æˆ·æ¥å£ï¼Œä¸å­˜åœ¨æ—¶æŠ›ä¸šåŠ¡å¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.example.demo.controller;

<span class="hljs-keyword">import</span> com.example.demo.exception.BusinessException;
<span class="hljs-keyword">import</span> com.example.demo.exception.GlobalExceptionHandler;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.GetMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.PathVariable;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RestController;

<span class="hljs-comment">/**
 * æµ‹è¯•æ¥å£
 */</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/users"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·
     */</span>
    <span class="hljs-meta">@GetMapping(<span class="hljs-string">"/{userId}"</span>)</span>
    <span class="hljs-keyword">public</span> GlobalExceptionHandler.Result&lt;?&gt; getUser(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">Long</span> userId) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿç”¨æˆ·ä¸å­˜åœ¨çš„åœºæ™¯</span>
        <span class="hljs-keyword">if</span> (userId &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// æŠ›ä¸šåŠ¡å¼‚å¸¸ï¼Œæºå¸¦é”™è¯¯ç å’Œå‚æ•°ï¼ˆç”¨æˆ·IDï¼‰</span>
            <span class="hljs-keyword">throw</span> new BusinessException(<span class="hljs-string">"error.user.not.found"</span>, userId);
        }
        <span class="hljs-keyword">return</span> new GlobalExceptionHandler.Result&lt;&gt;(<span class="hljs-number">200</span>, <span class="hljs-string">"success"</span>, <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯ï¼š"</span> + userId);
    }
}
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€æµ‹è¯•éªŒè¯</h3>
<p>ä½¿ç”¨Postman/Curlè°ƒç”¨æ¥å£ï¼Œé€šè¿‡è¯·æ±‚å¤´<code>lang</code>æŒ‡å®šè¯­è¨€ï¼š</p>
<h4 data-id="heading-9">1. æµ‹è¯•ä¸­æ–‡è¿”å›ï¼ˆlang=zh-CNï¼‰</h4>
<ul>
<li>
<p>è¯·æ±‚ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">GET http://localhost:8080/users/-1
Header: lang=zh-CN
</code></pre>
</li>
</ul>
</li>
<li>
<p>å“åº”ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼Œç”¨æˆ·IDï¼š-1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">2. æµ‹è¯•è‹±æ–‡è¿”å›ï¼ˆlang=en-USï¼‰</h4>
<ul>
<li>
<p>è¯·æ±‚ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">GET http://localhost:8080/users/-1
Header: lang=en-US
</code></pre>
</li>
</ul>
</li>
<li>
<p>å“åº”ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"User not found, User ID: -1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">3. æµ‹è¯•é»˜è®¤è¯­è¨€ï¼ˆä¸ä¼ é€’langï¼‰</h4>
<ul>
<li>
<p>è¯·æ±‚ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">GET http://localhost:8080/users/-1
</code></pre>
</li>
</ul>
</li>
<li>
<p>å“åº”ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼Œç”¨æˆ·IDï¼š-1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-12">å››ã€æ‰©å±•è¯´æ˜</h3>
<ol start="7">
<li>
<p><strong>å¤ç”¨Accept-Language</strong>ï¼šè‹¥æƒ³å¤ç”¨HTTPæ ‡å‡†å¤´<code>Accept-Language</code>ï¼Œåªéœ€ä¿®æ”¹<code>LocaleUtils</code>ä¸­çš„<code>LANG_HEADER</code>ä¸º<code>Accept-Language</code>ï¼Œå¹¶é€‚é…è§£æé€»è¾‘ï¼ˆ<code>Accept-Language</code>æ ¼å¼å¦‚<code>zh-CN,zh;q=0.9,en;q=0.8</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ›´å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæ–°å¢<code>messages_ja_JP.properties</code>ï¼ˆæ—¥è¯­ï¼‰ç­‰é…ç½®æ–‡ä»¶ï¼Œå³å¯æ”¯æŒæ›´å¤šè¯­è¨€ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ç è§„èŒƒ</strong>ï¼šå»ºè®®å°†é”™è¯¯ç æšä¸¾åŒ–ï¼ˆå¦‚<code>ErrorCode.USER_NOT_FOUND</code>ï¼‰ï¼Œé¿å…ç¡¬ç¼–ç ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–</strong>ï¼š</p>
<ol>
<li>å¼‚å¸¸æ ˆä¿¡æ¯ä¸è¦è¿”å›ç»™å‰ç«¯ï¼Œä»…æ‰“å°åˆ°æ—¥å¿—ï¼›</li>
<li><code>MessageSource</code>çš„<code>cacheSeconds</code>è®¾ä¸º3600ï¼Œæå‡æ€§èƒ½ï¼›</li>
<li>æ¥å…¥æ—¥å¿—æ¡†æ¶ï¼ˆå¦‚Logback/Log4j2ï¼‰è®°å½•å¼‚å¸¸è¯¦æƒ…ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-13">äº”ã€æ ¸å¿ƒä¾èµ–ï¼ˆpom.xmlï¼‰</h3>
<p>ç¡®ä¿Spring BootåŸºç¡€ä¾èµ–å·²å¼•å…¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>è¯¥æ–¹æ¡ˆå®ç°äº†å¼‚å¸¸ä¿¡æ¯çš„å›½é™…åŒ–ï¼Œç¬¦åˆRESTfulæ¥å£è®¾è®¡è§„èŒƒï¼Œä¸”æ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»åš DOM çš„â€œæ¬è¿å·¥â€ï¼šä» Vanilla JS åˆ° Vue 3 å“åº”å¼æ€ç»´çš„è¿›åŒ–]]></title>    <link>https://juejin.cn/post/7582516300050038811</link>    <guid>https://juejin.cn/post/7582516300050038811</guid>    <pubDate>2025-12-12T05:20:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582516300050038811" data-draft-id="7582516300049973275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»åš DOM çš„â€œæ¬è¿å·¥â€ï¼šä» Vanilla JS åˆ° Vue 3 å“åº”å¼æ€ç»´çš„è¿›åŒ–"/> <meta itemprop="keywords" content="Vue.js,JavaScript,å“åº”å¼ç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-12T05:20:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="San30"/> <meta itemprop="url" content="https://juejin.cn/user/1766294768060816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»åš DOM çš„â€œæ¬è¿å·¥â€ï¼šä» Vanilla JS åˆ° Vue 3 å“åº”å¼æ€ç»´çš„è¿›åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1766294768060816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    San30
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:20:17.000Z" title="Fri Dec 12 2025 05:20:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åœ¨å‰ç«¯å¼€å‘çš„æ¼«é•¿æ¼”è¿›ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å¬åˆ°â€œæ•°æ®é©±åŠ¨â€è¿™ä¸ªè¯ã€‚ä½†å¯¹äºå¾ˆå¤šä¹ æƒ¯äº† jQuery æˆ–è€…åŸç”Ÿ JavaScriptï¼ˆVanilla JSï¼‰çš„å¼€å‘è€…æ¥è¯´ï¼Œä»â€œæ“ä½œ DOMâ€åˆ°â€œæ“ä½œæ•°æ®â€çš„æ€ç»´è½¬å˜ï¼Œå¾€å¾€æ¯”å­¦ä¹ æ–°è¯­æ³•æ›´éš¾ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†é€šè¿‡é‡æ„ä¸€ä¸ªç»å…¸çš„ <strong>Todos ä»»åŠ¡æ¸…å•</strong>åº”ç”¨ï¼Œæ¥æ·±åº¦å‰–æ Vue 3 Composition API æ˜¯å¦‚ä½•è§£æ”¾æˆ‘ä»¬çš„åŒæ‰‹ï¼Œè®©æˆ‘ä»¬ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œéç¹ççš„é¡µé¢æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-0">1. ç—›ç‚¹å›é¡¾ï¼šåŸç”Ÿ JS çš„â€œå‘½ä»¤å¼â€å›°å¢ƒ</h2>
<p>åœ¨æ²¡æœ‰æ¡†æ¶çš„æ—¶ä»£ï¼Œå†™ä¸€ä¸ªç®€å•çš„è¾“å…¥æ¡†å›æ˜¾åŠŸèƒ½ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ç»å†è¿™å‡ ä¸ªæ­¥éª¤ï¼šå¯»æ‰¾å…ƒç´  -&gt; ç›‘å¬äº‹ä»¶ -&gt; è·å–å€¼ -&gt; ä¿®æ”¹ DOMã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªåŸºäºåŸç”Ÿ JS çš„å®ç°ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å…ˆæ‰¾åˆ°DOMå…ƒç´ , å‘½ä»¤å¼çš„, æœºæ¢°çš„</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'app'</span>);
<span class="hljs-keyword">const</span> todoInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'todo-input'</span>);

todoInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> todo = event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">if</span> (!todo) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// æ‰‹åŠ¨æ“ä½œ DOM æ›´æ–°</span>
    app.<span class="hljs-property">innerHTML</span> = todo; 
})
</code></pre>
<p>è¿™ç§ä»£ç è¢«ç§°ä¸º<strong>å‘½ä»¤å¼ç¼–ç¨‹ï¼ˆImperative Programmingï¼‰</strong> ã€‚æ­£å¦‚åœ¨ä»£ç æ³¨é‡Šä¸­æ‰€å†™ï¼Œè¿™æ˜¯ä¸€ç§â€œæœºæ¢°â€çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬éœ€è¦å…³æ³¨æ¯ä¸€ä¸ªæ­¥éª¤çš„å®ç°ç»†èŠ‚ã€‚è€Œä¸”ï¼Œé¢‘ç¹åœ°æ“ä½œ DOM æ€§èƒ½æ˜¯ä½ä¸‹çš„ï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°äº† JS å¼•æ“ï¼ˆV8ï¼‰ä¸æ¸²æŸ“å¼•æ“ä¹‹é—´çš„è·¨ç•Œé€šä¿¡ã€‚</p>
<p>éšç€åº”ç”¨å˜å¾—å¤æ‚ï¼Œå¤§é‡çš„ <code>getElementById</code> å’Œ <code>innerHTML</code> ä¼šè®©ä»£ç å˜æˆéš¾ä»¥ç»´æŠ¤çš„â€œæ„å¤§åˆ©é¢æ¡â€ã€‚</p>
<h2 data-id="heading-1">2. Vue 3 çš„ç ´å±€ï¼šå“åº”å¼æ•°æ®ä¸å£°æ˜å¼æ¸²æŸ“</h2>
<p>Vue çš„æ ¸å¿ƒåœ¨äº<strong>å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative Programmingï¼‰</strong> ã€‚ä½ åªéœ€è¦å‘Šè¯‰ Vue â€œæƒ³è¦ä»€ä¹ˆç»“æœâ€ï¼Œä¸­é—´çš„ DOM æ›´æ–°è¿‡ç¨‹ç”± Vue æ›¿ä½ å®Œæˆã€‚</p>
<p>åœ¨ Vue 3 ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>setup</code> å‡½æ•°å’Œ Composition APIï¼ˆç»„åˆå¼ APIï¼‰æ¥ç»„ç»‡é€»è¾‘ã€‚</p>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒæ¦‚å¿µï¼š<code>ref</code> ä¸æ•°æ®é©±åŠ¨</h3>
<p>åœ¨ <code>App.vue</code> ä¸­ï¼Œæˆ‘ä»¬ä¸å†å»æŸ¥è¯¢ DOM å…ƒç´ ï¼Œè€Œæ˜¯å®šä¹‰äº†<strong>å“åº”å¼æ•°æ®</strong>ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// å“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">""</span>);
<span class="hljs-keyword">const</span> todos = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¡è§‰'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åƒé¥­'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
]);
</code></pre>
<p>è¿™é‡Œä½“ç°äº† Vue å¼€å‘çš„æ ¸å¿ƒæ€è·¯ï¼š <strong>â€œä¸å†éœ€è¦æ€è€ƒé¡µé¢çš„å…ƒç´ æ€ä¹ˆæ“ä½œï¼Œè€Œæ˜¯è¦æ€è€ƒæ•°æ®æ˜¯æ€ä¹ˆå˜åŒ–çš„â€</strong> ã€‚</p>
<h3 data-id="heading-3">2.2 æŒ‡ä»¤ï¼šè¿æ¥æ•°æ®ä¸è§†å›¾çš„æ¡¥æ¢</h3>
<p>æœ‰äº†æ•°æ®ï¼Œæˆ‘ä»¬é€šè¿‡ Vue çš„æŒ‡ä»¤å°†æ•°æ®ç»‘å®šåˆ°æ¨¡æ¿ä¸Šï¼š</p>
<ul>
<li><strong>åŒå‘ç»‘å®š (<code>v-model</code>)</strong> ï¼š<code>&lt;input type="text" v-model="title"&gt;</code>ã€‚å½“ç”¨æˆ·è¾“å…¥æ—¶ï¼Œ<code>title</code> å˜é‡è‡ªåŠ¨æ›´æ–°ï¼›åä¹‹äº¦ç„¶ã€‚è¿™æ¯”æ‰‹åŠ¨å†™ <code>addEventListener</code> ä¼˜é›…å¾—å¤šã€‚</li>
<li><strong>åˆ—è¡¨æ¸²æŸ“ (<code>v-for</code>)</strong> ï¼š<code>&lt;li v-for="todo in todos" :key="todo.id"&gt;</code>ã€‚Vue ä¼šæ ¹æ® <code>todos</code> æ•°ç»„çš„å˜åŒ–ï¼Œæ™ºèƒ½åœ°æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ–° <code>&lt;li&gt;</code> å…ƒç´ ã€‚æ³¨æ„è¿™é‡Œ <code>:key</code> çš„ä½¿ç”¨ï¼Œå®ƒæ˜¯ Vue è¯†åˆ«èŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯¹æ€§èƒ½è‡³å…³é‡è¦ã€‚</li>
<li><strong>æ ·å¼ç»‘å®š (<code>:class</code>)</strong> ï¼š<code>&lt;span :class="{done: todo.done}"&gt;</code>ã€‚æˆ‘ä»¬ä¸å†éœ€è¦æ‰‹åŠ¨ <code>classList.add('done')</code>ï¼Œåªéœ€æ”¹å˜æ•°æ® <code>todo.done</code>ï¼Œæ ·å¼å°±ä¼šè‡ªåŠ¨ç”Ÿæ•ˆã€‚</li>
</ul>
<h3 data-id="heading-4">2.3 æ™ºèƒ½çš„æ¡ä»¶æ¸²æŸ“ï¼šv-if ä¸ v-else çš„æ’ä»–æ€§é€»è¾‘</h3>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç”¨æˆ·ä½“éªŒç»†èŠ‚è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼Œå½“ä»»åŠ¡åˆ—è¡¨è¢«æ¸…ç©ºæ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ç•™ç»™ç”¨æˆ·ä¸€ç‰‡ç©ºç™½ï¼Œè€Œåº”è¯¥å±•ç¤ºâ€œæš‚æ— ä»»åŠ¡â€çš„æç¤ºã€‚åœ¨åŸç”Ÿ JS ä¸­ï¼Œè¿™é€šå¸¸éœ€è¦æˆ‘ä»¬åœ¨æ¯æ¬¡æ·»åŠ æˆ–åˆ é™¤æ“ä½œåï¼Œæ‰‹åŠ¨æ£€æŸ¥æ•°ç»„é•¿åº¦å¹¶åˆ‡æ¢ DOM çš„ <code>display</code> å±æ€§ã€‚</p>
<p>è€Œåœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>v-if</code> å’Œ <code>v-else</code> æŒ‡ä»¤ï¼Œåƒå†™ <code>if-else</code> ä»£ç å—ä¸€æ ·åœ¨æ¨¡æ¿ä¸­è½»æ¾å¤„ç†è¿™ç§é€»è¾‘åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
    ...
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æš‚æ— ä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>ä»£ç æ·±åº¦è§£æï¼š</strong></p>
<ol>
<li><strong>çœŸå® DOM çš„é”€æ¯ä¸é‡å»º</strong>ï¼š<code>v-if</code> æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ã€‚å½“ <code>todos.length</code> ä¸º 0 æ—¶ï¼ŒVue ä¸ä»…ä»…æ˜¯éšè—äº† <code>&lt;ul&gt;</code>ï¼ˆåƒ CSS çš„ <code>display: none</code> é‚£æ ·ï¼‰ï¼Œè€Œæ˜¯ç›´æ¥ä» DOM ä¸­<strong>ç§»é™¤</strong>äº†æ•´ä¸ªåˆ—è¡¨å…ƒç´ ã€‚è¿™æ„å‘³ç€æ­¤æ—¶ DOM ä¸­åªæœ‰ <code>&lt;div&gt;æš‚æ— ä»»åŠ¡&lt;/div&gt;</code>ï¼Œå‡å°‘äº†é¡µé¢çš„ DOM èŠ‚ç‚¹æ•°é‡ã€‚</li>
<li><strong>å“åº”å¼åˆ‡æ¢</strong>ï¼šä¸€æ—¦æˆ‘ä»¬å‘ <code>todos</code> æ•°ç»„ <code>push</code> äº†ä¸€æ¡æ–°æ•°æ®ï¼Œ<code>todos.length</code> å˜ä¸º 1ã€‚Vue çš„å“åº”å¼ç³»ç»Ÿä¼šç«‹å³æ„ŸçŸ¥ï¼Œé”€æ¯ <code>v-else</code> å…ƒç´ ï¼Œå¹¶é‡æ–°åˆ›å»ºå¹¶æ’å…¥ <code>&lt;ul&gt;</code> åˆ—è¡¨ã€‚</li>
<li><strong>é€»è¾‘äº’æ–¥</strong>ï¼š<code>v-else</code> å¿…é¡»ç´§è·Ÿåœ¨ <code>v-if</code> å…ƒç´ ä¹‹åï¼Œå®ƒä»¬æ„æˆäº†ä¸€ä¸ªå°é—­çš„é€»è¾‘ç»„ï¼Œä¿è¯äº†åŒä¸€æ—¶é—´é¡µé¢ä¸Šåªä¼šå­˜åœ¨å…¶ä¸­ä¸€ç§çŠ¶æ€ã€‚</li>
</ol>
<p>é€šè¿‡è¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†ç•Œé¢çš„åŠ¨æ€äº¤äº’ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å°†â€œåˆ—è¡¨ä¸ºç©ºæ—¶æ˜¾ç¤ºä»€ä¹ˆâ€çš„<strong>ä¸šåŠ¡é€»è¾‘</strong>ç›´æ¥é€šè¿‡æ¨¡æ¿è¡¨è¾¾äº†å‡ºæ¥ï¼Œä¸ä»…ä»£ç é‡å‡å°‘äº†ï¼Œæ„å›¾ä¹Ÿæ›´åŠ æ¸…æ™°ã€‚</p>
<h2 data-id="heading-5">3. æ·±åº¦è§£æï¼šComputed è®¡ç®—å±æ€§ vs. æ¨¡æ¿é€»è¾‘</h2>
<p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®ç°æœ‰çš„æ•°æ®è®¡ç®—å‡ºæ–°çš„çŠ¶æ€ï¼Œæ¯”å¦‚ç»Ÿè®¡â€œå‰©ä½™æœªå®Œæˆä»»åŠ¡æ•°â€ã€‚</p>
<h3 data-id="heading-6">3.1 ä¸ºä»€ä¹ˆè¦ç”¨ Computedï¼Ÿ</h3>
<p>åˆå­¦è€…å¯èƒ½ä¼šç›´æ¥åœ¨æ¨¡æ¿é‡Œå†™é€»è¾‘ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML">{{ todos.filter(todo =&gt; !todo.done).length }}
</code></pre>
<p>è™½ç„¶è¿™ä¹Ÿèƒ½å·¥ä½œï¼Œä½† Vue å®˜æ–¹æ›´æ¨èä½¿ç”¨ <strong>Computedï¼ˆè®¡ç®—å±æ€§ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„è®¡ç®—å±æ€§</span>
<span class="hljs-keyword">const</span> active = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">done</span>).<span class="hljs-property">length</span>
})
</code></pre>
<p><strong><code>computed</code> çš„å››å¤§ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–ï¼ˆå¸¦ç¼“å­˜ï¼‰</strong> ï¼šè¿™æ˜¯æœ€å¤§çš„åŒºåˆ«ã€‚æ¨¡æ¿å†…çš„è¡¨è¾¾å¼åœ¨æ¯æ¬¡ç»„ä»¶é‡æ¸²æŸ“æ—¶éƒ½ä¼š<strong>é‡æ–°æ‰§è¡Œ</strong>ã€‚è€Œ <code>computed</code> åªæœ‰åœ¨å®ƒä¾èµ–çš„æ•°æ®ï¼ˆè¿™é‡Œæ˜¯ <code>todos</code>ï¼‰å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚å¦‚æœ <code>todos</code> æ²¡å˜ï¼Œå¤šæ¬¡è®¿é—® <code>active</code> ä¼šç›´æ¥è¿”å›ç¼“å­˜å€¼ã€‚</li>
<li><strong>å¯è¯»æ€§</strong>ï¼šå°†å¤æ‚çš„é€»è¾‘ä» HTML æ¨¡æ¿ä¸­å‰¥ç¦»åˆ° JS ä¸­ï¼Œè®©æ¨¡æ¿ä¿æŒå¹²å‡€ã€è¯­ä¹‰åŒ–ã€‚</li>
<li><strong>å¯å¤ç”¨æ€§</strong>ï¼š<code>active</code> å¯ä»¥åœ¨æ¨¡æ¿ä¸­å¤šå¤„ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ JS é€»è¾‘ä¸­è¢«å¼•ç”¨ã€‚</li>
<li><strong>è°ƒè¯•ä¸æµ‹è¯•</strong>ï¼šå•ç‹¬æµ‹è¯•ä¸€ä¸ª JS å‡½æ•°è¿œæ¯”æµ‹è¯•æ¨¡æ¿ä¸­çš„ä¸€æ®µé€»è¾‘è¦å®¹æ˜“ã€‚</li>
</ol>
<h3 data-id="heading-7">3.2 è¿›é˜¶æŠ€å·§ï¼šComputed çš„ Get ä¸ Set</h3>
<p>è®¡ç®—å±æ€§é€šå¸¸æ˜¯åªè¯»çš„ï¼Œä½† Vue ä¹Ÿå…è®¸æˆ‘ä»¬å®šä¹‰ <code>set</code> æ–¹æ³•ï¼Œè¿™åœ¨å¤„ç†â€œå…¨é€‰/å…¨ä¸é€‰â€åŠŸèƒ½æ—¶éå¸¸å¼ºå¤§ã€‚</p>
<p>çœ‹çœ‹è¿™æ®µç²¾å¦™çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-comment">// è¯»å–å€¼ï¼šåˆ¤æ–­æ˜¯å¦æ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆ</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span>)
  },
  <span class="hljs-comment">// è®¾ç½®å€¼ï¼šå½“ç‚¹å‡»å…¨é€‰æ¡†æ—¶ï¼Œå°†æ‰€æœ‰ä»»åŠ¡çŠ¶æ€åŒæ­¥ä¿®æ”¹</span>
  <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>) {
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span> = value)
  }
})
</code></pre>
<p>åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬åªéœ€ç»‘å®š <code>&lt;input type="checkbox" v-model="allDone"&gt;</code>ã€‚</p>
<ul>
<li>å½“ç”¨æˆ·ç‚¹å‡»å¤é€‰æ¡†ï¼ŒVue è°ƒç”¨ <code>set(value)</code>ï¼Œæˆ‘ä»¬éå†æ•°ç»„æ›´æ–°æ‰€æœ‰ <code>todo.done</code>ã€‚</li>
<li>å½“æ‰€æœ‰å­ä»»åŠ¡è¢«æ‰‹åŠ¨å‹¾é€‰ï¼Œ<code>get()</code> è¿”å› <code>true</code>ï¼Œå…¨é€‰æ¡†è‡ªåŠ¨è¢«å‹¾é€‰ã€‚</li>
</ul>
<p>è¿™ç§åŒå‘çš„é€»è¾‘è”åŠ¨ï¼Œå¦‚æœç”¨åŸç”Ÿ JS å®ç°ï¼Œéœ€è¦ç¼–å†™å¤§é‡çš„äº‹ä»¶ç›‘å¬å’ŒçŠ¶æ€åˆ¤æ–­ä»£ç ï¼Œè€Œåœ¨ Vue ä¸­ï¼Œå®ƒè¢«å°è£…æˆäº†ä¸€ä¸ªä¼˜é›…çš„å±æ€§ã€‚</p>
<h2 data-id="heading-8">4. æ€»ç»“ï¼šVue å¼€å‘æ–¹å¼çš„å“²å­¦</h2>
<p>ä» <code>demo.html</code> åˆ° <code>App.vue</code>ï¼Œæˆ‘ä»¬ç»å†çš„ä¸ä»…ä»…æ˜¯è¯­æ³•çš„æ”¹å˜ï¼Œæ›´æ˜¯æ€ç»´æ¨¡å¼çš„é‡æ„ï¼š</p>
<ul>
<li><strong>Focus on Business</strong>ï¼šæˆ‘ä»¬ä¸å†æ˜¯æµè§ˆå™¨çš„â€œå»ºç­‘å·¥äººâ€ï¼ˆæ¬è¿ DOMï¼‰ï¼Œè€Œæ˜¯â€œè®¾è®¡å¸ˆâ€ï¼ˆå®šä¹‰æ•°æ®çŠ¶æ€ï¼‰ã€‚</li>
<li><strong>Composition API</strong>ï¼š<code>setup</code>ã€<code>ref</code>ã€<code>computed</code> è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´çµæ´»åœ°ç»„åˆé€»è¾‘ï¼Œæ¯” Vue 2 çš„ Options API æ›´åˆ©äºä»£ç å¤ç”¨å’Œç±»å‹æ¨æ–­ã€‚</li>
<li><strong>Best Practices</strong>ï¼šæ°¸è¿œä¸è¦åœ¨æ¨¡æ¿ä¸­å†™å¤æ‚çš„é€»è¾‘ï¼Œå–„ç”¨ <code>computed</code> ç¼“å­˜æœºåˆ¶ã€‚</li>
</ul>
<p>Vue 3 é€šè¿‡å“åº”å¼ç³»ç»Ÿï¼Œæ›¿æˆ‘ä»¬å¤„ç†äº†è„æ´»ç´¯æ´»ï¼ˆDOM æ›´æ–°ï¼‰ï¼Œè®©æˆ‘ä»¬èƒ½å°†ç²¾åŠ›é›†ä¸­åœ¨çœŸæ­£æœ‰ä»·å€¼çš„<strong>ä¸šåŠ¡é€»è¾‘</strong>ä¸Šã€‚å¯¹äºæƒ³è¦æ„å»ºå¤æ‚äº¤äº’ç³»ç»Ÿï¼ˆå¦‚ç²’å­ç‰¹æ•ˆã€æ•°æ®å¯è§†åŒ–ï¼‰çš„å¼€å‘è€…æ¥è¯´ï¼ŒæŒæ¡è¿™ç§â€œæ•°æ®é©±åŠ¨â€çš„æ€ç»´æ˜¯è¿ˆå‘é«˜é˜¶å¼€å‘çš„ç¬¬ä¸€æ­¥ã€‚</p>
<h2 data-id="heading-9">5.é™„å½•ï¼šå®Œæ•´<code>App.vue</code>ä»£ç </h2>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"title"</span> @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"addTodo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.done"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{done: todo.done}"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æš‚æ— ä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      å…¨é€‰<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"allDone"</span>&gt;</span>
      {{ active }}
      /
      {{ todos.length }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">""</span>);
<span class="hljs-keyword">const</span> todos = <span class="hljs-title function_">ref</span>([
  {
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¡è§‰'</span>,
    <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>
  },
  {
    <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-string">'åƒé¥­'</span>,
    <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>
  }
]);

<span class="hljs-keyword">const</span> active = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">done</span>).<span class="hljs-property">length</span>
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">addTodo</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span>(!title.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
  todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: todos.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>,
    <span class="hljs-attr">title</span>: title.<span class="hljs-property">value</span>,
    <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>
  });
  title.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
}
<span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span>)
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>) {
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span> = value)
  }
})
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css">&lt;style&gt;
  <span class="hljs-selector-class">.done</span> {
    <span class="hljs-attribute">color</span>: gray;
    <span class="hljs-attribute">text-decoration</span>: line-through;
  }
&lt;/style&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HTMLæ ‡ç­¾ - åˆ—è¡¨æ ‡ç­¾]]></title>    <link>https://juejin.cn/post/7582516300050153499</link>    <guid>https://juejin.cn/post/7582516300050153499</guid>    <pubDate>2025-12-12T05:39:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582516300050153499" data-draft-id="7582529173828239394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HTMLæ ‡ç­¾ - åˆ—è¡¨æ ‡ç­¾"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T05:39:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GinoWi"/> <meta itemprop="url" content="https://juejin.cn/user/687651121011707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HTMLæ ‡ç­¾ - åˆ—è¡¨æ ‡ç­¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/687651121011707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GinoWi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:39:24.000Z" title="Fri Dec 12 2025 05:39:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">HTMLæ ‡ç­¾ - åˆ—è¡¨æ ‡ç­¾</h2>
<p>é¦–å…ˆéœ€è¦çŸ¥é“ï¼Œä»€ä¹ˆæ˜¯åˆ—è¡¨æ ‡ç­¾ï¼Ÿ</p>
<p>åˆ—è¡¨æ ‡ç­¾çš„ä½œç”¨å°±æ˜¯ç»™ä¸€å †æ•°æ®æ·»åŠ <strong>åˆ—è¡¨è¯­ä¹‰</strong>ï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰æµè§ˆå™¨è¿™ä¸€å †æ•°æ®æ˜¯ä¸€ä¸ªæ•´ä½“ã€‚</p>
<h4 data-id="heading-1">æ— åºåˆ—è¡¨ï¼ˆunordered listï¼‰</h4>
<ul>
<li>ä½œç”¨ï¼šç»™ä¸€å †æ•°æ®æ·»åŠ åˆ—è¡¨è¯­ä¹‰ï¼Œå¹¶ä¸”è¿™ä¸€å †æ•°æ®ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½<strong>æ²¡æœ‰å…ˆåä¹‹åˆ†</strong>ã€‚</li>
</ul>
<blockquote>
<p><strong>é‚£ä¹ˆä»€ä¹ˆå«åšæœ‰å…ˆåä¹‹åˆ†ï¼Ÿä»€ä¹ˆå«åšæ²¡æœ‰å…ˆåä¹‹åˆ†ï¼Ÿ</strong></p>
<p>è¿™ä¸€éƒ¨åˆ†æ•°æ®ä¸èƒ½éšæ„æ›¿æ¢å±•ç¤ºå…ˆåé¡ºåºçš„ï¼Œå°±æ˜¯æœ‰å…ˆåä¹‹åˆ†ï¼Œä¾‹å¦‚ï¼šæ’è¡Œæ¦œ</p>
<p>è¿™ä¸€éƒ¨åˆ†æ•°æ®å¯ä»¥éšæ„æ›¿æ¢å±•ç¤ºå…ˆåé¡ºåºçš„ï¼Œå°±æ˜¯æ²¡æœ‰å…ˆåä¹‹åˆ†ï¼Œä¾‹å¦‚ï¼šä¸­å›½åŸå¸‚åˆ—è¡¨</p>
</blockquote>
<ul>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li><strong>æ— åºåˆ—è¡¨æ˜¯ç”¨æ¥ç»™ä¸€å †æ•°æ®æ·»åŠ åˆ—è¡¨è¯­ä¹‰çš„ï¼Œè€Œä¸æ˜¯ç”¨äºç»™è¿™ä¸€å †æ•°æ®æ·»åŠ å°åœ†ç‚¹æ ·å¼çš„ã€‚</strong></li>
<li><code>ul</code>æ ‡ç­¾å’Œ<code>li</code>æ ‡ç­¾æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<code>ul</code>æ ‡ç­¾å’Œ<code>li</code>æ ‡ç­¾éƒ½æ˜¯ä¸€èµ·å‡ºç°ï¼Œä¸ä¼šå•ç‹¬å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šå•ç‹¬ä½¿ç”¨ä¸€ä¸ª<code>ul</code>æ ‡ç­¾æˆ–è€…å•ç‹¬ä½¿ç”¨ä¸€ä¸ª<code>li</code>æ ‡ç­¾ï¼Œéƒ½æ˜¯ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚</li>
<li>ç”±äº<code>ul</code>æ ‡ç­¾å’Œ<code>li</code>æ ‡ç­¾æ˜¯ä¸€ä¸ªç»„åˆï¼Œæ‰€ä»¥<code>ul</code>æ ‡ç­¾ä¸­ä¸æ¨èåŒ…å«å…¶ä»–æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥ååœ¨<code>ul</code>æ ‡ç­¾ä¸­ä¸€èˆ¬æƒ…å†µä¸‹åªä¼šçœ‹åˆ°<code>li</code>æ ‡ç­¾ã€‚</li>
<li>å‰é¢è¯´è¿‡<code>ul</code>ä¸­æœ€å¥½åªæ”¾<code>li</code>æ ‡ç­¾ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ<code>li</code>æ ‡ç­¾ä¸­çš„å†…å®¹å¯èƒ½ä¼šå¾ˆå¤æ‚ï¼Œæ‰€ä»¥å¯ä»¥ç»§ç»­åœ¨<code>li</code>æ ‡ç­¾ä¸­æ·»åŠ å…¶ä»–æ ‡ç­¾æ¥ä¸°å¯Œç•Œé¢ã€‚</li>
<li>åœ¨æ— åºåˆ—è¡¨çš„<code>li</code>æ ‡ç­¾ä¸­ï¼Œé™¤äº†å¯ä»¥æ·»åŠ å…¶ä»–æ ‡ç­¾æ¥ä¸°å¯Œç•Œé¢ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ·»åŠ <code>ul</code>æ ‡ç­¾æ¥ä¸°å¯Œç•Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´<code>ul</code>ä¸­æœ‰<code>li</code>ï¼Œ<code>li</code>ä¸­åˆå¯ä»¥æœ‰<code>ul</code>ã€‚</li>
</ul>
</li>
<li>
<p>å¿«æ·é”®ï¼š</p>
<ul>
<li><code>ul&gt;li</code> + <code>tab</code>é”®ï¼šç”Ÿæˆä¸€å¯¹<code>ul</code>æ ‡ç­¾ï¼Œåœ¨<code>ul</code>æ ‡ç­¾ä¸­ç”Ÿæˆä¸€å¯¹<code>li</code>æ ‡ç­¾ã€‚</li>
<li><code>ul&gt;li*3</code> + <code>tab</code>é”®ï¼šç”Ÿæˆä¸€å¯¹<code>ul</code>æ ‡ç­¾ï¼Œåœ¨ulæ ‡ç­¾ä¸­ç”Ÿæˆ3å¯¹<code>li</code>æ ‡ç­¾ã€‚</li>
</ul>
</li>
<li>
<p>æ— åºåˆ—è¡¨åº”ç”¨åœºæ™¯ä¸¾ä¾‹ï¼š</p>
<ul>
<li>æ–°é—»åˆ—è¡¨</li>
<li>å•†å“åˆ—è¡¨</li>
<li>å¯¼èˆªæ¡</li>
</ul>
</li>
</ul>
<h4 data-id="heading-2">æœ‰åºåˆ—è¡¨ï¼ˆordered listï¼‰</h4>
<ul>
<li>
<p>ä½œç”¨ï¼šç»™ä¸€å †æ•°æ®æ·»åŠ è¯­ä¹‰ï¼Œå¹¶ä¸”è¿™ä¸€å †æ•°æ®ä¸­æ‰€æœ‰çš„æ•°æ®éƒ½<strong>æœ‰å…ˆåä¹‹åˆ†</strong>ã€‚</p>
</li>
<li>
<p>æ ¼å¼ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
</code></pre>
<ul>
<li>æœ‰åºåˆ—è¡¨çš„åŒºåˆ«ä»…ä»…æ˜¯æ˜¯å¦æœ‰å…ˆåä¹‹åˆ†ï¼Œå…¶ä»–çš„ä½¿ç”¨æ–¹æ³•å’Œæ³¨æ„ç‚¹ä¸æ— åºåˆ—è¡¨<code>ul</code>æ ‡ç­¾éƒ½å·®ä¸å¤šã€‚</li>
</ul>
<h4 data-id="heading-3">å®šä¹‰åˆ—è¡¨ï¼ˆdefinition listï¼‰</h4>
<ul>
<li>
<p>ä½œç”¨ï¼šç»™ä¸€å †æ•°æ®æ·»åŠ åˆ—è¡¨è¯­ä¹‰ï¼Œå…ˆé€šè¿‡<code>dt</code>æ ‡ç­¾å®šä¹‰åˆ—è¡¨ä¸­çš„<strong>æ‰€æœ‰æ ‡é¢˜</strong>ï¼Œç„¶åé€šè¿‡<code>dd</code>æ ‡ç­¾ç»™æ¯ä¸ªæ ‡é¢˜æ·»åŠ <strong>æè¿°ä¿¡æ¯</strong>ã€‚</p>
</li>
<li>
<p>æ ¼å¼ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">dl</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>ä¸­å›½çš„é¦–éƒ½<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>ä¸­å›½çš„ç»æµä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span>
</code></pre>
<ul>
<li>
<p>æ ‡ç­¾å«ä¹‰ï¼š<code>dt</code>å’Œ<code>dd</code>éƒ½æ˜¯è‹±æ–‡ç¼©å†™ï¼Œ<code>dt</code>æ˜¯definition titleçš„ç¼©å†™ï¼Œæ‰€ä»¥<code>dt</code>çš„å«ä¹‰å°±æ˜¯ç”¨æ¥å®šä¹‰<strong>åˆ—è¡¨ä¸­çš„æ ‡é¢˜</strong>ï¼›<code>dd</code>æ˜¯definition descriptionçš„ç¼©å†™ï¼Œæ‰€ä»¥<code>dd</code>çš„å«ä¹‰å°±æ˜¯ç”¨æ¥å®šä¹‰<strong>æ ‡é¢˜å¯¹åº”çš„æè¿°</strong>ã€‚</p>
</li>
<li>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åšç½‘ç«™å°¾éƒ¨çš„ç›¸å…³ä¿¡æ¯</li>
<li>å›¾æ–‡æ··æ’</li>
</ul>
</li>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>å’Œ<code>ul/ol</code>ä¸€æ ·ï¼Œ<code>dl</code>å’Œ<code>dt/dd</code>æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šå•ç‹¬å‡ºç°ï¼Œéƒ½æ˜¯ä¸€èµ·å‡ºç°ã€‚</li>
<li>å’Œ<code>ul/ol</code>ä¸€æ ·ï¼Œç”±äº<code>dl</code>å’Œ<code>dt/dd</code>æ˜¯ä¸€ä¸ªç»„åˆæ ‡ç­¾ï¼Œæ‰€ä»¥<code>dl</code>ä¸­å»ºè®®åªæ”¾<code>dt</code>å’Œ<code>dd</code>æ ‡ç­¾ã€‚</li>
<li>ä¸€ä¸ª<code>dt</code>å¯ä»¥æ²¡æœ‰å¯¹åº”çš„<code>dd</code>ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå¯¹åº”çš„<code>dd</code>ï¼Œä½†æ˜¯æ— è®ºæœ‰å¤šä¸ª<code>dd</code>æˆ–è€…æ²¡æœ‰<code>dd</code>ï¼Œéƒ½ä¸æ¨èä½¿ç”¨ã€‚æ¨èä½¿ç”¨ä¸€ä¸ª<code>dt</code>å¯¹åº”ä¸€ä¸ª<code>dd</code>ã€‚</li>
<li>å’Œ<code>li</code>æ ‡ç­¾ä¸€æ ·ï¼Œå½“éœ€è¦ä¸°å¯Œç•Œé¢çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨<code>dt/dd</code>æ ‡ç­¾ä¸­ç»§ç»­æ·»åŠ å…¶ä»–æ ‡ç­¾ï¼Œä½†æ˜¯å»ºè®®ä¸è¦å†<code>dl</code>æ ‡ç­¾ä¸­æ·»åŠ ã€‚</li>
</ul>
</li>
<li>
<p>å¿«æ·é”®ï¼š</p>
<ul>
<li><code>dl&gt;dt+dd</code> + <code>tab</code>é”®ï¼šç”Ÿæˆä¸€å¯¹<code>dl</code>æ ‡ç­¾ï¼Œåœ¨<code>dl</code>æ ‡ç­¾å½“ä¸­ç”Ÿæˆä¸€å¯¹<code>dt</code>å’Œ<code>dd</code>æ ‡ç­¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å‚è€ƒé“¾æ¥ï¼š</strong></p>
<p>W3Schoolå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3school.com.cn%2F" target="_blank" title="https://www.w3school.com.cn/" ref="nofollow noopener noreferrer">www.w3school.com.cn</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React æ€§èƒ½ä¼˜åŒ–ï¼ˆæ–¹å‘ï¼‰]]></title>    <link>https://juejin.cn/post/7582510826814849075</link>    <guid>https://juejin.cn/post/7582510826814849075</guid>    <pubDate>2025-12-12T05:45:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582510826814849075" data-draft-id="7582510291667599411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React æ€§èƒ½ä¼˜åŒ–ï¼ˆæ–¹å‘ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-12T05:45:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹‹æ’å›"/> <meta itemprop="url" content="https://juejin.cn/user/2261046026312318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React æ€§èƒ½ä¼˜åŒ–ï¼ˆæ–¹å‘ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2261046026312318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹‹æ’å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T05:45:48.000Z" title="Fri Dec 12 2025 05:45:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-estuary-light">.hljs-comment,.hljs-quote{color:#6c6b5a}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ba6236}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#ae7313}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7d9726}.hljs-section,.hljs-title{color:#36a166}.hljs-keyword,.hljs-selector-tag{color:#5f9182}.hljs-addition,.hljs-deletion{color:#22221b;display:inline-block;width:100%}.hljs-deletion{background-color:#ba6236}.hljs-addition{background-color:#7d9726}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f4f3ec;color:#5f5e4e}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>React æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“</strong>ã€<strong>é™ä½æ¸²æŸ“æˆæœ¬</strong>ã€<strong>ä¼˜åŒ–èµ„æºåŠ è½½</strong>ï¼Œæœ€ç»ˆæå‡åº”ç”¨å“åº”é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚ä»¥ä¸‹ä»ã€Œæ¸²æŸ“ä¼˜åŒ–ã€ã€Œä»£ç ä¸èµ„æºä¼˜åŒ–ã€ã€Œè¿è¡Œæ—¶ä¼˜åŒ–ã€ã€Œæ¶æ„å±‚ä¼˜åŒ–ã€å››ä¸ªç»´åº¦ï¼Œç³»ç»Ÿæ¢³ç† React æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…å«å…·ä½“åœºæ™¯ã€å®ç°æ–¹å¼åŠåŸç†ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ¸²æŸ“ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“</h2>
<p>React ä¸­æœ€å¸¸è§çš„æ€§èƒ½é—®é¢˜æ˜¯ã€Œç»„ä»¶æ— æ„ä¹‰é‡æ¸²æŸ“ã€â€”â€” çˆ¶ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œå­ç»„ä»¶å³ä½¿ props/state æœªå˜åŒ–ä¹Ÿè¢«è¿«é‡æ–°æ‰§è¡Œ renderã€‚éœ€ä»ã€Œæ§åˆ¶æ¸²æŸ“è§¦å‘æ¡ä»¶ã€ã€Œéš”ç¦»æ¸²æŸ“ä¸Šä¸‹æ–‡ã€ä¸¤æ–¹é¢ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-1">1. ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“è§¦å‘æ¡ä»¶</h3>
<p>é€šè¿‡æ§åˆ¶ <code>shouldComponentUpdate</code>ï¼ˆç±»ç»„ä»¶ï¼‰æˆ– <code>React.memo</code>ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰ï¼Œåˆ¤æ–­ç»„ä»¶æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-2">ï¼ˆ1ï¼‰ç±»ç»„ä»¶ï¼š<code>shouldComponentUpdate</code> ä¸ <code>PureComponent</code></h4>
<ul>
<li><strong><code>shouldComponentUpdate(nextProps, nextState)</code></strong> ï¼šæ‰‹åŠ¨åˆ¤æ–­ props/state æ˜¯å¦å˜åŒ–ï¼Œè¿”å› <code>false</code> å¯é˜»æ­¢é‡æ¸²æŸ“ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šé¿å…å› çˆ¶ç»„ä»¶ä¼ é€’çš„ä¸å˜ propsï¼ˆå¦‚å‡½æ•°ã€å¯¹è±¡ï¼‰å¯¼è‡´å­ç»„ä»¶é‡æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">shouldComponentUpdate</span>(<span class="hljs-params">nextProps</span>) {
    <span class="hljs-comment">// ä»…å½“å…³é”® propsï¼ˆå¦‚ idã€nameï¼‰å˜åŒ–æ—¶æ‰æ¸²æŸ“</span>
    <span class="hljs-keyword">return</span> nextProps.<span class="hljs-property">id</span> !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">id</span> || nextProps.<span class="hljs-property">name</span> !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">name</span>;
  }
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{this.props.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}
</code></pre>
<ul>
<li><strong><code>React.PureComponent</code></strong>ï¼šå†…ç½®æµ…æ¯”è¾ƒï¼ˆshallow comparisonï¼‰é€»è¾‘çš„ç±»ç»„ä»¶ï¼Œè‡ªåŠ¨å¯¹æ¯” <code>props</code> å’Œ <code>state</code> çš„<strong>è¡¨å±‚å±æ€§</strong>ï¼ˆåŸºæœ¬ç±»å‹ç›´æ¥æ¯”ï¼Œå¼•ç”¨ç±»å‹æ¯”åœ°å€ï¼‰ã€‚</li>
</ul>
<p>âœ… é€‚ç”¨åœºæ™¯ï¼šç»„ä»¶ props/state å‡ä¸ºåŸºæœ¬ç±»å‹ï¼ˆstring/number/booleanï¼‰ï¼Œæˆ–å¼•ç”¨ç±»å‹ï¼ˆå¯¹è±¡/æ•°ç»„ï¼‰ä¸é¢‘ç¹ä¿®æ”¹ã€‚</p>
<p>âŒ æ³¨æ„ï¼šè‹¥ props åŒ…å«å¼•ç”¨ç±»å‹ï¼ˆå¦‚ <code>{ age: 18 }</code>ï¼‰ï¼Œå³ä½¿å†…å®¹ä¸å˜ä½†åœ°å€å˜åŒ–ï¼ˆçˆ¶ç»„ä»¶æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»ºï¼‰ï¼Œ<code>PureComponent</code> ä»ä¼šè¯¯åˆ¤é‡æ¸²æŸ“ï¼Œéœ€é…åˆã€Œä¸å¯å˜æ•°æ®ã€æˆ–ã€Œç¼“å­˜å¼•ç”¨ã€ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-3">ï¼ˆ2ï¼‰å‡½æ•°ç»„ä»¶ï¼š<code>React.memo</code></h4>
<p><code>React.memo</code> æ˜¯å‡½æ•°ç»„ä»¶ç‰ˆçš„ã€Œæµ…æ¯”è¾ƒä¼˜åŒ–ã€ï¼Œæœ¬è´¨æ˜¯é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰ï¼ŒåŒ…è£¹å‡½æ•°ç»„ä»¶åï¼Œä»…å½“ props è¡¨å±‚å˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“ã€‚</p>
<ul>
<li>
<p>åŸºç¡€ç”¨æ³•ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä»…å½“ props.name æˆ– props.id å˜åŒ–æ—¶æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ name, id }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
});
</code></pre>
</li>
</ul>
</li>
<li>
<p>è‡ªå®šä¹‰æ¯”è¾ƒé€»è¾‘ï¼šè‹¥éœ€æ·±æ¯”è¾ƒæˆ–è‡ªå®šä¹‰åˆ¤æ–­è§„åˆ™ï¼Œå¯ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼ˆç±»ä¼¼ <code>shouldComponentUpdate</code>ï¼‰ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(
  <span class="hljs-function">(<span class="hljs-params">{ user, id }</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,
  <span class="hljs-comment">// è‡ªå®šä¹‰æ¯”è¾ƒï¼šä»…å½“ user.id æˆ– id å˜åŒ–æ—¶æ¸²æŸ“</span>
  <span class="hljs-function">(<span class="hljs-params">prevProps, nextProps</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> prevProps.<span class="hljs-property">user</span>.<span class="hljs-property">id</span> === nextProps.<span class="hljs-property">user</span>.<span class="hljs-property">id</span> &amp;&amp; prevProps.<span class="hljs-property">id</span> === nextProps.<span class="hljs-property">id</span>;
  }
);
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">2. ç¼“å­˜å¼•ç”¨ç±»å‹ï¼šé¿å…æµ…æ¯”è¾ƒè¯¯åˆ¤</h3>
<p>çˆ¶ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œè‹¥ä¼ é€’ç»™å­ç»„ä»¶çš„ã€Œå¼•ç”¨ç±»å‹ propsã€ï¼ˆå‡½æ•°ã€å¯¹è±¡ã€æ•°ç»„ï¼‰æ¯æ¬¡éƒ½æ˜¯æ–°åˆ›å»ºçš„ï¼ˆå³ä½¿å†…å®¹ä¸å˜ï¼‰ï¼Œä¼šå¯¼è‡´ <code>PureComponent</code>/<code>React.memo</code> è¯¯åˆ¤ä¸ºã€Œprops å˜åŒ–ã€ï¼Œè§¦å‘ä¸å¿…è¦é‡æ¸²æŸ“ã€‚éœ€é€šè¿‡ç¼“å­˜å¼•ç”¨è§£å†³ã€‚</p>
<h4 data-id="heading-5">ï¼ˆ1ï¼‰ç¼“å­˜å‡½æ•°ï¼š<code>useCallback</code>ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰</h4>
<p><code>useCallback</code> ç¼“å­˜å‡½æ•°å¼•ç”¨ï¼Œç¡®ä¿ç»„ä»¶é‡æ¸²æŸ“æ—¶ï¼Œè‹¥ä¾èµ–é¡¹æœªå˜åŒ–ï¼Œè¿”å›çš„å‡½æ•°å¼•ç”¨å§‹ç»ˆä¸å˜ã€‚</p>
<ul>
<li>
<p>é—®é¢˜åœºæ™¯ï¼šçˆ¶ç»„ä»¶æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»ºå‡½æ•°ï¼Œå¯¼è‡´å­ç»„ä»¶è¯¯æ¸²æŸ“ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ï¼šæ¯æ¬¡ Parent æ¸²æŸ“ï¼ŒhandleClick éƒ½æ˜¯æ–°å‡½æ•°ï¼ŒChildï¼ˆReact.memoï¼‰ä¼šé‡æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç‚¹å‡»"</span>);
  };
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span> /&gt;</span></span>;
};
</code></pre>
</li>
</ul>
</li>
<li>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼šç”¨ <code>useCallback</code> ç¼“å­˜å‡½æ•°ï¼Œä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„æ—¶ï¼Œå‡½æ•°å¼•ç”¨æ°¸ä¹…ä¸å˜ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// æ­£ç¡®ï¼šä¾èµ–é¡¹ä¸ºç©ºï¼ŒhandleClick å¼•ç”¨å§‹ç»ˆä¸å˜</span>
  <span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç‚¹å‡»"</span>);
  }, []); 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span> /&gt;</span></span>;
};
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-6">ï¼ˆ2ï¼‰ç¼“å­˜å¯¹è±¡/æ•°ç»„ï¼š<code>useMemo</code>ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰</h4>
<p><code>useMemo</code> ç¼“å­˜è®¡ç®—ç»“æœï¼ˆå¦‚å¯¹è±¡ã€æ•°ç»„ã€å¤æ‚è®¡ç®—å€¼ï¼‰ï¼Œç¡®ä¿ä¾èµ–é¡¹æœªå˜åŒ–æ—¶ï¼Œè¿”å›çš„å¼•ç”¨ä¸å˜ã€‚</p>
<ul>
<li>
<p>é—®é¢˜åœºæ™¯ï¼šçˆ¶ç»„ä»¶æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»ºå¯¹è±¡ï¼Œå¯¼è‡´å­ç»„ä»¶è¯¯æ¸²æŸ“ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ï¼šæ¯æ¬¡ Parent æ¸²æŸ“ï¼Œuser éƒ½æ˜¯æ–°å¯¹è±¡ï¼ŒChildï¼ˆReact.memoï¼‰ä¼šé‡æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }; 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span></span>;
};
</code></pre>
</li>
</ul>
</li>
<li>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼šç”¨ <code>useMemo</code> ç¼“å­˜å¯¹è±¡ï¼Œä¾èµ–é¡¹ä¸ºç©ºæ—¶ï¼Œå¯¹è±¡å¼•ç”¨ä¸å˜ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// æ­£ç¡®ï¼šä¾èµ–é¡¹ä¸ºç©ºï¼Œuser å¼•ç”¨å§‹ç»ˆä¸å˜</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }), []); 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span></span>;
};
</code></pre>
</li>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä»…å½“ list æˆ– keyword å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°è¿‡æ»¤æ•°æ®</span>
<span class="hljs-keyword">const</span> filteredList = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(keyword));
}, [list, keyword]);
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">3. éš”ç¦»æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼šé¿å…çˆ¶ç»„ä»¶æ¸²æŸ“å½±å“å­ç»„ä»¶</h3>
<p>è‹¥å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çŠ¶æ€å®Œå…¨æ— å…³ï¼Œå¯é€šè¿‡ã€ŒçŠ¶æ€æå‡ã€ã€Œç‹¬ç«‹ç»„ä»¶æ‹†åˆ†ã€æˆ–ã€Œä½¿ç”¨ <code>React.memo</code> éš”ç¦»ã€ï¼Œé¿å…çˆ¶ç»„ä»¶æ¸²æŸ“æ—¶å­ç»„ä»¶è¢«åŠ¨é‡æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-8">å…¸å‹åœºæ™¯ï¼šæ‹†åˆ†ã€Œé¢‘ç¹æ›´æ–°ç»„ä»¶ã€ä¸ã€Œé™æ€ç»„ä»¶ã€</h4>
<p>çˆ¶ç»„ä»¶åŒ…å«ã€Œé¢‘ç¹æ›´æ–°çš„éƒ¨åˆ†ã€ï¼ˆå¦‚è®¡æ•°å™¨ï¼‰å’Œã€Œé™æ€éƒ¨åˆ†ã€ï¼ˆå¦‚æ ‡é¢˜ã€è¯´æ˜ï¼‰ï¼Œè‹¥ä¸æ‹†åˆ†ï¼Œé™æ€éƒ¨åˆ†ä¼šéšè®¡æ•°å™¨æ›´æ–°è€Œé‡æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ï¼šCounter æ›´æ–°æ—¶ï¼ŒTitle ä¹Ÿä¼šé‡æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"é™æ€æ ‡é¢˜"</span> /&gt;</span> {/* æ— éœ€æ›´æ–° */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> <span class="hljs-attr">count</span>=<span class="hljs-string">{count}</span> <span class="hljs-attr">onIncrement</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)} /&gt; {/* é¢‘ç¹æ›´æ–° */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼šç”¨ <code>React.memo</code> åŒ…è£¹ <code>Title</code>ï¼Œæˆ–æ‹†åˆ† <code>Parent</code> ä¸ºã€ŒçŠ¶æ€ç»„ä»¶ã€å’Œã€Œé™æ€ç»„ä»¶ã€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ­£ç¡®ï¼šTitle è¢« React.memo åŒ…è£¹ï¼Œprops ä¸å˜æ—¶ä¸é‡æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Title</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ text }</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"é™æ€æ ‡é¢˜"</span> /&gt;</span> {/* ä¸é‡æ¸²æŸ“ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> <span class="hljs-attr">count</span>=<span class="hljs-string">{count}</span> <span class="hljs-attr">onIncrement</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)} /&gt; {/* æ­£å¸¸æ¸²æŸ“ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h2 data-id="heading-9">äºŒã€ä»£ç ä¸èµ„æºä¼˜åŒ–ï¼šé™ä½æ¸²æŸ“æˆæœ¬</h2>
<p>å³ä½¿æ¸²æŸ“è§¦å‘åˆç†ï¼Œè‹¥ä»£ç é€»è¾‘å¤æ‚ã€èµ„æºä½“ç§¯å¤§ï¼Œä»ä¼šå¯¼è‡´æ¸²æŸ“ç¼“æ…¢ã€‚éœ€ä»ã€Œä»£ç ç²¾ç®€ã€ã€Œèµ„æºåŠ è½½ã€ã€ŒDOM ä¼˜åŒ–ã€ä¸‰æ–¹é¢å…¥æ‰‹ã€‚</p>
<h3 data-id="heading-10">1. ä»£ç å±‚é¢ï¼šç²¾ç®€é€»è¾‘ä¸ä¾èµ–</h3>
<h4 data-id="heading-11">ï¼ˆ1ï¼‰é¿å…æ¸²æŸ“æ—¶æ‰§è¡Œé«˜å¼€é”€æ“ä½œ</h4>
<p>æ¸²æŸ“é˜¶æ®µï¼ˆ<code>render</code> æˆ–å‡½æ•°ç»„ä»¶ä¸»ä½“ï¼‰åº”ä»…åšã€ŒUI æè¿°ç›¸å…³é€»è¾‘ã€ï¼Œé¿å…æ‰§è¡Œè€—æ—¶æ“ä½œï¼ˆå¦‚ API è¯·æ±‚ã€å¤§æ•°æ®è®¡ç®—ã€DOM æ“ä½œï¼‰ã€‚</p>
<ul>
<li>
<p>é”™è¯¯ç¤ºä¾‹ï¼šæ¸²æŸ“æ—¶è¯·æ±‚æ•°æ®ï¼Œå¯¼è‡´æ¯æ¬¡æ¸²æŸ“éƒ½è§¦å‘è¯·æ±‚ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// é”™è¯¯ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ fetchï¼Œä¸”å¯èƒ½å¯¼è‡´ç«æ€é—®é¢˜</span>
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/data"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()); 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
</code></pre>
</li>
</ul>
</li>
<li>
<p>æ­£ç¡®æ–¹æ¡ˆï¼šå°†é«˜å¼€é”€æ“ä½œæ”¾åœ¨ã€Œå‰¯ä½œç”¨é’©å­ã€ä¸­ï¼ˆ<code>useEffect</code>/<code>componentDidMount</code>ï¼‰ï¼Œæ§åˆ¶æ‰§è¡Œæ—¶æœºï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ­£ç¡®ï¼šä»…ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡è¯·æ±‚</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/data"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>());
  }, []); 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-12">ï¼ˆ2ï¼‰æŒ‰éœ€å¼•å…¥ä¾èµ–ä¸ç»„ä»¶</h4>
<ul>
<li><strong>ç¬¬ä¸‰æ–¹åº“æŒ‰éœ€å¼•å…¥</strong>ï¼šé¿å…å…¨é‡å¼•å…¥å¤§ä½“ç§¯åº“ï¼ˆå¦‚ Lodashã€Ant Designï¼‰ï¼Œä»…å¼•å…¥æ‰€éœ€æ¨¡å—ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šLodash æŒ‰éœ€å¼•å…¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ï¼šå…¨é‡å¼•å…¥ Lodashï¼ˆä½“ç§¯å¤§ï¼‰</span>
<span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">"lodash"</span>;
<span class="hljs-comment">// æ­£ç¡®ï¼šä»…å¼•å…¥ debounce æ¨¡å—</span>
<span class="hljs-keyword">import</span> debounce <span class="hljs-keyword">from</span> <span class="hljs-string">"lodash/debounce"</span>;
</code></pre>
<ul>
<li><strong>ç»„ä»¶æŒ‰éœ€åŠ è½½</strong>ï¼šé€šè¿‡ã€ŒåŠ¨æ€ <code>import()</code> + <code>React.lazy</code> + <code>Suspense</code>ã€ï¼Œå®ç°è·¯ç”±æˆ–ç»„ä»¶çº§åˆ«çš„æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘é¦–å±åŠ è½½æ—¶é—´ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šè·¯ç”±æŒ‰éœ€åŠ è½½ï¼ˆé…åˆ React Routerï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { lazy, <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-comment">// åŠ¨æ€å¼•å…¥ç»„ä»¶ï¼ˆæ‰“åŒ…æ—¶æ‹†åˆ†ä¸ºç‹¬ç«‹ chunkï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./Home"</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">About</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./About"</span>));

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
    {/* Suspense æä¾›åŠ è½½ fallbackï¼ˆå¦‚éª¨æ¶å±ï¼‰ */}
    <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
);
</code></pre>
<h3 data-id="heading-13">2. èµ„æºå±‚é¢ï¼šä¼˜åŒ–å›¾ç‰‡ä¸é™æ€èµ„æº</h3>
<ul>
<li>
<p><strong>å›¾ç‰‡ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ã€Œå“åº”å¼å›¾ç‰‡ã€ï¼ˆ<code>srcset</code> + <code>sizes</code>ï¼‰ï¼Œæ ¹æ®è®¾å¤‡åˆ†è¾¨ç‡åŠ è½½åˆé€‚å°ºå¯¸çš„å›¾ç‰‡ï¼›</li>
<li>é‡‡ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ï¼ˆWebPã€AVIFï¼‰ï¼Œæ¯” JPG/PNG ä½“ç§¯å° 25%-50%ï¼›</li>
<li>å›¾ç‰‡æ‡’åŠ è½½ï¼šç”¨ <code>loading="lazy"</code>ï¼ˆåŸç”Ÿï¼‰æˆ– React æ‡’åŠ è½½åº“ï¼ˆå¦‚ <code>react-lazyload</code>ï¼‰ï¼Œé¿å…é¦–å±åŠ è½½éå¯è§†åŒºåŸŸå›¾ç‰‡ã€‚</li>
<li>Â Â ç¤ºä¾‹ï¼šåŸç”Ÿæ‡’åŠ è½½å›¾ç‰‡ï¼š</li>
<li>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
  <span class="hljs-attr">src</span>=<span class="hljs-string">"image.webp"</span> 
  <span class="hljs-attr">alt</span>=<span class="hljs-string">"æè¿°"</span> 
  <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> // <span class="hljs-attr">å¯è§†åŒºåŸŸå¤–å›¾ç‰‡å»¶è¿ŸåŠ è½½</span>
  <span class="hljs-attr">srcset</span>=<span class="hljs-string">"image-480w.webp 480w, image-800w.webp 800w"</span> 
  <span class="hljs-attr">sizes</span>=<span class="hljs-string">"(max-width: 600px) 480px, 800px"</span>
/&gt;</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>é™æ€èµ„æº CDN åˆ†å‘</strong>ï¼šå°† JSã€CSSã€å›¾ç‰‡ç­‰èµ„æºéƒ¨ç½²åˆ° CDNï¼Œåˆ©ç”¨ CDN èŠ‚ç‚¹ç¼“å­˜å’Œå°±è¿‘è®¿é—®ï¼Œé™ä½èµ„æºåŠ è½½å»¶è¿Ÿã€‚</p>
</li>
</ul>
<h3 data-id="heading-14">3. DOM å±‚é¢ï¼šå‡å°‘ DOM æ“ä½œä¸èŠ‚ç‚¹æ•°é‡</h3>
<p>React æœ€ç»ˆä¼šå°†è™šæ‹Ÿ DOM è½¬æ¢ä¸ºçœŸå® DOMï¼ŒDOM èŠ‚ç‚¹è¶Šå¤šã€æ“ä½œè¶Šé¢‘ç¹ï¼Œæ€§èƒ½å¼€é”€è¶Šå¤§ã€‚</p>
<h4 data-id="heading-15">ï¼ˆ1ï¼‰å‡å°‘ä¸å¿…è¦çš„ DOM èŠ‚ç‚¹</h4>
<ul>
<li>
<p>é¿å…åµŒå¥—è¿‡æ·±çš„ DOM ç»“æ„ï¼ˆå¦‚ <code>div &gt; div &gt; div &gt; span</code>ï¼‰ï¼Œå°½é‡æ‰å¹³åŒ–ï¼›</p>
</li>
<li>
<p>ç”¨ã€Œç¢ç‰‡ï¼ˆFragmentï¼‰ã€ä»£æ›¿æ— æ„ä¹‰çš„å®¹å™¨ divï¼Œå‡å°‘å¤šä½™èŠ‚ç‚¹ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ï¼šå¤šä½™çš„ div å®¹å™¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">List</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Item1</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Item2</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
<span class="hljs-comment">// æ­£ç¡®ï¼šç”¨ Fragment åŒ…è£¹ï¼Œä¸ç”Ÿæˆé¢å¤– DOM èŠ‚ç‚¹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">List</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Item1</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Item2</span> /&gt;</span>
  <span class="hljs-tag">&lt;/&gt;</span></span>
);
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-16">ï¼ˆ2ï¼‰ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“ï¼š<code>key</code> ä¸è™šæ‹Ÿåˆ—è¡¨</h4>
<p>åˆ—è¡¨æ˜¯ React ä¸­å¸¸è§çš„é«˜é¢‘æ¸²æŸ“åœºæ™¯ï¼Œéœ€é‡ç‚¹ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>è®¾ç½®å”¯ä¸€ä¸”ç¨³å®šçš„</strong> <strong><code>key</code></strong>ï¼š<code>key</code> æ˜¯ React è¯†åˆ«åˆ—è¡¨é¡¹èº«ä»½çš„æ ‡è¯†ï¼Œéœ€æ»¡è¶³ã€Œå”¯ä¸€ã€ã€Œç¨³å®šã€ï¼ˆä¸éšæ¸²æŸ“é¡ºåºå˜åŒ–ï¼‰ã€‚</li>
</ul>
<p>âŒ é”™è¯¯ï¼šç”¨ç´¢å¼•ï¼ˆindexï¼‰ä½œä¸º keyï¼ˆè‹¥åˆ—è¡¨åˆ é™¤/æ’å…¥é¡¹ï¼Œä¼šå¯¼è‡´ key ä¸é¡¹é”™ä½ï¼Œå¼•å‘ DOM å¤ç”¨é”™è¯¯å’Œé‡æ¸²æŸ“ï¼‰ï¼›</p>
<p>âœ… æ­£ç¡®ï¼šç”¨åˆ—è¡¨é¡¹çš„å”¯ä¸€ IDï¼ˆå¦‚åç«¯è¿”å›çš„ <code>id</code>ï¼‰ä½œä¸º keyï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoList</span> = (<span class="hljs-params">{ todos }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    {todos.map(todo =&gt; (
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.content}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> // ç”¨å”¯ä¸€ ID ä½œä¸º key
    ))}
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
);
</code></pre>
<ul>
<li><strong>è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰</strong> ï¼šå½“åˆ—è¡¨æ•°æ®é‡æå¤§ï¼ˆå¦‚ 1000+ é¡¹ï¼‰æ—¶ï¼Œå³ä½¿åªæ¸²æŸ“å¯è§†åŒºåŸŸçš„é¡¹ï¼Œéšè—éå¯è§†åŒºåŸŸçš„é¡¹ï¼Œå¤§å¹…å‡å°‘ DOM èŠ‚ç‚¹æ•°é‡ã€‚</li>
</ul>
<p>å¸¸ç”¨åº“ï¼š<code>react-window</code>ï¼ˆè½»é‡ï¼‰ã€<code>react-virtualized</code>ï¼ˆåŠŸèƒ½å…¨ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆ<code>react-window</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FixedSizeList</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">List</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-window"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">BigList</span> = (<span class="hljs-params">{ data }</span>) =&gt; {
  <span class="hljs-comment">// æ¸²æŸ“å•ä¸ªåˆ—è¡¨é¡¹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">Row</span> = (<span class="hljs-params">{ index, style }</span>) =&gt; (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{style}</span>&gt;</span>{data[index]}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">List</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">{500}</span> // <span class="hljs-attr">åˆ—è¡¨å®¹å™¨é«˜åº¦</span>
      <span class="hljs-attr">itemCount</span>=<span class="hljs-string">{data.length}</span> // <span class="hljs-attr">æ€»æ•°æ®é‡</span>
      <span class="hljs-attr">itemSize</span>=<span class="hljs-string">{50}</span> // <span class="hljs-attr">å•ä¸ªåˆ—è¡¨é¡¹é«˜åº¦</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> // <span class="hljs-attr">åˆ—è¡¨å®¹å™¨å®½åº¦</span>
    &gt;</span>
      {Row}
    <span class="hljs-tag">&lt;/<span class="hljs-name">List</span>&gt;</span></span>
  );
};
</code></pre>
<h2 data-id="heading-17">ä¸‰ã€è¿è¡Œæ—¶ä¼˜åŒ–ï¼šæå‡äº¤äº’å“åº”é€Ÿåº¦</h2>
<p>è¿è¡Œæ—¶ä¼˜åŒ–èšç„¦äºã€Œç”¨æˆ·äº¤äº’ã€åœºæ™¯ï¼ˆå¦‚è¾“å…¥ã€ç‚¹å‡»ã€æ»šåŠ¨ï¼‰ï¼Œå‡å°‘å»¶è¿Ÿï¼Œæå‡æµç•…åº¦ã€‚</p>
<h3 data-id="heading-18">1. é˜²æŠ–ï¼ˆDebounceï¼‰ä¸èŠ‚æµï¼ˆThrottleï¼‰</h3>
<p>å¯¹äºé«˜é¢‘è§¦å‘çš„äº‹ä»¶ï¼ˆå¦‚è¾“å…¥æ¡† <code>onChange</code>ã€æ»šåŠ¨ <code>onScroll</code>ã€çª—å£ resizeï¼‰ï¼Œéœ€é€šè¿‡é˜²æŠ–æˆ–èŠ‚æµé™åˆ¶å‡½æ•°æ‰§è¡Œé¢‘ç‡ï¼Œé¿å…é¢‘ç¹è§¦å‘å¯¼è‡´å¡é¡¿ã€‚</p>
<ul>
<li><strong>é˜²æŠ–ï¼ˆDebounceï¼‰</strong> ï¼šäº‹ä»¶è§¦å‘åå»¶è¿Ÿ N æ¯«ç§’æ‰§è¡Œå‡½æ•°ï¼Œè‹¥ N æ¯«ç§’å†…å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ï¼ˆé€‚ç”¨äºè¾“å…¥æœç´¢ã€è¡¨å•æäº¤ï¼‰ã€‚</li>
<li><strong>èŠ‚æµï¼ˆThrottleï¼‰</strong> ï¼šæ¯éš” N æ¯«ç§’ä»…æ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œæ— è®ºäº‹ä»¶è§¦å‘å¤šå°‘æ¬¡ï¼ˆé€‚ç”¨äºæ»šåŠ¨åŠ è½½ã€çª—å£ resizeï¼‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šè¾“å…¥æ¡†æœç´¢é˜²æŠ–ï¼ˆç”¨ Lodash çš„ <code>debounce</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useState, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> debounce <span class="hljs-keyword">from</span> <span class="hljs-string">"lodash/debounce"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">SearchInput</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);

  <span class="hljs-comment">// ç”¨ useCallback ç¼“å­˜é˜²æŠ–å‡½æ•°ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»º</span>
  <span class="hljs-keyword">const</span> fetchSearchResult = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">keyword</span>) =&gt;</span> {
      <span class="hljs-comment">// å‘é€æœç´¢è¯·æ±‚</span>
      <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?keyword=<span class="hljs-subst">${keyword}</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>());
    }, <span class="hljs-number">300</span>), <span class="hljs-comment">// 300ms é˜²æŠ–å»¶è¿Ÿ</span>
    []
  );

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">const</span> keyword = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
    <span class="hljs-title function_">setValue</span>(keyword);
    <span class="hljs-title function_">fetchSearchResult</span>(keyword); <span class="hljs-comment">// è§¦å‘é˜²æŠ–å‡½æ•°</span>
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{value}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span> /&gt;</span></span>;
};
</code></pre>
<h3 data-id="heading-19">2. ä¼˜åŒ–çŠ¶æ€æ›´æ–°ï¼šæ‰¹é‡æ›´æ–°ä¸ä¼˜å…ˆçº§</h3>
<p>React å†…éƒ¨ä¼šå¯¹ã€ŒåŒæ­¥çŠ¶æ€æ›´æ–°ã€è¿›è¡Œæ‰¹é‡åˆå¹¶ï¼Œå‡å°‘æ¸²æŸ“æ¬¡æ•°ï¼Œä½†ã€Œå¼‚æ­¥åœºæ™¯ã€ï¼ˆå¦‚ <code>setTimeout</code>ã€Promise å›è°ƒï¼‰ä¸­ï¼Œæ‰¹é‡æ›´æ–°ä¼šå¤±æ•ˆï¼Œå¯¼è‡´å¤šæ¬¡æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-20">ï¼ˆ1ï¼‰å¼ºåˆ¶æ‰¹é‡æ›´æ–°ï¼š<code>unstable_batchedUpdates</code></h4>
<p>è‹¥éœ€åœ¨å¼‚æ­¥åœºæ™¯ä¸­æ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œå¯ä½¿ç”¨ React æä¾›çš„ <code>unstable_batchedUpdates</code>ï¼ˆæ³¨æ„ï¼šè™½å¸¦ <code>unstable</code>ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­å·²å¹¿æ³›ä½¿ç”¨ï¼Œæœªæ¥å¯èƒ½è½¬æ­£ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼šPromise å›è°ƒä¸­æ‰¹é‡æ›´æ–°çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { unstable_batchedUpdates } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-dom"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [count1, setCount1] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [count2, setCount2] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/data"</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// æœªæ‰¹é‡ï¼šä¼šè§¦å‘ 2 æ¬¡æ¸²æŸ“</span>
        <span class="hljs-comment">// setCount1(count1 + 1);</span>
        <span class="hljs-comment">// setCount2(count2 + 1);</span>

        <span class="hljs-comment">// æ‰¹é‡æ›´æ–°ï¼šä»…è§¦å‘ 1 æ¬¡æ¸²æŸ“</span>
        <span class="hljs-title function_">unstable_batchedUpdates</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">setCount1</span>(count1 + <span class="hljs-number">1</span>);
          <span class="hljs-title function_">setCount2</span>(count2 + <span class="hljs-number">1</span>);
        });
      });
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
};
</code></pre>
<h4 data-id="heading-21">ï¼ˆ2ï¼‰ä¼˜å…ˆçº§è°ƒåº¦ï¼š<code>useDeferredValue</code> ä¸ <code>startTransition</code></h4>
<p>React 18 å¼•å…¥ã€Œå¹¶å‘æ¸²æŸ“ã€æœºåˆ¶ï¼Œå…è®¸å°†çŠ¶æ€æ›´æ–°æ ‡è®°ä¸ºã€Œä½ä¼˜å…ˆçº§ã€ï¼Œé¿å…é«˜ä¼˜å…ˆçº§æ›´æ–°ï¼ˆå¦‚è¾“å…¥ã€ç‚¹å‡»ï¼‰è¢«é˜»å¡ã€‚</p>
<ul>
<li><strong><code>useDeferredValue</code></strong>ï¼šå»¶è¿Ÿæ›´æ–°ä½ä¼˜å…ˆçº§çŠ¶æ€ï¼ˆå¦‚åˆ—è¡¨è¿‡æ»¤ç»“æœï¼‰ï¼Œä¼˜å…ˆä¿è¯é«˜ä¼˜å…ˆçº§æ“ä½œï¼ˆå¦‚è¾“å…¥æ¡†è¾“å…¥ï¼‰çš„å“åº”é€Ÿåº¦ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šè¾“å…¥æ—¶ä¼˜å…ˆæ›´æ–°è¾“å…¥æ¡†ï¼Œå»¶è¿Ÿæ›´æ–°è¿‡æ»¤åçš„åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useDeferredValue, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">SearchList</span> = (<span class="hljs-params">{ list }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [keyword, setKeyword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-comment">// å»¶è¿Ÿæ›´æ–°è¿‡æ»¤ç»“æœï¼ˆä½ä¼˜å…ˆçº§ï¼‰</span>
  <span class="hljs-keyword">const</span> deferredKeyword = <span class="hljs-title function_">useDeferredValue</span>(keyword);
  <span class="hljs-comment">// ä»…å½“ deferredKeyword å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°è¿‡æ»¤ï¼ˆé¿å…è¾“å…¥æ—¶é¢‘ç¹è®¡ç®—ï¼‰</span>
  <span class="hljs-keyword">const</span> filteredList = list.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-title function_">includes</span>(deferredKeyword));

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{keyword}</span> 
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setKeyword(e.target.value)} 
        placeholder="è¾“å…¥æœç´¢"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {filteredList.map((item, idx) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{idx}</span>&gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<ul>
<li><strong><code>startTransition</code></strong>ï¼šå°†çŠ¶æ€æ›´æ–°æ ‡è®°ä¸ºã€Œè¿‡æ¸¡ä»»åŠ¡ã€ï¼ˆä½ä¼˜å…ˆçº§ï¼‰ï¼Œç¡®ä¿é«˜ä¼˜å…ˆçº§æ›´æ–°ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®ï¼‰ä¸è¢«é˜»å¡ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šç‚¹å‡»æŒ‰é’®æ—¶ï¼Œä¼˜å…ˆæ›´æ–°æŒ‰é’®çŠ¶æ€ï¼Œå»¶è¿Ÿæ›´æ–°å¤§æ•°æ®åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useState, startTransition } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">BigDataList</span> = (<span class="hljs-params">{ data }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [filteredData, setFilteredData] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleFilter</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// é«˜ä¼˜å…ˆçº§ï¼šç«‹å³æ›´æ–°åŠ è½½çŠ¶æ€</span>
    <span class="hljs-title function_">setIsLoading</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-comment">// ä½ä¼˜å…ˆçº§ï¼šæ ‡è®°ä¸ºè¿‡æ¸¡ä»»åŠ¡ï¼Œé¿å…é˜»å¡ UI</span>
    <span class="hljs-title function_">startTransition</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// è€—æ—¶è¿‡æ»¤æ“ä½œ</span>
      <span class="hljs-keyword">const</span> result = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">value</span> &gt; <span class="hljs-number">1000</span>);
      <span class="hljs-title function_">setFilteredData</span>(result);
      <span class="hljs-title function_">setIsLoading</span>(<span class="hljs-literal">false</span>);
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleFilter}</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isLoading}</span>&gt;</span>
        è¿‡æ»¤æ•°æ®
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : (
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>{filteredData.map(item =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h2 data-id="heading-22">å››ã€æ¶æ„å±‚ä¼˜åŒ–ï¼šä»æ ¹æºå‡å°‘æ€§èƒ½ç“¶é¢ˆ</h2>
<p>è‹¥åº”ç”¨è§„æ¨¡è¾ƒå¤§ï¼Œéœ€ä»æ¶æ„è®¾è®¡å±‚é¢ä¼˜åŒ–ï¼Œé¿å…åæœŸæ€§èƒ½é—®é¢˜éš¾ä»¥ä¿®å¤ã€‚</p>
<h3 data-id="heading-23">1. çŠ¶æ€ç®¡ç†ä¼˜åŒ–</h3>
<ul>
<li>
<p><strong>çŠ¶æ€åˆ†å±‚</strong>ï¼šå°†çŠ¶æ€åˆ†ä¸ºã€Œå…¨å±€çŠ¶æ€ã€ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€ä¸»é¢˜ï¼‰å’Œã€Œå±€éƒ¨çŠ¶æ€ã€ï¼ˆå¦‚ç»„ä»¶å†…éƒ¨å¼¹çª—æ˜¾ç¤º/éšè—ï¼‰ï¼Œé¿å…å±€éƒ¨çŠ¶æ€ä¸Šå‡åˆ°å…¨å±€ï¼ˆå¦‚ Reduxï¼‰å¯¼è‡´ä¸å¿…è¦çš„å…¨å±€é‡æ¸²æŸ“ã€‚</p>
<ul>
<li>å…¨å±€çŠ¶æ€ï¼šç”¨ Redux Toolkitï¼ˆé…åˆ <code>createSelector</code> ç¼“å­˜è®¡ç®—ç»“æœï¼‰ã€Zustandã€Jotai ç­‰ï¼Œå‡å°‘å…¨å±€çŠ¶æ€æ›´æ–°æ—¶çš„ç»„ä»¶é‡æ¸²æŸ“ï¼›</li>
<li>å±€éƒ¨çŠ¶æ€ï¼šä¼˜å…ˆç”¨ <code>useState</code>/<code>useReducer</code>ï¼Œé¿å…è¿‡åº¦ä¾èµ–å…¨å±€çŠ¶æ€ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¼“å­˜é€‰æ‹©å™¨ï¼ˆSelectorï¼‰</strong> ï¼šåœ¨ Redux ä¸­ï¼Œç”¨ <code>reselect</code> åº“çš„ <code>createSelector</code> ç¼“å­˜æ´¾ç”Ÿæ•°æ®ï¼ˆå¦‚è¿‡æ»¤ã€æ’åºåçš„åˆ—è¡¨ï¼‰ï¼Œé¿å…æ¯æ¬¡å…¨å±€çŠ¶æ€æ›´æ–°æ—¶é‡å¤è®¡ç®—ã€‚</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">"@reduxjs/toolkit"</span>;

<span class="hljs-comment">// åŸºç¡€é€‰æ‹©å™¨ï¼šè·å–åŸå§‹åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">selectTodos</span> = state =&gt; state.<span class="hljs-property">todos</span>;
<span class="hljs-comment">// ç¼“å­˜é€‰æ‹©å™¨ï¼šä»…å½“ todos å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°è¿‡æ»¤</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> selectCompletedTodos = <span class="hljs-title function_">createSelector</span>(
  [selectTodos],
  <span class="hljs-function">(<span class="hljs-params">todos</span>) =&gt;</span> todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">completed</span>)
);
</code></pre>
<h3 data-id="heading-24">2. é¿å…è¿‡åº¦ä½¿ç”¨ Context</h3>
<p>Context ä¼šå¯¼è‡´ã€Œè®¢é˜… Context çš„ç»„ä»¶ã€åœ¨ Context å€¼å˜åŒ–æ—¶å…¨éƒ¨é‡æ¸²æŸ“ï¼Œå³ä½¿ç»„ä»¶æœªä½¿ç”¨å˜åŒ–çš„éƒ¨åˆ†ã€‚è‹¥ Context åŒ…å«é¢‘ç¹æ›´æ–°çš„æ•°æ®ï¼ˆå¦‚è®¡æ•°å™¨ï¼‰ï¼Œä¼šå¯¼è‡´å¤§é‡ç»„ä»¶æ— æ„ä¹‰é‡æ¸²æŸ“ã€‚</p>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p><strong>æ‹†åˆ† Context</strong>ï¼šå°† Context æŒ‰ã€Œæ›´æ–°é¢‘ç‡ã€æ‹†åˆ†ï¼Œå¦‚ã€Œä¸»é¢˜ Contextã€ï¼ˆä½é¢‘æ›´æ–°ï¼‰å’Œã€Œç”¨æˆ· Contextã€ï¼ˆä¸­é¢‘æ›´æ–°ï¼‰åˆ†å¼€ï¼Œé¿å…ä¸€ä¸ª Context å˜åŒ–å½±å“æ‰€æœ‰ç»„ä»¶ï¼›</p>
</li>
<li>
<p><strong>Context ä¸</strong> <strong><code>useMemo</code></strong> <strong>ç»“åˆ</strong>ï¼šç¡®ä¿ Context.Provider çš„ <code>value</code> å¼•ç”¨ç¨³å®šï¼Œé¿å…çˆ¶ç»„ä»¶æ¸²æŸ“æ—¶ <code>value</code> é‡æ–°åˆ›å»ºå¯¼è‡´æ‰€æœ‰è®¢é˜…ç»„ä»¶é‡æ¸²æŸ“ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">ThemeContext</span> = <span class="hljs-title function_">createContext</span>();

<span class="hljs-keyword">const</span> <span class="hljs-title function_">ThemeProvider</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"light"</span>);
  <span class="hljs-comment">// ç”¨ useMemo ç¼“å­˜ valueï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»º</span>
  <span class="hljs-keyword">const</span> contextValue = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> ({
    theme,
    <span class="hljs-attr">toggleTheme</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setTheme</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev === <span class="hljs-string">"light"</span> ? <span class="hljs-string">"dark"</span> : <span class="hljs-string">"light"</span>)
  }), [theme]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{contextValue}</span>&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span>
  );
};
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-25">äº”ã€æ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼šå®šä½ç“¶é¢ˆ</h2>
<p>ä¼˜åŒ–å‰éœ€å…ˆé€šè¿‡å·¥å…·å®šä½æ€§èƒ½ç“¶é¢ˆï¼Œé¿å…ç›²ç›®ä¼˜åŒ–ã€‚</p>
<ol>
<li>
<p><strong>React DevTools Profiler</strong>ï¼šReact å®˜æ–¹è°ƒè¯•å·¥å…·ï¼Œå¯å½•åˆ¶ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ï¼ŒæŸ¥çœ‹ã€Œé‡æ¸²æŸ“æ¬¡æ•°ã€ã€Œæ¸²æŸ“è€—æ—¶ã€ã€Œè§¦å‘æ¸²æŸ“çš„åŸå› ã€ï¼Œç²¾å‡†å®šä½æ— æ„ä¹‰é‡æ¸²æŸ“çš„ç»„ä»¶ã€‚</p>
<ol>
<li>ä½¿ç”¨æ–¹å¼ï¼šæ‰“å¼€ Chrome å¼€å‘è€…å·¥å…· â†’ React æ ‡ç­¾ â†’ Profiler é€‰é¡¹å¡ â†’ ç‚¹å‡»å½•åˆ¶æŒ‰é’® â†’ æ“ä½œåº”ç”¨ â†’ åœæ­¢å½•åˆ¶ï¼ŒæŸ¥çœ‹æ¸²æŸ“æŠ¥å‘Šã€‚</li>
</ol>
</li>
<li>
<p><strong>Lighthouse</strong>ï¼šChrome å†…ç½®å·¥å…·ï¼Œå¯è¯„ä¼°åº”ç”¨çš„ã€Œæ€§èƒ½å¾—åˆ†ã€ï¼Œå¹¶æä¾›å…·ä½“ä¼˜åŒ–å»ºè®®ï¼ˆå¦‚å›¾ç‰‡ä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆFCPï¼‰ä¼˜åŒ–ï¼‰ã€‚</p>
<ol>
<li>ä½¿ç”¨æ–¹å¼ï¼šæ‰“å¼€ Chrome å¼€å‘è€…å·¥å…· â†’ Lighthouse é€‰é¡¹å¡ â†’ å‹¾é€‰ã€ŒPerformanceã€â†’ ç‚¹å‡»ã€ŒGenerate reportã€ã€‚</li>
</ol>
</li>
<li>
<p><strong>Chrome Performance é¢æ¿</strong>ï¼šå½•åˆ¶åº”ç”¨è¿è¡Œæ—¶çš„ CPUã€å†…å­˜ã€DOM æ“ä½œç­‰æ•°æ®ï¼Œåˆ†æã€Œé•¿ä»»åŠ¡ã€ï¼ˆè€—æ—¶ &gt; 50ms çš„ä»»åŠ¡ï¼‰ï¼Œå®šä½é˜»å¡ä¸»çº¿ç¨‹çš„ä»£ç ã€‚</p>
</li>
</ol>
<h2 data-id="heading-26">æ€»ç»“</h2>
<p>React æ€§èƒ½ä¼˜åŒ–éœ€éµå¾ªã€Œå…ˆå®šä½ç“¶é¢ˆï¼Œå†é’ˆå¯¹æ€§ä¼˜åŒ–ã€çš„åŸåˆ™ï¼Œæ ¸å¿ƒæ€è·¯å¯å½’çº³ä¸ºï¼š</p>
<ol start="4">
<li><strong>å‡å°‘æ¸²æŸ“æ¬¡æ•°</strong>ï¼šç”¨ <code>React.memo</code>/<code>useCallback</code>/<code>useMemo</code> æ§åˆ¶æ¸²æŸ“è§¦å‘æ¡ä»¶ï¼Œéš”ç¦»æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼›</li>
<li><strong>é™ä½æ¸²æŸ“æˆæœ¬</strong>ï¼šç²¾ç®€ä»£ç é€»è¾‘ï¼Œä¼˜åŒ–èµ„æºåŠ è½½ï¼Œå‡å°‘ DOM èŠ‚ç‚¹ï¼›</li>
<li><strong>æå‡è¿è¡Œæ—¶æµç•…åº¦</strong>ï¼šç”¨é˜²æŠ–/èŠ‚æµé™åˆ¶é«˜é¢‘äº‹ä»¶ï¼Œç”¨å¹¶å‘æ¸²æŸ“ï¼ˆ<code>useDeferredValue</code>/<code>startTransition</code>ï¼‰ä¼˜åŒ–çŠ¶æ€æ›´æ–°ä¼˜å…ˆçº§ï¼›</li>
<li><strong>æ¶æ„å±‚è§„é¿ç“¶é¢ˆ</strong>ï¼šåˆç†åˆ†å±‚çŠ¶æ€ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨ Context å’Œå…¨å±€çŠ¶æ€ã€‚</li>
</ol>
<p>æ ¹æ®åº”ç”¨è§„æ¨¡å’Œåœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„ä¼˜åŒ–æ–¹æ¡ˆï¼ˆå¦‚å°å‹åº”ç”¨ä¾§é‡æ¸²æŸ“ä¼˜åŒ–ï¼Œå¤§å‹åº”ç”¨éœ€ç»“åˆæ¶æ„ä¼˜åŒ–ï¼‰ï¼Œæ‰èƒ½æœ€å¤§åŒ–æå‡ React åº”ç”¨æ€§èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIé‡å¡‘äº‘åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜-æå®¢æ—¶é—´]]></title>    <link>https://juejin.cn/post/7582528397865271323</link>    <guid>https://juejin.cn/post/7582528397865271323</guid>    <pubDate>2025-12-12T04:13:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582528397865271323" data-draft-id="7582553782397812782" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIé‡å¡‘äº‘åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜-æå®¢æ—¶é—´"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-12T04:13:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·918603431273"/> <meta itemprop="url" content="https://juejin.cn/user/872337172344907"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIé‡å¡‘äº‘åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜-æå®¢æ—¶é—´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/872337172344907/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·918603431273
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:13:46.000Z" title="Fri Dec 12 2025 04:13:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b060d3d6133e4e3c9e6a594158a2964b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTE4NjAzNDMxMjcz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766117626&amp;x-signature=LQ359AfdVUt2v8g51WFK%2BmnVn%2BA%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251115194731_6_1.jpg" loading="lazy"/></p>
<p>AIé‡å¡‘äº‘åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜-æå®¢æ—¶é—´---**xiaä»”è¯¾ï¼šshanxueit.com/7508/ **</p>
<p>åœ¨ 2025 å¹´ï¼ŒçœŸæ­£çš„ AI å·¥ç¨‹èƒ½åŠ›ï¼Œä¸æ˜¯è°ƒç”¨ä¸€ä¸ª APIï¼Œè€Œæ˜¯<strong>å°†å¤§æ¨¡å‹èƒ½åŠ›å°è£…ä¸ºé«˜å¯ç”¨ã€å¯è§‚æµ‹ã€å¯æ‰©ç¼©çš„äº‘åŸç”ŸæœåŠ¡</strong>ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶æ„å»ºä¸€ä¸ª <strong>â€œæ™ºèƒ½æ‘˜è¦ç”Ÿæˆå™¨â€</strong> â€”â€”ç”¨æˆ·æäº¤ä¸€æ®µæ–‡æœ¬ï¼ŒAI è¿”å›ç®€æ´æ‘˜è¦ï¼Œå¹¶é€šè¿‡ Kubernetes å®ç°ç”Ÿäº§çº§éƒ¨ç½²ã€‚å…¨ç¨‹ä»£ç å¯å¤åˆ¶ã€ç¯å¢ƒå¯å¤ç°ã€æµç¨‹å¯äº¤ä»˜ã€‚</p>
<blockquote>
<p>âœ… æŠ€æœ¯æ ˆï¼šPython + FastAPIï¼ˆè½»é‡é«˜æ€§èƒ½ï¼‰ + Hugging Face Transformersï¼ˆå¼€æºæ¨¡å‹ï¼‰ + Docker + Kubernetes<br/>
âœ… æ¨¡å‹é€‰æ‹©ï¼š<code>facebook/bart-large-cnn</code>ï¼ˆä¸“ä¸ºæ‘˜è¦ä¼˜åŒ–ï¼Œæ— éœ€ GPU å³å¯è¿è¡Œï¼‰</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šæ„å»º AI æœåŠ¡æ ¸å¿ƒï¼ˆæœ¬åœ°å¯è¿è¡Œï¼‰</h2>
<p>æˆ‘ä»¬ä½¿ç”¨ FastAPI æ„å»º RESTful æ¥å£ï¼Œé›†æˆ Hugging Face çš„é¢„è®­ç»ƒæ‘˜è¦æ¨¡å‹ã€‚</p>
<pre><code class="hljs language-python" lang="python">Python
ç¼–è¾‘
<span class="hljs-number">1</span><span class="hljs-comment"># main.py</span>
<span class="hljs-number">2</span><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, HTTPException
<span class="hljs-number">3</span><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-number">4</span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline
<span class="hljs-number">5</span><span class="hljs-keyword">import</span> logging
<span class="hljs-number">6</span>
<span class="hljs-number">7</span><span class="hljs-comment"># åˆå§‹åŒ–æ—¥å¿—</span>
8logging.basicConfig(level=logging.INFO)
9logger = logging.getLogger(__name__)
<span class="hljs-number">10</span>
<span class="hljs-number">11</span><span class="hljs-comment"># åŠ è½½æ‘˜è¦æ¨¡å‹ï¼ˆé¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½ï¼Œçº¦ 1.6GBï¼‰</span>
12summarizer = pipeline(<span class="hljs-string">"summarization"</span>, model=<span class="hljs-string">"facebook/bart-large-cnn"</span>)
<span class="hljs-number">13</span>
14app = FastAPI(title=<span class="hljs-string">"AI æ‘˜è¦æœåŠ¡"</span>, version=<span class="hljs-string">"1.0"</span>)
<span class="hljs-number">15</span>
<span class="hljs-number">16</span><span class="hljs-keyword">class</span> TextRequest(BaseModel):
<span class="hljs-number">17</span>    text: <span class="hljs-built_in">str</span>
<span class="hljs-number">18</span>    max_length: <span class="hljs-built_in">int</span> = <span class="hljs-number">130</span>
<span class="hljs-number">19</span>    min_length: <span class="hljs-built_in">int</span> = <span class="hljs-number">30</span>
<span class="hljs-number">20</span>
<span class="hljs-number">21</span>@app.post(<span class="hljs-string">"/summarize"</span>)
<span class="hljs-number">22</span><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">summarize</span>(<span class="hljs-params">request: TextRequest</span>):
<span class="hljs-number">23</span>    <span class="hljs-keyword">try</span>:
<span class="hljs-number">24</span>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(request.text) &lt; <span class="hljs-number">50</span>:
<span class="hljs-number">25</span>            <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">"æ–‡æœ¬é•¿åº¦éœ€è‡³å°‘ 50 å­—ç¬¦"</span>)
<span class="hljs-number">26</span>        
<span class="hljs-number">27</span>        result = summarizer(
<span class="hljs-number">28</span>            request.text,
<span class="hljs-number">29</span>            max_length=request.max_length,
<span class="hljs-number">30</span>            min_length=request.min_length,
<span class="hljs-number">31</span>            do_sample=<span class="hljs-literal">False</span>
<span class="hljs-number">32</span>        )
<span class="hljs-number">33</span>        summary = result[<span class="hljs-number">0</span>][<span class="hljs-string">'summary_text'</span>]
<span class="hljs-number">34</span>        logger.info(<span class="hljs-string">f"æˆåŠŸç”Ÿæˆæ‘˜è¦ï¼Œè¾“å…¥é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(request.text)}</span>"</span>)
<span class="hljs-number">35</span>        <span class="hljs-keyword">return</span> {<span class="hljs-string">"summary"</span>: summary}
<span class="hljs-number">36</span>    
<span class="hljs-number">37</span>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
<span class="hljs-number">38</span>        logger.error(<span class="hljs-string">f"æ‘˜è¦ç”Ÿæˆå¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
<span class="hljs-number">39</span>        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">"æ‘˜è¦æœåŠ¡å†…éƒ¨é”™è¯¯"</span>)
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>æ•™è‚²æç¤º</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Â <code>pipeline</code>Â å°è£…æ¨¡å‹ï¼Œé¿å…æ‰‹åŠ¨å¤„ç† tokenizer å’Œ modelï¼›</li>
<li>è¾“å…¥æ ¡éªŒé˜²æ­¢æ— æ•ˆè¯·æ±‚è€—å°½èµ„æºï¼›</li>
<li>ç»“æ„åŒ–æ—¥å¿—ä¾¿äºåç»­ç›‘æ§ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šå®¹å™¨åŒ– â€”â€” æ‰“åŒ…ä¸º Docker é•œåƒ</h2>
<p>åˆ›å»º <code>Dockerfile</code>ï¼Œç¡®ä¿ä¾èµ–éš”ç¦»ä¸å¯ç§»æ¤æ€§ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Dockerfile
ç¼–è¾‘
<span class="hljs-number">1</span># Dockerfile
<span class="hljs-number">2</span><span class="hljs-keyword">FROM</span> python:<span class="hljs-number">3.10</span><span class="hljs-operator">-</span>slim
<span class="hljs-number">3</span>
<span class="hljs-number">4</span>WORKDIR <span class="hljs-operator">/</span>app
<span class="hljs-number">5</span>
<span class="hljs-number">6</span><span class="hljs-keyword">COPY</span> requirements.txt .
<span class="hljs-number">7</span>RUN pip install <span class="hljs-comment">--no-cache-dir -r requirements.txt</span>
<span class="hljs-number">8</span>
<span class="hljs-number">9</span><span class="hljs-keyword">COPY</span> main.py .
<span class="hljs-number">10</span>
<span class="hljs-number">11</span>EXPOSE <span class="hljs-number">8000</span>
<span class="hljs-number">12</span>
<span class="hljs-number">13</span>CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
</code></pre>
<p>å¯¹åº”çš„ <code>requirements.txt</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Txt
ç¼–è¾‘
<span class="hljs-attr">1fastapi</span>==<span class="hljs-number">0.110</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">2uvicorn</span>==<span class="hljs-number">0.27</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">3transformers</span>==<span class="hljs-number">4.38</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">4torch</span>==<span class="hljs-number">2.2</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">5accelerate</span>==<span class="hljs-number">0.27</span>.<span class="hljs-number">2</span>
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<code>torch</code> åœ¨ CPU æ¨¡å¼ä¸‹æ— éœ€ CUDAï¼Œé€‚åˆä½æˆæœ¬éƒ¨ç½²ã€‚</p>
</blockquote>
<p>æ„å»ºå¹¶æµ‹è¯•é•œåƒï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Bash
ç¼–è¾‘
<span class="hljs-number">1</span>docker build -t ai-summarizer:<span class="hljs-number">1.0</span> .
<span class="hljs-number">2</span>docker run -p <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> ai-summarizer:<span class="hljs-number">1.0</span>
</code></pre>
<p>è®¿é—® <code>http://localhost:8000/docs</code> å¯çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆçš„ Swagger UIï¼Œç›´æ¥æµ‹è¯•ï¼</p>
<hr/>
<h2 data-id="heading-2">ç¬¬ä¸‰æ­¥ï¼šKubernetes éƒ¨ç½² â€”â€” ç”Ÿäº§å°±ç»ª</h2>
<p>åˆ›å»º <code>deployment.yaml</code>ï¼ŒåŒ…å«å¥åº·æ£€æŸ¥ã€èµ„æºé™åˆ¶ä¸å‰¯æœ¬ç®¡ç†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">Yaml</span>
<span class="hljs-string">ç¼–è¾‘</span>
<span class="hljs-number">1</span><span class="hljs-comment"># deployment.yaml</span>
<span class="hljs-attr">2apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">3kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">4metadata:</span>
<span class="hljs-attr">5  name:</span> <span class="hljs-string">ai-summarizer</span>
<span class="hljs-attr">6spec:</span>
<span class="hljs-attr">7  replicas:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">8  selector:</span>
<span class="hljs-attr">9    matchLabels:</span>
<span class="hljs-attr">10      app:</span> <span class="hljs-string">ai-summarizer</span>
<span class="hljs-attr">11  template:</span>
<span class="hljs-attr">12    metadata:</span>
<span class="hljs-attr">13      labels:</span>
<span class="hljs-attr">14        app:</span> <span class="hljs-string">ai-summarizer</span>
<span class="hljs-attr">15    spec:</span>
<span class="hljs-attr">16      containers:</span>
<span class="hljs-attr">17      - name:</span> <span class="hljs-string">ai-summarizer</span>
<span class="hljs-attr">18        image:</span> <span class="hljs-string">ai-summarizer:1.0</span>
<span class="hljs-attr">19        ports:</span>
<span class="hljs-attr">20        - containerPort:</span> <span class="hljs-number">8000</span>
<span class="hljs-attr">21        resources:</span>
<span class="hljs-attr">22          requests:</span>
<span class="hljs-attr">23            memory:</span> <span class="hljs-string">"2Gi"</span>
<span class="hljs-attr">24            cpu:</span> <span class="hljs-string">"1"</span>
<span class="hljs-attr">25          limits:</span>
<span class="hljs-attr">26            memory:</span> <span class="hljs-string">"3Gi"</span>
<span class="hljs-attr">27            cpu:</span> <span class="hljs-string">"2"</span>
<span class="hljs-attr">28        livenessProbe:</span>
<span class="hljs-attr">29          httpGet:</span>
<span class="hljs-attr">30            path:</span> <span class="hljs-string">/docs</span>
<span class="hljs-attr">31            port:</span> <span class="hljs-number">8000</span>
<span class="hljs-attr">32          initialDelaySeconds:</span> <span class="hljs-number">30</span>
<span class="hljs-attr">33          periodSeconds:</span> <span class="hljs-number">60</span>
<span class="hljs-attr">34        readinessProbe:</span>
<span class="hljs-attr">35          httpGet:</span>
<span class="hljs-attr">36            path:</span> <span class="hljs-string">/docs</span>
<span class="hljs-attr">37            port:</span> <span class="hljs-number">8000</span>
<span class="hljs-attr">38          initialDelaySeconds:</span> <span class="hljs-number">10</span>
<span class="hljs-attr">39          periodSeconds:</span> <span class="hljs-number">10</span>
<span class="hljs-number">40</span><span class="hljs-string">---</span>
<span class="hljs-attr">41apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">42kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">43metadata:</span>
<span class="hljs-attr">44  name:</span> <span class="hljs-string">ai-summarizer-svc</span>
<span class="hljs-attr">45spec:</span>
<span class="hljs-attr">46  type:</span> <span class="hljs-string">LoadBalancer</span>
<span class="hljs-attr">47  ports:</span>
<span class="hljs-attr">48  - port:</span> <span class="hljs-number">80</span>
<span class="hljs-attr">49    targetPort:</span> <span class="hljs-number">8000</span>
<span class="hljs-attr">50  selector:</span>
<span class="hljs-attr">51    app:</span> <span class="hljs-string">ai-summarizer</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>æ•™è‚²é‡ç‚¹</strong>ï¼š</p>
<ul>
<li><code>resources</code>Â é™åˆ¶é˜²æ­¢ Pod è€—å°½èŠ‚ç‚¹èµ„æºï¼›</li>
<li><code>livenessProbe</code>/<code>readinessProbe</code>Â ç¡®ä¿æµé‡åªæ‰“åˆ°å¥åº·å®ä¾‹ï¼›</li>
<li>å¤šå‰¯æœ¬æä¾›é«˜å¯ç”¨ã€‚</li>
</ul>
</blockquote>
<p>éƒ¨ç½²åˆ°é›†ç¾¤ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Bash
ç¼–è¾‘
<span class="hljs-number">1</span>kubectl apply -f deployment.yaml
<span class="hljs-number">2</span>kubectl <span class="hljs-keyword">get</span> pods -w  <span class="hljs-meta"># è§‚å¯Ÿå¯åŠ¨çŠ¶æ€</span>
</code></pre>
<p>è·å–å¤–éƒ¨ IPï¼ˆäº‘å¹³å°ï¼‰æˆ–ä½¿ç”¨ <code>minikube service ai-summarizer-svc</code>ï¼ˆæœ¬åœ°ï¼‰è®¿é—®æœåŠ¡ã€‚</p>
<hr/>
<h2 data-id="heading-3">ç¬¬å››æ­¥ï¼šéªŒè¯ä¸æ‰©å±•ï¼ˆ100% è½åœ°å…³é”®ï¼‰</h2>
<h3 data-id="heading-4">âœ… åŠŸèƒ½éªŒè¯</h3>
<pre><code class="hljs language-arduino" lang="arduino">Bash
ç¼–è¾‘
<span class="hljs-number">1</span>curl -X POST http:<span class="hljs-comment">//&lt;EXTERNAL-IP&gt;/summarize \
2  -H "Content-Type: application/json" \
3  -d '{</span>
<span class="hljs-number">4</span>    <span class="hljs-string">"text"</span>: <span class="hljs-string">"äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå®ƒä¼å›¾äº†è§£æ™ºèƒ½çš„å®è´¨ï¼Œå¹¶ç”Ÿäº§å‡ºä¸€ç§æ–°çš„èƒ½ä»¥äººç±»æ™ºèƒ½ç›¸ä¼¼çš„æ–¹å¼åšå‡ºååº”çš„æ™ºèƒ½æœºå™¨ã€‚è¯¥é¢†åŸŸçš„ç ”ç©¶åŒ…æ‹¬æœºå™¨äººã€è¯­è¨€è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œä¸“å®¶ç³»ç»Ÿç­‰ã€‚"</span>,
<span class="hljs-number">5</span>    <span class="hljs-string">"max_length"</span>: <span class="hljs-number">100</span>
<span class="hljs-number">6</span>  }'
</code></pre>
<p>é¢„æœŸè¿”å›ï¼š</p>
<pre><code class="hljs language-css" lang="css">Json
ç¼–è¾‘
<span class="hljs-number">1</span>{"<span class="hljs-selector-tag">summary</span>":<span class="hljs-string">"äººå·¥æ™ºèƒ½æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ—¨åœ¨ç†è§£æ™ºèƒ½å¹¶åˆ¶é€ èƒ½æ¨¡æ‹Ÿäººç±»æ™ºèƒ½ååº”çš„æœºå™¨ã€‚"</span>}
</code></pre>
<h3 data-id="heading-5">âœ… å¯è§‚æµ‹æ€§å¢å¼ºï¼ˆå¯é€‰ä½†æ¨èï¼‰</h3>
<ul>
<li>æ·»åŠ  Prometheus æŒ‡æ ‡ï¼ˆé€šè¿‡Â <code>starlette_exporter</code>ï¼‰ï¼›</li>
<li>æ—¥å¿—æ¥å…¥ Loki æˆ– ELKï¼›</li>
<li>ä½¿ç”¨ OpenTelemetry è¿½è¸ªè¯·æ±‚é“¾è·¯ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆè¿™æ˜¯â€œ100% è½åœ°â€çš„æ–¹æ¡ˆï¼Ÿ</h2>





























<table><thead><tr><th>ç»´åº¦</th><th>æœ¬æ–¹æ¡ˆå®ç°</th></tr></thead><tbody><tr><td><strong>å¯è¿è¡Œ</strong></td><td>æœ¬åœ° Docker ä¸€é”®å¯åŠ¨</td></tr><tr><td><strong>å¯éƒ¨ç½²</strong></td><td>æ ‡å‡† K8s YAMLï¼Œé€‚é…ä»»ä½•äº‘æˆ– On-Prem</td></tr><tr><td><strong>å¯æ‰©å±•</strong></td><td>å¢åŠ  HPA è‡ªåŠ¨æ‰©ç¼©å®¹ä»…éœ€å‡ è¡Œé…ç½®</td></tr><tr><td><strong>å¯ç»´æŠ¤</strong></td><td>æ¨¡å—åŒ–ä»£ç  + å¥åº·æ£€æŸ¥ + æ—¥å¿—</td></tr><tr><td><strong>åˆè§„å®‰å…¨</strong></td><td>æ— å¤–éƒ¨ API ä¾èµ–ï¼Œæ•°æ®å®Œå…¨ç§æœ‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">ç»“è¯­ï¼šAI åº”ç”¨çš„ä»·å€¼ï¼Œåœ¨äºâ€œè·‘åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œâ€</h2>
<p>æœ¬æ–‡æ²¡æœ‰ç‚«æŠ€ï¼Œæ²¡æœ‰å¤æ‚å¾®æœåŠ¡ï¼Œåªæœ‰ä¸€ä¸ª<strong>çœŸå®ã€ç®€æ´ã€å¯äº¤ä»˜</strong>çš„ AI äº‘åŸç”Ÿåº”ç”¨ã€‚ä½ å¯ä»¥åœ¨ 1 å°æ—¶å†…å®Œæˆå…¨éƒ¨æ­¥éª¤ï¼Œå¹¶å°†å…¶ä½œä¸ºå›¢é˜Ÿ AI èƒ½åŠ›çš„åŸºçŸ³ã€‚</p>
<blockquote>
<p><strong>è®°ä½ï¼šåœ¨å·¥ç¨‹ä¸–ç•Œï¼Œèƒ½ä¸Šçº¿çš„ä»£ç ï¼Œèƒœè¿‡åƒç¯‡è®ºæ–‡ã€‚</strong></p>
</blockquote>
<p>ç°åœ¨ï¼Œå°±å»æ„å»ºä½ çš„ç¬¬ä¸€ä¸ª AI äº‘åŸç”ŸæœåŠ¡å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»10ç§’åˆ°1ç§’çš„5ä¸ªå…³é”®æŠ€å·§ï¼Œè®©ä½ çš„åº”ç”¨é£èµ·æ¥ï¼]]></title>    <link>https://juejin.cn/post/7582533464244469794</link>    <guid>https://juejin.cn/post/7582533464244469794</guid>    <pubDate>2025-12-12T04:17:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464244469794" data-draft-id="7582517824498024482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»10ç§’åˆ°1ç§’çš„5ä¸ªå…³é”®æŠ€å·§ï¼Œè®©ä½ çš„åº”ç”¨é£èµ·æ¥ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-12T04:17:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»10ç§’åˆ°1ç§’çš„5ä¸ªå…³é”®æŠ€å·§ï¼Œè®©ä½ çš„åº”ç”¨é£èµ·æ¥ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:17:03.000Z" title="Fri Dec 12 2025 04:17:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Vue3 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»10ç§’åˆ°1ç§’çš„5ä¸ªå…³é”®æŠ€å·§ï¼Œè®©ä½ çš„åº”ç”¨é£èµ·æ¥ï¼</strong></h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨å½“ä»Šçš„å‰ç«¯å¼€å‘ä¸­ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯æ¯ä¸ªå¼€å‘è€…éƒ½æ— æ³•å›é¿çš„è¯é¢˜ã€‚å°¤å…¶æ˜¯å¯¹äº Vue3 åº”ç”¨æ¥è¯´ï¼Œéšç€ä¸šåŠ¡é€»è¾‘çš„å¤æ‚åŒ–å’Œæ•°æ®é‡çš„å¢é•¿ï¼Œåº”ç”¨çš„æ€§èƒ½é—®é¢˜å¯èƒ½ä¼šé€æ¸æ˜¾ç°ã€‚ä¸€ä¸ªåŸæœ¬å“åº”è¿…é€Ÿçš„é¡µé¢ï¼Œå¯èƒ½åœ¨æŸä¸ªæ—¶åˆ»å˜å¾—ç¼“æ…¢ç”šè‡³å¡é¡¿ï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>æœ¬æ–‡å°†ä»å®æˆ˜è§’åº¦å‡ºå‘ï¼Œåˆ†äº« 5 ä¸ªå…³é”®çš„ Vue3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå¸®åŠ©ä½ ä»â€œ10ç§’åŠ è½½â€ä¼˜åŒ–åˆ°â€œ1ç§’å“åº”â€ï¼Œè®©ä½ çš„åº”ç”¨çœŸæ­£â€œé£èµ·æ¥â€ã€‚è¿™äº›æŠ€å·§ä¸ä»…åŸºäº Vue3 çš„æ ¸å¿ƒç‰¹æ€§ï¼ˆå¦‚ Composition APIã€å“åº”å¼ç³»ç»Ÿä¼˜åŒ–ç­‰ï¼‰ï¼Œè¿˜ç»“åˆäº†ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h3 data-id="heading-2">1. <strong>åˆç†ä½¿ç”¨ <code>v-once</code> å’Œ <code>v-memo</code>ï¼šå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“</strong></h3>
<p>Vue3 çš„å“åº”å¼ç³»ç»Ÿæ˜¯å…¶æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ï¼Œä½†é¢‘ç¹çš„ç»„ä»¶æ¸²æŸ“ä¹Ÿå¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚<code>v-once</code> å’Œ <code>v-memo</code> æ˜¯ä¸¤ä¸ªç”¨äºä¼˜åŒ–æ¸²æŸ“çš„æŒ‡ä»¤ï¼š</p>
<ul>
<li>
<p><strong><code>v-once</code></strong>ï¼šæ ‡è®°å…ƒç´ æˆ–ç»„ä»¶åªæ¸²æŸ“ä¸€æ¬¡ï¼Œåç»­ä¸å†æ›´æ–°ã€‚é€‚ç”¨äºé™æ€å†…å®¹æˆ–ä¸éœ€è¦å“åº”å¼å˜åŒ–çš„éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-once</span>&gt;</span>{{ staticContent }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong><code>v-memo</code></strong>ï¼ˆVue3.2+ï¼‰ï¼šé€šè¿‡ç¼“å­˜è™šæ‹Ÿ DOM èŠ‚ç‚¹ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚é€‚ç”¨äºéœ€è¦é¢‘ç¹æ›´æ–°ä½†å†…å®¹å¯èƒ½ä¸å˜çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-memo</span>=<span class="hljs-string">"[dependency]"</span>&gt;</span>{{ dynamicContent }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>åªæœ‰å½“ <code>dependency</code> å˜åŒ–æ—¶ï¼Œæ‰ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3"><strong>å®æˆ˜å»ºè®®</strong></h4>
<ul>
<li>å¯¹é™æ€å†…å®¹ï¼ˆå¦‚é¡µè„šã€æ ‡é¢˜ï¼‰ä½¿ç”¨ <code>v-once</code>ã€‚</li>
<li>å¯¹é«˜é¢‘æ›´æ–°ä½†ä¾èµ–é¡¹è¾ƒå°‘çš„åˆ—è¡¨é¡¹ä½¿ç”¨ <code>v-memo</code>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">2. <strong>æ‡’åŠ è½½ä¸ä»£ç åˆ†å‰²ï¼šæŒ‰éœ€åŠ è½½èµ„æº</strong></h3>
<p>Vue3 ç»“åˆç°ä»£æ‰“åŒ…å·¥å…·ï¼ˆå¦‚ Viteã€Webpackï¼‰å¯ä»¥è½»æ¾å®ç°ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½ï¼š</p>
<ul>
<li>
<p><strong>è·¯ç”±çº§æ‡’åŠ è½½</strong>ï¼šé€šè¿‡åŠ¨æ€å¯¼å…¥æ‹†åˆ†è·¯ç”±ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./views/Home.vue'</span>);
</code></pre>
</li>
<li>
<p><strong>ç»„ä»¶çº§æ‡’åŠ è½½</strong>ï¼šå¯¹éé¦–å±å…³é”®ç»„ä»¶ä½¿ç”¨ <code>defineAsyncComponent</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span> 
  <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/HeavyComponent.vue'</span>)
);
</code></pre>
</li>
</ul>
<h4 data-id="heading-5"><strong>å®æˆ˜å»ºè®®</strong></h4>
<ul>
<li>ç»“åˆ <code>Suspense</code>ï¼ˆå®éªŒæ€§ç‰¹æ€§ï¼‰å¤„ç†å¼‚æ­¥ç»„ä»¶çš„åŠ è½½çŠ¶æ€ã€‚</li>
<li>Vite + Rollup çš„å¤©ç„¶æ”¯æŒå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ– Tree Shakingã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">3. <strong>å“åº”å¼æ•°æ®çš„ç²¾ç»†åŒ–æ§åˆ¶</strong></h3>
<p>Vue3 çš„å“åº”å¼ç³»ç»ŸåŸºäº Proxyï¼Œä½†ä»éœ€é¿å…è¿‡åº¦å“åº”å¼åŒ–ï¼š</p>
<ul>
<li><strong>ä½¿ç”¨ <code>shallowRef</code> / <code>shallowReactive</code></strong>ï¼šä»…å¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œé€‚åˆå¤§å‹å¯¹è±¡æˆ–æ•°ç»„ã€‚</li>
<li><strong>é¿å…åœ¨æ¨¡æ¿ä¸­ç›´æ¥è®¿é—®æ·±å±‚åµŒå¥—å±æ€§</strong>ï¼šä¾‹å¦‚ <code>user.profile.address.city</code>ï¼Œè¿™ç§è®¿é—®ä¼šé€’å½’è§¦å‘ä¾èµ–æ”¶é›†ã€‚</li>
<li><strong>æ‰‹åŠ¨æ§åˆ¶ä¾èµ–è¿½è¸ª</strong>ï¼šé€šè¿‡ <code>markRaw</code> è·³è¿‡ä¸å¿…è¦çš„å“åº”å¼è½¬æ¢ã€‚</li>
</ul>
<h4 data-id="heading-7"><strong>å®æˆ˜å»ºè®®</strong></h4>
<ul>
<li>APIè¿”å›çš„å¤§å‹æ•°æ®é›†ä¼˜å…ˆç”¨ <code>shallowRef</code>ã€‚</li>
<li>Pinia/VuexçŠ¶æ€ç®¡ç†ä¸­å¯å±€éƒ¨ä½¿ç”¨éå“åº”å¼æ•°æ®ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">4. <strong>è™šæ‹Ÿæ»šåŠ¨ä¸åˆ—è¡¨ä¼˜åŒ–ï¼šé«˜æ•ˆæ¸²æŸ“é•¿åˆ—è¡¨</strong></h3>
<p>é•¿åˆ—è¡¨æ˜¯å‰ç«¯æ€§èƒ½çš„â€œæ€æ‰‹â€ã€‚Vue3ç”Ÿæ€æä¾›äº†æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>è™šæ‹Ÿæ»šåŠ¨åº“ï¼ˆå¦‚ <code>vue-virtual-scroller</code>ï¼‰</strong>ï¼šä»…æ¸²æŸ“å¯è§†åŒºåŸŸçš„ DOMã€‚</li>
<li><strong>æ‰‹åŠ¨å®ç°åˆ†ç‰‡æ¸²æŸ“ï¼ˆTime Slicingï¼‰</strong>ï¼šé€šè¿‡ <code>requestIdleCallback</code>åˆ†æ‰¹æ¸²æŸ“æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-9"><strong>ç¤ºä¾‹ä»£ç ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰</strong></h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">RecycleScroller</span> 
    <span class="hljs-attr">:items</span>=<span class="hljs-string">"largeList"</span>
    <span class="hljs-attr">:item-size</span>=<span class="hljs-string">"50"</span>
    <span class="hljs-attr">key-field</span>=<span class="hljs-string">"id"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">"{ item }"</span>&gt;</span>
      {{ item.name }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">RecycleScroller</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h4 data-id="heading-10"><strong>å®æˆ˜å»ºè®®</strong></h4>
<ul>
<li>1ä¸‡æ¡ä»¥ä¸Šæ•°æ®å¿…é¡»ç”¨è™šæ‹Ÿæ»šåŠ¨ã€‚</li>
<li>ç»“åˆWeb Workeré¢„å¤„ç†æ•°æ®è¿›ä¸€æ­¥é™ä½ä¸»çº¿ç¨‹å‹åŠ›ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11">5. <strong>ç¼–è¯‘æ—¶ä¼˜åŒ–ä¸å·¥å…·é“¾é€‰æ‹©</strong></h3>
<p>Vue3çš„ç¼–è¯‘å™¨åšäº†å¤§é‡é™æ€åˆ†æä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>å¯ç”¨æ¨¡æ¿é¢„ç¼–è¯‘ï¼ˆViteæ¨¡å¼é»˜è®¤å¼€å¯ï¼‰</strong></li>
<li><strong>é€‰æ‹©æ€§ç¦ç”¨SourceMapç”Ÿæˆ</strong></li>
<li><strong>é™æ€èŠ‚ç‚¹æå‡ï¼ˆHoist Staticï¼‰</strong></li>
<li><strong>Patch Flagsæ ‡è®°åŠ¨æ€èŠ‚ç‚¹</strong></li>
</ol>
<h4 data-id="heading-12">Viteé…ç½®ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 <span class="hljs-attr">build</span>: {
   <span class="hljs-attr">minify</span>: <span class="hljs-string">'terser'</span>,
   <span class="hljs-attr">terserOptions</span>: {
     <span class="hljs-attr">compress</span>: { <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span> }
   }
 }
}
</code></pre>
<h4 data-id="heading-13">Webpackè¡¥å……ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
 <span class="hljs-attr">optimization</span>: {
   <span class="hljs-attr">splitChunks</span>: { <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span> }
 }
}
</code></pre>
<hr/>
<h3 data-id="heading-14">æ€»ç»“</h3>
<p>ä»10ç§’åˆ°1ç§’çš„æ€§èƒ½é£è·ƒå¹¶éé­”æ³•ï¼Œè€Œæ˜¯éœ€è¦å¯¹Vue3è¿è¡Œæœºåˆ¶æœ‰æ·±åˆ»ç†è§£ï¼š</p>
<ol>
<li>ğŸš€ <strong>æ¸²æŸ“æ§åˆ¶</strong>æ˜¯åŸºç¡€ - v-memo/v-onceç²¾å‡†æŠŠæ§æ›´æ–°ç²’åº¦</li>
<li>â³ <strong>æ‡’åŠ è½½ç­–ç•¥</strong>è§£å†³èµ„æºç“¶é¢ˆ</li>
<li>ğŸ” <strong>å“åº”å¼è°ƒä¼˜</strong>é¿å…æ— æ„ä¹‰è¿½è¸ª</li>
<li>ğŸ“œ <strong>è™šæ‹Ÿæ»šåŠ¨æ”»å…‹åˆ—è¡¨éš¾é¢˜</strong></li>
<li>âš™ï¸å·¥å…·é“¾æ·±åº¦é€‚é…é‡Šæ”¾æ¡†æ¶æ½œåŠ›</li>
</ol>
<p>è¿™äº›æŠ€æœ¯ä¸æ˜¯å­¤ç«‹çš„â€”â€”å®é™…é¡¹ç›®ä¸­å¾€å¾€éœ€è¦ç»„åˆè¿ç”¨ã€‚ä¾‹å¦‚ä¸€ä¸ªç”µå•†é¡µé¢å¯èƒ½åŒæ—¶éœ€è¦ï¼š
-å•†å“åˆ—è¡¨ç”¨è™šæ‹Ÿæ»šåŠ¨
-è´­ç‰©è½¦æ•°æ®ç”¨shallowReactive
-ç»“ç®—æ¨¡å—å¼‚æ­¥åŠ è½½</p>
<p>çœŸæ­£çš„æ€§èƒ½é«˜æ‰‹ä¸åœ¨äºçŸ¥é“å¤šå°‘APIï¼Œè€Œåœ¨äºå‡†ç¡®åˆ¤æ–­æŠ€æœ¯é€‰å‹èƒŒåçš„trade-off</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ Python æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼šä»é›¶å¼€å§‹å¿«é€Ÿæ„å»º Python çŸ¥è¯†ä½“ç³»]]></title>    <link>https://juejin.cn/post/7582808491582455844</link>    <guid>https://juejin.cn/post/7582808491582455844</guid>    <pubDate>2025-12-12T04:44:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491582455844" data-draft-id="7582539701146517545" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ğŸ Python æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼šä»é›¶å¼€å§‹å¿«é€Ÿæ„å»º Python çŸ¥è¯†ä½“ç³»"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-12T04:44:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ğŸ Python æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼šä»é›¶å¼€å§‹å¿«é€Ÿæ„å»º Python çŸ¥è¯†ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T04:44:10.000Z" title="Fri Dec 12 2025 04:44:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡æ–‡ç« å°†ä¼šç³»ç»Ÿåœ°æç‚¼ Python çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€è¯­æ³•ç‰¹æ€§å’Œç¼–ç¨‹é£æ ¼ï¼Œå¸®åŠ©ä½ é«˜æ•ˆåœ°å»ºç«‹å®Œæ•´çš„ Python çŸ¥è¯†ä½“ç³»ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€è¯­æ³•</h2>
<h3 data-id="heading-1">1.1 å˜é‡ä¸èµ‹å€¼</h3>
<p>Python ä¸éœ€è¦ä¸“é—¨çš„å…³é”®å­—æ¥å£°æ˜å˜é‡ï¼Œç›´æ¥èµ‹å€¼å³å¯ã€‚</p>
<ul>
<li><strong>èµ‹å€¼ï¼š</strong> <code>name = "å¼ ä¸‰"</code></li>
<li><strong>å‘½åè§„èŒƒï¼š</strong> æ¨èä½¿ç”¨ <code>snake_case</code>ï¼ˆä¸‹åˆ’çº¿å‘½åï¼‰ï¼Œå¦‚ <code>is_student</code>ã€‚</li>
<li><strong>ç©ºå€¼ï¼š</strong> ä½¿ç”¨ <code>None</code> è¡¨ç¤ºç©ºå€¼ã€‚</li>
<li><strong>å¸ƒå°”å€¼ï¼š</strong> åªæœ‰ <code>True</code> å’Œ <code>False</code>ï¼Œé¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python">name = <span class="hljs-string">"å¼ ä¸‰"</span>
age = <span class="hljs-number">25</span>
is_student = <span class="hljs-literal">True</span>
score = <span class="hljs-literal">None</span>
</code></pre>
<h3 data-id="heading-2">1.2 å‡½æ•°å®šä¹‰</h3>
<p>ä½¿ç”¨ <code>def</code> å…³é”®å­—å®šä¹‰å‡½æ•°ï¼Œå‡½æ•°ä½“é€šè¿‡ <strong>ç¼©è¿›</strong> æ¥ç•Œå®šã€‚</p>
<ul>
<li><strong>å®šä¹‰ï¼š</strong> ä½¿ç”¨ <code>def</code> å…³é”®å­—ï¼Œåè·Ÿå‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ï¼Œä»¥å†’å· <code>:</code> ç»“æŸã€‚</li>
<li><strong>å‡½æ•°ä½“ï¼š</strong> å¿…é¡»ç¼©è¿›ã€‚</li>
<li><strong>é»˜è®¤å‚æ•°ï¼š</strong> å¯ä»¥åœ¨å‚æ•°åˆ—è¡¨ä¸­è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚ <code>age=18</code>ã€‚</li>
<li><strong><code>lambda</code> è¡¨è¾¾å¼ï¼š</strong> ç”¨äºåˆ›å»ºç®€å•çš„å•è¡ŒåŒ¿åå‡½æ•°ã€‚</li>
<li><strong>f-stringï¼š</strong> ç”¨äºå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ˆç±»ä¼¼æ¨¡æ¿å­—ç¬¦ä¸²ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># æ™®é€šå‡½æ•° </span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-comment"># lambda å‡½æ•°</span>
add = <span class="hljs-keyword">lambda</span> a, b: a + b

<span class="hljs-comment"># å¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">name, age=<span class="hljs-number">18</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"name"</span>: name, <span class="hljs-string">"age"</span>: age}
</code></pre>
<h3 data-id="heading-3">1.3 æ§åˆ¶æµç¨‹</h3>
<h4 data-id="heading-4">1.3.1 æ¡ä»¶è¯­å¥</h4>
<p>ä½¿ç”¨ <code>if</code>ã€<code>elif</code>ï¼ˆè€Œä¸æ˜¯ <code>else if</code>ï¼‰å’Œ <code>else</code>ã€‚ä»£ç å—ç”±å†’å· <code>:</code> å’Œ <strong>ç¼©è¿›</strong> ç¡®å®šã€‚</p>
<ul>
<li><strong>ä¸‰å…ƒè¡¨è¾¾å¼ï¼š</strong> è¯­æ³•ä¸º <code>value_if_true if condition else value_if_false</code>ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æˆå¹´äºº"</span>)
<span class="hljs-keyword">elif</span> age &gt;= <span class="hljs-number">13</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"é’å°‘å¹´"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å„¿ç«¥"</span>)

<span class="hljs-comment"># ä¸‰å…ƒè¡¨è¾¾å¼</span>
status = <span class="hljs-string">"æˆå¹´"</span> <span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"æœªæˆå¹´"</span>
</code></pre>
<h4 data-id="heading-5">1.3.2 å¾ªç¯è¯­å¥</h4>
<p><strong>1. <code>for</code> å¾ªç¯ï¼š</strong> ä¸»è¦ç”¨äºè¿­ä»£åºåˆ—ï¼ˆåˆ—è¡¨ã€å­—ç¬¦ä¸²ç­‰ï¼‰æˆ–ä½¿ç”¨ <code>range()</code> å‡½æ•°ç”Ÿæˆæ•°å­—åºåˆ—ã€‚</p>
<ul>
<li><strong>ç”Ÿæˆæ•°å­—åºåˆ—ï¼š</strong> <code>range(start, stop, step)</code>ã€‚</li>
<li><strong>å¸¦ç´¢å¼•éå†ï¼š</strong> ä½¿ç”¨ <code>enumerate()</code> å‡½æ•°åŒæ—¶è·å–ç´¢å¼•å’Œå€¼ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># è¿­ä»£æ•°å­— (0 åˆ° 4)</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
    <span class="hljs-built_in">print</span>(i)

<span class="hljs-comment"># éå†åˆ—è¡¨</span>
fruits = [<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"orange"</span>]
<span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruits:
    <span class="hljs-built_in">print</span>(fruit)

<span class="hljs-comment"># å¸¦ç´¢å¼•éå†</span>
<span class="hljs-keyword">for</span> index, fruit <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits):
    <span class="hljs-built_in">print</span>(index, fruit)
</code></pre>
<p><strong>2. <code>while</code> å¾ªç¯ï¼š</strong> å¾ªç¯é€»è¾‘ä¸å¤§å¤šæ•°è¯­è¨€ç›¸ä¼¼ã€‚</p>
<ul>
<li><strong>è‡ªå¢/è‡ªå‡ï¼š</strong> Python <strong>æ²¡æœ‰</strong> <code>i++</code> æˆ– <code>i--</code> è¯­æ³•ï¼Œä½¿ç”¨ <code>i += 1</code> æˆ– <code>i -= 1</code>ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python">i = <span class="hljs-number">0</span>
<span class="hljs-keyword">while</span> i &lt; <span class="hljs-number">5</span>:
    <span class="hljs-built_in">print</span>(i)
    i += <span class="hljs-number">1</span>
</code></pre>
<h2 data-id="heading-6">äºŒã€æ•°æ®ç±»å‹</h2>
<p>Python æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ˜ç¡®åŒºåˆ†ä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p>
<h3 data-id="heading-7">2.1 åŸºæœ¬æ•°æ®ç±»å‹</h3>























































<table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>Python åç§°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²</td><td><code>str</code></td><td>å•å¼•å· <code>'</code> å’ŒåŒå¼•å· <code>"</code> å®Œå…¨ç­‰ä»·ã€‚</td></tr><tr><td>æ•´æ•°</td><td><code>int</code></td><td>æ”¯æŒä»»æ„å¤§å°çš„æ•´æ•°ã€‚</td></tr><tr><td>æµ®ç‚¹æ•°</td><td><code>float</code></td><td>æ ‡å‡†æµ®ç‚¹æ•°ã€‚</td></tr><tr><td>å¸ƒå°”å€¼</td><td><code>bool</code></td><td><code>True</code> æˆ– <code>False</code>ã€‚</td></tr><tr><td>ç©ºå€¼</td><td><code>None</code></td><td>å”¯ä¸€çš„ç©ºå€¼ã€‚</td></tr><tr><td>åˆ—è¡¨</td><td><code>list</code></td><td>å¯å˜çš„åºåˆ—ï¼ˆç±»ä¼¼æ•°ç»„ï¼‰ã€‚</td></tr><tr><td>å­—å…¸</td><td><code>dict</code></td><td>é”®å€¼å¯¹é›†åˆï¼ˆç±»ä¼¼å¯¹è±¡/Mapï¼‰ã€‚</td></tr><tr><td>é›†åˆ</td><td><code>set</code></td><td>æ— åºã€ä¸é‡å¤çš„å…ƒç´ é›†åˆã€‚</td></tr><tr><td>å…ƒç»„</td><td><code>tuple</code></td><td><strong>ä¸å¯å˜</strong> çš„åºåˆ—ï¼ˆPython ç‰¹æœ‰ï¼‰ã€‚</td></tr></tbody></table>
<h3 data-id="heading-8">2.2 æ•°å­—è¿ç®—</h3>
<p>Python æ˜ç¡®åŒºåˆ†æ•´æ•°å’Œæµ®ç‚¹æ•°ã€‚</p>
<ul>
<li><strong>ç±»å‹ï¼š</strong> ä½¿ç”¨ <code>type()</code> å‡½æ•°è·å–ç±»å‹ï¼Œå¦‚ <code>type(42)</code> è¿”å› <code>&lt;class 'int'&gt;</code>ã€‚</li>
<li><strong>æµ®ç‚¹é™¤æ³•ï¼š</strong> <code>/</code> è¿ç®—ç¬¦ï¼ˆå¦‚ <code>5 / 2</code> ç»“æœä¸º <code>2.5</code>ï¼‰ã€‚</li>
<li><strong>æ•´é™¤ï¼š</strong> <code>//</code> è¿ç®—ç¬¦ï¼ˆå¦‚ <code>5 // 2</code> ç»“æœä¸º <code>2</code>ï¼‰ã€‚</li>
<li><strong>å¹‚è¿ç®—ï¼š</strong> <code>**</code> è¿ç®—ç¬¦ï¼ˆå¦‚ <code>5 ** 2</code> ç»“æœä¸º <code>25</code>ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-9">2.3 å­—ç¬¦ä¸²æ“ä½œ</h3>
<p>å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„åºåˆ—ã€‚</p>
<ul>
<li><strong>é•¿åº¦ï¼š</strong> ä½¿ç”¨å†…ç½®å‡½æ•° <code>len()</code> è·å–é•¿åº¦ï¼Œå¦‚ <code>len(str)</code>ã€‚</li>
<li><strong>æ–¹æ³•ï¼š</strong> <code>str.upper()</code>ã€<code>str.lower()</code>ã€<code>str.split()</code>ã€<code>str.replace()</code> ç­‰ã€‚</li>
<li><strong>å­ä¸²æ£€æŸ¥ï¼š</strong> ä½¿ç”¨ <code>in</code> å…³é”®å­—ï¼Œå¦‚ <code>"World" in str</code>ã€‚</li>
<li><strong>åˆ‡ç‰‡ï¼š</strong> ä½¿ç”¨ç®€æ´çš„åˆ‡ç‰‡è¯­æ³• <code>[start:end]</code>ï¼ˆä¸åŒ…å« <code>end</code>ï¼‰ã€‚</li>
<li><strong>f-stringï¼š</strong> æœ€å¸¸ç”¨çš„æ ¼å¼åŒ–æ–¹å¼ï¼Œå¦‚ <code>f"ä½ å¥½, {name}!"</code>ã€‚</li>
<li><strong>å¤šè¡Œå­—ç¬¦ä¸²ï¼š</strong> ä½¿ç”¨ä¸‰å¼•å· <code>"""..."""</code> æˆ– <code>'''...'''</code> åˆ›å»ºã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-built_in">str</span> = <span class="hljs-string">"Hello World"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(<span class="hljs-built_in">str</span>))        <span class="hljs-comment"># 11</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"World"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>)  <span class="hljs-comment"># True</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>[<span class="hljs-number">0</span>:<span class="hljs-number">5</span>])        <span class="hljs-comment"># "Hello"</span>
</code></pre>
<h3 data-id="heading-10">2.4 ç±»å‹è½¬æ¢</h3>
<p>Python ä¸ä¼šè‡ªåŠ¨è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œå¿…é¡»ä½¿ç”¨å¯¹åº”çš„ç±»å‹æ„é€ å‡½æ•°è¿›è¡Œæ˜¾å¼è½¬æ¢ã€‚</p>
<ul>
<li><code>str(value)</code>ï¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>int(value)</code>ï¼šè½¬æ¢ä¸ºæ•´æ•°ã€‚</li>
<li><code>float(value)</code>ï¼šè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚</li>
<li><code>bool(value)</code>ï¼šè½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">"5"</span>) + <span class="hljs-number">3</span>)      <span class="hljs-comment"># 8</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"5"</span> + <span class="hljs-built_in">str</span>(<span class="hljs-number">3</span>))      <span class="hljs-comment"># "53"</span>
<span class="hljs-comment"># print("5" + 3)         # TypeError (ä¸å…è®¸å­—ç¬¦ä¸²å’Œæ•°å­—ç›´æ¥ç›¸åŠ )</span>
</code></pre>
<h2 data-id="heading-11">ä¸‰ã€åˆ—è¡¨ï¼ˆListï¼‰å’Œå…ƒç»„ï¼ˆTupleï¼‰</h2>
<h3 data-id="heading-12">3.1 åˆ—è¡¨ (List)</h3>
<p>åˆ—è¡¨æ˜¯ Python ä¸­æœ€å¸¸ç”¨çš„<strong>å¯å˜</strong>åºåˆ—ç±»å‹ã€‚</p>
<h4 data-id="heading-13">3.1.1 åˆ›å»ºä¸è®¿é—®</h4>
<ul>
<li><strong>åˆ›å»ºï¼š</strong> <code>arr = [1, 2, 3]</code>ã€‚</li>
<li><strong>è´Ÿç´¢å¼•ï¼š</strong> æ”¯æŒè´Ÿç´¢å¼•ï¼Œ<code>-1</code> è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œ<code>-2</code> è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python">arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">0</span>])   <span class="hljs-comment"># 1</span>
<span class="hljs-built_in">print</span>(arr[-<span class="hljs-number">1</span>])  <span class="hljs-comment"># 5</span>
</code></pre>
<h4 data-id="heading-14">3.1.2 å¸¸ç”¨æ–¹æ³•</h4>

































































<table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong>Python æ–¹æ³•</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>æ·»åŠ å…ƒç´ (æœ«å°¾)</td><td><code>list.append(item)</code></td><td/></tr><tr><td>æ·»åŠ å…ƒç´ (ä»»æ„ä½ç½®)</td><td><code>list.insert(index, item)</code></td><td/></tr><tr><td>åˆ é™¤å…ƒç´ (æœ«å°¾/æŒ‡å®šç´¢å¼•)</td><td><code>list.pop()</code> æˆ– <code>list.pop(index)</code></td><td/></tr><tr><td>åˆ é™¤æŒ‡å®šå€¼</td><td><code>list.remove(value)</code></td><td>åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…çš„å€¼ï¼Œæ‰¾ä¸åˆ°ä¼šæŠ¥é”™ã€‚</td></tr><tr><td>åˆ é™¤æŒ‡å®šç´¢å¼•</td><td><code>del list[index]</code></td><td>æ›´é€šç”¨çš„åˆ é™¤è¯­æ³•ã€‚</td></tr><tr><td>æŸ¥æ‰¾ç´¢å¼•</td><td><code>list.index(value)</code></td><td>æ‰¾ä¸åˆ°ä¼šæŠ¥é”™ã€‚</td></tr><tr><td>æ£€æŸ¥å­˜åœ¨</td><td><code>value in list</code></td><td>ä½¿ç”¨ <code>in</code> å…³é”®å­—ã€‚</td></tr><tr><td>æ’åº</td><td><code>list.sort()</code></td><td><strong>åŸåœ°</strong> æ’åºï¼ˆä¿®æ”¹åŸåˆ—è¡¨ï¼‰ã€‚</td></tr><tr><td>æ’åº(è¿”å›æ–°åˆ—è¡¨)</td><td><code>sorted(list)</code></td><td>è¿”å›ä¸€ä¸ªæ–°çš„æ’åºåçš„åˆ—è¡¨ã€‚</td></tr><tr><td>åè½¬</td><td><code>list.reverse()</code></td><td><strong>åŸåœ°</strong> åè½¬ã€‚</td></tr><tr><td>é•¿åº¦</td><td><code>len(list)</code></td><td>ä½¿ç”¨ <code>len()</code> å‡½æ•°ã€‚</td></tr></tbody></table>
<h4 data-id="heading-15">3.1.3 å¼ºå¤§çš„åˆ‡ç‰‡æ“ä½œ</h4>
<p>åˆ‡ç‰‡æ˜¯ Python çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œç”¨äºè·å–åˆ—è¡¨çš„å­é›†ã€‚è¯­æ³•ä¸º <code>[start:end:step]</code>ã€‚</p>
<p>Python</p>
<pre><code class="hljs language-scss" lang="scss">arr = <span class="hljs-selector-attr">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>

<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>])   # <span class="hljs-selector-attr">[2, 3, 4]</span>  (ä»ç´¢å¼• <span class="hljs-number">2</span> åˆ° <span class="hljs-number">5</span>, ä¸å« <span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(arr[:<span class="hljs-number">5</span>])    # <span class="hljs-selector-attr">[0, 1, 2, 3, 4]</span>
<span class="hljs-built_in">print</span>(arr[<span class="hljs-number">5</span>:])    # <span class="hljs-selector-attr">[5, 6, 7, 8, 9]</span>
<span class="hljs-built_in">print</span>(arr[-<span class="hljs-number">3</span>:])   # <span class="hljs-selector-attr">[7, 8, 9]</span>  (æœ€å <span class="hljs-number">3</span> ä¸ªå…ƒç´ )
<span class="hljs-built_in">print</span>(arr[::<span class="hljs-number">2</span>])   # <span class="hljs-selector-attr">[0, 2, 4, 6, 8]</span> (æ¯éš”ä¸€ä¸ªå–ä¸€ä¸ª)
<span class="hljs-built_in">print</span>(arr[::-<span class="hljs-number">1</span>])  # <span class="hljs-selector-attr">[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span> (åè½¬)

# åˆ‡ç‰‡èµ‹å€¼ (ä¿®æ”¹åˆ—è¡¨)
arr<span class="hljs-selector-attr">[2:5]</span> = <span class="hljs-selector-attr">[20, 30, 40]</span>
</code></pre>
<h3 data-id="heading-16">3.2 åˆ—è¡¨æ¨å¯¼å¼ (List Comprehension)</h3>
<p>è¿™æ˜¯ Python æœ€ä¼˜é›…ã€æœ€é«˜æ•ˆçš„ç‰¹æ€§ä¹‹ä¸€ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆå’Œè½¬æ¢åˆ—è¡¨ã€‚</p>
<ul>
<li><strong>åŸºæœ¬å½¢å¼ï¼š</strong> <code>[expression for item in iterable]</code></li>
<li><strong>å¸¦æ¡ä»¶è¿‡æ»¤ï¼š</strong> <code>[expression for item in iterable if condition]</code></li>
</ul>
<pre><code class="hljs language-Python" lang="Python">numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-comment"># æ˜ å°„: [1, 4, 9, 16, 25]</span>
squares = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> numbers]

<span class="hljs-comment"># è¿‡æ»¤: [4, 16]</span>
even_squares = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> numbers <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]

<span class="hljs-comment"># æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨</span>
nested = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]
flat = [item <span class="hljs-keyword">for</span> sublist <span class="hljs-keyword">in</span> nested <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> sublist]  <span class="hljs-comment"># [1, 2, 3, 4]</span>
</code></pre>
<h3 data-id="heading-17">3.3 å…ƒç»„ (Tuple)</h3>
<p>å…ƒç»„æ˜¯ Python ç‰¹æœ‰çš„<strong>ä¸å¯å˜</strong>åºåˆ—ï¼ˆåªè¯»ï¼‰ã€‚ä¸€æ—¦åˆ›å»ºï¼Œå…ƒç´ ä¸èƒ½ä¿®æ”¹ã€‚</p>
<ul>
<li><strong>åˆ›å»ºï¼š</strong> <code>point = (10, 20)</code></li>
<li><strong>è§£åŒ…ï¼š</strong> å…ƒç»„æ”¯æŒè§£åŒ…ï¼Œå¸¸ç”¨äºå‡½æ•°è¿”å›å¤šä¸ªå€¼å’Œå˜é‡äº¤æ¢ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># åˆ›å»ºå…ƒç»„</span>
rgb = (<span class="hljs-number">255</span>, <span class="hljs-number">128</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># è§£åŒ…</span>
r, g, b = rgb
<span class="hljs-built_in">print</span>(g)  <span class="hljs-comment"># 128</span>

<span class="hljs-comment"># ä¼˜é›…åœ°äº¤æ¢å˜é‡</span>
a, b = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>
a, b = b, a
<span class="hljs-comment"># a ç°åœ¨æ˜¯ 2, b ç°åœ¨æ˜¯ 1</span>
</code></pre>
<h2 data-id="heading-18">å››ã€å­—å…¸ï¼ˆDictï¼‰</h2>
<p>å­—å…¸æ˜¯ Python çš„é”®å€¼å¯¹é›†åˆï¼Œç±»ä¼¼å…¶ä»–è¯­è¨€ä¸­çš„å¯¹è±¡æˆ– Mapã€‚</p>
<h3 data-id="heading-19">4.1 åˆ›å»ºä¸è®¿é—®</h3>
<ul>
<li><strong>åˆ›å»ºï¼š</strong> é”®å¿…é¡»æ˜¯<strong>ä¸å¯å˜</strong>ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å…ƒç»„ï¼‰ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</li>
<li><strong>è®¿é—®ï¼š</strong> åªèƒ½ä½¿ç”¨æ‹¬å·è¯­æ³• <code>dict[key]</code>ã€‚</li>
<li><strong>å®‰å…¨è®¿é—®ï¼š</strong> æ¨èä½¿ç”¨ <code>dict.get(key, default_value)</code>ï¼Œé”®ä¸å­˜åœ¨æ—¶è¿”å› <code>None</code> æˆ–é»˜è®¤å€¼ï¼Œé¿å… <code>KeyError</code>ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python">user = {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
    <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>,
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"zhangsan@example.com"</span>
}

<span class="hljs-built_in">print</span>(user[<span class="hljs-string">"name"</span>])              <span class="hljs-comment"># "å¼ ä¸‰"</span>
<span class="hljs-built_in">print</span>(user.get(<span class="hljs-string">"age"</span>))           <span class="hljs-comment"># 25</span>
<span class="hljs-built_in">print</span>(user.get(<span class="hljs-string">"phone"</span>, <span class="hljs-string">"æœªè®¾ç½®"</span>)) <span class="hljs-comment"># "æœªè®¾ç½®" (é”®ä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼)</span>

<span class="hljs-comment"># print(user.name)  # é”™è¯¯: å­—å…¸æ²¡æœ‰ç‚¹è¯­æ³•è®¿é—®</span>
</code></pre>
<h3 data-id="heading-20">4.2 å¸¸ç”¨æ–¹æ³•</h3>













































<table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong>Python æ–¹æ³•/è¯­æ³•</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>è·å–æ‰€æœ‰é”®</td><td><code>dict.keys()</code></td><td>è¿”å›é”®çš„è§†å›¾å¯¹è±¡ã€‚</td></tr><tr><td>è·å–æ‰€æœ‰å€¼</td><td><code>dict.values()</code></td><td>è¿”å›å€¼çš„è§†å›¾å¯¹è±¡ã€‚</td></tr><tr><td>è·å–é”®å€¼å¯¹</td><td><code>dict.items()</code></td><td>è¿”å›é”®å€¼å¯¹çš„è§†å›¾å¯¹è±¡ï¼ˆåŒ…å«å…ƒç»„ï¼‰ã€‚</td></tr><tr><td>æ£€æŸ¥é”®å­˜åœ¨</td><td><code>key in dict</code></td><td/></tr><tr><td>åˆ é™¤é”®å€¼å¯¹</td><td><code>del dict[key]</code> æˆ– <code>dict.pop(key)</code></td><td><code>pop</code> ä¼šè¿”å›è¢«åˆ é™¤çš„å€¼ã€‚</td></tr><tr><td>åˆå¹¶å­—å…¸</td><td><code>dict1.update(dict2)</code> æˆ– <code>{**dict1, **dict2}</code></td><td><code>update</code> ä¼šä¿®æ”¹åŸå­—å…¸ã€‚</td></tr><tr><td>æ¸…ç©º</td><td><code>dict.clear()</code></td><td/></tr></tbody></table>
<h3 data-id="heading-21">4.3 å­—å…¸éå†</h3>
<p>éå†å­—å…¸æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>dict.items()</code> æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-Python" lang="Python">user = {<span class="hljs-string">"name"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>, <span class="hljs-string">"city"</span>: <span class="hljs-string">"åŒ—äº¬"</span>}

<span class="hljs-comment"># éå†é”®å€¼å¯¹ (æœ€å¸¸ç”¨)</span>
<span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> user.items():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{key}</span>: <span class="hljs-subst">{value}</span>"</span>)

<span class="hljs-comment"># éå†é”®</span>
<span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> user.keys():
    <span class="hljs-built_in">print</span>(key)

<span class="hljs-comment"># éå†å€¼</span>
<span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> user.values():
    <span class="hljs-built_in">print</span>(value)
</code></pre>
<h3 data-id="heading-22">4.4 å­—å…¸æ¨å¯¼å¼ (Dict Comprehension)</h3>
<p>ä¸åˆ—è¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆå­—å…¸ã€‚</p>
<ul>
<li><strong>å½¢å¼ï¼š</strong> <code>{key_expression: value_expression for item in iterable}</code></li>
</ul>
<pre><code class="hljs language-Python" lang="Python">numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
<span class="hljs-comment"># {1: 1, 2: 4, 3: 9, 4: 16}</span>
squared_dict = {x: x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> numbers}

<span class="hljs-comment"># å¸¦æ¡ä»¶è¿‡æ»¤</span>
even_squared = {x: x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> numbers <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>} <span class="hljs-comment"># {2: 4, 4: 16}</span>
</code></pre>
<h2 data-id="heading-23">äº”ã€Python ç‹¬æœ‰çš„å¼ºå¤§ç‰¹æ€§</h2>
<h3 data-id="heading-24">5.1 é›†åˆ (Set)</h3>
<p>é›†åˆæ˜¯æ— åºä¸”å…ƒç´ å”¯ä¸€çš„é›†åˆã€‚å¸¸ç”¨äºå»é‡å’Œé›†åˆè¿ç®—ã€‚</p>
<ul>
<li>
<p><strong>åˆ›å»ºï¼š</strong> <code>set1 = {1, 2, 3}</code>ã€‚</p>
</li>
<li>
<p><strong>å»é‡ï¼š</strong> <code>unique = list(set(numbers))</code>ã€‚</p>
</li>
<li>
<p><strong>é›†åˆè¿ç®—ï¼š</strong></p>
<ul>
<li><strong>å¹¶é›†ï¼š</strong> <code>set1 | set2</code> æˆ– <code>set1.union(set2)</code></li>
<li><strong>äº¤é›†ï¼š</strong> <code>set1 &amp; set2</code> æˆ– <code>set1.intersection(set2)</code></li>
<li><strong>å·®é›†ï¼š</strong> <code>set1 - set2</code></li>
</ul>
</li>
</ul>
<h3 data-id="heading-25">5.2 å¤šé‡èµ‹å€¼ä¸è§£åŒ…</h3>
<p>Python å…è®¸åœ¨ä¸€ä¸ªè¯­å¥ä¸­ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ï¼Œå¹¶æ”¯æŒåºåˆ—è§£åŒ…ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># å¤šé‡èµ‹å€¼</span>
a, b, c = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>

<span class="hljs-comment"># åºåˆ—è§£åŒ… (ä½¿ç”¨ * æ”¶é›†å‰©ä½™å…ƒç´ )</span>
first, *rest, last = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-built_in">print</span>(rest)  <span class="hljs-comment"># [2, 3, 4]</span>

<span class="hljs-comment"># å­—å…¸è§£åŒ… (ç”¨äºå‡½æ•°å‚æ•°)</span>
user = {<span class="hljs-string">"name"</span>: <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"age"</span>: <span class="hljs-number">30</span>}
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name, age</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span> is <span class="hljs-subst">{age}</span> years old"</span>
<span class="hljs-built_in">print</span>(greet(**user))
</code></pre>
<h3 data-id="heading-26">5.3 ç”Ÿæˆå™¨ (Generator)</h3>
<p>ç”Ÿæˆå™¨æ˜¯æƒ°æ€§æ±‚å€¼çš„è¿­ä»£å™¨ï¼ŒæŒ‰éœ€ç”Ÿæˆæ•°æ®ï¼Œé€‚åˆå¤„ç†å¤§æ•°æ®ä»¥èŠ‚çœå†…å­˜ã€‚</p>
<ul>
<li><strong>ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼š</strong> ä½¿ç”¨åœ†æ‹¬å· <code>()</code> è€Œéæ–¹æ‹¬å· <code>[]</code>ï¼Œå¦‚ <code>squares_gen = (x**2 for x in range(1000000))</code>ã€‚</li>
<li><strong>ç”Ÿæˆå™¨å‡½æ•°ï¼š</strong> åœ¨å‡½æ•°ä¸­ä½¿ç”¨ <code>yield</code> å…³é”®å­—ã€‚</li>
</ul>
<h3 data-id="heading-27">5.4 ä¸Šä¸‹æ–‡ç®¡ç†å™¨ (<code>with</code> è¯­å¥)</h3>
<p><code>with</code> è¯­å¥ç”¨äºè‡ªåŠ¨ç®¡ç†èµ„æºï¼Œç¡®ä¿åœ¨ä»£ç å—ç»“æŸæ—¶ï¼ˆæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼‰èµ„æºèƒ½å¤Ÿè¢«æ­£ç¡®æ¸…ç†ï¼Œå¸¸ç”¨äºæ–‡ä»¶æ“ä½œã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># æ–‡ä»¶ä¼šè‡ªåŠ¨å…³é—­</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"data.txt"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> file:
    content = file.read()
    <span class="hljs-comment"># ...</span>
</code></pre>
<h2 data-id="heading-28">å…­ã€é¢å‘å¯¹è±¡ç¼–ç¨‹</h2>
<p>Python çš„é¢å‘å¯¹è±¡æ˜¯åŸºäºç±»çš„ã€‚</p>
<ul>
<li><strong>ç±»å®šä¹‰ï¼š</strong> ä½¿ç”¨ <code>class</code> å…³é”®å­—ã€‚</li>
<li><strong>æ„é€ å‡½æ•°ï¼š</strong> ä½¿ç”¨ç‰¹æ®Šæ–¹æ³• <code>__init__(self, ...)</code>ã€‚</li>
<li><strong>å®ä¾‹æ–¹æ³•ï¼š</strong> æ‰€æœ‰å®ä¾‹æ–¹æ³•ï¼ˆéé™æ€æ–¹æ³•ï¼‰çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ <code>self</code>ï¼Œä»£è¡¨å®ä¾‹æœ¬èº«ã€‚</li>
<li><strong>ç»§æ‰¿ï¼š</strong> <code>class Dog(Animal):</code></li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):
        self.name = name
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{self.name}</span> makes a sound"</span>)
</code></pre>
<h2 data-id="heading-29">ä¸ƒã€Python æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-30">7.1 Python ç¼–ç¨‹é£æ ¼ (PEP 8)</h3>
<p>éµå¾ª Python å®˜æ–¹ä»£ç é£æ ¼æŒ‡å— PEP 8ï¼Œä½¿ä»£ç æ›´å…·å¯è¯»æ€§ã€‚</p>
<ul>
<li><strong>å‘½åï¼š</strong> å˜é‡ã€å‡½æ•°å’Œæ–¹æ³•ä½¿ç”¨ <code>snake_case</code>ï¼ˆå¦‚ <code>calculate_average</code>ï¼‰ã€‚</li>
<li><strong>å¸¸é‡ï¼š</strong> ä½¿ç”¨å…¨å¤§å†™ï¼ˆå¦‚ <code>MAX_VALUE</code>ï¼‰ã€‚</li>
<li><strong>ä»£ç å—ï¼š</strong> å¼ºåˆ¶ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ç¼©è¿›ã€‚</li>
</ul>
<h3 data-id="heading-31">7.2 å¸¸è§é™·é˜±</h3>
<ul>
<li><strong>å¯å˜é»˜è®¤å‚æ•°ï¼š</strong> æ°¸è¿œä¸è¦ä½¿ç”¨å¯å˜å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ <code>[]</code> æˆ–å­—å…¸ <code>{}</code>ï¼‰ä½œä¸ºå‡½æ•°çš„é»˜è®¤å‚æ•°ï¼Œå› ä¸ºå®ƒä»¬åªä¼šè¢«åˆ›å»ºä¸€æ¬¡å¹¶åœ¨å‡½æ•°è°ƒç”¨é—´å…±äº«ã€‚</li>
</ul>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># æ­£ç¡®åšæ³•</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add_item</span>(<span class="hljs-params">item, items=<span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">if</span> items <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        items = []
    items.append(item)
    <span class="hljs-keyword">return</span> items
</code></pre>
<ul>
<li><strong>ä½œç”¨åŸŸï¼š</strong> Python <strong>æ²¡æœ‰å—çº§ä½œç”¨åŸŸ</strong>ï¼ˆå¦‚ <code>if</code> å—ï¼‰ï¼Œä½†æœ‰<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚</li>
</ul>
<h3 data-id="heading-32">7.3 çœŸå€¼åˆ¤æ–­</h3>
<p>Python çš„çœŸå€¼åˆ¤æ–­è§„åˆ™ç›¸å¯¹ç›´è§‚ï¼šé™¤äº†ä»¥ä¸‹å€¼è¢«è®¤ä¸ºæ˜¯ <code>False</code> å¤–ï¼Œå…¶ä»–æ‰€æœ‰å€¼éƒ½è¢«è§†ä¸º <code>True</code>ã€‚</p>
<ul>
<li><code>False</code></li>
<li><code>None</code></li>
<li>æ•°å­— <code>0</code>ï¼ˆåŒ…æ‹¬æ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰</li>
<li>ç©ºåºåˆ—ï¼š<code>""</code>ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œ<code>[]</code>ï¼ˆç©ºåˆ—è¡¨ï¼‰ï¼Œ<code>()</code>ï¼ˆç©ºå…ƒç»„ï¼‰</li>
<li>ç©ºæ˜ å°„ï¼š<code>{}</code>ï¼ˆç©ºå­—å…¸ï¼‰</li>
<li>ç©ºé›†åˆï¼š<code>set()</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>