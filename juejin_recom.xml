<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[std::functional ä½¿ç”¨åœºæ™¯]]></title>    <link>https://juejin.cn/post/7605859660612141090</link>    <guid>https://juejin.cn/post/7605859660612141090</guid>    <pubDate>2026-02-13T06:27:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605859660612141090" data-draft-id="7605859660612124706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="std::functional ä½¿ç”¨åœºæ™¯"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2026-02-13T06:27:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sTone87375"/> <meta itemprop="url" content="https://juejin.cn/user/2946346894764584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            std::functional ä½¿ç”¨åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346894764584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sTone87375
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:27:01.000Z" title="Fri Feb 13 2026 06:27:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>std::functional</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç§**ç±»å‹æ“¦é™¤ï¼ˆtype erasureï¼‰**æœºåˆ¶ï¼Œè®©ä½ èƒ½å¤Ÿå­˜å‚¨ã€ä¼ é€’å’Œè°ƒç”¨ä»»ä½•å¯è°ƒç”¨å¯¹è±¡ï¼ˆcallableï¼‰ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒä½œç”¨</h2>
<h3 data-id="heading-1">1. <strong>ç»Ÿä¸€çš„å¯è°ƒç”¨å¯¹è±¡åŒ…è£…å™¨</strong></h3>
<p><code>std::function</code> å¯ä»¥åŒ…è£…ä»»ä½•å¯è°ƒç”¨å®ä½“ï¼Œåªè¦ç­¾ååŒ¹é…ï¼š</p>
<ul>
<li>æ™®é€šå‡½æ•°</li>
<li>Lambda è¡¨è¾¾å¼</li>
<li>å‡½æ•°å¯¹è±¡ï¼ˆä»¿å‡½æ•°ï¼‰</li>
<li>æˆå‘˜å‡½æ•°ï¼ˆé€šè¿‡ <code>std::bind</code> æˆ– lambdaï¼‰</li>
<li>ç”šè‡³å…¶ä»– <code>std::function</code></li>
</ul>
<h3 data-id="heading-2">2. <strong>ç±»å‹æ“¦é™¤</strong></h3>
<p>éšè—å…·ä½“ç±»å‹ï¼Œåªæš´éœ²æ¥å£ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥ï¼š</p>
<ul>
<li>åœ¨å®¹å™¨ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å¯è°ƒç”¨å¯¹è±¡</li>
<li>ä½œä¸ºå‡½æ•°å‚æ•°æ¥å—ä»»æ„å¯è°ƒç”¨å¯¹è±¡</li>
<li>å®ç°å›è°ƒæœºåˆ¶è€Œä¸éœ€è¦æ¨¡æ¿</li>
</ul>
<hr/>
<h2 data-id="heading-3">ä¸»è¦ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-4">åœºæ™¯ 1ï¼šå›è°ƒå‡½æ•°ï¼ˆCallbacksï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> {
    std::function&lt;<span class="hljs-type">void</span>()&gt; onClick_;
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setOnClick</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">void</span>()&gt; callback)</span> </span>{
        onClick_ = callback;
    }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">click</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">if</span> (onClick_) <span class="hljs-built_in">onClick_</span>(); }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
Button btn;
btn.<span class="hljs-built_in">setOnClick</span>([]() { std::cout &lt;&lt; <span class="hljs-string">"Clicked!\n"</span>; });
btn.<span class="hljs-built_in">click</span>();
</code></pre>
<h3 data-id="heading-5">åœºæ™¯ 2ï¼šç­–ç•¥æ¨¡å¼ / ç®—æ³•æ³¨å…¥</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">processData</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; data, 
                 std::function&lt;<span class="hljs-type">bool</span>(<span class="hljs-type">int</span>)&gt; filter,
                 std::function&lt;<span class="hljs-type">int</span>(<span class="hljs-type">int</span>)&gt; transform)</span> </span>{
    <span class="hljs-comment">// å…ˆè¿‡æ»¤</span>
    data.<span class="hljs-built_in">erase</span>(std::<span class="hljs-built_in">remove_if</span>(data.<span class="hljs-built_in">begin</span>(), data.<span class="hljs-built_in">end</span>(), 
              [&amp;](<span class="hljs-type">int</span> x) { <span class="hljs-keyword">return</span> !<span class="hljs-built_in">filter</span>(x); }), data.<span class="hljs-built_in">end</span>());
    <span class="hljs-comment">// å†è½¬æ¢</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x : data) x = <span class="hljs-built_in">transform</span>(x);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
std::vector&lt;<span class="hljs-type">int</span>&gt; nums = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>};
<span class="hljs-built_in">processData</span>(nums,
    [](<span class="hljs-type">int</span> x) { <span class="hljs-keyword">return</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>; },  <span class="hljs-comment">// åªä¿ç•™å¶æ•°</span>
    [](<span class="hljs-type">int</span> x) { <span class="hljs-keyword">return</span> x * x; }         <span class="hljs-comment">// å¹³æ–¹</span>
);
</code></pre>
<h3 data-id="heading-6">åœºæ™¯ 3ï¼šäº‹ä»¶ç³»ç»Ÿ / è§‚å¯Ÿè€…æ¨¡å¼</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EventSystem</span> {
    std::vector&lt;std::function&lt;<span class="hljs-type">void</span>(<span class="hljs-type">const</span> std::string&amp;)&gt;&gt; listeners_;
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">subscribe</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">void</span>(<span class="hljs-type">const</span> std::string&amp;)&gt; listener)</span> </span>{
        listeners_.<span class="hljs-built_in">push_back</span>(listener);
    }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">emit</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; event)</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; listener : listeners_) {
            <span class="hljs-built_in">listener</span>(event);
        }
    }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
EventSystem events;
events.<span class="hljs-built_in">subscribe</span>([](<span class="hljs-type">const</span> std::string&amp; e) { 
    std::cout &lt;&lt; <span class="hljs-string">"Logger: "</span> &lt;&lt; e &lt;&lt; <span class="hljs-string">"\n"</span>; 
});
events.<span class="hljs-built_in">subscribe</span>([](<span class="hljs-type">const</span> std::string&amp; e) { 
    std::cout &lt;&lt; <span class="hljs-string">"Metrics: recorded "</span> &lt;&lt; e &lt;&lt; <span class="hljs-string">"\n"</span>; 
});
</code></pre>
<h3 data-id="heading-7">åœºæ™¯ 4ï¼šå»¶è¿Ÿæ‰§è¡Œ / ä»»åŠ¡é˜Ÿåˆ—</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskQueue</span> {
    std::queue&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt; tasks_;
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addTask</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">void</span>()&gt; task)</span> </span>{
        tasks_.<span class="hljs-built_in">push</span>(task);
    }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">runAll</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">while</span> (!tasks_.<span class="hljs-built_in">empty</span>()) {
            tasks_.<span class="hljs-built_in">front</span>()();
            tasks_.<span class="hljs-built_in">pop</span>();
        }
    }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
TaskQueue queue;
queue.<span class="hljs-built_in">addTask</span>([]() { std::cout &lt;&lt; <span class="hljs-string">"Task 1\n"</span>; });
queue.<span class="hljs-built_in">addTask</span>([]() { std::cout &lt;&lt; <span class="hljs-string">"Task 2\n"</span>; });
queue.<span class="hljs-built_in">runAll</span>();
</code></pre>
<h3 data-id="heading-8">åœºæ™¯ 5ï¼šç»‘å®šæˆå‘˜å‡½æ•°</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{ <span class="hljs-keyword">return</span> a + b; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{ <span class="hljs-keyword">return</span> a * b; }
};

<span class="hljs-comment">// ä½¿ç”¨ std::bind</span>
Calculator calc;
<span class="hljs-keyword">auto</span> addFunc = std::<span class="hljs-built_in">bind</span>(&amp;Calculator::add, &amp;calc, 
                         std::placeholders::_1, std::placeholders::_2);
std::cout &lt;&lt; <span class="hljs-built_in">addFunc</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// 7</span>

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ lambdaï¼ˆæ›´æ¨èï¼Œæ€§èƒ½æ›´å¥½ï¼‰</span>
<span class="hljs-keyword">auto</span> multiplyFunc = [&amp;calc](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) { 
    <span class="hljs-keyword">return</span> calc.<span class="hljs-built_in">multiply</span>(a, b); 
};
</code></pre>
<hr/>
<h2 data-id="heading-9"><code>std::function</code> vs æ¨¡æ¿ vs è£¸å‡½æ•°æŒ‡é’ˆ</h2>









































<table><thead><tr><th>ç‰¹æ€§</th><th><code>std::function</code></th><th>æ¨¡æ¿</th><th>è£¸å‡½æ•°æŒ‡é’ˆ</th></tr></thead><tbody><tr><td>ç±»å‹æ“¦é™¤</td><td>âœ… æ˜¯</td><td>âŒ å¦</td><td>âœ… æ˜¯ï¼ˆä½†åªèƒ½æŒ‡å‘å‡½æ•°ï¼‰</td></tr><tr><td>å­˜å‚¨ Lambda</td><td>âœ… å¯ä»¥</td><td>âœ… å¯ä»¥</td><td>âŒ ä¸è¡Œï¼ˆé™¤éæ— æ•è·ï¼‰</td></tr><tr><td>è¿è¡Œæ—¶å¼€é”€</td><td>æœ‰ï¼ˆè™šå‡½æ•°è°ƒç”¨ï¼‰</td><td>æ— </td><td>æ— </td></tr><tr><td>ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥</td><td>å¼±ï¼ˆè¿è¡Œæ—¶å¯èƒ½æŠ› <code>bad_function_call</code>ï¼‰</td><td>å¼º</td><td>å¼º</td></tr><tr><td>å­˜å‚¨åœ¨å®¹å™¨ä¸­</td><td>âœ… å®¹æ˜“</td><td>âŒ éš¾ï¼ˆéœ€è¦ç±»å‹æ“¦é™¤ï¼‰</td><td>âœ… å¯ä»¥</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">æœ€ä½³å®è·µ</h2>
<ol>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨æ¨¡æ¿</strong>ï¼šå¦‚æœä¸éœ€è¦å­˜å‚¨å¯è°ƒç”¨å¯¹è±¡ï¼Œç”¨æ¨¡æ¿å‚æ•°æ›´é«˜æ•ˆ</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ›´å¥½ï¼šé›¶å¼€é”€</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Func&gt;
<span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(Func&amp;&amp; f)</span> </span>{ <span class="hljs-built_in">f</span>(); }

<span class="hljs-comment">// æœ‰å¼€é”€ï¼šç±»å‹æ“¦é™¤</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">void</span>()&gt; f)</span> </span>{ <span class="hljs-built_in">f</span>(); }
</code></pre>
</li>
<li>
<p><strong>æ£€æŸ¥ç©ºçŠ¶æ€</strong>ï¼šè°ƒç”¨å‰ç¡®ä¿ <code>std::function</code> ä¸ä¸ºç©º</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">if</span> (func) <span class="hljs-built_in">func</span>();  <span class="hljs-comment">// æˆ– if (func != nullptr)</span>
</code></pre>
</li>
<li>
<p><strong>æ³¨æ„å¼€é”€</strong>ï¼š<code>std::function</code> é€šå¸¸ä½¿ç”¨å°å¯¹è±¡ä¼˜åŒ–ï¼ˆSOOï¼‰ï¼Œä½†å¤§å¯¹è±¡ä¼šå †åˆ†é…</p>
</li>
<li>
<p><strong>C++23 æ›¿ä»£</strong>ï¼šè€ƒè™‘ä½¿ç”¨ <code>std::move_only_function</code>ï¼ˆä»…ç§»åŠ¨ï¼‰æˆ– <code>std::copyable_function</code></p>
</li>
</ol>
<p><code>std::functional</code> çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>çµæ´»æ€§</strong>â€”â€”å½“ä½ éœ€è¦åœ¨è¿è¡Œæ—¶å†³å®šè°ƒç”¨ä»€ä¹ˆã€æˆ–è€…éœ€è¦åœ¨å®¹å™¨ä¸­å­˜å‚¨å¯è°ƒç”¨å¯¹è±¡æ—¶ï¼Œå®ƒæ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çƒ­æ¦œéƒ½åœ¨å¹ MCP Skills ä¸‡èƒ½ï¼Œæˆ‘æ­äº†ä¸ª AI Agent æ‰å‘ç°æœ€å¤§çš„å‘ä¸æ˜¯ Skill]]></title>    <link>https://juejin.cn/post/7605807405308051519</link>    <guid>https://juejin.cn/post/7605807405308051519</guid>    <pubDate>2026-02-13T07:29:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605807405308051519" data-draft-id="7605882792144961599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çƒ­æ¦œéƒ½åœ¨å¹ MCP Skills ä¸‡èƒ½ï¼Œæˆ‘æ­äº†ä¸ª AI Agent æ‰å‘ç°æœ€å¤§çš„å‘ä¸æ˜¯ Skill"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,MCP"/> <meta itemprop="datePublished" content="2026-02-13T07:29:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ofox"/> <meta itemprop="url" content="https://juejin.cn/user/186265609189227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çƒ­æ¦œéƒ½åœ¨å¹ MCP Skills ä¸‡èƒ½ï¼Œæˆ‘æ­äº†ä¸ª AI Agent æ‰å‘ç°æœ€å¤§çš„å‘ä¸æ˜¯ Skill
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/186265609189227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ofox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:29:20.000Z" title="Fri Feb 13 2026 07:29:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    23
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æ‰“å¼€æ˜é‡‘ï¼Œæ»¡å±éƒ½æ˜¯ MCP Skills ğŸ”¥</p>
<p>ä»€ä¹ˆ"10ä¸‡äººéƒ½åœ¨ç”¨çš„ top10 skills"ï¼Œä»€ä¹ˆ"ä¸€å¥è¯ç”Ÿæˆæ•´å¥— API"â€¦â€¦è¯´å®è¯ï¼Œçœ‹å¾—æˆ‘æ‰‹ç—’ã€‚</p>
<p>æˆ‘æ˜¯ä¸ªç‹¬ç«‹å¼€å‘è€…ï¼Œä¸€ç›´æƒ³ç»™è‡ªå·±æ­ä¸€ä¸ª AI Agentâ€”â€”ä¸æ˜¯é‚£ç§å¯¹è¯æœºå™¨äººï¼Œæ˜¯çœŸæ­£èƒ½å¸®æˆ‘<strong>å¹²æ´»</strong>çš„ Agentï¼šèƒ½è¯»æ–‡æ¡£ã€èƒ½æœç½‘é¡µã€èƒ½è°ƒä¸åŒçš„å¤§æ¨¡å‹åšä¸åŒçš„äº‹ã€‚</p>
<p>ä¸Šå‘¨æœ«ç»ˆäºåŠ¨æ‰‹äº†ã€‚è¸©çš„å‘æ¯”æƒ³è±¡ä¸­å¤šå¾—å¤šï¼Œè€Œä¸”<strong>æœ€å¤§çš„å‘æ ¹æœ¬ä¸åœ¨ MCP è¿™å±‚</strong>ã€‚</p>
<h2 data-id="heading-0">å…ˆè¯´éœ€æ±‚ï¼šæˆ‘æƒ³è¦ä»€ä¹ˆæ ·çš„ Agent</h2>
<p>æˆ‘çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼š</p>
<ol>
<li>ç”¨ MCP æŠŠå·¥å…·ä¸²èµ·æ¥ï¼ˆè¯»é£ä¹¦æ–‡æ¡£ã€æœç´¢ç½‘é¡µã€æ“ä½œæ•°æ®åº“ï¼‰</li>
<li>ä¸åŒä»»åŠ¡ç”¨ä¸åŒæ¨¡å‹ï¼ˆä»£ç ç”Ÿæˆç”¨ Claudeï¼Œæ‘˜è¦ç”¨ GPT-4o-mini çœé’±ï¼Œä¸­æ–‡ç†è§£ç”¨ DeepSeekï¼‰</li>
<li>æ•´ä¸ª Agent è¦èƒ½è‡ªä¸»å†³ç­–è°ƒå“ªä¸ªæ¨¡å‹</li>
</ol>
<p>çœ‹èµ·æ¥å¾ˆç®€å•å¯¹å§ï¼ŸMCP + Skills + å‡ ä¸ª API å°±å®Œäº‹äº†ã€‚</p>
<p>å“ˆå“ˆå“ˆå“ˆï¼Œå¤ªå¤©çœŸäº† ğŸ˜…</p>
<h2 data-id="heading-1">ç¬¬ä¸€ä¸ªå‘ï¼šMCP Skill å†™èµ·æ¥æ²¡é‚£ä¹ˆä¸æ»‘</h2>
<p>çƒ­æ¦œæ–‡ç« æŠŠ MCP Skill å¹å¾—è·Ÿå†™ README ä¸€æ ·ç®€å•ã€‚å®é™…ä¸Šâ€¦â€¦</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æˆ‘ä»¥ä¸ºçš„ Skill</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">doc-reader</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">è¯»å–æ–‡æ¡£å¹¶æ€»ç»“</span>

<span class="hljs-comment"># å®é™…çš„ Skillï¼ˆçœç•¥äº†ä¸€å †é…ç½®ï¼‰</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">doc-reader</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">|
  è¯»å–æŒ‡å®š URL çš„æ–‡æ¡£å†…å®¹ï¼Œæ”¯æŒ HTML/PDF/Markdownã€‚
  è¾“å‡ºç»“æ„åŒ–æ‘˜è¦ï¼ŒåŒ…å«ï¼šæ ‡é¢˜ã€æ ¸å¿ƒå†…å®¹ã€å…³é”®æ•°æ®ã€‚
  å¦‚æœæ–‡æ¡£è¶…è¿‡ 8000 tokenï¼Œå…ˆåˆ†å—å†åˆå¹¶æ‘˜è¦ã€‚
</span><span class="hljs-attr">tools:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">web_fetch</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">file_read</span>
<span class="hljs-attr">input_schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">properties:</span>
    <span class="hljs-attr">url:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">æ–‡æ¡£</span> <span class="hljs-string">URL</span>
    <span class="hljs-attr">format:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">enum:</span> [<span class="hljs-string">summary</span>, <span class="hljs-string">full</span>, <span class="hljs-string">key_points</span>]
</code></pre>
<p>Skill æœ¬èº«ä¸éš¾å†™ï¼Œä½†<strong>è°ƒè¯•</strong>æ˜¯çœŸçš„çƒ¦ã€‚MCP çš„é”™è¯¯ä¿¡æ¯å¾ˆä¸å‹å¥½ï¼Œç»å¸¸å°±ä¸€ä¸ª <code>tool_call_failed</code>ï¼Œè¿å“ªé‡ŒæŒ‚äº†éƒ½ä¸å‘Šè¯‰ä½ ã€‚</p>
<p>æˆ‘çš„å»ºè®®ï¼š<strong>å…ˆåœ¨æœ¬åœ°æŠŠæ¯ä¸ª tool å•ç‹¬è·‘é€šï¼Œå†ç»„è£…æˆ Skill</strong>ã€‚åˆ«ä¸Šæ¥å°±å†™ä¸€ä¸ªå¤§çš„ã€‚</p>
<h2 data-id="heading-2">ç¬¬äºŒä¸ªå‘ï¼ˆä¹Ÿæ˜¯æœ€å¤§çš„å‘ï¼‰ï¼šå¤šæ¨¡å‹è°ƒç”¨çš„åœ°ç‹±</h2>
<p>Agent è·‘èµ·æ¥äº†ï¼ŒSkill ä¹Ÿä¸²å¥½äº†ã€‚ç„¶åæˆ‘å‘ç°äº†çœŸæ­£çš„é—®é¢˜â€”â€”</p>
<p><strong>æˆ‘éœ€è¦åŒæ—¶è°ƒ 3 ä¸ªä¸åŒå‚å•†çš„å¤§æ¨¡å‹ APIã€‚</strong></p>
<ul>
<li>Claude Opus 4.6ï¼šå†™ä»£ç ã€å¤æ‚æ¨ç† â†’ Anthropic API</li>
<li>GPT-4o-miniï¼šè½»é‡æ‘˜è¦ã€åˆ†ç±» â†’ OpenAI API</li>
<li>DeepSeek V3ï¼šä¸­æ–‡è¯­ä¹‰ç†è§£ â†’ DeepSeek API</li>
</ul>
<p>ä¸‰ä¸ªå‚å•†ï¼Œä¸‰å¥— SDKï¼Œä¸‰ç§è®¤è¯æ–¹å¼ï¼Œä¸‰ä¸ªä¸åŒçš„ rate limit ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æˆ‘æœ€åˆçš„ä»£ç ï¼Œçœ‹ç€å°±å¤´ç–¼</span>
<span class="hljs-keyword">import</span> anthropic
<span class="hljs-keyword">import</span> openai
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI <span class="hljs-keyword">as</span> DeepSeekClient

<span class="hljs-comment"># Claude</span>
claude = anthropic.Anthropic(api_key=os.getenv(<span class="hljs-string">"ANTHROPIC_API_KEY"</span>))

<span class="hljs-comment"># GPT</span>
gpt = openai.OpenAI(api_key=os.getenv(<span class="hljs-string">"OPENAI_API_KEY"</span>))

<span class="hljs-comment"># DeepSeekï¼ˆç”¨ OpenAI å…¼å®¹æ ¼å¼ï¼‰</span>
ds = DeepSeekClient(
    api_key=os.getenv(<span class="hljs-string">"DEEPSEEK_API_KEY"</span>),
    base_url=<span class="hljs-string">"https://api.deepseek.com/v1"</span>
)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">ask_model</span>(<span class="hljs-params">task_type, prompt</span>):
    <span class="hljs-keyword">if</span> task_type == <span class="hljs-string">"code"</span>:
        <span class="hljs-comment"># Claude çš„æ¶ˆæ¯æ ¼å¼å’Œ OpenAI ä¸ä¸€æ ·...</span>
        resp = claude.messages.create(
            model=<span class="hljs-string">"claude-opus-4-6-20250929"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
            max_tokens=<span class="hljs-number">4096</span>
        )
        <span class="hljs-keyword">return</span> resp.content[<span class="hljs-number">0</span>].text
    <span class="hljs-keyword">elif</span> task_type == <span class="hljs-string">"summary"</span>:
        resp = gpt.chat.completions.create(
            model=<span class="hljs-string">"gpt-4o-mini"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}]
        )
        <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content
    <span class="hljs-keyword">elif</span> task_type == <span class="hljs-string">"chinese"</span>:
        resp = ds.chat.completions.create(
            model=<span class="hljs-string">"deepseek-chat"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}]
        )
        <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content
</code></pre>
<p>è¿™ä»£ç èƒ½è·‘ï¼Œä½†é—®é¢˜ä¸€å †ï¼š</p>
<ol>
<li><strong>ä¸‰å¥—é”™è¯¯å¤„ç†</strong>ï¼šClaude è¿”å› <code>overloaded_error</code>ï¼ŒOpenAI è¿”å› <code>RateLimitError</code>ï¼ŒDeepSeek æœ‰æ—¶å€™ç›´æ¥è¶…æ—¶ã€‚æ¯ä¸ªéƒ½å¾—å•ç‹¬ catch</li>
<li><strong>Key ç®¡ç†å™©æ¢¦</strong>ï¼š3 ä¸ª API keyï¼Œ3 ä¸ªè´¦å•é¡µé¢ï¼Œ3 ä¸ªç”¨é‡ç›‘æ§</li>
<li><strong>å›½å†…è®¿é—®</strong>ï¼šClaude å’Œ OpenAI åœ¨å›½å†…éƒ½ä¸å¤ªç¨³å®šï¼Œç»å¸¸è¶…æ—¶ã€‚DeepSeek å€’æ˜¯å¿«ï¼Œä½†ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½é€‚åˆ</li>
</ol>
<p>æˆ‘ä¸ºäº†æå®šç½‘ç»œé—®é¢˜ï¼Œå…ˆåè¯•äº†ï¼š</p>
<ul>
<li>è‡ªå»ºä»£ç† â†’ å»¶è¿Ÿä¸ç¨³å®šï¼Œç»´æŠ¤éº»çƒ¦</li>
<li>ç”¨ Cloudflare Workers ä¸­è½¬ â†’ æœ‰ CPU æ—¶é—´é™åˆ¶ï¼ŒSSE æµå¼è¾“å‡ºç»å¸¸æ–­</li>
<li>ç›´æ¥ä¹°äº†ä¸ªé¦™æ¸¯ VPS â†’ åˆå¤šäº†ä¸€ä¸ªè¦ç»´æŠ¤çš„ä¸œè¥¿ ğŸ’€</li>
</ul>
<p>æŠ˜è…¾äº†ä¸¤å¤©ï¼ŒAgent çš„æ ¸å¿ƒé€»è¾‘ 1 å°æ—¶å°±å†™å®Œäº†ï¼Œ<strong>80% çš„æ—¶é—´éƒ½åœ¨è·Ÿ API æ¥å…¥è¾ƒåŠ²</strong>ã€‚</p>
<h2 data-id="heading-3">è½¬æŠ˜ï¼šä¸€ä¸ª base_url è§£å†³çš„é—®é¢˜</h2>
<p>åæ¥åœ¨ V2EX çœ‹åˆ°æœ‰äººæäº†ä¸€å˜´ API èšåˆå¹³å°çš„æ€è·¯ï¼Œå¤§æ„æ˜¯<strong>ä¸€ä¸ª endpoint æå®šæ‰€æœ‰æ¨¡å‹</strong>ã€‚</p>
<p>ç ”ç©¶äº†ä¸€åœˆï¼Œå‘ç°ç°åœ¨åšè¿™ä¸ªçš„è¿˜ä¸å°‘ã€‚æˆ‘æœ€åé€‰äº†ä¸€ä¸ªå« ofox.ai çš„ï¼ŒåŸå› å¾ˆç®€å•ï¼š</p>
<ol>
<li><strong>OpenAI æ ¼å¼å…¼å®¹</strong> â€” åªè¦æ”¹ä¸€ä¸ª <code>base_url</code>ï¼Œä»£ç å‡ ä¹ä¸ç”¨åŠ¨</li>
<li><strong>å›½å†…ç›´è¿ï¼Œä¸ç”¨ç¿»å¢™</strong> â€” é˜¿é‡Œäº‘/ç«å±±äº‘èŠ‚ç‚¹ï¼Œå»¶è¿Ÿæ¯”æˆ‘è‡ªå»ºä»£ç†è¿˜ä½</li>
<li><strong>50+ æ¨¡å‹ä¸€ä¸ª key</strong> â€” Claudeã€GPTã€Geminiã€DeepSeek å…¨æœ‰</li>
</ol>
<p>æ”¹å®Œä¹‹åçš„ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

<span class="hljs-comment"># ä¸€ä¸ª client æå®šæ‰€æœ‰æ¨¡å‹</span>
client = OpenAI(
    api_key=os.getenv(<span class="hljs-string">"OFOX_KEY"</span>),
    base_url=<span class="hljs-string">"https://api.ofox.ai/v1"</span>
)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">ask_model</span>(<span class="hljs-params">task_type, prompt</span>):
    model_map = {
        <span class="hljs-string">"code"</span>: <span class="hljs-string">"claude-opus-4-6-20250929"</span>,
        <span class="hljs-string">"summary"</span>: <span class="hljs-string">"gpt-4o-mini"</span>,
        <span class="hljs-string">"chinese"</span>: <span class="hljs-string">"deepseek-chat"</span>,
    }

    resp = client.chat.completions.create(
        model=model_map[task_type],
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
        stream=<span class="hljs-literal">True</span>  <span class="hljs-comment"># æµå¼è¾“å‡ºä¹Ÿæ­£å¸¸</span>
    )

    result = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> resp:
        <span class="hljs-keyword">if</span> chunk.choices[<span class="hljs-number">0</span>].delta.content:
            result += chunk.choices[<span class="hljs-number">0</span>].delta.content
    <span class="hljs-keyword">return</span> result
</code></pre>
<p>ä» 30 è¡Œå˜æˆ 15 è¡Œï¼Œä¸‰å¥— SDK å˜æˆä¸€å¥—ï¼Œä¸‰ä¸ª key å˜æˆä¸€ä¸ªã€‚</p>
<p>å»¶è¿Ÿå®æµ‹å¯¹æ¯”ï¼ˆåŒ—äº¬ï¼Œå•ä½ msï¼‰ï¼š</p>





























<table><thead><tr><th>æ¨¡å‹</th><th>ç›´è¿å®˜æ–¹</th><th>è‡ªå»ºä»£ç†</th><th>èšåˆå¹³å°</th></tr></thead><tbody><tr><td>Claude Opus 4.6</td><td>è¶…æ—¶ âŒ</td><td>~3200</td><td>~1800</td></tr><tr><td>GPT-4o-mini</td><td>è¶…æ—¶ âŒ</td><td>~1100</td><td>~650</td></tr><tr><td>DeepSeek V3</td><td>~400</td><td>~400</td><td>~380</td></tr></tbody></table>
<p>å›½äº§æ¨¡å‹å·®è·ä¸å¤§ï¼Œä½†æµ·å¤–æ¨¡å‹çš„å·®è·æ˜¯çœŸçš„æ˜æ˜¾ã€‚ä¸ç”¨è‡ªå·±æŠ˜è…¾ç½‘ç»œè¿™ä¸€ç‚¹å°±å€¼äº†ã€‚</p>
<h2 data-id="heading-4">æœ€ç»ˆæ•ˆæœï¼šAgent è·‘èµ·æ¥äº†</h2>
<p>MCP Skill + å¤šæ¨¡å‹ Agent çš„æœ€ç»ˆæ¶æ„å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è¾“å…¥
  â†“
MCP Routerï¼ˆæ ¹æ®æ„å›¾é€‰æ‹© Skillï¼‰
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ doc-reader   â”‚ <span class="hljs-selector-tag">code</span>-gen     â”‚ data-query  â”‚
â”‚ (GPT-<span class="hljs-number">4</span>o-mini)â”‚ (Claude)     â”‚ (DeepSeek)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“              â†“              â†“
  ç»Ÿä¸€ API å±‚ï¼ˆä¸€ä¸ª endpointï¼Œä¸€ä¸ª keyï¼‰
</code></pre>
<p>è·‘äº†ä¸€å‘¨ï¼Œç¨³å®šæ€§è¿˜ä¸é”™ã€‚Agent èƒ½æ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ¨¡å‹ï¼Œæˆæœ¬ä¹Ÿæ§åˆ¶ä½äº†â€”â€”è½»é‡ä»»åŠ¡èµ°ä¾¿å®œæ¨¡å‹ï¼Œé‡æ´»æ‰ä¸Š Claude/GPTã€‚</p>
<h2 data-id="heading-5">æ€»ç»“ï¼šMCP ä¸æ˜¯é“¶å¼¹ï¼ŒAPI å±‚æ‰æ˜¯åŸºå»º</h2>
<p>æ˜é‡‘çƒ­æ¦œæŠŠ MCP Skills å¹ä¸Šå¤©äº†ï¼Œä½†å®é™…æ­ Agent ä½ ä¼šå‘ç°ï¼š</p>
<ol>
<li><strong>MCP Skill æœ¬èº«ä¸éš¾</strong>ï¼Œéš¾çš„æ˜¯è°ƒè¯•å’Œç»„åˆ</li>
<li><strong>å¤šæ¨¡å‹è°ƒç”¨æ‰æ˜¯çœŸæ­£çš„åŸºå»ºé—®é¢˜</strong> â€” å¦‚æœä½ çš„ Agent åªè°ƒä¸€ä¸ªæ¨¡å‹ï¼Œé‚£éšä¾¿æã€‚ä½†å‡¡è¦ç”¨ 2 ä¸ªä»¥ä¸Šï¼ŒAPI ç®¡ç†å°±å˜æˆå¤§å‘</li>
<li><strong>åˆ«è‡ªå·±é€ ç½‘ç»œè½®å­</strong> â€” è‡ªå»ºä»£ç†ã€VPS ä¸­è½¬è¿™äº›è·¯æˆ‘éƒ½èµ°è¿‡ï¼ŒROI å¤ªä½ã€‚èƒ½èŠ±é’±è§£å†³çš„é—®é¢˜å°±åˆ«èŠ±æ—¶é—´</li>
</ol>
<p>ç»™åŒæ ·åœ¨æ AI Agent å¼€å‘çš„æœ‹å‹ä¸€ä¸ªå»ºè®®ï¼š<strong>å…ˆæŠŠ API å±‚æå®šï¼Œå†å»æŠ˜è…¾ MCP å’Œ Skill</strong>ã€‚åœ°åŸºä¸ç¨³ï¼Œä¸Šå±‚å»ºç­‘ç›–å¾—å†èŠ±å“¨ä¹Ÿç™½æ­ã€‚</p>
<hr/>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ Agent æˆ–è€… MCP ç›¸å…³çš„ä¸œè¥¿ï¼Œè¯„è®ºåŒºèŠèŠä½ è¸©è¿‡ä»€ä¹ˆå‘ï¼ŸğŸ¤”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Fastlane ç»“åˆ AppUploader æ¥å®ç° CI é›†æˆè‡ªåŠ¨åŒ–ä¸Šæ¶]]></title>    <link>https://juejin.cn/post/7605817795629563954</link>    <guid>https://juejin.cn/post/7605817795629563954</guid>    <pubDate>2026-02-13T06:49:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605817795629563954" data-draft-id="7605817795629547570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Fastlane ç»“åˆ AppUploader æ¥å®ç° CI é›†æˆè‡ªåŠ¨åŒ–ä¸Šæ¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:49:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Fastlane ç»“åˆ AppUploader æ¥å®ç° CI é›†æˆè‡ªåŠ¨åŒ–ä¸Šæ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:49:21.000Z" title="Fri Feb 13 2026 06:49:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åš iOS è‡ªåŠ¨åŒ–å‘å¸ƒæ—¶ï¼Œå¾ˆå¤šå›¢é˜Ÿä¼šç”¨ <strong>Fastlane</strong> å®Œæˆæ‰“åŒ…å’Œç‰ˆæœ¬ç®¡ç†ã€‚ä½†å½“æ„å»ºç¯å¢ƒä¸åœ¨ Macï¼Œæˆ–è€…éœ€è¦è·¨å¹³å°ä¸Šä¼  IPA æ—¶ï¼Œä»…ä¾èµ– <code>deliver</code> æˆ– <code>pilot</code> å°±ä¼šé‡åˆ°ç¯å¢ƒé™åˆ¶ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« è®²è§£ä¸€ä¸ªæµç¨‹ï¼Œ<strong>Fastlane è´Ÿè´£æ„å»ºä¸ç‰ˆæœ¬ç®¡ç†ï¼ŒAppUploader è´Ÿè´£è·¨å¹³å°ä¸Šä¼ ã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">åœºæ™¯è¯´æ˜</h2>
<p>å‡è®¾å½“å‰é¡¹ç›®å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>ä»£ç æ‰˜ç®¡åœ¨ Git</li>
<li>ä½¿ç”¨ Fastlane ç®¡ç†æ„å»º</li>
<li>æ„å»ºå®Œæˆç”Ÿæˆ IPA</li>
<li>ä¸Šä¼ ç¯èŠ‚éœ€è¦åœ¨ Linux æˆ– Windows æœåŠ¡å™¨æ‰§è¡Œ</li>
</ul>
<p>ç›®æ ‡æ˜¯è®©æ•´ä¸ªæµç¨‹å¯ä»¥åœ¨ CI é‡Œè·‘é€šã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ç”¨ Fastlane è´Ÿè´£æ„å»º</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">fastlane <span class="hljs-keyword">init</span>
</code></pre>
<p>é€‰æ‹© iOS åº”ç”¨ã€‚</p>
<p>ç¼–è¾‘ <code>Fastfile</code>ï¼š</p>
<pre><code class="hljs language-php" lang="php">lane :build_release <span class="hljs-keyword">do</span>
  <span class="hljs-title function_ invoke__">increment_build_number</span>(
    <span class="hljs-attr">xcodeproj</span>: <span class="hljs-string">"YourApp.xcodeproj"</span>
  )

  <span class="hljs-title function_ invoke__">build_app</span>(
    <span class="hljs-attr">scheme</span>: <span class="hljs-string">"YourScheme"</span>,
    <span class="hljs-attr">export_method</span>: <span class="hljs-string">"app-store"</span>,
    <span class="hljs-attr">output_directory</span>: <span class="hljs-string">"./build"</span>,
    <span class="hljs-attr">output_name</span>: <span class="hljs-string">"release.ipa"</span>
  )
end
</code></pre>
<p>è¿™é‡Œæ˜ç¡®æŒ‡å®šï¼š</p>
<ul>
<li><code>export_method: "app-store"</code></li>
<li>è¾“å‡ºç›®å½•å›ºå®šä¸º <code>./build</code></li>
</ul>
<p>æ‰§è¡Œï¼š</p>
<pre><code class="hljs">fastlane build_release
</code></pre>
<p>æ­¤æ—¶å¯ä»¥åœ¨ <code>build/</code> ç›®å½•çœ‹åˆ° <code>release.ipa</code>ã€‚</p>
<p>æ„å»ºé˜¶æ®µç”± Fastlane å®Œæˆï¼Œä¸æ¶‰åŠä¸Šä¼ ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€å¤„ç†è¯ä¹¦é—®é¢˜</h2>
<p>Fastlane å¯ä»¥ç”¨ <code>match</code> ç®¡ç†è¯ä¹¦ï¼Œä½†å¦‚æœæ„å»ºæœåŠ¡å™¨æ²¡æœ‰ macOS é’¥åŒ™ä¸²ï¼Œè¯ä¹¦åŒæ­¥ä¼šæˆä¸ºéšœç¢ã€‚</p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ <strong>AppUploaderï¼ˆå¼€å¿ƒä¸Šæ¶ï¼‰</strong> çš„è¯ä¹¦ç®¡ç†åŠŸèƒ½ï¼š</p>
<ul>
<li>ç™»å½• Apple è´¦å·</li>
<li>ç”Ÿæˆ distribution è¯ä¹¦</li>
<li>ä¸‹è½½ p12 æ–‡ä»¶</li>
<li>ä¸‹è½½ App Store ç±»å‹æè¿°æ–‡ä»¶</li>
</ul>
<p>å°† p12 ä¸ mobileprovision æ–‡ä»¶åŠ å…¥ CI ç¯å¢ƒã€‚</p>
<p>åœ¨ Mac æ„å»ºæœºä¸­å¯¼å…¥è¯ä¹¦å³å¯å®Œæˆç­¾åã€‚</p>
<p>å¦‚æœæ„å»ºåœ¨ Windows æˆ– Linuxï¼Œåˆ™åªéœ€ä¿è¯ IPA æ˜¯å·²ç­¾åç‰ˆæœ¬ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd7f4a5133c849c0aad788625b3ee106~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570160&amp;x-signature=jW8xW%2FUKB5oYbjr1UXsz1UEkBYY%3D" alt="è¯ä¹¦ç®¡ç†" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€ç”¨ AppUploader å‘½ä»¤è¡Œä¸Šä¼  IPA</h2>
<p>å½“ IPA å·²ç”Ÿæˆï¼Œä¸ä¸€å®šéœ€è¦ macOS æ‰èƒ½ä¸Šä¼ ã€‚</p>
<p>AppUploader æä¾›å‘½ä»¤è¡Œç‰ˆæœ¬ <code>appuploader_cli</code>ã€‚</p>
<p>ä¸Šä¼ å‘½ä»¤ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">appuploader_cli -u appleid@example.com \
<span class="hljs-deletion">-p xxxx-xxxx-xxxx-xxxx \</span>
<span class="hljs-deletion">-c 2 \</span>
<span class="hljs-deletion">-f build/release.ipa</span>
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>-u</code> Apple å¼€å‘è€…è´¦å·</li>
<li><code>-p</code> ä¸“ç”¨å¯†ç ï¼ˆApp ä¸“ç”¨å¯†ç ï¼‰</li>
<li><code>-c</code> ä¸Šä¼ é€šé“ï¼ˆ1 ä¸ºè€é€šé“ï¼Œ2 ä¸ºæ–°é€šé“ï¼‰</li>
<li><code>-f</code> IPA è·¯å¾„</li>
</ul>
<p>æŠŠè¿™æ¡å‘½ä»¤åŠ å…¥ CI è„šæœ¬å³å¯ã€‚</p>
<p>ä¾‹å¦‚åœ¨ GitLab CIï¼š</p>
<pre><code class="hljs language-bash" lang="bash">script:
  - fastlane build_release
  - appuploader_cli -u <span class="hljs-variable">$APPLE_ID</span> -p <span class="hljs-variable">$APP_PWD</span> -c 2 -f build/release.ipa
</code></pre>
<p>è¿™æ ·æ„å»ºå’Œä¸Šä¼ è¢«æ‹†åˆ†ä¸ºä¸¤ä¸ªæ˜ç¡®é˜¶æ®µã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€ä¸Šä¼ åçš„éªŒè¯</h2>
<p>ä¸Šä¼ æˆåŠŸåï¼š</p>
<ul>
<li>ç™»å½• App Store Connect</li>
<li>æŸ¥çœ‹â€œæ„å»ºç‰ˆæœ¬â€</li>
<li>ç¡®è®¤ç‰ˆæœ¬å·ä¸ Build å·æ­£ç¡®</li>
</ul>
<p>å¦‚æœæ„å»ºæœªå‡ºç°ï¼š</p>
<ul>
<li>æ£€æŸ¥ Bundle ID æ˜¯å¦ä¸€è‡´</li>
<li>æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡® Apple è´¦å·</li>
</ul>
<p>å¦‚æœå‡ºç° 401 é”™è¯¯ï¼š</p>
<ul>
<li>æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† App ä¸“ç”¨å¯†ç </li>
<li>ç¡®è®¤è´¦å·å¼€å¯äº†åŒé‡è®¤è¯
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/506f403e77984786aba3f6b87119f3b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570160&amp;x-signature=kkaQzK7QiLeP7Mcf3yTDiI5qxb0%3D" alt="asc" loading="lazy"/></li>
</ul>
<hr/>
<h2 data-id="heading-5">äº”ã€ç»“åˆå®é™…é¡¹ç›®çš„å®Œæ•´æ‰§è¡Œé¡ºåº</h2>
<p>åœ¨ CI ä¸­æ‰§è¡Œé¡ºåºå»ºè®®å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‹‰å–ä»£ç </li>
<li>Fastlane æ„å»º IPA</li>
<li>éªŒè¯è¾“å‡ºæ–‡ä»¶å­˜åœ¨</li>
<li>è°ƒç”¨ appuploader_cli ä¸Šä¼ </li>
<li>è¾“å‡ºæ—¥å¿—</li>
</ol>
<p>å¯ä»¥å¢åŠ ä¸€æ®µç®€å•çš„æ–‡ä»¶å­˜åœ¨æ ¡éªŒï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">if</span> [ ! -f build/release.ipa ]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"IPA not found"</span>
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre>
<p>é¿å…ä¸Šä¼ é˜¶æ®µæŠ¥è·¯å¾„é”™è¯¯ã€‚</p>
<hr/>
<h2 data-id="heading-6">å…­ã€ä»€ä¹ˆæ—¶å€™éœ€è¦è¿™ç§ç»„åˆæ–¹å¼ï¼Ÿ</h2>
<p>ä»¥ä¸‹æƒ…å†µé€‚åˆ Fastlane + AppUploader ç»„åˆï¼š</p>
<ul>
<li>æ„å»ºåœ¨ Macï¼Œä½†ä¸Šä¼ åœ¨ Linux æœåŠ¡å™¨</li>
<li>å›¢é˜Ÿéƒ¨åˆ†æˆå‘˜ä½¿ç”¨ Windows</li>
<li>å¸Œæœ›ä¸Šä¼ é˜¶æ®µç‹¬ç«‹äº Xcode</li>
<li>ä¸å¸Œæœ›åœ¨ CI é‡Œç»´æŠ¤ macOS é’¥åŒ™ä¸²</li>
</ul>
<p>è¿™ç§åˆ†ç¦»å¼ç»“æ„è®©æ„å»ºä¸ä¸Šä¼ èŒè´£æ¸…æ™°ã€‚</p>
<hr/>
<h2 data-id="heading-7">ä¸ƒã€æµç¨‹ä¸­æ¯ä¸ªå·¥å…·çš„è§’è‰²</h2>

































<table><thead><tr><th>é˜¶æ®µ</th><th>å·¥å…·</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬å·ç®¡ç†</td><td>Fastlane</td></tr><tr><td>æ„å»ºä¸ç­¾å</td><td>Fastlane + Xcode</td></tr><tr><td>è¯ä¹¦ç”Ÿæˆ</td><td>AppUploader</td></tr><tr><td>æè¿°æ–‡ä»¶ç”Ÿæˆ</td><td>AppUploader</td></tr><tr><td>IPA ä¸Šä¼ </td><td>AppUploader CLI</td></tr><tr><td>å®¡æ ¸æäº¤</td><td>App Store Connect</td></tr></tbody></table>
<p>è¿™æ ·å¯ä»¥é¿å…å•ç‚¹ä¾èµ–ã€‚</p>
<hr/>
<p>Fastlane ä¸ AppUploader èŒè´£åˆ†å·¥ï¼š</p>
<ul>
<li>Fastlane è´Ÿè´£æ„å»ºä¸ç‰ˆæœ¬æ§åˆ¶</li>
<li>AppUploader è´Ÿè´£è¯ä¹¦ç”Ÿæˆä¸è·¨å¹³å°ä¸Šä¼ </li>
</ul>
<p>å½“ä¸¤è€…ç»“åˆä½¿ç”¨æ—¶ï¼Œå¯ä»¥å½¢æˆä¸€æ¡ç¨³å®šçš„è‡ªåŠ¨åŒ–å‘å¸ƒè·¯å¾„ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Ftutorial%2Fzh%2F83%2F83.html" target="_blank" title="https://www.appuploader.net/tutorial/zh/83/83.html" ref="nofollow noopener noreferrer">www.appuploader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ¶ä½œ macOS sequoia å®‰è£… uç›˜]]></title>    <link>https://juejin.cn/post/7605811866909065225</link>    <guid>https://juejin.cn/post/7605811866909065225</guid>    <pubDate>2026-02-13T06:37:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605811866909065225" data-draft-id="7605907495769833481" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ¶ä½œ macOS sequoia å®‰è£… uç›˜"/> <meta itemprop="keywords" content="macOS"/> <meta itemprop="datePublished" content="2026-02-13T06:37:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="blanks2020"/> <meta itemprop="url" content="https://juejin.cn/user/78820565845310"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ¶ä½œ macOS sequoia å®‰è£… uç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/78820565845310/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    blanks2020
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:37:37.000Z" title="Fri Feb 13 2026 06:37:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1 é¦–å…ˆ App Storeä¸‹è½½ macOS sequoia æœ€æ–°å®‰è£…é•œåƒ</p>
<p>2 æ“¦é™¤ u ç›˜</p>
<pre><code class="hljs language-bash" lang="bash">âœ diskutil list

/dev/disk0 (internal, physical):

Â Â  <span class="hljs-comment">#: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  TYPE NAMEÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  SIZE Â  Â  Â  IDENTIFIER</span>

Â Â  0:Â  Â  Â  GUID_partition_schemeÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  *2.0 TB Â  Â  disk0

Â Â  1: Â  Â  Â  Â  Â  Â  Apple_APFS_ISC Container disk1 Â  Â  Â  Â  524.3 MB Â  disk0s1

Â Â  2: Â  Â  Â  Â  Â  Â  Â  Â  Apple_APFS Container disk4 Â  Â  Â  Â  500.0 GB Â  disk0s2

Â Â  3: Â  Â  Â  Â  Â  Â  Â  Â  Apple_APFS Container disk3 Â  Â  Â  Â  1.5 TB Â  Â  disk0s3

Â Â  4:Â  Â  Â  Â  Apple_APFS_Recovery Container disk2 Â  Â  Â  Â  5.4 GB Â  Â  disk0s4

  


/dev/disk3 (synthesized):

Â Â  <span class="hljs-comment">#: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  TYPE NAMEÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  SIZE Â  Â  Â  IDENTIFIER</span>

Â Â  0:Â  Â  Â  APFS Container Scheme -Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +1.5 TB Â  Â  disk3

Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Physical Store disk0s3

Â Â  1:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume dataÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.2 TB Â  Â  disk3s1

  


/dev/disk4 (synthesized):

Â Â  <span class="hljs-comment">#: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  TYPE NAMEÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  SIZE Â  Â  Â  IDENTIFIER</span>

Â Â  0:Â  Â  Â  APFS Container Scheme -Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +500.0 GB Â  disk4

Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Physical Store disk0s2

Â Â  1:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume Macintosh HDÂ  Â  Â  Â  Â  Â  11.3 GBÂ  Â  disk4s1

Â Â  2:Â  Â  Â  Â  Â  Â  Â  APFS Snapshot com.apple.os.update-... 11.3 GBÂ  Â  disk4s1s1

Â Â  3:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume Preboot Â  Â  Â  Â  Â  Â  Â  Â  7.7 GB Â  Â  disk4s2

Â Â  4:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume RecoveryÂ  Â  Â  Â  Â  Â  Â  Â  1.1 GB Â  Â  disk4s3

Â Â  5:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume DataÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  138.8 GB Â  disk4s5

Â Â  6:Â  Â  Â  Â  Â  Â  Â  Â  APFS Volume VMÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  24.6 KBÂ  Â  disk4s6

  


/dev/disk5 (external, physical):

Â Â  <span class="hljs-comment">#: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  TYPE NAMEÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  SIZE Â  Â  Â  IDENTIFIER</span>

Â Â  0: Â  Â  FDisk_partition_schemeÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  *32.0 GBÂ  Â  disk5

Â Â  1: Â  Â  Â  Â  Â  Â  Windows_FAT_32 NO NAME Â  Â  Â  Â  Â  Â  Â  Â  32.0 GBÂ  Â  disk5s1
   
<span class="hljs-comment"># ç¡®è®¤ u ç›˜ç¼–å·ï¼Œ æ“¦é™¤ u ç›˜</span>

diskutil eraseDisk APFS cruzerÂ  /dev/disk5

âœ diskutil eraseDisk APFS cruzerÂ  /dev/disk5Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 

Started erase on disk5

Unmounting disk

Creating the partition map

Waiting <span class="hljs-keyword">for</span> partitions to activate

Formatting disk5s2 as APFS with name cruzer

Mounting disk

Finished erase on disk5

</code></pre>
<p>ç„¶åäºŒæ¬¡æ ¼å¼åŒ–ï¼Œä¸ºæ‰©å±•æ—¥å¿—å¼ï¼Œè¦ä¸æ— æ³•å¯åŠ¨ã€‚
å¦å¤–æ ¼å¼åŒ– U ç›˜ï¼Œéœ€è¦ç™»å½•çš„ macOS è´¦å·æ˜¯ç®¡ç†å‘˜è´¦å·ï¼Œå¦åˆ™å¯èƒ½ä¼šæœ‰è«åå…¶å¦™çš„é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d96c9a434a24d58bbdf28941cc8c20b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmxhbmtzMjAyMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569457&amp;x-signature=gBki0NAZWRg%2By14Xo3MSWHTUTLo%3D" alt="image.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.apple.com%2Fzh-cn%2F101578" target="_blank" title="https://support.apple.com/zh-cn/101578" ref="nofollow noopener noreferrer">support.apple.com/zh-cn/10157â€¦</a></p>
<pre><code class="hljs language-vbnet" lang="vbnet">sudo /Applications/Install\ macOS\ Sequoia.app/Contents/Resources/createinstallmedia --volume /Volumes/cruzer **/**

**âœ** **~** sudo /Applications/Install\ macOS\ Sequoia.app/Contents/Resources/createinstallmedia --volume /Volumes/cruzerÂ 

<span class="hljs-symbol">Password:</span>

Ready <span class="hljs-keyword">to</span> start.

<span class="hljs-keyword">To</span> <span class="hljs-keyword">continue</span> we need <span class="hljs-keyword">to</span> <span class="hljs-keyword">erase</span> the volume at /Volumes/cruzer.

<span class="hljs-keyword">If</span> you wish <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span> type (Y) <span class="hljs-keyword">then</span> press <span class="hljs-keyword">return</span>: Y

APFS disks may <span class="hljs-built_in">not</span> be used <span class="hljs-keyword">as</span> bootable install media.

An <span class="hljs-keyword">error</span> occurred erasing the disk.

âœ sudo /Applications/Install\ macOS\ Sequoia.app/Contents/Resources/createinstallmedia --volume /Volumes/cruzer

Ready <span class="hljs-keyword">to</span> start.

<span class="hljs-keyword">To</span> <span class="hljs-keyword">continue</span> we need <span class="hljs-keyword">to</span> <span class="hljs-keyword">erase</span> the volume at /Volumes/cruzer.

<span class="hljs-keyword">If</span> you wish <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span> type (Y) <span class="hljs-keyword">then</span> press <span class="hljs-keyword">return</span>: Y

Erasing disk: <span class="hljs-number">0%</span>... <span class="hljs-number">10%</span>... <span class="hljs-number">20%</span>...
</code></pre>
<p>è¦åœ¨<strong>M1Â Macä¸Šä»Uç›˜å¯åŠ¨</strong>ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>
<p><strong>å…³æœº</strong>ï¼šç¡®ä¿Macå®Œå…¨å…³æœºã€‚</p>
</li>
<li>
<p><strong>æ’å…¥Uç›˜</strong>ï¼šå°†åˆ¶ä½œå¥½çš„å¯åŠ¨Uç›˜æ’å…¥Macçš„USBç«¯å£ã€‚</p>
</li>
<li>
<p><strong>æŒ‰ä½ç”µæºé”®</strong>ï¼šæŒ‰ä½ç”µæºé”®ï¼Œç›´åˆ°å‡ºç°å¯åŠ¨é€‰é¡¹ç•Œé¢ã€‚</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.apple.com%2Fzh-cn%2F111336" target="_blank" title="https://support.apple.com/zh-cn/111336" ref="nofollow noopener noreferrer"><strong>é€‰æ‹©Uç›˜</strong>ï¼šåœ¨å¯åŠ¨é€‰é¡¹ä¸­é€‰æ‹©Uç›˜ï¼Œç„¶åæŒ‰å›è½¦é”®å¯åŠ¨ã€‚Â </a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.apple.com%2Fzh-cn%2F111336" target="_blank" title="https://support.apple.com/zh-cn/111336" ref="nofollow noopener noreferrer"><strong>2</strong></a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F344591348" target="_blank" title="https://zhuanlan.zhihu.com/p/344591348" ref="nofollow noopener noreferrer"><strong>å®‰è£…macOS</strong>ï¼šå¦‚æœéœ€è¦ï¼Œå¯ä»¥æŒ‰ç…§å±å¹•ä¸Šçš„æŒ‡ç¤ºå®‰è£…macOSã€‚Â </a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F344591348" target="_blank" title="https://zhuanlan.zhihu.com/p/344591348" ref="nofollow noopener noreferrer"><strong>1</strong></a></p>
<p>é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œæ‚¨å¯ä»¥æˆåŠŸä»Uç›˜å¯åŠ¨M1Â Mac</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶åˆ°ä¸€ï¼šç”¨Python Tkinteræ‰“é€ ä¸“ä¸šçš„æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·(ä¸€)]]></title>    <link>https://juejin.cn/post/7605882792144879679</link>    <guid>https://juejin.cn/post/7605882792144879679</guid>    <pubDate>2026-02-13T07:00:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605882792144879679" data-draft-id="7605941424536174646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶åˆ°ä¸€ï¼šç”¨Python Tkinteræ‰“é€ ä¸“ä¸šçš„æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·(ä¸€)"/> <meta itemprop="keywords" content="é¢è¯•,åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T07:00:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UrbanJazzerati"/> <meta itemprop="url" content="https://juejin.cn/user/550205947391389"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶åˆ°ä¸€ï¼šç”¨Python Tkinteræ‰“é€ ä¸“ä¸šçš„æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·(ä¸€)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/550205947391389/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UrbanJazzerati
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:00:39.000Z" title="Fri Feb 13 2026 07:00:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦ç»†è®°å½•äº†ä¸€ä¸ªå®ç”¨çš„æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·çš„å®Œæ•´å¼€å‘è¿‡ç¨‹ï¼Œæ¶µç›–äº†Tkinter GUIç¼–ç¨‹ã€æ–‡ä»¶æ“ä½œã€ç”¨æˆ·ä½“éªŒè®¾è®¡ç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
</blockquote>
<h2 data-id="heading-0">Â é¡¹ç›®èƒŒæ™¯</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éœ€è¦å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„æƒ…å†µã€‚æœ‰æ—¶å€™éœ€è¦åˆ é™¤æ—¥å¿—æ–‡ä»¶çš„ç‰¹å®šæ—¶é—´æ®µè®°å½•ï¼Œæœ‰æ—¶å€™éœ€è¦æ¸…ç†æ•°æ®æ–‡ä»¶çš„éƒ¨åˆ†è¡Œï¼Œæœ‰æ—¶å€™éœ€è¦ç§»é™¤é…ç½®æ–‡ä»¶ä¸­çš„æŸäº›è®¾ç½®ã€‚æ‰‹åŠ¨æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨è¿›è¡Œè¡Œåˆ é™¤ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†³å®šå¼€å‘ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·ï¼Œè¦æ±‚èƒ½å¤Ÿï¼š</p>
<ul>
<li>å¯è§†åŒ–é€‰æ‹©æ–‡ä»¶</li>
<li>ç²¾ç¡®æŒ‡å®šåˆ é™¤çš„è¡ŒèŒƒå›´</li>
<li>æä¾›æ“ä½œå‰çš„é¢„è§ˆåŠŸèƒ½</li>
<li>ç¡®ä¿æ“ä½œçš„å®‰å…¨æ€§ï¼ˆå¤‡ä»½æœºåˆ¶ï¼‰</li>
<li>ç”¨æˆ·å‹å¥½çš„ç•Œé¢</li>
</ul>
<h2 data-id="heading-1">æŠ€æœ¯é€‰å‹ï¼šä¸ºä»€ä¹ˆé€‰æ‹©Tkinterï¼Ÿ</h2>
<h3 data-id="heading-2">Python GUIåº“æ¯”è¾ƒ</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘å¯¹æ¯”äº†Pythonçš„å‡ ä¸ªä¸»æµGUIåº“ï¼š</p>



































<table><thead><tr><th>åº“å</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Tkinter</strong></td><td>Pythonå†…ç½®ï¼Œæ— éœ€å®‰è£…ï¼Œè·¨å¹³å°ï¼ŒAPIç¨³å®š</td><td>ç•Œé¢ç›¸å¯¹è€æ—§ï¼ŒåŸç”Ÿç»„ä»¶å°‘</td><td>å¿«é€Ÿå¼€å‘å°å‹å·¥å…·</td></tr><tr><td><strong>PyQt/PySide</strong></td><td>åŠŸèƒ½å¼ºå¤§ï¼Œç•Œé¢ç¾è§‚ï¼Œç»„ä»¶ä¸°å¯Œ</td><td>å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œéœ€è¦å®‰è£…</td><td>éœ€è¦å¤æ‚ç•Œé¢çš„æ¡Œé¢åº”ç”¨</td></tr><tr><td><strong>wxPython</strong></td><td>åŸç”Ÿå¤–è§‚ï¼Œè·¨å¹³å°</td><td>æ–‡æ¡£è¾ƒå°‘ï¼Œç¤¾åŒºè¾ƒå°</td><td>è·¨å¹³å°åŸç”Ÿé£æ ¼åº”ç”¨</td></tr><tr><td><strong>Kivy</strong></td><td>ç§»åŠ¨ç«¯å‹å¥½ï¼Œå®Œå…¨è·¨å¹³å°</td><td>ä¼ ç»Ÿæ¡Œé¢åº”ç”¨ä¸é€‚åˆ</td><td>ç§»åŠ¨æˆ–è§¦æ§åº”ç”¨</td></tr></tbody></table>
<p>å¯¹äºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘é€‰æ‹©äº†<strong>Tkinter</strong>ï¼Œå› ä¸ºï¼š</p>
<ol>
<li><strong>é›¶ä¾èµ–</strong>ï¼šPythonè‡ªå¸¦ï¼Œç”¨æˆ·æ— éœ€å®‰è£…é¢å¤–åº“</li>
<li><strong>å¿«é€Ÿå¼€å‘</strong>ï¼šAPIç®€æ´ï¼ŒåŸå‹å¼€å‘å¿«</li>
<li><strong>è¶³å¤ŸåŠŸèƒ½</strong>ï¼šå¯¹äºæ–‡ä»¶å¤„ç†å·¥å…·æ¥è¯´ï¼ŒåŠŸèƒ½å®Œå…¨è¶³å¤Ÿ</li>
<li><strong>è·¨å¹³å°</strong>ï¼šWindowsã€macOSã€Linuxéƒ½èƒ½è¿è¡Œ</li>
</ol>
<h2 data-id="heading-3">æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-4">æ•´ä½“æ¶æ„è€ƒè™‘</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é¡¹ç›®ç»“æ„éµå¾ªMVCæ¨¡å¼çš„æ€æƒ³</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileLineDeleteApp</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>): ...
    <span class="hljs-comment"># Model - æ•°æ®å±‚ï¼ˆæ–‡ä»¶æ“ä½œé€»è¾‘ï¼‰</span>
    <span class="hljs-comment"># View - è§†å›¾å±‚ï¼ˆUIç»„ä»¶ï¼‰</span>
    <span class="hljs-comment"># Controller - æ§åˆ¶å±‚ï¼ˆäº‹ä»¶å¤„ç†ï¼‰</span>
</code></pre>
<h3 data-id="heading-5">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</h3>
<ol>
<li><strong>æ–‡ä»¶é€‰æ‹©æ¨¡å—</strong>ï¼šé€šè¿‡filedialogè·å–ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶</li>
<li><strong>æ–‡ä»¶é¢„è§ˆæ¨¡å—</strong>ï¼šæ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤§å°ã€è¡Œæ•°ã€ä¿®æ”¹æ—¶é—´ç­‰</li>
<li><strong>è¡Œå·è®¾ç½®æ¨¡å—</strong>ï¼šæä¾›æ–¹ä¾¿çš„ç•Œé¢è®¾ç½®è¦åˆ é™¤çš„è¡ŒèŒƒå›´</li>
<li><strong>åˆ é™¤æ‰§è¡Œæ¨¡å—</strong>ï¼šå®‰å…¨çš„è¡Œåˆ é™¤ï¼ŒåŒ…å«å¤‡ä»½æœºåˆ¶</li>
<li><strong>æ—¥å¿—æ˜¾ç¤ºæ¨¡å—</strong>ï¼šå®æ—¶æ˜¾ç¤ºæ“ä½œçŠ¶æ€</li>
</ol>
<h2 data-id="heading-6">Â å…³é”®æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-7">1. ç°ä»£åŒ–UIè®¾è®¡</h3>
<h4 data-id="heading-8">ä¸»é¢˜å’Œæ ·å¼è®¾ç½®</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_style</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""è®¾ç½®ttkæ ·å¼"""</span>
    self.style = ttk.Style()
    
    <span class="hljs-comment"># å°è¯•è®¾ç½®ä¸åŒä¸»é¢˜</span>
    available_themes = self.style.theme_names()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¯ç”¨ä¸»é¢˜:"</span>, available_themes)
    
    <span class="hljs-comment"># æ ¹æ®å¹³å°é€‰æ‹©åˆé€‚çš„ä¸»é¢˜</span>
    <span class="hljs-keyword">if</span> <span class="hljs-string">'vista'</span> <span class="hljs-keyword">in</span> available_themes:
        self.style.theme_use(<span class="hljs-string">'vista'</span>)
    <span class="hljs-keyword">elif</span> <span class="hljs-string">'clam'</span> <span class="hljs-keyword">in</span> available_themes:
        self.style.theme_use(<span class="hljs-string">'clam'</span>)
    <span class="hljs-keyword">else</span>:
        self.style.theme_use(<span class="hljs-string">'winnative'</span>)
    
    <span class="hljs-comment"># è‡ªå®šä¹‰æ ·å¼</span>
    self.style.configure(<span class="hljs-string">'Title.TLabel'</span>, 
                        font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">16</span>, <span class="hljs-string">'bold'</span>))
    self.style.configure(<span class="hljs-string">'Danger.TButton'</span>,
                        font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                        background=<span class="hljs-string">'#d9534f'</span>)  <span class="hljs-comment"># Bootstrap dangerçº¢è‰²</span>
</code></pre>
<h4 data-id="heading-9">å¸ƒå±€ç®¡ç†</h4>
<p>ä½¿ç”¨<code>pack()</code>å’Œ<code>fill=tk.BOTH, expand=True</code>å®ç°è‡ªé€‚åº”å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-comment"># ä¸»å®¹å™¨ä½¿ç”¨è‡ªé€‚åº”å¡«å……</span>
main_container = ttk.Frame(self.root, padding=<span class="hljs-string">"10"</span>)
main_container.pack(fill=tk.BOTH, expand=<span class="hljs-literal">True</span>)


<span class="hljs-comment"># æ–‡æœ¬åŒºåŸŸå¸¦æ»šåŠ¨æ¡</span>
self.info_text = tk.Text(info_frame, height=<span class="hljs-number">12</span>, width=<span class="hljs-number">30</span>)
info_scrollbar = ttk.Scrollbar(info_frame, 
                              orient=tk.VERTICAL,
                              command=self.info_text.yview)
self.info_text.configure(yscrollcommand=info_scrollbar.<span class="hljs-built_in">set</span>)


<span class="hljs-comment"># åˆ†å‰²çª—æ ¼å®ç°çµæ´»çš„å¸ƒå±€</span>
info_paned = ttk.PanedWindow(main_container, orient=tk.HORIZONTAL)
info_paned.pack(fill=tk.BOTH, expand=<span class="hljs-literal">True</span>, pady=<span class="hljs-number">10</span>)
</code></pre>
<h3 data-id="heading-10">2. æ–‡ä»¶ä¿¡æ¯è·å–ä¸æ˜¾ç¤º</h3>
<h4 data-id="heading-11">è·å–æ–‡ä»¶å…ƒæ•°æ®</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_file_info</span>(<span class="hljs-params">self, filename</span>):
    <span class="hljs-string">"""è·å–æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># è·å–æ–‡ä»¶å¤§å°ï¼ˆæ ¼å¼åŒ–æ˜¾ç¤ºï¼‰</span>
        file_size = os.path.getsize(filename)
        
        <span class="hljs-comment"># è·å–ä¿®æ”¹æ—¶é—´ï¼ˆæ³¨æ„å¼•å·åµŒå¥—çš„å¤„ç†ï¼‰</span>
        mod_time = os.path.getmtime(filename)
        
        <span class="hljs-comment"># å¤–å±‚å•å¼•å·ï¼Œå†…å±‚åŒå¼•å·</span>
        time_str = time.strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>, time.localtime(mod_time))
        
        <span class="hljs-comment"># è¯»å–æ–‡ä»¶è¡Œæ•°</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
            lines = file.readlines()
            total_lines = <span class="hljs-built_in">len</span>(lines)
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'size'</span>: <span class="hljs-string">f"<span class="hljs-subst">{file_size:,}</span> å­—èŠ‚"</span>,
            <span class="hljs-string">'mod_time'</span>: time_str,
            <span class="hljs-string">'total_lines'</span>: total_lines,
            <span class="hljs-string">'content_preview'</span>: lines[:<span class="hljs-number">5</span>]
        }
        
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> {<span class="hljs-string">'error'</span>: <span class="hljs-built_in">str</span>(e)}
</code></pre>
<h3 data-id="heading-12">3. å®‰å…¨çš„æ–‡ä»¶æ“ä½œ</h3>
<h4 data-id="heading-13">å¤‡ä»½æœºåˆ¶å®ç°</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_lines_in_range</span>(<span class="hljs-params">self, file_path, start_line, end_line</span>):
    <span class="hljs-string">"""åˆ é™¤æŒ‡å®šæ–‡ä»¶ä¸­çš„è¡ŒèŒƒå›´"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. è¯»å–åŸå§‹æ–‡ä»¶</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
            lines = file.readlines()
        
        total_lines = <span class="hljs-built_in">len</span>(lines)
        
        <span class="hljs-comment"># 2. è¡Œå·éªŒè¯</span>
        <span class="hljs-keyword">if</span> start_line &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> end_line &gt; total_lines:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">f"è¡Œå·è¶…å‡ºèŒƒå›´ (1-<span class="hljs-subst">{total_lines}</span>)"</span>
        
        <span class="hljs-comment"># 3. åˆ›å»ºå¤‡ä»½ï¼ˆéå¸¸é‡è¦ï¼ï¼‰</span>
        backup_path = file_path + <span class="hljs-string">'.bak'</span>
        <span class="hljs-keyword">import</span> shutil
        shutil.copy2(file_path, backup_path)  <span class="hljs-comment"># copy2ä¼šä¿ç•™å…ƒæ•°æ®</span>
        
        <span class="hljs-comment"># 4. æ‰§è¡Œåˆ é™¤æ“ä½œ</span>
        new_lines = []
        deleted_lines = []
        <span class="hljs-keyword">for</span> index, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines, start=<span class="hljs-number">1</span>):
            <span class="hljs-keyword">if</span> start_line &lt;= index &lt;= end_line:
                deleted_lines.append(line)  <span class="hljs-comment"># ä¿å­˜è¢«åˆ é™¤çš„è¡Œï¼ˆå¯é€‰ï¼‰</span>
            <span class="hljs-keyword">else</span>:
                new_lines.append(line)  <span class="hljs-comment"># ä¿ç•™çš„è¡Œ</span>
        
        <span class="hljs-comment"># 5. å†™å›æ–°æ–‡ä»¶</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:
            file.writelines(new_lines)
        
        <span class="hljs-comment"># 6. è¿”å›æ“ä½œç»“æœ</span>
        deleted_count = end_line - start_line + <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, <span class="hljs-string">f"å·²åˆ é™¤ <span class="hljs-subst">{deleted_count}</span> è¡Œï¼ŒåŸå§‹æ–‡ä»¶å·²å¤‡ä»½ä¸º: <span class="hljs-subst">{backup_path}</span>"</span>
        
    <span class="hljs-keyword">except</span> PermissionError:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">"æ²¡æœ‰æ–‡ä»¶å†™å…¥æƒé™"</span>
    <span class="hljs-keyword">except</span> FileNotFoundError:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">f"å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
</code></pre>
<h3 data-id="heading-14">4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h3>
<h4 data-id="heading-15">DPIè‡ªé€‚åº”ï¼ˆé’ˆå¯¹é«˜åˆ†è¾¨ç‡å±å¹•ï¼‰</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-comment"># åœ¨Windowsé«˜DPIå±å¹•ä¸Šè‡ªåŠ¨è°ƒæ•´</span>
<span class="hljs-keyword">if</span> sys.platform == <span class="hljs-string">'win32'</span>:
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">from</span> ctypes <span class="hljs-keyword">import</span> windll
        windll.shcore.SetProcessDpiAwareness(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">except</span>:
        <span class="hljs-keyword">pass</span>  <span class="hljs-comment"># å¦‚æœå¤±è´¥ï¼Œç»§ç»­æ‰§è¡Œ</span>
</code></pre>
<h4 data-id="heading-16">çª—å£å±…ä¸­æ˜¾ç¤º</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">center_window</span>(<span class="hljs-params">window, width, height</span>):
    <span class="hljs-string">"""å°†çª—å£å±…ä¸­æ˜¾ç¤º"""</span>
    <span class="hljs-comment"># å…ˆæ›´æ–°çª—å£ä¿¡æ¯ï¼Œç¡®ä¿è·å–åˆ°æ­£ç¡®çš„å°ºå¯¸</span>
    window.update_idletasks()
    
    <span class="hljs-comment"># è·å–å±å¹•å°ºå¯¸</span>
    screen_width = window.winfo_screenwidth()
    screen_height = window.winfo_screenheight()
    
    <span class="hljs-comment"># è®¡ç®—ä½ç½®</span>
    x = (screen_width // <span class="hljs-number">2</span>) - (width // <span class="hljs-number">2</span>)
    y = (screen_height // <span class="hljs-number">2</span>) - (height // <span class="hljs-number">2</span>)
    
    <span class="hljs-comment"># è®¾ç½®çª—å£ä½ç½®</span>
    window.geometry(<span class="hljs-string">f'<span class="hljs-subst">{width}</span>x<span class="hljs-subst">{height}</span>+<span class="hljs-subst">{x}</span>+<span class="hljs-subst">{y}</span>'</span>)
</code></pre>
<h4 data-id="heading-17">è‡ªåŠ¨æ»šåŠ¨</h4>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">update_status</span>(<span class="hljs-params">self, message</span>):
    <span class="hljs-string">"""æ›´æ–°çŠ¶æ€ä¿¡æ¯å¹¶è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨"""</span>
    self.status_text.insert(tk.END, <span class="hljs-string">f"&gt; <span class="hljs-subst">{message}</span>\n"</span>)
    self.status_text.see(tk.END)  <span class="hljs-comment"># å…³é”®ï¼šè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨</span>
</code></pre>
<h3 data-id="heading-18">5. è¾“å…¥éªŒè¯ä¸é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_deletion</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""æ‰§è¡Œåˆ é™¤æ“ä½œå‰çš„å®Œæ•´éªŒè¯"""</span>
    <span class="hljs-comment"># 1. éªŒè¯æ–‡ä»¶å­˜åœ¨</span>
    filename = self.file_path.get()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> filename <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.exists(filename):
        self.show_error(<span class="hljs-string">"è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># 2. éªŒè¯è¡Œå·æ ¼å¼</span>
    <span class="hljs-keyword">try</span>:
        start = <span class="hljs-built_in">int</span>(self.start_line.get())
        end = <span class="hljs-built_in">int</span>(self.end_line.get())
    <span class="hljs-keyword">except</span> ValueError:
        self.show_error(<span class="hljs-string">"è¯·è¾“å…¥æœ‰æ•ˆçš„æ•´æ•°è¡Œå·"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># 3. éªŒè¯é€»è¾‘å…³ç³»</span>
    <span class="hljs-keyword">if</span> start &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> end &lt; <span class="hljs-number">1</span>:
        self.show_error(<span class="hljs-string">"è¡Œå·å¿…é¡»å¤§äº0"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-keyword">if</span> start &gt; end:
        self.show_error(<span class="hljs-string">"èµ·å§‹è¡Œä¸èƒ½å¤§äºç»“æŸè¡Œ"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># 4. éªŒè¯æ–‡ä»¶å®é™…è¡Œæ•°</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
            lines = file.readlines()
            total_lines = <span class="hljs-built_in">len</span>(lines)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        self.show_error(<span class="hljs-string">f"æ— æ³•è¯»å–æ–‡ä»¶: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># 5. è¶…å‡ºèŒƒå›´çš„å¤„ç†</span>
    <span class="hljs-keyword">if</span> start &gt; total_lines:
        self.show_error(<span class="hljs-string">f"èµ·å§‹è¡Œå·è¶…å‡ºèŒƒå›´ (æœ€å¤§è¡Œæ•°: <span class="hljs-subst">{total_lines}</span>)"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-keyword">if</span> end &gt; total_lines:
        <span class="hljs-comment"># æ™ºèƒ½è°ƒæ•´ï¼šè¯¢é—®ç”¨æˆ·æ˜¯å¦è°ƒæ•´åˆ°æœ€å¤§å€¼</span>
        response = messagebox.askyesno(
            <span class="hljs-string">"è¡Œå·è°ƒæ•´"</span>,
            <span class="hljs-string">f"ç»“æŸè¡Œå·è¶…å‡ºèŒƒå›´ï¼Œæ˜¯å¦è°ƒæ•´ä¸ºæœ€å¤§è¡Œæ•° <span class="hljs-subst">{total_lines}</span>ï¼Ÿ"</span>
        )
        <span class="hljs-keyword">if</span> response:
            end = total_lines
        <span class="hljs-keyword">else</span>:
            self.update_status(<span class="hljs-string">"å·²å–æ¶ˆæ“ä½œ"</span>)
            <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># 6. ç¡®è®¤å¯¹è¯æ¡†</span>
    lines_to_delete = end - start + <span class="hljs-number">1</span>
    confirm = messagebox.askyesno(
        <span class="hljs-string">"ç¡®è®¤åˆ é™¤"</span>,
        <span class="hljs-string">f"ç¡®è®¤åˆ é™¤è¡Œ <span class="hljs-subst">{start}</span> åˆ° <span class="hljs-subst">{end}</span> å—ï¼Ÿ\n"</span>
        <span class="hljs-string">f"å…± <span class="hljs-subst">{lines_to_delete}</span> è¡Œ\n\n"</span>
        <span class="hljs-string">"æ³¨æ„ï¼šæ­¤æ“ä½œä¸å¯é€†ï¼"</span>,
        icon=<span class="hljs-string">'warning'</span>  <span class="hljs-comment"># âš ï¸ è­¦å‘Šå›¾æ ‡</span>
    )
    
    <span class="hljs-keyword">if</span> confirm:
        self.perform_deletion(filename, start, end, lines_to_delete)
</code></pre>
<h2 data-id="heading-19">æ‰©å±•åŠŸèƒ½å»ºè®®</h2>
<p>è¿™ä¸ªåŸºæœ¬ç‰ˆæœ¬å·²ç»ç›¸å½“å®Œå–„ï¼Œä½†è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•ï¼š</p>
<h3 data-id="heading-20">1. æ‰¹é‡å¤„ç†æ¨¡å¼</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_process_files</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""æ‰¹é‡å¤„ç†å¤šä¸ªæ–‡ä»¶"""</span>
    files = filedialog.askopenfilenames(title=<span class="hljs-string">"é€‰æ‹©å¤šä¸ªæ–‡ä»¶"</span>)
    <span class="hljs-keyword">if</span> files:
        <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> files:
            <span class="hljs-comment"># å¯¹æ¯ä¸ªæ–‡ä»¶æ‰§è¡Œç›¸åŒçš„åˆ é™¤æ“ä½œ</span>
            self.process_single_file(file, start_line, end_line)
</code></pre>
<h3 data-id="heading-21">2. å†å²è®°å½•</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HistoryManager</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.history = []
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_record</span>(<span class="hljs-params">self, operation</span>):
        <span class="hljs-string">"""æ·»åŠ å†å²è®°å½•"""</span>
        self.history.append({
            <span class="hljs-string">'time'</span>: datetime.now(),
            <span class="hljs-string">'operation'</span>: operation,
            <span class="hljs-string">'file'</span>: operation[<span class="hljs-string">'file'</span>],
            <span class="hljs-string">'lines_deleted'</span>: operation[<span class="hljs-string">'lines_count'</span>]
        })
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">undo_last</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ’¤é”€æœ€åä¸€æ¬¡æ“ä½œ"""</span>
        <span class="hljs-keyword">if</span> self.history:
            last_op = self.history.pop()
            <span class="hljs-comment"># ...æ’¤é”€é€»è¾‘...</span>
</code></pre>
<h2 data-id="heading-22">ç•Œé¢è®¾è®¡</h2>
<h3 data-id="heading-23">å¸ƒå±€å±‚æ¬¡</h3>
<ol>
<li><strong>é¡¶éƒ¨</strong>ï¼šæ ‡é¢˜å’Œä¸»è¦æ“ä½œæŒ‰é’®</li>
<li><strong>ä¸­éƒ¨</strong>ï¼šè¾“å…¥åŒºåŸŸå’Œè®¾ç½®åŒºåŸŸ</li>
<li><strong>ä¸‹éƒ¨</strong>ï¼šä¿¡æ¯æ˜¾ç¤ºå’ŒçŠ¶æ€åé¦ˆ</li>
<li><strong>åº•éƒ¨</strong>ï¼šçŠ¶æ€æ </li>
</ol>
<h3 data-id="heading-24">é¢œè‰²ä¸è§†è§‰çº¿ç´¢</h3>
<ul>
<li><strong>å±é™©æ“ä½œ</strong>ï¼šä½¿ç”¨çº¢è‰²æŒ‰é’®ï¼ˆBootstrap Dangerçº¢è‰² #d9534fï¼‰</li>
<li><strong>æˆåŠŸçŠ¶æ€</strong>ï¼šç»¿è‰²æ–‡å­—</li>
<li><strong>é”™è¯¯çŠ¶æ€</strong>ï¼šçº¢è‰²æ–‡å­—å’Œå›¾æ ‡</li>
<li><strong>æç¤ºä¿¡æ¯</strong>ï¼šç°è‰²å°å­—</li>
</ul>
<h3 data-id="heading-25">äº¤äº’è®¾è®¡åŸåˆ™</h3>
<ol>
<li><strong>åŠæ—¶åé¦ˆ</strong>ï¼šæ¯ä¸ªæ“ä½œéƒ½æœ‰æ˜ç¡®çš„çŠ¶æ€åé¦ˆ</li>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šå±é™©æ“ä½œæœ‰ç¡®è®¤å¯¹è¯æ¡†ï¼Œè‡ªåŠ¨å¤‡ä»½</li>
<li><strong>å®¹é”™è®¾è®¡</strong>ï¼šé”™è¯¯è¾“å…¥æœ‰æ¸…æ™°çš„æç¤º</li>
<li><strong>é€æ­¥å¼•å¯¼</strong>ï¼šç•Œé¢æŒ‰ç…§æ“ä½œæ­¥éª¤æ’åˆ—</li>
</ol>
<h2 data-id="heading-26">æµ‹è¯•æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-27">ä¸åŒæ–‡ä»¶ç±»å‹çš„æµ‹è¯•</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON">test_files = {
    <span class="hljs-string">"æ–‡æœ¬æ–‡ä»¶"</span>: <span class="hljs-string">"test.txt"</span>,
    <span class="hljs-string">"Pythonæ–‡ä»¶"</span>: <span class="hljs-string">"test.py"</span>,
    <span class="hljs-string">"CSVæ–‡ä»¶"</span>: <span class="hljs-string">"data.csv"</span>,
    <span class="hljs-string">"å¤§å‹æ–‡ä»¶"</span>: <span class="hljs-string">"large.log"</span>,
    <span class="hljs-string">"ç©ºæ–‡ä»¶"</span>: <span class="hljs-string">"empty.txt"</span>,
    <span class="hljs-string">"åªè¯»æ–‡ä»¶"</span>: <span class="hljs-string">"readonly.txt"</span>,
    <span class="hljs-string">"ä¸å­˜åœ¨çš„æ–‡ä»¶"</span>: <span class="hljs-string">"nonexist.txt"</span>
}
</code></pre>
<h3 data-id="heading-28">è¾¹ç•Œæƒ…å†µå¤„ç†</h3>
<ol>
<li>ç©ºæ–‡ä»¶å¤„ç†</li>
<li>è¶…å¤§æ–‡ä»¶å†…å­˜ç®¡ç†</li>
<li>ç‰¹æ®Šå­—ç¬¦ç¼–ç </li>
<li>è¡Œå·è¶Šç•Œ</li>
<li>æƒé™é—®é¢˜</li>
<li>ç£ç›˜ç©ºé—´ä¸è¶³</li>
</ol>
<h2 data-id="heading-29">å­¦ä¹ è¦ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-30">å¯¹äºTkinteræ–°æ‰‹</h3>
<ol>
<li><strong>äº†è§£å¸¸ç”¨ç»„ä»¶</strong>ï¼šLabel, Entry, Button, Text, Scrollbar, Frame</li>
<li><strong>æŒæ¡å¸ƒå±€ç®¡ç†å™¨</strong>ï¼špack, grid, placeçš„é€‰æ‹©ä¸ç»„åˆ</li>
<li><strong>ä½¿ç”¨ttkæé«˜ç¾è§‚åº¦</strong>ï¼šTkinterçš„å¢å¼ºç‰ˆç»„ä»¶</li>
<li><strong>äº‹ä»¶ç»‘å®š</strong>ï¼šä½¿ç”¨bindè¿æ¥ç•Œé¢ä¸é€»è¾‘</li>
</ol>
<h3 data-id="heading-31">å¯¹äºæ–‡ä»¶æ“ä½œ</h3>
<ol>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šæ°¸è¿œå…ˆå¤‡ä»½å†ä¿®æ”¹</li>
<li><strong>ç¼–ç å¤„ç†</strong>ï¼šä½¿ç”¨UTF-8ç¼–ç ï¼Œæ·»åŠ errors='ignore'å¤„ç†å¼‚å¸¸</li>
<li><strong>å¤§æ–‡ä»¶å¤„ç†</strong>ï¼šè€ƒè™‘åˆ†å—è¯»å–æ—¶çš„æƒ…å†µ</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œç”¨æˆ·å‹å¥½çš„æç¤º</li>
</ol>
<h3 data-id="heading-32">å¯¹äºé¡¹ç›®ç»“æ„</h3>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå°†åŠŸèƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹æ–¹æ³•</li>
<li><strong>æ–‡æ¡£æ³¨é‡Š</strong>ï¼šæ¸…æ™°çš„å‡½æ•°è¯´æ˜å’Œå‚æ•°è¯´æ˜</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šå…³é”®åŠŸèƒ½çš„ç‰ˆæœ¬å¤‡ä»½</li>
<li><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼šæ˜ç¡®çš„æ“ä½œç»“æœåé¦ˆ</li>
</ol>
<h2 data-id="heading-33">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-34">å¤§æ–‡ä»¶å¤„ç†</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_large_file</span>(<span class="hljs-params">self, filename, start_line, end_line</span>):
    <span class="hljs-string">"""å¤„ç†å¤§æ–‡ä»¶çš„ä¼˜åŒ–ç‰ˆæœ¬"""</span>
    <span class="hljs-comment"># 1. åªè¯»å–éœ€è¦çš„è¡Œ</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> file:
        <span class="hljs-comment"># è·³è¿‡å¼€å¤´ä¸éœ€è¦çš„è¡Œ</span>
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(start_line - <span class="hljs-number">1</span>):
            <span class="hljs-built_in">next</span>(file, <span class="hljs-literal">None</span>)
        
        <span class="hljs-comment"># 2. é€è¡Œå¤„ç†ï¼Œå‡å°‘å†…å­˜æ¶ˆè€—</span>
        remaining_lines = []
        <span class="hljs-keyword">for</span> line_num, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(file, start=start_line):
            <span class="hljs-keyword">if</span> line_num &gt; end_line:
                remaining_lines.append(line)
    
    <span class="hljs-comment"># 3. å†™å…¥å‰©ä½™éƒ¨åˆ†</span>
    <span class="hljs-comment"># ... å†™å…¥é€»è¾‘ ...</span>
</code></pre>
<h2 data-id="heading-35">è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-36">æ·»åŠ è°ƒè¯•è¾“å‡º</h3>
<pre><code class="hljs language-PYTHON" lang="PYTHON"><span class="hljs-keyword">import</span> logging

<span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_logging</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""è®¾ç½®æ—¥å¿—ç³»ç»Ÿ"""</span>
    logging.basicConfig(
        level=logging.DEBUG,
        <span class="hljs-built_in">format</span>=<span class="hljs-string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>,
        filename=<span class="hljs-string">'file_deleter.log'</span>
    )
    self.logger = logging.getLogger(__name__)
</code></pre>
<h2 data-id="heading-37">ç»“è¯­</h2>
<p>è¿™æ¬¾æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·è™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†æ¶µç›–äº†ä¸€ä¸ªå®Œæ•´GUIåº”ç”¨çš„æ–¹æ–¹é¢é¢ã€‚ä»ç•Œé¢è®¾è®¡åˆ°æ–‡ä»¶æ“ä½œï¼Œä»ç”¨æˆ·ä½“éªŒåˆ°é”™è¯¯å¤„ç†ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚éƒ½ä½“ç°äº†è‰¯å¥½çš„è½¯ä»¶å¼€å‘å®è·µã€‚</p>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä¸ä»…æŒæ¡äº†Tkinterçš„åŸºæœ¬ç”¨æ³•ï¼Œè¿˜æ·±å…¥ç†è§£äº†ï¼š</p>
<ul>
<li>å¦‚ä½•è®¾è®¡ç›´è§‚çš„ç”¨æˆ·ç•Œé¢</li>
<li>å¦‚ä½•ç¡®ä¿æ–‡ä»¶æ“ä½œçš„å®‰å…¨æ€§å’Œå¯é æ€§</li>
<li>å¦‚ä½•æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯å’Œåé¦ˆ</li>
<li>å¦‚ä½•ä¼˜åŒ–ä»£ç ç»“æ„å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡è¯¦ç»†çš„å¼€å‘è®°å½•å¯¹æ­£åœ¨å­¦ä¹ Python GUIç¼–ç¨‹çš„ä½ æœ‰æ‰€å¸®åŠ©ã€‚å·¥å…·çš„å¼€å‘ä¸ä»…ä»…æ˜¯åŠŸèƒ½çš„å®ç°ï¼Œæ›´æ˜¯å¯¹ç”¨æˆ·ä½“éªŒã€å®‰å…¨æ€§å’Œå¥å£®æ€§çš„å…¨é¢è€ƒè™‘ã€‚
é™„ä¸Šæºç </p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk
<span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> ttk, filedialog, messagebox
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> sys


<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileLineDeleteApp</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, root</span>):
        self.file_entry = <span class="hljs-literal">None</span>
        self.style = <span class="hljs-literal">None</span>
        self.root = root

        <span class="hljs-comment"># å˜é‡åˆå§‹åŒ–ï¼ˆå¿…é¡»åœ¨åˆ›å»ºwidgetsä¹‹å‰ï¼ï¼‰</span>
        self.file_path = tk.StringVar()
        self.start_line = tk.StringVar()
        self.end_line = tk.StringVar()

        self.root.title(<span class="hljs-string">"æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·"</span>)
        self.root.geometry(<span class="hljs-string">"650x750"</span>)

        <span class="hljs-comment"># è®¾ç½®ä¸»é¢˜ï¼ŒæŒ‰é’®ï¼Œæ–‡å­—æ ·å¼</span>
        self.setup_style()

        <span class="hljs-comment"># åˆ›å»ºUI</span>
        self.create_widgets()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_style</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½®ttkæ ·å¼"""</span>
        self.style = ttk.Style()

        <span class="hljs-comment"># å°è¯•è®¾ç½®ä¸åŒä¸»é¢˜</span>
        available_themes = self.style.theme_names()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¯ç”¨ä¸»é¢˜:"</span>, available_themes)

        <span class="hljs-comment"># é€‰æ‹©å¯ç”¨çš„ä¸»é¢˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'vista'</span> <span class="hljs-keyword">in</span> available_themes:
            self.style.theme_use(<span class="hljs-string">'vista'</span>)
        <span class="hljs-keyword">elif</span> <span class="hljs-string">'clam'</span> <span class="hljs-keyword">in</span> available_themes:
            self.style.theme_use(<span class="hljs-string">'clam'</span>)
        <span class="hljs-keyword">else</span>:
            self.style.theme_use(<span class="hljs-string">'winnative'</span>)

        <span class="hljs-comment"># è‡ªå®šä¹‰æ ·å¼</span>
        self.style.configure(<span class="hljs-string">'Title.TLabel'</span>, font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">16</span>, <span class="hljs-string">'bold'</span>))
        self.style.configure(<span class="hljs-string">'Header.TLabel'</span>, font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">10</span>, <span class="hljs-string">'bold'</span>))
        self.style.configure(<span class="hljs-string">'Normal.TLabel'</span>, font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>))

        <span class="hljs-comment"># ä¸ºæŒ‰é’®åˆ›å»ºæ ·å¼</span>
        self.style.configure(<span class="hljs-string">'Danger.TButton'</span>,
                             font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                             background=<span class="hljs-string">'#d9534f'</span>
                             )
        <span class="hljs-comment"># ä¸ºæŒ‰é’®åˆ›å»ºæ ·å¼</span>
        self.style.configure(<span class="hljs-string">'Primary.TButton'</span>,
                             font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                             )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_widgets</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºæ‰€æœ‰UIç»„ä»¶"""</span>
        <span class="hljs-comment"># ä¸»å®¹å™¨ æ¡†æ¶ä¼šå¡«æ»¡çˆ¶å®¹å™¨çš„å®½åº¦å’Œé«˜åº¦</span>
        main_container = ttk.Frame(self.root, padding=<span class="hljs-string">"10"</span>)
        main_container.pack(fill=tk.BOTH, expand=<span class="hljs-literal">True</span>)

        <span class="hljs-comment"># ========== ä¸ŠåŠéƒ¨åˆ†ï¼šæ ‡é¢˜å’Œæ–‡ä»¶é€‰æ‹© ==========</span>

        <span class="hljs-comment"># æ ‡é¢˜</span>
        title_label = ttk.Label(main_container,
                                text=<span class="hljs-string">"æ–‡ä»¶è¡Œåˆ é™¤å·¥å…·"</span>,
                                style=<span class="hljs-string">'Title.TLabel'</span>)
        title_label.pack(pady=(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>))
        <span class="hljs-comment"># åˆ†å‰²çº¿</span>
        separator = ttk.Separator(main_container, orient=<span class="hljs-string">'horizontal'</span>)
        separator.pack(fill=tk.X, pady=<span class="hljs-number">5</span>)

        <span class="hljs-comment"># æ–‡ä»¶é€‰æ‹©éƒ¨åˆ†</span>
        file_frame = ttk.LabelFrame(main_container,
                                    text=<span class="hljs-string">"1. é€‰æ‹©æ–‡ä»¶"</span>,
                                    padding=<span class="hljs-string">"10"</span>,
                                    relief=tk.RIDGE)
        file_frame.pack(fill=tk.X, pady=<span class="hljs-number">10</span>)

        file_row = ttk.Frame(file_frame)
        file_row.pack(fill=tk.X, pady=<span class="hljs-number">5</span>)

        ttk.Label(file_row, text=<span class="hljs-string">"æ–‡ä»¶è·¯å¾„:"</span>,
                  style=<span class="hljs-string">'Header.TLabel'</span>,
                  width=<span class="hljs-number">10</span>).pack(side=tk.LEFT, padx=(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>))

        self.file_entry = ttk.Entry(file_row,
                                    textvariable=self.file_path,
                                    width=<span class="hljs-number">50</span>,
                                    font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>))
        self.file_entry.pack(side=tk.LEFT, fill=tk.X, expand=<span class="hljs-literal">True</span>, padx=<span class="hljs-number">5</span>)

        browse_btn = ttk.Button(file_row,
                                text=<span class="hljs-string">"æµè§ˆ..."</span>,
                                command=self.browse_file)
        browse_btn.pack(side=tk.LEFT, padx=(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>))

        <span class="hljs-comment"># è¡Œå·è¾“å…¥éƒ¨åˆ†</span>
        line_frame = ttk.LabelFrame(main_container,
                                    text=<span class="hljs-string">"2. è®¾ç½®åˆ é™¤èŒƒå›´"</span>,
                                    padding=<span class="hljs-string">"10"</span>,
                                    relief=tk.RIDGE)
        line_frame.pack(fill=tk.X, pady=<span class="hljs-number">10</span>)

        <span class="hljs-comment"># èµ·å§‹è¡Œå·</span>
        start_frame = ttk.Frame(line_frame)
        start_frame.pack(fill=tk.X, pady=<span class="hljs-number">5</span>)

        ttk.Label(start_frame, text=<span class="hljs-string">"èµ·å§‹è¡Œå·:"</span>,
                  style=<span class="hljs-string">'Normal.TLabel'</span>,
                  width=<span class="hljs-number">12</span>).pack(side=tk.LEFT)

        <span class="hljs-comment"># ä½¿ç”¨Comboboxä»£æ›¿Spinboxï¼Œæ›´ç¨³å®š</span>
        self.start_combo = ttk.Combobox(start_frame,
                                        textvariable=self.start_line,
                                        width=<span class="hljs-number">10</span>,
                                        font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                                        state=<span class="hljs-string">'normal'</span>)
        self.start_combo.pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        <span class="hljs-comment"># æ·»åŠ ä¸€äº›ç¤ºä¾‹å€¼</span>
        self.start_combo[<span class="hljs-string">'values'</span>] = <span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">101</span>))

        <span class="hljs-comment"># ç»“æŸè¡Œå·</span>
        end_frame = ttk.Frame(line_frame)
        end_frame.pack(fill=tk.X, pady=<span class="hljs-number">5</span>)

        ttk.Label(end_frame, text=<span class="hljs-string">"ç»“æŸè¡Œå·:"</span>,
                  style=<span class="hljs-string">'Normal.TLabel'</span>,
                  width=<span class="hljs-number">12</span>).pack(side=tk.LEFT)

        self.end_combo = ttk.Combobox(end_frame,
                                      textvariable=self.end_line,
                                      width=<span class="hljs-number">10</span>,
                                      font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                                      state=<span class="hljs-string">'normal'</span>)
        self.end_combo.pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        <span class="hljs-comment"># æ·»åŠ ä¸€äº›ç¤ºä¾‹å€¼</span>
        self.end_combo[<span class="hljs-string">'values'</span>] = <span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>, <span class="hljs-number">201</span>, <span class="hljs-number">10</span>))

        <span class="hljs-comment"># è¡Œå·æç¤º</span>
        ttk.Label(line_frame, text=<span class="hljs-string">"æç¤ºï¼šè¾“å…¥è¦åˆ é™¤çš„è¡Œå·èŒƒå›´ï¼ˆåŒ…å«èµ·æ­¢è¡Œï¼‰"</span>,
                  font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">8</span>),
                  foreground=<span class="hljs-string">'gray'</span>).pack(pady=(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>))

        <span class="hljs-comment"># ========== ä¸­é—´éƒ¨åˆ†ï¼šæ“ä½œæŒ‰é’® ==========</span>

        button_frame = ttk.Frame(main_container)
        button_frame.pack(pady=<span class="hljs-number">20</span>)

        ttk.Button(button_frame,
                   text=<span class="hljs-string">"é¢„è§ˆæ–‡ä»¶ä¿¡æ¯"</span>,
                   command=self.preview_file_info,
                   style=<span class="hljs-string">'Primary.TButton'</span>,
                   width=<span class="hljs-number">15</span>).pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        ttk.Button(button_frame,
                 text=<span class="hljs-string">"æ‰§è¡Œåˆ é™¤"</span>,
                 command=self.execute_deletion,
                 style=<span class="hljs-string">'Danger.TButton'</span>,
                 ).pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        ttk.Button(button_frame,
                   text=<span class="hljs-string">"æ¸…é™¤"</span>,
                   command=self.clear_all,
                   style=<span class="hljs-string">'Primary.TButton'</span>,
                   width=<span class="hljs-number">15</span>).pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        ttk.Button(button_frame,
                   text=<span class="hljs-string">"é€€å‡º"</span>,
                   command=self.root.quit,
                   style=<span class="hljs-string">'Primary.TButton'</span>,
                   width=<span class="hljs-number">15</span>).pack(side=tk.LEFT, padx=<span class="hljs-number">5</span>)

        <span class="hljs-comment"># ========== ä¸‹åŠéƒ¨åˆ†ï¼šä¿¡æ¯æ˜¾ç¤º ==========</span>

        <span class="hljs-comment"># ä½¿ç”¨PanedWindowåˆ†å‰²ä¿¡æ¯æ˜¾ç¤ºåŒºåŸŸ</span>
        info_paned = ttk.PanedWindow(main_container, orient=tk.HORIZONTAL)
        info_paned.pack(fill=tk.BOTH, expand=<span class="hljs-literal">True</span>, pady=<span class="hljs-number">10</span>)

        <span class="hljs-comment"># æ–‡ä»¶ä¿¡æ¯æ¡†æ¶</span>
        info_frame = ttk.LabelFrame(info_paned,
                                    text=<span class="hljs-string">"æ–‡ä»¶ä¿¡æ¯"</span>,
                                    padding=<span class="hljs-string">"5"</span>)
        info_paned.add(info_frame, weight=<span class="hljs-number">1</span>)

        <span class="hljs-comment"># ä½¿ç”¨Textæ§ä»¶æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯</span>
        self.info_text = tk.Text(info_frame,
                                 height=<span class="hljs-number">12</span>,
                                 width=<span class="hljs-number">30</span>,
                                 font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                                 bg=<span class="hljs-string">'#f8f9fa'</span>,
                                 relief=tk.FLAT,
                                 wrap=tk.WORD)

        info_scrollbar = ttk.Scrollbar(info_frame,
                                       orient=tk.VERTICAL,
                                       command=self.info_text.yview)
        self.info_text.configure(yscrollcommand=info_scrollbar.<span class="hljs-built_in">set</span>)

        self.info_text.pack(side=tk.LEFT, fill=tk.BOTH, expand=<span class="hljs-literal">True</span>)
        info_scrollbar.pack(side=tk.RIGHT, fill=tk.Y)

        <span class="hljs-comment"># çŠ¶æ€ä¿¡æ¯æ¡†æ¶</span>
        status_frame = ttk.LabelFrame(info_paned,
                                      text=<span class="hljs-string">"æ“ä½œçŠ¶æ€"</span>,
                                      padding=<span class="hljs-string">"5"</span>)
        info_paned.add(status_frame, weight=<span class="hljs-number">1</span>)

        <span class="hljs-comment"># çŠ¶æ€æ–‡æœ¬åŒºåŸŸ</span>
        self.status_text = tk.Text(status_frame,
                                   height=<span class="hljs-number">12</span>,
                                   width=<span class="hljs-number">30</span>,
                                   font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                                   bg=<span class="hljs-string">'#f8f9fa'</span>,
                                   relief=tk.FLAT,
                                   wrap=tk.WORD)

        status_scrollbar = ttk.Scrollbar(status_frame,
                                         orient=tk.VERTICAL,
                                         command=self.status_text.yview)
        self.status_text.configure(yscrollcommand=status_scrollbar.<span class="hljs-built_in">set</span>)

        self.status_text.pack(side=tk.LEFT, fill=tk.BOTH, expand=<span class="hljs-literal">True</span>)
        status_scrollbar.pack(side=tk.RIGHT, fill=tk.Y)

        <span class="hljs-comment"># åº•éƒ¨çŠ¶æ€æ </span>
        self.status_bar = ttk.Label(self.root,
                                    text=<span class="hljs-string">"å°±ç»ª"</span>,
                                    relief=tk.SUNKEN,
                                    anchor=tk.W,
                                    font=(<span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, <span class="hljs-number">9</span>),
                                    padding=(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>))
        self.status_bar.pack(side=tk.BOTTOM, fill=tk.X, padx=<span class="hljs-number">10</span>, pady=<span class="hljs-number">5</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">browse_file</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æµè§ˆå¹¶é€‰æ‹©æ–‡ä»¶"""</span>
        filename = filedialog.askopenfilename(
            title=<span class="hljs-string">"é€‰æ‹©è¦å¤„ç†çš„æ–‡ä»¶"</span>,
            filetypes=[
                (<span class="hljs-string">"æ‰€æœ‰æ–‡ä»¶"</span>, <span class="hljs-string">"*.*"</span>),
                (<span class="hljs-string">"Python æ–‡ä»¶"</span>, <span class="hljs-string">"*.py"</span>),
                (<span class="hljs-string">"æ–‡æœ¬æ–‡ä»¶"</span>, <span class="hljs-string">"*.txt"</span>),
                (<span class="hljs-string">"CSV æ–‡ä»¶"</span>, <span class="hljs-string">"*.csv"</span>),
                (<span class="hljs-string">"æ—¥å¿—æ–‡ä»¶"</span>, <span class="hljs-string">"*.log"</span>)
            ]
        )
        <span class="hljs-keyword">if</span> filename:
            self.file_path.<span class="hljs-built_in">set</span>(filename)
            self.update_status(<span class="hljs-string">f"å·²é€‰æ‹©æ–‡ä»¶: <span class="hljs-subst">{os.path.basename(filename)}</span>"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">preview_file_info</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é¢„è§ˆæ–‡ä»¶ä¿¡æ¯"""</span>
        filename = self.file_path.get()
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> filename <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.exists(filename):
            self.show_error(<span class="hljs-string">"è¯·é€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æ¸…ç©ºæ–‡æœ¬åŒºåŸŸ</span>
            self.info_text.delete(<span class="hljs-number">1.0</span>, tk.END)

            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
                lines = file.readlines()
                total_lines = <span class="hljs-built_in">len</span>(lines)

            <span class="hljs-comment"># è·å–æ–‡ä»¶ä¿¡æ¯</span>
            file_size = os.path.getsize(filename)
            file_name = os.path.basename(filename)
            file_dir = os.path.dirname(filename)
            mod_time = os.path.getmtime(filename)

            <span class="hljs-comment"># æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯</span>
            self.info_text.insert(tk.END, <span class="hljs-string">"æ–‡ä»¶ä¿¡æ¯:\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">"="</span> * <span class="hljs-number">30</span> + <span class="hljs-string">"\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f"æ–‡ä»¶å: <span class="hljs-subst">{file_name}</span>\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f"å¤§å°: <span class="hljs-subst">{file_size:,}</span> å­—èŠ‚\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f"æ€»è¡Œæ•°: <span class="hljs-subst">{total_lines:,}</span> è¡Œ\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f"è·¯å¾„: <span class="hljs-subst">{file_dir}</span>\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f'ä¿®æ”¹æ—¶é—´: <span class="hljs-subst">{time.strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>, time.localtime(mod_time))}</span>\n'</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">f"æœ‰æ•ˆèŒƒå›´: 1 - <span class="hljs-subst">{total_lines}</span>\n"</span>)
            self.info_text.insert(tk.END, <span class="hljs-string">"="</span> * <span class="hljs-number">30</span> + <span class="hljs-string">"\n"</span>)

            <span class="hljs-comment"># å¦‚æœæœ‰å†…å®¹ï¼Œæ˜¾ç¤ºå‰å‡ è¡Œé¢„è§ˆ</span>
            <span class="hljs-keyword">if</span> lines:
                self.info_text.insert(tk.END, <span class="hljs-string">"\nå‰5è¡Œé¢„è§ˆ:\n"</span>)
                <span class="hljs-keyword">for</span> i, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines[:<span class="hljs-number">5</span>], <span class="hljs-number">1</span>):
                    line_preview = line.strip()[:<span class="hljs-number">80</span>]
                    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(line.strip()) &gt; <span class="hljs-number">80</span>:
                        line_preview += <span class="hljs-string">"..."</span>
                    self.info_text.insert(tk.END, <span class="hljs-string">f"<span class="hljs-subst">{i:3d}</span>: <span class="hljs-subst">{line_preview}</span>\n"</span>)

            <span class="hljs-comment"># æ›´æ–°çŠ¶æ€</span>
            self.update_status(<span class="hljs-string">"æ–‡ä»¶ä¿¡æ¯å·²åŠ è½½"</span>)
            self.status_bar.config(text=<span class="hljs-string">f"åŠ è½½å®Œæˆ: <span class="hljs-subst">{file_name}</span>"</span>, foreground=<span class="hljs-string">"green"</span>)

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            self.show_error(<span class="hljs-string">f"è¯»å–æ–‡ä»¶å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_deletion</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œåˆ é™¤æ“ä½œ"""</span>
        filename = self.file_path.get()

        <span class="hljs-comment"># éªŒè¯è¾“å…¥</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> filename <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.exists(filename):
            self.show_error(<span class="hljs-string">"è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">try</span>:
            start = <span class="hljs-built_in">int</span>(self.start_line.get())
            end = <span class="hljs-built_in">int</span>(self.end_line.get())
        <span class="hljs-keyword">except</span> ValueError:
            self.show_error(<span class="hljs-string">"è¯·è¾“å…¥æœ‰æ•ˆçš„æ•´æ•°è¡Œå·"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">if</span> start &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> end &lt; <span class="hljs-number">1</span>:
            self.show_error(<span class="hljs-string">"è¡Œå·å¿…é¡»å¤§äº0"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">if</span> start &gt; end:
            self.show_error(<span class="hljs-string">"èµ·å§‹è¡Œä¸èƒ½å¤§äºç»“æŸè¡Œ"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-comment"># è¯»å–æ–‡ä»¶ä»¥éªŒè¯è¡Œå·èŒƒå›´</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
                lines = file.readlines()
                total_lines = <span class="hljs-built_in">len</span>(lines)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            self.show_error(<span class="hljs-string">f"æ— æ³•è¯»å–æ–‡ä»¶: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">if</span> start &gt; total_lines:
            self.show_error(<span class="hljs-string">f"èµ·å§‹è¡Œå·è¶…å‡ºèŒƒå›´ (æœ€å¤§è¡Œæ•°: <span class="hljs-subst">{total_lines}</span>)"</span>)
            <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">if</span> end &gt; total_lines:
            <span class="hljs-comment"># è‡ªåŠ¨è°ƒæ•´åˆ°æœ€å¤§è¡Œæ•°</span>
            response = messagebox.askyesno(<span class="hljs-string">"è¡Œå·è°ƒæ•´"</span>,
                                           <span class="hljs-string">f"ç»“æŸè¡Œå·è¶…å‡ºèŒƒå›´ï¼Œæ˜¯å¦è°ƒæ•´ä¸ºæœ€å¤§è¡Œæ•° <span class="hljs-subst">{total_lines}</span>ï¼Ÿ"</span>)
            <span class="hljs-keyword">if</span> response:
                end = total_lines
            <span class="hljs-keyword">else</span>:
                self.update_status(<span class="hljs-string">"å·²å–æ¶ˆæ“ä½œ"</span>)
                <span class="hljs-keyword">return</span>

        <span class="hljs-comment"># æ˜¾ç¤ºè¦åˆ é™¤çš„è¡Œæ•°</span>
        lines_to_delete = end - start + <span class="hljs-number">1</span>

        <span class="hljs-comment"># ç¡®è®¤å¯¹è¯æ¡†</span>
        confirm = messagebox.askyesno(
            <span class="hljs-string">"ç¡®è®¤åˆ é™¤"</span>,
            <span class="hljs-string">f"ç¡®è®¤åˆ é™¤è¡Œ <span class="hljs-subst">{start}</span> åˆ° <span class="hljs-subst">{end}</span> å—ï¼Ÿ\n"</span>
            <span class="hljs-string">f"å…± <span class="hljs-subst">{lines_to_delete}</span> è¡Œ\n\n"</span>
            <span class="hljs-string">"æ³¨æ„ï¼šæ­¤æ“ä½œä¸å¯é€†ï¼"</span>,
            icon=<span class="hljs-string">'warning'</span>
        )

        <span class="hljs-keyword">if</span> confirm:
            <span class="hljs-keyword">try</span>:
                success, message = self.delete_lines_in_range(filename, start, end)

                <span class="hljs-keyword">if</span> success:
                    self.update_status(<span class="hljs-string">f"âœ“ <span class="hljs-subst">{message}</span>"</span>)
                    self.update_status(<span class="hljs-string">f"åˆ é™¤è¡Œ: <span class="hljs-subst">{start}</span> - <span class="hljs-subst">{end}</span>"</span>)
                    self.update_status(<span class="hljs-string">f"åˆ é™¤æ•°é‡: <span class="hljs-subst">{lines_to_delete}</span> è¡Œ"</span>)

                    <span class="hljs-comment"># æ¸…ç©ºè¾“å…¥æ¡†</span>
                    self.start_line.<span class="hljs-built_in">set</span>(<span class="hljs-string">""</span>)
                    self.end_line.<span class="hljs-built_in">set</span>(<span class="hljs-string">""</span>)

                    self.status_bar.config(text=<span class="hljs-string">"åˆ é™¤æˆåŠŸ"</span>, foreground=<span class="hljs-string">"green"</span>)

                    <span class="hljs-comment"># é‡æ–°é¢„è§ˆæ–‡ä»¶ä¿¡æ¯</span>
                    self.preview_file_info()

                    <span class="hljs-comment"># æ˜¾ç¤ºæˆåŠŸå¯¹è¯æ¡†</span>
                    messagebox.showinfo(<span class="hljs-string">"æˆåŠŸ"</span>,
                                        <span class="hljs-string">f"æˆåŠŸåˆ é™¤ <span class="hljs-subst">{lines_to_delete}</span> è¡Œï¼\n"</span>
                                        <span class="hljs-string">f"åŸå§‹æ–‡ä»¶å·²å¤‡ä»½ä¸º: <span class="hljs-subst">{filename}</span>.bak"</span>)
                <span class="hljs-keyword">else</span>:
                    self.show_error(message)

            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                error_msg = <span class="hljs-string">f"åˆ é™¤è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
                self.show_error(error_msg)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_lines_in_range</span>(<span class="hljs-params">self, file_path, start_line, end_line</span>):
        <span class="hljs-string">"""åˆ é™¤æŒ‡å®šæ–‡ä»¶ä¸­çš„è¡ŒèŒƒå›´"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>) <span class="hljs-keyword">as</span> file:
                lines = file.readlines()

            total_lines = <span class="hljs-built_in">len</span>(lines)

            <span class="hljs-comment"># éªŒè¯è¡Œå·èŒƒå›´</span>
            <span class="hljs-keyword">if</span> start_line &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> end_line &gt; total_lines:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">f"è¡Œå·è¶…å‡ºèŒƒå›´ (1-<span class="hljs-subst">{total_lines}</span>)"</span>
            <span class="hljs-keyword">if</span> start_line &gt; end_line:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">"èµ·å§‹è¡Œä¸èƒ½å¤§äºç»“æŸè¡Œ"</span>

            <span class="hljs-comment"># åˆ›å»ºå¤‡ä»½æ–‡ä»¶</span>
            backup_path = file_path + <span class="hljs-string">'.bak'</span>
            <span class="hljs-keyword">import</span> shutil
            shutil.copy2(file_path, backup_path)

            <span class="hljs-comment"># è¿›è¡Œåˆ é™¤æ“ä½œ</span>
            new_lines = []
            deleted_lines = []
            <span class="hljs-keyword">for</span> index, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines, start=<span class="hljs-number">1</span>):
                <span class="hljs-keyword">if</span> start_line &lt;= index &lt;= end_line:
                    deleted_lines.append(line)
                <span class="hljs-keyword">else</span>:
                    new_lines.append(line)

            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:
                file.writelines(new_lines)

            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, <span class="hljs-string">f"å·²åˆ é™¤ <span class="hljs-subst">{end_line - start_line + <span class="hljs-number">1</span>}</span> è¡Œ"</span>

        <span class="hljs-keyword">except</span> FileNotFoundError:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°"</span>
        <span class="hljs-keyword">except</span> PermissionError:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">"æ²¡æœ‰æ–‡ä»¶å†™å…¥æƒé™"</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">f"å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_all</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ¸…é™¤æ‰€æœ‰è¾“å…¥å’Œæ˜¾ç¤º"""</span>
        self.file_path.<span class="hljs-built_in">set</span>(<span class="hljs-string">""</span>)
        self.start_line.<span class="hljs-built_in">set</span>(<span class="hljs-string">""</span>)
        self.end_line.<span class="hljs-built_in">set</span>(<span class="hljs-string">""</span>)

        <span class="hljs-comment"># æ¸…ç©ºæ–‡æœ¬åŒºåŸŸ</span>
        self.info_text.delete(<span class="hljs-number">1.0</span>, tk.END)
        self.status_text.delete(<span class="hljs-number">1.0</span>, tk.END)

        <span class="hljs-comment"># æ›´æ–°çŠ¶æ€</span>
        self.update_status(<span class="hljs-string">"æ‰€æœ‰å†…å®¹å·²æ¸…é™¤"</span>)
        self.status_bar.config(text=<span class="hljs-string">"å°±ç»ª"</span>, foreground=<span class="hljs-string">"black"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_status</span>(<span class="hljs-params">self, message</span>):
        <span class="hljs-string">"""æ›´æ–°çŠ¶æ€ä¿¡æ¯"""</span>
        self.status_text.insert(tk.END, <span class="hljs-string">f"&gt; <span class="hljs-subst">{message}</span>\n"</span>)
        self.status_text.see(tk.END)  <span class="hljs-comment"># è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show_error</span>(<span class="hljs-params">self, message</span>):
        <span class="hljs-string">"""æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯"""</span>
        self.status_bar.config(text=<span class="hljs-string">f"é”™è¯¯: <span class="hljs-subst">{message}</span>"</span>, foreground=<span class="hljs-string">"red"</span>)
        self.update_status(<span class="hljs-string">f"âœ— <span class="hljs-subst">{message}</span>"</span>)
        messagebox.showerror(<span class="hljs-string">"é”™è¯¯"</span>, message)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    root = tk.Tk()

    <span class="hljs-comment"># è®¾ç½®DPIæ„ŸçŸ¥ï¼ˆWindowsï¼‰</span>
    <span class="hljs-comment"># åœ¨Windowsç³»ç»Ÿä¸­ï¼Œå½“ç¨‹åºè¿è¡Œåœ¨é«˜åˆ†è¾¨ç‡çš„å±å¹•ä¸Šï¼ˆå¦‚4Kæ˜¾ç¤ºå™¨ã€Retinaå±ï¼‰ï¼Œå¯èƒ½ä¼šå‡ºç°å­—ä½“æ¨¡ç³Šã€ç•Œé¢å…ƒç´ è¿‡å°çš„é—®é¢˜ã€‚è¿™æ®µä»£ç å‘Šè¯‰Windowsç³»ç»Ÿï¼šæˆ‘çš„ç¨‹åºæ”¯æŒé«˜DPIç¼©æ”¾ã€‚</span>
    <span class="hljs-keyword">if</span> sys.platform == <span class="hljs-string">'win32'</span>:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">from</span> ctypes <span class="hljs-keyword">import</span> windll
            windll.shcore.SetProcessDpiAwareness(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">pass</span>  <span class="hljs-comment"># å¦‚æœå¤±è´¥ï¼Œç»§ç»­æ‰§è¡Œ</span>

    <span class="hljs-comment"># è®¾ç½®çª—å£å›¾æ ‡</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">if</span> sys.platform == <span class="hljs-string">'win32'</span>:
            root.iconbitmap(default=<span class="hljs-string">'icon.ico'</span>)
    <span class="hljs-keyword">except</span>:
        <span class="hljs-keyword">pass</span>

    app = FileLineDeleteApp(root)

    <span class="hljs-comment"># è®¾ç½®çª—å£å±…ä¸­</span>
    root.update_idletasks()
    width = <span class="hljs-number">700</span>  <span class="hljs-comment"># å›ºå®šå®½åº¦</span>
    height = <span class="hljs-number">750</span>  <span class="hljs-comment"># å›ºå®šé«˜åº¦</span>
    x = (root.winfo_screenwidth() // <span class="hljs-number">2</span>) - (width // <span class="hljs-number">2</span>)
    y = (root.winfo_screenheight() // <span class="hljs-number">2</span>) - (height // <span class="hljs-number">2</span>)
    root.geometry(<span class="hljs-string">f'<span class="hljs-subst">{width}</span>x<span class="hljs-subst">{height}</span>+<span class="hljs-subst">{x}</span>+<span class="hljs-subst">{y}</span>'</span>)

    <span class="hljs-comment"># ç»‘å®šå›è½¦é”®è§¦å‘æµè§ˆæŒ‰é’®</span>
    root.bind(<span class="hljs-string">'&lt;Return&gt;'</span>, <span class="hljs-keyword">lambda</span> e: app.browse_file())

    root.mainloop()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çº¿ä¸Šæ’éšœåˆ©å™¨ï¼š10 ä¸ªå¿…å¤‡ Linux å‘½ä»¤å¿«é€Ÿå®šä½æ—¥å¿—ä¸­çš„ Bug]]></title>    <link>https://juejin.cn/post/7605888927715098662</link>    <guid>https://juejin.cn/post/7605888927715098662</guid>    <pubDate>2026-02-13T08:10:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605888927715098662" data-draft-id="7605811866909392905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çº¿ä¸Šæ’éšœåˆ©å™¨ï¼š10 ä¸ªå¿…å¤‡ Linux å‘½ä»¤å¿«é€Ÿå®šä½æ—¥å¿—ä¸­çš„ Bug"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T08:10:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é±¼äºº"/> <meta itemprop="url" content="https://juejin.cn/user/2279731967827264"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çº¿ä¸Šæ’éšœåˆ©å™¨ï¼š10 ä¸ªå¿…å¤‡ Linux å‘½ä»¤å¿«é€Ÿå®šä½æ—¥å¿—ä¸­çš„ Bug
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2279731967827264/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é±¼äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:10:10.000Z" title="Fri Feb 13 2026 08:10:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äº’è”ç½‘ç³»ç»Ÿè¿ç»´ä¸å¼€å‘ä¸­ï¼Œâ€œçº¿ä¸Šå‡º Bugâ€æ˜¯æ¯ä¸ªå·¥ç¨‹å¸ˆéƒ½é¿ä¸å¼€çš„æ—¥å¸¸ã€‚é¢å¯¹ç”¨æˆ·åé¦ˆå¼‚å¸¸ã€æœåŠ¡å“åº”å˜æ…¢æˆ–æ¥å£æŠ¥é”™ï¼Œ<strong>ç¬¬ä¸€æ—¶é—´æŸ¥çœ‹æ—¥å¿—</strong>å¾€å¾€æ˜¯å®šä½é—®é¢˜çš„å…³é”®ã€‚è€Œé«˜æ•ˆä½¿ç”¨ Linux å‘½ä»¤è¡Œå·¥å…·ï¼Œèƒ½è®©ä½ åœ¨æµ·é‡æ—¥å¿—ä¸­è¿…é€ŸæŠ½ä¸å‰¥èŒ§ï¼Œç²¾å‡†é”å®šæ•…éšœæ ¹æºã€‚</p>
<p>æœ¬æ–‡æ•´ç†äº† <strong>10 ä¸ªçº¿ä¸Šæ’æŸ¥æ—¥å¿—æ—¶æœ€å¸¸ç”¨ã€æœ€å®ç”¨çš„ Linux å‘½ä»¤</strong>ï¼ŒåŠ©ä½ ä»â€œå¤§æµ·æé’ˆâ€å˜ä¸ºâ€œä¸€å‡»å³ä¸­â€ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. <code>tail</code> â€”â€” å®æ—¶è¿½è¸ªæœ€æ–°æ—¥å¿—</h3>
<p>æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æœ«å°¾å†…å®¹ï¼Œå¸¸ç”¨äºç›‘æ§æ­£åœ¨å†™å…¥çš„æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æœ€å 100 è¡Œ</span>
<span class="hljs-built_in">tail</span> -n 100 /var/log/app.log

<span class="hljs-comment"># å®æ—¶æ»šåŠ¨è¾“å‡ºï¼ˆCtrl+C é€€å‡ºï¼‰</span>
<span class="hljs-built_in">tail</span> -f /var/log/app.log

<span class="hljs-comment"># è·Ÿéšæ–‡ä»¶é‡å‘½åï¼ˆå¦‚ logrotate åï¼‰</span>
<span class="hljs-built_in">tail</span> -F /var/log/app.log
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæœåŠ¡åˆšå´©æºƒï¼Œæƒ³çœ‹æœ€åå‡ æ¡è®°å½•ï¼›æŒç»­è§‚å¯Ÿé”™è¯¯æ˜¯å¦å¤ç°ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">2. <code>grep</code> â€”â€” ç²¾å‡†è¿‡æ»¤å…³é”®è¯</h3>
<p>ä»æ—¥å¿—ä¸­æœç´¢åŒ…å«ç‰¹å®šå…³é”®å­—çš„è¡Œï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æœç´¢ "ERROR"</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"ERROR"</span> /var/<span class="hljs-keyword">log</span>/app.log

<span class="hljs-comment"># å¿½ç•¥å¤§å°å†™</span>
<span class="hljs-keyword">grep</span> -i <span class="hljs-string">"exception"</span> /var/<span class="hljs-keyword">log</span>/app.log

<span class="hljs-comment"># æ˜¾ç¤ºåŒ¹é…è¡Œå‰åå„ 3 è¡Œï¼ˆä¸Šä¸‹æ–‡ï¼‰</span>
<span class="hljs-keyword">grep</span> -C <span class="hljs-number">3</span> <span class="hljs-string">"NullPointerException"</span> /var/<span class="hljs-keyword">log</span>/app.log

<span class="hljs-comment"># åå‘åŒ¹é…ï¼ˆæ’é™¤æŸå†…å®¹ï¼‰</span>
<span class="hljs-keyword">grep</span> -v <span class="hljs-string">"DEBUG"</span> /var/<span class="hljs-keyword">log</span>/app.log
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¿«é€Ÿæ‰¾å‡ºæ‰€æœ‰é”™è¯¯ã€å¼‚å¸¸å †æ ˆæˆ–ç‰¹å®šç”¨æˆ· ID çš„è¯·æ±‚ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">3. <code>less</code> â€”â€” é«˜æ•ˆæµè§ˆå¤§æ–‡ä»¶</h3>
<p>æ¯” <code>cat</code> æ›´é€‚åˆæŸ¥çœ‹å¤§å‹æ—¥å¿—æ–‡ä»¶ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€è·³è½¬ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c">less /var/<span class="hljs-built_in">log</span>/app.<span class="hljs-built_in">log</span>
</code></pre>
<p><strong>å¸¸ç”¨å¿«æ·é”®</strong>ï¼š</p>
<ul>
<li><code>/keyword</code> â†’ å‘ä¸‹æœç´¢</li>
<li><code>?keyword</code> â†’ å‘ä¸Šæœç´¢</li>
<li><code>n</code> / <code>N</code> â†’ ä¸‹ä¸€ä¸ª / ä¸Šä¸€ä¸ªåŒ¹é…é¡¹</li>
<li><code>G</code> â†’ è·³åˆ°æ–‡ä»¶æœ«å°¾</li>
<li><code>g</code> â†’ è·³åˆ°æ–‡ä»¶å¼€å¤´</li>
<li><code>q</code> â†’ é€€å‡º</li>
</ul>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ—¥å¿—æ–‡ä»¶å‡ ç™¾ MB ç”šè‡³ GB çº§ï¼Œéœ€äº¤äº’å¼æµè§ˆã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">4. <code>awk</code> â€”â€” æå–ç»“æ„åŒ–å­—æ®µ</h3>
<p>å½“æ—¥å¿—ä¸ºæ ¼å¼åŒ–æ–‡æœ¬ï¼ˆå¦‚ Nginxã€JSONã€ç©ºæ ¼/åˆ¶è¡¨ç¬¦åˆ†éš”ï¼‰ï¼Œå¯ç”¨ <code>awk</code> æå–å…³é”®åˆ—ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"># æå–ç¬¬ <span class="hljs-number">4</span> åˆ—ï¼ˆå‡è®¾ç©ºæ ¼åˆ†éš”ï¼‰
awk <span class="hljs-string">'{print <span class="hljs-subst">$4</span>}'</span> access.log

# è¿‡æ»¤çŠ¶æ€ç ä¸º <span class="hljs-number">500</span> çš„è¯·æ±‚ IP
awk <span class="hljs-string">'<span class="hljs-subst">$9</span> == 500 {print <span class="hljs-subst">$1</span>}'</span> access.log

# ç»Ÿè®¡å„çŠ¶æ€ç å‡ºç°æ¬¡æ•°
awk <span class="hljs-string">'{count[<span class="hljs-subst">$9</span>]++} END {for (code in count) print code, count[code]}'</span> access.log
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šåˆ†æè®¿é—®æ—¥å¿—ã€æå–æ—¶é—´æˆ³ã€ç”¨æˆ· IDã€é”™è¯¯ç ç­‰ç»“æ„åŒ–ä¿¡æ¯ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">5. <code>sed</code> â€”â€” æµå¼æ–‡æœ¬æ›¿æ¢/åˆ é™¤</h3>
<p>ç”¨äºæ¸…æ´—æ—¥å¿—æˆ–é«˜äº®å…³é”®ä¿¡æ¯ï¼ˆè¾ƒå°‘ç›´æ¥ç”¨äºæ’æŸ¥ï¼Œä½†é…åˆå…¶ä»–å‘½ä»¤å¾ˆå¼ºå¤§ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"># å°†æ‰€æœ‰ <span class="hljs-string">"WARN"</span> æ›¿æ¢ä¸º <span class="hljs-string">"[WARNING]"</span>
sed <span class="hljs-string">'s/WARN/[WARNING]/g'</span> app.<span class="hljs-built_in">log</span>

# åˆ é™¤ç©ºè¡Œ
sed <span class="hljs-string">'/^$/d'</span> app.<span class="hljs-built_in">log</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">6. <code>wc</code> â€”â€” ç»Ÿè®¡è¡Œæ•°ã€å­—æ•°</h3>
<p>å¿«é€Ÿäº†è§£æ—¥å¿—è§„æ¨¡æˆ–é”™è¯¯æ•°é‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»Ÿè®¡æ€»è¡Œæ•°</span>
<span class="hljs-built_in">wc</span> -l app.log

<span class="hljs-comment"># ç»Ÿè®¡ ERROR å‡ºç°æ¬¡æ•°</span>
grep -c <span class="hljs-string">"ERROR"</span> app.log
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¯„ä¼°é—®é¢˜å½±å“èŒƒå›´ï¼ˆå¦‚â€œä»Šå¤©æœ‰å¤šå°‘æ¬¡è¶…æ—¶ï¼Ÿâ€ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">7. <code>sort</code> + <code>uniq</code> â€”â€” å»é‡ä¸é¢‘æ¬¡åˆ†æ</h3>
<p>ç»„åˆä½¿ç”¨å¯å‘ç°é«˜é¢‘å¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æå–æ‰€æœ‰å¼‚å¸¸ç±»åå¹¶ç»Ÿè®¡å‡ºç°æ¬¡æ•°</span>
grep <span class="hljs-string">"Exception"</span> app.log | awk <span class="hljs-string">'{print $3}'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs">42 java.lang.NullPointerException
15 com.example.ServiceUnavailableException
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¯†åˆ«æœ€é¢‘ç¹çš„é”™è¯¯ç±»å‹ï¼Œä¼˜å…ˆä¿®å¤ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">8. <code>journalctl</code> â€”â€” æŸ¥çœ‹ systemd æœåŠ¡æ—¥å¿—ï¼ˆç°ä»£ Linuxï¼‰</h3>
<p>è‹¥åº”ç”¨ä»¥ systemd æœåŠ¡è¿è¡Œï¼ˆå¦‚ <code>myapp.service</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span>
journalctl -u myapp.service

<span class="hljs-comment"># å®æ—¶è·Ÿè¸ª</span>
journalctl -u myapp.service -f

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ 1 å°æ—¶æ—¥å¿—</span>
journalctl -u myapp.service --since <span class="hljs-string">"1 hour ago"</span>
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®¹å™¨å¤–éƒ¨ç½²çš„ Java/Go æœåŠ¡ï¼Œä½¿ç”¨ systemd ç®¡ç†ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">9. <code>zgrep</code> / <code>zcat</code> â€”â€” æŸ¥è¯¢å‹ç¼©æ—¥å¿—</h3>
<p>å†å²æ—¥å¿—å¸¸è¢« gzip å‹ç¼©ï¼ˆå¦‚ <code>app.log.1.gz</code>ï¼‰ï¼Œæ— éœ€è§£å‹å³å¯æœç´¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥æœç´¢å‹ç¼©æ—¥å¿—</span>
zgrep <span class="hljs-string">"Timeout"</span> app.log.1.gz

<span class="hljs-comment"># æŸ¥çœ‹å‹ç¼©æ—¥å¿—å†…å®¹</span>
zcat app.log.1.gz | <span class="hljs-built_in">head</span> -20
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ’æŸ¥æ˜¨å¤©æˆ–ä¸Šå‘¨çš„é—®é¢˜ï¼Œæ—¥å¿—å·²è¢« logrotate å‹ç¼©ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">10. <code>lsof</code> + <code>ps</code> â€”â€” è¾…åŠ©å®šä½è¿›ç¨‹ä¸æ–‡ä»¶å…³ç³»</h3>
<p>å½“ä¸ç¡®å®šæ—¥å¿—å±äºå“ªä¸ªè¿›ç¨‹æ—¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æŸæ—¥å¿—æ–‡ä»¶è¢«å“ªäº›è¿›ç¨‹æ‰“å¼€</span>
lsof /var/log/myapp.log

<span class="hljs-comment"># æ ¹æ® PID æŸ¥è¿›ç¨‹è¯¦æƒ…</span>
ps -p 12345 -f
</code></pre>
<blockquote>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤šå®ä¾‹éƒ¨ç½²ï¼Œç¡®è®¤æ—¥å¿—æ¥æºï¼›æ’æŸ¥æ–‡ä»¶å¥æŸ„æ³„æ¼ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">å®æˆ˜ç»„åˆç¤ºä¾‹</h3>
<p><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·åé¦ˆâ€œè®¢å•æäº¤å¤±è´¥â€ï¼Œéœ€æŸ¥æ‰¾ç›¸å…³é”™è¯¯ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># 1. å®æ—¶ç›‘æ§æ—¥å¿—</span>
tail -f /var/<span class="hljs-keyword">log</span>/order-service.log | <span class="hljs-keyword">grep</span> <span class="hljs-string">"OrderSubmit"</span>

<span class="hljs-comment"># 2. å‘ç°å¼‚å¸¸åï¼Œç»Ÿè®¡è¿‘ 1 å°æ—¶å†…è¯¥é”™è¯¯æ¬¡æ•°</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"OrderSubmit failed"</span> /var/<span class="hljs-keyword">log</span>/order-service.log | wc -l

<span class="hljs-comment"># 3. æå–å¤±è´¥ç”¨æˆ·çš„ ID å¹¶å»é‡</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"OrderSubmit failed"</span> /var/<span class="hljs-keyword">log</span>/order-service.log | awk <span class="hljs-string">'{print $5}'</span> | <span class="hljs-keyword">sort</span> -u
</code></pre>
<hr/>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>çº¿ä¸Šæ’éšœäº‰åˆ†å¤ºç§’ï¼Œç†Ÿç»ƒæŒæ¡è¿™äº› Linux æ—¥å¿—å‘½ä»¤ï¼Œèƒ½æå¤§æå‡ä½ çš„ Debug æ•ˆç‡ã€‚è®°ä½ï¼š</p>
<ul>
<li><strong><code>tail -f</code> + <code>grep</code></strong> æ˜¯é»„é‡‘ç»„åˆï¼›</li>
<li><strong><code>awk</code>/<code>sort</code>/<code>uniq</code></strong> ç”¨äºæ·±åº¦åˆ†æï¼›</li>
<li><strong>ä¸è¦å¿½ç•¥å‹ç¼©æ—¥å¿—å’Œ systemd æ—¥å¿—</strong>ï¼›</li>
<li><strong>ç»„åˆä½¿ç”¨ &gt; å•ç‹¬ä½¿ç”¨</strong>ã€‚</li>
</ul>
<p>æŠŠè¿™äº›å‘½ä»¤åŠ å…¥ä½ çš„â€œçº¿ä¸Šæ€¥æ•‘åŒ…â€ï¼Œä¸‹æ¬¡çº¿ä¸Šå‘Šè­¦å“èµ·æ—¶ï¼Œä½ å°±èƒ½å†·é™åº”å¯¹ï¼Œå¿«é€Ÿæ¢å¤æœåŠ¡ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨å‘é‡å¼•æ“é‡æ„ä½ çš„AIå·¥å…·ç®±ï¼šä»æ‰‹æ“OpenClawåˆ°æå®šGPT-5.3çš„å…¨æ ˆå®æˆ˜]]></title>    <link>https://juejin.cn/post/7605941424543121450</link>    <guid>https://juejin.cn/post/7605941424543121450</guid>    <pubDate>2026-02-13T08:07:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605941424543121450" data-draft-id="7605807405308182591" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨å‘é‡å¼•æ“é‡æ„ä½ çš„AIå·¥å…·ç®±ï¼šä»æ‰‹æ“OpenClawåˆ°æå®šGPT-5.3çš„å…¨æ ˆå®æˆ˜"/> <meta itemprop="keywords" content="API"/> <meta itemprop="datePublished" content="2026-02-13T08:07:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘é‡å¼•æ“"/> <meta itemprop="url" content="https://juejin.cn/user/4250051439237593"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨å‘é‡å¼•æ“é‡æ„ä½ çš„AIå·¥å…·ç®±ï¼šä»æ‰‹æ“OpenClawåˆ°æå®šGPT-5.3çš„å…¨æ ˆå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4250051439237593/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘é‡å¼•æ“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:07:56.000Z" title="Fri Feb 13 2026 08:07:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨å‘é‡å¼•æ“é‡æ„ä½ çš„AIå·¥å…·ç®±ï¼šä»æ‰‹æ“OpenClawåˆ°æå®šGPT-5.3çš„å…¨æ ˆå®æˆ˜</h2>
<blockquote>
<p>ä¸Šä¸ªæœˆæˆ‘çš„OpenClawæœºå™¨äººå› ä¸ºé¢‘ç¹çš„APIè¶…æ—¶å’Œæ¨¡å‹åˆ‡æ¢é—®é¢˜å·®ç‚¹å´©æºƒï¼Œç›´åˆ°æˆ‘æŠŠæ‰€æœ‰AIè°ƒç”¨ç»Ÿä¸€åˆ°ä¸€ä¸ªåœ°æ–¹â€”â€”ç°åœ¨å®ƒç¨³å®šå¾—åƒæ¢äº†é¢—å¿ƒè„ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€å‡Œæ™¨3ç‚¹çš„å´©æºƒï¼šå½“æˆ‘çš„AIåº”ç”¨è¾¾åˆ°ä¸´ç•Œç‚¹</h3>
<p>é‚£å¤©å‡Œæ™¨3ç‚¹ï¼Œæˆ‘è¢«è¿ç»­ä¸æ–­çš„æŠ¥è­¦çŸ­ä¿¡åµé†’ã€‚</p>
<p>æˆ‘çš„AIå®¢æœç³»ç»Ÿâ€”â€”é‚£ä¸ªåŸºäºOpenClawæ­å»ºã€å·ç§°èƒ½å¤„ç†â€œä¸€åˆ‡ç”¨æˆ·å’¨è¯¢â€çš„æ™ºèƒ½åŠ©æ‰‹â€”â€”åœ¨æµé‡é«˜å³°æ—¶æ®µå½»åº•å´©æºƒäº†ã€‚ç›‘æ§é¢æ¿ä¸Šä¸€ç‰‡é£˜çº¢ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[ERROR]</span> OpenAI API timeout after <span class="hljs-number">30s</span>
<span class="hljs-selector-attr">[ERROR]</span> Claude API quota exceeded
<span class="hljs-selector-attr">[ERROR]</span> Network connection failed <span class="hljs-selector-tag">to</span> Kimi
</code></pre>
<p>æˆ‘èŠ±äº†æ•´æ•´4ä¸ªå°æ—¶æ‰è®©ç³»ç»Ÿå‹‰å¼ºæ¢å¤ã€‚é‚£æ™šæˆ‘æ„è¯†åˆ°ä¸€ä¸ªæ®‹é…·çš„ç°å®ï¼š<strong>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬èŠ±è´¹äº†90%çš„æ—¶é—´åœ¨â€œè®©AIèƒ½ç”¨â€è¿™ä»¶äº‹ä¸Šï¼Œè€Œä¸æ˜¯â€œè®©AIå¥½ç”¨â€</strong>ã€‚</p>
<p>è¿™ä¸æ˜¯ä¸ªä¾‹ã€‚åœ¨è¿‡å»ä¸‰ä¸ªæœˆé‡Œï¼Œæˆ‘å’Œèº«è¾¹çš„å‰ç«¯ã€å…¨æ ˆå¼€å‘è€…ä»¬èŠè¿‡ï¼Œå‘ç°å¤§å®¶éƒ½è¢«åŒæ ·çš„é—®é¢˜å›°æ‰°ï¼š</p>
<ul>
<li>ä¸ºäº†ç”¨ä¸Š<strong>GPT-5.3-codex</strong>å†™ä¸šåŠ¡é€»è¾‘ï¼Œå¾—å•ç‹¬ç»´æŠ¤ä¸€å¥—OpenAIçš„SDK</li>
<li>æƒ³æ¥å…¥<strong>Claude-opus-4-6</strong>å¤„ç†å¤æ‚å¯¹è¯ï¼Œåˆå¾—é‡æ–°é€‚é…Anthropicçš„æ¥å£è§„èŒƒ</li>
<li>å½“éœ€è¦<strong>Gemini-3-pro-preview</strong>åšå›¾åƒåˆ†ææ—¶ï¼ŒGoogleçš„APIæ–‡æ¡£çœ‹å¾—äººå¤´å¤§</li>
<li>å¥½ä¸å®¹æ˜“å…¨éƒ¨æ¥å…¥äº†ï¼Œç½‘ç»œæ³¢åŠ¨ã€é¢åº¦ä¸è¶³ã€å“åº”è¶…æ—¶â€¦é—®é¢˜æ¥è¸µè€Œè‡³</li>
</ul>
<p>æ›´è®©äººå´©æºƒçš„æ˜¯é¢„ç®—ç®¡ç†ï¼šOpenAIçš„ä½™é¢æœˆåº•æ¸…é›¶ï¼ŒClaudeçš„é¢åº¦ç”¨ä¸å®Œæµªè´¹ï¼Œå¤šä¸ªå¹³å°çš„è´¦å•å¯¹æ¥åˆ°æ€€ç–‘äººç”Ÿã€‚</p>
<p>æˆ‘ä»¬å›¢é˜Ÿæ›¾åšè¿‡ç»Ÿè®¡ï¼šä¸€ä¸ªä¸­ç­‰å¤æ‚åº¦çš„AIåº”ç”¨ï¼ˆå«å¯¹è¯ã€ä»£ç ç”Ÿæˆã€å›¾åƒå¤„ç†ï¼‰ï¼Œå¼€å‘è€…éœ€è¦ï¼š</p>
<ol>
<li>å¯¹æ¥3-4ä¸ªä¸åŒå‚å•†çš„API</li>
<li>ç¼–å†™500+è¡Œçš„é€‚é…å±‚ä»£ç </li>
<li>æ­å»ºè´Ÿè½½å‡è¡¡å’Œé‡è¯•æœºåˆ¶</li>
<li>æ¯æœˆèŠ±2-3å¤©æ—¶é—´å¤„ç†è´¦å•å’Œé…é¢</li>
</ol>
<p><strong>è¿™åˆç†å—ï¼Ÿå½“æˆ‘ä»¬è°ˆè®ºâ€œå…¨æ ˆå¼€å‘â€æ—¶ï¼Œéš¾é“è¿˜åŒ…æ‹¬â€œå…¨æ ˆè¿ç»´AIåŸºç¡€è®¾æ–½â€å—ï¼Ÿ</strong></p>
<h3 data-id="heading-2">äºŒã€å‘é‡å¼•æ“æ˜¯ä»€ä¹ˆï¼šç»™å¼€å‘è€…çš„â€œAIç»Ÿä¸€æ¥å…¥å±‚â€</h3>
<p>è®©æˆ‘ç”¨ä¸€ä¸ªå‰ç«¯å¼€å‘è€…ç†Ÿæ‚‰çš„ç±»æ¯”æ¥è§£é‡Šã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬å†™å‰ç«¯ï¼Œè¦è€ƒè™‘ä¸åŒæµè§ˆå™¨çš„å…¼å®¹æ€§ï¼šIEä¸€å¥—å†™æ³•ï¼ŒChromeä¸€å¥—å†™æ³•ï¼ŒFirefoxåˆæ˜¯å¦ä¸€å¥—å†™æ³•ã€‚ç›´åˆ°å‡ºç°äº†jQueryè¿™æ ·çš„åº“ï¼Œå®ƒå°è£…äº†æ‰€æœ‰æµè§ˆå™¨çš„å·®å¼‚ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨ç»Ÿä¸€çš„APIæ“ä½œDOMã€‚</p>
<p>ç°åœ¨çš„AIå¼€å‘ç°çŠ¶ï¼Œå°±åƒ2005å¹´çš„å‰ç«¯å¼€å‘â€”â€”æ¯ä¸ªå‚å•†éƒ½æœ‰è‡ªå·±çš„â€œæ–¹è¨€â€ï¼Œæ¯ä¸ªæ¨¡å‹éƒ½æœ‰è‡ªå·±çš„â€œè„¾æ°”â€ã€‚</p>
<p><strong>å‘é‡å¼•æ“ï¼Œå°±æ˜¯è¿™ä¸ªAIæ—¶ä»£çš„â€œjQueryâ€</strong>ã€‚</p>
<p><strong>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.vectorengine.ai%2Fregister%3Faff%3DI4uc" target="_blank" title="https://api.vectorengine.ai/register?aff=I4uc" ref="nofollow noopener noreferrer">api.vectorengine.ai/register?afâ€¦</a></strong></p>
<p>ä¸è¿‡å®ƒæ›´å¼ºå¤§ï¼Œå› ä¸ºå®ƒä¸ä»…ç»Ÿä¸€äº†APIè°ƒç”¨æ–¹å¼ï¼Œè¿˜è§£å†³äº†æ›´æ·±å±‚çš„é—®é¢˜ï¼š</p>
<h4 data-id="heading-3">2.1 ç½‘ç»œå±‚çš„é™ç»´æ‰“å‡»ï¼šCN2ä¸“çº¿+æ™ºèƒ½è·¯ç”±</h4>
<p>å…ˆçœ‹ä¸€ä¸ªçœŸå®çš„å¯¹æ¯”æµ‹è¯•ã€‚æˆ‘ä»¬åœ¨ç›¸åŒä»£ç é€»è¾‘ä¸‹ï¼Œåˆ†åˆ«ç›´è¿OpenAIå®˜æ–¹æ¥å£å’Œé€šè¿‡å‘é‡å¼•æ“è°ƒç”¨GPT-5.2-proï¼Œè¿›è¡Œ1000æ¬¡è¿ç»­è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµ‹è¯•ä»£ç ç¤ºä¾‹ - å“åº”æ—¶é—´å¯¹æ¯”</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">testLatency</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">endpoint, model</span>) =&gt; {
  <span class="hljs-keyword">const</span> latencies = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(endpoint, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${apiKey}</span>`</span>,
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        <span class="hljs-attr">model</span>: model,
        <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello'</span> }]
      })
    });
  
    <span class="hljs-keyword">const</span> latency = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start;
    latencies.<span class="hljs-title function_">push</span>(latency);
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">avg</span>: latencies.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b) / latencies.<span class="hljs-property">length</span>,
    <span class="hljs-attr">p95</span>: latencies.<span class="hljs-title function_">sort</span>()[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(latencies.<span class="hljs-property">length</span> * <span class="hljs-number">0.95</span>)]
  };
};

<span class="hljs-comment">// æµ‹è¯•ç»“æœå¯¹æ¯”</span>
<span class="hljs-keyword">const</span> results = {
  <span class="hljs-string">'å®˜æ–¹æ¥å£'</span>: { <span class="hljs-attr">avg</span>: <span class="hljs-number">2450</span>, <span class="hljs-attr">p95</span>: <span class="hljs-number">5200</span> },  <span class="hljs-comment">// å¹³å‡2.45ç§’ï¼Œ95åˆ†ä½5.2ç§’</span>
  <span class="hljs-string">'å‘é‡å¼•æ“'</span>: { <span class="hljs-attr">avg</span>: <span class="hljs-number">1320</span>, <span class="hljs-attr">p95</span>: <span class="hljs-number">1850</span> }   <span class="hljs-comment">// å¹³å‡1.32ç§’ï¼Œ95åˆ†ä½1.85ç§’</span>
};
</code></pre>
<p><strong>é€Ÿåº¦æå‡äº†è¿‘ä¸€å€ï¼Œç¨³å®šæ€§æå‡äº†ä¸¤å€ä»¥ä¸Š</strong>ã€‚è¿™èƒŒåçš„æŠ€æœ¯åŸç†å¾ˆç®€å•ä½†å¾ˆæœ‰æ•ˆï¼š</p>
<ol>
<li><strong>å…¨çƒCN2èŠ‚ç‚¹éƒ¨ç½²</strong>ï¼šå‘é‡å¼•æ“åœ¨åŒ—ç¾ã€æ¬§æ´²ã€äºšæ´²éƒ¨ç½²äº†7ä¸ªCN2é«˜é€Ÿæ¥å…¥ç‚¹</li>
<li><strong>æ™ºèƒ½è·¯ç”±é€‰æ‹©</strong>ï¼šæ ¹æ®ä½ çš„è¯·æ±‚ä½ç½®è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çº¿è·¯</li>
<li><strong>è¿æ¥æ± å¤ç”¨</strong>ï¼šé•¿è¿æ¥å¤ç”¨å‡å°‘TCPæ¡æ‰‹å¼€é”€</li>
</ol>
<p>ç”¨è¿ç»´çš„è§†è§’çœ‹ï¼Œè¿™å°±æ˜¯æŠŠåŸæœ¬éœ€è¦è‡ªå·±æ­å»ºçš„å…¨çƒCDNå’Œè´Ÿè½½å‡è¡¡å™¨ï¼Œåšæˆäº†å¼€ç®±å³ç”¨çš„æœåŠ¡ã€‚</p>
<h4 data-id="heading-4">2.2 æˆæœ¬å±‚çš„ç²¾æ‰“ç»†ç®—ï¼šæŒ‰tokenä»˜è´¹+ä½™é¢æ°¸ä¸è¿‡æœŸ</h4>
<p>ä½œä¸ºç‹¬ç«‹å¼€å‘è€…å’Œå°å›¢é˜Ÿï¼Œæˆ‘ä»¬å¯¹æˆæœ¬æ•æ„Ÿå¾—å¯æ€•ã€‚å…ˆçœ‹ä¸€ä¸ªçœŸå®åœºæ™¯ï¼š</p>
<p>å‡è®¾ä½ çš„åº”ç”¨éœ€è¦è¿™äº›èƒ½åŠ›ï¼š</p>
<ul>
<li>GPT-5.2-proï¼šä»£ç ç”Ÿæˆå’Œå®¡æŸ¥ï¼ˆæ¯æœˆçº¦200ä¸‡tokensï¼‰</li>
<li>Claude-opus-4-6ï¼šå¤æ‚é€»è¾‘å¤„ç†ï¼ˆæ¯æœˆçº¦100ä¸‡tokensï¼‰</li>
<li>Kimi-k2.5ï¼šé•¿æ–‡æ¡£åˆ†æï¼ˆæ¯æœˆçº¦50ä¸‡tokensï¼‰</li>
</ul>
<p>å¦‚æœåˆ†åˆ«è´­ä¹°å®˜æ–¹å¥—é¤ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å„å¹³å°ç‹¬ç«‹è´­ä¹°çš„æˆæœ¬è®¡ç®—</span>
<span class="hljs-keyword">const</span> platformCosts = {
  <span class="hljs-string">'OpenAI'</span>: {
    <span class="hljs-attr">plan</span>: <span class="hljs-string">'GPT-5.2-proå¥—é¤'</span>,
    <span class="hljs-attr">price</span>: <span class="hljs-string">'$100/æœˆ'</span>,
    <span class="hljs-attr">tokens</span>: <span class="hljs-string">'200ä¸‡'</span>,
    <span class="hljs-attr">overage</span>: <span class="hljs-string">'$0.03/åƒtoken'</span>
  },
  <span class="hljs-string">'Anthropic'</span>: {
    <span class="hljs-attr">plan</span>: <span class="hljs-string">'Claude Teamå¥—é¤'</span>, 
    <span class="hljs-attr">price</span>: <span class="hljs-string">'$90/æœˆ'</span>,
    <span class="hljs-attr">tokens</span>: <span class="hljs-string">'100ä¸‡'</span>,
    <span class="hljs-attr">overage</span>: <span class="hljs-string">'$0.11/åƒtoken'</span>
  },
  <span class="hljs-string">'Kimi'</span>: {
    <span class="hljs-attr">plan</span>: <span class="hljs-string">'é«˜çº§ç‰ˆ'</span>,
    <span class="hljs-attr">price</span>: <span class="hljs-string">'$30/æœˆ'</span>,
    <span class="hljs-attr">tokens</span>: <span class="hljs-string">'50ä¸‡'</span>,
    <span class="hljs-attr">unused</span>: <span class="hljs-string">'ç”¨ä¸å®Œçš„é¢åº¦æœˆåº•æ¸…é›¶'</span>
  }
};

<span class="hljs-comment">// æ€»æˆæœ¬ï¼š$220/æœˆï¼Œä¸”å­˜åœ¨æµªè´¹</span>
</code></pre>
<p>ç°åœ¨çœ‹å‘é‡å¼•æ“çš„æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‘é‡å¼•æ“ç»Ÿä¸€è®¡è´¹</span>
<span class="hljs-keyword">const</span> vectorEngineCost = {
  <span class="hljs-attr">totalTokens</span>: <span class="hljs-number">3500000</span>, <span class="hljs-comment">// 350ä¸‡tokens</span>
  <span class="hljs-attr">unitPrice</span>: <span class="hljs-string">'$0.015/åƒtoken'</span>, <span class="hljs-comment">// å¹³å‡å•ä»·</span>
  <span class="hljs-attr">estimatedCost</span>: <span class="hljs-string">'$52.5/æœˆ'</span>,
  <span class="hljs-attr">features</span>: [
    <span class="hljs-string">'ä½™é¢æ°¸ä¸è¿‡æœŸ'</span>,
    <span class="hljs-string">'æŒ‰å®é™…ç”¨é‡ä»˜è´¹'</span>,
    <span class="hljs-string">'æ”¯æŒæ‰€æœ‰æ¨¡å‹ç»Ÿä¸€è®¡è´¹'</span>
  ]
};
</code></pre>
<p><strong>æˆæœ¬ç›´æ¥é™ä½äº†76%</strong>ï¼Œè¿™è¿˜æ²¡ç®—ä¸Šä½ çœä¸‹çš„è¿ç»´æ—¶é—´å’Œå¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯â€œä½™é¢æ°¸ä¸è¿‡æœŸâ€è¿™ä¸ªç‰¹æ€§ã€‚åšè¿‡æµ·å¤–AIå¼€å‘çš„æœ‹å‹éƒ½çŸ¥é“ï¼ŒOpenAIçš„ä½™é¢å°±åƒâ€œæœˆæœ«æ¸…é›¶çš„é¥­å¡â€â€”â€”ç”¨ä¸å®Œå°±æµªè´¹ï¼Œæƒ³å¤šç”¨è¿˜å¾—ç­‰ä¸‹ä¸€ä¸ªå‘¨æœŸã€‚</p>
<h3 data-id="heading-5">ä¸‰ã€å®æˆ˜å¼€å§‹ï¼š3åˆ†é’Ÿä»é›¶æ¥å…¥å‘é‡å¼•æ“</h3>
<p>ç†è®ºè¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬æ¥ç‚¹å®é™…çš„ã€‚ä¸‹é¢æˆ‘å°†ç”¨ä¸‰ä¸ªæœ€å¸¸è§çš„å¼€å‘åœºæ™¯ï¼Œå±•ç¤ºå¦‚ä½•å¿«é€Ÿæ¥å…¥ã€‚</p>
<h4 data-id="heading-6">3.1 åœºæ™¯ä¸€ï¼šåœ¨Next.jså…¨æ ˆé¡¹ç›®ä¸­å¿«é€Ÿé›†æˆ</h4>
<p>å‡è®¾ä½ æ­£åœ¨ç”¨Next.js 14 + TypeScriptå¼€å‘ä¸€ä¸ªAIæ–‡æ¡£åŠ©æ‰‹ï¼Œéœ€è¦åŒæ—¶è°ƒç”¨å¤šä¸ªæ¨¡å‹ã€‚</p>
<p><strong>æ­¥éª¤1ï¼šå®‰è£…å’Œé…ç½®</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…å¿…è¦çš„ä¾èµ–</span>
npm install openai @ai-sdk/openai
</code></pre>
<p>åˆ›å»º <code>lib/vector-engine.ts</code> é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createOpenAI } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ai-sdk/openai'</span>;

<span class="hljs-comment">// é…ç½®å‘é‡å¼•æ“ - æ›¿æ¢ä½ çš„APIå¯†é’¥</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> vectorEngine = <span class="hljs-title function_">createOpenAI</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.vectorengine.ai/v1'</span>,
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VECTOR_ENGINE_API_KEY</span>!, <span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡è¯»å–</span>
  <span class="hljs-attr">compatibility</span>: <span class="hljs-string">'strict'</span> <span class="hljs-comment">// ä¸¥æ ¼å…¼å®¹OpenAIæ ¼å¼</span>
});

<span class="hljs-comment">// æ¨¡å‹æ˜ å°„é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MODEL_CONFIG</span> = {
  <span class="hljs-comment">// ä»£ç ç›¸å…³ä»»åŠ¡ä½¿ç”¨GPT-5.3-codex</span>
  <span class="hljs-attr">CODE_GENERATION</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,

  <span class="hljs-comment">// å¤æ‚æ¨ç†ä½¿ç”¨Claude</span>
  <span class="hljs-attr">COMPLEX_REASONING</span>: <span class="hljs-string">'claude-3-opus'</span>,

  <span class="hljs-comment">// é•¿æ–‡æ¡£å¤„ç†ç”¨Kimi</span>
  <span class="hljs-attr">LONG_CONTEXT</span>: <span class="hljs-string">'kimi-k2.5'</span>,

  <span class="hljs-comment">// å›¾åƒåˆ†æç”¨Gemini</span>
  <span class="hljs-attr">VISION</span>: <span class="hljs-string">'gemini-3-pro-image-preview'</span>
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºç»Ÿä¸€çš„AIæœåŠ¡å±‚</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// services/ai-service.ts</span>
<span class="hljs-keyword">import</span> { vectorEngine, <span class="hljs-variable constant_">MODEL_CONFIG</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/lib/vector-engine'</span>;
<span class="hljs-keyword">import</span> { streamText } <span class="hljs-keyword">from</span> <span class="hljs-string">'ai'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AIService</span> {
  <span class="hljs-comment">// 1. ä»£ç ç”ŸæˆæœåŠ¡</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateCode</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">string</span>, context?: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> vectorEngine.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-variable constant_">MODEL_CONFIG</span>.<span class="hljs-property">CODE_GENERATION</span>,
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæ“…é•¿Reactã€Next.jså’ŒTypeScriptã€‚'</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: context ? <span class="hljs-string">`<span class="hljs-subst">${context}</span>\n\n<span class="hljs-subst">${prompt}</span>`</span> : prompt
        }
      ],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.2</span>, <span class="hljs-comment">// ä½éšæœºæ€§ä¿è¯ä»£ç è´¨é‡</span>
      <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">4000</span>
    });
  
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>;
  }

  <span class="hljs-comment">// 2. æµå¼å“åº”ï¼ˆé€‚åˆèŠå¤©åœºæ™¯ï¼‰</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">streamChat</span>(<span class="hljs-params">messages: <span class="hljs-built_in">Array</span>&lt;{role: <span class="hljs-built_in">string</span>, content: <span class="hljs-built_in">string</span>}&gt;</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">streamText</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-title function_">vectorEngine</span>(<span class="hljs-variable constant_">MODEL_CONFIG</span>.<span class="hljs-property">COMPLEX_REASONING</span>),
      messages
    });
  }

  <span class="hljs-comment">// 3. æ‰¹é‡å¤„ç†å¤šä¸ªä»»åŠ¡</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">batchProcess</span>(<span class="hljs-params">tasks: <span class="hljs-built_in">Array</span>&lt;{<span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>, prompt: <span class="hljs-built_in">string</span>}&gt;</span>) {
    <span class="hljs-keyword">const</span> promises = tasks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> {
      <span class="hljs-keyword">switch</span>(task.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'code'</span>:
          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateCode</span>(task.<span class="hljs-property">prompt</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'analysis'</span>:
          <span class="hljs-keyword">return</span> vectorEngine.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
            <span class="hljs-attr">model</span>: <span class="hljs-variable constant_">MODEL_CONFIG</span>.<span class="hljs-property">COMPLEX_REASONING</span>,
            <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: task.<span class="hljs-property">prompt</span> }]
          });
        <span class="hljs-attr">default</span>:
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>);
      }
    });
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
  }
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šåœ¨APIè·¯ç”±ä¸­ä½¿ç”¨</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// app/api/code/route.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextRequest</span>, <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AIService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/services/ai-service'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">request: NextRequest</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { prompt, context } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();
    <span class="hljs-keyword">const</span> aiService = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AIService</span>();
  
    <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> aiService.<span class="hljs-title function_">generateCode</span>(prompt, context);
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">json</span>({ 
      <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, 
      code,
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>
    });
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä»£ç ç”Ÿæˆå¤±è´¥:'</span>, error);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">json</span>(
      { <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: <span class="hljs-string">'ç”Ÿæˆå¤±è´¥'</span> },
      { <span class="hljs-attr">status</span>: <span class="hljs-number">500</span> }
    );
  }
}
</code></pre>
<h4 data-id="heading-7">3.2 åœºæ™¯äºŒï¼šOpenClaw Clawdbotæ·±åº¦é›†æˆé…ç½®</h4>
<p>æœ€è¿‘OpenClawåœ¨æ˜é‡‘ç¤¾åŒºå¾ˆç«ï¼Œå¾ˆå¤šå¼€å‘è€…ç”¨å®ƒæ­å»ºæ™ºèƒ½å®¢æœã€ä»£ç åŠ©æ‰‹ã€‚ä½†åŸç”Ÿçš„OpenClawé…ç½®ç¹çï¼Œç‰¹åˆ«æ˜¯å¤šæ¨¡å‹åˆ‡æ¢æ—¶ã€‚</p>
<p><strong>å®Œæ•´é…ç½®æ•™ç¨‹å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># config/vector-engine.yaml</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">'1.0'</span>

<span class="hljs-attr">vector_engine:</span>
  <span class="hljs-comment"># åŸºç¡€é…ç½®</span>
  <span class="hljs-attr">base_url:</span> <span class="hljs-string">"https://api.vectorengine.ai/v1"</span>
  <span class="hljs-attr">api_key:</span> <span class="hljs-string">"${VECTOR_ENGINE_API_KEY}"</span>  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è¯»å–</span>

  <span class="hljs-comment"># æ¨¡å‹è·¯ç”±é…ç½®</span>
  <span class="hljs-attr">model_routing:</span>
    <span class="hljs-comment"># é»˜è®¤è·¯ç”±è§„åˆ™</span>
    <span class="hljs-attr">default:</span> <span class="hljs-string">"gpt-5.2"</span>
  
    <span class="hljs-comment"># åŸºäºå†…å®¹ç±»å‹çš„è·¯ç”±</span>
    <span class="hljs-attr">by_content_type:</span>
      <span class="hljs-attr">code:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">pattern:</span> <span class="hljs-string">".*(ä»£ç |ç¼–ç¨‹|å‡½æ•°|ç±»|æ¥å£).*"</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">"gpt-5.3-codex"</span>
          <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.1</span>
          <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">4000</span>
        
      <span class="hljs-attr">analysis:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">pattern:</span> <span class="hljs-string">".*(åˆ†æ|æ€»ç»“|å½’çº³|æ€è€ƒ).*"</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">"claude-3-opus"</span>
          <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.3</span>
          <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">8000</span>
        
      <span class="hljs-attr">document:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">pattern:</span> <span class="hljs-string">".*(æ–‡æ¡£|æ–‡ç« |è®ºæ–‡|é•¿æ–‡æœ¬).*"</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">"kimi-k2.5"</span>
          <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.2</span>
          <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">32000</span>  <span class="hljs-comment"># æ”¯æŒè¶…é•¿ä¸Šä¸‹æ–‡</span>
        
      <span class="hljs-attr">creative:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">pattern:</span> <span class="hljs-string">".*(åˆ›æ„|æ•…äº‹|æ–‡æ¡ˆ|è¥é”€).*"</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">"claude-3-sonnet"</span>
          <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.7</span>
          <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">2000</span>

  <span class="hljs-comment"># é‡è¯•å’Œç†”æ–­é…ç½®</span>
  <span class="hljs-attr">resilience:</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">retry_delay:</span> <span class="hljs-number">1000</span>  <span class="hljs-comment"># æ¯«ç§’</span>
    <span class="hljs-attr">circuit_breaker:</span>
      <span class="hljs-attr">failure_threshold:</span> <span class="hljs-number">5</span>
      <span class="hljs-attr">reset_timeout:</span> <span class="hljs-number">60000</span>
    
  <span class="hljs-comment"># ç›‘æ§å’Œæ—¥å¿—</span>
  <span class="hljs-attr">monitoring:</span>
    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">log_level:</span> <span class="hljs-string">"INFO"</span>
    <span class="hljs-attr">metrics:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">latency</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">token_usage</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">error_rate</span>
</code></pre>
<p><strong>OpenClawæ’ä»¶é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># plugins/vector_engine_plugin.py</span>
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>, <span class="hljs-type">Optional</span>
<span class="hljs-keyword">import</span> yaml
<span class="hljs-keyword">import</span> aiohttp
<span class="hljs-keyword">from</span> openclaw.plugins.base <span class="hljs-keyword">import</span> BasePlugin

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorEnginePlugin</span>(<span class="hljs-title class_ inherited__">BasePlugin</span>):
    <span class="hljs-string">"""å‘é‡å¼•æ“é›†æˆæ’ä»¶"""</span>
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, config_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">"config/vector-engine.yaml"</span></span>):
        self.config = self._load_config(config_path)
        self.session: <span class="hljs-type">Optional</span>[aiohttp.ClientSession] = <span class="hljs-literal">None</span>
        self.model_cache = {}  <span class="hljs-comment"># æ¨¡å‹æ€§èƒ½ç¼“å­˜</span>
      
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆå§‹åŒ–è¿æ¥æ± """</span>
        self.session = aiohttp.ClientSession(
            base_url=self.config[<span class="hljs-string">'vector_engine'</span>][<span class="hljs-string">'base_url'</span>],
            headers={
                <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{self.config[<span class="hljs-string">'vector_engine'</span>][<span class="hljs-string">'api_key'</span>]}</span>"</span>,
                <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
            },
            timeout=aiohttp.ClientTimeout(total=<span class="hljs-number">30</span>)
        )
      
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">route_model</span>(<span class="hljs-params">self, user_input: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
        <span class="hljs-string">"""æ™ºèƒ½è·¯ç”±åˆ°æœ€åˆé€‚çš„æ¨¡å‹"""</span>
        content_type = self._detect_content_type(user_input)
        routing_rules = self.config[<span class="hljs-string">'vector_engine'</span>][<span class="hljs-string">'model_routing'</span>]
      
        <span class="hljs-comment"># 1. æ£€æŸ¥å†…å®¹ç±»å‹åŒ¹é…</span>
        <span class="hljs-keyword">for</span> rule <span class="hljs-keyword">in</span> routing_rules[<span class="hljs-string">'by_content_type'</span>].get(content_type, []):
            <span class="hljs-keyword">if</span> self._pattern_match(rule[<span class="hljs-string">'pattern'</span>], user_input):
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-string">'model'</span>: rule[<span class="hljs-string">'model'</span>],
                    <span class="hljs-string">'params'</span>: {
                        <span class="hljs-string">'temperature'</span>: rule.get(<span class="hljs-string">'temperature'</span>, <span class="hljs-number">0.5</span>),
                        <span class="hljs-string">'max_tokens'</span>: rule.get(<span class="hljs-string">'max_tokens'</span>, <span class="hljs-number">2000</span>)
                    }
                }
      
        <span class="hljs-comment"># 2. ä½¿ç”¨é»˜è®¤æ¨¡å‹</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'model'</span>: routing_rules[<span class="hljs-string">'default'</span>],
            <span class="hljs-string">'params'</span>: {<span class="hljs-string">'temperature'</span>: <span class="hljs-number">0.5</span>, <span class="hljs-string">'max_tokens'</span>: <span class="hljs-number">2000</span>}
        }
  
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_with_fallback</span>(<span class="hljs-params">self, model_config: <span class="hljs-type">Dict</span>, messages: <span class="hljs-type">List</span></span>) -&gt; <span class="hljs-type">Dict</span>:
        <span class="hljs-string">"""å¸¦é™çº§ç­–ç•¥çš„æ¨¡å‹è°ƒç”¨"""</span>
        models_to_try = [
            model_config[<span class="hljs-string">'model'</span>],
            <span class="hljs-string">'gpt-5.2'</span>,  <span class="hljs-comment"># ä¸€çº§é™çº§</span>
            <span class="hljs-string">'claude-3-haiku'</span>,  <span class="hljs-comment"># äºŒçº§é™çº§</span>
        ]
      
        <span class="hljs-keyword">for</span> i, model <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(models_to_try):
            <span class="hljs-keyword">try</span>:
                response = <span class="hljs-keyword">await</span> self._make_request(model, messages, model_config[<span class="hljs-string">'params'</span>])
              
                <span class="hljs-comment"># è®°å½•æ¨¡å‹æ€§èƒ½ï¼ˆç”¨äºåç»­ä¼˜åŒ–ï¼‰</span>
                self.model_cache[model] = {
                    <span class="hljs-string">'success'</span>: <span class="hljs-literal">True</span>,
                    <span class="hljs-string">'latency'</span>: response.get(<span class="hljs-string">'latency'</span>, <span class="hljs-number">0</span>),
                    <span class="hljs-string">'timestamp'</span>: time.time()
                }
              
                <span class="hljs-keyword">return</span> response
              
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-keyword">if</span> i == <span class="hljs-built_in">len</span>(models_to_try) - <span class="hljs-number">1</span>:
                    <span class="hljs-keyword">raise</span>  <span class="hljs-comment"># æ‰€æœ‰æ¨¡å‹éƒ½å¤±è´¥äº†</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¨¡å‹ <span class="hljs-subst">{model}</span> è°ƒç”¨å¤±è´¥ï¼Œå°è¯•é™çº§: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-keyword">continue</span>
  
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_make_request</span>(<span class="hljs-params">self, model: <span class="hljs-built_in">str</span>, messages: <span class="hljs-type">List</span>, params: <span class="hljs-type">Dict</span></span>) -&gt; <span class="hljs-type">Dict</span>:
        <span class="hljs-string">"""å®é™…è¯·æ±‚å‘é‡å¼•æ“"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.session:
            <span class="hljs-keyword">await</span> self.setup()
          
        payload = {
            <span class="hljs-string">'model'</span>: model,
            <span class="hljs-string">'messages'</span>: messages,
            **params
        }
      
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> self.session.post(<span class="hljs-string">'/chat/completions'</span>, json=payload) <span class="hljs-keyword">as</span> response:
            <span class="hljs-keyword">if</span> response.status == <span class="hljs-number">200</span>:
                data = <span class="hljs-keyword">await</span> response.json()
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-string">'content'</span>: data[<span class="hljs-string">'choices'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'message'</span>][<span class="hljs-string">'content'</span>],
                    <span class="hljs-string">'model'</span>: model,
                    <span class="hljs-string">'usage'</span>: data.get(<span class="hljs-string">'usage'</span>, {}),
                    <span class="hljs-string">'latency'</span>: response.elapsed.total_seconds()
                }
            <span class="hljs-keyword">else</span>:
                error_text = <span class="hljs-keyword">await</span> response.text()
                <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">f"APIè¯·æ±‚å¤±è´¥ [<span class="hljs-subst">{response.status}</span>]: <span class="hljs-subst">{error_text}</span>"</span>)
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_detect_content_type</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""ç®€å•çš„å†…å®¹ç±»å‹æ£€æµ‹"""</span>
        text_lower = text.lower()
      
        code_keywords = [<span class="hljs-string">'ä»£ç '</span>, <span class="hljs-string">'ç¼–ç¨‹'</span>, <span class="hljs-string">'å‡½æ•°'</span>, <span class="hljs-string">'ç±»'</span>, <span class="hljs-string">'æ¥å£'</span>, <span class="hljs-string">'å˜é‡'</span>, <span class="hljs-string">'bug'</span>]
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(keyword <span class="hljs-keyword">in</span> text_lower <span class="hljs-keyword">for</span> keyword <span class="hljs-keyword">in</span> code_keywords):
            <span class="hljs-keyword">return</span> <span class="hljs-string">'code'</span>
          
        analysis_keywords = [<span class="hljs-string">'åˆ†æ'</span>, <span class="hljs-string">'æ€»ç»“'</span>, <span class="hljs-string">'å½’çº³'</span>, <span class="hljs-string">'æ€è€ƒ'</span>, <span class="hljs-string">'ä¸ºä»€ä¹ˆ'</span>, <span class="hljs-string">'å¦‚ä½•'</span>]
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(keyword <span class="hljs-keyword">in</span> text_lower <span class="hljs-keyword">for</span> keyword <span class="hljs-keyword">in</span> analysis_keywords):
            <span class="hljs-keyword">return</span> <span class="hljs-string">'analysis'</span>
          
        <span class="hljs-keyword">return</span> <span class="hljs-string">'general'</span>
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_pattern_match</span>(<span class="hljs-params">self, pattern: <span class="hljs-built_in">str</span>, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""ç®€å•çš„æ¨¡å¼åŒ¹é…"""</span>
        <span class="hljs-keyword">import</span> re
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bool</span>(re.search(pattern, text, re.IGNORECASE))
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_config</span>(<span class="hljs-params">self, path: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Dict</span>:
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(path, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
            <span class="hljs-keyword">return</span> yaml.safe_load(f)
</code></pre>
<p><strong>OpenClawæœºå™¨äººé›†æˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># bot/vector_engine_bot.py</span>
<span class="hljs-keyword">from</span> openclaw.bot <span class="hljs-keyword">import</span> Bot
<span class="hljs-keyword">from</span> plugins.vector_engine_plugin <span class="hljs-keyword">import</span> VectorEnginePlugin

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorEngineBot</span>(<span class="hljs-title class_ inherited__">Bot</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__()
        self.ve_plugin = VectorEnginePlugin()
      
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_message</span>(<span class="hljs-params">self, message</span>):
        <span class="hljs-comment"># 1. æ™ºèƒ½è·¯ç”±é€‰æ‹©æ¨¡å‹</span>
        model_config = <span class="hljs-keyword">await</span> self.ve_plugin.route_model(message.content)
      
        <span class="hljs-comment"># 2. æ„å»ºæ¶ˆæ¯å†å²ï¼ˆæ”¯æŒä¸Šä¸‹æ–‡ï¼‰</span>
        messages = self._build_message_history(message)
      
        <span class="hljs-comment"># 3. å¸¦é™çº§ç­–ç•¥çš„è°ƒç”¨</span>
        <span class="hljs-keyword">try</span>:
            response = <span class="hljs-keyword">await</span> self.ve_plugin.call_with_fallback(
                model_config, 
                messages
            )
          
            <span class="hljs-comment"># 4. è®°å½•ä½¿ç”¨æƒ…å†µï¼ˆç”¨äºæˆæœ¬åˆ†æï¼‰</span>
            self._log_usage(
                model=response[<span class="hljs-string">'model'</span>],
                tokens=response[<span class="hljs-string">'usage'</span>].get(<span class="hljs-string">'total_tokens'</span>, <span class="hljs-number">0</span>),
                latency=response[<span class="hljs-string">'latency'</span>]
            )
          
            <span class="hljs-keyword">return</span> response[<span class="hljs-string">'content'</span>]
          
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-comment"># 5. ä¼˜é›…é™çº§åˆ°æœ¬åœ°æ¨¡å‹</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> self._fallback_to_local(message)
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_build_message_history</span>(<span class="hljs-params">self, current_message</span>):
        <span class="hljs-string">"""æ„å»ºå¸¦ä¸Šä¸‹æ–‡çš„æ¶ˆæ¯å†å²"""</span>
        messages = []
      
        <span class="hljs-comment"># æ·»åŠ ä¸Šä¸‹æ–‡æ¶ˆæ¯ï¼ˆæœ€è¿‘5æ¡ï¼‰</span>
        context_messages = self.get_recent_messages(<span class="hljs-number">5</span>)
        <span class="hljs-keyword">for</span> msg <span class="hljs-keyword">in</span> context_messages:
            messages.append({
                <span class="hljs-string">'role'</span>: <span class="hljs-string">'user'</span> <span class="hljs-keyword">if</span> msg.is_user <span class="hljs-keyword">else</span> <span class="hljs-string">'assistant'</span>,
                <span class="hljs-string">'content'</span>: msg.content
            })
      
        <span class="hljs-comment"># æ·»åŠ å½“å‰æ¶ˆæ¯</span>
        messages.append({
            <span class="hljs-string">'role'</span>: <span class="hljs-string">'user'</span>,
            <span class="hljs-string">'content'</span>: current_message.content
        })
      
        <span class="hljs-keyword">return</span> messages
</code></pre>
<p>è¿™ä¸ªé…ç½®å¸¦æ¥çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½è·¯ç”±</strong>ï¼šæ ¹æ®é—®é¢˜ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ¨¡å‹</li>
<li><strong>è‡ªåŠ¨é™çº§</strong>ï¼šå½“é¦–é€‰æ¨¡å‹å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æ¨¡å‹</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šè®°å½•æ¯ä¸ªæ¨¡å‹çš„å“åº”æ—¶é—´å’ŒæˆåŠŸç‡</li>
<li><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼šå°†ç®€å•é—®é¢˜è·¯ç”±åˆ°ä½æˆæœ¬æ¨¡å‹</li>
</ol>
<h4 data-id="heading-8">3.3 åœºæ™¯ä¸‰ï¼šåŸç”ŸJavaScript/TypeScripté¡¹ç›®é›†æˆ</h4>
<p>å¯¹äºä¸ä½¿ç”¨æ¡†æ¶æˆ–ä½¿ç”¨å…¶ä»–æŠ€æœ¯æ ˆçš„å¼€å‘è€…ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªçº¯å‰ç«¯é›†æˆæ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/vector-engine-client.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">VectorEngineConfig</span> {
  <span class="hljs-attr">apiKey</span>: <span class="hljs-built_in">string</span>;
  baseURL?: <span class="hljs-built_in">string</span>;
  defaultModel?: <span class="hljs-built_in">string</span>;
  enableCache?: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ChatCompletion</span> {
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Array</span>&lt;{
    <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span> | <span class="hljs-string">'user'</span> | <span class="hljs-string">'assistant'</span>;
    <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>;
  }&gt;;
  temperature?: <span class="hljs-built_in">number</span>;
  max_tokens?: <span class="hljs-built_in">number</span>;
  stream?: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorEngineClient</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">VectorEngineConfig</span>&gt;;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config: VectorEngineConfig</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = {
      <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.vectorengine.ai/v1'</span>,
      <span class="hljs-attr">defaultModel</span>: <span class="hljs-string">'gpt-5.2'</span>,
      <span class="hljs-attr">enableCache</span>: <span class="hljs-literal">true</span>,
      ...config
    };
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  }

  <span class="hljs-comment">// åŸºç¡€èŠå¤©å®Œæˆæ¥å£</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">chatCompletion</span>(<span class="hljs-params">options: ChatCompletion</span>) {
    <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">enableCache</span> 
      ? <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_generateCacheKey</span>(options)
      : <span class="hljs-literal">null</span>;
  
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (cacheKey &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(cacheKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(cacheKey);
    }
  
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.baseURL}</span>/chat/completions`</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.apiKey}</span>`</span>,
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
        },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
          <span class="hljs-attr">model</span>: options.<span class="hljs-property">model</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">defaultModel</span>,
          <span class="hljs-attr">messages</span>: options.<span class="hljs-property">messages</span>,
          <span class="hljs-attr">temperature</span>: options.<span class="hljs-property">temperature</span> ?? <span class="hljs-number">0.7</span>,
          <span class="hljs-attr">max_tokens</span>: options.<span class="hljs-property">max_tokens</span>,
          <span class="hljs-attr">stream</span>: options.<span class="hljs-property">stream</span> ?? <span class="hljs-literal">false</span>
        })
      });
    
      <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>: <span class="hljs-subst">${<span class="hljs-keyword">await</span> response.text()}</span>`</span>);
      }
    
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    
      <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
      <span class="hljs-keyword">if</span> (cacheKey) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(cacheKey, data);
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆ5åˆ†é’Ÿï¼‰</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(cacheKey), <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
      }
    
      <span class="hljs-keyword">return</span> data;
    
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å‘é‡å¼•æ“è°ƒç”¨å¤±è´¥:'</span>, error);
      <span class="hljs-keyword">throw</span> error;
    }
  }

  <span class="hljs-comment">// æµå¼å“åº”ï¼ˆé€‚åˆå®æ—¶å¯¹è¯ï¼‰</span>
  <span class="hljs-keyword">async</span> *<span class="hljs-title function_">streamChatCompletion</span>(<span class="hljs-params">options: ChatCompletion</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.baseURL}</span>/chat/completions`</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.apiKey}</span>`</span>,
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        ...options,
        <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span>
      })
    });
  
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>`</span>);
    }
  
    <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>?.<span class="hljs-title function_">getReader</span>();
    <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();
  
    <span class="hljs-keyword">if</span> (!reader) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ— æ³•è¯»å–å“åº”æµ'</span>);
    }
  
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
      
        <span class="hljs-keyword">if</span> (done) {
          <span class="hljs-keyword">break</span>;
        }
      
        <span class="hljs-keyword">const</span> chunk = decoder.<span class="hljs-title function_">decode</span>(value);
        <span class="hljs-keyword">const</span> lines = chunk.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> line.<span class="hljs-title function_">trim</span>());
      
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines) {
          <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'data: '</span>)) {
            <span class="hljs-keyword">const</span> data = line.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>);
          
            <span class="hljs-keyword">if</span> (data === <span class="hljs-string">'[DONE]'</span>) {
              <span class="hljs-keyword">return</span>;
            }
          
            <span class="hljs-keyword">try</span> {
              <span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data);
              <span class="hljs-keyword">yield</span> parsed;
            } <span class="hljs-keyword">catch</span> (e) {
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'è§£ææµæ•°æ®å¤±è´¥:'</span>, e);
            }
          }
        }
      }
    } <span class="hljs-keyword">finally</span> {
      reader.<span class="hljs-title function_">releaseLock</span>();
    }
  }

  <span class="hljs-comment">// å¤šæ¨¡å‹æ‰¹é‡å¤„ç†</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">batchProcess</span>(<span class="hljs-params">
    tasks: <span class="hljs-built_in">Array</span>&lt;{
      model: <span class="hljs-built_in">string</span>;
      prompt: <span class="hljs-built_in">string</span>;
      systemPrompt?: <span class="hljs-built_in">string</span>;
    }&gt;
  </span>) {
    <span class="hljs-keyword">const</span> promises = tasks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> messages = [];
    
      <span class="hljs-keyword">if</span> (task.<span class="hljs-property">systemPrompt</span>) {
        messages.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
          <span class="hljs-attr">content</span>: task.<span class="hljs-property">systemPrompt</span>
        });
      }
    
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
        <span class="hljs-attr">content</span>: task.<span class="hljs-property">prompt</span>
      });
    
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">chatCompletion</span>({
        <span class="hljs-attr">model</span>: task.<span class="hljs-property">model</span>,
        messages
      });
    });
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(promises);
  }

  <span class="hljs-comment">// é«˜çº§åŠŸèƒ½ï¼šæ¨¡å‹å¯¹æ¯”æµ‹è¯•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">compareModels</span>(<span class="hljs-params">
    prompt: <span class="hljs-built_in">string</span>,
    models: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'gpt-5.2'</span>, <span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-string">'kimi-k2.5'</span>]
  </span>) {
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">batchProcess</span>(
      models.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">model</span> =&gt;</span> ({
        model,
        prompt,
        <span class="hljs-attr">systemPrompt</span>: <span class="hljs-string">'è¯·ç”¨æœ€å‡†ç¡®çš„æ–¹å¼å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š'</span>
      }))
    );
  
    <span class="hljs-keyword">return</span> results.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">result, index</span>) =&gt;</span> ({
      <span class="hljs-attr">model</span>: models[index],
      <span class="hljs-attr">success</span>: result.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span>,
      <span class="hljs-attr">response</span>: result.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span> 
        ? result.<span class="hljs-property">value</span>.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>
        : result.<span class="hljs-property">reason</span>,
      <span class="hljs-attr">latency</span>: result.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span>
        ? result.<span class="hljs-property">value</span>.<span class="hljs-property">_metadata</span>?.<span class="hljs-property">latency</span>
        : <span class="hljs-literal">null</span>
    }));
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">_generateCacheKey</span>(<span class="hljs-attr">options</span>: <span class="hljs-title class_">ChatCompletion</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-comment">// ç®€å•çš„ç¼“å­˜é”®ç”Ÿæˆ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${options.model}</span>:<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(options.messages)}</span>:<span class="hljs-subst">${options.temperature}</span>`</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testVectorEngine</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VectorEngineClient</span>({
    <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VECTOR_ENGINE_API_KEY</span>!
  });

  <span class="hljs-comment">// 1. æ™®é€šè°ƒç”¨</span>
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">chatCompletion</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,
    <span class="hljs-attr">messages</span>: [
      {
        <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªTypeScriptä¸“å®¶'</span>
      },
      {
        <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'å®ç°ä¸€ä¸ªå®‰å…¨çš„æœ¬åœ°å­˜å‚¨å°è£…ï¼ŒåŒ…å«è¿‡æœŸæ—¶é—´å’ŒåŠ å¯†'</span>
      }
    ],
    <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.2</span>
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»£ç ç”Ÿæˆç»“æœ:'</span>, response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);

  <span class="hljs-comment">// 2. æµå¼å“åº”</span>
  <span class="hljs-keyword">const</span> stream = client.<span class="hljs-title function_">streamChatCompletion</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>,
    <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'è§£é‡Šé‡å­è®¡ç®—çš„åŸºæœ¬åŸç†'</span> }]
  });

  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> stream) {
    <span class="hljs-keyword">const</span> content = chunk.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>]?.<span class="hljs-property">delta</span>?.<span class="hljs-property">content</span> || <span class="hljs-string">''</span>;
    process.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">write</span>(content);
  }

  <span class="hljs-comment">// 3. æ¨¡å‹å¯¹æ¯”</span>
  <span class="hljs-keyword">const</span> comparison = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">compareModels</span>(
    <span class="hljs-string">'ä»€ä¹ˆæ˜¯React Server Componentsï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ'</span>,
    [<span class="hljs-string">'gpt-5.2'</span>, <span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-string">'gemini-3-pro-preview'</span>]
  );

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n\næ¨¡å‹å¯¹æ¯”ç»“æœ:'</span>);
  comparison.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`\n<span class="hljs-subst">${result.model}</span>:`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  æˆåŠŸ: <span class="hljs-subst">${result.success}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  å“åº”: <span class="hljs-subst">${result.response?.slice(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)}</span>...`</span>);
  });
}
</code></pre>
<p>è¿™ä¸ªå®¢æˆ·ç«¯åº“çš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>å®Œæ•´çš„TypeScriptæ”¯æŒ</strong>ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰å’Œé”™è¯¯å¤„ç†</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šè‡ªåŠ¨ç¼“å­˜ç›¸åŒè¯·æ±‚ï¼Œå‡å°‘tokenæ¶ˆè€—</li>
<li><strong>æµå¼å“åº”</strong>ï¼šæ”¯æŒå®æ—¶å¯¹è¯åœºæ™¯</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šåŒæ—¶è°ƒç”¨å¤šä¸ªæ¨¡å‹è¿›è¡Œå¯¹æ¯”</li>
<li><strong>é”™è¯¯æ¢å¤</strong>ï¼šå†…ç½®é‡è¯•å’Œé™çº§é€»è¾‘</li>
</ol>
<h3 data-id="heading-9">å››ã€é«˜çº§åŠŸèƒ½ï¼šè¶…è¶ŠåŸºç¡€è°ƒç”¨çš„å®æˆ˜æŠ€å·§</h3>
<h4 data-id="heading-10">4.1 å®ç°æ™ºèƒ½çš„æ¨¡å‹è·¯ç”±ç­–ç•¥</h4>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„ä»»åŠ¡åº”è¯¥ç”±æœ€åˆé€‚çš„æ¨¡å‹å¤„ç†ã€‚è¿™é‡Œå®ç°ä¸€ä¸ªæ™ºèƒ½è·¯ç”±å™¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/model-router.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ModelCapability</span> {
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">capabilities</span>: {
    <span class="hljs-attr">codeGeneration</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// 0-10åˆ†</span>
    <span class="hljs-attr">reasoning</span>: <span class="hljs-built_in">number</span>;           <span class="hljs-comment">// 0-10åˆ†</span>
    <span class="hljs-attr">creativity</span>: <span class="hljs-built_in">number</span>;          <span class="hljs-comment">// 0-10åˆ†</span>
    <span class="hljs-attr">longContext</span>: <span class="hljs-built_in">number</span>;         <span class="hljs-comment">// 0-10åˆ†</span>
    <span class="hljs-attr">vision</span>: <span class="hljs-built_in">number</span>;             <span class="hljs-comment">// 0-10åˆ†</span>
    <span class="hljs-attr">costPerToken</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// æ¯åƒtokenæˆæœ¬ï¼ˆç¾å…ƒï¼‰</span>
    <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span>;             <span class="hljs-comment">// å“åº”é€Ÿåº¦è¯„åˆ† 0-10</span>
  };
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartModelRouter</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">capabilities</span>: <span class="hljs-title class_">ModelCapability</span>[] = [
    {
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,
      <span class="hljs-attr">capabilities</span>: {
        <span class="hljs-attr">codeGeneration</span>: <span class="hljs-number">9.5</span>,
        <span class="hljs-attr">reasoning</span>: <span class="hljs-number">8.0</span>,
        <span class="hljs-attr">creativity</span>: <span class="hljs-number">7.0</span>,
        <span class="hljs-attr">longContext</span>: <span class="hljs-number">7.0</span>,
        <span class="hljs-attr">vision</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">costPerToken</span>: <span class="hljs-number">0.015</span>,
        <span class="hljs-attr">speed</span>: <span class="hljs-number">8.5</span>
      }
    },
    {
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>,
      <span class="hljs-attr">capabilities</span>: {
        <span class="hljs-attr">codeGeneration</span>: <span class="hljs-number">8.0</span>,
        <span class="hljs-attr">reasoning</span>: <span class="hljs-number">9.8</span>,
        <span class="hljs-attr">creativity</span>: <span class="hljs-number">9.0</span>,
        <span class="hljs-attr">longContext</span>: <span class="hljs-number">8.5</span>,
        <span class="hljs-attr">vision</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">costPerToken</span>: <span class="hljs-number">0.018</span>,
        <span class="hljs-attr">speed</span>: <span class="hljs-number">7.0</span>
      }
    },
    {
      <span class="hljs-attr">model</span>: <span class="hljs-string">'kimi-k2.5'</span>,
      <span class="hljs-attr">capabilities</span>: {
        <span class="hljs-attr">codeGeneration</span>: <span class="hljs-number">6.0</span>,
        <span class="hljs-attr">reasoning</span>: <span class="hljs-number">7.5</span>,
        <span class="hljs-attr">creativity</span>: <span class="hljs-number">6.5</span>,
        <span class="hljs-attr">longContext</span>: <span class="hljs-number">10.0</span>,  <span class="hljs-comment">// è¶…é•¿ä¸Šä¸‹æ–‡æ˜¯å¼ºé¡¹</span>
        <span class="hljs-attr">vision</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">costPerToken</span>: <span class="hljs-number">0.008</span>, <span class="hljs-comment">// æˆæœ¬è¾ƒä½</span>
        <span class="hljs-attr">speed</span>: <span class="hljs-number">8.0</span>
      }
    },
    {
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gemini-3-pro-image-preview'</span>,
      <span class="hljs-attr">capabilities</span>: {
        <span class="hljs-attr">codeGeneration</span>: <span class="hljs-number">5.0</span>,
        <span class="hljs-attr">reasoning</span>: <span class="hljs-number">8.5</span>,
        <span class="hljs-attr">creativity</span>: <span class="hljs-number">8.0</span>,
        <span class="hljs-attr">longContext</span>: <span class="hljs-number">7.0</span>,
        <span class="hljs-attr">vision</span>: <span class="hljs-number">9.8</span>,         <span class="hljs-comment">// è§†è§‰èƒ½åŠ›æœ€å¼º</span>
        <span class="hljs-attr">costPerToken</span>: <span class="hljs-number">0.012</span>,
        <span class="hljs-attr">speed</span>: <span class="hljs-number">8.0</span>
      }
    }
  ];

  <span class="hljs-comment">// ä»»åŠ¡ç±»å‹æƒé‡é…ç½®</span>
  <span class="hljs-keyword">private</span> taskWeights = {
    <span class="hljs-attr">codeGeneration</span>: {
      <span class="hljs-attr">codeGeneration</span>: <span class="hljs-number">0.4</span>,
      <span class="hljs-attr">reasoning</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">speed</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">costPerToken</span>: -<span class="hljs-number">0.2</span>  <span class="hljs-comment">// æˆæœ¬ä¸ºè´Ÿæƒé‡ï¼ˆè¶Šä½è¶Šå¥½ï¼‰</span>
    },
    <span class="hljs-attr">documentAnalysis</span>: {
      <span class="hljs-attr">longContext</span>: <span class="hljs-number">0.5</span>,
      <span class="hljs-attr">reasoning</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">costPerToken</span>: -<span class="hljs-number">0.2</span>
    },
    <span class="hljs-attr">creativeWriting</span>: {
      <span class="hljs-attr">creativity</span>: <span class="hljs-number">0.5</span>,
      <span class="hljs-attr">reasoning</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">speed</span>: <span class="hljs-number">0.2</span>
    },
    <span class="hljs-attr">visionAnalysis</span>: {
      <span class="hljs-attr">vision</span>: <span class="hljs-number">0.7</span>,
      <span class="hljs-attr">reasoning</span>: <span class="hljs-number">0.2</span>,
      <span class="hljs-attr">speed</span>: <span class="hljs-number">0.1</span>
    }
  };

  <span class="hljs-title function_">selectModel</span>(<span class="hljs-params">taskType: keyof <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.taskWeights, budget?: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> weights = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskWeights</span>[taskType];
  
    <span class="hljs-keyword">const</span> scores = <span class="hljs-variable language_">this</span>.<span class="hljs-property">capabilities</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">modelCap</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> score = <span class="hljs-number">0</span>;
    
      <span class="hljs-comment">// è®¡ç®—åŠ æƒåˆ†</span>
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(weights).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[capability, weight]</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> capabilityValue = modelCap.<span class="hljs-property">capabilities</span>[capability <span class="hljs-keyword">as</span> keyof <span class="hljs-keyword">typeof</span> modelCap.<span class="hljs-property">capabilities</span>] || <span class="hljs-number">0</span>;
        score += capabilityValue * weight;
      });
    
      <span class="hljs-comment">// é¢„ç®—é™åˆ¶</span>
      <span class="hljs-keyword">if</span> (budget &amp;&amp; modelCap.<span class="hljs-property">capabilities</span>.<span class="hljs-property">costPerToken</span> &gt; budget) {
        score *= <span class="hljs-number">0.5</span>; <span class="hljs-comment">// è¶…è¿‡é¢„ç®—çš„æ¨¡å‹å‡åˆ†</span>
      }
    
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">model</span>: modelCap.<span class="hljs-property">model</span>,
        score,
        <span class="hljs-attr">capabilities</span>: modelCap.<span class="hljs-property">capabilities</span>
      };
    });
  
    <span class="hljs-comment">// è¿”å›åˆ†æ•°æœ€é«˜çš„æ¨¡å‹</span>
    <span class="hljs-keyword">return</span> scores.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">score</span> - a.<span class="hljs-property">score</span>)[<span class="hljs-number">0</span>];
  }

  <span class="hljs-comment">// è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡ç±»å‹</span>
  <span class="hljs-title function_">detectTaskType</span>(<span class="hljs-attr">prompt</span>: <span class="hljs-built_in">string</span>): keyof <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskWeights</span> {
    <span class="hljs-keyword">const</span> promptLower = prompt.<span class="hljs-title function_">toLowerCase</span>();
  
    <span class="hljs-keyword">const</span> codeKeywords = [<span class="hljs-string">'ä»£ç '</span>, <span class="hljs-string">'å‡½æ•°'</span>, <span class="hljs-string">'ç±»'</span>, <span class="hljs-string">'æ¥å£'</span>, <span class="hljs-string">'bug'</span>, <span class="hljs-string">'é”™è¯¯'</span>, <span class="hljs-string">'å®ç°'</span>, <span class="hljs-string">'ç¼–ç¨‹'</span>];
    <span class="hljs-keyword">const</span> docKeywords = [<span class="hljs-string">'æ–‡æ¡£'</span>, <span class="hljs-string">'æ–‡ç« '</span>, <span class="hljs-string">'è®ºæ–‡'</span>, <span class="hljs-string">'æ€»ç»“'</span>, <span class="hljs-string">'åˆ†æ'</span>, <span class="hljs-string">'é˜…è¯»'</span>];
    <span class="hljs-keyword">const</span> creativeKeywords = [<span class="hljs-string">'æ•…äº‹'</span>, <span class="hljs-string">'åˆ›æ„'</span>, <span class="hljs-string">'æ–‡æ¡ˆ'</span>, <span class="hljs-string">'è¥é”€'</span>, <span class="hljs-string">'å¹¿å‘Š'</span>, <span class="hljs-string">'å¸å¼•'</span>];
    <span class="hljs-keyword">const</span> visionKeywords = [<span class="hljs-string">'å›¾ç‰‡'</span>, <span class="hljs-string">'å›¾åƒ'</span>, <span class="hljs-string">'è¯†åˆ«'</span>, <span class="hljs-string">'æè¿°'</span>, <span class="hljs-string">'è§†è§‰'</span>, <span class="hljs-string">'ç…§ç‰‡'</span>];
  
    <span class="hljs-keyword">if</span> (codeKeywords.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> promptLower.<span class="hljs-title function_">includes</span>(keyword))) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'codeGeneration'</span>;
    }
    <span class="hljs-keyword">if</span> (docKeywords.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> promptLower.<span class="hljs-title function_">includes</span>(keyword))) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'documentAnalysis'</span>;
    }
    <span class="hljs-keyword">if</span> (creativeKeywords.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> promptLower.<span class="hljs-title function_">includes</span>(keyword))) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'creativeWriting'</span>;
    }
    <span class="hljs-keyword">if</span> (visionKeywords.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> promptLower.<span class="hljs-title function_">includes</span>(keyword))) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'visionAnalysis'</span>;
    }
  
    <span class="hljs-comment">// é»˜è®¤ç”¨ä»£ç ç”Ÿæˆï¼ˆæœ€å¸¸è§ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'codeGeneration'</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SmartModelRouter</span>();

<span class="hljs-comment">// 1. è‡ªåŠ¨æ£€æµ‹å¹¶é€‰æ‹©æ¨¡å‹</span>
<span class="hljs-keyword">const</span> prompt = <span class="hljs-string">"è¯·å¸®æˆ‘åˆ†æè¿™ç¯‡æŠ€æœ¯æ–‡æ¡£çš„æ ¸å¿ƒè§‚ç‚¹..."</span>;
<span class="hljs-keyword">const</span> taskType = router.<span class="hljs-title function_">detectTaskType</span>(prompt); <span class="hljs-comment">// documentAnalysis</span>
<span class="hljs-keyword">const</span> bestModel = router.<span class="hljs-title function_">selectModel</span>(taskType);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»»åŠ¡ç±»å‹: <span class="hljs-subst">${taskType}</span>`</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ¨èæ¨¡å‹: <span class="hljs-subst">${bestModel.model}</span> (å¾—åˆ†: <span class="hljs-subst">${bestModel.score.toFixed(<span class="hljs-number">2</span>)}</span>)`</span>);

<span class="hljs-comment">// 2. å¸¦é¢„ç®—é™åˆ¶çš„é€‰æ‹©</span>
<span class="hljs-keyword">const</span> budgetModel = router.<span class="hljs-title function_">selectModel</span>(<span class="hljs-string">'codeGeneration'</span>, <span class="hljs-number">0.01</span>); <span class="hljs-comment">// é¢„ç®—0.01ç¾å…ƒ/åƒtoken</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é¢„ç®—é™åˆ¶ä¸‹æ¨è: <span class="hljs-subst">${budgetModel.model}</span>`</span>);
</code></pre>
<h4 data-id="heading-11">4.2 æˆæœ¬ç›‘æ§å’Œä¼˜åŒ–ç³»ç»Ÿ</h4>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒåº”ç”¨ï¼Œæˆæœ¬æ§åˆ¶è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/cost-optimizer.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TokenUsage</span> {
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>;
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">inputTokens</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">outputTokens</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">totalTokens</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">estimatedCost</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// ç¾å…ƒ</span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CostAlert</span> {
  <span class="hljs-attr">threshold</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// ç¾å…ƒ</span>
  <span class="hljs-attr">period</span>: <span class="hljs-string">'daily'</span> | <span class="hljs-string">'weekly'</span> | <span class="hljs-string">'monthly'</span>;
  <span class="hljs-attr">notified</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CostOptimizer</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">usageHistory</span>: <span class="hljs-title class_">TokenUsage</span>[] = [];
  <span class="hljs-keyword">private</span> <span class="hljs-attr">costAlerts</span>: <span class="hljs-title class_">CostAlert</span>[] = [];
  <span class="hljs-keyword">private</span> <span class="hljs-attr">modelPricing</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, { <span class="hljs-attr">input</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">output</span>: <span class="hljs-built_in">number</span> }&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ¨¡å‹ä»·æ ¼ï¼ˆç¾å…ƒ/åƒtokenï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPricing</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'gpt-5.3-codex'</span>, { <span class="hljs-attr">input</span>: <span class="hljs-number">0.015</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.06</span> });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPricing</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'claude-3-opus'</span>, { <span class="hljs-attr">input</span>: <span class="hljs-number">0.018</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.09</span> });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPricing</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'kimi-k2.5'</span>, { <span class="hljs-attr">input</span>: <span class="hljs-number">0.008</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.02</span> });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPricing</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'gemini-3-pro-preview'</span>, { <span class="hljs-attr">input</span>: <span class="hljs-number">0.012</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.036</span> });
  }

  <span class="hljs-title function_">recordUsage</span>(
    <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>, 
    <span class="hljs-attr">inputTokens</span>: <span class="hljs-built_in">number</span>, 
    <span class="hljs-attr">outputTokens</span>: <span class="hljs-built_in">number</span>
  ): <span class="hljs-title class_">TokenUsage</span> {
    <span class="hljs-keyword">const</span> pricing = <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPricing</span>.<span class="hljs-title function_">get</span>(model);
    <span class="hljs-keyword">if</span> (!pricing) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æœªçŸ¥æ¨¡å‹: <span class="hljs-subst">${model}</span>`</span>);
    }
  
    <span class="hljs-keyword">const</span> totalTokens = inputTokens + outputTokens;
    <span class="hljs-keyword">const</span> estimatedCost = 
      (inputTokens / <span class="hljs-number">1000</span>) * pricing.<span class="hljs-property">input</span> + 
      (outputTokens / <span class="hljs-number">1000</span>) * pricing.<span class="hljs-property">output</span>;
  
    <span class="hljs-keyword">const</span> <span class="hljs-attr">usage</span>: <span class="hljs-title class_">TokenUsage</span> = {
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
      model,
      inputTokens,
      outputTokens,
      totalTokens,
      estimatedCost
    };
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">usageHistory</span>.<span class="hljs-title function_">push</span>(usage);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkAlerts</span>();
  
    <span class="hljs-keyword">return</span> usage;
  }

  <span class="hljs-title function_">addAlert</span>(<span class="hljs-params">threshold: <span class="hljs-built_in">number</span>, period: CostAlert[<span class="hljs-string">'period'</span>]</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">costAlerts</span>.<span class="hljs-title function_">push</span>({
      threshold,
      period,
      <span class="hljs-attr">notified</span>: <span class="hljs-literal">false</span>
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">checkAlerts</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">costAlerts</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">alert</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (alert.<span class="hljs-property">notified</span>) <span class="hljs-keyword">return</span>;
    
      <span class="hljs-keyword">const</span> periodStart = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getPeriodStart</span>(now, alert.<span class="hljs-property">period</span>);
      <span class="hljs-keyword">const</span> periodUsage = <span class="hljs-variable language_">this</span>.<span class="hljs-property">usageHistory</span>.<span class="hljs-title function_">filter</span>(
        <span class="hljs-function"><span class="hljs-params">usage</span> =&gt;</span> usage.<span class="hljs-property">timestamp</span> &gt;= periodStart
      );
    
      <span class="hljs-keyword">const</span> totalCost = periodUsage.<span class="hljs-title function_">reduce</span>(
        <span class="hljs-function">(<span class="hljs-params">sum, usage</span>) =&gt;</span> sum + usage.<span class="hljs-property">estimatedCost</span>, <span class="hljs-number">0</span>
      );
    
      <span class="hljs-keyword">if</span> (totalCost &gt;= alert.<span class="hljs-property">threshold</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendAlert</span>(alert, totalCost);
        alert.<span class="hljs-property">notified</span> = <span class="hljs-literal">true</span>;
      }
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getPeriodStart</span>(<span class="hljs-attr">now</span>: <span class="hljs-title class_">Date</span>, <span class="hljs-attr">period</span>: <span class="hljs-title class_">CostAlert</span>[<span class="hljs-string">'period'</span>]): <span class="hljs-title class_">Date</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now);
  
    <span class="hljs-keyword">switch</span> (period) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'daily'</span>:
        date.<span class="hljs-title function_">setHours</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'weekly'</span>:
        date.<span class="hljs-title function_">setDate</span>(date.<span class="hljs-title function_">getDate</span>() - date.<span class="hljs-title function_">getDay</span>()); <span class="hljs-comment">// æœ¬å‘¨ç¬¬ä¸€å¤©</span>
        date.<span class="hljs-title function_">setHours</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'monthly'</span>:
        date.<span class="hljs-title function_">setDate</span>(<span class="hljs-number">1</span>);
        date.<span class="hljs-title function_">setHours</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">break</span>;
    }
  
    <span class="hljs-keyword">return</span> date;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">sendAlert</span>(<span class="hljs-params">alert: CostAlert, currentCost: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­å¯ä»¥å‘é€é‚®ä»¶ã€Slacké€šçŸ¥ç­‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(
      <span class="hljs-string">`âš ï¸ æˆæœ¬è­¦æŠ¥: <span class="hljs-subst">${alert.period}</span>æˆæœ¬å·²è¶…è¿‡$<span class="hljs-subst">${alert.threshold}</span>, `</span> +
      <span class="hljs-string">`å½“å‰ä¸º$<span class="hljs-subst">${currentCost.toFixed(<span class="hljs-number">2</span>)}</span>`</span>
    );
  }

  <span class="hljs-comment">// è·å–æˆæœ¬åˆ†ææŠ¥å‘Š</span>
  <span class="hljs-title function_">getCostReport</span>(<span class="hljs-params">period: <span class="hljs-string">'daily'</span> | <span class="hljs-string">'weekly'</span> | <span class="hljs-string">'monthly'</span></span>) {
    <span class="hljs-keyword">const</span> periodStart = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getPeriodStart</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(), period);
    <span class="hljs-keyword">const</span> periodUsage = <span class="hljs-variable language_">this</span>.<span class="hljs-property">usageHistory</span>.<span class="hljs-title function_">filter</span>(
      <span class="hljs-function"><span class="hljs-params">usage</span> =&gt;</span> usage.<span class="hljs-property">timestamp</span> &gt;= periodStart
    );
  
    <span class="hljs-keyword">const</span> byModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, { <span class="hljs-attr">tokens</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">cost</span>: <span class="hljs-built_in">number</span> }&gt;();
  
    periodUsage.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">usage</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> current = byModel.<span class="hljs-title function_">get</span>(usage.<span class="hljs-property">model</span>) || { <span class="hljs-attr">tokens</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">cost</span>: <span class="hljs-number">0</span> };
      current.<span class="hljs-property">tokens</span> += usage.<span class="hljs-property">totalTokens</span>;
      current.<span class="hljs-property">cost</span> += usage.<span class="hljs-property">estimatedCost</span>;
      byModel.<span class="hljs-title function_">set</span>(usage.<span class="hljs-property">model</span>, current);
    });
  
    <span class="hljs-keyword">const</span> totalCost = periodUsage.<span class="hljs-title function_">reduce</span>(
      <span class="hljs-function">(<span class="hljs-params">sum, usage</span>) =&gt;</span> sum + usage.<span class="hljs-property">estimatedCost</span>, <span class="hljs-number">0</span>
    );
    <span class="hljs-keyword">const</span> totalTokens = periodUsage.<span class="hljs-title function_">reduce</span>(
      <span class="hljs-function">(<span class="hljs-params">sum, usage</span>) =&gt;</span> sum + usage.<span class="hljs-property">totalTokens</span>, <span class="hljs-number">0</span>
    );
  
    <span class="hljs-keyword">return</span> {
      period,
      <span class="hljs-attr">startDate</span>: periodStart,
      <span class="hljs-attr">totalCost</span>: <span class="hljs-built_in">parseFloat</span>(totalCost.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">4</span>)),
      totalTokens,
      <span class="hljs-attr">byModel</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(byModel.<span class="hljs-title function_">entries</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[model, data]</span>) =&gt;</span> ({
        model,
        <span class="hljs-attr">tokens</span>: data.<span class="hljs-property">tokens</span>,
        <span class="hljs-attr">cost</span>: <span class="hljs-built_in">parseFloat</span>(data.<span class="hljs-property">cost</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">4</span>)),
        <span class="hljs-attr">percentage</span>: totalCost &gt; <span class="hljs-number">0</span> ? (data.<span class="hljs-property">cost</span> / totalCost) * <span class="hljs-number">100</span> : <span class="hljs-number">0</span>
      })),
      <span class="hljs-attr">recommendations</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateRecommendations</span>(periodUsage)
    };
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">generateRecommendations</span>(<span class="hljs-params">usage: TokenUsage[]</span>) {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">recommendations</span>: <span class="hljs-built_in">string</span>[] = [];
  
    <span class="hljs-comment">// åˆ†æä½¿ç”¨æ¨¡å¼</span>
    <span class="hljs-keyword">const</span> modelCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt;();
    usage.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> {
      modelCount.<span class="hljs-title function_">set</span>(u.<span class="hljs-property">model</span>, (modelCount.<span class="hljs-title function_">get</span>(u.<span class="hljs-property">model</span>) || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);
    });
  
    <span class="hljs-comment">// æ¨è1: å¦‚æœå¤§é‡ä½¿ç”¨æ˜‚è´µæ¨¡å‹è¿›è¡Œç®€å•ä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> expensiveModels = [<span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-string">'gpt-5.3-codex'</span>];
    <span class="hljs-keyword">const</span> cheapModels = [<span class="hljs-string">'kimi-k2.5'</span>, <span class="hljs-string">'gpt-5.2'</span>];
  
    expensiveModels.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">expensive</span> =&gt;</span> {
      cheapModels.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">cheap</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> expensiveUsage = usage.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">model</span> === expensive);
        <span class="hljs-keyword">const</span> avgTokens = expensiveUsage.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, u</span>) =&gt;</span> sum + u.<span class="hljs-property">totalTokens</span>, <span class="hljs-number">0</span>) 
                        / (expensiveUsage.<span class="hljs-property">length</span> || <span class="hljs-number">1</span>);
      
        <span class="hljs-comment">// å¦‚æœå¹³å‡tokenæ•°è¾ƒå°‘ï¼Œå»ºè®®é™çº§åˆ°ä½æˆæœ¬æ¨¡å‹</span>
        <span class="hljs-keyword">if</span> (avgTokens &lt; <span class="hljs-number">500</span> &amp;&amp; expensiveUsage.<span class="hljs-property">length</span> &gt; <span class="hljs-number">10</span>) {
          recommendations.<span class="hljs-title function_">push</span>(
            <span class="hljs-string">`è€ƒè™‘å°†éƒ¨åˆ† <span class="hljs-subst">${expensive}</span> è¯·æ±‚åˆ‡æ¢åˆ° <span class="hljs-subst">${cheap}</span>ï¼Œ`</span> +
            <span class="hljs-string">`é¢„è®¡å¯èŠ‚çœ<span class="hljs-subst">${((avgTokens/<span class="hljs-number">1000</span>)*(<span class="hljs-number">0.015</span>-<span class="hljs-number">0.008</span>)).toFixed(<span class="hljs-number">4</span>)}</span>ç¾å…ƒ/è¯·æ±‚`</span>
          );
        }
      });
    });
  
    <span class="hljs-comment">// æ¨è2: æç¤ºä¼˜åŒ–å»ºè®®</span>
    <span class="hljs-keyword">const</span> avgInputOutputRatio = usage.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, u</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> sum + (u.<span class="hljs-property">inputTokens</span> / (u.<span class="hljs-property">outputTokens</span> || <span class="hljs-number">1</span>));
    }, <span class="hljs-number">0</span>) / usage.<span class="hljs-property">length</span>;
  
    <span class="hljs-keyword">if</span> (avgInputOutputRatio &gt; <span class="hljs-number">5</span>) {
      recommendations.<span class="hljs-title function_">push</span>(
        <span class="hljs-string">'è¾“å…¥tokenæ•°è¿œé«˜äºè¾“å‡ºï¼Œè€ƒè™‘ä¼˜åŒ–æç¤ºè¯å‡å°‘ä¸Šä¸‹æ–‡é•¿åº¦'</span>
      );
    }
  
    <span class="hljs-keyword">return</span> recommendations;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> optimizer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CostOptimizer</span>();

<span class="hljs-comment">// è®¾ç½®è­¦æŠ¥</span>
optimizer.<span class="hljs-title function_">addAlert</span>(<span class="hljs-number">10</span>, <span class="hljs-string">'daily'</span>);   <span class="hljs-comment">// æ¯æ—¥è¶…è¿‡10ç¾å…ƒæŠ¥è­¦</span>
optimizer.<span class="hljs-title function_">addAlert</span>(<span class="hljs-number">50</span>, <span class="hljs-string">'weekly'</span>);  <span class="hljs-comment">// æ¯å‘¨è¶…è¿‡50ç¾å…ƒæŠ¥è­¦</span>
optimizer.<span class="hljs-title function_">addAlert</span>(<span class="hljs-number">200</span>, <span class="hljs-string">'monthly'</span>); <span class="hljs-comment">// æ¯æœˆè¶…è¿‡200ç¾å…ƒæŠ¥è­¦</span>

<span class="hljs-comment">// è®°å½•ä½¿ç”¨æƒ…å†µ</span>
optimizer.<span class="hljs-title function_">recordUsage</span>(<span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-number">1500</span>, <span class="hljs-number">800</span>); <span class="hljs-comment">// 1.5kè¾“å…¥ï¼Œ0.8kè¾“å‡º</span>
optimizer.<span class="hljs-title function_">recordUsage</span>(<span class="hljs-string">'gpt-5.3-codex'</span>, <span class="hljs-number">500</span>, <span class="hljs-number">1200</span>);
optimizer.<span class="hljs-title function_">recordUsage</span>(<span class="hljs-string">'kimi-k2.5'</span>, <span class="hljs-number">8000</span>, <span class="hljs-number">2000</span>);   <span class="hljs-comment">// é•¿æ–‡æ¡£å¤„ç†</span>

<span class="hljs-comment">// è·å–æ—¥æŠ¥</span>
<span class="hljs-keyword">const</span> dailyReport = optimizer.<span class="hljs-title function_">getCostReport</span>(<span class="hljs-string">'daily'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»Šæ—¥æˆæœ¬æŠ¥å‘Š:'</span>, dailyReport);

<span class="hljs-comment">// è¾“å‡ºç¤ºä¾‹:</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   period: 'daily',</span>
<span class="hljs-comment">//   totalCost: 0.142,</span>
<span class="hljs-comment">//   totalTokens: 13500,</span>
<span class="hljs-comment">//   byModel: [</span>
<span class="hljs-comment">//     { model: 'claude-3-opus', tokens: 2300, cost: 0.063, percentage: 44.37 },</span>
<span class="hljs-comment">//     { model: 'gpt-5.3-codex', tokens: 1700, cost: 0.051, percentage: 35.92 },</span>
<span class="hljs-comment">//     { model: 'kimi-k2.5', tokens: 10000, cost: 0.028, percentage: 19.71 }</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">//   recommendations: [</span>
<span class="hljs-comment">//     'è€ƒè™‘å°†éƒ¨åˆ† claude-3-opus è¯·æ±‚åˆ‡æ¢åˆ° kimi-k2.5ï¼Œé¢„è®¡å¯èŠ‚çœ0.0042ç¾å…ƒ/è¯·æ±‚'</span>
<span class="hljs-comment">//   ]</span>
<span class="hljs-comment">// }</span>
</code></pre>
<h4 data-id="heading-12">4.3 æ€§èƒ½ç›‘æ§å’Œæ•…éšœè½¬ç§»ç³»ç»Ÿ</h4>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œéœ€è¦ç›‘æ§å„ä¸ªæ¨¡å‹çš„æ€§èƒ½å¹¶åœ¨æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/performance-monitor.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ModelPerformance</span> {
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">successCount</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">failureCount</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">totalLatency</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ¯«ç§’</span>
  lastFailure?: <span class="hljs-title class_">Date</span>;
  <span class="hljs-attr">circuitBreaker</span>: {
    <span class="hljs-attr">state</span>: <span class="hljs-string">'CLOSED'</span> | <span class="hljs-string">'OPEN'</span> | <span class="hljs-string">'HALF_OPEN'</span>;
    <span class="hljs-attr">failureThreshold</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">successThreshold</span>: <span class="hljs-built_in">number</span>;
    openUntil?: <span class="hljs-title class_">Date</span>;
  };
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">performance</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelPerformance</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> windowSize = <span class="hljs-number">100</span>; <span class="hljs-comment">// ç»Ÿè®¡æœ€è¿‘100æ¬¡è¯·æ±‚</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">models: <span class="hljs-built_in">string</span>[]</span>) {
    models.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">model</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">set</span>(model, {
        model,
        <span class="hljs-attr">successCount</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">failureCount</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">totalLatency</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">circuitBreaker</span>: {
          <span class="hljs-attr">state</span>: <span class="hljs-string">'CLOSED'</span>,
          <span class="hljs-attr">failureThreshold</span>: <span class="hljs-number">5</span>,
          <span class="hljs-attr">successThreshold</span>: <span class="hljs-number">3</span>
        }
      });
    });
  }

  <span class="hljs-title function_">recordSuccess</span>(<span class="hljs-params">model: <span class="hljs-built_in">string</span>, latency: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> perf = <span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">get</span>(model);
    <span class="hljs-keyword">if</span> (!perf) <span class="hljs-keyword">return</span>;
  
    perf.<span class="hljs-property">successCount</span>++;
    perf.<span class="hljs-property">totalLatency</span> += latency;
  
    <span class="hljs-comment">// å¦‚æœç†”æ–­å™¨æ˜¯åŠå¼€çŠ¶æ€ï¼ŒæˆåŠŸæ¬¡æ•°è¾¾åˆ°é˜ˆå€¼åˆ™å…³é—­</span>
    <span class="hljs-keyword">if</span> (perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> === <span class="hljs-string">'HALF_OPEN'</span>) {
      perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">successThreshold</span>--;
      <span class="hljs-keyword">if</span> (perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">successThreshold</span> &lt;= <span class="hljs-number">0</span>) {
        perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> = <span class="hljs-string">'CLOSED'</span>;
        perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">successThreshold</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// é‡ç½®</span>
      }
    }
  
    <span class="hljs-comment">// ç»´æŠ¤çª—å£å¤§å°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">maintainWindow</span>(perf);
  }

  <span class="hljs-title function_">recordFailure</span>(<span class="hljs-params">model: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> perf = <span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">get</span>(model);
    <span class="hljs-keyword">if</span> (!perf) <span class="hljs-keyword">return</span>;
  
    perf.<span class="hljs-property">failureCount</span>++;
    perf.<span class="hljs-property">lastFailure</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
  
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰“å¼€ç†”æ–­å™¨</span>
    <span class="hljs-keyword">if</span> (perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> === <span class="hljs-string">'CLOSED'</span>) {
      <span class="hljs-keyword">const</span> failureRate = perf.<span class="hljs-property">failureCount</span> / (perf.<span class="hljs-property">successCount</span> + perf.<span class="hljs-property">failureCount</span>);
    
      <span class="hljs-keyword">if</span> (failureRate &gt; <span class="hljs-number">0.5</span> || perf.<span class="hljs-property">failureCount</span> &gt;= perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">failureThreshold</span>) {
        perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> = <span class="hljs-string">'OPEN'</span>;
        perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">openUntil</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-number">60000</span>); <span class="hljs-comment">// 1åˆ†é’Ÿåé‡è¯•</span>
      }
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">maintainWindow</span>(perf);
  }

  <span class="hljs-title function_">isAvailable</span>(<span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> perf = <span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">get</span>(model);
    <span class="hljs-keyword">if</span> (!perf) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  
    <span class="hljs-keyword">if</span> (perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> === <span class="hljs-string">'OPEN'</span>) {
      <span class="hljs-keyword">if</span> (perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">openUntil</span> &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>() &gt; perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">openUntil</span>) {
        perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span> = <span class="hljs-string">'HALF_OPEN'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¿›å…¥åŠå¼€çŠ¶æ€ï¼Œå…è®¸è¯•æ¢è¯·æ±‚</span>
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }

  <span class="hljs-title function_">getBestModel</span>(capability?: <span class="hljs-string">'speed'</span> | <span class="hljs-string">'reliability'</span> | <span class="hljs-string">'balanced'</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">const</span> availableModels = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">entries</span>())
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">[_, perf]</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isAvailable</span>(perf.<span class="hljs-property">model</span>))
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[model, perf]</span>) =&gt;</span> ({
        model,
        <span class="hljs-attr">successRate</span>: perf.<span class="hljs-property">successCount</span> / (perf.<span class="hljs-property">successCount</span> + perf.<span class="hljs-property">failureCount</span> || <span class="hljs-number">1</span>),
        <span class="hljs-attr">avgLatency</span>: perf.<span class="hljs-property">successCount</span> &gt; <span class="hljs-number">0</span> ? perf.<span class="hljs-property">totalLatency</span> / perf.<span class="hljs-property">successCount</span> : <span class="hljs-title class_">Infinity</span>,
        <span class="hljs-attr">failureCount</span>: perf.<span class="hljs-property">failureCount</span>
      }));
  
    <span class="hljs-keyword">if</span> (availableModels.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">keys</span>())[<span class="hljs-number">0</span>]; <span class="hljs-comment">// è¿”å›ç¬¬ä¸€ä¸ªæ¨¡å‹ä½œä¸ºå¤‡é€‰</span>
    }
  
    <span class="hljs-comment">// æ ¹æ®ç­–ç•¥é€‰æ‹©æœ€ä½³æ¨¡å‹</span>
    <span class="hljs-keyword">switch</span> (capability) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'speed'</span>:
        <span class="hljs-keyword">return</span> availableModels.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">avgLatency</span> - b.<span class="hljs-property">avgLatency</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">model</span>;
    
      <span class="hljs-keyword">case</span> <span class="hljs-string">'reliability'</span>:
        <span class="hljs-keyword">return</span> availableModels.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">successRate</span> - a.<span class="hljs-property">successRate</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">model</span>;
    
      <span class="hljs-keyword">case</span> <span class="hljs-string">'balanced'</span>:
      <span class="hljs-attr">default</span>:
        <span class="hljs-comment">// ç»¼åˆè€ƒè™‘æˆåŠŸç‡å’Œå»¶è¿Ÿ</span>
        <span class="hljs-keyword">return</span> availableModels.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> scoreA = (a.<span class="hljs-property">successRate</span> * <span class="hljs-number">0.7</span>) + (<span class="hljs-number">1</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">avgLatency</span> + <span class="hljs-number">1</span>) * <span class="hljs-number">0.3</span>);
          <span class="hljs-keyword">const</span> scoreB = (b.<span class="hljs-property">successRate</span> * <span class="hljs-number">0.7</span>) + (<span class="hljs-number">1</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-property">avgLatency</span> + <span class="hljs-number">1</span>) * <span class="hljs-number">0.3</span>);
          <span class="hljs-keyword">return</span> scoreB - scoreA;
        })[<span class="hljs-number">0</span>].<span class="hljs-property">model</span>;
    }
  }

  <span class="hljs-title function_">getPerformanceReport</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">performance</span>.<span class="hljs-title function_">values</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">perf</span> =&gt;</span> ({
      <span class="hljs-attr">model</span>: perf.<span class="hljs-property">model</span>,
      <span class="hljs-attr">successRate</span>: (perf.<span class="hljs-property">successCount</span> / (perf.<span class="hljs-property">successCount</span> + perf.<span class="hljs-property">failureCount</span> || <span class="hljs-number">1</span>)) * <span class="hljs-number">100</span>,
      <span class="hljs-attr">avgLatency</span>: perf.<span class="hljs-property">successCount</span> &gt; <span class="hljs-number">0</span> ? perf.<span class="hljs-property">totalLatency</span> / perf.<span class="hljs-property">successCount</span> : <span class="hljs-number">0</span>,
      <span class="hljs-attr">circuitBreakerState</span>: perf.<span class="hljs-property">circuitBreaker</span>.<span class="hljs-property">state</span>,
      <span class="hljs-attr">lastFailure</span>: perf.<span class="hljs-property">lastFailure</span>
    }));
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">maintainWindow</span>(<span class="hljs-params">perf: ModelPerformance</span>) {
    <span class="hljs-keyword">const</span> totalRequests = perf.<span class="hljs-property">successCount</span> + perf.<span class="hljs-property">failureCount</span>;
  
    <span class="hljs-keyword">if</span> (totalRequests &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowSize</span>) {
      <span class="hljs-comment">// ç®€å•å®ç°ï¼šæŒ‰æ¯”ä¾‹ç¼©å‡è®¡æ•°</span>
      <span class="hljs-keyword">const</span> reductionRatio = <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowSize</span> / totalRequests;
      perf.<span class="hljs-property">successCount</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(perf.<span class="hljs-property">successCount</span> * reductionRatio);
      perf.<span class="hljs-property">failureCount</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(perf.<span class="hljs-property">failureCount</span> * reductionRatio);
      perf.<span class="hljs-property">totalLatency</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(perf.<span class="hljs-property">totalLatency</span> * reductionRatio);
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitor</span>([
  <span class="hljs-string">'gpt-5.3-codex'</span>,
  <span class="hljs-string">'claude-3-opus'</span>, 
  <span class="hljs-string">'kimi-k2.5'</span>,
  <span class="hljs-string">'gemini-3-pro-preview'</span>
]);

<span class="hljs-comment">// æ¨¡æ‹Ÿä¸€äº›è¯·æ±‚</span>
monitor.<span class="hljs-title function_">recordSuccess</span>(<span class="hljs-string">'gpt-5.3-codex'</span>, <span class="hljs-number">1200</span>);
monitor.<span class="hljs-title function_">recordSuccess</span>(<span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-number">1800</span>);
monitor.<span class="hljs-title function_">recordFailure</span>(<span class="hljs-string">'kimi-k2.5'</span>);
monitor.<span class="hljs-title function_">recordSuccess</span>(<span class="hljs-string">'gpt-5.3-codex'</span>, <span class="hljs-number">1100</span>);

<span class="hljs-comment">// è·å–æœ€ä½³æ¨¡å‹</span>
<span class="hljs-keyword">const</span> bestForSpeed = monitor.<span class="hljs-title function_">getBestModel</span>(<span class="hljs-string">'speed'</span>);
<span class="hljs-keyword">const</span> bestForReliability = monitor.<span class="hljs-title function_">getBestModel</span>(<span class="hljs-string">'reliability'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¿«æ¨¡å‹:'</span>, bestForSpeed);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¯é æ¨¡å‹:'</span>, bestForReliability);

<span class="hljs-comment">// è·å–æ€§èƒ½æŠ¥å‘Š</span>
<span class="hljs-keyword">const</span> report = monitor.<span class="hljs-title function_">getPerformanceReport</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(report);

<span class="hljs-comment">// æ£€æŸ¥æ¨¡å‹å¯ç”¨æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'GPT-5.3å¯ç”¨:'</span>, monitor.<span class="hljs-title function_">isAvailable</span>(<span class="hljs-string">'gpt-5.3-codex'</span>));
</code></pre>
<h4 data-id="heading-13">4.4 å®ç°A/Bæµ‹è¯•å’Œå¤šæ¨¡å‹æŠ•ç¥¨</h4>
<p>å¯¹äºå…³é”®ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨å¤šæ¨¡å‹å¹¶è¡Œå¤„ç†å¹¶æŠ•ç¥¨å†³å®šæœ€ä½³ç»“æœï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/model-voter.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ModelResponse</span> {
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">response</span>: <span class="hljs-built_in">string</span>;
  confidence?: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ¨¡å‹è‡ªå·±ç»™å‡ºçš„ç½®ä¿¡åº¦ï¼ˆå¦‚æœæœ‰ï¼‰</span>
  <span class="hljs-attr">latency</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">cost</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">VotingResult</span> {
  <span class="hljs-attr">winningResponse</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">winningModel</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">confidence</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æŠ•ç¥¨ç½®ä¿¡åº¦</span>
  <span class="hljs-attr">allResponses</span>: <span class="hljs-title class_">ModelResponse</span>[];
  <span class="hljs-attr">votes</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt;; <span class="hljs-comment">// æ¨¡å‹ -&gt; ç¥¨æ•°</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModelVoter</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> similarityThreshold = <span class="hljs-number">0.8</span>; <span class="hljs-comment">// ç›¸ä¼¼åº¦é˜ˆå€¼</span>

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">voteOnPrompt</span>(
    <span class="hljs-attr">prompt</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">models</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'gpt-5.3-codex'</span>, <span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-string">'kimi-k2.5'</span>]
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">VotingResult</span>&gt; {
    <span class="hljs-comment">// 1. å¹¶è¡Œè°ƒç”¨æ‰€æœ‰æ¨¡å‹</span>
    <span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(
      models.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">model</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callModel</span>(model, prompt))
    );
  
    <span class="hljs-comment">// 2. è¿‡æ»¤æˆåŠŸå“åº”</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">successfulResponses</span>: <span class="hljs-title class_">ModelResponse</span>[] = responses
      .<span class="hljs-title function_">filter</span>((r): r is <span class="hljs-title class_">PromiseFulfilledResult</span>&lt;<span class="hljs-title class_">ModelResponse</span>&gt; =&gt; r.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span>)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">value</span>);
  
    <span class="hljs-keyword">if</span> (successfulResponses.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ‰€æœ‰æ¨¡å‹è°ƒç”¨å¤±è´¥'</span>);
    }
  
    <span class="hljs-keyword">if</span> (successfulResponses.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
      <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªæˆåŠŸï¼Œç›´æ¥è¿”å›</span>
      <span class="hljs-keyword">const</span> single = successfulResponses[<span class="hljs-number">0</span>];
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">winningResponse</span>: single.<span class="hljs-property">response</span>,
        <span class="hljs-attr">winningModel</span>: single.<span class="hljs-property">model</span>,
        <span class="hljs-attr">confidence</span>: <span class="hljs-number">1.0</span>,
        <span class="hljs-attr">allResponses</span>: successfulResponses,
        <span class="hljs-attr">votes</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[single.<span class="hljs-property">model</span>, <span class="hljs-number">1</span>]])
      };
    }
  
    <span class="hljs-comment">// 3. è®¡ç®—å“åº”ä¹‹é—´çš„ç›¸ä¼¼åº¦</span>
    <span class="hljs-keyword">const</span> similarityMatrix = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateSimilarities</span>(
      successfulResponses.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">response</span>)
    );
  
    <span class="hljs-comment">// 4. è¿›è¡ŒæŠ•ç¥¨</span>
    <span class="hljs-keyword">const</span> votes = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">performVoting</span>(successfulResponses, similarityMatrix);
  
    <span class="hljs-comment">// 5. é€‰æ‹©èƒœå‡ºè€…</span>
    <span class="hljs-keyword">const</span> [winningModel, voteCount] = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(votes.<span class="hljs-title function_">entries</span>())
      .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b[<span class="hljs-number">1</span>] - a[<span class="hljs-number">1</span>])[<span class="hljs-number">0</span>];
  
    <span class="hljs-keyword">const</span> winningResponse = successfulResponses.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">model</span> === winningModel)!.<span class="hljs-property">response</span>;
    <span class="hljs-keyword">const</span> confidence = voteCount / successfulResponses.<span class="hljs-property">length</span>;
  
    <span class="hljs-keyword">return</span> {
      winningResponse,
      winningModel,
      confidence,
      <span class="hljs-attr">allResponses</span>: successfulResponses,
      votes
    };
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">callModel</span>(<span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">prompt</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ModelResponse</span>&gt; {
    <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  
    <span class="hljs-comment">// è¿™é‡Œåº”è¯¥è°ƒç”¨å®é™…çš„å‘é‡å¼•æ“API</span>
    <span class="hljs-comment">// ä¸ºäº†ç¤ºä¾‹ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªå“åº”</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span> + <span class="hljs-number">500</span>));
  
    <span class="hljs-keyword">const</span> <span class="hljs-attr">responses</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {
      <span class="hljs-string">'gpt-5.3-codex'</span>: <span class="hljs-string">`ä½œä¸ºGPT-5.3ï¼Œæˆ‘è®¤ä¸ºï¼š<span class="hljs-subst">${prompt}</span>çš„ç­”æ¡ˆæ˜¯...`</span>,
      <span class="hljs-string">'claude-3-opus'</span>: <span class="hljs-string">`ä»æˆ‘çš„åˆ†ææ¥çœ‹ï¼Œå…³äº<span class="hljs-subst">${prompt}</span>ï¼Œå…³é”®åœ¨äº...`</span>,
      <span class="hljs-string">'kimi-k2.5'</span>: <span class="hljs-string">`æ ¹æ®æˆ‘çš„ç†è§£ï¼Œ<span class="hljs-subst">${prompt}</span>æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š...`</span>
    };
  
    <span class="hljs-keyword">const</span> latency = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime;
    <span class="hljs-keyword">const</span> cost = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">estimateCost</span>(model, prompt.<span class="hljs-property">length</span>, responses[model]?.<span class="hljs-property">length</span> || <span class="hljs-number">100</span>);
  
    <span class="hljs-keyword">return</span> {
      model,
      <span class="hljs-attr">response</span>: responses[model] || <span class="hljs-string">`æ¨¡å‹<span class="hljs-subst">${model}</span>çš„é»˜è®¤å“åº”`</span>,
      latency,
      cost
    };
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">calculateSimilarities</span>(<span class="hljs-attr">responses</span>: <span class="hljs-built_in">string</span>[]): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>[][]&gt; {
    <span class="hljs-comment">// åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä½¿ç”¨æ–‡æœ¬ç›¸ä¼¼åº¦ç®—æ³•</span>
    <span class="hljs-comment">// å¦‚ä½™å¼¦ç›¸ä¼¼åº¦ã€Jaccardç›¸ä¼¼åº¦ç­‰</span>
    <span class="hljs-comment">// è¿™é‡Œç®€åŒ–ä¸ºéšæœºç›¸ä¼¼åº¦ç”¨äºæ¼”ç¤º</span>
  
    <span class="hljs-keyword">const</span> n = responses.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-attr">matrix</span>: <span class="hljs-built_in">number</span>[][] = <span class="hljs-title class_">Array</span>(n).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Array</span>(n).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
        <span class="hljs-keyword">if</span> (i === j) {
          matrix[i][j] = <span class="hljs-number">1.0</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// ç®€åŒ–çš„ç›¸ä¼¼åº¦è®¡ç®—ï¼šåŸºäºå“åº”é•¿åº¦å’Œå†…å®¹</span>
          <span class="hljs-keyword">const</span> similarity = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateTextSimilarity</span>(responses[i], responses[j]);
          matrix[i][j] = similarity;
        }
      }
    }
  
    <span class="hljs-keyword">return</span> matrix;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">calculateTextSimilarity</span>(<span class="hljs-attr">text1</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">text2</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-comment">// ç®€åŒ–çš„ç›¸ä¼¼åº¦è®¡ç®—</span>
    <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­åº”è¯¥ä½¿ç”¨æ›´å¤æ‚çš„æ–¹æ³•</span>
  
    <span class="hljs-comment">// 1. é•¿åº¦ç›¸ä¼¼åº¦</span>
    <span class="hljs-keyword">const</span> lengthRatio = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(text1.<span class="hljs-property">length</span>, text2.<span class="hljs-property">length</span>) / 
                       <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(text1.<span class="hljs-property">length</span>, text2.<span class="hljs-property">length</span>);
  
    <span class="hljs-comment">// 2. å…³é”®è¯é‡å ï¼ˆç®€å•å®ç°ï¼‰</span>
    <span class="hljs-keyword">const</span> words1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(text1.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\W+/</span>));
    <span class="hljs-keyword">const</span> words2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(text2.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\W+/</span>));
  
    <span class="hljs-keyword">const</span> intersection = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...words1].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> words2.<span class="hljs-title function_">has</span>(x)));
    <span class="hljs-keyword">const</span> union = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...words1, ...words2]);
  
    <span class="hljs-keyword">const</span> jaccardSimilarity = intersection.<span class="hljs-property">size</span> / union.<span class="hljs-property">size</span>;
  
    <span class="hljs-comment">// ç»¼åˆç›¸ä¼¼åº¦</span>
    <span class="hljs-keyword">return</span> (lengthRatio * <span class="hljs-number">0.3</span> + jaccardSimilarity * <span class="hljs-number">0.7</span>);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">performVoting</span>(
    <span class="hljs-attr">responses</span>: <span class="hljs-title class_">ModelResponse</span>[],
    <span class="hljs-attr">similarityMatrix</span>: <span class="hljs-built_in">number</span>[][]
  ): <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">const</span> votes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt;();
    <span class="hljs-keyword">const</span> n = responses.<span class="hljs-property">length</span>;
  
    <span class="hljs-comment">// åˆå§‹åŒ–ç¥¨æ•°</span>
    responses.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> votes.<span class="hljs-title function_">set</span>(r.<span class="hljs-property">model</span>, <span class="hljs-number">0</span>));
  
    <span class="hljs-comment">// æ¯ä¸ªå“åº”ä¸ºå…¶ä»–ç›¸ä¼¼åº¦é«˜çš„å“åº”æŠ•ç¥¨</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
        <span class="hljs-keyword">if</span> (i !== j &amp;&amp; similarityMatrix[i][j] &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">similarityThreshold</span>) {
          <span class="hljs-comment">// å“åº”iè®¤ä¸ºå“åº”jä¸è‡ªå·±ä¸€è‡´ï¼Œç»™jæŠ•ç¥¨</span>
          <span class="hljs-keyword">const</span> currentVotes = votes.<span class="hljs-title function_">get</span>(responses[j].<span class="hljs-property">model</span>) || <span class="hljs-number">0</span>;
          votes.<span class="hljs-title function_">set</span>(responses[j].<span class="hljs-property">model</span>, currentVotes + <span class="hljs-number">1</span>);
        }
      }
    }
  
    <span class="hljs-keyword">return</span> votes;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">estimateCost</span>(<span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">inputLength</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">outputLength</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">pricing</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, { <span class="hljs-attr">input</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">output</span>: <span class="hljs-built_in">number</span> }&gt; = {
      <span class="hljs-string">'gpt-5.3-codex'</span>: { <span class="hljs-attr">input</span>: <span class="hljs-number">0.015</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.06</span> },
      <span class="hljs-string">'claude-3-opus'</span>: { <span class="hljs-attr">input</span>: <span class="hljs-number">0.018</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.09</span> },
      <span class="hljs-string">'kimi-k2.5'</span>: { <span class="hljs-attr">input</span>: <span class="hljs-number">0.008</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.02</span> }
    };
  
    <span class="hljs-keyword">const</span> prices = pricing[model] || { <span class="hljs-attr">input</span>: <span class="hljs-number">0.01</span>, <span class="hljs-attr">output</span>: <span class="hljs-number">0.03</span> };
    <span class="hljs-keyword">return</span> (inputLength / <span class="hljs-number">1000</span>) * prices.<span class="hljs-property">input</span> + (outputLength / <span class="hljs-number">1000</span>) * prices.<span class="hljs-property">output</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> voter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelVoter</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testVoting</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">"è§£é‡ŠReact Hooksçš„è®¾è®¡åŸç†å’Œæœ€ä½³å®è·µ"</span>;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> voter.<span class="hljs-title function_">voteOnPrompt</span>(prompt);
  
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== æŠ•ç¥¨ç»“æœ ==='</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`èƒœå‡ºæ¨¡å‹: <span class="hljs-subst">${result.winningModel}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç½®ä¿¡åº¦: <span class="hljs-subst">${(result.confidence * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">1</span>)}</span>%`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`èƒœå‡ºå“åº”: <span class="hljs-subst">${result.winningResponse.slice(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)}</span>...`</span>);
  
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n=== æ‰€æœ‰å“åº” ==='</span>);
    result.<span class="hljs-property">allResponses</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`\n<span class="hljs-subst">${r.model}</span>:`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  å“åº”: <span class="hljs-subst">${r.response.slice(<span class="hljs-number">0</span>, <span class="hljs-number">80</span>)}</span>...`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  å»¶è¿Ÿ: <span class="hljs-subst">${r.latency}</span>ms`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  æˆæœ¬: $<span class="hljs-subst">${r.cost.toFixed(<span class="hljs-number">4</span>)}</span>`</span>);
    });
  
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n=== æŠ•ç¥¨åˆ†å¸ƒ ==='</span>);
    result.<span class="hljs-property">votes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">votes, model</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${model}</span>: <span class="hljs-subst">${votes}</span>ç¥¨`</span>);
    });
  
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æŠ•ç¥¨å¤±è´¥:'</span>, error);
  }
}

<span class="hljs-comment">// è¿è¡Œæµ‹è¯•</span>
<span class="hljs-title function_">testVoting</span>();
</code></pre>
<h3 data-id="heading-14">äº”ã€ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ</h3>
<h4 data-id="heading-15">5.1 é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/error-handler.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">RetryConfig</span> {
  <span class="hljs-attr">maxRetries</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">baseDelay</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ¯«ç§’</span>
  <span class="hljs-attr">maxDelay</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ¯«ç§’</span>
  <span class="hljs-attr">retryableErrors</span>: <span class="hljs-built_in">string</span>[];
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorEngineError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    message: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> code: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> originalError?: <span class="hljs-built_in">Error</span>,
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> context?: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;
  </span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'VectorEngineError'</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryHandler</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">RetryConfig</span> = {
    <span class="hljs-attr">maxRetries</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">baseDelay</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">maxDelay</span>: <span class="hljs-number">10000</span>,
    <span class="hljs-attr">retryableErrors</span>: [
      <span class="hljs-string">'ETIMEDOUT'</span>,
      <span class="hljs-string">'ECONNRESET'</span>, 
      <span class="hljs-string">'EAI_AGAIN'</span>,
      <span class="hljs-string">'429'</span>, <span class="hljs-comment">// Too Many Requests</span>
      <span class="hljs-string">'503'</span>, <span class="hljs-comment">// Service Unavailable</span>
      <span class="hljs-string">'504'</span>  <span class="hljs-comment">// Gateway Timeout</span>
    ]
  };

  <span class="hljs-keyword">async</span> executeWithRetry&lt;T&gt;(
    <span class="hljs-attr">operation</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;,
    context?: <span class="hljs-built_in">string</span>
  ): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">lastError</span>: <span class="hljs-title class_">Error</span>;
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> attempt = <span class="hljs-number">0</span>; attempt &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">maxRetries</span>; attempt++) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">operation</span>();
      
      } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
        lastError = error;
      
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åº”è¯¥é‡è¯•</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shouldRetry</span>(error) || attempt === <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">maxRetries</span>) {
          <span class="hljs-keyword">break</span>;
        }
      
        <span class="hljs-comment">// è®¡ç®—é€€é¿å»¶è¿Ÿ</span>
        <span class="hljs-keyword">const</span> delay = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateBackoff</span>(attempt);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(
          <span class="hljs-string">`[<span class="hljs-subst">${context}</span>] è¯·æ±‚å¤±è´¥ï¼Œ<span class="hljs-subst">${delay}</span>msåé‡è¯• (<span class="hljs-subst">${attempt + <span class="hljs-number">1</span>}</span>/<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.maxRetries}</span>):`</span>,
          error.<span class="hljs-property">message</span>
        );
      
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sleep</span>(delay);
      }
    }
  
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VectorEngineError</span>(
      <span class="hljs-string">`æ“ä½œå¤±è´¥ï¼Œå·²é‡è¯•<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.maxRetries}</span>æ¬¡`</span>,
      <span class="hljs-string">'MAX_RETRIES_EXCEEDED'</span>,
      lastError,
      { context }
    );
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">shouldRetry</span>(<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> errorCode = error.<span class="hljs-property">code</span> || error.<span class="hljs-property">status</span> || <span class="hljs-string">''</span>;
    <span class="hljs-keyword">const</span> errorMessage = error.<span class="hljs-property">message</span> || <span class="hljs-string">''</span>;
  
    <span class="hljs-comment">// æ£€æŸ¥é”™è¯¯ç æ˜¯å¦åœ¨å¯é‡è¯•åˆ—è¡¨ä¸­</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">retryableErrors</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> 
      errorCode.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">includes</span>(e) || errorMessage.<span class="hljs-title function_">includes</span>(e)
    )) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  
    <span class="hljs-comment">// ç½‘ç»œé”™è¯¯é€šå¸¸å¯ä»¥é‡è¯•</span>
    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">'FetchError'</span> || error.<span class="hljs-property">name</span> === <span class="hljs-string">'NetworkError'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">calculateBackoff</span>(<span class="hljs-attr">attempt</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-comment">// æŒ‡æ•°é€€é¿ï¼Œå¸¦æœ‰éšæœºæŠ–åŠ¨</span>
    <span class="hljs-keyword">const</span> delay = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">baseDelay</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, attempt),
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">maxDelay</span>
    );
  
    <span class="hljs-comment">// æ·»åŠ éšæœºæŠ–åŠ¨ï¼ˆÂ±20%ï¼‰</span>
    <span class="hljs-keyword">const</span> jitter = delay * <span class="hljs-number">0.2</span> * (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>);
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(delay + jitter);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-attr">ms</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, ms));
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> retryHandler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RetryHandler</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reliableAPICall</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> retryHandler.<span class="hljs-title function_">executeWithRetry</span>(
    <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.vectorengine.ai/v1/chat/completions'</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${process.env.VECTOR_ENGINE_API_KEY}</span>`</span>,
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
        },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
          <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,
          <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello'</span> }]
        }),
        <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>.<span class="hljs-title function_">timeout</span>(<span class="hljs-number">10000</span>) <span class="hljs-comment">// 10ç§’è¶…æ—¶</span>
      });
    
      <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>: <span class="hljs-subst">${<span class="hljs-keyword">await</span> response.text()}</span>`</span>);
      }
    
      <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
    },
    <span class="hljs-string">'GPT-5.3-codexè°ƒç”¨'</span>
  );
}

<span class="hljs-comment">// åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">reliableAPICall</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆåŠŸ:'</span>, result);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">VectorEngineError</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å‘é‡å¼•æ“é”™è¯¯:'</span>, error.<span class="hljs-property">code</span>, error.<span class="hljs-property">context</span>);
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è§¦å‘å‘Šè­¦ã€é™çº§åˆ°å¤‡ç”¨æœåŠ¡ç­‰</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æœªçŸ¥é”™è¯¯:'</span>, error);
  }
}
</code></pre>
<h4 data-id="heading-16">5.2 è¯·æ±‚æ‰¹å¤„ç†å’Œä¼˜åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/batch-processor.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BatchRequest</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">role</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> }&gt;;
  temperature?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">any</span>, error?: <span class="hljs-built_in">Error</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BatchProcessor</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">batchSize</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">batchTimeout</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ¯«ç§’</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">pendingRequests</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">BatchRequest</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">private</span> <span class="hljs-attr">batchTimer</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">private</span> isProcessing = <span class="hljs-literal">false</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">batchSize = <span class="hljs-number">10</span>, batchTimeout = <span class="hljs-number">50</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchSize</span> = batchSize;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimeout</span> = batchTimeout;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addRequest</span>(
    <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">role</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> }&gt;,
    temperature?: <span class="hljs-built_in">number</span>
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> requestId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateRequestId</span>();
    
      <span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: <span class="hljs-title class_">BatchRequest</span> = {
        <span class="hljs-attr">id</span>: requestId,
        model,
        messages,
        temperature,
        <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">result, error</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (error) {
            <span class="hljs-title function_">reject</span>(error);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">resolve</span>(result);
          }
        },
        <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
      };
    
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">set</span>(requestId, request);
    
      <span class="hljs-comment">// è§¦å‘æ‰¹é‡å¤„ç†</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scheduleBatchProcessing</span>();
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">generateRequestId</span>(): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`req_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)}</span>`</span>;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">scheduleBatchProcessing</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¦‚æœå·²ç»è¾¾åˆ°æ‰¹é‡å¤§å°ï¼Œç«‹å³å¤„ç†</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-property">size</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchSize</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processBatch</span>();
      <span class="hljs-keyword">return</span>;
    }
  
    <span class="hljs-comment">// å¦åˆ™è®¾ç½®å®šæ—¶å™¨</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimer</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimer</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processBatch</span>();
      }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimeout</span>);
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span>;
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">true</span>;
  
    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimer</span>) {
      <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimer</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimer</span> = <span class="hljs-literal">null</span>;
    }
  
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// æŒ‰æ¨¡å‹åˆ†ç»„è¯·æ±‚</span>
      <span class="hljs-keyword">const</span> requestsByModel = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">groupRequestsByModel</span>();
    
      <span class="hljs-comment">// å¤„ç†æ¯ä¸ªæ¨¡å‹çš„åˆ†ç»„</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [model, requests] <span class="hljs-keyword">of</span> requestsByModel) {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processModelBatch</span>(model, requests);
      }
    
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å¾…å¤„ç†çš„è¯·æ±‚</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-property">size</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scheduleBatchProcessing</span>();
      }
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">groupRequestsByModel</span>(): <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">BatchRequest</span>[]&gt; {
    <span class="hljs-keyword">const</span> groups = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">BatchRequest</span>[]&gt;();
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (!groups.<span class="hljs-title function_">has</span>(request.<span class="hljs-property">model</span>)) {
        groups.<span class="hljs-title function_">set</span>(request.<span class="hljs-property">model</span>, []);
      }
      groups.<span class="hljs-title function_">get</span>(request.<span class="hljs-property">model</span>)!.<span class="hljs-title function_">push</span>(request);
    });
  
    <span class="hljs-keyword">return</span> groups;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">processModelBatch</span>(<span class="hljs-params">model: <span class="hljs-built_in">string</span>, requests: BatchRequest[]</span>) {
    <span class="hljs-comment">// åœ¨å®é™…å®ç°ä¸­ï¼Œè¿™é‡Œåº”è¯¥è°ƒç”¨å‘é‡å¼•æ“çš„æ‰¹é‡API</span>
    <span class="hljs-comment">// è¿™é‡Œç®€åŒ–ä¸ºé€ä¸ªå¤„ç†</span>
  
    <span class="hljs-keyword">const</span> batchResults = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(
      requests.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> request =&gt; {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callVectorEngineAPI</span>(
            model,
            request.<span class="hljs-property">messages</span>,
            request.<span class="hljs-property">temperature</span>
          );
        
          request.<span class="hljs-title function_">callback</span>(result);
          <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: request.<span class="hljs-property">id</span>, <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> };
        
        } <span class="hljs-keyword">catch</span> (error) {
          request.<span class="hljs-title function_">callback</span>(<span class="hljs-literal">null</span>, error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>);
          <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: request.<span class="hljs-property">id</span>, <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, error };
        }
      })
    );
  
    <span class="hljs-comment">// æ¸…ç†å·²å¤„ç†çš„è¯·æ±‚</span>
    requests.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">delete</span>(request.<span class="hljs-property">id</span>);
    });
  
    <span class="hljs-comment">// è®°å½•ç»Ÿè®¡ä¿¡æ¯</span>
    <span class="hljs-keyword">const</span> successCount = batchResults.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span>).<span class="hljs-property">length</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰¹é‡å¤„ç†å®Œæˆ: <span class="hljs-subst">${model}</span>, æˆåŠŸ: <span class="hljs-subst">${successCount}</span>/<span class="hljs-subst">${requests.length}</span>`</span>);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">callVectorEngineAPI</span>(<span class="hljs-params">
    model: <span class="hljs-built_in">string</span>,
    messages: <span class="hljs-built_in">Array</span>&lt;{ role: <span class="hljs-built_in">string</span>; content: <span class="hljs-built_in">string</span> }&gt;,
    temperature?: <span class="hljs-built_in">number</span>
  </span>) {
    <span class="hljs-comment">// å®é™…è°ƒç”¨å‘é‡å¼•æ“API</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.vectorengine.ai/v1/chat/completions'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${process.env.VECTOR_ENGINE_API_KEY}</span>`</span>,
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        model,
        messages,
        <span class="hljs-attr">temperature</span>: temperature || <span class="hljs-number">0.7</span>
      })
    });
  
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`APIè°ƒç”¨å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    }
  
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }

  <span class="hljs-comment">// è·å–å½“å‰çŠ¶æ€</span>
  <span class="hljs-title function_">getStatus</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">pendingRequests</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">isProcessing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>,
      <span class="hljs-attr">batchSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchSize</span>,
      <span class="hljs-attr">batchTimeout</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchTimeout</span>
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> batchProcessor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchProcessor</span>(<span class="hljs-number">5</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">// æ¯æ‰¹5ä¸ªè¯·æ±‚ï¼Œæœ€å¤šç­‰å¾…100ms</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testBatchProcessing</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> promises = [];

  <span class="hljs-comment">// æ¨¡æ‹Ÿ10ä¸ªå¹¶å‘è¯·æ±‚</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
    <span class="hljs-keyword">const</span> promise = batchProcessor.<span class="hljs-title function_">addRequest</span>(
      <span class="hljs-string">'gpt-5.2'</span>,
      [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`è¿™æ˜¯æµ‹è¯•è¯·æ±‚ <span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>`</span>
        }
      ],
      <span class="hljs-number">0.7</span>
    );
  
    promises.<span class="hljs-title function_">push</span>(promise);
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰¹é‡å¤„ç†çŠ¶æ€:'</span>, batchProcessor.<span class="hljs-title function_">getStatus</span>());

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰¹é‡å¤„ç†å®Œæˆï¼Œå…±<span class="hljs-subst">${results.length}</span>ä¸ªç»“æœ`</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ‰¹é‡å¤„ç†å‡ºé”™:'</span>, error);
  }
}
</code></pre>
<h4 data-id="heading-17">5.3 å®Œæ•´çš„ç”Ÿäº§çº§é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// lib/production-ready-client.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PerformanceMonitor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./performance-monitor'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CostOptimizer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./cost-optimizer'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RetryHandler</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./error-handler'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BatchProcessor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./batch-processor'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">VectorEngineClientConfig</span> {
  <span class="hljs-attr">apiKey</span>: <span class="hljs-built_in">string</span>;
  baseURL?: <span class="hljs-built_in">string</span>;
  defaultModel?: <span class="hljs-built_in">string</span>;
  enableBatching?: <span class="hljs-built_in">boolean</span>;
  batchSize?: <span class="hljs-built_in">number</span>;
  batchTimeout?: <span class="hljs-built_in">number</span>;
  enableMonitoring?: <span class="hljs-built_in">boolean</span>;
  costAlertThreshold?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductionVectorEngineClient</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">VectorEngineClientConfig</span>&gt;;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">performanceMonitor</span>: <span class="hljs-title class_">PerformanceMonitor</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">costOptimizer</span>: <span class="hljs-title class_">CostOptimizer</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">retryHandler</span>: <span class="hljs-title class_">RetryHandler</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">batchProcessor</span>: <span class="hljs-title class_">BatchProcessor</span> | <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">private</span> models = [
    <span class="hljs-string">'gpt-5.3-codex'</span>,
    <span class="hljs-string">'gpt-5.2-pro'</span>, 
    <span class="hljs-string">'claude-3-opus'</span>,
    <span class="hljs-string">'kimi-k2.5'</span>,
    <span class="hljs-string">'gemini-3-pro-preview'</span>,
    <span class="hljs-string">'gemini-3-pro-image-preview'</span>
  ];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config: VectorEngineClientConfig</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = {
      <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.vectorengine.ai/v1'</span>,
      <span class="hljs-attr">defaultModel</span>: <span class="hljs-string">'gpt-5.2'</span>,
      <span class="hljs-attr">enableBatching</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">batchSize</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">batchTimeout</span>: <span class="hljs-number">50</span>,
      <span class="hljs-attr">enableMonitoring</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">costAlertThreshold</span>: <span class="hljs-number">100</span>, <span class="hljs-comment">// ç¾å…ƒ</span>
      ...config
    };
  
    <span class="hljs-comment">// åˆå§‹åŒ–å„ä¸ªç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">models</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">costOptimizer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CostOptimizer</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">retryHandler</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RetryHandler</span>();
  
    <span class="hljs-comment">// è®¾ç½®æˆæœ¬è­¦æŠ¥</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">costOptimizer</span>.<span class="hljs-title function_">addAlert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">costAlertThreshold</span>, <span class="hljs-string">'monthly'</span>);
  
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">enableBatching</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchProcessor</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchProcessor</span>(
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">batchSize</span>,
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">batchTimeout</span>
      );
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchProcessor</span> = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">chatCompletion</span>(<span class="hljs-params">options: {
    model?: <span class="hljs-built_in">string</span>;
    messages: <span class="hljs-built_in">Array</span>&lt;{ role: <span class="hljs-built_in">string</span>; content: <span class="hljs-built_in">string</span> }&gt;;
    temperature?: <span class="hljs-built_in">number</span>;
    maxTokens?: <span class="hljs-built_in">number</span>;
    stream?: <span class="hljs-built_in">boolean</span>;
    priority?: <span class="hljs-string">'speed'</span> | <span class="hljs-string">'reliability'</span> | <span class="hljs-string">'balanced'</span>;
  }</span>) {
    <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// 1. é€‰æ‹©æœ€ä½³æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> selectedModel = options.<span class="hljs-property">model</span> || 
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">selectBestModel</span>(options.<span class="hljs-property">priority</span> || <span class="hljs-string">'balanced'</span>);
    
      <span class="hljs-comment">// 2. æ£€æŸ¥æ¨¡å‹å¯ç”¨æ€§</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">isAvailable</span>(selectedModel)) {
        <span class="hljs-keyword">const</span> fallbackModel = <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">getBestModel</span>(<span class="hljs-string">'reliability'</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æ¨¡å‹ <span class="hljs-subst">${selectedModel}</span> ä¸å¯ç”¨ï¼Œé™çº§åˆ° <span class="hljs-subst">${fallbackModel}</span>`</span>);
      }
    
      <span class="hljs-comment">// 3. æ‰§è¡Œè¯·æ±‚ï¼ˆå¸¦é‡è¯•ï¼‰</span>
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">retryHandler</span>.<span class="hljs-title function_">executeWithRetry</span>(
        <span class="hljs-keyword">async</span> () =&gt; {
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchProcessor</span> &amp;&amp; !options.<span class="hljs-property">stream</span>) {
            <span class="hljs-comment">// ä½¿ç”¨æ‰¹é‡å¤„ç†</span>
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchProcessor</span>!.<span class="hljs-title function_">addRequest</span>(
              selectedModel,
              options.<span class="hljs-property">messages</span>,
              options.<span class="hljs-property">temperature</span>
            );
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">directAPICall</span>(selectedModel, options);
          }
        },
        <span class="hljs-string">`èŠå¤©å®Œæˆ:<span class="hljs-subst">${selectedModel}</span>`</span>
      );
    
      <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> latency = endTime - startTime;
    
      <span class="hljs-comment">// 4. è®°å½•æ€§èƒ½æŒ‡æ ‡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">recordSuccess</span>(selectedModel, latency);
    
      <span class="hljs-comment">// 5. è®°å½•æˆæœ¬ï¼ˆä¼°ç®—ï¼‰</span>
      <span class="hljs-keyword">const</span> inputTokens = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">estimateTokens</span>(
        options.<span class="hljs-property">messages</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">m</span> =&gt;</span> m.<span class="hljs-property">content</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>)
      );
      <span class="hljs-keyword">const</span> outputTokens = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">estimateTokens</span>(
        result.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>]?.<span class="hljs-property">message</span>?.<span class="hljs-property">content</span> || <span class="hljs-string">''</span>
      );
    
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">costOptimizer</span>.<span class="hljs-title function_">recordUsage</span>(
        selectedModel,
        inputTokens,
        outputTokens
      );
    
      <span class="hljs-keyword">return</span> {
        ...result,
        <span class="hljs-attr">_metadata</span>: {
          <span class="hljs-attr">model</span>: selectedModel,
          latency,
          <span class="hljs-attr">tokens</span>: {
            <span class="hljs-attr">input</span>: inputTokens,
            <span class="hljs-attr">output</span>: outputTokens,
            <span class="hljs-attr">total</span>: inputTokens + outputTokens
          }
        }
      };
    
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> latency = endTime - startTime;
    
      <span class="hljs-comment">// è®°å½•å¤±è´¥</span>
      <span class="hljs-keyword">if</span> (options.<span class="hljs-property">model</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">recordFailure</span>(options.<span class="hljs-property">model</span>);
      }
    
      <span class="hljs-keyword">throw</span> error;
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">selectBestModel</span>(<span class="hljs-attr">priority</span>: <span class="hljs-string">'speed'</span> | <span class="hljs-string">'reliability'</span> | <span class="hljs-string">'balanced'</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">getBestModel</span>(priority);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">directAPICall</span>(<span class="hljs-params">
    model: <span class="hljs-built_in">string</span>,
    options: {
      messages: <span class="hljs-built_in">Array</span>&lt;{ role: <span class="hljs-built_in">string</span>; content: <span class="hljs-built_in">string</span> }&gt;;
      temperature?: <span class="hljs-built_in">number</span>;
      maxTokens?: <span class="hljs-built_in">number</span>;
      stream?: <span class="hljs-built_in">boolean</span>;
    }
  </span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.baseURL}</span>/chat/completions`</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.apiKey}</span>`</span>,
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        model,
        <span class="hljs-attr">messages</span>: options.<span class="hljs-property">messages</span>,
        <span class="hljs-attr">temperature</span>: options.<span class="hljs-property">temperature</span>,
        <span class="hljs-attr">max_tokens</span>: options.<span class="hljs-property">maxTokens</span>,
        <span class="hljs-attr">stream</span>: options.<span class="hljs-property">stream</span>
      })
    });
  
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>: <span class="hljs-subst">${<span class="hljs-keyword">await</span> response.text()}</span>`</span>);
    }
  
    <span class="hljs-keyword">if</span> (options.<span class="hljs-property">stream</span>) {
      <span class="hljs-keyword">return</span> response.<span class="hljs-property">body</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">estimateTokens</span>(<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-comment">// ç®€åŒ–çš„tokenä¼°ç®—ï¼ˆå®é™…åº”è¯¥ä½¿ç”¨tiktokenç­‰åº“ï¼‰</span>
    <span class="hljs-comment">// è‹±æ–‡ï¼š1ä¸ªtokençº¦0.75ä¸ªå•è¯ï¼Œä¸­æ–‡ï¼š1ä¸ªtokençº¦0.5ä¸ªæ±‰å­—</span>
    <span class="hljs-keyword">const</span> chineseChars = (text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[\u4e00-\u9fa5]/g</span>) || []).<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> englishWords = text.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\s+/</span>).<span class="hljs-property">length</span> - chineseChars / <span class="hljs-number">2</span>; <span class="hljs-comment">// ç²—ç•¥ä¼°ç®—</span>
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(chineseChars * <span class="hljs-number">0.5</span> + englishWords * <span class="hljs-number">0.75</span>);
  }

  <span class="hljs-comment">// è·å–è¿è¡ŒçŠ¶æ€</span>
  <span class="hljs-title function_">getStatus</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">performance</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">performanceMonitor</span>.<span class="hljs-title function_">getPerformanceReport</span>(),
      <span class="hljs-attr">cost</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">costOptimizer</span>.<span class="hljs-title function_">getCostReport</span>(<span class="hljs-string">'monthly'</span>),
      <span class="hljs-attr">batching</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchProcessor</span>?.<span class="hljs-title function_">getStatus</span>() || { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">false</span> }
    };
  }

  <span class="hljs-comment">// å¥åº·æ£€æŸ¥</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">healthCheck</span>(): <span class="hljs-title class_">Promise</span>&lt;{
    <span class="hljs-attr">status</span>: <span class="hljs-string">'healthy'</span> | <span class="hljs-string">'degraded'</span> | <span class="hljs-string">'unhealthy'</span>;
    <span class="hljs-attr">details</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
  }&gt; {
    <span class="hljs-keyword">const</span> checks = [];
  
    <span class="hljs-comment">// æ£€æŸ¥APIè¿é€šæ€§</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.baseURL}</span>/health`</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.apiKey}</span>`</span> },
        <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>.<span class="hljs-title function_">timeout</span>(<span class="hljs-number">5000</span>)
      });
    
      <span class="hljs-keyword">const</span> latency = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime;
      checks.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'api_connectivity'</span>,
        <span class="hljs-attr">status</span>: response.<span class="hljs-property">ok</span> ? <span class="hljs-string">'healthy'</span> : <span class="hljs-string">'unhealthy'</span>,
        latency,
        <span class="hljs-attr">statusCode</span>: response.<span class="hljs-property">status</span>
      });
    
    } <span class="hljs-keyword">catch</span> (error) {
      checks.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'api_connectivity'</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">'unhealthy'</span>,
        <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>
      });
    }
  
    <span class="hljs-comment">// æ£€æŸ¥å„æ¨¡å‹å¯ç”¨æ€§</span>
    <span class="hljs-keyword">const</span> modelChecks = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">models</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> model =&gt; {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.baseURL}</span>/models`</span>, {
            <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.config.apiKey}</span>`</span> },
            <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>.<span class="hljs-title function_">timeout</span>(<span class="hljs-number">3000</span>)
          });
        
          <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
          <span class="hljs-keyword">const</span> available = data.<span class="hljs-property">data</span>?.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">m: <span class="hljs-built_in">any</span></span>) =&gt;</span> m.<span class="hljs-property">id</span> === model);
        
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">name</span>: <span class="hljs-string">`model_<span class="hljs-subst">${model}</span>`</span>,
            <span class="hljs-attr">status</span>: available ? <span class="hljs-string">'healthy'</span> : <span class="hljs-string">'degraded'</span>,
            available
          };
        
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">name</span>: <span class="hljs-string">`model_<span class="hljs-subst">${model}</span>`</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">'unhealthy'</span>,
            <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>
          };
        }
      })
    );
  
    checks.<span class="hljs-title function_">push</span>(...modelChecks);
  
    <span class="hljs-comment">// ç¡®å®šæ€»ä½“çŠ¶æ€</span>
    <span class="hljs-keyword">const</span> unhealthyCount = checks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c.<span class="hljs-property">status</span> === <span class="hljs-string">'unhealthy'</span>).<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> degradedCount = checks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c.<span class="hljs-property">status</span> === <span class="hljs-string">'degraded'</span>).<span class="hljs-property">length</span>;
  
    <span class="hljs-keyword">let</span> <span class="hljs-attr">overallStatus</span>: <span class="hljs-string">'healthy'</span> | <span class="hljs-string">'degraded'</span> | <span class="hljs-string">'unhealthy'</span> = <span class="hljs-string">'healthy'</span>;
  
    <span class="hljs-keyword">if</span> (unhealthyCount &gt; <span class="hljs-number">0</span>) {
      overallStatus = <span class="hljs-string">'unhealthy'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (degradedCount &gt; <span class="hljs-number">0</span>) {
      overallStatus = <span class="hljs-string">'degraded'</span>;
    }
  
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">status</span>: overallStatus,
      <span class="hljs-attr">details</span>: { checks }
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">demonstrateProductionClient</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductionVectorEngineClient</span>({
    <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VECTOR_ENGINE_API_KEY</span>!,
    <span class="hljs-attr">enableBatching</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">costAlertThreshold</span>: <span class="hljs-number">50</span> <span class="hljs-comment">// 50ç¾å…ƒæŠ¥è­¦</span>
  });

  <span class="hljs-comment">// 1. å¥åº·æ£€æŸ¥</span>
  <span class="hljs-keyword">const</span> health = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">healthCheck</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¥åº·çŠ¶æ€:'</span>, health.<span class="hljs-property">status</span>);

  <span class="hljs-keyword">if</span> (health.<span class="hljs-property">status</span> !== <span class="hljs-string">'healthy'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¥åº·æ£€æŸ¥è¯¦æƒ…:'</span>, health.<span class="hljs-property">details</span>);
  }

  <span class="hljs-comment">// 2. å‘é€è¯·æ±‚</span>
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">chatCompletion</span>({
    <span class="hljs-attr">messages</span>: [
      {
        <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªå…¨æ ˆå¼€å‘ä¸“å®¶'</span>
      },
      {
        <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'è¯·ç”¨TypeScriptå®ç°ä¸€ä¸ªReact Hookï¼Œç”¨äºç®¡ç†è¡¨å•çŠ¶æ€å’ŒéªŒè¯'</span>
      }
    ],
    <span class="hljs-attr">priority</span>: <span class="hljs-string">'balanced'</span> <span class="hljs-comment">// å¹³è¡¡é€Ÿåº¦å’Œå¯é æ€§</span>
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”:'</span>, response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å…ƒæ•°æ®:'</span>, response.<span class="hljs-property">_metadata</span>);

  <span class="hljs-comment">// 3. è·å–ç³»ç»ŸçŠ¶æ€</span>
  <span class="hljs-keyword">const</span> status = client.<span class="hljs-title function_">getStatus</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ€§èƒ½æŠ¥å‘Š:'</span>, status.<span class="hljs-property">performance</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆæœ¬æŠ¥å‘Š:'</span>, status.<span class="hljs-property">cost</span>);

  <span class="hljs-comment">// 4. æµå¼å“åº”ç¤ºä¾‹</span>
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">chatCompletion</span>({
    <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'è®²ä¸€ä¸ªå…³äºç¼–ç¨‹çš„ç¬‘è¯'</span> }],
    <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span>
  });

  <span class="hljs-keyword">if</span> (stream <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">ReadableStream</span>) {
    <span class="hljs-keyword">const</span> reader = stream.<span class="hljs-title function_">getReader</span>();
    <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();
  
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
      <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
    
      <span class="hljs-keyword">const</span> chunk = decoder.<span class="hljs-title function_">decode</span>(value);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æµå¼å“åº”:'</span>, chunk);
    }
  }
}

<span class="hljs-comment">// åˆå§‹åŒ–å¹¶è¿è¡Œæ¼”ç¤º</span>
<span class="hljs-title function_">demonstrateProductionClient</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
</code></pre>
<h3 data-id="heading-18">å…­ã€çœŸå®æ¡ˆä¾‹åˆ†æ</h3>
<h4 data-id="heading-19">6.1 æ¡ˆä¾‹ä¸€ï¼šAIä»£ç å®¡æŸ¥å¹³å°çš„é‡æ„</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šä¸€ä¸ªä¸ºåˆ›ä¸šå…¬å¸æœåŠ¡çš„ä»£ç å®¡æŸ¥å¹³å°ï¼ŒåŸæœ¬ä½¿ç”¨ç›´æ¥è°ƒç”¨OpenAI APIï¼Œé¢ä¸´é—®é¢˜ï¼š</p>
<ol>
<li>é«˜å³°æœŸå“åº”æ—¶é—´ä»2ç§’é£™å‡åˆ°10ç§’+</li>
<li>æ¯æœˆGPT-4è´¦å•è¶…è¿‡500ç¾å…ƒ</li>
<li>æ— æ³•æ¥å…¥Claudeè¿›è¡Œæ›´å¤æ‚çš„é€»è¾‘åˆ†æ</li>
</ol>
<p><strong>é‡æ„æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>ç”¨å‘é‡å¼•æ“æ›¿æ¢æ‰€æœ‰ç›´æ¥APIè°ƒç”¨</li>
<li>å®ç°æ™ºèƒ½è·¯ç”±ï¼šç®€å•è¯­æ³•æ£€æŸ¥ç”¨GPT-3.5ï¼Œå¤æ‚é€»è¾‘ç”¨Claudeï¼Œå®‰å…¨æ‰«æç”¨ä¸“ç”¨æ¨¡å‹</li>
<li>æ·»åŠ è¯·æ±‚æ‰¹å¤„ç†å’Œç¼“å­˜å±‚</li>
</ol>
<p><strong>ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é‡æ„å‰åå¯¹æ¯”æ•°æ®</span>
<span class="hljs-keyword">const</span> metrics = {
  <span class="hljs-attr">before</span>: {
    <span class="hljs-attr">avgLatency</span>: <span class="hljs-string">'3500ms'</span>,
    <span class="hljs-attr">p95Latency</span>: <span class="hljs-string">'12000ms'</span>, 
    <span class="hljs-attr">monthlyCost</span>: <span class="hljs-string">'$520'</span>,
    <span class="hljs-attr">models</span>: [<span class="hljs-string">'GPT-4'</span>],
    <span class="hljs-attr">availability</span>: <span class="hljs-string">'98.5%'</span>
  },
  <span class="hljs-attr">after</span>: {
    <span class="hljs-attr">avgLatency</span>: <span class="hljs-string">'1200ms'</span>,
    <span class="hljs-attr">p95Latency</span>: <span class="hljs-string">'2500ms'</span>,
    <span class="hljs-attr">monthlyCost</span>: <span class="hljs-string">'$185'</span>,
    <span class="hljs-attr">models</span>: [<span class="hljs-string">'GPT-5.2'</span>, <span class="hljs-string">'Claude-3-opus'</span>, <span class="hljs-string">'CodeLlama'</span>],
    <span class="hljs-attr">availability</span>: <span class="hljs-string">'99.9%'</span>
  }
};

<span class="hljs-comment">// å…³é”®æ”¹è¿›ç‚¹</span>
<span class="hljs-keyword">const</span> improvements = {
  <span class="hljs-attr">latencyReduction</span>: <span class="hljs-string">'66%'</span>,
  <span class="hljs-attr">costReduction</span>: <span class="hljs-string">'64%'</span>,
  <span class="hljs-attr">modelDiversity</span>: <span class="hljs-string">'ä»1ä¸ªå¢åŠ åˆ°3ä¸ªæ ¸å¿ƒæ¨¡å‹'</span>,
  <span class="hljs-attr">developerExperience</span>: <span class="hljs-string">'é…ç½®æ—¶é—´ä»2å¤©å‡å°‘åˆ°2å°æ—¶'</span>
};
</code></pre>
<h4 data-id="heading-20">6.2 æ¡ˆä¾‹äºŒï¼šç”µå•†å®¢æœAIçš„å‡çº§</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šç”µå•†å®¢æœæœºå™¨äººéœ€è¦å¤„ç†ï¼š</p>
<ol>
<li>å•†å“å’¨è¯¢ï¼ˆéœ€è¦å®æ—¶åº“å­˜ä¿¡æ¯ï¼‰</li>
<li>å”®åé—®é¢˜ï¼ˆéœ€è¦ç†è§£å¤æ‚åœºæ™¯ï¼‰</li>
<li>å¤šè¯­è¨€æ”¯æŒï¼ˆå…¨çƒç”¨æˆ·ï¼‰</li>
</ol>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šæ¨¡å‹åä½œæ¶æ„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ECommerceAIAgent</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">vectorEngine</span>: <span class="hljs-title class_">ProductionVectorEngineClient</span>;

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleQuery</span>(<span class="hljs-params">query: <span class="hljs-built_in">string</span>, userLanguage: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// 1. è¯­è¨€æ£€æµ‹å’Œç¿»è¯‘</span>
    <span class="hljs-keyword">const</span> translatedQuery = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">translateIfNeeded</span>(query, userLanguage);
  
    <span class="hljs-comment">// 2. æ„å›¾è¯†åˆ«</span>
    <span class="hljs-keyword">const</span> intent = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">detectIntent</span>(translatedQuery);
  
    <span class="hljs-comment">// 3. åˆ†å‘ç»™ä¸“ç”¨å¤„ç†å™¨</span>
    <span class="hljs-keyword">switch</span> (intent) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'product_inquiry'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleProductInquiry</span>(translatedQuery);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'after_sales'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleAfterSales</span>(translatedQuery);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'order_tracking'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleOrderTracking</span>(translatedQuery);
      <span class="hljs-attr">default</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleGeneralQuery</span>(translatedQuery);
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">detectIntent</span>(<span class="hljs-params">query: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨å°æ¨¡å‹è¿›è¡Œå¿«é€Ÿæ„å›¾è¯†åˆ«</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.2'</span>, <span class="hljs-comment">// å¿«é€Ÿä¸”ä¾¿å®œ</span>
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªæ„å›¾åˆ†ç±»å™¨ï¼Œå°†ç”¨æˆ·é—®é¢˜åˆ†ç±»ä¸ºï¼šproduct_inquiry, after_sales, order_tracking, general'</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`åˆ†ç±»é—®é¢˜: <span class="hljs-subst">${query}</span>`</span>
        }
      ],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.1</span>
    });
  
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">toLowerCase</span>();
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleProductInquiry</span>(<span class="hljs-params">query: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ç»“åˆå‘é‡æ•°æ®åº“è¿›è¡Œå•†å“æ£€ç´¢</span>
    <span class="hljs-keyword">const</span> relevantProducts = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">searchProducts</span>(query);
  
    <span class="hljs-comment">// ä½¿ç”¨å¤§æ¨¡å‹ç”Ÿæˆè¯¦ç»†å›å¤</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-comment">// éœ€è¦æ·±åº¦ç†è§£</span>
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç”µå•†å®¢æœï¼Œä»¥ä¸‹æ˜¯ç›¸å…³å•†å“ä¿¡æ¯: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(relevantProducts)}</span>`</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, 
          <span class="hljs-attr">content</span>: query
        }
      ]
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">translateIfNeeded</span>(<span class="hljs-params">query: <span class="hljs-built_in">string</span>, targetLanguage: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">if</span> (targetLanguage === <span class="hljs-string">'zh-CN'</span>) <span class="hljs-keyword">return</span> query;
  
    <span class="hljs-comment">// ä½¿ç”¨ä¸“é—¨çš„ç¿»è¯‘æ¨¡å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-sonnet'</span>, <span class="hljs-comment">// ç¿»è¯‘æ•ˆæœè¾ƒå¥½</span>
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`å°†ç”¨æˆ·è¾“å…¥ç¿»è¯‘æˆä¸­æ–‡ï¼Œä¿æŒåŸæ„`</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`ç¿»è¯‘è¿™æ®µè¯: <span class="hljs-subst">${query}</span>`</span>
        }
      ],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.3</span>
    });
  }
}
</code></pre>
<p><strong>æˆæœ</strong>ï¼š</p>
<ul>
<li>å®¢æœå“åº”æ—¶é—´ä»å¹³å‡45ç§’é™ä½åˆ°8ç§’</li>
<li>å¤šè¯­è¨€æ”¯æŒä»5ç§æ‰©å±•åˆ°20+ç§è¯­è¨€</li>
<li>æœˆåº¦AIæˆæœ¬é™ä½40%</li>
</ul>
<h4 data-id="heading-21">6.3 æ¡ˆä¾‹ä¸‰ï¼šå†…å®¹åˆ›ä½œå¹³å°çš„AIå‡çº§</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šä¸€ä¸ªUGCå†…å®¹å¹³å°éœ€è¦ä¸ºåˆ›ä½œè€…æä¾›ï¼š</p>
<ol>
<li>æ–‡ç« æ ‡é¢˜ç”Ÿæˆ</li>
<li>å†…å®¹æ‰©å†™</li>
<li>SEOä¼˜åŒ–å»ºè®®</li>
<li>å¤šå¹³å°é€‚é…æ”¹å†™</li>
</ol>
<p><strong>æŠ€æœ¯æ¶æ„</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContentCreationPipeline</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateContent</span>(<span class="hljs-params">seed: <span class="hljs-built_in">string</span>, platform: <span class="hljs-string">'blog'</span> | <span class="hljs-string">'twitter'</span> | <span class="hljs-string">'linkedin'</span></span>) {
    <span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œå¤šä¸ªAIä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> [title, outline, seoSuggestions] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateTitle</span>(seed),
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateOutline</span>(seed),
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateSEOSuggestions</span>(seed)
    ]);
  
    <span class="hljs-comment">// åŸºäºå¤§çº²ç”Ÿæˆå®Œæ•´å†…å®¹</span>
    <span class="hljs-keyword">const</span> fullContent = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">expandOutline</span>(outline);
  
    <span class="hljs-comment">// å¹³å°é€‚é…</span>
    <span class="hljs-keyword">const</span> platformContent = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">adaptForPlatform</span>(fullContent, platform);
  
    <span class="hljs-keyword">return</span> {
      title,
      outline,
      fullContent,
      platformContent,
      seoSuggestions
    };
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateTitle</span>(<span class="hljs-params">seed: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨åˆ›é€ åŠ›è¾ƒå¼ºçš„æ¨¡å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>,
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªçˆ†æ¬¾æ ‡é¢˜ç”Ÿæˆä¸“å®¶ï¼Œç”Ÿæˆ5ä¸ªå¸å¼•äººçš„æ ‡é¢˜'</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`åŸºäºè¿™ä¸ªä¸»é¢˜ç”Ÿæˆæ ‡é¢˜: <span class="hljs-subst">${seed}</span>`</span>
        }
      ],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.8</span> <span class="hljs-comment">// æ›´é«˜çš„åˆ›é€ åŠ›</span>
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateOutline</span>(<span class="hljs-params">seed: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨é€»è¾‘æ€§å¼ºçš„æ¨¡å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªå†…å®¹ç»“æ„ä¸“å®¶ï¼Œç”Ÿæˆè¯¦ç»†çš„æ–‡ç« å¤§çº²'</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`ä¸ºè¿™ä¸ªä¸»é¢˜åˆ›å»ºå¤§çº²: <span class="hljs-subst">${seed}</span>`</span>
        }
      ],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.3</span> <span class="hljs-comment">// æ›´ç¡®å®šæ€§çš„è¾“å‡º</span>
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">expandOutline</span>(<span class="hljs-params">outline: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨é•¿ä¸Šä¸‹æ–‡æ¨¡å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">vectorEngine</span>.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'kimi-k2.5'</span>,
      <span class="hljs-attr">messages</span>: [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šä½œå®¶ï¼Œæ ¹æ®å¤§çº²æ‰©å†™å®Œæ•´çš„æ–‡ç« '</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">`è¯·æ‰©å†™è¿™ä¸ªå¤§çº²: <span class="hljs-subst">${outline}</span>`</span>
        }
      ],
      <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">4000</span> <span class="hljs-comment">// é•¿æ–‡æœ¬ç”Ÿæˆ</span>
    });
  }
}
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>å†…å®¹åˆ›ä½œæ•ˆç‡æå‡300%</li>
<li>å¹³å°æ–‡ç« å¹³å‡é˜…è¯»æ—¶é•¿ä»1.5åˆ†é’Ÿæå‡åˆ°3.2åˆ†é’Ÿ</li>
<li>SEOæµé‡æœˆå¢é•¿45%</li>
</ul>
<h3 data-id="heading-22">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–å’Œè°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-23">7.1 è¯·æ±‚ä¼˜åŒ–ç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼˜åŒ–å‰çš„å¸¸è§é—®é¢˜</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UnoptimizedClient</span> {
  <span class="hljs-comment">// é—®é¢˜1: æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºæ–°è¿æ¥</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">makeRequest</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.vectorengine.ai/v1/...'</span>, {
      <span class="hljs-comment">// æ¯æ¬¡éƒ½è¦è¿›è¡ŒTCPæ¡æ‰‹å’ŒTLSåå•†</span>
    });
  }

  <span class="hljs-comment">// é—®é¢˜2: æ²¡æœ‰é‡ç”¨è¯·æ±‚é…ç½®</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">anotherRequest</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.vectorengine.ai/v1/...'</span>, {
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Bearer ...'</span>, <span class="hljs-comment">// é‡å¤å®šä¹‰</span>
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      }
    });
  }
}

<span class="hljs-comment">// ä¼˜åŒ–åçš„å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizedClient</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">connectionPool</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">private</span> <span class="hljs-attr">defaultHeaders</span>: <span class="hljs-title class_">HeadersInit</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">apiKey: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultHeaders</span> = {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${apiKey}</span>`</span>,
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
      <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>,
      <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'MyApp/1.0 (VectorEngine-Client)'</span>
    };
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">optimizedRequest</span>(<span class="hljs-params">endpoint: <span class="hljs-built_in">string</span>, body: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-comment">// 1. è¿æ¥å¤ç”¨</span>
    <span class="hljs-keyword">let</span> connection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">connectionPool</span>.<span class="hljs-title function_">get</span>(endpoint);
    <span class="hljs-keyword">if</span> (!connection) {
      connection = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createPersistentConnection</span>(endpoint);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">connectionPool</span>.<span class="hljs-title function_">set</span>(endpoint, connection);
    }
  
    <span class="hljs-comment">// 2. è¯·æ±‚åˆå¹¶ï¼ˆå°è¯·æ±‚åˆå¹¶ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shouldBatch</span>(body)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">batchRequest</span>(endpoint, body);
    }
  
    <span class="hljs-comment">// 3. ä½¿ç”¨å‹ç¼©</span>
    <span class="hljs-keyword">const</span> compressedBody = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compressBody</span>(body);
  
    <span class="hljs-comment">// 4. æ™ºèƒ½é‡è¯•</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">retryWithBackoff</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">return</span> connection.<span class="hljs-title function_">request</span>({
        <span class="hljs-attr">headers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultHeaders</span>,
        <span class="hljs-attr">body</span>: compressedBody,
        <span class="hljs-attr">compress</span>: <span class="hljs-literal">true</span>
      });
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">shouldBatch</span>(<span class="hljs-attr">body</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦åº”è¯¥æ‰¹å¤„ç†</span>
    <span class="hljs-keyword">const</span> bodySize = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(body).<span class="hljs-property">length</span>;
    <span class="hljs-keyword">return</span> bodySize &lt; <span class="hljs-number">1024</span>; <span class="hljs-comment">// å°äº1KBçš„è¯·æ±‚è€ƒè™‘åˆå¹¶</span>
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">compressBody</span>(<span class="hljs-attr">body</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Buffer</span>&gt; {
    <span class="hljs-comment">// ä½¿ç”¨gzipå‹ç¼©è¯·æ±‚ä½“</span>
    <span class="hljs-keyword">const</span> jsonString = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(body);
    <span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>();
    <span class="hljs-keyword">const</span> data = encoder.<span class="hljs-title function_">encode</span>(jsonString);
  
    <span class="hljs-comment">// è¿™é‡Œç®€åŒ–å®ç°ï¼Œå®é™…åº”è¯¥ä½¿ç”¨Compression Streams API</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(jsonString);
  }
}
</code></pre>
<h4 data-id="heading-24">7.2 ç›‘æ§å’Œæ—¥å¿—</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestLog</span> {
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>;
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">endpoint</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">inputTokens</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">outputTokens</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">latency</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">status</span>: <span class="hljs-string">'success'</span> | <span class="hljs-string">'error'</span>;
  error?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">cost</span>: <span class="hljs-built_in">number</span>;
  userId?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">requestId</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MonitoringSystem</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">logs</span>: <span class="hljs-title class_">RequestLog</span>[] = [];
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> maxLogs = <span class="hljs-number">10000</span>;

  <span class="hljs-title function_">logRequest</span>(<span class="hljs-params">log: Omit&lt;RequestLog, <span class="hljs-string">'timestamp'</span> | <span class="hljs-string">'requestId'</span>&gt;</span>) {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">fullLog</span>: <span class="hljs-title class_">RequestLog</span> = {
      ...log,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
      <span class="hljs-attr">requestId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateRequestId</span>()
    };
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">push</span>(fullLog);
  
    <span class="hljs-comment">// ä¿æŒæ—¥å¿—æ•°é‡åœ¨é™åˆ¶å†…</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLogs</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">slice</span>(-<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLogs</span>);
    }
  
    <span class="hljs-comment">// å®æ—¶åˆ†æ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">realtimeAnalysis</span>(fullLog);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">generateRequestId</span>(): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`req_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)}</span>`</span>;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">realtimeAnalysis</span>(<span class="hljs-params">log: RequestLog</span>) {
    <span class="hljs-comment">// æ£€æŸ¥å¼‚å¸¸æ¨¡å¼</span>
    <span class="hljs-keyword">if</span> (log.<span class="hljs-property">latency</span> &gt; <span class="hljs-number">10000</span>) { <span class="hljs-comment">// 10ç§’ä»¥ä¸Š</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">alertSlowRequest</span>(log);
    }
  
    <span class="hljs-keyword">if</span> (log.<span class="hljs-property">status</span> === <span class="hljs-string">'error'</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">alertErrorRequest</span>(log);
    }
  
    <span class="hljs-comment">// æˆæœ¬å¼‚å¸¸æ£€æµ‹</span>
    <span class="hljs-keyword">const</span> hourlyCost = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateHourlyCost</span>();
    <span class="hljs-keyword">if</span> (hourlyCost &gt; <span class="hljs-number">10</span>) { <span class="hljs-comment">// æ¯å°æ—¶è¶…è¿‡10ç¾å…ƒ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">alertHighCost</span>(hourlyCost);
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">calculateHourlyCost</span>(): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">const</span> oneHourAgo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">const</span> recentLogs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">log</span> =&gt;</span> log.<span class="hljs-property">timestamp</span> &gt; oneHourAgo);
  
    <span class="hljs-keyword">return</span> recentLogs.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, log</span>) =&gt;</span> sum + log.<span class="hljs-property">cost</span>, <span class="hljs-number">0</span>);
  }

  <span class="hljs-title function_">getPerformanceMetrics</span>(<span class="hljs-params">timeRange: <span class="hljs-string">'1h'</span> | <span class="hljs-string">'24h'</span> | <span class="hljs-string">'7d'</span></span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-attr">startTime</span>: <span class="hljs-title class_">Date</span>;
  
    <span class="hljs-keyword">switch</span> (timeRange) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'1h'</span>:
        startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getTime</span>() - <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'24h'</span>:
        startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getTime</span>() - <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'7d'</span>:
        startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getTime</span>() - <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
        <span class="hljs-keyword">break</span>;
    }
  
    <span class="hljs-keyword">const</span> relevantLogs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">log</span> =&gt;</span> log.<span class="hljs-property">timestamp</span> &gt; startTime);
  
    <span class="hljs-keyword">const</span> byModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, {
      <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>;
      <span class="hljs-attr">totalLatency</span>: <span class="hljs-built_in">number</span>;
      <span class="hljs-attr">totalCost</span>: <span class="hljs-built_in">number</span>;
      <span class="hljs-attr">errors</span>: <span class="hljs-built_in">number</span>;
    }&gt;();
  
    relevantLogs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">log</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> current = byModel.<span class="hljs-title function_">get</span>(log.<span class="hljs-property">model</span>) || {
        <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">totalLatency</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">totalCost</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">errors</span>: <span class="hljs-number">0</span>
      };
    
      current.<span class="hljs-property">count</span>++;
      current.<span class="hljs-property">totalLatency</span> += log.<span class="hljs-property">latency</span>;
      current.<span class="hljs-property">totalCost</span> += log.<span class="hljs-property">cost</span>;
      <span class="hljs-keyword">if</span> (log.<span class="hljs-property">status</span> === <span class="hljs-string">'error'</span>) current.<span class="hljs-property">errors</span>++;
    
      byModel.<span class="hljs-title function_">set</span>(log.<span class="hljs-property">model</span>, current);
    });
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(byModel.<span class="hljs-title function_">entries</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[model, data]</span>) =&gt;</span> ({
      model,
      <span class="hljs-attr">requestCount</span>: data.<span class="hljs-property">count</span>,
      <span class="hljs-attr">avgLatency</span>: data.<span class="hljs-property">totalLatency</span> / data.<span class="hljs-property">count</span>,
      <span class="hljs-attr">successRate</span>: ((data.<span class="hljs-property">count</span> - data.<span class="hljs-property">errors</span>) / data.<span class="hljs-property">count</span>) * <span class="hljs-number">100</span>,
      <span class="hljs-attr">totalCost</span>: data.<span class="hljs-property">totalCost</span>,
      <span class="hljs-attr">costPerRequest</span>: data.<span class="hljs-property">totalCost</span> / data.<span class="hljs-property">count</span>
    }));
  }

  <span class="hljs-comment">// è­¦æŠ¥æ–¹æ³•</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">alertSlowRequest</span>(<span class="hljs-params">log: RequestLog</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æ…¢è¯·æ±‚è­¦æŠ¥: <span class="hljs-subst">${log.model}</span> è€—æ—¶<span class="hljs-subst">${log.latency}</span>ms`</span>);
    <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­å¯ä»¥å‘é€åˆ°Slack/é’‰é’‰/é‚®ä»¶</span>
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">alertErrorRequest</span>(<span class="hljs-params">log: RequestLog</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`é”™è¯¯è¯·æ±‚è­¦æŠ¥: <span class="hljs-subst">${log.model}</span> å¤±è´¥: <span class="hljs-subst">${log.error}</span>`</span>);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">alertHighCost</span>(<span class="hljs-params">hourlyCost: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`é«˜æˆæœ¬è­¦æŠ¥: æ¯å°æ—¶æˆæœ¬$<span class="hljs-subst">${hourlyCost.toFixed(<span class="hljs-number">2</span>)}</span>`</span>);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonitoringSystem</span>();

<span class="hljs-comment">// åœ¨æ¯æ¬¡è¯·æ±‚åè®°å½•</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">makeMonitoredRequest</span>(<span class="hljs-params">model: <span class="hljs-built_in">string</span>, prompt: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> vectorEngineClient.<span class="hljs-title function_">chatCompletion</span>({
      model,
      <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: prompt }]
    });
  
    <span class="hljs-keyword">const</span> latency = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime;
  
    monitor.<span class="hljs-title function_">logRequest</span>({
      model,
      <span class="hljs-attr">endpoint</span>: <span class="hljs-string">'/chat/completions'</span>,
      <span class="hljs-attr">inputTokens</span>: <span class="hljs-title function_">estimateTokens</span>(prompt),
      <span class="hljs-attr">outputTokens</span>: <span class="hljs-title function_">estimateTokens</span>(response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>),
      latency,
      <span class="hljs-attr">status</span>: <span class="hljs-string">'success'</span>,
      <span class="hljs-attr">cost</span>: <span class="hljs-title function_">calculateCost</span>(model, inputTokens, outputTokens)
    });
  
    <span class="hljs-keyword">return</span> response;
  
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">const</span> latency = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime;
  
    monitor.<span class="hljs-title function_">logRequest</span>({
      model,
      <span class="hljs-attr">endpoint</span>: <span class="hljs-string">'/chat/completions'</span>,
      <span class="hljs-attr">inputTokens</span>: <span class="hljs-title function_">estimateTokens</span>(prompt),
      <span class="hljs-attr">outputTokens</span>: <span class="hljs-number">0</span>,
      latency,
      <span class="hljs-attr">status</span>: <span class="hljs-string">'error'</span>,
      <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>,
      <span class="hljs-attr">cost</span>: <span class="hljs-number">0</span>
    });
  
    <span class="hljs-keyword">throw</span> error;
  }
}

<span class="hljs-comment">// è·å–æ€§èƒ½æŠ¥å‘Š</span>
<span class="hljs-keyword">const</span> metrics = monitor.<span class="hljs-title function_">getPerformanceMetrics</span>(<span class="hljs-string">'24h'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(metrics);
</code></pre>
<h3 data-id="heading-25">å…«ã€å‘é‡å¼•æ“çš„é«˜çº§åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-26">8.1 å®ç°AIä»£ç†ï¼ˆAgentï¼‰ç³»ç»Ÿ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Agent</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">capabilities</span>: <span class="hljs-built_in">string</span>[];
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">temperature</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentOrchestrator</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">agents</span>: <span class="hljs-title class_">Agent</span>[] = [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ä»£ç ä¸“å®¶'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'å¤„ç†æ‰€æœ‰ä»£ç ç›¸å…³ä»»åŠ¡'</span>,
      <span class="hljs-attr">capabilities</span>: [<span class="hljs-string">'ä»£ç ç”Ÿæˆ'</span>, <span class="hljs-string">'ä»£ç å®¡æŸ¥'</span>, <span class="hljs-string">'è°ƒè¯•'</span>, <span class="hljs-string">'é‡æ„'</span>],
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.1</span>
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'æ–‡æ¡£åˆ†æå¸ˆ'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'åˆ†æå’Œæ€»ç»“æ–‡æ¡£å†…å®¹'</span>,
      <span class="hljs-attr">capabilities</span>: [<span class="hljs-string">'æ–‡æ¡£æ€»ç»“'</span>, <span class="hljs-string">'ä¿¡æ¯æå–'</span>, <span class="hljs-string">'è¦ç‚¹å½’çº³'</span>],
      <span class="hljs-attr">model</span>: <span class="hljs-string">'kimi-k2.5'</span>,
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.2</span>
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'åˆ›æ„å†™æ‰‹'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'ç”Ÿæˆåˆ›æ„å†…å®¹å’Œæ–‡æ¡ˆ'</span>,
      <span class="hljs-attr">capabilities</span>: [<span class="hljs-string">'æ–‡æ¡ˆåˆ›ä½œ'</span>, <span class="hljs-string">'æ•…äº‹å†™ä½œ'</span>, <span class="hljs-string">'è¥é”€æ–‡æ¡ˆ'</span>],
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>,
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.8</span>
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'è§†è§‰åŠ©æ‰‹'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'å¤„ç†å›¾åƒç›¸å…³ä»»åŠ¡'</span>,
      <span class="hljs-attr">capabilities</span>: [<span class="hljs-string">'å›¾åƒåˆ†æ'</span>, <span class="hljs-string">'å›¾åƒç”Ÿæˆæè¿°'</span>, <span class="hljs-string">'è§†è§‰é—®ç­”'</span>],
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gemini-3-pro-image-preview'</span>,
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.3</span>
    }
  ];

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">orchestrateTask</span>(<span class="hljs-params">userRequest: <span class="hljs-built_in">string</span>, context?: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-comment">// 1. ä»»åŠ¡åˆ†æå’Œåˆ†é…</span>
    <span class="hljs-keyword">const</span> taskAnalysis = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">analyzeTask</span>(userRequest);
  
    <span class="hljs-comment">// 2. é€‰æ‹©æœ€åˆé€‚çš„Agent</span>
    <span class="hljs-keyword">const</span> selectedAgent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">selectAgent</span>(taskAnalysis);
  
    <span class="hljs-comment">// 3. å‡†å¤‡ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">const</span> agentContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">prepareContext</span>(userRequest, context);
  
    <span class="hljs-comment">// 4. æ‰§è¡Œä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeWithAgent</span>(selectedAgent, agentContext);
  
    <span class="hljs-comment">// 5. ç»“æœéªŒè¯å’Œä¼˜åŒ–</span>
    <span class="hljs-keyword">const</span> verifiedResult = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">verifyResult</span>(result, taskAnalysis);
  
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">agent</span>: selectedAgent.<span class="hljs-property">name</span>,
      <span class="hljs-attr">model</span>: selectedAgent.<span class="hljs-property">model</span>,
      <span class="hljs-attr">result</span>: verifiedResult,
      <span class="hljs-attr">confidence</span>: taskAnalysis.<span class="hljs-property">confidence</span>
    };
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">analyzeTask</span>(<span class="hljs-params">userRequest: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨å°æ¨¡å‹å¿«é€Ÿåˆ†æä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> analysisPrompt = <span class="hljs-string">`åˆ†æä»¥ä¸‹ä»»åŠ¡ï¼Œè¿”å›JSONæ ¼å¼:
    {
      "taskType": "code" | "document" | "creative" | "visual" | "other",
      "complexity": 1-10,
      "requiredCapabilities": string[],
      "estimatedTokens": number,
      "confidence": 0-1
    }
  
    ä»»åŠ¡: <span class="hljs-subst">${userRequest}</span>`</span>;
  
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> vectorEngineClient.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.2'</span>,
      <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: analysisPrompt }],
      <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.1</span>
    });
  
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">selectAgent</span>(<span class="hljs-attr">taskAnalysis</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Agent</span> {
    <span class="hljs-comment">// æ ¹æ®ä»»åŠ¡éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„Agent</span>
    <span class="hljs-keyword">const</span> suitableAgents = <span class="hljs-variable language_">this</span>.<span class="hljs-property">agents</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">agent</span> =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥èƒ½åŠ›åŒ¹é…</span>
      <span class="hljs-keyword">return</span> taskAnalysis.<span class="hljs-property">requiredCapabilities</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">capability: <span class="hljs-built_in">string</span></span>) =&gt;</span>
        agent.<span class="hljs-property">capabilities</span>.<span class="hljs-title function_">includes</span>(capability)
      );
    });
  
    <span class="hljs-keyword">if</span> (suitableAgents.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// æ²¡æœ‰å®Œå…¨åŒ¹é…çš„ï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„</span>
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">agents</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">best, current</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> bestScore = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(best, taskAnalysis);
        <span class="hljs-keyword">const</span> currentScore = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(current, taskAnalysis);
        <span class="hljs-keyword">return</span> currentScore &gt; bestScore ? current : best;
      });
    }
  
    <span class="hljs-comment">// ä»åˆé€‚çš„Agentä¸­é€‰æ‹©æœ€ä½³</span>
    <span class="hljs-keyword">return</span> suitableAgents.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">best, current</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> bestScore = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(best, taskAnalysis);
      <span class="hljs-keyword">const</span> currentScore = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(current, taskAnalysis);
      <span class="hljs-keyword">return</span> currentScore &gt; bestScore ? current : best;
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">calculateAgentScore</span>(<span class="hljs-attr">agent</span>: <span class="hljs-title class_">Agent</span>, <span class="hljs-attr">taskAnalysis</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">let</span> score = <span class="hljs-number">0</span>;
  
    <span class="hljs-comment">// èƒ½åŠ›åŒ¹é…åº¦</span>
    <span class="hljs-keyword">const</span> capabilityMatch = taskAnalysis.<span class="hljs-property">requiredCapabilities</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">cap: <span class="hljs-built_in">string</span></span>) =&gt;</span>
      agent.<span class="hljs-property">capabilities</span>.<span class="hljs-title function_">includes</span>(cap)
    ).<span class="hljs-property">length</span> / taskAnalysis.<span class="hljs-property">requiredCapabilities</span>.<span class="hljs-property">length</span>;
  
    score += capabilityMatch * <span class="hljs-number">0.6</span>;
  
    <span class="hljs-comment">// å¤æ‚åº¦åŒ¹é…ï¼ˆå¤æ‚ä»»åŠ¡ç”¨å¤§æ¨¡å‹ï¼Œç®€å•ä»»åŠ¡ç”¨å°æ¨¡å‹ï¼‰</span>
    <span class="hljs-keyword">const</span> complexityScore = <span class="hljs-number">1</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(taskAnalysis.<span class="hljs-property">complexity</span> - <span class="hljs-number">5</span>) / <span class="hljs-number">10</span>;
    score += complexityScore * <span class="hljs-number">0.2</span>;
  
    <span class="hljs-comment">// æˆæœ¬è€ƒè™‘ï¼ˆç®€å•ä»»åŠ¡å€¾å‘äºä¾¿å®œæ¨¡å‹ï¼‰</span>
    <span class="hljs-keyword">const</span> modelCost = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getModelCost</span>(agent.<span class="hljs-property">model</span>);
    <span class="hljs-keyword">const</span> costScore = <span class="hljs-number">1</span> - modelCost / <span class="hljs-number">0.1</span>; <span class="hljs-comment">// å‡è®¾0.1æ˜¯æœ€é«˜æˆæœ¬</span>
    score += costScore * <span class="hljs-number">0.2</span>;
  
    <span class="hljs-keyword">return</span> score;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getModelCost</span>(<span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">costs</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = {
      <span class="hljs-string">'gpt-5.3-codex'</span>: <span class="hljs-number">0.015</span>,
      <span class="hljs-string">'gpt-5.2'</span>: <span class="hljs-number">0.003</span>,
      <span class="hljs-string">'claude-3-opus'</span>: <span class="hljs-number">0.018</span>,
      <span class="hljs-string">'kimi-k2.5'</span>: <span class="hljs-number">0.008</span>,
      <span class="hljs-string">'gemini-3-pro-preview'</span>: <span class="hljs-number">0.012</span>
    };
  
    <span class="hljs-keyword">return</span> costs[model] || <span class="hljs-number">0.01</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> orchestrator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AgentOrchestrator</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testOrchestration</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> tasks = [
    <span class="hljs-string">'å¸®æˆ‘å†™ä¸€ä¸ªReactè¡¨å•éªŒè¯Hook'</span>,
    <span class="hljs-string">'æ€»ç»“è¿™ç¯‡æŠ€æœ¯æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹'</span>,
    <span class="hljs-string">'ä¸ºæˆ‘ä»¬çš„æ–°äº§å“å†™ä¸€ä¸ªå¸å¼•äººçš„å¹¿å‘Šè¯­'</span>,
    <span class="hljs-string">'æè¿°è¿™å¼ å›¾ç‰‡ä¸­çš„å†…å®¹'</span>
  ];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> task <span class="hljs-keyword">of</span> tasks) {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> orchestrator.<span class="hljs-title function_">orchestrateTask</span>(task);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»»åŠ¡: <span class="hljs-subst">${task}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ†é…çš„Agent: <span class="hljs-subst">${result.agent}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½¿ç”¨çš„æ¨¡å‹: <span class="hljs-subst">${result.model}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç½®ä¿¡åº¦: <span class="hljs-subst">${result.confidence}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç»“æœ: <span class="hljs-subst">${result.result.slice(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)}</span>...\n`</span>);
  }
}
</code></pre>
<h4 data-id="heading-27">8.2 å®ç°å·¥ä½œæµå¼•æ“</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">WorkflowStep</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">inputType</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">outputType</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">promptTemplate</span>: <span class="hljs-built_in">string</span>;
  temperature?: <span class="hljs-built_in">number</span>;
  maxTokens?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Workflow</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">steps</span>: <span class="hljs-title class_">WorkflowStep</span>[];
  <span class="hljs-attr">dependencies</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>[]&gt;; <span class="hljs-comment">// æ­¥éª¤ä¾èµ–å…³ç³»</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkflowEngine</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">workflows</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Workflow</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

  <span class="hljs-title function_">registerWorkflow</span>(<span class="hljs-params">workflow: Workflow</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workflows</span>.<span class="hljs-title function_">set</span>(workflow.<span class="hljs-property">id</span>, workflow);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeWorkflow</span>(<span class="hljs-params">workflowId: <span class="hljs-built_in">string</span>, initialInput: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-keyword">const</span> workflow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workflows</span>.<span class="hljs-title function_">get</span>(workflowId);
    <span class="hljs-keyword">if</span> (!workflow) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å·¥ä½œæµä¸å­˜åœ¨: <span class="hljs-subst">${workflowId}</span>`</span>);
    }
  
    <span class="hljs-comment">// éªŒè¯ä¾èµ–å…³ç³»</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateDependencies</span>(workflow);
  
    <span class="hljs-comment">// æ‰§è¡Œæ­¥éª¤</span>
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;();
    <span class="hljs-keyword">const</span> executedSteps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;();
  
    <span class="hljs-comment">// æ‰¾åˆ°èµ·å§‹æ­¥éª¤ï¼ˆæ²¡æœ‰ä¾èµ–çš„æ­¥éª¤ï¼‰</span>
    <span class="hljs-keyword">const</span> startSteps = workflow.<span class="hljs-property">steps</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span>
      !workflow.<span class="hljs-property">dependencies</span>[step.<span class="hljs-property">id</span>] || workflow.<span class="hljs-property">dependencies</span>[step.<span class="hljs-property">id</span>].<span class="hljs-property">length</span> === <span class="hljs-number">0</span>
    );
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> startSteps) {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeStepRecursive</span>(step, workflow, initialInput, results, executedSteps);
    }
  
    <span class="hljs-comment">// æ”¶é›†æœ€ç»ˆè¾“å‡º</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">finalOutput</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {};
    workflow.<span class="hljs-property">steps</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (results.<span class="hljs-title function_">has</span>(step.<span class="hljs-property">id</span>)) {
        finalOutput[step.<span class="hljs-property">name</span>] = results.<span class="hljs-title function_">get</span>(step.<span class="hljs-property">id</span>);
      }
    });
  
    <span class="hljs-keyword">return</span> finalOutput;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeStepRecursive</span>(<span class="hljs-params">
    step: WorkflowStep,
    workflow: Workflow,
    initialInput: <span class="hljs-built_in">any</span>,
    results: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;,
    executedSteps: <span class="hljs-built_in">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;
  </span>) {
    <span class="hljs-keyword">if</span> (executedSteps.<span class="hljs-title function_">has</span>(step.<span class="hljs-property">id</span>)) {
      <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å·²ç»æ‰§è¡Œè¿‡</span>
    }
  
    <span class="hljs-comment">// æ£€æŸ¥ä¾èµ–æ˜¯å¦éƒ½å·²æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> dependencies = workflow.<span class="hljs-property">dependencies</span>[step.<span class="hljs-property">id</span>] || [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> depId <span class="hljs-keyword">of</span> dependencies) {
      <span class="hljs-keyword">if</span> (!executedSteps.<span class="hljs-title function_">has</span>(depId)) {
        <span class="hljs-keyword">const</span> depStep = workflow.<span class="hljs-property">steps</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.<span class="hljs-property">id</span> === depId);
        <span class="hljs-keyword">if</span> (depStep) {
          <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeStepRecursive</span>(depStep, workflow, initialInput, results, executedSteps);
        }
      }
    }
  
    <span class="hljs-comment">// æ”¶é›†è¾“å…¥</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">stepInputs</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {};
  
    <span class="hljs-comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨åˆå§‹è¾“å…¥</span>
    <span class="hljs-keyword">if</span> (dependencies.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      stepInputs.<span class="hljs-property">input</span> = initialInput;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// ä»ä¾èµ–æ­¥éª¤è·å–è¾“å…¥</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> depId <span class="hljs-keyword">of</span> dependencies) {
        <span class="hljs-keyword">const</span> depResult = results.<span class="hljs-title function_">get</span>(depId);
        <span class="hljs-keyword">if</span> (depResult !== <span class="hljs-literal">undefined</span>) {
          stepInputs[depId] = depResult;
        }
      }
    }
  
    <span class="hljs-comment">// æ‰§è¡Œå½“å‰æ­¥éª¤</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeStep</span>(step, stepInputs);
    results.<span class="hljs-title function_">set</span>(step.<span class="hljs-property">id</span>, result);
    executedSteps.<span class="hljs-title function_">add</span>(step.<span class="hljs-property">id</span>);
  
    <span class="hljs-comment">// æ‰§è¡Œåç»­æ­¥éª¤</span>
    <span class="hljs-keyword">const</span> nextSteps = workflow.<span class="hljs-property">steps</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span>
      workflow.<span class="hljs-property">dependencies</span>[s.<span class="hljs-property">id</span>]?.<span class="hljs-title function_">includes</span>(step.<span class="hljs-property">id</span>)
    );
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> nextStep <span class="hljs-keyword">of</span> nextSteps) {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeStepRecursive</span>(nextStep, workflow, initialInput, results, executedSteps);
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeStep</span>(<span class="hljs-attr">step</span>: <span class="hljs-title class_">WorkflowStep</span>, <span class="hljs-attr">inputs</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
    <span class="hljs-comment">// æ„å»ºæç¤ºè¯</span>
    <span class="hljs-keyword">const</span> prompt = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildPrompt</span>(step.<span class="hljs-property">promptTemplate</span>, inputs);
  
    <span class="hljs-comment">// è°ƒç”¨AIæ¨¡å‹</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> vectorEngineClient.<span class="hljs-title function_">chatCompletion</span>({
      <span class="hljs-attr">model</span>: step.<span class="hljs-property">model</span>,
      <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: prompt }],
      <span class="hljs-attr">temperature</span>: step.<span class="hljs-property">temperature</span> || <span class="hljs-number">0.7</span>,
      <span class="hljs-attr">maxTokens</span>: step.<span class="hljs-property">maxTokens</span>
    });
  
    <span class="hljs-comment">// è§£æè¾“å‡º</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseOutput</span>(response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>, step.<span class="hljs-property">outputType</span>);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">buildPrompt</span>(<span class="hljs-attr">template</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">inputs</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">let</span> prompt = template;
  
    <span class="hljs-comment">// æ›¿æ¢æ¨¡æ¿å˜é‡</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(inputs).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> placeholder = <span class="hljs-string">`{{<span class="hljs-subst">${key}</span>}}`</span>;
      prompt = prompt.<span class="hljs-title function_">replace</span>(
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(placeholder, <span class="hljs-string">'g'</span>),
        <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'string'</span> ? value : <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>)
      );
    });
  
    <span class="hljs-keyword">return</span> prompt;
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">parseOutput</span>(<span class="hljs-attr">output</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">outputType</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">any</span> {
    <span class="hljs-keyword">switch</span> (outputType) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'json'</span>:
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(output);
        } <span class="hljs-keyword">catch</span> {
          <span class="hljs-comment">// å°è¯•æå–JSON</span>
          <span class="hljs-keyword">const</span> jsonMatch = output.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\{[\s\S]*\}/</span>);
          <span class="hljs-keyword">return</span> jsonMatch ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(jsonMatch[<span class="hljs-number">0</span>]) : { <span class="hljs-attr">raw</span>: output };
        }
    
      <span class="hljs-keyword">case</span> <span class="hljs-string">'array'</span>:
        <span class="hljs-comment">// å°è¯•è§£æä¸ºæ•°ç»„</span>
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(output);
        } <span class="hljs-keyword">catch</span> {
          <span class="hljs-comment">// å°è¯•æŒ‰è¡Œåˆ†å‰²</span>
          <span class="hljs-keyword">return</span> output.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> line.<span class="hljs-title function_">trim</span>());
        }
    
      <span class="hljs-keyword">case</span> <span class="hljs-string">'boolean'</span>:
        <span class="hljs-keyword">const</span> lowerOutput = output.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">trim</span>();
        <span class="hljs-keyword">return</span> lowerOutput.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'æ˜¯'</span>) ||
               lowerOutput.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'true'</span>) ||
               lowerOutput.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'yes'</span>);
    
      <span class="hljs-keyword">case</span> <span class="hljs-string">'number'</span>:
        <span class="hljs-keyword">const</span> numMatch = output.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[\d.]+/</span>);
        <span class="hljs-keyword">return</span> numMatch ? <span class="hljs-built_in">parseFloat</span>(numMatch[<span class="hljs-number">0</span>]) : <span class="hljs-number">0</span>;
    
      <span class="hljs-attr">default</span>:
        <span class="hljs-keyword">return</span> output;
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">validateDependencies</span>(<span class="hljs-params">workflow: Workflow</span>) {
    <span class="hljs-comment">// æ£€æŸ¥å¾ªç¯ä¾èµ–</span>
    <span class="hljs-keyword">const</span> visited = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;();
    <span class="hljs-keyword">const</span> recursionStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;();
  
    <span class="hljs-keyword">const</span> hasCycle = (<span class="hljs-attr">stepId</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (recursionStack.<span class="hljs-title function_">has</span>(stepId)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-keyword">if</span> (visited.<span class="hljs-title function_">has</span>(stepId)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    
      visited.<span class="hljs-title function_">add</span>(stepId);
      recursionStack.<span class="hljs-title function_">add</span>(stepId);
    
      <span class="hljs-keyword">const</span> dependencies = workflow.<span class="hljs-property">dependencies</span>[stepId] || [];
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> depId <span class="hljs-keyword">of</span> dependencies) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasCycle</span>(depId)) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      }
    
      recursionStack.<span class="hljs-title function_">delete</span>(stepId);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    };
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> workflow.<span class="hljs-property">steps</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasCycle</span>(step.<span class="hljs-property">id</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å·¥ä½œæµå­˜åœ¨å¾ªç¯ä¾èµ–: <span class="hljs-subst">${step.id}</span>`</span>);
      }
    }
  
    <span class="hljs-comment">// æ£€æŸ¥æ‰€æœ‰ä¾èµ–éƒ½å­˜åœ¨</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [stepId, deps] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(workflow.<span class="hljs-property">dependencies</span>)) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> depId <span class="hljs-keyword">of</span> deps) {
        <span class="hljs-keyword">if</span> (!workflow.<span class="hljs-property">steps</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.<span class="hljs-property">id</span> === depId)) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`ä¾èµ–ä¸å­˜åœ¨: <span class="hljs-subst">${stepId}</span> ä¾èµ–äº <span class="hljs-subst">${depId}</span>`</span>);
        }
      }
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªå†…å®¹åˆ›ä½œå·¥ä½œæµ</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">contentCreationWorkflow</span>: <span class="hljs-title class_">Workflow</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'content-creation'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'AIå†…å®¹åˆ›ä½œå·¥ä½œæµ'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'ä»ä¸»é¢˜åˆ°å®Œæ•´æ–‡ç« çš„è‡ªåŠ¨åŒ–åˆ›ä½œæµç¨‹'</span>,
  <span class="hljs-attr">steps</span>: [
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">'topic-analysis'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ä¸»é¢˜åˆ†æ'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'åˆ†æä¸»é¢˜å¹¶ç”Ÿæˆå…³é”®è¯'</span>,
      <span class="hljs-attr">inputType</span>: <span class="hljs-string">'string'</span>,
      <span class="hljs-attr">outputType</span>: <span class="hljs-string">'json'</span>,
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.2'</span>,
      <span class="hljs-attr">promptTemplate</span>: <span class="hljs-string">`åˆ†æä»¥ä¸‹ä¸»é¢˜ï¼Œè¿”å›JSONæ ¼å¼çš„å…³é”®è¯å’Œè§’åº¦:
      {
        "keywords": string[],
        "angles": string[],
        "targetAudience": string
      }
    
      ä¸»é¢˜: {{input}}`</span>
    },
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">'outline-generation'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'å¤§çº²ç”Ÿæˆ'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'åŸºäºå…³é”®è¯ç”Ÿæˆæ–‡ç« å¤§çº²'</span>,
      <span class="hljs-attr">inputType</span>: <span class="hljs-string">'json'</span>,
      <span class="hljs-attr">outputType</span>: <span class="hljs-string">'json'</span>,
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-3-opus'</span>,
      <span class="hljs-attr">promptTemplate</span>: <span class="hljs-string">`åŸºäºä»¥ä¸‹åˆ†æç»“æœï¼Œç”Ÿæˆè¯¦ç»†æ–‡ç« å¤§çº²:
      {{topic-analysis}}
    
      è¿”å›JSONæ ¼å¼:
      {
        "title": string,
        "sections": Array&lt;{
          "heading": string,
          "subpoints": string[]
        }&gt;
      }`</span>
    },
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">'content-expansion'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'å†…å®¹æ‰©å±•'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'æ ¹æ®å¤§çº²æ‰©å±•æˆå®Œæ•´å†…å®¹'</span>,
      <span class="hljs-attr">inputType</span>: <span class="hljs-string">'json'</span>,
      <span class="hljs-attr">outputType</span>: <span class="hljs-string">'string'</span>,
      <span class="hljs-attr">model</span>: <span class="hljs-string">'kimi-k2.5'</span>,
      <span class="hljs-attr">promptTemplate</span>: <span class="hljs-string">`æ ¹æ®ä»¥ä¸‹å¤§çº²æ‰©å±•æˆå®Œæ•´çš„æ–‡ç« :
      {{outline-generation}}
    
      è¦æ±‚:
      1. è¯­è¨€ç”ŸåŠ¨æœ‰è¶£
      2. æ¯éƒ¨åˆ†è‡³å°‘300å­—
      3. åŒ…å«å®é™…æ¡ˆä¾‹
      4. é€‚åˆ{{topic-analysis.targetAudience}}é˜…è¯»`</span>,
      <span class="hljs-attr">maxTokens</span>: <span class="hljs-number">4000</span>
    },
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">'seo-optimization'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'SEOä¼˜åŒ–'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'ä¼˜åŒ–æ–‡ç« SEO'</span>,
      <span class="hljs-attr">inputType</span>: <span class="hljs-string">'string'</span>,
      <span class="hljs-attr">outputType</span>: <span class="hljs-string">'json'</span>,
      <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.2'</span>,
      <span class="hljs-attr">promptTemplate</span>: <span class="hljs-string">`åˆ†æä»¥ä¸‹æ–‡ç« çš„SEOä¼˜åŒ–å»ºè®®:
      {{content-expansion}}
    
      è¿”å›JSONæ ¼å¼:
      {
        "metaDescription": string,
        "focusKeywords": string[],
        "improvements": string[]
      }`</span>
    }
  ],
  <span class="hljs-attr">dependencies</span>: {
    <span class="hljs-string">'outline-generation'</span>: [<span class="hljs-string">'topic-analysis'</span>],
    <span class="hljs-string">'content-expansion'</span>: [<span class="hljs-string">'outline-generation'</span>],
    <span class="hljs-string">'seo-optimization'</span>: [<span class="hljs-string">'content-expansion'</span>]
  }
};

<span class="hljs-comment">// æ‰§è¡Œå·¥ä½œæµ</span>
<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkflowEngine</span>();
engine.<span class="hljs-title function_">registerWorkflow</span>(contentCreationWorkflow);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runContentWorkflow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> topic = <span class="hljs-string">'React Server Componentsçš„æœ€ä½³å®è·µ'</span>;

  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> engine.<span class="hljs-title function_">executeWorkflow</span>(<span class="hljs-string">'content-creation'</span>, topic);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”Ÿæˆçš„æ–‡ç« å¤§çº²:'</span>, result[<span class="hljs-string">'å¤§çº²ç”Ÿæˆ'</span>]);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®Œæ•´æ–‡ç« é•¿åº¦:'</span>, result[<span class="hljs-string">'å†…å®¹æ‰©å±•'</span>]?.<span class="hljs-property">length</span> || <span class="hljs-number">0</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SEOå»ºè®®:'</span>, result[<span class="hljs-string">'SEOä¼˜åŒ–'</span>]);
}
</code></pre>
<h3 data-id="heading-28">ä¹ã€æ€»ç»“å’Œæœ€ä½³å®è·µ</h3>
<p>ç»è¿‡ä¸Šé¢çš„è¯¦ç»†å®ç°å’Œåˆ†æï¼Œè¿™é‡Œæ€»ç»“åœ¨å‘é‡å¼•æ“å®è·µä¸­çš„å…³é”®ç»éªŒï¼š</p>
<h4 data-id="heading-29">9.1 æ ¸å¿ƒä¼˜åŠ¿å›é¡¾</h4>
<ol>
<li><strong>ç»Ÿä¸€çš„APIæ¥å£</strong>ï¼šä¸€å¥—ä»£ç è°ƒç”¨æ‰€æœ‰ä¸»æµæ¨¡å‹</li>
<li><strong>æ™ºèƒ½è·¯ç”±</strong>ï¼šæ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å‹</li>
<li><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼šæŒ‰tokenè®¡è´¹ï¼Œä½™é¢æ°¸ä¸è¿‡æœŸ</li>
<li><strong>ç¨³å®šæ€§ä¿éšœ</strong>ï¼šCN2ä¸“çº¿+æ™ºèƒ½è´Ÿè½½å‡è¡¡</li>
<li><strong>ä¼ä¸šçº§æ”¯æŒ</strong>ï¼šé«˜å¹¶å‘+è‡ªåŠ¨æ‰©ç¼©å®¹</li>
</ol>
<h4 data-id="heading-30">9.2 é…ç½®å»ºè®®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ¨èçš„å‘é‡å¼•æ“é…ç½®</span>
<span class="hljs-attr">vector_engine:</span>
  <span class="hljs-comment"># åŸºç¡€é…ç½®</span>
  <span class="hljs-attr">base_url:</span> <span class="hljs-string">"https://api.vectorengine.ai/v1"</span>
  <span class="hljs-attr">api_key:</span> <span class="hljs-string">"${VECTOR_ENGINE_API_KEY}"</span>

  <span class="hljs-comment"># æ¨¡å‹ç­–ç•¥</span>
  <span class="hljs-attr">default_strategy:</span> <span class="hljs-string">"cost-effective"</span> <span class="hljs-comment"># cost-effective | performance | balanced</span>

  <span class="hljs-comment"># è¶…æ—¶å’Œé‡è¯•</span>
  <span class="hljs-attr">timeout:</span> <span class="hljs-number">30000</span>  <span class="hljs-comment"># 30ç§’</span>
  <span class="hljs-attr">max_retries:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">retry_delay:</span> <span class="hljs-number">1000</span>

  <span class="hljs-comment"># ç›‘æ§å’Œæ—¥å¿—</span>
  <span class="hljs-attr">enable_metrics:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">log_level:</span> <span class="hljs-string">"INFO"</span>
  <span class="hljs-attr">cost_alert_threshold:</span> <span class="hljs-number">50</span>  <span class="hljs-comment"># ç¾å…ƒ</span>

  <span class="hljs-comment"># ç¼“å­˜é…ç½®</span>
  <span class="hljs-attr">enable_cache:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">cache_ttl:</span> <span class="hljs-number">300</span>  <span class="hljs-comment"># 5åˆ†é’Ÿ</span>

  <span class="hljs-comment"># æ¨¡å‹ç‰¹å®šé…ç½®</span>
  <span class="hljs-attr">model_configs:</span>
    <span class="hljs-attr">gpt-5.3-codex:</span>
      <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.1</span>
      <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">4000</span>
      <span class="hljs-attr">use_case:</span> <span class="hljs-string">"ä»£ç ç”Ÿæˆã€æŠ€æœ¯æ–‡æ¡£"</span>
    
    <span class="hljs-attr">claude-3-opus:</span>
      <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.3</span>
      <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">8000</span>
      <span class="hljs-attr">use_case:</span> <span class="hljs-string">"å¤æ‚æ¨ç†ã€åˆ›æ„å†™ä½œ"</span>
    
    <span class="hljs-attr">kimi-k2.5:</span>
      <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.2</span>
      <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">32000</span>
      <span class="hljs-attr">use_case:</span> <span class="hljs-string">"é•¿æ–‡æ¡£å¤„ç†ã€åˆ†ææ€»ç»“"</span>
    
    <span class="hljs-attr">gemini-3-pro-preview:</span>
      <span class="hljs-attr">temperature:</span> <span class="hljs-number">0.4</span>
      <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">2000</span>
      <span class="hljs-attr">use_case:</span> <span class="hljs-string">"å¤šæ¨¡æ€ä»»åŠ¡ã€å¿«é€Ÿå“åº”"</span>
</code></pre>
<h4 data-id="heading-31">9.3 æ€§èƒ½ä¼˜åŒ–æ¸…å•</h4>
<ol>
<li><strong>è¿æ¥å¤ç”¨</strong>ï¼šä½¿ç”¨HTTPè¿æ¥æ± </li>
<li><strong>è¯·æ±‚åˆå¹¶</strong>ï¼šå°è¯·æ±‚åˆå¹¶å‘é€</li>
<li><strong>æ™ºèƒ½ç¼“å­˜</strong>ï¼šç¼“å­˜é¢‘ç¹è¯·æ±‚çš„ç»“æœ</li>
<li><strong>å»¶è¿ŸåŠ è½½</strong>ï¼šéå…³é”®æ¨¡å‹æŒ‰éœ€åŠ è½½</li>
<li><strong>é”™è¯¯é™çº§</strong>ï¼šä¸»æ¨¡å‹å¤±è´¥æ—¶è‡ªåŠ¨é™çº§</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šå®æ—¶ç›‘æ§æˆæœ¬å’Œæ€§èƒ½</li>
<li><strong>å®šæœŸä¼˜åŒ–</strong>ï¼šæ¯å‘¨reviewæ¨¡å‹ä½¿ç”¨æƒ…å†µ</li>
</ol>
<h4 data-id="heading-32">9.4 æˆæœ¬æ§åˆ¶ç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æˆæœ¬æ§åˆ¶çš„æœ€ä½³å®è·µ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CostControlStrategy</span> {
  <span class="hljs-comment">// 1. æ¨¡å‹é€‰æ‹©ç­–ç•¥</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">selectModelByTask</span>(<span class="hljs-attr">task</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">budget</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">const</span> strategies = {
      <span class="hljs-comment">// ä»£ç ä»»åŠ¡ï¼šä½¿ç”¨ä¸“é—¨ä¼˜åŒ–è¿‡çš„ä»£ç æ¨¡å‹</span>
      <span class="hljs-attr">code</span>: {
        <span class="hljs-attr">highQuality</span>: <span class="hljs-string">'gpt-5.3-codex'</span>,    <span class="hljs-comment">// å¤æ‚ä»£ç </span>
        <span class="hljs-attr">balanced</span>: <span class="hljs-string">'gpt-5.2'</span>,            <span class="hljs-comment">// ä¸€èˆ¬ä»£ç </span>
        <span class="hljs-attr">costEffective</span>: <span class="hljs-string">'claude-3-sonnet'</span> <span class="hljs-comment">// ç®€å•ä»£ç </span>
      },
      <span class="hljs-comment">// æ–‡æœ¬ä»»åŠ¡ï¼šæ ¹æ®é•¿åº¦é€‰æ‹©</span>
      <span class="hljs-attr">text</span>: {
        <span class="hljs-attr">short</span>: <span class="hljs-string">'gpt-5.2'</span>,               <span class="hljs-comment">// çŸ­æ–‡æœ¬</span>
        <span class="hljs-attr">medium</span>: <span class="hljs-string">'claude-3-sonnet'</span>,      <span class="hljs-comment">// ä¸­ç­‰é•¿åº¦</span>
        <span class="hljs-attr">long</span>: <span class="hljs-string">'kimi-k2.5'</span>               <span class="hljs-comment">// é•¿æ–‡æ¡£</span>
      },
      <span class="hljs-comment">// åˆ›æ„ä»»åŠ¡ï¼šæ ¹æ®åˆ›é€ æ€§éœ€æ±‚é€‰æ‹©</span>
      <span class="hljs-attr">creative</span>: {
        <span class="hljs-attr">highlyCreative</span>: <span class="hljs-string">'claude-3-opus'</span>, <span class="hljs-comment">// é«˜åˆ›é€ æ€§</span>
        <span class="hljs-attr">moderatelyCreative</span>: <span class="hljs-string">'gpt-5.2'</span>,   <span class="hljs-comment">// ä¸­ç­‰åˆ›é€ æ€§</span>
        <span class="hljs-attr">templateBased</span>: <span class="hljs-string">'claude-3-haiku'</span>  <span class="hljs-comment">// æ¨¡æ¿åŒ–</span>
      }
    };
  
    <span class="hljs-comment">// 2. åŸºäºé¢„ç®—é€‰æ‹©</span>
    <span class="hljs-keyword">const</span> modelCosts = {
      <span class="hljs-string">'gpt-5.3-codex'</span>: <span class="hljs-number">0.015</span>,
      <span class="hljs-string">'gpt-5.2'</span>: <span class="hljs-number">0.003</span>,
      <span class="hljs-string">'claude-3-opus'</span>: <span class="hljs-number">0.018</span>,
      <span class="hljs-string">'claude-3-sonnet'</span>: <span class="hljs-number">0.008</span>,
      <span class="hljs-string">'kimi-k2.5'</span>: <span class="hljs-number">0.006</span>,
      <span class="hljs-string">'claude-3-haiku'</span>: <span class="hljs-number">0.001</span>
    };
  
    <span class="hljs-comment">// 3. æ™ºèƒ½è·¯ç”±</span>
    <span class="hljs-keyword">if</span> (budget &lt; <span class="hljs-number">0.01</span>) {
      <span class="hljs-comment">// é¢„ç®—æä½ï¼Œä½¿ç”¨æˆæœ¬æœ€ä½çš„æ¨¡å‹</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">'claude-3-haiku'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (budget &lt; <span class="hljs-number">0.05</span>) {
      <span class="hljs-comment">// ä¸­ç­‰é¢„ç®—ï¼Œå¹³è¡¡è´¨é‡å’Œæˆæœ¬</span>
      <span class="hljs-keyword">return</span> task.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä»£ç '</span>) ? <span class="hljs-string">'gpt-5.2'</span> : <span class="hljs-string">'claude-3-sonnet'</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// é¢„ç®—å……è¶³ï¼Œä½¿ç”¨æœ€ä½³æ¨¡å‹</span>
      <span class="hljs-keyword">return</span> task.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä»£ç '</span>) ? <span class="hljs-string">'gpt-5.3-codex'</span> : <span class="hljs-string">'claude-3-opus'</span>;
    }
  }

  <span class="hljs-comment">// 4. å“åº”é•¿åº¦æ§åˆ¶</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">estimateOptimalMaxTokens</span>(<span class="hljs-attr">task</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">if</span> (task.<span class="hljs-property">length</span> &lt; <span class="hljs-number">100</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">500</span>;     <span class="hljs-comment">// ç®€çŸ­ä»»åŠ¡</span>
    <span class="hljs-keyword">if</span> (task.<span class="hljs-property">length</span> &lt; <span class="hljs-number">500</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1000</span>;    <span class="hljs-comment">// ä¸­ç­‰ä»»åŠ¡</span>
    <span class="hljs-keyword">if</span> (task.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2000</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">2000</span>;    <span class="hljs-comment">// è¯¦ç»†ä»»åŠ¡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4000</span>;                           <span class="hljs-comment">// å¤æ‚ä»»åŠ¡</span>
  }

  <span class="hljs-comment">// 5. æ¸©åº¦å‚æ•°ä¼˜åŒ–</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">selectTemperature</span>(<span class="hljs-attr">taskType</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">const</span> temperatures = {
      <span class="hljs-attr">code</span>: <span class="hljs-number">0.1</span>,      <span class="hljs-comment">// ä»£ç éœ€è¦ç¡®å®šæ€§</span>
      <span class="hljs-attr">analysis</span>: <span class="hljs-number">0.3</span>,  <span class="hljs-comment">// åˆ†æä»»åŠ¡éœ€è¦ä¸€å®šåˆ›é€ æ€§</span>
      <span class="hljs-attr">creative</span>: <span class="hljs-number">0.7</span>,  <span class="hljs-comment">// åˆ›æ„ä»»åŠ¡éœ€è¦é«˜åˆ›é€ æ€§</span>
      <span class="hljs-attr">summary</span>: <span class="hljs-number">0.2</span>    <span class="hljs-comment">// æ€»ç»“éœ€è¦å‡†ç¡®æ€§</span>
    };
  
    <span class="hljs-comment">// æ£€æµ‹ä»»åŠ¡ç±»å‹</span>
    <span class="hljs-keyword">if</span> (taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä»£ç '</span>) || taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'å®ç°'</span>)) <span class="hljs-keyword">return</span> temperatures.<span class="hljs-property">code</span>;
    <span class="hljs-keyword">if</span> (taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'åˆ†æ'</span>) || taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'æ€è€ƒ'</span>)) <span class="hljs-keyword">return</span> temperatures.<span class="hljs-property">analysis</span>;
    <span class="hljs-keyword">if</span> (taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'åˆ›æ„'</span>) || taskType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'æ•…äº‹'</span>)) <span class="hljs-keyword">return</span> temperatures.<span class="hljs-property">creative</span>;
    <span class="hljs-keyword">return</span> temperatures.<span class="hljs-property">summary</span>;
  }
}
</code></pre>
<h4 data-id="heading-33">9.5 æœªæ¥å±•æœ›</h4>
<p>éšç€AIæ¨¡å‹çš„å¿«é€Ÿå‘å±•ï¼Œå‘é‡å¼•æ“è¿™æ ·çš„ç»Ÿä¸€æ¥å…¥å±‚å°†å˜å¾—æ›´åŠ é‡è¦ã€‚æˆ‘ä»¬å¯ä»¥é¢„è§ï¼š</p>
<ol>
<li><strong>æ›´å¤šæ¨¡å‹é›†æˆ</strong>ï¼šæœªæ¥ä¼šæœ‰æ›´å¤šä¸“ç”¨æ¨¡å‹åŠ å…¥</li>
<li><strong>æ›´æ™ºèƒ½çš„è·¯ç”±</strong>ï¼šåŸºäºå®æ—¶æ€§èƒ½æ•°æ®çš„åŠ¨æ€è·¯ç”±</li>
<li><strong>æˆæœ¬é¢„æµ‹</strong>ï¼šåŸºäºä½¿ç”¨æ¨¡å¼çš„æˆæœ¬é¢„æµ‹å’Œä¼˜åŒ–å»ºè®®</li>
<li><strong>è‡ªåŠ¨è°ƒä¼˜</strong>ï¼šæ ¹æ®ä»»åŠ¡è‡ªåŠ¨ä¼˜åŒ–æ¨¡å‹å‚æ•°</li>
</ol>
<h3 data-id="heading-34">åã€å¼€å§‹ä½¿ç”¨å‘é‡å¼•æ“</h3>
<h4 data-id="heading-35">10.1 å¿«é€Ÿå¼€å§‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ³¨å†Œè·å–API Key</span>
<span class="hljs-comment"># è®¿é—®å‘é‡å¼•æ“å®˜ç½‘å®Œæˆæ³¨å†Œ</span>

<span class="hljs-comment"># 2. å®‰è£…å¿…è¦çš„ä¾èµ–</span>
npm install openai axios

<span class="hljs-comment"># 3. åŸºç¡€é…ç½®</span>
<span class="hljs-built_in">export</span> VECTOR_ENGINE_API_KEY=<span class="hljs-string">'ä½ çš„APIå¯†é’¥'</span>
</code></pre>
<h4 data-id="heading-36">10.2 æœ€å°å¯è¡Œç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'openai'</span>;

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.vectorengine.ai/v1'</span>,
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VECTOR_ENGINE_API_KEY</span>,
});

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">quickStart</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-5.2'</span>, <span class="hljs-comment">// å¯ä»¥ç›´æ¥ä½¿ç”¨å„ç§æ¨¡å‹</span>
    <span class="hljs-attr">messages</span>: [
      { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ å¥½ï¼Œå‘é‡å¼•æ“ï¼'</span> }
    ],
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);
}

<span class="hljs-title function_">quickStart</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
</code></pre>
<h4 data-id="heading-37">10.3 å¸¸è§é—®é¢˜è§£ç­”</h4>
<p><strong>Q: å‘é‡å¼•æ“æ”¯æŒå“ªäº›æ¨¡å‹ï¼Ÿ</strong>
A: æ”¯æŒGPTå…¨ç³»åˆ—ã€Claudeå…¨ç³»åˆ—ã€Geminiã€Kimiã€DeepSeekç­‰20+ä¸»æµæ¨¡å‹ï¼Œå…·ä½“åˆ—è¡¨å¯åœ¨å®˜ç½‘æŸ¥çœ‹ã€‚</p>
<p><strong>Q: å¦‚ä½•æ§åˆ¶æˆæœ¬ï¼Ÿ</strong>
A: 1) æŒ‰tokenè®¡è´¹ï¼Œç”¨å¤šå°‘ä»˜å¤šå°‘ï¼›2) ä½™é¢æ°¸ä¸è¿‡æœŸï¼›3) åå°æœ‰è¯¦ç»†çš„æ¶ˆè´¹æ˜ç»†ã€‚</p>
<p><strong>Q: æ˜¯å¦æ”¯æŒæµå¼å“åº”ï¼Ÿ</strong>
A: å®Œå…¨æ”¯æŒï¼Œä½¿ç”¨æ–¹å¼å’ŒOpenAIå®˜æ–¹APIå®Œå…¨ä¸€è‡´ã€‚</p>
<p><strong>Q: å¦‚ä½•å¤„ç†é«˜å¹¶å‘ï¼Ÿ</strong>
A: é»˜è®¤æ”¯æŒ500æ¬¡/ç§’ï¼Œå¦‚éœ€æ›´é«˜å¹¶å‘å¯è”ç³»å®¢æœè°ƒæ•´ã€‚</p>
<p><strong>Q: æ˜¯å¦æœ‰ä½¿ç”¨é™åˆ¶ï¼Ÿ</strong>
A: æ²¡æœ‰å¼ºåˆ¶é™åˆ¶ï¼Œä½†å»ºè®®åˆç†ä½¿ç”¨ã€‚å¼‚å¸¸ä½¿ç”¨å¯èƒ½ä¼šè§¦å‘é£æ§ã€‚</p>
<p><strong>Q: å¦‚ä½•ä¿è¯ç¨³å®šæ€§ï¼Ÿ</strong>
A: CN2ä¸“çº¿+å¤šèŠ‚ç‚¹è´Ÿè½½å‡è¡¡+è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼Œæä¾›99.9%çš„å¯ç”¨æ€§ä¿è¯ã€‚</p>
<h3 data-id="heading-38">ç»“è¯­</h3>
<p>å‘é‡å¼•æ“æœ¬è´¨ä¸Šæ˜¯ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ª<strong>ç»Ÿä¸€çš„AIæ¨¡å‹æ¥å…¥å±‚</strong>ï¼Œå®ƒè§£å†³äº†æˆ‘ä»¬åœ¨AIåº”ç”¨å¼€å‘ä¸­æœ€å¤´ç—›çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>æ¥å£ç¢ç‰‡åŒ–</strong> â†’ ç»Ÿä¸€API</li>
<li><strong>ç½‘ç»œä¸ç¨³å®š</strong> â†’ å…¨çƒåŠ é€Ÿ</li>
<li><strong>æˆæœ¬ä¸å¯æ§</strong> â†’ æŒ‰é‡ä»˜è´¹</li>
<li><strong>è¿ç»´å¤æ‚</strong> â†’ å¼€ç®±å³ç”¨</li>
</ol>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†å®ç°å’Œæœ€ä½³å®è·µï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š</p>
<ul>
<li>å¿«é€Ÿå°†å‘é‡å¼•æ“é›†æˆåˆ°ç°æœ‰é¡¹ç›®ä¸­</li>
<li>è®¾è®¡å‡ºé«˜æ•ˆå¯é çš„AIè°ƒç”¨æ¶æ„</li>
<li>æœ‰æ•ˆæ§åˆ¶æˆæœ¬å’Œä¿éšœç¨³å®šæ€§</li>
<li>æ„å»ºå¤æ‚çš„å¤šæ¨¡å‹åä½œç³»ç»Ÿ</li>
</ul>
<p>AIå¼€å‘ä¸åº”è¯¥æ˜¯ä¸€ä¸ªä½“åŠ›æ´»ï¼Œè€Œå‘é‡å¼•æ“æ­£æ˜¯ä¸ºäº†è§£æ”¾å¼€å‘è€…çš„ç”Ÿäº§åŠ›è€Œç”Ÿã€‚å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œåˆ›æ–°ï¼Œè€Œä¸æ˜¯åŸºç¡€è®¾æ–½çš„ç»´æŠ¤ã€‚</p>
<p><strong>æŠ€æœ¯å‘å±•çš„æœ¬è´¨æ˜¯è®©å¤æ‚çš„äº‹æƒ…å˜ç®€å•ã€‚</strong> å‘é‡å¼•æ“æ­£åœ¨åšçš„ï¼Œå°±æ˜¯è®©AIå¼€å‘å˜å¾—åƒè°ƒç”¨æ™®é€šAPIä¸€æ ·ç®€å•ã€‚</p>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•è¿‡ï¼Œç°åœ¨æ˜¯æœ€å¥½çš„æ—¶æœºã€‚ä»ç®€å•çš„é›†æˆå¼€å§‹ï¼Œé€æ­¥æ¢ç´¢å¤šæ¨¡å‹çš„å¼ºå¤§èƒ½åŠ›ï¼Œä½ ä¼šå‘ç°AIå¼€å‘çš„ä½“éªŒå®Œå…¨ä¸åŒã€‚</p>
<p>è®°ä½ï¼š<strong>æœ€å¥½çš„å·¥å…·ä¸æ˜¯åŠŸèƒ½æœ€å¤šçš„ï¼Œè€Œæ˜¯è®©ä½ å¿˜è®°å®ƒå­˜åœ¨çš„å·¥å…·ã€‚</strong> å‘é‡å¼•æ“æ­£åœ¨æˆä¸ºè¿™æ ·çš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼šcachetools - ç®€å•é«˜æ•ˆçš„ç¼“å­˜å·¥å…·]]></title>    <link>https://juejin.cn/post/7605907495770374153</link>    <guid>https://juejin.cn/post/7605907495770374153</guid>    <pubDate>2026-02-13T07:35:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605907495770374153" data-draft-id="7605856048361930790" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼šcachetools - ç®€å•é«˜æ•ˆçš„ç¼“å­˜å·¥å…·"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-13T07:35:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2579909358396288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼šcachetools - ç®€å•é«˜æ•ˆçš„ç¼“å­˜å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2579909358396288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:35:25.000Z" title="Fri Feb 13 2026 07:35:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">cachetools - ç®€å•é«˜æ•ˆçš„ç¼“å­˜å·¥å…·</h2>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯cachetoolsï¼Ÿ</h3>
<p><strong>cachetools</strong> æ˜¯ä¸€ä¸ªç”¨äºå®ç°å„ç§ç¼“å­˜ç­–ç•¥çš„ Python åº“ã€‚
å®ƒå¯ä»¥å¸®åŠ©ä½ ï¼š</p>
<ul>
<li>è½»æ¾ä¸ºå‡½æ•°æˆ–æ–¹æ³•æ·»åŠ ç¼“å­˜åŠŸèƒ½</li>
<li>å®ç°LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€LFUï¼ˆæœ€ä¸ç»å¸¸ä½¿ç”¨ï¼‰ã€RRï¼ˆéšæœºæ›¿æ¢ï¼‰ç­‰å¤šç§ç¼“å­˜ç­–ç•¥</li>
<li>ä¼˜åŒ–é‡å¤è®¡ç®—ï¼Œæé«˜ç¨‹åºæ€§èƒ½</li>
</ul>
<h3 data-id="heading-2">äºŒã€åº”ç”¨åœºæ™¯</h3>
<p><strong>cachetools</strong> å¹¿æ³›åº”ç”¨äºä»¥ä¸‹å®é™…åœºæ™¯ï¼š</p>
<ul>
<li><strong>Webåº”ç”¨</strong>: ç¼“å­˜æ•°æ®åº“æŸ¥è¯¢ç»“æœæˆ–APIå“åº”ï¼Œå‡å°‘åç«¯è´Ÿè½½ã€‚</li>
<li><strong>è®¡ç®—å¯†é›†å‹ä»»åŠ¡</strong>: ç¼“å­˜è€—æ—¶å‡½æ•°çš„è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚</li>
<li><strong>æ•°æ®å¤„ç†</strong>: ç¼“å­˜å¤„ç†è¿‡çš„æ•°æ®å—ï¼Œæé«˜æ•°æ®å¤„ç†æ•ˆç‡ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸‰ã€å¦‚ä½•å®‰è£…</h3>
<ol>
<li>ä½¿ç”¨ pip å®‰è£…</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">pip install cachetools

<span class="hljs-comment"># å¦‚æœå®‰è£…æ…¢çš„è¯ï¼Œæ¨èä½¿ç”¨å›½å†…é•œåƒæº</span>
pip install cachetools -i https://www.python64.cn/pypi/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F" target="_blank" title="https://www.min2k.com/tools/python-run/" ref="nofollow noopener noreferrer">PythonRun</a> åœ¨çº¿è¿è¡Œä»£ç ï¼ˆæ— éœ€æœ¬åœ°å®‰è£…ï¼‰</li>
</ol>
<h3 data-id="heading-4">å››ã€ç¤ºä¾‹ä»£ç </h3>
<p>ä½¿ç”¨<code>@cached</code>è£…é¥°å™¨ç»“åˆ<code>LRUCache</code>ç¼“å­˜å‡½æ•°çš„è®¡ç®—ç»“æœ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> cachetools <span class="hljs-keyword">import</span> cached, LRUCache
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªLRUç¼“å­˜ï¼Œæœ€å¤§å®¹é‡ä¸º2</span>
<span class="hljs-comment"># LRUCache(maxsize=2) è¡¨ç¤ºè¿™ä¸ªç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨2ä¸ªç»“æœ</span>
my_lru_cache = LRUCache(maxsize=<span class="hljs-number">2</span>)

<span class="hljs-meta">@cached(<span class="hljs-params">cache=my_lru_cache</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">expensive_calculation</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-string">"""
    ä¸€ä¸ªæ¨¡æ‹Ÿè€—æ—¶è®¡ç®—çš„å‡½æ•°ã€‚
    å¦‚æœç»“æœåœ¨ç¼“å­˜ä¸­ï¼Œå°†ç›´æ¥è¿”å›ï¼Œä¸ä¼šé‡æ–°è®¡ç®—ã€‚
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ­£åœ¨è®¡ç®— <span class="hljs-subst">{a}</span> + <span class="hljs-subst">{b}</span>..."</span>)
    time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
    result = a + b
    <span class="hljs-keyword">return</span> result

<span class="hljs-comment"># ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œä¼šè¿›è¡Œå®é™…è®¡ç®—å¹¶ç¼“å­˜</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬ä¸€æ¬¡è°ƒç”¨ (1, 2): <span class="hljs-subst">{expensive_calculation(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)}</span>"</span>)

<span class="hljs-comment"># ç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œé”® (1, 2) åœ¨ç¼“å­˜ä¸­ï¼Œç›´æ¥è¿”å›</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬äºŒæ¬¡è°ƒç”¨ (1, 2): <span class="hljs-subst">{expensive_calculation(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)}</span>"</span>)

<span class="hljs-comment"># ç¬¬ä¸‰æ¬¡è°ƒç”¨ (3, 4)ï¼Œä¼šè¿›è¡Œå®é™…è®¡ç®—å¹¶ç¼“å­˜ï¼Œ</span>
<span class="hljs-comment"># æ­¤æ—¶ç¼“å­˜å˜ä¸º {(1, 2): 3, (3, 4): 7}</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬ä¸‰æ¬¡è°ƒç”¨ (3, 4): <span class="hljs-subst">{expensive_calculation(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)}</span>"</span>)

<span class="hljs-comment"># ç¬¬å››æ¬¡è°ƒç”¨ (5, 6)ï¼Œä¼šè¿›è¡Œå®é™…è®¡ç®—å¹¶ç¼“å­˜ï¼Œ</span>
<span class="hljs-comment"># ç”±äºLRUCache maxsize=2ï¼Œä¼šå°†æœ€ä¹…æœªä½¿ç”¨çš„ (1, 2) æ·˜æ±°ï¼Œ</span>
<span class="hljs-comment"># ç¼“å­˜å˜ä¸º {(3, 4): 7, (5, 6): 11}</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬å››æ¬¡è°ƒç”¨ (5, 6): <span class="hljs-subst">{expensive_calculation(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)}</span>"</span>)

<span class="hljs-comment"># ç¬¬äº”æ¬¡è°ƒç”¨ (1, 2)ï¼Œç”±äºä¹‹å‰å·²è¢«æ·˜æ±°ï¼Œéœ€è¦é‡æ–°è®¡ç®—</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬äº”æ¬¡è°ƒç”¨ (1, 2): <span class="hljs-subst">{expensive_calculation(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)}</span>"</span>)

<span class="hljs-comment"># æ£€æŸ¥ç¼“å­˜çŠ¶æ€</span>
<span class="hljs-keyword">if</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-keyword">in</span> my_lru_cache:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”® (1, 2) åœ¨ç¼“å­˜ä¸­ï¼Œå€¼ä¸º <span class="hljs-subst">{my_lru_cache[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)]}</span>"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”® (1, 2) ä¸åœ¨ç¼“å­˜ä¸­ã€‚"</span>)

</code></pre>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F%3Fcode%3Dfrom%2520cachetools%2520import%2520cached%252C%2520LRUCache%250Aimport%2520time%250A%250A%2523%2520%25E5%25AE%259A%25E4%25B9%2589%25E4%25B8%2580%25E4%25B8%25AALRU%25E7%25BC%2593%25E5%25AD%2598%25EF%25BC%258C%25E6%259C%2580%25E5%25A4%25A7%25E5%25AE%25B9%25E9%2587%258F%25E4%25B8%25BA2%250A%2523%2520LRUCache%2528maxsize%253D2%2529%2520%25E8%25A1%25A8%25E7%25A4%25BA%25E8%25BF%2599%25E4%25B8%25AA%25E7%25BC%2593%25E5%25AD%2598%25E6%259C%2580%25E5%25A4%259A%25E5%258F%25AF%25E4%25BB%25A5%25E5%25AD%2598%25E5%2582%25A82%25E4%25B8%25AA%25E7%25BB%2593%25E6%259E%259C%250Amy_lru_cache%2520%253D%2520LRUCache%2528maxsize%253D2%2529%250A%250A%2540cached%2528cache%253Dmy_lru_cache%2529%250Adef%2520expensive_calculation%2528a%252C%2520b%2529%253A%250A%2520%2520%2520%2520%2522%2522%2522%250A%2520%2520%2520%2520%25E4%25B8%2580%25E4%25B8%25AA%25E6%25A8%25A1%25E6%258B%259F%25E8%2580%2597%25E6%2597%25B6%25E8%25AE%25A1%25E7%25AE%2597%25E7%259A%2584%25E5%2587%25BD%25E6%2595%25B0%25E3%2580%2582%250A%2520%2520%2520%2520%25E5%25A6%2582%25E6%259E%259C%25E7%25BB%2593%25E6%259E%259C%25E5%259C%25A8%25E7%25BC%2593%25E5%25AD%2598%25E4%25B8%25AD%25EF%25BC%258C%25E5%25B0%2586%25E7%259B%25B4%25E6%258E%25A5%25E8%25BF%2594%25E5%259B%259E%25EF%25BC%258C%25E4%25B8%258D%25E4%25BC%259A%25E9%2587%258D%25E6%2596%25B0%25E8%25AE%25A1%25E7%25AE%2597%25E3%2580%2582%250A%2520%2520%2520%2520%2522%2522%2522%250A%2520%2520%2520%2520print%2528f%2522%25E6%25AD%25A3%25E5%259C%25A8%25E8%25AE%25A1%25E7%25AE%2597%2520%257Ba%257D%2520%252B%2520%257Bb%257D...%2522%2529%250A%2520%2520%2520%2520time.sleep%25281%2529%2520%2523%2520%25E6%25A8%25A1%25E6%258B%259F%25E8%2580%2597%25E6%2597%25B6%25E6%2593%258D%25E4%25BD%259C%250A%2520%2520%2520%2520result%2520%253D%2520a%2520%252B%2520b%250A%2520%2520%2520%2520return%2520result%250A%250A%2523%2520%25E7%25AC%25AC%25E4%25B8%2580%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%25EF%25BC%258C%25E4%25BC%259A%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%259E%25E9%2599%2585%25E8%25AE%25A1%25E7%25AE%2597%25E5%25B9%25B6%25E7%25BC%2593%25E5%25AD%2598%250Aprint%2528f%2522%25E7%25AC%25AC%25E4%25B8%2580%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25281%252C%25202%2529%253A%2520%257Bexpensive_calculation%25281%252C%25202%2529%257D%2522%2529%250A%250A%2523%2520%25E7%25AC%25AC%25E4%25BA%258C%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%25EF%25BC%258C%25E9%2594%25AE%2520%25281%252C%25202%2529%2520%25E5%259C%25A8%25E7%25BC%2593%25E5%25AD%2598%25E4%25B8%25AD%25EF%25BC%258C%25E7%259B%25B4%25E6%258E%25A5%25E8%25BF%2594%25E5%259B%259E%250Aprint%2528f%2522%25E7%25AC%25AC%25E4%25BA%258C%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25281%252C%25202%2529%253A%2520%257Bexpensive_calculation%25281%252C%25202%2529%257D%2522%2529%250A%250A%2523%2520%25E7%25AC%25AC%25E4%25B8%2589%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25283%252C%25204%2529%25EF%25BC%258C%25E4%25BC%259A%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%259E%25E9%2599%2585%25E8%25AE%25A1%25E7%25AE%2597%25E5%25B9%25B6%25E7%25BC%2593%25E5%25AD%2598%25EF%25BC%258C%250A%2523%2520%25E6%25AD%25A4%25E6%2597%25B6%25E7%25BC%2593%25E5%25AD%2598%25E5%258F%2598%25E4%25B8%25BA%2520%257B%25281%252C%25202%2529%253A%25203%252C%2520%25283%252C%25204%2529%253A%25207%257D%250Aprint%2528f%2522%25E7%25AC%25AC%25E4%25B8%2589%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25283%252C%25204%2529%253A%2520%257Bexpensive_calculation%25283%252C%25204%2529%257D%2522%2529%250A%250A%2523%2520%25E7%25AC%25AC%25E5%259B%259B%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25285%252C%25206%2529%25EF%25BC%258C%25E4%25BC%259A%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%259E%25E9%2599%2585%25E8%25AE%25A1%25E7%25AE%2597%25E5%25B9%25B6%25E7%25BC%2593%25E5%25AD%2598%25EF%25BC%258C%250A%2523%2520%25E7%2594%25B1%25E4%25BA%258ELRUCache%2520maxsize%253D2%25EF%25BC%258C%25E4%25BC%259A%25E5%25B0%2586%25E6%259C%2580%25E4%25B9%2585%25E6%259C%25AA%25E4%25BD%25BF%25E7%2594%25A8%25E7%259A%2584%2520%25281%252C%25202%2529%2520%25E6%25B7%2598%25E6%25B1%25B0%25EF%25BC%258C%250A%2523%2520%25E7%25BC%2593%25E5%25AD%2598%25E5%258F%2598%25E4%25B8%25BA%2520%257B%25283%252C%25204%2529%253A%25207%252C%2520%25285%252C%25206%2529%253A%252011%257D%250Aprint%2528f%2522%25E7%25AC%25AC%25E5%259B%259B%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25285%252C%25206%2529%253A%2520%257Bexpensive_calculation%25285%252C%25206%2529%257D%2522%2529%250A%250A%2523%2520%25E7%25AC%25AC%25E4%25BA%2594%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25281%252C%25202%2529%25EF%25BC%258C%25E7%2594%25B1%25E4%25BA%258E%25E4%25B9%258B%25E5%2589%258D%25E5%25B7%25B2%25E8%25A2%25AB%25E6%25B7%2598%25E6%25B1%25B0%25EF%25BC%258C%25E9%259C%2580%25E8%25A6%2581%25E9%2587%258D%25E6%2596%25B0%25E8%25AE%25A1%25E7%25AE%2597%250Aprint%2528f%2522%25E7%25AC%25AC%25E4%25BA%2594%25E6%25AC%25A1%25E8%25B0%2583%25E7%2594%25A8%2520%25281%252C%25202%2529%253A%2520%257Bexpensive_calculation%25281%252C%25202%2529%257D%2522%2529%250A%250A%2523%2520%25E6%25A3%2580%25E6%259F%25A5%25E7%25BC%2593%25E5%25AD%2598%25E7%258A%25B6%25E6%2580%2581%250Aif%2520%25281%252C%25202%2529%2520in%2520my_lru_cache%253A%250A%2520%2520%2520%2520print%2528f%2522%25E9%2594%25AE%2520%25281%252C%25202%2529%2520%25E5%259C%25A8%25E7%25BC%2593%25E5%25AD%2598%25E4%25B8%25AD%25EF%25BC%258C%25E5%2580%25BC%25E4%25B8%25BA%2520%257Bmy_lru_cache%255B%25281%252C%25202%2529%255D%257D%2522%2529%250Aelse%253A%250A%2520%2520%2520%2520print%2528f%2522%25E9%2594%25AE%2520%25281%252C%25202%2529%2520%25E4%25B8%258D%25E5%259C%25A8%25E7%25BC%2593%25E5%25AD%2598%25E4%25B8%25AD%25E3%2580%2582%2522%2529%250A" target="_blank" title="https://www.min2k.com/tools/python-run/?code=from%20cachetools%20import%20cached%2C%20LRUCache%0Aimport%20time%0A%0A%23%20%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AALRU%E7%BC%93%E5%AD%98%EF%BC%8C%E6%9C%80%E5%A4%A7%E5%AE%B9%E9%87%8F%E4%B8%BA2%0A%23%20LRUCache%28maxsize%3D2%29%20%E8%A1%A8%E7%A4%BA%E8%BF%99%E4%B8%AA%E7%BC%93%E5%AD%98%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E5%AD%98%E5%82%A82%E4%B8%AA%E7%BB%93%E6%9E%9C%0Amy_lru_cache%20%3D%20LRUCache%28maxsize%3D2%29%0A%0A%40cached%28cache%3Dmy_lru_cache%29%0Adef%20expensive_calculation%28a%2C%20b%29%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20%E4%B8%80%E4%B8%AA%E6%A8%A1%E6%8B%9F%E8%80%97%E6%97%B6%E8%AE%A1%E7%AE%97%E7%9A%84%E5%87%BD%E6%95%B0%E3%80%82%0A%20%20%20%20%E5%A6%82%E6%9E%9C%E7%BB%93%E6%9E%9C%E5%9C%A8%E7%BC%93%E5%AD%98%E4%B8%AD%EF%BC%8C%E5%B0%86%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%EF%BC%8C%E4%B8%8D%E4%BC%9A%E9%87%8D%E6%96%B0%E8%AE%A1%E7%AE%97%E3%80%82%0A%20%20%20%20%22%22%22%0A%20%20%20%20print%28f%22%E6%AD%A3%E5%9C%A8%E8%AE%A1%E7%AE%97%20%7Ba%7D%20%2B%20%7Bb%7D...%22%29%0A%20%20%20%20time.sleep%281%29%20%23%20%E6%A8%A1%E6%8B%9F%E8%80%97%E6%97%B6%E6%93%8D%E4%BD%9C%0A%20%20%20%20result%20%3D%20a%20%2B%20b%0A%20%20%20%20return%20result%0A%0A%23%20%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%8C%E4%BC%9A%E8%BF%9B%E8%A1%8C%E5%AE%9E%E9%99%85%E8%AE%A1%E7%AE%97%E5%B9%B6%E7%BC%93%E5%AD%98%0Aprint%28f%22%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%B0%83%E7%94%A8%20%281%2C%202%29%3A%20%7Bexpensive_calculation%281%2C%202%29%7D%22%29%0A%0A%23%20%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%8C%E9%94%AE%20%281%2C%202%29%20%E5%9C%A8%E7%BC%93%E5%AD%98%E4%B8%AD%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%0Aprint%28f%22%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%B0%83%E7%94%A8%20%281%2C%202%29%3A%20%7Bexpensive_calculation%281%2C%202%29%7D%22%29%0A%0A%23%20%E7%AC%AC%E4%B8%89%E6%AC%A1%E8%B0%83%E7%94%A8%20%283%2C%204%29%EF%BC%8C%E4%BC%9A%E8%BF%9B%E8%A1%8C%E5%AE%9E%E9%99%85%E8%AE%A1%E7%AE%97%E5%B9%B6%E7%BC%93%E5%AD%98%EF%BC%8C%0A%23%20%E6%AD%A4%E6%97%B6%E7%BC%93%E5%AD%98%E5%8F%98%E4%B8%BA%20%7B%281%2C%202%29%3A%203%2C%20%283%2C%204%29%3A%207%7D%0Aprint%28f%22%E7%AC%AC%E4%B8%89%E6%AC%A1%E8%B0%83%E7%94%A8%20%283%2C%204%29%3A%20%7Bexpensive_calculation%283%2C%204%29%7D%22%29%0A%0A%23%20%E7%AC%AC%E5%9B%9B%E6%AC%A1%E8%B0%83%E7%94%A8%20%285%2C%206%29%EF%BC%8C%E4%BC%9A%E8%BF%9B%E8%A1%8C%E5%AE%9E%E9%99%85%E8%AE%A1%E7%AE%97%E5%B9%B6%E7%BC%93%E5%AD%98%EF%BC%8C%0A%23%20%E7%94%B1%E4%BA%8ELRUCache%20maxsize%3D2%EF%BC%8C%E4%BC%9A%E5%B0%86%E6%9C%80%E4%B9%85%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%20%281%2C%202%29%20%E6%B7%98%E6%B1%B0%EF%BC%8C%0A%23%20%E7%BC%93%E5%AD%98%E5%8F%98%E4%B8%BA%20%7B%283%2C%204%29%3A%207%2C%20%285%2C%206%29%3A%2011%7D%0Aprint%28f%22%E7%AC%AC%E5%9B%9B%E6%AC%A1%E8%B0%83%E7%94%A8%20%285%2C%206%29%3A%20%7Bexpensive_calculation%285%2C%206%29%7D%22%29%0A%0A%23%20%E7%AC%AC%E4%BA%94%E6%AC%A1%E8%B0%83%E7%94%A8%20%281%2C%202%29%EF%BC%8C%E7%94%B1%E4%BA%8E%E4%B9%8B%E5%89%8D%E5%B7%B2%E8%A2%AB%E6%B7%98%E6%B1%B0%EF%BC%8C%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E8%AE%A1%E7%AE%97%0Aprint%28f%22%E7%AC%AC%E4%BA%94%E6%AC%A1%E8%B0%83%E7%94%A8%20%281%2C%202%29%3A%20%7Bexpensive_calculation%281%2C%202%29%7D%22%29%0A%0A%23%20%E6%A3%80%E6%9F%A5%E7%BC%93%E5%AD%98%E7%8A%B6%E6%80%81%0Aif%20%281%2C%202%29%20in%20my_lru_cache%3A%0A%20%20%20%20print%28f%22%E9%94%AE%20%281%2C%202%29%20%E5%9C%A8%E7%BC%93%E5%AD%98%E4%B8%AD%EF%BC%8C%E5%80%BC%E4%B8%BA%20%7Bmy_lru_cache%5B%281%2C%202%29%5D%7D%22%29%0Aelse%3A%0A%20%20%20%20print%28f%22%E9%94%AE%20%281%2C%202%29%20%E4%B8%8D%E5%9C%A8%E7%BC%93%E5%AD%98%E4%B8%AD%E3%80%82%22%29%0A" ref="nofollow noopener noreferrer">PythonRun</a> åœ¨çº¿è¿è¡Œè¿™æ®µä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">æ­£åœ¨è®¡ç®— 1 + 2...
ç¬¬ä¸€æ¬¡è°ƒç”¨ (1, 2): 3
ç¬¬äºŒæ¬¡è°ƒç”¨ (1, 2): 3
æ­£åœ¨è®¡ç®— 3 + 4...
ç¬¬ä¸‰æ¬¡è°ƒç”¨ (3, 4): 7
æ­£åœ¨è®¡ç®— 5 + 6...
ç¬¬å››æ¬¡è°ƒç”¨ (5, 6): 11
æ­£åœ¨è®¡ç®— 1 + 2...
ç¬¬äº”æ¬¡è°ƒç”¨ (1, 2): 3
é”® (1, 2) åœ¨ç¼“å­˜ä¸­ï¼Œå€¼ä¸º 3
</code></pre>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fmermaid%2F%3Fcode%3Dflowchart%2520TD%250A%2520%2520%2520%2520A%255B%25E5%25BC%2580%25E5%25A7%258B%255D%2520--%253E%2520B%257B%25E8%25B0%2583%25E7%2594%25A8%2520expensive_calculation%2528a%252C%2520b%2529%257D%253B%250A%2520%2520%2520%2520B%2520--%253E%2520C%257B%25E7%25BB%2593%25E6%259E%259C%25E5%259C%25A8%2520LRUCache%2520%25E4%25B8%25AD%25E5%2590%2597%253F%257D%253B%250A%2520%2520%2520%2520C%2520--%2520%25E6%2598%25AF%2520--%253E%2520D%255B%25E8%25BF%2594%25E5%259B%259E%25E7%25BC%2593%25E5%25AD%2598%25E7%25BB%2593%25E6%259E%259C%255D%253B%250A%2520%2520%2520%2520C%2520--%2520%25E5%2590%25A6%2520--%253E%2520E%255B%25E6%2589%2593%25E5%258D%25B0%2520%2522%25E6%25AD%25A3%25E5%259C%25A8%25E8%25AE%25A1%25E7%25AE%2597%2520a%2520%252B%2520b...%2522%255D%253B%250A%2520%2520%2520%2520E%2520--%253E%2520F%255B%25E6%25A8%25A1%25E6%258B%259F%25E8%2580%2597%25E6%2597%25B6%25E6%2593%258D%25E4%25BD%259C%2520%2528time.sleep%25281%2529%2529%255D%253B%250A%2520%2520%2520%2520F%2520--%253E%2520G%255B%25E8%25AE%25A1%25E7%25AE%2597%2520result%2520%253D%2520a%2520%252B%2520b%255D%253B%250A%2520%2520%2520%2520G%2520--%253E%2520H%255B%25E5%25B0%2586%2520%2528a%252C%2520b%2529%2520%25E5%2592%258C%2520result%2520%25E5%25AD%2598%25E5%2585%25A5%2520LRUCache%255D%253B%250A%2520%2520%2520%2520H%2520--%253E%2520D%253B%250A%2520%2520%2520%2520D%2520--%253E%2520I%255B%25E6%2589%2593%25E5%258D%25B0%25E8%25B0%2583%25E7%2594%25A8%25E7%25BB%2593%25E6%259E%259C%255D%253B%250A%2520%2520%2520%2520I%2520--%253E%2520J%257B%25E6%2598%25AF%25E5%2590%25A6%25E8%25BF%2598%25E6%259C%2589%25E6%259B%25B4%25E5%25A4%259A%25E8%25B0%2583%25E7%2594%25A8%253F%257D%253B%250A%2520%2520%2520%2520J%2520--%2520%25E6%2598%25AF%2520--%253E%2520B%253B%250A%2520%2520%2520%2520J%2520--%2520%25E5%2590%25A6%2520--%253E%2520K%255B%25E6%25A3%2580%25E6%259F%25A5%2520LRUCache%2520%25E4%25B8%25AD%25E6%2598%25AF%25E5%2590%25A6%25E6%259C%2589%2520%25281%252C%25202%2529%255D%253B%250A%2520%2520%2520%2520K%2520--%2520%25E6%259C%2589%2520--%253E%2520L%255B%25E6%2589%2593%25E5%258D%25B0%2520%25281%252C%25202%2529%2520%25E5%258F%258A%25E5%2585%25B6%25E7%25BC%2593%25E5%25AD%2598%25E5%2580%25BC%255D%253B%250A%2520%2520%2520%2520K%2520--%2520%25E6%2597%25A0%2520--%253E%2520M%255B%25E6%2589%2593%25E5%258D%25B0%2520%25281%252C%25202%2529%2520%25E4%25B8%258D%25E5%259C%25A8%25E7%25BC%2593%25E5%25AD%2598%25E4%25B8%25AD%255D%253B%250A%2520%2520%2520%2520L%2520--%253E%2520N%255B%25E7%25BB%2593%25E6%259D%259F%255D%253B%250A%2520%2520%2520%2520M%2520--%253E%2520N%253B" target="_blank" title="https://www.min2k.com/tools/mermaid/?code=flowchart%20TD%0A%20%20%20%20A%5B%E5%BC%80%E5%A7%8B%5D%20--%3E%20B%7B%E8%B0%83%E7%94%A8%20expensive_calculation%28a%2C%20b%29%7D%3B%0A%20%20%20%20B%20--%3E%20C%7B%E7%BB%93%E6%9E%9C%E5%9C%A8%20LRUCache%20%E4%B8%AD%E5%90%97%3F%7D%3B%0A%20%20%20%20C%20--%20%E6%98%AF%20--%3E%20D%5B%E8%BF%94%E5%9B%9E%E7%BC%93%E5%AD%98%E7%BB%93%E6%9E%9C%5D%3B%0A%20%20%20%20C%20--%20%E5%90%A6%20--%3E%20E%5B%E6%89%93%E5%8D%B0%20%22%E6%AD%A3%E5%9C%A8%E8%AE%A1%E7%AE%97%20a%20%2B%20b...%22%5D%3B%0A%20%20%20%20E%20--%3E%20F%5B%E6%A8%A1%E6%8B%9F%E8%80%97%E6%97%B6%E6%93%8D%E4%BD%9C%20%28time.sleep%281%29%29%5D%3B%0A%20%20%20%20F%20--%3E%20G%5B%E8%AE%A1%E7%AE%97%20result%20%3D%20a%20%2B%20b%5D%3B%0A%20%20%20%20G%20--%3E%20H%5B%E5%B0%86%20%28a%2C%20b%29%20%E5%92%8C%20result%20%E5%AD%98%E5%85%A5%20LRUCache%5D%3B%0A%20%20%20%20H%20--%3E%20D%3B%0A%20%20%20%20D%20--%3E%20I%5B%E6%89%93%E5%8D%B0%E8%B0%83%E7%94%A8%E7%BB%93%E6%9E%9C%5D%3B%0A%20%20%20%20I%20--%3E%20J%7B%E6%98%AF%E5%90%A6%E8%BF%98%E6%9C%89%E6%9B%B4%E5%A4%9A%E8%B0%83%E7%94%A8%3F%7D%3B%0A%20%20%20%20J%20--%20%E6%98%AF%20--%3E%20B%3B%0A%20%20%20%20J%20--%20%E5%90%A6%20--%3E%20K%5B%E6%A3%80%E6%9F%A5%20LRUCache%20%E4%B8%AD%E6%98%AF%E5%90%A6%E6%9C%89%20%281%2C%202%29%5D%3B%0A%20%20%20%20K%20--%20%E6%9C%89%20--%3E%20L%5B%E6%89%93%E5%8D%B0%20%281%2C%202%29%20%E5%8F%8A%E5%85%B6%E7%BC%93%E5%AD%98%E5%80%BC%5D%3B%0A%20%20%20%20K%20--%20%E6%97%A0%20--%3E%20M%5B%E6%89%93%E5%8D%B0%20%281%2C%202%29%20%E4%B8%8D%E5%9C%A8%E7%BC%93%E5%AD%98%E4%B8%AD%5D%3B%0A%20%20%20%20L%20--%3E%20N%5B%E7%BB%93%E6%9D%9F%5D%3B%0A%20%20%20%20M%20--%3E%20N%3B" ref="nofollow noopener noreferrer">MermaidGo</a> ç»˜åˆ¶ç¤ºä¾‹ä»£ç çš„æµç¨‹å›¾ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be45a2d6b244426dac1d56f048a73cd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWP57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771572925&amp;x-signature=DxDi3RO6XlX%2BaB6Dbtgbtxswnek%3D" alt="MermerGoçš„cachetoolsæµç¨‹å›¾" loading="lazy"/></p>
<h3 data-id="heading-5">äº”ã€å­¦ä¹ èµ„æº</h3>
<ol>
<li>å¼€æºé¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftkem%2Fcachetools" target="_blank" title="https://github.com/tkem/cachetools" ref="nofollow noopener noreferrer">cachetools</a></li>
<li>ä¸­æ–‡è‡ªè¿°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python64.cn%2Freadme%2Fcachetools%2F" target="_blank" title="https://www.python64.cn/readme/cachetools/" ref="nofollow noopener noreferrer">REMDME</a></li>
<li>åœ¨çº¿è¿è¡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F" target="_blank" title="https://www.min2k.com/tools/python-run/" ref="nofollow noopener noreferrer">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼<br/>
å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ©ç”¨Github Page + Hexo æ­å»ºä¸“å±çš„ä¸ªäººç½‘ç«™ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7605792874174119999</link>    <guid>https://juejin.cn/post/7605792874174119999</guid>    <pubDate>2026-02-13T07:51:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605792874174119999" data-draft-id="7602842876256698414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ©ç”¨Github Page + Hexo æ­å»ºä¸“å±çš„ä¸ªäººç½‘ç«™ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T07:51:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ‹¿ç ´è½®"/> <meta itemprop="url" content="https://juejin.cn/user/4352291017589051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ©ç”¨Github Page + Hexo æ­å»ºä¸“å±çš„ä¸ªäººç½‘ç«™ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4352291017589051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ‹¿ç ´è½®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:51:05.000Z" title="Fri Feb 13 2026 07:51:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>å¤§å®¶å¥½å•Šï¼Œæˆ‘æ˜¯<code>å‰ç«¯æ‹¿ç ´è½®</code>ã€‚</p>
<p>ä½ æ˜¯å¦ä¹Ÿæ›¾æƒ³è¿‡æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„ä¸“å±ç½‘ç«™ï¼Ÿä½†æ˜¯å´è‹¦äºæœåŠ¡å™¨ï¼ŒåŸŸåï¼Œéƒ¨ç½²ç­‰ç­‰ç¹ççš„æµç¨‹å’Œé…ç½®ï¼Ÿ</p>
<p>ä»Šå¤©å°±æ•™å¤§å®¶æ€ä¹ˆä¸ç”¨æœåŠ¡å™¨ï¼Œä¸ç”¨åŸŸåä¹Ÿèƒ½æ­å»ºè‡ªå·±ä¸“å±çš„ä¸ªäººç½‘ç«™ï¼</p>
<blockquote>
<p>è¯´æ˜ï¼šæœ¬æ•™ç¨‹é¢å‘å¯¹è±¡ä¸ºæœ‰ä¸€å®šåŸºç¡€çš„å¼€å‘è€…ï¼Œæ‰€ä»¥å¯¹äºç¯å¢ƒé…ç½®ï¼Œgithubç™»å½•ç­‰åŸºç¡€æµç¨‹ä¸å†è¿‡å¤šä»‹ç»ã€‚</p>
</blockquote>
<p>è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥å¼€å§‹ï¼Œåœ¨æµç¨‹ä¸­å†è§£é‡Šç›¸å…³çš„å†…å®¹ã€‚</p>
<blockquote>
<p>ç¯å¢ƒç‰ˆæœ¬å¦‚ä¸‹</p>
<p>node: 24.13.0</p>
<p>pnpm: 10.28.1</p>
</blockquote>
<h2 data-id="heading-1">å®‰è£… Hexo</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhexo.io%2Fzh-cn%2F" target="_blank" title="https://hexo.io/zh-cn/" ref="nofollow noopener noreferrer">hexo å®˜ç½‘</a></p>
<p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£… hexo-cli</span>
pnpm add hexo-cli -g
</code></pre>
<h2 data-id="heading-2">åˆå§‹åŒ–é¡¹ç›®</h2>
<p>åˆå§‹åŒ–é¡¹ç›®ä½¿ç”¨<code>hexo init &lt;ä½ çš„githubç”¨æˆ·å&gt;.github.io</code>å‘½ä»¤</p>
<p>æ¯”å¦‚æˆ‘çš„ github ç”¨æˆ·åæ˜¯ <code>majialu-love-zouyutong</code> é‚£ä¹ˆï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™æ–‡ä»¶å¤¹<strong>å¿…é¡»</strong>å‘½åä¸º<code>majialu-love-zouyutong.github.io</code>ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–é¡¹ç›®æ–‡ä»¶å¤¹</span>
hexo init majialu-love-zouyutong.github.io

<span class="hljs-comment"># è¿›å…¥ç›®å½•å¹¶ç”¨ vscode æ‰“å¼€</span>
<span class="hljs-built_in">cd</span> majialu-love-zouyutong.github.io/
code .
</code></pre>
<p>ç›®å½•ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a501a2b537f41b79d09e6452d10e9d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=wyZPa%2FFMujXk1YnjOOjrVdoqWzc%3D" alt="image.png" loading="lazy"/>
æ¥ç€åˆå§‹åŒ– git ä»“åº“å¹¶å°†ä»£ç æ¨åˆ° github ä¸Šã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ– git ä»“åº“</span>
git init

<span class="hljs-comment"># æ·»åŠ åˆ°æš‚å­˜åŒº</span>
git add .

<span class="hljs-comment"># æäº¤</span>
git commit -m <span class="hljs-string">'feat: åˆå§‹åŒ–'</span>
</code></pre>
<h2 data-id="heading-3">æ¨é€ä»“åº“åˆ° github</h2>
<p>å¦‚æœä½¿ç”¨ github ç™»å½•äº† vscodeï¼Œåœ¨æºä»£ç è¿™ä¸€æ å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸€é”®æ¨é€åˆ° githubï¼Œä¸ç”¨æ‰‹åŠ¨åˆ›å»ºä»“åº“å’Œè®¾ç½®è¿œç¨‹åˆ†æ”¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/958465afdb304d7895f802684f2dc960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=ezoe2BgAREIuCw8zbXlk9J9IOQw%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1fd69af1930443387faca73cea071df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=IeJTk%2BWwcvt6kndrsns400RCzQo%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œä¸€å®šè¦å‘å¸ƒä¸º<strong>public</strong>ä»“åº“ï¼Œå¦åˆ™æ— æ³•è®¿é—®ä¸ªäººç½‘ç«™</p>
</blockquote>
<h2 data-id="heading-4">å®‰è£…ä¾èµ–å¹¶æœ¬åœ°è¿è¡Œç½‘ç«™</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm i

<span class="hljs-comment"># æœ¬åœ°è¿è¡Œç½‘ç«™</span>
pnpm run server
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd4ef9e0e4314f3297c71d3e77273a02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=NpCv2ao2BmrG7RfF4ZpZ%2BSekjH4%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡ŒæŠ¥äº†ä¸€ä¸ªé”™è¯¯ï¼Œæ„æ€æ˜¯è¯´åœ¨æˆ‘ä»¬å®‰è£…çš„ä¾èµ–<code>strip-ansi@7.1.2</code>ä¸­ï¼Œåœ¨<code>ES Module</code>ä¸­ä½¿ç”¨äº†<code>require()</code>ã€‚<code>require</code>æ˜¯<code>CJS</code>çš„è¯­æ³•ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚</p>
<blockquote>
<p>å…³äº <code>ESM</code> å’Œ <code>CJS</code> çš„åŒºåˆ«ï¼Œå¯ä»¥çœ‹å¾€æœŸæ–‡ç« çš„è¯¦ç»†ä»‹ç»ï¼š<a href="https://juejin.cn/post/7473814041867780130" target="_blank" title="https://juejin.cn/post/7473814041867780130">CJSå’ŒESMä¸¤ç§æ¨¡å—åŒ–æ ‡å‡†çš„å¼‚åŒåˆ†æ</a></p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åœ¨<code>package.json</code>ä¸­é…ç½®<code>pnpm</code>çš„<code>overrides</code>çš„æ–¹æ³•æ¥å°†<code>strip-ansi</code>çš„ä¸»ç‰ˆæœ¬å·é™è‡³6ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
    å…¶ä»–é…ç½®é¡¹ç›®<span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pnpm"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"overrides"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"strip-ansi"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¿®æ”¹åçš„<code>package.json</code>å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hexo-site"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"private"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hexo generate"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"clean"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hexo clean"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deploy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hexo deploy"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"server"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hexo server"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"hexo"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"8.1.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"hexo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-generator-archive"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-generator-category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-generator-index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-generator-tag"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-renderer-ejs"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-renderer-marked"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-renderer-stylus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-server"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"hexo-theme-landscape"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.0.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"packageManager"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm@10.28.1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"24.13.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pnpm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10.28.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"pnpm"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"overrides"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"strip-ansi"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åé‡æ–°å®‰è£…ä¾èµ–å†é‡æ–°è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°å®‰è£…ä¾èµ–</span>
pnpm i

<span class="hljs-comment"># é‡æ–°å¯åŠ¨æœåŠ¡</span>
pnpm run server
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a77ce0e1bd848879e1471fe21d14e74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=r9dmFX%2FJ8Z8Q9IfFrRKj88fdocU%3D" alt="image.png" loading="lazy"/>
ç„¶åæˆ‘ä»¬æ‰“å¼€<code>http://localhost:4000/</code>å³å¯è®¿é—®é¡µé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31314a53862d41439fc4034e60fe48be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=Lzl60I1V5uHD0mDYdot5w%2FCiLTo%3D" alt="image.png" loading="lazy"/></p>
<p>çœ‹èµ·æ¥æœ‰ç‚¹ä¸‘ï¼Œä½†æ˜¯ä¸é‡è¦ï¼Œæˆ‘ä»¬åç»­å¯ä»¥ä½¿ç”¨ä¸»é¢˜è¿›è¡Œç¾åŒ–ã€‚</p>
<h2 data-id="heading-5">é…ç½® CI/CD</h2>
<p>åœ¨<code>.github/workflows</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>page.yml</code>æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6259488a5f6847a4961c84ece41bf10a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=2Zh%2FbKzWd6sczVWxbLpDaCiO%2Fi0%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># GitHub Pages è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥ä½œæµ</span>
<span class="hljs-comment"># è¯¥å·¥ä½œæµåœ¨ master åˆ†æ”¯æœ‰æ–°çš„ push æ—¶è‡ªåŠ¨è§¦å‘ï¼Œæ„å»ºé¡¹ç›®å¹¶éƒ¨ç½²åˆ° GitHub Pages</span>

<span class="hljs-comment"># å·¥ä½œæµåç§°ï¼Œä¼šåœ¨ GitHub Actions ç•Œé¢æ˜¾ç¤º</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Pages</span>

<span class="hljs-comment"># å·¥ä½œæµè§¦å‘æ¡ä»¶</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span> <span class="hljs-comment"># ä»…åœ¨ master åˆ†æ”¯æœ‰ push æ—¶è§¦å‘æ­¤å·¥ä½œæµ</span>

<span class="hljs-comment"># å®šä¹‰å·¥ä½œæµä¸­çš„æ‰€æœ‰ä»»åŠ¡</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-comment"># æ„å»ºä»»åŠ¡ï¼šç¼–è¯‘é¡¹ç›®å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-comment"># æŒ‡å®šè¿è¡Œç¯å¢ƒä¸ºæœ€æ–°çš„ Ubuntu ç³»ç»Ÿ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-comment"># å®šä¹‰æ­¤ä»»åŠ¡ä¸­çš„æ‰€æœ‰æ­¥éª¤</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-comment"># æ­¥éª¤ 1: æ£€å‡ºä»£ç ä»“åº“</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># ä½¿ç”¨ GitHub æä¾›çš„é»˜è®¤ token è¿›è¡Œèº«ä»½éªŒè¯</span>
          <span class="hljs-attr">token:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
          <span class="hljs-comment"># é€’å½’æ£€å‡ºæ‰€æœ‰å­æ¨¡å—ï¼ˆå¦‚æœé¡¹ç›®åŒ…å« git submoduleï¼‰</span>
          <span class="hljs-comment"># å‚è€ƒ: https://github.com/actions/checkout</span>
          <span class="hljs-attr">submodules:</span> <span class="hljs-string">recursive</span>
      
      <span class="hljs-comment"># æ­¥éª¤ 2: è®¾ç½® Node.js è¿è¡Œç¯å¢ƒ</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Use</span> <span class="hljs-string">Node.js</span> <span class="hljs-number">24.13</span><span class="hljs-number">.0</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># æŒ‡å®š Node.js ç‰ˆæœ¬ä¸º 24.13.0</span>
          <span class="hljs-comment"># æ”¯æŒçš„ç‰ˆæœ¬æ ¼å¼: 20, 18.19, &gt;=16.20.2, lts/Iron, lts/Hydrogen, *, latest, current, node</span>
          <span class="hljs-comment"># è¯¦ç»†è¯´æ˜: https://github.com/actions/setup-node#supported-version-syntax</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-string">'24.13.0'</span>

      <span class="hljs-comment"># æ­¥éª¤ 3: è®¾ç½® pnpm åŒ…ç®¡ç†å™¨</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">pnpm</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># æŒ‡å®š pnpm ç‰ˆæœ¬ä¸º 10.28.1</span>
          <span class="hljs-attr">version:</span> <span class="hljs-number">10.28</span><span class="hljs-number">.1</span>

      <span class="hljs-comment"># æ­¥éª¤ 4: è·å– pnpm å­˜å‚¨ç›®å½•è·¯å¾„</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Get</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">store</span> <span class="hljs-string">directory</span>
        <span class="hljs-comment"># æ‰§è¡Œå‘½ä»¤è·å– pnpm çš„æœ¬åœ°å­˜å‚¨è·¯å¾„ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°ç¯å¢ƒå˜é‡ STORE_PATH ä¸­</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">"STORE_PATH=$(pnpm store path)"</span> <span class="hljs-string">&gt;&gt;</span> <span class="hljs-string">$GITHUB_ENV</span>

      <span class="hljs-comment"># æ­¥éª¤ 5: ç¼“å­˜ pnpm ä¾èµ–åŒ…</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Cache</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">store</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># ç¼“å­˜çš„ç›®å½•è·¯å¾„ï¼ˆpnpm çš„åŒ…å­˜å‚¨ä½ç½®ï¼‰</span>
          <span class="hljs-attr">path:</span> <span class="hljs-string">${{</span> <span class="hljs-string">env.STORE_PATH</span> <span class="hljs-string">}}</span>
          <span class="hljs-comment"># ç¼“å­˜çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ŒåŸºäºæ“ä½œç³»ç»Ÿå’Œ pnpm-lock.yaml æ–‡ä»¶çš„å“ˆå¸Œå€¼</span>
          <span class="hljs-comment"># è¿™æ ·å¯ä»¥åœ¨ä¾èµ–æœªå˜åŒ–æ—¶å¤ç”¨ç¼“å­˜ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦</span>
          <span class="hljs-attr">key:</span> <span class="hljs-string">${{</span> <span class="hljs-string">runner.os</span> <span class="hljs-string">}}-pnpm-${{</span> <span class="hljs-string">hashFiles('pnpm-lock.yaml')</span> <span class="hljs-string">}}</span>

      <span class="hljs-comment"># æ­¥éª¤ 6: å®‰è£…é¡¹ç›®ä¾èµ–</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Dependencies</span>
        <span class="hljs-comment"># ä½¿ç”¨ pnpm å®‰è£… package.json ä¸­å®šä¹‰çš„æ‰€æœ‰ä¾èµ–åŒ…</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span>

      <span class="hljs-comment"># æ­¥éª¤ 7: æ„å»ºé¡¹ç›®</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span>
        <span class="hljs-comment"># æ‰§è¡Œ package.json ä¸­å®šä¹‰çš„ build è„šæœ¬ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public ç›®å½•</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>

      <span class="hljs-comment"># æ­¥éª¤ 8: ä¸Šä¼ æ„å»ºäº§ç‰©åˆ° GitHub Pages</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Upload</span> <span class="hljs-string">Pages</span> <span class="hljs-string">artifact</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/upload-pages-artifact@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># æŒ‡å®šè¦ä¸Šä¼ çš„ç›®å½•è·¯å¾„ï¼ˆæ„å»ºåçš„é™æ€æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰</span>
          <span class="hljs-attr">path:</span> <span class="hljs-string">./public</span>

  <span class="hljs-comment"># éƒ¨ç½²ä»»åŠ¡ï¼šå°†æ„å»ºå¥½çš„æ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pages</span>
  <span class="hljs-attr">deploy:</span>
    <span class="hljs-comment"># æ­¤ä»»åŠ¡ä¾èµ–äº build ä»»åŠ¡ï¼Œåªæœ‰ build ä»»åŠ¡æˆåŠŸå®Œæˆåæ‰ä¼šæ‰§è¡Œ</span>
    <span class="hljs-attr">needs:</span> <span class="hljs-string">build</span>
    
    <span class="hljs-comment"># å®šä¹‰æ­¤ä»»åŠ¡æ‰€éœ€çš„æƒé™</span>
    <span class="hljs-attr">permissions:</span>
      <span class="hljs-comment"># å…è®¸å†™å…¥ GitHub Pages é…ç½®</span>
      <span class="hljs-attr">pages:</span> <span class="hljs-string">write</span>
      <span class="hljs-comment"># å…è®¸ç”Ÿæˆå’Œä½¿ç”¨ OIDC tokenï¼ˆç”¨äºèº«ä»½éªŒè¯ï¼‰</span>
      <span class="hljs-attr">id-token:</span> <span class="hljs-string">write</span>
    
    <span class="hljs-comment"># å®šä¹‰éƒ¨ç½²ç¯å¢ƒä¿¡æ¯</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-comment"># ç¯å¢ƒåç§°ä¸º github-pagesï¼ˆGitHub ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶é…ç½®ï¼‰</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">github-pages</span>
      <span class="hljs-comment"># éƒ¨ç½²å®Œæˆåçš„è®¿é—® URLï¼Œä»éƒ¨ç½²æ­¥éª¤çš„è¾“å‡ºä¸­è·å–</span>
      <span class="hljs-attr">url:</span> <span class="hljs-string">${{</span> <span class="hljs-string">steps.deployment.outputs.page_url</span> <span class="hljs-string">}}</span>
    
    <span class="hljs-comment"># æŒ‡å®šè¿è¡Œç¯å¢ƒä¸ºæœ€æ–°çš„ Ubuntu ç³»ç»Ÿ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-comment"># å®šä¹‰æ­¤ä»»åŠ¡ä¸­çš„æ‰€æœ‰æ­¥éª¤</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-comment"># æ­¥éª¤ 1: éƒ¨ç½²åˆ° GitHub Pages</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span>
        <span class="hljs-comment"># ä¸ºæ­¤æ­¥éª¤è®¾ç½® IDï¼Œä»¥ä¾¿åç»­æ­¥éª¤å¯ä»¥å¼•ç”¨å…¶è¾“å‡º</span>
        <span class="hljs-attr">id:</span> <span class="hljs-string">deployment</span>
        <span class="hljs-comment"># ä½¿ç”¨ GitHub å®˜æ–¹çš„éƒ¨ç½² actionï¼Œå°†ä¹‹å‰ä¸Šä¼ çš„äº§ç‰©éƒ¨ç½²åˆ° GitHub Pages</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/deploy-pages@v4</span>
</code></pre>
<p>è¿™æ ·å½“æˆ‘ä»¬åœ¨<code>master</code>åˆ†æ”¯<code>push</code>ä»£ç æ—¶ï¼Œå°±å¯ä»¥è§¦å‘<code>Github</code>çš„æµæ°´çº¿ï¼Œè‡ªåŠ¨å°†æ›´æ–°åçš„ç½‘ç«™éƒ¨ç½²åˆ°<code>Github Pages</code>ã€‚</p>
<p>å°è¯•è¿›è¡Œä¸€æ¬¡æ¨é€ï¼Œè¿›å…¥ä»“åº“çš„<code>Actions</code>ï¼Œå‘ç°<code>workflow</code>å·²ç»æ­£åœ¨è¿è¡Œäº†ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a3ca6837e8e4f6db981619d098dcff4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=5LsgnqGiQS0LDBdTh9HHu2roNhw%3D" alt="image.png" loading="lazy"/></p>
<p><code>workflow</code>è¿è¡ŒæˆåŠŸåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è®¿é—®å·²ç»éƒ¨ç½²çš„é¡µé¢äº†ã€‚</p>
<p><code>https://ä½ çš„githubè´¦æˆ·å.github.io</code></p>
<p>è¿™é‡Œä»¥ç¬”è€…çš„é¡µé¢ä¸ºä¾‹</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmajialu-love-zouyutong.github.io" target="_blank" title="https://majialu-love-zouyutong.github.io" ref="nofollow noopener noreferrer">çœ‹ä¸€ä¸‹éƒ¨ç½²æ•ˆæœ</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31b4b4ec5214464e843cbe60beb43ae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=Ck02sFodoMYcIU15o5t1kxmVecE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">ä½¿ç”¨ä¸»é¢˜</h2>
<p>é€šè¿‡ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨æ¯æ¬¡æ¨é€æ›´æ–°çš„<code>master</code>æ—¶å®ç°è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ï¼Œä½†æ˜¯ç›®å‰çš„æ ·å¼å¤ªä¸‘äº†ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹å¼å¯ä»¥è¿›è¡Œç¾åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhexo.io%2Fthemes%2F" target="_blank" title="https://hexo.io/themes/" ref="nofollow noopener noreferrer">hexoä¸»é¢˜å¸‚åœº</a>ä¸­ä»»æ„é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bca31f537384fec8c3eae9e9f65fdb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=5b1PBUprMBheV%2BLi91FlWFalxfc%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯ä¸€ä¸ªä¸»é¢˜éƒ½æœ‰ç›¸åº”çš„é¢„è§ˆç½‘ç«™å¯ä»¥æŸ¥çœ‹ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanzhiyu-c%2Fhexo-theme-anzhiyu" target="_blank" title="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" ref="nofollow noopener noreferrer">å®‰ä¹‹é±¼</a>ä¸»é¢˜ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œå…¶ä»–ä¸»é¢˜æ–¹æ³•ç±»ä¼¼ã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># åšå®¢é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰§è¡Œ</span>
<span class="hljs-comment"># å®‰è£…ä¸»é¢˜</span>
pnpm add hexo-theme-anzhiyu

<span class="hljs-comment"># å®‰è£…pugå’Œstylusçš„æ¸²æŸ“å™¨</span>
pnpm add hexo-renderer-pug hexo-renderer-stylus

<span class="hljs-comment"># æœ¬åœ°å¯åŠ¨é¡¹ç›®</span>
pnpm run server
</code></pre>
<p>ä¿®æ”¹æ ¹ç›®å½•ä¸­çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„<code>theme</code>å­—æ®µæ”¹æˆ<code>znzhiyu</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f878518cfebb499d9c5aa1b86ad07f18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=XmcPUNTwFk9JNeRaB7xtdxUYxgo%3D" alt="image.png" loading="lazy"/></p>
<p>é¡¹ç›®åœ¨æœ¬åœ°å¯åŠ¨åå°±å¯ä»¥è®¿é—®å•¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53d96aadc3a0485b83410ffd05d1ee4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=rRrvTRW5Xg4FDvHY1Je%2F1gx9t%2FI%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6566cc6343f942f4bfa7493747e5ed08~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5ou_56C06L2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771573864&amp;x-signature=ECMoiKtU%2B3JTv5fOMxwL75Usxrg%3D" alt="image.png" loading="lazy"/></p>
<p>å°†å˜æ›´æ¨é€åˆ°<code>Github</code>ä»“åº“æ‰§è¡Œæµæ°´çº¿ï¼Œå³å¯è‡ªåŠ¨éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>æœ¬æ–‡è¯¦ç»†è®°å½•äº†å¦‚ä½•ç”¨<code>hexo + Github Pages</code>æ­å»ºä¸€ä¸ªè‡ªå·±çš„ä¸ªäººç½‘ç«™ï¼Œå¹¶åˆ©ç”¨<code>anzhiyu</code>ä¸»é¢˜è¿›è¡Œäº†ç¾åŒ–ï¼ŒåŒæ—¶é€šè¿‡<code>Github Actions</code>è®¾ç½®äº†<code>CI/CD</code>æµç¨‹ï¼Œå®ç°ä»£ç æ¨é€åè‡ªåŠ¨éƒ¨ç½²ã€‚</p>
<p>å¥½äº†ï¼Œè¿™ç¯‡æ–‡ç« å°±åˆ°è¿™é‡Œå•¦ï¼Œå¦‚æœå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿<code>ç‚¹èµ,æ”¶è—,åˆ†äº«ğŸ‘ğŸ‘ğŸ‘</code>ã€‚æ‚¨çš„è®¤å¯æ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ã€‚ç”±äºç¬”è€…æ°´å¹³æœ‰é™ï¼Œéš¾å…æœ‰ç–æ¼ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å„ä½å¤§ä½¬è¯„è®ºåŒºæŒ‡æ­£ã€‚</p>
<blockquote>
<p>å¾€æœŸæ¨èâœ¨âœ¨âœ¨</p>
<ul>
<li><a href="https://juejin.cn/post/7562097702891061274" title="https://juejin.cn/post/7562097702891061274" target="_blank">ä»0åˆ°1æ­ä¸€ä¸ªmonorepoé¡¹ç›®ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://juejin.cn/post/7544202006890758183" title="https://juejin.cn/post/7544202006890758183" target="_blank">ä»é›¶åˆ°ä¸€å¼€å‘ä¸€ä¸ªChromeæ’ä»¶ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://juejin.cn/post/7473814041867780130" title="https://juejin.cn/post/7473814041867780130" target="_blank">CJSå’ŒESMä¸¤ç§æ¨¡å—åŒ–æ ‡å‡†çš„å¼‚åŒåˆ†æ</a></li>
<li><a href="https://juejin.cn/post/7498988293209784374" title="https://juejin.cn/post/7498988293209784374" target="_blank">ğŸ¤”5202å¹´äº†ï¼Œä½ ä¸ä¼šè¿˜ä¸çŸ¥é“WebAssemblyå§ï¼Ÿ</a></li>
<li><a href="https://juejin.cn/post/7508919522905522226" title="https://juejin.cn/post/7508919522905522226" target="_blank">ğŸš€ğŸš€ğŸš€å®åœ¨å—ä¸äº†æ··ä¹±çš„æäº¤â€”â€”æˆ‘ä½¿ç”¨äº†commitlintå’Œcommitizen</a></li>
<li><a href="https://juejin.cn/post/7514876424806334504" title="https://juejin.cn/post/7514876424806334504" target="_blank">å½“æˆ‘ç”¨deepwikiæ¥å­¦ä¹ Reactæºç </a></li>
<li><a href="https://juejin.cn/post/7519769941501165631" title="https://juejin.cn/post/7519769941501165631" target="_blank">ã€ğŸš€ğŸš€ğŸš€ä»£ç éšæƒ³å½•åˆ·é¢˜æ€»ç»“ã€‘leetcode707-è®¾è®¡é“¾è¡¨</a></li>
</ul>
</blockquote>
<p>æˆ‘æ˜¯<code>å‰ç«¯æ‹¿ç ´è½®</code>ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹äºŒ]]></title>    <link>https://juejin.cn/post/7605912122628177958</link>    <guid>https://juejin.cn/post/7605912122628177958</guid>    <pubDate>2026-02-13T08:11:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605912122628177958" data-draft-id="7605856048361766950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹äºŒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T08:11:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é­”ç‹719"/> <meta itemprop="url" content="https://juejin.cn/user/2256671358595687"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹äºŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2256671358595687/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é­”ç‹719
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:11:31.000Z" title="Fri Feb 13 2026 08:11:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šé¢é‚£ç¯‡æ–‡ç« æˆ‘ä»¬æåˆ°äº†çº¿ç¨‹å’Œé”çš„ä¸€äº›æ¦‚å¿µï¼Œä½†æ˜¯ä»£ç æœ‰äº›å†—ä½™ï¼Œæ¯”å¦‚éœ€è¦æˆ‘æ‰‹åŠ¨æ‰§è¡Œstart,æ‰‹åŠ¨æ‰§è¡Œjoinï¼Œå­çº¿ç¨‹æ•°é‡å°‘è¿˜å¥½ï¼Œå¦‚æœå¤šèµ·æ¥çš„è¯ï¼Œå°±ä¼šæ˜¾å¾—ä»£ç å¾ˆå‘†ï¼Œå› æ­¤å¼•å‡ºä¸‹ä¸€ä¸ªæ¦‚å¿µ--&gt;<strong>çº¿ç¨‹æ± ï¼ˆThreadPoolExecutorï¼‰</strong></p>
<h2 data-id="heading-1">çº¿ç¨‹æ± -submitç‰ˆæœ¬</h2>
<h4 data-id="heading-2">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, Lock
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

l = Lock()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">with</span> l:
        <span class="hljs-keyword">global</span> total_money
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
        <span class="hljs-keyword">if</span> total_money:
            time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># åªæ˜¯å¢åŠ äº†è¿™æ­¥</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
            total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    <span class="hljs-keyword">with</span> ThreadPoolExecutor() <span class="hljs-keyword">as</span> executor:
        e1 = executor.submit(speed_money, <span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>)
        e2 = executor.submit(speed_money, <span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>)
        e3 = executor.submit(speed_money, <span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>)

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\ne1,e2,e3éƒ½submitäº†ï½ï½ï½ï½ï½"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¼€å§‹ä¾æ¬¡è·å–æ‰§è¡Œç»“æœ"</span>)
    <span class="hljs-built_in">print</span>(e1.result())
    <span class="hljs-built_in">print</span>(e2.result())
    <span class="hljs-built_in">print</span>(e3.result())
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\ne1,e2,e3éƒ½resultå®Œäº†ï¼Œ"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<h4 data-id="heading-3">æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ffbb6aecaf24d929bc546d3e83e9aba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575091&amp;x-signature=4BA9nkPU01mW8uHOOPuGvYSY1Dc%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° åœ¨submitçš„æ—¶å€™ï¼Œ3ä¸ªå­çº¿ç¨‹å°±ä¾æ¬¡å¯åŠ¨äº†ï¼Œå¹¶ä¸”æ˜¯æ²¡æœ‰é˜»å¡ä¸»çº¿ç¨‹çš„ï¼Œç„¶ååœ¨å­çº¿ç¨‹è·å–resultçš„å‘ç°ä¸»çº¿ç¨‹æ˜¯åˆè¢«é˜»å¡çš„ å› æ­¤å¾—å‡º</p>
<h4 data-id="heading-4">ç»“è®º</h4>
<ul>
<li><strong>çº¿ç¨‹æ± submitå’Œçº¿ç¨‹Threadçš„startå¾ˆåƒï¼ˆpséƒ½æ˜¯å¯åŠ¨å­çº¿ç¨‹ï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼‰</strong></li>
<li><strong>çº¿ç¨‹æ± resultå’Œçº¿ç¨‹Threadçš„joinå¾ˆåƒï¼ˆpséƒ½æ˜¯é˜»å¡ä¸»çº¿ç¨‹ï¼Œç›´åˆ°å­çº¿ç¨‹æ‰§è¡Œå®Œï¼‰</strong></li>
<li><strong>ä¸åŒç‚¹æ˜¯resultæ˜¯ä¼šè·å–å­çº¿ç¨‹çš„ç»“æœçš„ï¼Œä½†æ˜¯joinä¸è¡Œ</strong></li>
</ul>
<h2 data-id="heading-5">çº¿ç¨‹æ± -mapç‰ˆæœ¬</h2>
<h4 data-id="heading-6">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, Lock
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

l = Lock()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">with</span> l:
        <span class="hljs-keyword">global</span> total_money
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
        <span class="hljs-keyword">if</span> total_money:
            time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># åªæ˜¯å¢åŠ äº†è¿™æ­¥</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
            total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    <span class="hljs-keyword">with</span> ThreadPoolExecutor() <span class="hljs-keyword">as</span> executor:
        results = executor.<span class="hljs-built_in">map</span>(
            speed_money,
            [<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>],  <span class="hljs-comment"># speed_moneyæ¥å—çš„ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°çš„å¯è¿­ä»£å¯¹è±¡</span>
            [<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>]  <span class="hljs-comment"># speed_moneyæ¥å—çš„ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„å¯è¿­ä»£å¯¹è±¡</span>
        )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\ne1,e2,e3å¼€å§‹mapäº†ï½ï½ï½ï½ï½"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¼€å§‹ä¾æ¬¡è·å–æ‰§è¡Œç»“æœ"</span>)
    <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n result"</span>, result)

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\ne1,e2,e3éƒ½mapå®Œäº†ï¼Œ"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<h4 data-id="heading-7">æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5e61b3ba621486bb4cedea1e7258dd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575091&amp;x-signature=Kl1G5q%2B%2BO2vPxP2R5M9Ae95tkME%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡ç»“æœå¯ä»¥å‘ç°ï¼ŒåŸºæœ¬ä¸Šå’Œsubmitæ‰“å°çš„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¯´æ•°æ®ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯ç›¸è¾ƒäºsubmitçš„è¯ï¼Œmapå°±å¾ˆé€šç”¨äº†ï¼Œä½¿ç”¨æ–¹å¼å’Œæ™®é€šçš„mapä¿æŒä¸€è‡´ï¼Œ<strong>ä¹Ÿæ˜¯åœ¨mapçš„æ—¶å€™å­çº¿ç¨‹å°±ä¼šæ‰§è¡Œï¼Œæ‰§è¡Œå®Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨foræˆ–è€…nextæ¥è·å–å­çº¿ç¨‹çš„è¿”å›å€¼</strong></p>
<h4 data-id="heading-8">mapå’Œsubmitçš„åŒºåˆ«</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51ae89e9c28648f488dca87244bb4b13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575091&amp;x-signature=vDv4bE2yTmAxo%2ByP3DZtHMQZfRQ%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[Aliyun] [FC] å¦‚ä½•ä½¿ç”¨ website-fc-serve æ’ä»¶éƒ¨ç½²é™æ€ç½‘ç«™]]></title>    <link>https://juejin.cn/post/7605811866909229065</link>    <guid>https://juejin.cn/post/7605811866909229065</guid>    <pubDate>2026-02-13T07:05:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605811866909229065" data-draft-id="7605881632541278259" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[Aliyun] [FC] å¦‚ä½•ä½¿ç”¨ website-fc-serve æ’ä»¶éƒ¨ç½²é™æ€ç½‘ç«™"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T07:05:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DevDengChao"/> <meta itemprop="url" content="https://juejin.cn/user/2137106333841672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [Aliyun] [FC] å¦‚ä½•ä½¿ç”¨ website-fc-serve æ’ä»¶éƒ¨ç½²é™æ€ç½‘ç«™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2137106333841672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DevDengChao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:05:55.000Z" title="Fri Feb 13 2026 07:05:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æœ¬åšå®¢ç«™ç‚¹å·²å…¨é‡è¿ç§»è‡³ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.dengchao.fun" target="_blank" title="https://blog.dengchao.fun" ref="nofollow noopener noreferrer">DevDengChao çš„åšå®¢ https://blog.dengchao.fun</a> , åç»­çš„æ–°å†…å®¹å°†ä¼˜å…ˆåœ¨è‡ªå»ºåšå®¢ç«™è¿›è¡Œå‘å¸ƒ, æ¬¢è¿å¤§å®¶è®¿é—®.</strong></p>
<h2 data-id="heading-0">å‘Šåˆ« Expressï¼Œç”¨ serve è½»é‡éƒ¨ç½²é™æ€ç½‘ç«™åˆ°å‡½æ•°è®¡ç®—</h2>
<p>åœ¨ Serverless æ¶æ„æ—¥ç›Šæ™®åŠçš„ä»Šå¤©ï¼Œå°†é™æ€ç½‘ç«™éƒ¨ç½²åˆ°äº‘å‡½æ•°å¹³å°å·²ç»æˆä¸ºä¸€ç§é«˜æ€§ä»·æ¯”çš„æ–¹æ¡ˆã€‚æœ¬æ–‡å°†ä»‹ç» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdevsapp%2Fwebsite-fc-serve" target="_blank" title="https://github.com/devsapp/website-fc-serve" ref="nofollow noopener noreferrer">website-fc-serve</a> æ’ä»¶ â€”â€” ä¸€ä¸ªåŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FServerless-Devs%2FServerless-Devs" target="_blank" title="https://github.com/Serverless-Devs/Serverless-Devs" ref="nofollow noopener noreferrer">Serverless-Devs</a> çš„è½»é‡çº§é™æ€ç½‘ç«™éƒ¨ç½²å·¥å…·ï¼Œå¹¶ä¸å®ƒçš„å‰èº« website-fc è¿›è¡Œå¯¹æ¯”ï¼Œå¸®åŠ©ä½ é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°è®¡ç®—éƒ¨ç½²é™æ€ç½‘ç«™ï¼Ÿ</h3>
<p>éƒ¨ç½²é™æ€ç½‘ç«™æœ€å¸¸è§çš„æ–¹å¼æ˜¯ CDN + OSSï¼Œè¿™ç§æ¶æ„æ€§èƒ½æœ€ä¼˜ã€å¼¹æ€§æœ€å¥½ã€‚ä½†åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå¼€å‘è€…æ›´å€¾å‘äºå°†é™æ€èµ„æºç›´æ¥éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰ï¼š</p>
<ul>
<li><strong>æ¶æ„ç®€æ´</strong>ï¼šå‰åç«¯éƒ½éƒ¨ç½²åœ¨å‡½æ•°è®¡ç®—ä¸Šï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥ OSSã€CDN ç­‰ç»„ä»¶</li>
<li><strong>é¿å…è·¨åŸŸ</strong>ï¼šFullStack æ¡†æ¶å‰åç«¯ä¸€ä½“åŒ–æ—¶ï¼Œå‰ç«¯éƒ¨ç½²åœ¨ OSS å¯èƒ½äº§ç”Ÿè·¨åŸŸé—®é¢˜ï¼Œè§£å†³è·¨åŸŸåˆéœ€è¦å¼•å…¥ç½‘å…³ï¼Œå¾’å¢å¤æ‚åº¦</li>
<li><strong>å…è´¹é¢åº¦</strong>ï¼šFaaS å¹³å°é€šå¸¸æä¾›å…è´¹é¢åº¦ï¼Œå¯¹äºä½æµé‡ç«™ç‚¹å®Œå…¨å¤Ÿç”¨</li>
</ul>
<h3 data-id="heading-2">website-fc-serve æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><code>website-fc-serve</code> æ˜¯ä¸€ä¸ª Serverless-Devs æ’ä»¶ï¼Œå®ƒèƒ½è®©ä½ ç”¨ä¸€è¡Œé…ç½®å°†æœ¬åœ°çš„é™æ€æ–‡ä»¶ï¼ˆHTML/CSS/JS ç­‰ï¼‰éƒ¨ç½²åˆ°é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ã€‚å®ƒä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fserve" target="_blank" title="https://www.npmjs.com/package/serve" ref="nofollow noopener noreferrer">serve</a> è¿™ä¸ªè½»é‡çº§çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨æ¥æ‰˜ç®¡ä½ çš„ç½‘ç«™å†…å®¹ã€‚</p>
<p>æ ¸å¿ƒç†å¿µå¾ˆç®€å•ï¼š<strong>æŠŠé™æ€æ–‡ä»¶äº¤ç»™ä¸“ä¸šçš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯é€šç”¨çš„ Web æ¡†æ¶ã€‚</strong></p>
<h3 data-id="heading-3">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-4">å‰ç½®æ¡ä»¶</h4>
<ul>
<li>å®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FServerless-Devs%2FServerless-Devs" target="_blank" title="https://github.com/Serverless-Devs/Serverless-Devs" ref="nofollow noopener noreferrer">Serverless-Devs CLI</a></li>
<li>é…ç½®é˜¿é‡Œäº‘è®¿é—®å¯†é’¥ï¼ˆ<code>s config add</code>ï¼‰</li>
</ul>
<h4 data-id="heading-5">é¡¹ç›®ç»“æ„</h4>
<p>å‡è®¾ä½ çš„é™æ€ç½‘ç«™æ„å»ºäº§ç‰©åœ¨ <code>dist</code> ç›®å½•ä¸‹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-website/
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ assets/
â””â”€â”€ s.yaml
</code></pre>
<h4 data-id="heading-6">æœ€å°é…ç½®</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>s.yaml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">edition:</span> <span class="hljs-number">3.0</span><span class="hljs-number">.0</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">my-website</span>
<span class="hljs-attr">access:</span> <span class="hljs-string">default</span>

<span class="hljs-attr">vars:</span>
  <span class="hljs-attr">region:</span> <span class="hljs-string">cn-hangzhou</span>
  <span class="hljs-attr">functionName:</span> <span class="hljs-string">my-static-website</span>

<span class="hljs-attr">resources:</span>
  <span class="hljs-attr">website:</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">fc3</span>
    <span class="hljs-attr">actions:</span>
      <span class="hljs-attr">pre-deploy:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">region:</span> <span class="hljs-string">${vars.region}</span>
      <span class="hljs-attr">functionName:</span> <span class="hljs-string">${vars.functionName}</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">"My static website on FC"</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-number">30</span>
      <span class="hljs-attr">memorySize:</span> <span class="hljs-number">512</span>
      <span class="hljs-attr">code:</span> <span class="hljs-string">./dist</span>
</code></pre>
<p>ç„¶åæ‰§è¡Œéƒ¨ç½²ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">s deploy
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ã€‚æ’ä»¶ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹å·¥ä½œï¼š</p>
<ol>
<li>å°† <code>./dist</code> ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶å¤åˆ¶åˆ°éƒ¨ç½²åŒ…ä¸­</li>
<li>å®‰è£… <code>serve</code> ä¾èµ–</li>
<li>é…ç½® Node.js è¿è¡Œæ—¶ Layer</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
<li>ä»¥ <code>serve</code> ä½œä¸ºå‡½æ•°å¯åŠ¨å‘½ä»¤ï¼Œåœ¨ 9000 ç«¯å£æä¾›é™æ€æ–‡ä»¶æœåŠ¡</li>
</ol>
<h4 data-id="heading-7">ç»‘å®šåŸŸå</h4>
<p>è¦é€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®ï¼Œæ·»åŠ ä¸€ä¸ª <code>fc3-domain</code> èµ„æºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">resources:</span>
  <span class="hljs-attr">website:</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">fc3</span>
    <span class="hljs-attr">actions:</span>
      <span class="hljs-attr">pre-deploy:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">region:</span> <span class="hljs-string">${vars.region}</span>
      <span class="hljs-attr">functionName:</span> <span class="hljs-string">${vars.functionName}</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-number">30</span>
      <span class="hljs-attr">memorySize:</span> <span class="hljs-number">512</span>
      <span class="hljs-attr">code:</span> <span class="hljs-string">./dist</span>
  <span class="hljs-attr">fc3_domain_0:</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">fc3-domain</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">region:</span> <span class="hljs-string">${vars.region}</span>
      <span class="hljs-attr">domainName:</span> <span class="hljs-string">auto</span>
      <span class="hljs-attr">protocol:</span> <span class="hljs-string">HTTP</span>
      <span class="hljs-attr">routeConfig:</span>
        <span class="hljs-attr">routes:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/*</span>
            <span class="hljs-attr">functionName:</span> <span class="hljs-string">${vars.functionName}</span>
</code></pre>
<h3 data-id="heading-8">åŠŸèƒ½è¯¦è§£</h3>
<h4 data-id="heading-9">1. SPA è·¯ç”±æ”¯æŒ</h4>
<p>å¦‚æœä½ çš„é¡¹ç›®æ˜¯ Vueã€React ç­‰å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ï¼Œå®¢æˆ·ç«¯è·¯ç”±éœ€è¦æœåŠ¡å™¨å°†æ‰€æœ‰æœªåŒ¹é…çš„è·¯å¾„å›é€€åˆ° <code>index.html</code>ã€‚å¯ç”¨ <code>fallbackToIndex</code> å³å¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">actions:</span>
  <span class="hljs-attr">pre-deploy:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-attr">fallbackToIndex:</span> <span class="hljs-literal">true</span>
</code></pre>
<p>è¿™å¯¹åº” <code>serve</code> çš„ <code>-s</code> å‚æ•°ã€‚å¯ç”¨åï¼Œè®¿é—® <code>/about</code>ã€<code>/user/123</code> ç­‰è·¯å¾„æ—¶ï¼Œå³ä½¿æœåŠ¡å™¨ä¸Šæ²¡æœ‰å¯¹åº”çš„æ–‡ä»¶ï¼Œä¹Ÿä¼šè¿”å› <code>index.html</code>ï¼Œç”±å‰ç«¯è·¯ç”±æ¥ç®¡ã€‚</p>
<h4 data-id="heading-10">2. è‡ªå®šä¹‰é¦–é¡µ</h4>
<p>é»˜è®¤é¦–é¡µæ˜¯ <code>index.html</code>ã€‚å¦‚æœä½ çš„é¦–é¡µæ–‡ä»¶åä¸åŒï¼ˆæ¯”å¦‚ <code>demo.html</code>ï¼‰ï¼Œå¯ä»¥é€šè¿‡ <code>index</code> å‚æ•°æŒ‡å®šï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">actions:</span>
  <span class="hljs-attr">pre-deploy:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-attr">index:</span> <span class="hljs-string">demo.html</span>
</code></pre>
<h4 data-id="heading-11">3. è‡ªå®šä¹‰è¿è¡Œæ—¶</h4>
<p>é»˜è®¤ä½¿ç”¨ <code>custom.debian11</code> è¿è¡Œæ—¶ã€‚å¦‚æœéœ€è¦æ›´æ–°çš„ç³»ç»Ÿåº“ï¼Œå¯ä»¥åˆ‡æ¢åˆ°å…¶ä»–ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">actions:</span>
  <span class="hljs-attr">pre-deploy:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-attr">runtime:</span> <span class="hljs-string">custom.debian12</span>
</code></pre>
<h4 data-id="heading-12">4. æŒ‡å®š serve ç‰ˆæœ¬</h4>
<p>é»˜è®¤ä½¿ç”¨ npm ä¸Šæœ€æ–°ç‰ˆçš„ <code>serve</code>ã€‚å¦‚æœéœ€è¦é”å®šç‰ˆæœ¬ä»¥ç¡®ä¿ç¨³å®šæ€§ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">actions:</span>
  <span class="hljs-attr">pre-deploy:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-attr">version:</span> <span class="hljs-number">14.2</span><span class="hljs-number">.0</span>
</code></pre>
<h4 data-id="heading-13">å‚æ•°é€ŸæŸ¥è¡¨</h4>



































<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>index</code></td><td>string</td><td><code>index.html</code></td><td>è‡ªå®šä¹‰é¦–é¡µæ–‡ä»¶å</td></tr><tr><td><code>fallbackToIndex</code></td><td>boolean</td><td><code>false</code></td><td>SPA æ¨¡å¼ï¼ŒæœªåŒ¹é…è·¯ç”±è¿”å›é¦–é¡µ</td></tr><tr><td><code>runtime</code></td><td>string</td><td><code>custom.debian11</code></td><td>å‡½æ•°è¿è¡Œæ—¶</td></tr><tr><td><code>version</code></td><td>string</td><td><code>latest</code></td><td>serve çš„ npm ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-14">å·¥ä½œåŸç†</h3>
<p><code>website-fc-serve</code> ä½œä¸ºä¸€ä¸ª <code>pre-deploy</code> æ’ä»¶ï¼Œåœ¨å‡½æ•°éƒ¨ç½²ä¹‹å‰ä»‹å…¥ï¼Œä¿®æ”¹éƒ¨ç½²çš„è¾“å…¥å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ä½ çš„é™æ€æ–‡ä»¶ (./dist)
        â”‚
        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  website-fc-serve   â”‚
  â”‚                     â”‚
  â”‚  1. å¤åˆ¶é™æ€æ–‡ä»¶     â”‚
  â”‚  2. å®‰è£… serve      â”‚
  â”‚  3. é…ç½® Layer      â”‚
  â”‚  4. è®¾ç½®ç¯å¢ƒå˜é‡     â”‚
  â”‚  5. é…ç½®å¯åŠ¨å‘½ä»¤     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
  FC éƒ¨ç½²ï¼ˆserve åœ¨ 9000 ç«¯å£å¯åŠ¨ï¼‰
</code></pre>
<p>å…·ä½“æ¥è¯´ï¼Œæ’ä»¶ä¼šï¼š</p>
<ul>
<li>å°† <code>runtime</code> è®¾ç½®ä¸º <code>custom.debian11</code>ï¼ˆå¯è‡ªå®šä¹‰ï¼‰</li>
<li>å°† <code>caPort</code> è®¾ç½®ä¸º <code>9000</code></li>
<li>è‡ªåŠ¨æ·»åŠ  <code>Nodejs22</code> å®˜æ–¹ Layerï¼ˆå¦‚æœç”¨æˆ·æœªé…ç½® Node.js Layerï¼‰</li>
<li>é€šè¿‡ <code>customRuntimeConfig</code> å¯åŠ¨ serveï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">./node_modules/.bin/serve [-s] <span class="hljs-keyword">public</span> -l tcp:<span class="hljs-comment">//0.0.0.0:9000</span>
</code></pre>
<h4 data-id="heading-15">Layer è‡ªåŠ¨ç®¡ç†</h4>
<p>æ’ä»¶ä¼šæ™ºèƒ½ç®¡ç† Node.js è¿è¡Œæ—¶ Layerï¼š</p>
<ul>
<li>å¦‚æœä½ <strong>æœªé…ç½®ä»»ä½• Layer</strong>ï¼Œæ’ä»¶è‡ªåŠ¨æ·»åŠ  <code>Nodejs22</code> å®˜æ–¹ Layer</li>
<li>å¦‚æœä½ <strong>å·²é…ç½®äº† Node.js Layer</strong>ï¼ˆå¦‚ <code>Nodejs20</code>ï¼‰ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«ç‰ˆæœ¬å¹¶è°ƒæ•´ <code>PATH</code> ç¯å¢ƒå˜é‡ä¸­çš„è·¯å¾„</li>
<li>å¦‚æœä½ <strong>é…ç½®äº†å…¶ä»– Layer ä½†æ²¡æœ‰ Node.js Layer</strong>ï¼Œæ’ä»¶ä»ä¼šè‡ªåŠ¨è¡¥å…… <code>Nodejs22</code> Layer</li>
</ul>
<h4 data-id="heading-16">ç¯å¢ƒå˜é‡è‡ªåŠ¨é…ç½®</h4>
<p>æ’ä»¶ä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿ Node.js è¿è¡Œæ—¶æ­£å¸¸å·¥ä½œï¼š</p>

























<table><thead><tr><th>ç¯å¢ƒå˜é‡</th><th>é»˜è®¤å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>PATH</code></td><td><code>/opt/nodejs{version}/bin:...</code></td><td>æŒ‡å‘æ­£ç¡®çš„ Node.js å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>NODE_PATH</code></td><td><code>/opt/nodejs/node_modules</code></td><td>Node.js æ¨¡å—æŸ¥æ‰¾è·¯å¾„</td></tr><tr><td><code>LD_LIBRARY_PATH</code></td><td><code>/code:/code/lib:/usr/lib:...</code></td><td>åŠ¨æ€é“¾æ¥åº“æŸ¥æ‰¾è·¯å¾„</td></tr></tbody></table>
<p>å¦‚æœä½ åœ¨ <code>props.environmentVariables</code> ä¸­å·²ç»è‡ªå®šä¹‰äº†è¿™äº›å˜é‡ï¼Œæ’ä»¶ä¼šä¿ç•™ä½ çš„é…ç½®ã€‚</p>
<h3 data-id="heading-17">website-fc-serve vs website-fcï¼šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><code>website-fc-serve</code> æ˜¯ <code>website-fc</code> çš„æ¼”è¿›ç‰ˆæœ¬ã€‚ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºåº•å±‚ä½¿ç”¨çš„ HTTP æœåŠ¡å™¨ä¸åŒã€‚</p>
<h4 data-id="heading-18">å¯¹æ¯”æ€»ç»“</h4>























































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>website-fc</th><th>website-fc-serve</th></tr></thead><tbody><tr><td>HTTP æœåŠ¡å™¨</td><td>Express.js</td><td>serve</td></tr><tr><td>å®šä½</td><td>é€šç”¨ Web æœåŠ¡</td><td>çº¯é™æ€æ–‡ä»¶æœåŠ¡</td></tr><tr><td>ä¾èµ–å¤æ‚åº¦</td><td>Express åŠå…¶ä¾èµ–é“¾</td><td>ä»… serve ä¸€ä¸ªä¾èµ–</td></tr><tr><td>éƒ¨ç½²åŒ…ä½“ç§¯</td><td>è¾ƒå¤§</td><td>æ›´å°</td></tr><tr><td>å†·å¯åŠ¨é€Ÿåº¦</td><td>è¾ƒæ…¢ï¼ˆExpress åˆå§‹åŒ–å¼€é”€ï¼‰</td><td>æ›´å¿«ï¼ˆserve å¯åŠ¨è½»é‡ï¼‰</td></tr><tr><td>æ’ä»¶è‡ªèº«ä¾èµ–</td><td>æœ‰ç¬¬ä¸‰æ–¹ npm ä¾èµ–</td><td>é›¶å¤–éƒ¨ä¾èµ–</td></tr><tr><td>SPA æ”¯æŒ</td><td>éœ€è‡ªè¡Œé…ç½®</td><td>å†…ç½® <code>fallbackToIndex</code> å‚æ•°</td></tr><tr><td>Layer ç®¡ç†</td><td>æ‰‹åŠ¨é…ç½®</td><td>è‡ªåŠ¨æ£€æµ‹å’Œé…ç½®</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>éœ€è¦æœåŠ¡ç«¯é€»è¾‘çš„ç«™ç‚¹</td><td>çº¯é™æ€ç«™ç‚¹ã€SPA</td></tr></tbody></table>
<h4 data-id="heading-19">ä¸ºä»€ä¹ˆé€‰æ‹© website-fc-serveï¼Ÿ</h4>
<p><strong>å¦‚æœä½ çš„ç½‘ç«™æ˜¯çº¯é™æ€çš„</strong>ï¼ˆHTML/CSS/JSã€Vue/React/Angular æ„å»ºäº§ç‰©ã€VuePress/Hexo/Hugo ç­‰é™æ€ç«™ç‚¹ç”Ÿæˆå™¨çš„è¾“å‡ºï¼‰ï¼Œé‚£ä¹ˆ <code>website-fc-serve</code> æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼š</p>
<ol>
<li><strong>æ›´è½»é‡</strong>ï¼šserve ä¸“ä¸ºé™æ€æ–‡ä»¶æœåŠ¡è®¾è®¡ï¼Œæ²¡æœ‰ Express çš„è·¯ç”±ã€ä¸­é—´ä»¶ç­‰é¢å¤–å¼€é”€</li>
<li><strong>æ›´å¿«çš„å†·å¯åŠ¨</strong>ï¼šä¾èµ–æ›´å°‘æ„å‘³ç€å‡½æ•°å†·å¯åŠ¨æ›´å¿«</li>
<li><strong>æ›´å°çš„éƒ¨ç½²åŒ…</strong>ï¼šç›´æ¥å½±å“éƒ¨ç½²é€Ÿåº¦å’Œå­˜å‚¨æˆæœ¬</li>
<li><strong>é›¶å¤–éƒ¨ä¾èµ–</strong>ï¼šæ’ä»¶æœ¬èº«ä»…ä½¿ç”¨ Node.js å†…ç½®æ¨¡å—ï¼ˆ<code>fs</code>ã€<code>path</code>ã€<code>child_process</code>ï¼‰ï¼Œæ›´ç¨³å®šå¯é </li>
<li><strong>å¼€ç®±å³ç”¨çš„ SPA æ”¯æŒ</strong>ï¼šä¸€ä¸ªå‚æ•°æå®šå‰ç«¯è·¯ç”±å…œåº•</li>
<li><strong>è‡ªåŠ¨åŒ–çš„ Layer ç®¡ç†</strong>ï¼šæ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾å’Œé…ç½® Node.js Layer ARN</li>
</ol>
<h4 data-id="heading-20">ä»€ä¹ˆæ—¶å€™ä»ç„¶éœ€è¦ website-fcï¼Ÿ</h4>
<p>å¦‚æœä½ çš„åœºæ™¯åŒ…å«ä»¥ä¸‹éœ€æ±‚ï¼Œå¯èƒ½ä»éœ€è¦åŸºäº Express çš„ <code>website-fc</code>ï¼š</p>
<ul>
<li>éœ€è¦åœ¨æœåŠ¡ç«¯å®ç° API æ¥å£æˆ–ä¸­é—´ä»¶é€»è¾‘</li>
<li>éœ€è¦æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰</li>
<li>éœ€è¦è‡ªå®šä¹‰è¯·æ±‚/å“åº”å¤„ç†ï¼ˆå¦‚æ·»åŠ è‡ªå®šä¹‰ Headerã€é‡å†™ URL ç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-21">é€‚ç”¨åœºæ™¯</h3>
<p><code>website-fc-serve</code> éå¸¸é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li><strong>å‰ç«¯æ¡†æ¶æ„å»ºäº§ç‰©</strong>ï¼šVueã€Reactã€Angularã€Svelte ç­‰ <code>npm run build</code> çš„è¾“å‡º</li>
<li><strong>é™æ€ç«™ç‚¹ç”Ÿæˆå™¨</strong>ï¼šVuePressã€Hexoã€Hugoã€Jekyllã€Gatsby ç­‰</li>
<li><strong>æ–‡æ¡£ç«™ç‚¹</strong>ï¼šDocusaurusã€MkDocs ç­‰</li>
<li><strong>ç®€å•çš„ HTML é¡µé¢</strong>ï¼šä¼ ç»Ÿçš„å¤šé¡µé¢é™æ€ç½‘ç«™</li>
<li><strong>åŸå‹å±•ç¤º</strong>ï¼šå¿«é€Ÿå°†è®¾è®¡ç¨¿æˆ– Demo éƒ¨ç½²ä¸Šçº¿</li>
</ul>
<h3 data-id="heading-22">å®Œæ•´é…ç½®ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¶µç›–æ‰€æœ‰å‚æ•°çš„å®Œæ•´é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">edition:</span> <span class="hljs-number">3.0</span><span class="hljs-number">.0</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">my-spa-website</span>
<span class="hljs-attr">access:</span> <span class="hljs-string">default</span>

<span class="hljs-attr">vars:</span>
  <span class="hljs-attr">region:</span> <span class="hljs-string">cn-hangzhou</span>
  <span class="hljs-attr">functionName:</span> <span class="hljs-string">my-vue-app</span>

<span class="hljs-attr">resources:</span>
  <span class="hljs-attr">website:</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">fc3</span>
    <span class="hljs-attr">actions:</span>
      <span class="hljs-attr">pre-deploy:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">plugin:</span> <span class="hljs-string">website-fc-serve</span>
          <span class="hljs-attr">args:</span>
            <span class="hljs-attr">index:</span> <span class="hljs-string">index.html</span> <span class="hljs-comment"># é¦–é¡µæ–‡ä»¶å</span>
            <span class="hljs-attr">fallbackToIndex:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># å¯ç”¨ SPA æ¨¡å¼</span>
            <span class="hljs-attr">runtime:</span> <span class="hljs-string">custom.debian11</span> <span class="hljs-comment"># è¿è¡Œæ—¶</span>
            <span class="hljs-attr">version:</span> <span class="hljs-string">latest</span> <span class="hljs-comment"># serve ç‰ˆæœ¬</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">region:</span> <span class="hljs-string">${vars.region}</span>
      <span class="hljs-attr">functionName:</span> <span class="hljs-string">${vars.functionName}</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">"Vue SPA on FC"</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-number">30</span>
      <span class="hljs-attr">memorySize:</span> <span class="hljs-number">512</span>
      <span class="hljs-attr">code:</span> <span class="hljs-string">./dist</span>
  <span class="hljs-attr">domain:</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">fc3-domain</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">region:</span> <span class="hljs-string">${vars.region}</span>
      <span class="hljs-attr">domainName:</span> <span class="hljs-string">auto</span>
      <span class="hljs-attr">protocol:</span> <span class="hljs-string">HTTP</span>
      <span class="hljs-attr">routeConfig:</span>
        <span class="hljs-attr">routes:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/*</span>
            <span class="hljs-attr">functionName:</span> <span class="hljs-string">${vars.functionName}</span>
</code></pre>
<h3 data-id="heading-23">æ€»ç»“</h3>
<p><code>website-fc-serve</code> ç§‰æŒã€Œç”¨æ­£ç¡®çš„å·¥å…·åšæ­£ç¡®çš„äº‹ã€çš„ç†å¿µï¼Œç”¨ <code>serve</code> æ›¿ä»£ <code>express</code> æ¥éƒ¨ç½²é™æ€èµ„æºã€‚å¯¹äºçº¯é™æ€ç½‘ç«™å’Œ SPA åº”ç”¨ï¼Œå®ƒæä¾›äº†æ›´è½»é‡ã€æ›´å¿«é€Ÿã€æ›´ç®€æ´çš„éƒ¨ç½²ä½“éªŒã€‚é›¶å¤–éƒ¨ä¾èµ–çš„è®¾è®¡ä¹Ÿè®©æ’ä»¶æœ¬èº«æ›´åŠ ç¨³å®šã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Serverless-Devs éƒ¨ç½²é™æ€ç½‘ç«™åˆ°é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼Œä¸å¦¨è¯•è¯• <code>website-fc-serve</code>ã€‚</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<ul>
<li>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdevsapp%2Fwebsite-fc-serve" target="_blank" title="https://github.com/devsapp/website-fc-serve" ref="nofollow noopener noreferrer">github.com/devsapp/webâ€¦</a></li>
<li>Serverless-Devsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FServerless-Devs%2FServerless-Devs" target="_blank" title="https://github.com/Serverless-Devs/Serverless-Devs" ref="nofollow noopener noreferrer">github.com/Serverless-â€¦</a></li>
<li>serveï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fserve" target="_blank" title="https://www.npmjs.com/package/serve" ref="nofollow noopener noreferrer">www.npmjs.com/package/serâ€¦</a></li>
<li>å¿«é€Ÿä½“éªŒï¼š<code>s init website-vuepress</code> æˆ– <code>s init website-vuepress-v3</code></li>
</ul>
<h2 data-id="heading-24">æ›´å¤šå†…å®¹</h2>
<ul>
<li><a href="https://juejin.cn/post/7490500767139381287" target="_blank" title="https://juejin.cn/post/7490500767139381287">å¦‚ä½•ç»•è¿‡ã€Šè½»å‹æ°‘ç”¨æ— äººé©¾é©¶èˆªç©ºå™¨å®‰å…¨æ“æ§ã€‹è§†é¢‘æ•™ç¨‹å¤±å»ç„¦ç‚¹åæš‚åœæ’­æ”¾çš„é™åˆ¶</a>(<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fm0_72811193%2Farticle%2Fdetails%2F139207046" target="_blank" title="https://blog.csdn.net/m0_72811193/article/details/139207046" ref="nofollow noopener noreferrer">blog.csdn.net/m0_72811193â€¦</a>)</li>
<li><a href="https://juejin.cn/post/7490407555425107987" target="_blank" title="https://juejin.cn/post/7490407555425107987">å¦‚ä½•åœ¨ Windows PowerShell ä¸­ä½¿ç”¨ which</a></li>
<li><a href="https://juejin.cn/post/7481236313405603855" target="_blank" title="https://juejin.cn/post/7481236313405603855">Nuxt Content 3 éƒ¨ç½²åˆ°é˜¿é‡Œäº‘ FC åæ— æ³•æ˜¾ç¤ºå†…å®¹</a></li>
<li><a href="https://juejin.cn/post/7475571211496177715" target="_blank" title="https://juejin.cn/post/7475571211496177715">[Aliyun] [FC] [CDN] å¦‚ä½•ä½¿ç”¨ refresh-cdn-cache æ’ä»¶åœ¨ç½‘ç«™éƒ¨ç½²åè‡ªåŠ¨åˆ·æ–° CDN ç¼“å­˜</a></li>
<li><a href="https://juejin.cn/post/7462908985709166601" target="_blank" title="https://juejin.cn/post/7462908985709166601">å¦‚ä½•æ‰¹é‡æ‰“å¼€æ”¯ä»˜å®å•†å®¶å¹³å°ä¸­çš„æ”¯ä»˜äº¤æ˜“æŠ•è¯‰å¤„ç†é¡µ</a></li>
<li><a href="https://juejin.cn/post/7458954918591954984" target="_blank" title="https://juejin.cn/post/7458954918591954984">å¦‚ä½•åœ¨ Flyway çš„ JavaMigration ä¸­ä½¿ç”¨ MyBatis çš„ Mapper</a></li>
<li><a href="https://juejin.cn/post/7413682516617445428" target="_blank" title="https://juejin.cn/post/7413682516617445428">Gradle å³å°†æ”¯æŒä¾èµ–æ–‡ä»¶åˆ†æ®µä¸‹è½½</a></li>
<li><a href="https://juejin.cn/post/7322518833817796618" target="_blank" title="https://juejin.cn/post/7322518833817796618">ç”µè„‘å¾®ä¿¡å¤šå¼€å°å·¥å…·æ­£å¼å‘å¸ƒ</a></li>
<li><a href="https://juejin.cn/post/7277799790296596514" target="_blank" title="https://juejin.cn/post/7277799790296596514">Strapi v4 ä½¿ç”¨ä½“éªŒ: åˆ°å¤„æ˜¯å‘ | è¸©å‘è®°å½•</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android EventHubçš„EpollåŸç† ç¬”è®°]]></title>    <link>https://juejin.cn/post/7605859660612648994</link>    <guid>https://juejin.cn/post/7605859660612648994</guid>    <pubDate>2026-02-13T08:14:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605859660612648994" data-draft-id="7605859660612632610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android EventHubçš„EpollåŸç† ç¬”è®°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-13T08:14:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android EventHubçš„EpollåŸç† ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:14:47.000Z" title="Fri Feb 13 2026 08:14:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>EventHubå¯¹epollçš„åº”ç”¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ç”¨â€œç»Ÿä¸€ç­‰å¾…é˜Ÿåˆ—â€æ›¿æ¢äº†â€œé›¶æ•£å¿™ç­‰â€</strong>ã€‚å®ƒçš„ç²¾å¦™ä¸åœ¨äºå‘æ˜æ–°ç”¨æ³•ï¼Œè€Œåœ¨äºå°†<strong>ä¸‰ç±»æ€§è´¨å®Œå…¨ä¸åŒçš„FDï¼ˆè®¾å¤‡èŠ‚ç‚¹ã€æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ã€å”¤é†’ç®¡é“ï¼‰çº³å…¥åŒä¸€ä¸ªepollå®ä¾‹</strong>ï¼Œç”¨ä¸€å¥—æœºåˆ¶è§£å†³æ‰€æœ‰â€œç­‰ä»€ä¹ˆã€ä»€ä¹ˆæ—¶å€™ç­‰ã€è¢«è°å”¤é†’â€çš„é—®é¢˜ã€‚</p>
<p>ç›´æ¥çœ‹æºç éª¨æ¶å’Œè¿è¡Œæ—¶æµï¼Œæ¯”çº¯æ–‡å­—æè¿°æ›´æ¸…æ™°ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ”§ ä¸€ã€æ ¸å¿ƒæ•°æ®ç»“æ„ä¸åˆå§‹åŒ–ï¼ˆé™åŠ›å­¦ç»“æ„ï¼‰</h2>
<p>EventHubæ„é€ å‡½æ•°ä¸­å…³äºepollçš„éƒ¨åˆ†å¯æ‹†è§£ä¸º<strong>1ä¸ªå®ä¾‹ + 3ä¸ªç›‘å¬æº</strong> ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// frameworks/native/services/inputflinger/reader/EventHub.cpp</span>
EventHub::<span class="hljs-built_in">EventHub</span>(<span class="hljs-type">void</span>) {
    <span class="hljs-comment">// 1. åˆ›å»ºå”¯ä¸€çš„epollå®ä¾‹ï¼ˆå†…æ ¸ä¸­å¯¹åº”ä¸€ä¸ªçº¢é»‘æ ‘+å°±ç»ªé“¾è¡¨ï¼‰</span>
    mEpollFd = <span class="hljs-built_in">epoll_create</span>(EPOLL_SIZE_HINT);  <span class="hljs-comment">// å‚æ•°å†…æ ¸2.6.8åå¿½ç•¥ï¼Œ&gt;0å³å¯</span>

    <span class="hljs-comment">// 2. åˆ›å»ºinotifyå®ä¾‹ï¼Œç›‘å¬/dev/inputç›®å½•å¢åˆ </span>
    mINotifyFd = <span class="hljs-built_in">inotify_init</span>();
    <span class="hljs-built_in">inotify_add_watch</span>(mINotifyFd, DEVICE_PATH, IN_DELETE | IN_CREATE);
    
    <span class="hljs-comment">// 3. **å…³é”®åŠ¨ä½œ**ï¼šå°†inotify fdåŠ å…¥epoll</span>
    <span class="hljs-built_in">epoll_ctl</span>(mEpollFd, EPOLL_CTL_ADD, mINotifyFd, {EPOLLIN, EPOLL_ID_INOTIFY});

    <span class="hljs-comment">// 4. åˆ›å»ºå”¤é†’ç®¡é“ï¼ˆpipeï¼‰ï¼Œæœ¬è´¨æ˜¯å†…æ ¸ç¼“å†²é˜Ÿåˆ—</span>
    <span class="hljs-built_in">pipe</span>(wakeFds);  <span class="hljs-comment">// mWakeReadPipeFd / mWakeWritePipeFd</span>
    
    <span class="hljs-comment">// 5. **å…³é”®åŠ¨ä½œ**ï¼šå°†ç®¡é“è¯»ç«¯åŠ å…¥epoll</span>
    <span class="hljs-built_in">epoll_ctl</span>(mEpollFd, EPOLL_CTL_ADD, mWakeReadPipeFd, {EPOLLIN, EPOLL_ID_WAKE});

    <span class="hljs-comment">// 6. è®¾å¤‡fdçš„åŠ å…¥ä¸åœ¨è¿™é‡Œï¼Œç”±openDeviceLocked()åœ¨æ‰«æ/çƒ­æ’æ‹”æ—¶æ‰§è¡Œ</span>
}
</code></pre>
<p><strong>å…³é”®ç†è§£</strong>ï¼š</p>
<ul>
<li><code>EPOLL_ID_INOTIFY</code> å’Œ <code>EPOLL_ID_WAKE</code> ä¸æ˜¯FDï¼Œæ˜¯å­˜å‚¨åœ¨<code>epoll_event.data.u32</code>çš„<strong>è‡ªå®šä¹‰æ ‡ç­¾</strong>ã€‚epollè¿”å›æ—¶ï¼Œé€šè¿‡è¿™ä¸ªæ ‡ç­¾ç«‹åˆ»çŸ¥é“æ˜¯è°é†’äº†ï¼Œ<strong>ä¸éœ€è¦éå†</strong> ã€‚</li>
<li>è®¾å¤‡FDå¯¹åº”çš„<code>data.fd</code>å­˜çš„æ˜¯è®¾å¤‡FDæœ¬èº«ï¼Œé€šè¿‡<code>getDeviceByFdLocked()</code>åæŸ¥è®¾å¤‡ä¸Šä¸‹æ–‡ ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">âš™ï¸ äºŒã€è¿è¡Œæ—¶æ ¸å¿ƒï¼šgetEvents()ä¸­çš„epollç­‰å¾…ï¼ˆåŠ¨åŠ›å­¦ï¼‰</h2>
<p><code>getEvents()</code>æ˜¯InputReaderçº¿ç¨‹çš„ä¸»å¾ªç¯ä½“ï¼Œepoll_waitæ˜¯å®ƒçš„<strong>å¿ƒè„æåŠ¨ç‚¹</strong> ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">EventHub::getEvents</span><span class="hljs-params">(<span class="hljs-type">int</span> timeoutMillis, RawEvent* buffer, <span class="hljs-type">size_t</span> bufferSize)</span> </span>{
    <span class="hljs-keyword">for</span> (;;) {
        <span class="hljs-comment">// ... å‰ç½®å¤„ç†ï¼ˆè®¾å¤‡ç§»é™¤/æ·»åŠ äº‹ä»¶å…ˆè¿”å›ï¼‰...</span>
        
        <span class="hljs-comment">// â˜…â˜…â˜… æ ¸å¿ƒé˜»å¡ç‚¹ â˜…â˜…â˜…</span>
        <span class="hljs-type">int</span> pollResult = <span class="hljs-built_in">epoll_wait</span>(mEpollFd, mPendingEventItems, EPOLL_MAX_EVENTS, timeoutMillis);
        mPendingEventCount = <span class="hljs-built_in">size_t</span>(pollResult);
        mPendingEventIndex = <span class="hljs-number">0</span>;  <span class="hljs-comment">// ä»å¤´å¤„ç†è¿™æ‰¹äº‹ä»¶</span>

        <span class="hljs-comment">// å¤„ç†æœ¬è½®epollè¿”å›çš„æ‰€æœ‰å°±ç»ªFD</span>
        <span class="hljs-keyword">while</span> (mPendingEventIndex &lt; mPendingEventCount) {
            <span class="hljs-type">const</span> epoll_event&amp; eventItem = mPendingEventItems[mPendingEventIndex++];
            <span class="hljs-type">uint32_t</span> epollId = eventItem.data.u32;  <span class="hljs-comment">// æˆ– data.fd</span>

            <span class="hljs-keyword">if</span> (epollId == EPOLL_ID_INOTIFY) {
                <span class="hljs-comment">// è®¾å¤‡å¢åˆ  â†’ è°ƒreadNotifyLocked()ï¼Œæœ€ç»ˆopen/closeè®¾å¤‡</span>
                mPendingINotify = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (epollId == EPOLL_ID_WAKE) {
                <span class="hljs-comment">// ä¸»åŠ¨å”¤é†’ï¼ˆå¦‚IMSé‡é…ç½®ï¼‰ï¼Œè¯»ç©ºç®¡é“å³å¯</span>
                awoken = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// â˜… æ™®é€šè¾“å…¥è®¾å¤‡æœ‰æ•°æ®ï¼</span>
                <span class="hljs-type">int</span> fd = eventItem.data.fd;
                <span class="hljs-keyword">if</span> (eventItem.events &amp; EPOLLIN) {
                    <span class="hljs-comment">// ä»è®¾å¤‡èŠ‚ç‚¹readåŸå§‹input_event</span>
                    <span class="hljs-built_in">read</span>(fd, readBuffer, <span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> input_event) * capacity);
                    <span class="hljs-comment">// è½¬æ¢æˆRawEventï¼Œå¡«å……åˆ°bufferè¿”å›ä¸Šå±‚</span>
                }
                <span class="hljs-keyword">if</span> (eventItem.events &amp; EPOLLHUP) {
                    <span class="hljs-comment">// è®¾å¤‡æŒ‚è½½ç‚¹æ¶ˆå¤±ï¼Œæ ‡è®°å…³é—­</span>
                }
            }
        }
        
        <span class="hljs-comment">// å¦‚æœbufferå·²æ»¡æˆ–æœ‰é‡è¦äº‹ä»¶ï¼Œreturnåˆ°InputReader</span>
        <span class="hljs-keyword">if</span> (event - buffer &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> event - buffer;
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>ä¸€æ¬¡ç­‰å¾…ï¼Œå¤šä¸ªæ¥æº</strong>ï¼šä¸è®ºæ˜¯æœ‰æ–°çš„è§¦æ‘¸æŠ¥ç‚¹ã€æœ‰äººæ’æ‹”USBé”®ç›˜ã€è¿˜æ˜¯SystemServerè¦æ±‚é‡æ–°æ‰«æï¼Œéƒ½åœ¨åŒä¸€ä¸ª<code>epoll_wait</code>ä¸Šé†’æ¥ã€‚<strong>é¿å…äº†select/pollçš„FDé›†åˆå…¨é‡ä¼ é€’</strong>ï¼Œæ—¶é—´å¤æ‚åº¦ä»O(n)é™åˆ°è¿‘ä¼¼O(1)ï¼ˆä»…è¿”å›å°±ç»ªçš„å°‘é‡FDï¼‰ã€‚</li>
<li><strong>è¾¹ç¼˜è§¦å‘ï¼ˆéšå«ï¼‰</strong>ï¼šè™½ç„¶EventHubè®¾ç½®ä¸º<code>EPOLLIN</code>ï¼ˆç”µå¹³è§¦å‘ï¼‰ï¼Œä½†<code>read()</code>è®¾å¤‡èŠ‚ç‚¹æ—¶ä¸€èˆ¬è¯»å®Œæ‰€æœ‰æ•°æ®ï¼Œç¬¦åˆè¾¹ç¼˜è§¦å‘çš„å¤„ç†ä¹ æƒ¯â€”â€”<strong>ä¸è¯»å®Œå°±ä¸€ç›´è§¦å‘</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">ğŸ”Œ ä¸‰ã€è®¾å¤‡æ’æ‹”ï¼šinotifyâ†’epollçš„å›å£°é“¾è·¯</h2>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>åŒæ ˆç›‘å¬</strong>çš„ç²¾å·§è®¾è®¡ ï¼š</p>
<ol>
<li><strong>ç¬¬ä¸€å±‚ï¼ˆinotifyï¼‰</strong>ï¼š<code>/dev/input</code>ç›®å½•è¢«watchï¼Œå½“æœ‰æ–°<code>eventX</code>èŠ‚ç‚¹åˆ›å»ºæˆ–åˆ é™¤ï¼Œå†…æ ¸å‘<code>mINotifyFd</code>å†™å…¥<code>inotify_event</code>ç»“æ„ä½“ã€‚</li>
<li><strong>ç¬¬äºŒå±‚ï¼ˆepollï¼‰</strong>ï¼š<code>mINotifyFd</code>è¢«epollç›‘å¬ï¼Œå½“å®ƒå¯è¯»æ—¶ï¼Œepoll_waitè¿”å›ã€‚</li>
<li>EventHubè¯»åˆ°<code>IN_CREATE</code>åï¼Œè°ƒç”¨<code>openDeviceLocked()</code>ï¼š
<ul>
<li><code>open()</code>è®¾å¤‡èŠ‚ç‚¹è·å–FD</li>
<li><strong>å†æ¬¡è°ƒç”¨<code>epoll_ctl(EPOLL_CTL_ADD)</code>å°†æ­¤è®¾å¤‡FDåŠ å…¥epoll</strong></li>
<li>è‡³æ­¤ï¼Œæ–°è®¾å¤‡ä¹Ÿè¿›å…¥äº†â€œç»Ÿä¸€ç­‰å¾…æ± â€</li>
</ul>
</li>
</ol>
<p><strong>ç­‰æ•ˆå›¾</strong>ï¼š</p>
<pre><code class="hljs">ç‰©ç†æ’å…¥ â†’ å†…æ ¸åˆ›å»ºè®¾å¤‡èŠ‚ç‚¹ â†’ inotifyä¸ŠæŠ¥ â†’ epollå‘ç°inotifyå¯è¯» â†’ EventHubæ‰“å¼€è®¾å¤‡ â†’ è®¾å¤‡FDåŠ å…¥epoll â†’ ä¸‹æ¬¡è§¦æ‘¸äº‹ä»¶ç›´æ¥é€šè¿‡è®¾å¤‡FDå”¤é†’epoll
</code></pre>
<p><strong>æ•´ä¸ªè¿‡ç¨‹æ— éœ€è½®è¯¢ï¼Œå®Œå…¨äº‹ä»¶é©±åŠ¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸš° å››ã€å”¤é†’ç®¡é“ï¼ˆwake pipeï¼‰ï¼šepollçš„è‡ªä¸­æ–­æœºåˆ¶</h2>
<p>epoll_waitæ˜¯é˜»å¡çš„ï¼Œä½†æŸäº›åœºæ™¯éœ€è¦<strong>ä¸»åŠ¨æ‰“æ–­ç­‰å¾…</strong>ï¼ˆä¾‹å¦‚IMSéœ€è¦ç«‹å³é‡æ–°æ‰«æè®¾å¤‡ï¼‰ã€‚EventHubæ²¡æœ‰ä½¿ç”¨<code>pthread_cond_signal</code>ä¹‹ç±»çš„è·¨çº¿ç¨‹ä¿¡å·ï¼Œè€Œæ˜¯ç”¨<strong>ç®¡é“å†™æ“ä½œæ¨¡æ‹ŸFDå°±ç»ª</strong> ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">EventHub::wake</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// ä»…ä»…æ˜¯å‘ç®¡é“å†™å…¥ä¸€ä¸ªå­—èŠ‚</span>
    <span class="hljs-built_in">write</span>(mWakeWritePipeFd, <span class="hljs-string">"W"</span>, <span class="hljs-number">1</span>);
}
</code></pre>
<p>ç”±äºç®¡é“è¯»ç«¯åœ¨epollä¸­ç›‘å¬äº†<code>EPOLLIN</code>ï¼Œå†™å…¥æ“ä½œ<strong>ç«‹å³è§¦å‘epoll_waitè¿”å›</strong>ï¼Œä¸”è¿”å›çš„äº‹ä»¶IDä¸º<code>EPOLL_ID_WAKE</code>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆä¸ç”¨signalï¼Ÿ</strong><br/>
ç®¡é“æ˜¯FDï¼Œå¤©ç„¶èå…¥epollæ¨¡å‹ï¼Œ<strong>ä¸å¹²æ‰°å…¶ä»–ç­‰å¾…çš„FDï¼Œä¸”çº¿ç¨‹å®‰å…¨</strong>ã€‚è¿™æ˜¯Linuxä¸‹**è‡ªå”¤é†’ï¼ˆself-pipe trickï¼‰**çš„ç»å…¸å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-4">ğŸ“Š äº”ã€ä¸åŸå§‹poll/selectçš„æ€§èƒ½å¯¹æ¯”</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th>epoll (EventHubå®ç°)</th><th>poll/select</th></tr></thead><tbody><tr><td><strong>ç›‘å¬FDæ•°é‡</strong></td><td>æ— ä¸Šé™ï¼ˆå–å†³äºç³»ç»Ÿï¼‰</td><td>FD_SETSIZEï¼ˆ1024ï¼‰æˆ–çº¿æ€§æ‰«æ</td></tr><tr><td><strong>å°±ç»ªFDè·å–</strong></td><td>ä»…è¿”å›å°±ç»ªåˆ—è¡¨ï¼ŒO(K)</td><td>å…¨é‡ä¼ å…¥ä¼ å‡ºï¼ŒO(N)</td></tr><tr><td><strong>æ¯æ¬¡è°ƒç”¨æ‹·è´</strong></td><td>ä»…é¦–æ¬¡epoll_ctlæ³¨å†Œ</td><td>æ¯æ¬¡è°ƒç”¨éƒ½è¦æ‹·è´å…¨éƒ¨FDé›†åˆ</td></tr><tr><td><strong>å†…æ ¸æ—¶é—´å¤æ‚åº¦</strong></td><td>O(1)ï¼ˆå›è°ƒæœºåˆ¶ï¼‰</td><td>O(N)ï¼ˆçº¿æ€§éå†ï¼‰</td></tr><tr><td><strong>EventHubç‰¹æ®Šç‚¹</strong></td><td>æ··åˆç›‘å¬è®¾å¤‡ã€inotifyã€ç®¡é“</td><td>æ— æ³•æ··åˆï¼Œéœ€å¤šä¸ªå¾ªç¯</td></tr></tbody></table>
<p><strong>æ•°æ®ä½è¯</strong>ï¼š</p>
<ul>
<li>è§¦æ§å±é‡‡æ ·ç‡å¯è¾¾240Hzï¼Œæ¯ä¸ªäº‹ä»¶éƒ½éœ€è¦ä»å†…æ ¸â†’EventHubã€‚epollçš„å›è°ƒæœºåˆ¶ï¼ˆå†…æ ¸å°±ç»ªæ—¶ç›´æ¥æ”¾å…¥é“¾è¡¨ï¼‰æ¯”pollæ¯æ¬¡é‡æ–°çº¿æ€§æ‰«æ<strong>èŠ‚çœå¤§é‡CPU</strong> ã€‚</li>
<li>Android 4.4ä¹‹å‰ä½¿ç”¨pollï¼Œä¹‹åå…¨é¢åˆ‡æ¢ä¸ºepoll + wake pipeï¼Œå°±æ˜¯ä¸ºäº†è§£å†³é«˜é‡‡æ ·ç‡ä¸‹çš„æ€§èƒ½ç“¶é¢ˆ ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">ğŸ§  å…­ã€æ€»ç»“ä¸€å¥è¯</h2>
<p><strong>EventHubçš„epollæœ¬è´¨æ˜¯ï¼šå°†æ‰€æœ‰å¯ç­‰å¾…èµ„æºï¼ˆè®¾å¤‡ã€ç›®å½•ã€æ§åˆ¶ä¿¡å·ï¼‰ç»Ÿä¸€æŠ½è±¡ä¸ºâ€œæ–‡ä»¶æè¿°ç¬¦â€ï¼Œè®©å†…æ ¸å……å½“ä»²è£è€…â€”â€”è°å°±ç»ªï¼Œè°ä¸ŠæŠ¥ï¼Œç»ä¸ç©ºè½¬ã€‚</strong></p>
<p>è¿™ç§è®¾è®¡ä½¿å¾—InputReaderçº¿ç¨‹å¯ä»¥<strong>åœ¨æ²¡æœ‰ä»»ä½•è¾“å…¥äº‹ä»¶æ—¶å®Œå…¨ä¼‘çœ ï¼Œä¸å CPUï¼›äº‹ä»¶çˆ†å‘æ—¶ç¬é—´å”¤é†’ï¼Œé€ä¸ªæ¶ˆåŒ–</strong>ï¼Œæ˜¯Androidè§¦æ‘¸â€œè·Ÿæ‰‹æ€§â€çš„åº•å±‚åŸºçŸ³ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬å…­ç¯‡]]></title>    <link>https://juejin.cn/post/7605810996125974562</link>    <guid>https://juejin.cn/post/7605810996125974562</guid>    <pubDate>2026-02-13T08:31:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605810996125974562" data-draft-id="7605816833191788544" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬å…­ç¯‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T08:31:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³ç”¨offeræ‰“ç‰Œ"/> <meta itemprop="url" content="https://juejin.cn/user/578781641968972"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬å…­ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578781641968972/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³ç”¨offeræ‰“ç‰Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:31:20.000Z" title="Fri Feb 13 2026 08:31:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è§£æäº†ä¸€ä¸ªå…³äºå¤©æ°”å®æ—¶é¢„æŠ¥çš„MCP serverï¼Œç›¸ä¿¡å¤§å®¶å¯¹è¿™ä¸€å—åº”è¯¥æœ‰ä¸é”™çš„ä½“æ„Ÿäº†ã€‚é‚£ä¹ˆæˆ‘ä»¬è¿™ä¸€ç¯‡å°±ä¼šæ¥è®²è§£ä¸€ä¸‹MCP å®¢æˆ·ç«¯çš„ä¸€äº›é—®é¢˜å’Œé…ç½®ï¼Œå¦‚æœç¯‡å¹…åˆé€‚çš„è¯è¿˜ä¼šè®²MCPçš„ä¸€äº›é«˜çº§ç‰¹æ€§</p>
<p>å¦‚æœä½ å¯¹å‰é¢çš„å†…å®¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œè·³è½¬</p>
<p><a href="https://juejin.cn/post/7604037348607082534" target="_blank" title="https://juejin.cn/post/7604037348607082534">MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬ä¸€ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7603721514204495881" target="_blank" title="https://juejin.cn/post/7603721514204495881">MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬äºŒç¯‡</a></p>
<p><a href="https://juejin.cn/post/7605042079668518927" target="_blank" title="https://juejin.cn/post/7605042079668518927">MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬ä¸‰ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7605145921617723444" target="_blank" title="https://juejin.cn/post/7605145921617723444">MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬å››ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7605772919223681058" target="_blank" title="https://juejin.cn/post/7605772919223681058">MCP (Model Context Protocol) æŠ€æœ¯ç†è§£ - ç¬¬äº”ç¯‡</a></p>
<h2 data-id="heading-1">å¦‚ä½•è°ƒç”¨MCP server</h2>
<p>å¾ˆå¤šäººå¯èƒ½æœ‰è¿™ä¸ªè¯¯åŒºï¼Œåº”è¯¥æ˜¯LLMç›´æ¥å‘å‡ºæŒ‡ä»¤æ¥è°ƒç”¨å¯¹åº”çš„MCP serverçš„å§ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸ªæƒ³æ³•æ˜¯é”™è¯¯çš„ï¼Œæ ¹æœ¬åŸå› åœ¨äº<strong>LLMæ²¡æœ‰å¤–è°ƒçš„èƒ½åŠ›</strong>ï¼Œå³ä¸èƒ½ç›´æ¥è°ƒç”¨æ¥å£ã€‚</p>
<p>é‚£ä¹ˆä¸€èˆ¬è°ƒç”¨MCP serverä¼šæœ‰ä¸¤ç§æƒ…å†µï¼Œä½†æ˜¯æ— è®ºæ˜¯ä»€ä¹ˆæƒ…å†µï¼Œ<strong>æˆ‘ä»¬éƒ½æ˜¯AIåº”ç”¨é€šè¿‡MCP clientæ¥è°ƒç”¨MCP serverï¼ŒLLMåªè´Ÿè´£æ¨ç†è¾“å…¥å’Œè¾“å‡º</strong>ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è®²è®²è¿™ä¸¤ç§æƒ…å†µï¼Œç„¶åæˆ‘ä»¬å†ä»”ç»†åœ°è®²è®²MCP clienté…ç½®ã€‚</p>
<ul>
<li>
<p><strong>å®‰å…¨éš”ç¦»</strong>: è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ Client å±‚å‰åšæ‹¦æˆªã€‚å¦‚æœ LLM å‘ç–¯äº†ï¼Œæƒ³æ‰§è¡Œ <code>rm -rf /</code>ï¼Œä½ çš„ Java/Go ä»£ç å¯ä»¥åœ¨å‘é€ç»™ Server ä¹‹å‰æ£€æµ‹å¹¶æ‹¦æˆªè¿™ä¸ªè¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>åè®®è½¬æ¢</strong>: LLM è¾“å‡ºçš„æ˜¯æ–‡æœ¬/Tokenï¼ŒMCP Server éœ€è¦çš„æ˜¯ JSON-RPC æ¶ˆæ¯ã€‚ä½ çš„ Client å°±æ˜¯è¿™ä¸ª <strong>Adapter (é€‚é…å™¨)</strong> ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">åœºæ™¯ä¸€ï¼šä½œä¸ºç”¨æˆ·åœ¨ç°æœ‰hostä¸­è°ƒç”¨</h3>
<p>å¦‚æœä½ åªæ˜¯æƒ³è®© Claude code æˆ– Cursor ç­‰AIåº”ç”¨è°ƒç”¨ä¸€ä¸ªç°æœ‰çš„ MCP Serveræˆ–è€…ä½ è‡ªå·±ç¼–å†™çš„MCP serverï¼Œä½ ä¸éœ€è¦å†™MCP clientä»£ç ï¼Œåªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µï¼Œhostå°±æ˜¯AIåº”ç”¨ï¼Œå·²ç»å†…ç½®å†™å¥½çš„MCP clientä»£ç äº†ï¼Œä½ é…ç½®å¥½MCP serverå³å¯è°ƒç”¨ï¼Œä¼šè‡ªåŠ¨ç»´æŠ¤è¿æ¥ã€‚</p>
<h3 data-id="heading-3">åœºæ™¯äºŒï¼šä½œä¸ºå¼€å‘è€…é€šè¿‡ä»£ç è°ƒç”¨</h3>
<p>å¦‚æœä½ æƒ³åœ¨è‡ªå·±çš„ Java æˆ– Go ç¨‹åºä¸­è°ƒç”¨ä¸€ä¸ª MCP Serverï¼ˆä¾‹å¦‚ï¼Œæ„å»ºä¸€ä¸ªèƒ½è°ƒç”¨æœ¬åœ°å·¥å…·çš„ AI Agentï¼‰ï¼Œä½ éœ€è¦å®ç°ä¸€ä¸ª MCP Clientã€‚</p>
<p><strong>æ ¸å¿ƒäº¤äº’æµç¨‹ (ä»¥ Stdio ä¸ºä¾‹)</strong></p>
<ol>
<li><strong>å¯åŠ¨è¿›ç¨‹</strong>: ä½ çš„ç¨‹åºï¼ˆClientï¼‰å¯åŠ¨ MCP Serverï¼ˆå¦‚ <code>npx -y @modelcontextprotocol/server-filesystem</code>ï¼‰ä½œä¸ºå­è¿›ç¨‹ã€‚</li>
<li><strong>æ¡æ‰‹ (Initialization)</strong> : å‘é€ <code>initialize</code> è¯·æ±‚ï¼Œåå•†åè®®ç‰ˆæœ¬å’Œèƒ½åŠ›ã€‚</li>
<li><strong>å‘é€æŒ‡ä»¤</strong>: å‘é€ <code>tools/list</code>, <code>tools/call</code>, <code>resources/read</code> ç­‰ JSON-RPC æ¶ˆæ¯</li>
</ol>
<p>æ‰€ä»¥åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œä½ éœ€è¦è‡ªå·±ç¼–å†™MCP clientè¿›è¡Œåˆå§‹åŒ–é“¾æ¥ï¼Œç»´æŠ¤ç›¸å…³åè®®å’Œè¿æ¥ï¼Œå‘é€æ¶ˆæ¯å’Œå¤„ç†å“åº”ç­‰ç­‰ã€‚</p>
<h3 data-id="heading-4">ä¸€æ¬¡MCPè°ƒç”¨ç¤ºä¾‹</h3>
<p>é‚£ä¹ˆå¤§å®¶åœ¨çœ‹å®Œä¸Šé¢çš„ç¤ºä¾‹å¯èƒ½è¿˜æœ‰ç–‘æƒ‘ï¼Œé‚£ä¹ˆLLMåˆ°åº•æ˜¯å¹²å˜›çš„ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†ï¼Œ<strong>AIåº”ç”¨é€šè¿‡MCP clientæ¥è°ƒç”¨MCP serverï¼ŒLLMåªè´Ÿè´£æ¨ç†è¾“å…¥å’Œè¾“å‡º</strong>ï¼Œä¸‹é¢æˆ‘æ¥ç»™å¤§å®¶è§£æä¸€éå®Œæ•´çš„è°ƒç”¨é“¾ï¼Œå¤§å®¶ä¸€çœ‹ä¾¿çŸ¥ï¼</p>
<p>æˆ‘ä»¬å…ˆå¼ºè°ƒ<strong>å„ä¸ªè§’è‰²</strong>å§ï¼š</p>
<p><strong>AIåº”ç”¨</strong>ï¼šè´Ÿè´£ç®¡æ§å…¨å±€ï¼Œåè°ƒå„ä¸ªè¯·æ±‚å’Œè´Ÿè½½å‡è¡¡</p>
<p><strong>MCP client</strong>ï¼šè´Ÿè´£è¿æ¥ Serverï¼Œç®¡ç†è¿›ç¨‹ï¼Œç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡</p>
<p><strong>MCP server</strong>ï¼šå®ƒæ˜¯æ— çŠ¶æ€çš„ Workerã€‚å®ƒä¸çŸ¥é“ä¸Šä¸‹æ–‡ï¼Œä¸çŸ¥é“æ˜¯è°åœ¨é—®ï¼Œåªè´Ÿè´£æ¥æ”¶æŒ‡ä»¤ -&gt; å¹²æ´» -&gt; è¿”å›ç»“æœ</p>
<p><strong>LLM</strong>ï¼šå®ƒæ²¡æœ‰æ‰‹è„šï¼ˆä¸èƒ½è”ç½‘ã€ä¸èƒ½è¯»æ–‡ä»¶ï¼‰ã€‚å®ƒè´Ÿè´£åˆ†æç”¨æˆ·çš„è‡ªç„¶è¯­è¨€ï¼Œå¯¹æ¯” AIåº”ç”¨ ç»™å®ƒçš„â€œTools listâ€ï¼Œç„¶å<strong>ç”Ÿæˆä¸€ä¸ªç»“æ„åŒ–çš„ JSON æ–‡æœ¬</strong>ï¼Œå‘Šè¯‰ AIåº”ç”¨ï¼šâ€œè¯·å¸®æˆ‘è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå‚æ•°æ˜¯ X å’Œ Yâ€</p>
<p>ä»¥ä¸‹æ˜¯ä¸€æ¬¡å®Œæ•´çš„äº¤äº’æµç¨‹ï¼š</p>
<ul>
<li>
<p><strong>åˆå§‹åŒ– (Handshake)</strong> :</p>
<ul>
<li><strong>Client</strong> å¯åŠ¨ <strong>Server</strong>ã€‚</li>
<li><strong>Client</strong> è¯¢é—® <strong>Server</strong>: "ä½ æœ‰ä»€ä¹ˆæœ¬äº‹ï¼Ÿ(Tools List)"</li>
<li><strong>Server</strong> å›ç­”: "æˆ‘ä¼šè¯»æ–‡ä»¶ (<code>fs.read</code>)ï¼Œæˆ‘ä¼šæŸ¥æ•°æ®åº“ (<code>db.query</code>)ã€‚"</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·æé—®</strong>:</p>
<ul>
<li>ç”¨æˆ·å¯¹ <strong>Client</strong> è¯´: "å¸®æˆ‘æŸ¥ä¸€ä¸‹ <code>user_id=101</code> çš„è®¢å•ã€‚"</li>
</ul>
</li>
<li>
<p><strong>Prompt ç»„è£… (AIåº”ç”¨ å†…éƒ¨é€»è¾‘)</strong> :</p>
<ul>
<li><strong>AIåº”ç”¨</strong> å°†ç”¨æˆ·çš„ System Prompt + <strong>Server æä¾›çš„å·¥å…·å®šä¹‰ (Schema)</strong> + ç”¨æˆ·é—®é¢˜ï¼Œæ‰“åŒ…å‘ç»™ <strong>LLM</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>LLM å†³ç­–</strong>:</p>
<ul>
<li>
<p><strong>LLM</strong> ç»è¿‡æ¨ç†ï¼Œå‘ç° <code>db.query</code> å·¥å…·èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>LLM</strong> è¿”å›ç»™ <strong>AIåº”ç”¨</strong> (è€Œä¸æ˜¯ç›´æ¥ç»™ Server):</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-punctuation">{</span> 
  <span class="hljs-attr">"tool_use"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"db.query"</span><span class="hljs-punctuation">,</span> 
  <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
        <span class="hljs-attr">"sql"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"SELECT * FROM orders WHERE user_id=101"</span> 
            <span class="hljs-punctuation">}</span> 
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œ (çœŸæ­£çš„ MCP è°ƒç”¨å‘ç”Ÿåœ¨è¿™é‡Œ)</strong> :</p>
<ul>
<li><strong>AIåº”ç”¨</strong> è§£æ LLM çš„å“åº”ï¼Œå‘ç°å®ƒæƒ³è°ƒç”¨å·¥å…·ï¼Œæ§åˆ¶MCP clientå‘é€ç›¸å…³è¯·æ±‚å’Œæ•°æ®ã€‚</li>
<li><strong>Client</strong> é€šè¿‡ JSON-RPC (Stdio/SSE) å‘ <strong>MCP Server</strong> å‘é€ <code>tools/call</code> è¯·æ±‚ã€‚</li>
</ul>
</li>
<li>
<p><strong>Server å“åº”</strong>:</p>
<ul>
<li><strong>Server</strong> æ‰§è¡Œ SQLï¼Œè¿”å› JSON æ•°æ®ç»™ <strong>Client</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>å›ç¯ (Loop Back)</strong> :</p>
<ul>
<li><strong>AIåº”ç”¨</strong> æ¥æ”¶åˆ°clientè¿”å›çš„æ•°æ®ï¼Œå°† Server çš„æ‰§è¡Œç»“æœå†æ¬¡å–‚ç»™ <strong>LLM</strong>ã€‚</li>
<li><strong>AIåº”ç”¨</strong> è¯´: "åˆšæ‰ä½ è®©æˆ‘è°ƒç”¨çš„å·¥å…·ï¼Œç»“æœæ˜¯ <code>[Order A, Order B]</code>ï¼Œè¯·ç”Ÿæˆç»™ç”¨æˆ·çš„æœ€ç»ˆå›å¤ã€‚"</li>
</ul>
</li>
<li>
<p><strong>æœ€ç»ˆè¾“å‡º</strong>:</p>
<ul>
<li><strong>LLM</strong> ç”Ÿæˆè‡ªç„¶è¯­è¨€: "ç”¨æˆ·ä½ å¥½ï¼ŒID ä¸º 101 çš„ç”¨æˆ·æœ‰ä¸¤ç¬”è®¢å•..."</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">åœ¨AIåº”ç”¨é‡Œé¢é…ç½®MCP server</h2>
<p>okï¼Œæˆ‘ç›¸ä¿¡é€šè¿‡ä¸Šé¢çš„è§£æï¼Œå¤§å®¶å·²ç»å¯¹æ•´ä¸ªè°ƒç”¨è¿‡ç¨‹æ˜¯éå¸¸æ¸…æ™°çš„äº†ï¼Œæ¥ä¸‹æ¥æˆ‘å†æŒ‰åœºæ™¯é€æ¸è§£æMCP clientçš„é—®é¢˜ã€‚</p>
<p>åœ¨ä¸Šé¢çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ†æäº†åœ¨Claude codeé‡Œé¢ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡ŒMCP serverçš„é…ç½®å³å¯ï¼Œè€Œä¸éœ€è¦ç¼–å†™MCP clientçš„ç›¸å…³ä»£ç ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥Claude codeä¸ºä¾‹å­ï¼Œè®²è®²å¦‚ä½•é…ç½®MCP serverã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨<code>claude_desktop_config.json</code>çš„æ–‡ä»¶ä¸­è¿›è¡Œserverçš„é…ç½®</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// ~/Library/Application Support/Claude/claude_desktop_config.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"weather"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uv"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"--directory"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/absolute/path/to/weather"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"run"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"weather-server"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"filesystem"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"@modelcontextprotocol/server-filesystem"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/Users/username/Documents"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"github"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-github"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"GITHUB_PERSONAL_ACCESS_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ghp_your_token_here"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä½ å¯ä»¥æŠŠæ¯ä¸€é¡¹é…ç½®çœ‹ä½œæ˜¯åœ¨ç»ˆç«¯æ‰§è¡Œä¸€ä¸ª<strong>é•¿è¿æ¥çš„å­è¿›ç¨‹</strong>ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„å‚æ•°æ‹†è§£ï¼š</p>
<p>1.<code>mcpServers</code>:æ ¹èŠ‚ç‚¹ï¼Œæ˜¯ä¸€ä¸ª Mapã€‚Keyï¼ˆå¦‚ <code>weather</code>, <code>github</code>ï¼‰æ˜¯è¯¥ Server çš„<strong>å”¯ä¸€æ ‡è¯†ç¬¦</strong>ï¼Œç”¨äºåœ¨ AI ç•Œé¢æ˜¾ç¤ºå’Œå†…éƒ¨éš”ç¦»ã€‚</p>
<p>2.<code>command</code> (å¯æ‰§è¡Œæ–‡ä»¶)</p>
<p>è¿™æ˜¯ Client å°è¯•å¯åŠ¨çš„<strong>äºŒè¿›åˆ¶æ–‡ä»¶æˆ–è„šæœ¬è§£é‡Šå™¨</strong>ã€‚</p>
<ul>
<li><strong>ä½œç”¨</strong>: æŒ‡å®šå…¥å£ç¨‹åºã€‚</li>
<li><strong>å¸¸è§å€¼</strong>: <code>npx</code> (Node.js), <code>python</code>, <code>uv</code> (Python åŒ…ç®¡ç†å™¨), æˆ–è€…ä½ ç¼–è¯‘å¥½çš„ Go/Java äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚ <code>/usr/local/bin/my-go-server</code>ï¼‰ã€‚</li>
</ul>
<ol start="3">
<li><code>args</code> (å¯åŠ¨å‚æ•°)</li>
</ol>
<p>è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä¼šè¢«è¿½åŠ åœ¨ <code>command</code> åé¢ï¼Œå½¢æˆå®Œæ•´çš„ shell å¯åŠ¨å‘½ä»¤ã€‚</p>
<ul>
<li>
<p><strong><code>weather</code> ç¤ºä¾‹åˆ†æ</strong>:</p>
<ul>
<li><code>uv --directory /path/to/weather run weather-server</code></li>
<li>è¿™å‘Šè¯‰ <code>uv</code> åˆ‡æ¢åˆ°ç‰¹å®šç›®å½•å¹¶è¿è¡Œè¯¥é¡¹ç›®ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>filesystem</code> ç¤ºä¾‹åˆ†æ</strong>:</p>
<ul>
<li><code>npx -y @modelcontextprotocol/server-filesystem /Users/username/Documents</code></li>
<li><code>-y</code>: è‡ªåŠ¨ç¡®è®¤å®‰è£…ã€‚</li>
<li>æœ€åä¸€ä¸ªå‚æ•° <code>/Users/...</code>: è¿™æ˜¯ä¼ ç»™ Server ç¨‹åºå†…éƒ¨çš„å‚æ•°ï¼Œå‘ŠçŸ¥å®ƒå…è®¸è®¿é—®å“ªä¸ªæ–‡ä»¶å¤¹ï¼ˆ<strong>ç™½åå•æœºåˆ¶</strong>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol start="4">
<li><code>env</code> (ç¯å¢ƒå˜é‡)</li>
</ol>
<p>è¿™æ˜¯å­è¿›ç¨‹å¯åŠ¨æ—¶æ³¨å…¥çš„ <strong>Environment Variables</strong>ã€‚</p>
<ul>
<li><strong>ä½œç”¨</strong>: ç”¨äºä¼ é€’æ•æ„Ÿä¿¡æ¯ï¼ˆAPI Keysï¼‰æˆ–é…ç½®å‚æ•°ï¼Œè€Œä¸éœ€è¦å°†å…¶ç¡¬ç¼–ç åœ¨ä»£ç æˆ–å‘½ä»¤è¡Œå‚æ•°ä¸­ã€‚</li>
<li><strong>åç«¯è§†è§’</strong>: å°±åƒä½ åœ¨ Docker ä¸­é…ç½® <code>ENV</code> æˆ–åœ¨æœ¬åœ° <code>.env</code> æ–‡ä»¶ä¸­å®šä¹‰å˜é‡ä¸€æ ·ã€‚</li>
<li><strong>GitHub ç¤ºä¾‹</strong>: <code>GITHUB_PERSONAL_ACCESS_TOKEN</code> ä¼šè¢«æ³¨å…¥åˆ°è¯¥è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒServer ä»£ç ä¸­é€šè¿‡ <code>os.Getenv("GITHUB_PERSONAL_ACCESS_TOKEN")</code> (Go) æˆ– <code>System.getenv(...)</code> (Java) è·å–ã€‚</li>
</ul>
<h2 data-id="heading-6">é€šè¿‡ä»£ç æ¥è°ƒç”¨MCP server</h2>
<p>è¿™å°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„åœºæ™¯äºŒï¼Œåœ¨è‡ªå·±æ„å»ºçš„AIåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å®˜æ–¹æä¾›çš„SDKæ¥ç¼–å†™MCP clientçš„ç›¸å…³ä»£ç ã€‚</p>
<p>è¿™é‡Œå¤šè¯´ä¸€å¥ï¼Œå®˜æ–¹æä¾›äº†è®¸å¤šSDKï¼Œå…¶ä¸­åç«¯å¼€å‘å¸¸ç”¨çš„Goæ˜¯ç”±Googleå’ŒGoå®˜æ–¹æ¥ç»´æŠ¤ï¼ŒJavaåˆ™æ˜¯Spring AIå®˜æ–¹ç»´æŠ¤ï¼Œè€ŒPythonåˆ™æ˜¯MCPå®˜æ–¹è¿›è¡Œç»´æŠ¤</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f330ff133804af69afe9560d974b1f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oOz55Sob2ZmZXLmiZPniYw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576280&amp;x-signature=PljbFQjP6Xold3GzN4Agg7HwaGI%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨Python SDKæ¥ç¼–å†™MCP clientç›¸å…³ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession, StdioServerParameters
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client

<span class="hljs-comment"># é…ç½®æœåŠ¡å™¨å‚æ•°</span>
server_params = StdioServerParameters(
    command=<span class="hljs-string">"uv"</span>,
    args=[<span class="hljs-string">"--directory"</span>, <span class="hljs-string">"/path/to/weather"</span>, <span class="hljs-string">"run"</span>, <span class="hljs-string">"weather-server"</span>],
)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-comment"># åˆå§‹åŒ–è¿æ¥</span>
            <span class="hljs-keyword">await</span> session.initialize()
            
            <span class="hljs-comment"># åˆ—å‡ºå¯ç”¨å·¥å…·</span>
            tools = <span class="hljs-keyword">await</span> session.list_tools()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Available tools:"</span>, tools)
            
            <span class="hljs-comment"># è°ƒç”¨å·¥å…·</span>
            result = <span class="hljs-keyword">await</span> session.call_tool(
                <span class="hljs-string">"get_forecast"</span>,
                arguments={<span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.7749</span>, <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.4194</span>}
            )
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Forecast:"</span>, result)
            
            <span class="hljs-comment"># åˆ—å‡ºèµ„æº</span>
            resources = <span class="hljs-keyword">await</span> session.list_resources()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Available resources:"</span>, resources)
            
            <span class="hljs-comment"># è¯»å–èµ„æº</span>
            config = <span class="hljs-keyword">await</span> session.read_resource(<span class="hljs-string">"weather://config"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Config:"</span>, config)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-keyword">import</span> asyncio
    asyncio.run(main())
</code></pre>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>è¿™ä¸€ç¯‡æˆ‘ä»¬è§£ç­”äº†MCP clientçš„ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬clientå¦‚ä½•è°ƒç”¨serverï¼Œè¿˜æœ‰ä¸åŒåœºæ™¯ä¸‹æˆ‘ä»¬è¯¥å¦‚ä½•è°ƒç”¨serverç­‰ç­‰ï¼Œæˆ‘ç›¸ä¿¡é€šè¿‡è¿™ä¸€ç¯‡å’Œå‰é¢çš„æ–‡ç« ï¼Œå¤§å®¶ä¹Ÿå·²ç»å¯¹MCPæ¯”è¾ƒäº†è§£äº†ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬å†è®²è®²MCPçš„é«˜çº§ç‰¹æ€§å’Œä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå›¾åƒå¤„ç†åˆ©å™¨ï¼šPillow (PIL)å…¥é—¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7605810996125990946</link>    <guid>https://juejin.cn/post/7605810996125990946</guid>    <pubDate>2026-02-13T08:31:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605810996125990946" data-draft-id="7605792874174267455" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå›¾åƒå¤„ç†åˆ©å™¨ï¼šPillow (PIL)å…¥é—¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Python,å›¾åƒè¯†åˆ«"/> <meta itemprop="datePublished" content="2026-02-13T08:31:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å¼ è¯´æ•…äº‹"/> <meta itemprop="url" content="https://juejin.cn/user/741501567509111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå›¾åƒå¤„ç†åˆ©å™¨ï¼šPillow (PIL)å…¥é—¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/741501567509111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å¼ è¯´æ•…äº‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:31:59.000Z" title="Fri Feb 13 2026 08:31:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®å½•</h2>
<ol>
<li>åº“çš„æ¦‚è§ˆä¸æ ¸å¿ƒä»·å€¼</li>
<li>ç¯å¢ƒæ­å»ºä¸"Hello, World"</li>
<li>æ ¸å¿ƒæ¦‚å¿µè§£æ</li>
<li>å®æˆ˜æ¼”ç»ƒï¼šæ‰¹é‡å›¾ç‰‡å¤„ç†å·¥å…·</li>
<li>æœ€ä½³å®è·µä¸å¸¸è§é™·é˜±</li>
<li>è¿›é˜¶æŒ‡å¼•</li>
</ol>
<h2 data-id="heading-1">1. åº“çš„æ¦‚è§ˆä¸æ ¸å¿ƒä»·å€¼</h2>
<p>æƒ³è±¡ä¸€ä¸‹,ä½ åœ¨å¼€å‘ä¸€ä¸ªç”µå•†å¹³å°,éœ€è¦å¤„ç†æˆåƒä¸Šä¸‡å¼ ä¸åŒå°ºå¯¸ã€æ ¼å¼çš„å•†å“å›¾ç‰‡â€”â€”æœ‰çš„æ¥è‡ªç”¨æˆ·çš„éšæ„ä¸Šä¼ ,æœ‰çš„éœ€è¦æ‰¹é‡æ·»åŠ æ°´å°,æœ‰çš„è¿˜è¦è½¬æ¢ä¸ºé€‚åˆç§»åŠ¨ç«¯çš„æ ¼å¼ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªå¼ºå¤§çš„å›¾åƒå¤„ç†å·¥å…·,è¿™å°±åƒè¯•å›¾ç”¨å‰ªåˆ€å’Œèƒ¶æ°´æ¥å®Œæˆä¸€ä¸ªç°ä»£å°åˆ·å‚çš„å·¥ä½œ,æ—¢ä½æ•ˆåˆä¸å¯é ã€‚</p>
<p><code>Pillow</code>(åˆç§°PIL,Python Imaging Libraryçš„å‹å¥½åˆ†æ”¯)æ­£æ˜¯ä¸ºè§£å†³Pythonä¸­çš„å›¾åƒå¤„ç†é—®é¢˜è€Œç”Ÿçš„å·¥å…·ã€‚å®ƒä¸ºPythonè§£é‡Šå™¨æ·»åŠ äº†å¼ºå¤§çš„å›¾åƒå¤„ç†èƒ½åŠ›,ä½¿å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°æ‰“å¼€ã€æ“ä½œã€ä¿å­˜å„ç§æ ¼å¼çš„å›¾åƒæ–‡ä»¶ã€‚Pillowåœ¨Pythonç”Ÿæ€ä¸­å æ®ç€ç‹¬ç‰¹ä¸”ä¸å¯æ›¿ä»£çš„åœ°ä½â€”â€”å®ƒæ˜¯Pythonå›¾åƒå¤„ç†çš„äº‹å®æ ‡å‡†åº“,å°±åƒNumPyä¹‹äºç§‘å­¦è®¡ç®—,Djangoä¹‹äºWebå¼€å‘ã€‚</p>
<p>Pillowçš„æ ¸å¿ƒä»·å€¼åœ¨äºå…¶ç®€æ´çš„APIè®¾è®¡ä¸å¼ºå¤§çš„åŠŸèƒ½é›†çš„å®Œç¾ç»“åˆã€‚å®ƒæ”¯æŒ30å¤šç§å›¾åƒæ ¼å¼(åŒ…æ‹¬JPEGã€PNGã€GIFã€BMPã€TIFFã€WebPç­‰),æä¾›äº†ä¸°å¯Œçš„å›¾åƒæ“ä½œåŠŸèƒ½,ä»åŸºç¡€çš„ç¼©æ”¾ã€è£å‰ªã€æ—‹è½¬,åˆ°é«˜çº§çš„æ»¤é•œåº”ç”¨ã€è‰²å½©è°ƒæ•´ã€åƒç´ çº§æ“ä½œ,å‡ ä¹æ¶µç›–äº†æ—¥å¸¸å¼€å‘ä¸­99%çš„å›¾åƒå¤„ç†éœ€æ±‚ã€‚æ›´é‡è¦çš„æ˜¯,Pillowçš„è®¾è®¡å“²å­¦æ˜¯"ç®€å•ä¼˜å…ˆ",ç”¨å‡ è¡Œä»£ç å°±èƒ½å®Œæˆå¤æ‚çš„å›¾åƒå˜æ¢,è¿™ä½¿å¾—å®ƒæˆä¸ºäº†å›¾åƒå¤„ç†é¢†åŸŸçš„ç‘å£«å†›åˆ€ã€‚</p>
<p>æ— è®ºæ˜¯Webåç«¯çš„å›¾åƒæœåŠ¡ã€æ•°æ®ç§‘å­¦ä¸­çš„å›¾åƒé¢„å¤„ç†ã€è¿˜æ˜¯æ¡Œé¢åº”ç”¨çš„å›¾åƒç¼–è¾‘åŠŸèƒ½,Pillowéƒ½èƒ½æä¾›åšå®çš„åº•å±‚æ”¯æ’‘ã€‚å®ƒä¸NumPyã€OpenCVã€TensorFlowç­‰æ·±åº¦å­¦ä¹ æ¡†æ¶çš„æ— ç¼é›†æˆ,æ›´æ˜¯è®©å®ƒæˆä¸ºä»å…¥é—¨çº§å›¾åƒä»»åŠ¡åˆ°AIè§†è§‰ç®—æ³•çš„å®Œæ•´è§£å†³æ–¹æ¡ˆé“¾ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚</p>
<h2 data-id="heading-2">2. ç¯å¢ƒæ­å»ºä¸"Hello, World"</h2>
<h3 data-id="heading-3">å®‰è£…è¯´æ˜</h3>
<p>Pillowçš„å®‰è£…éå¸¸ç®€å•,æ¨èä½¿ç”¨pipè¿›è¡Œå®‰è£…ã€‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨pipå®‰è£…æœ€æ–°ç‰ˆæœ¬</span>
pip install Pillow

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨python3 -m pipç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„Pythonç¯å¢ƒ</span>
python3 -m pip install --upgrade Pillow
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>:</p>
<ul>
<li>Pillowå’Œæ—§çš„PILåº“ä¸èƒ½å…±å­˜,å¦‚æœä¹‹å‰å®‰è£…è¿‡PIL,è¯·å…ˆå¸è½½</li>
<li>Pillow â‰¥ 1.0ç‰ˆæœ¬ä¸å†æ”¯æŒ<code>import Image</code>,å¿…é¡»ä½¿ç”¨<code>from PIL import Image</code></li>
<li>å¯¹äºLinuxç”¨æˆ·,æŸäº›å‘è¡Œç‰ˆå¯èƒ½éœ€è¦å…ˆå®‰è£…ç³»ç»Ÿçº§çš„ä¾èµ–åº“(å¦‚libjpegã€zlib)</li>
</ul>
<p><strong>å¯é€‰ä¾èµ–</strong>:
å¦‚æœéœ€è¦å¤„ç†XMPå…ƒæ•°æ®,å¯ä»¥é¢å¤–å®‰è£…:</p>
<pre><code class="hljs language-bash" lang="bash">pip install defusedxml olefile
</code></pre>
<h3 data-id="heading-4">Hello, Worldç¤ºä¾‹</h3>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªæœ€ç®€å•çš„ç¤ºä¾‹å¼€å§‹,å­¦ä¹ å¦‚ä½•ä½¿ç”¨Pillowæ‰“å¼€ä¸€å¼ å›¾ç‰‡ã€è·å–åŸºæœ¬ä¿¡æ¯å¹¶ä¿å­˜ä¸ºæ–°æ ¼å¼:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

<span class="hljs-comment"># 1. æ‰“å¼€ä¸€å¼ å›¾ç‰‡(å‡è®¾å½“å‰ç›®å½•ä¸‹æœ‰test.jpg)</span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'test.jpg'</span>)

<span class="hljs-comment"># 2. è·å–å›¾ç‰‡åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å›¾ç‰‡æ ¼å¼: <span class="hljs-subst">{img.<span class="hljs-built_in">format</span>}</span>"</span>)        <span class="hljs-comment"># è¾“å‡º: JPEG</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å›¾ç‰‡å°ºå¯¸: <span class="hljs-subst">{img.size}</span>"</span>)          <span class="hljs-comment"># è¾“å‡º: (1920, 1080) - (å®½åº¦, é«˜åº¦)</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å›¾ç‰‡æ¨¡å¼: <span class="hljs-subst">{img.mode}</span>"</span>)          <span class="hljs-comment"># è¾“å‡º: RGB - é¢œè‰²æ¨¡å¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡ä»¶å: <span class="hljs-subst">{img.filename}</span>"</span>)        <span class="hljs-comment"># è¾“å‡º: test.jpg</span>

<span class="hljs-comment"># 3. æ˜¾ç¤ºå›¾ç‰‡(ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å›¾ç‰‡æŸ¥çœ‹å™¨)</span>
img.show()

<span class="hljs-comment"># 4. ä¿å­˜ä¸ºPNGæ ¼å¼(è‡ªåŠ¨æ ¹æ®æ‰©å±•åç¡®å®šæ ¼å¼)</span>
img.save(<span class="hljs-string">'test.png'</span>)

<span class="hljs-comment"># 5. ä¿å­˜ä¸ºå‹ç¼©åçš„JPEG(qualityå‚æ•°æ§åˆ¶è´¨é‡,1-95)</span>
img.save(<span class="hljs-string">'test_compressed.jpg'</span>, quality=<span class="hljs-number">70</span>, optimize=<span class="hljs-literal">True</span>)
</code></pre>
<h3 data-id="heading-5">é€è¡Œè§£é‡Š</h3>
<ul>
<li>
<p><code>from PIL import Image</code>: ä»Pillowåº“ä¸­å¯¼å…¥Imageç±»,è¿™æ˜¯æœ€æ ¸å¿ƒçš„ç±»,ç”¨äºè¡¨ç¤ºå’Œæ“ä½œå›¾åƒå¯¹è±¡ã€‚æ³¨æ„åŒ…åæ˜¯<code>PIL</code>è€Œä¸æ˜¯<code>Pillow</code>,è¿™æ˜¯å†å²åŸå› ã€‚</p>
</li>
<li>
<p><code>img = Image.open('test.jpg')</code>: <code>open()</code>å‡½æ•°æ˜¯å·¥å‚æ–¹æ³•,ç”¨äºä»æ–‡ä»¶ä¸­åŠ è½½å›¾åƒå¹¶è¿”å›Imageå¯¹è±¡ã€‚å®ƒä¼šæ ¹æ®æ–‡ä»¶å†…å®¹è‡ªåŠ¨è¯†åˆ«æ ¼å¼,è€Œä¸æ˜¯ä¾èµ–æ–‡ä»¶æ‰©å±•åã€‚è¿”å›çš„<code>img</code>å¯¹è±¡åŒ…å«äº†å›¾åƒçš„æ‰€æœ‰ä¿¡æ¯å’Œæ“ä½œæ–¹æ³•ã€‚</p>
</li>
<li>
<p><code>img.format</code>: å±æ€§,è¿”å›å›¾åƒçš„åŸå§‹æ ¼å¼(å¦‚JPEGã€PNGç­‰)ã€‚å¦‚æœå›¾åƒä¸æ˜¯ä»æ–‡ä»¶åŠ è½½çš„(å¦‚æ–°å»ºçš„å›¾åƒ),è¿™ä¸ªå€¼ä¸ºNoneã€‚</p>
</li>
<li>
<p><code>img.size</code>: å±æ€§,è¿”å›ä¸€ä¸ªåŒ…å«(å®½åº¦,é«˜åº¦)çš„å…ƒç»„,å•ä½æ˜¯åƒç´ ã€‚è¿™æ˜¯å›¾åƒçš„åŸºæœ¬ç»´åº¦ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><code>img.mode</code>: å±æ€§,è¿”å›å›¾åƒçš„é¢œè‰²æ¨¡å¼,å¦‚RGB(çœŸå½©è‰²)ã€L(ç°åº¦)ã€RGBA(å¸¦é€æ˜é€šé“çš„RGB)ã€CMYK(å°åˆ·æ¨¡å¼)ç­‰ã€‚</p>
</li>
<li>
<p><code>img.show()</code>: æ–¹æ³•,ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„é»˜è®¤å›¾ç‰‡æŸ¥çœ‹å™¨æ˜¾ç¤ºå›¾åƒã€‚è¿™ä¸ªæ–¹æ³•ä¼šå…ˆå°†å›¾åƒä¿å­˜ä¸ºä¸´æ—¶æ–‡ä»¶,ç„¶åè°ƒç”¨ç³»ç»Ÿç¨‹åºæ‰“å¼€å®ƒ,ä¸»è¦ç”¨äºè°ƒè¯•å’Œå¿«é€Ÿé¢„è§ˆã€‚</p>
</li>
<li>
<p><code>img.save('test.png')</code>: æ–¹æ³•,å°†å›¾åƒä¿å­˜åˆ°æ–‡ä»¶ã€‚Pillowä¼šæ ¹æ®æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨ç¡®å®šè¾“å‡ºæ ¼å¼(PNG)ã€‚è¿™ä¸ªæ–¹æ³•æ”¯æŒå„ç§æ ¼å¼ç‰¹å®šçš„å‚æ•°,æ¯”å¦‚JPEGçš„<code>quality</code>(è´¨é‡)ã€<code>optimize</code>(ä¼˜åŒ–)ç­‰ã€‚</p>
</li>
<li>
<p><code>img.save('test_compressed.jpg', quality=70, optimize=True)</code>: ä¿å­˜æ—¶æŒ‡å®šæ ¼å¼å‚æ•°ã€‚<code>quality=70</code>è¡¨ç¤ºå‹ç¼©è´¨é‡ä¸º70(èŒƒå›´1-95,æ•°å€¼è¶Šå°å‹ç¼©ç‡è¶Šé«˜ä½†è´¨é‡è¶Šå·®),<code>optimize=True</code>å¯ç”¨ä¼˜åŒ–ç®—æ³•è¿›ä¸€æ­¥å‡å°æ–‡ä»¶ä½“ç§¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">è¿è¡Œç»“æœ</h3>
<p>è¿è¡Œä¸Šè¿°ä»£ç å,ä½ å°†åœ¨ç»ˆç«¯çœ‹åˆ°å›¾ç‰‡çš„åŸºæœ¬ä¿¡æ¯,åŒæ—¶ä¼š:</p>
<ol>
<li>å¼¹å‡ºä¸€ä¸ªå›¾ç‰‡æŸ¥çœ‹å™¨çª—å£æ˜¾ç¤ºåŸå›¾</li>
<li>åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ<code>test.png</code>(æ— æŸPNGæ ¼å¼)</li>
<li>ç”Ÿæˆ<code>test_compressed.jpg</code>(å‹ç¼©åçš„JPEG,æ–‡ä»¶ä½“ç§¯ä¼šæ¯”åŸJPEGæ›´å°)</li>
</ol>
<p><strong>å¸¸è§å®‰è£…å¤±è´¥åŠè§£å†³</strong>:</p>
<ul>
<li>å¦‚æœæç¤º"ModuleNotFoundError: No module named 'PIL'",è¯´æ˜å®‰è£…å¤±è´¥,é‡æ–°è¿è¡Œ<code>pip install Pillow</code></li>
<li>Windowsç”¨æˆ·å¦‚æœé‡åˆ°ç¼–è¯‘é”™è¯¯,å°è¯•ä½¿ç”¨é¢„ç¼–è¯‘çš„wheelåŒ…:<code>pip install --only-binary=:all: Pillow</code></li>
<li>Linuxç”¨æˆ·å¦‚æœé‡åˆ°æŸäº›æ ¼å¼ä¸æ”¯æŒ,éœ€è¦å®‰è£…ç³»ç»Ÿä¾èµ–(å¦‚Ubuntu:<code>sudo apt-get install libjpeg-dev zlib1g-dev</code>)</li>
</ul>
<h2 data-id="heading-7">3. æ ¸å¿ƒæ¦‚å¿µè§£æ</h2>
<p>Pillowçš„æ ¸å¿ƒè®¾è®¡å›´ç»•å‡ ä¸ªå…³é”®æ¦‚å¿µå±•å¼€,ç†è§£è¿™äº›æ¦‚å¿µæ˜¯ç†Ÿç»ƒä½¿ç”¨Pillowçš„åŸºç¡€ã€‚æœ¬èŠ‚é‡ç‚¹ä»‹ç»Imageå¯¹è±¡ã€å›¾åƒæ¨¡å¼å’Œåæ ‡ç³»ç»Ÿè¿™ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<h3 data-id="heading-8">3.1 Imageå¯¹è±¡</h3>
<p><code>Image</code>ç±»æ˜¯Pillowä¸­æœ€æ ¸å¿ƒçš„å¯¹è±¡,ä»£è¡¨ä¸€ä¸ªå›¾åƒå®ä¾‹ã€‚ä½ å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼åˆ›å»ºImageå¯¹è±¡:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

<span class="hljs-comment"># æ–¹å¼1: ä»æ–‡ä»¶åŠ è½½</span>
img1 = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'photo.jpg'</span>)

<span class="hljs-comment"># æ–¹å¼2: åˆ›å»ºç©ºç™½å›¾åƒ</span>
<span class="hljs-comment"># å‚æ•°: é¢œè‰²æ¨¡å¼, å°ºå¯¸(å®½,é«˜), èƒŒæ™¯è‰²(å¯é€‰)</span>
img2 = Image.new(<span class="hljs-string">'RGB'</span>, (<span class="hljs-number">800</span>, <span class="hljs-number">600</span>), color=<span class="hljs-string">'white'</span>)

<span class="hljs-comment"># æ–¹å¼3: ä»å…¶ä»–å›¾åƒæ“ä½œå¾—åˆ°</span>
img3 = img1.resize((<span class="hljs-number">400</span>, <span class="hljs-number">300</span>))

<span class="hljs-comment"># æ–¹å¼4: ä»é¢œè‰²æ•°æ®åˆ›å»º</span>
img4 = Image.new(<span class="hljs-string">'L'</span>, (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>), color=<span class="hljs-number">128</span>)  <span class="hljs-comment"># åˆ›å»ºç°è‰²å›¾åƒ</span>
</code></pre>
<p>Imageå¯¹è±¡æ˜¯ä¸å¯å˜çš„â€”â€”å¤§å¤šæ•°æ“ä½œæ–¹æ³•(å¦‚<code>resize()</code>, <code>rotate()</code>)éƒ½ä¼šè¿”å›æ–°çš„Imageå¯¹è±¡,è€Œä¸ä¼šä¿®æ”¹åŸå¯¹è±¡ã€‚è¿™ç§è®¾è®¡ç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µ,è®©ä»£ç æ›´å®‰å…¨ã€å¯é¢„æµ‹ã€‚</p>
<h3 data-id="heading-9">3.2 å›¾åƒæ¨¡å¼(Mode)</h3>
<p>å›¾åƒæ¨¡å¼å®šä¹‰äº†åƒç´ çš„å­˜å‚¨æ–¹å¼å’Œé¢œè‰²è¡¨ç¤ºã€‚Pillowæ”¯æŒå¤šç§æ¨¡å¼,æœ€å¸¸ç”¨çš„åŒ…æ‹¬:</p>













































<table><thead><tr><th>æ¨¡å¼</th><th>æè¿°</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td>1</td><td>1ä½åƒç´ ,é»‘ç™½</td><td>äºŒå€¼å›¾åƒã€æ–‡å­—å›¾åƒ</td></tr><tr><td>L</td><td>8ä½åƒç´ ,ç°åº¦</td><td>ç°åº¦ç…§ç‰‡ã€åŒ»å­¦å›¾åƒ</td></tr><tr><td>P</td><td>8ä½åƒç´ ,ä½¿ç”¨è°ƒè‰²æ¿</td><td>ç´¢å¼•é¢œè‰²å›¾åƒ(GIF)</td></tr><tr><td>RGB</td><td>3x8ä½åƒç´ ,çœŸå½©è‰²</td><td>æ™®é€šç…§ç‰‡ã€å±å¹•æ˜¾ç¤º</td></tr><tr><td>RGBA</td><td>4x8ä½åƒç´ ,å¸¦é€æ˜é€šé“</td><td>éœ€è¦é€æ˜æ•ˆæœçš„å›¾åƒ</td></tr><tr><td>CMYK</td><td>4x8ä½åƒç´ ,åˆ†è‰²</td><td>å°åˆ·å“ã€å‡ºç‰ˆç‰©</td></tr><tr><td>LAB</td><td>3x8ä½åƒç´ ,LABé¢œè‰²ç©ºé—´</td><td>è‰²å½©ç§‘å­¦åº”ç”¨</td></tr></tbody></table>
<p><strong>æ¨¡å¼è½¬æ¢ç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

img_rgb = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'photo.jpg'</span>)  <span class="hljs-comment"># é»˜è®¤æ˜¯RGBæ¨¡å¼</span>

<span class="hljs-comment"># è½¬æ¢ä¸ºç°åº¦å›¾</span>
img_gray = img_rgb.convert(<span class="hljs-string">'L'</span>)

<span class="hljs-comment"># è½¬æ¢ä¸ºå¸¦é€æ˜é€šé“çš„RGB</span>
img_rgba = img_rgb.convert(<span class="hljs-string">'RGBA'</span>)

<span class="hljs-comment"># è½¬æ¢ä¸ºCMYK(å°åˆ·ç”¨)</span>
img_cmyk = img_rgb.convert(<span class="hljs-string">'CMYK'</span>)

<span class="hljs-comment"># æŸ¥çœ‹è½¬æ¢å‰å</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹: <span class="hljs-subst">{img_rgb.mode}</span> -&gt; è½¬æ¢å: <span class="hljs-subst">{img_rgba.mode}</span>"</span>)
</code></pre>
<p>ç†è§£å›¾åƒæ¨¡å¼éå¸¸é‡è¦,å› ä¸ºä¸åŒçš„æ“ä½œå¯¹æ¨¡å¼æœ‰ç‰¹å®šè¦æ±‚ã€‚ä¾‹å¦‚,<code>ImageFilter</code>æ¨¡å—çš„æŸäº›æ»¤é•œåªé€‚ç”¨äºRGBå’ŒLæ¨¡å¼å›¾åƒã€‚</p>
<h3 data-id="heading-10">3.3 åæ ‡ç³»ç»Ÿ</h3>
<p>Pillowä½¿ç”¨ç¬›å¡å°”åæ ‡ç³»ç»Ÿ,åŸç‚¹(0,0)ä½äºå›¾åƒçš„å·¦ä¸Šè§’:</p>
<ul>
<li>Xè½´å‘å³ä¸ºæ­£</li>
<li>Yè½´å‘ä¸‹ä¸ºæ­£</li>
<li>åæ ‡å€¼ä»¥åƒç´ ä¸ºå•ä½</li>
</ul>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ul>
<li><code>img.size</code>è¿”å›(width, height)å…ƒç»„</li>
<li><code>img.crop(box)</code>ä¸­çš„boxæ˜¯4å…ƒç»„:(left, upper, right, lower)</li>
<li>æ³¨æ„:åæ ‡æ˜¯åƒç´ "ä¹‹é—´"çš„ä½ç½®,æ‰€ä»¥crop(0,0,100,100)è£å‰ªå‡ºçš„åŒºåŸŸæ­£å¥½æ˜¯100x100åƒç´ </li>
</ul>
<p><strong>åæ ‡ç³»ç»Ÿå¯è§†åŒ–</strong>:</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å›¾åƒåæ ‡ç³»ç»Ÿ] --&gt; B[åŸç‚¹ 0,0 - å·¦ä¸Šè§’]
    A --&gt; C[Xè½´ - å‘å³ä¸ºæ­£]
    A --&gt; D[Yè½´ - å‘ä¸‹ä¸ºæ­£]
    A --&gt; E[size - width, height]
    E --&gt; F[width - Xè½´æœ€å¤§å€¼]
    E --&gt; G[height - Yè½´æœ€å¤§å€¼]
    A --&gt; H[crop box - left, upper, right, lower]
    H --&gt; I[left - å·¦è¾¹ç•Œxåæ ‡]
    H --&gt; J[upper - ä¸Šè¾¹ç•Œyåæ ‡]
    H --&gt; K[right - å³è¾¹ç•Œxåæ ‡]
    H --&gt; L[lower - ä¸‹è¾¹ç•Œyåæ ‡]
</code></pre>
<h3 data-id="heading-11">3.4 æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾</h3>
<p>Imageå¯¹è±¡ã€æ¨¡å¼å’Œåæ ‡ç³»ç»Ÿè¿™ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µç›¸äº’å…³è”,å…±åŒæ„æˆäº†Pillowå›¾åƒå¤„ç†çš„åŸºç¡€æ¶æ„:</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Imageå¯¹è±¡] --&gt; B[å›¾åƒæ¨¡å¼ mode]
    A --&gt; C[åæ ‡ç³»ç»Ÿ]
    A --&gt; D[åƒç´ æ•°æ®]
    
    B --&gt; E[RGB]
    B --&gt; F[L - ç°åº¦]
    B --&gt; G[RGBA - é€æ˜]
    B --&gt; H[CMYK - å°åˆ·]
    
    C --&gt; I[åŸç‚¹: å·¦ä¸Šè§’0,0]
    C --&gt; J[å°ºå¯¸: width x height]
    C --&gt; K[è£å‰ª: box - left,upper,right,lower]
    
    D --&gt; L[getpixel x,y]
    D --&gt; M[putpixel x,y,value]
    D --&gt; N[split - åˆ†ç¦»é€šé“]
    D --&gt; O[merge - åˆå¹¶é€šé“]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#f0e1ff
    style D fill:#e1ffe1
</code></pre>
<h3 data-id="heading-12">3.5 å…¶ä»–é‡è¦æ¦‚å¿µ</h3>
<p><strong>å›¾åƒé€šé“(Bands)</strong>:</p>
<ul>
<li>RGBå›¾åƒæœ‰3ä¸ªé€šé“:R(çº¢)ã€G(ç»¿)ã€B(è“)</li>
<li>RGBAå›¾åƒæœ‰4ä¸ªé€šé“:Rã€Gã€Bã€A(é€æ˜åº¦)</li>
<li>å¯ä»¥ä½¿ç”¨<code>split()</code>æ–¹æ³•åˆ†ç¦»é€šé“,<code>merge()</code>æ–¹æ³•åˆå¹¶é€šé“</li>
</ul>
<p><strong>æ‡’åŠ è½½(Lazy Loading)</strong>:</p>
<ul>
<li><code>Image.open()</code>ä¸ä¼šç«‹å³åŠ è½½æ•´ä¸ªå›¾åƒæ•°æ®</li>
<li>åªæœ‰åœ¨è®¿é—®åƒç´ æ•°æ®æˆ–æ‰§è¡Œæ“ä½œæ—¶æ‰ä¼šçœŸæ­£åŠ è½½</li>
<li>è¿™ä½¿å¾—æ‰“å¼€å¤§æ–‡ä»¶çš„é€Ÿåº¦å¾ˆå¿«,ä¸ä¼šç«‹å³æ¶ˆè€—å¤§é‡å†…å­˜</li>
</ul>
<p><strong>è¿‡æ»¤å™¨(Filters)</strong>:</p>
<ul>
<li>Pillowæä¾›å†…ç½®æ»¤é•œ(æ¨¡ç³Šã€é”åŒ–ã€è¾¹ç¼˜æ£€æµ‹ç­‰)</li>
<li>ä½¿ç”¨<code>img.filter(ImageFilter.BLUR)</code>ç­‰åº”ç”¨æ»¤é•œ</li>
<li>è‡ªå®šä¹‰æ»¤é•œéœ€è¦ç†è§£å·ç§¯æ“ä½œ</li>
</ul>
<p>æŒæ¡è¿™äº›æ ¸å¿ƒæ¦‚å¿µå,ä½ å°±èƒ½ç†è§£Pillowçš„å¤§éƒ¨åˆ†æ“ä½œé€»è¾‘,å¹¶èƒ½å¤Ÿé«˜æ•ˆåœ°è§£å†³å„ç§å›¾åƒå¤„ç†é—®é¢˜ã€‚</p>
<h2 data-id="heading-13">4. å®æˆ˜æ¼”ç»ƒï¼šæ‰¹é‡å›¾ç‰‡å¤„ç†å·¥å…·</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…é¡¹ç›®æ¥ç»¼åˆè¿ç”¨Pillowçš„æ ¸å¿ƒåŠŸèƒ½ã€‚å‡è®¾ä½ éœ€è¦å¼€å‘ä¸€ä¸ªç”µå•†å¹³å°çš„å›¾ç‰‡å¤„ç†å·¥å…·,éœ€è¦æ‰¹é‡å®Œæˆä»¥ä¸‹ä»»åŠ¡:</p>
<ol>
<li>ç»Ÿä¸€è°ƒæ•´å•†å“å›¾ç‰‡å°ºå¯¸</li>
<li>æ·»åŠ æ°´å°</li>
<li>ä¼˜åŒ–å‹ç¼©</li>
<li>ç”Ÿæˆç¼©ç•¥å›¾</li>
<li>ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š</li>
</ol>
<h3 data-id="heading-14">éœ€æ±‚åˆ†æ</h3>
<p>ç”µå•†å¹³å°çš„å•†å“å›¾ç‰‡æ¥æºå¤šæ ·,å°ºå¯¸ä¸ä¸€,å­˜å‚¨æ ¼å¼å„å¼‚ã€‚ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒå’ŒèŠ‚çœå¸¦å®½,æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰å›¾ç‰‡å¤„ç†æˆç»Ÿä¸€çš„æ ‡å‡†:</p>
<ul>
<li>ä¸»å›¾:800x800åƒç´ ,JPEGæ ¼å¼,è´¨é‡85%</li>
<li>ç¼©ç•¥å›¾:200x200åƒç´ ,ä¿æŒæ¯”ä¾‹</li>
<li>æ·»åŠ åŠé€æ˜çš„å“ç‰Œæ°´å°</li>
<li>ç”Ÿæˆå¤„ç†æŠ¥å‘Š</li>
</ul>
<h3 data-id="heading-15">æ–¹æ¡ˆè®¾è®¡</h3>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹PillowåŠŸèƒ½:</p>
<ul>
<li><code>Image.open()</code> - è¯»å–åŸå§‹å›¾ç‰‡</li>
<li><code>Image.resize()</code> - è°ƒæ•´å°ºå¯¸</li>
<li><code>Image.thumbnail()</code> - ç”Ÿæˆç¼©ç•¥å›¾(ä¿æŒæ¯”ä¾‹)</li>
<li><code>ImageDraw</code>å’Œ<code>ImageFont</code> - ç»˜åˆ¶æ°´å°</li>
<li><code>Image.save()</code> - ä¿å­˜ä¼˜åŒ–åçš„å›¾ç‰‡</li>
<li><code>os</code>æ¨¡å— - æ‰¹é‡æ–‡ä»¶å¤„ç†</li>
</ul>
<h3 data-id="heading-16">ä»£ç å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image, ImageDraw, ImageFont
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageProcessor</span>:
    <span class="hljs-string">"""ç”µå•†å›¾ç‰‡æ‰¹é‡å¤„ç†å·¥å…·"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_dir, output_dir, watermark_text=<span class="hljs-string">"MyBrand"</span></span>):
        self.input_dir = input_dir
        self.output_dir = output_dir
        self.watermark_text = watermark_text
        self.main_size = (<span class="hljs-number">800</span>, <span class="hljs-number">800</span>)      <span class="hljs-comment"># ä¸»å›¾å°ºå¯¸</span>
        self.thumb_size = (<span class="hljs-number">200</span>, <span class="hljs-number">200</span>)     <span class="hljs-comment"># ç¼©ç•¥å›¾å°ºå¯¸</span>
        self.report = []                  <span class="hljs-comment"># å¤„ç†æŠ¥å‘Š</span>
        
        <span class="hljs-comment"># åˆ›å»ºè¾“å‡ºç›®å½•</span>
        os.makedirs(output_dir, exist_ok=<span class="hljs-literal">True</span>)
        os.makedirs(os.path.join(output_dir, <span class="hljs-string">'main'</span>), exist_ok=<span class="hljs-literal">True</span>)
        os.makedirs(os.path.join(output_dir, <span class="hljs-string">'thumb'</span>), exist_ok=<span class="hljs-literal">True</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_watermark</span>(<span class="hljs-params">self, img</span>):
        <span class="hljs-string">"""æ·»åŠ åŠé€æ˜æ°´å°"""</span>
        <span class="hljs-comment"># ç¡®ä¿å›¾ç‰‡æœ‰alphaé€šé“</span>
        <span class="hljs-keyword">if</span> img.mode != <span class="hljs-string">'RGBA'</span>:
            img = img.convert(<span class="hljs-string">'RGBA'</span>)
        
        <span class="hljs-comment"># åˆ›å»ºæ°´å°å›¾å±‚</span>
        watermark = Image.new(<span class="hljs-string">'RGBA'</span>, img.size, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))
        draw = ImageDraw.Draw(watermark)
        
        <span class="hljs-comment"># å°è¯•åŠ è½½å­—ä½“,å¤±è´¥åˆ™ä½¿ç”¨é»˜è®¤å­—ä½“</span>
        <span class="hljs-keyword">try</span>:
            font = ImageFont.truetype(<span class="hljs-string">"arial.ttf"</span>, <span class="hljs-number">40</span>)
        <span class="hljs-keyword">except</span>:
            font = ImageFont.load_default()
        
        <span class="hljs-comment"># è®¡ç®—æ°´å°ä½ç½®(å³ä¸‹è§’)</span>
        text_bbox = draw.textbbox((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), self.watermark_text, font=font)
        text_width = text_bbox[<span class="hljs-number">2</span>] - text_bbox[<span class="hljs-number">0</span>]
        text_height = text_bbox[<span class="hljs-number">3</span>] - text_bbox[<span class="hljs-number">1</span>]
        
        x = img.width - text_width - <span class="hljs-number">20</span>
        y = img.height - text_height - <span class="hljs-number">20</span>
        
        <span class="hljs-comment"># ç»˜åˆ¶åŠé€æ˜æ–‡å­—</span>
        draw.text((x, y), self.watermark_text, fill=(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">128</span>), font=font)
        
        <span class="hljs-comment"># åˆå¹¶æ°´å°åˆ°åŸå›¾</span>
        watermarked = Image.alpha_composite(img, watermark)
        <span class="hljs-keyword">return</span> watermarked
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_image</span>(<span class="hljs-params">self, filename</span>):
        <span class="hljs-string">"""å¤„ç†å•å¼ å›¾ç‰‡"""</span>
        input_path = os.path.join(self.input_dir, filename)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># 1. è¯»å–åŸå§‹å›¾ç‰‡</span>
            img = Image.<span class="hljs-built_in">open</span>(input_path)
            original_format = img.<span class="hljs-built_in">format</span>
            original_size = img.size
            
            <span class="hljs-comment"># 2. è°ƒæ•´ä¸»å›¾å°ºå¯¸(å±…ä¸­è£å‰ªåˆ°æ­£æ–¹å½¢)</span>
            <span class="hljs-comment"># å…ˆç¼©æ”¾ä½¿çŸ­è¾¹è¾¾åˆ°ç›®æ ‡å°ºå¯¸</span>
            ratio = <span class="hljs-built_in">max</span>(self.main_size[<span class="hljs-number">0</span>] / img.width, self.main_size[<span class="hljs-number">1</span>] / img.height)
            new_size = (<span class="hljs-built_in">int</span>(img.width * ratio), <span class="hljs-built_in">int</span>(img.height * ratio))
            img_resized = img.resize(new_size, Image.Resampling.LANCZOS)
            
            <span class="hljs-comment"># å±…ä¸­è£å‰ªåˆ°ç›®æ ‡å°ºå¯¸</span>
            left = (new_size[<span class="hljs-number">0</span>] - self.main_size[<span class="hljs-number">0</span>]) // <span class="hljs-number">2</span>
            top = (new_size[<span class="hljs-number">1</span>] - self.main_size[<span class="hljs-number">1</span>]) // <span class="hljs-number">2</span>
            img_cropped = img_resized.crop((
                left, top,
                left + self.main_size[<span class="hljs-number">0</span>],
                top + self.main_size[<span class="hljs-number">1</span>]
            ))
            
            <span class="hljs-comment"># 3. æ·»åŠ æ°´å°</span>
            img_watermarked = self.add_watermark(img_cropped)
            
            <span class="hljs-comment"># 4. ä¿å­˜ä¸»å›¾(JPEGæ ¼å¼,ä¼˜åŒ–å‹ç¼©)</span>
            main_filename = os.path.splitext(filename)[<span class="hljs-number">0</span>] + <span class="hljs-string">'.jpg'</span>
            main_path = os.path.join(self.output_dir, <span class="hljs-string">'main'</span>, main_filename)
            img_watermarked.save(main_path, <span class="hljs-string">'JPEG'</span>, quality=<span class="hljs-number">85</span>, optimize=<span class="hljs-literal">True</span>)
            
            <span class="hljs-comment"># 5. ç”Ÿæˆç¼©ç•¥å›¾(ä¿æŒæ¯”ä¾‹)</span>
            img_thumb = img.copy()
            img_thumb.thumbnail(self.thumb_size, Image.Resampling.LANCZOS)
            thumb_path = os.path.join(self.output_dir, <span class="hljs-string">'thumb'</span>, main_filename)
            img_thumb.save(thumb_path, <span class="hljs-string">'JPEG'</span>, quality=<span class="hljs-number">75</span>)
            
            <span class="hljs-comment"># 6. è®°å½•å¤„ç†ä¿¡æ¯</span>
            main_filesize = os.path.getsize(main_path) / <span class="hljs-number">1024</span>  <span class="hljs-comment"># KB</span>
            thumb_filesize = os.path.getsize(thumb_path) / <span class="hljs-number">1024</span>
            
            self.report.append({
                <span class="hljs-string">'filename'</span>: filename,
                <span class="hljs-string">'original_format'</span>: original_format,
                <span class="hljs-string">'original_size'</span>: original_size,
                <span class="hljs-string">'main_size'</span>: self.main_size,
                <span class="hljs-string">'main_filesize'</span>: <span class="hljs-built_in">round</span>(main_filesize, <span class="hljs-number">2</span>),
                <span class="hljs-string">'thumb_size'</span>: img_thumb.size,
                <span class="hljs-string">'thumb_filesize'</span>: <span class="hljs-built_in">round</span>(thumb_filesize, <span class="hljs-number">2</span>),
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'success'</span>
            })
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            self.report.append({
                <span class="hljs-string">'filename'</span>: filename,
                <span class="hljs-string">'error'</span>: <span class="hljs-built_in">str</span>(e),
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'failed'</span>
            })
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_all</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰¹é‡å¤„ç†æ‰€æœ‰å›¾ç‰‡"""</span>
        <span class="hljs-comment"># æ”¯æŒçš„å›¾ç‰‡æ ¼å¼</span>
        supported_formats = (<span class="hljs-string">'.jpg'</span>, <span class="hljs-string">'.jpeg'</span>, <span class="hljs-string">'.png'</span>, <span class="hljs-string">'.bmp'</span>, <span class="hljs-string">'.gif'</span>)
        
        <span class="hljs-comment"># è·å–æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</span>
        image_files = [
            f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> os.listdir(self.input_dir)
            <span class="hljs-keyword">if</span> f.lower().endswith(supported_formats)
        ]
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> image_files:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯: åœ¨ <span class="hljs-subst">{self.input_dir}</span> ä¸­æ²¡æœ‰æ‰¾åˆ°æ”¯æŒçš„å›¾ç‰‡æ ¼å¼"</span>)
            <span class="hljs-keyword">return</span>
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹å¤„ç† <span class="hljs-subst">{<span class="hljs-built_in">len</span>(image_files)}</span> å¼ å›¾ç‰‡..."</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
        
        <span class="hljs-comment"># å¤„ç†æ¯å¼ å›¾ç‰‡</span>
        success_count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i, filename <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(image_files, <span class="hljs-number">1</span>):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{i}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(image_files)}</span>] å¤„ç†: <span class="hljs-subst">{filename}</span>"</span>, end=<span class="hljs-string">" "</span>)
            <span class="hljs-keyword">if</span> self.process_image(filename):
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ“"</span>)
                success_count += <span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ—"</span>)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†å®Œæˆ! æˆåŠŸ: <span class="hljs-subst">{success_count}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(image_files)}</span>"</span>)
        self.generate_report()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_report</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ç”Ÿæˆå¤„ç†æŠ¥å‘Š"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤„ç†æŠ¥å‘Š"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
        
        <span class="hljs-comment"># ç»Ÿè®¡ä¿¡æ¯</span>
        success = [r <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> self.report <span class="hljs-keyword">if</span> r[<span class="hljs-string">'status'</span>] == <span class="hljs-string">'success'</span>]
        failed = [r <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> self.report <span class="hljs-keyword">if</span> r[<span class="hljs-string">'status'</span>] == <span class="hljs-string">'failed'</span>]
        
        <span class="hljs-keyword">if</span> success:
            total_main_size = <span class="hljs-built_in">sum</span>(r[<span class="hljs-string">'main_filesize'</span>] <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> success)
            total_thumb_size = <span class="hljs-built_in">sum</span>(r[<span class="hljs-string">'thumb_filesize'</span>] <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> success)
            avg_main_size = total_main_size / <span class="hljs-built_in">len</span>(success)
            avg_thumb_size = total_thumb_size / <span class="hljs-built_in">len</span>(success)
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næˆåŠŸå¤„ç†: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(success)}</span> å¼ "</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸»å›¾æ€»å¤§å°: <span class="hljs-subst">{total_main_size:<span class="hljs-number">.2</span>f}</span> KB (å¹³å‡ <span class="hljs-subst">{avg_main_size:<span class="hljs-number">.2</span>f}</span> KB)"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¼©ç•¥å›¾æ€»å¤§å°: <span class="hljs-subst">{total_thumb_size:<span class="hljs-number">.2</span>f}</span> KB (å¹³å‡ <span class="hljs-subst">{avg_thumb_size:<span class="hljs-number">.2</span>f}</span> KB)"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»è¾“å‡ºå¤§å°: <span class="hljs-subst">{total_main_size + total_thumb_size:<span class="hljs-number">.2</span>f}</span> KB"</span>)
        
        <span class="hljs-keyword">if</span> failed:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(failed)}</span> å¼ "</span>)
            <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> failed:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - <span class="hljs-subst">{item[<span class="hljs-string">'filename'</span>]}</span>: <span class="hljs-subst">{item.get(<span class="hljs-string">'error'</span>, <span class="hljs-string">'æœªçŸ¥é”™è¯¯'</span>)}</span>"</span>)
        
        <span class="hljs-comment"># è¯¦ç»†åˆ—è¡¨(å‰10å¼ )</span>
        <span class="hljs-keyword">if</span> success:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¤„ç†è¯¦æƒ…(å‰10å¼ ):"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'æ–‡ä»¶å'</span>:&lt;<span class="hljs-number">20</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'åŸå§‹å°ºå¯¸'</span>:&lt;<span class="hljs-number">12</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'ä¸»å›¾å¤§å°(KB)'</span>:&lt;<span class="hljs-number">12</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'ç¼©ç•¥å›¾å¤§å°(KB)'</span>:&lt;<span class="hljs-number">14</span>}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
            <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> success[:<span class="hljs-number">10</span>]:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{item[<span class="hljs-string">'filename'</span>]:&lt;<span class="hljs-number">20</span>}</span> <span class="hljs-subst">{<span class="hljs-built_in">str</span>(item[<span class="hljs-string">'original_size'</span>]):&lt;<span class="hljs-number">12</span>}</span> "</span>
                      <span class="hljs-string">f"<span class="hljs-subst">{item[<span class="hljs-string">'main_filesize'</span>]:&lt;<span class="hljs-number">12.2</span>f}</span> <span class="hljs-subst">{item[<span class="hljs-string">'thumb_filesize'</span>]:&lt;<span class="hljs-number">14.2</span>f}</span>"</span>)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè¾“å‡ºç›®å½•:"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ä¸»å›¾: <span class="hljs-subst">{os.path.join(self.output_dir, <span class="hljs-string">'main'</span>)}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ç¼©ç•¥å›¾: <span class="hljs-subst">{os.path.join(self.output_dir, <span class="hljs-string">'thumb'</span>)}</span>"</span>)


<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•ç¯å¢ƒ(å¦‚æœéœ€è¦æµ‹è¯•)</span>
    <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªinput_imagesç›®å½•åŒ…å«å¾…å¤„ç†å›¾ç‰‡</span>
    
    processor = ImageProcessor(
        input_dir=<span class="hljs-string">"input_images"</span>,      <span class="hljs-comment"># è¾“å…¥ç›®å½•</span>
        output_dir=<span class="hljs-string">"output_images"</span>,    <span class="hljs-comment"># è¾“å‡ºç›®å½•</span>
        watermark_text=<span class="hljs-string">"MyShopÂ©"</span>       <span class="hljs-comment"># æ°´å°æ–‡å­—</span>
    )
    
    <span class="hljs-comment"># å¼€å§‹æ‰¹é‡å¤„ç†</span>
    processor.process_all()
</code></pre>
<h3 data-id="heading-17">è¿è¡Œè¯´æ˜</h3>
<ol>
<li>
<p><strong>å‡†å¤‡å·¥ä½œ</strong>:</p>
<ul>
<li>åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º<code>input_images</code>æ–‡ä»¶å¤¹</li>
<li>æ”¾å…¥ä¸€äº›å¾…å¤„ç†çš„å›¾ç‰‡(æ”¯æŒJPGã€PNGã€BMPã€GIFæ ¼å¼)</li>
</ul>
</li>
<li>
<p><strong>è¿è¡Œç¨‹åº</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">python image_processor.py
</code></pre>
</li>
<li>
<p><strong>è¾“å‡ºç»“æœ</strong>:</p>
<ul>
<li>ç¨‹åºä¼šåœ¨<code>output_images</code>ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªå­ç›®å½•:
<ul>
<li><code>main/</code>: å­˜æ”¾800x800çš„ä¸»å›¾,å¸¦æ°´å°</li>
<li><code>thumb/</code>: å­˜æ”¾200x200çš„ç¼©ç•¥å›¾</li>
</ul>
</li>
<li>æ§åˆ¶å°è¾“å‡ºè¯¦ç»†çš„å¤„ç†æŠ¥å‘Š</li>
</ul>
</li>
</ol>
<h3 data-id="heading-18">ç»“æœå±•ç¤º</h3>
<p>ç¨‹åºè¿è¡Œå,ä½ å°†çœ‹åˆ°ç±»ä¼¼çš„è¾“å‡º:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">å¼€å§‹å¤„ç† 15 å¼ å›¾ç‰‡...
------------------------------------------------------------</span>
[1/15] å¤„ç†: product1.jpg âœ“
[2/15] å¤„ç†: product2.png âœ“
[3/15] å¤„ç†: product3.jpg âœ“
<span class="hljs-section">...
------------------------------------------------------------</span>
å¤„ç†å®Œæˆ! æˆåŠŸ: 14/15

============================================================
<span class="hljs-section">å¤„ç†æŠ¥å‘Š
============================================================</span>

æˆåŠŸå¤„ç†: 14 å¼ 
ä¸»å›¾æ€»å¤§å°: 845.32 KB (å¹³å‡ 60.38 KB)
ç¼©ç•¥å›¾æ€»å¤§å°: 128.76 KB (å¹³å‡ 9.20 KB)
æ€»è¾“å‡ºå¤§å°: 974.08 KB

<span class="hljs-section">å¤„ç†è¯¦æƒ…(å‰10å¼ ):
------------------------------------------------------------</span>
<span class="hljs-section">æ–‡ä»¶å              åŸå§‹å°ºå¯¸      ä¸»å›¾å¤§å°(KB)   ç¼©ç•¥å›¾å¤§å°(KB)  
------------------------------------------------------------</span>
product1.jpg       (1920, 1080)  65.23          9.45           
product2.png       (1200, 800)   58.76          8.92           
product3.jpg       (800, 800)    52.34          8.15           
...

è¾“å‡ºç›®å½•:
  ä¸»å›¾: output<span class="hljs-emphasis">_images/main
  ç¼©ç•¥å›¾: output_</span>images/thumb
</code></pre>
<p>è¿™ä¸ªç»¼åˆé¡¹ç›®å±•ç¤ºäº†Pillowçš„å¤šä¸ªæ ¸å¿ƒåŠŸèƒ½:</p>
<ul>
<li><strong>æ–‡ä»¶I/O</strong>: <code>open()</code>å’Œ<code>save()</code>å¤„ç†å¤šç§æ ¼å¼</li>
<li><strong>å‡ ä½•å˜æ¢</strong>: <code>resize()</code>å’Œ<code>crop()</code>è°ƒæ•´å°ºå¯¸å’Œè£å‰ª</li>
<li><strong>å›¾åƒåˆæˆ</strong>: <code>Image.alpha_composite()</code>æ·»åŠ é€æ˜æ°´å°</li>
<li><strong>ç»˜å›¾åŠŸèƒ½</strong>: <code>ImageDraw</code>å’Œ<code>ImageFont</code>ç»˜åˆ¶æ–‡å­—</li>
<li><strong>ç¼©ç•¥å›¾ç”Ÿæˆ</strong>: <code>thumbnail()</code>ä¿æŒæ¯”ä¾‹ç¼©æ”¾</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>: ç»“åˆ<code>os</code>æ¨¡å—å®ç°è‡ªåŠ¨åŒ–</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®,ä½ å¯ä»¥çœ‹åˆ°Pillowå¦‚ä½•ä¼˜é›…åœ°å°†å¤æ‚çš„å›¾åƒå¤„ç†ä»»åŠ¡ç®€åŒ–ä¸ºæ¸…æ™°ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚</p>
<h2 data-id="heading-19">5. æœ€ä½³å®è·µä¸å¸¸è§é™·é˜±</h2>
<p>åœ¨ä½¿ç”¨Pillowè¿›è¡Œå›¾åƒå¤„ç†æ—¶,æŒæ¡ä¸€äº›æœ€ä½³å®è·µå’Œé¿å…å¸¸è§é™·é˜±å¯ä»¥è®©ä½ çš„ä»£ç æ›´é«˜æ•ˆã€æ›´å¯é ã€‚</p>
<h3 data-id="heading-20">5.1 å¸¸è§é”™è¯¯åŠè§„é¿æ–¹æ³•</h3>
<h4 data-id="heading-21">é”™è¯¯1:å¿˜è®°å…³é—­æ–‡ä»¶æˆ–å†…å­˜æ³„æ¼</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ é”™è¯¯åšæ³• - æ–‡ä»¶æœªå…³é—­</span>
<span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">'images'</span>):
    img = Image.<span class="hljs-built_in">open</span>(os.path.join(<span class="hljs-string">'images'</span>, filename))
    process(img)  <span class="hljs-comment"># å¤„ç†å›¾åƒ</span>
    <span class="hljs-comment"># æ–‡ä»¶å¥æŸ„æœªå…³é—­,å¯èƒ½å¯¼è‡´èµ„æºæ³„æ¼</span>

<span class="hljs-comment"># âœ… æ­£ç¡®åšæ³• - ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨</span>
<span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">'images'</span>):
    filepath = os.path.join(<span class="hljs-string">'images'</span>, filename)
    <span class="hljs-keyword">with</span> Image.<span class="hljs-built_in">open</span>(filepath) <span class="hljs-keyword">as</span> img:
        process(img)  <span class="hljs-comment"># è‡ªåŠ¨å…³é—­æ–‡ä»¶</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: è™½ç„¶<code>Image.open()</code>çš„æ–‡ä»¶å¥æŸ„ä¼šåœ¨Imageå¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶è‡ªåŠ¨å…³é—­,ä½†åœ¨æ‰¹é‡å¤„ç†å¤§æ–‡ä»¶æ—¶,æœ€å¥½æ˜¾å¼ä½¿ç”¨<code>with</code>è¯­å¥æˆ–è°ƒç”¨<code>img.close()</code>æ¥åŠæ—¶é‡Šæ”¾èµ„æºã€‚</p>
<h4 data-id="heading-22">é”™è¯¯2:ç›´æ¥ä¿®æ”¹åŸå›¾å¯¹è±¡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ é”™è¯¯åšæ³• - å¯èƒ½æ„å¤–ä¿®æ”¹åŸå›¾</span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'original.jpg'</span>)
img.resize((<span class="hljs-number">400</span>, <span class="hljs-number">300</span>))  <span class="hljs-comment"># è¿”å›æ–°å¯¹è±¡,ä½†æœªèµ‹å€¼!</span>
img.save(<span class="hljs-string">'resized.jpg'</span>)  <span class="hljs-comment"># ä¿å­˜çš„è¿˜æ˜¯åŸå›¾</span>

<span class="hljs-comment"># âœ… æ­£ç¡®åšæ³• - èµ‹å€¼è¿”å›çš„æ–°å¯¹è±¡</span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'original.jpg'</span>)
img_resized = img.resize((<span class="hljs-number">400</span>, <span class="hljs-number">300</span>))
img_resized.save(<span class="hljs-string">'resized.jpg'</span>)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: Pillowçš„å¤§éƒ¨åˆ†æ“ä½œæ–¹æ³•(å¦‚<code>resize()</code>, <code>rotate()</code>, <code>crop()</code>)éƒ½è¿”å›æ–°çš„Imageå¯¹è±¡,è€Œä¸æ˜¯åŸåœ°ä¿®æ”¹ã€‚å¦‚æœä¸èµ‹å€¼,æ“ä½œå°±æ— æ•ˆäº†ã€‚</p>
<h4 data-id="heading-23">é”™è¯¯3:å¿½ç•¥å›¾åƒæ¨¡å¼ä¸åŒ¹é…</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ é”™è¯¯åšæ³• - ç›´æ¥ç²˜è´´ä¸åŒæ¨¡å¼çš„å›¾ç‰‡</span>
img_rgb = Image.new(<span class="hljs-string">'RGB'</span>, (<span class="hljs-number">400</span>, <span class="hljs-number">300</span>), <span class="hljs-string">'red'</span>)
img_rgba = Image.new(<span class="hljs-string">'RGBA'</span>, (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">128</span>))
img_rgb.paste(img_rgba, (<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))  <span class="hljs-comment"># å¯èƒ½å‡ºé”™æˆ–æ•ˆæœä¸ç¬¦åˆé¢„æœŸ</span>

<span class="hljs-comment"># âœ… æ­£ç¡®åšæ³• - å…ˆè½¬æ¢æ¨¡å¼</span>
img_rgb = Image.new(<span class="hljs-string">'RGB'</span>, (<span class="hljs-number">400</span>, <span class="hljs-number">300</span>), <span class="hljs-string">'red'</span>)
img_rgba = Image.new(<span class="hljs-string">'RGBA'</span>, (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">128</span>))

<span class="hljs-comment"># æ–¹æ³•1: å°†RGBAè½¬RGB</span>
img_rgb_to_paste = img_rgba.convert(<span class="hljs-string">'RGB'</span>)
img_rgb.paste(img_rgb_to_paste, (<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))

<span class="hljs-comment"># æ–¹æ³•2: ä½¿ç”¨è’™ç‰ˆä¿æŒé€æ˜åº¦</span>
img_rgb.paste(img_rgba, (<span class="hljs-number">50</span>, <span class="hljs-number">50</span>), img_rgba.split()[<span class="hljs-number">3</span>])  <span class="hljs-comment"># ä½¿ç”¨alphaé€šé“ä½œä¸ºè’™ç‰ˆ</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: ä¸åŒæ¨¡å¼çš„å›¾åƒä¸èƒ½ç›´æ¥ç²˜è´´ã€‚è¦ä¹ˆè½¬æ¢æ¨¡å¼,è¦ä¹ˆä½¿ç”¨è’™ç‰ˆæ¥å¤„ç†é€æ˜é€šé“ã€‚</p>
<h3 data-id="heading-24">5.2 æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-25">å®è·µ1:é€‰æ‹©åˆé€‚çš„é‡é‡‡æ ·ç®—æ³•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¼©å°å›¾åƒ - ä½¿ç”¨LANCZOS</span>
small_img = large_img.resize((<span class="hljs-number">400</span>, <span class="hljs-number">300</span>), Image.Resampling.LANCZOS)

<span class="hljs-comment"># æ”¾å¤§å›¾åƒ - ä½¿ç”¨BICUBIC</span>
large_img = small_img.resize((<span class="hljs-number">800</span>, <span class="hljs-number">600</span>), Image.Resampling.BICUBIC)

<span class="hljs-comment"># å¿«é€Ÿå¤„ç†(è´¨é‡è¦æ±‚ä¸é«˜æ—¶) - ä½¿ç”¨NEAREST</span>
thumbnail = img.resize((<span class="hljs-number">100</span>, <span class="hljs-number">100</span>), Image.Resampling.NEAREST)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: ä¸åŒçš„é‡é‡‡æ ·ç®—æ³•åœ¨è´¨é‡å’Œé€Ÿåº¦ä¸Šæœ‰å·®å¼‚:</p>
<ul>
<li><code>LANCZOS</code>: æœ€ä½³è´¨é‡,é€‚åˆç¼©å°å›¾åƒ</li>
<li><code>BICUBIC</code>: å¹³è¡¡,é€‚åˆæ”¾å¤§å›¾åƒ</li>
<li><code>NEAREST</code>: æœ€å¿«,ä½†ä¼šäº§ç”Ÿé”¯é½¿</li>
</ul>
<h4 data-id="heading-26">å®è·µ2:ä¼˜åŒ–JPEGä¿å­˜è´¨é‡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç½‘é¡µç”¨å›¾ç‰‡ - å¹³è¡¡è´¨é‡å’Œå¤§å°</span>
img.save(<span class="hljs-string">'web.jpg'</span>, <span class="hljs-string">'JPEG'</span>, quality=<span class="hljs-number">85</span>, optimize=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># å­˜æ¡£å›¾ç‰‡ - æœ€é«˜è´¨é‡</span>
img.save(<span class="hljs-string">'archive.jpg'</span>, <span class="hljs-string">'JPEG'</span>, quality=<span class="hljs-number">95</span>, progressive=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># ç¼©ç•¥å›¾ - æ›´å°æ–‡ä»¶</span>
img.save(<span class="hljs-string">'thumb.jpg'</span>, <span class="hljs-string">'JPEG'</span>, quality=<span class="hljs-number">70</span>, optimize=<span class="hljs-literal">True</span>)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>:</p>
<ul>
<li><code>quality</code>: 1-95,å€¼è¶Šå¤§è´¨é‡è¶Šå¥½ä½†æ–‡ä»¶è¶Šå¤§</li>
<li><code>optimize=True</code>: å¯ç”¨é¢å¤–ä¼˜åŒ–,å‡å°æ–‡ä»¶ä½“ç§¯</li>
<li><code>progressive=True</code>: æ¸è¿›å¼JPEG,åŠ è½½æ—¶å…ˆæ˜¾ç¤ºä½è´¨é‡é¢„è§ˆ</li>
</ul>
<h4 data-id="heading-27">å®è·µ3:å¤„ç†å¤§å›¾åƒæ—¶çš„å†…å­˜ä¼˜åŒ–</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ é”™è¯¯åšæ³• - åŠ è½½è¶…å¤§å›¾åƒåˆ°å†…å­˜</span>
huge_img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'huge.tif'</span>)  <span class="hljs-comment"># å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡º</span>

<span class="hljs-comment"># âœ… æ­£ç¡®åšæ³• - ä½¿ç”¨æ‡’åŠ è½½å’Œåˆ†å—å¤„ç†</span>
<span class="hljs-comment"># Pillowé»˜è®¤ä½¿ç”¨æ‡’åŠ è½½,åªæœ‰åœ¨éœ€è¦æ—¶æ‰è¯»å–åƒç´ </span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'huge.tif'</span>)
<span class="hljs-built_in">print</span>(img.size)  <span class="hljs-comment"># å¿«é€Ÿè·å–å°ºå¯¸,ä¸åŠ è½½å®Œæ•´å›¾åƒ</span>

<span class="hljs-comment"># åˆ†å—å¤„ç†å¤§å›¾åƒ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_in_chunks</span>(<span class="hljs-params">img_path, chunk_size=<span class="hljs-number">1000</span></span>):
    img = Image.<span class="hljs-built_in">open</span>(img_path)
    width, height = img.size
    
    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, height, chunk_size):
        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, width, chunk_size):
            box = (x, y, <span class="hljs-built_in">min</span>(x+chunk_size, width), <span class="hljs-built_in">min</span>(y+chunk_size, height))
            chunk = img.crop(box)
            process_chunk(chunk)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: å¤„ç†å¤§å›¾åƒ(å¦‚5000x5000ä»¥ä¸Šçš„TIFF)æ—¶,ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜å¯èƒ½è¶…å‡ºå¯ç”¨å†…å­˜ã€‚åˆ©ç”¨Pillowçš„æ‡’åŠ è½½ç‰¹æ€§å’Œåˆ†å—å¤„ç†å¯ä»¥æœ‰æ•ˆé™ä½å†…å­˜ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-28">å®è·µ4:æ‰¹é‡å¤„ç†æ—¶ä½¿ç”¨å¤šçº¿ç¨‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor

<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_single_image</span>(<span class="hljs-params">filepath</span>):
    <span class="hljs-keyword">with</span> Image.<span class="hljs-built_in">open</span>(filepath) <span class="hljs-keyword">as</span> img:
        <span class="hljs-comment"># å¤„ç†å›¾åƒ</span>
        processed = img.resize((<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))
        processed.save(filepath.replace(<span class="hljs-string">'.jpg'</span>, <span class="hljs-string">'_processed.jpg'</span>))
        <span class="hljs-keyword">return</span> filepath

<span class="hljs-comment"># å¤šçº¿ç¨‹æ‰¹é‡å¤„ç†</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_process</span>(<span class="hljs-params">image_dir, max_workers=<span class="hljs-number">4</span></span>):
    filepaths = [
        os.path.join(image_dir, f) 
        <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> os.listdir(image_dir) 
        <span class="hljs-keyword">if</span> f.endswith(<span class="hljs-string">'.jpg'</span>)
    ]
    
    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=max_workers) <span class="hljs-keyword">as</span> executor:
        results = <span class="hljs-built_in">list</span>(executor.<span class="hljs-built_in">map</span>(process_single_image, filepaths))
    
    <span class="hljs-keyword">return</span> results
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: I/Oå¯†é›†å‹ä»»åŠ¡(å¦‚æ–‡ä»¶è¯»å†™)å’ŒCPUå¯†é›†å‹ä»»åŠ¡(å¦‚å›¾åƒå¤„ç†)å¯ä»¥å¹¶è¡ŒåŒ–,æ˜¾è‘—æå‡æ‰¹é‡å¤„ç†é€Ÿåº¦ã€‚<code>ThreadPoolExecutor</code>æä¾›äº†ç®€æ´çš„å¤šçº¿ç¨‹æ¥å£ã€‚</p>
<h4 data-id="heading-29">å®è·µ5:æ­£ç¡®å¤„ç†é¢œè‰²ç©ºé—´è½¬æ¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ˜¾ç¤ºç”¨å›¾ç‰‡ - è½¬æ¢ä¸ºsRGB</span>
img_display = img.convert(<span class="hljs-string">'RGB'</span>)
img_display.save(<span class="hljs-string">'display.jpg'</span>)

<span class="hljs-comment"># å°åˆ·ç”¨å›¾ç‰‡ - è½¬æ¢ä¸ºCMYK</span>
img_print = img.convert(<span class="hljs-string">'CMYK'</span>)
img_print.save(<span class="hljs-string">'print.jpg'</span>)

<span class="hljs-comment"># å¤„ç†ç”¨å›¾ç‰‡ - å…ˆè½¬æ¢ä¸ºLABè‰²å½©ç©ºé—´</span>
img_lab = img.convert(<span class="hljs-string">'LAB'</span>)
<span class="hljs-comment"># åœ¨LABç©ºé—´è¿›è¡Œäº®åº¦ã€å¯¹æ¯”åº¦è°ƒæ•´...</span>
img_result = img_lab.convert(<span class="hljs-string">'RGB'</span>)  <span class="hljs-comment"># è½¬å›RGBä¿å­˜</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>: ä¸åŒç”¨é€”éœ€è¦ä¸åŒçš„é¢œè‰²ç©ºé—´:</p>
<ul>
<li>RGB: å±å¹•æ˜¾ç¤º,ç½‘é¡µ</li>
<li>CMYK: å°åˆ·å“</li>
<li>LAB: è‰²å½©ç§‘å­¦,å›¾åƒå¤„ç†(äº®åº¦ä¸è‰²åº¦åˆ†ç¦»)</li>
</ul>
<h3 data-id="heading-30">5.3 æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>DecompressionBombWarning</strong>: æ‰“å¼€éå¸¸å¤§çš„å›¾åƒæ—¶,Pillowä¼šå‘å‡ºè­¦å‘Šã€‚å¦‚æœç¡®å®éœ€è¦å¤„ç†,å¯ä»¥å…ˆ<code>Image.MAX_IMAGE_PIXELS = None</code>å…³é—­é™åˆ¶,ä½†è¦å°å¿ƒå†…å­˜æº¢å‡ºã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶æ‰©å±•åä¸ä¸€å®šå‡†ç¡®</strong>: <code>Image.open()</code>æ ¹æ®æ–‡ä»¶å†…å®¹è¯†åˆ«æ ¼å¼,è€Œä¸æ˜¯æ‰©å±•åã€‚æ‰€ä»¥<code>Image.open('photo.png')</code>å¯èƒ½å®é™…æ‰“å¼€çš„æ˜¯JPEGæ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>GIFåŠ¨ç”»å¤„ç†</strong>: Pillowå¯ä»¥è¯»å–GIFåŠ¨ç”»,ä½†åªèƒ½ä¿å­˜å•å¸§æˆ–åˆ›å»ºæ–°åŠ¨ç”»ã€‚å¤„ç†å¤šå¸§GIFéœ€è¦éå†<code>seek()</code>æ–¹æ³•ã€‚</p>
</li>
<li>
<p><strong>å­—ä½“ä¾èµ–</strong>: <code>ImageFont</code>ä½¿ç”¨ç³»ç»Ÿå­—ä½“,ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå¯èƒ½ä¸ä¸€è‡´ã€‚æ‰“åŒ…å­—ä½“æ–‡ä»¶åˆ°é¡¹ç›®ä¸­å¯ä»¥ç¡®ä¿è·¨å¹³å°ä¸€è‡´æ€§ã€‚</p>
</li>
<li>
<p><strong>é€æ˜åº¦å¤„ç†</strong>: PNGçš„é€æ˜åº¦åœ¨è½¬æ¢ä¸ºJPEGæ—¶ä¼šè¢«ä¸¢å¼ƒ,å› ä¸ºJPEGä¸æ”¯æŒé€æ˜é€šé“ã€‚éœ€è¦å…ˆç”¨<code>convert('RGB')</code>å»é™¤alphaé€šé“ã€‚</p>
</li>
</ol>
<p>æŒæ¡è¿™äº›æœ€ä½³å®è·µå’Œé™·é˜±,ä½ çš„Pillowä»£ç å°†æ›´åŠ å¥å£®ã€é«˜æ•ˆå’Œä¸“ä¸šã€‚</p>
<h2 data-id="heading-31">6. è¿›é˜¶æŒ‡å¼•</h2>
<p>å½“ä½ æŒæ¡äº†Pillowçš„åŸºç¡€åŠŸèƒ½å,è¿˜æœ‰æ›´å¤šé«˜çº§ç‰¹æ€§å’Œç”Ÿæ€å·¥å…·å€¼å¾—æ¢ç´¢,è¿™å°†æå¤§æ‰©å±•ä½ çš„å›¾åƒå¤„ç†èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-32">6.1 é«˜çº§åŠŸèƒ½</h3>
<h4 data-id="heading-33">åƒç´ çº§æ“ä½œä¸NumPyé›†æˆ</h4>
<p>Pillowå¯ä»¥ä¸NumPyæ— ç¼åä½œ,è¿™å¯¹ç§‘å­¦è®¡ç®—å’Œå›¾åƒç®—æ³•å¼€å‘éå¸¸é‡è¦:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

<span class="hljs-comment"># Pillowå›¾åƒè½¬NumPyæ•°ç»„</span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'photo.jpg'</span>)
arr = np.array(img)  <span class="hljs-comment"># å½¢çŠ¶: (height, width, channels)</span>

<span class="hljs-comment"># ä½¿ç”¨NumPyè¿›è¡Œæ‰¹é‡åƒç´ æ“ä½œ</span>
inverted_arr = <span class="hljs-number">255</span> - arr  <span class="hljs-comment"># åè½¬æ‰€æœ‰åƒç´ </span>
arr[:,:,<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>  <span class="hljs-comment"># å°†çº¢è‰²é€šé“è®¾ä¸º0</span>

<span class="hljs-comment"># NumPyæ•°ç»„è½¬å›Pillowå›¾åƒ</span>
img_processed = Image.fromarray(arr)
img_processed.save(<span class="hljs-string">'numpy_processed.jpg'</span>)
</code></pre>
<p>è¿™ç§é›†æˆä½¿å¾—Pillowæˆä¸ºè¿æ¥Pythonç§‘å­¦è®¡ç®—ç”Ÿæ€å’Œå›¾åƒå¤„ç†çš„æ¡¥æ¢,ä½ å¯ä»¥åˆ©ç”¨NumPyçš„å‘é‡åŒ–è¿ç®—åŠ é€Ÿå›¾åƒå¤„ç†ã€‚</p>
<h4 data-id="heading-34">è‡ªå®šä¹‰æ»¤é•œä¸å›¾åƒç®—æ³•</h4>
<p>Pillowæ”¯æŒåˆ›å»ºè‡ªå®šä¹‰æ»¤é•œ:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> ImageFilter

<span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰é”åŒ–æ»¤é•œ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharpenFilter</span>(ImageFilter.BuiltinFilter):
    name = <span class="hljs-string">"Sharpen"</span>
    
    <span class="hljs-comment"># 3x3å·ç§¯æ ¸</span>
    filterargs = (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), (
        <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>,  <span class="hljs-number">0</span>,
       -<span class="hljs-number">1</span>,  <span class="hljs-number">5</span>, -<span class="hljs-number">1</span>,
        <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>,  <span class="hljs-number">0</span>
    ), <span class="hljs-number">1.0</span>, <span class="hljs-number">0</span>

<span class="hljs-comment"># åº”ç”¨è‡ªå®šä¹‰æ»¤é•œ</span>
img = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'blur.jpg'</span>)
sharpened = img.<span class="hljs-built_in">filter</span>(SharpenFilter())
sharpened.save(<span class="hljs-string">'sharpened.jpg'</span>)
</code></pre>
<p>ä½ å¯ä»¥è®¾è®¡å„ç§å·ç§¯æ ¸å®ç°è¾¹ç¼˜æ£€æµ‹ã€æµ®é›•ã€é”åŒ–ç­‰æ•ˆæœã€‚</p>
<h4 data-id="heading-35">é«˜çº§å›¾åƒåˆæˆ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image, ImageDraw, ImageFont

<span class="hljs-comment"># åˆ›å»ºå¤æ‚çš„åˆæˆå›¾åƒ</span>
bg = Image.new(<span class="hljs-string">'RGBA'</span>, (<span class="hljs-number">800</span>, <span class="hljs-number">600</span>), (<span class="hljs-number">240</span>, <span class="hljs-number">248</span>, <span class="hljs-number">255</span>))
fg = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'logo.png'</span>).convert(<span class="hljs-string">'RGBA'</span>)

<span class="hljs-comment"># è°ƒæ•´é€æ˜åº¦</span>
fg_alpha = fg.copy()
alpha = fg_alpha.split()[<span class="hljs-number">3</span>]
alpha = alpha.point(<span class="hljs-keyword">lambda</span> p: p * <span class="hljs-number">0.7</span>)  <span class="hljs-comment"># 70%é€æ˜åº¦</span>
fg_alpha.putalpha(alpha)

<span class="hljs-comment"># å±…ä¸­ç²˜è´´</span>
x = (bg.width - fg.width) // <span class="hljs-number">2</span>
y = (bg.height - fg.height) // <span class="hljs-number">2</span>
bg.paste(fg_alpha, (x, y), fg_alpha)

<span class="hljs-comment"># æ·»åŠ æ–‡å­—</span>
draw = ImageDraw.Draw(bg)
draw.text((<span class="hljs-number">20</span>, <span class="hljs-number">20</span>), <span class="hljs-string">"Professional Design"</span>, fill=(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">80</span>))
bg.save(<span class="hljs-string">'composite.png'</span>)
</code></pre>
<h3 data-id="heading-36">6.2 ç”Ÿæ€æ‰©å±•</h3>
<p>Pillowæ˜¯Pythonå›¾åƒå¤„ç†ç”Ÿæ€çš„æ ¸å¿ƒç»„ä»¶,ä¸å…¶ä»–åº“é…åˆå¯ä»¥æ„å»ºå¼ºå¤§çš„åº”ç”¨:</p>






























<table><thead><tr><th>åº“å</th><th>ç”¨é€”</th><th>é…åˆåœºæ™¯</th></tr></thead><tbody><tr><td>OpenCV</td><td>è®¡ç®—æœºè§†è§‰</td><td>è§†é¢‘å¤„ç†ã€äººè„¸è¯†åˆ«ã€ç›®æ ‡æ£€æµ‹</td></tr><tr><td>scikit-image</td><td>ç§‘å­¦å›¾åƒå¤„ç†</td><td>åŒ»å­¦å›¾åƒã€å«æ˜Ÿå›¾åƒåˆ†æ</td></tr><tr><td>matplotlib</td><td>æ•°æ®å¯è§†åŒ–</td><td>å›¾åƒæ˜¾ç¤ºã€æ•°æ®å¯è§†åŒ–</td></tr><tr><td>TensorFlow/PyTorch</td><td>æ·±åº¦å­¦ä¹ </td><td>å›¾åƒåˆ†ç±»ã€ç›®æ ‡æ£€æµ‹ã€å›¾åƒç”Ÿæˆ</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹:ä¸OpenCVäº’æ“ä½œ</strong>:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

<span class="hljs-comment"># Pillow -&gt; OpenCV</span>
img_pil = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">'photo.jpg'</span>)
img_cv = cv2.cvtColor(np.array(img_pil), cv2.COLOR_RGB2BGR)

<span class="hljs-comment"># OpenCVå¤„ç†</span>
gray = cv2.cvtColor(img_cv, cv2.COLOR_BGR2GRAY)
edges = cv2.Canny(gray, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>)

<span class="hljs-comment"># OpenCV -&gt; Pillow</span>
edges_pil = Image.fromarray(edges)
edges_pil.save(<span class="hljs-string">'edges.jpg'</span>)
</code></pre>
<h3 data-id="heading-37">6.3 å­¦ä¹ è·¯å¾„</h3>
<p><strong>åˆå­¦è€…</strong>:</p>
<ol>
<li>ç†Ÿç»ƒæŒæ¡<code>Image</code>ç±»çš„åŸºæœ¬æ–¹æ³•</li>
<li>ç†è§£å›¾åƒæ¨¡å¼å’Œåæ ‡ç³»ç»Ÿ</li>
<li>å®è·µå¸¸è§çš„å›¾åƒæ“ä½œ(ç¼©æ”¾ã€è£å‰ªã€æ—‹è½¬)</li>
<li>å‚è€ƒ:å®˜æ–¹æ–‡æ¡£çš„Tutorialç« èŠ‚</li>
</ol>
<p><strong>è¿›é˜¶å¼€å‘è€…</strong>:</p>
<ol>
<li>æ·±å…¥å­¦ä¹ <code>ImageFilter</code>å’Œ<code>ImageEnhance</code></li>
<li>æŒæ¡<code>ImageDraw</code>å’Œ<code>ImageFont</code>ç»˜å›¾</li>
<li>å­¦ä¹ æ‰¹é‡å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–</li>
<li>å‚è€ƒ:å®˜æ–¹æ–‡æ¡£çš„Handbookç« èŠ‚</li>
</ol>
<p><strong>é«˜çº§ç”¨æˆ·</strong>:</p>
<ol>
<li>æ¢ç´¢ä¸NumPyã€OpenCVçš„é›†æˆ</li>
<li>å­¦ä¹ è‡ªå®šä¹‰æ»¤é•œå’Œå›¾åƒç®—æ³•</li>
<li>ç ”ç©¶æºç ç†è§£åº•å±‚å®ç°</li>
<li>å‚è€ƒ:GitHubä¸Šçš„Pillowæºç å’ŒIssueè®¨è®º</li>
</ol>
<h3 data-id="heading-38">6.4 å­¦ä¹ èµ„æº</h3>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fpillow.readthedocs.io%2F" target="_blank" title="https://pillow.readthedocs.io/" ref="nofollow noopener noreferrer">pillow.readthedocs.io/</a> (æœ€æƒå¨çš„å‚è€ƒèµ„æ–™)</li>
<li><strong>GitHubä»“åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow" target="_blank" title="https://github.com/python-pillow/Pillow" ref="nofollow noopener noreferrer">github.com/python-pillâ€¦</a> (æºç ã€Issueã€PR)</li>
<li><strong>Stack Overflow</strong>: æœç´¢[pillow]æ ‡ç­¾è·å–ç¤¾åŒºè§£å†³æ–¹æ¡ˆ</li>
<li><strong>Real Python</strong>: æœ‰å¤šç¯‡Pillowæ•™ç¨‹,é€‚åˆå®æˆ˜å­¦ä¹ </li>
</ul>
<p>Pillowçš„ä¸–ç•Œè¿œæ¯”è¿™ç¯‡æ–‡æ¡£ä»‹ç»çš„è¦å¹¿é˜”ã€‚éšç€ä½ æ¢ç´¢çš„æ·±å…¥,ä½ ä¼šå‘ç°å®ƒä¸ä»…æ˜¯å›¾åƒå¤„ç†çš„å·¥å…·,æ›´æ˜¯è¿æ¥åˆ›æ„ä¸æŠ€æœ¯çš„æ¡¥æ¢ã€‚æ— è®ºæ˜¯æ„å»ºä¸“ä¸šå›¾åƒå¤„ç†åº”ç”¨,è¿˜æ˜¯å®ç°åˆ›æ„å¯è§†åŒ–,Pillowéƒ½èƒ½æˆä¸ºä½ å¯é çš„ä¼™ä¼´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠèŠç´¢å¼•ï¼šä¸ºä½• B + æ ‘èƒ½æ’‘èµ·æ•°æ®åº“çš„åŠå£æ±Ÿå±±ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7605888927715246118</link>    <guid>https://juejin.cn/post/7605888927715246118</guid>    <pubDate>2026-02-13T08:27:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605888927715246118" data-draft-id="7605907495770587145" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠèŠç´¢å¼•ï¼šä¸ºä½• B + æ ‘èƒ½æ’‘èµ·æ•°æ®åº“çš„åŠå£æ±Ÿå±±ï¼Ÿ"/> <meta itemprop="keywords" content="MySQL,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2026-02-13T08:27:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="chlk123"/> <meta itemprop="url" content="https://juejin.cn/user/502907612446611"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠèŠç´¢å¼•ï¼šä¸ºä½• B + æ ‘èƒ½æ’‘èµ·æ•°æ®åº“çš„åŠå£æ±Ÿå±±ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/502907612446611/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    chlk123
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:27:17.000Z" title="Fri Feb 13 2026 08:27:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦æ›¾æƒ³è¿‡ï¼Œä¸ºä½•å½“ä½ åœ¨ MySQL é‡Œæ‰§è¡Œ<code>SELECT * FROM orders WHERE user_id = 123</code>æ—¶èƒ½åœ¨ç™¾ä¸‡çº§ç”šè‡³åƒä¸‡çº§çš„æ•°æ®é‡Œç¬é—´æ‹¿åˆ°ç»“æœï¼Ÿè¿™ä¸å¾—ä¸è¯´å®ƒèƒŒåçš„åŠŸè‡£-ç´¢å¼•ï¼Œå°¤å…¶æ˜¯B+æ ‘ç´¢å¼•ã€‚å®é™…ä¸ŠB+æ ‘ç´¢å¼•æ˜¯MySQLæ•°æ®åº“ä¸­æœ€æ ¸å¿ƒçš„æ•°æ®ç»“æ„ã€‚</p>
<p>äº‹å®ä¸Šé™¤äº†MySQLï¼Œå¾ˆå¤šä¸»æµçš„å…³ç³»å‹ã€éå…³ç³»å‹æ•°æ®åº“å’Œæ•°æ®åº“ç»„ä»¶éƒ½ä½¿ç”¨äº†B+æ ‘æˆ–å…¶å˜ç§ï¼ˆå¦‚B* æ ‘ï¼‰ä½œä¸ºç´¢å¼•çš„æ ¸å¿ƒæ•°æ®ç»“æ„,åŒ…æ‹¬<strong>Microsoft SQL Server</strong>ã€<strong>IBM DB2</strong>ã€<strong>SQLite</strong>ã€<strong>Oracle</strong>(é‡‡ç”¨B+æ ‘çš„å˜ç§B* æ ‘)æ•°æ®åº“ï¼Œä»¥åŠè®¸å¤š<strong>NewSQL æ•°æ®åº“</strong>ä¹Ÿéƒ½æ˜¯åŸºäºB+æ ‘æˆ–è€…å…¶å˜ç§æ ‘ã€‚è¿™äº›é‡é‡çº§çš„æ•°æ®åº“å‡é‡‡ç”¨äº†B+æ ‘æ•°æ®ç»“æ„ï¼Œå¯è§å…¶åœ¨ç°åœ¨æ•°æ®åº“å’Œæ•°æ®å­˜å‚¨ä¸­çš„é‡è¦çš„åœ°ä½ï¼Œå¯ä»¥è¯´æ’‘èµ·äº†æ•°æ®åº“çš„åŠå£æ±Ÿå±±ä¹Ÿä¸ä¸ºè¿‡å§ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆååæ˜¯ B + æ ‘ï¼Ÿ</h2>
<p>ä¸ºä½•ååé€‰å®ƒï¼Œå’±ä»¬å…ˆä»åº•å±‚é€»è¾‘è¯´èµ·ï¼Œä¸ºå•¥ååæ˜¯ B + æ ‘ï¼Œè€Œä¸æ˜¯äºŒå‰æ ‘ã€B æ ‘æˆ–è€…å“ˆå¸Œè¡¨å‘¢ï¼Ÿ</p>
<p>å…¶å®æ—©æœŸæ•°æ®åº“ä¹Ÿè¯•è¿‡ä¸å°‘ç»“æ„ï¼Œä½†å› ä¸ºç£ç›˜ IO ä¼šä¸¥é‡æ‹‰æ…¢æ•°æ®è¯»å†™é€Ÿåº¦ã€‚ç”±äºç£ç›˜è¯»å†™å’Œå†…å­˜æ“ä½œå®Œå…¨ä¸æ˜¯ä¸€ä¸ªé‡çº§ï¼Œå†…å­˜è®¿é—®æ˜¯çº³ç§’çº§ï¼Œç£ç›˜ IO å¯æ˜¯æ¯«ç§’çº§ï¼Œå·®äº†å¥½å‡ ä¸ªæ•°é‡çº§ã€‚æ‰€ä»¥è¡¡é‡ä¸€ä¸ªç´¢å¼•ç»“æ„å¥½ä¸å¥½ï¼Œæ ¸å¿ƒæŒ‡æ ‡å°±æ˜¯<strong>èƒ½ä¸èƒ½å°½é‡å°‘åœ°è§¦å‘ç£ç›˜ IO</strong>ã€‚å¤šä¸€æ¬¡ç£ç›˜è¯»å–ï¼ŒæŸ¥è¯¢é€Ÿåº¦å°±å¯èƒ½æ…¢ä¸Šå‡ åå€ã€‚</p>
<p>æˆ‘ä»¬å…ˆä»åº•å±‚é€»è¾‘çœ‹çœ‹ï¼Œä¸ºä»€ä¹ˆäºŒå‰æ ‘ã€B æ ‘æˆ–è€…å“ˆå¸Œè¡¨ä¸é€‚åˆä½œä¸ºæ•°æ®åº“çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Ÿ
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7602820874852368435/image/generate_image_de0e849b-f5f9-4b05-ba10-a196e1d45ff4.jpeg?sign=1802320064-e7fc6db701-0-0827e33b18c380ba13685348aa2a737fb02123c14aa6bc3d6c461669e22944f5" alt="" loading="lazy"/></p>
<p>é¦–å…ˆè¯´è¯´ä¼ ç»Ÿçš„<strong>äºŒå‰æœç´¢æ ‘</strong>ï¼ŒäºŒå‰æœç´¢æ ‘é€»è¾‘ç®€å•ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜ä¸€ä¸ªé”®å€¼ã€æŒ‚ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œä½†æ•°æ®é‡ä¸€å¤§å°±å®¹æ˜“é€€åŒ–æˆé“¾è¡¨ï¼Œæ ‘é«˜ç›´æ¥çº¿æ€§å¢é•¿ï¼Œæ•°æ®é‡ä¸€å¤§æ ‘å°±ä¼šå˜å¾—ææ·±ï¼ŒæŸ¥ä¸ªæ•°æ®è¦å‡ åæ¬¡ IOã€‚ ä¾‹å¦‚ä¸€äº¿æ¡æ•°æ®çš„è¯ï¼Œæ ‘é«˜èƒ½åˆ° 27 å±‚ï¼ŒæŸ¥ä¸€æ¡è®°å½•å°±å¾—è¯» 27 æ¬¡ç£ç›˜ã€‚<strong>çº¢é»‘æ ‘</strong>è™½ç„¶æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè§£å†³äº†æ ‘å€¾æ–œçš„é—®é¢˜ï¼Œä½†æœ¬è´¨è¿˜æ˜¯äºŒå‰ç»“æ„ï¼Œæ ‘é«˜é™ä¸ä¸‹æ¥ï¼Œç£ç›˜ I/O æ¬¡æ•°è¿˜æ˜¯å¤šã€‚</p>
<p><strong>å“ˆå¸Œè¡¨</strong>åšç´¢å¼•å€’æ˜¯å¿«ï¼Œå¯æ˜¯å®ƒåªæ”¯æŒç­‰å€¼æŸ¥è¯¢ï¼Œé‡åˆ°<code>BETWEEN</code>æˆ–è€…<code>ORDER BY</code>è¿™ç§èŒƒå›´éœ€æ±‚ç›´æ¥å°±æ­‡èœäº†ï¼Œæ€»ä¸èƒ½æŠŠæ‰€æœ‰å“ˆå¸Œæ¡¶éƒ½æ‰«ä¸€éå§ï¼Œè¿™æ ·æ€§èƒ½è‚¯å®šå°±ä½äº†ã€‚</p>
<p><strong>B æ ‘</strong> å°½ç®¡æ˜¯å¤šè·¯å¹³è¡¡æ ‘ï¼Œä½†å®ƒçš„éå¶å­èŠ‚ç‚¹ä¹Ÿå­˜æ•°æ®ï¼Œå¯¼è‡´æ¯ä¸ªèŠ‚ç‚¹èƒ½æ”¾çš„é”®å€¼æ•°é‡æœ‰é™ï¼Œæ ‘é«˜é™ä¸ä¸‹æ¥ï¼ŒèŒƒå›´æŸ¥è¯¢è¿˜è¦æ¥å›å›æº¯çˆ¶èŠ‚ç‚¹ï¼Œæ•ˆç‡å¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>è€Œ B + æ ‘å°±åˆšå¥½è¸©ä¸­äº†æ‰€æœ‰ç—›ç‚¹ï¼šå®ƒæ˜¯<strong>å¹³è¡¡å¤šè·¯æœç´¢æ ‘</strong>ï¼Œå•ä¸ªèŠ‚ç‚¹èƒ½å­˜æˆç™¾ä¸Šåƒä¸ªé”®å€¼ï¼Œæ ‘é«˜è¢«å‹å¾—æä½ â€”â€” ä¸€äº¿æ¡æ•°æ®çš„ B + æ ‘ï¼Œæ ‘é«˜é€šå¸¸åªæœ‰ 3 åˆ° 4 å±‚ï¼ŒæŸ¥ä¸€æ¡è®°å½•æœ€å¤šåªéœ€è¦ 3 åˆ° 4 æ¬¡ç£ç›˜ I/Oï¼Œè¿™å°±æå¤§çš„æé«˜äº†æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ã€‚</p>
<h2 data-id="heading-1">B + æ ‘è‡´èƒœçš„æ ¸å¿ƒç‰¹ç‚¹</h2>
<p>B+ æ ‘ç»“æ„èƒ½ä»ä¸€ä¼—æ•°æ®ç»“æ„ä¸­èƒœå‡ºåœ¨äºå…¶ä¸¤ä¸ªæ ¸å¿ƒç‰¹ç‚¹ã€‚</p>
<h3 data-id="heading-2">1. å¤šè·¯å¹³è¡¡ç»“æ„ï¼ŒæŠŠæ ‘é«˜å‹åˆ°æè‡´</h3>
<p>B + æ ‘çš„æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹ï¼ˆéå¶å­èŠ‚ç‚¹ï¼‰ä¸å­˜å®é™…æ•°æ®ï¼Œåªå­˜ç´¢å¼•é”®å€¼å’ŒæŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿™å°±æ„å‘³ç€å•ä¸ªèŠ‚ç‚¹èƒ½å¡ä¸‹æ›´å¤šçš„é”®å€¼ï¼Œè¿™å°±æŠŠèŠ‚ç‚¹çš„ç©ºé—´åˆ©ç”¨ç‡æ‹‰åˆ°äº†æœ€å¤§ã€‚
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7602820874852368435/image/generate_image_e0362b0f-a29c-44a2-9664-b4ba257cd222.jpeg?sign=1802316665-19d3cd3b78-0-80ab29074b1725872f6fd63508cbbbecfe8027d06d0b3d1c6040d8f2f6b13b8b" alt="" loading="lazy"/>
æ¯”å¦‚ InnoDB çš„é»˜è®¤é¡µå¤§å°æ˜¯ 16KB ï¼Œè®¾æˆå’Œç£ç›˜é¡µä¸€æ ·ï¼Œè¿™æ ·æ¯æ¬¡ IO å°±èƒ½å®Œæ•´è¯»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸ä¼šæµªè´¹å¸¦å®½ã€‚ä¸€ä¸ª int ç±»å‹çš„é”®å€¼åŠ æŒ‡é’ˆå¤§æ¦‚å  12 å­—èŠ‚ï¼Œé‚£ä¸€ä¸ªéå¶å­èŠ‚ç‚¹å°±èƒ½å­˜ä¸Šåƒä¸ªé”®å€¼ã€‚è¿™ç§é«˜æ‰‡å‡ºçš„è®¾è®¡ï¼Œç›´æ¥æŠŠæ ‘é«˜ç»™å‹ä¸‹æ¥äº†ï¼Œæ ‘é«˜åªè¦ 3 å±‚å°±èƒ½å­˜ä¸‹è¿‘äº¿æ¡æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå“ªæ€•ä½ æŸ¥çš„æ˜¯ç¬¬ 1000 ä¸‡æ¡æ•°æ®ï¼Œæœ€å¤šä¹Ÿå°± 3 æ¬¡ IOï¼Œå¯¹åº”çš„å°±æ˜¯ 3  æ¬¡ç£ç›˜è¯»å–ï¼Œè¿™æ¯”äºŒå‰æ ‘çš„ 27 æ¬¡ I/Oï¼Œæ•ˆç‡æå‡äº†å¥½å‡ å€ã€‚
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7602820874852368435/image/generate_image_733a1726-7c67-4e28-96d7-781c50c5ce74.jpeg?sign=1802316654-5518be2b35-0-a57e1359f0799ef3d8793856a7bd3f06814779c254f650df2d5cc85f6a697caa" alt="image" loading="lazy"/></p>
<h3 data-id="heading-3">2. å¶å­èŠ‚ç‚¹åŒå‘é“¾è¡¨åŒ–ï¼šèŒƒå›´æŸ¥è¯¢æ•ˆç‡æ‹‰æ»¡</h3>
<p>B + æ ‘çš„å¦ä¸€ä¸ªå…³é”®ç‰¹ç‚¹æ˜¯ï¼Œ<strong>æ‰€æœ‰å®é™…æ•°æ®éƒ½åªå­˜åœ¨å¶å­èŠ‚ç‚¹é‡Œï¼Œè€Œä¸”å¶å­èŠ‚ç‚¹ä¹‹é—´ç”¨åŒå‘é“¾è¡¨ä¸²èµ·æ¥è¿æˆäº†æœ‰åºé“¾è¡¨ï¼Œè¿˜æŒ‰é”®å€¼å¤§å°æ’å¥½äº†åº</strong>ã€‚è¿™ä¸ªè®¾è®¡ç›´æ¥æŠŠèŒƒå›´æŸ¥è¯¢çš„æ•ˆç‡æ‹‰æ»¡äº†ï¼Œè¿˜é¡ºå¸¦è§£å†³äº†æ’åºé—®é¢˜ï¼Œå¶å­èŠ‚ç‚¹æœ¬èº«å°±æ˜¯æœ‰åºçš„ï¼Œ<code>ORDER BY</code>æŸ¥è¯¢ç›´æ¥æ‹¿é“¾è¡¨çš„æ•°æ®å°±è¡Œï¼Œä¸ç”¨å†é¢å¤–æ’åºï¼Œè¿<code>filesort</code>éƒ½çœäº†ã€‚</p>
<p>æ¯”å¦‚ä½ è¦æŸ¥<code>create_time BETWEEN '2025-01-01' AND '2025-01-31'</code>çš„è®¢å•ï¼Œæ™®é€šçš„ B æ ‘æˆ–è€…äºŒå‰æ ‘ï¼Œå¾—ä»æ ¹èŠ‚ç‚¹å¼€å§‹åå¤å›æº¯ï¼Œæ‰¾æ¯ä¸ªç¬¦åˆæ¡ä»¶çš„åˆ†æ”¯ï¼Œè€Œ B + æ ‘åªéœ€è¦ä»æ ¹èŠ‚ç‚¹å®šä½åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ—¶é—´æ¡ä»¶çš„å¶å­èŠ‚ç‚¹ï¼Œç„¶åæ²¿ç€é“¾è¡¨ä¸€ç›´å¾€åæ‰«å°±è¡Œäº†ï¼Œå…¨ç¨‹ä¸ç”¨å†å›ä¸Šå±‚èŠ‚ç‚¹ï¼Œå°±åƒç¿»ä¹¦ä¸€æ ·é¡ºç•…ï¼Œè¿™è¿ç»­çš„ç£ç›˜è¯»å–ï¼Œæ•ˆç‡æ¯”éšæœºè¯»å–é«˜å¤ªå¤šäº†ã€‚
<img src="https://coze-coding-project.tos.coze.site/coze_storage_7602820874852368435/image/generate_image_52a6c613-e998-4094-aca3-a757d3db5ad2.jpeg?sign=1802320074-506c98648e-0-68597c8901cd26aa2b213e6430c9a1f4b0ae099397b6ce9052918bfbc9e3649f" alt="" loading="lazy"/></p>
<p>å’±ä»¬ä»¥ InnoDB çš„ä¸»é”®ç´¢å¼•ä¸ºä¾‹ï¼Œå†å…·è±¡åŒ–çœ‹çœ‹å®ƒçš„å·¥ä½œè¿‡ç¨‹ã€‚InnoDB çš„ä¸»é”®ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹é‡Œå­˜çš„æ˜¯æ•´è¡Œæ•°æ®ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆã€‚å‡è®¾ä½ è¦æŸ¥ id=83 çš„ç”¨æˆ·ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ¬¡ IO è¯»æ ¹èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹é‡Œå­˜çš„æ˜¯å„ä¸ªå­èŠ‚ç‚¹çš„åˆ†ç•Œé”®å€¼ï¼Œæ¯”å¦‚ 76ã€152ï¼Œåˆ¤æ–­å‡º 83 åœ¨ 76 åˆ° 152 ä¹‹é—´ï¼Œäºæ˜¯å»å¯¹åº”çš„ä¸­é—´èŠ‚ç‚¹ï¼›</li>
<li>ç¬¬äºŒæ¬¡ IO è¯»ä¸­é—´èŠ‚ç‚¹ï¼Œé‡Œé¢çš„åˆ†ç•Œé”®æ˜¯ 81ã€86ï¼Œåˆåˆ¤æ–­å‡º 83 åœ¨ 81 åˆ° 86 ä¹‹é—´ï¼Œå®šä½åˆ°å¯¹åº”çš„å¶å­èŠ‚ç‚¹ï¼›</li>
<li>ç¬¬ä¸‰æ¬¡ IO è¯»å¶å­èŠ‚ç‚¹ï¼Œç›´æ¥æ‹¿åˆ° id=83 çš„æ•´è¡Œæ•°æ®ã€‚æ•´ä¸ªè¿‡ç¨‹å°±åƒæŸ¥å­—å…¸ï¼Œå…ˆæŸ¥éƒ¨é¦–ç›®å½•ï¼Œå†æŸ¥æ£€å­—è¡¨ï¼Œæœ€åç¿»åˆ°æ­£æ–‡é¡µï¼Œæ¯ä¸€æ­¥éƒ½ç²¾å‡†ç¼©å°èŒƒå›´ï¼Œå®Œå…¨ä¸ç”¨å…¨è¡¨æ‰«æã€‚
è¦æ˜¯ä½ åšèŒƒå›´æŸ¥è¯¢ï¼Œæ¯”å¦‚æŸ¥ id&gt;83 çš„æ‰€æœ‰ç”¨æˆ·ï¼Œé‚£å°±æ›´ç®€å•äº†ï¼šæŒ‰ä¸Šé¢çš„æ­¥éª¤æ‰¾åˆ° id=83 çš„å¶å­èŠ‚ç‚¹åï¼Œé¡ºç€å¶å­èŠ‚ç‚¹çš„é“¾è¡¨ä¸€ç›´å¾€åè¯»å°±è¡Œï¼Œæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®ä¼šæŒ‰é¡ºåºå‡ºæ¥ï¼Œè¿æ’åºéƒ½çœäº†ï¼Œå› ä¸ºå¶å­èŠ‚ç‚¹æœ¬èº«å°±æ˜¯æœ‰åºçš„ã€‚å“¦å¯¹äº†ï¼Œè¿™é‡Œè¿˜æœ‰ä¸ªå°ç»†èŠ‚ï¼ŒInnoDB çš„æ ¹èŠ‚ç‚¹é€šå¸¸ä¼šå¸¸é©»å†…å­˜ï¼Œæ‰€ä»¥å®é™…æŸ¥è¯¢æ—¶è¿˜èƒ½çœä¸€æ¬¡ IOï¼Œé€Ÿåº¦ä¼šæ›´å¿«ã€‚</li>
</ol>
<p><img src="https://coze-coding-project.tos.coze.site/coze_storage_7602820874852368435/image/generate_image_ccf5e735-8e85-4220-8f91-dd83d1bc85a8.jpeg?sign=1802320098-45db6257ac-0-527de7dd598ae3f9988d722619cc635168b0c60651c92552739f932f30ff03c0" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">B + æ ‘é«˜æ•ˆæœ¬è´¨æ˜¯ï¼Œé«˜æ•ˆåˆ©ç”¨ç£ç›˜ IO</h2>
<p>å…¶å®è¯´åˆ°åº•ï¼ŒB + æ ‘èƒ½æˆä¸ºè¯¸å¤šæ•°æ®åº“çš„é¦–é€‰ï¼Œå æ®æ•°æ®åº“æ•°æ®ç»“æ„çš„åŠå£æ±Ÿå±±ï¼Œå…¶æ ¸å¿ƒå°±æ˜¯å®ƒå›´ç»• â€œå¦‚ä½•é«˜æ•ˆåˆ©ç”¨ç£ç›˜ IOâ€ æ¥è®¾è®¡çš„ï¼ŒæŠŠå‡å°‘ç£ç›˜ I/Oã€é€‚é…ç£ç›˜ç‰¹æ€§æ¥è®¾è®¡æ•°æ®ç»“æ„ã€‚å®ƒç”¨é«˜æ‰‡å‡ºçš„å¤šè·¯å¹³è¡¡ç»“æ„æ€§å‹ä½æ ‘é«˜ï¼Œå‡å°‘ ç£ç›˜IO æ¬¡æ•°ï¼›ç”¨å¶å­é“¾è¡¨ä¼˜åŒ–èŒƒå›´æŸ¥è¯¢ï¼Œå˜æˆè¿ç»­çš„ç£ç›˜è¯»å–ï¼Œé¿å…æ— æ•ˆå›æº¯ï¼›å†é€šè¿‡å’Œç£ç›˜é¡µå¤§å°å¯¹é½ï¼ŒæŠŠæ¯æ¬¡ IO çš„ä»·å€¼æœ€å¤§åŒ–ã€‚ç”šè‡³è¿èŠ‚ç‚¹å¤§å°å’Œç£ç›˜é¡µå¯¹é½ï¼Œéƒ½æ˜¯ä¸ºäº†è®©æ¯æ¬¡ç£ç›˜è¯»å–éƒ½èƒ½æ‹¿åˆ°æœ€å¤šçš„æœ‰æ•ˆæ•°æ®ã€‚åœ¨æ•°æ®é‡è¶Šæ¥è¶Šå¤§çš„ä»Šå¤©ï¼Œè¿™ç§å¯¹åº•å±‚èµ„æºçš„æè‡´ä¼˜åŒ–ï¼Œæˆ‘æƒ³ä¹Ÿæ˜¯å®ƒèƒ½ç«™ç¨³è„šè·Ÿçš„é‡è¦åŸå› ã€‚</p>
<p>åŸºäºè¿™äº›ç‰¹å¾ï¼Œåˆ†äº«ä¸€ç‚¹å®é™…åº”ç”¨ä¸­çš„å°æŠ€å·§ï¼Œæ¯”å¦‚è¦†ç›–ç´¢å¼•ã€‚è¦æ˜¯ä½ çš„æŸ¥è¯¢å­—æ®µå…¨åœ¨ç´¢å¼•é‡Œï¼Œæ¯”å¦‚<code>SELECT name FROM user WHERE id=83</code>ï¼Œé‚£ InnoDB ç›´æ¥ä»ç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ‹¿æ•°æ®å°±è¡Œï¼Œä¸ç”¨å›è¡¨æŸ¥ä¸»é”®ç´¢å¼•ï¼Œè¿™åˆçœäº†ä¸€æ¬¡ IOï¼Œæ€§èƒ½ä¼šå†ä¸Šä¸€ä¸ªå°é˜¶ã€‚è¿˜æœ‰è”åˆç´¢å¼•çš„æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯åˆ©ç”¨ B + æ ‘çš„æœ‰åºæ€§ï¼ŒæŠŠæŸ¥è¯¢æ¡ä»¶æ‹†æˆç´¢å¼•çš„å‰ç¼€æ¥å¿«é€Ÿå®šä½ï¼Œè¿™äº›éƒ½æ˜¯åŸºäº B + æ ‘çš„ç‰¹æ€§è¡ç”Ÿå‡ºæ¥çš„ä¼˜åŒ–æ‰‹æ®µã€‚</p>
<h2 data-id="heading-5">B + æ ‘å¹¶ä¸æ˜¯å®Œç¾çš„</h2>
<p>å°½ç®¡ä¸Šé¢è¯´äº†è¿™ä¹ˆå¤šB + æ ‘çš„æœ‰ç‚¹ï¼Œè¯´å…¶æ€ä¹ˆæ”¯æ’‘å…¶æ•°æ®åº“çš„åŠå£æ±Ÿå±±ï¼Œä¼¼ä¹å·²ç»å¾ˆå¼ºå¤§å¾ˆå®Œç¾äº†ï¼Œä½†å…¶å®B + æ ‘ä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå®ƒä¹Ÿæœ‰å®ƒçš„é—®é¢˜ï¼ŒB+ æ ‘ä¸ºäº†ç»´æŒæ ‘çš„å¹³è¡¡å’Œæœ‰åºæ€§ï¼Œåœ¨<strong>é«˜å¹¶å‘å†™å…¥</strong>æ—¶ä¼šæœ‰æ€§èƒ½ç“¶é¢ˆï¼Œæ¯”å¦‚é¢‘ç¹çš„èŠ‚ç‚¹åˆ†è£‚ã€åˆå¹¶ä»¥åŠé”ç«äº‰è¿™äº›éƒ½ä¼šå¤§å¤§é™ä½å…¶å¹¶å‘èƒ½åŠ›ã€‚æ¯”å¦‚æ’å…¥æ•°æ®æ—¶å¯èƒ½ä¼šè§¦å‘èŠ‚ç‚¹åˆ†è£‚ï¼Œåˆ é™¤æ•°æ®æ—¶å¯èƒ½è¦åˆå¹¶èŠ‚ç‚¹ï¼Œè¿™äº›æ“ä½œä¼šé¢å¤–æ¶ˆè€—ä¸€äº›æ€§èƒ½ï¼Œåªä¸è¿‡MySQL InnoDB é€šè¿‡å„ç§ä¼˜åŒ–æ‰‹æ®µï¼Œæ¯”å¦‚é¡µåˆ†è£‚çš„é¢„åˆ†é…ã€å¹¶å‘æ§åˆ¶çš„é”ç²’åº¦ä¼˜åŒ–ï¼ŒæŠŠè¿™äº›ä»£ä»·é™åˆ°äº†æœ€ä½ã€‚</p>
<p>å†™åœ¨æœ€åï¼Œå…¶å®æ¯ä¸€ç§æ•°æ®ç»“æ„éƒ½æœ‰å…¶ç‰¹ç‚¹ï¼Œéƒ½æ˜¯åªèƒ½è§£å†³æŸä¸€ç±»æˆ–å‡ ç±»é—®é¢˜ï¼Œéƒ½ä¸å¯èƒ½æ˜¯å®Œç¾çš„ã€‚åˆç†çš„åˆ©ç”¨å„ç§æ•°æ®ç»“æ„çš„ç‰¹ç‚¹æ¥è§£å†³æˆ‘ä»¬çš„é—®é¢˜æ‰æ˜¯æ ¹æœ¬ï¼Œåƒä¸‡ä¸è¦æ‹˜æ³¥äºä»€ä¹ˆå›ºå®šæ¨¡å¼æˆ–è€…ç»“æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ TabTab Adminï¼šä¸€æ¬¾ç°ä»£åŒ–çš„ Vue 3 åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿]]></title>    <link>https://juejin.cn/post/7605985547569643526</link>    <guid>https://juejin.cn/post/7605985547569643526</guid>    <pubDate>2026-02-13T08:19:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605985547569643526" data-draft-id="7605941424536633398" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ TabTab Adminï¼šä¸€æ¬¾ç°ä»£åŒ–çš„ Vue 3 åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-02-13T08:19:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹å­è‚¥æ³¢"/> <meta itemprop="url" content="https://juejin.cn/user/1544172375648990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ TabTab Adminï¼šä¸€æ¬¾ç°ä»£åŒ–çš„ Vue 3 åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1544172375648990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹å­è‚¥æ³¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:19:51.000Z" title="Fri Feb 13 2026 08:19:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸºäº Vue 3 + TypeScript + Vite æ„å»ºçš„ä¼ä¸šçº§åå°ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œå†…ç½® JSON é…ç½®åŒ–ç»„ä»¶ã€RBAC æƒé™ç³»ç»Ÿã€å›½é™…åŒ–æ”¯æŒç­‰å¼€ç®±å³ç”¨çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿçš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´è¿™æ ·çš„å›°å¢ƒï¼š</p>
<ul>
<li>ğŸ”„ <strong>é‡å¤é€ è½®å­</strong>ï¼šæ¯ä¸ªé¡¹ç›®éƒ½è¦é‡æ–°æ­å»ºåŸºç¡€æ¶æ„</li>
<li>ğŸ“¦ <strong>ç»„ä»¶å°è£…å›°éš¾</strong>ï¼šè¡¨æ ¼ã€è¡¨å•ç­‰å¤æ‚ç»„ä»¶éš¾ä»¥å¤ç”¨</li>
<li>ğŸ¨ <strong>ä¸»é¢˜å®šåˆ¶ç¹ç</strong>ï¼šæš—é»‘æ¨¡å¼ã€å“ç‰Œè‰²åˆ‡æ¢éœ€è¦å¤§é‡å·¥ä½œ</li>
<li>ğŸ” <strong>æƒé™ç³»ç»Ÿå¤æ‚</strong>ï¼šRBAC æƒé™æ§åˆ¶å®ç°æˆæœ¬é«˜</li>
<li>ğŸŒ <strong>å›½é™…åŒ–éº»çƒ¦</strong>ï¼šå¤šè¯­è¨€æ”¯æŒéœ€è¦é¢å¤–é…ç½®</li>
</ul>
<p><strong>TabTab Admin</strong> åº”è¿è€Œç”Ÿï¼Œå®ƒä¸ä»…æ˜¯ä¸€ä¸ªåå°æ¨¡æ¿ï¼Œæ›´æ˜¯ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p align="center">ä»ªè¡¨æ¿ - æ˜äº®æ¨¡å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b2a63eaf3f94326bc711bade925af7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=YvLvpB9EFwnAt82UxvendnTizOI%3D" alt="image.png" loading="lazy"/></p>
<p align="center">ä»ªè¡¨æ¿ - æš—é»‘æ¨¡å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9209f027a9ed4058b2f208e34b89d827~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=0gPY9Z0Dm1J66s6DxzVuhY0ZXkU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">âœ¨ æ ¸å¿ƒäº®ç‚¹</h2>
<h3 data-id="heading-2">1. JSON é…ç½®åŒ–ç»„ä»¶ â€” ä½ä»£ç å¼€å‘ä½“éªŒ</h3>
<p>è¿™æ˜¯ TabTab Admin æœ€å…·ç‰¹è‰²çš„åŠŸèƒ½ã€‚é€šè¿‡ JSON Schema é…ç½®ï¼Œå¿«é€Ÿæ„å»ºå¤æ‚çš„è¡¨æ ¼ã€è¡¨å•ã€å¯¹è¯æ¡†å’ŒæŠ½å±‰ç»„ä»¶ã€‚</p>
<h4 data-id="heading-3">TTable â€” é…ç½®åŒ–è¡¨æ ¼</h4>

<p align="center">
</p><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42d1d4e0680444ed8cff0a7c8d84ec00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=MnkAUBMZP8cZYqiRO356fBrBQO8%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>TTable é…ç½®åŒ–è¡¨æ ¼ - æ”¯æŒæ’åºã€ç­›é€‰ã€è¡Œé€‰æ‹©ã€æ“ä½œåˆ—</em></p>
<pre><code class="hljs language-js" lang="js">&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TTable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/business/TTable'</span>
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">TableSchema</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/business/TTable'</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">schema</span>: <span class="hljs-title class_">TableSchema</span> = {
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'ç”¨æˆ·å'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'username'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'é‚®ç®±'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'email'</span> },
    { 
      <span class="hljs-attr">title</span>: <span class="hljs-string">'çŠ¶æ€'</span>, 
      <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'status'</span>, 
      <span class="hljs-attr">slot</span>: <span class="hljs-string">'status'</span>,
      <span class="hljs-attr">filters</span>: [
        { <span class="hljs-attr">text</span>: <span class="hljs-string">'å¯ç”¨'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'active'</span> },
        { <span class="hljs-attr">text</span>: <span class="hljs-string">'ç¦ç”¨'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'inactive'</span> }
      ]
    },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>, <span class="hljs-attr">dataIndex</span>: <span class="hljs-string">'createdAt'</span>, <span class="hljs-attr">sorter</span>: <span class="hljs-literal">true</span> }
  ],
  <span class="hljs-attr">actions</span>: [
    { <span class="hljs-attr">text</span>: <span class="hljs-string">'ç¼–è¾‘'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'primary'</span>, <span class="hljs-attr">onClick</span>: <span class="hljs-function">(<span class="hljs-params">row</span>) =&gt;</span> <span class="hljs-title function_">handleEdit</span>(row) },
    { <span class="hljs-attr">text</span>: <span class="hljs-string">'åˆ é™¤'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'danger'</span>, <span class="hljs-attr">confirm</span>: <span class="hljs-string">'ç¡®å®šåˆ é™¤ï¼Ÿ'</span>, <span class="hljs-attr">onClick</span>: <span class="hljs-function">(<span class="hljs-params">row</span>) =&gt;</span> <span class="hljs-title function_">handleDelete</span>(row) }
  ],
  <span class="hljs-attr">rowSelection</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'checkbox'</span> },
  <span class="hljs-attr">pagination</span>: { <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span> }
}
&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">TTable</span> <span class="hljs-attr">:schema</span>=<span class="hljs-string">"schema"</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span> <span class="hljs-attr">:loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">status</span>=<span class="hljs-string">"{ text }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a-tag</span> <span class="hljs-attr">:color</span>=<span class="hljs-string">"text === 'active' ? 'green' : 'red'"</span>&gt;</span>
        {{ text === 'active' ? 'å¯ç”¨' : 'ç¦ç”¨' }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">a-tag</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">TTable</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<p><strong>ä¸€è¡Œé…ç½®ï¼Œæå®šï¼š</strong></p>
<ul>
<li>âœ… åˆ—å®šä¹‰ä¸æ¸²æŸ“</li>
<li>âœ… æ’åºä¸ç­›é€‰</li>
<li>âœ… æ“ä½œåˆ—ï¼ˆå¸¦ç¡®è®¤åˆ é™¤ï¼‰</li>
<li>âœ… è¡Œé€‰æ‹©</li>
<li>âœ… åˆ†é¡µ</li>
</ul>
<h4 data-id="heading-4">TForm â€” é…ç½®åŒ–è¡¨å•</h4>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3baa2c7d1f19477fbce2141de45b69c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=uL3%2FS5zO5HdfTPVdgN%2BNHUm4yEs%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>TForm é…ç½®åŒ–è¡¨å• - æ”¯æŒ 36+ ç§å­—æ®µç±»å‹</em></p>
<pre><code class="hljs language-js" lang="js">&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TForm</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/business/TForm'</span>
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">FormSchema</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/business/TForm'</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">schema</span>: <span class="hljs-title class_">FormSchema</span> = {
  <span class="hljs-attr">fields</span>: [
    { 
      <span class="hljs-attr">name</span>: <span class="hljs-string">'username'</span>, 
      <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>, 
      <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”¨æˆ·å'</span>,
      <span class="hljs-attr">rules</span>: [{ <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥ç”¨æˆ·å'</span> }],
      <span class="hljs-attr">props</span>: { <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'è¯·è¾“å…¥ç”¨æˆ·å'</span> }
    },
    { 
      <span class="hljs-attr">name</span>: <span class="hljs-string">'email'</span>, 
      <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>, 
      <span class="hljs-attr">label</span>: <span class="hljs-string">'é‚®ç®±'</span>,
      <span class="hljs-attr">rules</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'</span> }]
    },
    { 
      <span class="hljs-attr">name</span>: <span class="hljs-string">'role'</span>, 
      <span class="hljs-attr">type</span>: <span class="hljs-string">'select'</span>, 
      <span class="hljs-attr">label</span>: <span class="hljs-string">'è§’è‰²'</span>,
      <span class="hljs-attr">options</span>: [
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'ç®¡ç†å‘˜'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'admin'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ™®é€šç”¨æˆ·'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'user'</span> }
      ]
    },
    { 
      <span class="hljs-attr">name</span>: <span class="hljs-string">'avatar'</span>, 
      <span class="hljs-attr">type</span>: <span class="hljs-string">'upload'</span>, 
      <span class="hljs-attr">label</span>: <span class="hljs-string">'å¤´åƒ'</span>,
      <span class="hljs-attr">props</span>: { <span class="hljs-attr">accept</span>: <span class="hljs-string">'image/*'</span>, <span class="hljs-attr">maxCount</span>: <span class="hljs-number">1</span> }
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'bio'</span>,
      <span class="hljs-attr">type</span>: <span class="hljs-string">'textarea'</span>,
      <span class="hljs-attr">label</span>: <span class="hljs-string">'ä¸ªäººç®€ä»‹'</span>,
      <span class="hljs-attr">props</span>: { <span class="hljs-attr">rows</span>: <span class="hljs-number">4</span> }
    }
  ],
  <span class="hljs-attr">layout</span>: <span class="hljs-string">'horizontal'</span>,
  <span class="hljs-attr">labelCol</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">4</span> },
  <span class="hljs-attr">wrapperCol</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">20</span> }
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">values</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¡¨å•æ•°æ®ï¼š'</span>, values)
}
&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">TForm</span> <span class="hljs-attr">:schema</span>=<span class="hljs-string">"schema"</span> @<span class="hljs-attr">submit</span>=<span class="hljs-string">"handleSubmit"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<p><strong>æ”¯æŒ 36+ ç§å­—æ®µç±»å‹ï¼š</strong></p>
<ul>
<li>è¾“å…¥ç±»ï¼šinputã€textareaã€inputNumberã€passwordã€email...</li>
<li>é€‰æ‹©ç±»ï¼šselectã€radioã€checkboxã€switchã€cascader...</li>
<li>æ—¥æœŸç±»ï¼šdatePickerã€rangePickerã€timePicker...</li>
<li>ä¸Šä¼ ç±»ï¼šuploadã€uploadImageã€uploadDragger...</li>
<li>é«˜çº§ç±»ï¼šcustomï¼ˆè‡ªå®šä¹‰ç»„ä»¶ï¼‰</li>
</ul>
<h4 data-id="heading-5">TModal &amp; TDrawer â€” é…ç½®åŒ–å¼¹çª—</h4>

 <p/>
  <table>
  <tbody><tr>
    <td width="50%">
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4667a0e1f7914c2381f04131d0deddfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=mjmv6mpVOXYvTMnSz1llLZl2eKs%3D" alt="image.png" loading="lazy"/> </p><p align="center">TModal å¯¹è¯æ¡†</p> </td><td width="50%"><p/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b88ee74053404b47933c98e08d79c23b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=%2Fw2US7TH46BU9AUYm1lbt0wDHpY%3D" alt="image.png" loading="lazy"/> </p><p align="center">TDrawer æŠ½å±‰</p> </td></tr>
</tbody></table>
<h3 data-id="heading-6">2. ğŸ¨ å®Œå–„çš„ä¸»é¢˜ç³»ç»Ÿ</h3>
<p>æ”¯æŒ <strong>æš—é»‘/æ˜äº®æ¨¡å¼</strong> åˆ‡æ¢ï¼Œä»¥åŠä¸°å¯Œçš„ä¸»é¢˜å®šåˆ¶é€‰é¡¹ï¼š</p>

<p align="center">
</p><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/397bbbd2d9344fbaa17b117807e0f809~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=CpU2B2f%2FF%2F64NJhHiJMw6vkkoV4%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>ä¸»é¢˜è®¾ç½®é¢æ¿ - å®æ—¶é¢„è§ˆï¼Œä¸€é”®åˆ‡æ¢</em></p>

 <p/>
  <table>
  <tbody><tr>
    <td width="50%">
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b0dc8661b7d4422aaf37462878685b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=nHofyZNDNx8PdpLnDe%2BMAgb7GsI%3D" alt="image.png" loading="lazy"/> </p><p align="center">æ˜äº®ä¸»é¢˜</p> </td><td width="50%"><p/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3d9846bf2e74a24a6045db2bd985af4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=C4XtMKLMzlau4GaITwbv9BNMpUo%3D" alt="image.png" loading="lazy"/> </p><p align="center">æš—é»‘ä¸»é¢˜</p> </td></tr>
</tbody></table>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">LayoutConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/types/theme'</span>;

<span class="hljs-comment">/**
 * ä¸»é¢˜é…ç½®
 * å¯ä»è®¾ç½®é¡µé¢å¤åˆ¶ JSON ç›´æ¥æ›¿æ¢ä¸‹é¢çš„å€¼
 * 
 * å¯ç”¨ä¸»é¢˜: default, slate, stone, red, rose, orange, amber, yellow, lime, green, emerald, teal, cyan, sky, blue, indigo, violet, purple, fuchsia, pink
 * å¯ç”¨æ¨¡å¼: light, dark
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> themeConfig = {
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'lime'</span>,
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'light'</span> <span class="hljs-keyword">as</span> <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span>,
  <span class="hljs-attr">layout</span>: {
    <span class="hljs-attr">sidebarWidth</span>: <span class="hljs-number">280</span>,
    <span class="hljs-attr">sidebarCollapsed</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">radius</span>: <span class="hljs-number">0.625</span>,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'base'</span> <span class="hljs-keyword">as</span> <span class="hljs-string">'sm'</span> | <span class="hljs-string">'base'</span> | <span class="hljs-string">'lg'</span>,
    <span class="hljs-attr">animations</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">showTabBar</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">showBreadcrumb</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">fixedTabBar</span>: <span class="hljs-literal">false</span>,
  } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">LayoutConfig</span>&gt;,
  <span class="hljs-attr">customThemes</span>: {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">primary</span>: <span class="hljs-built_in">string</span>;
    primaryForeground?: <span class="hljs-built_in">string</span>;
    accent?: <span class="hljs-built_in">string</span>;
    accentForeground?: <span class="hljs-built_in">string</span>;
    darkPrimary?: <span class="hljs-built_in">string</span>;
  }&gt;,
};

</code></pre>
<p>ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®é¡µé¢å®æ—¶é¢„è§ˆå’Œè°ƒæ•´ä¸»é¢˜ï¼Œé…ç½®è‡ªåŠ¨æŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<h3 data-id="heading-7">3. ğŸ” RBAC æƒé™æ§åˆ¶</h3>
<p>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ç³»ç»Ÿï¼Œæä¾›å¤šå±‚æ¬¡çš„æƒé™æ§åˆ¶ï¼š</p>

<p align="center">
</p><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fb363888aa44f1482676f25bc611848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=f%2FgWxlhVmUfRfyqVPcvKko8acOU%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>æŒ‰é’®çº§æƒé™æ§åˆ¶ - æ— æƒé™æŒ‰é’®è‡ªåŠ¨éšè—</em></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- æŒ‰é’®çº§æƒé™æ§åˆ¶ --&gt;
  &lt;a-button v-permission="'user:create'"&gt;åˆ›å»ºç”¨æˆ·&lt;/a-button&gt;
  
  &lt;!-- å¤šæƒé™åˆ¤æ–­ï¼ˆæ»¡è¶³å…¶ä¸€å³å¯ï¼‰ --&gt;
  &lt;a-button v-permission="['user:edit', 'user:admin']"&gt;ç¼–è¾‘&lt;/a-button&gt;
  
  &lt;!-- ç»„åˆå¼å‡½æ•°æƒé™æ£€æŸ¥ --&gt;
  &lt;a-button v-if="hasPermission('user:delete')"&gt;åˆ é™¤&lt;/a-button&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { usePermission } from '@/composables/usePermission'

const { hasPermission, hasRole } = usePermission()

// ç¼–ç¨‹å¼æƒé™æ£€æŸ¥
if (hasRole('admin')) {
  // ç®¡ç†å‘˜ä¸“å±é€»è¾‘
}
&lt;/script&gt;
</code></pre>
<p><strong>æƒé™ç³»ç»Ÿç‰¹æ€§ï¼š</strong></p>
<ul>
<li>ğŸ¯ é¡µé¢çº§æƒé™ï¼šè·¯ç”±å®ˆå«è‡ªåŠ¨æ‹¦æˆª</li>
<li>ğŸ”˜ æŒ‰é’®çº§æƒé™ï¼š<code>v-permission</code> æŒ‡ä»¤</li>
<li>ğŸ“‹ èœå•çº§æƒé™ï¼šåŠ¨æ€èœå•è¿‡æ»¤</li>
<li>ğŸ”„ åŠ¨æ€è·¯ç”±ï¼šæ ¹æ®æƒé™åŠ¨æ€ç”Ÿæˆ</li>
</ul>
<h3 data-id="heading-8">4. ğŸŒ å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒ</h3>
<p>å†…ç½®ä¸­è‹±æ–‡åŒè¯­ï¼Œæ”¯æŒä¸€é”®åˆ‡æ¢ï¼š</p>

 <p/>
  <table>
  <tbody><tr>
    <td width="50%">
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/980a2a70d01840dd91447361d5b52e2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=G60JLTgrtl7s2oyDNVsombD32ac%3D" alt="image.png" loading="lazy"/> </p><p align="center">ä¸­æ–‡ç•Œé¢</p> </td><td width="50%"><p/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a75d8c5e7d643fd889b1d18f3787709~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=VVgjBpQa7hQAI0NQZF4lMZqu1ng%3D" alt="image.png" loading="lazy"/> </p><p align="center">English Interface</p> </td></tr>
</tbody></table>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨ i18n</span>
<span class="hljs-keyword">import</span> { useI18n } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-i18n'</span>

<span class="hljs-keyword">const</span> { t, locale } = <span class="hljs-title function_">useI18n</span>()

<span class="hljs-comment">// åˆ‡æ¢è¯­è¨€</span>
locale.<span class="hljs-property">value</span> = <span class="hljs-string">'en-US'</span>

<span class="hljs-comment">// æ¨¡æ¿ä¸­ä½¿ç”¨</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ t('menu.dashboard') }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-9">5. ğŸ·ï¸ æ ‡ç­¾æ ç®¡ç†</h3>
<p>å¤šæ ‡ç­¾é¡µç®¡ç†ï¼Œæ”¯æŒé¡µé¢ç¼“å­˜å’Œå¿«æ·æ“ä½œï¼š</p>

<p align="center">
</p><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/365cdebbddeb4de68fe16efab407d9cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=GeUaSjdyTrqj1eyU6TDRr%2FtCNMs%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>å¤šæ ‡ç­¾é¡µç®¡ç† - æ”¯æŒç¼“å­˜ã€å…³é—­ã€åˆ·æ–°ç­‰æ“ä½œ</em></p>
<p><strong>æ ‡ç­¾æ åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>ğŸ“‘ å¤šæ ‡ç­¾é¡µåˆ‡æ¢</li>
<li>ğŸ’¾ é¡µé¢çŠ¶æ€ç¼“å­˜</li>
<li>ğŸ”„ åˆ·æ–°å½“å‰é¡µ</li>
<li>âŒ å…³é—­å½“å‰/å…¶ä»–/å…¨éƒ¨æ ‡ç­¾</li>
</ul>
<h2 data-id="heading-10">ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦è§£</h2>























































<table><thead><tr><th>ç±»åˆ«</th><th>æŠ€æœ¯é€‰å‹</th><th>é€‰æ‹©ç†ç”±</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒæ¡†æ¶</strong></td><td>Vue 3 + TypeScript</td><td>ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€</td></tr><tr><td><strong>æ„å»ºå·¥å…·</strong></td><td>Vite (Rolldown)</td><td>æé€Ÿå¼€å‘ä½“éªŒï¼Œç”Ÿäº§æ„å»ºä¼˜åŒ–</td></tr><tr><td><strong>æ ·å¼æ–¹æ¡ˆ</strong></td><td>Tailwind CSS v4</td><td>åŸå­åŒ– CSSï¼Œå¼€å‘æ•ˆç‡é«˜</td></tr><tr><td><strong>UI ç»„ä»¶</strong></td><td>Antdv-next + shadcn-vue</td><td>ä¼ä¸šçº§ç»„ä»¶ + é«˜åº¦å¯å®šåˆ¶</td></tr><tr><td><strong>è¡¨å•éªŒè¯</strong></td><td>Antdv-next Form + VeeValidate + Zod</td><td>å¤šç§éªŒè¯æ–¹æ¡ˆå¯é€‰</td></tr><tr><td><strong>æ•°æ®è¡¨æ ¼</strong></td><td>Antdv-next Table + TanStack Table</td><td>åŠŸèƒ½ä¸°å¯Œï¼Œæ€§èƒ½ä¼˜ç§€</td></tr><tr><td><strong>çŠ¶æ€ç®¡ç†</strong></td><td>Pinia</td><td>Vue 3 å®˜æ–¹æ¨èï¼Œè½»é‡çµæ´»</td></tr><tr><td><strong>HTTP è¯·æ±‚</strong></td><td>Alova + Axios</td><td>è¯·æ±‚ç¼“å­˜ï¼Œè‡ªåŠ¨é‡è¯•</td></tr><tr><td><strong>æµ‹è¯•æ¡†æ¶</strong></td><td>Vitest</td><td>Vite åŸç”Ÿæ”¯æŒï¼Œæé€Ÿæµ‹è¯•</td></tr></tbody></table>
<h2 data-id="heading-11">ğŸš€ å¿«é€Ÿå¼€å§‹</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®</span>
git <span class="hljs-built_in">clone</span> https://github.com/tabtab-dev/tabtab-admin.git

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
pnpm dev

<span class="hljs-comment"># æ„å»ºç”Ÿäº§ç‰ˆæœ¬</span>
pnpm build
</code></pre>
<h2 data-id="heading-12">ğŸ“ é¡¹ç›®ç»“æ„</h2>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ api/                    <span class="hljs-comment"># API æ¥å£æ¨¡å—</span>
â”‚   â”œâ”€â”€ client/            <span class="hljs-comment"># HTTP å®¢æˆ·ç«¯é…ç½®</span>
â”‚   â””â”€â”€ modules/           <span class="hljs-comment"># ä¸šåŠ¡ API æ¨¡å—</span>
â”œâ”€â”€ components/            <span class="hljs-comment"># ç»„ä»¶</span>
â”‚   â”œâ”€â”€ bento/            <span class="hljs-comment"># Bento é£æ ¼å¸ƒå±€ç»„ä»¶</span>
â”‚   â”œâ”€â”€ business/         <span class="hljs-comment"># ä¸šåŠ¡ç»„ä»¶ (TTable/TForm/TModal/TDrawer)</span>
â”‚   â”œâ”€â”€ layout/           <span class="hljs-comment"># å¸ƒå±€ç»„ä»¶</span>
â”‚   â””â”€â”€ ui/               <span class="hljs-comment"># UI ç»„ä»¶åº“</span>
â”œâ”€â”€ composables/           <span class="hljs-comment"># å¯å¤ç”¨ç»„åˆå¼å‡½æ•°</span>
â”œâ”€â”€ stores/               <span class="hljs-comment"># Pinia çŠ¶æ€ç®¡ç†</span>
â”œâ”€â”€ views/                <span class="hljs-comment"># é¡µé¢è§†å›¾</span>
â””â”€â”€ i18n/                 <span class="hljs-comment"># å›½é™…åŒ–é…ç½®</span>
</code></pre>
<h2 data-id="heading-13">ğŸ§© Composables å·¥å…·åº“</h2>
<p>é¡¹ç›®æä¾›äº†ä¸€ç³»åˆ—å¼€ç®±å³ç”¨çš„ç»„åˆå¼å‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è¡¨æ ¼æ•°æ®ç®¡ç†</span>
<span class="hljs-keyword">import</span> { useTableData } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useTableData'</span>
<span class="hljs-keyword">const</span> { data, loading, pagination, fetchData } = <span class="hljs-title function_">useTableData</span>(apiFn)

<span class="hljs-comment">// è¡¨å•æ•°æ®å¤„ç†</span>
<span class="hljs-keyword">import</span> { useFormData } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useFormData'</span>
<span class="hljs-keyword">const</span> { formData, resetForm, submitForm } = <span class="hljs-title function_">useFormData</span>(schema)

<span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
<span class="hljs-keyword">import</span> { usePermission } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/usePermission'</span>
<span class="hljs-keyword">const</span> { hasPermission, hasRole } = <span class="hljs-title function_">usePermission</span>()

<span class="hljs-comment">// åŠ è½½çŠ¶æ€</span>
<span class="hljs-keyword">import</span> { useLoading } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useLoading'</span>
<span class="hljs-keyword">const</span> { loading, withLoading } = <span class="hljs-title function_">useLoading</span>()

<span class="hljs-comment">// è¯·æ±‚å°è£…</span>
<span class="hljs-keyword">import</span> { useRequest } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useRequest'</span>
<span class="hljs-keyword">const</span> { data, loading, error, run } = <span class="hljs-title function_">useRequest</span>(apiFn)
</code></pre>
<h2 data-id="heading-14">ğŸ”Œ Mock æœåŠ¡</h2>
<p>å†…ç½®å®Œæ•´çš„ Mock æœåŠ¡ï¼Œæ”¯æŒç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mock/
â”œâ”€â”€ data/              <span class="hljs-comment"># Mock æ•°æ®å®šä¹‰</span>
â”œâ”€â”€ routes/            <span class="hljs-comment"># Mock è·¯ç”±é…ç½®</span>
â””â”€â”€ server.ts          <span class="hljs-comment"># Mock æœåŠ¡å™¨å…¥å£</span>
</code></pre>
<p><strong>æ”¯æŒçš„ Mock åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·è®¤è¯ï¼ˆç™»å½•ã€ç™»å‡ºã€è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰</li>
<li>ç”¨æˆ·ç®¡ç†ï¼ˆCRUD æ“ä½œï¼‰</li>
<li>è§’è‰²ç®¡ç†</li>
<li>ç»„ç»‡ç®¡ç†</li>
<li>èœå•ç®¡ç†</li>
<li>è®¢å•ç®¡ç†</li>
<li>å•†å“ç®¡ç†</li>
</ul>
<h2 data-id="heading-15">ğŸ“Š Bento é£æ ¼ä»ªè¡¨æ¿</h2>
<p>é‡‡ç”¨ç°ä»£åŒ–çš„ Bento Grid å¸ƒå±€è®¾è®¡ï¼š</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2122733b15504e84a37cf4628a253aac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=1rGopCSVLl917S8I5t%2FIhGmdDQA%3D" alt="image.png" loading="lazy"/></p>
<p align="center"><em>Bento é£æ ¼ä»ªè¡¨æ¿ - ç°ä»£åŒ–ç½‘æ ¼å¸ƒå±€è®¾è®¡</em></p>
<ul>
<li>ğŸ¨ è§†è§‰å±‚æ¬¡åˆ†æ˜</li>
<li>ğŸ“± å“åº”å¼è‡ªé€‚åº”</li>
<li>ğŸŒ™ æš—é»‘æ¨¡å¼å®Œç¾é€‚é…</li>
<li>ğŸ“ˆ æ•°æ®å¯è§†åŒ–ç»„ä»¶</li>
</ul>
<h2 data-id="heading-16">ğŸ”” é€šçŸ¥ç³»ç»Ÿ</h2>
<p>åŸºäº vue-sonner çš„æ¶ˆæ¯é€šçŸ¥ç³»ç»Ÿï¼š</p>

<p align="center">
</p><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e1c8635d4b44598f395905e636bd59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5a2Q6IKl5rOi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575590&amp;x-signature=eU2Zwj%2F7uEQGZDKtSWUEEuDA57M%3D" alt="image.png" loading="lazy"/></p>
<p/>
<p align="center"><em>é€šçŸ¥ç³»ç»Ÿ - æ”¯æŒå¤šç§ç±»å‹å’Œè‡ªå®šä¹‰æ ·å¼</em></p>
<h2 data-id="heading-17">ğŸ¯ é€‚ç”¨åœºæ™¯</h2>
<ul>
<li>âœ… ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿ</li>
<li>âœ… SaaS å¹³å°ç®¡ç†åå°</li>
<li>âœ… ç”µå•†/è®¢å•ç®¡ç†ç³»ç»Ÿ</li>
<li>âœ… CMS å†…å®¹ç®¡ç†ç³»ç»Ÿ</li>
<li>âœ… æ•°æ®åˆ†æå¹³å°</li>
<li>âœ… å†…éƒ¨å·¥å…·å¿«é€Ÿæ­å»º</li>
</ul>
<h2 data-id="heading-18">ğŸ“Œ å¼€å‘è®¡åˆ’</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> åŸºç¡€å¸ƒå±€å’Œå¯¼èˆª</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ä¸»é¢˜ç³»ç»Ÿ</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> TTable/TForm/TModal/TDrawer ç»„ä»¶</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> å›½é™…åŒ–æ”¯æŒ</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> RBAC æƒé™æ§åˆ¶</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> Mock æœåŠ¡</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æµ‹è¯•æ¡†æ¶</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ ‡ç­¾æ  (TabBar)</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> é”™è¯¯è¾¹ç•Œå¤„ç†</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ›´å¤šæ•°æ®å¯è§†åŒ–ç»„ä»¶</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å·¥ä½œæµè®¾è®¡å™¨</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä»£ç ç”Ÿæˆå™¨</li>
</ul>
<h2 data-id="heading-19">ç»“è¯­</h2>
<p>TabTab Admin æ—¨åœ¨æä¾›ä¸€å¥—<strong>å¼€ç®±å³ç”¨ã€é«˜åº¦å¯å®šåˆ¶</strong>çš„åå°ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚æ— è®ºä½ æ˜¯éœ€è¦å¿«é€Ÿæ­å»ºä¸€ä¸ªå†…éƒ¨ç®¡ç†ç³»ç»Ÿï¼Œè¿˜æ˜¯éœ€è¦ä¸€ä¸ªä¼ä¸šçº§çš„ç®¡ç†å¹³å°ï¼ŒTabTab Admin éƒ½èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ â­ Star æ”¯æŒä¸€ä¸‹ï¼</p>
<hr/>
<p><strong>ğŸ”— ç›¸å…³é“¾æ¥ï¼š</strong></p>
<ul>
<li>ğŸ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdemo.tabtab.dev" target="_blank" title="https://demo.tabtab.dev" ref="nofollow noopener noreferrer">åœ¨çº¿æ¼”ç¤º</a></li>
<li>ğŸ’» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftabtab-dev%2Ftabtab-admin" target="_blank" title="https://github.com/tabtab-dev/tabtab-admin" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a></li>
</ul>
<p><strong>ğŸ¤ è´¡çŒ®æŒ‡å—ï¼š</strong></p>
<p>æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼Œä¸€èµ·è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ï¼</p>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼</em></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ä»»æ„ç½‘é¡µé‡Œâ€œå¬å”¤â€ä¸€ä¸ªç«æŸ´äººï¼šä¸€æ¬¡æœ‰è¶£çš„ JavaScript Hack]]></title>    <link>https://juejin.cn/post/7605912122628210726</link>    <guid>https://juejin.cn/post/7605912122628210726</guid>    <pubDate>2026-02-13T08:20:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605912122628210726" data-draft-id="7605881632541524019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ä»»æ„ç½‘é¡µé‡Œâ€œå¬å”¤â€ä¸€ä¸ªç«æŸ´äººï¼šä¸€æ¬¡æœ‰è¶£çš„ JavaScript Hack"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-13T08:20:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸å¼€å‘"/> <meta itemprop="url" content="https://juejin.cn/user/1961974152829149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ä»»æ„ç½‘é¡µé‡Œâ€œå¬å”¤â€ä¸€ä¸ªç«æŸ´äººï¼šä¸€æ¬¡æœ‰è¶£çš„ JavaScript Hack
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961974152829149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸å¼€å‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:20:33.000Z" title="Fri Feb 13 2026 08:20:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åœ¨ä»»æ„ç½‘é¡µé‡Œâ€œå¬å”¤â€ä¸€ä¸ªç«æŸ´äººï¼šä¸€æ¬¡æœ‰è¶£çš„ JavaScript Hack</h2>
<p>æœ‰æ—¶å€™ï¼Œå†™ç‚¹â€œæ²¡ä»€ä¹ˆç”¨ä½†å¾ˆå¥½ç©â€çš„ä»£ç ï¼Œæ¯”å†™ä¸šåŠ¡ä»£ç æ›´èƒ½æå‡å¯¹æµè§ˆå™¨åº•å±‚çš„ç†è§£ã€‚</p>
<p>è¿™æ¬¡åˆ†äº«çš„æ˜¯ä¸€ä¸ªå°è„šæœ¬ï¼š<br/>
åªéœ€è¦æŠŠå®ƒä¿å­˜ä¸ºä¹¦ç­¾ï¼ˆBookmarkletï¼‰ï¼Œç‚¹å‡»ä¸€ä¸‹ï¼Œå°±èƒ½åœ¨å½“å‰ä»»æ„ç½‘é¡µä¸Šç”Ÿæˆä¸€ä¸ªå¯æ“æ§çš„ç«æŸ´äººã€‚<br/>
å®ƒèƒ½è·³è·ƒã€ç§»åŠ¨ã€ä¸‹è½ç©¿é€å¹³å°ï¼Œè¿˜èƒ½æ‹¾å–é“å…·ã€å›è¡€ã€åŠ é€Ÿã€å¢å¼ºè·³è·ƒç”šè‡³çŸ­æš‚æ— æ•Œã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯â€”â€”å®ƒä¸ä¾èµ–ä»»ä½•æ¡†æ¶ï¼Œä¸æ±¡æŸ“é¡µé¢ç»“æ„ï¼Œä¸å½±å“äº¤äº’ã€‚
å…ˆä¸Šå®Œæ•´ä»£ç ï¼ˆå‹ç¼©åï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">javascript</span>:(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){<span class="hljs-keyword">const</span> I=<span class="hljs-string">"__stickman_anim__"</span>;<span class="hljs-keyword">if</span>(<span class="hljs-variable language_">window</span>[I]){<span class="hljs-variable language_">window</span>[I].<span class="hljs-title function_">destroy</span>();<span class="hljs-keyword">delete</span> <span class="hljs-variable language_">window</span>[I];<span class="hljs-keyword">return</span>}<span class="hljs-keyword">const</span> c=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"canvas"</span>);c.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>=<span class="hljs-string">"position:fixed;left:0;top:0;pointer-events:none;z-index:999999"</span>;<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(c);<span class="hljs-keyword">const</span> x=c.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params"/>){c.<span class="hljs-property">width</span>=innerWidth;c.<span class="hljs-property">height</span>=innerHeight}<span class="hljs-title function_">r</span>();<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>,r);<span class="hljs-keyword">let</span> g=<span class="hljs-number">.6</span>,f=<span class="hljs-number">.85</span>,ms=<span class="hljs-number">3</span>,jp=-<span class="hljs-number">12</span>,k={},t=<span class="hljs-number">0</span>,a,dead=!<span class="hljs-number">1</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">centerSpawn</span>(<span class="hljs-params"/>){<span class="hljs-keyword">let</span> cx=innerWidth/<span class="hljs-number">2</span>,cy=innerHeight/<span class="hljs-number">2</span>,el=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">elementFromPoint</span>(cx,cy);<span class="hljs-keyword">if</span>(el){<span class="hljs-keyword">let</span> r=el.<span class="hljs-title function_">getBoundingClientRect</span>();<span class="hljs-keyword">return</span>{<span class="hljs-attr">x</span>:r.<span class="hljs-property">left</span>+r.<span class="hljs-property">width</span>/<span class="hljs-number">2</span>-<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:r.<span class="hljs-property">top</span>+r.<span class="hljs-property">height</span>/<span class="hljs-number">2</span>-<span class="hljs-number">20</span>}}<span class="hljs-keyword">return</span>{<span class="hljs-attr">x</span>:cx-<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:cy-<span class="hljs-number">20</span>}}<span class="hljs-keyword">let</span> sp=<span class="hljs-title function_">centerSpawn</span>();<span class="hljs-keyword">const</span> p={<span class="hljs-attr">x</span>:sp.<span class="hljs-property">x</span>,<span class="hljs-attr">y</span>:sp.<span class="hljs-property">y</span>,<span class="hljs-attr">vx</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">vy</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">w</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">h</span>:<span class="hljs-number">40</span>,<span class="hljs-attr">onGround</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">dropping</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">hp</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">maxHp</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">inv</span>:!<span class="hljs-number">1</span>},it=[],M=<span class="hljs-number">5</span>;<span class="hljs-keyword">let</span> et=<span class="hljs-number">0</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">spawn</span>(<span class="hljs-params"/>){<span class="hljs-keyword">if</span>(it.<span class="hljs-property">length</span>&gt;=M||dead)<span class="hljs-keyword">return</span>;it.<span class="hljs-title function_">push</span>({<span class="hljs-attr">x</span>:<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*(c.<span class="hljs-property">width</span>-<span class="hljs-number">30</span>),<span class="hljs-attr">y</span>:<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*(c.<span class="hljs-property">height</span>-<span class="hljs-number">200</span>),<span class="hljs-attr">s</span>:<span class="hljs-number">15</span>,<span class="hljs-attr">t</span>:<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">4</span>)})}<span class="hljs-keyword">const</span> si=<span class="hljs-built_in">setInterval</span>(spawn,<span class="hljs-number">4e3</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">eff</span>(<span class="hljs-params">n</span>){et=<span class="hljs-number">300</span>;n==<span class="hljs-number">0</span>&amp;&amp;(p.<span class="hljs-property">hp</span>=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(p.<span class="hljs-property">maxHp</span>,p.<span class="hljs-property">hp</span>+<span class="hljs-number">30</span>));n==<span class="hljs-number">1</span>&amp;&amp;(ms=<span class="hljs-number">6</span>);n==<span class="hljs-number">2</span>&amp;&amp;(jp=-<span class="hljs-number">20</span>);n==<span class="hljs-number">3</span>&amp;&amp;(p.<span class="hljs-property">inv</span>=!<span class="hljs-number">0</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>){ms=<span class="hljs-number">3</span>;jp=-<span class="hljs-number">12</span>;p.<span class="hljs-property">inv</span>=!<span class="hljs-number">1</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">plats</span>(<span class="hljs-params"/>){<span class="hljs-keyword">return</span>[...<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">"body *"</span>)].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>e.<span class="hljs-title function_">getBoundingClientRect</span>()).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>r.<span class="hljs-property">width</span>&gt;<span class="hljs-number">60</span>&amp;&amp;r.<span class="hljs-property">height</span>&gt;<span class="hljs-number">20</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">col</span>(<span class="hljs-params"/>){p.<span class="hljs-property">onGround</span>=!<span class="hljs-number">1</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> r <span class="hljs-keyword">of</span> <span class="hljs-title function_">plats</span>())<span class="hljs-keyword">if</span>(p.<span class="hljs-property">x</span>+p.<span class="hljs-property">w</span>&gt;r.<span class="hljs-property">left</span>&amp;&amp;p.<span class="hljs-property">x</span>&lt;r.<span class="hljs-property">right</span>&amp;&amp;p.<span class="hljs-property">y</span>+p.<span class="hljs-property">h</span>&gt;r.<span class="hljs-property">top</span>&amp;&amp;p.<span class="hljs-property">y</span>+p.<span class="hljs-property">h</span>&lt;r.<span class="hljs-property">top</span>+<span class="hljs-number">15</span>&amp;&amp;p.<span class="hljs-property">vy</span>&gt;=<span class="hljs-number">0</span>&amp;&amp;!p.<span class="hljs-property">dropping</span>){p.<span class="hljs-property">y</span>=r.<span class="hljs-property">top</span>-p.<span class="hljs-property">h</span>;p.<span class="hljs-property">vy</span>=<span class="hljs-number">0</span>;p.<span class="hljs-property">onGround</span>=!<span class="hljs-number">0</span>}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">pick</span>(<span class="hljs-params"/>){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=it.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--){<span class="hljs-keyword">let</span> o=it[i];<span class="hljs-keyword">if</span>(p.<span class="hljs-property">x</span>&lt;o.<span class="hljs-property">x</span>+o.<span class="hljs-property">s</span>&amp;&amp;p.<span class="hljs-property">x</span>+p.<span class="hljs-property">w</span>&gt;o.<span class="hljs-property">x</span>&amp;&amp;p.<span class="hljs-property">y</span>&lt;o.<span class="hljs-property">y</span>+o.<span class="hljs-property">s</span>&amp;&amp;p.<span class="hljs-property">y</span>+p.<span class="hljs-property">h</span>&gt;o.<span class="hljs-property">y</span>){<span class="hljs-title function_">eff</span>(o.<span class="hljs-property">t</span>);it.<span class="hljs-title function_">splice</span>(i,<span class="hljs-number">1</span>)}}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>){dead=!<span class="hljs-number">0</span>;<span class="hljs-title function_">cancelAnimationFrame</span>(a);<span class="hljs-built_in">clearInterval</span>(si);<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"keydown"</span>,kd);<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"keyup"</span>,ku);<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"resize"</span>,r);c.<span class="hljs-title function_">remove</span>();<span class="hljs-keyword">delete</span> <span class="hljs-variable language_">window</span>[I]}<span class="hljs-keyword">function</span> <span class="hljs-title function_">upd</span>(<span class="hljs-params"/>){<span class="hljs-keyword">if</span>(dead)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">if</span>(!p.<span class="hljs-property">inv</span>)p.<span class="hljs-property">hp</span>-=<span class="hljs-number">.01</span>;<span class="hljs-keyword">if</span>(p.<span class="hljs-property">hp</span>&lt;=<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-title function_">destroy</span>();k.<span class="hljs-property">ArrowLeft</span>&amp;&amp;(p.<span class="hljs-property">vx</span>=-ms);k.<span class="hljs-property">ArrowRight</span>&amp;&amp;(p.<span class="hljs-property">vx</span>=ms);p.<span class="hljs-property">vx</span>*=f;p.<span class="hljs-property">vy</span>+=g;p.<span class="hljs-property">x</span>+=p.<span class="hljs-property">vx</span>;p.<span class="hljs-property">y</span>+=p.<span class="hljs-property">vy</span>;<span class="hljs-title function_">col</span>();<span class="hljs-title function_">pick</span>();k.<span class="hljs-property">ArrowDown</span>||(p.<span class="hljs-property">dropping</span>=!<span class="hljs-number">1</span>);p.<span class="hljs-property">y</span>&gt;innerHeight+<span class="hljs-number">200</span>&amp;&amp;(p.<span class="hljs-property">y</span>=-<span class="hljs-number">100</span>,p.<span class="hljs-property">vy</span>=<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(et&gt;<span class="hljs-number">0</span>&amp;&amp;!--et)<span class="hljs-title function_">reset</span>();t+=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(p.<span class="hljs-property">vx</span>)*<span class="hljs-number">.2</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">limb</span>(<span class="hljs-params">X,Y,l,a2</span>){x.<span class="hljs-title function_">beginPath</span>();x.<span class="hljs-title function_">moveTo</span>(X,Y);x.<span class="hljs-title function_">lineTo</span>(X+<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(a2)*l,Y+<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(a2)*l);x.<span class="hljs-title function_">stroke</span>()}<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"/>){x.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,c.<span class="hljs-property">width</span>,c.<span class="hljs-property">height</span>);x.<span class="hljs-property">lineWidth</span>=<span class="hljs-number">2</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o <span class="hljs-keyword">of</span> it){x.<span class="hljs-property">fillStyle</span>=o.<span class="hljs-property">t</span>==<span class="hljs-number">0</span>?<span class="hljs-string">"lime"</span>:o.<span class="hljs-property">t</span>==<span class="hljs-number">1</span>?<span class="hljs-string">"orange"</span>:o.<span class="hljs-property">t</span>==<span class="hljs-number">2</span>?<span class="hljs-string">"cyan"</span>:<span class="hljs-string">"gold"</span>;x.<span class="hljs-title function_">fillRect</span>(o.<span class="hljs-property">x</span>,o.<span class="hljs-property">y</span>,o.<span class="hljs-property">s</span>,o.<span class="hljs-property">s</span>)}x.<span class="hljs-property">font</span>=<span class="hljs-string">"12px monospace"</span>;x.<span class="hljs-property">fillStyle</span>=<span class="hljs-string">"black"</span>;x.<span class="hljs-title function_">fillText</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(p.<span class="hljs-property">hp</span>)+<span class="hljs-string">" / "</span>+p.<span class="hljs-property">maxHp</span>,c.<span class="hljs-property">width</span>-<span class="hljs-number">100</span>,c.<span class="hljs-property">height</span>-<span class="hljs-number">15</span>);<span class="hljs-keyword">let</span> px=p.<span class="hljs-property">x</span>,py=p.<span class="hljs-property">y</span>;x.<span class="hljs-title function_">beginPath</span>();x.<span class="hljs-title function_">arc</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">8</span>,<span class="hljs-number">6</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);x.<span class="hljs-title function_">stroke</span>();x.<span class="hljs-title function_">beginPath</span>();x.<span class="hljs-title function_">moveTo</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">14</span>);x.<span class="hljs-title function_">lineTo</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">30</span>);x.<span class="hljs-title function_">stroke</span>();<span class="hljs-keyword">let</span> <span class="hljs-keyword">as</span>=<span class="hljs-number">0</span>,ls=<span class="hljs-number">0</span>;p.<span class="hljs-property">onGround</span>?(<span class="hljs-keyword">as</span>=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)*<span class="hljs-number">.8</span>,ls=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)): (<span class="hljs-keyword">as</span>=-<span class="hljs-number">.5</span>,ls=<span class="hljs-number">.5</span>);<span class="hljs-title function_">limb</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">18</span>,<span class="hljs-number">12</span>,<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">2</span>+<span class="hljs-keyword">as</span>);<span class="hljs-title function_">limb</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">18</span>,<span class="hljs-number">12</span>,<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">2</span>-<span class="hljs-keyword">as</span>);<span class="hljs-title function_">limb</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">30</span>,<span class="hljs-number">14</span>,<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">2</span>+ls);<span class="hljs-title function_">limb</span>(px+<span class="hljs-number">10</span>,py+<span class="hljs-number">30</span>,<span class="hljs-number">14</span>,<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">2</span>-ls)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">loop</span>(<span class="hljs-params"/>){<span class="hljs-title function_">upd</span>();<span class="hljs-title function_">draw</span>();a=<span class="hljs-title function_">requestAnimationFrame</span>(loop)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">kd</span>(<span class="hljs-params">e</span>){[<span class="hljs-string">"ArrowUp"</span>,<span class="hljs-string">"ArrowDown"</span>,<span class="hljs-string">"ArrowLeft"</span>,<span class="hljs-string">"ArrowRight"</span>].<span class="hljs-title function_">includes</span>(e.<span class="hljs-property">code</span>)&amp;&amp;e.<span class="hljs-title function_">preventDefault</span>();k[e.<span class="hljs-property">code</span>]=!<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(e.<span class="hljs-property">code</span>==<span class="hljs-string">"ArrowUp"</span>&amp;&amp;p.<span class="hljs-property">onGround</span>)p.<span class="hljs-property">vy</span>=jp;<span class="hljs-keyword">if</span>(e.<span class="hljs-property">code</span>==<span class="hljs-string">"ArrowDown"</span>&amp;&amp;p.<span class="hljs-property">onGround</span>){p.<span class="hljs-property">dropping</span>=!<span class="hljs-number">0</span>;p.<span class="hljs-property">vy</span>=<span class="hljs-number">5</span>}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ku</span>(<span class="hljs-params">e</span>){k[e.<span class="hljs-property">code</span>]=!<span class="hljs-number">1</span>}<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"keydown"</span>,kd,{<span class="hljs-attr">passive</span>:!<span class="hljs-number">1</span>});<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"keyup"</span>,ku);a=<span class="hljs-title function_">requestAnimationFrame</span>(loop);<span class="hljs-variable language_">window</span>[I]={destroy}})();
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c60c81ad1bf4d65bc24e6e6f18d7c7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LiN5byA5Y-R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771575776&amp;x-signature=%2FQbYwA9pQ6Lk%2F%2FNmGu2NztVQwkM%3D" alt="20260213161751_rec_-convert.gif" loading="lazy"/>
æˆ‘ä»¬æ¥æ‹†è§£ä¸€ä¸‹å®ƒèƒŒåçš„è®¾è®¡æ€è·¯ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Bookmarkletï¼šæœ€è½»é‡çš„â€œå¤–æŒ‚â€å½¢å¼</h3>
<p>æ•´ä¸ªè„šæœ¬æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">javascript</span>:(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){ ... })();
</code></pre>
<p>å®ƒçš„è¿è¡Œæœºåˆ¶æ˜¯ï¼š</p>
<ul>
<li>ä»¥ <code>javascript:</code> å¼€å¤´</li>
<li>ä½œä¸ºæµè§ˆå™¨ä¹¦ç­¾ä¿å­˜</li>
<li>ç‚¹å‡»æ—¶åœ¨å½“å‰é¡µé¢ä¸Šä¸‹æ–‡æ‰§è¡Œ</li>
</ul>
<p>ä¸ºäº†æ”¯æŒâ€œå†æ¬¡ç‚¹å‡»é”€æ¯â€ï¼Œè„šæœ¬æŒ‚è½½äº†ä¸€ä¸ªå…¨å±€æ ‡è®°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> I = <span class="hljs-string">"__stickman_anim__"</span>;
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>[I]) {
  <span class="hljs-variable language_">window</span>[I].<span class="hljs-title function_">destroy</span>();
  <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">window</span>[I];
  <span class="hljs-keyword">return</span>;
}
</code></pre>
<p>è¿™æ®µè®¾è®¡éå¸¸å…³é”®ï¼Œå®ƒè®©è¿™ä¸ªè„šæœ¬å…·å¤‡ï¼š</p>
<ul>
<li>å¯é‡å¤æ‰§è¡Œ</li>
<li>å¯ä¼˜é›…å¸è½½</li>
<li>ä¸ä¼šé‡å¤åˆ›å»ºå®ä¾‹</li>
</ul>
<p>è¿™æ˜¯å†™ä»»ä½•â€œæ³¨å…¥å‹è„šæœ¬â€æ—¶éƒ½åº”è¯¥å…»æˆçš„ä¹ æƒ¯ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€Canvas è¦†ç›–å±‚ï¼šä¸å¹²æ‰°é¡µé¢äº¤äº’çš„æ ¸å¿ƒæŠ€å·§</h3>
<p>è„šæœ¬é€šè¿‡åˆ›å»ºä¸€ä¸ªå…¨å± canvas ä½œä¸ºæ¸²æŸ“å±‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> c = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"canvas"</span>);
c.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`
  position:fixed;
  left:0;
  top:0;
  pointer-events:none;
  z-index:999999
`</span>;
</code></pre>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼š</p>
<h4 data-id="heading-3">1.pointer-events: none</h4>
<p>è¿™ä¿è¯ï¼š</p>
<ul>
<li>é¼ æ ‡ç‚¹å‡»ä»ç„¶ç©¿é€ canvas</li>
<li>ä¸å½±å“ç½‘é¡µåŸæœ‰äº¤äº’</li>
</ul>
<p>è¿™æ˜¯å®ç°â€œå¤–æŒ‚å±‚â€ä½“éªŒçš„å…³é”®ã€‚</p>
<h4 data-id="heading-4">2.è¶…é«˜ z-index</h4>
<p>ç¡®ä¿æ— è®ºä»€ä¹ˆç½‘ç«™ï¼Œéƒ½èƒ½æ˜¾ç¤ºåœ¨æœ€ä¸Šå±‚ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€ç‰©ç†ç³»ç»Ÿï¼šä¸€ä¸ªæç®€ 2D å¼•æ“</h3>
<p>ç«æŸ´äººçš„è¿åŠ¨æ ¸å¿ƒå‚æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> g = <span class="hljs-number">0.6</span>;     <span class="hljs-comment">// é‡åŠ›</span>
<span class="hljs-keyword">let</span> f = <span class="hljs-number">0.85</span>;    <span class="hljs-comment">// æ‘©æ“¦</span>
<span class="hljs-keyword">let</span> ms = <span class="hljs-number">3</span>;      <span class="hljs-comment">// ç§»åŠ¨é€Ÿåº¦</span>
<span class="hljs-keyword">let</span> jp = -<span class="hljs-number">12</span>;    <span class="hljs-comment">// è·³è·ƒåˆé€Ÿåº¦</span>
</code></pre>
<p>æ¯ä¸€å¸§çš„æ›´æ–°é€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js">p.<span class="hljs-property">vx</span> *= f;
p.<span class="hljs-property">vy</span> += g;
p.<span class="hljs-property">x</span> += p.<span class="hljs-property">vx</span>;
p.<span class="hljs-property">y</span> += p.<span class="hljs-property">vy</span>;
</code></pre>
<p>è¿™å°±æ˜¯ä¸€ä¸ªæœ€åŸºç¡€çš„ï¼š</p>
<ul>
<li>é‡åŠ›æ¨¡æ‹Ÿ</li>
<li>æ‘©æ“¦å‡é€Ÿ</li>
<li>é€Ÿåº¦ç§¯åˆ†</li>
</ul>
<p>è™½ç„¶ç®€å•ï¼Œä½†å·²ç»è¶³å¤Ÿæµç•…ã€‚</p>
<hr/>
<h3 data-id="heading-6">å››ã€ç½‘é¡µå³å¹³å°ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">plats</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">return</span> [...<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">"body *"</span>)]
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-title function_">getBoundingClientRect</span>())
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">width</span> &gt; <span class="hljs-number">60</span> &amp;&amp; r.<span class="hljs-property">height</span> &gt; <span class="hljs-number">20</span>)
}
</code></pre>
<p>æŠŠé¡µé¢ä¸­æ‰€æœ‰å°ºå¯¸è¶³å¤Ÿå¤§çš„ DOM å…ƒç´ å½“æˆâ€œå¹³å°â€ã€‚</p>
<p>ç„¶ååšç®€å•çš„åº•éƒ¨ç¢°æ’æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (
  p.<span class="hljs-property">x</span> + p.<span class="hljs-property">w</span> &gt; r.<span class="hljs-property">left</span> &amp;&amp;
  p.<span class="hljs-property">x</span> &lt; r.<span class="hljs-property">right</span> &amp;&amp;
  p.<span class="hljs-property">y</span> + p.<span class="hljs-property">h</span> &gt; r.<span class="hljs-property">top</span> &amp;&amp;
  p.<span class="hljs-property">y</span> + p.<span class="hljs-property">h</span> &lt; r.<span class="hljs-property">top</span> + <span class="hljs-number">15</span> &amp;&amp;
  p.<span class="hljs-property">vy</span> &gt;= <span class="hljs-number">0</span> &amp;&amp;
  !p.<span class="hljs-property">dropping</span>
)
</code></pre>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>é¡µé¢ä¸­çš„ div</li>
<li>å¡ç‰‡</li>
<li>å›¾ç‰‡</li>
<li>åŒºå—</li>
</ul>
<p>å…¨éƒ¨å˜æˆå¯ä»¥è¸©çš„å¹³å°ã€‚</p>
<p>æ•´ä¸ªç½‘é¡µå˜æˆå…³å¡ã€‚</p>
<hr/>
<h3 data-id="heading-7">äº”ã€é“å…·ç³»ç»Ÿï¼šçŠ¶æ€å¢å¼ºæœºåˆ¶</h3>
<p>æ¯ 4 ç§’ç”Ÿæˆä¸€ä¸ªé“å…·ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">setInterval</span>(spawn, <span class="hljs-number">4000</span>);
</code></pre>
<p>é“å…·ç±»å‹ï¼š</p>

























<table><thead><tr><th>ç±»å‹</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>0</td><td>å›è¡€</td></tr><tr><td>1</td><td>åŠ é€Ÿ</td></tr><tr><td>2</td><td>è¶…çº§è·³è·ƒ</td></tr><tr><td>3</td><td>æ— æ•Œ</td></tr></tbody></table>
<p>æ•ˆæœæŒç»­æ—¶é—´ï¼š</p>
<pre><code class="hljs language-js" lang="js">et = <span class="hljs-number">300</span>; <span class="hljs-comment">// å¸§è®¡æ—¶</span>
</code></pre>
<p>ç„¶åè‡ªåŠ¨æ¢å¤é»˜è®¤å‚æ•°ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ Buff çŠ¶æ€æœºã€‚</p>
<hr/>
<h3 data-id="heading-8">å…­ã€åŠ¨ç”»ï¼šç”¨æ•°å­¦è®©ç«æŸ´äººæ´»èµ·æ¥</h3>
<p>è…¿éƒ¨å’Œæ‰‹è‡‚æ‘†åŠ¨åŸºäºï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)
</code></pre>
<p>åœ¨åœ°é¢æ—¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">as</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t) * <span class="hljs-number">0.8</span>;
ls = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t);
</code></pre>
<p>åœ¨ç©ºä¸­æ—¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">as</span> = -<span class="hljs-number">0.5</span>;
ls = <span class="hljs-number">0.5</span>;
</code></pre>
<p>é€šè¿‡æ­£å¼¦å‡½æ•°é©±åŠ¨æ‘†åŠ¨ï¼Œå‡ ä¹é›¶æˆæœ¬å®ç°åŠ¨æ€æ„Ÿã€‚</p>
<p>ä½†å…¶å®é€å¸§å›¾ç‰‡åŠ¨ç”»æ•ˆæœå¯èƒ½æ›´å¥½ã€‚</p>
<hr/>
<h3 data-id="heading-9">ä¸ƒã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š</h3>
<p>destroy æ–¹æ³•åšäº†å®Œæ•´æ¸…ç†ï¼š</p>
<ul>
<li>cancelAnimationFrame</li>
<li>clearInterval</li>
<li>removeEventListener</li>
<li>remove canvas</li>
<li>åˆ é™¤ window æŒ‚è½½</li>
</ul>
<hr/>
<h3 data-id="heading-10">å…«ã€ä¸ºä»€ä¹ˆè¿™ä¸ªå°ç©æ„å¾ˆæœ‰ä»·å€¼ï¼Ÿ</h3>
<p>å®ƒé”»ç‚¼äº†ï¼š</p>
<ul>
<li>DOM API ç†Ÿç»ƒåº¦</li>
<li>ç‰©ç†è¿åŠ¨ç†è§£</li>
<li>ç¢°æ’æ£€æµ‹æ€è·¯</li>
<li>æ¸¸æˆå¾ªç¯ç»“æ„</li>
<li>æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶</li>
<li>äº‹ä»¶ç®¡ç†ä¸æ¸…ç†</li>
</ul>
<hr/>
<h3 data-id="heading-11">ä¹ã€å¦‚æœè¦ç»§ç»­è¿›é˜¶</h3>
<p>å¯ä»¥è€ƒè™‘å¢åŠ ä¸€äº›ä¸°å¯Œçš„åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”»å‡»ç³»ç»Ÿ</li>
<li>æ•Œäºº AI</li>
<li>éŸ³æ•ˆ</li>
<li>ç²’å­çˆ†ç‚¸æ•ˆæœ</li>
<li>çœŸæ­£çš„ç¢°æ’åˆ†ç¦»ç®—æ³•</li>
<li>ä½¿ç”¨ QuadTree ä¼˜åŒ–å¹³å°æ£€æµ‹</li>
<li>ä½¿ç”¨ requestIdleCallback ä¼˜åŒ–æ‰«æé¢‘ç‡</li>
</ul>
<hr/>
<h3 data-id="heading-12">åã€æ€»ç»“</h3>
<p>è¿™æ®µä»£ç æœ¬è´¨ä¸Šåšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªä¸å½±å“é¡µé¢çš„æ¸²æŸ“å±‚</li>
<li>æŠŠ DOM å…ƒç´ å½“ä½œæ¸¸æˆä¸–ç•Œ</li>
<li>ç”¨æœ€å°ç‰©ç†æ¨¡å‹é©±åŠ¨è§’è‰²è¿åŠ¨</li>
</ol>
<p>ä¸‹ç­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“vue.diffé‡ä¸Šäº†æ‰©å±•è¿ç®—ç¬¦(...)]]></title>    <link>https://juejin.cn/post/7605941424543154218</link>    <guid>https://juejin.cn/post/7605941424543154218</guid>    <pubDate>2026-02-13T08:20:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605941424543154218" data-draft-id="7343132138655465508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“vue.diffé‡ä¸Šäº†æ‰©å±•è¿ç®—ç¬¦(...)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-13T08:20:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Yzw"/> <meta itemprop="url" content="https://juejin.cn/user/3954266615584686"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“vue.diffé‡ä¸Šäº†æ‰©å±•è¿ç®—ç¬¦(...)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3954266615584686/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Yzw
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:20:55.000Z" title="Fri Feb 13 2026 08:20:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ Vue å“åº”å¼æ€§èƒ½é™·é˜±ã€‚ä¸ºäº†å®Œå–„è¿™ä¸ªæ•…äº‹èƒŒæ™¯å¹¶æ·±å…¥å‰–æäº‹æ•…åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ‰©å†™ä¸ºä¸€ä¸ªå®é™…å¼€å‘ä¸­çš„â€œæ€§èƒ½ä¼˜åŒ–äº‹æ•…â€æ¡ˆä¾‹ã€‚
ä»¥ä¸‹æ˜¯æ‰©å†™åçš„å®Œæ•´å†…å®¹ï¼š</h3>
<h2 data-id="heading-1">æ•…äº‹èƒŒæ™¯</h2>
<p><strong>é¡¹ç›®èƒŒæ™¯</strong>ï¼š
æŸç”µå•†åå°ç®¡ç†ç³»ç»Ÿæ­£åœ¨å¼€å‘â€œå•†å“æ‰¹é‡ç¼–è¾‘â€åŠŸèƒ½ã€‚è¯¥é¡µé¢è¡¨å•æå…¶å¤æ‚ï¼ŒåŒ…å«å‡ åä¸ªå­—æ®µï¼Œåˆ†æ•£åœ¨ä¸åŒçš„ä¸šåŠ¡é€»è¾‘åŸŸä¸­ã€‚
<strong>ä¸šåŠ¡åœºæ™¯</strong>ï¼š
å¼€å‘äººå‘˜éœ€è¦å°†â€œåŸºç¡€ä¿¡æ¯â€ï¼ˆå¦‚å•†å“åç§°ã€ç¼–å·ï¼‰å’Œâ€œä»·æ ¼åº“å­˜â€ï¼ˆå¦‚å”®ä»·ã€åº“å­˜é‡ï¼‰ä¸¤éƒ¨åˆ†æ•°æ®åˆå¹¶ä¼ é€’ç»™ä¸€ä¸ªé€šç”¨çš„ <code>LogPreview</code> ç»„ä»¶ï¼ˆå³æ–‡ä¸­çš„ ChildItemï¼‰ï¼Œç”¨äºå®æ—¶ç”Ÿæˆå˜æ›´æ—¥å¿—é¢„è§ˆã€‚
<strong>ä»£ç åœºæ™¯å¤åˆ»</strong>ï¼š
ä¸ºäº†å¿«é€Ÿä¸Šçº¿ï¼Œå¼€å‘äººå‘˜ç®€å•å¤åˆ»äº†ä¸šåŠ¡ä»£ç ï¼Œå†™äº†ä¸€ä¸ª Demoã€‚é€»è¾‘çœ‹ä¼¼æ¸…æ™°ï¼šçˆ¶ç»„ä»¶ç»´æŠ¤ä¸‰ä¸ªå“åº”å¼å¯¹è±¡ <code>a</code>ã€<code>b</code>ã€<code>c</code>ï¼Œé€šè¿‡ <code>v-model</code> ç»‘å®šè¾“å…¥æ¡†ï¼Œå¹¶å°† <code>a</code> å’Œ <code>b</code> åˆå¹¶ä¼ ç»™å­ç»„ä»¶å±•ç¤ºã€‚</p>
<h2 data-id="heading-2">äº‹æ•…åŸå› </h2>
<h4 data-id="heading-3">1. äº‹æ•…ç°è±¡</h4>
<p>åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº†ä¸€ä¸ªè¯¡å¼‚çš„ç°è±¡ï¼š</p>
<ul>
<li>å½“ç”¨æˆ·åœ¨è¾“å…¥æ¡† <code>c</code>ï¼ˆå¯¹åº”æ•°æ® <code>ref({c: 3})</code>ï¼‰ä¸­è¾“å…¥å†…å®¹æ—¶ï¼ŒåŸæœ¬åº”è¯¥æ¯«æ— å…³è”çš„ <code>ChildItem</code> å­ç»„ä»¶ç«Ÿç„¶å‘ç”Ÿäº†<strong>é‡æ–°æ¸²æŸ“</strong>ã€‚</li>
<li>å­ç»„ä»¶å†…çš„â€œå½“å‰æ—¶é—´â€ä¸€ç›´åœ¨åˆ·æ–°ï¼Œè¯´æ˜å­ç»„ä»¶åœ¨ä¸æ–­æ›´æ–°ã€‚</li>
<li>åœ¨çœŸå®ä¸šåŠ¡ä¸­ï¼Œç”±äº <code>ChildItem</code> å†…éƒ¨åŒ…å«äº†å¤æ‚çš„è®¡ç®—å’Œå¤§é‡ DOM èŠ‚ç‚¹ï¼Œè¿™ç§ä¸å¿…è¦çš„é‡æ¸²æŸ“å¯¼è‡´äº†è¾“å…¥æ—¶æ˜æ˜¾çš„<strong>å¡é¡¿</strong>å’Œ<strong>æ€§èƒ½æŸè€—</strong>ã€‚</li>
</ul>
<h4 data-id="heading-4">2. æ ¸å¿ƒåŸå› å‰–æ</h4>
<p>é—®é¢˜çš„æ ¹æºåœ¨äºçˆ¶ç»„ä»¶æ¨¡æ¿ä¸­è¿™è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ChildItem</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"{...a, ...b}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ChildItem</span>&gt;</span>
</code></pre>
<h5 data-id="heading-5">åŸå› ä¸€ï¼šæ¨¡æ¿ä¸­çš„â€œéšå½¢â€æ–°å¯¹è±¡</h5>
<p>åœ¨ Vue çš„æ¨¡æ¿ç¼–è¯‘æœºåˆ¶ä¸­ï¼Œ<code>:data="{...a, ...b}"</code> å¹¶ä¸æ˜¯ä¸€ä¸ªé™æ€çš„å¼•ç”¨ã€‚
æ¯å½“çˆ¶ç»„ä»¶å› ä¸º<strong>ä»»ä½•åŸå› </strong>é‡æ–°æ¸²æŸ“æ—¶ï¼ˆå³ä½¿åªæ˜¯ä¿®æ”¹äº†æ— å…³å˜é‡ <code>c</code>ï¼‰ï¼Œæ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼ <code>"{...a, ...b}"</code> éƒ½ä¼šè¢«é‡æ–°æ‰§è¡Œã€‚
è¿™è¡Œä»£ç åœ¨ JavaScript è¿è¡Œæ—¶å±‚é¢ç­‰åŒäºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å †å†…å­˜å¯¹è±¡</span>
<span class="hljs-keyword">const</span> newData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>({ ...a.<span class="hljs-property">value</span>, ...b.<span class="hljs-property">value</span> }); 
</code></pre>
<p>å› æ­¤ï¼Œè™½ç„¶ <code>a</code> å’Œ <code>b</code> çš„å†…å®¹æ²¡å˜ï¼Œä½†æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šç”Ÿæˆä¸€ä¸ª<strong>å¼•ç”¨åœ°å€å®Œå…¨ä¸åŒ</strong>çš„æ–°å¯¹è±¡ã€‚</p>
<h5 data-id="heading-6">åŸå› äºŒï¼šProps çš„æµ…æ¯”è¾ƒ</h5>
<p>Vue çš„å“åº”å¼ç³»ç»Ÿåˆ¤æ–­ Props æ˜¯å¦å˜åŒ–ï¼Œå¯¹äºå¯¹è±¡ç±»å‹ï¼Œé‡‡ç”¨çš„æ˜¯<strong>å¼•ç”¨æ¯”è¾ƒ</strong>ã€‚</p>
<ul>
<li><strong>ç¬¬ä¸€æ¬¡æ¸²æŸ“</strong>ï¼šä¼ é€’å¯¹è±¡å¼•ç”¨åœ°å€ <code>ADDR_1</code>ã€‚</li>
<li><strong>ä¿®æ”¹ <code>c</code> è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°</strong>ï¼šæ¨¡æ¿é‡æ–°æ‰§è¡Œï¼Œç”Ÿæˆæ–°å¯¹è±¡å¼•ç”¨åœ°å€ <code>ADDR_2</code>ã€‚</li>
<li><strong>Diff ç®—æ³•åˆ¤å®š</strong>ï¼š<code>ADDR_1 !== ADDR_2</code>ï¼ŒVue è®¤ä¸º Props å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šå­ç»„ä»¶è¢«è¿«æ›´æ–°ã€‚</li>
</ul>
<h5 data-id="heading-7">åŸå› ä¸‰ï¼šä¸å¿…è¦çš„æ¸²æŸ“æ‰©æ•£</h5>
<p>æœ¬æ¡ˆä¾‹ä¸­ï¼Œ<code>c</code> çš„å˜åŒ–å¯¼è‡´äº† <code>ChildItem</code> çš„æ›´æ–°ï¼Œè¿™æ˜¯å…¸å‹çš„â€œè¿‡åº¦æ¸²æŸ“â€ã€‚ç”±äº <code>ChildItem</code> æ¥æ”¶çš„ <code>data</code> åœ¨é€»è¾‘ä¸Šå¹¶æœªæ”¹å˜ï¼ˆå€¼æ²¡å˜ï¼Œåªæ˜¯å¼•ç”¨å˜äº†ï¼‰ï¼Œè¿™ç§æ›´æ–°å®Œå…¨æ˜¯å¤šä½™çš„ã€‚</p>
<h4 data-id="heading-8">3. æ‰©å±•å®éªŒè¯æ˜</h4>
<p>å¯ä»¥é€šè¿‡åœ¨å­ç»„ä»¶ä¸­æ‰“å°æ—¥å¿—æ¥éªŒè¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨ ChildItem.vue ä¸­</span>
<span class="hljs-keyword">import</span> { watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Props data changed'</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Old Reference:'</span>, oldVal);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'New Reference:'</span>, newVal);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Is Same Object?'</span>, newVal === oldVal); <span class="hljs-comment">// ç»“æœæ°¸è¿œæ˜¯ false</span>
}, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> });
</code></pre>
<p>ä½ ä¼šå‘ç°ï¼Œåªè¦çˆ¶ç»„ä»¶æœ‰ä»»ä½•é£å¹è‰åŠ¨ï¼ˆæ¯”å¦‚ <code>c</code> å˜åŒ–ï¼‰ï¼Œæ§åˆ¶å°å°±ä¼šè¾“å‡º <code>Props data changed</code>ï¼Œè¯æ˜äº†å¼•ç”¨åœ°å€çš„å˜æ›´è§¦å‘äº†æ›´æ–°ã€‚</p>
<h4 data-id="heading-9">4. æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ</h4>
<p>è¦é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»ä¿è¯ä¼ é€’ç»™å­ç»„ä»¶çš„å¯¹è±¡å¼•ç”¨ç¨³å®šã€‚åº”å½“ä½¿ç”¨ <code>computed</code> å¯¹æ•°æ®è¿›è¡Œç¼“å­˜ã€‚
<strong>ä¿®æ­£åçš„çˆ¶ç»„ä»¶ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildItem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/ChildItem.vue"</span>;
<span class="hljs-keyword">const</span> a = <span class="hljs-title function_">ref</span>({<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>});
<span class="hljs-keyword">const</span> b = <span class="hljs-title function_">ref</span>({<span class="hljs-attr">b</span>: <span class="hljs-number">2</span>});
<span class="hljs-keyword">const</span> c = <span class="hljs-title function_">ref</span>({<span class="hljs-attr">c</span>: <span class="hljs-number">3</span>});
<span class="hljs-comment">// æ ¸å¿ƒä¿®æ”¹ï¼šä½¿ç”¨ computed ç¼“å­˜å¯¹è±¡</span>
<span class="hljs-comment">// åªæœ‰å½“ a æˆ– b çœŸæ­£å‘ç”Ÿå˜åŒ–æ—¶ï¼Œcomputed æ‰ä¼šè¿”å›æ–°çš„å¯¹è±¡å¼•ç”¨</span>
<span class="hljs-keyword">const</span> mergedData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> ({
  ...a.<span class="hljs-property">value</span>,
  ...b.<span class="hljs-property">value</span>
}));
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"div1"</span>&gt;</span>{{a}} <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"a.a"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"div2"</span>&gt;</span>{{b}} <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"b.b"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"div3"</span>&gt;</span>{{c}} <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"c.c"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä½¿ç”¨è®¡ç®—å±æ€§ä¼ é€’ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ChildItem</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"mergedData"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ChildItem</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><strong>ä¿®æ­£åçš„æ•ˆæœï¼š</strong></p>
<ul>
<li>ä¿®æ”¹ <code>c</code> æ—¶ï¼Œçˆ¶ç»„ä»¶æ¸²æŸ“ï¼Œä½† <code>computed</code> ä¾èµ–çš„ <code>a</code> å’Œ <code>b</code> æœªå˜ï¼Œå› æ­¤ <code>mergedData</code> è¿”å›çš„æ˜¯<strong>ç¼“å­˜çš„æ—§å¯¹è±¡å¼•ç”¨</strong>ã€‚</li>
<li>å­ç»„ä»¶æ£€æµ‹åˆ° Props å¼•ç”¨æœªå˜ï¼Œ<strong>è·³è¿‡æ¸²æŸ“</strong>ã€‚</li>
<li>æ€§èƒ½é—®é¢˜è§£å†³ã€‚</li>
</ul>
<h4 data-id="heading-10">æ€»ç»“</h4>
<p>åœ¨ Vue æ¨¡æ¿ä¸­ç›´æ¥ä¼ é€’å†…è”åˆ›å»ºçš„å¯¹è±¡ï¼ˆå¦‚ <code>{...obj}</code> æˆ– <code>[]</code>ï¼‰æ˜¯å¼•è¯±â€œä¸å¿…è¦æ›´æ–°â€çš„å¸¸è§é™·é˜±ã€‚<strong>æ°¸è¿œä¸è¦åœ¨ props ä¸­ç›´æ¥ä¼ é€’å†…è”ç”Ÿæˆçš„å¤æ‚æ•°æ®ç±»å‹ï¼ŒåŠ¡å¿…ä½¿ç”¨ <code>computed</code> è¿›è¡ŒåŒ…è£…ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MiniMax M2.5å®æµ‹]]></title>    <link>https://juejin.cn/post/7605882792145289279</link>    <guid>https://juejin.cn/post/7605882792145289279</guid>    <pubDate>2026-02-13T08:28:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605882792145289279" data-draft-id="7605941424536223798" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MiniMax M2.5å®æµ‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM"/> <meta itemprop="datePublished" content="2026-02-13T08:28:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="EasyLLM"/> <meta itemprop="url" content="https://juejin.cn/user/1986189303485804"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MiniMax M2.5å®æµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1986189303485804/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    EasyLLM
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T08:28:19.000Z" title="Fri Feb 13 2026 08:28:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MiniMaxåœ¨æ˜¥èŠ‚å‡æœŸå‰å‘å¸ƒäº†MiniMax M2.5æ–°ç‰ˆæœ¬ï¼Œå®˜æ–¹è¡¨ç¤ºè¯¥æ¨¡å‹ç»è¿‡æ•°åä¸‡ä¸ªçœŸå®å¤æ‚ç¯å¢ƒä¸­çš„å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ è®­ç»ƒï¼Œåœ¨ç¼–ç¨‹ã€å·¥å…·è°ƒç”¨å’Œæœç´¢ã€åŠå…¬ç­‰ç”Ÿäº§åŠ›åœºæ™¯è¾¾åˆ°äº†è¡Œä¸šå‰æ²¿æ°´å¹³ã€‚æˆ‘ä»¬å¯¹MiniMax M2.5ä¸ä¸Šä¸€ä»£MiniMax M2.1è¿›è¡Œäº†å…¨é¢çš„ä¸­æ–‡åœºæ™¯å¯¹æ¯”è¯„æµ‹ï¼Œæµ‹è¯•å…¶åœ¨å‡†ç¡®ç‡ã€å“åº”æ—¶é—´ã€tokenæ¶ˆè€—å’Œæˆæœ¬ç­‰å…³é”®æŒ‡æ ‡ä¸Šçš„è¡¨ç°å·®å¼‚ã€‚</p>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæœ¬æ¬¡è¯„æµ‹ä¾§é‡ä¸­æ–‡ç»¼åˆèƒ½åŠ›åœºæ™¯ï¼Œæ¶µç›–æ•™è‚²ã€åŒ»ç–—ã€é‡‘èã€æ³•å¾‹ã€æ¨ç†ä¸æ•°å­¦è®¡ç®—ã€è¯­è¨€ä¸æŒ‡ä»¤éµä»ã€Agentå·¥å…·è°ƒç”¨ç­‰ç»´åº¦ã€‚è€ŒMiniMaxå®˜æ–¹é‡ç‚¹å¼ºè°ƒçš„ç¼–ç¨‹ã€å¤æ‚æœç´¢å’ŒåŠå…¬ç­‰Agenticåœºæ™¯èƒ½åŠ›ï¼Œå—é™äºæœ¬æ¬¡è¯„æµ‹ä½“ç³»çš„è¦†ç›–èŒƒå›´ï¼Œå¯èƒ½æœªèƒ½å……åˆ†ä½“ç°å…¶çœŸå®ä¼˜åŠ¿ã€‚å¯¹äºæœ‰ç›¸å…³éœ€æ±‚çš„ç”¨æˆ·ï¼Œå»ºè®®å‚è€ƒå®˜æ–¹è¯„æµ‹æ•°æ®æˆ–å®é™…ä½“éªŒäº§å“ã€‚</p>
<p>MiniMax M2.5ç‰ˆæœ¬è¡¨ç°ï¼š</p>
<ul>
<li>æµ‹è¯•é¢˜æ•°ï¼šçº¦1.5ä¸‡</li>
<li>æ€»åˆ†ï¼ˆå‡†ç¡®ç‡ï¼‰ï¼š65.7%</li>
<li>å¹³å‡è€—æ—¶ï¼ˆæ¯æ¬¡è°ƒç”¨ï¼‰ï¼š53s</li>
<li>å¹³å‡tokenï¼ˆæ¯æ¬¡è°ƒç”¨æ¶ˆè€—çš„tokenï¼‰ï¼š3307</li>
<li>å¹³å‡èŠ±è´¹ï¼ˆæ¯åƒæ¬¡è°ƒç”¨çš„äººæ°‘å¸èŠ±è´¹ï¼‰ï¼š26.3</li>
</ul>
<p><strong>1ã€æ–°æ—§ç‰ˆæœ¬å¯¹æ¯”</strong></p>
<p>é¦–å…ˆå¯¹æ¯”ä¸Šä¸ªç‰ˆæœ¬ï¼ˆMiniMax-M2.1ï¼‰ï¼Œæ•°æ®å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d37510b3f49d41549926fede229d95f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=SlqwoXlNCepdmkleL77GRAgXDw4%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9a52ea13eee4b2f96c5b2f661629b73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=SlZ6wlelxJW9NQWKbOjbg3cw258%3D" alt="å›¾ç‰‡.png" loading="lazy"/>
*æ•°æ®æ¥æºï¼šéçº¿æ™ºèƒ½ReLEè¯„æµ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjeinlee1991%2Fchinese-llm-benchmark" target="_blank" title="https://github.com/jeinlee1991/chinese-llm-benchmark" ref="nofollow noopener noreferrer">github.com/jeinlee1991â€¦</a></p>
<p>*è¾“å‡ºä»·æ ¼å•ä½ï¼š å…ƒ/ç™¾ä¸‡token</p>
<ul>
<li><strong>æ•´ä½“æ€§èƒ½ç¨³æ­¥æå‡</strong>ï¼šæ–°ç‰ˆæœ¬å‡†ç¡®ç‡ä»63.6%æå‡è‡³65.7%ï¼Œå¢å¹…2.1ä¸ªç™¾åˆ†ç‚¹ï¼Œæ’åä»ç¬¬57ä½è·ƒå‡è‡³ç¬¬41ä½ï¼Œæå‡äº†16ä¸ªåæ¬¡ã€‚</li>
<li><strong>å“åº”é€Ÿåº¦å¤§å¹…ä¼˜åŒ–</strong>ï¼šæ¯æ¬¡è°ƒç”¨çš„å¹³å‡è€—æ—¶ä»111sç¼©çŸ­è‡³53sï¼Œæå‡äº†çº¦52%ï¼Œç”¨æˆ·ä½“éªŒæ˜æ˜¾æ”¹å–„ã€‚è¿™ä¸å®˜æ–¹å®£ç§°çš„â€æ¯”M2.1å®Œæˆä»»åŠ¡é€Ÿåº¦å¿«37%â€œç›¸å‘¼åº”ã€‚</li>
<li><strong>Tokenæ•ˆç‡å°å¹…æ”¹å–„</strong>ï¼šæ¯æ¬¡è°ƒç”¨å¹³å‡æ¶ˆè€—çš„tokenä»3525é™è‡³3307ï¼Œå‡å°‘çº¦6.2%ï¼Œè¯´æ˜æ–°ç‰ˆæœ¬åœ¨æ¨ç†è¿‡ç¨‹ä¸­çš„tokenåˆ©ç”¨æ•ˆç‡æœ‰æ‰€ä¼˜åŒ–ã€‚</li>
<li><strong>æˆæœ¬ç•¥æœ‰ä¸‹é™</strong>ï¼šæ¯åƒæ¬¡è°ƒç”¨çš„è´¹ç”¨ä»28.1å…ƒé™è‡³26.3å…ƒï¼Œä¸‹é™çº¦6.4%ï¼Œè™½ç„¶å¹…åº¦ä¸å¤§ï¼Œä½†ç»“åˆå“åº”é€Ÿåº¦çš„å¤§å¹…æå‡ï¼Œæ•´ä½“æˆæœ¬æ•ˆç‡æ¯”æœ‰æ‰€æ”¹å–„ã€‚</li>
<li><strong>ä¸“ä¸šé¢†åŸŸè¡¨ç°åˆ†åŒ–</strong>ï¼šä»ç»†åˆ†æ¥çœ‹ï¼Œæ–°ç‰ˆæœ¬åœ¨å¤šæ•°é¢†åŸŸéƒ½æœ‰æå‡ï¼Œå…¶ä¸­â€åŒ»ç–—ä¸å¿ƒç†å¥åº·â€æå‡æ˜¾è‘—ï¼Œä»70.5%æå‡è‡³73.7%ï¼ˆ+3.2%ï¼‰ï¼›â€œæ³•å¾‹ä¸è¡Œæ”¿å…¬åŠ¡â€ä»74.3%æå‡è‡³77.0%ï¼ˆ+2.7%ï¼‰ï¼›â€œæ•™è‚²â€ä»40.0%æå‡è‡³42.3%ï¼ˆ+2.3%ï¼‰ã€‚</li>
<li><strong>Agentèƒ½åŠ›æ˜¾è‘—å¢å¼º</strong>ï¼šå€¼å¾—å…³æ³¨çš„æ˜¯ï¼Œâ€œAgentä¸å·¥å…·è°ƒç”¨â€èƒ½åŠ›ä»55.9%å¤§å¹…æå‡è‡³66.5%ï¼Œå¢å¹…è¾¾10.6ä¸ªç™¾åˆ†ç‚¹ï¼Œè¿™ä¸å®˜æ–¹å¼ºè°ƒçš„Agenticåœºæ™¯ä¼˜åŒ–æ–¹å‘ä¸€è‡´ï¼Œä¹Ÿå°è¯äº†æ¨¡å‹åœ¨å·¥å…·ä½¿ç”¨å’Œä»»åŠ¡æ‹†è§£æ–¹é¢çš„è¿›æ­¥ã€‚</li>
<li><strong>éƒ¨åˆ†é¢†åŸŸæœ‰æ‰€å›è°ƒ</strong>ï¼šæ–°ç‰ˆæœ¬åœ¨â€é‡‘èâ€é¢†åŸŸä»76.7%ä¸‹é™è‡³71.2%ï¼ˆ-5.5%ï¼‰ï¼Œâ€œè¯­è¨€ä¸æŒ‡ä»¤éµä»â€ä¹Ÿä»62.5%ä¸‹é™è‡³59.0%ï¼ˆ-3.5%ï¼‰ï¼Œè¡¨æ˜åœ¨æ•´ä½“ä¼˜åŒ–è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€å®šçš„èƒ½åŠ›æƒè¡¡ã€‚</li>
</ul>
<p><strong>2ã€å¯¹æ¯”å…¶ä»–æ¨¡å‹</strong></p>
<p>åœ¨å½“å‰ä¸»æµå¤§æ¨¡å‹ç«äº‰æ ¼å±€ä¸­ï¼ŒMiniMax M2.5è¡¨ç°å¦‚ä½•ï¼Ÿæˆ‘ä»¬ä»åŒæˆæœ¬æ¡£ä½ã€æ–°æ—§ç‰ˆæœ¬è¿­ä»£ã€å¼€æºä¸é—­æºä¸‰ä¸ªç»´åº¦è¿›è¡Œæ¨ªå‘å¯¹æ¯”åˆ†æï¼ˆæœ¬è¯„æµ‹ä¾§é‡ä¸­æ–‡åœºæ™¯ï¼Œæ¨¡å‹åœ¨å…¶ä»–è¯­è¨€å’Œä¸“ä¸šé¢†åŸŸçš„è¡¨ç°å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/772455cc4d3644e99997e3638ced4a38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=NLBkcxW%2FSGZzsnB5TThenojBG0I%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>*æ•°æ®æ¥æºï¼šéçº¿æ™ºèƒ½ReLEè¯„æµ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjeinlee1991%2Fchinese-llm-benchmark" target="_blank" title="https://github.com/jeinlee1991/chinese-llm-benchmark" ref="nofollow noopener noreferrer">github.com/jeinlee1991â€¦</a></p>
<p><strong>åŒæˆæœ¬æ¡£ä½å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>æˆæœ¬åŒºé—´å®šä½</strong>ï¼šMiniMax M2.5ä»¥26.3å…ƒ/åƒæ¬¡çš„æˆæœ¬å¤„äºä¸­ä½æˆæœ¬åŒºé—´ã€‚ä¸æˆæœ¬ç›¸è¿‘çš„qwen3-235b-a22b-thinking-2507ï¼ˆ61.2å…ƒï¼‰ç›¸æ¯”ï¼ŒMiniMax M2.5æˆæœ¬æ›´ä½ä¸”å‡†ç¡®ç‡ç•¥é«˜ï¼ˆ65.7% vs 65.5%ï¼Œå‡ ä¹æŒå¹³ï¼‰ã€‚</li>
<li><strong>æˆæœ¬æ•ˆç‡æ¯”è¾ƒå¥½</strong>ï¼šå¯¹æ¯”åŒæ¡£ä½çš„å…¶ä»–æ¨¡å‹ï¼Œgpt-5.2-highï¼ˆ94.1å…ƒï¼‰å‡†ç¡®ç‡ä¸º67.4%ï¼Œgpt-5-2025-08-07ï¼ˆ31.9å…ƒï¼‰å‡†ç¡®ç‡ä¸º68.9%ï¼ŒMiniMax M2.5åœ¨æˆæœ¬æ§åˆ¶æ–¹é¢å…·æœ‰ä¸€å®šä¼˜åŠ¿ã€‚</li>
<li><strong>é€Ÿåº¦ä¼˜åŠ¿æ˜æ˜¾</strong>ï¼š53sçš„å“åº”æ—¶é—´åœ¨åŒæ¡£ä½æ¨¡å‹ä¸­è¡¨ç°ä¼˜å¼‚ï¼Œæ˜æ˜¾å¿«äºqwen3-235b-a22b-thinking-2507ï¼ˆ143sï¼‰ã€Kimi-K2-Thinkingï¼ˆ333sï¼‰ç­‰æ¨¡å‹ã€‚</li>
</ul>
<p><strong>æ–°æ—§ç‰ˆæœ¬è¿­ä»£å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬å‡çº§æˆæ•ˆæ˜¾è‘—</strong>ï¼šä»MiniMax M2.1åˆ°MiniMax M2.5ï¼Œæ’åä»ç¬¬57ä½æå‡è‡³ç¬¬41ä½ï¼Œå‡†ç¡®ç‡æå‡2.1ä¸ªç™¾åˆ†ç‚¹ï¼Œå“åº”é€Ÿåº¦æå‡52%ï¼Œæ•´ä½“è¿›æ­¥æ˜æ˜¾ã€‚</li>
<li><strong>è¿­ä»£é€Ÿåº¦è¡Œä¸šé¢†å…ˆ</strong>ï¼šå®˜æ–¹è¡¨ç¤ºåœ¨è¿‡å»108å¤©å†…è¿ç»­å‘å¸ƒäº†M2ã€M2.1å’ŒM2.5ä¸‰ä¸ªç‰ˆæœ¬ï¼Œæ¨¡å‹èƒ½åŠ›æŒç»­å¿«é€Ÿè¿­ä»£ï¼Œè¿™ä¸€è¿›æ­¥é€Ÿåº¦åœ¨è¡Œä¸šä¸­è¾ƒä¸ºçªå‡ºã€‚</li>
<li><strong>ä¸åŒæœŸæ–°æ¨¡å‹å¯¹æ¯”</strong>ï¼šç›¸æ¯”å…¶ä»–è¿‘æœŸå‘å¸ƒçš„æ–°ç‰ˆæœ¬ï¼Œå¦‚doubao-seed-1-8-251215ï¼ˆ71.7%ï¼‰ã€GLM-4.7ï¼ˆ71.5%ï¼‰ã€ERNIE-5.0ï¼ˆ70.9%ï¼‰ï¼ŒMiniMax M2.5çš„65.7%å‡†ç¡®ç‡å­˜åœ¨ä¸€å®šå·®è·ï¼Œè¯´æ˜åœ¨ä¸­æ–‡ç»¼åˆèƒ½åŠ›ç»´åº¦ä»æœ‰æå‡ç©ºé—´ã€‚</li>
</ul>
<p><strong>å¼€æºä¸é—­æºå¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>é—­æºæ¨¡å‹å®šä½</strong>ï¼šMiniMax M2.5ä½œä¸ºå•†ç”¨é—­æºæ¨¡å‹ï¼Œä¸åŒä¸ºé—­æºçš„doubao-seed-1-8-251215ï¼ˆ71.7%ï¼‰ã€gemini-3-pro-previewï¼ˆ72.5%ï¼‰ç›¸æ¯”ï¼Œå‡†ç¡®ç‡å­˜åœ¨5-7ä¸ªç™¾åˆ†ç‚¹çš„å·®è·ã€‚</li>
<li><strong>å¼€æºæ¨¡å‹ç«äº‰</strong>ï¼šå¯¹æ¯”å¼€æºæ¨¡å‹å¦‚DeepSeek-V3.2-Thinkï¼ˆ70.9%ï¼‰ã€DeepSeek-R1-0528ï¼ˆ65.9%ï¼‰ï¼ŒMiniMax M2.5ä¸åè€…æ°´å¹³ç›¸å½“ï¼Œä½†æˆæœ¬ï¼ˆ26.3å…ƒ vs 48å…ƒï¼‰æ›´å…·ä¼˜åŠ¿ã€‚</li>
<li><strong>ç‹¬ç‰¹ä¼˜åŠ¿é¢†åŸŸ</strong>ï¼šè™½ç„¶åœ¨ä¸­æ–‡ç»¼åˆå‡†ç¡®ç‡ä¸Šè¡¨ç°ä¸­ç­‰ï¼Œä½†MiniMax M2.5åœ¨Agentå·¥å…·è°ƒç”¨ï¼ˆ66.5%ï¼‰æ–¹é¢è¡¨ç°çªå‡ºï¼Œè¿™ä¸€ç‰¹ç‚¹ç¬¦åˆå®˜æ–¹â€ä¸ºAgentæ—¶ä»£è€Œç”Ÿâ€çš„äº§å“å®šä½ã€‚</li>
</ul>
<p><strong>3ã€å®˜æ–¹è¯„æµ‹</strong></p>
<p>æ ¹æ®MiniMaxå®˜æ–¹ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fminimaxi.com%2Fnews%2Fminimax-m25%25EF%25BC%2589%25E5%258F%2591%25E5%25B8%2583%25E7%259A%2584%25E8%25AF%2584%25E6%25B5%258B%25E6%2595%25B0%25E6%258D%25AE%25EF%25BC%258CMiniMax" target="_blank" title="https://minimaxi.com/news/minimax-m25%EF%BC%89%E5%8F%91%E5%B8%83%E7%9A%84%E8%AF%84%E6%B5%8B%E6%95%B0%E6%8D%AE%EF%BC%8CMiniMax" ref="nofollow noopener noreferrer">minimaxi.com/news/minimaâ€¦</a> M2.5åœ¨å¤šé¡¹å›½é™…æƒå¨åŸºå‡†æµ‹è¯•ä¸­å–å¾—äº†äº®çœ¼æˆç»©ï¼š</p>
<p><strong>ç¼–ç¨‹èƒ½åŠ›</strong>ï¼š</p>
<p>åœ¨ç¼–ç¨‹çš„æ ¸å¿ƒæµ‹è¯•ä¸­ï¼ŒM2.5 ç›¸æ¯”äºä¸Šä¸€ä»£æ¨¡å‹æœ‰äº†æ˜¾è‘—æå‡ï¼Œè¾¾åˆ°äº†è·Ÿ Claude Opus ç³»åˆ—ç±»ä¼¼çš„æ°´å¹³ã€‚åœ¨å¤šè¯­è¨€ç›¸å…³çš„ä»»åŠ¡ Multi-SWE-Bench ä¸Šï¼ŒM2.5 æ›´æ˜¯è¾¾åˆ°äº†ç¬¬ä¸€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dca453d7ecf1466f96b4bf93b2258d01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=4cMqL5f%2FCNwizAJdQHNnkIEzBUY%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>å®˜æ–¹è¡¨ç¤ºM2.5å…·å¤‡â€åƒæ¶æ„å¸ˆä¸€æ ·æ€è€ƒå’Œæ„å»ºâ€çš„èƒ½åŠ›ï¼Œæ¨¡å‹æ¼”åŒ–å‡ºäº†åŸç”ŸSpecè¡Œä¸ºï¼šåœ¨åŠ¨æ‰‹å†™ä»£ç å‰ï¼Œä»¥æ¶æ„å¸ˆè§†è§’ä¸»åŠ¨æ‹†è§£åŠŸèƒ½ã€ç»“æ„å’ŒUIè®¾è®¡ï¼Œå®ç°å®Œæ•´çš„å‰æœŸè§„åˆ’ã€‚</p>
<p>M2.5åœ¨è¶…è¿‡10ç§ç¼–ç¨‹è¯­è¨€ï¼ˆåŒ…æ‹¬GOã€Cã€C++ã€TSã€Rustã€Kotlinã€Pythonã€Javaã€JSã€PHPã€Luaã€Dartã€Rubyï¼‰å’Œæ•°åä¸‡ä¸ªçœŸå®ç¯å¢ƒä¸­è¿›è¡Œäº†è®­ç»ƒï¼Œèƒ½å¤Ÿèƒœä»»ä»0-1ç³»ç»Ÿè®¾è®¡åˆ°90-100å®Œå¤‡æµ‹è¯•çš„å…¨æµç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5dd5199369348b398c54e50c4d4992d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=EqcUbL%2FtjaPa6s7H017TBpHNHAA%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>ä¸ºäº†æ›´ç²¾å‡†åœ°è¡¡é‡è¿™ä¸€èƒ½åŠ›ï¼Œå®˜æ–¹å°† VIBE åŸºå‡†å‡çº§ä¸ºéš¾åº¦æ›´é«˜ã€æ›´å…·æŒ‘æˆ˜æ€§çš„ Pro ç‰ˆæœ¬ï¼Œæ˜¾è‘—æå‡äº†ä»»åŠ¡å¤æ‚åº¦ã€é¢†åŸŸè¦†ç›–é¢åŠè¯„ä¼°å‡†ç¡®æ€§ã€‚ç»¼åˆè¯„æµ‹æ˜¾ç¤ºï¼ŒM2.5 ä¸ Opus 4.5 è¡¨ç°æ——é¼“ç›¸å½“ã€‚</p>
<p><strong>æœç´¢å’Œå·¥å…·è°ƒç”¨</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07cc469feaa54672a11fe8bce3649b42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=FYRgtxYTnrTQSHilYkuhW1OR74U%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>åœ¨ BrowseCompã€Wide Search ç­‰æƒå¨æ¦œå•ä¸­ï¼ŒM2.5 å‡è¾¾åˆ°äº†è¡Œä¸šé¡¶å°–æ°´å¹³ã€‚åŒæ—¶ï¼Œæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›è¿›ä¸€æ­¥å¢å¼ºï¼Œå³ä¾¿é¢å¯¹é™Œç”Ÿçš„è„šæ‰‹æ¶ç¯å¢ƒï¼Œè¡¨ç°ä¾ç„¶ç¨³å®šã€‚</p>
<p>åœ¨ä¸“å®¶çº§çœŸå®æœç´¢ä»»åŠ¡ä¸­ï¼Œä½¿ç”¨æœç´¢å¼•æ“å¾€å¾€åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ›´å¤šå·¥ä½œåœ¨äºå¯¹ä¸“ä¸šç½‘é¡µå†…å®¹çš„æ·±åº¦æŒ–æ˜ã€‚ä¸ºæ­¤ï¼Œå®˜æ–¹æ„å»ºäº† RISE (Realistic Interactive Search Evaluation) è¯„æµ‹é›†ï¼Œä¸“é—¨ç”¨äºè¡¡é‡æ¨¡å‹åœ¨çœŸå®ä¸“ä¸šä»»åŠ¡ä¸Šçš„æœç´¢ä¸æ¢ç´¢èƒ½åŠ›ã€‚ç»“æœè¯å®ï¼ŒM2.5 åœ¨æ­¤ç±»ä»»åŠ¡ä¸­è¡¨ç°å“è¶Šã€‚</p>
<p>åœ¨ BrowseCompã€Wide Search åŠ RISE ç­‰å¤šé¡¹æµ‹è¯•ä¸­ï¼ŒM2.5 å‡ä»¥æ›´å°‘çš„è½®æ¬¡æ¶ˆè€—å–å¾—äº†æ›´å¥½çš„ç»“æœâ€”â€”ç›¸æ¯” M2.1 èŠ‚çœäº†çº¦ 20% çš„è½®æ¬¡ã€‚è¿™è¯´æ˜æ¨¡å‹ä¸å†ä»…ä»…æ˜¯â€œåšå¯¹â€é¢˜ç›®ï¼Œè€Œæ˜¯æ‰¾åˆ°äº†é€šå¾€ç»“æœçš„æœ€ç®€è·¯å¾„ã€‚</p>
<p><strong>åŠå…¬åœºæ™¯</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e301cadf1cf24461aeb3aa0e15faa04f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=%2F%2BedvGh0NJFd4ujeibrAv76s9zk%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ecb054875794789b1f73a3cd133e998~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWFzeUxMTQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771576099&amp;x-signature=PtatSdXyoU1vr6J3uMyvLxMFiCc%3D" alt="å›¾ç‰‡.png" loading="lazy"/>
å®˜æ–¹ä¸é‡‘èã€æ³•å¾‹ã€ç¤¾ä¼šç§‘å­¦ç­‰é¢†åŸŸçš„èµ„æ·±ä»ä¸šè€…åˆä½œï¼Œå°†è¡Œä¸šéšæ€§çŸ¥è¯†å¸¦å…¥æ¨¡å‹è®­ç»ƒï¼Œåœ¨Wordã€PPTã€Excelé‡‘èå»ºæ¨¡ç­‰åŠå…¬é«˜é˜¶åœºæ™¯ä¸­å–å¾—æ˜¾è‘—èƒ½åŠ›æå‡ã€‚</p>
<p>åœ¨å†…éƒ¨GDPval-MMè¯„æµ‹æ¡†æ¶ä¸­ï¼ŒM2.5ä¸ä¸»æµæ¨¡å‹å¯¹æ¯”å–å¾—äº†59.0%çš„å¹³å‡èƒœç‡ã€‚</p>
<p><strong>æ•ˆç‡ä¸æˆæœ¬</strong>ï¼š</p>
<ul>
<li>åœ¨è¿è¡ŒSWE-Bench Verifiedæ—¶ï¼ŒM2.5å¹³å‡æ¯ä¸ªä»»åŠ¡æ¶ˆè€—3.52M tokenï¼Œç›¸æ¯”M2.1çš„3.72Mæœ‰æ‰€å‡å°‘ã€‚ç«¯åˆ°ç«¯è¿è¡Œæ—¶é—´ä»å¹³å‡31.3åˆ†é’Ÿå‡å°‘åˆ°22.8åˆ†é’Ÿï¼Œé€Ÿåº¦æå‡37%ï¼Œä¸Claude Opus 4.6çš„22.9åˆ†é’ŸåŸºæœ¬æŒå¹³ã€‚</li>
<li>å®˜æ–¹å¼ºè°ƒM2.5æ˜¯â€ç¬¬ä¸€ä¸ªä¸éœ€è¦è€ƒè™‘ä½¿ç”¨æˆæœ¬å¯ä»¥æ— é™ä½¿ç”¨çš„å‰æ²¿æ¨¡å‹â€ã€‚åœ¨æ¯ç§’è¾“å‡º100 tokençš„æƒ…å†µä¸‹ï¼Œè¿ç»­å·¥ä½œä¸€å°æ—¶åªéœ€èŠ±è´¹1ç¾é‡‘ï¼›æ¯ç§’è¾“å‡º50 tokençš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦0.3ç¾é‡‘ã€‚</li>
</ul>
<p>ç›®å‰æ‰€æœ‰å¤§æ¨¡å‹è¯„æµ‹æ–‡ç« åœ¨å…¬ä¼—å·ï¼š<strong>å¤§æ¨¡å‹è¯„æµ‹åŠä¼˜åŒ–NoneLinear</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agentic Engineeringæ—¶ä»£åˆ°æ¥ï¼šGLM 5.0å‘å¸ƒï¼ŒAgent Team + Kimi K2.5/GLM å¯¹æ¯”å®æµ‹100ä¸ªå°æ¸¸æˆç½‘ç«™]]></title>    <link>https://juejin.cn/post/7605469747258949667</link>    <guid>https://juejin.cn/post/7605469747258949667</guid>    <pubDate>2026-02-12T03:57:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605469747258949667" data-draft-id="7605326543687303177" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agentic Engineeringæ—¶ä»£åˆ°æ¥ï¼šGLM 5.0å‘å¸ƒï¼ŒAgent Team + Kimi K2.5/GLM å¯¹æ¯”å®æµ‹100ä¸ªå°æ¸¸æˆç½‘ç«™"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-12T03:57:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­ªæ–¯Wise"/> <meta itemprop="url" content="https://juejin.cn/user/3156074412913466"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agentic Engineeringæ—¶ä»£åˆ°æ¥ï¼šGLM 5.0å‘å¸ƒï¼ŒAgent Team + Kimi K2.5/GLM å¯¹æ¯”å®æµ‹100ä¸ªå°æ¸¸æˆç½‘ç«™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3156074412913466/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­ªæ–¯Wise
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-12T03:57:07.000Z" title="Thu Feb 12 2026 03:57:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21ba028d599b44c5babbc0c4f5357a02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=GYMFSUyM4ldmB2p9iZ%2B0Vw8dLxE%3D" alt="" loading="lazy"/></p>
<p>GLM 5.0ä¸Šçº¿äº†ï¼ï¼</p>
<blockquote>
<p>å­¦ç•Œä¸ä¸šç•Œæ­£é€æ¸å½¢æˆä¸€ç§å…±è¯†ï¼Œå¤§æ¨¡å‹ä»å†™ä»£ç ã€å†™å‰ç«¯ï¼Œè¿›åŒ–åˆ°å†™å·¥ç¨‹ã€å®Œæˆå¤§ä»»åŠ¡ï¼Œå³ä»â€œVibe Codingâ€å˜é©ä¸ºâ€œAgentic Engineeringâ€ã€‚</p>
<p>GLM-5 æ­£æ˜¯è¿™ä¸€å˜é©çš„äº§ç‰©ï¼šåœ¨ Coding ä¸ Agent èƒ½åŠ›ä¸Šï¼Œå–å¾—å¼€æº SOTA è¡¨ç°ï¼Œåœ¨çœŸå®ç¼–ç¨‹åœºæ™¯çš„ä½¿ç”¨ä½“æ„Ÿé€¼è¿‘ Claude Opus 4.5ï¼Œæ“…é•¿å¤æ‚ç³»ç»Ÿå·¥ç¨‹ä¸é•¿ç¨‹ Agent ä»»åŠ¡ã€‚</p>
<p>åœ¨å…¨çƒæƒå¨çš„ Artificial Analysis æ¦œå•ä¸­ï¼ŒGLM-5 ä½å±…å…¨çƒç¬¬å››ã€å¼€æºç¬¬ä¸€ã€‚</p>
<p>å…¬ä¼—å·ï¼šæ™ºè°±<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FMVo6DIcGNje_YtLgVa4PaQ" target="_blank" title="https://mp.weixin.qq.com/s/MVo6DIcGNje_YtLgVa4PaQ" ref="nofollow noopener noreferrer">GLM-5å¼€æºï¼šä»ä»£ç åˆ°å·¥ç¨‹ï¼ŒAgentic Engineeringæ—¶ä»£æœ€å¥½çš„å¼€æºæ¨¡å‹</a></p>
</blockquote>
<p>æ–‡ç« ä¸­è¯´ï¼Œæˆ‘ä»¬è¦ä»Vibe Codingæ—¶ä»£å˜é©ä¸º Agentic Engineeringçš„æ—¶ä»£ï¼Œä¸ªäººç†è§£ä¹Ÿå°±æ˜¯ä¸ä»…è¦å¿«ï¼Œè¿˜è¦åä½œï¼Œè¿˜è¦ä¸€æ¬¡åšå¯¹ã€‚</p>
<p>Vibe Codingçš„æ•ˆç‡ç“¶é¢ˆï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸²è¡Œå¤„ç†è¿˜æœ‰è´¨é‡çš„é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac01c0fb37e44b70bad00fd51e09cdc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=aNIvrpZ111Pa55tuU5ed58udb48%3D" alt="" loading="lazy"/></p>
<p>ä½†Anthropicæ–°çš„Agent Teamæœºåˆ¶å’ŒGLM 5.0 è¶…å¼ºçš„æ¨¡å‹ï¼Œä¸€ä¸‹å­æŠŠè¿™2ä¸ªç—›ç‚¹éƒ½è§£å†³äº†ï¼</p>
<hr/>
<h2 data-id="heading-0">01</h2>
<h2 data-id="heading-1">ä»å•å‘æ±‡æŠ¥åˆ°åŒå‘é€šä¿¡</h2>
<p>ä¼ ç»Ÿçš„Subagentèƒ½å¤Ÿå®ç°å¹¶è¡Œå¤„ç†ï¼Œä½†åªèƒ½å‘ä¸»Agentå•å‘æ±‡æŠ¥ç»“æœï¼ŒSubagentä¹‹é—´æ— æ³•é€šä¿¡ï¼Œæœ€ç»ˆå¦‚æœæŸä¸ªsubagentåšé”™äº†ï¼Œäºæ˜¯å°±è¦é‡æ¥ã€‚</p>
<p>å­ä»£ç†ä¹‹é—´äº’ä¸çŸ¥æƒ…ï¼Œæ›´æ— æ³•è®¨è®ºè´¨ç–‘ã€‚</p>
<p>Agent Teamså®ç°äº†ç½‘çŠ¶é€šä¿¡æ‹“æ‰‘ï¼šé˜Ÿå‘˜ä¹‹é—´å¯ä»¥ç›´æ¥å¯¹è¯ã€äº’ç›¸è´¨ç–‘ã€ååŒå†³ç­–ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯AgentTeamsçš„æ¯ä¸ªAgentæ‹¥æœ‰è‡ªå·±çš„ç‹¬ç«‹ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p>è¿™æ ·å°±ä¸å®¹æ˜“ä¹±ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºç°å¹»è§‰ï¼Œè®©AIåªå®Œæˆä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œå®ƒèƒ½å¤ŸæŠŠè¿™ä»¶äº‹æƒ…åšå¾—æ›´å¥½ã€‚</p>
<hr/>
<h2 data-id="heading-2">02</h2>
<h2 data-id="heading-3">æ ¸å¿ƒç»„ä»¶ä¸å·¥ä½œåŸç†</h2>
<p>Agent Teamsç”±å››ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š</p>






























<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th><th>æŠ€æœ¯å®ç°</th></tr></thead><tbody><tr><td>Team Lead</td><td>ä»»åŠ¡æ‹†åˆ†ã€åˆ†é…ã€æ±‡æ€»</td><td>ä¸»Claude Code session</td></tr><tr><td>Teammates</td><td>ç‹¬ç«‹æ‰§è¡Œä»»åŠ¡</td><td>ç‹¬ç«‹Claudeå®ä¾‹ + ç‹¬ç«‹ä¸Šä¸‹æ–‡</td></tr><tr><td>Task List</td><td>ä»»åŠ¡çŠ¶æ€ç®¡ç†</td><td>æœ¬åœ°æ–‡ä»¶ï¼š<code>~/.claude/tasks/</code></td></tr><tr><td>Mailbox</td><td>Agenté—´é€šä¿¡</td><td>æ¶ˆæ¯ç³»ç»Ÿï¼Œæ”¯æŒmessage/broadcast</td></tr></tbody></table>
<p>é™¤äº†Task Listè¿˜æœ‰ä¸€ä¸ªTeam Configï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆå‘˜æ•°ç»„ï¼ŒåŒ…å«æ¯ä¸ªé˜Ÿå‘˜çš„å§“åã€ä»£ç†IDå’Œä»£ç†ç±»å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d63581b80d194837b6ca92a78b367292~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=JajUMSsJELv6WvjJmU5axqAHZJo%3D" alt="é…å›¾4" loading="lazy"/></p>
<p>æ¯ä¸ªé˜Ÿå‹å¯ä»¥é˜…è¯»è¿™ä¸ªæ–‡ä»¶ç”¨äºäº†è§£å…¶ä»–é˜Ÿå‘˜æ˜¯è°ï¼Œèƒ½å¤Ÿåšä¸€äº›ä»€ä¹ˆï¼Œå¹¶ä¸”é€šè¿‡Mailboxæ¥å®ç°ç›¸äº’ä¹‹é—´çš„é€šä¿¡ã€‚</p>
<p>è€Œä»»åŠ¡åˆ—è¡¨çš„ä½œç”¨åœ¨äºå›¢é˜Ÿåä½œï¼Œè´Ÿè´£äººå¯ä»¥åˆ†é…ä»»åŠ¡ï¼Œé˜Ÿå‹ä»¬ä¹Ÿå¯ä»¥è‡ªå·±ç”³é¢†ä»»åŠ¡ã€‚</p>
<p>ä»»åŠ¡ä¼šé€šè¿‡çŠ¶æ€æ¥ç®¡ç†ï¼Œä¹ŸåŒ…æ‹¬ä¾èµ–å…³ç³»ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªå¾ˆå·§å¦™çš„ä»»åŠ¡è®¤é¢†æœºåˆ¶æ¥é¿å…å†²çªã€‚</p>
<hr/>
<h2 data-id="heading-4">03</h2>
<h2 data-id="heading-5">å’Œç°æœ‰å¤šAgentæœºåˆ¶çš„å·®å¼‚</h2>
<p>2026å¹´1æœˆ27æ—¥è‡³2æœˆ5æ—¥ï¼ŒçŸ­çŸ­åå¤©å†…ï¼Œä¸‰å®¶å¤´éƒ¨å…¬å¸ç›¸ç»§å‘å¸ƒå¤šAgentäº§å“ï¼š</p>





























<table><thead><tr><th>æ—¥æœŸ</th><th>å…¬å¸</th><th>äº§å“</th><th>æ ¸å¿ƒç‰¹ç‚¹</th></tr></thead><tbody><tr><td>01-27</td><td>Moonshot AI</td><td>Kimi K2.5 Agent é›†ç¾¤</td><td>å…¨è‡ªåŠ¨ç¼–æ’ï¼Œæœ€å¤š100ä¸ªAgent</td></tr><tr><td>02-02</td><td>OpenAI</td><td>Codexå¹¶è¡ŒAgent</td><td>æ¡Œé¢ç«¯å¤šAgentå¹¶è¡Œå¼€å‘</td></tr><tr><td>02-05</td><td>Anthropic</td><td>Claude Opus 4.6 + Agent Teams</td><td>å¤šAgentç›¸äº’åä½œ</td></tr></tbody></table>
<p>Kimi 2.5çš„é›†ç¾¤æ˜¯å°†ä»»åŠ¡æåº¦æ‹†è§£ï¼Œå¹¶è¡Œå®Œæˆï¼Œä¸ªäººç†è§£å®ƒå¼ºåŒ–çš„æ˜¯åˆ†å·¥ã€æ•ˆç‡ã€é€Ÿåº¦è¿˜æœ‰æ€§èƒ½ã€‚</p>
<p>Codexçš„æ¡Œé¢ç‰ˆç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ›´æ–¹ä¾¿å¹¶è¡Œå®Œæˆå¤šä¸ªä»»åŠ¡çš„çª—å£ï¼Œä½†å®ƒä¸çŸ¥é“åˆ«äººåšäº†ä»€ä¹ˆï¼Œä¾‹å¦‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2873a33022344a2d80edf438d4bd2883~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=jySAhxAJY3Otj%2BG%2B72vlpFOq2nY%3D" alt="" loading="lazy"/></p>
<p>è€ŒClaude Codeï¼Œåˆ™æ˜¯è®©æˆ‘ä»¬æ›´åŠ çœå¿ƒï¼Œè®©Agentè‡ªå·±åä½œã€‚</p>
<p>é‚£åˆ°åº•è¡¨ç°å¾—æ€ä¹ˆæ ·å‘¢ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ç»§ç»­ç”¨Kimi K2.5å’ŒGLM 5.0 + Claude Code +Agent Teamæ¥å®æˆ˜</p>
<hr/>
<h2 data-id="heading-6">04</h2>
<h2 data-id="heading-7">Kimi å®æµ‹ï¼šæ˜Ÿéœ²è°·æŒ–çŸ¿ &amp; å°æ¸¸æˆ htmlç½‘ç«™</h2>
<p>é¦–å…ˆï¼Œä½ è¦æœ‰Agent Teamçš„å‰ææ˜¯ï¼Œä½ æœ‰Agentã€‚</p>
<p>æ‰“å¼€Claude Codeï¼Œè¾“å…¥è¿™æ®µPrompt</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//github.com/wshobson/agentsæŠŠè¿™äº›AgentsÂ å…¨éƒ¨å®‰è£…åˆ°æˆ‘çš„Â ClaudeCodeClIé‡Œ, è·³è¿‡é‡å¤çš„</span>
</code></pre>
<p>å¦‚æœä½ å·²ç»å®‰è£…å®Œäº†ï¼Œå°±ä¸ç”¨ç®¡äº†ï¼Œæ²¡å®‰è£…ï¼Œå°±è®©å®ƒç»§ç»­å®‰è£…ã€‚</p>
<p>ä¸çŸ¥é“è‡ªå·±æœ‰ä»€ä¹ˆçš„ï¼Œè¾“å…¥è¿™æ®µPrompt</p>
<pre><code class="hljs">åˆ—å‡ºæˆ‘æ‰€æœ‰çš„agentï¼Œå‘Šè¯‰æˆ‘ä»–ä»¬æœ‰ä»€ä¹ˆä½œç”¨ã€‚
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63a7c32f39354b208c8ca2987e89b788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=rfxfPjxsQUQey%2FCYSX4nEb%2F%2BzJk%3D" alt="" loading="lazy"/></p>
<p>ç¬¬äºŒæ­¥ï¼Œæ›´æ–°ä½ çš„Claude Codeæœ€æ–°ç‰ˆï¼Œç„¶åæ‰“å¼€ä½ çš„Claude Codeè®©å®ƒå¸®ä½ å¼€å¯è¿™ä¸ªæ¨¡å¼</p>
<p>Promptä¹Ÿç‰¹åˆ«ç®€å•</p>
<pre><code class="hljs language-ruby" lang="ruby">å‚è€ƒè¿™ä¸ªæ–‡æ¡£ï¼Œæ‰“å¼€agent teamæ¨¡å¼<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/code.claude.com/docs</span><span class="hljs-regexp">/en/agent</span>-teams<span class="hljs-comment">#start-your-first-agent-team</span>
</code></pre>
<p>å¼€å¯åï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘çš„å®æˆ˜æ¼”ç¤ºã€‚</p>
<p>é¦–å…ˆå…ˆçœ‹ç»“æœï¼Œæ—å…‹åœ¨æŒ–çŸ¿ï¼Œèƒ½å¤Ÿæ”¯æŒæ”¾ç‚¸å¼¹ï¼ŒæŒ¥é“²å­ï¼Œè‡ªåŠ¨æ¡ä¸œè¥¿ã€‚ç„¶åè¿›å…¥ä¸‹ä¸€å±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcd747bdc6604e328c30beb67fd09f22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=KjVl6rdT2T3VTEcN1reqJ6o0uho%3D" alt="" loading="lazy"/></p>
<p>æˆ‘å‘Šè¯‰AIæˆ‘è¦åšä¸€ä¸ªç®€å•ç‰ˆçš„æ˜Ÿéœ²è°·æŒ–çŸ¿åœºæ™¯ï¼Œç”¨ç½‘ç«™æ¨¡æ‹Ÿï¼Œå¯åŠ¨agent teamã€‚</p>
<p>è¿™æ—¶å€™å®ƒå¯åŠ¨äº†å›¢é˜Ÿå‡†å¤‡äº†å¼€å‘æ¡†æ¶ï¼Œåœ¨è¿™ä¸ªåŒæ—¶å®ƒè¿˜é—®äº†æˆ‘é—®é¢˜ï¼Œç­‰å¾…çš„è¿‡ç¨‹ä¸­å·²ç»å¼€å§‹å¼€å‘äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/907f3ad6c9c14484bd6a9ae0d381f459~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=a5QbDtWuDKTRNT7Md84708OcSg0%3D" alt="" loading="lazy"/></p>
<p>æ²¡è¿‡ä¸€ä¼šï¼ˆå¤§æ¦‚æ˜¯15åˆ†é’Ÿå·¦å³ï¼‰å®ƒå¼€å‘å®Œäº†ï¼Œä½†UIç‰¹åˆ«ç‚¸è£‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/789fa0eeca1c4979992957ed493b37ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=jv6tx1QGf4pjKn4eO%2FoGsaNoNH0%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæ˜Ÿéœ²è°·çš„ç‚¹åœ¨å“ªï¼Ÿ</p>
<p>ç»§ç»­æŒ‡æŒ¥AIï¼Œè®©å®ƒåçœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b6e6738dc3d45428161274ab399eb84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=48RgjQ7Q6kFIe95WXAGAru5P8MY%3D" alt="" loading="lazy"/></p>
<p>è¿˜æ˜¯ä¸å¤Ÿå¥½ï¼Œè¿‡ç¨‹ä¸­æˆ‘åœ¨æƒ³ï¼Œè¿™ä¸ªäººç‰©èƒ½ä¸èƒ½æ¢æˆæ—å…‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15026b31427f463ead15b1f8b14c1b69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=gitovbvqX5yL5qCqA%2F1epn4ytME%3D" alt="" loading="lazy"/></p>
<p>å‘½ä»¤æ˜¯å‘å‡ºå»äº†ï¼Œä½†ç»“æœè¿˜æ˜¯ä¸å¤ªè¡Œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af0f6fec9cd140ac95091cbe23d0c1a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=zsNy3FfZUYx%2F2Zm6AChS47biUuM%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå°ç»¿äººä¹Ÿä¸èƒ½è¯´ä¸æ—å…‹ï¼Œé‚£ä¸ªå¸½å­å’Œè£…æ‰®æˆ‘è¿˜æ˜¯çŸ¥é“æ˜¯å•¥æœè£…çš„....</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13392664e7f34cdb849c60b10aae0690~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=4SA09h91lI1avRKFUTq%2FwVQuT30%3D" alt="" loading="lazy"/></p>
<p>äºæ˜¯æˆ‘åˆå†æ¬¡è®©geminiç”»äº†å¹…ç”»ï¼Œè€ƒéªŒäº†ä¸‹kimiçš„è¯†å›¾ç”»å›¾èƒ½åŠ›ï¼Œæœç„¶æˆ‘å¯èƒ½è¿˜æ˜¯å¤ªä¼šç»™Kimiä¸Šå¼ºåº¦äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7d4fc2c3eaf4870bacb6d27a2283dcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=tC7Fz4l%2FVLnHtDMePMTOHIf0XXI%3D" alt="" loading="lazy"/></p>
<p>å¥½çš„ï¼Œè¿™æ—¶ç»™äº†æˆ‘ä¸€ä¸ªåœ£è¯è€äººã€‚</p>
<p>æœ€åå¿æ— å¯å¿ï¼Œè®©Google AI Studio ç»™æˆ‘æŠŠè¿™å¹…å›¾ç‚¹é˜µç»˜å›¾ä¸€ä¸‹ï¼Œè®©æˆ‘ç»™Kimiã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25749a5d59214041817630e5b7b32c64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=AFMKP0TQA12J%2F4HRRZ3nduDePPQ%3D" alt="" loading="lazy"/></p>
<p>AI StudioçœŸå¥½å•Šï¼Œç›´æ¥ç»™äº†æˆ‘ä¸ªè½¬æ¢å™¨ï¼ŒAIä¸ºäº†é¿å…æˆ‘åé¢è®©å®ƒè½¬ï¼Œç»™äº†æˆ‘ä¸€ä¸ªä½“ç³»åŒ–è§£å†³æ–¹æ¡ˆ....</p>
<p>ç”¨ HTML è¡¨æ ¼çš„å•å…ƒæ ¼ä½œä¸ºåƒç´ ç‚¹ï¼Œé€šè¿‡èƒŒæ™¯è‰²æ§åˆ¶æ¯ä¸ªåƒç´ çš„é¢œè‰²ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb8ec61359724b3289ed6f4167e3ddc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=AL9u3%2BcxjcecUZgeoyJsX6WCSJQ%3D" alt="" loading="lazy"/></p>
<p>åœ¨ç»“åˆå‚è€ƒå›¾+frontend-designè¿™ä¸ªskillsï¼Œè¿™æ˜¯ç»™æˆ‘æœ€ç»ˆçš„ç»“æœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae1d79bf53da499ba1a61d6964e9e567~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=8sDikKSi2TWoinZwZLM%2BU0rjWOM%3D" alt="" loading="lazy"/></p>
<p>Tokenæ¶ˆè€—éƒ¨åˆ†ï¼Œåªç”¨äº†199å¥—é¤çš„23%ï¼Œæ¯å¤©éƒ½åœ¨ä¸ºæˆ‘æ— æ³•æ¶ˆè€—å®Œæ¨¡å‹çš„Tokenè€Œæ„§ç–šã€‚</p>
<p>æœ‰äº†Agent Teamï¼Œæ˜¯ä¸æ˜¯èƒ½å¤Ÿçƒ§çš„æ›´å¤šä¸€ç‚¹ã€‚ä»æ•ˆç‡æ¥çœ‹è¿˜æ˜¯å¾ˆé«˜æ•ˆçš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e79d4cb916224b73853eef9e4ac62245~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=9bvP8WIrwGdRCS7GrLsxsSqW47g%3D" alt="" loading="lazy"/></p>
<p>ä½†æƒ³äº†æƒ³ï¼Œå¿ä¸äº†ä¸€ç‚¹ï¼Œå†æ¥ã€‚èŠ±å”ç”¨Claude 4.6æˆåŠŸè¿‡ï¼Œæˆ‘ä»¬è¯•è¯•kimiè¡Œä¸è¡Œã€‚</p>
<p>å¿«ä¹ï¼Œå°±æ˜¯å¦‚æ­¤çš„ç®€å•ï¼Œæ®è¯´è¦å¾ˆä¹…ï¼Œæ­¤åˆ»å·²ç»å‘¨ä¸‰æ™šä¸Š12ç‚¹13åˆ†äº†ï¼Œè®©æˆ‘çœ‹çœ‹å®ƒçš„è®¡æ—¶ã€‚</p>
<p>12:44åˆ†çš„æ—¶å€™æœ‰äº†32ä¸ªæ¸¸æˆèƒ½ç©ï¼Œæˆ‘å»ä½“éªŒä¸€ä¸‹å°„ç®­çš„æ¸¸æˆï¼Œè¿™ä¸ªæ˜¯å¯ä»¥çš„ï¼Œä½†å…¶ä»–å¤§éƒ¨åˆ†éƒ½å¤±è´¥äº†ã€‚</p>
<p>ä¸é”™ï¼ŒçœŸçš„èƒ½ç©ï¼ï¼ï¼åˆ°è¿™é‡Œï¼Œæˆ‘å°±å»ç¡è§‰äº†ï¼ˆç¬¬äºŒå¤©å…¶å®ä¹Ÿè¿˜æ˜¯æ²¡æˆåŠŸï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1194833e3d0f4e2fa2e8f0fd4ece4c44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=cB3qDO7F0ZAiZ2%2F4YdIqIi721rg%3D" alt="" loading="lazy"/></p>
<p>äºæ˜¯è¿›ä¸€æ­¥å¯¹ KIMIè¾“å‡ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a91ec92443841348bcd5fcf01e8b61d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=Ya2yOlKcC8t5JuY4M6dM8uISBHI%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡å‡ è½®è¾“å‡ºåï¼Œè¿™ä¸ªæ—¶å€™ç»™æˆ‘çš„åƒæ ·å¤šäº†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/WiseWong6/kimi-game
</code></pre>
<p>å¯¹æ¯”èŠ±å”çš„å®è·µï¼ŒKimiè€å¸ˆå¯¹æ¯”Claudeè€å¸ˆè¿˜æ˜¯æœ‰å¾ˆå¤šçš„å·®è·ï¼Œæˆ‘æŠŠé“¾æ¥æ”¾åœ¨äº†vercelï¼Œä½†è¿˜æ˜¯å¾ˆå¼ºäº†ï¼ï¼å¾ˆçŸ­çš„æ—¶é—´åšå®Œäº†è¿™äº›ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//kimi-game.vercel.app/</span>
</code></pre>
<p>æœ‰å…´è¶£çš„å¯ä»¥å»ç©ç©~</p>
<hr/>
<h2 data-id="heading-8">05</h2>
<h2 data-id="heading-9">GLM 5.0 å®æµ‹ï¼š100ä¸ªå°æ¸¸æˆ htmlç½‘ç«™</h2>
<p>æ—©ä¸Šèµ·åºŠçš„æ—¶å€™ï¼ŒGLM5.0å‘å¸ƒäº†ï¼Œè¿™ç¯‡æ–‡ç« æœ¬æ¥å«æ³ªçš„è¦è¿‡æœŸäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77becfdd066e4f6e9fb21a9cb8231968~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=b%2Fw6VAcq9QKZ4Rwo%2FzYIycWoLR4%3D" alt="" loading="lazy"/></p>
<p>ä½†GLM 5.0åªå¯¹MAXå¼€æ”¾ï¼Œè€Œä¸”æ¶¨ä»·äº†ï¼Proè¦å‡çº§è¦å¤šèŠ±3kå¤§æ´‹ï¼Œè´«ç©·çš„æˆ‘å¾—åˆ°äº†å–„è‰¯çš„è¯»è€…æœ‹å‹çš„æ‹¯æ•‘ï¼ï¼ï¼</p>
<p>ä»–ä½¿ç”¨äº†æˆ‘çš„Prompt å»æµ‹è¯•äº†èƒ½ä¸èƒ½ä¸€æ³¢å‡º100ä¸ªH5å°æ¸¸æˆï¼Œå…ˆçœ‹æˆæœã€‚</p>
<p>æ—¶é—´çš„éƒ¨åˆ†ï¼Œæˆ‘10ç‚¹14åˆ†åœ¨å’Œè¯»è€…è€å¸ˆèŠå¤©ï¼Œå‘ç»™äº†ä»–æˆ‘è°ƒAPIå¤±è´¥äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e0566995ad24c2c9bccdd14c2216b2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=rzZ2Uo0IphGJ1l8CJUVudx8ax3s%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c93377d7c91e493e8dd38dcac22ece73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=Cz8AmIq%2BUto7nR4oP38ERHeqsq8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åè€å¸ˆ10ç‚¹56åˆ†å°±å‘ç»™äº†æˆ‘å‹ç¼©åŒ…ï¼Œä¹Ÿå°±æ˜¯41åˆ†é’Ÿå·¦å³å°±å®Œæˆäº†ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98da8348413148719116486002c70ac1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=8yTTdUBWArHcGBy3LYbAJOTUr5w%3D" alt="" loading="lazy"/></p>
<p>ä»æ—¥å¿—çœ‹ï¼Œå¯åŠ¨äº†å¤šä¸ªAgentä¸€èµ·å®Œæˆäº†ä»»åŠ¡ã€‚</p>
<p>æ•´ä½“ä½“éªŒæ¥è¯´ï¼Œè§†è§‰æ²¡ç»è¿‡è°ƒä¼˜è¾¾åˆ°äº†èƒ½çœ‹çš„æ°´å¹³ï¼Œè‡³å°‘ä¸æ˜¯æŠ¥é”™çš„å›¾ç‰‡ï¼Œå…¶æ¬¡è‡ªå·±å¢åŠ äº†æ¸¸æˆè¯´æ˜å¯¹äºç”¨æˆ·å¾ˆå‹å¥½ï¼Œè¿™ä¸€ç‚¹æˆ‘è¿˜æ˜¯è¦å’ŒKimiå¼ºè°ƒçš„ã€‚</p>
<p>æœ€ç»ˆå°±æ˜¯ï¼ŒçœŸçš„æ˜¯æ¯ä¸ªæ¸¸æˆéƒ½èƒ½ç©å•Š....è¿™ä¸ªä½“æ„ŸçœŸçš„å°±åƒGLMè¯´çš„ä½“æ„Ÿé€¼è¿‘ Claude Opus 4.5äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fbabe3c8fa74343adeb74da77d62602~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=YyX7anV9SfbrTPS4aGzN3w2YLzQ%3D" alt="" loading="lazy"/></p>
<p>ä½“éªŒé“¾æ¥åœ¨ä¸‹é¢ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ç©ç©</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//game-glm5.vercel.app/</span>
</code></pre>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0197190fee34434a93c33630d96ff459~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2q5pavV2lzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771473426&amp;x-signature=62TkdqMiZyapW%2Fq2hxZaj3Jyvvc%3D" alt="é…å›¾1" loading="lazy"/></p>
<p>æœªæ¥çš„å¼€å‘æ•ˆç‡ï¼Œå±äºèƒ½å¤Ÿç»„ç»‡å¤šä¸ªAgentååŒè§£å†³å¤æ‚é—®é¢˜çš„å¼€å‘è€…ã€‚</p>
<p>é‚£æˆ‘ä»¬çš„ä»·å€¼ä¼šæ…¢æ…¢å˜æˆäº†å®šä¹‰é—®é¢˜çš„è¾¹ç•Œï¼Œåœ¨æ¨¡ç³Šéœ€æ±‚ä¸­é”šå®šçœŸé—®é¢˜ã€‚åœ¨äºæŠ€æœ¯ä¸ä¸šåŠ¡çš„åˆ¤æ–­ï¼Œåœ¨ä¸ç¡®å®šæ€§ä¸­é€‰æ‹©ç¡®å®šçš„éƒ¨åˆ†ã€‚</p>
<hr/>
<blockquote>
<p>åŸæ–‡ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FmO_muup-WtiCwwURgQSUZQ" target="_blank" title="https://mp.weixin.qq.com/s/mO_muup-WtiCwwURgQSUZQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/mO_muup-Wâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vite æ’ä»¶å¼€å‘å®æˆ˜ï¼šå¦‚ä½•è‡ªåŠ¨æ³¨å…¥ SDK è„šæœ¬]]></title>    <link>https://juejin.cn/post/7605907495770112009</link>    <guid>https://juejin.cn/post/7605907495770112009</guid>    <pubDate>2026-02-13T06:44:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605907495770112009" data-draft-id="7605907495770079241" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vite æ’ä»¶å¼€å‘å®æˆ˜ï¼šå¦‚ä½•è‡ªåŠ¨æ³¨å…¥ SDK è„šæœ¬"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC"/> <meta itemprop="datePublished" content="2026-02-13T06:44:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¾„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/784393864231083"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vite æ’ä»¶å¼€å‘å®æˆ˜ï¼šå¦‚ä½•è‡ªåŠ¨æ³¨å…¥ SDK è„šæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/784393864231083/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¾„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:44:19.000Z" title="Fri Feb 13 2026 06:44:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éœ€æ±‚èƒŒæ™¯</h2>
<p>AutoForm SDK å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦æä¾›ç»™å®¢æˆ·é›†æˆã€‚
å¯¹äºä½¿ç”¨ Vite çš„å®¢æˆ·ï¼Œå¦‚æœèƒ½æä¾›ä¸€ä¸ªæ’ä»¶ï¼Œè®©ä»–ä»¬åœ¨ <code>vite.config.ts</code> é‡Œé…ç½®ä¸€ä¸‹å°±èƒ½ç”¨ï¼Œä½“éªŒä¼šå¥½å¾ˆå¤šã€‚</p>
<p>æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘ä¸€ä¸ª <strong>Vite æ’ä»¶</strong>ï¼Œå®ç° SDK è„šæœ¬çš„è‡ªåŠ¨æ³¨å…¥ã€‚</p>
<h2 data-id="heading-1">æ’ä»¶ç»“æ„</h2>
<p>Vite æ’ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿”å›ç‰¹å®šå¯¹è±¡çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite-plugin-autoform.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">autoFormPlugin</span>(<span class="hljs-params">options</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'vite-plugin-autoform'</span>,
    <span class="hljs-comment">// æ’ä»¶é’©å­</span>
    <span class="hljs-title function_">transformIndexHtml</span>(<span class="hljs-params">html</span>) {
      <span class="hljs-comment">// ...</span>
    }
  };
}
</code></pre>
<h2 data-id="heading-2">æ ¸å¿ƒé€»è¾‘ï¼štransformIndexHtml</h2>
<p>æˆ‘ä»¬éœ€è¦åœ¨ <code>index.html</code> çš„ <code>&lt;body&gt;</code> ç»“æŸæ ‡ç­¾å‰æ’å…¥ SDK çš„ <code>&lt;script&gt;</code> æ ‡ç­¾ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">transformIndexHtml</span>(<span class="hljs-params">html</span>) {
  <span class="hljs-keyword">const</span> scriptTag = <span class="hljs-string">`
    &lt;script&gt;
      window.AIFormConfig = <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(options)}</span>;
    &lt;/script&gt;
    &lt;script src="https://cdn.autoform.com/sdk.js" async&gt;&lt;/script&gt;
  `</span>;
  
  <span class="hljs-keyword">return</span> html.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'&lt;/body&gt;'</span>, <span class="hljs-string">`<span class="hljs-subst">${scriptTag}</span>&lt;/body&gt;`</span>);
}
</code></pre>
<h2 data-id="heading-3">è¿›é˜¶ï¼šå¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒåŒºåˆ†</h2>
<p>åœ¨å¼€å‘ç¯å¢ƒï¼ˆ<code>npm run dev</code>ï¼‰ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›æ³¨å…¥æœ¬åœ°çš„ SDK è„šæœ¬ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">configResolved</span>(<span class="hljs-params">config</span>) {
  isDev = config.<span class="hljs-property">command</span> === <span class="hljs-string">'serve'</span>;
},

<span class="hljs-title function_">transformIndexHtml</span>(<span class="hljs-params">html</span>) {
  <span class="hljs-keyword">const</span> src = isDev 
    ? <span class="hljs-string">'http://localhost:3000/sdk.js'</span> 
    : <span class="hljs-string">'https://cdn.autoform.com/sdk.js'</span>;
    
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 data-id="heading-4">å‘å¸ƒåˆ° NPM</h2>
<ol>
<li>åˆ›å»º <code>package.json</code>ã€‚</li>
<li>é…ç½® <code>main</code> å’Œ <code>types</code>ã€‚</li>
<li><code>npm publish</code>ã€‚</li>
</ol>
<p>ç°åœ¨ï¼Œç”¨æˆ·åªéœ€è¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install vite-plugin-autoform
</code></pre>
<p>ç„¶ååœ¨ <code>vite.config.ts</code> ä¸­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> autoForm <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-autoform'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">autoForm</span>({ <span class="hljs-attr">token</span>: <span class="hljs-string">'xxx'</span> })]
};
</code></pre>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>Vite æ’ä»¶å¼€å‘éå¸¸ç®€å•ï¼Œä½†èƒ½æå¤§åœ°æå‡ç”¨æˆ·ä½“éªŒã€‚å¯¹äº SDK å¼€å‘è€…æ¥è¯´ï¼Œæä¾›é…å¥—çš„æ„å»ºå·¥å…·æ’ä»¶æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<p>ğŸ‘‰ <strong>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F51bpms.com" target="_blank" title="https://51bpms.com" ref="nofollow noopener noreferrer">51bpms.com</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScript ç±»å‹ä½“æ“ï¼šå¦‚ä½•ä¸º SDK ç¼–å†™ä¼˜é›…çš„ç±»å‹å®šä¹‰]]></title>    <link>https://juejin.cn/post/7605811866909163529</link>    <guid>https://juejin.cn/post/7605811866909163529</guid>    <pubDate>2026-02-13T06:46:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605811866909163529" data-draft-id="7605856048361750566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScript ç±»å‹ä½“æ“ï¼šå¦‚ä½•ä¸º SDK ç¼–å†™ä¼˜é›…çš„ç±»å‹å®šä¹‰"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC"/> <meta itemprop="datePublished" content="2026-02-13T06:46:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¾„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/784393864231083"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScript ç±»å‹ä½“æ“ï¼šå¦‚ä½•ä¸º SDK ç¼–å†™ä¼˜é›…çš„ç±»å‹å®šä¹‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/784393864231083/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¾„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:46:50.000Z" title="Fri Feb 13 2026 06:46:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>ä½œä¸ºä¸€æ¬¾ SDKï¼Œæä¾›å®Œå–„çš„ TypeScript ç±»å‹å®šä¹‰ï¼ˆ.d.tsï¼‰æ˜¯å¯¹ç”¨æˆ·æœ€åŸºæœ¬çš„å°Šé‡ã€‚
AutoForm çš„é…ç½®é¡¹éå¸¸å¤æ‚ï¼Œä¸”å­˜åœ¨å¾ˆå¤šè”åŠ¨å…³ç³»ã€‚å¦‚ä½•ç”¨ TS å‡†ç¡®æè¿°è¿™äº›å…³ç³»ï¼Ÿ</p>
<p>ä»Šå¤©å¸¦å¤§å®¶åšä¸€å¥—ç±»å‹ä½“æ“ã€‚</p>
<h2 data-id="heading-1">æŒ‘æˆ˜ä¸€ï¼šäº’æ–¥å±æ€§</h2>
<p>å¦‚æœé…ç½®äº† <code>mode: 'auto'</code>ï¼Œåˆ™ <code>interval</code> å¿…å¡«ï¼›å¦‚æœ <code>mode: 'manual'</code>ï¼Œåˆ™ <code>interval</code> ä¸å¯å¡«ã€‚</p>
<p><strong>é”™è¯¯å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Config</span> {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'auto'</span> | <span class="hljs-string">'manual'</span>;
  interval?: <span class="hljs-built_in">number</span>;
}
</code></pre>
<p><strong>æ­£ç¡®å†™æ³•ï¼ˆDiscriminated Unionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AutoConfig</span> = {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'auto'</span>;
  <span class="hljs-attr">interval</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ManualConfig</span> = {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'manual'</span>;
  interval?: <span class="hljs-built_in">never</span>; <span class="hljs-comment">// å…³é”®ï¼šç¦æ­¢å‡ºç°</span>
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Config</span> = <span class="hljs-title class_">AutoConfig</span> | <span class="hljs-title class_">ManualConfig</span>;
</code></pre>
<h2 data-id="heading-2">æŒ‘æˆ˜äºŒï¼šäº‹ä»¶å›è°ƒçš„ç±»å‹æ¨å¯¼</h2>
<p>æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åœ¨ç›‘å¬äº‹ä»¶æ—¶ï¼Œèƒ½è‡ªåŠ¨æ¨å¯¼å‡º <code>event</code> å¯¹è±¡çš„ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript">sdk.<span class="hljs-title function_">on</span>(<span class="hljs-string">'success'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">data</span>); <span class="hljs-comment">// e åº”è¯¥æ˜¯ SuccessEvent</span>
});

sdk.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">message</span>); <span class="hljs-comment">// e åº”è¯¥æ˜¯ ErrorEvent</span>
});
</code></pre>
<p><strong>å®ç°ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">EventMap</span> = {
  <span class="hljs-attr">success</span>: { <span class="hljs-built_in">any</span> };
  <span class="hljs-attr">error</span>: { <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span> };
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SDK</span> {
  on&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">EventMap</span>&gt;(
    <span class="hljs-attr">type</span>: K, 
    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">event: EventMap[K]</span>) =&gt;</span> <span class="hljs-built_in">void</span>
  ) {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h2 data-id="heading-3">æŒ‘æˆ˜ä¸‰ï¼šæ·±åº¦ Partial</h2>
<p>ç”¨æˆ·é…ç½®æ—¶ï¼Œé€šå¸¸åªéœ€è¦è¦†ç›–é»˜è®¤é…ç½®çš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé€’å½’çš„ <code>Partial</code>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepPartial</span>&lt;T&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T]?: T[P] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepPartial</span>&lt;T[P]&gt; : T[P];
};
</code></pre>
<h2 data-id="heading-4">æ€»ç»“</h2>
<p>TypeScript ä¸ä»…ä»…æ˜¯ç±»å‹æ£€æŸ¥å·¥å…·ï¼Œæ›´æ˜¯æœ€å¥½çš„æ–‡æ¡£ã€‚å†™å¥½ç±»å‹å®šä¹‰ï¼Œèƒ½è®©ç”¨æˆ·åœ¨ä½¿ç”¨ SDK æ—¶è·å¾—æè‡´çš„æ™ºèƒ½æç¤ºä½“éªŒï¼Œå‡å°‘æŸ¥é˜…æ–‡æ¡£çš„æ—¶é—´ã€‚</p>
<p>ğŸ‘‰ <strong>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F51bpms.com" target="_blank" title="https://51bpms.com" ref="nofollow noopener noreferrer">51bpms.com</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»n8nåˆ°Claude Skillsï¼šè½»æ¾æå®šå°çº¢ä¹¦çƒ­é—¨ç¾é£Ÿæ‰‹è´¦ï¼Œ3åˆ†é’Ÿå‡ºå›¾ï¼Œå°ç™½ä¹Ÿèƒ½ä¼š!]]></title>    <link>https://juejin.cn/post/7605985547569397766</link>    <guid>https://juejin.cn/post/7605985547569397766</guid>    <pubDate>2026-02-13T07:16:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605985547569397766" data-draft-id="7605542907119222836" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»n8nåˆ°Claude Skillsï¼šè½»æ¾æå®šå°çº¢ä¹¦çƒ­é—¨ç¾é£Ÿæ‰‹è´¦ï¼Œ3åˆ†é’Ÿå‡ºå›¾ï¼Œå°ç™½ä¹Ÿèƒ½ä¼š!"/> <meta itemprop="keywords" content="Agent,AIGC,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T07:16:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åç«¯å°è‚¥è‚ "/> <meta itemprop="url" content="https://juejin.cn/user/2966945320667536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»n8nåˆ°Claude Skillsï¼šè½»æ¾æå®šå°çº¢ä¹¦çƒ­é—¨ç¾é£Ÿæ‰‹è´¦ï¼Œ3åˆ†é’Ÿå‡ºå›¾ï¼Œå°ç™½ä¹Ÿèƒ½ä¼š!
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2966945320667536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åç«¯å°è‚¥è‚ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:16:46.000Z" title="Fri Feb 13 2026 07:16:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°è‚¥è‚ ï¼Œä¸“æ³¨AIå¹²è´§æ•™ç¨‹åˆ†äº«ï¼Œä»Šå¤©å¸¦æ¥çš„æ•™ç¨‹æ˜¯åŸºäºClaude Code10åˆ†é’Ÿæ­å»ºç«çˆ†çš„å°çº¢ä¹¦ç¾é£Ÿæ‰‹è´¦å›¾æ–‡ç”Ÿæˆå·¥å…·ã€‚</p>
<h2 data-id="heading-0">1. å‰è¨€</h2>
<p>å‰é¢çš„çŸ¥è¯†å¡ç‰‡æ•™ç¨‹åšå®Œåã€‚å¾ˆå¤šè¯»è€…åé¦ˆå®ç°å¤ªéš¾äº†ï¼Œæ•™ç¨‹çœ‹ä¸æ‡‚ã€‚</p>
<p><a href="https://juejin.cn/post/7602512064976519231" target="_blank" title="https://juejin.cn/post/7602512064976519231">n8nå·¥ä½œæµï¼šä¸€é”®æŠŠå¤æ‚çŸ¥è¯†å˜æˆå°çº¢ä¹¦ç§‘æ™®å¡ç‰‡ï¼Œç›´æ¥å­˜å…¥æœ¬åœ°ç£ç›˜ï¼</a></p>
<p>ä¸å¾—ä¸è¯´n8nçš„é—¨æ§›ç¡®å®éœ€è¦æœ‰ä¸€ç‚¹æŠ€æœ¯èƒŒæ™¯çš„äººã€‚ä¹Ÿæœ‰è¯»è€…åé¦ˆèƒ½ä¸èƒ½åšä¸€ä¸‹æœ€è¿‘å°çº¢ä¹¦å¾ˆç«çš„ç¾é£Ÿæ‰‹è´¦å›¾æ–‡ï¼Œ<strong>æ•™ç¨‹æœ€å¥½ç®€å•ä¸€ç‚¹</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8fc7eb42c02425ab524689850700819~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=78MwfYVIeoglPig4kD49FymRA7c%3D" alt="" loading="lazy"/></p>
<p>è¿™ç¯‡æ–‡ç« æ•™ä½ ç”¨10åˆ†é’Ÿæ¥æ­å»ºæœ€è¿‘åœ¨å°çº¢ä¹¦ä¸Šå¾ˆç«çš„ç¾é£Ÿæ‰‹è´¦å›¾æ–‡ã€‚ä»…éœ€ä¸€ä¸ªæŒ‡ä»¤<code>å¸®æˆ‘ç”Ÿæˆåˆ¶ä½œè›‹ç‚’é¥­çš„å°çº¢ä¹¦æ‰‹è´¦å¡ç‰‡</code>ã€‚ç­‰å¾…å‡ åˆ†é’Ÿåç¾é£Ÿæ‰‹è´¦å¡ç‰‡å°±ä¼šå‡ºç°åœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼Œä½ åªéœ€è¦ç®€å•é…æ–‡å°±èƒ½å‘å¸ƒåˆ°å°çº¢ä¹¦/å°ç»¿ä¹¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f524dd73d934f7fa149e735aa2c9a1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=ivNMS1Im8pQ03qmW1iGC8jj4Am8%3D" alt="" loading="lazy"/></p>
<p>å›¾ç‰‡1ç»†èŠ‚ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/726b4974d68c47b38edb694b97bc2960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=xaF8md5z0ED7KuDcqpm%2Bde5Pg9Y%3D" alt="" loading="lazy"/></p>
<p>å›¾ç‰‡2ç»†èŠ‚ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a09eddc0c98d4c008efaa848d4d6d94e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=FGsh4EmmEmBlEBHp87gTFGJAkZk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2. ä¸ºä½•ä»n8nè½¬åˆ°Claude Skills</h2>
<p>n8n è™½ç„¶å¼ºå¤§ï¼Œä½†å¯¹éæŠ€æœ¯äººå‘˜æ¥è¯´ï¼Œç†è§£ Webhookã€JSON æ•°æ®ç»“æ„ä»¥åŠæ’æŸ¥æŠ¥é”™ç®€ç›´æ˜¯å™©æ¢¦ã€‚<strong>è½¬æŠ• Claude Skills ä¸»è¦åŸºäºä¸‰ä¸ªé™ç»´æ‰“å‡»çš„ä¼˜åŠ¿ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34fef6ec8aa74b3488b589a659f83536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=kqu1JbfPm5mTWVAFs1HiRz%2B%2FUcc%3D" alt="" loading="lazy"/></p>
<p><strong>1.</strong> <strong>äº¤äº’è¿›åŒ–</strong></p>
<p>n8n éœ€è¦åƒå·¥ç¨‹å¸ˆä¸€æ ·ç¼–æ’é€»è¾‘èŠ‚ç‚¹ï¼›Claude Skills åªéœ€è¦åƒè€æ¿ä¸€æ ·ä¸‹è¾¾è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€‚</p>
<p><strong>2.</strong> <strong>çµæ´»å¤šå˜</strong></p>
<p>æƒ³æ¢ä¸ªå›¾ç‰‡é£æ ¼ï¼Ÿåœ¨ n8n é‡Œè¦æ”¹å‚æ•°ï¼Œåœ¨è¿™é‡Œåªéœ€ç›´æ¥å‘Šè¯‰ Claude<strong>æ¢ä¸ªé²œè‰³ç‚¹çš„é¢œè‰²</strong>ï¼Œå®ƒèƒ½å¬æ‡‚äººè¯å¹¶åŠ¨æ€è°ƒæ•´ã€‚</p>
<p><strong>3.</strong> <strong>æœ¬åœ°ç›´è¿</strong></p>
<p>n8n é€šå¸¸éƒ¨ç½²åœ¨äº‘ç«¯/Dockerï¼Œæ–‡ä»¶è½åœ°éº»çƒ¦ï¼›Claude Skills ç›´æ¥è¿è¡Œåœ¨æœ¬åœ°ç»ˆç«¯ï¼Œç”Ÿæˆçš„å›¾ç‰‡ç›´æ¥å‡ºç°åœ¨ä½ çš„æ–‡ä»¶å¤¹é‡Œï¼Œä¸»æ‰“ä¸€ä¸ª<strong>æ‰€è§å³æ‰€å¾—</strong>ã€‚</p>
<h2 data-id="heading-2">3. æ­å»ºè¿‡ç¨‹</h2>
<h3 data-id="heading-3">3.1. å®‰è£…Claude Codeï¼ˆwindowsç³»ç»Ÿï¼‰</h3>
<p>å…¶å®ä¹‹å‰åœ¨Agent Skillsç³»åˆ—æ–‡ç« é‡Œé¢å·²ç»è¯´è¿‡Claude Codeå®‰è£…æ­¥éª¤äº†ï¼Œè¿˜æ˜¯å¾ˆå¤šäººæ²¡çœ‹æ‡‚ï¼Œä»Šå¤©å°±å†ç»†è‡´ä¸€äº›ã€‚</p>
<p><strong>1.</strong> <strong>å‰ç½®æ­¥éª¤å®‰è£…node.js</strong></p>
<p>Claude Code æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç»ˆç«¯çš„å·¥å…·ï¼Œä¾èµ– Node ç¯å¢ƒã€‚æˆ‘ä»¬éœ€è¦æ¥åˆ° Node.js å®˜ç½‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F%25EF%25BC%258C%25E9%2580%2589%25E6%258B%25A9%25E5%25AE%2589%25E8%25A3%2585%25E5%258C%2585%25EF%25BC%258C%25E5%25AE%2589%25E8%25A3%2585%25E8%25BF%2587%25E7%25A8%258B%25E4%25B8%2580%25E8%25B7%25AF%2560%25E4%25B8%258B%25E4%25B8%2580%25E6%25AD%25A5%2560%25E3%2580%2582" target="_blank" title="https://nodejs.org/%EF%BC%8C%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E4%B8%80%E8%B7%AF%60%E4%B8%8B%E4%B8%80%E6%AD%A5%60%E3%80%82" ref="nofollow noopener noreferrer">nodejs.org/ï¼Œé€‰æ‹©å®‰è£…åŒ…ï¼Œå®‰è£…è¿‡ç¨‹â€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75b7bb23bdbf42dca1c99e2d93780acd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=F01j%2BN%2B3ASuMySkKcWqcg2p7dHI%3D" alt="" loading="lazy"/></p>
<p><strong>å®‰è£…å®Œæˆåã€‚</strong> æŒ‰ä½é”®ç›˜ä¸Šçš„win+ré”®ï¼Œæ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥<code>cmd</code>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>node -v</code>ï¼ŒæŒ‰ä¸€ä¸‹é”®ç›˜çš„ä¸Šçš„<strong>å›è½¦é”®ï¼Œ</strong> å¦‚æ­£å¸¸ç°åœ¨node.jsç‰ˆæœ¬å·å³ä¸ºå®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/329c458c592c4090b9cc6cc08c397d38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=pyK81pz6ExCqVOBGgtnoTgp9SSM%3D" alt="" loading="lazy"/></p>
<p><strong>2.</strong> <strong>å®‰è£…python</strong></p>
<p>æ¥åˆ° Python å®˜ç½‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2Fwindows%2F" target="_blank" title="https://www.python.org/downloads/windows/" ref="nofollow noopener noreferrer">www.python.org/downloads/wâ€¦</a> ï¼Œä¸‹è½½å®‰è£…åŒ…ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> å®‰è£…æ—¶ä¸€å®šè¦å‹¾é€‰ <code>Add Python to PATH</code>ï¼ˆè¿™ä¸€æ­¥æœ€å…³é”®ï¼Œå¦åˆ™ç»ˆç«¯æ‰¾ä¸åˆ° Pythonï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30e838fb949c414688e6087aeaab3a25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=r4JZyt1r%2B%2BWEgLqyJOm01gD0Iuc%3D" alt="" loading="lazy"/></p>
<p><strong>å®‰è£…å®Œæˆåã€‚</strong> æŒ‰ä½é”®ç›˜ä¸Šçš„win+ré”®ï¼Œæ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥<code>cmd</code>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>python --version</code>ï¼ŒæŒ‰ä¸€ä¸‹é”®ç›˜çš„ä¸Šçš„<strong>å›è½¦é”®</strong>ï¼Œå¦‚æ­£å¸¸æ˜¾ç¤ºpythonç‰ˆæœ¬å·å³ä¸ºå®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e53d2038d024de9b5407bd2f9decb00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=i7OMkIaboV6uaCvZv1lAdd5VqQs%3D" alt="" loading="lazy"/></p>
<p><strong>3.</strong> <strong>å®‰è£…Claude Code</strong></p>
<p>æŒ‰ä½é”®ç›˜ä¸Šçš„win+ré”®ï¼Œæ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥<code>cmd</code>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>npm install -g @anthropic-ai/claude-code</code>ï¼ŒæŒ‰ä¸€ä¸‹é”®ç›˜çš„ä¸Šçš„<strong>å›è½¦é”®</strong>è¿›è¡Œå®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/648acf3913b842f195f8cbe35ac98fc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=xGCWVJPDebZ8UDTuqf6Y%2B0vEDac%3D" alt="" loading="lazy"/></p>
<p><strong>å®‰è£…å®Œæˆåã€‚</strong> è¾“å…¥<code>claude</code> éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54cecce7f0994ae680e9da0d3a5592a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=3Bizz8WNHse8mGFWeL9UTO%2B%2BD48%3D" alt="" loading="lazy"/></p>
<p><strong>4.</strong> <strong>é…ç½®doubao-seed-code</strong></p>
<p>Claude Codeå®‰è£…å¥½åè¿˜è¦é…ç½®ä¸€ä¸ªå¤§æ¨¡å‹æ¥é©±åŠ¨å®ƒã€‚åœ¨ç”µè„‘ä¸Šæ‰“å¼€Powershellï¼Œè¾“å…¥å‘½ä»¤<code>notepad $HOME.claude\settings.json</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdb64b0fae1b483ca9b009489a1dca29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=wSVqfphm7V%2BdttsoVPu%2BPyOEOfA%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ä¸€ä¸‹é”®ç›˜çš„ä¸Šçš„<strong>å›è½¦é”®ï¼Œ</strong> ä¼šå¼¹å‡ºsetting.jsæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥é…ç½®é©±åŠ¨claude codeçš„å¤§æ¨¡å‹çš„ï¼Œæˆ‘è¿™è¾¹ç”¨çš„æ˜¯è±†åŒ…ç¼–ç¨‹æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9554f977ccd04a2fa6fc5d4e826149f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=Ssw9yfXgofkhg3HHRCL2tEQze3E%3D" alt="" loading="lazy"/></p>
<p>ANTHROPIC_AUTH_TOKENå¡«å…¥ç«å±±å¼•æ“çš„<code>APIè®¿é—®ç§˜é’¥</code><a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.volcengine.com%2Fiam%2Fkeymanage" target="_blank" title="https://console.volcengine.com/iam/keymanage" ref="nofollow noopener noreferrer">console.volcengine.com/iam/keymanaâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce017cd2c5d54ab0b7ffa1368fd70d38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=87Mk%2FMyGxgzGZG0eQIJu3CWVHT0%3D" alt="" loading="lazy"/></p>
<p><strong>psï¼šè¦è®¢é˜…ç›¸åº”å¥—é¤æ‰èƒ½ç”¨</strong></p>
<h3 data-id="heading-4">3.2. æ­å»ºé¡¹ç›®</h3>
<p>è¯ä¸å¤šè¯´ï¼Œæ­£å¼å¼€å§‹æ­å»ºã€‚æœ¬æ–‡çš„Agent Skillç›®å½•ç»“æ„è®¾è®¡å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">xiaohongshu-card-maker/
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># å¿…å¡«ï¼šä½¿ç”¨è¯´æ˜ + å…ƒæ•°æ®</span>
â”œâ”€â”€ scripts/          <span class="hljs-comment"># å¿…å¡«ï¼šå¯æ‰§è¡Œä»£ç </span>
â”œâ”€â”€ references/       <span class="hljs-comment"># å¯é€‰ï¼šæ–‡æ¡£èµ„æ–™</span>
â””â”€â”€ assets/           <span class="hljs-comment"># å¯é€‰ï¼šæ¨¡æ¿ã€èµ„æºæ–‡ä»¶</span>
â””â”€â”€ output/            <span class="hljs-comment"># å¿…å¡«ï¼šè¾“å‡ºæ‰‹è´¦å›¾ç‰‡çš„ç›®å½•</span>
</code></pre>
<p>åŸºäºç›®å½•è®¾è®¡ï¼Œåœ¨.claudeç›®å½•ä¸‹æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨F:\skill-project.claude\skills\ç›®å½•ä¸‹æ–°å»ºäº†xiaohongshu-card-makerç›®å½•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/094c1266236e4cc0abaa18ccf917cbc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=6ZYgOXAsW7Y7Z9jCsjElgN1%2FD0Y%3D" alt="" loading="lazy"/></p>
<p><strong>1.</strong> <strong>ç¼–å†™skill.mdã€‚</strong></p>
<p>ä»ä¸‹å›¾å¯çŸ¥è¿™ä¸ªskillåå«xiaohongshu-card-masterã€‚å®ƒçš„è§’è‰²æ˜¯å°çº¢ä¹¦çˆ†æ¬¾æ‰‹è´¦ä¸“å®¶ï¼Œå®ƒçš„ä¸»è¦èŒè´£æ˜¯å›´ç»•<code>å°å…«</code>æ¥åˆ¶ä½œç¾é£Ÿæ‰‹è´¦ã€‚</p>
<p>è¿™æ˜¯æˆ‘ç¼–å†™æç¤ºè¯çš„æ€è·¯ï¼Œä½ å¯ä»¥åŸºäºæˆ‘çš„æŠ•å–‚ç»™è±†åŒ…æ¥æ‰©å†™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„èœå
<span class="hljs-bullet">2.</span> è°ƒç”¨generate.pyè¿›è¡Œç”Ÿå›¾æ“ä½œ
å›¾ç‰‡å¸ƒå±€ï¼š
<span class="hljs-bullet">-</span> é‡‡ç”¨å‚ç›´æ¨¡å—åŒ–ç½‘æ ¼ï¼Œä½¿ç”¨æ‰‹ç»˜ç›´çº¿ã€è™šçº¿æˆ–â€œçº¸èƒ¶å¸¦â€è¿›è¡ŒåŒºåŸŸåˆ†å‰²ã€‚
<span class="hljs-bullet">-</span> å…³é”®æ­¥éª¤é—´ä½¿ç”¨æ‰‹å†™æ„Ÿçš„ç®­å¤´æˆ–åœ†ç‚¹è¿æ¥ï¼Œå½¢æˆæ¸…æ™°çš„é˜…è¯»åŠ¨çº¿ã€‚
å›¾ç‰‡é£æ ¼ï¼š
-ç°ä»£ç®€çº¦ Ins é£â€œç²¾è£…ä¿®â€æ‰‹è´¦ï¼ŒèåˆçŸ¢é‡æ’ç”»çš„ç²¾å‡†ä¸æ°´å½©ç”»é£çš„æ¸©é¦¨ã€‚
-IPå½¢è±¡å›ºå®šä¸ºå°å…«ã€‚
<span class="hljs-bullet">3.</span> å°†ç”Ÿæˆçš„å›¾ç‰‡å†™å…¥outputæ–‡ä»¶å¤¹
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1aa24761fee4529a0ffd1eb3bb17de6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=FRW%2BlquN767ivwnt8Q7p5iHYfyA%3D" alt="" loading="lazy"/></p>
<p><strong>2.</strong> <strong>ç¼–å†™generate.py</strong></p>
<p>æ¥åˆ°.claude/skills/xiaohongshu-card-maker/scriptsç›®å½•ä¸‹ï¼Œç¼–å†™<strong>generate.py</strong>ä»£ç ã€‚</p>
<p>è¿™æ˜¯æˆ‘ç¼–å†™ä»£ç çš„æ€è·¯ï¼Œä½ å¯ä»¥åŸºäºæˆ‘çš„æŠ•å–‚ç»™è±†åŒ…æ¥æ‰©å†™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ¥æ”¶å‚æ•°ï¼šé€šè¿‡å‘½ä»¤è¡Œæ¥æ”¶ Claude ä¼ æ¥çš„ç»˜ç”»æç¤ºè¯ (--prompt)ã€‚
<span class="hljs-bullet">2.</span> è°ƒç”¨æ¥å£ï¼šå°†æç¤ºè¯å‘é€ç»™äº‘ç«¯ç»˜å›¾ APIï¼ˆä»£ç ä¸­é…ç½®çš„ kg-api.cloudï¼‰ï¼Œå¹¶æŒ‡å®šä½¿ç”¨ nano-banana-2-4kæ¨¡å‹è¿›è¡Œç”Ÿæˆã€‚
<span class="hljs-bullet">3.</span> è‡ªåŠ¨ä¸‹è½½ï¼šæ‹¿åˆ°ç”Ÿæˆçš„å›¾ç‰‡é“¾æ¥åï¼Œè‡ªåŠ¨å°†å…¶ä¸‹è½½å¹¶ä¿å­˜åˆ°æœ¬åœ°çš„ output æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶æŒ‰æ—¶é—´æˆ³å‘½åã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5061290a0ff4185b3b1da8a7e590051~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=lRKh2B8WVBPC3CW5hxKLF2nImb0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">3.3 æµ‹è¯•</h3>
<p>å›åˆ°.claudeä¸Šçº§ç›®å½•ï¼Œåœ¨æ–‡ä»¶è·¯å¾„å¤„è¾“å…¥<code>cmd</code>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>claude</code>è¿›å…¥claude codeï¼Œå†è¾“å…¥<code>æœ‰å“ªäº›å¯ç”¨çš„skill</code>ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹å›¾ä¸­ï¼Œç”Ÿæˆå°çº¢ä¹¦æ‰‹è´¦å¡ç‰‡çš„skillå·²ç»è¢«æˆåŠŸæ·»åŠ ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79b7107cfa104077905e1beca843ad40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=tGMev9ra6lxloKeFwJhW6uweWPA%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥å‘½ä»¤<code>å¸®æˆ‘ç”Ÿæˆåˆ¶ä½œç³–é†‹é‡Œè„Šçš„å°çº¢ä¹¦æ‰‹è´¦å¡ç‰‡</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9fc3beffee243fe89d828c6021dbfb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=joi71D81H9KWoYcJ80lGTfVDEf8%3D" alt="" loading="lazy"/></p>
<p>ç­‰å¾…å‡ åˆ†é’Ÿï¼Œæ‰‹è´¦å¡ç‰‡å°±åˆ¶ä½œå®Œæˆäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0a01559518240cbad443e11508d2b37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=qLkbLr%2FS16wc5o1pym4tAtjegLU%3D" alt="" loading="lazy"/></p>
<p>æ¥åˆ°outputæ–‡ä»¶å¤¹å¯ä»¥çœ‹åˆ°ç³–é†‹é‡Œè„Šçš„åˆ¶ä½œæ‰‹è´¦å›¾æ–‡å·²ç»å­˜åœ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a67eca0852e43208816eb1bd90280ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=zOT3iFvk9WsVU7mo2rGPtAaFJNA%3D" alt="" loading="lazy"/></p>
<p>ç»†èŠ‚å±•ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd01d58df765475da7eac4076c174432~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=dhogwbrwb15Aq3fLc0AJh8riNsw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8a4d10d267142ff8dfe2914f7aa734b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=c1w0GwUM%2B8mfqHuQTKMs4OiKiYs%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªskillæ„å»ºçš„å®Œæ•´æµç¨‹æ‹†è§£ï¼ŒåŠ¨æ‰‹èƒ½åŠ›å¼ºçš„è¯»è€…å¯ä»¥è·Ÿç€æ•™ç¨‹å®è·µä¸€éã€‚<strong>ä¸Šè¿°skillå·²ç»è¢«æ”¶å½•åˆ°äº†å°è‚¥è‚ å…±å­¦ç¾¤ä¸­ï¼Œéœ€è¦åŸä»¶å¯ä»¥åŠ å…¥ç¤¾ç¾¤ç›´æ¥ä½¿ç”¨å“¦ã€‚</strong></p>
<h2 data-id="heading-6">4. ç»“è¯­</h2>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»…ç”¨ä¸¤ä¸ªæ–‡ä»¶ï¼ˆ<code>SKILL.md</code> å’Œ <code>generate.py</code>ï¼‰å°±å®Œæˆäº†ä» n8n å¤æ‚è¿çº¿åˆ° Claude Agent æ™ºèƒ½ä½“çš„å‡çº§ã€‚</p>
<p><strong>å¦‚æœ¬æ¬¡åˆ†äº«å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿æ”¯æŒä¸€ä¸‹å°è‚¥è‚ ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§~</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/960fa279fbb04a49aa4c224bb412a679~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771571806&amp;x-signature=r%2B5qhf0MKN0Ebdmk5AHBMF%2BgkQw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Angular ä¸­çš„å¢é‡æ°´åˆï¼šæ„å»ºâ€œç§’å¼€ä¸”å¯äº¤äº’â€çš„ SSR åº”ç”¨]]></title>    <link>https://juejin.cn/post/7605881632541409331</link>    <guid>https://juejin.cn/post/7605881632541409331</guid>    <pubDate>2026-02-13T07:20:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605881632541409331" data-draft-id="7605881632541392947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Angular ä¸­çš„å¢é‡æ°´åˆï¼šæ„å»ºâ€œç§’å¼€ä¸”å¯äº¤äº’â€çš„ SSR åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,Angular.js"/> <meta itemprop="datePublished" content="2026-02-13T07:20:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Angular ä¸­çš„å¢é‡æ°´åˆï¼šæ„å»ºâ€œç§’å¼€ä¸”å¯äº¤äº’â€çš„ SSR åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:20:55.000Z" title="Fri Feb 13 2026 07:20:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.syncfusion.com%2Fblogs%2Fpost%2Fincremental-hydration-in-angular-apps" target="_blank" title="https://www.syncfusion.com/blogs/post/incremental-hydration-in-angular-apps" ref="nofollow noopener noreferrer">Incremental Hydration In Angular Apps</a></p>
<p>ç¿»è¯‘ï¼šTUARAN</p>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">{{å‰ç«¯å‘¨åˆŠ}}</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb429bce2d35402faee5853803c05fe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771572055&amp;x-signature=yFrT3cd4s1hbBM49kyuSn2tROkE%3D" alt="å¢é‡æ°´åˆå°é¢å›¾" loading="lazy"/></p>
<p>Angular çš„å¢é‡æ°´åˆï¼ˆIncremental Hydrationï¼‰é€šè¿‡æŠŠâ€œå¯è§â€ä¸â€œå¯äº¤äº’â€çš„æˆæœ¬æ‹†å¼€ï¼šé¡µé¢ä»ç„¶ç”¨ SSR å¾ˆå¿«æ¸²æŸ“å‡ºå®Œæ•´ HTMLï¼ˆæœ‰åˆ©äº LCP/SEOï¼‰ï¼Œä½†æŠŠæŸäº›åŒºåŸŸçš„å®¢æˆ·ç«¯æ¿€æ´»ï¼ˆäº‹ä»¶ç»‘å®šã€å˜æ›´æ£€æµ‹ç­‰ï¼‰æ¨è¿Ÿåˆ°ã€Œç©ºé—² / è¿›å…¥è§†å£ / äº¤äº’ / å®šæ—¶ã€ç­‰è§¦å‘æ—¶æœºï¼Œä»è€Œå‡å°‘ä¸»çº¿ç¨‹é˜»å¡ï¼ˆTBTï¼‰å¹¶è®©é¦–å±æ›´â€œé¡ºæ»‘â€ã€‚</p>
<h2 data-id="heading-0">ç›®å½•</h2>
<ul>
<li>
<ol>
<li>æ€§èƒ½æ‚–è®ºï¼šçœ‹èµ·æ¥å¥½äº†ï¼Œä½†è¿˜ä¸èƒ½ç”¨</li>
</ol>
</li>
<li>
<ol start="2">
<li>æ¼”è¿›ä¸æœ¯è¯­ï¼šä»â€œç ´åå¼â€åˆ°â€œéç ´åå¼â€å†åˆ°â€œå¢é‡â€</li>
</ol>
</li>
<li>
<ol start="3">
<li>æ·±å…¥ï¼š<code>@defer</code> çš„åŠ è½½ä¸æ°´åˆåŒè§¦å‘</li>
</ol>
</li>
<li>
<ol start="4">
<li>å®ç°ä¸é…ç½®ï¼šå¼€å¯å¢é‡æ°´åˆä¸äº‹ä»¶å›æ”¾</li>
</ol>
</li>
<li>
<ol start="5">
<li>æ¶æ„ï¼šåµŒå¥—å—ã€å±‚çº§è§„åˆ™ä¸ HTML çº¦æŸ</li>
</ol>
</li>
<li>
<ol start="6">
<li>æ’é”™ä¸è°ƒè¯•ï¼šæ°´åˆä¸åŒ¹é…ï¼ˆHydration Mismatchï¼‰</li>
</ol>
</li>
<li>å¸¸è§é—®é¢˜</li>
<li>æ€»ç»“ä¸è¡ŒåŠ¨æ¸…å•</li>
</ul>
<h2 data-id="heading-1">1. æ€§èƒ½æ‚–è®º</h2>
<p>ç°ä»£ Web åº”ç”¨ç»å¸¸é™·å…¥ä¸€ä¸ªæ‚–è®ºï¼š</p>
<ul>
<li>**ä¸šåŠ¡ä¸æŒ‡æ ‡ï¼ˆCore Web Vitalsï¼‰**å¸Œæœ›å°½å¿«çœ‹åˆ°å†…å®¹ï¼šé€šè¿‡ SSR æ”¹å–„ LCPï¼ˆLargest Contentful Paintï¼‰ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>å¸Œæœ›åƒ SPA ä¸€æ ·é¡ºæ»‘å¯äº¤äº’ï¼šäº‹ä»¶ç»‘å®šã€å˜æ›´æ£€æµ‹ã€è·¯ç”±ä¸å„ç§ç»„ä»¶é€»è¾‘éƒ½è¦è·‘èµ·æ¥ã€‚</li>
</ul>
<p>é—®é¢˜åœ¨äºï¼š<strong>â€œçœ‹èµ·æ¥ readyâ€ä¸â€œç”¨èµ·æ¥ readyâ€ä¹‹é—´å­˜åœ¨æ—¶é—´å·®</strong>ã€‚</p>
<p>åœ¨ä¼ ç»Ÿæ°´åˆï¼ˆhydrationï¼‰é‡Œï¼Œæµè§ˆå™¨éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸Šå¯åŠ¨æ¡†æ¶ã€éå† DOMã€æŒ‚è½½ç›‘å¬å™¨ç­‰ã€‚ç”¨æˆ·çœ‹åˆ°é¡µé¢å·²ç»â€œå®Œæ•´â€ï¼Œä½†ç‚¹å‡»æŒ‰é’®æ²¡æœ‰ååº”ã€èœå•å¡ä½â€”â€”è¿™æ®µæ—¶é—´å°±åƒæ€§èƒ½çš„â€œææ€–è°·â€ï¼Œé€šå¸¸å‘ç”Ÿåœ¨ LCPï¼ˆå†…å®¹å·²ç»˜åˆ¶ï¼‰åˆ° TTIï¼ˆTime to Interactiveï¼‰ä¹‹é—´ã€‚</p>
<p>Angular çš„å¢é‡æ°´åˆæŠŠåº”ç”¨è§†ä¸ºä¸€ç»„ç›¸å¯¹ç‹¬ç«‹çš„â€œå²›å±¿â€ï¼šä¸æ˜¯å¯åŠ¨æ—¶æŠŠæ•´æ£µç»„ä»¶æ ‘ä¸€æ¬¡æ€§æ¿€æ´»ï¼Œè€Œæ˜¯è®©æŸäº›éƒ¨åˆ†<strong>åœ¨åˆé€‚çš„æ—¶æœºå†é†’æ¥</strong>ã€‚æ”¶ç›Šé€šå¸¸ä½“ç°åœ¨æ›´ä½çš„ TBTï¼ˆTotal Blocking Timeï¼‰ä¸æ›´å¿«çš„â€œä½“æ„Ÿå¯ç”¨â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91b3e5a5fb6a40108be86fe3fe7ff2fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771572055&amp;x-signature=pO7mflhxvSafoPzq82XRFn3bB4Y%3D" alt="æ ‡å‡†æ°´åˆ vs å¢é‡æ°´åˆ" loading="lazy"/></p>
<h2 data-id="heading-2">2. æ¼”è¿›ä¸æœ¯è¯­</h2>
<p>ç†è§£ Angular çš„æ°´åˆè¯­æ³•ä¹‹å‰ï¼Œå…ˆæŠŠâ€œhydrationâ€åœ¨ä¸åŒé˜¶æ®µçš„å«ä¹‰ç†æ¸…ï¼š</p>
<h3 data-id="heading-3">2.1 ç ´åå¼æ°´åˆï¼ˆæ—©æœŸ/é—ç•™ï¼‰</h3>
<p>åœ¨ä¸€äº›æ—§æ–¹æ¡ˆé‡Œï¼Œâ€œæ°´åˆâ€æ›´åƒæ˜¯è¯¯ç”¨ï¼š</p>
<ol>
<li>æœåŠ¡ç«¯è¿”å› HTMLã€‚</li>
<li>æµè§ˆå™¨å…ˆæŠŠå®ƒç”»å‡ºæ¥ã€‚</li>
<li>å®¢æˆ·ç«¯æ¡†æ¶<strong>ä¸¢å¼ƒè¿™ä»½ DOM</strong>ï¼Œå†ç”¨ JS ä»å¤´é‡å»ºã€‚</li>
</ol>
<p>è¿™ä¼šå¯¼è‡´é—ªçƒï¼ˆflickerï¼‰ä¸å¤§é‡è®¡ç®—å¼€é”€ã€‚</p>
<h3 data-id="heading-4">2.2 éç ´åå¼æ°´åˆï¼ˆAngular 16+ï¼‰</h3>
<p>Angular 16 å¼•å…¥éç ´åå¼æ°´åˆï¼š</p>
<ul>
<li>å¯åŠ¨åéå†å·²æœ‰çš„ SSR DOMï¼›</li>
<li>å°† DOM èŠ‚ç‚¹ä¸ç»„ä»¶æ ‘åŒ¹é…ï¼›</li>
<li>åœ¨å¤ç”¨ DOM çš„å‰æä¸‹æŒ‚è½½äº‹ä»¶ç›‘å¬ã€‚</li>
</ul>
<p>è¿™æ˜¯å·¨å¤§è¿›æ­¥ï¼Œä½†ä»æ˜¯â€œä¸€åˆ€åˆ‡â€ï¼šå¯åŠ¨æ—¶ä»è¦æŠŠæ•´æ£µæ ‘éƒ½æ°´åˆã€‚</p>
<h3 data-id="heading-5">2.3 å¢é‡æ°´åˆï¼ˆIncremental Hydrationï¼‰</h3>
<p>å¢é‡æ°´åˆå»ºç«‹åœ¨éç ´åå¼æ°´åˆä¹‹ä¸Šï¼Œä½†è¿›ä¸€æ­¥æä¾›â€œç²’åº¦â€ã€‚å®ƒåŸºäº <code>@defer</code> å—ä½œä¸ºè¾¹ç•Œï¼šå¯ä»¥è®©æŸäº›ç»„ä»¶å­æ ‘å…ˆä»¥é™æ€ HTMLï¼ˆdehydratedï¼‰å‘ˆç°ï¼Œç­‰è§¦å‘æ¡ä»¶æ»¡è¶³æ—¶å†æ‰§è¡Œå®¢æˆ·ç«¯é€»è¾‘å¹¶æŒ‚è½½ç›‘å¬ã€‚</p>
<p>å®ƒä¸â€œæ‡’åŠ è½½ï¼ˆlazy loadingï¼‰â€çš„å…³é”®å·®å¼‚æ˜¯ï¼š</p>
<ul>
<li><strong>æ‡’åŠ è½½ï¼ˆå¸¸è§äº CSRï¼‰</strong>ï¼šä»£ç æ™šç‚¹åŠ è½½ï¼ŒDOM å¾€å¾€ä¹Ÿæ˜¯æ™šç‚¹æ¸²æŸ“ï¼ˆå¯èƒ½å…ˆæ˜¾ç¤ºéª¨æ¶/å ä½ï¼‰ã€‚</li>
<li><strong>å¢é‡æ°´åˆï¼ˆSSRï¼‰</strong>ï¼šå†…å®¹å…ˆç”±æœåŠ¡ç«¯æ¸²æŸ“å‡ºæ¥ï¼Œç”¨æˆ·ç«‹åˆ»èƒ½çœ‹åˆ°ï¼›åªæ˜¯å…ˆä¸æ¿€æ´»äº¤äº’ï¼Œç­‰è§¦å‘å†æ°´åˆã€‚</li>
</ul>
<p>å› æ­¤å®ƒæ›´åƒæ˜¯åœ¨â€œä¿æŒè§†è§‰å®Œæ•´â€çš„å‰æä¸‹ï¼Œä¼˜åŒ–ä¸»çº¿ç¨‹æ‰§è¡Œæˆæœ¬ã€‚</p>
<h2 data-id="heading-6">3. æ·±å…¥ï¼š<code>@defer</code> çš„åŠ è½½ä¸æ°´åˆåŒè§¦å‘</h2>
<p>åœ¨å¢é‡æ°´åˆè¯­å¢ƒé‡Œï¼Œä¸€ä¸ª <code>@defer</code> å—å®é™…æ§åˆ¶ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>**Loadingï¼š**ä»€ä¹ˆæ—¶å€™å»æ‹‰å–å¯¹åº”çš„ JS chunkã€‚</li>
<li>**Hydratingï¼š**ä»€ä¹ˆæ—¶å€™æ‰§è¡Œé€»è¾‘ã€æŠŠç›‘å¬å™¨æŒ‚åˆ°å·²å­˜åœ¨çš„ HTML ä¸Šã€‚</li>
</ol>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥åšå‡ºæ›´â€œç²¾ç»†â€çš„æ€§èƒ½ç”»åƒï¼šå…ˆæŠŠä»£ç æ‚„æ‚„æ‹‰ä¸‹æ¥ï¼Œä½†æŠŠæ¿€æ´»æ¨è¿Ÿåˆ°çœŸæ­£éœ€è¦çš„æ—¶å€™ã€‚</p>
<h3 data-id="heading-7">3.1 åŒè§¦å‘ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript">@defer (on idle; hydrate on interaction) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">app-heavy-chart</span> /&gt;</span></span>
}
</code></pre>
<ul>
<li>**é¦–å±ï¼ˆSSRï¼‰ï¼š**æœåŠ¡ç«¯ä¼šæ¸²æŸ“ <code>&lt;app-heavy-chart /&gt;</code>ï¼Œç”¨æˆ·ç«‹åˆ»çœ‹åˆ°å†…å®¹ã€‚</li>
<li><code>on idle</code>ï¼šæµè§ˆå™¨ç©ºé—²æ—¶åœ¨åå°æ‹‰å–å›¾è¡¨çš„ JSã€‚</li>
<li><code>hydrate on interaction</code>ï¼šå…ˆä¸æ‰§è¡Œå›¾è¡¨é€»è¾‘ï¼Œè®©å®ƒä¿æŒâ€œé™æ€å£³â€ï¼›ä¸»çº¿ç¨‹ä¿æŒè½»ã€‚</li>
<li>**å½“ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»/è§¦æ‘¸/é”®ç›˜ç­‰ï¼‰ï¼š**è§¦å‘æ°´åˆï¼Œç»„ä»¶â€œé†’æ¥â€ã€‚</li>
<li><strong>å¦‚æœæ˜¯ CSR è·¯ç”±è¿›å…¥ï¼ˆæ²¡æœ‰ SSRï¼‰ï¼š</strong><code>on idle</code> ä¼šå½±å“è¯¥å—ä»€ä¹ˆæ—¶å€™çœŸæ­£æ¸²æŸ“ã€‚</li>
</ul>
<h3 data-id="heading-8">3.2 å¸¸è§æ°´åˆè§¦å‘æ–¹å¼</h3>
<p>ä¸‹é¢è¿™äº›æ˜¯æ›´åâ€œæ°´åˆæ—¶æœºâ€çš„è§¦å‘ç±»å‹ï¼ˆä¸åŒç‰ˆæœ¬/æ–‡æ¡£é‡Œè¡¨è¿°ç•¥æœ‰å·®å¼‚ï¼Œæ ¸å¿ƒæ€æƒ³ä¸€è‡´ï¼‰ï¼š</p>
<ol>
<li>
<p><strong><code>hydrate on idle</code>ï¼ˆé»˜è®¤å‹ä¼˜åŒ–ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šåœ¨æµè§ˆå™¨ç©ºé—²æ—¶æ°´åˆï¼ˆæ¦‚å¿µä¸Šç±»ä¼¼ <code>requestIdleCallback</code> çš„æ—¶æœºï¼‰ã€‚</li>
<li>é€‚åˆï¼šå¤§å¤šæ•°éå…³é”®åŒºåŸŸã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate on viewport</code>ï¼ˆé¦–é€‰çš„â€œå±å¤–å†…å®¹â€ç­–ç•¥ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šè¿›å…¥è§†å£æ‰æ°´åˆï¼ˆåŸºäº <code>IntersectionObserver</code>ï¼‰ã€‚</li>
<li>é€‚åˆï¼šé•¿åˆ—è¡¨ã€è¯„è®ºåŒºã€é¡µè„šç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate on interaction</code>ï¼ˆé‡ç»„ä»¶â€œæŒ‰éœ€å¯åŠ¨â€ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šç‚¹å‡»/è§¦æ‘¸/é”®ç›˜ç­‰äº¤äº’è§¦å‘ã€‚</li>
<li>é€‚åˆï¼šåœ°å›¾ã€å¤æ‚æ—¥æœŸé€‰æ‹©å™¨ç­‰â€œçœ‹å¾—è§ä½†ä¸ä¸€å®šä¼šç”¨â€çš„éƒ¨ä»¶ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate on hover</code>ï¼ˆæå‰ä¸€ç‚¹ç‚¹ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šé¼ æ ‡æ‚¬åœ / focus è§¦å‘ã€‚</li>
<li>é€‚åˆï¼šä¸‹æ‹‰èœå•ç­‰ï¼Œé¼ æ ‡é è¿‘æ—¶æå‰å‡†å¤‡ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate on timer (X)</code>ï¼ˆæŒ‰æ—¶é—´æ’é˜Ÿï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šå»¶è¿Ÿ X æ¯«ç§’åæ°´åˆã€‚</li>
<li>é€‚åˆï¼šä½ æƒ³æ˜ç¡®å®‰æ’å¯åŠ¨é¡ºåºï¼Œæ¯”å¦‚ä¾§è¾¹æ  500msã€å¹¿å‘Š 2000msã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate on immediate</code>ï¼ˆå…³é”®äº¤äº’ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šåœ¨éå»¶è¿Ÿå†…å®¹æ¸²æŸ“å®Œä¹‹åå°½å¿«æ°´åˆã€‚</li>
<li>é€‚åˆï¼šé¦–å±å¿…é¡»é©¬ä¸Šå¯ç‚¹çš„å…³é”®æŒ‰é’®ã€‚</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript">@defer (hydrate on immediate) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hero-cta-button</span> /&gt;</span></span>
} @placeholder {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<ol start="7">
<li>
<p><strong><code>hydrate when &lt;condition&gt;</code>ï¼ˆæ¡ä»¶é—¨æ§ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šå½“æŸä¸ªä¿¡å·æˆ–å¸ƒå°”æ¡ä»¶å˜ä¸ºçœŸæ—¶æ°´åˆã€‚</li>
<li>é€‚åˆï¼šä¾‹å¦‚ã€Œåªæœ‰ç®¡ç†å‘˜æ‰éœ€è¦çš„ä»ªè¡¨ç›˜ç»„ä»¶ã€ã€‚</li>
<li>æ³¨æ„ï¼šæ¡ä»¶é€šå¸¸åªèƒ½åœ¨<strong>æœ€å¤–å±‚</strong>å°šæœªæ°´åˆçš„ <code>@defer</code> ä¸Šå¯é è¯„ä¼°ï¼›çˆ¶å—è¿˜æ²¡æ°´åˆæ—¶ï¼Œå­å—æ¡ä»¶ä¹Ÿæ— æ³•è¢«è®¡ç®—ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hydrate never</code>ï¼ˆçº¯é™æ€å—ï¼‰</strong></p>
<ul>
<li>è¡Œä¸ºï¼šæœåŠ¡ç«¯æ¸²æŸ“åæ°¸ä¸æ°´åˆã€‚</li>
<li>é€‚åˆï¼šå®Œå…¨æ²¡æœ‰äº¤äº’éœ€æ±‚çš„å†…å®¹ï¼ˆæ¡æ¬¾ã€é™æ€ä»‹ç»ç­‰ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-9">4. å®ç°ä¸é…ç½®ï¼šå¼€å¯å¢é‡æ°´åˆä¸äº‹ä»¶å›æ”¾</h2>
<p>å¼€å¯å¢é‡æ°´åˆé€šå¸¸åªæ˜¯ä¸€å¤„é…ç½®ï¼Œä½†çœŸæ­£çš„å…³é”®ç‚¹åœ¨äºï¼š<strong>äº¤äº’è§¦å‘çš„é‚£ä¸€ä¸‹ä¸èƒ½ä¸¢</strong>ã€‚</p>
<h3 data-id="heading-10">4.1 åŸºæœ¬é…ç½®</h3>
<p>åœ¨ <code>app.config.ts</code> ä¸­å¯ç”¨å®¢æˆ·ç«¯æ°´åˆï¼Œå¹¶å¼€å¯å¢é‡èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ApplicationConfig</span>, provideZoneChangeDetection } <span class="hljs-keyword">from</span> <span class="hljs-string">"@angular/core"</span>;
<span class="hljs-keyword">import</span> {
  provideClientHydration,
  withIncrementalHydration,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@angular/platform-browser"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">appConfig</span>: <span class="hljs-title class_">ApplicationConfig</span> = {
  <span class="hljs-attr">providers</span>: [
    <span class="hljs-title function_">provideZoneChangeDetection</span>({ <span class="hljs-attr">eventCoalescing</span>: <span class="hljs-literal">true</span> }),
    <span class="hljs-title function_">provideClientHydration</span>(<span class="hljs-title function_">withIncrementalHydration</span>()),
  ],
};
</code></pre>
<h3 data-id="heading-11">4.2 è‡ªåŠ¨äº‹ä»¶å›æ”¾ï¼ˆEvent Replayï¼‰</h3>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯ï¼š</p>
<blockquote>
<p>å¦‚æœæˆ‘ç”¨äº† <code>hydrate on interaction</code>ï¼Œé‚£ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡»æ˜¯ä¸æ˜¯ä¼šè¢«åæ‰ï¼Ÿ</p>
</blockquote>
<p>Angular çš„æ€è·¯æ˜¯ï¼šåœ¨çœŸæ­£æ¡†æ¶é€»è¾‘è¿˜æ²¡èµ·æ¥æ—¶ï¼Œå…ˆç”¨ä¸€æ®µè½»é‡è„šæœ¬æ•è·äº‹ä»¶ï¼ŒæŠŠå®ƒä»¬ç¼“å†²èµ·æ¥ï¼Œç­‰å¯¹åº”å—æ°´åˆå®Œæˆåå†â€œå›æ”¾â€ã€‚åœ¨å¯ç”¨ <code>withIncrementalHydration()</code> æ—¶ï¼Œè¿™ç±»äº‹ä»¶å›æ”¾èƒ½åŠ›é€šå¸¸ä¼šä¸€å¹¶å¯ç”¨ï¼ˆæ–‡æ¡£ä¸­ä¹Ÿå¸¸æåˆ° <code>withEventReplay()</code>ï¼‰ã€‚</p>
<p>äº‹ä»¶å›æ”¾å¤§è‡´æµç¨‹ï¼š</p>
<ol>
<li>**æ•è·ï¼š**åœ¨æ–‡æ¡£æ ¹éƒ¨æ³¨å†Œå…¨å±€äº‹ä»¶åˆ†å‘å™¨ã€‚</li>
<li>**ç¼“å†²ï¼š**å¦‚æœäº‹ä»¶å‘ç”Ÿåœ¨å°šæœªæ°´åˆçš„ <code>@defer</code> åŒºåŸŸå†…ï¼Œå°±å…ˆæš‚å­˜ã€‚</li>
<li>**è§¦å‘æ°´åˆï¼š**äº‹ä»¶æœ¬èº«è§¦å‘ <code>hydrate on interaction</code>ã€‚</li>
<li>**å›æ”¾ï¼š**ä»£ç åŠ è½½ + æ°´åˆå®Œæˆåï¼ŒæŠŠäº‹ä»¶äº¤ç»™æ–°æŒ‚è½½çš„ç›‘å¬å™¨æ‰§è¡Œã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/863bcdd688774d7e915d2a34e31abbcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771572055&amp;x-signature=A%2BInrjdQgbqdABRfWw%2F7DOBzFI8%3D" alt="Angular æ°´åˆä¸äº‹ä»¶å›æ”¾ç¤ºæ„" loading="lazy"/></p>
<h2 data-id="heading-12">5. æ¶æ„ï¼šåµŒå¥—å—ä¸çº¦æŸ</h2>
<p>å¢é‡æ°´åˆå¸¦æ¥æ”¶ç›Šï¼Œä¹Ÿå¸¦æ¥ä¸€äº›ä½ å¿…é¡»éµå®ˆçš„â€œæ¶æ„è§„åˆ™â€ã€‚å¿½ç•¥å®ƒä»¬ä¼šå¯¼è‡´é€€åŒ–ï¼ˆde-optï¼‰ï¼Œç”šè‡³å›è½åˆ°ç ´åå¼é‡æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-13">5.1 å±‚çº§è§„åˆ™ï¼šè‡ªä¸Šè€Œä¸‹</h3>
<p>Angular æ°´åˆæ˜¯æœ‰å±‚çº§çš„ï¼š</p>
<ul>
<li><strong>çˆ¶çº§å¿…é¡»å…ˆæ°´åˆï¼ˆæˆ–åŒæ—¶æ°´åˆï¼‰</strong>ï¼Œå­çº§æ‰èƒ½å¯é æ°´åˆã€‚</li>
<li>å­ç»„ä»¶ä¾èµ–çˆ¶ç»„ä»¶çš„å˜æ›´æ£€æµ‹ä¸è¾“å…¥ç»‘å®šï¼›å¦‚æœçˆ¶çº§ä»æ˜¯â€œè„±æ°´â€çŠ¶æ€ï¼Œå­çº§å¾ˆéš¾ç‹¬ç«‹æ¿€æ´»ã€‚</li>
</ul>
<p>å®è·µå»ºè®®ï¼šæŠŠ <code>@defer</code> å—è®¾è®¡å¾—æ›´â€œè‡ªåŒ…å«â€ï¼Œé¿å…å‡ºç°ç‚¹äº†å¶å­èŠ‚ç‚¹å´æŠŠæ•´æ£µæ ‘éƒ½è¿é”å”¤é†’çš„â€œç€‘å¸ƒæ•ˆåº”â€ã€‚</p>
<h3 data-id="heading-14">5.2 HTML ç»“æ„å¿…é¡»æœ‰æ•ˆä¸”ä¸€è‡´</h3>
<p>éç ´åå¼æ°´åˆä¾èµ–â€œå¤ç”¨ DOMâ€ï¼šæœåŠ¡ç«¯è¾“å‡ºçš„ DOM ç»“æ„éœ€è¦ä¸æµè§ˆå™¨æœ€ç»ˆ DOMã€ä»¥åŠå®¢æˆ·ç«¯æœŸæœ›ç»“æ„ä¸¥æ ¼ä¸€è‡´ã€‚</p>
<p>å¸¸è§å‘ï¼š</p>
<ul>
<li><code>&lt;a&gt;</code> åµŒå¥— <code>&lt;a&gt;</code></li>
<li><code>&lt;p&gt;</code> é‡Œå¡äº† <code>&lt;div&gt;</code> è¿™ç±»å—çº§å…ƒç´ </li>
<li><code>&lt;table&gt;</code> ç¼º <code>&lt;tbody&gt;</code></li>
<li>ç”±äºæ— æ•ˆ HTML å¯¼è‡´æµè§ˆå™¨è‡ªåŠ¨ä¿®å¤ã€ä»è€Œæ”¹å˜äº† DOM</li>
</ul>
<p>è¿™äº›éƒ½ä¼šå¯¼è‡´æ°´åˆå¤ç”¨å¤±è´¥ï¼Œè¿›è€Œè§¦å‘é‡å»ºã€‚</p>
<h3 data-id="heading-15">5.3 SEO å½±å“ï¼Ÿé€šå¸¸ä¸ä¼š</h3>
<p>æœ‰äººæ‹…å¿ƒ <code>@defer</code> ä¼šä¼¤å®³ SEOã€‚å¢é‡æ°´åˆçš„å‰ææ˜¯ SSRï¼šä¸»å†…å®¹åœ¨æœåŠ¡ç«¯æ¨¡æ¿é‡Œå·²ç»è¾“å‡ºæˆè¯­ä¹‰åŒ– HTMLï¼Œæœç´¢å¼•æ“æ‹¿åˆ°çš„å°±æ˜¯å®Œæ•´å†…å®¹ã€‚</p>
<p>æ°´åˆè§¦å‘æ§åˆ¶çš„æ˜¯â€œä»€ä¹ˆæ—¶å€™æ‰§è¡Œ JS è®©å®ƒå¯äº¤äº’â€ï¼Œä¸æ˜¯â€œå†…å®¹ä»€ä¹ˆæ—¶å€™å‡ºç°â€ã€‚</p>
<h3 data-id="heading-16">5.4 <code>@placeholder</code> ä»ç„¶éœ€è¦</h3>
<p>å³ä½¿ SSR ä¼šæŠŠçœŸå®å†…å®¹æ¸²æŸ“å‡ºæ¥ï¼Œ<code>@placeholder</code> ä»ç„¶å¾ˆé‡è¦â€”â€”ä¸»è¦ç”¨äº <strong>CSR è·¯ç”±å¯¼èˆª</strong> çš„åœºæ™¯ã€‚</p>
<p>å½“ç”¨æˆ·é€šè¿‡ <code>routerLink</code> åœ¨å®¢æˆ·ç«¯å¯¼èˆªè¿›å…¥æŸé¡µæ—¶ï¼Œè¯¥é¡µçš„ <code>@defer</code> æ›´åƒå¸¸è§„å»¶è¿Ÿå—ï¼š</p>
<ul>
<li>ä¼šå…ˆæ˜¾ç¤º <code>@placeholder</code></li>
<li>ç„¶åæ ¹æ®è§¦å‘æ¡ä»¶åŠ è½½å¹¶æ¸²æŸ“çœŸå®å†…å®¹</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript">@defer (on viewport; hydrate on interaction) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">comments-section</span> /&gt;</span></span>
} @placeholder {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comments-skeleton"</span>&gt;</span>Loading comments...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p>å»ºè®®ï¼šç»™å ä½æä¾›æ¥è¿‘çœŸå®å†…å®¹çš„å°ºå¯¸ï¼Œå‡å°‘ CSR ä¸‹çš„å¸ƒå±€æŠ–åŠ¨ï¼ˆCLSï¼‰ã€‚</p>
<h2 data-id="heading-17">6. æ’é”™ä¸è°ƒè¯•ï¼šHydration Mismatch</h2>
<p>æœ€å¸¸è§çš„é—®é¢˜æ˜¯ <strong>Hydration Mismatchï¼ˆæ°´åˆä¸åŒ¹é…ï¼‰</strong>ï¼š</p>
<blockquote>
<p>æœåŠ¡ç«¯ç”Ÿæˆçš„ HTML ä¸å®¢æˆ·ç«¯æœŸæœ›çš„ DOM ä¸ä¸€è‡´ã€‚</p>
</blockquote>
<p>æœ¬è´¨åŸå› æ˜¯ï¼šå®¢æˆ·ç«¯åœ¨æ°´åˆæ—¶è¦æ±‚â€œå¯å¤ç”¨çš„ DOMâ€å¿…é¡»åŒ¹é…é¢„æœŸï¼›å“ªæ€•æ˜¯ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹å·®å¼‚ï¼Œéƒ½ä¼šå‡ºé—®é¢˜ã€‚</p>
<h3 data-id="heading-18">6.1 å¸¸è§åŸå› </h3>
<ol>
<li>**åŠ¨æ€æ—¥æœŸï¼š**æ¨¡æ¿é‡Œç›´æ¥ <code>new Date()</code>ï¼ŒæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯æ—¶é—´ä¸åŒã€‚</li>
<li>**éšæœº IDï¼š**ç”¨ <code>Math.random()</code> ä¹‹ç±»ç”Ÿæˆéšæœºå€¼ã€‚</li>
<li>**æµè§ˆå™¨è§„èŒƒåŒ–ï¼š**æ— æ•ˆ HTML è¢«æµè§ˆå™¨ä¿®å¤åç»“æ„å˜äº†ã€‚</li>
</ol>
<h3 data-id="heading-19">6.2 è°ƒè¯•æ‰‹æ®µ</h3>
<ul>
<li>**æ§åˆ¶å°æ—¥å¿—ï¼š**Angular é€šå¸¸ä¼šæç¤ºå…·ä½“ä¸åŒ¹é…çš„èŠ‚ç‚¹ã€‚</li>
<li>**Angular DevToolsï¼š**å¯ä»¥æŸ¥çœ‹ç»„ä»¶æ ‘ï¼›åœ¨è¾ƒæ–°ç‰ˆæœ¬é‡Œä¹Ÿèƒ½çœ‹åˆ°ç»„ä»¶çš„æ°´åˆçŠ¶æ€ï¼ˆHydrated / Skipped / Dehydratedï¼‰ã€‚</li>
<li>**å¯è§†åŒ–æ ‡è®°ï¼š**ä¸´æ—¶ç”¨ CSSï¼ˆå¦‚ <code>.ng-hydrating</code>ï¼‰ç»™â€œé†’æ¥â€çš„ç»„ä»¶åŠ é«˜äº®ï¼Œè§‚å¯Ÿæ—¶åºã€‚</li>
</ul>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-21">å¢é‡æ°´åˆè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p>å®ƒå‡å°‘äº† SSR åº”ç”¨é‡Œâ€œå†…å®¹å·²å‡ºç°ä½†è¿˜ä¸èƒ½äº¤äº’â€çš„é—´éš™ï¼Œé€šè¿‡å»¶è¿Ÿ/åˆ†æ‰¹æ¿€æ´»äº¤äº’é€»è¾‘é™ä½å¯åŠ¨æœŸä¸»çº¿ç¨‹å‹åŠ›ã€‚</p>
<h3 data-id="heading-22">å®ƒå’Œæ ‡å‡†æ°´åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p>æ ‡å‡†æ°´åˆå€¾å‘äºå¯åŠ¨æ—¶æ¿€æ´»æ•´æ£µç»„ä»¶æ ‘ï¼›å¢é‡æ°´åˆæ ¹æ®è§¦å‘æ¡ä»¶åªæ¿€æ´»éœ€è¦çš„éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-23">å®ƒç­‰åŒäºæ‡’åŠ è½½å—ï¼Ÿ</h3>
<p>ä¸ç­‰åŒã€‚æ‡’åŠ è½½å¾€å¾€ä¼šæ¨è¿Ÿæ¸²æŸ“ï¼›å¢é‡æ°´åˆå¼ºè°ƒ SSR å…ˆæ¸²æŸ“å‡ºå†…å®¹ï¼Œå†æ¨è¿Ÿäº¤äº’æ¿€æ´»ã€‚</p>
<h3 data-id="heading-24">ä¼šå½±å“ SEO å—ï¼Ÿ</h3>
<p>é€šå¸¸ä¸ä¼šã€‚SSR å·²è¾“å‡ºå®Œæ•´å†…å®¹ï¼Œè§¦å‘æ§åˆ¶çš„æ˜¯ JS æ‰§è¡Œæ—¶æœºã€‚</p>
<h3 data-id="heading-25"><code>@defer</code> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>å®ƒå®šä¹‰æ°´åˆè¾¹ç•Œï¼Œå¹¶æ§åˆ¶â€œä»€ä¹ˆæ—¶å€™åŠ è½½ä»£ç  / ä»€ä¹ˆæ—¶å€™æ¿€æ´»äº¤äº’â€ã€‚</p>
<h2 data-id="heading-26">æ€»ç»“ä¸è¡ŒåŠ¨æ¸…å•</h2>
<p>å¢é‡æ°´åˆçš„æ ¸å¿ƒå¾ˆç®€å•ï¼š</p>
<ul>
<li><strong>æœåŠ¡ç«¯æŠŠå†…å®¹éƒ½æ¸²æŸ“å‡ºæ¥</strong>ï¼ˆç”¨æˆ·ç«‹åˆ»çœ‹åˆ°ã€SEO å‹å¥½ï¼‰</li>
<li><strong>å®¢æˆ·ç«¯åªåœ¨éœ€è¦æ—¶æ‰æ°´åˆ</strong>ï¼ˆä¸»çº¿ç¨‹æ›´æ¸…çˆ½ã€ä½“æ„Ÿæ›´å¿«ï¼‰</li>
</ul>
<p>ä½ å¯ä»¥ä»è¿™ä»½è¡ŒåŠ¨æ¸…å•å¼€å§‹ï¼š</p>
<ol>
<li>**åšä¸€æ¬¡é¡µé¢ç›˜ç‚¹ï¼š**å“ªäº›åœ¨é¦–å±ï¼Ÿå“ªäº›åœ¨é¦–å±ä¸‹æ–¹ï¼Ÿå“ªäº›å¿…é¡»ç«‹å³å¯ç‚¹ï¼Ÿ</li>
<li><strong>ä¸ºä¸åŒåŒºåŸŸé€‰æ‹©è§¦å‘ï¼š</strong>
<ul>
<li>Hero + CTAï¼š<code>hydrate on immediate</code></li>
<li>è¯„è®ºåŒº/é•¿åˆ—è¡¨ï¼š<code>hydrate on viewport</code></li>
<li>é‡å‹ä½†ä¸ä¸€å®šä¼šç”¨çš„ç»„ä»¶ï¼š<code>hydrate on interaction</code></li>
<li>çº¯é™æ€å—ï¼š<code>hydrate never</code></li>
</ul>
</li>
<li>**CSR åœºæ™¯åˆ«å¿˜ <code>@placeholder</code>ï¼š**å ä½å°½é‡ç¨³å®šå°ºå¯¸ï¼Œé¿å… CLSã€‚</li>
<li>**åœ¨çœŸå®è®¾å¤‡ä¸ŠéªŒè¯ï¼š**ç”¨ DevTools è§‚å¯Ÿæ°´åˆçŠ¶æ€ä¸äº‹ä»¶å›æ”¾æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li>
</ol>
<p>ä¸€å¥è¯ç»“è®ºï¼šä¸è¦åœ¨å¯åŠ¨æ—¶æŠŠæ‰€æœ‰ä¸œè¥¿ä¸€æ¬¡æ€§â€œå”¤é†’â€ã€‚è®©ç»„ä»¶åœ¨ç”¨æˆ·éœ€è¦æ—¶å†å¯åŠ¨ï¼Œä½ ä¼šå¾—åˆ°æ›´å¿«ã€æ›´ç¨³ã€æ›´é¡ºæ»‘çš„ Angular SSR ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LangChain.jså­¦ä¹ ã€‘å¤§æ¨¡å‹åˆ†ç±»]]></title>    <link>https://juejin.cn/post/7605859660612517922</link>    <guid>https://juejin.cn/post/7605859660612517922</guid>    <pubDate>2026-02-13T07:40:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605859660612517922" data-draft-id="7605859660612501538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LangChain.jså­¦ä¹ ã€‘å¤§æ¨¡å‹åˆ†ç±»"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-13T07:40:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LangChain.jså­¦ä¹ ã€‘å¤§æ¨¡å‹åˆ†ç±»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T07:40:06.000Z" title="Fri Feb 13 2026 07:40:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>å¤§æ¨¡å‹æŒ‰åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯å¯åˆ†ä¸ºä¸‰å¤§æ ¸å¿ƒç±»å‹ï¼Œä»¥ä¸‹ç»“åˆ LangChain.js è°ƒç”¨é€šä¹‰åƒé—®çš„å®æ“ä»£ç ï¼Œåˆ†åˆ«è®²è§£å„ç±»æ¨¡å‹çš„å®šä½ã€ç”¨æ³•å’Œé€‚ç”¨åœºæ™¯ï¼š</p>





























<table><thead><tr><th>æ¨¡å‹åˆ†ç±»</th><th>æ ¸å¿ƒå®šä½</th><th>å…¸å‹èƒ½åŠ›</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰</td><td>åŸºç¡€æ–‡æœ¬ç”Ÿæˆå¼•æ“</td><td>æ–‡æœ¬è¡¥å…¨ã€ç»­å†™ã€å•ä¸€é—®ç­”</td><td>ç®€å•æ–‡æœ¬ç”Ÿæˆã€åŸºç¡€é—®ç­”</td></tr><tr><td>å¯¹è¯æ¨¡å‹ï¼ˆChat Modelï¼‰</td><td>å¤šè½®äº¤äº’å¼å¯¹è¯å¼•æ“</td><td>å¤šè§’è‰²äº¤äº’ã€ä¸Šä¸‹æ–‡ç†è§£</td><td>æ™ºèƒ½å®¢æœã€ç¿»è¯‘ã€å¤šè½®å¯¹è¯</td></tr><tr><td>åµŒå…¥æ¨¡å‹ï¼ˆEmbedding Modelï¼‰</td><td>æ–‡æœ¬å‘é‡åŒ–å¼•æ“</td><td>è¯­ä¹‰è½¬åŒ–ã€ç›¸ä¼¼åº¦è®¡ç®—</td><td>çŸ¥è¯†åº“æ£€ç´¢ã€æ–‡æœ¬èšç±»ã€æ¨è</td></tr></tbody></table>
<h2 data-id="heading-0">å¯¹è¯æ¨¡å‹ï¼ˆChat Modelï¼‰</h2>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹ç‚¹</h3>
<p>ä¸“ä¸ºå¤šè½®å¯¹è¯è®¾è®¡ï¼Œæ”¯æŒ <code>system/human/ai</code> å¤šè§’è‰²è®¾å®šï¼Œèƒ½ç†è§£ä¸Šä¸‹æ–‡å¹¶æŒ‰é¢„è®¾è§„åˆ™ç”Ÿæˆå“åº”ï¼Œæ˜¯äº¤äº’ç±»åœºæ™¯çš„æ ¸å¿ƒæ¨¡å‹ã€‚</p>
<h3 data-id="heading-2">è°ƒç”¨ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatOpenAI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/openai"</span>

<span class="hljs-keyword">const</span> chatModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatOpenAI</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">"qwen-max"</span>,
    <span class="hljs-attr">configuration</span>: {
        <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
        <span class="hljs-attr">apiKey</span>: <span class="hljs-string">"[ä½ çš„é˜¿é‡Œç™¾ç‚¼API Key]"</span>,
    },
})

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chatModel.<span class="hljs-title function_">invoke</span>([
    {
        <span class="hljs-comment">// systemè§’è‰²ï¼šé¢„è®¾æ¨¡å‹è¡Œä¸ºå’Œèƒ½åŠ›</span>
        <span class="hljs-attr">role</span>: <span class="hljs-string">"system"</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¿»è¯‘ï¼Œä½ å¯ä»¥å°†ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡"</span>,
    },
    {
        <span class="hljs-comment">// userè§’è‰²ï¼šè¾“å…¥å…·ä½“ç”¨æˆ·æŒ‡ä»¤</span>
        <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">"è¯·å¸®æˆ‘ç¿»è¯‘æˆè‹±æ–‡ï¼šä½ å¥½"</span>,
    },
])
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">content</span>) <span class="hljs-comment">// è¾“å‡ºç¤ºä¾‹ï¼šHello</span>
</code></pre>
<h2 data-id="heading-3">åµŒå…¥æ¨¡å‹ï¼ˆEmbedding Modelï¼‰</h2>
<h3 data-id="heading-4">æ ¸å¿ƒç‰¹ç‚¹</h3>
<p>å°†æ–‡æœ¬è½¬åŒ–ä¸ºå›ºå®šç»´åº¦çš„æ•°å€¼å‘é‡ï¼ˆé€šä¹‰åƒé—® <code>text-embedding-v2</code> ä¸º768ç»´ï¼‰ï¼Œå‘é‡é—´çš„è·ç¦»å¯è¡¨å¾æ–‡æœ¬è¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œæ˜¯è¯­ä¹‰æ£€ç´¢ã€çŸ¥è¯†åº“çš„åŸºç¡€ã€‚</p>
<h3 data-id="heading-5">è°ƒç”¨ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">OpenAIEmbeddings</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/openai"</span>

<span class="hljs-keyword">const</span> embeddingsModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAIEmbeddings</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">"text-embedding-v2"</span>,
    <span class="hljs-attr">configuration</span>: {
        <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
        <span class="hljs-attr">apiKey</span>: <span class="hljs-string">"[ä½ çš„é˜¿é‡Œç™¾ç‚¼API Key]"</span>,
    },
})

<span class="hljs-comment">// å•æ–‡æœ¬å‘é‡åŒ–ï¼šè¿”å›ä¸€ç»´å‘é‡æ•°ç»„</span>
<span class="hljs-keyword">const</span> queryEmbedding = <span class="hljs-keyword">await</span> embeddingsModel.<span class="hljs-title function_">embedQuery</span>(<span class="hljs-string">"ä½ å¥½"</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(queryEmbedding) <span class="hljs-comment">// è¾“å‡ºç¤ºä¾‹ï¼š[0.012, -0.045, 0.078, ...]</span>

<span class="hljs-comment">// æ‰©å±•ï¼šå¤šæ–‡æœ¬æ‰¹é‡å‘é‡åŒ–ï¼ˆé€‚ç”¨äºçŸ¥è¯†åº“æ„å»ºï¼‰</span>
<span class="hljs-comment">// const batchEmbeddings = await embeddingsModel.embedDocuments(["ä½ å¥½", "ä¸–ç•Œ"])</span>
</code></pre>
<h2 data-id="heading-6">å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰</h2>
<h3 data-id="heading-7">æ ¸å¿ƒç‰¹ç‚¹</h3>
<p>æœ€åŸºç¡€çš„å¤§æ¨¡å‹ç±»å‹ï¼Œä»¥ã€Œæ–‡æœ¬è¡¥å…¨ã€ä¸ºæ ¸å¿ƒèƒ½åŠ›ï¼Œæ— å¤šè§’è‰²äº¤äº’è®¾è®¡ï¼Œè¾“å…¥å•ä¸€æ–‡æœ¬æŒ‡ä»¤ï¼Œè¿”å›å¯¹åº”çš„ç”Ÿæˆç»“æœã€‚</p>
<h3 data-id="heading-8">ä¸å¯¹è¯æ¨¡å‹çš„åŒºåˆ«</h3>
<ul>
<li>å¤§è¯­è¨€æ¨¡å‹ï¼šè¾“å…¥è¾“å‡ºå‡ä¸ºçº¯æ–‡æœ¬ï¼Œæ— è§’è‰²åŒºåˆ†ï¼Œé€‚åˆç®€å•çš„æ–‡æœ¬ç”Ÿæˆ/é—®ç­”ï¼›</li>
<li>å¯¹è¯æ¨¡å‹ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹å°è£…ï¼Œæ”¯æŒå¤šè§’è‰²ã€å¤šè½®ä¸Šä¸‹æ–‡ï¼Œäº¤äº’æ€§æ›´å¼ºã€‚</li>
</ul>
<h3 data-id="heading-9">è°ƒç”¨ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">OpenAI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/openai"</span>

<span class="hljs-keyword">const</span> llm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">"qwen-plus"</span>,
    <span class="hljs-attr">configuration</span>: {
        <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
        <span class="hljs-attr">apiKey</span>: <span class="hljs-string">"[ä½ çš„é˜¿é‡Œç™¾ç‚¼API Key]"</span>,
    },
})

<span class="hljs-comment">// è¾“å…¥å•ä¸€æ–‡æœ¬æŒ‡ä»¤ï¼Œç›´æ¥è¿”å›ç»“æœ</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> llm.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">"ç¿»è¯‘â€œä½ å¥½â€æˆè‹±æ–‡"</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response) <span class="hljs-comment">// è¾“å‡ºç¤ºä¾‹ï¼šHello</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é…ç½®æŠ€å·§ï½œGoLand ç”¨æˆ·å¦‚ä½•ä¸æ»‘ä½¿ç”¨ TRAE]]></title>    <link>https://juejin.cn/post/7605792874173907007</link>    <guid>https://juejin.cn/post/7605792874173907007</guid>    <pubDate>2026-02-13T06:10:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605792874173907007" data-draft-id="7605985547569201158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é…ç½®æŠ€å·§ï½œGoLand ç”¨æˆ·å¦‚ä½•ä¸æ»‘ä½¿ç”¨ TRAE"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-02-13T06:10:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é…ç½®æŠ€å·§ï½œGoLand ç”¨æˆ·å¦‚ä½•ä¸æ»‘ä½¿ç”¨ TRAE
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:10:44.000Z" title="Fri Feb 13 2026 06:10:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb807a53b5e3484f99da3a5013e7f413~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=v3U3aZPGRBsR4p5DD%2BzSHUjun2c%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šå¼ é“ï¼ŒTRAE å¼€å‘è€…ç”¨æˆ·</p>
</blockquote>
<p><strong>æœ¬æ–‡ä»¥ GoLand ä¸ºä¾‹ï¼Œå…¶ä»– JetBrains ç³»åˆ— IDE çš„é…ç½®ä¹Ÿå¯ä»¥å‚è€ƒä½¿ç”¨ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21430df326be417ea5735eaca4ebb578~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=ctz8R%2FA66Dqn7NKG5nR1VP7Ahnk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>å‰è¨€</strong></h2>
<p>å¯¹äºä¸å°‘å¼€å‘ Go è¯­è¨€çš„åŒå­¦è€Œè¨€ï¼ŒGoLand æ˜¯æœ€ä¸ºç†Ÿæ‚‰çš„ä¸€æŠŠâ€œå•å…µåˆ©å™¨â€ï¼Œä½œä¸º JetBrains å…¨å®¶æ¡¶çš„ä¸€å‘˜ï¼Œå®ƒåœ¨ç¼–è¾‘ã€å¼€å‘ã€è°ƒè¯•ç­‰æ–¹é¢ï¼Œå»¶ç»­äº† IDEAã€PyCharm ç­‰äº§å“ä¸€è´¯çš„å¼€ç®±å³ç”¨ä½“éªŒã€‚</p>
<p>ä¸å°‘ä¹ æƒ¯äº† JetBrains ç³»åˆ—çš„åŒå­¦ï¼Œåˆæ¬¡ä¸Šæ‰‹ TRAE IDE æ—¶å¯èƒ½ä¸€æ—¶éš¾ä»¥é€‚åº”å VS Code é£æ ¼çš„ç¼–è¾‘ä½“éªŒï¼Œä¸å¾—ä¸åœ¨ TRAE å’ŒåŸæœ¬ä½¿ç”¨çš„ IDE ä¹‹é—´é¢‘ç¹æ¥å›åˆ‡æ¢ã€‚</p>
<p>å…¶å®è¦æ”¹å˜è¿™ä¸€ç‚¹å¹¶ä¸éš¾ã€‚åªè¦åšå‡ å¤„ç®€å•çš„é…ç½®å’Œè°ƒæ•´ï¼Œå°±èƒ½è®©ä½ çš„ TRAE IDE åœ¨ä½¿ç”¨ä½“éªŒä¸Šæ›´æ¥è¿‘ GoLandã€‚æœ¬æ–‡æŠŠæˆ‘è‡ªå·±çš„ä¸€äº›å¿ƒå¾—æ•´ç†äº†ä¸€ä¸‹ï¼Œåˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰ä¸€ç‚¹å¸®åŠ©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0be1c7870af940c8889e3bd29f2afa7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=stu9ejlzOBMzw2uy6mhkiVAMTnk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>UI å¤–è§‚ä¸å¸ƒå±€</strong></h2>
<p>æƒ³è¦æœ‰ç†Ÿæ‚‰çš„ GoLand å‘³é“ï¼Œé¢œå€¼å’Œé…è‰²éƒ½å¾ˆå…³é”®ã€‚æˆ‘ä»¬å…ˆä»è§†è§‰å’Œå¸ƒå±€å…¥æ‰‹ã€‚</p>
<h3 data-id="heading-2"><strong>ä¸»é¢˜ä¸å›¾æ ‡</strong></h3>
<p>TRAE æ— ç¼æ”¯æŒå¤§éƒ¨åˆ†çš„åŸç”Ÿ VS Code æ’ä»¶ã€‚é€šè¿‡å®‰è£…æ’ä»¶ï¼Œä½ å°±å¯ä»¥è½»æ¾ä¸€é”® get GoLand çš„ç»å…¸ Darcula æš—è‰²ç³»å¤–è§‚ã€‚å¯ä»¥è·å¾—ä¸ GoLand å‡ ä¹ä¸€è‡´çš„è§†è§‰é£æ ¼ï¼ŒåŒ…æ‹¬ç¼–è¾‘å™¨é…è‰²å’Œæ–‡ä»¶æ ‘å›¾æ ‡ï¼Œå¸¦æ¥äº²åˆ‡çš„è§†è§‰æ„Ÿå—ã€‚</p>
<ul>
<li>
<p><strong>æ’ä»¶å®‰è£…æŒ‡å—</strong></p>
<p>TRAE æœ¬è´¨ä¸Šå…±äº« VS Code æ’ä»¶åº“ï¼Œè¿™é‡Œç®€è¿°ä¸€ä¸‹æ’ä»¶çš„å®‰è£…æ–¹å¼ï¼Œåæ–‡ä¸å†èµ˜è¿°ï¼šé€šè¿‡ç‚¹å‡»ã€Œé¦–é€‰é¡¹-æ‰©å±•ã€æˆ– <em><strong>Shift+Command+X</strong></em> ç»„åˆé”®æ‰“å¼€æ’ä»¶å¸‚åœºï¼Œå¹¶æœç´¢æ’ä»¶åï¼Œå³å¯ç›´æ¥å®‰è£…ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5cf4f3bd926453eb7d8ff2af6644623~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=UdTnEgAPAF3dNHVVAwVijhVapzk%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/089507563e864924a9e54ff05a8ca1a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=%2FBLJO3pJ6PnVIk1t5X8s9MnOT58%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>JetBrains é¢œè‰²ä¸»é¢˜ï¼š</strong></p>
<p>JetBrains Darcula Theme Â é…ç½®åå¯ä»¥è·å¾— Jetbrains åŒæ¬¾ç¼–è¾‘å™¨é…è‰²</p>
</li>
<li>
<p><strong>JetBrains æ–‡ä»¶å›¾æ ‡ï¼š</strong></p>
<p>JetBrains Icon Theme é…ç½®åå¯è·å¾— Jetbrains åŒæ¬¾ Icon é…è‰²</p>
</li>
</ul>
<p>ç¤ºä¾‹ ï¼ˆ<em><strong>settings.json</strong></em>ï¼‰ï¼šå®‰è£…åï¼Œåœ¨ä¸»é¢˜è®¾ç½®ä¸­é€‰æ‹©å¯¹åº”ä¸»é¢˜ï¼Œæˆ–ç›´æ¥åœ¨ JSON ä¸­æŒ‡å®šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c943b5e17c846de837dc3c7d091c278~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=ICgyukfj8ejOTquxknVduCMzxaU%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"workbench.ColorTheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JetBrains Darcula Theme"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"workbench.IconTheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jetbrains-icon-theme"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å¯é€‰ ï¼ˆå¾®è°ƒï¼‰</strong> ï¼šå¦‚æœä½ è§‰å¾—é»˜è®¤ä¸»é¢˜é¢œè‰²è¿‡æ·±æˆ–è¿‡æµ…ï¼Œå¯ä»¥é€šè¿‡ <em><strong>colorCustomizations</strong></em> å¾®è°ƒï¼Œæ›´ç²¾ç¡®åœ°å¤åˆ» GoLand è‰²å€¼ã€‚</p>
<pre><code class="hljs language-css" lang="css">{
    "workbench<span class="hljs-selector-class">.colorCustomizations</span>": {
        "<span class="hljs-selector-attr">[JetBrains Darcula Theme]</span>": {
            "editor<span class="hljs-selector-class">.background</span>": <span class="hljs-string">"#2B2B2B"</span>,
            <span class="hljs-string">"sideBar.background"</span>: <span class="hljs-string">"#3C3F41"</span>,
            <span class="hljs-string">"activityBar.background"</span>: <span class="hljs-string">"#3C3F41"</span>,
            <span class="hljs-string">"statusBar.background"</span>: <span class="hljs-string">"#3C3F41"</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-3"><strong>å­—ä½“ä¸è¡Œé«˜</strong></h3>
<p>å¯ä»¥ä½¿ç”¨ JetBrains å®˜æ–¹å­—ä½“ <strong>JetBrains Mono</strong>ï¼Œå®ƒä¸ºä»£ç é˜…è¯»åšäº†ä¸“é—¨ä¼˜åŒ–ã€‚</p>
<ul>
<li>
<p><strong>ä¸‹è½½ä¸å®‰è£…ï¼š</strong> JetBrains Mono å®˜ç½‘Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com%2Fmono%2F" target="_blank" title="https://www.jetbrains.com/mono/" ref="nofollow noopener noreferrer">www.jetbrains.com/mono/</a></p>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong> ï¼ˆ<em><strong>settings.json</strong></em>ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"editor.fontFamily"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JetBrains Mono, Menlo, Monaco, 'Courier New', monospace"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"editor.fontSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">14</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"editor.lineHeight"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1.6</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// å»ºè®®ç»ˆç«¯ä¹Ÿä½¿ç”¨ç›¸åŒå­—ä½“ï¼Œä¿æŒè§†è§‰ç»Ÿä¸€</span>
    <span class="hljs-attr">"terminal.integrated.fontFamily"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JetBrains Mono"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4"><strong>é¢æ¿ä¸å¸ƒå±€ä¹ æƒ¯</strong></h3>
<p>åœ¨ GoLand ä¸­ï¼Œå¤§å®¶é€šå¸¸ä¹ æƒ¯äºä¸€ä¸ªé«˜åº¦é›†æˆçš„è§†å›¾ï¼Œä¸»ç•Œé¢åº”åŒ…å«æ¸…æ™°çš„é¡¹ç›®æ ‘ã€ä»£ç å¤§çº²ã€é—®é¢˜è¯Šæ–­ã€è°ƒè¯•æ§åˆ¶å°å’Œç»ˆç«¯ç­‰ï¼Œä»è€Œå½¢æˆä¸€ä¸ªé«˜æ•ˆçš„å·¥ä½œé—­ç¯ã€‚åœ¨ TRAE ä¸­ä¹Ÿå¯ä»¥åšç›¸ä¼¼çš„å¸ƒå±€é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a18072cd5614ea8b869a7abe4103020~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=%2Bq%2BohF2MAUz6pBrVqFvxFWZEYPw%3D" alt="" loading="lazy"/></p>
<p><strong>å»ºè®® ï¼ˆå¸ƒå±€è®¾ç½®ï¼‰ï¼š</strong></p>
<ul>
<li>
<p><strong>å·¦ä¾§ï¼šèµ„æºç®¡ç†å™¨ ï¼ˆExplorerï¼‰</strong> ï¼Œå¹¶åœ¨å…¶ä¸‹æ–¹æˆ–æ—è¾¹æ”¾ç½® <strong>å¤§çº² ï¼ˆOutlineï¼‰</strong> è§†å›¾ã€‚</p>
</li>
<li>
<p><strong>åº•éƒ¨é¢æ¿ï¼š</strong> é€šè¿‡ **<em>âŒ˜J ï¼ˆCmd+Jï¼‰</em> **æˆ– <em><strong>Ctrl+J</strong></em> åˆ‡æ¢æ˜¾ç¤º/éšè—ï¼Œå¸¸ç”¨çš„æ ‡ç­¾é¡µåŒ…æ‹¬ <strong>é—®é¢˜ ï¼ˆProblemsï¼‰ã€è¾“å‡º ï¼ˆOutputï¼‰ã€è°ƒè¯•æ§åˆ¶å° ï¼ˆDebug Consoleï¼‰</strong> å’Œ <strong>ç»ˆç«¯ ï¼ˆTerminalï¼‰</strong> ã€‚</p>
</li>
<li>
<p><strong>å³ä¾§ï¼š</strong> ä»£ç ç¼–è¾‘åŒºã€‚</p>
</li>
</ul>
<p><strong>å»ºè®® ï¼ˆå¿«æ·å¼€å…³ï¼‰ï¼š</strong> ç†Ÿç»ƒä½¿ç”¨å¿«æ·é”®æ¥æ§åˆ¶é¢æ¿ï¼Œå¯ä»¥æå¤§æå‡æ•ˆç‡ã€‚</p>
<ul>
<li>
<p><em><strong>â‡§âŒ˜E</strong></em> ï¼ˆShift+Cmd+Eï¼‰ï¼šåˆ‡æ¢åˆ°èµ„æºç®¡ç†å™¨</p>
</li>
<li>
<p><em><strong>â‡§âŒ˜P</strong></em> ï¼ˆShift+Cmd+Pï¼‰ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ ï¼ˆCommand Paletteï¼‰ï¼Œä¸€åˆ‡æ“ä½œçš„å…¥å£</p>
</li>
<li>
<p><em><strong>âŒ˜J</strong></em> ï¼ˆCmd+Jï¼‰ï¼šåˆ‡æ¢åº•éƒ¨é¢æ¿çš„æ˜¾ç¤ºä¸éšè—</p>
</li>
<li>
<p><em><strong>â‡§âŒ˜M</strong></em> ï¼ˆShift+Cmd+Mï¼‰ï¼šåˆ‡æ¢åˆ°é—®é¢˜é¢æ¿</p>
</li>
</ul>
<h3 data-id="heading-5"><strong>é˜…è¯»ä½“éªŒä¼˜åŒ–</strong></h3>
<p><strong>å»ºè®®ï¼š</strong> ä¸ºäº†æé«˜ä»£ç é˜…è¯»ä½“éªŒï¼Œå¼€å¯ä»¥ä¸‹ <em><strong>settings.json</strong></em> é€‰é¡¹ï¼Œè®©ä»£ç é˜…è¯»æ›´èˆ’é€‚ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// åœ¨æ»šåŠ¨æ—¶ï¼Œè®©å½“å‰ä»£ç å—çš„çˆ¶ç»“æ„ï¼ˆå¦‚å‡½æ•°ã€ç»“æ„ä½“ï¼‰å¸é™„åœ¨é¡¶éƒ¨</span>
    <span class="hljs-attr">"editor.stickyScroll.enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// åœ¨ç¼–è¾‘å™¨é¡¶éƒ¨æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„å’Œç¬¦å·è·¯å¾„ï¼Œæ–¹ä¾¿å®šä½</span>
    <span class="hljs-attr">"breadcrumbs.enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// æ‹¬å·å¯¹ç€è‰²ï¼Œä¾¿äºåŒºåˆ†</span>
    <span class="hljs-attr">"editor.bracketPairColorization.enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>Unicode é«˜äº®</strong></p>
<ul>
<li>
<p><strong>ç°è±¡ï¼š</strong> å¦‚æœä»£ç ä¸­éœ€è¦å‡ºç°ä¸­æ–‡å†’å·ã€æ‹¬å·ç­‰å­—ç¬¦ï¼Œä¼šè¢«é»„è‰²æ³¢æµªçº¿è­¦å‘Šï¼Œçœ‹èµ·æ¥å¯èƒ½ä¼šæœ‰ç‚¹æ¼äººã€‚</p>
</li>
<li>
<p><strong>è§£å†³ï¼š</strong> åœ¨ <em><strong>settings.json</strong></em> ä¸­è®¾ç½® <em><strong>"editor.unicodeHighlight.ambiguousCharacters": false</strong></em>ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/704f58772a9e409698df1d5696235dea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=vSxAx9jXBNeIvBliIgym3j9C%2BiI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6"><strong>å¿«æ·é”®ä¸å¯¼èˆª</strong></h2>
<p>é€šå¸¸åˆ‡æ¢å¿«æ·é”®ç»„åˆçš„é€‚åº”æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›é…ç½®ï¼Œè®©æ“ä½œä¹ æƒ¯ä» GoLand æ— ç¼è¿ç§»è¿‡æ¥ã€‚</p>
<h3 data-id="heading-7"><strong>å¿«æ·é”®æ˜ å°„æ’ä»¶</strong></h3>
<p><strong>å»ºè®®ï¼š</strong> æœ€æ–°ç‰ˆ TRAE å·²ç»æ”¯æŒ<strong>ä¸€é”®å¯¼å…¥ Jetbrains é£æ ¼å¿«æ·é”®</strong>ï¼Œå¯è‡ªè¡Œåœ¨åå¥½è®¾ç½®ä¸­ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œé€‰æ‹©è‡ªå·±æ‰€éœ€çš„å¿«æ·é”®é”®ä½ï¼ˆç›®å‰æ”¯æŒ VS Code / JetBrains ä¸¤ç§å¿«æ·é”®é£æ ¼åˆ‡æ¢ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/158fbea412c741a8b04760a9c2fb66f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=NHouiyDX02%2FLGPWM6%2FEtSYP%2BF9k%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡è‡ªè¡Œé…ç½®å…¶ä»– JetBrains é”®ä½æ’ä»¶ï¼Œå®ƒä»¬ä¼šå°† VS Code çš„å¿«æ·é”®æ›¿æ¢ä¸º JetBrains çš„é£æ ¼ã€‚</p>
<ul>
<li>
<p>IntelliJ IDEA Keybindings ï¼ˆæ›´æµè¡Œï¼‰</p>
</li>
<li>
<p>JetBrains IDE Keymap</p>
</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> é…ç½®åï¼ŒTRAE è‡ªèº«çš„ä¸€äº›é»˜è®¤å¿«æ·é”®ï¼ˆå¦‚ <em><strong>âŒ˜K</strong></em> ç³»åˆ—ï¼‰å¯èƒ½ä¼šä¸æ’ä»¶å¿«æ·é”®å†²çªã€‚éœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c274fb8c77924abda01a9aaa5c3f3ef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=UOOkE5%2BVUTazcVR%2BU5utpV4OGUc%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6395c4f8600d4597ad4335db96b97f1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=VY5Ofz8XahFJ6vJRoOaPIyZxvmU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8"><strong>å¿«æ·é”®å†²çªä¸è‡ªå®šä¹‰</strong></h3>
<p><strong>å…¥å£ï¼š</strong> é€šè¿‡å‘½ä»¤é¢æ¿ ï¼ˆ<em><strong>â‡§âŒ˜P</strong></em>ï¼‰ æœç´¢ <em>Preferences: Open Keyboard Shortcuts (JSON)</em> ï¼Œå³å¯æ‰“å¼€ <em><strong>keybindings.json</strong></em> æ–‡ä»¶è¿›è¡Œæ‰‹åŠ¨é…ç½®ã€‚</p>
<p><strong>å†²çªæ¡ˆä¾‹ï¼š</strong> TRAE/VS Code çš„ <em><strong>âŒ˜K</strong></em> æ˜¯ä¸€ä¸ªç»„åˆé”®çš„èµ·å§‹ï¼Œä¾‹å¦‚ <em><strong>âŒ˜K âŒ˜S</strong></em> æ˜¯ä¿å­˜æ‰€æœ‰æ–‡ä»¶ã€‚è€Œ JetBrains Keymap æ’ä»¶ä¼šæŠŠ <em><strong>âŒ˜K</strong></em> æ˜ å°„ä¸º <em><strong>Git Commit</strong></em>ã€‚å¦‚æœä½ ä¸ä¹ æƒ¯ï¼Œå¯ä»¥åœ¨ <em><strong>keybindings.json</strong></em> ä¸­ç§»é™¤æˆ–ä¿®æ”¹å®ƒã€‚</p>
<p><strong>ä»£ç çš„å‰è¿›åé€€è·³è½¬</strong></p>
<ul>
<li><strong>èƒŒæ™¯ï¼š</strong> è¿™æ˜¯åœ¨ç±» VS Code ç¼–è¾‘å™¨ä¸Šè¿›è¡Œä»£ç æµè§ˆçš„ä¸€å¤§ç—›ç‚¹ï¼ŒGoLand é”®ä½çš„å‰åè·³è½¬é”®è¢« bind åˆ°äº†ä¸Š/ä¸‹ä¸€ä¸ªæ–‡ä»¶ä¸Šï¼Œå¯¼è‡´è·³è½¬åŸºæœ¬ä¸èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e57e3d6060840e0bb25bbc2f2026ff9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=ShQRQRC5XV94OGgOTqvTE%2FeQoPI%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c09ca40d40e54978b35c7761dcd35b77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=B6VFYllqXBFh8hHk5B9x1fIyOVg%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>å»ºè®®ï¼š</strong> ä¿®æ”¹é”®ä½å†²çªï¼Œå°†å¯ä»¥é€šè¿‡ã€Œé”®ç›˜å¿«æ·é”®ã€çš„<strong>æŒ‰é”®å½•åˆ¶èƒ½åŠ›</strong>æ‰¾åˆ°å¯¹åº”é”®ä½çš„ç»‘å®šï¼Œä»…ä¿ç•™ JetBrains IDE Keymap è®¾å®šçš„å‰è¿›/è¿”å› å®šä¹‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af3c086d55984b219f40dd6c66bf68eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=YINUe8cNMn5ClZp2u3j3Hp6n%2Bds%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc1b441fc8b6499285b4ef0a338053ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=qxdQCEHHgzjO7capYqqMEXsYchc%3D" alt="" loading="lazy"/></p>
<p><strong>CamelHumps é©¼å³°å¼å¯¼èˆª</strong></p>
<ul>
<li>
<p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ GoLand ä¸­ï¼Œ<em><strong>âŒ¥+â†/â†’</strong></em> ï¼ˆAlt+Left/Rightï¼‰ å¯ä»¥åœ¨é©¼å³°å‘½åï¼ˆ<em><strong>camelCase</strong></em>ï¼‰çš„å•è¯å†…éƒ¨æŒ‰â€œé©¼å³°â€è¿›è¡Œè·³è½¬ã€‚<em><strong>IntelliJ IDEA Keybindings</strong></em> æ’ä»¶ä¹Ÿæ”¯æŒæ­¤åŠŸèƒ½ã€‚</p>
</li>
<li>
<p><strong>å»ºè®®ï¼š</strong> åœ¨ <em><strong>settings.json</strong></em> ä¸­å¼€å¯æ­¤é€‰é¡¹ä»¥è·å¾—æ›´ç²¾ç»†çš„å…‰æ ‡ç§»åŠ¨ä½“éªŒã€‚</p>
</li>
</ul>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"intellij-idea-keybindings.useCamelHumpsWords"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9"><strong>å¸¸ç”¨æ“ä½œæ˜ å°„æ¸…å•</strong></h3>
<p>ä»¥ä¸‹æ˜¯å®‰è£…å¿«æ·é”®æ’ä»¶åï¼Œä¸€äº› GoLand å¸¸ç”¨æ“ä½œåœ¨ TRAE/VS Code ä¸­çš„ç­‰æ•ˆå¿«æ·é”®ï¼ˆä»¥ macOS ä¸ºä¾‹ï¼‰ï¼š</p>
<p>åŠŸèƒ½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c36aa63437cc488b9db177c830d3e1ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=8R9jGUy06srRLjBQnWgi4ATjyww%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da7bca70aac74e1e9471317e63a32d96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=B79J3esuCPHZpSWauJHiw8vnnDs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10"><strong>è¿è¡Œä¸è°ƒè¯•</strong></h2>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»é‡ç‚¹åœ¨ UI è®¾ç½®ä»¥åŠä¸€äº›ç®€å•é…ç½®ä¸Šã€‚æ›´å¤šå¼€å‘èƒ½åŠ›é…ç½®æŠ€å·§ï¼Œæ¬¢è¿å‚è€ƒè¿™ç¯‡æ–‡æ¡£ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbytetech.info%2Farticles%2F7485577423476490259%3Fclick_from%3Darticle_detail_related" target="_blank" title="https://bytetech.info/articles/7485577423476490259?click_from=article_detail_related" ref="nofollow noopener noreferrer">bytetech.info/articles/74â€¦</a></p>
</blockquote>
<p>æœ¬åœ°ç¯å¢ƒé…ç½®å’Œè¿œç¨‹è°ƒè¯•æ˜¯å¼€å‘æµç¨‹ä¸­çš„æ ¸å¿ƒç¯èŠ‚ã€‚</p>
<h3 data-id="heading-11"><strong>é¡¹ç›®ç²’åº¦çš„ Go ç‰ˆæœ¬è·Ÿéš</strong></h3>
<p>æœ€æ–°ç‰ˆ TRAE å·²ç»æ”¯æŒé¡¹ç›®ç²’åº¦çš„ Go è¯­è¨€ç‰ˆæœ¬ç»‘å®šï¼Œå¯é€šè¿‡ã€Œè®¾ç½®-å¼€å‘ç¯å¢ƒã€ä¸ºä½ çš„é¡¹ç›®é…ç½®ç‰¹å®šçš„ Go è¯­è¨€ç‰ˆæœ¬ï¼ŒåŒæ—¶æ¨èæ‰“å¼€ TRAE goaplsï¼Œç»è¿‡æ·±åº¦ä¼˜åŒ–ï¼Œå¯æ˜¾è‘—é™ä½å¤§å‹ Go é¡¹ç›®çš„å†…å­˜å ç”¨ï¼Œæå‡ç´¢å¼•æ€§èƒ½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e08a8700de148dea14c6f63b9975b76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=m95%2BZR8Rc6LW399YNRfCIxGsgtY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12"><strong>åŸºç¡€è°ƒè¯•é…ç½®</strong></h3>
<p><strong>ç›®çš„ï¼š</strong> é…ç½® <em><strong>launch.json</strong></em> æ–‡ä»¶æ¥å®šä¹‰ä¸åŒçš„è°ƒè¯•åœºæ™¯ã€‚</p>
<p><strong>Tipsï¼š</strong> åœ¨â€œè¿è¡Œå’Œè°ƒè¯•â€é¢æ¿ï¼Œç‚¹å‡»â€œåˆ›å»º launch.json æ–‡ä»¶â€ï¼ŒTRAE ä¼šä¸ºä½ ç”Ÿæˆä¸€ä¸ªåŸºç¡€æ¨¡æ¿ã€‚</p>
<p><strong>ç¤ºä¾‹</strong> ï¼ˆ <em><strong>.vscode/launch.json</strong></em>ï¼‰</p>
<pre><code class="hljs language-perl" lang="perl">{
    <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.2.0"</span>,
    <span class="hljs-string">"configurations"</span>: [
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¯åŠ¨ä¸»æœåŠ¡"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"go"</span>,
            <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
            <span class="hljs-regexp">//</span> å‘ä½ï¼šå»ºè®®å†™æ­»ä¸º <span class="hljs-string">'debug'</span>ï¼Œé¿å… <span class="hljs-string">'auto'</span> æ¨¡å¼åœ¨é main åŒ…æ–‡ä»¶ä¸‹è¯¯åˆ¤ä¸º testï¼Œå¯¼è‡´æŠ¥é”™ â€œ<span class="hljs-keyword">not</span> an executable fileâ€ã€‚
            <span class="hljs-string">"mode"</span>: <span class="hljs-string">"debug"</span>,
            <span class="hljs-string">"program"</span>: <span class="hljs-string">"<span class="hljs-subst">${workspaceFolder}</span>"</span>, <span class="hljs-regexp">//</span> è¿è¡Œæ•´ä¸ªé¡¹ç›®
            <span class="hljs-string">"envFile"</span>: <span class="hljs-string">"<span class="hljs-subst">${workspaceFolder}</span>/.env"</span> // åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"è¿è¡Œå½“å‰æ–‡ä»¶"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"go"</span>,
            <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
            <span class="hljs-string">"mode"</span>: <span class="hljs-string">"debug"</span>,
            <span class="hljs-string">"program"</span>: <span class="hljs-string">"<span class="hljs-subst">${file}</span>"</span>, <span class="hljs-regexp">//</span> ä»…è¿è¡Œå½“å‰æ‰“å¼€çš„æ–‡ä»¶ (éœ€ä¸º main åŒ…)
            <span class="hljs-string">"envFile"</span>: <span class="hljs-string">"<span class="hljs-subst">${workspaceFolder}</span>/.env"</span>
        }
    ]
}
</code></pre>
<h3 data-id="heading-13"><strong>è¿œç¨‹è°ƒè¯• ï¼ˆAttach to Processï¼‰</strong></h3>
<p><strong>é…ç½® Delve DAP</strong></p>
<ul>
<li>
<p><strong>èƒŒæ™¯ï¼š</strong> å½“éœ€è¦åœ¨ä»»æ„è¿œç¨‹æœåŠ¡å™¨ä¸Š <em><strong>attach</strong></em> ä¸€ä¸ªå·²ç»è¿è¡Œçš„ Go è¿›ç¨‹æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ã€‚æ›´å¤šå…³äº Delve DAP çš„è¿œç¨‹è°ƒè¯•ç»†èŠ‚ï¼Œå¯ä»¥æŸ¥é˜… VSCode Go æ’ä»¶çš„å®˜æ–¹ Wiki ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgolang%2Fvscode-go%2Fwiki%2Fdebugging%25EF%25BC%2589%25E3%2580%2582" target="_blank" title="https://github.com/golang/vscode-go/wiki/debugging%EF%BC%89%E3%80%82" ref="nofollow noopener noreferrer">github.com/golang/vscoâ€¦</a></p>
</li>
<li>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<p><strong>åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šå¯åŠ¨ Delveï¼š</strong> ä½ éœ€è¦ä½¿ç”¨ <em><strong>dlv</strong></em> ä»¥ <em><strong>headless</strong></em> æ¨¡å¼å¯åŠ¨ï¼Œå¹¶ç›‘å¬ä¸€ä¸ªç«¯å£ã€‚<em><strong>dlv --listen=:2345 --headless=true --api-version=2 exec ./your_program</strong></em></p>
<p><strong>åœ¨ TRAE ä¸­æ·»åŠ </strong> <em><strong>attach</strong></em> <strong>é…ç½®ï¼š</strong></p>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong> ï¼ˆ <em><strong>.vscode/launch.json</strong></em>ï¼‰</p>
<pre><code class="hljs language-perl" lang="perl">{
    <span class="hljs-string">"configurations"</span>: [
        <span class="hljs-regexp">//</span> ... å…¶ä»–é…ç½®
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"è¿œç¨‹ Attach (åŠ¨æ€IP/ç«¯å£)"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"go"</span>,
            <span class="hljs-string">"request"</span>: <span class="hljs-string">"attach"</span>,
            <span class="hljs-string">"mode"</span>: <span class="hljs-string">"remote"</span>,
            <span class="hljs-regexp">//</span> å‘ä½ï¼š<span class="hljs-string">`remotePath`</span> å¿…é¡»æ˜¯è¿œç¨‹æœåŠ¡å™¨ä¸Šä»£ç çš„ç»å¯¹è·¯å¾„ã€‚
            <span class="hljs-string">"remotePath"</span>: <span class="hljs-string">"/path/to/your/project/on/remote"</span>, 
            <span class="hljs-regexp">//</span> ä½¿ç”¨ inputs å®ç°åŠ¨æ€è¾“å…¥ï¼Œé¿å…ç¡¬ç¼–ç 
            <span class="hljs-string">"host"</span>: <span class="hljs-string">"<span class="hljs-subst">${input:debug_host}</span>"</span>,
            <span class="hljs-string">"port"</span>: <span class="hljs-string">"<span class="hljs-subst">${input:debug_port}</span>"</span>,
            <span class="hljs-regexp">//</span> å…³é”®ï¼šsubstitutePath ç”¨äºæ˜ å°„æœ¬åœ°ä¸è¿œç¨‹ä»£ç è·¯å¾„ï¼Œè®©æ–­ç‚¹èƒ½æ­£ç¡®å‘½ä¸­ã€‚
            <span class="hljs-string">"substitutePath"</span>: [
                {
                    <span class="hljs-string">"from"</span>: <span class="hljs-string">"<span class="hljs-subst">${workspaceFolder}</span>"</span>,
                    <span class="hljs-string">"to"</span>: <span class="hljs-string">"/path/to/your/project/on/remote"</span>
                }
            ]
        }
    ],
    <span class="hljs-string">"inputs"</span>: [
        {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"debug_host"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"promptString"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è¾“å…¥è¿œç¨‹è°ƒè¯•æœåŠ¡å™¨çš„ IP åœ°å€"</span>
        },
        {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"debug_port"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"promptString"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è¾“å…¥ Delve ç›‘å¬çš„ç«¯å£ (å¦‚ 2345)"</span>,
            <span class="hljs-string">"default"</span>: <span class="hljs-string">"2345"</span>
        }
    ]
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01f7a3a485334b29babc22d7b4706b4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=2PPIvciZRkYegGNKPKDrdHB5qLY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14"><strong>æµ‹è¯•ä¸è¦†ç›–ç‡</strong></h2>
<p><strong>UI å…¥å£ï¼š</strong> ä¾§è¾¹æ çš„ <strong>Testing</strong> é¢æ¿æ˜¯ Go æµ‹è¯•çš„ä¸»æˆ˜åœºï¼Œæä¾›äº†æ¯”å‘½ä»¤è¡Œæ›´å‹å¥½çš„äº¤äº’ä½“éªŒã€‚</p>
<ul>
<li><strong>å»ºè®®ï¼š</strong> å¯ç›´æ¥åœ¨è¯¥é¢æ¿ä¸­ç‚¹å‡»è¿è¡Œæˆ–è°ƒè¯•æŒ‰é’®æ¥æ‰§è¡Œå•ä¸ªæµ‹è¯•ã€åŒ…æµ‹è¯•æˆ–æ•´ä¸ªé¡¹ç›®çš„æµ‹è¯•ã€‚</li>
</ul>
<p><strong>ç¯å¢ƒå˜é‡é…ç½® ï¼ˆ</strong> <em><strong>settings.json</strong></em> <strong>ï¼‰ï¼š</strong></p>
<ul>
<li><strong>å»ºè®®ï¼š</strong> é€šè¿‡ <em><strong>go.testEnvFile</strong></em> æŒ‡å®šä¸€ä¸ª <em><strong>.env</strong></em> æ–‡ä»¶ï¼Œè®©æ‰€æœ‰æµ‹è¯•éƒ½èƒ½åŠ è½½å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚</li>
</ul>

<pre><code class="hljs language-kotlin" lang="kotlin">{
    <span class="hljs-string">"go.testEnvFile"</span>: <span class="hljs-string">"<span class="hljs-subst">${workspaceFolder}</span>/.env"</span>,
    <span class="hljs-string">"go.testTimeout"</span>: <span class="hljs-string">"600s"</span>,
    <span class="hljs-comment">// å»ºè®®ï¼šé…ç½®å¸¸ç”¨çš„ test flags</span>
    <span class="hljs-string">"go.testFlags"</span>: [
        <span class="hljs-string">"-count=1"</span>, <span class="hljs-comment">// å…³é—­æµ‹è¯•ç¼“å­˜</span>
        <span class="hljs-string">"-v"</span>,       <span class="hljs-comment">// æ˜¾ç¤ºè¯¦ç»†è¾“å‡º</span>
        <span class="hljs-string">"-race"</span>     <span class="hljs-comment">// å¼€å¯ç«æ€æ£€æµ‹</span>
    ]
}
</code></pre>
<p><strong>æµ‹è¯•è¦†ç›–ç‡ï¼š</strong></p>
<ul>
<li>
<p><strong>å»ºè®®ï¼š</strong> å®‰è£… <strong>Coverage Gutters</strong> æ’ä»¶ã€‚</p>
</li>
<li>
<p><strong>ç”¨æ³•ï¼š</strong></p>
<p>åœ¨ç»ˆç«¯è¿è¡Œ **<em>go test -coverprofile=coverage.out ./...</em> **ç”Ÿæˆè¦†ç›–ç‡æ–‡ä»¶ã€‚</p>
<p>ç‚¹å‡»çŠ¶æ€æ çš„ <em><strong>Watch</strong></em> æŒ‰é’®ï¼ˆç”± Coverage Gutters æä¾›ï¼‰ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è¯»å– <em><strong>coverage.out</strong></em> æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æ•ˆæœï¼š</strong> ç¼–è¾‘å™¨è¡Œå·æ—ä¼šç”¨ç»¿è‰²ï¼ˆå·²è¦†ç›–ï¼‰å’Œçº¢è‰²ï¼ˆæœªè¦†ç›–ï¼‰æ¥æ ‡è®°ä»£ç è¡Œï¼Œä¸€ç›®äº†ç„¶ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a121a4ca024feebfb44a973225e950~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=XHJ2XacxvXVOpO7H0M%2FSJXtMonI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15"><strong>è§„èŒƒä¸æ ¼å¼åŒ–</strong></h2>
<p>ä¿æŒä»£ç é£æ ¼ç»Ÿä¸€æ˜¯å›¢é˜Ÿåä½œçš„åŸºç¡€ã€‚</p>
<p><strong>æ ¼å¼åŒ–å·¥å…·ï¼š</strong></p>
<ul>
<li>
<p><strong>å»ºè®®ï¼š</strong> ä½¿ç”¨ <em><strong>goimports</strong></em>ï¼Œå®ƒèƒ½åœ¨æ ¼å¼åŒ–ä»£ç çš„åŒæ—¶ï¼Œè‡ªåŠ¨æ•´ç† <em><strong>import</strong></em> è¯­å¥ã€‚</p>
</li>
<li>
<p><strong>å…³é”®é…ç½®</strong>ï¼ˆ<em><strong>settings.json</strong></em>ï¼‰ <strong>ï¼š</strong> ä¸ºäº†éµå¾ªå…¬å¸å†…éƒ¨ä»£ç è§„èŒƒï¼Œéœ€è¦é…ç½® <em><strong>gopls</strong></em> å¯¹ <em><strong>import</strong></em> è¿›è¡Œåˆ†ç»„ã€‚</p>
</li>
</ul>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"go.formatTool"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"goimports"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// å…³é”®ï¼šgopls ä¼šè¯»å–æ­¤é…ç½®ï¼Œå°†å…¬å¸/é¡¹ç›®çš„åŒ…æ”¾åœ¨ç¬¬ä¸‰æ–¹åŒ…ä¹‹å</span>
    <span class="hljs-attr">"gopls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"formatting.local"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code.byted.org,git.byted.org"</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>Auto Import å®è·µï¼š</strong></p>
<ul>
<li><strong>ä¸ªäººå»ºè®®ï¼š</strong> ä¸å¼€å¯ AI çš„è‡ªåŠ¨ import åŠŸèƒ½ã€‚æ›´ç¨³å¦¥çš„æ–¹å¼æ˜¯ï¼Œåœ¨ä»£ç ä¸­è¾“å…¥åŒ…ååï¼Œæ‰‹åŠ¨æŒ‰ <em><strong>â‡§âŒ¥O</strong></em> ï¼ˆShift+Alt+Oï¼Œ Organize Importsï¼‰ æˆ–ç›´æ¥ <em><strong>âŒ˜S</strong></em> ï¼ˆCmd+Sï¼‰ ä¿å­˜ï¼Œè§¦å‘ <em><strong>goimports</strong></em> è‡ªåŠ¨æ·»åŠ ã€‚</li>
</ul>
<p><strong>é™æ€æ£€æŸ¥ ï¼ˆLintï¼‰ï¼š</strong></p>
<ul>
<li>
<p><strong>å»ºè®®ï¼š</strong> ä½¿ç”¨ <strong>golangci-lint</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›†æˆäº†å¤šç§ Go linter çš„é«˜æ€§èƒ½å·¥å…·ã€‚</p>
</li>
<li>
<p><strong>é…ç½®</strong> ï¼ˆ<em><strong>settings.json</strong></em>ï¼‰</p>
</li>
</ul>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"go.lintTool"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"golangci-lint"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// å¯é€‰ï¼šåœ¨ä¿å­˜æ—¶å¯¹å½“å‰æ–‡ä»¶è¿›è¡Œ lint æ£€æŸ¥</span>
    <span class="hljs-attr">"go.lintOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"file"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><em><strong>go.mod</strong></em> <strong>è‡ªåŠ¨æ·»åŠ </strong> <em><strong>toolchain</strong></em></p>
<ul>
<li><strong>ç°è±¡ï¼š</strong> å½“é¡¹ç›®ä¾èµ–äº†æŸä¸ªéœ€è¦æ›´é«˜ Go ç‰ˆæœ¬çš„åº“æ—¶ï¼Œ<em><strong>go mod tidy</strong></em> ä¼šè‡ªåŠ¨åœ¨ <em><strong>go.mod</strong></em> æ–‡ä»¶ä¸­æ·»åŠ  <em><strong>toolchain</strong></em> æŒ‡ä»¤ï¼Œè¿™å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚</li>
<li><strong>å»ºè®®ï¼š</strong> ä¸ºé¿å…æ­¤é—®é¢˜ï¼Œå»ºè®®åœ¨ <em><strong>go.mod</strong></em> ä¸­å§‹ç»ˆä½¿ç”¨ä¸‰æ®µå¼çš„ç‰ˆæœ¬å·ï¼Œå¦‚ <em><strong>go 1.24.0</strong></em>ï¼Œè€Œä¸æ˜¯ <em><strong>go 1.24</strong></em>ã€‚</li>
</ul>
<p><em><strong>go.mod</strong></em> <strong>UI å·®å¼‚</strong></p>
<ul>
<li><strong>Tipsï¼š</strong> åœ¨ GoLand ä¸­ï¼Œä¹ æƒ¯äºåœ¨ <em><strong>go.mod</strong></em> æ–‡ä»¶ä¸Šå³é”®æ‰§è¡Œ <em><strong>tidy</strong></em> ç­‰æ“ä½œã€‚åœ¨ TRAE/VS Code ä¸­ï¼Œè¿™äº›æ“ä½œçš„å…¥å£ä½äºæ‰“å¼€çš„ <em><strong>go.mod</strong></em> æ–‡ä»¶çš„é¡¶éƒ¨ CodeLens åŒºåŸŸï¼ˆè“è‰²æ–‡å­—é“¾æ¥ï¼‰ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/450d49b029f44dc699dae9516df6e737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=WfFvk5C%2FePmcf3N4HgITegS%2FV%2F8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16"><strong>Git ä¸ MR</strong></h2>
<p>TRAE çš„ Git æ“ä½œä½“éªŒä¸ GoLand æœ‰æ‰€ä¸åŒï¼Œä½†æœ‰ä¸€äº›é…ç½®å’Œæ’ä»¶å¯ä»¥å¾ˆå¥½åœ°å®ç°ç›¸è¿‘æ•ˆæœã€‚</p>
<p><strong>æ™ºèƒ½æäº¤ ï¼ˆSmart Commitï¼‰ï¼š</strong></p>
<ul>
<li><strong>å»ºè®®ï¼š</strong> åœ¨Â <em><strong>settings.json</strong></em> ä¸­å¼€å¯Â ** <em>"git.enableSmartCommit": true</em>**ã€‚è¿™æ ·ï¼Œåœ¨æ²¡æœ‰æ–‡ä»¶è¢« add åˆ°æš‚å­˜åŒºæ—¶ï¼Œç›´æ¥ç‚¹å‡»æäº¤æŒ‰é’®ï¼Œä¼šè‡ªåŠ¨å°†æ‰€æœ‰å·²ä¿®æ”¹çš„æ–‡ä»¶æš‚å­˜å¹¶æäº¤ï¼Œæ›´æ¥è¿‘ GoLand çš„ä½“éªŒã€‚</li>
</ul>
<p><strong>Amend &amp; Force Push:</strong></p>
<ul>
<li><strong>Amendï¼š</strong> åœ¨â€œæºä»£ç ç®¡ç†â€é¢æ¿çš„æäº¤ä¿¡æ¯è¾“å…¥æ¡†ä¸Šæ–¹ï¼Œç‚¹å‡»Â ** <em>...</em> **æ›´å¤šæ“ä½œï¼Œé€‰æ‹©Â **<em>Commit Staged (Amend)</em> **ã€‚</li>
<li><strong>Force Pushï¼š</strong> åŒæ ·åœ¨ **<em>...</em> **èœå•ä¸­ï¼Œé€‰æ‹© **<em>Push to...</em> **ï¼Œç„¶åé€‰æ‹©å¸¦æœ‰ **<em>(force)</em> **æ ‡è¯†çš„è¿œç¨‹åˆ†æ”¯ã€‚ä¸ºå‡å°‘è¯¯æ“ä½œï¼Œå¯ä»¥ä¿ç•™ <em><strong>git.confirmForcePush</strong></em> ä¸ºÂ <em><strong>true</strong></em>ã€‚</li>
</ul>
<p><strong>Git Blame Lens æ’ä»¶</strong></p>
<ul>
<li>å®‰è£…è¯¥æ’ä»¶ï¼Œå¯ä»¥è·å–ä¸ GoLand ç³»åˆ—ç±»ä¼¼çš„ git blame ä½“éªŒï¼šå³é”®å·¦è¾¹æ¡†ç‚¹å‡»ã€Œæ˜¾ç¤º Blame æ³¨é‡Šã€ï¼Œå³å¯æ˜¾ç¤º jetbrains åŒæ¬¾ git æäº¤å±•ç¤º</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d63009fd4caa42dc9a763b8f5c70dbc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=m6JBYE5sPczE4v2TZs5RHMt8jiQ%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f89ea3367143f3b32664781151f4cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=qnE9QtTY48wKjVdjVg1qeUQrGpY%3D" alt="" loading="lazy"/></p>
<p><strong>MR é“¾æ¥ï¼š</strong></p>
<ul>
<li><strong>Tipsï¼š</strong> å½“ <em><strong>git push</strong></em> ä¸€ä¸ªæ–°åˆ†æ”¯åï¼Œåˆ›å»º MR çš„é“¾æ¥ä¼šæ˜¾ç¤ºåœ¨åº•éƒ¨é¢æ¿çš„ <strong>è¾“å‡º ï¼ˆOutputï¼‰ -&gt; Git</strong> é¢‘é“é‡Œã€‚</li>
</ul>
<p><strong>æ’ä»¶å¢å¼ºï¼š</strong></p>
<ul>
<li>
<p><strong>Git Graphï¼š</strong> å¼ºçƒˆæ¨èå®‰è£…ã€‚æä¾›äº†ä¸€ä¸ªæ¯” VS Code è‡ªå¸¦æ›´å¼ºå¤§ã€æ›´ç›´è§‚çš„å›¾å½¢åŒ– Git æäº¤å†å²è§†å›¾ï¼Œéå¸¸æ¥è¿‘ GoLand çš„ Git Log ç•Œé¢ã€‚</p>
</li>
<li>
<p><strong>GitLensï¼š</strong> åŠŸèƒ½å¼ºå¤§ï¼Œå…¶è¡Œå†… <em><strong>blame</strong></em> åŠŸèƒ½ï¼ˆåœ¨å½“å‰è¡Œæ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ä¿¡æ¯ï¼‰éå¸¸å®ç”¨ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3124096042b84b48962cc1d3c7869c0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=%2FFWjgXGQcvBAsZ4MXm6grdtNpZg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17"><strong>æ¥å…¥ MCP Serverï¼šè®© TRAE ååŒ GoLand é«˜æ•ˆå·¥ä½œ</strong></h2>
<blockquote>
<p>ç½‘å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com%2Fhelp%2Fidea%2Fmcp-server.html" target="_blank" title="https://www.jetbrains.com/help/idea/mcp-server.html" ref="nofollow noopener noreferrer">www.jetbrains.com/help/idea/mâ€¦</a></p>
</blockquote>
<p>Jetbrains ç³»åˆ— IDE çš„æ›´æ–°ç‰ˆæœ¬ä¹Ÿæä¾›äº†ä¸€ç»„â€œè¿œç¨‹ IDE èƒ½åŠ›æ¥å£â€ï¼Œé€šè¿‡ä¸€ä¸ª MCP Server æš´éœ²ç»™å¤–éƒ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œè¿™äº›å·¥å…·åŸºæœ¬è¦†ç›–äº†â€œè¿è¡Œã€é¡¹ç›®ç»“æ„ã€æ–‡ä»¶ä¸ç›®å½•æ“ä½œã€æœç´¢ã€åˆ†æä¸é‡æ„ã€ç»ˆç«¯å‘½ä»¤ã€VCS ä¿¡æ¯â€ç­‰å¸¸è§åŠŸèƒ½ï¼Œæˆ‘ä»¬é€šè¿‡ä¸º TRAE é…ç½®è¿™äº› MCP å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ Goland ï¼ˆæˆ–å…¶ä»– Jetbrains IDE ï¼‰ çš„ç›¸å…³èƒ½åŠ›ã€‚ç›®å‰ Jetbrains MCP æä¾›çš„èƒ½åŠ›å¯ä»¥å½’çº³ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li>
<p><strong>è¿è¡Œä¸è°ƒè¯•ï¼š</strong> è·å–é¡¹ç›®ä¸­çš„æ‰€æœ‰ <em><strong>Run Configuration</strong></em> å¹¶æ‰§è¡ŒæŒ‡å®šçš„ä»»ä½•ä¸€ä¸ªï¼Œæ— è®ºæ˜¯å¯åŠ¨æœåŠ¡è¿˜æ˜¯è·‘æµ‹è¯•ã€‚</p>
</li>
<li>
<p><strong>ä»£ç åˆ†æä¸æ£€æŸ¥ï¼š</strong> å¯¹æŒ‡å®šæ–‡ä»¶è¿è¡Œ GoLand çš„ä»£ç æ£€æŸ¥ï¼Œè¿”å›é”™è¯¯å’Œè­¦å‘Šï¼Œå°±åƒåœ¨ IDE é‡Œçœ‹åˆ°çš„é‚£æ ·ã€‚</p>
</li>
<li>
<p><strong>ä»£ç é‡æ„ä¸ä¿®æ”¹ï¼š</strong> æ‰§è¡Œå®‰å…¨å¯é çš„ <em><strong>rename</strong></em> é‡æ„ã€å¯¹æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ã€æˆ–è€…ç²¾ç¡®æ›¿æ¢æ–‡ä»¶å†…çš„æ–‡æœ¬ã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶ä¸é¡¹ç›®æ¢ç´¢ï¼š</strong> åœ¨é¡¹ç›®ä¸­æŒ‰åç§°æˆ– <em><strong>glob</strong></em> æ¨¡å¼æŸ¥æ‰¾æ–‡ä»¶ã€åˆ—å‡ºç›®å½•æ ‘ã€æˆ–ç›´æ¥åœ¨ GoLand ç¼–è¾‘å™¨é‡Œæ‰“å¼€æŸä¸ªæ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>ç»ˆç«¯å‘½ä»¤æ‰§è¡Œï¼š</strong> åœ¨ GoLand å†…åµŒçš„ç»ˆç«¯é‡Œæ‰§è¡Œä»»æ„ Shell å‘½ä»¤ã€‚</p>
</li>
<li>
<p><strong>ç¬¦å·ä¸ä¾èµ–æŸ¥è¯¢ï¼š</strong> è·å–ä»£ç ä¸­ç‰¹å®šç¬¦å·ï¼ˆå¦‚å‡½æ•°ã€å˜é‡ï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ–åˆ—å‡ºé¡¹ç›®çš„ä¾èµ–é¡¹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-18"><strong>é…ç½®æ–¹æ³•</strong></h3>
<p>å¯¹äºç†Ÿæ‚‰ JetBrains IDE çš„å¼€å‘è€…ï¼Œå¯ç”¨è¿‡ç¨‹éå¸¸ç®€å•ï¼š</p>
<ol>
<li>
<p>æ‰“å¼€ GoLandï¼Œè¿›å…¥ <em><strong>Settings</strong></em> â†’ <em><strong>Tools</strong></em> â†’ <em><strong>MCP Server</strong></em>ã€‚</p>
</li>
<li>
<p>å‹¾é€‰ <em><strong>Enable MCP Server</strong></em>ã€‚</p>
</li>
<li>
<p>åœ¨ <em><strong>Clients Auto-Configuration</strong></em> éƒ¨åˆ†ï¼Œæ‰¾åˆ°ä½ ä½¿ç”¨çš„ TRAE IDEï¼Œç‚¹å‡» <em><strong>Auto-Configure</strong></em>ã€‚</p>
</li>
<li>
<p>é‡å¯ä½ çš„ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ TRAEï¼‰ï¼Œé…ç½®å³å¯ç”Ÿæ•ˆã€‚</p>
</li>
</ol>
<p>å¦‚æœä½ çš„å®¢æˆ·ç«¯ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <em><strong>Copy SSE Config</strong></em> æˆ– <em><strong>Copy Stdio Config</strong></em> æ‰‹åŠ¨é…ç½®ã€‚</p>
<h3 data-id="heading-19"><strong>å®‰å…¨è¾¹ç•Œ</strong></h3>
<p>åœ¨ä½¿ç”¨ Jetbrains MCP ç›¸å…³èƒ½åŠ›æ—¶ï¼Œéœ€è¦äº†è§£å…¶è¾¹ç•Œï¼Œé¿å…ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼š</p>
<ul>
<li>
<p><strong>â€œå‹‡æ•¢æ¨¡å¼â€ï¼ˆBrave Modeï¼‰ï¼š</strong> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œç»ˆç«¯å‘½ä»¤ç­‰æœ‰é£é™©çš„æ“ä½œéœ€è¦ä½ åœ¨ GoLand ç«¯æ‰‹åŠ¨ç¡®è®¤ã€‚ä½ å¯ä»¥åœ¨è®¾ç½®ä¸­å¼€å¯ <em><strong>Run shell commands or run configurations without confirmation (brave mod</strong></em> **<em>e)</em> **ï¼Œå®ç°æ— æ„Ÿæ‰§è¡Œã€‚å»ºè®®ä»…åœ¨å®Œå…¨ä¿¡ä»»å®¢æˆ·ç«¯ï¼Œä¸”ä¸»è¦ç”¨äºæ‰§è¡Œæµ‹è¯•ã€æ„å»ºç­‰å¸¸è§„å‘½ä»¤æ—¶å¼€å¯ã€‚</p>
</li>
<li>
<p><strong>æƒé™ä¸èŒƒå›´ï¼š</strong> æ‰€æœ‰æ“ä½œéƒ½ä¸¥æ ¼é™åˆ¶åœ¨å½“å‰æ‰“å¼€çš„é¡¹ç›®ç›®å½•å†…ï¼Œæ— æ³•è®¿é—®é¡¹ç›®å¤–çš„æ–‡ä»¶ç³»ç»Ÿã€‚MCP Server ä¹Ÿæ— æ³•è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>èµ„æºé™åˆ¶ï¼š</strong> è¯»å–å¤§æ–‡ä»¶æˆ–æ‰§è¡Œé•¿æ—¶é—´å‘½ä»¤ä¼šå—åˆ°è¶…æ—¶ï¼ˆtimeoutï¼‰å’Œæœ€å¤§è¡Œæ•°ï¼ˆmaxLinesCountï¼‰çš„é™åˆ¶ï¼Œè¿”å›çš„è¾“å‡ºå¯èƒ½ä¼šè¢«æˆªæ–­ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8bf3a10e2ba4b199c90f5e6d701a383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567843&amp;x-signature=SuPL3GqPGM3RAVCtFEVsaYhavbA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20"><strong>æ€»ç»“</strong></h2>
<p>é€šè¿‡ä»¥ä¸Šè¿™äº›é…ç½®æŠ€å·§ï¼Œå¸Œæœ›å¸®åŠ©å·²ç»ä¹ æƒ¯ GoLand çš„åŒå­¦ï¼ŒæŠŠ TRAE è°ƒæ•´åˆ°ä¸€ä¸ª <strong>â€œçœ‹èµ·æ¥é¡ºçœ¼ã€æŒ‰èµ·æ¥ä¸åˆ«æ‰­ã€è·‘èµ·æ¥é è°±â€</strong> çš„çŠ¶æ€ï¼ŒæŠŠè¿ˆå‡ºâ€œç¬¬ä¸€æ­¥â€çš„é—¨æ§›å†å‹ä½ä¸€ç‚¹ã€‚</p>
<p>å¦‚æœä½ ç°åœ¨ç”¨çš„ä¸æ˜¯ GoLandï¼Œè€Œæ˜¯ IDEAã€PyCharmï¼Œæˆ–è€…æœ¬èº«å°±åœ¨ç”¨ VS Codeï¼Œå…¶å®è¿ç§»æ€è·¯ä¹Ÿå·®ä¸å¤šï¼š<strong>å…ˆæå®šä¸»é¢˜/å­—ä½“/å›¾æ ‡ï¼Œå…¶æ¬¡æ˜¯å¿«æ·é”®å’Œå¯¼èˆªä¹ æƒ¯ï¼Œæœ€åå†æŠŠè¿è¡Œã€è°ƒè¯•ã€å·¥ä½œæµç­‰å…³é”®åœºæ™¯ä¸€ç‚¹ç‚¹å¤åˆ»å‡ºæ¥ã€‚</strong></p>
<p>å¦å¤–ï¼Œè€å®è¯´åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼ŒIDE åŒå¼€ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆåŠ¡å®çš„é€‰æ‹©ã€‚æ•ˆç‡å·¥å…·çš„ä½¿ç”¨ä¸æ˜¯éæ­¤å³å½¼çš„äºŒé€‰ä¸€ï¼ŒæŠŠå„è‡ªçš„ä»·å€¼éƒ½å‘æŒ¥å‡ºæ¥ï¼Œåè€Œå¯èƒ½æ›´æœ‰æ„ä¹‰ã€‚æ¯”å¦‚åœ¨å¤æ‚é¡¹ç›®ä¸‹ï¼Œå¯ä»¥è¿™æ ·åŒå¼€ TRAE + GoLandï¼š</p>
<ul>
<li>
<p><strong>ä¸šåŠ¡å¼€å‘ã€è¡¥å•æµ‹ã€æ¶¦è‰²æ³¨é‡Šç”¨ TRAE</strong>ï¼Œå……åˆ†å‘æŒ¥ AI çš„å¢é‡ä»·å€¼ï¼›éœ€è¦åšå¤§èŒƒå›´ reviewã€å¤æ‚ä»£ç å¯¼èˆªå’Œæµ‹è¯•æ—¶ï¼Œå¯ä»¥åˆ‡å› GoLandï¼Œåˆ©ç”¨å®ƒæˆç†Ÿè€Œç¨³å®šçš„æ€§èƒ½è¡¨ç°ã€‚</p>
</li>
<li>
<p><strong>æ’æŸ¥çº¿ä¸Šé—®é¢˜æ—¶</strong>ï¼Œå¯ä»¥åœ¨ TRAE é‡Œ attach è¿œç¨‹è¿›ç¨‹ã€çœ‹æ—¥å¿—ï¼Œè®© AI ä¸€èµ·å¸®å¿™åˆ†æè°ƒç”¨é“¾ï¼›å¯¹ç€å¯ç–‘ä»£ç å—å†ç”¨ GoLand åšç²¾ç»†è·³è½¬ã€å…¨å±€æ£€ç´¢å’Œé™æ€æ£€æŸ¥ã€‚</p>
</li>
<li>
<p>åšæ¥å£è¿ç§»æˆ–æ‰¹é‡æ”¹åè¿™ç±»é«˜é£é™©æ“ä½œæ—¶ï¼Œç”¨ GoLand è´Ÿè´£â€œå®‰å…¨è½åˆ€â€ï¼Œè®©é‡æ„å·¥å…·å…œåº•ï¼›<strong>TRAE åˆ™å¸®ä½ ç”Ÿæˆè¿ç§»è„šæœ¬ã€è¡¥æµ‹è¯•ã€çœ‹è¦†ç›–ç‡å“ªé‡Œè¿˜ä¸å¤Ÿã€‚</strong></p>
</li>
</ul>
<p>ä»¥ä¸Šæ˜¯æˆ‘è‡ªå·±çš„ä¸€äº› GoLand â†” TRAE è¿ç§»å¿ƒå¾—ã€‚å¦‚æœè¿™ç¯‡åˆ†äº«èƒ½å¸®ä½ æŠŠ TRAE ç”¨æˆé¡ºæ‰‹çš„ AI IDEï¼Œé‚£ç›®çš„å°±ç®—è¾¾åˆ°äº†ã€‚ä¸å¦¨æ¥è¯•ä¸€è¯•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GLM-5 å‘å¸ƒäº†ï¼10 åˆ†é’Ÿå‚»ç“œåŒ–éƒ¨ç½² OpenClaw åˆ°é£ä¹¦ã€‚]]></title>    <link>https://juejin.cn/post/7605625595571011599</link>    <guid>https://juejin.cn/post/7605625595571011599</guid>    <pubDate>2026-02-13T06:14:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605625595571011599" data-draft-id="7605625595570995215" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GLM-5 å‘å¸ƒäº†ï¼10 åˆ†é’Ÿå‚»ç“œåŒ–éƒ¨ç½² OpenClaw åˆ°é£ä¹¦ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-02-13T06:14:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GLM-5 å‘å¸ƒäº†ï¼10 åˆ†é’Ÿå‚»ç“œåŒ–éƒ¨ç½² OpenClaw åˆ°é£ä¹¦ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:14:49.000Z" title="Fri Feb 13 2026 06:14:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ä¸¤å¤©ï¼Œæ•´ä¸ªå¤–ç½‘é›†ä½“é™·å…¥çŒœè°œæ¸¸æˆï¼Œä»¿ä½›æ•´ä¸ªç§‘æŠ€åŒºè¿›å…¥äº†å…¨å‘˜ä¾¦æ¢çš„æ¨¡å‹ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºä¸€ä¸ªå« Pony AlphaÂ çš„åŒ¿åæ¨¡å‹åœ¨æµ·å¤–å„å¤§è¯„æµ‹æ¦œå•ä¸Šæ¨ªç©ºå‡ºä¸–ã€‚</p>
<p>å®ƒæ²¡æœ‰å‘å¸ƒä¼šï¼Œç”šè‡³æ²¡æœ‰ä¸€å®¶å…·ä½“çš„å…¬å¸è®¤é¢†ã€‚ã€‚ã€‚</p>
<p>ä»…ä»…å‡­ç€å‡ ä¸ªç®€å•çš„ API æ¥å£å’Œå¾ˆæƒŠè‰³çš„ç”Ÿæˆè´¨é‡ï¼Œå°±ç¬é—´å¼•çˆ†äº† X å’Œ Reddit çš„æŠ€æœ¯ç¤¾åŒºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6a7801f68f14b2ba8c1c609d3232138~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=r%2Br88dGiLQsh02CVGUnkDfvRY2w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>OpenRouter å…¨çƒæ¨¡å‹èšåˆä¸åˆ†å‘å¹³å°åœ¨ 2æœˆ6æ—¥é¦–æ¬¡å…¬å¼€æ¨æ–‡å®£å¸ƒä¸Šçº¿åä¸º Pony Alpha çš„ç¥ç§˜æ¨¡å‹ã€‚</p>
<p>éšåä¸¤å¤©åœ¨å¤–ç½‘è¿…é€Ÿå‘é…µï¼Œå¤§å®¶éƒ½åœ¨çŒœè¿™ç©¶ç«Ÿæ˜¯å“ªå®¶æ¨¡å‹ï¼Ÿ</p>
<p>æœ‰äººè¯´æ˜¯ DeepSeek V4ï¼Œä¹Ÿæœ‰äººè¯´æ˜¯ Claude Sonnet ç§˜å¯†å‡çº§ç‰ˆï¼Œç”šè‡³æœ‰äººé€šè¿‡ Pony ä»£å·çŒœæµ‹æ˜¯è…¾è®¯çš„æ–°æ¨¡å‹ï¼Ÿï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/884bbcf7089d4c16ac05191966621831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=v0qqgCYF2RT1MY4w%2F0s%2BKPWQRFY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç°åœ¨ï¼Œè°œåº•æ­æ™“ï¼Œå®˜å®£äº†ã€‚</strong></p>
<p>è¿™ä¸ªéœ¸æ¦œå¤–ç½‘çš„ Pony Alphaï¼Œæ­£æ˜¯æˆ‘ä»¬å›½äº§çš„ AI å¤§æ¨¡å‹â€”<strong>GLM-5</strong>ã€‚</p>
<p>æ²¡é”™ï¼ŒGLM-5 ä¸ä»…æ¥äº†ï¼Œè€Œä¸”ç›´æ¥<strong>å¼€æº</strong>ã€‚</p>
<p><strong>01</strong>ã€GLM 5 æ¨¡å‹ä»‹ç»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5956c2ff2ce45bf83f46780561fca05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=g3R23XvCXkkKPmoShA25uKq85AE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>GLM-5 çš„å®šä½éå¸¸æ¸…æ™°ï¼Œå®ƒæ˜¯é¢å‘å¤æ‚çš„ç³»ç»Ÿå·¥ç¨‹ã€é•¿é“¾è·¯ Agent ä»»åŠ¡çš„å¼€æºæ¨¡å‹åŸºåº§ã€‚</p>
<p>ä¸æ»¡è¶³äºå†™ä¸ªå‰ç«¯ demoï¼Œè€Œæ˜¯å¼€å§‹è¿½æ±‚ Agentic æ·±åº¦ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯çœ‹æ¨¡å‹èƒ½ä¸èƒ½åƒäººä¸€æ ·ï¼Œç‹¬ç«‹æå®šä¸€æ•´ä¸ªç³»ç»Ÿå·¥ç¨‹ã€‚</p>
<p>åœ¨ 2026 å¹´åˆè¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼ŒGLM-5 æƒ³è¦é‡å¡‘é•¿ç¨‹è§„åˆ’ä¸ç³»ç»Ÿçº§å·¥ç¨‹å¼€å‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29acb7101ee1403eb16f67e0d264b991~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=UPyWlAbeyPkT0mvmMR3ESjnY7ow%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â‘  è·¨æ—¶åŸŸçš„ Agentic ä»»åŠ¡è‡ªä¸»é—­ç¯Â </p>
<p>GLM-5 ä¸åªä¼šå†™å‡ è¡Œç¢ä»£ç ï¼Œå®ƒæ›´åƒæ˜¯ä¸ª<strong>è„‘å­æ¸…é†’çš„é¡¹ç›®è´Ÿè´£äºº</strong>ã€‚</p>
<p>é¢å¯¹é‚£ç§è¦åˆ†å¥½å‡ æ­¥ã€æŠ˜è…¾å¥½å‡ ä¸ªå°æ—¶çš„å¤æ‚å¤§ä»»åŠ¡ï¼Œå®ƒèƒ½è‡ªå·±æŠŠéœ€æ±‚æ‹†æ˜ç™½ï¼Œè€Œä¸”å…¨ç¨‹ä¸æ‰çº¿ã€ä¸è·‘é¢˜ï¼Œç›¯ç€ç›®æ ‡ä¸€ç›´å¹²åˆ°åº•ã€‚</p>
<p>â‘¡ ç¡¬æ ¸åç«¯é‡æ„ä¸å…¨é“¾è·¯è°ƒè¯•Â </p>
<p>GLM-5 åœ¨åç«¯æ¶æ„è®¾è®¡ã€é«˜å¤æ‚åº¦ç®—æ³•å®ç°ç­‰æ·±æ°´åŒºæ¸¸åˆƒæœ‰ä½™ã€‚Â </p>
<p>æœ€ç‰›çš„æ˜¯å®ƒæœ‰åæ€èƒ½åŠ›ï¼šå¦‚æœç¨‹åºè·‘ä¸é€šï¼ŒæŠ¥é”™äº†ï¼Ÿå®ƒä¸ç”¨ä½ ç›¯ç€ï¼Œè‡ªå·±ç¿»æ—¥å¿—ã€æ‰¾åŸå› ï¼Œä¸€ééè¯•é”™é‡æ¥ï¼Œç›´åˆ°ä»£ç å½»åº•è·‘é€šä¸ºæ­¢ã€‚</p>
<p>â‘¢ å¯¹æ ‡ Claude Opus çš„å¼€æºå·¥ç¨‹æ ‡æ†Â </p>
<p>åœ¨ä»£ç é€»è¾‘å¯†åº¦ä¸ç³»ç»Ÿçº§å·¥ç¨‹äº¤ä»˜èƒ½åŠ›ä¸Šï¼ŒGLM-5 èƒ½å¤Ÿå¯¹é½ Claude OpusÂ 4.5ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†å¯¹æ ‡é¡¶å°–å•†ä¸šæ¨¡å‹çš„æ™ºèƒ½æ°´å¹³ï¼ŒåŒæ—¶å…¼å…·å¼€æºéƒ¨ç½²çš„çµæ´»æ€§ä¸æè‡´çš„èµ„æºæ€§ä»·æ¯”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2737fbd87b99471096094a6ddb2ebbb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=aHywS1oce5x5meDe5PXrT%2BVoqlE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>02</strong>ã€æµ‹è¯•ä¸€ä¸‹</p>
<p>æŠŠ OpenClaw æ¥å…¥åˆ°é£ä¹¦ä¸­ã€‚</p>
<p>æˆ‘ç”¨æœ€ç®€å•çš„æç¤ºè¯ï¼ŒGLM-5 æ‹†è§£ä»»åŠ¡ä¸€æ­¥æ­¥å¼•å¯¼æˆ‘è·‘é€šäº† OpenClaw æ¥å…¥åˆ°é£ä¹¦ä¸­ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ç…§æˆ‘å¦‚ä¸‹çš„æ­¥éª¤è¯•è¯•ï¼Œä¿è¯å¯ä»¥åœ¨ 10 åˆ†é’Ÿå†…æå®šã€‚</p>
<p>æç¤ºè¯ï¼š</p>
<p>å¸®æˆ‘éƒ¨ç½²ä¸€ä¸ª openclaw å¼€æºé¡¹ç›®ï¼Œæˆ‘è¦é…ç½®åˆ°é£ä¹¦ç¾¤é‡Œæ¥å…¥åˆ°ä¸€ä¸ªæœºå™¨äººã€‚</p>
<p>è¾“å…¥å®Œè¿™ä¸ªæç¤ºè¯ï¼ŒGLM-5 ä¼šå¼•å¯¼ä½ è¿›è¡Œä¸€äº›é…ç½®ï¼Œæ¯”å¦‚åœ¨é£ä¹¦å¼€æ”¾å¹³å°åˆ›å»ºåº”ç”¨ã€é…ç½®åº”ç”¨æƒé™ï¼Œå¯ç”¨æœºå™¨äººçš„èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d886fdac3f84fbdbf234bab0c0b2095~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=6ddoORVZHURu9b0CP1j433U6tS4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸è¿‡è¿™äº›é…ç½®ä½ ä¸ç”¨æ‹…å¿ƒï¼ŒGLM-5 æ€•ä½ ä¸ä¼šï¼Œå·²ç»æ•´ç†äº†ä¸€ä¸ªéå¸¸è¯¦ç»†çš„ PDF æ–‡æ¡£ï¼Œä½ å°±è·Ÿç€æ–‡æ¡£ä¸­çš„æŒ‡ç¤ºä¸€æ­¥æ­¥æ“ä½œå°±è¡Œäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c65073a04fbe40f79f5d115f9c5b3647~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=UAVXgB8GNLLTBTyGAANgqZn5C5E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ä½ æ ¹æ®è¿™ä¸ªæ–‡æ¡£å»é£ä¹¦å¼€æ”¾å¹³å°è¿›è¡Œäº†ç›¸å…³çš„é…ç½®ï¼Œ ä½ å¯ä»¥åœ¨å¼€æ”¾å¹³å°æ‹¿åˆ°ä½ çš„ appid å’Œ app secret ï¼Œè¿™ä¸ªæ—¶å€™ä½ å†ç»™ GLM-5 å‘é€ä¸€ä¸ªå‘½ä»¤ï¼š</p>
<p>æˆ‘çš„ appid æ˜¯ xxxxx</p>
<p>æˆ‘çš„ app secret æ˜¯ï¼šxxxxx</p>
<p>ç„¶å GLM-5 ä¼šè¯´ï¼šè¯·é—®æ‚¨æ˜¯å¦éœ€è¦æˆ‘å¸®æ‚¨é…ç½® AI æ¨¡å‹ï¼Ÿå¦‚æœæ‚¨æœ‰ Claude æˆ–å…¶ä»– AI æœåŠ¡çš„ API Keyï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥å¸®æ‚¨é…ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc2062dde9494cfabf970570951b29bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=JuSA8HaBV3u3TkdtDwb2Iog1Rtw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘å†è¾“å…¥äº†æç¤ºè¯ï¼š</p>
<p>å¸®æˆ‘æ¥å…¥ glm çš„æ¨¡å‹ï¼Œæˆ‘çš„ api key ä¸ºï¼šxxxx</p>
<p>ç„¶å GLM-5 ä¼šå™¼é‡Œå•ªå•¦è‡ªå·±å»é…ç½®ï¼Œç„¶åå‘Šè¯‰ä½  GLM çš„ API Key å·²ç»é…ç½®æˆåŠŸäº†ï¼Œä½ éœ€è¦å†å»é£ä¹¦å¼€æ”¾å¹³å°é…ç½®ä¸€ä¸‹äº‹ä»¶è®¢é˜…ã€‚</p>
<p>æˆ‘ä¹Ÿä¸æ‡‚å•¥é€»è¾‘ï¼Œå°±æ˜¯è·Ÿç€åšå°±è¡Œäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d5f57a17d94fc4b7df30f987683f58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=sI2n0aKD1vcO9nc2uRH60asyz1Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€åä½ åˆ›å»ºä¸€ä¸ªé£ä¹¦ç¾¤ï¼ŒæŠŠä½ è¿™ä¸ªæœºå™¨äººåŠ è¿›å»ã€‚ç„¶å @è¿™ä¸ªæœºå™¨äººï¼Œå°± OK äº†ã€‚ã€‚ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘åªæ˜¯è¾“å…¥äº†ä¸‰ä¸ªæç¤ºè¯ï¼Œåœ¨é£ä¹¦å¼€æ”¾å¹³å°åˆ›å»ºäº†ä¸€ä¸ªåº”ç”¨ã€è¿›è¡Œäº†ç›¸å…³çš„é…ç½®ï¼Œç„¶åæŠŠæœºå™¨äººæ¥å…¥åˆ°é£ä¹¦ç¾¤é‡Œã€‚</p>
<p>å‚»ç“œå¼çš„è·Ÿç€ GLM-5 ç”Ÿæˆçš„ PDF éƒ¨ç½²æŒ‡å—ç‚¹ç‚¹ç‚¹ï¼Œå°± Work äº†ã€‚ã€‚ã€‚</p>
<p>è¿™ä¸ªæ„Ÿè§‰çœŸçš„å¤ªçˆ½äº†ï¼Œå¤ªç‰›äº†ã€‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4b2937c02864efd907e150ec58ad654~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=jeAvalnJUqN1CD1%2BdkrrWzSQGYs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›´è§‚çš„æ„Ÿå—æ˜¯Â GLM-5 æ¨¡å‹åœ¨ Agentic ä»»åŠ¡ä¸Šè¡¨ç°ç¡®å®ä¸é”™ã€‚</p>
<p>å°¤å…¶è¦åˆ†å¥½å‡ æ­¥ç”šè‡³ä¸­é—´éœ€è¦äººæ¥äº¤äº’è¡¥å……é¢å¤–ä¿¡æ¯çš„ä»»åŠ¡ï¼Œå®ƒèƒ½æŠŠéœ€æ±‚æ‹†æ˜ç™½ï¼Œè€Œä¸”çŸ¥é“åœ¨å“ªäº›æ­¥éª¤ä¸Šéœ€è¦äººå‚ä¸è¿›æ¥è¡¥å……ä¿¡æ¯ã€‚</p>
<p>è¡¥å……å®Œä¿¡æ¯èƒ½æ¥ç€å¹²ï¼Œä¸è·‘é¢˜ï¼Œä¸Šä¸‹æ–‡è¿è´¯å¾ˆå¼ºã€‚</p>
<p>ç”Ÿæˆä¸€ä¸ªå…¨æ ˆè®ºå›ã€‚</p>
<p>GLM ç‰›çš„ç‚¹æ˜¯åšç³»ç»Ÿçº§å·¥ç¨‹ï¼Œæˆ‘è®©å®ƒåšä¸€ä¸ªå¸¦ç®¡ç†åå°ã€é‰´æƒã€å‘å¸ƒçš„å®Œæ•´è®ºå›ã€‚</p>
<p>è€Œä¸æ˜¯ä¸€ä¸ªé™æ€å‰ç«¯é¡µé¢ Demoã€‚</p>
<p>æç¤ºè¯ï¼š</p>
<p>ä½ æ˜¯ä¸€ä½èµ„æ·±å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæ“…é•¿ä½¿ç”¨ç°ä»£æŠ€æœ¯æ ˆï¼ˆNext.js 14, Tailwind CSS, TypeScript, Lucide React å›¾æ ‡ï¼‰æ„å»ºç®€æ´ã€ç¾è§‚ã€å“åº”å¼çš„ Web åº”ç”¨ã€‚</p>
<p>ä»»åŠ¡ç›®æ ‡ï¼š è¯·å¸®æˆ‘å¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„è½»é‡åŒ–è®ºå›ç³»ç»Ÿã€‚è¦æ±‚è®¾è®¡é£æ ¼å‚è€ƒçŸ¥ä¹ï¼Œç¾è§‚ã€å¤§æ°”ã€æœ‰æ ¼è°ƒã€‚</p>
<p>æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚ï¼š</p>
<p>ç”¨æˆ·å‰ç«¯ï¼šèº«ä»½éªŒè¯ï¼š å®ç°é‚®ç®±ç™»å½•/æ³¨å†Œã€å¸–å­æµè§ˆï¼š é¦–é¡µå±•ç¤ºå¸–å­åˆ—è¡¨ï¼ˆå«æ ‡é¢˜ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´ã€æ ‡ç­¾ï¼‰ã€å¸–å­è¯¦æƒ…ï¼š æ”¯æŒæŸ¥çœ‹æ­£æ–‡åŠè¯„è®ºåŒºã€‚</p>
<p>å‘å¸ƒåŠŸèƒ½ï¼š ç®€å•çš„å¯Œæ–‡æœ¬æˆ– Markdown ç¼–è¾‘å™¨é¡µé¢ã€ä¸ªäººä¸­å¿ƒï¼š æ˜¾ç¤ºæˆ‘çš„å¸–å­å’ŒåŸºæœ¬è®¾ç½®ã€‚</p>
<p>ç®¡ç†ç³»ç»Ÿ (Admin Portal)ï¼š</p>
<p>ç‹¬ç«‹å…¥å£ï¼š é»˜è®¤ç™»å½•è´¦å·ï¼šadminï¼Œå¯†ç ï¼šadminã€ç®¡ç†çœ‹æ¿ï¼š ç»Ÿè®¡å¸–å­æ€»æ•°ã€ç”¨æˆ·æ€»æ•°ã€å†…å®¹ç®¡ç†ï¼š æ”¯æŒå¯¹è¿è§„å¸–å­è¿›è¡Œåˆ é™¤æˆ–ç½®é¡¶æ“ä½œã€ç”¨æˆ·ç®¡ç†ï¼š æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ï¼Œç¦è¨€ç”¨æˆ·ã€‚</p>
<p>å¤§æ¦‚éœ€è¦ç­‰åˆ° 20ï½30 åˆ†é’Ÿï¼ŒGLM 5 å®Œæˆäº†ä»»åŠ¡æ‹†è§£ã€Codingã€éƒ¨ç½²ä¸Šçº¿ã€‚</p>
<p>å®ç°äº†çš„æ³¨å†Œã€ç™»å½•ï¼Œå¸–å­å‘å¸ƒåŠŸèƒ½ã€‚å¦‚æœç™»å½•çš„æ˜¯ç®¡ç†å‘˜è´¦å·ï¼Œè¿˜èƒ½åˆ‡æ¢åˆ°ç®¡ç†åå°å¯¹è®ºå›å†…å®¹ã€ç”¨æˆ·è¿›è¡Œç®¡ç†ã€‚</p>
<p>å¦‚æœåˆ‡æ¢åˆ°ä¸€ä¸ªä¸ºæœªç™»å½•çš„ç”¨æˆ·çŠ¶æ€ï¼Œä¼šå‘ç°ç¤¾åŒºçš„å¸–å­æ˜¯èƒ½å¤Ÿçœ‹åˆ°çš„ï¼Œå¦‚æœè¦ç‚¹èµã€è¯„è®ºä¼šå¼•å¯¼è¿›è¡Œç™»å½•ï¼Œæœ‰é‰´æƒçš„é€»è¾‘ã€‚</p>
<p>GLM-5 æ¨¡å‹ä¸ä¼šç«‹å³å†™ä»£ç ï¼Œè€Œæ˜¯åˆ¤å®šè¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„é¡¹ç›®ï¼Œå…ˆè¿›è¡Œå‰ç½®çš„è§„åˆ’ã€‚</p>
<p>åŒ…æ‹¬è®¾è®¡æ•°æ®åº“æ¨¡å‹ã€åˆ›å»ºåç«¯ APIã€å¼€å‘å‰ç«¯é¡µé¢ç­‰ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88618a20a729412ba26c6594ab713b4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=guxck8Nl2iy0n%2BMz52xX1bPpErI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœè·‘ä¸é€šã€æŠ¥é”™äº†ï¼ŒGLM-5 ä¸éœ€è¦ä½ ä»‹å…¥ã€‚å®ƒä¼šè‡ªå·±ç¿»æ—¥å¿—ã€åˆ†æ Stack Traceã€å®šä½ Bugï¼Œç„¶åé‡å†™ä»£ç ï¼Œä¸€ééè¯•é”™ç›´åˆ°è·‘é€šã€‚</p>
<p>è¿™ç§å†™ä»£ç -è¿è¡Œ-æŠ¥é”™-ä¿®Bug-å†è¿è¡Œçš„è‡ªä¸»é—­ç¯èƒ½åŠ›ï¼Œæ‰æ˜¯ Agentic æ—¶ä»£çš„çœŸæ­£å…¥åœºåˆ¸ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/794f957a4ae842369eaf674c2c425f55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=6doNlS2t4rKyEryHBndQPqEhpkI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d430c80438db484595df8cd4a9a4204d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=ZI1o%2FKsorSwpvBqfvNzUxJpXMsA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœæƒ³æä¸€æ GLM æ¨¡å‹ï¼Œæ²¡æœ‰ token å¯ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæˆ‘çš„ä¸“å±é“¾æ¥è®¢é˜…å¥—é¤ï¼Œç¬¬ä¸€æ¬¡è´­ä¹° 5 æŠ˜ï¼Œè€Œä¸”åº”é‚€å†å‡ 10%ã€‚Â </p>
<pre><code class="hljs language-ini" lang="ini">é“¾æ¥ï¼šhttps://www.bigmodel.cn/claude-code?<span class="hljs-attr">ic</span>=UX7NF0VZ4S
</code></pre>
<p><strong>03</strong>ã€Agentic Coding æ—¶ä»£æ¥ä¸´ã€‚</p>
<p>2026 å¹´ Vibe Coding å¯èƒ½çœŸçš„ä¸æ˜¯ä¸»æµå™äº‹äº†ï¼Œç°åœ¨æ˜¯ Agentic Codingã€‚</p>
<p>GLM-5 çš„å‘å¸ƒï¼Œå°±æ˜¯åœ¨è·µè¡Œè¿™ä¸ªç†å¿µã€‚</p>
<p>å®ƒä¸æ˜¯æ¥è¾…åŠ©ä½ å†™ä»£ç çš„ï¼Œå®ƒæ˜¯æ¥æ›¿ä½ äº¤ä»˜ç³»ç»Ÿçš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f80888d9e7e844a4822ddeacd9334543~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=di4tOGRD1lp%2ByQL%2Fn0JYWn8Lc1E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœå¤§å®¶æœ‰æ—¶é—´ï¼Œå¯ä»¥å»å¬å¬ OpenClaw å¼€æºé¡¹ç›®ä½œè€…æœ€è¿‘çš„è®¿è°ˆï¼Œä»–è¯´äº†ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
<p>Andrej Karpathy ç­‰ AI å¤§ä½¬ä»¬è¿‘æœŸä¹Ÿè¡¨è¾¾è¿‡ç±»ä¼¼çš„æƒ³æ³•ã€‚</p>
<p><strong>Vibe CodingÂ ä½œä¸ºä¸€ç§æ—©æœŸçš„ã€éšæ„çš„ AI ç¼–ç¨‹æ–¹å¼å·²ç»è§¦åˆ°äº†å¤©èŠ±æ¿ï¼Œæ­£åœ¨è¢«æ›´ä¸¥è‚ƒã€æ›´å…·å·¥ç¨‹åŒ–çš„ Agentic Coding æ‰€å–ä»£ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43b2cb3d840b426db3955c54c3bc0d02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568088&amp;x-signature=6NsaWx2ChzE0SBtrsaKksYeBx3k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Vibe CodingÂ æ˜¯ AI ç¼–ç¨‹åˆæœŸçš„ä¸€ç§é‡ç”Ÿç©æ³•ï¼Œä½†ä¸æ˜¯æœ€ç»ˆèŒƒå¼ã€‚</p>
<p>Agentic Coding æ›´åŠ ç§‘å­¦ï¼Œå®ƒä¸æ˜¯å’Œä¸€ä¸ªå¤§æ¨¡å‹èŠå¤©å†™ç‚¹ä»£ç ã€‚è€Œæ˜¯åŒæ—¶è·‘å¤šä¸ª agentï¼Œæ¯ä¸ªè´Ÿè´£ä¸åŒä»»åŠ¡ï¼Œå¼€å‘è€…ç«™åœ¨æ›´é«˜ä¸€å±‚åšæ¶æ„è®¾è®¡ã€ä»»åŠ¡æ‹†è§£å’ŒéªŒè¯é—­ç¯ã€‚</p>
<p><strong>ä¸å¤ªåœ¨æ„æ¯ä¸€è¡Œä»£ç ï¼Œè€Œæ˜¯åœ¨æ„ç³»ç»Ÿæ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚</strong></p>
<p>è¿™ä¸¤ä½ AI å¤§ä½¬æ˜¯ Vibe coding æœ€çŒ›çš„ä¸€æ‰¹å®è·µè€…ä¹‹ä¸€ï¼Œä½†ä¹Ÿæ˜¯ç¬¬ä¸€æ‰¹å…¬å¼€è¯´æˆ‘å¾—åœä¸‹æ¥ï¼Œè¿™æ ·ä¸è¡Œçš„äººä¹‹ä¸€ã€‚</p>
<p>åœ¨ä»£ç é€»è¾‘å¯†åº¦ã€ç³»ç»Ÿçº§å·¥ç¨‹äº¤ä»˜èƒ½åŠ›ã€Agent ä»»åŠ¡å®Œæˆåº¦è¿™äº›ç»´åº¦ä¸Šï¼ŒGLM-5 å·²ç»å¯ä»¥ç›´æ¥å¯¹æ ‡ Claude Opus è¿™ä¸€æ¡£çš„é¡¶çº§é—­æºæ¨¡å‹ã€‚</p>
<p>åœ¨æ ¸å¿ƒç¼–ç¨‹ / Agent åœºæ™¯ä¸‹ï¼Œæˆæœ¬å‹åˆ°é¡¶çº§é—­æºæ¨¡å‹çš„ä¸€ä¸ªé›¶å¤´ï¼Œå´èƒ½ç»™åˆ°éå¸¸æ¥è¿‘ç”šè‡³è¶…è¶Šçš„å·¥ç¨‹ä½“éªŒ</p>
<p>å¯¹å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼šä½ å¯ä»¥ç”¨å¼€æºæ¨¡å‹çš„æˆæœ¬å’Œå¯æ§æ€§ï¼Œäº«å—æ¥è¿‘é¡¶çº§é—­æºæ¨¡å‹çš„ç”Ÿäº§åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®€æ˜“çš„æŸ¥è¯¢ä¸ç¼“å­˜çš„ç»Ÿä¸€æ‰§è¡Œå™¨]]></title>    <link>https://juejin.cn/post/7605792874173874239</link>    <guid>https://juejin.cn/post/7605792874173874239</guid>    <pubDate>2026-02-13T06:01:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605792874173874239" data-draft-id="7605792874173857855" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®€æ˜“çš„æŸ¥è¯¢ä¸ç¼“å­˜çš„ç»Ÿä¸€æ‰§è¡Œå™¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:01:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å¤coding"/> <meta itemprop="url" content="https://juejin.cn/user/2403977616186251"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®€æ˜“çš„æŸ¥è¯¢ä¸ç¼“å­˜çš„ç»Ÿä¸€æ‰§è¡Œå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2403977616186251/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å¤coding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:01:42.000Z" title="Fri Feb 13 2026 06:01:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸é—®é¢˜</h2>
<p>åœ¨é«˜å¹¶å‘ã€é«˜å¯ç”¨çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸¸é¢ä¸´è¿™æ ·çš„æ•°æ®è·å–æµç¨‹ï¼š</p>
<ul>
<li><strong>å…ˆæŸ¥ç¼“å­˜</strong>ï¼ˆå¦‚ Redisï¼‰å‡è½» DB å‹åŠ›ã€æå‡å“åº”é€Ÿåº¦</li>
<li><strong>ç¼“å­˜æœªå‘½ä¸­å†æŸ¥ DB</strong></li>
<li><strong>DB ä¹Ÿæ²¡æœ‰åˆ™å®æ—¶è®¡ç®—</strong></li>
<li><strong>è®¡ç®—æˆ–æŸ¥è¯¢åˆ°ç»“æœå</strong>ï¼šå…ˆè½åº“ï¼Œå†å›å†™ç¼“å­˜ï¼Œä¿è¯ä¸‹æ¬¡å‘½ä¸­</li>
</ul>
<p>å¦‚æœæ¯ä¸ªæ¥å£éƒ½æ‰‹å†™ã€ŒRedis â†’ DB â†’ è®¡ç®— â†’ å†™ DB â†’ å†™ Redisã€è¿™ä¸€å¥—é€»è¾‘ï¼Œä¼šå‡ºç°å¤§é‡é‡å¤ä»£ç ï¼Œä¸”å®¹æ˜“æ¼å†™å›å†™æ­¥éª¤ï¼Œå¯¼è‡´ç¼“å­˜ä¸ DB ä¸ä¸€è‡´ã€‚å› æ­¤éœ€è¦ä¸€å¥—<strong>å¯å¤ç”¨ã€å£°æ˜å¼</strong>çš„æ‰§è¡Œå™¨ï¼ŒæŠŠæµç¨‹å›ºå®šä¸‹æ¥ï¼Œåªç”±è°ƒç”¨æ–¹æä¾›ã€ŒæŸ¥ä»€ä¹ˆã€æ€ä¹ˆç®—ã€æ€ä¹ˆå­˜ã€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æ•´ä½“è®¾è®¡æ€è·¯</h2>
<p>æ ¸å¿ƒæ€æƒ³ï¼š<strong>ç”¨å‡½æ•°å¼æ¥å£æè¿°æ¯ä¸€æ­¥èƒ½åŠ›ï¼Œç”±å·¥å…·ç±»æŒ‰å›ºå®šé¡ºåºæ‰§è¡Œ</strong>ã€‚</p>
<ul>
<li><strong>Supplier&lt;R&gt;  dbQueryFunc</strong> ï¼šæ•°æ®åº“æŸ¥è¯¢æ–¹æ³•ï¼Œè¿”å›æŸ¥è¯¢çš„ç»“æœï¼›</li>
<li><strong>Function&lt;T, R&gt;  computeFunc</strong>ï¼šå®æ—¶è®¡ç®—æ–¹æ³•ï¼Œæ¥å—å‚æ•°ï¼Œè¿”å›è®¡ç®—çš„ç»“æœï¼›</li>
<li><strong>Consumer&lt;R&gt;  dbSaveFunc</strong>ï¼šä¿å­˜ç»“æœåˆ°æ•°æ®åº“çš„æ–¹æ³•ï¼›</li>
</ul>
<p>æµç¨‹ç”±å·¥å…·ç±»ç»Ÿä¸€ç¼–æ’ï¼Œä¸šåŠ¡æ–¹åªè´Ÿè´£æä¾›è¿™äº› Lambdaï¼Œä»è€Œï¼š</p>
<ul>
<li>å‡å°‘é‡å¤çš„ if-else å’Œ null åˆ¤æ–­</li>
<li>ç»Ÿä¸€æ—¥å¿—ï¼ˆå¦‚ã€ŒDB æ— æ•°æ®ï¼Œå®æ—¶è®¡ç®—ã€ã€Œç¼“å­˜å’Œ DB å‡æ— æ•°æ®ï¼Œå®æ—¶è®¡ç®—ã€ï¼‰</li>
<li>ä¿è¯ã€Œå…ˆå†™ DB å†å†™ Redisã€ç­‰é¡ºåºï¼Œé™ä½å‡ºé”™æ¦‚ç‡</li>
</ul>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€å…³é”®å®ç°</h2>
<p><strong>æµç¨‹ç®€è¿°ï¼š</strong></p>
<ol>
<li><strong>è¯» Redis</strong>ï¼šç”¨ <code>cacheKeyFunc.get()</code> å¾—åˆ° keyï¼ŒæŒ‰ <code>resultType</code> ååºåˆ—åŒ–ï¼›å‘½ä¸­åˆ™ç›´æ¥è¿”å›</li>
<li><strong>è¯» DB</strong>ï¼šè°ƒç”¨ <code>dbQueryFunc.get()</code>ï¼›è‹¥æœ‰ç»“æœï¼Œåˆ™å†™å…¥ Redisï¼ˆå¸¦è¿‡æœŸæ—¶é—´ï¼‰å¹¶è¿”å›</li>
<li><strong>å®æ—¶è®¡ç®—</strong>ï¼šè°ƒç”¨ <code>computeFunc.apply(param)</code>ï¼Œparam ç”± <code>paramFunc</code> æä¾›</li>
<li><strong>å†™å›</strong>ï¼šè‹¥ç»“æœéç©ºï¼Œå…ˆ <code>dbSaveFunc.accept(result)</code> å†™ DBï¼Œå†å†™ Redisï¼›</li>
</ol>
<p><strong>æ–¹æ³•ç­¾åï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T, R&gt; R <span class="hljs-title function_">execute</span><span class="hljs-params">(
    Supplier&lt;String&gt; cacheKeyFunc,    // ç¼“å­˜ key
    Long cacheExpireSeconds,          // è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
    Supplier&lt;R&gt; dbQueryFunc,          // ä»æ•°æ®åº“æŸ¥è¯¢ç»“æœçš„æ–¹æ³•
    Function&lt;T, R&gt; computeFunc,       // å®æ—¶è®¡ç®—çš„æ–¹æ³•
    Supplier&lt;T&gt; paramFunc,            // è·å–å‚æ•°å€¼çš„æ–¹æ³•ï¼Œè·å–çš„å‚æ•°ä¼ é€’ç»™computeFunc
    Consumer&lt;R&gt; dbSaveFunc,           // ä¿å­˜ç»“æœåˆ°æ•°æ®åº“çš„æ–¹æ³•
    TypeReference&lt;R&gt; resultType       // ç”¨äº Redis ååºåˆ—åŒ–
)</span>
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li><code>TypeReference&lt;R&gt;</code> è§£å†³æ³›å‹ <code>R</code> åœ¨ JSON ååºåˆ—åŒ–æ—¶çš„ç±»å‹æ“¦é™¤é—®é¢˜</li>
<li>å†™å›é¡ºåºå›ºå®šä¸ºï¼š<strong>å…ˆ DBï¼Œå Redis</strong>ï¼Œé¿å…ç¼“å­˜ä¸ DB ä¸ä¸€è‡´</li>
</ul>
<p><strong>æµç¨‹ç¤ºæ„ï¼š</strong></p>
<pre><code class="hljs">Redis + DB + è®¡ç®—ï¼š
  è¯» Redis â†’ å‘½ä¸­åˆ™è¿”å›
  â†’ æœªå‘½ä¸­ï¼šè¯» DB â†’ æœ‰åˆ™å†™ Redis å¹¶è¿”å›
  â†’ ä»æ— ï¼šå–å‚æ•° â†’ å®æ—¶è®¡ç®— â†’ å†™ DB â†’ å†™ Redis â†’ è¿”å›
</code></pre>
<p><strong>å…³é”®ä»£ç </strong></p>
<pre><code class="hljs language-scss" lang="scss">public static &lt;T, R&gt; R <span class="hljs-built_in">execute</span>(Supplier&lt;String&gt; cacheKeyFunc,
                               Long cacheExpireSeconds,
                               Supplier&lt;R&gt; dbQueryFunc,
                               Function&lt;T, R&gt; computeFunc,
                               Supplier&lt;T&gt; paramFunc,
                               Consumer&lt;R&gt; dbSaveFunc,
                               TypeReference&lt;R&gt; resultType) {
    T param = Objects<span class="hljs-selector-class">.nonNull</span>(paramFunc) ? paramFunc<span class="hljs-selector-class">.get</span>() : null;   
	if (Objects.isNull(cacheKeyFunc) || Objects<span class="hljs-selector-class">.isNull</span>(resultType)) {
        throw new <span class="hljs-built_in">RuntimeException</span>("cacheKeyFuncå’ŒresultTypeä¸èƒ½ä¸ºç©º"); 
    }
    String cacheKey = cacheKeyFunc<span class="hljs-selector-class">.get</span>();
	if (StringUtils.isBlank(cacheKey)) {
		throw new <span class="hljs-built_in">RuntimeException</span>("ç¼“å­˜é”®ä¸èƒ½ä¸ºç©º"); 
	}

    <span class="hljs-comment">// 1. å…ˆè¯» Redis</span>
    R result = RedisUtils<span class="hljs-selector-class">.queryForObj</span>(cacheKey, resultType);
    if (Objects.nonNull(result)) return result;

    <span class="hljs-comment">// 2. è¯» DB</span>
    result = dbQueryFunc<span class="hljs-selector-class">.get</span>();
    if (Objects.nonNull(result)) {
        <span class="hljs-comment">//ä¿å­˜åˆ°redis</span>
        RedisUtils<span class="hljs-selector-class">.saveObj</span>(cacheKey, JSON.toJSONString(result), cacheExpireSeconds, TimeUnit<span class="hljs-selector-class">.SECONDS</span>);
        return result;
    }

    <span class="hljs-comment">// 3. æœªæŸ¥è¯¢åˆ°æ•°æ®ï¼Œæ‰§è¡Œè®¡ç®—é€»è¾‘</span>
    log<span class="hljs-selector-class">.info</span>("ç¼“å­˜å’ŒDBå‡æ— æ•°æ®ï¼Œå®æ—¶è®¡ç®—æ•°æ®");
    result = computeFunc<span class="hljs-selector-class">.apply</span>(param);

    <span class="hljs-comment">// 4. å…ˆä¿å­˜åˆ° DBï¼Œå†ä¿å­˜åˆ° Redis</span>
    if (Objects.nonNull(result)) {
        dbSaveFunc<span class="hljs-selector-class">.accept</span>(result);
        RedisUtils<span class="hljs-selector-class">.saveObj</span>(cacheKey, JSON.toJSONString(result), cacheExpireSeconds, TimeUnit<span class="hljs-selector-class">.SECONDS</span>);
    } else {
        log<span class="hljs-selector-class">.info</span>("è®¡ç®—ç»“æœä¸ºç©ºï¼Œæ— éœ€ä¿å­˜");
    }

    return result;
}
</code></pre>
<p>å¤‡æ³¨ï¼šå…¶ä¸­çš„RedisUtilsæ˜¯æˆ‘å°è£…çš„ä¸€ä¸ªredisæ“ä½œå·¥å…·ç±»ï¼Œæä¾›äº†ç®€åŒ–äº†redisæ“ä½œçš„æ–¹æ³•ï¼›</p>
<hr/>
<h2 data-id="heading-3">å››ã€ä½¿ç”¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå¸¦ Redis ç¼“å­˜çš„ç”¨æˆ·ç»Ÿè®¡æŸ¥è¯¢</span>
<span class="hljs-type">UserStat</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> QueryProcessUtils.execute(
    () -&gt; <span class="hljs-string">"user:stat:"</span> + userId,                            <span class="hljs-comment">// cache key</span>
    <span class="hljs-number">3600L</span>,                                                   <span class="hljs-comment">// è¿‡æœŸ 1 å°æ—¶</span>
    () -&gt; userStatMapper.selectByUserId(userId),
    (userId) -&gt; userService.aggregateStat(userId),
    () -&gt; userId,
    (result) -&gt; userStatMapper.insert(result),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;UserStat&gt;() {}
);
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 å­ä¼ çˆ¶å…¨è§£æï¼šä»åŸºç¡€ç”¨æ³•åˆ°å®æˆ˜é¿å‘]]></title>    <link>https://juejin.cn/post/7605859660612108322</link>    <guid>https://juejin.cn/post/7605859660612108322</guid>    <pubDate>2026-02-13T06:17:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605859660612108322" data-draft-id="7605810996125581346" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 å­ä¼ çˆ¶å…¨è§£æï¼šä»åŸºç¡€ç”¨æ³•åˆ°å®æˆ˜é¿å‘"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-13T06:17:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/2754702534251820"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 å­ä¼ çˆ¶å…¨è§£æï¼šä»åŸºç¡€ç”¨æ³•åˆ°å®æˆ˜é¿å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2754702534251820/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:17:51.000Z" title="Fri Feb 13 2026 06:17:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Vue3 å¼€å‘ä¸­ï¼Œç»„ä»¶é€šä¿¡æ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒåœºæ™¯ï¼Œè€Œå­ä¼ çˆ¶ä½œä¸ºæœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„é€šä¿¡æ–¹å¼ä¹‹ä¸€ï¼Œæ›´æ˜¯æ–°æ‰‹å…¥é—¨å¿…æŒæ¡çš„çŸ¥è¯†ç‚¹ã€‚ä¸åŒäº Vue2 çš„ <code>$emit</code> å†™æ³•ï¼ŒVue3 ç»„åˆå¼ APIï¼ˆ<code>&lt;script setup&gt;</code>ï¼‰ç®€åŒ–äº†å­ä¼ çˆ¶çš„å®ç°é€»è¾‘ï¼Œä½†ä¹Ÿæœ‰ä¸å°‘ç»†èŠ‚å’Œè¿›é˜¶æŠ€å·§éœ€è¦æ³¨æ„ã€‚</p>
<p>æœ¬æ–‡å°†æŠ›å¼€ TypeScriptï¼Œç”¨æœ€é€šä¿—çš„è¯­è¨€ + å¯ç›´æ¥å¤åˆ¶çš„å®æˆ˜ä»£ç ï¼Œä»åŸºç¡€ç”¨æ³•ã€è¿›é˜¶æŠ€å·§ã€å¸¸è§åœºæ™¯åˆ°é¿å‘æŒ‡å—ï¼Œå…¨æ–¹ä½è®²è§£ Vue3 å­ä¼ çˆ¶ï¼Œæ–°æ‰‹çœ‹å®Œå°±èƒ½ä¸Šæ‰‹ï¼Œè€æ‰‹ä¹Ÿèƒ½æŸ¥æ¼è¡¥ç¼ºã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŸç†ï¼šå­ç»„ä»¶è§¦å‘äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶</h2>
<p>Vue3 å­ä¼ çˆ¶çš„æ ¸å¿ƒé€»è¾‘å’Œ Vue2 ä¸€è‡´ï¼š<strong>å­ç»„ä»¶é€šè¿‡è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œå°†æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼›çˆ¶ç»„ä»¶é€šè¿‡ç›‘å¬è¯¥è‡ªå®šä¹‰äº‹ä»¶ï¼Œæ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ®</strong>ã€‚</p>
<p>å…³é”®åŒºåˆ«åœ¨äºï¼šVue3 <code>&lt;script setup&gt;</code> ä¸­ï¼Œæ— éœ€é€šè¿‡ <code>this.$emit</code> è§¦å‘äº‹ä»¶ï¼Œè€Œæ˜¯é€šè¿‡ <code>defineEmits</code> å£°æ˜äº‹ä»¶åï¼Œç›´æ¥è°ƒç”¨ emit å‡½æ•°å³å¯ï¼Œè¯­æ³•æ›´ç®€æ´ã€æ›´ç›´è§‚ã€‚</p>
<p>å…ˆè®°ä½æ ¸å¿ƒæµç¨‹ï¼Œå†çœ‹å…·ä½“å®ç°ï¼š</p>
<ol>
<li>å­ç»„ä»¶ï¼šç”¨ <code>defineEmits</code> å£°æ˜è¦è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼›</li>
<li>å­ç»„ä»¶ï¼šåœ¨éœ€è¦ä¼ å€¼çš„åœ°æ–¹ï¼ˆå¦‚ç‚¹å‡»äº‹ä»¶ã€æ¥å£å›è°ƒï¼‰ï¼Œè°ƒç”¨ <code>emit('äº‹ä»¶å', è¦ä¼ é€’çš„æ•°æ®)</code>ï¼›</li>
<li>çˆ¶ç»„ä»¶ï¼šåœ¨ä½¿ç”¨å­ç»„ä»¶çš„åœ°æ–¹ï¼Œé€šè¿‡ <code>@äº‹ä»¶å="å¤„ç†å‡½æ•°"</code> ç›‘å¬äº‹ä»¶ï¼›</li>
<li>çˆ¶ç»„ä»¶ï¼šåœ¨å¤„ç†å‡½æ•°ä¸­ï¼Œæ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ®å¹¶ä½¿ç”¨ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€åŸºç¡€ç”¨æ³•ï¼šæœ€ç®€æ´çš„å­ä¼ çˆ¶å®ç°ï¼ˆå¿…å­¦ï¼‰</h2>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªã€Œå­ç»„ä»¶è¾“å…¥å†…å®¹ï¼Œçˆ¶ç»„ä»¶å®æ—¶æ˜¾ç¤ºã€çš„ç®€å•æ¡ˆä¾‹ï¼Œè®²è§£åŸºç¡€ç”¨æ³•ï¼Œä»£ç å¯ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­è¿è¡Œã€‚</p>
<h3 data-id="heading-2">1. å­ç»„ä»¶ï¼ˆChild.vueï¼‰ï¼šå£°æ˜äº‹ä»¶ + è§¦å‘äº‹ä»¶</h3>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>æˆ‘æ˜¯å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¾“å…¥æ¡†è¾“å…¥å†…å®¹ï¼Œè§¦å‘inputäº‹ä»¶ï¼Œä¼ é€’è¾“å…¥å€¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"childInput"</span> 
      @<span class="hljs-attr">input</span>=<span class="hljs-string">"handleInput"</span>
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥è¦ä¼ é€’ç»™çˆ¶ç»„ä»¶çš„å†…å®¹"</span>
    /&gt;</span>
    <span class="hljs-comment">&lt;!-- æŒ‰é’®ç‚¹å‡»ï¼Œä¼ é€’å›ºå®šæ•°æ® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClick"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 10px;"</span>&gt;</span>
      ç‚¹å‡»å‘çˆ¶ç»„ä»¶ä¼ å€¼
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// 1. å£°æ˜è¦è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ï¼ˆæ•°ç»„å½¢å¼ï¼Œå…ƒç´ æ˜¯äº‹ä»¶åï¼‰</span>
<span class="hljs-comment">// å¯é€‰ï¼Œä½†æ¨èå£°æ˜ï¼šå¢å¼ºä»£ç å¯è¯»æ€§ï¼ŒIDEä¼šæœ‰è¯­æ³•æç¤ºï¼Œé¿å…æ‹¼å†™é”™è¯¯</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'inputChange'</span>, <span class="hljs-string">'btnClick'</span>])

<span class="hljs-comment">// å­ç»„ä»¶å†…éƒ¨æ•°æ®</span>
<span class="hljs-keyword">const</span> childInput = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)

<span class="hljs-comment">// è¾“å…¥æ¡†å˜åŒ–æ—¶ï¼Œè§¦å‘äº‹ä»¶å¹¶ä¼ é€’è¾“å…¥å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleInput</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// 2. è§¦å‘äº‹ä»¶ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¼ é€’çš„æ•°æ®ï¼ˆå¯é€‰ï¼Œå¯å¤šä¸ªï¼‰</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'inputChange'</span>, childInput.<span class="hljs-property">value</span>)
}

<span class="hljs-comment">// æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œè§¦å‘äº‹ä»¶å¹¶ä¼ é€’å›ºå®šå¯¹è±¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'btnClick'</span>, {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å­ç»„ä»¶'</span>,
    <span class="hljs-attr">msg</span>: <span class="hljs-string">'è¿™æ˜¯å­ç»„ä»¶é€šè¿‡ç‚¹å‡»æŒ‰é’®ä¼ é€’çš„æ•°æ®'</span>
  })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-3">2. çˆ¶ç»„ä»¶ï¼ˆParent.vueï¼‰ï¼šç›‘å¬äº‹ä»¶ + æ¥æ”¶æ•°æ®</h3>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶è¾“å…¥çš„å†…å®¹ï¼š{{ parentMsg }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶ç‚¹å‡»ä¼ é€’çš„æ•°æ®ï¼š{{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 3. ç›‘å¬å­ç»„ä»¶å£°æ˜çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œç»‘å®šå¤„ç†å‡½æ•° --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> 
      @<span class="hljs-attr">inputChange</span>=<span class="hljs-string">"handleInputChange"</span>
      @<span class="hljs-attr">btnClick</span>=<span class="hljs-string">"handleBtnClick"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// å¼•å…¥å­ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>
<span class="hljs-keyword">import</span> { ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// çˆ¶ç»„ä»¶æ¥æ”¶æ•°æ®çš„å®¹å™¨</span>
<span class="hljs-keyword">const</span> parentMsg = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> parentData = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">msg</span>: <span class="hljs-string">''</span>
})

<span class="hljs-comment">// 4. å¤„ç†å­ç»„ä»¶è§¦å‘çš„inputChangeäº‹ä»¶ï¼Œæ¥æ”¶ä¼ é€’çš„æ•°æ®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleInputChange</span> = (<span class="hljs-params">val</span>) =&gt; {
  <span class="hljs-comment">// val å°±æ˜¯å­ç»„ä»¶emitä¼ é€’è¿‡æ¥çš„å€¼ï¼ˆchildInput.valueï¼‰</span>
  parentMsg.<span class="hljs-property">value</span> = val
}

<span class="hljs-comment">// å¤„ç†å­ç»„ä»¶è§¦å‘çš„btnClickäº‹ä»¶ï¼Œæ¥æ”¶ä¼ é€’çš„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBtnClick</span> = (<span class="hljs-params">data</span>) =&gt; {
  <span class="hljs-comment">// data æ˜¯å­ç»„ä»¶ä¼ é€’çš„å¯¹è±¡ï¼Œç›´æ¥è§£æ„æˆ–èµ‹å€¼å³å¯</span>
  parentData.<span class="hljs-property">name</span> = data.<span class="hljs-property">name</span>
  parentData.<span class="hljs-property">msg</span> = data.<span class="hljs-property">msg</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-4">3. æ ¸å¿ƒç»†èŠ‚è¯´æ˜</h3>
<ul>
<li><code>defineEmits</code> æ˜¯ Vue3 å†…ç½®çš„å®ï¼Œæ— éœ€å¯¼å…¥ï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼›</li>
<li>emit å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»å’Œ <code>defineEmits</code> ä¸­å£°æ˜çš„äº‹ä»¶åä¸€è‡´ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰ï¼Œå¦åˆ™çˆ¶ç»„ä»¶æ— æ³•ç›‘å¬åˆ°ï¼›</li>
<li>emit å¯ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œæ¯”å¦‚ <code>emit('event', val1, val2)</code>ï¼Œçˆ¶ç»„ä»¶å¤„ç†å‡½æ•°å¯å¯¹åº”æ¥æ”¶ <code>(val1, val2) =&gt; {}</code>ï¼›</li>
<li>çˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶æ—¶ï¼Œå¯ä½¿ç”¨ <code>@äº‹ä»¶å</code>ï¼ˆç®€å†™ï¼‰æˆ– <code>v-on:äº‹ä»¶å</code>ï¼ˆå®Œæ•´å†™æ³•ï¼‰ï¼Œæ•ˆæœä¸€è‡´ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€è¿›é˜¶ç”¨æ³•ï¼šä¼˜åŒ–å­ä¼ çˆ¶çš„ä½“éªŒï¼ˆå®æˆ˜å¸¸ç”¨ï¼‰</h2>
<p>åŸºç¡€ç”¨æ³•èƒ½æ»¡è¶³ç®€å•åœºæ™¯ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šé‡åˆ°ã€Œäº‹ä»¶æ ¡éªŒã€ã€ŒåŒå‘ç»‘å®šã€ã€Œäº‹ä»¶å‘½åè§„èŒƒã€ç­‰éœ€æ±‚ï¼Œè¿™éƒ¨åˆ†è¿›é˜¶æŠ€å·§èƒ½è®©ä½ çš„ä»£ç æ›´è§„èŒƒã€æ›´å¥å£®ã€‚</p>
<h3 data-id="heading-6">1. äº‹ä»¶æ ¡éªŒï¼šé™åˆ¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ®ç±»å‹</h3>
<p>é€šè¿‡ <code>defineEmits</code> çš„å¯¹è±¡å½¢å¼ï¼Œå¯å¯¹äº‹ä»¶ä¼ é€’çš„æ•°æ®è¿›è¡Œç±»å‹æ ¡éªŒï¼Œé¿å…å­ç»„ä»¶ä¼ é€’é”™è¯¯ç±»å‹çš„æ•°æ®ï¼Œæå‡ä»£ç å¯é æ€§ï¼ˆç±»ä¼¼ props æ ¡éªŒï¼‰ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-comment">// å¯¹è±¡å½¢å¼å£°æ˜äº‹ä»¶ï¼Œkeyæ˜¯äº‹ä»¶åï¼Œvalueæ˜¯æ ¡éªŒå‡½æ•°ï¼ˆå‚æ•°æ˜¯å­ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼Œè¿”å›booleanï¼‰</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>({
  <span class="hljs-comment">// æ ¡éªŒinputChangeäº‹ä»¶ä¼ é€’çš„æ•°æ®å¿…é¡»æ˜¯å­—ç¬¦ä¸²</span>
  <span class="hljs-attr">inputChange</span>: <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'string'</span>
  },
  <span class="hljs-comment">// æ ¡éªŒbtnClickäº‹ä»¶ä¼ é€’çš„æ•°æ®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œä¸”åŒ…å«nameå’Œmsgå±æ€§</span>
  <span class="hljs-attr">btnClick</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> data === <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-string">'name'</span> <span class="hljs-keyword">in</span> data &amp;&amp; <span class="hljs-string">'msg'</span> <span class="hljs-keyword">in</span> data
  }
})

<span class="hljs-comment">// è‹¥ä¼ é€’çš„æ•°æ®ä¸ç¬¦åˆæ ¡éªŒï¼Œæ§åˆ¶å°ä¼šæŠ¥è­¦å‘Šï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼Œä»…æç¤ºï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleInput</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'inputChange'</span>, <span class="hljs-number">123</span>) <span class="hljs-comment">// ä¼ é€’æ•°å­—ï¼Œä¸ç¬¦åˆæ ¡éªŒï¼Œæ§åˆ¶å°æŠ¥è­¦å‘Š</span>
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">2. åŒå‘ç»‘å®šï¼šv-model ç®€åŒ–å­ä¼ çˆ¶ï¼ˆé«˜é¢‘åœºæ™¯ï¼‰</h3>
<p>å¾ˆå¤šæ—¶å€™ï¼Œå­ä¼ çˆ¶æ˜¯ä¸ºäº†ã€Œä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®ã€ï¼Œæ¯”å¦‚è¡¨å•ç»„ä»¶ã€å¼€å…³ç»„ä»¶ï¼Œè¿™æ—¶å¯ä½¿ç”¨ <code>v-model</code> ç®€åŒ–ä»£ç ï¼Œå®ç°çˆ¶å­ç»„ä»¶åŒå‘ç»‘å®šï¼Œæ— éœ€æ‰‹åŠ¨å£°æ˜äº‹ä»¶å’Œå¤„ç†å‡½æ•°ã€‚</p>
<p>Vue3 ä¸­ï¼Œ<code>v-model</code> æœ¬è´¨æ˜¯ã€Œè¯­æ³•ç³–ã€ï¼Œç­‰ä»·äº <code>:modelValue="xxx" @update:modelValue="xxx = $event"</code>ã€‚</p>
<h4 data-id="heading-8">ä¼˜åŒ–æ¡ˆä¾‹ï¼šå­ç»„ä»¶å¼€å…³ï¼Œçˆ¶ç»„ä»¶æ˜¾ç¤ºçŠ¶æ€</h4>
<pre><code class="hljs language-js" lang="js">&lt;!-- å­ç»„ä»¶ï¼ˆ<span class="hljs-title class_">Child</span>.<span class="hljs-property">vue</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>å­ç»„ä»¶å¼€å…³<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSwitch"</span>&gt;</span>
      {{ isOpen ? 'å…³é—­' : 'æ‰“å¼€' }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// 1. æ¥æ”¶çˆ¶ç»„ä»¶é€šè¿‡v-modelä¼ é€’çš„modelValue</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'modelValue'</span>])
<span class="hljs-comment">// 2. å£°æ˜update:modelValueäº‹ä»¶ï¼ˆå›ºå®šå‘½åï¼Œä¸å¯ä¿®æ”¹ï¼‰</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:modelValue'</span>])

<span class="hljs-comment">// å­ç»„ä»¶å†…éƒ¨ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼</span>
<span class="hljs-keyword">const</span> isOpen = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">modelValue</span>)

<span class="hljs-comment">// å¼€å…³åˆ‡æ¢ï¼Œè§¦å‘äº‹ä»¶ï¼Œä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSwitch</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'update:modelValue'</span>, !isOpen.<span class="hljs-property">value</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<pre><code class="hljs language-js" lang="js">&lt;!-- çˆ¶ç»„ä»¶ï¼ˆ<span class="hljs-title class_">Parent</span>.<span class="hljs-property">vue</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>çˆ¶ç»„ä»¶ï¼š{{ isSwitchOpen ? 'å¼€å…³å·²æ‰“å¼€' : 'å¼€å…³å·²å…³é—­' }}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç›´æ¥ä½¿ç”¨v-modelï¼Œæ— éœ€æ‰‹åŠ¨ç›‘å¬äº‹ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"isSwitchOpen"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> isSwitchOpen = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-9">æ‰©å±•ï¼šå¤šä¸ª v-model åŒå‘ç»‘å®š</h4>
<p>Vue3 æ”¯æŒç»™åŒä¸€ä¸ªå­ç»„ä»¶ç»‘å®šå¤šä¸ª <code>v-model</code>ï¼Œåªéœ€ç»™ <code>v-model</code> åŠ åç¼€ï¼Œå¯¹åº”å­ç»„ä»¶çš„<code>props</code> å’Œ <code>emit</code> å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;!-- çˆ¶ç»„ä»¶ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> 
  <span class="hljs-attr">v-model:name</span>=<span class="hljs-string">"parentName"</span> 
  <span class="hljs-attr">v-model:age</span>=<span class="hljs-string">"parentAge"</span> 
/&gt;</span></span>

&lt;!-- å­ç»„ä»¶ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// æ¥æ”¶å¤šä¸ªv-modelä¼ é€’çš„props</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'name'</span>, <span class="hljs-string">'age'</span>])
<span class="hljs-comment">// å£°æ˜å¯¹åº”çš„updateäº‹ä»¶</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:name'</span>, <span class="hljs-string">'update:age'</span>])

<span class="hljs-comment">// è§¦å‘äº‹ä»¶ä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®</span>
<span class="hljs-title function_">emit</span>(<span class="hljs-string">'update:name'</span>, <span class="hljs-string">'æ–°åå­—'</span>)
<span class="hljs-title function_">emit</span>(<span class="hljs-string">'update:age'</span>, <span class="hljs-number">25</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-10">3. äº‹ä»¶å‘½åè§„èŒƒï¼šæå‡ä»£ç å¯è¯»æ€§</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œéµå¾ªç»Ÿä¸€çš„äº‹ä»¶å‘½åè§„èŒƒï¼Œèƒ½è®©å›¢é˜Ÿåä½œæ›´é«˜æ•ˆï¼Œæ¨èä»¥ä¸‹è§„èŒƒï¼š</p>
<ul>
<li>äº‹ä»¶åé‡‡ç”¨ã€Œkebab-case çŸ­æ¨ªçº¿å‘½åã€ï¼ˆå’Œ HTML äº‹ä»¶å‘½åä¸€è‡´ï¼‰ï¼Œæ¯”å¦‚ <code>input-change</code> è€Œé <code>inputChange</code>ï¼›</li>
<li>äº‹ä»¶åè¦è¯­ä¹‰åŒ–ï¼Œä½“ç°äº‹ä»¶çš„ç”¨é€”ï¼Œæ¯”å¦‚ <code>form-submit</code>ï¼ˆè¡¨å•æäº¤ï¼‰ã€<code>delete-click</code>ï¼ˆåˆ é™¤ç‚¹å‡»ï¼‰ï¼›</li>
<li>åŒå‘ç»‘å®šçš„äº‹ä»¶å›ºå®šä¸º <code>update:xxx</code>ï¼Œxxx å¯¹åº” props åï¼Œæ¯”å¦‚ <code>update:name</code>ã€<code>update:visible</code>ã€‚</li>
</ul>
<h2 data-id="heading-11">å››ã€å®æˆ˜åœºæ™¯ï¼šå­ä¼ çˆ¶çš„å¸¸è§åº”ç”¨</h2>
<p>ç»“åˆå®é™…å¼€å‘ä¸­çš„é«˜é¢‘åœºæ™¯ï¼Œç»™å¤§å®¶è¡¥å…… 3 ä¸ªå¸¸ç”¨æ¡ˆä¾‹ï¼Œè¦†ç›–å¤§éƒ¨åˆ†å­ä¼ çˆ¶éœ€æ±‚ã€‚</p>
<h3 data-id="heading-12">åœºæ™¯1ï¼šå­ç»„ä»¶è¡¨å•æäº¤ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶è¡¨å•æ•°æ®</h3>
<pre><code class="hljs language-js" lang="js">&lt;!-- å­ç»„ä»¶ï¼ˆ<span class="hljs-title class_">FormChild</span>.<span class="hljs-property">vue</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.name"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å§“å"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.age"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¹´é¾„"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSubmit"</span>&gt;</span>æäº¤è¡¨å•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'form-submit'</span>])

<span class="hljs-keyword">const</span> form = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">''</span>
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è¡¨å•æ ¡éªŒï¼ˆç®€åŒ–ï¼‰</span>
  <span class="hljs-keyword">if</span> (!form.<span class="hljs-property">name</span> || !form.<span class="hljs-property">age</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯'</span>)
  <span class="hljs-comment">// æäº¤è¡¨å•æ•°æ®ç»™çˆ¶ç»„ä»¶</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'form-submit'</span>, form)
  <span class="hljs-comment">// æäº¤åé‡ç½®è¡¨å•</span>
  form.<span class="hljs-property">name</span> = <span class="hljs-string">''</span>
  form.<span class="hljs-property">age</span> = <span class="hljs-string">''</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-13">åœºæ™¯2ï¼šå­ç»„ä»¶å…³é—­å¼¹çª—ï¼Œçˆ¶ç»„ä»¶æ§åˆ¶å¼¹çª—æ˜¾ç¤º/éšè—</h3>
<pre><code class="hljs language-js" lang="js">&lt;!-- å­ç»„ä»¶ï¼ˆ<span class="hljs-title class_">ModalChild</span>.<span class="hljs-property">vue</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"visible"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>å­ç»„ä»¶å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClose"</span>&gt;</span>å…³é—­å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'visible'</span>])
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'close-modal'</span>])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClose</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è§¦å‘å…³é—­äº‹ä»¶ï¼Œé€šçŸ¥çˆ¶ç»„ä»¶éšè—å¼¹çª—</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'close-modal'</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-14">åœºæ™¯3ï¼šå­ç»„ä»¶åˆ—è¡¨åˆ é™¤ï¼Œçˆ¶ç»„ä»¶æ›´æ–°åˆ—è¡¨</h3>
<pre><code class="hljs language-js" lang="js">&lt;!-- å­ç»„ä»¶ï¼ˆ<span class="hljs-title class_">ListChild</span>.<span class="hljs-property">vue</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in list"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
      {{ item.name }}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleDelete(item.id)"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'list'</span>])
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'delete-item'</span>])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDelete</span> = (<span class="hljs-params">id</span>) =&gt; {
  <span class="hljs-comment">// ä¼ é€’è¦åˆ é™¤çš„idç»™çˆ¶ç»„ä»¶ï¼Œç”±çˆ¶ç»„ä»¶æ›´æ–°åˆ—è¡¨</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'delete-item'</span>, id)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-15">äº”ã€å¸¸è§å‘ç‚¹é¿å‘æŒ‡å—ï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h2>
<p>å¾ˆå¤šæ–°æ‰‹åœ¨å†™å­ä¼ çˆ¶æ—¶ï¼Œä¼šé‡åˆ°ã€Œçˆ¶ç»„ä»¶ç›‘å¬ä¸åˆ°äº‹ä»¶ã€ã€Œæ•°æ®ä¼ é€’å¤±è´¥ã€ç­‰é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯æœ€å¸¸è§çš„ 4 ä¸ªå‘ç‚¹ï¼Œå¸®ä½ å¿«é€Ÿé¿å‘ã€‚</p>
<h3 data-id="heading-16">å‘ç‚¹1ï¼šäº‹ä»¶åå¤§å°å†™ä¸ä¸€è‡´</h3>
<p>å­ç»„ä»¶ <code>emit('inputChange')</code>ï¼Œçˆ¶ç»„ä»¶ <code>@inputchange="handle"</code>ï¼ˆå°å†™ï¼‰ï¼Œä¼šå¯¼è‡´çˆ¶ç»„ä»¶ç›‘å¬ä¸åˆ°äº‹ä»¶ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šç»Ÿä¸€é‡‡ç”¨ kebab-case å‘½åï¼Œå­ç»„ä»¶ <code>emit('input-change')</code>ï¼Œçˆ¶ç»„ä»¶ <code>@input-change="handle"</code>ã€‚</p>
<h3 data-id="heading-17">å‘ç‚¹2ï¼šå¿˜è®°å£°æ˜äº‹ä»¶ï¼ˆdefineEmitsï¼‰</h3>
<p>å­ç»„ä»¶ç›´æ¥è°ƒç”¨ <code>emit('event')</code>ï¼Œæœªç”¨ <code>defineEmits</code> å£°æ˜äº‹ä»¶ï¼Œè™½ç„¶å¼€å‘ç¯å¢ƒå¯èƒ½ä¸æŠ¥é”™ï¼Œä½†ç”Ÿäº§ç¯å¢ƒå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œä¸” IDE æ— æç¤ºã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ— è®ºäº‹ä»¶æ˜¯å¦éœ€è¦æ ¡éªŒï¼Œéƒ½ç”¨ <code>defineEmits</code> å£°æ˜ï¼ˆæ•°ç»„å½¢å¼å³å¯ï¼‰ã€‚</p>
<h3 data-id="heading-18">å‘ç‚¹3ï¼šä¼ é€’å¤æ‚æ•°æ®ï¼ˆå¯¹è±¡/æ•°ç»„ï¼‰æ—¶ï¼Œçˆ¶ç»„ä»¶ä¿®æ”¹åå½±å“å­ç»„ä»¶</h3>
<p>å­ç»„ä»¶ä¼ é€’å¯¹è±¡/æ•°ç»„ç»™çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶ç›´æ¥ä¿®æ”¹è¯¥æ•°æ®ï¼Œä¼šå½±å“å­ç»„ä»¶ï¼ˆå› ä¸ºå¼•ç”¨ç±»å‹ä¼ é€’çš„æ˜¯åœ°å€ï¼‰ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šçˆ¶ç»„ä»¶æ¥æ”¶æ•°æ®åï¼Œç”¨ <code>JSON.parse(JSON.stringify(data))</code> æ·±æ‹·è´ï¼Œæˆ–ç”¨ <code>reactive</code> + <code>toRaw</code> å¤„ç†ï¼Œé¿å…ç›´æ¥ä¿®æ”¹åŸå§‹æ•°æ®ã€‚</p>
<h3 data-id="heading-19">å‘ç‚¹4ï¼šv-model åŒå‘ç»‘å®šæ—¶æŠ¥é”™ï¼Œæç¤ºã€ŒmodelValue æœªå®šä¹‰ã€</h3>
<p>åŸå› ï¼šå­ç»„ä»¶æœªæ¥æ”¶ <code>modelValue</code> propsï¼Œæˆ–æœªå£°æ˜ <code>update:modelValue</code> äº‹ä»¶ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿å­ç»„ä»¶ <code>defineProps(['modelValue'])</code> å’Œ <code>defineEmits(['update:modelValue'])</code> éƒ½å£°æ˜ã€‚</p>
<h2 data-id="heading-20">å…­ã€æ€»ç»“ï¼šå­ä¼ çˆ¶æ ¸å¿ƒè¦ç‚¹å›é¡¾</h2>
<p>Vue3 å­ä¼ çˆ¶çš„æ ¸å¿ƒå°±æ˜¯ã€Œäº‹ä»¶è§¦å‘ + äº‹ä»¶ç›‘å¬ã€ï¼Œè®°ä½ä»¥ä¸‹ 3 ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼Œå°±èƒ½åº”å¯¹æ‰€æœ‰åœºæ™¯ï¼š</p>
<ol>
<li>åŸºç¡€å†™æ³•ï¼š<code>defineEmits</code> å£°æ˜äº‹ä»¶ â†’ <code>emit</code> è§¦å‘äº‹ä»¶ â†’ çˆ¶ç»„ä»¶ <code>@äº‹ä»¶å</code> ç›‘å¬ï¼›</li>
<li>è¿›é˜¶ä¼˜åŒ–ï¼šäº‹ä»¶æ ¡éªŒæå‡å¯é æ€§ï¼Œ<code>v-model</code> ç®€åŒ–åŒå‘ç»‘å®šï¼Œéµå¾ª kebab-case å‘½åè§„èŒƒï¼›</li>
<li>é¿å‘å…³é”®ï¼šäº‹ä»¶åå¤§å°å†™ä¸€è‡´ã€å¿…å£°æ˜äº‹ä»¶ã€å¤æ‚æ•°æ®æ·±æ‹·è´ã€v-model å¯¹åº” props å’Œ emit å‘½åæ­£ç¡®ã€‚</li>
</ol>
<p>å­ä¼ çˆ¶æ˜¯ Vue3 ç»„ä»¶é€šä¿¡ä¸­æœ€åŸºç¡€çš„æ–¹å¼ï¼ŒæŒæ¡å®ƒä¹‹åï¼Œå†å­¦ä¹ çˆ¶ä¼ å­ï¼ˆpropsï¼‰ã€è·¨å±‚çº§é€šä¿¡ï¼ˆprovide/injectï¼‰ã€å…¨å±€é€šä¿¡ï¼ˆPiniaï¼‰ä¼šæ›´è½»æ¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI ç¼–ç¨‹çš„ä¸´ç•Œç‚¹ï¼šå½“ä¸‰å®¶å·¨å¤´åŒæ—¶å®£å¸ƒæˆ‘ä»¬ä¸å†™ä»£ç äº†]]></title>    <link>https://juejin.cn/post/7605816833192067072</link>    <guid>https://juejin.cn/post/7605816833192067072</guid>    <pubDate>2026-02-13T06:20:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605816833192067072" data-draft-id="7605810996125630498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI ç¼–ç¨‹çš„ä¸´ç•Œç‚¹ï¼šå½“ä¸‰å®¶å·¨å¤´åŒæ—¶å®£å¸ƒæˆ‘ä»¬ä¸å†™ä»£ç äº†"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-13T06:20:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI ç¼–ç¨‹çš„ä¸´ç•Œç‚¹ï¼šå½“ä¸‰å®¶å·¨å¤´åŒæ—¶å®£å¸ƒæˆ‘ä»¬ä¸å†™ä»£ç äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:20:51.000Z" title="Fri Feb 13 2026 06:20:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p><strong>æ˜¨å¤© 24 å°æ—¶å†…ï¼Œä¸‰å®¶å…¬å¸åŒæ—¶è¯´äº†åŒä¸€å¥è¯ï¼šæˆ‘ä»¬çš„ä»£ç ï¼ŒåŸºæœ¬ä¸æ˜¯äººå†™çš„äº†ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46b65921c46b4aca9f6452b4c871aae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=jesU9ZmQOBg6tcq3ClSaRO%2BC9dc%3D" alt="" loading="lazy"/></p>
<p>ä¸æ˜¯åª’ä½“ç‚’ä½œã€‚ä¸æ˜¯ PR åŒ…è£…ã€‚æ˜¯ Nvidiaã€OpenAIã€Cognitionã€Anthropicâ€”â€”å››å®¶ç«™åœ¨ AI æœ€å‰æ²¿çš„å…¬å¸ï¼Œå‡ ä¹åŒä¸€æ—¶é—´äº®å‡ºäº†åº•ç‰Œã€‚</p>
<p>è¿™ä»¶äº‹å€¼å¾—æ¯ä¸ªå†™ä»£ç çš„äººåœä¸‹æ¥æƒ³ä¸€æƒ³ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>å‘ç”Ÿäº†ä»€ä¹ˆ</strong></h2>
<p>å…ˆæ‘†äº‹å®ã€‚</p>
<p><strong>Nvidia</strong>ï¼šé»„ä»å‹‹å‡ ä¸ªæœˆå‰åœ¨å†…éƒ¨å–Šå‡º"stop coding"ï¼Œè®© 3 ä¸‡åå·¥ç¨‹å¸ˆå…¨é¢æ¢ç”¨ AI ç¼–ç¨‹å·¥å…·ã€‚æœ€æ–°æ•°æ®â€”â€”ä»£ç äº§å‡ºé‡ç¿»äº† 3 å€ã€‚ä¸æ˜¯ 10%ã€20%çš„æå‡ï¼Œæ˜¯ 3 å€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f66bf95b9407443d8fc4e2e894e33817~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=Fz67t3TSyBnv7baK0wksir9DQ%2BQ%3D" alt="" loading="lazy"/></p>
<p><strong>OpenAI</strong>ï¼šå†…éƒ¨å›¢é˜Ÿäº¤ä»˜äº†ä¸€ä¸ªå®Œæ•´äº§å“ï¼Œæ¯ä¸€è¡Œä»£ç éƒ½æ˜¯ AI Agent ç”Ÿæˆçš„ã€‚å·¥ç¨‹å¸ˆå…¨ç¨‹æ²¡å†™ä¸€è¡Œä»£ç ï¼Œåªè´Ÿè´£ Review å’Œç›‘ç£ã€‚å¼€å‘æ•ˆç‡æå‡äº† 10 å€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0c3bcedb20042299464c2a82c943c86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=M%2FuiWV8LLK7X2WwynDffREiZE9Y%3D" alt="" loading="lazy"/></p>
<p><strong>Cognition</strong>ï¼ˆåš Devin çš„é‚£å®¶ï¼‰ï¼šè”åˆåˆ›å§‹äºº Scott Wu å‘äº†æ¡æ¨ï¼Œè¯´å…¬å¸è¶…è¿‡ 90%çš„ä»£ç æ˜¯ AI å†™çš„ã€‚ä»–çš„åŸè¯æ˜¯ï¼š"ä½ ç°åœ¨å®é™…éœ€è¦äº²æ‰‹æ•²çš„ä»£ç æœ‰å¤šå°‘ï¼Ÿå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œå¤§æ¦‚ä¸åˆ° 10%ã€‚"</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b92d009fb057444e8a036f3f8fd479d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=xX01GtDWvncvOUBzD1Qun9mjqTQ%3D" alt="" loading="lazy"/></p>
<p><strong>Anthropic</strong>ï¼šé¦–å¸­äº§å“å®˜ Mike Krieger è¯´å¾—æ›´ç›´æ¥â€”â€”"Claude åœ¨å†™ Claudeã€‚Claude çš„äº§å“å’Œ Claude Codeï¼Œå®Œå…¨ç”± Claude è‡ªå·±å†™ã€‚"</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fea252c30fd64adb9f0dd24d601a4095~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=o7vvPC0LqSj5%2FV2FD%2FkPmoxkYe4%3D" alt="" loading="lazy"/></p>
<p>å››å®¶å…¬å¸ï¼ŒåŒä¸€ä¸ªç»“è®ºï¼š<strong>ç¨‹åºå‘˜çš„æ ¸å¿ƒå·¥ä½œï¼Œæ­£åœ¨ä»"å†™ä»£ç "å˜æˆ"ä¸å†™ä»£ç "ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1"><strong>è¿™ä¸æ˜¯ç¬¬ä¸€æ¬¡æœ‰äººå–Š"ç‹¼æ¥äº†"</strong></h2>
<p>æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆã€‚</p>
<p>"AI æ›¿ä»£ç¨‹åºå‘˜"è¿™è¯å–Šäº†ä¸‰å¹´äº†ã€‚2023 å¹´ GitHub Copilot å‘å¸ƒçš„æ—¶å€™å–Šè¿‡ä¸€æ¬¡ã€‚2024 å¹´ Devin å‡ºæ¥çš„æ—¶å€™åˆå–Šäº†ä¸€æ¬¡ã€‚2025 å¹´ Claude Code å’Œ Codex ä¸Šçº¿çš„æ—¶å€™å†å–Šä¸€æ¬¡ã€‚</p>
<p>æ¯æ¬¡å–Šå®Œï¼Œç¨‹åºå‘˜è¿˜æ˜¯è¯¥ä¸Šç­ä¸Šç­ï¼Œè¯¥åŠ ç­åŠ ç­ã€‚</p>
<p>ä½†è¿™æ¬¡ä¸ä¸€æ ·ã€‚</p>
<p>ä¹‹å‰æ˜¯æ¨¡å‹å…¬å¸è¯´"æˆ‘ä»¬èƒ½åšåˆ°"â€”â€”é‚£æ˜¯é”€å”®è¯æœ¯ã€‚</p>
<p>è¿™æ¬¡æ˜¯<strong>ç”¨ AI å†™ä»£ç çš„å…¬å¸è‡ªå·±è¯´"æˆ‘ä»¬å·²ç»åšåˆ°äº†"</strong>â€”â€”è¿™æ˜¯ç”Ÿäº§å®è·µã€‚</p>
<p>Nvidia ä¸æ˜¯ AI ç¼–ç¨‹å·¥å…·å…¬å¸ï¼Œå®ƒæ˜¯èŠ¯ç‰‡å…¬å¸ã€‚å®ƒç»™ 3 ä¸‡å·¥ç¨‹å¸ˆæ¢å·¥å…·ï¼Œä¸æ˜¯ä¸ºäº† PRï¼Œæ˜¯å› ä¸ºä»£ç äº§å‡ºçœŸçš„ç¿»äº† 3 å€ã€‚å½“ä½ çš„ç«äº‰å¯¹æ‰‹ç”¨åŒæ ·çš„äººåŠ›åšå‡º 3 å€çš„äº§å‡ºï¼Œä½ ä¸è·Ÿè¿›å°±æ˜¯åœ¨ç­‰æ­»ã€‚</p>
<p>è¿™ä¸ªä¿¡å·çš„å«é‡‘é‡ï¼Œè·Ÿ"æŸ AI å…¬å¸å‘äº†ä¸ª Demo"å®Œå…¨ä¸æ˜¯ä¸€ä¸ªé‡çº§ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>ä¸ºä»€ä¹ˆæ˜¯ç°åœ¨</strong></h2>
<p>ä½ å¯èƒ½å¥½å¥‡ï¼šAI ç¼–ç¨‹å·¥å…· 2024 å¹´å°±æœ‰äº†ï¼Œä¸ºä»€ä¹ˆçªç„¶åˆ°äº†è¿™ä¸ªä¸´ç•Œç‚¹ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯<strong>é€Ÿåº¦</strong>ã€‚</p>
<p>å°±åœ¨æ˜¨å¤©ï¼ŒOpenAI å‘å¸ƒäº† GPT-5.3-Codex-Sparkâ€”â€”ä¸€ä¸ªè·‘åœ¨ Cerebras æ™¶åœ†çº§èŠ¯ç‰‡ä¸Šçš„ç¼–ç æ¨¡å‹ã€‚è¿™æ˜¯ OpenAI ç¬¬ä¸€æ¬¡ç”¨é Nvidia çš„èŠ¯ç‰‡éƒ¨ç½²ç”Ÿäº§çº§æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e36ce70610e140c09210ef0a4ec0d688~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568450&amp;x-signature=UOyVeSHfHLqu9iMF2CoPWW5Ds08%3D" alt="" loading="lazy"/></p>
<p>å…³é”®æ•°å­—ï¼š<strong>æ¯ç§’ 1000+ token çš„ä»£ç ç”Ÿæˆé€Ÿåº¦ï¼Œæ¯”ä¹‹å‰å¿« 15 å€ã€‚</strong></p>
<p>Cerebras çš„èŠ¯ç‰‡æœ‰å¤šå¤§ï¼Ÿä¸€æ•´å—ç¡…æ™¶åœ†ï¼Œé¤ç›˜é‚£ä¹ˆå¤§ï¼Œå°±æ˜¯ä¸€ä¸ªå¤„ç†å™¨ã€‚ä¸æ˜¯æŠŠå‡ ç™¾ä¸ª GPU å †åœ¨ä¸€èµ·ï¼Œæ˜¯æŠŠä¸€æ•´ä¸ªèŠ¯ç‰‡åšåˆ°æè‡´ã€‚</p>
<p>15 å€é€Ÿåº¦æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p>ä»¥å‰ç”¨ AI å†™ä»£ç ï¼Œä½ æäº¤ä¸€ä¸ªä»»åŠ¡ï¼Œæ³¡æ¯å’–å•¡ç­‰å‡ åˆ†é’Ÿã€‚ç°åœ¨æ˜¯ä½ è¯éŸ³åˆšè½ï¼Œä»£ç å°±å‡ºæ¥äº†ã€‚ä»"å¼‚æ­¥ç­‰ç»“æœ"å˜æˆäº†"å®æ—¶å¯¹è¯"ã€‚</p>
<p>è¿™ä¸ªä½“æ„Ÿå·®å¼‚æ˜¯è´¨å˜ã€‚</p>
<p>æˆ‘è‡ªå·±æ¯å¤©ç”¨ Claude Code åšäº§å“ã€‚ä¹‹å‰ç­‰ AI ç”Ÿæˆçš„æ—¶å€™æˆ‘ä¼šåˆ‡åˆ°åˆ«çš„çª—å£å¹²åˆ«çš„äº‹ã€‚ç°åœ¨ï¼Ÿæ ¹æœ¬æ²¡æ—¶é—´åˆ‡â€”â€”å®ƒæ¯”æˆ‘æ‰“å­—è¿˜å¿«ã€‚</p>
<p><strong>å½“ AI å†™ä»£ç çš„é€Ÿåº¦å¿«åˆ°äººç±»æ¥ä¸åŠæ€è€ƒçš„æ—¶å€™ï¼Œ"äººå†™ä»£ç "è¿™ä»¶äº‹æœ¬èº«å°±å˜æˆäº†ç“¶é¢ˆã€‚</strong></p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå››å®¶å…¬å¸åŒæ—¶è·¨è¿‡äº†è¿™ä¸ªä¸´ç•Œç‚¹ã€‚ä¸æ˜¯å·§åˆï¼Œæ˜¯é€Ÿåº¦åˆ°äº†ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>æˆ‘è‡ªå·±çš„ä½“æ„Ÿ</strong></h2>
<p>è¯´è¯´æˆ‘çš„çœŸå®ç»å†ã€‚</p>
<p>æˆ‘åœ¨è…¾è®¯å¸¦è¿‡å‡ åäººçš„å›¢é˜Ÿï¼Œåœ¨å­—èŠ‚ä¹Ÿåšè¿‡å‰ç«¯æŠ€æœ¯ Leaderã€‚é‚£æ—¶å€™å›¢é˜Ÿäº§å‡ºçš„è®¡ç®—æ–¹å¼æ˜¯ï¼šäººå¤´ Ã— å·¥æ—¶ Ã— äººæ•ˆã€‚æƒ³æé«˜äº§å‡ºï¼ŸåŠ äººã€åŠ ç­ã€ä¼˜åŒ–æµç¨‹ã€‚</p>
<p>2025 å¹´ 10 æœˆè¾èŒåˆ›ä¸šåï¼Œæˆ‘å¼€å§‹å…¨é¢ç”¨ AI ç¼–ç¨‹ã€‚</p>
<p><strong>ä¸€ä¸ªäººï¼Œä¸€ä¸ªæœˆï¼Œåšäº†è¿‘ 30 ä¸ªå‡ºæµ·å°äº§å“ã€‚</strong></p>
<p>ä¸æ˜¯ç®€å•çš„é™æ€é¡µé¢ã€‚æ˜¯æœ‰å‰ç«¯ã€æœ‰åç«¯ã€æœ‰æ”¯ä»˜ã€æœ‰ SEOã€æœ‰æ•°æ®ç»Ÿè®¡çš„å®Œæ•´äº§å“ã€‚æ”¾åœ¨ä»¥å‰ï¼Œè¿™æ˜¯ä¸€ä¸ª 5-8 äººçš„å°å›¢é˜Ÿå¹²ä¸€ä¸ªå­£åº¦çš„é‡ã€‚</p>
<p>æˆ‘ä¸è§‰å¾— AI æ›¿ä»£äº†æˆ‘ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯ <strong>AI æŠŠæˆ‘ä»"å†™ä»£ç çš„äºº"å˜æˆäº†"åšå†³ç­–çš„äºº"</strong>ã€‚</p>
<p>ä»¥å‰ 80%çš„æ—¶é—´åœ¨å†™ä»£ç ï¼Œ20%åœ¨æƒ³äº§å“ã€‚</p>
<p>ç°åœ¨åè¿‡æ¥äº†â€”â€”80%çš„æ—¶é—´åœ¨æƒ³äº§å“æ–¹å‘ã€ç”¨æˆ·éœ€æ±‚ã€å•†ä¸šæ¨¡å¼ï¼Œ20%åœ¨ Review AI å†™çš„ä»£ç ã€‚</p>
<p>è¿™ä¸ªè½¬å˜ï¼Œè·Ÿ Nvidia é‚£ 3 ä¸‡å·¥ç¨‹å¸ˆçš„è½¬å˜æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>ç¨‹åºå‘˜è¦å¤±ä¸šäº†å—ï¼Ÿ</strong></h2>
<p>è¿™æ˜¯æ¯æ¬¡ AI ç¼–ç¨‹è¯é¢˜ä¸‹å¿…ç„¶å‡ºç°çš„é—®é¢˜ã€‚</p>
<p>æˆ‘çš„åˆ¤æ–­æ˜¯ï¼š<strong>ä¸ä¼šå¤±ä¸šï¼Œä½†å·¥ä½œå†…å®¹ä¼šå½»åº•æ”¹å˜ã€‚</strong></p>
<p>ä¸Šæµ·äº¤å¤§æœ€è¿‘å‘äº†ä¸€ç¯‡è®ºæ–‡ï¼ˆProjDevBenchï¼‰ï¼Œæµ‹è¯• AI ä»é›¶æ„å»ºå®Œæ•´è½¯ä»¶é¡¹ç›®çš„èƒ½åŠ›ã€‚ç»“æœé€šè¿‡ç‡åªæœ‰ 27%â€”â€”åŸºç¡€åŠŸèƒ½è¿˜è¡Œï¼Œä½†ç³»ç»Ÿè®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€èµ„æºç®¡ç†å…¨å´©ã€‚</p>
<p>è¿™è¯´æ˜ä»€ä¹ˆï¼Ÿ</p>
<p>AI å·²ç»èƒ½å¹² 80%çš„æ´»äº†ã€‚ä½†å‰©ä¸‹é‚£ 20%â€”â€”æ¶æ„å†³ç­–ã€è¾¹ç•Œå¤„ç†ã€æ€§èƒ½è°ƒä¼˜ã€äº§å“åˆ¤æ–­â€”â€”æ°æ°æ˜¯æœ€å€¼é’±çš„ 20%ã€‚</p>
<p>Scott Wu è¯´å¾—å¥½ï¼š"ç“¶é¢ˆä¸å†æ˜¯å†™ä»£ç æœ¬èº«ï¼Œè€Œæ˜¯ä¸¤ä»¶äº‹â€”â€”1ï¼‰è®©äººç±»æ›´å®¹æ˜“ç†è§£ã€è§„åˆ’å’Œæé—®ï¼›2ï¼‰è®© AI æ›´å®¹æ˜“è·å–ä»»åŠ¡çš„çœŸå®ä¸Šä¸‹æ–‡ã€‚"</p>
<p>ç¿»è¯‘æˆäººè¯å°±æ˜¯ï¼š<strong>æœªæ¥çš„ç¨‹åºå‘˜ä¸æ˜¯ä»£ç æœºå™¨ï¼Œæ˜¯ AI çš„ é¡¹ç›®ç»ç† ã€‚</strong></p>
<p>ä½ çš„ä»·å€¼ä¸å†æ˜¯ä¸€å¤©èƒ½å†™å¤šå°‘è¡Œä»£ç ï¼Œè€Œæ˜¯ä½ èƒ½ä¸èƒ½æŠŠä¸€ä¸ªæ¨¡ç³Šçš„éœ€æ±‚æ‹†è§£æˆ AI èƒ½ç†è§£çš„æŒ‡ä»¤ï¼Œèƒ½ä¸èƒ½åœ¨ AI å†™å®Œä¹‹ååˆ¤æ–­"è¿™ä¸ªæ¶æ„æ‰›ä¸æ‰›å¾—ä½"ï¼Œèƒ½ä¸èƒ½åœ¨ AI çŠ¯é”™çš„æ—¶å€™å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
<p>è¿™äº›èƒ½åŠ›ï¼Œæ°æ°æ˜¯åœ¨å¤§å‚å¸¦è¿‡å›¢é˜Ÿã€åšè¿‡å¤§é¡¹ç›®çš„äººæœ€æ“…é•¿çš„ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>å¦‚æœä½ åªåšä¸€ä»¶äº‹</strong></h2>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œè½åˆ°è¡ŒåŠ¨ä¸Šï¼Œæˆ‘å»ºè®®ä½ ä»Šå¤©å°±åšä¸€ä»¶äº‹ï¼š</p>
<p><strong>æŠŠä½ æœ€å¸¸åšçš„ä¸€ç±»å¼€å‘ä»»åŠ¡ï¼Œå®Œæ•´åœ°äº¤ç»™ AI åšä¸€æ¬¡ã€‚</strong></p>
<p>ä¸æ˜¯è®©å®ƒè¡¥ä¸¤è¡Œä»£ç ã€‚æ˜¯ç»™å®ƒä¸€ä»½éœ€æ±‚æè¿°ï¼Œè®©å®ƒä»é›¶å¼€å§‹æã€‚å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ã€éƒ¨ç½²ï¼Œå…¨äº¤å‡ºå»ã€‚</p>
<p>ä½ ä¼šå‘ç°ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>
<p>AI èƒ½æå®šçš„éƒ¨åˆ†ï¼Œæ¯”ä½ é¢„æœŸçš„å¤šå¾—å¤šã€‚</p>
</li>
<li>
<p>æä¸å®šçš„éƒ¨åˆ†ï¼Œæ°æ°æš´éœ²äº†ä½ çœŸæ­£ä¸å¯æ›¿ä»£çš„ä»·å€¼ã€‚</p>
</li>
</ol>
<p>Nvidia çš„ 3 ä¸‡å·¥ç¨‹å¸ˆå·²ç»è¿™ä¹ˆå¹²äº†ã€‚OpenAI çš„å›¢é˜Ÿå·²ç»è¿™ä¹ˆå¹²äº†ã€‚ä½ è¿˜åœ¨ç­‰ä»€ä¹ˆï¼Ÿ</p>
<hr/>
<p>å¦‚æœè¿™ç¯‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­è¾“å‡ºçš„åŠ¨åŠ› âœ¨</p>
<hr/>
<p>æˆ‘çš„å…¶ä»–å¹³å°è´¦å·å’Œå¼€æºé¡¹ç›®åœ¨ä¸ªäººä¸»é¡µä¸­ï¼Œæ¬¢è¿äº¤æµ ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android-å°è£…ä¸ªå¥½ç”¨ã€è½»é‡å’Œé€šç”¨çš„åŸç”ŸAdapteråŸºç±»]]></title>    <link>https://juejin.cn/post/7605816833192017920</link>    <guid>https://juejin.cn/post/7605816833192017920</guid>    <pubDate>2026-02-13T06:02:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605816833192017920" data-draft-id="7605816833191985152" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android-å°è£…ä¸ªå¥½ç”¨ã€è½»é‡å’Œé€šç”¨çš„åŸç”ŸAdapteråŸºç±»"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2026-02-13T06:02:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RdoZam"/> <meta itemprop="url" content="https://juejin.cn/user/2019159609710904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android-å°è£…ä¸ªå¥½ç”¨ã€è½»é‡å’Œé€šç”¨çš„åŸç”ŸAdapteråŸºç±»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2019159609710904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RdoZam
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:02:33.000Z" title="Fri Feb 13 2026 06:02:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸºäºRecyclerView.Adapteræ„å»ºè¯¥é€šç”¨é€‚é…å™¨ï¼Œä»¥åå…¶ä»–é¡¹ç›®ç›´æ¥æ‹¿æ¥ç”¨å°±è¡Œ~</p>
<blockquote>
<p><strong>æ€è€ƒ1ï¼š</strong></p>
<ul>
<li>adapteråŠŸèƒ½çº¯ç²¹ï¼Œå¦‚ â€˜æ„å»ºå¤ç”¨æ¡ç›®å¸ƒå±€â€™ å’Œ â€˜ç»‘å®šæ¡ç›®æ•°æ®â€™ ç­‰ã€‚</li>
<li>åŸºç±»åº”å…·å¤‡çš„èƒ½åŠ›ï¼šæ„å»ºæ¡ç›®å¸ƒå±€ã€ç»‘å®šæ•°æ®ã€è®¾ç½®æ•°æ®æºã€æ•°æ®æºçš„å¢åˆ æ”¹æŸ¥ç­‰ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ€è€ƒ2ï¼š</strong></p>
<ul>
<li>éœ€ç»§æ‰¿RecyclerView.ViewHolderæŠ½è±¡ç±»</li>
<li>å¤šå¸ƒå±€åœºæ™¯çš„æ•°æ®æºï¼Œåº”å…·å¤‡åŒºåˆ†ItemTypeèƒ½åŠ›ï¼Œæ‰€ä»¥éœ€å®šä¹‰å¯¹åº”æ¥å£</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ€è€ƒ3ï¼šæ³›å‹ç›¸å…³</strong></p>
<ul>
<li>RecyclerView.ViewHolderçš„å­ç±»ï¼šæ³›å‹-å‚æ•°View ï¼ˆæ›´æ–¹ä¾¿è·å–æ§ä»¶å¯¹è±¡ï¼Œå¦åˆ™åªé…è‹¦é€¼åœ°findViewByIdï¼‰</li>
<li>å•å¸ƒå±€AdapteråŸºç±»ï¼šæ³›å‹-æ•°æ®æºç±»å‹ã€æ³›å‹-æ¡ç›®å¸ƒå±€ViewBinding</li>
<li>å¤šå¸ƒå±€AdapteråŸºç±»ï¼šæ³›å‹-æ•°æ®æºç±»å‹</li>
</ul>
</blockquote>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šèœ~</p>
<h3 data-id="heading-0">1.æ¨¡å—ä¸‹build.gradle.ktsä¸­é…ç½®ViewBinding</h3>
<pre><code class="hljs language-ini" lang="ini">android{
    ...
    buildFeatures {
        ...
        <span class="hljs-attr">viewBinding</span> = <span class="hljs-literal">true</span>
    }
}
</code></pre>
<h3 data-id="heading-1">2.æ„å»ºBaseViewHolder ï¼ˆç»§æ‰¿RecyclerView.ViewHolderï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseViewHolder</span>&lt;<span class="hljs-type">VB : ViewBinding</span>&gt;(<span class="hljs-keyword">var</span> viewBinding: VB) : RecyclerView.ViewHolder(viewBinding.root)
</code></pre>
<h3 data-id="heading-2">â˜…3. æ„å»ºå•å¸ƒå±€é€‚é…å™¨BaseRvAdapter</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@author</span> yyf
 * å•å¸ƒå±€-åŸºç±»é€‚é…å™¨
 */</span>
<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseRvAdapter</span>&lt;<span class="hljs-type">D,VB: ViewBinding</span>&gt; (<span class="hljs-keyword">var</span> mContext: Context) : RecyclerView.Adapter&lt;BaseViewHolder&lt;VB&gt;&gt;() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mList = mutableListOf&lt;D&gt;()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getItemCount</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> = mList.size

    <span class="hljs-keyword">var</span> listener: ((View, <span class="hljs-built_in">Int</span>) -&gt; <span class="hljs-built_in">Unit</span>)? = <span class="hljs-literal">null</span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setOnItemClickListener</span><span class="hljs-params">(listener: ((<span class="hljs-type">View</span>, <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Unit</span>)? = <span class="hljs-literal">null</span>)</span></span> {
        <span class="hljs-keyword">this</span>.listener = listener
    }

    <span class="hljs-comment">/*æ•°æ®è®¾ç½®*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setData</span><span class="hljs-params">(list: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">D</span>&gt;?)</span></span> {
        list?.let {
            mList.clear()
            mList.addAll(it)
            notifyDataSetChanged()
        }
    }

    <span class="hljs-comment">/*æ•°æ®è·å–*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getData</span><span class="hljs-params">()</span></span>: MutableList&lt;D&gt; {
        <span class="hljs-keyword">return</span> mList
    }

    <span class="hljs-comment">/*å¢*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addData</span><span class="hljs-params">(list: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">D</span>&gt;?)</span></span> {
        <span class="hljs-keyword">if</span> (list?.isNotEmpty() == <span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">var</span> start = mList.size
            mList.addAll(list)
            <span class="hljs-keyword">var</span> end = mList.size - <span class="hljs-number">1</span>
            notifyItemRangeChanged(start, end)
        }
    }

    <span class="hljs-comment">/*åˆ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">removeData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            mList.removeAt(position)
            notifyItemRemoved(position)
        }
    }

    <span class="hljs-comment">/*æ”¹*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>, bean: <span class="hljs-type">D</span>)</span></span> {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            mList[position] = bean
            notifyItemChanged(position)
        }
    }

    <span class="hljs-comment">/*æŸ¥*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>)</span></span>: D? {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            <span class="hljs-keyword">return</span> mList[position]
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }
}

</code></pre>
<h3 data-id="heading-3">4.å®šä¹‰MultiItemæ¥å£ï¼ˆæ•°æ®beanå®ç°è¯¥æ¥å£ï¼Œä½¿å…¶å…·å¤‡åŒºåˆ†ItemTypeèƒ½åŠ›ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MultiItem</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getItemType</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span>
}
</code></pre>
<h3 data-id="heading-4">5.â˜… æ„å»ºå¤šå¸ƒå±€é€‚é…å™¨BaseRvMultiAdapter</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@author</span> yyf
 * å¤šå¸ƒå±€-åŸºç±»é€‚é…å™¨
 */</span>
<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseRvMultiAdapter</span>&lt;<span class="hljs-type">D : MultiItem</span>&gt; (<span class="hljs-keyword">var</span> mContext: Context) : RecyclerView.Adapter&lt;BaseViewHolder&lt;ViewBinding&gt;&gt;() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mList = mutableListOf&lt;D&gt;()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getItemCount</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> = mList.size

    <span class="hljs-keyword">var</span> listener: ((View, <span class="hljs-built_in">Int</span>) -&gt; <span class="hljs-built_in">Unit</span>)? = <span class="hljs-literal">null</span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setOnItemClickListener</span><span class="hljs-params">(listener: ((<span class="hljs-type">View</span>, <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Unit</span>)? = <span class="hljs-literal">null</span>)</span></span> {
        <span class="hljs-keyword">this</span>.listener = listener
    }

    <span class="hljs-comment">/*æ•°æ®è®¾ç½®*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setData</span><span class="hljs-params">(list: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">D</span>&gt;?)</span></span> {
        list?.let {
            mList.clear()
            mList.addAll(it)
            notifyDataSetChanged()
        }
    }

    <span class="hljs-comment">/*æ•°æ®è·å–*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getData</span><span class="hljs-params">()</span></span>: MutableList&lt;D&gt; {
        <span class="hljs-keyword">return</span> mList
    }

    <span class="hljs-comment">/*å¢*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addData</span><span class="hljs-params">(list: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">D</span>&gt;?)</span></span> {
        <span class="hljs-keyword">if</span> (list?.isNotEmpty() == <span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">var</span> start = mList.size
            mList.addAll(list)
            <span class="hljs-keyword">var</span> end = mList.size - <span class="hljs-number">1</span>
            notifyItemRangeChanged(start, end)
        }
    }

    <span class="hljs-comment">/*åˆ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">removeData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            mList.removeAt(position)
            notifyItemRemoved(position)
        }
    }

    <span class="hljs-comment">/*æ”¹*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>, bean: <span class="hljs-type">D</span>)</span></span> {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            mList[position] = bean
            notifyItemChanged(position)
        }
    }

    <span class="hljs-comment">/*æŸ¥*/</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getData</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>)</span></span>: D? {
        <span class="hljs-keyword">if</span> (position &gt;= <span class="hljs-number">0</span> &amp;&amp; position &lt; mList.size) {
            <span class="hljs-keyword">return</span> mList[position]
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getItemViewType</span><span class="hljs-params">(position: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">return</span> mList[position].getItemType()
    }
}
</code></pre>
<p><em><strong>å¹²è´§ä¸Šé½äº†ï¼Œå¤§å®¶äº²è‡ªå°å°çœ‹å§~</strong></em></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” <strong>å®Œ</strong> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>ä»¥ä¸‹ä½¿ç”¨ç¤ºä¾‹å¯å¿½ç•¥äº†ï¼Œæ²¡å•¥çœ‹çš„ï¼</p>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<p>UIå¸ƒå±€ activity_main.xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.recyclerview.widget.RecyclerView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mListRv"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<p>æ¡ç›®å¸ƒå±€ item_test.xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"50dp"</span>
    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#80000000"</span>
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mName2Tv"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"name"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"-"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mValue2Tv"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"value"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<p>æ¡ç›®å¸ƒå±€ item2_test.xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"50dp"</span>
    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mNameTv"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"name"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"-"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/mValueTv"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"value"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<p>å•å¸ƒå±€BaseRvAdapterçš„ä½¿ç”¨</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@author</span> yyf
 * å•å¸ƒå±€å°è¯•
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestNewAdapter</span>(context: Context) : BaseRvAdapter&lt;TestBean, ItemTestBinding&gt;(context) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreateViewHolder</span><span class="hljs-params">(
        parent: <span class="hljs-type">ViewGroup</span>, viewType: <span class="hljs-type">Int</span>
    )</span></span>: BaseViewHolder&lt;ItemTestBinding&gt; {
        <span class="hljs-keyword">return</span> BaseViewHolder&lt;ItemTestBinding&gt;(ItemTestBinding.inflate(LayoutInflater.from(mContext), parent, <span class="hljs-literal">false</span>))
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onBindViewHolder</span><span class="hljs-params">(
        holder: <span class="hljs-type">BaseViewHolder</span>&lt;<span class="hljs-type">ItemTestBinding</span>&gt;,
        position: <span class="hljs-type">Int</span>
    )</span></span> {
        getData()[position].let {
            holder.viewBinding.mNameTv.text = it.name
            holder.viewBinding.mValueTv.text = it.value

            holder.viewBinding.root.setOnClickListener {
                listener?.invoke(it, position)
            }
        }
    }
}
</code></pre>
<p>å¤šå¸ƒå±€BaseRvMultiAdapterçš„ä½¿ç”¨</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@author</span> yyf
 * å¤šå¸ƒå±€å°è¯•
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestNewMultiAdapter</span>(context: Context) : BaseRvMultiAdapter&lt;TestBean&gt;(context) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreateViewHolder</span><span class="hljs-params">(
        parent: <span class="hljs-type">ViewGroup</span>, viewType: <span class="hljs-type">Int</span>
    )</span></span>: BaseViewHolder&lt;ViewBinding&gt; {
        <span class="hljs-keyword">when</span> (viewType) {
            <span class="hljs-number">0</span> -&gt; {
                <span class="hljs-keyword">return</span> BaseViewHolder&lt;ViewBinding&gt;(ItemTestBinding.inflate(LayoutInflater.from(mContext), parent, <span class="hljs-literal">false</span>))
            }
            <span class="hljs-number">1</span> -&gt; {
                <span class="hljs-keyword">return</span> BaseViewHolder&lt;ViewBinding&gt;(Item2TestBinding.inflate(LayoutInflater.from(mContext), parent, <span class="hljs-literal">false</span>))
            }
        }
        <span class="hljs-keyword">return</span> BaseViewHolder&lt;ViewBinding&gt;(ItemTestBinding.inflate(LayoutInflater.from(mContext), parent, <span class="hljs-literal">false</span>))
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onBindViewHolder</span><span class="hljs-params">(
        holder: <span class="hljs-type">BaseViewHolder</span>&lt;<span class="hljs-type">ViewBinding</span>&gt;,
        position: <span class="hljs-type">Int</span>
    )</span></span> {
        getData()[position].let { bean-&gt;
            <span class="hljs-keyword">when</span> (getItemViewType(position)) {
                <span class="hljs-number">0</span> -&gt; {
                    (holder.viewBinding <span class="hljs-keyword">as</span> ItemTestBinding).mNameTv.text = bean.name
                    (holder.viewBinding <span class="hljs-keyword">as</span> ItemTestBinding).mValueTv.text = bean.value
                }
                <span class="hljs-number">1</span> -&gt; {
                    (holder.viewBinding <span class="hljs-keyword">as</span> Item2TestBinding).mName2Tv.text = bean.name
                    (holder.viewBinding <span class="hljs-keyword">as</span> Item2TestBinding).mValue2Tv.text = bean.value
                }
            }
            holder.viewBinding.root.setOnClickListener {
                listener?.invoke(it, position)
            }
        }

    }
}
</code></pre>
<p>UIå±‚è°ƒç”¨</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {

    <span class="hljs-keyword">val</span> viewBinding <span class="hljs-keyword">by</span> lazy { ActivityMainBinding.inflate(LayoutInflater.from(<span class="hljs-keyword">this</span><span class="hljs-symbol">@MainActivity</span>)) }

    <span class="hljs-comment">//    val mAdapter by lazy { TestNewAdapter(this@MainActivity) } //å•å¸ƒå±€é€‚é…å™¨</span>
    <span class="hljs-keyword">val</span> mAdapter <span class="hljs-keyword">by</span> lazy { TestNewMultiAdapter(<span class="hljs-keyword">this</span><span class="hljs-symbol">@MainActivity</span>) } <span class="hljs-comment">//å¤šå¸ƒå±€é€‚é…å™¨</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(viewBinding.root)

        viewBinding.mListRv.layoutManager = LinearLayoutManager(<span class="hljs-keyword">this</span><span class="hljs-symbol">@MainActivity</span>)
        viewBinding.mListRv.adapter = mAdapter
        mAdapter.setOnItemClickListener { view, position -&gt;
            Toast.makeText(<span class="hljs-keyword">this</span><span class="hljs-symbol">@MainActivity</span>, <span class="hljs-string">"ç‚¹å‡»äº† position=<span class="hljs-variable">$position</span>"</span>, Toast.LENGTH_SHORT).show()
        }

        requestData()

    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">requestData</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">var</span> list = mutableListOf&lt;TestBean&gt;()
        <span class="hljs-keyword">for</span> (index <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> until <span class="hljs-number">30</span>) {
            <span class="hljs-keyword">var</span> bean = TestBean()
            bean.name = <span class="hljs-string">"name <span class="hljs-variable">$index</span>"</span>
            bean.value = <span class="hljs-string">"value <span class="hljs-variable">$index</span>"</span>
            bean.type = index % <span class="hljs-number">2</span>
            list.add(bean)
        }
        mAdapter.setData(list)
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™å¼€å‘ï¼šç‹¬ç«‹å¼€å‘è€…çš„çƒ¦æ¼ä¹‹iconå›¾æ ‡é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7605772919225090082</link>    <guid>https://juejin.cn/post/7605772919225090082</guid>    <pubDate>2026-02-13T06:24:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605772919225090082" data-draft-id="7605810996125597730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™å¼€å‘ï¼šç‹¬ç«‹å¼€å‘è€…çš„çƒ¦æ¼ä¹‹iconå›¾æ ‡é€‰æ‹©"/> <meta itemprop="keywords" content="HarmonyOS,Android,iOS"/> <meta itemprop="datePublished" content="2026-02-13T06:24:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ä¸€é¸£"/> <meta itemprop="url" content="https://juejin.cn/user/1398234520239095"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™å¼€å‘ï¼šç‹¬ç«‹å¼€å‘è€…çš„çƒ¦æ¼ä¹‹iconå›¾æ ‡é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234520239095/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ä¸€é¸£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:24:18.000Z" title="Fri Feb 13 2026 06:24:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¼ä¸šçš„å¼€å‘è€…ï¼Œéƒ½æœ‰è‡ªå·±çš„UIè®¾è®¡å¸ˆï¼Œå¯¹äºå›¾æ ‡è€Œè¨€ï¼ŒåŸºæœ¬ä¸ä¼šå‘æ„ï¼Œä½†æ˜¯ç‹¬ç«‹å¼€å‘è€…ï¼Œå°±ä¸å¾—ä¸è‡ªå·±æ¥è€ƒè™‘äº†ï¼Œåšä¸ºä¸Šæ¶è¿‡å¤šä¸ªåº”ç”¨çš„å¼€å‘è€…ï¼Œè¿™ä¸€ç‚¹æ˜¯æ·±æœ‰ä½“ä¼šï¼Œæœ‰æ—¶å€™ï¼Œä¸ºäº†æ‰¾åˆ°ä¸€ä¸ªå¥½çš„ï¼Œå¹¶ä¸”åˆé€‚çš„å›¾æ ‡ï¼Œéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œä¸ºäº†è®©åç»­çš„å¼€å‘è€…å°‘èµ°å¼¯è·¯ï¼Œç›®å‰æ€»ç»“äº†ä¸‰ä¸ªå¯ä»¥å…è´¹è·å–å›¾æ ‡çš„æ¸ é“ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚</p>
<h2 data-id="heading-1">ç³»ç»Ÿçš„å›¾æ ‡</h2>
<p>æ¯‹åº¸ç½®ç–‘ï¼Œç³»ç»Ÿçš„å›¾æ ‡æ˜¯é¦–æ¨çš„ï¼Œå¦‚æœç³»ç»Ÿèƒ½æ»¡è¶³çš„ï¼Œå½“ç„¶ä»¥ç³»ç»Ÿä¸ºä¸»è¦é¦–é€‰ã€‚</p>
<p>ç³»ç»Ÿå›¾æ ‡ç›®å‰å¤§æ¦‚æœ‰433ä¸ªå›¾æ ‡ï¼ŒåŒ…å«äº†æ—¶é—´ï¼Œç®­å¤´ï¼Œåª’ä½“ï¼Œç›¸æœºä¸ç…§ç‰‡ç­‰å¤šç§åˆ†ç±»ï¼Œå¯ä»¥è¯´æ˜¯ååˆ†ä¸°å¯Œï¼Œæœ€å¤§çš„ä¾¿æ·æ˜¯ï¼Œæˆ‘ä»¬ä¸ç”¨å†é¢å¤–é…ç½®ä»€ä¹ˆï¼Œç›´æ¥å°±å¯ä»¥ä½¿ç”¨ï¼Œç®€ç›´ä¸è¦å¤ªæ–¹ä¾¿ã€‚</p>
<p>åœ°å€å¦‚ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdesign%2Fharmonyos-symbol%2F" target="_blank" title="https://developer.huawei.com/consumer/cn/design/harmonyos-symbol/" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
<p>æ¯•ç«Ÿå›¾æ ‡å¤ªå¤šäº†ï¼Œå¤§å®¶å¯ä»¥ç‚¹å‡»ä»¥ä¸Šçš„åœ°å€å»è¯¦ç»†çš„æŸ¥çœ‹ï¼Œè¿™é‡Œå°±ç®€å•çš„æˆªå‡ å¼ å›¾å§ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c152323b589e4d15aa16d114eda1fbb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=oTeXLBmx5xAv5rdOW7bjzj8zaHI%3D" alt="" width="70%" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c665de8da0934c69acd49b5011cb852d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=O00jb%2BVBhEmnkMLaiW2a0f7XrM0%3D" alt="" width="70%" loading="lazy"/></p>
<h3 data-id="heading-2">ä½¿ç”¨æ–¹å¼</h3>
<p>ç³»ç»Ÿçš„å›¾æ ‡ä½¿ç”¨ä¹Ÿæ˜¯ååˆ†çš„ç®€å•ï¼Œç»™æä¾›äº†ä¸¤ä¸ªç»„ä»¶ç”¨äºåŠ è½½ï¼Œä¸€ä¸ªæ˜¯SymbolGlyphç»„ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯SymbolSpanç»„ä»¶ï¼ŒSymbolGlyphä¸»è¦ç”¨äºç²¾ç¾çš„å›¾æ ‡ï¼Œå¦‚æ¸²æŸ“å¤šè‰²å›¾æ ‡å’Œä½¿ç”¨åŠ¨æ•ˆå›¾æ ‡ï¼Œè€ŒSymbolSpanï¼Œåˆ™ä½œä¸ºTextç»„ä»¶çš„å­ç»„ä»¶ï¼Œä¸»è¦ç”¨äºåœ¨æ–‡æœ¬ä¸­ç©¿æ’æ˜¾ç¤ºå›¾æ ‡å°ç¬¦å·ã€‚</p>
<h4 data-id="heading-3">SymbolGlyphç»„ä»¶</h4>
<p>ä»£ç å¦‚ä¸‹ï¼Œsys.symbol.åé¢è¿æ¥çš„æ˜¯å›¾æ ‡çš„æ ‡è¯†ï¼Œå¤§å®¶æ‰“å¼€ä¸Šé¢çš„å›¾æ ‡åœ°å€ï¼Œæ¯ä¸ªå›¾æ ‡ä¸‹é¢éƒ½æœ‰è‡ªå·±çš„æ ‡è¯†ï¼Œé€‰æ‹©é€‚åˆçš„ï¼Œå¤åˆ¶å³å¯ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"> <span class="hljs-title class_">SymbolGlyph</span>($r(<span class="hljs-string">'sys.symbol.airplane_fill'</span>))
        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)
        .<span class="hljs-title function_">renderingStrategy</span>(<span class="hljs-title class_">SymbolRenderingStrategy</span>.<span class="hljs-property">SINGLE</span>)
        .<span class="hljs-title function_">fontColor</span>([<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>])
</code></pre>
<p>ä»¥ä¸Šçš„ä»£ç ï¼Œå°±å±•ç¤ºäº†ä¸€ä¸ªå¤§å°ä¸º50ï¼Œé¢œè‰²ä¸ºçº¢è‰²çš„é£æœºå›¾æ ‡ï¼Œæƒ³å®ç°ä»€ä¹ˆå›¾æ ‡ï¼Œåªéœ€è¦æŠŠå›¾æ ‡æ ‡è¯†æ›¿æ¢å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7a483fdb38c4a5eaba5e961bff088de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=Msq2%2FEYZcKLvvn1nMHTM8FYkUqw%3D" alt="" loading="lazy"/></p>
<p>å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd0c367858842c8b5ec5cf9e4a3c10c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=GV2xKuV7BacxKCqJseEY6n%2FM8d4%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p><strong>SymbolRenderingStrategy</strong></p>

























<table><thead><tr><th><strong>åç§°</strong></th><th><strong>å€¼</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>SINGLE</td><td>0</td><td>å•è‰²æ¨¡å¼ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚å¯ä»¥è®¾ç½®ä¸€ä¸ªæˆ–è€…å¤šä¸ªé¢œè‰²ï¼Œé»˜è®¤ä¸ºé»‘è‰²ã€‚å½“è®¾ç½®å¤šä¸ªé¢œè‰²æ—¶ï¼Œä»…ç”Ÿæ•ˆç¬¬ä¸€ä¸ªé¢œè‰²ã€‚</td></tr><tr><td>MULTIPLE_COLOR</td><td>1</td><td>å¤šè‰²æ¨¡å¼ã€‚æœ€å¤šå¯ä»¥è®¾ç½®ä¸‰ä¸ªé¢œè‰²ã€‚å½“åªè®¾ç½®ä¸€ä¸ªé¢œè‰²æ—¶ï¼Œä¿®æ”¹symbolå›¾æ ‡çš„ç¬¬ä¸€å±‚é¢œè‰²ï¼Œå…¶ä»–é¢œè‰²ä¿æŒé»˜è®¤é¢œè‰²ã€‚é¢œè‰²è®¾ç½®é¡ºåºä¸å›¾æ ‡åˆ†å±‚é¡ºåºåŒ¹é…ï¼Œå½“é¢œè‰²æ•°é‡å¤§äºå›¾æ ‡åˆ†å±‚æ—¶ï¼Œå¤šä½™çš„é¢œè‰²ä¸ç”Ÿæ•ˆã€‚ä»…æ”¯æŒè®¾ç½®é¢œè‰²ï¼Œè®¾ç½®é€æ˜åº¦è®¾ç½®ä¸ç”Ÿæ•ˆã€‚</td></tr><tr><td>MULTIPLE_OPACITY</td><td>2</td><td>åˆ†å±‚æ¨¡å¼ã€‚é»˜è®¤ä¸ºé»‘è‰²ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªæˆ–è€…å¤šä¸ªé¢œè‰²ã€‚å½“è®¾ç½®å¤šä¸ªé¢œè‰²æ—¶ï¼Œä»…ç”Ÿæ•ˆç¬¬ä¸€ä¸ªé¢œè‰²ã€‚ä¸é€æ˜åº¦ä¸å›¾å±‚ç›¸å…³ï¼Œsymbolå›¾æ ‡çš„ç¬¬ä¸€å±‚é€æ˜åº¦ä¸º100%ã€ç¬¬äºŒå±‚é€æ˜åº¦ä¸º50%ã€ç¬¬ä¸‰å±‚é€æ˜åº¦ä¸º20%ã€‚</td></tr></tbody></table>
<p><strong>SymbolEffectStrategy</strong></p>

























<table><thead><tr><th><strong>åç§°</strong></th><th><strong>å€¼</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>NONE</td><td>0</td><td>æ— åŠ¨æ•ˆï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</td></tr><tr><td>SCALE</td><td>1</td><td>æ•´ä½“ç¼©æ”¾åŠ¨æ•ˆã€‚</td></tr><tr><td>HIERARCHICAL</td><td>2</td><td>å±‚çº§åŠ¨æ•ˆã€‚</td></tr></tbody></table>
<p><strong>å¤šè‰²æ¨¡å¼</strong></p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">SymbolGlyph</span>($r(<span class="hljs-string">'sys.symbol.ohos_folder_badge_plus'</span>))
        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)
        .<span class="hljs-title function_">renderingStrategy</span>(<span class="hljs-title class_">SymbolRenderingStrategy</span>.<span class="hljs-property">MULTIPLE_COLOR</span>)
        .<span class="hljs-title function_">fontColor</span>([<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>])
</code></pre>
<p><strong>å›¾æ ‡åŠ¨æ•ˆ</strong></p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">SymbolGlyph</span>($r(<span class="hljs-string">'sys.symbol.ohos_wifi'</span>))
        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)
        .<span class="hljs-title function_">symbolEffect</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HierarchicalSymbolEffect</span>(<span class="hljs-title class_">EffectFillStyle</span>.<span class="hljs-property">ITERATIVE</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">isActive</span>)
</code></pre>
<p>å½“ç„¶äº†ï¼Œæ›´å¤šçš„æ¡ˆä¾‹ï¼Œè¿˜æ˜¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œç›®å‰ï¼Œå¯ä»¥è¯´ï¼Œç³»ç»Ÿçš„å›¾æ ‡å·²ç»æ˜¯ååˆ†ä¸°å¯Œï¼Œå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„åœºæ™¯ï¼Œä¸ä»…æ”¯æŒæ›´æ”¹å¤§å°ï¼Œé¢œè‰²ï¼Œä¹Ÿæ”¯æŒåŠ¨æ•ˆè®¾ç½®ã€‚</p>
<h4 data-id="heading-4">SymbolSpanç»„ä»¶</h4>
<p>SymbolSpanå¯ä½œä¸ºTextçš„å­ç»„ä»¶ç”¨äºæ˜¾ç¤ºå›¾æ ‡å°ç¬¦å·ã€‚å¯ä»¥åœ¨ä¸€ä¸ªTextç»„ä»¶å†…æ·»åŠ å¤šä¸ªSymbolSpanï¼Œä»è€Œå±•ç¤ºä¸€ä¸²è¿ç»­çš„å›¾æ ‡ï¼Œä½¿ç”¨ä¸Šä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œç®€å•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">Text</span>() {
  <span class="hljs-title class_">SymbolSpan</span>($r(<span class="hljs-string">'sys.symbol.ohos_trash'</span>))
    .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Normal</span>)
    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">96</span>)
}
</code></pre>
<p>å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼ŒåŸºæœ¬ä¸Šå’ŒSymbolGlyphç»„ä»¶ç±»ä¼¼ã€‚</p>








































<table><thead><tr><th>å±æ€§</th><th>å‚æ•°</th><th>æ¦‚è¿°</th></tr></thead><tbody><tr><td>fontColor</td><td>Array&lt;ResourceColor&gt;</td><td>å›¾æ ‡é¢œè‰²</td></tr><tr><td>fontSize</td><td>number/string/Resource</td><td>å›¾æ ‡å¤§å°</td></tr><tr><td>fontWeight</td><td>number/FontWeight/string</td><td>å›¾æ ‡ç²—ç»†</td></tr><tr><td>renderingStrategy</td><td>SymbolRenderingStrategy</td><td>ç»„ä»¶æ¸²æŸ“ç­–ç•¥</td></tr><tr><td>effectStrategy</td><td>SymbolEffectStrategy</td><td>ç»„ä»¶åŠ¨æ•ˆç­–ç•¥</td></tr><tr><td>symbolEffect</td><td>SymbolEffect,boolean</td><td>ç»„ä»¶åŠ¨æ•ˆç­–ç•¥åŠæ’­æ”¾çŠ¶æ€</td></tr></tbody></table>
<h2 data-id="heading-5">iconç»„ä»¶</h2>
<p>iconç»„ä»¶ä¸»è¦è§£å†³äº†ç³»ç»Ÿç»„ä»¶æ— æ³•æ»¡è¶³çš„æƒ…å†µï¼Œæ¯”å¦‚å¸¸è§çš„åˆ†äº«å›¾æ ‡ï¼Œåº•éƒ¨tabå›¾æ ‡ç­‰ï¼Œç›®å‰æ‹¥æœ‰408ä¸ªå¸¸è§å›¾æ ‡ï¼Œæ”¯æŒæ›´æ”¹å›¾æ ‡é¢œè‰²å¤§å°ï¼Œå®ƒè™½ç„¶éœ€è¦ä¾èµ–ä½¿ç”¨ï¼Œä½†æ˜¯æ•´ä¸ªåŒ…çš„å¤§å°ä»…ä»…åªæœ‰200KBï¼Œæ€»ä½“è¿˜æ˜¯éå¸¸å°çš„ã€‚</p>
<p>iconç»„ä»¶åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fdetail%2F%40abner%252Ficon" target="_blank" title="https://ohpm.openharmony.cn/#/cn/detail/@abner%2Ficon" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/detailâ€¦</a></p>
<p>ç›®å‰æ”¯æŒ408ä¸ªåœºæ™¯å›¾æ ‡ï¼Œæ”¯æŒé¢œè‰²å’Œå¤§å°æ›´æ”¹ï¼Œç”±äºå›¾æ ‡å¤§å¤šï¼Œè¿™é‡Œè¿˜æ˜¯æˆªå–å‡ å¼ æ•ˆæœå›¾ï¼Œè¯¦ç»†çš„å¤§å®¶å¯ä»¥æŸ¥çœ‹ä¸Šé¢çš„åœ°å€ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2d91be9f7a0432981fc449148100556~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=QlmsqNmbBDXVJv0rw1eIodCNC%2Fk%3D" alt="" width="70%" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6b1517282f94fc6857f14d9b4e052fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=aB9YV64hXB7s9lPIx4PkfR17Xok%3D" alt="" width="70%" loading="lazy"/></p>
<h3 data-id="heading-6">ä½¿ç”¨æ–¹å¼</h3>
<p>æ–¹å¼ä¸€ï¼šåœ¨Terminalçª—å£ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ä¸‰æ–¹åŒ…ï¼ŒDevEco Studioä¼šè‡ªåŠ¨åœ¨å·¥ç¨‹çš„oh-package.json5ä¸­è‡ªåŠ¨æ·»åŠ ä¸‰æ–¹åŒ…ä¾èµ–ã€‚</p>
<p><strong>å»ºè®®ï¼šåœ¨ä½¿ç”¨çš„æ¨¡å—è·¯å¾„ä¸‹è¿›è¡Œæ‰§è¡Œå‘½ä»¤ã€‚</strong></p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">ohpm install <span class="hljs-meta">@abner</span>/icon
</code></pre>
<p>æ–¹å¼äºŒï¼šåœ¨éœ€è¦çš„æ¨¡å—ä¸­çš„oh-package.json5ä¸­è®¾ç½®ä¸‰æ–¹åŒ…ä¾èµ–ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-string">"dependencies"</span>: { <span class="hljs-string">"@abner/icon"</span>: <span class="hljs-string">"^1.0.0"</span>}
</code></pre>
<h3 data-id="heading-7">ä»£ç ä½¿ç”¨</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">Icon</span>({ <span class="hljs-attr">iconModel</span>: <span class="hljs-title class_">IconModel</span>.<span class="hljs-property">wei_xin_circle</span>, <span class="hljs-attr">iconSize</span>: <span class="hljs-number">25</span> })
</code></pre>
<h3 data-id="heading-8">å±æ€§ä»‹ç»</h3>
<p>å¸¸è§å±æ€§é…ç½®å¦‚ä¸‹ï¼š</p>






























<table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æ¦‚è¿°</strong></th></tr></thead><tbody><tr><td>iconModel</td><td>IconModel</td><td>å›¾æ ‡ç±»å‹ï¼Œä¼ å…¥ä¸åŒç±»å‹å°±ä¼šå±•ç¤ºä¸åŒå›¾æ ‡ï¼Œç›®å‰æ”¯æŒ408ç§ç±»å‹ï¼Œå…·ä½“å¯çœ‹ä¸Šé¢çš„å›¾æ ‡æ•ˆæœï¼Œæ¯ä¸ªå›¾æ ‡ä¸‹çš„æ ‡è¯†å°±æ˜¯å›¾æ ‡ç±»å‹</td></tr><tr><td>iconColor</td><td>ResourceColor</td><td>å›¾æ ‡é¢œè‰²</td></tr><tr><td>iconSize</td><td>number/string/Resource</td><td>å›¾æ ‡å¤§å°ï¼Œä¹Ÿå¯åœ¨ç»„ä»¶å¤–è®¾ç½®</td></tr><tr><td>iconBorder</td><td>BorderOptions</td><td>å›¾æ ‡è¾¹æ¡†æ ·å¼</td></tr></tbody></table>
<h2 data-id="heading-9">é˜¿é‡Œå›¾æ ‡åº“</h2>
<p>å¦‚æœç³»ç»Ÿçš„å›¾æ ‡å’Œiconå›¾æ ‡ï¼Œè¿˜æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ªå®è—çš„å›¾æ ‡å¹³å°ï¼Œé‚£å°±æ˜¯é˜¿é‡Œå›¾æ ‡åº“ã€‚</p>
<p>åœ°å€å¦‚ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.iconfont.cn" target="_blank" title="https://www.iconfont.cn" ref="nofollow noopener noreferrer">www.iconfont.cn</a></p>
<p>è¿™ç»å¯¹æ˜¯ç‹¬ç«‹å¼€å‘è€…çš„å¤©å ‚ï¼Œè¿™é‡Œæœ‰æ— æ•°çš„å›¾æ ‡èµ„æºï¼Œæ ¼å¼å„æ ·ï¼Œæ”¯æŒå„ç§å›¾ç‰‡æ ¼å¼ï¼Œæ¯”å¦‚ï¼Œpngã€svgç­‰ï¼ŒåŒæ ·ï¼Œä¹Ÿæ”¯æŒé¢œè‰²æ›´æ”¹ã€‚</p>
<p>å„å¼å„æ ·çš„å›¾æ ‡ï¼Œä»»ä½ å»æŒ‘é€‰ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8adf5d76d2c6413f8f1d0a12c389bdcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=v%2F3JSfj7AJKAIoELaM9KNZ9DbB4%3D" alt="" width="70%" loading="lazy"/></p>
<p>åŒæ ·ï¼Œä¹Ÿæ”¯æŒæœç´¢ï¼Œå¯ä»¥æ ¹æ®ä¸­æ–‡æˆ–è€…è‹±æ–‡è¿›è¡Œæ£€ç´¢ï¼Œéå¸¸çš„æ–¹ä¾¿ï¼Œæ¯”å¦‚æœç´¢è¿”å›ï¼Œé‚£ä¹ˆå°±ä¼šç½—åˆ—å‡ºæ— æ•°ä¸ªè¿”å›çš„å›¾æ ‡ï¼Œä»»ä½ æŒ‘é€‰ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3fed9dcb86a4b63ac9e541cd5de089f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=i3Ufrv6d3WBocC2N4eDOlmYmEK4%3D" alt="" width="70%" loading="lazy"/></p>
<p>ç‚¹å‡»ä¹‹åï¼Œå¯ä»¥æ›´æ”¹å›¾æ ‡çš„é¢œè‰²ï¼Œç„¶ååº•éƒ¨å°±å¯ä»¥è¿›è¡Œä¸‹è½½ï¼Œå¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45fa2dfa730e40a98f88e3ffc4e9b52c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771568657&amp;x-signature=tcBDBYc8FnANFKkmeB4MlCOJuKc%3D" alt="" width="70%" loading="lazy"/></p>
<h2 data-id="heading-10">ç›¸å…³æ€»ç»“</h2>
<p>ç›®å‰çš„ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥è¯´ï¼Œå®Œå…¨èƒ½å¤Ÿæ»¡è¶³æ—¥å¸¸çš„å›¾æ ‡éœ€æ±‚ï¼Œè¿™é‡Œæœ€å€¼å¾—æ¨èçš„è¿˜æ˜¯ç³»ç»Ÿçš„å›¾æ ‡åº“ï¼Œæ¯•ç«Ÿè‡ªå¸¦çš„ï¼Œä¸ç”¨ä»»ä½•çš„ä¾èµ–ï¼Œä¹Ÿä¸å­˜åœ¨åŒ…ä½“ç§¯çš„å¢åŠ ï¼Œå¤§å°ã€é¢œè‰²ã€åŠ¨æ•ˆç­‰ç­‰éƒ½å¯ä»¥åŸç”Ÿå®ç°ï¼Œè¿˜æ˜¯éå¸¸çš„æ–¹ä¾¿çš„ã€‚å½“ç„¶äº†ï¼Œå¦‚æœåŸç”Ÿæ— æ³•æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œåé¢çš„ä¸¤ç§æ–¹å¼ï¼Œä¹Ÿæ˜¯å€¼å¾—å¤§å®¶æ¥å°è¯•çš„ï¼Œæ€»ä¹‹ï¼Œé€‰æ‹©ä¸€ä¸ªè‡ªå·±é€‚åˆçš„æ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[seedance 2.0ï¼Œè®©åˆ›ä½œè€…æˆä¸ºå†…å®¹å¯æ§çš„å¯¼æ¼”ï¼Œé™„å…è´¹ä½“éªŒæ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7605625595570978831</link>    <guid>https://juejin.cn/post/7605625595570978831</guid>    <pubDate>2026-02-13T06:01:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605625595570978831" data-draft-id="7605542907119452212" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="seedance 2.0ï¼Œè®©åˆ›ä½œè€…æˆä¸ºå†…å®¹å¯æ§çš„å¯¼æ¼”ï¼Œé™„å…è´¹ä½“éªŒæ•™ç¨‹"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-13T06:01:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™Œæ™¨"/> <meta itemprop="url" content="https://juejin.cn/user/4352310171673354"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            seedance 2.0ï¼Œè®©åˆ›ä½œè€…æˆä¸ºå†…å®¹å¯æ§çš„å¯¼æ¼”ï¼Œé™„å…è´¹ä½“éªŒæ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4352310171673354/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™Œæ™¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:01:00.000Z" title="Fri Feb 13 2026 06:01:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™Œæ™¨ï¼Œåˆ†äº«æœ‰ç”¨çš„AIçŸ¥è¯†ä¸å·¥å…·ï¼Œå–œæ¬¢è®°å¾—å…³æ³¨ã€‚</p>
<p>è¿™å‡ å¤©seedance2.0åˆè¢«è¿ç»­åˆ·å±ï¼Œè®°å¾—å»å¹´è¿™æ—¶å€™ä¹Ÿæ˜¯deepseekçš„åˆ·å±ï¼Œè¿›åº¦è¶…å¿«ã€‚å†çœ‹å…ƒå®ã€åƒé—®ä»–ä»¬æ˜¥èŠ‚å¤§å°ºåº¦æ’’å¸ï¼Œåœ¨çœŸæ­£è§£å†³éœ€æ±‚çš„å±‚é¢ä¸Šï¼Œè¿˜æ˜¯ä¼šè¢«ç¢¾å‹ã€‚</p>
<p>seedance2.0ä¸ºä»€ä¹ˆè¢«åˆ·å±ï¼Œä»å›¢é˜Ÿå‘å¸ƒçš„ä¿¡æ¯çœ‹ï¼Œä¸»è¦æ˜¯ï¼š</p>
<blockquote>
<p>â</p>
<p>Seedance 2.0 é‡‡ç”¨ç»Ÿä¸€çš„å¤šæ¨¡æ€éŸ³è§†é¢‘è”åˆç”Ÿæˆæ¶æ„ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘å››ç§æ¨¡æ€è¾“å…¥ï¼Œé›†æˆäº†ç›®å‰ä¸šç•Œæœ€å…¨é¢çš„å¤šæ¨¡æ€å†…å®¹å‚è€ƒå’Œç¼–è¾‘èƒ½åŠ›ã€‚`</p>
</blockquote>
<p>è§£è¯»åˆ°å®é™…åº”ç”¨ä¸Šï¼Œå°±æ˜¯ï¼šä½ å¯ä»¥ç”¨ä¸€å¼ å›¾å®šä¸‹ç”»é¢é£æ ¼ï¼Œç”¨ä¸€ä¸ªè§†é¢‘æŒ‡å®šè§’è‰²çš„åŠ¨ä½œå’Œé•œå¤´çš„å˜åŒ–ï¼Œå†ç”¨å‡ ç§’éŸ³é¢‘å¸¦èµ·èŠ‚å¥æ°›å›´ï¼Œæ­é…æç¤ºè¯ï¼Œè®©åˆ›ä½œè¿‡ç¨‹å˜å¾—æ›´è‡ªç„¶ã€æ›´é«˜æ•ˆï¼Œä¹Ÿæ›´åƒçœŸæ­£çš„â€œå¯¼æ¼”â€ã€‚</p>
<p><strong>åœ¨å†…å®¹åˆ›ä½œä¸Šï¼Œå¯æ§å¯¹åˆ›ä½œè€…æ¥è¯´çœŸæ˜¯å¤ªé‡è¦ã€‚</strong></p>
<blockquote>
<p>â</p>
<p><strong>seedance 2.0å®˜æ–¹ä½¿ç”¨æ‰‹å†Œ:</strong> <code>https://bytedance.larkoffice.com/wiki/A5RHwWhoBiOnjukIIw6cu5ybnXQ</code></p>
</blockquote>
<h2 data-id="heading-0">å¿«é€Ÿä½¿ç”¨seedance 2.0</h2>
<ul>
<li>å³æ¢¦ç½‘é¡µç«¯-è§†é¢‘ç”Ÿæˆ-é€‰æ‹© Seedance 2.0ï¼›</li>
<li>è±†åŒ… App å¯¹è¯æ¡†-Seedance2.0-é€‰æ‹© 2.0 æ¨¡å‹ï¼›</li>
<li>ç«å±±æ–¹èˆŸä½“éªŒä¸­å¿ƒ-é€‰æ‹© Doubao-Seedance-2.0ã€‚</li>
</ul>
<h3 data-id="heading-1">å³æ¢¦ç½‘é¡µç«¯</h3>
<p>è®¿é—®å…¥å£ï¼š<em><a href="https://link.juejin.cn?target=https%3A%2F%2Fjimeng.jianying.com%2Fai-tool%2Fhome" target="_blank" title="https://jimeng.jianying.com/ai-tool/home" ref="nofollow noopener noreferrer">jimeng.jianying.com/ai-tool/homâ€¦</a></em></p>
<p>é€‰æ‹©è§†é¢‘ç”Ÿæˆ-é€‰æ‹© Seedance 2.0ï¼Œå¦‚æˆªå›¾æ‰€ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f50805d737f545f1b773c72507862a22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmM5pmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567260&amp;x-signature=VELOz8MPqbqGY2luSc%2FYD4f%2FXtc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-2">è±†åŒ…APPç«¯</h3>
<p>å‡çº§åˆ°æœ€æ–°ç‰ˆè±†åŒ…ï¼Œä¸‹æ–¹å³å¯çœ‹åˆ°å…¥å£ã€‚å¯¹è¯æ¡†-Seedance2.0-é€‰æ‹© 2.0 æ¨¡å‹ï¼›</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/167cb74369614ebe8bf64879ead91ae3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmM5pmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567260&amp;x-signature=v7R83hkwsUFtAH2nz%2B9u3jr7q7k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3">ç«å±±å¼•æ“</h3>
<p>è®¿é—®å…¥å£ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.volcengine.com%2Fark%2Fregion%3Aark%2Bcn-beijing%2Fexperience%2Fvision%3FmodelId%3Ddoubao-seedance-2-0-260128%26tab%3DGenVideo" target="_blank" title="https://console.volcengine.com/ark/region:ark+cn-beijing/experience/vision?modelId=doubao-seedance-2-0-260128&amp;tab=GenVideo" ref="nofollow noopener noreferrer">console.volcengine.com/ark/region:â€¦</a></p>
<p>ç›´æ¥é€500ä¸‡tokenï¼Œè¯šæ„æ»¡æ»¡å¯ä»¥æ”¾å¿ƒè–…ã€‚å¤§æ¦‚å¯ç”Ÿæˆ1-2åˆ†é’Ÿè§†é¢‘ï¼Œä½“éªŒè¶³å¤Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4c9752580ac4267b03887bd35a2846a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmM5pmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771567260&amp;x-signature=eGqnlVYCrHmMj7l3HYZ0zpt8ZSY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ‰æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»ä½“éªŒï¼Œæç¤ºè¯ç›´æ¥ç”¨æˆ‘ä»¬çš„å£è¯­è¡¨è¾¾å³å¯ã€‚</p>
<p><strong>æ„Ÿè°¢è¯»åˆ°è¿™é‡Œï¼Œå¦‚æœæ–‡ç« æœ‰å¸®åŠ©åˆ°ä½ ï¼Œæ¬¢è¿ç‚¹èµå…³æ³¨ã€‚æˆ‘æ˜¯é™Œæ™¨ï¼Œå’±ä»¬ä¸‹æ¬¡è§ã€‚</strong></p>
<h6 data-id="heading-4">ç›¸å…³å†…å®¹æ¨è</h6>
<h6 data-id="heading-5">4 æ­¥æå®š Claude code æ­å»ºï¼å°ç™½ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹</h6>
<h6 data-id="heading-6">cozeå·¥ä½œæµè‡ªåŠ¨ç”Ÿæˆçˆ†ç«çš„æ˜Ÿåº§è¿åŠ¿å†…å®¹ï¼Œæ’ä»¶å…è´¹ï¼Œå»AIå‘³æˆåŠŸæ ‡åŸåˆ›</h6>
<h6 data-id="heading-7">çˆ†æ¬¾å°çº¢ä¹¦å¥åº·å…»ç”Ÿèµ›é“å›¾æ–‡ï¼ŒDeepseek+Cozeå·¥ä½œæµï¼Œ5åˆ†é’Ÿæ‰¹é‡ç”Ÿæˆ100ç¯‡ï¼Œé™„é€æ•™ç¨‹</h6>
<h6 data-id="heading-8">##### æ›´å¤šAIæ¢ç´¢åŠæ¡ˆä¾‹æ¬¢è¿æ‰«ç å¤‡æ³¨â€œAIâ€æ‹‰ä½ å…¥ç¾¤ã€‚</h6></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NanoBot å‘é‡è®°å¿†ç³»ç»Ÿå‡çº§å®ç°é‡è¦è®°å¿†ç”¨ä¸ä¸¢å¤±]]></title>    <link>https://juejin.cn/post/7605807405307822143</link>    <guid>https://juejin.cn/post/7605807405307822143</guid>    <pubDate>2026-02-13T05:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605807405307822143" data-draft-id="7605539194690945024" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NanoBot å‘é‡è®°å¿†ç³»ç»Ÿå‡çº§å®ç°é‡è¦è®°å¿†ç”¨ä¸ä¸¢å¤±"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T05:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è´ºå«å›½"/> <meta itemprop="url" content="https://juejin.cn/user/932842324370135"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NanoBot å‘é‡è®°å¿†ç³»ç»Ÿå‡çº§å®ç°é‡è¦è®°å¿†ç”¨ä¸ä¸¢å¤±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/932842324370135/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è´ºå«å›½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T05:54:20.000Z" title="Fri Feb 13 2026 05:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">NanoBot å‘é‡è®°å¿†ç³»ç»Ÿå‡çº§å®æˆ˜æŒ‡å—ï¼ˆå®Œæ•´ç‰ˆï¼‰</h2>
<blockquote>
<p><strong>é¢„ä¼°æ—¶é—´</strong>: 15-20åˆ†é’Ÿ</p>
<p><strong>é‡è¦æç¤º</strong>: å¯ä»¥å°†è¿™ä¸ªæ–‡ç« ä¸­ç›´æ¥å–‚ç»™è¿è¡Œä¸­çš„nanobotè®©ä»–è‡ªåŠ¨è¿ç§»æ›¿æ¢</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®ä»‹ç»</h3>
<h4 data-id="heading-2">1.1 å‡çº§èƒŒæ™¯</h4>
<p>åŸç‰ˆNanoBotä½¿ç”¨ç®€å•çš„Markdownæ–‡ä»¶å­˜å‚¨è®°å¿†ï¼Œå­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼Œæœ¬æŒ‡å—è¯¦ç»†ä»‹ç»å¦‚ä½•å°† NanoBot çš„ç®€å• Markdown è®°å¿†ç³»ç»Ÿå‡çº§ä¸ºåŸºäº SQLite + å‘é‡åµŒå…¥çš„æ™ºèƒ½è®°å¿†ç³»ç»Ÿï¼Œå®ç°è¯­ä¹‰æ£€ç´¢ã€è‡ªåŠ¨ä¼˜åŒ–ã€é•¿ä¹…ä¿å­˜ã€‚</p>

























<table><thead><tr><th>ç¼ºé™·</th><th>å½±å“</th></tr></thead><tbody><tr><td>å…³é”®è¯åŒ¹é…</td><td>åªèƒ½ç²¾ç¡®åŒ¹é…ï¼Œæ— æ³•ç†è§£è¯­ä¹‰ï¼Œ"å‘é‚®ä»¶"å’Œ"é‚®ä»¶å‘é€"è¢«è®¤ä¸ºæ˜¯ä¸åŒçš„</td></tr><tr><td>æ— ä¼˜å…ˆçº§ç®¡ç†</td><td>é‡è¦è®°å¿†å’Œé—²èŠæ··åœ¨ä¸€èµ·ï¼Œæ£€ç´¢æ—¶å®¹æ˜“è¢«æ·¹æ²¡</td></tr><tr><td>æ‰‹åŠ¨ç»´æŠ¤</td><td>éœ€è¦äººå·¥æ¸…ç†æ—§æ–‡ä»¶ï¼Œéšç€ä½¿ç”¨æ—¶é—´è¶Šé•¿è¶Šæ··ä¹±</td></tr><tr><td>æ— ä¸Šä¸‹æ–‡å…³è”</td><td>æ— æ³•æ ¹æ®å¯¹è¯å†å²è‡ªåŠ¨æå–ç›¸å…³è®°å¿†</td></tr></tbody></table>
<h4 data-id="heading-3">1.2 å‡çº§åçš„ä¼˜åŠ¿</h4>
<ul>
<li>âœ… <strong>è¯­ä¹‰ç†è§£</strong>: "æ€ä¹ˆå¤„ç†é‚®ä»¶"èƒ½åŒ¹é…åˆ°"é‚®ä»¶å›å¤è¦é«˜è´¨é‡"</li>
<li>âœ… <strong>è‡ªåŠ¨ä¼˜åŒ–</strong>: è‡ªåŠ¨åˆå¹¶é‡å¤ã€æ¸…ç†æ— æ•ˆã€è°ƒæ•´ä¼˜å…ˆçº§</li>
<li>âœ… <strong>é•¿ä¹…ä¿å­˜</strong>: SQLiteå•æ–‡ä»¶å­˜å‚¨ï¼Œé«˜ä»·å€¼è®°å¿†æ°¸ä¸ä¸¢å¤±</li>
<li>âœ… <strong>è½»é‡æ— è´Ÿæ‹…</strong>: ä»…å¢åŠ 2ä¸ªPythonä¾èµ–ï¼Œæ€»å¤§å° &lt; 100MB</li>
</ul>
<hr/>
<h3 data-id="heading-4">äºŒã€æ ¸å¿ƒæ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-5">2.1 ç›®å½•ç»“æ„ï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<p>âŒ <strong>é”™è¯¯åšæ³•</strong>ï¼ˆå•æ–‡ä»¶ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">nanobot/agent/
â”œâ”€â”€ memory.py          <span class="hljs-comment"># æ‰€æœ‰ä»£ç å¡åœ¨ä¸€ä¸ªæ–‡ä»¶</span>
â””â”€â”€ ...
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼ˆPythonåŒ…ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">nanobot/agent/
â”œâ”€â”€ memory/                    <span class="hljs-comment"># PythonåŒ…ç›®å½•</span>
â”‚   â”œâ”€â”€ __init__.py           <span class="hljs-comment"># åŒ…å…¥å£ï¼Œå…³é”®ï¼</span>
â”‚   â”œâ”€â”€ store.py              <span class="hljs-comment"># åŸæœ‰ MemoryStore ç±»</span>
â”‚   â””â”€â”€ vector_store.py       <span class="hljs-comment"># å¢å¼ºç‰ˆ EnhancedMemoryStore</span>
â””â”€â”€ ...
</code></pre>
<blockquote>
<p>âš ï¸ <strong>é¿å‘æç¤º</strong>: å¿…é¡»å°† <code>memory.py</code> æ”¹ä¸º <code>memory/</code> ç›®å½•ï¼Œå¦åˆ™åœ¨ Windows å’Œ Linux ä¸Šä¼šå‡ºç°å¯¼å…¥é”™è¯¯ï¼</p>
</blockquote>
<h4 data-id="heading-6">2.2 æ ¸å¿ƒç»„ä»¶</h4>

























<table><thead><tr><th>ç»„ä»¶</th><th>åŠŸèƒ½</th><th>æŠ€æœ¯æ ˆ</th></tr></thead><tbody><tr><td><code>MemoryStore</code></td><td>åŸºç¡€æ–‡ä»¶å­˜å‚¨</td><td>Markdown + æ–‡ä»¶IO</td></tr><tr><td><code>EnhancedMemoryStore</code></td><td>å¢å¼ºå‘é‡å­˜å‚¨</td><td>SQLite + sentence-transformers</td></tr><tr><td><code>è‡ªä¼˜åŒ–å™¨</code></td><td>è‡ªåŠ¨ç»´æŠ¤è®°å¿†</td><td>APScheduler + ç›¸ä¼¼åº¦è®¡ç®—</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€å®Œæ•´ä»£ç å®ç°</h3>
<h4 data-id="heading-8">3.1 memory/<strong>init</strong>.pyï¼ˆåŒ…å…¥å£ï¼‰</h4>
<p>è¿™æ˜¯<strong>æœ€å…³é”®çš„æ–‡ä»¶</strong>ï¼Œå®ƒå†³å®šäº†å¤–éƒ¨å¦‚ä½•å¯¼å…¥ä½ çš„æ¨¡å—ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># nanobot/agent/memory/__init__.py</span>
<span class="hljs-string">"""
NanoBot è®°å¿†ç³»ç»ŸåŒ…
æ”¯æŒå‘åå…¼å®¹ï¼šæœªå®‰è£…å‘é‡ä¾èµ–æ—¶è‡ªåŠ¨å›é€€åˆ°æ–‡ä»¶å­˜å‚¨
"""</span>

<span class="hljs-comment"># å¯¼å…¥åŸºç¡€å­˜å‚¨ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰</span>
<span class="hljs-keyword">from</span> nanobot.agent.memory.store <span class="hljs-keyword">import</span> MemoryStore

<span class="hljs-comment"># å°è¯•å¯¼å…¥å¢å¼ºå­˜å‚¨ï¼Œå¤±è´¥æ—¶å›é€€</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">from</span> nanobot.agent.memory.vector_store <span class="hljs-keyword">import</span> EnhancedMemoryStore
<span class="hljs-keyword">except</span> ImportError:
    <span class="hljs-comment"># å¦‚æœæœªå®‰è£… sentence-transformersï¼Œä½¿ç”¨åŸºç¡€ç‰ˆ</span>
    EnhancedMemoryStore = MemoryStore

__all__ = [<span class="hljs-string">'MemoryStore'</span>, <span class="hljs-string">'EnhancedMemoryStore'</span>]
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>:</p>
<ul>
<li>ä½¿ç”¨ <code>try/except</code> å®ç°å®¹é”™å¯¼å…¥</li>
<li>ç¡®ä¿ç”¨æˆ·æœªå®‰è£…ä¾èµ–æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè‡ªåŠ¨å›é€€åˆ°åŸæœ‰åŠŸèƒ½</li>
</ul>
<hr/>
<h4 data-id="heading-9">3.2 memory/store.pyï¼ˆåŸºç¡€å­˜å‚¨ç±»ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># nanobot/agent/memory/store.py</span>
<span class="hljs-string">"""
åŸºç¡€è®°å¿†å­˜å‚¨ç±»
ä¿æŒå‘åå…¼å®¹ï¼Œæ”¯æŒMarkdownæ–‡ä»¶å­˜å‚¨
"""</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryStore</span>:
    <span class="hljs-string">"""
    åŸºç¡€è®°å¿†å­˜å‚¨ç±»
    ä½¿ç”¨Markdownæ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨
    """</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, workspace: Path</span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–è®°å¿†å­˜å‚¨
        
        Args:
            workspace: NanoBotå·¥ä½œç›®å½•
        """</span>
        self.workspace = workspace
        self.memory_file = workspace / <span class="hljs-string">"memory"</span> / <span class="hljs-string">"MEMORY.md"</span>
        self.memory_file.parent.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)
        
        <span class="hljs-comment"># å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºåˆå§‹æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.memory_file.exists():
            self.memory_file.write_text(<span class="hljs-string">"# NanoBot è®°å¿†æ¡£æ¡ˆ\n\n"</span>, encoding=<span class="hljs-string">'utf-8'</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self, content: <span class="hljs-built_in">str</span>, category: <span class="hljs-built_in">str</span> = <span class="hljs-string">"general"</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""
        æ·»åŠ è®°å¿†
        
        Args:
            content: è®°å¿†å†…å®¹
            category: åˆ†ç±»æ ‡ç­¾
            
        Returns:
            æ˜¯å¦æ·»åŠ æˆåŠŸ
        """</span>
        timestamp = datetime.now().isoformat()
        entry = <span class="hljs-string">f"\n## [<span class="hljs-subst">{category}</span>] <span class="hljs-subst">{timestamp}</span>\n<span class="hljs-subst">{content}</span>\n"</span>
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.memory_file, <span class="hljs-string">'a'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
                f.write(entry)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¿å­˜è®°å¿†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, keyword: <span class="hljs-built_in">str</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]:
        <span class="hljs-string">"""
        å…³é”®è¯æœç´¢ï¼ˆåŸºç¡€ç‰ˆï¼‰
        
        Args:
            keyword: æœç´¢å…³é”®è¯
            limit: è¿”å›ç»“æœæ•°é‡
            
        Returns:
            åŒ¹é…çš„è®°å¿†åˆ—è¡¨
        """</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.memory_file.exists():
            <span class="hljs-keyword">return</span> []
        
        results = []
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.memory_file, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
            content = f.read()
        
        <span class="hljs-comment"># ç®€å•çš„å…³é”®è¯åŒ¹é…</span>
        sections = content.split(<span class="hljs-string">"## ["</span>)
        <span class="hljs-keyword">for</span> section <span class="hljs-keyword">in</span> sections[<span class="hljs-number">1</span>:]:  <span class="hljs-comment"># è·³è¿‡ç¬¬ä¸€ä¸ªç©ºéƒ¨åˆ†</span>
            <span class="hljs-keyword">if</span> keyword.lower() <span class="hljs-keyword">in</span> section.lower():
                lines = section.split(<span class="hljs-string">"\n"</span>)
                <span class="hljs-keyword">if</span> lines:
                    header = lines[<span class="hljs-number">0</span>].strip()
                    body = <span class="hljs-string">"\n"</span>.join(lines[<span class="hljs-number">1</span>:]).strip()
                    results.append({
                        <span class="hljs-string">"header"</span>: header,
                        <span class="hljs-string">"content"</span>: body[:<span class="hljs-number">200</span>] + <span class="hljs-string">"..."</span> <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(body) &gt; <span class="hljs-number">200</span> <span class="hljs-keyword">else</span> body
                    })
        
        <span class="hljs-keyword">return</span> results[:limit]
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_context</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, n_turns: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        è·å–å¯¹è¯ä¸Šä¸‹æ–‡
        
        Args:
            query: æŸ¥è¯¢è¯
            n_turns: è¿”å›è®°å¿†æ¡æ•°
            
        Returns:
            æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡å­—ç¬¦ä¸²
        """</span>
        results = self.search(query, limit=n_turns)
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> results:
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        
        context_parts = []
        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
            context_parts.append(<span class="hljs-string">f"- <span class="hljs-subst">{r[<span class="hljs-string">'header'</span>]}</span>: <span class="hljs-subst">{r[<span class="hljs-string">'content'</span>]}</span>"</span>)
        
        <span class="hljs-keyword">return</span> <span class="hljs-string">"\n"</span>.join(context_parts)
</code></pre>
<hr/>
<h4 data-id="heading-10">3.3 memory/vector_store.pyï¼ˆå¢å¼ºå‘é‡å­˜å‚¨ - ç¬¬ä¸€éƒ¨åˆ†ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># nanobot/agent/memory/vector_store.py</span>
<span class="hljs-string">"""
å¢å¼ºç‰ˆè®°å¿†å­˜å‚¨ï¼šSQLite + å‘é‡åµŒå…¥
å®ç°è¯­ä¹‰æ£€ç´¢ã€è‡ªåŠ¨ä¼˜åŒ–ã€é•¿ä¹…ä¿å­˜
"""</span>

<span class="hljs-keyword">import</span> sqlite3
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>, <span class="hljs-type">Tuple</span>

<span class="hljs-comment"># å°è¯•å¯¼å…¥ sentence-transformersï¼Œå¦‚æœæœªå®‰è£…åˆ™æç¤ºå®‰è£…</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> SentenceTransformer
    VECTOR_AVAILABLE = <span class="hljs-literal">True</span>
<span class="hljs-keyword">except</span> ImportError:
    VECTOR_AVAILABLE = <span class="hljs-literal">False</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ æç¤ºï¼šæœªå®‰è£… sentence-transformersï¼Œè¯·è¿è¡Œ: pip install sentence-transformers"</span>)

<span class="hljs-comment"># ç»§æ‰¿åŸæœ‰ MemoryStore å®ç°å‘åå…¼å®¹</span>
<span class="hljs-keyword">from</span> nanobot.agent.memory.store <span class="hljs-keyword">import</span> MemoryStore


<span class="hljs-keyword">class</span> <span class="hljs-title class_">EnhancedMemoryStore</span>(<span class="hljs-title class_ inherited__">MemoryStore</span>):
    <span class="hljs-string">"""
    å¢å¼ºç‰ˆè®°å¿†å­˜å‚¨ç³»ç»Ÿ
    
    ç‰¹æ€§:
    - è¯­ä¹‰æ£€ç´¢ï¼šåŸºäºå‘é‡ç›¸ä¼¼åº¦ï¼Œç†è§£æŸ¥è¯¢æ„å›¾
    - è‡ªåŠ¨ä¼˜åŒ–ï¼šåˆå¹¶é‡å¤ã€æ¸…ç†æ— æ•ˆã€è°ƒæ•´ä¼˜å…ˆçº§
    - é•¿ä¹…ä¿å­˜ï¼šSQLite æŒä¹…åŒ–ï¼Œé«˜ä»·å€¼è®°å¿†ä¿æŠ¤
    - å‘åå…¼å®¹ï¼šç»§æ‰¿ MemoryStoreï¼ŒåŸæœ‰ API å®Œå…¨å…¼å®¹
    """</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, workspace: Path, model_name: <span class="hljs-built_in">str</span> = <span class="hljs-string">'all-MiniLM-L6-v2'</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–å¢å¼ºè®°å¿†ç³»ç»Ÿ
        
        Args:
            workspace: NanoBot å·¥ä½œç›®å½•
            model_name: åµŒå…¥æ¨¡å‹åç§°ï¼ˆé»˜è®¤ 80MB è½»é‡æ¨¡å‹ï¼‰
        """</span>
        <span class="hljs-comment"># è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰</span>
        <span class="hljs-built_in">super</span>().__init__(workspace)
        
        self.workspace = workspace
        self.db_path = workspace / <span class="hljs-string">"memory"</span> / <span class="hljs-string">"vector_memory.db"</span>
        self.db_path.parent.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)
        
        <span class="hljs-comment"># æ£€æŸ¥ä¾èµ–</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> VECTOR_AVAILABLE:
            <span class="hljs-keyword">raise</span> ImportError(
                <span class="hljs-string">"è¯·å…ˆå®‰è£…ä¾èµ–ï¼š pip install sentence-transformers"</span>
            )
        
        <span class="hljs-comment"># åŠ è½½åµŒå…¥æ¨¡å‹ï¼ˆé¦–æ¬¡åŠ è½½çº¦éœ€ 2-3 ç§’ï¼‰</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ§  åŠ è½½å‘é‡åµŒå…¥æ¨¡å‹..."</span>)
        self.model = SentenceTransformer(model_name)
        self.embedding_dim = self.model.get_sentence_embedding_dimension()
        
        <span class="hljs-comment"># åˆå§‹åŒ–æ•°æ®åº“</span>
        self._init_database()
        
        <span class="hljs-comment"># åŠ è½½æˆ–åˆå§‹åŒ–æ£€ç´¢å‚æ•°ï¼ˆç”¨äºè‡ªä¼˜åŒ–ï¼‰</span>
        self.retrieval_params = self._load_retrieval_params()
        
        <span class="hljs-comment"># æ“ä½œè®¡æ•°å™¨ï¼ˆç”¨äºè§¦å‘è½»é‡ä¼˜åŒ–ï¼‰</span>
        self.operation_count = <span class="hljs-number">0</span>
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å‘é‡è®°å¿†ç³»ç»Ÿå°±ç»ª | ç»´åº¦: <span class="hljs-subst">{self.embedding_dim}</span> | æ•°æ®åº“: <span class="hljs-subst">{self.db_path}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_init_database</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆå§‹åŒ– SQLite æ•°æ®åº“è¡¨ç»“æ„"""</span>
        <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
            conn.execute(<span class="hljs-string">"""
                CREATE TABLE IF NOT EXISTS memories (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    content TEXT NOT NULL,
                    category TEXT DEFAULT 'general',
                    priority REAL DEFAULT 5.0,
                    access_count INTEGER DEFAULT 0,
                    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                    last_accessed TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                    is_deleted INTEGER DEFAULT 0,
                    deleted_reason TEXT,
                    embedding BLOB
                )
            """</span>)
            
            <span class="hljs-comment"># åˆ›å»ºç´¢å¼•åŠ é€Ÿæ£€ç´¢</span>
            conn.execute(<span class="hljs-string">"CREATE INDEX IF NOT EXISTS idx_priority ON memories(priority DESC)"</span>)
            conn.execute(<span class="hljs-string">"CREATE INDEX IF NOT EXISTS idx_category ON memories(category)"</span>)
            conn.execute(<span class="hljs-string">"CREATE INDEX IF NOT EXISTS idx_deleted ON memories(is_deleted)"</span>)
            conn.commit()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_retrieval_params</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-type">Dict</span>:
        <span class="hljs-string">"""åŠ è½½æ£€ç´¢å‚æ•°ï¼ˆç”¨äºè‡ªä¼˜åŒ–ï¼‰"""</span>
        params_file = self.workspace / <span class="hljs-string">"memory"</span> / <span class="hljs-string">"retrieval_params.json"</span>
        <span class="hljs-keyword">if</span> params_file.exists():
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(params_file, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:
                <span class="hljs-keyword">return</span> json.load(f)
        <span class="hljs-comment"># é»˜è®¤å‚æ•°</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"top_k"</span>: <span class="hljs-number">5</span>,
            <span class="hljs-string">"similarity_threshold"</span>: <span class="hljs-number">0.7</span>,
            <span class="hljs-string">"recall_rate_history"</span>: []
        }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_save_retrieval_params</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ä¿å­˜æ£€ç´¢å‚æ•°"""</span>
        params_file = self.workspace / <span class="hljs-string">"memory"</span> / <span class="hljs-string">"retrieval_params.json"</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(params_file, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            json.dump(self.retrieval_params, f)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_embedding</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; np.ndarray:
        <span class="hljs-string">"""
        ç”Ÿæˆæ–‡æœ¬çš„å‘é‡åµŒå…¥
        
        Args:
            text: è¾“å…¥æ–‡æœ¬
            
        Returns:
            float16 æ ¼å¼çš„å‘é‡ï¼ˆèŠ‚çœ50%å­˜å‚¨ç©ºé—´ï¼‰
        """</span>
        embedding = self.model.encode(text, convert_to_numpy=<span class="hljs-literal">True</span>)
        <span class="hljs-comment"># float16 å‹ç¼©èŠ‚çœ 50% å­˜å‚¨ç©ºé—´</span>
        <span class="hljs-keyword">return</span> embedding.astype(np.float16)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self, content: <span class="hljs-built_in">str</span>, category: <span class="hljs-built_in">str</span> = <span class="hljs-string">"general"</span>, 
            priority: <span class="hljs-built_in">float</span> = <span class="hljs-number">5.0</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""
        æ·»åŠ è®°å¿†ï¼ˆå¢å¼ºç‰ˆï¼‰
        
        åŒæ—¶å†™å…¥ï¼š
        1. çˆ¶ç±»çš„ Markdown æ–‡ä»¶ï¼ˆå‘åå…¼å®¹ï¼‰
        2. å‘é‡æ•°æ®åº“ï¼ˆè¯­ä¹‰æ£€ç´¢ï¼‰
        
        Args:
            content: è®°å¿†å†…å®¹
            category: åˆ†ç±»æ ‡ç­¾ï¼ˆcore_rule/preference/tech_noteç­‰ï¼‰
            priority: ä¼˜å…ˆçº§ 0-10ï¼Œè¶Šé«˜è¶Šé‡è¦ï¼ˆ&gt;=7 ä¸ºé•¿ä¹…ä¿æŠ¤ï¼‰
            
        Returns:
            æ˜¯å¦æ·»åŠ æˆåŠŸ
        """</span>
        <span class="hljs-comment"># 1. è°ƒç”¨çˆ¶ç±»æ–¹æ³•å†™å…¥æ–‡ä»¶ï¼ˆå‘åå…¼å®¹ï¼‰</span>
        <span class="hljs-built_in">super</span>().add(content, category)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># 2. ç”Ÿæˆå‘é‡åµŒå…¥</span>
            embedding = self._get_embedding(content)
            embedding_blob = pickle.dumps(embedding)
            
            <span class="hljs-comment"># 3. å­˜å…¥ SQLite</span>
            <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
                conn.execute(<span class="hljs-string">"""
                    INSERT INTO memories 
                    (content, category, priority, embedding)
                    VALUES (?, ?, ?, ?)
                """</span>, (content, category, priority, embedding_blob))
                conn.commit()
            
            <span class="hljs-comment"># 4. è§¦å‘è½»é‡ä¼˜åŒ–ï¼ˆæ¯ 10 æ¬¡æ“ä½œï¼‰</span>
            self.operation_count += <span class="hljs-number">1</span>
            <span class="hljs-keyword">if</span> self.operation_count &gt;= <span class="hljs-number">10</span>:
                self._lightweight_optimize()
                self.operation_count = <span class="hljs-number">0</span>
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡å­˜å‚¨å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<hr/>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-literal">None</span>, 
           use_semantic: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]:
    <span class="hljs-string">"""
    æœç´¢è®°å¿†ï¼ˆå¢å¼ºç‰ˆï¼‰
    
    æ”¯æŒä¸¤ç§æ¨¡å¼ï¼š
    - è¯­ä¹‰æ£€ç´¢ï¼ˆé»˜è®¤ï¼‰ï¼šç†è§£æŸ¥è¯¢æ„å›¾
    - å…³é”®è¯æ£€ç´¢ï¼šä¸çˆ¶ç±»ä¿æŒä¸€è‡´
    
    è‡ªåŠ¨æ›´æ–°è®¿é—®ç»Ÿè®¡å’Œä¼˜å…ˆçº§
    
    Args:
        query: æŸ¥è¯¢è¯
        limit: è¿”å›ç»“æœæ•°é‡
        use_semantic: æ˜¯å¦ä½¿ç”¨è¯­ä¹‰æ£€ç´¢
        
    Returns:
        åŒ¹é…çš„è®°å¿†åˆ—è¡¨ï¼ˆåŒ…å«ç›¸ä¼¼åº¦å¾—åˆ†ï¼‰
    """</span>
    <span class="hljs-keyword">if</span> limit <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        limit = self.retrieval_params[<span class="hljs-string">"top_k"</span>]
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> use_semantic:
        <span class="hljs-comment"># å›é€€åˆ°çˆ¶ç±»çš„å…³é”®è¯æœç´¢</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().search(query, limit)
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. ç”ŸæˆæŸ¥è¯¢å‘é‡</span>
        query_embedding = self._get_embedding(query)
        
        <span class="hljs-comment"># 2. æ£€ç´¢æ‰€æœ‰æœ‰æ•ˆè®°å¿†</span>
        <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
            cursor = conn.execute(<span class="hljs-string">"""
                SELECT id, content, category, priority, access_count, 
                       created_at, embedding
                FROM memories
                WHERE is_deleted = 0
                ORDER BY priority DESC
            """</span>)
            
            memories = cursor.fetchall()
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> memories:
            <span class="hljs-keyword">return</span> []
        
        <span class="hljs-comment"># 3. è®¡ç®—ç›¸ä¼¼åº¦</span>
        similarities = []
        <span class="hljs-keyword">for</span> mem <span class="hljs-keyword">in</span> memories:
            mem_id, content, category, priority, access_count, created_at, emb_blob = mem
            mem_embedding = pickle.loads(emb_blob)
            
            <span class="hljs-comment"># ä½™å¼¦ç›¸ä¼¼åº¦</span>
            similarity = np.dot(query_embedding, mem_embedding) / (
                np.linalg.norm(query_embedding) * np.linalg.norm(mem_embedding)
            )
            
            <span class="hljs-comment"># ç»¼åˆè¯„åˆ† = ç›¸ä¼¼åº¦ * ä¼˜å…ˆçº§æƒé‡</span>
            score = similarity * (<span class="hljs-number">1</span> + priority / <span class="hljs-number">10</span>)
            similarities.append((mem_id, content, category, priority, 
                               access_count, created_at, score, similarity))
        
        <span class="hljs-comment"># 4. è¿‡æ»¤å’Œæ’åº</span>
        threshold = self.retrieval_params[<span class="hljs-string">"similarity_threshold"</span>]
        filtered = [s <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> similarities <span class="hljs-keyword">if</span> s[<span class="hljs-number">7</span>] &gt;= threshold]
        filtered.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">6</span>], reverse=<span class="hljs-literal">True</span>)
        
        results = filtered[:limit]
        
        <span class="hljs-comment"># 5. æ›´æ–°è®¿é—®ç»Ÿè®¡ï¼ˆç”¨äºè‡ªä¼˜åŒ–ï¼‰</span>
        self._update_access_stats([r[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results])
        
        <span class="hljs-comment"># 6. è¿”å›æ ¼å¼åŒ–ç»“æœ</span>
        <span class="hljs-keyword">return</span> [{
            <span class="hljs-string">"id"</span>: r[<span class="hljs-number">0</span>],
            <span class="hljs-string">"content"</span>: r[<span class="hljs-number">1</span>],
            <span class="hljs-string">"category"</span>: r[<span class="hljs-number">2</span>],
            <span class="hljs-string">"priority"</span>: r[<span class="hljs-number">3</span>],
            <span class="hljs-string">"score"</span>: <span class="hljs-built_in">round</span>(r[<span class="hljs-number">6</span>], <span class="hljs-number">3</span>),
            <span class="hljs-string">"similarity"</span>: <span class="hljs-built_in">round</span>(r[<span class="hljs-number">7</span>], <span class="hljs-number">3</span>)
        } <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results]
        
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¯­ä¹‰æœç´¢å¤±è´¥: <span class="hljs-subst">{e}</span>ï¼Œå›é€€åˆ°å…³é”®è¯æœç´¢"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().search(query, limit)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">_update_access_stats</span>(<span class="hljs-params">self, memory_ids: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>):
    <span class="hljs-string">"""
    æ›´æ–°è®°å¿†è®¿é—®ç»Ÿè®¡ï¼ˆç”¨äºä¼˜å…ˆçº§è‡ªä¼˜åŒ–ï¼‰
    
    æ¯æ¬¡è®¿é—®åï¼Œä¼˜å…ˆçº§å¾®å¾®æå‡ï¼ˆä¸Šé™ 10ï¼‰
    """</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> memory_ids:
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
        <span class="hljs-keyword">for</span> mem_id <span class="hljs-keyword">in</span> memory_ids:
            conn.execute(<span class="hljs-string">"""
                UPDATE memories
                SET access_count = access_count + 1,
                    last_accessed = CURRENT_TIMESTAMP,
                    priority = MIN(10.0, priority + 0.1)
                WHERE id = ?
            """</span>, (mem_id,))
        conn.commit()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_context</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, n_turns: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è·å–å¯¹è¯ä¸Šä¸‹æ–‡
    
    ç”¨äº Agent Loop ä¸­æ„é€  promptï¼Œè‡ªåŠ¨æå–ç›¸å…³è®°å¿†
    
    Args:
        query: ç”¨æˆ·æŸ¥è¯¢
        n_turns: è¿”å›è®°å¿†æ¡æ•°
        
    Returns:
        æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡å­—ç¬¦ä¸²
    """</span>
    results = self.search(query, limit=n_turns)
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> results:
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
    
    context_parts = []
    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
        priority_marker = <span class="hljs-string">"ğŸ”´"</span> <span class="hljs-keyword">if</span> r[<span class="hljs-string">'priority'</span>] &gt;= <span class="hljs-number">7</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"âšª"</span>
        context_parts.append(
            <span class="hljs-string">f"<span class="hljs-subst">{priority_marker}</span> [<span class="hljs-subst">{r[<span class="hljs-string">'category'</span>]}</span>] <span class="hljs-subst">{r[<span class="hljs-string">'content'</span>]}</span>"</span>
        )
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">"\n"</span>.join(context_parts)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">self, memory_id: <span class="hljs-built_in">int</span>, reason: <span class="hljs-built_in">str</span> = <span class="hljs-string">""</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-string">"""
    è½¯åˆ é™¤è®°å¿†ï¼ˆå¯æ¢å¤ï¼‰
    
    é«˜ä¼˜å…ˆçº§è®°å¿†ï¼ˆ&gt;=7ï¼‰ä¼šæç¤ºè­¦å‘Š
    
    Args:
        memory_id: è®°å¿†ID
        reason: åˆ é™¤åŸå› 
        
    Returns:
        æ˜¯å¦åˆ é™¤æˆåŠŸ
    """</span>
    <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
        <span class="hljs-comment"># æ£€æŸ¥ä¼˜å…ˆçº§</span>
        cursor = conn.execute(
            <span class="hljs-string">"SELECT priority, content FROM memories WHERE id = ?"</span>,
            (memory_id,)
        )
        row = cursor.fetchone()
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> row:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        
        priority, content = row
        <span class="hljs-keyword">if</span> priority &gt;= <span class="hljs-number">7</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš ï¸ è­¦å‘Šï¼šåˆ é™¤é«˜ä¼˜å…ˆçº§è®°å¿†ï¼ˆ<span class="hljs-subst">{priority}</span>åˆ†ï¼‰: <span class="hljs-subst">{content[:<span class="hljs-number">50</span>]}</span>..."</span>)
        
        <span class="hljs-comment"># è½¯åˆ é™¤</span>
        conn.execute(<span class="hljs-string">"""
            UPDATE memories
            SET is_deleted = 1, deleted_reason = ?
            WHERE id = ?
        """</span>, (reason, memory_id))
        conn.commit()
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">restore</span>(<span class="hljs-params">self, memory_id: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-string">"""æ¢å¤è½¯åˆ é™¤çš„è®°å¿†"""</span>
    <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
        conn.execute(<span class="hljs-string">"""
            UPDATE memories
            SET is_deleted = 0, deleted_reason = NULL
            WHERE id = ?
        """</span>, (memory_id,))
        conn.commit()
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
</code></pre>
<hr/>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_lightweight_optimize</span>(<span class="hljs-params">self</span>):
    <span class="hljs-string">"""
    è½»é‡ä¼˜åŒ–ï¼ˆæ¯10æ¬¡æ“ä½œè§¦å‘ï¼‰
    
    - åˆå¹¶é‡å¤è®°å¿†ï¼ˆç›¸ä¼¼åº¦ &gt; 0.9ï¼‰
    - æ¸…ç†ä½ä»·å€¼è®°å¿†ï¼ˆä¼˜å…ˆçº§ &lt; 3 ä¸” 30å¤©æœªè®¿é—®ï¼‰
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> sqlite3.connect(self.db_path) <span class="hljs-keyword">as</span> conn:
            <span class="hljs-comment"># 1. æŸ¥æ‰¾å¹¶æ ‡è®°é‡å¤è®°å¿†</span>
            cursor = conn.execute(<span class="hljs-string">"""
                SELECT id, content, embedding FROM memories
                WHERE is_deleted = 0
                ORDER BY priority DESC, created_at ASC
            """</span>)
            memories = cursor.fetchall()
            
            to_merge = []
            <span class="hljs-keyword">for</span> i, (id1, content1, emb1_blob) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(memories):
                <span class="hljs-keyword">if</span> id1 <span class="hljs-keyword">in</span> [m[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> to_merge]:
                    <span class="hljs-keyword">continue</span>
                
                emb1 = pickle.loads(emb1_blob)
                <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(memories)):
                    id2, content2, emb2_blob = memories[j]
                    emb2 = pickle.loads(emb2_blob)
                    
                    similarity = np.dot(emb1, emb2) / (
                        np.linalg.norm(emb1) * np.linalg.norm(emb2)
                    )
                    
                    <span class="hljs-keyword">if</span> similarity &gt; <span class="hljs-number">0.9</span>:
                        to_merge.append((id1, id2, similarity))
            
            <span class="hljs-comment"># æ ‡è®°é‡å¤ï¼ˆä¿ç•™é«˜ä¼˜å…ˆçº§çš„ï¼‰</span>
            <span class="hljs-keyword">for</span> keep_id, del_id, sim <span class="hljs-keyword">in</span> to_merge:
                conn.execute(<span class="hljs-string">"""
                    UPDATE memories
                    SET is_deleted = 1, deleted_reason = ?
                    WHERE id = ?
                """</span>, (<span class="hljs-string">f"é‡å¤è®°å¿†ï¼Œä¸ID:<span class="hljs-subst">{keep_id}</span>ç›¸ä¼¼åº¦<span class="hljs-subst">{sim:<span class="hljs-number">.2</span>f}</span>"</span>, del_id))
            
            <span class="hljs-comment"># 2. æ¸…ç†ä½ä»·å€¼è®°å¿†</span>
            conn.execute(<span class="hljs-string">"""
                UPDATE memories
                SET is_deleted = 1, deleted_reason = 'ä½ä»·å€¼è‡ªåŠ¨æ¸…ç†'
                WHERE priority &lt; 3 
                  AND access_count = 0
                  AND created_at &lt; datetime('now', '-30 days')
                  AND is_deleted = 0
            """</span>)
            
            conn.commit()
            
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è½»é‡ä¼˜åŒ–å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
</code></pre>
<hr/>
<h4 data-id="heading-11">3.4 å®‰è£…è„šæœ¬ setup_vector_memory.sh</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># setup_vector_memory.sh</span>
<span class="hljs-comment"># ä¸€é”®å®‰è£… NanoBot å‘é‡è®°å¿†ç³»ç»Ÿ</span>

<span class="hljs-built_in">set</span> -e  <span class="hljs-comment"># é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸš€ å¼€å§‹å®‰è£…å‘é‡è®°å¿†ç³»ç»Ÿ..."</span>

<span class="hljs-comment"># 1. æ£€æŸ¥ Python ç‰ˆæœ¬</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ” æ£€æŸ¥ Python ç‰ˆæœ¬..."</span>
python3 --version || { <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ éœ€è¦ Python 3.8+"</span>; <span class="hljs-built_in">exit</span> 1; }

<span class="hljs-comment"># 2. å®‰è£…ä¾èµ–</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ å®‰è£… Python ä¾èµ–..."</span>
pip3 install --upgrade pip
pip3 install sentence-transformers apscheduler numpy

<span class="hljs-comment"># 3. åˆ›å»ºç›®å½•ç»“æ„</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“ åˆ›å»ºç›®å½•ç»“æ„..."</span>
<span class="hljs-built_in">mkdir</span> -p nanobot/agent/memory

<span class="hljs-comment"># 4. æ£€æµ‹å®‰è£…</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… éªŒè¯å®‰è£…..."</span>
python3 -c <span class="hljs-string">"from sentence_transformers import SentenceTransformer; print('âœ“ sentence-transformers å®‰è£…æˆåŠŸ')"</span>
python3 -c <span class="hljs-string">"import apscheduler; print('âœ“ apscheduler å®‰è£…æˆåŠŸ')"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ‰ å®‰è£…å®Œæˆï¼è¯·å°†ä»¥ä¸‹æ–‡ä»¶å¤åˆ¶åˆ°å¯¹åº”ä½ç½®ï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - memory/__init__.py â†’ nanobot/agent/memory/"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - memory/store.py â†’ nanobot/agent/memory/"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  - memory/vector_store.py â†’ nanobot/agent/memory/"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“š ä½¿ç”¨æ–¹æ³•å‚é˜…åšæ–‡æ­£æ–‡"</span>
</code></pre>
<hr/>
<h4 data-id="heading-12">3.5 éªŒè¯æµ‹è¯• test_memory.py</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-comment"># test_memory.py</span>
<span class="hljs-comment"># éªŒè¯å‘é‡è®°å¿†ç³»ç»Ÿæ˜¯å¦æ­£å¸¸å·¥ä½œ</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-comment"># æ·»åŠ åˆ°è·¯å¾„</span>
sys.path.insert(<span class="hljs-number">0</span>, <span class="hljs-built_in">str</span>(Path(__file__).parent))

<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">from</span> nanobot.agent.memory <span class="hljs-keyword">import</span> EnhancedMemoryStore
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å¯¼å…¥æˆåŠŸ"</span>)
<span class="hljs-keyword">except</span> ImportError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å¯¼å…¥å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·å…ˆè¿è¡Œ: pip install sentence-transformers"</span>)
    sys.exit(<span class="hljs-number">1</span>)

<span class="hljs-comment"># åˆå§‹åŒ–</span>
workspace = Path(<span class="hljs-string">"./test_workspace"</span>)
workspace.mkdir(exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ åˆå§‹åŒ–è®°å¿†ç³»ç»Ÿ..."</span>)
memory = EnhancedMemoryStore(workspace)

<span class="hljs-comment"># æµ‹è¯•æ·»åŠ </span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“ æµ‹è¯•æ·»åŠ è®°å¿†..."</span>)
memory.add(<span class="hljs-string">"æˆ‘å–œæ¬¢ç”¨Pythonå†™ä»£ç "</span>, category=<span class="hljs-string">"preference"</span>, priority=<span class="hljs-number">8.0</span>)
memory.add(<span class="hljs-string">"å¤„ç†é‚®ä»¶éœ€è¦æ³¨æ„æ ¼å¼ç¾è§‚"</span>, category=<span class="hljs-string">"rule"</span>, priority=<span class="hljs-number">9.0</span>)
memory.add(<span class="hljs-string">"æ•°æ®åˆ†æéœ€è¦pandasåº“"</span>, category=<span class="hljs-string">"tech_note"</span>, priority=<span class="hljs-number">6.0</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ·»åŠ æˆåŠŸ"</span>)

<span class="hljs-comment"># æµ‹è¯•è¯­ä¹‰æœç´¢</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æµ‹è¯•è¯­ä¹‰æœç´¢..."</span>)
results = memory.search(<span class="hljs-string">"æ€ä¹ˆå†™ä»£ç "</span>, use_semantic=<span class="hljs-literal">True</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¾åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span> æ¡ç›¸å…³è®°å¿†:"</span>)
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - [<span class="hljs-subst">{r[<span class="hljs-string">'category'</span>]}</span>] ç›¸ä¼¼åº¦:<span class="hljs-subst">{r[<span class="hljs-string">'similarity'</span>]}</span> <span class="hljs-subst">{r[<span class="hljs-string">'content'</span>][:<span class="hljs-number">30</span>]}</span>..."</span>)

<span class="hljs-comment"># æµ‹è¯•ä¸Šä¸‹æ–‡è·å–</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ’­ æµ‹è¯•ä¸Šä¸‹æ–‡è·å–..."</span>)
context = memory.get_context(<span class="hljs-string">"æˆ‘æƒ³å­¦ä¹ ç¼–ç¨‹"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸Šä¸‹æ–‡:\n<span class="hljs-subst">{context}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-13">å››ã€å®‰è£…ä¸ä½¿ç”¨æŒ‡å—</h3>
<h4 data-id="heading-14">4.1 å®‰è£…æ­¥éª¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…ä¾èµ–</span>
pip3 install sentence-transformers apscheduler

<span class="hljs-comment"># 2. åˆ›å»ºç›®å½•ç»“æ„</span>
<span class="hljs-built_in">cd</span> nanobot/agent
<span class="hljs-built_in">mkdir</span> -p memory
<span class="hljs-built_in">mv</span> memory.py memory/store.py  <span class="hljs-comment"># ç§»åŠ¨åŸæœ‰æ–‡ä»¶</span>

<span class="hljs-comment"># 3. åˆ›å»º __init__.py å’Œ vector_store.py</span>
<span class="hljs-comment"># ï¼ˆå¤åˆ¶ä¸Šé¢çš„å®Œæ•´ä»£ç ï¼‰</span>

<span class="hljs-comment"># 4. æ›´æ–°å¯¼å…¥</span>
<span class="hljs-comment"># ä¿®æ”¹ context.py: </span>
<span class="hljs-comment"># from nanobot.agent.memory import EnhancedMemoryStore</span>
</code></pre>
<h4 data-id="heading-15">4.2 å¿«é€Ÿå¼€å§‹ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> nanobot.agent.memory <span class="hljs-keyword">import</span> EnhancedMemoryStore

<span class="hljs-comment"># åˆå§‹åŒ–</span>
workspace = Path(<span class="hljs-string">"/path/to/workspace"</span>)
memory = EnhancedMemoryStore(workspace)

<span class="hljs-comment"># æ·»åŠ è®°å¿†ï¼ˆè‡ªåŠ¨ç”Ÿæˆå‘é‡åµŒå…¥ï¼‰</span>
memory.add(
    <span class="hljs-string">"é‚®ä»¶å‘é€è¦æ³¨æ„HTMLæ ¼å¼ç¾è§‚"</span>,
    category=<span class="hljs-string">"core_rule"</span>,
    priority=<span class="hljs-number">9.0</span>  <span class="hljs-comment"># é«˜ä¼˜å…ˆçº§ï¼Œé•¿ä¹…ä¿å­˜</span>
)

<span class="hljs-comment"># è¯­ä¹‰æœç´¢ï¼ˆ"æ€ä¹ˆå‘é‚®ä»¶"ä¹Ÿèƒ½æ‰¾åˆ°ä¸Šé¢çš„è®°å¿†ï¼‰</span>
results = memory.search(<span class="hljs-string">"å¦‚ä½•å‘é‚®ä»¶"</span>, use_semantic=<span class="hljs-literal">True</span>)
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{r[<span class="hljs-string">'category'</span>]}</span>] ç›¸ä¼¼åº¦:<span class="hljs-subst">{r[<span class="hljs-string">'similarity'</span>]}</span> <span class="hljs-subst">{r[<span class="hljs-string">'content'</span>]}</span>"</span>)

<span class="hljs-comment"># è·å–å¯¹è¯ä¸Šä¸‹æ–‡</span>
context = memory.get_context(<span class="hljs-string">"ç”¨æˆ·é—®å…³äºé‚®ä»¶çš„é—®é¢˜"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-16">äº”ã€é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-17">å¸¸è§é—®é¢˜è§£å†³</h4>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>ImportError: cannot import name 'EnhancedMemoryStore'</code></td><td>ç›®å½•ç»“æ„é”™è¯¯ï¼Œmemory.py æœªæ”¹ä¸ºåŒ…</td><td>ç¡®ä¿æ˜¯ <code>memory/</code> ç›®å½•ï¼Œä¸æ˜¯å•æ–‡ä»¶</td></tr><tr><td><code>ç¼ºå°‘ sentence-transformers</code></td><td>æœªå®‰è£…ä¾èµ–</td><td>è¿è¡Œ <code>pip install sentence-transformers</code></td></tr><tr><td><code>æ¨¡å‹åŠ è½½æ…¢</code></td><td>é¦–æ¬¡ä¸‹è½½ 80MB æ¨¡å‹</td><td>ç­‰å¾…2-3åˆ†é’Ÿï¼Œæˆ–é¢„å…ˆä¸‹è½½æ¨¡å‹</td></tr><tr><td><code>æ•°æ®åº“æƒé™é”™è¯¯</code></td><td>SQLite æ–‡ä»¶è¢«å ç”¨</td><td>å…³é—­å…¶ä»–è¿›ç¨‹ï¼Œæˆ–æ›´æ”¹æ•°æ®åº“è·¯å¾„</td></tr><tr><td><code>ç›¸ä¼¼åº¦è®¡ç®—ä¸ºç©º</code></td><td>å‘é‡ç»´åº¦ä¸åŒ¹é…</td><td>ç¡®ä¿æ¨¡å‹åç§°ä¸€è‡´ï¼Œé‡æ–°åˆå§‹åŒ–</td></tr></tbody></table>
<h4 data-id="heading-18">æ¨¡å‹é€‰æ‹©å»ºè®®</h4>





























<table><thead><tr><th>æ¨¡å‹</th><th>å¤§å°</th><th>é€Ÿåº¦</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>all-MiniLM-L6-v2</code></td><td>80MB</td><td>å¿«</td><td>é»˜è®¤æ¨èï¼Œè½»é‡çº§</td></tr><tr><td><code>paraphrase-multilingual-MiniLM-L12-v2</code></td><td>120MB</td><td>ä¸­</td><td>å¤šè¯­è¨€æ”¯æŒ</td></tr><tr><td><code>all-mpnet-base-v2</code></td><td>420MB</td><td>æ…¢</td><td>æ›´é«˜ç²¾åº¦ï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-19">å…­ã€å‡çº§æ•ˆæœ</h3>
<h4 data-id="heading-20">å¯¹æ¯”æµ‹è¯•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æµ‹è¯•æŸ¥è¯¢: "æ€ä¹ˆå¤„ç†é‚®ä»¶"</span>

<span class="hljs-comment"># åŸç‰ˆï¼ˆå…³é”®è¯åŒ¹é…ï¼‰</span>
ç»“æœ: []  <span class="hljs-comment"># æ‰¾ä¸åˆ°ï¼Œå› ä¸ºæ²¡æœ‰å®Œå…¨ä¸€æ ·çš„è¯</span>

<span class="hljs-comment"># æ–°ç‰ˆï¼ˆè¯­ä¹‰æ£€ç´¢ï¼‰</span>
ç»“æœ: [
    {content: <span class="hljs-string">"é‚®ä»¶å‘é€è¦æ³¨æ„HTMLæ ¼å¼ç¾è§‚"</span>, similarity: <span class="hljs-number">0.82</span>}
]
</code></pre>
<h4 data-id="heading-21">æ€§èƒ½æŒ‡æ ‡</h4>
<ul>
<li>è®°å¿†æ£€ç´¢é€Ÿåº¦ï¼š&lt; 100msï¼ˆåƒçº§è®°å¿†ï¼‰</li>
<li>å­˜å‚¨ç©ºé—´ï¼šæ¯æ¡è®°å¿†çº¦1KBï¼ˆå‹ç¼©åï¼‰</li>
<li>è‡ªåŠ¨ä¼˜åŒ–ï¼šæ¯10æ¬¡æ“ä½œè§¦å‘ï¼Œé›¶å¼€é”€</li>
</ul>
<hr/>
<h3 data-id="heading-22">ä¸ƒã€æ€»ç»“</h3>
<p>é€šè¿‡æœ¬æ¬¡å‡çº§ï¼ŒNanoBot è·å¾—äº†ï¼š</p>
<ol>
<li>ğŸ§  <strong>è¯­ä¹‰ç†è§£</strong> - çœŸæ­£ç†è§£ç”¨æˆ·æ„å›¾</li>
<li>ğŸ”„ <strong>è‡ªåŠ¨ä¼˜åŒ–</strong> - æ— éœ€æ‰‹åŠ¨ç»´æŠ¤</li>
<li>ğŸ’¾ <strong>é•¿ä¹…ä¿å­˜</strong> - é«˜ä»·å€¼è®°å¿†ä¸ä¸¢å¤±</li>
<li>ğŸŒ <strong>è½»é‡æ— è´Ÿæ‹…</strong> - ä»…å¢åŠ 2ä¸ªä¾èµ–</li>
</ol>
<p>å¿«æ¥å°è¯•å‡çº§ä½ çš„ NanoBot å§ï¼ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[skills-lc-cliï¼š3 å¤©åšå‡ºæ¥çš„ä¸€ä¸ªå°å·¥å…·ï¼Œç»“æœè‡ªå·±æ¯å¤©éƒ½åœ¨ç”¨]]></title>    <link>https://juejin.cn/post/7605882792144764991</link>    <guid>https://juejin.cn/post/7605882792144764991</guid>    <pubDate>2026-02-13T06:36:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605882792144764991" data-draft-id="7605941424536469558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="skills-lc-cliï¼š3 å¤©åšå‡ºæ¥çš„ä¸€ä¸ªå°å·¥å…·ï¼Œç»“æœè‡ªå·±æ¯å¤©éƒ½åœ¨ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:36:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HBLOG"/> <meta itemprop="url" content="https://juejin.cn/user/131597124767479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            skills-lc-cliï¼š3 å¤©åšå‡ºæ¥çš„ä¸€ä¸ªå°å·¥å…·ï¼Œç»“æœè‡ªå·±æ¯å¤©éƒ½åœ¨ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/131597124767479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HBLOG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:36:31.000Z" title="Fri Feb 13 2026 06:36:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€å¼€å§‹åš <strong>skills-lc-cli</strong>ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå®å¤§çš„è®¡åˆ’ã€‚</p>
<p>è¯´ç™½äº†ï¼Œå°±æ˜¯è¢«è‡ªå·±æŠ˜è…¾çƒ¦äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fadmin.liuhaihua.cn%2Fwp-content%2Fuploads%2F2026%2F02%2Fimage-5.png" target="_blank" title="https://admin.liuhaihua.cn/wp-content/uploads/2026/02/image-5.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc13f69bc5ae47d4b0f96370b07dd93c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSEJMT0c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569391&amp;x-signature=qvwjjmJb1U6vHxyrMWURiPmE0es%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ï¼šé—®é¢˜ä¸æ˜¯â€œæ¨¡å‹ä¸å¤Ÿèªæ˜â€</h2>
<p>å½“æ—¶æˆ‘åœ¨ç»´æŠ¤ skills.lcï¼Œä¹Ÿåœ¨åŒæ—¶ç”¨å‡ å¥— AI Agent ç¯å¢ƒã€‚é—®é¢˜å¾ˆä¸€è‡´ï¼š</p>
<ul>
<li>skills.lc ä¸Šæœ‰è¶Šæ¥è¶Šå¤š Skills</li>
<li>æˆ‘æƒ³ç”¨ï¼Œä½†æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨ cloneã€å¤åˆ¶ã€æ”¾ç›®å½•</li>
<li>ä¸åŒ Agent çš„æŠ€èƒ½ç›®å½•è¿˜ä¸ä¸€æ ·</li>
</ul>
<p>æœ€è¦å‘½çš„æ˜¯ï¼š<br/>
<strong>è¿™ä»¶äº‹æœ¬èº«ä¸å¤æ‚ï¼Œä½†æ¯å¤©éƒ½åœ¨é‡å¤ã€‚</strong></p>
<p>æˆ‘æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>Skills å·²ç»æ˜¯ä¸€ä¸ªç‹¬ç«‹èµ„äº§äº†ï¼Œä½†ç¼ºä¸€ä¸ªæœ€åŸºæœ¬çš„â€œå®‰è£…å·¥å…·â€ã€‚</p>
</blockquote>
<p>ä¸æ˜¯å¹³å°ã€ä¸æ˜¯ UIï¼Œå°±æ˜¯ä¸€ä¸ª CLIã€‚</p>
<h2 data-id="heading-1">äºŒã€3 å¤©å¼€å‘ï¼šç›®æ ‡éå¸¸å…‹åˆ¶</h2>
<p>æˆ‘ç»™è‡ªå·±å®šäº†ä¸€ä¸ªç¡¬é™åˆ¶ï¼š<br/>
<strong>3 å¤©åšå®Œï¼Œä¸æ‰©éœ€æ±‚ã€‚</strong></p>
<h3 data-id="heading-2">ç¬¬ 1 å¤©ï¼šåªè§£å†³ä¸€ä»¶äº‹</h3>
<p>ç¬¬ä¸€å¤©æˆ‘åªæƒ³æ¸…æ¥šä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>èƒ½ä¸èƒ½ç”¨ä¸€æ¡å‘½ä»¤ï¼ŒæŠŠ skills.lc ä¸Šçš„æŠ€èƒ½è£…åˆ°æœ¬åœ°ï¼Ÿ</p>
</blockquote>
<p>äºæ˜¯ç¬¬ä¸€ä¸ªåŸå‹åªæœ‰ä¸€ä¸ªå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">skills <span class="hljs-keyword">add</span> &lt;repo&gt;
</code></pre>
<p>ä¸å…³å¿ƒ UIï¼Œä¸å…³å¿ƒé…ç½®ï¼Œ<br/>
åªå…³å¿ƒä¸‰æ­¥ï¼š</p>
<ol>
<li>æ‹‰ä»£ç </li>
<li>æ‰¾ <code>SKILL.md</code></li>
<li>æ”¾åˆ° agent èƒ½è¯†åˆ«çš„ç›®å½•é‡Œ</li>
</ol>
<h3 data-id="heading-3">ç¬¬ 2 å¤©ï¼šå‘ç°â€œæ‰¾æŠ€èƒ½â€æ‰æ˜¯åˆšéœ€</h3>
<p>å†™å®Œ <code>add</code> ä¹‹åï¼Œæˆ‘è‡ªå·±ç”¨äº†ä¸€ä¸‹ï¼Œå¾ˆå¿«å‘ç°ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>æˆ‘è®°ä¸ä½ skill åå­—ã€‚</p>
</blockquote>
<p>skills.lc ä¸Šçš„æŠ€èƒ½å¤šäº†ä¹‹åï¼Œ<br/>
<strong>ä½ çœŸæ­£éœ€è¦çš„ä¸æ˜¯å®‰è£…ï¼Œè€Œæ˜¯â€œå…ˆæ‰¾åˆ°â€ã€‚</strong></p>
<p>äºæ˜¯ç¬¬äºŒå¤©åŠ äº† <code>search</code> å‘½ä»¤ã€‚</p>
<h3 data-id="heading-4">ç¬¬ 3 å¤©ï¼šæ‰“ç£¨æˆâ€œè‡ªå·±ç”¨å¾—ä¸‹å»â€çš„çŠ¶æ€</h3>
<p>ç¬¬ä¸‰å¤©æ²¡æœ‰åŠ æ–°åŠŸèƒ½ï¼Œä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>é”™è¯¯ä¿¡æ¯å†™æ¸…æ¥š</li>
<li>å‚æ•°åˆ«å¤ªå¤š</li>
<li>ä¸è¦æâ€œæ™ºèƒ½çŒœæµ‹â€</li>
</ul>
<p>skills-lc-cli åˆ°ç°åœ¨çš„å½¢æ€ï¼ŒåŸºæœ¬å°±æ˜¯é‚£ä¸‰å¤©å®šä¸‹æ¥çš„ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€å®‰è£…æ–¹å¼ï¼ˆå°½é‡ä¸æŠ˜è…¾ï¼‰</h2>
<p>æˆ‘è‡ªå·±ç”¨ CLI çš„ä¹ æƒ¯æ˜¯ï¼š<br/>
<strong>èƒ½ npx å°± npxï¼Œèƒ½å°‘ä¸€æ­¥å°±å°‘ä¸€æ­¥ã€‚</strong></p>
<h3 data-id="heading-6">å…¨å±€å®‰è£…</h3>
<pre><code class="hljs language-perl" lang="perl">npm install -g skills-<span class="hljs-keyword">lc</span>-cli
</code></pre>
<h3 data-id="heading-7">æˆ–ç›´æ¥ä½¿ç”¨</h3>
<pre><code class="hljs language-perl" lang="perl">npx skills-<span class="hljs-keyword">lc</span>-cli
</code></pre>
<p>CLI æœ¬èº«æ²¡æœ‰çŠ¶æ€ï¼Œä¸ä¾èµ–åå°æœåŠ¡ï¼Œç”¨å®Œå°±èµ°ã€‚</p>
<h2 data-id="heading-8">å››ã€æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå‘½ä»¤ï¼šsearch + add</h2>
<h3 data-id="heading-9">1ï¸âƒ£ searchï¼šå…ˆæ‰¾åˆ°ä½ è¦çš„ Skill</h3>
<pre><code class="hljs language-sql" lang="sql">skills <span class="hljs-keyword">search</span> git
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤åšçš„äº‹æƒ…å¾ˆç®€å•ï¼š</p>
<ul>
<li>ä» skills.lc æ‹‰å–æœ€æ–°ç´¢å¼•</li>
<li>æ ¹æ®å…³é”®è¯ç­›é€‰</li>
<li>åªå±•ç¤ºæœ‰ç”¨ä¿¡æ¯ï¼ˆname / descriptionï¼‰</li>
</ul>
<p>æˆ‘åˆ»æ„æ²¡åŠ å¤æ‚æ’åºï¼Œä¹Ÿæ²¡åšæ¨èç®—æ³•ã€‚<br/>
<strong>å› ä¸º search çš„ç›®çš„åªæ˜¯å¸®ä½ â€œå®šä½â€ï¼Œä¸æ˜¯æ›¿ä½ åšå†³å®šã€‚</strong></p>
<h3 data-id="heading-10">2ï¸âƒ£ addï¼šä¸€æ¡å‘½ä»¤å®Œæˆå®‰è£…</h3>
<p>æ‰¾åˆ°åˆé€‚çš„ Skill ä¹‹åï¼Œç›´æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">skills add author/skill-name
</code></pre>
<p>å®ƒæ”¯æŒå‡ ç§å¸¸è§å†™æ³•ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">skills <span class="hljs-keyword">add</span> vercel-labs/agent-skills
skills <span class="hljs-keyword">add</span> https:<span class="hljs-comment">//github.com/vercel-labs/agent-skills</span>
skills <span class="hljs-keyword">add</span> ./local-skills
</code></pre>
<p>add å‘½ä»¤ä¼šï¼š</p>
<ol>
<li>ä¸‹è½½ Skill</li>
<li>æ ¡éªŒ <code>SKILL.md</code></li>
<li>å®‰è£…åˆ°å½“å‰ agent å¯è¯†åˆ«çš„ä½ç½®</li>
</ol>
<p>æ²¡æœ‰éšè—æ­¥éª¤ï¼Œä¹Ÿä¸ä¼šå·å·æ”¹ä½ é…ç½®ã€‚</p>
<h2 data-id="heading-11">äº”ã€ä¸ºä»€ä¹ˆè¦å’Œ skills.lc é…åˆç”¨</h2>
<p>å•ç‹¬çœ‹ skills-lc-cliï¼Œå…¶å®å°±æ˜¯ä¸ªæ™®é€š CLIã€‚</p>
<p>ä½†å®ƒçœŸæ­£çš„ä»·å€¼ï¼Œæ¥è‡ª <strong>å’Œ skills.lc æ­åœ¨ä¸€èµ·ç”¨</strong>ã€‚</p>
<ul>
<li>skills.lc è´Ÿè´£ <strong>å‘ç°</strong></li>
<li>skills-lc-cli è´Ÿè´£ <strong>è½åœ°</strong></li>
</ul>
<p>ä½ åœ¨ç½‘é¡µä¸Šçœ‹åˆ°ä¸€ä¸ª Skillï¼Œ<br/>
ä¸‹ä¸€æ­¥ä¸æ˜¯å¤åˆ¶é“¾æ¥ã€cloneã€æ•´ç†ç›®å½•ï¼Œ<br/>
è€Œæ˜¯ä¸€æ¡å‘½ä»¤ã€‚</p>
<p>è¿™ä»¶äº‹ä¸€æ—¦é¡ºäº†ï¼Œä½ å°±ä¸æƒ³å›åˆ°æ‰‹åŠ¨æ“ä½œäº†ã€‚</p>
<h2 data-id="heading-12">å…­ã€æˆ‘åˆ»æ„æ²¡åšçš„äº‹æƒ…</h2>
<p>æœ‰äº›ä¸œè¥¿ä¸æ˜¯ä¸ä¼šåšï¼Œæ˜¯åˆ»æ„ä¸åšï¼š</p>
<ul>
<li>âŒ è‡ªåŠ¨ä¿®æ”¹ agent é…ç½®</li>
<li>âŒ æ™ºèƒ½è¡¥å…¨ Skill è¡Œä¸º</li>
<li>âŒ å¸®ç”¨æˆ·â€œçŒœâ€è¦ä»€ä¹ˆ</li>
</ul>
<p>skills-lc-cli çš„å®šä½å¾ˆæ¸…æ¥šï¼š<br/>
<strong>å®ƒæ˜¯å·¥å…·ï¼Œä¸æ˜¯åŠ©ç†ã€‚</strong></p>
<h2 data-id="heading-13">ç»“å°¾</h2>
<p>skills-lc-cli æ˜¯ä¸€ä¸ªå…¸å‹çš„â€œå·¥ç¨‹å¸ˆè‡ªç”¨å·¥å…·â€ã€‚</p>
<p>å®ƒä¸æ˜¯ä»éœ€æ±‚æ–‡æ¡£é‡Œé•¿å‡ºæ¥çš„ï¼Œ<br/>
è€Œæ˜¯ä»ã€Œè¿™äº‹æˆ‘å·²ç»å¹²çƒ¦äº†ã€é‡Œé•¿å‡ºæ¥çš„ã€‚</p>
<p>å®˜æ–¹ä»‹ç»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.lc%2Fcli" target="_blank" title="https://skills.lc/cli" ref="nofollow noopener noreferrer">skills.lc/cli</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mokupï¼šæ„å»ºå·¥å…·å‹å¥½çš„å¯è§†åŒ– Mock å·¥å…·]]></title>    <link>https://juejin.cn/post/7605881632541196339</link>    <guid>https://juejin.cn/post/7605881632541196339</guid>    <pubDate>2026-02-13T06:40:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605881632541196339" data-draft-id="7605888927714689062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mokupï¼šæ„å»ºå·¥å…·å‹å¥½çš„å¯è§†åŒ– Mock å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:40:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="icebreaker"/> <meta itemprop="url" content="https://juejin.cn/user/1943592290496919"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mokupï¼šæ„å»ºå·¥å…·å‹å¥½çš„å¯è§†åŒ– Mock å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592290496919/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    icebreaker
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:40:21.000Z" title="Fri Feb 13 2026 06:40:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef42b41d22b846539116ab5b1e620293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWNlYnJlYWtlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569620&amp;x-signature=2pKJ4xtq6%2BsLcJBm0xg5g%2FptG58%3D" alt="devio-cover.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">Mokupï¼šæ„å»ºå·¥å…·å‹å¥½çš„å¯è§†åŒ– Mock å·¥å…·</h2>
<p>å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsonofmagic" target="_blank" title="https://github.com/sonofmagic" ref="nofollow noopener noreferrer">icebreaker</a>ï¼Œä¸€åå‰ç«¯å¼€å‘è€…å…¼å¼€æºçˆ±å¥½è€…ã€‚</p>
<p>é©¬ä¸Šå°±è¿‡å¹´äº†ï¼Œåœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¶é—´ç‚¹ï¼Œæˆ‘å…ˆç¥å¤§å®¶ï¼šæ–°å¹´å¿«ä¹ï¼èº«ä½“å¥åº·ï¼å·¥ä½œé¡ºåˆ©ï¼æ¥å¹´å‘å¤§è´¢ï¼</p>
<hr/>
<p>å½“ç„¶ï¼Œå›å½’æ­£é¢˜ï¼Œè¿™é‡Œä¹Ÿå‘å¤§å®¶ä»‹ç»ä¸€ä¸‹æˆ‘æœ€è¿‘åšçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š<code>Mokup</code>ï¼Œä¸€ä¸ªåŸºäºæ–‡ä»¶è·¯ç”±çš„ HTTP Mock å·¥å…·ã€‚</p>
<p>æˆ‘åšè¿™ä¸ªå½“æ—¶çš„ç›®çš„ï¼Œä¸»è¦æ˜¯ç»™æˆ‘å›¢é˜Ÿé‡Œçš„åŒå­¦ç”¨çš„ï¼Œæƒ³è®©å¤§å®¶æœ€ä½æˆæœ¬åœ°åœ¨ç°æœ‰å‰ç«¯å·¥ç¨‹é‡Œæ¥å…¥æœåŠ¡ç«¯çš„èƒ½åŠ›ï¼Œè®©å¤§å®¶å¾ªåºæ¸è¿›çš„æˆä¸ºå…¨æ ˆï¼Œè¿™æ ·æ‰èƒ½åœ¨AIæ—¶ä»£ç«‹è¶³ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsonofmagic%2Fmokup" target="_blank" title="https://github.com/sonofmagic/mokup" ref="nofollow noopener noreferrer">GitHub</a> , <a href="https://link.juejin.cn?target=http%3A%2F%2Fmokup.icebreaker.top%2F" target="_blank" title="http://mokup.icebreaker.top/" ref="nofollow noopener noreferrer">å®˜ç½‘ä¸æ–‡æ¡£</a></p>
<h3 data-id="heading-1">Mokup æ˜¯ä»€ä¹ˆ</h3>
<p>Mokup æ˜¯ä¸€ä¸ªåŸºäºæ–‡ä»¶è·¯ç”±çš„ HTTP Mock å·¥å…·ã€‚ä½ æŠŠ mock æ–‡ä»¶æ”¾åœ¨ <code>mock/</code> ç›®å½•é‡Œï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆå¯åŒ¹é…çš„è·¯ç”±å¹¶æä¾›å“åº”ã€‚</p>
<p>å®ƒçš„ç›®æ ‡å¾ˆç›´æ¥ï¼šè®© mock åœ¨ä½ å·²æœ‰çš„å‰ç«¯å·¥ç¨‹é‡Œå°½å¿«è·‘èµ·æ¥ï¼Œå‡å°‘â€œä¸ºäº†è”è°ƒå†é€ ä¸€å¥—æœåŠ¡â€çš„æˆæœ¬ã€‚</p>
<h3 data-id="heading-2">æœ‰ä»€ä¹ˆç‰¹æ€§</h3>
<ul>
<li>æ„å»ºå·¥å…·å‹å¥½ï¼šVite / Webpack éƒ½èƒ½å¿«é€Ÿçš„æ¥å…¥ï¼Œæ¥å…¥æˆæœ¬æä½ã€‚</li>
<li>å¯è§†åŒ–ï¼šå†…ç½® Playgroundï¼Œè·¯ç”±æ˜¯å¦ç”Ÿæ•ˆä¸€çœ¼å¯è§ã€‚</li>
<li>å¼€å‘ä½“éªŒå¥½ï¼šmock æ–‡ä»¶å’Œç›®å½•é…ç½®æ”¹å®Œå°±åˆ·æ–°ï¼Œä¸ç”¨é¢‘ç¹é‡å¯ã€‚</li>
<li>èƒ½éƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒï¼šæœ¬åœ°å¼€å‘ã€Node æœåŠ¡ç«¯ã€Workerã€Service Worker éƒ½å¯ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆè¦åšå®ƒ</h3>
<p>è¿™ä¸ªå®é™…ä¸Šä¹Ÿå’Œæˆ‘è‡ªå·±åœ¨æˆ‘è‡ªå·±çš„ç¾¤é‡Œï¼Œè¿˜æœ‰å…¬å¸é‡Œçš„é¡¹ç›®ç»„æœé›†ç—›ç‚¹æœ‰å…³ï¼Œé‚£å°±æ˜¯ï¼Œå¾ˆå¤šå›¢é˜Ÿçš„ç—›ç‚¹ä¸æ˜¯â€œä¸ä¼šå†™ mockâ€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>æ¥å…¥æ­¥éª¤å¤šï¼Œæ¢ä¸ªæ„å»ºå·¥å…·å°±è¦é‡é…ä¸€æ¬¡ã€‚</li>
<li>æœ¬åœ°æ’æŸ¥æ—¶çœ‹ä¸åˆ°å…¨å±€è·¯ç”±çŠ¶æ€ï¼Œåªèƒ½ç¿»æ–‡ä»¶çŒœã€‚</li>
<li>æ¯æ”¹ä¸€ä¸ª mock éƒ½è¦é‡å¯æˆ–æ‰‹åŠ¨éªŒè¯ï¼Œåé¦ˆæ…¢ã€‚</li>
</ul>
<p>Mokup å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸‰ä¸ªé—®é¢˜ï¼šæ¥å…¥æ›´è½»ã€å¯è§†åŒ–æ›´å¼ºã€å¼€å‘åé¦ˆæ›´å¿«ã€‚</p>
<h3 data-id="heading-4">æ„å»ºå·¥å…·å‹å¥½</h3>
<h4 data-id="heading-5">Vite æ¥å…¥</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> mokup <span class="hljs-keyword">from</span> <span class="hljs-string">'mokup/vite'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">mokup</span>({
      <span class="hljs-attr">entries</span>: { <span class="hljs-attr">dir</span>: <span class="hljs-string">'mock'</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'/api'</span> },
    }),
  ],
}
</code></pre>
<p>ç„¶åè¿™æ—¶å€™ ä½ å°±å¯ä»¥åœ¨ <code>mock/</code> ç›®å½•é‡Œæ”¾ mock æ–‡ä»¶äº†ï¼ŒMokup ä¼šè‡ªåŠ¨æ‰«æå¹¶ç”Ÿæˆå¯¹åº”çš„è·¯ç”±ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„ CLI ä¸­å¿«é€Ÿè®¿é—® mokup çš„ playground è¿›è¡Œå¯è§†åŒ–è°ƒè¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/740566f7d99d497696aa462b4ac5a71a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWNlYnJlYWtlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569620&amp;x-signature=y97aMYKiXuBMKQ9yRb4pqOBMRjE%3D" alt="cli.png" loading="lazy"/></p>
<h4 data-id="heading-6">Webpack æ¥å…¥</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { mokupWebpack } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mokup/webpack'</span>)

<span class="hljs-keyword">const</span> withMokup = <span class="hljs-title function_">mokupWebpack</span>({
  <span class="hljs-attr">entries</span>: { <span class="hljs-attr">dir</span>: <span class="hljs-string">'mock'</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'/api'</span> },
})

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">withMokup</span>({})
</code></pre>
<p>ä½ å¯ä»¥åœ¨ä¸æ”¹åŠ¨ä¸šåŠ¡ä»£ç ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒæŠŠ mock èƒ½åŠ›æŒ‚åˆ°ç°æœ‰æ„å»ºæµç¨‹é‡Œã€‚</p>
<h3 data-id="heading-7">å¯è§†åŒ–ï¼šPlaygroundï¼ˆé‡ç‚¹ï¼‰</h3>
<p>Mokup å†…ç½® Playgroundï¼Œç”¨æ¥æŸ¥çœ‹å½“å‰è¢«æ‰«æåˆ°çš„è·¯ç”±ã€æ–¹æ³•ã€è·¯å¾„å’Œé…ç½®é“¾ã€‚</p>
<p>Vite å¼€å‘æ—¶é»˜è®¤å…¥å£ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">http://localhost:5173/__mokup
</code></pre>
<p>åœ¨çº¿ä½“éªŒ Demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmokup.icebreaker.top%2F__mokup%2F" target="_blank" title="https://mokup.icebreaker.top/__mokup/" ref="nofollow noopener noreferrer">mokup.icebreaker.top/__mokup/</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0181e00ca080401dbc9d73b766a94a37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWNlYnJlYWtlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569620&amp;x-signature=ExqF0uPXTXahturuyDRQway7SlM%3D" alt="playground.png" loading="lazy"/></p>
<p>å®ƒè§£å†³çš„æ˜¯ä¸€ä¸ªéå¸¸å®é™…çš„é—®é¢˜ï¼š
æ¥å£ä¸ç”Ÿæ•ˆæ—¶ï¼Œä½ ä¸ç”¨åˆ°å¤„å»æ‰¾é—®é¢˜ï¼Œåªè¦æ‰“å¼€é¡µé¢å°±èƒ½çœ‹åˆ°â€œæœ‰æ²¡æœ‰è¢«æ‰«åˆ°ã€æœ‰æ²¡æœ‰è¢«ç¦ç”¨ã€åŒ¹é…åˆ°äº†ä»€ä¹ˆé…ç½®â€ã€‚</p>
<h3 data-id="heading-8">å¼€å‘ä½“éªŒï¼šå“ªäº›æ–‡ä»¶ä¼šçƒ­æ›´æ–°</h3>
<p>åœ¨ Vite dev ä¸‹ï¼ŒMokup ä¼šç›‘å¬ mock ç›®å½•å˜åŒ–å¹¶è‡ªåŠ¨åˆ·æ–°è·¯ç”±è¡¨ã€‚å¸¸è§ä¼šè§¦å‘çƒ­æ›´æ–°çš„æ”¹åŠ¨åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ–°å¢/ä¿®æ”¹/åˆ é™¤ mock è·¯ç”±æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š
<ul>
<li><code>mock/users.get.ts</code></li>
<li><code>mock/messages.get.json</code></li>
<li><code>mock/orders/[id].patch.ts</code></li>
</ul>
</li>
<li>ä¿®æ”¹ç›®å½•é…ç½®æ–‡ä»¶ï¼š<code>mock/**/index.config.ts</code></li>
<li>è°ƒæ•´ç›®å½•ç»“æ„ï¼ˆç§»åŠ¨ã€é‡å‘½åã€åˆ›å»ºå­ç›®å½•ï¼‰</li>
</ul>
<p>æ”¹å®Œå Playground ä¼šè‡ªåŠ¨åˆ·æ–°è·¯ç”±åˆ—è¡¨ï¼Œè°ƒè¯•é“¾è·¯æ›´çŸ­ã€‚</p>
<blockquote>
<p>å¦‚æœä½ ä¸éœ€è¦ç›‘å¬ï¼Œå¯ä»¥åœ¨ <code>entries</code> é‡Œé…ç½® <code>watch: false</code>ã€‚</p>
</blockquote>
<h3 data-id="heading-9">å¿«é€Ÿç¤ºä¾‹ï¼šä»å†™æ–‡ä»¶åˆ°çœ‹åˆ°ç»“æœ</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// mock/users.get.ts</span>
<span class="hljs-keyword">import</span> { defineHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'mokup'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineHandler</span>({
  <span class="hljs-attr">handler</span>: <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c.<span class="hljs-title function_">json</span>([{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Ada'</span> }]),
})
</code></pre>
<p>å¯åŠ¨ dev åè®¿é—® <code>/api/users</code> (ä½ è®¾ç½®äº† <code>prefix: '/api'</code> )ï¼Œå³å¯æ‹¿åˆ° mock æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2450a7f1fa43487781e3fcb248a90c70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWNlYnJlYWtlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569620&amp;x-signature=P02tK4VoqpP%2FyNsxCcoDWD1JDqs%3D" alt="mock-dir.png" loading="lazy"/></p>
<h3 data-id="heading-10">å¿«é€Ÿé›†æˆ @faker-js/faker</h3>
<p><code>@faker-js/faker</code> æ˜¯æˆ‘ä»¬é€ å‡æ•°æ®æœ€å¸¸ä½¿ç”¨çš„åº“äº†ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥å¾ˆå¥½çš„å’Œå®ƒé›†æˆ</p>
<p>Mokup çš„ handler æœ¬è´¨ä¸Šå°±æ˜¯ TS/JS å‡½æ•°ï¼Œæ‰€ä»¥èƒ½ç›´æ¥æ¥å…¥ <code>@faker-js/faker</code> è¿™ç±» mock æ•°æ®åº“ï¼Œä¸éœ€è¦é¢å¤–é€‚é…å±‚ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¼šæ ¹æ®æŸ¥è¯¢å‚æ•° <code>size</code> è¿”å›ä¸€ç»„ç”¨æˆ·åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// mock/users.get.ts</span>
<span class="hljs-keyword">import</span> { faker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@faker-js/faker'</span>
<span class="hljs-keyword">import</span> { defineHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'mokup'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineHandler</span>(<span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> size = <span class="hljs-title class_">Number</span>(c.<span class="hljs-property">req</span>.<span class="hljs-title function_">query</span>(<span class="hljs-string">'size'</span>) ?? <span class="hljs-number">10</span>)
  <span class="hljs-keyword">const</span> count = <span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(size) ? <span class="hljs-number">10</span> : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(size, <span class="hljs-number">1</span>), <span class="hljs-number">50</span>)
  <span class="hljs-keyword">const</span> list = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: count }, <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">id</span>: faker.<span class="hljs-property">string</span>.<span class="hljs-title function_">uuid</span>(),
    <span class="hljs-attr">name</span>: faker.<span class="hljs-property">person</span>.<span class="hljs-title function_">fullName</span>(),
    <span class="hljs-attr">email</span>: faker.<span class="hljs-property">internet</span>.<span class="hljs-title function_">email</span>(),
    <span class="hljs-attr">city</span>: faker.<span class="hljs-property">location</span>.<span class="hljs-title function_">city</span>(),
    <span class="hljs-attr">createdAt</span>: faker.<span class="hljs-property">date</span>.<span class="hljs-title function_">recent</span>({ <span class="hljs-attr">days</span>: <span class="hljs-number">30</span> }).<span class="hljs-title function_">toISOString</span>(),
  }))

  <span class="hljs-keyword">return</span> c.<span class="hljs-title function_">json</span>({
    list,
    <span class="hljs-attr">total</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: count,
  })
})
</code></pre>
<p>è¿™å¯¹åˆ—è¡¨é¡µã€æœç´¢é¡µã€è¯¦æƒ…é¡µè”è°ƒéƒ½å¾ˆå®ç”¨ã€‚
å¦‚æœä½ å¸Œæœ›æµ‹è¯•ç»“æœå¯å¤ç°ï¼Œå¯ä»¥åœ¨ handler é¡¶éƒ¨åŠ ä¸Š <code>faker.seed(123)</code>ã€‚</p>
<h3 data-id="heading-11">å¯éƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒ</h3>
<p>è¿™å¥— mock å¯ä»¥è¿è¡Œåœ¨å¤šä¸ªç¯å¢ƒï¼šæ¯”å¦‚åœ¨ Node.js é‡Œç›´æ¥ä½¿ç”¨ï¼Œç”šè‡³è¿˜èƒ½éƒ¨ç½²åˆ° Cloudflare Workerã€‚</p>
<p>Node.js ç›´æ¥ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { createFetchServer, serve } <span class="hljs-keyword">from</span> <span class="hljs-string">'mokup/server/node'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createFetchServer</span>({ <span class="hljs-attr">entries</span>: { <span class="hljs-attr">dir</span>: <span class="hljs-string">'mock'</span> } })
<span class="hljs-title function_">serve</span>({ <span class="hljs-attr">fetch</span>: app.<span class="hljs-property">fetch</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span> })
</code></pre>
<p>éƒ¨ç½²åˆ° Cloudflare Worker ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { createMokupWorker } <span class="hljs-keyword">from</span> <span class="hljs-string">'mokup/server/worker'</span>
<span class="hljs-keyword">import</span> mokupBundle <span class="hljs-keyword">from</span> <span class="hljs-string">'virtual:mokup-bundle'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">createMokupWorker</span>(mokupBundle)
</code></pre>
<p>æç¤ºï¼š<code>virtual:mokup-bundle</code> ä»…åœ¨ Vite ä¸ <code>@cloudflare/vite-plugin</code> é›†æˆç¯å¢ƒå¯ç”¨ï¼›Node.js Dev æ¨¡å¼å¯ç›´æ¥ä½¿ç”¨ <code>createFetchServer</code>ï¼Œæ— éœ€è¯¥è™šæ‹Ÿæ¨¡å—ã€‚</p>
<h3 data-id="heading-12">æ ¸å¿ƒæ¶æ„</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1ce02c8671643549a167e9f118c371c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWNlYnJlYWtlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569620&amp;x-signature=zAc2GWgLiUg1I748hjmJikx6CDQ%3D" alt="core-zh.jpg" loading="lazy"/></p>
<h3 data-id="heading-13">é€‚ç”¨åœºæ™¯ä¸è¾¹ç•Œ</h3>
<p>é€‚åˆï¼š</p>
<ul>
<li>å·²æœ‰ Vite/webpack å·¥ç¨‹ï¼Œæƒ³ä½æˆæœ¬æ¥å…¥ mock çš„å›¢é˜Ÿ</li>
<li>éœ€è¦å¯è§†åŒ–è·¯ç”±æ’æŸ¥èƒ½åŠ›çš„é¡¹ç›®</li>
<li>é‡è§†å¼€å‘åé¦ˆé€Ÿåº¦ï¼Œå¸Œæœ› mock ä¿®æ”¹åç«‹å³å¯è§çš„åœºæ™¯</li>
</ul>
<p>ä¸å¤ªé€‚åˆï¼š</p>
<ul>
<li>ä¸»è¦ä¾èµ–å¤æ‚åŠ¨æ€ä»£ç†é“¾è·¯çš„åœºæ™¯</li>
<li>å®Œå…¨ä¸å¸Œæœ›å¼•å…¥æ„å»ºæœŸ/æ’ä»¶èƒ½åŠ›çš„æè½»é‡è„šæœ¬æ–¹æ¡ˆ</li>
</ul>
<p>Mokup ä¸æ˜¯ä¸ºäº†æ›¿ä»£æ‰€æœ‰ mock æ–¹æ¡ˆï¼Œè€Œæ˜¯è®© mock æ›´å¿«æ¥å…¥ã€æ›´å¥½è°ƒè¯•ã€æ›´è´´è¿‘æ—¥å¸¸å¼€å‘æµç¨‹ã€‚</p>
<h3 data-id="heading-14">AI å‹å¥½æ€§</h3>
<p>éƒ½å·²ç»åœ¨è¿™ä¸ªæ—¶ä»£äº†ï¼Œæ€ä¹ˆèƒ½ä¸ç”¨ AI å‘¢ï¼Œ Mokup å½“æ—¶è®¾è®¡å°±æ˜¯è€ƒè™‘åˆ° AI æ—¶ä»£çš„å¼€å‘è€…éœ€æ±‚çš„ï¼Œæ‰€ä»¥åœ¨è®¾è®¡ä¸Šä¹Ÿåšäº†ä¸€äº› AI å‹å¥½çš„è€ƒè™‘ï¼Œ</p>
<p>æ¯•ç«Ÿæ—¶ä»£å˜äº†ï¼Œæˆ‘ä»¬ä¹Ÿåƒçººçº±æœºçš„å·¥äººé‚£æ ·ï¼Œæ¢åˆ°äº†è’¸æ±½çººçº±æœºï¼Œæ¯å¤©å¥´å½¹ AI 24å°æ—¶å¸®æˆ‘ä»¬æ‰“å·¥ï¼Œçˆ½æ˜¯çœŸçš„çˆ½ï¼ŒéªŒè¯é—®é¢˜æ•ˆç‡æé«˜ã€‚</p>
<p>è€Œä¸”å¾ˆå¤šå¼€å‘æ˜¯æ‡’å¾—å†™æ–‡æ¡£çš„ï¼Œç°åœ¨æ–‡æ¡£ä»€ä¹ˆå®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œå°±åƒè¿™ç¯‡æ–‡ç« ï¼Œå¤§éƒ¨åˆ†ä¹Ÿæ˜¯ç”±AIç”Ÿæˆçš„ã€‚</p>
<h3 data-id="heading-15">ç»“è¯­</h3>
<p>Mokup ç›®å‰è¿˜åœ¨å¿«é€Ÿè¿­ä»£ä¸­ï¼Œæ¬¢è¿å¤§å®¶è¯•ç”¨å¹¶æåé¦ˆï¼æ— è®ºæ˜¯åŠŸèƒ½éœ€æ±‚ã€ä½¿ç”¨ä½“éªŒè¿˜æ˜¯æ–‡æ¡£æ”¹è¿›éƒ½éå¸¸æ¬¢è¿ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæœ‰ç±»ä¼¼çš„ç—›ç‚¹ï¼Œæˆ–è€…å¯¹ mock å·¥å…·æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼æˆ‘ä»¬ä¸€èµ·è®©å‰ç«¯ mock æ›´å¥½ç”¨ã€æ›´é«˜æ•ˆï¼</p>
<p>æœ‰å¿—åŒé“åˆçš„å°ä¼™ä¼´ï¼Œä¹Ÿå¯ä»¥è®¿é—®æˆ‘çš„ Github ä¸»é¡µè”ç³»æˆ‘ä¸€èµ·äº¤æµï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§†é¢‘ç”Ÿæˆæ¨ç†åŠ é€Ÿå®è·µï¼šåŸºäºå…¨å±€æ—¶é—´ç´¢å¼•çš„åºåˆ—å¹¶è¡Œ 3D ä½ç½®ç¼–ç ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7605888927714787366</link>    <guid>https://juejin.cn/post/7605888927714787366</guid>    <pubDate>2026-02-13T06:48:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605888927714787366" data-draft-id="7605907495770062857" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§†é¢‘ç”Ÿæˆæ¨ç†åŠ é€Ÿå®è·µï¼šåŸºäºå…¨å±€æ—¶é—´ç´¢å¼•çš„åºåˆ—å¹¶è¡Œ 3D ä½ç½®ç¼–ç ä¼˜åŒ–"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T06:48:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“”å“©å“”å“©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3030701626893405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§†é¢‘ç”Ÿæˆæ¨ç†åŠ é€Ÿå®è·µï¼šåŸºäºå…¨å±€æ—¶é—´ç´¢å¼•çš„åºåˆ—å¹¶è¡Œ 3D ä½ç½®ç¼–ç ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3030701626893405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“”å“©å“”å“©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:48:25.000Z" title="Fri Feb 13 2026 06:48:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä¸€ã€Self-Forcingï¼šä» Wan2.1 åˆ°å› æœè§†é¢‘æ¨ç†</strong></h2>
<h3 data-id="heading-1"><strong>Wan2.1ï¼šå…¨å¸§å¹¶è¡Œçš„è§†é¢‘æ‰©æ•£æ¨¡å‹</strong></h3>
<p>Wan2.1 æ˜¯é˜¿é‡Œå·´å·´å›¢é˜Ÿå¼€æºçš„å¤§è§„æ¨¡è§†é¢‘ç”ŸæˆåŸºç¡€æ¨¡å‹ï¼ŒåŸºäºä¸»æµçš„æ‰©æ•£ Transformerï¼ˆDiTï¼‰æ¶æ„ï¼Œå¹¶é‡‡ç”¨ Flow Matching ä½œä¸ºè®­ç»ƒæ¡†æ¶ï¼Œåœ¨å¤šä¸ªè§†é¢‘ç”Ÿæˆè¯„æµ‹åŸºå‡†ä¸Šå±•ç°äº†é¢†å…ˆçš„ç”Ÿæˆè´¨é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b2a07bc97bd4a6b9e90f01cf660a06d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=%2BupYVINenxO97jm%2BR1ydToOmXFA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ¨¡å‹è®¾è®¡ä¸Šï¼ŒWan2.1 é‡‡ç”¨å…¸å‹çš„<strong>å…¨æ—¶ç©ºå¹¶è¡Œå»ºæ¨¡æ€è·¯</strong>ã€‚æ¨¡å‹ä½¿ç”¨ Full Spatio-temporal Attentionï¼Œä½¿å¾—æ‰€æœ‰è§†é¢‘å¸§åœ¨æ—¶é—´å’Œç©ºé—´ç»´åº¦ä¸Šå®Œå…¨äº’ç›¸å¯è§ï¼Œä»è€Œå®ç°åŒå‘çš„ä¿¡æ¯æµåŠ¨ä¸å…¨å±€ä¸€è‡´æ€§å»ºæ¨¡ã€‚è§†é¢‘é¦–å…ˆé€šè¿‡ 3D Causal VAE è¢«å‹ç¼©åˆ° 4Ã—8Ã—8 çš„æ—¶ç©ºæ¯”ä¾‹ï¼Œlatent ç»´åº¦ä¸º 16ï¼Œæ–‡æœ¬ä¾§åˆ™ä½¿ç”¨ umT5 ç¼–ç å™¨ï¼Œå°†ä¸­è‹±æ–‡è¾“å…¥æ˜ å°„ä¸º 512 tokensã€4096 ç»´çš„è¯­ä¹‰è¡¨ç¤ºï¼Œå¹¶é€šè¿‡ Cross-Attention æ³¨å…¥åˆ°ç”Ÿæˆè¿‡ç¨‹ä¸­ã€‚</p>
<p>ä»è§„æ¨¡ä¸Šçœ‹ï¼ŒWan2.1 åŒæ—¶æä¾›äº†é¢å‘æ•ˆç‡å’Œè´¨é‡çš„ä¸åŒç‰ˆæœ¬ï¼š1.3B æ¨¡å‹é‡‡ç”¨ 1536 ç»´éšè—å±‚ã€30 å±‚ Transformer å’Œ 12 ä¸ªæ³¨æ„åŠ›å¤´ï¼Œæ›´é€‚åˆèµ„æºå—é™åœºæ™¯ï¼Œ14B æ¨¡å‹åˆ™æ‰©å±•åˆ° 5120 ç»´éšè—å±‚ã€40 å±‚ Transformer å’Œ 40 ä¸ªæ³¨æ„åŠ›å¤´ï¼Œä»¥è¿½æ±‚æ›´é«˜çš„ç”Ÿæˆä¸Šé™ã€‚</p>
<p>åœ¨æ¨ç†é˜¶æ®µï¼ŒWan2.1 ä¼šä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰è§†é¢‘å¸§ï¼Œé€šè¿‡ 40â€“50 æ­¥å»å™ªè¿­ä»£ç”Ÿæˆå®Œæ•´è§†é¢‘ã€‚è¿™ç§å…¨å¸§å¹¶è¡Œçš„ç”Ÿæˆæ–¹å¼åœ¨ä¸­çŸ­è§†é¢‘åœºæ™¯ä¸­èƒ½å¤Ÿæœ‰æ•ˆä¿è¯æ—¶åºä¸€è‡´æ€§ï¼Œä½†å…¶è®¾è®¡å‡è®¾ä¹Ÿç›´æ¥å†³å®šäº†æ¨¡å‹åœ¨æ›´é•¿è§†é¢‘å’Œå®æ—¶æ¨ç†åœºæ™¯ä¸‹ä¼šé‡åˆ°ä¸å¯å›é¿çš„ç“¶é¢ˆã€‚</p>
<h3 data-id="heading-2"><strong>å…¨å±€æ‰©æ•£æ¨¡å‹åœ¨é•¿è§†é¢‘æ¨ç†ä¸­çš„ç“¶é¢ˆ</strong></h3>
<p>éšç€è§†é¢‘é•¿åº¦çš„å¢åŠ ï¼ŒåŸºäºåŒå‘å…¨æ³¨æ„åŠ›çš„æ‰©æ•£æ¨¡å‹é€æ¸æš´éœ²å‡ºç»“æ„æ€§é—®é¢˜ã€‚é¦–å…ˆæ˜¯æ˜¾å­˜å’Œè®¡ç®—å¤æ‚åº¦çš„å¿«é€Ÿè†¨èƒ€ã€‚è‡ªæ³¨æ„åŠ›çš„å¤æ‚åº¦ä¸º O(NÂ²)ï¼Œå…¶ä¸­ N ä¸º token åºåˆ—é•¿åº¦ã€‚ä»¥ Wan2.1 ç”Ÿæˆ 5 ç§’ã€16 FPSã€832Ã—480 åˆ†è¾¨ç‡è§†é¢‘ä¸ºä¾‹ï¼Œç»è¿‡ VAE å‹ç¼©åä»ç„¶ä¼šå½¢æˆçº¦ 3 ä¸‡çº§åˆ«çš„ token åºåˆ—ï¼Œå½“è§†é¢‘é•¿åº¦ç¿»å€æ—¶ï¼Œæ³¨æ„åŠ›ç›¸å…³çš„æ˜¾å­˜éœ€æ±‚å°†å¢é•¿è‡³åŸæ¥çš„å››å€ï¼Œè¿™ä½¿å¾—å•å¡ç”Ÿæˆæ›´é•¿è§†é¢‘å˜å¾—å›°éš¾ã€‚</p>
<p>å…¶æ¬¡ï¼Œå…¨å±€å¹¶è¡Œæ³¨æ„åŠ›éšå«äº†<strong>å›ºå®šé•¿åº¦å‡è®¾</strong>ã€‚ç”±äºæ‰€æœ‰å¸§å¿…é¡»åŒæ—¶å‚ä¸è®¡ç®—ï¼Œæ¨¡å‹åœ¨è®­ç»ƒé˜¶æ®µé€šå¸¸å°±éœ€è¦è®¾å®šæœ€å¤§å¸§æ•°ï¼Œå½“æ¨ç†é˜¶æ®µå¸Œæœ›ç”Ÿæˆæ›´é•¿çš„è§†é¢‘æ—¶ï¼Œåªèƒ½é€šè¿‡æ»‘åŠ¨çª—å£æˆ–åˆ†æ®µæ‹¼æ¥æ¥å˜é€šå¤„ç†ï¼Œè€Œè¿™å¾€å¾€ä¼šå¸¦æ¥æ˜æ˜¾çš„æ—¶é—´æ¥ç¼å’Œé•¿ç¨‹ä¸€è‡´æ€§é€€åŒ–ï¼Œæ¨¡å‹æœ¬èº«å¹¶ä¸å…·å¤‡è‡ªç„¶å‘æ›´é•¿æ—¶é—´è½´æ‰©å±•çš„èƒ½åŠ›ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ç§åŒå‘ä¾èµ–çš„å»ºæ¨¡æ–¹å¼ä½¿å¾—æ¨¡å‹æ— æ³•è¿›è¡Œæµå¼æ¨ç†ã€‚ç”±äºå½“å‰å¸§çš„ç”Ÿæˆä¼šå—åˆ°æœªæ¥å¸§çš„åå‘å½±å“ï¼Œç³»ç»Ÿå¿…é¡»ç­‰å¾…æ•´ä¸ªè§†é¢‘ç”Ÿæˆå®Œæˆåæ‰èƒ½è¾“å‡ºç»“æœï¼Œé¦–å¸§å»¶è¿Ÿå¾€å¾€è¾¾åˆ°æ•°åç§’ç”šè‡³æ›´é•¿ã€‚è¿™ç§â€œç¦»çº¿å¼â€çš„æ¨ç†æ¨¡å¼æ˜¾ç„¶æ— æ³•æ»¡è¶³å®æ—¶äº¤äº’ã€åœ¨çº¿ç”Ÿæˆæˆ–è§†é¢‘ç»­å†™ç­‰åº”ç”¨éœ€æ±‚ã€‚</p>
<p>è¿™äº›é—®é¢˜å¹¶éç®€å•çš„å·¥ç¨‹ä¼˜åŒ–å¯ä»¥è§£å†³ï¼Œè€Œæ˜¯æºè‡ªå…¨å±€æ‰©æ•£æ¨¡å‹åœ¨æ—¶é—´å»ºæ¨¡ä¸Šçš„åŸºæœ¬å‡è®¾ã€‚</p>
<h3 data-id="heading-3"><strong>Self-Forcingï¼šç”¨å› æœç”Ÿæˆé‡æ„è§†é¢‘æ‰©æ•£æ¨ç†</strong></h3>
<p>Self-Forcing æå‡ºäº†ä¸€ç§å› æœè‡ªå›å½’çš„è§†é¢‘æ‰©æ•£è®­ç»ƒä¸æ¨ç†æ–¹å¼ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°† Wan2.1 è¿™ç±»å…¨å¸§å¹¶è¡Œæ¨¡å‹ï¼Œæ”¹é€ ä¸º<strong>åªä¾èµ–å†å²ä¿¡æ¯çš„é€æ­¥ç”Ÿæˆæ¨¡å‹</strong>ï¼ŒåŒæ—¶é¿å…ä¼ ç»Ÿè‡ªå›å½’æ¨¡å‹ä¸­å¸¸è§çš„è¯¯å·®ç´¯ç§¯é—®é¢˜ã€‚</p>
<p>åœ¨æ¨¡å‹ç»“æ„ä¸Šï¼ŒSelf-Forcing å¼•å…¥å› æœæ³¨æ„åŠ›çº¦æŸï¼Œä½¿å½“å‰å¸§åªèƒ½å…³æ³¨å†å²å¸§è€Œæ— æ³•â€œçœ‹åˆ°â€æœªæ¥ä¿¡æ¯ã€‚è¿™ä¸€çº¦æŸé€šè¿‡ Block Mask æ–½åŠ åœ¨æ³¨æ„åŠ›è®¡ç®—ä¸­ï¼Œå¹¶é…åˆ Flex Attention å®ç°é«˜æ•ˆè®¡ç®—ã€‚ç”±äºæ»¡è¶³å› æœæ€§ï¼Œæ¨¡å‹åœ¨æ¨ç†æ—¶å¯ä»¥å®‰å…¨åœ°å¤ç”¨å†å²å¸§çš„ Key / Valueï¼Œä»è€Œå¼•å…¥ KV ç¼“å­˜æœºåˆ¶ï¼Œé¿å…åœ¨æ¯ä¸€æ­¥ç”Ÿæˆä¸­é‡å¤è®¡ç®—å·²ç»ç¡®å®šçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36410b5dffc348f4bcefecbff9df666b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=irvnIvS1s%2BgZA%2FhPamTm0DHXYhg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒSelf-Forcing é‡‡ç”¨é€å—ç”Ÿæˆç­–ç•¥ï¼Œå°†è§†é¢‘æŒ‰å¸§æˆ–æŒ‰å°æ®µ latent åˆ†å—ç”Ÿæˆã€‚æ¯ä¸€å—å®Œæˆå»å™ªåï¼Œå…¶ç»“æœä¼šè¢«å†™å…¥ KV ç¼“å­˜ï¼Œä½œä¸ºåç»­ç”Ÿæˆçš„ä¸Šä¸‹æ–‡ï¼›å½“ç¼“å­˜è¾¾åˆ°ä¸Šé™æ—¶ï¼Œé€šè¿‡ Rolling KV Cache è‡ªåŠ¨æ·˜æ±°æœ€æ—©çš„ tokensï¼Œä»è€Œåœ¨æœ‰é™æ˜¾å­˜ä¸‹æ”¯æŒä»»æ„é•¿åº¦çš„è§†é¢‘ç”Ÿæˆã€‚è¿™ç§è®¾è®¡å°†æ³¨æ„åŠ›çš„å³°å€¼å¤æ‚åº¦ä» O(NÂ²) é™ä½åˆ° O(BÃ—N)ï¼Œå…¶ä¸­ B ä¸ºå•æ¬¡ç”Ÿæˆçš„å—å¤§å°ã€‚</p>
<p>ä»å·¥ç¨‹å®ç°ä¸Šçœ‹ï¼ŒSelf-Forcing ä½¿ç”¨ CausalWanModel æ›¿ä»£åŸå§‹ WanModelï¼Œå¹¶åœ¨æ³¨æ„åŠ›å±‚ä¸­ç³»ç»Ÿæ€§åœ°å¼•å…¥å› æœæ©ç ã€KV ç¼“å­˜ä»¥åŠç¼–è¯‘çº§ä¼˜åŒ–ã€‚åœ¨ä¿æŒè®­ç»ƒä¸æ¨ç†ä¸€è‡´æ€§çš„å‰æä¸‹ï¼Œæ¨¡å‹åœ¨ç”Ÿæˆè´¨é‡ä¸Šä¸ Wan2.1 åŸºæœ¬æŒå¹³ï¼ŒVBench æŒ‡æ ‡ç”šè‡³ç•¥æœ‰æå‡ï¼ŒåŒæ—¶å°†é¦–å¸§å»¶è¿Ÿé™ä½åˆ°äºšç§’çº§ï¼Œå¹¶åœ¨å•å¡ H100 ä¸Šå®ç°äº†æ¥è¿‘å®æ—¶çš„è§†é¢‘ç”Ÿæˆé€Ÿåº¦ã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼ŒSelf-Forcing å¹¶ä¸æ˜¯å¯¹ Wan2.1 çš„å±€éƒ¨åŠ é€Ÿï¼Œè€Œæ˜¯ä¸€æ¬¡ä»<strong>å…¨å±€æ‰©æ•£èŒƒå¼å‘å› æœæ¨ç†èŒƒå¼</strong>çš„ç»“æ„æ€§è½¬å˜ï¼Œä¸ºé•¿è§†é¢‘ç”Ÿæˆã€æµå¼æ¨ç†å’Œå®æ—¶äº¤äº’æä¾›äº†å¯è¡Œçš„æŠ€æœ¯è·¯å¾„ã€‚</p>
<h2 data-id="heading-4"><strong>äºŒã€æ¨ç†ä¼˜åŒ–å·¥ä½œè¯¦è§£</strong></h2>
<h3 data-id="heading-5"><strong>åºåˆ—å¹¶è¡Œå®ç°</strong></h3>
<p>å®˜æ–¹çš„ Self-Forcing å®ç°å¹¶æœªæ”¯æŒåºåˆ—å¹¶è¡Œï¼ˆSequence Parallelism, SPï¼‰ï¼Œè¿™åœ¨å•å¡æ˜¾å­˜å—é™ã€å°¤å…¶æ˜¯é•¿è§†é¢‘æ¨ç†åœºæ™¯ä¸‹ï¼Œæˆä¸ºæ‰©å±•æ¨¡å‹èƒ½åŠ›çš„ä¸»è¦ç“¶é¢ˆã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬çš„ç®—æ³•å›¢é˜Ÿåœ¨ Self-Forcing å› æœæ³¨æ„åŠ›çš„åŸºç¡€ä¸Šï¼Œå‚è€ƒ Megatron ä»¥åŠ Ulysses çš„è®¾è®¡ï¼Œå¼•å…¥äº†å¯¹ SP çš„å®Œæ•´æ”¯æŒã€‚</p>
<p>åœ¨ SP æ¨¡å¼ä¸‹ï¼Œåºåˆ—ç»´åº¦è¢«å‡åŒ€åˆ‡åˆ†åˆ°å¤šä¸ªå¹¶è¡Œ rank ä¸Šï¼Œæ¯ä¸ª rank ä»…æŒæœ‰é•¿åº¦ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>L</mi><mi mathvariant="normal">/</mi><mi>P</mi><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â  L/PÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Â </span><span class="mord mathnormal">L</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord">Â </span></span></span></span></span>çš„å±€éƒ¨åºåˆ—ã€‚æ•´ä½“çš„è®¡ç®—æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34ac8fec9ad14e0281aa3365410e65a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=jaTYlg2o92Dwl%2B%2FpnGG%2BOTaEBpU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å®é™…çš„æ€§èƒ½åˆ†æä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šä¸€æ–¹é¢ï¼ŒRoPE åœ¨æ•´ä¸ªè‡ªæ³¨æ„åŠ›æ¨¡å—çš„è®¡ç®—ä¸­å æ®äº†æ˜¾è‘—çš„æ—¶é—´æ¯”ä¾‹ï¼›å¦ä¸€æ–¹é¢ï¼Œç°æœ‰ Causal RoPE çš„å®ç°éœ€è¦å®Œæ•´åºåˆ—ä¿¡æ¯ï¼Œå…¶è®¡ç®—ä¾èµ–äºå‰é¢çš„ä¸‰æ¬¡ all-gather é€šä¿¡ï¼Œå¯¼è‡´ RoPE æ— æ³•ä¸é€šä¿¡é˜¶æ®µé‡å æ‰§è¡Œï¼Œä»è€Œè¿›ä¸€æ­¥æ”¾å¤§äº†é€šä¿¡å¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15f1ad87683441f9b0eae6a3b076861a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=mV1phFGH4YgV7m1el2FtZdPQs%2Fc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ Self-Forcing çš„åˆ†å—è‡ªå›å½’ç”Ÿæˆä¸­ï¼Œæ—¶é—´ä½ç½®éœ€è¦é€šè¿‡å…¨å±€åç§»æ¥ç¼–ç ï¼Œè¿™ä½¿å¾— RoPE çš„è®¡ç®—é€»è¾‘ç›¸æ¯”ä¼ ç»Ÿå®ç°æœ‰æ‰€ä¸åŒã€‚ä¸ºäº†ä¿è¯ KV Cache ä¸å› æœæ³¨æ„åŠ›çš„ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åºåˆ—åˆ†ç‰‡å†…éƒ¨æ­£ç¡®åº”ç”¨å…¨å±€æ—¶é—´ç´¢å¼•ï¼Œå®ç° Causal-RoPE çš„å±€éƒ¨åŒ–è®¡ç®—ã€‚</p>
<h3 data-id="heading-6"><strong>åˆ†å—è‡ªå›å½’ä¸‹çš„æ—‹è½¬ä½ç½®ç¼–ç </strong></h3>
<p>Wan2.1 ä½¿ç”¨çš„ 3D Rotary Positional Encoding ä¸ Qwen2.5-VL ä¸­çš„å¤šæ¨¡æ€ RoPEï¼ˆM-RoPEï¼‰åœ¨è®¾è®¡ä¸Šæ˜¯ä¸€è‡´çš„ï¼šå°†æ—‹è½¬é¢‘ç‡åœ¨ç»´åº¦ä¸Šæ‹†åˆ†ä¸ºæ—¶é—´ï¼ˆtemporalï¼‰ã€é«˜åº¦ï¼ˆheightï¼‰å’Œå®½åº¦ï¼ˆwidthï¼‰ä¸‰éƒ¨åˆ†ï¼Œä»è€Œå¯¹è§†é¢‘ token çš„ä¸‰ç»´ç©ºé—´ä½ç½®è¿›è¡Œç¼–ç ã€‚</p>
<p>åœ¨å…·ä½“å®ç°ä¸Šï¼ŒQwen2.5-VL é‡‡ç”¨ä¼ ç»Ÿçš„ cos/sin å½¢å¼ï¼Œå¹¶é€šè¿‡Â <strong>rotate_half</strong>Â å®ç°æ—‹è½¬ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">q_embedÂ = (q * cos) + (<span class="hljs-built_in">rotate_half</span>(q) * sin)
</code></pre>
<p>è€Œ Wan2.1 åˆ™ç›´æ¥ä½¿ç”¨å¤æ•°å½¢å¼æ¥è¡¨è¾¾æ—‹è½¬æ“ä½œï¼Œå°† RoPE æ˜¾å¼å»ºæ¨¡ä¸ºå¤å¹³é¢ä¸Šçš„ä¹˜æ³•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"># freqs åœ¨ rope_params ä¸­å·²é€šè¿‡ torch<span class="hljs-selector-class">.polar</span> è½¬æ¢ä¸ºå¤æ•°
freqs = freqs<span class="hljs-selector-class">.split</span>([c - <span class="hljs-number">2</span> * (c // <span class="hljs-number">3</span>), c <span class="hljs-comment">// 3, c // 3], dim=1)</span>
x_i = torch<span class="hljs-selector-class">.view_as_complex</span>(x[i, :seq_len].to(torch.float64)<span class="hljs-selector-class">.reshape</span>(Â  Â  
    seq_len, n, -<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
    
freqs_i = torch<span class="hljs-selector-class">.cat</span>([
    freqs[<span class="hljs-number">0</span>][:f].view(f, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)<span class="hljs-selector-class">.expand</span>(f, h, w, -<span class="hljs-number">1</span>),Â 
    freqs<span class="hljs-selector-attr">[1]</span><span class="hljs-selector-attr">[:h]</span><span class="hljs-selector-class">.view</span>(<span class="hljs-number">1</span>, h, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)<span class="hljs-selector-class">.expand</span>(f, h, w, -<span class="hljs-number">1</span>),Â 
    freqs<span class="hljs-selector-attr">[2]</span><span class="hljs-selector-attr">[:w]</span><span class="hljs-selector-class">.view</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, w, -<span class="hljs-number">1</span>)<span class="hljs-selector-class">.expand</span>(f, h, w, -<span class="hljs-number">1</span>)
], dim=-<span class="hljs-number">1</span>)

x_i = torch<span class="hljs-selector-class">.view_as_real</span>(x_i * freqs_i)<span class="hljs-selector-class">.flatten</span>(<span class="hljs-number">2</span>)
</code></pre>
<p>è¿™ç§å®ç°æ–¹å¼æ›´è´´è¿‘ RoPE çš„æ•°å­¦æœ¬è´¨ï¼Œå…¶æ ¸å¿ƒç­‰ä»·å…³ç³»å¯ä»¥å†™ä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>RoPE</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>Î¸</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mo>â‹…</mo><msup><mi>e</mi><mrow><mi>i</mi><mi>Î¸</mi></mrow></msup><mo>=</mo><mi>x</mi><mo>â‹…</mo><mo stretchy="false">(</mo><mi>cos</mi><mo>â¡</mo><mi>Î¸</mi><mo>+</mo><mi>i</mi><mi>sin</mi><mo>â¡</mo><mi>Î¸</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{RoPE}(x, \theta)=x \cdot e^{i \theta}=x \cdot(\cos \theta+i \sin \theta) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">RoPE</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8991em;"/><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span></span></span></span></span></div>
<p>åœ¨ Self-Forcing æ¡†æ¶ä¸‹ï¼Œä¸ºäº†æ”¯æŒåˆ†å—å› æœæ¨ç†ä¸ KV Cacheï¼Œå¼•å…¥äº†é¢å¤–çš„Â </p>
<p><strong>start_frame</strong>Â å‚æ•°ï¼Œç”¨äºæ˜¾å¼æŒ‡å®šå½“å‰ç”Ÿæˆå—åœ¨å…¨å±€æ—¶é—´è½´ä¸Šçš„èµ·å§‹ä½ç½®ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">defÂ <span class="hljs-built_in">causal_rope_apply</span>(x, grid_sizes, freqs, start_frame=<span class="hljs-number">0</span>):Â 
    freqs_i = torch.<span class="hljs-built_in">cat</span>([
        freqs[<span class="hljs-number">0</span>][start_frame:start_frame + f].<span class="hljs-built_in">view</span>(f,Â <span class="hljs-number">1</span>,Â <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>).<span class="hljs-built_in">expand</span>(f, h, w, -<span class="hljs-number">1</span>),Â  Â  Â  Â  
        freqs[<span class="hljs-number">1</span>][:h].<span class="hljs-built_in">view</span>(<span class="hljs-number">1</span>, h,Â <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>).<span class="hljs-built_in">expand</span>(f, h, w, -<span class="hljs-number">1</span>),Â  Â  Â  Â  
        freqs[<span class="hljs-number">2</span>][:w].<span class="hljs-built_in">view</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">1</span>, w, -<span class="hljs-number">1</span>).<span class="hljs-built_in">expand</span>(f, h, w, -<span class="hljs-number">1</span>)Â  Â  
    ], dim=-<span class="hljs-number">1</span>)
</code></pre>
<p>é€šè¿‡è¿™ä¸€æ”¹åŠ¨ï¼Œ3D RoPE è¢«è‡ªç„¶åœ°æ‰©å±•ä¸ºé€‚ç”¨äºåˆ†å—è‡ªå›å½’ç”Ÿæˆçš„å› æœå½¢å¼ã€‚å¯¹äºæ—¶é—´â€“ç©ºé—´ä½ç½®ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo><mtext>Â </mtext></mrow><annotation encoding="application/x-tex"> (t, h, w)Â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mord">Â </span></span></span></span></span>çš„ tokenï¼Œå…¶ä½ç½®ç¼–ç å¯ä»¥å½¢å¼åŒ–è¡¨ç¤ºä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Causal-RoPE</mtext><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>t</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>w</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>x</mi><mrow><mi>t</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>w</mi></mrow></msub><mo>âŠ™</mo><msup><mi>e</mi><mrow><mi>i</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mtext>global</mtext></msub><msub><mi>Î¸</mi><mi>T</mi></msub><mo>+</mo><mi>h</mi><msub><mi>Î¸</mi><mi>H</mi></msub><mo>+</mo><mi>w</mi><msub><mi>Î¸</mi><mi>W</mi></msub><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\text{Causal-RoPE}(x_{t, h, w}) = x_{t, h, w} \odot e^{i(t_{\text{global}}\theta_T + h\theta_H + w\theta_W)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord text"><span class="mord">Causal-RoPE</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âŠ™</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.938em;"/><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2901em;"><span/></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1433em;"><span/></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">h</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1433em;"><span/></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1433em;"><span/></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>å…¶ä¸­ï¼Œå…¨å±€æ—¶é—´ç´¢å¼•å®šä¹‰ä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>t</mi><mtext>global</mtext></msub><mo>=</mo><mi>t</mi><mo>+</mo><mi>s</mi><mo separator="true">,</mo><mspace width="1em"/><mi>s</mi><mo>=</mo><mi>k</mi><mi>Ï„</mi></mrow><annotation encoding="application/x-tex">t_{\text{global}} = t + s,\quad s = k\tau </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6984em;vertical-align:-0.0833em;"/><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span></span></span></span></span></div>
<p>è¿™é‡Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>k</mi><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â kÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">Â </span></span></span></span></span>ä¸ºå—ç´¢å¼•ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>Ï„</mi></mrow><annotation encoding="application/x-tex">Â \tau </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span></span></span></span></span> ä¸ºå—å¤§å°ã€‚ä»¥ chunk-wiseï¼ˆæ¯å— 3 ä¸ª latent å¸§ï¼‰ä¸ºä¾‹ï¼Œä¸åŒç”Ÿæˆå—å¯¹åº”çš„ start_frame åˆ†åˆ«ä¸º 0ã€3ã€6 â€¦ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<p>å¦‚æœä»…ä½¿ç”¨å±€éƒ¨æ—¶é—´ç´¢å¼•ï¼Œä¸åŒå—ä¸­å¤„äºç›¸åŒç›¸å¯¹ä½ç½®çš„ token å°†è·å¾—å®Œå…¨ç›¸åŒçš„ä½ç½®ç¼–ç ï¼Œä»è€Œå¯¼è‡´å…¨å±€æ—¶é—´é¡ºåºæ··æ·†ï¼Œå¹¶ä½¿ KV Cache ä¸­çš„ä½ç½®ä¿¡æ¯å¤±çœŸã€‚é€šè¿‡æ˜¾å¼å¼•å…¥å…¨å±€æ—¶é—´åç§»ï¼ŒCausal-RoPE ä¿è¯äº†ä½ç½®ç¼–ç ä¸è‡ªå›å½’ç”Ÿæˆé¡ºåºä¹‹é—´çš„ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚</p>
<h3 data-id="heading-7"><strong>å±€éƒ¨è®¡ç®—çš„å¯è¡Œæ€§</strong></h3>
<p>åœ¨åºåˆ—å¹¶è¡Œè®¾ç½®ä¸‹ï¼Œåºåˆ—ç»´åº¦è¢«åˆ’åˆ†åˆ°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">R</mi><mi mathvariant="normal">âˆ£</mi><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â  |\mathcal{R}|Â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Â âˆ£</span><span class="mord mathcal">R</span><span class="mord">âˆ£Â </span></span></span></span></span>ä¸ªå¹¶è¡Œ rank ä¸Šã€‚å¯¹äº rank <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mtext>Â Â </mtext></mrow><annotation encoding="application/x-tex"> rÂ Â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">Â Â </span></span></span></span></span>ï¼Œå…¶è´Ÿè´£çš„åºåˆ—åŒºé—´ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mo stretchy="false">[</mo><mi>r</mi><mo>â‹…</mo><mi>L</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>r</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>â‹…</mo><mi>L</mi><mo stretchy="false">)</mo><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â  [r\cdot L, (r+1)\cdot L)Â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Â </span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mord">Â </span></span></span></span></span>ï¼Œå…¶ä¸­ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>L</mi><mo>=</mo><mo stretchy="false">âŒˆ</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">R</mi><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">âŒ‰</mo><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â  L=\lceil S/|\mathcal{R}|\rceilÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Â </span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">âŒˆ</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">/âˆ£</span><span class="mord mathcal">R</span><span class="mord">âˆ£</span><span class="mclose">âŒ‰</span><span class="mord">Â </span></span></span></span></span>ã€‚</p>
<p>ç”±äº token åœ¨åºåˆ—ä¸­æŒ‰ç…§"å¸§ä¼˜å…ˆ"çš„é¡ºåºæ’åˆ—ï¼Œåºåˆ—åˆ‡åˆ†åœ¨æ•ˆæœä¸Šç­‰ä»·äºå¯¹æ—¶é—´ç»´åº¦çš„è¿‘ä¼¼åˆ’åˆ†ã€‚å¯¹äº rank <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>r</mi><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â rÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">Â </span></span></span></span></span>ä¸­å±€éƒ¨ç´¢å¼•ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><msub><mi>i</mi><mtext>local</mtext></msub><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â  i_{\text{local}}Â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"/><span class="mord">Â </span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">local</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">Â </span></span></span></span></span>çš„ tokenï¼Œå…¶å¯¹åº”çš„å…¨å±€åºåˆ—ä½ç½®å’Œå…¨å±€æ—¶é—´ç´¢å¼•åˆ†åˆ«ä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>i</mi><mtext>global</mtext></msub><mo>=</mo><mi>r</mi><mo>â‹…</mo><mi>L</mi><mo>+</mo><msub><mi>i</mi><mtext>local</mtext></msub></mrow><annotation encoding="application/x-tex">i_{\text{global}} = r \cdot L + i_{\text{local}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9456em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">local</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>t</mi><mtext>global</mtext></msub><mo>=</mo><mi>s</mi><mo>+</mo><mrow><mo fence="true">âŒŠ</mo><mfrac><msub><mi>i</mi><mtext>global</mtext></msub><mrow><mi>H</mi><mo>Ã—</mo><mi>W</mi></mrow></mfrac><mo fence="true">âŒ‹</mo></mrow></mrow><annotation encoding="application/x-tex">t_{\text{global}} = s + \left\lfloor \frac{i_{\text{global}}}{H \times W} \right\rfloor </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŒŠ</span></span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŒ‹</span></span></span></span></span></span></span></div>
<p>å…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mi>s</mi><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">Â sÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord">Â </span><span class="mord mathnormal">s</span><span class="mord">Â </span></span></span></span></span>ä¸ºå½“å‰å—çš„ start_frameã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹æ¯ä¸ª tokenï¼ŒCausal-RoPE çš„è®¡ç®—ä»…ä¾èµ–å…¶è‡ªèº«ç‰¹å¾ã€å…¨å±€æ—¶é—´ä½ç½®ä»¥åŠå…±äº«çš„é¢‘ç‡å‚æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î¸</mi><mi>T</mi></msub><mo separator="true">,</mo><msub><mi>Î¸</mi><mi>H</mi></msub><mo separator="true">,</mo><msub><mi>Î¸</mi><mi>W</mi></msub><mtext>Â </mtext></mrow><annotation encoding="application/x-tex"> \theta_T, \theta_H, \theta_WÂ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">Â </span></span></span></span></span>ã€‚åœ¨åˆ†å—è‡ªå›å½’ + SP çš„ç»„åˆä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æ¯ä¸ª rank å†…åº”ç”¨æ­£ç¡®çš„å…¨å±€æ—¶é—´ç´¢å¼•ï¼Œå®ç°äº† RoPE çš„å®Œå…¨å±€éƒ¨è®¡ç®—ï¼Œæ— éœ€é¢å¤–è·¨ rank é€šä¿¡ï¼ŒåŒæ—¶ä¿æŒäº†å› æœä¸€è‡´æ€§ã€‚</p>
<p>è¿™ä¸€ç»“è®ºä¸ºåç»­çš„ä¼˜åŒ–æä¾›äº†ç†è®ºåŸºç¡€ã€‚</p>
<h3 data-id="heading-8"><strong>å®ç°æ–¹æ¡ˆä¸æ€§èƒ½å¯¹æ¯”</strong></h3>
<p>åŸºäºä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬å°† RoPE çš„è®¡ç®—ä¸‹æ²‰åˆ°åºåˆ—åˆ†ç‰‡å†…éƒ¨ï¼Œå…ˆåœ¨æœ¬åœ°å®Œæˆ Causal-RoPE çš„è®¡ç®—ï¼Œå†é€šè¿‡ä¸€æ¬¡èåˆçš„ all-to-all é€šä¿¡ï¼ŒåŒæ—¶å®Œæˆåºåˆ—ç»´åº¦ä¸æ³¨æ„åŠ›å¤´ç»´åº¦çš„é‡æ’ï¼Œä»è€Œæ›¿ä»£åŸå§‹å®ç°ä¸­çš„ä¸‰æ¬¡ all-gather å’Œä¸€æ¬¡ split æ“ä½œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df3b46ea587348e580ffd6f0d84642da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=BWaM8D%2Fzht1h414glYm%2Brcu5no0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ç¬¬ä¸€é˜¶æ®µä¼˜åŒ–ä¸­ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ç¼“å­˜ RoPE æ‰€éœ€çš„ sin/cosï¼Œå¹¶åŸºäº TileLang å®ç°ç®—å­èåˆï¼Œç›¸æ¯”ç¤¾åŒºå¸¸è§çš„ Triton å®ç°è·å¾—äº†çº¦ 10% çš„æ€§èƒ½æå‡ï¼Œæ•´ä½“ä¼˜åŒ–æ–¹æ¡ˆçš„ profile ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53e394bcb979472e91cb369d88bebd34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771570104&amp;x-signature=%2BNSs9HXbgBl00wV2BxCPwT8%2BoYs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ä¸€æ¬¡å…¸å‹çš„ 5s 480P è§†é¢‘æ¨ç†ä¸­ï¼Œä¼šè§¦å‘ 920 æ¬¡çš„è‡ªæ³¨æ„åŠ›è®¡ç®—ï¼Œæ•´ä½“è€—æ—¶é™ä½çº¦ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Î”</mi><msub><mi>T</mi><mrow><mi>e</mi><mn>2</mn><mi>e</mi></mrow></msub><mo>=</mo><mn>920</mn><mo>Ã—</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1.308</mn><mo>+</mo><mn>2.166</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>0.069257</mn><mo>+</mo><mn>0.273916</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mi>m</mi><mi>s</mi><mo>â‰ˆ</mo><mn>2.88</mn><mi>s</mi></mrow><annotation encoding="application/x-tex">\Delta T_{e 2 e}=920 \times[(1.308+2.166)-(0.069257+0.273916)] ms \approx 2.88 s </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord">Î”</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">920</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[(</span><span class="mord">1.308</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">2.166</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">0.069257</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.273916</span><span class="mclose">)]</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">2.88</span><span class="mord mathnormal">s</span></span></span></span></span></div>
<p>ç›¸æ¯”ä¼˜åŒ–å‰ 8.86s çš„ç«¯åˆ°ç«¯è€—æ—¶ï¼Œæ•´ä½“æ¨ç†æ€§èƒ½å®ç° çº¦ 1.48Ã— æ— æŸåŠ é€Ÿï¼ˆâ‰ˆ47.5% speedupï¼‰ï¼Œä¸å®é™…çš„å®éªŒç»“æœé«˜åº¦ä¸€è‡´ã€‚åç»­æˆ‘ä»¬åœ¨åšè®¡ç®—å›¾ä¼˜åŒ–çš„æ—¶å€™ï¼Œæ³¨æ„åˆ° RoPE çš„ç¼“å­˜é€»è¾‘å¯¹æ•´å›¾ä¼˜åŒ–ä¸å‹å¥½ï¼Œè¿›ä¸€æ­¥å°†åŠ¨æ€çš„ç¼“å­˜é€»è¾‘æ”¹æˆäº†é¢„è®¡ç®—é€»è¾‘ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨è¿ç»­å¼ é‡ä¸­ï¼Œç»•è¿‡ Host Opï¼Œåœ¨æ¨ç†è¿‡ç¨‹ä¸­ç›´æ¥åœ¨ GPU ä¸Šè¿›è¡Œå¯»å€ï¼Œä½¿ç”¨é¢„è®¡ç®—çš„ cos / sin å¯¹è¾“å…¥å¼ é‡è¿›è¡Œæ—‹è½¬ç¼–ç è®¡ç®—ï¼Œä¼˜åŒ–äº† CUDA çš„è®¡ç®—æµï¼Œå®ç°äº†è®¡ç®—æ€§èƒ½çš„è¿›ä¸€æ­¥æå‡ã€‚</p>
<h2 data-id="heading-9"><strong>ä¸‰ã€æ€»ç»“ä¸å±•æœ›</strong></h2>
<p>æœ¬æ–‡åˆ†äº«äº†æˆ‘ä»¬åœ¨è§†é¢‘ç”Ÿæˆæ¨¡å‹æ¨ç†ä¼˜åŒ–ä¸­çš„ä¸€ç³»åˆ—å®è·µï¼Œé‡ç‚¹å›´ç»•åˆ†å—è‡ªå›å½’è§†é¢‘æ¨¡å‹åœ¨åºåˆ—å¹¶è¡Œåœºæ™¯ä¸‹çš„è®¡ç®—ä¸é€šä¿¡ä¼˜åŒ–å±•å¼€ã€‚é™¤ä¸Šè¿°å·¥ä½œå¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ä½æ¯”ç‰¹é‡åŒ–ã€è®¡ç®—å›¾ä¼˜åŒ–ç­‰æ–¹å‘æŒç»­æ¢ç´¢ï¼Œä¸ºåç»­æ›´å¤§è§„æ¨¡ã€æ›´ä½å»¶è¿Ÿçš„è§†é¢‘ç”Ÿæˆç³»ç»Ÿæ‰“ä¸‹åŸºç¡€ã€‚</p>
<p>-End-</p>
<p>ä½œè€…ä¸¨storyiconã€åœ¨å–å¯ä¹çš„æ´¾æ´¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[std::function/æ¨¡æ¿/è£¸å‡½æ•°æŒ‡é’ˆé€‰å‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7605810996125679650</link>    <guid>https://juejin.cn/post/7605810996125679650</guid>    <pubDate>2026-02-13T06:32:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605810996125679650" data-draft-id="7605625595571126287" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="std::function/æ¨¡æ¿/è£¸å‡½æ•°æŒ‡é’ˆé€‰å‹æŒ‡å—"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2026-02-13T06:32:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sTone87375"/> <meta itemprop="url" content="https://juejin.cn/user/2946346894764584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            std::function/æ¨¡æ¿/è£¸å‡½æ•°æŒ‡é’ˆé€‰å‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346894764584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sTone87375
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:32:37.000Z" title="Fri Feb 13 2026 06:32:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€‰æ‹© <code>std::function</code>ã€æ¨¡æ¿è¿˜æ˜¯è£¸å‡½æ•°æŒ‡é’ˆï¼Œæ ¸å¿ƒåœ¨äº<strong>æƒè¡¡çµæ´»æ€§ã€æ€§èƒ½å’Œä»£ç å¤æ‚åº¦</strong>ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„å†³ç­–æŒ‡å—ï¼š</p>
<hr/>
<h2 data-id="heading-0">å¿«é€Ÿå†³ç­–å›¾</h2>
<pre><code class="hljs language-c" lang="c">æ˜¯å¦éœ€è¦å­˜å‚¨å›è°ƒï¼Ÿï¼ˆç±»æˆå‘˜ã€å®¹å™¨ã€è·¨å‡½æ•°ä¼ é€’ï¼‰
â”œâ”€â”€ æ˜¯ â†’ æ˜¯å¦éœ€è¦ç±»å‹æ“¦é™¤ï¼Ÿï¼ˆå­˜å‚¨ä¸åŒç±»å‹ä½†ç›¸åŒç­¾åçš„å¯è°ƒç”¨å¯¹è±¡ï¼‰
â”‚   â”œâ”€â”€ æ˜¯ â†’ <span class="hljs-built_in">std</span>::functionï¼ˆæˆ– <span class="hljs-built_in">std</span>::function_ref C++<span class="hljs-number">23</span>ï¼‰
â”‚   â””â”€â”€ å¦ â†’ æ¨¡æ¿ï¼ˆå¦‚ <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;å…·ä½“ç±»å‹&gt;ï¼‰
â””â”€â”€ å¦ â†’ ç¼–è¯‘æ—¶ç¡®å®šç±»å‹ï¼Ÿ
    â”œâ”€â”€ æ˜¯ â†’ æ¨¡æ¿ï¼ˆé›¶å¼€é”€ï¼Œæœ€ä¼˜æ€§èƒ½ï¼‰
    â””â”€â”€ å¦ â†’ è£¸å‡½æ•°æŒ‡é’ˆï¼ˆCæ¥å£ã€æç®€åœºæ™¯ï¼‰
</code></pre>
<hr/>
<h2 data-id="heading-1">è¯¦ç»†åœºæ™¯å¯¹æ¯”</h2>
<h3 data-id="heading-2">1. æ¨¡æ¿ï¼ˆ<code>template&lt;typename F&gt;</code>ï¼‰â€” <strong>é¦–é€‰ï¼Œå¦‚æœå¯èƒ½</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å›è°ƒåªåœ¨å•ä¸ªå‡½æ•°å†…ä½¿ç”¨ï¼Œä¸éœ€è¦å­˜å‚¨</li>
<li>æ€§èƒ½æ•æ„Ÿï¼ˆé«˜é¢‘è°ƒç”¨ï¼‰</li>
<li>ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šå¯è°ƒç”¨å¯¹è±¡ç±»å‹</li>
</ul>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// âœ… æ¨èï¼šé›¶å¼€é”€æŠ½è±¡</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Func&gt;
<span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(Func&amp;&amp; func)</span> </span>{
    <span class="hljs-built_in">func</span>();  <span class="hljs-comment">// ç›´æ¥å†…è”ï¼Œæ— é—´æ¥è°ƒç”¨å¼€é”€</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-built_in">execute</span>([]{ std::cout &lt;&lt; <span class="hljs-string">"lambda\n"</span>; });
<span class="hljs-built_in">execute</span>(my_functor);
<span class="hljs-built_in">execute</span>(free_function);
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>é›¶è¿è¡Œæ—¶å¼€é”€ï¼ˆå®Œå…¨å†…è”ï¼‰</li>
<li>æ”¯æŒä»»æ„å¯è°ƒç”¨å¯¹è±¡ï¼ˆlambdaã€ä»¿å‡½æ•°ã€å‡½æ•°æŒ‡é’ˆï¼‰</li>
<li>ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æœŸæ£€æŸ¥</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ä¸èƒ½å­˜å‚¨ï¼ˆæ— æ³•ä½œä¸ºç±»æˆå‘˜æˆ–æ”¾å…¥å®¹å™¨ï¼‰</li>
<li>å¿…é¡»åœ¨å¤´æ–‡ä»¶ä¸­å®ç°ï¼ˆæˆ–æ˜¾å¼å®ä¾‹åŒ–ï¼‰</li>
<li>ç¼–è¯‘æ—¶é—´å¯èƒ½å¢åŠ </li>
</ul>
<hr/>
<h3 data-id="heading-3">2. <code>std::function</code> â€” <strong>éœ€è¦ç±»å‹æ“¦é™¤æ—¶</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>éœ€è¦å­˜å‚¨å›è°ƒï¼ˆç±»æˆå‘˜å˜é‡ï¼‰</li>
<li>éœ€è¦æ”¾å…¥å®¹å™¨ï¼ˆ<code>std::vector&lt;std::function&lt;...&gt;&gt;</code>ï¼‰</li>
<li>éœ€è¦è¿è¡Œæ—¶å¤šæ€ï¼ˆä¸åŒç±»å‹ï¼Œç›¸åŒç­¾åï¼‰</li>
<li>è·¨å±‚ä¼ é€’ï¼ˆå¦‚ä»UIå±‚ä¼ é€’åˆ°ä¸šåŠ¡å±‚ï¼‰</li>
</ul>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// âœ… æ¨èï¼šéœ€è¦å­˜å‚¨çš„åœºæ™¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskScheduler</span> {
    std::vector&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt; tasks_;  <span class="hljs-comment">// å­˜å‚¨ä¸åŒç±»å‹ä»»åŠ¡</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">void</span>()&gt; task)</span> </span>{  <span class="hljs-comment">// æ¥å—ä»»ä½•å¯è°ƒç”¨å¯¹è±¡</span>
        tasks_.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">move</span>(task));
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; t : tasks_) <span class="hljs-built_in">t</span>();
    }
};

<span class="hljs-comment">// å¯ä»¥æ··åˆæ·»åŠ ï¼š</span>
scheduler.<span class="hljs-built_in">add</span>([]{ <span class="hljs-comment">/* lambda */</span> });
scheduler.<span class="hljs-built_in">add</span>(std::<span class="hljs-built_in">bind</span>(&amp;Class::method, &amp;obj));
scheduler.<span class="hljs-built_in">add</span>(free_function);
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æå¼ºçš„çµæ´»æ€§ï¼ŒçœŸæ­£çš„ç±»å‹æ“¦é™¤</li>
<li>å¯ä»¥å­˜å‚¨ã€å¤åˆ¶ã€ç§»åŠ¨</li>
<li>æ¥å£æ¸…æ™°ï¼Œè§£è€¦è°ƒç”¨æ–¹å’Œå®ç°æ–¹</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>è¿è¡Œæ—¶å¼€é”€ï¼ˆé€šå¸¸ 1-2 æ¬¡é—´æ¥è·³è½¬ï¼‰</li>
<li>å¯èƒ½å †åˆ†é…ï¼ˆå¤§ lambda/ä»¿å‡½æ•°ï¼‰</li>
<li>å¯èƒ½æŠ›å‡º <code>bad_function_call</code></li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++23 å¼•å…¥ std::function_refï¼šè½»é‡çº§ã€éæ‹¥æœ‰ã€é›¶åˆ†é…</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">(std::function_ref&lt;<span class="hljs-type">void</span>(<span class="hljs-type">int</span>)&gt; callback)</span></span>;  <span class="hljs-comment">// åªè¯»å¼•ç”¨ï¼Œä¸å­˜å‚¨</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">3. è£¸å‡½æ•°æŒ‡é’ˆ â€” <strong>C æ¥å£æˆ–æç®€åœºæ™¯</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>C è¯­è¨€æ¥å£/å…¼å®¹</li>
<li>ç³»ç»Ÿçº§ç¼–ç¨‹ï¼ˆä¿¡å·å¤„ç†ã€çº¿ç¨‹åˆ›å»ºï¼‰</li>
<li>ç»å¯¹é›¶å¼€é”€ä¸”ç¡®å®šæ— æ•è· lambda</li>
<li>åµŒå…¥å¼/èµ„æºæåº¦å—é™ç¯å¢ƒ</li>
</ul>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// âœ… æ¨èï¼šC API å›è°ƒ</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">qsort</span><span class="hljs-params">(<span class="hljs-type">void</span>* base, <span class="hljs-type">size_t</span> n, <span class="hljs-type">size_t</span> size, 
           <span class="hljs-type">int</span> (*cmp)(<span class="hljs-type">const</span> <span class="hljs-type">void</span>*, <span class="hljs-type">const</span> <span class="hljs-type">void</span>*))</span></span>;  <span class="hljs-comment">// C æ ‡å‡†åº“</span>

<span class="hljs-comment">// âœ… æ¨èï¼šä¿¡å·å¤„ç†</span>
<span class="hljs-built_in">void</span> (*<span class="hljs-built_in">signal</span>(<span class="hljs-type">int</span> sig, <span class="hljs-built_in">void</span> (*func)(<span class="hljs-type">int</span>)))(<span class="hljs-type">int</span>);

<span class="hljs-comment">// âŒ ä¸æ¨èï¼šç°ä»£ C++ åº”ç”¨å¼€å‘</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">register_callback</span><span class="hljs-params">(<span class="hljs-type">void</span> (*cb)(<span class="hljs-type">int</span>))</span></span>;  <span class="hljs-comment">// æ— æ³•æ¥å— lambdaï¼</span>
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æœ€å°å†…å­˜å ç”¨ï¼ˆé€šå¸¸ 4/8 å­—èŠ‚ï¼‰</li>
<li>ä¸ C å®Œå…¨å…¼å®¹</li>
<li>æœ€ç®€å•çš„ ABI</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>æ— æ³•æ¥å—æœ‰æ•è·çš„ lambda</li>
<li>æ— æ³•æ¥å—ä»¿å‡½æ•°</li>
<li>ç±»å‹ä¸å®‰å…¨ï¼ˆ<code>void*</code> è½¬æ¢ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">å®æˆ˜é€‰æ‹©æŒ‡å—</h2>


















































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>ç®—æ³•ä¸­çš„è‡ªå®šä¹‰æ¯”è¾ƒ/æ“ä½œ</td><td><strong>æ¨¡æ¿</strong></td><td><code>std::sort(begin, end, cmp)</code> å¼æ¥å£</td></tr><tr><td>äº‹ä»¶/å›è°ƒç³»ç»Ÿ</td><td><strong><code>std::function</code></strong></td><td>éœ€è¦å­˜å‚¨ä¸åŒç›‘å¬è€…</td></tr><tr><td>ä¾èµ–æ³¨å…¥/ç­–ç•¥æ¨¡å¼</td><td><strong>æ¨¡æ¿</strong> æˆ– <strong><code>std::function</code></strong></td><td>æ¨¡æ¿ç¼–è¯‘æœŸç¡®å®šï¼Œ<code>std::function</code> è¿è¡Œæ—¶åˆ‡æ¢</td></tr><tr><td>è·¨ DLL è¾¹ç•Œ</td><td><strong><code>std::function</code></strong> æˆ– <strong>è£¸æŒ‡é’ˆ</strong></td><td>æ³¨æ„ ABI å…¼å®¹æ€§</td></tr><tr><td>C API å°è£…</td><td><strong>è£¸æŒ‡é’ˆ</strong></td><td>è¢«è¿«ä½¿ç”¨</td></tr><tr><td>é«˜é¢‘è°ƒç”¨ï¼ˆ&gt;100ä¸‡æ¬¡/ç§’ï¼‰</td><td><strong>æ¨¡æ¿</strong></td><td>é¿å…è™šå‡½æ•°å¼€é”€</td></tr><tr><td>å»¶è¿Ÿæ‰§è¡Œ/ä»»åŠ¡é˜Ÿåˆ—</td><td><strong><code>std::function</code></strong></td><td>å¿…é¡»å­˜å‚¨</td></tr><tr><td>é…ç½®é©±åŠ¨ï¼ˆè¿è¡Œæ—¶å†³å®šè¡Œä¸ºï¼‰</td><td><strong><code>std::function</code></strong></td><td>è¿è¡Œæ—¶å¤šæ€</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">ç°ä»£ C++ æ¼”è¿›ï¼ˆC++23ï¼‰</h2>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++23 std::function_refï¼šåªè¯»ã€éæ‹¥æœ‰ã€é›¶åˆ†é…</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">(std::function_ref&lt;<span class="hljs-type">int</span>(<span class="hljs-type">int</span>)&gt; op)</span></span>;

<span class="hljs-comment">// å¯¹æ¯”ï¼š</span>
<span class="hljs-comment">// std::function      : æ‹¥æœ‰ï¼Œå¯å­˜å‚¨ï¼Œæœ‰åˆ†é…å¼€é”€</span>
<span class="hljs-comment">// std::function_ref  : ä¸æ‹¥æœ‰ï¼Œè½»é‡ï¼Œä»…å€Ÿç”¨</span>
<span class="hljs-comment">// æ¨¡æ¿               : ç¼–è¯‘æœŸç¡®å®šï¼Œæœ€ä¼˜æ€§èƒ½ï¼Œæ— å­˜å‚¨èƒ½åŠ›</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">æ€»ç»“å»ºè®®</h2>
<ol>
<li><strong>é»˜è®¤ç”¨æ¨¡æ¿</strong>ï¼šå¦‚æœä¸éœ€è¦å­˜å‚¨ï¼Œæ¨¡æ¿æ˜¯é›¶æˆæœ¬æŠ½è±¡çš„é»„é‡‘æ ‡å‡†</li>
<li><strong>å­˜å‚¨ç”¨ <code>std::function</code></strong>ï¼šéœ€è¦æ”¾å…¥å®¹å™¨æˆ–ç±»æˆå‘˜æ—¶</li>
<li><strong>C æ¥å£ç”¨è£¸æŒ‡é’ˆ</strong>ï¼šè¢«è¿«åœºæ™¯ï¼Œæˆ–æç«¯èµ„æºå—é™</li>
<li><strong>å…³æ³¨ C++23</strong>ï¼š<code>std::function_ref</code> å¯èƒ½æˆä¸º"éœ€è¦å¼•ç”¨ä½†ä¸å­˜å‚¨"åœºæ™¯çš„æœ€ä½³é€‰æ‹©</li>
</ol>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼šå…ˆå°è¯•æ¨¡æ¿ï¼Œé‡åˆ°å­˜å‚¨éœ€æ±‚å†é™çº§åˆ° <code>std::function</code>ï¼Œè£¸æŒ‡é’ˆä½œä¸ºæœ€åæ‰‹æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹ä¸€]]></title>    <link>https://juejin.cn/post/7605907495770144777</link>    <guid>https://juejin.cn/post/7605907495770144777</guid>    <pubDate>2026-02-13T06:45:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605907495770144777" data-draft-id="7605807405307019327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹ä¸€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:45:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é­”ç‹719"/> <meta itemprop="url" content="https://juejin.cn/user/2256671358595687"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹ä¸€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2256671358595687/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é­”ç‹719
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:45:40.000Z" title="Fri Feb 13 2026 06:45:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰å¼•</h2>
<p align="left">**å›åˆ°è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ä»€ä¹ˆæ˜¯è¿›ç¨‹ä»€ä¹ˆçº¿ç¨‹ä»€ä¹ˆåˆæ˜¯åç¨‹ï¼Œæ¯ä¸ªç¼–ç¨‹è¯­è¨€é‡Œè™½ç„¶åè¯ä¸€æ ·ä½†æ˜¯å®é™…æ„ä¹‰å¤šå¤šå°‘å°‘åˆåˆä¸€äº›ä¸åŒï¼Œå€Ÿç€ä»Šå¤©æƒ³å†™æ–‡ç« çš„å†²åŠ¨ï¼Œæµ…è°ˆä¸€ä¸‹è‡ªå·±çš„ç†è§£ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„è¿˜è¯·æŒ‡å‡º</p>
<h2 data-id="heading-1">è¿›ç¨‹</h2>
<p align="left">å…ˆè°ˆä¸€ä¸‹è¿›ç¨‹ï¼Œé¡¾åæ€ä¹‰åœ¨è¿›ç¨‹ï¼Œçº¿ç¨‹å’Œåç¨‹é‡Œé¢ è¿™ä¸ªè¿›ç¨‹åœ¨å®è§‚æ„ä¹‰ä¸Šæ¥è¯´å¯ä»¥æ˜¯æœ€å¤§çš„äº†ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª*æ‰§è¡Œç¨‹åº*æœ‰è‡ªå·±çš„pid,å¦‚ä»»åŠ¡ç®¡ç†å™¨é‡Œçš„æ¯ä¸ªå¯åŠ¨çš„ç¨‹åºéƒ½å¯ä»¥çœ‹æˆæ˜¯è¿›ç¨‹ã€‚</p>
<p align="left">é‚£é™¤äº†å®è§‚è‚¯å®šä¹Ÿæœ‰å¾®è§‚ï¼Œæ¯”å¦‚å¯¹ä¸€ä¸ªå€¼è¿›è¡Œè¯»å–ä¿®æ”¹çš„æ“ä½œéƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚
</p><pre><code class="hljs language-python" lang="python">    <span class="hljs-built_in">str</span>  = <span class="hljs-string">'dada'</span>
    a = <span class="hljs-built_in">str</span>
    <span class="hljs-built_in">str</span> = a.split(<span class="hljs-string">'d'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>)

</code></pre>
<p>è¿™ç§éƒ½æ˜¯å±äºè¿›ç¨‹æ“ä½œï¼Œé‚£æŠ›å‡ºä¸€ä¸ªå®˜æ–¹çš„å®šä¹‰ æ‰€æœ‰çš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="green"><mrow><mi>C</mi><mi>P</mi><mi>U</mi><mtext>å¯†é›†å‹ä»»åŠ¡</mtext><mo>âˆ—</mo></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{green}{CPUå¯†é›†å‹ä»»åŠ¡*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord" style="color:green;"><span class="mord mathnormal" style="margin-right:0.13889em;color:green;">CP</span><span class="mord mathnormal" style="margin-right:0.10903em;color:green;">U</span><span class="mord cjk_fallback" style="color:green;">å¯†é›†å‹ä»»åŠ¡</span><span class="mord" style="color:green;">âˆ—</span></span></span></span></span></span>*éƒ½å±äºè¿›ç¨‹</p>
<p/>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯CPUå¯†é›†å‹ä»»åŠ¡</h3>
<p>
    1ã€å¤æ‚çš„æ•°å­¦è®¡ç®—
</p>
<p>
    2ã€åŠ å¯†å’Œè§£å¯†
</p>
<p>
    3ã€æœºå™¨å­¦ä¹ 
</p>
<p>
    4ã€å€¼çš„è¯»å–ä¿®æ”¹å’Œå›å†™
</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="green"><mrow><mtext>å› æ­¤åªè¦æ˜¯æ»¡è¶³ä¸Šé¢ä»»æ„ä¸€ä¸ªæˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒçœ‹æˆ</mtext><mi>C</mi><mi>P</mi><mi>U</mi><mtext>å¯†é›†å‹ä»»åŠ¡</mtext><mo>âˆ’</mo><mo>&gt;</mo><mtext>è¿›ç¨‹</mtext></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{green}{å› æ­¤åªè¦æ˜¯æ»¡è¶³ä¸Šé¢ä»»æ„ä¸€ä¸ªæˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒçœ‹æˆCPUå¯†é›†å‹ä»»åŠ¡-&gt;è¿›ç¨‹}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord" style="color:green;"><span class="mord cjk_fallback" style="color:green;">å› æ­¤åªè¦æ˜¯æ»¡è¶³ä¸Šé¢ä»»æ„ä¸€ä¸ªæˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒçœ‹æˆ</span><span class="mord mathnormal" style="margin-right:0.13889em;color:green;">CP</span><span class="mord mathnormal" style="margin-right:0.10903em;color:green;">U</span><span class="mord cjk_fallback" style="color:green;">å¯†é›†å‹ä»»åŠ¡</span><span class="mord" style="color:green;">âˆ’</span><span class="mspace" style="color:green;margin-right:0.2778em;"/><span class="mrel" style="color:green;">&gt;</span><span class="mspace" style="color:green;margin-right:0.2778em;"/><span class="mord cjk_fallback" style="color:green;">è¿›ç¨‹</span></span></span></span></span></span></p>
<h2 data-id="heading-3">çº¿ç¨‹</h2>
<p>
    çº¿ç¨‹è¦æ¯”è¿›ç¨‹å°ï¼Œä¸€ä¸ªè¿›ç¨‹é‡Œé¢å¯èƒ½æ˜¯æœ‰å¤šä¸ªçº¿ç¨‹æ¥æ„æˆï¼Œçº¿ç¨‹æ˜¯IOå¯†é›†å‹ä»»åŠ¡
    é‚£çº¿ç¨‹ç¨‹ä¹‹é—´å‘¢å¯èƒ½åˆåˆ†ä¸ºä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹ï¼Œ
</p>
<h3 data-id="heading-4">ä»€ä¹ˆæ˜¯IOå¯†é›†å‹ä»»åŠ¡</h3>
<p>
    1ã€æ–‡ä»¶çš„è¯»å†™æ“ä½œ
</p>
<p>
    2ã€ç½‘ç»œè¯·æ±‚
</p>
<p>
    3ã€æ•°æ®åº“æ“ä½œ
</p>
<p>
    4ã€sleepæ“ä½œ
</p>
<h5 data-id="heading-5"><strong>ps:è¯»å–ï¼Œå“åº”ï¼Œä¿®æ”¹æ˜¯CPUå¯†é›†å‹ï¼ˆå ç”¨CPUè®¡ç®—ï¼‰,ç­‰å¾…ã€è·å–ç»“æœæ˜¯IOå¯†é›†å‹ï¼ˆå ç”¨æ—¶é—´ç­‰å¾…IOï¼‰</strong></h5>
<h3 data-id="heading-6">æ¥ä¸‹æ¥è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç»å…¸çš„<strong>çº¿ç¨‹ä»£ç </strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [t1, t2, t3]:
        i.start()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹,åœ¨joinå‰æ‰“å°"</span>)
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):
        t1.join()
        t2.join()
        t3.join()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹,åœ¨joinåæ‰“å°"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<p><strong>æ‰“å°ç»“æœå¦‚ä¸‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f2a5c63b6f240878f345226cf66e216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=OWXwhtnPN3R%2F0V18EvE9R%2BSSsQk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">æŠ›å‡ºç–‘é—®</h3>
<ul>
<li><strong>startæ˜¯å¹²å•¥çš„</strong></li>
<li><strong>joinæ˜¯å¹²å•¥çš„</strong></li>
<li><strong>ä¸ºå•¥ç»“æœæœ€åæ‰“å°çš„ è´¦å·ä½™é¢æ˜¯0ï¼Œæˆ‘ä»¬ä¸æ˜¯å¯åŠ¨äº†3ä¸ªçº¿ç¨‹å—ï¼ŸæŒ‰ç…§å›ºå®šæ€ç»´æ¥è¯´ä¸åº”è¯¥æ˜¯-100æ‰èƒ½ä½“ç°å‡ºçº¿ç¨‹çš„ä½œç”¨å—?</strong></li>
</ul>
<p>
</p><p>ok,æˆ‘ä»¬æ¥ä¸€ä¸ªä¸€ä¸ªè§£é‡Š</p>
<p/>
<h4 data-id="heading-8">start</h4>
<p>æˆ‘ä»¬å…ˆæ”¹é€ ä¸€ä¸‹ä¸Šè¿°ä»£ç å»æ‰startå’Œjoinçœ‹æ˜¯ä»€ä¹ˆæ ·çš„</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55737269b03e4152ae0173d28496ee55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=WYj7Br0E1rM1dmM%2BRooaPVA4SGE%3D" alt="image.png" loading="lazy"/>
<em>çœ‹èµ·æ¥ä¸åŠ startçš„è¯t1ï¼Œt2ï¼Œt3 3ä¸ªå­çº¿ç¨‹éƒ½æ²¡æœ‰æ‰§è¡Œï¼Œå€’æ˜¯æœ‰æ‰“å°ä¸»çº¿ç¨‹çš„æ•°æ®å¦‚</em></p>
<ul>
<li><strong>æ„å»ºå®Œçº¿ç¨‹</strong></li>
<li><strong>mainå‡½æ•°æ‰§è¡Œç»“æŸ</strong></li>
<li><strong>æ€»è€—æ—¶</strong></li>
</ul>
<p>é‚£æˆ‘ä»¬åŠ ä¸Šstartç»§ç»­çœ‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    
    t1.start()
    t2.start()
    t3.start()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc6cf2be85c940d593bed39b06d2047e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=a1lEKT11h5ZL5uPOjZ2cHbyS%2BcQ%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-9">ç»¼ä¸Šå¾—å‡ºç»“è®º</h6>
<ul>
<li><strong>startå…³é”®å­—æ˜¯å¯åŠ¨å­çº¿ç¨‹</strong></li>
<li><strong>startå…³é”®å­—ä¸ä¼šé˜»å¡ä¸»è¿›ç¨‹ï¼ˆç±»ä¼¼æ²³æµåˆ†å‰-å­è¿›ç¨‹æ‰§è¡Œå­è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹æ‰§è¡Œä¸»è¿›ç¨‹çš„ï¼Œä¸»è¿›ç¨‹å³ä½¿æ‰§è¡Œå®Œï¼Œå­è¿›ç¨‹ä¹Ÿä¼šç»§ç»­æ‰§è¡Œï¼‰</strong></li>
</ul>
<p>ä½†æ˜¯åªæœ‰startçš„è¯è‚¯å®šæ˜¯ä¸æ»¡è¶³æˆ‘ä»¬ä½¿ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸»è¿›ç¨‹éœ€è¦ç­‰å­è¿›ç¨‹æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œã€‚</p>
<h4 data-id="heading-10">join</h4>
<p>ç»§ç»­å®Œå–„ä¸Šé¢åªæœ‰startçš„ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))

    t1.start()
    t2.start()
    t3.start()

    t1.join()
    t2.join()
    t3.join()

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/477bedc3f87045cf9e416328321ec29a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=isZgWzah%2BQeL7FgIjPucOt7Q%2Fv0%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-11">ç»¼ä¸Šå¾—å‡ºç»“è®º</h6>
<ul>
<li><strong>joinéœ€è¦å’Œstratæˆå¯¹å‡ºç°</strong></li>
<li><strong>joinä¼šé˜»å¡å½“å‰ä¸»çº¿ç¨‹ã€‚</strong></li>
<li><strong>è¢«joinçš„å­çº¿ç¨‹æ‰§è¡Œå®Œï¼Œä¼šç»§ç»­æ‰§è¡Œä¸»çº¿ç¨‹</strong></li>
</ul>
<h4 data-id="heading-12">ä¸ºå•¥æ‰“å°ä½™é¢æ˜¯0</h4>
<p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—æˆ‘ä»¬åœ¨è¿›è¡Œifåˆ¤æ–­çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æœ‰ä¸€ä¸ªsleepçš„æ“ä½œçš„,</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b7d8b628664259954889ea137652de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=YUjGtQ%2BHBb1dtMk7Q1HiY9a7f3Q%3D" alt="image.png" loading="lazy"/></p>
<p>å¾ˆå…³é”®çš„ä¸€æ­¥ï¼Œé‚£æˆ‘ä»¬å…ˆåå¯åŠ¨äº†<strong>3</strong>ä¸ªå­çº¿ç¨‹ï¼Œ<strong>t1.start,ï¼Œt2.start,ï¼Œt3.start</strong>,å½“å­çº¿ç¨‹æ‰§è¡Œåˆ°<strong>sleep</strong>è¿™æ­¥æ—¶ï¼Œçº¿ç¨‹1ï¼Œçº¿ç¨‹2ï¼Œçº¿ç¨‹3éƒ½åœ¨è¿™ä¸ªåœ°æ–¹åœäº†ä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯åœ¨<strong>1så†…è¿™ä¸ªåœ°æ–¹å¯èƒ½èšé›†äº†3ä¸ªå­çº¿ç¨‹</strong>ï¼Œç„¶åç¡çœ æ—¶é—´ç»“æŸï¼Œt1ï¼Œt2ï¼Œt3å¼€å§‹ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚<strong>ï¼ˆè¿™é‡Œä¸å¼•å…¥gliçš„æ¦‚å¿µï¼ˆå³ä¸€ä¸ªè¿›ç¨‹ä¼šæœ‰ä¸€ä¸ªglié”ï¼Œä¹Ÿå°±æ˜¯åŒä¸€æ—¶é—´åŒä¸€è¡Œä»£ç åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œï¼‰ï¼‰</strong>
é‚£æˆ‘t1å…ˆè¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œtotal_moneyé¦–æ¬¡è‚¯å®šæ˜¯é€šè¿‡çš„ï¼Œè¿›è¡Œä¸€æ¬¡å‡æ³•è¿ç®—ï¼Œ<strong>total_moneyæœ€åæ˜¯100</strong>ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½t2ä¹Ÿè¿›è¡Œäº†åˆ¤æ–­ï¼Œtotal_moneyæ˜¯100ä¹Ÿé€šè¿‡ï¼Œå†æ¬¡è¿›è¡Œä¸€æ¬¡å‡æ³•è¿ç®—ï¼Œ<strong>total_moneyæœ€åæ˜¯0</strong>ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½t3ä¹Ÿè¿›è¡Œäº†åˆ¤æ–­ï¼Œtotal_moneyæ˜¯0ï¼Œæ‰€ä»¥ä¸ä¼šé€šè¿‡ æœ€åç»“æœæ‰“å°æ˜¯** 0**ï¼Œ<strong>å½“ç„¶è¿™ä¸ªæ˜¯ç†æƒ³çŠ¶æ€ï¼Œä¸”ifé€»è¾‘å¾ˆçŸ­ï¼Œæ‰€ä»¥å‡ºç°äº†é€»è¾‘ç»“æŸï¼Œä¸‹ä¸€ä¸ªå­çº¿ç¨‹è¿˜æ²¡å¼€å§‹è¿›å…¥å†…éƒ¨é€»è¾‘è¿ç®—çš„åœºæ™¯</strong></p>
<h5 data-id="heading-13">ä¿®æ”¹ä»£ç </h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        time.sleep(<span class="hljs-number">1</span>)<span class="hljs-comment">#åªæ˜¯å¢åŠ äº†è¿™æ­¥</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))

    t1.start()
    t2.start()
    t3.start()

    t1.join()
    t2.join()
    t3.join()

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<h6 data-id="heading-14">æ”¹åŠ¨å†…å®¹</h6>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3fa4d02eb634eceba1485e763fd9f81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=7w3BKZ0bjUK3VL6726BDlf87FDU%3D" alt="image.png" loading="lazy"/>
æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/291082bc174d41e8bc40d2b2895d1ae8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=vySwNdKhUAahrI0qjVCVUwBGdwI%3D" alt="image.png" loading="lazy"/>
<strong>è¿™é‡Œä»£ç åªæ˜¯åŠ äº†ä¸€ä¸ªsleep,ä¸ºå•¥ä½™é¢å˜æˆè´Ÿæ•°äº†å‘¢ï¼Ÿ</strong>
æŒ‰ç…§ä¸Šé¢ç°è±¡çš„è§£é‡Šå¯¹ç…§åˆ†æï¼Œç¬¬ä¸€ä¸ªsleepèšé½äº†3ä¸ªå­çº¿ç¨‹ï¼Œç¬¬ä¸€ä¸ªå­çº¿ç¨‹sleepç»“æŸï¼Œå‘é‡Œæ‰§è¡Œé¦–æ¬¡total_moneyæ˜¯200ï¼Œè‚¯å®šæ˜¯é€šè¿‡çš„ï¼Œ<strong>è¿™ä¸ªæ—¶å€™åˆé‡åˆ°äº†sleep,æ‰€ä»¥ç»§ç»­ç¡çœ </strong>ã€‚é‚£è¿™ä¸ªæ—¶å€™ç¬¬äºŒä¸ªçº¿ç¨‹sleepä¹Ÿç»“æŸäº†ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªçº¿ç¨‹è¿˜åœ¨ç¡çœ è‚¯å®šæ˜¯è¿˜æ²¡æœ‰ä¿®æ”¹total_moneyçš„ï¼Œ<strong>æ‰€ä»¥total_moneyä¹Ÿæ˜¯200ï¼Œä¹Ÿè¿›å…¥äº†ifé‡Œé¢ï¼Œåˆç¢°åˆ°äº†sleepï¼Œæ‰€ä»¥ä¹Ÿç»§ç»­ç¡çœ </strong>ï¼Œç¬¬ä¸‰ä¸ªåŒç†ã€‚æœ€åä¹Ÿå³æ˜¯åœ¨é‡Œé¢çš„sleepåˆèšé›†äº†3ä¸ªå­çº¿ç¨‹ï¼Œç„¶å<strong>3ä¸ªå­çº¿ç¨‹ä¾æ¬¡å”¤é†’ï¼Œä¾æ¬¡è¿›è¡Œå‡100çš„æ“ä½œï¼Œæœ€åå¾—å‡º total_moneyæ˜¯-100</strong>ï¼Œps:ä»£ç é‡Œçš„sleepä¸»è¦æ˜¯ä¸ºäº†å¢åŠ è€—æ—¶ï¼Œå®é™…åœºæ™¯å¯èƒ½æ˜¯ä»»æ„æ“ä½œã€‚</p>
<h2 data-id="heading-15">çº¿ç¨‹é”</h2>
<p><strong>æ‰€ä»¥é’ˆå¯¹å¤šçº¿ç¨‹çš„æ“ä½œï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§æˆ‘ä»¬éœ€è¦åŠ ä¸Šçº¿ç¨‹é”ï¼ˆlockï¼‰</strong></p>
<h5 data-id="heading-16">ä»£ç å¦‚ä¸‹</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, Lock
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

l = Lock()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    l.acquire()  <span class="hljs-comment"># ä¸Šé”</span>
    <span class="hljs-keyword">global</span> total_money
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
    <span class="hljs-keyword">if</span> total_money:
        time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># åªæ˜¯å¢åŠ äº†è¿™æ­¥</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
        total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    l.release()  <span class="hljs-comment"># é‡Šæ”¾é”</span>
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))

    t1.start()
    t2.start()
    t3.start()

    t1.join()
    t2.join()
    t3.join()

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<p>ä¸Šé¢ä»£ç å‘¢ä¸»è¦æ˜¯åœ¨ä»£ç æ‰§è¡Œé€»è¾‘é‚£é‡ŒåŠ äº†lock.acquire()å’Œlock.release()</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2242d49c82f74967873dc27aa3ac9720~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=1mD3%2FZ3gHd%2FuMlZPEO%2BfRppUgVQ%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-17">æ‰§è¡Œç»“æœ</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cadf12952774497ca50e2547ca57f919~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=riN%2B7NHQih%2B921r1wyqtRSCcpgA%3D" alt="image.png" loading="lazy"/>
å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åŠ äº†lockä»¥åï¼Œè´¦å·ä½™é¢æ˜¯æ²¡æœ‰å˜æˆè´Ÿæ•°çš„äº†ï¼Œè¯´æ˜åœ¨å­çº¿ç¨‹ç›¸äº’ç«äº‰çš„æ—¶å€™ï¼Œç”±äºä¸Šäº†é”ï¼Œåªä¼šé€šè¿‡ä¸€ä¸ªï¼Œä½†æ˜¯lockä½¿ç”¨éœ€è¦æ‰‹åŠ¨acquireå’Œlockï¼ŒåŸºäºè¿™ä¸ªæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸‹with,</p>
<h5 data-id="heading-18">ä¼˜åŒ–ä»£ç å¦‚ä¸‹</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, Lock
<span class="hljs-keyword">import</span> time

total_money = <span class="hljs-number">200</span>

l = Lock()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">speed_money</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, sp_money: <span class="hljs-built_in">int</span></span>):
    time.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">with</span> l:  <span class="hljs-comment"># ä½¿ç”¨ with è¯­å¥æ¥è‡ªåŠ¨åŠ é”å’Œé‡Šæ”¾é”</span>
        <span class="hljs-keyword">global</span> total_money
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>,å‡†å¤‡å–<span class="hljs-subst">{sp_money}</span>å…ƒ,å¼€å§‹æ£€æµ‹ä½™é¢æ˜¯å¦å……è¶³"</span>)
        <span class="hljs-keyword">if</span> total_money:
            time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># åªæ˜¯å¢åŠ äº†è¿™æ­¥</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œä½™é¢å……è¶³ä¸º<span class="hljs-subst">{total_money}</span>ï¼Œå¼€å§‹å–é’±"</span>)
            total_money = <span class="hljs-built_in">round</span>(total_money - sp_money, <span class="hljs-number">2</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå½“å‰çº¿ç¨‹æ˜¯<span class="hljs-subst">{name}</span>ï¼Œå·²ç»å–äº†<span class="hljs-subst">{sp_money}</span>,è´¦å·ä½™é¢<span class="hljs-subst">{total_money}</span>"</span>)
    <span class="hljs-keyword">return</span> total_money

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ„å»ºçº¿ç¨‹</span>
    t1 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸€ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t2 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬äºŒä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))
    t3 = Thread(target=speed_money, args=(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªçº¿ç¨‹"</span>, <span class="hljs-number">100</span>))

    t1.start()
    t2.start()
    t3.start()

    t1.join()
    t2.join()
    t3.join()

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ„å»ºå®Œçº¿ç¨‹"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    start_time = time.time()
    main()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nmainå‡½æ•°æ‰§è¡Œç»“æŸ"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ€»è€—æ—¶"</span>, <span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">2</span>))
</code></pre>
<h6 data-id="heading-19">æ”¹åŠ¨å†…å®¹</h6>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39b6d244c034460db9ec5080e7cc4280~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=2hrvAHTMz3%2BiCHgijqekSyK%2BfGM%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-20">æ‰§è¡Œç»“æœ</h6>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98e1b1c7a3cc479cad31ed6f53d9aa8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6a2U546LNzE5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569940&amp;x-signature=xjTPQT7tKkd6trd%2F43uikr7JQHY%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»é‡å†™ï¼Flutter Add-to-App å…¨æ”»ç•¥ï¼šè®©åŸç”Ÿåº”ç”¨â€œæ¸è¿›å¼â€æ‹¥æŠ±è·¨å¹³å°]]></title>    <link>https://juejin.cn/post/7605772919225106466</link>    <guid>https://juejin.cn/post/7605772919225106466</guid>    <pubDate>2026-02-13T06:34:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605772919225106466" data-draft-id="7605772919225073698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»é‡å†™ï¼Flutter Add-to-App å…¨æ”»ç•¥ï¼šè®©åŸç”Ÿåº”ç”¨â€œæ¸è¿›å¼â€æ‹¥æŠ±è·¨å¹³å°"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯æ¡†æ¶,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-13T06:34:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RaidenLiu"/> <meta itemprop="url" content="https://juejin.cn/user/1781679670965208"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»é‡å†™ï¼Flutter Add-to-App å…¨æ”»ç•¥ï¼šè®©åŸç”Ÿåº”ç”¨â€œæ¸è¿›å¼â€æ‹¥æŠ±è·¨å¹³å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1781679670965208/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RaidenLiu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:34:20.000Z" title="Fri Feb 13 2026 06:34:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Add-to-Appï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecfa3fcb441443ada7c50f6455f432d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpZGVuTGl1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771569260&amp;x-signature=Yjai0j2pEz9SceYjeg6lFLBXJwE%3D" alt="unwatermarked_Gemini_Generated_Image_51ku3f51ku3f51ku.png" loading="lazy"/>
åœ¨ç§»åŠ¨å¼€å‘é¢†åŸŸï¼ŒFlutter çš„è·¨å¹³å°ä¼˜åŠ¿ï¼ˆWrite once, run anywhereï¼‰æ¯‹åº¸ç½®ç–‘ã€‚ä½†åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬å¾€å¾€é¢ä¸´ç€æ²‰é‡çš„â€œå†å²åŒ…è¢±â€ã€‚</p>
<p><strong>ç—›ç‚¹åœºæ™¯ï¼š</strong></p>
<blockquote>
<p>â€œæˆ‘ä»¬å…¬å¸æœ‰ä¸€ä¸ªç»´æŠ¤äº† 5 å¹´çš„ç”µå•† Appï¼ŒåŸç”Ÿä»£ç å‡ åä¸‡è¡Œã€‚æœ€è¿‘è€æ¿å«Œ UI è¿­ä»£æ…¢ï¼Œæƒ³ç”¨ Flutterï¼Œä½†å®Œå…¨é‡å†™æ˜¯ä¸å¯èƒ½çš„â€”â€”ä¸šåŠ¡çº¿å¤ªé•¿ï¼Œé£é™©å¤ªå¤§ã€‚æˆ‘ä»¬è¦çš„æ˜¯æ¸è¿›å¼çš„æ”¹å˜ã€‚â€</p>
</blockquote>
<p>è¿™å°±æ˜¯ <strong>Add-to-App</strong> å­˜åœ¨çš„æ„ä¹‰ã€‚å®ƒå…è®¸æˆ‘ä»¬å°† Flutter è§†ä¸ºä¸€ä¸ªâ€œåº“â€æˆ–â€œæ¨¡å—â€ï¼ŒåµŒå…¥åˆ°ç°æœ‰çš„ Android æˆ– iOS åº”ç”¨ä¸­ã€‚</p>
<p><strong>å®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</strong></p>
<ol>
<li><strong>æˆæœ¬æ§åˆ¶</strong>ï¼šæ— éœ€æŠ›å¼ƒç°æœ‰çš„åŸç”Ÿèµ„äº§ï¼ˆæ”¯ä»˜æ¨¡å—ã€å¤æ‚çš„åº•å±‚ç®—æ³•ç­‰ï¼‰ã€‚</li>
<li><strong>æ¸è¿›è¿ç§»</strong>ï¼šå¯ä»¥ä»ä¸€ä¸ªéæ ¸å¿ƒé¡µé¢ï¼ˆå¦‚â€œå…³äºæˆ‘ä»¬â€æˆ–â€œæ´»åŠ¨é¡µâ€ï¼‰å¼€å§‹ï¼Œé€æ­¥æ‰©å¤§ Flutter çš„ç‰ˆå›¾ã€‚</li>
<li><strong>å¤ç”¨èƒ½åŠ›</strong>ï¼šæ–°å¼€å‘çš„ Flutter æ¨¡å—å¯ä»¥ç›´æ¥åœ¨ Android å’Œ iOS ç”šè‡³ Web ä¸Šå¤ç”¨ï¼Œä»ä¸€å¼€å§‹å°±äº«å—è·¨å¹³å°çº¢åˆ©ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-1">Add-to-App çš„åŸºæœ¬æ¦‚å¿µä¸åŸç†</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Add-to-Appï¼Ÿ</h3>
<p>ç®€å•æ¥è¯´ï¼ŒAdd-to-App å°±æ˜¯æŠŠ Flutter ç¯å¢ƒï¼ˆDart VM + Flutter Engineï¼‰æ‰“åŒ…æˆä¸€ä¸ªåŸç”Ÿç»„ä»¶ï¼ˆView æˆ– ViewController/Activityï¼‰ï¼Œå¡è¿›ç°æœ‰çš„åŸç”Ÿ App é‡Œã€‚</p>
<ul>
<li><strong>å¯¹äº Android</strong>ï¼šFlutter åªæ˜¯ä¸€ä¸ª Viewï¼Œæˆ–è€…ä¸€ä¸ª Activity/Fragmentã€‚</li>
<li><strong>å¯¹äº iOS</strong>ï¼šFlutter åªæ˜¯ä¸€ä¸ª UIViewï¼Œæˆ–è€… FlutterViewControllerã€‚</li>
</ul>
<h3 data-id="heading-3">è¿è¡Œæ¨¡å¼ï¼šå¤šå¼•æ“ vs å¤šè§†å›¾</h3>
<p>åœ¨æ··åˆå¼€å‘ä¸­ï¼Œç†è§£ Flutter çš„â€œå¯„ç”Ÿâ€æ–¹å¼è‡³å…³é‡è¦ï¼š</p>





























<table><thead><tr><th><strong>ç­–ç•¥</strong></th><th><strong>æè¿°</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>å•å¼•æ“å¤ç”¨ (Single Engine)</strong></td><td>å…¨å±€ç»´æŠ¤ä¸€ä¸ª Engineï¼Œåœ¨ä¸åŒåŸç”Ÿé¡µé¢é—´è·³è½¬æ—¶ï¼Œé€šè¿‡ attach/detach æŒ‚è½½åˆ°å½“å‰ç•Œé¢ã€‚</td><td>å†…å­˜å ç”¨æœ€ä½ï¼›çŠ¶æ€ä¸ä»…å…±äº«ä¸”ä¿æŒã€‚</td><td>å¯¼èˆªæ ˆç®¡ç†æå…¶å¤æ‚ï¼ˆåŸç”Ÿé¡µé¢ A -&gt; Flutter B -&gt; åŸç”Ÿ C -&gt; è¿”å› B æ—¶éœ€æ¢å¤ç°åœºï¼‰ã€‚</td></tr><tr><td><strong>å¤šå¼•æ“ (Multi-Engine)</strong></td><td>æ¯æ¬¡æ‰“å¼€ Flutter é¡µé¢éƒ½åˆ›å»ºä¸€ä¸ªæ–° Engineã€‚</td><td>é€»è¾‘éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ï¼›å¯¼èˆªæ ˆç®¡ç†ç®€å•ã€‚</td><td><strong>å†…å­˜çˆ†ç‚¸</strong>ï¼ˆæ¯ä¸ª Engine é»˜è®¤æ¶ˆè€—è¾ƒå¤§ï¼‰ï¼Œå¯åŠ¨å»¶è¿Ÿæ˜æ˜¾ã€‚</td></tr><tr><td><strong>FlutterEngineGroup (æ¨è)</strong></td><td>å®˜æ–¹æä¾›çš„è½»é‡çº§å¤šå¼•æ“æ–¹æ¡ˆï¼ˆFlutter 2.0+ï¼‰ã€‚</td><td>å¤šä¸ª Engine å…±äº« GPU ä¸Šä¸‹æ–‡ã€å­—ä½“å’Œä»£ç æ®µï¼Œ<strong>æ–°å¢ä¸€ä¸ª Engine ä»…éœ€ ~180KB å†…å­˜</strong>ã€‚</td><td>Dart Isolate å½¼æ­¤éš”ç¦»ï¼Œ<strong>çŠ¶æ€ä¸å…±äº«</strong>ï¼ˆéœ€é€šè¿‡æ•°æ®å±‚åŒæ­¥ï¼‰ã€‚</td></tr></tbody></table>
<p><strong>è¯¯åŒºæç¤º</strong>ï¼šæ¡Œé¢ç«¯/Web æ”¯æŒçš„â€œå¤šè§†å›¾ï¼ˆMulti-viewï¼‰â€æ¨¡å¼ï¼ˆå³ä¸€ä¸ª Engine æ¸²æŸ“å¤šä¸ªçª—å£ï¼‰ç›®å‰<strong>å°šæœª</strong>åœ¨ç§»åŠ¨ç«¯ Add-to-App åœºæ™¯ä¸­ç¨³å®šæ”¯æŒã€‚åœ¨ç§»åŠ¨ç«¯ï¼Œè¯·ä¼˜å…ˆè€ƒè™‘ <strong>FlutterEngineGroup</strong>ã€‚</p>
<h3 data-id="heading-4">æœ€ä½³å®è·µåœºæ™¯</h3>
<ul>
<li><strong>é«˜é¢‘è¿­ä»£çš„ä¸šåŠ¡æ¨¡å—</strong>ï¼šå¦‚ç”µå•†çš„æ´»åŠ¨é¡µã€ä¸ªäººä¸­å¿ƒã€‚</li>
<li><strong>å¤æ‚çš„ UI äº¤äº’</strong>ï¼šå¦‚éœ€è¦é«˜æ€§èƒ½åŠ¨ç”»çš„å›¾è¡¨é¡µã€‚</li>
<li><strong>ç»Ÿä¸€é€»è¾‘</strong>ï¼šåŒç«¯é€»è¾‘å®Œå…¨ä¸€è‡´çš„è¡¨å•æäº¤æˆ–ä¸šåŠ¡è®¡ç®—ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">å®æˆ˜ Iï¼šåœ¨ Android åŸç”Ÿ App ä¸­åµŒå…¥ Flutter</h2>
<h3 data-id="heading-6">åˆ›å»º Flutter Module</h3>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬ä¸èƒ½ <code>flutter create my_app</code>ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦ä¸€ä¸ªå®Œæ•´çš„ App å£³å­ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ª<strong>æ¨¡å—</strong>ã€‚</p>
<pre><code class="hljs language-lua" lang="lua"># åœ¨åŸç”Ÿé¡¹ç›®åŒçº§ç›®å½•ä¸‹æ‰§è¡Œ
flutter <span class="hljs-built_in">create</span> -t <span class="hljs-built_in">module</span> my_flutter_module
</code></pre>
<p>æ‰§è¡Œåï¼Œä½ ä¼šå‘ç°ç”Ÿæˆçš„ç›®å½•ç»“æ„ä¸­ï¼Œ<code>android</code> å’Œ <code>ios</code> æ–‡ä»¶å¤¹æ˜¯éšè—çš„ï¼ˆ.android, .iosï¼‰ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„åŒ…è£…å™¨ã€‚</p>
<h3 data-id="heading-7">å°† Flutter Module å¯¼å…¥ Android é¡¹ç›®</h3>
<p>è‡ª Flutter 3.x èµ·ï¼Œå®˜æ–¹æ¨èé€šè¿‡ Gradle è„šæœ¬è‡ªåŠ¨ç®¡ç†ä¾èµ–ï¼Œé¿å…æ‰‹åŠ¨ç¼–å†™ implementation å¯¼è‡´çš„ç‰ˆæœ¬å†²çªã€‚</p>
<p><strong>æ­¥éª¤ 1ï¼šä¿®æ”¹ settings.gradle</strong></p>
<p>åœ¨ include ':app' ä¹‹ååŠ å…¥ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç»‘å®š Flutter æ¨¡å—æ„å»ºè„šæœ¬</span>
<span class="hljs-built_in">setBinding</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Binding</span>([gradle: <span class="hljs-keyword">this</span>]))
<span class="hljs-built_in">evaluate</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">File</span>(
  settingsDir.parentFile, <span class="hljs-comment">// å‡è®¾ flutter_module ä¸å½“å‰é¡¹ç›®åŒçº§</span>
  <span class="hljs-string">'my_flutter_module/.android/include_flutter.groovy'</span>
))
</code></pre>
<p><strong>æ­¥éª¤ 2ï¼šä¿®æ”¹ app/build.gradle</strong></p>
<p>ä¾èµ–ä¼šè‡ªåŠ¨æ³¨å…¥ï¼Œ<strong>é€šå¸¸æ— éœ€æ‰‹åŠ¨æ·»åŠ </strong> implementation project(':flutter')ã€‚ä½†éœ€ç¡®ä¿ compileSdkVersion ä¸ Flutter æ¨¡å—è¦æ±‚ä¸€è‡´ï¼ˆé€šå¸¸éœ€ API 33+ï¼‰ã€‚</p>
<p><strong>åœ¨ Android ä¸Šæ¸²æŸ“ Flutter (Activity ä¸ Fragment)</strong></p>
<p><strong>æ–¹å¼ Aï¼šä½¿ç”¨ FlutterActivityï¼ˆå…¨å±åœºæ™¯ï¼‰</strong></p>
<p>é€‚åˆç‹¬ç«‹çš„ä¸šåŠ¡æµç¨‹ï¼Œå¦‚â€œä¸ªäººä¸­å¿ƒâ€æˆ–â€œè®¾ç½®é¡µâ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜ Engine å¯åŠ¨ï¼ˆæ¨èï¼‰</span>
startActivity(
    FlutterActivity
        .withCachedEngine(<span class="hljs-string">"my_engine_id"</span>)
        .build(<span class="hljs-keyword">this</span>)
);
</code></pre>
<p><strong>æ–¹å¼ Bï¼šä½¿ç”¨ FlutterFragmentï¼ˆå±€éƒ¨åµŒå…¥ï¼‰</strong></p>
<p>é€‚åˆå°† Flutter ä½œä¸ºä¸€ä¸ª View å—åµŒå…¥åŸç”Ÿé¡µé¢ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªåŸç”Ÿ Tab é¡µä¸­å±•ç¤º Flutter åˆ—è¡¨ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ¨åŸç”Ÿ Activity æˆ– Fragment ä¸­</span>
FragmentManager fragmentManager = <span class="hljs-built_in">getSupportFragmentManager</span>();
fragmentManager
    <span class="hljs-selector-class">.beginTransaction</span>()
    <span class="hljs-selector-class">.replace</span>(R.id.fragment_container, 
             FlutterFragment.withCachedEngine("my_engine_id")<span class="hljs-selector-class">.build</span>())
    <span class="hljs-selector-class">.commit</span>();
</code></pre>
<p><strong>æ€§èƒ½ä¼˜åŒ– Tipï¼šä½¿ç”¨ç¼“å­˜ Engine</strong></p>
<p><code>withNewEngine()</code> ä¼šå¯¼è‡´æ¯æ¬¡æ‰“å¼€é¡µé¢éƒ½æœ‰æ˜æ˜¾çš„â€œç™½å±â€æˆ–åŠ è½½å»¶è¿Ÿã€‚æ¨èä½¿ç”¨ <strong>FlutterEngineCache</strong> è¿›è¡Œé¢„çƒ­ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// 1. åœ¨ Application å¯åŠ¨æ—¶é¢„çƒ­</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
    <span class="hljs-meta">@Override</span>
    public void onCreate() {
        <span class="hljs-keyword">super</span>.onCreate();
        <span class="hljs-comment">// å®ä¾‹åŒ– Engine</span>
        <span class="hljs-type">FlutterEngine</span> flutterEngine = <span class="hljs-keyword">new</span> <span class="hljs-type">FlutterEngine</span>(<span class="hljs-keyword">this</span>);
        <span class="hljs-comment">// å¼€å§‹æ‰§è¡Œ Dart ä»£ç ï¼ˆé¢„åŠ è½½ï¼‰</span>
        flutterEngine.getDartExecutor().executeDartEntrypoint(
            <span class="hljs-type">DartExecutor</span>.<span class="hljs-type">DartEntrypoint</span>.createDefault()
        );
        <span class="hljs-comment">// å­˜å…¥ç¼“å­˜</span>
        <span class="hljs-type">FlutterEngineCache</span>
            .getInstance()
            .put(<span class="hljs-string">"my_engine_id"</span>, flutterEngine);
    }
}

<span class="hljs-comment">// 2. å¯åŠ¨æ—¶ä½¿ç”¨ç¼“å­˜çš„ Engine</span>
startActivity(
    <span class="hljs-type">FlutterActivity</span>
        .withCachedEngine(<span class="hljs-string">"my_engine_id"</span>)
        .build(<span class="hljs-keyword">this</span>)
);
</code></pre>
<h2 data-id="heading-8">å®æˆ˜ IIï¼šåœ¨ iOS åŸç”Ÿ App é›†æˆ Flutter</h2>
<h3 data-id="heading-9">åˆ›å»º Flutter Module</h3>
<p>ï¼ˆåŒä¸Šï¼Œä½¿ç”¨åŒä¸€ä¸ª <code>my_flutter_module</code> å³å¯ï¼‰</p>
<h3 data-id="heading-10">CocoaPods é›†æˆ</h3>
<p>è¿™æ˜¯ iOS æœ€æ ‡å‡†çš„é›†æˆæ–¹å¼ã€‚</p>
<p><strong>ä¿®æ”¹ <code>Podfile</code></strong></p>
<p>åœ¨ iOS å·¥ç¨‹çš„ <code>Podfile</code> ä¸­æ·»åŠ è„šæœ¬é’©å­ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># Podfile</span>
platform <span class="hljs-symbol">:ios</span>, <span class="hljs-string">'14.0'</span>

<span class="hljs-comment"># å®šä¹‰ Flutter æ¨¡å—è·¯å¾„</span>
flutter_application_path = <span class="hljs-string">'../my_flutter_module'</span>

<span class="hljs-comment"># åŠ è½½ Flutter çš„ Pod åŠ©æ‰‹è„šæœ¬</span>
load <span class="hljs-title class_">File</span>.join(flutter_application_path, <span class="hljs-string">'.ios'</span>, <span class="hljs-string">'Flutter'</span>, <span class="hljs-string">'podhelper.rb'</span>)

target <span class="hljs-string">'MyApp'</span> <span class="hljs-keyword">do</span>
  use_frameworks!
  
  <span class="hljs-comment"># å®‰è£… Flutter ä¾èµ–</span>
  install_all_flutter_pods(flutter_application_path)
<span class="hljs-keyword">end</span>
</code></pre>
<p>æ‰§è¡Œ <code>pod install</code>ï¼Œä½ ä¼šå‘ç° Flutter ç›¸å…³çš„ Framework å·²ç»è¢«é“¾æ¥è¿›æ¥äº†ã€‚</p>
<h3 data-id="heading-11">åœ¨ iOS ä¸­æ‰“å¼€ Flutter View</h3>
<p>ä½¿ç”¨ <code>FlutterViewController</code>ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Flutter

<span class="hljs-comment">// åœ¨æŸä¸ªæŒ‰é’®ç‚¹å‡»äº‹ä»¶ä¸­</span>
<span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showFlutter</span>() {
    <span class="hljs-comment">// è·å– Flutter Engineï¼ˆåŒæ ·å»ºè®®ä½¿ç”¨ Cacheï¼Œè¿™é‡Œæ¼”ç¤ºç®€å•æ¨¡å¼ï¼‰</span>
    <span class="hljs-keyword">let</span> flutterEngine <span class="hljs-operator">=</span> (<span class="hljs-type">UIApplication</span>.shared.delegate <span class="hljs-keyword">as!</span> <span class="hljs-type">AppDelegate</span>).flutterEngine
    
    <span class="hljs-keyword">let</span> flutterViewController <span class="hljs-operator">=</span> <span class="hljs-type">FlutterViewController</span>(
        engine: flutterEngine, 
        nibName: <span class="hljs-literal">nil</span>, 
        bundle: <span class="hljs-literal">nil</span>
    )
    
    present(flutterViewController, animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
}
</code></pre>
<h3 data-id="heading-12">åœ¨ iOS ä¸­ä½¿ç”¨ç¼“å­˜ Engine</h3>
<p>ä¸ºäº†é¿å…ç‚¹å‡»æŒ‰é’®æ—¶å¡é¡¿ï¼Œ<strong>å¼ºçƒˆå»ºè®®</strong>åœ¨ App å¯åŠ¨æ—¶é¢„çƒ­ Engineã€‚</p>
<p><strong>æ­¥éª¤ 1ï¼šåœ¨ AppDelegate ä¸­åˆå§‹åŒ–å¹¶ç¼“å­˜</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> UIKit
<span class="hljs-keyword">import</span> Flutter
<span class="hljs-keyword">import</span> FlutterPluginRegistrant <span class="hljs-comment">// ç”¨äºæ³¨å†Œæ’ä»¶</span>

<span class="hljs-keyword">@main</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppDelegate</span>: <span class="hljs-title class_">FlutterAppDelegate</span> { <span class="hljs-comment">// ç»§æ‰¿ FlutterAppDelegate</span>
  
  <span class="hljs-keyword">lazy</span> <span class="hljs-keyword">var</span> flutterEngine <span class="hljs-operator">=</span> <span class="hljs-type">FlutterEngine</span>(name: <span class="hljs-string">"my_engine_id"</span>)

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">application</span>(
    <span class="hljs-keyword">_</span> <span class="hljs-params">application</span>: <span class="hljs-type">UIApplication</span>,
    <span class="hljs-params">didFinishLaunchingWithOptions</span> <span class="hljs-params">launchOptions</span>: [<span class="hljs-type">UIApplication</span>.<span class="hljs-params">LaunchOptionsKey</span>: <span class="hljs-keyword">Any</span>]<span class="hljs-operator">?</span>
  ) -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-comment">// 1. è¿è¡Œ Engine (é¢„çƒ­)</span>
    flutterEngine.run();
    <span class="hljs-comment">// 2. æ³¨å†Œæ’ä»¶ï¼ˆå…³é”®ï¼å¦åˆ™ Flutter é‡Œçš„æ’ä»¶æ— æ³•ä½¿ç”¨ï¼‰</span>
    <span class="hljs-type">GeneratedPluginRegistrant</span>.register(with: flutterEngine);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.application(application, didFinishLaunchingWithOptions: launchOptions);
  }
}
</code></pre>
<p><strong>æ­¥éª¤ 2ï¼šä½¿ç”¨ç¼“å­˜ Engine å¼¹å‡ºé¡µé¢</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showFlutter</span>() {
    <span class="hljs-keyword">let</span> appDelegate <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.delegate <span class="hljs-keyword">as!</span> <span class="hljs-type">AppDelegate</span>
    <span class="hljs-keyword">let</span> flutterEngine <span class="hljs-operator">=</span> appDelegate.flutterEngine
    
    <span class="hljs-keyword">let</span> flutterVC <span class="hljs-operator">=</span> <span class="hljs-type">FlutterViewController</span>(engine: flutterEngine, nibName: <span class="hljs-literal">nil</span>, bundle: <span class="hljs-literal">nil</span>)
    present(flutterVC, animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
}
</code></pre>
<h2 data-id="heading-13">è¿›é˜¶ï¼šåŸç”Ÿä¸ Flutter çš„åŒå‘é€šä¿¡ (MethodChannel)</h2>
<p>å½“æ··åˆå¼€å‘æ—¶ï¼Œä¸å¯é¿å…åœ°éœ€è¦æ•°æ®äº¤äº’ï¼šFlutter è¯»å–åŸç”Ÿçš„ Tokenï¼Œæˆ–è€…åŸç”Ÿè°ƒç”¨ Flutter çš„åˆ·æ–°æ–¹æ³•ã€‚<strong>MethodChannel</strong> æ˜¯æœ€å¸¸ç”¨çš„æ¡¥æ¢ã€‚</p>
<h3 data-id="heading-14">5.1 Flutter ç«¯ (Dart)</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/services.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NativeBridge</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> platform = MethodChannel(<span class="hljs-string">'com.example.app/data'</span>);

  <span class="hljs-comment">// è°ƒç”¨åŸç”Ÿæ–¹æ³•</span>
  Future&lt;<span class="hljs-built_in">String</span>&gt; getUserToken() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> token = <span class="hljs-keyword">await</span> platform.invokeMethod(<span class="hljs-string">'getToken'</span>);
      <span class="hljs-keyword">return</span> token;
    } <span class="hljs-keyword">on</span> PlatformException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">"Failed: '<span class="hljs-subst">${e.message}</span>'."</span>;
    }
  }
}
</code></pre>
<h3 data-id="heading-15">5.2 Android ç«¯</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// éœ€åœ¨ Engine åˆå§‹åŒ–åæ³¨å†Œ Channel</span>
new <span class="hljs-built_in">MethodChannel</span>(flutterEngine.getDartExecutor()<span class="hljs-selector-class">.getBinaryMessenger</span>(), "com<span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.app</span>/data")
    <span class="hljs-selector-class">.setMethodCallHandler</span>(
        (call, result) -&gt; {
            if (call.method.equals("getToken")) {
                <span class="hljs-comment">// æ‰§è¡ŒåŸç”Ÿé€»è¾‘è·å– Token</span>
                String token = MyAuthManager<span class="hljs-selector-class">.getToken</span>();
                result<span class="hljs-selector-class">.success</span>(token);
            } else {
                result<span class="hljs-selector-class">.notImplemented</span>();
            }
        }
    );
</code></pre>
<h3 data-id="heading-16"><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></h3>
<p>MethodChannel å¹¶éèƒ½ä¼ é€’ä»»æ„å¯¹è±¡ï¼Œå®ƒçš„åº•å±‚ä¾èµ– <strong>BinaryMessenger</strong> è¿›è¡ŒäºŒè¿›åˆ¶æµä¼ è¾“ã€‚</p>
<ul>
<li>
<p><strong>StandardMethodCodecï¼ˆæ ‡å‡†ç¼–è§£ç å™¨ï¼‰</strong> ï¼š Flutter é»˜è®¤ä½¿ç”¨æ­¤ Codecï¼Œå®ƒåªæ”¯æŒé«˜æ•ˆåºåˆ—åŒ–ä»¥ä¸‹<strong>åŸºç¡€ç±»å‹</strong>ï¼š</p>
<ul>
<li><code>null</code>, <code>bool</code>, <code>int</code>, <code>double</code>, <code>String</code></li>
<li><code>List</code>, <code>Map</code> (ä»…é™ä¸Šè¿°åŸºç¡€ç±»å‹çš„é›†åˆ)</li>
<li>äºŒè¿›åˆ¶æ•°æ® (<code>Uint8List</code> / <code>byte[]</code>)</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ å°è¯•ç›´æ¥ä¼ é€’ä¸€ä¸ªè‡ªå®šä¹‰ç±» <code>User</code>ï¼Œé€šé“ä¼šæŠ¥é”™ã€‚ <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå°†å¯¹è±¡è½¬ä¸º JSON String æˆ– Map è¿›è¡Œä¼ é€’ï¼Œæˆ–è€…è‡ªå®šä¹‰ Codecã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-17">è¿›é˜¶ï¼šæ··åˆæ ˆç®¡ç†ä¸å¤š Engine æŒ‘æˆ˜</h2>
<p>åœ¨ Add-to-App ä¸­ï¼Œæœ€å¤´ç–¼çš„é—®é¢˜å¾€å¾€æ˜¯ å¯¼èˆªæ ˆï¼ˆNavigation Stackï¼‰ã€‚</p>
<p>æ¯”å¦‚ï¼š<code>åŸç”Ÿ A -&gt; Flutter B -&gt; åŸç”Ÿ C -&gt; Flutter D</code>ã€‚</p>
<h3 data-id="heading-18">æŒ‘æˆ˜</h3>
<ol>
<li><strong>å†…å­˜çˆ†ç‚¸</strong>ï¼šå¦‚æœæ¯æ¬¡ <code>&gt; Flutter</code> éƒ½åˆ›å»ºä¸€ä¸ªæ–° Engineï¼Œå†…å­˜ä¼šè¿…é€Ÿè€—å°½ã€‚</li>
<li><strong>çŠ¶æ€ä¸¢å¤±</strong>ï¼šå¦‚æœå¤ç”¨åŒä¸€ä¸ª Engineï¼Œä» C è¿”å› B æ—¶ï¼ŒFlutter çš„çŠ¶æ€æ€ä¹ˆæ¢å¤ï¼Ÿ</li>
</ol>
<h3 data-id="heading-19">è§£å†³æ–¹æ¡ˆç­–ç•¥</h3>
<p>å½“åŸç”Ÿåº”ç”¨éœ€è¦åœ¨ Feed æµä¸­åµŒå…¥å¤šä¸ª Flutter å¡ç‰‡ï¼Œæˆ–è€…åŒæ—¶å­˜åœ¨å¤šä¸ª Flutter é¡µé¢æ ˆæ—¶ï¼Œå•çº¯çš„â€œå•å¼•æ“â€æˆ–â€œå¤šå¼•æ“â€éƒ½ä¸å¤Ÿå®Œç¾ã€‚</p>
<p><strong>ç»ˆææ–¹æ¡ˆï¼šFlutterEngineGroup</strong> è¿™æ˜¯å®˜æ–¹ä¸ºäº†è§£å†³â€œå¤šå®ä¾‹å†…å­˜å ç”¨â€æ¨å‡ºçš„ APIã€‚</p>
<p><strong>åŸç†</strong>ï¼š å®ƒå…è®¸ä½ åˆ›å»ºå¤šä¸ª Engine å®ä¾‹ï¼Œè¿™äº›å®ä¾‹å…±äº«å†…å­˜é‡çš„èµ„æºï¼ˆå¦‚ Skia Shaderã€å­—ä½“ã€Dart VM å¿«ç…§ï¼‰ï¼Œä½†ä¿æŒ <strong>Dart Isolate éš”ç¦»</strong>ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ (Android)</strong> ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»º EngineGroup
FlutterEngineGroup <span class="hljs-attr">engineGroup</span> = new FlutterEngineGroup(context)<span class="hljs-comment">;</span>

// åˆ›å»ºç¬¬ä¸€ä¸ªè½»é‡çº§ Engine
FlutterEngine <span class="hljs-attr">engine1</span> = engineGroup.createAndRunDefaultEngine(context)<span class="hljs-comment">;</span>

// åˆ›å»ºç¬¬äºŒä¸ªè½»é‡çº§ Engineï¼ˆå¤ç”¨èµ„æºï¼Œå†…å­˜å¼€é”€æä½ï¼‰
FlutterEngine <span class="hljs-attr">engine2</span> = engineGroup.createAndRunDefaultEngine(context)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>çŠ¶æ€ç®¡ç†æŒ‘æˆ˜</strong>ï¼š ç”±äº EngineGroup ä¸­çš„ Isolate æ˜¯éš”ç¦»çš„ï¼Œ<code>engine1</code> ä¸­çš„å…¨å±€å˜é‡æ— æ³•è¢« <code>engine2</code> ç›´æ¥è¯»å–ã€‚</p>
<ul>
<li><strong>è§£å†³</strong>ï¼šç›¸æ¯”äºé€šè¿‡åŸç”Ÿå±‚ï¼ˆHostï¼‰ä½œä¸ºä¸­è½¬ç«™ï¼Œæˆ–è€…ä½¿ç”¨æŒä¹…åŒ–å­˜å‚¨ï¼ˆDatabase/SharedPrefsï¼‰æ¥åŒæ­¥ä¸åŒ Flutter é¡µé¢é—´çš„æ•°æ®ã€‚ä½¿ç”¨å¹³å°é€šé“å¹¶ä¸”æ­é…ä¸Š<strong>pigeon</strong>ï¼Œç›¸ä¿¡ä¼šç»™ä½ å¤æ‚åŸç”Ÿäº¤äº’æä¾›ä¸å°‘çš„ä¾¿åˆ©ã€‚</li>
</ul>
<h2 data-id="heading-20">7. å¸¸è§é—®é¢˜ä¸â€œé¿å‘â€æŒ‡å—</h2>






























<table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>ç°è±¡/åŸå› </strong></th><th><strong>è§£å†³æ–¹æ¡ˆ</strong></th></tr></thead><tbody><tr><td><strong>å†·å¯åŠ¨</strong></td><td>ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 1-2 ç§’æ‰å‡ºç° Flutter ç”»é¢ï¼Œä¸”æœ‰ç™½å±ã€‚</td><td><strong>å¿…é¡»é¢„çƒ­ Engine</strong>ï¼åœ¨ App å¯åŠ¨æ—¶åˆå§‹åŒ– Engine å¹¶å­˜å…¥ Cacheã€‚</td></tr><tr><td><strong>è°ƒè¯•</strong></td><td>è¿è¡ŒåŸç”Ÿ App åï¼Œæ— æ³•ä½¿ç”¨ Flutter çš„çƒ­é‡è½½ (Hot Reload)ã€‚</td><td>åœ¨ç»ˆç«¯è¿è¡Œ <code>flutter attach</code>ï¼Œè¿æ¥åˆ°æ­£åœ¨è¿è¡Œçš„è®¾å¤‡ã€‚</td></tr><tr><td><strong>å›¾ç‰‡åŠ è½½</strong></td><td>Flutter æ— æ³•åŠ è½½åŸç”Ÿ Assets ä¸­çš„å›¾ç‰‡ã€‚</td><td>åŸç”Ÿå›¾ç‰‡éœ€åœ¨ Flutter <code>pubspec.yaml</code> ä¸­å£°æ˜ï¼Œæˆ–é€šè¿‡ Platform Channel ä¼ é€’å›¾ç‰‡æ•°æ®ï¼ˆå­—èŠ‚æµï¼‰ã€‚</td></tr><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td>Flutter é¡µé¢é€€åå°åï¼Œä»£ç è¢«æŒ‚èµ·ã€‚</td><td>åŸç”Ÿå±‚éœ€æ­£ç¡®è½¬å‘ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼ˆ<code>lifecycle_channel</code>ï¼‰ï¼Œç¡®ä¿ Flutter çŸ¥é“è‡ªå·±å¤„äºå‰å°è¿˜æ˜¯åå°ã€‚</td></tr></tbody></table>
<h2 data-id="heading-21">8. æ€»ç»“</h2>
<p>Add-to-App æ–¹æ¡ˆæ‰“ç ´äº†â€œéé»‘å³ç™½â€çš„æŠ€æœ¯é€‰å‹å›°å¢ƒï¼Œæ˜¯ç›®å‰å¤§å‹ App å¼•å…¥ Flutter çš„ä¸»æµè·¯å¾„ã€‚</p>
<p><strong>æ ¸å¿ƒè·¯å¾„å›é¡¾ï¼š</strong></p>
<ol>
<li><code>flutter create -t module</code> åˆ›å»ºæ¨¡å—ã€‚</li>
<li>åˆ©ç”¨ <strong>FlutterEngineCache</strong> è§£å†³æ€§èƒ½é—®é¢˜ã€‚</li>
<li>åˆ©ç”¨ <strong>MethodChannel</strong> æ‰“é€šæ•°æ®ç»è„‰ã€‚</li>
</ol>
<p>æ··åˆå¼€å‘æ²¡æœ‰é“¶å¼¹ï¼Œåªæœ‰ä¸æ–­çš„æƒè¡¡ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åœ¨ç°æœ‰çš„åŸç”Ÿå ¡å’ä¸­ï¼ŒæˆåŠŸå¼€è¾Ÿå‡ºç¬¬ä¸€å— Flutter çš„ç–†åœŸï¼</p>
<h3 data-id="heading-22">å»¶ä¼¸é˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fflutter.dev%2Fdocs%2Fdevelopment%2Fadd-to-app" target="_blank" title="https://flutter.dev/docs/development/add-to-app" ref="nofollow noopener noreferrer">Flutter å®˜æ–¹ Add-to-App æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fsamples%2Ftree%2Fmaster%2Fadd_to_app" target="_blank" title="https://github.com/flutter/samples/tree/master/add_to_app" ref="nofollow noopener noreferrer">GitHub ç¤ºä¾‹ï¼šflutter_module_books</a></li>
</ul>
<p><em>å¸Œæœ›è¿™ç¯‡åˆ†äº«å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœæƒ³äº†è§£æ›´æ·±å±‚çš„ Engine æºç åˆ†æï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†ç”¨ ID å®šä½äº†ï¼æ•™ä½ ç”¨"è¯­ä¹‰æŒ‡çº¹"å®ç° 99% çš„å…ƒç´ å®šä½æˆåŠŸç‡]]></title>    <link>https://juejin.cn/post/7605856048361701414</link>    <guid>https://juejin.cn/post/7605856048361701414</guid>    <pubDate>2026-02-13T06:42:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605856048361701414" data-draft-id="7605888927714721830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†ç”¨ ID å®šä½äº†ï¼æ•™ä½ ç”¨&quot;è¯­ä¹‰æŒ‡çº¹&quot;å®ç° 99% çš„å…ƒç´ å®šä½æˆåŠŸç‡"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC"/> <meta itemprop="datePublished" content="2026-02-13T06:42:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¾„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/784393864231083"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†ç”¨ ID å®šä½äº†ï¼æ•™ä½ ç”¨"è¯­ä¹‰æŒ‡çº¹"å®ç° 99% çš„å…ƒç´ å®šä½æˆåŠŸç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/784393864231083/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¾„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T06:42:12.000Z" title="Fri Feb 13 2026 06:42:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç—›ç‚¹</h2>
<p>åšè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•æˆ–çˆ¬è™«çš„åŒå­¦ä¸€å®šé‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼š
æ˜¨å¤©å†™çš„è„šæœ¬ <code>document.querySelector('#login-btn')</code> è¿˜èƒ½è·‘ï¼Œä»Šå¤©ç½‘ç«™æ›´æ–°äº†ï¼ŒID å˜æˆäº† <code>#login-btn-123</code>ï¼Œè„šæœ¬ç›´æ¥æŒ‚æ‰ã€‚</p>
<p>åœ¨å¼€å‘ <strong>AutoForm æ™ºèƒ½è¡¨å•å¡«å…… SDK</strong> æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´åŒæ ·çš„æŒ‘æˆ˜ï¼šå¦‚ä½•è®© SDK åœ¨é¡µé¢ç»“æ„å˜åŒ–åï¼Œä¾ç„¶èƒ½æ‰¾åˆ°é‚£ä¸ª"ç”¨æˆ·åè¾“å…¥æ¡†"ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>è¯­ä¹‰æŒ‡çº¹ï¼ˆSemantic Fingerprintingï¼‰</strong>ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯è¯­ä¹‰æŒ‡çº¹ï¼Ÿ</h2>
<p>äººç±»æ‰¾å…ƒç´ ä¸æ˜¯é  IDï¼Œè€Œæ˜¯é "ç‰¹å¾"ã€‚
å½“ä½ çœ‹åˆ°ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œæ—è¾¹å†™ç€"ç”¨æˆ·å"ï¼Œé‡Œé¢æç¤º"è¯·è¾“å…¥æ‰‹æœºå·"ï¼Œä½ å°±çŸ¥é“å®ƒæ˜¯å¹²å˜›çš„ã€‚</p>
<p>æˆ‘ä»¬å°†è¿™äº›ç‰¹å¾æå–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼Œè¿™å°±æ˜¯"è¯­ä¹‰æŒ‡çº¹"ã€‚</p>
<h2 data-id="heading-2">ç®—æ³•å®ç°</h2>
<h3 data-id="heading-3">1. ç‰¹å¾æå–</h3>
<p>æˆ‘ä»¬æå–ä»¥ä¸‹ç»´åº¦çš„ç‰¹å¾ï¼š</p>
<ul>
<li><strong>Label æ–‡æœ¬</strong>ï¼šè¿™æ˜¯æœ€å¼ºçš„è¯­ä¹‰ç‰¹å¾ã€‚</li>
<li><strong>Placeholder</strong>ï¼šæç¤ºæ–‡æ¡ˆã€‚</li>
<li><strong>Name å±æ€§</strong>ï¼šé€šå¸¸åŒ…å«å­—æ®µå«ä¹‰ï¼ˆå¦‚ <code>username</code>, <code>email</code>ï¼‰ã€‚</li>
<li><strong>Input Type</strong>ï¼šè¾“å…¥ç±»å‹ï¼ˆ<code>text</code>, <code>password</code>, <code>checkbox</code>ï¼‰ã€‚</li>
<li><strong>å‰é©±/åç»§æ–‡æœ¬</strong>ï¼šDOM æ ‘ä¸­ç›¸é‚»çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">extractFeatures</span>(<span class="hljs-params">element</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">tag</span>: element.<span class="hljs-property">tagName</span>,
    <span class="hljs-attr">type</span>: element.<span class="hljs-property">type</span>,
    <span class="hljs-attr">name</span>: element.<span class="hljs-property">name</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-title function_">findLabel</span>(element), <span class="hljs-comment">// å…³è”çš„ label æ–‡æœ¬</span>
    <span class="hljs-attr">placeholder</span>: element.<span class="hljs-property">placeholder</span>,
    <span class="hljs-attr">surroundingText</span>: <span class="hljs-title function_">getSurroundingText</span>(element)
  };
}
</code></pre>
<h3 data-id="heading-4">2. æŒ‡çº¹ç”Ÿæˆ</h3>
<p>å°†ç‰¹å¾æ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œç„¶åè®¡ç®— Hashã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { md5 } <span class="hljs-keyword">from</span> <span class="hljs-string">'hash-wasm'</span>;

<span class="hljs-keyword">const</span> fingerprint = <span class="hljs-keyword">await</span> <span class="hljs-title function_">md5</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(features));
</code></pre>
<h3 data-id="heading-5">3. æ¨¡ç³ŠåŒ¹é…</h3>
<p>å½“é¡µé¢æ›´æ–°åï¼Œæ–°å…ƒç´ çš„æŒ‡çº¹å¯èƒ½ä¸æ—§æŒ‡çº¹ä¸å®Œå…¨ä¸€è‡´ï¼ˆæ¯”å¦‚ placeholder å˜äº†ï¼‰ã€‚è¿™æ—¶æˆ‘ä»¬è®¡ç®—<strong>ç›¸ä¼¼åº¦ï¼ˆSimilarity Scoreï¼‰</strong>ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ <strong>Levenshtein Distanceï¼ˆç¼–è¾‘è·ç¦»ï¼‰</strong> ç®—æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªç‰¹å¾å¯¹è±¡çš„ç›¸ä¼¼åº¦ã€‚å¦‚æœç›¸ä¼¼åº¦ &gt; 80%ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæ‰¾åˆ°äº†ç›®æ ‡ã€‚</p>
<h2 data-id="heading-6">æ•ˆæœ</h2>
<p>å¼•å…¥è¯­ä¹‰æŒ‡çº¹åï¼ŒAutoForm çš„å®šä½æŠ—å¹²æ‰°èƒ½åŠ›å¤§å¹…æå‡ï¼š</p>
<ul>
<li><strong>ID å˜åŒ–</strong>ï¼šå®Œå…¨å…ç–«ã€‚</li>
<li><strong>DOM ç»“æ„å¾®è°ƒ</strong>ï¼šå®Œå…¨å…ç–«ã€‚</li>
<li><strong>æ–‡æ¡ˆå¾®è°ƒ</strong>ï¼šåªè¦æ ¸å¿ƒè¯­ä¹‰æ²¡å˜ï¼ˆå¦‚"ç”¨æˆ·å"å˜æˆ"è¯·è¾“å…¥ç”¨æˆ·å"ï¼‰ï¼Œä¾ç„¶èƒ½è¯†åˆ«ã€‚</li>
</ul>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>åœ¨ AI æ—¶ä»£ï¼ŒåŸºäºè§„åˆ™çš„ç¡¬ç¼–ç ï¼ˆHard-codingï¼‰å·²ç»è¿‡æ—¶äº†ã€‚åŸºäºç‰¹å¾çš„æ¨¡ç³ŠåŒ¹é…æ‰æ˜¯æœªæ¥çš„æ–¹å‘ã€‚</p>
<hr/>
<p><strong>æ€è€ƒ</strong>ï¼šå¦‚æœé¡µé¢ä¸Šæœ‰ä¸¤ä¸ªå®Œå…¨ä¸€æ ·çš„è¾“å…¥æ¡†ï¼ˆå¦‚ä¸¤ä¸ª"æ‰‹æœºå·"ï¼‰ï¼Œè¯¥å¦‚ä½•åŒºåˆ†ï¼Ÿæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼</p>
<p>ğŸ‘‰ <strong>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F51bpms.com" target="_blank" title="https://51bpms.com" ref="nofollow noopener noreferrer">51bpms.com</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Prompt caching æŠ€æœ¯æ˜¯å¦‚ä½•å®ç° 1 æŠ˜çš„æ¨ç†æˆæœ¬ä¼˜åŒ–çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7605817795629252658</link>    <guid>https://juejin.cn/post/7605817795629252658</guid>    <pubDate>2026-02-13T05:27:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605817795629252658" data-draft-id="7605811866908819465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Prompt caching æŠ€æœ¯æ˜¯å¦‚ä½•å®ç° 1 æŠ˜çš„æ¨ç†æˆæœ¬ä¼˜åŒ–çš„ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-13T05:27:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Baihai_IDP"/> <meta itemprop="url" content="https://juejin.cn/user/3123071228582343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Prompt caching æŠ€æœ¯æ˜¯å¦‚ä½•å®ç° 1 æŠ˜çš„æ¨ç†æˆæœ¬ä¼˜åŒ–çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3123071228582343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Baihai_IDP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T05:27:18.000Z" title="Fri Feb 13 2026 05:27:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç¼–è€…æŒ‰ï¼š</strong> ä½ æ˜¯å¦æ›¾å¥½å¥‡è¿‡ï¼Œé‚£äº›å£°ç§°èƒ½å°†é•¿æ–‡æœ¬è¾“å…¥æˆæœ¬é™ä½90%ã€å»¶è¿Ÿå‡å°‘85%çš„"Prompt Caching"æŠ€æœ¯ï¼ŒèƒŒåç©¶ç«Ÿç¼“å­˜äº†ä»€ä¹ˆï¼Ÿæ˜¯ç®€å•çš„æ–‡æœ¬å¤ç”¨ï¼Œè¿˜æ˜¯æŸç§æ›´æ·±å±‚çš„è®¡ç®—ä¼˜åŒ–ï¼Ÿ</p>
<p>æˆ‘ä»¬ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„æ–‡ç« ï¼Œä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼šPrompt Cachingçš„æœ¬è´¨å¹¶éç®€å•çš„æ–‡æœ¬å­—ç¬¦ä¸²ç¼“å­˜ï¼Œè€Œæ˜¯å¯¹Transformeræ³¨æ„åŠ›æœºåˆ¶ä¸­Key-Valueï¼ˆKVï¼‰çŸ©é˜µè®¡ç®—ç»“æœçš„å¤ç”¨ï¼Œé€šè¿‡é¿å…é‡å¤è®¡ç®—æ³¨æ„åŠ›æƒé‡æ¥å®ç°æˆæœ¬å‰Šå‡ä¸æ€§èƒ½æå‡ã€‚</p>
<p>æ–‡ç« çš„é‡ç‚¹å†…å®¹åŒ…æ‹¬ï¼šç¬¬ä¸€ï¼Œä»Tokenizeråˆ°Embeddingå†åˆ°Transformerçš„å®Œæ•´æŠ€æœ¯æ‹†è§£ï¼Œå¸®åŠ©è¯»è€…å»ºç«‹å¯¹LLMå†…éƒ¨æ•°æ®æµçš„ç›´è§‰è®¤çŸ¥ï¼›ç¬¬äºŒï¼Œå¯¹æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttentionï¼‰çš„æ•°å­¦åŸç†è¿›è¡Œæ·±å…¥æµ…å‡ºçš„é˜é‡Šï¼Œè¯¦ç»†å±•ç¤ºäº†Queryã€Keyã€ValueçŸ©é˜µçš„è®¡ç®—è¿‡ç¨‹ä»¥åŠSoftmaxæƒé‡åˆ†é…æœºåˆ¶ï¼›ç¬¬ä¸‰ï¼Œæ­ç¤ºäº†"KV Caching"çš„æ ¸å¿ƒå®ç°é€»è¾‘ â€”â€” é€šè¿‡ç¼“å­˜å†å²tokençš„Kã€VæŠ•å½±çŸ©é˜µï¼Œä½¿æ¨¡å‹åœ¨å¢é‡ç”Ÿæˆæ—¶åªéœ€è®¡ç®—æœ€æ–°tokenï¼Œè€Œéé‡æ–°å¤„ç†æ•´ä¸ªä¸Šä¸‹æ–‡ï¼›ç¬¬å››ï¼Œå¯¹OpenAIä¸Anthropicä¸¤ç§ç¼“å­˜ç­–ç•¥çš„å¯¹æ¯”åˆ†æï¼ŒæŒ‡å‡ºè‡ªåŠ¨è·¯ç”±ä¸æ˜¾å¼æ§åˆ¶ä¹‹é—´çš„æƒè¡¡ï¼Œä»¥åŠTemperatureç­‰é‡‡æ ·å‚æ•°å¯¹ç¼“å­˜æœºåˆ¶çš„é›¶å½±å“ã€‚</p>
</blockquote>
<p><strong>ä½œè€… | Sam Rose</strong></p>
<p><strong>ç¼–è¯‘ | å²³æ‰¬</strong></p>
<p>æ’°å†™æœ¬æ–‡æ—¶ï¼ŒOpenAI å’Œ Anthropic çš„ API ä¸­ï¼Œç¼“å­˜çš„ input token å•ä»·ä»…ä¸ºæ™®é€š input token çš„ååˆ†ä¹‹ä¸€ã€‚</p>
<p>Anthropic ç”šè‡³å£°ç§°[1]ï¼Œprompt caching èƒ½å°†é•¿ prompt çš„å»¶è¿Ÿâ€œæœ€é«˜é™ä½ 85%â€ã€‚è€Œåœ¨å®é™…æµ‹è¯•ä¸­ï¼Œæˆ‘å‘ç°å¯¹äºè¶³å¤Ÿé•¿çš„ promptï¼Œè¿™ä¸€è¯´æ³•ç¡®å®æˆç«‹ã€‚æˆ‘å‘ Anthropic å’Œ OpenAI å„å‘é€äº†æ•°ç™¾æ¬¡è¯·æ±‚ï¼Œæ³¨æ„åˆ°åœ¨æ‰€æœ‰ input token å‡è¢«ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œé¦– token å»¶è¿Ÿï¼ˆtime-to-first-token latencyï¼‰å‡ºç°äº†æ˜æ˜¾ä¸‹é™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2764ce95d6845ac9561176b2e45fd21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=X6TG1R9ac7VLfJuCCkCkXz7on6c%3D" alt="image.png" loading="lazy"/></p>
<p>ç¼“å­˜ tokenï¼ˆcached tokenï¼‰åˆ°åº•æ˜¯ä»€ä¹ˆç©æ„å„¿ï¼ŸÂ </p>
<p>è¿™èƒŒåç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆï¼Œè®©æœåŠ¡å•†èƒ½ç»™ input token æ‰“å‡º 1 æŠ˜çš„è¶…ä½æŠ˜æ‰£ï¼Ÿä»–ä»¬åœ¨å„æ¬¡è¯·æ±‚ä¹‹é—´åˆ°åº•ä¿å­˜äº†ä»€ä¹ˆï¼Ÿè¿™å¯ä¸æ˜¯ç®€å•åœ°æŠŠå“åº”ç»“æœå­˜ä¸‹æ¥ï¼Œç­‰æ”¶åˆ°ç›¸åŒ prompt æ—¶å†å¤ç”¨ â€”â€” é€šè¿‡ API å°±èƒ½å¾ˆå®¹æ˜“åœ°éªŒè¯è¿™ä¸€ç‚¹å¹¶æœªå‘ç”Ÿã€‚<strong>éšä¾¿å†™ä¸ª promptï¼Œè¿ç»­å‘é€åå‡ æ¬¡ï¼Œä½ ä¼šå‘ç°å³ä½¿ä½¿ç”¨æƒ…å†µæ ï¼ˆusage éƒ¨åˆ†ï¼‰æ˜¾ç¤º input token å·²è¢«ç¼“å­˜ï¼Œæ¯æ¬¡å¾—åˆ°çš„å›å¤ä»ç„¶å„ä¸ç›¸åŒã€‚</strong></p>
<p>æˆ‘å¯¹å¤§æ¨¡å‹å‚å•†æ–‡æ¡£ä¸­çš„è§£é‡Š[2-3]å¹¶ä¸æ»¡æ„ â€”â€” å®ƒä»¬è™½èƒ½å¾ˆå¥½åœ°è¯´æ˜å¦‚ä½•ä½¿ç”¨ prompt cachingï¼Œå´å·§å¦™åœ°é¿å¼€äº†â€œç©¶ç«Ÿç¼“å­˜äº†ä»€ä¹ˆâ€è¿™ä¸ªæ ¸å¿ƒé—®é¢˜ã€‚äºæ˜¯æˆ‘å†³å®šæ·±å…¥æ¢ç©¶ï¼Œä¸€å¤´æ‰è¿› LLM å·¥ä½œåŸç†çš„â€œå…”å­æ´â€ï¼Œç›´åˆ°å½»åº•ææ˜ç™½æœåŠ¡å•†ç©¶ç«Ÿç¼“å­˜äº†å“ªäº›ç²¾ç¡®çš„æ•°æ®ã€è¿™äº›æ•°æ®çš„ç”¨é€”ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•è®©æ¯ä¸ªäººçš„ LLM è¯·æ±‚éƒ½å˜å¾—æ›´å¿«é€Ÿã€æ›´ä¾¿å®œã€‚</p>
<p>è¯»å®Œæœ¬æ–‡ï¼Œä½ å°†â€¦â€¦</p>
<ul>
<li>åœ¨æ›´æ·±å±‚æ¬¡ä¸Šç†è§£ LLM çš„å·¥ä½œåŸç†</li>
<li>å¯¹â€œLLM çš„è¿ä½œæ–¹å¼â€å»ºç«‹æ–°çš„ç›´è§‰è®¤çŸ¥</li>
<li>å¼„æ˜ç™½ç©¶ç«Ÿå“ªäº›äºŒè¿›åˆ¶æ•°æ®è¢«ç¼“å­˜äº†ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•é™ä½ä½ çš„ LLM è¯·æ±‚æˆæœ¬</li>
</ul>
<h2 data-id="heading-0"><strong>01 LLM æ¶æ„</strong></h2>
<p>æœ¬è´¨ä¸Šï¼ŒLLM å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ•°å­¦å‡½æ•°ï¼šè¾“å…¥ä¸€ä¸²æ•°å­—ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªæ•°å­—ã€‚åœ¨ LLM å†…éƒ¨ï¼Œå­˜åœ¨ç€ä¸€ä¸ªç”±æ•°åäº¿ä¸ªç²¾å¿ƒè®¾è®¡çš„è¿ç®—æ„æˆçš„å·¨å‹å›¾ç»“æ„ï¼Œè´Ÿè´£å°†è¿™äº›è¾“å…¥æ•°å­—è½¬åŒ–ä¸ºè¾“å‡ºæ•°å­—ã€‚</p>
<p>è¿™ä¸ªç”±æµ·é‡æ•°å­¦è¿ç®—æ„æˆçš„å·¨å‹å›¾ç»“æ„å¤§è‡´å¯åˆ†ä¸º 4 ä¸ªéƒ¨åˆ†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e23abc23589f4d2d85e4fc84f523cd75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=4N5FySyn4F3NdZPwakxjBlOKtc8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥çœ‹ä½œä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºã€‚è¾“å…¥ä¼šä»¥å¾ªç¯æ–¹å¼ä¸æ–­é¦ˆå…¥ LLMï¼Œç›´åˆ°é‡åˆ°æŸä¸ªç‰¹æ®Šçš„è¾“å‡ºå€¼æŒ‡ç¤ºå…¶åœæ­¢ã€‚</strong> ç”¨ä¼ªä»£ç è¡¨ç¤ºå¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">prompt</span>Â =<span class="hljs-string">"What is the meaning of life?"</span><span class="hljs-comment">;</span>

<span class="hljs-attr">tokens</span>Â =Â tokenizer(prompt)<span class="hljs-comment">;</span>
while(true){
Â <span class="hljs-attr">embeddings</span>Â =Â embed(tokens)<span class="hljs-comment">;</span>
for(<span class="hljs-section">[attention,Â feedforward]</span>Â of transformers){
Â <span class="hljs-attr">embeddings</span>Â =Â attention(embeddings)<span class="hljs-comment">;</span>
Â <span class="hljs-attr">embeddings</span>Â =Â feedforward(embeddings)<span class="hljs-comment">;</span>
}
Â <span class="hljs-attr">output_token</span>Â =Â output(embeddings)<span class="hljs-comment">;</span>
if(<span class="hljs-attr">output_token</span>Â ===Â END_TOKEN){
break<span class="hljs-comment">;</span>
}
Â tokens.push(output_token)<span class="hljs-comment">;</span>
}

print(decode(tokens))<span class="hljs-comment">;</span>
</code></pre>
<p>å°½ç®¡ä»¥ä¸Šæè¿°å·²å¤§å¹…ç®€åŒ–ï¼Œä½†ç°ä»£ LLM çš„æ ¸å¿ƒä»£ç è¡Œæ•°ä¹‹å°‘ä»è®©æˆ‘æ„Ÿåˆ°æ„å¤–ã€‚</p>
<p>Sebastian Raschka[4]Â ç”¨ PyTorch ä»é›¶å®ç°äº†å¤šä¸ªå¼€æºæ¨¡å‹ï¼Œè¿˜äº§å‡ºäº†å¤§é‡é«˜è´¨é‡çš„æ•™å­¦ææ–™ â€”â€” å¦‚æœä½ å–œæ¬¢æœ¬æ–‡ï¼Œå¤§æ¦‚ç‡ä¹Ÿä¼šå–œæ¬¢ä»–çš„å†…å®¹ã€‚ä»¥å½“å‰é¢†å…ˆçš„å¼€æºæ¨¡å‹ä¹‹ä¸€ Olmo 3 ä¸ºä¾‹ï¼Œå…¶æ ¸å¿ƒä»£ç ä»…æ•°ç™¾è¡Œ[5]ã€‚</p>
<p>Prompt caching å‘ç”Ÿåœ¨ Transformer çš„â€œattentionï¼ˆæ³¨æ„åŠ›æœºåˆ¶ï¼‰â€ä¸­ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†æŒ‰é¡ºåºé€æ­¥æ‹†è§£ LLM çš„å·¥ä½œåŸç†ï¼Œç›´åˆ°æŠµè¾¾è¿™ä¸€ç¯èŠ‚ã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬çš„æ—…ç¨‹å¾—ä» tokens è¯´èµ·ã€‚</p>
<h2 data-id="heading-1"><strong>02 Tokenizerï¼ˆåˆ†è¯å™¨ï¼‰</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba85563fcf4c4406a7a511e49c71cb20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=h0BtIta1GQt2UOqqDb3rzws01Ks%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ LLM å¤„ç†ä½ çš„ promptï¼ˆæç¤ºè¯ï¼‰ä¹‹å‰ï¼Œå¿…é¡»å…ˆå°†å…¶è½¬æ¢ä¸ºå®ƒèƒ½ç†è§£çš„è¡¨ç¤ºå½¢å¼ã€‚è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼Œç”± tokenizer å’Œ embedding å…±åŒå®Œæˆã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œè¦åˆ°è®² embedding æ—¶æ‰èƒ½å®Œå…¨æ˜æ™°ï¼Œç°åœ¨è¯·å…ˆè€å¿ƒäº†è§£ tokenizer çš„ä½œç”¨ã€‚</p>
<p>Tokenizer ä¼šå°†ä½ çš„ prompt æ‹†æˆå¤šä¸ªå°ç‰‡æ®µï¼Œå¹¶ä¸ºæ¯ä¸ªå”¯ä¸€çš„ç‰‡æ®µåˆ†é…ä¸€ä¸ªæ•´æ•° IDï¼Œç§°ä¸º"token"ã€‚ä¾‹å¦‚ï¼ŒGPT-5 å¯¹ prompt "Check out ngrok.ai" çš„åˆ†è¯ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0b2175da11a47a6bf8e9c33b4f76f1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=9JcvcEfOFkw6qOgbmkg0lWuIiTc%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¥ prompt å·²è¢«æ‹†åˆ†ä¸ºæ•°ç»„ [â€œCheckâ€, " out", " ng", â€œrokâ€, â€œ.aiâ€]ï¼Œå¹¶è½¬æ¢ä¸º tokens [4383, 842, 1657, 17690, 75584]ã€‚ç›¸åŒçš„ prompt å§‹ç»ˆç”Ÿæˆç›¸åŒçš„ tokensã€‚tokens ä¹Ÿæ˜¯åŒºåˆ†å¤§å°å†™çš„ â€”â€” å› ä¸ºå¤§å°å†™èƒ½ä¼ é€’è¯­ä¹‰ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œé¦–å­—æ¯å¤§å†™çš„ "Will" æ›´å¯èƒ½æ˜¯äººåï¼Œè€Œå°å†™çš„ "will" åˆ™æ›´å¯èƒ½æ˜¯åŠ©åŠ¨è¯ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥æŒ‰ç©ºæ ¼æˆ–å­—ç¬¦åˆ†å‰²ï¼Ÿ</p>
<p>è¿™å…¶å®æ˜¯ä¸ªç›¸å½“æ·±åˆ»çš„é—®é¢˜ï¼Œç»†è®²èµ·æ¥è¶³ä»¥è®©æœ¬æ–‡ç¯‡å¹…ç¿»å€ã€‚ç®€çŸ­è€Œä¸å°½å…´çš„ç­”æ¡ˆæ˜¯ï¼šè¿™æ˜¯ä¸€ç§æƒè¡¡ã€‚è‹¥æƒ³æ·±å…¥ç†è§£ï¼ŒAndrej Karpathy æœ‰ä¸€æœŸä»é›¶å®ç° tokenizer çš„ç²¾å½©è§†é¢‘ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DzduSFxRajkE%25EF%25BC%2589" target="_blank" title="https://www.youtube.com/watch?v=zduSFxRajkE%EF%BC%89" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=zduâ€¦</a> ã€‚<strong>å¯¹äº prompt caching è€Œè¨€ï¼Œåªéœ€çŸ¥é“ï¼štokenization çš„ä½œç”¨å°±æ˜¯æŠŠæ–‡æœ¬å˜æˆæ•°å­—ã€‚</strong></p>
<p>Tokens æ˜¯ LLM è¾“å…¥ä¸è¾“å‡ºçš„åŸºæœ¬å•ä½ã€‚å½“ä½ å‘ ChatGPT æé—®æ—¶ï¼Œå›å¤ä¼šéšç€æ¯æ¬¡ LLM è¿­ä»£å®Œæˆè€Œé€ä¸ª token æµå¼è¿”å›ã€‚æœåŠ¡å•†è¿™ä¹ˆåšï¼Œæ˜¯å› ä¸ºç”Ÿæˆå®Œæ•´å›å¤å¯èƒ½éœ€è¦æ•°åç§’ï¼Œè€Œä¸€æ—¦ token ç”Ÿæˆå°±ç«‹å³è¿”å›ï¼Œèƒ½è®©äº¤äº’ä½“éªŒæ›´æµç•…è‡ªç„¶ã€‚</p>
<p>æˆ‘ä»¬æ¥é—®ä¸€ä¸ª LLM é¢†åŸŸçš„ç»å…¸é—®é¢˜ï¼Œäº²çœ¼çœ‹çœ‹è¿™ä¸ªè¿‡ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f623bb995c1a49c6b48737c31c789714~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=hO24WCOIn3KcV0ODEkx2P9HJAgU%3D" alt="image.png" loading="lazy"/></p>
<p>Prompt tokens è¾“å…¥ï¼Œâœ¨ AI é­”æ³•å‘ç”Ÿ âœ¨ï¼Œè¾“å‡ºä¸€ä¸ª tokenï¼Œå¾ªç¯å¾€å¤ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œinferenceï¼ˆæ¨ç†ï¼‰â€ã€‚æ³¨æ„ï¼šæ¯ä¸ªè¾“å‡º token éƒ½ä¼šåœ¨ä¸‹ä¸€è½®è¿­ä»£å‰è¢«è¿½åŠ åˆ° input prompt ä¸­ã€‚LLM éœ€è¦å…¨éƒ¨ä¸Šä¸‹æ–‡æ‰èƒ½ç»™å‡ºé«˜è´¨é‡å›ç­” â€”â€” å¦‚æœåªè¾“å…¥åŸå§‹ promptï¼Œå®ƒä¼šåå¤å°è¯•ç”Ÿæˆç­”æ¡ˆçš„ç¬¬ä¸€ä¸ª tokenã€‚å¦‚æœåªè¾“å…¥å·²ç”Ÿæˆçš„å›ç­”éƒ¨åˆ†ï¼Œå®ƒä¼šç«‹åˆ»å¿˜è®°é—®é¢˜æœ¬èº«ã€‚å› æ­¤ï¼Œæ¯ä¸€è½®è¿­ä»£éƒ½å¿…é¡»å°†å®Œæ•´çš„ prompt åŠ ä¸Šå·²ç”Ÿæˆçš„å›ç­”å†…å®¹é‡æ–°è¾“å…¥ LLMã€‚</p>
<p><strong>é‚£ä¸ª 199999  token æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>è¿™ä¸ªæ¨ç†è¿‡ç¨‹æ€»å¾—æœ‰ä¸ªç»ˆç‚¹ã€‚<strong>LLM æ‹¥æœ‰å¤šç§â€œç‰¹æ®Šâ€tokenï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯æ ‡å¿—ç€å“åº”ç»“æŸçš„ tokenã€‚</strong> åœ¨ GPT-5 çš„åˆ†è¯å™¨ä¸­ï¼Œè¿™å°±æ˜¯ token 199999ã€‚è¿™åªæ˜¯ LLM ç»ˆæ­¢ç”Ÿæˆè¿‡ç¨‹çš„å¤šç§æ–¹å¼ä¹‹ä¸€ï¼š<strong>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ API æŒ‡å®šæœ€å¤§ç”Ÿæˆ token æ•°ï¼ŒæœåŠ¡å•†è¿˜å¯èƒ½åŸºäºå®‰å…¨ç­–ç•¥è®¾å®šå…¶ä»–ç»ˆæ­¢è§„åˆ™ã€‚</strong></p>
<p>æ­¤å¤–è¿˜æœ‰ç”¨äºæ ‡è®°å¯¹è¯æ¶ˆæ¯èµ·æ­¢çš„ç‰¹æ®Š token â€”â€” æ­£æ˜¯è¿™äº› token è®© ChatGPTã€Claude ç­‰èŠå¤©æ¨¡å‹èƒ½åˆ†è¾¨ä¸€æ¡æ¶ˆæ¯ä½•æ—¶ç»“æŸã€ä¸‹ä¸€æ¡ä½•æ—¶å¼€å§‹ã€‚</p>
<p>å…³äº tokenizerï¼ˆåˆ†è¯å™¨ï¼‰çš„æœ€åä¸€ç‚¹ï¼šå®ƒä»¬ç§ç±»ç¹å¤šï¼ChatGPT ä½¿ç”¨çš„ tokenizer ä¸ Claude ä¸åŒï¼Œç”šè‡³ OpenAI è‡ªå®¶çš„ä¸åŒæ¨¡å‹ä¹Ÿä½¿ç”¨ä¸åŒçš„ tokenizerã€‚æ¯ç§ tokenizer éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æ–‡æœ¬åˆ‡åˆ†è§„åˆ™ã€‚å¦‚æœä½ æƒ³ç›´è§‚æ¯”è¾ƒä¸åŒ tokenizer çš„åˆ†è¯æ•ˆæœï¼Œå¯ä»¥è¯•è¯• tiktokenizer[6]ã€‚</p>
<p>è®¤è¯†äº† tokens ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬èŠèŠ embeddingsã€‚</p>
<h2 data-id="heading-2"><strong>03 Embedding</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52de7bad6c8b4ede900ea19a292df5fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=nM75RjxsYx20JVfxRP8vm3nARhM%3D" alt="image.png" loading="lazy"/></p>
<p>ç»è¿‡ tokenizer å¤„ç†åçš„ tokensï¼Œç°åœ¨è¿›å…¥ embedding é˜¶æ®µã€‚è¦ç†è§£ embeddingï¼Œä¸å¦¨å…ˆæ€è€ƒæ¨¡å‹çš„ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚</p>
<p>äººç±»ç”¨ä»£ç è§£å†³é—®é¢˜æ—¶ï¼Œä¼šç¼–å†™æ¥æ”¶è¾“å…¥ã€äº§ç”Ÿè¾“å‡ºçš„å‡½æ•°ï¼Œæ¯”å¦‚åæ°è½¬æ‘„æ°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">fahrenheitToCelsius</span>(fahrenheit){
<span class="hljs-built_in">return</span>((fahrenheitÂ -<span class="hljs-number">32</span>)*<span class="hljs-number">5</span>)/<span class="hljs-number">9</span>;
}
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥æŠŠä»»æ„æ•°å­—ä¼ å…¥ fahrenheitToCelsiusï¼Œå¹¶èƒ½è·å¾—æ­£ç¡®ç»“æœã€‚ä½†å‡å¦‚æˆ‘ä»¬é¢å¯¹ä¸€ä¸ªé—®é¢˜ï¼Œå´ä¸çŸ¥é“èƒŒåçš„å…¬å¼å‘¢ï¼Ÿå‡å¦‚æˆ‘ä»¬åªæœ‰ä¸‹é¢è¿™å¼ ç¥ç§˜çš„è¾“å…¥-è¾“å‡ºå¯¹ç…§è¡¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f04832306da4348b9736a7d55fd8eaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=%2BdTHSm5VPy%2F7SzIMrZ%2BVLKq8PMs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ï¼ˆæˆ‘å¹¶ä¸æŒ‡æœ›ä½ èƒ½è®¤å‡ºè¿™ä¸ªå‡½æ•° â€”â€” ä¸è¿‡ï¼Œå¦‚æœä½ æŠŠæˆªå›¾è´´è¿› ChatGPTï¼Œå®ƒèƒ½ç«‹åˆ»è¯†åˆ«å‡ºæ¥ã€‚ï¼‰</p>
<p>å½“æˆ‘ä»¬çŸ¥é“æ¯ä¸ªè¾“å…¥å¯¹åº”çš„æ­£ç¡®è¾“å‡ºï¼Œå´ä¸çŸ¥é“äº§ç”Ÿè¿™ç§å¯¹åº”å…³ç³»çš„å‡½æ•°æ—¶ï¼Œå°±å¯ä»¥â€œè®­ç»ƒâ€ä¸€ä¸ªæ¨¡å‹æ¥å­¦ä¹ è¿™ä¸ªå‡½æ•°ã€‚åšæ³•æ˜¯ï¼šç»™æ¨¡å‹æä¾›ä¸€å—â€œç”»å¸ƒâ€ â€”â€” é‚£ä¸ªç”±æµ·é‡æ•°å­¦è¿ç®—æ„æˆçš„å·¨å‹å›¾ç»“æ„ï¼Œç„¶åä¸æ–­è°ƒæ•´è¿™ä¸ªå›¾ç»“æ„ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›åˆ°æ­£ç¡®çš„å‡½æ•°ã€‚æ¯æ¬¡æ›´æ–°å›¾ç»“æ„åï¼Œæˆ‘ä»¬éƒ½å°†è¾“å…¥æ•°æ®å–‚è¿›å»ï¼Œè§‚å¯Ÿè¾“å‡ºæ•°æ®ä¸ç›®æ ‡çš„å·®è·ã€‚åå¤è¿­ä»£ï¼Œç›´åˆ°ç»“æœè¶³å¤Ÿæ¥è¿‘ç›®æ ‡ã€‚è¿™å°±æ˜¯è®­ç»ƒçš„æœ¬è´¨ã€‚</p>
<p>äº‹å®è¯æ˜ï¼Œåœ¨è®­ç»ƒæ–‡æœ¬ç”Ÿæˆæ¨¡å‹æ—¶ï¼Œèƒ½å¤Ÿè¯†åˆ«ä¸¤ä¸ªå¥å­æ˜¯å¦â€œç›¸ä¼¼â€ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä½†â€œç›¸ä¼¼â€å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿå®ƒä»¬å¯èƒ½åŒæ ·æ‚²ä¼¤ã€å¹½é»˜æˆ–å‘äººæ·±çœï¼›ä¹Ÿå¯èƒ½åœ¨é•¿åº¦ã€èŠ‚å¥ã€è¯­æ°”ã€è¯­è¨€ã€è¯æ±‡æˆ–ç»“æ„ä¸Šç›¸è¿‘ã€‚æè¿°å¥å­ç›¸ä¼¼æ€§çš„æ–¹å¼æœ‰æ— æ•°ç»´åº¦ï¼Œè€Œä¸¤ä¸ªå¥å­å¯èƒ½åœ¨æŸäº›ç»´åº¦ä¸Šç›¸ä¼¼ï¼Œåœ¨å¦ä¸€äº›ç»´åº¦ä¸Šåˆ™ä¸ç„¶ã€‚</p>
<p><strong>Tokens æœ¬èº«åªæ˜¯ç®€å•çš„æ•´æ•°ç¼–å·ï¼Œæ²¡æœ‰ä»»ä½•â€œç»´åº¦â€ä¿¡æ¯ï¼›è€Œ embeddings åˆ™æ˜¯é«˜ç»´å‘é‡ï¼Œæ‰¿è½½äº†ä¸°å¯Œçš„è¯­ä¹‰å’Œç»“æ„ä¿¡æ¯ã€‚</strong></p>
<p>Embedding æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œä»£è¡¨ n ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½ç½®ã€‚å¦‚æœ n=3ï¼Œembedding å¯èƒ½æ˜¯ [10, 4, 2]ï¼Œè¡¨ç¤ºä¸‰ç»´ç©ºé—´ä¸­ x=10ã€y=4ã€z=2 çš„åæ ‡ç‚¹ã€‚åœ¨ LLM è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ª token ä¼šè¢«éšæœºåˆ†é…ä¸€ä¸ªèµ·å§‹ä½ç½®ï¼Œéšåè®­ç»ƒè¿‡ç¨‹ä¼šä¸æ–­å¾®è°ƒæ‰€æœ‰ token çš„ä½ç½®ï¼Œç›´åˆ°æ‰¾åˆ°èƒ½äº§ç”Ÿæœ€ä½³è¾“å‡ºçš„æ’åˆ—æ–¹å¼ã€‚</p>
<p>Embedding é˜¶æ®µçš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯æŸ¥è¡¨è·å–æ¯ä¸ª token å¯¹åº”çš„ embeddingã€‚ç”¨ä¼ªä»£ç è¡¨ç¤ºå¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// Created during training, never changes during inference.
const <span class="hljs-attr">EMBEDDINGS</span> = [...]<span class="hljs-comment">;</span>
Â 
function embed(tokens) {
Â return tokens.map(<span class="hljs-attr">token</span> =&gt; {
Â return EMBEDDINGS<span class="hljs-section">[token]</span><span class="hljs-comment">;</span>
Â })<span class="hljs-comment">;</span>
}
</code></pre>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬æŠŠ tokensï¼ˆæ•´æ•°æ•°ç»„ï¼‰è½¬æ¢æˆäº† embeddingsï¼ˆæ•°ç»„çš„æ•°ç»„ï¼Œå³â€œçŸ©é˜µâ€ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3fe6b77a8a34f88bde24bde2b8c361e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=M0OPQI8Nqk8TpPSy4sxYCCTP58w%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e95661b89e643028dda2e13a0f08ecf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=oWqWH8AKM%2BoqjMNpHxWeJ0LDeos%3D" alt="image.png" loading="lazy"/></p>
<p>tokens [75, 305, 284, 887] è¢«è½¬æ¢ä¸ºä¸€ä¸ªç”± 3 ç»´ embeddings æ„æˆçš„çŸ©é˜µã€‚</p>
<p><strong>Embedding çš„ç»´åº¦è¶Šå¤šï¼Œæ¨¡å‹å¯ç”¨äºæ¯”è¾ƒå¥å­çš„â€œè§’åº¦â€å°±è¶Šå¤šã€‚</strong> æˆ‘ä»¬åˆšæ‰ä¸€ç›´åœ¨ç”¨ 3 ç»´ embeddings ä¸¾ä¾‹ï¼Œä½†å½“å‰ä¸»æµæ¨¡å‹çš„ embedding ç»´åº¦é€šå¸¸æ˜¯å‡ åƒç»´ï¼Œæœ€å¤§çš„ç”šè‡³è¶…è¿‡ 10,000 ç»´ã€‚</p>
<p>ä¸ºäº†è¯´æ˜æ›´é«˜ç»´åº¦çš„ä»·å€¼ï¼Œä¸‹é¢æˆ‘å±•ç¤ºäº† 8 ç»„å½©è‰²å½¢çŠ¶ï¼Œå®ƒä»¬æœ€åˆä½äºä¸€ç»´ç©ºé—´ä¸­ â€”â€” æŒ¤åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œæ‚ä¹±æ— ç« ï¼Œéš¾ä»¥ç†è§£ã€‚ä½†éšç€ç»´åº¦å¢åŠ ï¼Œä½ å°±èƒ½æ¸…æ¥šåœ°çœ‹åˆ°å­˜åœ¨ 8 ä¸ªä¸åŒçš„ã€ç›¸å…³çš„ç»„åˆ«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23e158d605cc453080698f9eb2abe70c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=U9%2BjWt9inP2iu%2BMpxux2JFTussc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f94e90f2dd0045ac8069a2a7f634e58d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=rH0QWYRyOYNU8E4ALhOZKTeB9aY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed7faaf0c6e14d329251ca65e250872a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=YALz8yr0sbw4dr7E7gOxDr3VJws%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‰ç»´æ˜¯æˆ‘è¿™é‡Œèƒ½æä¾›çš„è§†è§‰ç¤ºä¾‹çš„æé™ï¼Œè‡³äºå‡ åƒç»´çš„ç©ºé—´èƒ½è¡¨è¾¾ä»€ä¹ˆï¼Œå°±å¾—é ä½ å‘æŒ¥æƒ³è±¡åŠ›äº†ã€‚</p>
<p>Embedding é˜¶æ®µè¿˜æœ‰æœ€åä¸€ä»¶äº‹è¦åšã€‚<strong>åœ¨è·å– token çš„ embedding åï¼Œä¼šå°†è¯¥ token åœ¨ prompt ä¸­çš„ä½ç½®ä¿¡æ¯ç¼–ç è¿› embedding ä¸­ã€‚</strong> æˆ‘æ²¡æœ‰æ·±å…¥ç ”ç©¶è¿™ä¸€æœºåˆ¶çš„å…·ä½“å®ç°æ–¹å¼ï¼ŒåªçŸ¥é“å®ƒå¯¹ prompt caching çš„å·¥ä½œæ–¹å¼å½±å“ä¸å¤§ï¼Œä½†å¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ï¼ŒLLM å°±æ— æ³•åˆ¤æ–­ prompt ä¸­ tokens çš„å…ˆåé¡ºåºã€‚</p>
<p>æ›´æ–°ä¸€ä¸‹å‰é¢çš„ä¼ªä»£ç ï¼Œå‡è®¾å­˜åœ¨ä¸€ä¸ªå« encodePosition çš„å‡½æ•°ï¼Œå®ƒæ¥æ”¶ embeddings å’Œä½ç½®ä¿¡æ¯ï¼Œå¹¶è¿”å›åµŒå…¥äº†ä½ç½®ç¼–ç çš„æ–° embeddingsã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EMBEDDINGS</span>Â =[...];
Â 
<span class="hljs-comment">//Â Input:Â array of tokensÂ (integers)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">embed</span>(<span class="hljs-params">tokens</span>){
<span class="hljs-comment">//Â Output:Â array of n-dimensional embedding arrays</span>
<span class="hljs-keyword">return</span>Â tokens.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">token,Â i</span>)=&gt;</span>{
Â <span class="hljs-keyword">const</span> embeddingsÂ =Â <span class="hljs-variable constant_">EMBEDDINGS</span>[token];
<span class="hljs-keyword">return</span>Â <span class="hljs-title function_">encodePosition</span>(embeddings,Â i);
});
}
</code></pre>
<p>æ€»è€Œè¨€ä¹‹ï¼Œembeddings æ˜¯ n ç»´ç©ºé—´ä¸­çš„ç‚¹ï¼Œä½ å¯ä»¥å°†å…¶è§†ä¸ºå®ƒä»¬æ‰€ä»£è¡¨æ–‡æœ¬çš„è¯­ä¹‰å«ä¹‰ã€‚<strong>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ª token éƒ½ä¼šåœ¨è¯¥ç©ºé—´ä¸­ç§»åŠ¨ï¼Œé è¿‘å…¶ä»–è¯­ä¹‰ç›¸ä¼¼çš„ tokenã€‚ç»´åº¦è¶Šå¤šï¼ŒLLM å¯¹æ¯ä¸ª token çš„è¡¨ç¤ºå°±è¶Šå¤æ‚ã€è¶Šç»†è…»ã€‚</strong></p>
<p>è‡³æ­¤ï¼Œtokenizer å’Œ embedding é˜¶æ®µæ‰€åšçš„å…¨éƒ¨å·¥ä½œï¼Œéƒ½æ˜¯ä¸ºäº†æŠŠåŸå§‹æ–‡æœ¬è½¬æ¢æˆ LLM èƒ½å¤„ç†çš„å½¢å¼ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›æ•°æ®è¿›å…¥ transformer é˜¶æ®µåä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<h2 data-id="heading-3"><strong>04 Transformer</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/953ad94df0c840f5a6566dcedae4f404~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=aH2M8hxE6kLJrKQiRYJTe719DcU%3D" alt="image.png" loading="lazy"/></p>
<p>Transformer é˜¶æ®µçš„æ ¸å¿ƒä»»åŠ¡ï¼Œå°±æ˜¯æ¥æ”¶ embeddings ä½œä¸ºè¾“å…¥ï¼Œå¹¶åœ¨ n ç»´ç©ºé—´ä¸­å¯¹å®ƒä»¬è¿›è¡Œè°ƒæ•´ã€‚å®ƒé€šè¿‡ä¸¤ç§æ–¹å¼å®ç°è¿™ä¸€ç‚¹ï¼Œè€Œæˆ‘ä»¬åªå…³æ³¨ç¬¬ä¸€ç§ï¼šattentionï¼ˆæ³¨æ„åŠ›æœºåˆ¶ï¼‰ã€‚æˆ‘ä»¬æš‚ä¸è®¨è®º â€œFeedforwardâ€ å±‚æˆ–è¾“å‡ºé˜¶æ®µï¼ˆè‡³å°‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­ğŸ‘€ï¼‰ã€‚</p>
<p><strong>Attention æœºåˆ¶çš„ä½œç”¨ï¼Œæ˜¯å¸®åŠ© LLM ç†è§£ prompt ä¸­å„ä¸ª token ä¹‹é—´çš„å…³ç³» â€”â€” å…·ä½“åšæ³•æ˜¯è®©æ¯ä¸ª token èƒ½å¤Ÿå½±å“å…¶ä»– token åœ¨ n ç»´ç©ºé—´ä¸­çš„ä½ç½®ã€‚</strong> å®ƒé€šè¿‡åŠ æƒç»„åˆ prompt ä¸­æ‰€æœ‰ token çš„ embeddings æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è¾“å…¥æ˜¯æ•´ä¸ª prompt çš„ embeddingsï¼Œè¾“å‡ºåˆ™æ˜¯ä¸€ä¸ªæ–°çš„ embeddingï¼Œå®ƒæ˜¯æ‰€æœ‰è¾“å…¥ embeddings çš„åŠ æƒç»„åˆã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ prompt æ˜¯ â€œMary had a littleâ€ï¼Œè¢«åˆ†è¯ä¸ºå››ä¸ª tokenï¼šMaryã€hadã€aã€littleï¼Œé‚£ä¹ˆ attention æœºåˆ¶å¯èƒ½ä¼šå†³å®šï¼Œåœ¨ç”Ÿæˆä¸‹ä¸€ä¸ª token æ—¶ï¼Œæ¨¡å‹ä¼šè®¤ä¸ºï¼š</p>
<ul>
<li>â€œMaryâ€ æœ€é‡è¦ï¼ˆ63%ï¼‰ï¼ˆè¯‘è€…æ³¨ï¼šå› ä¸ºæ•´ä¸ªå¥å­çš„ä¸»è¯­æ˜¯ Maryï¼Œåç»­å†…å®¹å¾ˆå¯èƒ½å›´ç»•å¥¹å±•å¼€ï¼‰</li>
<li>â€œhadâ€ å’Œ â€œaâ€ æ¬¡ä¹‹ï¼ˆ16% å’Œ 12%ï¼‰ï¼ˆè¯‘è€…æ³¨ï¼šå®ƒä»¬æ˜¯è¯­æ³•ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œä½†è¯­ä¹‰ä¿¡æ¯è¾ƒå¼±ï¼‰</li>
<li>â€œlittleâ€ ä¹Ÿæœ‰ä¸€å®šä½œç”¨ï¼ˆ9%ï¼‰ï¼ˆè¯‘è€…æ³¨ï¼šå®ƒä¿®é¥°åé¢çš„åè¯ï¼‰</li>
</ul>
<p>ç„¶åï¼Œå®ƒä¼šæŠŠæ‰€æœ‰ token çš„ embeddings åˆ†åˆ«ä¹˜ä»¥å¯¹åº”çš„æƒé‡ï¼Œç„¶åæŠŠç»“æœåŠ åœ¨ä¸€èµ·ï¼Œå¾—åˆ°ä¸€ä¸ªèåˆåçš„å‘é‡ã€‚è¿™æ­£æ˜¯ LLM åˆ¤æ–­â€œåœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­ï¼Œæ¯ä¸ª token åº”è¯¥è¢«å…³æ³¨å¤šå°‘â€çš„æ–¹å¼ã€‚</p>
<p>è¿™æ˜¯ç›®å‰ä¸ºæ­¢æ•´ä¸ªæµç¨‹ä¸­æœ€å¤æ‚ã€æœ€æŠ½è±¡çš„éƒ¨åˆ†ã€‚æˆ‘ä¼šå…ˆç”¨ä¼ªä»£ç å±•ç¤ºå®ƒï¼Œç„¶åå†çœ‹çœ‹ embeddings åœ¨ç»è¿‡è¿™ä¸€è¿‡ç¨‹æ—¶æ˜¯å¦‚ä½•è¢«å˜æ¢çš„ã€‚æˆ‘æœ¬æƒ³è®©è¿™ä¸€éƒ¨åˆ†çš„æ•°å­¦å†…å®¹å°‘ä¸€äº›ï¼Œä½†è¿™é‡Œå¾ˆéš¾é¿å…ä¸€äº›æ•°å­¦è¿ç®—ã€‚åˆ«æ‹…å¿ƒï¼Œä½ èƒ½è¡Œçš„ï¼Œæˆ‘ç›¸ä¿¡ä½ ã€‚</p>
<p>Attention ä¸­çš„å¤§éƒ¨åˆ†è®¡ç®—éƒ½æ˜¯çŸ©é˜µä¹˜æ³•ã€‚å¯¹äºæœ¬æ–‡è€Œè¨€ï¼Œä½ åªéœ€çŸ¥é“ï¼šè¾“å‡ºçŸ©é˜µçš„å½¢çŠ¶ç”±ä¸¤ä¸ªè¾“å…¥çŸ©é˜µçš„å½¢çŠ¶å†³å®šï¼Œè¾“å‡ºçš„è¡Œæ•°ç­‰äºç¬¬ä¸€ä¸ªè¾“å…¥çŸ©é˜µçš„è¡Œæ•°ï¼Œåˆ—æ•°ç­‰äºç¬¬äºŒä¸ªè¾“å…¥çŸ©é˜µçš„åˆ—æ•°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcfe0f6e2a924a2b8735ca4334166f00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=mGBYYF0i2S8z2r3WszZkbJ7ivGA%3D" alt="image.png" loading="lazy"/></p>
<p>ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€åŒ–ç‰ˆçš„æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•è®¡ç®—åˆ†é…ç»™æ¯ä¸ª token çš„æƒé‡ã€‚åœ¨ä»¥ä¸‹ä»£ç ä¸­ï¼Œæˆ‘ç”¨ * è¡¨ç¤ºçŸ©é˜µä¹˜æ³•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//Â Similar to EMBEDDINGSÂ fromÂ the pseudocode</span>
<span class="hljs-comment">//Â earlier,Â WQÂ andÂ WK are learned duringÂ </span>
<span class="hljs-comment">//Â trainingÂ andÂ doÂ notÂ change during inference.</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//Â These are both n*n matrices,Â where nÂ isÂ the</span>
<span class="hljs-comment">//Â number of embedding dimensions.Â In our example</span>
<span class="hljs-comment">//Â above,Â nÂ =3.</span>
const WQÂ =<span class="hljs-selector-attr">[[...]</span>,<span class="hljs-selector-attr">[...]</span>,<span class="hljs-selector-attr">[...]</span>];
const WKÂ =<span class="hljs-selector-attr">[[...]</span>,<span class="hljs-selector-attr">[...]</span>,<span class="hljs-selector-attr">[...]</span>];

<span class="hljs-comment">//Â TheÂ inputÂ embeddings look like this:</span>
<span class="hljs-comment">//[</span>
<span class="hljs-comment">//[-0.1,0.1,-0.3],//Â Mary</span>
<span class="hljs-comment">//[1.0,-0.5,-0.6],//Â had</span>
<span class="hljs-comment">//[0.0,0.8,0.6],//Â a</span>
<span class="hljs-comment">//[0.5,-0.7,1.0]//Â little</span>
<span class="hljs-comment">//]</span>
function <span class="hljs-built_in">attentionWeights</span>(embeddings){
Â const <span class="hljs-selector-tag">Q</span>Â =Â embeddingsÂ *Â WQ;
Â const KÂ =Â embeddingsÂ *Â WK;
Â const scoresÂ =Â <span class="hljs-selector-tag">Q</span>Â *Â <span class="hljs-built_in">transpose</span>(K);
Â const maskedÂ =Â <span class="hljs-attribute">mask</span>(scores);
returnÂ <span class="hljs-built_in">softmax</span>(masked);
}
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ embedding åœ¨æµç»è¿™ä¸ªå‡½æ•°æ—¶æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚</p>
<p>ç­‰ç­‰ï¼ŒWQ å’Œ WK å˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>è¿˜è®°å¾—æˆ‘ä¹‹å‰è¯´è¿‡ï¼Œæ¯ä¸ª token çš„ embedding æœ€åˆéƒ½è¢«éšæœºåˆ†é…äº†ä¸€ä¸ªä½ç½®ï¼Œç„¶ååœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸æ–­å¾®è°ƒï¼Œç›´åˆ°æ¨¡å‹æ‰¾åˆ°ä¸€ä¸ªè‰¯å¥½çš„æ’åˆ—çŠ¶æ€å—ï¼Ÿ</p>
<p>WQ å’Œ WK ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚å®ƒä»¬æ˜¯ nÃ—n çš„çŸ©é˜µï¼ˆn å³ embedding ç»´åº¦ï¼‰ï¼Œåœ¨è®­ç»ƒå¼€å§‹æ—¶è¢«èµ‹äºˆéšæœºå€¼ï¼Œéšåä¹Ÿåœ¨è®­ç»ƒä¸­è¢«ä¸æ–­è°ƒæ•´ï¼Œä»¥å¸®åŠ©æ¨¡å‹æ”¶æ•›åˆ°ä¸€ä¸ªæ›´ä¼˜çš„è§£ã€‚</p>
<p>ä»»ä½•åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¢«è°ƒæ•´çš„æ•°ï¼Œéƒ½è¢«ç§°ä¸ºâ€œæ¨¡å‹å‚æ•°â€ã€‚embedding å‘é‡ä¸­çš„æ¯ä¸ªæµ®ç‚¹æ•°ï¼Œä»¥åŠ WQã€WK çŸ©é˜µä¸­çš„æ¯ä¸ªæ•°å€¼ï¼Œéƒ½æ˜¯ä¸€ä¸ªå‚æ•°ã€‚å½“ä½ å¬è¯´æŸä¸ªæ¨¡å‹æœ‰â€œ1750 äº¿å‚æ•°â€æ—¶ï¼ŒæŒ‡çš„å°±æ˜¯è¿™äº›æ•°å­—ã€‚</p>
<p><strong>è‡³äº WQ å’Œ WK åˆ°åº•ä»£è¡¨ä»€ä¹ˆï¼Œæˆ‘ä»¬å…¶å®å¹¶ä¸å®Œå…¨æ¸…æ¥šã€‚éšç€æ¨¡å‹è®­ç»ƒæ”¶æ•›ï¼Œå®ƒä»¬æœ€ç»ˆä¼šå˜æˆæŸç§å¯¹ embedding çš„å˜æ¢æ–¹å¼ï¼Œæœ‰åŠ©äºæ¨¡å‹ç”Ÿæˆæ›´å¥½çš„è¾“å‡ºã€‚</strong> å®ƒä»¬å†…éƒ¨å¯èƒ½åœ¨åšä»»ä½•äº‹æƒ… â€”â€” è€Œå¦‚ä½•è§£é‡Šè¿™äº›çŸ©é˜µçš„å«ä¹‰ï¼Œç›®å‰ä»æ˜¯ä¸€ä¸ªå¼€æ”¾ä¸”æ´»è·ƒçš„ç ”ç©¶æ–¹å‘ã€‚</p>
<p>è¦å¾—åˆ° Q å’Œ Kï¼Œæˆ‘ä»¬åˆ†åˆ«å°† embeddings ä¸ WQ å’Œ WK ç›¸ä¹˜ã€‚WQ å’Œ WK çš„è¡Œæ•°å’Œåˆ—æ•°å§‹ç»ˆç­‰äº embedding çš„ç»´åº¦ï¼ˆæœ¬ä¾‹ä¸­ä¸º 3ï¼‰ã€‚è¿™é‡Œæˆ‘ä¸º WQ å’Œ WK é€‰å–äº†éšæœºå€¼ï¼Œå¹¶å°†ç»“æœå››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ä»¥ä¾¿é˜…è¯»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e159dbbf21a43e493f9ea943ea4b1c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=J8NZQfamfiu5kRPor3%2Bfi4SV9Eg%3D" alt="image.png" loading="lazy"/></p>
<p>å¾—åˆ°çš„ Q çŸ©é˜µæœ‰ 4 è¡Œ 3 åˆ—ã€‚4 è¡Œæ˜¯å› ä¸º embeddings çŸ©é˜µæœ‰ 4 è¡Œï¼ˆæ¯ä¸ª token ä¸€è¡Œï¼‰ï¼Œ3 åˆ—æ˜¯å› ä¸º WQ æœ‰ 3 åˆ—ï¼ˆæ¯ä¸ª embedding ç»´åº¦ä¸€åˆ—ï¼‰ã€‚</p>
<p>K çš„è®¡ç®—å®Œå…¨ç›¸åŒï¼Œåªæ˜¯å°† WQ æ¢æˆ WKã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9175435a3134dd3ad535e8f2d17c353~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=%2B1QGrgQoo6JY1Fyc04q4Drb90r8%3D" alt="image.png" loading="lazy"/></p>
<p>Q å’Œ K éƒ½æ˜¯è¾“å…¥ embedding åˆ°æ–°çš„ n ç»´ç©ºé—´çš„"æŠ•å½±"ã€‚å®ƒä»¬ä¸æ˜¯åŸå§‹çš„ embeddingï¼Œä½†ç”±åŸå§‹ embeddings æ¨å¯¼è€Œæ¥ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å°† Q å’Œ K ç›¸ä¹˜ã€‚æˆ‘ä»¬å¯¹ K è¿›è¡Œâ€œè½¬ç½®â€ï¼Œä¹Ÿå°±æ˜¯æ²¿å¯¹è§’çº¿ç¿»è½¬ï¼Œä½¿å¾—å¾—åˆ°çš„çŸ©é˜µæ˜¯ä¸€ä¸ªæ–¹é˜µï¼Œå…¶è¡Œæ•°å’Œåˆ—æ•°éƒ½ç­‰äºè¾“å…¥æç¤ºè¯ä¸­çš„ token æ•°é‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f16cbd2a6a194a50893b8a520f633862~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=psRQUMRukT1tbagekOepQNBsXmY%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è¿™äº› scores è¡¨ç¤ºæ¯ä¸ª token å¯¹ä¸‹ä¸€ä¸ªç”Ÿæˆ token çš„é‡è¦ç¨‹åº¦ã€‚</strong> å·¦ä¸Šè§’çš„æ•°å€¼ -0.08ï¼Œä»£è¡¨ â€œMaryâ€ å¯¹ â€œhadâ€ çš„é‡è¦æ€§ã€‚å†å¾€ä¸‹ä¸€è¡Œçš„ -0.10ï¼Œåˆ™ä»£è¡¨ â€œMaryâ€ å¯¹ â€œaâ€ çš„é‡è¦æ€§ã€‚åœ¨å±•ç¤ºå®ŒçŸ©é˜µè¿ç®—åï¼Œæˆ‘ä¼šç”¨å›¾ç¤ºæ›´ç›´è§‚åœ°è¯´æ˜è¿™ä¸€ç‚¹ã€‚æ¥ä¸‹æ¥çš„æ‰€æœ‰æ“ä½œï¼Œéƒ½æ˜¯ä¸ºäº†å°†è¿™äº› scores è½¬æ¢ä¸ºå¯ç”¨äºæ··åˆ embeddings çš„æƒé‡ã€‚</p>
<p>è¿™ä¸ª score çŸ©é˜µçš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå®ƒå…è®¸æœªæ¥çš„ token å½±å“è¿‡å»çš„ tokenã€‚åœ¨ç¬¬ä¸€è¡Œï¼Œæˆ‘ä»¬å”¯ä¸€çŸ¥é“çš„è¯æ˜¯"Mary"ï¼Œæ‰€ä»¥å®ƒåº”è¯¥æ˜¯å”¯ä¸€å¯¹ç”Ÿæˆ"had"æœ‰è´¡çŒ®çš„è¯ã€‚ç¬¬äºŒè¡Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“"Mary"å’Œ"had"ï¼Œæ‰€ä»¥åªæœ‰è¿™ä¸¤ä¸ªè¯åº”è¯¥å¯¹ç”Ÿæˆ"a"æœ‰è´¡çŒ®ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹çŸ©é˜µåº”ç”¨ä¸€ä¸ªä¸‰è§’å½¢æ©ç ï¼ˆtriangular maskï¼‰ï¼Œå°†æœªæ¥ token å¯¹åº”çš„ä½ç½®ç½®é›¶ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯çœŸçš„è®¾ä¸º 0ï¼Œè€Œæ˜¯è®¾ä¸ºè´Ÿæ— ç©·ï¼ˆnegative infinityï¼‰ â€”â€” åŸå› ç¨åè§£é‡Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1d01707f9c044bfad12682ae035fe81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=wkeNlMCQHEINeDc1SyHYhjM3C3Y%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼Œè¿™äº› scores æ˜¯ä»»æ„çš„æ•°å€¼ã€‚å¦‚æœå®ƒä»¬èƒ½å˜æˆä¸€ä¸ªæ¯è¡Œä¹‹å’Œç­‰äº 1 çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ä¼šæ›´æœ‰ç”¨ã€‚è¿™æ­£æ˜¯ softmax å‡½æ•°çš„ä½œç”¨ã€‚softmax å…·ä½“å¦‚ä½•è¿ä½œçš„ç»†èŠ‚å¹¶ä¸é‡è¦ â€”â€” å®ƒæ¯”ç®€å•çš„â€œå°†æ¯ä¸ªæ•°å­—é™¤ä»¥è¯¥è¡Œæ€»å’Œâ€ç¨å¤æ‚ä¸€ç‚¹ï¼Œä½†ç»“æœæ˜¯ä¸€æ ·çš„ï¼šæ¯è¡Œä¹‹å’Œä¸º 1ï¼Œä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨ 0 å’Œ 1 ä¹‹é—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3277ecdbcf314dd6b331c68e31beaace~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=HB9xKE8kTusGY5oYNBPk92E%2BmoA%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºäº†è§£é‡Šä¸ºä»€ä¹ˆç”¨è´Ÿæ— ç©·ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ª softmax çš„ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function softmax(matrix){
returnÂ matrix.map(<span class="hljs-attr">row</span>Â =&gt;{
Â const <span class="hljs-attr">exps</span>Â =Â row.map(xÂ =&gt;Â Math.exp(x))<span class="hljs-comment">;</span>
Â const <span class="hljs-attr">sumExps</span>Â =Â exps.reduce((a,Â b)=&gt;Â aÂ +Â b,<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
returnÂ exps.map(<span class="hljs-attr">exp</span>Â =&gt;Â expÂ /Â sumExps)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
}
</code></pre>
<p>å®ƒå¹¶ä¸æ˜¯ç®€å•åœ°æŠŠæ¯ä¸ªæ•°åŠ èµ·æ¥å†é™¤ä»¥æ€»å’Œï¼Œè€Œæ˜¯å…ˆå¯¹æ¯ä¸ªæ•°å€¼å– Math.expï¼Œä¹Ÿå°±æ˜¯è®¡ç®— e^xã€‚å¦‚æœæˆ‘ä»¬ç”¨ 0 ä»£æ›¿è´Ÿæ— ç©·ï¼ŒMath.exp(0) === 1ï¼Œè¿™äº›è¢«å±è”½çš„ä½ç½®ä»ç„¶ä¼šäº§ç”Ÿéé›¶æƒé‡ã€‚è€Œ Math.exp(-Infinity) æ˜¯ 0ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>ä¸‹é¢çš„å›¾ç‰‡å±•ç¤ºäº†æç¤ºè¯"Mary had a little"çš„ attention æƒé‡ç¤ºä¾‹ã€‚</p>
<p>è¿™äº›æƒé‡ä¸ä¸Šé¢çš„è®¡ç®—ç»“æœä¸åŒ¹é…ï¼Œå› ä¸ºæˆ‘æ˜¯ä» Transformer Explained ç½‘ç«™[7]ä¸Šè¿è¡Œçš„ GPT-2 æ¨¡å‹ä¸­æå–çš„ã€‚æ‰€ä»¥è¿™äº›æ˜¯ä¸€ä¸ªçœŸå®æ¨¡å‹ï¼ˆå°½ç®¡æ˜¯è€æ¨¡å‹ï¼‰çš„çœŸå®æƒé‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97f4cdd50c414f2eb49315e76fba2187~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=x6%2Bbv%2FGgwA5sYI5WBpjEwVxJ2Rk%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬ä¸€è¡Œåªæœ‰"Mary"ï¼Œå› æ­¤Maryå¯¹"had"çš„ç”Ÿæˆçš„è´¡çŒ®æ˜¯100%ã€‚ç„¶ååœ¨ç¬¬äºŒè¡Œï¼Œ"Mary"è´¡çŒ®äº†79%ï¼Œè€Œ"had"è´¡çŒ®äº†21%ç”¨äºç”Ÿæˆ"a"ï¼Œä»¥æ­¤ç±»æ¨ã€‚LLM è®¤ä¸ºè¿™ä¸ªå¥å­ä¸­æœ€é‡è¦çš„è¯æ˜¯ â€œMaryâ€ï¼Œè¿™ä¸€ç‚¹å¹¶ä¸æ„å¤–â€”â€”ä»æ¯ä¸€è¡Œä¸­ â€œMaryâ€ éƒ½æ‹¥æœ‰æœ€é«˜æƒé‡å°±èƒ½çœ‹å‡ºã€‚å¦‚æœæˆ‘è®©ä½ è¡¥å…¨"Jessica had a little"è¿™ä¸ªå¥å­ï¼Œä½ ä¸å¤ªå¯èƒ½é€‰æ‹©"lamb"ã€‚</p>
<p>æ¥ä¸‹æ¥å°±åªå‰©ä¸‹å¯¹ token embeddings è¿›è¡ŒåŠ æƒæ··åˆäº†ï¼Œè°¢å¤©è°¢åœ°ï¼Œè¿™ä¸€æ­¥æ¯”è®¡ç®—æƒé‡è¦ç®€å•å¾—å¤šã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">//Â Learned during training,Â doesn<span class="hljs-comment">'t changeÂ </span>
//Â during inference.Â ThisÂ <span class="hljs-built_in">is</span>Â also an n*n matrix,
//Â <span class="hljs-keyword">where</span> nÂ <span class="hljs-built_in">is</span>Â the number <span class="hljs-keyword">of</span> embedding dimensions.
<span class="hljs-keyword">const</span> WVÂ =[[...],[...],...];
Â 
<span class="hljs-keyword">function</span> attention(embeddings){
Â <span class="hljs-keyword">const</span> VÂ =Â embeddingsÂ *Â WV;
//Â ThisÂ <span class="hljs-built_in">is</span>Â the `attentionWeights` <span class="hljs-keyword">function</span>Â <span class="hljs-keyword">from</span>
//Â the section above.Â We<span class="hljs-comment">'re wrapping itÂ in</span>
//Â this `attention` <span class="hljs-keyword">function</span>.
Â <span class="hljs-keyword">const</span> weightsÂ =Â attentionWeights(embeddings);
<span class="hljs-keyword">return</span>Â weightsÂ *Â V;
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3be2d52478db48c3ad24342c21415e47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=2yUvvRSL5re74%2BV7fY2%2FMODfYwA%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥æ··åˆåŸå§‹ embeddingsï¼Ÿ</p>
<p>å½“æˆ‘ä»¬é€šè¿‡ Q å’Œ K ç›¸ä¹˜å¾—åˆ° attention æƒé‡æ—¶ï¼Œæˆ‘ä»¬å®Œå…¨æ˜¯åœ¨è¡¡é‡ token ä¹‹é—´çš„ç›¸å…³æ€§ã€‚Embeddings ç¼–ç äº† token çš„å„ç§è¯­ä¹‰ä¿¡æ¯ â€”â€” æŸä¸€ç»´å¯èƒ½è¡¨ç¤ºâ€œé¢œè‰²â€ï¼Œå¦ä¸€ç»´è¡¨ç¤ºâ€œå¤§å°â€ï¼Œå†ä¸€ç»´è¡¨ç¤ºâ€œç¤¼è²Œ/ç²—é²ç¨‹åº¦â€ï¼Œç­‰ç­‰ã€‚è€Œæƒé‡æ˜¯é€šè¿‡ç›¸ä¼¼åº¦æ¥åˆ¤æ–­å“ªäº› token æ›´ç›¸å…³ã€‚</p>
<p>WV çš„ä½œç”¨ï¼Œåˆ™æ˜¯è®©æ¨¡å‹å†³å®šåœ¨æ··åˆæ—¶ä¿ç•™å“ªäº›ç»´åº¦çš„ä¿¡æ¯ã€‚</p>
<p>ä»¥å¥å­ â€œMary had a littleâ€ ä¸ºä¾‹ï¼Œè¿™é‡Œå…³äº â€œMaryâ€ æœ€é‡è¦çš„ä¿¡æ¯æ˜¯â€œäººåâ€ã€‚æ¨¡å‹åœ¨è®­ç»ƒä¸­å¯èƒ½ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šå…³äº â€œBloody Maryï¼ˆè¡€è…¥ç›ä¸½é¸¡å°¾é…’ï¼‰â€ æˆ– â€œMary Queen of Scotsï¼ˆè‹æ ¼å…°å¥³ç‹ç›ä¸½ï¼‰â€ çš„çŸ¥è¯†ï¼Œä½†è¿™äº›ä¸è¿™é¦–ç«¥è°£æ— å…³ï¼Œå¦‚æœå¸¦å…¥åç»­è®¡ç®—åè€Œä¼šå¼•å…¥å™ªå£°ã€‚å› æ­¤ï¼ŒWV å…è®¸æ¨¡å‹åœ¨æ··åˆ embeddings ä¹‹å‰ï¼Œå…ˆè¿‡æ»¤æ‰ä¸ç›¸å…³çš„ç‰¹å¾ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆçš„æƒé‡ä¸ V ç›¸ä¹˜ï¼Œè¾“å‡ºä¸€ç»„æ–°çš„ embeddingsï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33fb977942b747efab4bd5d4a1c10f14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=pS9CPjaJIGNm7kDP2Pb4drNJ%2F00%3D" alt="image.png" loading="lazy"/></p>
<p><strong>Attention æœºåˆ¶çš„æœ€ç»ˆè¾“å‡ºï¼Œå°±æ˜¯è¿™ä¸ªè¾“å‡ºçŸ©é˜µçš„æœ€åä¸€è¡Œã€‚</strong> é€šè¿‡ attention è¿‡ç¨‹ï¼Œå‰é¢æ‰€æœ‰ token çš„ä¸Šä¸‹æ–‡ä¿¡æ¯éƒ½è¢«èåˆè¿›äº†è¿™ä¸€è¡Œã€‚ä½†è¦æ³¨æ„ï¼šä¸ºäº†å¾—åˆ°æœ€åä¸€è¡Œï¼Œå‰é¢æ‰€æœ‰è¡Œéƒ½å¿…é¡»è¢«è®¡ç®—å‡ºæ¥ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè¾“å…¥æ˜¯ä¸€ç»„ embeddingsï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ embeddingã€‚Attention æœºåˆ¶é€šè¿‡å¤§é‡ç²¾ç»†çš„æ•°å­¦è¿ç®—ï¼ŒæŒ‰ç…§è®­ç»ƒä¸­å­¦åˆ°çš„ WQã€WK å’Œ WV çŸ©é˜µæ‰€å†³å®šçš„é‡è¦æ€§æ¯”ä¾‹ï¼Œå°†å„ä¸ª token çš„ä¿¡æ¯è¿›è¡Œäº†åŠ æƒèåˆã€‚æ­£æ˜¯è¿™ä¸€æœºåˆ¶ï¼Œè®© LLM èƒ½å¤Ÿç†è§£åœ¨å…¶ä¸Šä¸‹æ–‡çª—å£ä¸­â€œä»€ä¹ˆå†…å®¹é‡è¦ï¼Œä»¥åŠä¸ºä»€ä¹ˆé‡è¦â€ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºæŒæ¡äº†è®¨è®º caching æ‰€éœ€çš„ä¸€åˆ‡çŸ¥è¯†ã€‚</p>
<p>å½“ç„¶ï¼ŒAttention è¿˜æœ‰æ›´å¤šæŠ€æœ¯ç»†èŠ‚</p>
<p>æˆ‘åœ¨æœ¬æ–‡å±•ç¤ºçš„æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ attentionï¼Œç›®çš„æ˜¯çªå‡ºä¸ prompt caching æœ€ç›¸å…³çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚å®é™…ä¸­çš„ attention æœºåˆ¶æ›´ä¸ºå¤æ‚ã€‚å¦‚æœä½ å¸Œæœ›æ·±å…¥äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚ï¼Œæˆ‘æ¨è 3blue1brown å…³äº attention çš„è§†é¢‘[8]ã€‚</p>
<h2 data-id="heading-4"><strong>05 Prompt caching</strong></h2>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€éä¸Šé¢çš„ç½‘æ ¼ï¼Œä½†è¿™æ¬¡ä¼šå±•ç¤ºåœ¨æ¨ç†å¾ªç¯ä¸­æ¯ç”Ÿæˆä¸€ä¸ªæ–° token æ—¶ï¼Œå®ƒæ˜¯å¦‚ä½•é€æ­¥å¡«å……çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd098773c4594486abaaf3d19da88503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=6Xnizr8khWVeWGjfnV00BU1s758%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯æ¬¡ç”Ÿæˆæ–° token æ—¶ï¼Œéƒ½ä¼šå°†å…¶è¿½åŠ åˆ°è¾“å…¥ä¸­ï¼Œå¹¶é‡æ–°å®Œæ•´å¤„ç†æ•´ä¸ª promptã€‚ä½†ä»”ç»†è§‚å¯Ÿï¼šä¹‹å‰è®¡ç®—å‡ºçš„æƒé‡ä»æœªæ”¹å˜ã€‚ç¬¬äºŒè¡Œå§‹ç»ˆæ˜¯ 0.79 å’Œ 0.21ï¼Œç¬¬ä¸‰è¡Œå§‹ç»ˆæ˜¯ 0.81ã€0.13ã€0.06ã€‚æˆ‘ä»¬å…¶å®åœ¨ä¸æ–­é‡å¤å¤§é‡ä¸å¿…è¦çš„è®¡ç®—ã€‚å¦‚æœä½ åˆšåˆšæ‰å¤„ç†å®Œ â€œMary had aâ€ï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆä¸‹ä¸€ä¸ª token æ—¶ï¼Œå¯¹ â€œMary had a littleâ€ ä¸­å‰ä¸‰ä¸ª token çš„å¤§éƒ¨åˆ†çŸ©é˜µè¿ç®—å…¶å®æ˜¯å†—ä½™çš„ â€”â€” è€Œè¿™æ­£æ˜¯ LLM æ¨ç†å¾ªç¯çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ”¹åŠ¨ï¼Œå°±èƒ½é¿å…è¿™äº›é‡å¤è®¡ç®—ï¼š</p>
<ul>
<li><strong>åœ¨æ¯æ¬¡è¿­ä»£ä¸­ç¼“å­˜ K å’Œ V çŸ©é˜µã€‚</strong></li>
<li><strong>åªå°†æœ€æ–° token çš„ embeddings è¾“å…¥æ¨¡å‹ï¼Œè€Œä¸æ˜¯æ•´ä¸ª promptã€‚</strong></li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬å†æ¬¡èµ°ä¸€éçŸ©é˜µè¿ç®—è¿‡ç¨‹ï¼Œä½†è¿™ä¸€æ¬¡ï¼šå‰ 4 ä¸ª token çš„ K å’Œ V çŸ©é˜µå·²è¢«ç¼“å­˜ï¼Œæˆ‘ä»¬åªä¼ å…¥ä¸€ä¸ªæ–° token çš„ embeddingsã€‚</p>
<p>æ˜¯çš„ï¼Œåˆè¦é¢å¯¹çŸ©é˜µè¿ç®—äº†ï¼ŒæŠ±æ­‰ï¼ä¸è¿‡å†…å®¹å’Œä¹‹å‰åŸºæœ¬ä¸€è‡´ï¼Œæˆ‘ä»¬ä¼šå¿«é€Ÿè¿‡ä¸€éã€‚</p>
<p>è®¡ç®—æ–°çš„ Q æ—¶ï¼Œè¾“å‡ºåªæœ‰ä¸€è¡Œã€‚WQ å’Œä¹‹å‰ä¸€æ ·ï¼Œæ²¡æœ‰å˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/534869cbd4814219923cc9154703a6ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=yD%2FZ1XvqmZFawz%2FnANDnmqKyrxQ%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ç€ï¼Œè®¡ç®—æ–°çš„ K ä¹ŸåŒæ ·åªè¾“å‡ºä¸€è¡Œï¼Œè€Œ WK ä¹Ÿå’Œä¹‹å‰ä¸€æ ·ä¿æŒä¸å˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4b2e3118920486495c4b0bd227b946e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=rnR12gAjn75v2iHrtxQpW2RYDPE%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†éšåæˆ‘ä»¬å°†è¿™ä¸€æ–°è¡Œè¿½åŠ åˆ°å‰ä¸€æ¬¡è¿­ä»£ç¼“å­˜çš„ 4 è¡Œ K çŸ©é˜µä¹‹åï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95e7ec0e039e434fa75df74e6904d7cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=N%2B%2FjErKQgdBZNc809KbjSJDZ0wI%3D" alt="image.png" loading="lazy"/></p>
<p>äºæ˜¯ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº†æç¤ºè¯ä¸­æ‰€æœ‰ token çš„ K çŸ©é˜µï¼Œä½†æˆ‘ä»¬åªéœ€è¦è®¡ç®—å®ƒçš„æœ€åä¸€è¡Œã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­ä»¥è¿™ç§æ–¹å¼æ¥è·å–æ–°çš„ scoreï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cee05647e3c4fc8a4750770e2ea0fe1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=ycfCSP99sq2Sx3IDun%2FeiB8DeUU%3D" alt="image.png" loading="lazy"/></p>
<p>ä»¥åŠæ–°çš„çš„ weightsï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6633a0b02c5441d39dfe5f0ecf6169f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=uuBcj%2FAsiYDVlAzGjPWUtDmNDt0%3D" alt="image.png" loading="lazy"/></p>
<p>å…¨ç¨‹æˆ‘ä»¬åªè®¡ç®—å¿…éœ€çš„éƒ¨åˆ†ï¼Œå®Œå…¨ä¸éœ€è¦å¯¹æ—§å€¼è¿›è¡Œä»»ä½•é‡æ–°è®¡ç®—ã€‚è·å– V çš„æ–°ä¸€è¡Œæ—¶ä¹Ÿæ˜¯åŒæ ·çš„åšæ³•ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/502a7fd0566f417c800bbfd161d43fb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=1vh%2BWgC6qYbc5z9SwbJWRCWe13s%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åå°†å…¶è¿½åŠ åˆ°æˆ‘ä»¬ç¼“å­˜çš„ V ä¸­ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f94842f7ce014c74a28953735532c2cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=lMmh5Eso7c2PCvVC2igKDhSb4YY%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€åï¼Œæˆ‘ä»¬å°†æ–°çš„æƒé‡ä¸æ–°çš„ V ç›¸ä¹˜ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ–° embeddingsï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adf75bd238f5464a848ba387b856bf5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=%2BwGCAkxH2%2B14Ww%2BgefkR1I4a%2FYk%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬åªéœ€è¦è¿™å•ç‹¬ä¸€è¡Œæ–°çš„ embeddingã€‚å¾—ç›Šäºç¼“å­˜çš„ K å’Œ Vï¼Œå…ˆå‰æ‰€æœ‰ token çš„ä¸Šä¸‹æ–‡ä¿¡æ¯éƒ½å·²è¢«èå…¥å…¶ä¸­ã€‚</p>
<p><strong>è¢«ç¼“å­˜çš„æ•°æ®æ˜¯ embeddings * WK å’Œ embeddings * WV çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ K å’Œ Vã€‚</strong> å› æ­¤ï¼Œæç¤ºè¯ç¼“å­˜é€šå¸¸è¢«ç§°ä¸º"KV caching"ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/411d6b1a3a20496bba649b733f64d87a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771565238&amp;x-signature=hSH8tERZlEuqQqKjlZpj4X8acnE%3D" alt="image.png" loading="lazy"/></p>
<p>å°±æ˜¯è¿™æ ·ï¼Œä¸Šé¢é‚£äº› K å’Œ V çŸ©é˜µï¼Œå°±æ˜¯æœåŠ¡æä¾›å•†ä¿å­˜åœ¨ä»–ä»¬å·¨å¤§æ•°æ®ä¸­å¿ƒé‡Œçš„ 1 å’Œ 0ï¼Œç”¨æ¥ç»™æˆ‘ä»¬æä¾›ä¸€æŠ˜çš„ token æˆæœ¬å’Œæ›´å¿«çš„å“åº”ã€‚</p>
<p>æœåŠ¡æä¾›å•†åœ¨è¯·æ±‚å‘å‡ºåï¼Œä¼šå°†æ¯ä¸ªæç¤ºè¯çš„è¿™äº›çŸ©é˜µä¿ç•™ 5-10 åˆ†é’Ÿï¼Œå¦‚æœä½ å‘é€ä¸€ä¸ªä»¥ç›¸åŒæç¤ºè¯å¼€å¤´çš„æ–°è¯·æ±‚ï¼Œä»–ä»¬å°±ä¼šå¤ç”¨ç¼“å­˜çš„ K å’Œ Vï¼Œè€Œä¸æ˜¯é‡æ–°è®¡ç®—å®ƒä»¬ã€‚<strong>ç¼“å­˜åŒ¹é…ä¸éœ€è¦å®Œå…¨ä¸€è‡´ â€”â€” å³ä½¿æ–° prompt åªå’Œç¼“å­˜ä¸­çš„æŸä¸€éƒ¨åˆ†å¼€å¤´ç›¸åŒï¼Œä¹Ÿå¯ä»¥å¤ç”¨é‚£éƒ¨åˆ†å·²ç¼“å­˜çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…æ•´ä¸ª prompt å®Œå…¨åŒ¹é…ã€‚</strong></p>
<p>OpenAI å’Œ Anthropic çš„ç¼“å­˜æœºåˆ¶æˆªç„¶ä¸åŒã€‚<strong>OpenAI å®Œå…¨è‡ªåŠ¨å¤„ç†ï¼Œä¼šå°½å¯èƒ½å°è¯•å°†è¯·æ±‚è·¯ç”±åˆ°ç¼“å­˜æ¡ç›®ã€‚</strong> åœ¨æˆ‘çš„å®éªŒä¸­ï¼Œé€šè¿‡å‘é€è¯·æ±‚ç„¶åç«‹å³é‡å‘ï¼Œç¼“å­˜å‘½ä¸­ç‡çº¦ä¸º 50%ã€‚è€ƒè™‘åˆ°é•¿ä¸Šä¸‹æ–‡çª—å£çš„é¦–å­—èŠ‚å»¶è¿Ÿï¼ˆtime-to-first-byteï¼‰å¯èƒ½å¾ˆé•¿ï¼Œè¿™ç§è‡ªåŠ¨ç¼“å­˜å¯èƒ½å¯¼è‡´æ€§èƒ½è¡¨ç°ä¸ç¨³å®šã€‚</p>
<p><strong>Anthropic åˆ™èµ‹äºˆä½ æ›´å¤šæ§åˆ¶æƒï¼Œè®©ä½ å†³å®šä½•æ—¶ç¼“å­˜ä»¥åŠç¼“å­˜å¤šä¹…ã€‚</strong> ä½ éœ€è¦ä¸ºè¿™é¡¹ç‰¹æƒä»˜è´¹ï¼Œä½†åœ¨æˆ‘è¿›è¡Œçš„å®éªŒä¸­ï¼Œå½“æˆ‘ä»¬è¦æ±‚ Anthropic ç¼“å­˜æŸä¸ªæç¤ºè¯æ—¶ï¼Œä»–ä»¬ä¼š 100% åœ°å°†è¯·æ±‚è·¯ç”±åˆ°ç¼“å­˜æ¡ç›®ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„åº”ç”¨æ¶‰åŠé•¿ä¸Šä¸‹æ–‡çª—å£ï¼Œå¹¶ä¸”éœ€è¦å¯é¢„æµ‹çš„å»¶è¿Ÿï¼ŒAnthropic å¯èƒ½æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ã€‚</p>
<p>ç­‰ç­‰ï¼Œé‚£ temperature è¿™äº›å‚æ•°ä¼šå½±å“æç¤ºè¯ç¼“å­˜å—ï¼Ÿ</p>
<p>LLM æä¾›å•†æä¾›äº†å¤šç§å‚æ•°æ¥æ§åˆ¶æ¨¡å‹è¾“å‡ºçš„éšæœºæ€§ï¼Œå¸¸è§çš„æœ‰ temperatureã€top_p å’Œ top_kã€‚è¿™äº›å‚æ•°éƒ½ä½œç”¨äºæ¨ç†å¾ªç¯çš„æœ€åä¸€æ­¥ï¼Œå³æ¨¡å‹æ ¹æ®å®ƒä¸ºè¯è¡¨ä¸­æ¯ä¸ª token åˆ†é…çš„æ¦‚ç‡æ¥é€‰å– tokenã€‚è¿™å‘ç”Ÿåœ¨ attention æœºåˆ¶äº§ç”Ÿæœ€ç»ˆ embedding ä¹‹åï¼Œå› æ­¤æç¤ºè¯ç¼“å­˜ä¸å—è¿™äº›å‚æ•°å½±å“ã€‚ä½ å¯ä»¥éšæ„è°ƒæ•´å®ƒä»¬ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå¯¼è‡´ç¼“å­˜çš„æç¤ºè¯å¤±æ•ˆã€‚</p>
<h2 data-id="heading-5"><strong>è‡´è°¢</strong></h2>
<p>ä¸ºäº†å­¦ä¹ æ’°å†™æœ¬æ–‡æ‰€éœ€çš„å…¨éƒ¨çŸ¥è¯†ï¼Œæˆ‘å¦‚é¥¥ä¼¼æ¸´åœ°é˜…è¯»äº†å¤§é‡ä¼˜è´¨å†…å®¹ï¼Œä»¥ä¸‹æ˜¯æˆ‘è®¤ä¸ºå¯¹æˆ‘æœ€æœ‰å¸®åŠ©çš„ï¼š</p>
<ul>
<li>Build a Large Language Model (From Scratch)[9]Â by Sebastian Raschka[10].</li>
<li>Neural Networks: Zero to Hero[11]Â by Andrej Karpathy[12].</li>
<li>Neural Networks video course[13]Â by 3blue1brown[14].</li>
<li>Transformer Explainer[15]Â by Aeree Cho[16]Â et al.</li>
</ul>
<p>å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œä½ ä¸€å®šä¼šå–œæ¬¢è¿™äº›èµ„æºã€‚</p>
<p><strong>END</strong></p>
<p><strong>æœ¬æœŸäº’åŠ¨å†…å®¹ ğŸ»</strong></p>
<p><strong>â“æŒ‰ç…§æ–‡ä¸­é€»è¾‘ï¼Œç¼“å­˜æœ¬è´¨æ˜¯æ‹¿å†…å­˜æ¢è®¡ç®—ã€‚å½“ä½ å¤„ç†10ä¸‡Tokenä»¥ä¸Šçš„è¶…é•¿ä¸Šä¸‹æ–‡æ—¶ï¼Œæœ‰æ²¡æœ‰ä¼°ç®—è¿‡KV Cacheçš„å†…å­˜å ç”¨æˆæœ¬ vs é‡æ–°è®¡ç®—çš„APIæˆæœ¬ï¼Ÿåœ¨ä»€ä¹ˆä¸´ç•Œç‚¹ä½ ä¼šé€‰æ‹©æ”¾å¼ƒç¼“å­˜ï¼Ÿ</strong></p>
<p><strong>æ–‡ä¸­é“¾æ¥</strong></p>
<p>[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.com%2Fblog%2Fprompt-caching" target="_blank" title="https://claude.com/blog/prompt-caching" ref="nofollow noopener noreferrer">claude.com/blog/promptâ€¦</a></p>
<p>[2]<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.claude.com%2Fen%2Fdocs%2Fbuild-with-claude%2Fprompt-caching" target="_blank" title="https://docs.claude.com/en/docs/build-with-claude/prompt-caching" ref="nofollow noopener noreferrer">docs.claude.com/en/docs/buiâ€¦</a></p>
<p>[3]<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Fdocs%2Fguides%2Fprompt-caching" target="_blank" title="https://platform.openai.com/docs/guides/prompt-caching" ref="nofollow noopener noreferrer">platform.openai.com/docs/guidesâ€¦</a></p>
<p>[4]<a href="https://link.juejin.cn?target=https%3A%2F%2Fmagazine.sebastianraschka.com%2F" target="_blank" title="https://magazine.sebastianraschka.com/" ref="nofollow noopener noreferrer">magazine.sebastianraschka.com/</a></p>
<p>[5]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frasbt%2FLLMs-from-scratch%2Fblob%2Fmain%2Fch05%2F13_olmo3%2Fstandalone-olmo3.ipynb" target="_blank" title="https://github.com/rasbt/LLMs-from-scratch/blob/main/ch05/13_olmo3/standalone-olmo3.ipynb" ref="nofollow noopener noreferrer">github.com/rasbt/LLMs-â€¦</a></p>
<p>[6]<a href="https://link.juejin.cn?target=https%3A%2F%2Ftiktokenizer.vercel.app%2F" target="_blank" title="https://tiktokenizer.vercel.app/" ref="nofollow noopener noreferrer">tiktokenizer.vercel.app/</a></p>
<p>[7]<a href="https://link.juejin.cn?target=https%3A%2F%2Fpoloclub.github.io%2Ftransformer-explainer%2F" target="_blank" title="https://poloclub.github.io/transformer-explainer/" ref="nofollow noopener noreferrer">poloclub.github.io/transformerâ€¦</a></p>
<p>[8]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DeMlx5fFNoYc" target="_blank" title="https://www.youtube.com/watch?v=eMlx5fFNoYc" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=eMlâ€¦</a></p>
<p>[9]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oreilly.com%2Flibrary%2Fview%2Fbuild-a-large%2F9781633437166%2F" target="_blank" title="https://www.oreilly.com/library/view/build-a-large/9781633437166/" ref="nofollow noopener noreferrer">www.oreilly.com/library/vieâ€¦</a></p>
<p>[10]<a href="https://link.juejin.cn?target=https%3A%2F%2Fsebastianraschka.com%2F" target="_blank" title="https://sebastianraschka.com/" ref="nofollow noopener noreferrer">sebastianraschka.com/</a></p>
<p>[11]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DVMj-3S1tku0%26list%3DPLAqhIrjkxbuWI23v9cThsA9GvCAUhRvKZ" target="_blank" title="https://www.youtube.com/watch?v=VMj-3S1tku0&amp;list=PLAqhIrjkxbuWI23v9cThsA9GvCAUhRvKZ" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=VMjâ€¦</a></p>
<p>[12]<a href="https://link.juejin.cn?target=https%3A%2F%2Fkarpathy.ai%2F" target="_blank" title="https://karpathy.ai/" ref="nofollow noopener noreferrer">karpathy.ai/</a></p>
<p>[13]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fplaylist%3Flist%3DPLZHQObOWTQDNU6R1_67000Dx_ZCJB-3pi" target="_blank" title="https://www.youtube.com/playlist?list=PLZHQObOWTQDNU6R1_67000Dx_ZCJB-3pi" ref="nofollow noopener noreferrer">www.youtube.com/playlist?liâ€¦</a></p>
<p>[14]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2F%403blue1brown" target="_blank" title="https://www.youtube.com/@3blue1brown" ref="nofollow noopener noreferrer">www.youtube.com/@3blue1browâ€¦</a></p>
<p>[15]<a href="https://link.juejin.cn?target=https%3A%2F%2Fpoloclub.github.io%2Ftransformer-explainer%2F" target="_blank" title="https://poloclub.github.io/transformer-explainer/" ref="nofollow noopener noreferrer">poloclub.github.io/transformerâ€¦</a></p>
<p>[16]<a href="https://link.juejin.cn?target=https%3A%2F%2Faereeeee.github.io%2F" target="_blank" title="https://aereeeee.github.io/" ref="nofollow noopener noreferrer">aereeeee.github.io/</a></p>
<p><strong>æœ¬æ–‡ç»åŸä½œè€…æˆæƒï¼Œç”±</strong> <strong>Baihai IDP</strong> <strong>ç¼–è¯‘ã€‚å¦‚éœ€è½¬è½½è¯‘æ–‡ï¼Œè¯·è”ç³»è·å–æˆæƒã€‚</strong></p>
<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fngrok.com%2Fblog%2Fprompt-caching%2F" target="_blank" title="https://ngrok.com/blog/prompt-caching/" ref="nofollow noopener noreferrer">ngrok.com/blog/promptâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ« JSON.parse(JSON.stringify()) â€” åŸç”Ÿæ·±æ‹·è´ structuredClone]]></title>    <link>https://juejin.cn/post/7605810996125286434</link>    <guid>https://juejin.cn/post/7605810996125286434</guid>    <pubDate>2026-02-13T03:40:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605810996125286434" data-draft-id="7605542907119124532" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ« JSON.parse(JSON.stringify()) â€” åŸç”Ÿæ·±æ‹·è´ structuredClone"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-02-13T03:40:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆå¹¿äº®"/> <meta itemprop="url" content="https://juejin.cn/user/3139860937575934"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ« JSON.parse(JSON.stringify()) â€” åŸç”Ÿæ·±æ‹·è´ structuredClone
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860937575934/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆå¹¿äº®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T03:40:38.000Z" title="Fri Feb 13 2026 03:40:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±æ‹·è´çš„è€åŠæ³•</h2>
<p>åœ¨ JavaScript ä¸­æ·±æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œæœ€å¸¸è§çš„"hack"å†™æ³•æ˜¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(original));
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•ç®€å•ç²—æš´ï¼Œä½†æœ‰ä¸€å †å‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>,
  <span class="hljs-attr">map</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>]]),
  <span class="hljs-attr">set</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),
  <span class="hljs-attr">undef</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-string">"hello"</span>,
  <span class="hljs-attr">nan</span>: <span class="hljs-title class_">NaN</span>,
  <span class="hljs-attr">infinity</span>: <span class="hljs-title class_">Infinity</span>,
};

<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   date: "2026-02-11T06:00:00.000Z",  â† å˜æˆäº†å­—ç¬¦ä¸²</span>
<span class="hljs-comment">//   regex: {},                           â† ä¸¢å¤±äº†</span>
<span class="hljs-comment">//   map: {},                             â† ä¸¢å¤±äº†</span>
<span class="hljs-comment">//   set: {},                             â† ä¸¢å¤±äº†</span>
<span class="hljs-comment">//                                        â† undefined ç›´æ¥æ¶ˆå¤±</span>
<span class="hljs-comment">//                                        â† å‡½æ•°ç›´æ¥æ¶ˆå¤±</span>
<span class="hljs-comment">//   nan: null,                           â† å˜æˆäº† null</span>
<span class="hljs-comment">//   infinity: null                       â† å˜æˆäº† null</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªè‡´å‘½é—®é¢˜ â€”â€” å¾ªç¯å¼•ç”¨ç›´æ¥æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> a = { <span class="hljs-attr">name</span>: <span class="hljs-string">"a"</span> };
a.<span class="hljs-property">self</span> = a;
<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(a)); <span class="hljs-comment">// âŒ TypeError: Converting circular structure to JSON</span>
</code></pre>
<h2 data-id="heading-1">structuredClone ç™»åœº</h2>
<p><code>structuredClone()</code> æ˜¯æµè§ˆå™¨å’Œ Node.js (v17+) æä¾›çš„<strong>åŸç”Ÿæ·±æ‹·è´</strong>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> original = {
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>,
  <span class="hljs-attr">map</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>]]),
  <span class="hljs-attr">set</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),
  <span class="hljs-attr">nested</span>: { <span class="hljs-attr">deep</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">42</span> } },
  <span class="hljs-attr">arr</span>: [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>]]],
};

<span class="hljs-keyword">const</span> copy = <span class="hljs-title function_">structuredClone</span>(original);

copy.<span class="hljs-property">nested</span>.<span class="hljs-property">deep</span>.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original.<span class="hljs-property">nested</span>.<span class="hljs-property">deep</span>.<span class="hljs-property">value</span>); <span class="hljs-comment">// 42 âœ… äº’ä¸å½±å“</span>

copy.<span class="hljs-property">date</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>; <span class="hljs-comment">// true âœ… ç±»å‹ä¿ç•™</span>
copy.<span class="hljs-property">regex</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>; <span class="hljs-comment">// true âœ…</span>
copy.<span class="hljs-property">map</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>; <span class="hljs-comment">// true âœ…</span>
copy.<span class="hljs-property">set</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>; <span class="hljs-comment">// true âœ…</span>
</code></pre>
<p>å¾ªç¯å¼•ç”¨ä¹Ÿèƒ½æ­£ç¡®å¤„ç†ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> a = { <span class="hljs-attr">name</span>: <span class="hljs-string">"a"</span> };
a.<span class="hljs-property">self</span> = a;
<span class="hljs-keyword">const</span> b = <span class="hljs-title function_">structuredClone</span>(a); <span class="hljs-comment">// âœ… æ­£å¸¸å·¥ä½œ</span>
b.<span class="hljs-property">self</span> === b; <span class="hljs-comment">// trueï¼ˆå¼•ç”¨æŒ‡å‘æ‹·è´åçš„è‡ªèº«ï¼‰</span>
</code></pre>
<h2 data-id="heading-2">æ”¯æŒçš„ç±»å‹</h2>
<p>structuredClone ä½¿ç”¨çš„æ˜¯ç»“æ„åŒ–å…‹éš†ç®—æ³•ï¼Œæ”¯æŒç»å¤§å¤šæ•°å†…ç½®ç±»å‹ï¼š</p>













































<table><thead><tr><th>ç±»å‹</th><th>JSON æ–¹å¼</th><th>structuredClone</th></tr></thead><tbody><tr><td>Date</td><td>âŒ å˜å­—ç¬¦ä¸²</td><td>âœ…</td></tr><tr><td>RegExp</td><td>âŒ å˜ <code>{}</code></td><td>âœ…</td></tr><tr><td>Map / Set</td><td>âŒ å˜ <code>{}</code></td><td>âœ…</td></tr><tr><td>ArrayBuffer</td><td>âŒ</td><td>âœ…</td></tr><tr><td>undefined</td><td>âŒ ä¸¢å¤±</td><td>âœ…</td></tr><tr><td>NaN / Infinity</td><td>âŒ å˜ null</td><td>âœ…</td></tr><tr><td>å¾ªç¯å¼•ç”¨</td><td>âŒ æŠ¥é”™</td><td>âœ…</td></tr></tbody></table>
<h2 data-id="heading-3">ä¸æ”¯æŒä»€ä¹ˆ</h2>
<p>æœ‰å‡ ç§ä¸œè¥¿æ˜¯ structuredClone <strong>æ— æ³•å…‹éš†</strong>çš„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ å‡½æ•°</span>
<span class="hljs-title function_">structuredClone</span>({ <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> {} });
<span class="hljs-comment">// DOMException: () =&gt; {} could not be cloned.</span>

<span class="hljs-comment">// âŒ DOM èŠ‚ç‚¹</span>
<span class="hljs-title function_">structuredClone</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>);

<span class="hljs-comment">// âŒ åŸå‹é“¾ï¼ˆæ‹·è´åä¸¢å¤±ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> {
  <span class="hljs-title function_">bark</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">"woof"</span>; }
}
<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();
<span class="hljs-keyword">const</span> cloned = <span class="hljs-title function_">structuredClone</span>(dog);
cloned <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Dog</span>; <span class="hljs-comment">// false</span>
cloned.<span class="hljs-property">bark</span>; <span class="hljs-comment">// undefined</span>
</code></pre>
<p>æ‰€ä»¥å¦‚æœä½ çš„å¯¹è±¡åŒ…å«å‡½æ•°æˆ–éœ€è¦ä¿ç•™åŸå‹é“¾ï¼ŒstructuredClone ä¸é€‚ç”¨ã€‚</p>
<h2 data-id="heading-4">ä¸€ä¸ªå®ç”¨æŠ€å·§ï¼štransferable objects</h2>
<p>structuredClone æ”¯æŒç¬¬äºŒä¸ªå‚æ•° <code>transfer</code>ï¼Œå¯ä»¥"ç§»äº¤"è€Œä¸æ˜¯"å¤åˆ¶"æŸäº›å¯¹è±¡ï¼ˆå¦‚ ArrayBufferï¼‰ï¼Œé¿å…å†…å­˜ç¿»å€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>); <span class="hljs-comment">// 1MB</span>
<span class="hljs-keyword">const</span> copy = <span class="hljs-title function_">structuredClone</span>(buffer, { <span class="hljs-attr">transfer</span>: [buffer] });

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffer.<span class="hljs-property">byteLength</span>); <span class="hljs-comment">// 0 â† åŸå§‹çš„è¢«æ¸…ç©ºäº†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy.<span class="hljs-property">byteLength</span>); <span class="hljs-comment">// 1048576 â† æ•°æ®è½¬ç§»åˆ°äº† copy</span>
</code></pre>
<p>è¿™åœ¨å¤„ç†å¤§å‹äºŒè¿›åˆ¶æ•°æ®æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<h2 data-id="heading-5">å…¼å®¹æ€§</h2>
<ul>
<li>Chrome 98+, Firefox 94+, Safari 15.4+, Node.js 17+</li>
<li>2026 å¹´çš„ä»Šå¤©ï¼ŒåŸºæœ¬å¯ä»¥æ”¾å¿ƒä½¿ç”¨</li>
</ul>
<h2 data-id="heading-6">æ€»ç»“</h2>





















<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ç®€å•å¯¹è±¡ï¼Œæ— ç‰¹æ®Šç±»å‹</td><td><code>JSON.parse(JSON.stringify())</code> ä»ç„¶å¯ç”¨</td></tr><tr><td>åŒ…å« Date/Map/Set/å¾ªç¯å¼•ç”¨</td><td><code>structuredClone()</code></td></tr><tr><td>éœ€è¦ä¿ç•™åŸå‹é“¾/å‡½æ•°</td><td>æ‰‹å†™é€’å½’æˆ– lodash <code>_.cloneDeep()</code></td></tr></tbody></table>
<p>ä»¥åæ·±æ‹·è´ï¼Œå…ˆæƒ³æƒ³ <code>structuredClone</code> å§ã€‚</p>
<hr/>
<blockquote>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchenguangliang.com%2Fposts%2Fjs-structured-clone%2F" target="_blank" title="https://chenguangliang.com/posts/js-structured-clone/" ref="nofollow noopener noreferrer">chenguangliang.com/posts/js-stâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®æˆ˜ï¼šå°† Android å¤šModuleåº”ç”¨è¿ç§»åˆ° kmp+cmp]]></title>    <link>https://juejin.cn/post/7605907495769767945</link>    <guid>https://juejin.cn/post/7605907495769767945</guid>    <pubDate>2026-02-13T05:24:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605907495769767945" data-draft-id="7605811866908835849" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®æˆ˜ï¼šå°† Android å¤šModuleåº”ç”¨è¿ç§»åˆ° kmp+cmp"/> <meta itemprop="keywords" content="Kotlin,Android,iOS"/> <meta itemprop="datePublished" content="2026-02-13T05:24:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºå…ˆæ£®zhi"/> <meta itemprop="url" content="https://juejin.cn/user/1987506650767966"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®æˆ˜ï¼šå°† Android å¤šModuleåº”ç”¨è¿ç§»åˆ° kmp+cmp
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1987506650767966/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºå…ˆæ£®zhi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T05:24:28.000Z" title="Fri Feb 13 2026 05:24:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®æˆ˜ï¼šå°† Android å¤šæ¨¡å—åº”ç”¨è¿ç§»åˆ° Kotlin Multiplatform + Compose Multiplatform</h2>
<p>æœ€è¿‘æŠŠè‡ªå·±çš„ NBA æ•°æ®åº”ç”¨ <a href="https://juejin.cn/post/7605451617286553627" target="_blank" title="https://juejin.cn/post/7605451617286553627">HoopsNow</a> ä»çº¯ Android å¤šæ¨¡å—æ¶æ„è¿ç§»åˆ°äº† KMP + CMPï¼Œå®ç°äº† Android/iOS å…±äº«ä¸€å¥—ä»£ç ã€‚è¿™ç¯‡æ–‡ç« è®°å½•æ•´ä¸ªè¿ç§»è¿‡ç¨‹ä¸­çš„æ€è·¯ã€è¸©å‘å’Œæœ€ç»ˆæ–¹æ¡ˆã€‚</p>

<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<p>HoopsNow æ˜¯ä¸€ä¸ª NBA æ•°æ®å±•ç¤ºåº”ç”¨ï¼ŒåŠŸèƒ½åŒ…æ‹¬æ¯”èµ›æ¯”åˆ†ã€çƒé˜Ÿä¿¡æ¯ã€çƒå‘˜æœç´¢å’Œæ”¶è—ç®¡ç†ã€‚è¿ç§»å‰çš„æ¶æ„å‚è€ƒäº† Google çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fnowinandroid" target="_blank" title="https://github.com/android/nowinandroid" ref="nofollow noopener noreferrer">Now in Android</a> é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Android å¤šæ¨¡å—æ¶æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">hoopsnow/
â”œâ”€â”€ app/                        <span class="hljs-comment"># å…¥å£ + Navigation3</span>
â”œâ”€â”€ core/                       <span class="hljs-comment"># 9 ä¸ªæ ¸å¿ƒæ¨¡å—</span>
â”‚   â”œâ”€â”€ common/                 <span class="hljs-comment"># å·¥å…·ç±»</span>
â”‚   â”œâ”€â”€ data/                   <span class="hljs-comment"># Repository</span>
â”‚   â”œâ”€â”€ database/               <span class="hljs-comment"># Room</span>
â”‚   â”œâ”€â”€ datastore/              <span class="hljs-comment"># DataStore</span>
â”‚   â”œâ”€â”€ designsystem/           <span class="hljs-comment"># ä¸»é¢˜</span>
â”‚   â”œâ”€â”€ model/                  <span class="hljs-comment"># æ•°æ®æ¨¡å‹</span>
â”‚   â”œâ”€â”€ network/                <span class="hljs-comment"># Ktor</span>
â”‚   â”œâ”€â”€ testing/                <span class="hljs-comment"># æµ‹è¯•å·¥å…·</span>
â”‚   â””â”€â”€ ui/                     <span class="hljs-comment"># å…±äº« UI</span>
â”œâ”€â”€ feature/                    <span class="hljs-comment"># 4 ä¸ªåŠŸèƒ½æ¨¡å— (api/impl)</span>
â”‚   â”œâ”€â”€ games/
â”‚   â”œâ”€â”€ teams/
â”‚   â”œâ”€â”€ players/
â”‚   â””â”€â”€ favorites/
â””â”€â”€ build-logic/                <span class="hljs-comment"># 7 ä¸ª Convention Plugins</span>
</code></pre>
<p>æŠ€æœ¯æ ˆï¼š<strong>Hilt</strong> + <strong>Navigation3</strong> + <strong>Room</strong> + <strong>ViewModel</strong> + <strong>Coil</strong></p>
<p>è¿™å¥—æ¶æ„åœ¨çº¯ Android åœºæ™¯ä¸‹å¾ˆå¥½ç”¨ï¼Œæ¨¡å—è¾¹ç•Œæ¸…æ™°ï¼Œæ„å»ºå¹¶è¡Œåº¦é«˜ã€‚ä½†å½“æˆ‘æƒ³æŠŠåº”ç”¨æ‰©å±•åˆ° iOS æ—¶ï¼Œè¿™äº› Android ä¸“å±çš„åº“å°±æˆäº†éšœç¢ã€‚</p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆé€‰æ‹© KMP + CMP</h3>
<p>è€ƒè™‘è¿‡å‡ ä¸ªæ–¹æ¡ˆï¼š</p>






























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>Flutter</td><td>ç”Ÿæ€æˆç†Ÿï¼Œçƒ­é‡è½½</td><td>éœ€è¦é‡å†™å…¨éƒ¨ä»£ç ï¼ŒDart è¯­è¨€</td></tr><tr><td>React Native</td><td>Web å¼€å‘è€…å‹å¥½</td><td>æ€§èƒ½å¼€é”€ï¼Œæ¡¥æ¥å¤æ‚</td></tr><tr><td>KMP + åŸç”Ÿ UI</td><td>å…±äº«é€»è¾‘ï¼ŒåŸç”Ÿä½“éªŒ</td><td>éœ€è¦å†™ä¸¤å¥— UI</td></tr><tr><td>KMP + CMP</td><td>å…±äº«é€»è¾‘ + UIï¼ŒKotlin å…¨æ ˆ</td><td>CMP iOS ç«¯ç›¸å¯¹å¹´è½»</td></tr></tbody></table>
<p>æœ€ç»ˆé€‰äº† KMP + CMPï¼ŒåŸå› å¾ˆç®€å•ï¼šç°æœ‰ä»£ç æ˜¯ Kotlin + Composeï¼Œè¿ç§»æˆæœ¬æœ€ä½ï¼ŒUI ä¹Ÿèƒ½å…±äº«ã€‚</p>
<h3 data-id="heading-3">æŠ€æœ¯æ ˆæ›¿æ¢</h3>
<p>è¿ç§»çš„æ ¸å¿ƒå°±æ˜¯æŠŠ Android ä¸“å±åº“æ›¿æ¢ä¸º KMP å…¼å®¹çš„ï¿½ï¿½ï¿½ï¼š</p>





















































<table><thead><tr><th>åŠŸèƒ½</th><th>è¿ç§»å‰</th><th>è¿ç§»å</th><th>è¿ç§»éš¾åº¦</th></tr></thead><tbody><tr><td>ä¾èµ–æ³¨å…¥</td><td>Hilt</td><td><strong>Koin 4.0</strong></td><td>â­â­</td></tr><tr><td>å¯¼èˆª</td><td>Navigation3</td><td><strong>Voyager 1.1.0-beta03</strong></td><td>â­â­â­</td></tr><tr><td>æ•°æ®åº“</td><td>Room</td><td><strong>SQLDelight 2.0</strong></td><td>â­â­â­</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>ViewModel</td><td><strong>Voyager ScreenModel</strong></td><td>â­</td></tr><tr><td>å›¾ç‰‡åŠ è½½</td><td>Coil</td><td><strong>Coil 3 (KMP)</strong></td><td>â­</td></tr><tr><td>ç½‘ç»œ</td><td>Ktor (Android)</td><td><strong>Ktor 3.0 (KMP)</strong></td><td>â­</td></tr><tr><td>UI</td><td>Jetpack Compose</td><td><strong>Compose Multiplatform 1.7</strong></td><td>â­</td></tr></tbody></table>
<p>ä¸‹é¢é€ä¸ªè¯´è¯´è¿ç§»ç»†èŠ‚ã€‚</p>
<h3 data-id="heading-4">ä¸€ã€åˆ›å»º shared æ¨¡å—</h3>
<p>ç¬¬ä¸€æ­¥æ˜¯åˆ›å»º KMP å…±äº«æ¨¡å—ã€‚<code>shared/build.gradle.kts</code> çš„æ ¸å¿ƒé…ç½®ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    alias(libs.plugins.kotlin.multiplatform)
    alias(libs.plugins.android.library)
    alias(libs.plugins.kotlin.compose)
    alias(libs.plugins.compose.multiplatform)
    alias(libs.plugins.kotlin.serialization)
    alias(libs.plugins.sqldelight)
}

kotlin {
    androidTarget {
        compilerOptions { jvmTarget.<span class="hljs-keyword">set</span>(JvmTarget.JVM_17) }
    }

    listOf(iosX64(), iosArm64(), iosSimulatorArm64()).forEach {
        it.binaries.framework {
            baseName = <span class="hljs-string">"Shared"</span>
            isStatic = <span class="hljs-literal">true</span>
        }
    }

    sourceSets {
        commonMain.dependencies {
            implementation(compose.runtime)
            implementation(compose.foundation)
            implementation(compose.material3)
            implementation(compose.materialIconsExtended)
            <span class="hljs-comment">// Ktor, SQLDelight, Koin, Voyager, Coil ...</span>
        }
        androidMain.dependencies {
            implementation(libs.ktor.client.okhttp)
            implementation(libs.sqldelight.android.driver)
        }
        iosMain.dependencies {
            implementation(libs.ktor.client.darwin)
            implementation(libs.sqldelight.native.driver)
        }
    }
}
</code></pre>
<h3 data-id="heading-5">äºŒã€æ•°æ®åº“è¿ç§»ï¼šRoom â†’ SQLDelight</h3>
<p>è¿™æ˜¯è¿ç§»ä¸­å·¥ä½œé‡æœ€å¤§çš„éƒ¨åˆ†ã€‚Room ä¸æ”¯æŒ KMPï¼Œå¿…é¡»æ¢æˆ SQLDelightã€‚</p>
<h4 data-id="heading-6">å®šä¹‰ .sq æ–‡ä»¶</h4>
<p>SQLDelight ç”¨ <code>.sq</code> æ–‡ä»¶å®šä¹‰è¡¨ç»“æ„å’ŒæŸ¥è¯¢ï¼Œæ”¾åœ¨ <code>commonMain/sqldelight/</code> ç›®å½•ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- Team.sq</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> TeamEntity (
    id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY</span> KEY <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    conference TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    division TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    city TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    name TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    fullName TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    abbreviation TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);

getAll: <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> TeamEntity;
getById: <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> TeamEntity <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> ?;
upsert: <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">INTO</span> TeamEntity <span class="hljs-keyword">VALUES</span> (?, ?, ?, ?, ?, ?, ?);
</code></pre>
<h4 data-id="heading-7">å¹³å° Driver</h4>
<p>é€šè¿‡ <code>expect/actual</code> ä¸ºä¸åŒå¹³å°æä¾›æ•°æ®åº“é©±åŠ¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain</span>
<span class="hljs-keyword">expect</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver
}

<span class="hljs-comment">// androidMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) {
    <span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver =
        AndroidSqliteDriver(NbaDatabase.Schema, context, <span class="hljs-string">"nba.db"</span>)
}

<span class="hljs-comment">// iosMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span> {
    <span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver =
        NativeSqliteDriver(NbaDatabase.Schema, <span class="hljs-string">"nba.db"</span>)
}
</code></pre>
<h4 data-id="heading-8">è¸©å‘ï¼šSQLDelight å±æ€§å</h4>
<p>SQLDelight ç”Ÿæˆçš„ Queries å±æ€§ååŸºäº <code>.sq</code> æ–‡ä»¶åï¼Œä¸æ˜¯è¡¨åã€‚æ¯”å¦‚ <code>Game.sq</code> ç”Ÿæˆ <code>database.gameQueries</code>ï¼Œä¸æ˜¯ <code>database.gameEntityQueries</code>ã€‚è¿™ä¸ªå‘è®©æˆ‘æ’æŸ¥äº†å¥½ä¸€ä¼šå„¿ã€‚</p>
<h4 data-id="heading-9">è¸©å‘ï¼šKotlin ç±»å‹æ¨æ–­</h4>
<p>SQLDelight çš„é“¾å¼ mapper è°ƒç”¨ä¼šè®© Kotlin çš„ç±»å‹æ¨æ–­çŠ¯è¿·ç³Šã€‚è§£å†³æ–¹æ¡ˆæ˜¯å†™æ˜¾å¼çš„æ‰©å±•å‡½æ•°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> TeamEntity.<span class="hljs-title">toTeam</span><span class="hljs-params">()</span></span>: Team = Team(
    id = id.toInt(),
    conference = conference,
    division = division,
    city = city,
    name = name,
    fullName = fullName,
    abbreviation = abbreviation,
)
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€ä¾èµ–æ³¨å…¥ï¼šHilt â†’ Koin</h3>
<p>Hilt ä¾èµ– Android çš„æ³¨è§£å¤„ç†å™¨ï¼ˆKSPï¼‰ï¼Œä¸æ”¯æŒ KMPã€‚Koin æ˜¯çº¯ Kotlin å®ç°ï¼Œå¤©ç„¶è·¨å¹³å°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain - KoinModules.kt</span>
<span class="hljs-keyword">val</span> sharedModule = module {
    <span class="hljs-comment">// Network</span>
    single&lt;NbaNetworkDataSource&gt; { KtorNbaNetwork(<span class="hljs-keyword">get</span>()) }

    <span class="hljs-comment">// Database</span>
    single { <span class="hljs-keyword">get</span>&lt;DatabaseDriverFactory&gt;().createDriver() }
    single { NbaDatabase(<span class="hljs-keyword">get</span>()) }

    <span class="hljs-comment">// Repositories</span>
    single&lt;GamesRepository&gt; { OfflineFirstGamesRepository(<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }
    single&lt;TeamsRepository&gt; { OfflineFirstTeamsRepository(<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }
    single&lt;PlayersRepository&gt; { OfflineFirstPlayersRepository(<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }
    single&lt;FavoritesRepository&gt; { OfflineFirstFavoritesRepository(<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }

    <span class="hljs-comment">// ScreenModels</span>
    factory { GamesListScreenModel(<span class="hljs-keyword">get</span>()) }
    factory { params -&gt; GameDetailScreenModel(params.<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// å¹³å°æ¨¡å—é€šè¿‡ expect/actual æä¾›</span>
<span class="hljs-keyword">expect</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">platformModule</span><span class="hljs-params">()</span></span>: Module
</code></pre>
<p>å¹³å°æ¨¡å—åªéœ€è¦æä¾› HTTP å¼•æ“å’Œæ•°æ®åº“é©±åŠ¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">platformModule</span><span class="hljs-params">()</span></span>: Module = module {
    single&lt;HttpClientEngine&gt; { OkHttp.create() }
    single { DatabaseDriverFactory(<span class="hljs-keyword">get</span>()) }
}

<span class="hljs-comment">// iosMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">platformModule</span><span class="hljs-params">()</span></span>: Module = module {
    single&lt;HttpClientEngine&gt; { Darwin.create() }
    single { DatabaseDriverFactory() }
}
</code></pre>
<p>è¿ç§»ä½“éªŒï¼šHilt çš„ <code>@HiltViewModel</code> + <code>@Inject constructor</code> å…¨éƒ¨åˆ æ‰ï¼Œæ¢æˆ Koin çš„ <code>factory { }</code> å£°æ˜ã€‚ä»£ç é‡åè€Œå°‘äº†ã€‚</p>
<h3 data-id="heading-11">å››ã€å¯¼èˆªï¼šNavigation3 â†’ Voyager</h3>
<p>å¯¼èˆªæ˜¯è¿ç§»ä¸­è®¾è®¡å†³ç­–æœ€å¤šçš„éƒ¨åˆ†ã€‚Voyager æä¾›äº† <code>TabNavigator</code> + <code>Navigator</code> çš„ç»„åˆï¼Œå¾ˆé€‚åˆåº•éƒ¨ Tab + é¡µé¢æ ˆçš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-12">Tab å®šä¹‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> GamesTab : Tab {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> options <span class="hljs-meta">@Composable</span> <span class="hljs-keyword">get</span>() = TabOptions(
        index = 0u,
        title = <span class="hljs-string">"Games"</span>,
        icon = rememberVectorPainter(Icons.Default.SportsBasketball),
    )

    <span class="hljs-meta">@Composable</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Content</span><span class="hljs-params">()</span></span> {
        Navigator(GamesListScreen()) { navigator -&gt;
            SlideTransition(navigator)
        }
    }
}
</code></pre>
<p>æ¯ä¸ª Tab å†…åµŒç‹¬ç«‹çš„ <code>Navigator</code>ï¼ŒTab åˆ‡æ¢æ—¶å„è‡ªçš„å¯¼èˆªæ ˆäº’ä¸å½±å“ã€‚</p>
<h4 data-id="heading-13">Screen å®šä¹‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GamesListScreen</span> : <span class="hljs-type">Screen</span> {
    <span class="hljs-meta">@Composable</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Content</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> screenModel = koinScreenModel&lt;GamesListScreenModel&gt;()
        <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> screenModel.uiState.collectAsState()
        <span class="hljs-comment">// UI ...</span>
    }
}
</code></pre>
<h4 data-id="heading-14">é¡µé¢é—´ä¼ å‚</h4>
<p>Voyager é€šè¿‡æ„é€ å‡½æ•°ä¼ å‚ï¼Œç®€å•ç›´æ¥ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GameDetailScreen</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> gameId: <span class="hljs-built_in">Int</span>) : Screen { ... }

<span class="hljs-comment">// å¯¼èˆª</span>
navigator.push(GameDetailScreen(gameId = <span class="hljs-number">123</span>))
</code></pre>
<p>Koin ç«¯ç”¨ <code>parametersOf</code> ä¼ é€’ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šä¹‰</span>
factory { params -&gt; GameDetailScreenModel(params.<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">val</span> screenModel = koinScreenModel&lt;GameDetailScreenModel&gt; { parametersOf(gameId) }
</code></pre>
<h4 data-id="heading-15">ä¸»å…¥å£</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HoopsNowApp</span><span class="hljs-params">()</span></span> {
    HoopsNowTheme {
        TabNavigator(GamesTab) {
            Scaffold(
                bottomBar = {
                    NavigationBar {
                        TabNavigationItem(GamesTab)
                        TabNavigationItem(TeamsTab)
                        TabNavigationItem(PlayersTab)
                        TabNavigationItem(FavoritesTab)
                    }
                },
            ) {
                CurrentTab()
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-16">äº”ã€çŠ¶æ€ç®¡ç†ï¼šViewModel â†’ ScreenModel</h3>
<p>è¿™æ˜¯æœ€ç®€å•çš„ä¸€æ­¥ã€‚Voyager çš„ <code>ScreenModel</code> å’Œ <code>ViewModel</code> å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è¿ç§»å‰</span>
<span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GamesListViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> gamesRepository: GamesRepository,
) : ViewModel() {
    <span class="hljs-keyword">val</span> uiState = gamesRepository.getGames()
        .stateIn(viewModelScope, SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>), Loading)
}

<span class="hljs-comment">// è¿ç§»å</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GamesListScreenModel</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> gamesRepository: GamesRepository,
) : ScreenModel {
    <span class="hljs-keyword">val</span> uiState = gamesRepository.getGames()
        .stateIn(screenModelScope, SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>), Loading)
}
</code></pre>
<p>æ”¹åŠ¨ç‚¹ï¼š</p>
<ul>
<li>åˆ é™¤ <code>@HiltViewModel</code> å’Œ <code>@Inject constructor</code></li>
<li><code>ViewModel()</code> â†’ <code>ScreenModel</code></li>
<li><code>viewModelScope</code> â†’ <code>screenModelScope</code></li>
<li><code>collectAsStateWithLifecycle()</code> â†’ <code>collectAsState()</code>ï¼ˆCMP ä¸­æ²¡ï¿½ï¿½ AndroidX Lifecycleï¼‰</li>
</ul>
<h3 data-id="heading-17">å…­ã€Android å…¥å£ç²¾ç®€</h3>
<p>è¿ç§»å <code>app</code> æ¨¡å—åªå‰©ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// HoopsNowApplication.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HoopsNowApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        startKoin {
            androidContext(<span class="hljs-keyword">this</span><span class="hljs-symbol">@HoopsNowApplication</span>)
            modules(sharedModule, platformModule())
        }
    }
}

<span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        enableEdgeToEdge(...)
        setContent {
            CompositionLocalProvider(
                LocalTeamLogos provides TeamLogoProvider.getAllLogos(),
                LocalPlayerHeadshot provides PlayerHeadshotProvider::getHeadshotUrl,
            ) {
                HoopsNowApp()  <span class="hljs-comment">// æ¥è‡ª shared æ¨¡å—</span>
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-18">ä¸ƒã€iOS æ¥å…¥</h3>
<p>iOS ç«¯æ›´ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ª SwiftUI å£³ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// iOSApp.swift</span>
<span class="hljs-keyword">@main</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">iOSApp</span>: <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-type">KoinHelperKt</span>.doInitKoin()
    }
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">Scene</span> {
        <span class="hljs-type">WindowGroup</span> { <span class="hljs-type">ContentView</span>() }
    }
}

<span class="hljs-comment">// ContentView.swift</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ComposeView</span>().ignoresSafeArea(.all)
    }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ComposeView</span>: <span class="hljs-title class_">UIViewControllerRepresentable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIViewController</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -&gt; <span class="hljs-type">UIViewController</span> {
        <span class="hljs-type">MainViewControllerKt</span>.<span class="hljs-type">MainViewController</span>()
    }
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateUIViewController</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">uiViewController</span>: <span class="hljs-type">UIViewController</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) {}
}
</code></pre>
<p>shared æ¨¡å—ä¸­æä¾› iOS å…¥å£ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// iosMain - MainViewController.kt</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MainViewController</span><span class="hljs-params">()</span></span> = ComposeUIViewController { HoopsNowApp() }
</code></pre>
<p>å°±è¿™æ ·ï¼ŒiOS ç«¯å°±èƒ½è·‘èµ·æ¥äº†ã€‚æ•´ä¸ª Compose UI é€šè¿‡ <code>ComposeUIViewController</code> åµŒå…¥ SwiftUIã€‚</p>
<h3 data-id="heading-19">å…«ã€æ¸…ç†æ—§ä»£ç </h3>
<p>è¿ç§»å®Œæˆåï¼Œå¤§é‡æ—§æ–‡ä»¶å¯ä»¥åˆ é™¤ï¼š</p>
<ul>
<li><code>core/</code> â€” 9 ä¸ªæ—§ Android æ¨¡å—å…¨éƒ¨åˆ é™¤</li>
<li><code>feature/</code> â€” 4 ä¸ªåŠŸèƒ½æ¨¡å—å…¨éƒ¨åˆ é™¤</li>
<li><code>app/navigation/</code> â€” æ—§ Navigation3 ä»£ç </li>
<li><code>build-logic/</code> ä¸­çš„ 6 ä¸ª Convention Pluginï¼ˆHiltã€Roomã€Featureã€Library ç­‰ï¼‰</li>
<li><code>libs.versions.toml</code> ä¸­çš„ Hiltã€KSP ç›¸å…³å£°æ˜</li>
</ul>
<p>ä» 20+ ä¸ªæ¨¡å—ç²¾ç®€åˆ° 2 ä¸ªï¼ˆ<code>app</code> + <code>shared</code>ï¼‰ï¼Œ<code>settings.gradle.kts</code> æ¸…çˆ½äº†å¾ˆå¤šã€‚</p>
<h3 data-id="heading-20">è¿ç§»åçš„é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">hoopsnow/
â”œâ”€â”€ app/                                <span class="hljs-comment"># Android å…¥å£ï¼ˆ2 ä¸ªæ–‡ä»¶ï¼‰</span>
â”œâ”€â”€ shared/                             <span class="hljs-comment"># KMP å…±äº«æ¨¡å—</span>
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ commonMain/                 <span class="hljs-comment"># å…¨éƒ¨ä¸šåŠ¡é€»è¾‘ + UI</span>
â”‚       â”‚   â”œâ”€â”€ kotlin/.../
â”‚       â”‚   â”‚   â”œâ”€â”€ core/               <span class="hljs-comment"># æ•°æ®å±‚ï¼ˆmodel, data, database, networkï¿½ï¿½</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ di/                 <span class="hljs-comment"># Koin æ¨¡å—</span>
â”‚       â”‚   â”‚   â””â”€â”€ ui/                 <span class="hljs-comment"># UI å±‚ï¼ˆscreens, components, theme, navigationï¼‰</span>
â”‚       â”‚   â””â”€â”€ sqldelight/             <span class="hljs-comment"># æ•°æ®åº“å®šä¹‰</span>
â”‚       â”œâ”€â”€ androidMain/                <span class="hljs-comment"># Android å¹³å°å®ç°</span>
â”‚       â””â”€â”€ iosMain/                    <span class="hljs-comment"># iOS å¹³å°å®ç°</span>
â”œâ”€â”€ iosApp/                             <span class="hljs-comment"># iOS å…¥å£ï¼ˆ2 ä¸ª Swift æ–‡ä»¶ï¼‰</span>
â””â”€â”€ build-logic/                        <span class="hljs-comment"># Convention Pluginsï¼ˆç²¾ç®€ï¼‰</span>
</code></pre>
<h3 data-id="heading-21">è¸©å‘æ€»ç»“</h3>
<h4 data-id="heading-22">1. SQLDelight å±æ€§å</h4>
<p>ç”Ÿæˆçš„ Queries å±æ€§ååŸºäº <code>.sq</code> æ–‡ä»¶åï¼ˆ<code>gameQueries</code>ï¼‰ï¼Œä¸æ˜¯ <code>CREATE TABLE</code> çš„è¡¨åï¼ˆ<code>gameEntityQueries</code>ï¼‰ã€‚</p>
<h4 data-id="heading-23">2. collectAsStateWithLifecycle ä¸å¯ç”¨</h4>
<p>è¿™æ˜¯ AndroidX Lifecycle çš„æ‰©å±•ï¼ŒCMP ä¸­ç”¨ <code>collectAsState()</code> æ›¿ä»£ã€‚ScreenModel ä¼šåœ¨ Screen dispose æ—¶è‡ªåŠ¨å–æ¶ˆ scopeï¼Œä¸ç”¨æ‹…å¿ƒæ³„æ¼ã€‚</p>
<h4 data-id="heading-24">3. Kotlin ç±»å‹æ¨æ–­ä¸ SQLDelight</h4>
<p>é“¾å¼ mapper è°ƒç”¨æ—¶ç±»å‹æ¨æ–­å¯èƒ½å¤±è´¥ï¼Œå†™æ˜¾å¼çš„ <code>toModel()</code> æ‰©å±•å‡½æ•°è§£å†³ã€‚</p>
<h4 data-id="heading-25">4. Material Icons Extended</h4>
<p><code>Icons.Default.StarBorder</code>ã€<code>Icons.Default.OpenInNew</code> ç­‰å›¾æ ‡éœ€è¦é¢å¤–æ·»åŠ  <code>compose.materialIconsExtended</code> ä¾èµ–ã€‚</p>
<h4 data-id="heading-26">5. Koin ScreenModel å‚æ•°ä¼ é€’</h4>
<p>å¸¦å‚æ•°çš„ ScreenModel éœ€è¦ç”¨ <code>factory { params -&gt; }</code> å®šä¹‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>koinScreenModel { parametersOf(...) }</code> ä¼ å…¥ã€‚</p>
<h4 data-id="heading-27">6. iOS Framework ç¼–è¯‘</h4>
<p>æ¯æ¬¡ä¿®æ”¹ shared ä»£ç åéœ€è¦é‡æ–°ç¼–è¯‘ Frameworkã€‚å¼€å‘é˜¶æ®µå»ºè®®åœ¨ Xcode Build Phase ä¸­æ·»åŠ è‡ªåŠ¨ç¼–è¯‘è„šæœ¬ã€‚</p>
<h3 data-id="heading-28">è¿ç§»æ”¶ç›Š</h3>








































<table><thead><tr><th>æŒ‡æ ‡</th><th>è¿ç§»å‰</th><th>è¿ç§»å</th></tr></thead><tbody><tr><td>æ¨¡å—æ•°é‡</td><td>20+</td><td>2 (app + shared)</td></tr><tr><td>æ”¯æŒå¹³å°</td><td>Android</td><td>Android + iOS</td></tr><tr><td>UI ä»£ç å…±äº«</td><td>0%</td><td>100%</td></tr><tr><td>ä¸šåŠ¡é€»è¾‘å…±äº«</td><td>0%</td><td>100%</td></tr><tr><td>build.gradle æ–‡ä»¶</td><td>20+</td><td>3</td></tr><tr><td>Convention Plugins</td><td>7</td><td>2</td></tr></tbody></table>
<p>æœ€å¤§çš„æ”¶ç›Šæ˜¯ iOS ç«¯å‡ ä¹é›¶æˆæœ¬æ¥å…¥ â€” åªéœ€è¦ä¸¤ä¸ª Swift æ–‡ä»¶å°±èƒ½è·‘èµ·å®Œæ•´çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-29">ä¾èµ–ç‰ˆæœ¬å‚è€ƒ</h3>

















































<table><thead><tr><th>åº“</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>Kotlin</td><td>2.0.21</td></tr><tr><td>Compose Multiplatform</td><td>1.7.3</td></tr><tr><td>Ktor</td><td>3.0.3</td></tr><tr><td>SQLDelight</td><td>2.0.2</td></tr><tr><td>Koin</td><td>4.0.0</td></tr><tr><td>Voyager</td><td>1.1.0-beta03</td></tr><tr><td>Coil 3</td><td>3.0.4</td></tr><tr><td>kotlinx-serialization</td><td>1.7.3</td></tr><tr><td>kotlinx-datetime</td><td>0.6.1</td></tr><tr><td>Coroutines</td><td>1.9.0</td></tr></tbody></table>
<h3 data-id="heading-30">æ€»ç»“</h3>
<p>æ•´ä¸ªè¿ç§»èŠ±äº†å¤§çº¦ä¸€å‘¨æ—¶é—´ï¼Œå…¶ä¸­æ•°æ®åº“è¿ç§»ï¼ˆRoom â†’ SQLDelightï¼‰å’Œå¯¼èˆªè¿ç§»ï¼ˆNavigation3 â†’ Voyagerï¼‰å äº†å¤§éƒ¨åˆ†å·¥ä½œé‡ã€‚ç½‘ç»œå±‚ï¼ˆKtorï¼‰å’Œåºåˆ—åŒ–ï¼ˆkotlinx-serializationï¼‰æœ¬èº«å°±æ˜¯ KMP åº“ï¼ŒåŸºæœ¬ä¸ç”¨æ”¹ã€‚</p>
<p>å¦‚æœä½ çš„ Android é¡¹ç›®å·²ç»åœ¨ç”¨ Kotlin + Composeï¼Œè¿ç§»åˆ° KMP + CMP çš„æˆæœ¬æ¯”æƒ³è±¡ä¸­ä½å¾ˆå¤šã€‚æœ€å¤§çš„éšœç¢æ˜¯ Room å’Œ Hilt è¿™ä¸¤ä¸ª Android ä¸“å±åº“çš„æ›¿æ¢ï¼Œä½† SQLDelight å’Œ Koin éƒ½æ˜¯æˆç†Ÿçš„æ›¿ä»£æ–¹ï¿½ï¿½ï¿½ã€‚</p>
<p>é¡¹ç›®æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flaibinzhi%2Fhoopsnow" target="_blank" title="https://github.com/laibinzhi/hoopsnow" ref="nofollow noopener noreferrer">GitHub - laibinzhi/hoopsnow</a>ï¼ˆcmp åˆ†æ”¯ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æƒ³å­¦ Electronï¼Ÿè¿™ä»½ã€Œèƒ½è·‘çš„ç¤ºä¾‹é›†ã€ä¸€ç¯‡ææ‡‚]]></title>    <link>https://juejin.cn/post/7605817795628990514</link>    <guid>https://juejin.cn/post/7605817795628990514</guid>    <pubDate>2026-02-13T04:03:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605817795628990514" data-draft-id="7605907495769554953" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æƒ³å­¦ Electronï¼Ÿè¿™ä»½ã€Œèƒ½è·‘çš„ç¤ºä¾‹é›†ã€ä¸€ç¯‡ææ‡‚"/> <meta itemprop="keywords" content="Electron,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-13T04:03:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æšå°å¤ªé˜³"/> <meta itemprop="url" content="https://juejin.cn/user/2771228509602109"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æƒ³å­¦ Electronï¼Ÿè¿™ä»½ã€Œèƒ½è·‘çš„ç¤ºä¾‹é›†ã€ä¸€ç¯‡ææ‡‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771228509602109/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æšå°å¤ªé˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T04:03:58.000Z" title="Fri Feb 13 2026 04:03:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æƒ³å­¦ Electronï¼Ÿè¿™ä»½ã€Œèƒ½è·‘çš„ç¤ºä¾‹é›†ã€ä¸€ç¯‡ææ‡‚</h2>
<p>VS Codeã€é’‰é’‰ã€Slackã€Figma æ¡Œé¢ç‰ˆâ€¦â€¦è¿™äº›ä½ ç†Ÿæ‚‰çš„è½¯ä»¶ï¼ŒèƒŒåéƒ½æœ‰åŒä¸€ä¸ªåå­—ï¼š<strong>Electron</strong>ã€‚ç”¨å‰ç«¯æŠ€æœ¯ï¼ˆHTML/CSS/JSï¼‰å°±èƒ½åšæ¡Œé¢åº”ç”¨ï¼Œæ˜¯å¾ˆå¤šå›¢é˜Ÿçš„é€‰æ‹©ã€‚ä½†å®˜æ–¹æ–‡æ¡£çŸ¥è¯†ç‚¹å¤šã€è‡ªå·±ä»é›¶æ­åˆå®¹æ˜“è¸©å‘ï¼Œ<strong>æœ‰æ²¡æœ‰ä¸€ä»½ã€ŒæŒ‰ä¸»é¢˜æ‹†å¥½ã€æ¯ä¸ªéƒ½èƒ½ç›´æ¥è·‘ã€çš„ç¤ºä¾‹ï¼Ÿ</strong> æœ‰ã€‚æœ¬æ–‡å°±ä»‹ç»è¿™æ ·ä¸€ä»½ç¤ºä¾‹ä»“åº“ï¼Œå¹¶å¸®ä½ æŠŠ Electron çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ä¸²ä¸€éï¼Œ<strong>çœ‹å®Œä¸€ç¯‡ï¼ŒçŸ¥é“å­¦ä»€ä¹ˆã€å»å“ªçœ‹ä»£ç </strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Electron æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªä»“åº“èƒ½å¸®ä½ ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>ä¸€å¥è¯ï¼š</strong> Electron è®©ä½ ç”¨å†™ç½‘é¡µçš„æŠ€æœ¯ï¼ˆHTML/CSS/JavaScriptï¼‰æ¥å¼€å‘æ¡Œé¢è½¯ä»¶ï¼Œä¸€å¥—ä»£ç å¯è·‘åœ¨ Windowsã€macOSã€Linux ä¸Šã€‚</p>
<p><strong>è¿™ä¸ªä»“åº“åšä»€ä¹ˆï¼š</strong> æŠŠ Electron å¸¸è§èƒ½åŠ›æ‹†æˆ <strong>23 ä¸ªç‹¬ç«‹å°é¡¹ç›®</strong>ï¼Œæ¯ä¸ªé¡¹ç›®ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯<strong>å¯è¿è¡Œä»£ç  + è¯´æ˜æ–‡æ¡£</strong>ã€‚ä½ ä¸éœ€è¦ä»é›¶æ­ç¯å¢ƒï¼Œå…‹éš†ä¸‹æ¥è¿›ç›®å½•ã€è£…ä¾èµ–ã€è¿è¡Œå‘½ä»¤å°±èƒ½çœ‹åˆ°æ•ˆæœã€‚é€‚åˆï¼š</p>
<ul>
<li><strong>æƒ³å­¦ Electron çš„äºº</strong>ï¼šæŒ‰ä¸»é¢˜è¾¹çœ‹è¾¹è·‘ï¼Œæ¯”å…‰çœ‹æ–‡æ¡£å¥½æ‡‚ï¼›</li>
<li><strong>åšæ¡Œé¢ç«¯å¼€å‘çš„äºº</strong>ï¼šé‡åˆ°ã€Œçª—å£ã€èœå•ã€é€šçŸ¥ã€IPCã€ç­‰é—®é¢˜ï¼Œå¯ä»¥å¯¹ç€å¯¹åº”ç¤ºä¾‹æ”¹ï¼›</li>
<li><strong>é¢è¯•å‰çªå‡»çš„äºº</strong>ï¼šä»“åº“é‡Œè¿˜å¸¦ 3 å¥— Electron é¢è¯•å·ï¼ˆå«ç­”æ¡ˆï¼‰ï¼Œå¯ç”¨æ¥è‡ªæŸ¥ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">äºŒã€æ€ä¹ˆè·‘èµ·æ¥ï¼Ÿï¼ˆ3 æ­¥ï¼‰</h3>
<p><strong>ç¯å¢ƒå‡†å¤‡ï¼š</strong> æœ¬æœºè£…å¥½ <strong>Node.js</strong>ï¼ˆå»ºè®® 18 åŠä»¥ä¸Šï¼‰ï¼Œç¤ºä¾‹åœ¨ Windows 11 ä¸‹éªŒè¯è¿‡ï¼ŒmacOS / Linux ä¸‹å¤§å¤šä¹Ÿå¯ç›´æ¥è¿è¡Œã€‚</p>
<p><strong>è¿è¡Œä»»æ„ä¸€ä¸ªç¤ºä¾‹ï¼š</strong></p>
<ol>
<li>å…‹éš†ä»“åº“ï¼›</li>
<li>è¿›å…¥æƒ³ç©çš„æ¡ˆä¾‹ç›®å½•ï¼ˆä¾‹å¦‚ <code>ipc</code>ã€<code>darkmode</code>ï¼‰ï¼›</li>
<li>åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œï¼š<code>npm install</code> â†’ <code>npm run start</code> æˆ– <code>npm run start:1</code>ï¼ˆå…·ä½“çœ‹è¯¥ç›®å½•çš„ readmeï¼‰ã€‚</li>
</ol>
<p>æ¯ä¸ªæ¡ˆä¾‹çš„<strong>è¯¦ç»†å‘½ä»¤å’Œè¯´æ˜</strong>éƒ½åœ¨å¯¹åº”ç›®å½•çš„ <strong>readme.md</strong> é‡Œï¼Œè¿›å»å°±èƒ½çœ‹åˆ°ã€‚</p>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€Electron çŸ¥è¯†ç‚¹ä¸²è®²ï¼ˆå¯¹åº”ä»“åº“æ€ä¹ˆç”¨ï¼‰</h3>
<p>ä¸‹é¢æŒ‰ã€Œä»å…¥é—¨åˆ°è¿›é˜¶ã€çš„é¡ºåºï¼ŒæŠŠä¸»è¦æ¦‚å¿µè¿‡ä¸€éï¼Œå¹¶æ ‡å‡º<strong>ä»“åº“é‡Œå“ªä¸€ç±»ç¤ºä¾‹å¯ä»¥å¯¹ç…§ç€çœ‹</strong>ã€‚ä¸å±•å¼€ä»£ç ç»†èŠ‚ï¼Œåªå¸®ä½ å»ºç«‹åœ°å›¾ã€‚</p>
<h4 data-id="heading-4">1. å…¥é—¨ï¼šç¬¬ä¸€ä¸ªåº”ç”¨é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h4>
<p>Electron åº”ç”¨è‡³å°‘æœ‰ä¸¤ä¸ªã€Œè§’è‰²ã€ï¼š<strong>ä¸»è¿›ç¨‹</strong>ï¼ˆè´Ÿè´£åˆ›å»ºçª—å£ã€ç³»ç»Ÿ APIï¼‰å’Œ<strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼ˆä½ çœ‹åˆ°çš„é¡µé¢ï¼‰ã€‚ä¸¤è€…ä¸èƒ½ç›´æ¥äº’ç›¸è°ƒå‡½æ•°ï¼Œè¦é€šè¿‡ <strong>preload è„šæœ¬</strong>å®‰å…¨åœ°æš´éœ²æ¥å£ï¼Œæˆ–ç”¨ <strong>IPC</strong>ï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰ä¼ æ¶ˆæ¯ã€‚</p>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>tutorial-first-app</code> â€”â€” ç¬¬ä¸€ä¸ªåº”ç”¨ã€ä¸»è¿›ç¨‹ / æ¸²æŸ“è¿›ç¨‹ / preload / IPC å…¥é—¨ã€‚</p>
<hr/>
<h4 data-id="heading-5">2. è¿›ç¨‹ä¸é€šä¿¡ï¼šé¡µé¢å’Œã€Œåå°ã€æ€ä¹ˆé…åˆï¼Ÿ</h4>
<ul>
<li><strong>IPC</strong>ï¼šæ¸²æŸ“è¿›ç¨‹å’Œä¸»è¿›ç¨‹äº’ç›¸å‘æ¶ˆæ¯ï¼ˆå•å‘ã€åŒå‘ã€ä¸»è¿›ç¨‹ä¸»åŠ¨æ¨ç»™é¡µé¢ç­‰ï¼‰ã€‚</li>
<li><strong>MessagePort</strong>ï¼šæ›´çµæ´»çš„é€šé“ï¼Œé€‚åˆã€Œæ¸²æŸ“è¿›ç¨‹ç›´è¿ã€ã€Œæµå¼å›å¤ã€ç­‰åœºæ™¯ã€‚</li>
<li><strong>Utility Processï¼ˆæ•ˆç‡è¿›ç¨‹ï¼‰</strong>ï¼šè·‘ CPU é‡æ´»æˆ–å®¹æ˜“å´©çš„é€»è¾‘ï¼Œå’Œä¸»è¿›ç¨‹éš”ç¦»ï¼Œç”¨ MessagePort é€šä¿¡ã€‚</li>
<li><strong>å¤šçº¿ç¨‹</strong>ï¼šåœ¨æ¸²æŸ“è¿›ç¨‹é‡Œç”¨ Web Workerï¼Œé¿å…å¤§é‡è®¡ç®—å¡ä½ç•Œé¢ã€‚</li>
<li><strong>æ²™ç›’</strong>ï¼šæ¸²æŸ“è¿›ç¨‹é»˜è®¤æ²™ç›’ã€å®‰å…¨é…ç½®ï¼Œå‡å°‘å®‰å…¨é£é™©ã€‚</li>
</ul>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>ipc</code>ã€<code>message-ports</code>ã€<code>efficiency-process</code>ã€<code>multithreading</code>ã€<code>sandbox</code>ã€‚</p>
<hr/>
<h4 data-id="heading-6">3. çª—å£ä¸ UIï¼šæ¡Œé¢åº”ç”¨ã€Œé•¿ä»€ä¹ˆæ ·ã€ï¼Ÿ</h4>
<ul>
<li><strong>æš—è‰²æ¨¡å¼</strong>ï¼šç”¨ç³»ç»Ÿä¸»é¢˜æˆ–è‡ªå·±åˆ‡æ¢ï¼Œå’Œ CSS çš„ <code>prefers-color-scheme</code> é…åˆã€‚</li>
<li><strong>ä»»åŠ¡æ </strong>ï¼šWindows ä¸Šçš„ JumpListã€ç¼©ç•¥å›¾å·¥å…·æ ã€è¿›åº¦æ¡ã€å›¾æ ‡é—ªçƒç­‰ã€‚</li>
<li><strong>çª—å£å®šåˆ¶</strong>ï¼šæ— è¾¹æ¡†ã€è‡ªå®šä¹‰æ ‡é¢˜æ ã€æ‹–æ‹½åŒºåŸŸã€‚</li>
<li><strong>è¿›åº¦æ¡</strong>ï¼šåœ¨ä»»åŠ¡æ  / Dock ä¸Šæ˜¾ç¤ºè¿›åº¦ï¼ˆå¦‚ä¸‹è½½ã€å¤„ç†ä»»åŠ¡ï¼‰ã€‚</li>
</ul>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>darkmode</code>ã€<code>windows-taskbar</code>ã€<code>window-customization</code>ã€<code>progressbar</code>ã€‚</p>
<hr/>
<h4 data-id="heading-7">4. ç³»ç»Ÿä¸åŸç”Ÿèƒ½åŠ›ï¼šå’Œæ“ä½œç³»ç»Ÿæ‰“äº¤é“</h4>
<ul>
<li><strong>èœå•</strong>ï¼šåº”ç”¨èœå•ã€å³é”®èœå•ã€æ‰˜ç›˜èœå•ã€‚</li>
<li><strong>å¿«æ·é”®</strong>ï¼šç»‘å®šåœ¨èœå•ä¸Šçš„ã€å…¨å±€çš„ã€çª—å£å†…è‡ªå·±ç›‘å¬çš„ã€‚</li>
<li><strong>ç³»ç»Ÿé€šçŸ¥</strong>ï¼šåƒå¾®ä¿¡/é‚®ä»¶é‚£æ ·åœ¨ç³»ç»Ÿé€šçŸ¥æ å¼¹å‡ºï¼Œè€Œä¸æ˜¯åªåœ¨é¡µé¢é‡Œå¼¹ä¸ªæç¤ºã€‚</li>
<li><strong>è®¾å¤‡è®¿é—®</strong>ï¼šä¾‹å¦‚è“ç‰™ï¼ˆWeb Bluetooth APIï¼‰ã€‚</li>
<li><strong>æ·±åº¦é“¾æ¥</strong>ï¼šè‡ªå®šä¹‰åè®®ï¼Œä»æµè§ˆå™¨æˆ–åˆ«çš„åº”ç”¨ç‚¹é“¾æ¥å”¤èµ·ä½ çš„åº”ç”¨ã€‚</li>
</ul>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>menus</code>ã€<code>keyboardshortcut</code>ã€<code>notificationsDemo</code>ã€<code>bluetooth</code>ã€<code>deeplinks</code>ã€‚</p>
<hr/>
<h4 data-id="heading-8">5. æ–‡ä»¶ä¸æ–‡æ¡£ã€Web ä¸å¯¼èˆª</h4>
<ul>
<li><strong>æ–‡ä»¶æ‹–æ‹½</strong>ï¼šæŠŠæ–‡ä»¶ä»åº”ç”¨æ‹–åˆ°æ¡Œé¢æˆ–èµ„æºç®¡ç†å™¨ã€‚</li>
<li><strong>æœ€è¿‘æ–‡æ¡£</strong>ï¼šç³»ç»Ÿã€Œæœ€è¿‘æ‰“å¼€ã€åˆ—è¡¨çš„é›†æˆã€‚</li>
<li><strong>Web åµŒå…¥</strong>ï¼šåœ¨çª—å£é‡ŒåµŒç½‘é¡µï¼ˆiframeã€webviewã€WebContentsViewï¼‰ã€‚</li>
<li><strong>å¯¼èˆªå†å²</strong>ï¼šçª—å£å†…å‰è¿›/åé€€ï¼ˆgoBack / goForwardï¼‰ã€‚</li>
<li><strong>åœ¨çº¿/ç¦»çº¿</strong>ï¼šæ£€æµ‹ç½‘ç»œçŠ¶æ€ï¼Œåšç¦»çº¿æç¤ºæˆ–ç¼“å­˜ç­–ç•¥ã€‚</li>
</ul>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>draganddrop</code>ã€<code>recentdocuments</code>ã€<code>web-embeds</code>ã€<code>navigationHistory</code>ã€<code>onlineofflineevents</code>ã€‚</p>
<hr/>
<h4 data-id="heading-9">6. å…¶ä»–å¸¸ç”¨èƒ½åŠ›</h4>
<ul>
<li><strong>ç¦»å±æ¸²æŸ“</strong>ï¼šåœ¨ä¸å¯è§çš„ç”»å¸ƒä¸Šæ¸²æŸ“ï¼ˆä¾‹å¦‚ç”Ÿæˆå›¾ã€PDFï¼‰ã€‚</li>
<li><strong>æ‹¼å†™æ£€æŸ¥</strong>ï¼šç³»ç»Ÿçº§æ‹¼å†™æ£€æŸ¥é›†æˆã€‚</li>
</ul>
<p><strong>ä»“åº“å¯¹åº”ï¼š</strong> <code>offscreenrendering</code>ã€<code>spellchecker</code>ã€‚</p>
<hr/>
<h4 data-id="heading-10">7. å­¦ä¹ ä¸é¢è¯•</h4>
<p>ä»“åº“å†…å¸¦ <strong>paper</strong> ç›®å½•ï¼š3 å¥— Electron é¢è¯•å·ï¼Œå„ 100 åˆ†ï¼Œå«ç­”æ¡ˆä¸è§£æï¼Œé€‚åˆè€ƒå‰è‡ªæŸ¥ã€‚</p>
<hr/>
<h3 data-id="heading-11">å››ã€æ¡ˆä¾‹ç›®å½•ä¸€è§ˆï¼ˆæŒ‰éœ€è¿›ç›®å½•çœ‹ readme å’Œä»£ç ï¼‰</h3>
<p>ä¸‹é¢è¡¨æ ¼é‡Œçš„<strong>ç›®å½•å</strong>ï¼Œåœ¨ä»“åº“é‡Œå¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç‚¹è¿›å»æœ‰ <strong>readme</strong> å’Œ<strong>å¯è¿è¡Œä»£ç </strong>ã€‚ä¸åŒå­é¡¹ç›®å¯èƒ½æœ‰ä¸åŒå¯åŠ¨å‘½ä»¤ï¼ˆå¦‚ <code>npm run start:1</code>ã€<code>start:2</code>ï¼‰ï¼Œä»¥è¯¥ç›®å½•ä¸‹çš„ readme ä¸ºå‡†ã€‚</p>





















































































































































<table><thead><tr><th>åˆ†ç±»</th><th>åºå·</th><th>ç›®å½•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å…¥é—¨</td><td>1</td><td>tutorial-first-app</td><td>ç¬¬ä¸€ä¸ªåº”ç”¨ï¼ˆä¸»è¿›ç¨‹ã€æ¸²æŸ“è¿›ç¨‹ã€preloadã€IPC å…¥é—¨ï¼‰</td></tr><tr><td>çª—å£ä¸ UI</td><td>2</td><td>darkmode</td><td>é»‘æš—æ¨¡å¼ / ä¸»é¢˜åˆ‡æ¢</td></tr><tr><td/><td>3</td><td>windows-taskbar</td><td>Windows ä»»åŠ¡æ ï¼ˆJumpListã€ç¼©ç•¥å›¾ã€å åŠ å›¾æ ‡ã€é—ªçƒï¼‰</td></tr><tr><td/><td>4</td><td>window-customization</td><td>è‡ªå®šä¹‰çª—å£ï¼ˆæ— è¾¹æ¡†ã€è‡ªå®šä¹‰æ ‡é¢˜æ ã€æ‹–æ‹½åŒºåŸŸï¼‰</td></tr><tr><td/><td>5</td><td>progressbar</td><td>ä»»åŠ¡æ /Dock è¿›åº¦æ¡</td></tr><tr><td>è¿›ç¨‹ä¸é€šä¿¡</td><td>6</td><td>ipc</td><td>è¿›ç¨‹é—´é€šä¿¡ï¼ˆå•å‘/åŒå‘ã€ä¸»â†’æ¸²æŸ“ï¼‰</td></tr><tr><td/><td>7</td><td>message-ports</td><td>æ¶ˆæ¯ç«¯å£ï¼ˆMessageChannelã€æµå¼å›å¤ï¼‰</td></tr><tr><td/><td>8</td><td>efficiency-process</td><td>æ•ˆç‡è¿›ç¨‹ï¼ˆUtility Processã€MessagePortï¼‰</td></tr><tr><td/><td>9</td><td>multithreading</td><td>å¤šçº¿ç¨‹ï¼ˆWeb Workersï¼‰</td></tr><tr><td/><td>10</td><td>sandbox</td><td>è¿›ç¨‹æ²™ç›’ä¸å®‰å…¨é…ç½®</td></tr><tr><td>ç³»ç»Ÿä¸åŸç”Ÿ</td><td>11</td><td>menus</td><td>èœå•ï¼ˆåº”ç”¨èœå•ã€ä¸Šä¸‹æ–‡èœå•ã€æ‰˜ç›˜ï¼‰</td></tr><tr><td/><td>12</td><td>keyboardshortcut</td><td>é”®ç›˜å¿«æ·é”®ï¼ˆå±€éƒ¨ã€å…¨å±€ã€çª—å£å†…ï¼‰</td></tr><tr><td/><td>13</td><td>notificationsDemo</td><td>ç³»ç»Ÿé€šçŸ¥ï¼ˆä¸»è¿›ç¨‹/æ¸²æŸ“è¿›ç¨‹ï¼‰</td></tr><tr><td/><td>14</td><td>bluetooth</td><td>è®¾å¤‡è®¿é—®ï¼ˆå¦‚è“ç‰™ï¼‰</td></tr><tr><td/><td>15</td><td>deeplinks</td><td>æ·±åº¦é“¾æ¥ï¼ˆè‡ªå®šä¹‰åè®®ã€ä»é“¾æ¥å”¤èµ·åº”ç”¨ï¼‰</td></tr><tr><td>æ–‡ä»¶ä¸æ–‡æ¡£</td><td>16</td><td>draganddrop</td><td>æ–‡ä»¶æ‹–æ‹½ï¼ˆæ‹–å‡ºåˆ°æ¡Œé¢/èµ„æºç®¡ç†å™¨ï¼‰</td></tr><tr><td/><td>17</td><td>recentdocuments</td><td>æœ€è¿‘æ–‡ä»¶ï¼ˆç³»ç»Ÿæœ€è¿‘æ–‡æ¡£åˆ—è¡¨ï¼‰</td></tr><tr><td>Web ä¸å¯¼èˆª</td><td>18</td><td>web-embeds</td><td>Web åµŒå…¥ï¼ˆiframeã€webviewã€WebContentsViewï¼‰</td></tr><tr><td/><td>19</td><td>navigationHistory</td><td>å¯¼èˆªå†å²ï¼ˆå‰è¿›/åé€€ï¼‰</td></tr><tr><td/><td>20</td><td>onlineofflineevents</td><td>åœ¨çº¿/ç¦»çº¿äº‹ä»¶</td></tr><tr><td>å…¶ä»–</td><td>21</td><td>offscreenrendering</td><td>ç¦»å±æ¸²æŸ“</td></tr><tr><td/><td>22</td><td>spellchecker</td><td>æ‹¼å†™æ£€æŸ¥å™¨</td></tr><tr><td>å­¦ä¹ ä¸é¢è¯•</td><td>23</td><td>paper</td><td>Electron é¢è¯•å·ï¼ˆ3 å¥—ï¼Œå«ç­”æ¡ˆä¸è§£æï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-12">äº”ã€å»å“ªçœ‹ä»£ç ï¼Ÿä»“åº“åœ¨è¿™é‡Œ</h3>
<p>ä»¥ä¸Šæ‰€æœ‰ç¤ºä¾‹çš„<strong>å®Œæ•´ä»£ç ã€è¿è¡Œå‘½ä»¤å’Œè¯´æ˜</strong>éƒ½åœ¨ä¸‹é¢è¿™ä¸ªä»“åº“é‡Œï¼Œæ¯ä¸ªæ¡ˆä¾‹ç‹¬ç«‹å¯è¿è¡Œï¼ŒæŒ‰ç›®å½•å³å¯æ‰¾åˆ°å¯¹åº” readme å’Œä»£ç ã€‚</p>
<p><strong>ä»“åº“åœ°å€ï¼š</strong> [<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fsharetoyouclub%2Felectron-demo" target="_blank" title="https://gitee.com/sharetoyouclub/electron-demo" ref="nofollow noopener noreferrer">gitee.com/sharetoyoucâ€¦</a>]</p>
<p>å…‹éš†åï¼Œè¿›å…¥ä»»æ„ç›®å½•æ‰§è¡Œ <code>npm install</code>ï¼Œå†æŒ‰è¯¥ç›®å½• readme çš„è„šæœ¬è¿è¡Œå³å¯ã€‚MIT è®¸å¯ï¼Œæ¬¢è¿ Starã€Forkï¼Œæˆ–æ Issue / PRã€‚</p>
<hr/>
<p><em>æœ¬æ–‡åŸºäº Electron å®˜æ–¹æ–‡æ¡£ä¸ç¤ºä¾‹æ•´ç†ï¼Œæ—¨åœ¨å¸®åŠ©åˆå­¦è€…å’Œå¼€å‘è€…å¿«é€Ÿå»ºç«‹çŸ¥è¯†åœ°å›¾å¹¶æ‰¾åˆ°å¯è¿è¡Œç¤ºä¾‹ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IDEA + Codex Â· 32ai é›¶é­”æ³•ç›´è¿å„æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7605941424536109110</link>    <guid>https://juejin.cn/post/7605941424536109110</guid>    <pubDate>2026-02-13T04:09:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605941424536109110" data-draft-id="7605807405307723839" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IDEA + Codex Â· 32ai é›¶é­”æ³•ç›´è¿å„æ¨¡å‹"/> <meta itemprop="keywords" content="OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-13T04:09:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¹å¤–ä¹‹éŸ³"/> <meta itemprop="url" content="https://juejin.cn/user/2666763911448411"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IDEA + Codex Â· 32ai é›¶é­”æ³•ç›´è¿å„æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2666763911448411/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¹å¤–ä¹‹éŸ³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T04:09:44.000Z" title="Fri Feb 13 2026 04:09:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§  IDEA + Codex Â· 32ai é›¶é­”æ³•ç›´è¿å„æ¨¡å‹</h2>
<blockquote>
<p>å®Œæ•´æ•™ç¨‹â€”â€”ä»å®‰è£…Codexåˆ°ä½¿ç”¨è‡ªå®šä¹‰ç«¯ç‚¹ï¼Œæ¯ä¸€æ­¥éƒ½åŒ…å«é…ç½®æˆªå›¾å ä½ä¸è¯¦ç»†è§£é‡Šã€‚åŸºäº<strong>32aiä¸­è½¬å¹³å°</strong>ï¼Œç›´è¿ã€ç¨³å®šã€ä½ä»·ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85-codex" title="#%E5%AE%89%E8%A3%85-codex">å®‰è£… Codex</a></li>
<li><a href="#idea-%E6%8F%92%E4%BB%B6%E6%90%9C%E7%B4%A2--%E5%AE%89%E8%A3%85" title="#idea-%E6%8F%92%E4%BB%B6%E6%90%9C%E7%B4%A2--%E5%AE%89%E8%A3%85">IDEA æ’ä»¶æœç´¢ &amp; å®‰è£…</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-configtoml" title="#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-configtoml">ä¿®æ”¹é…ç½®æ–‡ä»¶ config.toml</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96-32ai-api-key" title="#%E8%8E%B7%E5%8F%96-32ai-api-key">è·å– 32ai API Key</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E8%AE%A4%E8%AF%81%E6%96%87%E4%BB%B6-authjson" title="#%E4%BF%AE%E6%94%B9%E8%AE%A4%E8%AF%81%E6%96%87%E4%BB%B6-authjson">ä¿®æ”¹è®¤è¯æ–‡ä»¶ auth.json</a></li>
<li><a href="#idea-%E4%B8%AD%E5%90%AF%E5%8A%A8-codex" title="#idea-%E4%B8%AD%E5%90%AF%E5%8A%A8-codex">IDEA ä¸­å¯åŠ¨ Codex</a></li>
<li><a href="#%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%9E%8B--%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%94%9F%E6%95%88" title="#%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%9E%8B--%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%94%9F%E6%95%88">éªŒè¯æ¨¡å‹ &amp; é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</a></li>
<li><a href="#%E4%BB%BB%E5%8A%A1%E6%B5%8B%E8%AF%95--%E5%AE%8C%E6%88%90%E9%9B%86%E6%88%90" title="#%E4%BB%BB%E5%8A%A1%E6%B5%8B%E8%AF%95--%E5%AE%8C%E6%88%90%E9%9B%86%E6%88%90">ä»»åŠ¡æµ‹è¯• Â· å®Œæˆé›†æˆ</a></li>
</ul>
<h3 data-id="heading-2">å®‰è£… Codex</h3>
<p>å…¨å±€å®‰è£… <code>@openai/codex</code> åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @openai/codex
</code></pre>
<h3 data-id="heading-3">IDEA æ’ä»¶æœç´¢ &amp; å®‰è£…</h3>
<p>åœ¨ IntelliJ IDEA ä¸­æœç´¢æ’ä»¶ <strong>Codex</strong> å¹¶ä¸‹è½½å®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3a12bb7031d4773801bd12ac878a4fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=khQIhaspesIEVofa9WLTLQDEQb0%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 094222.png" loading="lazy"/></p>
<h3 data-id="heading-4">ä¿®æ”¹é…ç½®æ–‡ä»¶ config.toml</h3>
<p>Codex é…ç½®ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š
<code>CLIæ ‡å¿—</code> â†’ <code>å‰–é¢å€¼ --profile</code> â†’ é¡¹ç›®çº§ <code>.codex/config.toml</code> â†’ ç”¨æˆ·çº§ â†’ ç³»ç»Ÿçº§ â†’ å†…ç½®é»˜è®¤ã€‚</p>
<p><strong>Windows ç”¨æˆ·é…ç½®è·¯å¾„</strong>ï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">~/.codex/config.toml   <span class="hljs-comment"># ç”¨æˆ·é…ç½®</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d426d730f97745d2899dfcf296027e17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=bjW%2BQ3ebYXYL1KEvDHn3YuNeOGY%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 113420.png" loading="lazy"/></p>
<h4 data-id="heading-5">ğŸ“‹ ç›´æ¥å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ° config.toml</h4>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-attr">model_provider</span> = <span class="hljs-string">"32ai"</span>
<span class="hljs-attr">model</span> = <span class="hljs-string">"gpt-5-codex"</span>

<span class="hljs-comment"># Reasoning effort: minimal | low | medium | high | xhigh (default: medium; xhigh on gpt-5.2-codex and gpt-5.2)</span>
<span class="hljs-attr">model_reasoning_effort</span> = <span class="hljs-string">"medium"</span>

<span class="hljs-comment"># Reasoning summary: auto | concise | detailed | none (default: auto)</span>
<span class="hljs-attr">model_reasoning_summary</span> = <span class="hljs-string">"auto"</span>

<span class="hljs-comment"># Text verbosity for GPT-5 family (Responses API): low | medium | high (default: medium)</span>
<span class="hljs-attr">model_verbosity</span> = <span class="hljs-string">"medium"</span>

<span class="hljs-comment"># Force-enable reasoning summaries for current model (default: false)</span>
<span class="hljs-attr">model_supports_reasoning_summaries</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">disable_response_storage</span> = <span class="hljs-literal">true</span>
<span class="hljs-attr">preferred_auth_method</span> = <span class="hljs-string">"apikey"</span>

<span class="hljs-comment"># Optional manual model metadata...</span>
<span class="hljs-comment"># model_context_window = 128000</span>
<span class="hljs-comment"># model_auto_compact_token_limit = 0</span>
<span class="hljs-comment"># tool_output_token_limit = 10000</span>
<span class="hljs-comment"># log_dir = "/absolute/path/to/codex-logs"</span>

<span class="hljs-attr">approval_policy</span> = <span class="hljs-string">"on-request"</span>

<span class="hljs-section">[model_providers]</span>

<span class="hljs-comment"># --- 32ai è‡ªå®šä¹‰æä¾›å•† ---</span>
<span class="hljs-section">[model_providers.32ai]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"32ai"</span>
<span class="hljs-attr">base_url</span> = <span class="hljs-string">"https://ai.32zi.com/v1"</span>        <span class="hljs-comment"># æ ¸å¿ƒç«¯ç‚¹</span>
<span class="hljs-attr">wire_api</span> = <span class="hljs-string">"responses"</span>                           <span class="hljs-comment"># "responses" | "chat"</span>
<span class="hljs-attr">requires_openai_auth</span> = <span class="hljs-literal">true</span>                    
<span class="hljs-attr">request_max_retries</span> = <span class="hljs-number">4</span>                        
<span class="hljs-attr">stream_max_retries</span> = <span class="hljs-number">5</span>                         
<span class="hljs-attr">stream_idle_timeout_ms</span> = <span class="hljs-number">300000</span>                
<span class="hljs-comment"># experimental_bearer_token = ""       </span>
<span class="hljs-comment"># http_headers = { "X-Example" = "value" }</span>

<span class="hljs-section">[profiles]</span>

<span class="hljs-section">[profiles.32ai]</span>
<span class="hljs-attr">model</span> = <span class="hljs-string">"gpt-5-codex"</span>
<span class="hljs-attr">model_provider</span> = <span class="hljs-string">"32ai"</span>
<span class="hljs-attr">approval_policy</span> = <span class="hljs-string">"on-request"</span>
<span class="hljs-attr">sandbox_mode</span> = <span class="hljs-string">"read-only"</span>
<span class="hljs-comment"># oss_provider = "ollama"</span>
<span class="hljs-attr">model_reasoning_effort</span> = <span class="hljs-string">"medium"</span>
<span class="hljs-attr">model_reasoning_summary</span> = <span class="hljs-string">"auto"</span>
<span class="hljs-attr">model_verbosity</span> = <span class="hljs-string">"medium"</span>
<span class="hljs-attr">personality</span> = <span class="hljs-string">"friendly"</span> <span class="hljs-comment"># or "pragmatic" or "none"</span>
<span class="hljs-comment"># chatgpt_base_url = "https://ai.32zi.com/v1"</span>
<span class="hljs-attr">include_apply_patch_tool</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">experimental_use_unified_exec_tool</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">experimental_use_freeform_apply_patch</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">tools.web_search</span> = <span class="hljs-literal">false</span>             

<span class="hljs-section">[notice.model_migrations]</span>
<span class="hljs-attr">gpt-5-codex</span> = <span class="hljs-string">"gpt-5.3-codex"</span>
<span class="hljs-attr">"gpt-5.2-codex"</span> = <span class="hljs-string">"gpt-5.3-codex"</span>
<span class="hljs-comment"># features = { unified_exec = false }</span>
</code></pre>
<p>ğŸ”— å‚è€ƒç¤ºä¾‹æ¥è‡ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.openai.com%2Fcodex%2Fconfig-sample" target="_blank" title="https://developers.openai.com/codex/config-sample" ref="nofollow noopener noreferrer">developers.openai.com/codex/confiâ€¦</a> (å·²é€‚é…32ai)</p>
<h3 data-id="heading-6">è·å– 32ai API Key</h3>
<p>å‰å¾€ä¸­è½¬å¹³å° <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com" target="_blank" title="https://ai.32zi.com" ref="nofollow noopener noreferrer">ai.32zi.com</a></strong> æ³¨å†Œ/ç™»å½•ï¼Œç”Ÿæˆ API å¯†é’¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/875059ec08c74ffab17ae804945fc458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=JFrQD%2BpEaT7AJWzn5Y4U5NtfzL8%3D" alt="å±å¹•æˆªå›¾ 2026-02-12 171825.png" loading="lazy"/></p>
<h4 data-id="heading-7">âš¡ 32ai ä¼˜åŠ¿</h4>
<p><strong>ä½ä»· Â· ç¨³å®š Â· ç›´è¿ Â· å…é­”æ³•</strong></p>
<p><strong>ä»·æ ¼ 0.56 : 1</strong></p>
<h3 data-id="heading-8">ä¿®æ”¹è®¤è¯æ–‡ä»¶ auth.json</h3>
<p>åœ¨ Codex é…ç½®ç›®å½•ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·çº§ <code>~/.codex/</code>ï¼‰åˆ›å»ºæˆ–ç¼–è¾‘ <strong>auth.json</strong>ï¼Œå¡«å…¥ä½ çš„ API keyã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"auth_mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"apikey"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"OPENAI_API_KEY"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„32ai_api_key_ç²˜è´´åœ¨æ­¤"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f011b735ee1f4b44988c9be92c567a59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=H5mqJ8YH3u4lgHhVMjoJpV5mC4I%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 113420.png" loading="lazy"/></p>
<blockquote>
<p>âš ï¸ <strong>OPENAI_API_KEY</strong> å°±æ˜¯ä¸­è½¬å¹³å° <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com" target="_blank" title="https://ai.32zi.com" ref="nofollow noopener noreferrer">ai.32zi.com</a> è·å–çš„å¯†é’¥ã€‚</p>
</blockquote>
<h3 data-id="heading-9">IDEA ä¸­å¯åŠ¨ Codex</h3>
<p>è¿”å› IDEAï¼Œæ‰¾åˆ° Codex æ’ä»¶å›¾æ ‡ï¼ˆé€šå¸¸ä½äºå³ä¾§è¾¹æ æˆ–å·¥å…·çª—å£ï¼‰ï¼Œç‚¹å‡»å¯åŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9212df1ecb724b32a417dc863405ce7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=Rs63Qowl6nTa4uOQ%2FsT8Tr49aJE%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 114038.png" loading="lazy"/></p>
<h3 data-id="heading-10">éªŒè¯æ¨¡å‹ &amp; é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</h3>
<p>å¯åŠ¨åç›´æ¥æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ¨¡å‹ï¼Œåº”å½“æ˜¾ç¤º <code>gpt-5-codex</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb3189867a314b0b9c864a8384957e70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=ASIzPjwxoq6Jnz5H0SfyUsSa3tY%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 113110.png" loading="lazy"/></p>
<h3 data-id="heading-11">ä»»åŠ¡æµ‹è¯• Â· å®Œæˆé›†æˆ</h3>
<p>ç»™å®ƒä¸€ä¸ªä»£ç ä»»åŠ¡æˆ–ä»»æ„æŒ‡ä»¤ï¼ŒéªŒè¯æ•´ä¸ªé“¾è·¯æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d9427661eb4ceaac24848951c04677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=dmUyZsZHbGCtkd07xuKYuw4rFss%3D" alt="å±å¹•æˆªå›¾ 2026-02-13 113055.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ‰ <strong>æ­å–œï¼IDEA + Codex (32ai) å·²æˆåŠŸé›†æˆã€‚</strong> ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç«¯ç‚¹ï¼ŒåŸºäº GPT-5-Codex æ¨¡å‹è¿›è¡Œå¼€å‘ã€é—®ç­”ç­‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">ğŸ’° ä¸ºä»€ä¹ˆé€‰æ‹© 32aiï¼Ÿ</h3>
<p><strong>ä½è‡³ 0.56 : 1 æ¯”ç‡</strong></p>

















<table><thead><tr><th>åŠŸèƒ½</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>ä»·æ ¼æ–¹æ¡ˆ</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf2e0b80784d4ae590d8e93bd4ed2319~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=umDnomRYz6UjZcX5UzI6bJEK3Kg%3D" alt="å±å¹•æˆªå›¾ 2026-02-12 172853.png" loading="lazy"/></td></tr><tr><td>è®¡è´¹è¯´æ˜</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4357e4e48ef543c5a67011de31b81c96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54655aSW5LmL6Z-z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560584&amp;x-signature=4OatHyWOTFmH69E7U1GyWwlezLA%3D" alt="å±å¹•æˆªå›¾ 2026-02-12 173008.png" loading="lazy"/></td></tr></tbody></table>
<p>ğŸ”— <strong>å¿«é€Ÿè®¿é—®</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com" target="_blank" title="https://ai.32zi.com" ref="nofollow noopener noreferrer">ai.32zi.com</a> â€” ç›´è¿ã€æ— éœ€é­”æ³•ã€‚</p>
<h3 data-id="heading-13">ğŸ“Œ é…ç½®å¤‡å¿˜</h3>
<ul>
<li>ä½¿ç”¨ç”¨æˆ·é…ç½® (<code>~/.codex/config.toml</code>) å…¨å±€ç”Ÿæ•ˆ</li>
<li>é…ç½®èŠ‚ <code>[model_providers.32ai]</code> å®šä¹‰ base_url = <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.32zi.com%2Fv1" target="_blank" title="https://ai.32zi.com/v1" ref="nofollow noopener noreferrer">ai.32zi.com/v1</a> ä»¥åŠ wire_api = responses</li>
<li>é€šè¿‡ <code>[profiles.32ai]</code> å…³è”æä¾›å•†ä¸æ¨¡å‹ï¼Œpersonality å¯é€‰ friendly / pragmatic</li>
<li>è¿ç§»é€šçŸ¥ï¼š<code>gpt-5-codex â†’ gpt-5.3-codex</code> è‡ªåŠ¨æ˜ å°„</li>
<li>æ›´å¤šé«˜çº§å‚æ•°ï¼ˆæ—¥å¿—ã€ä¸Šä¸‹æ–‡çª—å£ï¼‰å¯æŒ‰éœ€å–æ¶ˆæ³¨é‡Š</li>
</ul>
<h4 data-id="heading-14">ğŸ”„ å®˜æ–¹æ¨¡å‹è¿ç§» (notice.model_migrations)</h4>
<p><code>gpt-5-codex</code> â†’ <code>gpt-5.3-codex</code> Â Â Â  <code>gpt-5.2-codex</code> â†’ <code>gpt-5.3-codex</code></p>
<hr/>
<p>âš¡ <strong>IDEA + Codex + 32ai</strong> å…¨æµç¨‹é›†æˆå®Œæ¯•ã€‚</p>
<p>äº«å—ä½ä»·ã€ç¨³å®šã€æ— éœ€ä»£ç†çš„GPT-5-Codexç¼–ç¨‹ä½“éªŒã€‚</p>
<hr/>
<p><strong>åŸåˆ›å£°æ˜</strong>ï¼šæœ¬æ–‡ä¸ºåŸåˆ›æ•™ç¨‹ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµæ”¶è—æ”¯æŒï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ä¿å§†çº§æ•™ç¨‹ã€‘Claude Code è¿›é˜¶æŒ‡å—ï¼šç”¨ Everything Claude Code æ‰“é€ æ›´æœ‰â€œè®°å¿†â€çš„ AI ç¨‹åºå‘˜]]></title>    <link>https://juejin.cn/post/7605811866908786697</link>    <guid>https://juejin.cn/post/7605811866908786697</guid>    <pubDate>2026-02-13T04:05:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605811866908786697" data-draft-id="7605817795628974130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ä¿å§†çº§æ•™ç¨‹ã€‘Claude Code è¿›é˜¶æŒ‡å—ï¼šç”¨ Everything Claude Code æ‰“é€ æ›´æœ‰â€œè®°å¿†â€çš„ AI ç¨‹åºå‘˜"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-13T04:05:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æåŒå­¦Lino"/> <meta itemprop="url" content="https://juejin.cn/user/3085689267423785"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ä¿å§†çº§æ•™ç¨‹ã€‘Claude Code è¿›é˜¶æŒ‡å—ï¼šç”¨ Everything Claude Code æ‰“é€ æ›´æœ‰â€œè®°å¿†â€çš„ AI ç¨‹åºå‘˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3085689267423785/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æåŒå­¦Lino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T04:05:41.000Z" title="Fri Feb 13 2026 04:05:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¹‹å‰çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸåœ¨ Windows 11 ç¯å¢ƒä¸‹æŠŠ Anthropic çš„â€œç¼–ç¨‹ç¥å™¨â€ <strong>Claude Code</strong> è·‘äº†èµ·æ¥ã€‚ç›¸ä¿¡å¾ˆå¤šæœ‹å‹åœ¨ä½“éªŒè¿‡é‚£ç§â€œè¿™æ‰æ˜¯æœªæ¥ç¼–ç¨‹â€çš„å¿«æ„Ÿåï¼Œéƒ½è·Ÿæˆ‘ä¸€æ ·å¤§å—éœ‡æ’¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a01bef3be37a436e9000e85e876d02d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=Q%2FGgJUFqUhlty6ptCPoDDF9pw1U%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ï¼Œéšç€æˆ‘æœ€è¿‘åœ¨é«˜å¼ºåº¦çš„å¼€å‘å®æˆ˜ï¼ˆç‰¹åˆ«æ˜¯ç”¨æ¥å†™ç¨å¾®å¤æ‚ä¸€ç‚¹çš„ AI æ™ºèƒ½ä½“é¡¹ç›®ï¼‰ä¸­æ·±å…¥ä½¿ç”¨ï¼Œæˆ‘å‘ç°è¿™ä½â€œå¤©æ‰ç¨‹åºå‘˜â€ä¹Ÿæœ‰å®ƒçš„è½¯è‚‹ï¼š</p>
<ol>
<li>
<p><strong>å®ƒæ˜¯â€œé‡‘é±¼è®°å¿†â€</strong>ï¼šä¸€æ—¦å¯¹è¯å˜é•¿ï¼Œæˆ–è€…éš”å¤©å†æ‰“å¼€ï¼Œå®ƒå°±å¿˜äº†ä¹‹å‰çš„é¡¹ç›®æ¶æ„å’Œå†³ç­–ï¼Œä½ å¾—è´¹åŠ²åœ°é‡æ–°æŠŠä¸Šä¸‹æ–‡â€œå–‚â€ç»™å®ƒã€‚</p>
</li>
<li>
<p><strong>å®ƒæ˜¯â€œéšæ€§æ´¾â€</strong>ï¼šæœ‰æ—¶ä½ å¾—åå¤å¼ºè°ƒâ€œè¯·ç”¨ TypeScriptâ€ã€â€œè¯·éµå¾ªè¿™ä¸ªæ–‡ä»¶ç»“æ„â€ï¼Œå®ƒæ‰è‚¯ä¹–ä¹–å¬è¯ï¼Œéå¸¸æ¶ˆè€— Token å’Œè€å¿ƒã€‚</p>
</li>
<li>
<p><strong>å®ƒç¼ºä¹â€œå·¥ç¨‹ç›´è§‰â€</strong>ï¼šåŸç”Ÿçš„ Claude Code å¾ˆå¼ºï¼Œä½†å®ƒæ›´åƒæ˜¯ä¸€ä¸ªåœ¨å¤§å‚å¾…è¿‡çš„â€œå¤–åŒ…â€ï¼Œè™½ç„¶æ´»å„¿å¥½ï¼Œä½†ä¸æ‡‚ä½ çš„é¡¹ç›®ä¹ æƒ¯ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd8d41fa7c0a42fbb4d6652f461645f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=TEFEpiLRb9L9IczITwqgMvy%2FrPI%3D" alt="" loading="lazy"/></p>
<p><strong>è¿™å°±å¼•å‡ºäº†ä»Šå¤©çš„ä¸»è§’ â€”â€” Everything Claude Codeã€‚</strong>
å¦‚æœæŠŠ Claude Code æ¯”ä½œä¸€æŠŠç»ä¸–å¥½å‰‘ï¼Œé‚£ä¹ˆ <strong>Everything Claude Code</strong> å°±æ˜¯é‚£æœ¬å¤±ä¼ å·²ä¹…çš„â€œå‰‘è°±â€ã€‚è¿™æ˜¯ç›®å‰ GitHub ä¸Šæœ€ç«çš„ Claude Code é…ç½®é›†åˆï¼ˆç”± Anthropic Hackathon å† å†› Affaan Mustafa å¼€å‘ï¼‰ï¼Œå®ƒé€šè¿‡ä¸€ç³»åˆ—å·§å¦™çš„ <strong>Rulesï¼ˆè§„åˆ™ï¼‰</strong>ã€<strong>Skillsï¼ˆæŠ€èƒ½ï¼‰</strong> å’Œ <strong>Hooksï¼ˆé’©å­ï¼‰</strong>ï¼Œå½»åº•è§£å†³äº†ä¸Šè¿°ç—›ç‚¹ã€‚
å®ƒèƒ½è®©ä½ çš„ AI åŠ©æ‰‹å­¦ä¼šâ€œè®°ç¬”è®°â€ï¼ˆæŒä¹…åŒ–è®°å¿†ï¼‰ã€å­¦ä¼šâ€œè‡ªæˆ‘åæ€â€ï¼ˆä»£ç å®¡æŸ¥ï¼‰ï¼Œç”šè‡³èƒ½è‡ªåŠ¨åŒ–ç”Ÿæˆæ–‡æ¡£ã€‚
<strong>å¼€æºé“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faffaan-m%2Feverything-claude-code" target="_blank" title="https://github.com/affaan-m/everything-claude-code" ref="nofollow noopener noreferrer">github.com/affaan-m/evâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a88eaceb474d4726a8e2dcc52c3523da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=zLH7HVrxrGGqIrs1H9kRIDarJo8%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¤©è¿™ç¯‡è¿›é˜¶æ•™ç¨‹ï¼Œæˆ‘å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶ï¼š<strong>å¦‚ä½•åœ¨ Windows 11 ç¯å¢ƒä¸‹ï¼ŒæŠŠè¿™å°±å¥—â€œæœ€å¼ºé…ç½®â€è£…è¿›ä½ çš„ Claude Code é‡Œï¼ŒæŠŠå®ƒä»ä¸€ä¸ªâ€œèŠå¤©æœºå™¨äººâ€è¿›åŒ–æˆä¸€ä¸ªçœŸæ­£æ‡‚ä½ ã€æœ‰è®°å¿†ã€èƒ½å¹²é‡æ´»çš„â€œèµ„æ·± AI å·¥ç¨‹å¸ˆâ€ã€‚</strong>
å‡†å¤‡å¥½äº†å—ï¼Ÿæˆ‘ä»¬è¦å¼€å§‹ç»™ AI â€œåšæ‰‹æœ¯â€äº†ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šç¯å¢ƒå‡†å¤‡ä¸å®‰è£…</h2>
<p>æˆ‘ä»¬è¦åšçš„ä¸æ˜¯å®‰è£…ä¸€ä¸ªæ–°è½¯ä»¶ï¼Œè€Œæ˜¯è¦æŠŠä¸€å¥—â€œç»ä¸–æ­¦åŠŸç§˜ç±â€ï¼ˆé…ç½®æ–‡ä»¶ï¼‰ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åâ€œä¼ æˆâ€ï¼ˆå¤åˆ¶ï¼‰ç»™ä½ çš„ Claude Codeã€‚</p>
<h3 data-id="heading-1">æ£€æŸ¥ä½ çš„è£…å¤‡åº“ (ç¯å¢ƒè‡ªæ£€)</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ä½ çš„ Windows 11 å·²ç»å‡†å¤‡å¥½äº†åŸºç¡€å·¥å…·ã€‚è¯·æ‰“å¼€ä½ çš„ <strong>PowerShell</strong> æˆ– <strong>ç»ˆç«¯ (Windows Terminal)</strong>ï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š
<strong>A. æ£€æŸ¥ Claude Code æ˜¯å¦å­˜æ´»</strong></p>
<pre><code class="hljs language-Markdown" lang="Markdown">claude --version
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d910323d9214eb7b6f219122c85a09e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=Ag4emVjUKqfqKhzFJiuPTIw4Nw4%3D" alt="" loading="lazy"/></p>
<p><strong>æ­£å¸¸åé¦ˆ</strong>ï¼šä¼šå‡ºç°ç±»ä¼¼ <code>2.x.x</code> çš„ç‰ˆæœ¬å·ã€‚
<strong>å¦‚æœä¸æ­£å¸¸</strong>ï¼šè¯·å›çœ‹æˆ‘çš„ä¹‹å‰é‚£ç¯‡**<a href="https://link.juejin.cn?target=https%3A%2F%2Fmy.feishu.cn%2Fwiki%2FPFBJwgs5qioKL5kfAlOcuY8xnAe" target="_blank" title="https://my.feishu.cn/wiki/PFBJwgs5qioKL5kfAlOcuY8xnAe" ref="nofollow noopener noreferrer">ã€ŠClaude Code éƒ¨ç½²æ•™ç¨‹ã€‹</a>**ï¼Œå…ˆæŠŠ Claude Code è£…å¥½ã€‚
<strong>B. æ£€æŸ¥ Git æ˜¯å¦å®‰è£…</strong></p>
<pre><code class="hljs language-Markdown" lang="Markdown">git --version
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/154d35310fd34653bc9dc392c8a5dbdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=Ki%2FsvLjVX68btnvILt6PaNLZCzg%3D" alt="" loading="lazy"/></p>
<p><strong>æ­£å¸¸åé¦ˆ</strong>ï¼šä¼šå‡ºç° <code>git version 2.x.x...</code>ã€‚
<strong>å¦‚æœä¸æ­£å¸¸</strong>ï¼šå» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdownload%2Fwin" target="_blank" title="https://git-scm.com/download/win" ref="nofollow noopener noreferrer">Git for Windows å®˜ç½‘</a> ä¸‹è½½å®‰è£…ã€‚</p>
<h2 data-id="heading-2">ç¬¬äºŒéƒ¨åˆ†ï¼šæ’ä»¶åŒ–æé€Ÿéƒ¨ç½²</h2>
<p>åœ¨ä»¥å‰ï¼Œç»™ Claude Code è£…é…ç½®éœ€è¦åƒæ¬ç –ä¸€æ ·æ‰‹åŠ¨å¤åˆ¶ä¸€å †æ–‡ä»¶ã€‚ä½†ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Claude Code åŸç”Ÿçš„<strong>æ’ä»¶å¸‚åœºï¼ˆPlugin Marketplaceï¼‰</strong> åŠŸèƒ½ï¼Œåƒç»™ Chrome è£…æ’ä»¶ä¸€æ ·ç®€å•ã€‚
æ•´ä¸ªè¿‡ç¨‹åªéœ€ <strong>3 æ­¥</strong>ï¼Œè€—æ—¶çº¦ <strong>2 åˆ†é’Ÿ</strong>ã€‚</p>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå®‰è£…â€œEverythingâ€æ’ä»¶æ ¸å¿ƒ</h3>
<p>æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼ˆTerminal æˆ– PowerShellï¼‰ï¼Œä¸éœ€è¦ä¸‹è½½ä»»ä½• ZIP åŒ…ï¼Œç›´æ¥åœ¨ç»ˆç«¯é‡Œå’Œ Claude å¯¹è¯å³å¯ã€‚
<strong>å¯åŠ¨ Claude Code</strong>ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">claude
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94f942f63fc24bd4b0b0bdb1e1cce3da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=rP5m%2BTpkt0tkA1UHiRoUF2Egry0%3D" alt="" loading="lazy"/></p>
<p><strong>æ·»åŠ æ’ä»¶å¸‚åœºæº</strong>ï¼š åœ¨ Claude çš„å¯¹è¯æ¡†ä¸­ï¼Œç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦ï¼ˆè¿™ä¼šå‘Šè¯‰ Claude å»å“ªé‡Œæ‰¾è¿™ä¸ªæ’ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">/plugin marketplace add affaan-m/everything-claude-code
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a7eeccc6c85470eb4707a5aaa9b1743~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=SyYcR88ZQ7swN1o42DhipcU26X0%3D" alt="" loading="lazy"/>
ä¸€é”®å®‰è£…æ’ä»¶ï¼Œæ¥ç€è¾“å…¥ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">/plugin install everything-claude-code@everything-claude-code
</code></pre>
<p>è¾“å…¥å®‰è£…å‘½ä»¤å¹¶å›è½¦åï¼Œç»ˆç«¯ä¼šå‡ºç°ä¸€ä¸ªäº¤äº’å¼çš„é€‰æ‹©ç•Œé¢ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚è¿™æ—¶å€™ä¸è¦æ…Œï¼Œè¿™é‡Œéœ€è¦ä½ å†³å®šâ€œæŠŠè¿™äº›èƒ½åŠ›è£…åœ¨å“ªé‡Œâ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6850836bbd664e40888f59fb1126cb19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=MIR27DglUtSjP96Kf2NMpBdjVnw%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¼šçœ‹åˆ°ä¸‰ä¸ªé€‰é¡¹ï¼Œæˆ‘ä»¬æ¥é€ä¸€è§£è¯»ï¼ˆä¿å§†çº§è§£é‡Šï¼‰ï¼š</p>
<ol>
<li>
<p><strong><code>Install for you (user scope)</code></strong> <strong>ã€å¼ºçƒˆæ¨èé€‰è¿™ä¸ªï¼ã€‘</strong></p>
</li>
<li>
<p><strong>å«ä¹‰</strong>ï¼šå®‰è£…åˆ°ä½ å½“å‰ç”¨æˆ·çš„å…¨å±€é…ç½®é‡Œã€‚</p>
</li>
<li>
<p><strong>å¥½å¤„</strong>ï¼šä¸€æ¬¡å®‰è£…ï¼Œå¤„å¤„å¯ç”¨ã€‚æ— è®ºä½ ä»¥åæ‰“å¼€å“ªä¸ªæ–‡ä»¶å¤¹ã€å†™å“ªä¸ªæ–°é¡¹ç›®ï¼ŒClaude Code éƒ½ä¼šè‡ªå¸¦è¿™äº›å¼ºå¤§çš„æŠ€èƒ½å’Œè®°å¿†ã€‚</p>
</li>
<li>
<p><strong>é€‚åˆ</strong>ï¼šä¸ªäººå¼€å‘è€…ã€ç‹¬è¡Œä¾ ã€å¸Œæœ› AI åŠ©æ‰‹æ—¶åˆ»ä¿æŒæœ€å¼ºçŠ¶æ€çš„ä½ ã€‚</p>
</li>
<li>
<p><code>Install for all collaborators on this repository (project scope)</code></p>
</li>
<li>
<p><strong>å«ä¹‰</strong>ï¼šåªå®‰è£…åœ¨å½“å‰è¿™ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹é‡Œï¼Œå¹¶ä¸”æŠŠé…ç½®å†™å…¥æ–‡ä»¶ï¼Œæ¨é€åˆ° Git ä»“åº“ã€‚</p>
</li>
<li>
<p><strong>å¥½å¤„</strong>ï¼šä½ çš„é˜Ÿå‹æ‹‰å–ä»£ç åï¼Œä¹Ÿèƒ½è‡ªåŠ¨è·å¾—è¿™äº›å·¥å…·ã€‚</p>
</li>
<li>
<p><strong>é€‚åˆ</strong>ï¼šå›¢é˜Ÿåä½œï¼Œä¸”ä½ å¸Œæœ›å¼ºåˆ¶é˜Ÿå‹ä¹Ÿä½¿ç”¨è¿™å¥—å·¥ä½œæµã€‚</p>
</li>
<li>
<p><code>Install for you, in this repo only (local scope)</code></p>
</li>
<li>
<p><strong>å«ä¹‰</strong>ï¼šåªåœ¨è¿™ä¸ªé¡¹ç›®é‡Œç”¨ï¼Œä¸”ä¸åˆ†äº«ç»™é˜Ÿå‹ã€‚</p>
</li>
<li>
<p><strong>é€‚åˆ</strong>ï¼šä½ åœ¨ç§˜å¯†æµ‹è¯•æŸä¸ªæ’ä»¶ï¼Œä¸æƒ³å½±å“å…¨å±€ç¯å¢ƒã€‚</p>
</li>
</ol>
<p><strong>ğŸ“ æ“ä½œæ­¥éª¤ï¼š</strong></p>
<ol>
<li>
<p>ç¡®ä¿å…‰æ ‡åœç•™åœ¨ç¬¬ä¸€é¡¹ <strong><code>Install for you (user scope)</code></strong> ä¸Šï¼ˆå¦‚æœæœ‰å˜åŠ¨ï¼Œä½¿ç”¨é”®ç›˜ä¸Šä¸‹ç®­å¤´ <code>â†‘</code> <code>â†“</code> ç§»åŠ¨ï¼‰ã€‚</p>
</li>
<li>
<p>ç›´æ¥æŒ‰ <strong><code>Enter</code></strong> <strong>(å›è½¦é”®)</strong> ç¡®è®¤ã€‚</p>
</li>
</ol>
<p><strong>ğŸ‘€ é‡ç‚¹æ³¨æ„ï¼šå®‰è£…æˆåŠŸçš„æ ‡å¿—</strong> æŒ‰ä¸‹å›è½¦åï¼Œç»ˆç«¯å¯èƒ½ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>
<p><strong>æƒ…å†µ Aï¼ˆè¯ç—¨æ¨¡å¼ï¼‰</strong>ï¼šåˆ·å±æ˜¾ç¤º <code>Installed agent: xxx</code>, <code>Installed command: xxx</code> ç­‰ä¸€é•¿ä¸²åˆ—è¡¨ã€‚</p>
</li>
<li>
<p><strong>æƒ…å†µ Bï¼ˆé«˜å†·æ¨¡å¼ï¼‰</strong>ï¼šåªæ˜¾ç¤ºä¸€è¡Œ <code>(no content)</code> æˆ–è€…ä»€ä¹ˆéƒ½ä¸æ˜¾ç¤ºï¼Œç›´æ¥è·³å›è¾“å…¥æ¡†ã€‚</p>
</li>
</ul>
<p><strong>è¯·æ³¨æ„ï¼šæƒ…å†µ B ä¹Ÿæ˜¯æˆåŠŸçš„ï¼</strong> å¦‚æœä½ ä¸ç¡®å®šæ˜¯å¦è£…å¥½äº†ï¼Œå¯ä»¥å†æ¬¡è¾“å…¥ä¸€éå®‰è£…å‘½ä»¤ï¼Œå¦‚æœå®ƒæç¤º <code>Plugin ... is already installed</code>ï¼ˆå¦‚æˆªå›¾æ‰€ç¤ºï¼‰ï¼Œé‚£å°±è¯´æ˜ä½ å·²ç»å¤§åŠŸå‘Šæˆäº†ï¼Œè¯·æ”¾å¿ƒç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6feabb258843489c979e62ee3ef9d409~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=AKU8EoIw4m2AVnx4C3X%2Fxl4yyRM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šæ‰‹åŠ¨æ³¨å…¥â€œå¤§è„‘è§„åˆ™â€ï¼ˆå¿…åšï¼ï¼‰</h3>
<p>âš ï¸ <strong>æ³¨æ„ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼</strong> ç”±äº Claude Code ç›®å‰çš„é™åˆ¶ï¼Œæ’ä»¶æ— æ³•è‡ªåŠ¨ä¿®æ”¹ä½ çš„ç³»ç»Ÿè§„åˆ™ï¼ˆRulesï¼‰ã€‚å¦‚æœä¸åšè¿™ä¸€æ­¥ï¼ŒClaude åªæ˜¯å­¦ä¼šäº†â€œæŠ€èƒ½â€ï¼Œä½†è¿˜æ²¡å­¦ä¼šâ€œçºªå¾‹â€å’Œâ€œæ€ç»´æ–¹å¼â€ã€‚
æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æŠŠè§„åˆ™æ–‡ä»¶æ”¾å…¥ Claude çš„é…ç½®ç›®å½•ã€‚</p>
<ol>
<li><strong>æ‰¾åˆ°ä½ çš„ Claude é…ç½®ç›®å½•</strong></li>
</ol>
<ul>
<li>
<p><strong>Windows ç”¨æˆ·</strong>ï¼šé€šå¸¸åœ¨ <code>C:\Users\ä½ çš„ç”¨æˆ·å\.claude\rules</code></p>
</li>
<li>
<p><strong>macOS/Linux ç”¨æˆ·</strong>ï¼šåœ¨ <code>~/.claude/rules</code></p>
</li>
</ul>
<ol start="2">
<li><strong>ä¸‹è½½è§„åˆ™æ–‡ä»¶</strong> å¦‚æœä½ ä¸æƒ³å…‹éš†æ•´ä¸ªä»“åº“ï¼Œæˆ‘ä¸ºä½ å‡†å¤‡äº†<strong>æœ€ç®€å•çš„â€œå·æ‡’â€æ–¹æ³•</strong>ï¼š ä½ éœ€è¦å» GitHub ä»“åº“çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faffaan-m%2Feverything-claude-code%2Ftree%2Fmain%2Frules" target="_blank" title="https://github.com/affaan-m/everything-claude-code/tree/main/rules" ref="nofollow noopener noreferrer">rules æ–‡ä»¶å¤¹</a>ï¼ŒæŠŠé‡Œé¢çš„ <code>.md</code> æ–‡ä»¶ï¼ˆå¦‚ <code>security.md</code>, <code>coding-style.md</code>, <code>testing.md</code> ç­‰ï¼‰ä¸‹è½½ä¸‹æ¥ã€‚</li>
</ol>
<p><strong>æ¨èæ“ä½œï¼ˆå‘½ä»¤è¡Œæå®¢ç‰ˆï¼‰ï¼š</strong> å…ˆé€€å‡º Claudeï¼ˆè¾“å…¥ <code>/exit</code>ï¼‰ï¼Œç„¶ååœ¨ç»ˆç«¯ï¼ˆPowershellï¼‰è¿è¡Œï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown"><span class="hljs-section"># 1. å…‹éš†ä»“åº“åˆ°ä¸´æ—¶ç›®å½•git clone https://github.com/affaan-m/everything-claude-code.git temp<span class="hljs-emphasis">_ecc# 2. åˆ›å»ºè§„åˆ™ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰mkdir -p ~/.claude/rules# 3. å¤åˆ¶è§„åˆ™æ–‡ä»¶è¿‡å»cp temp_</span>ecc/rules/* ~/.claude/rules/# 4. (å¯é€‰) åˆ é™¤ä¸´æ—¶ç›®å½•Remove-Item temp<span class="hljs-emphasis">_ecc -Recurse -Force
</span></span></code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d79fd4103d634e60b2fa9100ce27d430~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=FfSfHGAkjAsPCF8PQcAhQXhOuG0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£… &amp; åˆå§‹åŒ–åŒ…ç®¡ç†å™¨</h3>
<p>ä¸€åˆ‡å°±ç»ªï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œé¡ºä¾¿é…ç½®ä¸€ä¸‹ä½ å¸¸ç”¨çš„åŒ…ç®¡ç†å™¨ï¼ˆnpm, pnpm ç­‰ï¼‰ï¼Œè¿™æ · Claude å†™ä»£ç æ—¶çŸ¥é“è¯¥ç”¨ä»€ä¹ˆå‘½ä»¤ã€‚
<strong>é‡å¯ Claude</strong>ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">claude
</code></pre>
<p><strong>è¿è¡Œåˆå§‹åŒ–å‘½ä»¤</strong>ï¼š åœ¨å¯¹è¯æ¡†è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆClaude å¯èƒ½ä¼šè‡ªåŠ¨è¡¥å…¨æˆé•¿å¾—åƒ <code>everything-claude-code:setup-pm</code> çš„æ ·å­ï¼Œä¸ç”¨ç®¡ï¼Œç›´æ¥å›è½¦ï¼‰ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">/setup-pm
</code></pre>
<p><strong>æˆæƒæ‰§è¡Œè„šæœ¬ï¼ˆé‡ç‚¹ï¼ï¼‰</strong>ï¼š å›è½¦åï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹å›¾çš„ç•Œé¢ã€‚Claude ä¼šè¯·æ±‚è¿è¡Œä¸€ä¸ªåä¸º <code>setup-package-manager.js</code> çš„è„šæœ¬ã€‚</p>
<ul>
<li>
<p><strong>ä¸å¿…æƒŠæ…Œ</strong>ï¼šè¿™æ˜¯å®ƒåœ¨è¯·æ±‚æƒé™æ‰«æä½ çš„ç¯å¢ƒã€‚</p>
</li>
<li>
<p><strong>æ“ä½œæ–¹æ³•</strong>ï¼šçœ‹åˆ° <code>Do you want to proceed?</code>ï¼ˆä½ æƒ³è¦ç»§ç»­å—ï¼Ÿï¼‰æ—¶ï¼Œé»˜è®¤é€‰é¡¹æ˜¯ <strong><code>&gt; 1. Yes</code></strong>ã€‚ç›´æ¥æŒ‰ <strong><code>Enter</code></strong> <strong>(å›è½¦)</strong> ç¡®è®¤å³å¯ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11c29f7a6a3144758a31410fc5f01b69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=%2BJ7fBOPgnDkHpWJlo0BwNyb5odQ%3D" alt="" loading="lazy"/></p>
<p><strong>å†æ¬¡ç¡®è®¤ï¼ˆè¯·è€å¿ƒï¼‰</strong>ï¼š ç´§æ¥ç€ï¼Œå®ƒå¯èƒ½ä¼šå†æ¬¡è¯·æ±‚æƒé™æ¥â€œåˆ—å‡ºå¯ç”¨åˆ—è¡¨â€ (<code>--list</code>)ã€‚ <strong>è¯·ç»§ç»­æŒ‰å›è½¦é€‰æ‹©</strong> <strong><code>Yes</code></strong>ã€‚è¿™æ˜¯ä¸€ä¸ªæ­£å¸¸çš„æµç¨‹ï¼Œä¸è¦æ‹’ç»å®ƒï¼Œå¦åˆ™åˆå§‹åŒ–ä¼šä¸­æ–­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7ed9492ddc147928bbf4d7703671915~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=zGN8NtGmD8lRG5A6sutJ9g5h04g%3D" alt="" loading="lazy"/></p>
<p><strong>åšæœ€ç»ˆå†³å®šï¼ˆFinal Decisionï¼‰</strong> è„šæœ¬è·‘å®Œåï¼Œä¼šå¼¹å‡ºä¸€ä¸ªäº¤äº’å¼èœå•ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚å®ƒä¼šåˆ—å‡ºä½ ç”µè„‘é‡Œå·²ç»è£…äº†å“ªäº›å·¥å…·ï¼ˆè¡¨æ ¼é‡Œ <code>Installed: Yes</code> çš„é¡¹ï¼‰ã€‚</p>
<ul>
<li>
<p><strong>å¦‚æœä½ æ˜¯æ–°æ‰‹</strong>ï¼šç›´æ¥é€‰ <strong><code>1. Keep npm (current)</code></strong>ï¼ˆæˆ–è€…ä½ ç”µè„‘ä¸Šé»˜è®¤å·²å®‰è£…çš„é‚£ä¸ªï¼‰ã€‚è¿™æ˜¯æœ€ç¨³å¦¥çš„é€‰æ‹©ã€‚</p>
</li>
<li>
<p><strong>å¦‚æœä½ æ˜¯è€æ‰‹</strong>ï¼šæƒ³æ¢æˆæ›´å¿«çš„ <code>pnpm</code> æˆ– <code>bun</code>ï¼Œå¯ä»¥é€‰å¯¹åº”çš„é€‰é¡¹ï¼ŒClaude ä¼šå¸®ä½ å»å®‰è£…å®ƒã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44a0652e409745c290b722dad6f7c718~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=lR6Y4T2Ki5FsG3JtFX750WnWM9A%3D" alt="" loading="lazy"/></p>
<p><strong>æœ€åçš„â€œç”»æŠ¼â€ï¼ˆå†™å…¥é…ç½®ï¼‰</strong> é€‰å®Œå·¥å…·åï¼ŒClaude ä¼šæœ€åä¸€æ¬¡è¯·æ±‚æƒé™ï¼š<strong>åˆ›å»ºä¸€ä¸ªåä¸º</strong> <strong><code>package-manager.json</code></strong> <strong>çš„é…ç½®æ–‡ä»¶</strong>ã€‚ è¿™ä¸€æ­¥æ˜¯ä¸ºäº†æŠŠä½ çš„é€‰æ‹©â€œåˆ»åœ¨ç¡¬ç›˜é‡Œâ€ï¼Œä»¥åå°±ä¸ç”¨å†è®¾ç½®äº†ã€‚
<strong>æ“ä½œæ–¹æ³•</strong>ï¼šçœ‹åˆ° <code>Create file</code> çš„è¯·æ±‚æ—¶ï¼Œç¡®è®¤ä¸º <strong><code>&gt; 1. Yes</code></strong>ï¼ŒæŒ‰ä¸‹ <strong>Enter (å›è½¦)</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7eac3d18d82b44d8ae489f9cf2e3dd1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=P70ToSujY2fm0FM9L4ZJwMRIKvM%3D" alt="" loading="lazy"/></p>
<p><strong>æœ€ç»ˆéªŒè¯ï¼ˆVerifyï¼‰</strong> æ–‡ä»¶ä¿å­˜åï¼ŒClaude ä¼š<strong>æœ€åå†è¿è¡Œä¸€æ¬¡æ£€æµ‹è„šæœ¬</strong>ï¼Œç›®çš„æ˜¯ç¡®è®¤åˆšæ‰çš„é…ç½®çœŸçš„ç”Ÿæ•ˆäº†ï¼ˆVerify package manager configurationï¼‰ã€‚ <strong>æ“ä½œæ–¹æ³•</strong>ï¼šä¸è¦çŠ¹è±«ï¼Œå†æ¬¡é€‰æ‹© <strong><code>&gt; 1. Yes</code></strong> å¹¶å›è½¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cc3c9c335ba4618aeeefe8397dca400~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=J5LtYjVTins%2Bwxv3vEqg6BJ1%2Fz0%3D" alt="" loading="lazy"/></p>
<p><strong>è§è¯èƒœåˆ©ï¼ˆé…ç½®å®Œæˆï¼‰</strong> åœ¨ç»è¿‡å‡ æ¬¡ç¡®è®¤åï¼Œç»ˆç«¯æœ€ç»ˆä¼šæ˜¾ç¤ºä¸€æ®µè¯¦ç»†çš„æ€»ç»“æŠ¥å‘Šï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚</p>
<ul>
<li>
<p><strong>Configuration</strong>: æ˜¾ç¤ºä½ é€‰äº† <code>npm</code>ã€‚</p>
</li>
<li>
<p><strong>Commands</strong>: æ˜¾ç¤ºä»¥åå®ƒä¼šç”¨ä»€ä¹ˆå‘½ä»¤æ¥å¹²æ´»ã€‚</p>
</li>
</ul>
<p>å½“ä½ çœ‹åˆ° <strong>"Done. Your package manager configuration is now set up"</strong> è¿™è¡Œå­—æ—¶ï¼Œæ­å–œä½ ï¼æ‰€æœ‰çš„ç¯å¢ƒé…ç½®å·¥ä½œå…¨éƒ¨ç»“æŸï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0481829d010442368e16f6ca15fd2776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=ow7w%2FxJK7uw9vEEIBXrkQ22yQ0s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜æ¼”ç»ƒ</h2>
<p>ç¯å¢ƒè£…å¥½äº†ï¼Œä¸æ‹¿å‡ºæ¥æºœæºœæ€ä¹ˆè¡Œï¼Ÿ
å¾ˆå¤šæœ‹å‹ä»¥å‰ç”¨ Claude Codeï¼Œä¸Šæ¥å°±è¯´ï¼šâ€œç»™æˆ‘å†™ä¸ªè´ªåƒè›‡æ¸¸æˆâ€ã€‚ç»“æœ AI ç»å¸¸æ˜¯â€œå“å½“â€æ‰”ç»™ä½ ä¸€å¤§å¨ä»£ç ï¼Œè¦ä¹ˆè·‘ä¸èµ·æ¥ï¼Œè¦ä¹ˆæ”¹ä¸€ä¸ª Bug å†’å‡ºä¸‰ä¸ªæ–° Bugã€‚
<strong>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒæ²¡æœ‰â€œè„‘å­â€ï¼ˆè§„åˆ’ï¼‰ã€‚</strong> ä½†è£…äº† <strong>Everything Claude Code</strong> ä¹‹åï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ªæ ¸å¿ƒæ ¸æ­¦å™¨ï¼š<strong><code>/plan</code></strong> <strong>å‘½ä»¤</strong>ã€‚
ç°åœ¨ï¼Œè¯·è·Ÿç€æˆ‘åšï¼Œæˆ‘ä»¬æ¥ä½“éªŒä¸€ä¸‹ä»€ä¹ˆå«â€œ<strong>é™ç»´æ‰“å‡»</strong>â€ã€‚</p>
<h3 data-id="heading-7"><strong>1.æå‡ºéœ€æ±‚ï¼šä¸è¦ç›´æ¥å†™ä»£ç ï¼Œå…ˆåšè®¡åˆ’</strong></h3>
<p>åœ¨ç»ˆç«¯é‡Œï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆè¿˜æ˜¯ä»¥ç»å…¸çš„è´ªåƒè›‡æ¸¸æˆä¸ºä¾‹ï¼Œå› ä¸ºå®ƒç®€å•ä¸”ç›´è§‚ï¼‰ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">/plan "ä½¿ç”¨ HTML5 å’ŒåŸç”Ÿ JavaScript å†™ä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆï¼Œç•Œé¢è¦ç°ä»£ç®€æ´ï¼Œæ”¯æŒåˆ†æ•°è®°å½•"
</code></pre>
<p><strong>ğŸ’¡ å°è´´å£«</strong>ï¼šæ³¨æ„ <code>/plan</code> å’Œåé¢çš„éœ€æ±‚ä¹‹é—´æœ‰ä¸ªç©ºæ ¼ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4521ad2da07b45ed949fc59b8c85a320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=%2BtjTtwOqKMr2e8ySKGWeh%2BDsULo%3D" alt="" loading="lazy"/></p>
<p>è¯·çœ‹å±å¹•å·¦ä¸‹è§’é‚£ä¸ªè“è‰²çš„ <strong><code>[||] plan mode on</code></strong> æ ‡å¿— â€”â€” è¿™æ„å‘³ç€ Claude å·²ç»ä»æ™®é€šçš„â€œèŠå¤©æ¨¡å¼â€åˆ‡æ¢åˆ°äº†ä¸“ä¸šçš„â€œæ¶æ„å¸ˆæ¨¡å¼ï¼ˆPlan Modeï¼‰â€ã€‚
åœ¨å½“å‰ç‰ˆæœ¬çš„ Claude Code ä¸­ï¼Œ<code>/plan</code> å‘½ä»¤æœ‰æ—¶åªä½œä¸ºä¸€ä¸ªâ€œæ¨¡å¼å¼€å…³â€ã€‚å®ƒå¬åˆ°äº†ä½ çš„å¬å”¤ï¼Œæ‰“å¼€äº†å¼€å…³ï¼Œä½†å¯èƒ½æ²¡æœ‰æŠŠä½ åˆšæ‰å¼•å·é‡Œçš„é‚£å¥è¯ç›´æ¥å½“æˆä»»åŠ¡å‘å‡ºå»ï¼ˆæˆ–è€…å®ƒæ­£åœ¨ç­‰ä½ ç¡®è®¤ï¼‰ã€‚</p>
<h4 data-id="heading-8"><strong>æ€ä¹ˆåŠï¼Ÿï¼ˆåªéœ€ä¸€æ­¥ï¼‰</strong></h4>
<p>ç°åœ¨çš„å…‰æ ‡ <code>&gt;</code> å·²ç»åœ¨é—ªçƒç­‰å¾…äº†ï¼Œä½ åªéœ€è¦<strong>åœ¨å½“å‰æ¨¡å¼ä¸‹ï¼ŒæŠŠéœ€æ±‚å†å‘ä¸€é</strong>å³å¯ï¼š</p>
<ol>
<li>
<p><strong>ç›´æ¥è¾“å…¥</strong>ï¼š <code>ä½¿ç”¨ HTML5 å’ŒåŸç”Ÿ JavaScript å†™ä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆï¼Œç•Œé¢è¦ç°ä»£ç®€æ´ï¼Œæ”¯æŒåˆ†æ•°è®°å½•</code></p>
</li>
<li>
<p><strong>æŒ‰ä¸‹å›è½¦</strong>ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da97def5c4134df4a23d21763c3427a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=ORVtgluy8WkIDpIG2%2Flq9ChkPcU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">2.è§è¯â€œé™ç»´æ‰“å‡»â€çº§çš„è§„åˆ’èƒ½åŠ›</h3>
<p>æŒ‰ä¸‹å›è½¦åï¼ŒClaude <strong>ç»å¯¹ä¸ä¼š</strong>åƒä¸ªæ„£å¤´é’ä¸€æ ·ç›´æ¥å¼€å§‹å†™ä»£ç ã€‚ç›¸åï¼Œå®ƒä¼šå…ˆåœä¸‹æ¥æ€è€ƒï¼Œç„¶åè¾“å‡ºä¸€ä»½<strong>æå…·ä¸“ä¸šæ°´å‡†çš„â€œé¡¹ç›®è®¾è®¡ä¹¦â€</strong>ã€‚
è¯·çœ‹ä¸‹å›¾ï¼Œè¿™å°±æ˜¯ Everything Claude Code çš„å¨åŠ›æ‰€åœ¨ã€‚å®ƒä¸ä»…ç†è§£äº†ä½ çš„éœ€æ±‚ï¼Œè¿˜è‡ªåŠ¨è¡¥å…¨äº†æ‰€æœ‰ç»†èŠ‚ï¼š</p>
<ul>
<li>
<p><strong>æ–‡ä»¶ç»“æ„</strong>ï¼šè‡ªåŠ¨è§„åˆ’å¥½äº† <code>index.html</code> (éª¨æ¶), <code>style.css</code> (çš®è‚¤), <code>game.js</code> (çµé­‚)ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½æ‹†è§£</strong>ï¼š</p>
<ul>
<li>
<p>æ˜ç¡®ç”»å¸ƒå¤§å° (400x400)</p>
</li>
<li>
<p>æ“ä½œé€»è¾‘ (WASD + æ–¹å‘é”®åŒé‡æ”¯æŒ)</p>
</li>
<li>
<p>æ•°æ®å­˜å‚¨ (åˆ©ç”¨ localStorage å­˜æœ€é«˜åˆ†ï¼Œè¿è¿™ä¸ªç»†èŠ‚éƒ½æƒ³åˆ°äº†ï¼)</p>
</li>
</ul>
</li>
<li>
<p><strong>UI è®¾è®¡è§„èŒƒ</strong>ï¼š</p>
<ul>
<li>ç”šè‡³è¿é…è‰²éƒ½æƒ³å¥½äº†ï¼šæ·±è‰²èƒŒæ™¯ (<code>#1a1a2e</code>) é…éœ“è™¹ç»¿è›‡èº« (<code>#00ff88</code>)ã€‚è¿™å“ªæ˜¯å†™ä»£ç ï¼Œç®€ç›´æ˜¯è‡ªå¸¦è®¾è®¡å¸ˆï¼</li>
</ul>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2ad75288a1b429889c5c586a02b3643~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=%2FmsRdygb5HW2cCRFRdIWb9YuJcA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">3.æ¶æ„å¸ˆçš„â€œè¿½é—®â€ï¼šå®ƒç«Ÿç„¶æ‡‚å¾—æŠ ç»†èŠ‚ï¼</h3>
<p>è¿™çœŸæ˜¯ä¸€ä¸ªè¶…çº§å¤§çš„<strong>æƒŠå–œç‚¹</strong>ï¼
å¤§å¤šæ•° AI ç¼–ç¨‹å·¥å…·ï¼ˆåŒ…æ‹¬ ChatGPT ç½‘é¡µç‰ˆï¼‰éƒ½æ˜¯ä½ å‘ä¸ªæŒ‡ä»¤ï¼Œå®ƒå°±ç›´æ¥é—·å¤´å†™ä»£ç ï¼Œæ ¹æœ¬ä¸ç®¡ç»†èŠ‚ã€‚
ä½†è£…äº† <strong>Everything Claude Code</strong> åï¼Œå®ƒç«Ÿç„¶æ‡‚å¾—äº†**â€œéœ€æ±‚è°ƒç ”â€<strong>ï¼ˆInterview Modeï¼‰ã€‚å®ƒå‘ç°ä½ çš„éœ€æ±‚é‡Œæ²¡è¯´æ¸…æ¥šâ€œæ¸¸æˆéš¾åº¦/åœ°å›¾å¤§å°â€ï¼Œäºæ˜¯å®ƒ</strong>ä¸»åŠ¨åœä¸‹æ¥è¯¢é—®ä½ çš„åå¥½**ã€‚
è¿™ç®€ç›´å°±æ˜¯<strong>ä»â€œå¤–åŒ…å·¥â€è¿›åŒ–æˆäº†â€œäº§å“ç»ç†â€</strong>ï¼
æˆ‘æŠŠè¿™å…³é”®çš„ä¸€æ­¥è¡¥å……è¿›æ•™ç¨‹ï¼Œä½œä¸º**â€œç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜æ¼”ç»ƒâ€<strong>çš„</strong>ç¬¬ 3 å°èŠ‚**ï¼ˆæŠŠåŸæ¥çš„â€œæ­¥æ­¥ä¸ºè¥â€é¡ºå»¶ä¸ºç¬¬ 4 å°èŠ‚ï¼‰ã€‚</p>
<ol>
<li>
<h5 data-id="heading-11"><strong>æ¶æ„å¸ˆçš„â€œè¿½é—®â€ï¼šå®ƒç«Ÿç„¶æ‡‚å¾—æŠ ç»†èŠ‚ï¼</strong></h5>
</li>
</ol>
<p>åœ¨ç”Ÿæˆåˆæ­¥è®¡åˆ’åï¼Œæœ€è®©æˆ‘éœ‡æƒŠçš„ä¸€å¹•å‘ç”Ÿäº†ã€‚Claude å¹¶æ²¡æœ‰æ€¥ç€å»å†™ä»£ç ï¼Œè€Œæ˜¯å‘ç°æˆ‘çš„éœ€æ±‚é‡Œæœ‰ä¸€ä¸ªæ¨¡ç³Šç‚¹ï¼š<strong>åœ°å›¾å¤§å°å’Œæ¸¸æˆèŠ‚å¥</strong>ã€‚
äºæ˜¯ï¼Œå®ƒä¸»åŠ¨å‘èµ·äº†ä¸€ä¸ªâ€œäº¤äº’å¼é—®å·â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š</p>
<ul>
<li>
<p>å®ƒé—®æˆ‘ï¼š<strong>â€œä½ åå¥½ä»€ä¹ˆæ ·çš„ç½‘æ ¼å¤§å°ï¼Ÿâ€</strong></p>
</li>
<li>
<p>å¹¶ä¸”ç»™å‡ºäº†ä¸“ä¸šçš„é€‰é¡¹åˆ†æï¼š</p>
<ul>
<li>
<p><strong>20x20 (æ¨è)</strong>ï¼šç»å…¸æ‰‹æ„Ÿã€‚</p>
</li>
<li>
<p><strong>15x15</strong>ï¼šåœ°å›¾å°ï¼ŒèŠ‚å¥å¿«ï¼ˆé€‚åˆæ€¥æ€§å­ï¼‰ã€‚</p>
</li>
<li>
<p><strong>25x25</strong>ï¼šåœ°å›¾å¤§ï¼Œéš¾åº¦é«˜ï¼ˆé€‚åˆé«˜æ‰‹ï¼‰ã€‚</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fd1cdf0585d4f68a6b46e4e5f70cb1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=VxKlpwiD9KBQHAqJSFYX1ehlUIk%3D" alt="" loading="lazy"/></p>
<p><strong>ğŸ“ æ“ä½œæ–¹æ³•ï¼š</strong> åœ¨è¿™ä¸ªç•Œé¢ï¼Œä½ å¯ä»¥ç”¨ä¸Šä¸‹é”®é€‰æ‹©ï¼Œæˆ–è€…ç›´æ¥å›è½¦é€‰æ‹©å®ƒæ¨èçš„ <strong><code>&gt; 1. 20x20 æ ¼å­ (æ¨è)</code></strong>ã€‚
<strong>ä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¿™ä¸€ç‚¹ï¼Ÿ</strong> è¿™è¯æ˜äº† Everything Claude Code çš„ <code>planner</code> æ™ºèƒ½ä½“å…·æœ‰<strong>æ‰¹åˆ¤æ€§æ€ç»´</strong>ã€‚å®ƒçŸ¥é“â€œæ¨¡ç³Šçš„éœ€æ±‚â€ä¼šå¯¼è‡´â€œåƒåœ¾çš„ä»£ç â€ï¼Œæ‰€ä»¥å®ƒè¦åœ¨åŠ¨å·¥å‰æŠŠæ‰€æœ‰ç»†èŠ‚éƒ½æ•²å®šã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç”¨å®ƒå†™å‡ºæ¥çš„ç¨‹åº Bug æå°‘çš„åŸå› ã€‚</p>
<h3 data-id="heading-12">4.äº¤æ£’æ—¶åˆ»ï¼šä»â€œè®¾è®¡â€åˆ°â€œæ–½å·¥â€</h3>
<p>å½“ä½ åœ¨å±å¹•ä¸Šçœ‹åˆ°è¯¦ç»†çš„ <strong>æœ€ç»ˆæ–¹æ¡ˆæ€»ç»“</strong>ï¼Œå¹¶ä¸” Claude è¯¢é—® <code>Exit plan mode?</code> æ—¶ï¼Œè¯´æ˜è§„åˆ’é˜¶æ®µå®Œç¾ç»“æŸã€‚
<strong>ç¡®è®¤é€€å‡º</strong>ï¼š ç›´æ¥é€‰æ‹© <strong><code>&gt; 1. Yes</code></strong> å¹¶å›è½¦ã€‚
<strong>âš ï¸ æ³¨æ„ï¼š</strong> è¿™é‡Œä¸éœ€è¦ä½ å†è¾“å…¥â€œå¼€å§‹å†™ä»£ç â€ä¹‹ç±»çš„æŒ‡ä»¤ã€‚Claude éå¸¸èªæ˜ï¼Œå®ƒçŸ¥é“ä½ é€€å‡ºè§„åˆ’æ¨¡å¼å°±æ˜¯ä¸ºäº†å»æ‰§è¡Œã€‚ ä¸€æ—¦ä½ æŒ‰ä¸‹å›è½¦ï¼Œä½ ä¼šå‘ç°å®ƒ<strong>ç«‹åˆ»</strong>æŠ›å‡ºäº†ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ä»£ç ï¼ˆé€šå¸¸æ˜¯ <code>index.html</code>ï¼‰ï¼Œå¹¶è¯·æ±‚åˆ›å»ºæ–‡ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b55ee0608db049fcb783da3c739f494e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=%2FgD1V%2FhAD2zRoHwR9FeqHyWwBN8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">5.å…³é”®æŠ€å·§ï¼šå¦‚ä½•â€œä¸€é”®æˆæƒâ€æ‰€æœ‰æ–‡ä»¶ï¼Ÿ</h3>
<p>ç°åœ¨ Claude å·²ç»æŠŠ <code>index.html</code> çš„ä»£ç å†™å¥½äº†ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œå®ƒåœä¸‹æ¥é—®ä½ ï¼š</p>
<blockquote>
<p><strong>"Do you want to create index.html?"</strong></p>
</blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<strong>çœæ—¶ 90% çš„è€æ‰‹æŠ€å·§</strong>ï¼
å› ä¸ºæˆ‘ä»¬çš„è´ªåƒè›‡æ¸¸æˆæœ‰ 3 ä¸ªæ–‡ä»¶ï¼ˆHTML, CSS, JSï¼‰ï¼Œå¦‚æœä½ é€‰ç¬¬ä¸€ä¸ªé€‰é¡¹ <code>Yes</code>ï¼Œå®ƒæ¯å†™ä¸€ä¸ªæ–‡ä»¶éƒ½ä¼šåœä¸‹æ¥é—®ä½ ä¸€æ¬¡ï¼Œéå¸¸å•°å—¦ã€‚
<strong>âœ… æ¨èæ“ä½œï¼šé€‰æ‹©â€œå…¨æƒå§”æ‰˜â€</strong> è¯·æŒ‰ä¸‹é”®ç›˜çš„ <strong><code>Shift + Tab</code></strong> é”®ï¼ˆæˆ–è€…ç”¨æ–¹å‘é”®ä¸‹ç§»ï¼‰ï¼Œé€‰ä¸­ç¬¬äºŒä¸ªé€‰é¡¹ï¼š <strong><code>&gt; 2. Yes, allow all edits during this session</code></strong>
<strong>æ„æ€æ˜¯ï¼š</strong> â€œå¥½çš„ï¼Œä¸ä»…è¿™ä¸ªæ–‡ä»¶å¯ä»¥å†™ï¼Œæ¥ä¸‹æ¥æœ¬æ¬¡ä¼šè¯é‡Œæ‰€æœ‰çš„æ–‡ä»¶ä¿®æ”¹ï¼Œæˆ‘éƒ½æˆæƒç»™ä½ ï¼Œåˆ«å†çƒ¦æˆ‘äº†ã€‚â€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/685ff6b1bdf44ca19e38d068fcd36652~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=Vc7eekvO2n1Pth21PSV8nqL7TSM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">6.è§è¯æˆæœ</h3>
<p>å½“ä½ æˆæƒåï¼Œä½ ä¼šçœ‹åˆ°å±å¹•ä¸Šä»£ç é£é€Ÿæ»šåŠ¨ã€‚å‡ ç§’é’Ÿåï¼ŒClaude ä¼šå‘Šè¯‰ä½ æ‰€æœ‰æ–‡ä»¶éƒ½åˆ›å»ºå®Œæ¯•ã€‚ è¿™æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥å»ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹é‡Œæ‰“å¼€ <code>index.html</code>ï¼Œä¸€ä¸ªåªæœ‰ 20KB å¤§å°ã€ç•Œé¢ç°ä»£ã€æ‰‹æ„Ÿä¸æ»‘çš„è´ªåƒè›‡æ¸¸æˆå°±å·²ç»èººåœ¨é‚£é‡Œäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86d834045fcb48cb8334b4ee134316b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=Uy3qW18talEpKTBXWxnWYU6jE9g%3D" alt="" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f203bebae4514d03931aa428331648e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5ZCM5a2mTGlubw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771560341&amp;x-signature=qHoy3OFdKBtAiaE%2BaDFnJ7XqSXo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">ç¬¬å››éƒ¨åˆ†ï¼šç»“è¯­</h2>
<p>å½“ä½ æŒ‰ä¸‹å›è½¦ï¼Œçœ‹ç€ <code>index.html</code> é‡Œé‚£ä¸ªè¿è¡Œå®Œç¾çš„è´ªåƒè›‡æ¸¸æˆæ—¶ï¼Œæ­å–œä½ ï¼Œä½ çš„ Claude Code å·²ç»å®Œæˆäº†â€œè¿›åŒ–â€ã€‚
<strong>Everything Claude Code</strong> å¸¦æ¥çš„æ”¹å˜æ˜¯æœ¬è´¨çš„ï¼š</p>
<ol>
<li>
<p><strong>å‘Šåˆ«â€œç›²å†™â€</strong>ï¼šé€šè¿‡ <strong><code>/plan</code></strong> <strong>æ¶æ„æ¨¡å¼</strong>ï¼Œå®ƒå­¦ä¼šäº†å…ˆæ€è€ƒã€å†ç¡®è®¤ç»†èŠ‚ï¼ˆç”šè‡³è¿˜ä¼šé—®ä½ ç½‘æ ¼å¤§å°åå¥½ï¼‰ã€æœ€åæ‰åŠ¨å·¥ã€‚</p>
</li>
<li>
<p><strong>å‘Šåˆ«â€œå¤±å¿†â€</strong>ï¼šä¸ç”¨å†åå¤å–‚æç¤ºè¯ï¼Œ<strong>Hooks</strong> ä¼šè‡ªåŠ¨æŠŠé¡¹ç›®èƒŒæ™¯å†™å…¥ <code>.claudememory</code>ï¼Œè®©å®ƒåƒè€å‘˜å·¥ä¸€æ ·æ°¸è¿œè®°å¾—ä½ çš„é¡¹ç›®ç»†èŠ‚ã€‚</p>
</li>
<li>
<p><strong>å‘Šåˆ«â€œè°ƒæ•™â€</strong>ï¼šå®ƒè®°ä½äº†ä½ çš„ <code>npm</code> é…ç½®å’Œä»£ç è§„èŒƒï¼Œä¸Šæ‰‹å°±æ˜¯ç†Ÿç»ƒå·¥ã€‚</p>
</li>
</ol>
<p><strong>åŸç”Ÿçš„ Claude Code æ˜¯ä¸€æŠŠå¥½å‰‘ï¼Œè€Œè¿™å¥—é…ç½®å°±æ˜¯ç»ä¸–å‰‘æ³•ã€‚</strong>
ç°åœ¨ï¼Œå»è¯•è¯•æ¯”è´ªåƒè›‡æ›´å¤æ‚çš„é¡¹ç›®å§ï¼Œçœ‹çœ‹è¿™ä½â€œèµ„æ·± AI å·¥ç¨‹å¸ˆâ€è¿˜èƒ½ç»™ä½ å¸¦æ¥å¤šå°‘æƒŠå–œï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClaw å…¥é—¨å®æˆ˜ï¼š5åˆ†é’Ÿæ­å»ºä½ çš„è‡ªæ‰˜ç®¡ AI åŠ©æ‰‹]]></title>    <link>https://juejin.cn/post/7605810996125351970</link>    <guid>https://juejin.cn/post/7605810996125351970</guid>    <pubDate>2026-02-13T04:05:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605810996125351970" data-draft-id="7605810996125335586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClaw å…¥é—¨å®æˆ˜ï¼š5åˆ†é’Ÿæ­å»ºä½ çš„è‡ªæ‰˜ç®¡ AI åŠ©æ‰‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-13T04:05:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆå¹¿äº®"/> <meta itemprop="url" content="https://juejin.cn/user/3139860937575934"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClaw å…¥é—¨å®æˆ˜ï¼š5åˆ†é’Ÿæ­å»ºä½ çš„è‡ªæ‰˜ç®¡ AI åŠ©æ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860937575934/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆå¹¿äº®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T04:05:40.000Z" title="Fri Feb 13 2026 04:05:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨ç ”ç©¶å¦‚ä½•æ›´é«˜æ•ˆåœ°ä½¿ç”¨ AI åŠ©æ‰‹ï¼Œå‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å¼€æºé¡¹ç›®ï¼š<strong>OpenClaw</strong>ã€‚å®ƒèƒ½è®©ä½ åœ¨ Telegramã€WhatsAppã€Discord ç­‰å„ç§ App é‡Œç›´æ¥è·Ÿ Claude å¯¹è¯ï¼Œè€Œä¸”å®Œå…¨ç”±ä½ è‡ªå·±æŒæ§ã€‚ä»Šå¤©å°±æ¥åˆ†äº«ä¸€ä¸‹å¦‚ä½•ä»é›¶æ­å»ºä½ çš„ç¬¬ä¸€ä¸ª OpenClaw AI åŠ©æ‰‹ã€‚</p>
<h2 data-id="heading-0">OpenClaw æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼Œ<strong>OpenClaw æ˜¯ä¸€ä¸ªè‡ªæ‰˜ç®¡çš„ AI ä»£ç†ç½‘å…³</strong>ã€‚å®ƒå¸®ä½ æŠŠ Claudeã€GPT ç­‰ AI æ¨¡å‹æ¥å…¥åˆ°å„ç§æ¶ˆæ¯å¹³å°ï¼Œè®©ä½ å¯ä»¥åƒè·Ÿæœ‹å‹èŠå¤©ä¸€æ ·è·Ÿ AI äº¤äº’ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>å¤šæ¸ é“æ”¯æŒ</strong>ï¼šTelegramã€WhatsAppã€Discordã€Slack ç­‰ä¸»æµå¹³å°</li>
<li><strong>è‡ªæ‰˜ç®¡æ¶æ„</strong>ï¼šæ‰€æœ‰æ•°æ®ç•™åœ¨ä½ è‡ªå·±çš„æœåŠ¡å™¨ä¸Š</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒå¤šä¸ª Agentã€è‡ªå®šä¹‰å·¥å…·ã€è®°å¿†ç®¡ç†</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šå†…ç½® Web æ§åˆ¶é¢æ¿ï¼Œé…ç½®ç®€å•</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆé€‰æ‹©è‡ªæ‰˜ç®¡ï¼Ÿ</h3>
<p>å¾ˆå¤šäººå¯èƒ½ä¼šé—®ï¼šå¸‚é¢ä¸Šå·²ç»æœ‰ ChatGPTã€Claude.ai è¿™äº›ç°æˆæœåŠ¡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±æ­å»ºï¼Ÿ</p>
<p><strong>æ•°æ®éšç§</strong>ï¼šæ‰€æœ‰å¯¹è¯è®°å½•ã€é…ç½®ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šï¼Œä¸ä¼šè¢«ç¬¬ä¸‰æ–¹æ”¶é›†ã€‚</p>
<p><strong>å®Œå…¨å¯æ§</strong>ï¼šæƒ³æ¢æ¨¡å‹å°±æ¢æ¨¡å‹ï¼Œæƒ³æ¥å…¥å“ªä¸ªå¹³å°å°±æ¥å…¥å“ªä¸ªå¹³å°ï¼Œä¸å—å¹³å°é™åˆ¶ã€‚</p>
<p><strong>æˆæœ¬é€æ˜</strong>ï¼šç›´æ¥è°ƒç”¨ APIï¼ŒæŒ‰å®é™…ç”¨é‡ä»˜è´¹ï¼Œä¸ç”¨æ‹…å¿ƒè®¢é˜…è´¹ç”¨ã€‚</p>
<p><strong>åŠŸèƒ½è‡ªç”±</strong>ï¼šå¯ä»¥è‡ªå®šä¹‰å·¥å…·ã€é…ç½®è®°å¿†ç³»ç»Ÿã€æ¥å…¥æœ¬åœ°æœåŠ¡ï¼Œç©æ³•æ›´å¤šã€‚</p>
<p>å¯¹äºå¼€å‘è€…å’Œæ³¨é‡éšç§çš„ç”¨æˆ·æ¥è¯´ï¼Œè‡ªæ‰˜ç®¡æ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-3">å¿«é€Ÿå®‰è£…ï¼ˆmacOSï¼‰</h2>
<p>ä¸‹é¢ä»¥ macOS ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•å®‰è£… OpenClawã€‚å…¶ä»–ç³»ç»Ÿçš„å®‰è£…æ–¹æ³•ç±»ä¼¼ï¼Œå¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw.ai%2Finstall" target="_blank" title="https://openclaw.ai/install" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h3 data-id="heading-4">å‰ç½®æ¡ä»¶</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ol>
<li>
<p><strong>Node.js 22+</strong>ï¼šOpenClaw åŸºäº Node.js è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash">node --version  <span class="hljs-comment"># æ£€æŸ¥ç‰ˆæœ¬ï¼Œåº”è¯¥ &gt;= 22</span>
</code></pre>
<p>å¦‚æœç‰ˆæœ¬ä¸å¤Ÿï¼Œå»ºè®®ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnvm-sh%2Fnvm" target="_blank" title="https://github.com/nvm-sh/nvm" ref="nofollow noopener noreferrer">nvm</a> å®‰è£…æœ€æ–°ç‰ˆã€‚</p>
</li>
<li>
<p><strong>Anthropic API Key</strong>ï¼šä½ éœ€è¦ä¸€ä¸ª Claude çš„ API å¯†é’¥</p>
<ul>
<li>å‰å¾€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.anthropic.com%2F" target="_blank" title="https://console.anthropic.com/" ref="nofollow noopener noreferrer">Anthropic Console</a> æ³¨å†Œè´¦å·</li>
<li>åœ¨ API Keys é¡µé¢åˆ›å»ºæ–°å¯†é’¥</li>
<li>è®°ä¸‹è¿™ä¸ªå¯†é’¥ï¼Œç¨åä¼šç”¨åˆ°</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">ä¸€é”®å®‰è£…</h3>
<p>OpenClaw æä¾›äº†éå¸¸æ–¹ä¾¿çš„ä¸€é”®å®‰è£…è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://openclaw.ai/install.sh | bash
</code></pre>
<p>è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£… OpenClaw CLIã€‚å®‰è£…å®Œæˆåï¼ŒéªŒè¯ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw --version
</code></pre>
<h3 data-id="heading-6">è¿è¡Œé…ç½®å‘å¯¼</h3>
<p>å®‰è£…å¥½ä¹‹åï¼Œè¿è¡Œé…ç½®å‘å¯¼æ¥åˆå§‹åŒ–ä½ çš„ Gatewayï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw onboard --install-daemon
</code></pre>
<p>å‘å¯¼ä¼šå¼•å¯¼ä½ å®Œæˆä»¥ä¸‹é…ç½®ï¼š</p>
<ol>
<li><strong>é€‰æ‹©æ¨¡å‹æä¾›å•†</strong>ï¼šé€‰æ‹© Anthropicï¼ˆClaudeï¼‰</li>
<li><strong>è¾“å…¥ API Key</strong>ï¼šç²˜è´´ä½ åˆšæ‰è·å–çš„ Anthropic API Key</li>
<li><strong>é…ç½® Gateway ç«¯å£</strong>ï¼šé»˜è®¤ 18789ï¼Œä¸€èˆ¬ä¸ç”¨æ”¹</li>
<li><strong>é€‰æ‹©æ¸ é“</strong>ï¼šæš‚æ—¶å…ˆè·³è¿‡ï¼Œæˆ‘ä»¬åé¢æ‰‹åŠ¨é…ç½® Telegram</li>
</ol>
<p>å‘å¯¼è¿è¡Œå®Œæˆåï¼ŒOpenClaw Gateway ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚</p>
<h2 data-id="heading-7">é…ç½®ä½ çš„ç¬¬ä¸€ä¸ª Telegram Bot</h2>
<p>æ¥ä¸‹æ¥æ˜¯æœ€æœ‰è¶£çš„éƒ¨åˆ†ï¼šåˆ›å»ºä¸€ä¸ª Telegram botï¼Œè®©å®ƒæ¥å…¥ä½ çš„ OpenClaw Gatewayã€‚</p>
<h3 data-id="heading-8">1. é€šè¿‡ @BotFather åˆ›å»º Bot</h3>
<p>æ‰“å¼€ Telegramï¼Œæœç´¢ <strong>@BotFather</strong>ï¼ˆTelegram å®˜æ–¹çš„ bot ç®¡ç†å·¥å…·ï¼‰ï¼Œç„¶åï¼š</p>
<ol>
<li>å‘é€ <code>/newbot</code> å‘½ä»¤</li>
<li>è¾“å…¥ä½ çš„ bot åç§°ï¼Œæ¯”å¦‚ï¼š<code>My OpenClaw Assistant</code></li>
<li>è¾“å…¥ bot çš„ç”¨æˆ·åï¼ˆå¿…é¡»ä»¥ <code>bot</code> ç»“å°¾ï¼‰ï¼Œæ¯”å¦‚ï¼š<code>my_openclaw_bot</code></li>
<li>åˆ›å»ºæˆåŠŸåï¼Œ<strong>BotFather ä¼šç»™ä½ ä¸€ä¸ª Token</strong>ï¼Œç±»ä¼¼ï¼š
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw</span>
</code></pre>
<strong>åŠ¡å¿…ä¿å­˜å¥½è¿™ä¸ª Token</strong>ï¼</li>
</ol>
<h3 data-id="heading-9">2. é…ç½® OpenClaw</h3>
<p>ç°åœ¨éœ€è¦æŠŠä½ çš„ Telegram bot æ¥å…¥ OpenClawã€‚ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw config edit
</code></pre>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° <code>channels.telegram</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä½ çš„ bot é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">channels:</span>
  <span class="hljs-attr">telegram:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">accounts:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">my-bot</span>
        <span class="hljs-attr">token:</span> <span class="hljs-string">"7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw"</span>
        <span class="hljs-attr">agent:</span> <span class="hljs-string">main</span>
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>id</code>ï¼šç»™è¿™ä¸ª bot å–ä¸ªå†…éƒ¨æ ‡è¯†ç¬¦ï¼Œéšä¾¿èµ·å</li>
<li><code>token</code>ï¼šåˆšæ‰ä» BotFather è·å¾—çš„ bot token</li>
<li><code>agent</code>ï¼šæŒ‡å®šä½¿ç”¨å“ªä¸ª Agentï¼ˆé»˜è®¤çš„ <code>main</code> agent å°±å¤Ÿç”¨ï¼‰</li>
</ul>
<p>ä¿å­˜é…ç½®åï¼Œé‡å¯ Gateway è®©é…ç½®ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw gateway restart
</code></pre>
<h3 data-id="heading-10">3. å¯åŠ¨éªŒè¯</h3>
<p>æ£€æŸ¥ Gateway çŠ¶æ€ï¼Œç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw gateway status
</code></pre>
<p>ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">âœ“</span> <span class="hljs-string">Gateway</span> <span class="hljs-string">is</span> <span class="hljs-string">running</span>
  <span class="hljs-attr">PID:</span> <span class="hljs-number">12345</span>
  <span class="hljs-attr">Port:</span> <span class="hljs-number">18789</span>
  <span class="hljs-attr">Uptime:</span> <span class="hljs-string">5s</span>
</code></pre>
<h2 data-id="heading-11">æµ‹è¯•ä½ çš„ Bot</h2>
<p>ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œæ¥æµ‹è¯•ä¸€ä¸‹ä½ çš„ AI åŠ©æ‰‹å§ï¼</p>
<h3 data-id="heading-12">å‘é€ç¬¬ä¸€æ¡æ¶ˆæ¯</h3>
<ol>
<li>æ‰“å¼€ Telegramï¼Œæœç´¢ä½ åˆšæ‰åˆ›å»ºçš„ botï¼ˆç”¨æˆ·åï¼‰</li>
<li>ç‚¹å‡» <strong>Start</strong> æˆ–å‘é€ <code>/start</code></li>
<li>å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œæ¯”å¦‚ï¼š<code>ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±</code></li>
</ol>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ çš„ bot åº”è¯¥ä¼šå›å¤ä½ ï¼è¿™å°±æ˜¯ Claude é€šè¿‡ OpenClaw Gateway åœ¨å“åº”ã€‚</p>
<h3 data-id="heading-13">æŸ¥çœ‹å®æ—¶æ—¥å¿—</h3>
<p>æƒ³çœ‹åˆ° Gateway å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿæ‰“å¼€æ—¥å¿—ç›‘æ§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw logs --follow
</code></pre>
<p>è¿™ä¼šå®æ—¶æ˜¾ç¤ºæ‰€æœ‰è¯·æ±‚ã€å“åº”ã€é”™è¯¯ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p>
<h3 data-id="heading-14">ä½¿ç”¨ Web æ§åˆ¶é¢æ¿</h3>
<p>OpenClaw è¿˜æä¾›äº†ä¸€ä¸ªå¾ˆå®ç”¨çš„ Web æ§åˆ¶é¢æ¿ã€‚æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">http:<span class="hljs-comment">//localhost:18789</span>
</code></pre>
<p>åœ¨æ§åˆ¶é¢æ¿é‡Œï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥çœ‹æ‰€æœ‰å¯¹è¯å†å²</li>
<li>æ‰‹åŠ¨æµ‹è¯•å¯¹è¯ï¼ˆä¸éœ€è¦é€šè¿‡ Telegramï¼‰</li>
<li>æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å’Œé…ç½®</li>
<li>ç®¡ç†å¤šä¸ª Agent</li>
</ul>
<p>è¿™æ˜¯æœ€æ–¹ä¾¿çš„è°ƒè¯•å·¥å…·ï¼Œå¼ºçƒˆæ¨èè¯•è¯•ã€‚</p>
<h2 data-id="heading-15">å¸¸è§é—®é¢˜</h2>
<p><strong>Q: Bot æ²¡æœ‰å›å¤æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li><code>openclaw gateway status</code> ç¡®è®¤ Gateway æ­£åœ¨è¿è¡Œ</li>
<li><code>openclaw logs --follow</code> æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯</li>
<li>ç¡®è®¤ Telegram token é…ç½®æ­£ç¡®</li>
<li>ç¡®è®¤ Anthropic API Key æœ‰æ•ˆä¸”æœ‰ä½™é¢</li>
</ol>
<p><strong>Q: æƒ³è®© Bot æ›´æ™ºèƒ½æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>OpenClaw æ”¯æŒè‡ªå®šä¹‰ Agent é…ç½®ï¼Œå¯ä»¥ç»™ Agent æ·»åŠ è®°å¿†ã€å·¥å…·ã€è‡ªå®šä¹‰ prompt ç­‰ã€‚è¿™äº›é«˜çº§åŠŸèƒ½æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»ã€‚</p>
<p><strong>Q: å¯ä»¥åŒæ—¶é…ç½®å¤šä¸ª Bot å—ï¼Ÿ</strong></p>
<p>å½“ç„¶å¯ä»¥ï¼åœ¨ <code>channels.telegram.accounts</code> æ•°ç»„é‡Œæ·»åŠ å¤šä¸ªé…ç½®å³å¯ï¼Œæ¯ä¸ª bot å¯ä»¥æŒ‡å®šä¸åŒçš„ agentã€‚</p>
<h2 data-id="heading-16">ä¸‹ä¸€æ­¥</h2>
<p>æ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»æˆåŠŸæ­å»ºäº†ä¸€ä¸ªå®Œå…¨ç”±ä½ æŒæ§çš„ AI åŠ©æ‰‹ã€‚</p>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ¢ç´¢ OpenClaw çš„å¼ºå¤§åŠŸèƒ½ï¼Œå¯ä»¥å…³æ³¨æˆ‘æ¥ä¸‹æ¥çš„ç³»åˆ—æ–‡ç« ï¼š</p>
<ul>
<li><strong>å¤š Agent é…ç½®</strong>ï¼šä¸ºä¸åŒåœºæ™¯åˆ›å»ºä¸“ç”¨åŠ©æ‰‹ï¼ˆå·¥ä½œã€å¨±ä¹ã€å­¦ä¹ ï¼‰</li>
<li><strong>å·¥å…·é›†æˆ</strong>ï¼šè®© AI èƒ½æ‰§è¡Œå‘½ä»¤ã€æœç´¢ç½‘é¡µã€ç®¡ç†æ–‡ä»¶</li>
<li><strong>è®°å¿†ç³»ç»Ÿ</strong>ï¼šè®© AI è®°ä½ä½ çš„åå¥½å’Œå†å²å¯¹è¯</li>
</ul>
<p>ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw.ai%2F" target="_blank" title="https://openclaw.ai/" ref="nofollow noopener noreferrer">OpenClaw å®˜æ–¹æ–‡æ¡£</a> äº†è§£æ›´å¤šé«˜çº§ç”¨æ³•ã€‚</p>
<p>å¦‚æœåœ¨æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚</p>
<hr/>
<p><strong>ç›¸å…³èµ„æº</strong>ï¼š</p>
<ul>
<li>OpenClaw å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw.ai%2F" target="_blank" title="https://openclaw.ai/" ref="nofollow noopener noreferrer">openclaw.ai/</a></li>
<li>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenclaw%2Fopenclaw" target="_blank" title="https://github.com/openclaw/openclaw" ref="nofollow noopener noreferrer">github.com/openclaw/opâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw.ai%2Fdocs" target="_blank" title="https://openclaw.ai/docs" ref="nofollow noopener noreferrer">openclaw.ai/docs</a></li>
<li>Anthropic APIï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.anthropic.com%2F" target="_blank" title="https://console.anthropic.com/" ref="nofollow noopener noreferrer">console.anthropic.com/</a></li>
</ul>
<hr/>
<blockquote>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchenguangliang.com%2Fposts%2Fopenclaw-getting-started" target="_blank" title="https://chenguangliang.com/posts/openclaw-getting-started" ref="nofollow noopener noreferrer">chenguangliang.com/posts/opencâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»¤ç‰Œç¯å¼åŒæ­¥æ‰©å±•]]></title>    <link>https://juejin.cn/post/7605816833191870464</link>    <guid>https://juejin.cn/post/7605816833191870464</guid>    <pubDate>2026-02-13T05:05:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605816833191870464" data-draft-id="7605772919224959010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»¤ç‰Œç¯å¼åŒæ­¥æ‰©å±•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-13T05:05:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="guchen66"/> <meta itemprop="url" content="https://juejin.cn/user/3191200923270394"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»¤ç‰Œç¯å¼åŒæ­¥æ‰©å±•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3191200923270394/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    guchen66
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-13T05:05:08.000Z" title="Fri Feb 13 2026 05:05:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»¤ç‰Œç¯å¼åŒæ­¥æ‰©å±•ï¼šä» Ping-Pong åˆ° ABC äº¤æ›¿æ‰§è¡Œ</h2>
<p>åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å…­ç§å®ç°ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰§è¡Œçš„æ–¹æ³•ã€‚æœ¬æ–‡å°†ä½œä¸ºæ‰©å±•ï¼Œæ¢è®¨å¦‚ä½•å°†è¿™äº›å®ç°æ–¹å¼æ”¹é€ ä¸ºä¸‰ä¸ªçº¿ç¨‹äº¤æ›¿æ‰§è¡Œ "A"ã€"B"ã€"C"ï¼Œå½¢æˆ "ABCABC..." çš„ç¯å½¢åºåˆ—ã€‚</p>
<h3 data-id="heading-1">é—®é¢˜æè¿°</h3>
<p>å®ç°ä¸‰ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å° "A"ã€"B"ã€"C"ï¼Œå…±æ‰“å° 100 è½®ï¼Œå½¢æˆ "ABCABC..." çš„äº¤æ›¿åºåˆ—ã€‚</p>
<h3 data-id="heading-2">å…­ç§å®ç°æ–¹å¼çš„æ”¹é€ åˆ†æ</h3>
<h4 data-id="heading-3">1. ManualResetEvent / AutoResetEvent å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­ å®¹æ˜“</strong></p>
<pre><code class="hljs language-scss" lang="scss">internal class ABC_EventTestCode
{
 Â  Â public static void <span class="hljs-built_in">Print</span>()
 Â   {
 Â  Â  Â  Â <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">a</span> = new <span class="hljs-built_in">AutoResetEvent</span>(true); Â <span class="hljs-comment">// A åˆå§‹å¯ç”¨</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">b</span> = new <span class="hljs-built_in">AutoResetEvent</span>(false); <span class="hljs-comment">// B åˆå§‹ä¸å¯ç”¨</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">var</span> c = new <span class="hljs-built_in">AutoResetEvent</span>(false); <span class="hljs-comment">// C åˆå§‹ä¸å¯ç”¨</span>
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A</span>
 Â  Â  Â  Â Task<span class="hljs-selector-class">.Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.WaitOne</span>(); Â  Â <span class="hljs-comment">// ç­‰å¾… A ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console<span class="hljs-selector-class">.WriteLine</span>("A");
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.Set</span>(); Â  Â  Â  Â <span class="hljs-comment">// é‡Šæ”¾ B ä¿¡å·</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B</span>
 Â  Â  Â  Â Task<span class="hljs-selector-class">.Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.WaitOne</span>(); Â  Â <span class="hljs-comment">// ç­‰å¾… B ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console<span class="hljs-selector-class">.WriteLine</span>("B");
 Â  Â  Â  Â  Â  Â  Â  Â c<span class="hljs-selector-class">.Set</span>(); Â  Â  Â  Â <span class="hljs-comment">// é‡Šæ”¾ C ä¿¡å·</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C</span>
 Â  Â  Â  Â Task<span class="hljs-selector-class">.Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â c<span class="hljs-selector-class">.WaitOne</span>(); Â  Â <span class="hljs-comment">// ç­‰å¾… C ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console<span class="hljs-selector-class">.WriteLine</span>("C");
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.Set</span>(); Â  Â  Â  Â <span class="hljs-comment">// é‡Šæ”¾ A ä¿¡å·ï¼Œå½¢æˆé—­ç¯</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ª <code>AutoResetEvent</code> å¯¹è±¡ï¼Œåˆå§‹çŠ¶æ€åˆ†åˆ«ä¸º <code>true</code>ï¼ˆA å¯ç”¨ï¼‰ã€<code>false</code>ï¼ˆB ä¸å¯ç”¨ï¼‰å’Œ <code>false</code>ï¼ˆC ä¸å¯ç”¨ï¼‰</li>
<li>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå‰è°ƒç”¨ <code>WaitOne()</code> ç­‰å¾…ä¿¡å·</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œé€šè¿‡ <code>Set()</code> é€šçŸ¥ä¸‹ä¸€ä¸ªçº¿ç¨‹ï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹é€šçŸ¥ç¬¬ä¸€ä¸ªçº¿ç¨‹å½¢æˆé—­ç¯</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… æ”¹é€ ç®€å•ï¼Œé€»è¾‘æ¸…æ™°</li>
<li>âœ… AutoResetEvent è‡ªåŠ¨é‡ç½®ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ Reset()</li>
<li>âœ… é€‚ç”¨äºä¼ ç»ŸåŒæ­¥åœºæ™¯</li>
<li>âŒ ä¸æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œä¼šé˜»å¡çº¿ç¨‹</li>
<li>âŒ ManualResetEvent éœ€è¦æ‰‹åŠ¨ Resetï¼Œä¸‰ä¸ªä¿¡å·æ—¶å®¹æ˜“æ¼æ‰</li>
</ul>
<h4 data-id="heading-4">2. SemaphoreSlim å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­ å®¹æ˜“</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ABC_SemaphoreSlimTestCode</span>
{
 Â  Â <span class="hljs-comment">// A åˆå§‹å¯ç”¨(1)ï¼ŒBã€C åˆå§‹ä¸å¯ç”¨(0)</span>
 Â  Â <span class="hljs-keyword">private</span> SemaphoreSlim semA = <span class="hljs-keyword">new</span> SemaphoreSlim(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
 Â  Â <span class="hljs-keyword">private</span> SemaphoreSlim semB = <span class="hljs-keyword">new</span> SemaphoreSlim(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
 Â  Â <span class="hljs-keyword">private</span> SemaphoreSlim semC = <span class="hljs-keyword">new</span> SemaphoreSlim(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
â€‹
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>()</span>
 Â   {
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A</span>
 Â  Â  Â  Â Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> semA.WaitAsync(); Â  <span class="hljs-comment">// ç­‰å¾… A ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"A"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â semB.Release(); Â  Â  Â  Â  Â  <span class="hljs-comment">// é‡Šæ”¾ B ä¿¡å·</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B</span>
 Â  Â  Â  Â Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> semB.WaitAsync(); Â  <span class="hljs-comment">// ç­‰å¾… B ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"B"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â semC.Release(); Â  Â  Â  Â  Â  <span class="hljs-comment">// é‡Šæ”¾ C ä¿¡å·</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C</span>
 Â  Â  Â  Â Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> semC.WaitAsync(); Â  <span class="hljs-comment">// ç­‰å¾… C ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"C"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â semA.Release(); Â  Â  Â  Â  Â  <span class="hljs-comment">// é‡Šæ”¾ A ä¿¡å·ï¼Œå½¢æˆé—­ç¯</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ª <code>SemaphoreSlim</code> å¯¹è±¡ï¼Œåˆå§‹è®¡æ•°åˆ†åˆ«ä¸º 1ï¼ˆA å¯ç”¨ï¼‰ã€0ï¼ˆB ä¸å¯ç”¨ï¼‰å’Œ 0ï¼ˆC ä¸å¯ç”¨ï¼‰</li>
<li>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå‰è°ƒç”¨ <code>WaitAsync()</code> ç­‰å¾…ä¿¡å·</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œé€šè¿‡ <code>Release()</code> å¢åŠ ä¸‹ä¸€ä¸ªä¿¡å·é‡çš„è®¡æ•°ï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ç¬¬ä¸€ä¸ªä¿¡å·é‡å½¢æˆé—­ç¯</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… æ”¹é€ ç®€å•ï¼Œä»£ç ç®€æ´</li>
<li>âœ… æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œä½¿ç”¨ <code>await</code> è¯­æ³•æ›´ç°ä»£</li>
<li>âœ… è½»é‡çº§ï¼Œæ€§èƒ½è¾ƒå¥½</li>
<li>âœ… æœ€é€‚åˆ ABC åœºæ™¯ï¼Œä»£ç æ¸…æ™°æ˜“ç»´æŠ¤</li>
<li>âœ… æ”¯æŒè¶…æ—¶å’Œå–æ¶ˆæ“ä½œ</li>
</ul>
<h4 data-id="heading-5">3. TaskCompletionSource å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­â­ ä¸­ç­‰</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ABC_TaskCompletionSourceTestCode</span>
{
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">PrintAsync</span>()</span>
 Â   {
 Â  Â  Â  Â <span class="hljs-keyword">var</span> tcsA = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
 Â  Â  Â  Â <span class="hljs-keyword">var</span> tcsB = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
 Â  Â  Â  Â <span class="hljs-keyword">var</span> tcsC = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// åˆå§‹è®© A å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â tcsA.SetResult(<span class="hljs-literal">true</span>);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskA = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> tcsA.Task; Â  Â  <span class="hljs-comment">// ç­‰å¾… A ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"A"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â tcsA = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
 Â  Â  Â  Â  Â  Â  Â  Â tcsB.SetResult(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ B å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskB = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> tcsB.Task; Â  Â  <span class="hljs-comment">// ç­‰å¾… B ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"B"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â tcsB = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
 Â  Â  Â  Â  Â  Â  Â  Â tcsC.SetResult(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ C å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskC = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> tcsC.Task; Â  Â  <span class="hljs-comment">// ç­‰å¾… C ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"C"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â tcsC = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;<span class="hljs-built_in">bool</span>&gt;(TaskCreationOptions.RunContinuationsAsynchronously);
 Â  Â  Â  Â  Â  Â  Â  Â tcsA.SetResult(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ A å¯ä»¥æ‰§è¡Œï¼Œå½¢æˆé—­ç¯</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-keyword">await</span> Task.WhenAll(taskA, taskB, taskC);
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ª <code>TaskCompletionSource</code> å¯¹è±¡</li>
<li>åˆå§‹æ—¶ï¼Œå°† A çš„ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆï¼Œå…è®¸ A ç«‹å³æ‰§è¡Œ</li>
<li>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå‰ç­‰å¾…å¯¹åº”çš„ <code>Task</code> å®Œæˆ</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œåˆ›å»ºæ–°çš„ <code>TaskCompletionSource</code> å¯¹è±¡ï¼Œå¹¶å°†ä¸‹ä¸€ä¸ªçº¿ç¨‹çš„ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹é€šçŸ¥ç¬¬ä¸€ä¸ªçº¿ç¨‹å½¢æˆé—­ç¯</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… æ”¯æŒå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li>
<li>âœ… å¯ä»¥ä¼ é€’å®é™…æ•°æ®ï¼Œä¸ä»…ä»…æ˜¯ä¿¡å·</li>
<li>âŒ æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦åˆ›å»ºä¸‰ä¸ªæ–°çš„ <code>TaskCompletionSource</code> å¯¹è±¡ï¼Œå†…å­˜å¼€é”€è¾ƒå¤§</li>
<li>âŒ ä»£ç ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦ç†è§£å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li>
<li>âŒ å¯¹äºçº¯ä¿¡å·æ§åˆ¶åœºæ™¯ï¼Œæœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€</li>
</ul>
<h4 data-id="heading-6">4. Channel å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­ å®¹æ˜“</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ABC_ChannelTestCode</span>
{
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">PrintAsync</span>()</span>
 Â   {
 Â  Â  Â  Â <span class="hljs-keyword">var</span> chA = Channel.CreateUnbounded&lt;<span class="hljs-built_in">bool</span>&gt;();
 Â  Â  Â  Â <span class="hljs-keyword">var</span> chB = Channel.CreateUnbounded&lt;<span class="hljs-built_in">bool</span>&gt;();
 Â  Â  Â  Â <span class="hljs-keyword">var</span> chC = Channel.CreateUnbounded&lt;<span class="hljs-built_in">bool</span>&gt;();
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// åˆå§‹è®© A å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â <span class="hljs-keyword">await</span> chA.Writer.WriteAsync(<span class="hljs-literal">true</span>);
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskA = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chA.Reader.ReadAsync(); <span class="hljs-comment">// ç­‰å¾… A ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"A"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chB.Writer.WriteAsync(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ B å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskB = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chB.Reader.ReadAsync(); <span class="hljs-comment">// ç­‰å¾… B ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"B"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chC.Writer.WriteAsync(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ C å¯ä»¥æ‰§è¡Œ</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskC = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chC.Reader.ReadAsync(); <span class="hljs-comment">// ç­‰å¾… C ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">"C"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> chA.Writer.WriteAsync(<span class="hljs-literal">true</span>); <span class="hljs-comment">// é€šçŸ¥ A å¯ä»¥æ‰§è¡Œï¼Œå½¢æˆé—­ç¯</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-keyword">await</span> Task.WhenAll(taskA, taskB, taskC);
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ª <code>Channel</code> å¯¹è±¡åˆ›å»ºæ— ç•Œé€šé“</li>
<li>åˆå§‹æ—¶ï¼Œå‘ A é€šé“å†™å…¥æ•°æ®ï¼Œå…è®¸ A ç«‹å³æ‰§è¡Œ</li>
<li>æ¯ä¸ªçº¿ç¨‹ä»è‡ªå·±çš„é€šé“è¯»å–æ•°æ®ï¼ˆç­‰å¾…ä¿¡å·ï¼‰</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œå‘ä¸‹ä¸€ä¸ªé€šé“å†™å…¥æ•°æ®ï¼ˆå‘é€ä¿¡å·ï¼‰ï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹å‘ç¬¬ä¸€ä¸ªé€šé“å†™å…¥æ•°æ®å½¢æˆé—­ç¯</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… ç°ä»£å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼Œè®¾è®¡ä¼˜é›…</li>
<li>âœ… é«˜æ€§èƒ½ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</li>
<li>âœ… å¯ä»¥è½»æ¾æ‰©å±•ä¸ºä¼ é€’å¤æ‚æ•°æ®</li>
<li>âŒ éœ€è¦ .NET Core 3.0+ æˆ– .NET 5+ æ”¯æŒ</li>
<li>âŒ å¯¹äºçº¯ä¿¡å·æ§åˆ¶åœºæ™¯ï¼Œå¯èƒ½æ˜¾å¾—è¿‡äºå¤æ‚</li>
</ul>
<h4 data-id="heading-7">5. Monitor/lock å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­â­â­ å›°éš¾</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">internal <span class="hljs-keyword">class</span> <span class="hljs-title class_">ABC_MonitorLockTestCode</span>
{
 Â  Â <span class="hljs-keyword">private</span> object lockObj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>();
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> turn = <span class="hljs-number">0</span>; <span class="hljs-comment">// 0=A, 1=B, 2=C</span>
â€‹
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span>
 Â   </span>{
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A</span>
 Â  Â  Â  Â <span class="hljs-built_in">Task</span>.<span class="hljs-built_in">Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">lock</span> (lockObj)
 Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">while</span> (turn != <span class="hljs-number">0</span>) <span class="hljs-comment">// ç­‰å¾…è‡ªå·±çš„å›åˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">Wait</span>(lockObj); <span class="hljs-comment">// é‡Šæ”¾é”å¹¶ç­‰å¾…ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">Console</span>.<span class="hljs-built_in">WriteLine</span>(<span class="hljs-string">"A"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â turn = <span class="hljs-number">1</span>; <span class="hljs-comment">// åˆ‡æ¢åˆ° B å›åˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">PulseAll</span>(lockObj); <span class="hljs-comment">// å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹</span>
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B</span>
 Â  Â  Â  Â <span class="hljs-built_in">Task</span>.<span class="hljs-built_in">Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">lock</span> (lockObj)
 Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">while</span> (turn != <span class="hljs-number">1</span>) <span class="hljs-comment">// ç­‰å¾…è‡ªå·±çš„å›åˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">Wait</span>(lockObj); <span class="hljs-comment">// é‡Šæ”¾é”å¹¶ç­‰å¾…ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">Console</span>.<span class="hljs-built_in">WriteLine</span>(<span class="hljs-string">"B"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â turn = <span class="hljs-number">2</span>; <span class="hljs-comment">// åˆ‡æ¢åˆ° C å›åˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">PulseAll</span>(lockObj); <span class="hljs-comment">// å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹</span>
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C</span>
 Â  Â  Â  Â <span class="hljs-built_in">Task</span>.<span class="hljs-built_in">Run</span>(() =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">lock</span> (lockObj)
 Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">while</span> (turn != <span class="hljs-number">2</span>) <span class="hljs-comment">// ç­‰å¾…è‡ªå·±çš„å›åˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">Wait</span>(lockObj); <span class="hljs-comment">// é‡Šæ”¾é”å¹¶ç­‰å¾…ä¿¡å·</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">Console</span>.<span class="hljs-built_in">WriteLine</span>(<span class="hljs-string">"C"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â turn = <span class="hljs-number">0</span>; <span class="hljs-comment">// åˆ‡æ¢åˆ° A å›åˆï¼Œå½¢æˆé—­ç¯</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Monitor.<span class="hljs-built_in">PulseAll</span>(lockObj); <span class="hljs-comment">// å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹</span>
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸€ä¸ªå…±äº«çš„ <code>lockObj</code> ä½œä¸ºåŒæ­¥å¯¹è±¡</li>
<li>ä½¿ç”¨ä¸€ä¸ªæ•´æ•°å˜é‡ <code>turn</code> æ¥è·Ÿè¸ªå½“å‰åº”è¯¥æ‰§è¡Œçš„çº¿ç¨‹ï¼ˆ0=A, 1=B, 2=Cï¼‰</li>
<li>æ¯ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œå‰æ£€æŸ¥æ˜¯å¦æ˜¯è‡ªå·±çš„å›åˆï¼Œå¦‚æœä¸æ˜¯åˆ™ç­‰å¾…</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œåˆ‡æ¢å›åˆçŠ¶æ€å¹¶å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… ä¸éœ€è¦é¢å¤–çš„åŒæ­¥åŸè¯­ï¼Œåªä½¿ç”¨ .NET å†…ç½®çš„ Monitor æœºåˆ¶</li>
<li>âŒ æ”¹é€ å¤æ‚ï¼Œä»£ç å†—é•¿</li>
<li>âŒ ä¸æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œä¼šé˜»å¡çº¿ç¨‹</li>
<li>âŒ éœ€è¦ä½¿ç”¨ <code>PulseAll()</code> å”¤é†’æ‰€æœ‰çº¿ç¨‹ï¼Œæ€§èƒ½è¾ƒå·®</li>
<li>âŒ ä¸‰ä¸ªçº¿ç¨‹ç«äº‰é”ï¼Œå®¹æ˜“å¯¼è‡´ä¸å¿…è¦çš„å”¤é†’</li>
<li>âŒ ä»£ç å¤æ‚åº¦æŒ‡æ•°å¢é•¿ï¼Œéš¾ä»¥ç»´æŠ¤</li>
</ul>
<h4 data-id="heading-8">6. æ··åˆæ–¹æ¡ˆï¼šæµæ°´çº¿ Channel å®ç°</h4>
<p><strong>æ”¹é€ éš¾åº¦ï¼šâ­â­ å®¹æ˜“</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ABC_PipelineChannelTestCode</span>
{
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">PrintAsync</span>()</span>
 Â   {
 Â  Â  Â  Â <span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªé€šé“ï¼Œå½¢æˆ A â†’ B â†’ C çš„æµæ°´çº¿</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> abChannel = Channel.CreateUnbounded&lt;<span class="hljs-built_in">string</span>&gt;();
 Â  Â  Â  Â <span class="hljs-keyword">var</span> bcChannel = Channel.CreateUnbounded&lt;<span class="hljs-built_in">string</span>&gt;();
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ A - ç”Ÿäº§æ•°æ®</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskA = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">string</span> data = <span class="hljs-string">$"A-<span class="hljs-subst">{i}</span>"</span>;
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">$"A: <span class="hljs-subst">{data}</span>"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> abChannel.Writer.WriteAsync(data); <span class="hljs-comment">// ä¼ é€’ç»™ B</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â abChannel.Writer.Complete(); <span class="hljs-comment">// å®Œæˆå†™å…¥</span>
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ B - å¤„ç†æ•°æ®</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskB = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> data <span class="hljs-keyword">in</span> abChannel.Reader.ReadAllAsync())
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">string</span> processedData = <span class="hljs-string">$"B-<span class="hljs-subst">{data}</span>"</span>;
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">$"B: <span class="hljs-subst">{processedData}</span>"</span>);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> bcChannel.Writer.WriteAsync(processedData); <span class="hljs-comment">// ä¼ é€’ç»™ C</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â bcChannel.Writer.Complete(); <span class="hljs-comment">// å®Œæˆå†™å…¥</span>
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// çº¿ç¨‹ C - æ¶ˆè´¹æ•°æ®</span>
 Â  Â  Â  Â <span class="hljs-keyword">var</span> taskC = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> data <span class="hljs-keyword">in</span> bcChannel.Reader.ReadAllAsync())
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">string</span> finalData = <span class="hljs-string">$"C-<span class="hljs-subst">{data}</span>"</span>;
 Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(<span class="hljs-string">$"C: <span class="hljs-subst">{finalData}</span>"</span>);
 Â  Â  Â  Â  Â   }
 Â  Â  Â   });
â€‹
 Â  Â  Â  Â <span class="hljs-keyword">await</span> Task.WhenAll(taskA, taskB, taskC);
 Â   }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸¤ä¸ª <code>Channel</code> å¯¹è±¡åˆ›å»ºæµæ°´çº¿</li>
<li>çº¿ç¨‹ A ç”Ÿäº§æ•°æ®å¹¶å†™å…¥ç¬¬ä¸€ä¸ªé€šé“</li>
<li>çº¿ç¨‹ B ä»ç¬¬ä¸€ä¸ªé€šé“è¯»å–æ•°æ®ï¼Œå¤„ç†åå†™å…¥ç¬¬äºŒä¸ªé€šé“</li>
<li>çº¿ç¨‹ C ä»ç¬¬äºŒä¸ªé€šé“è¯»å–æ•°æ®å¹¶æ¶ˆè´¹</li>
</ul>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… éå¸¸é€‚åˆéœ€è¦ä¼ é€’æ•°æ®çš„åœºæ™¯</li>
<li>âœ… ç°ä»£å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼Œè®¾è®¡ä¼˜é›…</li>
<li>âœ… é«˜æ€§èƒ½ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</li>
<li>âœ… ä»£ç é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£</li>
<li>âŒ å¯¹äºçº¯ä¿¡å·æ§åˆ¶åœºæ™¯ï¼Œå¯èƒ½æ˜¾å¾—è¿‡äºå¤æ‚</li>
<li>âŒ éœ€è¦ .NET Core 3.0+ æˆ– .NET 5+ æ”¯æŒ</li>
</ul>
<h3 data-id="heading-9">å®ç°æ–¹å¼å¯¹æ¯”</h3>















































<table><thead><tr><th>å®ç°æ–¹å¼</th><th>æ”¹é€ éš¾åº¦</th><th>ABC é€‚åˆåº¦</th><th>æ¨èåœºæ™¯</th></tr></thead><tbody><tr><td>AutoResetEvent</td><td>â­â­</td><td>â­â­â­</td><td>ä¼ ç»ŸåŒæ­¥ï¼Œæ—  async/await</td></tr><tr><td>SemaphoreSlim</td><td>â­â­</td><td>â­â­â­â­â­</td><td>ç°ä»£å¼‚æ­¥ï¼Œé¦–é€‰</td></tr><tr><td>TaskCompletionSource</td><td>â­â­â­</td><td>â­â­</td><td>éœ€ä¼ é€’å¤æ‚æ•°æ®</td></tr><tr><td>Channel</td><td>â­â­</td><td>â­â­â­</td><td>é«˜å¹¶å‘+æ•°æ®ä¼ é€’</td></tr><tr><td>Monitor/lock</td><td>â­â­â­â­</td><td>â­</td><td>ç®€å•åœºæ™¯ï¼Œé¿å…å¤šä¿¡å·</td></tr><tr><td>æµæ°´çº¿ Channel</td><td>â­â­</td><td>â­â­â­â­â­</td><td>æ•°æ®æµè½¬ï¼ˆAâ†’Bâ†’Cï¼‰</td></tr></tbody></table>
<h3 data-id="heading-10">é€šç”¨æ¨¡å¼ï¼šæ‰©å±•åˆ° N ä¸ªçº¿ç¨‹</h3>
<p>ä½¿ç”¨ <code>SemaphoreSlim</code> å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•åˆ° N ä¸ªçº¿ç¨‹çš„äº¤æ›¿æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªé€šç”¨çš„å®ç°æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">internal class NThreadsSemaphoreSlimTestCode
{
 Â  Â private List&lt;SemaphoreSlim&gt; semaphores<span class="hljs-comment">;</span>
 Â  Â private int threadCount<span class="hljs-comment">;</span>
â€‹
 Â  Â public NThreadsSemaphoreSlimTestCode(int count)
 Â   {
 Â  Â  Â  Â <span class="hljs-attr">threadCount</span> = count<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">semaphores</span> = new List&lt;SemaphoreSlim&gt;()<span class="hljs-comment">;</span>
 Â  Â  Â  Â 
 Â  Â  Â  Â // åˆå§‹åŒ–ä¿¡å·é‡ï¼Œç¬¬ä¸€ä¸ªåˆå§‹å¯ç”¨ï¼Œå…¶ä½™åˆå§‹ä¸å¯ç”¨
 Â  Â  Â  Â for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; count; i++)</span>
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â semaphores.Add(new SemaphoreSlim(<span class="hljs-attr">i</span> == <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>, <span class="hljs-number">1</span>))<span class="hljs-comment">;</span>
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â public void Print()
 Â   {
 Â  Â  Â  Â for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; threadCount; i++)</span>
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â int <span class="hljs-attr">threadIndex</span> = i<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â char <span class="hljs-attr">threadChar</span> = (char)(<span class="hljs-string">'A'</span> + threadIndex)<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â Task.Run(async () =&gt;
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â for (int <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; 100; j++)</span>
 Â  Â  Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // ç­‰å¾…è‡ªå·±çš„ä¿¡å·
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â await semaphores<span class="hljs-section">[threadIndex]</span>.WaitAsync()<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Console.WriteLine(threadChar)<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // é‡Šæ”¾ä¸‹ä¸€ä¸ªçº¿ç¨‹çš„ä¿¡å·ï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ç¬¬ä¸€ä¸ªçº¿ç¨‹çš„ä¿¡å·
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â int <span class="hljs-attr">nextIndex</span> = (threadIndex + <span class="hljs-number">1</span>) % threadCount<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â semaphores<span class="hljs-section">[nextIndex]</span>.Release()<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   })<span class="hljs-comment">;</span>
 Â  Â  Â   }
 Â   }
}
â€‹
// ä½¿ç”¨ç¤ºä¾‹ï¼š
// var <span class="hljs-attr">nThreadsTest</span> = new NThreadsSemaphoreSlimTestCode(<span class="hljs-number">5</span>)<span class="hljs-comment">; // 5ä¸ªçº¿ç¨‹ï¼Œäº¤æ›¿æ‰“å° ABCDE</span>
// nThreadsTest.Print()<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-11">ç»“è®º</h3>
<p>ä»ä¸¤ç§çº¿ç¨‹æ‰©å±•åˆ°ä¸‰ç§çº¿ç¨‹ï¼ˆABCï¼‰çš„äº¤æ›¿æ‰§è¡Œï¼Œä¸åŒå®ç°æ–¹å¼çš„è¡¨ç°å·®å¼‚æ›´åŠ æ˜æ˜¾ï¼š</p>
<ol start="0">
<li><strong>SemaphoreSlim</strong> ä»ç„¶æ˜¯æœ€ä½³é€‰æ‹©ï¼Œä»£ç ç®€æ´ã€æ”¯æŒå¼‚æ­¥ã€æ€§èƒ½è‰¯å¥½ï¼Œå°¤å…¶æ˜¯åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ä¼˜åŠ¿æ›´åŠ çªå‡ºã€‚</li>
<li><strong>AutoResetEvent</strong> ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ”¹é€ ç®€å•ï¼Œé€‚åˆä¼ ç»ŸåŒæ­¥åœºæ™¯ã€‚</li>
<li><strong>Channel</strong> åœ¨éœ€è¦ä¼ é€’æ•°æ®çš„åœºæ™¯ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œå°¤å…¶æ˜¯æµæ°´çº¿æ¨¡å¼éå¸¸é€‚åˆæ•°æ®å¤„ç†æµç¨‹ã€‚</li>
<li><strong>TaskCompletionSource</strong> è™½ç„¶å¯ä»¥å®ç°ï¼Œä½†åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ä»£ç è†¨èƒ€ä¸¥é‡ï¼Œå†…å­˜å¼€é”€è¾ƒå¤§ã€‚</li>
<li><strong>Monitor/lock</strong> åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹è¡¨ç°æœ€å·®ï¼Œä»£ç å¤æ‚ï¼Œæ€§èƒ½è¾ƒå·®ï¼Œä¸æ¨èä½¿ç”¨ã€‚</li>
</ol>
<p>é€‰æ‹©å“ªç§å®ç°æ–¹å¼ï¼Œå–å†³äºå…·ä½“çš„åœºæ™¯éœ€æ±‚ï¼š</p>
<ul>
<li><strong>çº¯ä¿¡å·æ§åˆ¶</strong>ï¼ˆABCABCï¼‰ï¼šé¦–é€‰ <code>SemaphoreSlim</code>ï¼Œä»£ç æœ€ç®€æ´ï¼Œæ€§èƒ½æœ€å¥½ã€‚</li>
<li><strong>éœ€è¦ä¼ é€’æ•°æ®</strong>ï¼šé¦–é€‰ <code>Channel</code> æµæ°´çº¿æ¨¡å¼ï¼Œå°¤å…¶æ˜¯åœ¨ Aâ†’Bâ†’C éœ€è¦å¤„ç†æ•°æ®çš„åœºæ™¯ã€‚</li>
<li><strong>ä¼ ç»ŸåŒæ­¥åœºæ™¯</strong>ï¼šé€‰æ‹© <code>AutoResetEvent</code>ï¼Œå…¼å®¹æ€§å¥½ï¼Œæ˜“äºç†è§£ã€‚</li>
<li><strong>ç‰¹æ®Šéœ€æ±‚</strong>ï¼šæ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©å…¶ä»–å®ç°æ–¹å¼ã€‚</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„æ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»¤ç‰Œç¯å¼åŒæ­¥æ¨¡å¼çš„çµæ´»æ€§å’Œå¤šæ ·æ€§ï¼Œä»¥åŠä¸åŒåŒæ­¥åŸè¯­åœ¨ä¸åŒåœºæ™¯ä¸‹çš„é€‚ç”¨æƒ…å†µã€‚äº†è§£è¿™äº›å®ç°æ–¹å¼ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åœ¨å®é™…é¡¹ç›®ä¸­é€‰æ‹©åˆé€‚çš„åŒæ­¥æœºåˆ¶ï¼Œç¼–å†™é«˜æ•ˆã€å¯é çš„å¹¶å‘ä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>